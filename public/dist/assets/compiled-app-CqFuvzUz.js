const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cpCanvasController-Ccl4MLeF.js","assets/canvasController-D8-avucL.js","assets/dbmCanvasController-DiEiAO_-.js","assets/eaCanvasController-DVyakhZQ.js","assets/emCanvasController-DX95SWjb.js","assets/goalCanvasController-Ceh-U3nt.js","assets/insightsCanvasController-Bk-Bsq_B.js","assets/lbmCanvasController-1PjdkgLg.js","assets/leanCanvasController-DFsadmWM.js","assets/risksCanvasController-B1VoB3S7.js","assets/obmCanvasController-90KSxcTx.js","assets/retroCanvasController-DTX3tACY.js","assets/risksCanvasController-Lj7LPQaf.js","assets/sbCanvasController-Y6LrJ_Is.js","assets/smCanvasController-B7xYzqOP.js","assets/sqCanvasController-BGQa_nhV.js","assets/swotCanvasController-D5UvW75t.js","assets/valueCanvasController-DSAiosvP.js"])))=>i.map(i=>d[i]);
import{_ as A}from"./preload-helper-51J786ve.js";import"./canvasController-D8-avucL.js";(function(){var n={duration:3200,close:"Ã—",location:"default",style:"success",size:"medium"},t={success:{bg:"var(--green)",color:"#fff",border:"var(--green)"},error:{bg:"var(--red)",color:"#fff",border:"var(--red)"},warning:{bg:"var(--yellow)",color:"#333",border:"var(--yellow)"},notice:{bg:"var(--accent1)",color:"#fff",border:"var(--accent1)"},default:{bg:"var(--secondary-background)",color:"var(--primary-font-color)",border:"var(--main-border-color)"}},o=!1;function c(){if(!o){o=!0;var e=document.createElement("style");e.textContent="#growls-default {  position: fixed; top: 70px; right: 20px; z-index: 100060;  display: flex; flex-direction: column; gap: 8px;  pointer-events: none; max-width: 380px;}.lt-toast {  pointer-events: auto; padding: 12px 36px 12px 16px; border-radius: var(--box-radius, 8px);  box-shadow: var(--regular-shadow, 0 2px 8px rgba(0,0,0,.15)); font-size: var(--font-size-s, 13px);  line-height: 1.4; position: relative; overflow: hidden;  opacity: 0; transform: translateX(30px);  transition: opacity .25s ease, transform .25s ease;}.lt-toast.lt-toast-visible {  opacity: 1; transform: translateX(0);}.lt-toast.lt-toast-outgoing {  opacity: 0; transform: translateX(30px);}.lt-toast-close {  position: absolute; top: 8px; right: 10px; cursor: pointer;  font-size: 18px; line-height: 1; opacity: .7;}.lt-toast-close:hover { opacity: 1; }.lt-toast-title {  font-weight: 600; margin-bottom: 2px;}.lt-toast-message { word-break: break-word; }",document.head.appendChild(e)}}function r(e){var a="growls-"+e,i=document.getElementById(a);return i||(i=document.createElement("div"),i.id=a,document.body.appendChild(i)),i}function d(e){c(),e=e||{};var a={};for(var i in n)a[i]=n[i];for(var m in e)a[m]=e[m];var v=t[a.style]||t.default,_=r(a.location),k=document.createElement("div");k.className="lt-toast",k.style.background=v.bg,k.style.color=v.color,k.style.borderLeft="4px solid "+v.border,k.innerHTML='<div class="lt-toast-close">'+a.close+"</div>"+(a.title?'<div class="lt-toast-title">'+a.title+"</div>":"")+'<div class="lt-toast-message">'+(a.message||"")+"</div>",_.appendChild(k);var g=k.querySelector(".lt-toast-close");g.addEventListener("click",function(H){H.stopPropagation(),I(k)}),k.addEventListener("contextmenu",function(H){H.preventDefault(),I(k)});var C=null;k.addEventListener("mouseenter",function(){C&&(clearTimeout(C),C=null)}),k.addEventListener("mouseleave",function(){R()}),k.offsetHeight,k.classList.add("lt-toast-visible");function R(){C=setTimeout(function(){I(k)},a.duration)}function I(H){C&&(clearTimeout(C),C=null),H.classList.remove("lt-toast-visible"),H.classList.add("lt-toast-outgoing"),H.addEventListener("transitionend",function(){H.parentNode&&H.parentNode.removeChild(H)}),setTimeout(function(){H.parentNode&&H.parentNode.removeChild(H)},500)}R()}var s=window.leantime||(window.leantime={});s.toast={show:d};var l=function(e){return d(e)};l.error=function(e){return e=e||{},e.style="error",e.title=e.title||"Error!",d(e)},l.notice=function(e){return e=e||{},e.style="notice",e.title=e.title||"Notice!",d(e)},l.warning=function(e){return e=e||{},e.style="warning",e.title=e.title||"Warning!",d(e)},window._growlShim=l,typeof jQuery<"u"?jQuery.growl=l:document.addEventListener("DOMContentLoaded",function(){typeof jQuery<"u"&&(jQuery.growl=l)})})();window.leantime=window.leantime||{};window.leantime.companyColor=(document.querySelector("meta[name=theme-color]")||{}).content||null;window.leantime.colorScheme=(document.querySelector("meta[name=color-scheme]")||{}).content||null;window.leantime.theme=(document.querySelector("meta[name=theme]")||{}).content||null;window.leantime.appUrl=(document.querySelector("meta[name=identifier-URL]")||{}).content||null;window.leantime.version=(document.querySelector("meta[name=leantime-version]")||{}).content||null;var N=window.leantime;N.replaceSVGColors=function(){N.companyColor!="#1b75bb"&&document.querySelectorAll("svg > *").forEach(function(n){n.getAttribute("fill")=="#1b75bb"&&n.setAttribute("fill",N.companyColor)})};N.handleAsyncResponse=function(n){n!==void 0&&n.result!==void 0&&n.result.html!==void 0&&document.body.insertAdjacentHTML("beforeend",n.result.html)};document.addEventListener("DOMContentLoaded",function(){N.replaceSVGColors(),document.querySelectorAll(".confetti").forEach(function(o){o.addEventListener("click",function(){confetti.start()})}),tippy("[data-tippy-content]");var n=document.querySelector(".login-alert .alert");if(n&&n.textContent!==""){var t=document.querySelector(".login-alert");t&&(t.style.display="")}document.addEventListener("scroll",function(){document.documentElement.dataset.scroll=window.scrollY})});htmx.onLoad(function(n){tippy("[data-tippy-content]"),N.replaceSVGColors()});window.addEventListener("HTMX.ShowNotification",function(n){fetch(N.appUrl+"/notifications/getLatestGrowl",{credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"}}).then(function(t){return t.text()}).then(function(t){var o=JSON.parse(t);o.notification&&o.notification!=="undefined"&&N.toast.show({message:o.notification,style:o.notificationType})})});document.addEventListener("click",function(n){var t=n.target.closest('[data-toggle="dropdown"]');if(document.querySelectorAll(".dropdown.open, .btn-group.open, .inlineDropDownContainer.open, .open > .dropdown-menu").forEach(function(c){var r=c.classList.contains("dropdown-menu")?c.parentElement:c;(!t||!r.contains(t))&&r.classList.remove("open")}),t){n.preventDefault(),n.stopPropagation();var o=t.closest(".dropdown, .btn-group, .inlineDropDownContainer")||t.parentElement;o&&o.classList.toggle("open")}});document.addEventListener("keydown",function(n){n.key==="Escape"&&document.querySelectorAll(".dropdown.open, .btn-group.open, .inlineDropDownContainer.open").forEach(function(t){t.classList.remove("open")})});(function(){var n=document.createElement("style");n.textContent=".modal.in {  display: block !important; position: fixed; top: 0; left: 0; right: 0; bottom: 0;  z-index: 100050; overflow-x: hidden; overflow-y: auto;}.modal .modal-dialog {  position: relative; margin: 60px auto; max-width: 600px;}.modal .modal-dialog.modal-lg { max-width: 900px; }.modal .modal-content {  background: var(--secondary-background, #fff); border-radius: var(--box-radius, 8px);  box-shadow: var(--large-shadow, 0 4px 20px rgba(0,0,0,.2)); padding: 20px;}.modal .modal-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; }.modal .modal-header .close { background: none; border: none; font-size: 24px; cursor: pointer; color: var(--primary-font-color); }.modal .modal-body { margin-bottom: 15px; }.modal .modal-footer { display: flex; justify-content: flex-end; gap: 8px; }",document.head.appendChild(n);var t=null;function o(r){r&&(r.style.display="block",r.offsetHeight,r.classList.add("in"),document.body.classList.add("modal-open"),t||(t=document.createElement("div"),t.className="modal-backdrop fade in",t.style.cssText="display:block;position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:100049;",document.body.appendChild(t),t.addEventListener("click",function(){var d=document.querySelector(".modal.in");d&&c(d)})))}function c(r){r&&(r.classList.remove("in"),r.style.display="none",document.body.classList.remove("modal-open"),t&&t.parentNode&&(t.parentNode.removeChild(t),t=null))}document.addEventListener("click",function(r){var d=r.target.closest('[data-dismiss="modal"]');if(d){var s=d.closest(".modal");s&&c(s)}}),document.addEventListener("keydown",function(r){if(r.key==="Escape"){var d=document.querySelector(".modal.in");d&&c(d)}}),typeof jQuery<"u"&&(jQuery.fn.modal=function(r){return this.each(function(){r==="show"?o(this):r==="hide"?c(this):r==="toggle"&&(this.classList.contains("in")?c(this):o(this))}),this}),window.leantime=window.leantime||{},leantime.bootstrapModal={show:o,hide:c}})();typeof jQuery<"u"&&(jQuery.fn.tabs=function(n){return this.each(function(){leantime.tabsController.initTabs(this,n)}),this});(function(){typeof jQuery>"u"||(jQuery.fn.chosen=function(n){return this.each(function(){var t=this;if(t.tagName==="SELECT"){if(t._slimSelect){try{t._slimSelect.destroy()}catch{}t._slimSelect=null}if(n!=="destroy"&&typeof SlimSelect<"u")try{var o=t.hasAttribute("multiple");t._slimSelect=new SlimSelect({select:t,showSearch:t.options&&t.options.length>8,allowDeselect:o&&!t.hasAttribute("required")})}catch{}}}),this})})();leantime.tabsController=function(){function n(s,l){if(!(!s||s._tabsInitialized)){l=l||{};var e=s.querySelector("ul");if(e){e.setAttribute("role","tablist");var a=Array.prototype.slice.call(e.querySelectorAll(':scope > li > a[href^="#"]')),i=[];if(a.forEach(function(g){var C=s.querySelector(g.getAttribute("href"));C&&i.push(C)}),i.length!==0){var m=l.persist||s.dataset.tabsPersist||null,v=l.persistKey||s.dataset.tabsPersistKey||"ltTab_"+(s.id||""),_=typeof l.active=="number"?l.active:0;s.dataset.tabsActive!==void 0&&typeof l.active!="number"&&(_=parseInt(s.dataset.tabsActive,10)||0);var k=o(m,v);k&&a.forEach(function(g,C){g.getAttribute("href")==="#"+k&&(_=C)}),(_<0||_>=i.length)&&(_=0),i.forEach(function(g,C){g.setAttribute("role","tabpanel"),g.style.display=C===_?"":"none"}),a.forEach(function(g,C){var R=g.parentElement;g.setAttribute("role","tab"),g.setAttribute("aria-controls",g.getAttribute("href").substring(1)),C===_?(R.classList.add("active"),g.setAttribute("aria-selected","true")):(R.classList.remove("active","ui-tabs-active","ui-state-active"),g.setAttribute("aria-selected","false"))}),a.forEach(function(g,C){g.addEventListener("click",function(R){R.preventDefault(),R.stopPropagation(),t(s,a,i,C,l,m,v)})}),s.style.visibility="",s._tabsInitialized=!0,typeof l.create=="function"&&l.create.call(s,{},{tab:a[_],panel:i[_]})}}}}function t(s,l,e,a,i,m,v){e.forEach(function(g){g.style.display="none"}),l.forEach(function(g){var C=g.parentElement;C.classList.remove("active","ui-tabs-active","ui-state-active"),g.setAttribute("aria-selected","false")}),e[a]&&(e[a].style.display="");var _=l[a].parentElement;_.classList.add("active"),l[a].setAttribute("aria-selected","true");var k=l[a].getAttribute("href").substring(1);c(m,v,k),typeof i.activate=="function"&&i.activate.call(s,{},{newTab:l[a],newPanel:e[a]})}function o(s,l){if(s==="url")try{var e=new URL(window.location.href);return e.searchParams.get("tab")||null}catch{return null}if(s==="hash"){var a=window.location.hash;return a?a.substring(1):null}if(s==="localStorage")try{return localStorage.getItem(l)||null}catch{return null}return null}function c(s,l,e){if(s==="url")try{var a=new URL(window.location.href);a.searchParams.set("tab",e),window.history.replaceState(null,null,a)}catch{}else if(s==="hash")window.location.hash="#"+e;else if(s==="localStorage")try{localStorage.setItem(l,e)}catch{}}function r(s){s=s||document;var l=s.querySelectorAll("[data-tabs]");l.forEach(function(e){n(e)})}if(document.addEventListener("DOMContentLoaded",function(){r()}),document.addEventListener("htmx:afterSettle",function(s){r(s.detail.elt)}),typeof MutationObserver<"u"){var d=new MutationObserver(function(s){s.forEach(function(l){l.addedNodes.forEach(function(e){if(e.nodeType===1&&(e.hasAttribute&&e.hasAttribute("data-tabs")&&!e._tabsInitialized&&n(e),e.querySelectorAll)){var a=e.querySelectorAll("[data-tabs]");a.forEach(function(i){i._tabsInitialized||n(i)})}})})});d.observe(document.body,{childList:!0,subtree:!0})}return{initTabs:n,initAll:r}}();leantime.snippets=function(){var n=function(e){var a=document.getElementById(e);a.select(),a.setSelectionRange(0,99999),navigator.clipboard.writeText(a.value),leantime.toast.show({message:leantime.i18n.__("short_notifications.url_copied"),style:"success"})},t=function(e){navigator.clipboard.writeText(e),leantime.toast.show({message:leantime.i18n.__("short_notifications.url_copied"),style:"success"})},o=function(){document.querySelectorAll(".confetti").forEach(function(e){e.addEventListener("click",function(){confetti.start()})})},c=function(e){var a=document.getElementById("accordion_toggle_"+e),i=a?a.querySelector(".material-symbols-outlined"):null,m="accordion_content-"+e,v="closed",_=document.getElementById("accordion_content-"+e);i&&i.textContent.trim()==="chevron_right"?(i.textContent="expand_more",_&&(_.style.display=""),v="open"):i&&(i.textContent="chevron_right",_&&(_.style.display="none"),v="closed");var k=new FormData;k.append("submenu",m),k.append("state",v),fetch(leantime.appUrl+"/api/submenu",{method:"PATCH",body:k,credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"}})},r=function(e){var a=document.getElementById("themeStyleSheet"),i=a.getAttribute("href");e=="light"?(i=i.replace("dark.css","light.css"),a.setAttribute("href",i)):e=="dark"&&(i=i.replace("light.css","dark.css"),a.setAttribute("href",i))},d=function(e){var a=document.getElementById("themeStyleSheet"),i=a.getAttribute("href");e=="minimal"?(i=i.replace("default","minimal"),a.setAttribute("href",i)):e=="default"&&(i=i.replace("minimal","default"),a.setAttribute("href",i))},s=function(e){document.getElementById("fontStyleSetter").innerHTML=":root { --primary-font-family: '"+e+"', 'Helvetica Neue', Helvetica, sans-serif; }"},l=function(e,a){document.getElementById("colorSchemeSetter").innerHTML=":root { --accent1: "+e+"; --accent2: "+a+"}"};return{copyUrl:n,copyToClipboard:t,initConfettiClick:o,accordionToggle:c,toggleTheme:r,toggleFont:s,toggleColors:l,toggleBg:d}}();leantime.modals=function(){var n=!1;function t(){return document.getElementById("global-modal")}function o(){return document.getElementById("global-modal-content")}function c(){return document.getElementById("global-modal-box")}function r(){var T=document.getElementById("modal-blur-overlay");return T||(T=document.createElement("div"),T.id="modal-blur-overlay",T.addEventListener("click",function(){leantime.modals.closeModal()}),document.body.appendChild(T)),T}function d(){r().classList.add("active");var T=document.querySelector(".mainwrapper");T&&T.setAttribute("inert","")}function s(){r().classList.remove("active");var T=document.querySelector(".mainwrapper");T&&T.removeAttribute("inert")}function l(T){return/showTicket|ideaDialog|articleDialog|notesDialog|notebookDialog/.test(T)}function e(){var T=o();T&&(T.innerHTML='<div style="display:flex;justify-content:center;align-items:center;padding:60px 40px;"><span class="tw:loading tw:loading-spinner tw:loading-lg"></span></div>')}function a(T){for(var L=Array.prototype.slice.call(T.querySelectorAll("script")),F=0;F<L.length;F++){var q=L[F];if(q.parentNode){for(var B=document.createElement("script"),W=0;W<q.attributes.length;W++)B.setAttribute(q.attributes[W].name,q.attributes[W].value);B.textContent=q.textContent;try{q.parentNode.replaceChild(B,q)}catch{}}}}function i(T){if(/<html[\s>]/i.test(T)||/<!DOCTYPE/i.test(T)){var L=new DOMParser().parseFromString(T,"text/html"),F=L.querySelector(".primaryContent");return F?F.innerHTML:L.body?L.body.innerHTML:T}return T}function m(T){T.querySelectorAll(".showDialogOnLoad").forEach(function(L){L.style.display=""}),window.htmx&&window.htmx.process(T),window.tippy&&tippy(T.querySelectorAll("[data-tippy-content]")),window.leantime&&window.leantime.tiptapController&&typeof window.leantime.tiptapController.initEditors=="function"&&window.leantime.tiptapController.initEditors(T)}function v(T){var L=T.headers.get("HX-Trigger");if(L&&L.indexOf("HTMX.closemodal")!==-1)return L.indexOf("HTMX.ShowNotification")!==-1&&window.dispatchEvent(new CustomEvent("HTMX.ShowNotification")),C(),Promise.resolve(null);var F=T.headers.get("HX-Redirect");return F?(C(),window.location.href=F,Promise.resolve(null)):T.text()}function _(){var T=o();if(T&&window.leantime&&window.leantime.tiptapController&&window.leantime.tiptapController.registry)try{window.leantime.tiptapController.registry.destroyWithin(T)}catch{}}function k(T){if(T!==null){var L=o();L&&(_(),L.innerHTML=i(T),a(L),m(L))}}function g(T){var L=t(),F=c();if(L){l(T)?(F.style.maxWidth="1024px",F.style.width="95vw",F.style.minHeight="80vh"):(F.style.maxWidth="48rem",F.style.width="",F.style.minHeight=""),e(),L.open||(d(),L.show()),n=!0;var q=leantime.appUrl.replace(/\/$/,""),B=T.indexOf("http")===0?T:q+T;fetch(B,{credentials:"include",headers:{"is-modal":"true","X-Requested-With":"XMLHttpRequest"}}).then(v).then(k).catch(function(W){console.error("modalManager: load error",W);var z=o();z&&(z.innerHTML='<div style="padding:24px;text-align:center;"><p>Could not load content.</p></div>')})}}function C(){var T=t();if(T&&n){n=!1,_(),s();try{history.pushState("",document.title,window.location.pathname+window.location.search)}catch{}if(T.open&&T.close(),typeof window.globalModalCallback=="function"){var L=window.globalModalCallback;window.globalModalCallback=null,L()}else htmx.ajax("GET",window.location.pathname+window.location.search,{target:".primaryContent",select:".primaryContent",swap:"outerHTML"})}}var R=function(){var T=window.location.hash.substring(1);if(T){var L=T.split("/");L.length>2&&L[1]!=="tab"&&g(T)}},I=function(){C()},H=function(T){typeof T=="function"&&(window.globalModalCallback=T)},X=function(T){var L=leantime.appUrl.replace(/\/$/,""),F=T;T.indexOf(L)===0&&(F=T.substring(L.length)),g(F)};return{openModal:R,setCustomModalCallback:H,closeModal:I,openByUrl:X,renderContent:k}}();document.addEventListener("DOMContentLoaded",function(){leantime.modals.openModal(),document.addEventListener("click",function(t){var o=t.target.closest('a[href^="#/"], a.formModal, a.ticketModal');if(o){var c=o.getAttribute("href");if(c){if(c.indexOf("#/")===0){t.preventDefault(),t.stopPropagation(),window.globalModalCallback=function(){htmx.ajax("GET",window.location.pathname+window.location.search,{target:".primaryContent",select:".primaryContent",swap:"outerHTML"})};var r=c.substring(1);try{history.pushState("",document.title,window.location.pathname+window.location.search+c)}catch{}leantime.modals.openByUrl(r)}else if(o.classList.contains("formModal")||o.classList.contains("ticketModal")){if(c.indexOf("javascript:")===0)return;t.preventDefault(),t.stopPropagation(),window.globalModalCallback=function(){htmx.ajax("GET",window.location.pathname+window.location.search,{target:".primaryContent",select:".primaryContent",swap:"outerHTML"})},leantime.modals.openByUrl(c)}}}},!0);var n=document.getElementById("global-modal");n&&(n.addEventListener("keydown",function(t){t.key==="Escape"&&(t.preventDefault(),leantime.modals.closeModal())}),n.addEventListener("cancel",function(t){t.preventDefault(),leantime.modals.closeModal()}),n.addEventListener("close",function(){leantime.modals.closeModal()})),document.addEventListener("submit",function(t){var o=t.target;if(!(!o||!o.closest||!o.closest("#global-modal-content"))&&o.getAttribute("method")!=="dialog"&&!(o.hasAttribute("hx-post")||o.hasAttribute("hx-get")||o.hasAttribute("hx-put")||o.hasAttribute("hx-delete"))){t.preventDefault();var c=(o.getAttribute("method")||"GET").toUpperCase(),r=o.getAttribute("action")||window.location.href;document.getElementById("global-modal-content");var d={method:c,credentials:"include",headers:{"is-modal":"true","X-Requested-With":"XMLHttpRequest"}};if(c==="POST")d.body=new FormData(o);else{var s=new URLSearchParams(new FormData(o));r+=(r.indexOf("?")===-1?"?":"&")+s.toString()}fetch(r,d).then(function(l){var e=l.headers.get("HX-Trigger");if(e&&e.indexOf("HTMX.closemodal")!==-1)return e.indexOf("HTMX.ShowNotification")!==-1&&window.dispatchEvent(new CustomEvent("HTMX.ShowNotification")),leantime.modals.closeModal(),null;var a=l.headers.get("HX-Redirect");return a?(leantime.modals.closeModal(),window.location.href=a,null):l.text()}).then(function(l){leantime.modals.renderContent(l)}).catch(function(l){console.error("modalManager: form submit error",l)})}},!0)});window.addEventListener("hashchange",function(){leantime.modals.openModal()});window.addEventListener("closeModal",function(){leantime.modals.closeModal()});document.addEventListener("HTMX.closemodal",function(){leantime.modals.closeModal()});leantime.modals.nmManual=function(n,t){typeof t=="function"&&(t=t()),t&&t.callbacks&&typeof t.callbacks.beforeClose=="function"&&(window.globalModalCallback=t.callbacks.beforeClose),leantime.modals.openByUrl(n)};leantime.modals.nmTop=function(){return{close:function(){leantime.modals.closeModal()},elts:{cont:document.getElementById("global-modal-box"),bg:document.querySelector("#global-modal .tw\\:modal-backdrop"),load:document.querySelector("#global-modal .tw\\:loading"),all:document.getElementById("global-modal")}}};leantime.modals.initNyroModal=function(n,t){n instanceof HTMLElement&&(n=[n]),Array.prototype.forEach.call(n,function(o){if(!o.dataset.modalManagerInit){o.dataset.modalManagerInit="true",t&&t.callbacks&&(o._modalManagerOpts=t);var c=o.getAttribute("href");c&&o.addEventListener("click",function(r){if(r.preventDefault(),r.stopPropagation(),t&&t.callbacks&&typeof t.callbacks.beforeClose=="function"&&(window.globalModalCallback=t.callbacks.beforeClose),c.indexOf("#")===0){var d=c.substring(1);try{history.pushState("",document.title,window.location.pathname+window.location.search+c)}catch{}leantime.modals.openByUrl(d)}else leantime.modals.openByUrl(c)})}})};typeof jQuery<"u"&&(jQuery.nmManual=leantime.modals.nmManual,jQuery.nmTop=leantime.modals.nmTop,jQuery.fn.nyroModal=function(n){return leantime.modals.initNyroModal(this.toArray(),n),this});leantime.dateController=function(){function n(r){var d=leantime.i18n.__("language.dayNames").split(",");leantime.i18n.__("language.dayNamesShort").split(",");var s=leantime.i18n.__("language.dayNamesMin").split(","),l=leantime.i18n.__("language.monthNames").split(","),e=leantime.i18n.__("language.monthNamesShort").split(","),a=parseInt(leantime.i18n.__("language.firstDayOfWeek"),10)||0;return{dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","flatpickr"),locale:{firstDayOfWeek:a,weekdays:{shorthand:s,longhand:d},months:{shorthand:e,longhand:l}},allowInput:!0,onChange:r?function(i,m,v){r.call(v.input,m,v)}:void 0}}var t=function(r,d,s){var l=typeof r=="string"?document.querySelector(r):r,e=typeof d=="string"?document.querySelector(d):d;if(!(!l||!e)&&!(l.hasAttribute("readonly")||e.hasAttribute("readonly"))){var a=n();a.onChange=function(_){_.length>0&&(v.set("minDate",_[0]),e.value||v.setDate(_[0],!0))};var i=n();i.onChange=function(_){_.length>0&&m.set("maxDate",_[0])};var m=flatpickr(l,a),v=flatpickr(e,i)}},o=function(r,d){var s=typeof r=="string"?document.querySelectorAll(r):r?[r]:[];s.forEach(function(l){if(l&&!l.hasAttribute("readonly")){var e=(l.value||"").trim(),a=e&&!/\d/.test(e);a&&(l.setAttribute("placeholder",e),l.value=""),flatpickr(l,n(d))}})},c=function(r){var d=r?typeof r=="string"?document.querySelector(r):r:document;if(d){var s=d.querySelectorAll(".date-inline-picker");s.forEach(function(l){var e=l.querySelector("input.dates"),a=l.querySelector(".date-inline-trigger");if(!e||!a)return;var i=e._flatpickr;i||(i=flatpickr(e,n())),i._positionElement=l;function m(){var v=e.value!=="";e.style.display=v?"":"none",a.style.display=v?"none":""}i.config.onChange.push(function(){m()}),i.config.onClose.push(function(){m()}),a.addEventListener("click",function(){i.open()})})}};return{initDateRangePicker:t,initDatePicker:o,initInlineDatePickers:c,getBaseDatePickerConfig:n}}();(function(){if(!(typeof jQuery>"u")){var n=new WeakMap;jQuery.datepicker=jQuery.datepicker||{},jQuery.datepicker.setDefaults=function(){},jQuery.datepicker.parseDate=function(t,o){if(!o)return null;var c=leantime.dateHelper.getFormatFromSettings("dateformat","flatpickr");return flatpickr.parseDate(o,c)},jQuery.datepicker.formatDate=function(t,o){if(!o)return"";var c=leantime.dateHelper.getFormatFromSettings("dateformat","flatpickr");return flatpickr.formatDate(o,c)},jQuery.fn.datepicker,jQuery.fn.datepicker=function(t,o){return this.each(function(){var c=this;if(typeof t=="string"){var r=n.get(c);if(!r)return;if(t==="option"||t==="setDate")if(o==="minDate"||t==="setDate"){var d=arguments.length>2?arguments[2]:o;t==="setDate"?r.setDate(d,!0):r.set("minDate",d)}else o==="maxDate"&&r.set("maxDate",arguments[2]);return}if(!c.hasAttribute("readonly")){var s=leantime.dateController.getBaseDatePickerConfig();t&&t.onSelect&&(s.onChange=function(e,a,i){t.onSelect.call(c,a,i)});var l=flatpickr(c,s);n.set(c,l)}})}}})();leantime.dateHelper=function(){var n={jquery:{},luxon:{},flatpickr:{}};n.jquery={d:"dd",D:"D",j:"d",l:"DD",N:"",S:"",w:"",z:"o",W:"",F:"MM",m:"mm",M:"M",n:"m",t:"",L:"",o:"yy",Y:"yy",y:"y",a:"",A:"",B:"",g:"",G:"",h:"",H:"",i:"",s:"",u:"",e:"",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"@"},n.flatpickr={d:"d",D:"D",j:"j",l:"l",N:"",S:"",w:"w",z:"",W:"W",F:"F",m:"m",M:"M",n:"n",t:"",L:"",o:"Y",Y:"Y",y:"y",a:"K",A:"K",B:"",g:"G",G:"H",h:"h",H:"H",i:"i",s:"S",u:"",e:"",I:"",O:"",P:"",T:"",Z:"Z",c:"",r:"",U:"U"},n.luxon={d:"dd",D:"ccc",j:"d",l:"cccc",N:"c",S:"",w:"c",z:"o",W:"WW",F:"MMMM",m:"LL",M:"LLL",n:"L",t:"",L:"",o:"kk",Y:"yyyy",y:"yy",a:"a",A:"a",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",v:"SSS",e:"z",I:"",O:"ZZ",P:"ZZ",T:"ZZZ",Z:"",c:"",r:"",U:"X"};var t=function(c,r){let d=n[r],s="";return c.split("").forEach(function(l){d[l]!==void 0?s=s+""+d[l]:s=s+""+l}),s},o=function(c,r){let d=leantime.i18n.__("language."+c);return t(d,r)};return{mapFormat:t,getFormatFromSettings:o}}();leantime.authController=function(){var n=function(t){typeof t>"u"&&(t="body"),jQuery(t).find("input").not(".filterBar input").prop("readonly",!0),jQuery(t).find("input").not(".filterBar input").prop("disabled",!0),jQuery(t).find("select").not(".filterBar select, .mainSprintSelector").prop("readonly",!0),jQuery(t).find("select").not(".filterBar select, .mainSprintSelector").prop("disabled",!0),jQuery(t).find("textarea").not(".filterBar textarea").prop("disabled",!0),jQuery(t).find("a.delete").remove(),jQuery(t).find(".quickAddLink").hide(),jQuery(t).find(".tiptap-editor").length&&window.leantime&&window.leantime.tiptapController&&jQuery(t).find(".tiptap-editor").each(function(){var o=leantime.tiptapController.registry.get(this);o&&o.setEditable(!1)}),jQuery(t).find(".tiptap-toolbar").hide(),jQuery(t).find(".ticketDropdown a").removeAttr("data-toggle"),document.querySelectorAll((t||"body")+" .tw\\:dropdown [tabindex]").forEach(function(o){o.removeAttribute("tabindex")}),jQuery("#mainToggler").hide(),jQuery(".commentBox").hide(),jQuery(".deleteComment, .replyButton").hide(),jQuery(t).find(".dropdown .material-symbols-outlined, .tw\\:dropdown .material-symbols-outlined").each(function(){jQuery(this).text().trim()==="arrow_drop_down"&&jQuery(this).hide()})};return{makeInputReadonly:n}}();leantime.commentsController=function(){var n=function(){jQuery(".commentBox").show(),jQuery("#comments .replies .commentBox").hide(),jQuery(".deleteComment, .replyButton").show(),jQuery(".commentReply .tiptap-wrapper").each(function(){var o=jQuery(this).find(".tiptap-editor")[0];if(o&&window.leantime&&window.leantime.tiptapController){var c=leantime.tiptapController.registry.get(o);c&&c.setEditable(!0)}}),jQuery(".commentReply .tiptap-toolbar").show(),jQuery(".commenterFields input").prop("readonly",!1),jQuery(".commenterFields input").prop("disabled",!1),jQuery(".commenterFields textarea").prop("readonly",!1),jQuery(".commenterFields textarea").prop("disabled",!1)},t=function(o){o==0?jQuery("#mainToggler").hide():jQuery("#mainToggler").show(),window.leantime&&window.leantime.tiptapController&&window.leantime.tiptapController.registry&&jQuery(".commentBox .tiptap-editor").each(function(){leantime.tiptapController.registry.destroy(this)}),jQuery(".commentBox .tiptap-wrapper").remove(),jQuery(".commentBox textarea").remove(),jQuery(".commentBox").hide("fast",function(){}),jQuery("#comment"+o+" .commentReply").prepend('<textarea rows="5" cols="75" name="text" class="tiptapSimple"></textarea>'),window.leantime&&window.leantime.tiptapController&&leantime.tiptapController.initSimpleEditor(),jQuery("#comment"+o).show("fast"),jQuery("#father").val(o)};return{enableCommenterForms:n,toggleCommentBoxes:t}}();leantime.ticketsController=function(){function n(f){if(f=f.replace(/^#/,""),f.length===3&&(f=f[0]+f[0]+f[1]+f[1]+f[2]+f[2]),f.length!==6||!/^[0-9a-fA-F]{6}$/.test(f))return"#fff";var y=parseInt(f.substring(0,2),16)/255,u=parseInt(f.substring(2,4),16)/255,p=parseInt(f.substring(4,6),16)/255;y=y<=.03928?y/12.92:Math.pow((y+.055)/1.055,2.4),u=u<=.03928?u/12.92:Math.pow((u+.055)/1.055,2.4),p=p<=.03928?p/12.92:Math.pow((p+.055)/1.055,2.4);var w=.2126*y+.7152*u+.0722*p;return w>.179?"#000":"#fff"}function t(){let f=[];jQuery(".sortableTicketList").each(function(y){jQuery(this).find(".column").each(function(u){f[u]===void 0&&(f[u]=0);var p=jQuery(this).find(".moveable").length;f[u]+=p})}),jQuery(".widgettitle .count").each(function(y){jQuery(this).text(f[y])})}function o(){jQuery(".kanban-swimlane-row").each(function(){var f=jQuery(this),y=f.attr("id");if(y){y.replace("swimlane-row-","");var u=f.find(".kanban-swimlane-content"),p=u.find(".moveable").length,w=f.find(".kanban-swimlane-sidebar");w.find(".kanban-lane-count").text(p);var h=w.attr("aria-label")||"",b=h.replace(/\d+ tasks/,p+" tasks");w.attr("aria-label",b)}}),c()}function c(){jQuery(".kanban-swimlane-row").each(function(){var f=jQuery(this),y=f.find(".kanban-swimlane-content"),u=f.find(".micro-progress-bar .progress-segments");if(u.length){var p={},w=0;y.find(".contentInner").each(function(){var b=jQuery(this),x=b.attr("class")||"",M=x.match(/status_(-?\d+)/);if(M){var S=M[1],j=b.find(".moveable").length;j>0&&(p[S]=j,w+=j)}});var h=u.find(".status-segment");if(w===0){h.css("flex","0 1 0%").find(".segment-count").text(""),h.attr("data-tippy-content","");return}h.each(function(){var b=jQuery(this),x=b.attr("class");if(x){var M=x.match(/status-(-?\d+)/);if(M){var S=M[1],j=p[S]||0,Q=j/w*100;b.css("flex",Q+" 1 0%");var P=b.find(".segment-count");P.length&&P.text(j>0?j:"");var D=b.attr("data-tippy-content")||"",E=D.match(/^([^:]+):/),J=E?E[1]:"Status "+S;b.attr("data-tippy-content",j>0?J+": "+j:"")}}})}})}var r=function(f,y){var u=jQuery("#ticket_"+f);if(!u.length){console.warn("Card not found for ticket ID:",f);return}var p=u.closest(".contentInner"),w=p.attr("class")||"",h=w.match(/status_(\d+)/);if(!h){console.warn("Could not determine status for ticket:",f),location.reload();return}var b=h[1],x=jQuery("#kanboard-"+y+" .contentInner.status_"+b);if(!x.length){console.warn("Target swimlane not found:",y,b),location.reload();return}p[0]!==x[0]&&(u.addClass("card-moving-out"),setTimeout(function(){u.detach().appendTo(x),u.removeClass("card-moving-out").addClass("card-moving-in"),t(),o(),x.sortable&&x.sortable("refresh"),setTimeout(function(){u.removeClass("card-moving-in")},300)},200))},d=function(f,y){var u=jQuery(f).val();leantime.ticketsRepository.updateRemainingHours(y,u,function(){jQuery.growl({message:leantime.i18n.__("short_notifications.remaining_hours_updated"),style:"success"})})},s=function(f,y){var u=jQuery(f).val();leantime.ticketsRepository.updatePlannedHours(y,u,function(){jQuery.growl({message:leantime.i18n.__("short_notifications.planned_hours_updated"),style:"success"})})},l=function(){jQuery(".filterBar").toggleClass("hideOnLoad")};document.addEventListener("click",function(f){var y=document.querySelector(".filterBar");if(!(!y||y.classList.contains("hideOnLoad"))&&!y.contains(f.target)){var u=f.target.closest("[onclick*='toggleFilterBar']");u||y.classList.add("hideOnLoad")}});var e=function(f,y,u){function p(w){return String(w).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}jQuery(document).ready(function(){if(u===!1)var w=new Gantt("#gantt",f,{header_height:55,column_width:20,step:24,view_modes:["Day","Week","Month"],bar_height:40,static_progress_indicator:!0,bar_corner_radius:10,arrow_curve:10,padding:20,view_mode:"Month",date_format:leantime.i18n.__("language.momentJSDate"),language:leantime.i18n.__("language.code").slice(0,2),additional_rows:5,custom_popup_html:function(h){var b=h._end,x=jQuery.datepicker.formatDate(leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),new Date(b)),M='<div class="details-container" style="min-width:600px;"> ';return h.projectName!==void 0&&(M+="<h3><b>"+h.projectName+"</b></h3>"),M+="<small>"+h.type+" #"+h.id+" </small>",h.type==="milestone"?M+='<h4><a href="#/tickets/editMilestone/'+h.id+'" >'+p(h.name)+"</a></h4><br /> <p>"+leantime.i18n.__("text.expected_to_finish_by")+" <strong>"+x+"</strong><br /> "+Math.round(h.progress)+'%</p> <a href="#/tickets/editMilestone/'+h.id+'" ><span class="material-symbols-outlined">map</span> '+leantime.i18n.__("links.edit_milestone")+'</a> | <a href="'+leantime.appUrl+"/tickets/showKanban?milestone="+h.id+'"><span class="material-symbols-outlined">push_pin</span> '+leantime.i18n.__("links.view_todos")+"</a> ":M+='<h4><a href="#/tickets/showTicket/'+h.id+'">'+p(h.name)+'</a></h4><br /> <a href="#/tickets/showTicket/'+h.id+'"><span class="material-symbols-outlined">push_pin</span> '+leantime.i18n.__("links.edit_todo")+"</a> ",M+="</div>",M},on_click:function(h){},on_date_change:function(h,b,x){leantime.ticketsRepository.updateMilestoneDates(h.id,b,x,h._index+1)},on_sort_change:function(h){for(var b={action:"ganttSort",payload:{}},x=0;x<h.length;x++)b.payload[h[x].id]=h[x]._index+1;jQuery.ajax({type:"POST",url:leantime.appUrl+"/api/tickets",data:b})},on_progress_change:function(h,b){},on_view_change:function(h){leantime.usersRepository.updateUserViewSettings("roadmap",h)},on_popup_show:function(h){}});else var w=new Gantt("#gantt",f,{readonlyGantt:!0,resizing:!1,progress:!1,is_draggable:!1,custom_popup_html:function(b){var x=b._end,M=jQuery.datepicker.formatDate(leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),new Date(x)),S='<div class="details-container" style="min-width:600px;"> ';return b.projectName!==void 0&&(S+="<h3><b>"+b.projectName+"</b></h3>"),S+="<small>"+b.type+" #"+b.id+" </small>",b.type==="milestone"?S+="<h4>"+p(b.name)+"</h4><br /> <p>"+leantime.i18n.__("text.expected_to_finish_by")+" <strong>"+M+"</strong><br /> "+Math.round(b.progress)+'%</p> <a href="'+leantime.appUrl+"/tickets/showKanban?milestone="+b.id+'"><span class="material-symbols-outlined">push_pin</span> '+leantime.i18n.__("links.view_todos")+"</a> ":S+='<h4><a href="#/tickets/showTicket/'+b.id+'">'+p(b.name)+'</a></h4><br /> <a href="#/tickets/showTicket/'+b.id+'"><span class="material-symbols-outlined">push_pin</span> '+leantime.i18n.__("links.edit_todo")+"</a> ",S+="</div>",S},on_click:function(b){},on_date_change:function(b,x,M){},on_progress_change:function(b,x){},on_view_change:function(b){leantime.usersRepository.updateUserViewSettings("roadmap",b)}});jQuery("#ganttTimeControl").on("click","a",function(){var h=jQuery(this),b=h.attr("data-value");w.change_view_mode(b),h.parent().parent().find("a").removeClass("active"),h.addClass("active");var x=h.text();jQuery(".viewText").text(x)}),w.change_view_mode(y)})},a=function(){Date.prototype.addDays=function(w){return this.setDate(this.getDate()+w),this},jQuery.datepicker.setDefaults({beforeShow:function(w){if(jQuery(w).attr("readonly"))return!1}});var f=leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),y=jQuery("#sprintStart").datepicker({numberOfMonths:1,dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),dayNames:leantime.i18n.__("language.dayNames").split(","),dayNamesMin:leantime.i18n.__("language.dayNamesMin").split(","),dayNamesShort:leantime.i18n.__("language.dayNamesShort").split(","),monthNames:leantime.i18n.__("language.monthNames").split(","),currentText:leantime.i18n.__("language.currentText"),closeText:leantime.i18n.__("language.closeText"),buttonText:leantime.i18n.__("language.buttonText"),isRTL:leantime.i18n.__("language.isRTL")==="true"?1:0,nextText:leantime.i18n.__("language.nextText"),prevText:leantime.i18n.__("language.prevText"),weekHeader:leantime.i18n.__("language.weekHeader"),firstDay:leantime.i18n.__("language.firstDayOfWeek")}).on("change",function(){u.datepicker("option","minDate",p(this));var w=p(this).addDays(13);u.datepicker("setDate",w)}),u=jQuery("#sprintEnd").datepicker({defaultDate:"+1w",numberOfMonths:1,dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),dayNames:leantime.i18n.__("language.dayNames").split(","),dayNamesMin:leantime.i18n.__("language.dayNamesMin").split(","),dayNamesShort:leantime.i18n.__("language.dayNamesShort").split(","),monthNames:leantime.i18n.__("language.monthNames").split(","),currentText:leantime.i18n.__("language.currentText"),closeText:leantime.i18n.__("language.closeText"),buttonText:leantime.i18n.__("language.buttonText"),isRTL:leantime.i18n.__("language.isRTL")==="true"?1:0,nextText:leantime.i18n.__("language.nextText"),prevText:leantime.i18n.__("language.prevText"),weekHeader:leantime.i18n.__("language.weekHeader"),firstDay:leantime.i18n.__("language.firstDayOfWeek")}).on("change",function(){y.datepicker("option","maxDate",p(this))});function p(w){var h;try{h=jQuery.datepicker.parseDate(f,w.value)}catch(b){h=null,console.log(b)}return h}},i=function(){var f=leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),y=jQuery("#milestoneEditFrom").datepicker({numberOfMonths:1,dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),dayNames:leantime.i18n.__("language.dayNames").split(","),dayNamesMin:leantime.i18n.__("language.dayNamesMin").split(","),dayNamesShort:leantime.i18n.__("language.dayNamesShort").split(","),monthNames:leantime.i18n.__("language.monthNames").split(","),currentText:leantime.i18n.__("language.currentText"),closeText:leantime.i18n.__("language.closeText"),buttonText:leantime.i18n.__("language.buttonText"),isRTL:leantime.i18n.__("language.isRTL")==="true"?1:0,nextText:leantime.i18n.__("language.nextText"),prevText:leantime.i18n.__("language.prevText"),weekHeader:leantime.i18n.__("language.weekHeader"),firstDay:leantime.i18n.__("language.firstDayOfWeek")}).on("change",function(){u.datepicker("option","minDate",p(this))}),u=jQuery("#milestoneEditTo").datepicker({defaultDate:"+1w",numberOfMonths:1,dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),dayNames:leantime.i18n.__("language.dayNames").split(","),dayNamesMin:leantime.i18n.__("language.dayNamesMin").split(","),dayNamesShort:leantime.i18n.__("language.dayNamesShort").split(","),monthNames:leantime.i18n.__("language.monthNames").split(","),currentText:leantime.i18n.__("language.currentText"),closeText:leantime.i18n.__("language.closeText"),buttonText:leantime.i18n.__("language.buttonText"),isRTL:leantime.i18n.__("language.isRTL")==="true"?1:0,nextText:leantime.i18n.__("language.nextText"),prevText:leantime.i18n.__("language.prevText"),weekHeader:leantime.i18n.__("language.weekHeader"),firstDay:leantime.i18n.__("language.firstDayOfWeek")}).on("change",function(){y.datepicker("option","maxDate",p(this))});function p(w){var h;try{h=jQuery.datepicker.parseDate(f,w.value)}catch(b){h=null,console.log(b)}return h}},m=function(){var f=leantime.dateHelper.getFormatFromSettings("dateformat","jquery");jQuery(".milestoneEditFromAsync").datepicker({numberOfMonths:1,dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),dayNames:leantime.i18n.__("language.dayNames").split(","),dayNamesMin:leantime.i18n.__("language.dayNamesMin").split(","),dayNamesShort:leantime.i18n.__("language.dayNamesShort").split(","),monthNames:leantime.i18n.__("language.monthNames").split(","),currentText:leantime.i18n.__("language.currentText"),closeText:leantime.i18n.__("language.closeText"),buttonText:leantime.i18n.__("language.buttonText"),isRTL:leantime.i18n.__("language.isRTL")==="true"?1:0,nextText:leantime.i18n.__("language.nextText"),prevText:leantime.i18n.__("language.prevText"),weekHeader:leantime.i18n.__("language.weekHeader"),firstDay:leantime.i18n.__("language.firstDayOfWeek")}).on("change",function(){var u=jQuery(this).val(),p=jQuery(this).attr("data-id"),w=jQuery(".toDateTicket-"+p);w.datepicker("option","minDate",y(this)),jQuery(".toDateTicket-"+p).val(),leantime.ticketsRepository.updateEditFromDates(p,u,function(){jQuery.growl({message:leantime.i18n.__("short_notifications.date_updated"),style:"success"})})}),jQuery(".milestoneEditToAsync").datepicker({defaultDate:"+1w",numberOfMonths:1,dateFormat:leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),dayNames:leantime.i18n.__("language.dayNames").split(","),dayNamesMin:leantime.i18n.__("language.dayNamesMin").split(","),dayNamesShort:leantime.i18n.__("language.dayNamesShort").split(","),monthNames:leantime.i18n.__("language.monthNames").split(","),currentText:leantime.i18n.__("language.currentText"),closeText:leantime.i18n.__("language.closeText"),buttonText:leantime.i18n.__("language.buttonText"),isRTL:leantime.i18n.__("language.isRTL")==="true"?1:0,nextText:leantime.i18n.__("language.nextText"),prevText:leantime.i18n.__("language.prevText"),weekHeader:leantime.i18n.__("language.weekHeader"),firstDay:leantime.i18n.__("language.firstDayOfWeek")}).on("change",function(){var u=jQuery(this).attr("data-id"),p=jQuery(".fromDateTicket-"+u);p.datepicker("option","maxDate",y(this));var w=jQuery(this).val();jQuery(".fromDateTicket-"+u).val(),leantime.ticketsRepository.updateEditToDates(u,w,function(){jQuery.growl({message:leantime.i18n.__("short_notifications.date_updated"),style:"success"})})});function y(u){var p;try{p=jQuery.datepicker.parseDate(f,u.value)}catch(w){p=null,console.log(w)}return p}},v=function(){jQuery('[data-toggle="tooltip"]').tooltip()},_=function(){var f={"0.5":"< 2min",1:"XS",2:"S",3:"M",5:"L",8:"XL",13:"XXL"};jQuery(".effortDropdown .dropdown-menu a").unbind().on("click",function(){var y=jQuery(this).attr("data-value").split("_");if(y.length===2){var u=y[0],p=y[1];jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,storypoints:p}}).done(function(){jQuery("#effortDropdownMenuLink"+u+" span.text").text(f[p]),jQuery.growl({message:leantime.i18n.__("short_notifications.effort_updated"),style:"success"}),leantime.kanbanGroupBy==="storypoints"&&r(u,p)})}else console.log("Ticket Controller: Effort data value not set correctly")})},k=function(){var f={1:"Critical",2:"High",3:"Medium",4:"Low",5:"Lowest"};jQuery(".priorityDropdown .dropdown-menu a").unbind().on("click",function(){var y=jQuery(this).attr("data-value").split("_");if(y.length===2){var u=y[0],p=y[1];jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,priority:p}}).done(function(){jQuery("#priorityDropdownMenuLink"+u+" span.text").text(f[p]),jQuery("#priorityDropdownMenuLink"+u).removeClass("priority-bg-1 priority-bg-2 priority-bg-3 priority-bg-4 priority-bg-5"),jQuery("#priorityDropdownMenuLink"+u).addClass("priority-bg-"+p),jQuery("#priorityDropdownMenuLink"+u).parents(".ticketBox").removeClass("priority-border-1 priority-border-2 priority-border-3 priority-border-4 priority-border-5"),jQuery("#priorityDropdownMenuLink"+u).parents(".ticketBox").addClass("priority-border-"+p),jQuery.growl({message:leantime.i18n.__("short_notifications.priority_updated"),style:"success"}),leantime.kanbanGroupBy==="priority"&&r(u,p)})}else console.log("Ticket Controller: Priority data value not set correctly")})},g=function(){jQuery(".milestoneDropdown .dropdown-menu a").unbind().on("click",function(){var f=jQuery(this).attr("data-value").split("_"),y=jQuery(this).attr("data-label");if(f.length===3){var u=f[0],p=f[1],w=f[2];jQuery("#milestoneDropdownMenuLink"+u+" span.text").append(" ..."),jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,milestoneid:p}}).done(function(){jQuery("#milestoneDropdownMenuLink"+u+" span.text").text(y),jQuery("#milestoneDropdownMenuLink"+u).css({backgroundColor:w,color:n(w)}),jQuery.growl({message:leantime.i18n.__("short_notifications.milestone_updated"),style:"success"}),leantime.kanbanGroupBy==="milestoneid"&&r(u,p)})}})},C=function(){jQuery(".statusDropdown .dropdown-menu a").unbind().on("click",function(){var f=jQuery(this).attr("data-value").split("_"),y=jQuery(this).attr("data-label");if(f.length==3){var u=f[0],p=f[1],w=f[2];jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,status:p}}).done(function(h){jQuery("#statusDropdownMenuLink"+u+" span.text").text(y),jQuery("#statusDropdownMenuLink"+u).removeClass().addClass(w+" dropdown-toggle f-left status "),jQuery.growl({message:leantime.i18n.__("short_notifications.status_updated"),style:"success"}),leantime.handleAsyncResponse(h)})}})},R=function(){jQuery(".userDropdown .dropdown-menu a").unbind().on("click",function(){var f=jQuery(this).attr("data-value").split("_"),y=jQuery(this).attr("data-label");if(f.length===3){var u=f[0],p=f[1];f[2],jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,editorId:p}}).done(function(){jQuery("#userDropdownMenuLink"+u+" span.text span#userImage"+u+" img").attr("src",leantime.appUrl+"/api/users?profileImage="+p),jQuery("#userDropdownMenuLink"+u+" span.text span#user"+u).text(y),jQuery.growl({message:leantime.i18n.__("short_notifications.user_updated"),style:"success"}),leantime.kanbanGroupBy==="editorId"&&r(u,p)})}})},I=function(){jQuery(".asyncInputUpdate").on("change",function(){var f=jQuery(this).attr("data-label").split("-");if(f.length==2){var y=f[0],u=f[1],p=jQuery(this).val();jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,[y]:p}}).done(function(){jQuery.growl({message:leantime.i18n.__("notifications.subtask_saved"),style:"success"})})}})},H=function(){jQuery(".sprintDropdown .dropdown-menu a").unbind().on("click",function(){var f=jQuery(this).attr("data-value").split("_"),y=jQuery(this).attr("data-label");if(f.length==2){var u=f[0],p=f[1];jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:{id:u,sprint:p}}).done(function(){jQuery("#sprintDropdownMenuLink"+u+" span.text").text(y),jQuery.growl({message:leantime.i18n.__("short_notifications.sprint_updated"),style:"success"}),leantime.kanbanGroupBy==="sprint"&&r(u,p)})}})},X=function(){var f=["#821219","#BB1B25","#75BB1B","#4B7811","#fdab3d","#1bbbb1","#006d9f","#124F7D","#082236","#5F0F40","#bb1b75","#F26CA7","#BB611B","#aaaaaa","#4c4c4c"];jQuery("input.simpleColorPicker").simpleColorPicker({colors:f,onChangeColor:function(u){jQuery(this).css("background",u),jQuery(this).css("color","#fff")}});var y=jQuery("input.simpleColorPicker").val();y!=""&&jQuery("input.simpleColorPicker").css("background",y)},T=function(){jQuery(".date-picker-form-control .reset-button").on("click",function(){const f=jQuery(this).attr("data-id");jQuery("#due-date-picker-"+f).val(leantime.i18n.__("text.anytime")),leantime.ticketsRepository.updateDueDates(f,null,function(){jQuery.growl({message:leantime.i18n.__("short_notifications.duedate_updated"),style:"success"})})}),leantime.dateController.initDatePicker(".quickDueDates, .duedates",function(f,y){var u=y.currentDay,p=y.currentMonth,w=y.currentYear,h=new Date(w,p,u),b=jQuery.datepicker.formatDate(leantime.dateHelper.getFormatFromSettings("dateformat","jquery"),h),x=jQuery(this).attr("data-id");leantime.ticketsRepository.updateDueDates(x,b,function(){jQuery.growl({message:leantime.i18n.__("short_notifications.duedate_updated"),style:"success"})})})},L=function(f,y,u,p){var w=document.getElementById(p).getContext("2d");new Chart(w,{type:"line",data:{labels:f,datasets:[{label:leantime.i18n.__("label.booked_hours"),backgroundColor:"rgba(201,48,44, 0.5)",borderColor:"rgb(201,48,44)",data:y},{label:leantime.i18n.__("label.planned_hours"),backgroundColor:"rgba(54, 162, 235, 0.5)",borderColor:"rgb(54, 162, 235)",data:u}]},options:{scales:{x:{display:!0,title:{display:!0,text:leantime.i18n.__("label.booked_hours")},type:"time",time:{unit:"day"}},y:{display:!0,title:{display:!0,text:leantime.i18n.__("label.planned_hours")},ticks:{beginAtZero:!0}}}}})},F=function(f){jQuery("#ticketSearch").on("submit",function(y){y.preventDefault();var u=jQuery("#projectIdInput").val(),p=jQuery("#userSelect").val(),w=jQuery("#milestoneSelect").val(),h=jQuery("#termInput").val(),b=jQuery("#sprintSelect").val(),x=jQuery("#typeSelect").val(),M=jQuery("#prioritySelect").val(),S=jQuery("#statusSelect").val(),j=jQuery("#sortBySelect").val(),Q=jQuery("input[name='groupBy']:checked").val(),P=jQuery("input[name='showTasks']:checked").val(),D="?search=true";u!=""&&u!=null&&(D=D+"&projectId="+u),p!=""&&p!=null&&(D=D+"&users="+p),w!=""&&w!=null&&(D=D+"&milestone="+w),h!=""&&h!=null&&(D=D+"&term="+h),b!=""&&b!=null&&(D=D+"&sprint="+b),x!=""&&x!=null&&(D=D+"&type="+x),M!=""&&M!=null&&(D=D+"&priority="+M),S!=""&&S!=null&&(D=D+"&status="+S),j!=""&&j!=null&&(D=D+"&sort="+j),Q!=""&&Q!=null&&(D=D+"&groupBy="+Q),P!=""&&P!=null&&(D=D+"&showTasks="+P);var E=f+D;window.location.href=E})},q=function(f){var y=jQuery("#projectIdInput").val(),u=jQuery("#userSelect").val(),p=jQuery("#milestoneSelect").val(),w=jQuery("#termInput").val(),h=jQuery("#sprintSelect").val(),b=jQuery("#typeSelect").val(),x=jQuery("#prioritySelect").val(),M=jQuery("#statusSelect").val(),S=jQuery("#sortBySelect").val(),j=jQuery("input[name='groupBy']:checked").val(),Q="?search=true";y!=""&&y!=null&&(Q=Q+"&projectId="+y),u!=""&&u!=null&&(Q=Q+"&users="+u),p!=""&&p!=null&&(Q=Q+"&milestone="+p),w!=""&&w!=null&&(Q=Q+"&term="+w),h!=""&&h!=null&&(Q=Q+"&sprint="+h),b!=""&&b!=null&&(Q=Q+"&type="+b),x!=""&&x!=null&&(Q=Q+"&priority="+x),M!=""&&M!=null&&(Q=Q+"&status="+M),S!=""&&S!=null&&(Q=Q+"&sort="+S),j!=""&&j!=null&&(Q=Q+"&groupBy="+j);var P=f+Q;window.location.href=P},B=function(){jQuery(document).ready(function(){t(),o(),jQuery(".filterBar .row-fluid").css("opacity","1"),jQuery(".sortableTicketList").each(function(){let f=jQuery(this).attr("id");var y=jQuery(this).closest(".kanban-swimlane-row");if(y.length&&y.attr("data-expanded")==="false")return;let u=250;jQuery(this).find(".column .contentInner").each(function(){jQuery(this).height()>u&&(u=jQuery(this).height())}),jQuery("#"+f+" .column .contentInner").css("height",u)})})},W=function(f){var y=f;jQuery(".sortableTicketList.kanbanBoard .ticketBox").hover(function(){jQuery(this).css("background","var(--kanban-card-hover)")},function(){jQuery(this).css("background","var(--kanban-card-bg)")}),jQuery(".sortableTicketList").each(function(){var p=this;jQuery(p).find(".contentInner").sortable({connectWith:".contentInner",items:"> .moveable",tolerance:"intersect",placeholder:"ui-state-highlight",forcePlaceholderSize:!0,cancel:".portlet-toggle,:input,a,input",distance:10,start:function(w,h){h.item.addClass("tilt"),u(h.item);var b=h.item.closest(".sortableTicketList.kanbanBoard");h.item.data("originalSwimlaneId",b.attr("id"))},stop:function(w,h){h.item.removeClass("tilt"),jQuery("html").unbind("mousemove",h.item.data("move_handler")),h.item.removeData("move_handler"),t(),o(),jQuery(".sortableTicketList").find(".contentInner").each(function(){var U=jQuery(this),de=U.find(".moveable").length>0;if(de){U.removeClass("empty-column"),U.attr("data-empty-text","");var Ue=U.attr("aria-label")||"";U.attr("aria-label",Ue.replace("Empty column","")+" column items")}else U.addClass("empty-column"),U.attr("data-empty-text","Empty"),U.attr("aria-label","Empty column")});var b=h.item.closest(".sortableTicketList.kanbanBoard"),x=b.attr("id"),M=h.item.data("originalSwimlaneId");if(M&&x&&M!==x){var S=h.item[0].id.replace("ticket_",""),j=x.replace("kanboard-",""),Q={milestoneid:"milestoneid",editorId:"editorId",priority:"priority",storypoints:"storypoints",sprint:"sprint",dueDate:"dateToFinish"},P=leantime.kanbanGroupBy,D=Q[P];if(P==="dueDate"){var E=new Date;switch(E.setHours(12,0,0,0),j){case"0":var J=new Date(E);J.setDate(J.getDate()-1),j=J.toISOString().split("T")[0];break;case"1":var Z=new Date(E),ie=6-Z.getDay();ie<0&&(ie=0),Z.setDate(Z.getDate()+ie),j=Z.toISOString().split("T")[0];break;case"2":var $=new Date(E),Ee=6-$.getDay()+7;$.setDate($.getDate()+Ee),j=$.toISOString().split("T")[0];break;case"3":var oe=new Date(E);oe.setDate(oe.getDate()+21),j=oe.toISOString().split("T")[0];break;case"4":j="";break}}if(D&&S){var Y=jQuery("#ticket_"+S);if(P==="milestoneid"){var V=jQuery("#swimlane-row-"+j+" .swimlane-header-label"),Re=V.text()||leantime.i18n.__("label.no_milestone"),me=Y.find(".milestoneDropdown .dropdown-toggle .text");me.length&&me.text(Re);var re=Y.find('.milestoneDropdown .dropdown-menu a[data-value^="'+S+"_"+j+'_"]'),G="#b0b0b0";if(re.length&&j!=="0"&&j!==""){var pe=re.attr("data-value");if(pe){var fe=pe.split("_");fe.length>=3&&(G=fe.slice(2).join("_"))}if(!G||G==="#b0b0b0"){var ge=re.attr("style");if(ge){var ye=ge.match(/background-color:\s*([^;]+)/i);ye&&(G=ye[1].trim())}}}Y.find(".milestoneDropdown .dropdown-toggle").css("background-color",G)}else if(P==="priority"){Y.removeClass(function(U,de){return(de.match(/(^|\s)priority-border-\S+/g)||[]).join(" ")}).addClass("priority-border-"+j);var Fe={1:"Critical",2:"High",3:"Medium",4:"Low",5:"Lowest"},ee=jQuery("#priorityDropdownMenuLink"+S);ee.length&&(ee.find("span.text").text(Fe[j]||j),ee.removeClass("priority-bg-1 priority-bg-2 priority-bg-3 priority-bg-4 priority-bg-5"),ee.addClass("priority-bg-"+j))}else if(P==="editorId"){var le=jQuery("#userDropdownMenuLink"+S);if(le.length){le.find("span.text span img").attr("src",leantime.appUrl+"/api/users?profileImage="+j);var V=jQuery("#swimlane-row-"+j+" .swimlane-header-label"),Ae=V.text()||leantime.i18n.__("label.not_assigned");le.find("span.text span#user"+S).text(Ae)}}else if(P==="storypoints"){var He={"0.5":"< 2min",1:"XS",2:"S",3:"M",5:"L",8:"XL",13:"XXL"},he=jQuery("#effortDropdownMenuLink"+S);he.length&&he.find("span.text").text(He[j]||j)}else if(P==="sprint"){var ve=jQuery("#sprintDropdownMenuLink"+S);if(ve.length){var V=jQuery("#swimlane-row-"+j+" .swimlane-header-label"),Pe=V.text()||leantime.i18n.__("label.backlog");ve.find("span.text").text(Pe)}}else if(P==="dueDate"){var te=Y.find(".dues .material-symbols-outlined").parent();if(te.length&&j){var se=j.split("-"),qe=se[1]+"/"+se[2]+"/"+se[0];te.contents().filter(function(){return this.nodeType===3}).first().replaceWith(" "+qe)}else te.length&&!j&&te.contents().filter(function(){return this.nodeType===3}).first().replaceWith(" No due date")}jQuery.growl({message:"To-Do Updated",style:"success"});var be={id:S};be[D]=j,jQuery.ajax({type:"PATCH",url:leantime.appUrl+"/api/tickets",data:be}).fail(function(){jQuery.growl({message:leantime.i18n.__("short_notifications.not_saved")||"Error updating ticket",style:"error"}),location.reload()})}}h.item.removeData("originalSwimlaneId");for(var _e=h.item.closest(".sortableTicketList"),we={action:"kanbanSort",payload:{},handler:h.item[0].id},K=0;K<y.length;K++)_e.find(".contentInner.status_"+y[K]).length&&(we.payload[y[K]]=_e.find(".contentInner.status_"+y[K]).sortable("serialize"));jQuery.ajax({type:"POST",url:leantime.appUrl+"/api/tickets",data:we}).done(function(U){leantime.handleAsyncResponse(U)})}})});function u(p){var w=p.position().left,h=function(b){b.pageX+5>w?(p.addClass("right"),p.removeClass("left")):b.pageX<w+5?(p.addClass("left"),p.removeClass("right")):(p.removeClass("left"),p.removeClass("right")),w=b.pageX};jQuery("html").bind("mousemove",h),p.data("move_handler",h)}jQuery(".portlet").addClass("ui-widget ui-widget-content ui-helper-clearfix ui-corner-all").find(".portlet-header").addClass("ui-widget-header ui-corner-all").prepend("<span class='ui-icon ui-icon-minusthick portlet-toggle'></span>"),jQuery(".portlet-toggle").click(function(){var p=jQuery(this);p.toggleClass("ui-icon-minusthick ui-icon-plusthick"),p.closest(".portlet").find(".portlet-content").toggle()})},z=function(f){function y(u){return!isNaN(parseFloat(u))&&isFinite(u)}jQuery(document).ready(function(){var u=[],p=jQuery(".ticketTable").DataTable({language:{decimal:leantime.i18n.__("datatables.decimal"),emptyTable:leantime.i18n.__("datatables.emptyTable"),info:leantime.i18n.__("datatables.info"),infoEmpty:leantime.i18n.__("datatables.infoEmpty"),infoFiltered:leantime.i18n.__("datatables.infoFiltered"),infoPostFix:leantime.i18n.__("datatables.infoPostFix"),thousands:leantime.i18n.__("datatables.thousands"),lengthMenu:leantime.i18n.__("datatables.lengthMenu"),loadingRecords:leantime.i18n.__("datatables.loadingRecords"),processing:leantime.i18n.__("datatables.processing"),search:leantime.i18n.__("datatables.search"),zeroRecords:leantime.i18n.__("datatables.zeroRecords"),paginate:{first:leantime.i18n.__("datatables.first"),last:leantime.i18n.__("datatables.last"),next:leantime.i18n.__("datatables.next"),previous:leantime.i18n.__("datatables.previous")},aria:{sortAscending:leantime.i18n.__("datatables.sortAscending"),sortDescending:leantime.i18n.__("datatables.sortDescending")},buttons:{colvis:leantime.i18n.__("datatables.buttons.colvis"),csv:leantime.i18n.__("datatables.buttons.download")}},dom:'<"top">rt<"bottom">p<"clear">',searching:!1,stateSave:!0,displayLength:100,order:u,columnDefs:[{visible:!1,targets:10},{visible:!1,targets:11},{target:"no-sort",orderable:!1}],footerCallback:function(w,h,b,x,M){var S=this.api(),j=S.column(10).data().reduce(function(D,E){return y(D)===!1&&(D=jQuery(D).val()),y(E)===!1&&(E=jQuery(E).val()),isNaN(D)&&(D=0),isNaN(E)&&(E=0),parseFloat(D)+parseFloat(E)},0),Q=S.column(11).data().reduce(function(D,E){return y(D)===!1&&(D=jQuery(D).val()),y(E)===!1&&(E=jQuery(E).val()),isNaN(D)&&(D=0),isNaN(E)&&(E=0),parseFloat(D)+parseFloat(E)},0),P=S.column(12).data().reduce(function(D,E){return parseFloat(D)+parseFloat(E)},0);jQuery(S.column(9).footer()).html("Total"),jQuery(S.column(10).footer()).html(parseFloat(j).toFixed(2)),jQuery(S.column(11).footer()).html(parseFloat(Q).toFixed(2)),jQuery(S.column(12).footer()).html(parseFloat(P).toFixed(2))}});new jQuery.fn.dataTable.Buttons(p.table(0),{buttons:[{extend:"csvHtml5",title:leantime.i18n.__("label.filename_fileexport"),charset:"utf-8",bom:!0,exportOptions:{format:{body:function(w,h,b,x){return typeof jQuery(x).data("order")<"u"&&(w=jQuery(x).data("order")),w}}}},{extend:"colvis",columns:":not(.noVis)"}]}).container().appendTo(jQuery("#tableButtons")),p.table(0).on("column-visibility",function(w,h,b,x){for(var M=1;M<p.tables().context.length;M++)p.tables(M).column(b).visible(x);p.draw()}),jQuery(".ticketTable input").on("change",function(w,h,b,x){jQuery(this).parent().attr("data-order",jQuery(this).val()),p.draw()})})},Ce=function(f){jQuery(document).ready(function(){var y=[];jQuery(".listStyleTable").DataTable({language:{decimal:leantime.i18n.__("datatables.decimal"),emptyTable:leantime.i18n.__("datatables.emptyTable"),info:leantime.i18n.__("datatables.info"),infoEmpty:leantime.i18n.__("datatables.infoEmpty"),infoFiltered:leantime.i18n.__("datatables.infoFiltered"),infoPostFix:leantime.i18n.__("datatables.infoPostFix"),thousands:leantime.i18n.__("datatables.thousands"),lengthMenu:leantime.i18n.__("datatables.lengthMenu"),loadingRecords:leantime.i18n.__("datatables.loadingRecords"),processing:leantime.i18n.__("datatables.processing"),search:leantime.i18n.__("datatables.search"),zeroRecords:leantime.i18n.__("datatables.zeroRecords"),paginate:{first:leantime.i18n.__("datatables.first"),last:leantime.i18n.__("datatables.last"),next:leantime.i18n.__("datatables.next"),previous:leantime.i18n.__("datatables.previous")},aria:{sortAscending:leantime.i18n.__("datatables.sortAscending"),sortDescending:leantime.i18n.__("datatables.sortDescending")},buttons:{colvis:leantime.i18n.__("datatables.buttons.colvis"),csv:leantime.i18n.__("datatables.buttons.download")}},dom:'<"top">rt<"bottom"<"center"p>><"clear">',searching:!1,stateSave:!0,displayLength:25,order:y,fnDrawCallback:function(u){u._iDisplayLength>u.fnRecordsDisplay()?jQuery(u.nTableWrapper).find(".dataTables_paginate").hide():jQuery(u.nTableWrapper).find(".dataTables_paginate").show()}})})},De=function(f){jQuery(document).ready(function(){var y=[],u=jQuery(".ticketTable").DataTable({language:{decimal:leantime.i18n.__("datatables.decimal"),emptyTable:leantime.i18n.__("datatables.emptyTable"),info:leantime.i18n.__("datatables.info"),infoEmpty:leantime.i18n.__("datatables.infoEmpty"),infoFiltered:leantime.i18n.__("datatables.infoFiltered"),infoPostFix:leantime.i18n.__("datatables.infoPostFix"),thousands:leantime.i18n.__("datatables.thousands"),lengthMenu:leantime.i18n.__("datatables.lengthMenu"),loadingRecords:leantime.i18n.__("datatables.loadingRecords"),processing:leantime.i18n.__("datatables.processing"),search:leantime.i18n.__("datatables.search"),zeroRecords:leantime.i18n.__("datatables.zeroRecords"),paginate:{first:leantime.i18n.__("datatables.first"),last:leantime.i18n.__("datatables.last"),next:leantime.i18n.__("datatables.next"),previous:leantime.i18n.__("datatables.previous")},aria:{sortAscending:leantime.i18n.__("datatables.sortAscending"),sortDescending:leantime.i18n.__("datatables.sortDescending")},buttons:{colvis:leantime.i18n.__("datatables.buttons.colvis"),csv:leantime.i18n.__("datatables.buttons.download")}},dom:'<"top">rt<"bottom"><"clear">',searching:!1,stateSave:!0,displayLength:100,order:y,columnDefs:[{visible:!1,targets:7},{visible:!1,targets:8},{target:"no-sort",orderable:!1}]});new jQuery.fn.dataTable.Buttons(u.table(0),{buttons:[{extend:"csvHtml5",title:leantime.i18n.__("label.filename_fileexport"),charset:"utf-8",bom:!0,exportOptions:{format:{body:function(p,w,h,b){return typeof jQuery(b).data("order")<"u"&&(p=jQuery(b).data("order")),p}}}},{extend:"colvis",columns:":not(.noVis)"}]}).container().appendTo(jQuery("#tableButtons")),u.table(0).on("column-visibility",function(p,w,h,b){for(var x=1;x<u.tables().context.length;x++)u.tables(x).column(h).visible(b);u.draw()}),jQuery(".ticketTable input").on("change",function(p,w,h,b){jQuery(this).parent().attr("data-order",jQuery(this).val()),u.draw()})})},je=function(f,y){window.leantime&&window.leantime.tiptapController&&window.leantime.tiptapController.registry&&leantime.tiptapController.registry.destroyAll(),jQuery(".ticketRows").removeClass("active"),jQuery("#row-"+f).addClass("active"),jQuery(y).html("<div class='center'><img src='"+leantime.appUrl+"/dist/images/svg/loading-animation.svg' width='100px' /></div>");function u(p){jQuery(p).find("form").each(function(){jQuery(this).on("submit",function(w){w.preventDefault(),window.leantime&&window.leantime.tiptapController&&window.leantime.tiptapController.registry&&leantime.tiptapController.registry.destroyAll(),jQuery(p).html("<div class='center'><img src='"+leantime.appUrl+"/dist/images/svg/loading-animation.svg' width='100px'/></div>");var h=jQuery(this).serialize();jQuery.ajax({url:jQuery(this).attr("action"),data:h,type:"post",success:function(b){jQuery(p).html(b),u(p)},error:function(){}})})})}jQuery.get(leantime.appUrl+"/tickets/showTicket/"+f,function(p){jQuery(y).html(p),u(y)})},Se=function(){jQuery("#tags").tagsInput({autocomplete_url:leantime.appUrl+"/api/tags"}),jQuery("#tags_tag").on("focusout",function(){let f=jQuery(this).val();f!=""&&jQuery("#tags").addTag(f)})},Le=function(f,y){var u="Discussion on To-Do #"+y+`:
\r`+jQuery("#commentText-"+f).text();jQuery('li a[href*="timesheet"]').click(),jQuery("#timesheet #description").val(u)},Me=function(f){jQuery.nmManual(f,{stack:!0,sizes:{minW:500,minH:500}})},Qe=function(f){jQuery.nmManual(f,{sizes:{minW:1800,minH:1800},resizable:!0,autoSizable:!0})};return{toggleFilterBar:l,initGanttChart:e,updateRemainingHours:d,updatePlannedHours:s,initTimeSheetChart:L,initTicketSearchSubmit:F,initTicketKanban:W,initTicketsTable:z,initEffortDropdown:_,initPriorityDropdown:k,initMilestoneDropdown:g,initStatusDropdown:C,initUserDropdown:R,initSprintDropdown:H,initToolTips:v,initTagsInput:Se,initMilestoneDatesAsyncUpdate:m,initAsyncInputChange:I,initDueDateTimePickers:T,setUpKanbanColumns:B,addCommentTimesheetContent:Le,initMilestoneTable:De,initMilestoneDates:i,initTicketsList:Ce,loadTicketToContainer:je,initTicketSearchUrlBuilder:q,initSprintDates:a,initSimpleColorPicker:X,openMilestoneModalManually:Me,openTicketModalManually:Qe}}();var O=window.leantime||(window.leantime={});O.ticketsRepository=function(){var n=function(s,l,e,a){let i=O.dateHelper.getFormatFromSettings("dateformat","luxon"),m=O.dateHelper.getFormatFromSettings("timeformat","luxon"),v=luxon.DateTime.fromSQL(l).toFormat(i),_=luxon.DateTime.fromSQL(l).toFormat(m),k=luxon.DateTime.fromSQL(e).toFormat(i),g=luxon.DateTime.fromSQL(e).toFormat(m);fetch(O.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:s,editFrom:v,editTo:k,timeFrom:_,timeTo:g,sortIndex:a})})},t=function(s,l,e){fetch(O.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:s,hourRemaining:l})}).then(function(){e()})},o=function(s,l,e){fetch(O.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:s,planHours:l})}).then(function(){e()})},c=function(s,l,e){fetch(O.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:s,dateToFinish:l})}).then(function(){e()})},r=function(s,l,e){fetch(O.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:s,editFrom:l})}).then(function(){e()})},d=function(s,l,e){fetch(O.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({id:s,editTo:l})}).then(function(){e()})};return{updateMilestoneDates:n,updateRemainingHours:t,updatePlannedHours:o,updateDueDates:c,updateEditFromDates:r,updateEditToDates:d}}();leantime.dashboardController=function(){var n={};leantime.theme=="dark"?n={red:"rgb(201,48,44)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(90,182,90)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(56, 56, 56)"}:n={red:"rgb(201,48,44)",orange:"rgb(255, 159, 64)",yellow:"rgb(255, 205, 86)",green:"rgb(90,182,90)",blue:"rgb(54, 162, 235)",purple:"rgb(153, 102, 255)",grey:"rgb(201, 203, 207)"};var t="",o=function(){var a=moment().startOf("week").add(5,"days"),i=document.querySelector("#dateToFinish");i&&(i.value=a.format("YYYY-MM-DD"))},c=function(a,i,m){var v={type:"doughnut",data:{datasets:[{data:[i,m],backgroundColor:[leantime.dashboardController.chartColors.green,leantime.dashboardController.chartColors.grey],label:leantime.i18n.__("label.project_done")}],labels:[i+"% Done",m+"% Open"]},options:{maintainAspectRatio:!1,responsive:!0,plugins:{legend:{position:"bottom"},title:{display:!1,text:""}},animation:{animateScale:!0,animateRotate:!0}}},_=document.getElementById(a).getContext("2d");new Chart(_,v)},r=function(a,i,m){moment.locale(leantime.i18n.__("language.code"));var v={type:"line",data:{labels:a,datasets:[{label:leantime.i18n.__("label.ideal"),backgroundColor:leantime.dashboardController.chartColors.blue,borderColor:leantime.dashboardController.chartColors.blue,data:i,fill:!1,lineTension:0},{label:"Actual",backgroundColor:leantime.dashboardController.chartColors.red,borderColor:leantime.dashboardController.chartColors.red,data:m,fill:!1,lineTension:0}]},options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"nearest",intersect:!0},plugins:{legend:{position:"bottom"},title:{display:!1,text:"Line Chart"},tooltips:{mode:"index",intersect:!1}},scales:{x:{display:!0,title:{display:!0,text:leantime.i18n.__("label.date")},type:"time",time:{unit:"day"}},y:{display:!0,title:{display:!0,text:leantime.i18n.__("label.num_tickets")},ticks:{beginAtZero:!0}}}}},_=document.getElementById("sprintBurndown").getContext("2d");return t=new Chart(_,v),t},d=function(a,i,m,v,_){var k=document.getElementById(a);k&&k.addEventListener("click",function(g){_.data.datasets[0].data=m,_.data.datasets[1].data=v,_.options.scales.y.title.text=i,document.querySelectorAll(".chartButtons").forEach(function(C){C.classList.remove("active")}),k.classList.add("active"),_.update()})},s=function(a,i){moment.locale(leantime.i18n.__("language.code"));var m={type:"line",data:{labels:a,datasets:[{label:leantime.i18n.__("label.done_todos"),backgroundColor:leantime.dashboardController.chartColors.green,borderColor:leantime.dashboardController.chartColors.green,data:i.done.data,fill:!0,lineTension:0,pointRadius:0},{label:leantime.i18n.__("label.progress_todos"),backgroundColor:leantime.dashboardController.chartColors.yellow,borderColor:leantime.dashboardController.chartColors.yellow,data:i.progress.data,fill:!0,lineTension:0,pointRadius:0},{label:leantime.i18n.__("label.new_todos"),backgroundColor:leantime.dashboardController.chartColors.red,borderColor:leantime.dashboardController.chartColors.red,data:i.open.data,fill:!0,lineTension:0,pointRadius:0}]},options:{responsive:!0,maintainAspectRatio:!1,hover:{mode:"nearest",intersect:!0},elements:{point:{pointStyle:"line",radius:"0"}},plugins:{tooltips:{mode:"index",intersect:!1},legend:{position:"bottom"},title:{display:!1,text:"Line Chart"}},scales:{x:{display:!0,title:{display:!0,text:leantime.i18n.__("label.date")},type:"time",time:{unit:"day"}},y:{display:!0,title:{display:!0,text:leantime.i18n.__("label.num_tickets")},ticks:{beginAtZero:!0},stacked:!0}}}},v=document.getElementById("backlogBurndown").getContext("2d");return t=new Chart(v,m),t},l=function(a,i,m,v){var _=document.getElementById(a);_&&_.addEventListener("click",function(k){v.data.datasets[0].data=i.done.data,v.data.datasets[1].data=i.progress.data,v.data.datasets[2].data=i.open.data,v.options.scales.y.title.text=m,document.querySelectorAll(".backlogChartButtons").forEach(function(g){g.classList.remove("active")}),_.classList.add("active"),v.update()})},e=function(){document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".duedates").forEach(function(a){leantime.dateController.initDatePicker(a,function(i){var m=i;m==""&&(this.value=leantime.i18n.__("text.anytime"));var v=moment(m,leantime.i18n.__("language.momentJSDate")).format("YYYY-MM-DD HH:mm:ss"),_=this.getAttribute("data-id"),k=v;leantime.ticketsRepository.updateDueDates(_,k,function(){leantime.toast.show({message:leantime.i18n.__("short_notifications.duedate_updated")})})})})})};return{chartColors:n,initBurndown:r,initChartButtonClick:d,initBacklogBurndown:s,initBacklogChartButtonClick:l,initProgressChart:c,prepareHiddenDueDate:o,initDueDateTimePickers:e}}();leantime.usersController=function(){var n=null,t=function(e){if(o(),e.files&&e.files[0]){var a=new FileReader,i=document.querySelector("#profileImg");a.onload=function(m){n=new Croppie(i,{enableExif:!0,viewport:{width:175,height:175,type:"circle"},boundary:{width:200,height:200}}),n.bind({url:m.currentTarget.result});var v=document.querySelector("#previousImage");v&&(v.style.display="none")},a.readAsDataURL(e.files[0])}},o=function(){n&&(n.destroy(),n=null);var e=document.querySelector("#previousImage");e&&(e.style.display="")},c=function(){var e=document.querySelector("#save-picture");e&&e.classList.add("running");var a=document.querySelector("#profileImg");a&&a.setAttribute("src",leantime.appUrl+"/images/loaders/loader28.gif"),n&&n.result({type:"blob",circle:!0}).then(function(i){leantime.usersService.saveUserPhoto(i)})},r=function(){document.addEventListener("DOMContentLoaded",function(){jQuery("#allUsersTable").DataTable({language:{decimal:leantime.i18n.__("datatables.decimal"),emptyTable:leantime.i18n.__("datatables.emptyTable"),info:leantime.i18n.__("datatables.info"),infoEmpty:leantime.i18n.__("datatables.infoEmpty"),infoFiltered:leantime.i18n.__("datatables.infoFiltered"),infoPostFix:leantime.i18n.__("datatables.infoPostFix"),thousands:leantime.i18n.__("datatables.thousands"),lengthMenu:leantime.i18n.__("datatables.lengthMenu"),loadingRecords:leantime.i18n.__("datatables.loadingRecords"),processing:leantime.i18n.__("datatables.processing"),search:leantime.i18n.__("datatables.search"),zeroRecords:leantime.i18n.__("datatables.zeroRecords"),paginate:{first:leantime.i18n.__("datatables.first"),last:leantime.i18n.__("datatables.last"),next:leantime.i18n.__("datatables.next"),previous:leantime.i18n.__("datatables.previous")},aria:{sortAscending:leantime.i18n.__("datatables.sortAscending"),sortDescending:leantime.i18n.__("datatables.sortDescending")}},dom:'<"top">rt<"bottom"ilp><"clear">',searching:!1,displayLength:100})})},d=function(){var e={sizes:{minW:400,minH:350},resizable:!0,autoSizable:!0,callbacks:{afterShowCont:function(){document.querySelectorAll(".showDialogOnLoad").forEach(function(a){a.style.display=""}),jQuery(".userImportModal").nyroModal(e)}}};jQuery(".userImportModal").nyroModal(e)},s=function(){var e={sizes:{minW:900,minH:250},resizable:!0,autoSizable:!0,callbacks:{afterShowCont:function(){document.querySelectorAll(".showDialogOnLoad").forEach(function(a){a.style.display=""}),jQuery(".userEditModal").nyroModal(e)},beforeClose:function(){location.reload()}}};jQuery(".userEditModal").nyroModal(e)},l=function(e){let a,i=document.getElementById(e),m=document.getElementById("pwStrength"),v=new RegExp("(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{8,})"),_=new RegExp("((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])(?=.{6,}))|((?=.*[a-z])(?=.*[A-Z])(?=.*[^A-Za-z0-9])(?=.{8,}))");function k(g){v.test(g)?(m.style.backgroundColor="#107530",m.textContent=leantime.i18n.__("label.strong")):_.test(g)?(m.style.backgroundColor="#C5850D",m.textContent=leantime.i18n.__("label.medium")):(m.style.backgroundColor="#CC6B6B",m.textContent=leantime.i18n.__("label.weak"))}i.addEventListener("input",()=>{m.style.display="block",clearTimeout(a),a=setTimeout(()=>k(i.value),500),i.value.length!==0?m.style.display!="block":m.style.display="none"})};return{readURL:t,clearCroppie:o,saveCroppie:c,initUserTable:r,_initModals:d,checkPWStrength:l,initUserEditModal:s}}();leantime.usersRepository=function(){var n=function(o){var c=new FormData;c.append("file",o),fetch(leantime.appUrl+"/api/users",{method:"POST",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"},body:c}).then(function(r){var d=document.querySelector("#save-picture");d&&d.classList.remove("running"),location.reload()}).catch(function(r){console.log(r)})},t=function(o,c){fetch(leantime.appUrl+"/api/users",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({patchViewSettings:o,value:c})})};return{saveUserPhoto:n,updateUserViewSettings:t}}();leantime.usersService=function(){var n=function(t){leantime.usersRepository.saveUserPhoto(t)};return{saveUserPhoto:n}}();leantime.reactionsController=function(){return{addReactions:function(o,c,r,d){fetch(leantime.appUrl+"/api/reactions",{method:"POST",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"add",module:o,moduleId:c,reaction:r})}).then(function(){d()})},removeReaction:function(o,c,r,d){fetch(leantime.appUrl+"/api/reactions",{method:"POST",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"remove",module:o,moduleId:c,reaction:r})}).then(function(){d()})}}}();leantime.helperController=function(){var n=function(i,m){m?leantime.helperRepository.updateUserModalSettings(i,!0):leantime.helperRepository.updateUserModalSettings(i,!1)},t=function(){return leantime.modals.setCustomModalCallback(function(){}),leantime.modals.closeModal(),leantime.tourFactory.startTour("myWorkDashboard")},o=function(){leantime.modals.setCustomModalCallback(function(){}),leantime.modals.closeModal()},c=function(){return leantime.modals.setCustomModalCallback(function(){}),leantime.modals.closeModal(),leantime.helperRepository.updateUserModalSettings("projectDashboard"),leantime.tourFactory.startTour("projectDashboard")},r=function(){return jQuery.nmTop()&&jQuery.nmTop().close(),leantime.helperRepository.updateUserModalSettings("kanbanBoard"),leantime.tourFactory.startTour("kanbanBoard")},d=function(){return jQuery.nmTop()&&jQuery.nmTop().close(),leantime.helperRepository.updateUserModalSettings("milestoneView"),leantime.tourFactory.startTour("milestoneView")},s=function(){return leantime.modals.setCustomModalCallback(function(){}),leantime.modals.closeModal(),leantime.helperRepository.updateUserModalSettings("goals"),leantime.tourFactory.startTour("goalsView")},l=function(){document.addEventListener("DOMContentLoaded",function(){var i={sizes:{minW:700,minH:250},resizable:!0,autoSizable:!0,callbacks:{afterShowCont:function(){document.querySelectorAll(".showDialogOnLoad").forEach(function(m){m.style.display=""}),jQuery(".onboardingModal").nyroModal(i)},beforeClose:function(){location.reload()}}};jQuery(".onboardingModal").nyroModal(i),jQuery.nmManual(leantime.appUrl+"/help/firstLogin",i)})},e=function(i,m,v){document.addEventListener("DOMContentLoaded",function(){jQuery.nmManual(leantime.appUrl+"/help/showOnboardingDialog?module="+i,{sizes:{minW:m||200,minH:v||500},resizable:!0,autoSizable:!0,callbacks:{beforeShowCont:function(){leantime.replaceSVGColors()},afterShowCont:function(){htmx.process("#global-modal-content")}}})})},a=function(i){leantime.helperRepository.updateUserModalSettings(i),leantime.modals.setCustomModalCallback(function(){}),leantime.modals.closeModal()};return{showHelperModal:e,hideAndKeepHidden:a,setDontShowAgain:n,closeModal:o,startMyWorkDashboardTour:t,startProjectDashboardTour:c,startKanbanTour:r,startMilestoneTour:d,startGoalTour:s,firstLoginModal:l}}();var ae=window.leantime||(window.leantime={});ae.helperRepository=function(){var n=function(c,r=!1){fetch(ae.appUrl+"/api/users",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({settings:c,permanent:r?1:0,patchModalSettings:1})}).then(function(d){d.ok||console.error("Failed to update modal settings:",d.status)}).catch(function(d){console.error("Error updating modal settings:",d)})},t=function(){fetch(ae.appUrl+"/api/sessions",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({tourActive:1})}).then(function(c){c.ok||console.error("Failed to start tour:",c.status)}).catch(function(c){console.error("Error starting tour:",c)})},o=function(){fetch(ae.appUrl+"/api/sessions",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({tourActive:0})}).then(function(c){c.ok||console.error("Failed to stop tour:",c.status)}).catch(function(c){console.error("Error stopping tour:",c)})};return{updateUserModalSettings:n,startingTour:t,stopTour:o}}();leantime.tourFactory=function(){var n=function(d){return new Shepherd.Tour({useModalOverlay:!0,defaultStepOptions:{classes:"shepherd-theme-arrows",scrollTo:!1,cancelIcon:{enabled:!0}},tourName:d})},t=function(d){leantime.helperRepository.updateUserModalSettings(d),typeof _paq<"u"&&_paq.push(["trackEvent","Tour","Completed",d])},o=function(d){return{myWorkDashboard:[{id:"welcome-step",title:"ðŸ‘‹ Welcome to the Dashboard Tour",text:"Let's start with a few basics to get you up to speed on the navigation and different elements inside Leantime."},{id:"top-nav-step",title:"Work Modes",text:"The top navigation shows you the current 'work mode' you're in. You can be inside a project, your personal work area, or in the company mode.",attachTo:{element:".work-modes",on:"bottom"}},{id:"menu-step",title:"Left Navigation",text:"The left navigation breaks down the current work mode and gives you access to different areas. Everything presented here is part of the currently selected work mode above.",attachTo:{element:".leftpanel",on:"right"}},{id:"my-menu",title:"My Profile Bar",text:"Here you'll find links to your account as well as notifications and latest news about Leantime.",attachTo:{element:".headmenu.pull-right",on:"bottom"}},{id:"dashboard-widgets",title:"Your Dashboard Widgets",text:"Your dashboard is broken up into various widgets showing you focused information about your work.",attachTo:{element:".primaryContent",on:"top"}},{id:"dashboard-widgets-dandd",title:"Customize Your Dashboard",text:"Widgets can be resized and moved around using the drag and drop functionality.",attachTo:{element:"#widget_wrapper_todos .grid-handler-top",on:"bottom"}},{id:"my-todo-widget",title:"My To-Dos",text:"The My To-Do widget shows you all the tasks that are currently assigned to you.",attachTo:{element:"#widget_wrapper_todos",on:"top"}},{id:"my-todo-widget2",title:"Group To-Dos",text:"You can use the dropdowns here to filter your tasks by project or group them by priority, status, project, or dates.",attachTo:{element:"#yourToDoContainer > .clear",on:"bottom"}},{id:"my-todo-widget4",title:"Sort To-Dos",text:"Each To-Do can be dragged and dropped to change its order. You can also drag and drop a task to the calendar to schedule it.",attachTo:{element:"#yourToDoContainer .sortable-item:first-child",on:"bottom"}},{id:"my-todo-widget-timer",title:"Start the Timer",text:"When you're ready to start working on a task, just click the start timer button.",attachTo:{element:"#yourToDoContainer .sortable-item:first-child .timerContainer",on:"bottom"}},{id:"my-todo-widget-complete",title:"Complete a Task",text:"Once a task is complete, you can mark it as done by clicking the status dropdown.",attachTo:{element:"#yourToDoContainer .sortable-item:first-child .statusDropdown",on:"bottom"}},{id:"my-todo-widget-add",title:"Add More Tasks",text:"You can add more tasks by clicking the plus button in each section, or by using the 3-dot menu next to each task.",attachTo:{element:"#yourToDoContainer .add-task-button",on:"bottom"}},{id:"finish",title:"Congratulations!",text:"You've completed the My Work dashboard tour. Head to <a href='"+leantime.appUrl+"/dashboard/show'>your project</a> to learn more about project management in Leantime."}],projectDashboard:[{id:"left-nav",title:"Project Menu",text:"The project menu organizes your project into different sections: <strong>Data Room</strong> - to host all your files and information, <strong>Think</strong> - to strategize, ideate and define, <strong>Make</strong> - to manage goals, milestones and tasks.",attachTo:{element:".leftmenu ul",on:"left"}},{id:"project-selector",title:"Project Selector",text:"Use the project selector to jump between projects. The left menu shows everything related to your current project.",attachTo:{element:".bigProjectSelector",on:"bottom"}},{id:"project-checklist",title:"Checklist",text:"The project checklist is a quick reference to see if your project contains all the necessary information for successful execution.",attachTo:{element:"#progressForm",on:"bottom"}},{id:"project-status",title:"Quick Status Updates",text:"You can use status updates to quickly share the progress of your project with your team using red, yellow and green colors. The status will be visible across the application.",attachTo:{element:".project-updates",on:"left"}},{id:"project-progress",title:"Progress",text:"The project progress indicator shows you how much work you have completed. It accounts for various task sizes, team velocity, and project milestones.",attachTo:{element:".project-progress",on:"left"}},{id:"latest-tasks",title:"Latest Tasks",text:"The list of latest tasks shows you the most recent tasks added to your project and can be used as a project inbox.",attachTo:{element:".latest-todos",on:"left"}},{id:"teams",title:"Team",text:"The team box shows you the members of this project.",attachTo:{element:".team-container",on:"top"}},{id:"finished",title:"Congratulations!",text:"You've completed the project dashboard tour. Head to the <a href='"+leantime.appUrl+"/tickets/showKanban'>To-Dos</a> to learn more about the various ways to manage your tasks in Leantime."}],kanbanBoard:[{id:"kanban-overview",title:"Your Kanban Board",text:"This is your Kanban board. It helps you visualize your work and limit work-in-progress.",attachTo:{element:".kanban-board-wrapper",on:"top"}},{id:"kanban-columns",title:"Work Flow",text:"Tasks move from left to right as they progress. Drag and drop cards to update their status.",attachTo:{element:".column",on:"right"}},{id:"kanban-columns2",title:"Flexible Columns",text:"Using the 3-dot menu, you can add or remove columns and rename them.",attachTo:{element:".column .widgettitle .inlineDropDownContainer",on:"right"}},{id:"kanban-filter",title:"Filter Tasks",text:"You can filter your tasks by various fields like priority, status, project, or dates.",attachTo:{element:".filterWrapper > .btn",on:"bottom"}},{id:"kanban-group",title:"Swimlanes",text:"Additionally, you can group your tasks to create Kanban swimlanes. This helps you visualize your work by team members, priority, or milestones.",attachTo:{element:".filterWrapper > .btn-group",on:"bottom"}},{id:"kanban-sprints",title:"Sprints",text:"If you manage your work in sprints, you can use the dropdown here to select, create, and update sprints.",attachTo:{element:".pageheader .dropdown",on:"bottom"}},{id:"kanban-congrats",title:"Congratulations!",text:"This concludes the Kanban tour. Head to the <a href='"+leantime.appUrl+"/tickets/showKanban'>Milestones</a> to learn how to create and manage milestones in Leantime."}],milestoneView:[{id:"milestone-overview",title:"Milestones",text:"Milestones help you track major outcomes and project phases.",attachTo:{element:".gantt-wrapper",on:"top"}},{id:"milestone-drag",title:"Drag & Sort",text:"Each bar represents one milestone. You can drag them along the timeline, reorder, and resize them. Everything you do on this screen updates the timing of your milestones.",attachTo:{element:".gantt-wrapper",on:"top"}},{id:"milestone-filter",title:"Filter",text:"You can filter your milestones and also view tasks that are part of them.",attachTo:{element:".filterWrapper > .btn",on:"bottom"}},{id:"milestone-timeframes",title:"Timeframes",text:"You can change the timeframe of the timeline view to see more of the year or dive deep into a daily breakdown.",attachTo:{element:".col-md-4 .pull-right",on:"bottom"}},{id:"milestone-congrats",title:"Congratulations!",text:"This concludes the milestone tour. Head to the <a href='"+leantime.appUrl+"/goalcanvas/dashboard'>Goals</a> to learn how to create and manage goals in Leantime."}],goalsView:[{id:"goals-overview",title:"Goals",text:"Goals help you track measurable impact on your projects."},{id:"goal-parts",title:"Objectives & Metrics",text:"Each goal is made up of an Objective (what you're trying to accomplish) and a Metric (how you'll measure it).",attachTo:{element:".ticketBox",on:"top"}},{id:"goal-progress",title:"Goal Progress",text:"As you update your goal metrics, the progress bar will show you how far along you are.",attachTo:{element:".ticketBox > .row > .col-md-12 .progress",on:"bottom"}},{id:"milestone-connection",title:"Milestones & Goals",text:"You can connect goals to milestones to track the task-level progress of your goals. This helps identify gaps in your project plan.",attachTo:{element:".ticketBox.fixed",on:"bottom"}},{id:"milestone-congrats",title:"Congratulations!",text:"This concludes the goals tour. Milestones, Goals, and To-Dos are the basic building blocks in Leantime. Use them to break down your work into manageable chunks. Head to the <a href='"+leantime.appUrl+"/tickets/showKanban'>Kanban Board</a> to review your tasks."}]}[d]||[]},c=function(d){const s=n(d),l=o(d);return l.forEach((e,a)=>{const i=a===0,m=a===l.length-1,v=[];i||v.push({text:leantime.i18n.__("tour.back"),classes:"shepherd-button-secondary",action:s.back}),m?v.push({text:leantime.i18n.__("tour.finish"),action:function(){t(d),confetti(),s.complete()}}):v.push({text:leantime.i18n.__("tour.next"),action:s.next}),m||v.unshift({text:leantime.i18n.__("tour.cancel"),classes:"shepherd-button-secondary",action:s.cancel}),s.addStep({...e,buttons:v})}),s.on("complete",function(){t(d)}),s},r=function(d){const s=c(d);return s.start(),s};return{createTour:n,buildTour:c,startTour:r,getTourDefinition:o}}();leantime.confettiHelper=function(){var n=function(o){const r={...{particleCount:100,spread:70,origin:{y:.6},disableForReducedMotion:!0},...o};typeof confetti=="function"?confetti(r):console.error("Confetti library not loaded")},t=function(){n({particleCount:150,spread:90,origin:{y:.8},colors:["#26a69a","#00bcd4","#4caf50","#8bc34a","#cddc39"]}),setTimeout(function(){n({particleCount:80,spread:120,origin:{y:.7},colors:["#ff9800","#ff5722","#f44336","#e91e63","#9c27b0"]})},500)};return{triggerConfetti:n,celebrateSuccess:t}}();leantime.firstTaskController=function(){var n=function(){var t=document.querySelector("#firstTaskOnboarding");if(t){t.addEventListener("submit",function(c){c.preventDefault();var r=document.querySelector("#firstTask"),d=r.value.trim();if(d==="")return r.classList.add("error"),!1;r.classList.remove("error"),leantime.confettiHelper.celebrateSuccess(),setTimeout(function(){t.submit()},1500)});var o=document.querySelector("#firstTask");o&&o.addEventListener("input",function(){this.classList.remove("error")})}};return{initFirstTaskForm:n}}();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",function(){leantime.firstTaskController.initFirstTaskForm()}):leantime.firstTaskController.initFirstTaskForm();leantime.menuController=function(){var n=function(d){if(d!==""){var s=document.querySelector("#submenu-"+d),l=document.querySelector("#submenu-icon-"+d),e="";s&&(s.style.display==="none"||getComputedStyle(s).display==="none"?(s.style.display="block",l&&(l.textContent="expand_more"),e="open"):(s.style.display="none",l&&(l.textContent="chevron_right"),e="closed"),fetch(leantime.appUrl+"/api/submenu",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({submenu:d,state:e})}))}},t=function(){document.addEventListener("click",function(d){d.target.closest(".projectselector.dropdown-menu")&&d.stopPropagation()})},o=function(){if(window.innerWidth<576){var d=document.querySelector(".mainwrapper");d&&(d.classList.remove("menuopen"),d.classList.add("menuclosed"))}var s=document.querySelector(".barmenu");s&&s.addEventListener("click",function(){var l=document.querySelector(".mainwrapper");l&&(l.classList.contains("menuopen")?(l.classList.remove("menuopen"),l.classList.add("menuclosed"),leantime.menuRepository.updateUserMenuSettings("closed")):(l.classList.remove("menuclosed"),l.classList.add("menuopen"),leantime.menuRepository.updateUserMenuSettings("open")))})},c=function(d,s="",l){var e=document.querySelector("#"+l+"-toggler-"+d),a=document.querySelector("#"+l+"-projectSelectorlist-group-"+d);if(e)if(s==="closed"?(e.classList.remove("closed","open"),e.classList.add("open")):s==="open"&&(e.classList.remove("open","closed"),e.classList.add("closed")),e.classList.contains("open")){e.classList.remove("open"),e.classList.add("closed");var i=e.querySelector(".material-symbols-outlined");i&&(i.textContent="chevron_right"),a&&(a.classList.add("closed"),a.classList.remove("open")),r(d,"closed",l)}else{e.classList.remove("closed"),e.classList.add("open");var i=e.querySelector(".material-symbols-outlined");i&&(i.textContent="expand_more"),a&&(a.classList.add("open"),a.classList.remove("closed")),r(d,"open",l)}};let r=function(d,s,l){fetch(leantime.appUrl+"/api/submenu",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({submenu:l+"-projectSelectorlist-group-"+d,state:s})})};return{toggleSubmenu:n,initProjectSelector:t,initLeftMenuHamburgerButton:o,updateGroupDropdownSetting:r,toggleProjectDropDownList:c}}();var Te=window.leantime||(window.leantime={});Te.menuRepository=function(){var n=function(t){fetch(Te.appUrl+"/api/sessions",{method:"PATCH",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({menuState:t})}).then(function(o){o.ok||console.error("Failed to update menu settings:",o.status)}).catch(function(o){console.error("Error updating menu settings:",o)})};return{updateUserMenuSettings:n}}();leantime.settingController=function(){var n,t=function(r){if(o(),r.files&&r.files[0]){var d=new FileReader,s=jQuery("#logoImg");d.onload=function(l){n=s.croppie({enableExif:!0,enforceBoundary:!1,viewport:{width:220,height:40,type:"square"},boundary:{width:400,height:200}}),n.croppie("bind",{url:l.currentTarget.result});var e=document.querySelector("#previousImage");e&&(e.style.display="none")},d.readAsDataURL(r.files[0])}},o=function(){jQuery("#logoImg").croppie("destroy");var r=document.querySelector("#previousImage");r&&(r.style.display="")},c=function(){var r=document.querySelector("#save-logo");r&&r.classList.add("running");var d=document.querySelector("#logoImg");d&&d.setAttribute("src",leantime.appUrl+"/images/loaders/loader28.gif"),n.croppie("result",{type:"blob",circle:!1,size:"original",quality:1}).then(function(s){leantime.settingService.saveLogo(s)})};return{readURL:t,clearCroppie:o,saveCroppie:c}}();leantime.settingRepository=function(){var n=function(t){var o=new FormData;o.append("file",t),fetch(leantime.appUrl+"/api/setting",{method:"POST",credentials:"include",headers:{"X-Requested-With":"XMLHttpRequest"},body:o}).then(function(c){var r=document.querySelector("#save-logo");r&&r.classList.remove("running"),location.reload()}).catch(function(c){console.log(c)})};return{saveLogo:n}}();leantime.settingService=function(){var n=function(t){leantime.settingRepository.saveLogo(t)};return{saveLogo:n}}();leantime.widgetController=function(){var n=[],t=function(e,a){let i=e.gridX||0,m=e.gridY||0,v=e.gridWidth||2,_=e.gridHeight||2;if(a.willItFit({x:i,y:m,width:v,height:_}))return{x:i,y:m};let k=Math.max(...a.engine.nodes.map(g=>g.y+g.h),0);for(let g=0;g<=k+1;g++)for(let C=0;C<=12-v;C++)if(a.willItFit({newX:C,newY:g,width:v,height:_}))return{x:C,y:g};return{x:0,y:k+1}};GridStack.renderCB=function(e,a){a.content&&typeof DOMPurify<"u"&&(e.innerHTML=DOMPurify.sanitize(a.content))};var o=function(){n=GridStack.init({margin:"8px 15px 15px 0px",handle:".grid-handler-top",minRow:2,cellHeight:"30px",float:!0,draggable:{handle:".grid-handler-top",appendTo:"body"},lazyLoad:!1,columnOpts:{breakpointForWindow:!0,breakpoints:[{w:0,c:1},{w:768,c:3},{w:1200,c:6}]}}),n.on("dragstop",function(a,i){c()}),n.on("resizestop",function(a,i){c()}),document.querySelectorAll(".grid-stack-item").forEach(function(a){var i=a.querySelector(".removeWidget");i&&i.addEventListener("click",function(){r(this.closest(".grid-stack-item"))});var m=a.querySelector(".fitContent");m&&m.addEventListener("click",function(){d(this.closest(".grid-stack-item"))})});var e=document.querySelector("#gridBoard");e&&(e.style.opacity="1")},c=function(){let e=n.save();e.sort((m,v)=>m.y===v.y?m.x-v.x:m.y-v.y);let a=null;arguments.length>0&&arguments[0].action==="toggleWidget"&&(a={widgetId:arguments[0].widgetId,visible:arguments[0].visible}),e.forEach(function(m){var v=document.createElement("div");v.innerHTML=m.content;var _=v.querySelector("[hx-get]");m.id=_?_.getAttribute("id"):null,m.widgetUrl=_?_.getAttribute("hx-get"):null,m.widgetTrigger=_?_.getAttribute("hx-trigger"):null,m.x==null&&(m.x=0),m.gridX=m.x,m.y==null&&(m.y=0),m.gridY=m.y,m.w==null&&(m.w=1),m.gridWidth=m.w,m.h==null&&(m.h=1),m.gridHeight=m.h,m.content=""});var i=new URLSearchParams;i.append("action","saveGrid"),e.forEach(function(m,v){Object.keys(m).forEach(function(_){var k=m[_];k!=null&&i.append("data["+v+"]["+_+"]",k)})}),a&&Object.keys(a).forEach(function(m){i.append("visibilityData["+m+"]",a[m])}),fetch(leantime.appUrl+"/widgets/widgetManager",{method:"POST",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:i})},r=function(e){e.remove(),n.removeWidget(e,!0),c()},d=function(e){document.querySelector(".grid-stack").gridstack.resizeToContent(e,!1),c()},s=function(e,a,i){let m=document.querySelector(".grid-stack").gridstack,v=a.checked;if(t(i,m),v){const k=document.createElement("div");k.className="grid-stack-item";const g=document.createElement("div");g.className=`grid-stack-item-content tw:p-none ${i.widgetBackground=="default"?"maincontentinner":i.background}`,g.innerHTML=l(i),k.appendChild(g),m.el.appendChild(k),m.makeWidget(k,{x:i.gridX||0,y:i.gridY||50,w:i.gridWidth||2,h:i.gridHeight||2}),htmx.process(k),c({action:"toggleWidget",widgetId:e,visible:v})}else{var _=document.getElementById(e);_&&r(_.closest(".grid-stack-item"))}},l=function(e){return'<div class="widgetInner">        <div class="'+(e.widgetBackground=="default"?"tw:pb-l":"")+`">
            <div class="stickyHeader" style="padding:15px; height:50px;  width:100%;">
               <div class="grid-handler-top tw:h-[40px] tw:cursor-grab tw:float-left tw:mr-sm">
                    <span class="material-symbols-outlined">drag_indicator</span>
                </div>
           `+(e.name!=""?'<h5 class="subtitle tw:pb-m tw:float-left tw:mr-sm">'+e.name+"</h5>":"")+`
            <div class="tw:dropdown tw:dropdown-end tw:float-right">
                <div tabindex="0" role="button" class="dropdown-toggle ticketDropDown editHeadline">
                    <span class="material-symbols-outlined" aria-hidden="true">more_vert</span>
                </div>
                <ul tabindex="0" class="dropdown-menu tw:dropdown-content tw:menu tw:bg-base-100 tw:rounded-box tw:z-50 tw:min-w-52 tw:p-2 tw:shadow-sm">
                    <li><a href="javascript:void(0)" onclick="document.activeElement.blur();" class="fitContent"><span class="material-symbols-outlined">open_in_full</span> Resize to fit content</a></li>
                        <li><a href="javascript:void(0)" onclick="document.activeElement.blur();" class="removeWidget"><span class="material-symbols-outlined">visibility_off</span> Hide</a></li>
                </ul>
            </div>

        </div>
 <div class="widgetContent tw:px-l">
             <div hx-get="`+e.widgetUrl+'" hx-trigger="'+e.widgetTrigger+'" hx-target="this" hx-swap="innerHTML" id="'+e.id+`"></div>
        </div>
       </div>
        <div class="clear"></div>
    </div>
`};return{resizeWidget:d,removeWidget:r,saveGrid:c,initGrid:o,toggleWidgetVisibility:s}}();leantime.calendarController=function(){var n=function(r){var d=new Date;d.getDate(),d.getMonth(),d.getFullYear();var s=document.body.offsetHeight-260,l=document.querySelector("#calendar"),e=new FullCalendar.Calendar(l,{timeZone:leantime.i18n.__("usersettings.timezone"),height:s,headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listDay"},titleFormat:{year:"numeric",month:"long"},dayHeaderFormat:{weekday:"short"},eventTimeFormat:leantime.dateHelper.getFormatFromSettings("timeformat","luxon"),direction:leantime.i18n.__("language.isRTL")=="false"?"ltr":"rtl",firstDay:parseInt(leantime.i18n.__("language.firstDayOfWeek"),10),locale:leantime.i18n.__("language.code"),buttonText:{today:leantime.i18n.__("buttons.today"),month:leantime.i18n.__("buttons.month"),week:leantime.i18n.__("buttons.week"),day:leantime.i18n.__("buttons.day")},selectable:!0,select:function(a){var i=prompt(leantime.i18n.__("label.event_title"));i&&e.addEvent({title:i,start:a.start,end:a.end,allDay:a.allDay}),e.unselect()},events:r,eventColor:"#0866c6"});e.render()},t=function(){document.addEventListener("DOMContentLoaded",function(){Date.prototype.addDays=function(a){return this.setDate(this.getDate()+a),this};var r=leantime.dateHelper.getFormatFromSettings("dateformat","flatpickr"),d=document.querySelector("#event_date_from"),s=document.querySelector("#event_date_to"),l=flatpickr(d,{dateFormat:r,locale:{firstDayOfWeek:parseInt(leantime.i18n.__("language.firstDayOfWeek"),10)},allowInput:!0,onOpen:function(a,i,m){if(m.element.hasAttribute("readonly"))return m.close(),!1},onChange:function(a,i){a.length>0&&e.set("minDate",a[0]),s.value===""&&e.setDate(a[0],!0)}}),e=flatpickr(s,{dateFormat:r,locale:{firstDayOfWeek:parseInt(leantime.i18n.__("language.firstDayOfWeek"),10)},allowInput:!0,onChange:function(a){a.length>0&&l.set("maxDate",a[0])}})})},o=function(){var r={sizes:{minW:400,minH:350},resizable:!0,autoSizable:!0,callbacks:{afterShowCont:function(){jQuery(".formModal").nyroModal(r)},beforeClose:function(){location.reload()}},titleFromIframe:!0};jQuery(".exportModal").nyroModal(r)},c=function(r,d){let s=document.querySelector(r),l=leantime.dateHelper.getFormatFromSettings("dateformat","luxon"),e=leantime.dateHelper.getFormatFromSettings("timeformat","luxon");const a=new FullCalendar.Calendar(s,{timeZone:leantime.i18n.__("usersettings.timezone"),height:"100%",stickyHeaderDates:!0,initialView:d,eventStartEditable:!0,dayHeaderFormat:l,eventTimeFormat:e,slotLabelFormat:e,views:{multiMonthOneMonth:{type:"multiMonth",duration:{months:1},multiMonthTitleFormat:{month:"long",year:"numeric"},dayHeaderFormat:{weekday:"short"}},timeGridWeek:{dayHeaders:!1},timeGridDay:{dayHeaders:!1},listWeek:{listDayFormat:{weekday:"long"},listDaySideFormat:leantime.dateHelper.getFormatFromSettings("dateformat","luxon")}},droppable:!0,eventSources,editable:!0,headerToolbar:!1,nowIndicator:!0,eventDrop:function(g){g.event.extendedProps.enitityType=="ticket"?fetch(leantime.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({id:g.event.extendedProps.enitityId,editFrom:luxon.DateTime.fromJSDate(g.event.start).toFormat(l),timeFrom:luxon.DateTime.fromJSDate(g.event.start).toFormat(e),editTo:luxon.DateTime.fromJSDate(g.event.end).toFormat(l),timeTo:luxon.DateTime.fromJSDate(g.event.end).toFormat(e)})}):g.event.extendedProps.enitityType=="event"&&fetch(leantime.appUrl+"/api/calendar",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({id:g.event.extendedProps.enitityId,dateFrom:g.event.startStr,dateTo:g.event.endStr})})},eventResize:function(g){g.event.extendedProps.enitityType=="ticket"?fetch(leantime.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({id:g.event.extendedProps.enitityId,editFrom:luxon.DateTime.fromJSDate(g.event.start).toFormat(l),timeFrom:luxon.DateTime.fromJSDate(g.event.start).toFormat(e),editTo:luxon.DateTime.fromJSDate(g.event.end).toFormat(l),timeTo:luxon.DateTime.fromJSDate(g.event.end).toFormat(e)})}):g.event.extendedProps.enitityType=="event"&&fetch(leantime.appUrl+"/api/calendar",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({id:g.event.extendedProps.enitityId,dateFrom:g.event.startStr,dateTo:g.event.endStr})})},eventReceive:function(g){fetch(leantime.appUrl+"/api/tickets",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({id:g.event.id,editFrom:luxon.DateTime.fromJSDate(g.event.start).toFormat(l),timeFrom:luxon.DateTime.fromJSDate(g.event.start).toFormat(e),editTo:luxon.DateTime.fromJSDate(g.event.end).toFormat(l),timeTo:luxon.DateTime.fromJSDate(g.event.end).toFormat(e)})})},eventDragStart:function(g){},eventDidMount:function(g){g.event.title&&g.el.setAttribute("title",g.event.title),g.isDraggable===!1&&g.el.classList.add("locked"),g.event.extendedProps.location!=null&&g.event.extendedProps.location!=""&&g.event.extendedProps.location.indexOf("http")==0&&(g.el.setAttribute("href",g.event.extendedProps.location),g.el.setAttribute("target","_blank"))}});k(),a.scrollToTime(Date.now());var i=null;function m(g){g&&(i&&i.destroy(),i=new FullCalendar.Draggable(g,{itemSelector:".draggable-todo",eventData:function(C){let R=JSON.parse(C.dataset.event);return{id:R.id,title:R.title,color:R.color,enitityType:"ticket",duration:"01:00",url:R.url}}}),a.scrollToTime(Date.now()))}var v=document.querySelector("#yourToDoContainer");if(v&&v.querySelectorAll(".draggable-todo").length>0&&m(v),!i){var _=new MutationObserver(function(){if(i){_.disconnect();return}var g=document.querySelector("#yourToDoContainer");g&&g.querySelectorAll(".draggable-todo").length>0&&(m(g),_.disconnect())});_.observe(document.body,{childList:!0,subtree:!0})}document.body.addEventListener("htmx:afterSwap",function(g){var C=g.detail?.target||g.target,R;C&&C.id==="yourToDoContainer"?R=C:C&&(R=C.querySelector("#yourToDoContainer")),R&&R.querySelectorAll(".draggable-todo").length>0&&m(R)});function k(){a.setOption("locale",leantime.i18n.__("language.code")),a.render(),a.scrollToTime(Date.now());var g=s.closest(".minCalendar")?s.closest(".minCalendar").querySelector(".day-selector"):null;if(g){var C=g.querySelector(".day-button.today");if(C){var R=g.clientWidth,I=C.offsetLeft-R/2+C.offsetWidth/2;g.scrollLeft=Math.max(0,I)}}var H=document.querySelector(".minCalendar .fc-prev-button");H&&H.addEventListener("click",function(){a.prev(),a.getCurrentData()});var X=document.querySelector(".minCalendar .fc-next-button");X&&X.addEventListener("click",function(){a.next()});var T=document.querySelector(".minCalendar .fc-today-button");T&&T.addEventListener("click",function(){a.today()}),document.querySelectorAll(".minCalendar .calendarViewSelect").forEach(function(L){L.addEventListener("click",function(F){var q=this.dataset.value;a.changeView(q);var B=document.querySelector(".day-selector");B&&(B.style.display=q==="timeGridDay"?"":"none"),fetch(leantime.appUrl+"/api/submenu",{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded","X-Requested-With":"XMLHttpRequest"},body:new URLSearchParams({submenu:"dashboardCalendarView",state:this.dataset.value})})})}),document.querySelectorAll(".day-button").forEach(function(L){L.addEventListener("click",function(){var F=this.dataset.date;a.gotoDate(F),document.querySelectorAll(".day-button").forEach(function(q){q.classList.remove("active")}),this.classList.add("active")})})}return s};return{initCalendar:n,initEventDatepickers:t,initExportModal:o,initWidgetCalendar:c}}();const ke=Object.assign({"../../app/Domain/Clients/Js/clientsController.js":()=>A(()=>import("./clientsController--qgiYeFs.js"),[]),"../../app/Domain/Cpcanvas/Js/cpCanvasController.js":()=>A(()=>import("./cpCanvasController-Ccl4MLeF.js"),__vite__mapDeps([0,1])),"../../app/Domain/Dbmcanvas/Js/dbmCanvasController.js":()=>A(()=>import("./dbmCanvasController-DiEiAO_-.js"),__vite__mapDeps([2,1])),"../../app/Domain/Eacanvas/Js/eaCanvasController.js":()=>A(()=>import("./eaCanvasController-DVyakhZQ.js"),__vite__mapDeps([3,1])),"../../app/Domain/Emcanvas/Js/emCanvasController.js":()=>A(()=>import("./emCanvasController-DX95SWjb.js"),__vite__mapDeps([4,1])),"../../app/Domain/Gamecenter/Js/game-snake.js":()=>A(()=>import("./game-snake-CiPrYQqj.js"),[]),"../../app/Domain/Goalcanvas/Js/goalCanvasController.js":()=>A(()=>import("./goalCanvasController-Ceh-U3nt.js"),__vite__mapDeps([5,1])),"../../app/Domain/Ideas/Js/ideasController.js":()=>A(()=>import("./ideasController-B5tm3ndV.js"),[]),"../../app/Domain/Insightscanvas/Js/insightsCanvasController.js":()=>A(()=>import("./insightsCanvasController-Bk-Bsq_B.js"),__vite__mapDeps([6,1])),"../../app/Domain/Lbmcanvas/Js/lbmCanvasController.js":()=>A(()=>import("./lbmCanvasController-1PjdkgLg.js"),__vite__mapDeps([7,1])),"../../app/Domain/Leancanvas/Js/leanCanvasController.js":()=>A(()=>import("./leanCanvasController-DFsadmWM.js"),__vite__mapDeps([8,1])),"../../app/Domain/Minempathycanvas/Js/risksCanvasController.js":()=>A(()=>import("./risksCanvasController-B1VoB3S7.js"),__vite__mapDeps([9,1])),"../../app/Domain/Obmcanvas/Js/obmCanvasController.js":()=>A(()=>import("./obmCanvasController-90KSxcTx.js"),__vite__mapDeps([10,1])),"../../app/Domain/Projects/Js/projectsController.js":()=>A(()=>import("./projectsController-CtzZEVhC.js"),[]),"../../app/Domain/Retroscanvas/Js/retroCanvasController.js":()=>A(()=>import("./retroCanvasController-DTX3tACY.js"),__vite__mapDeps([11,1])),"../../app/Domain/Riskscanvas/Js/risksCanvasController.js":()=>A(()=>import("./risksCanvasController-Lj7LPQaf.js"),__vite__mapDeps([12,1])),"../../app/Domain/Sbcanvas/Js/sbCanvasController.js":()=>A(()=>import("./sbCanvasController-Y6LrJ_Is.js"),__vite__mapDeps([13,1])),"../../app/Domain/Smcanvas/Js/smCanvasController.js":()=>A(()=>import("./smCanvasController-B7xYzqOP.js"),__vite__mapDeps([14,1])),"../../app/Domain/Sqcanvas/Js/sqCanvasController.js":()=>A(()=>import("./sqCanvasController-BGQa_nhV.js"),__vite__mapDeps([15,1])),"../../app/Domain/Swotcanvas/Js/swotCanvasController.js":()=>A(()=>import("./swotCanvasController-D5UvW75t.js"),__vite__mapDeps([16,1])),"../../app/Domain/Tickets/Js/kanbanController.js":()=>A(()=>import("./kanbanController-CdWL11RW.js"),[]),"../../app/Domain/Timesheets/Js/timesheetsController.js":()=>A(()=>import("./timesheetsController-DN_TVkXd.js"),[]),"../../app/Domain/Valuecanvas/Js/valueCanvasController.js":()=>A(()=>import("./valueCanvasController-DSAiosvP.js"),__vite__mapDeps([17,1])),"../../app/Domain/Wiki/Js/wikiController.js":()=>A(()=>import("./wikiController-BOsG0ssm.js"),[])}),ne=(document.body?.dataset?.module||"").toLowerCase();if(ne){const n=[];for(const[t,o]of Object.entries(ke))t.toLowerCase().includes(`/${ne}/`)&&n.push(o());await Promise.all(n)}const ue=new Set;ne&&ue.add(ne);function xe(n){if(!(!n||ue.has(n))){ue.add(n);for(const[t,o]of Object.entries(ke))t.toLowerCase().includes(`/${n}/`)&&o()}}function ce(n){var t=n.replace(/^https?:\/\/[^/]+/,"").match(/^\/?([^/?#]+)/);return t?t[1].toLowerCase():""}document.addEventListener("htmx:configRequest",function(n){if(n.detail.boosted){var t=ce(n.detail.path||"");t&&xe(t)}});document.addEventListener("htmx:pushedIntoHistory",function(){var n=ce(window.location.pathname);n&&(document.body.dataset.module=n)});document.addEventListener("htmx:historyRestore",function(){var n=ce(window.location.pathname);n&&(document.body.dataset.module=n,xe(n))});
