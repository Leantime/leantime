var luxon=function(e){"use strict";function t(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(s=r.key,n=void 0,"symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(s,"string"))?n:String(n)),r)}var s,n}function i(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},r.apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}function a(e,t,i){return a=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct.bind():function(e,t,i){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return i&&o(s,i.prototype),s},a.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,n(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,e)},l(e)}function h(e,t){if(null==e)return{};var i,r,s={},n=Object.keys(e);for(r=0;r<n.length;r++)i=n[r],t.indexOf(i)>=0||(s[i]=e[i]);return s}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function d(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(e){if("string"==typeof e)return c(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(l(Error)),p=function(e){function t(t){return e.call(this,"Invalid DateTime: "+t.toMessage())||this}return s(t,e),t}(u),f=function(e){function t(t){return e.call(this,"Invalid Interval: "+t.toMessage())||this}return s(t,e),t}(u),m=function(e){function t(t){return e.call(this,"Invalid Duration: "+t.toMessage())||this}return s(t,e),t}(u),g=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(u),y=function(e){function t(t){return e.call(this,"Invalid unit "+t)||this}return s(t,e),t}(u),v=function(e){function t(){return e.apply(this,arguments)||this}return s(t,e),t}(u),b=function(e){function t(){return e.call(this,"Zone is an abstract class")||this}return s(t,e),t}(u),w="numeric",_="short",k="long",S={year:w,month:w,day:w},x={year:w,month:_,day:w},T={year:w,month:_,day:w,weekday:_},j={year:w,month:k,day:w},C={year:w,month:k,day:w,weekday:k},E={hour:w,minute:w},O={hour:w,minute:w,second:w},P={hour:w,minute:w,second:w,timeZoneName:_},F={hour:w,minute:w,second:w,timeZoneName:k},M={hour:w,minute:w,hourCycle:"h23"},D={hour:w,minute:w,second:w,hourCycle:"h23"},A={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:_},R={hour:w,minute:w,second:w,hourCycle:"h23",timeZoneName:k},L={year:w,month:w,day:w,hour:w,minute:w},I={year:w,month:w,day:w,hour:w,minute:w,second:w},N={year:w,month:_,day:w,hour:w,minute:w},B={year:w,month:_,day:w,hour:w,minute:w,second:w},z={year:w,month:_,day:w,weekday:_,hour:w,minute:w},U={year:w,month:k,day:w,hour:w,minute:w,timeZoneName:_},H={year:w,month:k,day:w,hour:w,minute:w,second:w,timeZoneName:_},W={year:w,month:k,day:w,weekday:k,hour:w,minute:w,timeZoneName:k},V={year:w,month:k,day:w,weekday:k,hour:w,minute:w,second:w,timeZoneName:k},q=function(){function e(){}var t=e.prototype;return t.offsetName=function(e,t){throw new b},t.formatOffset=function(e,t){throw new b},t.offset=function(e){throw new b},t.equals=function(e){throw new b},i(e,[{key:"type",get:function(){throw new b}},{key:"name",get:function(){throw new b}},{key:"ianaName",get:function(){return this.name}},{key:"isUniversal",get:function(){throw new b}},{key:"isValid",get:function(){throw new b}}]),e}(),G=null,Y=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var r=t.prototype;return r.offsetName=function(e,t){return lt(e,t.format,t.locale)},r.formatOffset=function(e,t){return ut(this.offset(e),t)},r.offset=function(e){return-new Date(e).getTimezoneOffset()},r.equals=function(e){return"system"===e.type},i(t,[{key:"type",get:function(){return"system"}},{key:"name",get:function(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!0}}],[{key:"instance",get:function(){return null===G&&(G=new t),G}}]),t}(q),$={};var K={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};var X={},Z=function(e){function t(i){var r;return(r=e.call(this)||this).zoneName=i,r.valid=t.isValidZone(i),r}s(t,e),t.create=function(e){return X[e]||(X[e]=new t(e)),X[e]},t.resetCache=function(){X={},$={}},t.isValidSpecifier=function(e){return this.isValidZone(e)},t.isValidZone=function(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch(e){return!1}};var r=t.prototype;return r.offsetName=function(e,t){return lt(e,t.format,t.locale,this.name)},r.formatOffset=function(e,t){return ut(this.offset(e),t)},r.offset=function(e){var t=new Date(e);if(isNaN(t))return NaN;var i,r=(i=this.name,$[i]||($[i]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:i,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),$[i]),s=r.formatToParts?function(e,t){for(var i=e.formatToParts(t),r=[],s=0;s<i.length;s++){var n=i[s],o=n.type,a=n.value,l=K[o];"era"===o?r[l]=a:Ue(l)||(r[l]=parseInt(a,10))}return r}(r,t):function(e,t){var i=e.format(t).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),s=r[1],n=r[2];return[r[3],s,n,r[4],r[5],r[6],r[7]]}(r,t),n=s[0],o=s[1],a=s[2],l=s[3],h=s[4],c=s[5],d=s[6];"BC"===l&&(n=1-Math.abs(n));var u=+t,p=u%1e3;return(st({year:n,month:o,day:a,hour:24===h?0:h,minute:c,second:d,millisecond:0})-(u-=p>=0?p:1e3+p))/6e4},r.equals=function(e){return"iana"===e.type&&e.name===this.name},i(t,[{key:"type",get:function(){return"iana"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return this.valid}}]),t}(q),J=["base"],Q=["padTo","floor"],ee={};var te={};function ie(e,t){void 0===t&&(t={});var i=JSON.stringify([e,t]),r=te[i];return r||(r=new Intl.DateTimeFormat(e,t),te[i]=r),r}var re={};var se={};var ne=null;var oe={};function ae(e,t,i,r){var s=e.listingMode();return"error"===s?null:"en"===s?i(t):r(t)}var le=function(){function e(e,t,i){this.padTo=i.padTo||0,this.floor=i.floor||!1,i.padTo,i.floor;var s=h(i,Q);if(!t||Object.keys(s).length>0){var n=r({useGrouping:!1},i);i.padTo>0&&(n.minimumIntegerDigits=i.padTo),this.inf=function(e,t){void 0===t&&(t={});var i=JSON.stringify([e,t]),r=re[i];return r||(r=new Intl.NumberFormat(e,t),re[i]=r),r}(e,n)}}return e.prototype.format=function(e){if(this.inf){var t=this.floor?Math.floor(e):e;return this.inf.format(t)}return Xe(this.floor?Math.floor(e):et(e,3),this.padTo)},e}(),he=function(){function e(e,t,i){this.opts=i,this.originalZone=void 0;var s=void 0;if(this.opts.timeZone)this.dt=e;else if("fixed"===e.zone.type){var n=e.offset/60*-1,o=n>=0?"Etc/GMT+"+n:"Etc/GMT"+n;0!==e.offset&&Z.create(o).valid?(s=o,this.dt=e):(s="UTC",this.dt=0===e.offset?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else"system"===e.zone.type?this.dt=e:"iana"===e.zone.type?(this.dt=e,s=e.zone.name):(s="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);var a=r({},this.opts);a.timeZone=a.timeZone||s,this.dtf=ie(t,a)}var t=e.prototype;return t.format=function(){return this.originalZone?this.formatToParts().map((function(e){return e.value})).join(""):this.dtf.format(this.dt.toJSDate())},t.formatToParts=function(){var e=this,t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((function(t){return"timeZoneName"===t.type?r({},t,{value:e.originalZone.offsetName(e.dt.ts,{locale:e.dt.locale,format:e.opts.timeZoneName})}):t})):t},t.resolvedOptions=function(){return this.dtf.resolvedOptions()},e}(),ce=function(){function e(e,t,i){this.opts=r({style:"long"},i),!t&&Ve()&&(this.rtf=function(e,t){void 0===t&&(t={});var i=t;i.base;var r=h(i,J),s=JSON.stringify([e,r]),n=se[s];return n||(n=new Intl.RelativeTimeFormat(e,t),se[s]=n),n}(e,i))}var t=e.prototype;return t.format=function(e,t){return this.rtf?this.rtf.format(e,t):function(e,t,i,r){void 0===i&&(i="always");void 0===r&&(r=!1);var s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},n=-1===["hours","minutes","seconds"].indexOf(e);if("auto"===i&&n){var o="days"===e;switch(t){case 1:return o?"tomorrow":"next "+s[e][0];case-1:return o?"yesterday":"last "+s[e][0];case 0:return o?"today":"this "+s[e][0]}}var a=Object.is(t,-0)||t<0,l=Math.abs(t),h=1===l,c=s[e],d=r?h?c[1]:c[2]||c[1]:h?s[e][0]:e;return a?l+" "+d+" ago":"in "+l+" "+d}(t,e,this.opts.numeric,"long"!==this.opts.style)},t.formatToParts=function(e,t){return this.rtf?this.rtf.formatToParts(e,t):[]},e}(),de={firstDay:1,minimalDays:4,weekend:[6,7]},ue=function(){function e(e,t,i,r,s){var n=function(e){var t=e.indexOf("-x-");-1!==t&&(e=e.substring(0,t));var i,r,s=e.indexOf("-u-");if(-1===s)return[e];try{i=ie(e).resolvedOptions(),r=e}catch(t){var n=e.substring(0,s);i=ie(n).resolvedOptions(),r=n}var o=i;return[r,o.numberingSystem,o.calendar]}(e),o=n[0],a=n[1],l=n[2];this.locale=o,this.numberingSystem=t||a||null,this.outputCalendar=i||l||null,this.weekSettings=r,this.intl=function(e,t,i){return i||t?(e.includes("-u-")||(e+="-u"),i&&(e+="-ca-"+i),t&&(e+="-nu-"+t),e):e}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}e.fromOpts=function(t){return e.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)},e.create=function(t,i,r,s,n){void 0===n&&(n=!1);var o=t||Te.defaultLocale;return new e(o||(n?"en-US":ne||(ne=(new Intl.DateTimeFormat).resolvedOptions().locale)),i||Te.defaultNumberingSystem,r||Te.defaultOutputCalendar,$e(s)||Te.defaultWeekSettings,o)},e.resetCache=function(){ne=null,te={},re={},se={}},e.fromObject=function(t){var i=void 0===t?{}:t,r=i.locale,s=i.numberingSystem,n=i.outputCalendar,o=i.weekSettings;return e.create(r,s,n,o)};var t=e.prototype;return t.listingMode=function(){var e=this.isEnglish(),t=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return e&&t?"en":"intl"},t.clone=function(t){return t&&0!==Object.getOwnPropertyNames(t).length?e.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,$e(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this},t.redefaultToEN=function(e){return void 0===e&&(e={}),this.clone(r({},e,{defaultToEN:!0}))},t.redefaultToSystem=function(e){return void 0===e&&(e={}),this.clone(r({},e,{defaultToEN:!1}))},t.months=function(e,t){var i=this;return void 0===t&&(t=!1),ae(this,e,yt,(function(){var r=t?{month:e,day:"numeric"}:{month:e},s=t?"format":"standalone";return i.monthsCache[s][e]||(i.monthsCache[s][e]=function(e){for(var t=[],i=1;i<=12;i++){var r=Sr.utc(2009,i,1);t.push(e(r))}return t}((function(e){return i.extract(e,r,"month")}))),i.monthsCache[s][e]}))},t.weekdays=function(e,t){var i=this;return void 0===t&&(t=!1),ae(this,e,_t,(function(){var r=t?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},s=t?"format":"standalone";return i.weekdaysCache[s][e]||(i.weekdaysCache[s][e]=function(e){for(var t=[],i=1;i<=7;i++){var r=Sr.utc(2016,11,13+i);t.push(e(r))}return t}((function(e){return i.extract(e,r,"weekday")}))),i.weekdaysCache[s][e]}))},t.meridiems=function(){var e=this;return ae(this,void 0,(function(){return kt}),(function(){if(!e.meridiemCache){var t={hour:"numeric",hourCycle:"h12"};e.meridiemCache=[Sr.utc(2016,11,13,9),Sr.utc(2016,11,13,19)].map((function(i){return e.extract(i,t,"dayperiod")}))}return e.meridiemCache}))},t.eras=function(e){var t=this;return ae(this,e,jt,(function(){var i={era:e};return t.eraCache[e]||(t.eraCache[e]=[Sr.utc(-40,1,1),Sr.utc(2017,1,1)].map((function(e){return t.extract(e,i,"era")}))),t.eraCache[e]}))},t.extract=function(e,t,i){var r=this.dtFormatter(e,t).formatToParts().find((function(e){return e.type.toLowerCase()===i}));return r?r.value:null},t.numberFormatter=function(e){return void 0===e&&(e={}),new le(this.intl,e.forceSimple||this.fastNumbers,e)},t.dtFormatter=function(e,t){return void 0===t&&(t={}),new he(e,this.intl,t)},t.relFormatter=function(e){return void 0===e&&(e={}),new ce(this.intl,this.isEnglish(),e)},t.listFormatter=function(e){return void 0===e&&(e={}),function(e,t){void 0===t&&(t={});var i=JSON.stringify([e,t]),r=ee[i];return r||(r=new Intl.ListFormat(e,t),ee[i]=r),r}(this.intl,e)},t.isEnglish=function(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")},t.getWeekSettings=function(){return this.weekSettings?this.weekSettings:qe()?function(e){var t=oe[e];if(!t){var i=new Intl.Locale(e);t="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,oe[e]=t}return t}(this.locale):de},t.getStartOfWeek=function(){return this.getWeekSettings().firstDay},t.getMinDaysInFirstWeek=function(){return this.getWeekSettings().minimalDays},t.getWeekendDays=function(){return this.getWeekSettings().weekend},t.equals=function(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar},i(e,[{key:"fastNumbers",get:function(){var e;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(e=this).numberingSystem||"latn"===e.numberingSystem)&&("latn"===e.numberingSystem||!e.locale||e.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}}]),e}(),pe=null,fe=function(e){function t(t){var i;return(i=e.call(this)||this).fixed=t,i}s(t,e),t.instance=function(e){return 0===e?t.utcInstance:new t(e)},t.parseSpecifier=function(e){if(e){var i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new t(ht(i[1],i[2]))}return null};var r=t.prototype;return r.offsetName=function(){return this.name},r.formatOffset=function(e,t){return ut(this.fixed,t)},r.offset=function(){return this.fixed},r.equals=function(e){return"fixed"===e.type&&e.fixed===this.fixed},i(t,[{key:"type",get:function(){return"fixed"}},{key:"name",get:function(){return 0===this.fixed?"UTC":"UTC"+ut(this.fixed,"narrow")}},{key:"ianaName",get:function(){return 0===this.fixed?"Etc/UTC":"Etc/GMT"+ut(-this.fixed,"narrow")}},{key:"isUniversal",get:function(){return!0}},{key:"isValid",get:function(){return!0}}],[{key:"utcInstance",get:function(){return null===pe&&(pe=new t(0)),pe}}]),t}(q),me=function(e){function t(t){var i;return(i=e.call(this)||this).zoneName=t,i}s(t,e);var r=t.prototype;return r.offsetName=function(){return null},r.formatOffset=function(){return""},r.offset=function(){return NaN},r.equals=function(){return!1},i(t,[{key:"type",get:function(){return"invalid"}},{key:"name",get:function(){return this.zoneName}},{key:"isUniversal",get:function(){return!1}},{key:"isValid",get:function(){return!1}}]),t}(q);function ge(e,t){if(Ue(e)||null===e)return t;if(e instanceof q)return e;if("string"==typeof e){var i=e.toLowerCase();return"default"===i?t:"local"===i||"system"===i?Y.instance:"utc"===i||"gmt"===i?fe.utcInstance:fe.parseSpecifier(i)||Z.create(e)}return He(e)?fe.instance(e):"object"==typeof e&&"offset"in e&&"function"==typeof e.offset?e:new me(e)}var ye,ve=function(){return Date.now()},be="system",we=null,_e=null,ke=null,Se=60,xe=null,Te=function(){function e(){}return e.resetCaches=function(){ue.resetCache(),Z.resetCache()},i(e,null,[{key:"now",get:function(){return ve},set:function(e){ve=e}},{key:"defaultZone",get:function(){return ge(be,Y.instance)},set:function(e){be=e}},{key:"defaultLocale",get:function(){return we},set:function(e){we=e}},{key:"defaultNumberingSystem",get:function(){return _e},set:function(e){_e=e}},{key:"defaultOutputCalendar",get:function(){return ke},set:function(e){ke=e}},{key:"defaultWeekSettings",get:function(){return xe},set:function(e){xe=$e(e)}},{key:"twoDigitCutoffYear",get:function(){return Se},set:function(e){Se=e%100}},{key:"throwOnInvalid",get:function(){return ye},set:function(e){ye=e}}]),e}(),je=function(){function e(e,t){this.reason=e,this.explanation=t}return e.prototype.toMessage=function(){return this.explanation?this.reason+": "+this.explanation:this.reason},e}(),Ce=[0,31,59,90,120,151,181,212,243,273,304,334],Ee=[0,31,60,91,121,152,182,213,244,274,305,335];function Oe(e,t){return new je("unit out of range","you specified "+t+" (of type "+typeof t+") as a "+e+", which is invalid")}function Pe(e,t,i){var r=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);var s=r.getUTCDay();return 0===s?7:s}function Fe(e,t,i){return i+(tt(e)?Ee:Ce)[t-1]}function Me(e,t){var i=tt(e)?Ee:Ce,r=i.findIndex((function(e){return e<t}));return{month:r+1,day:t-i[r]}}function De(e,t){return(e-t+7)%7+1}function Ae(e,t,i){void 0===t&&(t=4),void 0===i&&(i=1);var s,n=e.year,o=e.month,a=e.day,l=Fe(n,o,a),h=De(Pe(n,o,a),i),c=Math.floor((l-h+14-t)/7);return c<1?c=ot(s=n-1,t,i):c>ot(n,t,i)?(s=n+1,c=1):s=n,r({weekYear:s,weekNumber:c,weekday:h},pt(e))}function Re(e,t,i){void 0===t&&(t=4),void 0===i&&(i=1);var s,n=e.weekYear,o=e.weekNumber,a=e.weekday,l=De(Pe(n,1,t),i),h=it(n),c=7*o+a-l-7+t;c<1?c+=it(s=n-1):c>h?(s=n+1,c-=it(n)):s=n;var d=Me(s,c);return r({year:s,month:d.month,day:d.day},pt(e))}function Le(e){var t=e.year;return r({year:t,ordinal:Fe(t,e.month,e.day)},pt(e))}function Ie(e){var t=e.year,i=Me(t,e.ordinal);return r({year:t,month:i.month,day:i.day},pt(e))}function Ne(e,t){if(!Ue(e.localWeekday)||!Ue(e.localWeekNumber)||!Ue(e.localWeekYear)){if(!Ue(e.weekday)||!Ue(e.weekNumber)||!Ue(e.weekYear))throw new g("Cannot mix locale-based week fields with ISO-based week fields");return Ue(e.localWeekday)||(e.weekday=e.localWeekday),Ue(e.localWeekNumber)||(e.weekNumber=e.localWeekNumber),Ue(e.localWeekYear)||(e.weekYear=e.localWeekYear),delete e.localWeekday,delete e.localWeekNumber,delete e.localWeekYear,{minDaysInFirstWeek:t.getMinDaysInFirstWeek(),startOfWeek:t.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Be(e){var t=We(e.year),i=Ke(e.month,1,12),r=Ke(e.day,1,rt(e.year,e.month));return t?i?!r&&Oe("day",e.day):Oe("month",e.month):Oe("year",e.year)}function ze(e){var t=e.hour,i=e.minute,r=e.second,s=e.millisecond,n=Ke(t,0,23)||24===t&&0===i&&0===r&&0===s,o=Ke(i,0,59),a=Ke(r,0,59),l=Ke(s,0,999);return n?o?a?!l&&Oe("millisecond",s):Oe("second",r):Oe("minute",i):Oe("hour",t)}function Ue(e){return void 0===e}function He(e){return"number"==typeof e}function We(e){return"number"==typeof e&&e%1==0}function Ve(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function qe(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function Ge(e,t,i){if(0!==e.length)return e.reduce((function(e,r){var s=[t(r),r];return e&&i(e[0],s[0])===e[0]?e:s}),null)[1]}function Ye(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function $e(e){if(null==e)return null;if("object"!=typeof e)throw new v("Week settings must be an object");if(!Ke(e.firstDay,1,7)||!Ke(e.minimalDays,1,7)||!Array.isArray(e.weekend)||e.weekend.some((function(e){return!Ke(e,1,7)})))throw new v("Invalid week settings");return{firstDay:e.firstDay,minimalDays:e.minimalDays,weekend:Array.from(e.weekend)}}function Ke(e,t,i){return We(e)&&e>=t&&e<=i}function Xe(e,t){return void 0===t&&(t=2),e<0?"-"+(""+-e).padStart(t,"0"):(""+e).padStart(t,"0")}function Ze(e){return Ue(e)||null===e||""===e?void 0:parseInt(e,10)}function Je(e){return Ue(e)||null===e||""===e?void 0:parseFloat(e)}function Qe(e){if(!Ue(e)&&null!==e&&""!==e){var t=1e3*parseFloat("0."+e);return Math.floor(t)}}function et(e,t,i){void 0===i&&(i=!1);var r=Math.pow(10,t);return(i?Math.trunc:Math.round)(e*r)/r}function tt(e){return e%4==0&&(e%100!=0||e%400==0)}function it(e){return tt(e)?366:365}function rt(e,t){var i=function(e,t){return e-t*Math.floor(e/t)}(t-1,12)+1;return 2===i?tt(e+(t-i)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function st(e){var t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t)).setUTCFullYear(e.year,e.month-1,e.day),+t}function nt(e,t,i){return-De(Pe(e,1,t),i)+t-1}function ot(e,t,i){void 0===t&&(t=4),void 0===i&&(i=1);var r=nt(e,t,i),s=nt(e+1,t,i);return(it(e)-r+s)/7}function at(e){return e>99?e:e>Te.twoDigitCutoffYear?1900+e:2e3+e}function lt(e,t,i,s){void 0===s&&(s=null);var n=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(o.timeZone=s);var a=r({timeZoneName:t},o),l=new Intl.DateTimeFormat(i,a).formatToParts(n).find((function(e){return"timezonename"===e.type.toLowerCase()}));return l?l.value:null}function ht(e,t){var i=parseInt(e,10);Number.isNaN(i)&&(i=0);var r=parseInt(t,10)||0;return 60*i+(i<0||Object.is(i,-0)?-r:r)}function ct(e){var t=Number(e);if("boolean"==typeof e||""===e||Number.isNaN(t))throw new v("Invalid unit value "+e);return t}function dt(e,t){var i={};for(var r in e)if(Ye(e,r)){var s=e[r];if(null==s)continue;i[t(r)]=ct(s)}return i}function ut(e,t){var i=Math.trunc(Math.abs(e/60)),r=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return""+s+Xe(i,2)+":"+Xe(r,2);case"narrow":return""+s+i+(r>0?":"+r:"");case"techie":return""+s+Xe(i,2)+Xe(r,2);default:throw new RangeError("Value format "+t+" is out of range for property format")}}function pt(e){return function(e,t){return t.reduce((function(t,i){return t[i]=e[i],t}),{})}(e,["hour","minute","second","millisecond"])}var ft=["January","February","March","April","May","June","July","August","September","October","November","December"],mt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],gt=["J","F","M","A","M","J","J","A","S","O","N","D"];function yt(e){switch(e){case"narrow":return[].concat(gt);case"short":return[].concat(mt);case"long":return[].concat(ft);case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var vt=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],bt=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],wt=["M","T","W","T","F","S","S"];function _t(e){switch(e){case"narrow":return[].concat(wt);case"short":return[].concat(bt);case"long":return[].concat(vt);case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var kt=["AM","PM"],St=["Before Christ","Anno Domini"],xt=["BC","AD"],Tt=["B","A"];function jt(e){switch(e){case"narrow":return[].concat(Tt);case"short":return[].concat(xt);case"long":return[].concat(St);default:return null}}function Ct(e,t){for(var i,r="",s=d(e);!(i=s()).done;){var n=i.value;n.literal?r+=n.val:r+=t(n.val)}return r}var Et={D:S,DD:x,DDD:j,DDDD:C,t:E,tt:O,ttt:P,tttt:F,T:M,TT:D,TTT:A,TTTT:R,f:L,ff:N,fff:U,ffff:W,F:I,FF:B,FFF:H,FFFF:V},Ot=function(){function e(e,t){this.opts=t,this.loc=e,this.systemLoc=null}e.create=function(t,i){return void 0===i&&(i={}),new e(t,i)},e.parseFormat=function(e){for(var t=null,i="",r=!1,s=[],n=0;n<e.length;n++){var o=e.charAt(n);"'"===o?(i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),t=null,i="",r=!r):r||o===t?i+=o:(i.length>0&&s.push({literal:/^\s+$/.test(i),val:i}),i=o,t=o)}return i.length>0&&s.push({literal:r||/^\s+$/.test(i),val:i}),s},e.macroTokenToFormatOpts=function(e){return Et[e]};var t=e.prototype;return t.formatWithSystemDefault=function(e,t){return null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,r({},this.opts,t)).format()},t.dtFormatter=function(e,t){return void 0===t&&(t={}),this.loc.dtFormatter(e,r({},this.opts,t))},t.formatDateTime=function(e,t){return this.dtFormatter(e,t).format()},t.formatDateTimeParts=function(e,t){return this.dtFormatter(e,t).formatToParts()},t.formatInterval=function(e,t){return this.dtFormatter(e.start,t).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())},t.resolvedOptions=function(e,t){return this.dtFormatter(e,t).resolvedOptions()},t.num=function(e,t){if(void 0===t&&(t=0),this.opts.forceSimple)return Xe(e,t);var i=r({},this.opts);return t>0&&(i.padTo=t),this.loc.numberFormatter(i).format(e)},t.formatDateTimeFromString=function(t,i){var r=this,s="en"===this.loc.listingMode(),n=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,o=function(e,i){return r.loc.extract(t,e,i)},a=function(e){return t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):""},l=function(){return s?function(e){return kt[e.hour<12?0:1]}(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod")},h=function(e,i){return s?function(e,t){return yt(t)[e.month-1]}(t,e):o(i?{month:e}:{month:e,day:"numeric"},"month")},c=function(e,i){return s?function(e,t){return _t(t)[e.weekday-1]}(t,e):o(i?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday")},d=function(e){return s?function(e,t){return jt(t)[e.year<0?0:1]}(t,e):o({era:e},"era")};return Ct(e.parseFormat(i),(function(i){switch(i){case"S":return r.num(t.millisecond);case"u":case"SSS":return r.num(t.millisecond,3);case"s":return r.num(t.second);case"ss":return r.num(t.second,2);case"uu":return r.num(Math.floor(t.millisecond/10),2);case"uuu":return r.num(Math.floor(t.millisecond/100));case"m":return r.num(t.minute);case"mm":return r.num(t.minute,2);case"h":return r.num(t.hour%12==0?12:t.hour%12);case"hh":return r.num(t.hour%12==0?12:t.hour%12,2);case"H":return r.num(t.hour);case"HH":return r.num(t.hour,2);case"Z":return a({format:"narrow",allowZ:r.opts.allowZ});case"ZZ":return a({format:"short",allowZ:r.opts.allowZ});case"ZZZ":return a({format:"techie",allowZ:r.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:r.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:r.loc.locale});case"z":return t.zoneName;case"a":return l();case"d":return n?o({day:"numeric"},"day"):r.num(t.day);case"dd":return n?o({day:"2-digit"},"day"):r.num(t.day,2);case"c":case"E":return r.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return n?o({month:"numeric",day:"numeric"},"month"):r.num(t.month);case"LL":return n?o({month:"2-digit",day:"numeric"},"month"):r.num(t.month,2);case"LLL":return h("short",!0);case"LLLL":return h("long",!0);case"LLLLL":return h("narrow",!0);case"M":return n?o({month:"numeric"},"month"):r.num(t.month);case"MM":return n?o({month:"2-digit"},"month"):r.num(t.month,2);case"MMM":return h("short",!1);case"MMMM":return h("long",!1);case"MMMMM":return h("narrow",!1);case"y":return n?o({year:"numeric"},"year"):r.num(t.year);case"yy":return n?o({year:"2-digit"},"year"):r.num(t.year.toString().slice(-2),2);case"yyyy":return n?o({year:"numeric"},"year"):r.num(t.year,4);case"yyyyyy":return n?o({year:"numeric"},"year"):r.num(t.year,6);case"G":return d("short");case"GG":return d("long");case"GGGGG":return d("narrow");case"kk":return r.num(t.weekYear.toString().slice(-2),2);case"kkkk":return r.num(t.weekYear,4);case"W":return r.num(t.weekNumber);case"WW":return r.num(t.weekNumber,2);case"n":return r.num(t.localWeekNumber);case"nn":return r.num(t.localWeekNumber,2);case"ii":return r.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return r.num(t.localWeekYear,4);case"o":return r.num(t.ordinal);case"ooo":return r.num(t.ordinal,3);case"q":return r.num(t.quarter);case"qq":return r.num(t.quarter,2);case"X":return r.num(Math.floor(t.ts/1e3));case"x":return r.num(t.ts);default:return function(i){var s=e.macroTokenToFormatOpts(i);return s?r.formatWithSystemDefault(t,s):i}(i)}}))},t.formatDurationFromString=function(t,i){var r,s=this,n=function(e){switch(e[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},o=e.parseFormat(i),a=o.reduce((function(e,t){var i=t.literal,r=t.val;return i?e:e.concat(r)}),[]),l=t.shiftTo.apply(t,a.map(n).filter((function(e){return e})));return Ct(o,(r=l,function(e){var t=n(e);return t?s.num(r.get(t),e.length):e}))},e}(),Pt=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ft(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var r=t.reduce((function(e,t){return e+t.source}),"");return RegExp("^"+r+"$")}function Mt(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce((function(t,i){var s=t[0],n=t[1],o=t[2],a=i(e,o),l=a[0],h=a[1],c=a[2];return[r({},s,l),h||n,c]}),[{},null,1]).slice(0,2)}}function Dt(e){if(null==e)return[null,null];for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(var s=0,n=i;s<n.length;s++){var o=n[s],a=o[0],l=o[1],h=a.exec(e);if(h)return l(h)}return[null,null]}function At(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e,i){var r,s={};for(r=0;r<t.length;r++)s[t[r]]=Ze(e[i+r]);return[s,null,i+r]}}var Rt=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Lt=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,It=RegExp(""+Lt.source+("(?:"+Rt.source+"?(?:\\[("+Pt.source+")\\])?)?")),Nt=RegExp("(?:T"+It.source+")?"),Bt=At("weekYear","weekNumber","weekDay"),zt=At("year","ordinal"),Ut=RegExp(Lt.source+" ?(?:"+Rt.source+"|("+Pt.source+"))?"),Ht=RegExp("(?: "+Ut.source+")?");function Wt(e,t,i){var r=e[t];return Ue(r)?i:Ze(r)}function Vt(e,t){return[{hours:Wt(e,t,0),minutes:Wt(e,t+1,0),seconds:Wt(e,t+2,0),milliseconds:Qe(e[t+3])},null,t+4]}function qt(e,t){var i=!e[t]&&!e[t+1],r=ht(e[t+1],e[t+2]);return[{},i?null:fe.instance(r),t+3]}function Gt(e,t){return[{},e[t]?Z.create(e[t]):null,t+1]}var Yt=RegExp("^T?"+Lt.source+"$"),$t=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Kt(e){var t=e[0],i=e[1],r=e[2],s=e[3],n=e[4],o=e[5],a=e[6],l=e[7],h=e[8],c="-"===t[0],d=l&&"-"===l[0],u=function(e,t){return void 0===t&&(t=!1),void 0!==e&&(t||e&&c)?-e:e};return[{years:u(Je(i)),months:u(Je(r)),weeks:u(Je(s)),days:u(Je(n)),hours:u(Je(o)),minutes:u(Je(a)),seconds:u(Je(l),"-0"===l),milliseconds:u(Qe(h),d)}]}var Xt={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Zt(e,t,i,r,s,n,o){var a={year:2===t.length?at(Ze(t)):Ze(t),month:mt.indexOf(i)+1,day:Ze(r),hour:Ze(s),minute:Ze(n)};return o&&(a.second=Ze(o)),e&&(a.weekday=e.length>3?vt.indexOf(e)+1:bt.indexOf(e)+1),a}var Jt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Qt(e){var t,i=e[1],r=e[2],s=e[3],n=e[4],o=e[5],a=e[6],l=e[7],h=e[8],c=e[9],d=e[10],u=e[11],p=Zt(i,n,s,r,o,a,l);return t=h?Xt[h]:c?0:ht(d,u),[p,new fe(t)]}var ei=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,ti=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function ri(e){var t=e[1],i=e[2],r=e[3];return[Zt(t,e[4],r,i,e[5],e[6],e[7]),fe.utcInstance]}function si(e){var t=e[1],i=e[2],r=e[3],s=e[4],n=e[5],o=e[6];return[Zt(t,e[7],i,r,s,n,o),fe.utcInstance]}var ni=Ft(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Nt),oi=Ft(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Nt),ai=Ft(/(\d{4})-?(\d{3})/,Nt),li=Ft(It),hi=Mt((function(e,t){return[{year:Wt(e,t),month:Wt(e,t+1,1),day:Wt(e,t+2,1)},null,t+3]}),Vt,qt,Gt),ci=Mt(Bt,Vt,qt,Gt),di=Mt(zt,Vt,qt,Gt),ui=Mt(Vt,qt,Gt);var pi=Mt(Vt);var fi=Ft(/(\d{4})-(\d\d)-(\d\d)/,Ht),mi=Ft(Ut),gi=Mt(Vt,qt,Gt);var yi="Invalid Duration",vi={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},bi=r({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},vi),wi=365.2425,_i=30.436875,ki=r({years:{quarters:4,months:12,weeks:52.1775,days:wi,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:_i,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},vi),Si=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],xi=Si.slice(0).reverse();function Ti(e,t,i){void 0===i&&(i=!1);var s={values:i?t.values:r({},e.values,t.values||{}),loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new Ei(s)}function ji(e,t){for(var i,r,s=null!=(i=t.milliseconds)?i:0,n=d(xi.slice(1));!(r=n()).done;){var o=r.value;t[o]&&(s+=t[o]*e[o].milliseconds)}return s}function Ci(e,t){var i=ji(e,t)<0?-1:1;Si.reduceRight((function(r,s){if(Ue(t[s]))return r;if(r){var n=t[r]*i,o=e[s][r],a=Math.floor(n/o);t[s]+=a*i,t[r]-=a*o*i}return s}),null),Si.reduce((function(i,r){if(Ue(t[r]))return i;if(i){var s=t[i]%1;t[i]-=s,t[r]+=s*e[i][r]}return r}),null)}var Ei=function(e){function t(e){var t="longterm"===e.conversionAccuracy||!1,i=t?ki:bi;e.matrix&&(i=e.matrix),this.values=e.values,this.loc=e.loc||ue.create(),this.conversionAccuracy=t?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=i,this.isLuxonDuration=!0}t.fromMillis=function(e,i){return t.fromObject({milliseconds:e},i)},t.fromObject=function(e,i){if(void 0===i&&(i={}),null==e||"object"!=typeof e)throw new v("Duration.fromObject: argument expected to be an object, got "+(null===e?"null":typeof e));return new t({values:dt(e,t.normalizeUnit),loc:ue.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})},t.fromDurationLike=function(e){if(He(e))return t.fromMillis(e);if(t.isDuration(e))return e;if("object"==typeof e)return t.fromObject(e);throw new v("Unknown duration argument "+e+" of type "+typeof e)},t.fromISO=function(e,i){var r=function(e){return Dt(e,[$t,Kt])}(e),s=r[0];return s?t.fromObject(s,i):t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.fromISOTime=function(e,i){var r=function(e){return Dt(e,[Yt,pi])}(e),s=r[0];return s?t.fromObject(s,i):t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.invalid=function(e,i){if(void 0===i&&(i=null),!e)throw new v("need to specify a reason the Duration is invalid");var r=e instanceof je?e:new je(e,i);if(Te.throwOnInvalid)throw new m(r);return new t({invalid:r})},t.normalizeUnit=function(e){var t={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e?e.toLowerCase():e];if(!t)throw new y(e);return t},t.isDuration=function(e){return e&&e.isLuxonDuration||!1};var s=t.prototype;return s.toFormat=function(e,t){void 0===t&&(t={});var i=r({},t,{floor:!1!==t.round&&!1!==t.floor});return this.isValid?Ot.create(this.loc,i).formatDurationFromString(this,e):yi},s.toHuman=function(e){var t=this;if(void 0===e&&(e={}),!this.isValid)return yi;var i=Si.map((function(i){var s=t.values[i];return Ue(s)?null:t.loc.numberFormatter(r({style:"unit",unitDisplay:"long"},e,{unit:i.slice(0,-1)})).format(s)})).filter((function(e){return e}));return this.loc.listFormatter(r({type:"conjunction",style:e.listStyle||"narrow"},e)).format(i)},s.toObject=function(){return this.isValid?r({},this.values):{}},s.toISO=function(){if(!this.isValid)return null;var e="P";return 0!==this.years&&(e+=this.years+"Y"),0===this.months&&0===this.quarters||(e+=this.months+3*this.quarters+"M"),0!==this.weeks&&(e+=this.weeks+"W"),0!==this.days&&(e+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(e+="T"),0!==this.hours&&(e+=this.hours+"H"),0!==this.minutes&&(e+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(e+=et(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===e&&(e+="T0S"),e},s.toISOTime=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var t=this.toMillis();return t<0||t>=864e5?null:(e=r({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},e,{includeOffset:!1}),Sr.fromMillis(t,{zone:"UTC"}).toISOTime(e))},s.toJSON=function(){return this.toISO()},s.toString=function(){return this.toISO()},s[e]=function(){return this.isValid?"Duration { values: "+JSON.stringify(this.values)+" }":"Duration { Invalid, reason: "+this.invalidReason+" }"},s.toMillis=function(){return this.isValid?ji(this.matrix,this.values):NaN},s.valueOf=function(){return this.toMillis()},s.plus=function(e){if(!this.isValid)return this;for(var i=t.fromDurationLike(e),r={},s=0,n=Si;s<n.length;s++){var o=n[s];(Ye(i.values,o)||Ye(this.values,o))&&(r[o]=i.get(o)+this.get(o))}return Ti(this,{values:r},!0)},s.minus=function(e){if(!this.isValid)return this;var i=t.fromDurationLike(e);return this.plus(i.negate())},s.mapUnits=function(e){if(!this.isValid)return this;for(var t={},i=0,r=Object.keys(this.values);i<r.length;i++){var s=r[i];t[s]=ct(e(this.values[s],s))}return Ti(this,{values:t},!0)},s.get=function(e){return this[t.normalizeUnit(e)]},s.set=function(e){return this.isValid?Ti(this,{values:r({},this.values,dt(e,t.normalizeUnit))}):this},s.reconfigure=function(e){var t=void 0===e?{}:e,i=t.locale,r=t.numberingSystem,s=t.conversionAccuracy,n=t.matrix;return Ti(this,{loc:this.loc.clone({locale:i,numberingSystem:r}),matrix:n,conversionAccuracy:s})},s.as=function(e){return this.isValid?this.shiftTo(e).get(e):NaN},s.normalize=function(){if(!this.isValid)return this;var e=this.toObject();return Ci(this.matrix,e),Ti(this,{values:e},!0)},s.rescale=function(){return this.isValid?Ti(this,{values:function(e){for(var t={},i=0,r=Object.entries(e);i<r.length;i++){var s=r[i],n=s[0],o=s[1];0!==o&&(t[n]=o)}return t}(this.normalize().shiftToAll().toObject())},!0):this},s.shiftTo=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(!this.isValid)return this;if(0===i.length)return this;i=i.map((function(e){return t.normalizeUnit(e)}));for(var s,n={},o={},a=this.toObject(),l=0,h=Si;l<h.length;l++){var c=h[l];if(i.indexOf(c)>=0){s=c;var d=0;for(var u in o)d+=this.matrix[u][c]*o[u],o[u]=0;He(a[c])&&(d+=a[c]);var p=Math.trunc(d);n[c]=p,o[c]=(1e3*d-1e3*p)/1e3}else He(a[c])&&(o[c]=a[c])}for(var f in o)0!==o[f]&&(n[s]+=f===s?o[f]:o[f]/this.matrix[s][f]);return Ci(this.matrix,n),Ti(this,{values:n},!0)},s.shiftToAll=function(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this},s.negate=function(){if(!this.isValid)return this;for(var e={},t=0,i=Object.keys(this.values);t<i.length;t++){var r=i[t];e[r]=0===this.values[r]?0:-this.values[r]}return Ti(this,{values:e},!0)},s.equals=function(e){if(!this.isValid||!e.isValid)return!1;if(!this.loc.equals(e.loc))return!1;for(var t=0,i=Si;t<i.length;t++){var r=i[t];if(s=this.values[r],n=e.values[r],!(void 0===s||0===s?void 0===n||0===n:s===n))return!1}var s,n;return!0},i(t,[{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"years",get:function(){return this.isValid?this.values.years||0:NaN}},{key:"quarters",get:function(){return this.isValid?this.values.quarters||0:NaN}},{key:"months",get:function(){return this.isValid?this.values.months||0:NaN}},{key:"weeks",get:function(){return this.isValid?this.values.weeks||0:NaN}},{key:"days",get:function(){return this.isValid?this.values.days||0:NaN}},{key:"hours",get:function(){return this.isValid?this.values.hours||0:NaN}},{key:"minutes",get:function(){return this.isValid?this.values.minutes||0:NaN}},{key:"seconds",get:function(){return this.isValid?this.values.seconds||0:NaN}},{key:"milliseconds",get:function(){return this.isValid?this.values.milliseconds||0:NaN}},{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(Symbol.for("nodejs.util.inspect.custom")),Oi="Invalid Interval";function Pi(e,t){return e&&e.isValid?t&&t.isValid?t<e?Fi.invalid("end before start","The end of an interval must be after its start, but you had start="+e.toISO()+" and end="+t.toISO()):null:Fi.invalid("missing or invalid end"):Fi.invalid("missing or invalid start")}var Fi=function(e){function t(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}t.invalid=function(e,i){if(void 0===i&&(i=null),!e)throw new v("need to specify a reason the Interval is invalid");var r=e instanceof je?e:new je(e,i);if(Te.throwOnInvalid)throw new f(r);return new t({invalid:r})},t.fromDateTimes=function(e,i){var r=xr(e),s=xr(i),n=Pi(r,s);return null==n?new t({start:r,end:s}):n},t.after=function(e,i){var r=Ei.fromDurationLike(i),s=xr(e);return t.fromDateTimes(s,s.plus(r))},t.before=function(e,i){var r=Ei.fromDurationLike(i),s=xr(e);return t.fromDateTimes(s.minus(r),s)},t.fromISO=function(e,i){var r=(e||"").split("/",2),s=r[0],n=r[1];if(s&&n){var o,a,l,h;try{a=(o=Sr.fromISO(s,i)).isValid}catch(n){a=!1}try{h=(l=Sr.fromISO(n,i)).isValid}catch(n){h=!1}if(a&&h)return t.fromDateTimes(o,l);if(a){var c=Ei.fromISO(n,i);if(c.isValid)return t.after(o,c)}else if(h){var d=Ei.fromISO(s,i);if(d.isValid)return t.before(l,d)}}return t.invalid("unparsable",'the input "'+e+"\" can't be parsed as ISO 8601")},t.isInterval=function(e){return e&&e.isLuxonInterval||!1};var r=t.prototype;return r.length=function(e){return void 0===e&&(e="milliseconds"),this.isValid?this.toDuration.apply(this,[e]).get(e):NaN},r.count=function(e,t){if(void 0===e&&(e="milliseconds"),!this.isValid)return NaN;var i,r=this.start.startOf(e,t);return i=(i=null!=t&&t.useLocaleWeeks?this.end.reconfigure({locale:r.locale}):this.end).startOf(e,t),Math.floor(i.diff(r,e).get(e))+(i.valueOf()!==this.end.valueOf())},r.hasSame=function(e){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,e))},r.isEmpty=function(){return this.s.valueOf()===this.e.valueOf()},r.isAfter=function(e){return!!this.isValid&&this.s>e},r.isBefore=function(e){return!!this.isValid&&this.e<=e},r.contains=function(e){return!!this.isValid&&(this.s<=e&&this.e>e)},r.set=function(e){var i=void 0===e?{}:e,r=i.start,s=i.end;return this.isValid?t.fromDateTimes(r||this.s,s||this.e):this},r.splitAt=function(){var e=this;if(!this.isValid)return[];for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];for(var n=r.map(xr).filter((function(t){return e.contains(t)})).sort((function(e,t){return e.toMillis()-t.toMillis()})),o=[],a=this.s,l=0;a<this.e;){var h=n[l]||this.e,c=+h>+this.e?this.e:h;o.push(t.fromDateTimes(a,c)),a=c,l+=1}return o},r.splitBy=function(e){var i=Ei.fromDurationLike(e);if(!this.isValid||!i.isValid||0===i.as("milliseconds"))return[];for(var r,s=this.s,n=1,o=[];s<this.e;){var a=this.start.plus(i.mapUnits((function(e){return e*n})));r=+a>+this.e?this.e:a,o.push(t.fromDateTimes(s,r)),s=r,n+=1}return o},r.divideEqually=function(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]},r.overlaps=function(e){return this.e>e.s&&this.s<e.e},r.abutsStart=function(e){return!!this.isValid&&+this.e==+e.s},r.abutsEnd=function(e){return!!this.isValid&&+e.e==+this.s},r.engulfs=function(e){return!!this.isValid&&(this.s<=e.s&&this.e>=e.e)},r.equals=function(e){return!(!this.isValid||!e.isValid)&&(this.s.equals(e.s)&&this.e.equals(e.e))},r.intersection=function(e){if(!this.isValid)return this;var i=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return i>=r?null:t.fromDateTimes(i,r)},r.union=function(e){if(!this.isValid)return this;var i=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return t.fromDateTimes(i,r)},t.merge=function(e){var t=e.sort((function(e,t){return e.s-t.s})).reduce((function(e,t){var i=e[0],r=e[1];return r?r.overlaps(t)||r.abutsStart(t)?[i,r.union(t)]:[i.concat([r]),t]:[i,t]}),[[],null]),i=t[0],r=t[1];return r&&i.push(r),i},t.xor=function(e){for(var i,r,s=null,n=0,o=[],a=e.map((function(e){return[{time:e.s,type:"s"},{time:e.e,type:"e"}]})),l=d((i=Array.prototype).concat.apply(i,a).sort((function(e,t){return e.time-t.time})));!(r=l()).done;){var h=r.value;1===(n+="s"===h.type?1:-1)?s=h.time:(s&&+s!=+h.time&&o.push(t.fromDateTimes(s,h.time)),s=null)}return t.merge(o)},r.difference=function(){for(var e=this,i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t.xor([this].concat(r)).map((function(t){return e.intersection(t)})).filter((function(e){return e&&!e.isEmpty()}))},r.toString=function(){return this.isValid?"["+this.s.toISO()+" – "+this.e.toISO()+")":Oi},r[e]=function(){return this.isValid?"Interval { start: "+this.s.toISO()+", end: "+this.e.toISO()+" }":"Interval { Invalid, reason: "+this.invalidReason+" }"},r.toLocaleString=function(e,t){return void 0===e&&(e=S),void 0===t&&(t={}),this.isValid?Ot.create(this.s.loc.clone(t),e).formatInterval(this):Oi},r.toISO=function(e){return this.isValid?this.s.toISO(e)+"/"+this.e.toISO(e):Oi},r.toISODate=function(){return this.isValid?this.s.toISODate()+"/"+this.e.toISODate():Oi},r.toISOTime=function(e){return this.isValid?this.s.toISOTime(e)+"/"+this.e.toISOTime(e):Oi},r.toFormat=function(e,t){var i=(void 0===t?{}:t).separator,r=void 0===i?" – ":i;return this.isValid?""+this.s.toFormat(e)+r+this.e.toFormat(e):Oi},r.toDuration=function(e,t){return this.isValid?this.e.diff(this.s,e,t):Ei.invalid(this.invalidReason)},r.mapEndpoints=function(e){return t.fromDateTimes(e(this.s),e(this.e))},i(t,[{key:"start",get:function(){return this.isValid?this.s:null}},{key:"end",get:function(){return this.isValid?this.e:null}},{key:"isValid",get:function(){return null===this.invalidReason}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}}]),t}(Symbol.for("nodejs.util.inspect.custom")),Mi=function(){function e(){}return e.hasDST=function(e){void 0===e&&(e=Te.defaultZone);var t=Sr.now().setZone(e).set({month:12});return!e.isUniversal&&t.offset!==t.set({month:6}).offset},e.isValidIANAZone=function(e){return Z.isValidZone(e)},e.normalizeZone=function(e){return ge(e,Te.defaultZone)},e.getStartOfWeek=function(e){var t=void 0===e?{}:e,i=t.locale,r=void 0===i?null:i,s=t.locObj;return((void 0===s?null:s)||ue.create(r)).getStartOfWeek()},e.getMinimumDaysInFirstWeek=function(e){var t=void 0===e?{}:e,i=t.locale,r=void 0===i?null:i,s=t.locObj;return((void 0===s?null:s)||ue.create(r)).getMinDaysInFirstWeek()},e.getWeekendWeekdays=function(e){var t=void 0===e?{}:e,i=t.locale,r=void 0===i?null:i,s=t.locObj;return((void 0===s?null:s)||ue.create(r)).getWeekendDays().slice()},e.months=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,r=i.locale,s=void 0===r?null:r,n=i.numberingSystem,o=void 0===n?null:n,a=i.locObj,l=void 0===a?null:a,h=i.outputCalendar,c=void 0===h?"gregory":h;return(l||ue.create(s,o,c)).months(e)},e.monthsFormat=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,r=i.locale,s=void 0===r?null:r,n=i.numberingSystem,o=void 0===n?null:n,a=i.locObj,l=void 0===a?null:a,h=i.outputCalendar,c=void 0===h?"gregory":h;return(l||ue.create(s,o,c)).months(e,!0)},e.weekdays=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,r=i.locale,s=void 0===r?null:r,n=i.numberingSystem,o=void 0===n?null:n,a=i.locObj;return((void 0===a?null:a)||ue.create(s,o,null)).weekdays(e)},e.weekdaysFormat=function(e,t){void 0===e&&(e="long");var i=void 0===t?{}:t,r=i.locale,s=void 0===r?null:r,n=i.numberingSystem,o=void 0===n?null:n,a=i.locObj;return((void 0===a?null:a)||ue.create(s,o,null)).weekdays(e,!0)},e.meridiems=function(e){var t=(void 0===e?{}:e).locale,i=void 0===t?null:t;return ue.create(i).meridiems()},e.eras=function(e,t){void 0===e&&(e="short");var i=(void 0===t?{}:t).locale,r=void 0===i?null:i;return ue.create(r,null,"gregory").eras(e)},e.features=function(){return{relative:Ve(),localeWeek:qe()}},e}();function Di(e,t){var i=function(e){return e.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf()},r=i(t)-i(e);return Math.floor(Ei.fromMillis(r).as("days"))}function Ai(e,t,i,r){var s=function(e,t,i){for(var r,s,n={},o=e,a=0,l=[["years",function(e,t){return t.year-e.year}],["quarters",function(e,t){return t.quarter-e.quarter+4*(t.year-e.year)}],["months",function(e,t){return t.month-e.month+12*(t.year-e.year)}],["weeks",function(e,t){var i=Di(e,t);return(i-i%7)/7}],["days",Di]];a<l.length;a++){var h=l[a],c=h[0],d=h[1];i.indexOf(c)>=0&&(r=c,n[c]=d(e,t),(s=o.plus(n))>t?(n[c]--,(e=o.plus(n))>t&&(s=e,n[c]--,e=o.plus(n))):e=s)}return[e,n,s,r]}(e,t,i),n=s[0],o=s[1],a=s[2],l=s[3],h=t-n,c=i.filter((function(e){return["hours","minutes","seconds","milliseconds"].indexOf(e)>=0}));if(0===c.length){var d;if(a<t)a=n.plus(((d={})[l]=1,d));a!==n&&(o[l]=(o[l]||0)+h/(a-n))}var u,p=Ei.fromObject(o,r);return c.length>0?(u=Ei.fromMillis(h,r)).shiftTo.apply(u,c).plus(p):p}var Ri={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Li={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Ii=Ri.hanidec.replace(/[\[|\]]/g,"").split("");function Ni(e,t){var i=e.numberingSystem;return void 0===t&&(t=""),new RegExp(""+Ri[i||"latn"]+t)}var Bi="missing Intl.DateTimeFormat.formatToParts support";function zi(e,t){return void 0===t&&(t=function(e){return e}),{regex:e,deser:function(e){var i=e[0];return t(function(e){var t=parseInt(e,10);if(isNaN(t)){t="";for(var i=0;i<e.length;i++){var r=e.charCodeAt(i);if(-1!==e[i].search(Ri.hanidec))t+=Ii.indexOf(e[i]);else for(var s in Li){var n=Li[s],o=n[0],a=n[1];r>=o&&r<=a&&(t+=r-o)}}return parseInt(t,10)}return t}(i))}}}var Ui="[ "+String.fromCharCode(160)+"]",Hi=new RegExp(Ui,"g");function Wi(e){return e.replace(/\./g,"\\.?").replace(Hi,Ui)}function Vi(e){return e.replace(/\./g,"").replace(Hi," ").toLowerCase()}function qi(e,t){return null===e?null:{regex:RegExp(e.map(Wi).join("|")),deser:function(i){var r=i[0];return e.findIndex((function(e){return Vi(r)===Vi(e)}))+t}}}function Gi(e,t){return{regex:e,deser:function(e){return ht(e[1],e[2])},groups:t}}function Yi(e){return{regex:e,deser:function(e){return e[0]}}}var $i={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};var Ki=null;function Xi(e,t){var i;return(i=Array.prototype).concat.apply(i,e.map((function(e){return function(e,t){if(e.literal)return e;var i=Ji(Ot.macroTokenToFormatOpts(e.val),t);return null==i||i.includes(void 0)?e:i}(e,t)})))}function Zi(e,t,i){var r=Xi(Ot.parseFormat(i),e),s=r.map((function(t){return i=t,s=Ni(r=e),n=Ni(r,"{2}"),o=Ni(r,"{3}"),a=Ni(r,"{4}"),l=Ni(r,"{6}"),h=Ni(r,"{1,2}"),c=Ni(r,"{1,3}"),d=Ni(r,"{1,6}"),u=Ni(r,"{1,9}"),p=Ni(r,"{2,4}"),f=Ni(r,"{4,6}"),m=function(e){return{regex:RegExp((t=e.val,t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:function(e){return e[0]},literal:!0};var t},g=function(e){if(i.literal)return m(e);switch(e.val){case"G":return qi(r.eras("short"),0);case"GG":return qi(r.eras("long"),0);case"y":return zi(d);case"yy":case"kk":return zi(p,at);case"yyyy":case"kkkk":return zi(a);case"yyyyy":return zi(f);case"yyyyyy":return zi(l);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return zi(h);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return zi(n);case"MMM":return qi(r.months("short",!0),1);case"MMMM":return qi(r.months("long",!0),1);case"LLL":return qi(r.months("short",!1),1);case"LLLL":return qi(r.months("long",!1),1);case"o":case"S":return zi(c);case"ooo":case"SSS":return zi(o);case"u":return Yi(u);case"uu":return Yi(h);case"uuu":case"E":case"c":return zi(s);case"a":return qi(r.meridiems(),0);case"EEE":return qi(r.weekdays("short",!1),1);case"EEEE":return qi(r.weekdays("long",!1),1);case"ccc":return qi(r.weekdays("short",!0),1);case"cccc":return qi(r.weekdays("long",!0),1);case"Z":case"ZZ":return Gi(new RegExp("([+-]"+h.source+")(?::("+n.source+"))?"),2);case"ZZZ":return Gi(new RegExp("([+-]"+h.source+")("+n.source+")?"),2);case"z":return Yi(/[a-z_+-/]{1,256}?/i);case" ":return Yi(/[^\S\n\r]/);default:return m(e)}}(i)||{invalidReason:Bi},g.token=i,g;var i,r,s,n,o,a,l,h,c,d,u,p,f,m,g})),n=s.find((function(e){return e.invalidReason}));if(n)return{input:t,tokens:r,invalidReason:n.invalidReason};var o=function(e){return["^"+e.map((function(e){return e.regex})).reduce((function(e,t){return e+"("+t.source+")"}),"")+"$",e]}(s),a=o[0],l=o[1],h=RegExp(a,"i"),c=function(e,t,i){var r=e.match(t);if(r){var s={},n=1;for(var o in i)if(Ye(i,o)){var a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(r.slice(n,n+l))),n+=l}return[r,s]}return[r,{}]}(t,h,l),d=c[0],u=c[1],p=u?function(e){var t,i=null;return Ue(e.z)||(i=Z.create(e.z)),Ue(e.Z)||(i||(i=new fe(e.Z)),t=e.Z),Ue(e.q)||(e.M=3*(e.q-1)+1),Ue(e.h)||(e.h<12&&1===e.a?e.h+=12:12===e.h&&0===e.a&&(e.h=0)),0===e.G&&e.y&&(e.y=-e.y),Ue(e.u)||(e.S=Qe(e.u)),[Object.keys(e).reduce((function(t,i){var r=function(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}}(i);return r&&(t[r]=e[i]),t}),{}),i,t]}(u):[null,null,void 0],f=p[0],m=p[1],y=p[2];if(Ye(u,"a")&&Ye(u,"H"))throw new g("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:r,regex:h,rawMatches:d,matches:u,result:f,zone:m,specificOffset:y}}function Ji(e,t){if(!e)return null;var i=Ot.create(t,e).dtFormatter((Ki||(Ki=Sr.fromMillis(1555555555555)),Ki)),r=i.formatToParts(),s=i.resolvedOptions();return r.map((function(t){return function(e,t,i){var r=e.type,s=e.value;if("literal"===r){var n=/^\s+$/.test(s);return{literal:!n,val:n?" ":s}}var o=t[r],a=r;"hour"===r&&(a=null!=t.hour12?t.hour12?"hour12":"hour24":null!=t.hourCycle?"h11"===t.hourCycle||"h12"===t.hourCycle?"hour12":"hour24":i.hour12?"hour12":"hour24");var l=$i[a];if("object"==typeof l&&(l=l[o]),l)return{literal:!1,val:l}}(t,e,s)}))}var Qi="Invalid DateTime",er=864e13;function tr(e){return new je("unsupported zone",'the zone "'+e.name+'" is not supported')}function ir(e){return null===e.weekData&&(e.weekData=Ae(e.c)),e.weekData}function rr(e){return null===e.localWeekData&&(e.localWeekData=Ae(e.c,e.loc.getMinDaysInFirstWeek(),e.loc.getStartOfWeek())),e.localWeekData}function sr(e,t){var i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new Sr(r({},i,t,{old:i}))}function nr(e,t,i){var r=e-60*t*1e3,s=i.offset(r);if(t===s)return[r,t];r-=60*(s-t)*1e3;var n=i.offset(r);return s===n?[r,s]:[e-60*Math.min(s,n)*1e3,Math.max(s,n)]}function or(e,t){var i=new Date(e+=60*t*1e3);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function ar(e,t,i){return nr(st(e),t,i)}function lr(e,t){var i=e.o,s=e.c.year+Math.trunc(t.years),n=e.c.month+Math.trunc(t.months)+3*Math.trunc(t.quarters),o=r({},e.c,{year:s,month:n,day:Math.min(e.c.day,rt(s,n))+Math.trunc(t.days)+7*Math.trunc(t.weeks)}),a=Ei.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),l=nr(st(o),i,e.zone),h=l[0],c=l[1];return 0!==a&&(h+=a,c=e.zone.offset(h)),{ts:h,o:c}}function hr(e,t,i,s,n,o){var a=i.setZone,l=i.zone;if(e&&0!==Object.keys(e).length||t){var h=t||l,c=Sr.fromObject(e,r({},i,{zone:h,specificOffset:o}));return a?c:c.setZone(l)}return Sr.invalid(new je("unparsable",'the input "'+n+"\" can't be parsed as "+s))}function cr(e,t,i){return void 0===i&&(i=!0),e.isValid?Ot.create(ue.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function dr(e,t){var i=e.c.year>9999||e.c.year<0,r="";return i&&e.c.year>=0&&(r+="+"),r+=Xe(e.c.year,i?6:4),t?(r+="-",r+=Xe(e.c.month),r+="-",r+=Xe(e.c.day)):(r+=Xe(e.c.month),r+=Xe(e.c.day)),r}function ur(e,t,i,r,s,n){var o=Xe(e.c.hour);return t?(o+=":",o+=Xe(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(o+=":")):o+=Xe(e.c.minute),0===e.c.millisecond&&0===e.c.second&&i||(o+=Xe(e.c.second),0===e.c.millisecond&&r||(o+=".",o+=Xe(e.c.millisecond,3))),s&&(e.isOffsetFixed&&0===e.offset&&!n?o+="Z":e.o<0?(o+="-",o+=Xe(Math.trunc(-e.o/60)),o+=":",o+=Xe(Math.trunc(-e.o%60))):(o+="+",o+=Xe(Math.trunc(e.o/60)),o+=":",o+=Xe(Math.trunc(e.o%60)))),n&&(o+="["+e.zone.ianaName+"]"),o}var pr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},fr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},mr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},gr=["year","month","day","hour","minute","second","millisecond"],yr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],vr=["year","ordinal","hour","minute","second","millisecond"];function br(e){switch(e.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(e){var t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new y(e);return t}(e)}}function wr(e,t){var i,r,s=ge(t.zone,Te.defaultZone),n=ue.fromObject(t),o=Te.now();if(Ue(e.year))i=o;else{for(var a=0,l=gr;a<l.length;a++){var h=l[a];Ue(e[h])&&(e[h]=pr[h])}var c=Be(e)||ze(e);if(c)return Sr.invalid(c);var d=ar(e,s.offset(o),s);i=d[0],r=d[1]}return new Sr({ts:i,zone:s,loc:n,o:r})}function _r(e,t,i){var r=!!Ue(i.round)||i.round,s=function(e,s){return e=et(e,r||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(e,s)},n=function(r){return i.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r)};if(i.unit)return s(n(i.unit),i.unit);for(var o,a=d(i.units);!(o=a()).done;){var l=o.value,h=n(l);if(Math.abs(h)>=1)return s(h,l)}return s(e>t?-0:0,i.units[i.units.length-1])}function kr(e){var t,i={};return e.length>0&&"object"==typeof e[e.length-1]?(i=e[e.length-1],t=Array.from(e).slice(0,e.length-1)):t=Array.from(e),[i,t]}var Sr=function(e){function t(e){var t=e.zone||Te.defaultZone,i=e.invalid||(Number.isNaN(e.ts)?new je("invalid input"):null)||(t.isValid?null:tr(t));this.ts=Ue(e.ts)?Te.now():e.ts;var r=null,s=null;if(!i)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(t)){var n=[e.old.c,e.old.o];r=n[0],s=n[1]}else{var o=t.offset(this.ts);r=or(this.ts,o),r=(i=Number.isNaN(r.year)?new je("invalid input"):null)?null:r,s=i?null:o}this._zone=t,this.loc=e.loc||ue.create(),this.invalid=i,this.weekData=null,this.localWeekData=null,this.c=r,this.o=s,this.isLuxonDateTime=!0}t.now=function(){return new t({})},t.local=function(){var e=kr(arguments),t=e[0],i=e[1];return wr({year:i[0],month:i[1],day:i[2],hour:i[3],minute:i[4],second:i[5],millisecond:i[6]},t)},t.utc=function(){var e=kr(arguments),t=e[0],i=e[1],r=i[0],s=i[1],n=i[2],o=i[3],a=i[4],l=i[5],h=i[6];return t.zone=fe.utcInstance,wr({year:r,month:s,day:n,hour:o,minute:a,second:l,millisecond:h},t)},t.fromJSDate=function(e,i){void 0===i&&(i={});var r,s=(r=e,"[object Date]"===Object.prototype.toString.call(r)?e.valueOf():NaN);if(Number.isNaN(s))return t.invalid("invalid input");var n=ge(i.zone,Te.defaultZone);return n.isValid?new t({ts:s,zone:n,loc:ue.fromObject(i)}):t.invalid(tr(n))},t.fromMillis=function(e,i){if(void 0===i&&(i={}),He(e))return e<-er||e>er?t.invalid("Timestamp out of range"):new t({ts:e,zone:ge(i.zone,Te.defaultZone),loc:ue.fromObject(i)});throw new v("fromMillis requires a numerical input, but received a "+typeof e+" with value "+e)},t.fromSeconds=function(e,i){if(void 0===i&&(i={}),He(e))return new t({ts:1e3*e,zone:ge(i.zone,Te.defaultZone),loc:ue.fromObject(i)});throw new v("fromSeconds requires a numerical input")},t.fromObject=function(e,i){void 0===i&&(i={}),e=e||{};var r=ge(i.zone,Te.defaultZone);if(!r.isValid)return t.invalid(tr(r));var s=ue.fromObject(i),n=dt(e,br),o=Ne(n,s),a=o.minDaysInFirstWeek,l=o.startOfWeek,h=Te.now(),c=Ue(i.specificOffset)?r.offset(h):i.specificOffset,u=!Ue(n.ordinal),p=!Ue(n.year),f=!Ue(n.month)||!Ue(n.day),m=p||f,y=n.weekYear||n.weekNumber;if((m||u)&&y)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(f&&u)throw new g("Can't mix ordinal dates with month/day");var v,b,w=y||n.weekday&&!m,_=or(h,c);w?(v=yr,b=fr,_=Ae(_,a,l)):u?(v=vr,b=mr,_=Le(_)):(v=gr,b=pr);for(var k,S=!1,x=d(v);!(k=x()).done;){var T=k.value;Ue(n[T])?n[T]=S?b[T]:_[T]:S=!0}var j=w?function(e,t,i){void 0===t&&(t=4),void 0===i&&(i=1);var r=We(e.weekYear),s=Ke(e.weekNumber,1,ot(e.weekYear,t,i)),n=Ke(e.weekday,1,7);return r?s?!n&&Oe("weekday",e.weekday):Oe("week",e.weekNumber):Oe("weekYear",e.weekYear)}(n,a,l):u?function(e){var t=We(e.year),i=Ke(e.ordinal,1,it(e.year));return t?!i&&Oe("ordinal",e.ordinal):Oe("year",e.year)}(n):Be(n),C=j||ze(n);if(C)return t.invalid(C);var E=ar(w?Re(n,a,l):u?Ie(n):n,c,r),O=new t({ts:E[0],zone:r,o:E[1],loc:s});return n.weekday&&m&&e.weekday!==O.weekday?t.invalid("mismatched weekday","you can't specify both a weekday of "+n.weekday+" and a date of "+O.toISO()):O},t.fromISO=function(e,t){void 0===t&&(t={});var i=function(e){return Dt(e,[ni,hi],[oi,ci],[ai,di],[li,ui])}(e);return hr(i[0],i[1],t,"ISO 8601",e)},t.fromRFC2822=function(e,t){void 0===t&&(t={});var i=function(e){return Dt(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(e),[Jt,Qt])}(e);return hr(i[0],i[1],t,"RFC 2822",e)},t.fromHTTP=function(e,t){void 0===t&&(t={});var i=function(e){return Dt(e,[ei,ri],[ti,ri],[ii,si])}(e);return hr(i[0],i[1],t,"HTTP",t)},t.fromFormat=function(e,i,r){if(void 0===r&&(r={}),Ue(e)||Ue(i))throw new v("fromFormat requires an input string and a format");var s=r,n=s.locale,o=void 0===n?null:n,a=s.numberingSystem,l=void 0===a?null:a,h=function(e,t,i){var r=Zi(e,t,i);return[r.result,r.zone,r.specificOffset,r.invalidReason]}(ue.fromOpts({locale:o,numberingSystem:l,defaultToEN:!0}),e,i),c=h[0],d=h[1],u=h[2],p=h[3];return p?t.invalid(p):hr(c,d,r,"format "+i,e,u)},t.fromString=function(e,i,r){return void 0===r&&(r={}),t.fromFormat(e,i,r)},t.fromSQL=function(e,t){void 0===t&&(t={});var i=function(e){return Dt(e,[fi,hi],[mi,gi])}(e);return hr(i[0],i[1],t,"SQL",e)},t.invalid=function(e,i){if(void 0===i&&(i=null),!e)throw new v("need to specify a reason the DateTime is invalid");var r=e instanceof je?e:new je(e,i);if(Te.throwOnInvalid)throw new p(r);return new t({invalid:r})},t.isDateTime=function(e){return e&&e.isLuxonDateTime||!1},t.parseFormatForOpts=function(e,t){void 0===t&&(t={});var i=Ji(e,ue.fromObject(t));return i?i.map((function(e){return e?e.val:null})).join(""):null},t.expandFormat=function(e,t){return void 0===t&&(t={}),Xi(Ot.parseFormat(e),ue.fromObject(t)).map((function(e){return e.val})).join("")};var s=t.prototype;return s.get=function(e){return this[e]},s.getPossibleOffsets=function(){if(!this.isValid||this.isOffsetFixed)return[this];var e=864e5,t=6e4,i=st(this.c),r=this.zone.offset(i-e),s=this.zone.offset(i+e),n=this.zone.offset(i-r*t),o=this.zone.offset(i-s*t);if(n===o)return[this];var a=i-n*t,l=i-o*t,h=or(a,n),c=or(l,o);return h.hour===c.hour&&h.minute===c.minute&&h.second===c.second&&h.millisecond===c.millisecond?[sr(this,{ts:a}),sr(this,{ts:l})]:[this]},s.resolvedLocaleOptions=function(e){void 0===e&&(e={});var t=Ot.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:t.locale,numberingSystem:t.numberingSystem,outputCalendar:t.calendar}},s.toUTC=function(e,t){return void 0===e&&(e=0),void 0===t&&(t={}),this.setZone(fe.instance(e),t)},s.toLocal=function(){return this.setZone(Te.defaultZone)},s.setZone=function(e,i){var r=void 0===i?{}:i,s=r.keepLocalTime,n=void 0!==s&&s,o=r.keepCalendarTime,a=void 0!==o&&o;if((e=ge(e,Te.defaultZone)).equals(this.zone))return this;if(e.isValid){var l=this.ts;if(n||a){var h=e.offset(this.ts);l=ar(this.toObject(),h,e)[0]}return sr(this,{ts:l,zone:e})}return t.invalid(tr(e))},s.reconfigure=function(e){var t=void 0===e?{}:e,i=t.locale,r=t.numberingSystem,s=t.outputCalendar;return sr(this,{loc:this.loc.clone({locale:i,numberingSystem:r,outputCalendar:s})})},s.setLocale=function(e){return this.reconfigure({locale:e})},s.set=function(e){if(!this.isValid)return this;var t,i=dt(e,br),s=Ne(i,this.loc),n=s.minDaysInFirstWeek,o=s.startOfWeek,a=!Ue(i.weekYear)||!Ue(i.weekNumber)||!Ue(i.weekday),l=!Ue(i.ordinal),h=!Ue(i.year),c=!Ue(i.month)||!Ue(i.day),d=h||c,u=i.weekYear||i.weekNumber;if((d||l)&&u)throw new g("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&l)throw new g("Can't mix ordinal dates with month/day");a?t=Re(r({},Ae(this.c,n,o),i),n,o):Ue(i.ordinal)?(t=r({},this.toObject(),i),Ue(i.day)&&(t.day=Math.min(rt(t.year,t.month),t.day))):t=Ie(r({},Le(this.c),i));var p=ar(t,this.o,this.zone);return sr(this,{ts:p[0],o:p[1]})},s.plus=function(e){return this.isValid?sr(this,lr(this,Ei.fromDurationLike(e))):this},s.minus=function(e){return this.isValid?sr(this,lr(this,Ei.fromDurationLike(e).negate())):this},s.startOf=function(e,t){var i=(void 0===t?{}:t).useLocaleWeeks,r=void 0!==i&&i;if(!this.isValid)return this;var s={},n=Ei.normalizeUnit(e);switch(n){case"years":s.month=1;case"quarters":case"months":s.day=1;case"weeks":case"days":s.hour=0;case"hours":s.minute=0;case"minutes":s.second=0;case"seconds":s.millisecond=0}if("weeks"===n)if(r){var o=this.loc.getStartOfWeek();this.weekday<o&&(s.weekNumber=this.weekNumber-1),s.weekday=o}else s.weekday=1;if("quarters"===n){var a=Math.ceil(this.month/3);s.month=3*(a-1)+1}return this.set(s)},s.endOf=function(e,t){var i;return this.isValid?this.plus((i={},i[e]=1,i)).startOf(e,t).minus(1):this},s.toFormat=function(e,t){return void 0===t&&(t={}),this.isValid?Ot.create(this.loc.redefaultToEN(t)).formatDateTimeFromString(this,e):Qi},s.toLocaleString=function(e,t){return void 0===e&&(e=S),void 0===t&&(t={}),this.isValid?Ot.create(this.loc.clone(t),e).formatDateTime(this):Qi},s.toLocaleParts=function(e){return void 0===e&&(e={}),this.isValid?Ot.create(this.loc.clone(e),e).formatDateTimeParts(this):[]},s.toISO=function(e){var t=void 0===e?{}:e,i=t.format,r=void 0===i?"extended":i,s=t.suppressSeconds,n=void 0!==s&&s,o=t.suppressMilliseconds,a=void 0!==o&&o,l=t.includeOffset,h=void 0===l||l,c=t.extendedZone,d=void 0!==c&&c;if(!this.isValid)return null;var u="extended"===r,p=dr(this,u);return p+="T",p+=ur(this,u,n,a,h,d)},s.toISODate=function(e){var t=(void 0===e?{}:e).format,i=void 0===t?"extended":t;return this.isValid?dr(this,"extended"===i):null},s.toISOWeekDate=function(){return cr(this,"kkkk-'W'WW-c")},s.toISOTime=function(e){var t=void 0===e?{}:e,i=t.suppressMilliseconds,r=void 0!==i&&i,s=t.suppressSeconds,n=void 0!==s&&s,o=t.includeOffset,a=void 0===o||o,l=t.includePrefix,h=void 0!==l&&l,c=t.extendedZone,d=void 0!==c&&c,u=t.format,p=void 0===u?"extended":u;return this.isValid?(h?"T":"")+ur(this,"extended"===p,n,r,a,d):null},s.toRFC2822=function(){return cr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)},s.toHTTP=function(){return cr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")},s.toSQLDate=function(){return this.isValid?dr(this,!0):null},s.toSQLTime=function(e){var t=void 0===e?{}:e,i=t.includeOffset,r=void 0===i||i,s=t.includeZone,n=void 0!==s&&s,o=t.includeOffsetSpace,a="HH:mm:ss.SSS";return(n||r)&&((void 0===o||o)&&(a+=" "),n?a+="z":r&&(a+="ZZ")),cr(this,a,!0)},s.toSQL=function(e){return void 0===e&&(e={}),this.isValid?this.toSQLDate()+" "+this.toSQLTime(e):null},s.toString=function(){return this.isValid?this.toISO():Qi},s[e]=function(){return this.isValid?"DateTime { ts: "+this.toISO()+", zone: "+this.zone.name+", locale: "+this.locale+" }":"DateTime { Invalid, reason: "+this.invalidReason+" }"},s.valueOf=function(){return this.toMillis()},s.toMillis=function(){return this.isValid?this.ts:NaN},s.toSeconds=function(){return this.isValid?this.ts/1e3:NaN},s.toUnixInteger=function(){return this.isValid?Math.floor(this.ts/1e3):NaN},s.toJSON=function(){return this.toISO()},s.toBSON=function(){return this.toJSDate()},s.toObject=function(e){if(void 0===e&&(e={}),!this.isValid)return{};var t=r({},this.c);return e.includeConfig&&(t.outputCalendar=this.outputCalendar,t.numberingSystem=this.loc.numberingSystem,t.locale=this.loc.locale),t},s.toJSDate=function(){return new Date(this.isValid?this.ts:NaN)},s.diff=function(e,t,i){if(void 0===t&&(t="milliseconds"),void 0===i&&(i={}),!this.isValid||!e.isValid)return Ei.invalid("created by diffing an invalid DateTime");var s,n=r({locale:this.locale,numberingSystem:this.numberingSystem},i),o=(s=t,Array.isArray(s)?s:[s]).map(Ei.normalizeUnit),a=e.valueOf()>this.valueOf(),l=Ai(a?this:e,a?e:this,o,n);return a?l.negate():l},s.diffNow=function(e,i){return void 0===e&&(e="milliseconds"),void 0===i&&(i={}),this.diff(t.now(),e,i)},s.until=function(e){return this.isValid?Fi.fromDateTimes(this,e):this},s.hasSame=function(e,t,i){if(!this.isValid)return!1;var r=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(t,i)<=r&&r<=s.endOf(t,i)},s.equals=function(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)},s.toRelative=function(e){if(void 0===e&&(e={}),!this.isValid)return null;var i=e.base||t.fromObject({},{zone:this.zone}),s=e.padding?this<i?-e.padding:e.padding:0,n=["years","months","days","hours","minutes","seconds"],o=e.unit;return Array.isArray(e.unit)&&(n=e.unit,o=void 0),_r(i,this.plus(s),r({},e,{numeric:"always",units:n,unit:o}))},s.toRelativeCalendar=function(e){return void 0===e&&(e={}),this.isValid?_r(e.base||t.fromObject({},{zone:this.zone}),this,r({},e,{numeric:"auto",units:["years","months","days"],calendary:!0})):null},t.min=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(!i.every(t.isDateTime))throw new v("min requires all arguments be DateTimes");return Ge(i,(function(e){return e.valueOf()}),Math.min)},t.max=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(!i.every(t.isDateTime))throw new v("max requires all arguments be DateTimes");return Ge(i,(function(e){return e.valueOf()}),Math.max)},t.fromFormatExplain=function(e,t,i){void 0===i&&(i={});var r=i,s=r.locale,n=void 0===s?null:s,o=r.numberingSystem,a=void 0===o?null:o;return Zi(ue.fromOpts({locale:n,numberingSystem:a,defaultToEN:!0}),e,t)},t.fromStringExplain=function(e,i,r){return void 0===r&&(r={}),t.fromFormatExplain(e,i,r)},i(t,[{key:"isValid",get:function(){return null===this.invalid}},{key:"invalidReason",get:function(){return this.invalid?this.invalid.reason:null}},{key:"invalidExplanation",get:function(){return this.invalid?this.invalid.explanation:null}},{key:"locale",get:function(){return this.isValid?this.loc.locale:null}},{key:"numberingSystem",get:function(){return this.isValid?this.loc.numberingSystem:null}},{key:"outputCalendar",get:function(){return this.isValid?this.loc.outputCalendar:null}},{key:"zone",get:function(){return this._zone}},{key:"zoneName",get:function(){return this.isValid?this.zone.name:null}},{key:"year",get:function(){return this.isValid?this.c.year:NaN}},{key:"quarter",get:function(){return this.isValid?Math.ceil(this.c.month/3):NaN}},{key:"month",get:function(){return this.isValid?this.c.month:NaN}},{key:"day",get:function(){return this.isValid?this.c.day:NaN}},{key:"hour",get:function(){return this.isValid?this.c.hour:NaN}},{key:"minute",get:function(){return this.isValid?this.c.minute:NaN}},{key:"second",get:function(){return this.isValid?this.c.second:NaN}},{key:"millisecond",get:function(){return this.isValid?this.c.millisecond:NaN}},{key:"weekYear",get:function(){return this.isValid?ir(this).weekYear:NaN}},{key:"weekNumber",get:function(){return this.isValid?ir(this).weekNumber:NaN}},{key:"weekday",get:function(){return this.isValid?ir(this).weekday:NaN}},{key:"isWeekend",get:function(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}},{key:"localWeekday",get:function(){return this.isValid?rr(this).weekday:NaN}},{key:"localWeekNumber",get:function(){return this.isValid?rr(this).weekNumber:NaN}},{key:"localWeekYear",get:function(){return this.isValid?rr(this).weekYear:NaN}},{key:"ordinal",get:function(){return this.isValid?Le(this.c).ordinal:NaN}},{key:"monthShort",get:function(){return this.isValid?Mi.months("short",{locObj:this.loc})[this.month-1]:null}},{key:"monthLong",get:function(){return this.isValid?Mi.months("long",{locObj:this.loc})[this.month-1]:null}},{key:"weekdayShort",get:function(){return this.isValid?Mi.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}},{key:"weekdayLong",get:function(){return this.isValid?Mi.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}},{key:"offset",get:function(){return this.isValid?+this.o:NaN}},{key:"offsetNameShort",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}},{key:"offsetNameLong",get:function(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}},{key:"isOffsetFixed",get:function(){return this.isValid?this.zone.isUniversal:null}},{key:"isInDST",get:function(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}},{key:"isInLeapYear",get:function(){return tt(this.year)}},{key:"daysInMonth",get:function(){return rt(this.year,this.month)}},{key:"daysInYear",get:function(){return this.isValid?it(this.year):NaN}},{key:"weeksInWeekYear",get:function(){return this.isValid?ot(this.weekYear):NaN}},{key:"weeksInLocalWeekYear",get:function(){return this.isValid?ot(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}}],[{key:"DATE_SHORT",get:function(){return S}},{key:"DATE_MED",get:function(){return x}},{key:"DATE_MED_WITH_WEEKDAY",get:function(){return T}},{key:"DATE_FULL",get:function(){return j}},{key:"DATE_HUGE",get:function(){return C}},{key:"TIME_SIMPLE",get:function(){return E}},{key:"TIME_WITH_SECONDS",get:function(){return O}},{key:"TIME_WITH_SHORT_OFFSET",get:function(){return P}},{key:"TIME_WITH_LONG_OFFSET",get:function(){return F}},{key:"TIME_24_SIMPLE",get:function(){return M}},{key:"TIME_24_WITH_SECONDS",get:function(){return D}},{key:"TIME_24_WITH_SHORT_OFFSET",get:function(){return A}},{key:"TIME_24_WITH_LONG_OFFSET",get:function(){return R}},{key:"DATETIME_SHORT",get:function(){return L}},{key:"DATETIME_SHORT_WITH_SECONDS",get:function(){return I}},{key:"DATETIME_MED",get:function(){return N}},{key:"DATETIME_MED_WITH_SECONDS",get:function(){return B}},{key:"DATETIME_MED_WITH_WEEKDAY",get:function(){return z}},{key:"DATETIME_FULL",get:function(){return U}},{key:"DATETIME_FULL_WITH_SECONDS",get:function(){return H}},{key:"DATETIME_HUGE",get:function(){return W}},{key:"DATETIME_HUGE_WITH_SECONDS",get:function(){return V}}]),t}(Symbol.for("nodejs.util.inspect.custom"));function xr(e){if(Sr.isDateTime(e))return e;if(e&&e.valueOf&&He(e.valueOf()))return Sr.fromJSDate(e);if(e&&"object"==typeof e)return Sr.fromObject(e);throw new v("Unknown datetime argument: "+e+", of type "+typeof e)}return e.DateTime=Sr,e.Duration=Ei,e.FixedOffsetZone=fe,e.IANAZone=Z,e.Info=Mi,e.Interval=Fi,e.InvalidZone=me,e.Settings=Te,e.SystemZone=Y,e.VERSION="3.4.4",e.Zone=q,Object.defineProperty(e,"__esModule",{value:!0}),e}({});!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,(function(){"use strict";var e,t;function i(){return e.apply(null,arguments)}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function o(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(n(e,t))return!1;return!0}function a(e){return void 0===e}function l(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function c(e,t){var i,r=[],s=e.length;for(i=0;i<s;++i)r.push(t(e[i],i));return r}function d(e,t){for(var i in t)n(t,i)&&(e[i]=t[i]);return n(t,"toString")&&(e.toString=t.toString),n(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,i,r){return Mt(e,t,i,r,!0).utc()}function p(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function f(e){var i=null,r=!1,s=e._d&&!isNaN(e._d.getTime());return s&&(i=p(e),r=t.call(i.parsedDateParts,(function(e){return null!=e})),s=i.overflow<0&&!i.empty&&!i.invalidEra&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&r),e._strict&&(s=s&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?s:(e._isValid=s,e._isValid)}function m(e){var t=u(NaN);return null!=e?d(p(t),e):p(t).userInvalidated=!0,t}t=Array.prototype.some?Array.prototype.some:function(e){var t,i=Object(this),r=i.length>>>0;for(t=0;t<r;t++)if(t in i&&e.call(this,i[t],t,i))return!0;return!1};var g=i.momentProperties=[],y=!1;function v(e,t){var i,r,s,n=g.length;if(a(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),a(t._i)||(e._i=t._i),a(t._f)||(e._f=t._f),a(t._l)||(e._l=t._l),a(t._strict)||(e._strict=t._strict),a(t._tzm)||(e._tzm=t._tzm),a(t._isUTC)||(e._isUTC=t._isUTC),a(t._offset)||(e._offset=t._offset),a(t._pf)||(e._pf=p(t)),a(t._locale)||(e._locale=t._locale),n>0)for(i=0;i<n;i++)a(s=t[r=g[i]])||(e[r]=s);return e}function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,i.updateOffset(this),y=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function _(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var r=!0;return d((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),r){var s,o,a,l=[],h=arguments.length;for(o=0;o<h;o++){if(s="","object"==typeof arguments[o]){for(a in s+="\n["+o+"] ",arguments[0])n(arguments[0],a)&&(s+=a+": "+arguments[0][a]+", ");s=s.slice(0,-2)}else s=arguments[o];l.push(s)}_(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var S,x={};function T(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),x[e]||(_(t),x[e]=!0)}function j(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function C(e,t){var i,r=d({},e);for(i in t)n(t,i)&&(s(e[i])&&s(t[i])?(r[i]={},d(r[i],e[i]),d(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in e)n(e,i)&&!n(t,i)&&s(e[i])&&(r[i]=d({},r[i]));return r}function E(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)n(e,t)&&i.push(t);return i};function O(e,t,i){var r=""+Math.abs(e),s=t-r.length;return(e>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+r}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,M={},D={};function A(e,t,i,r){var s=r;"string"==typeof r&&(s=function(){return this[r]()}),e&&(D[e]=s),t&&(D[t[0]]=function(){return O(s.apply(this,arguments),t[1],t[2])}),i&&(D[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function R(e,t){return e.isValid()?(t=L(t,e.localeData()),M[t]=M[t]||function(e){var t,i,r,s=e.match(P);for(t=0,i=s.length;t<i;t++)D[s[t]]?s[t]=D[s[t]]:s[t]=(r=s[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,n="";for(r=0;r<i;r++)n+=j(s[r])?s[r].call(t,e):s[r];return n}}(t),M[t](e)):e.localeData().invalidDate()}function L(e,t){var i=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;i>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,i-=1;return e}var I={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function N(e){return"string"==typeof e?I[e]||I[e.toLowerCase()]:void 0}function B(e){var t,i,r={};for(i in e)n(e,i)&&(t=N(i))&&(r[t]=e[i]);return r}var z={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};var U,H=/\d/,W=/\d\d/,V=/\d{3}/,q=/\d{4}/,G=/[+-]?\d{6}/,Y=/\d\d?/,$=/\d\d\d\d?/,K=/\d\d\d\d\d\d?/,X=/\d{1,3}/,Z=/\d{1,4}/,J=/[+-]?\d{1,6}/,Q=/\d+/,ee=/[+-]?\d+/,te=/Z|[+-]\d\d:?\d\d/gi,ie=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,se=/^[1-9]\d?/,ne=/^([1-9]\d|\d)/;function oe(e,t,i){U[e]=j(t)?t:function(e,r){return e&&i?i:t}}function ae(e,t){return n(U,e)?U[e](t._strict,t._locale):new RegExp(le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,i,r,s){return t||i||r||s}))))}function le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function he(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=he(t)),i}U={};var de={};function ue(e,t){var i,r,s=t;for("string"==typeof e&&(e=[e]),l(t)&&(s=function(e,i){i[t]=ce(e)}),r=e.length,i=0;i<r;i++)de[e[i]]=s}function pe(e,t){ue(e,(function(e,i,r,s){r._w=r._w||{},t(e,r._w,r,s)}))}function fe(e,t,i){null!=t&&n(de,e)&&de[e](t,i._a,i,e)}function me(e){return e%4==0&&e%100!=0||e%400==0}var ge=0,ye=1,ve=2,be=3,we=4,_e=5,ke=6,Se=7,xe=8;function Te(e){return me(e)?366:365}A("Y",0,0,(function(){var e=this.year();return e<=9999?O(e,4):"+"+e})),A(0,["YY",2],0,(function(){return this.year()%100})),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),oe("Y",ee),oe("YY",Y,W),oe("YYYY",Z,q),oe("YYYYY",J,G),oe("YYYYYY",J,G),ue(["YYYYY","YYYYYY"],ge),ue("YYYY",(function(e,t){t[ge]=2===e.length?i.parseTwoDigitYear(e):ce(e)})),ue("YY",(function(e,t){t[ge]=i.parseTwoDigitYear(e)})),ue("Y",(function(e,t){t[ge]=parseInt(e,10)})),i.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var je,Ce=Ee("FullYear",!0);function Ee(e,t){return function(r){return null!=r?(Pe(this,e,r),i.updateOffset(this,t),this):Oe(this,e)}}function Oe(e,t){if(!e.isValid())return NaN;var i=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return r?i.getUTCSeconds():i.getSeconds();case"Minutes":return r?i.getUTCMinutes():i.getMinutes();case"Hours":return r?i.getUTCHours():i.getHours();case"Date":return r?i.getUTCDate():i.getDate();case"Day":return r?i.getUTCDay():i.getDay();case"Month":return r?i.getUTCMonth():i.getMonth();case"FullYear":return r?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Pe(e,t,i){var r,s,n,o,a;if(e.isValid()&&!isNaN(i)){switch(r=e._d,s=e._isUTC,t){case"Milliseconds":return void(s?r.setUTCMilliseconds(i):r.setMilliseconds(i));case"Seconds":return void(s?r.setUTCSeconds(i):r.setSeconds(i));case"Minutes":return void(s?r.setUTCMinutes(i):r.setMinutes(i));case"Hours":return void(s?r.setUTCHours(i):r.setHours(i));case"Date":return void(s?r.setUTCDate(i):r.setDate(i));case"FullYear":break;default:return}n=i,o=e.month(),a=29!==(a=e.date())||1!==o||me(n)?a:28,s?r.setUTCFullYear(n,o,a):r.setFullYear(n,o,a)}}function Fe(e,t){if(isNaN(e)||isNaN(t))return NaN;var i,r=(t%(i=12)+i)%i;return e+=(t-r)/12,1===r?me(e)?29:28:31-r%7%2}je=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},A("M",["MM",2],"Mo",(function(){return this.month()+1})),A("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),A("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),oe("M",Y,se),oe("MM",Y,W),oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),oe("MMMM",(function(e,t){return t.monthsRegex(e)})),ue(["M","MM"],(function(e,t){t[ye]=ce(e)-1})),ue(["MMM","MMMM"],(function(e,t,i,r){var s=i._locale.monthsParse(e,r,i._strict);null!=s?t[ye]=s:p(i).invalidMonth=e}));var Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Re=re,Le=re;function Ie(e,t,i){var r,s,n,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)n=u([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(n,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(n,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(s=je.call(this._shortMonthsParse,o))?s:null:-1!==(s=je.call(this._longMonthsParse,o))?s:null:"MMM"===t?-1!==(s=je.call(this._shortMonthsParse,o))||-1!==(s=je.call(this._longMonthsParse,o))?s:null:-1!==(s=je.call(this._longMonthsParse,o))||-1!==(s=je.call(this._shortMonthsParse,o))?s:null}function Ne(e,t){if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!l(t=e.localeData().monthsParse(t)))return e;var i=t,r=e.date();return r=r<29?r:Math.min(r,Fe(e.year(),i)),e._isUTC?e._d.setUTCMonth(i,r):e._d.setMonth(i,r),e}function Be(e){return null!=e?(Ne(this,e),i.updateOffset(this,!0),this):Oe(this,"Month")}function ze(){function e(e,t){return t.length-e.length}var t,i,r,s,n=[],o=[],a=[];for(t=0;t<12;t++)i=u([2e3,t]),r=le(this.monthsShort(i,"")),s=le(this.months(i,"")),n.push(r),o.push(s),a.push(s),a.push(r);n.sort(e),o.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ue(e,t,i,r,s,n,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,i,r,s,n,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,i,r,s,n,o),a}function He(e){var t,i;return e<100&&e>=0?((i=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,i)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function We(e,t,i){var r=7+t-i;return-((7+He(e,0,r).getUTCDay()-t)%7)+r-1}function Ve(e,t,i,r,s){var n,o,a=1+7*(t-1)+(7+i-r)%7+We(e,r,s);return a<=0?o=Te(n=e-1)+a:a>Te(e)?(n=e+1,o=a-Te(e)):(n=e,o=a),{year:n,dayOfYear:o}}function qe(e,t,i){var r,s,n=We(e.year(),t,i),o=Math.floor((e.dayOfYear()-n-1)/7)+1;return o<1?r=o+Ge(s=e.year()-1,t,i):o>Ge(e.year(),t,i)?(r=o-Ge(e.year(),t,i),s=e.year()+1):(s=e.year(),r=o),{week:r,year:s}}function Ge(e,t,i){var r=We(e,t,i),s=We(e+1,t,i);return(Te(e)-r+s)/7}A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),oe("w",Y,se),oe("ww",Y,W),oe("W",Y,se),oe("WW",Y,W),pe(["w","ww","W","WW"],(function(e,t,i,r){t[r.substr(0,1)]=ce(e)}));function Ye(e,t){return e.slice(t,7).concat(e.slice(0,t))}A("d",0,"do","day"),A("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),A("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),A("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),oe("d",Y),oe("e",Y),oe("E",Y),oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),pe(["dd","ddd","dddd"],(function(e,t,i,r){var s=i._locale.weekdaysParse(e,r,i._strict);null!=s?t.d=s:p(i).invalidWeekday=e})),pe(["d","e","E"],(function(e,t,i,r){t[r]=ce(e)}));var $e="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ke="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Xe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ze=re,Je=re,Qe=re;function et(e,t,i){var r,s,n,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)n=u([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(n,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(n,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(n,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(s=je.call(this._weekdaysParse,o))?s:null:"ddd"===t?-1!==(s=je.call(this._shortWeekdaysParse,o))?s:null:-1!==(s=je.call(this._minWeekdaysParse,o))?s:null:"dddd"===t?-1!==(s=je.call(this._weekdaysParse,o))||-1!==(s=je.call(this._shortWeekdaysParse,o))||-1!==(s=je.call(this._minWeekdaysParse,o))?s:null:"ddd"===t?-1!==(s=je.call(this._shortWeekdaysParse,o))||-1!==(s=je.call(this._weekdaysParse,o))||-1!==(s=je.call(this._minWeekdaysParse,o))?s:null:-1!==(s=je.call(this._minWeekdaysParse,o))||-1!==(s=je.call(this._weekdaysParse,o))||-1!==(s=je.call(this._shortWeekdaysParse,o))?s:null}function tt(){function e(e,t){return t.length-e.length}var t,i,r,s,n,o=[],a=[],l=[],h=[];for(t=0;t<7;t++)i=u([2e3,1]).day(t),r=le(this.weekdaysMin(i,"")),s=le(this.weekdaysShort(i,"")),n=le(this.weekdays(i,"")),o.push(r),a.push(s),l.push(n),h.push(r),h.push(s),h.push(n);o.sort(e),a.sort(e),l.sort(e),h.sort(e),this._weekdaysRegex=new RegExp("^("+h.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function it(){return this.hours()%12||12}function rt(e,t){A(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function st(e,t){return t._meridiemParse}A("H",["HH",2],0,"hour"),A("h",["hh",2],0,it),A("k",["kk",2],0,(function(){return this.hours()||24})),A("hmm",0,0,(function(){return""+it.apply(this)+O(this.minutes(),2)})),A("hmmss",0,0,(function(){return""+it.apply(this)+O(this.minutes(),2)+O(this.seconds(),2)})),A("Hmm",0,0,(function(){return""+this.hours()+O(this.minutes(),2)})),A("Hmmss",0,0,(function(){return""+this.hours()+O(this.minutes(),2)+O(this.seconds(),2)})),rt("a",!0),rt("A",!1),oe("a",st),oe("A",st),oe("H",Y,ne),oe("h",Y,se),oe("k",Y,se),oe("HH",Y,W),oe("hh",Y,W),oe("kk",Y,W),oe("hmm",$),oe("hmmss",K),oe("Hmm",$),oe("Hmmss",K),ue(["H","HH"],be),ue(["k","kk"],(function(e,t,i){var r=ce(e);t[be]=24===r?0:r})),ue(["a","A"],(function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e})),ue(["h","hh"],(function(e,t,i){t[be]=ce(e),p(i).bigHour=!0})),ue("hmm",(function(e,t,i){var r=e.length-2;t[be]=ce(e.substr(0,r)),t[we]=ce(e.substr(r)),p(i).bigHour=!0})),ue("hmmss",(function(e,t,i){var r=e.length-4,s=e.length-2;t[be]=ce(e.substr(0,r)),t[we]=ce(e.substr(r,2)),t[_e]=ce(e.substr(s)),p(i).bigHour=!0})),ue("Hmm",(function(e,t,i){var r=e.length-2;t[be]=ce(e.substr(0,r)),t[we]=ce(e.substr(r))})),ue("Hmmss",(function(e,t,i){var r=e.length-4,s=e.length-2;t[be]=ce(e.substr(0,r)),t[we]=ce(e.substr(r,2)),t[_e]=ce(e.substr(s))}));var nt=Ee("Hours",!0);var ot,at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:De,week:{dow:0,doy:6},weekdays:$e,weekdaysMin:Xe,weekdaysShort:Ke,meridiemParse:/[ap]\.?m?\.?/i},lt={},ht={};function ct(e,t){var i,r=Math.min(e.length,t.length);for(i=0;i<r;i+=1)if(e[i]!==t[i])return i;return r}function dt(e){return e?e.toLowerCase().replace("_","-"):e}function ut(e){var t=null;if(void 0===lt[e]&&"undefined"!=typeof module&&module&&module.exports&&function(e){return!(!e||!e.match("^[^/\\\\]*$"))}(e))try{t=ot._abbr,require("./locale/"+e),pt(t)}catch(t){lt[e]=null}return lt[e]}function pt(e,t){var i;return e&&((i=a(t)?mt(e):ft(e,t))?ot=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),ot._abbr}function ft(e,t){if(null!==t){var i,r=at;if(t.abbr=e,null!=lt[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=lt[e]._config;else if(null!=t.parentLocale)if(null!=lt[t.parentLocale])r=lt[t.parentLocale]._config;else{if(null==(i=ut(t.parentLocale)))return ht[t.parentLocale]||(ht[t.parentLocale]=[]),ht[t.parentLocale].push({name:e,config:t}),null;r=i._config}return lt[e]=new E(C(r,t)),ht[e]&&ht[e].forEach((function(e){ft(e.name,e.config)})),pt(e),lt[e]}return delete lt[e],null}function mt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return ot;if(!r(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,i,r,s,n=0;n<e.length;){for(t=(s=dt(e[n]).split("-")).length,i=(i=dt(e[n+1]))?i.split("-"):null;t>0;){if(r=ut(s.slice(0,t).join("-")))return r;if(i&&i.length>=t&&ct(s,i)>=t-1)break;t--}n++}return ot}(e)}function gt(e){var t,i=e._a;return i&&-2===p(e).overflow&&(t=i[ye]<0||i[ye]>11?ye:i[ve]<1||i[ve]>Fe(i[ge],i[ye])?ve:i[be]<0||i[be]>24||24===i[be]&&(0!==i[we]||0!==i[_e]||0!==i[ke])?be:i[we]<0||i[we]>59?we:i[_e]<0||i[_e]>59?_e:i[ke]<0||i[ke]>999?ke:-1,p(e)._overflowDayOfYear&&(t<ge||t>ve)&&(t=ve),p(e)._overflowWeeks&&-1===t&&(t=Se),p(e)._overflowWeekday&&-1===t&&(t=xe),p(e).overflow=t),e}var yt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bt=/Z|[+-]\d\d(?::?\d\d)?/,wt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],_t=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kt=/^\/?Date\((-?\d+)/i,St=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tt(e){var t,i,r,s,n,o,a=e._i,l=yt.exec(a)||vt.exec(a),h=wt.length,c=_t.length;if(l){for(p(e).iso=!0,t=0,i=h;t<i;t++)if(wt[t][1].exec(l[1])){s=wt[t][0],r=!1!==wt[t][2];break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,i=c;t<i;t++)if(_t[t][1].exec(l[3])){n=(l[2]||" ")+_t[t][0];break}if(null==n)return void(e._isValid=!1)}if(!r&&null!=n)return void(e._isValid=!1);if(l[4]){if(!bt.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=s+(n||"")+(o||""),Pt(e)}else e._isValid=!1}function jt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Ct(e){var t,i,r,s,n,o,a,l,h=St.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(h){if(i=h[4],r=h[3],s=h[2],n=h[5],o=h[6],a=h[7],l=[jt(i),De.indexOf(r),parseInt(s,10),parseInt(n,10),parseInt(o,10)],a&&l.push(parseInt(a,10)),t=l,!function(e,t,i){return!e||Ke.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(p(i).weekdayMismatch=!0,i._isValid=!1,!1)}(h[1],t,e))return;e._a=t,e._tzm=function(e,t,i){if(e)return xt[e];if(t)return 0;var r=parseInt(i,10),s=r%100;return(r-s)/100*60+s}(h[8],h[9],h[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),p(e).rfc2822=!0}else e._isValid=!1}function Et(e,t,i){return null!=e?e:null!=t?t:i}function Ot(e){var t,r,s,n,o,a=[];if(!e._d){for(s=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ve]&&null==e._a[ye]&&function(e){var t,i,r,s,n,o,a,l,h;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(n=1,o=4,i=Et(t.GG,e._a[ge],qe(Dt(),1,4).year),r=Et(t.W,1),((s=Et(t.E,1))<1||s>7)&&(l=!0)):(n=e._locale._week.dow,o=e._locale._week.doy,h=qe(Dt(),n,o),i=Et(t.gg,e._a[ge],h.year),r=Et(t.w,h.week),null!=t.d?((s=t.d)<0||s>6)&&(l=!0):null!=t.e?(s=t.e+n,(t.e<0||t.e>6)&&(l=!0)):s=n);r<1||r>Ge(i,n,o)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(a=Ve(i,r,s,n,o),e._a[ge]=a.year,e._dayOfYear=a.dayOfYear)}(e),null!=e._dayOfYear&&(o=Et(e._a[ge],s[ge]),(e._dayOfYear>Te(o)||0===e._dayOfYear)&&(p(e)._overflowDayOfYear=!0),r=He(o,0,e._dayOfYear),e._a[ye]=r.getUTCMonth(),e._a[ve]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[we]&&0===e._a[_e]&&0===e._a[ke]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?He:Ue).apply(null,a),n=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==n&&(p(e).weekdayMismatch=!0)}}function Pt(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],p(e).empty=!0;var t,r,s,n,o,a,l,h=""+e._i,c=h.length,d=0;for(l=(s=L(e._f,e._locale).match(P)||[]).length,t=0;t<l;t++)n=s[t],(r=(h.match(ae(n,e))||[])[0])&&((o=h.substr(0,h.indexOf(r))).length>0&&p(e).unusedInput.push(o),h=h.slice(h.indexOf(r)+r.length),d+=r.length),D[n]?(r?p(e).empty=!1:p(e).unusedTokens.push(n),fe(n,r,e)):e._strict&&!r&&p(e).unusedTokens.push(n);p(e).charsLeftOver=c-d,h.length>0&&p(e).unusedInput.push(h),e._a[be]<=12&&!0===p(e).bigHour&&e._a[be]>0&&(p(e).bigHour=void 0),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[be]=function(e,t,i){var r;if(null==i)return t;return null!=e.meridiemHour?e.meridiemHour(t,i):null!=e.isPM?((r=e.isPM(i))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),null!==(a=p(e).era)&&(e._a[ge]=e._locale.erasConvertYear(a,e._a[ge])),Ot(e),gt(e)}else Ct(e);else Tt(e)}function Ft(e){var t=e._i,n=e._f;return e._locale=e._locale||mt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(gt(t)):(h(t)?e._d=t:r(n)?function(e){var t,i,r,s,n,o,a=!1,l=e._f.length;if(0===l)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<l;s++)n=0,o=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],Pt(t),f(t)&&(o=!0),n+=p(t).charsLeftOver,n+=10*p(t).unusedTokens.length,p(t).score=n,a?n<r&&(r=n,i=t):(null==r||n<r||o)&&(r=n,i=t,o&&(a=!0));d(e,i||t)}(e):n?Pt(e):function(e){var t=e._i;a(t)?e._d=new Date(i.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=kt.exec(e._i);null===t?(Tt(e),!1===e._isValid&&(delete e._isValid,Ct(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):r(t)?(e._a=c(t.slice(0),(function(e){return parseInt(e,10)})),Ot(e)):s(t)?function(e){if(!e._d){var t=B(e._i),i=void 0===t.day?t.date:t.day;e._a=c([t.year,t.month,i,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Ot(e)}}(e):l(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),f(e)||(e._d=null),e))}function Mt(e,t,i,n,a){var l,h={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==i&&!1!==i||(n=i,i=void 0),(s(e)&&o(e)||r(e)&&0===e.length)&&(e=void 0),h._isAMomentObject=!0,h._useUTC=h._isUTC=a,h._l=i,h._i=e,h._f=t,h._strict=n,(l=new b(gt(Ft(h))))._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Dt(e,t,i,r){return Mt(e,t,i,r,!1)}i.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var At=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()})),Rt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Dt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()}));function Lt(e,t){var i,s;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return Dt();for(i=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](i)||(i=t[s]);return i}var It=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Nt(e){var t=B(e),i=t.year||0,r=t.quarter||0,s=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,h=t.minute||0,c=t.second||0,d=t.millisecond||0;this._isValid=function(e){var t,i,r=!1,s=It.length;for(t in e)if(n(e,t)&&(-1===je.call(It,t)||null!=e[t]&&isNaN(e[t])))return!1;for(i=0;i<s;++i)if(e[It[i]]){if(r)return!1;parseFloat(e[It[i]])!==ce(e[It[i]])&&(r=!0)}return!0}(t),this._milliseconds=+d+1e3*c+6e4*h+1e3*l*60*60,this._days=+a+7*o,this._months=+s+3*r+12*i,this._data={},this._locale=mt(),this._bubble()}function Bt(e){return e instanceof Nt}function zt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ut(e,t){A(e,0,0,(function(){var e=this.utcOffset(),i="+";return e<0&&(e=-e,i="-"),i+O(~~(e/60),2)+t+O(~~e%60,2)}))}Ut("Z",":"),Ut("ZZ",""),oe("Z",ie),oe("ZZ",ie),ue(["Z","ZZ"],(function(e,t,i){i._useUTC=!0,i._tzm=Wt(ie,e)}));var Ht=/([\+\-]|\d\d)/gi;function Wt(e,t){var i,r,s=(t||"").match(e);return null===s?null:0===(r=60*(i=((s[s.length-1]||[])+"").match(Ht)||["-",0,0])[1]+ce(i[2]))?0:"+"===i[0]?r:-r}function Vt(e,t){var r,s;return t._isUTC?(r=t.clone(),s=(w(e)||h(e)?e.valueOf():Dt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+s),i.updateOffset(r,!1),r):Dt(e).local()}function qt(e){return-Math.round(e._d.getTimezoneOffset())}function Gt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Yt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$t=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Kt(e,t){var i,r,s,o=e,a=null;return Bt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(a=Yt.exec(e))?(i="-"===a[1]?-1:1,o={y:0,d:ce(a[ve])*i,h:ce(a[be])*i,m:ce(a[we])*i,s:ce(a[_e])*i,ms:ce(zt(1e3*a[ke]))*i}):(a=$t.exec(e))?(i="-"===a[1]?-1:1,o={y:Xt(a[2],i),M:Xt(a[3],i),w:Xt(a[4],i),d:Xt(a[5],i),h:Xt(a[6],i),m:Xt(a[7],i),s:Xt(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=function(e,t){var i;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Vt(t,e),e.isBefore(t)?i=Zt(e,t):((i=Zt(t,e)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(Dt(o.from),Dt(o.to)),(o={}).ms=s.milliseconds,o.M=s.months),r=new Nt(o),Bt(e)&&n(e,"_locale")&&(r._locale=e._locale),Bt(e)&&n(e,"_isValid")&&(r._isValid=e._isValid),r}function Xt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function Zt(e,t){var i={};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Jt(e,t){return function(i,r){var s;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=r,r=s),Qt(this,Kt(i,r),e),this}}function Qt(e,t,r,s){var n=t._milliseconds,o=zt(t._days),a=zt(t._months);e.isValid()&&(s=null==s||s,a&&Ne(e,Oe(e,"Month")+a*r),o&&Pe(e,"Date",Oe(e,"Date")+o*r),n&&e._d.setTime(e._d.valueOf()+n*r),s&&i.updateOffset(e,o||a))}Kt.fn=Nt.prototype,Kt.invalid=function(){return Kt(NaN)};var ei=Jt(1,"add"),ti=Jt(-1,"subtract");function ii(e){return"string"==typeof e||e instanceof String}function ri(e){return w(e)||h(e)||ii(e)||l(e)||function(e){var t=r(e),i=!1;t&&(i=0===e.filter((function(t){return!l(t)&&ii(e)})).length);return t&&i}(e)||function(e){var t,i,r=s(e)&&!o(e),a=!1,l=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],h=l.length;for(t=0;t<h;t+=1)i=l[t],a=a||n(e,i);return r&&a}(e)||null==e}function si(e,t){if(e.date()<t.date())return-si(t,e);var i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return-(i+(t-r<0?(t-r)/(r-e.clone().add(i-1,"months")):(t-r)/(e.clone().add(i+1,"months")-r)))||0}function ni(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mt(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var oi=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ai(){return this._locale}var li=1e3,hi=6e4,ci=36e5,di=126227808e5;function ui(e,t){return(e%t+t)%t}function pi(e,t,i){return e<100&&e>=0?new Date(e+400,t,i)-di:new Date(e,t,i).valueOf()}function fi(e,t,i){return e<100&&e>=0?Date.UTC(e+400,t,i)-di:Date.UTC(e,t,i)}function mi(e,t){return t.erasAbbrRegex(e)}function gi(){var e,t,i,r,s,n=[],o=[],a=[],l=[],h=this.eras();for(e=0,t=h.length;e<t;++e)i=le(h[e].name),r=le(h[e].abbr),s=le(h[e].narrow),o.push(i),n.push(r),a.push(s),l.push(i),l.push(r),l.push(s);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function yi(e,t){A(0,[e,e.length],0,t)}function vi(e,t,i,r,s){var n;return null==e?qe(this,r,s).year:(t>(n=Ge(e,r,s))&&(t=n),bi.call(this,e,t,i,r,s))}function bi(e,t,i,r,s){var n=Ve(e,t,i,r,s),o=He(n.year,0,n.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}A("N",0,0,"eraAbbr"),A("NN",0,0,"eraAbbr"),A("NNN",0,0,"eraAbbr"),A("NNNN",0,0,"eraName"),A("NNNNN",0,0,"eraNarrow"),A("y",["y",1],"yo","eraYear"),A("y",["yy",2],0,"eraYear"),A("y",["yyy",3],0,"eraYear"),A("y",["yyyy",4],0,"eraYear"),oe("N",mi),oe("NN",mi),oe("NNN",mi),oe("NNNN",(function(e,t){return t.erasNameRegex(e)})),oe("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,i,r){var s=i._locale.erasParse(e,r,i._strict);s?p(i).era=s:p(i).invalidEra=e})),oe("y",Q),oe("yy",Q),oe("yyy",Q),oe("yyyy",Q),oe("yo",(function(e,t){return t._eraYearOrdinalRegex||Q})),ue(["y","yy","yyy","yyyy"],ge),ue(["yo"],(function(e,t,i,r){var s;i._locale._eraYearOrdinalRegex&&(s=e.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?t[ge]=i._locale.eraYearOrdinalParse(e,s):t[ge]=parseInt(e,10)})),A(0,["gg",2],0,(function(){return this.weekYear()%100})),A(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),yi("gggg","weekYear"),yi("ggggg","weekYear"),yi("GGGG","isoWeekYear"),yi("GGGGG","isoWeekYear"),oe("G",ee),oe("g",ee),oe("GG",Y,W),oe("gg",Y,W),oe("GGGG",Z,q),oe("gggg",Z,q),oe("GGGGG",J,G),oe("ggggg",J,G),pe(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,i,r){t[r.substr(0,2)]=ce(e)})),pe(["gg","GG"],(function(e,t,r,s){t[s]=i.parseTwoDigitYear(e)})),A("Q",0,"Qo","quarter"),oe("Q",H),ue("Q",(function(e,t){t[ye]=3*(ce(e)-1)})),A("D",["DD",2],"Do","date"),oe("D",Y,se),oe("DD",Y,W),oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),ue(["D","DD"],ve),ue("Do",(function(e,t){t[ve]=ce(e.match(Y)[0])}));var wi=Ee("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),oe("DDD",X),oe("DDDD",V),ue(["DDD","DDDD"],(function(e,t,i){i._dayOfYear=ce(e)})),A("m",["mm",2],0,"minute"),oe("m",Y,ne),oe("mm",Y,W),ue(["m","mm"],we);var _i=Ee("Minutes",!1);A("s",["ss",2],0,"second"),oe("s",Y,ne),oe("ss",Y,W),ue(["s","ss"],_e);var ki,Si,xi=Ee("Seconds",!1);for(A("S",0,0,(function(){return~~(this.millisecond()/100)})),A(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),A(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),A(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),A(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),A(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),A(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),oe("S",X,H),oe("SS",X,W),oe("SSS",X,V),ki="SSSS";ki.length<=9;ki+="S")oe(ki,Q);function Ti(e,t){t[ke]=ce(1e3*("0."+e))}for(ki="S";ki.length<=9;ki+="S")ue(ki,Ti);Si=Ee("Milliseconds",!1),A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var ji=b.prototype;function Ci(e){return e}ji.add=ei,ji.calendar=function(e,t){1===arguments.length&&(arguments[0]?ri(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,i=s(e)&&!o(e),r=!1,a=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<a.length;t+=1)r=r||n(e,a[t]);return i&&r}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||Dt(),a=Vt(r,this).startOf("day"),l=i.calendarFormat(this,a)||"sameElse",h=t&&(j(t[l])?t[l].call(this,r):t[l]);return this.format(h||this.localeData().calendar(l,this,Dt(r)))},ji.clone=function(){return new b(this)},ji.diff=function(e,t,i){var r,s,n;if(!this.isValid())return NaN;if(!(r=Vt(e,this)).isValid())return NaN;switch(s=6e4*(r.utcOffset()-this.utcOffset()),t=N(t)){case"year":n=si(this,r)/12;break;case"month":n=si(this,r);break;case"quarter":n=si(this,r)/3;break;case"second":n=(this-r)/1e3;break;case"minute":n=(this-r)/6e4;break;case"hour":n=(this-r)/36e5;break;case"day":n=(this-r-s)/864e5;break;case"week":n=(this-r-s)/6048e5;break;default:n=this-r}return i?n:he(n)},ji.endOf=function(e){var t,r;if(void 0===(e=N(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?fi:pi,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=ci-ui(t+(this._isUTC?0:this.utcOffset()*hi),ci)-1;break;case"minute":t=this._d.valueOf(),t+=hi-ui(t,hi)-1;break;case"second":t=this._d.valueOf(),t+=li-ui(t,li)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},ji.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=R(this,e);return this.localeData().postformat(t)},ji.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Dt(e).isValid())?Kt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ji.fromNow=function(e){return this.from(Dt(),e)},ji.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||Dt(e).isValid())?Kt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},ji.toNow=function(e){return this.to(Dt(),e)},ji.get=function(e){return j(this[e=N(e)])?this[e]():this},ji.invalidAt=function(){return p(this).overflow},ji.isAfter=function(e,t){var i=w(e)?e:Dt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=N(t)||"millisecond")?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())},ji.isBefore=function(e,t){var i=w(e)?e:Dt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=N(t)||"millisecond")?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())},ji.isBetween=function(e,t,i,r){var s=w(e)?e:Dt(e),n=w(t)?t:Dt(t);return!!(this.isValid()&&s.isValid()&&n.isValid())&&(("("===(r=r||"()")[0]?this.isAfter(s,i):!this.isBefore(s,i))&&(")"===r[1]?this.isBefore(n,i):!this.isAfter(n,i)))},ji.isSame=function(e,t){var i,r=w(e)?e:Dt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=N(t)||"millisecond")?this.valueOf()===r.valueOf():(i=r.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))},ji.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},ji.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},ji.isValid=function(){return f(this)},ji.lang=oi,ji.locale=ni,ji.localeData=ai,ji.max=Rt,ji.min=At,ji.parsingFlags=function(){return d({},p(this))},ji.set=function(e,t){if("object"==typeof e){var i,r=function(e){var t,i=[];for(t in e)n(e,t)&&i.push({unit:t,priority:z[t]});return i.sort((function(e,t){return e.priority-t.priority})),i}(e=B(e)),s=r.length;for(i=0;i<s;i++)this[r[i].unit](e[r[i].unit])}else if(j(this[e=N(e)]))return this[e](t);return this},ji.startOf=function(e){var t,r;if(void 0===(e=N(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?fi:pi,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=ui(t+(this._isUTC?0:this.utcOffset()*hi),ci);break;case"minute":t=this._d.valueOf(),t-=ui(t,hi);break;case"second":t=this._d.valueOf(),t-=ui(t,li)}return this._d.setTime(t),i.updateOffset(this,!0),this},ji.subtract=ti,ji.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},ji.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},ji.toDate=function(){return new Date(this.valueOf())},ji.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,i=t?this.clone().utc():this;return i.year()<0||i.year()>9999?R(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):j(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",R(i,"Z")):R(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ji.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,i,r="moment",s="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+r+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",i=s+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+i)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(ji[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ji.toJSON=function(){return this.isValid()?this.toISOString():null},ji.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ji.unix=function(){return Math.floor(this.valueOf()/1e3)},ji.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ji.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ji.eraName=function(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until)return r[e].name;if(r[e].until<=i&&i<=r[e].since)return r[e].name}return""},ji.eraNarrow=function(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until)return r[e].narrow;if(r[e].until<=i&&i<=r[e].since)return r[e].narrow}return""},ji.eraAbbr=function(){var e,t,i,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(i=this.clone().startOf("day").valueOf(),r[e].since<=i&&i<=r[e].until)return r[e].abbr;if(r[e].until<=i&&i<=r[e].since)return r[e].abbr}return""},ji.eraYear=function(){var e,t,r,s,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=n[e].since<=n[e].until?1:-1,s=this.clone().startOf("day").valueOf(),n[e].since<=s&&s<=n[e].until||n[e].until<=s&&s<=n[e].since)return(this.year()-i(n[e].since).year())*r+n[e].offset;return this.year()},ji.year=Ce,ji.isLeapYear=function(){return me(this.year())},ji.weekYear=function(e){return vi.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},ji.isoWeekYear=function(e){return vi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},ji.quarter=ji.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},ji.month=Be,ji.daysInMonth=function(){return Fe(this.year(),this.month())},ji.week=ji.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},ji.isoWeek=ji.isoWeeks=function(e){var t=qe(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},ji.weeksInYear=function(){var e=this.localeData()._week;return Ge(this.year(),e.dow,e.doy)},ji.weeksInWeekYear=function(){var e=this.localeData()._week;return Ge(this.weekYear(),e.dow,e.doy)},ji.isoWeeksInYear=function(){return Ge(this.year(),1,4)},ji.isoWeeksInISOWeekYear=function(){return Ge(this.isoWeekYear(),1,4)},ji.date=wi,ji.day=ji.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=Oe(this,"Day");return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},ji.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},ji.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},ji.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},ji.hour=ji.hours=nt,ji.minute=ji.minutes=_i,ji.second=ji.seconds=xi,ji.millisecond=ji.milliseconds=Si,ji.utcOffset=function(e,t,r){var s,n=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Wt(ie,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(s=qt(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),n!==e&&(!t||this._changeInProgress?Qt(this,Kt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?n:qt(this)},ji.utc=function(e){return this.utcOffset(0,e)},ji.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(qt(this),"m")),this},ji.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Wt(te,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},ji.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Dt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},ji.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ji.isLocal=function(){return!!this.isValid()&&!this._isUTC},ji.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ji.isUtc=Gt,ji.isUTC=Gt,ji.zoneAbbr=function(){return this._isUTC?"UTC":""},ji.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ji.dates=k("dates accessor is deprecated. Use date instead.",wi),ji.months=k("months accessor is deprecated. Use month instead",Be),ji.years=k("years accessor is deprecated. Use year instead",Ce),ji.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),ji.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!a(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=Ft(t))._a?(e=t._isUTC?u(t._a):Dt(t._a),this._isDSTShifted=this.isValid()&&function(e,t,i){var r,s=Math.min(e.length,t.length),n=Math.abs(e.length-t.length),o=0;for(r=0;r<s;r++)(i&&e[r]!==t[r]||!i&&ce(e[r])!==ce(t[r]))&&o++;return o+n}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var Ei=E.prototype;function Oi(e,t,i,r){var s=mt(),n=u().set(r,t);return s[i](n,e)}function Pi(e,t,i){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return Oi(e,t,i,"month");var r,s=[];for(r=0;r<12;r++)s[r]=Oi(e,r,i,"month");return s}function Fi(e,t,i,r){"boolean"==typeof e?(l(t)&&(i=t,t=void 0),t=t||""):(i=t=e,e=!1,l(t)&&(i=t,t=void 0),t=t||"");var s,n=mt(),o=e?n._week.dow:0,a=[];if(null!=i)return Oi(t,(i+o)%7,r,"day");for(s=0;s<7;s++)a[s]=Oi(t,(s+o)%7,r,"day");return a}Ei.calendar=function(e,t,i){var r=this._calendar[e]||this._calendar.sameElse;return j(r)?r.call(t,i):r},Ei.longDateFormat=function(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.match(P).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},Ei.invalidDate=function(){return this._invalidDate},Ei.ordinal=function(e){return this._ordinal.replace("%d",e)},Ei.preparse=Ci,Ei.postformat=Ci,Ei.relativeTime=function(e,t,i,r){var s=this._relativeTime[i];return j(s)?s(e,t,i,r):s.replace(/%d/i,e)},Ei.pastFuture=function(e,t){var i=this._relativeTime[e>0?"future":"past"];return j(i)?i(t):i.replace(/%s/i,t)},Ei.set=function(e){var t,i;for(i in e)n(e,i)&&(j(t=e[i])?this[i]=t:this["_"+i]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Ei.eras=function(e,t){var r,s,n,o=this._eras||mt("en")._eras;for(r=0,s=o.length;r<s;++r){if("string"==typeof o[r].since)n=i(o[r].since).startOf("day"),o[r].since=n.valueOf();switch(typeof o[r].until){case"undefined":o[r].until=1/0;break;case"string":n=i(o[r].until).startOf("day").valueOf(),o[r].until=n.valueOf()}}return o},Ei.erasParse=function(e,t,i){var r,s,n,o,a,l=this.eras();for(e=e.toUpperCase(),r=0,s=l.length;r<s;++r)if(n=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),i)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(n===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([n,o,a].indexOf(e)>=0)return l[r]},Ei.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?i(e.since).year():i(e.since).year()+(t-e.offset)*r},Ei.erasAbbrRegex=function(e){return n(this,"_erasAbbrRegex")||gi.call(this),e?this._erasAbbrRegex:this._erasRegex},Ei.erasNameRegex=function(e){return n(this,"_erasNameRegex")||gi.call(this),e?this._erasNameRegex:this._erasRegex},Ei.erasNarrowRegex=function(e){return n(this,"_erasNarrowRegex")||gi.call(this),e?this._erasNarrowRegex:this._erasRegex},Ei.months=function(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ae).test(t)?"format":"standalone"][e.month()]:r(this._months)?this._months:this._months.standalone},Ei.monthsShort=function(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ae.test(t)?"format":"standalone"][e.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Ei.monthsParse=function(e,t,i){var r,s,n;if(this._monthsParseExact)return Ie.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(s=u([2e3,r]),i&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[r]||(n="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[r]=new RegExp(n.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(i&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!i&&this._monthsParse[r].test(e))return r}},Ei.monthsRegex=function(e){return this._monthsParseExact?(n(this,"_monthsRegex")||ze.call(this),e?this._monthsStrictRegex:this._monthsRegex):(n(this,"_monthsRegex")||(this._monthsRegex=Le),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Ei.monthsShortRegex=function(e){return this._monthsParseExact?(n(this,"_monthsRegex")||ze.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(n(this,"_monthsShortRegex")||(this._monthsShortRegex=Re),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Ei.week=function(e){return qe(e,this._week.dow,this._week.doy).week},Ei.firstDayOfYear=function(){return this._week.doy},Ei.firstDayOfWeek=function(){return this._week.dow},Ei.weekdays=function(e,t){var i=r(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ye(i,this._week.dow):e?i[e.day()]:i},Ei.weekdaysMin=function(e){return!0===e?Ye(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Ei.weekdaysShort=function(e){return!0===e?Ye(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Ei.weekdaysParse=function(e,t,i){var r,s,n;if(this._weekdaysParseExact)return et.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(s=u([2e3,1]).day(r),i&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(n="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[r]=new RegExp(n.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(i&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(i&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!i&&this._weekdaysParse[r].test(e))return r}},Ei.weekdaysRegex=function(e){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(n(this,"_weekdaysRegex")||(this._weekdaysRegex=Ze),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Ei.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(n(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Je),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Ei.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(n(this,"_weekdaysRegex")||tt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(n(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Qe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Ei.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Ei.meridiem=function(e,t,i){return e>11?i?"pm":"PM":i?"am":"AM"},pt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=k("moment.lang is deprecated. Use moment.locale instead.",pt),i.langData=k("moment.langData is deprecated. Use moment.localeData instead.",mt);var Mi=Math.abs;function Di(e,t,i,r){var s=Kt(t,i);return e._milliseconds+=r*s._milliseconds,e._days+=r*s._days,e._months+=r*s._months,e._bubble()}function Ai(e){return e<0?Math.floor(e):Math.ceil(e)}function Ri(e){return 4800*e/146097}function Li(e){return 146097*e/4800}function Ii(e){return function(){return this.as(e)}}var Ni=Ii("ms"),Bi=Ii("s"),zi=Ii("m"),Ui=Ii("h"),Hi=Ii("d"),Wi=Ii("w"),Vi=Ii("M"),qi=Ii("Q"),Gi=Ii("y"),Yi=Ni;function $i(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ki=$i("milliseconds"),Xi=$i("seconds"),Zi=$i("minutes"),Ji=$i("hours"),Qi=$i("days"),er=$i("months"),tr=$i("years");var ir=Math.round,rr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function sr(e,t,i,r,s){return s.relativeTime(t||1,!!i,e,r)}var nr=Math.abs;function or(e){return(e>0)-(e<0)||+e}function ar(){if(!this.isValid())return this.localeData().invalidDate();var e,t,i,r,s,n,o,a,l=nr(this._milliseconds)/1e3,h=nr(this._days),c=nr(this._months),d=this.asSeconds();return d?(e=he(l/60),t=he(e/60),l%=60,e%=60,i=he(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",s=d<0?"-":"",n=or(this._months)!==or(d)?"-":"",o=or(this._days)!==or(d)?"-":"",a=or(this._milliseconds)!==or(d)?"-":"",s+"P"+(i?n+i+"Y":"")+(c?n+c+"M":"")+(h?o+h+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var lr=Nt.prototype;return lr.isValid=function(){return this._isValid},lr.abs=function(){var e=this._data;return this._milliseconds=Mi(this._milliseconds),this._days=Mi(this._days),this._months=Mi(this._months),e.milliseconds=Mi(e.milliseconds),e.seconds=Mi(e.seconds),e.minutes=Mi(e.minutes),e.hours=Mi(e.hours),e.months=Mi(e.months),e.years=Mi(e.years),this},lr.add=function(e,t){return Di(this,e,t,1)},lr.subtract=function(e,t){return Di(this,e,t,-1)},lr.as=function(e){if(!this.isValid())return NaN;var t,i,r=this._milliseconds;if("month"===(e=N(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,i=this._months+Ri(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(Li(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},lr.asMilliseconds=Ni,lr.asSeconds=Bi,lr.asMinutes=zi,lr.asHours=Ui,lr.asDays=Hi,lr.asWeeks=Wi,lr.asMonths=Vi,lr.asQuarters=qi,lr.asYears=Gi,lr.valueOf=Yi,lr._bubble=function(){var e,t,i,r,s,n=this._milliseconds,o=this._days,a=this._months,l=this._data;return n>=0&&o>=0&&a>=0||n<=0&&o<=0&&a<=0||(n+=864e5*Ai(Li(a)+o),o=0,a=0),l.milliseconds=n%1e3,e=he(n/1e3),l.seconds=e%60,t=he(e/60),l.minutes=t%60,i=he(t/60),l.hours=i%24,o+=he(i/24),a+=s=he(Ri(o)),o-=Ai(Li(s)),r=he(a/12),a%=12,l.days=o,l.months=a,l.years=r,this},lr.clone=function(){return Kt(this)},lr.get=function(e){return e=N(e),this.isValid()?this[e+"s"]():NaN},lr.milliseconds=Ki,lr.seconds=Xi,lr.minutes=Zi,lr.hours=Ji,lr.days=Qi,lr.weeks=function(){return he(this.days()/7)},lr.months=er,lr.years=tr,lr.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var i,r,s=!1,n=rr;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(s=e),"object"==typeof t&&(n=Object.assign({},rr,t),null!=t.s&&null==t.ss&&(n.ss=t.s-1)),r=function(e,t,i,r){var s=Kt(e).abs(),n=ir(s.as("s")),o=ir(s.as("m")),a=ir(s.as("h")),l=ir(s.as("d")),h=ir(s.as("M")),c=ir(s.as("w")),d=ir(s.as("y")),u=n<=i.ss&&["s",n]||n<i.s&&["ss",n]||o<=1&&["m"]||o<i.m&&["mm",o]||a<=1&&["h"]||a<i.h&&["hh",a]||l<=1&&["d"]||l<i.d&&["dd",l];return null!=i.w&&(u=u||c<=1&&["w"]||c<i.w&&["ww",c]),(u=u||h<=1&&["M"]||h<i.M&&["MM",h]||d<=1&&["y"]||["yy",d])[2]=t,u[3]=+e>0,u[4]=r,sr.apply(null,u)}(this,!s,n,i=this.localeData()),s&&(r=i.pastFuture(+this,r)),i.postformat(r)},lr.toISOString=ar,lr.toString=ar,lr.toJSON=ar,lr.locale=ni,lr.localeData=ai,lr.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ar),lr.lang=oi,A("X",0,0,"unix"),A("x",0,0,"valueOf"),oe("x",ee),oe("X",/[+-]?\d+(\.\d{1,3})?/),ue("X",(function(e,t,i){i._d=new Date(1e3*parseFloat(e))})),ue("x",(function(e,t,i){i._d=new Date(ce(e))})),i.version="2.30.1",e=Dt,i.fn=ji,i.min=function(){return Lt("isBefore",[].slice.call(arguments,0))},i.max=function(){return Lt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=u,i.unix=function(e){return Dt(1e3*e)},i.months=function(e,t){return Pi(e,t,"months")},i.isDate=h,i.locale=pt,i.invalid=m,i.duration=Kt,i.isMoment=w,i.weekdays=function(e,t,i){return Fi(e,t,i,"weekdays")},i.parseZone=function(){return Dt.apply(null,arguments).parseZone()},i.localeData=mt,i.isDuration=Bt,i.monthsShort=function(e,t){return Pi(e,t,"monthsShort")},i.weekdaysMin=function(e,t,i){return Fi(e,t,i,"weekdaysMin")},i.defineLocale=ft,i.updateLocale=function(e,t){if(null!=t){var i,r,s=at;null!=lt[e]&&null!=lt[e].parentLocale?lt[e].set(C(lt[e]._config,t)):(null!=(r=ut(e))&&(s=r._config),t=C(s,t),null==r&&(t.abbr=e),(i=new E(t)).parentLocale=lt[e],lt[e]=i),pt(e)}else null!=lt[e]&&(null!=lt[e].parentLocale?(lt[e]=lt[e].parentLocale,e===pt()&&pt(e)):null!=lt[e]&&delete lt[e]);return lt[e]},i.locales=function(){return S(lt)},i.weekdaysShort=function(e,t,i){return Fi(e,t,i,"weekdaysShort")},i.normalizeUnits=N,i.relativeTimeRounding=function(e){return void 0===e?ir:"function"==typeof e&&(ir=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==rr[e]&&(void 0===t?rr[e]:(rr[e]=t,"s"===e&&(rr.ss=t-1),!0))},i.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},i.prototype=ji,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i})),function(e){"use strict";function t(t){var i=t.data;t.isDefaultPrevented()||(t.preventDefault(),e(this).ajaxSubmit(i))}function i(t){var i=t.target,r=e(i);if(!r.is("[type=submit],[type=image]")){var s=r.closest("[type=submit]");if(0===s.length)return;i=s[0]}var n=this;if(n.clk=i,"image"==i.type)if(void 0!==t.offsetX)n.clk_x=t.offsetX,n.clk_y=t.offsetY;else if("function"==typeof e.fn.offset){var o=r.offset();n.clk_x=t.pageX-o.left,n.clk_y=t.pageY-o.top}else n.clk_x=t.pageX-i.offsetLeft,n.clk_y=t.pageY-i.offsetTop;setTimeout((function(){n.clk=n.clk_x=n.clk_y=null}),100)}function r(){if(e.fn.ajaxSubmit.debug){var t="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(t):window.opera&&window.opera.postError&&window.opera.postError(t)}}var s={};s.fileapi=void 0!==e("<input type='file'/>").get(0).files,s.formdata=void 0!==window.FormData;var n=!!e.fn.prop;e.fn.attr2=function(){if(!n)return this.attr.apply(this,arguments);var e=this.prop.apply(this,arguments);return e&&e.jquery||"string"==typeof e?e:this.attr.apply(this,arguments)},e.fn.ajaxSubmit=function(t){function i(i){function s(e){var t=null;try{e.contentWindow&&(t=e.contentWindow.document)}catch(e){r("cannot get iframe.contentWindow document: "+e)}if(t)return t;try{t=e.contentDocument?e.contentDocument:e.document}catch(i){r("cannot get iframe.contentDocument: "+i),t=e.document}return t}function a(){var t=h.attr2("target"),i=h.attr2("action");S.setAttribute("target",m),o||S.setAttribute("method","POST"),i!=u.url&&S.setAttribute("action",u.url),u.skipEncodingOverride||o&&!/post/i.test(o)||h.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(k=setTimeout((function(){_=!0,l(T)}),u.timeout));var n=[];try{if(u.extraData)for(var a in u.extraData)u.extraData.hasOwnProperty(a)&&(e.isPlainObject(u.extraData[a])&&u.extraData[a].hasOwnProperty("name")&&u.extraData[a].hasOwnProperty("value")?n.push(e('<input type="hidden" name="'+u.extraData[a].name+'">').val(u.extraData[a].value).appendTo(S)[0]):n.push(e('<input type="hidden" name="'+a+'">').val(u.extraData[a]).appendTo(S)[0]));u.iframeTarget||(g.appendTo("body"),y.attachEvent?y.attachEvent("onload",l):y.addEventListener("load",l,!1)),setTimeout((function e(){try{var t=s(y).readyState;r("state = "+t),t&&"uninitialized"==t.toLowerCase()&&setTimeout(e,50)}catch(e){r("Server abort: ",e," (",e.name,")"),l(j),k&&clearTimeout(k),k=void 0}}),15);try{S.submit()}catch(e){document.createElement("form").submit.apply(S)}}finally{S.setAttribute("action",i),t?S.setAttribute("target",t):h.removeAttr("target"),e(n).remove()}}function l(t){if(!v.aborted&&!F){if((P=s(y))||(r("cannot access response document"),t=j),t===T&&v)return v.abort("timeout"),void x.reject(v,"timeout");if(t==j&&v)return v.abort("server abort"),void x.reject(v,"error","server abort");if(P&&P.location.href!=u.iframeSrc||_){y.detachEvent?y.detachEvent("onload",l):y.removeEventListener("load",l,!1);var i,n="success";try{if(_)throw"timeout";var o="xml"==u.dataType||P.XMLDocument||e.isXMLDoc(P);if(r("isXml="+o),!o&&window.opera&&(null===P.body||!P.body.innerHTML)&&--M)return r("requeing onLoad callback, DOM not available"),void setTimeout(l,250);var a=P.body?P.body:P.documentElement;v.responseText=a?a.innerHTML:null,v.responseXML=P.XMLDocument?P.XMLDocument:P,o&&(u.dataType="xml"),v.getResponseHeader=function(e){return{"content-type":u.dataType}[e]},a&&(v.status=Number(a.getAttribute("status"))||v.status,v.statusText=a.getAttribute("statusText")||v.statusText);var h=(u.dataType||"").toLowerCase(),c=/(json|script|text)/.test(h);if(c||u.textarea){var d=P.getElementsByTagName("textarea")[0];if(d)v.responseText=d.value,v.status=Number(d.getAttribute("status"))||v.status,v.statusText=d.getAttribute("statusText")||v.statusText;else if(c){var p=P.getElementsByTagName("pre")[0],m=P.getElementsByTagName("body")[0];p?v.responseText=p.textContent?p.textContent:p.innerText:m&&(v.responseText=m.textContent?m.textContent:m.innerText)}}else"xml"==h&&!v.responseXML&&v.responseText&&(v.responseXML=D(v.responseText));try{O=R(v,h,u)}catch(e){n="parsererror",v.error=i=e||n}}catch(e){r("error caught: ",e),n="error",v.error=i=e||n}v.aborted&&(r("upload aborted"),n=null),v.status&&(n=v.status>=200&&300>v.status||304===v.status?"success":"error"),"success"===n?(u.success&&u.success.call(u.context,O,"success",v),x.resolve(v.responseText,"success",v),f&&e.event.trigger("ajaxSuccess",[v,u])):n&&(void 0===i&&(i=v.statusText),u.error&&u.error.call(u.context,v,n,i),x.reject(v,"error",i),f&&e.event.trigger("ajaxError",[v,u,i])),f&&e.event.trigger("ajaxComplete",[v,u]),f&&! --e.active&&e.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,v,n),F=!0,u.timeout&&clearTimeout(k),setTimeout((function(){u.iframeTarget||g.remove(),v.responseXML=null}),100)}}}var c,d,u,f,m,g,y,v,b,w,_,k,S=h[0],x=e.Deferred();if(i)for(d=0;p.length>d;d++)c=e(p[d]),n?c.prop("disabled",!1):c.removeAttr("disabled");if((u=e.extend(!0,{},e.ajaxSettings,t)).context=u.context||u,m="jqFormIO"+(new Date).getTime(),u.iframeTarget?(w=(g=e(u.iframeTarget)).attr2("name"))?m=w:g.attr2("name",m):(g=e('<iframe name="'+m+'" src="'+u.iframeSrc+'" />')).css({position:"absolute",top:"-1000px",left:"-1000px"}),y=g[0],v={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(t){var i="timeout"===t?"timeout":"aborted";r("aborting upload... "+i),this.aborted=1;try{y.contentWindow.document.execCommand&&y.contentWindow.document.execCommand("Stop")}catch(e){}g.attr("src",u.iframeSrc),v.error=i,u.error&&u.error.call(u.context,v,i,t),f&&e.event.trigger("ajaxError",[v,u,i]),u.complete&&u.complete.call(u.context,v,i)}},(f=u.global)&&0==e.active++&&e.event.trigger("ajaxStart"),f&&e.event.trigger("ajaxSend",[v,u]),u.beforeSend&&!1===u.beforeSend.call(u.context,v,u))return u.global&&e.active--,x.reject(),x;if(v.aborted)return x.reject(),x;(b=S.clk)&&((w=b.name)&&!b.disabled&&(u.extraData=u.extraData||{},u.extraData[w]=b.value,"image"==b.type&&(u.extraData[w+".x"]=S.clk_x,u.extraData[w+".y"]=S.clk_y)));var T=1,j=2,C=e("meta[name=csrf-token]").attr("content"),E=e("meta[name=csrf-param]").attr("content");E&&C&&(u.extraData=u.extraData||{},u.extraData[E]=C),u.forceSync?a():setTimeout(a,10);var O,P,F,M=50,D=e.parseXML||function(e,t){return window.ActiveXObject?((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)):t=(new DOMParser).parseFromString(e,"text/xml"),t&&t.documentElement&&"parsererror"!=t.documentElement.nodeName?t:null},A=e.parseJSON||function(e){return window.eval("("+e+")")},R=function(t,i,r){var s=t.getResponseHeader("content-type")||"",n="xml"===i||!i&&s.indexOf("xml")>=0,o=n?t.responseXML:t.responseText;return n&&"parsererror"===o.documentElement.nodeName&&e.error&&e.error("parsererror"),r&&r.dataFilter&&(o=r.dataFilter(o,i)),"string"==typeof o&&("json"===i||!i&&s.indexOf("json")>=0?o=A(o):("script"===i||!i&&s.indexOf("javascript")>=0)&&e.globalEval(o)),o};return x}if(!this.length)return r("ajaxSubmit: skipping submit process - no element selected"),this;var o,a,l,h=this;"function"==typeof t&&(t={success:t}),o=t.type||this.attr2("method"),(l=(l="string"==typeof(a=t.url||this.attr2("action"))?e.trim(a):"")||window.location.href||"")&&(l=(l.match(/^([^#]+)/)||[])[1]),t=e.extend(!0,{url:l,success:e.ajaxSettings.success,type:o||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},t);var c={};if(this.trigger("form-pre-serialize",[this,t,c]),c.veto)return r("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(t.beforeSerialize&&!1===t.beforeSerialize(this,t))return r("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var d=t.traditional;void 0===d&&(d=e.ajaxSettings.traditional);var u,p=[],f=this.formToArray(t.semantic,p);if(t.data&&(t.extraData=t.data,u=e.param(t.data,d)),t.beforeSubmit&&!1===t.beforeSubmit(f,this,t))return r("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[f,this,t,c]),c.veto)return r("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=e.param(f,d);u&&(m=m?m+"&"+u:u),"GET"==t.type.toUpperCase()?(t.url+=(t.url.indexOf("?")>=0?"&":"?")+m,t.data=null):t.data=m;var g=[];if(t.resetForm&&g.push((function(){h.resetForm()})),t.clearForm&&g.push((function(){h.clearForm(t.includeHidden)})),!t.dataType&&t.target){var y=t.success||function(){};g.push((function(i){var r=t.replaceTarget?"replaceWith":"html";e(t.target)[r](i).each(y,arguments)}))}else t.success&&g.push(t.success);if(t.success=function(e,i,r){for(var s=t.context||this,n=0,o=g.length;o>n;n++)g[n].apply(s,[e,i,r||h,h])},t.error){var v=t.error;t.error=function(e,i,r){var s=t.context||this;v.apply(s,[e,i,r,h])}}if(t.complete){var b=t.complete;t.complete=function(e,i){var r=t.context||this;b.apply(r,[e,i,h])}}var w=e('input[type=file]:enabled[value!=""]',this).length>0,_="multipart/form-data",k=h.attr("enctype")==_||h.attr("encoding")==_,S=s.fileapi&&s.formdata;r("fileAPI :"+S);var x,T=(w||k)&&!S;!1!==t.iframe&&(t.iframe||T)?t.closeKeepAlive?e.get(t.closeKeepAlive,(function(){x=i(f)})):x=i(f):x=(w||k)&&S?function(i){for(var r=new FormData,s=0;i.length>s;s++)r.append(i[s].name,i[s].value);if(t.extraData){var n=function(i){var r,s,n=e.param(i,t.traditional).split("&"),o=n.length,a=[];for(r=0;o>r;r++)n[r]=n[r].replace(/\+/g," "),s=n[r].split("="),a.push([decodeURIComponent(s[0]),decodeURIComponent(s[1])]);return a}(t.extraData);for(s=0;n.length>s;s++)n[s]&&r.append(n[s][0],n[s][1])}t.data=null;var a=e.extend(!0,{},e.ajaxSettings,t,{contentType:!1,processData:!1,cache:!1,type:o||"POST"});t.uploadProgress&&(a.xhr=function(){var i=e.ajaxSettings.xhr();return i.upload&&i.upload.addEventListener("progress",(function(e){var i=0,r=e.loaded||e.position,s=e.total;e.lengthComputable&&(i=Math.ceil(r/s*100)),t.uploadProgress(e,r,s,i)}),!1),i}),a.data=null;var l=a.beforeSend;return a.beforeSend=function(e,t){t.data=r,l&&l.call(this,e,t)},e.ajax(a)}(f):e.ajax(t),h.removeData("jqxhr").data("jqxhr",x);for(var j=0;p.length>j;j++)p[j]=null;return this.trigger("form-submit-notify",[this,t]),this},e.fn.ajaxForm=function(s){if((s=s||{}).delegation=s.delegation&&e.isFunction(e.fn.on),!s.delegation&&0===this.length){var n={s:this.selector,c:this.context};return!e.isReady&&n.s?(r("DOM not ready, queuing ajaxForm"),e((function(){e(n.s,n.c).ajaxForm(s)})),this):(r("terminating; zero elements found by selector"+(e.isReady?"":" (DOM not ready)")),this)}return s.delegation?(e(document).off("submit.form-plugin",this.selector,t).off("click.form-plugin",this.selector,i).on("submit.form-plugin",this.selector,s,t).on("click.form-plugin",this.selector,s,i),this):this.ajaxFormUnbind().bind("submit.form-plugin",s,t).bind("click.form-plugin",s,i)},e.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},e.fn.formToArray=function(t,i){var r=[];if(0===this.length)return r;var n,o,a,l,h,c,d,u=this[0],p=t?u.getElementsByTagName("*"):u.elements;if(!p)return r;for(n=0,c=p.length;c>n;n++)if((a=(h=p[n]).name)&&!h.disabled)if(t&&u.clk&&"image"==h.type)u.clk==h&&(r.push({name:a,value:e(h).val(),type:h.type}),r.push({name:a+".x",value:u.clk_x},{name:a+".y",value:u.clk_y}));else if((l=e.fieldValue(h,!0))&&l.constructor==Array)for(i&&i.push(h),o=0,d=l.length;d>o;o++)r.push({name:a,value:l[o]});else if(s.fileapi&&"file"==h.type){i&&i.push(h);var f=h.files;if(f.length)for(o=0;f.length>o;o++)r.push({name:a,value:f[o],type:h.type});else r.push({name:a,value:"",type:h.type})}else null!=l&&(i&&i.push(h),r.push({name:a,value:l,type:h.type,required:h.required}));if(!t&&u.clk){var m=e(u.clk),g=m[0];(a=g.name)&&!g.disabled&&"image"==g.type&&(r.push({name:a,value:m.val()}),r.push({name:a+".x",value:u.clk_x},{name:a+".y",value:u.clk_y}))}return r},e.fn.formSerialize=function(t){return e.param(this.formToArray(t))},e.fn.fieldSerialize=function(t){var i=[];return this.each((function(){var r=this.name;if(r){var s=e.fieldValue(this,t);if(s&&s.constructor==Array)for(var n=0,o=s.length;o>n;n++)i.push({name:r,value:s[n]});else null!=s&&i.push({name:this.name,value:s})}})),e.param(i)},e.fn.fieldValue=function(t){for(var i=[],r=0,s=this.length;s>r;r++){var n=this[r],o=e.fieldValue(n,t);null==o||o.constructor==Array&&!o.length||(o.constructor==Array?e.merge(i,o):i.push(o))}return i},e.fieldValue=function(t,i){var r=t.name,s=t.type,n=t.tagName.toLowerCase();if(void 0===i&&(i=!0),i&&(!r||t.disabled||"reset"==s||"button"==s||("checkbox"==s||"radio"==s)&&!t.checked||("submit"==s||"image"==s)&&t.form&&t.form.clk!=t||"select"==n&&-1==t.selectedIndex))return null;if("select"==n){var o=t.selectedIndex;if(0>o)return null;for(var a=[],l=t.options,h="select-one"==s,c=h?o+1:l.length,d=h?o:0;c>d;d++){var u=l[d];if(u.selected){var p=u.value;if(p||(p=u.attributes&&u.attributes.value&&!u.attributes.value.specified?u.text:u.value),h)return p;a.push(p)}}return a}return e(t).val()},e.fn.clearForm=function(t){return this.each((function(){e("input,select,textarea",this).clearFields(t)}))},e.fn.clearFields=e.fn.clearInputs=function(t){var i=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each((function(){var r=this.type,s=this.tagName.toLowerCase();i.test(r)||"textarea"==s?this.value="":"checkbox"==r||"radio"==r?this.checked=!1:"select"==s?this.selectedIndex=-1:"file"==r?/MSIE/.test(navigator.userAgent)?e(this).replaceWith(e(this).clone(!0)):e(this).val(""):t&&(!0===t&&/hidden/.test(r)||"string"==typeof t&&e(this).is(t))&&(this.value="")}))},e.fn.resetForm=function(){return this.each((function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()}))},e.fn.enable=function(e){return void 0===e&&(e=!0),this.each((function(){this.disabled=!e}))},e.fn.selected=function(t){return void 0===t&&(t=!0),this.each((function(){var i=this.type;if("checkbox"==i||"radio"==i)this.checked=t;else if("option"==this.tagName.toLowerCase()){var r=e(this).parent("select");t&&r[0]&&"select-one"==r[0].type&&r.find("option").selected(!1),this.selected=t}}))},e.fn.ajaxSubmit.debug=!1}(jQuery),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Popper={})}(this,(function(e){"use strict";function t(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function i(e){return e instanceof t(e).Element||e instanceof Element}function r(e){return e instanceof t(e).HTMLElement||e instanceof HTMLElement}function s(e){return"undefined"!=typeof ShadowRoot&&(e instanceof t(e).ShadowRoot||e instanceof ShadowRoot)}var n=Math.max,o=Math.min,a=Math.round;function l(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function h(){return!/^((?!chrome|android).)*safari/i.test(l())}function c(e,s,n){void 0===s&&(s=!1),void 0===n&&(n=!1);var o=e.getBoundingClientRect(),l=1,c=1;s&&r(e)&&(l=e.offsetWidth>0&&a(o.width)/e.offsetWidth||1,c=e.offsetHeight>0&&a(o.height)/e.offsetHeight||1);var d=(i(e)?t(e):window).visualViewport,u=!h()&&n,p=(o.left+(u&&d?d.offsetLeft:0))/l,f=(o.top+(u&&d?d.offsetTop:0))/c,m=o.width/l,g=o.height/c;return{width:m,height:g,top:f,right:p+m,bottom:f+g,left:p,x:p,y:f}}function d(e){var i=t(e);return{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function u(e){return e?(e.nodeName||"").toLowerCase():null}function p(e){return((i(e)?e.ownerDocument:e.document)||window.document).documentElement}function f(e){return c(p(e)).left+d(e).scrollLeft}function m(e){return t(e).getComputedStyle(e)}function g(e){var t=m(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function y(e,i,s){void 0===s&&(s=!1);var n,o,l=r(i),h=r(i)&&function(e){var t=e.getBoundingClientRect(),i=a(t.width)/e.offsetWidth||1,r=a(t.height)/e.offsetHeight||1;return 1!==i||1!==r}(i),m=p(i),y=c(e,h,s),v={scrollLeft:0,scrollTop:0},b={x:0,y:0};return(l||!l&&!s)&&(("body"!==u(i)||g(m))&&(v=(n=i)!==t(n)&&r(n)?{scrollLeft:(o=n).scrollLeft,scrollTop:o.scrollTop}:d(n)),r(i)?((b=c(i,!0)).x+=i.clientLeft,b.y+=i.clientTop):m&&(b.x=f(m))),{x:y.left+v.scrollLeft-b.x,y:y.top+v.scrollTop-b.y,width:y.width,height:y.height}}function v(e){var t=c(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function b(e){return"html"===u(e)?e:e.assignedSlot||e.parentNode||(s(e)?e.host:null)||p(e)}function w(e){return["html","body","#document"].indexOf(u(e))>=0?e.ownerDocument.body:r(e)&&g(e)?e:w(b(e))}function _(e,i){var r;void 0===i&&(i=[]);var s=w(e),n=s===(null==(r=e.ownerDocument)?void 0:r.body),o=t(s),a=n?[o].concat(o.visualViewport||[],g(s)?s:[]):s,l=i.concat(a);return n?l:l.concat(_(b(a)))}function k(e){return["table","td","th"].indexOf(u(e))>=0}function S(e){return r(e)&&"fixed"!==m(e).position?e.offsetParent:null}function x(e){for(var i=t(e),n=S(e);n&&k(n)&&"static"===m(n).position;)n=S(n);return n&&("html"===u(n)||"body"===u(n)&&"static"===m(n).position)?i:n||function(e){var t=/firefox/i.test(l());if(/Trident/i.test(l())&&r(e)&&"fixed"===m(e).position)return null;var i=b(e);for(s(i)&&(i=i.host);r(i)&&["html","body"].indexOf(u(i))<0;){var n=m(i);if("none"!==n.transform||"none"!==n.perspective||"paint"===n.contain||-1!==["transform","perspective"].indexOf(n.willChange)||t&&"filter"===n.willChange||t&&n.filter&&"none"!==n.filter)return i;i=i.parentNode}return null}(e)||i}var T="top",j="bottom",C="right",E="left",O="auto",P=[T,j,C,E],F="start",M="end",D="clippingParents",A="viewport",R="popper",L="reference",I=P.reduce((function(e,t){return e.concat([t+"-"+F,t+"-"+M])}),[]),N=[].concat(P,[O]).reduce((function(e,t){return e.concat([t,t+"-"+F,t+"-"+M])}),[]),B=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function z(e){var t=new Map,i=new Set,r=[];function s(e){i.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!i.has(e)){var r=t.get(e);r&&s(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){i.has(e.name)||s(e)})),r}function U(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&s(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function H(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function W(e,r,s){return r===A?H(function(e,i){var r=t(e),s=p(e),n=r.visualViewport,o=s.clientWidth,a=s.clientHeight,l=0,c=0;if(n){o=n.width,a=n.height;var d=h();(d||!d&&"fixed"===i)&&(l=n.offsetLeft,c=n.offsetTop)}return{width:o,height:a,x:l+f(e),y:c}}(e,s)):i(r)?function(e,t){var i=c(e,!1,"fixed"===t);return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}(r,s):H(function(e){var t,i=p(e),r=d(e),s=null==(t=e.ownerDocument)?void 0:t.body,o=n(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=n(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+f(e),h=-r.scrollTop;return"rtl"===m(s||i).direction&&(l+=n(i.clientWidth,s?s.clientWidth:0)-o),{width:o,height:a,x:l,y:h}}(p(e)))}function V(e,t,s,a){var l="clippingParents"===t?function(e){var t=_(b(e)),s=["absolute","fixed"].indexOf(m(e).position)>=0&&r(e)?x(e):e;return i(s)?t.filter((function(e){return i(e)&&U(e,s)&&"body"!==u(e)})):[]}(e):[].concat(t),h=[].concat(l,[s]),c=h[0],d=h.reduce((function(t,i){var r=W(e,i,a);return t.top=n(r.top,t.top),t.right=o(r.right,t.right),t.bottom=o(r.bottom,t.bottom),t.left=n(r.left,t.left),t}),W(e,c,a));return d.width=d.right-d.left,d.height=d.bottom-d.top,d.x=d.left,d.y=d.top,d}function q(e){return e.split("-")[0]}function G(e){return e.split("-")[1]}function Y(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $(e){var t,i=e.reference,r=e.element,s=e.placement,n=s?q(s):null,o=s?G(s):null,a=i.x+i.width/2-r.width/2,l=i.y+i.height/2-r.height/2;switch(n){case T:t={x:a,y:i.y-r.height};break;case j:t={x:a,y:i.y+i.height};break;case C:t={x:i.x+i.width,y:l};break;case E:t={x:i.x-r.width,y:l};break;default:t={x:i.x,y:i.y}}var h=n?Y(n):null;if(null!=h){var c="y"===h?"height":"width";switch(o){case F:t[h]=t[h]-(i[c]/2-r[c]/2);break;case M:t[h]=t[h]+(i[c]/2-r[c]/2)}}return t}function K(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function X(e,t){return t.reduce((function(t,i){return t[i]=e,t}),{})}function Z(e,t){void 0===t&&(t={});var r=t,s=r.placement,n=void 0===s?e.placement:s,o=r.strategy,a=void 0===o?e.strategy:o,l=r.boundary,h=void 0===l?D:l,d=r.rootBoundary,u=void 0===d?A:d,f=r.elementContext,m=void 0===f?R:f,g=r.altBoundary,y=void 0!==g&&g,v=r.padding,b=void 0===v?0:v,w=K("number"!=typeof b?b:X(b,P)),_=m===R?L:R,k=e.rects.popper,S=e.elements[y?_:m],x=V(i(S)?S:S.contextElement||p(e.elements.popper),h,u,a),E=c(e.elements.reference),O=$({reference:E,element:k,strategy:"absolute",placement:n}),F=H(Object.assign({},k,O)),M=m===R?F:E,I={top:x.top-M.top+w.top,bottom:M.bottom-x.bottom+w.bottom,left:x.left-M.left+w.left,right:M.right-x.right+w.right},N=e.modifiersData.offset;if(m===R&&N){var B=N[n];Object.keys(I).forEach((function(e){var t=[C,j].indexOf(e)>=0?1:-1,i=[T,j].indexOf(e)>=0?"y":"x";I[e]+=B[i]*t}))}return I}var J={placement:"bottom",modifiers:[],strategy:"absolute"};function Q(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function ee(e){void 0===e&&(e={});var t=e,r=t.defaultModifiers,s=void 0===r?[]:r,n=t.defaultOptions,o=void 0===n?J:n;return function(e,t,r){void 0===r&&(r=o);var n,a,l={placement:"bottom",orderedModifiers:[],options:Object.assign({},J,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},h=[],c=!1,d={state:l,setOptions:function(r){var n="function"==typeof r?r(l.options):r;u(),l.options=Object.assign({},o,l.options,n),l.scrollParents={reference:i(e)?_(e):e.contextElement?_(e.contextElement):[],popper:_(t)};var a,c,p=function(e){var t=z(e);return B.reduce((function(e,i){return e.concat(t.filter((function(e){return e.phase===i})))}),[])}((a=[].concat(s,l.options.modifiers),c=a.reduce((function(e,t){var i=e[t.name];return e[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,e}),{}),Object.keys(c).map((function(e){return c[e]}))));return l.orderedModifiers=p.filter((function(e){return e.enabled})),l.orderedModifiers.forEach((function(e){var t=e.name,i=e.options,r=void 0===i?{}:i,s=e.effect;if("function"==typeof s){var n=s({state:l,name:t,instance:d,options:r}),o=function(){};h.push(n||o)}})),d.update()},forceUpdate:function(){if(!c){var e=l.elements,t=e.reference,i=e.popper;if(Q(t,i)){l.rects={reference:y(t,x(i),"fixed"===l.options.strategy),popper:v(i)},l.reset=!1,l.placement=l.options.placement,l.orderedModifiers.forEach((function(e){return l.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<l.orderedModifiers.length;r++)if(!0!==l.reset){var s=l.orderedModifiers[r],n=s.fn,o=s.options,a=void 0===o?{}:o,h=s.name;"function"==typeof n&&(l=n({state:l,options:a,name:h,instance:d})||l)}else l.reset=!1,r=-1}}},update:(n=function(){return new Promise((function(e){d.forceUpdate(),e(l)}))},function(){return a||(a=new Promise((function(e){Promise.resolve().then((function(){a=void 0,e(n())}))}))),a}),destroy:function(){u(),c=!0}};if(!Q(e,t))return d;function u(){h.forEach((function(e){return e()})),h=[]}return d.setOptions(r).then((function(e){!c&&r.onFirstUpdate&&r.onFirstUpdate(e)})),d}}var te={passive:!0};var ie={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var i=e.state,r=e.instance,s=e.options,n=s.scroll,o=void 0===n||n,a=s.resize,l=void 0===a||a,h=t(i.elements.popper),c=[].concat(i.scrollParents.reference,i.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",r.update,te)})),l&&h.addEventListener("resize",r.update,te),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",r.update,te)})),l&&h.removeEventListener("resize",r.update,te)}},data:{}};var re={name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,i=e.name;t.modifiersData[i]=$({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},se={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ne(e){var i,r=e.popper,s=e.popperRect,n=e.placement,o=e.variation,l=e.offsets,h=e.position,c=e.gpuAcceleration,d=e.adaptive,u=e.roundOffsets,f=e.isFixed,g=l.x,y=void 0===g?0:g,v=l.y,b=void 0===v?0:v,w="function"==typeof u?u({x:y,y:b}):{x:y,y:b};y=w.x,b=w.y;var _=l.hasOwnProperty("x"),k=l.hasOwnProperty("y"),S=E,O=T,P=window;if(d){var F=x(r),D="clientHeight",A="clientWidth";if(F===t(r)&&"static"!==m(F=p(r)).position&&"absolute"===h&&(D="scrollHeight",A="scrollWidth"),n===T||(n===E||n===C)&&o===M)O=j,b-=(f&&F===P&&P.visualViewport?P.visualViewport.height:F[D])-s.height,b*=c?1:-1;if(n===E||(n===T||n===j)&&o===M)S=C,y-=(f&&F===P&&P.visualViewport?P.visualViewport.width:F[A])-s.width,y*=c?1:-1}var R,L=Object.assign({position:h},d&&se),I=!0===u?function(e,t){var i=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:a(i*s)/s||0,y:a(r*s)/s||0}}({x:y,y:b},t(r)):{x:y,y:b};return y=I.x,b=I.y,c?Object.assign({},L,((R={})[O]=k?"0":"",R[S]=_?"0":"",R.transform=(P.devicePixelRatio||1)<=1?"translate("+y+"px, "+b+"px)":"translate3d("+y+"px, "+b+"px, 0)",R)):Object.assign({},L,((i={})[O]=k?b+"px":"",i[S]=_?y+"px":"",i.transform="",i))}var oe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=void 0===r||r,n=i.adaptive,o=void 0===n||n,a=i.roundOffsets,l=void 0===a||a,h={placement:q(t.placement),variation:G(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ne(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ne(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ae={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var i=t.styles[e]||{},s=t.attributes[e]||{},n=t.elements[e];r(n)&&u(n)&&(Object.assign(n.style,i),Object.keys(s).forEach((function(e){var t=s[e];!1===t?n.removeAttribute(e):n.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach((function(e){var s=t.elements[e],n=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:i[e]).reduce((function(e,t){return e[t]="",e}),{});r(s)&&u(s)&&(Object.assign(s.style,o),Object.keys(n).forEach((function(e){s.removeAttribute(e)})))}))}},requires:["computeStyles"]};var le={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=void 0===s?[0,0]:s,o=N.reduce((function(e,i){return e[i]=function(e,t,i){var r=q(e),s=[E,T].indexOf(r)>=0?-1:1,n="function"==typeof i?i(Object.assign({},t,{placement:e})):i,o=n[0],a=n[1];return o=o||0,a=(a||0)*s,[E,C].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}(i,t.rects,n),e}),{}),a=o[t.placement],l=a.x,h=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=h),t.modifiersData[r]=o}},he={left:"right",right:"left",bottom:"top",top:"bottom"};function ce(e){return e.replace(/left|right|bottom|top/g,(function(e){return he[e]}))}var de={start:"end",end:"start"};function ue(e){return e.replace(/start|end/g,(function(e){return de[e]}))}function pe(e,t){void 0===t&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,a=i.flipVariations,l=i.allowedAutoPlacements,h=void 0===l?N:l,c=G(r),d=c?a?I:I.filter((function(e){return G(e)===c})):P,u=d.filter((function(e){return h.indexOf(e)>=0}));0===u.length&&(u=d);var p=u.reduce((function(t,i){return t[i]=Z(e,{placement:i,boundary:s,rootBoundary:n,padding:o})[q(i)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}var fe={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=void 0===s||s,o=i.altAxis,a=void 0===o||o,l=i.fallbackPlacements,h=i.padding,c=i.boundary,d=i.rootBoundary,u=i.altBoundary,p=i.flipVariations,f=void 0===p||p,m=i.allowedAutoPlacements,g=t.options.placement,y=q(g),v=l||(y===g||!f?[ce(g)]:function(e){if(q(e)===O)return[];var t=ce(e);return[ue(e),t,ue(t)]}(g)),b=[g].concat(v).reduce((function(e,i){return e.concat(q(i)===O?pe(t,{placement:i,boundary:c,rootBoundary:d,padding:h,flipVariations:f,allowedAutoPlacements:m}):i)}),[]),w=t.rects.reference,_=t.rects.popper,k=new Map,S=!0,x=b[0],P=0;P<b.length;P++){var M=b[P],D=q(M),A=G(M)===F,R=[T,j].indexOf(D)>=0,L=R?"width":"height",I=Z(t,{placement:M,boundary:c,rootBoundary:d,altBoundary:u,padding:h}),N=R?A?C:E:A?j:T;w[L]>_[L]&&(N=ce(N));var B=ce(N),z=[];if(n&&z.push(I[D]<=0),a&&z.push(I[N]<=0,I[B]<=0),z.every((function(e){return e}))){x=M,S=!1;break}k.set(M,z)}if(S)for(var U=function(e){var t=b.find((function(t){var i=k.get(t);if(i)return i.slice(0,e).every((function(e){return e}))}));if(t)return x=t,"break"},H=f?3:1;H>0;H--){if("break"===U(H))break}t.placement!==x&&(t.modifiersData[r]._skip=!0,t.placement=x,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function me(e,t,i){return n(e,o(t,i))}var ge={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,a=void 0===s||s,l=i.altAxis,h=void 0!==l&&l,c=i.boundary,d=i.rootBoundary,u=i.altBoundary,p=i.padding,f=i.tether,m=void 0===f||f,g=i.tetherOffset,y=void 0===g?0:g,b=Z(t,{boundary:c,rootBoundary:d,padding:p,altBoundary:u}),w=q(t.placement),_=G(t.placement),k=!_,S=Y(w),O="x"===S?"y":"x",P=t.modifiersData.popperOffsets,M=t.rects.reference,D=t.rects.popper,A="function"==typeof y?y(Object.assign({},t.rects,{placement:t.placement})):y,R="number"==typeof A?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),L=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,I={x:0,y:0};if(P){if(a){var N,B="y"===S?T:E,z="y"===S?j:C,U="y"===S?"height":"width",H=P[S],W=H+b[B],V=H-b[z],$=m?-D[U]/2:0,K=_===F?M[U]:D[U],X=_===F?-D[U]:-M[U],J=t.elements.arrow,Q=m&&J?v(J):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},te=ee[B],ie=ee[z],re=me(0,M[U],Q[U]),se=k?M[U]/2-$-re-te-R.mainAxis:K-re-te-R.mainAxis,ne=k?-M[U]/2+$+re+ie+R.mainAxis:X+re+ie+R.mainAxis,oe=t.elements.arrow&&x(t.elements.arrow),ae=oe?"y"===S?oe.clientTop||0:oe.clientLeft||0:0,le=null!=(N=null==L?void 0:L[S])?N:0,he=H+ne-le,ce=me(m?o(W,H+se-le-ae):W,H,m?n(V,he):V);P[S]=ce,I[S]=ce-H}if(h){var de,ue="x"===S?T:E,pe="x"===S?j:C,fe=P[O],ge="y"===O?"height":"width",ye=fe+b[ue],ve=fe-b[pe],be=-1!==[T,E].indexOf(w),we=null!=(de=null==L?void 0:L[O])?de:0,_e=be?ye:fe-M[ge]-D[ge]-we+R.altAxis,ke=be?fe+M[ge]+D[ge]-we-R.altAxis:ve,Se=m&&be?function(e,t,i){var r=me(e,t,i);return r>i?i:r}(_e,fe,ke):me(m?_e:ye,fe,m?ke:ve);P[O]=Se,I[O]=Se-fe}t.modifiersData[r]=I}},requiresIfExists:["offset"]};var ye={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,a=q(i.placement),l=Y(a),h=[E,C].indexOf(a)>=0?"height":"width";if(n&&o){var c=function(e,t){return K("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:X(e,P))}(s.padding,i),d=v(n),u="y"===l?T:E,p="y"===l?j:C,f=i.rects.reference[h]+i.rects.reference[l]-o[l]-i.rects.popper[h],m=o[l]-i.rects.reference[l],g=x(n),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,b=f/2-m/2,w=c[u],_=y-d[h]-c[p],k=y/2-d[h]/2+b,S=me(w,k,_),O=l;i.modifiersData[r]=((t={})[O]=S,t.centerOffset=S-k,t)}},effect:function(e){var t=e.state,i=e.options.element,r=void 0===i?"[data-popper-arrow]":i;null!=r&&("string"!=typeof r||(r=t.elements.popper.querySelector(r)))&&U(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ve(e,t,i){return void 0===i&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function be(e){return[T,C,j,E].some((function(t){return e[t]>=0}))}var we={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=Z(t,{elementContext:"reference"}),a=Z(t,{altBoundary:!0}),l=ve(o,r),h=ve(a,s,n),c=be(l),d=be(h);t.modifiersData[i]={referenceClippingOffsets:l,popperEscapeOffsets:h,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}},_e=ee({defaultModifiers:[ie,re,oe,ae]}),ke=[ie,re,oe,ae,le,fe,ge,ye,we],Se=ee({defaultModifiers:ke});e.applyStyles=ae,e.arrow=ye,e.computeStyles=oe,e.createPopper=Se,e.createPopperLite=_e,e.defaultModifiers=ke,e.detectOverflow=Z,e.eventListeners=ie,e.flip=fe,e.hide=we,e.offset=le,e.popperGenerator=ee,e.popperOffsets=re,e.preventOverflow=ge,Object.defineProperty(e,"__esModule",{value:!0})})),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@popperjs/core")):"function"==typeof define&&define.amd?define(["@popperjs/core"],t):(e=e||self).tippy=t(e.Popper)}(this,(function(e){"use strict";var t="undefined"!=typeof window&&"undefined"!=typeof document,i=!!t&&!!window.msCrypto,r="tippy-content",s="tippy-backdrop",n="tippy-arrow",o="tippy-svg-arrow",a={passive:!0,capture:!0},l=function(){return document.body};function h(e,t,i){if(Array.isArray(e)){var r=e[t];return null==r?Array.isArray(i)?i[t]:i:r}return e}function c(e,t){var i={}.toString.call(e);return 0===i.indexOf("[object")&&i.indexOf(t+"]")>-1}function d(e,t){return"function"==typeof e?e.apply(void 0,t):e}function u(e,t){return 0===t?e:function(r){clearTimeout(i),i=setTimeout((function(){e(r)}),t)};var i}function p(e,t){var i=Object.assign({},e);return t.forEach((function(e){delete i[e]})),i}function f(e){return[].concat(e)}function m(e,t){-1===e.indexOf(t)&&e.push(t)}function g(e){return e.split("-")[0]}function y(e){return[].slice.call(e)}function v(e){return Object.keys(e).reduce((function(t,i){return void 0!==e[i]&&(t[i]=e[i]),t}),{})}function b(){return document.createElement("div")}function w(e){return["Element","Fragment"].some((function(t){return c(e,t)}))}function _(e){return c(e,"MouseEvent")}function k(e){return!(!e||!e._tippy||e._tippy.reference!==e)}function S(e){return w(e)?[e]:function(e){return c(e,"NodeList")}(e)?y(e):Array.isArray(e)?e:y(document.querySelectorAll(e))}function x(e,t){e.forEach((function(e){e&&(e.style.transitionDuration=t+"ms")}))}function T(e,t){e.forEach((function(e){e&&e.setAttribute("data-state",t)}))}function j(e){var t,i=f(e)[0];return null!=i&&null!=(t=i.ownerDocument)&&t.body?i.ownerDocument:document}function C(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(t){e[r](t,i)}))}function E(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=null==i.getRootNode||null==(r=i.getRootNode())?void 0:r.host}return!1}var O,P={isTouch:!1},F=0;function M(){P.isTouch||(P.isTouch=!0,window.performance&&document.addEventListener("mousemove",D))}function D(){var e=performance.now();e-F<20&&(P.isTouch=!1,document.removeEventListener("mousemove",D)),F=e}function A(){var e=document.activeElement;if(k(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function R(e){return[e+"() was called on a"+("destroy"===e?"n already-":" ")+"destroyed instance. This is a no-op but","indicates a potential memory leak."].join(" ")}function L(e){return e.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function I(e){return L("\n  %ctippy.js\n\n  %c"+L(e)+"\n\n  %c👷‍ This is a development-only message. It will be removed in production.\n  ")}function N(e){return[I(e),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function B(e,t){var i;e&&!O.has(t)&&(O.add(t),(i=console).warn.apply(i,N(t)))}function z(e,t){var i;e&&!O.has(t)&&(O.add(t),(i=console).error.apply(i,N(t)))}O=new Set;var U={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},H=Object.assign({appendTo:l,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},U,{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),W=Object.keys(H);function V(e){var t=(e.plugins||[]).reduce((function(t,i){var r,s=i.name,n=i.defaultValue;s&&(t[s]=void 0!==e[s]?e[s]:null!=(r=H[s])?r:n);return t}),{});return Object.assign({},e,t)}function q(e,t){var i=Object.assign({},t,{content:d(t.content,[e])},t.ignoreAttributes?{}:function(e,t){return(t?Object.keys(V(Object.assign({},H,{plugins:t}))):W).reduce((function(t,i){var r=(e.getAttribute("data-tippy-"+i)||"").trim();if(!r)return t;if("content"===i)t[i]=r;else try{t[i]=JSON.parse(r)}catch(e){t[i]=r}return t}),{})}(e,t.plugins));return i.aria=Object.assign({},H.aria,i.aria),i.aria={expanded:"auto"===i.aria.expanded?t.interactive:i.aria.expanded,content:"auto"===i.aria.content?t.interactive?null:"describedby":i.aria.content},i}function G(e,t){void 0===e&&(e={}),void 0===t&&(t=[]),Object.keys(e).forEach((function(e){var i,r,s=p(H,Object.keys(U)),n=(i=s,r=e,!{}.hasOwnProperty.call(i,r));n&&(n=0===t.filter((function(t){return t.name===e})).length),B(n,["`"+e+"`","is not a valid prop. You may have spelled it incorrectly, or if it's","a plugin, forgot to pass it in an array as props.plugins.","\n\n","All props: https://atomiks.github.io/tippyjs/v6/all-props/\n","Plugins: https://atomiks.github.io/tippyjs/v6/plugins/"].join(" "))}))}var Y=function(){return"innerHTML"};function $(e,t){e[Y()]=t}function K(e){var t=b();return!0===e?t.className=n:(t.className=o,w(e)?t.appendChild(e):$(t,e)),t}function X(e,t){w(t.content)?($(e,""),e.appendChild(t.content)):"function"!=typeof t.content&&(t.allowHTML?$(e,t.content):e.textContent=t.content)}function Z(e){var t=e.firstElementChild,i=y(t.children);return{box:t,content:i.find((function(e){return e.classList.contains(r)})),arrow:i.find((function(e){return e.classList.contains(n)||e.classList.contains(o)})),backdrop:i.find((function(e){return e.classList.contains(s)}))}}function J(e){var t=b(),i=b();i.className="tippy-box",i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var s=b();function n(i,r){var s=Z(t),n=s.box,o=s.content,a=s.arrow;r.theme?n.setAttribute("data-theme",r.theme):n.removeAttribute("data-theme"),"string"==typeof r.animation?n.setAttribute("data-animation",r.animation):n.removeAttribute("data-animation"),r.inertia?n.setAttribute("data-inertia",""):n.removeAttribute("data-inertia"),n.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?n.setAttribute("role",r.role):n.removeAttribute("role"),i.content===r.content&&i.allowHTML===r.allowHTML||X(o,e.props),r.arrow?a?i.arrow!==r.arrow&&(n.removeChild(a),n.appendChild(K(r.arrow))):n.appendChild(K(r.arrow)):a&&n.removeChild(a)}return s.className=r,s.setAttribute("data-state","hidden"),X(s,e.props),t.appendChild(i),i.appendChild(s),n(e.props,e.props),{popper:t,onUpdate:n}}J.$$tippy=!0;var Q=1,ee=[],te=[];function ie(t,r){var s,n,o,c,p,w,k,S,O=q(t,Object.assign({},H,V(v(r)))),F=!1,M=!1,D=!1,A=!1,L=[],I=u(Se,O.interactiveDebounce),N=Q++,U=(S=O.plugins).filter((function(e,t){return S.indexOf(e)===t})),W={id:N,reference:t,popper:b(),popperInstance:null,props:O,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:U,clearDelayTimeouts:function(){clearTimeout(s),clearTimeout(n),cancelAnimationFrame(o)},setProps:function(e){if(B(W.state.isDestroyed,R("setProps")),W.state.isDestroyed)return;he("onBeforeUpdate",[W,e]),_e();var i=W.props,r=q(t,Object.assign({},i,v(e),{ignoreAttributes:!0}));W.props=r,we(),i.interactiveDebounce!==r.interactiveDebounce&&(ue(),I=u(Se,r.interactiveDebounce));i.triggerTarget&&!r.triggerTarget?f(i.triggerTarget).forEach((function(e){e.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded");de(),le(),$&&$(i,r);W.popperInstance&&(Ce(),Oe().forEach((function(e){requestAnimationFrame(e._tippy.popperInstance.forceUpdate)})));he("onAfterUpdate",[W,e])},setContent:function(e){W.setProps({content:e})},show:function(){B(W.state.isDestroyed,R("show"));var e=W.state.isVisible,t=W.state.isDestroyed,i=!W.state.isEnabled,r=P.isTouch&&!W.props.touch,s=h(W.props.duration,0,H.duration);if(e||t||i||r)return;if(se().hasAttribute("disabled"))return;if(he("onShow",[W],!1),!1===W.props.onShow(W))return;W.state.isVisible=!0,re()&&(Y.style.visibility="visible");le(),ge(),W.state.isMounted||(Y.style.transition="none");if(re()){var n=oe();x([n.box,n.content],0)}w=function(){var e;if(W.state.isVisible&&!A){if(A=!0,Y.offsetHeight,Y.style.transition=W.props.moveTransition,re()&&W.props.animation){var t=oe(),i=t.box,r=t.content;x([i,r],s),T([i,r],"visible")}ce(),de(),m(te,W),null==(e=W.popperInstance)||e.forceUpdate(),he("onMount",[W]),W.props.animation&&re()&&function(e,t){ve(e,t)}(s,(function(){W.state.isShown=!0,he("onShown",[W])}))}},function(){var e,t=W.props.appendTo,i=se();e=W.props.interactive&&t===l||"parent"===t?i.parentNode:d(t,[i]);e.contains(Y)||e.appendChild(Y);W.state.isMounted=!0,Ce(),B(W.props.interactive&&t===H.appendTo&&i.nextElementSibling!==Y,["Interactive tippy element may not be accessible via keyboard","navigation because it is not directly after the reference element","in the DOM source order.","\n\n","Using a wrapper <div> or <span> tag around the reference element","solves this by creating a new parentNode context.","\n\n","Specifying `appendTo: document.body` silences this warning, but it","assumes you are using a focus management solution to handle","keyboard navigation.","\n\n","See: https://atomiks.github.io/tippyjs/v6/accessibility/#interactivity"].join(" "))}()},hide:function(){B(W.state.isDestroyed,R("hide"));var e=!W.state.isVisible,t=W.state.isDestroyed,i=!W.state.isEnabled,r=h(W.props.duration,1,H.duration);if(e||t||i)return;if(he("onHide",[W],!1),!1===W.props.onHide(W))return;W.state.isVisible=!1,W.state.isShown=!1,A=!1,F=!1,re()&&(Y.style.visibility="hidden");if(ue(),ye(),le(!0),re()){var s=oe(),n=s.box,o=s.content;W.props.animation&&(x([n,o],r),T([n,o],"hidden"))}ce(),de(),W.props.animation?re()&&function(e,t){ve(e,(function(){!W.state.isVisible&&Y.parentNode&&Y.parentNode.contains(Y)&&t()}))}(r,W.unmount):W.unmount()},hideWithInteractivity:function(e){B(W.state.isDestroyed,R("hideWithInteractivity")),ne().addEventListener("mousemove",I),m(ee,I),I(e)},enable:function(){W.state.isEnabled=!0},disable:function(){W.hide(),W.state.isEnabled=!1},unmount:function(){B(W.state.isDestroyed,R("unmount")),W.state.isVisible&&W.hide();if(!W.state.isMounted)return;Ee(),Oe().forEach((function(e){e._tippy.unmount()})),Y.parentNode&&Y.parentNode.removeChild(Y);te=te.filter((function(e){return e!==W})),W.state.isMounted=!1,he("onHidden",[W])},destroy:function(){if(B(W.state.isDestroyed,R("destroy")),W.state.isDestroyed)return;W.clearDelayTimeouts(),W.unmount(),_e(),delete t._tippy,W.state.isDestroyed=!0,he("onDestroy",[W])}};if(!O.render)return z(!0,"render() function has not been supplied."),W;var G=O.render(W),Y=G.popper,$=G.onUpdate;Y.setAttribute("data-tippy-root",""),Y.id="tippy-"+W.id,W.popper=Y,t._tippy=W,Y._tippy=W;var K=U.map((function(e){return e.fn(W)})),X=t.hasAttribute("aria-expanded");return we(),de(),le(),he("onCreate",[W]),O.showOnCreate&&Pe(),Y.addEventListener("mouseenter",(function(){W.props.interactive&&W.state.isVisible&&W.clearDelayTimeouts()})),Y.addEventListener("mouseleave",(function(){W.props.interactive&&W.props.trigger.indexOf("mouseenter")>=0&&ne().addEventListener("mousemove",I)})),W;function J(){var e=W.props.touch;return Array.isArray(e)?e:[e,0]}function ie(){return"hold"===J()[0]}function re(){var e;return!(null==(e=W.props.render)||!e.$$tippy)}function se(){return k||t}function ne(){var e=se().parentNode;return e?j(e):document}function oe(){return Z(Y)}function ae(e){return W.state.isMounted&&!W.state.isVisible||P.isTouch||c&&"focus"===c.type?0:h(W.props.delay,e?0:1,H.delay)}function le(e){void 0===e&&(e=!1),Y.style.pointerEvents=W.props.interactive&&!e?"":"none",Y.style.zIndex=""+W.props.zIndex}function he(e,t,i){var r;(void 0===i&&(i=!0),K.forEach((function(i){i[e]&&i[e].apply(i,t)})),i)&&(r=W.props)[e].apply(r,t)}function ce(){var e=W.props.aria;if(e.content){var i="aria-"+e.content,r=Y.id;f(W.props.triggerTarget||t).forEach((function(e){var t=e.getAttribute(i);if(W.state.isVisible)e.setAttribute(i,t?t+" "+r:r);else{var s=t&&t.replace(r,"").trim();s?e.setAttribute(i,s):e.removeAttribute(i)}}))}}function de(){!X&&W.props.aria.expanded&&f(W.props.triggerTarget||t).forEach((function(e){W.props.interactive?e.setAttribute("aria-expanded",W.state.isVisible&&e===se()?"true":"false"):e.removeAttribute("aria-expanded")}))}function ue(){ne().removeEventListener("mousemove",I),ee=ee.filter((function(e){return e!==I}))}function pe(e){if(!P.isTouch||!D&&"mousedown"!==e.type){var i=e.composedPath&&e.composedPath()[0]||e.target;if(!W.props.interactive||!E(Y,i)){if(f(W.props.triggerTarget||t).some((function(e){return E(e,i)}))){if(P.isTouch)return;if(W.state.isVisible&&W.props.trigger.indexOf("click")>=0)return}else he("onClickOutside",[W,e]);!0===W.props.hideOnClick&&(W.clearDelayTimeouts(),W.hide(),M=!0,setTimeout((function(){M=!1})),W.state.isMounted||ye())}}}function fe(){D=!0}function me(){D=!1}function ge(){var e=ne();e.addEventListener("mousedown",pe,!0),e.addEventListener("touchend",pe,a),e.addEventListener("touchstart",me,a),e.addEventListener("touchmove",fe,a)}function ye(){var e=ne();e.removeEventListener("mousedown",pe,!0),e.removeEventListener("touchend",pe,a),e.removeEventListener("touchstart",me,a),e.removeEventListener("touchmove",fe,a)}function ve(e,t){var i=oe().box;function r(e){e.target===i&&(C(i,"remove",r),t())}if(0===e)return t();C(i,"remove",p),C(i,"add",r),p=r}function be(e,i,r){void 0===r&&(r=!1),f(W.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,i,r),L.push({node:t,eventType:e,handler:i,options:r})}))}function we(){var e;ie()&&(be("touchstart",ke,{passive:!0}),be("touchend",xe,{passive:!0})),(e=W.props.trigger,e.split(/\s+/).filter(Boolean)).forEach((function(e){if("manual"!==e)switch(be(e,ke),e){case"mouseenter":be("mouseleave",xe);break;case"focus":be(i?"focusout":"blur",Te);break;case"focusin":be("focusout",Te)}}))}function _e(){L.forEach((function(e){var t=e.node,i=e.eventType,r=e.handler,s=e.options;t.removeEventListener(i,r,s)})),L=[]}function ke(e){var t,i=!1;if(W.state.isEnabled&&!je(e)&&!M){var r="focus"===(null==(t=c)?void 0:t.type);c=e,k=e.currentTarget,de(),!W.state.isVisible&&_(e)&&ee.forEach((function(t){return t(e)})),"click"===e.type&&(W.props.trigger.indexOf("mouseenter")<0||F)&&!1!==W.props.hideOnClick&&W.state.isVisible?i=!0:Pe(e),"click"===e.type&&(F=!i),i&&!r&&Fe(e)}}function Se(e){var t=e.target,i=se().contains(t)||Y.contains(t);if("mousemove"!==e.type||!i){var r=Oe().concat(Y).map((function(e){var t,i=null==(t=e._tippy.popperInstance)?void 0:t.state;return i?{popperRect:e.getBoundingClientRect(),popperState:i,props:O}:null})).filter(Boolean);(function(e,t){var i=t.clientX,r=t.clientY;return e.every((function(e){var t=e.popperRect,s=e.popperState,n=e.props.interactiveBorder,o=g(s.placement),a=s.modifiersData.offset;if(!a)return!0;var l="bottom"===o?a.top.y:0,h="top"===o?a.bottom.y:0,c="right"===o?a.left.x:0,d="left"===o?a.right.x:0,u=t.top-r+l>n,p=r-t.bottom-h>n,f=t.left-i+c>n,m=i-t.right-d>n;return u||p||f||m}))})(r,e)&&(ue(),Fe(e))}}function xe(e){je(e)||W.props.trigger.indexOf("click")>=0&&F||(W.props.interactive?W.hideWithInteractivity(e):Fe(e))}function Te(e){W.props.trigger.indexOf("focusin")<0&&e.target!==se()||W.props.interactive&&e.relatedTarget&&Y.contains(e.relatedTarget)||Fe(e)}function je(e){return!!P.isTouch&&ie()!==e.type.indexOf("touch")>=0}function Ce(){Ee();var i=W.props,r=i.popperOptions,s=i.placement,n=i.offset,o=i.getReferenceClientRect,a=i.moveTransition,l=re()?Z(Y).arrow:null,h=o?{getBoundingClientRect:o,contextElement:o.contextElement||se()}:t,c={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(e){var t=e.state;if(re()){var i=oe().box;["placement","reference-hidden","escaped"].forEach((function(e){"placement"===e?i.setAttribute("data-placement",t.placement):t.attributes.popper["data-popper-"+e]?i.setAttribute("data-"+e,""):i.removeAttribute("data-"+e)})),t.attributes.popper={}}}},d=[{name:"offset",options:{offset:n}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!a}},c];re()&&l&&d.push({name:"arrow",options:{element:l,padding:3}}),d.push.apply(d,(null==r?void 0:r.modifiers)||[]),W.popperInstance=e.createPopper(h,Y,Object.assign({},r,{placement:s,onFirstUpdate:w,modifiers:d}))}function Ee(){W.popperInstance&&(W.popperInstance.destroy(),W.popperInstance=null)}function Oe(){return y(Y.querySelectorAll("[data-tippy-root]"))}function Pe(e){W.clearDelayTimeouts(),e&&he("onTrigger",[W,e]),ge();var t=ae(!0),i=J(),r=i[0],n=i[1];P.isTouch&&"hold"===r&&n&&(t=n),t?s=setTimeout((function(){W.show()}),t):W.show()}function Fe(e){if(W.clearDelayTimeouts(),he("onUntrigger",[W,e]),W.state.isVisible){if(!(W.props.trigger.indexOf("mouseenter")>=0&&W.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(e.type)>=0&&F)){var t=ae(!1);t?n=setTimeout((function(){W.state.isVisible&&W.hide()}),t):o=requestAnimationFrame((function(){W.hide()}))}}else ye()}}function re(e,t){void 0===t&&(t={});var i=H.plugins.concat(t.plugins||[]);!function(e){var t=!e,i="[object Object]"===Object.prototype.toString.call(e)&&!e.addEventListener;z(t,["tippy() was passed","`"+String(e)+"`","as its targets (first) argument. Valid types are: String, Element,","Element[], or NodeList."].join(" ")),z(i,["tippy() was passed a plain object which is not supported as an argument","for virtual positioning. Use props.getReferenceClientRect instead."].join(" "))}(e),G(t,i),document.addEventListener("touchstart",M,a),window.addEventListener("blur",A);var r=Object.assign({},t,{plugins:i}),s=S(e),n=w(r.content),o=s.length>1;B(n&&o,["tippy() was passed an Element as the `content` prop, but more than","one tippy instance was created by this invocation. This means the","content element will only be appended to the last tippy instance.","\n\n","Instead, pass the .innerHTML of the element, or use a function that","returns a cloned version of the element instead.","\n\n","1) content: element.innerHTML\n","2) content: () => element.cloneNode(true)"].join(" "));var l=s.reduce((function(e,t){var i=t&&ie(t,r);return i&&e.push(i),e}),[]);return w(e)?l[0]:l}re.defaultProps=H,re.setDefaultProps=function(e){G(e,[]),Object.keys(e).forEach((function(t){H[t]=e[t]}))},re.currentInput=P;var se=Object.assign({},e.applyStyles,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),ne={mouseover:"mouseenter",focusin:"focus",click:"click"};var oe={name:"animateFill",defaultValue:!1,fn:function(e){var t;if(null==(t=e.props.render)||!t.$$tippy)return z(e.props.animateFill,"The `animateFill` plugin requires the default render function."),{};var i=Z(e.popper),r=i.box,n=i.content,o=e.props.animateFill?function(){var e=b();return e.className=s,T([e],"hidden"),e}():null;return{onCreate:function(){o&&(r.insertBefore(o,r.firstElementChild),r.setAttribute("data-animatefill",""),r.style.overflow="hidden",e.setProps({arrow:!1,animation:"shift-away"}))},onMount:function(){if(o){var e=r.style.transitionDuration,t=Number(e.replace("ms",""));n.style.transitionDelay=Math.round(t/10)+"ms",o.style.transitionDuration=e,T([o],"visible")}},onShow:function(){o&&(o.style.transitionDuration="0ms")},onHide:function(){o&&T([o],"hidden")}}}};var ae={clientX:0,clientY:0},le=[];function he(e){var t=e.clientX,i=e.clientY;ae={clientX:t,clientY:i}}var ce={name:"followCursor",defaultValue:!1,fn:function(e){var t=e.reference,i=j(e.props.triggerTarget||t),r=!1,s=!1,n=!0,o=e.props;function a(){return"initial"===e.props.followCursor&&e.state.isVisible}function l(){i.addEventListener("mousemove",d)}function h(){i.removeEventListener("mousemove",d)}function c(){r=!0,e.setProps({getReferenceClientRect:null}),r=!1}function d(i){var r=!i.target||t.contains(i.target),s=e.props.followCursor,n=i.clientX,o=i.clientY,a=t.getBoundingClientRect(),l=n-a.left,h=o-a.top;!r&&e.props.interactive||e.setProps({getReferenceClientRect:function(){var e=t.getBoundingClientRect(),i=n,r=o;"initial"===s&&(i=e.left+l,r=e.top+h);var a="horizontal"===s?e.top:r,c="vertical"===s?e.right:i,d="horizontal"===s?e.bottom:r,u="vertical"===s?e.left:i;return{width:c-u,height:d-a,top:a,right:c,bottom:d,left:u}}})}function u(){e.props.followCursor&&(le.push({instance:e,doc:i}),function(e){e.addEventListener("mousemove",he)}(i))}function p(){0===(le=le.filter((function(t){return t.instance!==e}))).filter((function(e){return e.doc===i})).length&&function(e){e.removeEventListener("mousemove",he)}(i)}return{onCreate:u,onDestroy:p,onBeforeUpdate:function(){o=e.props},onAfterUpdate:function(t,i){var n=i.followCursor;r||void 0!==n&&o.followCursor!==n&&(p(),n?(u(),!e.state.isMounted||s||a()||l()):(h(),c()))},onMount:function(){e.props.followCursor&&!s&&(n&&(d(ae),n=!1),a()||l())},onTrigger:function(e,t){_(t)&&(ae={clientX:t.clientX,clientY:t.clientY}),s="focus"===t.type},onHidden:function(){e.props.followCursor&&(c(),h(),n=!0)}}}};var de={name:"inlinePositioning",defaultValue:!1,fn:function(e){var t,i=e.reference;var r=-1,s=!1,n=[],o={name:"tippyInlinePositioning",enabled:!0,phase:"afterWrite",fn:function(s){var o=s.state;e.props.inlinePositioning&&(-1!==n.indexOf(o.placement)&&(n=[]),t!==o.placement&&-1===n.indexOf(o.placement)&&(n.push(o.placement),e.setProps({getReferenceClientRect:function(){return function(e){return function(e,t,i,r){if(i.length<2||null===e)return t;if(2===i.length&&r>=0&&i[0].left>i[1].right)return i[r]||t;switch(e){case"top":case"bottom":var s=i[0],n=i[i.length-1],o="top"===e,a=s.top,l=n.bottom,h=o?s.left:n.left,c=o?s.right:n.right;return{top:a,bottom:l,left:h,right:c,width:c-h,height:l-a};case"left":case"right":var d=Math.min.apply(Math,i.map((function(e){return e.left}))),u=Math.max.apply(Math,i.map((function(e){return e.right}))),p=i.filter((function(t){return"left"===e?t.left===d:t.right===u})),f=p[0].top,m=p[p.length-1].bottom;return{top:f,bottom:m,left:d,right:u,width:u-d,height:m-f};default:return t}}(g(e),i.getBoundingClientRect(),y(i.getClientRects()),r)}(o.placement)}})),t=o.placement)}};function a(){var t;s||(t=function(e,t){var i;return{popperOptions:Object.assign({},e.popperOptions,{modifiers:[].concat(((null==(i=e.popperOptions)?void 0:i.modifiers)||[]).filter((function(e){return e.name!==t.name})),[t])})}}(e.props,o),s=!0,e.setProps(t),s=!1)}return{onCreate:a,onAfterUpdate:a,onTrigger:function(t,i){if(_(i)){var s=y(e.reference.getClientRects()),n=s.find((function(e){return e.left-2<=i.clientX&&e.right+2>=i.clientX&&e.top-2<=i.clientY&&e.bottom+2>=i.clientY})),o=s.indexOf(n);r=o>-1?o:r}},onHidden:function(){r=-1}}}};var ue={name:"sticky",defaultValue:!1,fn:function(e){var t=e.reference,i=e.popper;function r(t){return!0===e.props.sticky||e.props.sticky===t}var s=null,n=null;function o(){var a=r("reference")?(e.popperInstance?e.popperInstance.state.elements.reference:t).getBoundingClientRect():null,l=r("popper")?i.getBoundingClientRect():null;(a&&pe(s,a)||l&&pe(n,l))&&e.popperInstance&&e.popperInstance.update(),s=a,n=l,e.state.isMounted&&requestAnimationFrame(o)}return{onMount:function(){e.props.sticky&&o()}}}};function pe(e,t){return!e||!t||(e.top!==t.top||e.right!==t.right||e.bottom!==t.bottom||e.left!==t.left)}return t&&function(e){var t=document.createElement("style");t.textContent=e,t.setAttribute("data-tippy-stylesheet","");var i=document.head,r=document.querySelector("head>style,head>link");r?i.insertBefore(t,r):i.appendChild(t)}('.tippy-box[data-animation=fade][data-state=hidden]{opacity:0}[data-tippy-root]{max-width:calc(100vw - 10px)}.tippy-box{position:relative;background-color:#333;color:#fff;border-radius:4px;font-size:14px;line-height:1.4;white-space:normal;outline:0;transition-property:transform,visibility,opacity}.tippy-box[data-placement^=top]>.tippy-arrow{bottom:0}.tippy-box[data-placement^=top]>.tippy-arrow:before{bottom:-7px;left:0;border-width:8px 8px 0;border-top-color:initial;transform-origin:center top}.tippy-box[data-placement^=bottom]>.tippy-arrow{top:0}.tippy-box[data-placement^=bottom]>.tippy-arrow:before{top:-7px;left:0;border-width:0 8px 8px;border-bottom-color:initial;transform-origin:center bottom}.tippy-box[data-placement^=left]>.tippy-arrow{right:0}.tippy-box[data-placement^=left]>.tippy-arrow:before{border-width:8px 0 8px 8px;border-left-color:initial;right:-7px;transform-origin:center left}.tippy-box[data-placement^=right]>.tippy-arrow{left:0}.tippy-box[data-placement^=right]>.tippy-arrow:before{left:-7px;border-width:8px 8px 8px 0;border-right-color:initial;transform-origin:center right}.tippy-box[data-inertia][data-state=visible]{transition-timing-function:cubic-bezier(.54,1.5,.38,1.11)}.tippy-arrow{width:16px;height:16px;color:#333}.tippy-arrow:before{content:"";position:absolute;border-color:transparent;border-style:solid}.tippy-content{position:relative;padding:5px 9px;z-index:1}'),re.setDefaultProps({plugins:[oe,ce,de,ue],render:J}),re.createSingleton=function(e,t){var i;void 0===t&&(t={}),z(!Array.isArray(e),["The first argument passed to createSingleton() must be an array of","tippy instances. The passed value was",String(e)].join(" "));var r,s=e,n=[],o=[],a=t.overrides,l=[],h=!1;function c(){o=s.map((function(e){return f(e.props.triggerTarget||e.reference)})).reduce((function(e,t){return e.concat(t)}),[])}function d(){n=s.map((function(e){return e.reference}))}function u(e){s.forEach((function(t){e?t.enable():t.disable()}))}function m(e){return s.map((function(t){var i=t.setProps;return t.setProps=function(s){i(s),t.reference===r&&e.setProps(s)},function(){t.setProps=i}}))}function g(e,t){var i=o.indexOf(t);if(t!==r){r=t;var l=(a||[]).concat("content").reduce((function(e,t){return e[t]=s[i].props[t],e}),{});e.setProps(Object.assign({},l,{getReferenceClientRect:"function"==typeof l.getReferenceClientRect?l.getReferenceClientRect:function(){var e;return null==(e=n[i])?void 0:e.getBoundingClientRect()}}))}}u(!1),d(),c();var y={fn:function(){return{onDestroy:function(){u(!0)},onHidden:function(){r=null},onClickOutside:function(e){e.props.showOnCreate&&!h&&(h=!0,r=null)},onShow:function(e){e.props.showOnCreate&&!h&&(h=!0,g(e,n[0]))},onTrigger:function(e,t){g(e,t.currentTarget)}}}},v=re(b(),Object.assign({},p(t,["overrides"]),{plugins:[y].concat(t.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},t.popperOptions,{modifiers:[].concat((null==(i=t.popperOptions)?void 0:i.modifiers)||[],[se])})})),w=v.show;v.show=function(e){if(w(),!r&&null==e)return g(v,n[0]);if(!r||null!=e){if("number"==typeof e)return n[e]&&g(v,n[e]);if(s.indexOf(e)>=0){var t=e.reference;return g(v,t)}return n.indexOf(e)>=0?g(v,e):void 0}},v.showNext=function(){var e=n[0];if(!r)return v.show(0);var t=n.indexOf(r);v.show(n[t+1]||e)},v.showPrevious=function(){var e=n[n.length-1];if(!r)return v.show(e);var t=n.indexOf(r),i=n[t-1]||e;v.show(i)};var _=v.setProps;return v.setProps=function(e){a=e.overrides||a,_(e)},v.setInstances=function(e){u(!0),l.forEach((function(e){return e()})),s=e,u(!1),d(),c(),l=m(v),v.setProps({triggerTarget:o})},l=m(v),v},re.delegate=function(e,t){z(!(t&&t.target),["You must specity a `target` prop indicating a CSS selector string matching","the target elements that should receive a tippy."].join(" "));var i=[],r=[],s=!1,n=t.target,o=p(t,["target"]),l=Object.assign({},o,{trigger:"manual",touch:!1}),h=Object.assign({touch:H.touch},o,{showOnCreate:!0}),c=re(e,l);function d(e){if(e.target&&!s){var i=e.target.closest(n);if(i){var o=i.getAttribute("data-tippy-trigger")||t.trigger||H.trigger;if(!i._tippy&&!("touchstart"===e.type&&"boolean"==typeof h.touch||"touchstart"!==e.type&&o.indexOf(ne[e.type])<0)){var a=re(i,h);a&&(r=r.concat(a))}}}}function u(e,t,r,s){void 0===s&&(s=!1),e.addEventListener(t,r,s),i.push({node:e,eventType:t,handler:r,options:s})}return f(c).forEach((function(e){var t=e.destroy,n=e.enable,o=e.disable;e.destroy=function(e){void 0===e&&(e=!0),e&&r.forEach((function(e){e.destroy()})),r=[],i.forEach((function(e){var t=e.node,i=e.eventType,r=e.handler,s=e.options;t.removeEventListener(i,r,s)})),i=[],t()},e.enable=function(){n(),r.forEach((function(e){return e.enable()})),s=!1},e.disable=function(){o(),r.forEach((function(e){return e.disable()})),s=!0},function(e){var t=e.reference;u(t,"touchstart",d,a),u(t,"mouseover",d),u(t,"focusin",d),u(t,"click",d)}(e)})),c},re.hideAll=function(e){var t=void 0===e?{}:e,i=t.exclude,r=t.duration;te.forEach((function(e){var t=!1;if(i&&(t=k(i)?e.reference===i:e.popper===i.popper),!t){var s=e.props.duration;e.setProps({duration:r}),e.hide(),e.state.isDestroyed||e.setProps({duration:s})}}))},re.roundArrow='<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M0 6s1.796-.013 4.67-3.615C5.851.9 6.93.006 8 0c1.07-.006 2.148.887 3.343 2.385C14.233 6.005 16 6 16 6H0z"></svg>',re})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SlimSelect=t():e.SlimSelect=t()}(window,(function(){return i={},e.m=t=[function(e,t,i){"use strict";function r(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}t.__esModule=!0,t.kebabCase=t.highlight=t.isValueInArrayOfObjects=t.debounce=t.putContent=t.ensureElementInView=t.hasClassInTree=void 0,t.hasClassInTree=function(e,t){function i(e,t){return t&&e&&e.classList&&e.classList.contains(t)?e:null}return i(e,t)||function e(t,r){return t&&t!==document?i(t,r)?t:e(t.parentNode,r):null}(e,t)},t.ensureElementInView=function(e,t){var i=e.scrollTop+e.offsetTop,r=i+e.clientHeight,s=t.offsetTop;t=s+t.clientHeight;s<i?e.scrollTop-=i-s:r<t&&(e.scrollTop+=t-r)},t.putContent=function(e,t,i){var r=e.offsetHeight,s=e.getBoundingClientRect();e=i?s.top:s.top-r,r=i?s.bottom:s.bottom+r;return e<=0?"below":r>=window.innerHeight?"above":i?t:"below"},t.debounce=function(e,t,i){var r;return void 0===t&&(t=100),void 0===i&&(i=!1),function(){for(var s=[],n=0;n<arguments.length;n++)s[n]=arguments[n];var o=self,a=i&&!r;clearTimeout(r),r=setTimeout((function(){r=null,i||e.apply(o,s)}),t),a&&e.apply(o,s)}},t.isValueInArrayOfObjects=function(e,t,i){if(!Array.isArray(e))return e[t]===i;for(var r=0,s=e;r<s.length;r++){var n=s[r];if(n&&n[t]&&n[t]===i)return!0}return!1},t.highlight=function(e,t,i){var r=e,s=new RegExp("("+t.trim()+")(?![^<]*>[^<>]*</)","i");if(!e.match(s))return e;var n=e.match(s).index;t=n+e.match(s)[0].toString().length,t=e.substring(n,t);return r.replace(s,'<mark class="'.concat(i,'">').concat(t,"</mark>"))},t.kebabCase=function(e){var t=e.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(e){return"-"+e.toLowerCase()}));return e[0]===e[0].toUpperCase()?t.substring(1):t},"function"!=typeof(t=window).CustomEvent&&(r.prototype=t.Event.prototype,t.CustomEvent=r)},function(e,t,i){"use strict";t.__esModule=!0,t.validateOption=t.validateData=t.Data=void 0;var r=(s.prototype.newOption=function(e){return{id:e.id||String(Math.floor(1e8*Math.random())),value:e.value||"",text:e.text||"",innerHTML:e.innerHTML||"",selected:e.selected||!1,display:void 0===e.display||e.display,disabled:e.disabled||!1,placeholder:e.placeholder||!1,class:e.class||void 0,data:e.data||{},mandatory:e.mandatory||!1}},s.prototype.add=function(e){this.data.push({id:String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:e.mandatory,data:{}})},s.prototype.parseSelectData=function(){this.data=[];for(var e=0,t=this.main.select.element.childNodes;e<t.length;e++){var i=t[e];if("OPTGROUP"===i.nodeName){for(var r={label:i.label,options:[]},s=0,n=i.childNodes;s<n.length;s++){var o,a=n[s];"OPTION"===a.nodeName&&(o=this.pullOptionData(a),r.options.push(o),o.placeholder&&""!==o.text.trim()&&(this.main.config.placeholderText=o.text))}this.data.push(r)}else"OPTION"===i.nodeName&&(o=this.pullOptionData(i),this.data.push(o),o.placeholder&&""!==o.text.trim()&&(this.main.config.placeholderText=o.text))}},s.prototype.pullOptionData=function(e){return{id:!!e.dataset&&e.dataset.id||String(Math.floor(1e8*Math.random())),value:e.value,text:e.text,innerHTML:e.innerHTML,selected:e.selected,disabled:e.disabled,placeholder:"true"===e.dataset.placeholder,class:e.className,style:e.style.cssText,data:e.dataset,mandatory:!!e.dataset&&"true"===e.dataset.mandatory}},s.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var e=[],t=0,i=this.main.select.element.options;t<i.length;t++){var r=i[t];!r.selected||(r=this.getObjectFromData(r.value,"value"))&&r.id&&e.push(r.id)}this.setSelected(e,"id")}else{var s=this.main.select.element;-1!==s.selectedIndex&&(s=s.options[s.selectedIndex].value,this.setSelected(s,"value"))}},s.prototype.setSelected=function(e,t){void 0===t&&(t="id");for(var i=0,r=this.data;i<r.length;i++){var s=r[i];if(s.hasOwnProperty("label")){if(s.hasOwnProperty("options")){var n=s.options;if(n)for(var o=0,a=n;o<a.length;o++){var l=a[o];l.placeholder||(l.selected=this.shouldBeSelected(l,e,t))}}}else s.selected=this.shouldBeSelected(s,e,t)}},s.prototype.shouldBeSelected=function(e,t,i){if(void 0===i&&(i="id"),Array.isArray(t))for(var r=0,s=t;r<s.length;r++){var n=s[r];if(i in e&&String(e[i])===String(n))return!0}else if(i in e&&String(e[i])===String(t))return!0;return!1},s.prototype.getSelected=function(){for(var e={text:"",placeholder:this.main.config.placeholderText},t=[],i=0,r=this.data;i<r.length;i++){var s=r[i];if(s.hasOwnProperty("label")){if(s.hasOwnProperty("options")){var n=s.options;if(n)for(var o=0,a=n;o<a.length;o++){var l=a[o];l.selected&&(this.main.config.isMultiple?t.push(l):e=l)}}}else s.selected&&(this.main.config.isMultiple?t.push(s):e=s)}return this.main.config.isMultiple?t:e},s.prototype.addToSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){var i=[],r=this.getSelected();if(Array.isArray(r))for(var s=0,n=r;s<n.length;s++){var o=n[s];i.push(o[t])}i.push(e),this.setSelected(i,t)}},s.prototype.removeFromSelected=function(e,t){if(void 0===t&&(t="id"),this.main.config.isMultiple){for(var i=[],r=0,s=this.getSelected();r<s.length;r++){var n=s[r];String(n[t])!==String(e)&&i.push(n[t])}this.setSelected(i,t)}},s.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},s.prototype.getObjectFromData=function(e,t){void 0===t&&(t="id");for(var i=0,r=this.data;i<r.length;i++){var s=r[i];if(t in s&&String(s[t])===String(e))return s;if(s.hasOwnProperty("options")&&s.options)for(var n=0,o=s.options;n<o.length;n++){var a=o[n];if(String(a[t])===String(e))return a}}return null},s.prototype.search=function(e){var t,i;""!==(this.searchValue=e).trim()?(t=this.main.config.searchFilter,i=this.data.slice(0),e=e.trim(),i=i.map((function(i){if(i.hasOwnProperty("options")){var r=i,s=[];if(0!==(s=r.options?r.options.filter((function(i){return t(i,e)})):s).length)return(r=Object.assign({},r)).options=s,r}return i.hasOwnProperty("text")&&t(i,e)?i:null})),this.filtered=i.filter((function(e){return e}))):this.filtered=null},s);function s(e){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=e.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function n(e){return void 0!==e.text||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(e)),!1)}t.Data=r,t.validateData=function(e){if(!e)return console.error("Data must be an array of objects"),!1;for(var t=0,i=0,r=e;i<r.length;i++){var s=r[i];if(s.hasOwnProperty("label")){if(s.hasOwnProperty("options")){var o=s.options;if(o)for(var a=0,l=o;a<l.length;a++)n(l[a])||t++}}else n(s)||t++}return 0===t},t.validateOption=n},function(e,t,i){"use strict";t.__esModule=!0;var r=i(3),s=i(4),n=i(5),o=i(1),a=i(0);l.prototype.validate=function(e){if(!(e="string"==typeof e.select?document.querySelector(e.select):e.select))throw new Error("Could not find select element");if("SELECT"!==e.tagName)throw new Error("Element isnt of type select");return e},l.prototype.selected=function(){if(this.config.isMultiple){for(var e=[],t=0,i=s=this.data.getSelected();t<i.length;t++){var r=i[t];e.push(r.value)}return e}var s;return(s=this.data.getSelected())?s.value:""},l.prototype.set=function(e,t,i,r){void 0===t&&(t="value"),void 0===i&&(i=!0),void 0===r&&(r=!0),this.config.isMultiple&&!Array.isArray(e)?this.data.addToSelected(e,t):this.data.setSelected(e,t),this.select.setValue(),this.data.onDataChange(),this.render(),(i=!(!this.config.hideSelectedOption||!this.config.isMultiple||this.data.getSelected().length!==this.data.data.length)||i)&&this.close()},l.prototype.setSelected=function(e,t,i,r){this.set(e,t=void 0===t?"value":t,i=void 0===i||i,r=void 0===r||r)},l.prototype.setData=function(e){if((0,o.validateData)(e)){for(var t=JSON.parse(JSON.stringify(e)),i=this.data.getSelected(),r=0;r<t.length;r++)t[r].value||t[r].placeholder||(t[r].value=t[r].text);if(this.config.isAjax&&i)if(this.config.isMultiple)for(var s=0,n=i.reverse();s<n.length;s++){var a=n[s];t.unshift(a)}else{for(t.unshift(i),r=0;r<t.length;r++)t[r].placeholder||t[r].value!==i.value||t[r].text!==i.text||t.splice(r,1);var l=!1;for(r=0;r<t.length;r++)t[r].placeholder&&(l=!0);l||t.unshift({text:"",placeholder:!0})}this.select.create(t),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},l.prototype.addData=function(e){(0,o.validateData)([e])?(this.data.add(this.data.newOption(e)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},l.prototype.open=function(){var e,t=this;this.config.isEnabled&&(this.data.contentOpen||this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length||(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add("above"===this.data.contentPosition?this.config.openAbove:this.config.openBelow),this.config.addToBody&&(e=this.slim.container.getBoundingClientRect(),this.slim.content.style.top=e.top+e.height+window.scrollY+"px",this.slim.content.style.left=e.left+window.scrollX+"px",this.slim.content.style.width=e.width+"px"),this.slim.content.classList.add(this.config.open),"up"===this.config.showContent.toLowerCase()||"down"!==this.config.showContent.toLowerCase()&&"above"===(0,a.putContent)(this.slim.content,this.data.contentPosition,this.data.contentOpen)?this.moveContentAbove():this.moveContentBelow(),this.config.isMultiple||(e=this.data.getSelected())&&(e=e.id,(e=this.slim.list.querySelector('[data-id="'+e+'"]'))&&(0,a.ensureElementInView)(this.slim.list,e)),setTimeout((function(){t.data.contentOpen=!0,t.config.searchFocus&&t.slim.search.input.focus(),t.afterOpen&&t.afterOpen()}),this.config.timeoutDelay)))},l.prototype.close=function(){var e=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout((function(){e.slim.content.removeAttribute("style"),e.data.contentPosition="below",e.config.isMultiple&&e.slim.multiSelected?(e.slim.multiSelected.container.classList.remove(e.config.openAbove),e.slim.multiSelected.container.classList.remove(e.config.openBelow)):e.slim.singleSelected&&(e.slim.singleSelected.container.classList.remove(e.config.openAbove),e.slim.singleSelected.container.classList.remove(e.config.openBelow)),e.slim.search.input.blur(),e.afterClose&&e.afterClose()}),this.config.timeoutDelay))},l.prototype.moveContentAbove=function(){var e=0;this.config.isMultiple&&this.slim.multiSelected?e=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(e=this.slim.singleSelected.container.offsetHeight);var t=e+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+t+"px 0 0 0",this.slim.content.style.height=t-e+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},l.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},l.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},l.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},l.prototype.search=function(e){var t;this.data.searchValue!==e&&(this.slim.search.input.value=e,this.config.isAjax?((t=this).config.isSearching=!0,this.render(),this.ajax&&this.ajax(e,(function(i){t.config.isSearching=!1,Array.isArray(i)?(i.unshift({text:"",placeholder:!0}),t.setData(i),t.data.search(e),t.render()):"string"==typeof i?t.slim.options(i):t.render()}))):(this.data.search(e),this.render()))},l.prototype.setSearchText=function(e){this.config.searchText=e},l.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},l.prototype.destroy=function(e){var t=(e=void 0===e?null:e)?document.querySelector("."+e+".ss-main"):this.slim.container,i=e?document.querySelector("[data-ssid=".concat(e,"]")):this.select.element;t&&i&&(document.removeEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.removeEventListener("scroll",this.windowScroll,!1),i.style.display="",delete i.dataset.ssid,i.slim=null,t.parentElement&&t.parentElement.removeChild(t),!this.config.addToBody||(e=e?document.querySelector("."+e+".ss-content"):this.slim.content)&&document.body.removeChild(e))},i=l;function l(e){var t=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=(0,a.debounce)((function(e){t.data.contentOpen&&("above"===(0,a.putContent)(t.slim.content,t.data.contentPosition,t.data.contentOpen)?t.moveContentAbove():t.moveContentBelow())})),this.documentClick=function(e){e.target&&!(0,a.hasClassInTree)(e.target,t.config.id)&&t.close()};var i=this.validate(e);i.dataset.ssid&&this.destroy(i.dataset.ssid),e.ajax&&(this.ajax=e.ajax),e.addable&&(this.addable=e.addable),this.config=new r.Config({select:i,isAjax:!!e.ajax,showSearch:e.showSearch,searchPlaceholder:e.searchPlaceholder,searchText:e.searchText,searchingText:e.searchingText,searchFocus:e.searchFocus,searchHighlight:e.searchHighlight,searchFilter:e.searchFilter,closeOnSelect:e.closeOnSelect,showContent:e.showContent,placeholderText:e.placeholder,allowDeselect:e.allowDeselect,allowDeselectOption:e.allowDeselectOption,hideSelectedOption:e.hideSelectedOption,deselectLabel:e.deselectLabel,isEnabled:e.isEnabled,valuesUseText:e.valuesUseText,showOptionTooltips:e.showOptionTooltips,selectByGroup:e.selectByGroup,limit:e.limit,timeoutDelay:e.timeoutDelay,addToBody:e.addToBody}),this.select=new s.Select({select:i,main:this}),this.data=new o.Data({main:this}),this.slim=new n.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),e.data?this.setData(e.data):this.render(),document.addEventListener("click",this.documentClick),"auto"===this.config.showContent&&window.addEventListener("scroll",this.windowScroll,!1),e.beforeOnChange&&(this.beforeOnChange=e.beforeOnChange),e.onChange&&(this.onChange=e.onChange),e.beforeOpen&&(this.beforeOpen=e.beforeOpen),e.afterOpen&&(this.afterOpen=e.afterOpen),e.beforeClose&&(this.beforeClose=e.beforeClose),e.afterClose&&(this.afterClose=e.afterClose),this.config.isEnabled||this.disable()}t.default=i},function(e,t,i){"use strict";t.__esModule=!0,t.Config=void 0;var r=(s.prototype.searchFilter=function(e,t){return-1!==e.text.toLowerCase().indexOf(t.toLowerCase())},s);function s(e){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=e.select.style.cssText,this.class=e.select.className.split(" "),this.isMultiple=e.select.multiple,this.isAjax=e.isAjax,this.showSearch=!1!==e.showSearch,this.searchFocus=!1!==e.searchFocus,this.searchHighlight=!0===e.searchHighlight,this.closeOnSelect=!1!==e.closeOnSelect,e.showContent&&(this.showContent=e.showContent),this.isEnabled=!1!==e.isEnabled,e.searchPlaceholder&&(this.searchPlaceholder=e.searchPlaceholder),e.searchText&&(this.searchText=e.searchText),e.searchingText&&(this.searchingText=e.searchingText),e.placeholderText&&(this.placeholderText=e.placeholderText),this.allowDeselect=!0===e.allowDeselect,this.allowDeselectOption=!0===e.allowDeselectOption,this.hideSelectedOption=!0===e.hideSelectedOption,e.deselectLabel&&(this.deselectLabel=e.deselectLabel),e.valuesUseText&&(this.valuesUseText=e.valuesUseText),e.showOptionTooltips&&(this.showOptionTooltips=e.showOptionTooltips),e.selectByGroup&&(this.selectByGroup=e.selectByGroup),e.limit&&(this.limit=e.limit),e.searchFilter&&(this.searchFilter=e.searchFilter),null!=e.timeoutDelay&&(this.timeoutDelay=e.timeoutDelay),this.addToBody=!0===e.addToBody}t.Config=r},function(e,t,i){"use strict";t.__esModule=!0,t.Select=void 0;var r=i(0);s.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var e=this.main.data.getSelected(),t=0,i=this.element.options;t<i.length;t++){var r=i[t];r.selected=!1;for(var s=0,n=e;s<n.length;s++)n[s].value===r.value&&(r.selected=!0)}else e=this.main.data.getSelected(),this.element.value=e?e.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},s.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id,this.element.setAttribute("aria-hidden","true")},s.prototype.addEventListeners=function(){var e=this;this.element.addEventListener("change",(function(t){e.main.data.setSelectedFromSelect(),e.main.render()}))},s.prototype.addMutationObserver=function(){var e=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver((function(t){e.triggerMutationObserver&&(e.main.data.parseSelectData(),e.main.data.setSelectedFromSelect(),e.main.render(),t.forEach((function(t){"class"===t.attributeName&&e.main.slim.updateContainerDivClass(e.main.slim.container)})))})),this.observeMutationObserver())},s.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},s.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},s.prototype.create=function(e){this.element.innerHTML="";for(var t=0,i=e;t<i.length;t++){var r=i[t];if(r.hasOwnProperty("options")){var s=r,n=document.createElement("optgroup");if(n.label=s.label,s.options)for(var o=0,a=s.options;o<a.length;o++){var l=a[o];n.appendChild(this.createOption(l))}this.element.appendChild(n)}else this.element.appendChild(this.createOption(r))}},s.prototype.createOption=function(e){var t=document.createElement("option");return t.value=""!==e.value?e.value:e.text,t.innerHTML=e.innerHTML||e.text,e.selected&&(t.selected=e.selected),!1===e.display&&(t.style.display="none"),e.disabled&&(t.disabled=!0),e.placeholder&&t.setAttribute("data-placeholder","true"),e.mandatory&&t.setAttribute("data-mandatory","true"),e.class&&e.class.split(" ").forEach((function(e){t.classList.add(e)})),e.data&&"object"==typeof e.data&&Object.keys(e.data).forEach((function(i){t.setAttribute("data-"+(0,r.kebabCase)(i),e.data[i])})),t},i=s;function s(e){this.triggerMutationObserver=!0,this.element=e.select,this.main=e.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=e.main}t.Select=i},function(e,t,i){"use strict";t.__esModule=!0,t.Slim=void 0;var r=i(0),s=i(1);n.prototype.containerDiv=function(){var e=document.createElement("div");return e.style.cssText=this.main.config.style,this.updateContainerDivClass(e),e},n.prototype.updateContainerDivClass=function(e){this.main.config.class=this.main.select.element.className.split(" "),e.className="",e.classList.add(this.main.config.id),e.classList.add(this.main.config.main);for(var t=0,i=this.main.config.class;t<i.length;t++){var r=i[t];""!==r.trim()&&e.classList.add(r)}},n.prototype.singleSelectedDiv=function(){var e=this,t=document.createElement("div");t.classList.add(this.main.config.singleSelected);var i=document.createElement("span");i.classList.add("placeholder"),t.appendChild(i);var r=document.createElement("span");r.innerHTML=this.main.config.deselectLabel,r.classList.add("ss-deselect"),r.onclick=function(t){t.stopPropagation(),e.main.config.isEnabled&&e.main.set("")},t.appendChild(r);var s=document.createElement("span");s.classList.add(this.main.config.arrow);var n=document.createElement("span");return n.classList.add("arrow-down"),s.appendChild(n),t.appendChild(s),t.onclick=function(){e.main.config.isEnabled&&(e.main.data.contentOpen?e.main.close():e.main.open())},{container:t,placeholder:i,deselect:r,arrowIcon:{container:s,arrow:n}}},n.prototype.placeholder=function(){var e,t=this.main.data.getSelected();null===t||t&&t.placeholder?((e=document.createElement("span")).classList.add(this.main.config.disabled),e.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=e.outerHTML)):(e="",t&&(e=t.innerHTML&&!0!==this.main.config.valuesUseText?t.innerHTML:t.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=t?e:""))},n.prototype.deselect=function(){this.singleSelected&&(this.main.config.allowDeselect&&""!==this.main.selected()?this.singleSelected.deselect.classList.remove("ss-hide"):this.singleSelected.deselect.classList.add("ss-hide"))},n.prototype.multiSelectedDiv=function(){var e=this,t=document.createElement("div");t.classList.add(this.main.config.multiSelected);var i=document.createElement("div");i.classList.add(this.main.config.values),t.appendChild(i);var r=document.createElement("div");r.classList.add(this.main.config.add);var s=document.createElement("span");return s.classList.add(this.main.config.plus),s.onclick=function(t){e.main.data.contentOpen&&(e.main.close(),t.stopPropagation())},r.appendChild(s),t.appendChild(r),t.onclick=function(t){e.main.config.isEnabled&&(t.target.classList.contains(e.main.config.valueDelete)||(e.main.data.contentOpen?e.main.close():e.main.open()))},{container:t,values:i,add:r,plus:s}},n.prototype.values=function(){if(this.multiSelected){for(var e=this.multiSelected.values.childNodes,t=this.main.data.getSelected(),i=[],r=0,s=e;r<s.length;r++){for(var n=s[r],o=!0,a=0,l=t;a<l.length;a++){var h=l[a];String(h.id)===String(n.dataset.id)&&(o=!1)}o&&i.push(n)}for(var c=0,d=i;c<d.length;c++){var u=d[c];u.classList.add("ss-out"),this.multiSelected.values.removeChild(u)}var p;for(e=this.multiSelected.values.childNodes,h=0;h<t.length;h++){o=!1;for(var f=0,m=e;f<m.length;f++)n=m[f],String(t[h].id)===String(n.dataset.id)&&(o=!0);o||(0!==e.length&&HTMLElement.prototype.insertAdjacentElement?0===h?this.multiSelected.values.insertBefore(this.valueDiv(t[h]),e[h]):e[h-1].insertAdjacentElement("afterend",this.valueDiv(t[h])):this.multiSelected.values.appendChild(this.valueDiv(t[h])))}0===t.length&&((p=document.createElement("span")).classList.add(this.main.config.disabled),p.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=p.outerHTML)}},n.prototype.valueDiv=function(e){var t=this,i=document.createElement("div");i.classList.add(this.main.config.value),i.dataset.id=e.id;var r=document.createElement("span");return r.classList.add(this.main.config.valueText),r.innerHTML=e.innerHTML&&!0!==this.main.config.valuesUseText?e.innerHTML:e.text,i.appendChild(r),e.mandatory||((r=document.createElement("span")).classList.add(this.main.config.valueDelete),r.innerHTML=this.main.config.deselectLabel,r.onclick=function(i){i.preventDefault(),i.stopPropagation();var r=!1;if(t.main.beforeOnChange||(r=!0),t.main.beforeOnChange){i=t.main.data.getSelected();for(var s=JSON.parse(JSON.stringify(i)),n=0;n<s.length;n++)s[n].id===e.id&&s.splice(n,1);!1!==t.main.beforeOnChange(s)&&(r=!0)}r&&(t.main.data.removeFromSelected(e.id,"id"),t.main.render(),t.main.select.setValue(),t.main.data.onDataChange())},i.appendChild(r)),i},n.prototype.contentDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.content),e},n.prototype.searchDiv=function(){var e=this,t=document.createElement("div"),i=document.createElement("input"),r=document.createElement("div");t.classList.add(this.main.config.search);var n={container:t,input:i};return this.main.config.showSearch||(t.classList.add(this.main.config.hide),i.readOnly=!0),i.type="search",i.placeholder=this.main.config.searchPlaceholder,i.tabIndex=0,i.setAttribute("aria-label",this.main.config.searchPlaceholder),i.setAttribute("autocapitalize","off"),i.setAttribute("autocomplete","off"),i.setAttribute("autocorrect","off"),i.onclick=function(t){setTimeout((function(){""===t.target.value&&e.main.search("")}),10)},i.onkeydown=function(t){"ArrowUp"===t.key?(e.main.open(),e.highlightUp(),t.preventDefault()):"ArrowDown"===t.key?(e.main.open(),e.highlightDown(),t.preventDefault()):"Tab"===t.key?e.main.data.contentOpen?e.main.close():setTimeout((function(){e.main.close()}),e.main.config.timeoutDelay):"Enter"===t.key&&t.preventDefault()},i.onkeyup=function(t){var s=t.target;if("Enter"===t.key){if(e.main.addable&&t.ctrlKey)return r.click(),t.preventDefault(),void t.stopPropagation();var n=e.list.querySelector("."+e.main.config.highlighted);n&&n.click()}else"ArrowUp"===t.key||"ArrowDown"===t.key||("Escape"===t.key?e.main.close():e.main.config.showSearch&&e.main.data.contentOpen?e.main.search(s.value):i.value="");t.preventDefault(),t.stopPropagation()},i.onfocus=function(){e.main.open()},t.appendChild(i),this.main.addable&&(r.classList.add(this.main.config.addable),r.innerHTML="+",r.onclick=function(t){var i;e.main.addable&&(t.preventDefault(),t.stopPropagation(),""!==(t=e.search.input.value).trim()?(t=e.main.addable(t),i="",t&&("object"==typeof t?(0,s.validateOption)(t)&&(e.main.addData(t),i=t.value||t.text):(e.main.addData(e.main.data.newOption({text:t,value:t})),i=t),e.main.search(""),setTimeout((function(){e.main.set(i,"value",!1,!1)}),100),e.main.config.closeOnSelect&&setTimeout((function(){e.main.close()}),100))):e.search.input.focus())},t.appendChild(r),n.addable=r),n},n.prototype.highlightUp=function(){var e=this.list.querySelector("."+this.main.config.highlighted),t=null;if(e)for(t=e.previousSibling;null!==t&&t.classList.contains(this.main.config.disabled);)t=t.previousSibling;else{var i=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")");t=i[i.length-1]}null!==(t=t&&t.classList.contains(this.main.config.optgroupLabel)?null:t)||(i=e.parentNode).classList.contains(this.main.config.optgroup)&&(!i.previousSibling||(i=i.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")")).length&&(t=i[i.length-1])),t&&(e&&e.classList.remove(this.main.config.highlighted),t.classList.add(this.main.config.highlighted),(0,r.ensureElementInView)(this.list,t))},n.prototype.highlightDown=function(){var e,t=this.list.querySelector("."+this.main.config.highlighted),i=null;if(t)for(i=t.nextSibling;null!==i&&i.classList.contains(this.main.config.disabled);)i=i.nextSibling;else i=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");null!==i||null===t||(e=t.parentNode).classList.contains(this.main.config.optgroup)&&e.nextSibling&&(i=e.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")),i&&(t&&t.classList.remove(this.main.config.highlighted),i.classList.add(this.main.config.highlighted),(0,r.ensureElementInView)(this.list,i))},n.prototype.listDiv=function(){var e=document.createElement("div");return e.classList.add(this.main.config.list),e.setAttribute("role","listbox"),e},n.prototype.options=function(e){void 0===e&&(e="");var t=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==e)return(i=document.createElement("div")).classList.add(this.main.config.option),i.classList.add(this.main.config.disabled),i.innerHTML=e,void this.list.appendChild(i);if(this.main.config.isAjax&&this.main.config.isSearching)return(i=document.createElement("div")).classList.add(this.main.config.option),i.classList.add(this.main.config.disabled),i.innerHTML=this.main.config.searchingText,void this.list.appendChild(i);if(0===t.length){var i=document.createElement("div");return i.classList.add(this.main.config.option),i.classList.add(this.main.config.disabled),i.innerHTML=this.main.config.searchText,void this.list.appendChild(i)}for(var r=this,s=0,n=t;s<n.length;s++)!function(e){if(e.hasOwnProperty("label")){var t=e,i=document.createElement("div");i.classList.add(r.main.config.optgroup);var s=document.createElement("div");if(s.classList.add(r.main.config.optgroupLabel),r.main.config.selectByGroup&&r.main.config.isMultiple&&s.classList.add(r.main.config.optgroupLabelSelectable),s.innerHTML=t.label,i.appendChild(s),t=t.options){for(var n,o=0,a=t;o<a.length;o++){var l=a[o];i.appendChild(r.option(l))}r.main.config.selectByGroup&&r.main.config.isMultiple&&(n=r,s.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation();for(var t=0,r=i.children;t<r.length;t++){var s=r[t];-1!==s.className.indexOf(n.main.config.option)&&s.click()}})))}r.list.appendChild(i)}else r.list.appendChild(r.option(e))}(n[s])},n.prototype.option=function(e){if(e.placeholder){var t=document.createElement("div");return t.classList.add(this.main.config.option),t.classList.add(this.main.config.hide),t}var i=document.createElement("div");i.classList.add(this.main.config.option),i.setAttribute("role","option"),e.class&&e.class.split(" ").forEach((function(e){i.classList.add(e)})),e.style&&(i.style.cssText=e.style);var s=this.main.data.getSelected();i.dataset.id=e.id,this.main.config.searchHighlight&&this.main.slim&&e.innerHTML&&""!==this.main.slim.search.input.value.trim()?i.innerHTML=(0,r.highlight)(e.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):e.innerHTML&&(i.innerHTML=e.innerHTML),this.main.config.showOptionTooltips&&i.textContent&&i.setAttribute("title",i.textContent);var n=this;return i.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var i=this.dataset.id;if(!0===e.selected&&n.main.config.allowDeselectOption){var r=!1;if(n.main.beforeOnChange&&n.main.config.isMultiple||(r=!0),n.main.beforeOnChange&&n.main.config.isMultiple){for(var o=n.main.data.getSelected(),a=JSON.parse(JSON.stringify(o)),l=0;l<a.length;l++)a[l].id===i&&a.splice(l,1);!1!==n.main.beforeOnChange(a)&&(r=!0)}r&&(n.main.config.isMultiple?(n.main.data.removeFromSelected(i,"id"),n.main.render(),n.main.select.setValue(),n.main.data.onDataChange()):n.main.set(""))}else e.disabled||e.selected||n.main.config.limit&&Array.isArray(s)&&n.main.config.limit<=s.length||(n.main.beforeOnChange?(o=void 0,(r=JSON.parse(JSON.stringify(n.main.data.getObjectFromData(i)))).selected=!0,n.main.config.isMultiple?(o=JSON.parse(JSON.stringify(s))).push(r):o=JSON.parse(JSON.stringify(r)),!1!==n.main.beforeOnChange(o)&&n.main.set(i,"id",n.main.config.closeOnSelect)):n.main.set(i,"id",n.main.config.closeOnSelect))})),t=s&&(0,r.isValueInArrayOfObjects)(s,"id",e.id),(e.disabled||t)&&(i.onclick=null,n.main.config.allowDeselectOption||i.classList.add(this.main.config.disabled),n.main.config.hideSelectedOption&&i.classList.add(this.main.config.hide)),t?i.classList.add(this.main.config.optionSelected):i.classList.remove(this.main.config.optionSelected),i},i=n;function n(e){this.main=e.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}t.Slim=i}],e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(r,s,function(e){return t[e]}.bind(null,s));return r},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=2).default;function e(r){if(i[r])return i[r].exports;var s=i[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var t,i}));var confetti=function(){let e="",t="",i="",r="",s=[];const n=[{front:"red",back:"darkred"},{front:"green",back:"darkgreen"},{front:"blue",back:"darkblue"},{front:"yellow",back:"darkyellow"},{front:"orange",back:"darkorange"},{front:"pink",back:"darkpink"},{front:"purple",back:"darkpurple"},{front:"turquoise",back:"darkturquoise"}];var o=()=>{e.width=window.innerWidth,e.height=window.innerHeight,i=t.canvas.width/2,r=t.canvas.height/2};let a=(e,t)=>Math.random()*(t-e)+e,l=()=>{for(let t=0;t<500;t++)s.push({color:n[Math.floor(a(0,n.length))],dimensions:{x:a(10,20),y:a(10,30)},position:{x:a(0,e.width),y:e.height-1},rotation:a(0,2*Math.PI),scale:{x:1,y:1},velocity:{x:a(-25,25),y:a(0,-50)}})},h=()=>{t.clearRect(0,0,e.width,e.height),s.forEach(((i,r)=>{let n=i.dimensions.x*i.scale.x,o=i.dimensions.y*i.scale.y;t.translate(i.position.x,i.position.y),t.rotate(i.rotation),i.velocity.x-=.075*i.velocity.x,i.velocity.y=Math.min(i.velocity.y+.7,5),i.velocity.x+=Math.random()>.5?Math.random():-Math.random(),i.position.x+=i.velocity.x,i.position.y+=i.velocity.y,i.position.y>=e.height&&s.splice(r,1),i.position.x>e.width&&(i.position.x=0),i.position.x<0&&(i.position.x=e.width),i.scale.y=Math.cos(.1*i.position.y),t.fillStyle=i.scale.y>0?i.color.front:i.color.back,t.fillRect(-n/2,-o/2,n,o),t.setTransform(1,0,0,1,0,0)})),s.length<=1?c():window.requestAnimationFrame(h)},c=function(){t.clearRect(0,0,e.width,e.height),e.remove(),window.cancelAnimationFrame(h),s=[]};return{start:function(){e=document.createElement("canvas"),e.id="confetti",e.style.zIndex=1e4,e.style.position="fixed",e.style.top=0,e.style.left=0,document.getElementsByTagName("body")[0].appendChild(e),e=document.getElementById("confetti"),t=e.getContext("2d"),e.width=window.innerWidth,e.height=window.innerHeight,i=t.canvas.width/2,r=t.canvas.height/2,window.addEventListener("resize",(function(){o()})),l(),h()},initConfetti:l,resizeCanvas:o,render:h}}();function ucfirst(e){return(e+="").charAt(0).toUpperCase()+e.substring(1)}jQuery((function(e,t){var i,r,s,n,o,a,l,h,c,d;e.curCSS=function(t,i,r){!0===r?e(t).css(i):e(t).css(i,r)},i=e(window),r=e(document),s=e("body"),n=e("base").attr("href"),o={filters:[],callbacks:{},loadFilter:t,modal:!1,closeOnEscape:!0,closeOnClick:!1,useKeyHandler:!1,showCloseButton:!0,closeButton:'<a href="#" class="nyroModalClose nyroModalCloseButton nmReposition" title="close"><i class="fa-solid fa-xmark"></i></a>',stack:!1,nonStackable:"form",header:t,footer:t,galleryLoop:!0,galleryCounts:!0,ltr:!0,imageRegex:"[^.].(jpg|jpeg|png|tiff|gif|bmp)s*$",selIndicator:"nyroModalSel",swfObjectId:t,swf:{allowFullScreen:"true",allowscriptaccess:"always",wmode:"transparent"},store:{},errorMsg:"An error occured",elts:{all:t,bg:t,load:t,cont:t,hidden:t},sizes:{mode:"custom",initW:t,initH:t,w:t,h:t,minW:370,minH:200,wMargin:t,hMargin:t},anim:{def:t,showBg:t,hideBg:t,showLoad:t,hideLoad:t,showCont:t,hideCont:t,showTrans:t,hideTrans:t,resize:t},_open:!1,_bgReady:!1,_opened:!1,_loading:!1,_animated:!1,_transition:!1,_nmOpener:t,_nbContentLoading:0,_scripts:"",_scriptsShown:"",saveObj:function(){this.opener.data("nmObj",this)},open:function(){this._nmOpener&&this._nmOpener._close(),this.getInternal()._pushStack(this.opener),this._opened=!1,this._bgReady=!1,this._open=!0,this._initElts(),this._load(),this._nbContentLoading=0,this._callAnim("showBg",e.proxy((function(){this._bgReady=!0,this._nmOpener&&(this._nmOpener._bgReady=!1,this._nmOpener._loading=!1,this._nmOpener._animated=!1,this._nmOpener._opened=!1,this._nmOpener._open=!1,this._nmOpener.elts.cont=this._nmOpener.elts.hidden=this._nmOpener.elts.load=this._nmOpener.elts.bg=this._nmOpener.elts.all=t,this._nmOpener.saveObj(),this._nmOpener=t),this._contentLoading()}),this))},resize:function(t){t?(this.elts.hidden.append(this.elts.cont.children().first().clone()),this.sizes.initW=this.sizes.w=this.elts.hidden.width(),this.sizes.initH=this.sizes.h=this.elts.hidden.height(),this.elts.hidden.empty()):(this.sizes.w=this.sizes.initW,this.sizes.h=this.sizes.initH),this.elts.hidden.empty(),this._unreposition(),this.size(),this._callAnim("resize",e.proxy((function(){this._reposition()}),this))},size:function(){var e=this.getInternal().fullSize.viewH-this.sizes.hMargin,t=this.getInternal().fullSize.viewW-this.sizes.wMargin;"rightHalf"==this.sizes.mode?(this.sizes.h=e,this.sizes.w=t/3*2):(this.sizes.minW&&this.sizes.minW>this.sizes.w&&(this.sizes.w=this.sizes.minW),this.sizes.minH&&this.sizes.minH>this.sizes.h&&(this.sizes.h=this.sizes.minH),(this.sizes.h>e||this.sizes.w>t)&&(this.sizes.h=e,this.sizes.w=Math.min(this.sizes.w,t-30))),this._callFilters("size")},getForNewLinks:function(i){var r;return!this.stack||i&&!this.isStackable(i)?(r=e.extend({},this))._nmOpener=this:((r=e.extend(!0,{},this))._nmOpener=t,r.elts.all=t),r.filters=[],r.opener=t,r._open=!1,r},isStackable:function(e){return!e.is(this.nonStackable)},keyHandle:function(e){this.keyEvent=e,this._callFilters("keyHandle"),this.keyEvent=t,delete this.keyEvent},getInternal:function(){return a},_close:function(){this.getInternal()._removeStack(this.opener),this._opened=!1,this._open=!1,this._callFilters("close")},close:function(){this._close(),this._callFilters("beforeClose");var i=this;this._unreposition(),e("body").css("overflow","auto"),i._callAnim("hideCont",(function(){i._callAnim("hideLoad",(function(){i._callAnim("hideBg",(function(){i._callFilters("afterClose"),i.elts.cont.remove(),i.elts.hidden.remove(),i.elts.load.remove(),i.elts.bg.remove(),i.elts.all.remove(),i.elts.cont=i.elts.hidden=i.elts.load=i.elts.bg=i.elts.all=t}))}))}))},_initElts:function(){!this.stack&&this.getInternal().stack.length>1&&(this.elts=this.getInternal().stack[this.getInternal().stack.length-2].nmObj.elts),this.elts.all&&0!=this.elts.all.closest("body").length||(this.elts.all=this.elts.bg=this.elts.cont=this.elts.hidden=this.elts.load=t),this.elts.all||(this.elts.all=e("<div />").appendTo(this.getInternal()._container)),this.elts.bg||(this.elts.bg=e("<div />").hide().appendTo(this.elts.all)),this.elts.cont||(this.elts.cont=e("<div />").hide().appendTo(this.elts.bg)),this.elts.hidden||(this.elts.hidden=e("<div />").hide().appendTo(this.elts.bg)),this.elts.hidden.empty(),this.elts.load||(this.elts.load=e("<div />").hide().appendTo(this.elts.all)),this._callFilters("initElts")},_error:function(){this._callFilters("error")},_setCont:function(e,t){this.elts.hidden.append(this._filterScripts(e)).prepend(this.header).append(this.footer).wrapInner('<div class="nyroModal'+ucfirst(this.loadFilter)+'" />'),this.sizes.initW=this.sizes.w=this.elts.hidden.width()+75,this.sizes.initH=this.sizes.h=this.elts.hidden.height();var i=this.getInternal()._getOuter(this.elts.cont);this.sizes.hMargin=i.h.total,this.sizes.wMargin=i.w.total,this.size(),this.loading=!1,this._callFilters("filledContent"),this._contentLoading()},_filterScripts:function(t){if("string"!=typeof t)return t;this._scripts=[],this._scriptsShown=[];for(var i,r,s,n=0,o="<\/script>";(i=t.indexOf("<script",n))>-1;)r=t.indexOf(o)+9,(s=e(t.substring(i,r))).attr("src")&&"forceLoad"!=s.attr("rel")||("shown"==s.attr("rev")?this._scriptsShown.push(s.get(0)):this._scripts.push(s.get(0))),t=t.substring(0,i)+t.substr(r),n=i;return t},_hasFilter:function(t){var i=!1;return e.each(this.filters,(function(e,r){i=i||r==t})),i},_delFilter:function(t){this.filters=e.map(this.filters,(function(e){if(e!=t)return e}))},_callFilters:function(t){this.getInternal()._debug(t);var i=[],r=this;return e.each(this.filters,(function(e,s){i[s]=r._callFilter(s,t)})),this.callbacks[t]&&e.isFunction(this.callbacks[t])&&this.callbacks[t](this),i},_callFilter:function(i,r){return h[i]&&h[i][r]&&e.isFunction(h[i][r])?h[i][r](this):t},_callAnim:function(t,i){if(this.getInternal()._debug(t),this._callFilters("before"+ucfirst(t)),!this._animated){this._animated=!0,e.isFunction(i)||(i=e.noop);var r=this.anim[t]||this.anim.def||"basic";l[r]&&l[r][t]&&e.isFunction(l[r][t])||(r="basic"),l[r][t](this,e.proxy((function(){this._animated=!1,this._callFilters("after"+ucfirst(t)),i()}),this))}},_load:function(){this.getInternal()._debug("_load"),!this.loading&&this.loadFilter&&(this.loading=!0,this._callFilter(this.loadFilter,"load"))},_contentLoading:function(){if(!this._animated&&this._bgReady)if(!this._transition&&this.elts.cont.html().length>0&&(this._transition=!0),this._nbContentLoading++,this.loading){if(1==this._nbContentLoading){var t=this.getInternal()._getOuter(this.elts.load);this.elts.load.css({position:"fixed",top:(this.getInternal().fullSize.viewH-this.elts.load.height()-t.h.margin)/2,left:(this.getInternal().fullSize.viewW-this.elts.load.width()-t.w.margin)/2}),this._transition?(this._unreposition(),this._callAnim("showTrans",e.proxy((function(){this._contentLoading()}),this))):this._callAnim("showLoad",e.proxy((function(){this._contentLoading()}),this))}}else if(!this._opened)if(this._opened=!0,this._transition){var i=e.proxy((function(){this._writeContent(),this._callFilters("beforeShowCont"),this._callAnim("hideTrans",e.proxy((function(){this._transition=!1,this.elts.cont.append(this._scriptsShown),this._reposition(),this._callFilters("afterShowCont")}),this))}),this);1==this._nbContentLoading?(this._unreposition(),this._callAnim("showTrans",i)):i()}else this._callAnim("hideLoad",e.proxy((function(){this._writeContent(),this._callAnim("showCont",e.proxy((function(){this.elts.cont.append(this._scriptsShown),this._reposition()}),this))}),this))},_writeContent:function(){if("rightHalf"==this.sizes.mode)var e=0,t="auto",i=0;else{(e=(this.getInternal().fullSize.viewH-this.sizes.h-this.sizes.hMargin)/2-50)<=10&&(e=50);t=(this.getInternal().fullSize.viewW-this.sizes.w-this.sizes.wMargin)/2,i="auto"}this.elts.cont.empty().append(this.elts.hidden.contents()).append(this._scripts).append(this.showCloseButton?this.closeButton:"").css({position:"absolute",width:this.sizes.w,height:"auto",minHeight:this.sizes.h-e,top:e,left:t,right:i})},_reposition:function(){var t=this.elts.cont.find(".nmReposition");if(t.length){var i=this.getInternal()._getSpaceReposition(),r=this;t.each((function(){let t=0,s=0,n=0,o=e(this),a=o.offset();"rightHalf"==r.sizes.mode?(s="auto",n=0):(t=a.top-i.top,t<=50&&(t=50),s=a.left-i.left,n="auto"),o.css({position:"absolute",top:t,left:s,right:n,visibility:"visible"})})),this.elts.cont.after(t)}this._callFilters("afterReposition")},_unreposition:function(){this.elts.cont.css("overflow","");var e=this.elts.all.find(".nmReposition");e.length&&this.elts.cont.append(e.removeAttr("style")),this._callFilters("afterUnreposition")}},a={firstInit:!0,debug:!1,stack:[],fullSize:{w:0,h:0,wW:0,wH:0,viewW:0,viewH:0},nyroModal:function(t,n){return a.firstInit&&(a._container=e("<div />").appendTo(s),i.smartresize(e.proxy(a._resize,a)),r.bind("keydown.nyroModal",e.proxy(a._keyHandler,a)),a._calculateFullSize(),a.firstInit=!1),this.nmInit(t,n).each((function(){a._init(e(this).data("nmObj"))}))},nmInit:function(t,i){return this.each((function(){var r=e(this);i?r.data("nmObj",e.extend(!0,{opener:r},t)):r.data("nmObj",r.data("nmObj")?e.extend(!0,r.data("nmObj"),t):e.extend(!0,{opener:r},o,t))}))},nmCall:function(){return this.trigger("nyroModal")},nmManual:function(t,i){e('<a href="'+t+'"></a>').nyroModal(i).trigger("nyroModal")},nmData:function(t,i){this.nmManual("#",e.extend({data:t},i))},nmObj:function(t){e.extend(!0,o,t)},nmInternal:function(t){e.extend(!0,a,t)},nmAnims:function(t){e.extend(!0,l,t)},nmFilters:function(t){e.extend(!0,h,t)},nmTop:function(){return a.stack.length?a.stack[a.stack.length-1].nmObj:t},_debug:function(e){this.debug&&window.console&&window.console.log&&window.console.log(e)},_container:t,_init:function(t){t.filters=[],e.each(h,(function(i,r){r.is&&e.isFunction(r.is)&&r.is(t)&&t.filters.push(i)})),t._callFilters("initFilters"),t._callFilters("init"),t.opener.unbind("nyroModal.nyroModal nmClose.nyroModal nmResize.nyroModal").bind({"nyroModal.nyroModal":function(e){return t.open(),!1},"nmClose.nyroModal":function(){return t.close(),!1},"nmResize.nyroModal":function(){return t.resize(),!1}})},_scrollWidth:(d=e("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo(s).append("<div />").find("div").css({width:"100%",height:200}),c=100-d.width(),d.parent().remove(),c),_selNyroModal:function(t){return!!e(t).data("nmObj")},_selNyroModalOpen:function(t){var i=e(t);return!!i.data("nmObj")&&i.data("nmObj")._open},_keyHandler:function(t){var i=e.nmTop();if(i&&i.useKeyHandler)return i.keyHandle(t)},_pushStack:function(t){this.stack=e.map(this.stack,(function(e){if(e.nmOpener!=t.get(0))return e})),this.stack.push({nmOpener:t.get(0),nmObj:e(t).data("nmObj")})},_removeStack:function(t){this.stack=e.map(this.stack,(function(e){if(e.nmOpener!=t.get(0))return e}))},_resize:function(){var t=e(":nmOpen").each((function(){e(this).data("nmObj")._unreposition()}));this._calculateFullSize(),t.trigger("nmResize")},_calculateFullSize:function(){this.fullSize={w:r.width(),h:r.height(),wW:i.width(),wH:i.height()},this.fullSize.viewW=Math.min(this.fullSize.w,this.fullSize.wW),this.fullSize.viewH=Math.min(this.fullSize.h,this.fullSize.wH)},_getCurCSS:function(t,i){var r=parseInt(e.curCSS(t,i,!0));return isNaN(r)?0:r},_getOuter:function(e){e=e.get(0);var t={h:{margin:this._getCurCSS(e,"margin-top")+this._getCurCSS(e,"margin-bottom"),border:this._getCurCSS(e,"border-top-width")+this._getCurCSS(e,"border-bottom-width"),padding:this._getCurCSS(e,"padding-top")+this._getCurCSS(e,"padding-bottom")},w:{margin:this._getCurCSS(e,"margin-left")+this._getCurCSS(e,"margin-right"),border:this._getCurCSS(e,"border-left-width")+this._getCurCSS(e,"border-right-width"),padding:this._getCurCSS(e,"padding-left")+this._getCurCSS(e,"padding-right")}};return t.h.outer=t.h.margin+t.h.border,t.w.outer=t.w.margin+t.w.border,t.h.inner=t.h.padding+t.h.border,t.w.inner=t.w.padding+t.w.border,t.h.total=t.h.outer+t.h.padding,t.w.total=t.w.outer+t.w.padding,t},_getSpaceReposition:function(){var e=this._getOuter(s),t=i.scrollTop()-e.h.border/2;return t<=50&&(t=50),{top:i.scrollTop()-e.h.border/2,left:i.scrollLeft()-e.h.border/2}},_getHash:function(e){if("string"==typeof e){var t=e.indexOf("#");if(t>-1)return e.substring(t)}return""},_extractUrl:function(e){var i={url:t,sel:t};if(e){var r=this._getHash(e),s=this._getHash(window.location.href),o=window.location.href.substring(0,window.location.href.length-s.length),a=e.substring(0,e.length-r.length);i.sel=r,a!=o&&a!=n&&(i.url=e)}return i}},l={basic:{showBg:function(e,t){e.elts.bg.show(),t()},hideBg:function(e,t){e.elts.bg.hide(),t()},showLoad:function(e,t){e.elts.load.show(),t()},hideLoad:function(e,t){e.elts.load.hide(),t()},showCont:function(e,t){null!=e.elts.cont&&(e.elts.cont.show(),t())},hideCont:function(e,t){null!=e.elts.cont&&(e.elts.cont.hide(),t())},showTrans:function(e,t){e.elts.cont.hide(),e.elts.load.show(),t()},hideTrans:function(e,t){null!=e.elts.cont&&null!=e.elts.load&&(e.elts.cont.show(),e.elts.load.hide(),t())},resize:function(e,t){var i=(e.getInternal().fullSize.viewH-e.sizes.h-e.sizes.hMargin)/2;i<=50&&(i=50),e.elts.cont.css({width:e.sizes.w,height:"auto",minHeight:e.sizes.h-i,top:i,left:(e.getInternal().fullSize.viewW-e.sizes.w-e.sizes.wMargin)/2}),t()}}},h={basic:{is:function(e){return!0},init:function(e){"modal"==e.opener.attr("rev")&&(e.modal=!0),e.modal&&(e.closeOnEscape=e.closeOnClick=e.showCloseButton=!1),e.closeOnEscape&&(e.useKeyHandler=!0)},initElts:function(e){e.elts.bg.addClass("nyroModalBg"),e.closeOnClick&&e.elts.bg.unbind("click.nyroModal").bind("click.nyroModal",(function(t){t.target==this&&e.close()})),e.elts.cont.addClass("nyroModalCont"),e.elts.hidden.addClass("nyroModalCont nyroModalHidden"),e.elts.load.addClass("nyroModalCont nyroModalLoad")},error:function(e){e.elts.hidden.addClass("nyroModalError"),e.elts.cont.addClass("nyroModalError"),e._setCont(e.errorMsg)},beforeShowCont:function(t){e("body").css("overflow","hidden"),null!=t.elts.cont&&t.elts.cont.find(".nyroModal").each((function(){var i=e(this);i.nyroModal(t.getForNewLinks(i),!0)})).end().find(".nyroModalClose").bind("click.nyroModal",(function(e){e.preventDefault(),t.close()}))},keyHandle:function(e){27==e.keyEvent.keyCode&&e.closeOnEscape&&(e.keyEvent.preventDefault(),e.close())}},custom:{is:function(e){return!0}}},e.fn.extend({nm:a.nyroModal,nyroModal:a.nyroModal,nmInit:a.nmInit,nmCall:a.nmCall}),e.extend({nmManual:a.nmManual,nmData:a.nmData,nmObj:a.nmObj,nmInternal:a.nmInternal,nmAnims:a.nmAnims,nmFilters:a.nmFilters,nmTop:a.nmTop}),e.expr[":"].nyroModal=e.expr[":"].nm=a._selNyroModal,e.expr[":"].nmOpen=a._selNyroModalOpen})),function(e,t){jQuery.fn[t]=function(e){return e?this.bind("resize",(i=e,function(){var e=this,t=arguments;n?clearTimeout(n):s&&i.apply(e,t),n=setTimeout((function(){s||i.apply(e,t),n=null}),r||100)})):this.trigger(t);var i,r,s,n}}(jQuery,"smartresize"),jQuery((function(e,t){e.nmFilters({title:{is:function(e){return e.opener.is("[title]")},beforeShowCont:function(t){t.elts.cont.offset();t.store.title=e("<h1 />",{text:t.opener.attr("title")}).addClass("nyroModalTitle nmReposition"),t.elts.cont.prepend(t.store.title)},close:function(e){e.store.title&&(e.store.title.remove(),e.store.title=t,delete e.store.title)}}})})),jQuery((function(e,t){e.nmFilters({gallery:{is:function(t){var i=t.opener.is("[rel]:not([rel=external], [rel=nofollow])");if(i){var r=t.opener.attr("rel"),s=r.indexOf(" "),n=s>0?r.substr(0,s):r;e('[href][rel="'+n+'"], [href][rel^="'+n+' "]').length<2&&(i=!1),i&&t.galleryCounts&&!t._hasFilter("title")&&t.filters.push("title")}return i},init:function(e){e.useKeyHandler=!0},keyHandle:function(e){!e._animated&&e._opened&&(39==e.keyEvent.keyCode||40==e.keyEvent.keyCode?(e.keyEvent.preventDefault(),e._callFilters("galleryNext")):37!=e.keyEvent.keyCode&&38!=e.keyEvent.keyCode||(e.keyEvent.preventDefault(),e._callFilters("galleryPrev")))},initElts:function(t){var i=t.opener.attr("rel"),r=i.indexOf(" ");t.store.gallery=r>0?i.substr(0,r):i,t.store.galleryLinks=e('[href][rel="'+t.store.gallery+'"], [href][rel^="'+t.store.gallery+' "]'),t.store.galleryIndex=t.store.galleryLinks.index(t.opener)},beforeShowCont:function(e){if(e.galleryCounts&&e.store.title&&e.store.galleryLinks&&e.store.galleryLinks.length>1){var t=e.store.title.html();e.store.title.html((t.length?t+" - ":"")+(e.store.galleryIndex+1)+"/"+e.store.galleryLinks.length)}},filledContent:function(t){var i=this._getGalleryLink(t,-1),r=t.elts.hidden.find(" > div");i&&e("<a />",{text:"previous",href:"#"}).addClass("nyroModalPrev").bind("click",(function(e){e.preventDefault(),t._callFilters("galleryPrev")})).appendTo(r),(i=this._getGalleryLink(t,1))&&e("<a />",{text:"next",href:"#"}).addClass("nyroModalNext").bind("click",(function(e){e.preventDefault(),t._callFilters("galleryNext")})).appendTo(r)},close:function(e){e.store.gallery=t,e.store.galleryLinks=t,e.store.galleryIndex=t,delete e.store.gallery,delete e.store.galleryLinks,delete e.store.galleryIndex,e.elts.cont&&e.elts.cont.find(".nyroModalNext, .nyroModalPrev").remove()},galleryNext:function(e){this._getGalleryLink(e,1).nyroModal(e.getForNewLinks(),!0).click()},galleryPrev:function(e){this._getGalleryLink(e,-1).nyroModal(e.getForNewLinks(),!0).click()},_getGalleryLink:function(e,i){if(e.store.gallery){e.ltr||(i*=-1);var r=e.store.galleryIndex+i;if(e.store.galleryLinks&&r>=0&&r<e.store.galleryLinks.length)return e.store.galleryLinks.eq(r);if(e.galleryLoop&&e.store.galleryLinks)return e.store.galleryLinks.eq(r<0?e.store.galleryLinks.length-1:0)}return t}}})})),jQuery((function(e,t){e.nmFilters({link:{is:function(e){var t=e.opener.is("[href]");return t&&(e.store.link=e.getInternal()._extractUrl(e.opener.attr("href"))),t},init:function(e){e.loadFilter="link",e.opener.unbind("click.nyroModal").bind("click.nyroModal",(function(t){t.preventDefault(),e.opener.trigger("nyroModal")}))},load:function(i){e.ajax({url:i.store.link.url,data:i.store.link.sel?[{name:i.selIndicator,value:i.store.link.sel.substring(1)}]:t,success:function(e){i._setCont(e,i.store.link.sel)},error:function(){i._error()}})}}})})),jQuery((function(e,t){e.nmFilters({data:{is:function(e){var t=!!e.data;return t&&e._delFilter("dom"),t},init:function(e){e.loadFilter="data"},load:function(e){e._setCont(e.data)}}})})),jQuery((function(e,t){e.nmFilters({image:{is:function(e){return!!(new RegExp(e.imageRegex,"i").test(e.opener.attr("href"))||e.opener.attr("href")!=t&&e.opener.attr("href").indexOf("files/get")>0)},init:function(e){e.loadFilter="image"},load:function(t){var i=t.opener.attr("href"),r=e("<img />").attr({src:i,width:"400px"});console.log(r[0]),t._setCont(r[0])},size:function(e){},close:function(e){e.elts.cont&&(e.elts.cont.removeClass("nyroModalImg"),e.elts.hidden.removeClass("nyroModalImg"))}}})})),jQuery((function(e,t){e.nmFilters({form:{is:function(e){var t=e.opener.is("form");return t&&(e.store.form=e.getInternal()._extractUrl(e.opener.attr("action"))),t},init:function(e){e.loadFilter="form",e.opener.unbind("submit.nyroModal").bind("submit.nyroModal",(function(t){t.preventDefault();let i="";t&&t.originalEvent&&t.originalEvent.submitter&&t.originalEvent.submitter.value&&(i=t.originalEvent.submitter.value),e.opener.append("<input type='hidden' name='submitAction' value='"+i+"' />"),e.opener.trigger("nyroModal")}))},load:function(t){var i=t.opener.serializeArray();let r=i.find((e=>"submitAction"===e.name)).value;t.store.form.sel&&i.push({name:t.selIndicator,value:t.store.form.sel.substring(1)}),"function"==typeof t.callbacks.beforePostSubmit&&t.callbacks.beforePostSubmit(),e.ajax({url:t.store.form.url,data:i,type:t.opener.attr("method")?t.opener.attr("method"):"get",success:function(e){"closeModal"==r?t.close():t._setCont(e,t.store.form.sel)},error:function(){t._error()}})}}})})),jQuery((function(e,t){e.nmFilters({formFile:{is:function(e){var t=e.opener.is('form[enctype="multipart/form-data"]');return t&&(e._delFilter("form"),e.store.form||(e.store.form=e.getInternal()._extractUrl(e.opener.attr("action")))),t},init:function(e){e.loadFilter="formFile",e.store.formFileLoading=!1,e.opener.unbind("submit.nyroModal").bind("submit.nyroModal",(function(t){e.store.formFileIframe?e.store.formFileLoading=!0:(t.preventDefault(),e.opener.trigger("nyroModal"))}))},initElts:function(i){var r;function s(){r&&(r.remove(),r=t,delete r),i.store.formFileIframe.attr("src","about:blank").remove(),i.store.formFileIframe=t,delete i.store.formFileIframe}i.store.form.sel&&(r=e("<input />",{type:"hidden",name:i.selIndicator,value:i.store.form.sel.substring(1)}).appendTo(i.opener)),console.log("here"),console.log(i.store),i.store.formFileIframe=e('<iframe name="nyroModalFormFile" src="javascript:\'\';" id="nyromodal-iframe-'+(new Date).getTime()+'"></iframe>').on("load",(function(){if(i.store.formFileLoading){i.store.formFileLoading=!1;var e=i.store.formFileIframe.unbind("load error").contents().find("body").not("script[src]");if(e&&e.html()&&e.html().length)s(),i._setCont(e.html(),i.store.form.sel);else{var t=0;fct=function(){t++;var e=i.store.formFileIframe.unbind("load error").contents().find("body").not("script[src]");e&&e.html()&&e.html().length?(i._setCont(e.html(),i.store.form.sel),s()):t<5?setTimeout(fct,25):(s(),i._error())},setTimeout(fct,25)}}})),i.elts.all.append(i.store.formFileIframe),i.opener.attr("target","nyroModalFormFile").submit()},close:function(e){e.store.formFileLoading=!1,e.store.formFileIframe&&(e.store.formFileIframe.remove(),e.store.formFileIframe=t,delete e.store.formFileIframe)}}})})),jQuery((function(e,t){e.nmFilters({iframe:{is:function(e){var t=e.opener.attr("target")||"",i=e.opener.attr("rel")||"",r=e.opener.get(0);return!e._hasFilter("image")&&("_blank"==t.toLowerCase()||i.toLowerCase().indexOf("external")>-1||r.hostname&&r.hostname.replace(/:\d*$/,"")!=window.location.hostname.replace(/:\d*$/,""))},init:function(e){e.loadFilter="iframe"},load:function(t){t.store.iframe=e('<iframe src="javascript:\'\';" id="nyromodal-iframe-'+(new Date).getTime()+'"></iframe>'),t._setCont(t.store.iframe)},afterShowCont:function(e){e.store.iframe.attr("src",e.opener.attr("href"))},close:function(e){e.store.iframe&&(e.store.iframe.remove(),e.store.iframe=t,delete e.store.iframe)}}})})),jQuery((function(e,t){e.nmFilters({iframeForm:{is:function(e){var t=e._hasFilter("iframe")&&e.opener.is("form");return t&&(e._delFilter("iframe"),e._delFilter("form")),t},init:function(e){e.loadFilter="iframeForm",e.store.iframeFormLoading=!1,e.store.iframeFormOrgTarget=e.opener.attr("target"),e.opener.unbind("submit.nyroModal").bind("submit.nyroModal",(function(t){e.store.iframeFormIframe?e.store.iframeFormLoading=!0:(t.preventDefault(),e.opener.trigger("nyroModal"))}))},load:function(t){t.store.iframeFormIframe=e('<iframe name="nyroModalIframeForm" src="javascript:\'\';" id="nyromodal-iframe-'+(new Date).getTime()+'"></iframe>'),t._setCont(t.store.iframeFormIframe)},afterShowCont:function(e){e.opener.attr("target","nyroModalIframeForm").submit()},close:function(e){e.store.iframeFormOrgTarget?e.opener.attr("target",e.store.iframeFormOrgTarget):e.opener.removeAttr("target"),delete e.store.formFileLoading,delete e.store.iframeFormOrgTarget,e.store.iframeFormIframe&&(e.store.iframeFormIframe.remove(),e.store.iframeFormIframe=t,delete e.store.iframeFormIframe)}}})})),jQuery((function(e,t){e.nmFilters({embedly:{is:function(e){var t=e._hasFilter("link")&&e.opener.attr("href")&&null!==e.opener.attr("href").match(/http:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*justin\.tv\/.*|.*justin\.tv\/.*\/b\/.*|.*justin\.tv\/.*\/w\/.*|www\.ustream\.tv\/recorded\/.*|www\.ustream\.tv\/channel\/.*|www\.ustream\.tv\/.*|qik\.com\/video\/.*|qik\.com\/.*|qik\.ly\/.*|.*revision3\.com\/.*|.*\.dailymotion\.com\/video\/.*|.*\.dailymotion\.com\/.*\/video\/.*|www\.collegehumor\.com\/video:.*|.*twitvid\.com\/.*|www\.break\.com\/.*\/.*|vids\.myspace\.com\/index\.cfm\?fuseaction=vids\.individual&videoid.*|www\.myspace\.com\/index\.cfm\?fuseaction=.*&videoid.*|www\.metacafe\.com\/watch\/.*|www\.metacafe\.com\/w\/.*|blip\.tv\/file\/.*|.*\.blip\.tv\/file\/.*|video\.google\.com\/videoplay\?.*|.*revver\.com\/video\/.*|video\.yahoo\.com\/watch\/.*\/.*|video\.yahoo\.com\/network\/.*|.*viddler\.com\/explore\/.*\/videos\/.*|liveleak\.com\/view\?.*|www\.liveleak\.com\/view\?.*|animoto\.com\/play\/.*|dotsub\.com\/view\/.*|www\.overstream\.net\/view\.php\?oid=.*|www\.livestream\.com\/.*|www\.worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|teachertube\.com\/viewVideo\.php.*|www\.teachertube\.com\/viewVideo\.php.*|www1\.teachertube\.com\/viewVideo\.php.*|www2\.teachertube\.com\/viewVideo\.php.*|bambuser\.com\/v\/.*|bambuser\.com\/channel\/.*|bambuser\.com\/channel\/.*\/broadcast\/.*|www\.schooltube\.com\/video\/.*\/.*|bigthink\.com\/ideas\/.*|bigthink\.com\/series\/.*|sendables\.jibjab\.com\/view\/.*|sendables\.jibjab\.com\/originals\/.*|www\.xtranormal\.com\/watch\/.*|socialcam\.com\/v\/.*|www\.socialcam\.com\/v\/.*|dipdive\.com\/media\/.*|dipdive\.com\/member\/.*\/media\/.*|dipdive\.com\/v\/.*|.*\.dipdive\.com\/media\/.*|.*\.dipdive\.com\/v\/.*|v\.youku\.com\/v_show\/.*\.html|v\.youku\.com\/v_playlist\/.*\.html|www\.snotr\.com\/video\/.*|snotr\.com\/video\/.*|video\.jardenberg\.se\/.*|.*yfrog\..*\/.*|tweetphoto\.com\/.*|www\.flickr\.com\/photos\/.*|flic\.kr\/.*|twitpic\.com\/.*|www\.twitpic\.com\/.*|twitpic\.com\/photos\/.*|www\.twitpic\.com\/photos\/.*|.*imgur\.com\/.*|.*\.posterous\.com\/.*|post\.ly\/.*|twitgoo\.com\/.*|i.*\.photobucket\.com\/albums\/.*|s.*\.photobucket\.com\/albums\/.*|phodroid\.com\/.*\/.*\/.*|www\.mobypicture\.com\/user\/.*\/view\/.*|moby\.to\/.*|xkcd\.com\/.*|www\.xkcd\.com\/.*|imgs\.xkcd\.com\/.*|www\.asofterworld\.com\/index\.php\?id=.*|www\.asofterworld\.com\/.*\.jpg|asofterworld\.com\/.*\.jpg|www\.qwantz\.com\/index\.php\?comic=.*|23hq\.com\/.*\/photo\/.*|www\.23hq\.com\/.*\/photo\/.*|.*dribbble\.com\/shots\/.*|drbl\.in\/.*|.*\.smugmug\.com\/.*|.*\.smugmug\.com\/.*#.*|emberapp\.com\/.*\/images\/.*|emberapp\.com\/.*\/images\/.*\/sizes\/.*|emberapp\.com\/.*\/collections\/.*\/.*|emberapp\.com\/.*\/categories\/.*\/.*\/.*|embr\.it\/.*|picasaweb\.google\.com.*\/.*\/.*#.*|picasaweb\.google\.com.*\/lh\/photo\/.*|picasaweb\.google\.com.*\/.*\/.*|dailybooth\.com\/.*\/.*|brizzly\.com\/pic\/.*|pics\.brizzly\.com\/.*\.jpg|img\.ly\/.*|www\.tinypic\.com\/view\.php.*|tinypic\.com\/view\.php.*|www\.tinypic\.com\/player\.php.*|tinypic\.com\/player\.php.*|www\.tinypic\.com\/r\/.*\/.*|tinypic\.com\/r\/.*\/.*|.*\.tinypic\.com\/.*\.jpg|.*\.tinypic\.com\/.*\.png|meadd\.com\/.*\/.*|meadd\.com\/.*|.*\.deviantart\.com\/art\/.*|.*\.deviantart\.com\/gallery\/.*|.*\.deviantart\.com\/#\/.*|fav\.me\/.*|.*\.deviantart\.com|.*\.deviantart\.com\/gallery|.*\.deviantart\.com\/.*\/.*\.jpg|.*\.deviantart\.com\/.*\/.*\.gif|.*\.deviantart\.net\/.*\/.*\.jpg|.*\.deviantart\.net\/.*\/.*\.gif|plixi\.com\/p\/.*|plixi\.com\/profile\/home\/.*|plixi\.com\/.*|www\.fotopedia\.com\/.*\/.*|fotopedia\.com\/.*\/.*|photozou\.jp\/photo\/show\/.*\/.*|photozou\.jp\/photo\/photo_only\/.*\/.*|instagr\.am\/p\/.*|instagram\.com\/p\/.*|skitch\.com\/.*\/.*\/.*|img\.skitch\.com\/.*|https:\/\/skitch\.com\/.*\/.*\/.*|https:\/\/img\.skitch\.com\/.*|share\.ovi\.com\/media\/.*\/.*|www\.questionablecontent\.net\/|questionablecontent\.net\/|www\.questionablecontent\.net\/view\.php.*|questionablecontent\.net\/view\.php.*|questionablecontent\.net\/comics\/.*\.png|www\.questionablecontent\.net\/comics\/.*\.png|picplz\.com\/user\/.*\/pic\/.*\/|twitrpix\.com\/.*|.*\.twitrpix\.com\/.*|www\.someecards\.com\/.*\/.*|someecards\.com\/.*\/.*|some\.ly\/.*|www\.some\.ly\/.*|pikchur\.com\/.*|achewood\.com\/.*|www\.achewood\.com\/.*|achewood\.com\/index\.php.*|www\.achewood\.com\/index\.php.*|www\.whosay\.com\/content\/.*|www\.whosay\.com\/photos\/.*|www\.whosay\.com\/videos\/.*|say\.ly\/.*|www\.whitehouse\.gov\/photos-and-video\/video\/.*|www\.whitehouse\.gov\/video\/.*|wh\.gov\/photos-and-video\/video\/.*|wh\.gov\/video\/.*|www\.hulu\.com\/watch.*|www\.hulu\.com\/w\/.*|hulu\.com\/watch.*|hulu\.com\/w\/.*|.*crackle\.com\/c\/.*|www\.fancast\.com\/.*\/videos|www\.funnyordie\.com\/videos\/.*|www\.funnyordie\.com\/m\/.*|funnyordie\.com\/videos\/.*|funnyordie\.com\/m\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|www\.ted\.com\/talks\/.*\.html.*|www\.ted\.com\/talks\/lang\/.*\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/lang\/.*\/.*\.html.*|.*nfb\.ca\/film\/.*|www\.thedailyshow\.com\/watch\/.*|www\.thedailyshow\.com\/full-episodes\/.*|www\.thedailyshow\.com\/collection\/.*\/.*\/.*|movies\.yahoo\.com\/movie\/.*\/video\/.*|movies\.yahoo\.com\/movie\/.*\/trailer|movies\.yahoo\.com\/movie\/.*\/video|www\.colbertnation\.com\/the-colbert-report-collections\/.*|www\.colbertnation\.com\/full-episodes\/.*|www\.colbertnation\.com\/the-colbert-report-videos\/.*|www\.comedycentral\.com\/videos\/index\.jhtml\?.*|www\.theonion\.com\/video\/.*|theonion\.com\/video\/.*|wordpress\.tv\/.*\/.*\/.*\/.*\/|www\.traileraddict\.com\/trailer\/.*|www\.traileraddict\.com\/clip\/.*|www\.traileraddict\.com\/poster\/.*|www\.escapistmagazine\.com\/videos\/.*|www\.trailerspy\.com\/trailer\/.*\/.*|www\.trailerspy\.com\/trailer\/.*|www\.trailerspy\.com\/view_video\.php.*|www\.atom\.com\/.*\/.*\/|fora\.tv\/.*\/.*\/.*\/.*|www\.spike\.com\/video\/.*|www\.gametrailers\.com\/video\/.*|gametrailers\.com\/video\/.*|www\.koldcast\.tv\/video\/.*|www\.koldcast\.tv\/#video:.*|techcrunch\.tv\/watch.*|techcrunch\.tv\/.*\/watch.*|mixergy\.com\/.*|video\.pbs\.org\/video\/.*|www\.zapiks\.com\/.*|tv\.digg\.com\/diggnation\/.*|tv\.digg\.com\/diggreel\/.*|tv\.digg\.com\/diggdialogg\/.*|www\.trutv\.com\/video\/.*|www\.nzonscreen\.com\/title\/.*|nzonscreen\.com\/title\/.*|app\.wistia\.com\/embed\/medias\/.*|https:\/\/app\.wistia\.com\/embed\/medias\/.*|hungrynation\.tv\/.*\/episode\/.*|www\.hungrynation\.tv\/.*\/episode\/.*|hungrynation\.tv\/episode\/.*|www\.hungrynation\.tv\/episode\/.*|indymogul\.com\/.*\/episode\/.*|www\.indymogul\.com\/.*\/episode\/.*|indymogul\.com\/episode\/.*|www\.indymogul\.com\/episode\/.*|channelfrederator\.com\/.*\/episode\/.*|www\.channelfrederator\.com\/.*\/episode\/.*|channelfrederator\.com\/episode\/.*|www\.channelfrederator\.com\/episode\/.*|tmiweekly\.com\/.*\/episode\/.*|www\.tmiweekly\.com\/.*\/episode\/.*|tmiweekly\.com\/episode\/.*|www\.tmiweekly\.com\/episode\/.*|99dollarmusicvideos\.com\/.*\/episode\/.*|www\.99dollarmusicvideos\.com\/.*\/episode\/.*|99dollarmusicvideos\.com\/episode\/.*|www\.99dollarmusicvideos\.com\/episode\/.*|ultrakawaii\.com\/.*\/episode\/.*|www\.ultrakawaii\.com\/.*\/episode\/.*|ultrakawaii\.com\/episode\/.*|www\.ultrakawaii\.com\/episode\/.*|barelypolitical\.com\/.*\/episode\/.*|www\.barelypolitical\.com\/.*\/episode\/.*|barelypolitical\.com\/episode\/.*|www\.barelypolitical\.com\/episode\/.*|barelydigital\.com\/.*\/episode\/.*|www\.barelydigital\.com\/.*\/episode\/.*|barelydigital\.com\/episode\/.*|www\.barelydigital\.com\/episode\/.*|threadbanger\.com\/.*\/episode\/.*|www\.threadbanger\.com\/.*\/episode\/.*|threadbanger\.com\/episode\/.*|www\.threadbanger\.com\/episode\/.*|vodcars\.com\/.*\/episode\/.*|www\.vodcars\.com\/.*\/episode\/.*|vodcars\.com\/episode\/.*|www\.vodcars\.com\/episode\/.*|confreaks\.net\/videos\/.*|www\.confreaks\.net\/videos\/.*|video\.allthingsd\.com\/video\/.*|aniboom\.com\/animation-video\/.*|www\.aniboom\.com\/animation-video\/.*|clipshack\.com\/Clip\.aspx\?.*|www\.clipshack\.com\/Clip\.aspx\?.*|grindtv\.com\/.*\/video\/.*|www\.grindtv\.com\/.*\/video\/.*|ifood\.tv\/recipe\/.*|ifood\.tv\/video\/.*|ifood\.tv\/channel\/user\/.*|www\.ifood\.tv\/recipe\/.*|www\.ifood\.tv\/video\/.*|www\.ifood\.tv\/channel\/user\/.*|logotv\.com\/video\/.*|www\.logotv\.com\/video\/.*|lonelyplanet\.com\/Clip\.aspx\?.*|www\.lonelyplanet\.com\/Clip\.aspx\?.*|streetfire\.net\/video\/.*\.htm.*|www\.streetfire\.net\/video\/.*\.htm.*|trooptube\.tv\/videos\/.*|www\.trooptube\.tv\/videos\/.*|www\.godtube\.com\/featured\/video\/.*|godtube\.com\/featured\/video\/.*|www\.godtube\.com\/watch\/.*|godtube\.com\/watch\/.*|www\.tangle\.com\/view_video.*|mediamatters\.org\/mmtv\/.*|www\.clikthrough\.com\/theater\/video\/.*|soundcloud\.com\/.*|soundcloud\.com\/.*\/.*|soundcloud\.com\/.*\/sets\/.*|soundcloud\.com\/groups\/.*|snd\.sc\/.*|www\.last\.fm\/music\/.*|www\.last\.fm\/music\/+videos\/.*|www\.last\.fm\/music\/+images\/.*|www\.last\.fm\/music\/.*\/_\/.*|www\.last\.fm\/music\/.*\/.*|www\.mixcloud\.com\/.*\/.*\/|www\.radionomy\.com\/.*\/radio\/.*|radionomy\.com\/.*\/radio\/.*|www\.entertonement\.com\/clips\/.*|www\.rdio\.com\/#\/artist\/.*\/album\/.*|www\.rdio\.com\/artist\/.*\/album\/.*|www\.zero-inch\.com\/.*|.*\.bandcamp\.com\/|.*\.bandcamp\.com\/track\/.*|.*\.bandcamp\.com\/album\/.*|freemusicarchive\.org\/music\/.*|www\.freemusicarchive\.org\/music\/.*|freemusicarchive\.org\/curator\/.*|www\.freemusicarchive\.org\/curator\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/templates\/story\/story\.php.*|huffduffer\.com\/.*\/.*|www\.audioboo\.fm\/boos\/.*|audioboo\.fm\/boos\/.*|boo\.fm\/b.*|www\.xiami\.com\/song\/.*|xiami\.com\/song\/.*|www\.saynow\.com\/playMsg\.html.*|www\.saynow\.com\/playMsg\.html.*|listen\.grooveshark\.com\/s\/.*|radioreddit\.com\/songs.*|www\.radioreddit\.com\/songs.*|radioreddit\.com\/\?q=songs.*|www\.radioreddit\.com\/\?q=songs.*|espn\.go\.com\/video\/clip.*|espn\.go\.com\/.*\/story.*|abcnews\.com\/.*\/video\/.*|abcnews\.com\/video\/playerIndex.*|washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.boston\.com\/video.*|boston\.com\/video.*|www\.facebook\.com\/photo\.php.*|www\.facebook\.com\/video\/video\.php.*|www\.facebook\.com\/v\/.*|cnbc\.com\/id\/.*\?.*video.*|www\.cnbc\.com\/id\/.*\?.*video.*|cnbc\.com\/id\/.*\/play\/1\/video\/.*|www\.cnbc\.com\/id\/.*\/play\/1\/video\/.*|cbsnews\.com\/video\/watch\/.*|www\.google\.com\/buzz\/.*\/.*\/.*|www\.google\.com\/buzz\/.*|www\.google\.com\/profiles\/.*|google\.com\/buzz\/.*\/.*\/.*|google\.com\/buzz\/.*|google\.com\/profiles\/.*|www\.cnn\.com\/video\/.*|edition\.cnn\.com\/video\/.*|money\.cnn\.com\/video\/.*|today\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/ns\/.*|today\.msnbc\.msn\.com\/id\/.*\/ns\/.*|multimedia\.foxsports\.com\/m\/video\/.*\/.*|msn\.foxsports\.com\/video.*|www\.globalpost\.com\/video\/.*|www\.globalpost\.com\/dispatch\/.*|guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|www\.guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|bravotv\.com\/.*\/.*\/videos\/.*|www\.bravotv\.com\/.*\/.*\/videos\/.*|video\.nationalgeographic\.com\/.*\/.*\/.*\.html|dsc\.discovery\.com\/videos\/.*|animal\.discovery\.com\/videos\/.*|health\.discovery\.com\/videos\/.*|investigation\.discovery\.com\/videos\/.*|military\.discovery\.com\/videos\/.*|planetgreen\.discovery\.com\/videos\/.*|science\.discovery\.com\/videos\/.*|tlc\.discovery\.com\/videos\/.*|.*amazon\..*\/gp\/product\/.*|.*amazon\..*\/.*\/dp\/.*|.*amazon\..*\/dp\/.*|.*amazon\..*\/o\/ASIN\/.*|.*amazon\..*\/gp\/offer-listing\/.*|.*amazon\..*\/.*\/ASIN\/.*|.*amazon\..*\/gp\/product\/images\/.*|.*amazon\..*\/gp\/aw\/d\/.*|www\.amzn\.com\/.*|amzn\.com\/.*|www\.shopstyle\.com\/browse.*|www\.shopstyle\.com\/action\/apiVisitRetailer.*|api\.shopstyle\.com\/action\/apiVisitRetailer.*|www\.shopstyle\.com\/action\/viewLook.*|gist\.github\.com\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*|https:\/\/twitter\.com\/.*\/status\/.*|https:\/\/twitter\.com\/.*\/statuses\/.*|https:\/\/www\.twitter\.com\/.*\/status\/.*|https:\/\/www\.twitter\.com\/.*\/statuses\/.*|https:\/\/mobile\.twitter\.com\/.*\/status\/.*|https:\/\/mobile\.twitter\.com\/.*\/statuses\/.*|www\.crunchbase\.com\/.*\/.*|crunchbase\.com\/.*\/.*|www\.slideshare\.net\/.*\/.*|www\.slideshare\.net\/mobile\/.*\/.*|slidesha\.re\/.*|scribd\.com\/doc\/.*|www\.scribd\.com\/doc\/.*|scribd\.com\/mobile\/documents\/.*|www\.scribd\.com\/mobile\/documents\/.*|screenr\.com\/.*|polldaddy\.com\/community\/poll\/.*|polldaddy\.com\/poll\/.*|answers\.polldaddy\.com\/poll\/.*|www\.5min\.com\/Video\/.*|www\.howcast\.com\/videos\/.*|www\.screencast\.com\/.*\/media\/.*|screencast\.com\/.*\/media\/.*|www\.screencast\.com\/t\/.*|screencast\.com\/t\/.*|issuu\.com\/.*\/docs\/.*|www\.kickstarter\.com\/projects\/.*\/.*|www\.scrapblog\.com\/viewer\/viewer\.aspx.*|ping\.fm\/p\/.*|chart\.ly\/symbols\/.*|chart\.ly\/.*|maps\.google\.com\/maps\?.*|maps\.google\.com\/\?.*|maps\.google\.com\/maps\/ms\?.*|.*\.craigslist\.org\/.*\/.*|my\.opera\.com\/.*\/albums\/show\.dml\?id=.*|my\.opera\.com\/.*\/albums\/showpic\.dml\?album=.*&picture=.*|tumblr\.com\/.*|.*\.tumblr\.com\/post\/.*|www\.polleverywhere\.com\/polls\/.*|www\.polleverywhere\.com\/multiple_choice_polls\/.*|www\.polleverywhere\.com\/free_text_polls\/.*|www\.quantcast\.com\/wd:.*|www\.quantcast\.com\/.*|siteanalytics\.compete\.com\/.*|statsheet\.com\/statplot\/charts\/.*\/.*\/.*\/.*|statsheet\.com\/statplot\/charts\/e\/.*|statsheet\.com\/.*\/teams\/.*\/.*|statsheet\.com\/tools\/chartlets\?chart=.*|.*\.status\.net\/notice\/.*|identi\.ca\/notice\/.*|brainbird\.net\/notice\/.*|shitmydadsays\.com\/notice\/.*|www\.studivz\.net\/Profile\/.*|www\.studivz\.net\/l\/.*|www\.studivz\.net\/Groups\/Overview\/.*|www\.studivz\.net\/Gadgets\/Info\/.*|www\.studivz\.net\/Gadgets\/Install\/.*|www\.studivz\.net\/.*|www\.meinvz\.net\/Profile\/.*|www\.meinvz\.net\/l\/.*|www\.meinvz\.net\/Groups\/Overview\/.*|www\.meinvz\.net\/Gadgets\/Info\/.*|www\.meinvz\.net\/Gadgets\/Install\/.*|www\.meinvz\.net\/.*|www\.schuelervz\.net\/Profile\/.*|www\.schuelervz\.net\/l\/.*|www\.schuelervz\.net\/Groups\/Overview\/.*|www\.schuelervz\.net\/Gadgets\/Info\/.*|www\.schuelervz\.net\/Gadgets\/Install\/.*|www\.schuelervz\.net\/.*|myloc\.me\/.*|pastebin\.com\/.*|pastie\.org\/.*|www\.pastie\.org\/.*|redux\.com\/stream\/item\/.*\/.*|redux\.com\/f\/.*\/.*|www\.redux\.com\/stream\/item\/.*\/.*|www\.redux\.com\/f\/.*\/.*|cl\.ly\/.*|cl\.ly\/.*\/content|speakerdeck\.com\/u\/.*\/p\/.*|www\.kiva\.org\/lend\/.*|www\.timetoast\.com\/timelines\/.*|storify\.com\/.*\/.*|.*meetup\.com\/.*|meetu\.ps\/.*|www\.dailymile\.com\/people\/.*\/entries\/.*|.*\.kinomap\.com\/.*|www\.metacdn\.com\/api\/users\/.*\/content\/.*|www\.metacdn\.com\/api\/users\/.*\/media\/.*|prezi\.com\/.*\/.*|.*\.uservoice\.com\/.*\/suggestions\/.*|formspring\.me\/.*|www\.formspring\.me\/.*|formspring\.me\/.*\/q\/.*|www\.formspring\.me\/.*\/q\/.*|twitlonger\.com\/show\/.*|www\.twitlonger\.com\/show\/.*|tl\.gd\/.*|www\.qwiki\.com\/q\/.*|crocodoc\.com\/.*|.*\.crocodoc\.com\/.*|https:\/\/crocodoc\.com\/.*|https:\/\/.*\.crocodoc\.com\/.*)/i);return t&&e._delFilter("iframe"),t},init:function(e){e.loadFilter="embedly",e.store.embedly={}},load:function(t){e.ajax({url:"http://api.embed.ly/1/oembed",dataType:"jsonp",data:"wmode=transparent&url="+t.opener.attr("href"),success:function(i){"error"==i.type?t._error():"photo"==i.type?(t.filters.push("image"),e("<img />").load((function(){t.elts.cont.addClass("nyroModalImg"),t.elts.hidden.addClass("nyroModalImg"),t._setCont(this)})).error((function(){t._error()})).attr("src",i.url)):(t.store.embedly.w=i.width,t.store.embedly.h=i.height,t._setCont("<div>"+i.html+"</div>"))}})},size:function(e){e.store.embedly.w&&!e.sizes.h&&(e.sizes.w=e.store.embedly.w,e.sizes.h=e.store.embedly.h)}}})})),(()=>{var e=Object.create,t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,s=Object.getPrototypeOf,n=Object.prototype.hasOwnProperty,o=(e,i)=>t(e,"name",{value:i,configurable:!0}),a=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),l=(e,i)=>{for(var r in i)t(e,r,{get:i[r],enumerable:!0})},h=(o,a,l)=>(l=null!=o?e(s(o)):{},((e,s,o,a)=>{if(s&&"object"==typeof s||"function"==typeof s)for(let l of r(s))!n.call(e,l)&&l!==o&&t(e,l,{get:()=>s[l],enumerable:!(a=i(s,l))||a.enumerable});return e})(!a&&o&&o.__esModule?l:t(l,"default",{value:o,enumerable:!0}),o)),c=a(((e,t)=>{t.exports=o((function(){var e={},t=e._fns={};function i(e){for(var i=t[e]?t[e]:[],r=e.indexOf(":"),s=-1===r?[e]:[e.substring(0,r),e.substring(r+1)],n=Object.keys(t),o=0,a=n.length;o<a;o++){var l=n[o];if("*"===l&&(i=i.concat(t[l])),2===s.length&&s[0]===l){i=i.concat(t[l]);break}}return i}function r(e,t,i){for(var r=0,s=t.length;r<s&&t[r];r++)t[r].event=e,t[r].apply(t[r],i)}return e.emit=o((function(e,t,s,n,o,a,l){var h=i(e);h.length&&r(e,h,[t,s,n,o,a,l])}),"emit"),e.on=o((function(e,i){t[e]||(t[e]=[]),t[e].push(i)}),"on"),e.once=o((function(t,i){function r(){i.apply(this,arguments),e.off(t,r)}o(r,"one"),this.on(t,r)}),"once"),e.off=o((function(e,t){var i=[];if(e&&t)for(var r=this._fns[e],s=0,n=r?r.length:0;s<n;s++)r[s]!==t&&i.push(r[s]);i.length?this._fns[e]=i:delete this._fns[e]}),"off"),o(i,"getListeners"),o(r,"emitAll"),e}),"createNamespaceEmitter")})),d=a(((e,t)=>{var i="Expected a function",r=NaN,s="[object Symbol]",n=/^\s+|\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,h=/^0o[0-7]+$/i,c=parseInt,d="object"==typeof global&&global&&global.Object===Object&&global,u="object"==typeof self&&self&&self.Object===Object&&self,p=d||u||Function("return this")(),f=Object.prototype.toString,m=Math.max,g=Math.min,y=o((function(){return p.Date.now()}),"now");function v(e,t,r){var s,n,a,l,h,c,d=0,u=!1,p=!1,f=!0;if("function"!=typeof e)throw new TypeError(i);function v(t){var i=s,r=n;return s=n=void 0,d=t,l=e.apply(r,i)}function b(e){return d=e,h=setTimeout(x,t),u?v(e):l}function _(e){var i=t-(e-c);return p?g(i,a-(e-d)):i}function k(e){var i=e-c;return void 0===c||i>=t||i<0||p&&e-d>=a}function x(){var e=y();if(k(e))return T(e);h=setTimeout(x,_(e))}function T(e){return h=void 0,f&&s?v(e):(s=n=void 0,l)}function j(){void 0!==h&&clearTimeout(h),d=0,s=c=n=h=void 0}function C(){return void 0===h?l:T(y())}function E(){var e=y(),i=k(e);if(s=arguments,n=this,c=e,i){if(void 0===h)return b(c);if(p)return h=setTimeout(x,t),v(c)}return void 0===h&&(h=setTimeout(x,t)),l}return t=S(t)||0,w(r)&&(u=!!r.leading,a=(p="maxWait"in r)?m(S(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f),o(v,"invokeFunc"),o(b,"leadingEdge"),o(_,"remainingWait"),o(k,"shouldInvoke"),o(x,"timerExpired"),o(T,"trailingEdge"),o(j,"cancel"),o(C,"flush"),o(E,"debounced"),E.cancel=j,E.flush=C,E}function b(e,t,r){var s=!0,n=!0;if("function"!=typeof e)throw new TypeError(i);return w(r)&&(s="leading"in r?!!r.leading:s,n="trailing"in r?!!r.trailing:n),v(e,t,{leading:s,maxWait:t,trailing:n})}function w(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function _(e){return!!e&&"object"==typeof e}function k(e){return"symbol"==typeof e||_(e)&&f.call(e)==s}function S(e){if("number"==typeof e)return e;if(k(e))return r;if(w(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=w(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var i=l.test(e);return i||h.test(e)?c(e.slice(2),i?2:8):a.test(e)?r:+e}o(v,"debounce"),o(b,"throttle"),o(w,"isObject"),o(_,"isObjectLike"),o(k,"isSymbol"),o(S,"toNumber"),t.exports=b})),u=a(((e,t)=>{t.exports=o((function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);let t=e<0,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";let r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),i.length-1);e=Number(e/Math.pow(1024,r));let s=i[r];return e>=10||e%1==0?`${(t?"-":"")+e.toFixed(0)} ${s}`:`${(t?"-":"")+e.toFixed(1)} ${s}`}),"prettierBytes")})),p=a(((e,t)=>{"use strict";function i(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}o(i,"WildcardMatcher"),i.prototype.match=function(e){var t,i,r=!0,s=this.parts,n=s.length;if("string"==typeof e||e instanceof String)if(this.hasWild||this.text==e){for(i=(e||"").split(this.separator),t=0;r&&t<n;t++)"*"!==s[t]&&(r=t<i.length&&s[t]===i[t]);r=r&&i}else r=!1;else if("function"==typeof e.splice)for(r=[],t=e.length;t--;)this.match(e[t])&&(r[r.length]=e[t]);else if("object"==typeof e)for(var o in r={},e)this.match(o)&&(r[o]=e[o]);return r},t.exports=function(e,t,r){var s=new i(e,r||/[\/\.]/);return typeof t<"u"?s.match(t):s}})),f=a(((e,t)=>{var i=p(),r=/[\/\+\.]/;t.exports=function(e,t){function s(t){var s=i(t,e,r);return s&&s.length>=2}return o(s,"test"),t?s(t.split(";")[0]):s}})),m=a(((e,t)=>{!function(){"use strict";var e={}.hasOwnProperty;function i(){for(var t=[],r=0;r<arguments.length;r++){var s=arguments[r];if(s){var n=typeof s;if("string"===n||"number"===n)t.push(s);else if(Array.isArray(s)){if(s.length){var o=i.apply(null,s);o&&t.push(o)}}else if("object"===n)if(s.toString===Object.prototype.toString)for(var a in s)e.call(s,a)&&s[a]&&t.push(a);else t.push(s.toString())}}return t.join(" ")}o(i,"classNames"),typeof t<"u"&&t.exports?(i.default=i,t.exports=i):"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("classnames",[],(function(){return i})):window.classNames=i}()})),g=a(((e,t)=>{var i=NaN,r="[object Symbol]",s=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,h=parseInt,c="object"==typeof global&&global&&global.Object===Object&&global,d="object"==typeof self&&self&&self.Object===Object&&self,u=c||d||Function("return this")(),p=Object.prototype.toString,f=Math.max,m=Math.min,g=o((function(){return u.Date.now()}),"now");function y(e,t,i){var r,s,n,a,l,h,c=0,d=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var i=r,n=s;return r=s=void 0,c=t,a=e.apply(n,i)}function b(e){return c=e,l=setTimeout(S,t),d?y(e):a}function w(e){var i=t-(e-h);return u?m(i,n-(e-c)):i}function k(e){var i=e-h;return void 0===h||i>=t||i<0||u&&e-c>=n}function S(){var e=g();if(k(e))return x(e);l=setTimeout(S,w(e))}function x(e){return l=void 0,p&&r?y(e):(r=s=void 0,a)}function T(){void 0!==l&&clearTimeout(l),c=0,r=h=s=l=void 0}function j(){return void 0===l?a:x(g())}function C(){var e=g(),i=k(e);if(r=arguments,s=this,h=e,i){if(void 0===l)return b(h);if(u)return l=setTimeout(S,t),y(h)}return void 0===l&&(l=setTimeout(S,t)),a}return t=_(t)||0,v(i)&&(d=!!i.leading,n=(u="maxWait"in i)?f(_(i.maxWait)||0,t):n,p="trailing"in i?!!i.trailing:p),o(y,"invokeFunc"),o(b,"leadingEdge"),o(w,"remainingWait"),o(k,"shouldInvoke"),o(S,"timerExpired"),o(x,"trailingEdge"),o(T,"cancel"),o(j,"flush"),o(C,"debounced"),C.cancel=T,C.flush=j,C}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function b(e){return!!e&&"object"==typeof e}function w(e){return"symbol"==typeof e||b(e)&&p.call(e)==r}function _(e){if("number"==typeof e)return e;if(w(e))return i;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(s,"");var r=a.test(e);return r||l.test(e)?h(e.slice(2),r?2:8):n.test(e)?i:+e}o(y,"debounce"),o(v,"isObject"),o(b,"isObjectLike"),o(w,"isSymbol"),o(_,"toNumber"),t.exports=y})),y=a(((e,t)=>{t.exports=o((function(e,t){if(e===t)return!0;for(var i in e)if(!(i in t))return!1;for(var i in t)if(e[i]!==t[i])return!1;return!0}),"isShallowEqual")})),v=a(((e,t)=>{t.exports=o((function(e){if("number"!=typeof e||isNaN(e))throw new TypeError("Expected a number, got "+typeof e);var t=e<0,i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var r=Math.min(Math.floor(Math.log(e)/Math.log(1024)),i.length-1);e=Number(e/Math.pow(1024,r));var s=i[r];return e>=10||e%1==0?(t?"-":"")+e.toFixed(0)+" "+s:(t?"-":"")+e.toFixed(1)+" "+s}),"prettierBytes")})),b=a(((e,t)=>{var i,r;i=e,r=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?o((function(e){return typeof e}),"_typeof"):o((function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}),"_typeof"))(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function l(e){return h(e)||c(e)||d(e)||p()}function h(e){if(Array.isArray(e))return u(e)}function c(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function d(e,t){if(e){if("string"==typeof e)return u(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return u(e,t)}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}o(e,"_typeof"),o(t,"_classCallCheck"),o(i,"_defineProperties"),o(r,"_createClass"),o(s,"_defineProperty"),o(n,"ownKeys"),o(a,"_objectSpread2"),o(l,"_toConsumableArray"),o(h,"_arrayWithoutHoles"),o(c,"_iterableToArray"),o(d,"_unsupportedIterableToArray"),o(u,"_arrayLikeToArray"),o(p,"_nonIterableSpread");var f=typeof window<"u"&&typeof window.document<"u",m=f?window:{},g=!(!f||!m.document.documentElement)&&"ontouchstart"in m.document.documentElement,y=!!f&&"PointerEvent"in m,v="cropper",b="all",w="crop",_="move",k="zoom",S="e",x="w",T="s",j="n",C="ne",E="nw",O="se",P="sw",F="".concat(v,"-crop"),M="".concat(v,"-disabled"),D="".concat(v,"-hidden"),A="".concat(v,"-hide"),R="".concat(v,"-invisible"),L="".concat(v,"-modal"),I="".concat(v,"-move"),N="".concat(v,"Action"),B="".concat(v,"Preview"),z="crop",U="move",H="none",W="crop",V="cropend",q="cropmove",G="cropstart",Y="dblclick",$=y?"pointerdown":g?"touchstart":"mousedown",K=y?"pointermove":g?"touchmove":"mousemove",X=y?"pointerup pointercancel":g?"touchend touchcancel":"mouseup",Z="ready",J="resize",Q="wheel",ee="zoom",te="image/jpeg",ie=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,re=/^data:/,se=/^data:image\/jpeg;base64,/,ne=/^img|canvas$/i,oe={viewMode:0,dragMode:z,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ae=Number.isNaN||m.isNaN;function le(e){return"number"==typeof e&&!ae(e)}o(le,"isNumber");var he=o((function(e){return e>0&&e<1/0}),"isPositiveNumber");function ce(e){return typeof e>"u"}function de(t){return"object"===e(t)&&null!==t}o(ce,"isUndefined"),o(de,"isObject");var ue=Object.prototype.hasOwnProperty;function pe(e){if(!de(e))return!1;try{var t=e.constructor,i=t.prototype;return t&&i&&ue.call(i,"isPrototypeOf")}catch{return!1}}function fe(e){return"function"==typeof e}o(pe,"isPlainObject"),o(fe,"isFunction");var me=Array.prototype.slice;function ge(e){return Array.from?Array.from(e):me.call(e)}function ye(e,t){return e&&fe(t)&&(Array.isArray(e)||le(e.length)?ge(e).forEach((function(i,r){t.call(e,i,r,e)})):de(e)&&Object.keys(e).forEach((function(i){t.call(e,e[i],i,e)}))),e}o(ge,"toArray"),o(ye,"forEach");var ve=Object.assign||o((function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return de(e)&&i.length>0&&i.forEach((function(t){de(t)&&Object.keys(t).forEach((function(i){e[i]=t[i]}))})),e}),"assign"),be=/\.\d*(?:0|9){12}\d*$/;function we(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return be.test(e)?Math.round(e*t)/t:e}o(we,"normalizeDecimalNumber");var _e=/^width|height|left|top|marginLeft|marginTop$/;function ke(e,t){var i=e.style;ye(t,(function(e,t){_e.test(t)&&le(e)&&(e="".concat(e,"px")),i[t]=e}))}function Se(e,t){return e.classList?e.classList.contains(t):e.className.indexOf(t)>-1}function xe(e,t){if(t){if(le(e.length))return void ye(e,(function(e){xe(e,t)}));if(e.classList)return void e.classList.add(t);var i=e.className.trim();i?i.indexOf(t)<0&&(e.className="".concat(i," ").concat(t)):e.className=t}}function Te(e,t){if(t){if(le(e.length))return void ye(e,(function(e){Te(e,t)}));if(e.classList)return void e.classList.remove(t);e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,""))}}function je(e,t,i){if(t){if(le(e.length))return void ye(e,(function(e){je(e,t,i)}));i?xe(e,t):Te(e,t)}}o(ke,"setStyle"),o(Se,"hasClass"),o(xe,"addClass"),o(Te,"removeClass"),o(je,"toggleClass");var Ce=/([a-z\d])([A-Z])/g;function Ee(e){return e.replace(Ce,"$1-$2").toLowerCase()}function Oe(e,t){return de(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(Ee(t)))}function Pe(e,t,i){de(i)?e[t]=i:e.dataset?e.dataset[t]=i:e.setAttribute("data-".concat(Ee(t)),i)}function Fe(e,t){if(de(e[t]))try{delete e[t]}catch{e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch{e.dataset[t]=void 0}else e.removeAttribute("data-".concat(Ee(t)))}o(Ee,"toParamCase"),o(Oe,"getData"),o(Pe,"setData"),o(Fe,"removeData");var Me=/\s\s*/,De=function(){var e=!1;if(f){var t=!1,i=o((function(){}),"listener"),r=Object.defineProperty({},"once",{get:o((function(){return e=!0,t}),"get"),set:o((function(e){t=e}),"set")});m.addEventListener("test",i,r),m.removeEventListener("test",i,r)}return e}();function Ae(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i;t.trim().split(Me).forEach((function(t){if(!De){var n=e.listeners;n&&n[t]&&n[t][i]&&(s=n[t][i],delete n[t][i],0===Object.keys(n[t]).length&&delete n[t],0===Object.keys(n).length&&delete e.listeners)}e.removeEventListener(t,s,r)}))}function Re(e,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i;t.trim().split(Me).forEach((function(t){if(r.once&&!De){var n=e.listeners,a=void 0===n?{}:n;s=o((function(){delete a[t][i],e.removeEventListener(t,s,r);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];i.apply(e,o)}),"handler"),a[t]||(a[t]={}),a[t][i]&&e.removeEventListener(t,a[t][i],r),a[t][i]=s,e.listeners=a}e.addEventListener(t,s,r)}))}function Le(e,t,i){var r;return fe(Event)&&fe(CustomEvent)?r=new CustomEvent(t,{detail:i,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,i),e.dispatchEvent(r)}function Ie(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}o(Ae,"removeListener"),o(Re,"addListener"),o(Le,"dispatchEvent"),o(Ie,"getOffset");var Ne=m.location,Be=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function ze(e){var t=e.match(Be);return null!==t&&(t[1]!==Ne.protocol||t[2]!==Ne.hostname||t[3]!==Ne.port)}function Ue(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function He(e){var t=e.rotate,i=e.scaleX,r=e.scaleY,s=e.translateX,n=e.translateY,o=[];le(s)&&0!==s&&o.push("translateX(".concat(s,"px)")),le(n)&&0!==n&&o.push("translateY(".concat(n,"px)")),le(t)&&0!==t&&o.push("rotate(".concat(t,"deg)")),le(i)&&1!==i&&o.push("scaleX(".concat(i,")")),le(r)&&1!==r&&o.push("scaleY(".concat(r,")"));var a=o.length?o.join(" "):"none";return{WebkitTransform:a,msTransform:a,transform:a}}function We(e){var t=a({},e),i=[];return ye(e,(function(e,r){delete t[r],ye(t,(function(t){var r=Math.abs(e.startX-t.startX),s=Math.abs(e.startY-t.startY),n=Math.abs(e.endX-t.endX),o=Math.abs(e.endY-t.endY),a=Math.sqrt(r*r+s*s),l=(Math.sqrt(n*n+o*o)-a)/a;i.push(l)}))})),i.sort((function(e,t){return Math.abs(e)<Math.abs(t)})),i[0]}function Ve(e,t){var i=e.pageX,r=e.pageY,s={endX:i,endY:r};return t?s:a({startX:i,startY:r},s)}function qe(e){var t=0,i=0,r=0;return ye(e,(function(e){var s=e.startX,n=e.startY;t+=s,i+=n,r+=1})),{pageX:t/=r,pageY:i/=r}}function Ge(e){var t=e.aspectRatio,i=e.height,r=e.width,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",n=he(r),o=he(i);if(n&&o){var a=i*t;"contain"===s&&a>r||"cover"===s&&a<r?i=r/t:r=i*t}else n?i=r/t:o&&(r=i*t);return{width:r,height:i}}function Ye(e){var t=e.width,i=e.height,r=e.degree;if(90==(r=Math.abs(r)%180))return{width:i,height:t};var s=r%90*Math.PI/180,n=Math.sin(s),o=Math.cos(s),a=t*o+i*n,l=t*n+i*o;return r>90?{width:l,height:a}:{width:a,height:l}}function $e(e,t,i,r){var s=t.aspectRatio,n=t.naturalWidth,o=t.naturalHeight,a=t.rotate,h=void 0===a?0:a,c=t.scaleX,d=void 0===c?1:c,u=t.scaleY,p=void 0===u?1:u,f=i.aspectRatio,m=i.naturalWidth,g=i.naturalHeight,y=r.fillColor,v=void 0===y?"transparent":y,b=r.imageSmoothingEnabled,w=void 0===b||b,_=r.imageSmoothingQuality,k=void 0===_?"low":_,S=r.maxWidth,x=void 0===S?1/0:S,T=r.maxHeight,j=void 0===T?1/0:T,C=r.minWidth,E=void 0===C?0:C,O=r.minHeight,P=void 0===O?0:O,F=document.createElement("canvas"),M=F.getContext("2d"),D=Ge({aspectRatio:f,width:x,height:j}),A=Ge({aspectRatio:f,width:E,height:P},"cover"),R=Math.min(D.width,Math.max(A.width,m)),L=Math.min(D.height,Math.max(A.height,g)),I=Ge({aspectRatio:s,width:x,height:j}),N=Ge({aspectRatio:s,width:E,height:P},"cover"),B=Math.min(I.width,Math.max(N.width,n)),z=Math.min(I.height,Math.max(N.height,o)),U=[-B/2,-z/2,B,z];return F.width=we(R),F.height=we(L),M.fillStyle=v,M.fillRect(0,0,R,L),M.save(),M.translate(R/2,L/2),M.rotate(h*Math.PI/180),M.scale(d,p),M.imageSmoothingEnabled=w,M.imageSmoothingQuality=k,M.drawImage.apply(M,[e].concat(l(U.map((function(e){return Math.floor(we(e))}))))),M.restore(),F}o(ze,"isCrossOriginURL"),o(Ue,"addTimestamp"),o(He,"getTransforms"),o(We,"getMaxZoomRatio"),o(Ve,"getPointer"),o(qe,"getPointersCenter"),o(Ge,"getAdjustedSizes"),o(Ye,"getRotatedSizes"),o($e,"getSourceCanvas");var Ke=String.fromCharCode;function Xe(e,t,i){var r="";i+=t;for(var s=t;s<i;s+=1)r+=Ke(e.getUint8(s));return r}o(Xe,"getStringFromCharCode");var Ze=/^data:.*,/;function Je(e){var t=e.replace(Ze,""),i=atob(t),r=new ArrayBuffer(i.length),s=new Uint8Array(r);return ye(s,(function(e,t){s[t]=i.charCodeAt(t)})),r}function Qe(e,t){for(var i=[],r=new Uint8Array(e);r.length>0;)i.push(Ke.apply(null,ge(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(i.join("")))}function et(e){var t,i=new DataView(e);try{var r,s,n;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,a=2;a+1<o;){if(255===i.getUint8(a)&&225===i.getUint8(a+1)){s=a;break}a+=1}if(s){var l=s+10;if("Exif"===Xe(i,s+4,4)){var h=i.getUint16(l);if(((r=18761===h)||19789===h)&&42===i.getUint16(l+2,r)){var c=i.getUint32(l+4,r);c>=8&&(n=l+c)}}}if(n){var d,u,p=i.getUint16(n,r);for(u=0;u<p;u+=1)if(d=n+12*u+2,274===i.getUint16(d,r)){d+=8,t=i.getUint16(d,r),i.setUint16(d,1,r);break}}}catch{t=1}return t}function tt(e){var t=0,i=1,r=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:r}}o(Je,"dataURLToArrayBuffer"),o(Qe,"arrayBufferToDataURL"),o(et,"resetAndGetOrientation"),o(tt,"parseOrientation");var it={render:o((function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()}),"render"),initContainer:o((function(){var e=this.element,t=this.options,i=this.container,r=this.cropper;xe(r,D),Te(e,D);var s={width:Math.max(i.offsetWidth,Number(t.minContainerWidth)||200),height:Math.max(i.offsetHeight,Number(t.minContainerHeight)||100)};this.containerData=s,ke(r,{width:s.width,height:s.height}),xe(e,D),Te(r,D)}),"initContainer"),initCanvas:o((function(){var e=this.containerData,t=this.imageData,i=this.options.viewMode,r=Math.abs(t.rotate)%180==90,s=r?t.naturalHeight:t.naturalWidth,n=r?t.naturalWidth:t.naturalHeight,o=s/n,a=e.width,l=e.height;e.height*o>e.width?3===i?a=e.height*o:l=e.width/o:3===i?l=e.width/o:a=e.height*o;var h={aspectRatio:o,naturalWidth:s,naturalHeight:n,width:a,height:l};h.left=(e.width-a)/2,h.top=(e.height-l)/2,h.oldLeft=h.left,h.oldTop=h.top,this.canvasData=h,this.limited=1===i||2===i,this.limitCanvas(!0,!0),this.initialImageData=ve({},t),this.initialCanvasData=ve({},h)}),"initCanvas"),limitCanvas:o((function(e,t){var i=this.options,r=this.containerData,s=this.canvasData,n=this.cropBoxData,o=i.viewMode,a=s.aspectRatio,l=this.cropped&&n;if(e){var h=Number(i.minCanvasWidth)||0,c=Number(i.minCanvasHeight)||0;o>1?(h=Math.max(h,r.width),c=Math.max(c,r.height),3===o&&(c*a>h?h=c*a:c=h/a)):o>0&&(h?h=Math.max(h,l?n.width:0):c?c=Math.max(c,l?n.height:0):l&&(h=n.width,(c=n.height)*a>h?h=c*a:c=h/a));var d=Ge({aspectRatio:a,width:h,height:c});h=d.width,c=d.height,s.minWidth=h,s.minHeight=c,s.maxWidth=1/0,s.maxHeight=1/0}if(t)if(o>(l?0:1)){var u=r.width-s.width,p=r.height-s.height;s.minLeft=Math.min(0,u),s.minTop=Math.min(0,p),s.maxLeft=Math.max(0,u),s.maxTop=Math.max(0,p),l&&this.limited&&(s.minLeft=Math.min(n.left,n.left+(n.width-s.width)),s.minTop=Math.min(n.top,n.top+(n.height-s.height)),s.maxLeft=n.left,s.maxTop=n.top,2===o&&(s.width>=r.width&&(s.minLeft=Math.min(0,u),s.maxLeft=Math.max(0,u)),s.height>=r.height&&(s.minTop=Math.min(0,p),s.maxTop=Math.max(0,p))))}else s.minLeft=-s.width,s.minTop=-s.height,s.maxLeft=r.width,s.maxTop=r.height}),"limitCanvas"),renderCanvas:o((function(e,t){var i=this.canvasData,r=this.imageData;if(t){var s=Ye({width:r.naturalWidth*Math.abs(r.scaleX||1),height:r.naturalHeight*Math.abs(r.scaleY||1),degree:r.rotate||0}),n=s.width,o=s.height,a=i.width*(n/i.naturalWidth),l=i.height*(o/i.naturalHeight);i.left-=(a-i.width)/2,i.top-=(l-i.height)/2,i.width=a,i.height=l,i.aspectRatio=n/o,i.naturalWidth=n,i.naturalHeight=o,this.limitCanvas(!0,!1)}(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCanvas(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,ke(this.canvas,ve({width:i.width,height:i.height},He({translateX:i.left,translateY:i.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)}),"renderCanvas"),renderImage:o((function(e){var t=this.canvasData,i=this.imageData,r=i.naturalWidth*(t.width/t.naturalWidth),s=i.naturalHeight*(t.height/t.naturalHeight);ve(i,{width:r,height:s,left:(t.width-r)/2,top:(t.height-s)/2}),ke(this.image,ve({width:i.width,height:i.height},He(ve({translateX:i.left,translateY:i.top},i)))),e&&this.output()}),"renderImage"),initCropBox:o((function(){var e=this.options,t=this.canvasData,i=e.aspectRatio||e.initialAspectRatio,r=Number(e.autoCropArea)||.8,s={width:t.width,height:t.height};i&&(t.height*i>t.width?s.height=s.width/i:s.width=s.height*i),this.cropBoxData=s,this.limitCropBox(!0,!0),s.width=Math.min(Math.max(s.width,s.minWidth),s.maxWidth),s.height=Math.min(Math.max(s.height,s.minHeight),s.maxHeight),s.width=Math.max(s.minWidth,s.width*r),s.height=Math.max(s.minHeight,s.height*r),s.left=t.left+(t.width-s.width)/2,s.top=t.top+(t.height-s.height)/2,s.oldLeft=s.left,s.oldTop=s.top,this.initialCropBoxData=ve({},s)}),"initCropBox"),limitCropBox:o((function(e,t){var i=this.options,r=this.containerData,s=this.canvasData,n=this.cropBoxData,o=this.limited,a=i.aspectRatio;if(e){var l=Number(i.minCropBoxWidth)||0,h=Number(i.minCropBoxHeight)||0,c=o?Math.min(r.width,s.width,s.width+s.left,r.width-s.left):r.width,d=o?Math.min(r.height,s.height,s.height+s.top,r.height-s.top):r.height;l=Math.min(l,r.width),h=Math.min(h,r.height),a&&(l&&h?h*a>l?h=l/a:l=h*a:l?h=l/a:h&&(l=h*a),d*a>c?d=c/a:c=d*a),n.minWidth=Math.min(l,c),n.minHeight=Math.min(h,d),n.maxWidth=c,n.maxHeight=d}t&&(o?(n.minLeft=Math.max(0,s.left),n.minTop=Math.max(0,s.top),n.maxLeft=Math.min(r.width,s.left+s.width)-n.width,n.maxTop=Math.min(r.height,s.top+s.height)-n.height):(n.minLeft=0,n.minTop=0,n.maxLeft=r.width-n.width,n.maxTop=r.height-n.height))}),"limitCropBox"),renderCropBox:o((function(){var e=this.options,t=this.containerData,i=this.cropBoxData;(i.width>i.maxWidth||i.width<i.minWidth)&&(i.left=i.oldLeft),(i.height>i.maxHeight||i.height<i.minHeight)&&(i.top=i.oldTop),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),this.limitCropBox(!1,!0),i.left=Math.min(Math.max(i.left,i.minLeft),i.maxLeft),i.top=Math.min(Math.max(i.top,i.minTop),i.maxTop),i.oldLeft=i.left,i.oldTop=i.top,e.movable&&e.cropBoxMovable&&Pe(this.face,N,i.width>=t.width&&i.height>=t.height?_:b),ke(this.cropBox,ve({width:i.width,height:i.height},He({translateX:i.left,translateY:i.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()}),"renderCropBox"),output:o((function(){this.preview(),Le(this.element,W,this.getData())}),"output")},rt={initPreview:o((function(){var e=this.element,t=this.crossOrigin,i=this.options.preview,r=t?this.crossOriginUrl:this.url,s=e.alt||"The image to preview",n=document.createElement("img");if(t&&(n.crossOrigin=t),n.src=r,n.alt=s,this.viewBox.appendChild(n),this.viewBoxImage=n,i){var o=i;"string"==typeof i?o=e.ownerDocument.querySelectorAll(i):i.querySelector&&(o=[i]),this.previews=o,ye(o,(function(e){var i=document.createElement("img");Pe(e,B,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(i.crossOrigin=t),i.src=r,i.alt=s,i.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(i)}))}}),"initPreview"),resetPreview:o((function(){ye(this.previews,(function(e){var t=Oe(e,B);ke(e,{width:t.width,height:t.height}),e.innerHTML=t.html,Fe(e,B)}))}),"resetPreview"),preview:o((function(){var e=this.imageData,t=this.canvasData,i=this.cropBoxData,r=i.width,s=i.height,n=e.width,o=e.height,a=i.left-t.left-e.left,l=i.top-t.top-e.top;!this.cropped||this.disabled||(ke(this.viewBoxImage,ve({width:n,height:o},He(ve({translateX:-a,translateY:-l},e)))),ye(this.previews,(function(t){var i=Oe(t,B),h=i.width,c=i.height,d=h,u=c,p=1;r&&(u=s*(p=h/r)),s&&u>c&&(d=r*(p=c/s),u=c),ke(t,{width:d,height:u}),ke(t.getElementsByTagName("img")[0],ve({width:n*p,height:o*p},He(ve({translateX:-a*p,translateY:-l*p},e))))})))}),"preview")},st={bind:o((function(){var e=this.element,t=this.options,i=this.cropper;fe(t.cropstart)&&Re(e,G,t.cropstart),fe(t.cropmove)&&Re(e,q,t.cropmove),fe(t.cropend)&&Re(e,V,t.cropend),fe(t.crop)&&Re(e,W,t.crop),fe(t.zoom)&&Re(e,ee,t.zoom),Re(i,$,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&Re(i,Q,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Re(i,Y,this.onDblclick=this.dblclick.bind(this)),Re(e.ownerDocument,K,this.onCropMove=this.cropMove.bind(this)),Re(e.ownerDocument,X,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&Re(window,J,this.onResize=this.resize.bind(this))}),"bind"),unbind:o((function(){var e=this.element,t=this.options,i=this.cropper;fe(t.cropstart)&&Ae(e,G,t.cropstart),fe(t.cropmove)&&Ae(e,q,t.cropmove),fe(t.cropend)&&Ae(e,V,t.cropend),fe(t.crop)&&Ae(e,W,t.crop),fe(t.zoom)&&Ae(e,ee,t.zoom),Ae(i,$,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Ae(i,Q,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ae(i,Y,this.onDblclick),Ae(e.ownerDocument,K,this.onCropMove),Ae(e.ownerDocument,X,this.onCropEnd),t.responsive&&Ae(window,J,this.onResize)}),"unbind")},nt={resize:o((function(){if(!this.disabled){var e,t,i=this.options,r=this.container,s=this.containerData,n=r.offsetWidth/s.width;1===n&&r.offsetHeight===s.height||(i.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),i.restore&&(this.setCanvasData(ye(e,(function(t,i){e[i]=t*n}))),this.setCropBoxData(ye(t,(function(e,i){t[i]=e*n})))))}}),"resize"),dblclick:o((function(){this.disabled||this.options.dragMode===H||this.setDragMode(Se(this.dragBox,F)?U:z)}),"dblclick"),wheel:o((function(e){var t=this,i=Number(this.options.wheelZoomRatio)||.1,r=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?r=e.deltaY>0?1:-1:e.wheelDelta?r=-e.wheelDelta/120:e.detail&&(r=e.detail>0?1:-1),this.zoom(-r*i,e)))}),"wheel"),cropStart:o((function(e){var t=e.buttons,i=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(le(t)&&1!==t||le(i)&&0!==i||e.ctrlKey))){var r,s=this.options,n=this.pointers;e.changedTouches?ye(e.changedTouches,(function(e){n[e.identifier]=Ve(e)})):n[e.pointerId||0]=Ve(e),r=Object.keys(n).length>1&&s.zoomable&&s.zoomOnTouch?k:Oe(e.target,N),ie.test(r)&&!1!==Le(this.element,G,{originalEvent:e,action:r})&&(e.preventDefault(),this.action=r,this.cropping=!1,r===w&&(this.cropping=!0,xe(this.dragBox,L)))}}),"cropStart"),cropMove:o((function(e){var t=this.action;if(!this.disabled&&t){var i=this.pointers;e.preventDefault(),!1!==Le(this.element,q,{originalEvent:e,action:t})&&(e.changedTouches?ye(e.changedTouches,(function(e){ve(i[e.identifier]||{},Ve(e,!0))})):ve(i[e.pointerId||0]||{},Ve(e,!0)),this.change(e))}}),"cropMove"),cropEnd:o((function(e){if(!this.disabled){var t=this.action,i=this.pointers;e.changedTouches?ye(e.changedTouches,(function(e){delete i[e.identifier]})):delete i[e.pointerId||0],t&&(e.preventDefault(),Object.keys(i).length||(this.action=""),this.cropping&&(this.cropping=!1,je(this.dragBox,L,this.cropped&&this.options.modal)),Le(this.element,V,{originalEvent:e,action:t}))}}),"cropEnd")},ot={change:o((function(e){var t,i=this.options,r=this.canvasData,s=this.containerData,n=this.cropBoxData,a=this.pointers,l=this.action,h=i.aspectRatio,c=n.left,d=n.top,u=n.width,p=n.height,f=c+u,m=d+p,g=0,y=0,v=s.width,F=s.height,M=!0;!h&&e.shiftKey&&(h=u&&p?u/p:1),this.limited&&(g=n.minLeft,y=n.minTop,v=g+Math.min(s.width,r.width,r.left+r.width),F=y+Math.min(s.height,r.height,r.top+r.height));var A=a[Object.keys(a)[0]],R={x:A.endX-A.startX,y:A.endY-A.startY},L=o((function(e){switch(e){case S:f+R.x>v&&(R.x=v-f);break;case x:c+R.x<g&&(R.x=g-c);break;case j:d+R.y<y&&(R.y=y-d);break;case T:m+R.y>F&&(R.y=F-m)}}),"check");switch(l){case b:c+=R.x,d+=R.y;break;case S:if(R.x>=0&&(f>=v||h&&(d<=y||m>=F))){M=!1;break}L(S),(u+=R.x)<0&&(l=x,c-=u=-u),h&&(p=u/h,d+=(n.height-p)/2);break;case j:if(R.y<=0&&(d<=y||h&&(c<=g||f>=v))){M=!1;break}L(j),p-=R.y,d+=R.y,p<0&&(l=T,d-=p=-p),h&&(u=p*h,c+=(n.width-u)/2);break;case x:if(R.x<=0&&(c<=g||h&&(d<=y||m>=F))){M=!1;break}L(x),u-=R.x,c+=R.x,u<0&&(l=S,c-=u=-u),h&&(p=u/h,d+=(n.height-p)/2);break;case T:if(R.y>=0&&(m>=F||h&&(c<=g||f>=v))){M=!1;break}L(T),(p+=R.y)<0&&(l=j,d-=p=-p),h&&(u=p*h,c+=(n.width-u)/2);break;case C:if(h){if(R.y<=0&&(d<=y||f>=v)){M=!1;break}L(j),p-=R.y,d+=R.y,u=p*h}else L(j),L(S),R.x>=0?f<v?u+=R.x:R.y<=0&&d<=y&&(M=!1):u+=R.x,R.y<=0?d>y&&(p-=R.y,d+=R.y):(p-=R.y,d+=R.y);u<0&&p<0?(l=P,d-=p=-p,c-=u=-u):u<0?(l=E,c-=u=-u):p<0&&(l=O,d-=p=-p);break;case E:if(h){if(R.y<=0&&(d<=y||c<=g)){M=!1;break}L(j),p-=R.y,d+=R.y,u=p*h,c+=n.width-u}else L(j),L(x),R.x<=0?c>g?(u-=R.x,c+=R.x):R.y<=0&&d<=y&&(M=!1):(u-=R.x,c+=R.x),R.y<=0?d>y&&(p-=R.y,d+=R.y):(p-=R.y,d+=R.y);u<0&&p<0?(l=O,d-=p=-p,c-=u=-u):u<0?(l=C,c-=u=-u):p<0&&(l=P,d-=p=-p);break;case P:if(h){if(R.x<=0&&(c<=g||m>=F)){M=!1;break}L(x),u-=R.x,c+=R.x,p=u/h}else L(T),L(x),R.x<=0?c>g?(u-=R.x,c+=R.x):R.y>=0&&m>=F&&(M=!1):(u-=R.x,c+=R.x),R.y>=0?m<F&&(p+=R.y):p+=R.y;u<0&&p<0?(l=C,d-=p=-p,c-=u=-u):u<0?(l=O,c-=u=-u):p<0&&(l=E,d-=p=-p);break;case O:if(h){if(R.x>=0&&(f>=v||m>=F)){M=!1;break}L(S),p=(u+=R.x)/h}else L(T),L(S),R.x>=0?f<v?u+=R.x:R.y>=0&&m>=F&&(M=!1):u+=R.x,R.y>=0?m<F&&(p+=R.y):p+=R.y;u<0&&p<0?(l=E,d-=p=-p,c-=u=-u):u<0?(l=P,c-=u=-u):p<0&&(l=C,d-=p=-p);break;case _:this.move(R.x,R.y),M=!1;break;case k:this.zoom(We(a),e),M=!1;break;case w:if(!R.x||!R.y){M=!1;break}t=Ie(this.cropper),c=A.startX-t.left,d=A.startY-t.top,u=n.minWidth,p=n.minHeight,R.x>0?l=R.y>0?O:C:R.x<0&&(c-=u,l=R.y>0?P:E),R.y<0&&(d-=p),this.cropped||(Te(this.cropBox,D),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}M&&(n.width=u,n.height=p,n.left=c,n.top=d,this.action=l,this.renderCropBox()),ye(a,(function(e){e.startX=e.endX,e.startY=e.endY}))}),"change")},at={crop:o((function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&xe(this.dragBox,L),Te(this.cropBox,D),this.setCropBoxData(this.initialCropBoxData)),this}),"crop"),reset:o((function(){return this.ready&&!this.disabled&&(this.imageData=ve({},this.initialImageData),this.canvasData=ve({},this.initialCanvasData),this.cropBoxData=ve({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this}),"reset"),clear:o((function(){return this.cropped&&!this.disabled&&(ve(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Te(this.dragBox,L),xe(this.cropBox,D)),this}),"clear"),replace:o((function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,ye(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this}),"replace"),enable:o((function(){return this.ready&&this.disabled&&(this.disabled=!1,Te(this.cropper,M)),this}),"enable"),disable:o((function(){return this.ready&&!this.disabled&&(this.disabled=!0,xe(this.cropper,M)),this}),"disable"),destroy:o((function(){var e=this.element;return e[v]?(e[v]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this}),"destroy"),move:o((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,r=i.left,s=i.top;return this.moveTo(ce(e)?e:r+Number(e),ce(t)?t:s+Number(t))}),"move"),moveTo:o((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.canvasData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(le(e)&&(i.left=e,r=!0),le(t)&&(i.top=t,r=!0),r&&this.renderCanvas(!0)),this}),"moveTo"),zoom:o((function(e,t){var i=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(i.width*e/i.naturalWidth,null,t)}),"zoom"),zoomTo:o((function(e,t,i){var r=this.options,s=this.canvasData,n=s.width,o=s.height,a=s.naturalWidth,l=s.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&r.zoomable){var h=a*e,c=l*e;if(!1===Le(this.element,ee,{ratio:e,oldRatio:n/a,originalEvent:i}))return this;if(i){var d=this.pointers,u=Ie(this.cropper),p=d&&Object.keys(d).length?qe(d):{pageX:i.pageX,pageY:i.pageY};s.left-=(h-n)*((p.pageX-u.left-s.left)/n),s.top-=(c-o)*((p.pageY-u.top-s.top)/o)}else pe(t)&&le(t.x)&&le(t.y)?(s.left-=(h-n)*((t.x-s.left)/n),s.top-=(c-o)*((t.y-s.top)/o)):(s.left-=(h-n)/2,s.top-=(c-o)/2);s.width=h,s.height=c,this.renderCanvas(!0)}return this}),"zoomTo"),rotate:o((function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))}),"rotate"),rotateTo:o((function(e){return le(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this}),"rotateTo"),scaleX:o((function(e){var t=this.imageData.scaleY;return this.scale(e,le(t)?t:1)}),"scaleX"),scaleY:o((function(e){var t=this.imageData.scaleX;return this.scale(le(t)?t:1,e)}),"scaleY"),scale:o((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,i=this.imageData,r=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(le(e)&&(i.scaleX=e,r=!0),le(t)&&(i.scaleY=t,r=!0),r&&this.renderCanvas(!0,!0)),this}),"scale"),getData:o((function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i=this.options,r=this.imageData,s=this.canvasData,n=this.cropBoxData;if(this.ready&&this.cropped){e={x:n.left-s.left,y:n.top-s.top,width:n.width,height:n.height};var o=r.width/r.naturalWidth;if(ye(e,(function(t,i){e[i]=t/o})),t){var a=Math.round(e.y+e.height),l=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=l-e.x,e.height=a-e.y}}else e={x:0,y:0,width:0,height:0};return i.rotatable&&(e.rotate=r.rotate||0),i.scalable&&(e.scaleX=r.scaleX||1,e.scaleY=r.scaleY||1),e}),"getData"),setData:o((function(e){var t=this.options,i=this.imageData,r=this.canvasData,s={};if(this.ready&&!this.disabled&&pe(e)){var n=!1;t.rotatable&&le(e.rotate)&&e.rotate!==i.rotate&&(i.rotate=e.rotate,n=!0),t.scalable&&(le(e.scaleX)&&e.scaleX!==i.scaleX&&(i.scaleX=e.scaleX,n=!0),le(e.scaleY)&&e.scaleY!==i.scaleY&&(i.scaleY=e.scaleY,n=!0)),n&&this.renderCanvas(!0,!0);var o=i.width/i.naturalWidth;le(e.x)&&(s.left=e.x*o+r.left),le(e.y)&&(s.top=e.y*o+r.top),le(e.width)&&(s.width=e.width*o),le(e.height)&&(s.height=e.height*o),this.setCropBoxData(s)}return this}),"setData"),getContainerData:o((function(){return this.ready?ve({},this.containerData):{}}),"getContainerData"),getImageData:o((function(){return this.sized?ve({},this.imageData):{}}),"getImageData"),getCanvasData:o((function(){var e=this.canvasData,t={};return this.ready&&ye(["left","top","width","height","naturalWidth","naturalHeight"],(function(i){t[i]=e[i]})),t}),"getCanvasData"),setCanvasData:o((function(e){var t=this.canvasData,i=t.aspectRatio;return this.ready&&!this.disabled&&pe(e)&&(le(e.left)&&(t.left=e.left),le(e.top)&&(t.top=e.top),le(e.width)?(t.width=e.width,t.height=e.width/i):le(e.height)&&(t.height=e.height,t.width=e.height*i),this.renderCanvas(!0)),this}),"setCanvasData"),getCropBoxData:o((function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}}),"getCropBoxData"),setCropBoxData:o((function(e){var t,i,r=this.cropBoxData,s=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&pe(e)&&(le(e.left)&&(r.left=e.left),le(e.top)&&(r.top=e.top),le(e.width)&&e.width!==r.width&&(t=!0,r.width=e.width),le(e.height)&&e.height!==r.height&&(i=!0,r.height=e.height),s&&(t?r.height=r.width/s:i&&(r.width=r.height*s)),this.renderCropBox()),this}),"setCropBoxData"),getCroppedCanvas:o((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,i=$e(this.image,this.imageData,t,e);if(!this.cropped)return i;var r=this.getData(),s=r.x,n=r.y,o=r.width,a=r.height,h=i.width/Math.floor(t.naturalWidth);1!==h&&(s*=h,n*=h,o*=h,a*=h);var c=o/a,d=Ge({aspectRatio:c,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),u=Ge({aspectRatio:c,width:e.minWidth||0,height:e.minHeight||0},"cover"),p=Ge({aspectRatio:c,width:e.width||(1!==h?i.width:o),height:e.height||(1!==h?i.height:a)}),f=p.width,m=p.height;f=Math.min(d.width,Math.max(u.width,f)),m=Math.min(d.height,Math.max(u.height,m));var g=document.createElement("canvas"),y=g.getContext("2d");g.width=we(f),g.height=we(m),y.fillStyle=e.fillColor||"transparent",y.fillRect(0,0,f,m);var v=e.imageSmoothingEnabled,b=void 0===v||v,w=e.imageSmoothingQuality;y.imageSmoothingEnabled=b,w&&(y.imageSmoothingQuality=w);var _,k,S,x,T,j,C=i.width,E=i.height,O=s,P=n;O<=-o||O>C?(O=0,_=0,S=0,T=0):O<=0?(S=-O,O=0,T=_=Math.min(C,o+O)):O<=C&&(S=0,T=_=Math.min(o,C-O)),_<=0||P<=-a||P>E?(P=0,k=0,x=0,j=0):P<=0?(x=-P,P=0,j=k=Math.min(E,a+P)):P<=E&&(x=0,j=k=Math.min(a,E-P));var F=[O,P,_,k];if(T>0&&j>0){var M=f/o;F.push(S*M,x*M,T*M,j*M)}return y.drawImage.apply(y,[i].concat(l(F.map((function(e){return Math.floor(we(e))}))))),g}),"getCroppedCanvas"),setAspectRatio:o((function(e){var t=this.options;return!this.disabled&&!ce(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this}),"setAspectRatio"),setDragMode:o((function(e){var t=this.options,i=this.dragBox,r=this.face;if(this.ready&&!this.disabled){var s=e===z,n=t.movable&&e===U;e=s||n?e:H,t.dragMode=e,Pe(i,N,e),je(i,F,s),je(i,I,n),t.cropBoxMovable||(Pe(r,N,e),je(r,F,s),je(r,I,n))}return this}),"setDragMode")},lt=m.Cropper,ht=function(){function e(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t(this,e),!i||!ne.test(i.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=i,this.options=ve({},oe,pe(r)&&r),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return o(e,"Cropper"),r(e,[{key:"init",value:o((function(){var e,t=this.element,i=t.tagName.toLowerCase();if(!t[v]){if(t[v]=this,"img"===i){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===i&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}),"init")},{key:"load",value:o((function(e){var t=this;if(e){this.url=e,this.imageData={};var i=this.element,r=this.options;if(!r.rotatable&&!r.scalable&&(r.checkOrientation=!1),!r.checkOrientation||!window.ArrayBuffer)return void this.clone();if(re.test(e))return void(se.test(e)?this.read(Je(e)):this.clone());var s=new XMLHttpRequest,n=this.clone.bind(this);this.reloading=!0,this.xhr=s,s.onabort=n,s.onerror=n,s.ontimeout=n,s.onprogress=function(){s.getResponseHeader("content-type")!==te&&s.abort()},s.onload=function(){t.read(s.response)},s.onloadend=function(){t.reloading=!1,t.xhr=null},r.checkCrossOrigin&&ze(e)&&i.crossOrigin&&(e=Ue(e)),s.open("GET",e),s.responseType="arraybuffer",s.withCredentials="use-credentials"===i.crossOrigin,s.send()}}),"load")},{key:"read",value:o((function(e){var t=this.options,i=this.imageData,r=et(e),s=0,n=1,o=1;if(r>1){this.url=Qe(e,te);var a=tt(r);s=a.rotate,n=a.scaleX,o=a.scaleY}t.rotatable&&(i.rotate=s),t.scalable&&(i.scaleX=n,i.scaleY=o),this.clone()}),"read")},{key:"clone",value:o((function(){var e=this.element,t=this.url,i=e.crossOrigin,r=t;this.options.checkCrossOrigin&&ze(t)&&(i||(i="anonymous"),r=Ue(t)),this.crossOrigin=i,this.crossOriginUrl=r;var s=document.createElement("img");i&&(s.crossOrigin=i),s.src=r||t,s.alt=e.alt||"The image to crop",this.image=s,s.onload=this.start.bind(this),s.onerror=this.stop.bind(this),xe(s,A),e.parentNode.insertBefore(s,e.nextSibling)}),"clone")},{key:"start",value:o((function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var i=m.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(m.navigator.userAgent),r=o((function(t,i){ve(e.imageData,{naturalWidth:t,naturalHeight:i,aspectRatio:t/i}),e.sizing=!1,e.sized=!0,e.build()}),"done");if(!t.naturalWidth||i){var s=document.createElement("img"),n=document.body||document.documentElement;this.sizingImage=s,s.onload=function(){r(s.width,s.height),i||n.removeChild(s)},s.src=t.src,i||(s.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",n.appendChild(s))}else r(t.naturalWidth,t.naturalHeight)}),"start")},{key:"stop",value:o((function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}),"stop")},{key:"build",value:o((function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,i=this.image,r=e.parentNode,s=document.createElement("div");s.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var n=s.querySelector(".".concat(v,"-container")),o=n.querySelector(".".concat(v,"-canvas")),a=n.querySelector(".".concat(v,"-drag-box")),l=n.querySelector(".".concat(v,"-crop-box")),h=l.querySelector(".".concat(v,"-face"));this.container=r,this.cropper=n,this.canvas=o,this.dragBox=a,this.cropBox=l,this.viewBox=n.querySelector(".".concat(v,"-view-box")),this.face=h,o.appendChild(i),xe(e,D),r.insertBefore(n,e.nextSibling),this.isImg||Te(i,A),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,xe(l,D),t.guides||xe(l.getElementsByClassName("".concat(v,"-dashed")),D),t.center||xe(l.getElementsByClassName("".concat(v,"-center")),D),t.background&&xe(n,"".concat(v,"-bg")),t.highlight||xe(h,R),t.cropBoxMovable&&(xe(h,I),Pe(h,N,b)),t.cropBoxResizable||(xe(l.getElementsByClassName("".concat(v,"-line")),D),xe(l.getElementsByClassName("".concat(v,"-point")),D)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),fe(t.ready)&&Re(e,Z,t.ready,{once:!0}),Le(e,Z)}}),"build")},{key:"unbuild",value:o((function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Te(this.element,D))}),"unbuild")},{key:"uncreate",value:o((function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}),"uncreate")}],[{key:"noConflict",value:o((function(){return window.Cropper=lt,e}),"noConflict")},{key:"setDefaults",value:o((function(e){ve(oe,pe(e)&&e)}),"setDefaults")}]),e}();return ve(ht.prototype,it,rt,st,nt,ot,at),ht},"object"==typeof e&&typeof t<"u"?t.exports=r():"function"==typeof define&&define.amd?define(r):(i=i||self).Cropper=r()})),w=a(((e,t)=>{"use strict";t.exports=n,t.exports.isMobile=n,t.exports.default=n;var i=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,r=/CrOS/,s=/android|ipad|playbook|silk/i;function n(e){e||(e={});let t=e.ua;if(!t&&typeof navigator<"u"&&(t=navigator.userAgent),t&&t.headers&&"string"==typeof t.headers["user-agent"]&&(t=t.headers["user-agent"]),"string"!=typeof t)return!1;let n=i.test(t)&&!r.test(t)||!!e.tablet&&s.test(t);return!n&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&-1!==t.indexOf("Macintosh")&&-1!==t.indexOf("Safari")&&(n=!0),n}o(n,"isMobile")})),_=a(((e,t)=>{"use strict";t.exports=o((function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}),"required")})),k=a((e=>{"use strict";var t=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function r(e){try{return encodeURIComponent(e)}catch{return null}}function s(e){for(var t,r=/([^=?#&]+)=?([^&]*)/g,s={};t=r.exec(e);){var n=i(t[1]),o=i(t[2]);null===n||null===o||n in s||(s[n]=o)}return s}function n(e,i){i=i||"";var s,n,o=[];for(n in"string"!=typeof i&&(i="?"),e)if(t.call(e,n)){if(!(s=e[n])&&(null==s||isNaN(s))&&(s=""),n=r(n),s=r(s),null===n||null===s)continue;o.push(n+"="+s)}return o.length?i+o.join("&"):""}o(i,"decode"),o(r,"encode"),o(s,"querystring"),o(n,"querystringify"),e.stringify=n,e.parse=s})),S=a(((e,t)=>{"use strict";var i=_(),r=k(),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,n=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,h=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,c=/^[a-zA-Z]:/;function d(e){return(e||"").toString().replace(s,"")}o(d,"trimLeft");var u=[["#","hash"],["?","query"],o((function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e}),"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function f(e){var t,i=(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{}).location||{},r={},s=typeof(e=e||i);if("blob:"===e.protocol)r=new v(unescape(e.pathname),{});else if("string"===s)for(t in r=new v(e,{}),p)delete r[t];else if("object"===s){for(t in e)t in p||(r[t]=e[t]);void 0===r.slashes&&(r.slashes=a.test(e.href))}return r}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=d(e)).replace(n,""),t=t||{};var i,r=h.exec(e),s=r[1]?r[1].toLowerCase():"",o=!!r[2],a=!!r[3],l=0;return o?a?(i=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(i=r[2]+r[4],l=r[2].length):a?(i=r[3]+r[4],l=r[3].length):i=r[4],"file:"===s?l>=2&&(i=i.slice(2)):m(s)?i=r[4]:s?o&&(i=i.slice(2)):l>=2&&m(t.protocol)&&(i=r[4]),{protocol:s,slashes:o||m(s),slashesCount:l,rest:i}}function y(e,t){if(""===e)return t;for(var i=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=i.length,s=i[r-1],n=!1,o=0;r--;)"."===i[r]?i.splice(r,1):".."===i[r]?(i.splice(r,1),o++):o&&(0===r&&(n=!0),i.splice(r,1),o--);return n&&i.unshift(""),("."===s||".."===s)&&i.push(""),i.join("/")}function v(e,t,s){if(e=(e=d(e)).replace(n,""),!(this instanceof v))return new v(e,t,s);var o,a,l,h,p,b,w=u.slice(),_=typeof t,k=this,S=0;for("object"!==_&&"string"!==_&&(s=t,t=null),s&&"function"!=typeof s&&(s=r.parse),o=!(a=g(e||"",t=f(t))).protocol&&!a.slashes,k.slashes=a.slashes||o&&t.slashes,k.protocol=a.protocol||t.protocol||"",e=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||c.test(e))||!a.slashes&&(a.protocol||a.slashesCount<2||!m(k.protocol)))&&(w[3]=[/(.*)/,"pathname"]);S<w.length;S++)"function"!=typeof(h=w[S])?(l=h[0],b=h[1],l!=l?k[b]=e:"string"==typeof l?~(p="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"==typeof h[2]?(k[b]=e.slice(0,p),e=e.slice(p+h[2])):(k[b]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(k[b]=p[1],e=e.slice(0,p.index)),k[b]=k[b]||o&&h[3]&&t[b]||"",h[4]&&(k[b]=k[b].toLowerCase())):e=h(e,k);s&&(k.query=s(k.query)),o&&t.slashes&&"/"!==k.pathname.charAt(0)&&(""!==k.pathname||""!==t.pathname)&&(k.pathname=y(k.pathname,t.pathname)),"/"!==k.pathname.charAt(0)&&m(k.protocol)&&(k.pathname="/"+k.pathname),i(k.port,k.protocol)||(k.host=k.hostname,k.port=""),k.username=k.password="",k.auth&&(~(p=k.auth.indexOf(":"))?(k.username=k.auth.slice(0,p),k.username=encodeURIComponent(decodeURIComponent(k.username)),k.password=k.auth.slice(p+1),k.password=encodeURIComponent(decodeURIComponent(k.password))):k.username=encodeURIComponent(decodeURIComponent(k.auth)),k.auth=k.password?k.username+":"+k.password:k.username),k.origin="file:"!==k.protocol&&m(k.protocol)&&k.host?k.protocol+"//"+k.host:"null",k.href=k.toString()}function b(e,t,s){var n=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(s||r.parse)(t)),n[e]=t;break;case"port":n[e]=t,i(t,n.protocol)?t&&(n.host=n.hostname+":"+t):(n.host=n.hostname,n[e]="");break;case"hostname":n[e]=t,n.port&&(t+=":"+n.port),n.host=t;break;case"host":n[e]=t,l.test(t)?(t=t.split(":"),n.port=t.pop(),n.hostname=t.join(":")):(n.hostname=t,n.port="");break;case"protocol":n.protocol=t.toLowerCase(),n.slashes=!s;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";n[e]=t.charAt(0)!==o?o+t:t}else n[e]=t;break;case"username":case"password":n[e]=encodeURIComponent(t);break;case"auth":var a=t.indexOf(":");~a?(n.username=t.slice(0,a),n.username=encodeURIComponent(decodeURIComponent(n.username)),n.password=t.slice(a+1),n.password=encodeURIComponent(decodeURIComponent(n.password))):n.username=encodeURIComponent(decodeURIComponent(t))}for(var h=0;h<u.length;h++){var c=u[h];c[4]&&(n[c[1]]=n[c[1]].toLowerCase())}return n.auth=n.password?n.username+":"+n.password:n.username,n.origin="file:"!==n.protocol&&m(n.protocol)&&n.host?n.protocol+"//"+n.host:"null",n.href=n.toString(),n}function w(e){(!e||"function"!=typeof e)&&(e=r.stringify);var t,i=this,s=i.host,n=i.protocol;n&&":"!==n.charAt(n.length-1)&&(n+=":");var o=n+(i.protocol&&i.slashes||m(i.protocol)?"//":"");return i.username?(o+=i.username,i.password&&(o+=":"+i.password),o+="@"):i.password?(o+=":"+i.password,o+="@"):"file:"!==i.protocol&&m(i.protocol)&&!s&&"/"!==i.pathname&&(o+="@"),(":"===s[s.length-1]||l.test(i.hostname)&&!i.port)&&(s+=":"),o+=s+i.pathname,(t="object"==typeof i.query?e(i.query):i.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),i.hash&&(o+=i.hash),o}o(f,"lolcation"),o(m,"isSpecial"),o(g,"extractProtocol"),o(y,"resolve"),o(v,"Url"),o(b,"set"),o(w,"toString"),v.prototype={set:b,toString:w},v.extractProtocol=g,v.location=f,v.trimLeft=d,v.qs=r,t.exports=v})),x=a(((e,t)=>{function i(e){if(e)return r(e)}function r(e){for(var t in i.prototype)e[t]=i.prototype[t];return e}typeof t<"u"&&(t.exports=i),o(i,"Emitter"),o(r,"mixin"),i.prototype.on=i.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},i.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return o(i,"on"),i.fn=t,this.on(e,i),this},i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,s=0;s<i.length;s++)if((r=i[s])===t||r.fn===t){i.splice(s,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},i.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(i){r=0;for(var s=(i=i.slice(0)).length;r<s;++r)i[r].apply(this,t)}return this},i.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},i.prototype.hasListeners=function(e){return!!this.listeners(e).length}})),T=a(((e,t)=>{"use strict";function i(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},h.apply(this,arguments)}o(i,"ownKeys"),o(r,"_objectSpread2"),o(s,"_classCallCheck"),o(n,"_defineProperties"),o(a,"_createClass"),o(l,"_defineProperty"),o(h,"_extends");var c,d,u,p,f,m,g,y,v={exports:{}};c=v,typeof window>"u"||(d=window,u=d.HTMLCanvasElement&&d.HTMLCanvasElement.prototype,p=d.Blob&&function(){try{return Boolean(new Blob)}catch{return!1}}(),f=p&&d.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch{return!1}}(),m=d.BlobBuilder||d.WebKitBlobBuilder||d.MozBlobBuilder||d.MSBlobBuilder,g=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,y=(p||m)&&d.atob&&d.ArrayBuffer&&d.Uint8Array&&function(e){var t,i,r,s,n,o,a,l,h;if(!(t=e.match(g)))throw new Error("invalid data URI");for(i=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),r=!!t[4],s=e.slice(t[0].length),n=r?atob(s):decodeURIComponent(s),o=new ArrayBuffer(n.length),a=new Uint8Array(o),l=0;l<n.length;l+=1)a[l]=n.charCodeAt(l);return p?new Blob([f?a:o],{type:i}):((h=new m).append(o),h.getBlob(i))},d.HTMLCanvasElement&&!u.toBlob&&(u.mozGetAsFile?u.toBlob=function(e,t,i){var r=this;setTimeout((function(){i&&u.toDataURL&&y?e(y(r.toDataURL(t,i))):e(r.mozGetAsFile("blob",t))}))}:u.toDataURL&&y&&(u.msToBlob?u.toBlob=function(e,t,i){var r=this;setTimeout((function(){(t&&"image/png"!==t||i)&&u.toDataURL&&y?e(y(r.toDataURL(t,i))):e(r.msToBlob(t))}))}:u.toBlob=function(e,t,i){var r=this;setTimeout((function(){e(y(r.toDataURL(t,i)))}))})),c.exports?c.exports=y:d.dataURLtoBlob=y);var b=v.exports,w=o((function(e){return!(typeof Blob>"u")&&(e instanceof Blob||"[object Blob]"===Object.prototype.toString.call(e))}),"isBlob"),_={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},k=typeof window<"u"&&typeof window.document<"u"?window:{},S=o((function(e){return e>0&&e<1/0}),"isPositiveNumber"),x=Array.prototype.slice;function T(e){return Array.from?Array.from(e):x.call(e)}o(T,"toArray");var j=/^image\/.+$/;function C(e){return j.test(e)}function E(e){var t=C(e)?e.substr(6):"";return"jpeg"===t&&(t="jpg"),".".concat(t)}o(C,"isImageType"),o(E,"imageTypeToExtension");var O=String.fromCharCode;function P(e,t,i){var r,s="";for(i+=t,r=t;r<i;r+=1)s+=O(e.getUint8(r));return s}o(P,"getStringFromCharCode");var F=k.btoa;function M(e,t){for(var i=[],r=new Uint8Array(e);r.length>0;)i.push(O.apply(null,T(r.subarray(0,8192)))),r=r.subarray(8192);return"data:".concat(t,";base64,").concat(F(i.join("")))}function D(e){var t,i=new DataView(e);try{var r,s,n;if(255===i.getUint8(0)&&216===i.getUint8(1))for(var o=i.byteLength,a=2;a+1<o;){if(255===i.getUint8(a)&&225===i.getUint8(a+1)){s=a;break}a+=1}if(s){var l=s+10;if("Exif"===P(i,s+4,4)){var h=i.getUint16(l);if(((r=18761===h)||19789===h)&&42===i.getUint16(l+2,r)){var c=i.getUint32(l+4,r);c>=8&&(n=l+c)}}}if(n){var d,u,p=i.getUint16(n,r);for(u=0;u<p;u+=1)if(d=n+12*u+2,274===i.getUint16(d,r)){d+=8,t=i.getUint16(d,r),i.setUint16(d,1,r);break}}}catch{t=1}return t}function A(e){var t=0,i=1,r=1;switch(e){case 2:i=-1;break;case 3:t=-180;break;case 4:r=-1;break;case 5:t=90,r=-1;break;case 6:t=90;break;case 7:t=90,i=-1;break;case 8:t=-90}return{rotate:t,scaleX:i,scaleY:r}}o(M,"arrayBufferToDataURL"),o(D,"resetAndGetOrientation"),o(A,"parseOrientation");var R=/\.\d*(?:0|9){12}\d*$/;function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return R.test(e)?Math.round(e*t)/t:e}function I(e){var t=e.aspectRatio,i=e.height,r=e.width,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",n=S(r),o=S(i);if(n&&o){var a=i*t;("contain"===s||"none"===s)&&a>r||"cover"===s&&a<r?i=r/t:r=i*t}else n?i=r/t:o&&(r=i*t);return{width:r,height:i}}o(L,"normalizeDecimalNumber"),o(I,"getAdjustedSizes");var N=k.ArrayBuffer,B=k.FileReader,z=k.URL||k.webkitURL,U=/\.\w+$/,H=k.Compressor,W=function(){function e(t,i){s(this,e),this.file=t,this.image=new Image,this.options=r(r({},_),i),this.aborted=!1,this.result=null,this.init()}return o(e,"Compressor"),a(e,[{key:"init",value:o((function(){var e=this,t=this.file,i=this.options;if(w(t)){var r=t.type;if(C(r))if(z&&B)if(N||(i.checkOrientation=!1),z&&!i.checkOrientation)this.load({url:z.createObjectURL(t)});else{var s=new B,n=i.checkOrientation&&"image/jpeg"===r;this.reader=s,s.onload=function(i){var s=i.target.result,o={};if(n){var a=D(s);a>1||!z?(o.url=M(s,r),a>1&&h(o,A(a))):o.url=z.createObjectURL(t)}else o.url=s;e.load(o)},s.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},s.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},s.onloadend=function(){e.reader=null},n?s.readAsArrayBuffer(t):s.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}),"init")},{key:"load",value:o((function(e){var t=this,i=this.file,s=this.image;s.onload=function(){t.draw(r(r({},e),{},{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){t.fail(new Error("Aborted to load the image."))},s.onerror=function(){t.fail(new Error("Failed to load the image."))},k.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(k.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=i.name,s.src=e.url}),"load")},{key:"draw",value:o((function(e){var t=this,i=e.naturalWidth,r=e.naturalHeight,s=e.rotate,n=void 0===s?0:s,a=e.scaleX,l=void 0===a?1:a,h=e.scaleY,c=void 0===h?1:h,d=this.file,u=this.image,p=this.options,f=document.createElement("canvas"),m=f.getContext("2d"),g=Math.abs(n)%180==90,y=("contain"===p.resize||"cover"===p.resize)&&S(p.width)&&S(p.height),v=Math.max(p.maxWidth,0)||1/0,w=Math.max(p.maxHeight,0)||1/0,_=Math.max(p.minWidth,0)||0,k=Math.max(p.minHeight,0)||0,x=i/r,T=p.width,j=p.height;if(g){var E=[w,v];v=E[0],w=E[1];var O=[k,_];_=O[0],k=O[1];var P=[j,T];T=P[0],j=P[1]}y&&(x=T/j);var F=I({aspectRatio:x,width:v,height:w},"contain");v=F.width,w=F.height;var M=I({aspectRatio:x,width:_,height:k},"cover");if(_=M.width,k=M.height,y){var D=I({aspectRatio:x,width:T,height:j},p.resize);T=D.width,j=D.height}else{var A=I({aspectRatio:x,width:T,height:j}),R=A.width;T=void 0===R?i:R;var N=A.height;j=void 0===N?r:N}var B=-(T=Math.floor(L(Math.min(Math.max(T,_),v))))/2,z=-(j=Math.floor(L(Math.min(Math.max(j,k),w))))/2,U=T,H=j,W=[];if(y){var V,q,G,Y,$=I({aspectRatio:x,width:i,height:r},{contain:"cover",cover:"contain"}[p.resize]);G=$.width,Y=$.height,V=(i-G)/2,q=(r-Y)/2,W.push(V,q,G,Y)}if(W.push(B,z,U,H),g){var K=[j,T];T=K[0],j=K[1]}f.width=T,f.height=j,C(p.mimeType)||(p.mimeType=d.type);var X="transparent";if(d.size>p.convertSize&&p.convertTypes.indexOf(p.mimeType)>=0&&(p.mimeType="image/jpeg"),"image/jpeg"===p.mimeType&&(X="#fff"),m.fillStyle=X,m.fillRect(0,0,T,j),p.beforeDraw&&p.beforeDraw.call(this,m,f),!this.aborted&&(m.save(),m.translate(T/2,j/2),m.rotate(n*Math.PI/180),m.scale(l,c),m.drawImage.apply(m,[u].concat(W)),m.restore(),p.drew&&p.drew.call(this,m,f),!this.aborted)){var Z=o((function(e){t.aborted||t.done({naturalWidth:i,naturalHeight:r,result:e})}),"done");f.toBlob?f.toBlob(Z,p.mimeType,p.quality):Z(b(f.toDataURL(p.mimeType,p.quality)))}}),"draw")},{key:"done",value:o((function(e){var t=e.naturalWidth,i=e.naturalHeight,r=e.result,s=this.file,n=this.image,o=this.options;if(z&&!o.checkOrientation&&z.revokeObjectURL(n.src),r)if(o.strict&&r.size>s.size&&o.mimeType===s.type&&!(o.width>t||o.height>i||o.minWidth>t||o.minHeight>i||o.maxWidth<t||o.maxHeight<i))r=s;else{var a=new Date;r.lastModified=a.getTime(),r.lastModifiedDate=a,r.name=s.name,r.name&&r.type!==s.type&&(r.name=r.name.replace(U,E(r.type)))}else r=s;this.result=r,o.success&&o.success.call(this,r)}),"done")},{key:"fail",value:o((function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}),"fail")},{key:"abort",value:o((function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}),"abort")}],[{key:"noConflict",value:o((function(){return window.Compressor=H,e}),"noConflict")},{key:"setDefaults",value:o((function(e){h(_,e)}),"setDefaults")}]),e}();t.exports=W})),j={};function C(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function E(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}l(j,{Audio:()=>wh,AwsS3:()=>Ou,AwsS3Multipart:()=>Mp,Box:()=>xh,Compressor:()=>ww,Core:()=>e_,Dashboard:()=>Qa,DefaultStore:()=>G,DragDrop:()=>tl,DropTarget:()=>rl,Dropbox:()=>jh,Facebook:()=>Eh,FileInput:()=>nl,Form:()=>Fw,GoldenRetriever:()=>Jw,GoogleDrive:()=>Fh,ImageEditor:()=>hl,Informer:()=>Ts,Instagram:()=>Dh,OneDrive:()=>Rh,ProgressBar:()=>cl,ReduxDevTools:()=>Qw,ReduxStore:()=>Mr,RemoteSources:()=>nc,ScreenCapture:()=>bc,StatusBar:()=>ms,ThumbnailGenerator:()=>Xn,Transloadit:()=>qb,Tus:()=>_g,Unsplash:()=>Lh,Uppy:()=>Je,Url:()=>Zh,Webcam:()=>Kc,XHRUpload:()=>uw,Zoom:()=>Qh,debugLogger:()=>se,locales:()=>i_,server:()=>Ht,views:()=>t_}),o(C,"has"),o(E,"_classPrivateFieldLooseBase");var O=0;function P(e){return"__private_"+O+++"_"+e}function F(e,t,i){let r=[];return e.forEach((e=>"string"!=typeof e?r.push(e):t[Symbol.split](e).forEach(((e,t,s)=>{""!==e&&r.push(e),t<s.length-1&&r.push(i)})))),r}function M(e,t){let i=/\$/g,r=[e];if(null==t)return r;for(let e of Object.keys(t))if("_"!==e){let s=t[e];"string"==typeof s&&(s=i[Symbol.replace](s,"$$$$")),r=F(r,new RegExp(`%\\{${e}\\}`,"g"),s)}return r}o(P,"_classPrivateFieldLooseKey"),o(F,"insertReplacement"),o(M,"interpolate");var D=P("apply"),A=class{constructor(e){Object.defineProperty(this,D,{value:R}),this.locale={strings:{},pluralize:e=>1===e?0:1},Array.isArray(e)?e.forEach(E(this,D)[D],this):E(this,D)[D](e)}translate(e,t){return this.translateArray(e,t).join("")}translateArray(e,t){if(!C(this.locale.strings,e))throw new Error(`missing string: ${e}`);let i=this.locale.strings[e];if("object"==typeof i){if(t&&typeof t.smart_count<"u"){return M(i[this.locale.pluralize(t.smart_count)],t)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return M(i,t)}};function R(e){if(null==e||!e.strings)return;let t=this.locale;this.locale={...t,strings:{...t.strings,...e.strings}},this.locale.pluralize=e.pluralize||t.pluralize}o(A,"Translator"),o(R,"_apply2");var L=h(c(),1),I=o(((e=21)=>{let t="",i=e;for(;i--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t}),"nanoid"),N=h(d(),1);function B(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(B,"_classPrivateFieldLooseBase");var z=0;function U(e){return"__private_"+z+++"_"+e}o(U,"_classPrivateFieldLooseKey");var H=U("callbacks"),W=U("publish"),V=class{constructor(){Object.defineProperty(this,W,{value:q}),Object.defineProperty(this,H,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(e){let t={...this.state},i={...this.state,...e};this.state=i,B(this,W)[W](t,i,e)}subscribe(e){return B(this,H)[H].add(e),()=>{B(this,H)[H].delete(e)}}};function q(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];B(this,H)[H].forEach((e=>{e(...t)}))}o(V,"DefaultStore"),o(q,"_publish2"),V.VERSION="3.0.2";var G=V;function Y(e){let t=e.lastIndexOf(".");return-1===t||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}o(Y,"getFileNameAndExtension");var $={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function K(e){var t;if(e.type)return e.type;let i=e.name?null==(t=Y(e.name).extension)?void 0:t.toLowerCase():null;return i&&i in $?$[i]:"application/octet-stream"}function X(e){return e.charCodeAt(0).toString(32)}function Z(e){let t="";return e.replace(/[^A-Z0-9]/gi,(e=>(t+=`-${X(e)}`,"/")))+t}function J(e){let t="uppy";return"string"==typeof e.name&&(t+=`-${Z(e.name.toLowerCase())}`),void 0!==e.type&&(t+=`-${e.type}`),e.meta&&"string"==typeof e.meta.relativePath&&(t+=`-${Z(e.meta.relativePath.toLowerCase())}`),void 0!==e.data.size&&(t+=`-${e.data.size}`),void 0!==e.data.lastModified&&(t+=`-${e.data.lastModified}`),t}function Q(e){if(null==e&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;let t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;let i=t[1],[r,s]=i.split(".");return r=parseInt(r,10),s=parseInt(s,10),r<15||15===r&&s<15063||r>18||18===r&&s>=18218}function ee(e,t){return t.name?t.name:"image"===e.split("/")[0]?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}function te(e){return e<10?`0${e}`:e.toString()}function ie(){let e=new Date;return`${te(e.getHours())}:${te(e.getMinutes())}:${te(e.getSeconds())}`}o(K,"getFileType"),o(X,"encodeCharacter"),o(Z,"encodeFilename"),o(J,"generateFileID"),o(Q,"supportsUploadProgress"),o(ee,"getFileName"),o(te,"pad"),o(ie,"getTimeStamp");var re={debug:()=>{},warn:()=>{},error:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return console.error(`[Uppy] [${ie()}]`,...t)}},se={debug:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return console.debug(`[Uppy] [${ie()}]`,...t)},warn:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return console.warn(`[Uppy] [${ie()}]`,...t)},error:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return console.error(`[Uppy] [${ie()}]`,...t)}},ne=h(u(),1),oe=h(f(),1),ae={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},le=class extends Error{constructor(){super(...arguments),this.isRestriction=!0}};o(le,"RestrictionError");var he=class{constructor(e,t){this.i18n=t,this.getOpts=()=>{let t=e();if(null!=t.restrictions.allowedFileTypes&&!Array.isArray(t.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return t}}validate(e,t){let{maxFileSize:i,minFileSize:r,maxTotalFileSize:s,maxNumberOfFiles:n,allowedFileTypes:o}=this.getOpts().restrictions;if(n&&t.filter((e=>!e.isGhost)).length+1>n)throw new le(`${this.i18n("youCanOnlyUploadX",{smart_count:n})}`);if(o&&!o.some((t=>t.includes("/")?!!e.type&&(0,oe.default)(e.type.replace(/;.*?$/,""),t):!("."!==t[0]||!e.extension)&&e.extension.toLowerCase()===t.slice(1).toLowerCase()))){let e=o.join(", ");throw new le(this.i18n("youCanOnlyUploadFileTypes",{types:e}))}if(s&&null!=e.size&&t.reduce(((e,t)=>e+t.size),e.size)>s)throw new le(this.i18n("exceedsSize",{size:(0,ne.default)(s),file:e.name}));if(i&&null!=e.size&&e.size>i)throw new le(this.i18n("exceedsSize",{size:(0,ne.default)(i),file:e.name}));if(r&&null!=e.size&&e.size<r)throw new le(this.i18n("inferiorSize",{size:(0,ne.default)(r)}))}validateMinNumberOfFiles(e){let{minNumberOfFiles:t}=this.getOpts().restrictions;if(Object.keys(e).length<t)throw new le(this.i18n("youHaveToAtLeastSelectX",{smart_count:t}))}getMissingRequiredMetaFields(e){let t=new le(this.i18n("missingRequiredMetaFieldOnFile",{fileName:e.name})),{requiredMetaFields:i}=this.getOpts().restrictions,r=[];for(let t of i)(!Object.hasOwn(e.meta,t)||""===e.meta[t])&&r.push(t);return{missingFields:r,error:t}}};o(he,"Restricter");var ce,de,ue={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}};function pe(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(pe,"_classPrivateFieldLooseBase");var fe=0;function me(e){return"__private_"+fe+++"_"+e}o(me,"_classPrivateFieldLooseKey");var ge=me("plugins"),ye=me("restricter"),ve=me("storeUnsubscribe"),be=me("emitter"),we=me("preProcessors"),_e=me("uploaders"),ke=me("postProcessors"),Se=me("informAndEmit"),xe=me("checkRequiredMetaFieldsOnFile"),Te=me("checkRequiredMetaFields"),je=me("assertNewUploadAllowed"),Ce=me("checkAndCreateFileStateObject"),Ee=me("startIfAutoProceed"),Oe=me("addListeners"),Pe=me("updateOnlineStatus"),Fe=me("createUpload"),Me=me("getUpload"),De=me("removeUpload"),Ae=me("runUpload");ce=Symbol.for("uppy test: getPlugins"),de=Symbol.for("uppy test: createUpload");var Re=class{constructor(e){Object.defineProperty(this,Ae,{value:Ge}),Object.defineProperty(this,De,{value:qe}),Object.defineProperty(this,Me,{value:Ve}),Object.defineProperty(this,Fe,{value:We}),Object.defineProperty(this,Oe,{value:He}),Object.defineProperty(this,Ee,{value:Ue}),Object.defineProperty(this,Ce,{value:ze}),Object.defineProperty(this,je,{value:Be}),Object.defineProperty(this,Te,{value:Ne}),Object.defineProperty(this,xe,{value:Ie}),Object.defineProperty(this,Se,{value:Le}),Object.defineProperty(this,ge,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,ye,{writable:!0,value:void 0}),Object.defineProperty(this,ve,{writable:!0,value:void 0}),Object.defineProperty(this,be,{writable:!0,value:(0,L.default)()}),Object.defineProperty(this,we,{writable:!0,value:new Set}),Object.defineProperty(this,_e,{writable:!0,value:new Set}),Object.defineProperty(this,ke,{writable:!0,value:new Set}),Object.defineProperty(this,Pe,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=ue;let t={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:ae,meta:{},onBeforeFileAdded:e=>e,onBeforeUpload:e=>e,store:new G,logger:re,infoTimeout:5e3};this.opts={...t,...e,restrictions:{...t.restrictions,...e&&e.restrictions}},e&&e.logger&&e.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):e&&e.debug&&(this.opts.logger=se),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=(0,N.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:Q(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),pe(this,ye)[ye]=new he((()=>this.opts),this.i18n),pe(this,ve)[ve]=this.store.subscribe(((e,t,i)=>{this.emit("state-update",e,t,i),this.updateAll(t)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),pe(this,Oe)[Oe]()}emit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];pe(this,be)[be].emit(e,...i)}on(e,t){return pe(this,be)[be].on(e,t),this}once(e,t){return pe(this,be)[be].once(e,t),this}off(e,t){return pe(this,be)[be].off(e,t),this}updateAll(e){this.iteratePlugins((t=>{t.update(e)}))}setState(e){this.store.setState(e)}getState(){return this.store.getState()}setFileState(e,t){if(!this.getState().files[e])throw new Error(`Can’t set state for ${e} (the file could have been removed)`);this.setState({files:{...this.getState().files,[e]:{...this.getState().files[e],...t}}})}i18nInit(){let e=new A([this.defaultLocale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.locale=e.locale}setOptions(e){this.opts={...this.opts,...e,restrictions:{...this.opts.restrictions,...e&&e.restrictions}},e.meta&&this.setMeta(e.meta),this.i18nInit(),e.locale&&this.iteratePlugins((e=>{e.setOptions()})),this.setState()}resetProgress(){let e={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},t={...this.getState().files},i={};Object.keys(t).forEach((r=>{let s={...t[r]};s.progress={...s.progress,...e},i[r]=s})),this.setState({files:i,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(e){pe(this,we)[we].add(e)}removePreProcessor(e){return pe(this,we)[we].delete(e)}addPostProcessor(e){pe(this,ke)[ke].add(e)}removePostProcessor(e){return pe(this,ke)[ke].delete(e)}addUploader(e){pe(this,_e)[_e].add(e)}removeUploader(e){return pe(this,_e)[_e].delete(e)}setMeta(e){let t={...this.getState().meta,...e},i={...this.getState().files};Object.keys(i).forEach((t=>{i[t]={...i[t],meta:{...i[t].meta,...e}}})),this.log("Adding metadata:"),this.log(e),this.setState({meta:t,files:i})}setFileMeta(e,t){let i={...this.getState().files};if(!i[e])return void this.log("Was trying to set metadata for a file that has been removed: ",e);let r={...i[e].meta,...t};i[e]={...i[e],meta:r},this.setState({files:i})}getFile(e){return this.getState().files[e]}getFiles(){let{files:e}=this.getState();return Object.values(e)}getObjectOfFilesPerState(){let{files:e,totalProgress:t,error:i}=this.getState(),r=Object.values(e),s=r.filter((e=>{let{progress:t}=e;return!t.uploadComplete&&t.uploadStarted})),n=r.filter((e=>!e.progress.uploadStarted)),o=r.filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess)),a=r.filter((e=>e.progress.uploadStarted)),l=r.filter((e=>e.isPaused)),h=r.filter((e=>e.progress.uploadComplete)),c=r.filter((e=>e.error)),d=s.filter((e=>!e.isPaused)),u=r.filter((e=>e.progress.preprocess||e.progress.postprocess));return{newFiles:n,startedFiles:o,uploadStartedFiles:a,pausedFiles:l,completeFiles:h,erroredFiles:c,inProgressFiles:s,inProgressNotPausedFiles:d,processingFiles:u,isUploadStarted:a.length>0,isAllComplete:100===t&&h.length===r.length&&0===u.length,isAllErrored:!!i&&c.length===r.length,isAllPaused:0!==s.length&&l.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:r.some((e=>e.isGhost))}}validateRestrictions(e,t){void 0===t&&(t=this.getFiles());try{pe(this,ye)[ye].validate(e,t)}catch(e){return e}return null}checkIfFileAlreadyExists(e){let{files:t}=this.getState();return!(!t[e]||t[e].isGhost)}addFile(e){pe(this,je)[je](e);let{files:t}=this.getState(),i=pe(this,Ce)[Ce](t,e);return t[i.id]&&t[i.id].isGhost&&(i={...t[i.id],data:e.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${i.name}, ${i.id}`)),this.setState({files:{...t,[i.id]:i}}),this.emit("file-added",i),this.emit("files-added",[i]),this.log(`Added file: ${i.name}, ${i.id}, mime type: ${i.type}`),pe(this,Ee)[Ee](),i.id}addFiles(e){pe(this,je)[je]();let t={...this.getState().files},i=[],r=[];for(let s=0;s<e.length;s++)try{let r=pe(this,Ce)[Ce](t,e[s]);t[r.id]&&t[r.id].isGhost&&(r={...t[r.id],data:e[s].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${r.name}, ${r.id}`)),t[r.id]=r,i.push(r)}catch(e){e.isRestriction||r.push(e)}if(this.setState({files:t}),i.forEach((e=>{this.emit("file-added",e)})),this.emit("files-added",i),i.length>5?this.log(`Added batch of ${i.length} files`):Object.keys(i).forEach((e=>{this.log(`Added file: ${i[e].name}\n id: ${i[e].id}\n type: ${i[e].type}`)})),i.length>0&&pe(this,Ee)[Ee](),r.length>0){let e="Multiple errors occurred while adding files:\n";if(r.forEach((t=>{e+=`\n * ${t.message}`})),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:r.length}),details:e},"error",this.opts.infoTimeout),"function"==typeof AggregateError)throw new AggregateError(r,e);{let t=new Error(e);throw t.errors=r,t}}}removeFiles(e,t){let{files:i,currentUploads:r}=this.getState(),s={...i},n={...r},a=Object.create(null);function l(e){return void 0===a[e]}e.forEach((e=>{i[e]&&(a[e]=i[e],delete s[e])})),o(l,"fileIsNotRemoved"),Object.keys(n).forEach((e=>{let t=r[e].fileIDs.filter(l);if(0===t.length)return void delete n[e];let{capabilities:i}=this.getState();if(t.length!==r[e].fileIDs.length&&!i.individualCancellation)throw new Error("individualCancellation is disabled");n[e]={...r[e],fileIDs:t}}));let h={currentUploads:n,files:s};0===Object.keys(s).length&&(h.allowNewUpload=!0,h.error=null,h.recoveredState=null),this.setState(h),this.calculateTotalProgress();let c=Object.keys(a);c.forEach((e=>{this.emit("file-removed",a[e],t)})),c.length>5?this.log(`Removed ${c.length} files`):this.log(`Removed files: ${c.join(", ")}`)}removeFile(e,t){void 0===t&&(t=null),this.removeFiles([e],t)}pauseResume(e){if(!this.getState().capabilities.resumableUploads||this.getFile(e).uploadComplete)return;let t=!this.getFile(e).isPaused;return this.setFileState(e,{isPaused:t}),this.emit("upload-pause",e,t),t}pauseAll(){let e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{let i={...e[t],isPaused:!0};e[t]=i})),this.setState({files:e}),this.emit("pause-all")}resumeAll(){let e={...this.getState().files};Object.keys(e).filter((t=>!e[t].progress.uploadComplete&&e[t].progress.uploadStarted)).forEach((t=>{let i={...e[t],isPaused:!1,error:null};e[t]=i})),this.setState({files:e}),this.emit("resume-all")}retryAll(){let e={...this.getState().files},t=Object.keys(e).filter((t=>e[t].error));if(t.forEach((t=>{let i={...e[t],isPaused:!1,error:null};e[t]=i})),this.setState({files:e,error:null}),this.emit("retry-all",t),0===t.length)return Promise.resolve({successful:[],failed:[]});let i=pe(this,Fe)[Fe](t,{forceAllowNewUpload:!0});return pe(this,Ae)[Ae](i)}cancelAll(e){let{reason:t="user"}=void 0===e?{}:e;if(this.emit("cancel-all",{reason:t}),"user"===t){let{files:e}=this.getState(),t=Object.keys(e);t.length&&this.removeFiles(t,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(e){this.setFileState(e,{error:null,isPaused:!1}),this.emit("upload-retry",e);let t=pe(this,Fe)[Fe]([e],{forceAllowNewUpload:!0});return pe(this,Ae)[Ae](t)}logout(){this.iteratePlugins((e=>{e.provider&&e.provider.logout&&e.provider.logout()}))}calculateProgress(e,t){if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);let i=Number.isFinite(t.bytesTotal)&&t.bytesTotal>0;this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,bytesUploaded:t.bytesUploaded,bytesTotal:t.bytesTotal,percentage:i?Math.round(t.bytesUploaded/t.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){let e=this.getFiles().filter((e=>e.progress.uploadStarted||e.progress.preprocess||e.progress.postprocess));if(0===e.length)return this.emit("progress",0),void this.setState({totalProgress:0});let t=e.filter((e=>null!=e.progress.bytesTotal)),i=e.filter((e=>null==e.progress.bytesTotal));if(0===t.length){let t=100*e.length,r=i.reduce(((e,t)=>e+t.progress.percentage),0),s=Math.round(r/t*100);return void this.setState({totalProgress:s})}let r=t.reduce(((e,t)=>e+t.progress.bytesTotal),0),s=r/t.length;r+=s*i.length;let n=0;t.forEach((e=>{n+=e.progress.bytesUploaded})),i.forEach((e=>{n+=s*(e.progress.percentage||0)/100}));let o=0===r?0:Math.round(n/r*100);o>100&&(o=100),this.setState({totalProgress:o}),this.emit("progress",o)}updateOnlineStatus(){typeof window.navigator.onLine<"u"&&!window.navigator.onLine?(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0):(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1))}getID(){return this.opts.id}use(e,t){if("function"!=typeof e){throw new TypeError(`Expected a plugin class, but got ${null===e?"null":typeof e}. Please verify that the plugin was imported and spelled correctly.`)}let i=new e(this,t),r=i.id;if(!r)throw new Error("Your plugin must have an id");if(!i.type)throw new Error("Your plugin must have a type");let s=this.getPlugin(r);if(s){let e=`Already found a plugin named '${s.id}'. Tried to use: '${r}'.\nUppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(e)}return e.VERSION&&this.log(`Using ${r} v${e.VERSION}`),i.type in pe(this,ge)[ge]?pe(this,ge)[ge][i.type].push(i):pe(this,ge)[ge][i.type]=[i],i.install(),this}getPlugin(e){for(let t of Object.values(pe(this,ge)[ge])){let i=t.find((t=>t.id===e));if(null!=i)return i}}[ce](e){return pe(this,ge)[ge][e]}iteratePlugins(e){Object.values(pe(this,ge)[ge]).flat(1).forEach(e)}removePlugin(e){this.log(`Removing plugin ${e.id}`),this.emit("plugin-remove",e),e.uninstall&&e.uninstall();let t=pe(this,ge)[ge][e.type],i=t.findIndex((t=>t.id===e.id));-1!==i&&t.splice(i,1);let r={plugins:{...this.getState().plugins,[e.id]:void 0}};this.setState(r)}close(e){let{reason:t}=void 0===e?{}:e;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:t}),pe(this,ve)[ve](),this.iteratePlugins((e=>{this.removePlugin(e)})),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",pe(this,Pe)[Pe]),window.removeEventListener("offline",pe(this,Pe)[Pe]))}hideInfo(){let{info:e}=this.getState();this.setState({info:e.slice(1)}),this.emit("info-hidden")}info(e,t,i){void 0===t&&(t="info"),void 0===i&&(i=3e3);let r="object"==typeof e;this.setState({info:[...this.getState().info,{type:t,message:r?e.message:e,details:r?e.details:null}]}),setTimeout((()=>this.hideInfo()),i),this.emit("info-visible")}log(e,t){let{logger:i}=this.opts;switch(t){case"error":i.error(e);break;case"warning":i.warn(e);break;default:i.debug(e)}}restore(e){return this.log(`Core: attempting to restore upload "${e}"`),this.getState().currentUploads[e]?pe(this,Ae)[Ae](e):(pe(this,De)[De](e),Promise.reject(new Error("Nonexistent upload")))}[de](){return pe(this,Fe)[Fe](...arguments)}addResultData(e,t){if(!pe(this,Me)[Me](e))return void this.log(`Not setting result for an upload that has been removed: ${e}`);let{currentUploads:i}=this.getState(),r={...i[e],result:{...i[e].result,...t}};this.setState({currentUploads:{...i,[e]:r}})}upload(){var e;null!=(e=pe(this,ge)[ge].uploader)&&e.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState(),i=this.opts.onBeforeUpload(t);return!1===i?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(i&&"object"==typeof i&&(t=i,this.setState({files:t})),Promise.resolve().then((()=>pe(this,ye)[ye].validateMinNumberOfFiles(t))).catch((e=>{throw pe(this,Se)[Se](e),e})).then((()=>{if(!pe(this,Te)[Te](t))throw new le(this.i18n("missingRequiredMetaField"))})).catch((e=>{throw e})).then((()=>{let{currentUploads:e}=this.getState(),i=Object.values(e).flatMap((e=>e.fileIDs)),r=[];Object.keys(t).forEach((e=>{let t=this.getFile(e);!t.progress.uploadStarted&&-1===i.indexOf(e)&&r.push(t.id)}));let s=pe(this,Fe)[Fe](r);return pe(this,Ae)[Ae](s)})).catch((e=>{throw this.emit("error",e),this.log(e,"error"),e})))}};function Le(e,t){let{message:i,details:r=""}=e;e.isRestriction?this.emit("restriction-failed",t,e):this.emit("error",e),this.info({message:i,details:r},"error",this.opts.infoTimeout),this.log(`${i} ${r}`.trim(),"error")}function Ie(e){let{missingFields:t,error:i}=pe(this,ye)[ye].getMissingRequiredMetaFields(e);return!(t.length>0)||(this.setFileState(e.id,{missingRequiredMetaFields:t}),this.log(i.message),this.emit("restriction-failed",e,i),!1)}function Ne(e){let t=!0;for(let i of Object.values(e))pe(this,xe)[xe](i)||(t=!1);return t}function Be(e){let{allowNewUpload:t}=this.getState();if(!1===t){let t=new le(this.i18n("noMoreFilesAllowed"));throw pe(this,Se)[Se](t,e),t}}function ze(e,t){t instanceof File&&(t={name:t.name,type:t.type,size:t.size,data:t});let i=K(t),r=ee(i,t),s=Y(r).extension,n=Boolean(t.isRemote),o=J({...t,type:i});if(this.checkIfFileAlreadyExists(o)){let e=new le(this.i18n("noDuplicates",{fileName:r}));throw pe(this,Se)[Se](e,t),e}let a=t.meta||{};a.name=r,a.type=i;let l=Number.isFinite(t.data.size)?t.data.size:null,h={source:t.source||"",id:o,name:r,extension:s||"",meta:{...this.getState().meta,...a},type:i,data:t.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:l,uploadComplete:!1,uploadStarted:null},size:l,isRemote:n,remote:t.remote||"",preview:t.preview},c=this.opts.onBeforeFileAdded(h,e);if(!1===c){let e=new le("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",t,e),e}"object"==typeof c&&null!==c&&(h=c);try{let t=Object.keys(e).map((t=>e[t]));pe(this,ye)[ye].validate(h,t)}catch(e){throw pe(this,Se)[Se](e,h),e}return h}function Ue(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout((()=>{this.scheduledAutoProceed=null,this.upload().catch((e=>{e.isRestriction||this.log(e.stack||e.message||e)}))}),4))}function He(){let e=o(((e,t,i)=>{let r=e.message||"Unknown error";e.details&&(r+=` ${e.details}`),this.setState({error:r}),null!=t&&t.id in this.getState().files&&this.setFileState(t.id,{error:r,response:i})}),"errorHandler");this.on("error",e),this.on("upload-error",((t,i,r)=>{if(e(i,t,r),"object"==typeof i&&i.message){let e=new Error(i.message);e.details=i.message,i.details&&(e.details+=` ${i.details}`),e.message=this.i18n("failedToUpload",{file:t?.name}),pe(this,Se)[Se](e)}else pe(this,Se)[Se](i)})),this.on("upload",(()=>{this.setState({error:null})})),this.on("upload-started",(e=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:e.size}}):this.log(`Not setting progress for a file that has been removed: ${e?.id}`)})),this.on("upload-progress",this.calculateProgress),this.on("upload-success",((e,t)=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);let i=this.getFile(e.id).progress;this.setFileState(e.id,{progress:{...i,postprocess:pe(this,ke)[ke].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:i.bytesTotal},response:t,uploadURL:t.uploadURL,isPaused:!1}),null==e.size&&this.setFileState(e.id,{size:t.bytesUploaded||i.bytesTotal}),this.calculateTotalProgress()})),this.on("preprocess-progress",((e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getFile(e.id).progress,preprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${e?.id}`)})),this.on("preprocess-complete",(e=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);let t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.preprocess,this.setState({files:t})})),this.on("postprocess-progress",((e,t)=>{null!=e&&this.getFile(e.id)?this.setFileState(e.id,{progress:{...this.getState().files[e.id].progress,postprocess:t}}):this.log(`Not setting progress for a file that has been removed: ${e?.id}`)})),this.on("postprocess-complete",(e=>{if(null==e||!this.getFile(e.id))return void this.log(`Not setting progress for a file that has been removed: ${e?.id}`);let t={...this.getState().files};t[e.id]={...t[e.id],progress:{...t[e.id].progress}},delete t[e.id].progress.postprocess,this.setState({files:t})})),this.on("restored",(()=>{this.calculateTotalProgress()})),this.on("dashboard:file-edit-complete",(e=>{e&&pe(this,xe)[xe](e)})),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",pe(this,Pe)[Pe]),window.addEventListener("offline",pe(this,Pe)[Pe]),setTimeout(pe(this,Pe)[Pe],3e3))}function We(e,t){void 0===t&&(t={});let{forceAllowNewUpload:i=!1}=t,{allowNewUpload:r,currentUploads:s}=this.getState();if(!r&&!i)throw new Error("Cannot create a new upload: already uploading.");let n=I();return this.emit("upload",{id:n,fileIDs:e}),this.setState({allowNewUpload:!1!==this.opts.allowMultipleUploadBatches&&!1!==this.opts.allowMultipleUploads,currentUploads:{...s,[n]:{fileIDs:e,step:0,result:{}}}}),n}function Ve(e){let{currentUploads:t}=this.getState();return t[e]}function qe(e){let t={...this.getState().currentUploads};delete t[e],this.setState({currentUploads:t})}async function Ge(e){let t,{currentUploads:i}=this.getState(),r=i[e],s=r.step||0,n=[...pe(this,we)[we],...pe(this,_e)[_e],...pe(this,ke)[ke]];try{for(let t=s;t<n.length&&r;t++){let s=n[t],o={...r,step:t};this.setState({currentUploads:{...i,[e]:o}}),await s(o.fileIDs,e),i=this.getState().currentUploads,r=i[e]}}catch(t){throw pe(this,De)[De](e),t}if(r){r.fileIDs.forEach((e=>{let t=this.getFile(e);t&&t.progress.postprocess&&this.emit("postprocess-complete",t)}));let t=r.fileIDs.map((e=>this.getFile(e))),s=t.filter((e=>!e.error)),n=t.filter((e=>e.error));await this.addResultData(e,{successful:s,failed:n,uploadID:e}),i=this.getState().currentUploads,r=i[e]}return r&&(t=r.result,this.emit("complete",t),pe(this,De)[De](e)),null==t&&this.log(`Not setting result for an upload that has been removed: ${e}`),t}o(Re,"Uppy"),o(Le,"_informAndEmit2"),o(Ie,"_checkRequiredMetaFieldsOnFile2"),o(Ne,"_checkRequiredMetaFields2"),o(Be,"_assertNewUploadAllowed2"),o(ze,"_checkAndCreateFileStateObject2"),o(Ue,"_startIfAutoProceed2"),o(He,"_addListeners2"),o(We,"_createUpload2"),o(Ve,"_getUpload2"),o(qe,"_removeUpload2"),o(Ge,"_runUpload2"),Re.VERSION="3.0.4";var Ye,$e,Ke,Xe,Ze,Je=Re,Qe={},et=[],tt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function it(e,t){for(var i in t)e[i]=t[i];return e}function rt(e){var t=e.parentNode;t&&t.removeChild(e)}function st(e,t,i){var r,s,n,o={};for(n in t)"key"==n?r=t[n]:"ref"==n?s=t[n]:o[n]=t[n];if(arguments.length>2&&(o.children=arguments.length>3?Ye.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===o[n]&&(o[n]=e.defaultProps[n]);return nt(e,o,r,s,null)}function nt(e,t,i,r,s){var n={type:e,props:t,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Ke};return null==s&&null!=$e.vnode&&$e.vnode(n),n}function ot(){return{current:null}}function at(e){return e.children}function lt(e,t){this.props=e,this.context=t}function ht(e,t){if(null==t)return e.__?ht(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?ht(e):null}function ct(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return ct(e)}}function dt(e){(!e.__d&&(e.__d=!0)&&Xe.push(e)&&!ut.__r++||Ze!==$e.debounceRendering)&&((Ze=$e.debounceRendering)||setTimeout)(ut)}function ut(){for(var e;ut.__r=Xe.length;)e=Xe.sort((function(e,t){return e.__v.__b-t.__v.__b})),Xe=[],e.some((function(e){var t,i,r,s,n,o;e.__d&&(n=(s=(t=e).__v).__e,(o=t.__P)&&(i=[],(r=it({},s)).__v=s.__v+1,kt(o,s,r,t.__n,void 0!==o.ownerSVGElement,null!=s.__h?[n]:null,i,n??ht(s),s.__h),St(i,s),s.__e!=n&&ct(s)))}))}function pt(e,t,i,r,s,n,o,a,l,h){var c,d,u,p,f,m,g,y=r&&r.__k||et,v=y.length;for(i.__k=[],c=0;c<t.length;c++)if(null!=(p=i.__k[c]=null==(p=t[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?nt(null,p,null,null,p):Array.isArray(p)?nt(at,{children:p},null,null,null):p.__b>0?nt(p.type,p.props,p.key,null,p.__v):p)){if(p.__=i,p.__b=i.__b+1,null===(u=y[c])||u&&p.key==u.key&&p.type===u.type)y[c]=void 0;else for(d=0;d<v;d++){if((u=y[d])&&p.key==u.key&&p.type===u.type){y[d]=void 0;break}u=null}kt(e,p,u=u||Qe,s,n,o,a,l,h),f=p.__e,(d=p.ref)&&u.ref!=d&&(g||(g=[]),u.ref&&g.push(u.ref,null,p),g.push(d,p.__c||f,p)),null!=f?(null==m&&(m=f),"function"==typeof p.type&&p.__k===u.__k?p.__d=l=ft(p,l,e):l=gt(e,p,u,y,f,l),"function"==typeof i.type&&(i.__d=l)):l&&u.__e==l&&l.parentNode!=e&&(l=ht(u))}for(i.__e=m,c=v;c--;)null!=y[c]&&("function"==typeof i.type&&null!=y[c].__e&&y[c].__e==i.__d&&(i.__d=ht(r,c+1)),jt(y[c],y[c]));if(g)for(c=0;c<g.length;c++)Tt(g[c],g[++c],g[++c])}function ft(e,t,i){for(var r,s=e.__k,n=0;s&&n<s.length;n++)(r=s[n])&&(r.__=e,t="function"==typeof r.type?ft(r,t,i):gt(i,r,r,s,r.__e,t));return t}function mt(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){mt(e,t)})):t.push(e)),t}function gt(e,t,i,r,s,n){var o,a,l;if(void 0!==t.__d)o=t.__d,t.__d=void 0;else if(null==i||s!=n||null==s.parentNode)e:if(null==n||n.parentNode!==e)e.appendChild(s),o=null;else{for(a=n,l=0;(a=a.nextSibling)&&l<r.length;l+=2)if(a==s)break e;e.insertBefore(s,n),o=n}return void 0!==o?o:s.nextSibling}function yt(e,t,i,r,s){var n;for(n in i)"children"===n||"key"===n||n in t||bt(e,n,null,i[n],r);for(n in t)s&&"function"!=typeof t[n]||"children"===n||"key"===n||"value"===n||"checked"===n||i[n]===t[n]||bt(e,n,t[n],i[n],r)}function vt(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||tt.test(t)?i:i+"px"}function bt(e,t,i,r,s){var n;e:if("style"===t)if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)i&&t in i||vt(e.style,t,"");if(i)for(t in i)r&&i[t]===r[t]||vt(e.style,t,i[t])}else if("o"===t[0]&&"n"===t[1])n=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?r||e.addEventListener(t,n?_t:wt,n):e.removeEventListener(t,n?_t:wt,n);else if("dangerouslySetInnerHTML"!==t){if(s)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=i??"";break e}catch{}"function"==typeof i||(null!=i&&(!1!==i||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,i):e.removeAttribute(t))}}function wt(e){this.l[e.type+!1]($e.event?$e.event(e):e)}function _t(e){this.l[e.type+!0]($e.event?$e.event(e):e)}function kt(e,t,i,r,s,n,o,a,l){var h,c,d,u,p,f,m,g,y,v,b,w,_,k=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(l=i.__h,a=t.__e=i.__e,t.__h=null,n=[a]),(h=$e.__b)&&h(t);try{e:if("function"==typeof k){if(g=t.props,y=(h=k.contextType)&&r[h.__c],v=h?y?y.props.value:h.__:r,i.__c?m=(c=t.__c=i.__c).__=c.__E:("prototype"in k&&k.prototype.render?t.__c=c=new k(g,v):(t.__c=c=new lt(g,v),c.constructor=k,c.render=Ct),y&&y.sub(c),c.props=g,c.state||(c.state={}),c.context=v,c.__n=r,d=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=k.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=it({},c.__s)),it(c.__s,k.getDerivedStateFromProps(g,c.__s))),u=c.props,p=c.state,d)null==k.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==k.getDerivedStateFromProps&&g!==u&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,v),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,v)||t.__v===i.__v){c.props=g,c.state=c.__s,t.__v!==i.__v&&(c.__d=!1),c.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),c.__h.length&&o.push(c);break e}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,v),null!=c.componentDidUpdate&&c.__h.push((function(){c.componentDidUpdate(u,p,f)}))}if(c.context=v,c.props=g,c.__v=t,c.__P=e,b=$e.__r,w=0,"prototype"in k&&k.prototype.render)c.state=c.__s,c.__d=!1,b&&b(t),h=c.render(c.props,c.state,c.context);else do{c.__d=!1,b&&b(t),h=c.render(c.props,c.state,c.context),c.state=c.__s}while(c.__d&&++w<25);c.state=c.__s,null!=c.getChildContext&&(r=it(it({},r),c.getChildContext())),d||null==c.getSnapshotBeforeUpdate||(f=c.getSnapshotBeforeUpdate(u,p)),_=null!=h&&h.type===at&&null==h.key?h.props.children:h,pt(e,Array.isArray(_)?_:[_],t,i,r,s,n,o,a,l),c.base=t.__e,t.__h=null,c.__h.length&&o.push(c),m&&(c.__E=c.__=null),c.__e=!1}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=xt(i.__e,t,i,r,s,n,o,l);(h=$e.diffed)&&h(t)}catch(e){t.__v=null,(l||null!=n)&&(t.__e=a,t.__h=!!l,n[n.indexOf(a)]=null),$e.__e(e,t,i)}}function St(e,t){$e.__c&&$e.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){$e.__e(e,t.__v)}}))}function xt(e,t,i,r,s,n,o,a){var l,h,c,d=i.props,u=t.props,p=t.type,f=0;if("svg"===p&&(s=!0),null!=n)for(;f<n.length;f++)if((l=n[f])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){e=l,n[f]=null;break}if(null==e){if(null===p)return document.createTextNode(u);e=s?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,u.is&&u),n=null,a=!1}if(null===p)d===u||a&&e.data===u||(e.data=u);else{if(n=n&&Ye.call(e.childNodes),h=(d=i.props||Qe).dangerouslySetInnerHTML,c=u.dangerouslySetInnerHTML,!a){if(null!=n)for(d={},f=0;f<e.attributes.length;f++)d[e.attributes[f].name]=e.attributes[f].value;(c||h)&&(c&&(h&&c.__html==h.__html||c.__html===e.innerHTML)||(e.innerHTML=c&&c.__html||""))}if(yt(e,u,d,s,a),c)t.__k=[];else if(f=t.props.children,pt(e,Array.isArray(f)?f:[f],t,i,r,s&&"foreignObject"!==p,n,o,n?n[0]:i.__k&&ht(i,0),a),null!=n)for(f=n.length;f--;)null!=n[f]&&rt(n[f]);a||("value"in u&&void 0!==(f=u.value)&&(f!==e.value||"progress"===p&&!f||"option"===p&&f!==d.value)&&bt(e,"value",f,d.value,!1),"checked"in u&&void 0!==(f=u.checked)&&f!==e.checked&&bt(e,"checked",f,d.checked,!1))}return e}function Tt(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){$e.__e(e,i)}}function jt(e,t,i){var r,s;if($e.unmount&&$e.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Tt(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){$e.__e(e,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&jt(r[s],t,"function"!=typeof e.type);i||null==e.__e||rt(e.__e),e.__e=e.__d=void 0}function Ct(e,t,i){return this.constructor(e,i)}function Et(e,t,i){var r,s,n;$e.__&&$e.__(e,t),s=(r="function"==typeof i)?null:i&&i.__k||t.__k,n=[],kt(t,e=(!r&&i||t).__k=st(at,null,[e]),s||Qe,Qe,void 0!==t.ownerSVGElement,!r&&i?[i]:s?null:t.firstChild?Ye.call(t.childNodes):null,n,!r&&i?i:s?s.__e:t.firstChild,r),St(n,e)}function Ot(e,t,i){var r,s,n,o=it({},e.props);for(n in t)"key"==n?r=t[n]:"ref"==n?s=t[n]:o[n]=t[n];return arguments.length>2&&(o.children=arguments.length>3?Ye.call(arguments,2):i),nt(e.type,o,r||e.key,s||e.ref,null)}function Pt(e){return e?.nodeType===Node.ELEMENT_NODE}function Ft(e,t){return void 0===t&&(t=document),"string"==typeof e?t.querySelector(e):Pt(e)?e:null}function Mt(e){for(var t;e&&!e.dir;)e=e.parentNode;return null==(t=e)?void 0:t.dir}o(it,"s"),o(rt,"a"),o(st,"h"),o(nt,"v"),o(ot,"y"),o(at,"p"),o(lt,"d"),o(ht,"_"),o(ct,"k"),o(dt,"b"),o(ut,"g"),o(pt,"w"),o(ft,"m"),o(mt,"x"),o(gt,"A"),o(yt,"C"),o(vt,"$"),o(bt,"H"),o(wt,"I"),o(_t,"T"),o(kt,"j"),o(St,"z"),o(xt,"L"),o(Tt,"M"),o(jt,"N"),o(Ct,"O"),o(Et,"P"),o(Ot,"q"),Ye=et.slice,$e={__e:function(e,t,i,r){for(var s,n,o;t=t.__;)if((s=t.__c)&&!s.__)try{if((n=s.constructor)&&null!=n.getDerivedStateFromError&&(s.setState(n.getDerivedStateFromError(e)),o=s.__d),null!=s.componentDidCatch&&(s.componentDidCatch(e,r||{}),o=s.__d),o)return s.__E=s}catch(t){e=t}throw e}},Ke=0,o((function(e){return null!=e&&void 0===e.constructor}),"i"),lt.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=it({},this.state),"function"==typeof e&&(e=e(it({},i),this.props)),e&&it(i,e),null!=e&&this.__v&&(t&&this.__h.push(t),dt(this))},lt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),dt(this))},lt.prototype.render=at,Xe=[],ut.__r=0,o(Pt,"isDOMElement"),o(Ft,"findDOMElement"),o(Mt,"getTextDirection");var Dt=Mt,At=class{constructor(e,t){void 0===t&&(t={}),this.uppy=e,this.opts=t}getPluginState(){let{plugins:e}=this.uppy.getState();return e[this.id]||{}}setPluginState(e){let{plugins:t}=this.uppy.getState();this.uppy.setState({plugins:{...t,[this.id]:{...t[this.id],...e}}})}setOptions(e){this.opts={...this.opts,...e},this.setPluginState(),this.i18nInit()}i18nInit(){let e=new A([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=e.translate.bind(e),this.i18nArray=e.translateArray.bind(e),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};function Rt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(At,"BasePlugin"),o(Rt,"_classPrivateFieldLooseBase");var Lt=0;function It(e){return"__private_"+Lt+++"_"+e}function Nt(e){let t=null,i=null;return function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return i=s,t||(t=Promise.resolve().then((()=>(t=null,e(...i))))),t}}o(It,"_classPrivateFieldLooseKey"),o(Nt,"debounce");var Bt=It("updateUI"),zt=class extends At{constructor(){super(...arguments),Object.defineProperty(this,Bt,{writable:!0,value:void 0})}getTargetPlugin(e){let t;if("object"==typeof e&&e instanceof zt)t=e;else if("function"==typeof e){let i=e;this.uppy.iteratePlugins((e=>{e instanceof i&&(t=e)}))}return t}mount(e,t){let i=t.id,r=Ft(e);if(r){this.isTargetDOMEl=!0;let t=document.createElement("div");return t.classList.add("uppy-Root"),Rt(this,Bt)[Bt]=Nt((e=>{!this.uppy.getPlugin(this.id)||(Et(this.render(e),t),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${e}'`),this.opts.replaceTargetContent&&(r.innerHTML=""),Et(this.render(this.uppy.getState()),t),this.el=t,r.appendChild(t),t.dir=this.opts.direction||Dt(t)||"ltr",this.onMount(),this.el}let s=this.getTargetPlugin(e);if(s)return this.uppy.log(`Installing ${i} to ${s.id}`),this.parent=s,this.el=s.addTarget(t),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let n=`Invalid target option given to ${i}.`;throw n+="function"==typeof e?" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":"If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(n)}update(e){var t,i;null!=this.el&&(null==(t=(i=Rt(this,Bt))[Bt])||t.call(i,e))}unmount(){var e;this.isTargetDOMEl&&(null==(e=this.el)||e.remove());this.onUnmount()}onMount(){}onUnmount(){}};o(zt,"UIPlugin");var Ut=zt,Ht={};l(Ht,{Provider:()=>fi,RequestClient:()=>oi,SearchProvider:()=>gi,Socket:()=>Ei});var Wt=class extends Error{constructor(e,t){void 0===t&&(t=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=e,this.isNetworkError=!0,this.request=t}};o(Wt,"NetworkError");var Vt=Wt;function qt(){return fetch(...arguments).catch((e=>{throw"AbortError"===e.name?e:new Vt(e)}))}o(qt,"fetchWithNetworkError");var Gt=class extends Error{constructor(e,t){void 0===t&&(t={}),super(e),this.cause=t.cause,this.cause&&C(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}};o(Gt,"ErrorWithCause");var Yt=Gt,$t=class extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}};o($t,"AuthError");var Kt,Xt=$t;function Zt(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Zt,"_classPrivateFieldLooseBase");var Jt=0;function Qt(e){return"__private_"+Jt+++"_"+e}o(Qt,"_classPrivateFieldLooseKey");function ei(e){return e.replace(/\/$/,"")}async function ti(e){if(401===e.status)throw new Xt;let t=e.json();if(e.ok)return t;let i=`Failed request with status: ${e.status}. ${e.statusText}`;try{let e=await t;i=e.message?`${i} message: ${e.message}`:i,i=e.requestId?`${i} request-Id: ${e.requestId}`:i}catch{}throw new Error(i)}o(ei,"stripSlash"),o(ti,"handleJSONResponse");var ii=new Map,ri=Qt("companionHeaders"),si=Qt("getUrl"),ni=Qt("request");Kt=Symbol.for("uppy test: getCompanionHeaders");var oi=class{constructor(e,t){Object.defineProperty(this,ni,{value:li}),Object.defineProperty(this,si,{value:ai}),Object.defineProperty(this,ri,{writable:!0,value:void 0}),this.uppy=e,this.opts=t,this.onReceiveResponse=this.onReceiveResponse.bind(this),Zt(this,ri)[ri]=t?.companionHeaders}setCompanionHeaders(e){Zt(this,ri)[ri]=e}[Kt](){return Zt(this,ri)[ri]}get hostname(){let{companion:e}=this.uppy.getState(),t=this.opts.companionUrl;return ei(e&&e[t]?e[t]:t)}async headers(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${oi.VERSION}`,...Zt(this,ri)[ri]}}onReceiveResponse(e){let{headers:t}=e,i=this.uppy.getState().companion||{},r=this.opts.companionUrl;t.has("i-am")&&t.get("i-am")!==i[r]&&this.uppy.setState({companion:{...i,[r]:t.get("i-am")}})}async preflight(e){let t=ii.get(this.hostname);if(null!=t)return t;let i=["accept","content-type","uppy-auth-token"],r=(async()=>{try{let t=(await fetch(Zt(this,si)[si](e),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(null==t||"*"===t)return ii.set(this.hostname,i),i;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${t}`);let r=t.split(",").map((e=>e.trim().toLowerCase()));return ii.set(this.hostname,r),r}catch(e){return this.uppy.log(`[CompanionClient] unable to make preflight request ${e}`,"warning"),ii.delete(this.hostname),i}})();return ii.set(this.hostname,r),r}async preflightAndHeaders(e){let[t,i]=await Promise.all([this.preflight(e),this.headers()]);return Object.fromEntries(Object.entries(i).filter((e=>{let[i]=e;return!!t.includes(i.toLowerCase())||(this.uppy.log(`[CompanionClient] excluding disallowed header ${i}`),!1)})))}async get(e,t){return void 0===t&&(t=void 0),"boolean"==typeof t&&(t={skipPostResponse:t}),Zt(this,ni)[ni]({...t,path:e})}async post(e,t,i){return void 0===i&&(i=void 0),"boolean"==typeof i&&(i={skipPostResponse:i}),Zt(this,ni)[ni]({...i,path:e,method:"POST",data:t})}async delete(e,t,i){return void 0===t&&(t=void 0),"boolean"==typeof i&&(i={skipPostResponse:i}),Zt(this,ni)[ni]({...i,path:e,method:"DELETE",data:t})}};function ai(e){return/^(https?:|)\/\//.test(e)?e:`${this.hostname}/${e}`}async function li(e){let{path:t,method:i="GET",data:r,skipPostResponse:s,signal:n}=e;try{let e=await this.preflightAndHeaders(t),o=await qt(Zt(this,si)[si](t),{method:i,signal:n,headers:e,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return s||this.onReceiveResponse(o),ti(o)}catch(e){throw null!=e&&e.isAuthError?e:new Yt(`Could not ${i} ${Zt(this,si)[si](t)}`,{cause:e})}}o(oi,"RequestClient"),o(ai,"_getUrl2"),o(li,"_request2"),oi.VERSION="3.1.1";var hi={};function ci(e,t){return new Promise((i=>{localStorage.setItem(e,t),i()}))}function di(e){return Promise.resolve(localStorage.getItem(e))}function ui(e){return new Promise((t=>{localStorage.removeItem(e),t()}))}l(hi,{getItem:()=>di,removeItem:()=>ui,setItem:()=>ci}),o(ci,"setItem"),o(di,"getItem"),o(ui,"removeItem");var pi=o((e=>e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")),"getName"),fi=class extends oi{constructor(e,t){super(e,t),this.provider=t.provider,this.id=this.provider,this.name=this.opts.name||pi(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){let[e,t]=await Promise.all([super.headers(),this.getAuthToken()]),i={};return t&&(i["uppy-auth-token"]=t),this.companionKeysParams&&(i["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...e,...i}}onReceiveResponse(e){super.onReceiveResponse(e);let t=this.uppy.getPlugin(this.pluginId),i=t.getPluginState().authenticated?401!==e.status:e.status<400;return t.setPluginState({authenticated:i}),e}setAuthToken(e){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,e)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(e){void 0===e&&(e={});let t=new URLSearchParams(e);return this.preAuthToken&&t.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${t}`}fileUrl(e){return`${this.hostname}/${this.id}/get/${e}`}async fetchPreAuthToken(){if(this.companionKeysParams)try{let e=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=e.token}catch(e){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${e}`,"warning")}}list(e){return this.get(`${this.id}/list/${e||""}`)}logout(){return this.get(`${this.id}/logout`).then((e=>Promise.all([e,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)]))).then((e=>{let[t]=e;return t}))}static initPlugin(e,t,i){if(e.type="acquirer",e.files=[],i&&(e.opts={...i,...t}),t.serverUrl||t.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(t.companionAllowedHosts){let i=t.companionAllowedHosts;if(!("string"==typeof i||Array.isArray(i)||i instanceof RegExp))throw new TypeError(`${e.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);e.opts.companionAllowedHosts=i}else/^(?!https?:\/\/).*$/i.test(t.companionUrl)?e.opts.companionAllowedHosts=`https://${t.companionUrl.replace(/^\/\//,"")}`:e.opts.companionAllowedHosts=new URL(t.companionUrl).origin;e.storage=e.opts.storage||hi}};o(fi,"Provider");var mi=o((e=>e.split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ")),"getName"),gi=class extends oi{constructor(e,t){super(e,t),this.provider=t.provider,this.id=this.provider,this.name=this.opts.name||mi(this.id),this.pluginId=this.opts.pluginId}fileUrl(e){return`${this.hostname}/search/${this.id}/get/${e}`}search(e,t){return this.get(`search/${this.id}/list?q=${encodeURIComponent(e)}${t?`&${t}`:""}`)}};o(gi,"SearchProvider");var yi,vi,bi=h(c(),1);function wi(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(wi,"_classPrivateFieldLooseBase");var _i=0;function ki(e){return"__private_"+_i+++"_"+e}o(ki,"_classPrivateFieldLooseKey");var Si=ki("queued"),xi=ki("emitter"),Ti=ki("isOpen"),ji=ki("socket"),Ci=ki("handleMessage");yi=Symbol.for("uppy test: getSocket"),vi=Symbol.for("uppy test: getQueued");var Ei=class{constructor(e){Object.defineProperty(this,Si,{writable:!0,value:[]}),Object.defineProperty(this,xi,{writable:!0,value:(0,bi.default)()}),Object.defineProperty(this,Ti,{writable:!0,value:!1}),Object.defineProperty(this,ji,{writable:!0,value:void 0}),Object.defineProperty(this,Ci,{writable:!0,value:e=>{try{let t=JSON.parse(e.data);this.emit(t.action,t.payload)}catch(e){console.log(e)}}}),this.opts=e,(!e||!1!==e.autoOpen)&&this.open()}get isOpen(){return wi(this,Ti)[Ti]}[yi](){return wi(this,ji)[ji]}[vi](){return wi(this,Si)[Si]}open(){wi(this,ji)[ji]=new WebSocket(this.opts.target),wi(this,ji)[ji].onopen=()=>{for(wi(this,Ti)[Ti]=!0;wi(this,Si)[Si].length>0&&wi(this,Ti)[Ti];){let e=wi(this,Si)[Si].shift();this.send(e.action,e.payload)}},wi(this,ji)[ji].onclose=()=>{wi(this,Ti)[Ti]=!1},wi(this,ji)[ji].onmessage=wi(this,Ci)[Ci]}close(){var e;null==(e=wi(this,ji)[ji])||e.close()}send(e,t){wi(this,Ti)[Ti]?wi(this,ji)[ji].send(JSON.stringify({action:e,payload:t})):wi(this,Si)[Si].push({action:e,payload:t})}on(e,t){wi(this,xi)[xi].on(e,t)}emit(e,t){wi(this,xi)[xi].emit(e,t)}once(e,t){wi(this,xi)[xi].once(e,t)}};o(Ei,"UppySocket");var Oi={};function Pi(){return st("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},st("g",{fill:"none","fill-rule":"evenodd"},st("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),st("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),st("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),st("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),st("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),st("path",{d:"M4 4h18v18H4z"})))}function Fi(e){let{pluginName:t,pluginIcon:i,i18nArray:r,handleAuth:s}=e,n="Google Drive"===t,o=st("span",{className:"uppy-Provider-authTitleName"},t,st("br",null));return st("div",{className:"uppy-Provider-auth"},st("div",{className:"uppy-Provider-authIcon"},i()),st("div",{className:"uppy-Provider-authTitle"},r("authenticateWithTitle",{pluginName:o})),n?st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:s,"data-uppy-super-focusable":!0},st(Pi,null),r("signInWithGoogle")):st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:s,"data-uppy-super-focusable":!0},r("authenticateWith",{pluginName:t})))}l(Oi,{ProviderViews:()=>ur,SearchProviderViews:()=>_r}),o(Pi,"GoogleIcon"),o(Fi,"AuthView");var Mi=Fi,Di=o((e=>{let{i18n:t,logout:i,username:r}=e;return[st("span",{className:"uppy-ProviderBrowser-user",key:"username"},r),st("button",{type:"button",onClick:i,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},t("logOut"))]}),"default"),Ai=o((e=>{let{getFolder:t,title:i,isLast:r}=e;return st(at,null,st("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:t},i),r?"":" / ")}),"Breadcrumb"),Ri=o((e=>{let{getFolder:t,title:i,breadcrumbsIcon:r,directories:s}=e;return st("div",{className:"uppy-Provider-breadcrumbs"},st("div",{className:"uppy-Provider-breadcrumbsIcon"},r),s.map(((e,r)=>st(Ai,{key:e.id,getFolder:()=>t(e.id),title:0===r?i:e.title,isLast:r+1===s.length}))))}),"default"),Li=o((e=>{let t=[];return e.showBreadcrumbs&&t.push(Ri({getFolder:e.getFolder,directories:e.directories,breadcrumbsIcon:e.pluginIcon&&e.pluginIcon(),title:e.title})),t.push(Di({logout:e.logout,username:e.username,i18n:e.i18n})),t}),"default"),Ii=h(m(),1);function Ni(e){return{...e,type:e.mimeType,extension:e.name?Y(e.name).extension:null}}o(Ni,"remoteFileObjToLocal");var Bi=class extends lt{constructor(e){super(e),this.preventEnterPress=this.preventEnterPress.bind(this)}preventEnterPress(e){13===e.keyCode&&(e.stopPropagation(),e.preventDefault())}render(){let{i18n:e,filterInput:t,filterQuery:i}=this.props;return st("div",{className:"uppy-ProviderBrowser-filter"},st("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:e("filter"),"aria-label":e("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:e=>i(e),value:t}),st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},st("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),t&&st("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":e("resetFilter"),title:e("resetFilter"),onClick:i},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},st("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}};o(Bi,"Filter");var zi=o((e=>{let{cancel:t,done:i,i18n:r,selected:s}=e;return st("div",{className:"uppy-ProviderBrowser-footer"},st("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:i,type:"button"},r("selectX",{smart_count:s})),st("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:t,type:"button"},r("cancel")))}),"default"),Ui=h(m(),1);function Hi(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},st("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}function Wi(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},st("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}function Vi(){return st("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},st("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),st("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}o(Hi,"FileIcon"),o(Wi,"FolderIcon"),o(Vi,"VideoIcon");var qi=o((e=>{let{itemIconString:t}=e;if(null!==t)switch(t){case"file":return st(Hi,null);case"folder":return st(Wi,null);case"video":return st(Vi,null);default:{let{alt:i}=e;return st("img",{src:t,alt:i})}}}),"default");function Gi(e){let{className:t,isDisabled:i,restrictionError:r,isChecked:s,title:n,itemIconEl:o,showTitles:a,toggleCheckbox:l,recordShiftKeyPress:h,id:c,children:d}=e;return st("li",{className:t,title:i?r?.message:null},st("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${s?"uppy-ProviderBrowserItem-checkbox--is-checked":""} uppy-ProviderBrowserItem-checkbox--grid`,onChange:l,onKeyDown:h,name:"listitem",id:c,checked:s,disabled:i,"data-uppy-super-focusable":!0}),st("label",{htmlFor:c,"aria-label":n,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},st("span",{className:"uppy-ProviderBrowserItem-inner-relative"},o,a&&n,d)))}o(Gi,"GridListItem");var Yi=Gi;function $i(e){let{className:t,isDisabled:i,restrictionError:r,isCheckboxDisabled:s,isChecked:n,toggleCheckbox:o,recordShiftKeyPress:a,type:l,id:h,itemIconEl:c,title:d,handleFolderClick:u,showTitles:p,i18n:f}=e;return st("li",{className:t,title:i?r?.message:null},s?null:st("input",{type:"checkbox",className:"uppy-u-reset uppy-ProviderBrowserItem-checkbox "+(n?"uppy-ProviderBrowserItem-checkbox--is-checked":""),onChange:o,onKeyDown:a,name:"listitem",id:h,checked:n,"aria-label":"file"===l?null:f("allFilesFromFolderNamed",{name:d}),disabled:i,"data-uppy-super-focusable":!0}),"file"===l?st("label",{htmlFor:h,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},st("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),p&&d):st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:u,"aria-label":f("openFolderNamed",{name:d})},st("div",{className:"uppy-ProviderBrowserItem-iconWrap"},c),p&&st("span",null,d)))}o($i,"ListItem");var Ki=$i;function Xi(){return Xi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Xi.apply(this,arguments)}o(Xi,"_extends");var Zi=o((e=>{let{author:t,getItemIcon:i,isChecked:r,isDisabled:s,viewType:n}=e,o=i(),a=(0,Ui.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":r},{"uppy-ProviderBrowserItem--disabled":s},{"uppy-ProviderBrowserItem--noPreview":"video"===o}),l=st(qi,{itemIconString:o});switch(n){case"grid":return st(Yi,Xi({},e,{className:a,itemIconEl:l}));case"list":return st(Ki,Xi({},e,{className:a,itemIconEl:l}));case"unsplash":return st(Yi,Xi({},e,{className:a,itemIconEl:l}),st("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},t.name));default:throw new Error(`There is no such type ${n}`)}}),"default");function Ji(e){let{currentSelection:t,folders:i,files:r,uppyFiles:s,viewType:n,headerComponent:o,showBreadcrumbs:a,isChecked:l,toggleCheckbox:h,recordShiftKeyPress:c,handleScroll:d,showTitles:u,i18n:p,validateRestrictions:f,showFilter:m,filterQuery:g,filterInput:y,getNextFolder:v,cancel:b,done:w,columns:_}=e,k=t.length;return st("div",{className:(0,Ii.default)("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${n}`)},st("div",{className:"uppy-ProviderBrowser-header"},st("div",{className:(0,Ii.default)("uppy-ProviderBrowser-headerBar",!a&&"uppy-ProviderBrowser-headerBar--simple")},o)),m&&st(Bi,{i18n:p,filterQuery:g,filterInput:y}),i.length||r.length?st("div",{className:"uppy-ProviderBrowser-body"},st("ul",{className:"uppy-ProviderBrowser-list",onScroll:d,role:"listbox",tabIndex:"-1"},i.map((e=>{var t;return Zi({columns:_,showTitles:u,viewType:n,i18n:p,id:e.id,title:e.name,getItemIcon:()=>e.icon,isChecked:l(e),toggleCheckbox:t=>h(t,e),recordShiftKeyPress:c,type:"folder",isDisabled:null==(t=l(e))?void 0:t.loading,isCheckboxDisabled:"shared-with-me"===e.id,handleFolderClick:()=>v(e)})})),r.map((e=>{let i=f(Ni(e),[...s,...t]);return Zi({id:e.id,title:e.name,author:e.author,getItemIcon:()=>e.icon,isChecked:l(e),toggleCheckbox:t=>h(t,e),recordShiftKeyPress:c,columns:_,showTitles:u,viewType:n,i18n:p,type:"file",isDisabled:i&&!l(e),restrictionError:i})})))):st("div",{className:"uppy-Provider-empty"},p("noFilesFound")),k>0&&st(zi,{selected:k,done:w,cancel:b,i18n:p}))}o(Ji,"Browser");var Qi=Ji,er=o((e=>{let{i18n:t}=e;return st("div",{className:"uppy-Provider-loading"},st("span",null,t("loading")))}),"default"),tr=class extends lt{componentWillUnmount(){let{onUnmount:e}=this.props;e()}render(){let{children:e}=this.props;return mt(e)[0]}};function ir(e){return!!e&&/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e)}o(tr,"CloseWrapper"),o(ir,"isPreviewSupported");var rr=class{constructor(e){this.plugin=e,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}filterItems(e){let t=this.plugin.getPluginState();return t.filterInput&&""!==t.filterInput?e.filter((e=>-1!==e.name.toLowerCase().indexOf(t.filterInput.toLowerCase()))):e}recordShiftKeyPress(e){this.isShiftKeyPressed=e.shiftKey}toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),e.currentTarget.focus();let{folders:i,files:r}=this.plugin.getPluginState(),s=this.filterItems(i.concat(r));if(this.lastCheckbox&&this.isShiftKeyPressed){let e=s.indexOf(this.lastCheckbox),i=s.indexOf(t),r=e<i?s.slice(e,i+1):s.slice(i,e+1),n=[];for(let e of r){let{uppy:t}=this.plugin,i=t.validateRestrictions(Ni(e),[...t.getFiles(),...n]);i?t.info({message:i.message},"error",t.opts.infoTimeout):n.push(e)}return void this.plugin.setPluginState({currentSelection:n})}this.lastCheckbox=t;let{currentSelection:n}=this.plugin.getPluginState();this.isChecked(t)?this.plugin.setPluginState({currentSelection:n.filter((e=>e.id!==t.id))}):this.plugin.setPluginState({currentSelection:n.concat([t])})}isChecked(e){let{currentSelection:t}=this.plugin.getPluginState();return t.some((t=>t.id===e.id))}loaderWrapper(e,t,i){e.then((e=>{this.plugin.setPluginState({loading:!1}),t(e)})).catch((e=>{this.plugin.setPluginState({loading:!1}),i(e)})),this.plugin.setPluginState({loading:!0})}};o(rr,"SharedHandler");var sr=class{constructor(e,t){this.plugin=e,this.provider=t.provider,this.sharedHandler=new rr(e),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}providerFileToId(e){return J({data:e,name:e.name||e.id,type:e.mimetype})}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(e){let{scrollHeight:t,scrollTop:i,offsetHeight:r}=e.target;return t-(i+r)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();let e=this.plugin.uppy.getPlugin("Dashboard");e&&e.hideAllPanels()}handleError(e){let{uppy:t}=this.plugin,i=t.i18n("companionError");t.log(e.toString()),!e.isAuthError&&t.info({message:i,details:e.toString()},"error",5e3)}addFile(e){let t={id:this.providerFileToId(e),source:this.plugin.id,data:e,name:e.name||e.id,type:e.mimeType,isRemote:!0,meta:{},body:{fileId:e.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(e.requestPath)}`,body:{fileId:e.id},providerOptions:this.provider.opts,providerName:this.provider.name}},i=K(t);i&&ir(i)&&(t.preview=e.thumbnail),e.author&&(null!=e.author.name&&(t.meta.authorName=String(e.author.name)),e.author.url&&(t.meta.authorUrl=e.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(t),!0}catch(e){return e.isRestriction||this.plugin.uppy.log(e),!1}}};function nr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(sr,"View"),o(nr,"_classPrivateFieldLooseBase");var or=0;function ar(e){return"__private_"+or+++"_"+e}o(ar,"_classPrivateFieldLooseKey");function lr(){return location.origin}function hr(e){return"string"==typeof e?new RegExp(`^${e}$`):e instanceof RegExp?e:void 0}function cr(e,t){return(Array.isArray(t)?t.map(hr):[hr(t)]).some((t=>t?.test(e)||t?.test(`${e}/`)))}o(lr,"getOrigin"),o(hr,"getRegex"),o(cr,"isOriginAllowed");var dr=ar("updateFilesAndFolders"),ur=class extends sr{constructor(e,t){super(e,t),Object.defineProperty(this,dr,{value:pr});this.opts={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0,...t},this.filterQuery=this.filterQuery.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.listAllFiles=this.listAllFiles.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}getFolder(e,t){return this.sharedHandler.loaderWrapper(this.provider.list(e),(i=>{let r,s=this.plugin.getPluginState(),n=s.directories.findIndex((t=>e===t.id));r=-1!==n?s.directories.slice(0,n+1):s.directories.concat([{id:e,title:t}]),this.username=i.username||this.username,nr(this,dr)[dr](i,[],[]),this.plugin.setPluginState({directories:r,filterInput:""})}),this.handleError)}getNextFolder(e){this.getFolder(e.requestPath,e.name),this.lastCheckbox=void 0}logout(){this.provider.logout().then((e=>{if(e.ok){if(!e.revoked){let t=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:e.manual_revoke_url});this.plugin.uppy.info(t,"info",7e3)}let t={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};this.plugin.setPluginState(t)}})).catch(this.handleError)}filterQuery(e){let t=this.plugin.getPluginState();this.plugin.setPluginState({...t,filterInput:e?e.target.value:""})}addFolder(e){let t=this.providerFileToId(e),i={...this.plugin.getPluginState().selectedFolders};if(!(t in i)||!i[t].loading)return i[t]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:{...i}}),this.listAllFiles(e.requestPath).then((r=>{let s=0;r.forEach((e=>{let t=this.providerFileToId(e);this.plugin.uppy.checkIfFileAlreadyExists(t)||s++})),s>0&&r.forEach((e=>this.addFile(e)));let n,o=r.map(this.providerFileToId);i[t]={loading:!1,files:o},this.plugin.setPluginState({selectedFolders:i,filterInput:""}),n=0===s?this.plugin.uppy.i18n("folderAlreadyAdded",{folder:e.name}):r.length?this.plugin.uppy.i18n("folderAdded",{smart_count:s,folder:e.name}):this.plugin.uppy.i18n("emptyFolderAdded"),this.plugin.uppy.info(n)})).catch((e=>{let i={...this.plugin.getPluginState().selectedFolders};delete i[t],this.plugin.setPluginState({selectedFolders:i}),this.handleError(e)}))}async handleAuth(){await this.provider.ensurePreAuth();let e=btoa(JSON.stringify({origin:lr()})),t=`@uppy/provider-views=${ur.VERSION}`,i=this.provider.authUrl({state:e,uppyVersions:t}),r=window.open(i,"_blank"),s=o((e=>{if(e.source!==r)return void this.plugin.uppy.log("rejecting event from unknown source");(!cr(e.origin,this.plugin.opts.companionAllowedHosts)||e.source!==r)&&this.plugin.uppy.log(`rejecting event from ${e.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);let t="string"==typeof e.data?JSON.parse(e.data):e.data;if(t.error){this.plugin.uppy.log("auth aborted","warning");let{uppy:e}=this.plugin,t=e.i18n("authAborted");e.info({message:t},"warning",5e3)}else t.token?(r.close(),window.removeEventListener("message",s),this.provider.setAuthToken(t.token),this.preFirstRender()):this.plugin.uppy.log("did not receive token from auth window","error")}),"handleToken");window.addEventListener("message",s)}async handleScroll(e){let t=this.nextPagePath||null;if(this.shouldHandleScroll(e)&&t){this.isHandlingScroll=!0;try{let e=await this.provider.list(t),{files:i,folders:r}=this.plugin.getPluginState();nr(this,dr)[dr](e,i,r)}catch(e){this.handleError(e)}finally{this.isHandlingScroll=!1}}}async listAllFiles(e,t){void 0===t&&(t=null),t=t||[];let i=await this.provider.list(e);i.items.forEach((e=>{e.isFolder?this.addFolder(e):t.push(e)}));let r=i.nextPagePath;return r?this.listAllFiles(r,t):t}donePicking(){let{currentSelection:e}=this.plugin.getPluginState(),t=e.map((e=>e.isFolder?this.addFolder(e):this.addFile(e)));this.sharedHandler.loaderWrapper(Promise.all(t),(()=>{this.clearSelection()}),(()=>{}))}render(e,t){var i=this;void 0===t&&(t={});let{authenticated:r,didFirstRender:s}=this.plugin.getPluginState();s||this.preFirstRender();let n={...this.opts,...t},{files:o,folders:a,filterInput:l,loading:h,currentSelection:c}=this.plugin.getPluginState(),{isChecked:d,toggleCheckbox:u,recordShiftKeyPress:p,filterItems:f}=this.sharedHandler,m=""!==l,g={showBreadcrumbs:n.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},y={isChecked:d,toggleCheckbox:u,recordShiftKeyPress:p,currentSelection:c,files:m?f(o):o,folders:m?f(a):a,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:Li(g),title:this.plugin.title,viewType:n.viewType,showTitles:n.showTitles,showFilter:n.showFilter,showBreadcrumbs:n.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return i.plugin.uppy.validateRestrictions(...arguments)}};return st(tr,{onUnmount:this.clearSelection},h?st(er,{i18n:this.plugin.uppy.i18n}):r?st(Qi,y):st(Mi,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}};function pr(e,t,i){this.nextPagePath=e.nextPagePath,e.items.forEach((e=>{e.isFolder?i.push(e):t.push(e)})),this.plugin.setPluginState({folders:i,files:t})}o(ur,"ProviderView"),o(pr,"_updateFilesAndFolders2"),ur.VERSION="3.0.2";var fr=o((e=>{let t,{i18n:i,search:r}=e,s=o((()=>{t.value&&r(t.value)}),"validateAndSearch"),n=o((e=>{13===e.keyCode&&s()}),"handleKeyPress");return st("div",{className:"uppy-SearchProvider"},st("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":i("enterTextToSearch"),placeholder:i("enterTextToSearch"),onKeyUp:n,ref:e=>{t=e},"data-uppy-super-focusable":!0}),st("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:s},i("searchImages")))}),"default"),mr=o((e=>{let{searchTerm:t,i18n:i,search:r}=e,s=o((e=>{13===e.keyCode&&(e.stopPropagation(),e.preventDefault(),r(e.target.value))}),"handleKeyPress");return st("div",{class:"uppy-ProviderBrowser-search"},st("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:i("search"),"aria-label":i("search"),value:t,onKeyUp:s,"data-uppy-super-focusable":!0}),st("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},st("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))}),"default");function gr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(gr,"_classPrivateFieldLooseBase");var yr=0;function vr(e){return"__private_"+yr+++"_"+e}o(vr,"_classPrivateFieldLooseKey");var br,wr=vr("updateFilesAndInputMode"),_r=class extends sr{constructor(e,t){super(e,t),Object.defineProperty(this,wr,{value:kr});this.opts={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1,...t},this.search=this.search.bind(this),this.triggerSearchInput=this.triggerSearchInput.bind(this),this.addFile=this.addFile.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null})}tearDown(){}clearSelection(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}search(e){let{searchTerm:t}=this.plugin.getPluginState();if(!e||e!==t)return this.sharedHandler.loaderWrapper(this.provider.search(e),(e=>{gr(this,wr)[wr](e,[])}),this.handleError)}triggerSearchInput(){this.plugin.setPluginState({isInputMode:!0})}async handleScroll(e){let t=this.nextPageQuery||null;if(this.shouldHandleScroll(e)&&t){this.isHandlingScroll=!0;try{let{files:e,searchTerm:i}=this.plugin.getPluginState(),r=await this.provider.search(i,t);gr(this,wr)[wr](r,e)}catch(e){this.handleError(e)}finally{this.isHandlingScroll=!1}}}donePicking(){let{currentSelection:e}=this.plugin.getPluginState(),t=e.map((e=>this.addFile(e)));this.sharedHandler.loaderWrapper(Promise.all(t),(()=>{this.clearSelection()}),(()=>{}))}render(e,t){var i=this;void 0===t&&(t={});let{didFirstRender:r,isInputMode:s,searchTerm:n}=this.plugin.getPluginState();r||this.preFirstRender();let o={...this.opts,...t},{files:a,folders:l,filterInput:h,loading:c,currentSelection:d}=this.plugin.getPluginState(),{isChecked:u,toggleCheckbox:p,filterItems:f}=this.sharedHandler,m=""!==h,g={isChecked:u,toggleCheckbox:p,currentSelection:d,files:m?f(a):a,folders:m?f(l):l,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:mr({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:n}),title:this.plugin.title,viewType:o.viewType,showTitles:o.showTitles,showFilter:o.showFilter,showBreadcrumbs:o.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return i.plugin.uppy.validateRestrictions(...arguments)}};return st(tr,{onUnmount:this.clearSelection},c?st(er,{i18n:this.plugin.uppy.i18n}):s?st(fr,{search:this.search,i18n:this.plugin.uppy.i18n}):st(Qi,g))}};function kr(e,t){this.nextPageQuery=e.nextPageQuery,e.items.forEach((e=>{t.push(e)})),this.plugin.setPluginState({isInputMode:!1,files:t,searchTerm:e.searchedFor})}function Sr(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(_r,"SearchProviderView"),o(kr,"_updateFilesAndInputMode2"),_r.VERSION="3.0.2",o(Sr,"_classPrivateFieldLooseBase");var xr=0;function Tr(e){return"__private_"+xr+++"_"+e}o(Tr,"_classPrivateFieldLooseKey");var jr=o((e=>t=>t.uppy[e]),"defaultSelector");function Cr(e,t){let i=Object.keys(t),r={};return i.forEach((i=>{e[i]!==t[i]&&(r[i]=t[i])})),r}o(Cr,"getPatch");var Er=Tr("id"),Or=Tr("selector"),Pr=Tr("store");br=Symbol.for("uppy test: get id");var Fr=class{constructor(e){Object.defineProperty(this,Er,{writable:!0,value:void 0}),Object.defineProperty(this,Or,{writable:!0,value:void 0}),Object.defineProperty(this,Pr,{writable:!0,value:void 0}),Sr(this,Pr)[Pr]=e.store,Sr(this,Er)[Er]=e.id||I(),Sr(this,Or)[Or]=e.selector||jr(Sr(this,Er)[Er]),this.setState({})}setState(e){Sr(this,Pr)[Pr].dispatch({type:"uppy/STATE_UPDATE",id:Sr(this,Er)[Er],payload:e})}getState(){return Sr(this,Or)[Or](Sr(this,Pr)[Pr].getState())}subscribe(e){let t=this.getState();return Sr(this,Pr)[Pr].subscribe((()=>{let i=this.getState();if(t!==i){let r=Cr(t,i);e(t,i,r),t=i}}))}[br](){return Sr(this,Er)[Er]}};o(Fr,"ReduxStore"),Fr.VERSION="3.0.2";var Mr=Fr;function Dr(e){if(!e.bytesUploaded)return 0;let t=Date.now()-e.uploadStarted;return e.bytesUploaded/(t/1e3)}function Ar(e){return e.bytesTotal-e.bytesUploaded}o(Dr,"getSpeed"),o(Ar,"getBytesRemaining");var Rr={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Lr=h(m(),1);function Ir(e){let t,i,r=[];for(let{progress:s}of Object.values(e)){let{preprocess:e,postprocess:n}=s;null==i&&(e||n)&&({mode:t,message:i}=e||n),"determinate"===e?.mode&&r.push(e.value),"determinate"===n?.mode&&r.push(n.value)}return{mode:t,message:i,value:r.reduce(((e,t)=>e+t/r.length),0)}}o(Ir,"calculateProcessingProgress");var Nr=h(m(),1),Br=h(d(),1),zr=h(u(),1);function Ur(e){return{hours:Math.floor(e/3600)%24,minutes:Math.floor(e/60)%60,seconds:Math.floor(e%60)}}function Hr(e){let t=Ur(e);return`${0===t.hours?"":`${t.hours}h`}${0===t.minutes?"":`${0===t.hours?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`}${0!==t.hours?"":`${0===t.minutes?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`}`}o(Ur,"secondsToTime"),o(Hr,"prettyETA");var Wr=o((()=>" · "),"renderDot");function Vr(e){let{newFiles:t,isUploadStarted:i,recoveredState:r,i18n:s,uploadState:n,isSomeGhost:o,startUpload:a}=e,l=(0,Nr.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":n===Rr.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":o}),h=s(t&&i&&!r?"uploadXNewFiles":"uploadXFiles",{smart_count:t});return st("button",{type:"button",className:l,"aria-label":s("uploadXFiles",{smart_count:t}),onClick:a,disabled:o,"data-uppy-super-focusable":!0},h)}function qr(e){let{i18n:t,uppy:i}=e;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>i.retryAll(),"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},st("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),t("retry"))}function Gr(e){let{i18n:t,uppy:i}=e;return st("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>i.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},st("g",{fill:"none",fillRule:"evenodd"},st("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),st("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}function Yr(e){let{isAllPaused:t,i18n:i,isAllComplete:r,resumableUploads:s,uppy:n}=e,a=i(t?"resume":"pause");function l(){return r?null:s?t?n.resumeAll():n.pauseAll():n.cancelAll()}return o(l,"togglePauseResume"),st("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:l,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},st("g",{fill:"none",fillRule:"evenodd"},st("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),st("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}function $r(e){let{i18n:t,doneButtonHandler:i}=e;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:i,"data-uppy-super-focusable":!0},t("done"))}function Kr(){return st("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},st("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}function Xr(e){let{progress:t}=e,{value:i,mode:r,message:s}=t,n=Math.round(100*i);return st("div",{className:"uppy-StatusBar-content"},st(Kr,null),"determinate"===r?`${n}% · `:"",s)}function Zr(e){let{numUploads:t,complete:i,totalUploadedSize:r,totalSize:s,totalETA:n,i18n:o}=e,a=t>1;return st("div",{className:"uppy-StatusBar-statusSecondary"},a&&o("filesUploadedOfTotal",{complete:i,smart_count:t}),st("span",{className:"uppy-StatusBar-additionalInfo"},a&&Wr(),o("dataUploadedOfTotal",{complete:(0,zr.default)(r),total:(0,zr.default)(s)}),Wr(),o("xTimeLeft",{time:Hr(n)})))}function Jr(e){let{i18n:t,complete:i,numUploads:r}=e;return st("div",{className:"uppy-StatusBar-statusSecondary"},t("filesUploadedOfTotal",{complete:i,smart_count:r}))}function Qr(e){let{i18n:t,newFiles:i,startUpload:r}=e,s=(0,Nr.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return st("div",{className:"uppy-StatusBar-statusSecondary"},st("div",{className:"uppy-StatusBar-statusSecondaryHint"},t("xMoreFilesAdded",{smart_count:i})),st("button",{type:"button",className:s,"aria-label":t("uploadXFiles",{smart_count:i}),onClick:r},t("upload")))}o(Vr,"UploadBtn"),o(qr,"RetryBtn"),o(Gr,"CancelBtn"),o(Yr,"PauseResumeButton"),o($r,"DoneBtn"),o(Kr,"LoadingSpinner"),o(Xr,"ProgressBarProcessing"),o(Zr,"ProgressDetails"),o(Jr,"FileUploadCount"),o(Qr,"UploadNewlyAddedFiles");var es=(0,Br.default)(Zr,500,{leading:!0,trailing:!0});function ts(e){let{i18n:t,supportsUploadProgress:i,totalProgress:r,showProgressDetails:s,isUploadStarted:n,isAllComplete:a,isAllPaused:l,newFiles:h,numUploads:c,complete:d,totalUploadedSize:u,totalSize:p,totalETA:f,startUpload:m}=e,g=h&&n;if(!n||a)return null;let y=t(l?"paused":"uploading");function v(){return l||g||!s?null:i?st(es,{numUploads:c,complete:d,totalUploadedSize:u,totalSize:p,totalETA:f,i18n:t}):st(Jr,{i18n:t,complete:d,numUploads:c})}return o(v,"renderProgressDetails"),st("div",{className:"uppy-StatusBar-content","aria-label":y,title:y},l?null:st(Kr,null),st("div",{className:"uppy-StatusBar-status"},st("div",{className:"uppy-StatusBar-statusPrimary"},i?`${y}: ${r}%`:y),v(),g?st(Qr,{i18n:t,newFiles:h,startUpload:m}):null))}function is(e){let{i18n:t}=e;return st("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete")},st("div",{className:"uppy-StatusBar-status"},st("div",{className:"uppy-StatusBar-statusPrimary"},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},st("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),t("complete"))))}function rs(e){let{error:t,i18n:i,complete:r,numUploads:s}=e;function n(){let e=`${i("uploadFailed")}\n\n ${t}`;alert(e)}return o(n,"displayErrorAlert"),st("div",{className:"uppy-StatusBar-content",title:i("uploadFailed")},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},st("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),st("div",{className:"uppy-StatusBar-status"},st("div",{className:"uppy-StatusBar-statusPrimary"},i("uploadFailed"),st("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":i("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:n,type:"button"},"?")),st(Jr,{i18n:i,complete:r,numUploads:s})))}o(ts,"ProgressBarUploading"),o(is,"ProgressBarComplete"),o(rs,"ProgressBarError");var{STATE_ERROR:ss,STATE_WAITING:ns,STATE_PREPROCESSING:os,STATE_UPLOADING:as,STATE_POSTPROCESSING:ls,STATE_COMPLETE:hs}=Rr;function cs(e){let{newFiles:t,allowNewUpload:i,isUploadInProgress:r,isAllPaused:s,resumableUploads:n,error:a,hideUploadButton:l,hidePauseResumeButton:h,hideCancelButton:c,hideRetryButton:d,recoveredState:u,uploadState:p,totalProgress:f,files:m,supportsUploadProgress:g,hideAfterFinish:y,isSomeGhost:v,doneButtonHandler:b,isUploadStarted:w,i18n:_,startUpload:k,uppy:S,isAllComplete:x,showProgressDetails:T,numUploads:j,complete:C,totalSize:E,totalETA:O,totalUploadedSize:P}=e;function F(){switch(p){case ls:case os:{let e=Ir(m);return"determinate"===e.mode?100*e.value:f}case ss:return null;case as:return g?f:null;default:return f}}function M(){switch(p){case ls:case os:{let{mode:e}=Ir(m);return"indeterminate"===e}case as:return!g;default:return!1}}function D(){if(u)return!1;switch(p){case ns:return l||0===t;case hs:return y;default:return!1}}o(F,"getProgressValue"),o(M,"getIsIndeterminate"),o(D,"getIsHidden");let A=F(),R=D(),L=A??100,I=!a&&t&&!r&&!s&&i&&!l,N=!c&&p!==ns&&p!==hs,B=n&&!h&&p===as,z=a&&!x&&!d,U=b&&p===hs,H=(0,Lr.default)("uppy-StatusBar-progress",{"is-indeterminate":M()});return st("div",{className:(0,Lr.default)("uppy-StatusBar",`is-${p}`,{"has-ghosts":v}),"aria-hidden":R},st("div",{className:H,style:{width:`${L}%`},role:"progressbar","aria-label":`${L}%`,"aria-valuetext":`${L}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":A}),(()=>{switch(p){case os:case ls:return st(Xr,{progress:Ir(m)});case hs:return st(is,{i18n:_});case ss:return st(rs,{error:a,i18n:_,numUploads:j,complete:C});case as:return st(ts,{i18n:_,supportsUploadProgress:g,totalProgress:f,showProgressDetails:T,isUploadStarted:w,isAllComplete:x,isAllPaused:s,newFiles:t,numUploads:j,complete:C,totalUploadedSize:P,totalSize:E,totalETA:O,startUpload:k});default:return null}})(),st("div",{className:"uppy-StatusBar-actions"},u||I?st(Vr,{newFiles:t,isUploadStarted:w,recoveredState:u,i18n:_,isSomeGhost:v,startUpload:k,uploadState:p}):null,z?st(qr,{i18n:_,uppy:S}):null,B?st(Yr,{isAllPaused:s,i18n:_,isAllComplete:x,resumableUploads:n,uppy:S}):null,N?st(Gr,{i18n:_,uppy:S}):null,U?st($r,{i18n:_,doneButtonHandler:b}):null))}o(cs,"StatusBar");var ds={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function us(e){let t=0;return e.forEach((e=>{t+=Dr(e.progress)})),t}function ps(e){let t=us(e);if(0===t)return 0;let i=e.reduce(((e,t)=>e+Ar(t.progress)),0);return Math.round(i/t*10)/10}function fs(e,t,i,r){if(e&&!t)return Rr.STATE_ERROR;if(t)return Rr.STATE_COMPLETE;if(i)return Rr.STATE_WAITING;let s=Rr.STATE_WAITING,n=Object.keys(r);for(let e=0;e<n.length;e++){let{progress:t}=r[n[e]];if(t.uploadStarted&&!t.uploadComplete)return Rr.STATE_UPLOADING;t.preprocess&&s!==Rr.STATE_UPLOADING&&(s=Rr.STATE_PREPROCESSING),t.postprocess&&s!==Rr.STATE_UPLOADING&&s!==Rr.STATE_PREPROCESSING&&(s=Rr.STATE_POSTPROCESSING)}return s}o(us,"getTotalSpeed"),o(ps,"getTotalETA"),o(fs,"getUploadingState");var ms=class extends Ut{constructor(e,t){super(e,t),this.startUpload=()=>{let{recoveredState:e}=this.uppy.getState();if(!e)return this.uppy.upload().catch((()=>{}));this.uppy.emit("restore-confirmed")},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=ds;this.opts={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null,...t},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(e){let{capabilities:t,files:i,allowNewUpload:r,totalProgress:s,error:n,recoveredState:o}=e,{newFiles:a,startedFiles:l,completeFiles:h,inProgressNotPausedFiles:c,isUploadStarted:d,isAllComplete:u,isAllErrored:p,isAllPaused:f,isUploadInProgress:m,isSomeGhost:g}=this.uppy.getObjectOfFilesPerState(),y=o?Object.values(i):a,v=ps(c),b=!!t.resumableUploads,w=!1!==t.uploadProgress,_=0,k=0;return l.forEach((e=>{_+=e.progress.bytesTotal||0,k+=e.progress.bytesUploaded||0})),cs({error:n,uploadState:fs(n,u,o,e.files||{}),allowNewUpload:r,totalProgress:s,totalSize:_,totalUploadedSize:k,isAllComplete:!1,isAllPaused:f,isAllErrored:p,isUploadStarted:d,isUploadInProgress:m,isSomeGhost:g,recoveredState:o,complete:h.length,newFiles:y.length,numUploads:l.length,totalETA:v,files:i,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:b,supportsUploadProgress:w,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){let e=this.el;Dt(e)||(e.dir="ltr")}install(){let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}};o(ms,"StatusBar"),ms.VERSION="3.0.1";var gs=class extends lt{constructor(){super(...arguments),this.ref={current:null}}componentWillEnter(e){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(e,300)}componentWillLeave(e){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(e,300)}render(){let{children:e}=this.props;return st("div",{className:"uppy-Informer-animated",ref:this.ref},e)}};function ys(e,t){return Object.assign(e,t)}function vs(e,t){var i;return null!=(i=e?.key)?i:t}function bs(e,t){let i=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return i[t]||(i[t]=i=>{e.refs[t]=i})}function ws(e){let t={};for(let i=0;i<e.length;i++)if(null!=e[i]){t[vs(e[i],i.toString(36))]=e[i]}return t}function _s(e,t){e=e||{},t=t||{};let i=o((i=>t.hasOwnProperty(i)?t[i]:e[i]),"getValueForKey"),r={},s=[];for(let i in e)t.hasOwnProperty(i)?s.length&&(r[i]=s,s=[]):s.push(i);let n={};for(let e in t){if(r.hasOwnProperty(e))for(let t=0;t<r[e].length;t++){let s=r[e][t];n[r[e][t]]=i(s)}n[e]=i(e)}for(let e=0;e<s.length;e++)n[s[e]]=i(s[e]);return n}o(gs,"FadeIn"),o(ys,"assign"),o(vs,"getKey"),o(bs,"linkRef"),o(ws,"getChildMapping"),o(_s,"mergeChildMappings");var ks=o((e=>e),"identity"),Ss=class extends lt{constructor(e,t){super(e,t),this.refs={},this.state={children:ws(mt(mt(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){let e=this.state.children;for(let t in e)e[t]&&this.performAppear(t)}componentWillReceiveProps(e){let t,i=ws(mt(e.children)||[]),r=this.state.children;for(t in this.setState((e=>({children:_s(e.children,i)}))),i)if(i.hasOwnProperty(t)){let e=r&&r.hasOwnProperty(t);i[t]&&e&&this.currentlyTransitioningKeys[t]?(this.keysToEnter.push(t),this.keysToAbortLeave.push(t)):i[t]&&!e&&!this.currentlyTransitioningKeys[t]&&this.keysToEnter.push(t)}for(t in r)if(r.hasOwnProperty(t)){let e=i&&i.hasOwnProperty(t);r[t]&&!e&&!this.currentlyTransitioningKeys[t]&&this.keysToLeave.push(t)}}componentDidUpdate(){let{keysToEnter:e}=this;this.keysToEnter=[],e.forEach(this.performEnter);let{keysToLeave:t}=this;this.keysToLeave=[],t.forEach(this.performLeave)}_finishAbort(e){let t=this.keysToAbortLeave.indexOf(e);-1!==t&&this.keysToAbortLeave.splice(t,1)}performAppear(e){this.currentlyTransitioningKeys[e]=!0;let t=this.refs[e];t.componentWillAppear?t.componentWillAppear(this._handleDoneAppearing.bind(this,e)):this._handleDoneAppearing(e)}_handleDoneAppearing(e){let t=this.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);let i=ws(mt(this.props.children)||[]);(!i||!i.hasOwnProperty(e))&&this.performLeave(e)}performEnter(e){this.currentlyTransitioningKeys[e]=!0;let t=this.refs[e];t.componentWillEnter?t.componentWillEnter(this._handleDoneEntering.bind(this,e)):this._handleDoneEntering(e)}_handleDoneEntering(e){let t=this.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete this.currentlyTransitioningKeys[e],this._finishAbort(e);let i=ws(mt(this.props.children)||[]);(!i||!i.hasOwnProperty(e))&&this.performLeave(e)}performLeave(e){if(-1!==this.keysToAbortLeave.indexOf(e))return;this.currentlyTransitioningKeys[e]=!0;let t=this.refs[e];t.componentWillLeave?t.componentWillLeave(this._handleDoneLeaving.bind(this,e)):this._handleDoneLeaving(e)}_handleDoneLeaving(e){if(-1!==this.keysToAbortLeave.indexOf(e))return;let t=this.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete this.currentlyTransitioningKeys[e];let i=ws(mt(this.props.children)||[]);if(i&&i.hasOwnProperty(e))this.performEnter(e);else{let t=ys({},this.state.children);delete t[e],this.setState({children:t})}}render(e,t){let{childFactory:i,transitionLeave:r,transitionName:s,transitionAppear:n,transitionEnter:o,transitionLeaveTimeout:a,transitionEnterTimeout:l,transitionAppearTimeout:h,component:c,...d}=e,{children:u}=t;return st(c,d,Object.entries(u).map((e=>{let[t,r]=e;if(!r)return;let s=bs(this,t);return Ot(i(r),{ref:s,key:t})})).filter(Boolean))}};o(Ss,"TransitionGroup"),Ss.defaultProps={component:"span",childFactory:ks};var xs=Ss,Ts=class extends Ut{constructor(e,t){super(e,t),this.render=e=>st("div",{className:"uppy uppy-Informer"},st(xs,null,e.info.map((e=>st(gs,{key:e.message},st("p",{role:"alert"},e.message," ",e.details&&st("span",{"aria-label":e.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${e.message}\n\n ${e.details}`)},"?"))))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";this.opts={...t}}install(){let{target:e}=this.opts;e&&this.mount(e,this)}};o(Ts,"Informer"),Ts.VERSION="3.0.1";var js=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function Cs(e,t,i){var r,s;let n,o=js.exec(e),a=null!=(r=null!=(s=t.mimeType)?s:o?.[1])?r:"plain/text";if(null!=o[2]){let e=atob(decodeURIComponent(o[3])),t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);n=[t]}else n=[decodeURIComponent(o[3])];return i?new File(n,t.name||"",{type:a}):new Blob(n,{type:a})}function Es(e){return e.startsWith("blob:")}function Os(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}o(Cs,"dataURItoBlob"),o(Es,"isObjectURL"),o(Os,"e");var Ps=typeof self<"u"?self:global,Fs=typeof navigator<"u",Ms=Fs&&typeof HTMLImageElement>"u",Ds=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),As=Ps.Buffer,Rs=!!As,Ls=o((e=>void 0!==e),"h");function Is(e){return void 0===e||(e instanceof Map?0===e.size:0===Object.values(e).filter(Ls).length)}function Ns(e){let t=new Error(e);throw delete t.stack,t}function Bs(e){let t=function(e){let t=0;return e.ifd0.enabled&&(t+=1024),e.exif.enabled&&(t+=2048),e.makerNote&&(t+=2048),e.userComment&&(t+=1024),e.gps.enabled&&(t+=512),e.interop.enabled&&(t+=100),e.ifd1.enabled&&(t+=1024),t+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}o(Is,"f"),o(Ns,"l"),o(Bs,"o");var zs=o((e=>String.fromCharCode.apply(null,e)),"u"),Us=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0,Hs=class{static from(e,t){return e instanceof this&&e.le===t?e:new Hs(e,void 0,void 0,t)}constructor(e,t=0,i,r){if("boolean"==typeof r&&(this.le=r),Array.isArray(e)&&(e=new Uint8Array(e)),0===e)this.byteOffset=0,this.byteLength=0;else if(e instanceof ArrayBuffer){void 0===i&&(i=e.byteLength-t);let r=new DataView(e,t,i);this._swapDataView(r)}else if(e instanceof Uint8Array||e instanceof DataView||e instanceof Hs){void 0===i&&(i=e.byteLength-t),(t+=e.byteOffset)+i>e.byteOffset+e.byteLength&&Ns("Creating view outside of available memory in ArrayBuffer");let r=new DataView(e.buffer,t,i);this._swapDataView(r)}else if("number"==typeof e){let t=new DataView(new ArrayBuffer(e));this._swapDataView(t)}else Ns("Invalid input argument for BufferView: "+e)}_swapArrayBuffer(e){this._swapDataView(new DataView(e))}_swapBuffer(e){this._swapDataView(new DataView(e.buffer,e.byteOffset,e.byteLength))}_swapDataView(e){this.dataView=e,this.buffer=e.buffer,this.byteOffset=e.byteOffset,this.byteLength=e.byteLength}_lengthToEnd(e){return this.byteLength-e}set(e,t,i=Hs){return e instanceof DataView||e instanceof Hs?e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e instanceof Uint8Array||Ns("BufferView.set(): Invalid data argument."),this.toUint8().set(e,t),new i(this,t,e.byteLength)}subarray(e,t){return t=t||this._lengthToEnd(e),new Hs(this,e,t)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(e,t){return new Uint8Array(this.buffer,this.byteOffset+e,t)}getString(e=0,t=this.byteLength){return i=this.getUint8Array(e,t),Us?Us.decode(i):Rs?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(zs(i)));var i}getLatin1String(e=0,t=this.byteLength){let i=this.getUint8Array(e,t);return zs(i)}getUnicodeString(e=0,t=this.byteLength){let i=[];for(let r=0;r<t&&e+r<this.byteLength;r+=2)i.push(this.getUint16(e+r));return zs(i)}getInt8(e){return this.dataView.getInt8(e)}getUint8(e){return this.dataView.getUint8(e)}getInt16(e,t=this.le){return this.dataView.getInt16(e,t)}getInt32(e,t=this.le){return this.dataView.getInt32(e,t)}getUint16(e,t=this.le){return this.dataView.getUint16(e,t)}getUint32(e,t=this.le){return this.dataView.getUint32(e,t)}getFloat32(e,t=this.le){return this.dataView.getFloat32(e,t)}getFloat64(e,t=this.le){return this.dataView.getFloat64(e,t)}getFloat(e,t=this.le){return this.dataView.getFloat32(e,t)}getDouble(e,t=this.le){return this.dataView.getFloat64(e,t)}getUintBytes(e,t,i){switch(t){case 1:return this.getUint8(e,i);case 2:return this.getUint16(e,i);case 4:return this.getUint32(e,i);case 8:return this.getUint64&&this.getUint64(e,i)}}getUint(e,t,i){switch(t){case 8:return this.getUint8(e,i);case 16:return this.getUint16(e,i);case 32:return this.getUint32(e,i);case 64:return this.getUint64&&this.getUint64(e,i)}}toString(e){return this.dataView.toString(e,this.constructor.name)}ensureChunk(){}};function Ws(e,t){Ns(`${e} '${t}' was not loaded, try using full build of exifr.`)}o(Hs,"c"),o(Ws,"p");var Vs=class extends Map{constructor(e){super(),this.kind=e}get(e,t){return this.has(e)||Ws(this.kind,e),t&&(e in t||Ns(`Unknown ${this.kind} '${e}'.`),t[e].enabled||Ws(this.kind,e)),super.get(e)}keyList(){return Array.from(this.keys())}};o(Vs,"g");var qs=new Vs("file parser"),Gs=new Vs("segment parser"),Ys=new Vs("file reader"),$s=Ps.fetch;function Ks(e,t){return(i=e).startsWith("data:")||i.length>1e4?Zs(e,t,"base64"):Ds&&e.includes("://")?Xs(e,t,"url",Js):Ds?Zs(e,t,"fs"):Fs?Xs(e,t,"url",Js):void Ns("Invalid input argument");var i}async function Xs(e,t,i,r){return Ys.has(i)?Zs(e,t,i):r?async function(e,t){let i=await t(e);return new Hs(i)}(e,r):void Ns(`Parser ${i} is not loaded`)}async function Zs(e,t,i){let r=new(Ys.get(i))(e,t);return await r.read(),r}o(Ks,"k"),o(Xs,"O"),o(Zs,"v");var Js=o((e=>$s(e).then((e=>e.arrayBuffer()))),"S"),Qs=o((e=>new Promise(((t,i)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=i,r.readAsArrayBuffer(e)}))),"A"),en=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};function tn(e,t,i){let r=new en;for(let[e,t]of i)r.set(e,t);if(Array.isArray(t))for(let i of t)e.set(i,r);else e.set(t,r);return r}function rn(e,t,i){let r,s=e.get(t);for(r of i)s.set(r[0],r[1])}o(en,"U"),o(tn,"x"),o(rn,"C");var sn=new Map,nn=new Map,on=new Map,an=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],ln=["jfif","xmp","icc","iptc","ihdr"],hn=["tiff",...ln],cn=["ifd0","ifd1","exif","gps","interop"],dn=[...hn,...cn],un=["makerNote","userComment"],pn=["translateKeys","translateValues","reviveValues","multiSegment"],fn=[...pn,"sanitize","mergeOutput","silentErrors"],mn=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}};o(mn,"_");var gn=class extends mn{get needed(){return this.enabled||this.deps.size>0}constructor(e,t,i,r){if(super(),Os(this,"enabled",!1),Os(this,"skip",new Set),Os(this,"pick",new Set),Os(this,"deps",new Set),Os(this,"translateKeys",!1),Os(this,"translateValues",!1),Os(this,"reviveValues",!1),this.key=e,this.enabled=t,this.parse=this.enabled,this.applyInheritables(r),this.canBeFiltered=cn.includes(e),this.canBeFiltered&&(this.dict=sn.get(e)),void 0!==i)if(Array.isArray(i))this.parse=this.enabled=!0,this.canBeFiltered&&i.length>0&&this.translateTagSet(i,this.pick);else if("object"==typeof i){if(this.enabled=!0,this.parse=!1!==i.parse,this.canBeFiltered){let{pick:e,skip:t}=i;e&&e.length>0&&this.translateTagSet(e,this.pick),t&&t.length>0&&this.translateTagSet(t,this.skip)}this.applyInheritables(i)}else!0===i||!1===i?this.parse=this.enabled=i:Ns(`Invalid options argument: ${i}`)}applyInheritables(e){let t,i;for(t of pn)i=e[t],void 0!==i&&(this[t]=i)}translateTagSet(e,t){if(this.dict){let i,r,{tagKeys:s,tagValues:n}=this.dict;for(i of e)"string"==typeof i?(r=n.indexOf(i),-1===r&&(r=s.indexOf(Number(i))),-1!==r&&t.add(Number(s[r]))):t.add(i)}else for(let i of e)t.add(i)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,kn(this.pick,this.deps)):this.enabled&&this.pick.size>0&&kn(this.pick,this.deps)}};o(gn,"D");var yn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},vn=new Map,bn=class extends mn{static useCached(e){let t=vn.get(e);return void 0!==t||(t=new this(e),vn.set(e,t)),t}constructor(e){super(),!0===e?this.setupFromTrue():void 0===e?this.setupFromUndefined():Array.isArray(e)?this.setupFromArray(e):"object"==typeof e?this.setupFromObject(e):Ns(`Invalid options argument ${e}`),void 0===this.firstChunkSize&&(this.firstChunkSize=Fs?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let e;for(e of an)this[e]=yn[e];for(e of fn)this[e]=yn[e];for(e of un)this[e]=yn[e];for(e of dn)this[e]=new gn(e,yn[e],void 0,this)}setupFromTrue(){let e;for(e of an)this[e]=yn[e];for(e of fn)this[e]=yn[e];for(e of un)this[e]=!0;for(e of dn)this[e]=new gn(e,!0,void 0,this)}setupFromArray(e){let t;for(t of an)this[t]=yn[t];for(t of fn)this[t]=yn[t];for(t of un)this[t]=yn[t];for(t of dn)this[t]=new gn(t,!1,void 0,this);this.setupGlobalFilters(e,void 0,cn)}setupFromObject(e){let t;for(t of(cn.ifd0=cn.ifd0||cn.image,cn.ifd1=cn.ifd1||cn.thumbnail,Object.assign(this,e),an))this[t]=_n(e[t],yn[t]);for(t of fn)this[t]=_n(e[t],yn[t]);for(t of un)this[t]=_n(e[t],yn[t]);for(t of hn)this[t]=new gn(t,yn[t],e[t],this);for(t of cn)this[t]=new gn(t,yn[t],e[t],this.tiff);this.setupGlobalFilters(e.pick,e.skip,cn,dn),!0===e.tiff?this.batchEnableWithBool(cn,!0):!1===e.tiff?this.batchEnableWithUserValue(cn,e):Array.isArray(e.tiff)?this.setupGlobalFilters(e.tiff,void 0,cn):"object"==typeof e.tiff&&this.setupGlobalFilters(e.tiff.pick,e.tiff.skip,cn)}batchEnableWithBool(e,t){for(let i of e)this[i].enabled=t}batchEnableWithUserValue(e,t){for(let i of e){let e=t[i];this[i].enabled=!1!==e&&void 0!==e}}setupGlobalFilters(e,t,i,r=i){if(e&&e.length){for(let e of r)this[e].enabled=!1;let t=wn(e,i);for(let[e,i]of t)kn(this[e].pick,i),this[e].enabled=!0}else if(t&&t.length){let e=wn(t,i);for(let[t,i]of e)kn(this[t].skip,i)}}filterNestedSegmentTags(){let{ifd0:e,exif:t,xmp:i,iptc:r,icc:s}=this;this.makerNote?t.deps.add(37500):t.skip.add(37500),this.userComment?t.deps.add(37510):t.skip.add(37510),i.enabled||e.skip.add(700),r.enabled||e.skip.add(33723),s.enabled||e.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:e,exif:t,gps:i,interop:r}=this;r.needed&&(t.deps.add(40965),e.deps.add(40965)),t.needed&&e.deps.add(34665),i.needed&&e.deps.add(34853),this.tiff.enabled=cn.some((e=>!0===this[e].enabled))||this.makerNote||this.userComment;for(let e of cn)this[e].finalizeFilters()}get onlyTiff(){return!ln.map((e=>this[e].enabled)).some((e=>!0===e))&&this.tiff.enabled}checkLoadedPlugins(){for(let e of hn)this[e].enabled&&!Gs.has(e)&&Ws("segment parser",e)}};function wn(e,t){let i,r,s,n,o=[];for(s of t){for(n of(i=sn.get(s),r=[],i))(e.includes(n[0])||e.includes(n[1]))&&r.push(n[0]);r.length&&o.push([s,r])}return o}function _n(e,t){return void 0!==e?e:void 0!==t?t:void 0}function kn(e,t){for(let i of t)e.add(i)}o(bn,"R"),o(wn,"K"),o(_n,"W"),o(kn,"X"),Os(bn,"default",yn);var Sn=class{constructor(e){Os(this,"parsers",{}),Os(this,"output",{}),Os(this,"errors",[]),Os(this,"pushToErrors",(e=>this.errors.push(e))),this.options=bn.useCached(e)}async read(e){var t,i;this.file=await(t=e,i=this.options,"string"==typeof t?Ks(t,i):Fs&&!Ms&&t instanceof HTMLImageElement?Ks(t.src,i):t instanceof Uint8Array||t instanceof ArrayBuffer||t instanceof DataView?new Hs(t):Fs&&t instanceof Blob?Xs(t,i,"blob",Qs):void Ns("Invalid input argument"))}setup(){if(this.fileParser)return;let{file:e}=this,t=e.getUint16(0);for(let[i,r]of qs)if(r.canHandle(e,t))return this.fileParser=new r(this.options,this.file,this.parsers),e[i]=!0;this.file.close&&this.file.close(),Ns("Unknown file format")}async parse(){let{output:e,errors:t}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),t.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&t.length>0&&(e.errors=t),Is(i=e)?void 0:i;var i}async executeParsers(){let{output:e}=this;await this.fileParser.parse();let t=Object.values(this.parsers).map((async t=>{let i=await t.parse();t.assignToOutput(e,i)}));this.options.silentErrors&&(t=t.map((e=>e.catch(this.pushToErrors)))),await Promise.all(t)}async extractThumbnail(){this.setup();let{options:e,file:t}=this,i=Gs.get("tiff",e);var r;if(t.tiff?r={start:0,type:"tiff"}:t.jpeg&&(r=await this.fileParser.getOrFindSegment("tiff")),void 0===r)return;let s=await this.fileParser.ensureSegmentChunk(r),n=this.parsers.tiff=new i(s,e,t),o=await n.extractThumbnail();return t.close&&t.close(),o}};async function xn(e,t){let i=new Sn(t);return await i.read(e),i.parse()}o(Sn,"H"),o(xn,"Y");var Tn=Object.freeze({__proto__:null,parse:xn,Exifr:Sn,fileParsers:qs,segmentParsers:Gs,fileReaders:Ys,tagKeys:sn,tagValues:nn,tagRevivers:on,createDictionary:tn,extendDictionary:rn,fetchUrlAsArrayBuffer:Js,readBlobAsArrayBuffer:Qs,chunkedProps:an,otherSegments:ln,segments:hn,tiffBlocks:cn,segmentsAndBlocks:dn,tiffExtractables:un,inheritables:pn,allFormatters:fn,Options:bn}),jn=class{static findPosition(e,t){let i=e.getUint16(t+2)+2,r="function"==typeof this.headerLength?this.headerLength(e,t,i):this.headerLength,s=t+r,n=i-r;return{offset:t,length:i,headerLength:r,start:s,size:n,end:s+n}}static parse(e,t={}){return new this(e,new bn({[this.type]:t}),e).parse()}normalizeInput(e){return e instanceof Hs?e:new Hs(e)}constructor(e,t={},i){Os(this,"errors",[]),Os(this,"raw",new Map),Os(this,"handleError",(e=>{if(!this.options.silentErrors)throw e;this.errors.push(e.message)})),this.chunk=this.normalizeInput(e),this.file=i,this.type=this.constructor.type,this.globalOptions=this.options=t,this.localOptions=t[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(e,t){let i=on.get(t),r=nn.get(t),s=sn.get(t),n=this.options[t],o=n.reviveValues&&!!i,a=n.translateValues&&!!r,l=n.translateKeys&&!!s,h={};for(let[t,n]of e)o&&i.has(t)?n=i.get(t)(n):a&&r.has(t)&&(n=this.translateValue(n,r.get(t))),l&&s.has(t)&&(t=s.get(t)||t),h[t]=n;return h}translateValue(e,t){return t[e]||t.DEFAULT||e}assignToOutput(e,t){this.assignObjectToOutput(e,this.constructor.type,t)}assignObjectToOutput(e,t,i){if(this.globalOptions.mergeOutput)return Object.assign(e,i);e[t]?Object.assign(e[t],i):e[t]=i}};function Cn(e){return 192===e||194===e||196===e||219===e||221===e||218===e||254===e}function En(e){return e>=224&&e<=239}function On(e,t,i){for(let[r,s]of Gs)if(s.canHandle(e,t,i))return r}o(jn,"J"),Os(jn,"headerLength",4),Os(jn,"type",void 0),Os(jn,"multiSegment",!1),Os(jn,"canHandle",(()=>!1)),o(Cn,"q"),o(En,"Q"),o(On,"Z");var Pn=class extends class{constructor(e,t,i){Os(this,"errors",[]),Os(this,"ensureSegmentChunk",(async e=>{let t=e.start,i=e.size||65536;if(this.file.chunked)if(this.file.available(t,i))e.chunk=this.file.subarray(t,i);else try{e.chunk=await this.file.readChunk(t,i)}catch(t){Ns(`Couldn't read segment: ${JSON.stringify(e)}. ${t.message}`)}else this.file.byteLength>t+i?e.chunk=this.file.subarray(t,i):void 0===e.size?e.chunk=this.file.subarray(t):Ns("Segment unreachable: "+JSON.stringify(e));return e.chunk})),this.extendOptions&&this.extendOptions(e),this.options=e,this.file=t,this.parsers=i}injectSegment(e,t){this.options[e].enabled&&this.createParser(e,t)}createParser(e,t){let i=new(Gs.get(e))(t,this.options,this.file);return this.parsers[e]=i}createParsers(e){for(let t of e){let{type:e,chunk:i}=t,r=this.options[e];if(r&&r.enabled){let t=this.parsers[e];t&&t.append||t||this.createParser(e,i)}}}async readSegments(e){let t=e.map(this.ensureSegmentChunk);await Promise.all(t)}}{constructor(...e){super(...e),Os(this,"appSegments",[]),Os(this,"jpegSegments",[]),Os(this,"unknownSegments",[])}static canHandle(e,t){return 65496===t}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(e){!0===e?(this.findAll=!0,this.wanted=new Set(Gs.keyList())):(e=void 0===e?Gs.keyList().filter((e=>this.options[e].enabled)):e.filter((e=>this.options[e].enabled&&Gs.has(e))),this.findAll=!1,this.remaining=new Set(e),this.wanted=new Set(e)),this.unfinishedMultiSegment=!1}async findAppSegments(e=0,t){this.setupSegmentFinderArgs(t);let{file:i,findAll:r,wanted:s,remaining:n}=this;if(!r&&this.file.chunked&&(r=Array.from(s).some((e=>{let t=Gs.get(e),i=this.options[e];return t.multiSegment&&i.multiSegment})),r&&await this.file.readWhole()),e=this.findAppSegmentsInRange(e,i.byteLength),!this.options.onlyTiff&&i.chunked){let t=!1;for(;n.size>0&&!t&&(i.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:r}=i,s=this.appSegments.some((e=>!this.file.available(e.offset||e.start,e.length||e.size)));if(t=e>r&&!s?!await i.readNextChunk(e):!await i.readNextChunk(r),void 0===(e=this.findAppSegmentsInRange(e,i.byteLength)))return}}}findAppSegmentsInRange(e,t){t-=2;let i,r,s,n,o,a,{file:l,findAll:h,wanted:c,remaining:d,options:u}=this;for(;e<t;e++)if(255===l.getUint8(e))if(i=l.getUint8(e+1),En(i)){if(r=l.getUint16(e+2),s=On(l,e,r),s&&c.has(s)&&(n=Gs.get(s),o=n.findPosition(l,e),a=u[s],o.type=s,this.appSegments.push(o),!h&&(n.multiSegment&&a.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||d.delete(s)):d.delete(s),0===d.size)))break;u.recordUnknownSegments&&(o=jn.findPosition(l,e),o.marker=i,this.unknownSegments.push(o)),e+=r+1}else if(Cn(i)){if(r=l.getUint16(e+2),218===i&&!1!==u.stopAfterSos)return;u.recordJpegSegments&&this.jpegSegments.push({offset:e,length:r,marker:i}),e+=r+1}return e}mergeMultiSegments(){if(!this.appSegments.some((e=>e.multiSegment)))return;let e=function(e,t){let i,r,s,n=new Map;for(let t=0;t<e.length;t++)i=e[t],r=i.type,n.has(r)?s=n.get(r):n.set(r,s=[]),s.push(i);return Array.from(n)}(this.appSegments);this.mergedAppSegments=e.map((([e,t])=>{let i=Gs.get(e,this.options);return i.handleMultiSegments?{type:e,chunk:i.handleMultiSegments(t)}:t[0]}))}getSegment(e){return this.appSegments.find((t=>t.type===e))}async getOrFindSegment(e){let t=this.getSegment(e);return void 0===t&&(await this.findAppSegments(0,[e]),t=this.getSegment(e)),t}};o(Pn,"ee"),Os(Pn,"type","jpeg"),qs.set("jpeg",Pn);var Fn=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],Mn=class extends jn{parseHeader(){var e=this.chunk.getUint16();18761===e?this.le=!0:19789===e&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(e,t,i=new Map){let{pick:r,skip:s}=this.options[t];r=new Set(r);let n=r.size>0,o=0===s.size,a=this.chunk.getUint16(e);e+=2;for(let l=0;l<a;l++){let a=this.chunk.getUint16(e);if(n){if(r.has(a)&&(i.set(a,this.parseTag(e,a,t)),r.delete(a),0===r.size))break}else!o&&s.has(a)||i.set(a,this.parseTag(e,a,t));e+=12}return i}parseTag(e,t,i){let{chunk:r}=this,s=r.getUint16(e+2),n=r.getUint32(e+4),o=Fn[s];if(o*n<=4?e+=8:e=r.getUint32(e+8),(s<1||s>13)&&Ns(`Invalid TIFF value type. block: ${i.toUpperCase()}, tag: ${t.toString(16)}, type: ${s}, offset ${e}`),e>r.byteLength&&Ns(`Invalid TIFF value offset. block: ${i.toUpperCase()}, tag: ${t.toString(16)}, type: ${s}, offset ${e} is outside of chunk size ${r.byteLength}`),1===s)return r.getUint8Array(e,n);if(2===s)return""===(a=function(e){for(;e.endsWith("\0");)e=e.slice(0,-1);return e}(a=r.getString(e,n)).trim())?void 0:a;var a;if(7===s)return r.getUint8Array(e,n);if(1===n)return this.parseTagValue(s,e);{let t=new(function(e){switch(e){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:case 10:default:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 11:return Float32Array;case 12:return Float64Array}}(s))(n),i=o;for(let r=0;r<n;r++)t[r]=this.parseTagValue(s,e),e+=i;return t}}parseTagValue(e,t){let{chunk:i}=this;switch(e){case 1:return i.getUint8(t);case 3:return i.getUint16(t);case 4:case 13:return i.getUint32(t);case 5:return i.getUint32(t)/i.getUint32(t+4);case 6:return i.getInt8(t);case 8:return i.getInt16(t);case 9:return i.getInt32(t);case 10:return i.getInt32(t)/i.getInt32(t+4);case 11:return i.getFloat(t);case 12:return i.getDouble(t);default:Ns(`Invalid tiff type ${e}`)}}};o(Mn,"se");var Dn=class extends Mn{static canHandle(e,t){return 225===e.getUint8(t+1)&&1165519206===e.getUint32(t+4)&&0===e.getUint16(t+8)}async parse(){this.parseHeader();let{options:e}=this;return e.ifd0.enabled&&await this.parseIfd0Block(),e.exif.enabled&&await this.safeParse("parseExifBlock"),e.gps.enabled&&await this.safeParse("parseGpsBlock"),e.interop.enabled&&await this.safeParse("parseInteropBlock"),e.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(e){let t=this[e]();return void 0!==t.catch&&(t=t.catch(this.handleError)),t}findIfd0Offset(){void 0===this.ifd0Offset&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(void 0===this.ifd1Offset){this.findIfd0Offset();let e=this.chunk.getUint16(this.ifd0Offset),t=this.ifd0Offset+2+12*e;this.ifd1Offset=this.chunk.getUint32(t)}}parseBlock(e,t){let i=new Map;return this[t]=i,this.parseTags(e,t,i),i}async parseIfd0Block(){if(this.ifd0)return;let{file:e}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ns("Malformed EXIF data"),!e.chunked&&this.ifd0Offset>e.byteLength&&Ns(`IFD0 offset points to outside of file.\nthis.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${e.byteLength}`),e.tiff&&await e.ensureChunk(this.ifd0Offset,Bs(this.options));let t=this.parseBlock(this.ifd0Offset,"ifd0");return 0!==t.size?(this.exifOffset=t.get(34665),this.interopOffset=t.get(40965),this.gpsOffset=t.get(34853),this.xmp=t.get(700),this.iptc=t.get(33723),this.icc=t.get(34675),this.options.sanitize&&(t.delete(34665),t.delete(40965),t.delete(34853),t.delete(700),t.delete(33723),t.delete(34675)),t):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),void 0===this.exifOffset))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,Bs(this.options));let e=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=e.get(40965)),this.makerNote=e.get(37500),this.userComment=e.get(37510),this.options.sanitize&&(e.delete(40965),e.delete(37500),e.delete(37510)),this.unpack(e,41728),this.unpack(e,41729),e}unpack(e,t){let i=e.get(t);i&&1===i.length&&e.set(t,i[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),void 0===this.gpsOffset))return;let e=this.parseBlock(this.gpsOffset,"gps");return e&&e.has(2)&&e.has(4)&&(e.set("latitude",An(...e.get(2),e.get(1))),e.set("longitude",An(...e.get(4),e.get(3)))),e}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),void 0!==this.interopOffset||this.exif||await this.parseExifBlock(),void 0!==this.interopOffset))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(e=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||e))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),void 0===this.ifd1)return;let e=this.ifd1.get(513),t=this.ifd1.get(514);return this.chunk.getUint8Array(e,t)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let e,t,i,r={};for(t of cn)if(e=this[t],!Is(e))if(i=this.canTranslate?this.translateBlock(e,t):Object.fromEntries(e),this.options.mergeOutput){if("ifd1"===t)continue;Object.assign(r,i)}else r[t]=i;return this.makerNote&&(r.makerNote=this.makerNote),this.userComment&&(r.userComment=this.userComment),r}assignToOutput(e,t){if(this.globalOptions.mergeOutput)Object.assign(e,t);else for(let[i,r]of Object.entries(t))this.assignObjectToOutput(e,i,r)}};function An(e,t,i,r){var s=e+t/60+i/3600;return"S"!==r&&"W"!==r||(s*=-1),s}o(Dn,"ie"),o(An,"ne"),Os(Dn,"type","tiff"),Os(Dn,"headerLength",10),Gs.set("tiff",Dn);Object.freeze({__proto__:null,default:Tn,Exifr:Sn,fileParsers:qs,segmentParsers:Gs,fileReaders:Ys,tagKeys:sn,tagValues:nn,tagRevivers:on,createDictionary:tn,extendDictionary:rn,fetchUrlAsArrayBuffer:Js,readBlobAsArrayBuffer:Qs,chunkedProps:an,otherSegments:ln,segments:hn,tiffBlocks:cn,segmentsAndBlocks:dn,tiffExtractables:un,inheritables:pn,allFormatters:fn,Options:bn,parse:xn});var Rn={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},Ln=(Object.assign({},Rn,{firstChunkSize:4e4,gps:[1,2,3,4]}),Object.assign({},Rn,{tiff:!1,ifd1:!0,mergeOutput:!1}),Object.assign({},Rn,{firstChunkSize:4e4,ifd0:[274]}));async function In(e){let t=new Sn(Ln);await t.read(e);let i=await t.parse();if(i&&i.ifd0)return i.ifd0[274]}o(In,"ce");var Nn=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),Bn=!0,zn=!0;if("object"==typeof navigator){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,e,i]=t;Bn=Number(e)+.1*Number(i)<13.4,zn=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);Bn=zn=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);Bn=zn=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);Bn=zn=Number(t)<77}}async function Un(e){let t=await In(e);return Object.assign({canvas:Bn,css:zn},Nn[t])}o(Un,"ye");var Hn=class extends Hs{constructor(...e){super(...e),Os(this,"ranges",new Wn),0!==this.byteLength&&this.ranges.add(0,this.byteLength)}_tryExtend(e,t,i){if(0===e&&0===this.byteLength&&i){let e=new DataView(i.buffer||i,i.byteOffset,i.byteLength);this._swapDataView(e)}else{let i=e+t;if(i>this.byteLength){let{dataView:e}=this._extend(i);this._swapDataView(e)}}}_extend(e){let t;t=Rs?As.allocUnsafe(e):new Uint8Array(e);let i=new DataView(t.buffer,t.byteOffset,t.byteLength);return t.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:t,dataView:i}}subarray(e,t,i=!1){return t=t||this._lengthToEnd(e),i&&this._tryExtend(e,t),this.ranges.add(e,t),super.subarray(e,t)}set(e,t,i=!1){i&&this._tryExtend(t,e.byteLength,e);let r=super.set(e,t);return this.ranges.add(t,r.byteLength),r}async ensureChunk(e,t){this.chunked&&(this.ranges.available(e,t)||await this.readChunk(e,t))}available(e,t){return this.ranges.available(e,t)}};o(Hn,"be");var Wn=class{constructor(){Os(this,"list",[])}get length(){return this.list.length}add(e,t,i=0){let r=e+t,s=this.list.filter((t=>Vn(e,t.offset,r)||Vn(e,t.end,r)));if(s.length>0){e=Math.min(e,...s.map((e=>e.offset))),r=Math.max(r,...s.map((e=>e.end))),t=r-e;let i=s.shift();i.offset=e,i.length=t,i.end=r,this.list=this.list.filter((e=>!s.includes(e)))}else this.list.push({offset:e,length:t,end:r})}available(e,t){let i=e+t;return this.list.some((t=>t.offset<=e&&i<=t.end))}};function Vn(e,t,i){return e<=t&&t<=i}o(Wn,"we"),o(Vn,"ke");var qn=class extends Hn{constructor(e,t){super(0),Os(this,"chunksRead",0),this.input=e,this.options=t}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(e=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let t=this.options.chunkSize,i=await this.readChunk(e,t);return!!i&&i.byteLength===t}async readChunk(e,t){if(this.chunksRead++,0!==(t=this.safeWrapAddress(e,t)))return this._readChunk(e,t)}safeWrapAddress(e,t){return void 0!==this.size&&e+t>this.size?Math.max(0,this.size-e):t}get nextChunkOffset(){if(0!==this.ranges.list.length)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return void 0!==this.size&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};o(qn,"Oe"),Ys.set("blob",class extends qn{async readWhole(){this.chunked=!1;let e=await Qs(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let i=t?e+t:void 0,r=this.input.slice(e,i),s=await Qs(r);return this.set(s,e,!0)}});var Gn={strings:{generatingThumbnails:"Generating thumbnails..."}};function Yn(e,t,i){try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){if(18===e.code)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise((r=>{e.toBlob(r,t,i)})).then((e=>{if(null===e)throw new Error("cannot read image, probably an svg with external resources");return e})):Promise.resolve().then((()=>Cs(e.toDataURL(t,i),{}))).then((e=>{if(null===e)throw new Error("could not extract blob, probably an old browser");return e}))}function $n(e,t){let i=e.width,r=e.height;(90===t.deg||270===t.deg)&&(i=e.height,r=e.width);let s=document.createElement("canvas");s.width=i,s.height=r;let n=s.getContext("2d");return n.translate(i/2,r/2),t.canvas&&(n.rotate(t.rad),n.scale(t.scaleX,t.scaleY)),n.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),s}function Kn(e){let t=e.width/e.height,i=5e6,r=4096,s=Math.floor(Math.sqrt(i*t)),n=Math.floor(i/Math.sqrt(i*t));if(s>r&&(s=r,n=Math.round(s/t)),n>r&&(n=r,s=Math.round(t*n)),e.width>s){let t=document.createElement("canvas");return t.width=s,t.height=n,t.getContext("2d").drawImage(e,0,0,s,n),t}return e}o(Yn,"canvasToBlob"),o($n,"rotateImage"),o(Kn,"protect");var Xn=class extends Ut{constructor(e,t){super(e,t),this.onFileAdded=e=>{!e.preview&&e.data&&ir(e.type)&&!e.isRemote&&this.addToQueue(e.id)},this.onCancelRequest=e=>{let t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1)},this.onFileRemoved=e=>{let t=this.queue.indexOf(e.id);-1!==t&&this.queue.splice(t,1),e.preview&&Es(e.preview)&&URL.revokeObjectURL(e.preview)},this.onRestored=()=>{this.uppy.getFiles().filter((e=>e.isRestored)).forEach((e=>{(!e.preview||Es(e.preview))&&this.addToQueue(e.id)}))},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=e=>{e.forEach((e=>{let t=this.uppy.getFile(e);this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})}));let t=o((()=>{e.forEach((e=>{let t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)}))}),"emitPreprocessCompleteForAll");return new Promise((e=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",(()=>{t(),e()})):(t(),e())}))},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=Gn;if(this.opts={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1,...t},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(e,t,i){let r=URL.createObjectURL(e.data),s=new Promise(((e,t)=>{let i=new Image;i.src=r,i.addEventListener("load",(()=>{URL.revokeObjectURL(r),e(i)})),i.addEventListener("error",(e=>{URL.revokeObjectURL(r),t(e.error||new Error("Could not create thumbnail"))}))})),n=Un(e.data).catch((()=>1));return Promise.all([s,n]).then((e=>{let[r,s]=e,n=this.getProportionalDimensions(r,t,i,s.deg),o=$n(r,s);return Yn(this.resizeImage(o,n.width,n.height),this.thumbnailType,80)})).then((e=>URL.createObjectURL(e)))}getProportionalDimensions(e,t,i,r){let s=e.width/e.height;return(90===r||270===r)&&(s=e.height/e.width),null!=t?{width:t,height:Math.round(t/s)}:null!=i?{width:Math.round(i*s),height:i}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/s)}}resizeImage(e,t,i){let r=Kn(e),s=Math.ceil(Math.log2(r.width/t));s<1&&(s=1);let n=t*2**(s-1),o=i*2**(s-1);for(;s--;){let e=document.createElement("canvas");e.width=n,e.height=o,e.getContext("2d").drawImage(r,0,0,n,o),r=e,n=Math.round(n/2),o=Math.round(o/2)}return r}setPreviewURL(e,t){this.uppy.setFileState(e,{preview:t})}addToQueue(e){this.queue.push(e),!1===this.queueProcessing&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){let e=this.uppy.getFile(this.queue.shift());return e?this.requestThumbnail(e).catch((()=>{})).then((()=>this.processQueue())):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(e){return ir(e.type)&&!e.isRemote?this.createThumbnail(e,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then((t=>{this.setPreviewURL(e.id,t),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${e.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(e.id),t)})).catch((t=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${e.id}:`,"warning"),this.uppy.log(t,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(e.id),t)})):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}};function Zn(e){if("string"==typeof e){let t=document.querySelectorAll(e);return 0===t.length?null:Array.from(t)}return"object"==typeof e&&Pt(e)?[e]:null}o(Xn,"ThumbnailGenerator"),Xn.VERSION="3.0.2",o(Zn,"findAllDOMElements");var Jn=Array.from;function Qn(e,t,i,r){let{onSuccess:s}=r;e.readEntries((r=>{let n=[...t,...r];r.length?queueMicrotask((()=>{Qn(e,n,i,{onSuccess:s})})):s(n)}),(e=>{i(e),s(t)}))}function eo(e,t){return null==e?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile:()=>new Promise(((t,i)=>e.file(t,i))),async*values(){let i=e.createReader();yield*await new Promise((e=>{Qn(i,[],t,{onSuccess:i=>e(i.map((e=>eo(e,t))))})}))}}}async function*to(e,t){if("file"===e.kind){let i=await e.getFile();null!==i&&(i.relativePath=t?`${t}/${e.name}`:null,yield i)}else if("directory"===e.kind)for await(let i of e.values())yield*to(i,`${t}/${e.name}`)}async function*io(e,t){let i=await Promise.all(Array.from(e.items,(async e=>{var i;return{lastResortFile:e.getAsFile(),entry:null!=(i=await(null==e.getAsFileSystemHandle?void 0:e.getAsFileSystemHandle()))?i:eo(e.webkitGetAsEntry(),t)}})));for(let{lastResortFile:e,entry:r}of i)if(null!=r)try{yield*to(r,"")}catch(i){e?yield e:t(i)}}function ro(e){let t=Jn(e.files);return Promise.resolve(t)}async function so(e,t){let{logDropError:i=o((()=>{}),"logDropError")}=void 0===t?{}:t;try{let t=[];for await(let r of io(e,i))t.push(r);return t}catch{return ro(e)}}o(Qn,"getFilesAndDirectoriesFromDirectory"),o(eo,"getAsFileSystemHandleFromEntry"),o(to,"createPromiseToAddFileOrParseDirectory"),o(io,"getFilesFromDataTransfer"),o(ro,"fallbackApi"),o(so,"getDroppedFiles");var no=Number.isNaN||o((function(e){return"number"==typeof e&&e!=e}),"ponyfill");function oo(e,t){return!!(e===t||no(e)&&no(t))}function ao(e,t){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!oo(e[i],t[i]))return!1;return!0}function lo(e,t){void 0===t&&(t=ao);var i=null;function r(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];if(i&&i.lastThis===this&&t(r,i.lastArgs))return i.lastResult;var n=e.apply(this,r);return i={lastResult:n,lastArgs:r,lastThis:this},n}return o(r,"memoized"),r.clear=o((function(){i=null}),"clear"),r}o(oo,"isEqual"),o(ao,"areInputsEqual"),o(lo,"memoizeOne");var ho=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function co(e,t){if(t){let i=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(i)return i}return e}function uo(e,t){let i=t[0];i&&(i.focus(),e.preventDefault())}function po(e,t){let i=t[t.length-1];i&&(i.focus(),e.preventDefault())}function fo(e){return e.contains(document.activeElement)}function mo(e,t,i){let r=co(i,t),s=Jn(r.querySelectorAll(ho)),n=s.indexOf(document.activeElement);fo(r)?e.shiftKey&&0===n?po(e,s):!e.shiftKey&&n===s.length-1&&uo(e,s):uo(e,s)}function go(e,t,i){null===t||mo(e,t,i)}o(co,"getActiveOverlayEl"),o(uo,"focusOnFirstNode"),o(po,"focusOnLastNode"),o(fo,"isFocusInOverlay"),o(mo,"trapFocus"),o(go,"forInline");var yo=h(g(),1);function vo(){let e=!1;return(0,yo.default)(o(((t,i)=>{let r=co(t,i),s=r.contains(document.activeElement);if(s&&e)return;let n=r.querySelector("[data-uppy-super-focusable]");if(!s||n)if(n)n.focus({preventScroll:!0}),e=!0;else{let t=r.querySelector(ho);t?.focus({preventScroll:!0}),e=!1}}),"superFocus"),260)}o(vo,"createSuperFocus");var bo=h(m(),1);function wo(){let e=document.body;return!!("draggable"in e&&"ondragstart"in e&&"ondrop"in e&&"FormData"in window&&"FileReader"in window)}o(wo,"isDragDropSupported");var _o=h(m(),1),ko=h(y(),1);function So(){return st("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},st("g",{fill:"#686DE0",fillRule:"evenodd"},st("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),st("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),st("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}function xo(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},st("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}function To(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},st("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}function jo(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},st("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}function Co(){return st("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},st("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}function Eo(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},st("g",{fill:"#A7AFB7",fillRule:"nonzero"},st("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),st("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}function Oo(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},st("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}function Po(e){let t={color:"#838999",icon:Eo()};if(!e)return t;let i=e.split("/")[0],r=e.split("/")[1];return"text"===i?{color:"#5a5e69",icon:Oo()}:"image"===i?{color:"#686de0",icon:So()}:"audio"===i?{color:"#068dbb",icon:xo()}:"video"===i?{color:"#19af67",icon:To()}:"application"===i&&"pdf"===r?{color:"#e25149",icon:jo()}:"application"===i&&-1!==["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)?{color:"#00C469",icon:Co()}:t}function Fo(e){let{file:t}=e;if(t.preview)return st("img",{className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});let{color:i,icon:r}=Po(t.type);return st("div",{className:"uppy-Dashboard-Item-previewIconWrap"},st("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:i}},r),st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},st("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}o(So,"iconImage"),o(xo,"iconAudio"),o(To,"iconVideo"),o(jo,"iconPDF"),o(Co,"iconArchive"),o(Eo,"iconFile"),o(Oo,"iconText"),o(Po,"getIconByMime"),o(Fo,"FilePreview");var Mo=o(((e,t)=>t.filter((t=>t.id===e))[0].name),"metaFieldIdToName");function Do(e){let{file:t,toggleFileCard:i,i18n:r,metaFields:s}=e,{missingRequiredMetaFields:n}=t;if(null==n||!n.length)return null;let o=n.map((e=>Mo(e,s))).join(", ");return st("div",{className:"uppy-Dashboard-Item-errorMessage"},r("missingRequiredMetaFields",{smart_count:n.length,fields:o})," ",st("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>i(!0,t.id)},r("editFile")))}function Ao(e){return st("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:Po(e.file.type).color}},e.showLinkToFileUploadResult&&e.file.uploadURL&&st("a",{className:"uppy-Dashboard-Item-previewLink",href:e.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":e.file.meta.name},st("span",{hidden:!0},e.file.meta.name)),st(Fo,{file:e.file}),st(Do,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Ro(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton)return void e.uppy.retryUpload(e.file.id);e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function Lo(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function Io(e){return st("div",{className:"uppy-Dashboard-Item-progress"},st("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Lo(e),title:Lo(e),onClick:()=>Ro(e)},e.children))}function No(e){let{children:t}=e;return st("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},t)}function Bo(e){let{progress:t}=e,i=2*Math.PI*15;return st("g",null,st("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),st("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":i,"stroke-dashoffset":i-i/100*t}))}function zo(e){return e.file.progress.uploadStarted?e.isUploaded?st("div",{className:"uppy-Dashboard-Item-progress"},st("div",{className:"uppy-Dashboard-Item-progressIndicator"},st(No,null,st("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),st("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})))):e.recoveredState?void 0:e.error&&!e.hideRetryButton?st(Io,e,st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},st("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),st("path",{d:"M7.9 3H10v2H7.9z"}),st("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),st("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):e.resumableUploads&&!e.hidePauseResumeButton?st(Io,e,st(No,null,st(Bo,{progress:e.file.progress.percentage}),e.file.isPaused?st("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):st("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},st("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),st("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):e.resumableUploads||!e.individualCancellation||e.hideCancelButton?st("div",{className:"uppy-Dashboard-Item-progress"},st("div",{className:"uppy-Dashboard-Item-progressIndicator"},st(No,null,st(Bo,{progress:e.file.progress.percentage})))):st(Io,e,st(No,null,st(Bo,{progress:e.file.progress.percentage}),st("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):null}o(Do,"renderMissingMetaFieldsError"),o(Ao,"FilePreviewAndLink"),o(Ro,"onPauseResumeCancelRetry"),o(Lo,"progressIndicatorTitle"),o(Io,"ProgressIndicatorButton"),o(No,"ProgressCircleContainer"),o(Bo,"ProgressCircle"),o(zo,"FileProgress");var Uo=h(v(),1),Ho="...";function Wo(e,t){if(0===t)return"";if(e.length<=t)return e;if(t<=4)return`${e.slice(0,t-1)}…`;let i=t-3,r=Math.ceil(i/2),s=Math.floor(i/2);return e.slice(0,r)+Ho+e.slice(-s)}o(Wo,"truncateString");var Vo=o((e=>{let{author:t,name:i}=e.file.meta;function r(){return e.singleFile?200:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return o(r,"getMaxNameLength"),st("div",{className:"uppy-Dashboard-Item-name",title:i},Wo(i,r()))}),"renderFileName"),qo=o((e=>{let{author:t}=e.file.meta,{providerName:i}=e.file.remote;return t?st("div",{className:"uppy-Dashboard-Item-author"},st("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},Wo(t.name,13)),i?st(at,null," · ",i," · "):null):null}),"renderAuthor"),Go=o((e=>e.file.size&&st("div",{className:"uppy-Dashboard-Item-statusSize"},(0,Uo.default)(e.file.size))),"renderFileSize"),Yo=o((e=>e.file.isGhost&&st("span",null," • ",st("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:e.toggleAddFilesPanel},e.i18n("reSelect")))),"ReSelectButton"),$o=o((e=>{let{file:t,onClick:i}=e;return t.error?st("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":t.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:i,type:"button"},"?"):null}),"ErrorButton");function Ko(e){let{file:t}=e;return st("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source},st("div",{className:"uppy-Dashboard-Item-fileName"},Vo(e),st($o,{file:e.file,onClick:()=>alert(e.file.error)})),st("div",{className:"uppy-Dashboard-Item-status"},qo(e),Go(e),Yo(e)),st(Do,{file:e.file,i18n:e.i18n,toggleFileCard:e.toggleFileCard,metaFields:e.metaFields}))}function Xo(e,t){return void 0===t&&(t="Copy the URL below"),new Promise((i=>{let r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();let s=o((()=>{document.body.removeChild(r),window.prompt(t,e),i()}),"magicCopyFailed");try{return document.execCommand("copy")?(document.body.removeChild(r),i()):s("copy command unavailable")}catch(e){return document.body.removeChild(r),s(e)}}))}function Zo(e){let{file:t,uploadInProgressOrComplete:i,metaFields:r,canEditFile:s,i18n:n,onClick:o}=e;return!i&&r&&r.length>0||!i&&s(t)?st("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":n("editFileWithFilename",{file:t.meta.name}),title:n("editFileWithFilename",{file:t.meta.name}),onClick:()=>o()},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},st("g",{fillRule:"evenodd"},st("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),st("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),st("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}function Jo(e){let{i18n:t,onClick:i,file:r}=e;return st("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":t("removeFile",{file:r.meta.name}),title:t("removeFile",{file:r.meta.name}),onClick:()=>i()},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},st("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),st("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}o(Ko,"FileInfo"),o(Xo,"copyToClipboard"),o(Zo,"EditButton"),o(Jo,"RemoveButton");var Qo=o(((e,t)=>{Xo(t.file.uploadURL,t.i18n("copyLinkToClipboardFallback")).then((()=>{t.uppy.log("Link copied to clipboard."),t.uppy.info(t.i18n("copyLinkToClipboardSuccess"),"info",3e3)})).catch(t.uppy.log).then((()=>e.target.focus({preventScroll:!0})))}),"copyLinkToClipboard");function ea(e){let{i18n:t}=e;return st("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":t("copyLink"),title:t("copyLink"),onClick:t=>Qo(t,e)},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},st("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}function ta(e){let{uppy:t,file:i,uploadInProgressOrComplete:r,canEditFile:s,metaFields:n,showLinkToFileUploadResult:a,showRemoveButton:l,i18n:h,toggleFileCard:c,openFileEditor:d}=e;return st("div",{className:"uppy-Dashboard-Item-actionWrapper"},st(Zo,{i18n:h,file:i,uploadInProgressOrComplete:r,canEditFile:s,metaFields:n,onClick:o((()=>{n&&n.length>0?c(!0,i.id):d(i)}),"editAction")}),a&&i.uploadURL?st(ea,{file:i,uppy:t,i18n:h}):null,l?st(Jo,{i18n:h,file:i,uppy:t,onClick:()=>e.uppy.removeFile(i.id,"removed-by-user")}):null)}o(ea,"CopyLinkButton"),o(ta,"Buttons");var ia=class extends lt{componentDidMount(){let{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}shouldComponentUpdate(e){return!(0,ko.default)(this.props,e)}componentDidUpdate(){let{file:e}=this.props;e.preview||this.props.handleRequestThumbnail(e)}componentWillUnmount(){let{file:e}=this.props;e.preview||this.props.handleCancelThumbnail(e)}render(){let{file:e}=this.props,t=e.progress.preprocess||e.progress.postprocess,i=e.progress.uploadComplete&&!t&&!e.error,r=e.progress.uploadStarted||t,s=e.progress.uploadStarted&&!e.progress.uploadComplete||t,n=e.error||!1,{isGhost:o}=e,a=(this.props.individualCancellation||!s)&&!i;return i&&this.props.showRemoveButtonAfterComplete&&(a=!0),st("div",{className:(0,_o.default)({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":t,"is-complete":i,"is-error":!!n,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o}),id:`uppy_${e.id}`,role:this.props.role},st("div",{className:"uppy-Dashboard-Item-preview"},st(Ao,{file:e,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),st(zo,{uppy:this.props.uppy,file:e,error:n,isUploaded:i,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),st("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},st(Ko,{file:e,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,singleFile:this.props.singleFile}),st(ta,{file:e,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:a,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:r,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}};function ra(){return ra=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},ra.apply(this,arguments)}o(ia,"FileItem"),o(ra,"_extends");var sa={position:"relative",width:"100%",minHeight:"100%"},na={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},oa=class extends lt{constructor(e){super(e),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){let{height:e}=this.state;e!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(e){let{data:t,rowHeight:i,renderRow:r,overscanCount:s=10,...n}=e,{offset:o,height:a}=this.state,l=Math.floor(o/i),h=Math.floor(a/i);s&&(l=Math.max(0,l-l%s),h+=s);let c=l+h+4,d=t.slice(l,c),u={...sa,height:t.length*i},p={...na,top:l*i};return st("div",ra({onScroll:this.handleScroll},n),st("div",{role:"presentation",style:u},st("div",{role:"presentation",style:p},d.map(r))))}};o(oa,"VirtualList");var aa=oa;function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},la.apply(this,arguments)}function ha(e,t){let i=[],r=[];return e.forEach((e=>{r.length<t?r.push(e):(i.push(r),r=[e])})),r.length&&i.push(r),i}o(la,"_extends"),o(ha,"chunks");var ca,da=o((e=>{let t=1===e.itemsPerRow?71:200,i={id:e.id,error:e.error,i18n:e.i18n,uppy:e.uppy,acquirers:e.acquirers,resumableUploads:e.resumableUploads,individualCancellation:e.individualCancellation,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,isWide:e.isWide,metaFields:e.metaFields,recoveredState:e.recoveredState,singleFile:e.singleFile,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail},r=o(((t,i)=>e.files[i].isGhost-e.files[t].isGhost),"sortByGhostComesFirst"),s=Object.keys(e.files);e.recoveredState&&s.sort(r);let n=ha(s,e.itemsPerRow),a=o((t=>st("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:t[0]},t.map((t=>st(ia,la({key:t,uppy:e.uppy},i,{role:"listitem",openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,file:e.files[t]})))))),"renderRow");return e.singleFile?st("div",{class:"uppy-Dashboard-files"},a(n[0])):st(aa,{class:"uppy-Dashboard-files",role:"list",data:n,renderRow:a,rowHeight:t})}),"default");ca=Symbol.for("uppy test: disable unused locale key warning");var ua=class extends lt{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=e=>{this.props.handleInputChange(e),e.target.value=null},this.renderHiddenInput=(e,t)=>st("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:e,type:"file",name:"files[]",multiple:1!==this.props.maxNumberOfFiles,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:t}),this.renderHiddenCameraInput=(e,t,i)=>{let r={photo:"image/*",video:"video/*"}[e];return st("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${e}`,onChange:this.onFileInputChange,capture:t,accept:r,ref:i})},this.renderMyDeviceAcquirer=()=>st("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),st("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),st("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>st("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),st("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),st("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>st("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},st("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},st("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),st("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),st("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(e,t)=>st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:t,"data-uppy-super-focusable":0===this.props.acquirers.length},e),this.renderDropPasteBrowseTagline=()=>{let e=this.props.acquirers.length,t=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),r=this.props.fileManagerSelectionType,s=r.charAt(0).toUpperCase()+r.slice(1);return st("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):e>0?this.props.i18nArray(`dropPasteImport${s}`,{browseFiles:t,browseFolders:i,browse:t}):this.props.i18nArray(`dropPaste${s}`,{browseFiles:t,browseFolders:i,browse:t}))},this.renderAcquirer=e=>st("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":e.id},st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":e.id,"aria-controls":`uppy-DashboardContent-panel--${e.id}`,"aria-selected":this.props.activePickerPanel.id===e.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(e.id)},e.icon(),st("div",{className:"uppy-DashboardTab-name"},e.name))),this.renderAcquirers=e=>{let t=[...e],i=t.splice(e.length-2,e.length);return st(at,null,t.map((e=>this.renderAcquirer(e))),st("span",{role:"presentation",style:{"white-space":"nowrap"}},i.map((e=>this.renderAcquirer(e)))))},this.renderSourcesList=(e,t)=>{let{showNativePhotoCameraButton:i,showNativeVideoCameraButton:r}=this.props;return st("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!t&&this.renderMyDeviceAcquirer(),!t&&i&&this.renderPhotoCamera(),!t&&r&&this.renderVideoCamera(),e.length>0&&this.renderAcquirers(e))}}[ca](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){let{i18nArray:e}=this.props,t=st("span",null,st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},st("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),st("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy"));return st("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},e("poweredBy",{uppy:t}))}render(){let{showNativePhotoCameraButton:e,showNativeVideoCameraButton:t,nativeCameraFacingMode:i}=this.props;return st("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,(e=>{this.fileInput=e})),this.renderHiddenInput(!0,(e=>{this.folderInput=e})),e&&this.renderHiddenCameraInput("photo",i,(e=>{this.mobilePhotoFileInput=e})),t&&this.renderHiddenCameraInput("video",i,(e=>{this.mobileVideoFileInput=e})),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),st("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&st("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}};o(ua,"AddFiles");var pa=ua,fa=h(m(),1),ma=o((e=>st("div",{className:(0,fa.default)("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":e.showAddFilesPanel},st("div",{className:"uppy-DashboardContent-bar"},st("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18n("addingMoreFiles")),st("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1)},e.i18n("back"))),st(pa,e))),"AddFilesPanel"),ga=ma,ya=h(m(),1);function va(e){let{tagName:t}=e.target;"INPUT"!==t&&"TEXTAREA"!==t?(e.preventDefault(),e.stopPropagation()):e.stopPropagation()}o(va,"ignoreEvent");var ba=va;function wa(e){let{activePickerPanel:t,className:i,hideAllPanels:r,i18n:s,state:n,uppy:o}=e;return st("div",{className:(0,ya.default)("uppy-DashboardContent-panel",i),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${t.id}`,onDragOver:ba,onDragLeave:ba,onDrop:ba,onPaste:ba},st("div",{className:"uppy-DashboardContent-bar"},st("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},s("importFrom",{name:t.name})),st("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r},s("cancel"))),st("div",{className:"uppy-DashboardContent-panelBody"},o.getPlugin(t.id).render(n)))}o(wa,"PickerPanelContent");var _a=wa,ka=h(m(),1);function Sa(e){let t=e.files[e.fileCardFor];return st("div",{className:(0,ka.default)("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},st("div",{className:"uppy-DashboardContent-bar"},st("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},e.i18nArray("editing",{file:st("span",{className:"uppy-DashboardContent-titleFile"},t.meta?t.meta.name:t.name)})),st("button",{className:"uppy-DashboardContent-back",type:"button",onClick:e.hideAllPanels},e.i18n("cancel")),st("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor},e.i18n("save"))),st("div",{className:"uppy-DashboardContent-panelBody"},e.editors.map((t=>e.uppy.getPlugin(t.id).render(e.state)))))}o(Sa,"EditorPanel");var xa=Sa,Ta={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function ja(e,t,i,r){if(void 0===r&&(r={}),e)return Ta.STATE_ERROR;if(t)return Ta.STATE_COMPLETE;if(i)return Ta.STATE_PAUSED;let s=Ta.STATE_WAITING,n=Object.keys(r);for(let e=0;e<n.length;e++){let{progress:t}=r[n[e]];if(t.uploadStarted&&!t.uploadComplete)return Ta.STATE_UPLOADING;t.preprocess&&s!==Ta.STATE_UPLOADING&&(s=Ta.STATE_PREPROCESSING),t.postprocess&&s!==Ta.STATE_UPLOADING&&s!==Ta.STATE_PREPROCESSING&&(s=Ta.STATE_POSTPROCESSING)}return s}function Ca(e){let{files:t,i18n:i,isAllComplete:r,isAllErrored:s,isAllPaused:n,inProgressNotPausedFiles:o,newFiles:a,processingFiles:l}=e;switch(ja(s,r,n,t)){case"uploading":return i("uploadingXFiles",{smart_count:o.length});case"preprocessing":case"postprocessing":return i("processingXFiles",{smart_count:l.length});case"paused":return i("uploadPaused");case"waiting":return i("xFilesSelected",{smart_count:a.length});case"complete":return i("uploadComplete")}}function Ea(e){let{i18n:t,isAllComplete:i,hideCancelButton:r,maxNumberOfFiles:s,toggleAddFilesPanel:n,uppy:o}=e,{allowNewUpload:a}=e;return a&&s&&(a=e.totalFileCount<e.maxNumberOfFiles),st("div",{className:"uppy-DashboardContent-bar"},i||r?st("div",null):st("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>o.cancelAll()},t("cancel")),st("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},st(Ca,e)),a?st("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>n(!0)},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},st("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),st("span",{className:"uppy-DashboardContent-addMoreCaption"},t("addMore"))):st("div",null))}o(ja,"getUploadingState"),o(Ca,"UploadStatus"),o(Ea,"PanelTopBar");var Oa=Ea,Pa=h(m(),1),Fa=class extends lt{constructor(e){super(e),this.form=document.createElement("form"),this.updateMeta=(e,t)=>{this.setState((i=>{let{formState:r}=i;return{formState:{...r,[t]:e}}}))},this.handleSave=e=>{e.preventDefault();let t=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,t)},this.handleCancel=()=>{let e=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",e),this.props.toggleFileCard(!1)},this.saveOnEnter=e=>{if(13===e.keyCode){e.stopPropagation(),e.preventDefault();let t=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,t.id)}},this.renderMetaFields=()=>{let e=this.getMetaFields()||[],t={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return e.map((e=>{let i=`uppy-Dashboard-FileCard-input-${e.id}`,r=this.props.requiredMetaFields.includes(e.id);return st("fieldset",{key:e.id,className:"uppy-Dashboard-FileCard-fieldset"},st("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:i},e.name),void 0!==e.render?e.render({value:this.state.formState[e.id],onChange:t=>this.updateMeta(t,e.id),fieldCSSClasses:t,required:r,form:this.form.id},st):st("input",{className:t.text,id:i,form:this.form.id,type:e.type||"text",required:r,value:this.state.formState[e.id],placeholder:e.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:t=>this.updateMeta(t.target.value,e.id),"data-uppy-super-focusable":!0}))}))};let t=this.props.files[this.props.fileCardFor],i=this.getMetaFields()||[],r={};i.forEach((e=>{r[e.id]=t.meta[e.id]||""})),this.state={formState:r},this.form.id=I()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return"function"==typeof this.props.metaFields?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){let e=this.props.files[this.props.fileCardFor],t=this.props.canEditFile(e);return st("div",{className:(0,Pa.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:ba,onDragLeave:ba,onDrop:ba,onPaste:ba},st("div",{className:"uppy-DashboardContent-bar"},st("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:st("span",{className:"uppy-DashboardContent-titleFile"},e.meta?e.meta.name:e.name)})),st("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),st("div",{className:"uppy-Dashboard-FileCard-inner"},st("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Po(e.type).color}},st(Fo,{file:e}),t&&st("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:t=>{this.handleSave(t),this.props.openFileEditor(e)},form:this.form.id},this.props.i18n("editFile"))),st("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),st("div",{className:"uppy-Dashboard-FileCard-actions"},st("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),st("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}};o(Fa,"FileCard");var Ma=Fa,Da=h(m(),1),Aa="uppy-transition-slideDownUp",Ra=class extends lt{constructor(e){super(e),this.state={cachedChildren:null,className:""}}componentWillUpdate(e){let{cachedChildren:t}=this.state,i=mt(e.children)[0];if(t===i)return null;let r={cachedChildren:i};i&&!t&&(r.className=`${Aa}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame((()=>{this.setState({className:`${Aa}-enter ${Aa}-enter-active`}),this.enterTimeout=setTimeout((()=>{this.setState({className:""})}),250)}))),t&&!i&&void 0===this.leaveTimeout&&(r.cachedChildren=t,r.className=`${Aa}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame((()=>{this.setState({className:`${Aa}-leave ${Aa}-leave-active`}),this.leaveTimeout=setTimeout((()=>{this.setState({cachedChildren:null,className:""})}),250)}))),this.setState(r)}render(){let{cachedChildren:e,className:t}=this.state;return e?Ot(e,{className:(0,Da.default)(t,e.props.className)}):null}};o(Ra,"Slide");var La=Ra;function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ia.apply(this,arguments)}o(Ia,"_extends");function Na(e){let t=0===e.totalFileCount,i=1===e.totalFileCount,r=e.containerWidth>576,s=(0,bo.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>576,"uppy-size--lg":e.containerWidth>700,"uppy-size--xl":e.containerWidth>900,"uppy-size--height-md":e.containerHeight>400,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":i}),n=1;e.containerWidth>900?n=5:e.containerWidth>700?n=4:e.containerWidth>576&&(n=3);let a=e.showSelectedFiles&&!t,l=e.recoveredState?Object.keys(e.recoveredState.files).length:null,h=e.files?Object.keys(e.files).filter((t=>e.files[t].isGhost)).length:null,c=o((()=>h>0?e.i18n("recoveredXFiles",{smart_count:h}):e.i18n("recoveredAllFiles")),"renderRestoredText");return st("div",{className:s,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&wo(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop},st("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),st("div",{className:"uppy-Dashboard-inner","aria-modal":!e.inline&&"true",role:!e.inline&&"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""}},e.inline?null:st("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal},st("span",{"aria-hidden":"true"},"×")),st("div",{className:"uppy-Dashboard-innerWrap"},st("div",{className:"uppy-Dashboard-dropFilesHereHint"},e.i18n("dropHint")),a&&st(Oa,e),l&&st("div",{className:"uppy-Dashboard-serviceMsg"},st("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},st("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},st("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),st("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),st("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),st("strong",{className:"uppy-Dashboard-serviceMsg-title"},e.i18n("sessionRestored")),st("div",{className:"uppy-Dashboard-serviceMsg-text"},c())),a?st(da,Ia({},e,{singleFile:i,itemsPerRow:n})):st(pa,Ia({},e,{isSizeMD:r})),st(La,null,e.showAddFilesPanel?st(ga,Ia({key:"AddFiles"},e,{isSizeMD:r})):null),st(La,null,e.fileCardFor?st(Ma,Ia({key:"FileCard"},e)):null),st(La,null,e.activePickerPanel?st(_a,Ia({key:"Picker"},e)):null),st(La,null,e.showFileEditor?st(xa,Ia({key:"Editor"},e)):null),st("div",{className:"uppy-Dashboard-progressindicators"},e.progressindicators.map((t=>e.uppy.getPlugin(t.id).render(e.state)))))))}o(Na,"Dashboard");var Ba={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function za(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(za,"_classPrivateFieldLooseBase");var Ua=0;function Ha(e){return"__private_"+Ua+++"_"+e}o(Ha,"_classPrivateFieldLooseKey");var Wa=lo.default||lo;function Va(){let e={};return e.promise=new Promise(((t,i)=>{e.resolve=t,e.reject=i})),e}function qa(){return st("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},st("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}o(Va,"createPromise"),o(qa,"defaultPickerIcon");var Ga=Ha("generateLargeThumbnailIfSingleFile"),Ya=Ha("openFileEditorWhenFilesAdded"),$a=Ha("attachRenderFunctionToTarget"),Ka=Ha("isTargetSupported"),Xa=Ha("getAcquirers"),Za=Ha("getProgressIndicators"),Ja=Ha("getEditors"),Qa=class extends Ut{constructor(e,t){var i;super(e,t),i=this,this.removeTarget=e=>{let t=this.getPluginState().targets.filter((t=>t.id!==e.id));this.setPluginState({targets:t})},this.addTarget=e=>{let t=e.id||e.constructor.name,i=e.title||t,r=e.type;if("acquirer"!==r&&"progressindicator"!==r&&"editor"!==r){let e="Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor";return void this.uppy.log(e,"error")}let s={id:t,name:i,type:r},n=this.getPluginState().targets.slice();return n.push(s),this.setPluginState({targets:n}),this.el},this.hideAllPanels=()=>{let e=this.getPluginState(),t={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};e.activePickerPanel===t.activePickerPanel&&e.showAddFilesPanel===t.showAddFilesPanel&&e.showFileEditor===t.showFileEditor&&e.activeOverlayType===t.activeOverlayType||this.setPluginState(t)},this.showPanel=e=>{let{targets:t}=this.getPluginState(),i=t.filter((t=>"acquirer"===t.type&&t.id===e))[0];this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",e)},this.canEditFile=e=>{let{targets:t}=this.getPluginState();return za(this,Ja)[Ja](t).some((t=>this.uppy.getPlugin(t.id).canEditFile(e)))},this.openFileEditor=e=>{let{targets:t}=this.getPluginState(),i=za(this,Ja)[Ja](t);this.setPluginState({showFileEditor:!0,fileCardFor:e.id||null,activeOverlayType:"FileEditor"}),i.forEach((t=>{this.uppy.getPlugin(t.id).selectFile(e)}))},this.saveFileEditor=()=>{let{targets:e}=this.getPluginState();za(this,Ja)[Ja](e).forEach((e=>{this.uppy.getPlugin(e.id).save()})),this.hideAllPanels()},this.openModal=()=>{let{promise:e,resolve:t}=Va();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){let e=o((()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",e,!1),t()}),"handler");this.el.addEventListener("animationend",e,!1)}else this.setPluginState({isHidden:!1}),t();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),e},this.closeModal=function(e){void 0===e&&(e={});let{manualClose:t=!0}=e,{isHidden:r,isClosing:s}=i.getPluginState();if(r||s)return;let{promise:n,resolve:a}=Va();if(i.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),i.opts.animateOpenClose){i.setPluginState({isClosing:!0});let e=o((()=>{i.setPluginState({isHidden:!0,isClosing:!1}),i.superFocus.cancel(),i.savedActiveElement.focus(),i.el.removeEventListener("animationend",e,!1),a()}),"handler");i.el.addEventListener("animationend",e,!1)}else i.setPluginState({isHidden:!0}),i.superFocus.cancel(),i.savedActiveElement.focus(),a();var l;(document.removeEventListener("keydown",i.handleKeyDownInModal),t&&i.opts.browserBackButtonClose)&&(null!=(l=history.state)&&l[i.modalName]&&history.back());return i.uppy.emit("dashboard:modal-closed"),n},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=e=>{let{capabilities:t}=this.uppy.getState();this.uppy.setState({capabilities:{...t,darkMode:e}})},this.handleSystemDarkModeChange=e=>{let t=e.matches;this.uppy.log("[Dashboard] Dark mode is "+(t?"on":"off")),this.setDarkModeCapability(t)},this.toggleFileCard=(e,t)=>{let i=this.uppy.getFile(t);e?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:e?t:null,activeOverlayType:e?"FileCard":null})},this.toggleAddFilesPanel=e=>{this.setPluginState({showAddFilesPanel:e,activeOverlayType:e?"AddFiles":null})},this.addFiles=e=>{let t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||e.webkitRelativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver((e=>{let t=e[0],{width:i,height:r}=t.contentRect;this.uppy.log(`[Dashboard] resized: ${i} / ${r}`,"debug"),this.setPluginState({containerWidth:i,containerHeight:r,areInsidesReadyToBeVisible:!0})})),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout((()=>{let e=this.getPluginState(),t=!this.opts.inline&&e.isHidden;!e.areInsidesReadyToBeVisible&&!t&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))}),1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=e=>{this.el.contains(e.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=e=>{let t=Jn(this.el.querySelectorAll(ho));e?t.forEach((e=>{let t=e.getAttribute("tabindex");t&&(e.dataset.inertTabindex=t),e.setAttribute("tabindex","-1")})):t.forEach((e=>{"inertTabindex"in e.dataset?e.setAttribute("tabindex",e.dataset.inertTabindex):e.removeAttribute("tabindex")})),this.dashboardIsDisabled=e},this.updateBrowserHistory=()=>{var e;null!=(e=history.state)&&e[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=e=>{var t;this.isModalOpen()&&(!e.state||!e.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&null!=(t=e.state)&&t[this.modalName]&&history.back()},this.handleKeyDownInModal=e=>{27===e.keyCode&&this.requestCloseModal(e),9===e.keyCode&&mo(e,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=e=>{this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootPaste||t.handleRootPaste(e))}));let t=Jn(e.clipboardData.files);t.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(t))},this.handleInputChange=e=>{e.preventDefault();let t=Jn(e.target.files);t.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(t))},this.handleDragOver=e=>{var t,i;e.preventDefault(),e.stopPropagation();let r=o((()=>{let t=!0;return this.uppy.iteratePlugins((i=>{null!=i.canHandleRootDrop&&i.canHandleRootDrop(e)&&(t=!0)})),t}),"canSomePluginHandleRootDrop"),s=o((()=>{let{types:t}=e.dataTransfer;return t.some((e=>"Files"===e))}),"doesEventHaveFiles"),n=r(e),a=s(e);if(!n&&!a||this.opts.disabled||this.opts.disableLocalFiles&&(a||!n)||!this.uppy.getState().allowNewUpload)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(i=this.opts).onDragOver)||t.call(i,e)},this.handleDragLeave=e=>{var t,i;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{this.setPluginState({isDraggingOver:!1})}),50),null==(t=(i=this.opts).onDragLeave)||t.call(i,e)},this.handleDrop=async e=>{var t,i;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootDrop||t.handleRootDrop(e))}));let r=!1,s=o((e=>{this.uppy.log(e,"error"),r||(this.uppy.info(e.message,"error"),r=!0)}),"logDropError"),n=await so(e.dataTransfer,{logDropError:s});n.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(n)),null==(t=(i=this.opts).onDrop)||t.call(i,e)},this.handleRequestThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",e)},this.handleCancelThumbnail=e=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",e)},this.handleKeyDownInInline=e=>{9===e.keyCode&&go(e,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=e=>{this.el.contains(document.activeElement)&&this.handlePaste(e)},this.handleComplete=e=>{let{failed:t}=e;this.opts.closeAfterFinish&&0===t.length&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,Ga,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;let e=this.uppy.getFiles();if(1===e.length){let t=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);t?.setOptions({thumbnailWidth:600});let i={...e[0],preview:void 0};t.requestThumbnail(i).then((()=>{t?.setOptions({thumbnailWidth:this.opts.thumbnailWidth})}))}}}),Object.defineProperty(this,Ya,{writable:!0,value:e=>{let t=e[0];this.canEditFile(t)&&this.openFileEditor(t)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){let e=Zn(this.opts.trigger);e?e.forEach((e=>e.addEventListener("click",this.openModal))):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",za(this,Ga)[Ga]),this.uppy.on("file-removed",za(this,Ga)[Ga]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",za(this,Ya)[Ya])},this.removeEvents=()=>{let e=Zn(this.opts.trigger);!this.opts.inline&&e&&e.forEach((e=>e.removeEventListener("click",this.openModal))),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",za(this,Ga)[Ga]),this.uppy.off("file-removed",za(this,Ga)[Ga]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",za(this,Ya)[Ya])},this.superFocusOnEachUpdate=()=>{let e=this.el.contains(document.activeElement),t=document.activeElement===document.body||null===document.activeElement,i=0===this.uppy.getState().info.length,r=!this.opts.inline;i&&(r||e||t&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{!this.opts.disabled||this.dashboardIsDisabled?(!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()):this.disableAllFocusableElements(!0)},this.saveFileCard=(e,t)=>{this.uppy.setFileMeta(t,e),this.toggleFileCard(!1,t)},Object.defineProperty(this,$a,{writable:!0,value:e=>{let t=this.uppy.getPlugin(e.id);return{...e,icon:t.icon||this.opts.defaultPickerIcon,render:t.render}}}),Object.defineProperty(this,Ka,{writable:!0,value:e=>{let t=this.uppy.getPlugin(e.id);return"function"!=typeof t.isSupported||t.isSupported()}}),Object.defineProperty(this,Xa,{writable:!0,value:Wa((e=>e.filter((e=>"acquirer"===e.type&&za(this,Ka)[Ka](e))).map(za(this,$a)[$a])))}),Object.defineProperty(this,Za,{writable:!0,value:Wa((e=>e.filter((e=>"progressindicator"===e.type)).map(za(this,$a)[$a])))}),Object.defineProperty(this,Ja,{writable:!0,value:Wa((e=>e.filter((e=>"editor"===e.type)).map(za(this,$a)[$a])))}),this.render=e=>{let t,i=this.getPluginState(),{files:r,capabilities:s,allowNewUpload:n}=e,{newFiles:o,uploadStartedFiles:a,completeFiles:l,erroredFiles:h,inProgressFiles:c,inProgressNotPausedFiles:d,processingFiles:u,isUploadStarted:p,isAllComplete:f,isAllErrored:m,isAllPaused:g}=this.uppy.getObjectOfFilesPerState(),y=za(this,Xa)[Xa](i.targets),v=za(this,Za)[Za](i.targets),b=za(this,Ja)[Ja](i.targets);return t="auto"===this.opts.theme?s.darkMode?"dark":"light":this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),Na({state:e,isHidden:i.isHidden,files:r,newFiles:o,uploadStartedFiles:a,completeFiles:l,erroredFiles:h,inProgressFiles:c,inProgressNotPausedFiles:d,processingFiles:u,isUploadStarted:p,isAllComplete:f,isAllErrored:m,isAllPaused:g,totalFileCount:Object.keys(r).length,totalProgress:e.totalProgress,allowNewUpload:n,acquirers:y,theme:t,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:i.activePickerPanel,showFileEditor:i.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:i.isClosing,progressindicators:v,editors:b,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:e.recoveredState,metaFields:i.metaFields,resumableUploads:s.resumableUploads||!1,individualCancellation:s.individualCancellation,isMobileDevice:s.isMobileDevice,fileCardFor:i.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:i.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:i.containerWidth,containerHeight:i.containerHeight,areInsidesReadyToBeVisible:i.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:i.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins((e=>{e&&!e.target&&e.opts&&e.opts.target===this.constructor&&this.addTarget(e)}))},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});let{inline:e,closeAfterFinish:t}=this.opts;if(e&&t)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");let{allowMultipleUploads:i,allowMultipleUploadBatches:r}=this.uppy.opts;(i||r)&&t&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");let{target:s}=this.opts;s&&this.mount(s,this),(this.opts.plugins||[]).forEach((e=>{let t=this.uppy.getPlugin(e);t&&t.mount(this,t)})),this.opts.disableStatusBar||this.uppy.use(ms,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Ts,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(Xn,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;let n=!!this.darkModeMediaQuery&&this.darkModeMediaQuery.matches;this.uppy.log("[Dashboard] Dark mode is "+(n?"on":"off")),this.setDarkModeCapability(n),"auto"===this.opts.theme&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){let e=this.uppy.getPlugin(`${this.id}:Informer`);e&&this.uppy.removePlugin(e)}if(!this.opts.disableStatusBar){let e=this.uppy.getPlugin(`${this.id}:StatusBar`);e&&this.uppy.removePlugin(e)}if(!this.opts.disableThumbnailGenerator){let e=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);e&&this.uppy.removePlugin(e)}(this.opts.plugins||[]).forEach((e=>{let t=this.uppy.getPlugin(e);t&&t.unmount()})),"auto"===this.opts.theme&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${I()}`,this.defaultLocale=Ba;let r={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:qa,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.cancelAll(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...r,...t},this.i18nInit(),this.superFocus=vo(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}};o(Qa,"Dashboard"),Qa.VERSION="3.2.0";var el={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},tl=class extends Ut{constructor(e,t){super(e,t),this.handleDrop=async e=>{var t,i;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});let r=o((e=>{this.uppy.log(e,"error")}),"logDropError"),s=await so(e.dataTransfer,{logDropError:r});s.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(s)),null==(t=(i=this.opts).onDrop)||t.call(i,e)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=el;this.opts={target:null,inputName:"files[]",width:"100%",height:"100%",note:null,...t},this.i18nInit(),this.isDragDropSupported=wo(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(e){let t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}}onInputChange(e){let t=Jn(e.target.files);t.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(t)),e.target.value=null}handleDragOver(e){var t,i;e.preventDefault(),e.stopPropagation();let{types:r}=e.dataTransfer,s=r.some((e=>"Files"===e)),{allowNewUpload:n}=this.uppy.getState();if(!s||!n)return e.dataTransfer.dropEffect="none",void clearTimeout(this.removeDragOverClassTimeout);e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),null==(t=(i=this.opts).onDragOver)||t.call(i,e)}handleDragLeave(e){var t,i;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{this.setPluginState({isDraggingOver:!1})}),50),null==(t=(i=this.opts).onDragLeave)||t.call(i,e)}renderHiddenFileInput(){let{restrictions:e}=this.uppy.opts;return st("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:e=>{this.fileInputRef=e},name:this.opts.inputName,multiple:1!==e.maxNumberOfFiles,accept:e.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},st("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return st("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:st("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return st("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){return st("button",{type:"button",className:`uppy-u-reset\n      uppy-DragDrop-container\n      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}\n      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}\n    `,style:{width:this.opts.width,height:this.opts.height},onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),st("div",{className:"uppy-DragDrop-inner"},tl.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){let{target:e}=this.opts;this.setPluginState({isDraggingOver:!1}),e&&this.mount(e,this)}uninstall(){this.unmount()}};o(tl,"DragDrop"),tl.VERSION="3.0.1";function il(e){var t,i;return null!=(t=null==(i=e.dataTransfer.types)?void 0:i.some((e=>"Files"===e)))&&t}o(il,"isFileTransfer");var rl=class extends At{constructor(e,t){super(e,t),this.addFiles=e=>{let t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e,meta:{relativePath:e.relativePath||null}})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}},this.handleDrop=async e=>{var t,i;if(!il(e))return;e.preventDefault(),e.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),e.currentTarget.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins((t=>{"acquirer"===t.type&&(null==t.handleRootDrop||t.handleRootDrop(e))}));let r=!1,s=o((e=>{this.uppy.log(e,"error"),r||(this.uppy.info(e.message,"error"),r=!0)}),"logDropError"),n=await so(e.dataTransfer,{logDropError:s});n.length>0&&(this.uppy.log("[DropTarget] Files were dropped"),this.addFiles(n)),null==(t=(i=this.opts).onDrop)||t.call(i,e)},this.handleDragOver=e=>{var t,i;!il(e)||(e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),e.currentTarget.classList.add("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!0}),null==(t=(i=this.opts).onDragOver)||t.call(i,e))},this.handleDragLeave=e=>{var t,i;if(!il(e))return;e.preventDefault(),e.stopPropagation();let{currentTarget:r}=e;clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout((()=>{r.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1})}),50),null==(t=(i=this.opts).onDragLeave)||t.call(i,e)},this.addListeners=()=>{let{target:e}=this.opts;if(e instanceof Element?this.nodes=[e]:"string"==typeof e&&(this.nodes=Jn(document.querySelectorAll(e))),!this.nodes&&!this.nodes.length>0)throw new Error(`"${e}" does not match any HTML elements`);this.nodes.forEach((e=>{e.addEventListener("dragover",this.handleDragOver,!1),e.addEventListener("dragleave",this.handleDragLeave,!1),e.addEventListener("drop",this.handleDrop,!1)}))},this.removeListeners=()=>{this.nodes&&this.nodes.forEach((e=>{e.removeEventListener("dragover",this.handleDragOver,!1),e.removeEventListener("dragleave",this.handleDragLeave,!1),e.removeEventListener("drop",this.handleDrop,!1)}))},this.type="acquirer",this.id=this.opts.id||"DropTarget",this.title="Drop Target";this.opts={target:null,...t},this.removeDragOverClassTimeout=null}install(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}uninstall(){this.removeListeners()}};o(rl,"DropTarget"),rl.VERSION="2.0.1";var sl={strings:{chooseFiles:"Choose files"}},nl=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=sl;this.opts={target:null,pretty:!0,inputName:"files[]",...t},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(e){let t=e.map((e=>({source:this.id,name:e.name,type:e.type,data:e})));try{this.uppy.addFiles(t)}catch(e){this.uppy.log(e)}}handleInputChange(e){this.uppy.log("[FileInput] Something selected through input...");let t=Jn(e.target.files);this.addFiles(t),e.target.value=null}handleClick(){this.input.click()}render(){let{restrictions:e}=this.uppy.opts,t=e.allowedFileTypes?e.allowedFileTypes.join(","):null;return st("div",{className:"uppy-FileInput-container"},st("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&{width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:1!==e.maxNumberOfFiles,accept:t,ref:e=>{this.input=e}}),this.opts.pretty&&st("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}};o(nl,"FileInput"),nl.VERSION="3.0.1";var ol=h(b(),1),al=class extends lt{constructor(e){super(e),this.granularRotateOnChange=e=>{let{rotationAngle:t,rotationDelta:i}=this.state,r=Number(e.target.value)-i;if(cancelAnimationFrame(this.granularRotateOnInputNextFrame),0!==r){let e=t+r;this.granularRotateOnInputNextFrame=requestAnimationFrame((()=>{this.cropper.rotateTo(e)}))}},this.state={rotationAngle:0,rotationDelta:0}}componentDidMount(){let{opts:e,storeCropperInstance:t}=this.props;this.cropper=new ol.default(this.imgElement,e.cropperOptions),t(this.cropper),e.actions.granularRotate&&this.imgElement.addEventListener("crop",(e=>{let t=e.detail.rotate;this.setState({rotationAngle:t,rotationDelta:(t+405)%90-45})}))}componentWillUnmount(){this.cropper.destroy()}renderGranularRotate(){let{i18n:e}=this.props,{rotationDelta:t,rotationAngle:i}=this.state;return st("label",{"data-microtip-position":"top",role:"tooltip","aria-label":`${i}º`,className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},st("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:t,min:"-45",max:"44","aria-label":e("rotate")}))}renderRevert(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("revert"),"data-microtip-position":"top",onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(0)}},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0z",fill:"none"}),st("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}renderRotate(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.rotate(-90),"aria-label":e("rotate"),"data-microtip-position":"top"},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),st("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}renderFlip(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("flipHorizontal"),"data-microtip-position":"top",onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0z",fill:"none"}),st("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}renderZoomIn(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("zoomIn"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(.1)},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},st("path",{d:"M0 0h24v24H0V0z",fill:"none"}),st("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),st("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}renderZoomOut(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("zoomOut"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(-.1)},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0V0z",fill:"none"}),st("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}renderCropSquare(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioSquare"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(1)},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0z",fill:"none"}),st("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}renderCropWidescreen(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioLandscape"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(16/9)},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),st("path",{fill:"none",d:"M0 0h24v24H0z"})))}renderCropWidescreenVertical(){let{i18n:e}=this.props;return st("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":e("aspectRatioPortrait"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(9/16)},st("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),st("path",{d:"M0 0h24v24H0z",fill:"none"})))}render(){let{currentImage:e,opts:t}=this.props,{actions:i}=t,r=URL.createObjectURL(e.data);return st("div",{className:"uppy-ImageCropper"},st("div",{className:"uppy-ImageCropper-container"},st("img",{className:"uppy-ImageCropper-image",alt:e.name,src:r,ref:e=>{this.imgElement=e}})),st("div",{className:"uppy-ImageCropper-controls"},i.revert&&this.renderRevert(),i.rotate&&this.renderRotate(),i.granularRotate&&this.renderGranularRotate(),i.flip&&this.renderFlip(),i.zoomIn&&this.renderZoomIn(),i.zoomOut&&this.renderZoomOut(),i.cropSquare&&this.renderCropSquare(),i.cropWidescreen&&this.renderCropWidescreen(),i.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}};o(al,"Editor");var ll={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}},hl=class extends Ut{constructor(e,t){super(e,t),this.save=()=>{let e=o((e=>{let{currentImage:t}=this.getPluginState();this.uppy.setFileState(t.id,{data:e,size:e.size,preview:null});let i=this.uppy.getFile(t.id);this.uppy.emit("thumbnail:request",i),this.setPluginState({currentImage:i}),this.uppy.emit("file-editor:complete",i)}),"saveBlobCallback"),{currentImage:t}=this.getPluginState();this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(e,t.type,this.opts.quality)},this.storeCropperInstance=e=>{this.cropper=e},this.selectFile=e=>{this.uppy.emit("file-editor:start",e),this.setPluginState({currentImage:e})},this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=ll;this.opts={quality:.8,...t,actions:{revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0,...t.actions},cropperOptions:{viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{},...t.cropperOptions}},this.i18nInit()}canEditFile(e){if(!e.type||e.isRemote)return!1;let t=e.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(t)}install(){this.setPluginState({currentImage:null});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){let{currentImage:e}=this.getPluginState();if(e){let t=this.uppy.getFile(e.id);this.uppy.emit("file-editor:cancel",t)}this.unmount()}render(){let{currentImage:e}=this.getPluginState();return null===e||e.isRemote?null:st(al,{currentImage:e,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}};o(hl,"ImageEditor"),hl.VERSION="2.1.0";var cl=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";this.opts={target:"body",fixed:!1,hideAfterFinish:!0,...t},this.render=this.render.bind(this)}render(e){let t=e.totalProgress||0,i=(0===t||100===t)&&this.opts.hideAfterFinish;return st("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":i},st("div",{className:"uppy-ProgressBar-inner",style:{width:`${t}%`}}),st("div",{className:"uppy-ProgressBar-percentage"},t))}install(){let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}};o(cl,"ProgressBar"),cl.VERSION="3.0.1";var dl={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function ul(e){return[e]=e.split(";",1),dl[e]||null}function pl(){var e;return"function"==typeof MediaRecorder&&"function"==typeof(null==(e=MediaRecorder.prototype)?void 0:e.start)}o(ul,"getFileTypeExtension"),o(pl,"supportsMediaRecorder");var fl,ml,gl,yl,vl=0,bl=[],wl=[],_l=$e.__b,kl=$e.__r,Sl=$e.diffed,xl=$e.__c,Tl=$e.unmount;function jl(e,t){$e.__h&&$e.__h(ml,e,vl||t),vl=0;var i=ml.__H||(ml.__H={__:[],__h:[]});return e>=i.__.length&&i.__.push({__V:wl}),i.__[e]}function Cl(e,t){var i=jl(fl++,3);!$e.__s&&Al(i.__H,t)&&(i.__=e,i.u=t,ml.__H.__h.push(i))}function El(e){return vl=5,Ol((function(){return{current:e}}),[])}function Ol(e,t){var i=jl(fl++,7);return Al(i.__H,t)?(i.__V=e(),i.u=t,i.__h=e,i.__V):i.__}function Pl(){for(var e;e=bl.shift();)if(e.__P)try{e.__H.__h.forEach(Ml),e.__H.__h.forEach(Dl),e.__H.__h=[]}catch(t){e.__H.__h=[],$e.__e(t,e.__v)}}o(jl,"p"),o(Cl,"_"),o(El,"s"),o(Ol,"F"),o(Pl,"b"),$e.__b=function(e){ml=null,_l&&_l(e)},$e.__r=function(e){kl&&kl(e),fl=0;var t=(ml=e.__c).__H;t&&(gl===ml?(t.__h=[],ml.__h=[],t.__.forEach((function(e){e.__V=wl,e.u=void 0}))):(t.__h.forEach(Ml),t.__h.forEach(Dl),t.__h=[])),gl=ml},$e.diffed=function(e){Sl&&Sl(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==bl.push(t)&&yl===$e.requestAnimationFrame||((yl=$e.requestAnimationFrame)||function(e){var t,i=o((function(){clearTimeout(r),Fl&&cancelAnimationFrame(t),setTimeout(e)}),"u"),r=setTimeout(i,100);Fl&&(t=requestAnimationFrame(i))})(Pl)),t.__H.__.forEach((function(e){e.u&&(e.__H=e.u),e.__V!==wl&&(e.__=e.__V),e.u=void 0,e.__V=wl}))),gl=ml=null},$e.__c=function(e,t){t.some((function(e){try{e.__h.forEach(Ml),e.__h=e.__h.filter((function(e){return!e.__||Dl(e)}))}catch(i){t.some((function(e){e.__h&&(e.__h=[])})),t=[],$e.__e(i,e.__v)}})),xl&&xl(e,t)},$e.unmount=function(e){Tl&&Tl(e);var t,i=e.__c;i&&i.__H&&(i.__H.__.forEach((function(e){try{Ml(e)}catch(e){t=e}})),t&&$e.__e(t,i.__v))};var Fl="function"==typeof requestAnimationFrame;function Ml(e){var t=ml,i=e.__c;"function"==typeof i&&(e.__c=void 0,i()),ml=t}function Dl(e){var t=ml;e.__c=e.__(),ml=t}function Al(e,t){return!e||e.length!==t.length||t.some((function(t,i){return t!==e[i]}))}function Rl(e){let{recording:t,onStartRecording:i,onStopRecording:r,i18n:s}=e;return t?st("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:s("stopAudioRecording"),"aria-label":s("stopAudioRecording"),onClick:r,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},st("rect",{x:"15",y:"15",width:"70",height:"70"}))):st("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:s("startAudioRecording"),"aria-label":s("startAudioRecording"),onClick:i,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},st("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}function Ll(e){return`${Math.floor(e/60)}:${String(e%60).padStart(2,0)}`}function Il(e){let{recordingLengthSeconds:t,i18n:i}=e,r=Ll(t);return st("span",{"aria-label":i("recordingLength",{recording_length:r})},r)}o(Ml,"j"),o(Dl,"k"),o(Al,"w"),o(Rl,"RecordButton"),o(Ll,"formatSeconds"),o(Il,"RecordingLength");var Nl=o((e=>{let{currentDeviceId:t,audioSources:i,onChangeSource:r}=e;return st("div",{className:"uppy-Audio-videoSource"},st("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:e=>{r(e.target.value)}},i.map((e=>st("option",{key:e.deviceId,value:e.deviceId,selected:e.deviceId===t},e.label)))))}),"default");function Bl(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Bl,"_classPrivateFieldLooseBase");var zl=0;function Ul(e){return"__private_"+zl+++"_"+e}function Hl(e){return"function"==typeof e}function Wl(e){return Hl(e)?e():e}o(Ul,"_classPrivateFieldLooseKey"),o(Hl,"isFunction"),o(Wl,"result");var Vl=Ul("draw"),ql=class{constructor(e,t){void 0===t&&(t={}),Object.defineProperty(this,Vl,{writable:!0,value:()=>this.draw()});let i=t.canvas||{},r=t.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=e,this.width=Wl(i.width)||this.canvas.width,this.height=Wl(i.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=Wl(r.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=Wl(r.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=Wl(r.lineWidth)||1,this.onDrawFrame=Hl(t.onDrawFrame)?t.onDrawFrame:()=>{}}addSource(e){this.streamSource=e,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}draw(){let{analyser:e,dataArray:t,bufferLength:i}=this,r=this.canvasContext,s=this.width,n=this.height;e&&e.getByteTimeDomainData(t),r.fillRect(0,0,s,n),r.beginPath();let o=1*s/i,a=0;i||r.moveTo(0,this.height/2);for(let e=0;e<i;e++){let i=t[e]/128*(n/2);0===e?r.moveTo(a,i):r.lineTo(a,i),a+=o}r.lineTo(s,n/2),r.stroke(),this.onDrawFrame(this),requestAnimationFrame(Bl(this,Vl)[Vl])}};function Gl(e){let{onSubmit:t,i18n:i}=e;return st("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:i("submitRecordedFile"),"aria-label":i("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},st("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},st("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}o(ql,"AudioOscilloscope"),o(Gl,"SubmitButton");var Yl=Gl;function $l(e){let{onDiscard:t,i18n:i}=e;return st("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:i("discardRecordedFile"),"aria-label":i("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},st("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},st("g",{fill:"#FFF",fillRule:"evenodd"},st("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),st("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}o($l,"DiscardButton");var Kl=$l;function Xl(e){let{stream:t,recordedAudio:i,onStop:r,recording:s,supportsRecording:n,audioSources:o,showAudioSourceDropdown:a,onSubmit:l,i18n:h,onStartRecording:c,onStopRecording:d,onDiscardRecordedAudio:u,recordingLengthSeconds:p}=e,f=El(null),m=El(null);Cl((()=>()=>{m.current=null,r()}),[r]),Cl((()=>{if(!i&&(m.current=new ql(f.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),m.current.draw(),t)){let e=(new AudioContext).createMediaStreamSource(t);m.current.addSource(e)}}),[i,t]);let g=null!=i,y=!g&&n,v=a&&!g&&o&&o.length>1;return st("div",{className:"uppy-Audio-container"},st("div",{className:"uppy-Audio-audioContainer"},g?st("audio",{className:"uppy-Audio-player",controls:!0,src:i}):st("canvas",{ref:f,className:"uppy-Audio-canvas"})),st("div",{className:"uppy-Audio-footer"},st("div",{className:"uppy-Audio-audioSourceContainer"},v?Nl(e):null),st("div",{className:"uppy-Audio-buttonContainer"},y&&st(Rl,{recording:s,onStartRecording:c,onStopRecording:d,i18n:h}),g&&st(Yl,{onSubmit:l,i18n:h}),g&&st(Kl,{onDiscard:u,i18n:h})),st("div",{className:"uppy-Audio-recordingLength"},!g&&st(Il,{recordingLengthSeconds:p,i18n:h}))))}o(Xl,"RecordingScreen");var Zl=o((e=>{let{icon:t,hasAudio:i,i18n:r}=e;return st("div",{className:"uppy-Audio-permissons"},st("div",{className:"uppy-Audio-permissonsIcon"},t()),st("h1",{className:"uppy-Audio-title"},r(i?"allowAudioAccessTitle":"noAudioTitle")),st("p",null,r(i?"allowAudioAccessDescription":"noAudioDescription")))}),"default"),Jl={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Ql.apply(this,arguments)}function eh(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Ql,"_extends"),o(eh,"_classPrivateFieldLooseBase");var th=0;function ih(e){return"__private_"+th+++"_"+e}o(ih,"_classPrivateFieldLooseKey");var rh=ih("stream"),sh=ih("audioActive"),nh=ih("recordingChunks"),oh=ih("recorder"),ah=ih("capturedMediaFile"),lh=ih("mediaDevices"),hh=ih("supportsUserMedia"),ch=ih("hasAudioCheck"),dh=ih("start"),uh=ih("startRecording"),ph=ih("stopRecording"),fh=ih("discardRecordedAudio"),mh=ih("submit"),gh=ih("stop"),yh=ih("getAudio"),vh=ih("changeSource"),bh=ih("updateSources"),wh=class extends Ut{constructor(e,t){var i;super(e,t),i=this,Object.defineProperty(this,yh,{value:kh}),Object.defineProperty(this,ch,{value:_h}),Object.defineProperty(this,rh,{writable:!0,value:null}),Object.defineProperty(this,sh,{writable:!0,value:!1}),Object.defineProperty(this,nh,{writable:!0,value:null}),Object.defineProperty(this,oh,{writable:!0,value:null}),Object.defineProperty(this,ah,{writable:!0,value:null}),Object.defineProperty(this,lh,{writable:!0,value:null}),Object.defineProperty(this,hh,{writable:!0,value:null}),Object.defineProperty(this,dh,{writable:!0,value:function(e){if(void 0===e&&(e=null),!eh(i,hh)[hh])return Promise.reject(new Error("Microphone access not supported"));eh(i,sh)[sh]=!0,eh(i,ch)[ch]().then((t=>(i.setPluginState({hasAudio:t}),eh(i,lh)[lh].getUserMedia({audio:!0}).then((t=>{eh(i,rh)[rh]=t;let r=null,s=t.getAudioTracks();e&&e.deviceId?s.forEach((t=>{t.getSettings().deviceId===e.deviceId&&(r=t.getSettings().deviceId)})):r=s[0].getSettings().deviceId,eh(i,bh)[bh](),i.setPluginState({currentDeviceId:r,audioReady:!0})})).catch((e=>{i.setPluginState({audioReady:!1,cameraError:e}),i.uppy.info(e.message,"error")})))))}}),Object.defineProperty(this,uh,{writable:!0,value:()=>{eh(this,oh)[oh]=new MediaRecorder(eh(this,rh)[rh]),eh(this,nh)[nh]=[];let e=!1;eh(this,oh)[oh].addEventListener("dataavailable",(t=>{eh(this,nh)[nh].push(t.data);let{restrictions:i}=this.uppy.opts;if(eh(this,nh)[nh].length>1&&null!=i.maxFileSize&&!e){let t=eh(this,nh)[nh].reduce(((e,t)=>e+t.size),0),r=(t-eh(this,nh)[nh][0].size)/(eh(this,nh)[nh].length-1)*3;t>Math.max(0,i.maxFileSize-r)&&(e=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),eh(this,ph)[ph]())}})),eh(this,oh)[oh].start(500),this.recordingLengthTimer=setInterval((()=>{let e=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:e+1})}),1e3),this.setPluginState({isRecording:!0})}}),Object.defineProperty(this,ph,{writable:!0,value:()=>new Promise((e=>{eh(this,oh)[oh].addEventListener("stop",(()=>{e()})),eh(this,oh)[oh].stop(),clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0})})).then((()=>(this.setPluginState({isRecording:!1}),eh(this,yh)[yh]()))).then((e=>{try{eh(this,ah)[ah]=e,this.setPluginState({recordedAudio:URL.createObjectURL(e.data)})}catch(e){e.isRestriction||this.uppy.log(e)}})).then((()=>{eh(this,nh)[nh]=null,eh(this,oh)[oh]=null}),(e=>{throw eh(this,nh)[nh]=null,eh(this,oh)[oh]=null,e}))}),Object.defineProperty(this,fh,{writable:!0,value:()=>{this.setPluginState({recordedAudio:null}),eh(this,ah)[ah]=null}}),Object.defineProperty(this,mh,{writable:!0,value:()=>{try{eh(this,ah)[ah]&&this.uppy.addFile(eh(this,ah)[ah])}catch(e){e.isRestriction||this.uppy.log(e,"error")}}}),Object.defineProperty(this,gh,{writable:!0,value:async()=>{eh(this,rh)[rh]&&eh(this,rh)[rh].getAudioTracks().forEach((e=>e.stop())),eh(this,oh)[oh]&&await new Promise((e=>{eh(this,oh)[oh].addEventListener("stop",e,{once:!0}),eh(this,oh)[oh].stop(),clearInterval(this.recordingLengthTimer)})),eh(this,nh)[nh]=null,eh(this,oh)[oh]=null,eh(this,sh)[sh]=!1,eh(this,rh)[rh]=null,this.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0})}}),Object.defineProperty(this,vh,{writable:!0,value:e=>{eh(this,gh)[gh](),eh(this,dh)[dh]({deviceId:e})}}),Object.defineProperty(this,bh,{writable:!0,value:()=>{eh(this,lh)[lh].enumerateDevices().then((e=>{this.setPluginState({audioSources:e.filter((e=>"audioinput"===e.kind))})}))}}),eh(this,lh)[lh]=navigator.mediaDevices,eh(this,hh)[hh]=null!=eh(this,lh)[lh],this.id=this.opts.id||"Audio",this.type="acquirer",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},st("g",{fill:"none","fill-rule":"evenodd"},st("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),st("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"}))),this.defaultLocale=Jl,this.opts={...t},this.i18nInit(),this.title=this.i18n("pluginNameAudio"),this.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null})}render(){eh(this,sh)[sh]||eh(this,dh)[dh]();let e=this.getPluginState();return e.audioReady&&e.hasAudio?st(Xl,Ql({},e,{audioActive:eh(this,sh)[sh],onChangeSource:eh(this,vh)[vh],onStartRecording:eh(this,uh)[uh],onStopRecording:eh(this,ph)[ph],onDiscardRecordedAudio:eh(this,fh)[fh],onSubmit:eh(this,mh)[mh],onStop:eh(this,gh)[gh],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:pl(),recording:e.isRecording,stream:eh(this,rh)[rh]})):st(Zl,{icon:this.icon,i18n:this.i18n,hasAudio:e.hasAudio})}install(){this.setPluginState({audioReady:!1,recordingLengthSeconds:0});let{target:e}=this.opts;e&&this.mount(e,this),eh(this,lh)[lh]&&(eh(this,bh)[bh](),eh(this,lh)[lh].ondevicechange=()=>{if(eh(this,bh)[bh](),eh(this,rh)[rh]){let e=!0,{audioSources:t,currentDeviceId:i}=this.getPluginState();t.forEach((t=>{i===t.deviceId&&(e=!1)})),e&&(eh(this,gh)[gh](),eh(this,dh)[dh]())}})}uninstall(){eh(this,rh)[rh]&&eh(this,gh)[gh](),this.unmount()}};function _h(){return eh(this,lh)[lh]?eh(this,lh)[lh].enumerateDevices().then((e=>e.some((e=>"audioinput"===e.kind)))):Promise.resolve(!1)}function kh(){let e=eh(this,nh)[nh].find((e=>{var t;return(null==(t=e.type)?void 0:t.length)>0})).type,t=ul(e);if(!t)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${e}"`));let i=`audio-${Date.now()}.${t}`,r=new Blob(eh(this,nh)[nh],{type:e}),s={source:this.id,name:i,data:new Blob([r],{type:e}),type:e};return Promise.resolve(s)}o(wh,"Audio"),o(_h,"_hasAudioCheck2"),o(kh,"_getAudio2"),wh.VERSION="1.0.2";var Sh={strings:{pluginNameBox:"Box"}},xh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"Box",fi.initPlugin(this,t),this.title=this.opts.title||"Box",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),st("g",{fill:"#fff",fillRule:"nonzero"},st("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),st("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"})))),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"box",pluginId:this.id}),this.defaultLocale=Sh,this.i18nInit(),this.title=this.i18n("pluginNameBox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new ur(this,{provider:this.provider});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return this.view.getFolder()}render(e){return this.view.render(e)}};o(xh,"Box"),xh.VERSION="2.0.1";var Th={strings:{pluginNameDropbox:"Dropbox"}},jh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"Dropbox",fi.initPlugin(this,t),this.title=this.opts.title||"Dropbox",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),st("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"dropbox",pluginId:this.id}),this.defaultLocale=Th,this.i18nInit(),this.title=this.i18n("pluginNameDropbox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new ur(this,{provider:this.provider});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){return this.view.render(e)}};o(jh,"Dropbox"),jh.VERSION="3.0.1";var Ch={strings:{pluginNameFacebook:"Facebook"}},Eh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"Facebook",fi.initPlugin(this,t),this.title=this.opts.title||"Facebook",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),st("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"facebook",pluginId:this.id}),this.defaultLocale=Ch,this.i18nInit(),this.title=this.i18n("pluginNameFacebook"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new ur(this,{provider:this.provider});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){let t={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(t.viewType="grid",t.showFilter=!1,t.showTitles=!1),this.view.render(e,t)}};o(Eh,"Facebook"),Eh.VERSION="3.0.1";var Oh=class extends ur{toggleCheckbox(e,t){e.stopPropagation(),e.preventDefault(),t.custom.isSharedDrive||super.toggleCheckbox(e,t)}};o(Oh,"DriveProviderViews");var Ph={strings:{pluginNameGoogleDrive:"Google Drive"}},Fh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"GoogleDrive",this.title=this.opts.title||"Google Drive",fi.initPlugin(this,t),this.title=this.opts.title||"Google Drive",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),st("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"}))),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"drive",pluginId:this.id}),this.defaultLocale=Ph,this.i18nInit(),this.title=this.i18n("pluginNameGoogleDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Oh(this,{provider:this.provider});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}render(e){return this.view.render(e)}};o(Fh,"GoogleDrive"),Fh.VERSION="3.0.1";var Mh={strings:{pluginNameInstagram:"Instagram"}},Dh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"Instagram",fi.initPlugin(this,t),this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),st("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"}))),this.defaultLocale=Mh,this.i18nInit(),this.title=this.i18n("pluginNameInstagram"),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"instagram",pluginId:this.id}),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new ur(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}render(e){return this.view.render(e)}};o(Dh,"Instagram"),Dh.VERSION="3.0.1";var Ah={strings:{pluginNameOneDrive:"OneDrive"}},Rh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"OneDrive",fi.initPlugin(this,t),this.title=this.opts.title||"OneDrive",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),st("g",{fill:"#FFF",fillRule:"nonzero"},st("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),st("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"})))),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"onedrive",pluginId:this.id}),this.defaultLocale=Ah,this.i18nInit(),this.title=this.i18n("pluginNameOneDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new ur(this,{provider:this.provider});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){return this.view.render(e)}};o(Rh,"OneDrive"),Rh.VERSION="3.0.1";var Lh=class extends Ut{constructor(e,t){if(super(e,t),this.id=this.opts.id||"Unsplash",this.title=this.opts.title||"Unsplash",fi.initPlugin(this,t,{}),this.icon=()=>st("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},st("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),st("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),st("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"})),!this.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.hostname=this.opts.companionUrl,this.provider=new gi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"unsplash",pluginId:this.id})}install(){this.view=new _r(this,{provider:this.provider,viewType:"unsplash"});let{target:e}=this.opts;e&&this.mount(e,this)}onFirstRender(){}render(e){return this.view.render(e)}uninstall(){this.unmount()}};function Ih(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Lh,"Unsplash"),Lh.VERSION="3.0.1",o(Ih,"_classPrivateFieldLooseBase");var Nh=0;function Bh(e){return"__private_"+Nh+++"_"+e}o(Bh,"_classPrivateFieldLooseKey");var zh=Bh("handleKeyPress"),Uh=Bh("handleSubmit"),Hh=class extends lt{constructor(){super(...arguments),Object.defineProperty(this,zh,{writable:!0,value:e=>{13===e.keyCode&&Ih(this,Uh)[Uh]()}}),Object.defineProperty(this,Uh,{writable:!0,value:()=>{let{addFile:e}=this.props;e(this.input.value.trim())}})}componentDidMount(){this.input.value=""}render(){let{i18n:e}=this.props;return st("div",{className:"uppy-Url"},st("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":e("enterUrlToImport"),placeholder:e("enterUrlToImport"),onKeyUp:Ih(this,zh)[zh],ref:e=>{this.input=e},"data-uppy-super-focusable":!0}),st("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:Ih(this,Uh)[Uh]},e("import")))}};o(Hh,"UrlUI");var Wh=Hh;function Vh(e,t,i){let r,s=Jn(e.items);switch(t){case"paste":if(s.some((e=>"file"===e.kind)))return;r=s.filter((e=>"string"===e.kind&&"text/plain"===e.type));break;case"drop":r=s.filter((e=>"string"===e.kind&&"text/uri-list"===e.type));break;default:throw new Error(`isDropOrPaste must be either 'drop' or 'paste', but it's ${t}`)}r.forEach((e=>{e.getAsString((e=>i(e)))}))}o(Vh,"forEachDroppedOrPastedUrl");var qh={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure it’s correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}};function Gh(){return st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),st("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}function Yh(e){return/^[a-z0-9]+:\/\//.test(e)?e:"http://"+e}function $h(e){return Jn(e.dataTransfer.items).filter((e=>"string"===e.kind&&"text/uri-list"===e.type)).length>0}function Kh(e){if(!e)return!1;let t=e.match(/^([a-z0-9]+):\/\//)[1];return!("http"!==t&&"https"!==t)}function Xh(e){let{pathname:t}=new URL(e);return t.substring(t.lastIndexOf("/")+1)}o(Gh,"UrlIcon"),o(Yh,"addProtocolToURL"),o($h,"canHandleRootDrop"),o(Kh,"checkIfCorrectURL"),o(Xh,"getFileNameFromUrl");var Zh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"Url",this.title=this.opts.title||"Link",this.type="acquirer",this.icon=()=>st(Gh,null),this.defaultLocale=qh;if(this.opts={...t},this.i18nInit(),this.hostname=this.opts.companionUrl,!this.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.getMeta=this.getMeta.bind(this),this.addFile=this.addFile.bind(this),this.handleRootDrop=this.handleRootDrop.bind(this),this.handleRootPaste=this.handleRootPaste.bind(this),this.client=new oi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule})}getMeta(e){return this.client.post("url/meta",{url:e}).then((e=>{if(e.error)throw this.uppy.log("[URL] Error:"),this.uppy.log(e.error),new Error("Failed to fetch the file");return e}))}async addFile(e,t){void 0===t&&(t=void 0);let i=Yh(e);if(!Kh(i))return this.uppy.log(`[URL] Incorrect URL entered: ${i}`),void this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);try{let e=await this.getMeta(i),r={meta:t,source:this.id,name:Xh(i),type:e.type,data:{size:e.size},isRemote:!0,body:{url:i},remote:{companionUrl:this.opts.companionUrl,url:`${this.hostname}/url/get`,body:{fileId:i,url:i},providerOptions:this.client.opts}};this.uppy.log("[Url] Adding remote file");try{return this.uppy.addFile(r)}catch(e){return e.isRestriction||this.uppy.log(e),e}}catch(e){return this.uppy.log(e),this.uppy.info({message:this.i18n("failedToFetch"),details:e},"error",4e3),e}}handleRootDrop(e){Vh(e.dataTransfer,"drop",(e=>{this.uppy.log(`[URL] Adding file from dropped url: ${e}`),this.addFile(e)}))}handleRootPaste(e){Vh(e.clipboardData,"paste",(e=>{this.uppy.log(`[URL] Adding file from pasted url: ${e}`),this.addFile(e)}))}render(){return st(Wh,{i18n:this.i18n,addFile:this.addFile})}install(){let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.unmount()}};o(Zh,"Url"),Zh.VERSION="3.1.0",Zh.prototype.canHandleRootDrop=$h;var Jh={strings:{pluginNameZoom:"Zoom"}},Qh=class extends Ut{constructor(e,t){super(e,t),this.id=this.opts.id||"Zoom",fi.initPlugin(this,t),this.title=this.opts.title||"Zoom",this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),st("g",{fill:"none",fillRule:"evenodd"},st("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),st("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}}))),this.provider=new fi(e,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"zoom",pluginId:this.id}),this.defaultLocale=Jh,this.i18nInit(),this.title=this.i18n("pluginNameZoom"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new ur(this,{provider:this.provider});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(e){return this.view.render(e)}};function ec(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Qh,"Zoom"),Qh.VERSION="2.0.1",o(ec,"_classPrivateFieldLooseBase");var tc=0;function ic(e){return"__private_"+tc+++"_"+e}o(ic,"_classPrivateFieldLooseKey");var rc={__proto__:null,Box:xh,Dropbox:jh,Facebook:Eh,GoogleDrive:Fh,Instagram:Dh,OneDrive:Rh,Unsplash:Lh,Url:Zh,Zoom:Qh},sc=ic("installedPlugins"),nc=class extends At{constructor(e,t){super(e,t),Object.defineProperty(this,sc,{writable:!0,value:new Set}),this.id=this.opts.id||"RemoteSources",this.type="acquirer";let i={sources:Object.keys(rc),target:Qa};if(this.opts={...i,...t},null==this.opts.companionUrl)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl")}setOptions(e){this.uninstall(),super.setOptions(e),this.install()}install(){this.opts.sources.forEach((e=>{let t={...this.opts,sources:void 0},i=rc[e];if(null==i){let t=Object.keys(rc),i=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error(`Invalid plugin: "${e}" is not one of: ${i.format(t)}.`)}this.uppy.use(i,t),ec(this,sc)[sc].add(this.uppy.getPlugin(e))}))}uninstall(){for(let e of ec(this,sc)[sc])this.uppy.removePlugin(e);ec(this,sc)[sc].clear()}};o(nc,"RemoteSources"),nc.VERSION="1.0.2";var oc=o((()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),st("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),st("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"})))),"default");function ac(e){let{recording:t,onStartRecording:i,onStopRecording:r,i18n:s}=e;return t?st("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:s("stopCapturing"),"aria-label":s("stopCapturing"),onClick:r,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},st("rect",{x:"15",y:"15",width:"70",height:"70"}))):st("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:s("startCapturing"),"aria-label":s("startCapturing"),onClick:i,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},st("circle",{cx:"50",cy:"50",r:"40"})))}function lc(e){let{recording:t,recordedVideo:i,onSubmit:r,i18n:s}=e;return i&&!t?st("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:s("submitRecordedFile"),"aria-label":s("submitRecordedFile"),onClick:r,"data-uppy-super-focusable":!0},st("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},st("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}o(ac,"RecordButton"),o(lc,"SubmitButton");var hc=class extends lt{constructor(e){super(e),this.state={elapsedTime:0},this.wrapperStyle={width:"100%",height:"100%",display:"flex"},this.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},this.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},this.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},this.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"}}startTimer(){this.timerTick(),this.timerRunning=!0}resetTimer(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}timerTick(){this.timer=setTimeout((()=>{this.setState((e=>({elapsedTime:e.elapsedTime+1}))),this.timerTick()}),1e3)}fmtMSS(e){return(e-(e%=60))/60+(e>9?":":":0")+e}render(){let{recording:e,i18n:t}={...this.props},{elapsedTime:i}=this.state,r=this.fmtMSS(i);return e&&!this.timerRunning&&this.startTimer(),!e&&this.timerRunning&&this.resetTimer(),e?st("div",{style:this.wrapperStyle},st("div",{style:this.overlayStyle}),st("div",{style:this.infoContainerStyle},st("div",{style:this.infotextStyle},t("recording")),st("div",{style:this.timeStyle},r))):null}};o(hc,"StopWatch");var cc=hc,dc=o((e=>{let{streamActive:t,i18n:i}=e;return t?st("div",{title:i("streamActive"),"aria-label":i("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},st("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),st("path",{d:"M0 0h24v24H0z",fill:"none"}),st("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):st("div",{title:i("streamPassive"),"aria-label":i("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},st("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},st("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),st("path",{d:"M0 0h24v24H0z",fill:"none"}),st("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))}),"default");function uc(){return uc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},uc.apply(this,arguments)}o(uc,"_extends");var pc=class extends lt{componentWillUnmount(){let{onStop:e}=this.props;e()}render(){let{recording:e,stream:t,recordedVideo:i}=this.props,r={playsinline:!0};return(e||!i&&!e)&&(r.muted=!0,r.autoplay=!0,r.srcObject=t),i&&!e&&(r.muted=!1,r.controls=!0,r.src=i,this.videoElement&&(this.videoElement.srcObject=void 0)),st("div",{className:"uppy uppy-ScreenCapture-container"},st("div",{className:"uppy-ScreenCapture-videoContainer"},st(dc,this.props),st("video",uc({ref:e=>{this.videoElement=e},className:"uppy-ScreenCapture-video"},r)),st(cc,this.props)),st("div",{className:"uppy-ScreenCapture-buttonContainer"},st(ac,this.props),st(lc,this.props)))}};o(pc,"RecorderScreen");var fc=pc,mc={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},gc.apply(this,arguments)}o(gc,"_extends");function yc(){var e;return window.MediaRecorder&&(null==(e=navigator.mediaDevices)?void 0:e.getDisplayMedia)}function vc(){return window.MediaRecorder&&navigator.mediaDevices}o(yc,"isScreenRecordingSupported"),o(vc,"getMediaDevices");var bc=class extends Ut{constructor(e,t){super(e,t),this.mediaDevices=vc(),this.protocol="https:"===location.protocol?"https":"http",this.id=this.opts.id||"ScreenCapture",this.title=this.opts.title||"Screencast",this.type="acquirer",this.icon=oc,this.defaultLocale=mc;this.opts={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm",...t},this.i18nInit(),this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.submit=this.submit.bind(this),this.streamInterrupted=this.streamInactivated.bind(this),this.captureActive=!1,this.capturedMediaFile=null}install(){if(!yc())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});let{target:e}=this.opts;e&&this.mount(e,this)}uninstall(){this.videoStream&&this.stop(),this.unmount()}start(){return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then((e=>{!1===e&&this.parent&&this.parent.hideAllPanels&&(this.parent.hideAllPanels(),this.captureActive=!1)}))):Promise.reject(new Error("Screen recorder access not supported"))}selectVideoStreamSource(){return this.videoStream?new Promise((e=>e(this.videoStream))):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then((e=>(this.videoStream=e,this.videoStream.addEventListener("inactive",(()=>{this.streamInactivated()})),this.setPluginState({streamActive:!0}),e))).catch((e=>(this.setPluginState({screenRecError:e}),this.userDenied=!0,setTimeout((()=>{this.userDenied=!1}),1e3),!1)))}selectAudioStreamSource(){return this.audioStream?new Promise((e=>e(this.audioStream))):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then((e=>(this.audioStream=e,this.setPluginState({audioStreamActive:!0}),e))).catch((e=>("NotAllowedError"===e.name&&this.uppy.info(this.i18n("micDisabled"),"error",5e3),!1)))}startRecording(){let e={};this.capturedMediaFile=null,this.recordingChunks=[];let{preferredVideoMimeType:t}=this.opts;this.selectVideoStreamSource().then((i=>{t&&MediaRecorder.isTypeSupported(t)&&ul(t)&&(e.mimeType=t);let r=[i.getVideoTracks()[0]];this.audioStream&&r.push(this.audioStream.getAudioTracks()[0]),this.outputStream=new MediaStream(r),this.recorder=new MediaRecorder(this.outputStream,e),this.recorder.addEventListener("dataavailable",(e=>{this.recordingChunks.push(e.data)})),this.recorder.start(),this.setPluginState({recording:!0})})).catch((e=>{this.uppy.log(e,"error")}))}streamInactivated(){let{recordedVideo:e,recording:t}={...this.getPluginState()};e||t?t&&(this.uppy.log("Capture stream inactive — stop recording"),this.stopRecording()):this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels(),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}stopRecording(){return new Promise((e=>{this.recorder.addEventListener("stop",(()=>{e()})),this.recorder.stop()})).then((()=>(this.setPluginState({recording:!1}),this.getVideo()))).then((e=>{this.capturedMediaFile=e,this.setPluginState({recordedVideo:URL.createObjectURL(e.data)})})).then((()=>{this.recordingChunks=null,this.recorder=null}),(e=>{throw this.recordingChunks=null,this.recorder=null,e}))}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(e){e.isRestriction||this.uppy.log(e,"error")}}stop(){this.videoStream&&(this.videoStream.getVideoTracks().forEach((e=>{e.stop()})),this.videoStream.getAudioTracks().forEach((e=>{e.stop()})),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach((e=>{e.stop()})),this.audioStream.getVideoTracks().forEach((e=>{e.stop()})),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach((e=>{e.stop()})),this.outputStream.getVideoTracks().forEach((e=>{e.stop()})),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}getVideo(){let e=this.recordingChunks[0].type,t=ul(e);if(!t)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${e}"`));let i=`screencap-${Date.now()}.${t}`,r=new Blob(this.recordingChunks,{type:e}),s={source:this.id,name:i,data:new Blob([r],{type:e}),type:e};return Promise.resolve(s)}render(){let e=this.getPluginState();return!e.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),st(fc,gc({},e,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}};o(bc,"ScreenCapture"),bc.VERSION="3.0.1";var wc=h(w(),1);function _c(e,t,i){return new Promise((r=>{e.toBlob(r,t,i)}))}function kc(){return"function"==typeof MediaRecorder&&!!MediaRecorder.prototype&&"function"==typeof MediaRecorder.prototype.start}o(_c,"canvasToBlob"),o(kc,"supportsMediaRecorder");var Sc=o((()=>st("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},st("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"}))),"default"),xc=o((e=>{let{onSnapshot:t,i18n:i}=e;return st("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:i("takePicture"),"aria-label":i("takePicture"),onClick:t,"data-uppy-super-focusable":!0},Sc())}),"default");function Tc(e){let{recording:t,onStartRecording:i,onStopRecording:r,i18n:s}=e;return t?st("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:s("stopRecording"),"aria-label":s("stopRecording"),onClick:r,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},st("rect",{x:"15",y:"15",width:"70",height:"70"}))):st("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:s("startRecording"),"aria-label":s("startRecording"),onClick:i,"data-uppy-super-focusable":!0},st("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},st("circle",{cx:"50",cy:"50",r:"40"})))}function jc(e){return`${Math.floor(e/60)}:${String(e%60).padStart(2,0)}`}function Cc(e){let{recordingLengthSeconds:t,i18n:i}=e,r=jc(t);return st("span",{"aria-label":i("recordingLength",{recording_length:r})},r)}o(Tc,"RecordButton"),o(jc,"formatSeconds"),o(Cc,"RecordingLength");var Ec=o((e=>{let{currentDeviceId:t,videoSources:i,onChangeVideoSource:r}=e;return st("div",{className:"uppy-Webcam-videoSource"},st("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:e=>{r(e.target.value)}},i.map((e=>st("option",{key:e.deviceId,value:e.deviceId,selected:e.deviceId===t},e.label)))))}),"default");function Oc(e){let{onSubmit:t,i18n:i}=e;return st("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:i("submitRecordedFile"),"aria-label":i("submitRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},st("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},st("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}o(Oc,"SubmitButton");var Pc=Oc;function Fc(e){let{onDiscard:t,i18n:i}=e;return st("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:i("discardRecordedFile"),"aria-label":i("discardRecordedFile"),onClick:t,"data-uppy-super-focusable":!0},st("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},st("g",{fill:"#FFF",fillRule:"evenodd"},st("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),st("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}o(Fc,"DiscardButton");var Mc=Fc;function Dc(){return Dc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Dc.apply(this,arguments)}function Ac(e,t){return e.includes(t)}o(Dc,"_extends"),o(Ac,"isModeAvailable");var Rc=class extends lt{componentDidMount(){let{onFocus:e}=this.props;e()}componentWillUnmount(){let{onStop:e}=this.props;e()}render(){let{src:e,recordedVideo:t,recording:i,modes:r,supportsRecording:s,videoSources:n,showVideoSourceDropdown:o,showRecordingLength:a,onSubmit:l,i18n:h,mirror:c,onSnapshot:d,onStartRecording:u,onStopRecording:p,onDiscardRecordedVideo:f,recordingLengthSeconds:m}=this.props,g=!!t,y=!g&&s&&(Ac(r,"video-only")||Ac(r,"audio-only")||Ac(r,"video-audio")),v=!g&&Ac(r,"picture"),b=s&&a&&!g,w=o&&n&&n.length>1,_={playsinline:!0};return t?(_.muted=!1,_.controls=!0,_.src=t,this.videoElement&&(this.videoElement.srcObject=void 0)):(_.muted=!0,_.autoplay=!0,_.srcObject=e),st("div",{className:"uppy uppy-Webcam-container"},st("div",{className:"uppy-Webcam-videoContainer"},st("video",Dc({ref:e=>this.videoElement=e,className:"uppy-Webcam-video  "+(c?"uppy-Webcam-video--mirrored":"")},_))),st("div",{className:"uppy-Webcam-footer"},st("div",{className:"uppy-Webcam-videoSourceContainer"},w?Ec(this.props):null),st("div",{className:"uppy-Webcam-buttonContainer"},v&&st(xc,{onSnapshot:d,i18n:h}),y&&st(Tc,{recording:i,onStartRecording:u,onStopRecording:p,i18n:h}),g&&st(Pc,{onSubmit:l,i18n:h}),g&&st(Mc,{onDiscard:f,i18n:h})),st("div",{className:"uppy-Webcam-recordingLength"},b&&st(Cc,{recordingLengthSeconds:m,i18n:h}))))}};o(Rc,"CameraScreen");var Lc=Rc,Ic=o((e=>{let{icon:t,i18n:i,hasCamera:r}=e;return st("div",{className:"uppy-Webcam-permissons"},st("div",{className:"uppy-Webcam-permissonsIcon"},t()),st("h1",{className:"uppy-Webcam-title"},i(r?"allowAccessTitle":"noCameraTitle")),st("p",null,i(r?"allowAccessDescription":"noCameraDescription")))}),"default"),Nc={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function Bc(){return Bc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},Bc.apply(this,arguments)}function zc(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Bc,"_extends"),o(zc,"_classPrivateFieldLooseBase");var Uc=0;function Hc(e){return"__private_"+Uc+++"_"+e}o(Hc,"_classPrivateFieldLooseKey");function Wc(e){return"."===e[0]?$[e.slice(1)]:e}function Vc(e){return/^video\/[^*]+$/.test(e)}function qc(e){return/^image\/[^*]+$/.test(e)}function Gc(){return navigator.mediaDevices}function Yc(e,t){return e.includes(t)}o(Wc,"toMimeType"),o(Vc,"isVideoMimeType"),o(qc,"isImageMimeType"),o(Gc,"getMediaDevices"),o(Yc,"isModeAvailable");var $c=Hc("enableMirror"),Kc=class extends Ut{constructor(e,t){super(e,t),Object.defineProperty(this,$c,{writable:!0,value:void 0}),this.mediaDevices=Gc(),this.supportsUserMedia=!!this.mediaDevices,this.protocol=location.protocol.match(/https/i)?"https":"http",this.id=this.opts.id||"Webcam",this.type="acquirer",this.capturedMediaFile=null,this.icon=()=>st("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},st("g",{fill:"none",fillRule:"evenodd"},st("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),st("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),this.defaultLocale=Nc;let i={onBeforeSnapshot:()=>Promise.resolve(),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,wc.default)({tablet:!0})};this.opts={...i,...t},this.i18nInit(),this.title=this.i18n("pluginNameCamera"),zc(this,$c)[$c]=this.opts.mirror,this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.takeSnapshot=this.takeSnapshot.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.discardRecordedVideo=this.discardRecordedVideo.bind(this),this.submit=this.submit.bind(this),this.oneTwoThreeSmile=this.oneTwoThreeSmile.bind(this),this.focus=this.focus.bind(this),this.changeVideoSource=this.changeVideoSource.bind(this),this.webcamActive=!1,this.opts.countdown&&(this.opts.onBeforeSnapshot=this.oneTwoThreeSmile),this.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null})}setOptions(e){super.setOptions({...e,videoConstraints:{...this.opts.videoConstraints,...e?.videoConstraints}})}hasCameraCheck(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then((e=>e.some((e=>"videoinput"===e.kind)))):Promise.resolve(!1)}isAudioOnly(){return 1===this.opts.modes.length&&"audio-only"===this.opts.modes[0]}getConstraints(e){void 0===e&&(e=null);let t=-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("audio-only"),i=!this.isAudioOnly()&&(-1!==this.opts.modes.indexOf("video-audio")||-1!==this.opts.modes.indexOf("video-only")||-1!==this.opts.modes.indexOf("picture")),r={...this.opts.videoConstraints||{facingMode:this.opts.facingMode},...e?{deviceId:e,facingMode:null}:{}};return{audio:t,video:!!i&&r}}start(e){if(void 0===e&&(e=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(zc(this,$c)[$c]=!0);let t=this.getConstraints(e&&e.deviceId?e.deviceId:null);this.hasCameraCheck().then((i=>(this.setPluginState({hasCamera:i}),this.mediaDevices.getUserMedia(t).then((t=>{this.stream=t;let i=null,r=this.isAudioOnly()?t.getAudioTracks():t.getVideoTracks();e&&e.deviceId?r.forEach((t=>{t.getSettings().deviceId===e.deviceId&&(i=t.getSettings().deviceId)})):i=r[0].getSettings().deviceId,this.updateVideoSources(),this.setPluginState({currentDeviceId:i,cameraReady:!0})})).catch((e=>{this.setPluginState({cameraReady:!1,cameraError:e}),this.uppy.info(e.message,"error")})))))}getMediaRecorderOptions(){let e={};if(MediaRecorder.isTypeSupported){let{restrictions:t}=this.uppy.opts,i=[];this.opts.preferredVideoMimeType?i=[this.opts.preferredVideoMimeType]:t.allowedFileTypes&&(i=t.allowedFileTypes.map(Wc).filter(Vc));let r=o((e=>MediaRecorder.isTypeSupported(e)&&ul(e)),"filterSupportedTypes"),s=i.filter(r);s.length>0&&(e.mimeType=s[0])}return e}startRecording(){this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];let e=!1;this.recorder.addEventListener("dataavailable",(t=>{this.recordingChunks.push(t.data);let{restrictions:i}=this.uppy.opts;if(this.recordingChunks.length>1&&null!=i.maxFileSize&&!e){let t=this.recordingChunks.reduce(((e,t)=>e+t.size),0),r=(t-this.recordingChunks[0].size)/(this.recordingChunks.length-1)*3;t>Math.max(0,i.maxFileSize-r)&&(e=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),this.stopRecording())}})),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval((()=>{let e=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:e+1})}),1e3)),this.setPluginState({isRecording:!0})}stopRecording(){return new Promise((e=>{this.recorder.addEventListener("stop",(()=>{e()})),this.recorder.stop(),this.opts.showRecordingLength&&(clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0}))})).then((()=>(this.setPluginState({isRecording:!1}),this.getVideo()))).then((e=>{try{this.capturedMediaFile=e,this.setPluginState({recordedVideo:URL.createObjectURL(e.data)}),zc(this,$c)[$c]=!1}catch(e){e.isRestriction||this.uppy.log(e)}})).then((()=>{this.recordingChunks=null,this.recorder=null}),(e=>{throw this.recordingChunks=null,this.recorder=null,e}))}discardRecordedVideo(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(zc(this,$c)[$c]=!0),this.capturedMediaFile=null}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(e){e.isRestriction||this.uppy.log(e,"error")}}async stop(){if(this.stream){let e=this.stream.getAudioTracks(),t=this.stream.getVideoTracks();e.concat(t).forEach((e=>e.stop()))}this.recorder&&await new Promise((e=>{this.recorder.addEventListener("stop",e,{once:!0}),this.recorder.stop(),this.opts.showRecordingLength&&clearInterval(this.recordingLengthTimer)})),this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0})}getVideoElement(){return this.el.querySelector(".uppy-Webcam-video")}oneTwoThreeSmile(){return new Promise(((e,t)=>{let i=this.opts.countdown,r=setInterval((()=>{if(!this.webcamActive)return clearInterval(r),this.captureInProgress=!1,t(new Error("Webcam is not active"));i>0?(this.uppy.info(`${i}...`,"warning",800),i--):(clearInterval(r),this.uppy.info(this.i18n("smile"),"success",1500),setTimeout((()=>e()),1500))}),1e3)}))}takeSnapshot(){this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch((e=>{let t="object"==typeof e?e.message:e;return this.uppy.info(t,"error",5e3),Promise.reject(new Error(`onBeforeSnapshot: ${t}`))})).then((()=>this.getImage())).then((e=>{this.captureInProgress=!1;try{this.uppy.addFile(e)}catch(e){e.isRestriction||this.uppy.log(e)}}),(e=>{throw this.captureInProgress=!1,e})))}getImage(){let e=this.getVideoElement();if(!e)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));let t=e.videoWidth,i=e.videoHeight,r=document.createElement("canvas");r.width=t,r.height=i,r.getContext("2d").drawImage(e,0,0);let{restrictions:s}=this.uppy.opts,n=[];this.opts.preferredImageMimeType?n=[this.opts.preferredImageMimeType]:s.allowedFileTypes&&(n=s.allowedFileTypes.map(Wc).filter(qc));let o=n[0]||"image/jpeg",a=ul(o)||"jpg",l=`cam-${Date.now()}.${a}`;return _c(r,o).then((e=>({source:this.id,name:l,data:new Blob([e],{type:o}),type:o})))}getVideo(){let e=this.recordingChunks.find((e=>{var t;return(null==(t=e.type)?void 0:t.length)>0})).type,t=ul(e);if(!t)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${e}"`));let i=`webcam-${Date.now()}.${t}`,r=new Blob(this.recordingChunks,{type:e}),s={source:this.id,name:i,data:new Blob([r],{type:e}),type:e};return Promise.resolve(s)}focus(){!this.opts.countdown||setTimeout((()=>{this.uppy.info(this.i18n("smile"),"success",1500)}),1e3)}changeVideoSource(e){this.stop(),this.start({deviceId:e})}updateVideoSources(){this.mediaDevices.enumerateDevices().then((e=>{this.setPluginState({videoSources:e.filter((e=>"videoinput"===e.kind))})}))}render(){this.webcamActive||this.start();let e=this.getPluginState();return e.cameraReady&&e.hasCamera?st(Lc,Bc({},e,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:kc(),recording:e.isRecording,mirror:zc(this,$c)[$c],src:this.stream})):st(Ic,{icon:Sc,i18n:this.i18n,hasCamera:e.hasCamera})}install(){let{mobileNativeCamera:e,modes:t,facingMode:i,videoConstraints:r}=this.opts,{target:s}=this.opts;var n;e&&s?null==(n=this.getTargetPlugin(s))||n.setOptions({showNativeVideoCameraButton:Yc(t,"video-only")||Yc(t,"video-audio"),showNativePhotoCameraButton:Yc(t,"picture"),nativeCameraFacingMode:r?.facingMode||i}):(this.setPluginState({cameraReady:!1,recordingLengthSeconds:0}),s&&this.mount(s,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=()=>{if(this.updateVideoSources(),this.stream){let e=!0,{videoSources:t,currentDeviceId:i}=this.getPluginState();t.forEach((t=>{i===t.deviceId&&(e=!1)})),e&&(this.stop(),this.start())}}))}uninstall(){this.stop(),this.unmount()}onUnmount(){this.stop()}};function Xc(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Kc,"Webcam"),Kc.VERSION="3.2.1",o(Xc,"_classPrivateFieldLooseBase");var Zc=0;function Jc(e){return"__private_"+Zc+++"_"+e}function Qc(e){return new Error("Cancelled",{cause:e})}function ed(e){if(null!=e){let t=o((()=>this.abort(e.reason)),"abortPromise");e.addEventListener("abort",t,{once:!0});let i=o((()=>{e.removeEventListener("abort",t)}),"removeAbortListener");this.then(i,i)}return this}o(Jc,"_classPrivateFieldLooseKey"),o(Qc,"createCancelError"),o(ed,"abortOn");var td=Jc("activeRequests"),id=Jc("queuedHandlers"),rd=Jc("paused"),sd=Jc("pauseTimer"),nd=Jc("downLimit"),od=Jc("upperLimit"),ad=Jc("rateLimitingTimer"),ld=Jc("call"),hd=Jc("queueNext"),cd=Jc("next"),dd=Jc("queue"),ud=Jc("dequeue"),pd=Jc("resume"),fd=Jc("increaseLimit"),md=class{constructor(e){Object.defineProperty(this,ud,{value:wd}),Object.defineProperty(this,dd,{value:bd}),Object.defineProperty(this,cd,{value:vd}),Object.defineProperty(this,hd,{value:yd}),Object.defineProperty(this,ld,{value:gd}),Object.defineProperty(this,td,{writable:!0,value:0}),Object.defineProperty(this,id,{writable:!0,value:[]}),Object.defineProperty(this,rd,{writable:!0,value:!1}),Object.defineProperty(this,sd,{writable:!0,value:void 0}),Object.defineProperty(this,nd,{writable:!0,value:1}),Object.defineProperty(this,od,{writable:!0,value:void 0}),Object.defineProperty(this,ad,{writable:!0,value:void 0}),Object.defineProperty(this,pd,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,fd,{writable:!0,value:()=>{if(Xc(this,rd)[rd])Xc(this,ad)[ad]=setTimeout(Xc(this,fd)[fd],0);else{Xc(this,nd)[nd]=this.limit,this.limit=Math.ceil((Xc(this,od)[od]+Xc(this,nd)[nd])/2);for(let e=Xc(this,nd)[nd];e<=this.limit;e++)Xc(this,hd)[hd]();Xc(this,od)[od]-Xc(this,nd)[nd]>3?Xc(this,ad)[ad]=setTimeout(Xc(this,fd)[fd],2e3):Xc(this,nd)[nd]=Math.floor(Xc(this,nd)[nd]/2)}}}),this.limit="number"!=typeof e||0===e?1/0:e}run(e,t){return!Xc(this,rd)[rd]&&Xc(this,td)[td]<this.limit?Xc(this,ld)[ld](e):Xc(this,dd)[dd](e,t)}wrapPromiseFunction(e,t){var i=this;return function(){for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];let o,a=new Promise(((r,n)=>{o=i.run((()=>{let t,i;try{i=Promise.resolve(e(...s))}catch(e){i=Promise.reject(e)}return i.then((e=>{t?n(t):(o.done(),r(e))}),(e=>{t?n(t):(o.done(),n(e))})),e=>{t=Qc(e)}}),t)}));return a.abort=e=>{o.abort(e)},a.abortOn=ed,a}}resume(){Xc(this,rd)[rd]=!1,clearTimeout(Xc(this,sd)[sd]);for(let e=0;e<this.limit;e++)Xc(this,hd)[hd]()}pause(e){void 0===e&&(e=null),Xc(this,rd)[rd]=!0,clearTimeout(Xc(this,sd)[sd]),null!=e&&(Xc(this,sd)[sd]=setTimeout(Xc(this,pd)[pd],e))}rateLimit(e){clearTimeout(Xc(this,ad)[ad]),this.pause(e),this.limit>1&&Number.isFinite(this.limit)&&(Xc(this,od)[od]=this.limit-1,this.limit=Xc(this,nd)[nd],Xc(this,ad)[ad]=setTimeout(Xc(this,fd)[fd],e))}get isPaused(){return Xc(this,rd)[rd]}};function gd(e){Xc(this,td)[td]+=1;let t,i=!1;try{t=e()}catch(e){throw Xc(this,td)[td]-=1,e}return{abort:e=>{i||(i=!0,Xc(this,td)[td]-=1,t(e),Xc(this,hd)[hd]())},done:()=>{i||(i=!0,Xc(this,td)[td]-=1,Xc(this,hd)[hd]())}}}function yd(){queueMicrotask((()=>Xc(this,cd)[cd]()))}function vd(){if(Xc(this,rd)[rd]||Xc(this,td)[td]>=this.limit||0===Xc(this,id)[id].length)return;let e=Xc(this,id)[id].shift(),t=Xc(this,ld)[ld](e.fn);e.abort=t.abort,e.done=t.done}function bd(e,t){void 0===t&&(t={});let i={fn:e,priority:t.priority||0,abort:()=>{Xc(this,ud)[ud](i)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},r=Xc(this,id)[id].findIndex((e=>i.priority>e.priority));return-1===r?Xc(this,id)[id].push(i):Xc(this,id)[id].splice(r,0,i),i}function wd(e){let t=Xc(this,id)[id].indexOf(e);-1!==t&&Xc(this,id)[id].splice(t,1)}o(md,"RateLimitedQueue"),o(gd,"_call2"),o(yd,"_queueNext2"),o(vd,"_next2"),o(bd,"_queue2"),o(wd,"_dequeue2");var _d=Symbol("__queue"),kd=h(d(),1);function Sd(e,t,i){let{progress:r,bytesUploaded:s,bytesTotal:n}=t;r&&(e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",i,{uploader:e,bytesUploaded:s,bytesTotal:n}))}o(Sd,"emitSocketProgress");var xd=(0,kd.default)(Sd,300,{leading:!0,trailing:!0});function Td(e){let t=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(e)[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${t}`}function jd(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Td,"getSocketHost"),o(jd,"_classPrivateFieldLooseBase");var Cd=0;function Ed(e){return"__private_"+Cd+++"_"+e}o(Ed,"_classPrivateFieldLooseKey");var Od=Ed("emitter"),Pd=Ed("events"),Fd=class{constructor(e){Object.defineProperty(this,Od,{writable:!0,value:void 0}),Object.defineProperty(this,Pd,{writable:!0,value:[]}),jd(this,Od)[Od]=e}on(e,t){return jd(this,Pd)[Pd].push([e,t]),jd(this,Od)[Od].on(e,t)}remove(){for(let[e,t]of jd(this,Pd)[Pd].splice(0))jd(this,Od)[Od].off(e,t)}};function Md(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Fd,"EventTracker"),o(Md,"_classPrivateFieldLooseBase");var Dd=0;function Ad(e){return"__private_"+Dd+++"_"+e}o(Ad,"_classPrivateFieldLooseKey");var Rd=Ad("aliveTimer"),Ld=Ad("isDone"),Id=Ad("onTimedOut"),Nd=Ad("timeout"),Bd=class{constructor(e,t){Object.defineProperty(this,Rd,{writable:!0,value:void 0}),Object.defineProperty(this,Ld,{writable:!0,value:!1}),Object.defineProperty(this,Id,{writable:!0,value:void 0}),Object.defineProperty(this,Nd,{writable:!0,value:void 0}),Md(this,Nd)[Nd]=e,Md(this,Id)[Id]=t}progress(){Md(this,Ld)[Ld]||Md(this,Nd)[Nd]>0&&(clearTimeout(Md(this,Rd)[Rd]),Md(this,Rd)[Rd]=setTimeout(Md(this,Id)[Id],Md(this,Nd)[Nd]))}done(){Md(this,Ld)[Ld]||(clearTimeout(Md(this,Rd)[Rd]),Md(this,Rd)[Rd]=null,Md(this,Ld)[Ld]=!0)}};o(Bd,"ProgressTimeout");var zd=Bd;function Ud(e){return!!e&&(0!==e.readyState&&4!==e.readyState||0===e.status)}o(Ud,"isNetworkError");var Hd=Ud;function Wd(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Wd,"_classPrivateFieldLooseBase");var Vd=0;function qd(e){return"__private_"+Vd+++"_"+e}function Gd(e,t){if(Hd(e))return new Vt(t,e);let i=new Yt("Upload error",{cause:t});return i.request=e,i}function Yd(e){return e.data.slice(0,e.data.size,e.meta.type)}function $d(e,t,i){(Array.isArray(i.allowedMetaFields)?i.allowedMetaFields:Object.keys(t)).forEach((i=>{e.append(i,t[i])}))}function Kd(e,t){let i=new FormData;$d(i,e.meta,t);let r=Yd(e);return e.name?i.append(t.fieldName,r,e.meta.name):i.append(t.fieldName,r),i}o(qd,"_classPrivateFieldLooseKey"),o(Gd,"buildResponseError"),o(Yd,"setTypeInBlob"),o($d,"addMetadata"),o(Kd,"createFormDataUpload");var Xd=o((e=>e.data),"createBareUpload"),Zd=qd("queueRequestSocketToken"),Jd=qd("getOptions"),Qd=qd("addEventHandlerForFile"),eu=qd("addEventHandlerIfFileStillExists"),tu=qd("uploadLocalFile"),iu=qd("requestSocketToken"),ru=qd("uploadRemoteFile"),su=class{constructor(e,t){Object.defineProperty(this,ru,{value:hu}),Object.defineProperty(this,tu,{value:lu}),Object.defineProperty(this,eu,{value:au}),Object.defineProperty(this,Qd,{value:ou}),Object.defineProperty(this,Jd,{value:nu}),Object.defineProperty(this,Zd,{writable:!0,value:void 0}),Object.defineProperty(this,iu,{writable:!0,value:async e=>{let t=Wd(this,Jd)[Jd](e),i=new(e.remote.providerOptions.provider?fi:oi)(this.uppy,e.remote.providerOptions),r=Array.isArray(t.allowedMetaFields)?t.allowedMetaFields:Object.keys(e.meta);return e.tus&&Object.assign(t,e.tus),(await i.post(e.remote.url,{...e.remote.body,protocol:"multipart",endpoint:t.endpoint,size:e.data.size,fieldname:t.fieldName,metadata:Object.fromEntries(r.map((t=>[t,e.meta[t]]))),httpMethod:t.method,useFormData:t.formData,headers:t.headers})).token}}),this.uppy=e,this.opts={validateStatus:e=>e>=200&&e<300,...t},this.requests=t[_d],this.uploaderEvents=Object.create(null),this.i18n=t.i18n,Wd(this,Zd)[Zd]=this.requests.wrapPromiseFunction(Wd(this,iu)[iu],{priority:-1})}uploadFile(e,t,i){let r=this.uppy.getFile(e);if(r.error)throw new Error(r.error);return r.isRemote?Wd(this,ru)[ru](r,t,i):Wd(this,tu)[tu](r,t,i)}connectToServerSocket(e){return new Promise(((t,i)=>{let r,s=Wd(this,Jd)[Jd](e),n=e.serverToken,a=Td(e.remote.companionUrl),l=o((()=>{null==r&&(r=new Ei({target:`${a}/api/${n}`}),r.on("progress",(t=>xd(this,t,e))),r.on("success",(i=>{let n=s.getResponseData(i.response.responseText,i.response),o=n[s.responseUrlFieldName],a={status:i.response.status,body:n,uploadURL:o,bytesUploaded:i.bytesUploaded};return this.uppy.emit("upload-success",e,a),h.done(),r.close(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),t()})),r.on("error",(t=>{let r=t.response,n=r?s.getResponseError(r.responseText,r):new Yt(t.error.message,{cause:t.error});this.uppy.emit("upload-error",e,n),h.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),i(n)})))}),"createSocket");this.uploaderEvents[e.id]=new Fd(this.uppy);let h=this.requests.run((()=>{var t;e.isPaused?null==(t=r)||t.send("pause",{}):l();return()=>r.close()}));Wd(this,Qd)[Qd]("file-removed",e.id,(()=>{var i;null==(i=r)||i.send("cancel",{}),h.abort(),t(`upload ${e.id} was removed`)})),Wd(this,eu)[eu]("cancel-all",e.id,(function(i){let{reason:s}=void 0===i?{}:i;var n;"user"===s&&(null==(n=r)||n.send("cancel",{}),h.abort());t(`upload ${e.id} was canceled`)}));let c=o((()=>{null==r?h.abort():(r.send("pause",{}),h.done()),h=this.requests.run((()=>(e.isPaused||(null==r?l():r.send("resume",{})),()=>r.close())))}),"onRetryRequest");Wd(this,Qd)[Qd]("upload-retry",e.id,c),Wd(this,eu)[eu]("retry-all",e.id,c)})).catch((t=>(this.uppy.emit("upload-error",e,t),Promise.reject(t))))}};function nu(e){var t;let{uppy:i}=this,r=i.getState().xhrUpload;return{...this.opts,...r||{},...e.xhrUpload||{},headers:{...this.opts.headers,...r?.headers,...null==(t=e.xhrUpload)?void 0:t.headers}}}function ou(e,t,i){this.uploaderEvents[t].on(e,(e=>{var r;let s=null!=(r=e?.id)?r:e;t===s&&i()}))}function au(e,t,i){var r=this;this.uploaderEvents[t].on(e,(function(){r.uppy.getFile(t)&&i(...arguments)}))}function lu(e,t,i){let r=Wd(this,Jd)[Jd](e);return this.uppy.log(`uploading ${t} of ${i}`),new Promise(((t,i)=>{let s=r.formData?Kd(e,r):Xd(e,r),n=new XMLHttpRequest;this.uploaderEvents[e.id]=new Fd(this.uppy);let o=new zd(r.timeout,(()=>{n.abort(),l.done();let t=new Error(this.i18n("timedOut",{seconds:Math.ceil(r.timeout/1e3)}));this.uppy.emit("upload-error",e,t),i(t)})),a=I();n.upload.addEventListener("loadstart",(()=>{this.uppy.log(`[AwsS3/XHRUpload] ${a} started`)})),n.upload.addEventListener("progress",(t=>{this.uppy.log(`[AwsS3/XHRUpload] ${a} progress: ${t.loaded} / ${t.total}`),o.progress(),t.lengthComputable&&this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded,bytesTotal:t.total})})),n.addEventListener("load",(s=>{if(this.uppy.log(`[AwsS3/XHRUpload] ${a} finished`),o.done(),l.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),r.validateStatus(s.target.status,n.responseText,n)){let i=r.getResponseData(n.responseText,n),o=i[r.responseUrlFieldName],a={status:s.target.status,body:i,uploadURL:o};return this.uppy.emit("upload-success",e,a),o&&this.uppy.log(`Download ${e.name} from ${o}`),t(e)}let h=r.getResponseData(n.responseText,n),c=Gd(n,r.getResponseError(n.responseText,n)),d={status:s.target.status,body:h};return this.uppy.emit("upload-error",e,c,d),i(c)})),n.addEventListener("error",(()=>{this.uppy.log(`[AwsS3/XHRUpload] ${a} errored`),o.done(),l.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null);let t=Gd(n,r.getResponseError(n.responseText,n));return this.uppy.emit("upload-error",e,t),i(t)})),n.open(r.method.toUpperCase(),r.endpoint,!0),n.withCredentials=Boolean(r.withCredentials),""!==r.responseType&&(n.responseType=r.responseType),Object.keys(r.headers).forEach((e=>{n.setRequestHeader(e,r.headers[e])}));let l=this.requests.run((()=>(n.send(s),()=>{o.done(),n.abort()})),{priority:1});Wd(this,Qd)[Qd]("file-removed",e.id,(()=>{l.abort(),i(new Error("File removed"))})),Wd(this,eu)[eu]("cancel-all",e.id,(function(e){let{reason:t}=void 0===e?{}:e;"user"===t&&l.abort(),i(new Error("Upload cancelled"))}))}))}async function hu(e){try{if(e.serverToken)return this.connectToServerSocket(e);let t=await Wd(this,Zd)[Zd](e);return this.uppy.getState().files[e.id]?(this.uppy.setFileState(e.id,{serverToken:t}),this.connectToServerSocket(this.uppy.getFile(e.id))):void 0}catch(t){throw this.uppy.emit("upload-error",e,t),t}}function cu(e){return e.replace(/;.*$/,"")}function du(e,t){let i=t.headers?t.headers["content-type"]:t.getResponseHeader("Content-Type");if("string"==typeof i){let t=cu(i).toLowerCase();if("application/xml"===t||"text/xml"===t||"text/html"===t&&/^<\?xml /.test(e))return!0}return!1}o(su,"MiniXHRUpload"),o(nu,"_getOptions2"),o(ou,"_addEventHandlerForFile2"),o(au,"_addEventHandlerIfFileStillExists2"),o(lu,"_uploadLocalFile2"),o(hu,"_uploadRemoteFile2"),o(cu,"removeMimeParameters"),o(du,"isXml");var uu,pu=du,fu={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function mu(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(mu,"_classPrivateFieldLooseBase");var gu=0;function yu(e){return"__private_"+gu+++"_"+e}o(yu,"_classPrivateFieldLooseKey");function vu(e,t){return new URL(t,e||void 0).toString()}function bu(e,t){let i=e.indexOf(`<${t}>`),r=e.indexOf(`</${t}>`,i);return-1!==i&&-1!==r?e.slice(i+t.length+2,r):""}function wu(e){if(e&&e.error){let t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function _u(e,t){if(null==t||"string"!=typeof t.url||"object"!=typeof t.fields&&null!=t.fields)throw new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${e.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(t)}' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);if(null!=t.method&&!/^p(u|os)t$/i.test(t.method))throw new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${e.name}', expected  'put' or 'post' but got '${t.method}' instead.\nSee https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`)}function ku(e,t){if(!pu(e,t))return;let i=bu(e,"Message");return new Error(i)}o(vu,"resolveUrl"),o(bu,"getXmlValue"),o(wu,"assertServerError"),o(_u,"validateParameters"),o(ku,"defaultGetResponseError");var Su=!1,xu=yu("client"),Tu=yu("requests"),ju=yu("uploader"),Cu=yu("handleUpload"),Eu=yu("setCompanionHeaders");uu=Symbol.for("uppy test: getClient");var Ou=class extends At{constructor(e,t){super(e,t),Object.defineProperty(this,xu,{writable:!0,value:void 0}),Object.defineProperty(this,Tu,{writable:!0,value:void 0}),Object.defineProperty(this,ju,{writable:!0,value:void 0}),Object.defineProperty(this,Cu,{writable:!0,value:e=>{let t=Object.create(null);function i(e){var i;let{id:r}=e;null==(i=t[r])||i.abort()}o(i,"onremove"),this.uppy.on("file-removed",i),e.forEach((e=>{let t=this.uppy.getFile(e);this.uppy.emit("upload-started",t)}));let r=mu(this,Tu)[Tu].wrapPromiseFunction((e=>this.opts.getUploadParameters(e))),s=e.length;return Promise.allSettled(e.map(((e,i)=>(t[e]=r(this.uppy.getFile(e)),t[e].then((r=>{delete t[e];let n=this.uppy.getFile(e);_u(n,r);let{method:o="post",url:a,fields:l,headers:h}=r,c={method:o,formData:"post"===o.toLowerCase(),endpoint:a,allowedMetaFields:l?Object.keys(l):[]};return h&&(c.headers=h),this.uppy.setFileState(n.id,{meta:{...n.meta,...l},xhrUpload:c}),mu(this,ju)[ju].uploadFile(n.id,i,s)})).catch((i=>{delete t[e];let r=this.uppy.getFile(e);return this.uppy.emit("upload-error",r,i),Promise.reject(i)})))))).finally((()=>{this.uppy.off("file-removed",i)}))}}),Object.defineProperty(this,Eu,{writable:!0,value:()=>(mu(this,xu)[xu].setCompanionHeaders(this.opts.companionHeaders),Promise.resolve())}),this.type="uploader",this.id=this.opts.id||"AwsS3",this.title="AWS S3",this.defaultLocale=fu;let i={timeout:3e4,limit:0,allowedMetaFields:[],getUploadParameters:this.getUploadParameters.bind(this),companionHeaders:{}};if(this.opts={...i,...t},void 0===t?.allowedMetaFields&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.i18nInit(),mu(this,xu)[xu]=new oi(e,t),mu(this,Tu)[Tu]=new md(this.opts.limit)}[uu](){return mu(this,xu)[xu]}get client(){return mu(this,xu)[xu]}set client(e){mu(this,xu)[xu]=e}getUploadParameters(e){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");let t=e.meta.name,{type:i}=e.meta,r=Object.fromEntries(this.opts.allowedMetaFields.filter((t=>null!=e.meta[t])).map((t=>[`metadata[${t}]`,e.meta[t].toString()]))),s=new URLSearchParams({filename:t,type:i,...r});return mu(this,xu)[xu].get(`s3/params?${s}`).then(wu)}install(){let{uppy:e}=this;function t(t,i){return pu(t,i)?{location:vu(i.responseURL,bu(t,"Location")),bucket:bu(t,"Bucket"),key:bu(t,"Key"),etag:bu(t,"ETag")}:"POST"===this.method.toUpperCase()?(Su||(e.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),Su=!0),{location:null}):i.responseURL?{location:i.responseURL.replace(/\?.*$/,"")}:{location:null}}e.addPreProcessor(mu(this,Eu)[Eu]),e.addUploader(mu(this,Cu)[Cu]),o(t,"defaultGetResponseData");let i={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,[_d]:mu(this,Tu)[Tu],responseType:"text",getResponseData:this.opts.getResponseData||t,getResponseError:ku};i.i18n=this.i18n,mu(this,ju)[ju]=new su(e,i)}uninstall(){this.uppy.removePreProcessor(mu(this,Eu)[Eu]),this.uppy.removeUploader(mu(this,Cu)[Cu])}};o(Ou,"AwsS3"),Ou.VERSION="3.0.4";var{AbortController:Pu}=globalThis,{AbortSignal:Fu}=globalThis,Mu=o((function(e,t){void 0===e&&(e="Aborted");let i=new DOMException(e,"AbortError");return null!=t&&C(t,"cause")&&Object.defineProperty(i,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),i}),"createAbortError");function Du(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Du,"_classPrivateFieldLooseBase");var Au=0;function Ru(e){return"__private_"+Au+++"_"+e}o(Ru,"_classPrivateFieldLooseKey");var Lu={getChunkSize:e=>Math.ceil(e.size/1e4),onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function Iu(e){if("string"==typeof e)return parseInt(e,10);if("number"==typeof e)return e;throw new TypeError("Expected a number")}o(Iu,"ensureInt");var Nu=Symbol("pausing upload, not an actual error"),Bu=Ru("abortController"),zu=Ru("chunks"),Uu=Ru("chunkState"),Hu=Ru("data"),Wu=Ru("file"),Vu=Ru("uploadPromise"),qu=Ru("onError"),Gu=Ru("onSuccess"),Yu=Ru("onReject"),$u=Ru("initChunks"),Ku=Ru("createUpload"),Xu=Ru("resumeUpload"),Zu=Ru("onPartProgress"),Ju=Ru("onPartComplete"),Qu=Ru("abortUpload"),ep=class{constructor(e,t){var i;Object.defineProperty(this,Qu,{value:sp}),Object.defineProperty(this,Xu,{value:rp}),Object.defineProperty(this,Ku,{value:ip}),Object.defineProperty(this,$u,{value:tp}),Object.defineProperty(this,Bu,{writable:!0,value:new Pu}),Object.defineProperty(this,zu,{writable:!0,value:void 0}),Object.defineProperty(this,Uu,{writable:!0,value:void 0}),Object.defineProperty(this,Hu,{writable:!0,value:void 0}),Object.defineProperty(this,Wu,{writable:!0,value:void 0}),Object.defineProperty(this,Vu,{writable:!0,value:void 0}),Object.defineProperty(this,qu,{writable:!0,value:void 0}),Object.defineProperty(this,Gu,{writable:!0,value:void 0}),Object.defineProperty(this,Yu,{writable:!0,value:e=>e?.cause===Nu?null:Du(this,qu)[qu](e)}),Object.defineProperty(this,Zu,{writable:!0,value:e=>t=>{if(!t.lengthComputable)return;let i=t.loaded;Du(this,Uu)[Uu][e].uploaded=Iu(i);let r=Du(this,Uu)[Uu].reduce(((e,t)=>e+t.uploaded),0);this.options.onProgress(r,Du(this,Hu)[Hu].size)}}),Object.defineProperty(this,Ju,{writable:!0,value:e=>t=>{Du(this,zu)[zu][e]=null,Du(this,Uu)[Uu][e].etag=t,Du(this,Uu)[Uu][e].done=!0;let i={PartNumber:e+1,ETag:t};this.options.onPartComplete(i)}}),this.options={...Lu,...t},null!=(i=this.options).getChunkSize||(i.getChunkSize=Lu.getChunkSize),Du(this,Hu)[Hu]=e,Du(this,Wu)[Wu]=t.file,Du(this,Gu)[Gu]=this.options.onSuccess,Du(this,qu)[qu]=this.options.onError,Du(this,$u)[$u]()}start(){Du(this,Vu)[Vu]?(Du(this,Bu)[Bu].signal.aborted||Du(this,Bu)[Bu].abort(Nu),Du(this,Bu)[Bu]=new Pu,Du(this,Xu)[Xu]()):Du(this,Ku)[Ku]()}pause(){Du(this,Bu)[Bu].abort(Nu),Du(this,Bu)[Bu]=new Pu}abort(e){var t;void 0===e&&(e=void 0),null!=(t=e)&&t.really?Du(this,Qu)[Qu]():this.pause()}get chunkState(){return Du(this,Uu)[Uu]}};function tp(){let e=this.options.getChunkSize(Du(this,Hu)[Hu]),t=Du(this,Hu)[Hu].size,i=Math.max(5242880,Math.ceil(t/1e4)),r=Math.max(e,i);if(0===Du(this,Hu)[Hu].size)Du(this,zu)[zu]=[Du(this,Hu)[Hu]],Du(this,Hu)[Hu].onProgress=Du(this,Zu)[Zu](0),Du(this,Hu)[Hu].onComplete=Du(this,Ju)[Ju](0);else{let e=Math.ceil(t/r);Du(this,zu)[zu]=Array(e);let i=0;for(let e=0;e<t;e+=r){let s=Math.min(t,e+r),n=Du(this,Hu)[Hu].slice(e,s);n.onProgress=Du(this,Zu)[Zu](i),n.onComplete=Du(this,Ju)[Ju](i),Du(this,zu)[zu][i++]=n}}Du(this,Uu)[Uu]=Du(this,zu)[zu].map((()=>({uploaded:0})))}function ip(){Du(this,Vu)[Vu]=this.options.companionComm.uploadFile(Du(this,Wu)[Wu],Du(this,zu)[zu],Du(this,Bu)[Bu].signal).then(Du(this,Gu)[Gu],Du(this,Yu)[Yu])}function rp(){Du(this,Vu)[Vu]=this.options.companionComm.resumeUploadFile(Du(this,Wu)[Wu],Du(this,zu)[zu],Du(this,Bu)[Bu].signal).then(Du(this,Gu)[Gu],Du(this,Yu)[Yu])}function sp(){Du(this,Bu)[Bu].abort(),this.options.companionComm.abortFileUpload(Du(this,Wu)[Wu]).catch((e=>this.options.log(e)))}o(ep,"MultipartUploader"),o(tp,"_initChunks2"),o(ip,"_createUpload2"),o(rp,"_resumeUpload2"),o(sp,"_abortUpload2");var np,op=ep;function ap(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(ap,"_classPrivateFieldLooseBase");var lp=0;function hp(e){return"__private_"+lp+++"_"+e}o(hp,"_classPrivateFieldLooseKey");function cp(e){if(e&&e.error){let t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function dp(e){if(null!=e&&e.aborted)throw Mu("The operation was aborted",{cause:e.reason})}o(cp,"assertServerError"),o(dp,"throwIfAborted");var up=hp("abortMultipartUpload"),pp=hp("cache"),fp=hp("createMultipartUpload"),mp=hp("fetchSignature"),gp=hp("listParts"),yp=hp("previousRetryDelay"),vp=hp("requests"),bp=hp("retryDelayIterator"),wp=hp("sendCompletionRequest"),_p=hp("setS3MultipartState"),kp=hp("uploadPartBytes"),Sp=hp("shouldRetry"),xp=class{constructor(e,t,i){Object.defineProperty(this,Sp,{value:Tp}),Object.defineProperty(this,up,{writable:!0,value:void 0}),Object.defineProperty(this,pp,{writable:!0,value:new WeakMap}),Object.defineProperty(this,fp,{writable:!0,value:void 0}),Object.defineProperty(this,mp,{writable:!0,value:void 0}),Object.defineProperty(this,gp,{writable:!0,value:void 0}),Object.defineProperty(this,yp,{writable:!0,value:void 0}),Object.defineProperty(this,vp,{writable:!0,value:void 0}),Object.defineProperty(this,bp,{writable:!0,value:void 0}),Object.defineProperty(this,wp,{writable:!0,value:void 0}),Object.defineProperty(this,_p,{writable:!0,value:void 0}),Object.defineProperty(this,kp,{writable:!0,value:void 0}),ap(this,vp)[vp]=e,ap(this,_p)[_p]=i,this.setOptions(t)}setOptions(e){let t=ap(this,vp)[vp];var i;("abortMultipartUpload"in e&&(ap(this,up)[up]=t.wrapPromiseFunction(e.abortMultipartUpload)),"createMultipartUpload"in e&&(ap(this,fp)[fp]=t.wrapPromiseFunction(e.createMultipartUpload,{priority:-1})),"signPart"in e&&(ap(this,mp)[mp]=t.wrapPromiseFunction(e.signPart)),"listParts"in e&&(ap(this,gp)[gp]=t.wrapPromiseFunction(e.listParts)),"completeMultipartUpload"in e&&(ap(this,wp)[wp]=t.wrapPromiseFunction(e.completeMultipartUpload)),"retryDelays"in e)&&(ap(this,bp)[bp]=null==(i=e.retryDelays)?void 0:i.values());"uploadPartBytes"in e&&(ap(this,kp)[kp]=t.wrapPromiseFunction(e.uploadPartBytes,{priority:1/0}))}async getUploadId(e,t){let i=ap(this,pp)[pp].get(e.data);if(null!=i)return i;let r=ap(this,fp)[fp](e,t),s=o((()=>{r.abort(t.reason),ap(this,pp)[pp].delete(e.data)}),"abortPromise");return t.addEventListener("abort",s,{once:!0}),ap(this,pp)[pp].set(e.data,r),r.then((async i=>{t.removeEventListener("abort",s),ap(this,_p)[_p](e,i),ap(this,pp)[pp].set(e.data,i)}),(()=>{t.removeEventListener("abort",s)})),r}async abortFileUpload(e){let t=ap(this,pp)[pp].get(e.data);null!=t&&await ap(this,up)[up](e,await t)}async uploadFile(e,t,i){dp(i);let{uploadId:r,key:s}=await this.getUploadId(e,i);dp(i);let n=await Promise.all(t.map(((t,r)=>this.uploadChunk(e,r+1,t,i))));return dp(i),ap(this,wp)[wp](e,{key:s,uploadId:r,parts:n,signal:i}).abortOn(i)}async resumeUploadFile(e,t,i){dp(i);let{uploadId:r,key:s}=await this.getUploadId(e,i);dp(i);let n=await ap(this,gp)[gp](e,{uploadId:r,key:s,signal:i}).abortOn(i);dp(i);let o=await Promise.all(t.map(((t,r)=>{let s=r+1,o=n.find((e=>{let{PartNumber:t}=e;return t===s}));return null==o?this.uploadChunk(e,s,t,i):{PartNumber:s,ETag:o.ETag}})));return dp(i),ap(this,wp)[wp](e,{key:s,uploadId:r,parts:o,signal:i}).abortOn(i)}async uploadChunk(e,t,i,r){dp(r);let{uploadId:s,key:n}=await this.getUploadId(e,r);for(dp(r);;){let o=await ap(this,mp)[mp](e,{uploadId:s,key:n,partNumber:t,body:i,signal:r}).abortOn(r);dp(r);try{return{PartNumber:t,...await ap(this,kp)[kp](o,i,r).abortOn(r)}}catch(e){if(!await ap(this,Sp)[Sp](e))throw e}}}};async function Tp(e){var t;let i=ap(this,vp)[vp],r=null==e||null==(t=e.source)?void 0:t.status;if(null==r)return!1;if(403===r&&"Request has expired"===e.message){if(!i.isPaused){if(1===i.limit||null==ap(this,yp)[yp]){var s;let e=null==(s=ap(this,bp)[bp])?void 0:s.next();if(null==e||e.done)return!1;ap(this,yp)[yp]=e.value}i.rateLimit(0),await new Promise((e=>setTimeout(e,ap(this,yp)[yp])))}}else if(429===r){if(!i.isPaused){var n;let e=null==(n=ap(this,bp)[bp])?void 0:n.next();if(null==e||e.done)return!1;i.rateLimit(e.value)}}else{if(r>400&&r<500&&409!==r)return!1;if(typeof navigator<"u"&&!1===navigator.onLine)i.isPaused||(i.pause(),window.addEventListener("online",(()=>{i.resume()}),{once:!0}));else{var o;let e=null==(o=ap(this,bp)[bp])?void 0:o.next();if(null==e||e.done)return!1;await new Promise((t=>setTimeout(t,e.value)))}}return!0}o(xp,"HTTPCommunicationQueue"),o(Tp,"_shouldRetry2");var jp=hp("queueRequestSocketToken"),Cp=hp("companionCommunicationQueue"),Ep=hp("client"),Op=hp("setS3MultipartState"),Pp=hp("requestSocketToken"),Fp=hp("setCompanionHeaders");np=Symbol.for("uppy test: getClient");var Mp=class extends At{constructor(e,t){var i;super(e,t),Object.defineProperty(this,jp,{writable:!0,value:void 0}),Object.defineProperty(this,Cp,{writable:!0,value:void 0}),Object.defineProperty(this,Ep,{writable:!0,value:void 0}),Object.defineProperty(this,Op,{writable:!0,value:(e,t)=>{let{key:i,uploadId:r}=t,s=this.uppy.getFile(e.id);this.uppy.setFileState(e.id,{s3Multipart:{...s.s3Multipart,key:i,uploadId:r}})}}),Object.defineProperty(this,Pp,{writable:!0,value:async e=>{let t=new(e.remote.providerOptions.provider?fi:oi)(this.uppy,e.remote.providerOptions),i={...this.opts};if(e.tus&&Object.assign(i,e.tus),null==e.remote.url)throw new Error("Cannot connect to an undefined URL");return(await t.post(e.remote.url,{...e.remote.body,protocol:"s3-multipart",size:e.data.size,metadata:e.meta})).token}}),Object.defineProperty(this,Fp,{writable:!0,value:()=>{ap(this,Ep)[Ep].setCompanionHeaders(this.opts.companionHeaders)}}),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",this.title="AWS S3 Multipart",ap(this,Ep)[Ep]=new oi(e,t);let r={limit:6,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:this.createMultipartUpload.bind(this),listParts:this.listParts.bind(this),abortMultipartUpload:this.abortMultipartUpload.bind(this),completeMultipartUpload:this.completeMultipartUpload.bind(this),signPart:this.signPart.bind(this),uploadPartBytes:Mp.uploadPartBytes,companionHeaders:{}};this.opts={...r,...t},null!=t?.prepareUploadParts&&null==t.signPart&&(this.opts.signPart=async(e,i)=>{let{uploadId:r,key:s,partNumber:n,body:o,signal:a}=i,{presignedUrls:l,headers:h}=await t.prepareUploadParts(e,{uploadId:r,key:s,parts:[{number:n,chunk:o}],signal:a});return{url:l?.[n],headers:h?.[n]}}),this.upload=this.upload.bind(this),this.requests=null!=(i=this.opts.rateLimitedQueue)?i:new md(this.opts.limit),ap(this,Cp)[Cp]=new xp(this.requests,this.opts,ap(this,Op)[Op]),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),ap(this,jp)[jp]=this.requests.wrapPromiseFunction(ap(this,Pp)[Pp],{priority:-1})}[np](){return ap(this,Ep)[Ep]}setOptions(e){return ap(this,Cp)[Cp].setOptions(e),super.setOptions(e)}resetUploaderReferences(e,t){void 0===t&&(t={}),this.uploaders[e]&&(this.uploaders[e].abort({really:t.abort||!1}),this.uploaders[e]=null),this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)}assertHost(e){if(!this.opts.companionUrl)throw new Error(`Expected a \`companionUrl\` option containing a Companion address, or if you are not using Companion, a custom \`${e}\` implementation.`)}createMultipartUpload(e,t){this.assertHost("createMultipartUpload"),dp(t);let i={};return Object.keys(e.meta||{}).forEach((t=>{null!=e.meta[t]&&(i[t]=e.meta[t].toString())})),ap(this,Ep)[Ep].post("s3/multipart",{filename:e.name,type:e.type,metadata:i},{signal:t}).then(cp)}listParts(e,t,i){let{key:r,uploadId:s}=t;this.assertHost("listParts"),dp(i);let n=encodeURIComponent(r);return ap(this,Ep)[Ep].get(`s3/multipart/${s}?key=${n}`,{signal:i}).then(cp)}completeMultipartUpload(e,t,i){let{key:r,uploadId:s,parts:n}=t;this.assertHost("completeMultipartUpload"),dp(i);let o=encodeURIComponent(r),a=encodeURIComponent(s);return ap(this,Ep)[Ep].post(`s3/multipart/${a}/complete?key=${o}`,{parts:n},{signal:i}).then(cp)}signPart(e,t){let{uploadId:i,key:r,partNumber:s,signal:n}=t;if(this.assertHost("signPart"),dp(n),null==i||null==r||null==s)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");let o=encodeURIComponent(r);return ap(this,Ep)[Ep].get(`s3/multipart/${i}/${s}?key=${o}`,{signal:n}).then(cp)}abortMultipartUpload(e,t,i){let{key:r,uploadId:s}=t;this.assertHost("abortMultipartUpload");let n=encodeURIComponent(r),o=encodeURIComponent(s);return ap(this,Ep)[Ep].delete(`s3/multipart/${o}?key=${n}`,void 0,{signal:i}).then(cp)}static async uploadPartBytes(e,t,i){let{url:r,expires:s,headers:n}=e;if(dp(i),null==r)throw new Error("Cannot upload to an undefined URL");return new Promise(((e,a)=>{let l=new XMLHttpRequest;function h(){l.abort()}function c(){i.removeEventListener("abort",h)}l.open("PUT",r,!0),n&&Object.keys(n).forEach((e=>{l.setRequestHeader(e,n[e])})),l.responseType="text","number"==typeof s&&(l.timeout=1e3*s),o(h,"onabort"),o(c,"cleanup"),i.addEventListener("abort",h),l.upload.addEventListener("progress",t.onProgress),l.addEventListener("abort",(()=>{c(),a(Mu())})),l.addEventListener("timeout",(()=>{c();let e=new Error("Request has expired");e.source={status:403},a(e)})),l.addEventListener("load",(i=>{if(c(),403===i.target.status&&i.target.responseText.includes("<Message>Request has expired</Message>")){let e=new Error("Request has expired");return e.source=i.target,void a(e)}if(i.target.status<200||i.target.status>=300){let e=new Error("Non 2xx");return e.source=i.target,void a(e)}null==t.onProgress||t.onProgress(t.size);let r=i.target.getResponseHeader("ETag");null!==r?(null==t.onComplete||t.onComplete(r),e({ETag:r})):a(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."))})),l.addEventListener("error",(e=>{c();let t=new Error("Unknown error");t.source=e.target,a(t)})),l.send(t)}))}uploadFile(e){var t=this;return new Promise(((i,r)=>{let s=o(((t,i)=>{this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t,bytesTotal:i})}),"onProgress"),n=o((t=>{this.uppy.log(t),this.uppy.emit("upload-error",e,t),this.resetUploaderReferences(e.id),r(t)}),"onError"),a=o((t=>{let r=h,s={body:{...t},uploadURL:t.location};this.resetUploaderReferences(e.id);let n=this.uppy.getFile(e.id);this.uppy.emit("upload-success",n||e,s),t.location&&this.uppy.log(`Download ${e.name} from ${t.location}`),i(r)}),"onSuccess"),l=o((t=>{let i=this.uppy.getFile(e.id);!i||this.uppy.emit("s3-multipart:part-uploaded",i,t)}),"onPartComplete"),h=new op(e.data,{companionComm:ap(this,Cp)[Cp],log:function(){return t.uppy.log(...arguments)},getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):null,onProgress:s,onError:n,onSuccess:a,onPartComplete:l,file:e,...e.s3Multipart});this.uploaders[e.id]=h,this.uploaderEvents[e.id]=new Fd(this.uppy),this.onFileRemove(e.id,(t=>{h.abort(),this.resetUploaderReferences(e.id,{abort:!0}),i(`upload ${t.id} was removed`)})),this.onCancelAll(e.id,(function(r){let{reason:s}=void 0===r?{}:r;"user"===s&&(h.abort(),t.resetUploaderReferences(e.id,{abort:!0})),i(`upload ${e.id} was canceled`)})),this.onFilePause(e.id,(e=>{e?h.pause():h.start()})),this.onPauseAll(e.id,(()=>{h.pause()})),this.onResumeAll(e.id,(()=>{h.start()})),(!e.progress.uploadStarted||!e.isRestored)&&(h.start(),this.uppy.emit("upload-started",e))}))}async uploadRemote(e){this.resetUploaderReferences(e.id),(!e.progress.uploadStarted||!e.isRestored)&&this.uppy.emit("upload-started",e);try{if(e.serverToken)return this.connectToServerSocket(e);let t=await ap(this,jp)[jp](e);return this.uppy.setFileState(e.id,{serverToken:t}),this.connectToServerSocket(this.uppy.getFile(e.id))}catch(t){throw this.uppy.emit("upload-error",e,t),t}}async connectToServerSocket(e){var t=this;return new Promise(((i,r)=>{let s,n=e.serverToken,o=Td(e.remote.companionUrl),a=new Ei({target:`${o}/api/${n}`});this.uploaderSockets[e.id]=a,this.uploaderEvents[e.id]=new Fd(this.uppy),this.onFileRemove(e.id,(()=>{s.abort(),a.send("cancel",{}),this.resetUploaderReferences(e.id,{abort:!0}),i(`upload ${e.id} was removed`)})),this.onFilePause(e.id,(e=>{e?(s.abort(),a.send("pause",{})):(s.abort(),s=this.requests.run((()=>(a.send("resume",{}),()=>{}))))})),this.onPauseAll(e.id,(()=>{s.abort(),a.send("pause",{})})),this.onCancelAll(e.id,(function(r){let{reason:n}=void 0===r?{}:r;"user"===n&&(s.abort(),a.send("cancel",{}),t.resetUploaderReferences(e.id)),i(`upload ${e.id} was canceled`)})),this.onResumeAll(e.id,(()=>{s.abort(),e.error&&a.send("pause",{}),s=this.requests.run((()=>{a.send("resume",{})}))})),this.onRetry(e.id,(()=>{a.isOpen&&(a.send("pause",{}),a.send("resume",{}))})),this.onRetryAll(e.id,(()=>{a.isOpen&&(a.send("pause",{}),a.send("resume",{}))})),a.on("progress",(t=>xd(this,t,e))),a.on("error",(t=>{this.uppy.emit("upload-error",e,new Error(t.error)),this.resetUploaderReferences(e.id),s.done(),r(new Error(t.error))})),a.on("success",(t=>{let r={uploadURL:t.url};this.uppy.emit("upload-success",e,r),this.resetUploaderReferences(e.id),s.done(),i()})),s=this.requests.run((()=>(e.isPaused&&a.send("pause",{}),()=>{})))}))}async upload(e){if(0===e.length)return;let t=e.map((e=>{let t=this.uppy.getFile(e);return t.isRemote?this.uploadRemote(t):this.uploadFile(t)}));return Promise.all(t)}onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",(i=>{e===i.id&&t(i.id)}))}onFilePause(e,t){this.uploaderEvents[e].on("upload-pause",((i,r)=>{e===i&&t(r)}))}onRetry(e,t){this.uploaderEvents[e].on("upload-retry",(i=>{e===i&&t()}))}onRetryAll(e,t){this.uploaderEvents[e].on("retry-all",(()=>{!this.uppy.getFile(e)||t()}))}onPauseAll(e,t){this.uploaderEvents[e].on("pause-all",(()=>{!this.uppy.getFile(e)||t()}))}onCancelAll(e,t){var i=this;this.uploaderEvents[e].on("cancel-all",(function(){!i.uppy.getFile(e)||t(...arguments)}))}onResumeAll(e,t){this.uploaderEvents[e].on("resume-all",(()=>{!this.uppy.getFile(e)||t()}))}install(){let{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,resumableUploads:!0}}),this.uppy.addPreProcessor(ap(this,Fp)[Fp]),this.uppy.addUploader(this.upload)}uninstall(){let{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,resumableUploads:!1}}),this.uppy.removePreProcessor(ap(this,Fp)[Fp]),this.uppy.removeUploader(this.upload)}};o(Mp,"AwsS3Multipart"),Mp.VERSION="3.1.1";var Dp="3.7.2",Ap=Dp,Rp="function"==typeof atob,Lp="function"==typeof btoa,Ip="function"==typeof Buffer,Np="function"==typeof TextDecoder?new TextDecoder:void 0,Bp="function"==typeof TextEncoder?new TextEncoder:void 0,zp=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Up=(e=>{let t={};return e.forEach(((e,i)=>t[e]=i)),t})(zp),Hp=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Wp=String.fromCharCode.bind(String),Vp="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=(e=>e))=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),qp=o((e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),"_mkUriSafe"),Gp=o((e=>e.replace(/[^A-Za-z0-9\+\/]/g,"")),"_tidyB64"),Yp=o((e=>{let t,i,r,s,n="",o=e.length%3;for(let o=0;o<e.length;){if((i=e.charCodeAt(o++))>255||(r=e.charCodeAt(o++))>255||(s=e.charCodeAt(o++))>255)throw new TypeError("invalid character found");t=i<<16|r<<8|s,n+=zp[t>>18&63]+zp[t>>12&63]+zp[t>>6&63]+zp[63&t]}return o?n.slice(0,o-3)+"===".substring(o):n}),"btoaPolyfill"),$p=Lp?e=>btoa(e):Ip?e=>Buffer.from(e,"binary").toString("base64"):Yp,Kp=Ip?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let i=0,r=e.length;i<r;i+=4096)t.push(Wp.apply(null,e.subarray(i,i+4096)));return $p(t.join(""))},Xp=o(((e,t=!1)=>t?qp(Kp(e)):Kp(e)),"fromUint8Array"),Zp=o((e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Wp(192|t>>>6)+Wp(128|63&t):Wp(224|t>>>12&15)+Wp(128|t>>>6&63)+Wp(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Wp(240|t>>>18&7)+Wp(128|t>>>12&63)+Wp(128|t>>>6&63)+Wp(128|63&t)}),"cb_utob"),Jp=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qp=o((e=>e.replace(Jp,Zp)),"utob"),ef=Ip?e=>Buffer.from(e,"utf8").toString("base64"):Bp?e=>Kp(Bp.encode(e)):e=>$p(Qp(e)),tf=o(((e,t=!1)=>t?qp(ef(e)):ef(e)),"encode"),rf=o((e=>tf(e,!0)),"encodeURI"),sf=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,nf=o((e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Wp(55296+(t>>>10))+Wp(56320+(1023&t));case 3:return Wp((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Wp((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}}),"cb_btou"),of=o((e=>e.replace(sf,nf)),"btou"),af=o((e=>{if(e=e.replace(/\s+/g,""),!Hp.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,i,r,s="";for(let n=0;n<e.length;)t=Up[e.charAt(n++)]<<18|Up[e.charAt(n++)]<<12|(i=Up[e.charAt(n++)])<<6|(r=Up[e.charAt(n++)]),s+=64===i?Wp(t>>16&255):64===r?Wp(t>>16&255,t>>8&255):Wp(t>>16&255,t>>8&255,255&t);return s}),"atobPolyfill"),lf=Rp?e=>atob(Gp(e)):Ip?e=>Buffer.from(e,"base64").toString("binary"):af,hf=Ip?e=>Vp(Buffer.from(e,"base64")):e=>Vp(lf(e),(e=>e.charCodeAt(0))),cf=o((e=>hf(uf(e))),"toUint8Array"),df=Ip?e=>Buffer.from(e,"base64").toString("utf8"):Np?e=>Np.decode(hf(e)):e=>of(lf(e)),uf=o((e=>Gp(e.replace(/[-_]/g,(e=>"-"==e?"+":"/")))),"_unURI"),pf=o((e=>df(uf(e))),"decode"),ff=o((e=>{if("string"!=typeof e)return!1;let t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)}),"isValid"),mf=o((e=>({value:e,enumerable:!1,writable:!0,configurable:!0})),"_noEnum"),gf=o((function(){let e=o(((e,t)=>Object.defineProperty(String.prototype,e,mf(t))),"_add");e("fromBase64",(function(){return pf(this)})),e("toBase64",(function(e){return tf(this,e)})),e("toBase64URI",(function(){return tf(this,!0)})),e("toBase64URL",(function(){return tf(this,!0)})),e("toUint8Array",(function(){return cf(this)}))}),"extendString"),yf=o((function(){let e=o(((e,t)=>Object.defineProperty(Uint8Array.prototype,e,mf(t))),"_add");e("toBase64",(function(e){return Xp(this,e)})),e("toBase64URI",(function(){return Xp(this,!0)})),e("toBase64URL",(function(){return Xp(this,!0)}))}),"extendUint8Array"),vf=o((()=>{gf(),yf()}),"extendBuiltins"),bf={version:Dp,VERSION:Ap,atob:lf,atobPolyfill:af,btoa:$p,btoaPolyfill:Yp,fromBase64:pf,toBase64:tf,encode:tf,encodeURI:rf,encodeURL:rf,utob:Qp,btou:of,decode:pf,isValid:ff,fromUint8Array:Xp,toUint8Array:cf,extendString:gf,extendUint8Array:yf,extendBuiltins:vf},wf=h(S());function _f(e){return(_f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kf(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sf(e,t,i){return t&&kf(e.prototype,t),i&&kf(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function xf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Tf(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Df(e,t)}function jf(e){var t=Ff();return o((function(){var i,r=Af(e);if(t){var s=Af(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Cf(this,i)}),"_createSuperInternal")}function Cf(e,t){if(t&&("object"===_f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ef(e)}function Ef(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Of(e){var t="function"==typeof Map?new Map:void 0;return Of=o((function(e){if(null===e||!Mf(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return Pf(e,arguments,Af(this).constructor)}return o(i,"Wrapper"),i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Df(i,e)}),"_wrapNativeSuper"),Of(e)}function Pf(e,t,i){return(Pf=Ff()?Reflect.construct.bind():o((function(e,t,i){var r=[null];r.push.apply(r,t);var s=new(Function.bind.apply(e,r));return i&&Df(s,i.prototype),s}),"_construct")).apply(null,arguments)}function Ff(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function Mf(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function Df(e,t){return(Df=Object.setPrototypeOf?Object.setPrototypeOf.bind():o((function(e,t){return e.__proto__=t,e}),"_setPrototypeOf"))(e,t)}function Af(e){return(Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():o((function(e){return e.__proto__||Object.getPrototypeOf(e)}),"_getPrototypeOf"))(e)}o(_f,"_typeof"),o(kf,"_defineProperties"),o(Sf,"_createClass"),o(xf,"_classCallCheck"),o(Tf,"_inherits"),o(jf,"_createSuper"),o(Cf,"_possibleConstructorReturn"),o(Ef,"_assertThisInitialized"),o(Of,"_wrapNativeSuper"),o(Pf,"_construct"),o(Ff,"_isNativeReflectConstruct"),o(Mf,"_isNativeFunction"),o(Df,"_setPrototypeOf"),o(Af,"_getPrototypeOf");var Rf=function(e){Tf(i,e);var t=jf(i);function i(e){var r,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(xf(this,i),(r=t.call(this,e)).originalRequest=n,r.originalResponse=o,r.causingError=s,null!=s&&(e+=", caused by ".concat(s.toString())),null!=n){var a=n.getHeader("X-Request-ID")||"n/a",l=n.getMethod(),h=n.getURL(),c=o?o.getStatus():"n/a",d=o?o.getBody()||"":"n/a";e+=", originated from request (method: ".concat(l,", url: ").concat(h,", response code: ").concat(c,", response text: ").concat(d,", request id: ").concat(a,")")}return r.message=e,r}return o(i,"DetailedError"),Sf(i)}(Of(Error)),Lf=Rf;function If(e){}function Nf(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Bf(e,t){return Vf(e)||Wf(e,t)||Uf(e,t)||zf()}function zf(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Uf(e,t){if(e){if("string"==typeof e)return Hf(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hf(e,t)}}function Hf(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}function Wf(e,t){var i=null==e?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(null!=i){var r,s,n=[],o=!0,a=!1;try{for(i=i.call(e);!(o=(r=i.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){a=!0,s=e}finally{try{!o&&null!=i.return&&i.return()}finally{if(a)throw s}}return n}}function Vf(e){if(Array.isArray(e))return e}function qf(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function Gf(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qf(Object(i),!0).forEach((function(t){Yf(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qf(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Yf(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kf(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t,i){return t&&Kf(e.prototype,t),i&&Kf(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}o(If,"log"),o(Nf,"uuid"),o(Bf,"_slicedToArray"),o(zf,"_nonIterableRest"),o(Uf,"_unsupportedIterableToArray"),o(Hf,"_arrayLikeToArray"),o(Wf,"_iterableToArrayLimit"),o(Vf,"_arrayWithHoles"),o(qf,"ownKeys"),o(Gf,"_objectSpread"),o(Yf,"_defineProperty"),o($f,"_classCallCheck"),o(Kf,"_defineProperties"),o(Xf,"_createClass");var Zf=function(){function e(t,i){$f(this,e),"resume"in i&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=i,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=t,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return o(e,"BaseUpload"),Xf(e,[{key:"findPreviousUploads",value:o((function(){var e=this;return this.options.fingerprint(this.file,this.options).then((function(t){return e._urlStorage.findUploadsByFingerprint(t)}))}),"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:o((function(e){this.url=e.uploadUrl||null,this._parallelUploadUrls=e.parallelUploadUrls||null,this._urlStorageKey=e.urlStorageKey}),"resumeFromPreviousUpload")},{key:"start",value:o((function(){var e=this,t=this.file;if(t)if(this.options.endpoint||this.options.uploadUrl||this.url){var i=this.options.retryDelays;if(null==i||"[object Array]"===Object.prototype.toString.call(i)){if(this.options.parallelUploads>1)for(var r=0,s=["uploadUrl","uploadSize","uploadLengthDeferred"];r<s.length;r++){var n=s[r];if(this.options[n])return void this._emitError(new Error("tus: cannot use the ".concat(n," option when parallelUploads is enabled")))}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1)return void this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length)return void this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"))}this.options.fingerprint(t,this.options).then((function(i){return null==i||"Calculated fingerprint: ".concat(i),e._fingerprint=i,e._source?e._source:e.options.fileReader.openFile(t,e.options.chunkSize)})).then((function(t){if(e._source=t,e.options.uploadLengthDeferred)e._size=null;else if(null!=e.options.uploadSize){if(e._size=Number(e.options.uploadSize),Number.isNaN(e._size))return void e._emitError(new Error("tus: cannot convert `uploadSize` option into a number"))}else if(e._size=e._source.size,null==e._size)return void e._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));e.options.parallelUploads>1||null!=e._parallelUploadUrls?e._startParallelUpload():e._startSingleUpload()})).catch((function(t){e._emitError(t)}))}else this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"))}else this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));else this._emitError(new Error("tus: no file or stream to upload provided"))}),"start")},{key:"_startParallelUpload",value:o((function(){var t,i=this,r=this._size,s=0;this._parallelUploads=[];var n=null!=this._parallelUploadUrls?this._parallelUploadUrls.length:this.options.parallelUploads,a=null!==(t=this.options.parallelUploadBoundaries)&&void 0!==t?t:nm(this._source.size,n);this._parallelUploadUrls&&a.forEach((function(e,t){e.uploadUrl=i._parallelUploadUrls[t]||null})),this._parallelUploadUrls=new Array(a.length);var l,h=a.map((function(t,n){var l=0;return i._source.slice(t.start,t.end).then((function(h){var c=h.value;return new Promise((function(h,d){var u=Gf(Gf({},i.options),{},{uploadUrl:t.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:Gf(Gf({},i.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:h,onError:d,onProgress:o((function(e){s=s-l+e,l=e,i._emitProgress(s,r)}),"onProgress"),_onUploadUrlAvailable:o((function(){i._parallelUploadUrls[n]=p.url,i._parallelUploadUrls.filter((function(e){return Boolean(e)})).length===a.length&&i._saveUploadInUrlStorage()}),"_onUploadUrlAvailable")}),p=new e(c,u);p.start(),i._parallelUploads.push(p)}))}))}));Promise.all(h).then((function(){(l=i._openRequest("POST",i.options.endpoint)).setHeader("Upload-Concat","final;".concat(i._parallelUploadUrls.join(" ")));var e=Jf(i.options.metadata);return""!==e&&l.setHeader("Upload-Metadata",e),i._sendRequest(l,null)})).then((function(e){if(Qf(e.getStatus(),200)){var t=e.getHeader("Location");null!=t?(i.url=sm(i.options.endpoint,t),"Created upload at ".concat(i.url),i._emitSuccess()):i._emitHttpError(l,e,"tus: invalid or missing Location header")}else i._emitHttpError(l,e,"tus: unexpected response while creating upload")})).catch((function(e){i._emitError(e)}))}),"_startParallelUpload")},{key:"_startSingleUpload",value:o((function(){return this._aborted=!1,null!=this.url?("Resuming upload from previous URL: ".concat(this.url),void this._resumeUpload()):null!=this.options.uploadUrl?("Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,void this._resumeUpload()):void this._createUpload()}),"_startSingleUpload")},{key:"abort",value:o((function(t){var i=this;return null!=this._parallelUploads&&this._parallelUploads.forEach((function(e){e.abort(t)})),null!==this._req&&this._req.abort(),this._aborted=!0,null!=this._retryTimeout&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),t&&null!=this.url?e.terminate(this.url,this.options).then((function(){return i._removeFromUrlStorage()})):Promise.resolve()}),"abort")},{key:"_emitHttpError",value:o((function(e,t,i,r){this._emitError(new Lf(i,r,e,t))}),"_emitHttpError")},{key:"_emitError",value:o((function(e){var t=this;if(!this._aborted){if(null!=this.options.retryDelays)if(null!=this._offset&&this._offset>this._offsetBeforeRetry&&(this._retryAttempt=0),rm(e,this._retryAttempt,this.options)){var i=this.options.retryDelays[this._retryAttempt++];return this._offsetBeforeRetry=this._offset,void(this._retryTimeout=setTimeout((function(){t.start()}),i))}if("function"!=typeof this.options.onError)throw e;this.options.onError(e)}}),"_emitError")},{key:"_emitSuccess",value:o((function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),"function"==typeof this.options.onSuccess&&this.options.onSuccess()}),"_emitSuccess")},{key:"_emitProgress",value:o((function(e,t){"function"==typeof this.options.onProgress&&this.options.onProgress(e,t)}),"_emitProgress")},{key:"_emitChunkComplete",value:o((function(e,t,i){"function"==typeof this.options.onChunkComplete&&this.options.onChunkComplete(e,t,i)}),"_emitChunkComplete")},{key:"_createUpload",value:o((function(){var e=this;if(this.options.endpoint){var t=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?t.setHeader("Upload-Defer-Length",1):t.setHeader("Upload-Length",this._size);var i,r=Jf(this.options.metadata);""!==r&&t.setHeader("Upload-Metadata",r),this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,i=this._addChunkToRequest(t)):i=this._sendRequest(t,null),i.then((function(i){if(Qf(i.getStatus(),200)){var r=i.getHeader("Location");if(null!=r)return e.url=sm(e.options.endpoint,r),"Created upload at ".concat(e.url),"function"==typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),0===e._size?(e._emitSuccess(),void e._source.close()):void e._saveUploadInUrlStorage().then((function(){e.options.uploadDataDuringCreation?e._handleUploadResponse(t,i):(e._offset=0,e._performUpload())}));e._emitHttpError(t,i,"tus: invalid or missing Location header")}else e._emitHttpError(t,i,"tus: unexpected response while creating upload")})).catch((function(i){e._emitHttpError(t,null,"tus: failed to create upload",i)}))}else this._emitError(new Error("tus: unable to create upload because no endpoint is provided"))}),"_createUpload")},{key:"_resumeUpload",value:o((function(){var e=this,t=this._openRequest("HEAD",this.url);this._sendRequest(t,null).then((function(i){var r=i.getStatus();if(!Qf(r,200))return 423===r?void e._emitHttpError(t,i,"tus: upload is currently locked; retry later"):(Qf(r,400)&&e._removeFromUrlStorage(),e.options.endpoint?(e.url=null,void e._createUpload()):void e._emitHttpError(t,i,"tus: unable to resume upload (new upload cannot be created without an endpoint)"));var s=parseInt(i.getHeader("Upload-Offset"),10);if(Number.isNaN(s))e._emitHttpError(t,i,"tus: invalid or missing offset value");else{var n=parseInt(i.getHeader("Upload-Length"),10);!Number.isNaN(n)||e.options.uploadLengthDeferred?("function"==typeof e.options._onUploadUrlAvailable&&e.options._onUploadUrlAvailable(),e._saveUploadInUrlStorage().then((function(){if(s===n)return e._emitProgress(n,n),void e._emitSuccess();e._offset=s,e._performUpload()}))):e._emitHttpError(t,i,"tus: invalid or missing length value")}})).catch((function(i){e._emitHttpError(t,null,"tus: failed to resume upload",i)}))}),"_resumeUpload")},{key:"_performUpload",value:o((function(){var e,t=this;this._aborted||(this.options.overridePatchMethod?(e=this._openRequest("POST",this.url)).setHeader("X-HTTP-Method-Override","PATCH"):e=this._openRequest("PATCH",this.url),e.setHeader("Upload-Offset",this._offset),this._addChunkToRequest(e).then((function(i){Qf(i.getStatus(),200)?t._handleUploadResponse(e,i):t._emitHttpError(e,i,"tus: unexpected response while uploading chunk")})).catch((function(i){t._aborted||t._emitHttpError(e,null,"tus: failed to upload chunk at offset ".concat(t._offset),i)})))}),"_performUpload")},{key:"_addChunkToRequest",value:o((function(e){var t=this,i=this._offset,r=this._offset+this.options.chunkSize;return e.setProgressHandler((function(e){t._emitProgress(i+e,t._size)})),e.setHeader("Content-Type","application/offset+octet-stream"),(r===1/0||r>this._size)&&!this.options.uploadLengthDeferred&&(r=this._size),this._source.slice(i,r).then((function(i){var r=i.value,s=i.done;return t.options.uploadLengthDeferred&&s&&(t._size=t._offset+(r&&r.size?r.size:0),e.setHeader("Upload-Length",t._size)),null===r?t._sendRequest(e):(t._emitProgress(t._offset,t._size),t._sendRequest(e,r))}))}),"_addChunkToRequest")},{key:"_handleUploadResponse",value:o((function(e,t){var i=parseInt(t.getHeader("Upload-Offset"),10);if(!Number.isNaN(i))return this._emitProgress(i,this._size),this._emitChunkComplete(i-this._offset,i,this._size),this._offset=i,i===this._size?(this._emitSuccess(),void this._source.close()):void this._performUpload();this._emitHttpError(e,t,"tus: invalid or missing offset value")}),"_handleUploadResponse")},{key:"_openRequest",value:o((function(e,t){var i=em(e,t,this.options);return this._req=i,i}),"_openRequest")},{key:"_removeFromUrlStorage",value:o((function(){var e=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch((function(t){e._emitError(t)})),this._urlStorageKey=null)}),"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:o((function(){var e=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||null!==this._urlStorageKey)return Promise.resolve();var t={size:this._size,metadata:this.options.metadata,creationTime:(new Date).toString()};return this._parallelUploads?t.parallelUploadUrls=this._parallelUploadUrls:t.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,t).then((function(t){e._urlStorageKey=t}))}),"_saveUploadInUrlStorage")},{key:"_sendRequest",value:o((function(e){return tm(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,this.options)}),"_sendRequest")}],[{key:"terminate",value:o((function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=em("DELETE",t,i);return tm(r,null,i).then((function(e){if(204!==e.getStatus())throw new Lf("tus: unexpected response while terminating upload",null,r,e)})).catch((function(s){if(s instanceof Lf||(s=new Lf("tus: failed to terminate upload",s,r,null)),!rm(s,0,i))throw s;var n=i.retryDelays[0],o=i.retryDelays.slice(1),a=Gf(Gf({},i),{},{retryDelays:o});return new Promise((function(e){return setTimeout(e,n)})).then((function(){return e.terminate(t,a)}))}))}),"terminate")}]),e}();function Jf(e){return Object.entries(e).map((function(e){var t=Bf(e,2),i=t[0],r=t[1];return"".concat(i," ").concat(bf.encode(String(r)))})).join(",")}function Qf(e,t){return e>=t&&e<t+100}function em(e,t,i){var r=i.httpStack.createRequest(e,t);r.setHeader("Tus-Resumable","1.0.0");var s=i.headers||{};if(Object.entries(s).forEach((function(e){var t=Bf(e,2),i=t[0],s=t[1];r.setHeader(i,s)})),i.addRequestId){var n=Nf();r.setHeader("X-Request-ID",n)}return r}function tm(e,t,i){return("function"==typeof i.onBeforeRequest?Promise.resolve(i.onBeforeRequest(e)):Promise.resolve()).then((function(){return e.send(t).then((function(t){return("function"==typeof i.onAfterResponse?Promise.resolve(i.onAfterResponse(e,t)):Promise.resolve()).then((function(){return t}))}))}))}function im(){var e=!0;return typeof window<"u"&&"navigator"in window&&!1===window.navigator.onLine&&(e=!1),e}function rm(e,t,i){if(null==i.retryDelays||t>=i.retryDelays.length||null==e.originalRequest)return!1;if(i&&"function"==typeof i.onShouldRetry)return i.onShouldRetry(e,t,i);var r=e.originalResponse?e.originalResponse.getStatus():0;return(!Qf(r,400)||409===r||423===r)&&im()}function sm(e,t){return new wf.default(t,e).toString()}function nm(e,t){for(var i=Math.floor(e/t),r=[],s=0;s<t;s++)r.push({start:i*s,end:i*(s+1)});return r[t-1].end=e,r}o(Jf,"encodeMetadata"),o(Qf,"inStatusCategory"),o(em,"openRequest"),o(tm,"sendRequest"),o(im,"isOnline"),o(rm,"shouldRetry"),o(sm,"resolveUrl"),o(nm,"splitSizeIntoParts"),Zf.defaultOptions={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null};var om=Zf;function am(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lm(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hm(e,t,i){return t&&lm(e.prototype,t),i&&lm(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}o(am,"_classCallCheck"),o(lm,"_defineProperties"),o(hm,"_createClass");var cm=function(){function e(){am(this,e)}return o(e,"NoopUrlStorage"),hm(e,[{key:"listAllUploads",value:o((function(){return Promise.resolve([])}),"listAllUploads")},{key:"findUploadsByFingerprint",value:o((function(e){return Promise.resolve([])}),"findUploadsByFingerprint")},{key:"removeUpload",value:o((function(e){return Promise.resolve()}),"removeUpload")},{key:"addUpload",value:o((function(e,t){return Promise.resolve(null)}),"addUpload")}]),e}();function dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function um(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pm(e,t,i){return t&&um(e.prototype,t),i&&um(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}o(dm,"_classCallCheck"),o(um,"_defineProperties"),o(pm,"_createClass");var fm=!1;try{fm="localStorage"in window,mm="tusSupport",localStorage.setItem(mm,localStorage.getItem(mm))}catch(Wy){if(Wy.code!==Wy.SECURITY_ERR&&Wy.code!==Wy.QUOTA_EXCEEDED_ERR)throw Wy;fm=!1}var mm,gm=fm,ym=function(){function e(){dm(this,e)}return o(e,"WebStorageUrlStorage"),pm(e,[{key:"findAllUploads",value:o((function(){var e=this._findEntries("tus::");return Promise.resolve(e)}),"findAllUploads")},{key:"findUploadsByFingerprint",value:o((function(e){var t=this._findEntries("tus::".concat(e,"::"));return Promise.resolve(t)}),"findUploadsByFingerprint")},{key:"removeUpload",value:o((function(e){return localStorage.removeItem(e),Promise.resolve()}),"removeUpload")},{key:"addUpload",value:o((function(e,t){var i=Math.round(1e12*Math.random()),r="tus::".concat(e,"::").concat(i);return localStorage.setItem(r,JSON.stringify(t)),Promise.resolve(r)}),"addUpload")},{key:"_findEntries",value:o((function(e){for(var t=[],i=0;i<localStorage.length;i++){var r=localStorage.key(i);if(0===r.indexOf(e))try{var s=JSON.parse(localStorage.getItem(r));s.urlStorageKey=r,t.push(s)}catch{}}return t}),"_findEntries")}]),e}();function vm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wm(e,t,i){return t&&bm(e.prototype,t),i&&bm(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}o(vm,"_classCallCheck"),o(bm,"_defineProperties"),o(wm,"_createClass");var _m=function(){function e(){vm(this,e)}return o(e,"XHRHttpStack"),wm(e,[{key:"createRequest",value:o((function(e,t){return new km(e,t)}),"createRequest")},{key:"getName",value:o((function(){return"XHRHttpStack"}),"getName")}]),e}(),km=function(){function e(t,i){vm(this,e),this._xhr=new XMLHttpRequest,this._xhr.open(t,i,!0),this._method=t,this._url=i,this._headers={}}return o(e,"Request"),wm(e,[{key:"getMethod",value:o((function(){return this._method}),"getMethod")},{key:"getURL",value:o((function(){return this._url}),"getURL")},{key:"setHeader",value:o((function(e,t){this._xhr.setRequestHeader(e,t),this._headers[e]=t}),"setHeader")},{key:"getHeader",value:o((function(e){return this._headers[e]}),"getHeader")},{key:"setProgressHandler",value:o((function(e){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(t){!t.lengthComputable||e(t.loaded)})}),"setProgressHandler")},{key:"send",value:o((function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return new Promise((function(i,r){e._xhr.onload=function(){i(new Sm(e._xhr))},e._xhr.onerror=function(e){r(e)},e._xhr.send(t)}))}),"send")},{key:"abort",value:o((function(){return this._xhr.abort(),Promise.resolve()}),"abort")},{key:"getUnderlyingObject",value:o((function(){return this._xhr}),"getUnderlyingObject")}]),e}(),Sm=function(){function e(t){vm(this,e),this._xhr=t}return o(e,"Response"),wm(e,[{key:"getStatus",value:o((function(){return this._xhr.status}),"getStatus")},{key:"getHeader",value:o((function(e){return this._xhr.getResponseHeader(e)}),"getHeader")},{key:"getBody",value:o((function(){return this._xhr.responseText}),"getBody")},{key:"getUnderlyingObject",value:o((function(){return this._xhr}),"getUnderlyingObject")}]),e}(),xm=o((function(){return typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()}),"isReactNative");function Tm(e){return new Promise((function(t,i){var r=new XMLHttpRequest;r.responseType="blob",r.onload=function(){var e=r.response;t(e)},r.onerror=function(e){i(e)},r.open("GET",e),r.send()}))}o(Tm,"uriToBlob");var jm=o((function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}),"isCordova");function Cm(e){return new Promise((function(t,i){var r=new FileReader;r.onload=function(){var e=new Uint8Array(r.result);t({value:e})},r.onerror=function(e){i(e)},r.readAsArrayBuffer(e)}))}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pm(e,t,i){return t&&Om(e.prototype,t),i&&Om(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}o(Cm,"readAsByteArray"),o(Em,"_classCallCheck"),o(Om,"_defineProperties"),o(Pm,"_createClass");var Fm=function(){function e(t){Em(this,e),this._file=t,this.size=t.size}return o(e,"FileSource"),Pm(e,[{key:"slice",value:o((function(e,t){if(jm())return Cm(this._file.slice(e,t));var i=this._file.slice(e,t);return Promise.resolve({value:i})}),"slice")},{key:"close",value:o((function(){}),"close")}]),e}();function Mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dm(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Am(e,t,i){return t&&Dm(e.prototype,t),i&&Dm(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rm(e){return void 0===e?0:void 0!==e.size?e.size:e.length}function Lm(e,t){if(e.concat)return e.concat(t);if(e instanceof Blob)return new Blob([e,t],{type:e.type});if(e.set){var i=new e.constructor(e.length+t.length);return i.set(e),i.set(t,e.length),i}throw new Error("Unknown data type")}o(Mm,"_classCallCheck"),o(Dm,"_defineProperties"),o(Am,"_createClass"),o(Rm,"len"),o(Lm,"concat");var Im=function(){function e(t){Mm(this,e),this._buffer=void 0,this._bufferOffset=0,this._reader=t,this._done=!1}return o(e,"StreamSource"),Am(e,[{key:"slice",value:o((function(e,t){return e<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(e,t)}),"slice")},{key:"_readUntilEnoughDataOrDone",value:o((function(e,t){var i=this,r=t<=this._bufferOffset+Rm(this._buffer);if(this._done||r){var s=this._getDataFromBuffer(e,t),n=null==s&&this._done;return Promise.resolve({value:s,done:n})}return this._reader.read().then((function(r){var s=r.value;return r.done?i._done=!0:void 0===i._buffer?i._buffer=s:i._buffer=Lm(i._buffer,s),i._readUntilEnoughDataOrDone(e,t)}))}),"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:o((function(e,t){e>this._bufferOffset&&(this._buffer=this._buffer.slice(e-this._bufferOffset),this._bufferOffset=e);var i=0===Rm(this._buffer);return this._done&&i?null:this._buffer.slice(0,t-e)}),"_getDataFromBuffer")},{key:"close",value:o((function(){this._reader.cancel&&this._reader.cancel()}),"close")}]),e}();function Nm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bm(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zm(e,t,i){return t&&Bm(e.prototype,t),i&&Bm(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}o(Nm,"_classCallCheck"),o(Bm,"_defineProperties"),o(zm,"_createClass");var Um=function(){function e(){Nm(this,e)}return o(e,"FileReader"),zm(e,[{key:"openFile",value:o((function(e,t){return xm()&&e&&typeof e.uri<"u"?Tm(e.uri).then((function(e){return new Fm(e)})).catch((function(e){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(e))})):"function"==typeof e.slice&&typeof e.size<"u"?Promise.resolve(new Fm(e)):"function"==typeof e.read?(t=Number(t),Number.isFinite(t)?Promise.resolve(new Im(e,t)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))}),"openFile")}]),e}();function Hm(e,t){return xm()?Promise.resolve(Wm(e,t)):Promise.resolve(["tus-br",e.name,e.type,e.size,e.lastModified,t.endpoint].join("-"))}function Wm(e,t){var i=e.exif?Vm(JSON.stringify(e.exif)):"noexif";return["tus-rn",e.name||"noname",e.size||"nosize",i,t.endpoint].join("/")}function Vm(e){var t=0;if(0===e.length)return t;for(var i=0;i<e.length;i++){t=(t<<5)-t+e.charCodeAt(i),t&=t}return t}function qm(e){return(qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ym(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $m(e,t,i){return t&&Ym(e.prototype,t),i&&Ym(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Km(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xm(e,t)}function Xm(e,t){return(Xm=Object.setPrototypeOf?Object.setPrototypeOf.bind():o((function(e,t){return e.__proto__=t,e}),"_setPrototypeOf"))(e,t)}function Zm(e){var t=eg();return o((function(){var i,r=tg(e);if(t){var s=tg(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Jm(this,i)}),"_createSuperInternal")}function Jm(e,t){if(t&&("object"===qm(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qm(e)}function Qm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eg(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function tg(e){return(tg=Object.setPrototypeOf?Object.getPrototypeOf.bind():o((function(e){return e.__proto__||Object.getPrototypeOf(e)}),"_getPrototypeOf"))(e)}function ig(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,r)}return i}function rg(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ig(Object(i),!0).forEach((function(t){sg(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ig(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function sg(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}o(Hm,"fingerprint"),o(Wm,"reactNativeFingerprint"),o(Vm,"hashCode"),o(qm,"_typeof"),o(Gm,"_classCallCheck"),o(Ym,"_defineProperties"),o($m,"_createClass"),o(Km,"_inherits"),o(Xm,"_setPrototypeOf"),o(Zm,"_createSuper"),o(Jm,"_possibleConstructorReturn"),o(Qm,"_assertThisInitialized"),o(eg,"_isNativeReflectConstruct"),o(tg,"_getPrototypeOf"),o(ig,"ownKeys"),o(rg,"_objectSpread"),o(sg,"_defineProperty");var ng=rg(rg({},om.defaultOptions),{},{httpStack:new _m,fileReader:new Um,urlStorage:gm?new ym:new cm,fingerprint:Hm}),og=function(e){Km(i,e);var t=Zm(i);function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Gm(this,i),r=rg(rg({},ng),r),t.call(this,e,r)}return o(i,"Upload"),$m(i,null,[{key:"terminate",value:o((function(e,t,i){return t=rg(rg({},ng),t),om.terminate(e,t,i)}),"terminate")}]),i}(om),ag=window,lg=ag.XMLHttpRequest,hg=ag.Blob;lg&&hg&&hg.prototype.slice;function cg(e){let t=[],i=[];function r(e){t.push(e)}function s(e){i.push(e)}return o(r,"resolved"),o(s,"rejected"),Promise.all(e.map((e=>e.then(r,s)))).then((()=>({successful:t,failed:i})))}function dg(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}function ug(){return typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase()}function pg(e){return(t,i)=>{if(dg()||ug())return ng.fingerprint(t,i);let r=["tus",e.id,i.endpoint].join("-");return Promise.resolve(r)}}function fg(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(cg,"settle"),o(dg,"isCordova"),o(ug,"isReactNative"),o(pg,"getFingerprint"),o(fg,"_classPrivateFieldLooseBase");var mg=0;function gg(e){return"__private_"+mg+++"_"+e}o(gg,"_classPrivateFieldLooseKey");var yg={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},vg=gg("retryDelayIterator"),bg=gg("queueRequestSocketToken"),wg=gg("requestSocketToken"),_g=class extends At{constructor(e,t){var i,r;super(e,t),Object.defineProperty(this,vg,{writable:!0,value:void 0}),Object.defineProperty(this,bg,{writable:!0,value:void 0}),Object.defineProperty(this,wg,{writable:!0,value:async e=>{let t=new(e.remote.providerOptions.provider?fi:oi)(this.uppy,e.remote.providerOptions),i={...this.opts};return e.tus&&Object.assign(i,e.tus),(await t.post(e.remote.url,{...e.remote.body,endpoint:i.endpoint,uploadUrl:i.uploadUrl,protocol:"tus",size:e.data.size,headers:i.headers,metadata:e.meta})).token}}),this.type="uploader",this.id=this.opts.id||"Tus",this.title="Tus";let s={useFastRemoteRetry:!0,limit:20,retryDelays:yg.retryDelays,withCredentials:!1};if(this.opts={...s,...t},void 0===t?.allowedMetaFields&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in t)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=null!=(i=this.opts.rateLimitedQueue)?i:new md(this.opts.limit),fg(this,vg)[vg]=null==(r=this.opts.retryDelays)?void 0:r.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this),this.handleUpload=this.handleUpload.bind(this),fg(this,bg)[bg]=this.requests.wrapPromiseFunction(fg(this,wg)[wg],{priority:-1})}handleResetProgress(){let e={...this.uppy.getState().files};Object.keys(e).forEach((t=>{if(e[t].tus&&e[t].tus.uploadUrl){let i={...e[t].tus};delete i.uploadUrl,e[t]={...e[t],tus:i}}})),this.uppy.setState({files:e})}resetUploaderReferences(e,t){if(void 0===t&&(t={}),this.uploaders[e]){let i=this.uploaders[e];i.abort(),t.abort&&i.abort(!0),this.uploaders[e]=null}this.uploaderEvents[e]&&(this.uploaderEvents[e].remove(),this.uploaderEvents[e]=null),this.uploaderSockets[e]&&(this.uploaderSockets[e].close(),this.uploaderSockets[e]=null)}upload(e){var t=this;return this.resetUploaderReferences(e.id),new Promise(((i,r)=>{let s,n,a;this.uppy.emit("upload-started",e);let l={...this.opts,...e.tus||{}};"function"==typeof l.headers&&(l.headers=l.headers(e));let h={...yg,...l};h.fingerprint=pg(e),h.onBeforeRequest=t=>{let i;if(t.getUnderlyingObject().withCredentials=!!l.withCredentials,"function"==typeof l.onBeforeRequest&&(i=l.onBeforeRequest(t,e)),C(s,"shouldBeRequeued")){if(!s.shouldBeRequeued)return Promise.reject();let t,r=new Promise((e=>{t=e}));return s=this.requests.run((()=>(e.isPaused&&s.abort(),t(),()=>{}))),Promise.all([r,i])}return i},h.onError=t=>{var i;this.uppy.log(t);let n=t.originalRequest?t.originalRequest.getUnderlyingObject():null;Hd(n)&&(t=new Vt(t,n)),this.resetUploaderReferences(e.id),null==(i=s)||i.abort(),this.uppy.emit("upload-error",e,t),r(t)},h.onProgress=(t,i)=>{this.onReceiveUploadUrl(e,a.url),this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t,bytesTotal:i})},h.onSuccess=()=>{let t={uploadURL:a.url};this.resetUploaderReferences(e.id),s.done(),this.uppy.emit("upload-success",e,t),a.url&&this.uppy.log(`Download ${a.file.name} from ${a.url}`),i(a)};let c=o((e=>{var t;let i=null==e||null==(t=e.originalResponse)?void 0:t.getStatus();if(429===i){if(!this.requests.isPaused){var r;let e=null==(r=fg(this,vg)[vg])?void 0:r.next();if(null==e||e.done)return!1;this.requests.rateLimit(e.value)}}else{if(i>400&&i<500&&409!==i)return!1;typeof navigator<"u"&&!1===navigator.onLine&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",(()=>{this.requests.resume()}),{once:!0})))}return s.abort(),s={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0}),"defaultOnShouldRetry");null!=l.onShouldRetry?h.onShouldRetry=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return l.onShouldRetry(...t,c)}:h.onShouldRetry=c;let d=o(((e,t,i)=>{C(e,t)&&!C(e,i)&&(e[i]=e[t])}),"copyProp"),u={};(Array.isArray(l.allowedMetaFields)?l.allowedMetaFields:Object.keys(e.meta)).forEach((t=>{u[t]=e.meta[t]})),d(u,"type","filetype"),d(u,"name","filename"),h.metadata=u,a=new og(e.data,h),this.uploaders[e.id]=a,this.uploaderEvents[e.id]=new Fd(this.uppy),n=o((()=>(e.isPaused||a.start(),()=>{})),"qRequest"),a.findPreviousUploads().then((t=>{let i=t[0];i&&(this.uppy.log(`[Tus] Resuming upload of ${e.id} started at ${i.creationTime}`),a.resumeFromPreviousUpload(i))})),s=this.requests.run(n),this.onFileRemove(e.id,(t=>{s.abort(),this.resetUploaderReferences(e.id,{abort:!!a.url}),i(`upload ${t} was removed`)})),this.onPause(e.id,(e=>{s.abort(),e?a.abort():s=this.requests.run(n)})),this.onPauseAll(e.id,(()=>{s.abort(),a.abort()})),this.onCancelAll(e.id,(function(r){let{reason:n}=void 0===r?{}:r;"user"===n&&(s.abort(),t.resetUploaderReferences(e.id,{abort:!!a.url})),i(`upload ${e.id} was canceled`)})),this.onResumeAll(e.id,(()=>{s.abort(),e.error&&a.abort(),s=this.requests.run(n)}))})).catch((t=>{throw this.uppy.emit("upload-error",e,t),t}))}async uploadRemote(e){this.resetUploaderReferences(e.id),(!e.progress.uploadStarted||!e.isRestored)&&this.uppy.emit("upload-started",e);try{if(e.serverToken)return this.connectToServerSocket(e);let t=await fg(this,bg)[bg](e);return this.uppy.getState().files[e.id]?(this.uppy.setFileState(e.id,{serverToken:t}),this.connectToServerSocket(this.uppy.getFile(e.id))):void 0}catch(t){throw this.uppy.emit("upload-error",e,t),t}}connectToServerSocket(e){var t=this;return new Promise(((i,r)=>{let s,n=e.serverToken,o=Td(e.remote.companionUrl),a=new Ei({target:`${o}/api/${n}`});this.uploaderSockets[e.id]=a,this.uploaderEvents[e.id]=new Fd(this.uppy),this.onFileRemove(e.id,(()=>{s.abort(),a.send("cancel",{}),this.resetUploaderReferences(e.id),i(`upload ${e.id} was removed`)})),this.onPause(e.id,(e=>{e?(s.abort(),a.send("pause",{})):(s.abort(),s=this.requests.run((()=>(a.send("resume",{}),()=>{}))))})),this.onPauseAll(e.id,(()=>{s.abort(),a.send("pause",{})})),this.onCancelAll(e.id,(function(r){let{reason:n}=void 0===r?{}:r;"user"===n&&(s.abort(),a.send("cancel",{}),t.resetUploaderReferences(e.id)),i(`upload ${e.id} was canceled`)})),this.onResumeAll(e.id,(()=>{s.abort(),e.error&&a.send("pause",{}),s=this.requests.run((()=>(a.send("resume",{}),()=>{})))})),this.onRetry(e.id,(()=>{a.isOpen&&(a.send("pause",{}),a.send("resume",{}))})),this.onRetryAll(e.id,(()=>{a.isOpen&&(a.send("pause",{}),a.send("resume",{}))})),a.on("progress",(t=>xd(this,t,e))),a.on("error",(t=>{let{message:i}=t.error,n=Object.assign(new Error(i),{cause:t.error});this.opts.useFastRemoteRetry?a.close():(this.resetUploaderReferences(e.id),this.uppy.setFileState(e.id,{serverToken:null})),this.uppy.emit("upload-error",e,n),s.done(),r(n)})),a.on("success",(t=>{let r={uploadURL:t.url};this.uppy.emit("upload-success",e,r),this.resetUploaderReferences(e.id),s.done(),i()})),s=this.requests.run((()=>(e.isPaused&&a.send("pause",{}),()=>{})))}))}onReceiveUploadUrl(e,t){let i=this.uppy.getFile(e.id);!i||(!i.tus||i.tus.uploadUrl!==t)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(i.id,{tus:{...i.tus,uploadUrl:t}}))}onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",(i=>{e===i.id&&t(i.id)}))}onPause(e,t){this.uploaderEvents[e].on("upload-pause",((i,r)=>{e===i&&t(r)}))}onRetry(e,t){this.uploaderEvents[e].on("upload-retry",(i=>{e===i&&t()}))}onRetryAll(e,t){this.uploaderEvents[e].on("retry-all",(()=>{!this.uppy.getFile(e)||t()}))}onPauseAll(e,t){this.uploaderEvents[e].on("pause-all",(()=>{!this.uppy.getFile(e)||t()}))}onCancelAll(e,t){var i=this;this.uploaderEvents[e].on("cancel-all",(function(){!i.uppy.getFile(e)||t(...arguments)}))}onResumeAll(e,t){this.uploaderEvents[e].on("resume-all",(()=>{!this.uppy.getFile(e)||t()}))}uploadFiles(e){return cg(e.map(((t,i)=>{let r=i+1,s=e.length;return"error"in t&&t.error?Promise.reject(new Error(t.error)):t.isRemote?((!t.progress.uploadStarted||!t.isRestored)&&this.uppy.emit("upload-started",t),this.uploadRemote(t,r,s)):((!t.progress.uploadStarted||!t.isRestored)&&this.uppy.emit("upload-started",t),this.upload(t,r,s))})))}handleUpload(e){if(0===e.length)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();0===this.opts.limit&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");let t=e.map((e=>this.uppy.getFile(e)));return this.uploadFiles(t).then((()=>null))}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(this.handleUpload)}};o(_g,"Tus"),_g.VERSION="3.0.5";var kg=h(x(),1),Sg=Object.create(null);Sg.open="0",Sg.close="1",Sg.ping="2",Sg.pong="3",Sg.message="4",Sg.upgrade="5",Sg.noop="6";var xg=Object.create(null);Object.keys(Sg).forEach((e=>{xg[Sg[e]]=e}));var Tg={type:"error",data:"parser error"},jg="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),Cg="function"==typeof ArrayBuffer,Eg=o((e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer),"isView"),Og=o((({type:e,data:t},i,r)=>jg&&t instanceof Blob?i?r(t):Pg(t,r):Cg&&(t instanceof ArrayBuffer||Eg(t))?i?r(t):Pg(new Blob([t]),r):r(Sg[e]+(t||""))),"encodePacket"),Pg=o(((e,t)=>{let i=new FileReader;return i.onload=function(){let e=i.result.split(",")[1];t("b"+e)},i.readAsDataURL(e)}),"encodeBlobAsBase64"),Fg=Og,Mg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<64;e++)Dg[Mg.charCodeAt(e)]=e;var Ag=o((e=>{let t,i,r,s,n,o=.75*e.length,a=e.length,l=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);let h=new ArrayBuffer(o),c=new Uint8Array(h);for(t=0;t<a;t+=4)i=Dg[e.charCodeAt(t)],r=Dg[e.charCodeAt(t+1)],s=Dg[e.charCodeAt(t+2)],n=Dg[e.charCodeAt(t+3)],c[l++]=i<<2|r>>4,c[l++]=(15&r)<<4|s>>2,c[l++]=(3&s)<<6|63&n;return h}),"decode"),Rg="function"==typeof ArrayBuffer,Lg=o(((e,t)=>{if("string"!=typeof e)return{type:"message",data:Ng(e,t)};let i=e.charAt(0);return"b"===i?{type:"message",data:Ig(e.substring(1),t)}:xg[i]?e.length>1?{type:xg[i],data:e.substring(1)}:{type:xg[i]}:Tg}),"decodePacket"),Ig=o(((e,t)=>{if(Rg){let i=Ag(e);return Ng(i,t)}return{base64:!0,data:e}}),"decodeBase64Packet"),Ng=o(((e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e),"mapBinary"),Bg=Lg,zg=String.fromCharCode(30),Ug=o(((e,t)=>{let i=e.length,r=new Array(i),s=0;e.forEach(((e,n)=>{Fg(e,!1,(e=>{r[n]=e,++s===i&&t(r.join(zg))}))}))}),"encodePayload"),Hg=o(((e,t)=>{let i=e.split(zg),r=[];for(let e=0;e<i.length;e++){let s=Bg(i[e],t);if(r.push(s),"error"===s.type)break}return r}),"decodePayload");function Wg(e){if(e)return Vg(e)}function Vg(e){for(var t in Wg.prototype)e[t]=Wg.prototype[t];return e}o(Wg,"Emitter"),o(Vg,"mixin"),Wg.prototype.on=Wg.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Wg.prototype.once=function(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return o(i,"on"),i.fn=t,this.on(e,i),this},Wg.prototype.off=Wg.prototype.removeListener=Wg.prototype.removeAllListeners=Wg.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,s=0;s<i.length;s++)if((r=i[s])===t||r.fn===t){i.splice(s,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},Wg.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),i=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(i){r=0;for(var s=(i=i.slice(0)).length;r<s;++r)i[r].apply(this,t)}return this},Wg.prototype.emitReserved=Wg.prototype.emit,Wg.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Wg.prototype.hasListeners=function(e){return!!this.listeners(e).length};var qg=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Gg(e,...t){return t.reduce(((t,i)=>(e.hasOwnProperty(i)&&(t[i]=e[i]),t)),{})}o(Gg,"pick");var Yg=setTimeout,$g=clearTimeout;function Kg(e,t){t.useNativeTimers?(e.setTimeoutFn=Yg.bind(qg),e.clearTimeoutFn=$g.bind(qg)):(e.setTimeoutFn=setTimeout.bind(qg),e.clearTimeoutFn=clearTimeout.bind(qg))}o(Kg,"installTimerFunctions");function Xg(e){return"string"==typeof e?Zg(e):Math.ceil(1.33*(e.byteLength||e.size))}function Zg(e){let t=0,i=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?i+=1:t<2048?i+=2:t<55296||t>=57344?i+=3:(r++,i+=4);return i}o(Xg,"byteLength"),o(Zg,"utf8Length");var Jg=class extends Error{constructor(e,t,i){super(e),this.description=t,this.context=i,this.type="TransportError"}};o(Jg,"TransportError");var Qg=class extends Wg{constructor(e){super(),this.writable=!1,Kg(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,i){return super.emitReserved("error",new Jg(e,t,i)),this}open(){return("closed"===this.readyState||""===this.readyState)&&(this.readyState="opening",this.doOpen()),this}close(){return("opening"===this.readyState||"open"===this.readyState)&&(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let t=Bg(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}};o(Qg,"Transport");var ey,ty="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),iy=64,ry={},sy=0,ny=0;function oy(e){let t="";do{t=ty[e%iy]+t,e=Math.floor(e/iy)}while(e>0);return t}function ay(){let e=oy(+new Date);return e!==ey?(sy=0,ey=e):e+"."+oy(sy++)}for(o(oy,"encode"),o(ay,"yeast");ny<iy;ny++)ry[ty[ny]]=ny;function ly(e){let t="";for(let i in e)e.hasOwnProperty(i)&&(t.length&&(t+="&"),t+=encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t}function hy(e){let t={},i=e.split("&");for(let e=0,r=i.length;e<r;e++){let r=i[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}o(ly,"encode"),o(hy,"decode");var cy=!1;try{cy=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var dy=cy;function uy(e){let t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||dy))return new XMLHttpRequest}catch{}if(!t)try{return new(qg[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch{}}function py(){}o(uy,"XHR"),o(py,"empty");var fy=null!=new uy({xdomain:!1}).responseType,my=class extends Qg{constructor(e){if(super(e),this.polling=!1,typeof location<"u"){let t="https:"===location.protocol,i=location.port;i||(i=t?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||i!==e.port,this.xs=e.secure!==t}let t=e&&e.forceBase64;this.supportsBinary=fy&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";let t=o((()=>{this.readyState="paused",e()}),"pause");if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let t=o((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)}),"callback");Hg(e,this.socket.binaryType).forEach(t),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){let e=o((()=>{this.write([{type:"close"}])}),"close");"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,Ug(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{},t=this.opts.secure?"https":"http",i="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=ay()),!this.supportsBinary&&!e.sid&&(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(i=":"+this.opts.port);let r=ly(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new gy(this.uri(),e)}doWrite(e,t){let i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}};o(my,"Polling");var gy=class extends Wg{constructor(e,t){super(),Kg(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){let e=Gg(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;let t=this.xhr=new uy(e);try{t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch{}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{t.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}typeof document<"u"&&(this.index=gy.requestsCount++,gy.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(!(typeof this.xhr>"u"||null===this.xhr)){if(this.xhr.onreadystatechange=py,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete gy.requests[this.index],this.xhr=null}}onLoad(){let e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(o(gy,"Request"),gy.requestsCount=0,gy.requests={},typeof document<"u")if("function"==typeof attachEvent)attachEvent("onunload",yy);else if("function"==typeof addEventListener){addEventListener("onpagehide"in qg?"pagehide":"unload",yy,!1)}function yy(){for(let e in gy.requests)gy.requests.hasOwnProperty(e)&&gy.requests[e].abort()}o(yy,"unloadHandler");var vy="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),by=qg.WebSocket||qg.MozWebSocket,wy=typeof navigator<"u"&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),_y=class extends Qg{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let e=this.uri(),t=this.opts.protocols,i=wy?{}:Gg(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(i.headers=this.opts.extraHeaders);try{this.ws=wy?new by(e,t,i):t?new by(e,t):new by(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){let i=e[t],r=t===e.length-1;Fg(i,this.supportsBinary,(e=>{try{this.ws.send(e)}catch{}r&&vy((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{},t=this.opts.secure?"wss":"ws",i="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(i=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=ay()),this.supportsBinary||(e.b64=1);let r=ly(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+i+this.opts.path+(r.length?"?"+r:"")}check(){return!!by}};o(_y,"WS");var ky={websocket:_y,polling:my},Sy=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,xy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ty(e){let t=e,i=e.indexOf("["),r=e.indexOf("]");-1!=i&&-1!=r&&(e=e.substring(0,i)+e.substring(i,r).replace(/:/g,";")+e.substring(r,e.length));let s=Sy.exec(e||""),n={},o=14;for(;o--;)n[xy[o]]=s[o]||"";return-1!=i&&-1!=r&&(n.source=t,n.host=n.host.substring(1,n.host.length-1).replace(/;/g,":"),n.authority=n.authority.replace("[","").replace("]","").replace(/;/g,":"),n.ipv6uri=!0),n.pathNames=jy(n,n.path),n.queryKey=Cy(n,n.query),n}function jy(e,t){let i=t.replace(/\/{2,9}/g,"/").split("/");return("/"==t.substr(0,1)||0===t.length)&&i.splice(0,1),"/"==t.substr(t.length-1,1)&&i.splice(i.length-1,1),i}function Cy(e,t){let i={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(i[t]=r)})),i}o(Ty,"parse"),o(jy,"pathNames"),o(Cy,"queryKey");var Ey=class extends Wg{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=Ty(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Ty(t.host).host),Kg(this,t),this.secure=null!=t.secure?t.secure:typeof location<"u"&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=t.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=hy(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",(()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())}),!1),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){let t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);let i=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new ky[e](i)}open(){let e;if(this.opts.rememberUpgrade&&Ey.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),i=!1;Ey.priorWebsocketSuccess=!1;let r=o((()=>{i||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!i)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;Ey.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{i||"closed"!==this.readyState&&(c(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{let e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))}),"onTransportOpen");function s(){i||(i=!0,c(),t.close(),t=null)}o(s,"freezeTransport");let n=o((e=>{let i=new Error("probe error: "+e);i.transport=t.name,s(),this.emitReserved("upgradeError",i)}),"onerror");function a(){n("transport closed")}function l(){n("socket closed")}function h(e){t&&e.name!==t.name&&s()}o(a,"onTransportClose"),o(l,"onclose"),o(h,"onupgrade");let c=o((()=>{t.removeListener("open",r),t.removeListener("error",n),t.removeListener("close",a),this.off("close",l),this.off("upgrading",h)}),"cleanup");t.once("open",r),t.once("error",n),t.once("close",a),this.once("close",l),this.once("upgrading",h),t.open()}onOpen(){if(this.readyState="open",Ey.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){let e=0,t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){let i=this.writeBuffer[t].data;if(i&&(e+=Xg(i)),t>0&&e>this.maxPayload)return this.writeBuffer.slice(0,t);e+=2}return this.writeBuffer}write(e,t,i){return this.sendPacket("message",e,t,i),this}send(e,t,i){return this.sendPacket("message",e,t,i),this}sendPacket(e,t,i,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof i&&(r=i,i=null),"closing"===this.readyState||"closed"===this.readyState)return;(i=i||{}).compress=!1!==i.compress;let s={type:e,data:t,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),r&&this.once("flush",r),this.flush()}close(){let e=o((()=>{this.onClose("forced close"),this.transport.close()}),"close"),t=o((()=>{this.off("upgrade",t),this.off("upgradeError",t),e()}),"cleanupAndClose"),i=o((()=>{this.once("upgrade",t),this.once("upgradeError",t)}),"waitForUpgrade");return("opening"===this.readyState||"open"===this.readyState)&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?i():e()})):this.upgrading?i():e()),this}onError(e){Ey.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){let t=[],i=0,r=e.length;for(;i<r;i++)~this.transports.indexOf(e[i])&&t.push(e[i]);return t}};o(Ey,"Socket"),Ey.protocol=4;Ey.protocol;function Oy(e,t="",i){let r=e;i=i||typeof location<"u"&&location,null==e&&(e=i.protocol+"//"+i.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?i.protocol+e:i.host+e),/^(https?|wss?):\/\//.test(e)||(e=typeof i<"u"?i.protocol+"//"+e:"https://"+e),r=Ty(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let s=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+t,r.href=r.protocol+"://"+s+(i&&i.port===r.port?"":":"+r.port),r}o(Oy,"url");var Py={};l(Py,{Decoder:()=>Gy,Encoder:()=>qy,PacketType:()=>Hy,protocol:()=>Vy});var Fy="function"==typeof ArrayBuffer,My=o((e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer),"isView"),Dy=Object.prototype.toString,Ay="function"==typeof Blob||typeof Blob<"u"&&"[object BlobConstructor]"===Dy.call(Blob),Ry="function"==typeof File||typeof File<"u"&&"[object FileConstructor]"===Dy.call(File);function Ly(e){return Fy&&(e instanceof ArrayBuffer||My(e))||Ay&&e instanceof Blob||Ry&&e instanceof File}function Iy(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,i=e.length;t<i;t++)if(Iy(e[t]))return!0;return!1}if(Ly(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return Iy(e.toJSON(),!0);for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&Iy(e[t]))return!0;return!1}function Ny(e){let t=[],i=e.data,r=e;return r.data=By(i,t),r.attachments=t.length,{packet:r,buffers:t}}function By(e,t){if(!e)return e;if(Ly(e)){let i={_placeholder:!0,num:t.length};return t.push(e),i}if(Array.isArray(e)){let i=new Array(e.length);for(let r=0;r<e.length;r++)i[r]=By(e[r],t);return i}if("object"==typeof e&&!(e instanceof Date)){let i={};for(let r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=By(e[r],t));return i}return e}function zy(e,t){return e.data=Uy(e.data,t),e.attachments=void 0,e}function Uy(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let i=0;i<e.length;i++)e[i]=Uy(e[i],t);else if("object"==typeof e)for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=Uy(e[i],t));return e}o(Ly,"isBinary"),o(Iy,"hasBinary"),o(Ny,"deconstructPacket"),o(By,"_deconstructPacket"),o(zy,"reconstructPacket"),o(Uy,"_reconstructPacket");var Hy,Wy,Vy=5;(Wy=Hy||(Hy={}))[Wy.CONNECT=0]="CONNECT",Wy[Wy.DISCONNECT=1]="DISCONNECT",Wy[Wy.EVENT=2]="EVENT",Wy[Wy.ACK=3]="ACK",Wy[Wy.CONNECT_ERROR=4]="CONNECT_ERROR",Wy[Wy.BINARY_EVENT=5]="BINARY_EVENT",Wy[Wy.BINARY_ACK=6]="BINARY_ACK";var qy=class{constructor(e){this.replacer=e}encode(e){return e.type!==Hy.EVENT&&e.type!==Hy.ACK||!Iy(e)?[this.encodeAsString(e)]:(e.type=e.type===Hy.EVENT?Hy.BINARY_EVENT:Hy.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return(e.type===Hy.BINARY_EVENT||e.type===Hy.BINARY_ACK)&&(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){let t=Ny(e),i=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(i),r}};o(qy,"Encoder");var Gy=class extends Wg{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===Hy.BINARY_EVENT||t.type===Hy.BINARY_ACK?(this.reconstructor=new Yy(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!Ly(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0,i={type:Number(e.charAt(0))};if(void 0===Hy[i.type])throw new Error("unknown packet type "+i.type);if(i.type===Hy.BINARY_EVENT||i.type===Hy.BINARY_ACK){let r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);let s=e.substring(r,t);if(s!=Number(s)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(s)}if("/"===e.charAt(t+1)){let r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);i.nsp=e.substring(r,t)}else i.nsp="/";let r=e.charAt(t+1);if(""!==r&&Number(r)==r){let r=t+1;for(;++t;){let i=e.charAt(t);if(null==i||Number(i)!=i){--t;break}if(t===e.length)break}i.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){let r=this.tryParse(e.substr(t));if(!Gy.isPayloadValid(i.type,r))throw new Error("invalid payload");i.data=r}return i}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,t){switch(e){case Hy.CONNECT:return"object"==typeof t;case Hy.DISCONNECT:return void 0===t;case Hy.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case Hy.EVENT:case Hy.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case Hy.ACK:case Hy.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};o(Gy,"Decoder");var Yy=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let e=zy(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function $y(e,t,i){return e.on(t,i),o((function(){e.off(t,i)}),"subDestroy")}o(Yy,"BinaryReconstructor"),o($y,"on");var Ky=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Xy=class extends Wg{constructor(e,t,i){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,i&&i.auth&&(this.auth=i.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[$y(e,"open",this.onopen.bind(this)),$y(e,"packet",this.onpacket.bind(this)),$y(e,"error",this.onerror.bind(this)),$y(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(Ky.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');t.unshift(e);let i={type:Hy.EVENT,data:t,options:{}};if(i.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){let e=this.ids++,r=t.pop();this._registerAckCallback(e,r),i.id=e}let r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(e,t){let i=this.flags.timeout;if(void 0===i)return void(this.acks[e]=t);let r=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),i);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(r),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this.packet({type:Hy.CONNECT,data:e})})):this.packet({type:Hy.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Hy.CONNECT:if(e.data&&e.data.sid){let t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Hy.EVENT:case Hy.BINARY_EVENT:this.onevent(e);break;case Hy.ACK:case Hy.BINARY_ACK:this.onack(e);break;case Hy.DISCONNECT:this.ondisconnect();break;case Hy.CONNECT_ERROR:this.destroy();let t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){let t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let t=this._anyListeners.slice();for(let i of t)i.apply(this,e)}super.emit.apply(this,e)}ack(e){let t=this,i=!1;return function(...r){i||(i=!0,t.packet({type:Hy.ACK,id:e,data:r}))}}onack(e){let t=this.acks[e.id];"function"==typeof t&&(t.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Hy.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let t=this._anyListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let t=this._anyOutgoingListeners;for(let i=0;i<t.length;i++)if(e===t[i])return t.splice(i,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let t=this._anyOutgoingListeners.slice();for(let i of t)i.apply(this,e.data)}}};function Zy(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}o(Xy,"Socket"),o(Zy,"Backoff"),Zy.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),i=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-i:e+i}return 0|Math.min(e,this.max)},Zy.prototype.reset=function(){this.attempts=0},Zy.prototype.setMin=function(e){this.ms=e},Zy.prototype.setMax=function(e){this.max=e},Zy.prototype.setJitter=function(e){this.jitter=e};var Jy=class extends Wg{constructor(e,t){var i;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Kg(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(i=t.randomizationFactor)&&void 0!==i?i:.5),this.backoff=new Zy({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;let r=t.parser||Py;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ey(this.uri,this.opts);let t=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;let r=$y(t,"open",(function(){i.onopen(),e&&e()})),s=$y(t,"error",(t=>{i.cleanup(),i._readyState="closed",this.emitReserved("error",t),e?e(t):i.maybeReconnectOnOpen()}));if(!1!==this._timeout){let e=this._timeout;0===e&&r();let i=this.setTimeoutFn((()=>{r(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&i.unref(),this.subs.push(o((function(){clearTimeout(i)}),"subDestroy"))}return this.subs.push(r),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push($y(e,"ping",this.onping.bind(this)),$y(e,"data",this.ondata.bind(this)),$y(e,"error",this.onerror.bind(this)),$y(e,"close",this.onclose.bind(this)),$y(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,t){let i=this.nsps[e];return i||(i=new Xy(this,e,t),this.nsps[e]=i),i}_destroy(e){let t=Object.keys(this.nsps);for(let e of t)if(this.nsps[e].active)return;this._close()}_packet(e){let t=this.encoder.encode(e);for(let i=0;i<t.length;i++)this.engine.write(t[i],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let t=this.backoff.duration();this._reconnecting=!0;let i=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&i.unref(),this.subs.push(o((function(){clearTimeout(i)}),"subDestroy"))}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};o(Jy,"Manager");var Qy={};function ev(e,t){"object"==typeof e&&(t=e,e=void 0);let i,r=Oy(e,(t=t||{}).path||"/socket.io"),s=r.source,n=r.id,o=r.path,a=Qy[n]&&o in Qy[n].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||a?i=new Jy(s,t):(Qy[n]||(Qy[n]=new Jy(s,t)),i=Qy[n]),r.query&&!t.query&&(t.query=r.queryKey),i.socket(r.path,t)}function tv(e){let t=/^\w+:\/\//.exec(e),i=0;t&&(i=t[0].length+1);let r=e.indexOf("/",i);return-1===r?{origin:e,pathname:"/"}:{origin:e.slice(0,r),pathname:e.slice(r)}}function iv(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(ev,"lookup"),Object.assign(ev,{Manager:Jy,Socket:Xy,io:ev,connect:ev}),o(tv,"parseUrl"),o(iv,"_classPrivateFieldLooseBase");var rv=0;function sv(e){return"__private_"+rv+++"_"+e}o(sv,"_classPrivateFieldLooseKey");var nv="ASSEMBLY_EXECUTING",ov="ASSEMBLY_COMPLETED",av=["ASSEMBLY_UPLOADING",nv,ov];function lv(e,t){return av.indexOf(e)>=av.indexOf(t)}o(lv,"isStatus");var hv=sv("rateLimitedQueue"),cv=sv("fetchWithNetworkError"),dv=sv("previousFetchStatusStillPending"),uv=sv("onFinished"),pv=sv("connectSocket"),fv=sv("onError"),mv=sv("beginPolling"),gv=sv("fetchStatus"),yv=sv("diffStatus"),vv=class extends kg.default{constructor(e,t){super(),Object.defineProperty(this,yv,{value:xv}),Object.defineProperty(this,gv,{value:Sv}),Object.defineProperty(this,mv,{value:kv}),Object.defineProperty(this,fv,{value:_v}),Object.defineProperty(this,pv,{value:wv}),Object.defineProperty(this,uv,{value:bv}),Object.defineProperty(this,hv,{writable:!0,value:void 0}),Object.defineProperty(this,cv,{writable:!0,value:void 0}),Object.defineProperty(this,dv,{writable:!0,value:!1}),this.status=e,this.socket=null,this.pollInterval=null,this.closed=!1,iv(this,hv)[hv]=t,iv(this,cv)[cv]=t.wrapPromiseFunction(qt)}connect(){iv(this,pv)[pv](),iv(this,mv)[mv]()}update(){return iv(this,gv)[gv]({diff:!0})}updateStatus(e){iv(this,yv)[yv](this.status,e),this.status=e}close(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}};function bv(){this.emit("finished"),this.close()}function wv(){let e=tv(this.status.websocket_url),t=ev(e.origin,{transports:["websocket"],path:e.pathname});t.on("connect",(()=>{t.emit("assembly_connect",{id:this.status.assembly_id}),this.emit("connect")})),t.on("connect_error",(()=>{t.disconnect(),this.socket=null})),t.on("assembly_finished",(()=>{iv(this,uv)[uv]()})),t.on("assembly_upload_finished",(e=>{this.emit("upload",e),this.status.uploads.push(e)})),t.on("assembly_uploading_finished",(()=>{this.emit("executing")})),t.on("assembly_upload_meta_data_extracted",(()=>{this.emit("metadata"),iv(this,gv)[gv]({diff:!1})})),t.on("assembly_result_finished",((e,t)=>{this.emit("result",e,t),this.status.results[e]||(this.status.results[e]=[]),this.status.results[e].push(t)})),t.on("assembly_error",(e=>{iv(this,fv)[fv](e),iv(this,gv)[gv]({diff:!1})})),this.socket=t}function _v(e){this.emit("error",Object.assign(new Error(e.message),e)),this.close()}function kv(){this.pollInterval=setInterval((()=>{(!this.socket||!this.socket.connected)&&iv(this,gv)[gv]()}),2e3)}async function Sv(e){let{diff:t=!0}=void 0===e?{}:e;if(!(this.closed||iv(this,hv)[hv].isPaused||iv(this,dv)[dv]))try{iv(this,dv)[dv]=!0;let e=await iv(this,cv)[cv](this.status.assembly_ssl_url);if(iv(this,dv)[dv]=!1,this.closed)return;if(429===e.status)return void iv(this,hv)[hv].rateLimit(2e3);if(!e.ok)return void iv(this,fv)[fv](new Vt(e.statusText));let i=await e.json();if(this.closed)return;this.emit("status",i),t?this.updateStatus(i):this.status=i}catch(e){iv(this,fv)[fv](e)}}function xv(e,t){let i=e.ok,r=t.ok;if(t.error&&!e.error)return iv(this,fv)[fv](t);let s=lv(r,nv)&&!lv(i,nv);s&&this.emit("executing"),Object.keys(t.uploads).filter((t=>!C(e.uploads,t))).forEach((e=>{this.emit("upload",t.uploads[e])})),s&&this.emit("metadata"),Object.keys(t.results).forEach((i=>{let r=t.results[i],s=e.results[i];r.filter((e=>!s||!s.some((t=>t.id===e.id)))).forEach((e=>{this.emit("result",i,e)}))})),lv(r,ov)&&!lv(i,ov)&&this.emit("finished")}o(vv,"TransloaditAssembly"),o(bv,"_onFinished2"),o(wv,"_connectSocket2"),o(_v,"_onError2"),o(kv,"_beginPolling2"),o(Sv,"_fetchStatus2"),o(xv,"_diffStatus2");var Tv=vv;function jv(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(jv,"_classPrivateFieldLooseBase");var Cv=0;function Ev(e){return"__private_"+Cv+++"_"+e}o(Ev,"_classPrivateFieldLooseKey");var Ov="/assemblies",Pv=Ev("headers"),Fv=Ev("fetchWithNetworkError"),Mv=Ev("fetchJSON"),Dv=Ev("reportError"),Av=class{constructor(e){void 0===e&&(e={}),Object.defineProperty(this,Mv,{value:Rv}),Object.defineProperty(this,Pv,{writable:!0,value:{}}),Object.defineProperty(this,Fv,{writable:!0,value:void 0}),Object.defineProperty(this,Dv,{writable:!0,value:(e,t)=>{if(!1===this.opts.errorReporting)throw e;let i={type:t.type};throw t.assembly&&(i.assembly=t.assembly.assembly_id,i.instance=t.assembly.instance),t.url&&(i.endpoint=t.url),this.submitError(e,i).catch((()=>{})),e}}),this.opts=e,null!=this.opts.client&&(jv(this,Pv)[Pv]["Transloadit-Client"]=this.opts.client),jv(this,Fv)[Fv]=this.opts.rateLimitedQueue.wrapPromiseFunction(qt)}createAssembly(e){let{params:t,fields:i,signature:r,expectedFiles:s}=e,n=new FormData;n.append("params","string"==typeof t?t:JSON.stringify(t)),r&&n.append("signature",r),Object.keys(i).forEach((e=>{n.append(e,i[e])})),n.append("num_expected_upload_files",s);let o=new URL(Ov,`${this.opts.service}`).href;return jv(this,Mv)[Mv](o,{method:"post",headers:jv(this,Pv)[Pv],body:n}).catch((e=>jv(this,Dv)[Dv](e,{url:o,type:"API_ERROR"})))}reserveFile(e,t){let i=encodeURIComponent(t.size),r=`${e.assembly_ssl_url}/reserve_file?size=${i}`;return jv(this,Mv)[Mv](r,{method:"post",headers:jv(this,Pv)[Pv]}).catch((i=>jv(this,Dv)[Dv](i,{assembly:e,file:t,url:r,type:"API_ERROR"})))}addFile(e,t){if(!t.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));let i=encodeURIComponent(t.size),r=encodeURIComponent(t.uploadURL),s=`size=${i}&filename=${encodeURIComponent(t.name)}&fieldname=file&s3Url=${r}`,n=`${e.assembly_ssl_url}/add_file?${s}`;return jv(this,Mv)[Mv](n,{method:"post",headers:jv(this,Pv)[Pv]}).catch((i=>jv(this,Dv)[Dv](i,{assembly:e,file:t,url:n,type:"API_ERROR"})))}updateNumberOfFilesInAssembly(e,t){let i=new URL(e.assembly_ssl_url);i.pathname="/update_assemblies";let r=JSON.stringify({assembly_updates:[{assembly_id:e.assembly_id,num_expected_upload_files:t}]});return jv(this,Mv)[Mv](i,{method:"post",headers:jv(this,Pv)[Pv],body:r}).catch((e=>jv(this,Dv)[Dv](e,{url:i,type:"API_ERROR"})))}cancelAssembly(e){let t=e.assembly_ssl_url;return jv(this,Mv)[Mv](t,{method:"delete",headers:jv(this,Pv)[Pv]}).catch((e=>jv(this,Dv)[Dv](e,{url:t,type:"API_ERROR"})))}getAssemblyStatus(e){return jv(this,Mv)[Mv](e,{headers:jv(this,Pv)[Pv]}).catch((t=>jv(this,Dv)[Dv](t,{url:e,type:"STATUS_ERROR"})))}submitError(e,t){let{endpoint:i,instance:r,assembly:s}=void 0===t?{}:t,n=e.details?`${e.message} (${e.details})`:e.message;return jv(this,Mv)[Mv]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:i,instance:r,assembly_id:s,agent:typeof navigator<"u"?navigator.userAgent:"",client:this.opts.client,error:n})})}};function Rv(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return jv(this,Fv)[Fv](...t).then((e=>{if(429===e.status)return this.opts.rateLimitedQueue.rateLimit(2e3),jv(this,Mv)[Mv](...t);if(!e.ok){let i=new Error(e.statusText);return i.statusCode=e.status,`${t[0]}`.endsWith(Ov)?e.json().then((e=>{if(!e.error)throw i;let t=new Error(e.error);throw t.details=e.message,t.assembly=e,e.assembly_id&&(t.details+=` Assembly ID: ${e.assembly_id}`),t}),(e=>{throw e.cause=i,e})):Promise.reject(i)}return e.json()}))}function Lv(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Av,"Client"),o(Rv,"_fetchJSON2"),o(Lv,"_classPrivateFieldLooseBase");var Iv=0;function Nv(e){return"__private_"+Iv+++"_"+e}function Bv(e){if(null==e)throw new Error("Transloadit: The `params` option is required.");if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Yt("Transloadit: The `params` option is a malformed JSON string.",{cause:e})}if(!e.auth||!e.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}function zv(e){let t=Object.create(null);for(let{fileIDs:i,options:r}of e.filter(Boolean)){let e=JSON.stringify(r);e in t?t[e].fileIDArrays.push(i):t[e]={options:r,fileIDArrays:[i]}}return Object.values(t).map((e=>{let{options:t,fileIDArrays:i}=e;return{options:t,fileIDs:i.flat(1)}}))}o(Nv,"_classPrivateFieldLooseKey"),o(Bv,"validateParams"),o(zv,"dedupe");var Uv=Nv("getAssemblyOptions"),Hv=class{constructor(e,t){Object.defineProperty(this,Uv,{value:Wv}),this.files=e,this.opts=t}async build(){let e=this.opts;if(this.files.length>0)return Promise.all(this.files.map((e=>Lv(this,Uv)[Uv](e)))).then(zv);if(e.alwaysRunAssembly){let t=await e.getAssemblyOptions(null,e);return Bv(t.params),[{fileIDs:this.files.map((e=>e.id)),options:t}]}return[]}};async function Wv(e){if(null==e)return;let t=this.opts,i=await t.getAssemblyOptions(e,t);return null!=e?(Array.isArray(i.fields)?i.fields=Object.fromEntries(i.fields.map((t=>[t,e.meta[t]]))):null==i.fields&&(i.fields={}),Bv(i.params),{fileIDs:[e.id],options:i}):void 0}o(Hv,"AssemblyOptions"),o(Wv,"_getAssemblyOptions2");var Vv=Hv,qv=h(x(),1);function Gv(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(Gv,"_classPrivateFieldLooseBase");var Yv=0;function $v(e){return"__private_"+Yv+++"_"+e}o($v,"_classPrivateFieldLooseKey");var Kv=$v("assemblyIDs"),Xv=$v("reject"),Zv=$v("remaining"),Jv=$v("resolve"),Qv=$v("uppy"),eb=$v("watching"),tb=$v("onAssemblyComplete"),ib=$v("onAssemblyCancel"),rb=$v("onAssemblyError"),sb=$v("onImportError"),nb=$v("checkAllComplete"),ob=$v("removeListeners"),ab=$v("addListeners"),lb=class extends qv.default{constructor(e,t){super(),Object.defineProperty(this,ab,{value:ub}),Object.defineProperty(this,ob,{value:db}),Object.defineProperty(this,nb,{value:cb}),Object.defineProperty(this,eb,{value:hb}),Object.defineProperty(this,Kv,{writable:!0,value:void 0}),Object.defineProperty(this,Xv,{writable:!0,value:void 0}),Object.defineProperty(this,Zv,{writable:!0,value:void 0}),Object.defineProperty(this,Jv,{writable:!0,value:void 0}),Object.defineProperty(this,Qv,{writable:!0,value:void 0}),Object.defineProperty(this,tb,{writable:!0,value:e=>{!Gv(this,eb)[eb](e.assembly_id)||(Gv(this,Qv)[Qv].log(`[Transloadit] AssemblyWatcher: Got Assembly finish ${e.assembly_id}`),this.emit("assembly-complete",e.assembly_id),Gv(this,nb)[nb]())}}),Object.defineProperty(this,ib,{writable:!0,value:e=>{!Gv(this,eb)[eb](e.assembly_id)||Gv(this,nb)[nb]()}}),Object.defineProperty(this,rb,{writable:!0,value:(e,t)=>{!Gv(this,eb)[eb](e.assembly_id)||(Gv(this,Qv)[Qv].log(`[Transloadit] AssemblyWatcher: Got Assembly error ${e.assembly_id}`),Gv(this,Qv)[Qv].log(t),this.emit("assembly-error",e.assembly_id,t),Gv(this,nb)[nb]())}}),Object.defineProperty(this,sb,{writable:!0,value:(e,t,i)=>{!Gv(this,eb)[eb](e.assembly_id)||Gv(this,rb)[rb](e,i)}}),Gv(this,Qv)[Qv]=e,Gv(this,Kv)[Kv]=t,Gv(this,Zv)[Zv]=t.length,this.promise=new Promise(((e,t)=>{Gv(this,Jv)[Jv]=e,Gv(this,Xv)[Xv]=t})),Gv(this,ab)[ab]()}};function hb(e){return-1!==Gv(this,Kv)[Kv].indexOf(e)}function cb(){Gv(this,Zv)[Zv]-=1,0===Gv(this,Zv)[Zv]&&(Gv(this,ob)[ob](),Gv(this,Jv)[Jv]())}function db(){Gv(this,Qv)[Qv].off("transloadit:complete",Gv(this,tb)[tb]),Gv(this,Qv)[Qv].off("transloadit:assembly-cancel",Gv(this,ib)[ib]),Gv(this,Qv)[Qv].off("transloadit:assembly-error",Gv(this,rb)[rb]),Gv(this,Qv)[Qv].off("transloadit:import-error",Gv(this,sb)[sb])}function ub(){Gv(this,Qv)[Qv].on("transloadit:complete",Gv(this,tb)[tb]),Gv(this,Qv)[Qv].on("transloadit:assembly-cancel",Gv(this,ib)[ib]),Gv(this,Qv)[Qv].on("transloadit:assembly-error",Gv(this,rb)[rb]),Gv(this,Qv)[Qv].on("transloadit:import-error",Gv(this,sb)[sb])}o(lb,"TransloaditAssemblyWatcher"),o(hb,"_watching2"),o(cb,"_checkAllComplete2"),o(db,"_removeListeners2"),o(ub,"_addListeners2");var pb=lb,fb={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function mb(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(mb,"_classPrivateFieldLooseBase");var gb=0;function yb(e){return"__private_"+gb+++"_"+e}o(yb,"_classPrivateFieldLooseKey");function vb(e,t){return{params:t.params,signature:t.signature,fields:t.fields}}o(vb,"defaultGetAssemblyOptions");var bb=o((e=>t=>{let i=new Yt("Failed to send error to the client",{cause:t});console.error(i,e)}),"sendErrorToConsole"),wb="https://api2.transloadit.com/companion",_b=/\.transloadit\.com$/,kb=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Sb=yb("rateLimitedQueue"),xb=yb("getClientVersion"),Tb=yb("attachAssemblyMetadata"),jb=yb("createAssembly"),Cb=yb("createAssemblyWatcher"),Eb=yb("shouldWaitAfterUpload"),Ob=yb("reserveFiles"),Pb=yb("onFileUploadURLAvailable"),Fb=yb("findFile"),Mb=yb("onFileUploadComplete"),Db=yb("onResult"),Ab=yb("onAssemblyFinished"),Rb=yb("cancelAssembly"),Lb=yb("onCancelAll"),Ib=yb("getPersistentData"),Nb=yb("onRestored"),Bb=yb("connectAssembly"),zb=yb("prepareUpload"),Ub=yb("afterUpload"),Hb=yb("closeAssemblyIfExists"),Wb=yb("onError"),Vb=yb("onTusError"),qb=class extends At{constructor(e,t){var i;super(e,t),i=this,Object.defineProperty(this,Bb,{value:rw}),Object.defineProperty(this,Rb,{value:iw}),Object.defineProperty(this,Ab,{value:tw}),Object.defineProperty(this,Db,{value:ew}),Object.defineProperty(this,Mb,{value:Qb}),Object.defineProperty(this,Fb,{value:Jb}),Object.defineProperty(this,Ob,{value:Zb}),Object.defineProperty(this,Eb,{value:Xb}),Object.defineProperty(this,Cb,{value:Kb}),Object.defineProperty(this,jb,{value:$b}),Object.defineProperty(this,Tb,{value:Yb}),Object.defineProperty(this,xb,{value:Gb}),Object.defineProperty(this,Sb,{writable:!0,value:void 0}),Object.defineProperty(this,Pb,{writable:!0,value:e=>{var t;let i=this.uppy.getFile(e.id);if(null==i||null==(t=i.transloadit)||!t.assembly)return;let{assemblies:r}=this.getPluginState(),s=r[i.transloadit.assembly];this.client.addFile(s,i).catch((e=>{this.uppy.log(e),this.uppy.emit("transloadit:import-error",s,i.id,e)}))}}),Object.defineProperty(this,Lb,{writable:!0,value:async function(e){let{reason:t}=void 0===e?{}:e;try{if("user"!==t)return;let{uploadsAssemblies:e}=i.getPluginState(),r=Object.values(e).flat(1).map((e=>i.getAssembly(e)));await Promise.all(r.map((e=>mb(i,Rb)[Rb](e))))}catch(e){i.uppy.log(e)}}}),Object.defineProperty(this,Ib,{writable:!0,value:e=>{let{assemblies:t,uploadsAssemblies:i}=this.getPluginState();e({[this.id]:{assemblies:t,uploadsAssemblies:i}})}}),Object.defineProperty(this,Nb,{writable:!0,value:e=>{let t=e&&e[this.id]?e[this.id]:{},i=t.assemblies||{},r=t.uploadsAssemblies||{};if(0===Object.keys(r).length)return;let s=o((e=>{let t={},i=[];for(let[r,s]of Object.entries(e)){s.uploads.forEach((e=>{let i=mb(this,Fb)[Fb](e);t[e.id]={id:i.id,assembly:r,uploadedFile:e}}));let e=this.getPluginState();Object.keys(s.results).forEach((t=>{for(let n of s.results[t]){let s=e.files[n.original_id];n.localId=s?s.id:null,i.push({id:n.id,result:n,stepName:t,assembly:r})}}))}this.setPluginState({assemblies:e,files:t,results:i,uploadsAssemblies:r})}),"restoreState"),n=o((()=>{let{assemblies:e,uploadsAssemblies:t}=this.getPluginState();Object.keys(t).forEach((e=>{let i=t[e];mb(this,Cb)[Cb](i,e)})),Object.keys(e).forEach((t=>{let i=new Tv(e[t],mb(this,Sb)[Sb]);mb(this,Bb)[Bb](i)}))}),"restoreAssemblies"),a=o((()=>{let{assemblies:e}=this.getPluginState();return Promise.all(Object.keys(e).map((e=>this.activeAssemblies[e].update())))}),"updateAssemblies");this.restored=Promise.resolve().then((()=>(s(i),n(),a()))),this.restored.then((()=>{this.restored=null}))}}),Object.defineProperty(this,zb,{writable:!0,value:(e,t)=>{let i=e.map((e=>this.uppy.getFile(e))).filter((e=>!e.error&&(this.uppy.emit("preprocess-progress",e,{mode:"indeterminate",message:this.i18n("creatingAssembly")}),!0))),r=o((async e=>{let{fileIDs:i,options:r}=e;try{let e=await mb(this,jb)[jb](i,t,r);return this.opts.importFromUploadURLs&&await mb(this,Ob)[Ob](e,i),i.forEach((e=>{let t=this.uppy.getFile(e);this.uppy.emit("preprocess-complete",t)})),e}catch(e){throw i.forEach((t=>{let i=this.uppy.getFile(t);this.uppy.emit("preprocess-complete",i),this.uppy.emit("upload-error",i,e)})),e}}),"createAssembly"),{uploadsAssemblies:s}=this.getPluginState();return this.setPluginState({uploadsAssemblies:{...s,[t]:[]}}),new Vv(i,this.opts).build().then((e=>Promise.all(e.map(r)))).then((e=>{let i=e.filter(Boolean),r=i.map((e=>e.status.assembly_id));return mb(this,Cb)[Cb](r,t),Promise.all(i.map((e=>mb(this,Bb)[Bb](e))))})).catch((e=>{throw i.forEach((t=>{this.uppy.emit("preprocess-complete",t),this.uppy.emit("upload-error",t,e)})),e}))}}),Object.defineProperty(this,Ub,{writable:!0,value:(e,t)=>{let i=e.map((e=>this.uppy.getFile(e))),r=i.filter((e=>!e.error)).map((e=>e.id)),s=this.getPluginState();if(this.restored)return this.restored.then((()=>mb(this,Ub)[Ub](r,t)));let n=s.uploadsAssemblies[t],a=o((()=>{n.forEach((e=>{this.activeAssemblies[e].close(),delete this.activeAssemblies[e]}))}),"closeSocketConnections");if(!mb(this,Eb)[Eb]()){a();let e=n.map((e=>this.getAssembly(e)));return this.uppy.addResultData(t,{transloadit:e}),Promise.resolve()}return 0===n.length?(this.uppy.addResultData(t,{transloadit:[]}),Promise.resolve()):(i.filter((e=>!C(this.completedFiles,e.id))).forEach((e=>{this.uppy.emit("postprocess-progress",e,{mode:"indeterminate",message:this.i18n("encoding")})})),this.assemblyWatchers[t].promise.then((()=>{a();let e=n.map((e=>this.getAssembly(e))),i={...this.getPluginState().uploadsAssemblies};delete i[t],this.setPluginState({uploadsAssemblies:i}),this.uppy.addResultData(t,{transloadit:e})})))}}),Object.defineProperty(this,Hb,{writable:!0,value:e=>{var t;null==(t=this.activeAssemblies[e])||t.close()}}),Object.defineProperty(this,Wb,{writable:!0,value:function(e,t){void 0===e&&(e=null);let r=i.getPluginState().uploadsAssemblies[t];r?.forEach(mb(i,Hb)[Hb]),i.client.submitError(e).catch(bb(e))}}),Object.defineProperty(this,Vb,{writable:!0,value:(e,t)=>{var i,r;if(mb(this,Hb)[Hb](null==e||null==(i=e.transloadit)?void 0:i.assembly),null!=t&&null!=(r=t.message)&&r.startsWith("tus: ")){var s,n;let e=null==(s=t.originalRequest)||null==(n=s.getUnderlyingObject())?void 0:n.responseURL;this.client.submitError(t,{endpoint:e,type:"TUS_ERROR"}).catch(bb(t))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.title="Transloadit",this.defaultLocale=fb;let r={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:vb,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};this.opts={...r,...t},mb(this,Sb)[Sb]=new md(this.opts.limit),this.i18nInit();let s=this.opts.getAssemblyOptions!==r.getAssemblyOptions;this.opts.params?Bv(this.opts.params):s||Bv(null),this.client=new Av({service:this.opts.service,client:mb(this,xb)[xb](),errorReporting:this.opts.errorReporting,rateLimitedQueue:mb(this,Sb)[Sb]}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(mb(this,zb)[zb]),this.uppy.addPostProcessor(mb(this,Ub)[Ub]),this.uppy.on("error",mb(this,Wb)[Wb]),this.uppy.on("cancel-all",mb(this,Lb)[Lb]),this.uppy.on("upload-error",mb(this,Vb)[Vb]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",mb(this,Pb)[Pb]):this.uppy.use(_g,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:mb(this,Sb)[Sb],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",mb(this,Ib)[Ib]),this.uppy.on("restored",mb(this,Nb)[Nb]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});let{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}uninstall(){this.uppy.removePreProcessor(mb(this,zb)[zb]),this.uppy.removePostProcessor(mb(this,Ub)[Ub]),this.uppy.off("error",mb(this,Wb)[Wb]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",mb(this,Pb)[Pb]);let{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}getAssembly(e){let{assemblies:t}=this.getPluginState();return t[e]}getAssemblyFiles(e){return this.uppy.getFiles().filter((t=>{var i;return(null==t||null==(i=t.transloadit)?void 0:i.assembly)===e}))}};function Gb(){let e=[`uppy-core:${this.uppy.constructor.VERSION}`,`uppy-transloadit:${this.constructor.VERSION}`,`uppy-tus:${_g.VERSION}`],t=o(((t,i)=>{let r=this.uppy.getPlugin(t);r&&e.push(`${i}:${r.constructor.VERSION}`)}),"addPluginVersion");return this.opts.importFromUploadURLs&&(t("XHRUpload","uppy-xhr-upload"),t("AwsS3","uppy-aws-s3"),t("AwsS3Multipart","uppy-aws-s3-multipart")),t("Dropbox","uppy-dropbox"),t("Box","uppy-box"),t("Facebook","uppy-facebook"),t("GoogleDrive","uppy-google-drive"),t("Instagram","uppy-instagram"),t("OneDrive","uppy-onedrive"),t("Zoom","uppy-zoom"),t("Url","uppy-url"),e.join(",")}function Yb(e,t){let i={...e.meta,assembly_url:t.assembly_url,filename:e.name,fieldname:"file"},r={...e.tus,endpoint:t.tus_url,addRequestId:!0},{remote:s}=e;if(e.remote&&kb.test(e.remote.companionUrl)){let i=t.companion_url.replace(/\/$/,""),r=e.remote.url.replace(e.remote.companionUrl,"").replace(/^\//,"");s={...e.remote,companionUrl:i,url:`${i}/${r}`}}let n={...e,transloadit:{assembly:t.assembly_id}};return this.opts.importFromUploadURLs||Object.assign(n,{meta:i,tus:r,remote:s}),n}function $b(e,t,i){return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:i.params,fields:i.fields,expectedFiles:e.length,signature:i.signature}).then((async i=>{let r=this.uppy.getFiles().filter((t=>{let{id:i}=t;return e.includes(i)}));if(r.length!==e.length){if(0===r.length)return await this.client.cancelAssembly(i),null;await this.client.updateNumberOfFilesInAssembly(i,r.length)}let s=new Tv(i,mb(this,Sb)[Sb]),{status:n}=s,a=n.assembly_id,{assemblies:l,uploadsAssemblies:h}=this.getPluginState();this.setPluginState({assemblies:{...l,[a]:n},uploadsAssemblies:{...h,[t]:[...h[t],a]}});let c={};r.forEach((e=>{c[e.id]=mb(this,Tb)[Tb](e,n)})),this.uppy.setState({files:{...this.uppy.getState().files,...c}});let d=o(((e,t)=>{if("cancel-all"===t)s.close(),this.uppy.off(d);else if(e.id in c){delete c[e.id];let t=Object.keys(c).length;0===t?(s.close(),mb(this,Rb)[Rb](i).catch((()=>{})),this.uppy.off(d)):this.client.updateNumberOfFilesInAssembly(i,t).catch((()=>{}))}}),"fileRemovedHandler");return this.uppy.on("file-removed",d),this.uppy.emit("transloadit:assembly-created",n,e),this.uppy.log(`[Transloadit] Created Assembly ${a}`),s})).catch((e=>{let t=new Yt(`${this.i18n("creatingAssemblyFailed")}: ${e.message}`,{cause:e});throw"details"in e&&(t.details=e.details),"assembly"in e&&(t.assembly=e.assembly),t}))}function Kb(e,t){let i=new pb(this.uppy,e);i.on("assembly-complete",(e=>{this.getAssemblyFiles(e).forEach((e=>{this.completedFiles[e.id]=!0,this.uppy.emit("postprocess-complete",e)}))})),i.on("assembly-error",((e,t)=>{this.getAssemblyFiles(e).forEach((e=>{this.uppy.emit("upload-error",e,t),this.uppy.emit("postprocess-complete",e)}))})),this.assemblyWatchers[t]=i}function Xb(){return this.opts.waitForEncoding||this.opts.waitForMetadata}function Zb(e,t){return Promise.all(t.map((t=>{let i=this.uppy.getFile(t);return this.client.reserveFile(e.status,i)})))}function Jb(e){let t=this.uppy.getFiles();for(let i=0;i<t.length;i++){let r=t[i];if(r.uploadURL===e.tus_upload_url||r.tus&&r.tus.uploadUrl===e.tus_upload_url||!e.is_tus_file&&r.name===e.name&&r.size===e.size)return r}}function Qb(e,t){let i=this.getPluginState(),r=mb(this,Fb)[Fb](t);r?(this.setPluginState({files:{...i.files,[t.id]:{assembly:e,id:r.id,uploadedFile:t}}}),this.uppy.emit("transloadit:upload",t,this.getAssembly(e))):this.uppy.log("[Transloadit] Couldn’t file the file, it was likely removed in the process")}function ew(e,t,i){let r=this.getPluginState(),s=r.files[i.original_id];i.localId=s?s.id:null;let n={result:i,stepName:t,id:i.id,assembly:e};this.setPluginState({results:[...r.results,n]}),this.uppy.emit("transloadit:result",t,i,this.getAssembly(e))}function tw(e){let t=e.assembly_ssl_url;this.client.getAssemblyStatus(t).then((e=>{let t=e.assembly_id,i=this.getPluginState();this.setPluginState({assemblies:{...i.assemblies,[t]:e}}),this.uppy.emit("transloadit:complete",e)}))}async function iw(e){await this.client.cancelAssembly(e),this.uppy.emit("transloadit:assembly-cancelled",e)}function rw(e){let{status:t}=e,i=t.assembly_id;return this.activeAssemblies[i]=e,e.on("status",(e=>{let{assemblies:t}=this.getPluginState();this.setPluginState({assemblies:{...t,[i]:e}})})),e.on("upload",(e=>{mb(this,Mb)[Mb](i,e)})),e.on("error",(t=>{t.assembly=e.status,this.uppy.emit("transloadit:assembly-error",e.status,t)})),e.on("executing",(()=>{this.uppy.emit("transloadit:assembly-executing",e.status)})),this.opts.waitForEncoding&&e.on("result",((e,t)=>{mb(this,Db)[Db](i,e,t)})),this.opts.waitForEncoding?e.on("finished",(()=>{mb(this,Ab)[Ab](e.status)})):this.opts.waitForMetadata&&e.on("metadata",(()=>{mb(this,Ab)[Ab](e.status)})),"ASSEMBLY_COMPLETE"===e.ok||e.connect(),e}o(qb,"Transloadit"),o(Gb,"_getClientVersion2"),o(Yb,"_attachAssemblyMetadata2"),o($b,"_createAssembly2"),o(Kb,"_createAssemblyWatcher2"),o(Xb,"_shouldWaitAfterUpload2"),o(Zb,"_reserveFiles2"),o(Jb,"_findFile2"),o(Qb,"_onFileUploadComplete2"),o(ew,"_onResult2"),o(tw,"_onAssemblyFinished2"),o(iw,"_cancelAssembly2"),o(rw,"_connectAssembly2"),qb.VERSION="3.0.2",qb.COMPANION=wb,qb.COMPANION_PATTERN=_b;var sw={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function nw(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(nw,"_classPrivateFieldLooseBase");var ow=0;function aw(e){return"__private_"+ow+++"_"+e}o(aw,"_classPrivateFieldLooseKey");function lw(e,t){let i=t;return i||(i=new Error("Upload error")),"string"==typeof i&&(i=new Error(i)),i instanceof Error||(i=Object.assign(new Error("Upload error"),{data:i})),Hd(e)?(i=new Vt(i,e),i):(i.request=e,i)}function hw(e){return e.data.slice(0,e.data.size,e.meta.type)}o(lw,"buildResponseError"),o(hw,"setTypeInBlob");var cw=aw("queueRequestSocketToken"),dw=aw("requestSocketToken"),uw=class extends At{constructor(e,t){super(e,t),Object.defineProperty(this,cw,{writable:!0,value:void 0}),Object.defineProperty(this,dw,{writable:!0,value:async e=>{let t=this.getOptions(e),i=new(e.remote.providerOptions.provider?fi:oi)(this.uppy,e.remote.providerOptions),r=Array.isArray(t.allowedMetaFields)?t.allowedMetaFields:Object.keys(e.meta);return(await i.post(e.remote.url,{...e.remote.body,protocol:"multipart",endpoint:t.endpoint,size:e.data.size,fieldname:t.fieldName,metadata:Object.fromEntries(r.map((t=>[t,e.meta[t]]))),httpMethod:t.method,useFormData:t.formData,headers:t.headers})).token}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=sw;let i={formData:!0,fieldName:t.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:3e4,limit:5,withCredentials:!1,responseType:"",getResponseData(t){let i={};try{i=JSON.parse(t)}catch(t){e.log(t)}return i},getResponseError(e,t){let i=new Error("Upload error");return Hd(t)&&(i=new Vt(i,t)),i},validateStatus:e=>e>=200&&e<300};if(this.opts={...i,...t},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),_d in this.opts?this.requests=this.opts[_d]:this.requests=new md(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if(void 0===t?.allowedMetaFields&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),nw(this,cw)[cw]=this.requests.wrapPromiseFunction(nw(this,dw)[dw],{priority:-1})}getOptions(e){let t=this.uppy.getState().xhrUpload,{headers:i}=this.opts,r={...this.opts,...t||{},...e.xhrUpload||{},headers:{}};return"function"==typeof i?r.headers=i(e):Object.assign(r.headers,this.opts.headers),t&&Object.assign(r.headers,t.headers),e.xhrUpload&&Object.assign(r.headers,e.xhrUpload.headers),r}addMetadata(e,t,i){(Array.isArray(i.allowedMetaFields)?i.allowedMetaFields:Object.keys(t)).forEach((i=>{e.append(i,t[i])}))}createFormDataUpload(e,t){let i=new FormData;this.addMetadata(i,e.meta,t);let r=hw(e);return e.name?i.append(t.fieldName,r,e.meta.name):i.append(t.fieldName,r),i}createBundledUpload(e,t){let i=new FormData,{meta:r}=this.uppy.getState();return this.addMetadata(i,r,t),e.forEach((e=>{let t=this.getOptions(e),r=hw(e);e.name?i.append(t.fieldName,r,e.name):i.append(t.fieldName,r)})),i}upload(e,t,i){let r=this.getOptions(e);return this.uppy.log(`uploading ${t} of ${i}`),new Promise(((t,i)=>{this.uppy.emit("upload-started",e);let s=r.formData?this.createFormDataUpload(e,r):e.data,n=new XMLHttpRequest;this.uploaderEvents[e.id]=new Fd(this.uppy);let o,a=new zd(r.timeout,(()=>{n.abort(),o.done();let t=new Error(this.i18n("timedOut",{seconds:Math.ceil(r.timeout/1e3)}));this.uppy.emit("upload-error",e,t),i(t)})),l=I();n.upload.addEventListener("loadstart",(()=>{this.uppy.log(`[XHRUpload] ${l} started`)})),n.upload.addEventListener("progress",(t=>{this.uppy.log(`[XHRUpload] ${l} progress: ${t.loaded} / ${t.total}`),a.progress(),t.lengthComputable&&this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded,bytesTotal:t.total})})),n.addEventListener("load",(()=>{if(this.uppy.log(`[XHRUpload] ${l} finished`),a.done(),o.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),r.validateStatus(n.status,n.responseText,n)){let i=r.getResponseData(n.responseText,n),s=i[r.responseUrlFieldName],o={status:n.status,body:i,uploadURL:s};return this.uppy.emit("upload-success",e,o),s&&this.uppy.log(`Download ${e.name} from ${s}`),t(e)}let s=r.getResponseData(n.responseText,n),h=lw(n,r.getResponseError(n.responseText,n)),c={status:n.status,body:s};return this.uppy.emit("upload-error",e,h,c),i(h)})),n.addEventListener("error",(()=>{this.uppy.log(`[XHRUpload] ${l} errored`),a.done(),o.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null);let t=lw(n,r.getResponseError(n.responseText,n));return this.uppy.emit("upload-error",e,t),i(t)})),n.open(r.method.toUpperCase(),r.endpoint,!0),n.withCredentials=r.withCredentials,""!==r.responseType&&(n.responseType=r.responseType),o=this.requests.run((()=>{this.uppy.emit("upload-started",e);let t=this.getOptions(e);return Object.keys(t.headers).forEach((e=>{n.setRequestHeader(e,t.headers[e])})),n.send(s),()=>{a.done(),n.abort()}})),this.onFileRemove(e.id,(()=>{o.abort(),i(new Error("File removed"))})),this.onCancelAll(e.id,(e=>{let{reason:t}=e;"user"===t&&o.abort(),i(new Error("Upload cancelled"))}))}))}async uploadRemote(e){try{if(this.uppy.emit("upload-started",e),e.serverToken)return this.connectToServerSocket(e);let t=await nw(this,cw)[cw](e);return this.uppy.getState().files[e.id]?(this.uppy.setFileState(e.id,{serverToken:t}),this.connectToServerSocket(this.uppy.getFile(e.id))):void 0}catch(t){throw this.uppy.emit("upload-error",e,t),t}}connectToServerSocket(e){return new Promise(((t,i)=>{let r,s=this.getOptions(e),n=e.serverToken,a=Td(e.remote.companionUrl),l=o((()=>{null==r&&(r=new Ei({target:`${a}/api/${n}`}),r.on("progress",(t=>xd(this,t,e))),r.on("success",(i=>{let n=s.getResponseData(i.response.responseText,i.response),o=n[s.responseUrlFieldName],a={status:i.response.status,body:n,uploadURL:o};return this.uppy.emit("upload-success",e,a),h.done(),r.close(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),t()})),r.on("error",(t=>{let r=t.response,n=r?s.getResponseError(r.responseText,r):Object.assign(new Error(t.error.message),{cause:t.error});this.uppy.emit("upload-error",e,n),h.done(),this.uploaderEvents[e.id]&&(this.uploaderEvents[e.id].remove(),this.uploaderEvents[e.id]=null),i(n)})))}),"createSocket");this.uploaderEvents[e.id]=new Fd(this.uppy);let h=this.requests.run((()=>{var t;e.isPaused?null==(t=r)||t.send("pause",{}):l();return()=>r.close()}));this.onFileRemove(e.id,(()=>{var i;null==(i=r)||i.send("cancel",{}),h.abort(),t(`upload ${e.id} was removed`)})),this.onCancelAll(e.id,(function(i){let{reason:s}=void 0===i?{}:i;var n;"user"===s&&(null==(n=r)||n.send("cancel",{}),h.abort());t(`upload ${e.id} was canceled`)}));let c=o((()=>{null==r?h.abort():(r.send("pause",{}),h.done()),h=this.requests.run((()=>(e.isPaused||(null==r?l():r.send("resume",{})),()=>r.close())))}),"onRetryRequest");this.onRetry(e.id,c),this.onRetryAll(e.id,c)})).catch((t=>(this.uppy.emit("upload-error",e,t),Promise.reject(t))))}uploadBundle(e){return new Promise(((t,i)=>{let{endpoint:r}=this.opts,{method:s}=this.opts,n=this.uppy.getState().xhrUpload,a=this.createBundledUpload(e,{...this.opts,...n||{}}),l=new XMLHttpRequest,h=o((t=>{e.forEach((e=>{this.uppy.emit("upload-error",e,t)}))}),"emitError"),c=new zd(this.opts.timeout,(()=>{l.abort();let e=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));h(e),i(e)}));l.upload.addEventListener("loadstart",(()=>{this.uppy.log("[XHRUpload] started uploading bundle"),c.progress()})),l.upload.addEventListener("progress",(t=>{c.progress(),t.lengthComputable&&e.forEach((e=>{this.uppy.emit("upload-progress",e,{uploader:this,bytesUploaded:t.loaded/t.total*e.size,bytesTotal:e.size})}))})),l.addEventListener("load",(r=>{if(c.done(),this.opts.validateStatus(r.target.status,l.responseText,l)){let i=this.opts.getResponseData(l.responseText,l),s={status:r.target.status,body:i};return e.forEach((e=>{this.uppy.emit("upload-success",e,s)})),t()}let s=this.opts.getResponseError(l.responseText,l)||new Error("Upload error");return s.request=l,h(s),i(s)})),l.addEventListener("error",(()=>{c.done();let e=this.opts.getResponseError(l.responseText,l)||new Error("Upload error");return h(e),i(e)})),this.uppy.on("cancel-all",(function(e){let{reason:t}=void 0===e?{}:e;"user"===t&&(c.done(),l.abort())})),l.open(s.toUpperCase(),r,!0),l.withCredentials=this.opts.withCredentials,""!==this.opts.responseType&&(l.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach((e=>{l.setRequestHeader(e,this.opts.headers[e])})),l.send(a),e.forEach((e=>{this.uppy.emit("upload-started",e)}))}))}uploadFiles(e){return cg(e.map(((t,i)=>{let r=parseInt(i,10)+1,s=e.length;return t.error?Promise.reject(new Error(t.error)):t.isRemote?this.uploadRemote(t,r,s):this.upload(t,r,s)})))}onFileRemove(e,t){this.uploaderEvents[e].on("file-removed",(i=>{e===i.id&&t(i.id)}))}onRetry(e,t){this.uploaderEvents[e].on("upload-retry",(i=>{e===i&&t()}))}onRetryAll(e,t){this.uploaderEvents[e].on("retry-all",(()=>{!this.uppy.getFile(e)||t()}))}onCancelAll(e,t){var i=this;this.uploaderEvents[e].on("cancel-all",(function(){!i.uppy.getFile(e)||t(...arguments)}))}handleUpload(e){if(0===e.length)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();0===this.opts.limit&&!this.opts[_d]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");let t=e.map((e=>this.uppy.getFile(e)));if(this.opts.bundle){if(t.some((e=>e.isRemote)))throw new Error("Can’t upload remote files when the `bundle: true` option is set");if("function"==typeof this.opts.headers)throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(t)}return this.uploadFiles(t).then((()=>null))}install(){if(this.opts.bundle){let{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){let{capabilities:e}=this.uppy.getState();this.uppy.setState({capabilities:{...e,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}};o(uw,"XHRUpload"),uw.VERSION="3.0.4";var pw=h(u(),1),fw=h(T(),1),mw={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function gw(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))throw new TypeError("attempted to use private field on non-instance");return e}o(gw,"_classPrivateFieldLooseBase");var yw=0;function vw(e){return"__private_"+yw+++"_"+e}o(vw,"_classPrivateFieldLooseKey");var bw=vw("RateLimitedQueue"),ww=class extends At{constructor(e,t){super(e,t),Object.defineProperty(this,bw,{writable:!0,value:void 0}),this.id=this.opts.id||"Compressor",this.type="modifier",this.defaultLocale=mw;this.opts={quality:.6,limit:10,...t},gw(this,bw)[bw]=new md(this.opts.limit),this.i18nInit(),this.prepareUpload=this.prepareUpload.bind(this),this.compress=this.compress.bind(this)}compress(e){return new Promise(((t,i)=>{new fw.default(e,{...this.opts,success:t,error:i})}))}async prepareUpload(e){let t=0,i=[],r=gw(this,bw)[bw].wrapPromiseFunction((async e=>{try{let r=await this.compress(e.data),s=e.data.size-r.size;this.uppy.log(`[Image Compressor] Image ${e.id} compressed by ${(0,pw.default)(s)}`),t+=s;let{name:n,type:o,size:a}=r,l=n&&Y(n).extension;this.uppy.setFileState(e.id,{...n&&{name:n},...l&&{extension:l},...o&&{type:o},...a&&{size:a},data:r}),this.uppy.setFileMeta(e.id,{type:o}),i.push(e)}catch(t){this.uppy.log(`[Image Compressor] Failed to compress ${e.id}:`,"warning"),this.uppy.log(t,"warning")}})),s=e.map((e=>{let t=this.uppy.getFile(e);return this.uppy.emit("preprocess-progress",t,{mode:"indeterminate",message:this.i18n("compressingImages")}),t.isRemote||(t.data.type||(t.data=t.data.slice(0,t.data.size,t.type)),!t.type.startsWith("image/"))?Promise.resolve():r(t)}));await Promise.all(s),this.uppy.emit("compressor:complete",i),t>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,pw.default)(t)}),"info");for(let t of e){let e=this.uppy.getFile(t);this.uppy.emit("preprocess-complete",e)}}install(){this.uppy.addPreProcessor(this.prepareUpload)}uninstall(){this.uppy.removePreProcessor(this.prepareUpload)}};function _w(){return _w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e},_w.apply(this,arguments)}o(ww,"Compressor"),o(_w,"_extends");var kw={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Sw={button:!0,fieldset:!0,reset:!0,submit:!0},xw={checkbox:!0,radio:!0},Tw=/^\s+|\s+$/g,jw=Array.prototype.slice,Cw=Object.prototype.toString;function Ew(e,t){if(!e)throw new Error("A form is required by getFormData, was given form="+e);t=_w({includeDisabled:!1,trim:!1},t);for(var i,r={},s=[],n={},o=0,a=e.elements.length;o<a;o++){var l=e.elements[o];Sw[l.type]||l.disabled&&!t.includeDisabled||(i=l.name||l.id)&&!n[i]&&(s.push(i),n[i]=!0)}for(var h=0,c=s.length;h<c;h++){var d=Ow(e,i=s[h],t);null!=d&&(r[i]=d)}return r}function Ow(e,t,i){if(!e)throw new Error("A form is required by getFieldData, was given form="+e);if(!t&&"[object String]"!==Cw.call(t))throw new Error("A field name is required by getFieldData, was given fieldName="+t);i=_w({includeDisabled:!1,trim:!1},i);var r=e.elements[t];if(!r||r.disabled&&!i.includeDisabled)return null;if(!kw[Cw.call(r)])return Pw(r,i.trim);for(var s=[],n=!0,o=0,a=r.length;o<a;o++)if(!r[o].disabled||i.includeDisabled){n&&"radio"!==r[o].type&&(n=!1);var l=Pw(r[o],i.trim);null!=l&&(s=s.concat(l))}return n&&1===s.length?s[0]:s.length>0?s:null}function Pw(e,t){var i=null,r=e.type;if("select-one"===r)return e.options.length&&(i=e.options[e.selectedIndex].value),i;if("select-multiple"===r){i=[];for(var s=0,n=e.options.length;s<n;s++)e.options[s].selected&&i.push(e.options[s].value);return 0===i.length&&(i=null),i}return"file"===r&&"files"in e?(e.multiple?0===(i=jw.call(e.files)).length&&(i=null):i=e.files[0],i):(xw[r]?e.checked&&(i="checkbox"===r&&!e.hasAttribute("value")||e.value):i=t?e.value.replace(Tw,""):e.value,i)}o(Ew,"getFormData"),o(Ow,"getFieldData"),o(Pw,"getFormElementValue"),Ew.getFieldData=Ow;var Fw=class extends At{constructor(e,t){super(e,t),this.type="acquirer",this.id=this.opts.id||"Form",this.title="Form";this.opts={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1,...t},this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleUploadStart=this.handleUploadStart.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.addResultToForm=this.addResultToForm.bind(this),this.getMetaFromForm=this.getMetaFromForm.bind(this)}handleUploadStart(){this.opts.getMetaFromForm&&this.getMetaFromForm()}handleSuccess(e){this.opts.addResultToForm&&this.addResultToForm(e),this.opts.submitOnSuccess&&this.form.submit()}handleFormSubmit(e){if(this.opts.triggerUploadOnSubmit){e.preventDefault();let t=Jn(e.target.elements),i=[];t.forEach((e=>{("BUTTON"===e.tagName||"INPUT"===e.tagName&&"submit"===e.type)&&!e.disabled&&(e.disabled=!0,i.push(e))})),this.uppy.upload().then((()=>{i.forEach((e=>{e.disabled=!1}))}),(e=>(i.forEach((e=>{e.disabled=!1})),Promise.reject(e)))).catch((e=>{this.uppy.log(e.stack||e.message||e)}))}}addResultToForm(e){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(e);let t=this.form.querySelector(`[name="${this.opts.resultName}"]`);if(t){let i;try{i=JSON.parse(t.value)}catch{}return Array.isArray(i)||(i=[]),i.push(e),void(t.value=JSON.stringify(i))}t=document.createElement("input"),t.name=this.opts.resultName,t.type="hidden",t.value=JSON.stringify([e]),this.form.appendChild(t)}getMetaFromForm(){let e=Ew(this.form);delete e[this.opts.resultName],this.uppy.setMeta(e)}install(){this.form=Ft(this.opts.target),this.form&&"FORM"===this.form.nodeName?(this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)):this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error")}uninstall(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}};o(Fw,"Form"),Fw.VERSION="3.0.1";var Mw=h(d(),1),Dw=typeof navigator<"u"&&"serviceWorker"in navigator;function Aw(){return new Promise(((e,t)=>{Dw?navigator.serviceWorker.controller?e():navigator.serviceWorker.addEventListener("controllerchange",(()=>{e()})):t(new Error("Unsupported"))}))}o(Aw,"waitForServiceWorker");var Rw=class{constructor(e){this.ready=Aw(),this.name=e.storeName}list(){let e={},t=new Promise(((t,i)=>{e.resolve=t,e.reject=i})),i=o((t=>{if(t.data.store===this.name)if("uppy/ALL_FILES"===t.data.type)e.resolve(t.data.files),navigator.serviceWorker.removeEventListener("message",i);else e.reject()}),"onMessage");return this.ready.then((()=>{navigator.serviceWorker.addEventListener("message",i),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:this.name})})),t}put(e){return this.ready.then((()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:this.name,file:e})}))}delete(e){return this.ready.then((()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:this.name,fileID:e})}))}};o(Rw,"ServiceWorkerStore"),Rw.isSupported=Dw;var Lw=Rw,Iw=typeof window<"u"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),Nw=!!Iw,Bw="uppy-blobs",zw="files",Uw=864e5;function Hw(e){e.openCursor().onsuccess=e=>{let t=e.target.result;if(!t)return;let i=t.value;i.expires=Date.now()+Uw,t.update(i)}}function Ww(e){let t=Iw.open(e,3);return new Promise(((e,i)=>{t.onupgradeneeded=t=>{let i=t.target.result,{transaction:r}=t.currentTarget;if(t.oldVersion<2&&i.createObjectStore(zw,{keyPath:"id"}).createIndex("store","store",{unique:!1}),t.oldVersion<3){let e=r.objectStore(zw);e.createIndex("expires","expires",{unique:!1}),Hw(e)}r.oncomplete=()=>{e(i)}},t.onsuccess=t=>{e(t.target.result)},t.onerror=i}))}function Vw(e){return new Promise(((t,i)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=i}))}o(Hw,"migrateExpiration"),o(Ww,"connect"),o(Vw,"waitForRequest");var qw=!1,Gw=class{constructor(e){this.opts={dbName:Bw,storeName:"default",expires:Uw,maxFileSize:10485760,maxTotalSize:314572800,...e},this.name=this.opts.storeName;let t=o((()=>Ww(this.opts.dbName)),"createConnection");qw?this.ready=t():(qw=!0,this.ready=Gw.cleanup().then(t,t))}key(e){return`${this.name}!${e}`}list(){return this.ready.then((e=>Vw(e.transaction([zw],"readonly").objectStore(zw).index("store").getAll(IDBKeyRange.only(this.name))))).then((e=>{let t={};return e.forEach((e=>{t[e.fileID]=e.data})),t}))}get(e){return this.ready.then((t=>Vw(t.transaction([zw],"readonly").objectStore(zw).get(this.key(e))))).then((e=>({id:e.data.fileID,data:e.data.data})))}getSize(){return this.ready.then((e=>{let t=e.transaction([zw],"readonly").objectStore(zw).index("store").openCursor(IDBKeyRange.only(this.name));return new Promise(((e,i)=>{let r=0;t.onsuccess=t=>{let i=t.target.result;i?(r+=i.value.data.size,i.continue()):e(r)},t.onerror=()=>{i(new Error("Could not retrieve stored blobs size"))}}))}))}put(e){return e.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then((e=>e>this.opts.maxTotalSize?Promise.reject(new Error("No space left")):this.ready)).then((t=>Vw(t.transaction([zw],"readwrite").objectStore(zw).add({id:this.key(e.id),fileID:e.id,store:this.name,expires:Date.now()+this.opts.expires,data:e.data}))))}delete(e){return this.ready.then((t=>Vw(t.transaction([zw],"readwrite").objectStore(zw).delete(this.key(e)))))}static cleanup(){return Ww(Bw).then((e=>{let t=e.transaction([zw],"readwrite").objectStore(zw).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise(((i,r)=>{t.onsuccess=t=>{let r=t.target.result;r?(r.delete(),r.continue()):i(e)},t.onerror=r}))})).then((e=>{e.close()}))}};o(Gw,"IndexedDBStore"),Gw.isSupported=Nw;var Yw=Gw;function $w(){let e=[];for(let t=0;t<localStorage.length;t++){let i=localStorage.key(t);/^uppyState:/.test(i)&&e.push(i.slice(10))}return e}function Kw(e){try{return JSON.parse(e)}catch{return null}}o($w,"findUppyInstances"),o(Kw,"maybeParse");var Xw=!1,Zw=class{constructor(e){this.opts={expires:864e5,...e},this.name=`uppyState:${e.storeName}`,Xw||(Xw=!0,Zw.cleanup())}load(){let e=localStorage.getItem(this.name);if(!e)return null;let t=Kw(e);return t?t.metadata?t.metadata:(this.save(t),t):null}save(e){let t=Date.now()+this.opts.expires,i=JSON.stringify({metadata:e,expires:t});localStorage.setItem(this.name,i)}static cleanup(e){if(e)return void localStorage.removeItem(`uppyState:${e}`);let t=$w(),i=Date.now();t.forEach((e=>{let t=localStorage.getItem(`uppyState:${e}`);if(!t)return;let r=Kw(t);!r||r.expires&&r.expires<i&&localStorage.removeItem(`uppyState:${e}`)}))}};o(Zw,"MetaDataStore");var Jw=class extends At{constructor(e,t){super(e,t),this.addBlobToStores=e=>{e.isRemote||(this.ServiceWorkerStore&&this.ServiceWorkerStore.put(e).catch((e=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(e)})),this.IndexedDBStore.put(e).catch((e=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(e)})))},this.removeBlobFromStores=e=>{this.ServiceWorkerStore&&this.ServiceWorkerStore.delete(e.id).catch((e=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(e)})),this.IndexedDBStore.delete(e.id).catch((e=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(e)}))},this.replaceBlobInStores=e=>{this.removeBlobFromStores(e),this.addBlobToStores(e)},this.handleRestoreConfirmed=()=>{this.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");let{currentUploads:e}=this.uppy.getState();e&&(this.uppy.resumeAll(),Object.keys(e).forEach((t=>{this.uppy.restore(t,e[t])}))),this.uppy.setState({recoveredState:null})},this.abortRestore=()=>{this.uppy.log("[GoldenRetriever] Aborting restore...");let e=Object.keys(this.uppy.getState().files);this.deleteBlobs(e).then((()=>{this.uppy.log(`[GoldenRetriever] Removed ${e.length} files`)})).catch((t=>{this.uppy.log(`[GoldenRetriever] Could not remove ${e.length} files`,"warning"),this.uppy.log(t)})),this.uppy.cancelAll(),this.uppy.setState({recoveredState:null}),Zw.cleanup(this.uppy.opts.id)},this.handleComplete=e=>{let{successful:t}=e,i=t.map((e=>e.id));this.deleteBlobs(i).then((()=>{this.uppy.log(`[GoldenRetriever] Removed ${t.length} files that finished uploading`)})).catch((e=>{this.uppy.log(`[GoldenRetriever] Could not remove ${t.length} files that finished uploading`,"warning"),this.uppy.log(e)})),this.uppy.setState({recoveredState:null}),Zw.cleanup(this.uppy.opts.id)},this.restoreBlobs=()=>{this.uppy.getFiles().length>0?Promise.all([this.loadFileBlobsFromServiceWorker(),this.loadFileBlobsFromIndexedDB()]).then((e=>{let t={...e[0],...e[1]};this.onBlobsLoaded(t)})):this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...")},this.type="debugger",this.id=this.opts.id||"GoldenRetriever",this.title="Golden Retriever";this.opts={expires:864e5,serviceWorker:!1,...t},this.MetaDataStore=new Zw({expires:this.opts.expires,storeName:e.getID()}),this.ServiceWorkerStore=null,this.opts.serviceWorker&&(this.ServiceWorkerStore=new Lw({storeName:e.getID()})),this.IndexedDBStore=new Yw({expires:this.opts.expires,...this.opts.indexedDB||{},storeName:e.getID()}),this.saveFilesStateToLocalStorage=(0,Mw.default)(this.saveFilesStateToLocalStorage.bind(this),500,{leading:!0,trailing:!0}),this.restoreState=this.restoreState.bind(this),this.loadFileBlobsFromServiceWorker=this.loadFileBlobsFromServiceWorker.bind(this),this.loadFileBlobsFromIndexedDB=this.loadFileBlobsFromIndexedDB.bind(this),this.onBlobsLoaded=this.onBlobsLoaded.bind(this)}restoreState(){let e=this.MetaDataStore.load();e&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:e.currentUploads||{},files:e.files||{},recoveredState:e}),this.savedPluginData=e.pluginData)}getWaitingFiles(){let e={};return this.uppy.getFiles().forEach((t=>{(!t.progress||!t.progress.uploadStarted)&&(e[t.id]=t)})),e}getUploadingFiles(){let e={},{currentUploads:t}=this.uppy.getState();return t&&Object.keys(t).forEach((i=>{t[i].fileIDs.forEach((t=>{e[t]=this.uppy.getFile(t)}))})),e}saveFilesStateToLocalStorage(){let e={...this.getWaitingFiles(),...this.getUploadingFiles()};if(0===Object.keys(e).length)return null!==this.uppy.getState().recoveredState&&this.uppy.setState({recoveredState:null}),void Zw.cleanup(this.uppy.opts.id);let t={};Object.keys(e).forEach((i=>{e[i].isRemote?t[i]={...e[i],isRestored:!0}:t[i]={...e[i],isRestored:!0,data:null,preview:null}}));let i={};this.uppy.emit("restore:get-data",(e=>{Object.assign(i,e)}));let{currentUploads:r}=this.uppy.getState();this.MetaDataStore.save({currentUploads:r,files:t,pluginData:i})}loadFileBlobsFromServiceWorker(){return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then((e=>{let t=Object.keys(e).length;return t>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${t} blobs from Service Worker!`),e):(this.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})})).catch((e=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),this.uppy.log(e),{}))):Promise.resolve({})}loadFileBlobsFromIndexedDB(){return this.IndexedDBStore.list().then((e=>{let t=Object.keys(e).length;return t>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${t} blobs from IndexedDB!`),e):(this.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})})).catch((e=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),this.uppy.log(e),{})))}onBlobsLoaded(e){let t=[],i={...this.uppy.getState().files};Object.keys(e).forEach((r=>{let s=this.uppy.getFile(r);if(!s)return void t.push(r);let n={data:e[r],isRestored:!0,isGhost:!1};i[r]={...s,...n}})),Object.keys(i).forEach((e=>{null===i[e].data&&(i[e]={...i[e],isGhost:!0})})),this.uppy.setState({files:i}),this.uppy.emit("restored",this.savedPluginData),t.length&&this.deleteBlobs(t).then((()=>{this.uppy.log(`[GoldenRetriever] Cleaned up ${t.length} old files`)})).catch((e=>{this.uppy.log(`[GoldenRetriever] Could not clean up ${t.length} old files`,"warning"),this.uppy.log(e)}))}deleteBlobs(e){let t=[];return e.forEach((e=>{this.ServiceWorkerStore&&t.push(this.ServiceWorkerStore.delete(e)),this.IndexedDBStore&&t.push(this.IndexedDBStore.delete(e))})),Promise.all(t)}install(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}uninstall(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}};o(Jw,"GoldenRetriever"),Jw.VERSION="3.0.2";var Qw=class extends Ut{constructor(e,t){super(e,t),this.type="debugger",this.id=this.opts.id||"ReduxDevTools",this.title="Redux DevTools";this.opts={...t},this.handleStateChange=this.handleStateChange.bind(this),this.initDevTools=this.initDevTools.bind(this)}handleStateChange(e,t){this.devTools.send("UPPY_STATE_UPDATE",t)}initDevTools(){this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe((e=>{if("DISPATCH"===e.type)switch(e.payload.type){case"RESET":return void this.uppy.cancelAll();case"IMPORT_STATE":{let{computedStates:t}=e.payload.nextLiftedState;return this.uppy.store.state={...this.uppy.getState(),...t[t.length-1].state},void this.uppy.updateAll(this.uppy.getState())}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":this.uppy.store.state={...this.uppy.getState(),...JSON.parse(e.state)},this.uppy.updateAll(this.uppy.getState())}}))}install(){this.withDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}uninstall(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}};function e_(){throw new Error("Core has been renamed to Uppy")}o(Qw,"ReduxDevTools"),Qw.VERSION="3.0.1",o(e_,"Core");var t_={ProviderView:Oi};qb.COMPANION_URL=wb,qb.COMPANION_ALLOWED_HOSTS=_b;var i_={};globalThis.Uppy=j})(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports&&"string"!=typeof exports.nodeName?module.exports=t():e.Croppie=t()}("undefined"!=typeof self?self:this,(function(){"function"!=typeof Promise&&function(e){function t(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],l(e,t(s,this),t(n,this))}function r(e){var t=this;return null===this._state?void this._deferreds.push(e):void c((function(){var i=t._state?e.onFulfilled:e.onRejected;if(null!==i){var r;try{r=i(t._value)}catch(t){return void e.reject(t)}e.resolve(r)}else(t._state?e.resolve:e.reject)(t._value)}))}function s(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void l(t(i,e),t(s,this),t(n,this))}this._state=!0,this._value=e,o.call(this)}catch(e){n.call(this,e)}}function n(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,t=this._deferreds.length;t>e;e++)r.call(this,this._deferreds[e]);this._deferreds=null}function a(e,t,i,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=i,this.reject=r}function l(e,t,i){var r=!1;try{e((function(e){r||(r=!0,t(e))}),(function(e){r||(r=!0,i(e))}))}catch(e){if(r)return;r=!0,i(e)}}var h=setTimeout,c="function"==typeof setImmediate&&setImmediate||function(e){h(e,1)},d=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var s=this;return new i((function(i,n){r.call(s,new a(e,t,i,n))}))},i.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new i((function(t,i){function r(n,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,(function(e){r(n,e)}),i)}e[n]=o,0==--s&&t(e)}catch(e){i(e)}}if(0===e.length)return t([]);for(var s=e.length,n=0;n<e.length;n++)r(n,e[n])}))},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i((function(t){t(e)}))},i.reject=function(e){return new i((function(t,i){i(e)}))},i.race=function(e){return new i((function(t,i){for(var r=0,s=e.length;s>r;r++)e[r].then(t,i)}))},i._setImmediateFn=function(e){c=e},"undefined"!=typeof module&&module.exports?module.exports=i:e.Promise||(e.Promise=i)}(this),"undefined"!=typeof window&&"function"!=typeof window.CustomEvent&&function(){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),i}e.prototype=window.Event.prototype,window.CustomEvent=e}(),"undefined"==typeof HTMLCanvasElement||HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,i){for(var r=atob(this.toDataURL(t,i).split(",")[1]),s=r.length,n=new Uint8Array(s),o=0;o<s;o++)n[o]=r.charCodeAt(o);e(new Blob([n],{type:t||"image/png"}))}});var e,t,i,r=["Webkit","Moz","ms"],s="undefined"!=typeof document?document.createElement("div").style:{},n=[1,8,3,6],o=[2,7,4,5];function a(e){if(e in s)return e;for(var t=e[0].toUpperCase()+e.slice(1),i=r.length;i--;)if((e=r[i]+t)in s)return e}function l(e,t){for(var i in e=e||{},t)t[i]&&t[i].constructor&&t[i].constructor===Object?(e[i]=e[i]||{},l(e[i],t[i])):e[i]=t[i];return e}function h(e){return l({},e)}function c(e){if("createEvent"in document){var t=document.createEvent("HTMLEvents");t.initEvent("change",!1,!0),e.dispatchEvent(t)}else e.fireEvent("onchange")}function d(e,t,i){if("string"==typeof t){var r=t;(t={})[r]=i}for(var s in t)e.style[s]=t[s]}function u(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function p(e,t){for(var i in t)e.setAttribute(i,t[i])}function f(e){return parseInt(e,10)}function m(e,t){var i=e.naturalWidth,r=e.naturalHeight,s=t||b(e);if(s&&s>=5){var n=i;i=r,r=n}return{width:i,height:r}}t=a("transform"),e=a("transformOrigin"),i=a("userSelect");var g={translate3d:{suffix:", 0px"},translate:{suffix:""}},y=function(e,t,i){this.x=parseFloat(e),this.y=parseFloat(t),this.scale=parseFloat(i)};y.parse=function(e){return e.style?y.parse(e.style[t]):e.indexOf("matrix")>-1||e.indexOf("none")>-1?y.fromMatrix(e):y.fromString(e)},y.fromMatrix=function(e){var t=e.substring(7).split(",");return t.length&&"none"!==e||(t=[1,0,0,1,0,0]),new y(f(t[4]),f(t[5]),parseFloat(t[0]))},y.fromString=function(e){var t=e.split(") "),i=t[0].substring(se.globals.translate.length+1).split(","),r=t.length>1?t[1].substring(6):1,s=i.length>1?i[0]:0,n=i.length>1?i[1]:0;return new y(s,n,r)},y.prototype.toString=function(){var e=g[se.globals.translate].suffix||"";return se.globals.translate+"("+this.x+"px, "+this.y+"px"+e+") scale("+this.scale+")"};var v=function(t){if(!t||!t.style[e])return this.x=0,void(this.y=0);var i=t.style[e].split(" ");this.x=parseFloat(i[0]),this.y=parseFloat(i[1])};function b(e){return e.exifdata&&e.exifdata.Orientation?f(e.exifdata.Orientation):1}function w(e,t,i){var r=t.width,s=t.height,n=e.getContext("2d");switch(e.width=t.width,e.height=t.height,n.save(),i){case 2:n.translate(r,0),n.scale(-1,1);break;case 3:n.translate(r,s),n.rotate(180*Math.PI/180);break;case 4:n.translate(0,s),n.scale(1,-1);break;case 5:e.width=s,e.height=r,n.rotate(90*Math.PI/180),n.scale(1,-1);break;case 6:e.width=s,e.height=r,n.rotate(90*Math.PI/180),n.translate(0,-s);break;case 7:e.width=s,e.height=r,n.rotate(-90*Math.PI/180),n.translate(-r,s),n.scale(1,-1);break;case 8:e.width=s,e.height=r,n.translate(0,r),n.rotate(-90*Math.PI/180)}n.drawImage(t,0,0,r,s),n.restore()}function _(){var e,t,i,r,s,n,o=this,a=o.options.viewport.type?"cr-vp-"+o.options.viewport.type:null;o.options.useCanvas=o.options.enableOrientation||k.call(o),o.data={},o.elements={},e=o.elements.boundary=document.createElement("div"),i=o.elements.viewport=document.createElement("div"),t=o.elements.img=document.createElement("img"),r=o.elements.overlay=document.createElement("div"),o.options.useCanvas?(o.elements.canvas=document.createElement("canvas"),o.elements.preview=o.elements.canvas):o.elements.preview=t,u(e,"cr-boundary"),e.setAttribute("aria-dropeffect","none"),s=o.options.boundary.width,n=o.options.boundary.height,d(e,{width:s+(isNaN(s)?"":"px"),height:n+(isNaN(n)?"":"px")}),u(i,"cr-viewport"),a&&u(i,a),d(i,{width:o.options.viewport.width+"px",height:o.options.viewport.height+"px"}),i.setAttribute("tabindex",0),u(o.elements.preview,"cr-image"),p(o.elements.preview,{alt:"preview","aria-grabbed":"false"}),u(r,"cr-overlay"),o.element.appendChild(e),e.appendChild(o.elements.preview),e.appendChild(i),e.appendChild(r),u(o.element,"croppie-container"),o.options.customClass&&u(o.element,o.options.customClass),O.call(this),o.options.enableZoom&&T.call(o),o.options.enableResize&&S.call(o)}function k(){return this.options.enableExif&&window.EXIF}function S(){var e,t,r,s,n,o,a,l=this,h=document.createElement("div"),c=!1,p=50;function f(o){if((void 0===o.button||0===o.button)&&(o.preventDefault(),!c)){var a=l.elements.overlay.getBoundingClientRect();if(c=!0,t=o.pageX,r=o.pageY,e=-1!==o.currentTarget.className.indexOf("vertical")?"v":"h",s=a.width,n=a.height,o.touches){var h=o.touches[0];t=h.pageX,r=h.pageY}window.addEventListener("mousemove",m),window.addEventListener("touchmove",m),window.addEventListener("mouseup",g),window.addEventListener("touchend",g),document.body.style[i]="none"}}function m(i){var o=i.pageX,a=i.pageY;if(i.preventDefault(),i.touches){var c=i.touches[0];o=c.pageX,a=c.pageY}var u=o-t,f=a-r,m=l.options.viewport.height+f,g=l.options.viewport.width+u;"v"===e&&m>=p&&m<=n?(d(h,{height:m+"px"}),l.options.boundary.height+=f,d(l.elements.boundary,{height:l.options.boundary.height+"px"}),l.options.viewport.height+=f,d(l.elements.viewport,{height:l.options.viewport.height+"px"})):"h"===e&&g>=p&&g<=s&&(d(h,{width:g+"px"}),l.options.boundary.width+=u,d(l.elements.boundary,{width:l.options.boundary.width+"px"}),l.options.viewport.width+=u,d(l.elements.viewport,{width:l.options.viewport.width+"px"})),P.call(l),B.call(l),E.call(l),L.call(l),r=a,t=o}function g(){c=!1,window.removeEventListener("mousemove",m),window.removeEventListener("touchmove",m),window.removeEventListener("mouseup",g),window.removeEventListener("touchend",g),document.body.style[i]=""}u(h,"cr-resizer"),d(h,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(u(o=document.createElement("div"),"cr-resizer-vertical"),h.appendChild(o)),this.options.resizeControls.width&&(u(a=document.createElement("div"),"cr-resizer-horisontal"),h.appendChild(a)),o&&(o.addEventListener("mousedown",f),o.addEventListener("touchstart",f)),a&&(a.addEventListener("mousedown",f),a.addEventListener("touchstart",f)),this.elements.boundary.appendChild(h)}function x(e){if(this.options.enableZoom){var t=this.elements.zoomer,i=K(e,4);t.value=Math.max(parseFloat(t.min),Math.min(parseFloat(t.max),i)).toString()}}function T(){var e=this,t=e.elements.zoomerWrap=document.createElement("div"),i=e.elements.zoomer=document.createElement("input");function r(){j.call(e,{value:parseFloat(i.value),origin:new v(e.elements.preview),viewportRect:e.elements.viewport.getBoundingClientRect(),transform:y.parse(e.elements.preview)})}function s(t){var i,s;if("ctrl"===e.options.mouseWheelZoom&&!0!==t.ctrlKey)return 0;i=t.wheelDelta?t.wheelDelta/1200:t.deltaY?t.deltaY/1060:t.detail?t.detail/-60:0,s=e._currentZoom+i*e._currentZoom,t.preventDefault(),x.call(e,s),r.call(e)}u(t,"cr-slider-wrap"),u(i,"cr-slider"),i.type="range",i.step="0.0001",i.value="1",i.style.display=e.options.showZoomer?"":"none",i.setAttribute("aria-label","zoom"),e.element.appendChild(t),t.appendChild(i),e._currentZoom=1,e.elements.zoomer.addEventListener("input",r),e.elements.zoomer.addEventListener("change",r),e.options.mouseWheelZoom&&(e.elements.boundary.addEventListener("mousewheel",s),e.elements.boundary.addEventListener("DOMMouseScroll",s))}function j(i){var r=this,s=i?i.transform:y.parse(r.elements.preview),n=i?i.viewportRect:r.elements.viewport.getBoundingClientRect(),o=i?i.origin:new v(r.elements.preview);function a(){var i={};i[t]=s.toString(),i[e]=o.toString(),d(r.elements.preview,i)}if(r._currentZoom=i?i.value:r._currentZoom,s.scale=r._currentZoom,r.elements.zoomer.setAttribute("aria-valuenow",r._currentZoom),a(),r.options.enforceBoundary){var l=C.call(r,n),h=l.translate,c=l.origin;s.x>=h.maxX&&(o.x=c.minX,s.x=h.maxX),s.x<=h.minX&&(o.x=c.maxX,s.x=h.minX),s.y>=h.maxY&&(o.y=c.minY,s.y=h.maxY),s.y<=h.minY&&(o.y=c.maxY,s.y=h.minY)}a(),R.call(r),L.call(r)}function C(e){var t=this,i=t._currentZoom,r=e.width,s=e.height,n=t.elements.boundary.clientWidth/2,o=t.elements.boundary.clientHeight/2,a=t.elements.preview.getBoundingClientRect(),l=a.width,h=a.height,c=r/2,d=s/2,u=-1*(c/i-n),p=-1*(d/i-o),f=1/i*c,m=1/i*d;return{translate:{maxX:u,minX:u-(l*(1/i)-r*(1/i)),maxY:p,minY:p-(h*(1/i)-s*(1/i))},origin:{maxX:l*(1/i)-f,minX:f,maxY:h*(1/i)-m,minY:m}}}function E(i){var r=this,s=r._currentZoom,n=r.elements.preview.getBoundingClientRect(),o=r.elements.viewport.getBoundingClientRect(),a=y.parse(r.elements.preview.style[t]),l=new v(r.elements.preview),h=o.top-n.top+o.height/2,c=o.left-n.left+o.width/2,u={},p={};if(i){var f=l.x,m=l.y,g=a.x,b=a.y;u.y=f,u.x=m,a.y=g,a.x=b}else u.y=h/s,u.x=c/s,p.y=(u.y-l.y)*(1-s),p.x=(u.x-l.x)*(1-s),a.x-=p.x,a.y-=p.y;var w={};w[e]=u.x+"px "+u.y+"px",w[t]=a.toString(),d(r.elements.preview,w)}function O(){var e,r,s,n,o,a=this,l=!1;function h(e,t){var i=a.elements.preview.getBoundingClientRect(),r=o.y+t,s=o.x+e;a.options.enforceBoundary?(n.top>i.top+t&&n.bottom<i.bottom+t&&(o.y=r),n.left>i.left+e&&n.right<i.right+e&&(o.x=s)):(o.y=r,o.x=s)}function u(e){a.elements.preview.setAttribute("aria-grabbed",e),a.elements.boundary.setAttribute("aria-dropeffect",e?"move":"none")}function p(t){if((void 0===t.button||0===t.button)&&(t.preventDefault(),!l)){if(l=!0,e=t.pageX,r=t.pageY,t.touches){var s=t.touches[0];e=s.pageX,r=s.pageY}u(l),o=y.parse(a.elements.preview),window.addEventListener("mousemove",f),window.addEventListener("touchmove",f),window.addEventListener("mouseup",m),window.addEventListener("touchend",m),document.body.style[i]="none",n=a.elements.viewport.getBoundingClientRect()}}function f(i){i.preventDefault();var n=i.pageX,l=i.pageY;if(i.touches){var u=i.touches[0];n=u.pageX,l=u.pageY}var p=n-e,f=l-r,m={};if("touchmove"===i.type&&i.touches.length>1){var g=i.touches[0],y=i.touches[1],v=Math.sqrt((g.pageX-y.pageX)*(g.pageX-y.pageX)+(g.pageY-y.pageY)*(g.pageY-y.pageY));s||(s=v/a._currentZoom);var b=v/s;return x.call(a,b),void c(a.elements.zoomer)}h(p,f),m[t]=o.toString(),d(a.elements.preview,m),P.call(a),r=l,e=n}function m(){u(l=!1),window.removeEventListener("mousemove",f),window.removeEventListener("touchmove",f),window.removeEventListener("mouseup",m),window.removeEventListener("touchend",m),document.body.style[i]="",E.call(a),L.call(a),s=0}a.elements.overlay.addEventListener("mousedown",p),a.elements.viewport.addEventListener("keydown",(function(e){var r;if(!e.shiftKey||38!==e.keyCode&&40!==e.keyCode){if(a.options.enableKeyMovement&&e.keyCode>=37&&e.keyCode<=40){e.preventDefault();var l=function(e){switch(e){case 37:return[1,0];case 38:return[0,1];case 39:return[-1,0];case 40:return[0,-1]}}(e.keyCode);o=y.parse(a.elements.preview),document.body.style[i]="none",n=a.elements.viewport.getBoundingClientRect(),function(e){var r=e[0],n=e[1],l={};h(r,n),l[t]=o.toString(),d(a.elements.preview,l),P.call(a),document.body.style[i]="",E.call(a),L.call(a),s=0}(l)}}else r=38===e.keyCode?parseFloat(a.elements.zoomer.value)+parseFloat(a.elements.zoomer.step):parseFloat(a.elements.zoomer.value)-parseFloat(a.elements.zoomer.step),a.setZoom(r)})),a.elements.overlay.addEventListener("touchstart",p)}function P(){if(this.elements){var e=this,t=e.elements.boundary.getBoundingClientRect(),i=e.elements.preview.getBoundingClientRect();d(e.elements.overlay,{width:i.width+"px",height:i.height+"px",top:i.top-t.top+"px",left:i.left-t.left+"px"})}}v.prototype.toString=function(){return this.x+"px "+this.y+"px"};var F,M,D,A,R=(F=P,M=500,function(){var e=this,t=arguments,i=D&&!A;clearTimeout(A),A=setTimeout((function(){A=null,D||F.apply(e,t)}),M),i&&F.apply(e,t)});function L(){var e,t=this,i=t.get();I.call(t)&&(t.options.update.call(t,i),t.$&&"undefined"==typeof Prototype?t.$(t.element).trigger("update.croppie",i):(window.CustomEvent?e=new CustomEvent("update",{detail:i}):(e=document.createEvent("CustomEvent")).initCustomEvent("update",!0,!0,i),t.element.dispatchEvent(e)))}function I(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function N(){var i,r=this,s={},n=r.elements.preview,o=new y(0,0,1),a=new v;I.call(r)&&!r.data.bound&&(r.data.bound=!0,s[t]=o.toString(),s[e]=a.toString(),s.opacity=1,d(n,s),i=r.elements.preview.getBoundingClientRect(),r._originalImageWidth=i.width,r._originalImageHeight=i.height,r.data.orientation=k.call(r)?b(r.elements.img):r.data.orientation,r.options.enableZoom?B.call(r,!0):r._currentZoom=1,o.scale=r._currentZoom,s[t]=o.toString(),d(n,s),r.data.points.length?z.call(r,r.data.points):U.call(r),E.call(r),P.call(r))}function B(e){var t,i,r,s,n=this,o=Math.max(n.options.minZoom,0)||0,a=n.options.maxZoom||1.5,l=n.elements.zoomer,h=parseFloat(l.value),d=n.elements.boundary.getBoundingClientRect(),u=m(n.elements.img,n.data.orientation),p=n.elements.viewport.getBoundingClientRect();n.options.enforceBoundary&&(r=p.width/u.width,s=p.height/u.height,o=Math.max(r,s)),o>=a&&(a=o+1),l.min=K(o,4),l.max=K(a,4),!e&&(h<l.min||h>l.max)?x.call(n,h<l.min?l.min:l.max):e&&(i=Math.max(d.width/u.width,d.height/u.height),t=null!==n.data.boundZoom?n.data.boundZoom:i,x.call(n,t)),c(l)}function z(i){if(4!==i.length)throw"Croppie - Invalid number of points supplied: "+i;var r=this,s=i[2]-i[0],n=r.elements.viewport.getBoundingClientRect(),o=r.elements.boundary.getBoundingClientRect(),a=n.left-o.left,l=n.top-o.top,h=n.width/s,c=i[1],u=i[0],p=-1*i[1]+l,f=-1*i[0]+a,m={};m[e]=u+"px "+c+"px",m[t]=new y(f,p,h).toString(),d(r.elements.preview,m),x.call(r,h),r._currentZoom=h}function U(){var e=this,i=e.elements.preview.getBoundingClientRect(),r=e.elements.viewport.getBoundingClientRect(),s=e.elements.boundary.getBoundingClientRect(),n=r.left-s.left,o=r.top-s.top,a=n-(i.width-r.width)/2,l=o-(i.height-r.height)/2,h=new y(a,l,e._currentZoom);d(e.elements.preview,t,h.toString())}function H(e){var t=this,i=t.elements.canvas,r=t.elements.img;i.getContext("2d").clearRect(0,0,i.width,i.height),i.width=r.width,i.height=r.height,w(i,r,t.options.enableOrientation&&e||b(r))}function W(e){var t=this,i=e.points,r=f(i[0]),s=f(i[1]),n=f(i[2])-r,o=f(i[3])-s,a=e.circle,l=document.createElement("canvas"),h=l.getContext("2d"),c=e.outputWidth||n,d=e.outputHeight||o;l.width=c,l.height=d,e.backgroundColor&&(h.fillStyle=e.backgroundColor,h.fillRect(0,0,c,d));var u=r,p=s,m=n,g=o,y=0,v=0,b=c,w=d;return r<0&&(u=0,y=Math.abs(r)/n*c),m+u>t._originalImageWidth&&(b=(m=t._originalImageWidth-u)/n*c),s<0&&(p=0,v=Math.abs(s)/o*d),g+p>t._originalImageHeight&&(w=(g=t._originalImageHeight-p)/o*d),h.drawImage(this.elements.preview,u,p,m,g,y,v,b,w),a&&(h.fillStyle="#fff",h.globalCompositeOperation="destination-in",h.beginPath(),h.arc(l.width/2,l.height/2,l.width/2,0,2*Math.PI,!0),h.closePath(),h.fill()),l}function V(e){var t=e.points,i=document.createElement("div"),r=document.createElement("img"),s=t[2]-t[0],n=t[3]-t[1];return u(i,"croppie-result"),i.appendChild(r),d(r,{left:-1*t[0]+"px",top:-1*t[1]+"px"}),r.src=e.url,d(i,{width:s+"px",height:n+"px"}),i}function q(e){return W.call(this,e).toDataURL(e.format,e.quality)}function G(e){var t=this;return new Promise((function(i){W.call(t,e).toBlob((function(e){i(e)}),e.format,e.quality)}))}function Y(e){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,(function(t){e.classList.add(t)})),this.elements.img.parentNode.replaceChild(e,this.elements.img),this.elements.preview=e),this.elements.img=e}function $(e,t){var i,r=this,s=[],n=null,o=k.call(r);if("string"==typeof e)i=e,e={};else if(Array.isArray(e))s=e.slice();else{if(void 0===e&&r.data.url)return N.call(r),L.call(r),null;i=e.url,s=e.points||[],n=void 0===e.zoom?null:e.zoom}return r.data.bound=!1,r.data.url=i||r.data.url,r.data.boundZoom=n,function(e,t){if(!e)throw"Source image missing";var i=new Image;return i.style.opacity="0",new Promise((function(r,s){function n(){i.style.opacity="1",setTimeout((function(){r(i)}),1)}i.removeAttribute("crossOrigin"),e.match(/^https?:\/\/|^\/\//)&&i.setAttribute("crossOrigin","anonymous"),i.onload=function(){t?EXIF.getData(i,(function(){n()})):n()},i.onerror=function(e){i.style.opacity=1,setTimeout((function(){s(e)}),1)},i.src=e}))}(i,o).then((function(i){if(Y.call(r,i),s.length)r.options.relative&&(s=[s[0]*i.naturalWidth/100,s[1]*i.naturalHeight/100,s[2]*i.naturalWidth/100,s[3]*i.naturalHeight/100]);else{var n,o,a=m(i),l=r.elements.viewport.getBoundingClientRect(),h=l.width/l.height;a.width/a.height>h?n=(o=a.height)*h:(n=a.width,o=a.height/h);var c=(a.width-n)/2,d=(a.height-o)/2,u=c+n,p=d+o;r.data.points=[c,d,u,p]}r.data.orientation=e.orientation||1,r.data.points=s.map((function(e){return parseFloat(e)})),r.options.useCanvas&&H.call(r,r.data.orientation),N.call(r),L.call(r),t&&t()}))}function K(e,t){return parseFloat(e).toFixed(t||0)}function X(){var e=this,t=e.elements.preview.getBoundingClientRect(),i=e.elements.viewport.getBoundingClientRect(),r=i.left-t.left,s=i.top-t.top,n=(i.width-e.elements.viewport.offsetWidth)/2,o=(i.height-e.elements.viewport.offsetHeight)/2,a=r+e.elements.viewport.offsetWidth+n,l=s+e.elements.viewport.offsetHeight+o,h=e._currentZoom;(h===1/0||isNaN(h))&&(h=1);var c=e.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return r=Math.max(c,r/h),s=Math.max(c,s/h),a=Math.max(c,a/h),l=Math.max(c,l/h),{points:[K(r),K(s),K(a),K(l)],zoom:h,orientation:e.data.orientation}}var Z={type:"canvas",format:"png",quality:1},J=["jpeg","webp","png"];function Q(e){var t=this,i=X.call(t),r=l(h(Z),h(e)),s="string"==typeof e?e:r.type||"base64",n=r.size||"viewport",o=r.format,a=r.quality,c=r.backgroundColor,d="boolean"==typeof r.circle?r.circle:"circle"===t.options.viewport.type,u=t.elements.viewport.getBoundingClientRect(),p=u.width/u.height;return"viewport"===n?(i.outputWidth=u.width,i.outputHeight=u.height):"object"==typeof n&&(n.width&&n.height?(i.outputWidth=n.width,i.outputHeight=n.height):n.width?(i.outputWidth=n.width,i.outputHeight=n.width/p):n.height&&(i.outputWidth=n.height*p,i.outputHeight=n.height)),J.indexOf(o)>-1&&(i.format="image/"+o,i.quality=a),i.circle=d,i.url=t.data.url,i.backgroundColor=c,new Promise((function(e){switch(s.toLowerCase()){case"rawcanvas":e(W.call(t,i));break;case"canvas":case"base64":e(q.call(t,i));break;case"blob":G.call(t,i).then(e);break;default:e(V.call(t,i))}}))}function ee(){N.call(this)}function te(e){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var t,i,r,s,a,l=this,h=l.elements.canvas;if(l.data.orientation=(t=l.data.orientation,i=e,r=n.indexOf(t)>-1?n:o,s=r.indexOf(t),a=i/90%r.length,r[(r.length+s+a%r.length)%r.length]),w(h,l.elements.img,l.data.orientation),E.call(l,!0),B.call(l),Math.abs(e)/90%2==1){var c=l._originalImageHeight,d=l._originalImageWidth;l._originalImageWidth=c,l._originalImageHeight=d}}function ie(){var e,t,i=this;i.element.removeChild(i.elements.boundary),e=i.element,t="croppie-container",e.classList?e.classList.remove(t):e.className=e.className.replace(t,""),i.options.enableZoom&&i.element.removeChild(i.elements.zoomerWrap),delete i.elements}if("undefined"!=typeof window&&window.jQuery){var re=window.jQuery;re.fn.croppie=function(e){if("string"===typeof e){var t=Array.prototype.slice.call(arguments,1),i=re(this).data("croppie");return"get"===e?i.get():"result"===e?i.result.apply(i,t):"bind"===e?i.bind.apply(i,t):this.each((function(){var i=re(this).data("croppie");if(i){var r=i[e];if(!re.isFunction(r))throw"Croppie "+e+" method not found";r.apply(i,t),"destroy"===e&&re(this).removeData("croppie")}}))}return this.each((function(){var t=new se(this,e);t.$=re,re(this).data("croppie",t)}))}}function se(e,t){if(e.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=e,this.options=l(h(se.defaults),t),"img"===this.element.tagName.toLowerCase()){var i=this.element;u(i,"cr-original-image"),p(i,{"aria-hidden":"true",alt:""});var r=document.createElement("div");this.element.parentNode.appendChild(r),r.appendChild(i),this.element=r,this.options.url=this.options.url||i.src}if(_.call(this),this.options.url){var s={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,$.call(this,s)}}return se.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},se.globals={translate:"translate3d"},l(se.prototype,{bind:function(e,t){return $.call(this,e,t)},get:function(){var e=X.call(this),t=e.points;return this.options.relative&&(t[0]/=this.elements.img.naturalWidth/100,t[1]/=this.elements.img.naturalHeight/100,t[2]/=this.elements.img.naturalWidth/100,t[3]/=this.elements.img.naturalHeight/100),e},result:function(e){return Q.call(this,e)},refresh:function(){return ee.call(this)},setZoom:function(e){x.call(this,e),c(this.elements.zoomer)},rotate:function(e){te.call(this,e)},destroy:function(){return ie.call(this)}}),se})),function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(i){return t(e,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,(function(e,t){"use strict";var i=Array.prototype.slice,r=e.console,s=void 0===r?function(){}:function(e){r.error(e)};function n(r,n,a){(a=a||t||e.jQuery)&&(n.prototype.option||(n.prototype.option=function(e){a.isPlainObject(e)&&(this.options=a.extend(!0,this.options,e))}),a.fn[r]=function(e){var t;return"string"==typeof e?function(e,t,i){var n,o="$()."+r+'("'+t+'")';return e.each((function(e,l){var h=a.data(l,r);if(h){var c=h[t];if(c&&"_"!=t.charAt(0)){var d=c.apply(h,i);n=void 0===n?d:n}else s(o+" is not a valid method")}else s(r+" not initialized. Cannot call methods, i.e. "+o)})),void 0!==n?n:e}(this,e,i.call(arguments,1)):(t=e,this.each((function(e,i){var s=a.data(i,r);s?(s.option(t),s._init()):(s=new n(i,t),a.data(i,r,s))})),this)},o(a))}function o(e){!e||e&&e.bridget||(e.bridget=n)}return o(t||e.jQuery),n})),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,(function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=i.length;function s(e){var i=getComputedStyle(e);return i||t("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var n,o=!1;function a(t){if(function(){if(!o){o=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var r=s(t);n=200==Math.round(e(r.width)),a.isBoxSizeOuter=n,i.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=s(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<r;t++)e[i[t]]=0;return e}();var h={};h.width=t.offsetWidth,h.height=t.offsetHeight;for(var c=h.isBorderBox="border-box"==l.boxSizing,d=0;d<r;d++){var u=i[d],p=l[u],f=parseFloat(p);h[u]=isNaN(f)?0:f}var m=h.paddingLeft+h.paddingRight,g=h.paddingTop+h.paddingBottom,y=h.marginLeft+h.marginRight,v=h.marginTop+h.marginBottom,b=h.borderLeftWidth+h.borderRightWidth,w=h.borderTopWidth+h.borderBottomWidth,_=c&&n,k=e(l.width);!1!==k&&(h.width=k+(_?0:m+b));var S=e(l.height);return!1!==S&&(h.height=S+(_?0:g+w)),h.innerWidth=h.width-(m+b),h.innerHeight=h.height-(g+w),h.outerWidth=h.width+y,h.outerHeight=h.height+v,h}}return a})),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},r=i[e]=i[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var r=i.indexOf(t);return-1!=r&&i.splice(r,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],s=0;s<i.length;s++){var n=i[s];r&&r[n]&&(this.off(e,n),delete r[n]),n.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var r=t[i]+"MatchesSelector";if(e[r])return r}}();return function(t,i){return t[e](i)}})),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(i){return t(e,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,(function(e,t){var i={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},r=Array.prototype.slice;i.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?r.call(e):[e]},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,r){e=i.makeArray(e);var s=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(r){t(e,r)&&s.push(e);for(var i=e.querySelectorAll(r),n=0;n<i.length;n++)s.push(i[n])}else s.push(e)})),s},i.debounceMethod=function(e,t,i){i=i||100;var r=e.prototype[t],s=t+"Timeout";e.prototype[t]=function(){var e=this[s];clearTimeout(e);var t=arguments,n=this;this[s]=setTimeout((function(){r.apply(n,t),delete n[s]}),i)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,i){return t+"-"+i})).toLowerCase()};var s=e.console;return i.htmlInit=function(t,r){i.docReady((function(){var n=i.toDashed(r),o="data-"+n,a=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+n),h=i.makeArray(a).concat(i.makeArray(l)),c=o+"-options",d=e.jQuery;h.forEach((function(e){var i,n=e.getAttribute(o)||e.getAttribute(c);try{i=n&&JSON.parse(n)}catch(t){return void(s&&s.error("Error parsing "+o+" on "+e.className+": "+t))}var a=new t(e,i);d&&d.data(e,r,a)}))}))},i})),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,(function(e,t){"use strict";var i=document.documentElement.style,r="string"==typeof i.transition?"transition":"WebkitTransition",s="string"==typeof i.transform?"transform":"WebkitTransform",n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],o={transform:s,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(e.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var i in e){t[o[i]||i]=e[i]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=e[t?"left":"right"],s=e[i?"top":"bottom"],n=parseFloat(r),o=parseFloat(s),a=this.layout.size;-1!=r.indexOf("%")&&(n=n/100*a.width),-1!=s.indexOf("%")&&(o=o/100*a.height),n=isNaN(n)?0:n,o=isNaN(o)?0:o,n-=t?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=o},l.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),s=i?"paddingLeft":"paddingRight",n=i?"left":"right",o=i?"right":"left",a=this.position.x+e[s];t[n]=this.getXValue(a),t[o]="";var l=r?"paddingTop":"paddingBottom",h=r?"top":"bottom",c=r?"bottom":"top",d=this.position.y+e[l];t[h]=this.getYValue(d),t[c]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var i=this.position.x,r=this.position.y,s=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!s||this.isTransitioning){var n=e-i,o=t-r,a={};a.transform=this.getTranslate(n,o),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var h="opacity,"+s.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:h,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(n,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=c[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(n,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(i,r,s,n){return t(e,i,r,s,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,(function(e,t,i,r,s){"use strict";var n=e.console,o=e.jQuery,a=function(){},l=0,h={};function c(e,t){var i=r.getQueryElement(e);if(i){this.element=i,o&&(this.$element=o(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var s=++l;this.element.outlayerGUID=s,h[s]=this,this._create(),this._getOption("initLayout")&&this.layout()}else n&&n.error("Bad element for "+this.constructor.namespace+": "+(i||e))}c.namespace="outlayer",c.Item=s,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=c.prototype;function u(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}r.extend(d,t.prototype),d.option=function(e){r.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,r=[],s=0;s<t.length;s++){var n=new i(t[s],this);r.push(n)}return r},d._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map((function(e){return e.element}))},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=i(this.element)},d._getMeasurement=function(e,t){var r,s=this.options[e];s?("string"==typeof s?r=this.element.querySelector(s):s instanceof HTMLElement&&(r=s),this[e]=r?i(r)[t]:s):this[e]=0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},d._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach((function(e){var r=this._getItemLayoutPosition(e);r.item=e,r.isInstant=t||e.isLayoutInstant,i.push(r)}),this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],r=t&&t[2];if(!i.length)return 0;i=parseFloat(i);var s=p[r]||1;return i*s}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,i,r,s){r?e.goTo(t,i):(e.stagger(s*this.stagger),e.moveTo(t,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=a,d._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(e,t){var i=this;function r(){i.dispatchEvent(e+"Complete",null,[t])}var s=t.length;if(t&&s){var n=0;t.forEach((function(t){t.once(e,o)}))}else r();function o(){++n==s&&r()}},d.dispatchEvent=function(e,t,i){var r=t?[t].concat(i):i;if(this.emitEvent(e,r),o)if(this.$element=this.$element||o(this.element),t){var s=o.Event(t);s.type=e,this.$element.trigger(s,i)}else this.$element.trigger(e,i)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){r.removeFrom(this.stamps,e),this.unignore(e)}),this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=a,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,s=i(e);return{left:t.left-r.left-s.marginLeft,top:t.top-r.top-s.marginTop,right:r.right-t.right-s.marginRight,bottom:r.bottom-t.bottom-s.marginBottom}},d.handleEvent=r.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},r.debounceMethod(c,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=i(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,i){e.stagger(i*t),e.reveal()}))}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,i){e.stagger(i*t),e.hide()}))}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},d.getItems=function(e){e=r.makeArray(e);var t=[];return e.forEach((function(e){var i=this.getItem(e);i&&t.push(i)}),this),t},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),r.removeFrom(this.items,e)}),this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete h[t],delete this.element.outlayerGUID,o&&o.removeData(this.element,this.constructor.namespace)},c.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&h[t]},c.create=function(e,t){var i=u(c);return i.defaults=r.extend({},c.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},c.compatOptions),i.namespace=e,i.data=c.data,i.Item=u(s),r.htmlInit(i,e),o&&o.bridget&&o.bridget(e,i),i};var p={ms:1,s:1e3};return c.Item=s,c})),function(e,t){"function"==typeof define&&define.amd?define("packery/js/rect",t):"object"==typeof module&&module.exports?module.exports=t():(e.Packery=e.Packery||{},e.Packery.Rect=t())}(window,(function(){"use strict";function e(t){for(var i in e.defaults)this[i]=e.defaults[i];for(i in t)this[i]=t[i]}e.defaults={x:0,y:0,width:0,height:0};var t=e.prototype;return t.contains=function(e){var t=e.width||0,i=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+t&&this.y+this.height>=e.y+i},t.overlaps=function(e){var t=this.x+this.width,i=this.y+this.height,r=e.x+e.width,s=e.y+e.height;return this.x<r&&t>e.x&&this.y<s&&i>e.y},t.getMaximalFreeRects=function(t){if(!this.overlaps(t))return!1;var i,r=[],s=this.x+this.width,n=this.y+this.height,o=t.x+t.width,a=t.y+t.height;return this.y<t.y&&(i=new e({x:this.x,y:this.y,width:this.width,height:t.y-this.y}),r.push(i)),s>o&&(i=new e({x:o,y:this.y,width:s-o,height:this.height}),r.push(i)),n>a&&(i=new e({x:this.x,y:a,width:this.width,height:n-a}),r.push(i)),this.x<t.x&&(i=new e({x:this.x,y:this.y,width:t.x-this.x,height:this.height}),r.push(i)),r},t.canFit=function(e){return this.width>=e.width&&this.height>=e.height},e})),function(e,t){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],t);else if("object"==typeof module&&module.exports)module.exports=t(require("./rect"));else{var i=e.Packery=e.Packery||{};i.Packer=t(i.Rect)}}(window,(function(e){"use strict";function t(e,t,i){this.width=e||0,this.height=t||0,this.sortDirection=i||"downwardLeftToRight",this.reset()}var i=t.prototype;i.reset=function(){this.spaces=[];var t=new e({x:0,y:0,width:this.width,height:this.height});this.spaces.push(t),this.sorter=r[this.sortDirection]||r.downwardLeftToRight},i.pack=function(e){for(var t=0;t<this.spaces.length;t++){var i=this.spaces[t];if(i.canFit(e)){this.placeInSpace(e,i);break}}},i.columnPack=function(e){for(var t=0;t<this.spaces.length;t++){var i=this.spaces[t];if(i.x<=e.x&&i.x+i.width>=e.x+e.width&&i.height>=e.height-.01){e.y=i.y,this.placed(e);break}}},i.rowPack=function(e){for(var t=0;t<this.spaces.length;t++){var i=this.spaces[t];if(i.y<=e.y&&i.y+i.height>=e.y+e.height&&i.width>=e.width-.01){e.x=i.x,this.placed(e);break}}},i.placeInSpace=function(e,t){e.x=t.x,e.y=t.y,this.placed(e)},i.placed=function(e){for(var t=[],i=0;i<this.spaces.length;i++){var r=this.spaces[i],s=r.getMaximalFreeRects(e);s?t.push.apply(t,s):t.push(r)}this.spaces=t,this.mergeSortSpaces()},i.mergeSortSpaces=function(){t.mergeRects(this.spaces),this.spaces.sort(this.sorter)},i.addSpace=function(e){this.spaces.push(e),this.mergeSortSpaces()},t.mergeRects=function(e){var t=0,i=e[t];e:for(;i;){for(var r=0,s=e[t+r];s;){if(s==i)r++;else{if(s.contains(i)){e.splice(t,1),i=e[t];continue e}i.contains(s)?e.splice(t+r,1):r++}s=e[t+r]}i=e[++t]}return e};var r={downwardLeftToRight:function(e,t){return e.y-t.y||e.x-t.x},rightwardTopToBottom:function(e,t){return e.x-t.x||e.y-t.y}};return t})),function(e,t){"function"==typeof define&&define.amd?define("packery/js/item",["outlayer/outlayer","./rect"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("./rect")):e.Packery.Item=t(e.Outlayer,e.Packery.Rect)}(window,(function(e,t){"use strict";var i="string"==typeof document.documentElement.style.transform?"transform":"WebkitTransform",r=function(){e.Item.apply(this,arguments)},s=r.prototype=Object.create(e.Item.prototype),n=s._create;s._create=function(){n.call(this),this.rect=new t};var o=s.moveTo;return s.moveTo=function(e,t){var i=Math.abs(this.position.x-e),r=Math.abs(this.position.y-t);this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&i<1&&r<1?this.goTo(e,t):o.apply(this,arguments)},s.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&i&&(this.element.style[i]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},s.disablePlacing=function(){this.isPlacing=!1},s.removeElem=function(){var e=this.element.parentNode;e&&e.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},s.showDropPlaceholder=function(){var e=this.dropPlaceholder;e||((e=this.dropPlaceholder=document.createElement("div")).className="packery-drop-placeholder",e.style.position="absolute"),e.style.width=this.size.width+"px",e.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(e)},s.positionDropPlaceholder=function(){this.dropPlaceholder.style[i]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},s.hideDropPlaceholder=function(){var e=this.dropPlaceholder.parentNode;e&&e.removeChild(this.dropPlaceholder)},r})),function(e,t){"function"==typeof define&&define.amd?define(["get-size/get-size","outlayer/outlayer","packery/js/rect","packery/js/packer","packery/js/item"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):e.Packery=t(e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)}(window,(function(e,t,i,r,s){"use strict";i.prototype.canFit=function(e){return this.width>=e.width-1&&this.height>=e.height-1};var n=t.create("packery");n.Item=s;var o=n.prototype;function a(e,t){return e.position.y-t.position.y||e.position.x-t.position.x}function l(e,t){return e.position.x-t.position.x||e.position.y-t.position.y}o._create=function(){t.prototype._create.call(this),this.packer=new r,this.shiftPacker=new r,this.isEnabled=!0,this.dragItemCount=0;var e=this;this.handleDraggabilly={dragStart:function(){e.itemDragStart(this.element)},dragMove:function(){e.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){e.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(t,i){i&&e.itemDragStart(t.currentTarget)},drag:function(t,i){i&&e.itemDragMove(t.currentTarget,i.position.left,i.position.top)},stop:function(t,i){i&&e.itemDragEnd(t.currentTarget)}}},o._resetLayout=function(){var e,t,i;this.getSize(),this._getMeasurements(),this._getOption("horizontal")?(e=1/0,t=this.size.innerHeight+this.gutter,i="rightwardTopToBottom"):(e=this.size.innerWidth+this.gutter,t=1/0,i="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=e,this.packer.height=this.shiftPacker.height=t,this.packer.sortDirection=this.shiftPacker.sortDirection=i,this.packer.reset(),this.maxY=0,this.maxX=0},o._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},o._getItemLayoutPosition=function(e){if(this._setRectSize(e.element,e.rect),this.isShifting||this.dragItemCount>0){var t=this._getPackMethod();this.packer[t](e.rect)}else this.packer.pack(e.rect);return this._setMaxXY(e.rect),e.rect},o.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},o._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},o._setMaxXY=function(e){this.maxX=Math.max(e.x+e.width,this.maxX),this.maxY=Math.max(e.y+e.height,this.maxY)},o._setRectSize=function(t,i){var r=e(t),s=r.outerWidth,n=r.outerHeight;(s||n)&&(s=this._applyGridGutter(s,this.columnWidth),n=this._applyGridGutter(n,this.rowHeight)),i.width=Math.min(s,this.packer.width),i.height=Math.min(n,this.packer.height)},o._applyGridGutter=function(e,t){if(!t)return e+this.gutter;var i=e%(t+=this.gutter);return e=Math[i&&i<1?"round":"ceil"](e/t)*t},o._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},o._manageStamp=function(e){var t,r=this.getItem(e);if(r&&r.isPlacing)t=r.rect;else{var s=this._getElementOffset(e);t=new i({x:this._getOption("originLeft")?s.left:s.right,y:this._getOption("originTop")?s.top:s.bottom})}this._setRectSize(e,t),this.packer.placed(t),this._setMaxXY(t)},o.sortItemsByPosition=function(){var e=this._getOption("horizontal")?l:a;this.items.sort(e)},o.fit=function(e,t,i){var r=this.getItem(e);r&&(this.stamp(r.element),r.enablePlacing(),this.updateShiftTargets(r),t=void 0===t?r.rect.x:t,i=void 0===i?r.rect.y:i,this.shift(r,t,i),this._bindFitEvents(r),r.moveTo(r.rect.x,r.rect.y),this.shiftLayout(),this.unstamp(r.element),this.sortItemsByPosition(),r.disablePlacing())},o._bindFitEvents=function(e){var t=this,i=0;function r(){2==++i&&t.dispatchEvent("fitComplete",null,[e])}e.once("layout",r),this.once("layoutComplete",r)},o.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},o.needsResizeLayout=function(){var t=e(this.element),i=this._getOption("horizontal")?"innerHeight":"innerWidth";return t[i]!=this.size[i]},o.resizeShiftPercentLayout=function(){var t=this._getItemsForLayout(this.items),i=this._getOption("horizontal"),r=i?"y":"x",s=i?"height":"width",n=i?"rowHeight":"columnWidth",o=i?"innerHeight":"innerWidth",a=this[n];if(a=a&&a+this.gutter){this._getMeasurements();var l=this[n]+this.gutter;t.forEach((function(e){var t=Math.round(e.rect[r]/a);e.rect[r]=t*l}))}else{var h=e(this.element)[o]+this.gutter,c=this.packer[s];t.forEach((function(e){e.rect[r]=e.rect[r]/c*h}))}this.shiftLayout()},o.itemDragStart=function(e){if(this.isEnabled){this.stamp(e);var t=this.getItem(e);t&&(t.enablePlacing(),t.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(t))}},o.updateShiftTargets=function(e){this.shiftPacker.reset(),this._getBoundingRect();var t=this._getOption("originLeft"),r=this._getOption("originTop");this.stamps.forEach((function(e){var s=this.getItem(e);if(!s||!s.isPlacing){var n=this._getElementOffset(e),o=new i({x:t?n.left:n.right,y:r?n.top:n.bottom});this._setRectSize(e,o),this.shiftPacker.placed(o)}}),this);var s,n=this._getOption("horizontal"),o=n?"rowHeight":"columnWidth",a=n?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var l=this[o];if(l=l&&l+this.gutter){var h=Math.ceil(e.rect[a]/l),c=Math.floor((this.shiftPacker[a]+this.gutter)/l);s=(c-h)*l;for(var d=0;d<c;d++){var u=n?0:d*l,p=n?d*l:0;this._addShiftTarget(u,p,s)}}else s=this.shiftPacker[a]+this.gutter-e.rect[a],this._addShiftTarget(0,0,s);var f=this._getItemsForLayout(this.items),m=this._getPackMethod();f.forEach((function(e){var t=e.rect;this._setRectSize(e.element,t),this.shiftPacker[m](t),this._addShiftTarget(t.x,t.y,s);var i=n?t.x+t.width:t.x,r=n?t.y:t.y+t.height;if(this._addShiftTarget(i,r,s),l)for(var o=Math.round(t[a]/l),h=1;h<o;h++){var c=n?i:t.x+l*h,d=n?t.y+l*h:r;this._addShiftTarget(c,d,s)}}),this)},o._addShiftTarget=function(e,t,i){var r=this._getOption("horizontal")?t:e;if(!(0!==r&&r>i)){var s=e+","+t;-1!=this.shiftTargetKeys.indexOf(s)||(this.shiftTargetKeys.push(s),this.shiftTargets.push({x:e,y:t}))}},o.shift=function(e,t,i){var r,s=1/0,n={x:t,y:i};this.shiftTargets.forEach((function(e){var t,i,o,a,l=(o=(i=n).x-(t=e).x,a=i.y-t.y,Math.sqrt(o*o+a*a));l<s&&(r=e,s=l)})),e.rect.x=r.x,e.rect.y=r.y};o.itemDragMove=function(e,t,i){var r=this.isEnabled&&this.getItem(e);if(r){t-=this.size.paddingLeft,i-=this.size.paddingTop;var s=this,n=new Date;this._itemDragTime&&n-this._itemDragTime<120?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(o,120)):(o(),this._itemDragTime=n)}function o(){s.shift(r,t,i),r.positionDropPlaceholder(),s.layout()}},o.itemDragEnd=function(e){var t=this.isEnabled&&this.getItem(e);if(t){clearTimeout(this.dragTimeout),t.element.classList.add("is-positioning-post-drag");var i=0,r=this;t.once("layout",s),this.once("layoutComplete",s),t.moveTo(t.rect.x,t.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),t.disablePlacing(),this.unstamp(t.element)}function s(){2==++i&&(t.element.classList.remove("is-positioning-post-drag"),t.hideDropPlaceholder(),r.dispatchEvent("dragItemPositioned",null,[t]))}},o.bindDraggabillyEvents=function(e){this._bindDraggabillyEvents(e,"on")},o.unbindDraggabillyEvents=function(e){this._bindDraggabillyEvents(e,"off")},o._bindDraggabillyEvents=function(e,t){var i=this.handleDraggabilly;e[t]("dragStart",i.dragStart),e[t]("dragMove",i.dragMove),e[t]("dragEnd",i.dragEnd)},o.bindUIDraggableEvents=function(e){this._bindUIDraggableEvents(e,"on")},o.unbindUIDraggableEvents=function(e){this._bindUIDraggableEvents(e,"off")},o._bindUIDraggableEvents=function(e,t){var i=this.handleUIDraggable;e[t]("dragstart",i.start)[t]("drag",i.drag)[t]("dragstop",i.stop)};var h=o.destroy;return o.destroy=function(){h.apply(this,arguments),this.isEnabled=!1},n.Rect=i,n.Packer=r,n})),function(e,t){"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}let t=e.prototype;return t.on=function(e,t){if(!e||!t)return this;let i=this._events=this._events||{},r=i[e]=i[e]||[];return r.includes(t)||r.push(t),this},t.once=function(e,t){if(!e||!t)return this;this.on(e,t);let i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this},t.off=function(e,t){let i=this._events&&this._events[e];if(!i||!i.length)return this;let r=i.indexOf(t);return-1!=r&&i.splice(r,1),this},t.emitEvent=function(e,t){let i=this._events&&this._events[e];if(!i||!i.length)return this;i=i.slice(0),t=t||[];let r=this._onceEvents&&this._onceEvents[e];for(let s of i){r&&r[s]&&(this.off(e,s),delete r[s]),s.apply(this,t)}return this},t.allOff=function(){return delete this._events,delete this._onceEvents,this},e})),function(e,t){"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter")):e.imagesLoaded=t(e,e.EvEmitter)}("undefined"!=typeof window?window:this,(function(e,t){let i=e.jQuery,r=e.console;function s(e,t,n){if(!(this instanceof s))return new s(e,t,n);let o=e;var a;("string"==typeof e&&(o=document.querySelectorAll(e)),o)?(this.elements=(a=o,Array.isArray(a)?a:"object"==typeof a&&"number"==typeof a.length?[...a]:[a]),this.options={},"function"==typeof t?n=t:Object.assign(this.options,t),n&&this.on("always",n),this.getImages(),i&&(this.jqDeferred=new i.Deferred),setTimeout(this.check.bind(this))):r.error(`Bad element for imagesLoaded ${o||e}`)}s.prototype=Object.create(t.prototype),s.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const n=[1,9,11];s.prototype.addElementImages=function(e){"IMG"===e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);let{nodeType:t}=e;if(!t||!n.includes(t))return;let i=e.querySelectorAll("img");for(let e of i)this.addImage(e);if("string"==typeof this.options.background){let t=e.querySelectorAll(this.options.background);for(let e of t)this.addElementBackgroundImages(e)}};const o=/url\((['"])?(.*?)\1\)/gi;function a(e){this.img=e}function l(e,t){this.url=e,this.element=t,this.img=new Image}return s.prototype.addElementBackgroundImages=function(e){let t=getComputedStyle(e);if(!t)return;let i=o.exec(t.backgroundImage);for(;null!==i;){let r=i&&i[2];r&&this.addBackground(r,e),i=o.exec(t.backgroundImage)}},s.prototype.addImage=function(e){let t=new a(e);this.images.push(t)},s.prototype.addBackground=function(e,t){let i=new l(e,t);this.images.push(i)},s.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();let e=(e,t,i)=>{setTimeout((()=>{this.progress(e,t,i)}))};this.images.forEach((function(t){t.once("progress",e),t.check()}))},s.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&r&&r.log(`progress: ${i}`,e,t)},s.prototype.complete=function(){let e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){let e=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[e](this)}},a.prototype=Object.create(t.prototype),a.prototype.check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src)},a.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},a.prototype.confirm=function(e,t){this.isLoaded=e;let{parentNode:i}=this.img,r="PICTURE"===i.nodeName?i:this.img;this.emitEvent("progress",[this,r,t])},a.prototype.handleEvent=function(e){let t="on"+e.type;this[t]&&this[t](e)},a.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},a.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},a.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype=Object.create(a.prototype),l.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},l.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},s.makeJQueryPlugin=function(t){(t=t||e.jQuery)&&(i=t,i.fn.imagesLoaded=function(e,t){return new s(this,e,t).jqDeferred.promise(i(this))})},s.makeJQueryPlugin(),s})),function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t(require,exports,module):e.Tether=t()}(this,(function(e,t,i){return function(){var e,t,i,r,s,n,o,a,l,h,c,d,u,p,f,m,g,y={}.hasOwnProperty,v=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1},b=[].slice;null==this.Tether&&(this.Tether={modules:[]}),c=function(e){var t,i,r,s;if("fixed"===(i=getComputedStyle(e).position))return e;for(void 0,t=e;t=t.parentNode;){try{r=getComputedStyle(t)}catch(e){}if(null==r)return t;if(/(auto|scroll)/.test(r.overflow+r["overflow-y"]+r["overflow-x"])&&("absolute"!==i||"relative"===(s=r.position)||"absolute"===s||"fixed"===s))return t}return document.body},g=0,p=function(){return g++},m={},l=function(e){var t,r,n,o,a;if(null==(n=e._tetherZeroElement)&&((n=e.createElement("div")).setAttribute("data-tether-id",p()),s(n.style,{top:0,left:0,position:"absolute"}),e.body.appendChild(n),e._tetherZeroElement=n),t=n.getAttribute("data-tether-id"),null==m[t]){for(r in m[t]={},a=n.getBoundingClientRect())o=a[r],m[t][r]=o;i((function(){return m[t]=void 0}))}return m[t]},o=function(e){var t,i,r,s,n,o,a;for(s in e===document?(i=document,e=document.documentElement):i=e.ownerDocument,r=i.documentElement,t={},a=e.getBoundingClientRect())o=a[s],t[s]=o;return n=l(i),t.top-=n.top,t.left-=n.left,null==t.width&&(t.width=document.body.scrollWidth-t.left-t.right),null==t.height&&(t.height=document.body.scrollHeight-t.top-t.bottom),t.top=t.top-r.clientTop,t.left=t.left-r.clientLeft,t.right=i.body.clientWidth-t.width-t.left,t.bottom=i.body.clientHeight-t.height-t.top,t},a=function(e){return e.offsetParent||document.documentElement},h=function(){var e,t,i,r,n;return(e=document.createElement("div")).style.width="100%",e.style.height="200px",t=document.createElement("div"),s(t.style,{position:"absolute",top:0,left:0,pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t),r=e.offsetWidth,t.style.overflow="scroll",r===(n=e.offsetWidth)&&(n=t.clientWidth),document.body.removeChild(t),{width:i=r-n,height:i}},s=function(e){var t,i,r,s,n,o,a;for(null==e&&(e={}),t=[],Array.prototype.push.apply(t,arguments),n=0,o=(a=t.slice(1)).length;n<o;n++)if(r=a[n])for(i in r)y.call(r,i)&&(s=r[i],e[i]=s);return e},u=function(e,t){var i,r,s,n,o;if(null!=e.classList){for(o=[],r=0,s=(n=t.split(" ")).length;r<s;r++)(i=n[r]).trim()&&o.push(e.classList.remove(i));return o}return e.className=e.className.replace(new RegExp("(^| )"+t.split(" ").join("|")+"( |$)","gi")," ")},t=function(e,t){var i,r,s,n,o;if(null!=e.classList){for(o=[],r=0,s=(n=t.split(" ")).length;r<s;r++)(i=n[r]).trim()&&o.push(e.classList.add(i));return o}return u(e,t),e.className+=" "+t},d=function(e,t){return null!=e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)},f=function(e,i,r){var s,n,o,a,l,h;for(n=0,a=r.length;n<a;n++)s=r[n],v.call(i,s)<0&&d(e,s)&&u(e,s);for(h=[],o=0,l=i.length;o<l;o++)s=i[o],d(e,s)?h.push(void 0):h.push(t(e,s));return h},r=[],i=function(e){return r.push(e)},n=function(){var e,t;for(t=[];e=r.pop();)t.push(e());return t},e=function(){function e(){}return e.prototype.on=function(e,t,i,r){var s;return null==r&&(r=!1),null==this.bindings&&(this.bindings={}),null==(s=this.bindings)[e]&&(s[e]=[]),this.bindings[e].push({handler:t,ctx:i,once:r})},e.prototype.once=function(e,t,i){return this.on(e,t,i,!0)},e.prototype.off=function(e,t){var i,r,s;if(null!=(null!=(r=this.bindings)?r[e]:void 0)){if(null==t)return delete this.bindings[e];for(i=0,s=[];i<this.bindings[e].length;)this.bindings[e][i].handler===t?s.push(this.bindings[e].splice(i,1)):s.push(i++);return s}},e.prototype.trigger=function(){var e,t,i,r,s,n,o,a,l;if(i=arguments[0],e=2<=arguments.length?b.call(arguments,1):[],null!=(o=this.bindings)?o[i]:void 0){for(s=0,l=[];s<this.bindings[i].length;)r=(a=this.bindings[i][s]).handler,t=a.ctx,n=a.once,r.apply(null!=t?t:this,e),n?l.push(this.bindings[i].splice(s,1)):l.push(s++);return l}},e}(),this.Tether.Utils={getScrollParent:c,getBounds:o,getOffsetParent:a,extend:s,addClass:t,removeClass:u,hasClass:d,updateClasses:f,defer:i,flush:n,uniqueId:p,Evented:e,getScrollBarSize:h}}.call(this),function(){var e,t,i,r,s,n,o,a,l,h,c,d,u,p,f,m,g,y,v,b,w,_,k,S,x,T,j,C=[].slice;if(null==this.Tether)throw new Error("You must include the utils.js file before tether.js");j=(r=this.Tether).Utils,f=j.getScrollParent,j.getSize,j.getOuterSize,d=j.getBounds,u=j.getOffsetParent,h=j.extend,s=j.addClass,w=j.removeClass,S=j.updateClasses,l=j.defer,c=j.flush,p=j.getScrollBarSize,x=function(e,t,i){return null==i&&(i=1),e+i>=t&&t>=e-i},k=function(){var e,t,i,r,s;for(e=document.createElement("div"),i=0,r=(s=["transform","webkitTransform","OTransform","MozTransform","msTransform"]).length;i<r;i++)if(t=s[i],void 0!==e.style[t])return t}(),_=[],b=function(){var e,t;for(e=0,t=_.length;e<t;e++)_[e].position(!1);return c()},m=function(){var e;return null!=(e="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?e:+new Date},function(){var e,t,i,r,s,n,o,a,l;for(t=null,i=null,r=null,s=function(){return null!=i&&i>16?(i=Math.min(i-16,250),void(r=setTimeout(s,250))):null!=t&&m()-t<10?void 0:(null!=r&&(clearTimeout(r),r=null),t=m(),b(),i=m()-t)},l=[],n=0,o=(a=["resize","scroll","touchmove"]).length;n<o;n++)e=a[n],l.push(window.addEventListener(e,s))}(),e={center:"center",left:"right",right:"left"},t={middle:"middle",top:"bottom",bottom:"top"},i={top:0,left:0,middle:"50%",center:"50%",bottom:"100%",right:"100%"},a=function(i,r){var s,n;return s=i.left,n=i.top,"auto"===s&&(s=e[r.left]),"auto"===n&&(n=t[r.top]),{left:s,top:n}},o=function(e){var t,r;return{left:null!=(t=i[e.left])?t:e.left,top:null!=(r=i[e.top])?r:e.top}},n=function(){var e,t,i,r,s,n,o;for(i={top:0,left:0},s=0,n=(t=1<=arguments.length?C.call(arguments,0):[]).length;s<n;s++)r=(o=t[s]).top,e=o.left,"string"==typeof r&&(r=parseFloat(r,10)),"string"==typeof e&&(e=parseFloat(e,10)),i.top+=r,i.left+=e;return i},g=function(e,t){return"string"==typeof e.left&&-1!==e.left.indexOf("%")&&(e.left=parseFloat(e.left,10)/100*t.width),"string"==typeof e.top&&-1!==e.top.indexOf("%")&&(e.top=parseFloat(e.top,10)/100*t.height),e},y=v=function(e){var t;return{top:(t=e.split(" "))[0],left:t[1]}},T=function(){function e(e){var t,i,s,n,o,a;for(this.position=(t=this.position,i=this,function(){return t.apply(i,arguments)}),_.push(this),this.history=[],this.setOptions(e,!1),s=0,n=(o=r.modules).length;s<n;s++)null!=(a=o[s].initialize)&&a.call(this);this.position()}return e.modules=[],e.prototype.getClass=function(e){var t,i;return(null!=(t=this.options.classes)?t[e]:void 0)?this.options.classes[e]:!1!==(null!=(i=this.options.classes)?i[e]:void 0)?this.options.classPrefix?this.options.classPrefix+"-"+e:e:""},e.prototype.setOptions=function(e,t){var i,r,n,o,a,l;for(this.options=e,null==t&&(t=!0),i={offset:"0 0",targetOffset:"0 0",targetAttachment:"auto auto",classPrefix:"tether"},this.options=h(i,this.options),a=this.options,this.element=a.element,this.target=a.target,this.targetModifier=a.targetModifier,"viewport"===this.target?(this.target=document.body,this.targetModifier="visible"):"scroll-handle"===this.target&&(this.target=document.body,this.targetModifier="scroll-handle"),n=0,o=(l=["element","target"]).length;n<o;n++){if(null==this[r=l[n]])throw new Error("Tether Error: Both element and target must be defined");null!=this[r].jquery?this[r]=this[r][0]:"string"==typeof this[r]&&(this[r]=document.querySelector(this[r]))}if(s(this.element,this.getClass("element")),s(this.target,this.getClass("target")),!this.options.attachment)throw new Error("Tether Error: You must provide an attachment");if(this.targetAttachment=y(this.options.targetAttachment),this.attachment=y(this.options.attachment),this.offset=v(this.options.offset),this.targetOffset=v(this.options.targetOffset),null!=this.scrollParent&&this.disable(),"scroll-handle"===this.targetModifier?this.scrollParent=this.target:this.scrollParent=f(this.target),!1!==this.options.enabled)return this.enable(t)},e.prototype.getTargetBounds=function(){var e,t,i,r,s,n,o,a;if(null==this.targetModifier)return d(this.target);switch(this.targetModifier){case"visible":return this.target===document.body?{top:pageYOffset,left:pageXOffset,height:innerHeight,width:innerWidth}:((r={height:(e=d(this.target)).height,width:e.width,top:e.top,left:e.left}).height=Math.min(r.height,e.height-(pageYOffset-e.top)),r.height=Math.min(r.height,e.height-(e.top+e.height-(pageYOffset+innerHeight))),r.height=Math.min(innerHeight,r.height),r.height-=2,r.width=Math.min(r.width,e.width-(pageXOffset-e.left)),r.width=Math.min(r.width,e.width-(e.left+e.width-(pageXOffset+innerWidth))),r.width=Math.min(innerWidth,r.width),r.width-=2,r.top<pageYOffset&&(r.top=pageYOffset),r.left<pageXOffset&&(r.left=pageXOffset),r);case"scroll-handle":return(a=this.target)===document.body?(a=document.documentElement,e={left:pageXOffset,top:pageYOffset,height:innerHeight,width:innerWidth}):e=d(a),o=getComputedStyle(a),s=0,(a.scrollWidth>a.clientWidth||"scroll"===[o.overflow,o.overflowX]||this.target!==document.body)&&(s=15),r={width:15,height:.975*(i=e.height-parseFloat(o.borderTopWidth)-parseFloat(o.borderBottomWidth)-s)*(i/a.scrollHeight),left:e.left+e.width-parseFloat(o.borderLeftWidth)-15},t=0,i<408&&this.target===document.body&&(t=-11e-5*Math.pow(i,2)-.00727*i+22.58),this.target!==document.body&&(r.height=Math.max(r.height,24)),n=this.target.scrollTop/(a.scrollHeight-i),r.top=n*(i-r.height-t)+e.top+parseFloat(o.borderTopWidth),this.target===document.body&&(r.height=Math.max(r.height,24)),r}},e.prototype.clearCache=function(){return this._cache={}},e.prototype.cache=function(e,t){return null==this._cache&&(this._cache={}),null==this._cache[e]&&(this._cache[e]=t.call(this)),this._cache[e]},e.prototype.enable=function(e){if(null==e&&(e=!0),s(this.target,this.getClass("enabled")),s(this.element,this.getClass("enabled")),this.enabled=!0,this.scrollParent!==document&&this.scrollParent.addEventListener("scroll",this.position),e)return this.position()},e.prototype.disable=function(){if(w(this.target,this.getClass("enabled")),w(this.element,this.getClass("enabled")),this.enabled=!1,null!=this.scrollParent)return this.scrollParent.removeEventListener("scroll",this.position)},e.prototype.destroy=function(){var e,t,i,r;for(this.disable(),r=[],e=t=0,i=_.length;t<i;e=++t){if(_[e]===this){_.splice(e,1);break}r.push(void 0)}return r},e.prototype.updateAttachClasses=function(e,t){var i,r,s,n,o,a,h,c,d,u=this;for(null==e&&(e=this.attachment),null==t&&(t=this.targetAttachment),n=["left","top","bottom","right","middle","center"],(null!=(d=this._addAttachClasses)?d.length:void 0)&&this._addAttachClasses.splice(0,this._addAttachClasses.length),i=null!=this._addAttachClasses?this._addAttachClasses:this._addAttachClasses=[],e.top&&i.push(this.getClass("element-attached")+"-"+e.top),e.left&&i.push(this.getClass("element-attached")+"-"+e.left),t.top&&i.push(this.getClass("target-attached")+"-"+t.top),t.left&&i.push(this.getClass("target-attached")+"-"+t.left),r=[],o=0,h=n.length;o<h;o++)s=n[o],r.push(this.getClass("element-attached")+"-"+s);for(a=0,c=n.length;a<c;a++)s=n[a],r.push(this.getClass("target-attached")+"-"+s);return l((function(){if(null!=u._addAttachClasses)return S(u.element,u._addAttachClasses,r),S(u.target,u._addAttachClasses,r),u._addAttachClasses=void 0}))},e.prototype.position=function(e){var t,i,s,l,h,f,m,y,v,b,w,_,k,S,x,T,j,C,E,O,P,F,M,D,A,R,L,I,N,B,z,U,H,W=this;if(null==e&&(e=!0),this.enabled){for(this.clearCache(),C=a(this.targetAttachment,this.attachment),this.updateAttachClasses(this.attachment,C),M=(t=this.cache("element-bounds",(function(){return d(W.element)}))).width,i=t.height,0===M&&0===i&&null!=this.lastSize?(M=(I=this.lastSize).width,i=I.height):this.lastSize={width:M,height:i},P=O=this.cache("target-bounds",(function(){return W.getTargetBounds()})),m=g(o(this.attachment),{width:M,height:i}),E=g(o(C),P),l=g(this.offset,{width:M,height:i}),h=g(this.targetOffset,P),m=n(m,l),E=n(E,h),s=O.left+E.left-m.left,F=O.top+E.top-m.top,D=0,R=(N=r.modules).length;D<R;D++)if(null!=(k=N[D].position.call(this,{left:s,top:F,targetAttachment:C,targetPos:O,attachment:this.attachment,elementPos:t,offset:m,targetOffset:E,manualOffset:l,manualTargetOffset:h,scrollbarSize:T}))&&"object"==typeof k){if(!1===k)return!1;F=k.top,s=k.left}if(f={page:{top:F,left:s},viewport:{top:F-pageYOffset,bottom:pageYOffset-F-i+innerHeight,left:s-pageXOffset,right:pageXOffset-s-M+innerWidth}},document.body.scrollWidth>window.innerWidth&&(T=this.cache("scrollbar-size",p),f.viewport.bottom-=T.height),document.body.scrollHeight>window.innerHeight&&(T=this.cache("scrollbar-size",p),f.viewport.right-=T.width),(""!==(B=document.body.style.position)&&"static"!==B||""!==(z=document.body.parentElement.style.position)&&"static"!==z)&&(f.page.bottom=document.body.scrollHeight-F-i,f.page.right=document.body.scrollWidth-s-M),!1!==(null!=(U=this.options.optimizations)?U.moveElement:void 0)&&null==this.targetModifier){for(v=this.cache("target-offsetparent",(function(){return u(W.target)})),_=this.cache("target-offsetparent-bounds",(function(){return d(v)})),w=getComputedStyle(v),getComputedStyle(this.element),b=_,y={},A=0,L=(H=["Top","Left","Bottom","Right"]).length;A<L;A++)y[(j=H[A]).toLowerCase()]=parseFloat(w["border"+j+"Width"]);_.right=document.body.scrollWidth-_.left-b.width+y.right,_.bottom=document.body.scrollHeight-_.top-b.height+y.bottom,f.page.top>=_.top+y.top&&f.page.bottom>=_.bottom&&f.page.left>=_.left+y.left&&f.page.right>=_.right&&(x=v.scrollTop,S=v.scrollLeft,f.offset={top:f.page.top-_.top+x-y.top,left:f.page.left-_.left+S-y.left})}return this.move(f),this.history.unshift(f),this.history.length>3&&this.history.pop(),e&&c(),!0}},e.prototype.move=function(e){var t,i,r,s,n,o,a,c,d,p,f,m,g,y,v,b,w,_=this;if(null!=this.element.parentNode){for(p in c={},e)for(s in c[p]={},e[p]){for(r=!1,y=0,v=(b=this.history).length;y<v;y++)if(a=b[y],!x(null!=(w=a[p])?w[s]:void 0,e[p][s])){r=!0;break}r||(c[p][s]=!0)}for(s in t={top:"",left:"",right:"",bottom:""},d=function(e,i){var r,s,n;return!1===(null!=(n=_.options.optimizations)?n.gpu:void 0)?(e.top?t.top=i.top+"px":t.bottom=i.bottom+"px",e.left?t.left=i.left+"px":t.right=i.right+"px"):(e.top?(t.top=0,s=i.top):(t.bottom=0,s=-i.bottom),e.left?(t.left=0,r=i.left):(t.right=0,r=-i.right),t[k]="translateX("+Math.round(r)+"px) translateY("+Math.round(s)+"px)","msTransform"!==k?t[k]+=" translateZ(0)":void 0)},n=!1,(c.page.top||c.page.bottom)&&(c.page.left||c.page.right)?(t.position="absolute",d(c.page,e.page)):(c.viewport.top||c.viewport.bottom)&&(c.viewport.left||c.viewport.right)?(t.position="fixed",d(c.viewport,e.viewport)):null!=c.offset&&c.offset.top&&c.offset.left?(t.position="absolute",o=this.cache("target-offsetparent",(function(){return u(_.target)})),u(this.element)!==o&&l((function(){return _.element.parentNode.removeChild(_.element),o.appendChild(_.element)})),d(c.offset,e.offset),n=!0):(t.position="absolute",d({top:!0,left:!0},e.page)),n||"BODY"===this.element.parentNode.tagName||(this.element.parentNode.removeChild(this.element),document.body.appendChild(this.element)),g={},m=!1,t)f=t[s],""===(i=this.element.style[s])||""===f||"top"!==s&&"left"!==s&&"bottom"!==s&&"right"!==s||(i=parseFloat(i),f=parseFloat(f)),i!==f&&(m=!0,g[s]=t[s]);return m?l((function(){return h(_.element.style,g)})):void 0}},e}(),r.position=b,this.Tether=h(T,r)}.call(this),function(){var e,t,i,r,s,n,o,a=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===e)return t;return-1};(o=this.Tether.Utils).getOuterSize,s=o.getBounds,o.getSize,i=o.extend,n=o.updateClasses,t=o.defer,e=["left","top","right","bottom"],r=function(t,i){var r,n,o,a,l,h,c;if("scrollParent"===i?i=t.scrollParent:"window"===i&&(i=[pageXOffset,pageYOffset,innerWidth+pageXOffset,innerHeight+pageYOffset]),i===document&&(i=i.documentElement),null!=i.nodeType)for(n=a=s(i),l=getComputedStyle(i),i=[n.left,n.top,a.width+n.left,a.height+n.top],r=h=0,c=e.length;h<c;r=++h)"Top"===(o=(o=e[r])[0].toUpperCase()+o.substr(1))||"Left"===o?i[r]+=parseFloat(l["border"+o+"Width"]):i[r]-=parseFloat(l["border"+o+"Width"]);return i},this.Tether.modules.push({position:function(o){var l,h,c,d,u,p,f,m,g,y,v,b,w,_,k,S,x,T,j,C,E,O,P,F,M,D,A,R,L,I,N,B,z,U,H,W,V,q,G,Y,$,K,X,Z,J,Q,ee=this;if(M=o.top,v=o.left,C=o.targetAttachment,!this.options.constraints)return!0;for(function(t){var i,r,s,n;for(ee.removeClass(t),n=[],r=0,s=e.length;r<s;r++)i=e[r],n.push(ee.removeClass(t+"-"+i));return n},y=(G=this.cache("element-bounds",(function(){return s(ee.element)}))).height,0===(D=G.width)&&0===y&&null!=this.lastSize&&(D=(Y=this.lastSize).width,y=Y.height),E=(O=this.cache("target-bounds",(function(){return ee.getTargetBounds()}))).height,P=O.width,j={},g={},h=[this.getClass("pinned"),this.getClass("out-of-bounds")],A=0,N=($=this.options.constraints).length;A<N;A++)(m=$[A]).outOfBoundsClass&&h.push(m.outOfBoundsClass),m.pinnedClass&&h.push(m.pinnedClass);for(R=0,B=h.length;R<B;R++)for(f=h[R],L=0,z=(K=["left","top","right","bottom"]).length;L<z;L++)T=K[L],h.push(f+"-"+T);for(l=[],j=i({},C),g=i({},this.attachment),I=0,U=(X=this.options.constraints).length;I<U;I++){if(F=(m=X[I]).to,c=m.attachment,k=m.pin,null==c&&(c=""),a.call(c," ")>=0?(p=(Z=c.split(" "))[0],u=Z[1]):u=p=c,d=r(this,F),"target"!==p&&"both"!==p||(M<d[1]&&"top"===j.top&&(M+=E,j.top="bottom"),M+y>d[3]&&"bottom"===j.top&&(M-=E,j.top="top")),"together"===p&&(M<d[1]&&"top"===j.top&&("bottom"===g.top?(M+=E,j.top="bottom",M+=y,g.top="top"):"top"===g.top&&(M+=E,j.top="bottom",M-=y,g.top="bottom")),M+y>d[3]&&"bottom"===j.top&&("top"===g.top?(M-=E,j.top="top",M-=y,g.top="bottom"):"bottom"===g.top&&(M-=E,j.top="top",M+=y,g.top="top")),"middle"===j.top&&(M+y>d[3]&&"top"===g.top?(M-=y,g.top="bottom"):M<d[1]&&"bottom"===g.top&&(M+=y,g.top="top"))),"target"!==u&&"both"!==u||(v<d[0]&&"left"===j.left&&(v+=P,j.left="right"),v+D>d[2]&&"right"===j.left&&(v-=P,j.left="left")),"together"===u&&(v<d[0]&&"left"===j.left?"right"===g.left?(v+=P,j.left="right",v+=D,g.left="left"):"left"===g.left&&(v+=P,j.left="right",v-=D,g.left="right"):v+D>d[2]&&"right"===j.left?"left"===g.left?(v-=P,j.left="left",v-=D,g.left="right"):"right"===g.left&&(v-=P,j.left="left",v+=D,g.left="left"):"center"===j.left&&(v+D>d[2]&&"left"===g.left?(v-=D,g.left="right"):v<d[0]&&"right"===g.left&&(v+=D,g.left="left"))),"element"!==p&&"both"!==p||(M<d[1]&&"bottom"===g.top&&(M+=y,g.top="top"),M+y>d[3]&&"top"===g.top&&(M-=y,g.top="bottom")),"element"!==u&&"both"!==u||(v<d[0]&&"right"===g.left&&(v+=D,g.left="left"),v+D>d[2]&&"left"===g.left&&(v-=D,g.left="right")),"string"==typeof k?k=function(){var e,t,i,r;for(r=[],t=0,e=(i=k.split(",")).length;t<e;t++)_=i[t],r.push(_.trim());return r}():!0===k&&(k=["top","left","right","bottom"]),k||(k=[]),S=[],b=[],M<d[1]&&(a.call(k,"top")>=0?(M=d[1],S.push("top")):b.push("top")),M+y>d[3]&&(a.call(k,"bottom")>=0?(M=d[3]-y,S.push("bottom")):b.push("bottom")),v<d[0]&&(a.call(k,"left")>=0?(v=d[0],S.push("left")):b.push("left")),v+D>d[2]&&(a.call(k,"right")>=0?(v=d[2]-D,S.push("right")):b.push("right")),S.length)for(x=null!=(J=this.options.pinnedClass)?J:this.getClass("pinned"),l.push(x),V=0,H=S.length;V<H;V++)T=S[V],l.push(x+"-"+T);if(b.length)for(w=null!=(Q=this.options.outOfBoundsClass)?Q:this.getClass("out-of-bounds"),l.push(w),q=0,W=b.length;q<W;q++)T=b[q],l.push(w+"-"+T);(a.call(S,"left")>=0||a.call(S,"right")>=0)&&(g.left=j.left=!1),(a.call(S,"top")>=0||a.call(S,"bottom")>=0)&&(g.top=j.top=!1),j.top===C.top&&j.left===C.left&&g.top===this.attachment.top&&g.left===this.attachment.left||this.updateAttachClasses(g,j)}return t((function(){return n(ee.target,l,h),n(ee.element,l,h)})),{top:M,left:v}}})}.call(this),function(){var e,t,i,r;r=this.Tether.Utils,t=r.getBounds,i=r.updateClasses,e=r.defer,this.Tether.modules.push({position:function(r){var s,n,o,a,l,h,c,d,u,p,f,m,g,y,v,b,w,_,k,S,x,T,j,C=this;if(p=r.top,l=r.left,a=p+(k=this.cache("element-bounds",(function(){return t(C.element)}))).height,h=l+k.width,s=[],p<=(u=this.getTargetBounds()).bottom&&a>=u.top)for(f=0,v=(S=["left","right"]).length;f<v;f++)(x=u[c=S[f]])!==l&&x!==h||s.push(c);if(l<=u.right&&h>=u.left)for(m=0,b=(T=["top","bottom"]).length;m<b;m++)(j=u[c=T[m]])!==p&&j!==a||s.push(c);for(n=[],d=["left","top","right","bottom"],(o=[]).push(this.getClass("abutted")),g=0,w=d.length;g<w;g++)c=d[g],o.push(this.getClass("abutted")+"-"+c);for(s.length&&n.push(this.getClass("abutted")),y=0,_=s.length;y<_;y++)c=s[y],n.push(this.getClass("abutted")+"-"+c);return e((function(){return i(C.target,n,o),i(C.element,n,o)})),!0}})}.call(this),function(){this.Tether.modules.push({position:function(e){var t,i,r,s,n,o;if(n=e.top,t=e.left,this.options.shift)return"string"==typeof(i=function(e){return"function"==typeof e?e.call(this,{top:n,left:t}):e}(this.options.shift))?((i=i.split(" "))[1]||(i[1]=i[0]),s=i[0],r=i[1],s=parseFloat(s,10),r=parseFloat(r,10)):(s=(o=[i.top,i.left])[0],r=o[1]),{top:n+=s,left:t+=r}}})}.call(this),this.Tether})),function(e,t){"function"==typeof define&&define.amd?define(["tether"],t):"object"==typeof exports?module.exports=t(require("tether")):e.Shepherd=t(e.Tether)}(this,(function(e){"use strict";var t=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),i=function(e,t,i){for(var r=!0;r;){var s=e,n=t,o=i;r=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,n);if(void 0!==a){if("value"in a)return a.value;var l=a.get;if(void 0===l)return;return l.call(o)}var h=Object.getPrototypeOf(s);if(null===h)return;e=h,t=n,i=o,r=!0,a=h=void 0}};function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var n=e.Utils,o=n.Evented,a=n.addClass,l=n.extend,h=n.hasClass,c=n.removeClass,d=n.uniqueId,u=new o;function p(e){return void 0===e}function f(e){return"object"==typeof e}var m={"top right":"bottom left","top left":"bottom right","top center":"bottom center","middle right":"middle left","middle left":"middle right","middle center":"middle center","bottom left":"top right","bottom right":"top left","bottom center":"top center",top:"bottom center",left:"middle right",right:"middle left",bottom:"top center",center:"middle center",middle:"middle center"};function g(e){var t=document.createElement("div");return t.innerHTML=e,t.children[0]}var y=/^(.+) (top|left|right|bottom|center|\[[a-z ]+\])$/;var v=function(n){function o(e,t){return r(this,o),i(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,e,t),this.tour=e,this.bindMethods(),this.setOptions(t),this}return s(o,n),t(o,[{key:"bindMethods",value:function(){var e=this;["_show","show","hide","isOpen","cancel","complete","scrollTo","destroy","render"].map((function(t){e[t]=e[t].bind(e)}))}},{key:"setOptions",value:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=e,this.destroy(),this.id=this.options.id||this.id||"step-"+d();var t=this.options.when;if(t)for(var i in t)if({}.hasOwnProperty.call(t,i)){var r=t[i];this.on(i,r,this)}var s,n=JSON.stringify(this.options.buttons),o=p(n)||"true"===n,a="{}"===n||"[]"===n||"null"===n||"false"===n,l=!o&&((s=this.options.buttons)&&s.constructor===Array),h=!o&&function(e){return e&&e.constructor===Object}(this.options.buttons);o?this.options.buttons=[{text:"Next",action:this.tour.next,classes:"btn"}]:!a&&h?this.options.buttons=[this.options.buttons]:!a&&l||(this.options.buttons=!1)}},{key:"getTour",value:function(){return this.tour}},{key:"bindAdvance",value:function(){var e=this,t=function(e,t){if(null===e||p(e))return e;if(f(e))return e;for(var i=e.split(" "),r={},s=t.length-1,n=i.length-1;n>=0;n--){if(0===s){r[t[s]]=i.slice(0,n+1).join(" ");break}r[t[s]]=i[n],s--}return r}(this.options.advanceOn,["selector","event"]),i=t.event,r=t.selector,s=function(t){e.isOpen()&&(p(r)?e.el&&t.target===e.el&&e.tour.next():function(e,t){var i=void 0;return p(e.matches)?p(e.matchesSelector)?p(e.msMatchesSelector)?p(e.webkitMatchesSelector)?p(e.mozMatchesSelector)?p(e.oMatchesSelector)||(i=e.oMatchesSelector):i=e.mozMatchesSelector:i=e.webkitMatchesSelector:i=e.msMatchesSelector:i=e.matchesSelector:i=e.matches,i.call(e,t)}(t.target,r)&&e.tour.next())};document.body.addEventListener(i,s),this.on("destroy",(function(){return document.body.removeEventListener(i,s)}))}},{key:"getAttachTo",value:function(){var e=function(e){if(f(e))return e.hasOwnProperty("element")&&e.hasOwnProperty("on")?e:null;var t=y.exec(e);if(!t)return null;var i=t[2];return"["===i[0]&&(i=i.substring(1,i.length-1)),{element:t[1],on:i}}(this.options.attachTo)||{},t=l({},e);return"string"==typeof e.element&&(t.element=document.querySelector(e.element),t.element||console.error("The element for this Shepherd step was not found "+e.element)),t}},{key:"setupTether",value:function(){if(p(e))throw new Error("Using the attachment feature of Shepherd requires the Tether library");var t=this.getAttachTo(),i=m[t.on]||m.right;p(t.element)&&(t.element="viewport",i="middle center");var r={classPrefix:"shepherd",element:this.el,constraints:[{to:"window",pin:!0,attachment:"together"}],target:t.element,offset:t.offset||"0 0",attachment:i};this.tether&&this.tether.destroy(),this.tether=new e(l(r,this.options.tetherOptions))}},{key:"show",value:function(){var e=this;if(!p(this.options.beforeShowPromise)){var t=this.options.beforeShowPromise();if(!p(t))return t.then((function(){return e._show()}))}this._show()}},{key:"_show",value:function(){var e=this;this.trigger("before-show"),this.el||this.render(),a(this.el,"shepherd-open"),document.body.setAttribute("data-shepherd-step",this.id),this.setupTether(),this.options.scrollTo&&setTimeout((function(){e.scrollTo()})),this.trigger("show")}},{key:"hide",value:function(){this.trigger("before-hide"),c(this.el,"shepherd-open"),document.body.removeAttribute("data-shepherd-step"),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("hide")}},{key:"isOpen",value:function(){return this.el&&h(this.el,"shepherd-open")}},{key:"cancel",value:function(){this.tour.cancel(),this.trigger("cancel")}},{key:"complete",value:function(){this.tour.complete(),this.trigger("complete")}},{key:"scrollTo",value:function(){var e=this.getAttachTo().element;p(this.options.scrollToHandler)?p(e)||e.scrollIntoView():this.options.scrollToHandler(e)}},{key:"destroy",value:function(){!p(this.el)&&this.el.parentNode&&(this.el.parentNode.removeChild(this.el),delete this.el),this.tether&&this.tether.destroy(),this.tether=null,this.trigger("destroy")}},{key:"render",value:function(){var e=this;p(this.el)||this.destroy(),this.el=g("<div class='shepherd-step "+(this.options.classes||"")+"' data-id='"+this.id+"' "+(this.options.idAttribute?'id="'+this.options.idAttribute+'"':"")+"></div>");var t=document.createElement("div");t.className="shepherd-content",this.el.appendChild(t);var i,r,s,n,o=document.createElement("header");if(t.appendChild(o),this.options.title&&(o.innerHTML+="<h3 class='shepherd-title'>"+this.options.title+"</h3>",this.el.className+=" shepherd-has-title"),this.options.showCancelLink){var a=g("<a href class='shepherd-cancel-link'>✕</a>");o.appendChild(a),this.el.className+=" shepherd-has-cancel-link",this.bindCancelLink(a)}p(this.options.text)||(i=g("<div class='shepherd-text'></div>"),"function"==typeof(r=e.options.text)&&(r=r.call(e,i)),r instanceof HTMLElement?i.appendChild(r):("string"==typeof r&&(r=[r]),r.map((function(e){i.innerHTML+="<p>"+e+"</p>"}))),t.appendChild(i)),this.options.buttons&&(s=document.createElement("footer"),n=g("<ul class='shepherd-buttons'></ul>"),e.options.buttons.map((function(t){var i=g("<li><a class='shepherd-button "+(t.classes||"")+"'>"+t.text+"</a>");n.appendChild(i),e.bindButtonEvents(t,i.querySelector("a"))})),s.appendChild(n),t.appendChild(s)),document.body.appendChild(this.el),this.setupTether(),this.options.advanceOn&&this.bindAdvance()}},{key:"bindCancelLink",value:function(e){var t=this;e.addEventListener("click",(function(e){e.preventDefault(),t.cancel()}))}},{key:"bindButtonEvents",value:function(e,t){var i=this;for(var r in e.events=e.events||{},p(e.action)||(e.events.click=e.action),e.events)if({}.hasOwnProperty.call(e.events,r)){var s=e.events[r];"string"==typeof s&&function(){var e=s;s=function(){return i.tour.show(e)}}(),t.addEventListener(r,s)}this.on("destroy",(function(){for(var i in e.events)if({}.hasOwnProperty.call(e.events,i)){var r=e.events[i];t.removeEventListener(i,r)}}))}}]),o}(o),b=function(e){function n(){var e=this,t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];r(this,n),i(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t),this.bindMethods(),this.options=t,this.steps=this.options.steps||[];return["complete","cancel","hide","start","show","active","inactive"].map((function(t){var i;i=t,e.on(i,(function(t){(t=t||{}).tour=e,u.trigger(i,t)}))})),this}return s(n,e),t(n,[{key:"bindMethods",value:function(){var e=this;["next","back","cancel","complete","hide"].map((function(t){e[t]=e[t].bind(e)}))}},{key:"addStep",value:function(e,t){return p(t)&&(t=e),t instanceof v?t.tour=this:("string"!=typeof e&&"number"!=typeof e||(t.id=e.toString()),t=l({},this.options.defaults,t),t=new v(this,t)),this.steps.push(t),this}},{key:"removeStep",value:function(e){for(var t=this.getCurrentStep(),i=0;i<this.steps.length;++i){var r=this.steps[i];if(r.id===e){r.isOpen()&&r.hide(),r.destroy(),this.steps.splice(i,1);break}}t&&t.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.hide())}},{key:"getById",value:function(e){for(var t=0;t<this.steps.length;++t){var i=this.steps[t];if(i.id===e)return i}}},{key:"getCurrentStep",value:function(){return this.currentStep}},{key:"next",value:function(){var e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?(this.hide(e),this.trigger("complete"),this.done()):this.show(e+1,!0)}},{key:"back",value:function(){var e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}},{key:"cancel",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("cancel"),this.done()}},{key:"complete",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("complete"),this.done()}},{key:"hide",value:function(){this.currentStep&&this.currentStep.hide(),this.trigger("hide"),this.done()}},{key:"done",value:function(){u.activeTour=null,c(document.body,"shepherd-active"),this.trigger("inactive",{tour:this})}},{key:"show",value:function(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],t=arguments.length<=1||void 0===arguments[1]||arguments[1];this.currentStep?this.currentStep.hide():(a(document.body,"shepherd-active"),this.trigger("active",{tour:this})),u.activeTour=this;var i=void 0;if(i="string"==typeof e?this.getById(e):this.steps[e])if(p(i.options.showOn)||i.options.showOn())this.trigger("show",{step:i,previous:this.currentStep}),this.currentStep&&this.currentStep.hide(),this.currentStep=i,i.show();else{var r=this.steps.indexOf(i),s=t?r+1:r-1;this.show(s,t)}}},{key:"start",value:function(){this.trigger("start"),this.currentStep=null,this.next()}}]),n}(o);return l(u,{Tour:b,Step:v,Evented:o}),u})),function(e,t){"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],(function(i){return t(e,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("jquery")):e.jQueryBridget=t(e,e.jQuery)}(window,(function(e,t){"use strict";var i=Array.prototype.slice,r=e.console,s=void 0===r?function(){}:function(e){r.error(e)};function n(r,n,a){(a=a||t||e.jQuery)&&(n.prototype.option||(n.prototype.option=function(e){a.isPlainObject(e)&&(this.options=a.extend(!0,this.options,e))}),a.fn[r]=function(e){var t;return"string"==typeof e?function(e,t,i){var n,o="$()."+r+'("'+t+'")';return e.each((function(e,l){var h=a.data(l,r);if(h){var c=h[t];if(c&&"_"!=t.charAt(0)){var d=c.apply(h,i);n=void 0===n?d:n}else s(o+" is not a valid method")}else s(r+" not initialized. Cannot call methods, i.e. "+o)})),void 0!==n?n:e}(this,e,i.call(arguments,1)):(t=e,this.each((function(e,i){var s=a.data(i,r);s?(s.option(t),s._init()):(s=new n(i,t),a.data(i,r,s))})),this)},o(a))}function o(e){!e||e&&e.bridget||(e.bridget=n)}return o(t||e.jQuery),n})),function(e,t){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",t):"object"==typeof module&&module.exports?module.exports=t():e.EvEmitter=t()}("undefined"!=typeof window?window:this,(function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},r=i[e]=i[e]||[];return-1==r.indexOf(t)&&r.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var r=i.indexOf(t);return-1!=r&&i.splice(r,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){i=i.slice(0),t=t||[];for(var r=this._onceEvents&&this._onceEvents[e],s=0;s<i.length;s++){var n=i[s];r&&r[n]&&(this.off(e,n),delete r[n]),n.apply(this,t)}return this}},t.allOff=function(){delete this._events,delete this._onceEvents},e})),function(e,t){"function"==typeof define&&define.amd?define("get-size/get-size",t):"object"==typeof module&&module.exports?module.exports=t():e.getSize=t()}(window,(function(){"use strict";function e(e){var t=parseFloat(e);return-1==e.indexOf("%")&&!isNaN(t)&&t}var t="undefined"==typeof console?function(){}:function(e){console.error(e)},i=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],r=i.length;function s(e){var i=getComputedStyle(e);return i||t("Style returned "+i+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),i}var n,o=!1;function a(t){if(function(){if(!o){o=!0;var t=document.createElement("div");t.style.width="200px",t.style.padding="1px 2px 3px 4px",t.style.borderStyle="solid",t.style.borderWidth="1px 2px 3px 4px",t.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(t);var r=s(t);n=200==Math.round(e(r.width)),a.isBoxSizeOuter=n,i.removeChild(t)}}(),"string"==typeof t&&(t=document.querySelector(t)),t&&"object"==typeof t&&t.nodeType){var l=s(t);if("none"==l.display)return function(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0;t<r;t++)e[i[t]]=0;return e}();var h={};h.width=t.offsetWidth,h.height=t.offsetHeight;for(var c=h.isBorderBox="border-box"==l.boxSizing,d=0;d<r;d++){var u=i[d],p=l[u],f=parseFloat(p);h[u]=isNaN(f)?0:f}var m=h.paddingLeft+h.paddingRight,g=h.paddingTop+h.paddingBottom,y=h.marginLeft+h.marginRight,v=h.marginTop+h.marginBottom,b=h.borderLeftWidth+h.borderRightWidth,w=h.borderTopWidth+h.borderBottomWidth,_=c&&n,k=e(l.width);!1!==k&&(h.width=k+(_?0:m+b));var S=e(l.height);return!1!==S&&(h.height=S+(_?0:g+w)),h.innerWidth=h.width-(m+b),h.innerHeight=h.height-(g+w),h.outerWidth=h.width+y,h.outerHeight=h.height+v,h}}return a})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",t):"object"==typeof module&&module.exports?module.exports=t():e.matchesSelector=t()}(window,(function(){"use strict";var e=function(){var e=window.Element.prototype;if(e.matches)return"matches";if(e.matchesSelector)return"matchesSelector";for(var t=["webkit","moz","ms","o"],i=0;i<t.length;i++){var r=t[i]+"MatchesSelector";if(e[r])return r}}();return function(t,i){return t[e](i)}})),function(e,t){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],(function(i){return t(e,i)})):"object"==typeof module&&module.exports?module.exports=t(e,require("desandro-matches-selector")):e.fizzyUIUtils=t(e,e.matchesSelector)}(window,(function(e,t){var i={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},r=Array.prototype.slice;i.makeArray=function(e){return Array.isArray(e)?e:null==e?[]:"object"==typeof e&&"number"==typeof e.length?r.call(e):[e]},i.removeFrom=function(e,t){var i=e.indexOf(t);-1!=i&&e.splice(i,1)},i.getParent=function(e,i){for(;e.parentNode&&e!=document.body;)if(e=e.parentNode,t(e,i))return e},i.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},i.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.filterFindElements=function(e,r){e=i.makeArray(e);var s=[];return e.forEach((function(e){if(e instanceof HTMLElement)if(r){t(e,r)&&s.push(e);for(var i=e.querySelectorAll(r),n=0;n<i.length;n++)s.push(i[n])}else s.push(e)})),s},i.debounceMethod=function(e,t,i){i=i||100;var r=e.prototype[t],s=t+"Timeout";e.prototype[t]=function(){var e=this[s];clearTimeout(e);var t=arguments,n=this;this[s]=setTimeout((function(){r.apply(n,t),delete n[s]}),i)}},i.docReady=function(e){var t=document.readyState;"complete"==t||"interactive"==t?setTimeout(e):document.addEventListener("DOMContentLoaded",e)},i.toDashed=function(e){return e.replace(/(.)([A-Z])/g,(function(e,t,i){return t+"-"+i})).toLowerCase()};var s=e.console;return i.htmlInit=function(t,r){i.docReady((function(){var n=i.toDashed(r),o="data-"+n,a=document.querySelectorAll("["+o+"]"),l=document.querySelectorAll(".js-"+n),h=i.makeArray(a).concat(i.makeArray(l)),c=o+"-options",d=e.jQuery;h.forEach((function(e){var i,n=e.getAttribute(o)||e.getAttribute(c);try{i=n&&JSON.parse(n)}catch(t){return void(s&&s.error("Error parsing "+o+" on "+e.className+": "+t))}var a=new t(e,i);d&&d.data(e,r,a)}))}))},i})),function(e,t){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("ev-emitter"),require("get-size")):(e.Outlayer={},e.Outlayer.Item=t(e.EvEmitter,e.getSize))}(window,(function(e,t){"use strict";var i=document.documentElement.style,r="string"==typeof i.transition?"transition":"WebkitTransition",s="string"==typeof i.transform?"transform":"WebkitTransform",n={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],o={transform:s,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"};function a(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}var l=a.prototype=Object.create(e.prototype);l.constructor=a,l._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},l.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.getSize=function(){this.size=t(this.element)},l.css=function(e){var t=this.element.style;for(var i in e){t[o[i]||i]=e[i]}},l.getPosition=function(){var e=getComputedStyle(this.element),t=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),r=e[t?"left":"right"],s=e[i?"top":"bottom"],n=parseFloat(r),o=parseFloat(s),a=this.layout.size;-1!=r.indexOf("%")&&(n=n/100*a.width),-1!=s.indexOf("%")&&(o=o/100*a.height),n=isNaN(n)?0:n,o=isNaN(o)?0:o,n-=t?a.paddingLeft:a.paddingRight,o-=i?a.paddingTop:a.paddingBottom,this.position.x=n,this.position.y=o},l.layoutPosition=function(){var e=this.layout.size,t={},i=this.layout._getOption("originLeft"),r=this.layout._getOption("originTop"),s=i?"paddingLeft":"paddingRight",n=i?"left":"right",o=i?"right":"left",a=this.position.x+e[s];t[n]=this.getXValue(a),t[o]="";var l=r?"paddingTop":"paddingBottom",h=r?"top":"bottom",c=r?"bottom":"top",d=this.position.y+e[l];t[h]=this.getYValue(d),t[c]="",this.css(t),this.emitEvent("layout",[this])},l.getXValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!t?e/this.layout.size.width*100+"%":e+"px"},l.getYValue=function(e){var t=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&t?e/this.layout.size.height*100+"%":e+"px"},l._transitionTo=function(e,t){this.getPosition();var i=this.position.x,r=this.position.y,s=e==this.position.x&&t==this.position.y;if(this.setPosition(e,t),!s||this.isTransitioning){var n=e-i,o=t-r,a={};a.transform=this.getTranslate(n,o),this.transition({to:a,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},l.getTranslate=function(e,t){return"translate3d("+(e=this.layout._getOption("originLeft")?e:-e)+"px, "+(t=this.layout._getOption("originTop")?t:-t)+"px, 0)"},l.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},l.moveTo=l._transitionTo,l.setPosition=function(e,t){this.position.x=parseFloat(e),this.position.y=parseFloat(t)},l._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},l.transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var h="opacity,"+s.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}));l.enableTransition=function(){if(!this.isTransitioning){var e=this.layout.options.transitionDuration;e="number"==typeof e?e+"ms":e,this.css({transitionProperty:h,transitionDuration:e,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(n,this,!1)}},l.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},l.onotransitionend=function(e){this.ontransitionend(e)};var c={"-webkit-transform":"transform"};l.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=c[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],function(e){for(var t in e)return!1;return!0}(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}},l.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(n,this,!1),this.isTransitioning=!1},l._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var d={transitionProperty:"",transitionDuration:"",transitionDelay:""};return l.removeTransitionStyles=function(){this.css(d)},l.stagger=function(e){e=isNaN(e)?0:e,this.staggerDelay=e+"ms"},l.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},l.remove=function(){r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",(function(){this.removeElem()})),this.hide()):this.removeElem()},l.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},l.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},l.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},l.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},l.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},l.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},a})),function(e,t){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],(function(i,r,s,n){return t(e,i,r,s,n)})):"object"==typeof module&&module.exports?module.exports=t(e,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):e.Outlayer=t(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)}(window,(function(e,t,i,r,s){"use strict";var n=e.console,o=e.jQuery,a=function(){},l=0,h={};function c(e,t){var i=r.getQueryElement(e);if(i){this.element=i,o&&(this.$element=o(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var s=++l;this.element.outlayerGUID=s,h[s]=this,this._create(),this._getOption("initLayout")&&this.layout()}else n&&n.error("Bad element for "+this.constructor.namespace+": "+(i||e))}c.namespace="outlayer",c.Item=s,c.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var d=c.prototype;function u(e){function t(){e.apply(this,arguments)}return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t}r.extend(d,t.prototype),d.option=function(e){r.extend(this.options,e)},d._getOption=function(e){var t=this.constructor.compatOptions[e];return t&&void 0!==this.options[t]?this.options[t]:this.options[e]},c.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},d._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this._getOption("resize")&&this.bindResize()},d.reloadItems=function(){this.items=this._itemize(this.element.children)},d._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,r=[],s=0;s<t.length;s++){var n=new i(t[s],this);r.push(n)}return r},d._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},d.getItemElements=function(){return this.items.map((function(e){return e.element}))},d.layout=function(){this._resetLayout(),this._manageStamps();var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;this.layoutItems(this.items,t),this._isLayoutInited=!0},d._init=d.layout,d._resetLayout=function(){this.getSize()},d.getSize=function(){this.size=i(this.element)},d._getMeasurement=function(e,t){var r,s=this.options[e];s?("string"==typeof s?r=this.element.querySelector(s):s instanceof HTMLElement&&(r=s),this[e]=r?i(r)[t]:s):this[e]=0},d.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},d._getItemsForLayout=function(e){return e.filter((function(e){return!e.isIgnored}))},d._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){var i=[];e.forEach((function(e){var r=this._getItemLayoutPosition(e);r.item=e,r.isInstant=t||e.isLayoutInstant,i.push(r)}),this),this._processLayoutQueue(i)}},d._getItemLayoutPosition=function(){return{x:0,y:0}},d._processLayoutQueue=function(e){this.updateStagger(),e.forEach((function(e,t){this._positionItem(e.item,e.x,e.y,e.isInstant,t)}),this)},d.updateStagger=function(){var e=this.options.stagger;if(null!=e)return this.stagger=function(e){if("number"==typeof e)return e;var t=e.match(/(^\d*\.?\d*)(\w*)/),i=t&&t[1],r=t&&t[2];if(!i.length)return 0;i=parseFloat(i);var s=p[r]||1;return i*s}(e),this.stagger;this.stagger=0},d._positionItem=function(e,t,i,r,s){r?e.goTo(t,i):(e.stagger(s*this.stagger),e.moveTo(t,i))},d._postLayout=function(){this.resizeContainer()},d.resizeContainer=function(){if(this._getOption("resizeContainer")){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},d._getContainerSize=a,d._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},d._emitCompleteOnItems=function(e,t){var i=this;function r(){i.dispatchEvent(e+"Complete",null,[t])}var s=t.length;if(t&&s){var n=0;t.forEach((function(t){t.once(e,o)}))}else r();function o(){++n==s&&r()}},d.dispatchEvent=function(e,t,i){var r=t?[t].concat(i):i;if(this.emitEvent(e,r),o)if(this.$element=this.$element||o(this.element),t){var s=o.Event(t);s.type=e,this.$element.trigger(s,i)}else this.$element.trigger(e,i)},d.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},d.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},d.stamp=function(e){(e=this._find(e))&&(this.stamps=this.stamps.concat(e),e.forEach(this.ignore,this))},d.unstamp=function(e){(e=this._find(e))&&e.forEach((function(e){r.removeFrom(this.stamps,e),this.unignore(e)}),this)},d._find=function(e){if(e)return"string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)},d._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},d._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},d._manageStamp=a,d._getElementOffset=function(e){var t=e.getBoundingClientRect(),r=this._boundingRect,s=i(e);return{left:t.left-r.left-s.marginLeft,top:t.top-r.top-s.marginTop,right:r.right-t.right-s.marginRight,bottom:r.bottom-t.bottom-s.marginBottom}},d.handleEvent=r.handleEvent,d.bindResize=function(){e.addEventListener("resize",this),this.isResizeBound=!0},d.unbindResize=function(){e.removeEventListener("resize",this),this.isResizeBound=!1},d.onresize=function(){this.resize()},r.debounceMethod(c,"onresize",100),d.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},d.needsResizeLayout=function(){var e=i(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},d.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},d.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},d.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},d.reveal=function(e){if(this._emitCompleteOnItems("reveal",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,i){e.stagger(i*t),e.reveal()}))}},d.hide=function(e){if(this._emitCompleteOnItems("hide",e),e&&e.length){var t=this.updateStagger();e.forEach((function(e,i){e.stagger(i*t),e.hide()}))}},d.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},d.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},d.getItem=function(e){for(var t=0;t<this.items.length;t++){var i=this.items[t];if(i.element==e)return i}},d.getItems=function(e){e=r.makeArray(e);var t=[];return e.forEach((function(e){var i=this.getItem(e);i&&t.push(i)}),this),t},d.remove=function(e){var t=this.getItems(e);this._emitCompleteOnItems("remove",t),t&&t.length&&t.forEach((function(e){e.remove(),r.removeFrom(this.items,e)}),this)},d.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="",this.items.forEach((function(e){e.destroy()})),this.unbindResize();var t=this.element.outlayerGUID;delete h[t],delete this.element.outlayerGUID,o&&o.removeData(this.element,this.constructor.namespace)},c.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&h[t]},c.create=function(e,t){var i=u(c);return i.defaults=r.extend({},c.defaults),r.extend(i.defaults,t),i.compatOptions=r.extend({},c.compatOptions),i.namespace=e,i.data=c.data,i.Item=u(s),r.htmlInit(i,e),o&&o.bridget&&o.bridget(e,i),i};var p={ms:1,s:1e3};return c.Item=s,c})),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/item",["outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,(function(e){"use strict";function t(){e.Item.apply(this,arguments)}var i=t.prototype=Object.create(e.Item.prototype),r=i._create;i._create=function(){this.id=this.layout.itemGUID++,r.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var i in e){var r=t[i];this.sortData[i]=r(this.element,this)}}};var s=i.destroy;return i.destroy=function(){s.apply(this,arguments),this.css({display:""})},t})),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof module&&module.exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,(function(e,t){"use strict";function i(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}var r=i.prototype;return["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"].forEach((function(e){r[e]=function(){return t.prototype[e].apply(this.isotope,arguments)}})),r.needsVerticalResizeLayout=function(){var t=e(this.isotope.element);return this.isotope.size&&t&&t.innerHeight!=this.isotope.size.innerHeight},r._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},r.getColumnWidth=function(){this.getSegmentSize("column","Width")},r.getRowHeight=function(){this.getSegmentSize("row","Height")},r.getSegmentSize=function(e,t){var i=e+t,r="outer"+t;if(this._getMeasurement(i,r),!this[i]){var s=this.getFirstItemSize();this[i]=s&&s[r]||this.isotope.size["inner"+t]}},r.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},r.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},r.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(e,t){function s(){i.apply(this,arguments)}return s.prototype=Object.create(r),s.prototype.constructor=s,t&&(s.options=t),s.prototype.namespace=e,i.modes[e]=s,s},i})),function(e,t){"function"==typeof define&&define.amd?define("masonry-layout/masonry",["outlayer/outlayer","get-size/get-size"],t):"object"==typeof module&&module.exports?module.exports=t(require("outlayer"),require("get-size")):e.Masonry=t(e.Outlayer,e.getSize)}(window,(function(e,t){var i=e.create("masonry");i.compatOptions.fitWidth="isFitWidth";var r=i.prototype;return r._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var e=0;e<this.cols;e++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},r.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],i=e&&e.element;this.columnWidth=i&&t(i).outerWidth||this.containerWidth}var r=this.columnWidth+=this.gutter,s=this.containerWidth+this.gutter,n=s/r,o=r-s%r;n=Math[o&&o<1?"round":"floor"](n),this.cols=Math.max(n,1)},r.getContainerWidth=function(){var e=this._getOption("fitWidth")?this.element.parentNode:this.element,i=t(e);this.containerWidth=i&&i.innerWidth},r._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var r=this[this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition"](i,e),s={x:this.columnWidth*r.col,y:r.y},n=r.y+e.size.outerHeight,o=i+r.col,a=r.col;a<o;a++)this.colYs[a]=n;return s},r._getTopColPosition=function(e){var t=this._getTopColGroup(e),i=Math.min.apply(Math,t);return{col:t.indexOf(i),y:i}},r._getTopColGroup=function(e){if(e<2)return this.colYs;for(var t=[],i=this.cols+1-e,r=0;r<i;r++)t[r]=this._getColGroupY(r,e);return t},r._getColGroupY=function(e,t){if(t<2)return this.colYs[e];var i=this.colYs.slice(e,e+t);return Math.max.apply(Math,i)},r._getHorizontalColPosition=function(e,t){var i=this.horizontalColIndex%this.cols;i=e>1&&i+e>this.cols?0:i;var r=t.size.outerWidth&&t.size.outerHeight;return this.horizontalColIndex=r?i+e:this.horizontalColIndex,{col:i,y:this._getColGroupY(i,e)}},r._manageStamp=function(e){var i=t(e),r=this._getElementOffset(e),s=this._getOption("originLeft")?r.left:r.right,n=s+i.outerWidth,o=Math.floor(s/this.columnWidth);o=Math.max(0,o);var a=Math.floor(n/this.columnWidth);a-=n%this.columnWidth?0:1,a=Math.min(this.cols-1,a);for(var l=(this._getOption("originTop")?r.top:r.bottom)+i.outerHeight,h=o;h<=a;h++)this.colYs[h]=Math.max(l,this.colYs[h])},r._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this._getOption("fitWidth")&&(e.width=this._getContainerFitWidth()),e},r._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},r.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!=this.containerWidth},i})),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/masonry",["../layout-mode","masonry-layout/masonry"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,(function(e,t){"use strict";var i=e.create("masonry"),r=i.prototype,s={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var n in t.prototype)s[n]||(r[n]=t.prototype[n]);var o=r.measureColumns;r.measureColumns=function(){this.items=this.isotope.filteredItems,o.call(this)};var a=r._getOption;return r._getOption=function(e){return"fitWidth"==e?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i})),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,(function(e){"use strict";var t=e.create("fitRows"),i=t.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>i&&(this.x=0,this.y=this.maxY);var r={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,r},i._getContainerSize=function(){return{height:this.maxY}},t})),function(e,t){"function"==typeof define&&define.amd?define("isotope-layout/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof module&&module.exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,(function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0}),i=t.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=e.size.outerHeight,{x:t,y:i}},i._getContainerSize=function(){return{height:this.y}},t})),function(e,t){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope-layout/js/item","isotope-layout/js/layout-mode","isotope-layout/js/layout-modes/masonry","isotope-layout/js/layout-modes/fit-rows","isotope-layout/js/layout-modes/vertical"],(function(i,r,s,n,o,a){return t(e,i,r,s,n,o,a)})):"object"==typeof module&&module.exports?module.exports=t(e,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope-layout/js/item"),require("isotope-layout/js/layout-mode"),require("isotope-layout/js/layout-modes/masonry"),require("isotope-layout/js/layout-modes/fit-rows"),require("isotope-layout/js/layout-modes/vertical")):e.Isotope=t(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)}(window,(function(e,t,i,r,s,n,o){var a=e.jQuery,l=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},h=t.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=n,h.LayoutMode=o;var c=h.prototype;c._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),t.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],o.modes)this._initLayoutMode(e)},c.reloadItems=function(){this.itemGUID=0,t.prototype.reloadItems.call(this)},c._itemize=function(){for(var e=t.prototype._itemize.apply(this,arguments),i=0;i<e.length;i++){e[i].id=this.itemGUID++}return this._updateItemsSortData(e),e},c._initLayoutMode=function(e){var t=o.modes[e],i=this.options[e]||{};this.options[e]=t.options?s.extend(t.options,i):i,this.modes[e]=new t(this)},c.layout=function(){this._isLayoutInited||!this._getOption("initLayout")?this._layout():this.arrange()},c._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},c.arrange=function(e){this.option(e),this._getIsInstant();var t=this._filter(this.items);this.filteredItems=t.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[t]):this._hideReveal(t),this._sort(),this._layout()},c._init=c.arrange,c._hideReveal=function(e){this.reveal(e.needReveal),this.hide(e.needHide)},c._getIsInstant=function(){var e=this._getOption("layoutInstant"),t=void 0!==e?e:!this._isLayoutInited;return this._isInstant=t,t},c._bindArrangeComplete=function(){var e,t,i,r=this;function s(){e&&t&&i&&r.dispatchEvent("arrangeComplete",null,[r.filteredItems])}this.once("layoutComplete",(function(){e=!0,s()})),this.once("hideComplete",(function(){t=!0,s()})),this.once("revealComplete",(function(){i=!0,s()}))},c._filter=function(e){var t=this.options.filter;t=t||"*";for(var i=[],r=[],s=[],n=this._getFilterTest(t),o=0;o<e.length;o++){var a=e[o];if(!a.isIgnored){var l=n(a);l&&i.push(a),l&&a.isHidden?r.push(a):l||a.isHidden||s.push(a)}}return{matches:i,needReveal:r,needHide:s}},c._getFilterTest=function(e){return a&&this.options.isJQueryFiltering?function(t){return a(t.element).is(e)}:"function"==typeof e?function(t){return e(t.element)}:function(t){return r(t.element,e)}},c.updateSortData=function(e){var t;e?(e=s.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},c._getSorters=function(){var e=this.options.getSortData;for(var t in e){var i=e[t];this._sorters[t]=d(i)}},c._updateItemsSortData=function(e){for(var t=e&&e.length,i=0;t&&i<t;i++){e[i].updateSortData()}};var d=function(e){if("string"!=typeof e)return e;var t=l(e).split(" "),i=t[0],r=i.match(/^\[(.+)\]$/),s=function(e,t){return e?function(t){return t.getAttribute(e)}:function(e){var i=e.querySelector(t);return i&&i.textContent}}(r&&r[1],i),n=h.sortDataParsers[t[1]];return e=n?function(e){return e&&n(s(e))}:function(e){return e&&s(e)}};h.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},c._sort=function(){if(this.options.sortBy){var e=s.makeArray(this.options.sortBy);this._getIsSameSortBy(e)||(this.sortHistory=e.concat(this.sortHistory));var t=function(e,t){return function(i,r){for(var s=0;s<e.length;s++){var n=e[s],o=i.sortData[n],a=r.sortData[n];if(o>a||o<a)return(o>a?1:-1)*((void 0!==t[n]?t[n]:t)?1:-1)}return 0}}(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(t)}},c._getIsSameSortBy=function(e){for(var t=0;t<e.length;t++)if(e[t]!=this.sortHistory[t])return!1;return!0},c._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},c._resetLayout=function(){t.prototype._resetLayout.call(this),this._mode()._resetLayout()},c._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},c._manageStamp=function(e){this._mode()._manageStamp(e)},c._getContainerSize=function(){return this._mode()._getContainerSize()},c.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.appended=function(e){var t=this.addItems(e);if(t.length){var i=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(i)}},c.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=t.concat(this.items)}},c._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},c.insert=function(e){var t=this.addItems(e);if(t.length){var i,r,s=t.length;for(i=0;i<s;i++)r=t[i],this.element.appendChild(r.element);var n=this._filter(t).matches;for(i=0;i<s;i++)t[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<s;i++)delete t[i].isLayoutInstant;this.reveal(n)}};var u=c.remove;return c.remove=function(e){e=s.makeArray(e);var t=this.getItems(e);u.call(this,e);for(var i=t&&t.length,r=0;i&&r<i;r++){var n=t[r];s.removeFrom(this.filteredItems,n)}},c.shuffle=function(){for(var e=0;e<this.items.length;e++){this.items[e].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},c._noTransition=function(e,t){var i=this.options.transitionDuration;this.options.transitionDuration=0;var r=e.apply(this,t);return this.options.transitionDuration=i,r},c.getFilteredItemElements=function(){return this.filteredItems.map((function(e){return e.element}))},h})),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.GridStack=t():e.GridStack=t()}(self,(()=>(()=>{"use strict";var e={d:(t,i)=>{for(var r in i)e.o(i,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:i[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{GridStack:()=>x});class i{static getElements(e,t=document){if("string"==typeof e){const i="getElementById"in t?t:void 0;if(i&&!isNaN(+e[0])){const t=i.getElementById(e);return t?[t]:[]}let r=t.querySelectorAll(e);return r.length||"."===e[0]||"#"===e[0]||(r=t.querySelectorAll("."+e),r.length||(r=t.querySelectorAll("#"+e))),Array.from(r)}return[e]}static getElement(e,t=document){if("string"==typeof e){const i="getElementById"in t?t:void 0;if(!e.length)return null;if(i&&"#"===e[0])return i.getElementById(e.substring(1));if("#"===e[0]||"."===e[0]||"["===e[0])return t.querySelector(e);if(i&&!isNaN(+e[0]))return i.getElementById(e);let r=t.querySelector(e);return i&&!r&&(r=i.getElementById(e)),r||(r=t.querySelector("."+e)),r}return e}static shouldSizeToContent(e){return e?.grid&&(!!e.sizeToContent||e.grid.opts.sizeToContent&&!1!==e.sizeToContent)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return i.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){let i=e.x>t.x?e.x:t.x,r=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(r<=i)return 0;let s=e.y>t.y?e.y:t.y,n=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return n<=s?0:(r-i)*(n-s)}static area(e){return e.w*e.h}static sort(e,t=1,i){return i=i||e.reduce(((e,t)=>Math.max(t.x+t.w,e)),0)||12,-1===t?e.sort(((e,t)=>(t.x??1e3)+(t.y??1e3)*i-((e.x??1e3)+(e.y??1e3)*i))):e.sort(((e,t)=>(e.x??1e3)+(e.y??1e3)*i-((t.x??1e3)+(t.y??1e3)*i)))}static find(e,t){return t?e.find((e=>e.id===t)):void 0}static createStylesheet(e,t,i){let r=document.createElement("style");const s=i?.nonce;return s&&(r.nonce=s),r.setAttribute("type","text/css"),r.setAttribute("gs-style-id",e),r.styleSheet?r.styleSheet.cssText="":r.appendChild(document.createTextNode("")),t?t.insertBefore(r,t.firstChild):(t=document.getElementsByTagName("head")[0]).appendChild(r),r.sheet}static removeStylesheet(e,t){let i=(t||document).querySelector("STYLE[gs-style-id="+e+"]");i&&i.parentNode&&i.remove()}static addCSSRule(e,t,i){"function"==typeof e.addRule?e.addRule(t,i):"function"==typeof e.insertRule&&e.insertRule(`${t}{${i}}`)}static toBool(e){return"boolean"==typeof e?e:"string"==typeof e?!(""===(e=e.toLowerCase())||"no"===e||"false"===e||"0"===e):Boolean(e)}static toNumber(e){return null===e||0===e.length?void 0:Number(e)}static parseHeight(e){let t,i="px";if("string"==typeof e)if("auto"===e||""===e)t=0;else{let r=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%)?$/);if(!r)throw new Error(`Invalid height val = ${e}`);i=r[2]||"px",t=parseFloat(r[1])}else t=e;return{h:t,unit:i}}static defaults(e,...t){return t.forEach((t=>{for(const i in t){if(!t.hasOwnProperty(i))return;null===e[i]||void 0===e[i]?e[i]=t[i]:"object"==typeof t[i]&&"object"==typeof e[i]&&this.defaults(e[i],t[i])}})),e}static same(e,t){if("object"!=typeof e)return e==t;if(typeof e!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static copyPos(e,t,i=!1){return void 0!==t.x&&(e.x=t.x),void 0!==t.y&&(e.y=t.y),void 0!==t.w&&(e.w=t.w),void 0!==t.h&&(e.h=t.h),i&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if("object"==typeof e&&"object"==typeof t)for(let i in e){let r=e[i];if("_"===i[0]||r===t[i])delete e[i];else if(r&&"object"==typeof r&&void 0!==t[i]){for(let e in r)r[e]!==t[i][e]&&"_"!==e[0]||delete r[e];Object.keys(r).length||delete e[i]}}}static removeInternalForSave(e,t=!0){for(let t in e)"_"!==t[0]&&null!==e[t]&&void 0!==e[t]||delete e[t];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,1!==e.w&&e.w!==e.minW||delete e.w,1!==e.h&&e.h!==e.minH||delete e.h}static throttle(e,t){let i=!1;return(...r)=>{i||(i=!0,setTimeout((()=>{e(...r),i=!1}),t))}}static removePositioningStyles(e){let t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;const t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:this.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,i){let r=e.getBoundingClientRect(),s=window.innerHeight||document.documentElement.clientHeight;if(r.top<0||r.bottom>s){let n=r.bottom-s,o=r.top,a=this.getScrollElement(e);if(null!==a){let l=a.scrollTop;r.top<0&&i<0?e.offsetHeight>s?a.scrollTop+=i:a.scrollTop+=Math.abs(o)>Math.abs(i)?i:o:i>0&&(e.offsetHeight>s?a.scrollTop+=i:a.scrollTop+=n>i?i:n),t.top+=a.scrollTop-l}}}static updateScrollResize(e,t,i){const r=this.getScrollElement(t),s=r.clientHeight,n=r===this.getScrollElement()?0:r.getBoundingClientRect().top,o=e.clientY-n,a=o>s-i;o<i?r.scrollBy({behavior:"smooth",top:o-i}):a&&r.scrollBy({behavior:"smooth",top:i-(s-o)})}static clone(e){return null==e||"object"!=typeof e?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],r=i.clone(e);for(const s in r)r.hasOwnProperty(s)&&"object"==typeof r[s]&&"__"!==s.substring(0,2)&&!t.find((e=>e===s))&&(r[s]=i.cloneDeep(e[s]));return r}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let r;r="string"==typeof t?i.getElement(t):t,r&&r.appendChild(e)}static addElStyles(e,t){if(t instanceof Object)for(const i in t)t.hasOwnProperty(i)&&(Array.isArray(t[i])?t[i].forEach((t=>{e.style[i]=t})):e.style[i]=t[i])}static initEvent(e,t){const i={type:t.type},r={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return e.dataTransfer&&(i.dataTransfer=e.dataTransfer),["altKey","ctrlKey","metaKey","shiftKey"].forEach((t=>i[t]=e[t])),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach((t=>i[t]=e[t])),{...i,...r}}static simulateMouseEvent(e,t,i){const r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,e.target),(i||e.target).dispatchEvent(r)}}class r{constructor(e={}){this.addedNodes=[],this.removedNodes=[],this.column=e.column||12,this.maxRow=e.maxRow,this._float=e.float,this.nodes=e.nodes||[],this.onChange=e.onChange}batchUpdate(e=!0,t=!0){return!!this.batchMode===e||(this.batchMode=e,e?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,t&&this._packNodes(),this._notify())),this}_useEntireRowArea(e,t){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!e._moving||e._skipDown||t.y<=e.y)}_fixCollisions(e,t=e,r,s={}){if(this.sortNodes(-1),!(r=r||this.collide(e,t)))return!1;if(e._moving&&!s.nested&&!this.float&&this.swap(e,r))return!0;let n=t;this._useEntireRowArea(e,t)&&(n={x:0,w:this.column,y:t.y,h:t.h},r=this.collide(e,n,s.skip));let o=!1,a={nested:!0,pack:!1};for(;r=r||this.collide(e,n,s.skip);){let n;if(r.locked||e._moving&&!e._skipDown&&t.y>e.y&&!this.float&&(!this.collide(r,{...r,y:e.y},e)||!this.collide(r,{...r,y:t.y-r.h},e))?(e._skipDown=e._skipDown||t.y>e.y,n=this.moveNode(e,{...t,y:r.y+r.h,...a}),r.locked&&n?i.copyPos(t,e):!r.locked&&n&&s.pack&&(this._packNodes(),t.y=r.y+r.h,i.copyPos(e,t)),o=o||n):n=this.moveNode(r,{...r,y:t.y+t.h,skip:e,...a}),!n)return o;r=void 0}return o}collide(e,t=e,r){const s=e._id,n=r?._id;return this.nodes.find((e=>e._id!==s&&e._id!==n&&i.isIntercepted(e,t)))}collideAll(e,t=e,r){const s=e._id,n=r?._id;return this.nodes.filter((e=>e._id!==s&&e._id!==n&&i.isIntercepted(e,t)))}directionCollideCoverage(e,t,i){if(!t.rect||!e._rect)return;let r,s=e._rect,n={...t.rect};n.y>s.y?(n.h+=n.y-s.y,n.y=s.y):n.h+=s.y-n.y,n.x>s.x?(n.w+=n.x-s.x,n.x=s.x):n.w+=s.x-n.x;let o=.5;return i.forEach((e=>{if(e.locked||!e._rect)return;let t=e._rect,i=Number.MAX_VALUE,a=Number.MAX_VALUE;s.y<t.y?i=(n.y+n.h-t.y)/t.h:s.y+s.h>t.y+t.h&&(i=(t.y+t.h-n.y)/t.h),s.x<t.x?a=(n.x+n.w-t.x)/t.w:s.x+s.w>t.x+t.w&&(a=(t.x+t.w-n.x)/t.w);let l=Math.min(a,i);l>o&&(o=l,r=e)})),t.collide=r,r}cacheRects(e,t,i,r,s,n){return this.nodes.forEach((o=>o._rect={y:o.y*t+i,x:o.x*e+n,w:o.w*e-n-r,h:o.h*t-i-s})),this}swap(e,t){if(!t||t.locked||!e||e.locked)return!1;function r(){let i=t.x,r=t.y;return t.x=e.x,t.y=e.y,e.h!=t.h?(e.x=i,e.y=t.y+t.h):e.w!=t.w?(e.x=t.x+t.w,e.y=r):(e.x=i,e.y=r),e._dirty=t._dirty=!0,!0}let s;if(e.w===t.w&&e.h===t.h&&(e.x===t.x||e.y===t.y)&&(s=i.isTouching(e,t)))return r();if(!1!==s){if(e.w===t.w&&e.x===t.x&&(s||(s=i.isTouching(e,t)))){if(t.y<e.y){let i=e;e=t,t=i}return r()}if(!1!==s){if(e.h===t.h&&e.y===t.y&&(s||(s=i.isTouching(e,t)))){if(t.x<e.x){let i=e;e=t,t=i}return r()}return!1}}}isAreaEmpty(e,t,i,r){let s={x:e||0,y:t||0,w:i||1,h:r||1};return!this.collide(s)}compact(e="compact",t=!0){if(0===this.nodes.length)return this;t&&this.sortNodes();const i=this.batchMode;i||this.batchUpdate();const r=this._inColumnResize;r||(this._inColumnResize=!0);let s=this.nodes;return this.nodes=[],s.forEach(((t,i,r)=>{let s;t.locked||(t.autoPosition=!0,"list"===e&&i&&(s=r[i-1])),this.addNode(t,!1,s)})),r||delete this._inColumnResize,i||this.batchUpdate(!1),this}set float(e){this._float!==e&&(this._float=e||!1,e||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(e=1,t=this.column){return this.nodes=i.sort(this.nodes,e,t),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach((e=>{if(e._updating||void 0===e._orig||e.y===e._orig.y)return;let t=e.y;for(;t>e._orig.y;)--t,this.collide(e,{x:e.x,y:t,w:e.w,h:e.h})||(e._dirty=!0,e.y=t)})):this.nodes.forEach(((e,t)=>{if(!e.locked)for(;e.y>0;){let i=0===t?0:e.y-1;if(0!==t&&this.collide(e,{x:e.x,y:i,w:e.w,h:e.h}))break;e._dirty=e.y!==i,e.y=i}}))),this}prepareNode(e,t){e._id=e._id??r._idSeq++,void 0!==e.x&&void 0!==e.y&&null!==e.x&&null!==e.y||(e.autoPosition=!0);let s={x:0,y:0,w:1,h:1};return i.defaults(e,s),e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,i.sanitizeMinMax(e),"string"==typeof e.x&&(e.x=Number(e.x)),"string"==typeof e.y&&(e.y=Number(e.y)),"string"==typeof e.w&&(e.w=Number(e.w)),"string"==typeof e.h&&(e.h=Number(e.h)),isNaN(e.x)&&(e.x=s.x,e.autoPosition=!0),isNaN(e.y)&&(e.y=s.y,e.autoPosition=!0),isNaN(e.w)&&(e.w=s.w),isNaN(e.h)&&(e.h=s.h),this.nodeBoundFix(e,t),e}nodeBoundFix(e,t){let r=e._orig||i.copyPos({},e);if(e.maxW&&(e.w=Math.min(e.w,e.maxW)),e.maxH&&(e.h=Math.min(e.h,e.maxH)),e.minW&&e.minW<=this.column&&(e.w=Math.max(e.w,e.minW)),e.minH&&(e.h=Math.max(e.h,e.minH)),(e.x||0)+(e.w||1)>this.column&&this.column<12&&!this._inColumnResize&&e._id&&-1===this.findCacheLayout(e,12)){let t={...e};t.autoPosition||void 0===t.x?(delete t.x,delete t.y):t.x=Math.min(11,t.x),t.w=Math.min(12,t.w||1),this.cacheOneLayout(t,12)}return e.w>this.column?e.w=this.column:e.w<1&&(e.w=1),this.maxRow&&e.h>this.maxRow?e.h=this.maxRow:e.h<1&&(e.h=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.w>this.column&&(t?e.w=this.column-e.x:e.x=this.column-e.w),this.maxRow&&e.y+e.h>this.maxRow&&(t?e.h=this.maxRow-e.y:e.y=this.maxRow-e.h),i.samePos(e,r)||(e._dirty=!0),this}getDirtyNodes(e){return e?this.nodes.filter((e=>e._dirty&&!i.samePos(e,e._orig))):this.nodes.filter((e=>e._dirty))}_notify(e){if(this.batchMode||!this.onChange)return this;let t=(e||[]).concat(this.getDirtyNodes());return this.onChange(t),this}cleanNodes(){return this.batchMode||this.nodes.forEach((e=>{delete e._dirty,delete e._lastTried})),this}saveInitial(){return this.nodes.forEach((e=>{e._orig=i.copyPos({},e),delete e._dirty})),this._hasLocked=this.nodes.some((e=>e.locked)),this}restoreInitial(){return this.nodes.forEach((e=>{i.samePos(e,e._orig)||(i.copyPos(e,e._orig),e._dirty=!0)})),this._notify(),this}findEmptyPosition(e,t=this.nodes,r=this.column,s){let n=!1;for(let o=s?s.y*r+(s.x+s.w):0;!n;++o){let s=o%r,a=Math.floor(o/r);if(s+e.w>r)continue;let l={x:s,y:a,w:e.w,h:e.h};t.find((e=>i.isIntercepted(l,e)))||(e.x===s&&e.y===a||(e._dirty=!0),e.x=s,e.y=a,delete e.autoPosition,n=!0)}return n}addNode(e,t=!1,i){let r;return this.nodes.find((t=>t._id===e._id))||(this._inColumnResize?this.nodeBoundFix(e):this.prepareNode(e),delete e._temporaryRemoved,delete e._removeDOM,e.autoPosition&&this.findEmptyPosition(e,this.nodes,this.column,i)&&(delete e.autoPosition,r=!0),this.nodes.push(e),t&&this.addedNodes.push(e),r||this._fixCollisions(e),this.batchMode||this._packNodes()._notify(),e)}removeNode(e,t=!0,i=!1){return this.nodes.find((t=>t._id===e._id))?(i&&this.removedNodes.push(e),t&&(e._removeDOM=!0),this.nodes=this.nodes.filter((t=>t._id!==e._id)),e._isAboutToRemove||this._packNodes(),this._notify([e]),this):this}removeAll(e=!0){return delete this._layouts,this.nodes.length?(e&&this.nodes.forEach((e=>e._removeDOM=!0)),this.removedNodes=this.nodes,this.nodes=[],this._notify(this.removedNodes)):this}moveNodeCheck(e,t){if(!this.changedPosConstrain(e,t))return!1;if(t.pack=!0,!this.maxRow)return this.moveNode(e,t);let s,n=new r({column:this.column,float:this.float,nodes:this.nodes.map((t=>t._id===e._id?(s={...t},s):{...t}))});if(!s)return!1;let o=n.moveNode(s,t)&&n.getRow()<=Math.max(this.getRow(),this.maxRow);if(!o&&!t.resizing&&t.collide){let i=t.collide.el.gridstackNode;if(this.swap(e,i))return this._notify(),!0}return!!o&&(n.nodes.filter((e=>e._dirty)).forEach((e=>{let t=this.nodes.find((t=>t._id===e._id));t&&(i.copyPos(t,e),t._dirty=!0)})),this._notify(),!0)}willItFit(e){if(delete e._willFitPos,!this.maxRow)return!0;let t=new r({column:this.column,float:this.float,nodes:this.nodes.map((e=>({...e})))}),s={...e};return this.cleanupNode(s),delete s.el,delete s._id,delete s.content,delete s.grid,t.addNode(s),t.getRow()<=this.maxRow&&(e._willFitPos=i.copyPos({},s),!0)}changedPosConstrain(e,t){return t.w=t.w||e.w,t.h=t.h||e.h,e.x!==t.x||e.y!==t.y||(e.maxW&&(t.w=Math.min(t.w,e.maxW)),e.maxH&&(t.h=Math.min(t.h,e.maxH)),e.minW&&(t.w=Math.max(t.w,e.minW)),e.minH&&(t.h=Math.max(t.h,e.minH)),e.w!==t.w||e.h!==t.h)}moveNode(e,t){if(!e||!t)return!1;let r;void 0!==t.pack||this.batchMode||(r=t.pack=!0),"number"!=typeof t.x&&(t.x=e.x),"number"!=typeof t.y&&(t.y=e.y),"number"!=typeof t.w&&(t.w=e.w),"number"!=typeof t.h&&(t.h=e.h);let s=e.w!==t.w||e.h!==t.h,n=i.copyPos({},e,!0);if(i.copyPos(n,t),this.nodeBoundFix(n,s),i.copyPos(t,n),!t.forceCollide&&i.samePos(e,t))return!1;let o=i.copyPos({},e),a=this.collideAll(e,n,t.skip),l=!0;if(a.length){let s=e._moving&&!t.nested,o=s?this.directionCollideCoverage(e,t,a):a[0];if(s&&o&&e.grid?.opts?.subGridDynamic&&!e.grid._isTemp){let r=i.areaIntercept(t.rect,o._rect),s=i.area(t.rect),n=i.area(o._rect);r/(s<n?s:n)>.8&&(o.grid.makeSubGrid(o.el,void 0,e),o=void 0)}o?l=!this._fixCollisions(e,n,o,t):(l=!1,r&&delete t.pack)}return l&&(e._dirty=!0,i.copyPos(e,n)),t.pack&&this._packNodes()._notify(),!i.samePos(e,o)}getRow(){return this.nodes.reduce(((e,t)=>Math.max(e,t.y+t.h)),0)}beginUpdate(e){return e._updating||(e._updating=!0,delete e._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){let e=this.nodes.find((e=>e._updating));return e&&(delete e._updating,delete e._skipDown),this}save(e=!0,t){let r=this._layouts?.length,s=r&&this.column!==r-1?this._layouts[r-1]:null,n=[];return this.sortNodes(),this.nodes.forEach((r=>{let o=s?.find((e=>e._id===r._id)),a={...r,...o||{}};i.removeInternalForSave(a,!e),t&&t(r,a),n.push(a)})),n}layoutsNodesChange(e){return!this._layouts||this._inColumnResize||this._layouts.forEach(((t,i)=>{if(!t||i===this.column)return this;if(i<this.column)this._layouts[i]=void 0;else{let r=i/this.column;e.forEach((e=>{if(!e._orig)return;let i=t.find((t=>t._id===e._id));i&&(i.y>=0&&e.y!==e._orig.y&&(i.y+=e.y-e._orig.y),e.x!==e._orig.x&&(i.x=Math.round(e.x*r)),e.w!==e._orig.w&&(i.w=Math.round(e.w*r)))}))}})),this}columnChanged(e,t,r,s="moveScale"){if(!this.nodes.length||!t||e===t)return this;const n="compact"===s||"list"===s;n&&this.sortNodes(1,e),t<e&&this.cacheLayout(this.nodes,e),this.batchUpdate();let o=[],a=!1;if(1===t&&r?.length){a=!0;let e=0;r.forEach((t=>{t.x=0,t.w=1,t.y=Math.max(t.y,e),e=t.y+t.h})),o=r,r=[]}else r=n?this.nodes:i.sort(this.nodes,-1,e);if(t>e&&this._layouts){const i=this._layouts[t]||[];let s=this._layouts.length-1;!i.length&&e!==s&&this._layouts[s]?.length&&(e=s,this._layouts[s].forEach((e=>{let t=r.find((t=>t._id===e._id));t&&(n||e.autoPosition||(t.x=e.x??t.x,t.y=e.y??t.y),t.w=e.w??t.w,null!=e.x&&void 0!==e.y||(t.autoPosition=!0))}))),i.forEach((e=>{let t=r.findIndex((t=>t._id===e._id));if(-1!==t){const i=r[t];if(n)return void(i.w=e.w);(e.autoPosition||isNaN(e.x)||isNaN(e.y))&&this.findEmptyPosition(e,o),e.autoPosition||(i.x=e.x??i.x,i.y=e.y??i.y,i.w=e.w??i.w,o.push(i)),r.splice(t,1)}}))}if(n)this.compact(s,!1);else{if(r.length)if("function"==typeof s)s(t,e,o,r);else if(!a){let i=n||"none"===s?1:t/e,a="move"===s||"moveScale"===s,l="scale"===s||"moveScale"===s;r.forEach((r=>{r.x=1===t?0:a?Math.round(r.x*i):Math.min(r.x,t-1),r.w=1===t||1===e?1:l?Math.round(r.w*i)||1:Math.min(r.w,t),o.push(r)})),r=[]}a||(o=i.sort(o,-1,t)),this._inColumnResize=!0,this.nodes=[],o.forEach((e=>{this.addNode(e,!1),delete e._orig}))}return this.nodes.forEach((e=>delete e._orig)),this.batchUpdate(!1,!n),delete this._inColumnResize,this}cacheLayout(e,t,i=!1){let s=[];return e.forEach(((e,t)=>{if(void 0===e._id){const t=e.id?this.nodes.find((t=>t.id===e.id)):void 0;e._id=t?._id??r._idSeq++}s[t]={x:e.x,y:e.y,w:e.w,_id:e._id}})),this._layouts=i?[]:this._layouts||[],this._layouts[t]=s,this}cacheOneLayout(e,t){e._id=e._id??r._idSeq++;let i={x:e.x,y:e.y,w:e.w,_id:e._id};(e.autoPosition||void 0===e.x)&&(delete i.x,delete i.y,e.autoPosition&&(i.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[t]=this._layouts[t]||[];let s=this.findCacheLayout(e,t);return-1===s?this._layouts[t].push(i):this._layouts[t][s]=i,this}findCacheLayout(e,t){return this._layouts?.[t]?.findIndex((t=>t._id===e._id))??-1}removeNodeFromLayoutCache(e){if(this._layouts)for(let t=0;t<this._layouts.length;t++){let i=this.findCacheLayout(e,t);-1!==i&&this._layouts[t].splice(i,1)}}cleanupNode(e){for(let t in e)"_"===t[0]&&"_id"!==t&&delete e[t];return this}}r._idSeq=0;const s={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"},n={handle:".grid-stack-item-content",appendTo:"body"};class o{}const a="undefined"!=typeof window&&"undefined"!=typeof document&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class l{}function h(e,t){if(e.touches.length>1)return;e.cancelable&&e.preventDefault();const i=e.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}function c(e,t){e.cancelable&&e.preventDefault();const i=document.createEvent("MouseEvents");i.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(i)}function d(e){l.touchHandled||(l.touchHandled=!0,h(e,"mousedown"))}function u(e){l.touchHandled&&h(e,"mousemove")}function p(e){if(!l.touchHandled)return;l.pointerLeaveTimeout&&(window.clearTimeout(l.pointerLeaveTimeout),delete l.pointerLeaveTimeout);const t=!!o.dragElement;h(e,"mouseup"),t||h(e,"click"),l.touchHandled=!1}function f(e){"mouse"!==e.pointerType&&e.target.releasePointerCapture(e.pointerId)}function m(e){o.dragElement&&"mouse"!==e.pointerType&&c(e,"mouseenter")}function g(e){o.dragElement&&"mouse"!==e.pointerType&&(l.pointerLeaveTimeout=window.setTimeout((()=>{delete l.pointerLeaveTimeout,c(e,"mouseleave")}),10))}class y{constructor(e,t,i){this.moving=!1,this.host=e,this.dir=t,this.option=i,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._init()}_init(){const e=document.createElement("div");return e.classList.add("ui-resizable-handle"),e.classList.add(`${y.prefix}${this.dir}`),e.style.zIndex="100",e.style.userSelect="none",this.el=e,this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),a&&(this.el.addEventListener("touchstart",d),this.el.addEventListener("pointerdown",f)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),a&&(this.el.removeEventListener("touchstart",d),this.el.removeEventListener("pointerdown",f)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(e){this.mouseDownEvent=e,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp,!0),a&&(this.el.addEventListener("touchmove",u),this.el.addEventListener("touchend",p)),e.stopPropagation(),e.preventDefault()}_mouseMove(e){let t=this.mouseDownEvent;this.moving?this._triggerEvent("move",e):Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",e)),e.stopPropagation(),e.preventDefault()}_mouseUp(e){this.moving&&this._triggerEvent("stop",e),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),a&&(this.el.removeEventListener("touchmove",u),this.el.removeEventListener("touchend",p)),delete this.moving,delete this.mouseDownEvent,e.stopPropagation(),e.preventDefault()}_triggerEvent(e,t){return this.option[e]&&this.option[e](t),this}}y.prefix="ui-resizable-";class v{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(e,t){this._eventRegister[e]=t}off(e){delete this._eventRegister[e]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}}class b extends v{constructor(e,t={}){super(),this.rectScale={x:1,y:1},this._ui=()=>{const e=this.el.parentElement.getBoundingClientRect(),t={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},i=this.temporalRect||t;return{position:{left:(i.left-e.left)*this.rectScale.x,top:(i.top-e.top)*this.rectScale.y},size:{width:i.width*this.rectScale.x,height:i.height*this.rectScale.y}}},this.el=e,this.option=t,this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(e){let t=e.handles&&e.handles!==this.option.handles,i=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach((t=>this.option[t]=e[t])),t&&(this._removeHandlers(),this._setupHandlers()),i&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(e){return e?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),o.overResizeElement===this&&delete o.overResizeElement),this}_mouseOver(e){o.overResizeElement||o.dragElement||(o.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(e){o.overResizeElement===this&&(delete o.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){let e=this.option.handles||"e,s,se";return"all"===e&&(e="n,e,s,w,se,sw,ne,nw"),this.handlers=e.split(",").map((e=>e.trim())).map((e=>new y(this.el,e,{start:e=>{this._resizeStart(e)},stop:e=>{this._resizeStop(e)},move:t=>{this._resizing(t,e)}}))),this}_resizeStart(e){this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=i.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();const t=i.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(t,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",t),this}_resizing(e,t){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,t),this._applyChange();const r=i.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(r,this._ui()),this.triggerEvent("resize",r),this}_resizeStop(e){const t=i.initEvent(e,{type:"resizestop",target:this.el});return this.option.stop&&this.option.stop(t),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",t),this._cleanHelper(),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=b._originStyleProp.map((e=>this.el.style[e])),this.parentOriginStylePosition=this.el.parentElement.style.position;const e=this.el.parentElement,t=document.createElement("div");i.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);const r=t.getBoundingClientRect();return e.removeChild(t),this.rectScale={x:1/r.width,y:1/r.height},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return b._originStyleProp.forEach(((e,t)=>{this.el.style[e]=this.elOriginStyleVal[t]||null})),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(e,t){const i=this.startEvent,r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},s=e.clientX-i.clientX,n=e.clientY-i.clientY;t.indexOf("e")>-1?r.width+=s:t.indexOf("w")>-1&&(r.width-=s,r.left+=s),t.indexOf("s")>-1?r.height+=n:t.indexOf("n")>-1&&(r.height-=n,r.top+=n);const o=this._constrainSize(r.width,r.height);return Math.round(r.width)!==Math.round(o.width)&&(t.indexOf("w")>-1&&(r.left+=r.width-o.width),r.width=o.width),Math.round(r.height)!==Math.round(o.height)&&(t.indexOf("n")>-1&&(r.top+=r.height-o.height),r.height=o.height),r}_constrainSize(e,t){const i=this.option.maxWidth||Number.MAX_SAFE_INTEGER,r=this.option.minWidth/this.rectScale.x||e,s=this.option.maxHeight||Number.MAX_SAFE_INTEGER,n=this.option.minHeight/this.rectScale.y||t;return{width:Math.min(i,Math.max(r,e)),height:Math.min(s,Math.max(n,t))}}_applyChange(){let e={left:0,top:0,width:0,height:0};if("absolute"===this.el.style.position){const t=this.el.parentElement,{left:i,top:r}=t.getBoundingClientRect();e={left:i,top:r,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach((t=>{const i=this.temporalRect[t],r="width"===t||"left"===t?this.rectScale.x:"height"===t||"top"===t?this.rectScale.y:1;this.el.style[t]=(i-e[t])*r+"px"})),this):this}_removeHandlers(){return this.handlers.forEach((e=>e.destroy())),delete this.handlers,this}}b._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class w extends v{constructor(e,t={}){super(),this.dragScale={x:1,y:1},this.el=e,this.option=t;let i=t.handle.substring(1);this.dragEl=e.classList.contains(i)?e:e.querySelector(t.handle)||e,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this.enable()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.dragEl.addEventListener("mousedown",this._mouseDown),a&&(this.dragEl.addEventListener("touchstart",d),this.dragEl.addEventListener("pointerdown",f)),this.el.classList.remove("ui-draggable-disabled"))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.dragEl.removeEventListener("mousedown",this._mouseDown),a&&(this.dragEl.removeEventListener("touchstart",d),this.dragEl.removeEventListener("pointerdown",f)),e||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this}_mouseDown(e){if(!o.mouseHandled)return 0!==e.button||e.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&e.target.closest(this.option.cancel)||(this.mouseDownEvent=e,delete this.dragging,delete o.dragElement,delete o.dropElement,document.addEventListener("mousemove",this._mouseMove,!0),document.addEventListener("mouseup",this._mouseUp,!0),a&&(this.dragEl.addEventListener("touchmove",u),this.dragEl.addEventListener("touchend",p)),e.preventDefault(),document.activeElement&&document.activeElement.blur(),o.mouseHandled=!0),!0}_callDrag(e){if(!this.dragging)return;const t=i.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(t,this.ui()),this.triggerEvent("drag",t)}_mouseMove(e){let t=this.mouseDownEvent;if(this.dragging)if(this._dragFollow(e),o.pauseDrag){const t=Number.isInteger(o.pauseDrag)?o.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout((()=>this._callDrag(e)),t)}else this._callDrag(e);else if(Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>3){this.dragging=!0,o.dragElement=this;let t=this.el.gridstackNode?.grid;t?o.dropElement=t.el.ddElement.ddDroppable:delete o.dropElement,this.helper=this._createHelper(e),this._setupHelperContainmentStyle(),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment);const r=i.initEvent(e,{target:this.el,type:"dragstart"});this._setupHelperStyle(e),this.option.start&&this.option.start(r,this.ui()),this.triggerEvent("dragstart",r)}return e.preventDefault(),!0}_mouseUp(e){if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),a&&(this.dragEl.removeEventListener("touchmove",u,!0),this.dragEl.removeEventListener("touchend",p,!0)),this.dragging){delete this.dragging,o.dropElement?.el===this.el.parentElement&&delete o.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper===this.el?this._removeHelperStyle():this.helper.remove();const t=i.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(t),this.triggerEvent("dragstop",t),o.dropElement&&o.dropElement.drop(e)}delete this.helper,delete this.mouseDownEvent,delete o.dragElement,delete o.dropElement,delete o.mouseHandled,e.preventDefault()}_createHelper(e){let t=this.el;return"function"==typeof this.option.helper?t=this.option.helper(e):"clone"===this.option.helper&&(t=i.cloneNode(this.el)),document.body.contains(t)||i.appendTo(t,"parent"===this.option.appendTo?this.el.parentElement:this.option.appendTo),t===this.el&&(this.dragElementOriginStyle=w.originStyleProp.map((e=>this.el.style[e]))),t}_setupHelperStyle(e){this.helper.classList.add("ui-draggable-dragging");const t=this.helper.style;return t.pointerEvents="none",t.width=this.dragOffset.width+"px",t.height=this.dragOffset.height+"px",t.willChange="left, top",t.position="fixed",this._dragFollow(e),t.transition="none",setTimeout((()=>{this.helper&&(t.transition=null)}),0),this}_removeHelperStyle(){this.helper.classList.remove("ui-draggable-dragging");let e=this.helper?.gridstackNode;if(!e?._isAboutToRemove&&this.dragElementOriginStyle){let e=this.helper,t=this.dragElementOriginStyle.transition||null;e.style.transition=this.dragElementOriginStyle.transition="none",w.originStyleProp.forEach((t=>e.style[t]=this.dragElementOriginStyle[t]||null)),setTimeout((()=>e.style.transition=t),50)}return delete this.dragElementOriginStyle,this}_dragFollow(e){const t=this.helper.style,i=this.dragOffset;t.left=(e.clientX+i.offsetLeft-0)*this.dragScale.x+"px",t.top=(e.clientY+i.offsetTop-0)*this.dragScale.y+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,"fixed"!==this.helper.style.position&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(e,t,r){let s=0,n=0;if(r){const e=document.createElement("div");i.addElStyles(e,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),r.appendChild(e);const t=e.getBoundingClientRect();r.removeChild(e),s=t.left,n=t.top,this.dragScale={x:1/t.width,y:1/t.height}}const o=t.getBoundingClientRect();return{left:o.left,top:o.top,offsetLeft:-e.clientX+o.left-s,offsetTop:-e.clientY+o.top-n,width:o.width*this.dragScale.x,height:o.height*this.dragScale.y}}ui(){const e=this.el.parentElement.getBoundingClientRect(),t=this.helper.getBoundingClientRect();return{position:{top:(t.top-e.top)*this.dragScale.y,left:(t.left-e.left)*this.dragScale.x}}}}w.originStyleProp=["transition","pointerEvents","position","left","top","minWidth","willChange"];class _ extends v{constructor(e,t={}){super(),this.el=e,this.option=t,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){!1!==this.disabled&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),a&&(this.el.addEventListener("pointerenter",m),this.el.addEventListener("pointerleave",g)))}disable(e=!1){!0!==this.disabled&&(super.disable(),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),a&&(this.el.removeEventListener("pointerenter",m),this.el.removeEventListener("pointerleave",g)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(e){return Object.keys(e).forEach((t=>this.option[t]=e[t])),this._setupAccept(),this}_mouseEnter(e){if(!o.dragElement)return;if(!this._canDrop(o.dragElement.el))return;e.preventDefault(),e.stopPropagation(),o.dropElement&&o.dropElement!==this&&o.dropElement._mouseLeave(e),o.dropElement=this;const t=i.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(o.dragElement)),this.triggerEvent("dropover",t),this.el.classList.add("ui-droppable-over")}_mouseLeave(e){if(!o.dragElement||o.dropElement!==this)return;e.preventDefault(),e.stopPropagation();const t=i.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(t,this._ui(o.dragElement)),this.triggerEvent("dropout",t),o.dropElement===this){let t;delete o.dropElement;let i=this.el.parentElement;for(;!t&&i;)t=i.ddElement?.ddDroppable,i=i.parentElement;t&&t._mouseEnter(e)}}drop(e){e.preventDefault();const t=i.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(o.dragElement)),this.triggerEvent("drop",t)}_canDrop(e){return e&&(!this.accept||this.accept(e))}_setupAccept(){return this.option.accept?("string"==typeof this.option.accept?this.accept=e=>e.classList.contains(this.option.accept)||e.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(e){return{draggable:e.el,...e.ui()}}}class k{static init(e){return e.ddElement||(e.ddElement=new k(e)),e.ddElement}constructor(e){this.el=e}on(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}off(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}setupDraggable(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new w(this.el,e),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new b(this.el,e),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new _(this.el,e),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const S=new class{resizable(e,t,i,r){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddResizable&&e.ddResizable[t]();else if("destroy"===t)e.ddResizable&&e.cleanResizable();else if("option"===t)e.setupResizable({[i]:r});else{const i=e.el.gridstackNode.grid;let r=e.el.getAttribute("gs-resize-handles")?e.el.getAttribute("gs-resize-handles"):i.opts.resizable.handles,s=!i.opts.alwaysShowResizeHandle;e.setupResizable({...i.opts.resizable,handles:r,autoHide:s,start:t.start,stop:t.stop,resize:t.resize})}})),this}draggable(e,t,i,r){return this._getDDElements(e).forEach((e=>{if("disable"===t||"enable"===t)e.ddDraggable&&e.ddDraggable[t]();else if("destroy"===t)e.ddDraggable&&e.cleanDraggable();else if("option"===t)e.setupDraggable({[i]:r});else{const i=e.el.gridstackNode.grid;e.setupDraggable({...i.opts.draggable,start:t.start,stop:t.stop,drag:t.drag})}})),this}dragIn(e,t){return this._getDDElements(e).forEach((e=>e.setupDraggable(t))),this}droppable(e,t,i,r){return"function"!=typeof t.accept||t._accept||(t._accept=t.accept,t.accept=e=>t._accept(e)),this._getDDElements(e).forEach((e=>{"disable"===t||"enable"===t?e.ddDroppable&&e.ddDroppable[t]():"destroy"===t?e.ddDroppable&&e.cleanDroppable():"option"===t?e.setupDroppable({[i]:r}):e.setupDroppable(t)})),this}isDroppable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDroppable)||e.ddElement.ddDroppable.disabled)}isDraggable(e){return!(!(e&&e.ddElement&&e.ddElement.ddDraggable)||e.ddElement.ddDraggable.disabled)}isResizable(e){return!(!(e&&e.ddElement&&e.ddElement.ddResizable)||e.ddElement.ddResizable.disabled)}on(e,t,i){return this._getDDElements(e).forEach((e=>e.on(t,(e=>{i(e,o.dragElement?o.dragElement.el:e.target,o.dragElement?o.dragElement.helper:null)})))),this}off(e,t){return this._getDDElements(e).forEach((e=>e.off(t))),this}_getDDElements(e,t=!0){let r=i.getElements(e);if(!r.length)return[];let s=r.map((e=>e.ddElement||(t?k.init(e):null)));return t||s.filter((e=>e)),s}};class x{static init(e={},t=".grid-stack"){let r=x.getGridElement(t);return r?(r.gridstack||(r.gridstack=new x(r,i.cloneDeep(e))),r.gridstack):("string"==typeof t?console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'):console.error("GridStack.init() no grid element was passed."),null)}static initAll(e={},t=".grid-stack"){let r=[];return x.getGridElements(t).forEach((t=>{t.gridstack||(t.gridstack=new x(t,i.cloneDeep(e))),r.push(t.gridstack)})),0===r.length&&console.error('GridStack.initAll() no grid was found with selector "'+t+'" - element missing or wrong selector ?\nNote: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.'),r}static addGrid(e,t={}){if(!e)return null;let i=e;if(i.gridstack){const e=i.gridstack;return t&&(e.opts={...e.opts,...t}),void 0!==t.children&&e.load(t.children),e}if(!e.classList.contains("grid-stack")||x.addRemoveCB)if(x.addRemoveCB)i=x.addRemoveCB(e,t,!0,!0);else{let r=document.implementation.createHTMLDocument("");r.body.innerHTML=`<div class="grid-stack ${t.class||""}"></div>`,i=r.body.children[0],e.appendChild(i)}return x.init(t,i)}static registerEngine(e){x.engineClass=e}get placeholder(){if(!this._placeholder){let e=document.createElement("div");e.className="placeholder-content",this.opts.placeholderText&&(e.innerHTML=this.opts.placeholderText),this._placeholder=document.createElement("div"),this._placeholder.classList.add(this.opts.placeholderClass,s.itemClass,this.opts.itemClass),this.placeholder.appendChild(e)}return this._placeholder}constructor(e,t={}){this._gsEventHandler={},this._extraDragRow=0,e.gridstack=this,this.el=e,t=t||{},e.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),t.row&&(t.minRow=t.maxRow=t.row,delete t.row);let n=i.toNumber(e.getAttribute("gs-row"));"auto"===t.column&&delete t.column,void 0!==t.alwaysShowResizeHandle&&(t._alwaysShowResizeHandle=t.alwaysShowResizeHandle);let l=t.columnOpts?.breakpoints;const h=t;if(h.oneColumnModeDomSort&&(delete h.oneColumnModeDomSort,console.log("Error: Gridstack oneColumnModeDomSort no longer supported. Check GridStackOptions.columnOpts instead.")),h.oneColumnSize||!1===h.disableOneColumnMode){const e=h.oneColumnSize||768;delete h.oneColumnSize,delete h.disableOneColumnMode,t.columnOpts=t.columnOpts||{},l=t.columnOpts.breakpoints=t.columnOpts.breakpoints||[];let i=l.find((e=>1===e.c));i?i.w=e:(i={c:1,w:e},l.push(i,{c:12,w:e+1}))}const c=t.columnOpts;c&&(c.columnWidth||c.breakpoints?.length?c.columnMax=c.columnMax||12:(delete t.columnOpts,l=void 0)),l?.length>1&&l.sort(((e,t)=>(t.w||0)-(e.w||0)));let d={...i.cloneDeep(s),column:i.toNumber(e.getAttribute("gs-column"))||s.column,minRow:n||i.toNumber(e.getAttribute("gs-min-row"))||s.minRow,maxRow:n||i.toNumber(e.getAttribute("gs-max-row"))||s.maxRow,staticGrid:i.toBool(e.getAttribute("gs-static"))||s.staticGrid,draggable:{handle:(t.handleClass?"."+t.handleClass:t.handle?t.handle:"")||s.draggable.handle},removableOptions:{accept:t.itemClass||s.removableOptions.accept,decline:s.removableOptions.decline}};e.getAttribute("gs-animate")&&(d.animate=i.toBool(e.getAttribute("gs-animate"))),this.opts=i.defaults(t,d),t=null,this._initMargin(),this.checkDynamicColumn(),this.el.classList.add("gs-"+this.opts.column),"auto"===this.opts.rtl&&(this.opts.rtl="rtl"===e.style.direction),this.opts.rtl&&this.el.classList.add("grid-stack-rtl");const u=this.el.parentElement?.parentElement;let p=u?.classList.contains(s.itemClass)?u.gridstackNode:void 0;p&&(p.subGrid=this,this.parentGridItem=p,this.el.classList.add("grid-stack-nested"),p.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight="auto"===this.opts.cellHeight,this._isAutoCellHeight||"initial"===this.opts.cellHeight?this.cellHeight(void 0,!1):("number"==typeof this.opts.cellHeight&&this.opts.cellHeightUnit&&this.opts.cellHeightUnit!==s.cellHeightUnit&&(this.opts.cellHeight=this.opts.cellHeight+this.opts.cellHeightUnit,delete this.opts.cellHeightUnit),this.cellHeight(this.opts.cellHeight,!1)),"mobile"===this.opts.alwaysShowResizeHandle&&(this.opts.alwaysShowResizeHandle=a),this._styleSheetClass="gs-id-"+r._idSeq++,this.el.classList.add(this._styleSheetClass),this._setStaticClass();let f=this.opts.engineClass||x.engineClass||r;if(this.engine=new f({column:this.getColumn(),float:this.opts.float,maxRow:this.opts.maxRow,onChange:e=>{let t=0;this.engine.nodes.forEach((e=>{t=Math.max(t,e.y+e.h)})),e.forEach((e=>{let t=e.el;t&&(e._removeDOM?(t&&t.remove(),delete e._removeDOM):this._writePosAttr(t,e))})),this._updateStyles(!1,t)}}),this._updateStyles(!1,0),this.opts.auto&&(this.batchUpdate(),this.getGridItems().forEach((e=>this._prepareElement(e))),this.batchUpdate(!1)),this.opts.children){let e=this.opts.children;delete this.opts.children,e.length&&this.load(e)}this.setAnimation(this.opts.animate),this.opts.subGridDynamic&&!o.pauseDrag&&(o.pauseDrag=!0),void 0!==this.opts.draggable?.pause&&(o.pauseDrag=this.opts.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}addWidget(e,t){let r,s;if("string"==typeof e){let t=document.implementation.createHTMLDocument("");t.body.innerHTML=e,r=t.body.children[0]}else if(0===arguments.length||1===arguments.length&&(void 0!==(n=e).el||void 0!==n.x||void 0!==n.y||void 0!==n.w||void 0!==n.h||void 0!==n.content))if(s=t=e,s?.el)r=s.el;else if(x.addRemoveCB)r=x.addRemoveCB(this.el,t,!0,!1);else{let e=t?.content||"",i=document.implementation.createHTMLDocument("");i.body.innerHTML=`<div class="grid-stack-item ${this.opts.itemClass||""}"><div class="grid-stack-item-content">${e}</div></div>`,r=i.body.children[0]}else r=e;var n;if(!r)return;if(s=r.gridstackNode,s&&r.parentElement===this.el&&this.engine.nodes.find((e=>e._id===s._id)))return r;let o=this._readAttr(r);return t=i.cloneDeep(t)||{},i.defaults(t,o),s=this.engine.prepareNode(t),this._writeAttr(r,t),this._insertNotAppend?this.el.prepend(r):this.el.appendChild(r),this.makeWidget(r,t),r}makeSubGrid(e,t,r,s=!0){let n,o=e.gridstackNode;if(o||(o=this.makeWidget(e).gridstackNode),o.subGrid?.el)return o.subGrid;let a,l=this;for(;l&&!n;)n=l.opts?.subGridOpts,l=l.parentGridItem?.grid;t=i.cloneDeep({...n||{},children:void 0,...t||o.subGridOpts}),o.subGridOpts=t,"auto"===t.column&&(a=!0,t.column=Math.max(o.w||1,r?.w||1),delete t.columnOpts);let h,c,d=o.el.querySelector(".grid-stack-item-content");if(s){if(this._removeDD(o.el),c={...o,x:0,y:0},i.removeInternalForSave(c),delete c.subGridOpts,o.content&&(c.content=o.content,delete o.content),x.addRemoveCB)h=x.addRemoveCB(this.el,c,!0,!1);else{let e=document.implementation.createHTMLDocument("");e.body.innerHTML='<div class="grid-stack-item"></div>',h=e.body.children[0],h.appendChild(d),e.body.innerHTML='<div class="grid-stack-item-content"></div>',d=e.body.children[0],o.el.appendChild(d)}this._prepareDragDropByNode(o)}if(r){let e=a?t.column:o.w,i=o.h+r.h,s=o.el.style;s.transition="none",this.update(o.el,{w:e,h:i}),setTimeout((()=>s.transition=null))}let u=o.subGrid=x.addGrid(d,t);return r?._moving&&(u._isTemp=!0),a&&(u._autoColumn=!0),s&&u.addWidget(h,c),r&&(r._moving?window.setTimeout((()=>i.simulateMouseEvent(r._event,"mouseenter",u.el)),0):u.addWidget(o.el,o)),u}removeAsSubGrid(e){let t=this.parentGridItem?.grid;t&&(t.batchUpdate(),t.removeWidget(this.parentGridItem.el,!0,!0),this.engine.nodes.forEach((e=>{e.x+=this.parentGridItem.x,e.y+=this.parentGridItem.y,t.addWidget(e.el,e)})),t.batchUpdate(!1),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,e&&window.setTimeout((()=>i.simulateMouseEvent(e._event,"mouseenter",t.el)),0))}save(e=!0,t=!1,r=x.saveCB){let n=this.engine.save(e,r);if(n.forEach((i=>{if(e&&i.el&&!i.subGrid&&!r){let e=i.el.querySelector(".grid-stack-item-content");i.content=e?e.innerHTML:void 0,i.content||delete i.content}else if(e||r||delete i.content,i.subGrid?.el){const s=i.subGrid.save(e,t,r);i.subGridOpts=t?s:{children:s},delete i.subGrid}delete i.el})),t){let e=i.cloneDeep(this.opts);e.marginBottom===e.marginTop&&e.marginRight===e.marginLeft&&e.marginTop===e.marginRight&&(e.margin=e.marginTop,delete e.marginTop,delete e.marginRight,delete e.marginBottom,delete e.marginLeft),e.rtl===("rtl"===this.el.style.direction)&&(e.rtl="auto"),this._isAutoCellHeight&&(e.cellHeight="auto"),this._autoColumn&&(e.column="auto");const t=e._alwaysShowResizeHandle;return delete e._alwaysShowResizeHandle,void 0!==t?e.alwaysShowResizeHandle=t:delete e.alwaysShowResizeHandle,i.removeInternalAndSame(e,s),e.children=n,e}return n}load(e,t=x.addRemoveCB||!0){e=i.cloneDeep(e);const r=this.getColumn(),s=e.some((e=>void 0!==e.x||void 0!==e.y));s&&(e=i.sort(e,-1,r)),this._insertNotAppend=s,e.some((e=>(e.x||0)+(e.w||1)>r))&&(this._ignoreLayoutsNodeChange=!0,this.engine.cacheLayout(e,12,!0));const n=x.addRemoveCB;"function"==typeof t&&(x.addRemoveCB=t);let o=[];this.batchUpdate();const a=!this.engine.nodes.length;a&&this.setAnimation(!1),t&&[...this.engine.nodes].forEach((t=>{t.id&&(i.find(e,t.id)||(x.addRemoveCB&&x.addRemoveCB(this.el,t,!1,!1),o.push(t),this.removeWidget(t.el,!0,!1)))}));let l=[];return this.engine.nodes=this.engine.nodes.filter((t=>!i.find(e,t.id)||(l.push(t),!1))),e.forEach((e=>{let r=i.find(l,e.id);if(r){if(i.shouldSizeToContent(r)&&(e.h=r.h),this.engine.nodeBoundFix(e),(e.autoPosition||void 0===e.x||void 0===e.y)&&(e.w=e.w||r.w,e.h=e.h||r.h,this.engine.findEmptyPosition(e)),this.engine.nodes.push(r),i.samePos(r,e)&&this.moveNode(r,{...e,forceCollide:!0}),this.update(r.el,e),e.subGridOpts?.children){let t=r.el.querySelector(".grid-stack");t&&t.gridstack&&(t.gridstack.load(e.subGridOpts.children),this._insertNotAppend=!0)}}else t&&this.addWidget(e)})),this.engine.removedNodes=o,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this._insertNotAppend,n?x.addRemoveCB=n:delete x.addRemoveCB,a&&this.opts.animate&&setTimeout((()=>this.setAnimation(this.opts.animate))),this}batchUpdate(e=!0){return this.engine.batchUpdate(e),e||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(e=!1){if(this.opts.cellHeight&&"auto"!==this.opts.cellHeight&&(!e||!this.opts.cellHeightUnit||"px"===this.opts.cellHeightUnit))return this.opts.cellHeight;if("rem"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if("em"===this.opts.cellHeightUnit)return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);let t=this.el.querySelector("."+this.opts.itemClass);if(t){let e=i.toNumber(t.getAttribute("gs-h"))||1;return Math.round(t.offsetHeight/e)}let r=parseInt(this.el.getAttribute("gs-current-row"));return r?Math.round(this.el.getBoundingClientRect().height/r):this.opts.cellHeight}cellHeight(e,t=!0){if(t&&void 0!==e&&this._isAutoCellHeight!==("auto"===e)&&(this._isAutoCellHeight="auto"===e,this._updateResizeEvent()),"initial"!==e&&"auto"!==e||(e=void 0),void 0===e){let t=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;e=this.cellWidth()+t}let r=i.parseHeight(e);return this.opts.cellHeightUnit===r.unit&&this.opts.cellHeight===r.h||(this.opts.cellHeightUnit=r.unit,this.opts.cellHeight=r.h,this.resizeToContentCheck(),t&&this._updateStyles(!0)),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(e=!1){return e&&this.opts.columnOpts?.breakpointForWindow?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){const e=this.opts.columnOpts;if(!e||!e.columnWidth&&!e.breakpoints?.length)return!1;const t=this.getColumn();let i=t;const r=this._widthOrContainer(!0);if(e.columnWidth)i=Math.min(Math.round(r/e.columnWidth)||1,e.columnMax);else{i=e.columnMax;let s=0;for(;s<e.breakpoints.length&&r<=e.breakpoints[s].w;)i=e.breakpoints[s++].c||t}if(i!==t){const t=e.breakpoints?.find((e=>e.c===i));return this.column(i,t?.layout||e.layout),!0}return!1}compact(e="compact",t=!0){return this.engine.compact(e,t),this._triggerChangeEvent(),this}column(e,t="moveScale"){if(!e||e<1||this.opts.column===e)return this;let i=this.getColumn();return this.opts.column=e,this.engine?(this.engine.column=e,this.el.classList.remove("gs-"+i),this.el.classList.add("gs-"+e),this.engine.columnChanged(i,e,void 0,t),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):this}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter((e=>e.matches("."+this.opts.itemClass)&&!e.matches("."+this.opts.placeholderClass)))}destroy(e=!0){if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),e?this.el.parentNode.removeChild(this.el):(this.removeAll(e),this.el.classList.remove(this._styleSheetClass),this.el.removeAttribute("gs-current-row")),this._removeStylesheet(),this.parentGridItem&&delete this.parentGridItem.subGrid,delete this.parentGridItem,delete this.opts,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(e){return this.opts.float!==e&&(this.opts.float=this.engine.float=e,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(e,t=!1){let i,r=this.el.getBoundingClientRect();i=t?{top:r.top+document.documentElement.scrollTop,left:r.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};let s=e.left-i.left,n=e.top-i.top,o=r.width/this.getColumn(),a=r.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(s/o),y:Math.floor(n/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow)}isAreaEmpty(e,t,i,r){return this.engine.isAreaEmpty(e,t,i,r)}makeWidget(e,t){let i=x.getElement(e);this._prepareElement(i,!0,t);const r=i.gridstackNode;return this._updateContainerHeight(),r.subGridOpts&&this.makeSubGrid(i,r.subGridOpts,void 0,!1),1===this.opts.column&&(this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,i}on(e,t){if(-1!==e.indexOf(" "))return e.split(" ").forEach((e=>this.on(e,t))),this;if("change"===e||"added"===e||"removed"===e||"enable"===e||"disable"===e){let i="enable"===e||"disable"===e;this._gsEventHandler[e]=i?e=>t(e):e=>t(e,e.detail),this.el.addEventListener(e,this._gsEventHandler[e])}else"drag"===e||"dragstart"===e||"dragstop"===e||"resizestart"===e||"resize"===e||"resizestop"===e||"dropped"===e||"resizecontent"===e?this._gsEventHandler[e]=t:console.log("GridStack.on("+e+") event not supported");return this}off(e){return-1!==e.indexOf(" ")?(e.split(" ").forEach((e=>this.off(e))),this):("change"!==e&&"added"!==e&&"removed"!==e&&"enable"!==e&&"disable"!==e||this._gsEventHandler[e]&&this.el.removeEventListener(e,this._gsEventHandler[e]),delete this._gsEventHandler[e],this)}offAll(){return Object.keys(this._gsEventHandler).forEach((e=>this.off(e))),this}removeWidget(e,t=!0,i=!0){return x.getElements(e).forEach((e=>{if(e.parentElement&&e.parentElement!==this.el)return;let r=e.gridstackNode;r||(r=this.engine.nodes.find((t=>e===t.el))),r&&(x.addRemoveCB&&x.addRemoveCB(this.el,r,!1,!1),delete e.gridstackNode,this._removeDD(e),this.engine.removeNode(r,t,i),t&&e.parentElement&&e.remove())})),i&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this}removeAll(e=!0){return this.engine.nodes.forEach((e=>{delete e.el.gridstackNode,this._removeDD(e.el)})),this.engine.removeAll(e),this._triggerRemoveEvent(),this}setAnimation(e){return e?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(e,t=!0,i=!0){return!!this.opts.staticGrid===e||(e?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach((r=>{this._prepareDragDropByNode(r),r.subGrid&&i&&r.subGrid.setStatic(e,t,i)})),t&&this._setStaticClass()),this}update(e,t){if(arguments.length>2){console.warn("gridstack.ts: `update(el, x, y, w, h)` is deprecated. Use `update(el, {x, w, content, ...})`. It will be removed soon");let i=arguments,r=1;return t={x:i[r++],y:i[r++],w:i[r++],h:i[r++]},this.update(e,t)}return x.getElements(e).forEach((e=>{let r=e?.gridstackNode;if(!r)return;let s=i.cloneDeep(t);this.engine.nodeBoundFix(s),delete s.autoPosition,delete s.id;let n,o=["x","y","w","h"];if(o.some((e=>void 0!==s[e]&&s[e]!==r[e]))&&(n={},o.forEach((e=>{n[e]=void 0!==s[e]?s[e]:r[e],delete s[e]}))),!n&&(s.minW||s.minH||s.maxW||s.maxH)&&(n={}),void 0!==s.content){const t=e.querySelector(".grid-stack-item-content");t&&t.innerHTML!==s.content&&(t.innerHTML=s.content,r.subGrid?.el&&(t.appendChild(r.subGrid.el),r.subGrid.opts.styleInHead||r.subGrid._updateStyles(!0))),delete s.content}let a=!1,l=!1;for(const e in s)"_"!==e[0]&&r[e]!==s[e]&&(r[e]=s[e],a=!0,l=l||!this.opts.staticGrid&&("noResize"===e||"noMove"===e||"locked"===e));if(i.sanitizeMinMax(r),n){const e=void 0!==n.w&&n.w!==r.w;this.moveNode(r,n),this.resizeToContentCheck(e,r)}(n||a)&&this._writeAttr(e,r),l&&this._prepareDragDropByNode(r)})),this}moveNode(e,t){this.engine.cleanNodes().beginUpdate(e).moveNode(e,t),this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate()}resizeToContent(e){if(!e)return;if(e.classList.remove("size-to-content-max"),!e.clientHeight)return;const t=e.gridstackNode;if(!t)return;const i=t.grid;if(!i||e.parentElement!==i.el)return;const r=i.getCellHeight(!0);if(!r)return;let s,n=t.h?t.h*r:e.clientHeight;if(t.resizeToContentParent&&(s=e.querySelector(t.resizeToContentParent)),s||(s=e.querySelector(x.resizeToContentParent)),!s)return;const o=e.clientHeight-s.clientHeight,a=t.h?t.h*r-o:s.clientHeight;let l;if(t.subGrid)l=t.subGrid.getRow()*t.subGrid.getCellHeight(!0);else{const e=s.firstElementChild;if(!e)return void console.log(`Error: resizeToContent() '${x.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);l=e.getBoundingClientRect().height||a}if(a===l)return;n+=l-a;let h=Math.ceil(n/r);const c=Number.isInteger(t.sizeToContent)?t.sizeToContent:0;c&&h>c&&(h=c,e.classList.add("size-to-content-max")),t.minH&&h<t.minH?h=t.minH:t.maxH&&h>t.maxH&&(h=t.maxH),h!==t.h&&(i._ignoreLayoutsNodeChange=!0,i.moveNode(t,{h:h}),delete i._ignoreLayoutsNodeChange)}resizeToContentCBCheck(e){x.resizeToContentCB?x.resizeToContentCB(e):this.resizeToContent(e)}margin(e){if(!("string"==typeof e&&e.split(" ").length>1)){let t=i.parseHeight(e);if(this.opts.marginUnit===t.unit&&this.opts.margin===t.h)return}return this.opts.margin=e,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this._updateStyles(!0),this}getMargin(){return this.opts.margin}willItFit(e){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");let e=arguments,t=0,i={x:e[t++],y:e[t++],w:e[t++],h:e[t++],autoPosition:e[t++]};return this.willItFit(i)}return this.engine.willItFit(e)}_triggerChangeEvent(){if(this.engine.batchMode)return this;let e=this.engine.getDirtyNodes(!0);return e&&e.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this}_triggerAddEvent(){return this.engine.batchMode||this.engine.addedNodes?.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach((e=>{delete e._dirty})),this._triggerEvent("added",this.engine.addedNodes),this.engine.addedNodes=[]),this}_triggerRemoveEvent(){return this.engine.batchMode||this.engine.removedNodes?.length&&(this._triggerEvent("removed",this.engine.removedNodes),this.engine.removedNodes=[]),this}_triggerEvent(e,t){let i=t?new CustomEvent(e,{bubbles:!1,detail:t}):new Event(e);return this.el.dispatchEvent(i),this}_removeStylesheet(){if(this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;i.removeStylesheet(this._styleSheetClass,e),delete this._styles}return this}_updateStyles(e=!1,t){if(e&&this._removeStylesheet(),void 0===t&&(t=this.getRow()),this._updateContainerHeight(),0===this.opts.cellHeight)return this;let r=this.opts.cellHeight,s=this.opts.cellHeightUnit,n=`.${this._styleSheetClass} > .${this.opts.itemClass}`;if(!this._styles){const e=this.opts.styleInHead?void 0:this.el.parentNode;if(this._styles=i.createStylesheet(this._styleSheetClass,e,{nonce:this.opts.nonce}),!this._styles)return this;this._styles._max=0,i.addCSSRule(this._styles,n,`height: ${r}${s}`);let t=this.opts.marginTop+this.opts.marginUnit,o=this.opts.marginBottom+this.opts.marginUnit,a=this.opts.marginRight+this.opts.marginUnit,l=this.opts.marginLeft+this.opts.marginUnit,h=`${n} > .grid-stack-item-content`,c=`.${this._styleSheetClass} > .grid-stack-placeholder > .placeholder-content`;i.addCSSRule(this._styles,h,`top: ${t}; right: ${a}; bottom: ${o}; left: ${l};`),i.addCSSRule(this._styles,c,`top: ${t}; right: ${a}; bottom: ${o}; left: ${l};`),i.addCSSRule(this._styles,`${n} > .ui-resizable-ne`,`right: ${a}`),i.addCSSRule(this._styles,`${n} > .ui-resizable-e`,`right: ${a}`),i.addCSSRule(this._styles,`${n} > .ui-resizable-se`,`right: ${a}; bottom: ${o}`),i.addCSSRule(this._styles,`${n} > .ui-resizable-nw`,`left: ${l}`),i.addCSSRule(this._styles,`${n} > .ui-resizable-w`,`left: ${l}`),i.addCSSRule(this._styles,`${n} > .ui-resizable-sw`,`left: ${l}; bottom: ${o}`)}if((t=t||this._styles._max)>this._styles._max){let e=e=>r*e+s;for(let r=this._styles._max+1;r<=t;r++)i.addCSSRule(this._styles,`${n}[gs-y="${r}"]`,`top: ${e(r)}`),i.addCSSRule(this._styles,`${n}[gs-h="${r+1}"]`,`height: ${e(r+1)}`);this._styles._max=t}return this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const e=this.parentGridItem;let t=this.getRow()+this._extraDragRow;const r=this.opts.cellHeight,s=this.opts.cellHeightUnit;if(!r)return this;if(!e){const e=i.parseHeight(getComputedStyle(this.el).minHeight);if(e.h>0&&e.unit===s){const i=Math.floor(e.h/r);t<i&&(t=i)}}return this.el.setAttribute("gs-current-row",String(t)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),t&&(this.el.style[e?"minHeight":"height"]=t*r+s),e&&!e.grid.engine.batchMode&&i.shouldSizeToContent(e)&&e.grid.resizeToContentCBCheck(e.el),this}_prepareElement(e,t=!1,r){r=r||this._readAttr(e),e.gridstackNode=r,r.el=e,r.grid=this,r=this.engine.addNode(r,t),this._writeAttr(e,r),e.classList.add(s.itemClass,this.opts.itemClass);const n=i.shouldSizeToContent(r);return n?e.classList.add("size-to-content"):e.classList.remove("size-to-content"),n&&this.resizeToContentCheck(!1,r),this._prepareDragDropByNode(r),this}_writePosAttr(e,t){return void 0!==t.x&&null!==t.x&&e.setAttribute("gs-x",String(t.x)),void 0!==t.y&&null!==t.y&&e.setAttribute("gs-y",String(t.y)),t.w>1?e.setAttribute("gs-w",String(t.w)):e.removeAttribute("gs-w"),t.h>1?e.setAttribute("gs-h",String(t.h)):e.removeAttribute("gs-h"),this}_writeAttr(e,t){if(!t)return this;this._writePosAttr(e,t);let i={autoPosition:"gs-auto-position",noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id"};for(const r in i)t[r]?e.setAttribute(i[r],String(t[r])):e.removeAttribute(i[r]);return this}_readAttr(e,t=!0){let r={};r.x=i.toNumber(e.getAttribute("gs-x")),r.y=i.toNumber(e.getAttribute("gs-y")),r.w=i.toNumber(e.getAttribute("gs-w")),r.h=i.toNumber(e.getAttribute("gs-h")),r.autoPosition=i.toBool(e.getAttribute("gs-auto-position")),r.noResize=i.toBool(e.getAttribute("gs-no-resize")),r.noMove=i.toBool(e.getAttribute("gs-no-move")),r.locked=i.toBool(e.getAttribute("gs-locked")),r.id=e.getAttribute("gs-id"),r.maxW=i.toNumber(e.getAttribute("gs-max-w")),r.minW=i.toNumber(e.getAttribute("gs-min-w")),r.maxH=i.toNumber(e.getAttribute("gs-max-h")),r.minH=i.toNumber(e.getAttribute("gs-min-h")),t&&(1===r.w&&e.removeAttribute("gs-w"),1===r.h&&e.removeAttribute("gs-h"),r.maxW&&e.removeAttribute("gs-max-w"),r.minW&&e.removeAttribute("gs-min-w"),r.maxH&&e.removeAttribute("gs-max-h"),r.minH&&e.removeAttribute("gs-min-h"));for(const e in r){if(!r.hasOwnProperty(e))return;r[e]||0===r[e]||delete r[e]}return r}_setStaticClass(){let e=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...e),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...e),this.el.removeAttribute("gs-static")),this}onResize(){if(!this.el?.clientWidth)return;if(this.prevWidth===this.el.clientWidth)return;this.prevWidth=this.el.clientWidth,this.batchUpdate();let e=!1;return this._autoColumn&&this.parentGridItem?this.opts.column!==this.parentGridItem.w&&(this.column(this.parentGridItem.w,"none"),e=!0):e=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach((e=>{e.subGrid&&e.subGrid.onResize()})),this._skipInitialResize||this.resizeToContentCheck(e),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(e=!1,t=void 0){if(this.engine){if(e&&this.hasAnimationCSS())return setTimeout((()=>this.resizeToContentCheck(!1,t)),310);if(t)i.shouldSizeToContent(t)&&this.resizeToContentCBCheck(t.el);else if(this.engine.nodes.some((e=>i.shouldSizeToContent(e)))){const e=[...this.engine.nodes];this.batchUpdate(),e.forEach((e=>{i.shouldSizeToContent(e)&&this.resizeToContentCBCheck(e.el)})),this.batchUpdate(!1)}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,t?[t]:this.engine.nodes)}}_updateResizeEvent(e=!1){const t=!this.parentGridItem&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find((e=>e.sizeToContent)));return e||!t||this.resizeObserver?!e&&t||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=i.throttle((()=>this.onResize()),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver((()=>this._sizeThrottle())),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(e=".grid-stack-item"){return i.getElement(e)}static getElements(e=".grid-stack-item"){return i.getElements(e)}static getGridElement(e){return x.getElement(e)}static getGridElements(e){return i.getElements(e)}_initMargin(){let e,t=0,r=[];return"string"==typeof this.opts.margin&&(r=this.opts.margin.split(" ")),2===r.length?(this.opts.marginTop=this.opts.marginBottom=r[0],this.opts.marginLeft=this.opts.marginRight=r[1]):4===r.length?(this.opts.marginTop=r[0],this.opts.marginRight=r[1],this.opts.marginBottom=r[2],this.opts.marginLeft=r[3]):(e=i.parseHeight(this.opts.margin),this.opts.marginUnit=e.unit,t=this.opts.margin=e.h),void 0===this.opts.marginTop?this.opts.marginTop=t:(e=i.parseHeight(this.opts.marginTop),this.opts.marginTop=e.h,delete this.opts.margin),void 0===this.opts.marginBottom?this.opts.marginBottom=t:(e=i.parseHeight(this.opts.marginBottom),this.opts.marginBottom=e.h,delete this.opts.margin),void 0===this.opts.marginRight?this.opts.marginRight=t:(e=i.parseHeight(this.opts.marginRight),this.opts.marginRight=e.h,delete this.opts.margin),void 0===this.opts.marginLeft?this.opts.marginLeft=t:(e=i.parseHeight(this.opts.marginLeft),this.opts.marginLeft=e.h,delete this.opts.margin),this.opts.marginUnit=e.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop),this}static getDD(){return S}static setupDragIn(e,t,r=document){void 0!==t?.pause&&(o.pauseDrag=t.pause),t={...n,...t||{}};let s="string"==typeof e?i.getElements(e,r):e;s.length&&s?.forEach((e=>{S.isDraggable(e)||S.dragIn(e,t)}))}movable(e,t){return this.opts.staticGrid||x.getElements(e).forEach((e=>{const i=e.gridstackNode;i&&(t?delete i.noMove:i.noMove=!0,this._prepareDragDropByNode(i))})),this}resizable(e,t){return this.opts.staticGrid||x.getElements(e).forEach((e=>{let i=e.gridstackNode;i&&(t?delete i.noResize:i.noResize=!0,this._prepareDragDropByNode(i))})),this}disable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!1,e),this.enableResize(!1,e),this._triggerEvent("disable"),this}enable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!0,e),this.enableResize(!0,e),this._triggerEvent("enable"),this}enableMove(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach((i=>{this._prepareDragDropByNode(i),i.subGrid&&t&&i.subGrid.enableMove(e,t)}))),this}enableResize(e,t=!0){return this.opts.staticGrid||(e?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach((i=>{this._prepareDragDropByNode(i),i.subGrid&&t&&i.subGrid.enableResize(e,t)}))),this}_removeDD(e){return S.draggable(e,"destroy").resizable(e,"destroy"),e.gridstackNode&&delete e.gridstackNode._initDD,delete e.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return S.droppable(this.el,"destroy"),this;let e,t,r=(r,s,n)=>{let o=s.gridstackNode;if(!o)return;n=n||s;let a=this.el.getBoundingClientRect(),{top:l,left:h}=n.getBoundingClientRect();h-=a.left,l-=a.top;let c={position:{top:l,left:h}};if(o._temporaryRemoved){if(o.x=Math.max(0,Math.round(h/t)),o.y=Math.max(0,Math.round(l/e)),delete o.autoPosition,this.engine.nodeBoundFix(o),!this.engine.willItFit(o)){if(o.autoPosition=!0,!this.engine.willItFit(o))return void S.off(s,"drag");o._willFitPos&&(i.copyPos(o,o._willFitPos),delete o._willFitPos)}this._onStartMoving(n,r,c,o,t,e)}else this._dragOrResize(n,r,c,o,t,e)};return S.droppable(this.el,{accept:e=>{let t=e.gridstackNode;if(t?.grid===this)return!0;if(!this.opts.acceptWidgets)return!1;let i=!0;if("function"==typeof this.opts.acceptWidgets)i=this.opts.acceptWidgets(e);else{let t=!0===this.opts.acceptWidgets?".grid-stack-item":this.opts.acceptWidgets;i=e.matches(t)}if(i&&t&&this.opts.maxRow){let e={w:t.w,h:t.h,minW:t.minW,minH:t.minH};i=this.engine.willItFit(e)}return i}}).on(this.el,"dropover",((i,s,n)=>{let o=s.gridstackNode;if(o?.grid===this&&!o._temporaryRemoved)return!1;o?.grid&&o.grid!==this&&!o._temporaryRemoved&&o.grid._leave(s,n),t=this.cellWidth(),e=this.getCellHeight(!0),o||(o=this._readAttr(s,!1)),o.grid||(o._isExternal=!0,s.gridstackNode=o),n=n||s;let a=o.w||Math.round(n.offsetWidth/t)||1,l=o.h||Math.round(n.offsetHeight/e)||1;return o.grid&&o.grid!==this?(s._gridstackNodeOrig||(s._gridstackNodeOrig=o),s.gridstackNode=o={...o,w:a,h:l,grid:this},delete o.x,delete o.y,this.engine.cleanupNode(o).nodeBoundFix(o),o._initDD=o._isExternal=o._temporaryRemoved=!0):(o.w=a,o.h=l,o._temporaryRemoved=!0),this._itemRemoving(o.el,!1),S.on(s,"drag",r),r(i,s,n),!1})).on(this.el,"dropout",((e,t,i)=>{let r=t.gridstackNode;return!!r&&(r.grid&&r.grid!==this||(this._leave(t,i),this._isTemp&&this.removeAsSubGrid(r)),!1)})).on(this.el,"drop",((e,t,r)=>{let s=t.gridstackNode;if(s?.grid===this&&!s._isExternal)return!1;const n=!!this.placeholder.parentElement;this.placeholder.remove();const o=n&&this.opts.animate;o&&this.setAnimation(!1);let a=t._gridstackNodeOrig;if(delete t._gridstackNodeOrig,n&&a?.grid&&a.grid!==this){let e=a.grid;e.engine.removeNodeFromLayoutCache(a),e.engine.removedNodes.push(a),e._triggerRemoveEvent()._triggerChangeEvent(),e.parentGridItem&&!e.engine.nodes.length&&e.opts.subGridDynamic&&e.removeAsSubGrid()}if(!s)return!1;if(n&&(this.engine.cleanupNode(s),s.grid=this),delete s.grid._isTemp,S.off(t,"drag"),r!==t?(r.remove(),t.gridstackNode=a,n&&(t=t.cloneNode(!0))):(t.remove(),this._removeDD(t)),!n)return!1;t.gridstackNode=s,s.el=t;let l=s.subGrid?.el?.gridstack;return i.copyPos(s,this._readAttr(this.placeholder)),i.removePositioningStyles(t),this.el.appendChild(t),this._prepareElement(t,!0,s),l&&(l.parentGridItem=s,l.opts.styleInHead||l._updateStyles(!0)),this._updateContainerHeight(),this.engine.addedNodes.push(s),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...e,type:"dropped"},a&&a.grid?a:void 0,s),o&&setTimeout((()=>this.setAnimation(this.opts.animate))),!1})),this}_itemRemoving(e,t){let i=e?e.gridstackNode:void 0;i&&i.grid&&!e.classList.contains(this.opts.removableOptions.decline)&&(t?i._isAboutToRemove=!0:delete i._isAboutToRemove,t?e.classList.add("grid-stack-item-removing"):e.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(!this.opts.staticGrid&&"string"==typeof this.opts.removable){let e=document.querySelector(this.opts.removable);if(!e)return this;S.isDroppable(e)||S.droppable(e,this.opts.removableOptions).on(e,"dropover",((e,t)=>this._itemRemoving(t,!0))).on(e,"dropout",((e,t)=>this._itemRemoving(t,!1)))}return this}_prepareDragDropByNode(e){let t=e.el;const r=e.noMove||this.opts.disableDrag,s=e.noResize||this.opts.disableResize;if(this.opts.staticGrid||r&&s)return e._initDD&&(this._removeDD(t),delete e._initDD),t.classList.add("ui-draggable-disabled","ui-resizable-disabled"),this;if(!e._initDD){let r,s,n=(i,n)=>{this._gsEventHandler[i.type]&&this._gsEventHandler[i.type](i,i.target),r=this.cellWidth(),s=this.getCellHeight(!0),this._onStartMoving(t,i,n,e,r,s)},o=(i,n)=>{this._dragOrResize(t,i,n,e,r,s)},a=r=>{this.placeholder.remove(),delete e._moving,delete e._event,delete e._lastTried;const s=e.w!==e._orig.w;let n=r.target;if(n.gridstackNode&&n.gridstackNode.grid===this){if(e.el=n,e._isAboutToRemove){let i=t.gridstackNode.grid;i._gsEventHandler[r.type]&&i._gsEventHandler[r.type](r,n),i.engine.nodes.push(e),i.removeWidget(t,!0,!0)}else i.removePositioningStyles(n),e._temporaryRemoved?(i.copyPos(e,e._orig),this._writePosAttr(n,e),this.engine.addNode(e)):this._writePosAttr(n,e),this._gsEventHandler[r.type]&&this._gsEventHandler[r.type](r,n);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),"resizestop"===r.type&&(Number.isInteger(e.sizeToContent)&&(e.sizeToContent=e.h),this.resizeToContentCheck(s,e))}};S.draggable(t,{start:n,stop:a,drag:o}).resizable(t,{start:n,stop:a,resize:o}),e._initDD=!0}return S.draggable(t,r?"disable":"enable").resizable(t,s?"disable":"enable"),this}_onStartMoving(e,t,i,r,s,n){this.engine.cleanNodes().beginUpdate(r),this._writePosAttr(this.placeholder,r),this.el.appendChild(this.placeholder),r.el=this.placeholder,r._lastUiPosition=i.position,r._prevYPix=i.position.top,r._moving="dragstart"===t.type,delete r._lastTried,"dropover"===t.type&&r._temporaryRemoved&&(this.engine.addNode(r),r._moving=!0),this.engine.cacheRects(s,n,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),"resizestart"===t.type&&(S.resizable(e,"option","minWidth",s*(r.minW||1)).resizable(e,"option","minHeight",n*(r.minH||1)),r.maxW&&S.resizable(e,"option","maxWidth",s*r.maxW),r.maxH&&S.resizable(e,"option","maxHeight",n*r.maxH))}_dragOrResize(e,t,r,s,n,o){let a,l={...s._orig},h=this.opts.marginLeft,c=this.opts.marginRight,d=this.opts.marginTop,u=this.opts.marginBottom,p=Math.round(.1*o),f=Math.round(.1*n);if(h=Math.min(h,f),c=Math.min(c,f),d=Math.min(d,p),u=Math.min(u,p),"drag"===t.type){if(s._temporaryRemoved)return;let t=r.position.top-s._prevYPix;s._prevYPix=r.position.top,!1!==this.opts.draggable.scroll&&i.updateScrollPosition(e,r.position,t);let a=r.position.left+(r.position.left>s._lastUiPosition.left?-c:h),p=r.position.top+(r.position.top>s._lastUiPosition.top?-u:d);l.x=Math.round(a/n),l.y=Math.round(p/o);let f=this._extraDragRow;if(this.engine.collide(s,l)){let e=this.getRow(),t=Math.max(0,l.y+s.h-e);this.opts.maxRow&&e+t>this.opts.maxRow&&(t=Math.max(0,this.opts.maxRow-e)),this._extraDragRow=t}else this._extraDragRow=0;if(this._extraDragRow!==f&&this._updateContainerHeight(),s.x===l.x&&s.y===l.y)return}else if("resize"===t.type){if(l.x<0)return;if(i.updateScrollResize(t,e,o),l.w=Math.round((r.size.width-h)/n),l.h=Math.round((r.size.height-d)/o),s.w===l.w&&s.h===l.h)return;if(s._lastTried&&s._lastTried.w===l.w&&s._lastTried.h===l.h)return;let c=r.position.left+h,u=r.position.top+d;l.x=Math.round(c/n),l.y=Math.round(u/o),a=!0}s._event=t,s._lastTried=l;let m={x:r.position.left+h,y:r.position.top+d,w:(r.size?r.size.width:s.w*n)-h-c,h:(r.size?r.size.height:s.h*o)-d-u};if(this.engine.moveNodeCheck(s,{...l,cellWidth:n,cellHeight:o,rect:m,resizing:a})){s._lastUiPosition=r.position,this.engine.cacheRects(n,o,d,c,u,h),delete s._skipDown,a&&s.subGrid&&s.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();let e=t.target;this._writePosAttr(e,s),this._gsEventHandler[t.type]&&this._gsEventHandler[t.type](t,e)}}_leave(e,t){let i=e.gridstackNode;i&&(S.off(e,"drag"),i._temporaryRemoved||(i._temporaryRemoved=!0,this.engine.removeNode(i),i.el=i._isExternal&&t?t:e,!0===this.opts.removable&&this._itemRemoving(e,!0),e._gridstackNodeOrig?(e.gridstackNode=e._gridstackNodeOrig,delete e._gridstackNodeOrig):i._isExternal&&(delete i.el,delete e.gridstackNode,this.engine.restoreInitial())))}commit(){return this.batchUpdate(!1).prototype,this}}return x.resizeToContentParent=".grid-stack-item-content",x.Utils=i,x.Engine=r,x.GDRev="10.0.1",t.GridStack})())),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}((function(e,t){"use strict";if(!e.jstree){var i=0,r=!1,s=!1,n=!1,o=[],a=e("script:last").attr("src"),l=window.document,h=window.setImmediate,c=window.Promise;!h&&c&&(h=function(e,t){c.resolve(t).then(e)}),e.jstree={version:"3.3.16",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(t,r){var s=new e.jstree.core(++i),n=r;return r=e.extend(!0,{},e.jstree.defaults,r),n&&n.plugins&&(r.plugins=n.plugins),e.each(r.plugins,(function(e,t){"core"!==e&&(s=s.plugin(t,r[t]))})),e(t).data("jstree",s),s.init(t,r),s},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(l).off(".jstree")},e.jstree.core=function(e){this._id=e,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(t){var i=null,r=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!r||!r.length)try{r=e(t)}catch(e){}if(!r||!r.length)try{r=e("#"+t.replace(e.jstree.idregex,"\\$&"))}catch(e){}return r&&r.length&&(r=r.closest(".jstree")).length&&(r=r.data("jstree"))?i=r:e(".jstree").each((function(){var r=e(this).data("jstree");if(r&&r._model.data[t])return i=r,!1})),i},e.fn.jstree=function(i){var r="string"==typeof i,s=Array.prototype.slice.call(arguments,1),n=null;return!(!0===i&&!this.length)&&(this.each((function(){var o=e.jstree.reference(this),a=r&&o?o[i]:null;if(n=r&&a?a.apply(o,s):null,o||r||i!==t&&!e.isPlainObject(i)||e.jstree.create(this,i),(o&&!r||!0===i)&&(n=o||!1),null!==n&&n!==t)return!1})),null!==n&&n!==t?n:this)},e.expr.pseudos.jstree=e.expr.createPseudo((function(i){return function(i){return e(i).hasClass("jstree")&&e(i).data("jstree")!==t}})),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(t){t.type="click",e(t.currentTarget).trigger(t)},enter:function(t){t.type="click",e(t.currentTarget).trigger(t)},left:function(t){if(t.preventDefault(),this.is_open(t.currentTarget))this.close_node(t.currentTarget);else{var i=this.get_parent(t.currentTarget);i&&i.id!==e.jstree.root&&this.get_node(i,!0).children(".jstree-anchor").trigger("focus")}},up:function(e){e.preventDefault();var t=this.get_prev_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").trigger("focus")},right:function(t){if(t.preventDefault(),this.is_closed(t.currentTarget))this.open_node(t.currentTarget,(function(e){this.get_node(e,!0).children(".jstree-anchor").trigger("focus")}));else if(this.is_open(t.currentTarget)){var i=this.get_node(t.currentTarget,!0).children(".jstree-children")[0];i&&e(this._firstChild(i)).children(".jstree-anchor").trigger("focus")}},down:function(e){e.preventDefault();var t=this.get_next_dom(e.currentTarget);t&&t.length&&t.children(".jstree-anchor").trigger("focus")},"*":function(e){this.open_all()},home:function(t){t.preventDefault();var i=this._firstChild(this.get_container_ul()[0]);i&&e(i).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(e){e.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(e){e.preventDefault(),this.edit(e.currentTarget)}},allow_reselect:!1},e.jstree.core.prototype={plugin:function(t,i){var r=e.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(t).addClass("jstree jstree-"+this._id),this.settings=i,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl="rtl"===this.element.css("direction"),this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter((function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))})).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(e){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch(e){}e||this.element.empty(),this.teardown()},_create_prototype_node:function(){var e,t,i=l.createElement("LI");return i.setAttribute("role","none"),(e=l.createElement("I")).className="jstree-icon jstree-ocl",e.setAttribute("role","presentation"),i.appendChild(e),(e=l.createElement("A")).className="jstree-anchor",e.setAttribute("href","#"),e.setAttribute("tabindex","-1"),e.setAttribute("role","treeitem"),(t=l.createElement("I")).className="jstree-icon jstree-themeicon",t.setAttribute("role","presentation"),e.appendChild(t),i.appendChild(e),e=t=null,i},_kbevent_to_func:function(e){var t={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},i=[];if(e.ctrlKey&&i.push("ctrl"),e.altKey&&i.push("alt"),e.shiftKey&&i.push("shift"),i.push(t[e.which]?t[e.which].toLowerCase():e.which),"shift-shift"===(i=i.sort().join("-").toLowerCase())||"ctrl-ctrl"===i||"alt-alt"===i)return null;var r,s,n=this.settings.core.keyboard;for(r in n)if(n.hasOwnProperty(r)&&("-"!==(s=r)&&"+"!==s&&(s=(s=s.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),s===i))return n[r];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",(function(){return this.className.replace(/jstree[^ ]*|$/gi,"")})),this.element=null},bind:function(){var t="",i=null,r=0;this.element.on("dblclick.jstree",(function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;if(l.selection&&l.selection.empty)l.selection.empty();else if(window.getSelection){var t=window.getSelection();try{t.removeAllRanges(),t.collapse()}catch(e){}}})).on("mousedown.jstree",function(e){e.target===this.element[0]&&(e.preventDefault(),r=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",(function(e){e.preventDefault()})).on("click.jstree",".jstree-ocl",function(e){this.toggle_node(e.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(e.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(t){t.preventDefault(),t.currentTarget!==l.activeElement&&e(t.currentTarget).trigger("focus"),this.activate_node(t.currentTarget,t)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(e){if(e.target.tagName&&"input"===e.target.tagName.toLowerCase())return!0;this._data.core.rtl&&(37===e.which?e.which=39:39===e.which&&(e.which=37));var t=this._kbevent_to_func(e);if(t){var i=t.call(this,e);if(!1===i||!0===i)return i}}.bind(this)).on("load_node.jstree",function(t,i){i.status&&(i.node.id!==e.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var t,i,r=[];for(t=0,i=this._data.core.selected.length;t<i;t++)r=r.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,i=(r=e.vakata.array_unique(r)).length;t<i;t++)this.open_node(r[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;i&&clearTimeout(i),i=setTimeout((function(){t=""}),500);var s=String.fromCharCode(r.which).toLowerCase(),n=this.element.find(".jstree-anchor").filter(":visible"),o=n.index(l.activeElement)||0,a=!1;if((t+=s).length>1){if(n.slice(o).each(function(i,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).trigger("focus"),a=!0,!1}.bind(this)),a)return;if(n.slice(0,o).each(function(i,r){if(0===e(r).text().toLowerCase().indexOf(t))return e(r).trigger("focus"),a=!0,!1}.bind(this)),a)return}if(new RegExp("^"+s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)){if(n.slice(o+1).each(function(t,i){if(e(i).text().toLowerCase().charAt(0)===s)return e(i).trigger("focus"),a=!0,!1}.bind(this)),a)return;if(n.slice(0,o+1).each(function(t,i){if(e(i).text().toLowerCase().charAt(0)===s)return e(i).trigger("focus"),a=!0,!1}.bind(this)),a)return}}.bind(this)).on("init.jstree",function(){var e=this.settings.core.themes;this._data.core.themes.dots=e.dots,this._data.core.themes.stripes=e.stripes,this._data.core.themes.icons=e.icons,this._data.core.themes.ellipsis=e.ellipsis,this.set_theme(e.name||"default",e.url),this.set_theme_variant(e.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(t){this._data.core.focused=null,e(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),e(t.currentTarget).attr("tabindex","-1")}.bind(this)).on("focus.jstree",".jstree-anchor",function(t){var i=this.get_node(t.currentTarget);i&&(i.id||0===i.id)&&(this._data.core.focused=i.id),this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave"),e(t.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),e(t.currentTarget).attr("tabindex","0")}.bind(this)).on("focus.jstree",function(){if(+new Date-r>500&&!this._data.core.focused&&this.settings.core.restore_focus){r=0;var e=this.get_node(this.element.attr("aria-activedescendant"),!0);e&&e.find("> .jstree-anchor").trigger("focus")}}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(e){this.hover_node(e.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(e){this.dehover_node(e.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree"),e(l).off(".jstree-"+this._id)},trigger:function(e,t){t||(t={}),t.instance=this,this.element.triggerHandler(e.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return e.vakata.is_function(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(e){for(e=e?e.firstChild:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_nextSibling:function(e){for(e=e?e.nextSibling:null;null!==e&&1!==e.nodeType;)e=e.nextSibling;return e},_previousSibling:function(e){for(e=e?e.previousSibling:null;null!==e&&1!==e.nodeType;)e=e.previousSibling;return e},get_node:function(t,i){var r;t&&(t.id||0===t.id)&&(t=t.id),t instanceof e&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=e("#"+t.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(t)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=this.element.find(t)).length||!r.hasClass("jstree"))return!1;t=this._model.data[e.jstree.root]}return i&&(t=t.id===e.jstree.root?this.element:e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)),t}catch(e){return!1}},get_path:function(t,i,r){if(!(t=t.parents?t:this.get_node(t))||t.id===e.jstree.root||!t.parents)return!1;var s,n,o=[];for(o.push(r?t.id:t.text),s=0,n=t.parents.length;s<n;s++)o.push(r?t.parents[s]:this.get_text(t.parents[s]));return o=o.reverse().slice(1),i?o.join(i):o},get_next_dom:function(t,i){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(i){r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return e(r)}r=t[0];do{r=this._nextSibling(r)}while(r&&0===r.offsetHeight);return null!==r?e(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&e(r)}if(!t||!t.length)return!1;if(i){r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);return!!r&&e(r)}r=t[0];do{r=this._previousSibling(r)}while(r&&0===r.offsetHeight);if(null!==r){for(t=e(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t}return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&e(r)},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.parent},get_children_dom:function(e){return(e=this.get_node(e,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!e||!e.length)&&e.children(".jstree-children").children(".jstree-node")},is_parent:function(e){return(e=this.get_node(e))&&(!1===e.state.loaded||e.children.length>0)},is_loaded:function(e){return(e=this.get_node(e))&&e.state.loaded},is_loading:function(e){return(e=this.get_node(e))&&e.state&&e.state.loading},is_open:function(e){return(e=this.get_node(e))&&e.state.opened},is_closed:function(e){return(e=this.get_node(e))&&this.is_parent(e)&&!e.state.opened},is_leaf:function(e){return!this.is_parent(e)},load_node:function(t,i){var r,s,n,o,a,l=this.get_node(t,!0);if(e.vakata.is_array(t))return this._load_nodes(t.slice(),i),!0;if(!(t=this.get_node(t)))return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,n=0,o=t.parents.length;n<o;n++)this._model.data[t.parents[n]].children_d=e.vakata.array_filter(this._model.data[t.parents[n]].children_d,(function(i){return-1===e.inArray(i,t.children_d)}));for(r=0,s=t.children_d.length;r<s;r++)this._model.data[t.children_d[r]].state.selected&&(a=!0),delete this._model.data[t.children_d[r]];a&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(i){return-1===e.inArray(i,t.children_d)}))),t.children=[],t.children_d=[],a&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,t.id!==e.jstree.root?l.children(".jstree-anchor").attr("aria-busy",!0):l.attr("aria-busy",!0),l.addClass("jstree-loading"),this._load_node(t,function(r){(t=this._model.data[t.id]).state.loading=!1,t.state.loaded=r,t.state.failed=!t.state.loaded;var s,n=this.get_node(t,!0),o=0,a=this._model.data,l=!1;for(o=0,s=t.children.length;o<s;o++)if(a[t.children[o]]&&!a[t.children[o]].state.hidden){l=!0;break}t.state.loaded&&n&&n.length&&(n.removeClass("jstree-closed jstree-open jstree-leaf"),l?"#"!==t.id&&n.addClass(t.state.opened?"jstree-open":"jstree-closed"):n.addClass("jstree-leaf")),t.id!==e.jstree.root?n.children(".jstree-anchor").attr("aria-busy",!1):n.attr("aria-busy",!1),n.removeClass("jstree-loading"),this.trigger("load_node",{node:t,status:r}),i&&i.call(this,t,r)}.bind(this)),!0},_load_nodes:function(e,t,i,r){var s,n,o=!0,a=function(){this._load_nodes(e,t,!0)},l=this._model.data,h=[];for(s=0,n=e.length;s<n;s++)l[e[s]]&&(!l[e[s]].state.loaded&&!l[e[s]].state.failed||!i&&r)&&(this.is_loading(e[s])||this.load_node(e[s],a),o=!1);if(o){for(s=0,n=e.length;s<n;s++)l[e[s]]&&l[e[s]].state.loaded&&h.push(e[s]);t&&!t.done&&(t.call(this,h),t.done=!0)}},load_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,s,n=[],o=this._model.data,a=o[t.id].children_d;for(t.state&&!t.state.loaded&&n.push(t.id),r=0,s=a.length;r<s;r++)o[a[r]]&&o[a[r]].state&&!o[a[r]].state.loaded&&n.push(a[r]);n.length?this._load_nodes(n,(function(){this.load_all(t,i)})):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var r,s=this.settings.core.data,n=function(){return 3!==this.nodeType&&8!==this.nodeType};return s?e.vakata.is_function(s)?s.call(this,t,function(r){!1===r?i.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?e(e.parseHTML(r)).filter(n):r,(function(e){i.call(this,e)}))}.bind(this)):"object"==typeof s?s.url?(s=e.extend(!0,{},s),e.vakata.is_function(s.url)&&(s.url=s.url.call(this,t)),e.vakata.is_function(s.data)&&(s.data=s.data.call(this,t)),e.ajax(s).done(function(r,s,o){var a=o.getResponseHeader("Content-Type");return a&&-1!==a.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,(function(e){i.call(this,e)})):a&&-1!==a.indexOf("html")||"string"==typeof r?this._append_html_data(t,e(e.parseHTML(r)).filter(n),(function(e){i.call(this,e)})):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:o})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))}.bind(this)).fail(function(e){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},i.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(r=e.vakata.is_array(s)?e.extend(!0,[],s):e.isPlainObject(s)?e.extend(!0,{},s):s,t.id===e.jstree.root?this._append_json_data(t,r,(function(e){i.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof s?t.id===e.jstree.root?this._append_html_data(t,e(e.parseHTML(s)).filter(n),(function(e){i.call(this,e)})):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===e.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),(function(e){i.call(this,e)})):i.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===e.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,i,r){(t=this.get_node(t)).children=[],t.children_d=[];var s,n,o,a=i.is("ul")?i.children():i,l=t.id,h=[],c=[],d=this._model.data,u=d[l],p=this._data.core.selected.length;for(a.each(function(t,i){(s=this._parse_model_from_html(e(i),l,u.parents.concat()))&&(h.push(s),c.push(s),d[s].children_d.length&&(c=c.concat(d[s].children_d)))}.bind(this)),u.children=h,u.children_d=c,n=0,o=u.parents.length;n<o;n++)d[u.parents[n]].children_d=d[u.parents[n]].children_d.concat(c);this.trigger("model",{nodes:c,parent:l}),l!==e.jstree.root?(this._node_changed(l),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==p&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),r.call(this,!0)},_append_json_data:function(t,i,r,s){if(null!==this.element){(t=this.get_node(t)).children=[],t.children_d=[],i.d&&"string"==typeof(i=i.d)&&(i=JSON.parse(i)),e.vakata.is_array(i)||(i=[i]);var n=null,o={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},a=this,l=function(e,t){e.data&&(e=e.data);var i,r,s,n,o=e.dat,l=e.par,h=[],c=[],d=[],u=e.df,p=e.t_id,f=e.t_cnt,m=e.m,g=m[l],y=e.sel,v=function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var s,n,o,a,l=e.id.toString(),h={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in u)u.hasOwnProperty(s)&&(h.state[s]=u[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(h.icon=e.data.jstree.icon),h.icon!==t&&null!==h.icon&&""!==h.icon||(h.icon=!0),e&&e.data&&(h.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(h.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(h.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(h.li_attr[s]=e.li_attr[s]);if(h.li_attr.id||(h.li_attr.id=l),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(h.a_attr[s]=e.a_attr[s]);for(e&&e.children&&!0===e.children&&(h.state.loaded=!1,h.children=[],h.children_d=[]),m[h.id]=h,s=0,n=h.children.length;s<n;s++)o=v(m[h.children[s]],h.id,r),a=m[o],h.children_d.push(o),a.children_d.length&&(h.children_d=h.children_d.concat(a.children_d));return delete e.data,delete e.children,m[h.id].original=e,h.state.selected&&d.push(h.id),h.id},b=function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var s,n,o,a,l,h=!1;do{h="j"+p+"_"+ ++f}while(m[h]);for(s in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},u)u.hasOwnProperty(s)&&(l.state[s]=u[s]);if(e&&(e.id||0===e.id)&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(l.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(l.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(l.li_attr[s]=e.li_attr[s]);if(l.li_attr.id&&!l.id&&0!==l.id&&(l.id=l.li_attr.id.toString()),l.id||0===l.id||(l.id=h),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(l.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,n=e.children.length;s<n;s++)o=b(e.children[s],l.id,r),a=m[o],l.children.push(o),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children_d.concat(l.children)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,m[l.id]=l,l.state.selected&&d.push(l.id),l.id};if(o.length&&o[0].id!==t&&o[0].parent!==t){for(r=0,s=o.length;r<s;r++)o[r].children||(o[r].children=[]),o[r].state||(o[r].state={}),m[o[r].id.toString()]=o[r];for(r=0,s=o.length;r<s;r++)m[o[r].parent.toString()]?(m[o[r].parent.toString()].children.push(o[r].id.toString()),g.children_d.push(o[r].id.toString())):void 0!==a&&(a._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:o[r].id.toString(),parent:o[r].parent.toString()})},a.settings.core.error.call(a,a._data.core.last_error));for(r=0,s=g.children.length;r<s;r++)i=v(m[g.children[r]],l,g.parents.concat()),c.push(i),m[i].children_d.length&&(c=c.concat(m[i].children_d));for(r=0,s=g.parents.length;r<s;r++)m[g.parents[r]].children_d=m[g.parents[r]].children_d.concat(c);n={cnt:f,mod:m,sel:y,par:l,dpc:c,add:d}}else{for(r=0,s=o.length;r<s;r++)(i=b(o[r],l,g.parents.concat()))&&(h.push(i),c.push(i),m[i].children_d.length&&(c=c.concat(m[i].children_d)));for(g.children=h,g.children_d=c,r=0,s=g.parents.length;r<s;r++)m[g.parents[r]].children_d=m[g.parents[r]].children_d.concat(c);n={cnt:f,mod:m,sel:y,par:l,dpc:c,add:d}}if("undefined"!=typeof window&&void 0!==window.document)return n;postMessage(n)},c=function(t,i){if(null!==this.element){this._cnt=t.cnt;var s,n=this._model.data;for(s in n)n.hasOwnProperty(s)&&n[s].state&&n[s].state.loading&&t.mod[s]&&(t.mod[s].state.loading=!0);if(this._model.data=t.mod,i){var o,l=t.add,c=t.sel,d=this._data.core.selected.slice();if(n=this._model.data,c.length!==d.length||e.vakata.array_unique(c.concat(d)).length!==c.length){for(s=0,o=c.length;s<o;s++)-1===e.inArray(c[s],l)&&-1===e.inArray(c[s],d)&&(n[c[s]].state.selected=!1);for(s=0,o=d.length;s<o;s++)-1===e.inArray(d[s],c)&&(n[d[s]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add)),this.trigger("model",{nodes:t.dpc,parent:t.par}),t.par!==e.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0),t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!i&&h?h((function(){r.call(a,!0)})):r.call(a,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+l.toString()],{type:"text/javascript"}))),!this._data.core.working||s?(this._data.core.working=!0,(n=new window.Worker(this._wrk)).onmessage=function(e){c.call(this,e.data,!0);try{n.terminate(),n=null}catch(e){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),n.onerror=function(e){c.call(this,l(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),o.par?n.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,r,!0])}catch(e){c.call(this,l(o),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else c.call(this,l(o),!1)}},_parse_model_from_html:function(i,r,s){s=s?[].concat(s):[],r&&s.unshift(r);var n,o,a,l,h,c=this._model.data,d={id:!1,text:!1,icon:!0,parent:r,parents:s,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(a in this._model.default_state)this._model.default_state.hasOwnProperty(a)&&(d.state[a]=this._model.default_state[a]);if(l=e.vakata.attributes(i,!0),e.each(l,(function(t,i){if(!(i=e.vakata.trim(i)).length)return!0;d.li_attr[t]=i,"id"===t&&(d.id=i.toString())})),(l=i.children("a").first()).length&&(l=e.vakata.attributes(l,!0),e.each(l,(function(t,i){(i=e.vakata.trim(i)).length&&(d.a_attr[t]=i)}))),(l=i.children("a").first().length?i.children("a").first().clone():i.clone()).children("ins, i, ul").remove(),l=l.html(),l=e("<div></div>").html(l),d.text=this.settings.core.force_text?l.text():l.html(),l=i.data(),d.data=l?e.extend(!0,{},l):null,d.state.opened=i.hasClass("jstree-open"),d.state.selected=i.children("a").hasClass("jstree-clicked"),d.state.disabled=i.children("a").hasClass("jstree-disabled"),d.data&&d.data.jstree)for(a in d.data.jstree)d.data.jstree.hasOwnProperty(a)&&(d.state[a]=d.data.jstree[a]);(l=i.children("a").children(".jstree-themeicon")).length&&(d.icon=!l.hasClass("jstree-themeicon-hidden")&&l.attr("rel")),d.state.icon!==t&&(d.icon=d.state.icon),d.icon!==t&&null!==d.icon&&""!==d.icon||(d.icon=!0),l=i.children("ul").children("li");do{h="j"+this._id+"_"+ ++this._cnt}while(c[h]);return d.id=d.li_attr.id?d.li_attr.id.toString():h,l.length?(l.each(function(t,i){n=this._parse_model_from_html(e(i),d.id,s),o=this._model.data[n],d.children.push(n),o.children_d.length&&(d.children_d=d.children_d.concat(o.children_d))}.bind(this)),d.children_d=d.children_d.concat(d.children)):i.hasClass("jstree-closed")&&(d.state.loaded=!1),d.li_attr.class&&(d.li_attr.class=d.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),d.a_attr.class&&(d.a_attr.class=d.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),c[d.id]=d,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_flat_json:function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var s,n,o,a,l=e.id.toString(),h=this._model.data,c=this._model.default_state,d={id:l,text:e.text||"",icon:e.icon===t||e.icon,parent:i,parents:r,children:e.children||[],children_d:e.children_d||[],data:e.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(s in c)c.hasOwnProperty(s)&&(d.state[s]=c[s]);if(e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(d.icon=e.data.jstree.icon),d.icon!==t&&null!==d.icon&&""!==d.icon||(d.icon=!0),e&&e.data&&(d.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(d.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(d.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(d.li_attr[s]=e.li_attr[s]);if(d.li_attr.id||(d.li_attr.id=l),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(d.a_attr[s]=e.a_attr[s]);for(e&&e.children&&!0===e.children&&(d.state.loaded=!1,d.children=[],d.children_d=[]),h[d.id]=d,s=0,n=d.children.length;s<n;s++)a=h[o=this._parse_model_from_flat_json(h[d.children[s]],d.id,r)],d.children_d.push(o),a.children_d.length&&(d.children_d=d.children_d.concat(a.children_d));return delete e.data,delete e.children,h[d.id].original=e,d.state.selected&&this._data.core.selected.push(d.id),d.id},_parse_model_from_json:function(e,i,r){r=r?r.concat():[],i&&r.unshift(i);var s,n,o,a,l,h=!1,c=this._model.data,d=this._model.default_state;do{h="j"+this._id+"_"+ ++this._cnt}while(c[h]);for(s in l={id:!1,text:"string"==typeof e?e:"",icon:"object"!=typeof e||e.icon===t||e.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},d)d.hasOwnProperty(s)&&(l.state[s]=d[s]);if(e&&(e.id||0===e.id)&&(l.id=e.id.toString()),e&&e.text&&(l.text=e.text),e&&e.data&&e.data.jstree&&e.data.jstree.icon&&(l.icon=e.data.jstree.icon),l.icon!==t&&null!==l.icon&&""!==l.icon||(l.icon=!0),e&&e.data&&(l.data=e.data,e.data.jstree))for(s in e.data.jstree)e.data.jstree.hasOwnProperty(s)&&(l.state[s]=e.data.jstree[s]);if(e&&"object"==typeof e.state)for(s in e.state)e.state.hasOwnProperty(s)&&(l.state[s]=e.state[s]);if(e&&"object"==typeof e.li_attr)for(s in e.li_attr)e.li_attr.hasOwnProperty(s)&&(l.li_attr[s]=e.li_attr[s]);if(l.li_attr.id&&!l.id&&0!==l.id&&(l.id=l.li_attr.id.toString()),l.id||0===l.id||(l.id=h),l.li_attr.id||(l.li_attr.id=l.id),e&&"object"==typeof e.a_attr)for(s in e.a_attr)e.a_attr.hasOwnProperty(s)&&(l.a_attr[s]=e.a_attr[s]);if(e&&e.children&&e.children.length){for(s=0,n=e.children.length;s<n;s++)a=c[o=this._parse_model_from_json(e.children[s],l.id,r)],l.children.push(o),a.children_d.length&&(l.children_d=l.children_d.concat(a.children_d));l.children_d=l.children.concat(l.children_d)}return e&&e.children&&!0===e.children&&(l.state.loaded=!1,l.children=[],l.children_d=[]),delete e.data,delete e.children,l.original=e,c[l.id]=l,l.state.selected&&this._data.core.selected.push(l.id),l.id},_redraw:function(){var t,i,r,s=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),n=l.createElement("UL"),o=this._data.core.focused;for(i=0,r=s.length;i<r;i++)(t=this.redraw_node(s[i],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&n.appendChild(t);this._model.force_full_redraw&&(n.className=this.get_container_ul()[0].className,n.setAttribute("role","presentation"),this.element.empty().append(n)),null!==o&&this.settings.core.restore_focus&&((t=this.get_node(o,!0))&&t.length&&t.children(".jstree-anchor")[0]!==l.activeElement?t.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:s})},redraw:function(e){e&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(t){var i=this.get_node(t),r=!1,s=!1,n=!1,o=l;if(!i)return!1;if(i.id===e.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for((n=o.createElement("UL")).setAttribute("role","group"),n.className="jstree-children",r=0,s=i.children.length;r<s;r++)n.appendChild(this.redraw_node(i.children[r],!0,!0));t.appendChild(n)}},redraw_node:function(t,i,r,s){var n=this.get_node(t),o=!1,a=!1,h=!1,c=!1,d=!1,u=!1,p="",f=l,m=this._model.data,g=!1,y=null,v=0,b=0,w=!1,_=!1;if(!n)return!1;if(n.id===e.jstree.root)return this.redraw(!0);if(i=i||0===n.children.length,t=l.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(n.id[0])?"\\3"+n.id[0]+" "+n.id.substr(1).replace(e.jstree.idregex,"\\$&"):n.id.replace(e.jstree.idregex,"\\$&"))):l.getElementById(n.id))t=e(t),r||((o=t.parent().parent()[0])===this.element[0]&&(o=null),a=t.index()),i||!n.children.length||t.children(".jstree-children").length||(i=!0),i||(h=t.children(".jstree-children")[0]),g=t.children(".jstree-anchor")[0]===l.activeElement,t.remove();else if(i=!0,!r){if(!(null===(o=n.parent!==e.jstree.root?e("#"+n.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null)||o&&m[n.parent].state.opened))return!1;a=e.inArray(n.id,null===o?m[e.jstree.root].children:m[n.parent].children)}for(c in t=this._data.core.node.cloneNode(!0),p="jstree-node ",n.li_attr)if(n.li_attr.hasOwnProperty(c)){if("id"===c)continue;"class"!==c?t.setAttribute(c,n.li_attr[c]):p+=n.li_attr[c]}for(n.a_attr.id||(n.a_attr.id=n.id+"_anchor"),t.childNodes[1].setAttribute("aria-selected",!!n.state.selected),t.childNodes[1].setAttribute("aria-level",n.parents.length),this.settings.core.compute_elements_positions&&(t.childNodes[1].setAttribute("aria-setsize",m[n.parent].children.length),t.childNodes[1].setAttribute("aria-posinset",m[n.parent].children.indexOf(n.id)+1)),n.state.disabled&&t.childNodes[1].setAttribute("aria-disabled",!0),c=0,d=n.children.length;c<d;c++)if(!m[n.children[c]].state.hidden){w=!0;break}if(null!==n.parent&&m[n.parent]&&!n.state.hidden&&(c=e.inArray(n.id,m[n.parent].children),_=n.id,-1!==c))for(c++,d=m[n.parent].children.length;c<d&&(m[m[n.parent].children[c]].state.hidden||(_=m[n.parent].children[c]),_===n.id);c++);for(d in n.state.hidden&&(p+=" jstree-hidden"),n.state.loading&&(p+=" jstree-loading"),n.state.loaded&&!w?p+=" jstree-leaf":(p+=n.state.opened&&n.state.loaded?" jstree-open":" jstree-closed",t.childNodes[1].setAttribute("aria-expanded",n.state.opened&&n.state.loaded)),_===n.id&&(p+=" jstree-last"),t.id=n.id,t.className=p,p=(n.state.selected?" jstree-clicked":"")+(n.state.disabled?" jstree-disabled":""),n.a_attr)if(n.a_attr.hasOwnProperty(d)){if("href"===d&&"#"===n.a_attr[d])continue;"class"!==d?t.childNodes[1].setAttribute(d,n.a_attr[d]):p+=" "+n.a_attr[d]}if(p.length&&(t.childNodes[1].className="jstree-anchor "+p),(n.icon&&!0!==n.icon||!1===n.icon)&&(!1===n.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===n.icon.indexOf("/")&&-1===n.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+n.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+n.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(f.createTextNode(n.text)):t.childNodes[1].innerHTML+=n.text,i&&n.children.length&&(n.state.opened||s)&&n.state.loaded){for((u=f.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",c=0,d=n.children.length;c<d;c++)u.appendChild(this.redraw_node(n.children[c],i,!0));t.appendChild(u)}if(h&&t.appendChild(h),!r){for(o||(o=this.element[0]),c=0,d=o.childNodes.length;c<d;c++)if(o.childNodes[c]&&o.childNodes[c].className&&-1!==o.childNodes[c].className.indexOf("jstree-children")){y=o.childNodes[c];break}y||((y=f.createElement("UL")).setAttribute("role","group"),y.className="jstree-children",o.appendChild(y)),a<(o=y).childNodes.length?o.insertBefore(t,o.childNodes[a]):o.appendChild(t),g&&(v=this.element[0].scrollTop,b=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=v,this.element[0].scrollLeft=b)}return n.state.opened&&!n.state.loaded&&(n.state.opened=!1,setTimeout(function(){this.open_node(n.id,!1,0)}.bind(this),0)),t},open_node:function(i,r,s){var n,o,a,l;if(e.vakata.is_array(i)){for(n=0,o=(i=i.slice()).length;n<o;n++)this.open_node(i[n],r,s);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(s=s===t?this.settings.core.animation:s,this.is_closed(i)?this.is_loaded(i)?(a=this.get_node(i,!0),l=this,a.length&&(s&&a.children(".jstree-children").length&&a.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(a.children(".jstree-children")[0])&&this.draw_children(i),s?(this.trigger("before_open",{node:i}),a.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(s,(function(){this.style.display="",l.element&&l.trigger("after_open",{node:i})}))):(this.trigger("before_open",{node:i}),a[0].className=a[0].className.replace("jstree-closed","jstree-open"),a[0].childNodes[1].setAttribute("aria-expanded",!0))),i.state.opened=!0,r&&r.call(this,i,!0),a.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),s&&a.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(function(){this.open_node(i,r,s)}.bind(this),500):void this.load_node(i,(function(e,t){return t?this.open_node(e,r,s):!!r&&r.call(this,e,!1)})):(r&&r.call(this,i,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i,r,s=t.parents;for(i=0,r=s.length;i<r;i+=1)i!==e.jstree.root&&this.open_node(s[i],!1,0);return e("#"+t.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(i,r){var s,n,o,a;if(e.vakata.is_array(i)){for(s=0,n=(i=i.slice()).length;s<n;s++)this.close_node(i[s],r);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(!this.is_closed(i)&&(r=r===t?this.settings.core.animation:r,o=this,a=this.get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(a.length?r?a.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(r,(function(){this.style.display="",a.children(".jstree-children").remove(),o.element&&o.trigger("after_close",{node:i})})):(a[0].className=a[0].className.replace("jstree-open","jstree-closed"),a.children(".jstree-anchor").attr("aria-expanded",!1),a.children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i}))))},toggle_node:function(t){var i,r;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,r){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var s,n,o,a=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0);if(!a.length){for(s=0,n=t.children_d.length;s<n;s++)this.is_closed(this._model.data[t.children_d[s]])&&(this._model.data[t.children_d[s]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||a,o=this,(a=this.is_closed(t)?a.find(".jstree-closed").addBack():a.find(".jstree-closed")).each((function(){o.open_node(this,(function(e,t){t&&this.is_parent(e)&&this.open_all(e,i,r)}),i||0)})),0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,i){if(t||(t=e.jstree.root),!(t=this.get_node(t)))return!1;var r,s,n=t.id===e.jstree.root?this.get_container_ul():this.get_node(t,!0),o=this;for(n.length&&(n=this.is_open(t)?n.find(".jstree-open").addBack():n.find(".jstree-open"),e(n.get().reverse()).each((function(){o.close_node(this,i||0)}))),r=0,s=t.children_d.length;r<s;r++)this._model.data[t.children_d[r]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(e){return(e=this.get_node(e))&&e.state&&e.state.disabled},enable_node:function(t){var i,r;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.enable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!1,this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:t})},disable_node:function(t){var i,r;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.disable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.disabled=!0,this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:t})},is_hidden:function(e){return!0===(e=this.get_node(e)).state.hidden},hide_node:function(t,i){var r,s;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.hide_node(t[r],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,i){var r,s;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.show_node(t[r],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var i,r=this._model.data,s=[];for(i in r)r.hasOwnProperty(i)&&i!==e.jstree.root&&!r[i].state.hidden&&(r[i].state.hidden=!0,s.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:s}),s},show_all:function(t){var i,r=this._model.data,s=[];for(i in r)r.hasOwnProperty(i)&&i!==e.jstree.root&&r[i].state.hidden&&(r[i].state.hidden=!1,s.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:s}),s},activate_node:function(e,i){if(this.is_disabled(e))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(e)&&this.get_parent(e)===this._data.core.last_clicked.parent))if(i.shiftKey){var r,s,n=this.get_node(e).id,o=this._data.core.last_clicked.id,a=this.get_node(this._data.core.last_clicked.parent).children,l=!1;for(r=0,s=a.length;r<s;r+=1)a[r]===n&&(l=!l),a[r]===o&&(l=!l),this.is_disabled(a[r])||!l&&a[r]!==n&&a[r]!==o?i.ctrlKey||this.deselect_node(a[r],!0,i):this.is_hidden(a[r])||this.select_node(a[r],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(e),selected:this._data.core.selected,event:i})}else this.is_selected(e)?this.deselect_node(e,!1,i):(i.ctrlKey&&(this._data.core.last_clicked=this.get_node(e)),this.select_node(e,!1,!1,i));else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(e)?this.deselect_node(e,!1,i):(!this.settings.core.allow_reselect&&this.is_selected(e)&&1===this._data.core.selected.length||(this.deselect_all(!0),this.select_node(e,!1,!1,i)),this._data.core.last_clicked=this.get_node(e));this.trigger("activate_node",{node:this.get_node(e),event:i})},hover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||e.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t),e.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(e)}),setTimeout((function(){i.attr("aria-activedescendant",e[0].id)}),0)},dehover_node:function(e){if(!(e=this.get_node(e,!0))||!e.length||!e.children(".jstree-hovered").length)return!1;e.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(e)})},select_node:function(t,i,r,s){var n,o,a;if(e.vakata.is_array(t)){for(o=0,a=(t=t.slice()).length;o<a;o++)this.select_node(t[o],i,r,s);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),r||(n=this._open_to(t)),n&&n.length&&n.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:s}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:s}))},deselect_node:function(t,i,r){var s,n,o;if(e.vakata.is_array(t)){for(s=0,n=(t=t.slice()).length;s<n;s++)this.deselect_node(t[s],i,r);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;o=this.get_node(t,!0),t.state.selected&&(t.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,t.id),o.length&&o.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var i,r,s=this._data.core.selected.concat([]);for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),i=0,r=this._data.core.selected.length;i<r;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:s})},deselect_all:function(e){var t,i,r=this._data.core.selected.concat([]);for(t=0,i=this._data.core.selected.length;t<i;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:r}),e||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:r})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.selected},get_selected:function(t){return t?e.map(this._data.core.selected,function(e){return this.get_node(e)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(t){var i,r,s,n,o=this.get_selected(!0),a={};for(i=0,r=o.length;i<r;i++)a[o[i].id]=o[i];for(i=0,r=o.length;i<r;i++)for(s=0,n=o[i].children_d.length;s<n;s++)a[o[i].children_d[s]]&&delete a[o[i].children_d[s]];for(i in o=[],a)a.hasOwnProperty(i)&&o.push(i);return t?e.map(o,function(e){return this.get_node(e)}.bind(this)):o},get_bottom_selected:function(t){var i,r,s=this.get_selected(!0),n=[];for(i=0,r=s.length;i<r;i++)s[i].children.length||n.push(s[i].id);return t?e.map(n,function(e){return this.get_node(e)}.bind(this)):n},get_state:function(){var t,i={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==e.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&i.core.loaded.push(t),this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,r){if(i){if(i.core&&i.core.selected&&i.core.initial_selection===t&&(i.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),i.core){var s,n;if(i.core.loaded)return this.settings.core.loaded_state&&e.vakata.is_array(i.core.loaded)&&i.core.loaded.length?this._load_nodes(i.core.loaded,(function(e){delete i.core.loaded,this.set_state(i,r)})):(delete i.core.loaded,this.set_state(i,r)),!1;if(i.core.open)return e.vakata.is_array(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,(function(e){this.open_node(e,!1,0),delete i.core.open,this.set_state(i,r)})):(delete i.core.open,this.set_state(i,r)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,r),!1;if(i.core.selected)return s=this,i.core.initial_selection!==t&&i.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),e.each(i.core.selected,(function(e,t){s.select_node(t,!1,!0)}))),delete i.core.initial_selection,delete i.core.selected,this.set_state(i,r),!1;for(n in i)i.hasOwnProperty(n)&&"core"!==n&&-1===e.inArray(n,this.settings.plugins)&&delete i[n];if(e.isEmptyObject(i.core))return delete i.core,this.set_state(i,r),!1}return!e.isEmptyObject(i)||(i=null,r&&r.call(this),this.trigger("set_state"),!1)}return!1},refresh:function(t,i){this._data.core.state=!0===i?{}:this.get_state(),i&&e.vakata.is_function(i)&&(this._data.core.state=i.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,(function(t,i){i&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),(function(){this.trigger("refresh")}))),this._data.core.state=null}))},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var i=[],r=[],s=this._data.core.selected.concat([]);r.push(t.id),!0===t.state.opened&&i.push(t.id),this.get_node(t,!0).find(".jstree-open").each((function(){r.push(this.id),i.push(this.id)})),this._load_nodes(r,function(e){this.open_node(i,!1,0),this.select_node(s),this.trigger("refresh_node",{node:t,nodes:e})}.bind(this),!1,!0)},set_id:function(t,i){if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;var r,s,n=this._model.data,o=t.id;for(i=i.toString(),n[t.parent].children[e.inArray(t.id,n[t.parent].children)]=i,r=0,s=t.parents.length;r<s;r++)n[t.parents[r]].children_d[e.inArray(t.id,n[t.parents[r]].children_d)]=i;for(r=0,s=t.children.length;r<s;r++)n[t.children[r]].parent=i;for(r=0,s=t.children_d.length;r<s;r++)n[t.children_d[r]].parents[e.inArray(t.id,n[t.children_d[r]].parents)]=i;return-1!==(r=e.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=i),(r=this.get_node(t.id,!0))&&(r.attr("id",i),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete n[t.id],t.id=i,t.li_attr.id=i,n[i]=t,this.trigger("set_id",{node:t,new:t.id,old:o}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.text},set_text:function(t,i){var r,s;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.set_text(t[r],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,r){if(!(t=this.get_node(t||e.jstree.root)))return!1;i&&i.flat&&!r&&(r=[]);var s,n,o={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:e.extend(!0,{},t.li_attr),a_attr:e.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&e.extend(!0,e.vakata.is_array(t.data)?[]:{},t.data)};if(i&&i.flat?o.parent=t.parent:o.children=[],i&&i.no_state)delete o.state;else for(s in t.state)t.state.hasOwnProperty(s)&&(o.state[s]=t.state[s]);if(i&&i.no_li_attr&&delete o.li_attr,i&&i.no_a_attr&&delete o.a_attr,i&&i.no_id&&(delete o.id,o.li_attr&&o.li_attr.id&&delete o.li_attr.id,o.a_attr&&o.a_attr.id&&delete o.a_attr.id),i&&i.flat&&t.id!==e.jstree.root&&r.push(o),!i||!i.no_children)for(s=0,n=t.children.length;s<n;s++)i&&i.flat?this.get_json(t.children[s],i,r):o.children.push(this.get_json(t.children[s],i));return i&&i.flat?r:t.id===e.jstree.root?o.children:o},create_node:function(i,r,s,n,o){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return!1;if(!(s=s===t?"last":s).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return this.load_node(i,(function(){this.create_node(i,r,s,n,!0)}));var a,l,h,c;switch(r||(r={text:this.get_string("New node")}),(r="string"==typeof r?{text:r}:e.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),i.id===e.jstree.root&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":a=this.get_node(i.parent),s=e.inArray(i.id,a.children),i=a;break;case"after":a=this.get_node(i.parent),s=e.inArray(i.id,a.children)+1,i=a;break;case"inside":case"first":s=0;break;case"last":s=i.children.length;break;default:s||(s=0)}if(s>i.children.length&&(s=i.children.length),r.id===t&&(r.id=!0),!this.check("create_node",r,i,s))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,i.id,i.parents.concat())))return!1;for(a=this.get_node(r),(l=[]).push(r),l=l.concat(a.children_d),this.trigger("model",{nodes:l,parent:i.id}),i.children_d=i.children_d.concat(l),h=0,c=i.parents.length;h<c;h++)this._model.data[i.parents[h]].children_d=this._model.data[i.parents[h]].children_d.concat(l);for(r=a,a=[],h=0,c=i.children.length;h<c;h++)a[h>=s?h+1:h]=i.children[h];return a[s]=r.id,i.children=a,this.redraw_node(i,!0),this.trigger("create_node",{node:this.get_node(r),parent:i.id,position:s}),n&&n.call(this,this.get_node(r)),r.id},rename_node:function(t,i){var r,s,n;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.rename_node(t[r],i);return!0}return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&(n=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:n}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var i,r,s,n,o,a,l,h,c,d,u,p;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.delete_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;if(s=this.get_node(t.parent),n=e.inArray(t.id,s.children),d=!1,!this.check("delete_node",t,s,n))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==n&&(s.children=e.vakata.array_remove(s.children,n)),(o=t.children_d.concat([])).push(t.id),a=0,l=t.parents.length;a<l;a++)this._model.data[t.parents[a]].children_d=e.vakata.array_filter(this._model.data[t.parents[a]].children_d,(function(t){return-1===e.inArray(t,o)}));for(h=0,c=o.length;h<c;h++)if(this._model.data[o[h]].state.selected){d=!0;break}for(d&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,(function(t){return-1===e.inArray(t,o)}))),this.trigger("delete_node",{node:t,parent:s.id}),d&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:s.id}),h=0,c=o.length;h<c;h++)delete this._model.data[o[h]];return-1!==e.inArray(this._data.core.focused,o)&&(this._data.core.focused=null,u=this.element[0].scrollTop,p=this.element[0].scrollLeft,s.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(s,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=u,this.element[0].scrollLeft=p),this.redraw_node(s,!0),!0},check:function(t,i,r,s,n){i=i&&i.id?i:this.get_node(i),r=r&&r.id?r:this.get_node(r);var o=t.match(/^(move_node|copy_node|create_node)$/i)?r:i,a=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(n&&n.is_multi||"move_node"!==t||e.inArray(i.id,r.children)!==s))return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})},!1;if(!(n&&n.is_multi||i.id!==r.id&&("move_node"!==t||e.inArray(i.id,r.children)!==s)&&-1===e.inArray(r.id,i.children_d)))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})},!1}return o&&o.data&&(o=o.data),o&&o.functions&&(!1===o.functions[t]||!0===o.functions[t])?(!1===o.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),o.functions[t]):!(!1===a||e.vakata.is_function(a)&&!1===a.call(this,t,i,r,s,n)||a&&!1===a[t])||(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:s,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})},!1)},last_error:function(){return this._data.core.last_error},move_node:function(i,r,s,n,o,a,l){var h,c,d,u,p,f,m,g,y,v,b,w,_,k;if(r=this.get_node(r),s=s===t?0:s,!r)return!1;if(!s.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,(function(){this.move_node(i,r,s,n,!0,!1,l)}));if(e.vakata.is_array(i)){if(1!==i.length){for(h=0,c=i.length;h<c;h++)(y=this.move_node(i[h],r,s,n,o,!1,l))&&(r=y,s="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===e.jstree.root)return!1;if(d=(i.parent||e.jstree.root).toString(),p=s.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,m=!(f=l||(this._model.data[i.id]?this:e.jstree.reference(i.id)))||!f._id||this._id!==f._id,u=f&&f._id&&d&&f._model.data[d]&&f._model.data[d].children?e.inArray(i.id,f._model.data[d].children):-1,f&&f._id&&(i=f._model.data[i.id]),m)return!!(y=this.copy_node(i,r,s,n,o,!1,l))&&(f&&f.delete_node(i),y);switch(r.id===e.jstree.root&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":s=e.inArray(r.id,p.children);break;case"after":s=e.inArray(r.id,p.children)+1;break;case"inside":case"first":s=0;break;case"last":s=p.children.length;break;default:s||(s=0)}if(s>p.children.length&&(s=p.children.length),!this.check("move_node",i,p,s,{core:!0,origin:l,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===p.id){for(g=p.children.concat(),-1!==(y=e.inArray(i.id,g))&&(g=e.vakata.array_remove(g,y),s>y&&s--),y=[],v=0,b=g.length;v<b;v++)y[v>=s?v+1:v]=g[v];y[s]=i.id,p.children=y,this._node_changed(p.id),this.redraw(p.id===e.jstree.root)}else{for((y=i.children_d.concat()).push(i.id),v=0,b=i.parents.length;v<b;v++){for(g=[],w=0,_=(k=f._model.data[i.parents[v]].children_d).length;w<_;w++)-1===e.inArray(k[w],y)&&g.push(k[w]);f._model.data[i.parents[v]].children_d=g}for(f._model.data[d].children=e.vakata.array_remove_item(f._model.data[d].children,i.id),v=0,b=p.parents.length;v<b;v++)this._model.data[p.parents[v]].children_d=this._model.data[p.parents[v]].children_d.concat(y);for(g=[],v=0,b=p.children.length;v<b;v++)g[v>=s?v+1:v]=p.children[v];for(g[s]=i.id,p.children=g,p.children_d.push(i.id),p.children_d=p.children_d.concat(i.children_d),i.parent=p.id,(y=p.parents.concat()).unshift(p.id),k=i.parents.length,i.parents=y,y=y.concat(),v=0,b=i.children_d.length;v<b;v++)this._model.data[i.children_d[v]].parents=this._model.data[i.children_d[v]].parents.slice(0,-1*k),Array.prototype.push.apply(this._model.data[i.children_d[v]].parents,y);d!==e.jstree.root&&p.id!==e.jstree.root||(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(d),this._node_changed(p.id)),a||this.redraw()}return n&&n.call(this,i,p,s),this.trigger("move_node",{node:i,parent:p.id,position:s,old_parent:d,old_position:u,is_multi:f&&f._id&&f._id!==this._id,is_foreign:!f||!f._id,old_instance:f,new_instance:this}),i.id},copy_node:function(i,r,s,n,o,a,l){var h,c,d,u,p,f,m,g,y,v;if(r=this.get_node(r),s=s===t?0:s,!r)return!1;if(!s.toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(r))return this.load_node(r,(function(){this.copy_node(i,r,s,n,!0,!1,l)}));if(e.vakata.is_array(i)){if(1!==i.length){for(h=0,c=i.length;h<c;h++)(u=this.copy_node(i[h],r,s,n,o,!0,l))&&(r=u,s="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===e.jstree.root)return!1;switch(g=(i.parent||e.jstree.root).toString(),y=s.toString().match(/^(before|after)$/)&&r.id!==e.jstree.root?this.get_node(r.parent):r,!(v=l||(this._model.data[i.id]?this:e.jstree.reference(i.id)))||!v._id||this._id!==v._id,v&&v._id&&(i=v._model.data[i.id]),r.id===e.jstree.root&&("before"===s&&(s="first"),"after"===s&&(s="last")),s){case"before":s=e.inArray(r.id,y.children);break;case"after":s=e.inArray(r.id,y.children)+1;break;case"inside":case"first":s=0;break;case"last":s=y.children.length;break;default:s||(s=0)}if(s>y.children.length&&(s=y.children.length),!this.check("copy_node",i,y,s,{core:!0,origin:l,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(m=v?v.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i))return!1;if(!0===m.id&&delete m.id,!(m=this._parse_model_from_json(m,y.id,y.parents.concat())))return!1;for(u=this.get_node(m),i&&i.state&&!1===i.state.loaded&&(u.state.loaded=!1),(d=[]).push(m),d=d.concat(u.children_d),this.trigger("model",{nodes:d,parent:y.id}),p=0,f=y.parents.length;p<f;p++)this._model.data[y.parents[p]].children_d=this._model.data[y.parents[p]].children_d.concat(d);for(d=[],p=0,f=y.children.length;p<f;p++)d[p>=s?p+1:p]=y.children[p];return d[s]=u.id,y.children=d,y.children_d.push(u.id),y.children_d=y.children_d.concat(u.children_d),y.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(y.id),a||this.redraw(y.id===e.jstree.root),n&&n.call(this,u,y,s),this.trigger("copy_node",{node:u,original:i,parent:y.id,position:s,old_parent:g,old_position:v&&v._id&&g&&v._model.data[g]&&v._model.data[g].children?e.inArray(i.id,v._model.data[g].children):-1,is_multi:v&&v._id&&v._id!==this._id,is_foreign:!v||!v._id,old_instance:v,new_instance:this}),u.id},cut:function(t){if(t||(t=this._data.core.selected.concat()),e.vakata.is_array(t)||(t=[t]),!t.length)return!1;var i,o,a,l=[];for(o=0,a=t.length;o<a;o++)(i=this.get_node(t[o]))&&(i.id||0===i.id)&&i.id!==e.jstree.root&&l.push(i);if(!l.length)return!1;r=l,n=this,s="move_node",this.trigger("cut",{node:t})},copy:function(i){if(i||(i=this._data.core.selected.concat()),e.vakata.is_array(i)||(i=[i]),!i.length)return!1;var o,a,l,h=[];for(a=0,l=i.length;a<l;a++)(o=this.get_node(i[a]))&&o.id!==t&&o.id!==e.jstree.root&&h.push(o);if(!h.length)return!1;r=h,n=this,s="copy_node",this.trigger("copy",{node:i})},get_buffer:function(){return{mode:s,node:r,inst:n}},can_paste:function(){return!1!==s&&!1!==r},paste:function(e,t){if(!((e=this.get_node(e))&&s&&s.match(/^(copy_node|move_node)$/)&&r))return!1;this[s](r,e,t,!1,!1,!1,n)&&this.trigger("paste",{parent:e.id,node:r,mode:s}),r=!1,s=!1,n=!1},clear_buffer:function(){r=!1,s=!1,n=!1,this.trigger("clear_buffer")},edit:function(t,i,r){var s,n,o,a,h,c,d,u,p,f=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(p=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),p.text=i,s=this._data.core.rtl,n=this.element.width(),this._data.core.focused=p.id,o=t.children(".jstree-anchor").trigger("focus"),a=e("<span></span>"),h=i,c=e("<div></div>",{css:{position:"absolute",top:"-200px",left:s?"0px":"-1000px",visibility:"hidden"}}).appendTo(l.body),d=e("<input />",{value:h,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(i){i.stopImmediatePropagation(),i.preventDefault();var s,n=a.children(".jstree-rename-input").val(),l=this.settings.core.force_text;""===n&&(n=h),c.remove(),a.replaceWith(o),a.remove(),h=l?h:e("<div></div>").append(e.parseHTML(h)).html(),t=this.get_node(t),this.set_text(t,h),(s=!!this.rename_node(t,l?e("<div></div>").text(n).text():e("<div></div>").append(e.parseHTML(n)).html()))||this.set_text(t,h),this._data.core.focused=p.id,setTimeout(function(){var e=this.get_node(p.id,!0);e.length&&(this._data.core.focused=p.id,e.children(".jstree-anchor").trigger("focus"))}.bind(this),0),r&&r.call(this,p,s,f,n),d=null}.bind(this),keydown:function(e){var t=e.which;27===t&&(f=!0,this.value=h),27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||e.stopImmediatePropagation(),27!==t&&13!==t||(e.preventDefault(),this.blur())},click:function(e){e.stopImmediatePropagation()},mousedown:function(e){e.stopImmediatePropagation()},keyup:function(e){d.width(Math.min(c.text("pW"+this.value).width(),n))},keypress:function(e){if(13===e.which)return!1}}),u={fontFamily:o.css("fontFamily")||"",fontSize:o.css("fontSize")||"",fontWeight:o.css("fontWeight")||"",fontStyle:o.css("fontStyle")||"",fontStretch:o.css("fontStretch")||"",fontVariant:o.css("fontVariant")||"",letterSpacing:o.css("letterSpacing")||"",wordSpacing:o.css("wordSpacing")||""},a.attr("class",o.attr("class")).append(o.contents().clone()).append(d),o.replaceWith(a),c.css(u),d.css(u).width(Math.min(c.text("pW"+d[0].value).width(),n))[0].select(),void e(l).one("mousedown.jstree touchstart.jstree dnd_start.vakata",(function(t){d&&t.target!==d&&e(d).trigger("blur")}))):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,i){if(!t)return!1;if(!0===i){var r=this.settings.core.themes.dir;r||(r=e.jstree.path+"/themes"),i=r+"/"+t+"/style.css"}i&&-1===e.inArray(i,o)&&(e("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),o.push(i)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=t,this.element.addClass("jstree-"+t),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive"),this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(e){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=e,e&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,r){var s,n,o,a;if(e.vakata.is_array(i)){for(s=0,n=(i=i.slice()).length;s<n;s++)this.set_icon(i[s],r);return!0}return!(!(i=this.get_node(i))||i.id===e.jstree.root)&&(a=i.icon,i.icon=!0===r||null===r||r===t||""===r||r,o=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(o.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),this.hide_icon(i)):!0===r||null===r||r===t||""===r?(o.removeClass("jstree-themeicon-custom "+a).css("background","").removeAttr("rel"),!1===a&&this.show_icon(i)):-1===r.indexOf("/")&&-1===r.indexOf(".")?(o.removeClass(a).css("background",""),o.addClass(r+" jstree-themeicon-custom").attr("rel",r),!1===a&&this.show_icon(i)):(o.removeClass(a).css("background",""),o.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r),!1===a&&this.show_icon(i)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.icon},hide_icon:function(t){var i,r;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.hide_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,r,s;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.show_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===e.jstree.root)&&(s=this.get_node(t,!0),t.icon=!s.length||s.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),s.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(t,i){t=e(t)[0];var r=i?{}:[];return t&&t.attributes&&e.each(t.attributes,(function(t,s){-1===e.inArray(s.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==s.value&&""!==e.vakata.trim(s.value)&&(i?r[s.name]=s.value:r.push(s.name))})),r},e.vakata.array_unique=function(e){var i,r,s=[],n={};for(i=0,r=e.length;i<r;i++)n[e[i]]===t&&(s.push(e[i]),n[e[i]]=!0);return s},e.vakata.array_remove=function(e,t){return e.splice(t,1),e},e.vakata.array_remove_item=function(t,i){var r=e.inArray(i,t);return-1!==r?e.vakata.array_remove(t,r):t},e.vakata.array_filter=function(e,t,i,r,s){if(e.filter)return e.filter(t,i);for(s in r=[],e)~~s+""==s+""&&s>=0&&t.call(i,e[s],+s,e)&&r.push(e[s]);return r},e.vakata.trim=function(e){return String.prototype.trim?String.prototype.trim.call(e.toString()):e.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.vakata.is_function=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},e.vakata.is_array=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Function.prototype.bind||(Function.prototype.bind=function(){var e=this,t=arguments[0],i=Array.prototype.slice.call(arguments,1);if("function"!=typeof e)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var r=i.concat(Array.prototype.slice.call(arguments));return e.apply(t,r)}}),e.jstree.plugins.changed=function(e,t){var i=[];this.trigger=function(e,r){var s,n;if(r||(r={}),"changed"===e.replace(".jstree","")){r.changed={selected:[],deselected:[]};var o={};for(s=0,n=i.length;s<n;s++)o[i[s]]=1;for(s=0,n=r.selected.length;s<n;s++)o[r.selected[s]]?o[r.selected[s]]=2:r.changed.selected.push(r.selected[s]);for(s=0,n=i.length;s<n;s++)1===o[i[s]]&&r.changed.deselected.push(i[s]);i=r.selected.slice()}t.trigger.call(this,e,r)},this.refresh=function(e,r){return i=[],t.refresh.apply(this,arguments)}};var d,u,p=l.createElement("I");p.className="jstree-icon jstree-checkbox",p.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(i,r){this.bind=function(){r.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(e,t){var i,r,s=this._model.data,n=(s[t.parent],t.nodes);for(i=0,r=n.length;i<r;i++)s[n[i]].state.checked=s[n[i]].state.checked||s[n[i]].original&&s[n[i]].original.state&&s[n[i]].original.state.checked,s[n[i]].state.checked&&this._data.checkbox.selected.push(n[i])}.bind(this)),-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(t,i){var r,s,n,o,a,l,h=this._model.data,c=h[i.parent],d=i.nodes,u=[],p=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==p.indexOf("down"))if(c.state[f?"selected":"checked"]){for(s=0,n=d.length;s<n;s++)h[d[s]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(d)}else for(s=0,n=d.length;s<n;s++)if(h[d[s]].state[f?"selected":"checked"]){for(o=0,a=h[d[s]].children_d.length;o<a;o++)h[h[d[s]].children_d[o]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(h[d[s]].children_d)}if(-1!==p.indexOf("up")){for(s=0,n=c.children_d.length;s<n;s++)h[c.children_d[s]].children.length||u.push(h[c.children_d[s]].parent);for(o=0,a=(u=e.vakata.array_unique(u)).length;o<a;o++)for(c=h[u[o]];c&&c.id!==e.jstree.root;){for(r=0,s=0,n=c.children.length;s<n;s++)r+=h[c.children[s]].state[f?"selected":"checked"];if(r!==n)break;c.state[f?"selected":"checked"]=!0,this._data[f?"core":"checkbox"].selected.push(c.id),(l=this.get_node(c,!0))&&l.length&&l.children(".jstree-anchor").attr("aria-selected",!0).addClass(f?"jstree-clicked":"jstree-checked"),c=this.get_node(c.parent)}}this._data[f?"core":"checkbox"].selected=e.vakata.array_unique(this._data[f?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(t,i){var r,s,n,o,a=i.node,l=this._model.data,h=this.get_node(a.parent),c=this.settings.checkbox.cascade,d=this.settings.checkbox.tie_selection,u={},p=this._data[d?"core":"checkbox"].selected;for(r=0,s=p.length;r<s;r++)u[p[r]]=!0;if(-1!==c.indexOf("down")){var f=this._cascade_new_checked_state(a.id,!0),m=a.children_d.concat(a.id);for(r=0,s=m.length;r<s;r++)f.indexOf(m[r])>-1?u[m[r]]=!0:delete u[m[r]]}if(-1!==c.indexOf("up"))for(;h&&h.id!==e.jstree.root;){for(n=0,r=0,s=h.children.length;r<s;r++)n+=l[h.children[r]].state[d?"selected":"checked"];if(n!==s)break;h.state[d?"selected":"checked"]=!0,u[h.id]=!0,(o=this.get_node(h,!0))&&o.length&&o.children(".jstree-anchor").attr("aria-selected",!0).addClass(d?"jstree-clicked":"jstree-checked"),h=this.get_node(h.parent)}for(r in p=[],u)u.hasOwnProperty(r)&&p.push(r);this._data[d?"core":"checkbox"].selected=p}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(t,i){var r,s,n,o=this.get_node(e.jstree.root),a=this._model.data;for(r=0,s=o.children_d.length;r<s;r++)(n=a[o.children_d[r]])&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(t,i){var r,s,n,o=i.node,a=(this.get_node(o,!0),this.settings.checkbox.cascade),l=this.settings.checkbox.tie_selection,h=this._data[l?"core":"checkbox"].selected,c=o.children_d.concat(o.id);if(-1!==a.indexOf("down")){var d=this._cascade_new_checked_state(o.id,!1);h=e.vakata.array_filter(h,(function(e){return-1===c.indexOf(e)||d.indexOf(e)>-1}))}if(-1!==a.indexOf("up")&&-1===h.indexOf(o.id)){for(r=0,s=o.parents.length;r<s;r++)(n=this._model.data[o.parents[r]]).state[l?"selected":"checked"]=!1,n&&n.original&&n.original.state&&n.original.state.undetermined&&(n.original.state.undetermined=!1),(n=this.get_node(o.parents[r],!0))&&n.length&&n.children(".jstree-anchor").attr("aria-selected",!1).removeClass(l?"jstree-clicked":"jstree-checked");h=e.vakata.array_filter(h,(function(e){return-1===o.parents.indexOf(e)}))}this._data[l?"core":"checkbox"].selected=h}.bind(this)),-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(t,i){for(var r,s,n,o,a=this.get_node(i.parent),l=this._model.data,h=this.settings.checkbox.tie_selection;a&&a.id!==e.jstree.root&&!a.state[h?"selected":"checked"];){for(n=0,r=0,s=a.children.length;r<s;r++)n+=l[a.children[r]].state[h?"selected":"checked"];if(!(s>0&&n===s))break;a.state[h?"selected":"checked"]=!0,this._data[h?"core":"checkbox"].selected.push(a.id),(o=this.get_node(a,!0))&&o.length&&o.children(".jstree-anchor").attr("aria-selected",!0).addClass(h?"jstree-clicked":"jstree-checked"),a=this.get_node(a.parent)}}.bind(this)).on("move_node.jstree",function(t,i){var r,s,n,o,a,l=i.is_multi,h=i.old_parent,c=this.get_node(i.parent),d=this._model.data,u=this.settings.checkbox.tie_selection;if(!l)for(r=this.get_node(h);r&&r.id!==e.jstree.root&&!r.state[u?"selected":"checked"];){for(s=0,n=0,o=r.children.length;n<o;n++)s+=d[r.children[n]].state[u?"selected":"checked"];if(!(o>0&&s===o))break;r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(a=this.get_node(r,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked"),r=this.get_node(r.parent)}for(r=c;r&&r.id!==e.jstree.root;){for(s=0,n=0,o=r.children.length;n<o;n++)s+=d[r.children[n]].state[u?"selected":"checked"];if(s===o)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(a=this.get_node(r,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1,this._data[u?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id),(a=this.get_node(r,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!1).removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}}.bind(this))},this.get_undetermined=function(i){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];var r,s,n,o,a={},l=this._model.data,h=this.settings.checkbox.tie_selection,c=this._data[h?"core":"checkbox"].selected,d=[],u=this,p=[];for(r=0,s=c.length;r<s;r++)if(l[c[r]]&&l[c[r]].parents)for(n=0,o=l[c[r]].parents.length;n<o&&a[l[c[r]].parents[n]]===t;n++)l[c[r]].parents[n]!==e.jstree.root&&(a[l[c[r]].parents[n]]=!0,d.push(l[c[r]].parents[n]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each((function(){var i,h=u.get_node(this);if(h)if(h.state.loaded){for(r=0,s=h.children_d.length;r<s;r++)if(!(i=l[h.children_d[r]]).state.loaded&&i.original&&i.original.state&&i.original.state.undetermined&&!0===i.original.state.undetermined)for(a[i.id]===t&&i.id!==e.jstree.root&&(a[i.id]=!0,d.push(i.id)),n=0,o=i.parents.length;n<o;n++)a[i.parents[n]]===t&&i.parents[n]!==e.jstree.root&&(a[i.parents[n]]=!0,d.push(i.parents[n]))}else if(h.original&&h.original.state&&h.original.state.undetermined&&!0===h.original.state.undetermined)for(a[h.id]===t&&h.id!==e.jstree.root&&(a[h.id]=!0,d.push(h.id)),n=0,o=h.parents.length;n<o;n++)a[h.parents[n]]===t&&h.parents[n]!==e.jstree.root&&(a[h.parents[n]]=!0,d.push(h.parents[n]))})),r=0,s=d.length;r<s;r++)l[d[r]].state[h?"selected":"checked"]||p.push(i?l[d[r]]:d[r]);return p},this._undetermined=function(){if(null!==this.element){var e,t,i,r=this.get_undetermined(!1);for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),e=0,t=r.length;e<t;e++)(i=this.get_node(r[e],!0))&&i.length&&i.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(e,t,i,s){if(e=r.redraw_node.apply(this,arguments)){var n,o,a=null,l=null;for(n=0,o=e.childNodes.length;n<o;n++)if(e.childNodes[n]&&e.childNodes[n].className&&-1!==e.childNodes[n].className.indexOf("jstree-anchor")){a=e.childNodes[n];break}a&&(!this.settings.checkbox.tie_selection&&this._model.data[e.id].state.checked&&(a.className+=" jstree-checked"),l=p.cloneNode(!1),this._model.data[e.id].state.checkbox_disabled&&(l.className+=" jstree-checkbox-disabled"),a.insertBefore(l,a.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),e},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(t){t=this.get_node(t);var i,r,s=this.settings.checkbox.cascade,n=this.settings.checkbox.tie_selection,o=this._data[n?"core":"checkbox"].selected,a=this._model.data;if(!t||!0===t.state[n?"selected":"checked"]||-1===s.indexOf("undetermined")||-1===s.indexOf("down")&&-1===s.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(i=0,r=t.children_d.length;i<r;i++)if(-1!==e.inArray(t.children_d[i],o)||!a[t.children_d[i]].state.loaded&&a[t.children_d[i]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(t){var i,r,s;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.disable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,s&&s.length&&s.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))},this.enable_checkbox=function(t){var i,r,s;if(e.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.enable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;s=this.get_node(t,!0),t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,s&&s.length&&s.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))},this.activate_node=function(t,i){return!e(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(i.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))},this.delete_node=function(t){if(this.settings.checkbox.tie_selection||e.vakata.is_array(t))return r.delete_node.call(this,t);var i,s,n,o=!1;if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;for((i=t.children_d.concat([])).push(t.id),s=0,n=i.length;s<n;s++)if(this._model.data[i[s]].state.checked){o=!0;break}return o&&(this._data.checkbox.selected=e.vakata.array_filter(this._data.checkbox.selected,(function(t){return-1===e.inArray(t,i)}))),r.delete_node.call(this,t)},this._cascade_new_checked_state=function(e,t){var i,r,s,n=this.settings.checkbox.tie_selection,o=this._model.data[e],a=[],l=[];if(!this.settings.checkbox.cascade_to_disabled&&o.state.disabled||!this.settings.checkbox.cascade_to_hidden&&o.state.hidden)s=this.get_checked_descendants(e),o.state[n?"selected":"checked"]&&s.push(o.id),a=a.concat(s);else{if(o.children)for(i=0,r=o.children.length;i<r;i++){var h=o.children[i];s=this._cascade_new_checked_state(h,t),a=a.concat(s),s.indexOf(h)>-1&&l.push(h)}var c=this.get_node(o,!0),d=l.length>0&&l.length<o.children.length;o.original&&o.original.state&&o.original.state.undetermined&&(o.original.state.undetermined=d),d?(o.state[n?"selected":"checked"]=!1,c.children(".jstree-anchor").attr("aria-selected",!1).removeClass(n?"jstree-clicked":"jstree-checked")):t&&l.length===o.children.length?(o.state[n?"selected":"checked"]=t,a.push(o.id),c.children(".jstree-anchor").attr("aria-selected",!0).addClass(n?"jstree-clicked":"jstree-checked")):(o.state[n?"selected":"checked"]=!1,c.children(".jstree-anchor").attr("aria-selected",!1).removeClass(n?"jstree-clicked":"jstree-checked"))}return a},this.get_checked_descendants=function(t){var i=this,r=i.settings.checkbox.tie_selection,s=i._model.data[t];return e.vakata.array_filter(s.children_d,(function(e){return i._model.data[e].state[r?"selected":"checked"]}))},this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var r,s,n;if(e.vakata.is_array(t)){for(s=0,n=(t=t.slice()).length;s<n;s++)this.check_node(t[s],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;r=this.get_node(t,!0),t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var r,s,n;if(e.vakata.is_array(t)){for(r=0,s=(t=t.slice()).length;r<s;r++)this.uncheck_node(t[r],i);return!0}if(!(t=this.get_node(t))||t.id===e.jstree.root)return!1;n=this.get_node(t,!0),t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,t.id),n.length&&n.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var t,i;this._data.checkbox.selected.concat([]);for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var e,t,i=this._data.checkbox.selected.concat([]);for(e=0,t=this._data.checkbox.selected.length;e<t;e++)this._model.data[this._data.checkbox.selected[e]]&&(this._model.data[this._data.checkbox.selected[e]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:i})},this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===e.jstree.root)&&t.state.checked},this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?e.map(this._data.checkbox.selected,function(e){return this.get_node(e)}.bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);var i,r,s,n,o=this.get_checked(!0),a={};for(i=0,r=o.length;i<r;i++)a[o[i].id]=o[i];for(i=0,r=o.length;i<r;i++)for(s=0,n=o[i].children_d.length;s<n;s++)a[o[i].children_d[s]]&&delete a[o[i].children_d[s]];for(i in o=[],a)a.hasOwnProperty(i)&&o.push(i);return t?e.map(o,function(e){return this.get_node(e)}.bind(this)):o},this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);var i,r,s=this.get_checked(!0),n=[];for(i=0,r=s.length;i<r;i++)s[i].children.length||n.push(s[i].id);return t?e.map(n,function(e){return this.get_node(e)}.bind(this)):n},this.load_node=function(t,i){var s,n,o;if(!e.vakata.is_array(t)&&!this.settings.checkbox.tie_selection&&(o=this.get_node(t))&&o.state.loaded)for(s=0,n=o.children_d.length;s<n;s++)this._model.data[o.children_d[s]].state.checked&&(!0,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,o.children_d[s]));return r.load_node.apply(this,arguments)},this.get_state=function(){var e=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(e.checkbox=this._data.checkbox.selected.slice()),e},this.set_state=function(t,i){var s=r.set_state.apply(this,arguments);if(s&&t.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var n=this;e.each(t.checkbox,(function(e,t){n.check_node(t)}))}return delete t.checkbox,this.set_state(t,i),!1}return s},this.refresh=function(e,t){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(e,t){this.activate_node=function(e,i){if(this.settings.conditionalselect.call(this,this.get_node(e),i))return t.activate_node.call(this,e,i)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(t,i){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.create_node(r,{},"last",(function(e){try{i.edit(e)}catch(t){setTimeout((function(){i.edit(e)}),0)}}))}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.edit(r)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.delete_node(i.get_selected()):i.delete_node(r)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.cut(i.get_top_selected()):i.cut(r)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.is_selected(r)?i.copy(i.get_top_selected()):i.copy(r)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!e.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=e.jstree.reference(t.reference),r=i.get_node(t.reference);i.paste(r)}}}}}}},e.jstree.plugins.contextmenu=function(i,r){this.bind=function(){r.bind.call(this);var t,i,s=0,n=null;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(e,t){"input"!==e.target.tagName.toLowerCase()&&(e.preventDefault(),s=e.ctrlKey?+new Date:0,(t||n)&&(s=+new Date+1e4),n&&clearTimeout(n),this.is_loading(e.currentTarget)||this.show_contextmenu(e.currentTarget,e.pageX,e.pageY,e))}.bind(this)).on("click.jstree",".jstree-anchor",function(t){this._data.contextmenu.visible&&(!s||+new Date-s>250)&&e.vakata.context.hide(),s=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",(function(r){r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(t=r.originalEvent.changedTouches[0].clientX,i=r.originalEvent.changedTouches[0].clientY,n=setTimeout((function(){e(r.currentTarget).trigger("contextmenu",!0)}),750))})).on("touchmove.vakata.jstree",(function(r){n&&r.originalEvent&&r.originalEvent.changedTouches&&r.originalEvent.changedTouches[0]&&(Math.abs(t-r.originalEvent.changedTouches[0].clientX)>10||Math.abs(i-r.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(n),e.vakata.context.hide())})).on("touchend.vakata.jstree",(function(e){n&&clearTimeout(n)})),e(l).on("context_hide.vakata.jstree",function(t,i){this._data.contextmenu.visible=!1,e(i.reference).removeClass("jstree-context")}.bind(this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),e(l).off("context_hide.vakata.jstree"),r.teardown.call(this)},this.show_contextmenu=function(i,r,s,n){if(!(i=this.get_node(i))||i.id===e.jstree.root)return!1;var o=this.settings.contextmenu,a=this.get_node(i,!0).children(".jstree-anchor"),l=!1,h=!1;(o.show_at_node||r===t||s===t)&&(l=a.offset(),r=l.left,s=l.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,n),h=o.items,e.vakata.is_function(h)&&(h=h.call(this,i,function(e){this._show_contextmenu(i,r,s,e)}.bind(this))),e.isPlainObject(h)&&this._show_contextmenu(i,r,s,h)},this._show_contextmenu=function(t,i,r,s){var n=this.get_node(t,!0).children(".jstree-anchor");e(l).one("context_show.vakata.jstree",function(t,i){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(i.element).addClass(r),n.addClass("jstree-context")}.bind(this)),this._data.contextmenu.visible=!0,e.vakata.context.show(n,{x:i,y:r},s),this.trigger("show_contextmenu",{node:t,x:i,y:r})}},function(e){var t=!1,i={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};e.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(t){e(l).triggerHandler("context_"+t+".vakata",{reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_execute:function(t){return!(!(t=i.items[t])||t._disabled&&(!e.vakata.is_function(t._disabled)||t._disabled({item:t,reference:i.reference,element:i.element}))||!t.action)&&t.action.call(null,{item:t,reference:i.reference,element:i.element,position:{x:i.position_x,y:i.position_y}})},_parse:function(t,r){if(!t)return!1;r||(i.html="",i.items=[]);var s,n="",o=!1;return r&&(n+="<ul>"),e.each(t,(function(t,r){if(!r)return!0;i.items.push(r),!o&&r.separator_before&&(n+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),o=!1,n+="<li class='"+(r._class||"")+(!0===r._disabled||e.vakata.is_function(r._disabled)&&r._disabled({item:r,reference:i.reference,element:i.element})?" vakata-contextmenu-disabled ":"")+"' "+(r.shortcut?" data-shortcut='"+r.shortcut+"' ":"")+">",n+="<a href='#' rel='"+(i.items.length-1)+"' "+(r.title?"title='"+r.title+"'":"")+">",e.vakata.context.settings.icons&&(n+="<i ",r.icon&&(-1!==r.icon.indexOf("/")||-1!==r.icon.indexOf(".")?n+=" style='background:url(\""+r.icon+"\") center center no-repeat' ":n+=" class='"+r.icon+"' "),n+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),n+=(e.vakata.is_function(r.label)?r.label({item:t,reference:i.reference,element:i.element}):r.label)+(r.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+r.shortcut+'">'+(r.shortcut_label||"")+"</span>":"")+"</a>",r.submenu&&(s=e.vakata.context._parse(r.submenu,!0))&&(n+=s),n+="</li>",r.separator_after&&(n+="<li class='vakata-context-separator'><a href='#' "+(e.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",o=!0)})),n=n.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),r&&(n+="</ul>"),r||(i.html=n,e.vakata.context._trigger("parse")),n.length>10&&n},_show_submenu:function(i){if((i=e(i)).length&&i.children("ul").length){var r=i.children("ul"),s=i.offset().left,n=s+i.outerWidth(),o=i.offset().top,a=r.width(),l=r.height(),h=e(window).width()+e(window).scrollLeft(),c=e(window).height()+e(window).scrollTop();t?i[n-(a+10+i.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):i[n+a>h&&s>h-n?"addClass":"removeClass"]("vakata-context-right"),o+l+10>c&&r.css("bottom","-1px"),i.hasClass("vakata-context-right")?s<a&&r.css("margin-right",s-a):h-n<a&&r.css("margin-left",h-n-a),r.show()}},show:function(r,s,n){var o,a,h,c,d,u,p,f;switch(i.element&&i.element.length&&i.element.width(""),!0){case!s&&!r:return!1;case!!s&&!!r:i.reference=r,i.position_x=s.x,i.position_y=s.y;break;case!s&&!!r:i.reference=r,o=r.offset(),i.position_x=o.left+r.outerHeight(),i.position_y=o.top;break;case!!s&&!r:i.position_x=s.x,i.position_y=s.y}r&&!n&&e(r).data("vakata_contextmenu")&&(n=e(r).data("vakata_contextmenu")),e.vakata.context._parse(n)&&i.element.html(i.html),i.items.length&&(i.element.appendTo(l.body),a=i.element,h=i.position_x,c=i.position_y,d=a.width(),u=a.height(),p=e(window).width()+e(window).scrollLeft(),f=e(window).height()+e(window).scrollTop(),t&&(h-=a.outerWidth()-e(r).outerWidth())<e(window).scrollLeft()+20&&(h=e(window).scrollLeft()+20),h+d+20>p&&(h=p-(d+20)),c+u+20>f&&(c=f-(u+20)),i.element.css({left:h,top:c}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),i.is_visible=!0,e.vakata.context._trigger("show"))},hide:function(){i.is_visible&&(i.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),i.is_visible=!1,e.vakata.context._trigger("hide"))}},e((function(){t="rtl"===e(l.body).css("direction");var r=!1;i.element=e("<ul class='vakata-context'></ul>"),i.element.on("mouseenter","li",(function(t){t.stopImmediatePropagation(),e.contains(this,t.relatedTarget)||(r&&clearTimeout(r),i.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),e(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),e.vakata.context._show_submenu(this))})).on("mouseleave","li",(function(t){e.contains(this,t.relatedTarget)||e(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")})).on("mouseleave",(function(t){e(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),e.vakata.context.settings.hide_onmouseleave&&(r=setTimeout((function(){e.vakata.context.hide()}),e.vakata.context.settings.hide_onmouseleave))})).on("click","a",(function(t){t.preventDefault(),e(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===e.vakata.context._execute(e(this).attr("rel"))||e.vakata.context.hide()})).on("keydown","a",(function(t){var r=null;switch(t.which){case 13:case 32:t.type="click",t.preventDefault(),e(t.currentTarget).trigger(t);break;case 37:i.is_visible&&(i.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 38:i.is_visible&&((r=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length||(r=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),r.addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 39:i.is_visible&&(i.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 40:i.is_visible&&((r=i.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length||(r=i.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),r.addClass("vakata-context-hover").children("a").trigger("focus"),t.stopImmediatePropagation(),t.preventDefault());break;case 27:e.vakata.context.hide(),t.preventDefault()}})).on("keydown",(function(e){e.preventDefault();var t=i.element.find(".vakata-contextmenu-shortcut-"+e.which).parent();t.parent().not(".vakata-context-disabled")&&t.trigger("click")})),e(l).on("mousedown.vakata.jstree",(function(t){i.is_visible&&i.element[0]!==t.target&&!e.contains(i.element[0],t.target)&&e.vakata.context.hide()})).on("context_show.vakata.jstree",(function(e,r){i.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),t&&i.element.addClass("vakata-context-rtl").css("direction","rtl"),i.element.find("ul").hide().end()}))}))}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1},e.jstree.plugins.dnd=function(t,i){this.init=function(e,t){i.init.call(this,e,t),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in l.createElement("span")},this.bind=function(){i.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(t){if(this.settings.dnd.large_drag_target&&e(t.target).closest(".jstree-node")[0]!==t.currentTarget)return!0;if("touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),r=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,s=r>1?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(s=e.vakata.html.escape(s)),i&&(i.id||0===i.id)&&i.id!==e.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||e.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,r>1?this.get_top_selected(!0):[i],t))){if(d={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:r>1?this.get_top_selected():[i.id]},u=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(t,d,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+s+'<ins class="jstree-copy">+</ins></div>');e.vakata.dnd._trigger("start",t,{helper:e(),element:u,data:d})}}.bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",(function(t){return t.preventDefault(),e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:d}),!1})).on("drop.jstree",function(t){return t.preventDefault(),e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:d}),!1}.bind(this))},this.redraw_node=function(e,t,r,s){if((e=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)e.setAttribute("draggable",!0);else{var n,o,a=null;for(n=0,o=e.childNodes.length;n<o;n++)if(e.childNodes[n]&&e.childNodes[n].className&&-1!==e.childNodes[n].className.indexOf("jstree-anchor")){a=e.childNodes[n];break}a&&a.setAttribute("draggable",!0)}return e}},e((function(){var i=!1,r=!1,s=!1,n=!1,o=e('<div id="jstree-marker">&#160;</div>').hide();e(l).on("dragover.vakata.jstree",(function(t){u&&e.vakata.dnd._trigger("move",t,{helper:e(),element:u,data:d})})).on("drop.vakata.jstree",(function(t){u&&(e.vakata.dnd._trigger("stop",t,{helper:e(),element:u,data:d}),u=null,d=null)})).on("dnd_start.vakata.jstree",(function(e,t){i=!1,s=!1,t&&t.data&&t.data.jstree&&o.appendTo(l.body)})).on("dnd_move.vakata.jstree",(function(a,l){var h=l.event.target!==s.target;if(n&&(l.event&&"dragover"===l.event.type&&!h||clearTimeout(n)),l&&l.data&&l.data.jstree&&(!l.event.target.id||"jstree-marker"!==l.event.target.id)){s=l.event;var c,d,u,p,f,m,g,y,v,b,w,_,k,S,x,T,j,C=e.jstree.reference(l.event.target),E=!1,O=!1,P=!1;if(C&&C._data&&C._data.dnd)if(o.attr("class","jstree-"+C.get_theme()+(C.settings.core.themes.responsive?" jstree-dnd-responsive":"")),x=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey)),l.helper.children().attr("class","jstree-"+C.get_theme()+" jstree-"+C.get_theme()+"-"+C.get_theme_variant()+" "+(C.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[x?"show":"hide"](),l.event.target!==C.element[0]&&l.event.target!==C.get_container_ul()[0]||0!==C.get_container_ul().children().length&&!C.settings.dnd.blank_space_drop){if((E=C.settings.dnd.large_drop_target?e(l.event.target).closest(".jstree-node").children(".jstree-anchor"):e(l.event.target).closest(".jstree-anchor"))&&E.length&&E.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(O=E.offset(),P=(l.event.pageY!==t?l.event.pageY:l.event.originalEvent.pageY)-O.top,u=E.outerHeight(),m=P<u/3?["b","i","a"]:P>u-u/3?["a","i","b"]:P>u/2?["i","a","b"]:["i","b","a"],e.each(m,(function(t,s){switch(s){case"b":c=O.left-6,d=O.top,p=C.get_parent(E),f=E.parent().index(),j="jstree-below";break;case"i":k=C.settings.dnd.inside_pos,S=C.get_node(E.parent()),c=O.left-2,d=O.top+u/2+1,p=S.id,f="first"===k?0:"last"===k?S.children.length:Math.min(k,S.children.length),j="jstree-inside";break;case"a":c=O.left-6,d=O.top+u,p=C.get_parent(E),f=E.parent().index()+1,j="jstree-above"}for(g=!0,y=0,v=l.data.nodes.length;y<v;y++)if(b=l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",w=f,"move_node"===b&&"a"===s&&l.data.origin&&l.data.origin===C&&p===C.get_parent(l.data.nodes[y])&&(_=C.get_node(p),w>e.inArray(l.data.nodes[y],_.children)&&(w-=1)),!(g=g&&(C&&C.settings&&C.settings.dnd&&!1===C.settings.dnd.check_while_dragging||C.check(b,l.data.origin&&l.data.origin!==C?l.data.origin.get_node(l.data.nodes[y]):l.data.nodes[y],p,w,{dnd:!0,ref:C.get_node(E.parent()),pos:s,origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==C,is_foreign:!l.data.origin})))){C&&C.last_error&&(r=C.last_error());break}var a,P;if("i"===s&&E.parent().is(".jstree-closed")&&C.settings.dnd.open_timeout&&(l.event&&"dragover"===l.event.type&&!h||(n&&clearTimeout(n),n=setTimeout((a=C,P=E,function(){a.open_node(P)}),C.settings.dnd.open_timeout))),g)return(T=C.get_node(p,!0)).hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),T.addClass("jstree-dnd-parent")),i={ins:C,par:p,pos:"i"!==s||"last"!==k||0!==f||C.is_loaded(S)?f:"last"},o.css({left:c+"px",top:d+"px"}).show(),o.removeClass("jstree-above jstree-inside jstree-below").addClass(j),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"),r={},m=!0,!1})),!0===m))return}else{for(g=!0,y=0,v=l.data.nodes.length;y<v&&(g=g&&C.check(l.data.origin&&(l.data.origin.settings.dnd.always_copy||l.data.origin.settings.dnd.copy&&(l.event.metaKey||l.event.ctrlKey))?"copy_node":"move_node",l.data.origin&&l.data.origin!==C?l.data.origin.get_node(l.data.nodes[y]):l.data.nodes[y],e.jstree.root,"last",{dnd:!0,ref:C.get_node(e.jstree.root),pos:"i",origin:l.data.origin,is_multi:l.data.origin&&l.data.origin!==C,is_foreign:!l.data.origin}));y++);if(g)return i={ins:C,par:e.jstree.root,pos:"last"},o.hide(),l.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(l.event.originalEvent&&l.event.originalEvent.dataTransfer&&(l.event.originalEvent.dataTransfer.dropEffect=x?"copy":"move"))}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),i=!1,l.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),l.event.originalEvent&&l.event.originalEvent.dataTransfer,o.hide()}})).on("dnd_scroll.vakata.jstree",(function(e,t){t&&t.data&&t.data.jstree&&(o.hide(),i=!1,s=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))})).on("dnd_stop.vakata.jstree",(function(t,a){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),n&&clearTimeout(n),a&&a.data&&a.data.jstree){o.hide().detach();var l,h,c=[];if(i){for(l=0,h=a.data.nodes.length;l<h;l++)c[l]=a.data.origin?a.data.origin.get_node(a.data.nodes[l]):a.data.nodes[l];i.ins[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(a.event.metaKey||a.event.ctrlKey))?"copy_node":"move_node"](c,i.par,i.pos,!1,!1,!1,a.data.origin)}else(l=e(a.event.target).closest(".jstree")).length&&r&&r.error&&"check"===r.error&&(l=l.jstree(!0))&&l.settings.core.error.call(this,r);s=!1,i=!1}})).on("keyup.jstree keydown.jstree",(function(t,a){(a=e.vakata.dnd._get())&&a.data&&a.data.jstree&&("keyup"===t.type&&27===t.which?(n&&clearTimeout(n),i=!1,r=!1,s=!1,n=!1,o.hide().detach(),e.vakata.dnd._clean()):(a.helper.find(".jstree-copy").first()[a.data.origin&&(a.data.origin.settings.dnd.always_copy||a.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),s&&(s.metaKey=t.metaKey,s.ctrlKey=t.ctrlKey,e.vakata.dnd._trigger("move",s))))}))})),function(e){e.vakata.html={div:e("<div></div>"),escape:function(t){return e.vakata.html.div.text(t).html()},strip:function(t){return e.vakata.html.div.empty().append(e.parseHTML(t)).text()}};var i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};e.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(i,r,s){s===t&&(s=e.vakata.dnd._get()),s.event=r,e(l).triggerHandler("dnd_"+i+".vakata",s)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove(),i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},u=null,e(l).off("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).off("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop)},_scroll:function(t){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(e.vakata.dnd._scroll,100),!1;if(!0===t)return!1;var r=i.scroll_e.scrollTop(),s=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(r+i.scroll_t*e.vakata.dnd.settings.scroll_speed),i.scroll_e.scrollLeft(s+i.scroll_l*e.vakata.dnd.settings.scroll_speed),r===i.scroll_e.scrollTop()&&s===i.scroll_e.scrollLeft()||e.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(t,r,s){"touchstart"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag&&e.vakata.dnd.stop({});try{t.currentTarget.unselectable="on",t.currentTarget.onselectstart=function(){return!1},t.currentTarget.style&&(t.currentTarget.style.touchAction="none",t.currentTarget.style.msTouchAction="none",t.currentTarget.style.MozUserSelect="none")}catch(e){}return i.init_x=t.pageX,i.init_y=t.pageY,i.data=r,i.is_down=!0,i.element=t.currentTarget,i.target=t.target,i.is_touch="touchstart"===t.type,!1!==s&&(i.helper=e("<div id='vakata-dnd'></div>").html(s).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),e(l).on("mousemove.vakata.jstree touchmove.vakata.jstree",e.vakata.dnd.drag),e(l).on("mouseup.vakata.jstree touchend.vakata.jstree",e.vakata.dnd.stop),!1},drag:function(t){if("touchmove"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(t.pageX-i.init_x)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)||Math.abs(t.pageY-i.init_y)>(i.is_touch?e.vakata.dnd.settings.threshold_touch:e.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo(l.body),i.helper_w=i.helper.outerWidth()),i.is_drag=!0,e(i.target).one("click.vakata",!1),e.vakata.dnd._trigger("start",t)}var r=!1,s=!1,n=!1,o=!1,a=!1,h=!1,c=!1,d=!1,u=!1,p=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,e(e(t.target).parentsUntil("body").addBack().get().reverse()).filter((function(){return this.ownerDocument&&/^auto|scroll$/.test(e(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)})).each((function(){var r=e(this),s=r.offset();if(this.scrollHeight>this.offsetHeight&&(s.top+r.height()-t.pageY<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),t.pageY-s.top<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(s.left+r.width()-t.pageX<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),t.pageX-s.left<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l)return i.scroll_e=e(this),!1})),i.scroll_e||(r=e(l),s=e(window),n=r.height(),o=s.height(),a=r.width(),h=s.width(),c=r.scrollTop(),d=r.scrollLeft(),n>o&&t.pageY-c<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),n>o&&o-(t.pageY-c)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),a>h&&t.pageX-d<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),a>h&&h-(t.pageX-d)<e.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=r)),i.scroll_e&&e.vakata.dnd._scroll(!0),i.helper&&(u=parseInt(t.pageY+e.vakata.dnd.settings.helper_top,10),p=parseInt(t.pageX+e.vakata.dnd.settings.helper_left,10),n&&u+25>n&&(u=n-50),a&&p+i.helper_w>a&&(p=a-(i.helper_w+2)),i.helper.css({left:p+"px",top:u+"px"})),e.vakata.dnd._trigger("move",t),!1}},stop:function(t){if("touchend"===t.type&&t.originalEvent&&t.originalEvent.changedTouches&&t.originalEvent.changedTouches[0]&&(t.pageX=t.originalEvent.changedTouches[0].pageX,t.pageY=t.originalEvent.changedTouches[0].pageY,t.target=l.elementFromPoint(t.originalEvent.changedTouches[0].pageX-window.pageXOffset,t.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag)t.target!==i.target&&e(i.target).off("click.vakata"),e.vakata.dnd._trigger("stop",t);else if("touchend"===t.type&&t.target===i.target){var r=setTimeout((function(){e(t.target).trigger("click")}),100);e(t.target).one("click",(function(){r&&clearTimeout(r)}))}return e.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(t,i){this.init=function(e,t){this._data.massload={},i.init.call(this,e,t)},this._load_nodes=function(t,r,s,n){var o,a,l,h=this.settings.massload,c=[],d=this._model.data;if(!s){for(o=0,a=t.length;o<a;o++)d[t[o]]&&(d[t[o]].state.loaded||d[t[o]].state.failed)&&!n||(c.push(t[o]),(l=this.get_node(t[o],!0))&&l.length&&l.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},c.length){if(e.vakata.is_function(h))return h.call(this,c,function(e){var o,a;if(e)for(o in e)e.hasOwnProperty(o)&&(this._data.massload[o]=e[o]);for(o=0,a=t.length;o<a;o++)(l=this.get_node(t[o],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,r,s,n)}.bind(this));if("object"==typeof h&&h&&h.url)return h=e.extend(!0,{},h),e.vakata.is_function(h.url)&&(h.url=h.url.call(this,c)),e.vakata.is_function(h.data)&&(h.data=h.data.call(this,c)),e.ajax(h).done(function(e,o,a){var h,c;if(e)for(h in e)e.hasOwnProperty(h)&&(this._data.massload[h]=e[h]);for(h=0,c=t.length;h<c;h++)(l=this.get_node(t[h],!0))&&l.length&&l.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,r,s,n)}.bind(this)).fail(function(e){i._load_nodes.call(this,t,r,s,n)}.bind(this))}}return i._load_nodes.call(this,t,r,s,n)},this._load_node=function(t,r){var s,n=this._data.massload[t.id],o=null;return n?(o=this["string"==typeof n?"_append_html_data":"_append_json_data"](t,"string"==typeof n?e(e.parseHTML(n)).filter((function(){return 3!==this.nodeType})):n,(function(e){r.call(this,e)})),(s=this.get_node(t.id,!0))&&s.length&&s.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],o):i._load_node.call(this,t,r)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(i,r){this.bind=function(){r.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",function(t,i){if(this._data.search.som&&i.res.length){var r,s,n,o,a=this._model.data,l=[];for(r=0,s=i.res.length;r<s;r++)if(a[i.res[r]]&&!a[i.res[r]].state.hidden&&(l.push(i.res[r]),l=l.concat(a[i.res[r]].parents),this._data.search.smc))for(n=0,o=a[i.res[r]].children_d.length;n<o;n++)a[a[i.res[r]].children_d[n]]&&!a[a[i.res[r]].children_d[n]].state.hidden&&l.push(a[i.res[r]].children_d[n]);l=e.vakata.array_remove_item(e.vakata.array_unique(l),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(l,!0),this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(e,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))},this.search=function(i,r,s,n,o,a){if(!1===i||""===e.vakata.trim(i.toString()))return this.clear_search();n=(n=this.get_node(n))&&(n.id||0===n.id)?n.id:null,i=i.toString();var l,h,c=this.settings.search,d=!!c.ajax&&c.ajax,u=this._model.data,p=null,f=[],m=[];if(this._data.search.res.length&&!o&&this.clear_search(),s===t&&(s=c.show_only_matches),a===t&&(a=c.show_only_matches_children),!r&&!1!==d)return e.vakata.is_function(d)?d.call(this,i,function(t){t&&t.d&&(t=t.d),this._load_nodes(e.vakata.is_array(t)?e.vakata.array_unique(t):[],(function(){this.search(i,!0,s,n,o,a)}))}.bind(this),n):((d=e.extend({},d)).data||(d.data={}),d.data.str=i,n&&(d.data.inside=n),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(d).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(d)},this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(t){t&&t.d&&(t=t.d),this._load_nodes(e.vakata.is_array(t)?e.vakata.array_unique(t):[],(function(){this.search(i,!0,s,n,o,a)}))}.bind(this)),this._data.search.lastRequest);if(o||(this._data.search.str=i,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=s,this._data.search.smc=a),p=new e.vakata.search(i,!0,{caseSensitive:c.case_sensitive,fuzzy:c.fuzzy}),e.each(u[n||e.jstree.root].children_d,(function(e,t){var r=u[t];r.text&&!r.state.hidden&&(!c.search_leaves_only||r.state.loaded&&0===r.children.length)&&(c.search_callback&&c.search_callback.call(this,i,r)||!c.search_callback&&p.search(r.text).isMatch)&&(f.push(t),m=m.concat(r.parents))})),f.length){for(l=0,h=(m=e.vakata.array_unique(m)).length;l<h;l++)m[l]!==e.jstree.root&&u[m[l]]&&!0===this.open_node(m[l],null,0)&&this._data.search.opn.push(m[l]);o?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(f,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(f))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(f,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.res=f),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:s})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,(function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(e.jstree.idregex,"\\$&"):t.replace(e.jstree.idregex,"\\$&")})).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(t,i,s,n){if((t=r.redraw_node.apply(this,arguments))&&-1!==e.inArray(t.id,this._data.search.res)){var o,a,l=null;for(o=0,a=t.childNodes.length;o<a;o++)if(t.childNodes[o]&&t.childNodes[o].className&&-1!==t.childNodes[o].className.indexOf("jstree-anchor")){l=t.childNodes[o];break}l&&(l.className+=" jstree-search")}return t}},function(e){e.vakata.search=function(t,i,r){r=r||{},!1!==(r=e.extend({},e.vakata.search.defaults,r)).fuzzy&&(r.fuzzy=!0),t=r.caseSensitive?t:t.toLowerCase();var s,n,o,a,l=r.location,h=r.distance,c=r.threshold,d=t.length;return d>32&&(r.fuzzy=!1),r.fuzzy&&(s=1<<d-1,n=function(){var e={},i=0;for(i=0;i<d;i++)e[t.charAt(i)]=0;for(i=0;i<d;i++)e[t.charAt(i)]|=1<<d-i-1;return e}(),o=function(e,t){var i=e/d,r=Math.abs(l-t);return h?i+r/h:r?1:i}),a=function(e){if(e=r.caseSensitive?e.toString():e.toString().toLowerCase(),t===e||-1!==e.indexOf(t))return{isMatch:!0,score:0};if(!r.fuzzy)return{isMatch:!1,score:1};var i,a,h,u,p,f,m,g,y,v=e.length,b=c,w=e.indexOf(t,l),_=d+v,k=1,S=[];for(-1!==w&&(b=Math.min(o(0,w),b),-1!==(w=e.lastIndexOf(t,l+d))&&(b=Math.min(o(0,w),b))),w=-1,i=0;i<d;i++){for(h=0,u=_;h<u;)o(i,l+u)<=b?h=u:_=u,u=Math.floor((_-h)/2+h);for(_=u,f=Math.max(1,l-u+1),m=Math.min(l+u,v)+d,(g=new Array(m+2))[m+1]=(1<<i)-1,a=m;a>=f;a--)if(y=n[e.charAt(a-1)],g[a]=0===i?(g[a+1]<<1|1)&y:(g[a+1]<<1|1)&y|(p[a+1]|p[a])<<1|1|p[a+1],g[a]&s&&(k=o(i,a-1))<=b){if(b=k,w=a-1,S.push(w),!(w>l))break;f=Math.max(1,2*l-w)}if(o(i+1,l)>b)break;p=g}return{isMatch:w>=0,score:k}},!0===i?{search:a}:a(i)},e.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(e,t){return this.get_text(e)>this.get_text(t)?1:-1},e.jstree.plugins.sort=function(e,t){this.bind=function(){t.bind.call(this),this.element.on("model.jstree",function(e,t){this.sort(t.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(e,t){this.sort(t.parent||t.node.parent,!1),this.redraw_node(t.parent||t.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(e,t){this.sort(t.parent,!1),this.redraw_node(t.parent,!0)}.bind(this))},this.sort=function(e,t){var i,r;if((e=this.get_node(e))&&e.children&&e.children.length&&(e.children.sort(this.settings.sort.bind(this)),t))for(i=0,r=e.children_d.length;i<r;i++)this.sort(e.children_d[i],!1)}};var f=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var e=function(){this.element.on(this.settings.state.events,function(){f&&clearTimeout(f),f=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this)),this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(t,i){this.element.one("restore_state.jstree",e),this.restore_state()||e()}.bind(this))},this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;var i={state:t,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(i))},this.restore_state=function(){var t=e.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(e){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&(t&&t.state&&(t=t.state),t&&e.vakata.is_function(this.settings.state.filter)&&(t=this.settings.state.filter.call(this,t)),!!t&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",(function(i,r){r.instance.trigger("restore_state",{state:e.extend(!0,{},t)})})),this.set_state(t),!0))},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(e,t){e.vakata.storage={set:function(e,t){return window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},del:function(e){return window.localStorage.removeItem(e)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(i,r){this.init=function(i,s){var n,o;if(s&&s.types&&s.types.default)for(n in s.types)if("default"!==n&&n!==e.jstree.root&&s.types.hasOwnProperty(n))for(o in s.types.default)s.types.default.hasOwnProperty(o)&&s.types[n][o]===t&&(s.types[n][o]=s.types.default[o]);r.init.call(this,i,s),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(t,i){r.refresh.call(this,t,i),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",function(i,r){var s,n,o,a=this._model.data,l=r.nodes,h=this.settings.types,c="default";for(s=0,n=l.length;s<n;s++){if(c="default",a[l[s]].original&&a[l[s]].original.type&&h[a[l[s]].original.type]&&(c=a[l[s]].original.type),a[l[s]].data&&a[l[s]].data.jstree&&a[l[s]].data.jstree.type&&h[a[l[s]].data.jstree.type]&&(c=a[l[s]].data.jstree.type),a[l[s]].type=c,!0===a[l[s]].icon&&h[c].icon!==t&&(a[l[s]].icon=h[c].icon),h[c].li_attr!==t&&"object"==typeof h[c].li_attr)for(o in h[c].li_attr)if(h[c].li_attr.hasOwnProperty(o)){if("id"===o)continue;a[l[s]].li_attr[o]===t?a[l[s]].li_attr[o]=h[c].li_attr[o]:"class"===o&&(a[l[s]].li_attr.class=h[c].li_attr.class+" "+a[l[s]].li_attr.class)}if(h[c].a_attr!==t&&"object"==typeof h[c].a_attr)for(o in h[c].a_attr)if(h[c].a_attr.hasOwnProperty(o)){if("id"===o)continue;a[l[s]].a_attr[o]===t?a[l[s]].a_attr[o]=h[c].a_attr[o]:"href"===o&&"#"===a[l[s]].a_attr[o]?a[l[s]].a_attr.href=h[c].a_attr.href:"class"===o&&(a[l[s]].a_attr.class=h[c].a_attr.class+" "+a[l[s]].a_attr.class)}}a[e.jstree.root].type=e.jstree.root}.bind(this)),r.bind.call(this)},this.get_json=function(t,i,s){var n,o,a=this._model.data,l=i?e.extend(!0,{},i,{no_id:!1}):{},h=r.get_json.call(this,t,l,s);if(!1===h)return!1;if(e.vakata.is_array(h))for(n=0,o=h.length;n<o;n++)h[n].type=(h[n].id||0===h[n].id)&&a[h[n].id]&&a[h[n].id].type?a[h[n].id].type:"default",i&&i.no_id&&(delete h[n].id,h[n].li_attr&&h[n].li_attr.id&&delete h[n].li_attr.id,h[n].a_attr&&h[n].a_attr.id&&delete h[n].a_attr.id);else h.type=(h.id||0===h.id)&&a[h.id]&&a[h.id].type?a[h.id].type:"default",i&&i.no_id&&(h=this._delete_ids(h));return h},this._delete_ids=function(t){if(e.vakata.is_array(t)){for(var i=0,r=t.length;i<r;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&e.vakata.is_array(t.children)&&(t.children=this._delete_ids(t.children)),t},this.check=function(i,s,n,o,a){if(!1===r.check.call(this,i,s,n,o,a))return!1;s=s&&(s.id||0===s.id)?s:this.get_node(s),n=n&&(n.id||0===n.id)?n:this.get_node(n);var l,h,c,d,u=s&&(s.id||0===s.id)?a&&a.origin?a.origin:e.jstree.reference(s.id):null;switch(u=u&&u._model&&u._model.data?u._model.data:null,i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===e.inArray(s.id,n.children)){if((l=this.get_rules(n)).max_children!==t&&-1!==l.max_children&&l.max_children===n.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!s||!s.id&&0!==s.id)&&s.id,par:!(!n||!n.id&&0!==n.id)&&n.id})},!1;if(l.valid_children!==t&&-1!==l.valid_children&&-1===e.inArray(s.type||"default",l.valid_children))return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!s||!s.id&&0!==s.id)&&s.id,par:!(!n||!n.id&&0!==n.id)&&n.id})},!1;if(u&&s.children_d&&s.parents){for(h=0,c=0,d=s.children_d.length;c<d;c++)h=Math.max(h,u[s.children_d[c]].parents.length);h=h-s.parents.length+1}(h<=0||h===t)&&(h=1);do{if(l.max_depth!==t&&-1!==l.max_depth&&l.max_depth<h)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:o,obj:!(!s||!s.id&&0!==s.id)&&s.id,par:!(!n||!n.id&&0!==n.id)&&n.id})},!1;n=this.get_node(n.parent),l=this.get_rules(n),h++}while(n)}}return!0},this.get_rules=function(e){if(!(e=this.get_node(e)))return!1;var i=this.get_type(e,!0);return i.max_depth===t&&(i.max_depth=-1),i.max_children===t&&(i.max_children=-1),i.valid_children===t&&(i.valid_children=-1),i},this.get_type=function(t,i){return!!(t=this.get_node(t))&&(i?e.extend({type:t.type},this.settings.types[t.type]):t.type)},this.set_type=function(i,r){var s,n,o,a,l,h,c,d,u=this._model.data;if(e.vakata.is_array(i)){for(n=0,o=(i=i.slice()).length;n<o;n++)this.set_type(i[n],r);return!0}if(s=this.settings.types,i=this.get_node(i),!s[r]||!i)return!1;if((c=this.get_node(i,!0))&&c.length&&(d=c.children(".jstree-anchor")),a=i.type,l=this.get_icon(i),i.type=r,(!0===l||!s[a]||s[a].icon!==t&&l===s[a].icon)&&this.set_icon(i,s[r].icon===t||s[r].icon),s[a]&&s[a].li_attr!==t&&"object"==typeof s[a].li_attr)for(h in s[a].li_attr)if(s[a].li_attr.hasOwnProperty(h)){if("id"===h)continue;"class"===h?(u[i.id].li_attr.class=(u[i.id].li_attr.class||"").replace(s[a].li_attr[h],""),c&&c.removeClass(s[a].li_attr[h])):u[i.id].li_attr[h]===s[a].li_attr[h]&&(u[i.id].li_attr[h]=null,c&&c.removeAttr(h))}if(s[a]&&s[a].a_attr!==t&&"object"==typeof s[a].a_attr)for(h in s[a].a_attr)if(s[a].a_attr.hasOwnProperty(h)){if("id"===h)continue;"class"===h?(u[i.id].a_attr.class=(u[i.id].a_attr.class||"").replace(s[a].a_attr[h],""),d&&d.removeClass(s[a].a_attr[h])):u[i.id].a_attr[h]===s[a].a_attr[h]&&("href"===h?(u[i.id].a_attr[h]="#",d&&d.attr("href","#")):(delete u[i.id].a_attr[h],d&&d.removeAttr(h)))}if(s[r].li_attr!==t&&"object"==typeof s[r].li_attr)for(h in s[r].li_attr)if(s[r].li_attr.hasOwnProperty(h)){if("id"===h)continue;u[i.id].li_attr[h]===t?(u[i.id].li_attr[h]=s[r].li_attr[h],c&&("class"===h?c.addClass(s[r].li_attr[h]):c.attr(h,s[r].li_attr[h]))):"class"===h&&(u[i.id].li_attr.class=s[r].li_attr[h]+" "+u[i.id].li_attr.class,c&&c.addClass(s[r].li_attr[h]))}if(s[r].a_attr!==t&&"object"==typeof s[r].a_attr)for(h in s[r].a_attr)if(s[r].a_attr.hasOwnProperty(h)){if("id"===h)continue;u[i.id].a_attr[h]===t?(u[i.id].a_attr[h]=s[r].a_attr[h],d&&("class"===h?d.addClass(s[r].a_attr[h]):d.attr(h,s[r].a_attr[h]))):"href"===h&&"#"===u[i.id].a_attr[h]?(u[i.id].a_attr.href=s[r].a_attr.href,d&&d.attr("href",s[r].a_attr.href)):"class"===h&&(u[i.id].a_attr.class=s[r].a_attr.class+" "+u[i.id].a_attr.class,d&&d.addClass(s[r].a_attr[h]))}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(e,t){return e+" ("+t+")"}},e.jstree.plugins.unique=function(i,r){this.check=function(t,i,s,n,o){if(!1===r.check.call(this,t,i,s,n,o))return!1;if(i=i&&(i.id||0===i.id)?i:this.get_node(i),!(s=s&&(s.id||0===s.id)?s:this.get_node(s))||!s.children)return!0;var a,l,h,c="rename_node"===t?n:i.text,d=[],u=this.settings.unique.case_sensitive,p=this.settings.unique.trim_whitespace,f=this._model.data;for(a=0,l=s.children.length;a<l;a++)h=f[s.children[a]].text,u||(h=h.toLowerCase()),p&&(h=h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),d.push(h);switch(u||(c=c.toLowerCase()),p&&(c=c.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return h=i.text||"",u||(h=h.toLowerCase()),p&&(h=h.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(a=-1===e.inArray(c,d)||i.text&&h===c)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),a;case"create_node":return(a=-1===e.inArray(c,d))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),a;case"copy_node":return(a=-1===e.inArray(c,d))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),a;case"move_node":return(a=i.parent===s.id&&(!o||!o.is_multi)||-1===e.inArray(c,d))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+c+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:n,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!s||!s.id&&0!==s.id)&&s.id})}),a}return!0},this.create_node=function(i,s,n,o,a){if(!s||"object"==typeof s&&s.text===t){if(null===i&&(i=e.jstree.root),!(i=this.get_node(i)))return r.create_node.call(this,i,s,n,o,a);if(!(n=n===t?"last":n).toString().match(/^(before|after)$/)&&!a&&!this.is_loaded(i))return r.create_node.call(this,i,s,n,o,a);s||(s={});var l,h,c,d,u,p,f=this._model.data,m=this.settings.unique.case_sensitive,g=this.settings.unique.trim_whitespace,y=this.settings.unique.duplicate;for(h=l=this.get_string("New node"),c=[],d=0,u=i.children.length;d<u;d++)p=f[i.children[d]].text,m||(p=p.toLowerCase()),g&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(p);for(d=1,p=h,m||(p=p.toLowerCase()),g&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==e.inArray(p,c);)p=h=y.call(this,l,++d).toString(),m||(p=p.toLowerCase()),g&&(p=p.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));s.text=h}return r.create_node.call(this,i,s,n,o,a)}};var m=l.createElement("DIV");if(m.setAttribute("unselectable","on"),m.setAttribute("role","presentation"),m.className="jstree-wholerow",m.innerHTML="&#160;",e.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this),this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(e,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var i,r,s=!1;for(i=0,r=t.selected.length;i<r;i++)(s=this.get_node(t.selected[i],!0))&&s.length&&s.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(e,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(e,t){"hover_node"===e.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===e.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(t){if(this._data.contextmenu){t.preventDefault();var i=e.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i)}}.bind(this)).on("click.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")})).on("dblclick.jstree",".jstree-wholerow",(function(t){t.stopImmediatePropagation();var i=e.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")})).on("click.jstree",".jstree-leaf > .jstree-ocl",function(t){t.stopImmediatePropagation();var i=e.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});e(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(e){return e.stopImmediatePropagation(),this.is_disabled(e.currentTarget)||this.hover_node(e.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(e){this.dehover_node(e.currentTarget)}.bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),i.teardown.call(this)},this.redraw_node=function(t,r,s,n){if(t=i.redraw_node.apply(this,arguments)){var o=m.cloneNode(!0);-1!==e.inArray(t.id,this._data.core.selected)&&(o.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(o.className+=" jstree-wholerow-hovered"),t.insertBefore(o,t.childNodes[0])}return t}},window.customElements&&Object&&Object.create){var g=Object.create(HTMLElement.prototype);g.createdCallback=function(){var t,i={core:{},plugins:[]};for(t in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));e(this).jstree(i)};try{window.customElements.define("vakata-jstree",(function(){}),{prototype:g})}catch(e){}}}})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}((function(e){e.ui=e.ui||{};e.ui.version="1.12.1";!function(){var t,i=Math.max,r=Math.abs,s=/left|center|right/,n=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,h=e.fn.pos;function c(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function d(t,i){return parseInt(e.css(t,i),10)||0}e.pos={scrollbarWidth:function(){if(void 0!==t)return t;var i,r,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=s.children()[0];return e("body").append(s),i=n.offsetWidth,s.css("overflow","scroll"),i===(r=n.offsetWidth)&&(r=s[0].clientWidth),s.remove(),t=i-r},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),s="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth;return{width:"scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight?e.pos.scrollbarWidth():0,height:s?e.pos.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),r=e.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:r,isDocument:s,offset:!r&&!s?e(t).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},e.fn.pos=function(t){if(!t||!t.of)return h.apply(this,arguments);t=e.extend({},t);var l,u,p,f,m,g,y=e(t.of),v=e.pos.getWithinInfo(t.within),b=e.pos.getScrollInfo(v),w=(t.collision||"flip").split(" "),_={};return g=function(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}(y),y[0].preventDefault&&(t.at="left top"),u=g.width,p=g.height,f=g.offset,m=e.extend({},f),e.each(["my","at"],(function(){var e,i,r=(t[this]||"").split(" ");1===r.length&&(r=s.test(r[0])?r.concat(["center"]):n.test(r[0])?["center"].concat(r):["center","center"]),r[0]=s.test(r[0])?r[0]:"center",r[1]=n.test(r[1])?r[1]:"center",e=o.exec(r[0]),i=o.exec(r[1]),_[this]=[e?e[0]:0,i?i[0]:0],t[this]=[a.exec(r[0])[0],a.exec(r[1])[0]]})),1===w.length&&(w[1]=w[0]),"right"===t.at[0]?m.left+=u:"center"===t.at[0]&&(m.left+=u/2),"bottom"===t.at[1]?m.top+=p:"center"===t.at[1]&&(m.top+=p/2),l=c(_.at,u,p),m.left+=l[0],m.top+=l[1],this.each((function(){var s,n,o=e(this),a=o.outerWidth(),h=o.outerHeight(),g=d(this,"marginLeft"),k=d(this,"marginTop"),S=a+g+d(this,"marginRight")+b.width,x=h+k+d(this,"marginBottom")+b.height,T=e.extend({},m),j=c(_.my,o.outerWidth(),o.outerHeight());"right"===t.my[0]?T.left-=a:"center"===t.my[0]&&(T.left-=a/2),"bottom"===t.my[1]?T.top-=h:"center"===t.my[1]&&(T.top-=h/2),T.left+=j[0],T.top+=j[1],s={marginLeft:g,marginTop:k},e.each(["left","top"],(function(i,r){e.ui.pos[w[i]]&&e.ui.pos[w[i]][r](T,{targetWidth:u,targetHeight:p,elemWidth:a,elemHeight:h,collisionPosition:s,collisionWidth:S,collisionHeight:x,offset:[l[0]+j[0],l[1]+j[1]],my:t.my,at:t.at,within:v,elem:o})})),t.using&&(n=function(e){var s=f.left-T.left,n=s+u-a,l=f.top-T.top,c=l+p-h,d={target:{element:y,left:f.left,top:f.top,width:u,height:p},element:{element:o,left:T.left,top:T.top,width:a,height:h},horizontal:n<0?"left":s>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};u<a&&r(s+n)<u&&(d.horizontal="center"),p<h&&r(l+c)<p&&(d.vertical="middle"),i(r(s),r(n))>i(r(l),r(c))?d.important="horizontal":d.important="vertical",t.using.call(this,e,d)}),o.offset(e.extend(T,{using:n}))}))},e.ui.pos={_trigger:function(e,t,i,r){t.elem&&t.elem.trigger({type:i,position:e,positionData:t,triggered:r})},fit:{left:function(t,r){e.ui.pos._trigger(t,r,"posCollide","fitLeft");var s,n=r.within,o=n.isWindow?n.scrollLeft:n.offset.left,a=n.width,l=t.left-r.collisionPosition.marginLeft,h=o-l,c=l+r.collisionWidth-a-o;r.collisionWidth>a?h>0&&c<=0?(s=t.left+h+r.collisionWidth-a-o,t.left+=h-s):t.left=c>0&&h<=0?o:h>c?o+a-r.collisionWidth:o:h>0?t.left+=h:c>0?t.left-=c:t.left=i(t.left-l,t.left),e.ui.pos._trigger(t,r,"posCollided","fitLeft")},top:function(t,r){e.ui.pos._trigger(t,r,"posCollide","fitTop");var s,n=r.within,o=n.isWindow?n.scrollTop:n.offset.top,a=r.within.height,l=t.top-r.collisionPosition.marginTop,h=o-l,c=l+r.collisionHeight-a-o;r.collisionHeight>a?h>0&&c<=0?(s=t.top+h+r.collisionHeight-a-o,t.top+=h-s):t.top=c>0&&h<=0?o:h>c?o+a-r.collisionHeight:o:h>0?t.top+=h:c>0?t.top-=c:t.top=i(t.top-l,t.top),e.ui.pos._trigger(t,r,"posCollided","fitTop")}},flip:{left:function(t,i){e.ui.pos._trigger(t,i,"posCollide","flipLeft");var s,n,o=i.within,a=o.offset.left+o.scrollLeft,l=o.width,h=o.isWindow?o.scrollLeft:o.offset.left,c=t.left-i.collisionPosition.marginLeft,d=c-h,u=c+i.collisionWidth-l-h,p="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,f="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,m=-2*i.offset[0];d<0?((s=t.left+p+f+m+i.collisionWidth-l-a)<0||s<r(d))&&(t.left+=p+f+m):u>0&&((n=t.left-i.collisionPosition.marginLeft+p+f+m-h)>0||r(n)<u)&&(t.left+=p+f+m),e.ui.pos._trigger(t,i,"posCollided","flipLeft")},top:function(t,i){e.ui.pos._trigger(t,i,"posCollide","flipTop");var s,n,o=i.within,a=o.offset.top+o.scrollTop,l=o.height,h=o.isWindow?o.scrollTop:o.offset.top,c=t.top-i.collisionPosition.marginTop,d=c-h,u=c+i.collisionHeight-l-h,p="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,f="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,m=-2*i.offset[1];d<0?((n=t.top+p+f+m+i.collisionHeight-l-a)<0||n<r(d))&&(t.top+=p+f+m):u>0&&((s=t.top-i.collisionPosition.marginTop+p+f+m-h)>0||r(s)<u)&&(t.top+=p+f+m),e.ui.pos._trigger(t,i,"posCollided","flipTop")}},flipfit:{left:function(){e.ui.pos.flip.left.apply(this,arguments),e.ui.pos.fit.left.apply(this,arguments)},top:function(){e.ui.pos.flip.top.apply(this,arguments),e.ui.pos.fit.top.apply(this,arguments)}}},function(){var t,i,r,s,n,o=document.getElementsByTagName("body")[0],a=document.createElement("div");for(n in t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"}),r)t.style[n]=r[n];t.appendChild(a),(i=o||document.documentElement).insertBefore(t,i.firstChild),a.style.cssText="position: absolute; left: 10.7432222px;",s=e(a).offset().left,e.support.offsetFractions=s>10&&s<11,t.innerHTML="",i.removeChild(t)}()}();e.ui.position})),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):window.jQuery&&!window.jQuery.fn.iconpicker&&e(window.jQuery)}((function(e){"use strict";var t=function(e){return!1===e||""===e||null==e},i=function(t){return e(t).length>0},r=function(e){return"string"==typeof e||e instanceof String},s=function(t,i){return-1!==e.inArray(t,i)},n=function(t,r){this._id=n._idCounter++,this.element=e(t).addClass("iconpicker-element"),this._trigger("iconpickerCreate",{iconpickerValue:this.iconpickerValue}),this.options=e.extend({},n.defaultOptions,this.element.data(),r),this.options.templates=e.extend({},n.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=!!i(this.options.container)&&e(this.options.container),!1===this.container&&(this.element.is(".dropdown-toggle")?this.container=e("~ .dropdown-menu:first",this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element),this.container.addClass("iconpicker-container"),this.isDropdownMenu()&&(this.options.placement="inline"),this.input=!!this.element.is("input,textarea")&&this.element.addClass("iconpicker-input"),!1===this.input&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1)),this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component),0===this.component.length?this.component=!1:this.component.find("i").addClass("iconpicker-component"),this._createPopover(),this._createIconpicker(),0===this.getAcceptButton().length&&(this.options.mustAccept=!1),this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated",{iconpickerValue:this.iconpickerValue})};n._idCounter=0,n.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(e){return e},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'}},n.batch=function(t,i){var r=Array.prototype.slice.call(arguments,2);return e(t).each((function(){var t=e(this).data("iconpicker");t&&t[i].apply(t,r)}))},n.prototype={constructor:n,options:{},_id:0,_trigger:function(t,i){i=i||{},this.element.trigger(e.extend({type:t,iconpickerInstance:this},i))},_createPopover:function(){this.popover=e(this.options.templates.popover);var i=this.popover.find(".popover-title");if(this.options.title&&i.append(e('<div class="popover-title-text">'+this.options.title+"</div>")),this.hasSeparatedSearchInput()&&!this.options.searchInFooter?i.append(this.options.templates.search):this.options.title||i.remove(),this.options.showFooter&&!t(this.options.templates.footer)){var r=e(this.options.templates.footer);this.hasSeparatedSearchInput()&&this.options.searchInFooter&&r.append(e(this.options.templates.search)),t(this.options.templates.buttons)||r.append(e(this.options.templates.buttons)),this.popover.append(r)}return!0===this.options.animation&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var t=this;this.iconpicker=e(this.options.templates.iconpicker);var i=function(i){var r=e(this);r.is("i")&&(r=r.parent()),t._trigger("iconpickerSelect",{iconpickerItem:r,iconpickerValue:t.iconpickerValue}),!1===t.options.mustAccept?(t.update(r.data("iconpickerValue")),t._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:t.iconpickerValue})):t.update(r.data("iconpickerValue"),!0),t.options.hideOnSelect&&!1===t.options.mustAccept&&t.hide()},r=e(this.options.templates.iconpickerItem),s=[];for(var n in this.options.icons)if("string"==typeof this.options.icons[n].title){var o=r.clone();if(o.find("i").addClass(this.options.fullClassFormatter(this.options.icons[n].title)),o.data("iconpickerValue",this.options.icons[n].title).on("click.iconpicker",i),o.attr("title","."+this.options.icons[n].title),this.options.icons[n].searchTerms.length>0){for(var a="",l=0;l<this.options.icons[n].searchTerms.length;l++)a=a+this.options.icons[n].searchTerms[l]+" ";o.attr("data-search-terms",a)}s.push(o)}return this.iconpicker.find(".iconpicker-items").append(s),this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(t){var i=e(t.target);return!((!i.hasClass("iconpicker-element")||i.hasClass("iconpicker-element")&&!i.is(this.element))&&0===i.parents(".iconpicker-popover").length)},_bindElementEvents:function(){var t=this;this.getSearchInput().on("keyup.iconpicker",(function(){t.filter(e(this).val().toLowerCase())})),this.getAcceptButton().on("click.iconpicker",(function(){var e=t.iconpicker.find(".iconpicker-selected").get(0);t.update(t.iconpickerValue),t._trigger("iconpickerSelected",{iconpickerItem:e,iconpickerValue:t.iconpickerValue}),t.isInline()||t.hide()})),this.getCancelButton().on("click.iconpicker",(function(){t.isInline()||t.hide()})),this.element.on("focus.iconpicker",(function(e){t.show(),e.stopPropagation()})),this.hasComponent()&&this.component.on("click.iconpicker",(function(){t.toggle()})),this.hasInput()&&this.input.on("keyup.iconpicker",(function(i){s(i.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?t._updateFormGroupStatus(!1!==t.getValid(this.value)):t.update(),!0===t.options.inputSearch&&t.filter(e(this).val().toLowerCase())}))},_bindWindowEvents:function(){var t=e(window.document),i=this,r=".iconpicker.inst"+this._id;e(window).on("resize.iconpicker"+r+" orientationchange.iconpicker"+r,(function(e){i.popover.hasClass("in")&&i.updatePlacement()})),i.isInline()||t.on("mouseup"+r,(function(e){i._isEventInsideIconpicker(e)||i.isInline()||i.hide()}))},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){e(window).off(".iconpicker.inst"+this._id),e(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(t,i){t=t||this.options.placement,this.options.placement=t,i=!0===(i=i||this.options.collision)?"flip":i;var r={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:!0===i?"flip":i,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),"object"==typeof t)return this.popover.pos(e.extend({},r,t));switch(t){case"inline":r=!1;break;case"topLeftCorner":r.my="right bottom",r.at="left top";break;case"topLeft":r.my="left bottom",r.at="left top";break;case"top":r.my="center bottom",r.at="center top";break;case"topRight":r.my="right bottom",r.at="right top";break;case"topRightCorner":r.my="left bottom",r.at="right top";break;case"rightTop":r.my="left bottom",r.at="right center";break;case"right":r.my="left center",r.at="right center";break;case"rightBottom":r.my="left top",r.at="right center";break;case"bottomRightCorner":r.my="left top",r.at="right bottom";break;case"bottomRight":r.my="right top",r.at="right bottom";break;case"bottom":r.my="center top",r.at="center bottom";break;case"bottomLeft":r.my="left top",r.at="left bottom";break;case"bottomLeftCorner":r.my="right top",r.at="left bottom";break;case"leftBottom":r.my="right top",r.at="left center";break;case"left":r.my="right center",r.at="left center";break;case"leftTop":r.my="right bottom",r.at="left center";break;default:return!1}return this.popover.css({display:"inline"===this.options.placement?"":"block"}),!1!==r?this.popover.pos(r).css("maxWidth",e(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var e=this.component.find("i");e.length>0?e.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(e){return!!this.hasInput()&&(!1!==e?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0)},getValid:function(t){r(t)||(t="");var i=""===t;t=e.trim(t);for(var s=!1,n=0;n<this.options.icons.length;n++)if(this.options.icons[n].title===t){s=!0;break}return!(!s&&!i)&&t},setValue:function(e){var t=this.getValid(e);return!1!==t?(this.iconpickerValue=t,this._trigger("iconpickerSetValue",{iconpickerValue:t}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:e}),!1)},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(e){return!1!==(e=this.setValue(e))&&""!==e&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:e})),e},getSourceValue:function(e){var t=e=e||this.options.defaultValue;return void 0!==(t=this.hasInput()?this.input.val():this.element.data("iconpickerValue"))&&""!==t&&null!==t&&!1!==t||(t=e),t},hasInput:function(){return!1!==this.input},isInputSearch:function(){return this.hasInput()&&!0===this.options.inputSearch},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return!1!==this.options.templates.search&&!this.isInputSearch()},hasComponent:function(){return!1!==this.component},hasContainer:function(){return!1!==this.container},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(i){if(t(i))return this.iconpicker.find(".iconpicker-item").show(),e(!1);var r=[];return this.iconpicker.find(".iconpicker-item").each((function(){var t=e(this),s=t.attr("title").toLowerCase();s=s+" "+(t.attr("data-search-terms")?t.attr("data-search-terms").toLowerCase():"");var n=!1;try{n=new RegExp("(^|\\W)"+i,"g")}catch(t){n=!1}!1!==n&&s.match(n)?(r.push(t),t.show()):t.hide()})),r},show:function(){if(this.popover.hasClass("in"))return!1;e.iconpicker.batch(e(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow",{iconpickerValue:this.iconpickerValue}),this.updatePlacement(),this.popover.addClass("in"),setTimeout(e.proxy((function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown",{iconpickerValue:this.iconpickerValue})}),this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide",{iconpickerValue:this.iconpickerValue}),this.popover.removeClass("in"),setTimeout(e.proxy((function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden",{iconpickerValue:this.iconpickerValue})}),this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(e,t){return e=e||this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate",{iconpickerValue:this.iconpickerValue}),!0===t?e=this.setValue(e):(e=this.setSourceValue(e),this._updateFormGroupStatus(!1!==e)),!1!==e&&this._updateComponents(),this._trigger("iconpickerUpdated",{iconpickerValue:this.iconpickerValue}),e},destroy:function(){this._trigger("iconpickerDestroy",{iconpickerValue:this.iconpickerValue}),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),e(this.popover).remove(),this._trigger("iconpickerDestroyed",{iconpickerValue:this.iconpickerValue})},disable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!0),!0)},enable:function(){return!!this.hasInput()&&(this.input.prop("disabled",!1),!0)},isDisabled:function(){return!!this.hasInput()&&!0===this.input.prop("disabled")},isInline:function(){return"inline"===this.options.placement||this.popover.hasClass("inline")}},e.iconpicker=n,e.fn.iconpicker=function(t){return this.each((function(){var i=e(this);i.data("iconpicker")||i.data("iconpicker",new n(this,"object"==typeof t?t:{}))}))},n.defaultOptions=e.extend(n.defaultOptions,{icons:[{title:"fab fa-500px",searchTerms:[]},{title:"fab fa-accessible-icon",searchTerms:["accessibility","handicap","person","wheelchair","wheelchair-alt"]},{title:"fab fa-accusoft",searchTerms:[]},{title:"fab fa-acquisitions-incorporated",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-ad",searchTerms:[]},{title:"fas fa-address-book",searchTerms:[]},{title:"far fa-address-book",searchTerms:[]},{title:"fas fa-address-card",searchTerms:[]},{title:"far fa-address-card",searchTerms:[]},{title:"fas fa-adjust",searchTerms:["contrast"]},{title:"fab fa-adn",searchTerms:[]},{title:"fab fa-adversal",searchTerms:[]},{title:"fab fa-affiliatetheme",searchTerms:[]},{title:"fas fa-air-freshener",searchTerms:[]},{title:"fab fa-algolia",searchTerms:[]},{title:"fas fa-align-center",searchTerms:["middle","text"]},{title:"fas fa-align-justify",searchTerms:["text"]},{title:"fas fa-align-left",searchTerms:["text"]},{title:"fas fa-align-right",searchTerms:["text"]},{title:"fab fa-alipay",searchTerms:[]},{title:"fas fa-allergies",searchTerms:["freckles","hand","intolerances","pox","spots"]},{title:"fab fa-amazon",searchTerms:[]},{title:"fab fa-amazon-pay",searchTerms:[]},{title:"fas fa-ambulance",searchTerms:["help","machine","support","vehicle"]},{title:"fas fa-american-sign-language-interpreting",searchTerms:[]},{title:"fab fa-amilia",searchTerms:[]},{title:"fas fa-anchor",searchTerms:["link"]},{title:"fab fa-android",searchTerms:["robot"]},{title:"fab fa-angellist",searchTerms:[]},{title:"fas fa-angle-double-down",searchTerms:["arrows"]},{title:"fas fa-angle-double-left",searchTerms:["arrows","back","laquo","previous","quote"]},{title:"fas fa-angle-double-right",searchTerms:["arrows","forward","next","quote","raquo"]},{title:"fas fa-angle-double-up",searchTerms:["arrows"]},{title:"fas fa-angle-down",searchTerms:["arrow"]},{title:"fas fa-angle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-angle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-angle-up",searchTerms:["arrow"]},{title:"fas fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"far fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"fab fa-angrycreative",searchTerms:[]},{title:"fab fa-angular",searchTerms:[]},{title:"fas fa-ankh",searchTerms:["amulet","copper","coptic christianity","copts","crux ansata","egyptian","venus"]},{title:"fab fa-app-store",searchTerms:[]},{title:"fab fa-app-store-ios",searchTerms:[]},{title:"fab fa-apper",searchTerms:[]},{title:"fab fa-apple",searchTerms:["food","fruit","mac","osx"]},{title:"fas fa-apple-alt",searchTerms:["fall","food","fruit","fuji","macintosh","seasonal"]},{title:"fab fa-apple-pay",searchTerms:[]},{title:"fas fa-archive",searchTerms:["box","package","storage"]},{title:"fas fa-archway",searchTerms:["arc","monument","road","street"]},{title:"fas fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"far fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"fas fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"far fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"fas fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"far fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"fas fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"far fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"fas fa-arrow-circle-down",searchTerms:["download"]},{title:"fas fa-arrow-circle-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-circle-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-circle-up",searchTerms:[]},{title:"fas fa-arrow-down",searchTerms:["download"]},{title:"fas fa-arrow-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-up",searchTerms:[]},{title:"fas fa-arrows-alt",searchTerms:["arrow","arrows","bigger","enlarge","expand","fullscreen","move","position","reorder","resize"]},{title:"fas fa-arrows-alt-h",searchTerms:["arrows-h","resize"]},{title:"fas fa-arrows-alt-v",searchTerms:["arrows-v","resize"]},{title:"fas fa-assistive-listening-systems",searchTerms:[]},{title:"fas fa-asterisk",searchTerms:["details"]},{title:"fab fa-asymmetrik",searchTerms:[]},{title:"fas fa-at",searchTerms:["e-mail","email"]},{title:"fas fa-atlas",searchTerms:["book","directions","geography","map","wayfinding"]},{title:"fas fa-atom",searchTerms:["atheism","chemistry","science"]},{title:"fab fa-audible",searchTerms:[]},{title:"fas fa-audio-description",searchTerms:[]},{title:"fab fa-autoprefixer",searchTerms:[]},{title:"fab fa-avianex",searchTerms:[]},{title:"fab fa-aviato",searchTerms:[]},{title:"fas fa-award",searchTerms:["honor","praise","prize","recognition","ribbon"]},{title:"fab fa-aws",searchTerms:[]},{title:"fas fa-backspace",searchTerms:["command","delete","keyboard","undo"]},{title:"fas fa-backward",searchTerms:["previous","rewind"]},{title:"fas fa-balance-scale",searchTerms:["balanced","justice","legal","measure","weight"]},{title:"fas fa-ban",searchTerms:["abort","ban","block","cancel","delete","hide","prohibit","remove","stop","trash"]},{title:"fas fa-band-aid",searchTerms:["bandage","boo boo","ouch"]},{title:"fab fa-bandcamp",searchTerms:[]},{title:"fas fa-barcode",searchTerms:["scan"]},{title:"fas fa-bars",searchTerms:["checklist","drag","hamburger","list","menu","nav","navigation","ol","reorder","settings","todo","ul"]},{title:"fas fa-baseball-ball",searchTerms:[]},{title:"fas fa-basketball-ball",searchTerms:[]},{title:"fas fa-bath",searchTerms:[]},{title:"fas fa-battery-empty",searchTerms:["power","status"]},{title:"fas fa-battery-full",searchTerms:["power","status"]},{title:"fas fa-battery-half",searchTerms:["power","status"]},{title:"fas fa-battery-quarter",searchTerms:["power","status"]},{title:"fas fa-battery-three-quarters",searchTerms:["power","status"]},{title:"fas fa-bed",searchTerms:["lodging","sleep","travel"]},{title:"fas fa-beer",searchTerms:["alcohol","bar","beverage","drink","liquor","mug","stein"]},{title:"fab fa-behance",searchTerms:[]},{title:"fab fa-behance-square",searchTerms:[]},{title:"fas fa-bell",searchTerms:["alert","notification","reminder"]},{title:"far fa-bell",searchTerms:["alert","notification","reminder"]},{title:"fas fa-bell-slash",searchTerms:[]},{title:"far fa-bell-slash",searchTerms:[]},{title:"fas fa-bezier-curve",searchTerms:["curves","illustrator","lines","path","vector"]},{title:"fas fa-bible",searchTerms:["book","catholicism","christianity"]},{title:"fas fa-bicycle",searchTerms:["bike","gears","transportation","vehicle"]},{title:"fab fa-bimobject",searchTerms:[]},{title:"fas fa-binoculars",searchTerms:[]},{title:"fas fa-birthday-cake",searchTerms:[]},{title:"fab fa-bitbucket",searchTerms:["bitbucket-square","git"]},{title:"fab fa-bitcoin",searchTerms:[]},{title:"fab fa-bity",searchTerms:[]},{title:"fab fa-black-tie",searchTerms:[]},{title:"fab fa-blackberry",searchTerms:[]},{title:"fas fa-blender",searchTerms:[]},{title:"fas fa-blender-phone",searchTerms:["appliance","fantasy","silly"]},{title:"fas fa-blind",searchTerms:[]},{title:"fab fa-blogger",searchTerms:[]},{title:"fab fa-blogger-b",searchTerms:[]},{title:"fab fa-bluetooth",searchTerms:[]},{title:"fab fa-bluetooth-b",searchTerms:[]},{title:"fas fa-bold",searchTerms:[]},{title:"fas fa-bolt",searchTerms:["electricity","lightning","weather","zap"]},{title:"fas fa-bomb",searchTerms:[]},{title:"fas fa-bone",searchTerms:[]},{title:"fas fa-bong",searchTerms:["aparatus","cannabis","marijuana","pipe","smoke","smoking"]},{title:"fas fa-book",searchTerms:["documentation","read"]},{title:"fas fa-book-dead",searchTerms:["Dungeons & Dragons","crossbones","d&d","dark arts","death","dnd","documentation","evil","fantasy","halloween","holiday","read","skull","spell"]},{title:"fas fa-book-open",searchTerms:["flyer","notebook","open book","pamphlet","reading"]},{title:"fas fa-book-reader",searchTerms:["library"]},{title:"fas fa-bookmark",searchTerms:["save"]},{title:"far fa-bookmark",searchTerms:["save"]},{title:"fas fa-bowling-ball",searchTerms:[]},{title:"fas fa-box",searchTerms:["package"]},{title:"fas fa-box-open",searchTerms:[]},{title:"fas fa-boxes",searchTerms:[]},{title:"fas fa-braille",searchTerms:[]},{title:"fas fa-brain",searchTerms:["cerebellum","gray matter","intellect","medulla oblongata","mind","noodle","wit"]},{title:"fas fa-briefcase",searchTerms:["bag","business","luggage","office","work"]},{title:"fas fa-briefcase-medical",searchTerms:["health briefcase"]},{title:"fas fa-broadcast-tower",searchTerms:["airwaves","radio","waves"]},{title:"fas fa-broom",searchTerms:["clean","firebolt","fly","halloween","holiday","nimbus 2000","quidditch","sweep","witch"]},{title:"fas fa-brush",searchTerms:["bristles","color","handle","painting"]},{title:"fab fa-btc",searchTerms:[]},{title:"fas fa-bug",searchTerms:["insect","report"]},{title:"fas fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"far fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"fas fa-bullhorn",searchTerms:["announcement","broadcast","louder","megaphone","share"]},{title:"fas fa-bullseye",searchTerms:["target"]},{title:"fas fa-burn",searchTerms:["energy"]},{title:"fab fa-buromobelexperte",searchTerms:[]},{title:"fas fa-bus",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-bus-alt",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-business-time",searchTerms:["briefcase","business socks","clock","flight of the conchords","wednesday"]},{title:"fab fa-buysellads",searchTerms:[]},{title:"fas fa-calculator",searchTerms:[]},{title:"fas fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"far fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"fas fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"far fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"fas fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"far fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"fas fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"far fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"far fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"far fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-camera",searchTerms:["photo","picture","record"]},{title:"fas fa-camera-retro",searchTerms:["photo","picture","record"]},{title:"fas fa-campground",searchTerms:["camping","fall","outdoors","seasonal","tent"]},{title:"fas fa-cannabis",searchTerms:["bud","chronic","drugs","endica","endo","ganja","marijuana","mary jane","pot","reefer","sativa","spliff","weed","whacky-tabacky"]},{title:"fas fa-capsules",searchTerms:["drugs","medicine"]},{title:"fas fa-car",searchTerms:["machine","transportation","vehicle"]},{title:"fas fa-car-alt",searchTerms:[]},{title:"fas fa-car-battery",searchTerms:[]},{title:"fas fa-car-crash",searchTerms:[]},{title:"fas fa-car-side",searchTerms:[]},{title:"fas fa-caret-down",searchTerms:["arrow","dropdown","menu","more","triangle down"]},{title:"fas fa-caret-left",searchTerms:["arrow","back","previous","triangle left"]},{title:"fas fa-caret-right",searchTerms:["arrow","forward","next","triangle right"]},{title:"fas fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"far fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"fas fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"far fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"fas fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"far fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"fas fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"far fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"fas fa-caret-up",searchTerms:["arrow","triangle up"]},{title:"fas fa-cart-arrow-down",searchTerms:["shopping"]},{title:"fas fa-cart-plus",searchTerms:["add","create","new","positive","shopping"]},{title:"fas fa-cat",searchTerms:["feline","halloween","holiday","kitten","kitty","meow","pet"]},{title:"fab fa-cc-amazon-pay",searchTerms:[]},{title:"fab fa-cc-amex",searchTerms:["amex"]},{title:"fab fa-cc-apple-pay",searchTerms:[]},{title:"fab fa-cc-diners-club",searchTerms:[]},{title:"fab fa-cc-discover",searchTerms:[]},{title:"fab fa-cc-jcb",searchTerms:[]},{title:"fab fa-cc-mastercard",searchTerms:[]},{title:"fab fa-cc-paypal",searchTerms:[]},{title:"fab fa-cc-stripe",searchTerms:[]},{title:"fab fa-cc-visa",searchTerms:[]},{title:"fab fa-centercode",searchTerms:[]},{title:"fas fa-certificate",searchTerms:["badge","star"]},{title:"fas fa-chair",searchTerms:["furniture","seat"]},{title:"fas fa-chalkboard",searchTerms:["blackboard","learning","school","teaching","whiteboard","writing"]},{title:"fas fa-chalkboard-teacher",searchTerms:["blackboard","instructor","learning","professor","school","whiteboard","writing"]},{title:"fas fa-charging-station",searchTerms:[]},{title:"fas fa-chart-area",searchTerms:["analytics","area-chart","graph"]},{title:"fas fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"far fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"fas fa-chart-line",searchTerms:["activity","analytics","dashboard","graph","line-chart"]},{title:"fas fa-chart-pie",searchTerms:["analytics","graph","pie-chart"]},{title:"fas fa-check",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo","yes"]},{title:"fas fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-check-double",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo"]},{title:"fas fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-chess",searchTerms:[]},{title:"fas fa-chess-bishop",searchTerms:[]},{title:"fas fa-chess-board",searchTerms:[]},{title:"fas fa-chess-king",searchTerms:[]},{title:"fas fa-chess-knight",searchTerms:[]},{title:"fas fa-chess-pawn",searchTerms:[]},{title:"fas fa-chess-queen",searchTerms:[]},{title:"fas fa-chess-rook",searchTerms:[]},{title:"fas fa-chevron-circle-down",searchTerms:["arrow","dropdown","menu","more"]},{title:"fas fa-chevron-circle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-chevron-circle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-chevron-circle-up",searchTerms:["arrow"]},{title:"fas fa-chevron-down",searchTerms:[]},{title:"fas fa-chevron-left",searchTerms:["back","bracket","previous"]},{title:"fas fa-chevron-right",searchTerms:["bracket","forward","next"]},{title:"fas fa-chevron-up",searchTerms:[]},{title:"fas fa-child",searchTerms:[]},{title:"fab fa-chrome",searchTerms:["browser"]},{title:"fas fa-church",searchTerms:["building","community","religion"]},{title:"fas fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"far fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"fas fa-circle-notch",searchTerms:["circle-o-notch"]},{title:"fas fa-city",searchTerms:["buildings","busy","skyscrapers","urban","windows"]},{title:"fas fa-clipboard",searchTerms:["paste"]},{title:"far fa-clipboard",searchTerms:["paste"]},{title:"fas fa-clipboard-check",searchTerms:["accept","agree","confirm","done","ok","select","success","todo","yes"]},{title:"fas fa-clipboard-list",searchTerms:["checklist","completed","done","finished","intinerary","ol","schedule","todo","ul"]},{title:"fas fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"far fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"fas fa-clone",searchTerms:["copy","duplicate"]},{title:"far fa-clone",searchTerms:["copy","duplicate"]},{title:"fas fa-closed-captioning",searchTerms:["cc"]},{title:"far fa-closed-captioning",searchTerms:["cc"]},{title:"fas fa-cloud",searchTerms:["save"]},{title:"fas fa-cloud-download-alt",searchTerms:["import"]},{title:"fas fa-cloud-meatball",searchTerms:[]},{title:"fas fa-cloud-moon",searchTerms:["crescent","evening","halloween","holiday","lunar","night","sky"]},{title:"fas fa-cloud-moon-rain",searchTerms:[]},{title:"fas fa-cloud-rain",searchTerms:["precipitation"]},{title:"fas fa-cloud-showers-heavy",searchTerms:["precipitation","rain","storm"]},{title:"fas fa-cloud-sun",searchTerms:["day","daytime","fall","outdoors","seasonal"]},{title:"fas fa-cloud-sun-rain",searchTerms:[]},{title:"fas fa-cloud-upload-alt",searchTerms:["cloud-upload"]},{title:"fab fa-cloudscale",searchTerms:[]},{title:"fab fa-cloudsmith",searchTerms:[]},{title:"fab fa-cloudversify",searchTerms:[]},{title:"fas fa-cocktail",searchTerms:["alcohol","beverage","drink"]},{title:"fas fa-code",searchTerms:["brackets","html"]},{title:"fas fa-code-branch",searchTerms:["branch","code-fork","fork","git","github","rebase","svn","vcs","version"]},{title:"fab fa-codepen",searchTerms:[]},{title:"fab fa-codiepie",searchTerms:[]},{title:"fas fa-coffee",searchTerms:["beverage","breakfast","cafe","drink","fall","morning","mug","seasonal","tea"]},{title:"fas fa-cog",searchTerms:["settings"]},{title:"fas fa-cogs",searchTerms:["gears","settings"]},{title:"fas fa-coins",searchTerms:[]},{title:"fas fa-columns",searchTerms:["dashboard","panes","split"]},{title:"fas fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-dollar",searchTerms:[]},{title:"fas fa-comment-dots",searchTerms:[]},{title:"far fa-comment-dots",searchTerms:[]},{title:"fas fa-comment-slash",searchTerms:[]},{title:"fas fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comments-dollar",searchTerms:[]},{title:"fas fa-compact-disc",searchTerms:["bluray","cd","disc","media"]},{title:"fas fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"far fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"fas fa-compress",searchTerms:["collapse","combine","contract","merge","smaller"]},{title:"fas fa-concierge-bell",searchTerms:["attention","hotel","service","support"]},{title:"fab fa-connectdevelop",searchTerms:[]},{title:"fab fa-contao",searchTerms:[]},{title:"fas fa-cookie",searchTerms:["baked good","chips","food","snack","sweet","treat"]},{title:"fas fa-cookie-bite",searchTerms:["baked good","bitten","chips","eating","food","snack","sweet","treat"]},{title:"fas fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"far fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"fas fa-copyright",searchTerms:[]},{title:"far fa-copyright",searchTerms:[]},{title:"fas fa-couch",searchTerms:["furniture","sofa"]},{title:"fab fa-cpanel",searchTerms:[]},{title:"fab fa-creative-commons",searchTerms:[]},{title:"fab fa-creative-commons-by",searchTerms:[]},{title:"fab fa-creative-commons-nc",searchTerms:[]},{title:"fab fa-creative-commons-nc-eu",searchTerms:[]},{title:"fab fa-creative-commons-nc-jp",searchTerms:[]},{title:"fab fa-creative-commons-nd",searchTerms:[]},{title:"fab fa-creative-commons-pd",searchTerms:[]},{title:"fab fa-creative-commons-pd-alt",searchTerms:[]},{title:"fab fa-creative-commons-remix",searchTerms:[]},{title:"fab fa-creative-commons-sa",searchTerms:[]},{title:"fab fa-creative-commons-sampling",searchTerms:[]},{title:"fab fa-creative-commons-sampling-plus",searchTerms:[]},{title:"fab fa-creative-commons-share",searchTerms:[]},{title:"fab fa-creative-commons-zero",searchTerms:[]},{title:"fas fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"far fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"fab fa-critical-role",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-crop",searchTerms:["design"]},{title:"fas fa-crop-alt",searchTerms:[]},{title:"fas fa-cross",searchTerms:["catholicism","christianity"]},{title:"fas fa-crosshairs",searchTerms:["gpd","picker","position"]},{title:"fas fa-crow",searchTerms:["bird","bullfrog","fauna","halloween","holiday","toad"]},{title:"fas fa-crown",searchTerms:[]},{title:"fab fa-css3",searchTerms:["code"]},{title:"fab fa-css3-alt",searchTerms:[]},{title:"fas fa-cube",searchTerms:["package"]},{title:"fas fa-cubes",searchTerms:["packages"]},{title:"fas fa-cut",searchTerms:["scissors"]},{title:"fab fa-cuttlefish",searchTerms:[]},{title:"fab fa-d-and-d",searchTerms:[]},{title:"fab fa-d-and-d-beyond",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","gaming","tabletop"]},{title:"fab fa-dashcube",searchTerms:[]},{title:"fas fa-database",searchTerms:[]},{title:"fas fa-deaf",searchTerms:[]},{title:"fab fa-delicious",searchTerms:[]},{title:"fas fa-democrat",searchTerms:["american","democratic party","donkey","election","left","left-wing","liberal","politics","usa"]},{title:"fab fa-deploydog",searchTerms:[]},{title:"fab fa-deskpro",searchTerms:[]},{title:"fas fa-desktop",searchTerms:["computer","cpu","demo","desktop","device","machine","monitor","pc","screen"]},{title:"fab fa-dev",searchTerms:[]},{title:"fab fa-deviantart",searchTerms:[]},{title:"fas fa-dharmachakra",searchTerms:["buddhism","buddhist","wheel of dharma"]},{title:"fas fa-diagnoses",searchTerms:[]},{title:"fas fa-dice",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-d20",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-d6",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-five",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-four",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-one",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-six",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-three",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-two",searchTerms:["chance","gambling","game","roll"]},{title:"fab fa-digg",searchTerms:[]},{title:"fab fa-digital-ocean",searchTerms:[]},{title:"fas fa-digital-tachograph",searchTerms:[]},{title:"fas fa-directions",searchTerms:[]},{title:"fab fa-discord",searchTerms:[]},{title:"fab fa-discourse",searchTerms:[]},{title:"fas fa-divide",searchTerms:[]},{title:"fas fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"far fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"fas fa-dna",searchTerms:["double helix","helix"]},{title:"fab fa-dochub",searchTerms:[]},{title:"fab fa-docker",searchTerms:[]},{title:"fas fa-dog",searchTerms:["canine","fauna","mammmal","pet","pooch","puppy","woof"]},{title:"fas fa-dollar-sign",searchTerms:["$","dollar-sign","money","price","usd"]},{title:"fas fa-dolly",searchTerms:[]},{title:"fas fa-dolly-flatbed",searchTerms:[]},{title:"fas fa-donate",searchTerms:["generosity","give"]},{title:"fas fa-door-closed",searchTerms:[]},{title:"fas fa-door-open",searchTerms:[]},{title:"fas fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"far fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"fas fa-dove",searchTerms:["bird","fauna","flying","peace"]},{title:"fas fa-download",searchTerms:["import"]},{title:"fab fa-draft2digital",searchTerms:[]},{title:"fas fa-drafting-compass",searchTerms:["mechanical drawing","plot","plotting"]},{title:"fas fa-dragon",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy"]},{title:"fas fa-draw-polygon",searchTerms:[]},{title:"fab fa-dribbble",searchTerms:[]},{title:"fab fa-dribbble-square",searchTerms:[]},{title:"fab fa-dropbox",searchTerms:[]},{title:"fas fa-drum",searchTerms:["instrument","music","percussion","snare","sound"]},{title:"fas fa-drum-steelpan",searchTerms:["calypso","instrument","music","percussion","reggae","snare","sound","steel","tropical"]},{title:"fas fa-drumstick-bite",searchTerms:[]},{title:"fab fa-drupal",searchTerms:[]},{title:"fas fa-dumbbell",searchTerms:["exercise","gym","strength","weight","weight-lifting"]},{title:"fas fa-dungeon",searchTerms:["Dungeons & Dragons","d&d","dnd","door","entrance","fantasy","gate"]},{title:"fab fa-dyalog",searchTerms:[]},{title:"fab fa-earlybirds",searchTerms:[]},{title:"fab fa-ebay",searchTerms:[]},{title:"fab fa-edge",searchTerms:["browser","ie"]},{title:"fas fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"far fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"fas fa-eject",searchTerms:[]},{title:"fab fa-elementor",searchTerms:[]},{title:"fas fa-ellipsis-h",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fas fa-ellipsis-v",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fab fa-ello",searchTerms:[]},{title:"fab fa-ember",searchTerms:[]},{title:"fab fa-empire",searchTerms:[]},{title:"fas fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open-text",searchTerms:[]},{title:"fas fa-envelope-square",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fab fa-envira",searchTerms:["leaf"]},{title:"fas fa-equals",searchTerms:[]},{title:"fas fa-eraser",searchTerms:["delete","remove"]},{title:"fab fa-erlang",searchTerms:[]},{title:"fab fa-ethereum",searchTerms:[]},{title:"fab fa-etsy",searchTerms:[]},{title:"fas fa-euro-sign",searchTerms:["eur"]},{title:"fas fa-exchange-alt",searchTerms:["arrow","arrows","exchange","reciprocate","return","swap","transfer"]},{title:"fas fa-exclamation",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-circle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-triangle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-expand",searchTerms:["bigger","enlarge","resize"]},{title:"fas fa-expand-arrows-alt",searchTerms:["arrows-alt","bigger","enlarge","move","resize"]},{title:"fab fa-expeditedssl",searchTerms:[]},{title:"fas fa-external-link-alt",searchTerms:["external-link","new","open"]},{title:"fas fa-external-link-square-alt",searchTerms:["external-link-square","new","open"]},{title:"fas fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"far fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"fas fa-eye-dropper",searchTerms:["eyedropper"]},{title:"fas fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"far fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"fab fa-facebook",searchTerms:["facebook-official","social network"]},{title:"fab fa-facebook-f",searchTerms:["facebook"]},{title:"fab fa-facebook-messenger",searchTerms:[]},{title:"fab fa-facebook-square",searchTerms:["social network"]},{title:"fab fa-fantasy-flight-games",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-fast-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-fast-forward",searchTerms:["end","last","next"]},{title:"fas fa-fax",searchTerms:[]},{title:"fas fa-feather",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-feather-alt",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-female",searchTerms:["human","person","profile","user","woman"]},{title:"fas fa-fighter-jet",searchTerms:["airplane","fast","fly","goose","maverick","plane","quick","top gun","transportation","travel"]},{title:"fas fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"far fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"fas fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"far fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"fas fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"far fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"fas fa-file-audio",searchTerms:[]},{title:"far fa-file-audio",searchTerms:[]},{title:"fas fa-file-code",searchTerms:[]},{title:"far fa-file-code",searchTerms:[]},{title:"fas fa-file-contract",searchTerms:["agreement","binding","document","legal","signature"]},{title:"fas fa-file-csv",searchTerms:["spreadsheets"]},{title:"fas fa-file-download",searchTerms:[]},{title:"fas fa-file-excel",searchTerms:[]},{title:"far fa-file-excel",searchTerms:[]},{title:"fas fa-file-export",searchTerms:[]},{title:"fas fa-file-image",searchTerms:[]},{title:"far fa-file-image",searchTerms:[]},{title:"fas fa-file-import",searchTerms:[]},{title:"fas fa-file-invoice",searchTerms:["bill","document","receipt"]},{title:"fas fa-file-invoice-dollar",searchTerms:["$","bill","document","dollar-sign","money","receipt","usd"]},{title:"fas fa-file-medical",searchTerms:[]},{title:"fas fa-file-medical-alt",searchTerms:[]},{title:"fas fa-file-pdf",searchTerms:[]},{title:"far fa-file-pdf",searchTerms:[]},{title:"fas fa-file-powerpoint",searchTerms:[]},{title:"far fa-file-powerpoint",searchTerms:[]},{title:"fas fa-file-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-file-signature",searchTerms:["John Hancock","contract","document","name"]},{title:"fas fa-file-upload",searchTerms:[]},{title:"fas fa-file-video",searchTerms:[]},{title:"far fa-file-video",searchTerms:[]},{title:"fas fa-file-word",searchTerms:[]},{title:"far fa-file-word",searchTerms:[]},{title:"fas fa-fill",searchTerms:["bucket","color","paint","paint bucket"]},{title:"fas fa-fill-drip",searchTerms:["bucket","color","drop","paint","paint bucket","spill"]},{title:"fas fa-film",searchTerms:["movie"]},{title:"fas fa-filter",searchTerms:["funnel","options"]},{title:"fas fa-fingerprint",searchTerms:["human","id","identification","lock","smudge","touch","unique","unlock"]},{title:"fas fa-fire",searchTerms:["caliente","flame","heat","hot","popular"]},{title:"fas fa-fire-extinguisher",searchTerms:[]},{title:"fab fa-firefox",searchTerms:["browser"]},{title:"fas fa-first-aid",searchTerms:[]},{title:"fab fa-first-order",searchTerms:[]},{title:"fab fa-first-order-alt",searchTerms:[]},{title:"fab fa-firstdraft",searchTerms:[]},{title:"fas fa-fish",searchTerms:["fauna","gold","swimming"]},{title:"fas fa-fist-raised",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","hand","ki","monk","resist","strength","unarmed combat"]},{title:"fas fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"far fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"fas fa-flag-checkered",searchTerms:["notice","notification","notify","pole","racing","report","symbol"]},{title:"fas fa-flag-usa",searchTerms:["betsy ross","country","old glory","stars","stripes","symbol"]},{title:"fas fa-flask",searchTerms:["beaker","experimental","labs","science"]},{title:"fab fa-flickr",searchTerms:[]},{title:"fab fa-flipboard",searchTerms:[]},{title:"fas fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"far fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"fab fa-fly",searchTerms:[]},{title:"fas fa-folder",searchTerms:[]},{title:"far fa-folder",searchTerms:[]},{title:"fas fa-folder-minus",searchTerms:["archive","delete","negative","remove"]},{title:"fas fa-folder-open",searchTerms:[]},{title:"far fa-folder-open",searchTerms:[]},{title:"fas fa-folder-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-font",searchTerms:["text"]},{title:"fab fa-font-awesome",searchTerms:["meanpath"]},{title:"fab fa-font-awesome-alt",searchTerms:[]},{title:"fab fa-font-awesome-flag",searchTerms:[]},{title:"far fa-font-awesome-logo-full",searchTerms:[]},{title:"fas fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-fonticons",searchTerms:[]},{title:"fab fa-fonticons-fi",searchTerms:[]},{title:"fas fa-football-ball",searchTerms:["fall","pigskin","seasonal"]},{title:"fab fa-fort-awesome",searchTerms:["castle"]},{title:"fab fa-fort-awesome-alt",searchTerms:["castle"]},{title:"fab fa-forumbee",searchTerms:[]},{title:"fas fa-forward",searchTerms:["forward","next"]},{title:"fab fa-foursquare",searchTerms:[]},{title:"fab fa-free-code-camp",searchTerms:[]},{title:"fab fa-freebsd",searchTerms:[]},{title:"fas fa-frog",searchTerms:["amphibian","bullfrog","fauna","hop","kermit","kiss","prince","ribbit","toad","wart"]},{title:"fas fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fas fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fab fa-fulcrum",searchTerms:[]},{title:"fas fa-funnel-dollar",searchTerms:[]},{title:"fas fa-futbol",searchTerms:["ball","football","soccer"]},{title:"far fa-futbol",searchTerms:["ball","football","soccer"]},{title:"fab fa-galactic-republic",searchTerms:["politics","star wars"]},{title:"fab fa-galactic-senate",searchTerms:["star wars"]},{title:"fas fa-gamepad",searchTerms:["controller"]},{title:"fas fa-gas-pump",searchTerms:[]},{title:"fas fa-gavel",searchTerms:["hammer","judge","lawyer","opinion"]},{title:"fas fa-gem",searchTerms:["diamond"]},{title:"far fa-gem",searchTerms:["diamond"]},{title:"fas fa-genderless",searchTerms:[]},{title:"fab fa-get-pocket",searchTerms:[]},{title:"fab fa-gg",searchTerms:[]},{title:"fab fa-gg-circle",searchTerms:[]},{title:"fas fa-ghost",searchTerms:["apparition","blinky","clyde","floating","halloween","holiday","inky","pinky","spirit"]},{title:"fas fa-gift",searchTerms:["generosity","giving","party","present","wrapped"]},{title:"fab fa-git",searchTerms:[]},{title:"fab fa-git-square",searchTerms:[]},{title:"fab fa-github",searchTerms:["octocat"]},{title:"fab fa-github-alt",searchTerms:["octocat"]},{title:"fab fa-github-square",searchTerms:["octocat"]},{title:"fab fa-gitkraken",searchTerms:[]},{title:"fab fa-gitlab",searchTerms:["Axosoft"]},{title:"fab fa-gitter",searchTerms:[]},{title:"fas fa-glass-martini",searchTerms:["alcohol","bar","beverage","drink","glass","liquor","martini"]},{title:"fas fa-glass-martini-alt",searchTerms:[]},{title:"fas fa-glasses",searchTerms:["foureyes","hipster","nerd","reading","sight","spectacles"]},{title:"fab fa-glide",searchTerms:[]},{title:"fab fa-glide-g",searchTerms:[]},{title:"fas fa-globe",searchTerms:["all","coordinates","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-africa",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-americas",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-asia",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fab fa-gofore",searchTerms:[]},{title:"fas fa-golf-ball",searchTerms:[]},{title:"fab fa-goodreads",searchTerms:[]},{title:"fab fa-goodreads-g",searchTerms:[]},{title:"fab fa-google",searchTerms:[]},{title:"fab fa-google-drive",searchTerms:[]},{title:"fab fa-google-play",searchTerms:[]},{title:"fab fa-google-plus",searchTerms:["google-plus-circle","google-plus-official"]},{title:"fab fa-google-plus-g",searchTerms:["google-plus","social network"]},{title:"fab fa-google-plus-square",searchTerms:["social network"]},{title:"fab fa-google-wallet",searchTerms:[]},{title:"fas fa-gopuram",searchTerms:["building","entrance","hinduism","temple","tower"]},{title:"fas fa-graduation-cap",searchTerms:["learning","school","student"]},{title:"fab fa-gratipay",searchTerms:["favorite","heart","like","love"]},{title:"fab fa-grav",searchTerms:[]},{title:"fas fa-greater-than",searchTerms:[]},{title:"fas fa-greater-than-equal",searchTerms:[]},{title:"fas fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"far fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"fas fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"far fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"fas fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"far fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"fas fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"far fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"fas fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"far fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"fas fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"far fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"fas fa-grip-horizontal",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fas fa-grip-vertical",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fab fa-gripfire",searchTerms:[]},{title:"fab fa-grunt",searchTerms:[]},{title:"fab fa-gulp",searchTerms:[]},{title:"fas fa-h-square",searchTerms:["hospital","hotel"]},{title:"fab fa-hacker-news",searchTerms:[]},{title:"fab fa-hacker-news-square",searchTerms:[]},{title:"fab fa-hackerrank",searchTerms:[]},{title:"fas fa-hammer",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fas fa-hamsa",searchTerms:["amulet","christianity","islam","jewish","judaism","muslim","protection"]},{title:"fas fa-hand-holding",searchTerms:[]},{title:"fas fa-hand-holding-heart",searchTerms:[]},{title:"fas fa-hand-holding-usd",searchTerms:["$","dollar sign","donation","giving","money","price"]},{title:"fas fa-hand-lizard",searchTerms:[]},{title:"far fa-hand-lizard",searchTerms:[]},{title:"fas fa-hand-paper",searchTerms:["stop"]},{title:"far fa-hand-paper",searchTerms:["stop"]},{title:"fas fa-hand-peace",searchTerms:[]},{title:"far fa-hand-peace",searchTerms:[]},{title:"fas fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"far fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"fas fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"far fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"fas fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"far fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"fas fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"far fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"fas fa-hand-pointer",searchTerms:["select"]},{title:"far fa-hand-pointer",searchTerms:["select"]},{title:"fas fa-hand-rock",searchTerms:[]},{title:"far fa-hand-rock",searchTerms:[]},{title:"fas fa-hand-scissors",searchTerms:[]},{title:"far fa-hand-scissors",searchTerms:[]},{title:"fas fa-hand-spock",searchTerms:[]},{title:"far fa-hand-spock",searchTerms:[]},{title:"fas fa-hands",searchTerms:[]},{title:"fas fa-hands-helping",searchTerms:["aid","assistance","partnership","volunteering"]},{title:"fas fa-handshake",searchTerms:["greeting","partnership"]},{title:"far fa-handshake",searchTerms:["greeting","partnership"]},{title:"fas fa-hanukiah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-hashtag",searchTerms:[]},{title:"fas fa-hat-wizard",searchTerms:["Dungeons & Dragons","buckle","cloth","clothing","d&d","dnd","fantasy","halloween","holiday","mage","magic","pointy","witch"]},{title:"fas fa-haykal",searchTerms:["bahai","bahá'í","star"]},{title:"fas fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"far fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"fas fa-heading",searchTerms:["header"]},{title:"fas fa-headphones",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headphones-alt",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headset",searchTerms:["audio","gamer","gaming","listen","live chat","microphone","shot caller","sound","support","telemarketer"]},{title:"fas fa-heart",searchTerms:["favorite","like","love"]},{title:"far fa-heart",searchTerms:["favorite","like","love"]},{title:"fas fa-heartbeat",searchTerms:["ekg","lifeline","vital signs"]},{title:"fas fa-helicopter",searchTerms:["airwolf","apache","chopper","flight","fly"]},{title:"fas fa-highlighter",searchTerms:["edit","marker","sharpie","update","write"]},{title:"fas fa-hiking",searchTerms:["activity","backpack","fall","fitness","outdoors","seasonal","walking"]},{title:"fas fa-hippo",searchTerms:["fauna","hungry","mammmal"]},{title:"fab fa-hips",searchTerms:[]},{title:"fab fa-hire-a-helper",searchTerms:[]},{title:"fas fa-history",searchTerms:[]},{title:"fas fa-hockey-puck",searchTerms:[]},{title:"fas fa-home",searchTerms:["house","main"]},{title:"fab fa-hooli",searchTerms:[]},{title:"fab fa-hornbill",searchTerms:[]},{title:"fas fa-horse",searchTerms:["equus","fauna","mammmal","neigh"]},{title:"fas fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"far fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-alt",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-symbol",searchTerms:[]},{title:"fas fa-hot-tub",searchTerms:[]},{title:"fas fa-hotel",searchTerms:["building","lodging"]},{title:"fab fa-hotjar",searchTerms:[]},{title:"fas fa-hourglass",searchTerms:[]},{title:"far fa-hourglass",searchTerms:[]},{title:"fas fa-hourglass-end",searchTerms:[]},{title:"fas fa-hourglass-half",searchTerms:[]},{title:"fas fa-hourglass-start",searchTerms:[]},{title:"fas fa-house-damage",searchTerms:["devastation","home"]},{title:"fab fa-houzz",searchTerms:[]},{title:"fas fa-hryvnia",searchTerms:["money"]},{title:"fab fa-html5",searchTerms:[]},{title:"fab fa-hubspot",searchTerms:[]},{title:"fas fa-i-cursor",searchTerms:[]},{title:"fas fa-id-badge",searchTerms:[]},{title:"far fa-id-badge",searchTerms:[]},{title:"fas fa-id-card",searchTerms:["document","identification","issued"]},{title:"far fa-id-card",searchTerms:["document","identification","issued"]},{title:"fas fa-id-card-alt",searchTerms:["demographics"]},{title:"fas fa-image",searchTerms:["album","photo","picture"]},{title:"far fa-image",searchTerms:["album","photo","picture"]},{title:"fas fa-images",searchTerms:["album","photo","picture"]},{title:"far fa-images",searchTerms:["album","photo","picture"]},{title:"fab fa-imdb",searchTerms:[]},{title:"fas fa-inbox",searchTerms:[]},{title:"fas fa-indent",searchTerms:[]},{title:"fas fa-industry",searchTerms:["factory","manufacturing"]},{title:"fas fa-infinity",searchTerms:[]},{title:"fas fa-info",searchTerms:["details","help","information","more"]},{title:"fas fa-info-circle",searchTerms:["details","help","information","more"]},{title:"fab fa-instagram",searchTerms:[]},{title:"fab fa-internet-explorer",searchTerms:["browser","ie"]},{title:"fab fa-ioxhost",searchTerms:[]},{title:"fas fa-italic",searchTerms:["italics"]},{title:"fab fa-itunes",searchTerms:[]},{title:"fab fa-itunes-note",searchTerms:[]},{title:"fab fa-java",searchTerms:[]},{title:"fas fa-jedi",searchTerms:["star wars"]},{title:"fab fa-jedi-order",searchTerms:["star wars"]},{title:"fab fa-jenkins",searchTerms:[]},{title:"fab fa-joget",searchTerms:[]},{title:"fas fa-joint",searchTerms:["blunt","cannabis","doobie","drugs","marijuana","roach","smoke","smoking","spliff"]},{title:"fab fa-joomla",searchTerms:[]},{title:"fas fa-journal-whills",searchTerms:["book","jedi","star wars","the force"]},{title:"fab fa-js",searchTerms:[]},{title:"fab fa-js-square",searchTerms:[]},{title:"fab fa-jsfiddle",searchTerms:[]},{title:"fas fa-kaaba",searchTerms:["building","cube","islam","muslim"]},{title:"fab fa-kaggle",searchTerms:[]},{title:"fas fa-key",searchTerms:["password","unlock"]},{title:"fab fa-keybase",searchTerms:[]},{title:"fas fa-keyboard",searchTerms:["input","type"]},{title:"far fa-keyboard",searchTerms:["input","type"]},{title:"fab fa-keycdn",searchTerms:[]},{title:"fas fa-khanda",searchTerms:["chakkar","sikh","sikhism","sword"]},{title:"fab fa-kickstarter",searchTerms:[]},{title:"fab fa-kickstarter-k",searchTerms:[]},{title:"fas fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiwi-bird",searchTerms:["bird","fauna"]},{title:"fab fa-korvue",searchTerms:[]},{title:"fas fa-landmark",searchTerms:["building","historic","memoroable","politics"]},{title:"fas fa-language",searchTerms:["dialect","idiom","localize","speech","translate","vernacular"]},{title:"fas fa-laptop",searchTerms:["computer","cpu","dell","demo","device","dude you're getting","mac","macbook","machine","pc"]},{title:"fas fa-laptop-code",searchTerms:[]},{title:"fab fa-laravel",searchTerms:[]},{title:"fab fa-lastfm",searchTerms:[]},{title:"fab fa-lastfm-square",searchTerms:[]},{title:"fas fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"far fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"fas fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-layer-group",searchTerms:["layers"]},{title:"fas fa-leaf",searchTerms:["eco","flora","nature","plant"]},{title:"fab fa-leanpub",searchTerms:[]},{title:"fas fa-lemon",searchTerms:["food"]},{title:"far fa-lemon",searchTerms:["food"]},{title:"fab fa-less",searchTerms:[]},{title:"fas fa-less-than",searchTerms:[]},{title:"fas fa-less-than-equal",searchTerms:[]},{title:"fas fa-level-down-alt",searchTerms:["level-down"]},{title:"fas fa-level-up-alt",searchTerms:["level-up"]},{title:"fas fa-life-ring",searchTerms:["support"]},{title:"far fa-life-ring",searchTerms:["support"]},{title:"fas fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"far fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"fab fa-line",searchTerms:[]},{title:"fas fa-link",searchTerms:["chain"]},{title:"fab fa-linkedin",searchTerms:["linkedin-square"]},{title:"fab fa-linkedin-in",searchTerms:["linkedin"]},{title:"fab fa-linode",searchTerms:[]},{title:"fab fa-linux",searchTerms:["tux"]},{title:"fas fa-lira-sign",searchTerms:["try","turkish"]},{title:"fas fa-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"far fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-ol",searchTerms:["checklist","list","numbers","ol","todo","ul"]},{title:"fas fa-list-ul",searchTerms:["checklist","list","ol","todo","ul"]},{title:"fas fa-location-arrow",searchTerms:["address","coordinates","gps","location","map","place","where"]},{title:"fas fa-lock",searchTerms:["admin","protect","security"]},{title:"fas fa-lock-open",searchTerms:["admin","lock","open","password","protect"]},{title:"fas fa-long-arrow-alt-down",searchTerms:["long-arrow-down"]},{title:"fas fa-long-arrow-alt-left",searchTerms:["back","long-arrow-left","previous"]},{title:"fas fa-long-arrow-alt-right",searchTerms:["long-arrow-right"]},{title:"fas fa-long-arrow-alt-up",searchTerms:["long-arrow-up"]},{title:"fas fa-low-vision",searchTerms:[]},{title:"fas fa-luggage-cart",searchTerms:[]},{title:"fab fa-lyft",searchTerms:[]},{title:"fab fa-magento",searchTerms:[]},{title:"fas fa-magic",searchTerms:["autocomplete","automatic","mage","magic","spell","witch","wizard"]},{title:"fas fa-magnet",searchTerms:[]},{title:"fas fa-mail-bulk",searchTerms:[]},{title:"fab fa-mailchimp",searchTerms:[]},{title:"fas fa-male",searchTerms:["human","man","person","profile","user"]},{title:"fab fa-mandalorian",searchTerms:[]},{title:"fas fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"far fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"fas fa-map-marked",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marked-alt",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marker",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-marker-alt",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-pin",searchTerms:["address","coordinates","gps","localize","location","map","marker","place","position","travel","where"]},{title:"fas fa-map-signs",searchTerms:[]},{title:"fab fa-markdown",searchTerms:[]},{title:"fas fa-marker",searchTerms:["edit","sharpie","update","write"]},{title:"fas fa-mars",searchTerms:["male"]},{title:"fas fa-mars-double",searchTerms:[]},{title:"fas fa-mars-stroke",searchTerms:[]},{title:"fas fa-mars-stroke-h",searchTerms:[]},{title:"fas fa-mars-stroke-v",searchTerms:[]},{title:"fas fa-mask",searchTerms:["costume","disguise","halloween","holiday","secret","super hero"]},{title:"fab fa-mastodon",searchTerms:[]},{title:"fab fa-maxcdn",searchTerms:[]},{title:"fas fa-medal",searchTerms:[]},{title:"fab fa-medapps",searchTerms:[]},{title:"fab fa-medium",searchTerms:[]},{title:"fab fa-medium-m",searchTerms:[]},{title:"fas fa-medkit",searchTerms:["first aid","firstaid","health","help","support"]},{title:"fab fa-medrt",searchTerms:[]},{title:"fab fa-meetup",searchTerms:[]},{title:"fab fa-megaport",searchTerms:[]},{title:"fas fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-memory",searchTerms:["DIMM","RAM"]},{title:"fas fa-menorah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-mercury",searchTerms:["transgender"]},{title:"fas fa-meteor",searchTerms:[]},{title:"fas fa-microchip",searchTerms:["cpu","processor"]},{title:"fas fa-microphone",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microphone-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microscope",searchTerms:[]},{title:"fab fa-microsoft",searchTerms:[]},{title:"fas fa-minus",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fas fa-minus-circle",searchTerms:["delete","hide","negative","remove","trash"]},{title:"fas fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"far fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fab fa-mix",searchTerms:[]},{title:"fab fa-mixcloud",searchTerms:[]},{title:"fab fa-mizuni",searchTerms:[]},{title:"fas fa-mobile",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fas fa-mobile-alt",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fab fa-modx",searchTerms:[]},{title:"fab fa-monero",searchTerms:[]},{title:"fas fa-money-bill",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"far fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-wave",searchTerms:[]},{title:"fas fa-money-bill-wave-alt",searchTerms:[]},{title:"fas fa-money-check",searchTerms:["bank check","cheque"]},{title:"fas fa-money-check-alt",searchTerms:["bank check","cheque"]},{title:"fas fa-monument",searchTerms:["building","historic","memoroable"]},{title:"fas fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"far fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"fas fa-mortar-pestle",searchTerms:["crush","culinary","grind","medical","mix","spices"]},{title:"fas fa-mosque",searchTerms:["building","islam","muslim"]},{title:"fas fa-motorcycle",searchTerms:["bike","machine","transportation","vehicle"]},{title:"fas fa-mountain",searchTerms:[]},{title:"fas fa-mouse-pointer",searchTerms:["select"]},{title:"fas fa-music",searchTerms:["note","sound"]},{title:"fab fa-napster",searchTerms:[]},{title:"fab fa-neos",searchTerms:[]},{title:"fas fa-network-wired",searchTerms:[]},{title:"fas fa-neuter",searchTerms:[]},{title:"fas fa-newspaper",searchTerms:["article","press"]},{title:"far fa-newspaper",searchTerms:["article","press"]},{title:"fab fa-nimblr",searchTerms:[]},{title:"fab fa-nintendo-switch",searchTerms:[]},{title:"fab fa-node",searchTerms:[]},{title:"fab fa-node-js",searchTerms:[]},{title:"fas fa-not-equal",searchTerms:[]},{title:"fas fa-notes-medical",searchTerms:[]},{title:"fab fa-npm",searchTerms:[]},{title:"fab fa-ns8",searchTerms:[]},{title:"fab fa-nutritionix",searchTerms:[]},{title:"fas fa-object-group",searchTerms:["design"]},{title:"far fa-object-group",searchTerms:["design"]},{title:"fas fa-object-ungroup",searchTerms:["design"]},{title:"far fa-object-ungroup",searchTerms:["design"]},{title:"fab fa-odnoklassniki",searchTerms:[]},{title:"fab fa-odnoklassniki-square",searchTerms:[]},{title:"fas fa-oil-can",searchTerms:[]},{title:"fab fa-old-republic",searchTerms:["politics","star wars"]},{title:"fas fa-om",searchTerms:["buddhism","hinduism","jainism","mantra"]},{title:"fab fa-opencart",searchTerms:[]},{title:"fab fa-openid",searchTerms:[]},{title:"fab fa-opera",searchTerms:[]},{title:"fab fa-optin-monster",searchTerms:[]},{title:"fab fa-osi",searchTerms:[]},{title:"fas fa-otter",searchTerms:["fauna","mammmal"]},{title:"fas fa-outdent",searchTerms:[]},{title:"fab fa-page4",searchTerms:[]},{title:"fab fa-pagelines",searchTerms:["eco","flora","leaf","leaves","nature","plant","tree"]},{title:"fas fa-paint-brush",searchTerms:[]},{title:"fas fa-paint-roller",searchTerms:["brush","painting","tool"]},{title:"fas fa-palette",searchTerms:["colors","painting"]},{title:"fab fa-palfed",searchTerms:[]},{title:"fas fa-pallet",searchTerms:[]},{title:"fas fa-paper-plane",searchTerms:[]},{title:"far fa-paper-plane",searchTerms:[]},{title:"fas fa-paperclip",searchTerms:["attachment"]},{title:"fas fa-parachute-box",searchTerms:["aid","assistance","rescue","supplies"]},{title:"fas fa-paragraph",searchTerms:[]},{title:"fas fa-parking",searchTerms:[]},{title:"fas fa-passport",searchTerms:["document","identification","issued"]},{title:"fas fa-pastafarianism",searchTerms:["agnosticism","atheism","flying spaghetti monster","fsm"]},{title:"fas fa-paste",searchTerms:["clipboard","copy"]},{title:"fab fa-patreon",searchTerms:[]},{title:"fas fa-pause",searchTerms:["wait"]},{title:"fas fa-pause-circle",searchTerms:[]},{title:"far fa-pause-circle",searchTerms:[]},{title:"fas fa-paw",searchTerms:["animal","pet"]},{title:"fab fa-paypal",searchTerms:[]},{title:"fas fa-peace",searchTerms:[]},{title:"fas fa-pen",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-alt",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-fancy",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-nib",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-square",searchTerms:["edit","pencil-square","update","write"]},{title:"fas fa-pencil-alt",searchTerms:["design","edit","pencil","update","write"]},{title:"fas fa-pencil-ruler",searchTerms:[]},{title:"fab fa-penny-arcade",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","pax","tabletop"]},{title:"fas fa-people-carry",searchTerms:["movers"]},{title:"fas fa-percent",searchTerms:[]},{title:"fas fa-percentage",searchTerms:[]},{title:"fab fa-periscope",searchTerms:[]},{title:"fas fa-person-booth",searchTerms:["changing","changing room","election","human","person","vote","voting"]},{title:"fab fa-phabricator",searchTerms:[]},{title:"fab fa-phoenix-framework",searchTerms:[]},{title:"fab fa-phoenix-squadron",searchTerms:[]},{title:"fas fa-phone",searchTerms:["call","earphone","number","support","telephone","voice"]},{title:"fas fa-phone-slash",searchTerms:[]},{title:"fas fa-phone-square",searchTerms:["call","number","support","telephone","voice"]},{title:"fas fa-phone-volume",searchTerms:["telephone","volume-control-phone"]},{title:"fab fa-php",searchTerms:[]},{title:"fab fa-pied-piper",searchTerms:[]},{title:"fab fa-pied-piper-alt",searchTerms:[]},{title:"fab fa-pied-piper-hat",searchTerms:["clothing"]},{title:"fab fa-pied-piper-pp",searchTerms:[]},{title:"fas fa-piggy-bank",searchTerms:["save","savings"]},{title:"fas fa-pills",searchTerms:["drugs","medicine"]},{title:"fab fa-pinterest",searchTerms:[]},{title:"fab fa-pinterest-p",searchTerms:[]},{title:"fab fa-pinterest-square",searchTerms:[]},{title:"fas fa-place-of-worship",searchTerms:[]},{title:"fas fa-plane",searchTerms:["airplane","destination","fly","location","mode","travel","trip"]},{title:"fas fa-plane-arrival",searchTerms:["airplane","arriving","destination","fly","land","landing","location","mode","travel","trip"]},{title:"fas fa-plane-departure",searchTerms:["airplane","departing","destination","fly","location","mode","take off","taking off","travel","trip"]},{title:"fas fa-play",searchTerms:["music","playing","sound","start"]},{title:"fas fa-play-circle",searchTerms:["playing","start"]},{title:"far fa-play-circle",searchTerms:["playing","start"]},{title:"fab fa-playstation",searchTerms:[]},{title:"fas fa-plug",searchTerms:["connect","online","power"]},{title:"fas fa-plus",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-circle",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"far fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-podcast",searchTerms:[]},{title:"fas fa-poll",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poll-h",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poo",searchTerms:[]},{title:"fas fa-poo-storm",searchTerms:["mess","poop","shit"]},{title:"fas fa-poop",searchTerms:[]},{title:"fas fa-portrait",searchTerms:[]},{title:"fas fa-pound-sign",searchTerms:["gbp"]},{title:"fas fa-power-off",searchTerms:["on","reboot","restart"]},{title:"fas fa-pray",searchTerms:[]},{title:"fas fa-praying-hands",searchTerms:[]},{title:"fas fa-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle-alt",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-print",searchTerms:[]},{title:"fas fa-procedures",searchTerms:[]},{title:"fab fa-product-hunt",searchTerms:[]},{title:"fas fa-project-diagram",searchTerms:[]},{title:"fab fa-pushed",searchTerms:[]},{title:"fas fa-puzzle-piece",searchTerms:["add-on","addon","section"]},{title:"fab fa-python",searchTerms:[]},{title:"fab fa-qq",searchTerms:[]},{title:"fas fa-qrcode",searchTerms:["scan"]},{title:"fas fa-question",searchTerms:["help","information","support","unknown"]},{title:"fas fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"far fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"fas fa-quidditch",searchTerms:[]},{title:"fab fa-quinscape",searchTerms:[]},{title:"fab fa-quora",searchTerms:[]},{title:"fas fa-quote-left",searchTerms:[]},{title:"fas fa-quote-right",searchTerms:[]},{title:"fas fa-quran",searchTerms:["book","islam","muslim"]},{title:"fab fa-r-project",searchTerms:[]},{title:"fas fa-rainbow",searchTerms:[]},{title:"fas fa-random",searchTerms:["shuffle","sort"]},{title:"fab fa-ravelry",searchTerms:[]},{title:"fab fa-react",searchTerms:[]},{title:"fab fa-reacteurope",searchTerms:[]},{title:"fab fa-readme",searchTerms:[]},{title:"fab fa-rebel",searchTerms:[]},{title:"fas fa-receipt",searchTerms:["check","invoice","table"]},{title:"fas fa-recycle",searchTerms:[]},{title:"fab fa-red-river",searchTerms:[]},{title:"fab fa-reddit",searchTerms:[]},{title:"fab fa-reddit-alien",searchTerms:[]},{title:"fab fa-reddit-square",searchTerms:[]},{title:"fas fa-redo",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-redo-alt",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-registered",searchTerms:[]},{title:"far fa-registered",searchTerms:[]},{title:"fab fa-renren",searchTerms:[]},{title:"fas fa-reply",searchTerms:[]},{title:"fas fa-reply-all",searchTerms:[]},{title:"fab fa-replyd",searchTerms:[]},{title:"fas fa-republican",searchTerms:["american","conservative","election","elephant","politics","republican party","right","right-wing","usa"]},{title:"fab fa-researchgate",searchTerms:[]},{title:"fab fa-resolving",searchTerms:[]},{title:"fas fa-retweet",searchTerms:["refresh","reload","share","swap"]},{title:"fab fa-rev",searchTerms:[]},{title:"fas fa-ribbon",searchTerms:["badge","cause","lapel","pin"]},{title:"fas fa-ring",searchTerms:["Dungeons & Dragons","Gollum","band","binding","d&d","dnd","fantasy","jewelry","precious"]},{title:"fas fa-road",searchTerms:["street"]},{title:"fas fa-robot",searchTerms:[]},{title:"fas fa-rocket",searchTerms:["app"]},{title:"fab fa-rocketchat",searchTerms:[]},{title:"fab fa-rockrms",searchTerms:[]},{title:"fas fa-route",searchTerms:[]},{title:"fas fa-rss",searchTerms:["blog"]},{title:"fas fa-rss-square",searchTerms:["blog","feed"]},{title:"fas fa-ruble-sign",searchTerms:["rub"]},{title:"fas fa-ruler",searchTerms:[]},{title:"fas fa-ruler-combined",searchTerms:[]},{title:"fas fa-ruler-horizontal",searchTerms:[]},{title:"fas fa-ruler-vertical",searchTerms:[]},{title:"fas fa-running",searchTerms:["jog","sprint"]},{title:"fas fa-rupee-sign",searchTerms:["indian","inr"]},{title:"fas fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"fas fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"fab fa-safari",searchTerms:["browser"]},{title:"fab fa-sass",searchTerms:[]},{title:"fas fa-save",searchTerms:["floppy","floppy-o"]},{title:"far fa-save",searchTerms:["floppy","floppy-o"]},{title:"fab fa-schlix",searchTerms:[]},{title:"fas fa-school",searchTerms:[]},{title:"fas fa-screwdriver",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fab fa-scribd",searchTerms:[]},{title:"fas fa-scroll",searchTerms:["Dungeons & Dragons","announcement","d&d","dnd","fantasy","paper"]},{title:"fas fa-search",searchTerms:["bigger","enlarge","magnify","preview","zoom"]},{title:"fas fa-search-dollar",searchTerms:[]},{title:"fas fa-search-location",searchTerms:[]},{title:"fas fa-search-minus",searchTerms:["minify","negative","smaller","zoom","zoom out"]},{title:"fas fa-search-plus",searchTerms:["bigger","enlarge","magnify","positive","zoom","zoom in"]},{title:"fab fa-searchengin",searchTerms:[]},{title:"fas fa-seedling",searchTerms:[]},{title:"fab fa-sellcast",searchTerms:["eercast"]},{title:"fab fa-sellsy",searchTerms:[]},{title:"fas fa-server",searchTerms:["cpu"]},{title:"fab fa-servicestack",searchTerms:[]},{title:"fas fa-shapes",searchTerms:["circle","square","triangle"]},{title:"fas fa-share",searchTerms:[]},{title:"fas fa-share-alt",searchTerms:[]},{title:"fas fa-share-alt-square",searchTerms:[]},{title:"fas fa-share-square",searchTerms:["send","social"]},{title:"far fa-share-square",searchTerms:["send","social"]},{title:"fas fa-shekel-sign",searchTerms:["ils"]},{title:"fas fa-shield-alt",searchTerms:["achievement","award","block","defend","security","winner"]},{title:"fas fa-ship",searchTerms:["boat","sea"]},{title:"fas fa-shipping-fast",searchTerms:[]},{title:"fab fa-shirtsinbulk",searchTerms:[]},{title:"fas fa-shoe-prints",searchTerms:["feet","footprints","steps"]},{title:"fas fa-shopping-bag",searchTerms:[]},{title:"fas fa-shopping-basket",searchTerms:[]},{title:"fas fa-shopping-cart",searchTerms:["buy","checkout","payment","purchase"]},{title:"fab fa-shopware",searchTerms:[]},{title:"fas fa-shower",searchTerms:[]},{title:"fas fa-shuttle-van",searchTerms:["machine","public-transportation","transportation","vehicle"]},{title:"fas fa-sign",searchTerms:[]},{title:"fas fa-sign-in-alt",searchTerms:["arrow","enter","join","log in","login","sign in","sign up","sign-in","signin","signup"]},{title:"fas fa-sign-language",searchTerms:[]},{title:"fas fa-sign-out-alt",searchTerms:["arrow","exit","leave","log out","logout","sign-out"]},{title:"fas fa-signal",searchTerms:["bars","graph","online","status"]},{title:"fas fa-signature",searchTerms:["John Hancock","cursive","name","writing"]},{title:"fab fa-simplybuilt",searchTerms:[]},{title:"fab fa-sistrix",searchTerms:[]},{title:"fas fa-sitemap",searchTerms:["directory","hierarchy","ia","information architecture","organization"]},{title:"fab fa-sith",searchTerms:[]},{title:"fas fa-skull",searchTerms:["bones","skeleton","yorick"]},{title:"fas fa-skull-crossbones",searchTerms:["Dungeons & Dragons","alert","bones","d&d","danger","dead","deadly","death","dnd","fantasy","halloween","holiday","jolly-roger","pirate","poison","skeleton","warning"]},{title:"fab fa-skyatlas",searchTerms:[]},{title:"fab fa-skype",searchTerms:[]},{title:"fab fa-slack",searchTerms:["anchor","hash","hashtag"]},{title:"fab fa-slack-hash",searchTerms:["anchor","hash","hashtag"]},{title:"fas fa-slash",searchTerms:[]},{title:"fas fa-sliders-h",searchTerms:["settings","sliders"]},{title:"fab fa-slideshare",searchTerms:[]},{title:"fas fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"far fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"fas fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"far fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"fas fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"far fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"fas fa-smog",searchTerms:["dragon"]},{title:"fas fa-smoking",searchTerms:["cigarette","nicotine","smoking status"]},{title:"fas fa-smoking-ban",searchTerms:["no smoking","non-smoking"]},{title:"fab fa-snapchat",searchTerms:[]},{title:"fab fa-snapchat-ghost",searchTerms:[]},{title:"fab fa-snapchat-square",searchTerms:[]},{title:"fas fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"far fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"fas fa-socks",searchTerms:["business socks","business time","flight of the conchords","wednesday"]},{title:"fas fa-solar-panel",searchTerms:["clean","eco-friendly","energy","green","sun"]},{title:"fas fa-sort",searchTerms:["order"]},{title:"fas fa-sort-alpha-down",searchTerms:["sort-alpha-asc"]},{title:"fas fa-sort-alpha-up",searchTerms:["sort-alpha-desc"]},{title:"fas fa-sort-amount-down",searchTerms:["sort-amount-asc"]},{title:"fas fa-sort-amount-up",searchTerms:["sort-amount-desc"]},{title:"fas fa-sort-down",searchTerms:["arrow","descending","sort-desc"]},{title:"fas fa-sort-numeric-down",searchTerms:["numbers","sort-numeric-asc"]},{title:"fas fa-sort-numeric-up",searchTerms:["numbers","sort-numeric-desc"]},{title:"fas fa-sort-up",searchTerms:["arrow","ascending","sort-asc"]},{title:"fab fa-soundcloud",searchTerms:[]},{title:"fas fa-spa",searchTerms:["flora","mindfullness","plant","wellness"]},{title:"fas fa-space-shuttle",searchTerms:["astronaut","machine","nasa","rocket","transportation"]},{title:"fab fa-speakap",searchTerms:[]},{title:"fas fa-spider",searchTerms:["arachnid","bug","charlotte","crawl","eight","halloween","holiday"]},{title:"fas fa-spinner",searchTerms:["loading","progress"]},{title:"fas fa-splotch",searchTerms:[]},{title:"fab fa-spotify",searchTerms:[]},{title:"fas fa-spray-can",searchTerms:[]},{title:"fas fa-square",searchTerms:["block","box"]},{title:"far fa-square",searchTerms:["block","box"]},{title:"fas fa-square-full",searchTerms:[]},{title:"fas fa-square-root-alt",searchTerms:[]},{title:"fab fa-squarespace",searchTerms:[]},{title:"fab fa-stack-exchange",searchTerms:[]},{title:"fab fa-stack-overflow",searchTerms:[]},{title:"fas fa-stamp",searchTerms:[]},{title:"fas fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"far fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"fas fa-star-and-crescent",searchTerms:["islam","muslim"]},{title:"fas fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"far fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-half-alt",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-of-david",searchTerms:["jewish","judaism"]},{title:"fas fa-star-of-life",searchTerms:[]},{title:"fab fa-staylinked",searchTerms:[]},{title:"fab fa-steam",searchTerms:[]},{title:"fab fa-steam-square",searchTerms:[]},{title:"fab fa-steam-symbol",searchTerms:[]},{title:"fas fa-step-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-step-forward",searchTerms:["end","last","next"]},{title:"fas fa-stethoscope",searchTerms:[]},{title:"fab fa-sticker-mule",searchTerms:[]},{title:"fas fa-sticky-note",searchTerms:[]},{title:"far fa-sticky-note",searchTerms:[]},{title:"fas fa-stop",searchTerms:["block","box","square"]},{title:"fas fa-stop-circle",searchTerms:[]},{title:"far fa-stop-circle",searchTerms:[]},{title:"fas fa-stopwatch",searchTerms:["time"]},{title:"fas fa-store",searchTerms:[]},{title:"fas fa-store-alt",searchTerms:[]},{title:"fab fa-strava",searchTerms:[]},{title:"fas fa-stream",searchTerms:[]},{title:"fas fa-street-view",searchTerms:["map"]},{title:"fas fa-strikethrough",searchTerms:[]},{title:"fab fa-stripe",searchTerms:[]},{title:"fab fa-stripe-s",searchTerms:[]},{title:"fas fa-stroopwafel",searchTerms:["dessert","food","sweets","waffle"]},{title:"fab fa-studiovinari",searchTerms:[]},{title:"fab fa-stumbleupon",searchTerms:[]},{title:"fab fa-stumbleupon-circle",searchTerms:[]},{title:"fas fa-subscript",searchTerms:[]},{title:"fas fa-subway",searchTerms:["machine","railway","train","transportation","vehicle"]},{title:"fas fa-suitcase",searchTerms:["baggage","luggage","move","suitcase","travel","trip"]},{title:"fas fa-suitcase-rolling",searchTerms:[]},{title:"fas fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"far fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"fab fa-superpowers",searchTerms:[]},{title:"fas fa-superscript",searchTerms:["exponential"]},{title:"fab fa-supple",searchTerms:[]},{title:"fas fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"far fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"fas fa-swatchbook",searchTerms:[]},{title:"fas fa-swimmer",searchTerms:["athlete","head","man","person","water"]},{title:"fas fa-swimming-pool",searchTerms:["ladder","recreation","water"]},{title:"fas fa-synagogue",searchTerms:["building","jewish","judaism","star of david","temple"]},{title:"fas fa-sync",searchTerms:["exchange","refresh","reload","rotate","swap"]},{title:"fas fa-sync-alt",searchTerms:["refresh","reload","rotate"]},{title:"fas fa-syringe",searchTerms:["immunizations","needle"]},{title:"fas fa-table",searchTerms:["data","excel","spreadsheet"]},{title:"fas fa-table-tennis",searchTerms:[]},{title:"fas fa-tablet",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablet-alt",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablets",searchTerms:["drugs","medicine"]},{title:"fas fa-tachometer-alt",searchTerms:["dashboard","tachometer"]},{title:"fas fa-tag",searchTerms:["label"]},{title:"fas fa-tags",searchTerms:["labels"]},{title:"fas fa-tape",searchTerms:[]},{title:"fas fa-tasks",searchTerms:["downloading","downloads","loading","progress","settings"]},{title:"fas fa-taxi",searchTerms:["cab","cabbie","car","car service","lyft","machine","transportation","uber","vehicle"]},{title:"fab fa-teamspeak",searchTerms:[]},{title:"fas fa-teeth",searchTerms:[]},{title:"fas fa-teeth-open",searchTerms:[]},{title:"fab fa-telegram",searchTerms:[]},{title:"fab fa-telegram-plane",searchTerms:[]},{title:"fas fa-temperature-high",searchTerms:["mercury","thermometer","warm"]},{title:"fas fa-temperature-low",searchTerms:["cool","mercury","thermometer"]},{title:"fab fa-tencent-weibo",searchTerms:[]},{title:"fas fa-terminal",searchTerms:["code","command","console","prompt"]},{title:"fas fa-text-height",searchTerms:[]},{title:"fas fa-text-width",searchTerms:[]},{title:"fas fa-th",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-large",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fab fa-the-red-yeti",searchTerms:[]},{title:"fas fa-theater-masks",searchTerms:[]},{title:"fab fa-themeco",searchTerms:[]},{title:"fab fa-themeisle",searchTerms:[]},{title:"fas fa-thermometer",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-empty",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-full",searchTerms:["fever","mercury","status","temperature"]},{title:"fas fa-thermometer-half",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-quarter",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-three-quarters",searchTerms:["mercury","status","temperature"]},{title:"fab fa-think-peaks",searchTerms:[]},{title:"fas fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"far fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"fas fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"far fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"fas fa-thumbtack",searchTerms:["coordinates","location","marker","pin","thumb-tack"]},{title:"fas fa-ticket-alt",searchTerms:["ticket"]},{title:"fas fa-times",searchTerms:["close","cross","error","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"far fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-tint",searchTerms:["drop","droplet","raindrop","waterdrop"]},{title:"fas fa-tint-slash",searchTerms:[]},{title:"fas fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"far fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"fas fa-toggle-off",searchTerms:["switch"]},{title:"fas fa-toggle-on",searchTerms:["switch"]},{title:"fas fa-toilet-paper",searchTerms:["bathroom","halloween","holiday","lavatory","prank","restroom","roll"]},{title:"fas fa-toolbox",searchTerms:["admin","container","fix","repair","settings","tools"]},{title:"fas fa-tooth",searchTerms:["bicuspid","dental","molar","mouth","teeth"]},{title:"fas fa-torah",searchTerms:["book","jewish","judaism"]},{title:"fas fa-torii-gate",searchTerms:["building","shintoism"]},{title:"fas fa-tractor",searchTerms:[]},{title:"fab fa-trade-federation",searchTerms:[]},{title:"fas fa-trademark",searchTerms:[]},{title:"fas fa-traffic-light",searchTerms:[]},{title:"fas fa-train",searchTerms:["bullet","locomotive","railway"]},{title:"fas fa-transgender",searchTerms:["intersex"]},{title:"fas fa-transgender-alt",searchTerms:[]},{title:"fas fa-trash",searchTerms:["delete","garbage","hide","remove"]},{title:"fas fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"far fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"fas fa-tree",searchTerms:["bark","fall","flora","forest","nature","plant","seasonal"]},{title:"fab fa-trello",searchTerms:[]},{title:"fab fa-tripadvisor",searchTerms:[]},{title:"fas fa-trophy",searchTerms:["achievement","award","cup","game","winner"]},{title:"fas fa-truck",searchTerms:["delivery","shipping"]},{title:"fas fa-truck-loading",searchTerms:[]},{title:"fas fa-truck-monster",searchTerms:[]},{title:"fas fa-truck-moving",searchTerms:[]},{title:"fas fa-truck-pickup",searchTerms:[]},{title:"fas fa-tshirt",searchTerms:["cloth","clothing"]},{title:"fas fa-tty",searchTerms:[]},{title:"fab fa-tumblr",searchTerms:[]},{title:"fab fa-tumblr-square",searchTerms:[]},{title:"fas fa-tv",searchTerms:["computer","display","monitor","television"]},{title:"fab fa-twitch",searchTerms:[]},{title:"fab fa-twitter",searchTerms:["social network","tweet"]},{title:"fab fa-twitter-square",searchTerms:["social network","tweet"]},{title:"fab fa-typo3",searchTerms:[]},{title:"fab fa-uber",searchTerms:[]},{title:"fab fa-uikit",searchTerms:[]},{title:"fas fa-umbrella",searchTerms:["protection","rain"]},{title:"fas fa-umbrella-beach",searchTerms:["protection","recreation","sun"]},{title:"fas fa-underline",searchTerms:[]},{title:"fas fa-undo",searchTerms:["back","control z","exchange","oops","return","rotate","swap"]},{title:"fas fa-undo-alt",searchTerms:["back","control z","exchange","oops","return","swap"]},{title:"fab fa-uniregistry",searchTerms:[]},{title:"fas fa-universal-access",searchTerms:[]},{title:"fas fa-university",searchTerms:["bank","institution"]},{title:"fas fa-unlink",searchTerms:["chain","chain-broken","remove"]},{title:"fas fa-unlock",searchTerms:["admin","lock","password","protect"]},{title:"fas fa-unlock-alt",searchTerms:["admin","lock","password","protect"]},{title:"fab fa-untappd",searchTerms:[]},{title:"fas fa-upload",searchTerms:["export","publish"]},{title:"fab fa-usb",searchTerms:[]},{title:"fas fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt-slash",searchTerms:[]},{title:"fas fa-user-astronaut",searchTerms:["avatar","clothing","cosmonaut","space","suit"]},{title:"fas fa-user-check",searchTerms:[]},{title:"fas fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-clock",searchTerms:[]},{title:"fas fa-user-cog",searchTerms:[]},{title:"fas fa-user-edit",searchTerms:[]},{title:"fas fa-user-friends",searchTerms:[]},{title:"fas fa-user-graduate",searchTerms:["cap","clothing","commencement","gown","graduation","student"]},{title:"fas fa-user-injured",searchTerms:["cast","ouch","sling"]},{title:"fas fa-user-lock",searchTerms:[]},{title:"fas fa-user-md",searchTerms:["doctor","job","medical","nurse","occupation","profile"]},{title:"fas fa-user-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-user-ninja",searchTerms:["assassin","avatar","dangerous","deadly","sneaky"]},{title:"fas fa-user-plus",searchTerms:["positive","sign up","signup"]},{title:"fas fa-user-secret",searchTerms:["clothing","coat","hat","incognito","privacy","spy","whisper"]},{title:"fas fa-user-shield",searchTerms:[]},{title:"fas fa-user-slash",searchTerms:["ban","remove"]},{title:"fas fa-user-tag",searchTerms:[]},{title:"fas fa-user-tie",searchTerms:["avatar","business","clothing","formal"]},{title:"fas fa-user-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-users",searchTerms:["people","persons","profiles"]},{title:"fas fa-users-cog",searchTerms:[]},{title:"fab fa-ussunnah",searchTerms:[]},{title:"fas fa-utensil-spoon",searchTerms:["spoon"]},{title:"fas fa-utensils",searchTerms:["cutlery","dinner","eat","food","knife","restaurant","spoon"]},{title:"fab fa-vaadin",searchTerms:[]},{title:"fas fa-vector-square",searchTerms:["anchors","lines","object"]},{title:"fas fa-venus",searchTerms:["female"]},{title:"fas fa-venus-double",searchTerms:[]},{title:"fas fa-venus-mars",searchTerms:[]},{title:"fab fa-viacoin",searchTerms:[]},{title:"fab fa-viadeo",searchTerms:[]},{title:"fab fa-viadeo-square",searchTerms:[]},{title:"fas fa-vial",searchTerms:["test tube"]},{title:"fas fa-vials",searchTerms:["lab results","test tubes"]},{title:"fab fa-viber",searchTerms:[]},{title:"fas fa-video",searchTerms:["camera","film","movie","record","video-camera"]},{title:"fas fa-video-slash",searchTerms:[]},{title:"fas fa-vihara",searchTerms:["buddhism","buddhist","building","monastery"]},{title:"fab fa-vimeo",searchTerms:[]},{title:"fab fa-vimeo-square",searchTerms:[]},{title:"fab fa-vimeo-v",searchTerms:["vimeo"]},{title:"fab fa-vine",searchTerms:[]},{title:"fab fa-vk",searchTerms:[]},{title:"fab fa-vnv",searchTerms:[]},{title:"fas fa-volleyball-ball",searchTerms:[]},{title:"fas fa-volume-down",searchTerms:["audio","lower","music","quieter","sound","speaker"]},{title:"fas fa-volume-mute",searchTerms:[]},{title:"fas fa-volume-off",searchTerms:["audio","music","mute","sound"]},{title:"fas fa-volume-up",searchTerms:["audio","higher","louder","music","sound","speaker"]},{title:"fas fa-vote-yea",searchTerms:["accept","cast","election","politics","positive","yes"]},{title:"fas fa-vr-cardboard",searchTerms:["google","reality","virtual"]},{title:"fab fa-vuejs",searchTerms:[]},{title:"fas fa-walking",searchTerms:[]},{title:"fas fa-wallet",searchTerms:[]},{title:"fas fa-warehouse",searchTerms:[]},{title:"fas fa-water",searchTerms:[]},{title:"fab fa-weebly",searchTerms:[]},{title:"fab fa-weibo",searchTerms:[]},{title:"fas fa-weight",searchTerms:["measurement","scale","weight"]},{title:"fas fa-weight-hanging",searchTerms:["anvil","heavy","measurement"]},{title:"fab fa-weixin",searchTerms:[]},{title:"fab fa-whatsapp",searchTerms:[]},{title:"fab fa-whatsapp-square",searchTerms:[]},{title:"fas fa-wheelchair",searchTerms:["handicap","person"]},{title:"fab fa-whmcs",searchTerms:[]},{title:"fas fa-wifi",searchTerms:[]},{title:"fab fa-wikipedia-w",searchTerms:[]},{title:"fas fa-wind",searchTerms:["air","blow","breeze","fall","seasonal"]},{title:"fas fa-window-close",searchTerms:[]},{title:"far fa-window-close",searchTerms:[]},{title:"fas fa-window-maximize",searchTerms:[]},{title:"far fa-window-maximize",searchTerms:[]},{title:"fas fa-window-minimize",searchTerms:[]},{title:"far fa-window-minimize",searchTerms:[]},{title:"fas fa-window-restore",searchTerms:[]},{title:"far fa-window-restore",searchTerms:[]},{title:"fab fa-windows",searchTerms:["microsoft"]},{title:"fas fa-wine-bottle",searchTerms:["alcohol","beverage","drink","glass","grapes"]},{title:"fas fa-wine-glass",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fas fa-wine-glass-alt",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fab fa-wix",searchTerms:[]},{title:"fab fa-wizards-of-the-coast",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fab fa-wolf-pack-battalion",searchTerms:[]},{title:"fas fa-won-sign",searchTerms:["krw"]},{title:"fab fa-wordpress",searchTerms:[]},{title:"fab fa-wordpress-simple",searchTerms:[]},{title:"fab fa-wpbeginner",searchTerms:[]},{title:"fab fa-wpexplorer",searchTerms:[]},{title:"fab fa-wpforms",searchTerms:[]},{title:"fab fa-wpressr",searchTerms:["rendact"]},{title:"fas fa-wrench",searchTerms:["fix","settings","spanner","tool","update"]},{title:"fas fa-x-ray",searchTerms:["radiological images","radiology"]},{title:"fab fa-xbox",searchTerms:[]},{title:"fab fa-xing",searchTerms:[]},{title:"fab fa-xing-square",searchTerms:[]},{title:"fab fa-y-combinator",searchTerms:[]},{title:"fab fa-yahoo",searchTerms:[]},{title:"fab fa-yandex",searchTerms:[]},{title:"fab fa-yandex-international",searchTerms:[]},{title:"fab fa-yelp",searchTerms:[]},{title:"fas fa-yen-sign",searchTerms:["jpy","money"]},{title:"fas fa-yin-yang",searchTerms:["daoism","opposites","taoism"]},{title:"fab fa-yoast",searchTerms:[]},{title:"fab fa-youtube",searchTerms:["film","video","youtube-play","youtube-square"]},{title:"fab fa-youtube-square",searchTerms:[]},{title:"fab fa-zhihu",searchTerms:[]}]})}));var LeaderLine=function(){"use strict";var e,t,i,r,s,n,o,a,l,h,c,d,u,p,f,m,g,y,v,b,w,_,k,S="leader-line",x=1,T=2,j=3,C=4,E={top:x,right:T,bottom:j,left:C},O=1,P=2,F=3,M=4,D=5,A={straight:O,arc:P,fluid:F,magnet:M,grid:D},R="behind",L=S+"-defs",I='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',N={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},B={behind:R,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},z={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},U=[x,T,j,C],H="auto",W={x:"left",y:"top",width:"width",height:"height"},V=80,q=4,G=5,Y=120,$=8,K=3.75,X=10,Z=30,J=.5522847,Q=.25*Math.PI,ee=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,te="http://www.w3.org/2000/svg",ie=!(ue="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled)&&!!document.uniqueID,re="MozAppearance"in document.documentElement.style,se=!(ue||re||!window.chrome||!window.CSS),ne=!(ue||ie||re||se||window.chrome||!("WebkitAppearance"in document.documentElement.style)),oe=ie||ue?.2:.1,ae={path:F,lineColor:"coral",lineSize:4,plugSE:[R,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},le=(w={}.toString,_={}.hasOwnProperty.toString,k=_.call(Object),function(e){return e&&"[object Object]"===w.call(e)&&(!(e=Object.getPrototypeOf(e))||(e=e.hasOwnProperty("constructor")&&e.constructor)&&"function"==typeof e&&_.call(e)===k)}),he=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},ce=(p={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},f=1e3/60/2,m=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,f)},g=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},y=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},v=[],b=0,{add:function(e,t,i,r,s,n,o){var a,l,h,c,d,u,m,g,y,w,_=++b;function k(t,i){return{value:e(i),timeRatio:t,outputRatio:i}}if("string"==typeof s&&(s=p[s]),e=e||function(){},i<f)a=[k(0,0),k(1,1)];else{if(l=f/i,a=[k(0,0)],0===s[0]&&0===s[1]&&1===s[2]&&1===s[3])for(c=l;c<=1;c+=l)a.push(k(c,c));else for(d=h=(c=l)/10;d<=1;d+=h)d,w=void 0,g=(w=d*d)*d,w*=3*(y=1-d),c<=(u={x:(m=y*y*3*d)*s[0]+w*s[2]+g,y:m*s[1]+w*s[3]+g}).x&&(a.push(k(u.x,u.y)),c+=l);a.push(k(1,1))}return v.push(n={animId:_,frameCallback:t,duration:i,count:r,frames:a,reverse:!!n}),!1!==o&&Se(n,o),_},remove:function(e){var t;v.some((function(i,r){return i.animId===e&&(t=r,!(i.framesStart=null))}))&&v.splice(t,1)},start:function(e,t,i){v.some((function(r){return r.animId===e&&(r.reverse=!!t,Se(r,i),!0)}))},stop:function(e,t){var i;return v.some((function(r){return r.animId===e&&(t?null!=r.lastFrame&&(i=r.frames[r.lastFrame].timeRatio):(i=(Date.now()-r.framesStart)/r.duration,(i=r.reverse?1-i:i)<0?i=0:1<i&&(i=1)),!(r.framesStart=null))})),i},validTiming:function(e){return"string"==typeof e?p[e]:Array.isArray(e)&&[0,1,2,3].every((function(t){return y(e[t])&&0<=e[t]&&e[t]<=1}))?[e[0],e[1],e[2],e[3]]:null}}),de=function(e){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData||function(){function t(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var i={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},r=-1!==e.navigator.userAgent.indexOf("MSIE ");function s(e){if(!e||0===e.length)return[];var i=new t(e),r=[];if(i.initialCommandIsMoveTo())for(;i.hasMoreData();){var s=i.parseSegment();if(null===s)break;r.push(s)}return r}function n(e){return e.map((function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}}))}function o(e){var t=[],i=null,r=null,s=null,n=null,o=null,a=null,l=null;return e.forEach((function(e){var h,c,u,p,f,m,g,y;"M"===e.type?(g=e.values[0],y=e.values[1],t.push({type:"M",values:[g,y]}),n=a=g,o=l=y):"C"===e.type?(f=e.values[0],m=e.values[1],h=e.values[2],c=e.values[3],g=e.values[4],y=e.values[5],t.push({type:"C",values:[f,m,h,c,g,y]}),r=h,s=c,n=g,o=y):"L"===e.type?(g=e.values[0],y=e.values[1],t.push({type:"L",values:[g,y]}),n=g,o=y):"H"===e.type?(g=e.values[0],t.push({type:"L",values:[g,o]}),n=g):"V"===e.type?(y=e.values[0],t.push({type:"L",values:[n,y]}),o=y):"S"===e.type?(h=e.values[0],c=e.values[1],g=e.values[2],y=e.values[3],p="C"===i||"S"===i?(u=n+(n-r),o+(o-s)):(u=n,o),t.push({type:"C",values:[u,p,h,c,g,y]}),r=h,s=c,n=g,o=y):"T"===e.type?(g=e.values[0],y=e.values[1],m="Q"===i||"T"===i?(f=n+(n-r),o+(o-s)):(f=n,o),t.push({type:"C",values:[u=n+2*(f-n)/3,p=o+2*(m-o)/3,g+2*(f-g)/3,y+2*(m-y)/3,g,y]}),r=f,s=m,n=g,o=y):"Q"===e.type?(f=e.values[0],m=e.values[1],g=e.values[2],y=e.values[3],t.push({type:"C",values:[u=n+2*(f-n)/3,p=o+2*(m-o)/3,g+2*(f-g)/3,y+2*(m-y)/3,g,y]}),r=f,s=m,n=g,o=y):"A"===e.type?(c=e.values[0],u=e.values[1],p=e.values[2],f=e.values[3],m=e.values[4],g=e.values[5],y=e.values[6],0===c||0===u?(t.push({type:"C",values:[n,o,g,y,g,y]}),n=g,o=y):n===g&&o===y||d(n,o,g,y,c,u,p,f,m).forEach((function(e){t.push({type:"C",values:e}),n=g,o=y}))):"Z"===e.type&&(t.push(e),n=a,o=l),i=e.type})),t}t.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=i[e]||null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var r=null;return"H"===(e=(this._prevCommand=t).toUpperCase())||"V"===e?r=[this._parseNumber()]:"M"===e||"L"===e||"T"===e?r=[this._parseNumber(),this._parseNumber()]:"S"===e||"Q"===e?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===e?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===e?r=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===e&&(this._skipOptionalSpaces(),r=[]),null===r||0<=r.indexOf(null)?null:{type:t,values:r}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return i[e]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,i=1,r=0,s=1,n=1,o=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,s=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var a=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==a)for(var l=this._currentIndex-1,h=1;a<=l;)t+=h*(this._string[l]-"0"),--l,h*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)i*=10,r+=(this._string.charAt(this._currentIndex)-"0")/i,this._currentIndex+=1}if(this._currentIndex!==o&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,n=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var c=t+r;return c*=s,e&&(c*=Math.pow(10,n*e)),o===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),c)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var a=e.SVGPathElement.prototype.setAttribute,l=e.SVGPathElement.prototype.removeAttribute,h=e.Symbol?e.Symbol():"__cachedPathData",c=e.Symbol?e.Symbol():"__cachedNormalizedPathData",d=function(e,t,i,r,s,n,o,a,l,h){function c(e,t,i){return{x:e*Math.cos(i)-t*Math.sin(i),y:e*Math.sin(i)+t*Math.cos(i)}}var u=Math.PI*o/180,p=[];h?(w=h[0],_=h[1],v=h[2],b=h[3]):(e=(y=c(e,t,-u)).x,t=y.y,1<(y=(g=(e-(i=(m=c(i,r,-u)).x))/2)*g/(s*s)+(f=(t-(r=m.y))/2)*f/(n*n))&&(s*=y=Math.sqrt(y),n*=y),m=s*s,y=n*n,v=(m=(a===l?-1:1)*Math.sqrt(Math.abs((m*y-m*f*f-y*g*g)/(m*f*f+y*g*g))))*s*f/n+(e+i)/2,b=m*-n*g/s+(t+r)/2,w=Math.asin(parseFloat(((t-b)/n).toFixed(9))),_=Math.asin(parseFloat(((r-b)/n).toFixed(9))),e<v&&(w=Math.PI-w),i<v&&(_=Math.PI-_),w<0&&(w=2*Math.PI+w),_<0&&(_=2*Math.PI+_),l&&_<w&&(w-=2*Math.PI),!l&&w<_&&(_-=2*Math.PI));var f,m,g,y=_-w;Math.abs(y)>120*Math.PI/180&&(f=_,m=i,g=r,_=l&&w<_?w+120*Math.PI/180*1:w+120*Math.PI/180*-1,i=v+s*Math.cos(_),r=b+n*Math.sin(_),p=d(i,r,m,g,s,n,o,0,l,[_,f,v,b]));y=_-w;var v=Math.cos(w),b=Math.sin(w),w=Math.cos(_),_=Math.sin(_);w=[i+(s=4/3*s*(y=Math.tan(y/4)))*_,r-(n=4/3*n*y)*w],r=[i,r];if((v=[e+s*b,t-n*v])[0]=2*(y=[e,t])[0]-v[0],v[1]=2*y[1]-v[1],h)return[v,w,r].concat(p);p=[v,w,r].concat(p).join().split(",");var k=[],S=[];return p.forEach((function(e,t){t%2?S.push(c(p[t-1],p[t],u).y):S.push(c(p[t],p[t+1],u).x),6===S.length&&(k.push(S),S=[])})),k};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[h]=null,this[c]=null),a.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[h]=null,this[c]=null),l.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize)return this[c]?n(this[c]):(this[h]?d=n(this[h]):(d=s(this.getAttribute("d")||""),this[h]=n(d)),e=o((t=[],l=a=r=i=null,d.forEach((function(e){var s,n,o,h,c,d,u=e.type;"M"===u?(c=e.values[0],d=e.values[1],t.push({type:"M",values:[c,d]}),i=a=c,r=l=d):"m"===u?(c=i+e.values[0],d=r+e.values[1],t.push({type:"M",values:[c,d]}),i=a=c,r=l=d):"L"===u?(c=e.values[0],d=e.values[1],t.push({type:"L",values:[c,d]}),i=c,r=d):"l"===u?(c=i+e.values[0],d=r+e.values[1],t.push({type:"L",values:[c,d]}),i=c,r=d):"C"===u?(s=e.values[0],n=e.values[1],o=e.values[2],h=e.values[3],c=e.values[4],d=e.values[5],t.push({type:"C",values:[s,n,o,h,c,d]}),i=c,r=d):"c"===u?(s=i+e.values[0],n=r+e.values[1],o=i+e.values[2],h=r+e.values[3],c=i+e.values[4],d=r+e.values[5],t.push({type:"C",values:[s,n,o,h,c,d]}),i=c,r=d):"Q"===u?(s=e.values[0],n=e.values[1],c=e.values[2],d=e.values[3],t.push({type:"Q",values:[s,n,c,d]}),i=c,r=d):"q"===u?(s=i+e.values[0],n=r+e.values[1],c=i+e.values[2],d=r+e.values[3],t.push({type:"Q",values:[s,n,c,d]}),i=c,r=d):"A"===u?(c=e.values[5],d=e.values[6],t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],c,d]}),i=c,r=d):"a"===u?(c=i+e.values[5],d=r+e.values[6],t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],c,d]}),i=c,r=d):"H"===u?(c=e.values[0],t.push({type:"H",values:[c]}),i=c):"h"===u?(c=i+e.values[0],t.push({type:"H",values:[c]}),i=c):"V"===u?(d=e.values[0],t.push({type:"V",values:[d]}),r=d):"v"===u?(d=r+e.values[0],t.push({type:"V",values:[d]}),r=d):"S"===u?(o=e.values[0],h=e.values[1],c=e.values[2],d=e.values[3],t.push({type:"S",values:[o,h,c,d]}),i=c,r=d):"s"===u?(o=i+e.values[0],h=r+e.values[1],c=i+e.values[2],d=r+e.values[3],t.push({type:"S",values:[o,h,c,d]}),i=c,r=d):"T"===u?(c=e.values[0],d=e.values[1],t.push({type:"T",values:[c,d]}),i=c,r=d):"t"===u?(c=i+e.values[0],d=r+e.values[1],t.push({type:"T",values:[c,d]}),i=c,r=d):"Z"!==u&&"z"!==u||(t.push({type:"Z",values:[]}),i=a,r=l)})),t)),this[c]=n(e),e);if(this[h])return n(this[h]);var t,i,r,a,l,d=s(this.getAttribute("d")||"");return this[h]=n(d),d},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)r?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",i=0,s=e.length;i<s;i+=1){var n=e[i];0<i&&(t+=" "),t+=n.type,n.values&&0<n.values.length&&(t+=" "+n.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,i=this.y.baseVal.value,r=this.width.baseVal.value,s=this.height.baseVal.value,n=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,a=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value;i=(i=[{type:"M",values:[t+(n=r/2<n?r/2:n),i]},{type:"H",values:[t+r-n]},{type:"A",values:[n,a=s/2<a?s/2:a,0,0,1,t+r,i+a]},{type:"V",values:[i+s-a]},{type:"A",values:[n,a,0,0,1,t+r-n,i+s]},{type:"H",values:[t+n]},{type:"A",values:[n,a,0,0,1,t,i+s-a]},{type:"V",values:[i+a]},{type:"A",values:[n,a,0,0,1,t+n,i]},{type:"Z",values:[]}]).filter((function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]}));return e&&!0===e.normalize?o(i):i},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,i=this.cy.baseVal.value,r=this.r.baseVal.value;i=[{type:"M",values:[t+r,i]},{type:"A",values:[r,r,0,0,1,t,i+r]},{type:"A",values:[r,r,0,0,1,t-r,i]},{type:"A",values:[r,r,0,0,1,t,i-r]},{type:"A",values:[r,r,0,0,1,t+r,i]},{type:"Z",values:[]}];return e&&!0===e.normalize?o(i):i},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,i=this.cy.baseVal.value,r=this.rx.baseVal.value,s=this.ry.baseVal.value;i=[{type:"M",values:[t+r,i]},{type:"A",values:[r,s,0,0,1,t,i+s]},{type:"A",values:[r,s,0,0,1,t-r,i]},{type:"A",values:[r,s,0,0,1,t,i-s]},{type:"A",values:[r,s,0,0,1,t+r,i]},{type:"Z",values:[]}];return e&&!0===e.normalize?o(i):i},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var i=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[i.x,i.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var i=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[i.x,i.y]})}return e.push({type:"Z",values:[]}),e}}()},ue=(d={},_e.m=c=[function(e,t,i){i.r(t);var r=[],s=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},n=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},o=Date.now(),a=void 0;function l(){var e=void 0,t=void 0;a&&(n.call(window,a),a=null),r.forEach((function(t){var i;(i=t.event)&&(t.event=null,t.listener(i),e=!0)})),e?(o=Date.now(),t=!0):Date.now()-o<500&&(t=!0),t&&(a=s.call(window,l))}function h(e){var t=-1;return r.some((function(i,r){return i.listener===e&&(t=r,!0)})),t}t.default={add:function(e){var t=void 0;return-1===h(e)?(r.push(t={listener:e}),function(e){t.event=e,a||l()}):null},remove:function(e){-1<(e=h(e))&&(r.splice(e,1),!r.length&&a&&(n.call(window,a),a=null))}}}],_e.c=d,_e.d=function(e,t,i){_e.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},_e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},_e.t=function(e,t){if(1&t&&(e=_e(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(_e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)_e.d(i,r,function(t){return e[t]}.bind(null,r));return i},_e.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return _e.d(t,"a",t),t},_e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},_e.p="",_e(_e.s=0).default),pe={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:R},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:R},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:R},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},fe={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},me="fade",ge=[],ye={},ve=0,be={},we=0;function _e(e){if(d[e])return d[e].exports;var t=d[e]={i:e,l:!1,exports:{}};return c[e].call(t.exports,t,t.exports,_e),t.l=!0,t.exports}function ke(){var e=Date.now(),t=!1;u&&(g.call(window,u),u=null),v.forEach((function(i){var r,s,n;if(i.framesStart){if((r=e-i.framesStart)>=i.duration&&i.count&&i.loopsLeft<=1)return n=i.frames[i.lastFrame=i.reverse?0:i.frames.length-1],i.frameCallback(n.value,!0,n.timeRatio,n.outputRatio),void(i.framesStart=null);if(r>i.duration){if(s=Math.floor(r/i.duration),i.count){if(s>=i.loopsLeft)return n=i.frames[i.lastFrame=i.reverse?0:i.frames.length-1],i.frameCallback(n.value,!0,n.timeRatio,n.outputRatio),void(i.framesStart=null);i.loopsLeft-=s}i.framesStart+=i.duration*s,r=e-i.framesStart}i.reverse&&(r=i.duration-r),n=i.frames[i.lastFrame=Math.round(r/f)],!1!==i.frameCallback(n.value,!1,n.timeRatio,n.outputRatio)?t=!0:i.framesStart=null}})),t&&(u=m.call(window,ke))}function Se(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,ke()}function xe(e,t){var i,r;return typeof e!=typeof t||(i=le(e)?"obj":Array.isArray(e)?"array":"")!=(le(t)?"obj":Array.isArray(t)?"array":"")||("obj"===i?xe(r=Object.keys(e).sort(),Object.keys(t).sort())||r.some((function(i){return xe(e[i],t[i])})):"array"===i?e.length!==t.length||e.some((function(e,i){return xe(e,t[i])})):e!==t)}function Te(e){return e&&(le(e)?Object.keys(e).reduce((function(t,i){return t[i]=Te(e[i]),t}),{}):Array.isArray(e)?e.map(Te):e)}function je(e){var t,i,r,s=1,n=e=(e+"").trim();function o(e){var t=1;return(e=ee.exec(e))&&(t=parseFloat(e[1]),e[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(e))?(i=t[1].toLowerCase(),r=t[2].trim().split(/\s*,\s*/),"rgba"===i&&4===r.length?(s=o(r[3]),n="rgb("+r.slice(0,3).join(", ")+")"):"hsla"===i&&4===r.length?(s=o(r[3]),n="hsl("+r.slice(0,3).join(", ")+")"):"hwb"===i&&4===r.length?(s=o(r[3]),n="hwb("+r.slice(0,3).join(", ")+")"):"gray"===i&&2===r.length?(s=o(r[1]),n="gray("+r[0]+")"):"device-cmyk"===i&&5<=r.length&&(s=o(r[4]),n="device-cmyk("+r.slice(0,4).join(", ")+")")):(t=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(e))?n=t[1]?(s=parseInt(t[2],16)/255,"#"+t[1]):(s=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(s=0),[s,n]}function Ce(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function Ee(e,t){var i,r,s,n={};if(!(s=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(r in i=e.getBoundingClientRect())n[r]=i[r];if(!t){if(!(s=s.defaultView))return console.error("Cannot get window that contains the element."),null;n.left+=s.pageXOffset,n.right+=s.pageXOffset,n.top+=s.pageYOffset,n.bottom+=s.pageYOffset}return n}function Oe(e,t){var i,r=[],s=e;for(t=t||window;;){if(!(i=s.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(i=i.defaultView))return console.error("Cannot get window that contains the element."),null;if(i===t)break;if(!(s=i.frameElement))return console.error("`baseWindow` was not found."),null;r.unshift(s)}return r}function Pe(e,t){var i=0,r=0;return(t=Oe(e,t=t||window))?t.length?(t.forEach((function(e,t){var s=Ee(e,0<t);i+=s.left,r+=s.top,e=(t=e).ownerDocument.defaultView.getComputedStyle(t,""),s={left:t.clientLeft+parseFloat(e.paddingLeft),top:t.clientTop+parseFloat(e.paddingTop)},i+=s.left,r+=s.top})),(t=Ee(e,!0)).left+=i,t.right+=i,t.top+=r,t.bottom+=r,t):Ee(e):null}function Fe(e,t){var i=e.x-t.x;t=e.y-t.y;return Math.sqrt(i*i+t*t)}function Me(e,t,i){var r=t.x-e.x;t=t.y-e.y;return{x:e.x+r*i,y:e.y+t*i,angle:Math.atan2(t,r)/(Math.PI/180)}}function De(e,t,i){return e=Math.atan2(e.y-t.y,t.x-e.x),{x:t.x+Math.cos(e)*i,y:t.y+Math.sin(e)*i*-1}}function Ae(e,t,i,r,s){var n=(u=s*s)*s,o=1-s,a=(c=(d=o*o)*o)*e.x+3*d*s*t.x+3*o*u*i.x+n*r.x,l=c*e.y+3*d*s*t.y+3*o*u*i.y+n*r.y,h=e.x+2*s*(t.x-e.x)+u*(i.x-2*t.x+e.x),c=e.y+2*s*(t.y-e.y)+u*(i.y-2*t.y+e.y),d=t.x+2*s*(i.x-t.x)+u*(r.x-2*i.x+t.x),u=(n=t.y+2*s*(i.y-t.y)+u*(r.y-2*i.y+t.y),o*e.x+s*t.x);e=o*e.y+s*t.y,t=o*i.x+s*r.x,s=o*i.y+s*r.y,r=90-180*Math.atan2(h-d,c-n)/Math.PI;return{x:a,y:l,fromP2:{x:h,y:c},toP1:{x:d,y:n},fromP1:{x:u,y:e},toP2:{x:t,y:s},angle:r+=180<r?-180:180}}function Re(e,t,i,r,s){function n(e,t,i,r,s){return e*(e*(-3*t+9*i-9*r+3*s)+6*t-12*i+6*r)-3*t+3*i}var o,a,l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,c=(s=null==s||1<s?1:s<0?0:s)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((function(s,d){o=n(a=c*s+c,e.x,t.x,i.x,r.x),a=n(a,e.y,t.y,i.y,r.y),a=o*o+a*a,h+=l[d]*Math.sqrt(a)})),c*h}function Le(e,t,i,r,s){for(var n,o=.5,a=1-o;n=Re(e,t,i,r,a),!(Math.abs(n-s)<=.01);)a+=(n<s?1:-1)*(o/=2);return a}function Ie(e,t){var i;return e.forEach((function(e){e=t?e.map((function(e){return e={x:e.x,y:e.y},t(e),e})):e,(i=i||[{type:"M",values:[e[0].x,e[0].y]}]).push(e.length?2===e.length?{type:"L",values:[e[1].x,e[1].y]}:{type:"C",values:[e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]}:{type:"Z",values:[]})})),i}function Ne(e){var t=[],i=0;return e.forEach((function(e){e=(2===e.length?Fe:Re).apply(null,e),t.push(e),i+=e})),{segsLen:t,lenAll:i}}function Be(e,t){return null==e||null==t||e.length!==t.length||e.some((function(e,i){var r=t[i];return e.type!==r.type||e.values.some((function(e,t){return e!==r.values[t]}))}))}function ze(e,t,i){e.events[t]?e.events[t].indexOf(i)<0&&e.events[t].push(i):e.events[t]=[i]}function Ue(e,t,i){var r;e.events[t]&&-1<(r=e.events[t].indexOf(i))&&e.events[t].splice(r,1)}function He(e){o&&clearTimeout(o),ge.push(e),o=setTimeout((function(){ge.forEach((function(e){e()})),ge=[]}),0)}function We(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function Ve(e){e.reflowTargets.forEach((function(e){var t;t=e,setTimeout((function(){var e=t.parentNode,i=t.nextSibling;e.insertBefore(e.removeChild(t),i)}),0)})),e.reflowTargets=[]}function qe(e,t,i,r,s,n,o){var l;"auto-start-reverse"===i?("boolean"!=typeof a&&(t.setAttribute("orient","auto-start-reverse"),a=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),a?t.setAttribute("orient",i):((l=s.createSVGTransform()).setRotate(180,0,0),n.transform.baseVal.appendItem(l),t.setAttribute("orient","auto"),l=!0)):(t.setAttribute("orient",i),!1===a&&n.transform.baseVal.clear()),t=t.viewBox.baseVal,l?(t.x=-r.right,t.y=-r.bottom):(t.x=r.left,t.y=r.top),t.width=r.width,t.height=r.height,ie&&We(e,o)}function Ge(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Ye(e,t){Object.keys(t).forEach((function(i){var r=t[i];e[i]=null!=r.iniValue?r.hasSE?[r.iniValue,r.iniValue]:r.iniValue:r.hasSE?r.hasProps?[{},{}]:[]:r.hasProps?{}:null}))}function $e(e,t,i,r,s){return r!==t[i]&&(t[i]=r,s&&s.forEach((function(t){t(e,r,i)})),!0)}function Ke(e){function t(e,t){return e+parseFloat(t)}var i=e.document,r=e.getComputedStyle(i.documentElement,"");e=e.getComputedStyle(i.body,""),i={x:0,y:0};return"static"!==e.position?(i.x-=[r.marginLeft,r.borderLeftWidth,r.paddingLeft,e.marginLeft,e.borderLeftWidth].reduce(t,0),i.y-=[r.marginTop,r.borderTopWidth,r.paddingTop,e.marginTop,e.borderTopWidth].reduce(t,0)):"static"!==r.position&&(i.x-=[r.marginLeft,r.borderLeftWidth].reduce(t,0),i.y-=[r.marginTop,r.borderTopWidth].reduce(t,0)),i}function Xe(e){var t,i=e.document;i.getElementById(L)||(t=(new e.DOMParser).parseFromString(I,"image/svg+xml"),i.body.appendChild(t.documentElement),de(e))}function Ze(e){var t,i,r,s,n,o,a,l,h,c,d,u,p,f,m=e.options,g=e.curStats,y=e.aplStats,v=g.position_socketXYSE,b=!1;function w(e,t){return(e=t===x?{x:e.left+e.width/2,y:e.top}:t===T?{x:e.right,y:e.top+e.height/2}:t===j?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2}).socketId=t,e}function _(e){return{x:e.x,y:e.y}}if(g.position_path=m.path,g.position_lineStrokeWidth=g.line_strokeWidth,g.position_socketGravitySE=t=Te(m.socketGravitySE),i=[0,1].map((function(t){var i=m.anchorSE[t],r=e.optionIsAttach.anchorSE[t],s=!1!==r?be[i._id]:null,n=!1!==r&&s.conf.getStrokeWidth?s.conf.getStrokeWidth(s,e):0,o=!1!==r&&s.conf.getBBoxNest?s.conf.getBBoxNest(s,e,n):Pe(i,e.baseWindow);return g.capsMaskAnchor_pathDataSE[t]=!1!==r&&s.conf.getPathData?s.conf.getPathData(s,e,n):(r=null!=(i=o).right?i.right:i.left+i.width,s=null!=i.bottom?i.bottom:i.top+i.height,[{type:"M",values:[i.left,i.top]},{type:"L",values:[r,i.top]},{type:"L",values:[r,s]},{type:"L",values:[i.left,s]},{type:"Z",values:[]}]),g.capsMaskAnchor_strokeWidthSE[t]=n,o})),a=-1,m.socketSE[0]&&m.socketSE[1]?(v[0]=w(i[0],m.socketSE[0]),v[1]=w(i[1],m.socketSE[1])):(m.socketSE[0]||m.socketSE[1]?(o=m.socketSE[0]?(n=0,1):(n=1,0),v[n]=w(i[n],m.socketSE[n]),(s=U.map((function(e){return w(i[o],e)}))).forEach((function(e){var t=Fe(e,v[n]);(t<a||-1===a)&&(v[o]=e,a=t)}))):(s=U.map((function(e){return w(i[1],e)})),U.map((function(e){return w(i[0],e)})).forEach((function(e){s.forEach((function(t){var i=Fe(e,t);(i<a||-1===a)&&(v[0]=e,v[1]=t,a=i)}))}))),[0,1].forEach((function(e){var t,r;m.socketSE[e]||(i[e].width||i[e].height?i[e].width||v[e].socketId!==C&&v[e].socketId!==T?i[e].height||v[e].socketId!==x&&v[e].socketId!==j||(v[e].socketId=0<=v[e?0:1].y-i[e].top?j:x):v[e].socketId=0<=v[e?0:1].x-i[e].left?T:C:(t=v[e?0:1].x-i[e].left,r=v[e?0:1].y-i[e].top,v[e].socketId=Math.abs(t)>=Math.abs(r)?0<=t?T:C:0<=r?j:x))}))),g.position_path!==y.position_path||g.position_lineStrokeWidth!==y.position_lineStrokeWidth||[0,1].some((function(e){return g.position_plugOverheadSE[e]!==y.position_plugOverheadSE[e]||(i=v[e],r=y.position_socketXYSE[e],i.x!==r.x||i.y!==r.y||i.socketId!==r.socketId)||(i=t[e],r=y.position_socketGravitySE[e],(e=null==i?"auto":Array.isArray(i)?"array":"number")!=(null==r?"auto":Array.isArray(r)?"array":"number")||("array"==e?i[0]!==r[0]||i[1]!==r[1]:i!==r));var i,r}))){switch(e.pathList.baseVal=r=[],e.pathList.animVal=null,g.position_path){case O:r.push([_(v[0]),_(v[1])]);break;case P:u="number"==typeof t[0]&&0<t[0]||"number"==typeof t[1]&&0<t[1],u=(p=Q*(u?-1:1))-(f=Math.atan2(v[1].y-v[0].y,v[1].x-v[0].x)),f=Math.PI-f-p,p=Fe(v[0],v[1])/Math.sqrt(2)*J,u={x:v[0].x+Math.cos(u)*p,y:v[0].y+Math.sin(u)*p*-1},p={x:v[1].x+Math.cos(f)*p,y:v[1].y+Math.sin(f)*p*-1},r.push([_(v[0]),u,p,_(v[1])]);break;case F:case M:h=[t[0],g.position_path===M?0:t[1]],c=[],d=[],v.forEach((function(e,t){var i,r=h[t],s=Array.isArray(r)?{x:r[0],y:r[1]}:"number"==typeof r?e.socketId===x?{x:0,y:-r}:e.socketId===T?{x:r,y:0}:e.socketId===j?{x:0,y:r}:{x:-r,y:0}:(i=v[t?0:1],r=0<(r=g.position_plugOverheadSE[t])?Y+($<r?(r-$)*K:0):V+(g.position_lineStrokeWidth>q?(g.position_lineStrokeWidth-q)*G:0),e.socketId===x?{x:0,y:-(s=(s=(e.y-i.y)/2)<r?r:s)}:e.socketId===T?{x:s=(s=(i.x-e.x)/2)<r?r:s,y:0}:e.socketId===j?{x:0,y:s=(s=(i.y-e.y)/2)<r?r:s}:{x:-(s=(s=(e.x-i.x)/2)<r?r:s),y:0});c[t]=e.x+s.x,d[t]=e.y+s.y})),r.push([_(v[0]),{x:c[0],y:d[0]},{x:c[1],y:d[1]},_(v[1])]);break;case D:!function(){var e,i=1,s=2,n=3,o=4,a=[[],[]],l=[];function h(e){return e===i?n:e===s?o:e===n?i:s}function c(e){return e===s||e===o?"x":"y"}function d(e,t,r){var o={x:e.x,y:e.y};if(r){if(r===h(e.dirId))throw new Error("Invalid dirId: "+r);o.dirId=r}else o.dirId=e.dirId;return o.dirId===i?o.y-=t:o.dirId===s?o.x+=t:o.dirId===n?o.y+=t:o.x-=t,o}function u(e,t){return t.dirId===i?e.y<=t.y:t.dirId===s?e.x>=t.x:t.dirId===n?e.y>=t.y:e.x<=t.x}function p(e,t){return t.dirId===i||t.dirId===n?e.x===t.x:e.y===t.y}function f(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function m(e,t,i){return Math.abs(t[i]-e[i])}function g(e,t,r){return"x"===r?e.x<t.x?s:o:e.y<t.y?n:i}for(v.forEach((function(e,r){var c=_(e),u=t[r];e=Array.isArray(u)?u[0]<0?[o,-u[0]]:0<u[0]?[s,u[0]]:u[1]<0?[i,-u[1]]:0<u[1]?[n,u[1]]:[e.socketId,0]:"number"!=typeof u?[e.socketId,Z]:0<=u?[e.socketId,u]:[h(e.socketId),-u],c.dirId=e[0],u=e[1],a[r].push(c),l[r]=d(c,u)}));function(){var e,t,i,r,o=[u(l[1],l[0]),u(l[0],l[1])],h=[c(l[0].dirId),c(l[1].dirId)];if(h[0]===h[1]){if(o[0]&&o[1])return void(p(l[1],l[0])||(l[0][h[0]]===l[1][h[1]]?(a[0].push(l[0]),a[1].push(l[1])):(e=l[0][h[0]]+(l[1][h[1]]-l[0][h[0]])/2,a[0].push(d(l[0],Math.abs(e-l[0][h[0]]))),a[1].push(d(l[1],Math.abs(e-l[1][h[1]]))))));o[0]!==o[1]?(t=f(o),(i=m(l[t.notContain],l[t.contain],h[t.notContain]))<Z&&(l[t.notContain]=d(l[t.notContain],Z-i)),a[t.notContain].push(l[t.notContain]),l[t.notContain]=d(l[t.notContain],Z,p(l[t.contain],l[t.notContain])?"x"===h[t.notContain]?n:s:g(l[t.notContain],l[t.contain],"x"===h[t.notContain]?"y":"x"))):(i=m(l[0],l[1],"x"===h[0]?"y":"x"),a.forEach((function(e,t){var r=0===t?1:0;e.push(l[t]),l[t]=d(l[t],Z,2*Z<=i?g(l[t],l[r],"x"===h[t]?"y":"x"):"x"===h[t]?n:s)})))}else{if(o[0]&&o[1])return void(p(l[1],l[0])?a[1].push(l[1]):p(l[0],l[1])?a[0].push(l[0]):a[0].push("x"===h[0]?{x:l[1].x,y:l[0].y}:{x:l[0].x,y:l[1].y}));o[0]!==o[1]?(t=f(o),a[t.notContain].push(l[t.notContain]),l[t.notContain]=d(l[t.notContain],Z,m(l[t.notContain],l[t.contain],h[t.contain])>=Z?g(l[t.notContain],l[t.contain],h[t.contain]):l[t.contain].dirId)):(r=[{x:l[0].x,y:l[0].y},{x:l[1].x,y:l[1].y}],a.forEach((function(e,t){var i=0===t?1:0,s=m(r[t],r[i],h[t]);s<Z&&(l[t]=d(l[t],Z-s)),e.push(l[t]),l[t]=d(l[t],Z,g(l[t],l[i],h[i]))})))}return 1}(););a[1].reverse(),a[0].concat(a[1]).forEach((function(t,i){t={x:t.x,y:t.y},0<i&&r.push([e,t]),e=t}))}()}l=[],g.position_plugOverheadSE.forEach((function(e,t){var s,n,o,a,h,c,d,u,p,f=!t;0<e?2===(s=r[n=f?0:r.length-1]).length?(l[n]=l[n]||Fe.apply(null,s),l[n]>X&&(l[n]-e<X&&(e=l[n]-X),d=Me(s[0],s[1],(f?e:l[n]-e)/l[n]),r[n]=f?[d,s[1]]:[s[0],d],l[n]-=e)):(l[n]=l[n]||Re.apply(null,s),l[n]>X&&(l[n]-e<X&&(e=l[n]-X),d=Ae(s[0],s[1],s[2],s[3],Le(s[0],s[1],s[2],s[3],f?e:l[n]-e)),a=f?(o=s[0],d.toP1):(o=s[3],d.fromP2),h=Math.atan2(o.y-d.y,d.x-o.x),c=Fe(d,a),d.x=o.x+Math.cos(h)*e,d.y=o.y+Math.sin(h)*e*-1,a.x=d.x+Math.cos(h)*c,a.y=d.y+Math.sin(h)*c*-1,r[n]=f?[d,d.toP1,d.toP2,s[3]]:[s[0],d.fromP1,d.fromP2,d],l[n]=null)):e<0&&(s=r[n=f?0:r.length-1],d=v[t].socketId,t=-i[t]["x"==(u=d===C||d===T?"x":"y")?"width":"height"],p=(e=e<t?t:e)*(d===C||d===x?-1:1),2===s.length?s[f?0:s.length-1][u]+=p:(f?[0,1]:[s.length-2,s.length-1]).forEach((function(e){s[e][u]+=p})),l[n]=null)})),y.position_socketXYSE=Te(v),y.position_plugOverheadSE=Te(g.position_plugOverheadSE),y.position_path=g.position_path,y.position_lineStrokeWidth=g.position_lineStrokeWidth,y.position_socketGravitySE=Te(t),b=!0,e.events.apl_position&&e.events.apl_position.forEach((function(t){t(e,r)}))}return b}function Je(e,t){t!==e.isShown&&(!!t!=!!e.isShown&&(e.svg.style.visibility=t?"":"hidden"),e.isShown=t,e.events&&e.events.svgShow&&e.events.svgShow.forEach((function(i){i(e,t)})))}function Qe(t,i){var r,s,n,o,a,l,h,c,d,u,p,f,m,g,y,v,b,w,_,k,S,x,T,j,C,E,O,P,F,M,D,A,L,I,B,U,H,V,q,G,Y,$,K,X={};i.line&&(X.line=(c=(r=t).options,s=r.curStats,d=r.events,u=!1,u=$e(r,s,"line_color",c.lineColor,d.cur_line_color)||u,u=$e(r,s,"line_colorTra",je(s.line_color)[0]<1)||u,u=$e(r,s,"line_strokeWidth",c.lineSize,d.cur_line_strokeWidth)||u)),(i.plug||X.line)&&(X.plug=(o=(n=t).options,a=n.curStats,l=n.events,h=!1,[0,1].forEach((function(e){var t,i,r,s,c,d,u,p,f=o.plugSE[e];h=$e(n,a.plug_enabledSE,e,f!==R)||h,h=$e(n,a.plug_plugSE,e,f)||h,h=$e(n,a.plug_colorSE,e,p=o.plugColorSE[e]||a.line_color,l.cur_plug_colorSE)||h,h=$e(n,a.plug_colorTraSE,e,je(p)[0]<1)||h,f!==R&&(s=i=(t=N[z[f]]).widthR*o.plugSizeSE[e],c=r=t.heightR*o.plugSizeSE[e],ne&&(s*=a.line_strokeWidth,c*=a.line_strokeWidth),h=$e(n,a.plug_markerWidthSE,e,s)||h,h=$e(n,a.plug_markerHeightSE,e,c)||h,a.capsMaskMarker_markerWidthSE[e]=i,a.capsMaskMarker_markerHeightSE[e]=r),a.plugOutline_plugSE[e]=a.capsMaskMarker_plugSE[e]=f,a.plug_enabledSE[e]?(p=a.line_strokeWidth/ae.lineSize*o.plugSizeSE[e],a.position_plugOverheadSE[e]=t.overhead*p,a.viewBox_plugBCircleSE[e]=t.bCircle*p,d=t.sideLen*p,u=t.backLen*p):(a.position_plugOverheadSE[e]=-a.line_strokeWidth/2,a.viewBox_plugBCircleSE[e]=d=u=0),$e(n,a.attach_plugSideLenSE,e,d,l.cur_attach_plugSideLenSE),$e(n,a.attach_plugBackLenSE,e,u,l.cur_attach_plugBackLenSE),a.capsMaskAnchor_enabledSE[e]=!a.plug_enabledSE[e]})),h=$e(n,a,"plug_enabled",a.plug_enabledSE[0]||a.plug_enabledSE[1])||h)),(i.lineOutline||X.line)&&(X.lineOutline=(d=(c=t).options,T=!1,T=$e(c,u=c.curStats,"lineOutline_enabled",d.lineOutlineEnabled)||T,T=$e(c,u,"lineOutline_color",d.lineOutlineColor)||T,T=$e(c,u,"lineOutline_colorTra",je(u.lineOutline_color)[0]<1)||T,d=u.line_strokeWidth*d.lineOutlineSize,T=$e(c,u,"lineOutline_strokeWidth",u.line_strokeWidth-2*d)||T,T=$e(c,u,"lineOutline_inStrokeWidth",u.lineOutline_colorTra?u.lineOutline_strokeWidth+2*oe:u.line_strokeWidth-d)||T)),(i.plugOutline||X.line||X.plug||X.lineOutline)&&(X.plugOutline=(f=(p=t).options,m=p.curStats,g=!1,[0,1].forEach((function(e){var t=m.plugOutline_plugSE[e],i=t!==R?N[z[t]]:null;g=$e(p,m.plugOutline_enabledSE,e,f.plugOutlineEnabledSE[e]&&m.plug_enabled&&m.plug_enabledSE[e]&&!!i&&!!i.outlineBase)||g,g=$e(p,m.plugOutline_colorSE,e,t=f.plugOutlineColorSE[e]||m.lineOutline_color)||g,g=$e(p,m.plugOutline_colorTraSE,e,je(t)[0]<1)||g,i&&i.outlineBase&&((t=f.plugOutlineSizeSE[e])>i.outlineMax&&(t=i.outlineMax),t*=2*i.outlineBase,g=$e(p,m.plugOutline_strokeWidthSE,e,t)||g,g=$e(p,m.plugOutline_inStrokeWidthSE,e,m.plugOutline_colorTraSE[e]?t-oe/(m.line_strokeWidth/ae.lineSize)/f.plugSizeSE[e]*2:t/2)||g)})),g)),(i.faces||X.line||X.plug||X.lineOutline||X.plugOutline)&&(X.faces=(b=(y=t).curStats,w=y.aplStats,_=y.events,k=!1,!b.line_altColor&&$e(y,w,"line_color",v=b.line_color,_.apl_line_color)&&(y.lineFace.style.stroke=v,k=!0),$e(y,w,"line_strokeWidth",v=b.line_strokeWidth,_.apl_line_strokeWidth)&&(y.lineShape.style.strokeWidth=v+"px",k=!0,(re||ie)&&(We(y,y.lineShape),ie&&(We(y,y.lineFace),We(y,y.lineMaskCaps)))),$e(y,w,"lineOutline_enabled",v=b.lineOutline_enabled,_.apl_lineOutline_enabled)&&(y.lineOutlineFace.style.display=v?"inline":"none",k=!0),b.lineOutline_enabled&&($e(y,w,"lineOutline_color",v=b.lineOutline_color,_.apl_lineOutline_color)&&(y.lineOutlineFace.style.stroke=v,k=!0),$e(y,w,"lineOutline_strokeWidth",v=b.lineOutline_strokeWidth,_.apl_lineOutline_strokeWidth)&&(y.lineOutlineMaskShape.style.strokeWidth=v+"px",k=!0,ie&&(We(y,y.lineOutlineMaskCaps),We(y,y.lineOutlineFace))),$e(y,w,"lineOutline_inStrokeWidth",v=b.lineOutline_inStrokeWidth,_.apl_lineOutline_inStrokeWidth)&&(y.lineMaskShape.style.strokeWidth=v+"px",k=!0,ie&&(We(y,y.lineOutlineMaskCaps),We(y,y.lineOutlineFace)))),$e(y,w,"plug_enabled",v=b.plug_enabled,_.apl_plug_enabled)&&(y.plugsFace.style.display=v?"inline":"none",k=!0),b.plug_enabled&&[0,1].forEach((function(e){var t=b.plug_plugSE[e],i=t!==R?N[z[t]]:null,r=Ge(e,i);$e(y,w.plug_enabledSE,e,v=b.plug_enabledSE[e],_.apl_plug_enabledSE)&&(y.plugsFace.style[r.prop]=v?"url(#"+y.plugMarkerIdSE[e]+")":"none",k=!0),b.plug_enabledSE[e]&&($e(y,w.plug_plugSE,e,t,_.apl_plug_plugSE)&&(y.plugFaceSE[e].href.baseVal="#"+i.elmId,qe(y,y.plugMarkerSE[e],r.orient,i.bBox,y.svg,y.plugMarkerShapeSE[e],y.plugsFace),k=!0,re&&We(y,y.plugsFace)),$e(y,w.plug_colorSE,e,v=b.plug_colorSE[e],_.apl_plug_colorSE)&&(y.plugFaceSE[e].style.fill=v,k=!0,(se||ne||ie)&&!b.line_colorTra&&We(y,ie?y.lineMaskCaps:y.capsMaskLine)),["markerWidth","markerHeight"].forEach((function(t){var i="plug_"+t+"SE";$e(y,w[i],e,v=b[i][e],_["apl_"+i])&&(y.plugMarkerSE[e][t].baseVal.value=v,k=!0)})),$e(y,w.plugOutline_enabledSE,e,v=b.plugOutline_enabledSE[e],_.apl_plugOutline_enabledSE)&&(v?(y.plugFaceSE[e].style.mask="url(#"+y.plugMaskIdSE[e]+")",y.plugOutlineFaceSE[e].style.display="inline"):(y.plugFaceSE[e].style.mask="none",y.plugOutlineFaceSE[e].style.display="none"),k=!0),b.plugOutline_enabledSE[e]&&($e(y,w.plugOutline_plugSE,e,t,_.apl_plugOutline_plugSE)&&(y.plugOutlineFaceSE[e].href.baseVal=y.plugMaskShapeSE[e].href.baseVal=y.plugOutlineMaskShapeSE[e].href.baseVal="#"+i.elmId,[y.plugMaskSE[e],y.plugOutlineMaskSE[e]].forEach((function(e){e.x.baseVal.value=i.bBox.left,e.y.baseVal.value=i.bBox.top,e.width.baseVal.value=i.bBox.width,e.height.baseVal.value=i.bBox.height})),k=!0),$e(y,w.plugOutline_colorSE,e,v=b.plugOutline_colorSE[e],_.apl_plugOutline_colorSE)&&(y.plugOutlineFaceSE[e].style.fill=v,k=!0,ie&&(We(y,y.lineMaskCaps),We(y,y.lineOutlineMaskCaps))),$e(y,w.plugOutline_strokeWidthSE,e,v=b.plugOutline_strokeWidthSE[e],_.apl_plugOutline_strokeWidthSE)&&(y.plugOutlineMaskShapeSE[e].style.strokeWidth=v+"px",k=!0),$e(y,w.plugOutline_inStrokeWidthSE,e,v=b.plugOutline_inStrokeWidthSE[e],_.apl_plugOutline_inStrokeWidthSE)&&(y.plugMaskShapeSE[e].style.strokeWidth=v+"px",k=!0)))})),k)),(i.position||X.line||X.plug)&&(X.position=Ze(t)),(i.path||X.position)&&(X.path=(T=(S=t).curStats,O=S.aplStats,E=S.pathList.animVal||S.pathList.baseVal,j=T.path_edge,P=!1,E&&(j.x1=j.x2=E[0][0].x,j.y1=j.y2=E[0][0].y,T.path_pathData=x=Ie(E,(function(e){e.x<j.x1&&(j.x1=e.x),e.y<j.y1&&(j.y1=e.y),e.x>j.x2&&(j.x2=e.x),e.y>j.y2&&(j.y2=e.y)})),Be(x,O.path_pathData)&&(S.linePath.setPathData(x),O.path_pathData=x,P=!0,ie?(We(S,S.plugsFace),We(S,S.lineMaskCaps)):re&&We(S,S.linePath),S.events.apl_path&&S.events.apl_path.forEach((function(e){e(S,x)})))),P)),X.viewBox=(E=(C=t).curStats,O=C.aplStats,P=E.path_edge,F=E.viewBox_bBox,M=O.viewBox_bBox,D=C.svg.viewBox.baseVal,A=C.svg.style,L=!1,O=Math.max(E.line_strokeWidth/2,E.viewBox_plugBCircleSE[0]||0,E.viewBox_plugBCircleSE[1]||0),I={x1:P.x1-O,y1:P.y1-O,x2:P.x2+O,y2:P.y2+O},C.events.new_edge4viewBox&&C.events.new_edge4viewBox.forEach((function(e){e(C,I)})),F.x=E.lineMask_x=E.lineOutlineMask_x=E.maskBGRect_x=I.x1,F.y=E.lineMask_y=E.lineOutlineMask_y=E.maskBGRect_y=I.y1,F.width=I.x2-I.x1,F.height=I.y2-I.y1,["x","y","width","height"].forEach((function(e){var t;(t=F[e])!==M[e]&&(D[e]=M[e]=t,A[W[e]]=t+("x"===e||"y"===e?C.bodyOffset[e]:0)+"px",L=!0)})),L),X.mask=(H=(B=t).curStats,V=B.aplStats,q=!1,H.plug_enabled?[0,1].forEach((function(e){H.capsMaskMarker_enabledSE[e]=H.plug_enabledSE[e]&&H.plug_colorTraSE[e]||H.plugOutline_enabledSE[e]&&H.plugOutline_colorTraSE[e]})):H.capsMaskMarker_enabledSE[0]=H.capsMaskMarker_enabledSE[1]=!1,H.capsMaskMarker_enabled=H.capsMaskMarker_enabledSE[0]||H.capsMaskMarker_enabledSE[1],H.lineMask_outlineMode=H.lineOutline_enabled,H.caps_enabled=H.capsMaskMarker_enabled||H.capsMaskAnchor_enabledSE[0]||H.capsMaskAnchor_enabledSE[1],H.lineMask_enabled=H.caps_enabled||H.lineMask_outlineMode,(H.lineMask_enabled&&!H.lineMask_outlineMode||H.lineOutline_enabled)&&["x","y"].forEach((function(e){var t="maskBGRect_"+e;$e(B,V,t,U=H[t])&&(B.maskBGRect[e].baseVal.value=U,q=!0)})),$e(B,V,"lineMask_enabled",U=H.lineMask_enabled)&&(B.lineFace.style.mask=U?"url(#"+B.lineMaskId+")":"none",q=!0,ne&&We(B,B.lineMask)),H.lineMask_enabled&&($e(B,V,"lineMask_outlineMode",U=H.lineMask_outlineMode)&&(U?(B.lineMaskBG.style.display="none",B.lineMaskShape.style.display="inline"):(B.lineMaskBG.style.display="inline",B.lineMaskShape.style.display="none"),q=!0),["x","y"].forEach((function(e){var t="lineMask_"+e;$e(B,V,t,U=H[t])&&(B.lineMask[e].baseVal.value=U,q=!0)})),$e(B,V,"caps_enabled",U=H.caps_enabled)&&(B.lineMaskCaps.style.display=B.lineOutlineMaskCaps.style.display=U?"inline":"none",q=!0,ne&&We(B,B.capsMaskLine)),H.caps_enabled&&([0,1].forEach((function(e){var t;$e(B,V.capsMaskAnchor_enabledSE,e,U=H.capsMaskAnchor_enabledSE[e])&&(B.capsMaskAnchorSE[e].style.display=U?"inline":"none",q=!0,ne&&We(B,B.lineMask)),H.capsMaskAnchor_enabledSE[e]&&(Be(t=H.capsMaskAnchor_pathDataSE[e],V.capsMaskAnchor_pathDataSE[e])&&(B.capsMaskAnchorSE[e].setPathData(t),V.capsMaskAnchor_pathDataSE[e]=t,q=!0),$e(B,V.capsMaskAnchor_strokeWidthSE,e,U=H.capsMaskAnchor_strokeWidthSE[e])&&(B.capsMaskAnchorSE[e].style.strokeWidth=U+"px",q=!0))})),$e(B,V,"capsMaskMarker_enabled",U=H.capsMaskMarker_enabled)&&(B.capsMaskLine.style.display=U?"inline":"none",q=!0),H.capsMaskMarker_enabled&&[0,1].forEach((function(e){var t=H.capsMaskMarker_plugSE[e],i=t!==R?N[z[t]]:null,r=Ge(e,i);$e(B,V.capsMaskMarker_enabledSE,e,U=H.capsMaskMarker_enabledSE[e])&&(B.capsMaskLine.style[r.prop]=U?"url(#"+B.lineMaskMarkerIdSE[e]+")":"none",q=!0),H.capsMaskMarker_enabledSE[e]&&($e(B,V.capsMaskMarker_plugSE,e,t)&&(B.capsMaskMarkerShapeSE[e].href.baseVal="#"+i.elmId,qe(B,B.capsMaskMarkerSE[e],r.orient,i.bBox,B.svg,B.capsMaskMarkerShapeSE[e],B.capsMaskLine),q=!0,re&&(We(B,B.capsMaskLine),We(B,B.lineFace))),["markerWidth","markerHeight"].forEach((function(t){var i="capsMaskMarker_"+t+"SE";$e(B,V[i],e,U=H[i][e])&&(B.capsMaskMarkerSE[e][t].baseVal.value=U,q=!0)})))})))),H.lineOutline_enabled&&["x","y"].forEach((function(e){var t="lineOutlineMask_"+e;$e(B,V,t,U=H[t])&&(B.lineOutlineMask[e].baseVal.value=U,q=!0)})),q),i.effect&&($=(G=t).curStats,K=G.aplStats,Object.keys(e).forEach((function(t){var i=e[t],r=t+"_enabled",s=t+"_options";t=$[s];$e(G,K,r,Y=$[r])?(Y&&(K[s]=Te(t)),i[Y?"init":"remove"](G)):Y&&xe(t,K[s])&&(i.remove(G),K[r]=!0,K[s]=Te(t),i.init(G))}))),(se||ne)&&X.line&&!X.path&&We(t,t.lineShape),se&&X.plug&&!X.line&&We(t,t.plugsFace),Ve(t)}function et(e,t){return{duration:(he(e.duration)&&0<e.duration?e:t).duration,timing:ce.validTiming(e.timing)?e.timing:Te(t.timing)}}function tt(e,i,r,s){var n=e.curStats,o=e.aplStats,a={};function l(){["show_on","show_effect","show_animOptions"].forEach((function(e){o[e]=n[e]}))}n.show_on=i,r&&t[r]&&(n.show_effect=r,n.show_animOptions=et(le(s)?s:{},t[r].defaultAnimOptions)),a.show_on=n.show_on!==o.show_on,a.show_effect=n.show_effect!==o.show_effect,a.show_animOptions=xe(n.show_animOptions,o.show_animOptions),a.show_effect||a.show_animOptions?n.show_inAnim?(r=a.show_effect?t[o.show_effect].stop(e,!0,!0):t[o.show_effect].stop(e),l(),t[o.show_effect].init(e,r)):a.show_on&&(o.show_effect&&a.show_effect&&t[o.show_effect].stop(e,!0,!0),l(),t[o.show_effect].init(e)):a.show_on&&(l(),t[o.show_effect].start(e))}function it(e,t,i){return i={props:e,optionName:i},e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,i))&&(e.attachments.push(t),t.boundTargets.push(i),1)}function rt(e,t,i){var r=e.attachments.indexOf(t);-1<r&&e.attachments.splice(r,1),t.boundTargets.some((function(i,s){return i.props===e&&(t.conf.unbind&&t.conf.unbind(t,i),r=s,!0)}))&&(t.boundTargets.splice(r,1),i||He((function(){t.boundTargets.length||n(t)})))}function st(n,o){var a,l,h,c,d,u,p,f,m,g,y,v,b,w,_,k=n.options,x={};function T(e,t,i,r,s){var n={};return i?null!=r?(n.container=e[i],n.key=r):(n.container=e,n.key=i):(n.container=e,n.key=t),n.default=s,n.acceptsAuto=null==n.default,n}function j(e,t,i,r,s,n,o){var a,l,h;o=T(e,i,s,n,o);return null!=t[i]&&(l=(t[i]+"").toLowerCase())&&(o.acceptsAuto&&l===H||(h=r[l]))&&h!==o.container[o.key]&&(o.container[o.key]=h,a=!0),null!=o.container[o.key]||o.acceptsAuto||(o.container[o.key]=o.default,a=!0),a}function C(e,t,i,r,s,n,o,a,l){var h,c,d,u;o=T(e,i,s,n,o);if(!r){if(null==o.default)throw new Error("Invalid `type`: "+i);r=typeof o.default}return null!=t[i]&&(o.acceptsAuto&&(t[i]+"").toLowerCase()===H||(d=c=t[i],("number"===(u=r)?he(d):typeof d===u)&&(c=l&&"string"===r&&c?c.trim():c,1)&&(!a||a(c))))&&c!==o.container[o.key]&&(o.container[o.key]=c,h=!0),null!=o.container[o.key]||o.acceptsAuto||(o.container[o.key]=o.default,h=!0),h}if(o=o||{},["start","end"].forEach((function(e,t){var i=o[e],r=!1;if(i&&(Ce(i)||(r=s(i,"anchor")))&&i!==k.anchorSE[t]){if(!1!==n.optionIsAttach.anchorSE[t]&&rt(n,be[k.anchorSE[t]._id]),r&&!it(n,be[i._id],e))throw new Error("Can't bind attachment");k.anchorSE[t]=i,n.optionIsAttach.anchorSE[t]=r,a=x.position=!0}})),!k.anchorSE[0]||!k.anchorSE[1]||k.anchorSE[0]===k.anchorSE[1])throw new Error("`start` and `end` are required.");function O(e){var t=d.appendChild(w.createElementNS(te,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t}function P(e){var t=d.appendChild(w.createElementNS(te,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function F(e){return[e.width,e.height].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)})),e}a&&(y=function(e,t){var i,r;if(!(e=Oe(e))||!(i=Oe(t)))throw new Error("Cannot get frames.");return e.length&&i.length&&(e.reverse(),i.reverse(),e.some((function(e){return i.some((function(t){return t===e&&(r=t.contentWindow,!0)}))}))),r||window}(!1!==n.optionIsAttach.anchorSE[0]?be[k.anchorSE[0]._id].element:k.anchorSE[0],!1!==n.optionIsAttach.anchorSE[1]?be[k.anchorSE[1]._id].element:k.anchorSE[1]))!==n.baseWindow&&(h=y,b=(l=n).aplStats,w=h.document,_=S+"-"+l._id,l.pathList={},Ye(b,pe),Object.keys(e).forEach((function(t){var i=t+"_enabled";b[i]&&(e[t].remove(l),b[i]=!1)})),l.baseWindow&&l.svg&&l.baseWindow.document.body.removeChild(l.svg),Xe(l.baseWindow=h),l.bodyOffset=Ke(h),l.svg=c=w.createElementNS(te,"svg"),c.className.baseVal=S,c.viewBox.baseVal||c.setAttribute("viewBox","0 0 0 0"),l.defs=d=c.appendChild(w.createElementNS(te,"defs")),l.linePath=p=d.appendChild(w.createElementNS(te,"path")),p.id=f=_+"-line-path",p.className.baseVal=S+"-line-path",ne&&(p.style.fill="none"),l.lineShape=p=d.appendChild(w.createElementNS(te,"use")),p.id=m=_+"-line-shape",p.href.baseVal="#"+f,(u=d.appendChild(w.createElementNS(te,"g"))).id=g=_+"-caps",l.capsMaskAnchorSE=[0,1].map((function(){var e=u.appendChild(w.createElementNS(te,"path"));return e.className.baseVal=S+"-caps-mask-anchor",e})),l.lineMaskMarkerIdSE=[_+"-caps-mask-marker-0",_+"-caps-mask-marker-1"],l.capsMaskMarkerSE=[0,1].map((function(e){return P(l.lineMaskMarkerIdSE[e])})),l.capsMaskMarkerShapeSE=[0,1].map((function(e){return(e=l.capsMaskMarkerSE[e].appendChild(w.createElementNS(te,"use"))).className.baseVal=S+"-caps-mask-marker-shape",e})),l.capsMaskLine=p=u.appendChild(w.createElementNS(te,"use")),p.className.baseVal=S+"-caps-mask-line",p.href.baseVal="#"+m,l.maskBGRect=p=F(d.appendChild(w.createElementNS(te,"rect"))),p.id=y=_+"-mask-bg-rect",p.className.baseVal=S+"-mask-bg-rect",ne&&(p.style.fill="white"),l.lineMask=F(O(l.lineMaskId=_+"-line-mask")),l.lineMaskBG=p=l.lineMask.appendChild(w.createElementNS(te,"use")),p.href.baseVal="#"+y,l.lineMaskShape=p=l.lineMask.appendChild(w.createElementNS(te,"use")),p.className.baseVal=S+"-line-mask-shape",p.href.baseVal="#"+f,p.style.display="none",l.lineMaskCaps=p=l.lineMask.appendChild(w.createElementNS(te,"use")),p.href.baseVal="#"+g,l.lineOutlineMask=F(O(h=_+"-line-outline-mask")),(p=l.lineOutlineMask.appendChild(w.createElementNS(te,"use"))).href.baseVal="#"+y,l.lineOutlineMaskShape=p=l.lineOutlineMask.appendChild(w.createElementNS(te,"use")),p.className.baseVal=S+"-line-outline-mask-shape",p.href.baseVal="#"+f,l.lineOutlineMaskCaps=p=l.lineOutlineMask.appendChild(w.createElementNS(te,"use")),p.href.baseVal="#"+g,l.face=c.appendChild(w.createElementNS(te,"g")),l.lineFace=p=l.face.appendChild(w.createElementNS(te,"use")),p.href.baseVal="#"+m,l.lineOutlineFace=p=l.face.appendChild(w.createElementNS(te,"use")),p.href.baseVal="#"+m,p.style.mask="url(#"+h+")",p.style.display="none",l.plugMaskIdSE=[_+"-plug-mask-0",_+"-plug-mask-1"],l.plugMaskSE=[0,1].map((function(e){return O(l.plugMaskIdSE[e])})),l.plugMaskShapeSE=[0,1].map((function(e){return(e=l.plugMaskSE[e].appendChild(w.createElementNS(te,"use"))).className.baseVal=S+"-plug-mask-shape",e})),v=[],l.plugOutlineMaskSE=[0,1].map((function(e){return O(v[e]=_+"-plug-outline-mask-"+e)})),l.plugOutlineMaskShapeSE=[0,1].map((function(e){return(e=l.plugOutlineMaskSE[e].appendChild(w.createElementNS(te,"use"))).className.baseVal=S+"-plug-outline-mask-shape",e})),l.plugMarkerIdSE=[_+"-plug-marker-0",_+"-plug-marker-1"],l.plugMarkerSE=[0,1].map((function(e){return e=P(l.plugMarkerIdSE[e]),ne&&(e.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),e})),l.plugMarkerShapeSE=[0,1].map((function(e){return l.plugMarkerSE[e].appendChild(w.createElementNS(te,"g"))})),l.plugFaceSE=[0,1].map((function(e){return l.plugMarkerShapeSE[e].appendChild(w.createElementNS(te,"use"))})),l.plugOutlineFaceSE=[0,1].map((function(e){var t=l.plugMarkerShapeSE[e].appendChild(w.createElementNS(te,"use"));return t.style.mask="url(#"+v[e]+")",t.style.display="none",t})),l.plugsFace=p=l.face.appendChild(w.createElementNS(te,"use")),p.className.baseVal=S+"-plugs-face",p.href.baseVal="#"+m,p.style.display="none",l.curStats.show_inAnim?(l.isShown=1,t[b.show_effect].stop(l,!0)):l.isShown||(c.style.visibility="hidden"),w.body.appendChild(c),[0,1,2].forEach((function(e){var t;(e=l.options.labelSEM[e])&&s(e,"label")&&(t=be[e._id]).conf.initSvg&&t.conf.initSvg(t,l)})),x.line=x.plug=x.lineOutline=x.plugOutline=x.faces=x.effect=!0),x.position=j(k,o,"path",A,null,null,ae.path)||x.position,x.position=j(k,o,"startSocket",E,"socketSE",0)||x.position,x.position=j(k,o,"endSocket",E,"socketSE",1)||x.position,[o.startSocketGravity,o.endSocketGravity].forEach((function(e,t){var i,r,s=!1;null!=e&&(Array.isArray(e)?he(e[0])&&he(e[1])&&(s=[e[0],e[1]],Array.isArray(k.socketGravitySE[t])&&(i=s,r=k.socketGravitySE[t],i.length===r.length&&i.every((function(e,t){return e===r[t]})))&&(s=!1)):((e+"").toLowerCase()===H?s=null:he(e)&&0<=e&&(s=e),s===k.socketGravitySE[t]&&(s=!1)),!1!==s&&(k.socketGravitySE[t]=s,x.position=!0))})),x.line=C(k,o,"color",null,"lineColor",null,ae.lineColor,null,!0)||x.line,x.line=C(k,o,"size",null,"lineSize",null,ae.lineSize,(function(e){return 0<e}))||x.line,["startPlug","endPlug"].forEach((function(e,t){x.plug=j(k,o,e,B,"plugSE",t,ae.plugSE[t])||x.plug,x.plug=C(k,o,e+"Color","string","plugColorSE",t,null,null,!0)||x.plug,x.plug=C(k,o,e+"Size",null,"plugSizeSE",t,ae.plugSizeSE[t],(function(e){return 0<e}))||x.plug})),x.lineOutline=C(k,o,"outline",null,"lineOutlineEnabled",null,ae.lineOutlineEnabled)||x.lineOutline,x.lineOutline=C(k,o,"outlineColor",null,"lineOutlineColor",null,ae.lineOutlineColor,null,!0)||x.lineOutline,x.lineOutline=C(k,o,"outlineSize",null,"lineOutlineSize",null,ae.lineOutlineSize,(function(e){return 0<e&&e<=.48}))||x.lineOutline,["startPlugOutline","endPlugOutline"].forEach((function(e,t){x.plugOutline=C(k,o,e,null,"plugOutlineEnabledSE",t,ae.plugOutlineEnabledSE[t])||x.plugOutline,x.plugOutline=C(k,o,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||x.plugOutline,x.plugOutline=C(k,o,e+"Size",null,"plugOutlineSizeSE",t,ae.plugOutlineSizeSE[t],(function(e){return 1<=e}))||x.plugOutline})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){var a,l,h,c=o[e],d=k.labelSEM[t]&&!n.optionIsAttach.labelSEM[t]?be[k.labelSEM[t]._id].text:k.labelSEM[t],u=!1;if((a="string"==typeof c)&&(c=c.trim()),(a||c&&(u=s(c,"label")))&&c!==d){if(k.labelSEM[t]&&(rt(n,be[k.labelSEM[t]._id]),k.labelSEM[t]=""),c){if(u?(l=be[(h=c)._id]).boundTargets.slice().forEach((function(e){l.conf.removeOption(l,e)})):h=new r(i.captionLabel,[c]),!it(n,be[h._id],e))throw new Error("Can't bind attachment");k.labelSEM[t]=h}n.optionIsAttach.labelSEM[t]=u}})),Object.keys(e).forEach((function(t){var i,r,s=e[t],a=t+"_enabled",l=t+"_options";function h(e){var t={};return s.optionsConf.forEach((function(i){var r=i[0],s=i[3];null==i[4]||t[s]||(t[s]=[]),("function"==typeof r?r:"id"===r?j:C).apply(null,[t,e].concat(i.slice(1)))})),t}function c(e){var i,r=t+"_animOptions";return e.hasOwnProperty("animation")?le(e.animation)?i=n.curStats[r]=et(e.animation,s.defaultAnimOptions):(i=!!e.animation,n.curStats[r]=i?et({},s.defaultAnimOptions):null):(i=!!s.defaultEnabled,n.curStats[r]=i?et({},s.defaultAnimOptions):null),i}o.hasOwnProperty(t)&&(i=o[t],le(i)?(n.curStats[a]=!0,r=n.curStats[l]=h(i),s.anim&&(n.curStats[l].animation=c(i))):(r=n.curStats[a]=!!i)&&(n.curStats[l]=h({}),s.anim&&(n.curStats[l].animation=c({}))),xe(r,k[t])&&(k[t]=r,x.effect=!0))})),Qe(n,x)}function nt(i,r,s){var n={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Ye(n.curStats,pe),Ye(n.aplStats,pe),Object.keys(e).forEach((function(t){var i=e[t].stats;Ye(n.curStats,i),Ye(n.aplStats,i),n.options[t]=!1})),Ye(n.curStats,fe),Ye(n.aplStats,fe),n.curStats.show_effect=me,n.curStats.show_animOptions=Te(t[me].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++ve}),n._id=this._id,ye[this._id]=n,1===arguments.length&&(s=i,i=null),s=s||{},(i||r)&&(s=Te(s),i&&(s.start=i),r&&(s.end=r)),n.isShown=n.aplStats.show_on=!s.hide,this.setOptions(s)}function ot(e){return function(t){var i={};i[e]=t,this.setOptions(i)}}function at(e,t){var i,r={conf:e,curStats:{},aplStats:{},boundTargets:[]},s={};e.argOptions.every((function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0]))||(s[e.optionName]=t.shift(),0))})),i=t.length&&le(t[0])?Te(t[0]):{},Object.keys(s).forEach((function(e){i[e]=s[e]})),e.stats&&(Ye(r.curStats,e.stats),Ye(r.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++we}),Object.defineProperty(this,"isRemoved",{get:function(){return!be[this._id]}}),r._id=this._id,e.init&&!e.init(r,i)||(be[this._id]=r)}return e={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(t){ze(t,"apl_line_strokeWidth",e.dash.update),t.lineFace.style.strokeDashoffset=0,e.dash.update(t)},remove:function(t){var i=t.curStats;Ue(t,"apl_line_strokeWidth",e.dash.update),i.dash_animId&&(ce.remove(i.dash_animId),i.dash_animId=null),t.lineFace.style.strokeDasharray="none",t.lineFace.style.strokeDashoffset=0,Ye(t.aplStats,e.dash.stats)},update:function(e){var t,i=e.curStats,r=e.aplStats,s=r.dash_options,n=!1;i.dash_len=s.len||2*r.line_strokeWidth,i.dash_gap=s.gap||r.line_strokeWidth,i.dash_maxOffset=i.dash_len+i.dash_gap,n=$e(e,r,"dash_len",i.dash_len)||n,(n=$e(e,r,"dash_gap",i.dash_gap)||n)&&(e.lineFace.style.strokeDasharray=r.dash_len+","+r.dash_gap),i.dash_animOptions?(n=$e(e,r,"dash_maxOffset",i.dash_maxOffset),r.dash_animOptions&&(n||xe(i.dash_animOptions,r.dash_animOptions))&&(i.dash_animId&&(t=ce.stop(i.dash_animId),ce.remove(i.dash_animId)),r.dash_animOptions=null),r.dash_animOptions||(i.dash_animId=ce.add((function(e){return(1-e)*r.dash_maxOffset+"px"}),(function(t){e.lineFace.style.strokeDashoffset=t}),i.dash_animOptions.duration,0,i.dash_animOptions.timing,!1,t),r.dash_animOptions=Te(i.dash_animOptions))):r.dash_animOptions&&(i.dash_animId&&(ce.remove(i.dash_animId),i.dash_animId=null),e.lineFace.style.strokeDashoffset=0,r.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(t){var i=t.baseWindow.document,r=t.defs,s=S+"-"+t._id+"-gradient";t.efc_gradient_gradient=r=r.appendChild(i.createElementNS(te,"linearGradient")),r.id=s,r.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[r.x1,r.y1,r.x2,r.y2].forEach((function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)})),t.efc_gradient_stopSE=[0,1].map((function(e){var r=t.efc_gradient_gradient.appendChild(i.createElementNS(te,"stop"));try{r.offset.baseVal=e}catch(t){if(t.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw t;r.setAttribute("offset",e)}return r})),ze(t,"cur_plug_colorSE",e.gradient.update),ze(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!0,t.lineFace.style.stroke="url(#"+s+")",e.gradient.update(t)},remove:function(t){t.efc_gradient_gradient&&(t.defs.removeChild(t.efc_gradient_gradient),t.efc_gradient_gradient=t.efc_gradient_stopSE=null),Ue(t,"cur_plug_colorSE",e.gradient.update),Ue(t,"apl_path",e.gradient.update),t.curStats.line_altColor=!1,t.lineFace.style.stroke=t.curStats.line_color,Ye(t.aplStats,e.gradient.stats)},update:function(e){var t,i=e.curStats,r=e.aplStats,s=r.gradient_options,n=e.pathList.animVal||e.pathList.baseVal;[0,1].forEach((function(e){i.gradient_colorSE[e]=s.colorSE[e]||i.plug_colorSE[e]})),t=n[0][0],i.gradient_pointSE[0]={x:t.x,y:t.y},t=(n=n[n.length-1])[n.length-1],i.gradient_pointSE[1]={x:t.x,y:t.y},[0,1].forEach((function(t){var s;$e(e,r.gradient_colorSE,t,s=i.gradient_colorSE[t])&&(ne?(s=je(s),e.efc_gradient_stopSE[t].style.stopColor=s[1],e.efc_gradient_stopSE[t].style.stopOpacity=s[0]):e.efc_gradient_stopSE[t].style.stopColor=s),["x","y"].forEach((function(n){(s=i.gradient_pointSE[t][n])!==r.gradient_pointSE[t][n]&&(e.efc_gradient_gradient[n+(t+1)].baseVal.value=r.gradient_pointSE[t][n]=s)}))}))}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var i,r,s,n,o=t.baseWindow.document,a=t.defs,l=S+"-"+t._id+"-dropShadow",c=(i=o,r=l,n={},"boolean"!=typeof h&&(h=!!window.SVGFEDropShadowElement&&!ne),n.elmsAppend=[n.elmFilter=o=i.createElementNS(te,"filter")],o.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,o.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.id=r,h?(n.elmOffset=n.elmBlur=s=o.appendChild(i.createElementNS(te,"feDropShadow")),n.styleFlood=s.style):(n.elmBlur=o.appendChild(i.createElementNS(te,"feGaussianBlur")),n.elmOffset=s=o.appendChild(i.createElementNS(te,"feOffset")),s.result.baseVal="offsetblur",s=o.appendChild(i.createElementNS(te,"feFlood")),n.styleFlood=s.style,(s=o.appendChild(i.createElementNS(te,"feComposite"))).in2.baseVal="offsetblur",s.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(s=o.appendChild(i.createElementNS(te,"feMerge"))).appendChild(i.createElementNS(te,"feMergeNode")),s.appendChild(i.createElementNS(te,"feMergeNode")).in1.baseVal="SourceGraphic"),n);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach((function(e){t["efc_dropShadow_"+e]=c[e]})),c.elmsAppend.forEach((function(e){a.appendChild(e)})),t.face.setAttribute("filter","url(#"+l+")"),ze(t,"new_edge4viewBox",e.dropShadow.adjustEdge),e.dropShadow.update(t)},remove:function(t){var i=t.defs;t.efc_dropShadow_elmsAppend&&(t.efc_dropShadow_elmsAppend.forEach((function(e){i.removeChild(e)})),t.efc_dropShadow_elmFilter=t.efc_dropShadow_elmOffset=t.efc_dropShadow_elmBlur=t.efc_dropShadow_styleFlood=t.efc_dropShadow_elmsAppend=null),Ue(t,"new_edge4viewBox",e.dropShadow.adjustEdge),Qe(t,{}),t.face.removeAttribute("filter"),Ye(t.aplStats,e.dropShadow.stats)},update:function(e){var t,i,r=e.curStats,s=e.aplStats,n=s.dropShadow_options;r.dropShadow_dx=t=n.dx,$e(e,s,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,i=!0),r.dropShadow_dy=t=n.dy,$e(e,s,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,i=!0),r.dropShadow_blur=t=n.blur,$e(e,s,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),i=!0),i&&Qe(e,{}),r.dropShadow_color=t=n.color,$e(e,s,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),r.dropShadow_opacity=t=n.opacity,$e(e,s,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(e,t){var i,r=e.curStats,s=e.aplStats;null!=r.dropShadow_dx&&(i=3*r.dropShadow_blur,(i={x1:t.x1-i+r.dropShadow_dx,y1:t.y1-i+r.dropShadow_dy,x2:t.x2+i+r.dropShadow_dx,y2:t.y2+i+r.dropShadow_dy}).x1<t.x1&&(t.x1=i.x1),i.y1<t.y1&&(t.y1=i.y1),i.x2>t.x2&&(t.x2=i.x2),i.y2>t.y2&&(t.y2=i.y2),["x","y"].forEach((function(i){var n,o="dropShadow_"+i;r[o]=n=t[i+"1"],$e(e,s,o,n)&&(e.efc_dropShadow_elmFilter[i].baseVal.value=n)})))}}},Object.keys(e).forEach((function(t){var i=e[t],r=i.stats;r[t+"_enabled"]={iniValue:!1},r[t+"_options"]={hasProps:!0},i.anim&&(r[t+"_animOptions"]={},r[t+"_animId"]={})})),t={none:{defaultAnimOptions:{},init:function(e,i){var r=e.curStats;r.show_animId&&(ce.remove(r.show_animId),r.show_animId=null),t.none.start(e,i)},start:function(e,i){t.none.stop(e,!0)},stop:function(e,t,i){var r=e.curStats;return i=null!=i?i:e.aplStats.show_on,r.show_inAnim=!1,t&&Je(e,i),i?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(e,i){var r=e.curStats,s=e.aplStats;r.show_animId&&ce.remove(r.show_animId),r.show_animId=ce.add((function(e){return e}),(function(i,r){r?t.fade.stop(e,!0):(e.svg.style.opacity=i+"",ie&&(We(e,e.svg),Ve(e)))}),s.show_animOptions.duration,1,s.show_animOptions.timing,null,!1),t.fade.start(e,i)},start:function(e,t){var i,r=e.curStats;r.show_inAnim&&(i=ce.stop(r.show_animId)),Je(e,1),r.show_inAnim=!0,ce.start(r.show_animId,!e.aplStats.show_on,null!=t?t:i)},stop:function(e,t,i){var r,s=e.curStats;return i=null!=i?i:e.aplStats.show_on,r=s.show_inAnim?ce.stop(s.show_animId):i?1:0,s.show_inAnim=!1,t&&(e.svg.style.opacity=i?"":"0",Je(e,i)),r}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(e,i){var r=e.curStats,s=e.aplStats,n=e.pathList.baseVal,o=Ne(n),a=o.segsLen,l=o.lenAll;r.show_animId&&ce.remove(r.show_animId),r.show_animId=ce.add((function(e){var t,i,r,s=-1;if(0===e)i=[[n[0][0],n[0][0]]];else if(1===e)i=n;else{for(t=l*e,i=[];t>=a[++s];)i.push(n[s]),t-=a[s];t&&(2===(r=n[s]).length?i.push([r[0],Me(r[0],r[1],t/a[s])]):(e=Ae(r[0],r[1],r[2],r[3],Le(r[0],r[1],r[2],r[3],t)),i.push([r[0],e.fromP1,e.fromP2,e])))}return i}),(function(i,r){r?t.draw.stop(e,!0):(e.pathList.animVal=i,Qe(e,{path:!0}))}),s.show_animOptions.duration,1,s.show_animOptions.timing,null,!1),t.draw.start(e,i)},start:function(e,i){var r,s=e.curStats;s.show_inAnim&&(r=ce.stop(s.show_animId)),Je(e,1),s.show_inAnim=!0,ze(e,"apl_position",t.draw.update),ce.start(s.show_animId,!e.aplStats.show_on,null!=i?i:r)},stop:function(e,t,i){var r,s=e.curStats;return i=null!=i?i:e.aplStats.show_on,r=s.show_inAnim?ce.stop(s.show_animId):i?1:0,s.show_inAnim=!1,t&&(e.pathList.animVal=i?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],Qe(e,{path:!0}),Je(e,i)),r},update:function(e){Ue(e,"apl_position",t.draw.update),e.curStats.show_inAnim?t.draw.init(e,t.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach((function(e){var t=e[0],i=e[1],r=e[2];Object.defineProperty(nt.prototype,t,{get:function(){var e=null!=r?ye[this._id].options[i][r]:i?ye[this._id].options[i]:ye[this._id].options[t];return null==e?H:Te(e)},set:ot(t),enumerable:!0})})),[["path",A],["startSocket",E,"socketSE",0],["endSocket",E,"socketSE",1],["startPlug",B,"plugSE",0],["endPlug",B,"plugSE",1]].forEach((function(e){var t=e[0],i=e[1],r=e[2],s=e[3];Object.defineProperty(nt.prototype,t,{get:function(){var e,n=null!=s?ye[this._id].options[r][s]:r?ye[this._id].options[r]:ye[this._id].options[t];return n?Object.keys(i).some((function(t){return i[t]===n&&(e=t,!0)}))?e:new Error("It's broken"):H},set:ot(t),enumerable:!0})})),Object.keys(e).forEach((function(t){var i=e[t];Object.defineProperty(nt.prototype,t,{get:function(){var e,r,s=ye[this._id].options[t];return le(s)?(e=s,r=i.optionsConf.reduce((function(t,i){var r,s=i[0],n=i[1],o=i[2],a=i[3],l=null!=(i=i[4])?e[a][i]:a?e[a]:e[n];return t[n]="id"===s?l?Object.keys(o).some((function(e){return o[e]===l&&(r=e,!0)}))?r:new Error("It's broken"):H:null==l?H:Te(l),t}),{}),i.anim&&(r.animation=Te(e.animation)),r):s},set:ot(t),enumerable:!0})})),["startLabel","endLabel","middleLabel"].forEach((function(e,t){Object.defineProperty(nt.prototype,e,{get:function(){var e=ye[this._id],i=e.options;return i.labelSEM[t]&&!e.optionIsAttach.labelSEM[t]?be[i.labelSEM[t]._id].text:i.labelSEM[t]||""},set:ot(e),enumerable:!0})})),nt.prototype.setOptions=function(e){return st(ye[this._id],e),this},nt.prototype.position=function(){return Qe(ye[this._id],{position:!0}),this},nt.prototype.remove=function(){var t=ye[this._id],i=t.curStats;Object.keys(e).forEach((function(e){i[e+="_animId"]&&ce.remove(i[e])})),i.show_animId&&ce.remove(i.show_animId),t.attachments.slice().forEach((function(e){rt(t,e)})),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete ye[this._id]},nt.prototype.show=function(e,t){return tt(ye[this._id],!0,e,t),this},nt.prototype.hide=function(e,t){return tt(ye[this._id],!1,e,t),this},n=function(e){e&&be[e._id]&&(e.boundTargets.slice().forEach((function(t){rt(t.props,e,!0)})),e.conf.remove&&e.conf.remove(e),delete be[e._id])},at.prototype.remove=function(){var e=this,t=be[e._id];t&&(t.boundTargets.slice().forEach((function(e){t.conf.removeOption(t,e)})),He((function(){var t=be[e._id];t&&(console.error("LeaderLineAttachment was not removed by removeOption"),n(t))})))},r=at,window.LeaderLineAttachment=r,s=function(e,t){return e instanceof r&&(!(e.isRemoved||t&&be[e._id].conf.type!==t)||null)},i={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ce}],init:function(e,t){return e.element=i.pointAnchor.checkElement(t.element),e.x=i.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=i.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var s=t.props,n={},o=e.element;o===(e=s.options.anchorSE["start"===t.optionName?1:0])&&(o=e===document.body?new r(i.pointAnchor,[o]):document.body),n[t.optionName]=o,st(s,n)},getBBoxNest:function(e,t){var i=Pe(e.element,t.baseWindow),r=i.width;t=i.height;return i.width=i.height=0,i.left=i.right=i.left+e.x[0]*(e.x[1]?r:1),i.top=i.bottom=i.top+e.y[0]*(e.y[1]?t:1),i},parsePercent:function(e,t){var i,r,s=!1;return he(e)?r=e:"string"==typeof e&&(i=ee.exec(e))&&i[2]&&(s=0!=(r=parseFloat(i[1])/100)),null!=r&&(t||0<=r)?[r,s]:null},checkElement:function(e){if(null==e)e=document.body;else if(!Ce(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ce},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(e,t){var r,s=[];return e.element=i.pointAnchor.checkElement(t.element),"string"==typeof t.color&&(e.color=t.color.trim()),"string"==typeof t.fillColor&&(e.fill=t.fillColor.trim()),he(t.size)&&0<=t.size&&(e.size=t.size),t.dash&&(e.dash=!0,he(t.dash.len)&&0<t.dash.len&&(e.dashLen=t.dash.len),he(t.dash.gap)&&0<t.dash.gap&&(e.dashGap=t.dash.gap)),"circle"===t.shape?e.shape=t.shape:"polygon"===t.shape&&Array.isArray(t.points)&&3<=t.points.length&&t.points.every((function(t){var r={};return!(!(r.x=i.pointAnchor.parsePercent(t[0],!0))||!(r.y=i.pointAnchor.parsePercent(t[1],!0))||(s.push(r),(r.x[1]||r.y[1])&&(e.hasRatio=!0),0))}))?(e.shape=t.shape,e.points=s):(e.shape="rect",e.radius=he(t.radius)&&0<=t.radius?t.radius:0),"rect"!==e.shape&&"circle"!==e.shape||(e.x=i.pointAnchor.parsePercent(t.x,!0)||[-.05,!0],e.y=i.pointAnchor.parsePercent(t.y,!0)||[-.05,!0],e.width=i.pointAnchor.parsePercent(t.width)||[1.1,!0],e.height=i.pointAnchor.parsePercent(t.height)||[1.1,!0],(e.x[1]||e.y[1]||e.width[1]||e.height[1])&&(e.hasRatio=!0)),r=e.element.ownerDocument,e.svg=t=r.createElementNS(te,"svg"),t.className.baseVal=S+"-areaAnchor",t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),e.path=t.appendChild(r.createElementNS(te,"path")),e.path.style.fill=e.fill||"none",e.isShown=!1,t.style.visibility="hidden",r.body.appendChild(t),Xe(r=r.defaultView),e.bodyOffset=Ke(r),e.updateColor=function(){var t=e.curStats,i=e.aplStats,r=e.boundTargets.length?e.boundTargets[0].props.curStats:null;t.color=r=e.color||(r?r.line_color:ae.lineColor),$e(e,i,"color",r)&&(e.path.style.stroke=r)},e.updateShow=function(){Je(e,e.boundTargets.some((function(e){return!0===e.props.isShown})))},!0},bind:function(e,t){return t=t.props,e.color||ze(t,"cur_line_color",e.updateColor),ze(t,"svgShow",e.updateShow),He((function(){e.updateColor(),e.updateShow()})),!0},unbind:function(e,t){t=t.props,e.color||Ue(t,"cur_line_color",e.updateColor),Ue(t,"svgShow",e.updateShow),1<e.boundTargets.length&&He((function(){e.updateColor(),e.updateShow(),i.areaAnchor.update(e)&&e.boundTargets.forEach((function(e){Qe(e.props,{position:!0})}))}))},removeOption:function(e,t){i.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach((function(t){i.areaAnchor.unbind(e,t)}))),e.svg.parentNode.removeChild(e.svg)},getStrokeWidth:function(e,t){return i.areaAnchor.update(e)&&1<e.boundTargets.length&&He((function(){e.boundTargets.forEach((function(e){e.props!==t&&Qe(e.props,{position:!0})}))})),e.curStats.strokeWidth},getPathData:function(e,t){var i=Pe(e.element,t.baseWindow);return Ie(e.curStats.pathListRel,(function(e){e.x+=i.left,e.y+=i.top}))},getBBoxNest:function(e,t){return t=Pe(e.element,t.baseWindow),{left:(e=e.curStats.bBoxRel).left+t.left,top:e.top+t.top,right:e.right+t.left,bottom:e.bottom+t.top,width:e.width,height:e.height}},update:function(e){var t,i,r,s,n,o,a,l,h,c,d,u,p,f,m,g,y=e.curStats,v=e.aplStats,b=e.boundTargets.length?e.boundTargets[0].props.curStats:null,w={};if(w.strokeWidth=$e(e,y,"strokeWidth",null!=e.size?e.size:b?b.line_strokeWidth:ae.lineSize),t=Ee(e.element),w.elementWidth=$e(e,y,"elementWidth",t.width),w.elementHeight=$e(e,y,"elementHeight",t.height),w.elementLeft=$e(e,y,"elementLeft",t.left),w.elementTop=$e(e,y,"elementTop",t.top),w.strokeWidth||e.hasRatio&&(w.elementWidth||w.elementHeight)){switch(e.shape){case"rect":(u={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).right=u.left+u.width,u.bottom=u.top+u.height,d=y.strokeWidth/2,l=(a=Math.min(u.width,u.height))?a/2*Math.SQRT2+d:0,c=(a=e.radius?e.radius<=l?e.radius:l:0)?(l=(a-d)/Math.SQRT2,c=[{x:u.left-(h=a-l),y:u.top+l},{x:u.left+l,y:u.top-h},{x:u.right-l,y:u.top-h},{x:u.right+h,y:u.top+l},{x:u.right+h,y:u.bottom-l},{x:u.right-l,y:u.bottom+h},{x:u.left+l,y:u.bottom+h},{x:u.left-h,y:u.bottom-l}],y.pathListRel=[[c[0],{x:c[0].x,y:c[0].y-(d=a*J)},{x:c[1].x-d,y:c[1].y},c[1]]],c[1].x!==c[2].x&&y.pathListRel.push([c[1],c[2]]),y.pathListRel.push([c[2],{x:c[2].x+d,y:c[2].y},{x:c[3].x,y:c[3].y-d},c[3]]),c[3].y!==c[4].y&&y.pathListRel.push([c[3],c[4]]),y.pathListRel.push([c[4],{x:c[4].x,y:c[4].y+d},{x:c[5].x+d,y:c[5].y},c[5]]),c[5].x!==c[6].x&&y.pathListRel.push([c[5],c[6]]),y.pathListRel.push([c[6],{x:c[6].x-d,y:c[6].y},{x:c[7].x,y:c[7].y+d},c[7]]),c[7].y!==c[0].y&&y.pathListRel.push([c[7],c[0]]),y.pathListRel.push([]),h=a-l+y.strokeWidth/2,[{x:u.left-h,y:u.top-h},{x:u.right+h,y:u.bottom+h}]):(h=y.strokeWidth/2,c=[{x:u.left-h,y:u.top-h},{x:u.right+h,y:u.bottom+h}],y.pathListRel=[[c[0],{x:c[1].x,y:c[0].y}],[{x:c[1].x,y:c[0].y},c[1]],[c[1],{x:c[0].x,y:c[1].y}],[]],[{x:u.left-y.strokeWidth,y:u.top-y.strokeWidth},{x:u.right+y.strokeWidth,y:u.bottom+y.strokeWidth}]),y.bBoxRel={left:c[0].x,top:c[0].y,right:c[1].x,bottom:c[1].y,width:c[1].x-c[0].x,height:c[1].y-c[0].y};break;case"circle":(o={left:e.x[0]*(e.x[1]?t.width:1),top:e.y[0]*(e.y[1]?t.height:1),width:e.width[0]*(e.width[1]?t.width:1),height:e.height[0]*(e.height[1]?t.height:1)}).width||o.height||(o.width=o.height=10),o.width||(o.width=o.height),o.height||(o.height=o.width),o.right=o.left+o.width,o.bottom=o.top+o.height,d=o.left+o.width/2,a=o.top+o.height/2,n=y.strokeWidth/2,l=o.width/2,h=o.height/2,u=l*Math.SQRT2+n,c=h*Math.SQRT2+n,y.pathListRel=[[(n=[{x:d-u,y:a},{x:d,y:a-c},{x:d+u,y:a},{x:d,y:a+c}])[0],{x:n[0].x,y:n[0].y-(d=c*J)},{x:n[1].x-(a=u*J),y:n[1].y},n[1]],[n[1],{x:n[1].x+a,y:n[1].y},{x:n[2].x,y:n[2].y-d},n[2]],[n[2],{x:n[2].x,y:n[2].y+d},{x:n[3].x+a,y:n[3].y},n[3]],[n[3],{x:n[3].x-a,y:n[3].y},{x:n[0].x,y:n[0].y+d},n[0]],[]],l=u-l+y.strokeWidth/2,h=c-h+y.strokeWidth/2,n=[{x:o.left-l,y:o.top-h},{x:o.right+l,y:o.bottom+h}],y.bBoxRel={left:n[0].x,top:n[0].y,right:n[1].x,bottom:n[1].y,width:n[1].x-n[0].x,height:n[1].y-n[0].y};break;case"polygon":e.points.forEach((function(e){var i=e.x[0]*(e.x[1]?t.width:1);e=e.y[0]*(e.y[1]?t.height:1);r?(i<r.left&&(r.left=i),i>r.right&&(r.right=i),e<r.top&&(r.top=e),e>r.bottom&&(r.bottom=e)):r={left:i,right:i,top:e,bottom:e},s?y.pathListRel.push([s,{x:i,y:e}]):y.pathListRel=[],s={x:i,y:e}})),y.pathListRel.push([]),n=y.strokeWidth/2,n=[{x:r.left-n,y:r.top-n},{x:r.right+n,y:r.bottom+n}],y.bBoxRel={left:n[0].x,top:n[0].y,right:n[1].x,bottom:n[1].y,width:n[1].x-n[0].x,height:n[1].y-n[0].y}}w.pathListRel=w.bBoxRel=!0}return(w.pathListRel||w.elementLeft||w.elementTop)&&(y.pathData=Ie(y.pathListRel,(function(e){e.x+=t.left,e.y+=t.top}))),$e(e,v,"strokeWidth",i=y.strokeWidth)&&(e.path.style.strokeWidth=i+"px"),Be(i=y.pathData,v.pathData)&&(e.path.setPathData(i),v.pathData=i,w.pathData=!0),e.dash&&(!w.pathData&&(!w.strokeWidth||e.dashLen&&e.dashGap)||(y.dashLen=e.dashLen||2*y.strokeWidth,y.dashGap=e.dashGap||y.strokeWidth),w.dash=$e(e,v,"dashLen",y.dashLen)||w.dash,w.dash=$e(e,v,"dashGap",y.dashGap)||w.dash,w.dash&&(e.path.style.strokeDasharray=v.dashLen+","+v.dashGap)),p=y.viewBoxBBox,f=v.viewBoxBBox,m=e.svg.viewBox.baseVal,g=e.svg.style,p.x=y.bBoxRel.left+t.left,p.y=y.bBoxRel.top+t.top,p.width=y.bBoxRel.width,p.height=y.bBoxRel.height,["x","y","width","height"].forEach((function(t){(i=p[t])!==f[t]&&(m[t]=f[t]=i,g[W[t]]=i+("x"===t||"y"===t?e.bodyOffset[t]:0)+"px")})),w.strokeWidth||w.pathListRel||w.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Ce},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(e,r){var s,n,o,a,l,h,c,d,u,p=i.mouseHoverAnchor,f={};if(e.element=i.pointAnchor.checkElement(r.element),!((d=(c=e.element).ownerDocument)&&(u=d.defaultView)&&u.HTMLElement&&c instanceof u.HTMLElement))throw new Error("`element` must be HTML element");return p.style.backgroundSize=p.backgroundSize.width+"px "+p.backgroundSize.height+"px",["style","hoverStyle"].forEach((function(t){var i=p[t];e[t]=Object.keys(i).reduce((function(e,t){return e[t]=i[t],e}),{})})),"inline"===(s=e.element.ownerDocument.defaultView.getComputedStyle(e.element,"")).display?e.style.display="inline-block":"none"===s.display&&(e.style.display="block"),i.mouseHoverAnchor.dirKeys.forEach((function(t){var i=t[0];t="padding"+t[1];parseFloat(s[t])<p.padding[i]&&(e.style[t]=p.padding[i]+"px")})),e.style.display&&(o=e.element.style.display,e.element.style.display=e.style.display),i.mouseHoverAnchor.dirKeys.forEach((function(t){t="padding"+t[1],e.style[t]&&(f[t]=e.element.style[t],e.element.style[t]=e.style[t])})),(c=e.element.getBoundingClientRect()).height<p.minHeight&&(ie?(u=p.minHeight,"content-box"===s.boxSizing?u-=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)+parseFloat(s.paddingTop)+parseFloat(s.paddingBottom):"padding-box"===s.boxSizing&&(u-=parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth)),e.style.height=u+"px"):e.style.height=parseFloat(s.height)+(p.minHeight-c.height)+"px"),e.style.backgroundPosition=ne?c.width-p.backgroundSize.width-p.backgroundPosition.right+"px "+p.backgroundPosition.top+"px":"right "+p.backgroundPosition.right+"px top "+p.backgroundPosition.top+"px",e.style.display&&(e.element.style.display=o),i.mouseHoverAnchor.dirKeys.forEach((function(t){t="padding"+t[1],e.style[t]&&(e.element.style[t]=f[t])})),["style","hoverStyle"].forEach((function(t){var i=e[t],s=r[t];le(s)&&Object.keys(s).forEach((function(e){"string"==typeof s[e]||he(s[e])?i[e]=s[e]:null==s[e]&&delete i[e]}))})),"function"==typeof r.onSwitch&&(h=r.onSwitch),r.showEffectName&&t[r.showEffectName]&&(e.showEffectName=a=r.showEffectName),l=r.animOptions,e.elmStyle=n=e.element.style,e.mouseenter=function(t){e.hoverStyleSave=p.getStyles(n,Object.keys(e.hoverStyle)),p.setStyles(n,e.hoverStyle),e.boundTargets.forEach((function(e){tt(e.props,!0,a,l)})),h&&h(t)},e.mouseleave=function(t){p.setStyles(n,e.hoverStyleSave),e.boundTargets.forEach((function(e){tt(e.props,!1,a,l)})),h&&h(t)},!0},bind:function(e,t){var r,s,n,o,a;return t.props.svg?i.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):He((function(){i.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)})),e.enabled||(e.styleSave=i.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),i.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(r=e.element,s=e.mouseenter,n=e.mouseleave,"onmouseenter"in r&&"onmouseleave"in r?(r.addEventListener("mouseenter",s,!1),r.addEventListener("mouseleave",n,!1),function(){r.removeEventListener("mouseenter",s,!1),r.removeEventListener("mouseleave",n,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),r.addEventListener("mouseover",o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||s.apply(this,arguments)}),r.addEventListener("mouseout",a=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||n.apply(this,arguments)}),function(){r.removeEventListener("mouseover",o,!1),r.removeEventListener("mouseout",a,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),i.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),i.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){i.pointAnchor.removeOption(e,t)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach((function(t){i.mouseHoverAnchor.unbind(e,t)})))},getBBoxNest:function(e,t){return Pe(e.element,t.baseWindow)},llShow:function(e,i,r){t[r||e.curStats.show_effect].stop(e,!0,i),e.aplStats.show_on=i},getStyles:function(e,t){return t.reduce((function(t,i){return t[i]=e[i],t}),{})},setStyles:function(e,t){Object.keys(t).forEach((function(i){e[i]=t[i]}))}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&he(t.offset[0])&&he(t.offset[1])&&(e.offset={x:t.offset[0],y:t.offset[1]}),he(t.lineOffset)&&(e.lineOffset=t.lineOffset),i.captionLabel.textStyleProps.forEach((function(i){null!=t[i]&&(e[i]=t[i])})),e.updateColor=function(t){i.captionLabel.updateColor(e,t)},e.updateSocketXY=function(t){var i,r=e.curStats,s=e.aplStats,n=t.curStats,o=n.position_socketXYSE[e.socketIndex];null!=o.x&&(e.offset?(r.x=o.x+e.offset.x,r.y=o.y+e.offset.y):(i=e.height/2,t=Math.max(n.attach_plugSideLenSE[e.socketIndex]||0,n.line_strokeWidth/2),n=n.position_socketXYSE[e.socketIndex?0:1],o.socketId===C||o.socketId===T?(r.x=o.socketId===C?o.x-i-e.width:o.x+i,r.y=n.y<o.y?o.y+t+i:o.y-t-i-e.height):(r.x=n.x<o.x?o.x+t+i:o.x-t-i-e.width,r.y=o.socketId===x?o.y-i-e.height:o.y+i)),$e(e,s,"x",i=r.x)&&(e.elmPosition.x.baseVal.getItem(0).value=i),$e(e,s,"y",i=r.y)&&(e.elmPosition.y.baseVal.getItem(0).value=i+e.height))},e.updatePath=function(t){var r=e.curStats,s=e.aplStats;(t=t.pathList.animVal||t.pathList.baseVal)&&(t=i.captionLabel.getMidPoint(t,e.lineOffset),r.x=t.x-e.width/2,r.y=t.y-e.height/2,$e(e,s,"x",t=r.x)&&(e.elmPosition.x.baseVal.getItem(0).value=t),$e(e,s,"y",t=r.y)&&(e.elmPosition.y.baseVal.getItem(0).value=t+e.height))},e.updateShow=function(t){i.captionLabel.updateShow(e,t)},ne&&(e.adjustEdge=function(t,r){var s=e.curStats;null!=s.x&&i.captionLabel.adjustEdge(r,{x:s.x,y:s.y,width:e.width,height:e.height},e.strokeWidth/2)}),!0)},updateColor:function(e,t){var i=e.curStats,r=e.aplStats;t=t.curStats;i.color=t=e.color||t.line_color,$e(e,r,"color",t)&&(e.styleFill.fill=t)},updateShow:function(e,t){(t=!0===t.isShown)!==e.isShown&&(e.styleShow.visibility=t?"":"hidden",e.isShown=t)},adjustEdge:function(e,t,i){(i={x1:t.x-i,y1:t.y-i,x2:t.x+t.width+i,y2:t.y+t.height+i}).x1<e.x1&&(e.x1=i.x1),i.y1<e.y1&&(e.y1=i.y1),i.x2>e.x2&&(e.x2=i.x2),i.y2>e.y2&&(e.y2=i.y2)},newText:function(e,t,i,r,s){var n,o,a=t.createElementNS(te,"text");return a.textContent=e,[a.x,a.y].forEach((function(e){var t=i.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)})),"boolean"!=typeof l&&(l="paintOrder"in a.style),s&&!l?(n=t.createElementNS(te,"defs"),a.id=r,n.appendChild(a),(o=(e=t.createElementNS(te,"g")).appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+r,(t=e.appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+r,(o=o.style).strokeLinejoin="round",{elmPosition:a,styleText:a.style,styleFill:t.style,styleStroke:o,styleShow:e.style,elmsAppend:[n,e]}):(o=a.style,s&&(o.strokeLinejoin="round",o.paintOrder="stroke"),{elmPosition:a,styleText:o,styleFill:o,styleStroke:s?o:null,styleShow:o,elmsAppend:[a]})},getMidPoint:function(e,t){var i,r,s,n=(s=Ne(e)).segsLen,o=-1,a=(s=s.lenAll)/2+(t||0);if(a<=0)return 2===(i=e[0]).length?Me(i[0],i[1],0):Ae(i[0],i[1],i[2],i[3],0);if(s<=a)return 2===(i=e[e.length-1]).length?Me(i[0],i[1],1):Ae(i[0],i[1],i[2],i[3],1);for(r=[];a>n[++o];)r.push(e[o]),a-=n[o];return 2===(i=e[o]).length?Me(i[0],i[1],a/n[o]):Ae(i[0],i[1],i[2],i[3],Le(i[0],i[1],i[2],i[3],a))},initSvg:function(e,t){var r,s,n=i.captionLabel.newText(e.text,t.baseWindow.document,t.svg,S+"-captionLabel-"+e._id,e.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=n[t]})),e.isShown=!1,e.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(n.styleText[t]=e[t])})),n.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),r=n.elmPosition.getBBox(),e.width=r.width,e.height=r.height,e.outlineColor&&(s=r.height/9,n.styleStroke.strokeWidth=(s=10<s?10:s<2?2:s)+"px",n.styleStroke.stroke=e.outlineColor),e.strokeWidth=s||0,Ye(e.aplStats,i.captionLabel.stats),e.updateColor(t),e.refSocketXY?e.updateSocketXY(t):e.updatePath(t),ne&&Qe(t,{}),e.updateShow(t)},bind:function(e,t){var r=t.props;return e.color||ze(r,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,ze(r,"apl_position",e.updateSocketXY),e.offset||(ze(r,"cur_attach_plugSideLenSE",e.updateSocketXY),ze(r,"cur_line_strokeWidth",e.updateSocketXY))):ze(r,"apl_path",e.updatePath),ze(r,"svgShow",e.updateShow),ne&&ze(r,"new_edge4viewBox",e.adjustEdge),i.captionLabel.initSvg(e,r),!0},unbind:function(e,t){var r=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){r.svg.removeChild(e)})),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Ye(e.curStats,i.captionLabel.stats),Ye(e.aplStats,i.captionLabel.stats),e.color||Ue(r,"cur_line_color",e.updateColor),e.refSocketXY?(Ue(r,"apl_position",e.updateSocketXY),e.offset||(Ue(r,"cur_attach_plugSideLenSE",e.updateSocketXY),Ue(r,"cur_line_strokeWidth",e.updateSocketXY))):Ue(r,"apl_path",e.updatePath),Ue(r,"svgShow",e.updateShow),ne&&(Ue(r,"new_edge4viewBox",e.adjustEdge),Qe(r,{}))},removeOption:function(e,t){var i=t.props,r={};r[t.optionName]="",st(i,r)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach((function(t){i.captionLabel.unbind(e,t)})))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(e,t){return"string"==typeof t.text&&(e.text=t.text.trim()),!!e.text&&("string"==typeof t.color&&(e.color=t.color.trim()),e.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",he(t.lineOffset)&&(e.lineOffset=t.lineOffset),i.captionLabel.textStyleProps.forEach((function(i){null!=t[i]&&(e[i]=t[i])})),e.updateColor=function(t){i.captionLabel.updateColor(e,t)},e.updatePath=function(t){var r=e.curStats,s=e.aplStats,n=t.curStats,o=t.pathList.animVal||t.pathList.baseVal;o&&(r.pathData=n=i.pathLabel.getOffsetPathData(o,n.line_strokeWidth/2+e.strokeWidth/2+e.height/4,1.25*e.height),Be(n,s.pathData)&&(e.elmPath.setPathData(n),s.pathData=n,e.bBox=e.elmPosition.getBBox(),e.updateStartOffset(t)))},e.updateStartOffset=function(t){var i,r,s=e.curStats,n=e.aplStats,o=t.curStats;s.pathData&&(2===e.semIndex&&!e.lineOffset||(r=s.pathData.reduce((function(e,t){var r,s=t.values;switch(t.type){case"M":i={x:s[0],y:s[1]};break;case"L":r={x:s[0],y:s[1]},i&&(e+=Fe(i,r)),i=r;break;case"C":r={x:s[4],y:s[5]},i&&(e+=Re(i,{x:s[0],y:s[1]},{x:s[2],y:s[3]},r)),i=r}return e}),0),t=0===e.semIndex?0:1===e.semIndex?r:r/2,2!==e.semIndex&&(o=Math.max(o.attach_plugBackLenSE[e.semIndex]||0,o.line_strokeWidth/2)+e.strokeWidth/2+e.height/4,t=(t+=0===e.semIndex?o:-o)<0?0:r<t?r:t),e.lineOffset&&(t=(t+=e.lineOffset)<0?0:r<t?r:t),s.startOffset=t,$e(e,n,"startOffset",t)&&(e.elmOffset.startOffset.baseVal.value=t)))},e.updateShow=function(t){i.captionLabel.updateShow(e,t)},ne&&(e.adjustEdge=function(t,r){e.bBox&&i.captionLabel.adjustEdge(r,e.bBox,e.strokeWidth/2)}),!0)},getOffsetPathData:function(e,t,i){var r,s,n=[];function o(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach((function(e){var i,s,a,l,h,c,d,u,p,f,m;2===e.length?(u=e[0],p=e[1],f=t,m=Math.atan2(u.y-p.y,p.x-u.x)+.5*Math.PI,i=[{x:u.x+Math.cos(m)*f,y:u.y+Math.sin(m)*f*-1},{x:p.x+Math.cos(m)*f,y:p.y+Math.sin(m)*f*-1}],r?(a=r.points,0<=(d=Math.atan2(a[1].y-a[0].y,a[0].x-a[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&d<=Math.PI?s={type:"line",points:i,inside:!0}:(h=De(a[0],a[1],t),l=De(i[1],i[0],t),c=a[0],u=i[1],m=(p=h).x-c.x,f=p.y-c.y,d=u.x-l.x,p=u.y-l.y,u=(-f*(c.x-l.x)+m*(c.y-l.y))/(-d*f+m*p),p=(d*(c.y-l.y)-p*(c.x-l.x))/(-d*f+m*p),s=(f=0<=u&&u<=1&&0<=p&&p<=1?{x:c.x+p*m,y:c.y+p*f}:null)?{type:"line",points:[a[1]=f,i[1]]}:(a[1]=o(l,h)?l:h,{type:"line",points:[l,i[1]]}),r.len=Fe(a[0],a[1]))):s={type:"line",points:i},s.len=Fe(s.points[0],s.points[1]),n.push(r=s)):(n.push({type:"cubic",points:function(e,t,i,r,s,n){for(var o,a,l=Re(e,t,i,r)/16,h=1/(16<s?s/16*l:l),c=[],d=0;a=(90-(o=Ae(e,t,i,r,d)).angle)*(Math.PI/180),c.push({x:o.x+Math.cos(a)*s,y:o.y+Math.sin(a)*s*-1}),!(1<=d);)1<(d+=h)&&(d=1);return c}(e[0],e[1],e[2],e[3],t)}),r=null)})),r=null,n.forEach((function(e){var s;r="line"===e.type?(e.inside&&(r.len>t?((s=r.points)[1]=De(s[0],s[1],-t),r.len=Fe(s[0],s[1])):(r.points=null,r.len=0),e.len>t+i?((s=e.points)[0]=De(s[1],s[0],-(t+i)),e.len=Fe(s[0],s[1])):(e.points=null,e.len=0)),e):null})),n.reduce((function(e,t){var i=t.points;return i&&(s&&o(i[0],s)||e.push({type:"M",values:[i[0].x,i[0].y]}),"line"===t.type?e.push({type:"L",values:[i[1].x,i[1].y]}):(i.shift(),i.forEach((function(t){e.push({type:"L",values:[t.x,t.y]})}))),s=i[i.length-1]),e}),[])},newText:function(e,t,i,r){var s,n,o,a,h=t.createElementNS(te,"defs"),c=h.appendChild(t.createElementNS(te,"path"));return c.id=s=i+"-path",(o=(n=t.createElementNS(te,"text")).appendChild(t.createElementNS(te,"textPath"))).href.baseVal="#"+s,o.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.textContent=e,"boolean"!=typeof l&&(l="paintOrder"in n.style),r&&!l?(n.id=e=i+"-text",h.appendChild(n),(a=(i=t.createElementNS(te,"g")).appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+e,(t=i.appendChild(t.createElementNS(te,"use"))).href.baseVal="#"+e,(a=a.style).strokeLinejoin="round",{elmPosition:n,elmPath:c,elmOffset:o,styleText:n.style,styleFill:t.style,styleStroke:a,styleShow:i.style,elmsAppend:[h,i]}):(a=n.style,r&&(a.strokeLinejoin="round",a.paintOrder="stroke"),{elmPosition:n,elmPath:c,elmOffset:o,styleText:a,styleFill:a,styleStroke:r?a:null,styleShow:a,elmsAppend:[h,n]})},initSvg:function(e,t){var r,s,n,o=i.pathLabel.newText(e.text,t.baseWindow.document,S+"-pathLabel-"+e._id,e.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach((function(t){e[t]=o[t]})),e.isShown=!1,e.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach((function(t){null!=e[t]&&(o.styleText[t]=e[t])})),o.elmsAppend.forEach((function(e){t.svg.appendChild(e)})),o.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),se&&(n=o.elmOffset.href.baseVal,o.elmOffset.href.baseVal=""),r=o.elmPosition.getBBox(),se&&(o.elmOffset.href.baseVal=n),o.styleText.textAnchor=["start","end","middle"][e.semIndex],2!==e.semIndex||e.lineOffset||o.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),e.height=r.height,e.outlineColor&&(s=r.height/9,o.styleStroke.strokeWidth=(s=10<s?10:s<2?2:s)+"px",o.styleStroke.stroke=e.outlineColor),e.strokeWidth=s||0,Ye(e.aplStats,i.pathLabel.stats),e.updateColor(t),e.updatePath(t),e.updateStartOffset(t),ne&&Qe(t,{}),e.updateShow(t)},bind:function(e,t){var r=t.props;return e.color||ze(r,"cur_line_color",e.updateColor),ze(r,"cur_line_strokeWidth",e.updatePath),ze(r,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||ze(r,"cur_attach_plugBackLenSE",e.updateStartOffset),ze(r,"svgShow",e.updateShow),ne&&ze(r,"new_edge4viewBox",e.adjustEdge),i.pathLabel.initSvg(e,r),!0},unbind:function(e,t){var r=t.props;e.elmsAppend&&(e.elmsAppend.forEach((function(e){r.svg.removeChild(e)})),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Ye(e.curStats,i.pathLabel.stats),Ye(e.aplStats,i.pathLabel.stats),e.color||Ue(r,"cur_line_color",e.updateColor),Ue(r,"cur_line_strokeWidth",e.updatePath),Ue(r,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||Ue(r,"cur_attach_plugBackLenSE",e.updateStartOffset),Ue(r,"svgShow",e.updateShow),ne&&(Ue(r,"new_edge4viewBox",e.adjustEdge),Qe(r,{}))},removeOption:function(e,t){var i=t.props,r={};r[t.optionName]="",st(i,r)},remove:function(e){e.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),e.boundTargets.forEach((function(t){i.pathLabel.unbind(e,t)})))}}},Object.keys(i).forEach((function(e){nt[e]=function(){return new r(i[e],Array.prototype.slice.call(arguments))}})),nt.positionByWindowResize=!0,window.addEventListener("resize",ue.add((function(){nt.positionByWindowResize&&Object.keys(ye).forEach((function(e){Qe(ye[e],{position:!0})}))})),!1),nt}();jQuery((function(e,t){e.fn.simpleColorPicker=function(t){var i={colorsPerLine:8,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4C1130"],showEffect:"",hideEffect:"",onChangeColor:!1,includeMargins:!1},r=e.extend(i,t);return this.each((function(){for(var t=e(this),s="",n=t.attr("class").replace(/-/g,"")+"_",o=0;o<r.colors.length;o++){var a=r.colors[o],l="";o%r.colorsPerLine==0&&(l="clear: both; "),o>0&&l&&e.browser&&e.browser.msie&&e.browser.version<=7&&(l="",s+='<li style="float: none; clear: both; overflow: hidden; background-color: #fff; display: block; height: 1px; line-height: 1px; font-size: 1px; margin-bottom: -2px;"></li>'),s+='<li id="'+n+"color-"+o+'" class="color-box" style="'+l+"background-color: "+a+'" title="'+a+'"></li>'}var h=e('<div id="'+n+'color-picker" class="color-picker" style="position: absolute; left: 0px; top: 0px;"><ul>'+s+'</ul><div style="clear: both;"></div></div>');e("body").append(h),h.hide(),h.find("li.color-box").click((function(){t.is("input")&&(t.val(r.colors[this.id.substr(this.id.indexOf("-")+1)]),t.blur()),e.isFunction(i.onChangeColor)&&i.onChangeColor.call(t,r.colors[this.id.substr(this.id.indexOf("-")+1)]),d(h)})),e("body").on("click",(function(){d(h)})),h.click((function(e){e.stopPropagation()}));var c=function(e){var i=t.offset(),s=i.left+t.outerWidth(r.includeMargins)-e.outerWidth(r.includeMargins);s<i.left&&(s=i.left),e.css({left:s,top:i.top+t.outerHeight(r.includeMargins)}),function(e){"fade"==r.showEffect?e.fadeIn():"slide"==r.showEffect?e.slideDown():e.show()}(e)};function d(e){"fade"==r.hideEffect?e.fadeOut():"slide"==r.hideEffect?e.slideUp():e.hide()}t.click((function(e){e.stopPropagation(),t.is("input")||c(h)})),t.focus((function(){c(h)}))}))}}));const EmojiPicker=function(e){this.options=e,this.trigger=this.options.trigger.map((e=>e.selector)),this.insertInto=void 0;let t,i="",r="",s=!1;const n=this.options.closeButton?370:350;this.lib=function(e=void 0){return{el:()=>{return e?e.nodeName?[e]:(t=e,i=Object.prototype.toString.call(t),"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(i)&&"number"==typeof t.length&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)?Array.from(e):"string"==typeof e||"STRING"==typeof e?Array.from(document.querySelectorAll(e)):void 0):void 0;var t,i},on(e,t,i=void 0){i?this.el().forEach((r=>{r.addEventListener(e,(e=>{if(e.target.closest(i)){let r;if(Array.isArray(i)){const t=e.target.outerHTML,s=i.findIndex((e=>t.includes(e.slice(1))));r=i[s]}t(e,r)}}))})):this.el().forEach((i=>{i.addEventListener(e,t.bind(i))}))},css(e){for(const t in e)if(Object.hasOwnProperty.call(e,t)){const i=e[t];this.el().forEach((e=>e.style[t]=i))}},attr(e,t=void 0){if(!t)return this.el()[0].getAttribute(e);this.el().forEach((i=>i.setAttribute(e,t)))},removeAttr(e){this.el().forEach((t=>t.removeAttribute(e)))},addClass(e){this.el().forEach((t=>t.classList.add(e)))},removeClass(e){this.el().forEach((t=>t.classList.remove(e)))},slug:e=>e.toLowerCase().replace(/[^\u00BF-\u1FFF\u2C00-\uD7FF\w]+|[\_]+/gi,"-").replace(/ +/g,"-"),remove(e){this.el().forEach((e=>e.remove()))},val(e=void 0){let t;return void 0===e?this.el().forEach((e=>{t=e.value})):this.el().forEach((t=>{t.value=e})),t},text(t=void 0){if(void 0===t)return e.innerText;this.el().forEach((e=>{e.innerText=t}))},html(t=void 0){if(void 0===t)return e.innerHTML;this.el().forEach((e=>{e.innerHTML=t}))}}};const o={People:[{emoji:"😀",title:"Grinning Face"},{emoji:"😃",title:"Grinning Face with Big Eyes"},{emoji:"😄",title:"Grinning Face with Smiling Eyes"},{emoji:"😁",title:"Beaming Face with Smiling Eyes"},{emoji:"😆",title:"Grinning Squinting Face"},{emoji:"😅",title:"Grinning Face with Sweat"},{emoji:"🤣",title:"Rolling on the Floor Laughing"},{emoji:"😂",title:"Face with Tears of Joy"},{emoji:"🙂",title:"Slightly Smiling Face"},{emoji:"🙃",title:"Upside-Down Face"},{emoji:"😉",title:"Winking Face"},{emoji:"😊",title:"Smiling Face with Smiling Eyes"},{emoji:"😇",title:"Smiling Face with Halo"},{emoji:"🥰",title:"Smiling Face with Hearts"},{emoji:"😍",title:"Smiling Face with Heart-Eyes"},{emoji:"🤩",title:"Star-Struck"},{emoji:"😘",title:"Face Blowing a Kiss"},{emoji:"😗",title:"Kissing Face"},{emoji:"☺️",title:"Smiling Face"},{emoji:"😚",title:"Kissing Face with Closed Eyes"},{emoji:"😙",title:"Kissing Face with Smiling Eyes"},{emoji:"🥲",title:"Smiling Face with Tear"},{emoji:"😋",title:"Face Savoring Food"},{emoji:"😛",title:"Face with Tongue"},{emoji:"😜",title:"Winking Face with Tongue"},{emoji:"🤪",title:"Zany Face"},{emoji:"😝",title:"Squinting Face with Tongue"},{emoji:"🤑",title:"Money-Mouth Face"},{emoji:"🤗",title:"Smiling Face with Open Hands"},{emoji:"🤭",title:"Face with Hand Over Mouth"},{emoji:"🤫",title:"Shushing Face"},{emoji:"🤔",title:"Thinking Face"},{emoji:"🤐",title:"Zipper-Mouth Face"},{emoji:"🤨",title:"Face with Raised Eyebrow"},{emoji:"😐",title:"Neutral Face"},{emoji:"😑",title:"Expressionless Face"},{emoji:"😶",title:"Face Without Mouth"},{emoji:"😶‍🌫️",title:"Face in Clouds"},{emoji:"😏",title:"Smirking Face"},{emoji:"😒",title:"Unamused Face"},{emoji:"🙄",title:"Face with Rolling Eyes"},{emoji:"😬",title:"Grimacing Face"},{emoji:"😮‍💨",title:"Face Exhaling"},{emoji:"🤥",title:"Lying Face"},{emoji:"😌",title:"Relieved Face"},{emoji:"😔",title:"Pensive Face"},{emoji:"😪",title:"Sleepy Face"},{emoji:"🤤",title:"Drooling Face"},{emoji:"😴",title:"Sleeping Face"},{emoji:"😷",title:"Face with Medical Mask"},{emoji:"🤒",title:"Face with Thermometer"},{emoji:"🤕",title:"Face with Head-Bandage"},{emoji:"🤢",title:"Nauseated Face"},{emoji:"🤮",title:"Face Vomiting"},{emoji:"🤧",title:"Sneezing Face"},{emoji:"🥵",title:"Hot Face"},{emoji:"🥶",title:"Cold Face"},{emoji:"🥴",title:"Woozy Face"},{emoji:"😵",title:"Face with Crossed-Out Eyes"},{emoji:"😵‍💫",title:"Face with Spiral Eyes"},{emoji:"🤯",title:"Exploding Head"},{emoji:"🤠",title:"Cowboy Hat Face"},{emoji:"🥳",title:"Partying Face"},{emoji:"🥸",title:"Disguised Face"},{emoji:"😎",title:"Smiling Face with Sunglasses"},{emoji:"🤓",title:"Nerd Face"},{emoji:"🧐",title:"Face with Monocle"},{emoji:"😕",title:"Confused Face"},{emoji:"😟",title:"Worried Face"},{emoji:"🙁",title:"Slightly Frowning Face"},{emoji:"☹️",title:"Frowning Face"},{emoji:"😮",title:"Face with Open Mouth"},{emoji:"😯",title:"Hushed Face"},{emoji:"😲",title:"Astonished Face"},{emoji:"😳",title:"Flushed Face"},{emoji:"🥺",title:"Pleading Face"},{emoji:"😦",title:"Frowning Face with Open Mouth"},{emoji:"😧",title:"Anguished Face"},{emoji:"😨",title:"Fearful Face"},{emoji:"😰",title:"Anxious Face with Sweat"},{emoji:"😥",title:"Sad but Relieved Face"},{emoji:"😢",title:"Crying Face"},{emoji:"😭",title:"Loudly Crying Face"},{emoji:"😱",title:"Face Screaming in Fear"},{emoji:"😖",title:"Confounded Face"},{emoji:"😣",title:"Persevering Face"},{emoji:"😞",title:"Disappointed Face"},{emoji:"😓",title:"Downcast Face with Sweat"},{emoji:"😩",title:"Weary Face"},{emoji:"😫",title:"Tired Face"},{emoji:"🥱",title:"Yawning Face"},{emoji:"😤",title:"Face with Steam From Nose"},{emoji:"😡",title:"Enraged Face"},{emoji:"😠",title:"Angry Face"},{emoji:"🤬",title:"Face with Symbols on Mouth"},{emoji:"😈",title:"Smiling Face with Horns"},{emoji:"👿",title:"Angry Face with Horns"},{emoji:"💀",title:"Skull"},{emoji:"☠️",title:"Skull and Crossbones"},{emoji:"💩",title:"Pile of Poo"},{emoji:"🤡",title:"Clown Face"},{emoji:"👹",title:"Ogre"},{emoji:"👺",title:"Goblin"},{emoji:"👻",title:"Ghost"},{emoji:"👽",title:"Alien"},{emoji:"👾",title:"Alien Monster"},{emoji:"🤖",title:"Robot"},{emoji:"😺",title:"Grinning Cat"},{emoji:"😸",title:"Grinning Cat with Smiling Eyes"},{emoji:"😹",title:"Cat with Tears of Joy"},{emoji:"😻",title:"Smiling Cat with Heart-Eyes"},{emoji:"😼",title:"Cat with Wry Smile"},{emoji:"😽",title:"Kissing Cat"},{emoji:"🙀",title:"Weary Cat"},{emoji:"😿",title:"Crying Cat"},{emoji:"😾",title:"Pouting Cat"},{emoji:"💋",title:"Kiss Mark"},{emoji:"👋",title:"Waving Hand"},{emoji:"🤚",title:"Raised Back of Hand"},{emoji:"🖐️",title:"Hand with Fingers Splayed"},{emoji:"✋",title:"Raised Hand"},{emoji:"🖖",title:"Vulcan Salute"},{emoji:"👌",title:"OK Hand"},{emoji:"🤌",title:"Pinched Fingers"},{emoji:"🤏",title:"Pinching Hand"},{emoji:"✌️",title:"Victory Hand"},{emoji:"🤞",title:"Crossed Fingers"},{emoji:"🤟",title:"Love-You Gesture"},{emoji:"🤘",title:"Sign of the Horns"},{emoji:"🤙",title:"Call Me Hand"},{emoji:"👈",title:"Backhand Index Pointing Left"},{emoji:"👉",title:"Backhand Index Pointing Right"},{emoji:"👆",title:"Backhand Index Pointing Up"},{emoji:"🖕",title:"Middle Finger"},{emoji:"👇",title:"Backhand Index Pointing Down"},{emoji:"☝️",title:"Index Pointing Up"},{emoji:"👍",title:"Thumbs Up"},{emoji:"👎",title:"Thumbs Down"},{emoji:"✊",title:"Raised Fist"},{emoji:"👊",title:"Oncoming Fist"},{emoji:"🤛",title:"Left-Facing Fist"},{emoji:"🤜",title:"Right-Facing Fist"},{emoji:"👏",title:"Clapping Hands"},{emoji:"🙌",title:"Raising Hands"},{emoji:"👐",title:"Open Hands"},{emoji:"🤲",title:"Palms Up Together"},{emoji:"🤝",title:"Handshake"},{emoji:"🙏",title:"Folded Hands"},{emoji:"✍️",title:"Writing Hand"},{emoji:"💅",title:"Nail Polish"},{emoji:"🤳",title:"Selfie"},{emoji:"💪",title:"Flexed Biceps"},{emoji:"🦾",title:"Mechanical Arm"},{emoji:"🦿",title:"Mechanical Leg"},{emoji:"🦵",title:"Leg"},{emoji:"🦶",title:"Foot"},{emoji:"👂",title:"Ear"},{emoji:"🦻",title:"Ear with Hearing Aid"},{emoji:"👃",title:"Nose"},{emoji:"🧠",title:"Brain"},{emoji:"🫀",title:"Anatomical Heart"},{emoji:"🫁",title:"Lungs"},{emoji:"🦷",title:"Tooth"},{emoji:"🦴",title:"Bone"},{emoji:"👀",title:"Eyes"},{emoji:"👁️",title:"Eye"},{emoji:"👅",title:"Tongue"},{emoji:"👄",title:"Mouth"},{emoji:"👶",title:"Baby"},{emoji:"🧒",title:"Child"},{emoji:"👦",title:"Boy"},{emoji:"👧",title:"Girl"},{emoji:"🧑",title:"Person"},{emoji:"👱",title:"Person: Blond Hair"},{emoji:"👨",title:"Man"},{emoji:"🧔",title:"Person: Beard"},{emoji:"👨‍🦰",title:"Man: Red Hair"},{emoji:"👨‍🦱",title:"Man: Curly Hair"},{emoji:"👨‍🦳",title:"Man: White Hair"},{emoji:"👨‍🦲",title:"Man: Bald"},{emoji:"👩",title:"Woman"},{emoji:"👩‍🦰",title:"Woman: Red Hair"},{emoji:"🧑‍🦰",title:"Person: Red Hair"},{emoji:"👩‍🦱",title:"Woman: Curly Hair"},{emoji:"🧑‍🦱",title:"Person: Curly Hair"},{emoji:"👩‍🦳",title:"Woman: White Hair"},{emoji:"🧑‍🦳",title:"Person: White Hair"},{emoji:"👩‍🦲",title:"Woman: Bald"},{emoji:"🧑‍🦲",title:"Person: Bald"},{emoji:"👱‍♀️",title:"Woman: Blond Hair"},{emoji:"👱‍♂️",title:"Man: Blond Hair"},{emoji:"🧓",title:"Older Person"},{emoji:"👴",title:"Old Man"},{emoji:"👵",title:"Old Woman"},{emoji:"🙍",title:"Person Frowning"},{emoji:"🙍‍♂️",title:"Man Frowning"},{emoji:"🙍‍♀️",title:"Woman Frowning"},{emoji:"🙎",title:"Person Pouting"},{emoji:"🙎‍♂️",title:"Man Pouting"},{emoji:"🙎‍♀️",title:"Woman Pouting"},{emoji:"🙅",title:"Person Gesturing No"},{emoji:"🙅‍♂️",title:"Man Gesturing No"},{emoji:"🙅‍♀️",title:"Woman Gesturing No"},{emoji:"🙆",title:"Person Gesturing OK"},{emoji:"🙆‍♂️",title:"Man Gesturing OK"},{emoji:"🙆‍♀️",title:"Woman Gesturing OK"},{emoji:"💁",title:"Person Tipping Hand"},{emoji:"💁‍♂️",title:"Man Tipping Hand"},{emoji:"💁‍♀️",title:"Woman Tipping Hand"},{emoji:"🙋",title:"Person Raising Hand"},{emoji:"🙋‍♂️",title:"Man Raising Hand"},{emoji:"🙋‍♀️",title:"Woman Raising Hand"},{emoji:"🧏",title:"Deaf Person"},{emoji:"🧏‍♂️",title:"Deaf Man"},{emoji:"🧏‍♀️",title:"Deaf Woman"},{emoji:"🙇",title:"Person Bowing"},{emoji:"🙇‍♂️",title:"Man Bowing"},{emoji:"🙇‍♀️",title:"Woman Bowing"},{emoji:"🤦",title:"Person Facepalming"},{emoji:"🤦‍♂️",title:"Man Facepalming"},{emoji:"🤦‍♀️",title:"Woman Facepalming"},{emoji:"🤷",title:"Person Shrugging"},{emoji:"🤷‍♂️",title:"Man Shrugging"},{emoji:"🤷‍♀️",title:"Woman Shrugging"},{emoji:"🧑‍⚕️",title:"Health Worker"},{emoji:"👨‍⚕️",title:"Man Health Worker"},{emoji:"👩‍⚕️",title:"Woman Health Worker"},{emoji:"🧑‍🎓",title:"Student"},{emoji:"👨‍🎓",title:"Man Student"},{emoji:"👩‍🎓",title:"Woman Student"},{emoji:"🧑‍🏫",title:"Teacher"},{emoji:"👨‍🏫",title:"Man Teacher"},{emoji:"👩‍🏫",title:"Woman Teacher"},{emoji:"🧑‍⚖️",title:"Judge"},{emoji:"👨‍⚖️",title:"Man Judge"},{emoji:"👩‍⚖️",title:"Woman Judge"},{emoji:"🧑‍🌾",title:"Farmer"},{emoji:"👨‍🌾",title:"Man Farmer"},{emoji:"👩‍🌾",title:"Woman Farmer"},{emoji:"🧑‍🍳",title:"Cook"},{emoji:"👨‍🍳",title:"Man Cook"},{emoji:"👩‍🍳",title:"Woman Cook"},{emoji:"🧑‍🔧",title:"Mechanic"},{emoji:"👨‍🔧",title:"Man Mechanic"},{emoji:"👩‍🔧",title:"Woman Mechanic"},{emoji:"🧑‍🏭",title:"Factory Worker"},{emoji:"👨‍🏭",title:"Man Factory Worker"},{emoji:"👩‍🏭",title:"Woman Factory Worker"},{emoji:"🧑‍💼",title:"Office Worker"},{emoji:"👨‍💼",title:"Man Office Worker"},{emoji:"👩‍💼",title:"Woman Office Worker"},{emoji:"🧑‍🔬",title:"Scientist"},{emoji:"👨‍🔬",title:"Man Scientist"},{emoji:"👩‍🔬",title:"Woman Scientist"},{emoji:"🧑‍💻",title:"Technologist"},{emoji:"👨‍💻",title:"Man Technologist"},{emoji:"👩‍💻",title:"Woman Technologist"},{emoji:"🧑‍🎤",title:"Singer"},{emoji:"👨‍🎤",title:"Man Singer"},{emoji:"👩‍🎤",title:"Woman Singer"},{emoji:"🧑‍🎨",title:"Artist"},{emoji:"👨‍🎨",title:"Man Artist"},{emoji:"👩‍🎨",title:"Woman Artist"},{emoji:"🧑‍✈️",title:"Pilot"},{emoji:"👨‍✈️",title:"Man Pilot"},{emoji:"👩‍✈️",title:"Woman Pilot"},{emoji:"🧑‍🚀",title:"Astronaut"},{emoji:"👨‍🚀",title:"Man Astronaut"},{emoji:"👩‍🚀",title:"Woman Astronaut"},{emoji:"🧑‍🚒",title:"Firefighter"},{emoji:"👨‍🚒",title:"Man Firefighter"},{emoji:"👩‍🚒",title:"Woman Firefighter"},{emoji:"👮",title:"Police Officer"},{emoji:"👮‍♂️",title:"Man Police Officer"},{emoji:"👮‍♀️",title:"Woman Police Officer"},{emoji:"🕵️",title:"Detective"},{emoji:"🕵️‍♂️",title:"Man Detective"},{emoji:"🕵️‍♀️",title:"Woman Detective"},{emoji:"💂",title:"Guard"},{emoji:"💂‍♂️",title:"Man Guard"},{emoji:"💂‍♀️",title:"Woman Guard"},{emoji:"🥷",title:"Ninja"},{emoji:"👷",title:"Construction Worker"},{emoji:"👷‍♂️",title:"Man Construction Worker"},{emoji:"👷‍♀️",title:"Woman Construction Worker"},{emoji:"🤴",title:"Prince"},{emoji:"👸",title:"Princess"},{emoji:"👳",title:"Person Wearing Turban"},{emoji:"👳‍♂️",title:"Man Wearing Turban"},{emoji:"👳‍♀️",title:"Woman Wearing Turban"},{emoji:"👲",title:"Person with Skullcap"},{emoji:"🧕",title:"Woman with Headscarf"},{emoji:"🤵",title:"Person in Tuxedo"},{emoji:"🤵‍♂️",title:"Man in Tuxedo"},{emoji:"🤵‍♀️",title:"Woman in Tuxedo"},{emoji:"👰",title:"Person with Veil"},{emoji:"👰‍♂️",title:"Man with Veil"},{emoji:"👰‍♀️",title:"Woman with Veil"},{emoji:"🤰",title:"Pregnant Woman"},{emoji:"🤱",title:"Breast-Feeding"},{emoji:"👩‍🍼",title:"Woman Feeding Baby"},{emoji:"👨‍🍼",title:"Man Feeding Baby"},{emoji:"🧑‍🍼",title:"Person Feeding Baby"},{emoji:"👼",title:"Baby Angel"},{emoji:"🎅",title:"Santa Claus"},{emoji:"🤶",title:"Mrs. Claus"},{emoji:"🧑‍🎄",title:"Mx Claus"},{emoji:"🦸",title:"Superhero"},{emoji:"🦸‍♂️",title:"Man Superhero"},{emoji:"🦸‍♀️",title:"Woman Superhero"},{emoji:"🦹",title:"Supervillain"},{emoji:"🦹‍♂️",title:"Man Supervillain"},{emoji:"🦹‍♀️",title:"Woman Supervillain"},{emoji:"🧙",title:"Mage"},{emoji:"🧙‍♂️",title:"Man Mage"},{emoji:"🧙‍♀️",title:"Woman Mage"},{emoji:"🧚",title:"Fairy"},{emoji:"🧚‍♂️",title:"Man Fairy"},{emoji:"🧚‍♀️",title:"Woman Fairy"},{emoji:"🧛",title:"Vampire"},{emoji:"🧛‍♂️",title:"Man Vampire"},{emoji:"🧛‍♀️",title:"Woman Vampire"},{emoji:"🧜",title:"Merperson"},{emoji:"🧜‍♂️",title:"Merman"},{emoji:"🧜‍♀️",title:"Mermaid"},{emoji:"🧝",title:"Elf"},{emoji:"🧝‍♂️",title:"Man Elf"},{emoji:"🧝‍♀️",title:"Woman Elf"},{emoji:"🧞",title:"Genie"},{emoji:"🧞‍♂️",title:"Man Genie"},{emoji:"🧞‍♀️",title:"Woman Genie"},{emoji:"🧟",title:"Zombie"},{emoji:"🧟‍♂️",title:"Man Zombie"},{emoji:"🧟‍♀️",title:"Woman Zombie"},{emoji:"💆",title:"Person Getting Massage"},{emoji:"💆‍♂️",title:"Man Getting Massage"},{emoji:"💆‍♀️",title:"Woman Getting Massage"},{emoji:"💇",title:"Person Getting Haircut"},{emoji:"💇‍♂️",title:"Man Getting Haircut"},{emoji:"💇‍♀️",title:"Woman Getting Haircut"},{emoji:"🚶",title:"Person Walking"},{emoji:"🚶‍♂️",title:"Man Walking"},{emoji:"🚶‍♀️",title:"Woman Walking"},{emoji:"🧍",title:"Person Standing"},{emoji:"🧍‍♂️",title:"Man Standing"},{emoji:"🧍‍♀️",title:"Woman Standing"},{emoji:"🧎",title:"Person Kneeling"},{emoji:"🧎‍♂️",title:"Man Kneeling"},{emoji:"🧎‍♀️",title:"Woman Kneeling"},{emoji:"🧑‍🦯",title:"Person with White Cane"},{emoji:"👨‍🦯",title:"Man with White Cane"},{emoji:"👩‍🦯",title:"Woman with White Cane"},{emoji:"🧑‍🦼",title:"Person in Motorized Wheelchair"},{emoji:"👨‍🦼",title:"Man in Motorized Wheelchair"},{emoji:"👩‍🦼",title:"Woman in Motorized Wheelchair"},{emoji:"🧑‍🦽",title:"Person in Manual Wheelchair"},{emoji:"👨‍🦽",title:"Man in Manual Wheelchair"},{emoji:"👩‍🦽",title:"Woman in Manual Wheelchair"},{emoji:"🏃",title:"Person Running"},{emoji:"🏃‍♂️",title:"Man Running"},{emoji:"🏃‍♀️",title:"Woman Running"},{emoji:"💃",title:"Woman Dancing"},{emoji:"🕺",title:"Man Dancing"},{emoji:"🕴️",title:"Person in Suit Levitating"},{emoji:"👯",title:"People with Bunny Ears"},{emoji:"👯‍♂️",title:"Men with Bunny Ears"},{emoji:"👯‍♀️",title:"Women with Bunny Ears"},{emoji:"🧖",title:"Person in Steamy Room"},{emoji:"🧖‍♂️",title:"Man in Steamy Room"},{emoji:"🧖‍♀️",title:"Woman in Steamy Room"},{emoji:"🧘",title:"Person in Lotus Position"},{emoji:"🧑‍🤝‍🧑",title:"People Holding Hands"},{emoji:"👭",title:"Women Holding Hands"},{emoji:"👫",title:"Woman and Man Holding Hands"},{emoji:"👬",title:"Men Holding Hands"},{emoji:"💏",title:"Kiss"},{emoji:"👩‍❤️‍💋‍👨",title:"Kiss: Woman, Man"},{emoji:"👨‍❤️‍💋‍👨",title:"Kiss: Man, Man"},{emoji:"👩‍❤️‍💋‍👩",title:"Kiss: Woman, Woman"},{emoji:"💑",title:"Couple with Heart"},{emoji:"👩‍❤️‍👨",title:"Couple with Heart: Woman, Man"},{emoji:"👨‍❤️‍👨",title:"Couple with Heart: Man, Man"},{emoji:"👩‍❤️‍👩",title:"Couple with Heart: Woman, Woman"},{emoji:"👪",title:"Family"},{emoji:"👨‍👩‍👦",title:"Family: Man, Woman, Boy"},{emoji:"👨‍👩‍👧",title:"Family: Man, Woman, Girl"},{emoji:"👨‍👩‍👧‍👦",title:"Family: Man, Woman, Girl, Boy"},{emoji:"👨‍👩‍👦‍👦",title:"Family: Man, Woman, Boy, Boy"},{emoji:"👨‍👩‍👧‍👧",title:"Family: Man, Woman, Girl, Girl"},{emoji:"👨‍👨‍👦",title:"Family: Man, Man, Boy"},{emoji:"👨‍👨‍👧",title:"Family: Man, Man, Girl"},{emoji:"👨‍👨‍👧‍👦",title:"Family: Man, Man, Girl, Boy"},{emoji:"👨‍👨‍👦‍👦",title:"Family: Man, Man, Boy, Boy"},{emoji:"👨‍👨‍👧‍👧",title:"Family: Man, Man, Girl, Girl"},{emoji:"👩‍👩‍👦",title:"Family: Woman, Woman, Boy"},{emoji:"👩‍👩‍👧",title:"Family: Woman, Woman, Girl"},{emoji:"👩‍👩‍👧‍👦",title:"Family: Woman, Woman, Girl, Boy"},{emoji:"👩‍👩‍👦‍👦",title:"Family: Woman, Woman, Boy, Boy"},{emoji:"👩‍👩‍👧‍👧",title:"Family: Woman, Woman, Girl, Girl"},{emoji:"👨‍👦",title:"Family: Man, Boy"},{emoji:"👨‍👦‍👦",title:"Family: Man, Boy, Boy"},{emoji:"👨‍👧",title:"Family: Man, Girl"},{emoji:"👨‍👧‍👦",title:"Family: Man, Girl, Boy"},{emoji:"👨‍👧‍👧",title:"Family: Man, Girl, Girl"},{emoji:"👩‍👦",title:"Family: Woman, Boy"},{emoji:"👩‍👦‍👦",title:"Family: Woman, Boy, Boy"},{emoji:"👩‍👧",title:"Family: Woman, Girl"},{emoji:"👩‍👧‍👦",title:"Family: Woman, Girl, Boy"},{emoji:"👩‍👧‍👧",title:"Family: Woman, Girl, Girl"},{emoji:"🗣️",title:"Speaking Head"},{emoji:"👤",title:"Bust in Silhouette"},{emoji:"👥",title:"Busts in Silhouette"},{emoji:"🫂",title:"People Hugging"},{emoji:"👣",title:"Footprints"},{emoji:"🧳",title:"Luggage"},{emoji:"🌂",title:"Closed Umbrella"},{emoji:"☂️",title:"Umbrella"},{emoji:"🎃",title:"Jack-O-Lantern"},{emoji:"🧵",title:"Thread"},{emoji:"🧶",title:"Yarn"},{emoji:"👓",title:"Glasses"},{emoji:"🕶️",title:"Sunglasses"},{emoji:"🥽",title:"Goggles"},{emoji:"🥼",title:"Lab Coat"},{emoji:"🦺",title:"Safety Vest"},{emoji:"👔",title:"Necktie"},{emoji:"👕",title:"T-Shirt"},{emoji:"👖",title:"Jeans"},{emoji:"🧣",title:"Scarf"},{emoji:"🧤",title:"Gloves"},{emoji:"🧥",title:"Coat"},{emoji:"🧦",title:"Socks"},{emoji:"👗",title:"Dress"},{emoji:"👘",title:"Kimono"},{emoji:"🥻",title:"Sari"},{emoji:"🩱",title:"One-Piece Swimsuit"},{emoji:"🩲",title:"Briefs"},{emoji:"🩳",title:"Shorts"},{emoji:"👙",title:"Bikini"},{emoji:"👚",title:"Woman’s Clothes"},{emoji:"👛",title:"Purse"},{emoji:"👜",title:"Handbag"},{emoji:"👝",title:"Clutch Bag"},{emoji:"🎒",title:"Backpack"},{emoji:"🩴",title:"Thong Sandal"},{emoji:"👞",title:"Man’s Shoe"},{emoji:"👟",title:"Running Shoe"},{emoji:"🥾",title:"Hiking Boot"},{emoji:"🥿",title:"Flat Shoe"},{emoji:"👠",title:"High-Heeled Shoe"},{emoji:"👡",title:"Woman’s Sandal"},{emoji:"🩰",title:"Ballet Shoes"},{emoji:"👢",title:"Woman’s Boot"},{emoji:"👑",title:"Crown"},{emoji:"👒",title:"Woman’s Hat"},{emoji:"🎩",title:"Top Hat"},{emoji:"🎓",title:"Graduation Cap"},{emoji:"🧢",title:"Billed Cap"},{emoji:"🪖",title:"Military Helmet"},{emoji:"⛑️",title:"Rescue Worker’s Helmet"},{emoji:"💄",title:"Lipstick"},{emoji:"💍",title:"Ring"},{emoji:"💼",title:"Briefcase"},{emoji:"🩸",title:"Drop of Blood"}],Nature:[{emoji:"🙈",title:"See-No-Evil Monkey"},{emoji:"🙉",title:"Hear-No-Evil Monkey"},{emoji:"🙊",title:"Speak-No-Evil Monkey"},{emoji:"💥",title:"Collision"},{emoji:"💫",title:"Dizzy"},{emoji:"💦",title:"Sweat Droplets"},{emoji:"💨",title:"Dashing Away"},{emoji:"🐵",title:"Monkey Face"},{emoji:"🐒",title:"Monkey"},{emoji:"🦍",title:"Gorilla"},{emoji:"🦧",title:"Orangutan"},{emoji:"🐶",title:"Dog Face"},{emoji:"🐕",title:"Dog"},{emoji:"🦮",title:"Guide Dog"},{emoji:"🐕‍🦺",title:"Service Dog"},{emoji:"🐩",title:"Poodle"},{emoji:"🐺",title:"Wolf"},{emoji:"🦊",title:"Fox"},{emoji:"🦝",title:"Raccoon"},{emoji:"🐱",title:"Cat Face"},{emoji:"🐈",title:"Cat"},{emoji:"🐈‍⬛",title:"Black Cat"},{emoji:"🦁",title:"Lion"},{emoji:"🐯",title:"Tiger Face"},{emoji:"🐅",title:"Tiger"},{emoji:"🐆",title:"Leopard"},{emoji:"🐴",title:"Horse Face"},{emoji:"🐎",title:"Horse"},{emoji:"🦄",title:"Unicorn"},{emoji:"🦓",title:"Zebra"},{emoji:"🦌",title:"Deer"},{emoji:"🦬",title:"Bison"},{emoji:"🐮",title:"Cow Face"},{emoji:"🐂",title:"Ox"},{emoji:"🐃",title:"Water Buffalo"},{emoji:"🐄",title:"Cow"},{emoji:"🐷",title:"Pig Face"},{emoji:"🐖",title:"Pig"},{emoji:"🐗",title:"Boar"},{emoji:"🐽",title:"Pig Nose"},{emoji:"🐏",title:"Ram"},{emoji:"🐑",title:"Ewe"},{emoji:"🐐",title:"Goat"},{emoji:"🐪",title:"Camel"},{emoji:"🐫",title:"Two-Hump Camel"},{emoji:"🦙",title:"Llama"},{emoji:"🦒",title:"Giraffe"},{emoji:"🐘",title:"Elephant"},{emoji:"🦣",title:"Mammoth"},{emoji:"🦏",title:"Rhinoceros"},{emoji:"🦛",title:"Hippopotamus"},{emoji:"🐭",title:"Mouse Face"},{emoji:"🐁",title:"Mouse"},{emoji:"🐀",title:"Rat"},{emoji:"🐹",title:"Hamster"},{emoji:"🐰",title:"Rabbit Face"},{emoji:"🐇",title:"Rabbit"},{emoji:"🐿️",title:"Chipmunk"},{emoji:"🦫",title:"Beaver"},{emoji:"🦔",title:"Hedgehog"},{emoji:"🦇",title:"Bat"},{emoji:"🐻",title:"Bear"},{emoji:"🐻‍❄️",title:"Polar Bear"},{emoji:"🐨",title:"Koala"},{emoji:"🐼",title:"Panda"},{emoji:"🦥",title:"Sloth"},{emoji:"🦦",title:"Otter"},{emoji:"🦨",title:"Skunk"},{emoji:"🦘",title:"Kangaroo"},{emoji:"🦡",title:"Badger"},{emoji:"🐾",title:"Paw Prints"},{emoji:"🦃",title:"Turkey"},{emoji:"🐔",title:"Chicken"},{emoji:"🐓",title:"Rooster"},{emoji:"🐣",title:"Hatching Chick"},{emoji:"🐤",title:"Baby Chick"},{emoji:"🐥",title:"Front-Facing Baby Chick"},{emoji:"🐦",title:"Bird"},{emoji:"🐧",title:"Penguin"},{emoji:"🕊️",title:"Dove"},{emoji:"🦅",title:"Eagle"},{emoji:"🦆",title:"Duck"},{emoji:"🦢",title:"Swan"},{emoji:"🦉",title:"Owl"},{emoji:"🦤",title:"Dodo"},{emoji:"🪶",title:"Feather"},{emoji:"🦩",title:"Flamingo"},{emoji:"🦚",title:"Peacock"},{emoji:"🦜",title:"Parrot"},{emoji:"🐸",title:"Frog"},{emoji:"🐊",title:"Crocodile"},{emoji:"🐢",title:"Turtle"},{emoji:"🦎",title:"Lizard"},{emoji:"🐍",title:"Snake"},{emoji:"🐲",title:"Dragon Face"},{emoji:"🐉",title:"Dragon"},{emoji:"🦕",title:"Sauropod"},{emoji:"🦖",title:"T-Rex"},{emoji:"🐳",title:"Spouting Whale"},{emoji:"🐋",title:"Whale"},{emoji:"🐬",title:"Dolphin"},{emoji:"🦭",title:"Seal"},{emoji:"🐟",title:"Fish"},{emoji:"🐠",title:"Tropical Fish"},{emoji:"🐡",title:"Blowfish"},{emoji:"🦈",title:"Shark"},{emoji:"🐙",title:"Octopus"},{emoji:"🐚",title:"Spiral Shell"},{emoji:"🐌",title:"Snail"},{emoji:"🦋",title:"Butterfly"},{emoji:"🐛",title:"Bug"},{emoji:"🐜",title:"Ant"},{emoji:"🐝",title:"Honeybee"},{emoji:"🪲",title:"Beetle"},{emoji:"🐞",title:"Lady Beetle"},{emoji:"🦗",title:"Cricket"},{emoji:"🪳",title:"Cockroach"},{emoji:"🕷️",title:"Spider"},{emoji:"🕸️",title:"Spider Web"},{emoji:"🦂",title:"Scorpion"},{emoji:"🦟",title:"Mosquito"},{emoji:"🪰",title:"Fly"},{emoji:"🪱",title:"Worm"},{emoji:"🦠",title:"Microbe"},{emoji:"💐",title:"Bouquet"},{emoji:"🌸",title:"Cherry Blossom"},{emoji:"💮",title:"White Flower"},{emoji:"🏵️",title:"Rosette"},{emoji:"🌹",title:"Rose"},{emoji:"🥀",title:"Wilted Flower"},{emoji:"🌺",title:"Hibiscus"},{emoji:"🌻",title:"Sunflower"},{emoji:"🌼",title:"Blossom"},{emoji:"🌷",title:"Tulip"},{emoji:"🌱",title:"Seedling"},{emoji:"🪴",title:"Potted Plant"},{emoji:"🌲",title:"Evergreen Tree"},{emoji:"🌳",title:"Deciduous Tree"},{emoji:"🌴",title:"Palm Tree"},{emoji:"🌵",title:"Cactus"},{emoji:"🌾",title:"Sheaf of Rice"},{emoji:"🌿",title:"Herb"},{emoji:"☘️",title:"Shamrock"},{emoji:"🍀",title:"Four Leaf Clover"},{emoji:"🍁",title:"Maple Leaf"},{emoji:"🍂",title:"Fallen Leaf"},{emoji:"🍃",title:"Leaf Fluttering in Wind"},{emoji:"🍄",title:"Mushroom"},{emoji:"🌰",title:"Chestnut"},{emoji:"🦀",title:"Crab"},{emoji:"🦞",title:"Lobster"},{emoji:"🦐",title:"Shrimp"},{emoji:"🦑",title:"Squid"},{emoji:"🌍",title:"Globe Showing Europe-Africa"},{emoji:"🌎",title:"Globe Showing Americas"},{emoji:"🌏",title:"Globe Showing Asia-Australia"},{emoji:"🌐",title:"Globe with Meridians"},{emoji:"🪨",title:"Rock"},{emoji:"🌑",title:"New Moon"},{emoji:"🌒",title:"Waxing Crescent Moon"},{emoji:"🌓",title:"First Quarter Moon"},{emoji:"🌔",title:"Waxing Gibbous Moon"},{emoji:"🌕",title:"Full Moon"},{emoji:"🌖",title:"Waning Gibbous Moon"},{emoji:"🌗",title:"Last Quarter Moon"},{emoji:"🌘",title:"Waning Crescent Moon"},{emoji:"🌙",title:"Crescent Moon"},{emoji:"🌚",title:"New Moon Face"},{emoji:"🌛",title:"First Quarter Moon Face"},{emoji:"🌜",title:"Last Quarter Moon Face"},{emoji:"☀️",title:"Sun"},{emoji:"🌝",title:"Full Moon Face"},{emoji:"🌞",title:"Sun with Face"},{emoji:"⭐",title:"Star"},{emoji:"🌟",title:"Glowing Star"},{emoji:"🌠",title:"Shooting Star"},{emoji:"☁️",title:"Cloud"},{emoji:"⛅",title:"Sun Behind Cloud"},{emoji:"⛈️",title:"Cloud with Lightning and Rain"},{emoji:"🌤️",title:"Sun Behind Small Cloud"},{emoji:"🌥️",title:"Sun Behind Large Cloud"},{emoji:"🌦️",title:"Sun Behind Rain Cloud"},{emoji:"🌧️",title:"Cloud with Rain"},{emoji:"🌨️",title:"Cloud with Snow"},{emoji:"🌩️",title:"Cloud with Lightning"},{emoji:"🌪️",title:"Tornado"},{emoji:"🌫️",title:"Fog"},{emoji:"🌬️",title:"Wind Face"},{emoji:"🌈",title:"Rainbow"},{emoji:"☂️",title:"Umbrella"},{emoji:"☔",title:"Umbrella with Rain Drops"},{emoji:"⚡",title:"High Voltage"},{emoji:"❄️",title:"Snowflake"},{emoji:"☃️",title:"Snowman"},{emoji:"⛄",title:"Snowman Without Snow"},{emoji:"☄️",title:"Comet"},{emoji:"🔥",title:"Fire"},{emoji:"💧",title:"Droplet"},{emoji:"🌊",title:"Water Wave"},{emoji:"🎄",title:"Christmas Tree"},{emoji:"✨",title:"Sparkles"},{emoji:"🎋",title:"Tanabata Tree"},{emoji:"🎍",title:"Pine Decoration"}],"Food-dring":[{emoji:"🍇",title:"Grapes"},{emoji:"🍈",title:"Melon"},{emoji:"🍉",title:"Watermelon"},{emoji:"🍊",title:"Tangerine"},{emoji:"🍋",title:"Lemon"},{emoji:"🍌",title:"Banana"},{emoji:"🍍",title:"Pineapple"},{emoji:"🥭",title:"Mango"},{emoji:"🍎",title:"Red Apple"},{emoji:"🍏",title:"Green Apple"},{emoji:"🍐",title:"Pear"},{emoji:"🍑",title:"Peach"},{emoji:"🍒",title:"Cherries"},{emoji:"🍓",title:"Strawberry"},{emoji:"🫐",title:"Blueberries"},{emoji:"🥝",title:"Kiwi Fruit"},{emoji:"🍅",title:"Tomato"},{emoji:"🫒",title:"Olive"},{emoji:"🥥",title:"Coconut"},{emoji:"🥑",title:"Avocado"},{emoji:"🍆",title:"Eggplant"},{emoji:"🥔",title:"Potato"},{emoji:"🥕",title:"Carrot"},{emoji:"🌽",title:"Ear of Corn"},{emoji:"🌶️",title:"Hot Pepper"},{emoji:"🫑",title:"Bell Pepper"},{emoji:"🥒",title:"Cucumber"},{emoji:"🥬",title:"Leafy Green"},{emoji:"🥦",title:"Broccoli"},{emoji:"🧄",title:"Garlic"},{emoji:"🧅",title:"Onion"},{emoji:"🍄",title:"Mushroom"},{emoji:"🥜",title:"Peanuts"},{emoji:"🌰",title:"Chestnut"},{emoji:"🍞",title:"Bread"},{emoji:"🥐",title:"Croissant"},{emoji:"🥖",title:"Baguette Bread"},{emoji:"🫓",title:"Flatbread"},{emoji:"🥨",title:"Pretzel"},{emoji:"🥯",title:"Bagel"},{emoji:"🥞",title:"Pancakes"},{emoji:"🧇",title:"Waffle"},{emoji:"🧀",title:"Cheese Wedge"},{emoji:"🍖",title:"Meat on Bone"},{emoji:"🍗",title:"Poultry Leg"},{emoji:"🥩",title:"Cut of Meat"},{emoji:"🥓",title:"Bacon"},{emoji:"🍔",title:"Hamburger"},{emoji:"🍟",title:"French Fries"},{emoji:"🍕",title:"Pizza"},{emoji:"🌭",title:"Hot Dog"},{emoji:"🥪",title:"Sandwich"},{emoji:"🌮",title:"Taco"},{emoji:"🌯",title:"Burrito"},{emoji:"🫔",title:"Tamale"},{emoji:"🥙",title:"Stuffed Flatbread"},{emoji:"🧆",title:"Falafel"},{emoji:"🥚",title:"Egg"},{emoji:"🍳",title:"Cooking"},{emoji:"🥘",title:"Shallow Pan of Food"},{emoji:"🍲",title:"Pot of Food"},{emoji:"🫕",title:"Fondue"},{emoji:"🥣",title:"Bowl with Spoon"},{emoji:"🥗",title:"Green Salad"},{emoji:"🍿",title:"Popcorn"},{emoji:"🧈",title:"Butter"},{emoji:"🧂",title:"Salt"},{emoji:"🥫",title:"Canned Food"},{emoji:"🍱",title:"Bento Box"},{emoji:"🍘",title:"Rice Cracker"},{emoji:"🍙",title:"Rice Ball"},{emoji:"🍚",title:"Cooked Rice"},{emoji:"🍛",title:"Curry Rice"},{emoji:"🍜",title:"Steaming Bowl"},{emoji:"🍝",title:"Spaghetti"},{emoji:"🍠",title:"Roasted Sweet Potato"},{emoji:"🍢",title:"Oden"},{emoji:"🍣",title:"Sushi"},{emoji:"🍤",title:"Fried Shrimp"},{emoji:"🍥",title:"Fish Cake with Swirl"},{emoji:"🥮",title:"Moon Cake"},{emoji:"🍡",title:"Dango"},{emoji:"🥟",title:"Dumpling"},{emoji:"🥠",title:"Fortune Cookie"},{emoji:"🥡",title:"Takeout Box"},{emoji:"🦪",title:"Oyster"},{emoji:"🍦",title:"Soft Ice Cream"},{emoji:"🍧",title:"Shaved Ice"},{emoji:"🍨",title:"Ice Cream"},{emoji:"🍩",title:"Doughnut"},{emoji:"🍪",title:"Cookie"},{emoji:"🎂",title:"Birthday Cake"},{emoji:"🍰",title:"Shortcake"},{emoji:"🧁",title:"Cupcake"},{emoji:"🥧",title:"Pie"},{emoji:"🍫",title:"Chocolate Bar"},{emoji:"🍬",title:"Candy"},{emoji:"🍭",title:"Lollipop"},{emoji:"🍮",title:"Custard"},{emoji:"🍯",title:"Honey Pot"},{emoji:"🍼",title:"Baby Bottle"},{emoji:"🥛",title:"Glass of Milk"},{emoji:"☕",title:"Hot Beverage"},{emoji:"🫖",title:"Teapot"},{emoji:"🍵",title:"Teacup Without Handle"},{emoji:"🍶",title:"Sake"},{emoji:"🍾",title:"Bottle with Popping Cork"},{emoji:"🍷",title:"Wine Glass"},{emoji:"🍸",title:"Cocktail Glass"},{emoji:"🍹",title:"Tropical Drink"},{emoji:"🍺",title:"Beer Mug"},{emoji:"🍻",title:"Clinking Beer Mugs"},{emoji:"🥂",title:"Clinking Glasses"},{emoji:"🥃",title:"Tumbler Glass"},{emoji:"🥤",title:"Cup with Straw"},{emoji:"🧋",title:"Bubble Tea"},{emoji:"🧃",title:"Beverage Box"},{emoji:"🧉",title:"Mate"},{emoji:"🧊",title:"Ice"},{emoji:"🥢",title:"Chopsticks"},{emoji:"🍽️",title:"Fork and Knife with Plate"},{emoji:"🍴",title:"Fork and Knife"},{emoji:"🥄",title:"Spoon"}],Activity:[{emoji:"🕴️",title:"Person in Suit Levitating"},{emoji:"🧗",title:"Person Climbing"},{emoji:"🧗‍♂️",title:"Man Climbing"},{emoji:"🧗‍♀️",title:"Woman Climbing"},{emoji:"🤺",title:"Person Fencing"},{emoji:"🏇",title:"Horse Racing"},{emoji:"⛷️",title:"Skier"},{emoji:"🏂",title:"Snowboarder"},{emoji:"🏌️",title:"Person Golfing"},{emoji:"🏌️‍♂️",title:"Man Golfing"},{emoji:"🏌️‍♀️",title:"Woman Golfing"},{emoji:"🏄",title:"Person Surfing"},{emoji:"🏄‍♂️",title:"Man Surfing"},{emoji:"🏄‍♀️",title:"Woman Surfing"},{emoji:"🚣",title:"Person Rowing Boat"},{emoji:"🚣‍♂️",title:"Man Rowing Boat"},{emoji:"🚣‍♀️",title:"Woman Rowing Boat"},{emoji:"🏊",title:"Person Swimming"},{emoji:"🏊‍♂️",title:"Man Swimming"},{emoji:"🏊‍♀️",title:"Woman Swimming"},{emoji:"⛹️",title:"Person Bouncing Ball"},{emoji:"⛹️‍♂️",title:"Man Bouncing Ball"},{emoji:"⛹️‍♀️",title:"Woman Bouncing Ball"},{emoji:"🏋️",title:"Person Lifting Weights"},{emoji:"🏋️‍♂️",title:"Man Lifting Weights"},{emoji:"🏋️‍♀️",title:"Woman Lifting Weights"},{emoji:"🚴",title:"Person Biking"},{emoji:"🚴‍♂️",title:"Man Biking"},{emoji:"🚴‍♀️",title:"Woman Biking"},{emoji:"🚵",title:"Person Mountain Biking"},{emoji:"🚵‍♂️",title:"Man Mountain Biking"},{emoji:"🚵‍♀️",title:"Woman Mountain Biking"},{emoji:"🤸",title:"Person Cartwheeling"},{emoji:"🤸‍♂️",title:"Man Cartwheeling"},{emoji:"🤸‍♀️",title:"Woman Cartwheeling"},{emoji:"🤼",title:"People Wrestling"},{emoji:"🤼‍♂️",title:"Men Wrestling"},{emoji:"🤼‍♀️",title:"Women Wrestling"},{emoji:"🤽",title:"Person Playing Water Polo"},{emoji:"🤽‍♂️",title:"Man Playing Water Polo"},{emoji:"🤽‍♀️",title:"Woman Playing Water Polo"},{emoji:"🤾",title:"Person Playing Handball"},{emoji:"🤾‍♂️",title:"Man Playing Handball"},{emoji:"🤾‍♀️",title:"Woman Playing Handball"},{emoji:"🤹",title:"Person Juggling"},{emoji:"🤹‍♂️",title:"Man Juggling"},{emoji:"🤹‍♀️",title:"Woman Juggling"},{emoji:"🧘",title:"Person in Lotus Position"},{emoji:"🧘‍♂️",title:"Man in Lotus Position"},{emoji:"🧘‍♀️",title:"Woman in Lotus Position"},{emoji:"🎪",title:"Circus Tent"},{emoji:"🛹",title:"Skateboard"},{emoji:"🛼",title:"Roller Skate"},{emoji:"🛶",title:"Canoe"},{emoji:"🎗️",title:"Reminder Ribbon"},{emoji:"🎟️",title:"Admission Tickets"},{emoji:"🎫",title:"Ticket"},{emoji:"🎖️",title:"Military Medal"},{emoji:"🏆",title:"Trophy"},{emoji:"🏅",title:"Sports Medal"},{emoji:"🥇",title:"1st Place Medal"},{emoji:"🥈",title:"2nd Place Medal"},{emoji:"🥉",title:"3rd Place Medal"},{emoji:"⚽",title:"Soccer Ball"},{emoji:"⚾",title:"Baseball"},{emoji:"🥎",title:"Softball"},{emoji:"🏀",title:"Basketball"},{emoji:"🏐",title:"Volleyball"},{emoji:"🏈",title:"American Football"},{emoji:"🏉",title:"Rugby Football"},{emoji:"🎾",title:"Tennis"},{emoji:"🥏",title:"Flying Disc"},{emoji:"🎳",title:"Bowling"},{emoji:"🏏",title:"Cricket Game"},{emoji:"🏑",title:"Field Hockey"},{emoji:"🏒",title:"Ice Hockey"},{emoji:"🥍",title:"Lacrosse"},{emoji:"🏓",title:"Ping Pong"},{emoji:"🏸",title:"Badminton"},{emoji:"🥊",title:"Boxing Glove"},{emoji:"🥋",title:"Martial Arts Uniform"},{emoji:"🥅",title:"Goal Net"},{emoji:"⛳",title:"Flag in Hole"},{emoji:"⛸️",title:"Ice Skate"},{emoji:"🎣",title:"Fishing Pole"},{emoji:"🎽",title:"Running Shirt"},{emoji:"🎿",title:"Skis"},{emoji:"🛷",title:"Sled"},{emoji:"🥌",title:"Curling Stone"},{emoji:"🎯",title:"Bullseye"},{emoji:"🎱",title:"Pool 8 Ball"},{emoji:"🎮",title:"Video Game"},{emoji:"🎰",title:"Slot Machine"},{emoji:"🎲",title:"Game Die"},{emoji:"🧩",title:"Puzzle Piece"},{emoji:"♟️",title:"Chess Pawn"},{emoji:"🎭",title:"Performing Arts"},{emoji:"🎨",title:"Artist Palette"},{emoji:"🧵",title:"Thread"},{emoji:"🧶",title:"Yarn"},{emoji:"🎼",title:"Musical Score"},{emoji:"🎤",title:"Microphone"},{emoji:"🎧",title:"Headphone"},{emoji:"🎷",title:"Saxophone"},{emoji:"🪗",title:"Accordion"},{emoji:"🎸",title:"Guitar"},{emoji:"🎹",title:"Musical Keyboard"},{emoji:"🎺",title:"Trumpet"},{emoji:"🎻",title:"Violin"},{emoji:"🥁",title:"Drum"},{emoji:"🪘",title:"Long Drum"},{emoji:"🎬",title:"Clapper Board"},{emoji:"🏹",title:"Bow and Arrow"}],"Travel-places":[{emoji:"🚣",title:"Person Rowing Boat"},{emoji:"🗾",title:"Map of Japan"},{emoji:"🏔️",title:"Snow-Capped Mountain"},{emoji:"⛰️",title:"Mountain"},{emoji:"🌋",title:"Volcano"},{emoji:"🗻",title:"Mount Fuji"},{emoji:"🏕️",title:"Camping"},{emoji:"🏖️",title:"Beach with Umbrella"},{emoji:"🏜️",title:"Desert"},{emoji:"🏝️",title:"Desert Island"},{emoji:"🏞️",title:"National Park"},{emoji:"🏟️",title:"Stadium"},{emoji:"🏛️",title:"Classical Building"},{emoji:"🏗️",title:"Building Construction"},{emoji:"🛖",title:"Hut"},{emoji:"🏘️",title:"Houses"},{emoji:"🏚️",title:"Derelict House"},{emoji:"🏠",title:"House"},{emoji:"🏡",title:"House with Garden"},{emoji:"🏢",title:"Office Building"},{emoji:"🏣",title:"Japanese Post Office"},{emoji:"🏤",title:"Post Office"},{emoji:"🏥",title:"Hospital"},{emoji:"🏦",title:"Bank"},{emoji:"🏨",title:"Hotel"},{emoji:"🏩",title:"Love Hotel"},{emoji:"🏪",title:"Convenience Store"},{emoji:"🏫",title:"School"},{emoji:"🏬",title:"Department Store"},{emoji:"🏭",title:"Factory"},{emoji:"🏯",title:"Japanese Castle"},{emoji:"🏰",title:"Castle"},{emoji:"💒",title:"Wedding"},{emoji:"🗼",title:"Tokyo Tower"},{emoji:"🗽",title:"Statue of Liberty"},{emoji:"⛪",title:"Church"},{emoji:"🕌",title:"Mosque"},{emoji:"🛕",title:"Hindu Temple"},{emoji:"🕍",title:"Synagogue"},{emoji:"⛩️",title:"Shinto Shrine"},{emoji:"🕋",title:"Kaaba"},{emoji:"⛲",title:"Fountain"},{emoji:"⛺",title:"Tent"},{emoji:"🌁",title:"Foggy"},{emoji:"🌃",title:"Night with Stars"},{emoji:"🏙️",title:"Cityscape"},{emoji:"🌄",title:"Sunrise Over Mountains"},{emoji:"🌅",title:"Sunrise"},{emoji:"🌆",title:"Cityscape at Dusk"},{emoji:"🌇",title:"Sunset"},{emoji:"🌉",title:"Bridge at Night"},{emoji:"🎠",title:"Carousel Horse"},{emoji:"🎡",title:"Ferris Wheel"},{emoji:"🎢",title:"Roller Coaster"},{emoji:"🚂",title:"Locomotive"},{emoji:"🚃",title:"Railway Car"},{emoji:"🚄",title:"High-Speed Train"},{emoji:"🚅",title:"Bullet Train"},{emoji:"🚆",title:"Train"},{emoji:"🚇",title:"Metro"},{emoji:"🚈",title:"Light Rail"},{emoji:"🚉",title:"Station"},{emoji:"🚊",title:"Tram"},{emoji:"🚝",title:"Monorail"},{emoji:"🚞",title:"Mountain Railway"},{emoji:"🚋",title:"Tram Car"},{emoji:"🚌",title:"Bus"},{emoji:"🚍",title:"Oncoming Bus"},{emoji:"🚎",title:"Trolleybus"},{emoji:"🚐",title:"Minibus"},{emoji:"🚑",title:"Ambulance"},{emoji:"🚒",title:"Fire Engine"},{emoji:"🚓",title:"Police Car"},{emoji:"🚔",title:"Oncoming Police Car"},{emoji:"🚕",title:"Taxi"},{emoji:"🚖",title:"Oncoming Taxi"},{emoji:"🚗",title:"Automobile"},{emoji:"🚘",title:"Oncoming Automobile"},{emoji:"🚙",title:"Sport Utility Vehicle"},{emoji:"🛻",title:"Pickup Truck"},{emoji:"🚚",title:"Delivery Truck"},{emoji:"🚛",title:"Articulated Lorry"},{emoji:"🚜",title:"Tractor"},{emoji:"🏎️",title:"Racing Car"},{emoji:"🏍️",title:"Motorcycle"},{emoji:"🛵",title:"Motor Scooter"},{emoji:"🛺",title:"Auto Rickshaw"},{emoji:"🚲",title:"Bicycle"},{emoji:"🛴",title:"Kick Scooter"},{emoji:"🚏",title:"Bus Stop"},{emoji:"🛣️",title:"Motorway"},{emoji:"🛤️",title:"Railway Track"},{emoji:"⛽",title:"Fuel Pump"},{emoji:"🚨",title:"Police Car Light"},{emoji:"🚥",title:"Horizontal Traffic Light"},{emoji:"🚦",title:"Vertical Traffic Light"},{emoji:"🚧",title:"Construction"},{emoji:"⚓",title:"Anchor"},{emoji:"⛵",title:"Sailboat"},{emoji:"🚤",title:"Speedboat"},{emoji:"🛳️",title:"Passenger Ship"},{emoji:"⛴️",title:"Ferry"},{emoji:"🛥️",title:"Motor Boat"},{emoji:"🚢",title:"Ship"},{emoji:"✈️",title:"Airplane"},{emoji:"🛩️",title:"Small Airplane"},{emoji:"🛫",title:"Airplane Departure"},{emoji:"🛬",title:"Airplane Arrival"},{emoji:"🪂",title:"Parachute"},{emoji:"💺",title:"Seat"},{emoji:"🚁",title:"Helicopter"},{emoji:"🚟",title:"Suspension Railway"},{emoji:"🚠",title:"Mountain Cableway"},{emoji:"🚡",title:"Aerial Tramway"},{emoji:"🛰️",title:"Satellite"},{emoji:"🚀",title:"Rocket"},{emoji:"🛸",title:"Flying Saucer"},{emoji:"🪐",title:"Ringed Planet"},{emoji:"🌠",title:"Shooting Star"},{emoji:"🌌",title:"Milky Way"},{emoji:"⛱️",title:"Umbrella on Ground"},{emoji:"🎆",title:"Fireworks"},{emoji:"🎇",title:"Sparkler"},{emoji:"🎑",title:"Moon Viewing Ceremony"},{emoji:"💴",title:"Yen Banknote"},{emoji:"💵",title:"Dollar Banknote"},{emoji:"💶",title:"Euro Banknote"},{emoji:"💷",title:"Pound Banknote"},{emoji:"🗿",title:"Moai"},{emoji:"🛂",title:"Passport Control"},{emoji:"🛃",title:"Customs"},{emoji:"🛄",title:"Baggage Claim"},{emoji:"🛅",title:"Left Luggage"}],Objects:[{emoji:"💌",title:"Love Letter"},{emoji:"🕳️",title:"Hole"},{emoji:"💣",title:"Bomb"},{emoji:"🛀",title:"Person Taking Bath"},{emoji:"🛌",title:"Person in Bed"},{emoji:"🔪",title:"Kitchen Knife"},{emoji:"🏺",title:"Amphora"},{emoji:"🗺️",title:"World Map"},{emoji:"🧭",title:"Compass"},{emoji:"🧱",title:"Brick"},{emoji:"💈",title:"Barber Pole"},{emoji:"🦽",title:"Manual Wheelchair"},{emoji:"🦼",title:"Motorized Wheelchair"},{emoji:"🛢️",title:"Oil Drum"},{emoji:"🛎️",title:"Bellhop Bell"},{emoji:"🧳",title:"Luggage"},{emoji:"⌛",title:"Hourglass Done"},{emoji:"⏳",title:"Hourglass Not Done"},{emoji:"⌚",title:"Watch"},{emoji:"⏰",title:"Alarm Clock"},{emoji:"⏱️",title:"Stopwatch"},{emoji:"⏲️",title:"Timer Clock"},{emoji:"🕰️",title:"Mantelpiece Clock"},{emoji:"🌡️",title:"Thermometer"},{emoji:"⛱️",title:"Umbrella on Ground"},{emoji:"🧨",title:"Firecracker"},{emoji:"🎈",title:"Balloon"},{emoji:"🎉",title:"Party Popper"},{emoji:"🎊",title:"Confetti Ball"},{emoji:"🎎",title:"Japanese Dolls"},{emoji:"🎏",title:"Carp Streamer"},{emoji:"🎐",title:"Wind Chime"},{emoji:"🧧",title:"Red Envelope"},{emoji:"🎀",title:"Ribbon"},{emoji:"🎁",title:"Wrapped Gift"},{emoji:"🤿",title:"Diving Mask"},{emoji:"🪀",title:"Yo-Yo"},{emoji:"🪁",title:"Kite"},{emoji:"🔮",title:"Crystal Ball"},{emoji:"🪄",title:"Magic Wand"},{emoji:"🧿",title:"Nazar Amulet"},{emoji:"🕹️",title:"Joystick"},{emoji:"🧸",title:"Teddy Bear"},{emoji:"🪅",title:"Piñata"},{emoji:"🪆",title:"Nesting Dolls"},{emoji:"🖼️",title:"Framed Picture"},{emoji:"🧵",title:"Thread"},{emoji:"🪡",title:"Sewing Needle"},{emoji:"🧶",title:"Yarn"},{emoji:"🪢",title:"Knot"},{emoji:"🛍️",title:"Shopping Bags"},{emoji:"📿",title:"Prayer Beads"},{emoji:"💎",title:"Gem Stone"},{emoji:"📯",title:"Postal Horn"},{emoji:"🎙️",title:"Studio Microphone"},{emoji:"🎚️",title:"Level Slider"},{emoji:"🎛️",title:"Control Knobs"},{emoji:"📻",title:"Radio"},{emoji:"🪕",title:"Banjo"},{emoji:"📱",title:"Mobile Phone"},{emoji:"📲",title:"Mobile Phone with Arrow"},{emoji:"☎️",title:"Telephone"},{emoji:"📞",title:"Telephone Receiver"},{emoji:"📟",title:"Pager"},{emoji:"📠",title:"Fax Machine"},{emoji:"🔋",title:"Battery"},{emoji:"🔌",title:"Electric Plug"},{emoji:"💻",title:"Laptop"},{emoji:"🖥️",title:"Desktop Computer"},{emoji:"🖨️",title:"Printer"},{emoji:"⌨️",title:"Keyboard"},{emoji:"🖱️",title:"Computer Mouse"},{emoji:"🖲️",title:"Trackball"},{emoji:"💽",title:"Computer Disk"},{emoji:"💾",title:"Floppy Disk"},{emoji:"💿",title:"Optical Disk"},{emoji:"📀",title:"DVD"},{emoji:"🧮",title:"Abacus"},{emoji:"🎥",title:"Movie Camera"},{emoji:"🎞️",title:"Film Frames"},{emoji:"📽️",title:"Film Projector"},{emoji:"📺",title:"Television"},{emoji:"📷",title:"Camera"},{emoji:"📸",title:"Camera with Flash"},{emoji:"📹",title:"Video Camera"},{emoji:"📼",title:"Videocassette"},{emoji:"🔍",title:"Magnifying Glass Tilted Left"},{emoji:"🔎",title:"Magnifying Glass Tilted Right"},{emoji:"🕯️",title:"Candle"},{emoji:"💡",title:"Light Bulb"},{emoji:"🔦",title:"Flashlight"},{emoji:"🏮",title:"Red Paper Lantern"},{emoji:"🪔",title:"Diya Lamp"},{emoji:"📔",title:"Notebook with Decorative Cover"},{emoji:"📕",title:"Closed Book"},{emoji:"📖",title:"Open Book"},{emoji:"📗",title:"Green Book"},{emoji:"📘",title:"Blue Book"},{emoji:"📙",title:"Orange Book"},{emoji:"📚",title:"Books"},{emoji:"📓",title:"Notebook"},{emoji:"📒",title:"Ledger"},{emoji:"📃",title:"Page with Curl"},{emoji:"📜",title:"Scroll"},{emoji:"📄",title:"Page Facing Up"},{emoji:"📰",title:"Newspaper"},{emoji:"🗞️",title:"Rolled-Up Newspaper"},{emoji:"📑",title:"Bookmark Tabs"},{emoji:"🔖",title:"Bookmark"},{emoji:"🏷️",title:"Label"},{emoji:"💰",title:"Money Bag"},{emoji:"🪙",title:"Coin"},{emoji:"💴",title:"Yen Banknote"},{emoji:"💵",title:"Dollar Banknote"},{emoji:"💶",title:"Euro Banknote"},{emoji:"💷",title:"Pound Banknote"},{emoji:"💸",title:"Money with Wings"},{emoji:"💳",title:"Credit Card"},{emoji:"🧾",title:"Receipt"},{emoji:"✉️",title:"Envelope"},{emoji:"📧",title:"E-Mail"},{emoji:"📨",title:"Incoming Envelope"},{emoji:"📩",title:"Envelope with Arrow"},{emoji:"📤",title:"Outbox Tray"},{emoji:"📥",title:"Inbox Tray"},{emoji:"📦",title:"Package"},{emoji:"📫",title:"Closed Mailbox with Raised Flag"},{emoji:"📪",title:"Closed Mailbox with Lowered Flag"},{emoji:"📬",title:"Open Mailbox with Raised Flag"},{emoji:"📭",title:"Open Mailbox with Lowered Flag"},{emoji:"📮",title:"Postbox"},{emoji:"🗳️",title:"Ballot Box with Ballot"},{emoji:"✏️",title:"Pencil"},{emoji:"✒️",title:"Black Nib"},{emoji:"🖋️",title:"Fountain Pen"},{emoji:"🖊️",title:"Pen"},{emoji:"🖌️",title:"Paintbrush"},{emoji:"🖍️",title:"Crayon"},{emoji:"📝",title:"Memo"},{emoji:"📁",title:"File Folder"},{emoji:"📂",title:"Open File Folder"},{emoji:"🗂️",title:"Card Index Dividers"},{emoji:"📅",title:"Calendar"},{emoji:"📆",title:"Tear-Off Calendar"},{emoji:"🗒️",title:"Spiral Notepad"},{emoji:"🗓️",title:"Spiral Calendar"},{emoji:"📇",title:"Card Index"},{emoji:"📈",title:"Chart Increasing"},{emoji:"📉",title:"Chart Decreasing"},{emoji:"📊",title:"Bar Chart"},{emoji:"📋",title:"Clipboard"},{emoji:"📌",title:"Pushpin"},{emoji:"📍",title:"Round Pushpin"},{emoji:"📎",title:"Paperclip"},{emoji:"🖇️",title:"Linked Paperclips"},{emoji:"📏",title:"Straight Ruler"},{emoji:"📐",title:"Triangular Ruler"},{emoji:"✂️",title:"Scissors"},{emoji:"🗃️",title:"Card File Box"},{emoji:"🗄️",title:"File Cabinet"},{emoji:"🗑️",title:"Wastebasket"},{emoji:"🔒",title:"Locked"},{emoji:"🔓",title:"Unlocked"},{emoji:"🔏",title:"Locked with Pen"},{emoji:"🔐",title:"Locked with Key"},{emoji:"🔑",title:"Key"},{emoji:"🗝️",title:"Old Key"},{emoji:"🔨",title:"Hammer"},{emoji:"🪓",title:"Axe"},{emoji:"⛏️",title:"Pick"},{emoji:"⚒️",title:"Hammer and Pick"},{emoji:"🛠️",title:"Hammer and Wrench"},{emoji:"🗡️",title:"Dagger"},{emoji:"⚔️",title:"Crossed Swords"},{emoji:"🔫",title:"Water Pistol"},{emoji:"🪃",title:"Boomerang"},{emoji:"🛡️",title:"Shield"},{emoji:"🪚",title:"Carpentry Saw"},{emoji:"🔧",title:"Wrench"},{emoji:"🪛",title:"Screwdriver"},{emoji:"🔩",title:"Nut and Bolt"},{emoji:"⚙️",title:"Gear"},{emoji:"🗜️",title:"Clamp"},{emoji:"⚖️",title:"Balance Scale"},{emoji:"🦯",title:"White Cane"},{emoji:"🔗",title:"Link"},{emoji:"⛓️",title:"Chains"},{emoji:"🪝",title:"Hook"},{emoji:"🧰",title:"Toolbox"},{emoji:"🧲",title:"Magnet"},{emoji:"🪜",title:"Ladder"},{emoji:"⚗️",title:"Alembic"},{emoji:"🧪",title:"Test Tube"},{emoji:"🧫",title:"Petri Dish"},{emoji:"🧬",title:"DNA"},{emoji:"🔬",title:"Microscope"},{emoji:"🔭",title:"Telescope"},{emoji:"📡",title:"Satellite Antenna"},{emoji:"💉",title:"Syringe"},{emoji:"🩸",title:"Drop of Blood"},{emoji:"💊",title:"Pill"},{emoji:"🩹",title:"Adhesive Bandage"},{emoji:"🩺",title:"Stethoscope"},{emoji:"🚪",title:"Door"},{emoji:"🪞",title:"Mirror"},{emoji:"🪟",title:"Window"},{emoji:"🛏️",title:"Bed"},{emoji:"🛋️",title:"Couch and Lamp"},{emoji:"🪑",title:"Chair"},{emoji:"🚽",title:"Toilet"},{emoji:"🪠",title:"Plunger"},{emoji:"🚿",title:"Shower"},{emoji:"🛁",title:"Bathtub"},{emoji:"🪤",title:"Mouse Trap"},{emoji:"🪒",title:"Razor"},{emoji:"🧴",title:"Lotion Bottle"},{emoji:"🧷",title:"Safety Pin"},{emoji:"🧹",title:"Broom"},{emoji:"🧺",title:"Basket"},{emoji:"🧻",title:"Roll of Paper"},{emoji:"🪣",title:"Bucket"},{emoji:"🧼",title:"Soap"},{emoji:"🪥",title:"Toothbrush"},{emoji:"🧽",title:"Sponge"},{emoji:"🧯",title:"Fire Extinguisher"},{emoji:"🛒",title:"Shopping Cart"},{emoji:"🚬",title:"Cigarette"},{emoji:"⚰️",title:"Coffin"},{emoji:"🪦",title:"Headstone"},{emoji:"⚱️",title:"Funeral Urn"},{emoji:"🗿",title:"Moai"},{emoji:"🪧",title:"Placard"},{emoji:"🚰",title:"Potable Water"}],Symbols:[{emoji:"💘",title:"Heart with Arrow"},{emoji:"💝",title:"Heart with Ribbon"},{emoji:"💖",title:"Sparkling Heart"},{emoji:"💗",title:"Growing Heart"},{emoji:"💓",title:"Beating Heart"},{emoji:"💞",title:"Revolving Hearts"},{emoji:"💕",title:"Two Hearts"},{emoji:"💟",title:"Heart Decoration"},{emoji:"❣️",title:"Heart Exclamation"},{emoji:"💔",title:"Broken Heart"},{emoji:"❤️‍🔥",title:"Heart on Fire"},{emoji:"❤️‍🩹",title:"Mending Heart"},{emoji:"❤️",title:"Red Heart"},{emoji:"🧡",title:"Orange Heart"},{emoji:"💛",title:"Yellow Heart"},{emoji:"💚",title:"Green Heart"},{emoji:"💙",title:"Blue Heart"},{emoji:"💜",title:"Purple Heart"},{emoji:"🤎",title:"Brown Heart"},{emoji:"🖤",title:"Black Heart"},{emoji:"🤍",title:"White Heart"},{emoji:"💯",title:"Hundred Points"},{emoji:"💢",title:"Anger Symbol"},{emoji:"💬",title:"Speech Balloon"},{emoji:"👁️‍🗨️",title:"Eye in Speech Bubble"},{emoji:"🗨️",title:"Left Speech Bubble"},{emoji:"🗯️",title:"Right Anger Bubble"},{emoji:"💭",title:"Thought Balloon"},{emoji:"💤",title:"Zzz"},{emoji:"💮",title:"White Flower"},{emoji:"♨️",title:"Hot Springs"},{emoji:"💈",title:"Barber Pole"},{emoji:"🛑",title:"Stop Sign"},{emoji:"🕛",title:"Twelve O’Clock"},{emoji:"🕧",title:"Twelve-Thirty"},{emoji:"🕐",title:"One O’Clock"},{emoji:"🕜",title:"One-Thirty"},{emoji:"🕑",title:"Two O’Clock"},{emoji:"🕝",title:"Two-Thirty"},{emoji:"🕒",title:"Three O’Clock"},{emoji:"🕞",title:"Three-Thirty"},{emoji:"🕓",title:"Four O’Clock"},{emoji:"🕟",title:"Four-Thirty"},{emoji:"🕔",title:"Five O’Clock"},{emoji:"🕠",title:"Five-Thirty"},{emoji:"🕕",title:"Six O’Clock"},{emoji:"🕡",title:"Six-Thirty"},{emoji:"🕖",title:"Seven O’Clock"},{emoji:"🕢",title:"Seven-Thirty"},{emoji:"🕗",title:"Eight O’Clock"},{emoji:"🕣",title:"Eight-Thirty"},{emoji:"🕘",title:"Nine O’Clock"},{emoji:"🕤",title:"Nine-Thirty"},{emoji:"🕙",title:"Ten O’Clock"},{emoji:"🕥",title:"Ten-Thirty"},{emoji:"🕚",title:"Eleven O’Clock"},{emoji:"🕦",title:"Eleven-Thirty"},{emoji:"🌀",title:"Cyclone"},{emoji:"♠️",title:"Spade Suit"},{emoji:"♥️",title:"Heart Suit"},{emoji:"♦️",title:"Diamond Suit"},{emoji:"♣️",title:"Club Suit"},{emoji:"🃏",title:"Joker"},{emoji:"🀄",title:"Mahjong Red Dragon"},{emoji:"🎴",title:"Flower Playing Cards"},{emoji:"🔇",title:"Muted Speaker"},{emoji:"🔈",title:"Speaker Low Volume"},{emoji:"🔉",title:"Speaker Medium Volume"},{emoji:"🔊",title:"Speaker High Volume"},{emoji:"📢",title:"Loudspeaker"},{emoji:"📣",title:"Megaphone"},{emoji:"📯",title:"Postal Horn"},{emoji:"🔔",title:"Bell"},{emoji:"🔕",title:"Bell with Slash"},{emoji:"🎵",title:"Musical Note"},{emoji:"🎶",title:"Musical Notes"},{emoji:"💹",title:"Chart Increasing with Yen"},{emoji:"🛗",title:"Elevator"},{emoji:"🏧",title:"ATM Sign"},{emoji:"🚮",title:"Litter in Bin Sign"},{emoji:"🚰",title:"Potable Water"},{emoji:"♿",title:"Wheelchair Symbol"},{emoji:"🚹",title:"Men’s Room"},{emoji:"🚺",title:"Women’s Room"},{emoji:"🚻",title:"Restroom"},{emoji:"🚼",title:"Baby Symbol"},{emoji:"🚾",title:"Water Closet"},{emoji:"⚠️",title:"Warning"},{emoji:"🚸",title:"Children Crossing"},{emoji:"⛔",title:"No Entry"},{emoji:"🚫",title:"Prohibited"},{emoji:"🚳",title:"No Bicycles"},{emoji:"🚭",title:"No Smoking"},{emoji:"🚯",title:"No Littering"},{emoji:"🚱",title:"Non-Potable Water"},{emoji:"🚷",title:"No Pedestrians"},{emoji:"📵",title:"No Mobile Phones"},{emoji:"🔞",title:"No One Under Eighteen"},{emoji:"☢️",title:"Radioactive"},{emoji:"☣️",title:"Biohazard"},{emoji:"⬆️",title:"Up Arrow"},{emoji:"↗️",title:"Up-Right Arrow"},{emoji:"➡️",title:"Right Arrow"},{emoji:"↘️",title:"Down-Right Arrow"},{emoji:"⬇️",title:"Down Arrow"},{emoji:"↙️",title:"Down-Left Arrow"},{emoji:"⬅️",title:"Left Arrow"},{emoji:"↖️",title:"Up-Left Arrow"},{emoji:"↕️",title:"Up-Down Arrow"},{emoji:"↔️",title:"Left-Right Arrow"},{emoji:"↩️",title:"Right Arrow Curving Left"},{emoji:"↪️",title:"Left Arrow Curving Right"},{emoji:"⤴️",title:"Right Arrow Curving Up"},{emoji:"⤵️",title:"Right Arrow Curving Down"},{emoji:"🔃",title:"Clockwise Vertical Arrows"},{emoji:"🔄",title:"Counterclockwise Arrows Button"},{emoji:"🔙",title:"Back Arrow"},{emoji:"🔚",title:"End Arrow"},{emoji:"🔛",title:"On! Arrow"},{emoji:"🔜",title:"Soon Arrow"},{emoji:"🔝",title:"Top Arrow"},{emoji:"🛐",title:"Place of Worship"},{emoji:"⚛️",title:"Atom Symbol"},{emoji:"🕉️",title:"Om"},{emoji:"✡️",title:"Star of David"},{emoji:"☸️",title:"Wheel of Dharma"},{emoji:"☯️",title:"Yin Yang"},{emoji:"✝️",title:"Latin Cross"},{emoji:"☦️",title:"Orthodox Cross"},{emoji:"☪️",title:"Star and Crescent"},{emoji:"☮️",title:"Peace Symbol"},{emoji:"🕎",title:"Menorah"},{emoji:"🔯",title:"Dotted Six-Pointed Star"},{emoji:"♈",title:"Aries"},{emoji:"♉",title:"Taurus"},{emoji:"♊",title:"Gemini"},{emoji:"♋",title:"Cancer"},{emoji:"♌",title:"Leo"},{emoji:"♍",title:"Virgo"},{emoji:"♎",title:"Libra"},{emoji:"♏",title:"Scorpio"},{emoji:"♐",title:"Sagittarius"},{emoji:"♑",title:"Capricorn"},{emoji:"♒",title:"Aquarius"},{emoji:"♓",title:"Pisces"},{emoji:"⛎",title:"Ophiuchus"},{emoji:"🔀",title:"Shuffle Tracks Button"},{emoji:"🔁",title:"Repeat Button"},{emoji:"🔂",title:"Repeat Single Button"},{emoji:"▶️",title:"Play Button"},{emoji:"⏩",title:"Fast-Forward Button"},{emoji:"⏭️",title:"Next Track Button"},{emoji:"⏯️",title:"Play or Pause Button"},{emoji:"◀️",title:"Reverse Button"},{emoji:"⏪",title:"Fast Reverse Button"},{emoji:"⏮️",title:"Last Track Button"},{emoji:"🔼",title:"Upwards Button"},{emoji:"⏫",title:"Fast Up Button"},{emoji:"🔽",title:"Downwards Button"},{emoji:"⏬",title:"Fast Down Button"},{emoji:"⏸️",title:"Pause Button"},{emoji:"⏹️",title:"Stop Button"},{emoji:"⏺️",title:"Record Button"},{emoji:"⏏️",title:"Eject Button"},{emoji:"🎦",title:"Cinema"},{emoji:"🔅",title:"Dim Button"},{emoji:"🔆",title:"Bright Button"},{emoji:"📶",title:"Antenna Bars"},{emoji:"📳",title:"Vibration Mode"},{emoji:"📴",title:"Mobile Phone Off"},{emoji:"♀️",title:"Female Sign"},{emoji:"♂️",title:"Male Sign"},{emoji:"✖️",title:"Multiply"},{emoji:"➕",title:"Plus"},{emoji:"➖",title:"Minus"},{emoji:"➗",title:"Divide"},{emoji:"♾️",title:"Infinity"},{emoji:"‼️",title:"‼ Double Exclamation Mark"},{emoji:"⁉️",title:"⁉ Exclamation Question Mark"},{emoji:"❓",title:"Red Question Mark"},{emoji:"❔",title:"White Question Mark"},{emoji:"❕",title:"White Exclamation Mark"},{emoji:"❗",title:"Red Exclamation Mark"},{emoji:"〰️",title:"〰 Wavy Dash"},{emoji:"💱",title:"Currency Exchange"},{emoji:"💲",title:"Heavy Dollar Sign"},{emoji:"⚕️",title:"Medical Symbol"},{emoji:"♻️",title:"Recycling Symbol"},{emoji:"⚜️",title:"Fleur-de-lis"},{emoji:"🔱",title:"Trident Emblem"},{emoji:"📛",title:"Name Badge"},{emoji:"🔰",title:"Japanese Symbol for Beginner"},{emoji:"⭕",title:"Hollow Red Circle"},{emoji:"✅",title:"Check Mark Button"},{emoji:"☑️",title:"Check Box with Check"},{emoji:"✔️",title:"Check Mark"},{emoji:"❌",title:"Cross Mark"},{emoji:"❎",title:"Cross Mark Button"},{emoji:"➰",title:"Curly Loop"},{emoji:"➿",title:"Double Curly Loop"},{emoji:"〽️",title:"〽 Part Alternation Mark"},{emoji:"✳️",title:"Eight-Spoked Asterisk"},{emoji:"✴️",title:"Eight-Pointed Star"},{emoji:"❇️",title:"Sparkle"},{emoji:"©️",title:"Copyright"},{emoji:"®️",title:"Registered"},{emoji:"™️",title:"Trade Mark"},{emoji:"#️⃣",title:"# Keycap Number Sign"},{emoji:"*️⃣",title:"* Keycap Asterisk"},{emoji:"0️⃣",title:"0 Keycap Digit Zero"},{emoji:"1️⃣",title:"1 Keycap Digit One"},{emoji:"2️⃣",title:"2 Keycap Digit Two"},{emoji:"3️⃣",title:"3 Keycap Digit Three"},{emoji:"4️⃣",title:"4 Keycap Digit Four"},{emoji:"5️⃣",title:"5 Keycap Digit Five"},{emoji:"6️⃣",title:"6 Keycap Digit Six"},{emoji:"7️⃣",title:"7 Keycap Digit Seven"},{emoji:"8️⃣",title:"8 Keycap Digit Eight"},{emoji:"9️⃣",title:"9 Keycap Digit Nine"},{emoji:"🔟",title:"Keycap: 10"},{emoji:"🔠",title:"Input Latin Uppercase"},{emoji:"🔡",title:"Input Latin Lowercase"},{emoji:"🔢",title:"Input Numbers"},{emoji:"🔣",title:"Input Symbols"},{emoji:"🔤",title:"Input Latin Letters"},{emoji:"🅰️",title:"A Button (Blood Type)"},{emoji:"🆎",title:"AB Button (Blood Type)"},{emoji:"🅱️",title:"B Button (Blood Type)"},{emoji:"🆑",title:"CL Button"},{emoji:"🆒",title:"Cool Button"},{emoji:"🆓",title:"Free Button"},{emoji:"ℹ️",title:"ℹ Information"},{emoji:"🆔",title:"ID Button"},{emoji:"Ⓜ️",title:"Circled M"},{emoji:"🆕",title:"New Button"},{emoji:"🆖",title:"NG Button"},{emoji:"🅾️",title:"O Button (Blood Type)"},{emoji:"🆗",title:"OK Button"},{emoji:"🅿️",title:"P Button"},{emoji:"🆘",title:"SOS Button"},{emoji:"🆙",title:"Up! Button"},{emoji:"🆚",title:"Vs Button"},{emoji:"🈁",title:"Japanese “Here” Button"},{emoji:"🈂️",title:"Japanese “Service Charge” Button"},{emoji:"🈷️",title:"Japanese “Monthly Amount” Button"},{emoji:"🈶",title:"Japanese “Not Free of Charge” Button"},{emoji:"🈯",title:"Japanese “Reserved” Button"},{emoji:"🉐",title:"Japanese “Bargain” Button"},{emoji:"🈹",title:"Japanese “Discount” Button"},{emoji:"🈚",title:"Japanese “Free of Charge” Button"},{emoji:"🈲",title:"Japanese “Prohibited” Button"},{emoji:"🉑",title:"Japanese “Acceptable” Button"},{emoji:"🈸",title:"Japanese “Application” Button"},{emoji:"🈴",title:"Japanese “Passing Grade” Button"},{emoji:"🈳",title:"Japanese “Vacancy” Button"},{emoji:"㊗️",title:"Japanese “Congratulations” Button"},{emoji:"㊙️",title:"Japanese “Secret” Button"},{emoji:"🈺",title:"Japanese “Open for Business” Button"},{emoji:"🈵",title:"Japanese “No Vacancy” Button"},{emoji:"🔴",title:"Red Circle"},{emoji:"🟠",title:"Orange Circle"},{emoji:"🟡",title:"Yellow Circle"},{emoji:"🟢",title:"Green Circle"},{emoji:"🔵",title:"Blue Circle"},{emoji:"🟣",title:"Purple Circle"},{emoji:"🟤",title:"Brown Circle"},{emoji:"⚫",title:"Black Circle"},{emoji:"⚪",title:"White Circle"},{emoji:"🟥",title:"Red Square"},{emoji:"🟧",title:"Orange Square"},{emoji:"🟨",title:"Yellow Square"},{emoji:"🟩",title:"Green Square"},{emoji:"🟦",title:"Blue Square"},{emoji:"🟪",title:"Purple Square"},{emoji:"🟫",title:"Brown Square"},{emoji:"⬛",title:"Black Large Square"},{emoji:"⬜",title:"White Large Square"},{emoji:"◼️",title:"Black Medium Square"},{emoji:"◻️",title:"White Medium Square"},{emoji:"◾",title:"Black Medium-Small Square"},{emoji:"◽",title:"White Medium-Small Square"},{emoji:"▪️",title:"Black Small Square"},{emoji:"▫️",title:"White Small Square"},{emoji:"🔶",title:"Large Orange Diamond"},{emoji:"🔷",title:"Large Blue Diamond"},{emoji:"🔸",title:"Small Orange Diamond"},{emoji:"🔹",title:"Small Blue Diamond"},{emoji:"🔺",title:"Red Triangle Pointed Up"},{emoji:"🔻",title:"Red Triangle Pointed Down"},{emoji:"💠",title:"Diamond with a Dot"},{emoji:"🔘",title:"Radio Button"},{emoji:"🔳",title:"White Square Button"},{emoji:"🔲",title:"Black Square Button"}],Flags:[{emoji:"🏁",title:"Chequered Flag"},{emoji:"🚩",title:"Triangular Flag"},{emoji:"🎌",title:"Crossed Flags"},{emoji:"🏴",title:"Black Flag"},{emoji:"🏳️",title:"White Flag"},{emoji:"🏳️‍🌈",title:"Rainbow Flag"},{emoji:"🏳️‍⚧️",title:"Transgender Flag"},{emoji:"🏴‍☠️",title:"Pirate Flag"},{emoji:"🇦🇨",title:"Flag: Ascension Island"},{emoji:"🇦🇩",title:"Flag: Andorra"},{emoji:"🇦🇪",title:"Flag: United Arab Emirates"},{emoji:"🇦🇫",title:"Flag: Afghanistan"},{emoji:"🇦🇬",title:"Flag: Antigua & Barbuda"},{emoji:"🇦🇮",title:"Flag: Anguilla"},{emoji:"🇦🇱",title:"Flag: Albania"},{emoji:"🇦🇲",title:"Flag: Armenia"},{emoji:"🇦🇴",title:"Flag: Angola"},{emoji:"🇦🇶",title:"Flag: Antarctica"},{emoji:"🇦🇷",title:"Flag: Argentina"},{emoji:"🇦🇸",title:"Flag: American Samoa"},{emoji:"🇦🇹",title:"Flag: Austria"},{emoji:"🇦🇺",title:"Flag: Australia"},{emoji:"🇦🇼",title:"Flag: Aruba"},{emoji:"🇦🇽",title:"Flag: Åland Islands"},{emoji:"🇦🇿",title:"Flag: Azerbaijan"},{emoji:"🇧🇦",title:"Flag: Bosnia & Herzegovina"},{emoji:"🇧🇧",title:"Flag: Barbados"},{emoji:"🇧🇩",title:"Flag: Bangladesh"},{emoji:"🇧🇪",title:"Flag: Belgium"},{emoji:"🇧🇫",title:"Flag: Burkina Faso"},{emoji:"🇧🇬",title:"Flag: Bulgaria"},{emoji:"🇧🇭",title:"Flag: Bahrain"},{emoji:"🇧🇮",title:"Flag: Burundi"},{emoji:"🇧🇯",title:"Flag: Benin"},{emoji:"🇧🇱",title:"Flag: St. Barthélemy"},{emoji:"🇧🇲",title:"Flag: Bermuda"},{emoji:"🇧🇳",title:"Flag: Brunei"},{emoji:"🇧🇴",title:"Flag: Bolivia"},{emoji:"🇧🇶",title:"Flag: Caribbean Netherlands"},{emoji:"🇧🇷",title:"Flag: Brazil"},{emoji:"🇧🇸",title:"Flag: Bahamas"},{emoji:"🇧🇹",title:"Flag: Bhutan"},{emoji:"🇧🇻",title:"Flag: Bouvet Island"},{emoji:"🇧🇼",title:"Flag: Botswana"},{emoji:"🇧🇾",title:"Flag: Belarus"},{emoji:"🇧🇿",title:"Flag: Belize"},{emoji:"🇨🇦",title:"Flag: Canada"},{emoji:"🇨🇨",title:"Flag: Cocos (Keeling) Islands"},{emoji:"🇨🇩",title:"Flag: Congo - Kinshasa"},{emoji:"🇨🇫",title:"Flag: Central African Republic"},{emoji:"🇨🇬",title:"Flag: Congo - Brazzaville"},{emoji:"🇨🇭",title:"Flag: Switzerland"},{emoji:"🇨🇮",title:"Flag: Côte d’Ivoire"},{emoji:"🇨🇰",title:"Flag: Cook Islands"},{emoji:"🇨🇱",title:"Flag: Chile"},{emoji:"🇨🇲",title:"Flag: Cameroon"},{emoji:"🇨🇳",title:"Flag: China"},{emoji:"🇨🇴",title:"Flag: Colombia"},{emoji:"🇨🇵",title:"Flag: Clipperton Island"},{emoji:"🇨🇷",title:"Flag: Costa Rica"},{emoji:"🇨🇺",title:"Flag: Cuba"},{emoji:"🇨🇻",title:"Flag: Cape Verde"},{emoji:"🇨🇼",title:"Flag: Curaçao"},{emoji:"🇨🇽",title:"Flag: Christmas Island"},{emoji:"🇨🇾",title:"Flag: Cyprus"},{emoji:"🇨🇿",title:"Flag: Czechia"},{emoji:"🇩🇪",title:"Flag: Germany"},{emoji:"🇩🇬",title:"Flag: Diego Garcia"},{emoji:"🇩🇯",title:"Flag: Djibouti"},{emoji:"🇩🇰",title:"Flag: Denmark"},{emoji:"🇩🇲",title:"Flag: Dominica"},{emoji:"🇩🇴",title:"Flag: Dominican Republic"},{emoji:"🇩🇿",title:"Flag: Algeria"},{emoji:"🇪🇦",title:"Flag: Ceuta & Melilla"},{emoji:"🇪🇨",title:"Flag: Ecuador"},{emoji:"🇪🇪",title:"Flag: Estonia"},{emoji:"🇪🇬",title:"Flag: Egypt"},{emoji:"🇪🇭",title:"Flag: Western Sahara"},{emoji:"🇪🇷",title:"Flag: Eritrea"},{emoji:"🇪🇸",title:"Flag: Spain"},{emoji:"🇪🇹",title:"Flag: Ethiopia"},{emoji:"🇪🇺",title:"Flag: European Union"},{emoji:"🇫🇮",title:"Flag: Finland"},{emoji:"🇫🇯",title:"Flag: Fiji"},{emoji:"🇫🇰",title:"Flag: Falkland Islands"},{emoji:"🇫🇲",title:"Flag: Micronesia"},{emoji:"🇫🇴",title:"Flag: Faroe Islands"},{emoji:"🇫🇷",title:"Flag: France"},{emoji:"🇬🇦",title:"Flag: Gabon"},{emoji:"🇬🇧",title:"Flag: United Kingdom"},{emoji:"🇬🇩",title:"Flag: Grenada"},{emoji:"🇬🇪",title:"Flag: Georgia"},{emoji:"🇬🇫",title:"Flag: French Guiana"},{emoji:"🇬🇬",title:"Flag: Guernsey"},{emoji:"🇬🇭",title:"Flag: Ghana"},{emoji:"🇬🇮",title:"Flag: Gibraltar"},{emoji:"🇬🇱",title:"Flag: Greenland"},{emoji:"🇬🇲",title:"Flag: Gambia"},{emoji:"🇬🇳",title:"Flag: Guinea"},{emoji:"🇬🇵",title:"Flag: Guadeloupe"},{emoji:"🇬🇶",title:"Flag: Equatorial Guinea"},{emoji:"🇬🇷",title:"Flag: Greece"},{emoji:"🇬🇸",title:"Flag: South Georgia & South Sandwich Islands"},{emoji:"🇬🇹",title:"Flag: Guatemala"},{emoji:"🇬🇺",title:"Flag: Guam"},{emoji:"🇬🇼",title:"Flag: Guinea-Bissau"},{emoji:"🇬🇾",title:"Flag: Guyana"},{emoji:"🇭🇰",title:"Flag: Hong Kong SAR China"},{emoji:"🇭🇲",title:"Flag: Heard & McDonald Islands"},{emoji:"🇭🇳",title:"Flag: Honduras"},{emoji:"🇭🇷",title:"Flag: Croatia"},{emoji:"🇭🇹",title:"Flag: Haiti"},{emoji:"🇭🇺",title:"Flag: Hungary"},{emoji:"🇮🇨",title:"Flag: Canary Islands"},{emoji:"🇮🇩",title:"Flag: Indonesia"},{emoji:"🇮🇪",title:"Flag: Ireland"},{emoji:"🇮🇱",title:"Flag: Israel"},{emoji:"🇮🇲",title:"Flag: Isle of Man"},{emoji:"🇮🇳",title:"Flag: India"},{emoji:"🇮🇴",title:"Flag: British Indian Ocean Territory"},{emoji:"🇮🇶",title:"Flag: Iraq"},{emoji:"🇮🇷",title:"Flag: Iran"},{emoji:"🇮🇸",title:"Flag: Iceland"},{emoji:"🇮🇹",title:"Flag: Italy"},{emoji:"🇯🇪",title:"Flag: Jersey"},{emoji:"🇯🇲",title:"Flag: Jamaica"},{emoji:"🇯🇴",title:"Flag: Jordan"},{emoji:"🇯🇵",title:"Flag: Japan"},{emoji:"🇰🇪",title:"Flag: Kenya"},{emoji:"🇰🇬",title:"Flag: Kyrgyzstan"},{emoji:"🇰🇭",title:"Flag: Cambodia"},{emoji:"🇰🇮",title:"Flag: Kiribati"},{emoji:"🇰🇲",title:"Flag: Comoros"},{emoji:"🇰🇳",title:"Flag: St. Kitts & Nevis"},{emoji:"🇰🇵",title:"Flag: North Korea"},{emoji:"🇰🇷",title:"Flag: South Korea"},{emoji:"🇰🇼",title:"Flag: Kuwait"},{emoji:"🇰🇾",title:"Flag: Cayman Islands"},{emoji:"🇰🇿",title:"Flag: Kazakhstan"},{emoji:"🇱🇦",title:"Flag: Laos"},{emoji:"🇱🇧",title:"Flag: Lebanon"},{emoji:"🇱🇨",title:"Flag: St. Lucia"},{emoji:"🇱🇮",title:"Flag: Liechtenstein"},{emoji:"🇱🇰",title:"Flag: Sri Lanka"},{emoji:"🇱🇷",title:"Flag: Liberia"},{emoji:"🇱🇸",title:"Flag: Lesotho"},{emoji:"🇱🇹",title:"Flag: Lithuania"},{emoji:"🇱🇺",title:"Flag: Luxembourg"},{emoji:"🇱🇻",title:"Flag: Latvia"},{emoji:"🇱🇾",title:"Flag: Libya"},{emoji:"🇲🇦",title:"Flag: Morocco"},{emoji:"🇲🇨",title:"Flag: Monaco"},{emoji:"🇲🇩",title:"Flag: Moldova"},{emoji:"🇲🇪",title:"Flag: Montenegro"},{emoji:"🇲🇫",title:"Flag: St. Martin"},{emoji:"🇲🇬",title:"Flag: Madagascar"},{emoji:"🇲🇭",title:"Flag: Marshall Islands"},{emoji:"🇲🇰",title:"Flag: North Macedonia"},{emoji:"🇲🇱",title:"Flag: Mali"},{emoji:"🇲🇲",title:"Flag: Myanmar (Burma)"},{emoji:"🇲🇳",title:"Flag: Mongolia"},{emoji:"🇲🇴",title:"Flag: Macao Sar China"},{emoji:"🇲🇵",title:"Flag: Northern Mariana Islands"},{emoji:"🇲🇶",title:"Flag: Martinique"},{emoji:"🇲🇷",title:"Flag: Mauritania"},{emoji:"🇲🇸",title:"Flag: Montserrat"},{emoji:"🇲🇹",title:"Flag: Malta"},{emoji:"🇲🇺",title:"Flag: Mauritius"},{emoji:"🇲🇻",title:"Flag: Maldives"},{emoji:"🇲🇼",title:"Flag: Malawi"},{emoji:"🇲🇽",title:"Flag: Mexico"},{emoji:"🇲🇾",title:"Flag: Malaysia"},{emoji:"🇲🇿",title:"Flag: Mozambique"},{emoji:"🇳🇦",title:"Flag: Namibia"},{emoji:"🇳🇨",title:"Flag: New Caledonia"},{emoji:"🇳🇪",title:"Flag: Niger"},{emoji:"🇳🇫",title:"Flag: Norfolk Island"},{emoji:"🇳🇬",title:"Flag: Nigeria"},{emoji:"🇳🇮",title:"Flag: Nicaragua"},{emoji:"🇳🇱",title:"Flag: Netherlands"},{emoji:"🇳🇴",title:"Flag: Norway"},{emoji:"🇳🇵",title:"Flag: Nepal"},{emoji:"🇳🇷",title:"Flag: Nauru"},{emoji:"🇳🇺",title:"Flag: Niue"},{emoji:"🇳🇿",title:"Flag: New Zealand"},{emoji:"🇴🇲",title:"Flag: Oman"},{emoji:"🇵🇦",title:"Flag: Panama"},{emoji:"🇵🇪",title:"Flag: Peru"},{emoji:"🇵🇫",title:"Flag: French Polynesia"},{emoji:"🇵🇬",title:"Flag: Papua New Guinea"},{emoji:"🇵🇭",title:"Flag: Philippines"},{emoji:"🇵🇰",title:"Flag: Pakistan"},{emoji:"🇵🇱",title:"Flag: Poland"},{emoji:"🇵🇲",title:"Flag: St. Pierre & Miquelon"},{emoji:"🇵🇳",title:"Flag: Pitcairn Islands"},{emoji:"🇵🇷",title:"Flag: Puerto Rico"},{emoji:"🇵🇸",title:"Flag: Palestinian Territories"},{emoji:"🇵🇹",title:"Flag: Portugal"},{emoji:"🇵🇼",title:"Flag: Palau"},{emoji:"🇵🇾",title:"Flag: Paraguay"},{emoji:"🇶🇦",title:"Flag: Qatar"},{emoji:"🇷🇪",title:"Flag: Réunion"},{emoji:"🇷🇴",title:"Flag: Romania"},{emoji:"🇷🇸",title:"Flag: Serbia"},{emoji:"🇷🇺",title:"Flag: Russia"},{emoji:"🇷🇼",title:"Flag: Rwanda"},{emoji:"🇸🇦",title:"Flag: Saudi Arabia"},{emoji:"🇸🇧",title:"Flag: Solomon Islands"},{emoji:"🇸🇨",title:"Flag: Seychelles"},{emoji:"🇸🇩",title:"Flag: Sudan"},{emoji:"🇸🇪",title:"Flag: Sweden"},{emoji:"🇸🇬",title:"Flag: Singapore"},{emoji:"🇸🇭",title:"Flag: St. Helena"},{emoji:"🇸🇮",title:"Flag: Slovenia"},{emoji:"🇸🇯",title:"Flag: Svalbard & Jan Mayen"},{emoji:"🇸🇰",title:"Flag: Slovakia"},{emoji:"🇸🇱",title:"Flag: Sierra Leone"},{emoji:"🇸🇲",title:"Flag: San Marino"},{emoji:"🇸🇳",title:"Flag: Senegal"},{emoji:"🇸🇴",title:"Flag: Somalia"},{emoji:"🇸🇷",title:"Flag: Suriname"},{emoji:"🇸🇸",title:"Flag: South Sudan"},{emoji:"🇸🇹",title:"Flag: São Tomé & Príncipe"},{emoji:"🇸🇻",title:"Flag: El Salvador"},{emoji:"🇸🇽",title:"Flag: Sint Maarten"},{emoji:"🇸🇾",title:"Flag: Syria"},{emoji:"🇸🇿",title:"Flag: Eswatini"},{emoji:"🇹🇦",title:"Flag: Tristan Da Cunha"},{emoji:"🇹🇨",title:"Flag: Turks & Caicos Islands"},{emoji:"🇹🇩",title:"Flag: Chad"},{emoji:"🇹🇫",title:"Flag: French Southern Territories"},{emoji:"🇹🇬",title:"Flag: Togo"},{emoji:"🇹🇭",title:"Flag: Thailand"},{emoji:"🇹🇯",title:"Flag: Tajikistan"},{emoji:"🇹🇰",title:"Flag: Tokelau"},{emoji:"🇹🇱",title:"Flag: Timor-Leste"},{emoji:"🇹🇲",title:"Flag: Turkmenistan"},{emoji:"🇹🇳",title:"Flag: Tunisia"},{emoji:"🇹🇴",title:"Flag: Tonga"},{emoji:"🇹🇷",title:"Flag: Turkey"},{emoji:"🇹🇹",title:"Flag: Trinidad & Tobago"},{emoji:"🇹🇻",title:"Flag: Tuvalu"},{emoji:"🇹🇼",title:"Flag: Taiwan"},{emoji:"🇹🇿",title:"Flag: Tanzania"},{emoji:"🇺🇦",title:"Flag: Ukraine"},{emoji:"🇺🇬",title:"Flag: Uganda"},{emoji:"🇺🇲",title:"Flag: U.S. Outlying Islands"},{emoji:"🇺🇳",title:"Flag: United Nations"},{emoji:"🇺🇸",title:"Flag: United States"},{emoji:"🇺🇾",title:"Flag: Uruguay"},{emoji:"🇺🇿",title:"Flag: Uzbekistan"},{emoji:"🇻🇦",title:"Flag: Vatican City"},{emoji:"🇻🇨",title:"Flag: St. Vincent & Grenadines"},{emoji:"🇻🇪",title:"Flag: Venezuela"},{emoji:"🇻🇬",title:"Flag: British Virgin Islands"},{emoji:"🇻🇮",title:"Flag: U.S. Virgin Islands"},{emoji:"🇻🇳",title:"Flag: Vietnam"},{emoji:"🇻🇺",title:"Flag: Vanuatu"},{emoji:"🇼🇫",title:"Flag: Wallis & Futuna"},{emoji:"🇼🇸",title:"Flag: Samoa"},{emoji:"🇽🇰",title:"Flag: Kosovo"},{emoji:"🇾🇪",title:"Flag: Yemen"},{emoji:"🇾🇹",title:"Flag: Mayotte"},{emoji:"🇿🇦",title:"Flag: South Africa"},{emoji:"🇿🇲",title:"Flag: Zambia"},{emoji:"🇿🇼",title:"Flag: Zimbabwe"},{emoji:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",title:"Flag: England"},{emoji:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",title:"Flag: Scotland"},{emoji:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",title:"Flag: Wales"},{emoji:"🏴󠁵󠁳󠁴󠁸󠁿",title:"Flag for Texas (US-TX)"}]},a={People:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <g> <path d="M437.02,74.98C388.667,26.629,324.38,0,256,0S123.333,26.629,74.98,74.98C26.629,123.333,0,187.62,0,256 s26.629,132.668,74.98,181.02C123.333,485.371,187.62,512,256,512s132.667-26.629,181.02-74.98 C485.371,388.668,512,324.38,512,256S485.371,123.333,437.02,74.98z M256,472c-119.103,0-216-96.897-216-216S136.897,40,256,40 s216,96.897,216,216S375.103,472,256,472z"/> </g> </g> <g> <g> <path d="M368.993,285.776c-0.072,0.214-7.298,21.626-25.02,42.393C321.419,354.599,292.628,368,258.4,368 c-34.475,0-64.195-13.561-88.333-40.303c-18.92-20.962-27.272-42.54-27.33-42.691l-37.475,13.99 c0.42,1.122,10.533,27.792,34.013,54.273C171.022,389.074,212.215,408,258.4,408c46.412,0,86.904-19.076,117.099-55.166 c22.318-26.675,31.165-53.55,31.531-54.681L368.993,285.776z"/> </g> </g> <g> <g> <circle cx="168" cy="180.12" r="32"/> </g> </g> <g> <g> <circle cx="344" cy="180.12" r="32"/> </g> </g> <g> </g> <g> </g> <g> </g> </svg>',Nature:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 354.968 354.968" style="enable-background:new 0 0 354.968 354.968;" xml:space="preserve"> <g> <g> <path d="M350.775,341.319c-9.6-28.4-20.8-55.2-34.4-80.8c0.4-0.4,0.8-1.2,1.6-1.6c30.8-34.8,44-83.6,20.4-131.6 c-20.4-41.6-65.6-76.4-124.8-98.8c-57.2-22-127.6-32.4-200.4-27.2c-5.6,0.4-10,5.2-9.6,10.8c0.4,2.8,1.6,5.6,4,7.2 c36.8,31.6,50,79.2,63.6,126.8c8,28,15.6,55.6,28.4,81.2c0,0.4,0.4,0.4,0.4,0.8c30.8,59.6,78,81.2,122.8,78.4 c18.4-1.2,36-6.4,52.4-14.4c9.2-4.8,18-10.4,26-16.8c11.6,23.2,22,47.2,30.4,72.8c1.6,5.2,7.6,8,12.8,6.4 C349.975,352.119,352.775,346.519,350.775,341.319z M271.175,189.319c-34.8-44.4-78-82.4-131.6-112.4c-4.8-2.8-11.2-1.2-13.6,4 c-2.8,4.8-1.2,11.2,4,13.6c50.8,28.8,92.4,64.8,125.6,107.2c13.2,17.2,25.2,35.2,36,54c-8,7.6-16.4,13.6-25.6,18 c-14,7.2-28.8,11.6-44.4,12.4c-37.6,2.4-77.2-16-104-67.6v-0.4c-11.6-24-19.2-50.8-26.8-78c-12.4-43.2-24.4-86.4-53.6-120.4 c61.6-1.6,120.4,8.4,169.2,27.2c54.4,20.8,96,52,114,88.8c18.8,38,9.2,76.8-14.4,105.2 C295.575,222.919,283.975,205.719,271.175,189.319z"/> </g> </g> <g> </g> <g> </g> <g> </g> </svg>',"Food-dring":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 295 295" xmlns:xlink="http://www.w3.org/1999/xlink" enable-background="new 0 0 295 295"> <g> <path d="M25,226.011v16.511c0,8.836,7.465,16.489,16.302,16.489h214.063c8.837,0,15.636-7.653,15.636-16.489v-16.511H25z"/> <path d="m271.83,153.011c-3.635-66-57.634-117.022-123.496-117.022-65.863,0-119.863,51.021-123.498,117.022h246.994zm-198.497-50.99c-4.557,0-8.25-3.693-8.25-8.25 0-4.557 3.693-8.25 8.25-8.25 4.557,0 8.25,3.693 8.25,8.25 0,4.557-3.693,8.25-8.25,8.25zm42,33c-4.557,0-8.25-3.693-8.25-8.25 0-4.557 3.693-8.25 8.25-8.25 4.557,0 8.25,3.693 8.25,8.25 0,4.557-3.693,8.25-8.25,8.25zm33.248-58c-4.557,0-8.25-3.693-8.25-8.25 0-4.557 3.693-8.25 8.25-8.25 4.557,0 8.25,3.693 8.25,8.25 0,4.557-3.693,8.25-8.25,8.25zm32.752,58c-4.557,0-8.25-3.693-8.25-8.25 0-4.557 3.693-8.25 8.25-8.25 4.557,0 8.25,3.693 8.25,8.25 0,4.557-3.693,8.25-8.25,8.25zm50.25-41.25c0,4.557-3.693,8.25-8.25,8.25-4.557,0-8.25-3.693-8.25-8.25 0-4.557 3.693-8.25 8.25-8.25 4.557,0 8.25,3.694 8.25,8.25z"/> <path d="m275.414,169.011h-0.081-254.825c-11.142,0-20.508,8.778-20.508,19.921v0.414c0,11.143 9.366,20.665 20.508,20.665h254.906c11.142,0 19.586-9.523 19.586-20.665v-0.414c0-11.143-8.444-19.921-19.586-19.921z"/> </g> </svg>',Activity:'<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path id="XMLID_272_" d="m437.02 74.98c-48.353-48.351-112.64-74.98-181.02-74.98s-132.667 26.629-181.02 74.98c-48.351 48.353-74.98 112.64-74.98 181.02s26.629 132.667 74.98 181.02c48.353 48.351 112.64 74.98 181.02 74.98s132.667-26.629 181.02-74.98c48.351-48.353 74.98-112.64 74.98-181.02s-26.629-132.667-74.98-181.02zm-407.02 181.02c0-57.102 21.297-109.316 56.352-149.142 37.143 45.142 57.438 101.499 57.438 160.409 0 53.21-16.914 105.191-47.908 148.069-40.693-40.891-65.882-97.226-65.882-159.336zm88.491 179.221c35.75-48.412 55.3-107.471 55.3-167.954 0-66.866-23.372-130.794-66.092-181.661 39.718-34.614 91.603-55.606 148.301-55.606 56.585 0 108.376 20.906 148.064 55.396-42.834 50.9-66.269 114.902-66.269 181.872 0 60.556 19.605 119.711 55.448 168.158-38.077 29.193-85.665 46.574-137.243 46.574-51.698 0-99.388-17.461-137.509-46.779zm297.392-19.645c-31.104-42.922-48.088-95.008-48.088-148.309 0-59.026 20.367-115.47 57.638-160.651 35.182 39.857 56.567 92.166 56.567 149.384 0 62.23-25.284 118.665-66.117 159.576z"/></svg>',"Travel-places":'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve"> <g><g><path d="M846.5,153.5C939,246.1,990,369.1,990,500c0,130.9-51,253.9-143.5,346.5C753.9,939,630.9,990,500,990c-130.9,0-253.9-51-346.5-143.5C61,753.9,10,630.9,10,500c0-130.9,51-253.9,143.5-346.5C246.1,61,369.1,10,500,10C630.9,10,753.9,61,846.5,153.5z M803.2,803.2c60.3-60.3,100.5-135.5,117-217.3c-12.9,19-25.2,26-32.9-16.5c-7.9-69.3-71.5-25-111.5-49.6c-42.1,28.4-136.8-55.2-120.7,39.1c24.8,42.5,134-56.9,79.6,33.1c-34.7,62.8-126.9,201.9-114.9,274c1.5,105-107.3,21.9-144.8-12.9c-25.2-69.8-8.6-191.8-74.6-225.9c-71.6-3.1-133-9.6-160.8-89.6c-16.7-57.3,17.8-142.5,79.1-155.7c89.8-56.4,121.9,66.1,206.1,68.4c26.2-27.4,97.4-36.1,103.4-66.8c-55.3-9.8,70.1-46.5-5.3-67.4c-41.6,4.9-68.4,43.1-46.3,75.6C496,410.3,493.5,274.8,416,317.6c-2,67.6-126.5,21.9-43.1,8.2c28.7-12.5-46.8-48.8-6-42.2c20-1.1,87.4-24.7,69.2-40.6c37.5-23.3,69.1,55.8,105.8-1.8c26.5-44.3-11.1-52.5-44.4-30c-18.7-21,33.1-66.3,78.8-85.9c15.2-6.5,29.8-10.1,40.9-9.1c23,26.6,65.6,31.2,67.8-3.2c-57-27.3-119.9-41.7-185-41.7c-93.4,0-182.3,29.7-255.8,84.6c19.8,9.1,31,20.3,11.9,34.7c-14.8,44.1-74.8,103.2-127.5,94.9c-27.4,47.2-45.4,99.2-53.1,153.6c44.1,14.6,54.3,43.5,44.8,53.2c-22.5,19.6-36.3,47.4-43.4,77.8C91.3,658,132.6,739,196.8,803.2c81,81,188.6,125.6,303.2,125.6C614.5,928.8,722.2,884.2,803.2,803.2z"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></g> </svg>',Objects:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 461.977 461.977" style="enable-background:new 0 0 461.977 461.977;" xml:space="preserve"> <g> <path d="M398.47,248.268L346.376,18.543C344.136,8.665,333.287,0,323.158,0H138.821c-10.129,0-20.979,8.665-23.219,18.543 L63.507,248.268c-0.902,3.979-0.271,7.582,1.775,10.145c2.047,2.564,5.421,3.975,9.501,3.975h51.822v39.108 c-6.551,3.555-11,10.493-11,18.47c0,11.598,9.402,21,21,21c11.598,0,21-9.402,21-21c0-7.978-4.449-14.916-11-18.47v-39.108h240.587 c4.079,0,7.454-1.412,9.501-3.975C398.742,255.849,399.372,252.247,398.47,248.268z"/> <path d="M318.735,441.977h-77.747V282.388h-20v159.588h-77.747c-5.523,0-10,4.477-10,10c0,5.523,4.477,10,10,10h175.494 c5.522,0,10-4.477,10-10C328.735,446.454,324.257,441.977,318.735,441.977z"/> </g> <g> </g> <g> </g> <g> </g> </svg>',Symbols:'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 30.487 30.486" style="enable-background:new 0 0 30.487 30.486;" xml:space="preserve"> <g> <path d="M28.866,17.477h-2.521V15.03h-2.56c0.005-2.8-0.304-5.204-0.315-5.308l-0.088-0.67L22.75,8.811 c-0.021-0.008-0.142-0.051-0.317-0.109l2.287-8.519L19,4.836L15.23,0.022V0l-0.009,0.01L15.215,0v0.021l-3.769,4.815L5.725,0.183 l2.299,8.561c-0.157,0.051-0.268,0.09-0.288,0.098L7.104,9.084l-0.088,0.67c-0.013,0.104-0.321,2.508-0.316,5.308h-2.56v2.446H1.62 l0.447,2.514L1.62,22.689h6.474c1.907,2.966,5.186,7.549,7.162,7.797v-0.037c1.979-0.283,5.237-4.838,7.137-7.79h6.474l-0.447-2.67 L28.866,17.477z M21.137,20.355c-0.422,1.375-4.346,6.949-5.907,7.758v0.015c-1.577-0.853-5.461-6.373-5.882-7.739 c-0.002-0.043-0.005-0.095-0.008-0.146l11.804-0.031C21.141,20.264,21.139,20.314,21.137,20.355z M8.972,15.062 c-0.003-1.769,0.129-3.403,0.219-4.298c0.98-0.271,3.072-0.723,6.065-0.78v-0.03c2.979,0.06,5.063,0.51,6.04,0.779 c0.09,0.895,0.223,2.529,0.219,4.298L8.972,15.062z"/> </g> <g> </g> <g> </g> <g> </g> </svg>',Flags:'<svg viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"><g id="Page-1" fill-rule="evenodd"><g id="037---Waypoint-Flag" fill-rule="nonzero" transform="translate(0 -1)"><path id="Shape" d="m59.0752 28.5054c-3.7664123-1.873859-7.2507049-4.2678838-10.3506-7.1118 1.5923634-6.0211307 2.7737841-12.14349669 3.5361-18.3248.1788-1.44-.623-1.9047-.872-2.0126-.7016942-.26712004-1.4944908-.00419148-1.8975.6293-5.4726 6.5479-12.9687 5.8008-20.9053 5.0054-7.9985-.8-16.2506-1.6116-22.3684 5.4114-.85552122-1.067885-2.26533581-1.5228479-3.5837-1.1565l-.1377.0386c-1.81412367.5095218-2.87378593 2.391025-2.3691 4.2065l12.2089 43.6891c.3541969 1.2645215 1.5052141 2.1399137 2.8184 2.1435.2677318-.0003961.5341685-.0371657.792-.1093l1.0683-.2984h.001c.7485787-.2091577 1.3833789-.7071796 1.7646969-1.3844635.381318-.677284.4779045-1.478326.2685031-2.2268365l-3.7812-13.5327c5.5066-7.0807 13.18-6.3309 21.2988-5.52 8.1094.81 16.4863 1.646 22.64-5.7129l.0029-.0039c.6044387-.7534187.8533533-1.7315007.6826-2.6822-.0899994-.4592259-.3932698-.8481635-.8167-1.0474zm-42.0381 29.7446c-.1201754.2157725-.3219209.3742868-.56.44l-1.0684.2983c-.4949157.1376357-1.0078362-.1513714-1.1465-.646l-12.2095-43.6895c-.20840349-.7523825.23089143-1.5316224.9825-1.7428l.1367-.0381c.12366014-.0348192.25153137-.0524183.38-.0523.63429117.0010181 1.19083557.4229483 1.3631 1.0334l.1083.3876v.0021l6.2529 22.3755 5.8468 20.9238c.0669515.2380103.0360256.4929057-.0859.708zm40.6329-27.2925c-5.4736 6.5459-12.9707 5.7974-20.9043 5.0039-7.9033-.79-16.06-1.605-22.1552 5.1558l-5.463-19.548-2.0643-7.3873c5.5068-7.0794 13.1796-6.3119 21.3045-5.5007 7.7148.7695 15.6787 1.5664 21.7373-4.7095-.7467138 5.70010904-1.859683 11.3462228-3.332 16.9033-.1993066.7185155.0267229 1.4878686.583 1.9844 3.1786296 2.9100325 6.7366511 5.3762694 10.5771 7.3315-.0213812.2768572-.1194065.5422977-.2831.7666z"/></g></g></svg>'},l='<svg style="fill: #646772;" version="1.1" width="17" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 487.95 487.95" style="enable-background:new 0 0 487.95 487.95;" xml:space="preserve"> <g> <g> <path d="M481.8,453l-140-140.1c27.6-33.1,44.2-75.4,44.2-121.6C386,85.9,299.5,0.2,193.1,0.2S0,86,0,191.4s86.5,191.1,192.9,191.1 c45.2,0,86.8-15.5,119.8-41.4l140.5,140.5c8.2,8.2,20.4,8.2,28.6,0C490,473.4,490,461.2,481.8,453z M41,191.4 c0-82.8,68.2-150.1,151.9-150.1s151.9,67.3,151.9,150.1s-68.2,150.1-151.9,150.1S41,274.1,41,191.4z"/> </g> </g> <g> </g> <g> </g> </svg>',h='<svg style="height: 11px !important;" viewBox="0 0 52 52" xmlns="http://www.w3.org/2000/svg"><path d="M28.94,26,51.39,3.55A2.08,2.08,0,0,0,48.45.61L26,23.06,3.55.61A2.08,2.08,0,0,0,.61,3.55L23.06,26,.61,48.45A2.08,2.08,0,0,0,2.08,52a2.05,2.05,0,0,0,1.47-.61L26,28.94,48.45,51.39a2.08,2.08,0,0,0,2.94-2.94Z"/></svg>',c='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 512.006 512.006" xml:space="preserve"> <g> <g> <path d="M508.247,246.756l-72.457-72.465c-5.009-5.009-13.107-5.009-18.116,0c-5.009,5.009-5.009,13.107,0,18.116l50.594,50.594 H268.811V43.748l50.594,50.594c5.009,5.009,13.107,5.009,18.116,0c5.009-5.009,5.009-13.107,0-18.116L265.056,3.761 c-5.001-5.009-13.107-5.009-18.116,0l-72.457,72.457c-5.009,5.009-5.009,13.107,0,18.116c5.001,5.009,13.107,5.009,18.116,0 l50.594-50.594v199.27H43.744l50.594-50.594c5.009-5.009,5.009-13.107,0-18.116c-5.009-5.009-13.107-5.009-18.116,0L3.757,246.756 c-5.009,5.001-5.009,13.107,0,18.116l72.465,72.457c5.009,5.009,13.107,5.009,18.116,0c5.009-5.001,5.009-13.107,0-18.116 l-50.594-50.594h199.458v199.646l-50.594-50.594c-5.009-5.001-13.107-5.001-18.116,0c-5.009,5.009-5.009,13.107,0,18.116 l72.457,72.465c5,5,13.107,5,18.116,0l72.465-72.457c5.009-5.009,5.009-13.107,0-18.116c-5.009-5-13.107-5-18.116,0 l-50.594,50.594V268.627h199.458l-50.594,50.594c-5.009,5.009-5.009,13.107,0,18.116s13.107,5.009,18.116,0l72.465-72.457 C513.257,259.872,513.257,251.765,508.247,246.756z"/> </g> </g> <g> </g> </svg>',d={styles:()=>{const e=`\n                <style>\n                    .fg-emoji-container {\n                        position: fixed;\n                        top: 0;\n                        left: 0;\n                        width: ${n}px;\n                        height: 400px;\n                        border-radius: 5px;\n                        box-shadow: 0px 3px 20px 0px rgba(0, 0, 0, 0.62);\n                        background-color: white;\n                        overflow: hidden;\n                        z-index: 9999;\n                    }\n\n                    .fg-emoji-container svg {\n                        max-width: 100%;\n                        box-sizing: border-box;\n                        width: 15px;\n                        height: 15px;\n                    }\n\n                    .fg-emoji-picker-category-title {\n                        display: block;\n                        margin: 20px 0 0 0;\n                        padding: 0 10px 5px 10px;\n                        font-size: 16px;\n                        font-family: sans-serif;\n                        font-weight: bold;\n                        flex: 0 0 calc(100% - 20px);\n                        border-bottom: 1px solid #ededed;\n                    }\n\n                    .fg-emoji-nav {\n                        background-color: #646772;\n                    }\n\n                    .fg-emoji-nav li a svg {\n                        transition: all .2s ease;\n                        fill: white;\n                    }\n\n                    .fg-emoji-nav li:hover a svg {\n                        fill: black;\n                    }\n\n                    .fg-emoji-nav ul {\n                        display: flex;\n                        flex-wrap: wrap;\n                        list-style: none;\n                        margin: 0;\n                        padding: 0;\n                        border-bottom: 1px solid #dbdbdb;\n                    }\n\n                    .fg-emoji-nav ul li {\n                        flex: 1;\n                    }\n\n                    .fg-emoji-nav ul li a {\n                        display: flex;\n                        justify-content: center;\n                        align-items: center;\n                        height: 40px;\n                        transition: all .2s ease;\n                    }\n\n                    .fg-emoji-nav ul li a:hover {\n                        background-color: #e9ebf1;\n                    }\n\n                    .fg-emoji-nav ul li.active a {\n                        background-color: #e9ebf1;\n                    }\n\n                    .fg-emoji-nav ul li.emoji-picker-nav-active a {\n                        background-color: #e9ebf1;\n                    }\n\n                    .fg-emoji-nav ul li.emoji-picker-nav-active a svg {\n                        fill: #646772;\n                    }\n\n                    .fg-emoji-picker-move {\n                        /* pointer-events: none; */\n                        cursor: move;\n                    }\n\n                    .fg-picker-special-buttons a {\n                        background-color: ${this.options.specialButtons?this.options.specialButtons:"#ed5e28"};\n                    }\n\n                    .fg-picker-special-buttons:last-child a {\n                        box-shadow: inset 1px 0px 0px 0 rgba(0, 0, 0, 0.11);\n                    }\n\n                    .fg-emoji-list {\n                        list-style: none;\n                        margin: 0;\n                        padding: 0;\n                        overflow-y: scroll;\n                        overflow-x: hidden;\n                        height: 323px;\n                    }\n\n                    .fg-emoji-picker-category-wrapper {\n                        display: flex;\n                        flex-wrap: wrap;\n                        flex: 1;\n                    }\n\n                    .fg-emoji-list li {\n                        position: relative;\n                        display: flex;\n                        flex-wrap: wrap;\n                        justify-content: center;\n                        align-items: center;\n                        flex: 0 0 calc(100% / 6);\n                        height: 50px;\n                    }\n\n                    .fg-emoji-list li a {\n                        position: absolute;\n                        width: 100%;\n                        height: 100%;\n                        text-decoration: none;\n                        display: flex;\n                        flex-wrap: wrap;\n                        justify-content: center;\n                        align-items: center;\n                        font-size: 23px;\n                        background-color: #ffffff;\n                        border-radius: 3px;\n                        transition: all .3s ease;\n                    }\n\n                    .fg-emoji-list li a:hover {\n                        background-color: #ebebeb;\n                    }\n\n                    .fg-emoji-picker-search {\n                        position: relative;\n                    }\n\n                    .fg-emoji-picker-search input {\n                        border: none;\n                        box-shadow: 0 0 0 0;\n                        outline: none;\n                        width: calc(100% - 30px);\n                        display: block;\n                        padding: 10px 15px;\n                        background-color: #f3f3f3;\n                    }\n\n                    .fg-emoji-picker-search .fg-emoji-picker-search-icon {\n                        position: absolute;\n                        right: 0;\n                        top: 0;\n                        width: 40px;\n                        height: 100%;\n                        display: flex;\n                        align-items: center;\n                        justify-content: center;\n                    }\n\n                </style>\n            `;document.head.insertAdjacentHTML("beforeend",e)},position:()=>{const e=window.event,t=e.clientX,i=e.clientY,r={};return r.left=t,r.top=i,r},rePositioning:e=>{e.getBoundingClientRect().right>window.screen.availWidth&&(e.style.left=window.screen.availWidth-e.offsetWidth+"px"),window.innerHeight>400&&e.getBoundingClientRect().bottom>window.innerHeight&&(e.style.top=window.innerHeight-e.offsetHeight+"px")},render:(e,s)=>{t=void 0;const n=this.options.trigger.findIndex((e=>e.selector===s));this.insertInto=this.options.trigger[n].insertInto;const u=d.position();if(!i.length)for(const e in o)if(o.hasOwnProperty.call(o,e)){const t=o[e];r+=`<li>\n                            <a title="${e}" href="#${e}">${a[e]}</a>\n                        </li>`,i+=`<div class="fg-emoji-picker-category-wrapper" id="${e}">`,i+=`<p class="fg-emoji-picker-category-title">${e}</p>`,t.forEach((e=>{i+=`<li data-title="${e.title.toLowerCase()}">\n                                    <a title="${e.title}" href="#">${e.emoji}</a>\n                                </li>`})),i+="</div>"}document.querySelector(".fg-emoji-container")&&this.lib(".fg-emoji-container").remove();const p=`\n                <div class="fg-emoji-container" style="left: ${u.left}px; top: ${u.top}px;">\n                    <nav class="fg-emoji-nav">\n                        <ul>\n                            ${r}\n\n                            <li class="fg-picker-special-buttons" id="fg-emoji-picker-move"><a class="fg-emoji-picker-move" href="#">${c}</a></li>\n                            ${this.options.closeButton?'<li class="fg-picker-special-buttons"><a id="fg-emoji-picker-close-button" href="#">'+h+"</a></li>":""}\n                        </ul>\n                    </nav>\n\n                    <div class="fg-emoji-picker-search">\n                        <input type="text" placeholder="Search" autofocus />\n\n                        <span class="fg-emoji-picker-search-icon">${l}</sapn>\n                    </div>\n\n                    <div>\n                        \x3c!--<div class="fg-emoji-picker-loader-animation">\n                            <div class="spinner">\n                                <div class="bounce1"></div>\n                                <div class="bounce2"></div>\n                                <div class="bounce3"></div>\n                            </div>\n                        </div>--\x3e\n\n                        <ul class="fg-emoji-list">\n                            ${i}\n                        </ul>\n                    </div>\n                </div>\n            `;document.body.insertAdjacentHTML("beforeend",p),d.rePositioning(document.querySelector(".fg-emoji-container")),setTimeout((()=>{document.querySelector(".fg-emoji-picker-search input").focus()}),500)},closePicker:e=>{e.preventDefault(),this.lib(".fg-emoji-container").remove(),s=!1},checkPickerExist(e){!document.querySelector(".fg-emoji-container")||e.target.closest(".fg-emoji-container")||s||d.closePicker.call(this,e)},setCaretPosition:(e,t)=>{var i=e;if(null!=i)if(i.createTextRange){var r=i.createTextRange();r.move("character",t),r.select()}else i.selectionStart?(i.focus(),i.setSelectionRange(t,t)):i.focus()},insert:e=>{e.preventDefault();const t=e.target.innerText.trim(),i=document.querySelectorAll(this.insertInto),r=t;i.forEach((e=>{if(document.selection)e.focus(),sel=document.selection.createRange(),sel.text=r;else if(e.selectionStart||"0"==e.selectionStart){const t=e.selectionStart,i=e.selectionEnd;e.value=e.value.substring(0,t)+r+e.value.substring(i,e.value.length),d.setCaretPosition(e,t+2)}else e.value+=r,e.focus()}))},categoryNav:e=>{e.preventDefault();const t=e.target.closest("a");if(t.getAttribute("id")&&"fg-emoji-picker-close-button"===t.getAttribute("id"))return!1;if(t.className.includes("fg-emoji-picker-move"))return!1;const i=t.getAttribute("href"),r=document.querySelector(".fg-emoji-list").querySelector(`${i}`);this.lib(".fg-emoji-nav li").removeClass("emoji-picker-nav-active"),t.closest("li").classList.add("emoji-picker-nav-active"),r.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})},search:e=>{const i=e.target.value.trim();t||(t=Array.from(document.querySelectorAll(".fg-emoji-picker-category-wrapper li"))),t.filter((e=>{e.getAttribute("data-title").match(i)?e.style.display="":e.style.display="none"}))},mouseDown:e=>{e.preventDefault(),s=!0},mouseUp:e=>{e.preventDefault(),s=!1},mouseMove:e=>{if(s){e.preventDefault();const t=document.querySelector(".fg-emoji-container");t.style.left=e.clientX-320+"px",t.style.top=e.clientY-10+"px"}}},u=()=>{this.lib(document.body).on("click",d.closePicker,"#fg-emoji-picker-close-button"),this.lib(document.body).on("click",d.checkPickerExist),this.lib(document.body).on("click",d.render,this.trigger),this.lib(document.body).on("click",d.insert,".fg-emoji-list a"),this.lib(document.body).on("click",d.categoryNav,".fg-emoji-nav a"),this.lib(document.body).on("input",d.search,".fg-emoji-picker-search input"),this.lib(document).on("mousedown",d.mouseDown,"#fg-emoji-picker-move"),this.lib(document).on("mouseup",d.mouseUp,"#fg-emoji-picker-move"),this.lib(document).on("mousemove",d.mouseMove)};(()=>{d.styles(),u.call(this)})()};
