import{a as ae}from"./_commonjsHelpers-C4iS2aBk.js";function oe(s,u){for(var f=0;f<u.length;f++){const c=u[f];if(typeof c!="string"&&!Array.isArray(c)){for(const r in c)if(r!=="default"&&!(r in s)){const e=Object.getOwnPropertyDescriptor(c,r);e&&Object.defineProperty(s,r,e.get?e:{enumerable:!0,get:()=>c[r]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}var Z={},$;function le(){if($)return Z;$=1;var s=s||{};return window.SNAKE=s,s.addEventListener=function(){if(window.addEventListener)return function(u,f,c,r){u.addEventListener(f,c,r)};if(window.attachEvent)return function(u,f,c){u.attachEvent("on"+f,c)}}(),s.removeEventListener=function(){if(window.removeEventListener)return function(u,f,c,r){u.removeEventListener(f,c,r)};if(window.detachEvent)return function(u,f,c){u.detachEvent("on"+f,c)}}(),s.Snake=s.Snake||function(){var u=[],f=function(){this.elm=null,this.elmStyle=null,this.row=-1,this.col=-1,this.xPos=-1e3,this.yPos=-1e3,this.next=null,this.prev=null};function c(r){var e=0,t=0,m;for(m in r)r[m].elm.currentStyle?t=parseFloat(r[m].elm.style["z-index"],10):window.getComputedStyle&&(t=parseFloat(document.defaultView.getComputedStyle(r[m].elm,null).getPropertyValue("z-index"),10)),!isNaN(t)&&t>e&&(e=t);return e+1}return function(r){if(!r||!r.playingBoard)return;localStorage.jsSnakeHighScore===void 0&&localStorage.setItem("jsSnakeHighScore",0);var e=this,t=r.playingBoard,m=5,o=1,h=-1,B=!0,S=!0,E=-1,_=[0,1,0,-1],T=[-1,0,1,0],k=[],N=[],g=80,M=!1,d=!1,y=document.getElementById("selectMode");y&&y.addEventListener("change",function(a){a=a||{};var n=a.target?parseInt(a.target.value):75;(isNaN(n)||n<25)&&(n=75),g=n,setTimeout(function(){document.getElementById("game-area").focus()},10)}),e.snakeBody={},e.snakeBody.b0=new f,e.snakeBody.b0.row=r.startRow||1,e.snakeBody.b0.col=r.startCol||1,e.snakeBody.b0.xPos=e.snakeBody.b0.row*t.getBlockWidth(),e.snakeBody.b0.yPos=e.snakeBody.b0.col*t.getBlockHeight(),e.snakeBody.b0.elm=b(),e.snakeBody.b0.elmStyle=e.snakeBody.b0.elm.style,t.getBoardContainer().appendChild(e.snakeBody.b0.elm),e.snakeBody.b0.elm.style.left=e.snakeBody.b0.xPos+"px",e.snakeBody.b0.elm.style.top=e.snakeBody.b0.yPos+"px",e.snakeBody.b0.next=e.snakeBody.b0,e.snakeBody.b0.prev=e.snakeBody.b0,e.snakeLength=1,e.snakeHead=e.snakeBody.b0,e.snakeTail=e.snakeBody.b0,e.snakeHead.elm.className=e.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),e.snakeHead.elm.id="snake-snakehead-alive",e.snakeHead.elm.className+=" snake-snakebody-alive";function b(){var a=document.createElement("div");return a.className="snake-snakebody-block",a.style.left="-1000px",a.style.top="-1000px",a.style.width=t.getBlockWidth()+"px",a.style.height=t.getBlockHeight()+"px",a}function H(a){for(var n,i=b(),v=1;v<a;v++)n=new f,n.elm=i.cloneNode(!0),n.elmStyle=n.elm.style,t.getBoardContainer().appendChild(n.elm),u[u.length]=n;n=new f,n.elm=i,t.getBoardContainer().appendChild(n.elm),u[u.length]=n}function L(){var a=localStorage.jsSnakeHighScore;e.snakeLength>a&&(alert("Congratulations! You have beaten your previous high score, which was "+a+"."),localStorage.setItem("jsSnakeHighScore",e.snakeLength))}function O(a){L(),e.snakeHead.elm.style.zIndex=c(e.snakeBody),e.snakeHead.elm.className=e.snakeHead.elm.className.replace(/\bsnake-snakebody-alive\b/,""),e.snakeHead.elm.className+=" snake-snakebody-dead",M=!0,a()}e.setPaused=function(a){d=a},e.getPaused=function(){return d},e.handleArrowKeys=function(a){if(M||d&&!r.premoveOnPause)return;e.snakeLength;let n=-1;switch(a){case 37:case 65:n=3;break;case 38:case 87:n=0;break;case 39:case 68:n=1;break;case 40:case 83:n=2;break}E!==o&&(h=n),(Math.abs(n-o)!==2&&(B||d)||S)&&(E=n,B=!1,S=!1)},e.go=function(){var a=e.snakeHead,n=e.snakeTail,i=t.grid;if(d===!0){setTimeout(function(){e.go()},g);return}if(e.snakeTail=n.prev,e.snakeHead=n,i[n.row]&&i[n.row][n.col]&&(i[n.row][n.col]=0),E!==-1&&(o=E,h!==-1&&(E=h,h=-1)),B=!0,n.col=a.col+_[o],n.row=a.row+T[o],n.xPos=a.xPos+k[o],n.yPos=a.yPos+N[o],n.elmStyle||(n.elmStyle=n.elm.style),n.elmStyle.left=n.xPos+"px",n.elmStyle.top=n.yPos+"px",e.snakeLength>1&&(n.elm.id="snake-snakehead-alive",a.elm.id=""),i[n.row][n.col]===0)i[n.row][n.col]=1,setTimeout(function(){e.go()},g);else if(i[n.row][n.col]>0)e.handleDeath();else if(i[n.row][n.col]===t.getGridFoodValue()){if(i[n.row][n.col]=1,!e.eatFood()){e.handleWin();return}setTimeout(function(){e.go()},g)}},e.eatFood=function(){u.length<=m&&H(m*2);for(var a=u.splice(0,m),n=a.length,i,v=e.snakeTail;n--;)i="b"+e.snakeLength++,e.snakeBody[i]=a[n],e.snakeBody[i].prev=v,e.snakeBody[i].elm.className=e.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),e.snakeBody[i].elm.className+=" snake-snakebody-alive",v.next=e.snakeBody[i],v=e.snakeBody[i];if(e.snakeTail=e.snakeBody[i],e.snakeTail.next=e.snakeHead,e.snakeHead.prev=e.snakeTail,!t.foodEaten())return!1;var V=document.getElementById("selectMode"),U=V.options[V.selectedIndex];return U.text.localeCompare("Rush")==0&&(g>30?g-=5:g=30),!0},e.handleDeath=function(){var a=document.getElementById("selectMode").value;g=parseInt(a),O(t.handleDeath)},e.handleWin=function(){O(t.handleWin)},e.rebirth=function(){M=!1,B=!0,S=!0,h=-1},e.reset=function(){if(M!==!1){for(var a=[],n=e.snakeHead.next,i;n!==e.snakeHead;)i=n.next,n.prev=null,n.next=null,a.push(n),n=i;e.snakeHead.next=e.snakeHead,e.snakeHead.prev=e.snakeHead,e.snakeTail=e.snakeHead,e.snakeLength=1;for(var v=0;v<a.length;v++)a[v].elm.style.left="-1000px",a[v].elm.style.top="-1000px",a[v].elm.className=e.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),a[v].elm.className+=" snake-snakebody-alive";u.concat(a),e.snakeHead.elm.className=e.snakeHead.elm.className.replace(/\bsnake-snakebody-dead\b/,""),e.snakeHead.elm.className+=" snake-snakebody-alive",e.snakeHead.elm.id="snake-snakehead-alive",e.snakeHead.row=r.startRow||1,e.snakeHead.col=r.startCol||1,e.snakeHead.xPos=e.snakeHead.row*t.getBlockWidth(),e.snakeHead.yPos=e.snakeHead.col*t.getBlockHeight(),e.snakeHead.elm.style.left=e.snakeHead.xPos+"px",e.snakeHead.elm.style.top=e.snakeHead.yPos+"px"}},H(m*2),k[0]=0,k[1]=t.getBlockWidth(),k[2]=0,k[3]=-1*t.getBlockWidth(),N[0]=-1*t.getBlockHeight(),N[1]=0,N[2]=t.getBlockHeight(),N[3]=0}}(),s.Food=s.Food||function(){var u=0;function f(c,r){return Math.floor(Math.random()*(r+1-c))+c}return function(c){if(!(!c||!c.playingBoard)){var r=this,e=c.playingBoard,t,m,o=u++,h=document.createElement("div");h.setAttribute("id","snake-food-"+o),h.className="snake-food-block",h.style.width=e.getBlockWidth()+"px",h.style.height=e.getBlockHeight()+"px",h.style.left="-1000px",h.style.top="-1000px",e.getBoardContainer().appendChild(h),r.getFoodElement=function(){return h},r.randomlyPlaceFood=function(){e.grid[t]&&e.grid[t][m]===e.getGridFoodValue()&&(e.grid[t][m]=0);for(var B=0,S=0,E=0,_=e.grid.length-1,T=e.grid[0].length-1;e.grid[B][S]!==0;)if(B=f(1,_),S=f(1,T),E++,E>2e4)return!1;return e.grid[B][S]=e.getGridFoodValue(),t=B,m=S,h.style.top=B*e.getBlockHeight()+"px",h.style.left=S*e.getBlockWidth()+"px",!0}}}}(),s.Board=s.Board||function(){var u=0;function f(e){var t=0,m=0,o;for(o in e)e[o].elm.currentStyle?m=parseFloat(e[o].elm.style["z-index"],10):window.getComputedStyle&&(m=parseFloat(document.defaultView.getComputedStyle(e[o].elm,null).getPropertyValue("z-index"),10)),!isNaN(m)&&m>t&&(t=m);return t+1}function c(){var e=0;return typeof window.innerWidth=="number"?e=window.innerWidth:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?e=document.documentElement.clientWidth:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientWidth),e}function r(){var e=0;return typeof window.innerHeight=="number"?e=window.innerHeight:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?e=document.documentElement.clientHeight:document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientHeight),e}return function(e){var t=this,m=u++,o=e||{},h=250,B=250,S=20,E=20,_=-1,T,k,N=1,g,M=!1,d,y,b,H,L,O,a,n,i;t.grid=[];function v(){y=document.createElement("div"),y.setAttribute("id","playingField"),y.className="snake-playing-field",s.addEventListener(y,"click",function(){d.focus()},!1),i=document.createElement("div"),i.className="snake-pause-screen",i.innerHTML="<div style='padding:10px;'>[Paused]<p/>Press [space] to unpause.</div>",b=document.createElement("div"),b.className="snake-panel-component",b.innerHTML="<a href='http://patorjk.com/blog/software/' class='snake-link'>more patorjk.com apps</a> - <a href='https://github.com/patorjk/JavaScript-Snake' class='snake-link'>source code</a> - <a href='https://www.youtube.com/channel/UCpcCLm9y6CsjHUrCvJHYHUA' class='snake-link'>pat's youtube</a>",H=document.createElement("div"),H.className="snake-panel-component",H.innerHTML="Length: 1",L=document.createElement("div"),L.className="snake-panel-component",L.innerHTML="Highscore: "+(localStorage.jsSnakeHighScore||0),O=ee(),a=te(),n=ne(),s.addEventListener(d,"keyup",function(p){if(!p)var p=window.event;return p.cancelBubble=!0,p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault(),!1},!1),d.className="snake-game-container",i.style.zIndex=1e4,d.appendChild(i),d.appendChild(y),d.appendChild(b),d.appendChild(H),d.appendChild(L),d.appendChild(O),d.appendChild(a),d.appendChild(n),k=new s.Snake({playingBoard:t,startRow:2,startCol:2,premoveOnPause:o.premoveOnPause}),T=new s.Food({playingBoard:t}),O.style.zIndex=1e3}function V(){return h*t.getBlockWidth()}function U(){return B*t.getBlockHeight()}function ee(){var l=document.createElement("div");l.id="sbWelcome"+m,l.className="snake-welcome-dialog";var p=document.createElement("div"),I="";o.fullScreen&&(I="On Windows, press F11 to play in Full Screen mode."),p.innerHTML="JavaScript Snake<p></p>Use the <strong>arrow keys</strong> on your keyboard to play the game. "+I+"<p></p>";var w=document.createElement("button");w.appendChild(document.createTextNode("Play Game"));var A=function(){s.removeEventListener(window,"keyup",W,!1),l.style.display="none",t.setBoardState(1),t.getBoardContainer().focus()},W=function(x){if(!x)var x=window.event;var K=x.which?x.which:x.keyCode;(K===32||K===13)&&A()};return s.addEventListener(window,"keyup",W,!1),s.addEventListener(w,"click",A,!1),l.appendChild(p),l.appendChild(w),l}function J(l,p,I){var w=document.createElement("div");w.id=p+m,w.className=I;var A=document.createElement("div");A.innerHTML="JavaScript Snake<p></p>"+l+"<p></p>";var W=document.createElement("button");W.appendChild(document.createTextNode("Play Again?"));var R=function(){w.style.display="none",t.resetBoard(),t.setBoardState(1),t.getBoardContainer().focus()},x=function(F){if(!(N!==0||w.style.display!=="block")){if(!F)var F=window.event;var z=F.which?F.which:F.keyCode;(z===32||z===13)&&R()}};return s.addEventListener(window,"keyup",x,!0),s.addEventListener(W,"click",R,!1),w.appendChild(A),w.appendChild(W),w}function te(){return J("You died :(","sbTryAgain","snake-try-again-dialog")}function ne(){return J("You win! :D","sbWin","snake-win-dialog")}function Y(l){var p=Math.max(f(k.snakeBody),f({tmp:{elm:T.getFoodElement()}}));d.removeChild(l),d.appendChild(l),l.style.zIndex=p,l.style.display="block",t.setBoardState(0)}t.setPaused=function(l){M=l,k.setPaused(l),M?i.style.display="block":i.style.display="none"},t.getPaused=function(){return M},t.resetBoard=function(){s.removeEventListener(d,"keydown",g,!1),k.reset(),H.innerHTML="Length: 1",t.setupPlayingField()},t.getBoardState=function(){return N},t.setBoardState=function(l){N=l},t.getGridFoodValue=function(){return _},t.getPlayingFieldElement=function(){return y},t.setBoardContainer=function(l){typeof l=="string"&&(l=document.getElementById(l)),l!==d&&(d=l,y=null,t.setupPlayingField())},t.getBoardContainer=function(){return d},t.getBlockWidth=function(){return S},t.getBlockHeight=function(){return E},t.setupPlayingField=function(){y||v();var l,p,I,w;o.fullScreen===!0?(I=0,w=0,l=c()-20,p=r()-20):(I=o.top,w=o.left,l=o.width,p=o.height);var A=t.getBlockWidth()*2+l%t.getBlockWidth(),W=Math.min(V()-A,l-A),R=t.getBlockHeight()*3+p%t.getBlockHeight(),x=Math.min(U()-R,p-R);d.style.left=w+"px",d.style.top=I+"px",d.style.width=l+"px",d.style.height=p+"px",y.style.left=t.getBlockWidth()+"px",y.style.top=t.getBlockHeight()+"px",y.style.width=W+"px",y.style.height=x+"px";var K=R-t.getBlockHeight(),F=t.getBlockHeight()+x+Math.round((K-30)/2)+"px";b.style.top=F,b.style.width="450px",b.style.left=Math.round(l/2)-Math.round(450/2)+"px",H.style.top=F,H.style.left="30px",L.style.top=F,L.style.left=l-140+"px",l<700?b.style.display="none":b.style.display="block",t.grid=[];for(var z=W/t.getBlockWidth()+2,q=x/t.getBlockHeight()+2,D=0;D<q;D++){t.grid[D]=[];for(var j=0;j<z;j++)j===0||D===0||j===z-1||D===q-1?t.grid[D][j]=1:t.grid[D][j]=0}T.randomlyPlaceFood(),g=function(P){if(!P)var P=window.event;var G=P.which?P.which:P.keyCode;if(t.getBoardState()===1){if(!(G>=37&&G<=40)&&!(G===87||G===65||G===83||G===68))return;s.removeEventListener(d,"keydown",g,!1),g=function(C){if(!C)var C=window.event;var X=C.which?C.which:C.keyCode;return X===32&&t.getBoardState()!=0&&t.setPaused(!t.getPaused()),k.handleArrowKeys(X),C.cancelBubble=!0,C.stopPropagation&&C.stopPropagation(),C.preventDefault&&C.preventDefault(),!1},s.addEventListener(d,"keydown",g,!1),k.rebirth(),k.handleArrowKeys(G),t.setBoardState(2),k.go()}return P.cancelBubble=!0,P.stopPropagation&&P.stopPropagation(),P.preventDefault&&P.preventDefault(),!1},s.addEventListener(d,"keydown",g,!1)},t.foodEaten=function(){return H.innerHTML="Length: "+k.snakeLength,k.snakeLength>localStorage.jsSnakeHighScore&&(localStorage.setItem("jsSnakeHighScore",k.snakeLength),L.innerHTML="Highscore: "+localStorage.jsSnakeHighScore),!!T.randomlyPlaceFood()},t.handleDeath=function(){Y(a)},t.handleWin=function(){Y(n)},o.fullScreen=typeof o.fullScreen>"u"?!1:o.fullScreen,o.top=typeof o.top>"u"?0:o.top,o.left=typeof o.left>"u"?0:o.left,o.width=typeof o.width>"u"?400:o.width,o.height=typeof o.height>"u"?400:o.height,o.premoveOnPause=typeof o.premoveOnPause>"u"?!1:o.premoveOnPause,o.fullScreen&&s.addEventListener(window,"resize",function(){t.setupPlayingField()},!1),t.setBoardState(0),o.boardContainer&&t.setBoardContainer(o.boardContainer)}}(),Z}var Q=le();const ie=ae(Q),de=oe({__proto__:null,default:ie},[Q]);export{de as g};
