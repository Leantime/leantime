var lW=(Ze,_r)=>()=>(_r||Ze((_r={exports:{}}).exports,_r),_r.exports);import{c as N1}from"./_commonjsHelpers-BosuxZz1.js";var hW=lW((OL,gI)=>{var fW={exports:{}};(function(Ze){(function(){var _r=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var r=typeof e;return r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},mt=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},Nt=function(e,r){var a=Array.prototype.slice.call(e);return a.sort(r)},gt=function(e,r){return yr(function(a,i){return e.eq(r(a),r(i))})},yr=function(e){return{eq:e}},ft=yr(function(e,r){return e===r}),Ir=ft,vr=function(e){return yr(function(r,a){if(r.length!==a.length)return!1;for(var i=r.length,s=0;s<i;s++)if(!e.eq(r[s],a[s]))return!1;return!0})},Xr=function(e,r){return gt(vr(e),function(a){return Nt(a,r)})},mr=function(e){return yr(function(r,a){var i=Object.keys(r),s=Object.keys(a);if(!Xr(Ir).eq(i,s))return!1;for(var f=i.length,g=0;g<f;g++){var y=i[g];if(!e.eq(r[y],a[y]))return!1}return!0})},Kt=yr(function(e,r){if(e===r)return!0;var a=_r(e),i=_r(r);return a!==i?!1:mt(a)?e===r:a==="array"?vr(Kt).eq(e,r):a==="object"?mr(Kt).eq(e,r):!1}),kr=function(e){var r=typeof e;return e===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":r},Ot=function(e){return function(r){return kr(r)===e}},Je=function(e){return function(r){return typeof r===e}},$e=function(e){return function(r){return e===r}},Ht=Ot("string"),rt=Ot("object"),nr=Ot("array"),se=$e(null),or=Je("boolean"),Me=$e(void 0),Nr=function(e){return e==null},zr=function(e){return!Nr(e)},Le=Je("function"),Dt=Je("number"),dt=function(){},xn=function(e,r){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(r.apply(null,a))}},J=function(e,r){return function(a){return e(r(a))}},V=function(e){return function(){return e}},Tt=function(e){return e},en=function(e,r){return e===r};function yt(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var f=r.concat(i);return e.apply(null,f)}}var On=function(e){return function(r){return!e(r)}},hn=function(e){return function(){throw new Error(e)}},E=function(e){return e()},Rt=function(e){e()},Ve=V(!1),Ft=V(!0),In=function(){return qn},qn=function(){var e=function(i){return i()},r=Tt,a={fold:function(i,s){return i()},isSome:Ve,isNone:Ft,getOr:r,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:V(null),getOrUndefined:V(void 0),or:r,orThunk:e,map:In,each:dt,bind:In,exists:Ve,forall:Ft,filter:function(){return In()},toArray:function(){return[]},toString:V("none()")};return a}(),an=function(e){var r=V(e),a=function(){return s},i=function(f){return f(e)},s={fold:function(f,g){return g(e)},isSome:Ft,isNone:Ve,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:a,orThunk:a,map:function(f){return an(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?s:qn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return s},Un=function(e){return e==null?qn:an(e)},Z={some:an,none:In,from:Un},La=Array.prototype.slice,$t=Array.prototype.indexOf,Ye=Array.prototype.push,un=function(e,r){return $t.call(e,r)},ir=function(e,r){var a=un(e,r);return a===-1?Z.none():Z.some(a)},Zt=function(e,r){return un(e,r)>-1},qr=function(e,r){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(r(s,a))return!0}return!1},Zr=function(e,r){for(var a=e.length,i=new Array(a),s=0;s<a;s++){var f=e[s];i[s]=r(f,s)}return i},At=function(e,r){for(var a=0,i=e.length;a<i;a++){var s=e[a];r(s,a)}},Qt=function(e,r){for(var a=e.length-1;a>=0;a--){var i=e[a];r(i,a)}},Pe=function(e,r){for(var a=[],i=[],s=0,f=e.length;s<f;s++){var g=e[s],y=r(g,s)?a:i;y.push(g)}return{pass:a,fail:i}},Fe=function(e,r){for(var a=[],i=0,s=e.length;i<s;i++){var f=e[i];r(f,i)&&a.push(f)}return a},gr=function(e,r,a){return Qt(e,function(i,s){a=r(a,i,s)}),a},Ne=function(e,r,a){return At(e,function(i,s){a=r(a,i,s)}),a},Oe=function(e,r,a){for(var i=0,s=e.length;i<s;i++){var f=e[i];if(r(f,i))return Z.some(f);if(a(f,i))break}return Z.none()},ut=function(e,r){return Oe(e,r,Ve)},br=function(e,r){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(r(s,a))return Z.some(a)}return Z.none()},Jr=function(e){for(var r=[],a=0,i=e.length;a<i;++a){if(!nr(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Ye.apply(r,e[a])}return r},_n=function(e,r){return Jr(Zr(e,r))},$n=function(e,r){for(var a=0,i=e.length;a<i;++a){var s=e[a];if(r(s,a)!==!0)return!1}return!0},Vt=function(e){var r=La.call(e,0);return r.reverse(),r},nt=function(e,r){return Fe(e,function(a){return!Zt(r,a)})},ct=function(e,r){for(var a={},i=0,s=e.length;i<s;i++){var f=e[i];a[String(f)]=r(f,i)}return a},bt=function(e,r){var a=La.call(e,0);return a.sort(r),a},zt=function(e,r){return r>=0&&r<e.length?Z.some(e[r]):Z.none()},xr=function(e){return zt(e,0)},Rr=function(e){return zt(e,e.length-1)},sr=Le(Array.from)?Array.from:function(e){return La.call(e)},He=function(e,r){for(var a=0;a<e.length;a++){var i=r(e[a],a);if(i.isSome())return i}return Z.none()},Xt=Object.keys,Pr=Object.hasOwnProperty,lr=function(e,r){for(var a=Xt(e),i=0,s=a.length;i<s;i++){var f=a[i],g=e[f];r(g,f)}},Gn=function(e,r){return be(e,function(a,i){return{k:i,v:r(a,i)}})},be=function(e,r){var a={};return lr(e,function(i,s){var f=r(i,s);a[f.k]=f.v}),a},_t=function(e){return function(r,a){e[a]=r}},at=function(e,r,a,i){var s={};return lr(e,function(f,g){(r(f,g)?a:i)(f,g)}),s},K=function(e,r){var a={},i={};return at(e,r,_t(a),_t(i)),{t:a,f:i}},Ee=function(e,r){var a={};return at(e,r,_t(a),dt),a},st=function(e,r){var a=[];return lr(e,function(i,s){a.push(r(i,s))}),a},Tr=function(e){return st(e,Tt)},cr=function(e,r){return Fr(e,r)?Z.from(e[r]):Z.none()},Fr=function(e,r){return Pr.call(e,r)},ia=function(e,r){return Fr(e,r)&&e[r]!==void 0&&e[r]!==null},Za=function(e,r,a){return a===void 0&&(a=Kt),mr(a).eq(e,r)},Fa=Array.isArray,Ha=function(e){if(Fa(e))return e;for(var r=[],a=0,i=e.length;a<i;a++)r[a]=e[a];return r},zo=function(e,r,a){var i,s;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,s=e.length;i<s;i++)if(r.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(Fr(e,i)&&r.call(a,e[i],i,e)===!1)return!1;return!0},ci=function(e,r){var a=[];return zo(e,function(i,s){a.push(r(i,s,e))}),a},Oo=function(e,r){var a=[];return zo(e,function(i,s){(!r||r(i,s,e))&&a.push(i)}),a},mo=function(e,r){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===r)return a}return-1},Jo=function(e,r,a,i){for(var s=Me(a)?e[0]:a,f=0;f<e.length;f++)s=r.call(i,s,e[f],f);return s},ua=function(e,r,a){var i,s;for(i=0,s=e.length;i<s;i++)if(r.call(a,e[i],i,e))return i;return-1},Lo=function(e){return e[e.length-1]},fn=function(){return fn=Object.assign||function(r){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var f in a)Object.prototype.hasOwnProperty.call(a,f)&&(r[f]=a[f])}return r},fn.apply(this,arguments)};function Ui(e,r){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&r.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]]);return a}function Ho(e,r,a){if(a||arguments.length===2)for(var i=0,s=r.length,f;i<s;i++)(f||!(i in r))&&(f||(f=Array.prototype.slice.call(r,0,i)),f[i]=r[i]);return e.concat(f||Array.prototype.slice.call(r))}var Qo=function(e){var r=!1,a;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return r||(r=!0,a=e.apply(null,i)),a}},Do=function(e,r,a,i){var s=e.isiOS()&&/ipad/i.test(a)===!0,f=e.isiOS()&&!s,g=e.isiOS()||e.isAndroid(),y=g||i("(pointer:coarse)"),k=s||!f&&g&&i("(min-device-width:768px)"),O=f||g&&!k,F=r.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,$=!O&&!k&&!F;return{isiPad:V(s),isiPhone:V(f),isTablet:V(k),isPhone:V(O),isTouch:V(y),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:V(F),isDesktop:V($)}},vi=function(e,r){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(r))return i}},ji=function(e,r){var a=vi(e,r);if(!a)return{major:0,minor:0};var i=function(s){return Number(r.replace(a,"$"+s))};return ie(i(1),i(2))},si=function(e,r){var a=String(r).toLowerCase();return e.length===0?Ji():ji(e,a)},Ji=function(){return ie(0,0)},ie=function(e,r){return{major:e,minor:r}},Ce={nu:ie,detect:si,unknown:Ji},le=function(e,r){return He(r.brands,function(a){var i=a.brand.toLowerCase();return ut(e,function(s){var f;return i===((f=s.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(s){return{current:s.name,version:Ce.nu(parseInt(a.version,10),0)}})})},Ke=function(e,r){var a=String(r).toLowerCase();return ut(e,function(i){return i.search(a)})},Cr=function(e,r){return Ke(e,r).map(function(a){var i=Ce.detect(a.versionRegexes,r);return{current:a.name,version:i}})},Gr=function(e,r){return Ke(e,r).map(function(a){var i=Ce.detect(a.versionRegexes,r);return{current:a.name,version:i}})},re=function(e,r){return e.substring(r)},me=function(e,r,a){return r===""||e.length>=r.length&&e.substr(a,a+r.length)===r},Xe=function(e,r){return N(e,r)?re(e,r.length):e},St=function(e,r){return e.indexOf(r)!==-1},N=function(e,r){return me(e,r,0)},X=function(e){return function(r){return r.replace(e,"")}},ve=X(/^\s+|\s+$/g),_e=X(/^\s+/g),Ue=X(/\s+$/g),qe=function(e){return e.length>0},pr=function(e){return!qe(e)},$r=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Cn=function(e){return function(r){return St(r,e)}},et=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return St(e,"edge/")&&St(e,"chrome")&&St(e,"safari")&&St(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$r],search:function(e){return St(e,"chrome")&&!St(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return St(e,"msie")||St(e,"trident")}},{name:"Opera",versionRegexes:[$r,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Cn("firefox")},{name:"Safari",versionRegexes:[$r,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(St(e,"safari")||St(e,"mobile/"))&&St(e,"applewebkit")}}],pn=[{name:"Windows",search:Cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return St(e,"iphone")||St(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Cn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Cn("linux"),versionRegexes:[]},{name:"Solaris",search:Cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Cn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Cn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Kn={browsers:V(et),oses:V(pn)},Na="Edge",Eo="Chrome",ca="IE",zu="Opera",lu="Firefox",So="Safari",Yu=function(){return yi({current:void 0,version:Ce.unknown()})},yi=function(e){var r=e.current,a=e.version,i=function(s){return function(){return r===s}};return{current:r,version:a,isEdge:i(Na),isChrome:i(Eo),isIE:i(ca),isOpera:i(zu),isFirefox:i(lu),isSafari:i(So)}},Ci={unknown:Yu,nu:yi},oo="Windows",Bc="iOS",Y="Android",ye="Linux",We="OSX",Et="Solaris",Lr="FreeBSD",tn="ChromeOS",vn=function(){return da({current:void 0,version:Ce.unknown()})},da=function(e){var r=e.current,a=e.version,i=function(s){return function(){return r===s}};return{current:r,version:a,isWindows:i(oo),isiOS:i(Bc),isAndroid:i(Y),isOSX:i(We),isLinux:i(ye),isSolaris:i(Et),isFreeBSD:i(Lr),isChromeOS:i(tn)}},j={unknown:vn,nu:da},he=function(e,r,a){var i=Kn.browsers(),s=Kn.oses(),f=r.bind(function(k){return le(i,k)}).orThunk(function(){return Cr(i,e)}).fold(Ci.unknown,Ci.nu),g=Gr(s,e).fold(j.unknown,j.nu),y=Do(g,f,e,a);return{browser:f,os:g,deviceType:y}},Re={detect:he},ot=function(e){return window.matchMedia(e).matches},Bt=Qo(function(){return Re.detect(navigator.userAgent,Z.from(navigator.userAgentData),ot)}),Kr=function(){return Bt()},yn=navigator.userAgent,xa=Kr(),ra=xa.browser,Va=xa.os,so=xa.deviceType,Eu=/WebKit/.test(yn)&&!ra.isEdge(),Wo="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,wn=yn.indexOf("Windows Phone")!==-1,dr={opera:ra.isOpera(),webkit:Eu,ie:ra.isIE()||ra.isEdge()?ra.version.major:!1,gecko:ra.isFirefox(),mac:Va.isOSX()||Va.isiOS(),iOS:so.isiPad()||so.isiPhone(),android:Va.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:ra.isIE()?document.documentMode||7:10,fileApi:Wo,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!ra.isIE(),desktop:so.isDesktop(),windowsPhone:wn,browser:{current:ra.current,version:ra.version,isChrome:ra.isChrome,isEdge:ra.isEdge,isFirefox:ra.isFirefox,isIE:ra.isIE,isOpera:ra.isOpera,isSafari:ra.isSafari},os:{current:Va.current,version:Va.version,isAndroid:Va.isAndroid,isChromeOS:Va.isChromeOS,isFreeBSD:Va.isFreeBSD,isiOS:Va.isiOS,isLinux:Va.isLinux,isOSX:Va.isOSX,isSolaris:Va.isSolaris,isWindows:Va.isWindows},deviceType:{isDesktop:so.isDesktop,isiPad:so.isiPad,isiPhone:so.isiPhone,isPhone:so.isPhone,isTablet:so.isTablet,isTouch:so.isTouch,isWebView:so.isWebView}},ja=/^\s*|\s*$/g,qo=function(e){return e==null?"":(""+e).replace(ja,"")},wa=function(e,r){return r?r==="array"&&Fa(e)?!0:typeof e===r:e!==void 0},Mc=function(e,r,a){var i;for(e=e||[],r=r||",",typeof e=="string"&&(e=e.split(r)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},Zu=Fr,_s=function(e,r,a){var i=this,s,f,g,y=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var k=e[3].match(/(^|\.)(\w+)$/i)[2],O=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!O[k]){if(e[2]==="static"){O[k]=r,this.onCreate&&this.onCreate(e[2],e[3],O[k]);return}r[k]||(r[k]=function(){},y=1),O[k]=r[k],i.extend(O[k].prototype,r),e[5]&&(s=i.resolve(e[5]).prototype,f=e[5].match(/\.(\w+)$/i)[1],g=O[k],y?O[k]=function(){return s[f].apply(this,arguments)}:O[k]=function(){return this.parent=s[f],g.apply(this,arguments)},O[k].prototype[k]=O[k],i.each(s,function(F,$){O[k].prototype[$]=s[$]}),i.each(r,function(F,$){s[$]?O[k].prototype[$]=function(){return this.parent=s[$],F.apply(this,arguments)}:$!==k&&(O[k].prototype[$]=F)})),i.each(r.static,function(F,$){O[k][$]=F})}},Ra=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];for(var i=0;i<r.length;i++){var s=r[i];for(var f in s)if(Fr(s,f)){var g=s[f];g!==void 0&&(e[f]=g)}}return e},Di=function(e,r,a,i){i=i||this,e&&(a&&(e=e[a]),zo(e,function(s,f){if(r.call(i,s,f,a)===!1)return!1;Di(s,r,a,i)}))},Cs=function(e,r){var a,i;for(r=r||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],r[i]||(r[i]={}),r=r[i];return r},Au=function(e,r){var a,i;for(r=r||window,e=e.split("."),a=0,i=e.length;a<i&&(r=r[e[a]],!!r);a++);return r},Bo=function(e,r){return!e||wa(e,"array")?e:ci(e.split(r||","),qo)},Nc=function(e){var r=dr.cacheSuffix;return r&&(e+=(e.indexOf("?")===-1?"?":"&")+r),e},wt={trim:qo,isArray:Fa,is:wa,toArray:Ha,makeMap:Mc,each:zo,map:ci,grep:Oo,inArray:mo,hasOwn:Zu,extend:Ra,create:_s,walk:Di,createNS:Cs,resolve:Au,explode:Bo,_addCacheSuffix:Nc},ts=function(e,r){var a=r||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return hc(i.childNodes[0])},Mo=function(e,r){var a=r||document,i=a.createElement(e);return hc(i)},vl=function(e,r){var a=r||document,i=a.createTextNode(e);return hc(i)},hc=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},P=function(e,r,a){return Z.from(e.dom.elementFromPoint(r,a)).map(hc)},S={fromHtml:ts,fromTag:Mo,fromText:vl,fromDom:hc,fromPoint:P},w=function(e,r){var a=[],i=function(f){return a.push(f),r(f)},s=r(e);do s=s.bind(i);while(s.isSome());return a},A=function(e,r,a){return(e.compareDocumentPosition(r)&a)!==0},H=function(e,r){return A(e,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},oe=8,De=9,Lt=11,dn=1,Bn=3,Or=function(e,r){var a=e.dom;if(a.nodeType!==dn)return!1;var i=a;if(i.matches!==void 0)return i.matches(r);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(r);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(r);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},ln=function(e){return e.nodeType!==dn&&e.nodeType!==De&&e.nodeType!==Lt||e.childElementCount===0},na=function(e,r){var a=r===void 0?document:r.dom;return ln(a)?[]:Zr(a.querySelectorAll(e),S.fromDom)},ta=function(e,r){var a=r===void 0?document:r.dom;return ln(a)?Z.none():Z.from(a.querySelector(e)).map(S.fromDom)},jn=function(e,r){return e.dom===r.dom},go=function(e,r){var a=e.dom,i=r.dom;return a===i?!1:a.contains(i)},Ln=function(e,r){return H(e.dom,r.dom)},to=function(e,r){return Kr().browser.isIE()?Ln(e,r):go(e,r)};typeof window<"u"||Function("return this;")();var Wa=function(e){var r=e.dom.nodeName;return r.toLowerCase()},Ri=function(e){return e.dom.nodeType},va=function(e){return function(r){return Ri(r)===e}},Fc=function(e){return Ri(e)===oe||Wa(e)==="#comment"},No=va(dn),Go=va(Bn),Wh=va(De),Qi=va(Lt),np=function(e){return function(r){return No(r)&&Wa(r)===e}},Ws=function(e){return S.fromDom(e.dom.ownerDocument)},Xn=function(e){return Wh(e)?e:Ws(e)},Ic=function(e){return S.fromDom(Xn(e).dom.documentElement)},ei=function(e){return S.fromDom(Xn(e).dom.defaultView)},ti=function(e){return Z.from(e.dom.parentNode).map(S.fromDom)},Pi=function(e,r){for(var a=Le(r)?r:Ve,i=e.dom,s=[];i.parentNode!==null&&i.parentNode!==void 0;){var f=i.parentNode,g=S.fromDom(f);if(s.push(g),a(g)===!0)break;i=f}return s},bi=function(e){var r=function(a){return Fe(a,function(i){return!jn(e,i)})};return ti(e).map(Lu).map(r).getOr([])},xf=function(e){return Z.from(e.dom.previousSibling).map(S.fromDom)},rs=function(e){return Z.from(e.dom.nextSibling).map(S.fromDom)},qa=function(e){return Vt(w(e,xf))},Ao=function(e){return w(e,rs)},Lu=function(e){return Zr(e.dom.childNodes,S.fromDom)},ml=function(e,r){var a=e.dom.childNodes;return Z.from(a[r]).map(S.fromDom)},Si=function(e){return ml(e,0)},$c=function(e){return ml(e,e.dom.childNodes.length-1)},qh=function(e){return e.dom.childNodes.length},Tf=function(e){var r=e.dom.head;if(r==null)throw new Error("Head is not available yet");return S.fromDom(r)},po=function(e){return Qi(e)&&zr(e.dom.host)},Ss=Le(Element.prototype.attachShadow)&&Le(Node.prototype.getRootNode),Ll=V(Ss),Ju=Ss?function(e){return S.fromDom(e.dom.getRootNode())}:Xn,li=function(e){return po(e)?e:Tf(Xn(e))},Hl=function(e){var r=Ju(e);return po(r)?Z.some(r):Z.none()},gl=function(e){return S.fromDom(e.dom.host)},Ou=function(e){if(Ll()&&zr(e.target)){var r=S.fromDom(e.target);if(No(r)&&Qu(r)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return xr(a)}}return Z.from(e.target)},Qu=function(e){return zr(e.dom.shadowRoot)},fu=function(e,r){var a=ti(e);a.each(function(i){i.dom.insertBefore(r.dom,e.dom)})},gd=function(e,r){var a=rs(e);a.fold(function(){var i=ti(e);i.each(function(s){Bi(s,r)})},function(i){fu(i,r)})},xs=function(e,r){var a=Si(e);a.fold(function(){Bi(e,r)},function(i){e.dom.insertBefore(r.dom,i.dom)})},Bi=function(e,r){e.dom.appendChild(r.dom)},cv=function(e,r){fu(e,r),Bi(r,e)},Gh=function(e,r){At(r,function(a){fu(e,a)})},zf=function(e,r){At(r,function(a){Bi(e,a)})},Ef=function(e){e.dom.textContent="",At(Lu(e),function(r){ri(r)})},ri=function(e){var r=e.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Af=function(e){var r=Lu(e);r.length>0&&Gh(e,r),ri(e)},Of=function(e){var r=Go(e)?e.dom.parentNode:e.dom;if(r==null||r.ownerDocument===null)return!1;var a=r.ownerDocument;return Hl(S.fromDom(r)).fold(function(){return a.body.contains(r)},J(Of,gl))},Du=function(e,r){var a=function(i,s){return Du(e+i,r+s)};return{left:e,top:r,translate:a}},pl=Du,Df=function(e){var r=e.getBoundingClientRect();return pl(r.left,r.top)},hl=function(e,r){return e!==void 0?e:r!==void 0?r:0},Vo=function(e){var r=e.dom.ownerDocument,a=r.body,i=r.defaultView,s=r.documentElement;if(a===e.dom)return pl(a.offsetLeft,a.offsetTop);var f=hl(i==null?void 0:i.pageYOffset,s.scrollTop),g=hl(i==null?void 0:i.pageXOffset,s.scrollLeft),y=hl(s.clientTop,a.clientTop),k=hl(s.clientLeft,a.clientLeft);return yc(e).translate(g-k,f-y)},yc=function(e){var r=e.dom,a=r.ownerDocument,i=a.body;return i===r?pl(i.offsetLeft,i.offsetTop):Of(e)?Df(r):pl(0,0)},gm=function(e){var r=e!==void 0?e.dom:document,a=r.body.scrollLeft||r.documentElement.scrollLeft,i=r.body.scrollTop||r.documentElement.scrollTop;return pl(a,i)},Lc=function(e,r,a){var i=a!==void 0?a.dom:document,s=i.defaultView;s&&s.scrollTo(e,r)},pm=function(e,r){var a=Kr().browser.isSafari();a&&Le(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(r)},Kh=function(e){var r=e===void 0?window:e;return Kr().browser.isFirefox()?Z.none():Z.from(r.visualViewport)},ap=function(e,r,a,i){return{x:e,y:r,width:a,height:i,right:e+a,bottom:r+i}},Rf=function(e){var r=e===void 0?window:e,a=r.document,i=gm(S.fromDom(a));return Kh(r).fold(function(){var s=r.document.documentElement,f=s.clientWidth,g=s.clientHeight;return ap(i.left,i.top,f,g)},function(s){return ap(Math.max(s.pageLeft,i.left),Math.max(s.pageTop,i.top),s.width,s.height)})},Pf=function(e){return function(r){return!!r&&r.nodeType===e}},Vl=function(e){return!!e&&!Object.getPrototypeOf(e)},Yn=Pf(1),ns=function(e){var r=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return Zt(r,i)}return!1}},ec=function(e,r){var a=r.toLowerCase().split(" ");return function(i){if(Yn(i))for(var s=0;s<a.length;s++){var f=i.ownerDocument.defaultView.getComputedStyle(i,null),g=f?f.getPropertyValue(e):null;if(g===a[s])return!0}return!1}},Ru=function(e){return function(r){return Yn(r)&&r.hasAttribute(e)}},as=function(e,r){return function(a){return Yn(a)&&a.getAttribute(e)===r}},mi=function(e){return Yn(e)&&e.hasAttribute("data-mce-bogus")},Mi=function(e){return Yn(e)&&e.getAttribute("data-mce-bogus")==="all"},wi=function(e){return Yn(e)&&e.tagName==="TABLE"},Ul=function(e){return function(r){return!!(Yn(r)&&(r.contentEditable===e||r.getAttribute("data-mce-contenteditable")===e))}},du=ns(["textarea","input"]),on=Pf(3),Bf=Pf(8),op=Pf(9),ma=Pf(11),ho=ns(["br"]),hm=ns(["img"]),qs=Ul("true"),Fo=Ul("false"),ym=ns(["td","th"]),bc=ns(["video","audio","object","embed"]),sv=function(e,r,a){return a===void 0&&(a=en),e.exists(function(i){return a(i,r)})},ha=function(e){for(var r=[],a=function(s){r.push(s)},i=0;i<e.length;i++)e[i].each(a);return r},Hu=function(e,r,a){return e.isSome()&&r.isSome()?Z.some(a(e.getOrDie(),r.getOrDie())):Z.none()},F1=function(e,r,a,i){return e.isSome()&&r.isSome()&&a.isSome()?Z.some(i(e.getOrDie(),r.getOrDie(),a.getOrDie())):Z.none()},I1=function(e,r){return e?Z.some(r):Z.none()},Uo=function(e){return e.style!==void 0&&Le(e.style.getPropertyValue)},bm=function(e,r,a){if(Ht(a)||or(a)||Dt(a))e.setAttribute(r,a+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",a,":: Element ",e),new Error("Attribute value was not simple")},z=function(e,r,a){bm(e.dom,r,a)},I=function(e,r){var a=e.dom;lr(r,function(i,s){bm(a,s,i)})},W=function(e,r){var a=e.dom.getAttribute(r);return a===null?void 0:a},fe=function(e,r){return Z.from(W(e,r))},Ie=function(e,r){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(r):!1},xt=function(e,r){e.dom.removeAttribute(r)},kn=function(e){return Ne(e.dom.attributes,function(r,a){return r[a.name]=a.value,r},{})},aa=function(e,r,a){if(!Ht(a))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",a,":: Element ",e),new Error("CSS value must be a string: "+a);Uo(e)&&e.style.setProperty(r,a)},Aa=function(e,r){var a=e.dom;lr(r,function(i,s){aa(a,s,i)})},ya=function(e,r){var a=e.dom,i=window.getComputedStyle(a),s=i.getPropertyValue(r);return s===""&&!Of(e)?ko(a,r):s},ko=function(e,r){return Uo(e)?e.style.getPropertyValue(r):""},vu=function(e,r){var a=e.dom,i=ko(a,r);return Z.from(i).filter(function(s){return s.length>0})},ni=function(e){var r={},a=e.dom;if(Uo(a))for(var i=0;i<a.style.length;i++){var s=a.style.item(i);r[s]=a.style[s]}return r},gS=function(e){return e.dom.offsetWidth},Gk=Kr().browser,Kk=function(e){return ut(e,No)},pS=function(e){return Gk.isFirefox()&&Wa(e)==="table"?Kk(Lu(e)).filter(function(r){return Wa(r)==="caption"}).bind(function(r){return Kk(Ao(r)).map(function(a){var i=a.dom.offsetTop,s=r.dom.offsetTop,f=r.dom.offsetHeight;return i<=s?-f:0})}).getOr(0):0},yl=function(e,r){return e.children&&Zt(e.children,r)},ip=function(e,r,a){var i=0,s=0,f=e.ownerDocument;if(a=a||e,r){if(a===e&&r.getBoundingClientRect&&ya(S.fromDom(e),"position")==="static"){var g=r.getBoundingClientRect();return i=g.left+(f.documentElement.scrollLeft||e.scrollLeft)-f.documentElement.clientLeft,s=g.top+(f.documentElement.scrollTop||e.scrollTop)-f.documentElement.clientTop,{x:i,y:s}}for(var y=r;y&&y!==a&&y.nodeType&&!yl(y,a);){var k=y;i+=k.offsetLeft||0,s+=k.offsetTop||0,y=k.offsetParent}for(y=r.parentNode;y&&y!==a&&y.nodeType&&!yl(y,a);)i-=y.scrollLeft||0,s-=y.scrollTop||0,y=y.parentNode;s+=pS(S.fromDom(r))}return{x:i,y:s}},wc={},wm={exports:wc};(function(e,r,a,i){(function(s,f){typeof r=="object"&&typeof a<"u"?a.exports=f():(s=typeof globalThis<"u"?globalThis:s||self,s.EphoxContactWrapper=f())})(this,function(){var s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N1<"u"?N1:typeof self<"u"?self:{},f={exports:{}};(function(O){(function(F){var $=setTimeout;function L(){}function Q(we,Ge){return function(){we.apply(Ge,arguments)}}function te(we){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof we!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Be(we,this)}function ne(we,Ge){for(;we._state===3;)we=we._value;if(we._state===0){we._deferreds.push(Ge);return}we._handled=!0,te._immediateFn(function(){var It=we._state===1?Ge.onFulfilled:Ge.onRejected;if(It===null){(we._state===1?ae:pe)(Ge.promise,we._value);return}var ur;try{ur=It(we._value)}catch(Vn){pe(Ge.promise,Vn);return}ae(Ge.promise,ur)})}function ae(we,Ge){try{if(Ge===we)throw new TypeError("A promise cannot be resolved with itself.");if(Ge&&(typeof Ge=="object"||typeof Ge=="function")){var It=Ge.then;if(Ge instanceof te){we._state=3,we._value=Ge,ge(we);return}else if(typeof It=="function"){Be(Q(It,Ge),we);return}}we._state=1,we._value=Ge,ge(we)}catch(ur){pe(we,ur)}}function pe(we,Ge){we._state=2,we._value=Ge,ge(we)}function ge(we){we._state===2&&we._deferreds.length===0&&te._immediateFn(function(){we._handled||te._unhandledRejectionFn(we._value)});for(var Ge=0,It=we._deferreds.length;Ge<It;Ge++)ne(we,we._deferreds[Ge]);we._deferreds=null}function je(we,Ge,It){this.onFulfilled=typeof we=="function"?we:null,this.onRejected=typeof Ge=="function"?Ge:null,this.promise=It}function Be(we,Ge){var It=!1;try{we(function(ur){It||(It=!0,ae(Ge,ur))},function(ur){It||(It=!0,pe(Ge,ur))})}catch(ur){if(It)return;It=!0,pe(Ge,ur)}}te.prototype.catch=function(we){return this.then(null,we)},te.prototype.then=function(we,Ge){var It=new this.constructor(L);return ne(this,new je(we,Ge,It)),It},te.all=function(we){var Ge=Array.prototype.slice.call(we);return new te(function(It,ur){if(Ge.length===0)return It([]);var Vn=Ge.length;function Qr(En,hr){try{if(hr&&(typeof hr=="object"||typeof hr=="function")){var Yr=hr.then;if(typeof Yr=="function"){Yr.call(hr,function(wr){Qr(En,wr)},ur);return}}Ge[En]=hr,--Vn===0&&It(Ge)}catch(wr){ur(wr)}}for(var jt=0;jt<Ge.length;jt++)Qr(jt,Ge[jt])})},te.resolve=function(we){return we&&typeof we=="object"&&we.constructor===te?we:new te(function(Ge){Ge(we)})},te.reject=function(we){return new te(function(Ge,It){It(we)})},te.race=function(we){return new te(function(Ge,It){for(var ur=0,Vn=we.length;ur<Vn;ur++)we[ur].then(Ge,It)})},te._immediateFn=typeof setImmediate=="function"?function(we){setImmediate(we)}:function(we){$(we,0)},te._unhandledRejectionFn=function(Ge){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",Ge)},te._setImmediateFn=function(Ge){te._immediateFn=Ge},te._setUnhandledRejectionFn=function(Ge){te._unhandledRejectionFn=Ge},O.exports?O.exports=te:F.Promise||(F.Promise=te)})(s)})(f);var g=f.exports,y=function(){return typeof window<"u"?window:Function("return this;")()}(),k={boltExport:y.Promise||g};return k})})(void 0,wc,wm);var $1=wm.exports.boltExport,up=function(e){var r=Z.none(),a=[],i=function(O){return up(function(F){s(function($){F(O($))})})},s=function(O){g()?k(O):a.push(O)},f=function(O){g()||(r=Z.some(O),y(a),a=[])},g=function(){return r.isSome()},y=function(O){At(O,k)},k=function(O){r.each(function(F){setTimeout(function(){O(F)},0)})};return e(f),{get:s,map:i,isReady:g}},Xh=function(e){return up(function(r){r(e)})},Xk={nu:up,pure:Xh},hS=function(e){setTimeout(function(){throw e},0)},bl=function(e){var r=function(k){e().then(k,hS)},a=function(k){return bl(function(){return e().then(k)})},i=function(k){return bl(function(){return e().then(function(O){return k(O).toPromise()})})},s=function(k){return bl(function(){return e().then(function(){return k.toPromise()})})},f=function(){return Xk.nu(r)},g=function(){var k=null;return bl(function(){return k===null&&(k=e()),k})},y=e;return{map:a,bind:i,anonBind:s,toLazy:f,toCached:g,toPromise:y,get:r}},cp=function(e){return bl(function(){return new $1(e)})},yS=function(e){return bl(function(){return $1.resolve(e)})},L1={nu:cp,pure:yS},bS=function(e,r){return r(function(a){var i=[],s=0,f=function(g){return function(y){i[g]=y,s++,s>=e.length&&a(i)}};e.length===0?a([]):At(e,function(g,y){g.get(f(y))})})},wS=function(e){return bS(e,L1.nu)},km=function(e){var r=function($){return km(e)},a=function($){return km(e)},i=function($){return km($(e))},s=function($){return km(e)},f=function($){$(e)},g=function($){return $(e)},y=function($,L){return L(e)},k=function($){return $(e)},O=function($){return $(e)},F=function(){return Z.some(e)};return{isValue:Ft,isError:Ve,getOr:V(e),getOrThunk:V(e),getOrDie:V(e),or:r,orThunk:a,fold:y,map:i,mapError:s,each:f,bind:g,exists:k,forall:O,toOptional:F}},sp=function(e){var r=function(O){return O()},a=function(){return hn(String(e))()},i=Tt,s=function(O){return O()},f=function(O){return sp(e)},g=function(O){return sp(O(e))},y=function(O){return sp(e)},k=function(O,F){return O(e)};return{isValue:Ve,isError:Ft,getOr:Tt,getOrThunk:r,getOrDie:a,or:i,orThunk:s,fold:k,map:f,mapError:g,each:dt,bind:y,exists:Ve,forall:Ft,toOptional:Z.none}},Yk=function(e,r){return e.fold(function(){return sp(r)},km)},Zk={value:km,error:sp,fromOption:Yk},Hc=function(e){if(!nr(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var r=[],a={};return At(e,function(i,s){var f=Xt(i);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],y=i[g];if(a[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!nr(y))throw new Error("case arguments must be an array");r.push(g),a[g]=function(){for(var k=[],O=0;O<arguments.length;O++)k[O]=arguments[O];var F=k.length;if(F!==y.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+y.length+" ("+y+"), got "+F);var $=function(L){var Q=Xt(L);if(r.length!==Q.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+Q.join(","));var te=$n(r,function(ne){return Zt(Q,ne)});if(!te)throw new Error("Not all branches were specified when using match. Specified: "+Q.join(", ")+`
Required: `+r.join(", "));return L[g].apply(null,k)};return{fold:function(){for(var L=[],Q=0;Q<arguments.length;Q++)L[Q]=arguments[Q];if(L.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+L.length);var te=L[s];return te.apply(null,k)},match:$,log:function(L){console.log(L,{constructors:r,constructor:g,params:k})}}}}),a},Dn={generate:Hc};Dn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Mf=function(e){return e.fold(Tt,Tt)};function lp(e,r,a,i,s){return e(a,i)?Z.some(a):Le(s)&&s(a)?Z.none():r(a,i,s)}var pd=function(e,r,a){for(var i=e.dom,s=Le(a)?a:Ve;i.parentNode;){i=i.parentNode;var f=S.fromDom(i);if(r(f))return Z.some(f);if(s(f))break}return Z.none()},_m=function(e,r,a){var i=function(s,f){return f(s)};return lp(i,pd,e,r,a)},H1=function(e,r){var a=e.dom;return a.parentNode?Gs(S.fromDom(a.parentNode),function(i){return!jn(e,i)&&r(i)}):Z.none()},Gs=function(e,r){var a=function(s){return r(S.fromDom(s))},i=ut(e.dom.childNodes,a);return i.map(S.fromDom)},lv=function(e,r,a){return pd(e,function(i){return Or(i,r)},a)},Cm=function(e,r){return ta(r,e)},gi=function(e,r,a){var i=function(s,f){return Or(s,f)};return lp(i,lv,e,r,a)},eu=window.Promise?window.Promise:$1,fp,jl=function(e,r){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],s=function(g){window.setTimeout(g,0)},f=0;f<i.length&&!a;f++)a=window[i[f]+"RequestAnimationFrame"];a||(a=s),a(e,r)},dp=function(e,r){return typeof r!="number"&&(r=0),setTimeout(e,r)},Yh=function(e,r){return typeof r!="number"&&(r=1),setInterval(e,r)},Zh=function(e){return clearTimeout(e)},kS=function(e){return clearInterval(e)},Sm=function(e,r){var a,i=function(){for(var s=[],f=0;f<arguments.length;f++)s[f]=arguments[f];clearTimeout(a),a=dp(function(){e.apply(this,s)},r)};return i.stop=function(){clearTimeout(a)},i},Pu={requestAnimationFrame:function(e,r){if(fp){fp.then(e);return}fp=new eu(function(a){r||(r=document.body),jl(a,r)}).then(e)},setTimeout:dp,setInterval:Yh,setEditorTimeout:function(e,r,a){return dp(function(){e.removed||r()},a)},setEditorInterval:function(e,r,a){var i=Yh(function(){e.removed?clearInterval(i):r()},a);return i},debounce:Sm,throttle:Sm,clearInterval:kS,clearTimeout:Zh},Jk=function(e,r){r===void 0&&(r={});var a=0,i={},s=S.fromDom(e),f=Xn(s),g=r.maxLoadTime||5e3,y=function(ae){r.referrerPolicy=ae},k=function(ae){Bi(li(s),ae)},O=function(ae){var pe=li(s);Cm(pe,"#"+ae).each(ri)},F=function(ae){return cr(i,ae).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},$=function(ae,pe,ge){var je,Be=wt._addCacheSuffix(ae),we=F(Be);i[Be]=we,we.count++;var Ge=function(hr,Yr){for(var wr=hr.length;wr--;)hr[wr]();we.status=Yr,we.passed=[],we.failed=[],je&&(je.onload=null,je.onerror=null,je=null)},It=function(){return Ge(we.passed,2)},ur=function(){return Ge(we.failed,3)},Vn=function(hr,Yr){hr()||(Date.now()-En<g?Pu.setTimeout(Yr):ur())},Qr=function(){Vn(function(){for(var hr=e.styleSheets,Yr=hr.length;Yr--;){var wr=hr[Yr],Hr=wr.ownerNode;if(Hr&&Hr.id===je.id)return It(),!0}return!1},Qr)};if(pe&&we.passed.push(pe),ge&&we.failed.push(ge),we.status!==1){if(we.status===2){It();return}if(we.status===3){ur();return}we.status=1;var jt=S.fromTag("link",f.dom);I(jt,{rel:"stylesheet",type:"text/css",id:we.id});var En=Date.now();r.contentCssCors&&z(jt,"crossOrigin","anonymous"),r.referrerPolicy&&z(jt,"referrerpolicy",r.referrerPolicy),je=jt.dom,je.onload=Qr,je.onerror=ur,k(jt),z(jt,"href",Be)}},L=function(ae){return L1.nu(function(pe){$(ae,xn(pe,V(Zk.value(ae))),xn(pe,V(Zk.error(ae))))})},Q=function(ae,pe,ge){wS(Zr(ae,L)).get(function(je){var Be=Pe(je,function(we){return we.isValue()});Be.fail.length>0?ge(Be.fail.map(Mf)):pe(Be.pass.map(Mf))})},te=function(ae){var pe=wt._addCacheSuffix(ae);cr(i,pe).each(function(ge){var je=--ge.count;je===0&&(delete i[pe],O(ge.id))})},ne=function(ae){At(ae,function(pe){te(pe)})};return{load:$,loadAll:Q,unload:te,unloadAll:ne,_setReferrerPolicy:y}},Ko=function(){var e=new WeakMap,r=function(a,i){var s=Ju(a),f=s.dom;return Z.from(e.get(f)).getOrThunk(function(){var g=Jk(f,i);return e.set(f,g),g})};return{forElement:r}},Ks=Ko(),io=function(){function e(r,a){this.node=r,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(r){return this.node=this.findSibling(this.node,"firstChild","nextSibling",r),this.node},e.prototype.prev=function(r){return this.node=this.findSibling(this.node,"lastChild","previousSibling",r),this.node},e.prototype.prev2=function(r){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",r),this.node},e.prototype.findSibling=function(r,a,i,s){var f,g;if(r){if(!s&&r[a])return r[a];if(r!==this.rootNode){if(f=r[i],f)return f;for(g=r.parentNode;g&&g!==this.rootNode;g=g.parentNode)if(f=g[i],f)return f}}},e.prototype.findPreviousNode=function(r,a,i,s){var f,g,y;if(r){if(f=r[i],this.rootNode&&f===this.rootNode)return;if(f){if(!s){for(y=f[a];y;y=y[a])if(!y[a])return y}return f}if(g=r.parentNode,g&&g!==this.rootNode)return g}},e}(),hd=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Ts=["td","th"],_S=["thead","tbody","tfoot"],Ni=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],tc=["h1","h2","h3","h4","h5","h6"],Qk=["li","dd","dt"],Ut=["ul","ol","dl"],kc=["pre","script","textarea","style"],Nf=function(e){var r;return function(a){return r=r||ct(e,Ft),Fr(r,Wa(a))}},Zn=Nf(tc),os=Nf(hd),CS=function(e){return Wa(e)==="table"},Vu=function(e){return No(e)&&!os(e)},xm=function(e){return No(e)&&Wa(e)==="br"},Wl=Nf(Ni),Xs=Nf(Ut),Bu=Nf(Qk),Ga=Nf(_S),wl=Nf(Ts),fv=Nf(kc),xo=function(e,r,a){return lv(e,r,a).isSome()},yd="\uFEFF",Vc=" ",Uc=function(e){return e===yd},SS=function(e){return e.replace(/\uFEFF/g,"")},Ae=yd,rc=Uc,_c=SS,Tm=Yn,is=on,yo=function(e){return is(e)&&(e=e.parentNode),Tm(e)&&e.hasAttribute("data-mce-caret")},To=function(e){return is(e)&&rc(e.data)},Cc=function(e){return yo(e)||To(e)},Ff=function(e){return e.firstChild!==e.lastChild||!ho(e.firstChild)},V1=function(e,r){var a=e.ownerDocument,i=a.createTextNode(Ae),s=e.parentNode;if(r){var f=e.previousSibling;if(is(f)){if(Cc(f))return f;if(mp(f))return f.splitText(f.data.length-1)}s.insertBefore(i,e)}else{var f=e.nextSibling;if(is(f)){if(Cc(f))return f;if(vp(f))return f.splitText(1),f}e.nextSibling?s.insertBefore(i,e.nextSibling):s.appendChild(i)}return i},Nn=function(e){var r=e.container();return on(r)?r.data.charAt(e.offset())===Ae||e.isAtStart()&&To(r.previousSibling):!1},Jh=function(e){var r=e.container();return on(r)?r.data.charAt(e.offset()-1)===Ae||e.isAtEnd()&&To(r.nextSibling):!1},us=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},e_=function(e,r,a){var i=r.ownerDocument,s=i.createElement(e);s.setAttribute("data-mce-caret",a?"before":"after"),s.setAttribute("data-mce-bogus","all"),s.appendChild(us());var f=r.parentNode;return a?f.insertBefore(s,r):r.nextSibling?f.insertBefore(s,r.nextSibling):f.appendChild(s),s},vp=function(e){return is(e)&&e.data[0]===Ae},mp=function(e){return is(e)&&e.data[e.data.length-1]===Ae},U1=function(e){var r=e.getElementsByTagName("br"),a=r[r.length-1];mi(a)&&a.parentNode.removeChild(a)},j1=function(e){return e&&e.hasAttribute("data-mce-caret")?(U1(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},ql=function(e){return yo(e.startContainer)},If=qs,xS=Fo,W1=ho,TS=on,t_=ns(["script","style","textarea"]),gp=ns(["img","input","textarea","hr","iframe","video","audio","object","embed"]),zm=ns(["table"]),r_=Cc,Gl=function(e){return r_(e)?!1:TS(e)?!t_(e.parentNode):gp(e)||W1(e)||zm(e)||q1(e)},Em=function(e){return Yn(e)&&e.getAttribute("unselectable")==="true"},q1=function(e){return Em(e)===!1&&xS(e)},n_=function(e,r){for(e=e.parentNode;e&&e!==r;e=e.parentNode){if(q1(e))return!1;if(If(e))return!0}return!0},zS=function(e){return q1(e)?Ne(sr(e.getElementsByTagName("*")),function(r,a){return r||If(a)},!1)!==!0:!1},ES=function(e){return gp(e)||zS(e)},xi=function(e,r){return Gl(e)&&n_(e,r)},Kl=/^[ \t\r\n]*$/,Ys=function(e){return Kl.test(e)},bd=function(e,r){var a=S.fromDom(r),i=S.fromDom(e);return xo(i,"pre,code",yt(jn,a))},a_=function(e,r){return on(e)&&Ys(e.data)&&bd(e,r)===!1},Zs=function(e){return Yn(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},dv=function(e,r){return Gl(e)&&a_(e,r)===!1||Zs(e)||G1(e)},G1=Ru("data-mce-bookmark"),K1=Ru("data-mce-bogus"),$f=as("data-mce-bogus","all"),zs=function(e,r){var a=0;if(dv(e,e))return!1;var i=e.firstChild;if(!i)return!0;var s=new io(i,e);do{if(r){if($f(i)){i=s.next(!0);continue}if(K1(i)){i=s.next();continue}}if(ho(i)){a++,i=s.next();continue}if(dv(i,e))return!1;i=s.next()}while(i);return a<=1},mu=function(e,r){return r===void 0&&(r=!0),zs(e.dom,r)},Qh=function(e){return e.nodeName.toLowerCase()==="span"},X1=function(e,r){return zr(e)&&(dv(e,r)||Vu(S.fromDom(e)))},vv=function(e,r){var a=new io(e,r).prev(!1),i=new io(e,r).next(!1),s=Me(a)||X1(a,r),f=Me(i)||X1(i,r);return s&&f},Am=function(e){return Qh(e)&&e.getAttribute("data-mce-type")==="bookmark"},Om=function(e,r){return on(e)&&e.data.length>0&&vv(e,r)},AS=function(e){return Yn(e)?e.childNodes.length>0:!1},Dm=function(e){return ma(e)||op(e)},Y1=function(e,r,a){var i=a||r;if(Yn(r)&&Am(r))return r;for(var s=r.childNodes,f=s.length-1;f>=0;f--)Y1(e,s[f],i);if(Yn(r)){var g=r.childNodes;g.length===1&&Am(g[0])&&r.parentNode.insertBefore(g[0],r)}return!Dm(r)&&!dv(r,i)&&!AS(r)&&!Om(r,i)&&e.remove(r),r},OS=wt.makeMap,ai=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ey=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wd=/[<>&\"\']/g,Z1=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,J1={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Es={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},cs={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},mv=function(e){var r=S.fromTag("div").dom;return r.innerHTML=e,r.textContent||r.innerText||e},kd=function(e,r){var a,i,s,f={};if(e){for(e=e.split(","),r=r||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],r)),Es[i]||(s="&"+e[a+1]+";",f[i]=s,f[s]=i);return f}},ty=kd("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),pp=function(e,r){return e.replace(r?ai:ey,function(a){return Es[a]||a})},Q1=function(e){return(""+e).replace(wd,function(r){return Es[r]||r})},gv=function(e,r){return e.replace(r?ai:ey,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":Es[a]||"&#"+a.charCodeAt(0)+";"})},ry=function(e,r,a){return a=a||ty,e.replace(r?ai:ey,function(i){return Es[i]||a[i]||i})},DS=function(e,r){var a=kd(r)||ty,i=function(g,y){return g.replace(y?ai:ey,function(k){return Es[k]!==void 0?Es[k]:a[k]!==void 0?a[k]:k.length>1?"&#"+((k.charCodeAt(0)-55296)*1024+(k.charCodeAt(1)-56320)+65536)+";":"&#"+k.charCodeAt(0)+";"})},s=function(g,y){return ry(g,y,a)},f=OS(e.replace(/\+/g,","));return f.named&&f.numeric?i:f.named?r?s:ry:f.numeric?gv:pp},e0=function(e){return e.replace(Z1,function(r,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):J1[a]||String.fromCharCode(a)):cs[r]||ty[r]||mv(r)})},ss={encodeRaw:pp,encodeAllRaw:Q1,encodeNumeric:gv,encodeNamed:ry,getEncodeFunc:DS,decode:e0},jc={},Rm={},Js=wt.makeMap,Mu=wt.each,ny=wt.extend,Lf=wt.explode,o_=wt.inArray,gu=function(e,r){return e=wt.trim(e),e?e.split(r||" "):[]},t0=function(e,r){var a=Js(e," ",Js(e.toUpperCase()," "));return ny(a,r)},ay=function(e){return t0("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},Ua=function(e){var r={},a,i,s,f,g,y,k=function(F,$,L){var Q,te,ne,ae=function(ge,je){var Be={},we,Ge;for(we=0,Ge=ge.length;we<Ge;we++)Be[ge[we]]=je||{};return Be};L=L||[],$=$||"",typeof L=="string"&&(L=gu(L));var pe=gu(F);for(Q=pe.length;Q--;)te=gu([a,$].join(" ")),ne={attributes:ae(te),attributesOrder:te,children:ae(L,Rm)},r[pe[Q]]=ne},O=function(F,$){var L,Q,te,ne,ae=gu(F);L=ae.length;for(var pe=gu($);L--;)for(Q=r[ae[L]],te=0,ne=pe.length;te<ne;te++)Q.attributes[pe[te]]={},Q.attributesOrder.push(pe[te])};return jc[e]?jc[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",y="acronym applet basefont big font strike tt",s=[s,y].join(" "),Mu(gu(y),function(F){k(F,"",s)}),g="center dir isindex noframes",i=[i,g].join(" "),f=[i,s].join(" "),Mu(gu(g),function(F){k(F,"",f)})),f=f||[i,s].join(" "),k("html","manifest","head body"),k("head","","base command link meta noscript script style title"),k("title hr noscript br"),k("base","href target"),k("link","href rel media hreflang type sizes hreflang"),k("meta","name http-equiv content charset"),k("style","media type scoped"),k("script","src async defer type charset"),k("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),k("address dt dd div caption","",f),k("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),k("blockquote","cite",f),k("ol","reversed start type","li"),k("ul","","li"),k("li","value",f),k("dl","","dt dd"),k("a","href target rel media hreflang type",s),k("q","cite",s),k("ins del","cite datetime",f),k("img","src sizes srcset alt usemap ismap width height"),k("iframe","src name width height",f),k("embed","src type width height"),k("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),k("param","name value"),k("map","name",[f,"area"].join(" ")),k("area","alt coords shape href target rel media hreflang type"),k("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),k("colgroup","span","col"),k("col","span"),k("tbody thead tfoot","","tr"),k("tr","","td th"),k("td","colspan rowspan headers",f),k("th","colspan rowspan headers scope abbr",f),k("form","accept-charset action autocomplete enctype method name novalidate target",f),k("fieldset","disabled form name",[f,"legend"].join(" ")),k("label","form for",s),k("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),k("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?f:s),k("select","disabled form multiple name required size","option optgroup"),k("optgroup","disabled label","option"),k("option","disabled label selected value"),k("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),k("menu","type label",[f,"li"].join(" ")),k("noscript","",f),e!=="html4"&&(k("wbr"),k("ruby","",[s,"rt rp"].join(" ")),k("figcaption","",f),k("mark rt rp summary bdi","",s),k("canvas","width height",f),k("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),k("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),k("picture","","img source"),k("source","src srcset type media sizes"),k("track","kind src srclang label default"),k("datalist","",[s,"option"].join(" ")),k("article section nav aside main header footer","",f),k("hgroup","","h1 h2 h3 h4 h5 h6"),k("figure","",[f,"figcaption"].join(" ")),k("time","datetime",s),k("dialog","open",f),k("command","type label icon disabled checked radiogroup command"),k("output","for form name",s),k("progress","value max",s),k("meter","value min max low high optimum",s),k("details","open",[f,"summary"].join(" ")),k("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(O("script","language xml:space"),O("style","xml:space"),O("object","declare classid code codebase codetype archive standby align border hspace vspace"),O("embed","align name hspace vspace"),O("param","valuetype type"),O("a","charset name rev shape coords"),O("br","clear"),O("applet","codebase archive code object alt name width height align hspace vspace"),O("img","name longdesc align border hspace vspace"),O("iframe","longdesc frameborder marginwidth marginheight scrolling align"),O("font basefont","size color face"),O("input","usemap align"),O("select"),O("textarea"),O("h1 h2 h3 h4 h5 h6 div p legend caption","align"),O("ul","type compact"),O("li","type"),O("ol dl menu dir","compact"),O("pre","width xml:space"),O("hr","align noshade size width"),O("isindex","prompt"),O("table","summary width frame rules cellspacing cellpadding align bgcolor"),O("col","width align char charoff valign"),O("colgroup","width align char charoff valign"),O("thead","align char charoff valign"),O("tr","align char charoff valign bgcolor"),O("th","axis align char charoff valign nowrap bgcolor width height"),O("form","accept"),O("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),O("tfoot","align char charoff valign"),O("tbody","align char charoff valign"),O("area","nohref"),O("body","background bgcolor text link vlink alink")),e!=="html4"&&(O("input button select textarea","autofocus"),O("input textarea","placeholder"),O("a","download"),O("link script img","crossorigin"),O("img","loading"),O("iframe","sandbox seamless allowfullscreen loading")),Mu(gu("a form meter progress dfn"),function(F){r[F]&&delete r[F].children[F]}),delete r.caption.children.table,delete r.script,jc[e]=r,r)},Fn=function(e,r){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Mu(e,function(i,s){a[s]=a[s.toUpperCase()]=r==="map"?Js(i,/[, ]/):Lf(i,/[, ]/)})),a},ls=function(e){var r={},a={},i=[],s={},f={},g=function(rr,Dr,An){var Qe=e[rr];return Qe?Qe=Js(Qe,/[, ]/,Js(Qe.toUpperCase(),/[, ]/)):(Qe=jc[rr],Qe||(Qe=t0(Dr,An),jc[rr]=Qe)),Qe};e=e||{};var y=Ua(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var k=Fn(e.valid_styles),O=Fn(e.invalid_styles,"map"),F=Fn(e.valid_classes,"map"),$=g("whitespace_elements","pre script noscript style textarea video audio iframe object code"),L=g("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),Q=g("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),te=g("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),ne="td th iframe video audio object script code",ae=g("non_empty_elements",ne+" pre",Q),pe=g("move_caret_before_on_enter_elements",ne+" table",Q),ge=g("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),je=g("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ge),Be=g("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Mu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(rr){f[rr]=new RegExp("</"+rr+"[^>]*>","gi")});var we=function(rr){return new RegExp("^"+rr.replace(/([?+*])/g,".$1")+"$")},Ge=function(rr){var Dr,An,Qe,fr,ar,Pn,Hn,Co,iu,Yi,mc,gc,Zc,Zi,fl,Jc,ov,eo,$o=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,uu=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,sd=/[*?+]/;if(rr){var ld=gu(rr,",");for(r["@"]&&(Jc=r["@"].attributes,ov=r["@"].attributesOrder),Dr=0,An=ld.length;Dr<An;Dr++)if(ar=$o.exec(ld[Dr]),ar){if(Zi=ar[1],iu=ar[2],fl=ar[3],Co=ar[5],gc={},Zc=[],Pn={attributes:gc,attributesOrder:Zc},Zi==="#"&&(Pn.paddEmpty=!0),Zi==="-"&&(Pn.removeEmpty=!0),ar[4]==="!"&&(Pn.removeEmptyAttrs=!0),Jc&&(lr(Jc,function(fd,Jg){gc[Jg]=fd}),Zc.push.apply(Zc,ov)),Co){for(Co=gu(Co,"|"),Qe=0,fr=Co.length;Qe<fr;Qe++)if(ar=uu.exec(Co[Qe]),ar){if(Hn={},mc=ar[1],Yi=ar[2].replace(/[\\:]:/g,":"),Zi=ar[3],eo=ar[4],mc==="!"&&(Pn.attributesRequired=Pn.attributesRequired||[],Pn.attributesRequired.push(Yi),Hn.required=!0),mc==="-"){delete gc[Yi],Zc.splice(o_(Zc,Yi),1);continue}Zi&&(Zi==="="&&(Pn.attributesDefault=Pn.attributesDefault||[],Pn.attributesDefault.push({name:Yi,value:eo}),Hn.defaultValue=eo),Zi===":"&&(Pn.attributesForced=Pn.attributesForced||[],Pn.attributesForced.push({name:Yi,value:eo}),Hn.forcedValue=eo),Zi==="<"&&(Hn.validValues=Js(eo,"?"))),sd.test(Yi)?(Pn.attributePatterns=Pn.attributePatterns||[],Hn.pattern=we(Yi),Pn.attributePatterns.push(Hn)):(gc[Yi]||Zc.push(Yi),gc[Yi]=Hn)}}!Jc&&iu==="@"&&(Jc=gc,ov=Zc),fl&&(Pn.outputName=iu,r[fl]=Pn),sd.test(iu)?(Pn.pattern=we(iu),i.push(Pn)):r[iu]=Pn}}},It=function(rr){r={},i=[],Ge(rr),Mu(y,function(Dr,An){a[An]=Dr.children})},ur=function(rr){var Dr=/^(~)?(.+)$/;rr&&(jc.text_block_elements=jc.block_elements=null,Mu(gu(rr,","),function(An){var Qe=Dr.exec(An),fr=Qe[1]==="~",ar=fr?"span":"div",Pn=Qe[2];if(a[Pn]=a[ar],s[Pn]=ar,fr||(je[Pn.toUpperCase()]={},je[Pn]={}),!r[Pn]){var Hn=r[ar];Hn=ny({},Hn),delete Hn.removeEmptyAttrs,delete Hn.removeEmpty,r[Pn]=Hn}Mu(a,function(Co,iu){Co[ar]&&(a[iu]=Co=ny({},a[iu]),Co[Pn]=Co[ar])})}))},Vn=function(rr){var Dr=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;jc[e.schema]=null,rr&&Mu(gu(rr,","),function(An){var Qe=Dr.exec(An),fr,ar;Qe&&(ar=Qe[1],ar?fr=a[Qe[2]]:fr=a[Qe[2]]={"#comment":{}},fr=a[Qe[2]],Mu(gu(Qe[3],"|"),function(Pn){ar==="-"?delete fr[Pn]:fr[Pn]={}}))})},Qr=function(rr){var Dr=r[rr],An;if(Dr)return Dr;for(An=i.length;An--;)if(Dr=i[An],Dr.pattern.test(rr))return Dr};e.valid_elements?It(e.valid_elements):(Mu(y,function(rr,Dr){r[Dr]={attributes:rr.attributes,attributesOrder:rr.attributesOrder},a[Dr]=rr.children}),e.schema!=="html5"&&Mu(gu("strong/b em/i"),function(rr){var Dr=gu(rr,"/");r[Dr[1]].outputName=Dr[0]}),Mu(Be,function(rr,Dr){r[Dr]&&(e.padd_empty_block_inline_children&&(r[Dr].paddInEmptyBlock=!0),r[Dr].removeEmpty=!0)}),Mu(gu("ol ul blockquote a table tbody"),function(rr){r[rr]&&(r[rr].removeEmpty=!0)}),Mu(gu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(rr){r[rr].paddEmpty=!0}),Mu(gu("span"),function(rr){r[rr].removeEmptyAttrs=!0})),ur(e.custom_elements),Vn(e.valid_children),Ge(e.extended_valid_elements),Vn("+ol[ul|ol],+ul[ul|ol]"),Mu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(rr,Dr){r[Dr]&&(r[Dr].parentsRequired=gu(rr))}),e.invalid_elements&&Mu(Lf(e.invalid_elements),function(rr){r[rr]&&delete r[rr]}),Qr("span")||Ge("span[!data-mce-type|*]");var jt=V(k),En=V(O),hr=V(F),Yr=V(te),wr=V(je),Hr=V(ge),sn=V(Be),tr=V(Q),rn=V(L),Ca=V(ae),Qa=V(pe),Ya=V($),xu=V(f),ii=function(rr,Dr){var An=a[rr.toLowerCase()];return!!(An&&An[Dr.toLowerCase()])},Dc=function(rr,Dr){var An,Qe,fr=Qr(rr);if(fr)if(Dr){if(fr.attributes[Dr])return!0;if(An=fr.attributePatterns,An){for(Qe=An.length;Qe--;)if(An[Qe].pattern.test(rr))return!0}}else return!0;return!1},Hs=V(s);return{children:a,elements:r,getValidStyles:jt,getValidClasses:hr,getBlockElements:wr,getInvalidStyles:En,getShortEndedElements:tr,getTextBlockElements:Hr,getTextInlineElements:sn,getBoolAttrs:Yr,getElementRule:Qr,getSelfClosingElements:rn,getNonEmptyElements:Ca,getMoveCaretBeforeOnEnterElements:Qa,getWhiteSpaceElements:Ya,getSpecialElements:xu,isValidChild:ii,isValid:Dc,getCustomElements:Hs,addValidElements:Ge,setValidElements:It,addCustomElements:ur,addValidChildren:Vn}},oy=function(e,r,a,i){var s=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+s(r)+s(a)+s(i)},Qs=function(e,r){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,g=/\s+$/,y,k={},O,F,$=yd;e=e||{},r&&(O=r.getValidStyles(),F=r.getInvalidStyles());var L=(`\\" \\' \\; \\: ; : `+$).split(" ");for(y=0;y<L.length;y++)k[L[y]]=$+y,k[$+y]=L[y];return{toHex:function(Q){return Q.replace(i,oy)},parse:function(Q){var te={},ne,ae,pe,ge,je=e.url_converter,Be=e.url_converter_scope||a,we=function(hr,Yr,wr){var Hr=te[hr+"-top"+Yr];if(Hr){var sn=te[hr+"-right"+Yr];if(sn){var tr=te[hr+"-bottom"+Yr];if(tr){var rn=te[hr+"-left"+Yr];if(rn){var Ca=[Hr,sn,tr,rn];for(y=Ca.length-1;y--&&Ca[y]===Ca[y+1];);y>-1&&wr||(te[hr+Yr]=y===-1?Ca[0]:Ca.join(" "),delete te[hr+"-top"+Yr],delete te[hr+"-right"+Yr],delete te[hr+"-bottom"+Yr],delete te[hr+"-left"+Yr])}}}}},Ge=function(hr){var Yr=te[hr],wr;if(Yr){for(Yr=Yr.split(" "),wr=Yr.length;wr--;)if(Yr[wr]!==Yr[0])return!1;return te[hr]=Yr[0],!0}},It=function(hr,Yr,wr,Hr){Ge(Yr)&&Ge(wr)&&Ge(Hr)&&(te[hr]=te[Yr]+" "+te[wr]+" "+te[Hr],delete te[Yr],delete te[wr],delete te[Hr])},ur=function(hr){return ge=!0,k[hr]},Vn=function(hr,Yr){return ge&&(hr=hr.replace(/\uFEFF[0-9]/g,function(wr){return k[wr]})),Yr||(hr=hr.replace(/\\([\'\";:])/g,"$1")),hr},Qr=function(hr){return String.fromCharCode(parseInt(hr.slice(1),16))},jt=function(hr){return hr.replace(/\\[0-9a-f]+/gi,Qr)},En=function(hr,Yr,wr,Hr,sn,tr){if(sn=sn||tr,sn)return sn=Vn(sn),"'"+sn.replace(/\'/g,"\\'")+"'";if(Yr=Vn(Yr||wr||Hr),!e.allow_script_urls){var rn=Yr.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(rn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(rn))return""}return je&&(Yr=je.call(Be,Yr,"style")),"url('"+Yr.replace(/\'/g,"\\'")+"')"};if(Q){for(Q=Q.replace(/[\u0000-\u001F]/g,""),Q=Q.replace(/\\[\"\';:\uFEFF]/g,ur).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(hr){return hr.replace(/[;:]/g,ur)});ne=f.exec(Q);)if(f.lastIndex=ne.index+ne[0].length,ae=ne[1].replace(g,"").toLowerCase(),pe=ne[2].replace(g,""),ae&&pe){if(ae=jt(ae),pe=jt(pe),ae.indexOf($)!==-1||ae.indexOf('"')!==-1||!e.allow_script_urls&&(ae==="behavior"||/expression\s*\(|\/\*|\*\//.test(pe)))continue;ae==="font-weight"&&pe==="700"?pe="bold":(ae==="color"||ae==="background-color")&&(pe=pe.toLowerCase()),pe=pe.replace(i,oy),pe=pe.replace(s,En),te[ae]=ge?Vn(pe,!0):pe}we("border","",!0),we("border","-width"),we("border","-color"),we("border","-style"),we("padding",""),we("margin",""),It("border","border-width","border-style","border-color"),te.border==="medium none"&&delete te.border,te["border-image"]==="none"&&delete te["border-image"]}return te},serialize:function(Q,te){var ne="",ae=function(ge){var je,Be=O[ge];if(Be)for(var we=0,Ge=Be.length;we<Ge;we++)ge=Be[we],je=Q[ge],je&&(ne+=(ne.length>0?" ":"")+ge+": "+je+";")},pe=function(ge,je){var Be=F["*"];return Be&&Be[ge]?!1:(Be=F[je],!(Be&&Be[ge]))};return te&&O?(ae("*"),ae(te)):lr(Q,function(ge,je){ge&&(!F||pe(je,te))&&(ne+=(ne.length>0?" ":"")+je+": "+ge+";")}),ne}}},i_={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},bo=function(e){return e instanceof Event||Le(e.initEvent)},r0=function(e){return e.isDefaultPrevented===Ft||e.isDefaultPrevented===Ve},iy=function(e){return Nr(e.preventDefault)||bo(e)},uy=function(e,r){var a=r??{};for(var i in e)Fr(i_,i)||(a[i]=e[i]);return zr(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},Yt=function(e,r,a,i){var s,f=uy(r,i);return f.type=e,Nr(f.target)&&(f.target=(s=f.srcElement)!==null&&s!==void 0?s:a),iy(r)&&(f.preventDefault=function(){f.defaultPrevented=!0,f.isDefaultPrevented=Ft,Le(r.preventDefault)?r.preventDefault():bo(r)&&(r.returnValue=!1)},f.stopPropagation=function(){f.cancelBubble=!0,f.isPropagationStopped=Ft,Le(r.stopPropagation)?r.stopPropagation():bo(r)&&(r.cancelBubble=!0)},f.stopImmediatePropagation=function(){f.isImmediatePropagationStopped=Ft,f.stopPropagation()},r0(f)||(f.isDefaultPrevented=f.defaultPrevented===!0?Ft:Ve,f.isPropagationStopped=f.cancelBubble===!0?Ft:Ve,f.isImmediatePropagationStopped=Ve)),f},n0="mce-data-",a0=/^(?:mouse|contextmenu)|click/,_d=function(e,r,a,i){e.addEventListener?e.addEventListener(r,a,i||!1):e.attachEvent&&e.attachEvent("on"+r,a)},hp=function(e,r,a,i){e.removeEventListener?e.removeEventListener(r,a,i||!1):e.detachEvent&&e.detachEvent("on"+r,a)},pv=function(e){return zr(e)&&a0.test(e.type)},Cd=function(e,r){var a=Yt(e.type,e,document,r);if(pv(e)&&Me(e.pageX)&&!Me(e.clientX)){var i=a.target.ownerDocument||document,s=i.documentElement,f=i.body,g=a;g.pageX=e.clientX+(s&&s.scrollLeft||f&&f.scrollLeft||0)-(s&&s.clientLeft||f&&f.clientLeft||0),g.pageY=e.clientY+(s&&s.scrollTop||f&&f.scrollTop||0)-(s&&s.clientTop||f&&f.clientTop||0)}return Me(a.metaKey)&&(a.metaKey=!1),a},hv=function(e,r,a){var i=e.document,s={type:"ready"};if(a.domLoaded){r(s);return}var f=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},g=function(){hp(e,"DOMContentLoaded",g),hp(e,"load",g),a.domLoaded||(a.domLoaded=!0,r(s)),e=null};f()?g():_d(e,"DOMContentLoaded",g),a.domLoaded||_d(e,"load",g)},Pm=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=n0+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(r,a,i,s){var f=this,g,y,k,O,F,$,L,Q=window,te=function(ae){f.executeHandlers(Cd(ae||Q.event),g)};if(!(!r||r.nodeType===3||r.nodeType===8)){r[f.expando]?g=r[f.expando]:(g=f.count++,r[f.expando]=g,f.events[g]={}),s=s||r;var ne=a.split(" ");for(k=ne.length;k--;){if(O=ne[k],$=te,F=L=!1,O==="DOMContentLoaded"&&(O="ready"),f.domLoaded&&O==="ready"&&r.readyState==="complete"){i.call(s,Cd({type:O}));continue}f.hasMouseEnterLeave||(F=f.mouseEnterLeave[O],F&&($=function(ae){var pe=ae.currentTarget,ge=ae.relatedTarget;if(ge&&pe.contains)ge=pe.contains(ge);else for(;ge&&ge!==pe;)ge=ge.parentNode;ge||(ae=Cd(ae||Q.event),ae.type=ae.type==="mouseout"?"mouseleave":"mouseenter",ae.target=pe,f.executeHandlers(ae,g))})),!f.hasFocusIn&&(O==="focusin"||O==="focusout")&&(L=!0,F=O==="focusin"?"focus":"blur",$=function(ae){ae=Cd(ae||Q.event),ae.type=ae.type==="focus"?"focusin":"focusout",f.executeHandlers(ae,g)}),y=f.events[g][O],y?O==="ready"&&f.domLoaded?i(Cd({type:O})):y.push({func:i,scope:s}):(f.events[g][O]=y=[{func:i,scope:s}],y.fakeName=F,y.capture=L,y.nativeHandler=$,O==="ready"?hv(r,$,f):_d(r,F||O,$,L))}return r=y=null,i}},e.prototype.unbind=function(r,a,i){var s,f,g,y,k;if(!r||r.nodeType===3||r.nodeType===8)return this;var O=r[this.expando];if(O){if(k=this.events[O],a){var F=a.split(" ");for(f=F.length;f--;)if(y=F[f],s=k[y],s){if(i){for(g=s.length;g--;)if(s[g].func===i){var $=s.nativeHandler,L=s.fakeName,Q=s.capture;s=s.slice(0,g).concat(s.slice(g+1)),s.nativeHandler=$,s.fakeName=L,s.capture=Q,k[y]=s}}(!i||s.length===0)&&(delete k[y],hp(r,s.fakeName||y,s.nativeHandler,s.capture))}}else lr(k,function(te,ne){hp(r,te.fakeName||ne,te.nativeHandler,te.capture)}),k={};for(y in k)if(Fr(k,y))return this;delete this.events[O];try{delete r[this.expando]}catch{r[this.expando]=null}}return this},e.prototype.fire=function(r,a,i){var s;if(!r||r.nodeType===3||r.nodeType===8)return this;var f=Cd({type:a,target:r},i);do s=r[this.expando],s&&this.executeHandlers(f,s),r=r.parentNode||r.ownerDocument||r.defaultView||r.parentWindow;while(r&&!f.isPropagationStopped());return this},e.prototype.clean=function(r){var a,i;if(!r||r.nodeType===3||r.nodeType===8)return this;if(r[this.expando]&&this.unbind(r),r.getElementsByTagName||(r=r.document),r&&r.getElementsByTagName)for(this.unbind(r),i=r.getElementsByTagName("*"),a=i.length;a--;)r=i[a],r[this.expando]&&this.unbind(r);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(r){return r&&(r.preventDefault(),r.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(r,a){var i=this.events[a],s=i&&i[r.type];if(s)for(var f=0,g=s.length;f<g;f++){var y=s[f];if(y&&y.func.call(y.scope,r)===!1&&r.preventDefault(),r.isImmediatePropagationStopped())return}},e.Event=new e,e}(),ki,sa,fs,u_,Wc,o0,Xl,Hf,Vf,ds,Sd,Wi,nc,Yl,xd,Bm,yv,mn,tu="sizzle"+-new Date,kl=window.document,Zl=0,yp=0,c_=fy(),cy=fy(),Td=fy(),zd=function(e,r){return e===r&&(ds=!0),0},Mm="undefined",bp=1<<31,RS={}.hasOwnProperty,vs=[],i0=vs.pop,bv=vs.push,Ed=vs.push,u0=vs.slice,Ad=vs.indexOf||function(e){for(var r=0,a=this.length;r<a;r++)if(this[r]===e)return r;return-1},s_="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Xo="[\\x20\\t\\r\\n\\f]",pu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Nu="\\["+Xo+"*("+pu+")(?:"+Xo+"*([*^$|!~]?=)"+Xo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+pu+"))|)"+Xo+"*\\]",l_=":("+pu+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Nu+")*)|.*)\\)|)",sy=new RegExp("^"+Xo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Xo+"+$","g"),PS=new RegExp("^"+Xo+"*,"+Xo+"*"),f_=new RegExp("^"+Xo+"*([>+~]|"+Xo+")"+Xo+"*"),el=new RegExp("="+Xo+`*([^\\]'"]*?)`+Xo+"*\\]","g"),BS=new RegExp(l_),Nm=new RegExp("^"+pu+"$"),ly={ID:new RegExp("^#("+pu+")"),CLASS:new RegExp("^\\.("+pu+")"),TAG:new RegExp("^("+pu+"|[*])"),ATTR:new RegExp("^"+Nu),PSEUDO:new RegExp("^"+l_),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Xo+"*(even|odd|(([+-]|)(\\d*)n|)"+Xo+"*(?:([+-]|)"+Xo+"*(\\d+)|))"+Xo+"*\\)|)","i"),bool:new RegExp("^(?:"+s_+")$","i"),needsContext:new RegExp("^"+Xo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Xo+"*((?:-\\d)?\\d*)"+Xo+"*\\)|)(?=[^-]|$)","i")},MS=/^(?:input|select|textarea|button)$/i,d_=/^h\d$/i,c0=/^[^{]+\{\s*\[native \w/,s0=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,l0=/[+~]/,NS=/'|\\/g,Od=new RegExp("\\\\([\\da-f]{1,6}"+Xo+"?|("+Xo+")|.)","ig"),Dd=function(e,r,a){var i="0x"+r-65536;return i!==i||a?r:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Ed.apply(vs=u0.call(kl.childNodes),kl.childNodes),vs[kl.childNodes.length].nodeType}catch{Ed={apply:vs.length?function(r,a){bv.apply(r,u0.call(a))}:function(r,a){for(var i=r.length,s=0;r[i++]=a[s++];);r.length=i-1}}}var fo=function(e,r,a,i){var s,f,g,y,k,O,F,$,L,Q;if((r?r.ownerDocument||r:kl)!==Wi&&Sd(r),r=r||Wi,a=a||[],!e||typeof e!="string")return a;if((y=r.nodeType)!==1&&y!==9)return[];if(Yl&&!i){if(s=s0.exec(e))if(g=s[1]){if(y===9)if(f=r.getElementById(g),f&&f.parentNode){if(f.id===g)return a.push(f),a}else return a;else if(r.ownerDocument&&(f=r.ownerDocument.getElementById(g))&&mn(r,f)&&f.id===g)return a.push(f),a}else{if(s[2])return Ed.apply(a,r.getElementsByTagName(e)),a;if((g=s[3])&&ki.getElementsByClassName)return Ed.apply(a,r.getElementsByClassName(g)),a}if(ki.qsa&&(!xd||!xd.test(e))){if($=F=tu,L=r,Q=y===9&&e,y===1&&r.nodeName.toLowerCase()!=="object"){for(O=Wc(e),(F=r.getAttribute("id"))?$=F.replace(NS,"\\$&"):r.setAttribute("id",$),$="[id='"+$+"'] ",k=O.length;k--;)O[k]=$+vy(O[k]);L=l0.test(e)&&dy(r.parentNode)||r,Q=O.join(",")}if(Q)try{return Ed.apply(a,L.querySelectorAll(Q)),a}catch{}finally{F||r.removeAttribute("id")}}}return Xl(e.replace(sy,"$1"),r,a,i)};function fy(){var e=[];function r(a,i){return e.push(a+" ")>sa.cacheLength&&delete r[e.shift()],r[a+" "]=i}return r}function _l(e){return e[tu]=!0,e}function v_(e,r){var a=r&&e,i=a&&e.nodeType===1&&r.nodeType===1&&(~r.sourceIndex||bp)-(~e.sourceIndex||bp);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===r)return-1}return e?1:-1}function Cl(e){return function(r){var a=r.nodeName.toLowerCase();return a==="input"&&r.type===e}}function Jl(e){return function(r){var a=r.nodeName.toLowerCase();return(a==="input"||a==="button")&&r.type===e}}function Rd(e){return _l(function(r){return r=+r,_l(function(a,i){for(var s,f=e([],a.length,r),g=f.length;g--;)a[s=f[g]]&&(a[s]=!(i[s]=a[s]))})})}function dy(e){return e&&typeof e.getElementsByTagName!==Mm&&e}ki=fo.support={},u_=fo.isXML=function(e){var r=e&&(e.ownerDocument||e).documentElement;return r?r.nodeName!=="HTML":!1},Sd=fo.setDocument=function(e){var r,a=e?e.ownerDocument||e:kl,i=a.defaultView;function s(f){try{return f.top}catch{}return null}return a===Wi||a.nodeType!==9||!a.documentElement?Wi:(Wi=a,nc=a.documentElement,Yl=!u_(a),i&&i!==s(i)&&(i.addEventListener?i.addEventListener("unload",function(){Sd()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Sd()})),ki.attributes=!0,ki.getElementsByTagName=!0,ki.getElementsByClassName=c0.test(a.getElementsByClassName),ki.getById=!0,sa.find.ID=function(f,g){if(typeof g.getElementById!==Mm&&Yl){var y=g.getElementById(f);return y&&y.parentNode?[y]:[]}},sa.filter.ID=function(f){var g=f.replace(Od,Dd);return function(y){return y.getAttribute("id")===g}},sa.find.TAG=ki.getElementsByTagName?function(f,g){if(typeof g.getElementsByTagName!==Mm)return g.getElementsByTagName(f)}:function(f,g){var y,k=[],O=0,F=g.getElementsByTagName(f);if(f==="*"){for(;y=F[O++];)y.nodeType===1&&k.push(y);return k}return F},sa.find.CLASS=ki.getElementsByClassName&&function(f,g){if(Yl)return g.getElementsByClassName(f)},Bm=[],xd=[],ki.disconnectedMatch=!0,xd=xd.length&&new RegExp(xd.join("|")),Bm=Bm.length&&new RegExp(Bm.join("|")),r=c0.test(nc.compareDocumentPosition),mn=r||c0.test(nc.contains)?function(f,g){var y=f.nodeType===9?f.documentElement:f,k=g&&g.parentNode;return f===k||!!(k&&k.nodeType===1&&(y.contains?y.contains(k):f.compareDocumentPosition&&f.compareDocumentPosition(k)&16))}:function(f,g){if(g){for(;g=g.parentNode;)if(g===f)return!0}return!1},zd=r?function(f,g){if(f===g)return ds=!0,0;var y=!f.compareDocumentPosition-!g.compareDocumentPosition;return y||(y=(f.ownerDocument||f)===(g.ownerDocument||g)?f.compareDocumentPosition(g):1,y&1||!ki.sortDetached&&g.compareDocumentPosition(f)===y?f===a||f.ownerDocument===kl&&mn(kl,f)?-1:g===a||g.ownerDocument===kl&&mn(kl,g)?1:Vf?Ad.call(Vf,f)-Ad.call(Vf,g):0:y&4?-1:1)}:function(f,g){if(f===g)return ds=!0,0;var y,k=0,O=f.parentNode,F=g.parentNode,$=[f],L=[g];if(!O||!F)return f===a?-1:g===a?1:O?-1:F?1:Vf?Ad.call(Vf,f)-Ad.call(Vf,g):0;if(O===F)return v_(f,g);for(y=f;y=y.parentNode;)$.unshift(y);for(y=g;y=y.parentNode;)L.unshift(y);for(;$[k]===L[k];)k++;return k?v_($[k],L[k]):$[k]===kl?-1:L[k]===kl?1:0},a)},fo.matches=function(e,r){return fo(e,null,null,r)},fo.matchesSelector=function(e,r){if((e.ownerDocument||e)!==Wi&&Sd(e),r=r.replace(el,"='$1']"),ki.matchesSelector&&Yl&&(!Bm||!Bm.test(r))&&(!xd||!xd.test(r)))try{var a=yv.call(e,r);if(a||ki.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch{}return fo(r,Wi,null,[e]).length>0},fo.contains=function(e,r){return(e.ownerDocument||e)!==Wi&&Sd(e),mn(e,r)},fo.attr=function(e,r){(e.ownerDocument||e)!==Wi&&Sd(e);var a=sa.attrHandle[r.toLowerCase()],i=a&&RS.call(sa.attrHandle,r.toLowerCase())?a(e,r,!Yl):void 0;return i!==void 0?i:ki.attributes||!Yl?e.getAttribute(r):(i=e.getAttributeNode(r))&&i.specified?i.value:null},fo.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},fo.uniqueSort=function(e){var r,a=[],i=0,s=0;if(ds=!ki.detectDuplicates,Vf=!ki.sortStable&&e.slice(0),e.sort(zd),ds){for(;r=e[s++];)r===e[s]&&(i=a.push(s));for(;i--;)e.splice(a[i],1)}return Vf=null,e},fs=fo.getText=function(e){var r,a="",i=0,s=e.nodeType;if(s){if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=fs(e)}else if(s===3||s===4)return e.nodeValue}else for(;r=e[i++];)a+=fs(r);return a},sa=fo.selectors={cacheLength:50,createPseudo:_l,match:ly,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Od,Dd),e[3]=(e[3]||e[4]||e[5]||"").replace(Od,Dd),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||fo.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&fo.error(e[0]),e},PSEUDO:function(e){var r,a=!e[6]&&e[2];return ly.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&BS.test(a)&&(r=Wc(a,!0))&&(r=a.indexOf(")",a.length-r)-a.length)&&(e[0]=e[0].slice(0,r),e[2]=a.slice(0,r)),e.slice(0,3))}},filter:{TAG:function(e){var r=e.replace(Od,Dd).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===r}},CLASS:function(e){var r=c_[e+" "];return r||(r=new RegExp("(^|"+Xo+")"+e+"("+Xo+"|$)"))&&c_(e,function(a){return r.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==Mm&&a.getAttribute("class")||"")})},ATTR:function(e,r,a){return function(i){var s=fo.attr(i,e);return s==null?r==="!=":r?(s+="",r==="="?s===a:r==="!="?s!==a:r==="^="?a&&s.indexOf(a)===0:r==="*="?a&&s.indexOf(a)>-1:r==="$="?a&&s.slice(-a.length)===a:r==="~="?(" "+s+" ").indexOf(a)>-1:r==="|="?s===a||s.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,r,a,i,s){var f=e.slice(0,3)!=="nth",g=e.slice(-4)!=="last",y=r==="of-type";return i===1&&s===0?function(k){return!!k.parentNode}:function(k,O,F){var $,L,Q,te,ne,ae,pe=f!==g?"nextSibling":"previousSibling",ge=k.parentNode,je=y&&k.nodeName.toLowerCase(),Be=!F&&!y;if(ge){if(f){for(;pe;){for(Q=k;Q=Q[pe];)if(y?Q.nodeName.toLowerCase()===je:Q.nodeType===1)return!1;ae=pe=e==="only"&&!ae&&"nextSibling"}return!0}if(ae=[g?ge.firstChild:ge.lastChild],g&&Be){for(L=ge[tu]||(ge[tu]={}),$=L[e]||[],ne=$[0]===Zl&&$[1],te=$[0]===Zl&&$[2],Q=ne&&ge.childNodes[ne];Q=++ne&&Q&&Q[pe]||(te=ne=0)||ae.pop();)if(Q.nodeType===1&&++te&&Q===k){L[e]=[Zl,ne,te];break}}else if(Be&&($=(k[tu]||(k[tu]={}))[e])&&$[0]===Zl)te=$[1];else for(;(Q=++ne&&Q&&Q[pe]||(te=ne=0)||ae.pop())&&!((y?Q.nodeName.toLowerCase()===je:Q.nodeType===1)&&++te&&(Be&&((Q[tu]||(Q[tu]={}))[e]=[Zl,te]),Q===k)););return te-=s,te===i||te%i===0&&te/i>=0}}},PSEUDO:function(e,r){var a,i=sa.pseudos[e]||sa.setFilters[e.toLowerCase()]||fo.error("unsupported pseudo: "+e);return i[tu]?i(r):i.length>1?(a=[e,e,"",r],sa.setFilters.hasOwnProperty(e.toLowerCase())?_l(function(s,f){for(var g,y=i(s,r),k=y.length;k--;)g=Ad.call(s,y[k]),s[g]=!(f[g]=y[k])}):function(s){return i(s,0,a)}):i}},pseudos:{not:_l(function(e){var r=[],a=[],i=o0(e.replace(sy,"$1"));return i[tu]?_l(function(s,f,g,y){for(var k,O=i(s,null,y,[]),F=s.length;F--;)(k=O[F])&&(s[F]=!(f[F]=k))}):function(s,f,g){return r[0]=s,i(r,null,g,a),r[0]=null,!a.pop()}}),has:_l(function(e){return function(r){return fo(e,r).length>0}}),contains:_l(function(e){return e=e.replace(Od,Dd),function(r){return(r.textContent||r.innerText||fs(r)).indexOf(e)>-1}}),lang:_l(function(e){return Nm.test(e||"")||fo.error("unsupported lang: "+e),e=e.replace(Od,Dd).toLowerCase(),function(r){var a;do if(a=Yl?r.lang:r.getAttribute("xml:lang")||r.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((r=r.parentNode)&&r.nodeType===1);return!1}}),target:function(e){var r=window.location&&window.location.hash;return r&&r.slice(1)===e.id},root:function(e){return e===nc},focus:function(e){return e===Wi.activeElement&&(!Wi.hasFocus||Wi.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&!!e.checked||r==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!sa.pseudos.empty(e)},header:function(e){return d_.test(e.nodeName)},input:function(e){return MS.test(e.nodeName)},button:function(e){var r=e.nodeName.toLowerCase();return r==="input"&&e.type==="button"||r==="button"},text:function(e){var r;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((r=e.getAttribute("type"))==null||r.toLowerCase()==="text")},first:Rd(function(){return[0]}),last:Rd(function(e,r){return[r-1]}),eq:Rd(function(e,r,a){return[a<0?a+r:a]}),even:Rd(function(e,r){for(var a=0;a<r;a+=2)e.push(a);return e}),odd:Rd(function(e,r){for(var a=1;a<r;a+=2)e.push(a);return e}),lt:Rd(function(e,r,a){for(var i=a<0?a+r:a;--i>=0;)e.push(i);return e}),gt:Rd(function(e,r,a){for(var i=a<0?a+r:a;++i<r;)e.push(i);return e})}},sa.pseudos.nth=sa.pseudos.eq,At(["radio","checkbox","file","password","image"],function(e){sa.pseudos[e]=Cl(e)}),At(["submit","reset"],function(e){sa.pseudos[e]=Jl(e)});function wp(){}wp.prototype=sa.filters=sa.pseudos,sa.setFilters=new wp,Wc=fo.tokenize=function(e,r){var a,i,s,f,g,y,k,O=cy[e+" "];if(O)return r?0:O.slice(0);for(g=e,y=[],k=sa.preFilter;g;){(!a||(i=PS.exec(g)))&&(i&&(g=g.slice(i[0].length)||g),y.push(s=[])),a=!1,(i=f_.exec(g))&&(a=i.shift(),s.push({value:a,type:i[0].replace(sy," ")}),g=g.slice(a.length));for(f in sa.filter)sa.filter.hasOwnProperty(f)&&(i=ly[f].exec(g))&&(!k[f]||(i=k[f](i)))&&(a=i.shift(),s.push({value:a,type:f,matches:i}),g=g.slice(a.length));if(!a)break}return r?g.length:g?fo.error(e):cy(e,y).slice(0)};function vy(e){for(var r=0,a=e.length,i="";r<a;r++)i+=e[r].value;return i}function my(e,r,a){var i=r.dir,s=a&&i==="parentNode",f=yp++;return r.first?function(g,y,k){for(;g=g[i];)if(g.nodeType===1||s)return e(g,y,k)}:function(g,y,k){var O,F,$=[Zl,f];if(k){for(;g=g[i];)if((g.nodeType===1||s)&&e(g,y,k))return!0}else for(;g=g[i];)if(g.nodeType===1||s){if(F=g[tu]||(g[tu]={}),(O=F[i])&&O[0]===Zl&&O[1]===f)return $[2]=O[2];if(F[i]=$,$[2]=e(g,y,k))return!0}}}function wv(e){return e.length>1?function(r,a,i){for(var s=e.length;s--;)if(!e[s](r,a,i))return!1;return!0}:e[0]}function FS(e,r,a){for(var i=0,s=r.length;i<s;i++)fo(e,r[i],a);return a}function gy(e,r,a,i,s){for(var f,g=[],y=0,k=e.length,O=r!=null;y<k;y++)(f=e[y])&&(!a||a(f,i,s))&&(g.push(f),O&&r.push(y));return g}function Fm(e,r,a,i,s,f){return i&&!i[tu]&&(i=Fm(i)),s&&!s[tu]&&(s=Fm(s,f)),_l(function(g,y,k,O){var F,$,L,Q=[],te=[],ne=y.length,ae=g||FS(r||"*",k.nodeType?[k]:k,[]),pe=e&&(g||!r)?gy(ae,Q,e,k,O):ae,ge=a?s||(g?e:ne||i)?[]:y:pe;if(a&&a(pe,ge,k,O),i)for(F=gy(ge,te),i(F,[],k,O),$=F.length;$--;)(L=F[$])&&(ge[te[$]]=!(pe[te[$]]=L));if(g){if(s||e){if(s){for(F=[],$=ge.length;$--;)(L=ge[$])&&F.push(pe[$]=L);s(null,ge=[],F,O)}for($=ge.length;$--;)(L=ge[$])&&(F=s?Ad.call(g,L):Q[$])>-1&&(g[F]=!(y[F]=L))}}else ge=gy(ge===y?ge.splice(ne,ge.length):ge),s?s(null,y,ge,O):Ed.apply(y,ge)})}function kp(e){for(var r,a,i,s=e.length,f=sa.relative[e[0].type],g=f||sa.relative[" "],y=f?1:0,k=my(function($){return $===r},g,!0),O=my(function($){return Ad.call(r,$)>-1},g,!0),F=[function($,L,Q){var te=!f&&(Q||L!==Hf)||((r=L).nodeType?k($,L,Q):O($,L,Q));return r=null,te}];y<s;y++)if(a=sa.relative[e[y].type])F=[my(wv(F),a)];else{if(a=sa.filter[e[y].type].apply(null,e[y].matches),a[tu]){for(i=++y;i<s&&!sa.relative[e[i].type];i++);return Fm(y>1&&wv(F),y>1&&vy(e.slice(0,y-1).concat({value:e[y-2].type===" "?"*":""})).replace(sy,"$1"),a,y<i&&kp(e.slice(y,i)),i<s&&kp(e=e.slice(i)),i<s&&vy(e))}F.push(a)}return wv(F)}function _p(e,r){var a=r.length>0,i=e.length>0,s=function(f,g,y,k,O){var F,$,L,Q=0,te="0",ne=f&&[],ae=[],pe=Hf,ge=f||i&&sa.find.TAG("*",O),je=Zl+=pe==null?1:Math.random()||.1,Be=ge.length;for(O&&(Hf=g!==Wi&&g);te!==Be&&(F=ge[te])!=null;te++){if(i&&F){for($=0;L=e[$++];)if(L(F,g,y)){k.push(F);break}O&&(Zl=je)}a&&((F=!L&&F)&&Q--,f&&ne.push(F))}if(Q+=te,a&&te!==Q){for($=0;L=r[$++];)L(ne,ae,g,y);if(f){if(Q>0)for(;te--;)ne[te]||ae[te]||(ae[te]=i0.call(k));ae=gy(ae)}Ed.apply(k,ae),O&&!f&&ae.length>0&&Q+r.length>1&&fo.uniqueSort(k)}return O&&(Zl=je,Hf=pe),ne};return a?_l(s):s}o0=fo.compile=function(e,r){var a,i=[],s=[],f=Td[e+" "];if(!f){for(r||(r=Wc(e)),a=r.length;a--;)f=kp(r[a]),f[tu]?i.push(f):s.push(f);f=Td(e,_p(s,i)),f.selector=e}return f},Xl=fo.select=function(e,r,a,i){var s,f,g,y,k,O=typeof e=="function"&&e,F=!i&&Wc(e=O.selector||e);if(a=a||[],F.length===1){if(f=F[0]=F[0].slice(0),f.length>2&&(g=f[0]).type==="ID"&&ki.getById&&r.nodeType===9&&Yl&&sa.relative[f[1].type]){if(r=(sa.find.ID(g.matches[0].replace(Od,Dd),r)||[])[0],r)O&&(r=r.parentNode);else return a;e=e.slice(f.shift().value.length)}for(s=ly.needsContext.test(e)?0:f.length;s--&&(g=f[s],!sa.relative[y=g.type]);)if((k=sa.find[y])&&(i=k(g.matches[0].replace(Od,Dd),l0.test(f[0].type)&&dy(r.parentNode)||r))){if(f.splice(s,1),e=i.length&&vy(f),!e)return Ed.apply(a,i),a;break}}return(O||o0(e,F))(i,r,!Yl,a,l0.test(e)&&dy(r.parentNode)||r),a},ki.sortStable=tu.split("").sort(zd).join("")===tu,ki.detectDuplicates=!!ds,Sd(),ki.sortDetached=!0;var f0=document,Fi=Array.prototype.push,kv=Array.prototype.slice,Ti=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ac=Pm.Event,_v=wt.makeMap("children,contents,next,prev"),ms=function(e){return typeof e<"u"},py=function(e){return typeof e=="string"},Ql=function(e){return e&&e===e.window},Im=function(e,r){r=r||f0;var a=r.createElement("div"),i=r.createDocumentFragment();a.innerHTML=e;for(var s;s=a.firstChild;)i.appendChild(s);return i},$m=function(e,r,a,i){var s;if(py(r))r=Im(r,Pd(e[0]));else if(r.length&&!r.nodeType){if(r=ga.makeArray(r),i)for(s=r.length-1;s>=0;s--)$m(e,r[s],a,i);else for(s=0;s<r.length;s++)$m(e,r[s],a,i);return e}if(r.nodeType)for(s=e.length;s--;)a.call(e[s],r);return e},m_=function(e,r){return e&&r&&(" "+e.className+" ").indexOf(" "+r+" ")!==-1},g_=function(e,r,a){var i,s;return r=ga(r)[0],e.each(function(){var f=this;(!a||i!==f.parentNode)&&(i=f.parentNode,s=r.cloneNode(!1),f.parentNode.insertBefore(s,f)),s.appendChild(f)}),e},IS=wt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),$S=wt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),LS={for:"htmlFor",class:"className",readonly:"readOnly"},p_={float:"cssFloat"},hy={},yy={},hu=function(e,r){return new ga.fn.init(e,r)},by=function(e,r){var a;if(r.indexOf)return r.indexOf(e);for(a=r.length;a--;)if(r[a]===e)return a;return-1},d0=/^\s*|\s*$/g,As=function(e){return e==null?"":(""+e).replace(d0,"")},Io=function(e,r){var a,i,s,f;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(f=e[i],r.call(f,i,f)===!1))break}else for(s=0;s<a&&(f=e[s],r.call(f,s,f)!==!1);s++);return e},gs=function(e,r){var a=[];return Io(e,function(i,s){r(s,i)&&a.push(s)}),a},Pd=function(e){return e?e.nodeType===9?e:e.ownerDocument:f0};hu.fn=hu.prototype={constructor:hu,selector:"",context:null,length:0,init:function(e,r){var a=this,i,s;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(r&&r.nodeType)a.context=r;else{if(r)return ga(e).attr(r);a.context=r=document}if(py(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Ti.exec(e),i)if(i[1])for(s=Im(e,Pd(r)).firstChild;s;)Fi.call(a,s),s=s.nextSibling;else{if(s=Pd(r).getElementById(i[2]),!s)return a;if(s.id!==i[2])return a.find(e);a.length=1,a[0]=s}else return ga(r).find(e);else this.add(e,!1);return a},toArray:function(){return wt.toArray(this)},add:function(e,r){var a=this,i,s;if(py(e))return a.add(ga(e));if(r!==!1)for(i=ga.unique(a.toArray().concat(ga.makeArray(e))),a.length=i.length,s=0;s<i.length;s++)a[s]=i[s];else Fi.apply(a,ga.makeArray(e));return a},attr:function(e,r){var a=this,i;if(typeof e=="object")Io(e,function(s,f){a.attr(s,f)});else if(ms(r))this.each(function(){var s;if(this.nodeType===1){if(s=hy[e],s&&s.set){s.set(this,r);return}r===null?this.removeAttribute(e,2):this.setAttribute(e,r,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=hy[e],i&&i.get)return i.get(a[0],e);if($S[e])return a.prop(e)?e:void 0;r=a[0].getAttribute(e,2),r===null&&(r=void 0)}return r}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,r){var a=this;if(e=LS[e]||e,typeof e=="object")Io(e,function(i,s){a.prop(i,s)});else if(ms(r))this.each(function(){this.nodeType===1&&(this[e]=r)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:r;return a},css:function(e,r){var a=this,i,s,f=function(y){return y.replace(/-(\D)/g,function(k,O){return O.toUpperCase()})},g=function(y){return y.replace(/[A-Z]/g,function(k){return"-"+k})};if(typeof e=="object")Io(e,function(y,k){a.css(y,k)});else if(ms(r))e=f(e),typeof r=="number"&&!IS[e]&&(r=r.toString()+"px"),a.each(function(){var y=this.style;if(s=yy[e],s&&s.set){s.set(this,r);return}try{this.style[p_[e]||e]=r}catch{}(r===null||r==="")&&(y.removeProperty?y.removeProperty(g(e)):y.removeAttribute(e))});else{if(i=a[0],s=yy[e],s&&s.get)return s.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(g(e))}catch{return}else return i.currentStyle?i.currentStyle[f(e)]:""}return a},remove:function(){for(var e=this,r,a=this.length;a--;)r=e[a],ac.clean(r),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=this,r,a=this.length;a--;)for(r=e[a];r.firstChild;)r.removeChild(r.firstChild);return this},html:function(e){var r=this,a;if(ms(e)){a=r.length;try{for(;a--;)r[a].innerHTML=e}catch{ga(r[a]).empty().append(e)}return r}return r[0]?r[0].innerHTML:""},text:function(e){var r=this,a;if(ms(e)){for(a=r.length;a--;)"innerText"in r[a]?r[a].innerText=e:r[0].textContent=e;return r}return r[0]?r[0].innerText||r[0].textContent:""},append:function(){return $m(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return $m(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?$m(e,arguments,function(r){this.parentNode.insertBefore(r,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?$m(e,arguments,function(r){this.parentNode.insertBefore(r,this.nextSibling)},!0):e},appendTo:function(e){return ga(e).append(this),this},prependTo:function(e){return ga(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return g_(this,e)},wrapAll:function(e){return g_(this,e,!0)},wrapInner:function(e){return this.each(function(){ga(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ga(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ga(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,r){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Io(e.split(" "),function(){a.toggleClass(this,r)}):a.each(function(i,s){var f=m_(s,e);if(f!==r){var g=s.className;f?s.className=As((" "+g+" ").replace(" "+e+" "," ")):s.className+=g?" "+e:e}})),a},hasClass:function(e){return m_(this[0],e)},each:function(e){return Io(this,e)},on:function(e,r){return this.each(function(){ac.bind(this,e,r)})},off:function(e,r){return this.each(function(){ac.unbind(this,e,r)})},trigger:function(e){return this.each(function(){typeof e=="object"?ac.fire(this,e.type,e):ac.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return ga(kv.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var r,a,i=[];for(r=0,a=this.length;r<a;r++)ga.find(e,this[r],i);return ga(i)},filter:function(e){return ga(typeof e=="function"?gs(this.toArray(),function(r,a){return e(a,r)}):ga.filter(e,this.toArray()))},closest:function(e){var r=[];return e instanceof ga&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&ga(i).is(e)){r.push(i);break}else if(i===e){r.push(i);break}i=i.parentNode}}),ga(r)},offset:function(e){var r,a,i,s=0,f=0,g;return e?this.css(e):(r=this[0],r&&(a=r.ownerDocument,i=a.documentElement,r.getBoundingClientRect&&(g=r.getBoundingClientRect(),s=g.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,f=g.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:s,top:f})},push:Fi,sort:Array.prototype.sort,splice:Array.prototype.splice},wt.extend(hu,{extend:wt.extend,makeArray:function(e){return Ql(e)||e.nodeType?[e]:wt.toArray(e)},inArray:by,isArray:wt.isArray,each:Io,trim:As,grep:gs,find:fo,expr:fo.selectors,unique:fo.uniqueSort,text:fo.getText,contains:fo.contains,filter:function(e,r,a){var i=r.length;for(a&&(e=":not("+e+")");i--;)r[i].nodeType!==1&&r.splice(i,1);return r.length===1?r=ga.find.matchesSelector(r[0],e)?[r[0]]:[]:r=ga.find.matches(e,r),r}});var v0=function(e,r,a){var i=[],s=e[r];for(typeof a!="string"&&a instanceof ga&&(a=a[0]);s&&s.nodeType!==9&&!(a!==void 0&&(s===a||typeof a=="string"&&ga(s).is(a)));)s.nodeType===1&&i.push(s),s=s[r];return i},wy=function(e,r,a,i){var s=[];for(i instanceof ga&&(i=i[0]);e;e=e[r])if(e.nodeType===a){if(i!==void 0&&(e===i||typeof i=="string"&&ga(e).is(i)))break;s.push(e)}return s},h_=function(e,r,a){for(e=e[r];e;e=e[r])if(e.nodeType===a)return e;return null};Io({parent:function(e){var r=e.parentNode;return r&&r.nodeType!==11?r:null},parents:function(e){return v0(e,"parentNode")},next:function(e){return h_(e,"nextSibling",1)},prev:function(e){return h_(e,"previousSibling",1)},children:function(e){return wy(e.firstChild,"nextSibling",1)},contents:function(e){return wt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,r){hu.fn[e]=function(a){var i=this,s=[];i.each(function(){var g=r.call(s,this,a,s);g&&(ga.isArray(g)?s.push.apply(s,g):s.push(g))}),this.length>1&&(_v[e]||(s=ga.unique(s)),e.indexOf("parents")===0&&(s=s.reverse()));var f=ga(s);return a?f.filter(a):f}}),Io({parentsUntil:function(e,r){return v0(e,"parentNode",r)},nextUntil:function(e,r){return wy(e,"nextSibling",1,r).slice(1)},prevUntil:function(e,r){return wy(e,"previousSibling",1,r).slice(1)}},function(e,r){hu.fn[e]=function(a,i){var s=this,f=[];s.each(function(){var y=r.call(f,this,a,f);y&&(ga.isArray(y)?f.push.apply(f,y):f.push(y))}),this.length>1&&(f=ga.unique(f),(e.indexOf("parents")===0||e==="prevUntil")&&(f=f.reverse()));var g=ga(f);return i?g.filter(i):g}}),hu.fn.is=function(e){return!!e&&this.filter(e).length>0},hu.fn.init.prototype=hu.fn,hu.overrideDefaults=function(e){var r,a=function(i,s){return r=r||e(),arguments.length===0&&(i=r.element),s||(s=r.context),new a.fn.init(i,s)};return ga.extend(a,this),a},hu.attrHooks=hy,hu.cssHooks=yy;var ga=hu,Lm=wt.each,ky=wt.grep,m0=dr.ie,Ii=/^([a-z0-9],?)+$/i,Os=function(e,r,a){var i=r.keep_values,s={set:function(g,y,k){r.url_converter&&y!==null&&(y=r.url_converter.call(r.url_converter_scope||a(),y,k,g[0])),g.attr("data-mce-"+k,y).attr(k,y)},get:function(g,y){return g.attr("data-mce-"+y)||g.attr(y)}},f={style:{set:function(g,y){if(y!==null&&typeof y=="object"){g.css(y);return}i&&g.attr("data-mce-style",y),y!==null&&typeof y=="string"?(g.removeAttr("style"),g.css(e.parse(y))):g.attr("style",y)},get:function(g){var y=g.attr("data-mce-style")||g.attr("style");return y=e.serialize(e.parse(y),g[0].nodeName),y}}};return i&&(f.href=f.src=s),f},y_=function(e,r){var a=r.attr("style"),i=e.serialize(e.parse(a),r[0].nodeName);i||(i=null),r.attr("data-mce-style",i)},Cv=function(e,r){var a=0,i,s;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)s=e.nodeType,!(r&&s===3&&(s===i||!e.nodeValue.length))&&(a++,i=s);return a},Ro=function(e,r){r===void 0&&(r={});var a={},i=window,s={},f=0,g=!0,y=!0,k=Ks.forElement(S.fromDom(e),{contentCssCors:r.contentCssCors,referrerPolicy:r.referrerPolicy}),O=[],F=r.schema?r.schema:ls({}),$=Qs({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope},r.schema),L=r.ownEvents?new Pm:Pm.Event,Q=F.getBlockElements(),te=ga.overrideDefaults(function(){return{context:e,element:Mh.getRoot()}}),ne=function(xe){if(typeof xe=="string")return!!Q[xe];if(xe){var it=xe.nodeType;if(it)return!!(it===1&&Q[xe.nodeName])}return!1},ae=function(xe){return xe&&e&&Ht(xe)?e.getElementById(xe):xe},pe=function(xe){return te(typeof xe=="string"?ae(xe):xe)},ge=function(xe,it,Sr){var Vr,ba,no=pe(xe);return no.length&&(Vr=iv[it],Vr&&Vr.get?ba=Vr.get(no,it):ba=no.attr(it)),typeof ba>"u"&&(ba=Sr||""),ba},je=function(xe){var it=ae(xe);return it?it.attributes:[]},Be=function(xe,it,Sr){Sr===""&&(Sr=null);var Vr=pe(xe),ba=Vr.attr(it);if(Vr.length){var no=iv[it];no&&no.set?no.set(Vr,Sr,it):Vr.attr(it,Sr),ba!==Sr&&r.onSetAttrib&&r.onSetAttrib({attrElm:Vr,attrName:it,attrValue:Sr})}},we=function(xe,it){if(!m0||xe.nodeType!==1||it)return xe.cloneNode(it);var Sr=e.createElement(xe.nodeName);return Lm(je(xe),function(Vr){Be(Sr,Vr.nodeName,ge(xe,Vr.nodeName))}),Sr},Ge=function(){return r.root_element||e.body},It=function(xe){var it=Rf(xe);return{x:it.x,y:it.y,w:it.width,h:it.height}},ur=function(xe,it){return ip(e.body,ae(xe),it)},Vn=function(xe,it,Sr){var Vr=Ht(it)?pe(xe).css(it,Sr):pe(xe).css(it);r.update_styles&&y_($,Vr)},Qr=function(xe,it){var Sr=pe(xe).css(it);r.update_styles&&y_($,Sr)},jt=function(xe,it,Sr){var Vr=pe(xe);return Sr?Vr.css(it):(it=it.replace(/-(\D)/g,function(ba,no){return no.toUpperCase()}),it==="float"&&(it=dr.browser.isIE()?"styleFloat":"cssFloat"),Vr[0]&&Vr[0].style?Vr[0].style[it]:void 0)},En=function(xe){var it,Sr;return xe=ae(xe),it=jt(xe,"width"),Sr=jt(xe,"height"),it.indexOf("px")===-1&&(it=0),Sr.indexOf("px")===-1&&(Sr=0),{w:parseInt(it,10)||xe.offsetWidth||xe.clientWidth,h:parseInt(Sr,10)||xe.offsetHeight||xe.clientHeight}},hr=function(xe){xe=ae(xe);var it=ur(xe),Sr=En(xe);return{x:it.x,y:it.y,w:Sr.w,h:Sr.h}},Yr=function(xe,it){var Sr;if(!xe)return!1;if(!Array.isArray(xe)){if(it==="*")return xe.nodeType===1;if(Ii.test(it)){var Vr=it.toLowerCase().split(/,/),ba=xe.nodeName.toLowerCase();for(Sr=Vr.length-1;Sr>=0;Sr--)if(Vr[Sr]===ba)return!0;return!1}if(xe.nodeType&&xe.nodeType!==1)return!1}var no=Array.isArray(xe)?xe:[xe];return fo(it,no[0].ownerDocument||no[0],null,no).length>0},wr=function(xe,it,Sr,Vr){var ba=[],no,Yo=ae(xe);for(Vr=Vr===void 0,Sr=Sr||(Ge().nodeName!=="BODY"?Ge().parentNode:null),wt.is(it,"string")&&(no=it,it==="*"?it=function(Qg){return Qg.nodeType===1}:it=function(Qg){return Yr(Qg,no)});Yo&&!(Yo===Sr||Nr(Yo.nodeType)||op(Yo)||ma(Yo));){if(!it||typeof it=="function"&&it(Yo))if(Vr)ba.push(Yo);else return[Yo];Yo=Yo.parentNode}return Vr?ba:null},Hr=function(xe,it,Sr){var Vr=wr(xe,it,Sr,!1);return Vr&&Vr.length>0?Vr[0]:null},sn=function(xe,it,Sr){var Vr=it;if(xe){for(typeof it=="string"&&(Vr=function(ba){return Yr(ba,it)}),xe=xe[Sr];xe;xe=xe[Sr])if(typeof Vr=="function"&&Vr(xe))return xe}return null},tr=function(xe,it){return sn(xe,it,"nextSibling")},rn=function(xe,it){return sn(xe,it,"previousSibling")},Ca=function(xe,it){return fo(xe,ae(it)||r.root_element||e,[])},Qa=function(xe,it,Sr){var Vr,ba=typeof xe=="string"?ae(xe):xe;if(!ba)return!1;if(wt.isArray(ba)&&(ba.length||ba.length===0))return Vr=[],Lm(ba,function(Yo,Qg){Yo&&Vr.push(it.call(Sr,typeof Yo=="string"?ae(Yo):Yo,Qg))}),Vr;var no=Sr||this;return it.call(no,ba)},Ya=function(xe,it){pe(xe).each(function(Sr,Vr){Lm(it,function(ba,no){Be(Vr,no,ba)})})},xu=function(xe,it){var Sr=pe(xe);m0?Sr.each(function(Vr,ba){if(ba.canHaveHTML!==!1){for(;ba.firstChild;)ba.removeChild(ba.firstChild);try{ba.innerHTML="<br>"+it,ba.removeChild(ba.firstChild)}catch{ga("<div></div>").html("<br>"+it).contents().slice(1).appendTo(ba)}return it}}):Sr.html(it)},ii=function(xe,it,Sr,Vr,ba){return Qa(xe,function(no){var Yo=typeof it=="string"?e.createElement(it):it;return Ya(Yo,Sr),Vr&&(typeof Vr!="string"&&Vr.nodeType?Yo.appendChild(Vr):typeof Vr=="string"&&xu(Yo,Vr)),ba?Yo:no.appendChild(Yo)})},Dc=function(xe,it,Sr){return ii(e.createElement(xe),xe,it,Sr,!0)},Hs=ss.decode,rr=ss.encodeAllRaw,Dr=function(xe,it,Sr){var Vr="",ba;Vr+="<"+xe;for(ba in it)ia(it,ba)&&(Vr+=" "+ba+'="'+rr(it[ba])+'"');return typeof Sr<"u"?Vr+">"+Sr+"</"+xe+">":Vr+" />"},An=function(xe){var it,Sr=e.createElement("div"),Vr=e.createDocumentFragment();for(Vr.appendChild(Sr),xe&&(Sr.innerHTML=xe);it=Sr.firstChild;)Vr.appendChild(it);return Vr.removeChild(Sr),Vr},Qe=function(xe,it){var Sr=pe(xe);return it?Sr.each(function(){for(var Vr;Vr=this.firstChild;)Vr.nodeType===3&&Vr.data.length===0?this.removeChild(Vr):this.parentNode.insertBefore(Vr,this)}).remove():Sr.remove(),Sr.length>1?Sr.toArray():Sr[0]},fr=function(xe){return Qa(xe,function(it){var Sr,Vr=it.attributes;for(Sr=Vr.length-1;Sr>=0;Sr--)it.removeAttributeNode(Vr.item(Sr))})},ar=function(xe){return $.parse(xe)},Pn=function(xe,it){return $.serialize(xe,it)},Hn=function(xe){var it,Sr;if(Mh!==Ro.DOM&&e===document){if(a[xe])return;a[xe]=!0}Sr=e.getElementById("mceDefaultStyles"),Sr||(Sr=e.createElement("style"),Sr.id="mceDefaultStyles",Sr.type="text/css",it=e.getElementsByTagName("head")[0],it.firstChild?it.insertBefore(Sr,it.firstChild):it.appendChild(Sr)),Sr.styleSheet?Sr.styleSheet.cssText+=xe:Sr.appendChild(e.createTextNode(xe))},Co=function(xe){xe||(xe=""),At(xe.split(","),function(it){s[it]=!0,k.load(it,dt)})},iu=function(xe,it,Sr){pe(xe).toggleClass(it,Sr).each(function(){this.className===""&&ga(this).attr("class",null)})},Yi=function(xe,it){pe(xe).addClass(it)},mc=function(xe,it){iu(xe,it,!1)},gc=function(xe,it){return pe(xe).hasClass(it)},Zc=function(xe){pe(xe).show()},Zi=function(xe){pe(xe).hide()},fl=function(xe){return pe(xe).css("display")==="none"},Jc=function(xe){return(xe||"mce_")+f++},ov=function(xe){var it=typeof xe=="string"?ae(xe):xe;return Yn(it)?it.outerHTML:ga("<div></div>").append(ga(it).clone()).html()},eo=function(xe,it){pe(xe).each(function(){try{if("outerHTML"in this){this.outerHTML=it;return}}catch{}Qe(ga(this).html(it),!0)})},$o=function(xe,it){var Sr=ae(it);return Qa(xe,function(Vr){var ba=Sr.parentNode,no=Sr.nextSibling;return no?ba.insertBefore(Vr,no):ba.appendChild(Vr),Vr})},uu=function(xe,it,Sr){return Qa(it,function(Vr){return wt.is(Vr,"array")&&(xe=xe.cloneNode(!0)),Sr&&Lm(ky(Vr.childNodes),function(ba){xe.appendChild(ba)}),Vr.parentNode.replaceChild(xe,Vr)})},sd=function(xe,it){var Sr;return xe.nodeName!==it.toUpperCase()&&(Sr=Dc(it),Lm(je(xe),function(Vr){Be(Sr,Vr.nodeName,ge(xe,Vr.nodeName))}),uu(Sr,xe,!0)),Sr||xe},ld=function(xe,it){for(var Sr=xe,Vr;Sr;){for(Vr=it;Vr&&Sr!==Vr;)Vr=Vr.parentNode;if(Sr===Vr)break;Sr=Sr.parentNode}return!Sr&&xe.ownerDocument?xe.ownerDocument.documentElement:Sr},fd=function(xe){return $.toHex(wt.trim(xe))},Jg=function(xe){if(Yn(xe)){var it=xe.nodeName.toLowerCase()==="a"&&!ge(xe,"href")&&ge(xe,"id");if(ge(xe,"name")||ge(xe,"data-mce-bookmark")||it)return!0}return!1},mE=function(xe,it){var Sr,Vr,ba=0;if(Jg(xe))return!1;if(xe=xe.firstChild,xe){var no=new io(xe,xe.parentNode),Yo=F?F.getWhiteSpaceElements():{};it=it||(F?F.getNonEmptyElements():null);do{if(Sr=xe.nodeType,Yn(xe)){var Qg=xe.getAttribute("data-mce-bogus");if(Qg){xe=no.next(Qg==="all");continue}if(Vr=xe.nodeName.toLowerCase(),it&&it[Vr]){if(Vr==="br"){ba++,xe=no.next();continue}return!1}if(Jg(xe))return!1}if(Sr===8||Sr===3&&!Ys(xe.nodeValue)||Sr===3&&xe.parentNode&&Yo[xe.parentNode.nodeName]&&Ys(xe.nodeValue))return!1;xe=no.next()}while(xe)}return ba<=1},gE=function(){return e.createRange()},_F=function(xe,it,Sr){var Vr=gE(),ba,no,Yo;if(xe&&it)return Vr.setStart(xe.parentNode,Cv(xe)),Vr.setEnd(it.parentNode,Cv(it)),ba=Vr.extractContents(),Vr=gE(),Vr.setStart(it.parentNode,Cv(it)+1),Vr.setEnd(xe.parentNode,Cv(xe)+1),no=Vr.extractContents(),Yo=xe.parentNode,Yo.insertBefore(Y1(Mh,ba),xe),Sr?Yo.insertBefore(Sr,xe):Yo.insertBefore(it,xe),Yo.insertBefore(Y1(Mh,no),xe),Qe(xe),Sr||it},uS=function(xe,it,Sr,Vr){if(wt.isArray(xe)){for(var ba=xe.length,no=[];ba--;)no[ba]=uS(xe[ba],it,Sr,Vr);return no}r.collect&&(xe===e||xe===i)&&O.push([xe,it,Sr,Vr]);var Yo=L.bind(xe,it,Sr,Vr||Mh);return Yo},cS=function(xe,it,Sr){if(wt.isArray(xe)){for(var Vr=xe.length,ba=[];Vr--;)ba[Vr]=cS(xe[Vr],it,Sr);return ba}else{if(O.length>0&&(xe===e||xe===i))for(var Vr=O.length;Vr--;){var no=O[Vr];xe===no[0]&&(!it||it===no[1])&&(!Sr||Sr===no[2])&&L.unbind(no[0],no[1],no[2])}return L.unbind(xe,it,Sr)}},CF=function(xe,it,Sr){return L.fire(xe,it,Sr)},fR=function(xe){if(xe&&Yn(xe)){var it=xe.getAttribute("data-mce-contenteditable");return it&&it!=="inherit"?it:xe.contentEditable!=="inherit"?xe.contentEditable:null}else return null},SF=function(xe){for(var it=Ge(),Sr=null;xe&&xe!==it&&(Sr=fR(xe),Sr===null);xe=xe.parentNode);return Sr},xF=function(){if(O.length>0)for(var xe=O.length;xe--;){var it=O[xe];L.unbind(it[0],it[1],it[2])}lr(s,function(Sr,Vr){k.unload(Vr),delete s[Vr]}),fo.setDocument&&fo.setDocument()},TF=function(xe,it){if(m0){for(;xe;){if(it===xe)return!0;xe=xe.parentNode}return!1}else return xe===it||it.contains(xe)},zF=function(xe){return"startContainer: "+xe.startContainer.nodeName+", startOffset: "+xe.startOffset+", endContainer: "+xe.endContainer.nodeName+", endOffset: "+xe.endOffset},Mh={doc:e,settings:r,win:i,files:s,stdMode:g,boxModel:y,styleSheetLoader:k,boundEvents:O,styles:$,schema:F,events:L,isBlock:ne,$:te,$$:pe,root:null,clone:we,getRoot:Ge,getViewPort:It,getRect:hr,getSize:En,getParent:Hr,getParents:wr,get:ae,getNext:tr,getPrev:rn,select:Ca,is:Yr,add:ii,create:Dc,createHTML:Dr,createFragment:An,remove:Qe,setStyle:Vn,getStyle:jt,setStyles:Qr,removeAllAttribs:fr,setAttrib:Be,setAttribs:Ya,getAttrib:ge,getPos:ur,parseStyle:ar,serializeStyle:Pn,addStyle:Hn,loadCSS:Co,addClass:Yi,removeClass:mc,hasClass:gc,toggleClass:iu,show:Zc,hide:Zi,isHidden:fl,uniqueId:Jc,setHTML:xu,getOuterHTML:ov,setOuterHTML:eo,decode:Hs,encode:rr,insertAfter:$o,replace:uu,rename:sd,findCommonAncestor:ld,toHex:fd,run:Qa,getAttribs:je,isEmpty:mE,createRng:gE,nodeIndex:Cv,split:_F,bind:uS,unbind:cS,fire:CF,getContentEditable:fR,getContentEditableParent:SF,destroy:xF,isChildOf:TF,dumpRng:zF},iv=Os($,r,V(Mh));return Mh};Ro.DOM=Ro(document),Ro.nodeIndex=Cv;var Sv=Ro.DOM,_y=wt.each,Hm=wt.grep,g0=0,b_=1,Cp=2,w_=3,Uf=function(){function e(r){r===void 0&&(r={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=r}return e.prototype._setReferrerPolicy=function(r){this.settings.referrerPolicy=r},e.prototype.loadScript=function(r,a,i){var s=Sv,f,g=function(){s.remove(O),f&&(f.onerror=f.onload=f=null)},y=function(){g(),a()},k=function(){g(),Le(i)?i():typeof console<"u"&&console.log&&console.log("Failed to load script: "+r)},O=s.uniqueId();f=document.createElement("script"),f.id=O,f.type="text/javascript",f.src=wt._addCacheSuffix(r),this.settings.referrerPolicy&&s.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=y,f.onerror=k,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},e.prototype.isDone=function(r){return this.states[r]===Cp},e.prototype.markDone=function(r){this.states[r]=Cp},e.prototype.add=function(r,a,i,s){var f=this.states[r];this.queue.push(r),f===void 0&&(this.states[r]=g0),a&&(this.scriptLoadedCallbacks[r]||(this.scriptLoadedCallbacks[r]=[]),this.scriptLoadedCallbacks[r].push({success:a,failure:s,scope:i||this}))},e.prototype.load=function(r,a,i,s){return this.add(r,a,i,s)},e.prototype.remove=function(r){delete this.states[r],delete this.scriptLoadedCallbacks[r]},e.prototype.loadQueue=function(r,a,i){this.loadScripts(this.queue,r,a,i)},e.prototype.loadScripts=function(r,a,i,s){var f=this,g=[],y=function(O,F){_y(f.scriptLoadedCallbacks[F],function($){Le($[O])&&$[O].call($.scope)}),f.scriptLoadedCallbacks[F]=void 0};f.queueLoadedCallbacks.push({success:a,failure:s,scope:i||this});var k=function(){var O=Hm(r);if(r.length=0,_y(O,function($){if(f.states[$]===Cp){y("success",$);return}if(f.states[$]===w_){y("failure",$);return}f.states[$]!==b_&&(f.states[$]=b_,f.loading++,f.loadScript($,function(){f.states[$]=Cp,f.loading--,y("success",$),k()},function(){f.states[$]=w_,f.loading--,g.push($),y("failure",$),k()}))}),!f.loading){var F=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,_y(F,function($){g.length===0?Le($.success)&&$.success.call($.scope):Le($.failure)&&$.failure.call($.scope,g)})}};k()},e.ScriptLoader=new e,e}(),oc=function(e){var r=e,a=function(){return r},i=function(s){r=s};return{get:a,set:i}},p0=function(e){return rt(e)&&Fr(e,"raw")},HS=function(e){return nr(e)&&e.length>1},Sl={},jf=oc("en"),Cy=function(){return cr(Sl,jf.get())},VS=function(){return Gn(Sl,function(e){return fn({},e)})},US=function(e){e&&jf.set(e)},xv=function(){return jf.get()},Tv=function(e,r){var a=Sl[e];a||(Sl[e]=a={}),lr(r,function(i,s){a[s.toLowerCase()]=i})},Sy=function(e){var r=Cy().getOr({}),a=function(k){return Le(k)?Object.prototype.toString.call(k):i(k)?"":""+k},i=function(k){return k===""||k===null||k===void 0},s=function(k){var O=a(k);return cr(r,O.toLowerCase()).map(a).getOr(O)},f=function(k){return k.replace(/{context:\w+}$/,"")};if(i(e))return"";if(p0(e))return a(e.raw);if(HS(e)){var g=e.slice(1),y=s(e[0]).replace(/\{([0-9]+)\}/g,function(k,O){return Fr(g,O)?a(g[O]):k});return f(y)}return f(s(e))},Ka=function(){return Cy().bind(function(e){return cr(e,"_dir")}).exists(function(e){return e==="rtl"})},$i=function(e){return Fr(Sl,e)},ic={getData:VS,setCode:US,getCode:xv,add:Tv,translate:Sy,isRtl:Ka,hasCode:$i},Sc=function(){var e=[],r={},a={},i=[],s=function(ne,ae){var pe=Fe(i,function(ge){return ge.name===ne&&ge.state===ae});At(pe,function(ge){return ge.callback()})},f=function(ne){if(a[ne])return a[ne].instance},g=function(ne){var ae;return a[ne]&&(ae=a[ne].dependencies),ae||[]},y=function(ne,ae){Sc.languageLoad!==!1&&te(ne,function(){var pe=ic.getCode(),ge=","+(ae||"")+",";!pe||ae&&ge.indexOf(","+pe+",")===-1||Uf.ScriptLoader.add(r[ne]+"/langs/"+pe+".js")},"loaded")},k=function(ne,ae,pe){var ge=ae;return e.push(ge),a[ne]={instance:ge,dependencies:pe},s(ne,"added"),ge},O=function(ne){delete r[ne],delete a[ne]},F=function(ne,ae){return typeof ae=="object"?ae:typeof ne=="string"?{prefix:"",resource:ae,suffix:""}:{prefix:ne.prefix,resource:ae,suffix:ne.suffix}},$=function(ne,ae){var pe=r[ne];At(ae,function(ge){Uf.ScriptLoader.add(pe+"/"+ge)})},L=function(ne,ae,pe,ge){var je=g(ne);At(je,function(Be){var we=F(ae,Be);Q(we.resource,we,void 0,void 0)}),pe&&(ge?pe.call(ge):pe.call(Uf))},Q=function(ne,ae,pe,ge,je){if(!r[ne]){var Be=typeof ae=="string"?ae:ae.prefix+ae.resource+ae.suffix;Be.indexOf("/")!==0&&Be.indexOf("://")===-1&&(Be=Sc.baseURL+"/"+Be),r[ne]=Be.substring(0,Be.lastIndexOf("/"));var we=function(){s(ne,"loaded"),L(ne,ae,pe,ge)};a[ne]?we():Uf.ScriptLoader.add(Be,we,ge,je)}},te=function(ne,ae,pe){pe===void 0&&(pe="added"),Fr(a,ne)&&pe==="added"||Fr(r,ne)&&pe==="loaded"?ae():i.push({name:ne,state:pe,callback:ae})};return{items:e,urls:r,lookup:a,_listeners:i,get:f,dependencies:g,requireLangPack:y,add:k,remove:O,createUrl:F,addComponents:$,load:Q,waitFor:te}};Sc.languageLoad=!0,Sc.baseURL="",Sc.PluginManager=Sc(),Sc.ThemeManager=Sc();var _o=function(e){var r=oc(Z.none()),a=function(){return r.get().each(e)},i=function(){a(),r.set(Z.none())},s=function(){return r.get().isSome()},f=function(){return r.get()},g=function(y){a(),r.set(Z.some(y))};return{clear:i,isSet:s,get:f,set:g}},Bd=function(){var e=_o(dt),r=function(a){return e.get().each(a)};return fn(fn({},e),{on:r})},xy=function(e,r){var a=null,i=function(){se(a)||(clearTimeout(a),a=null)},s=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];se(a)&&(a=setTimeout(function(){a=null,e.apply(null,f)},r))};return{cancel:i,throttle:s}},qi=function(e,r){var a=null,i=function(){se(a)||(clearTimeout(a),a=null)},s=function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];i(),a=setTimeout(function(){a=null,e.apply(null,f)},r)};return{cancel:i,throttle:s}},ef=function(e,r){var a=W(e,r);return a===void 0||a===""?[]:a.split(" ")},jS=function(e,r,a){var i=ef(e,r),s=i.concat([a]);return z(e,r,s.join(" ")),!0},WS=function(e,r,a){var i=Fe(ef(e,r),function(s){return s!==a});return i.length>0?z(e,r,i.join(" ")):xt(e,r),!1},Ty=function(e){return e.dom.classList!==void 0},zy=function(e){return ef(e,"class")},h0=function(e,r){return jS(e,"class",r)},y0=function(e,r){return WS(e,"class",r)},zv=function(e,r){Ty(e)?e.dom.classList.add(r):h0(e,r)},Sp=function(e){var r=Ty(e)?e.dom.classList:zy(e);r.length===0&&xt(e,"class")},b0=function(e,r){if(Ty(e)){var a=e.dom.classList;a.remove(r)}else y0(e,r);Sp(e)},w0=function(e,r){return Ty(e)&&e.dom.classList.contains(r)},Vm=function(e,r){var a=[];return At(Lu(e),function(i){r(i)&&(a=a.concat([i])),a=a.concat(Vm(i,r))}),a},yu=function(e,r){return na(r,e)},qc=V("mce-annotation"),xp=V("data-mce-annotation"),Li=V("data-mce-annotation-uid"),Ey=function(e,r){var a=e.selection.getRng(),i=S.fromDom(a.startContainer),s=S.fromDom(e.getBody()),f=r.fold(function(){return"."+qc()},function(O){return"["+xp()+'="'+O+'"]'}),g=ml(i,a.startOffset).getOr(i),y=gi(g,f,function(O){return jn(O,s)}),k=function(O,F){return Ie(O,F)?Z.some(W(O,F)):Z.none()};return y.bind(function(O){return k(O,""+Li()).bind(function(F){return k(O,""+xp()).map(function($){var L=k0(e,F);return{uid:F,name:$,elements:L}})})})},Wf=function(e){return No(e)&&w0(e,qc())},k0=function(e,r){var a=S.fromDom(e.getBody());return yu(a,"["+Li()+'="'+r+'"]')},_0=function(e,r){var a=S.fromDom(e.getBody()),i=yu(a,"["+xp()+'="'+r+'"]'),s={};return At(i,function(f){var g=W(f,Li()),y=cr(s,g).getOr([]);s[g]=y.concat([f])}),s},k_=function(e,r){var a=oc({}),i=function(){return{listeners:[],previous:Bd()}},s=function(F,$){f(F,function(L){return $(L),L})},f=function(F,$){var L=a.get(),Q=cr(L,F).getOrThunk(i),te=$(Q);L[F]=te,a.set(L)},g=function(F,$,L){s(F,function(Q){At(Q.listeners,function(te){return te(!0,F,{uid:$,nodes:Zr(L,function(ne){return ne.dom})})})})},y=function(F){s(F,function($){At($.listeners,function(L){return L(!1,F)})})},k=qi(function(){var F=a.get(),$=bt(Xt(F));At($,function(L){f(L,function(Q){var te=Q.previous.get();return Ey(e,Z.some(L)).fold(function(){te.isSome()&&(y(L),Q.previous.clear())},function(ne){var ae=ne.uid,pe=ne.name,ge=ne.elements;sv(te,ae)||(g(pe,ae,ge),Q.previous.set(ae))}),{previous:Q.previous,listeners:Q.listeners}})})},30);e.on("remove",function(){k.cancel()}),e.on("NodeChange",function(){k.throttle()});var O=function(F,$){f(F,function(L){return{previous:L.previous,listeners:L.listeners.concat([$])}})};return{addListener:O}},C0=function(e,r){var a=function(i){return Z.from(i.attr(xp())).bind(r.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){At(i,function(s){a(s).each(function(f){f.persistent===!1&&s.unwrap()})})})})},Tp=function(){var e={},r=function(i,s){e[i]={name:i,settings:s}},a=function(i){return cr(e,i).map(function(s){return s.settings})};return{register:r,lookup:a}},Ay=0,__=function(e){var r=new Date,a=r.getTime(),i=Math.floor(Math.random()*1e9);return Ay++,e+"_"+i+Ay+String(a)},qS=function(e,r){At(r,function(a){zv(e,a)})},Fu=function(e,r){var a=r||document,i=a.createElement("div");return i.innerHTML=e,Lu(S.fromDom(i))},Gi=function(e){return Zr(e,S.fromDom)},uc=function(e){return e.dom.innerHTML},cc=function(e,r){var a=Ws(e),i=a.dom,s=S.fromDom(i.createDocumentFragment()),f=Fu(r,i);zf(s,f),Ef(e),Bi(e,s)},xc=function(e,r){return S.fromDom(e.dom.cloneNode(r))},zi=function(e){return xc(e,!1)},Oy=function(e){return xc(e,!0)},Dy=function(e,r,a){a===void 0&&(a=Ve);var i=new io(e,r),s=function(f){var g;do g=i[f]();while(g&&!on(g)&&!a(g));return Z.from(g).filter(on)};return{current:function(){return Z.from(i.current()).filter(on)},next:function(){return s("next")},prev:function(){return s("prev")},prev2:function(){return s("prev2")}}},S0=function(e,r){var a=r||function(g){return e.isBlock(g)||ho(g)||Fo(g)},i=function(g,y,k,O){if(on(g)){var F=O(g,y,g.data);if(F!==-1)return Z.some({container:g,offset:F})}return k().bind(function($){return i($.container,$.offset,k,O)})},s=function(g,y,k,O){var F=Dy(g,O,a);return i(g,y,function(){return F.prev().map(function($){return{container:$,offset:$.length}})},k).getOrNull()},f=function(g,y,k,O){var F=Dy(g,O,a);return i(g,y,function(){return F.next().map(function($){return{container:$,offset:0}})},k).getOrNull()};return{backwards:s,forwards:f}},Ev=Math.round,Md=function(e){return e?{left:Ev(e.left),top:Ev(e.top),bottom:Ev(e.bottom),right:Ev(e.right),width:Ev(e.width),height:Ev(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Ry=function(e,r){return e=Md(e),r||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Py=function(e,r){return e.left===r.left&&e.top===r.top&&e.bottom===r.bottom&&e.right===r.right},By=function(e,r,a){return e>=0&&e<=Math.min(r.height,a.height)/2},Um=function(e,r){var a=Math.min(r.height/2,e.height/2);return e.bottom-a<r.top?!0:e.top>r.bottom?!1:By(r.top-e.bottom,e,r)},jm=function(e,r){return e.top>r.bottom?!0:e.bottom<r.top?!1:By(r.bottom-e.top,e,r)},C_=function(e,r,a){return r>=e.left&&r<=e.right&&a>=e.top&&a<=e.bottom},tf=function(e,r,a){return Math.min(Math.max(e,r),a)},Av=function(e){var r=e.startContainer,a=e.startOffset;return r.hasChildNodes()&&e.endOffset===a+1?r.childNodes[a]:null},jo=function(e,r){if(Yn(e)&&e.hasChildNodes()){var a=e.childNodes,i=tf(r,0,a.length-1);return a[i]}else return e},GS=function(e,r){if(!(r<0&&Yn(e)&&e.hasChildNodes()))return jo(e,r)},KS=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),My=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&KS.test(e)},XS=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},S_=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Br=Yn,YS=Gl,Hi=ec("display","block table"),x0=ec("float","left right"),Ov=S_(Br,YS,On(x0)),x_=On(ec("white-space","pre pre-line pre-wrap")),Uu=on,zp=ho,Ny=Ro.nodeIndex,Ep=GS,xl=function(e){return"createRange"in e?e.createRange():Ro.DOM.createRng()},Ap=function(e){return e&&/[\r\n\t ]/.test(e)},Op=function(e){return!!e.setStart&&!!e.setEnd},sc=function(e){var r=e.startContainer,a=e.startOffset;if(Ap(e.toString())&&x_(r.parentNode)&&on(r)){var i=r.data;if(Ap(i[a-1])||Ap(i[a+1]))return!0}return!1},Tl=function(e){var r=e.ownerDocument,a=xl(r),i=r.createTextNode(Vc),s=e.parentNode;s.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var f=Md(a.getBoundingClientRect());return s.removeChild(i),f},T_=function(e){var r=e.startContainer,a=e.endContainer,i=e.startOffset,s=e.endOffset;if(r===a&&on(a)&&i===0&&s===1){var f=e.cloneRange();return f.setEndAfter(a),rf(f)}else return null},ju=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},rf=function(e){var r,a=e.getClientRects();return a.length>0?r=Md(a[0]):r=Md(e.getBoundingClientRect()),!Op(e)&&zp(e)&&ju(r)?Tl(e):ju(r)&&Op(e)?T_(e):r},Nd=function(e,r){var a=Ry(e,r);return a.width=1,a.right=a.left+1,a},Dp=function(e){var r=[],a=function(k){k.height!==0&&(r.length>0&&Py(k,r[r.length-1])||r.push(k))},i=function(k,O){var F=xl(k.ownerDocument);if(O<k.data.length){if(My(k.data[O]))return r;if(My(k.data[O-1])&&(F.setStart(k,O),F.setEnd(k,O+1),!sc(F)))return a(Nd(rf(F),!1)),r}O>0&&(F.setStart(k,O-1),F.setEnd(k,O),sc(F)||a(Nd(rf(F),!1))),O<k.data.length&&(F.setStart(k,O),F.setEnd(k,O+1),sc(F)||a(Nd(rf(F),!0)))},s=e.container(),f=e.offset();if(Uu(s))return i(s,f),r;if(Br(s))if(e.isAtEnd()){var g=Ep(s,f);Uu(g)&&i(g,g.data.length),Ov(g)&&!zp(g)&&a(Nd(rf(g),!1))}else{var g=Ep(s,f);if(Uu(g)&&i(g,0),Ov(g)&&e.isAtEnd())return a(Nd(rf(g),!1)),r;var y=Ep(e.container(),e.offset()-1);Ov(y)&&!zp(y)&&(Hi(y)||Hi(g)||!Ov(g))&&a(Nd(rf(y),!1)),Ov(g)&&a(Nd(rf(g),!0))}return r},pt=function(e,r,a){var i=function(){return Uu(e),r===0},s=function(){return Uu(e)?r>=e.data.length:r>=e.childNodes.length},f=function(){var F=xl(e.ownerDocument);return F.setStart(e,r),F.setEnd(e,r),F},g=function(){return a||(a=Dp(pt(e,r))),a},y=function(){return g().length>0},k=function(F){return F&&e===F.container()&&r===F.offset()},O=function(F){return Ep(e,F?r-1:r)};return{container:V(e),offset:V(r),toRange:f,getClientRects:g,isVisible:y,isAtStart:i,isAtEnd:s,isEqual:k,getNode:O}};pt.fromRangeStart=function(e){return pt(e.startContainer,e.startOffset)},pt.fromRangeEnd=function(e){return pt(e.endContainer,e.endOffset)},pt.after=function(e){return pt(e.parentNode,Ny(e)+1)},pt.before=function(e){return pt(e.parentNode,Ny(e))},pt.isAbove=function(e,r){return Hu(xr(r.getClientRects()),Rr(e.getClientRects()),Um).getOr(!1)},pt.isBelow=function(e,r){return Hu(Rr(r.getClientRects()),xr(e.getClientRects()),jm).getOr(!1)},pt.isAtStart=function(e){return e?e.isAtStart():!1},pt.isAtEnd=function(e){return e?e.isAtEnd():!1},pt.isTextPosition=function(e){return e?on(e.container()):!1},pt.isElementPosition=function(e){return pt.isTextPosition(e)===!1};var qf=function(e,r){on(r)&&r.data.length===0&&e.remove(r)},Wm=function(e,r,a){r.insertNode(a),qf(e,a.previousSibling),qf(e,a.nextSibling)},ZS=function(e,r,a){var i=Z.from(a.firstChild),s=Z.from(a.lastChild);r.insertNode(a),i.each(function(f){return qf(e,f.previousSibling)}),s.each(function(f){return qf(e,f.nextSibling)})},Fy=function(e,r,a){ma(a)?ZS(e,r,a):Wm(e,r,a)},tl=on,Iy=mi,T0=Ro.nodeIndex,z0=function(e){var r=e.parentNode;return Iy(r)?z0(r):r},$y=function(e){return e?Jo(e.childNodes,function(r,a){return Iy(a)&&a.nodeName!=="BR"?r=r.concat($y(a)):r.push(a),r},[]):[]},E0=function(e,r){for(;(e=e.previousSibling)&&tl(e);)r+=e.data.length;return r},A0=function(e){return function(r){return e===r}},O0=function(e){var r,a;r=$y(z0(e)),a=ua(r,A0(e),e),r=r.slice(0,a+1);var i=Jo(r,function(s,f,g){return tl(f)&&tl(r[g-1])&&s++,s},0);return r=Oo(r,ns([e.nodeName])),a=ua(r,A0(e),e),a-i},D0=function(e){var r;return tl(e)?r="text()":r=e.nodeName.toLowerCase(),r+"["+O0(e)+"]"},Dv=function(e,r,a){var i=[];for(r=r.parentNode;r!==e;r=r.parentNode)i.push(r);return i},z_=function(e,r){var a,i,s=[],f,g,y;return a=r.container(),i=r.offset(),tl(a)?f=E0(a,i):(g=a.childNodes,i>=g.length?(f="after",i=g.length-1):f="before",a=g[i]),s.push(D0(a)),y=Dv(e,a),y=Oo(y,On(mi)),s=s.concat(ci(y,function(k){return D0(k)})),s.reverse().join("/")+","+f},JS=function(e,r,a){var i=$y(e);return i=Oo(i,function(s,f){return!tl(s)||!tl(i[f-1])}),i=Oo(i,ns([r])),i[a]},QS=function(e,r){for(var a=e,i=0,s;tl(a);){if(s=a.data.length,r>=i&&r<=i+s){e=a,r=r-i;break}if(!tl(a.nextSibling)){e=a,r=s;break}i+=s,a=a.nextSibling}return tl(e)&&r>e.data.length&&(r=e.data.length),pt(e,r)},qm=function(e,r){var a;if(!r)return null;var i=r.split(","),s=i[0].split("/");a=i.length>1?i[1]:"before";var f=Jo(s,function(g,y){var k=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(y);return k?(k[1]==="text()"&&(k[1]="#text"),JS(g,k[1],parseInt(k[2],10))):null},e);return f?tl(f)?QS(f,parseInt(a,10)):(a==="after"?a=T0(f)+1:a=T0(f),pt(f.parentNode,a)):null},Gm=Fo,Ly=function(e,r,a){var i,s;for(s=e(r.data.slice(0,a)).length,i=r.previousSibling;i&&on(i);i=i.previousSibling)s+=e(i.data).length;return s},R0=function(e,r,a,i,s){var f=i[s?"startContainer":"endContainer"],g=i[s?"startOffset":"endOffset"],y=[],k,O=0,F=e.getRoot();for(on(f)?y.push(a?Ly(r,f,g):g):(k=f.childNodes,g>=k.length&&k.length&&(O=1,g=Math.max(0,k.length-1)),y.push(e.nodeIndex(k[g],a)+O));f&&f!==F;f=f.parentNode)y.push(e.nodeIndex(f,a));return y},Km=function(e,r,a,i){var s=r.dom,f={};return f.start=R0(s,e,a,i,!0),r.isCollapsed()||(f.end=R0(s,e,a,i,!1)),ql(i)&&(f.isFakeCaret=!0),f},P0=function(e,r,a){var i=0;return wt.each(e.select(r),function(s){if(s.getAttribute("data-mce-bogus")!=="all"){if(s===a)return!1;i++}}),i},fi=function(e,r){var a,i,s,f=r?"start":"end";a=e[f+"Container"],i=e[f+"Offset"],Yn(a)&&a.nodeName==="TR"&&(s=a.childNodes,a=s[Math.min(r?i:i-1,s.length-1)],a&&(i=r?0:a.childNodes.length,e["set"+(r?"Start":"End")](a,i)))},Rp=function(e){return fi(e,!0),fi(e,!1),e},pi=function(e,r){var a;if(Yn(e)&&(e=jo(e,r),Gm(e)))return e;if(Cc(e)&&(on(e)&&yo(e)&&(e=e.parentNode),a=e.previousSibling,Gm(a)||(a=e.nextSibling,Gm(a))))return a},Hy=function(e){return pi(e.startContainer,e.startOffset)||pi(e.endContainer,e.endOffset)},Rv=function(e,r,a){var i=a.getNode(),s=i?i.nodeName:null,f=a.getRng();if(Gm(i)||s==="IMG")return{name:s,index:P0(a.dom,s,i)};var g=Hy(f);return g?(s=g.tagName,{name:s,index:P0(a.dom,s,g)}):Km(e,a,r,f)},B0=function(e){var r=e.getRng();return{start:z_(e.dom.getRoot(),pt.fromRangeStart(r)),end:z_(e.dom.getRoot(),pt.fromRangeEnd(r))}},Pp=function(e){return{rng:e.getRng()}},M0=function(e,r,a){var i={"data-mce-type":"bookmark",id:r,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},E_=function(e,r){var a=e.dom,i=e.getRng(),s=a.uniqueId(),f=e.isCollapsed(),g=e.getNode(),y=g.nodeName;if(y==="IMG")return{name:y,index:P0(a,y,g)};var k=Rp(i.cloneRange());if(!f){k.collapse(!1);var O=M0(a,s+"_end",r);Fy(a,k,O)}i=Rp(i),i.collapse(!0);var F=M0(a,s+"_start",r);return Fy(a,i,F),e.moveToBookmark({id:s,keep:!0}),{id:s}},ex=function(e,r,a){return r===2?Rv(_c,a,e):r===3?B0(e):r?Pp(e):E_(e,!1)},A_=yt(Rv,Tt,!0),tx=Ro.DOM,Vy="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",Bp=function(e,r,a){var i=e.getParam(r,a);if(i.indexOf("=")!==-1){var s=e.getParam(r,"","hash");return cr(s,e.id).getOr(a)}else return i},rx=function(e){return e.getParam("iframe_attrs",{})},O_=function(e){return e.getParam("doctype","<!DOCTYPE html>")},N0=function(e){return e.getParam("document_base_url","")},nx=function(e){return Bp(e,"body_id","tinymce")},ax=function(e){return Bp(e,"body_class","")},Uy=function(e){return e.getParam("content_security_policy","")},F0=function(e){return e.getParam("br_in_pre",!0)},bu=function(e){if(e.getParam("force_p_newlines",!1))return"p";var r=e.getParam("forced_root_block","p");return r===!1?"":r===!0?"p":r},Xm=function(e){return e.getParam("forced_root_block_attrs",{})},Ym=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},D_=function(e){return e.getParam("no_newline_selector","")},ox=function(e){return e.getParam("keep_styles",!0)},Mp=function(e){return e.getParam("end_container_on_empty_block",!1)},Np=function(e){return wt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},Pv=function(e){return wt.explode(e.getParam("font_size_classes",""))},jy=function(e){return e.getParam("images_dataimg_filter",Ft,"function")},Fp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},I0=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},ix=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},nf=function(e){return e.getParam("icons","","string")},Wy=function(e){return e.getParam("icons_url","","string")},ux=function(e){return e.getParam("images_upload_url","","string")},Fd=function(e){return e.getParam("images_upload_base_path","","string")},Id=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},cx=function(e){return e.getParam("images_upload_handler",null,"function")},qy=function(e){return e.getParam("content_css_cors",!1,"boolean")},Gy=function(e){return e.getParam("referrer_policy","","string")},Ky=function(e){return e.getParam("language","en","string")},ru=function(e){return e.getParam("language_url","","string")},R_=function(e){return e.getParam("indent_use_margin",!1)},$0=function(e){return e.getParam("indentation","40px","string")},P_=function(e){var r=e.getParam("content_css");return Ht(r)?Zr(r.split(","),ve):nr(r)?r:r===!1||e.inline?[]:["default"]},B_=function(e){var r=e.getParam("font_css",[]);return nr(r)?r:Zr(r.split(","),ve)},zl=function(e){return e.getParam("directionality",ic.isRtl()?"rtl":void 0)},Gf=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},M_=function(e){var r=e.getParam("object_resizing");return r===!1||dr.iOS?!1:Ht(r)?r:"table,img,figure.image,div,video,iframe"},N_=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},L0=function(e){return e.getParam("placeholder",tx.getAttrib(e.getElement(),"placeholder"),"string")},Xy=function(e){return e.getParam("event_root")},F_=function(e){return e.getParam("service_message")},Zm=function(e){return e.getParam("theme")},sx=function(e){return e.getParam("validate")},Ip=function(e){return e.getParam("inline_boundaries")!==!1},lx=function(e){return e.getParam("formats")},Jm=function(e){var r=e.getParam("preview_styles",Vy);return Ht(r)?r:""},Bv=function(e){return e.getParam("format_empty_lines",!1,"boolean")},H0=function(e){return e.getParam("custom_ui_selector","","string")},I_=function(e){return e.getParam("theme_url")},fx=function(e){return e.getParam("inline")},$_=function(e){return e.getParam("hidden_input")},L_=function(e){return e.getParam("submit_patch")},V0=function(e){return e.getParam("encoding")==="xml"},dx=function(e){return e.getParam("add_form_submit_trigger")},Yy=function(e){return e.getParam("add_unload_trigger")},vx=function(e){return bu(e)!==""},$p=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},mx=function(e){return e.getParam("disable_nodechange")},gx=function(e){return e.getParam("readonly")},px=function(e){return e.getParam("content_css_cors")},Zy=function(e){return e.getParam("plugins","","string")},hx=function(e){return e.getParam("external_plugins")},Qm=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},H_=function(e){return e.getParam("visual",!0,"boolean")},yx=function(e){return e.getParam("visual_table_class","mce-item-table","string")},U0=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},V_=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},j0=Yn,U_=on,j_=function(e){var r=e.parentNode;r&&r.removeChild(e)},eg=function(e){var r=_c(e);return{count:e.length-r.length,text:r}},W0=function(e){for(var r;(r=e.data.lastIndexOf(Ae))!==-1;)e.deleteData(r,1)},q0=function(e,r){return $d(e),r},bx=function(e,r){var a=eg(e.data.substr(0,r.offset())),i=eg(e.data.substr(r.offset())),s=a.text+i.text;return s.length>0?(W0(e),pt(e,r.offset()-a.count)):r},wx=function(e,r){var a=r.container(),i=ir(sr(a.childNodes),e).map(function(s){return s<r.offset()?pt(a,r.offset()-1):r}).getOr(r);return $d(e),i},G0=function(e,r){return U_(e)&&r.container()===e?bx(e,r):q0(e,r)},kx=function(e,r){return r.container()===e.parentNode?wx(e,r):q0(e,r)},W_=function(e,r){return pt.isTextPosition(r)?G0(e,r):kx(e,r)},$d=function(e){j0(e)&&Cc(e)&&(Ff(e)?e.removeAttribute("data-mce-caret"):j_(e)),U_(e)&&(W0(e),e.data.length===0&&j_(e))},tg=Kr().browser,q_=Fo,_x=bc,G_=ym,Cx="*[contentEditable=false],video,audio,embed,object",K0=function(e,r,a){var i=Ry(r.getBoundingClientRect(),a),s,f;if(e.tagName==="BODY"){var g=e.ownerDocument.documentElement;s=e.scrollLeft||g.scrollLeft,f=e.scrollTop||g.scrollTop}else{var y=e.getBoundingClientRect();s=e.scrollLeft-y.left,f=e.scrollTop-y.top}i.left+=s,i.right+=s,i.top+=f,i.bottom+=f,i.width=1;var k=r.offsetWidth-r.clientWidth;return k>0&&(a&&(k*=-1),i.left+=k,i.right+=k),i},rg=function(e){for(var r=yu(S.fromDom(e),Cx),a=0;a<r.length;a++){var i=r[a].dom,s=i.previousSibling;if(mp(s)){var f=s.data;f.length===1?s.parentNode.removeChild(s):s.deleteData(f.length-1,1)}if(s=i.nextSibling,vp(s)){var f=s.data;f.length===1?s.parentNode.removeChild(s):s.deleteData(0,1)}}},Wu=function(e,r,a,i){var s=Bd(),f,g,y=bu(e),k=y.length>0?y:"p",O=function(ne,ae){var pe;if(F(),G_(ae))return null;if(a(ae)){g=e_(k,ae,ne);var ge=K0(r,ae,ne);ga(g).css("top",ge.top);var je=ga('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(fn({},ge)).appendTo(r)[0];s.set({caret:je,element:ae,before:ne}),ne&&ga(je).addClass("mce-visual-caret-before"),$(),pe=ae.ownerDocument.createRange(),pe.setStart(g,0),pe.setEnd(g,0)}else return g=V1(ae,ne),pe=ae.ownerDocument.createRange(),ng(g.nextSibling)?(pe.setStart(g,0),pe.setEnd(g,0)):(pe.setStart(g,1),pe.setEnd(g,1)),pe;return pe},F=function(){rg(r),g&&($d(g),g=null),s.on(function(ne){ga(ne.caret).remove(),s.clear()}),f&&(Pu.clearInterval(f),f=void 0)},$=function(){f=Pu.setInterval(function(){i()?ga("div.mce-visual-caret",r).toggleClass("mce-visual-caret-hidden"):ga("div.mce-visual-caret",r).addClass("mce-visual-caret-hidden")},500)},L=function(){s.on(function(ne){var ae=K0(r,ne.element,ne.before);ga(ne.caret).css(fn({},ae))})},Q=function(){return Pu.clearInterval(f)},te=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:O,hide:F,getCss:te,reposition:L,destroy:Q}},X0=function(){return tg.isIE()||tg.isEdge()||tg.isFirefox()},ng=function(e){return q_(e)||_x(e)},Mv=function(e){return ng(e)||wi(e)&&X0()},Jy=Fo,Sx=bc,K_=ec("display","block table table-cell table-caption list-item"),Y0=Cc,Tc=yo,Lp=Yn,xx=Gl,Nv=function(e){return e>0},Ld=function(e){return e<0},ag=function(e,r){for(var a;a=e(r);)if(!Tc(a))return a;return null},Hd=function(e,r,a,i,s){var f=new io(e,i),g=Jy(e)||Tc(e);if(Ld(r)){if(g&&(e=ag(f.prev.bind(f),!0),a(e)))return e;for(;e=ag(f.prev.bind(f),s);)if(a(e))return e}if(Nv(r)){if(g&&(e=ag(f.next.bind(f),!0),a(e)))return e;for(;e=ag(f.next.bind(f),s);)if(a(e))return e}return null},El=function(e,r){for(;e&&e!==r;){if(K_(e))return e;e=e.parentNode}return null},Al=function(e,r,a){return El(e.container(),a)===El(r.container(),a)},Qy=function(e,r){if(!r)return null;var a=r.container(),i=r.offset();return Lp(a)?a.childNodes[i+e]:null},eb=function(e,r){var a=r.ownerDocument.createRange();return e?(a.setStartBefore(r),a.setEndBefore(r)):(a.setStartAfter(r),a.setEndAfter(r)),a},Z0=function(e,r,a){return El(r,e)===El(a,e)},og=function(e,r,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==r;){var s=a[i];if(Y0(s)&&(s=s[i]),Jy(s)||Sx(s)){if(Z0(r,s,a))return s;break}if(xx(s))break;a=a.parentNode}return null},ig=yt(eb,!0),ug=yt(eb,!1),Iu=function(e,r,a){var i,s=yt(og,!0,r),f=yt(og,!1,r),g=a.startContainer,y=a.startOffset;if(yo(g)){Lp(g)||(g=g.parentNode);var k=g.getAttribute("data-mce-caret");if(k==="before"&&(i=g.nextSibling,Mv(i)))return ig(i);if(k==="after"&&(i=g.previousSibling,Mv(i)))return ug(i)}if(!a.collapsed)return a;if(on(g)){if(Y0(g)){if(e===1){if(i=f(g),i)return ig(i);if(i=s(g),i)return ug(i)}if(e===-1){if(i=s(g),i)return ug(i);if(i=f(g),i)return ig(i)}return a}if(mp(g)&&y>=g.data.length-1)return e===1&&(i=f(g),i)?ig(i):a;if(vp(g)&&y<=1)return e===-1&&(i=s(g),i)?ug(i):a;if(y===g.data.length)return i=f(g),i?ig(i):a;if(y===0)return i=s(g),i?ug(i):a}return a},cg=function(e,r){return Z.from(Qy(e?0:-1,r)).filter(Jy)},sg=function(e,r,a){var i=Iu(e,r,a);return e===-1?pt.fromRangeStart(i):pt.fromRangeEnd(i)},tb=function(e){return Z.from(e.getNode()).map(S.fromDom)},Tx=function(e){return Z.from(e.getNode(!0)).map(S.fromDom)},J0=function(e,r){for(;r=e(r);)if(r.isVisible())return r;return r},rb=function(e,r){var a=Al(e,r);return!a&&ho(e.getNode())?!0:a},wu;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})(wu||(wu={}));var zx=Fo,af=on,nb=Yn,Q0=ho,lg=Gl,ew=ES,Hp=xi,Ex=function(e,r){for(var a=[];e&&e!==r;)a.push(e),e=e.parentNode;return a},X_=function(e,r){return e.hasChildNodes()&&r<e.childNodes.length?e.childNodes[r]:null},Y_=function(e,r){if(Nv(e)){if(lg(r.previousSibling)&&!af(r.previousSibling))return pt.before(r);if(af(r))return pt(r,0)}if(Ld(e)){if(lg(r.nextSibling)&&!af(r.nextSibling))return pt.after(r);if(af(r))return pt(r,r.data.length)}return Ld(e)?Q0(r)?pt.before(r):pt.after(r):pt.before(r)},Ax=function(e,r){var a=r.nextSibling;return a&&lg(a)?af(a)?pt(a,0):pt.before(a):fg(wu.Forwards,pt.after(r),e)},fg=function(e,r,a){var i,s,f,g;if(!nb(a)||!r)return null;if(r.isEqual(pt.after(a))&&a.lastChild){if(g=pt.after(a.lastChild),Ld(e)&&lg(a.lastChild)&&nb(a.lastChild))return Q0(a.lastChild)?pt.before(a.lastChild):g}else g=r;var y=g.container(),k=g.offset();if(af(y)){if(Ld(e)&&k>0)return pt(y,--k);if(Nv(e)&&k<y.length)return pt(y,++k);i=y}else{if(Ld(e)&&k>0&&(s=X_(y,k-1),lg(s)))return!ew(s)&&(f=Hd(s,e,Hp,s),f)?af(f)?pt(f,f.data.length):pt.after(f):af(s)?pt(s,s.data.length):pt.before(s);if(Nv(e)&&k<y.childNodes.length&&(s=X_(y,k),lg(s)))return Q0(s)?Ax(a,s):!ew(s)&&(f=Hd(s,e,Hp,s),f)?af(f)?pt(f,0):pt.before(f):af(s)?pt(s,0):pt.after(s);i=s||g.getNode()}if((Nv(e)&&g.isAtEnd()||Ld(e)&&g.isAtStart())&&(i=Hd(i,e,Ft,a,!0),Hp(i,a)))return Y_(e,i);s=Hd(i,e,Hp,a);var O=Lo(Fe(Ex(y,a),zx));return O&&(!s||!O.contains(s))?(Nv(e)?g=pt.after(O):g=pt.before(O),g):s?Y_(e,s):null},di=function(e){return{next:function(r){return fg(wu.Forwards,r,e)},prev:function(r){return fg(wu.Backwards,r,e)}}},ab=function(e,r,a){var i=e?pt.before(a):pt.after(a);return zc(e,r,i)},ob=function(e){return ho(e)?pt.before(e):pt.after(e)},tw=function(e){return pt.isTextPosition(e)?e.offset()===0:Gl(e.getNode())},Z_=function(e){if(pt.isTextPosition(e)){var r=e.container();return e.offset()===r.data.length}else return Gl(e.getNode(!0))},rw=function(e,r){return!pt.isTextPosition(e)&&!pt.isTextPosition(r)&&e.getNode()===r.getNode(!0)},Fv=function(e){return!pt.isTextPosition(e)&&ho(e.getNode())},ib=function(e,r,a){return e?!rw(r,a)&&!Fv(r)&&Z_(r)&&tw(a):!rw(a,r)&&tw(r)&&Z_(a)},zc=function(e,r,a){var i=di(r);return Z.from(e?i.next(a):i.prev(a))},Ol=function(e,r,a){return zc(e,r,a).bind(function(i){return Al(a,i,r)&&ib(e,a,i)?zc(e,r,i):Z.some(i)})},ub=function(e,r,a,i){return Ol(e,r,a).bind(function(s){return i(s)?ub(e,r,s,i):Z.some(s)})},Kf=function(e,r){var a=e?r.firstChild:r.lastChild;return on(a)?Z.some(pt(a,e?0:a.data.length)):a?Gl(a)?Z.some(e?pt.before(a):ob(a)):ab(e,r,a):Z.none()},rl=yt(zc,!0),Dl=yt(zc,!1),qu=yt(Kf,!0),Ds=yt(Kf,!1),dg="_mce_caret",of=function(e){return Yn(e)&&e.id===dg},Iv=function(e,r){for(;r&&r!==e;){if(r.id===dg)return r;r=r.parentNode}return null},J_=function(e){return Ht(e.start)},Q_=function(e){return Fr(e,"rng")},Ox=function(e){return Fr(e,"id")},Dx=function(e){return Fr(e,"name")},e2=function(e){return wt.isArray(e.start)},t2=function(e,r){return Yn(r)&&e.isBlock(r)&&!r.innerHTML&&!dr.ie&&(r.innerHTML='<br data-mce-bogus="1" />'),r},r2=function(e,r){var a,i=e.createRng();return a=qm(e.getRoot(),r.start),i.setStart(a.container(),a.offset()),a=qm(e.getRoot(),r.end),i.setEnd(a.container(),a.offset()),i},Rx=function(e,r){var a=e.ownerDocument.createTextNode(Ae);e.appendChild(a),r.setStart(a,0),r.setEnd(a,0)},n2=function(e){return e.hasChildNodes()===!1},Px=function(e,r){return Ds(e).fold(Ve,function(a){return r.setStart(a.container(),a.offset()),r.setEnd(a.container(),a.offset()),!0})},a2=function(e,r,a){return n2(r)&&Iv(e,r)?(Rx(r,a),!0):!1},o2=function(e,r,a,i){var s=a[r?"start":"end"],f,g,y,k,O=e.getRoot();if(s){for(y=s[0],g=O,f=s.length-1;f>=1;f--){if(k=g.childNodes,a2(O,g,i))return!0;if(s[f]>k.length-1)return a2(O,g,i)?!0:Px(g,i);g=k[s[f]]}g.nodeType===3&&(y=Math.min(s[0],g.nodeValue.length)),g.nodeType===1&&(y=Math.min(s[0],g.childNodes.length)),r?i.setStart(g,y):i.setEnd(g,y)}return!0},nw=function(e){return on(e)&&e.data.length>0},i2=function(e,r,a){var i=e.get(a.id+"_"+r),s,f,g,y,k=a.keep,O,F;if(i){if(s=i.parentNode,r==="start"?(k?i.hasChildNodes()?(s=i.firstChild,f=1):nw(i.nextSibling)?(s=i.nextSibling,f=0):nw(i.previousSibling)?(s=i.previousSibling,f=i.previousSibling.data.length):(s=i.parentNode,f=e.nodeIndex(i)+1):f=e.nodeIndex(i),O=s,F=f):(k?i.hasChildNodes()?(s=i.firstChild,f=1):nw(i.previousSibling)?(s=i.previousSibling,f=i.previousSibling.data.length):(s=i.parentNode,f=e.nodeIndex(i)):f=e.nodeIndex(i),O=s,F=f),!k){for(y=i.previousSibling,g=i.nextSibling,wt.each(wt.grep(i.childNodes),function($){on($)&&($.nodeValue=$.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+r);)e.remove(i,!0);y&&g&&y.nodeType===g.nodeType&&on(y)&&!dr.opera&&(f=y.nodeValue.length,y.appendData(g.nodeValue),e.remove(g),O=y,F=f)}return Z.some(pt(O,F))}else return Z.none()},Bx=function(e,r){var a=e.createRng();return o2(e,!0,r,a)&&o2(e,!1,r,a)?Z.some(a):Z.none()},Pa=function(e,r){var a=i2(e,"start",r),i=i2(e,"end",r);return Hu(a,i.or(a),function(s,f){var g=e.createRng();return g.setStart(t2(e,s.container()),s.offset()),g.setEnd(t2(e,f.container()),f.offset()),g})},$v=function(e,r){return Z.from(e.select(r.name)[r.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},vg=function(e,r){var a=e.dom;if(r){if(e2(r))return Bx(a,r);if(J_(r))return Z.some(r2(a,r));if(Ox(r))return Pa(a,r);if(Dx(r))return $v(a,r);if(Q_(r))return Z.some(r.rng)}return Z.none()},aw=function(e,r,a){return ex(e,r,a)},Mx=function(e,r){vg(e,r).each(function(a){e.setRng(a)})},Ec=function(e){return Yn(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},Nx=function(e){return function(r){return e===r}},Lv=Nx(Vc),Vd=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},cb=function(e){return!Vd(e)&&!Lv(e)},sb=function(e){return!!e.nodeType},Fx=function(e){return e&&/^(IMG)$/.test(e.nodeName)},u2=function(e,r,a){var i=a.startOffset,s=a.startContainer;if(!(s===a.endContainer&&Fx(s.childNodes[i]))&&Yn(s)){var f=s.childNodes,g=void 0;i<f.length?(s=f[i],g=new io(s,e.getParent(s,e.isBlock))):(s=f[f.length-1],g=new io(s,e.getParent(s,e.isBlock)),g.next(!0));for(var y=g.current();y;y=g.next())if(on(y)&&!fb(y)){a.setStart(y,0),r.setRng(a);return}}},lb=function(e,r,a){if(e){var i=r?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Yn(e)||!fb(e))return e}},ow=function(e,r){return sb(r)&&(r=r.nodeName),!!e.schema.getTextBlockElements()[r.toLowerCase()]},mg=function(e,r,a){return e.schema.isValidChild(r,a)},fb=function(e,r){if(r===void 0&&(r=!1),zr(e)&&on(e)){var a=r?e.data.replace(/ /g," "):e.data;return Ys(a)}else return!1},Ix=function(e){return zr(e)&&on(e)&&e.length===0},uf=function(e,r){return Le(e)?e=e(r):zr(r)&&(e=e.replace(/%(\w+)/g,function(a,i){return r[i]||a})),e},iw=function(e,r){return e=e||"",r=r||"",e=""+(e.nodeName||e),r=""+(r.nodeName||r),e.toLowerCase()===r.toLowerCase()},uw=function(e,r,a){return(a==="color"||a==="backgroundColor")&&(r=e.toHex(r)),a==="fontWeight"&&r===700&&(r="bold"),a==="fontFamily"&&(r=r.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+r},gg=function(e,r,a){return uw(e,e.getStyle(r,a),a)},cw=function(e,r){var a;return e.getParent(r,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},Vp=function(e,r,a){return e.getParents(r,a,e.getRoot())},c2=function(e,r){var a=function(i){var s=function(f){return f.length>1&&f.charAt(0)==="%"};return qr(["styles","attributes"],function(f){return cr(i,f).exists(function(g){var y=nr(g)?g:Tr(g);return qr(y,s)})})};return qr(e.formatter.get(r),a)},$x=function(e,r,a){var i=["inline","block","selector","attributes","styles","classes"],s=function(f){return Ee(f,function(g,y){return qr(i,function(k){return k===y})})};return qr(e.formatter.get(r),function(f){var g=s(f);return qr(e.formatter.get(a),function(y){var k=s(y);return Za(g,k)})})},cf=function(e){return ia(e,"block")},Gc=function(e){return ia(e,"selector")},ku=function(e){return ia(e,"inline")},Lx=function(e){return Gc(e)&&ku(e)&&sv(cr(e,"mixed"),!0)},sw=function(e){return Gc(e)&&e.expand!==!1&&!ku(e)},pg=Ec,lw=Vp,Up=fb,fw=ow,Hx=function(e){return ho(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Ur=function(e,r){for(var a=r;a;){if(Yn(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:r;a=a.parentNode}return r},Vi=function(e,r,a,i){for(var s=r.data,f=a;e?f>=0:f<s.length;e?f--:f++)if(i(s.charAt(f)))return e?f+1:f;return-1},hg=function(e,r,a){return Vi(e,r,a,function(i){return Lv(i)||Vd(i)})},nu=function(e,r,a){return Vi(e,r,a,cb)},Rs=function(e,r,a,i,s,f){var g,y=e.getParent(a,e.isBlock)||r,k=function(F,$,L){var Q=S0(e),te=s?Q.backwards:Q.forwards;return Z.from(te(F,$,function(ne,ae){return pg(ne.parentNode)?-1:(g=ne,L(s,ne,ae))},y))},O=k(a,i,hg);return O.bind(function(F){return f?k(F.container,F.offset+(s?-1:0),nu):Z.some(F)}).orThunk(function(){return g?Z.some({container:g,offset:s?0:g.length}):Z.none()})},dw=function(e,r,a,i,s){on(i)&&pr(i.data)&&i[s]&&(i=i[s]);for(var f=lw(e,i),g=0;g<f.length;g++)for(var y=0;y<r.length;y++){var k=r[y];if(!(zr(k.collapsed)&&k.collapsed!==a.collapsed)&&Gc(k)&&e.is(f[g],k.selector))return f[g]}return i},jp=function(e,r,a,i){var s=a,f=e.dom,g=f.getRoot(),y=r[0];if(cf(y)&&(s=y.wrapper?null:f.getParent(a,y.block,g)),!s){var k=f.getParent(a,"LI,TD,TH");s=f.getParent(on(a)?a.parentNode:a,function(O){return O!==g&&fw(e,O)},k)}if(s&&cf(y)&&y.wrapper&&(s=lw(f,s,"ul,ol").reverse()[0]||s),!s)for(s=a;s[i]&&!f.isBlock(s[i])&&(s=s[i],!iw(s,"br")););return s||a},db=function(e,r,a,i){var s=a.parentNode;return zr(a[i])?!1:s===r||Nr(s)||e.isBlock(s)?!0:db(e,r,s,i)},vb=function(e,r,a,i,s){var f=a,g=s?"previousSibling":"nextSibling",y=e.getRoot();if(on(a)&&!Up(a)&&(s?i>0:i<a.data.length))return a;for(;;){if(!r[0].block_expand&&e.isBlock(f))return f;for(var k=f[g];k;k=k[g]){var O=on(k)&&!db(e,y,k,g);if(!pg(k)&&!Hx(k)&&!Up(k,O))return f}if(f===y||f.parentNode===y){a=f;break}f=f.parentNode}return a},mb=function(e){return pg(e.parentNode)||pg(e)},Ud=function(e,r,a,i){i===void 0&&(i=!1);var s=r.startContainer,f=r.startOffset,g=r.endContainer,y=r.endOffset,k=e.dom,O=a[0];if(Yn(s)&&s.hasChildNodes()&&(s=jo(s,f),on(s)&&(f=0)),Yn(g)&&g.hasChildNodes()&&(g=jo(g,r.collapsed?y:y-1),on(g)&&(y=g.nodeValue.length)),s=Ur(k,s),g=Ur(k,g),mb(s)&&(s=pg(s)?s:s.parentNode,r.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,on(s)&&(f=r.collapsed?s.length:0)),mb(g)&&(g=pg(g)?g:g.parentNode,r.collapsed?g=g.nextSibling||g:g=g.previousSibling||g,on(g)&&(y=r.collapsed?0:g.length)),r.collapsed){var F=Rs(k,e.getBody(),s,f,!0,i);F.each(function(L){var Q=L.container,te=L.offset;s=Q,f=te});var $=Rs(k,e.getBody(),g,y,!1,i);$.each(function(L){var Q=L.container,te=L.offset;g=Q,y=te})}return(ku(O)||O.block_expand)&&((!ku(O)||!on(s)||f===0)&&(s=vb(k,a,s,f,!0)),(!ku(O)||!on(g)||y===g.nodeValue.length)&&(g=vb(k,a,g,y,!1))),sw(O)&&(s=dw(k,a,r,s,"previousSibling"),g=dw(k,a,r,g,"nextSibling")),(cf(O)||Gc(O))&&(s=jp(e,a,s,"previousSibling"),g=jp(e,a,g,"nextSibling"),cf(O)&&(k.isBlock(s)||(s=vb(k,a,s,f,!0)),k.isBlock(g)||(g=vb(k,a,g,y,!1)))),Yn(s)&&(f=k.nodeIndex(s),s=s.parentNode),Yn(g)&&(y=k.nodeIndex(g)+1,g=g.parentNode),{startContainer:s,startOffset:f,endContainer:g,endOffset:y}},Wp=function(e,r,a){var i=r.startOffset,s=jo(r.startContainer,i),f=r.endOffset,g=jo(r.endContainer,f-1),y=function(ne){var ae=ne[0];on(ae)&&ae===s&&i>=ae.data.length&&ne.splice(0,1);var pe=ne[ne.length-1];return f===0&&ne.length>0&&pe===g&&on(pe)&&ne.splice(ne.length-1,1),ne},k=function(ne,ae,pe){for(var ge=[];ne&&ne!==pe;ne=ne[ae])ge.push(ne);return ge},O=function(ne,ae){return e.getParent(ne,function(pe){return pe.parentNode===ae},ae)},F=function(ne,ae,pe){for(var ge=pe?"nextSibling":"previousSibling",je=ne,Be=je.parentNode;je&&je!==ae;je=Be){Be=je.parentNode;var we=k(je===ne?je:je[ge],ge);we.length&&(pe||we.reverse(),a(y(we)))}};if(s===g)return a(y([s]));var $=e.findCommonAncestor(s,g);if(e.isChildOf(s,g))return F(s,$,!0);if(e.isChildOf(g,s))return F(g,$);var L=O(s,$)||s,Q=O(g,$)||g;F(s,L,!0);var te=k(L===s?L:L.nextSibling,"nextSibling",Q===g?Q.nextSibling:Q);te.length&&a(y(te)),F(g,Q)},vw=function(e){var r=[];if(e)for(var a=0;a<e.rangeCount;a++)r.push(e.getRangeAt(a));return r},mw=function(e){return _n(e,function(r){var a=Av(r);return a?[S.fromDom(a)]:[]})},gw=function(e){return vw(e).length>1},Vx=function(e){return Fe(mw(e),wl)},s2=function(e){return yu(e,"td[data-mce-selected],th[data-mce-selected]")},Xf=function(e,r){var a=s2(r);return a.length>0?a:Vx(e)},sf=function(e){return Xf(vw(e.selection.getSel()),S.fromDom(e.getBody()))},Hv=function(e,r){return lv(e,"table",r)},yg=function(e){var r=e.startContainer,a=e.startOffset;return on(r)?a===0?Z.some(S.fromDom(r)):Z.none():Z.from(r.childNodes[a]).map(S.fromDom)},pw=function(e){var r=e.endContainer,a=e.endOffset;return on(r)?a===r.data.length?Z.some(S.fromDom(r)):Z.none():Z.from(r.childNodes[a-1]).map(S.fromDom)},gb=function(e){return Si(e).fold(V([e]),function(r){return[e].concat(gb(r))})},lf=function(e){return $c(e).fold(V([e]),function(r){return Wa(r)==="br"?xf(r).map(function(a){return[e].concat(lf(a))}).getOr([]):[e].concat(lf(r))})},nl=function(e,r){return Hu(yg(r),pw(r),function(a,i){var s=ut(gb(e),yt(jn,a)),f=ut(lf(e),yt(jn,i));return s.isSome()&&f.isSome()}).getOr(!1)},jd=function(e,r,a,i){var s=a,f=new io(a,s),g=Ee(e.schema.getMoveCaretBeforeOnEnterElements(),function(y,k){return!Zt(["td","th","table"],k.toLowerCase())});do{if(on(a)&&wt.trim(a.nodeValue).length!==0){i?r.setStart(a,0):r.setEnd(a,a.nodeValue.length);return}if(g[a.nodeName]){i?r.setStartBefore(a):a.nodeName==="BR"?r.setEndBefore(a):r.setEndAfter(a);return}}while(a=i?f.next():f.prev());s.nodeName==="BODY"&&(i?r.setStart(s,0):r.setEnd(s,s.childNodes.length))},Wd=function(e){var r=e.selection.getSel();return r&&r.rangeCount>0},Vv=function(e,r){var a=sf(e);a.length>0?At(a,function(i){var s=i.dom,f=e.dom.createRng();f.setStartBefore(s),f.setEndAfter(s),r(f,!0)}):r(e.selection.getRng(),!1)},bg=function(e,r,a){var i=E_(e,r);a(i),e.moveToBookmark(i)},hw=function(e,r){var a=function(f){if(!e(f))throw new Error("Can only get "+r+" value of a "+r+" node");return i(f).getOr("")},i=function(f){return e(f)?Z.from(f.dom.nodeValue):Z.none()},s=function(f,g){if(!e(f))throw new Error("Can only set raw "+r+" value of a "+r+" node");f.dom.nodeValue=g};return{get:a,getOption:i,set:s}},yw=hw(Go,"text"),bw=function(e){return yw.get(e)},pb=function(e){return Go(e)&&bw(e)===Ae},_u=function(e,r,a,i){return ti(r).fold(function(){return"skipping"},function(s){return i==="br"||pb(r)?"valid":Wf(r)?"existing":of(r.dom)?"caret":!mg(e,a,i)||!mg(e,Wa(s),a)?"invalid-child":"valid"})},ps=function(e,r){var a=Ud(e,r,[{inline:"span"}]);r.setStart(a.startContainer,a.startOffset),r.setEnd(a.endContainer,a.endOffset),e.selection.setRng(r)},Ps=function(e,r,a,i){var s=r.uid,f=s===void 0?__("mce-annotation"):s,g=Ui(r,["uid"]),y=S.fromTag("span",e);zv(y,qc()),z(y,""+Li(),f),z(y,""+xp(),a);var k=i(f,g),O=k.attributes,F=O===void 0?{}:O,$=k.classes,L=$===void 0?[]:$;return I(y,F),qS(y,L),y},ff=function(e,r,a,i,s){var f=[],g=Ps(e.getDoc(),s,a,i),y=Bd(),k=function(){y.clear()},O=function(){return y.get().getOrThunk(function(){var Q=zi(g);return f.push(Q),y.set(Q),Q})},F=function(Q){At(Q,$)},$=function(Q){var te=_u(e,Q,"span",Wa(Q));switch(te){case"invalid-child":{k();var ne=Lu(Q);F(ne),k();break}case"valid":{var ae=O();cv(Q,ae);break}}},L=function(Q){var te=Zr(Q,S.fromDom);F(te)};return Wp(e.dom,r,function(Q){k(),L(Q)}),f},wg=function(e,r,a,i){e.undoManager.transact(function(){var s=e.selection,f=s.getRng(),g=sf(e).length>0;if(f.collapsed&&!g&&ps(e,f),s.getRng().collapsed&&!g){var y=Ps(e.getDoc(),i,r,a.decorate);cc(y,Vc),s.getRng().insertNode(y.dom),s.select(y.dom)}else bg(s,!1,function(){Vv(e,function(k){ff(e,k,r,a.decorate,i)})})})},hb=function(e){var r=Tp();C0(e,r);var a=k_(e);return{register:function(i,s){r.register(i,s)},annotate:function(i,s){r.lookup(i).each(function(f){wg(e,i,f,s)})},annotationChanged:function(i,s){a.addListener(i,s)},remove:function(i){Ey(e,Z.some(i)).each(function(s){var f=s.elements;At(f,Af)})},getAll:function(i){var s=_0(e,i);return Gn(s,function(f){return Zr(f,function(g){return g.dom})})}}},qd=function(e){return{getBookmark:yt(aw,e),moveToBookmark:yt(Mx,e)}};qd.isBookmarkNode=Ec;var Uv=function(e,r){for(;r&&r!==e;){if(qs(r)||Fo(r))return r;r=r.parentNode}return null},jv=function(e,r,a){if(a.collapsed)return!1;if(dr.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Yn(i))return qr(i.getClientRects(),function(s){return C_(s,e,r)})}return qr(a.getClientRects(),function(s){return C_(s,e,r)})},Ux=function(e,r){return e.fire("PreProcess",r)},ww=function(e,r){return e.fire("PostProcess",r)},l2=function(e){return e.fire("remove")},f2=function(e){return e.fire("detach")},kw=function(e,r){return e.fire("SwitchMode",{mode:r})},_w=function(e,r,a,i,s){e.fire("ObjectResizeStart",{target:r,width:a,height:i,origin:s})},vo=function(e,r,a,i,s){e.fire("ObjectResized",{target:r,width:a,height:i,origin:s})},df=function(e){return e.fire("PreInit")},d2=function(e){return e.fire("PostRender")},v2=function(e){return e.fire("Init")},m2=function(e,r){return e.fire("PlaceholderToggle",{state:r})},yb=function(e,r,a){return e.fire(r,a)},Cw=function(e,r,a,i){return e.fire("FormatApply",{format:r,node:a,vars:i})},qp=function(e,r,a,i){return e.fire("FormatRemove",{format:r,node:a,vars:i})},Wn={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Wn.metaKeyPressed(e)},metaKeyPressed:function(e){return dr.mac?e.metaKey:e.ctrlKey&&!e.altKey}},jx=Fo,Sw=function(e,r){var a="data-mce-selected",i=r.dom,s=wt.each,f,g,y,k,O,F,$,L,Q,te,ne,ae,pe,ge,je,Be=r.getDoc(),we=document,Ge=Math.abs,It=Math.round,ur=r.getBody(),Vn,Qr,jt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},En=function(Qe){return Qe&&(Qe.nodeName==="IMG"||r.dom.is(Qe,"figure.image"))},hr=function(Qe){return bc(Qe)||i.hasClass(Qe,"mce-preview-object")},Yr=function(Qe,fr){if(Qe.type==="longpress"||Qe.type.indexOf("touch")===0){var ar=Qe.touches[0];return En(Qe.target)&&!jv(ar.clientX,ar.clientY,fr)}else return En(Qe.target)&&!jv(Qe.clientX,Qe.clientY,fr)},wr=function(Qe){var fr=Qe.target;Yr(Qe,r.selection.getRng())&&!Qe.isDefaultPrevented()&&r.selection.select(fr)},Hr=function(Qe){return i.is(Qe,"figure.image")?[Qe.querySelector("img")]:i.hasClass(Qe,"mce-preview-object")&&zr(Qe.firstElementChild)?[Qe,Qe.firstElementChild]:[Qe]},sn=function(Qe){var fr=M_(r);return!fr||Qe.getAttribute("data-mce-resize")==="false"||Qe===r.getBody()?!1:i.hasClass(Qe,"mce-preview-object")?Or(S.fromDom(Qe.firstElementChild),fr):Or(S.fromDom(Qe),fr)},tr=function(Qe){return hr(Qe)?i.create("img",{src:dr.transparentSrc}):Qe.cloneNode(!0)},rn=function(Qe,fr,ar){if(zr(ar)){var Pn=Hr(Qe);At(Pn,function(Hn){Hn.style[fr]||!r.schema.isValid(Hn.nodeName.toLowerCase(),fr)?i.setStyle(Hn,fr,ar):i.setAttrib(Hn,fr,""+ar)})}},Ca=function(Qe,fr,ar){rn(Qe,"width",fr),rn(Qe,"height",ar)},Qa=function(Qe){var fr,ar,Pn,Hn,Co;fr=Qe.screenX-F,ar=Qe.screenY-$,ge=fr*k[2]+te,je=ar*k[3]+ne,ge=ge<5?5:ge,je=je<5?5:je,(En(f)||hr(f))&&N_(r)!==!1?Pn=!Wn.modifierPressed(Qe):Pn=Wn.modifierPressed(Qe),Pn&&(Ge(fr)>Ge(ar)?(je=It(ge*ae),ge=It(je/ae)):(ge=It(je/ae),je=It(ge*ae))),Ca(g,ge,je),Hn=k.startPos.x+fr,Co=k.startPos.y+ar,Hn=Hn>0?Hn:0,Co=Co>0?Co:0,i.setStyles(y,{left:Hn,top:Co,display:"block"}),y.innerHTML=ge+" &times; "+je,k[2]<0&&g.clientWidth<=ge&&i.setStyle(g,"left",L+(te-ge)),k[3]<0&&g.clientHeight<=je&&i.setStyle(g,"top",Q+(ne-je)),fr=ur.scrollWidth-Vn,ar=ur.scrollHeight-Qr,fr+ar!==0&&i.setStyles(y,{left:Hn-fr,top:Co-ar}),pe||(_w(r,f,te,ne,"corner-"+k.name),pe=!0)},Ya=function(){var Qe=pe;pe=!1,Qe&&(rn(f,"width",ge),rn(f,"height",je)),i.unbind(Be,"mousemove",Qa),i.unbind(Be,"mouseup",Ya),we!==Be&&(i.unbind(we,"mousemove",Qa),i.unbind(we,"mouseup",Ya)),i.remove(g),i.remove(y),i.remove(O),xu(f),Qe&&(vo(r,f,ge,je,"corner-"+k.name),i.setAttrib(f,"style",i.getAttrib(f,"style"))),r.nodeChanged()},xu=function(Qe){rr();var fr=i.getPos(Qe,ur),ar=fr.x,Pn=fr.y,Hn=Qe.getBoundingClientRect(),Co=Hn.width||Hn.right-Hn.left,iu=Hn.height||Hn.bottom-Hn.top;f!==Qe&&(ii(),f=Qe,ge=je=0);var Yi=r.fire("ObjectSelected",{target:Qe}),mc=i.getAttrib(f,a,"1");sn(Qe)&&!Yi.isDefaultPrevented()?s(jt,function(gc,Zc){var Zi,fl=function(Jc){var ov=Hr(f)[0];F=Jc.screenX,$=Jc.screenY,te=ov.clientWidth,ne=ov.clientHeight,ae=ne/te,k=gc,k.name=Zc,k.startPos={x:Co*gc[0]+ar,y:iu*gc[1]+Pn},Vn=ur.scrollWidth,Qr=ur.scrollHeight,O=i.add(ur,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(O,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),g=tr(f),i.addClass(g,"mce-clonedresizable"),i.setAttrib(g,"data-mce-bogus","all"),g.contentEditable="false",i.setStyles(g,{left:ar,top:Pn,margin:0}),Ca(g,Co,iu),g.removeAttribute(a),ur.appendChild(g),i.bind(Be,"mousemove",Qa),i.bind(Be,"mouseup",Ya),we!==Be&&(i.bind(we,"mousemove",Qa),i.bind(we,"mouseup",Ya)),y=i.add(ur,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},te+" &times; "+ne)};Zi=i.get("mceResizeHandle"+Zc),Zi&&i.remove(Zi),Zi=i.add(ur,"div",{id:"mceResizeHandle"+Zc,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Zc+"-resize; margin:0; padding:0"}),dr.ie===11&&(Zi.contentEditable=!1),i.bind(Zi,"mousedown",function(Jc){Jc.stopImmediatePropagation(),Jc.preventDefault(),fl(Jc)}),gc.elm=Zi,i.setStyles(Zi,{left:Co*gc[0]+ar-Zi.offsetWidth/2,top:iu*gc[1]+Pn-Zi.offsetHeight/2})}):ii(),i.getAttrib(f,a)||f.setAttribute(a,mc)},ii=function(){rr(),f&&f.removeAttribute(a),lr(jt,function(Qe,fr){var ar=i.get("mceResizeHandle"+fr);ar&&(i.unbind(ar),i.remove(ar))})},Dc=function(Qe){var fr,ar,Pn=function(Hn,Co){if(Hn)do if(Hn===Co)return!0;while(Hn=Hn.parentNode)};if(!(pe||r.removed)){if(s(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(Hn){Hn.removeAttribute(a)}),ar=Qe.type==="mousedown"?Qe.target:e.getNode(),ar=i.$(ar).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Pn(ar,ur)&&(Dr(),fr=e.getStart(!0),Pn(fr,ar)&&Pn(e.getEnd(!0),ar))){xu(ar);return}ii()}},Hs=function(Qe){return jx(Uv(r.getBody(),Qe))},rr=function(){lr(jt,function(Qe){Qe.elm&&(i.unbind(Qe.elm),delete Qe.elm)})},Dr=function(){try{r.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};r.on("init",function(){if(Dr(),dr.browser.isIE()||dr.browser.isEdge()){r.on("mousedown click",function(ar){var Pn=ar.target,Hn=Pn.nodeName;!pe&&/^(TABLE|IMG|HR)$/.test(Hn)&&!Hs(Pn)&&(ar.button!==2&&r.selection.select(Pn,Hn==="TABLE"),ar.type==="mousedown"&&r.nodeChanged())});var Qe=function(ar){var Pn=function(Hn){Pu.setEditorTimeout(r,function(){return r.selection.select(Hn)})};if(Hs(ar.target)||bc(ar.target)){ar.preventDefault(),Pn(ar.target);return}/^(TABLE|IMG|HR)$/.test(ar.target.nodeName)&&(ar.preventDefault(),ar.target.tagName==="IMG"&&Pn(ar.target))};i.bind(ur,"mscontrolselect",Qe),r.on("remove",function(){return i.unbind(ur,"mscontrolselect",Qe)})}var fr=Pu.throttle(function(ar){r.composing||Dc(ar)});r.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",fr),r.on("keyup compositionend",function(ar){f&&f.nodeName==="TABLE"&&fr(ar)}),r.on("hide blur",ii),r.on("contextmenu longpress",wr,!0)}),r.on("remove",rr);var An=function(){f=g=O=null};return{isResizable:sn,showResizeRect:xu,hideResizeRect:ii,updateResizeRect:Dc,destroy:An}},g2=function(e){return qs(e)||Fo(e)},xw=function(e,r,a){for(;e&&e!==r;){if(a(e))return e;e=e.parentNode}return null},Wx=function(e,r,a){var i,s=a.elementFromPoint(e,r),f=a.body.createTextRange();if((!s||s.tagName==="HTML")&&(s=a.body),f.moveToElementText(s),i=wt.toArray(f.getClientRects()),i=i.sort(function(g,y){return g=Math.abs(Math.max(g.top-r,g.bottom-r)),y=Math.abs(Math.max(y.top-r,y.bottom-r)),g-y}),i.length>0){r=(i[0].bottom+i[0].top)/2;try{return f.moveToPoint(e,r),f.collapse(!0),f}catch{}}return null},p2=function(e,r){var a=e&&e.parentElement?e.parentElement():null;return Fo(xw(a,r,g2))?null:e},Tw=function(e,r,a){var i,s,f=a;if(f.caretPositionFromPoint)s=f.caretPositionFromPoint(e,r),s&&(i=a.createRange(),i.setStart(s.offsetNode,s.offset),i.collapse(!0));else if(f.caretRangeFromPoint)i=f.caretRangeFromPoint(e,r);else if(f.body.createTextRange){i=f.body.createTextRange();try{i.moveToPoint(e,r),i.collapse(!0)}catch{i=Wx(e,r,a)}return p2(i,a.body)}return i},zw=function(e,r){return e&&r&&e.startContainer===r.startContainer&&e.startOffset===r.startOffset&&e.endContainer===r.endContainer&&e.endOffset===r.endOffset},qx=function(e,r,a){for(;e&&e!==r;){if(a(e))return e;e=e.parentNode}return null},hs=function(e,r,a){return qx(e,r,a)!==null},lc=function(e,r,a){return hs(e,r,function(i){return i.nodeName===a})},vf=function(e){return e&&e.nodeName==="TABLE"},Gx=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Kx=function(e,r){return Cc(e)&&hs(e,r,of)===!1},Ew=function(e,r,a){for(var i=new io(r,e.getParent(r.parentNode,e.isBlock)||e.getRoot());r=i[a?"prev":"next"]();)if(ho(r))return!0},Ta=function(e,r){return e.previousSibling&&e.previousSibling.nodeName===r},Xx=function(e,r){for(;r&&r!==e;){if(Fo(r))return!0;r=r.parentNode}return!1},bb=function(e,r,a,i,s){var f,g=e.getRoot(),y,k=e.schema.getNonEmptyElements(),O=e.getParent(s.parentNode,e.isBlock)||g;if(i&&ho(s)&&r&&e.isEmpty(O))return Z.some(pt(s.parentNode,e.nodeIndex(s)));for(var F=new io(s,O);y=F[i?"prev":"next"]();){if(e.getContentEditableParent(y)==="false"||Kx(y,g))return Z.none();if(on(y)&&y.nodeValue.length>0)return lc(y,g,"A")===!1?Z.some(pt(y,i?y.nodeValue.length:0)):Z.none();if(e.isBlock(y)||k[y.nodeName.toLowerCase()])return Z.none();f=y}return a&&f?Z.some(pt(f,0)):Z.none()},wb=function(e,r,a,i){var s,f,g=e.getRoot(),y,k,O=!1;s=i[(a?"start":"end")+"Container"],f=i[(a?"start":"end")+"Offset"];var F=Yn(s)&&f===s.childNodes.length,$=e.schema.getNonEmptyElements();if(k=a,Cc(s))return Z.none();if(Yn(s)&&f>s.childNodes.length-1&&(k=!1),op(s)&&(s=g,f=0),s===g){if(k&&(y=s.childNodes[f>0?f-1:0],y&&(Cc(y)||$[y.nodeName]||vf(y))))return Z.none();if(s.hasChildNodes()){if(f=Math.min(!k&&f>0?f-1:f,s.childNodes.length-1),s=s.childNodes[f],f=on(s)&&F?s.data.length:0,!r&&s===g.lastChild&&vf(s)||Xx(g,s)||Cc(s))return Z.none();if(s.hasChildNodes()&&vf(s)===!1){y=s;var L=new io(s,g);do{if(Fo(y)||Cc(y)){O=!1;break}if(on(y)&&y.nodeValue.length>0){f=k?0:y.nodeValue.length,s=y,O=!0;break}if($[y.nodeName.toLowerCase()]&&!Gx(y)){f=e.nodeIndex(y),s=y.parentNode,k||f++,O=!0;break}}while(y=k?L.next():L.prev())}}}return r&&(on(s)&&f===0&&bb(e,F,r,!0,s).each(function(Q){s=Q.container(),f=Q.offset(),O=!0}),Yn(s)&&(y=s.childNodes[f],y||(y=s.childNodes[f-1]),y&&ho(y)&&!Ta(y,"A")&&!Ew(e,y,!1)&&!Ew(e,y,!0)&&bb(e,F,r,!0,y).each(function(Q){s=Q.container(),f=Q.offset(),O=!0}))),k&&!r&&on(s)&&f===s.nodeValue.length&&bb(e,F,r,!1,s).each(function(Q){s=Q.container(),f=Q.offset(),O=!0}),O?Z.some(pt(s,f)):Z.none()},kb=function(e,r){var a=r.collapsed,i=r.cloneRange(),s=pt.fromRangeStart(r);return wb(e,a,!0,i).each(function(f){(!a||!pt.isAbove(s,f))&&i.setStart(f.container(),f.offset())}),a||wb(e,a,!1,i).each(function(f){i.setEnd(f.container(),f.offset())}),a&&i.collapse(!0),zw(r,i)?Z.none():Z.some(i)},Gp=function(e,r){return e.splitText(r)},Yf=function(e){var r=e.startContainer,a=e.startOffset,i=e.endContainer,s=e.endOffset;return r===i&&on(r)?a>0&&a<r.nodeValue.length&&(i=Gp(r,a),r=i.previousSibling,s>a?(s=s-a,r=i=Gp(i,s).previousSibling,s=i.nodeValue.length,a=0):s=0):(on(r)&&a>0&&a<r.nodeValue.length&&(r=Gp(r,a),a=0),on(i)&&s>0&&s<i.nodeValue.length&&(i=Gp(i,s).previousSibling,s=i.nodeValue.length)),{startContainer:r,startOffset:a,endContainer:i,endOffset:s}},Kp=function(e){var r=function(s,f){return Wp(e,s,f)},a=Yf,i=function(s){return kb(e,s).fold(Ve,function(f){return s.setStart(f.startContainer,f.startOffset),s.setEnd(f.endContainer,f.endOffset),!0})};return{walk:r,split:a,normalize:i}};Kp.compareRanges=zw,Kp.getCaretRangeFromPoint=Tw,Kp.getSelectedNode=Av,Kp.getNode=jo;var Yx=function(e,r){var a=function(y,k){if(!Dt(k)&&!k.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+k);var O=y.dom;Uo(O)&&(O.style[e]=k+"px")},i=function(y){var k=r(y);if(k<=0||k===null){var O=ya(y,e);return parseFloat(O)||0}return k},s=i,f=function(y,k){return Ne(k,function(O,F){var $=ya(y,F),L=$===void 0?0:parseInt($,10);return isNaN(L)?O:O+L},0)},g=function(y,k,O){var F=f(y,O),$=k>F?k-F:0;return $};return{set:a,get:i,getOuter:s,aggregate:f,max:g}},h2=Yx("height",function(e){var r=e.dom;return Of(e)?r.getBoundingClientRect().height:r.offsetHeight}),Aw=function(e){return h2.get(e)},Gd=function(e,r){var a=e.view(r);return a.fold(V([]),function(i){var s=e.owner(i),f=Gd(e,s);return[i].concat(f)})},_b=function(e,r){var a=r.owner(e);return Gd(r,a)},y2=function(e){var r,a=e.dom===document?Z.none():Z.from((r=e.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return a.map(S.fromDom)},Zx=function(e){return Xn(e)},Jx=Object.freeze({__proto__:null,view:y2,owner:Zx}),Qx=function(e){var r=S.fromDom(document),a=gm(r),i=_b(e,Jx),s=yc(e),f=gr(i,function(g,y){var k=yc(y);return{left:g.left+k.left,top:g.top+k.top}},{left:0,top:0});return pl(f.left+s.left+a.left,f.top+s.top+a.top)},Wv=function(e){return Wa(e)==="textarea"},Ow=function(e,r){var a=e.fire("ScrollIntoView",r);return a.isDefaultPrevented()},Mn=function(e,r){e.fire("AfterScrollIntoView",r)},b2=function(e,r){var a=Lu(e);if(a.length===0||Wv(e))return{element:e,offset:r};if(r<a.length&&!Wv(a[r]))return{element:a[r],offset:0};var i=a[a.length-1];return Wv(i)?{element:e,offset:r}:Wa(i)==="img"?{element:i,offset:1}:Go(i)?{element:i,offset:bw(i).length}:{element:i,offset:Lu(i).length}},w2=function(e,r){var a=Vo(e),i=Aw(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:r}},e8=function(e,r){var a=b2(e,r),i=S.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+Ae+"</span>");return fu(a.element,i),w2(i,function(){return ri(i)})},Xp=function(e){return w2(S.fromDom(e),dt)},Gu=function(e,r,a,i){Dw(e,function(s,f){return t8(e,r,a,i)},a)},Yp=function(e,r,a,i,s){var f={elm:i.element.dom,alignToTop:s};if(!Ow(e,f)){var g=gm(r).top;a(r,g,i,s),Mn(e,f)}},t8=function(e,r,a,i){var s=S.fromDom(e.getBody()),f=S.fromDom(e.getDoc());gS(s);var g=e8(S.fromDom(a.startContainer),a.startOffset);Yp(e,f,r,g,i),g.cleanup()},k2=function(e,r,a,i){var s=S.fromDom(e.getDoc());Yp(e,s,a,Xp(r),i)},Dw=function(e,r,a){var i=a.startContainer,s=a.startOffset,f=a.endContainer,g=a.endOffset;r(S.fromDom(i),S.fromDom(f));var y=e.dom.createRng();y.setStart(i,s),y.setEnd(f,g),e.selection.setRng(a)},Rw=function(e,r,a,i){var s=e.pos;if(a)Lc(s.left,s.top,i);else{var f=s.top-r+e.height;Lc(s.left,f,i)}},_2=function(e,r,a,i,s){var f=a+r,g=i.pos.top,y=i.bottom,k=y-g>=a;if(g<r)Rw(i,a,s!==!1,e);else if(g>f){var O=k?s!==!1:s===!0;Rw(i,a,O,e)}else y>f&&!k&&Rw(i,a,s===!0,e)},Pw=function(e,r,a,i){var s=e.dom.defaultView.innerHeight;_2(e,r,s,a,i)},Bw=function(e,r,a,i){var s=e.dom.defaultView.innerHeight;_2(e,r,s,a,i);var f=Qx(a.element),g=Rf(window);f.top<g.y?pm(a.element,i!==!1):f.top>g.bottom&&pm(a.element,i===!0)},Zf=function(e,r,a){return Gu(e,Pw,r,a)},r8=function(e,r,a){return k2(e,r,Pw,a)},n8=function(e,r,a){return Gu(e,Bw,r,a)},C2=function(e,r,a){return k2(e,r,Bw,a)},a8=function(e,r,a){var i=e.inline?r8:C2;i(e,r,a)},Zp=function(e,r,a){var i=e.inline?Zf:n8;i(e,r,a)},Ja=function(){return S.fromDom(document)},Cb=function(e){return e.dom.focus()},Jf=function(e){var r=Ju(e).dom;return e.dom===r.activeElement},al=function(e){return e===void 0&&(e=Ja()),Z.from(e.dom.activeElement).map(S.fromDom)},Kd=function(e){return al(Ju(e)).filter(function(r){return e.dom.contains(r.dom)})},Ac=function(e,r,a,i){return{start:e,soffset:r,finish:a,foffset:i}},Sb={create:Ac},qv=Dn.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),kg=function(e,r,a,i){return e.fold(r,a,i)},Xd=function(e){return e.fold(Tt,Tt,Tt)},o8=qv.before,S2=qv.on,i8=qv.after,u8={before:o8,on:S2,after:i8,cata:kg,getStart:Xd},ka=Dn.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ol=function(e){return ka.exact(e.start,e.soffset,e.finish,e.foffset)},_g=function(e){return e.match({domRange:function(r){return S.fromDom(r.startContainer)},relative:function(r,a){return u8.getStart(r)},exact:function(r,a,i,s){return r}})},x2=ka.domRange,Jp=ka.relative,Ba=ka.exact,T2=function(e){var r=_g(e);return ei(r)},z2=Sb.create,Qp={domRange:x2,relative:Jp,exact:Ba,exactFromRange:ol,getWin:T2,range:z2},E2=Kr().browser,eh=function(e,r){var a=Go(r)?bw(r).length:Lu(r).length+1;return e>a?a:e<0?0:e},Gv=function(e){return Qp.range(e.start,eh(e.soffset,e.start),e.finish,eh(e.foffset,e.finish))},Mw=function(e,r){return!Vl(r.dom)&&(to(e,r)||jn(e,r))},Nw=function(e){return function(r){return Mw(e,r.start)&&Mw(e,r.finish)}},A2=function(e){return e.inline===!0||E2.isIE()},O2=function(e){return Qp.range(S.fromDom(e.startContainer),e.startOffset,S.fromDom(e.endContainer),e.endOffset)},Yd=function(e){var r=e.getSelection(),a=!r||r.rangeCount===0?Z.none():Z.from(r.getRangeAt(0));return a.map(O2)},Kv=function(e){var r=ei(e);return Yd(r.dom).filter(Nw(e))},Fw=function(e,r){return Z.from(r).filter(Nw(e)).map(Gv)},D2=function(e){var r=document.createRange();try{return r.setStart(e.start.dom,e.soffset),r.setEnd(e.finish.dom,e.foffset),Z.some(r)}catch{return Z.none()}},xb=function(e){var r=A2(e)?Kv(S.fromDom(e.getBody())):Z.none();e.bookmark=r.isSome()?r:e.bookmark},c8=function(e,r){var a=S.fromDom(e.getBody()),i=A2(e)?Z.from(r):Z.none(),s=i.map(O2).filter(Nw(a));e.bookmark=s.isSome()?s:e.bookmark},Cg=function(e){var r=e.bookmark?e.bookmark:Z.none();return r.bind(function(a){return Fw(S.fromDom(e.getBody()),a)}).bind(D2)},Iw=function(e){Cg(e).each(function(r){return e.selection.setRng(r)})},$w=function(e){var r=e.className.toString();return r.indexOf("tox-")!==-1||r.indexOf("mce-")!==-1},R2={isEditorUIElement:$w},Lw=function(e){return e.type==="nodechange"&&e.selectionChange},Tb=function(e,r){var a=function(){r.throttle()};Ro.DOM.bind(document,"mouseup",a),e.on("remove",function(){Ro.DOM.unbind(document,"mouseup",a)})},zb=function(e){e.on("focusout",function(){xb(e)})},Hw=function(e,r){e.on("mouseup touchend",function(a){r.throttle()})},Vw=function(e,r){var a=Kr().browser;a.isIE()?zb(e):Hw(e,r),e.on("keyup NodeChange",function(i){Lw(i)||xb(e)})},P2=function(e){var r=xy(function(){xb(e)},0);e.on("init",function(){e.inline&&Tb(e,r),Vw(e,r)}),e.on("remove",function(){r.cancel()})},Xv,Sg=Ro.DOM,B2=function(e){return R2.isEditorUIElement(e)},M2=function(e){var r=e.classList;return r!==void 0?r.contains("tox-edit-area")||r.contains("tox-edit-area__iframe")||r.contains("mce-content-body"):!1},Eb=function(e,r){var a=H0(e),i=Sg.getParent(r,function(s){return B2(s)||(a?e.dom.is(s,a):!1)});return i!==null},N2=function(e){try{var r=Ju(S.fromDom(e.getElement()));return al(r).fold(function(){return document.body},function(a){return a.dom})}catch{return document.body}},F2=function(e,r){var a=r.editor;P2(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Pu.setEditorTimeout(a,function(){var i=e.focusedEditor;!Eb(a,N2(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Xv||(Xv=function(i){var s=e.activeEditor;s&&Ou(i).each(function(f){f.ownerDocument===document&&f!==document.body&&!Eb(s,f)&&e.focusedEditor===s&&(s.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Sg.bind(document,"focusin",Xv))},Uw=function(e,r){e.focusedEditor===r.editor&&(e.focusedEditor=null),e.activeEditor||(Sg.unbind(document,"focusin",Xv),Xv=null)},I2=function(e){e.on("AddEditor",yt(F2,e)),e.on("RemoveEditor",yt(Uw,e))},$2=function(e,r){return e.dom.getParent(r,function(a){return e.dom.getContentEditable(a)==="true"})},L2=function(e){return e.collapsed?Z.from(jo(e.startContainer,e.startOffset)).map(S.fromDom):Z.none()},s8=function(e,r){return L2(r).bind(function(a){return Ga(a)?Z.some(a):to(e,a)===!1?Z.some(e):Z.none()})},H2=function(e,r){s8(S.fromDom(e.getBody()),r).bind(function(a){return qu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},jw=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},xg=function(e){return Jf(e)||Kd(e).isSome()},l8=function(e){return e.iframeElement&&Jf(S.fromDom(e.iframeElement))},V2=function(e){var r=e.getBody();return r&&xg(S.fromDom(r))},U2=function(e){var r=Ju(S.fromDom(e.getElement()));return al(r).filter(function(a){return!M2(a.dom)&&Eb(e,a.dom)}).isSome()},Bs=function(e){return e.inline?V2(e):l8(e)},j2=function(e){return Bs(e)||U2(e)},W2=function(e){var r=e.selection,a=e.getBody(),i=r.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Bs(e)===!1&&Cg(e).each(function(f){e.selection.setRng(f),i=f});var s=$2(e,r.getNode());if(e.$.contains(a,s)){jw(s),H2(e,i),Ab(e);return}e.inline||(dr.opera||jw(a),e.getWin().focus()),(dr.gecko||e.inline)&&(jw(a),H2(e,i)),Ab(e)},Ab=function(e){return e.editorManager.setActive(e)},Ob=function(e,r){e.removed||(r?Ab(e):W2(e))},Ww=function(e,r,a,i,s){var f=a?r.startContainer:r.endContainer,g=a?r.startOffset:r.endOffset;return Z.from(f).map(S.fromDom).map(function(y){return!i||!r.collapsed?ml(y,s(y,g)).getOr(y):y}).bind(function(y){return No(y)?Z.some(y):ti(y).filter(No)}).map(function(y){return y.dom}).getOr(e)},Yv=function(e,r,a){return Ww(e,r,!0,a,function(i,s){return Math.min(qh(i),s)})},Tg=function(e,r,a){return Ww(e,r,!1,a,function(i,s){return s>0?s-1:s})},q2=function(e,r){for(var a=e;e&&on(e)&&e.length===0;)e=r?e.nextSibling:e.previousSibling;return e||a},G2=function(e,r){var a,i,s;if(!r)return e;i=r.startContainer,s=r.endContainer;var f=r.startOffset,g=r.endOffset;return a=r.commonAncestorContainer,!r.collapsed&&(i===s&&g-f<2&&i.hasChildNodes()&&(a=i.childNodes[f]),i.nodeType===3&&s.nodeType===3&&(i.length===f?i=q2(i.nextSibling,!0):i=i.parentNode,g===0?s=q2(s.previousSibling,!1):s=s.parentNode,i&&i===s))?i:a&&a.nodeType===3?a.parentNode:a},Db=function(e,r,a,i){var s,f=[],g=e.getRoot();if(a=e.getParent(a||Yv(g,r,r.collapsed),e.isBlock),i=e.getParent(i||Tg(g,r,r.collapsed),e.isBlock),a&&a!==g&&f.push(a),a&&i&&a!==i){s=a;for(var y=new io(a,g);(s=y.next())&&s!==i;)e.isBlock(s)&&f.push(s)}return i&&a!==i&&i!==g&&f.push(i),f},f8=function(e,r,a){return Z.from(r).map(function(i){var s=e.nodeIndex(i),f=e.createRng();return f.setStart(i.parentNode,s),f.setEnd(i.parentNode,s+1),a&&(jd(e,f,i,!0),jd(e,f,i,!1)),f})},Rb=function(e,r){return Zr(r,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},th={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Pb=function(e,r,a){var i=a?"lastChild":"firstChild",s=a?"prev":"next";if(e[i])return e[i];if(e!==r){var f=e[s];if(f)return f;for(var g=e.parent;g&&g!==r;g=g.parent)if(f=g[s],f)return f}},K2=function(e){if(!Ys(e.value))return!1;var r=e.parent;return!(r&&(r.name!=="span"||r.attr("style"))&&/^[ ]+$/.test(e.value))},Bb=function(e){var r=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||r},Ms=function(){function e(r,a){this.name=r,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(r,a){var i=new e(r,th[r]||1);return a&&lr(a,function(s,f){i.attr(f,s)}),i},e.prototype.replace=function(r){var a=this;return r.parent&&r.remove(),a.insert(r,a),a.remove(),a},e.prototype.attr=function(r,a){var i=this,s;if(typeof r!="string")return r!=null&&lr(r,function(g,y){i.attr(y,g)}),i;if(s=i.attributes){if(a!==void 0){if(a===null){if(r in s.map){delete s.map[r];for(var f=s.length;f--;)if(s[f].name===r)return s.splice(f,1),i}return i}if(r in s.map){for(var f=s.length;f--;)if(s[f].name===r){s[f].value=a;break}}else s.push({name:r,value:a});return s.map[r]=a,i}return s.map[r]}},e.prototype.clone=function(){var r=this,a=new e(r.name,r.type),i;if(i=r.attributes){var s=[];s.map={};for(var f=0,g=i.length;f<g;f++){var y=i[f];y.name!=="id"&&(s[s.length]={name:y.name,value:y.value},s.map[y.name]=y.value)}a.attributes=s}return a.value=r.value,a.shortEnded=r.shortEnded,a},e.prototype.wrap=function(r){var a=this;return a.parent.insert(r,a),r.append(a),a},e.prototype.unwrap=function(){for(var r=this,a=r.firstChild;a;){var i=a.next;r.insert(a,r,!0),a=i}r.remove()},e.prototype.remove=function(){var r=this,a=r.parent,i=r.next,s=r.prev;return a&&(a.firstChild===r?(a.firstChild=i,i&&(i.prev=null)):s.next=i,a.lastChild===r?(a.lastChild=s,s&&(s.next=null)):i.prev=s,r.parent=r.next=r.prev=null),r},e.prototype.append=function(r){var a=this;r.parent&&r.remove();var i=a.lastChild;return i?(i.next=r,r.prev=i,a.lastChild=r):a.lastChild=a.firstChild=r,r.parent=a,r},e.prototype.insert=function(r,a,i){r.parent&&r.remove();var s=a.parent||this;return i?(a===s.firstChild?s.firstChild=r:a.prev.next=r,r.prev=a.prev,r.next=a,a.prev=r):(a===s.lastChild?s.lastChild=r:a.next.prev=r,r.next=a.next,r.prev=a,a.next=r),r.parent=s,r},e.prototype.getAll=function(r){for(var a=this,i=[],s=a.firstChild;s;s=Pb(s,a))s.name===r&&i.push(s);return i},e.prototype.children=function(){for(var r=this,a=[],i=r.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var r=this;if(r.firstChild){for(var a=[],i=r.firstChild;i;i=Pb(i,r))a.push(i);for(var s=a.length;s--;){var i=a[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(r,a,i){a===void 0&&(a={});var s=this,f=s.firstChild;if(Bb(s))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(r[f.name]||Bb(f))return!1}if(f.type===8||f.type===3&&!K2(f)||f.type===3&&f.parent&&a[f.parent.name]&&Ys(f.value)||i&&i(f))return!1}while(f=Pb(f,s));return!0},e.prototype.walk=function(r){return Pb(this,null,r)},e}(),d8=wt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),qw=function(e){return Ht(e.nodeValue)&&St(e.nodeValue,Ae)},Gw=function(e){return(e.length===0?"":Zr(e,function(r){return"["+r+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},Mb=function(e,r){return r.querySelectorAll(Gw(e))},zg=function(e,r,a){return document.createTreeWalker(e,r,a,!1)},Nb=function(e){return zg(e,NodeFilter.SHOW_COMMENT,function(r){return qw(r)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},Kw=function(e){return zg(e,NodeFilter.SHOW_TEXT,function(r){if(qw(r)){var a=r.parentNode;return a&&Fr(d8,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},X2=function(e){return Nb(e).nextNode()!==null},Y2=function(e){return Kw(e).nextNode()!==null},Fb=function(e,r){return r.querySelector(Gw(e))!==null},v8=function(e,r){At(Mb(e,r),function(a){var i=S.fromDom(a);W(i,"data-mce-bogus")==="all"?ri(i):At(e,function(s){Ie(i,s)&&xt(i,s)})})},Z2=function(e){for(var r=e.nextNode();r!==null;)r.nodeValue=null,r=e.nextNode()},m8=xn(Z2,Nb),g8=xn(Z2,Kw),Zv=function(e,r){var a=[{condition:yt(Fb,r),action:yt(v8,r)},{condition:X2,action:m8},{condition:Y2,action:g8}],i=e,s=!1;return At(a,function(f){var g=f.condition,y=f.action;g(i)&&(s||(i=e.cloneNode(!0),s=!0),y(i))}),i},p8=function(e,r){var a=bu(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return r.replace(i,"")},h8=function(e,r){return fn(fn({},e),{format:r,get:!0,getInner:!0})},y8=function(e,r,a,i){var s=h8(r,a),f=r.no_events?s:e.fire("BeforeGetContent",s),g;return f.format==="raw"?g=wt.trim(_c(Zv(i,e.serializer.getTempAttrs()).innerHTML)):f.format==="text"?g=e.dom.isEmpty(i)?"":_c(i.innerText||i.textContent):f.format==="tree"?g=e.serializer.serialize(i,f):g=p8(e,e.serializer.serialize(i,f)),!Zt(["text","tree"],f.format)&&!fv(S.fromDom(i))?f.content=wt.trim(g):f.content=g,f.no_events?f.content:e.fire("GetContent",f).content},Xw=function(e,r,a){return Z.from(e.getBody()).fold(V(r.format==="tree"?new Ms("body",11):""),function(i){return y8(e,r,a,i)})},Yw=wt.each,J2=function(e){var r=function(a,i){if(a.nodeName!==i.nodeName)return!1;var s=function(g){var y={};return Yw(e.getAttribs(g),function(k){var O=k.nodeName.toLowerCase();O.indexOf("_")!==0&&O!=="style"&&O.indexOf("data-")!==0&&(y[O]=e.getAttrib(g,O))}),y},f=function(g,y){var k,O;for(O in g)if(Fr(g,O)){if(k=y[O],typeof k>"u"||g[O]!==k)return!1;delete y[O]}for(O in y)if(Fr(y,O))return!1;return!0};return!f(s(a),s(i))||!f(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!Ec(a)&&!Ec(i)};return{compare:r}},rh=wt.makeMap,Zw=function(e){var r=[];e=e||{};var a=e.indent,i=rh(e.indent_before||""),s=rh(e.indent_after||""),f=ss.getEncodeFunc(e.entity_encoding||"raw",e.entities),g=e.element_format==="html";return{start:function(y,k,O){var F,$,L,Q;if(a&&i[y]&&r.length>0&&(Q=r[r.length-1],Q.length>0&&Q!==`
`&&r.push(`
`)),r.push("<",y),k)for(F=0,$=k.length;F<$;F++)L=k[F],r.push(" ",L.name,'="',f(L.value,!0),'"');!O||g?r[r.length]=">":r[r.length]=" />",O&&a&&s[y]&&r.length>0&&(Q=r[r.length-1],Q.length>0&&Q!==`
`&&r.push(`
`))},end:function(y){var k;r.push("</",y,">"),a&&s[y]&&r.length>0&&(k=r[r.length-1],k.length>0&&k!==`
`&&r.push(`
`))},text:function(y,k){y.length>0&&(r[r.length]=k?y:f(y))},cdata:function(y){r.push("<![CDATA[",y,"]]>")},comment:function(y){r.push("<!--",y,"-->")},pi:function(y,k){k?r.push("<?",y," ",f(k),"?>"):r.push("<?",y,"?>"),a&&r.push(`
`)},doctype:function(y){r.push("<!DOCTYPE",y,">",a?`
`:"")},reset:function(){r.length=0},getContent:function(){return r.join("").replace(/\n$/,"")}}},Jv=function(e,r){r===void 0&&(r=ls());var a=Zw(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(s){var f=e.validate,g={3:function(k){a.text(k.value,k.raw)},8:function(k){a.comment(k.value)},7:function(k){a.pi(k.name,k.value)},10:function(k){a.doctype(k.value)},4:function(k){a.cdata(k.value)},11:function(k){if(k=k.firstChild)do y(k);while(k=k.next)}};a.reset();var y=function(k){var O=g[k.type];if(O)O(k);else{var F=k.name,$=k.shortEnded,L=k.attributes;if(f&&L&&L.length>1){var Q=[];Q.map={};var te=r.getElementRule(k.name);if(te){for(var ne=0,ae=te.attributesOrder.length;ne<ae;ne++){var pe=te.attributesOrder[ne];if(pe in L.map){var ge=L.map[pe];Q.map[pe]=ge,Q.push({name:pe,value:ge})}}for(var ne=0,ae=L.length;ne<ae;ne++){var pe=L[ne].name;if(!(pe in Q.map)){var ge=L.map[pe];Q.map[pe]=ge,Q.push({name:pe,value:ge})}}L=Q}}if(a.start(k.name,L,$),!$){if(k=k.firstChild)do y(k);while(k=k.next);a.end(F)}}};return s.type===1&&!e.inner?y(s):g[11](s),a.getContent()};return{serialize:i}},Q2=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];At(e,function(r){Q2.add(r)})})();var nh=["font","text-decoration","text-emphasis"],Eg=function(e,r){return Xt(e.parseStyle(e.getAttrib(r,"style")))},eC=function(e){return Q2.has(e)},b8=function(e,r){return $n(Eg(e,r),function(a){return!eC(a)})},w8=function(e){return Fe(e,function(r){return qr(nh,function(a){return N(r,a)})})},tC=function(e,r,a){var i=Eg(e,r),s=Eg(e,a),f=function(g){var y=e.getStyle(r,g),k=e.getStyle(a,g);return qe(y)&&qe(k)&&y!==k};return qr(i,function(g){var y=function(O){return qr(O,function(F){return F===g})};if(!y(s)&&y(nh)){var k=w8(s);return qr(k,f)}else return f(g)})},ah=function(e,r,a){return Z.from(a.container()).filter(on).exists(function(i){var s=e?0:-1;return r(i.data.charAt(a.offset()+s))})},oh=yt(ah,!0,Vd),ih=yt(ah,!1,Vd),rC=function(e){var r=e.container();return on(r)&&(r.data.length===0||rc(r.data)&&qd.isBookmarkNode(r.parentNode))},Oc=function(e,r){return function(a){return Z.from(Qy(e?0:-1,a)).filter(r).isSome()}},nC=function(e){return hm(e)&&ya(S.fromDom(e),"display")==="block"},Rl=function(e){return Fo(e)&&!Mi(e)},k8=Oc(!0,nC),aC=Oc(!1,nC),Ag=Oc(!0,bc),Og=Oc(!1,bc),oC=Oc(!0,wi),iC=Oc(!1,wi),Zd=Oc(!0,Rl),Jd=Oc(!1,Rl),Jw=function(e){for(var r=[],a=e.dom;a;)r.push(S.fromDom(a)),a=a.lastChild;return r},_8=function(e){var r=yu(e,"br"),a=Fe(Jw(e).slice(-1),xm);r.length===a.length&&At(a,ri)},Qv=function(e){Ef(e),Bi(e,S.fromHtml('<br data-mce-bogus="1">'))},C8=function(e){$c(e).each(function(r){xf(r).each(function(a){os(e)&&xm(r)&&os(a)&&ri(r)})})},uC=function(e){return e.slice(0,-1)},uh=function(e,r,a){return to(r,e)?uC(Pi(e,function(i){return a(i)||jn(i,r)})):[]},cC=function(e,r){return uh(e,r,Ve)},Tn=function(e,r){return[e].concat(cC(e,r))},ch=function(e,r,a){return ub(e,r,a,rC)},sh=function(e,r){return ut(Tn(S.fromDom(r.container()),e),os)},Qw=function(e,r,a){return ch(e,r.dom,a).forall(function(i){return sh(r,a).fold(function(){return Al(i,a,r.dom)===!1},function(s){return Al(i,a,r.dom)===!1&&to(s,S.fromDom(i.container()))})})},sC=function(e,r,a){return sh(r,a).fold(function(){return ch(e,r.dom,a).forall(function(i){return Al(i,a,r.dom)===!1})},function(i){return ch(e,i.dom,a).isNone()})},Ib=yt(sC,!1),lh=yt(sC,!0),ek=yt(Qw,!1),lC=yt(Qw,!0),S8=function(e){return tb(e).exists(xm)},Jn=function(e,r,a){var i=Fe(Tn(S.fromDom(a.container()),r),os),s=xr(i).getOr(r);return zc(e,s.dom,a).filter(S8)},$b=function(e,r){return tb(r).exists(xm)||Jn(!0,e,r).isSome()},la=function(e,r){return Tx(r).exists(xm)||Jn(!1,e,r).isSome()},fC=yt(Jn,!1),dC=yt(Jn,!0),tk=function(e){return pt.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},em=function(e,r){var a=Fe(Tn(S.fromDom(r.container()),e),os);return xr(a).getOr(e)},Lb=function(e,r){return tk(r)?ih(r):ih(r)||Dl(em(e,r).dom,r).exists(ih)},fh=function(e,r){return tk(r)?oh(r):oh(r)||rl(em(e,r).dom,r).exists(oh)},Hb=function(e){return Zt(["pre","pre-wrap"],e)},rk=function(e){return tb(e).bind(function(r){return _m(r,No)}).exists(function(r){return Hb(ya(r,"white-space"))})},Qn=function(e,r){return Dl(e.dom,r).isNone()},x8=function(e,r){return rl(e.dom,r).isNone()},vC=function(e,r){return Qn(e,r)||x8(e,r)||Ib(e,r)||lh(e,r)||la(e,r)||$b(e,r)},Vb=function(e,r){return rk(r)?!1:vC(e,r)||Lb(e,r)||fh(e,r)},mf=function(e,r){return rk(r)?!1:Ib(e,r)||ek(e,r)||la(e,r)||Lb(e,r)},mC=function(e){var r=e.container(),a=e.offset();return on(r)&&a<r.data.length?pt(r,a+1):e},dh=function(e,r){return rk(r)?!1:lh(e,r)||lC(e,r)||$b(e,r)||fh(e,r)},Ub=function(e,r){return mf(e,r)||dh(e,mC(r))},gC=function(e,r){return Lv(e.charAt(r))},pC=function(e){var r=e.container();return on(r)&&St(r.data,Vc)},T8=function(e){var r=e.split("");return Zr(r,function(a,i){return Lv(a)&&i>0&&i<r.length-1&&cb(r[i-1])&&cb(r[i+1])?" ":a}).join("")},z8=function(e,r){var a=r.data,i=pt(r,0);return gC(a,0)&&!Ub(e,i)?(r.data=" "+a.slice(1),!0):!1},E8=function(e){var r=e.data,a=T8(r);return a!==r?(e.data=a,!0):!1},A8=function(e,r){var a=r.data,i=pt(r,a.length-1);return gC(a,a.length-1)&&!Ub(e,i)?(r.data=a.slice(0,-1)+" ",!0):!1},O8=function(e,r){return Z.some(r).filter(pC).bind(function(a){var i=a.container(),s=z8(e,i)||E8(i)||A8(e,i);return s?Z.some(a):Z.none()})},hC=function(e){var r=S.fromDom(e.getBody());e.selection.isCollapsed()&&O8(r,pt.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},D8=function(e,r,a){var i=Ne(e,function(s,f){return Vd(f)||Lv(f)?s.previousCharIsSpace||s.str===""&&r||s.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:s.str+Vc}:{previousCharIsSpace:!0,str:s.str+" "}:{previousCharIsSpace:!1,str:s.str+f}},{previousCharIsSpace:!1,str:""});return i.str},nk=function(e,r,a){if(a!==0){var i=S.fromDom(e),s=pd(i,os).getOr(i),f=e.data.slice(r,r+a),g=r+a>=e.data.length&&dh(s,pt(e,e.data.length)),y=r===0&&mf(s,pt(e,0));e.replaceData(r,a,D8(f,y,g))}},Dg=function(e,r){var a=e.data.slice(r),i=a.length-_e(a).length;nk(e,r,i)},Oa=function(e,r){var a=e.data.slice(0,r),i=a.length-Ue(a).length;nk(e,r-i,i)},jb=function(e,r,a,i){i===void 0&&(i=!0);var s=Ue(e.data).length,f=i?e:r,g=i?r:e;return i?f.appendData(g.data):f.insertData(0,g.data),ri(S.fromDom(g)),a&&Dg(f,s),f},Wb=function(e,r){var a=e.container(),i=e.offset();return pt.isTextPosition(e)===!1&&a===r.parentNode&&i>pt.before(r).offset()},yC=function(e,r){return Wb(r,e)?pt(r.container(),r.offset()-1):r},bC=function(e){return on(e)?pt(e,0):pt.before(e)},wC=function(e){return on(e)?pt(e,e.data.length):pt.after(e)},ak=function(e){return Gl(e.previousSibling)?Z.some(wC(e.previousSibling)):e.previousSibling?Ds(e.previousSibling):Z.none()},ok=function(e){return Gl(e.nextSibling)?Z.some(bC(e.nextSibling)):e.nextSibling?qu(e.nextSibling):Z.none()},u=function(e,r){var a=pt.before(r.previousSibling?r.previousSibling:r.parentNode);return Dl(e,a).fold(function(){return rl(e,pt.after(r))},Z.some)},l=function(e,r){return rl(e,pt.after(r)).fold(function(){return Dl(e,pt.before(r))},Z.some)},v=function(e,r){return ak(r).orThunk(function(){return ok(r)}).orThunk(function(){return u(e,r)})},p=function(e,r){return ok(r).orThunk(function(){return ak(r)}).orThunk(function(){return l(e,r)})},b=function(e,r,a){return e?p(r,a):v(r,a)},x=function(e,r,a){return b(e,r,a).map(yt(yC,a))},D=function(e,r,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),r)})},M=function(e){return function(r){return r.dom===e}},G=function(e,r){return r&&Fr(e.schema.getBlockElements(),Wa(r))},ue=function(e){if(mu(e)){var r=S.fromHtml('<br data-mce-bogus="1">');return Ef(e),Bi(e,r),Z.some(pt.before(r.dom))}else return Z.none()},ke=function(e,r,a){var i=xf(e).filter(Go),s=rs(e).filter(Go);return ri(e),F1(i,s,r,function(f,g,y){var k=f.dom,O=g.dom,F=k.data.length;return jb(k,O,a),y.container()===O?pt(k,F):y}).orThunk(function(){return a&&(i.each(function(f){return Oa(f.dom,f.dom.length)}),s.each(function(f){return Dg(f.dom,0)})),r})},Ct=function(e,r){return Fr(e.schema.getTextInlineElements(),Wa(r))},er=function(e,r,a,i){i===void 0&&(i=!0);var s=x(r,e.getBody(),a.dom),f=pd(a,yt(G,e),M(e.getBody())),g=ke(a,s,Ct(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):f.bind(ue).fold(function(){i&&D(e,r,g)},function(y){i&&D(e,r,Z.some(y))})},qt=function(e){return function(r){return jn(e,r)}},kt=function(e){return yu(e,"td,th")},Ar=function(e,r){var a=function(O){return Hv(S.fromDom(O),r)},i=a(e.startContainer),s=a(e.endContainer),f=i.isSome(),g=s.isSome(),y=Hu(i,s,jn).getOr(!1),k=!y&&f&&g;return{startTable:i,endTable:s,isStartInTable:f,isEndInTable:g,isSameTable:y,isMultiTable:k}},Mr=function(e,r){return{start:e,end:r}},zn=function(e,r,a){return{rng:e,table:r,cells:a}},Ma=Dn.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),Rn=function(e,r){return gi(S.fromDom(e),"td,th",r)},ea=function(e){return!jn(e.start,e.end)},za=function(e,r){return Hv(e.start,r).bind(function(a){return Hv(e.end,r).bind(function(i){return I1(jn(a,i),a)})})},_a=function(e,r){return!ea(e)&&za(e,r).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},Ei=function(e,r){var a=Rn(e.startContainer,r),i=Rn(e.endContainer,r);return Hu(a,i,Mr)},au=function(e){return function(r){return Hv(r,e).bind(function(a){return Rr(kt(a)).map(function(i){return Mr(r,i)})})}},fc=function(e){return function(r){return Hv(r,e).bind(function(a){return xr(kt(a)).map(function(i){return Mr(i,r)})})}},Ia=function(e){return function(r){return za(r,e).map(function(a){return zn(r,a,kt(a))})}},oa=function(e,r,a,i){if(a.collapsed||!e.forall(ea))return Z.none();if(r.isSameTable){var s=e.bind(Ia(i));return Z.some({start:s,end:s})}else{var f=Rn(a.startContainer,i),g=Rn(a.endContainer,i),y=f.bind(au(i)).bind(Ia(i)),k=g.bind(fc(i)).bind(Ia(i));return Z.some({start:y,end:k})}},Da=function(e,r){return br(e,function(a){return jn(a,r)})},uo=function(e){return Hu(Da(e.cells,e.rng.start),Da(e.cells,e.rng.end),function(r,a){return e.cells.slice(r,a+1)})},oi=function(e,r,a){return e.exists(function(i){return _a(i,a)&&nl(i.start,r)})},gf=function(e,r){var a=r.startTable,i=r.endTable,s=e.cloneRange();return a.each(function(f){return s.setStartAfter(f.dom)}),i.each(function(f){return s.setEndBefore(f.dom)}),s},lo=function(e,r,a,i){return oa(e,r,a,i).bind(function(s){var f=s.start,g=s.end;return f.or(g)}).bind(function(s){var f=r.isSameTable,g=uo(s).getOr([]);if(f&&s.cells.length===g.length)return Z.some(Ma.fullTable(s.table));if(g.length>0){if(f)return Z.some(Ma.partialTable(g,Z.none()));var y=gf(a,r);return Z.some(Ma.partialTable(g,Z.some(fn(fn({},r),{rng:y}))))}else return Z.none()})},Ns=function(e,r,a,i){return oa(e,r,a,i).bind(function(s){var f=s.start,g=s.end,y=f.bind(uo).getOr([]),k=g.bind(uo).getOr([]);if(y.length>0&&k.length>0){var O=gf(a,r);return Z.some(Ma.multiTable(y,k,O))}else return Z.none()})},Cu=function(e,r){var a=qt(e),i=Ei(r,a),s=Ar(r,a);return oi(i,r,a)?i.map(function(f){return Ma.singleCellTable(r,f.start)}):s.isMultiTable?Ns(i,s,r,a):lo(i,s,r,a)},vh=function(e){var r=Fc(e)?xf(e):$c(e);return r.bind(vh).orThunk(function(){return Z.some(e)})},Qd=function(e){return At(e,function(r){xt(r,"contenteditable"),Qv(r)})},Pl=function(e,r){return Z.from(e.dom.getParent(r,e.dom.isBlock)).map(S.fromDom)},Fs=function(e,r,a){a.each(function(i){r?ri(i):(Qv(i),e.selection.setCursorLocation(i.dom,0))})},il=function(e,r,a,i){var s=a.cloneRange();i?(s.setStart(a.startContainer,a.startOffset),s.setEndAfter(r.dom.lastChild)):(s.setStartBefore(r.dom.firstChild),s.setEnd(a.endContainer,a.endOffset)),rm(e,s,r,!1)},mh=function(e){var r=sf(e),a=S.fromDom(e.selection.getNode());ym(a.dom)&&mu(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),r.length>1&&qr(r,function(i){return jn(i,a)})&&z(a,"data-mce-selected","1")},tm=function(e,r,a){var i=e.selection.getRng(),s=a.bind(function(f){var g=f.rng,y=f.isStartInTable,k=Pl(e,y?g.endContainer:g.startContainer);g.deleteContents(),Fs(e,y,k.filter(mu));var O=y?r[0]:r[r.length-1];return il(e,O,i,y),mu(O)?Z.none():Z.some(y?r.slice(1):r.slice(0,-1))}).getOr(r);return Qd(s),mh(e),!0},gh=function(e,r,a,i){var s=e.selection.getRng(),f=r[0],g=a[a.length-1];il(e,f,s,!0),il(e,g,s,!1);var y=mu(f)?r:r.slice(1),k=mu(g)?a:a.slice(0,-1);return Qd(y.concat(k)),i.deleteContents(),mh(e),!0},rm=function(e,r,a,i){i===void 0&&(i=!0),r.deleteContents();var s=vh(a).getOr(a),f=S.fromDom(e.dom.getParent(s.dom,e.dom.isBlock));if(mu(f)&&(Qv(f),i&&e.selection.setCursorLocation(f.dom,0)),!jn(a,f)){var g=sv(ti(f),a)?[]:bi(f);At(g.concat(Lu(a)),function(y){!jn(y,f)&&!to(y,f)&&mu(y)&&ri(y)})}return!0},Bl=function(e,r){return er(e,!1,r),!0},Rg=function(e,r,a){return Cu(r,a).map(function(i){return i.fold(yt(rm,e),yt(Bl,e),yt(tm,e),yt(gh,e))})},qb=function(e,r){return Qf(e,r)},kC=function(e,r,a,i){return P8(r,i).fold(function(){return Rg(e,r,a)},function(s){return qb(e,s)}).getOr(!1)},ph=function(e,r,a){var i=S.fromDom(e.getBody()),s=e.selection.getRng();return a.length!==0?tm(e,a,Z.none()):kC(e,i,s,r)},R8=function(e,r){return ut(Tn(r,e),wl)},P8=function(e,r){return ut(Tn(r,e),np("caption"))},RR=function(e,r,a,i,s){return Ol(a,e.getBody(),s).bind(function(f){return R8(r,S.fromDom(f.getNode())).map(function(g){return jn(g,i)===!1})})},Qf=function(e,r){return Qv(r),e.selection.setCursorLocation(r.dom,0),Z.some(!0)},PR=function(e,r,a,i){return qu(e.dom).bind(function(s){return Ds(e.dom).map(function(f){return r?a.isEqual(s)&&i.isEqual(f):a.isEqual(f)&&i.isEqual(s)})}).getOr(!0)},Kc=function(e,r){return Qf(e,r)},BR=function(e,r,a){return P8(e,S.fromDom(a.getNode())).map(function(i){return jn(i,r)===!1})},MR=function(e,r,a,i,s){return Ol(a,e.getBody(),s).bind(function(f){return PR(i,a,s,f)?Kc(e,i):BR(r,i,f)}).or(Z.some(!0))},nm=function(e,r,a,i){var s=pt.fromRangeStart(e.selection.getRng());return R8(a,i).bind(function(f){return mu(f)?Qf(e,f):RR(e,a,r,f,s)}).getOr(!1)},ro=function(e,r,a,i){var s=pt.fromRangeStart(e.selection.getRng());return mu(i)?Qf(e,i):MR(e,a,r,i,s)},Pg=function(e,r){return e?oC(r):iC(r)},B8=function(e,r){var a=pt.fromRangeStart(e.selection.getRng());return Pg(r,a)||zc(r,e.getBody(),a).exists(function(i){return Pg(r,i)})},NR=function(e,r,a){var i=S.fromDom(e.getBody());return P8(i,a).fold(function(){return nm(e,r,i,a)||B8(e,r)},function(s){return ro(e,r,i,s).getOr(!1)})},hh=function(e,r){var a=S.fromDom(e.selection.getStart(!0)),i=sf(e);return e.selection.isCollapsed()&&i.length===0?NR(e,r,a):ph(e,a,i)},ed=function(e,r,a,i){var s=document.createRange();return s.setStart(e,r),s.setEnd(a,i),s},FR=function(e){var r=pt.fromRangeStart(e),a=pt.fromRangeEnd(e),i=e.commonAncestorContainer;return zc(!1,i,a).map(function(s){return!Al(r,a,i)&&Al(r,s,i)?ed(r.container(),r.offset(),s.container(),s.offset()):e}).getOr(e)},M8=function(e){return e.collapsed?e:FR(e)},IR=function(e){return e.firstChild&&e.firstChild===e.lastChild},N8=function(e){return e.name==="br"||e.value===Vc},$R=function(e,r){var a=e.getBlockElements();return a[r.name]&&IR(r)&&N8(r.firstChild)},LR=function(e,r){var a=e.getNonEmptyElements();return r&&(r.isEmpty(a)||$R(e,r))},kE=function(e,r){var a=r.firstChild,i=r.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),LR(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},HR=function(e){var r=e.firstChild,a=e.lastChild;return r&&r.nodeName==="META"&&r.parentNode.removeChild(r),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},VR=function(e,r,a){var i=r.serialize(a),s=e.createFragment(i);return HR(s)},UR=function(e){return Fe(e.childNodes,function(r){return r.nodeName==="LI"})},Is=function(e){return e.data===Vc||ho(e)},ev=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Is(e.firstChild)},jR=function(e){return!e.firstChild||ev(e)},_E=function(e){return e.length>0&&jR(e[e.length-1])?e.slice(0,-1):e},Gb=function(e,r){var a=e.getParent(r,e.isBlock);return a&&a.nodeName==="LI"?a:null},F8=function(e,r){return!!Gb(e,r)},WR=function(e,r){var a=r.cloneRange(),i=r.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},CE=function(e,r){var a=pt.before(e),i=di(r),s=i.next(a);return s?s.toRange():null},Kb=function(e,r){var a=pt.after(e),i=di(r),s=i.prev(a);return s?s.toRange():null},_C=function(e,r,a,i){var s=WR(e,i),f=e.parentNode;return f.insertBefore(s[0],e),wt.each(r,function(g){f.insertBefore(g,e)}),f.insertBefore(s[1],e),f.removeChild(e),Kb(r[r.length-1],a)},qR=function(e,r,a){var i=e.parentNode;return wt.each(r,function(s){i.insertBefore(s,e)}),CE(e,a)},Bg=function(e,r,a,i){return i.insertAfter(r.reverse(),e),Kb(r[0],a)},GR=function(e,r,a,i){var s=VR(r,e,i),f=Gb(r,a.startContainer),g=_E(UR(s.firstChild)),y=1,k=2,O=r.getRoot(),F=function($){var L=pt.fromRangeStart(a),Q=di(r.getRoot()),te=$===y?Q.prev(L):Q.next(L);return te?Gb(r,te.getNode())!==f:!0};return F(y)?qR(f,g,O):F(k)?Bg(f,g,O,r):_C(f,g,O,a)},KR=function(e,r,a){var i=S.fromDom(e.getRoot());return mf(i,pt.fromRangeStart(r))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),dh(i,pt.fromRangeEnd(r))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Xc=ym,I8=function(e,r,a){if(a!==null){var i=e.getParent(r.endContainer,Xc);return a===i&&nl(S.fromDom(a),r)}else return!1},td=function(e,r,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(r),a);else{var i=a.firstChild,s=a.lastChild;!i||i===s&&i.nodeName==="BR"?e.dom.setHTML(a,r):e.selection.setContent(r)}},XR=function(e,r){Z.from(e.getParent(r,"td,th")).map(S.fromDom).each(C8)},wo=function(e,r){var a=e.schema.getTextInlineElements(),i=e.dom;if(r){var s=e.getBody(),f=J2(i);wt.each(i.select("*[data-mce-fragment]"),function(g){var y=zr(a[g.nodeName.toLowerCase()]);if(y&&b8(i,g))for(var k=g.parentNode;zr(k)&&k!==s;k=k.parentNode){var O=tC(i,g,k);if(O)break;if(f.compare(k,g)){i.remove(g,!0);break}}})}},yh=function(e){for(var r=e;r=r.walk();)r.type===1&&r.attr("data-mce-fragment","1")},CC=function(e){wt.each(e.getElementsByTagName("*"),function(r){r.removeAttribute("data-mce-fragment")})},SE=function(e){return!!e.getAttribute("data-mce-fragment")},$8=function(e,r){return r&&!e.schema.getShortEndedElements()[r.nodeName]},L8=function(e,r){var a,i=e.dom,s=e.selection;if(r){s.scrollIntoView(r);var f=Uv(e.getBody(),r);if(i.getContentEditable(f)==="false"){i.remove(r),s.select(f);return}var g=i.createRng(),y=r.previousSibling;if(on(y)){if(g.setStart(y,y.nodeValue.length),!dr.ie){var k=r.nextSibling;on(k)&&(y.appendData(k.data),k.parentNode.removeChild(k))}}else g.setStartBefore(r),g.setEndBefore(r);var O=function($){var L=pt.fromRangeStart($),Q=di(e.getBody());if(L=Q.next(L),L)return L.toRange()},F=i.getParent(r,i.isBlock);i.remove(r),F&&i.isEmpty(F)&&(e.$(F).empty(),g.setStart(F,0),g.setEnd(F,0),!Xc(F)&&!SE(F)&&(a=O(g))?(g=a,i.remove(F)):i.add(F,i.create("br",{"data-mce-bogus":"1"}))),s.setRng(g)}},YR=function(e){var r=e.dom,a=M8(e.selection.getRng());e.selection.setRng(a);var i=r.getParent(a.startContainer,Xc);I8(r,a,i)?rm(e,a,S.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},H8=function(e,r,a){var i,s,f,g=e.selection,y=e.dom;/^ | $/.test(r)&&(r=KR(y,g.getRng(),r));var k=e.parser,O=a.merge,F=Jv({validate:sx(e)},e.schema),$='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',L=e.fire("BeforeSetContent",{content:r,format:"html",selection:!0,paste:a.paste});if(L.isDefaultPrevented()){e.fire("SetContent",{content:L.content,format:"html",selection:!0,paste:a.paste});return}r=L.content,a.preserve_zwsp||(r=_c(r)),r.indexOf("{$caret}")===-1&&(r+="{$caret}"),r=r.replace(/\{\$caret\}/,$),s=g.getRng();var Q=s.startContainer||(s.parentElement?s.parentElement():null),te=e.getBody();Q===te&&g.isCollapsed()&&y.isBlock(te.firstChild)&&$8(e,te.firstChild)&&y.isEmpty(te.firstChild)&&(s=y.createRng(),s.setStart(te.firstChild,0),s.setEnd(te.firstChild,0),g.setRng(s)),g.isCollapsed()||YR(e),i=g.getNode();var ne={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},ae=k.parse(r,ne);if(a.paste===!0&&kE(e.schema,ae)&&F8(y,i)){s=GR(F,y,g.getRng(),ae),g.setRng(s),e.fire("SetContent",L);return}if(yh(ae),f=ae.lastChild,f.attr("id")==="mce_marker"){var pe=f;for(f=f.prev;f;f=f.walk(!0))if(f.type===3||!y.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(pe,f,f.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!ne.invalid)r=F.serialize(ae),td(e,r,i);else{e.selection.setContent($),i=g.getNode();var ge=e.getBody();for(i.nodeType===9?i=f=ge:f=i;f!==ge;)i=f,f=f.parentNode;r=i===ge?ge.innerHTML:y.getOuterHTML(i),r=F.serialize(k.parse(r.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return F.serialize(ae)}))),i===ge?y.setHTML(ge,r):y.setOuterHTML(i,r)}wo(e,O),L8(e,y.get("mce_marker")),CC(e.getBody()),XR(y,g.getStart()),e.fire("SetContent",L),e.addVisual()},V8=function(e,r){r(e),e.firstChild&&V8(e.firstChild,r),e.next&&V8(e.next,r)},xE=function(e,r,a){var i={},s={},f=[];a.firstChild&&V8(a.firstChild,function(k){At(e,function(O){O.name===k.name&&(i[O.name]?i[O.name].nodes.push(k):i[O.name]={filter:O,nodes:[k]})}),At(r,function(O){typeof k.attr(O.name)=="string"&&(s[O.name]?s[O.name].nodes.push(k):s[O.name]={filter:O,nodes:[k]})})});for(var g in i)Fr(i,g)&&f.push(i[g]);for(var y in s)Fr(s,y)&&f.push(s[y]);return f},TE=function(e,r,a){var i=xE(e,r,a);At(i,function(s){At(s.filter.callbacks,function(f){f(s.nodes,s.filter.name,{})})})},U8="html",SC=function(e){return e instanceof Ms},xC=function(e){Bs(e)&&qu(e.getBody()).each(function(r){var a=r.getNode(),i=wi(a)?qu(a).getOr(r):r;e.selection.setRng(i.toRange())})},j8=function(e,r,a){e.dom.setHTML(e.getBody(),r),a!==!0&&xC(e)},ZR=function(e,r,a,i){if(a=_c(a),a.length===0||/^\s+$/.test(a)){var s='<br data-mce-bogus="1">';r.nodeName==="TABLE"?a="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(r.nodeName)&&(a="<li>"+s+"</li>");var f=bu(e);f&&e.schema.isValidChild(r.nodeName.toLowerCase(),f.toLowerCase())?(a=s,a=e.dom.createHTML(f,Xm(e),a)):a||(a='<br data-mce-bogus="1">'),j8(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Jv({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=fv(S.fromDom(r))?a:wt.trim(a),j8(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},JR=function(e,r,a,i){TE(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var s=Jv({validate:e.validate},e.schema).serialize(a);return i.content=_c(fv(S.fromDom(r))?s:wt.trim(s)),j8(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},QR=function(e,r){return fn(fn({format:U8},e),{set:!0,content:SC(r)?"":r})},eP=function(e,r,a){var i=QR(a,r),s=a.no_events?i:e.fire("BeforeSetContent",i);return SC(r)||(r=s.content),Z.from(e.getBody()).fold(V(r),function(f){return SC(r)?JR(e,f,r,s):ZR(e,f,r,s)})},tP=function(e,r){return H1(e,r).isSome()},zE=function(e){return Le(e)?e:Ve},rP=function(e,r,a){for(var i=e.dom,s=zE(a);i.parentNode;){i=i.parentNode;var f=S.fromDom(i),g=r(f);if(g.isSome())return g;if(s(f))break}return Z.none()},W8=function(e,r,a){var i=r(e),s=zE(a);return i.orThunk(function(){return s(e)?Z.none():rP(e,r,s)})},q8=iw,G8=function(e,r,a){var i=e.formatter.get(a);if(i)for(var s=0;s<i.length;s++){var f=i[s];if(Gc(f)&&f.inherit===!1&&e.dom.is(r,f.selector))return!0}return!1},K8=function(e,r,a,i,s){var f=e.dom.getRoot();return r===f?!1:(r=e.dom.getParent(r,function(g){return G8(e,g,a)?!0:g.parentNode===f||!!tv(e,g,a,i,!0)}),!!tv(e,r,a,i,s))},TC=function(e,r,a){if(q8(r,a.inline)||q8(r,a.block))return!0;if(a.selector)return r.nodeType===1&&e.is(r,a.selector)},pf=function(e,r,a,i,s,f){var g=a[i];if(Le(a.onmatch))return a.onmatch(r,a,i);if(g){if(Me(g.length)){for(var y in g)if(Fr(g,y)){var k=i==="attributes"?e.getAttrib(r,y):gg(e,r,y),O=uf(g[y],f),F=Nr(k)||pr(k);if(F&&Nr(O))continue;if(s&&F&&!a.exact||(!s||a.exact)&&!q8(k,uw(e,O,y)))return!1}}else for(var $=0;$<g.length;$++)if(i==="attributes"?e.getAttrib(r,g[$]):gg(e,r,g[$]))return!0}return!0},tv=function(e,r,a,i,s){var f=e.formatter.get(a),g=e.dom;if(f&&r)for(var y=0;y<f.length;y++){var k=f[y];if(TC(e.dom,r,k)&&pf(g,r,k,"attributes",s,i)&&pf(g,r,k,"styles",s,i)){var O=k.classes;if(O){for(var F=0;F<O.length;F++)if(!e.dom.hasClass(r,uf(O[F],i)))return}return k}}},zC=function(e,r,a,i,s){if(i)return K8(e,i,r,a,s);if(i=e.selection.getNode(),K8(e,i,r,a,s))return!0;var f=e.selection.getStart();return!!(f!==i&&K8(e,f,r,a,s))},X8=function(e,r,a){var i=[],s={},f=e.selection.getStart();return e.dom.getParent(f,function(g){for(var y=0;y<r.length;y++){var k=r[y];!s[k]&&tv(e,g,k,a)&&(s[k]=!0,i.push(k))}},e.dom.getRoot()),i},Y8=function(e,r){var a=function(s){return jn(s,S.fromDom(e.getBody()))},i=function(s,f){return tv(e,s.dom,f)?Z.some(f):Z.none()};return Z.from(e.selection.getStart(!0)).bind(function(s){return W8(S.fromDom(s),function(f){return He(r,function(g){return i(f,g)})},a)}).getOrNull()},EE=function(e,r){var a=e.formatter.get(r),i=e.dom;if(a)for(var s=e.selection.getStart(),f=Vp(i,s),g=a.length-1;g>=0;g--){var y=a[g];if(!Gc(y)||zr(y.defaultBlock))return!0;for(var k=f.length-1;k>=0;k--)if(i.is(f[k],y.selector))return!0}return!1},AE=function(e,r,a){return Ne(a,function(i,s){var f=c2(e,s);return e.formatter.matchNode(r,s,{},f)?i.concat([s]):i},[])},Xb=Ae,OE="_mce_caret",Z8=function(e,r){return e.importNode(r,!0)},DE=function(e){for(var r=[];e;){if(e.nodeType===3&&e.nodeValue!==Xb||e.childNodes.length>1)return[];e.nodeType===1&&r.push(e),e=e.firstChild}return r},hf=function(e){return DE(e).length>0},RE=function(e){if(e){var r=new io(e,e);for(e=r.current();e;e=r.next())if(on(e))return e}return null},J8=function(e){var r=S.fromTag("span");return I(r,{id:OE,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Bi(r,S.fromText(Xb)),r},nP=function(e){var r=RE(e);return r&&r.nodeValue.charAt(0)===Xb&&r.deleteData(0,1),r},ik=function(e,r,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(hf(r))er(e,!1,S.fromDom(r),a);else{var f=s.getRng(),g=i.getParent(r,i.isBlock),y=f.startContainer,k=f.startOffset,O=f.endContainer,F=f.endOffset,$=nP(r);i.remove(r,!0),y===$&&k>0&&f.setStart($,k-1),O===$&&F>0&&f.setEnd($,F-1),g&&i.isEmpty(g)&&Qv(S.fromDom(g)),s.setRng(f)}},Q8=function(e,r,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(r)ik(e,r,a);else if(r=Iv(e.getBody(),s.getStart()),!r)for(;r=i.get(OE);)ik(e,r,!1)},aP=function(e,r,a){var i=e.dom,s=i.getParent(a,yt(ow,e));s&&i.isEmpty(s)?a.parentNode.replaceChild(r,a):(_8(S.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(r,a):i.insertAfter(r,a))},EC=function(e,r){return e.appendChild(r),r},PE=function(e,r){var a=gr(e,function(i,s){return EC(i,s.cloneNode(!1))},r);return EC(a,a.ownerDocument.createTextNode(Xb))},oP=function(e,r,a,i,s,f){var g=e.formatter,y=e.dom,k=Fe(Xt(g.get()),function(L){return L!==i&&!St(L,"removeformat")}),O=AE(e,a,k),F=Fe(O,function(L){return!$x(e,L,i)});if(F.length>0){var $=a.cloneNode(!1);return y.add(r,$),g.remove(i,s,$,f),y.remove($),Z.some($)}else return Z.none()},BE=function(e,r,a){var i,s,f=e.selection,g=f.getRng(),y=g.startOffset,k=g.startContainer,O=k.nodeValue;i=Iv(e.getBody(),f.getStart()),i&&(s=RE(i));var F=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(O&&y>0&&y<O.length&&F.test(O.charAt(y))&&F.test(O.charAt(y-1))){var $=f.getBookmark();g.collapse(!0);var L=Ud(e,g,e.formatter.get(r));L=Yf(L),e.formatter.apply(r,a,L),f.moveToBookmark($)}else(!i||s.nodeValue!==Xb)&&(i=Z8(e.getDoc(),J8(!0).dom),s=i.firstChild,g.insertNode(i),y=1),e.formatter.apply(r,a,i),f.setCursorLocation(s,y)},iP=function(e,r,a,i){var s=e.dom,f=e.selection,g,y,k,O=[],F=f.getRng(),$=F.startContainer,L=F.startOffset;for(y=$,$.nodeType===3&&(L!==$.nodeValue.length&&(g=!0),y=y.parentNode);y;){if(tv(e,y,r,a,i)){k=y;break}y.nextSibling&&(g=!0),O.push(y),y=y.parentNode}if(k)if(g){var Q=f.getBookmark();F.collapse(!0);var te=Ud(e,F,e.formatter.get(r),!0);te=Yf(te),e.formatter.remove(r,a,te,i),f.moveToBookmark(Q)}else{var ne=Iv(e.getBody(),k),ae=J8(!1).dom;aP(e,ae,ne!==null?ne:k);var pe=oP(e,ae,k,r,a,i),ge=PE(O.concat(pe.toArray()),ae);ik(e,ne,!1),f.setCursorLocation(ge,1),s.isEmpty(k)&&s.remove(k)}},uP=function(e,r){var a=e.selection,i=e.getBody();Q8(e,null,!1),(r===8||r===46)&&a.isCollapsed()&&a.getStart().innerHTML===Xb&&Q8(e,Iv(i,a.getStart())),(r===37||r===39)&&Q8(e,Iv(i,a.getStart()))},AC=function(e){e.on("mouseup keydown",function(r){uP(e,r.keyCode)})},cP=function(e,r){var a=J8(!1),i=PE(r,a.dom);return fu(S.fromDom(e),a),ri(S.fromDom(e)),pt(i,0)},ME=function(e,r){var a=e.schema.getTextInlineElements();return Fr(a,Wa(r))&&!of(r.dom)&&!mi(r.dom)},NE=function(e){return of(e.dom)&&hf(e.dom)},Yb={},FE=Oo,IE=zo,eT=function(e,r){var a=Yb[e];a||(Yb[e]=[]),Yb[e].push(r)},sP=function(e,r){IE(Yb[e],function(a){a(r)})};eT("pre",function(e){var r=e.selection.getRng(),a,i=function(g){return f(g.previousSibling)&&mo(a,g.previousSibling)!==-1},s=function(g,y){ga(y).remove(),ga(g).append("<br><br>").append(y.childNodes)},f=ns(["pre"]);r.collapsed||(a=e.selection.getSelectedBlocks(),IE(FE(FE(a,f),i),function(g){s(g.previousSibling,g)}))});var tT=wt.each,bh=function(e){return Yn(e)&&!Ec(e)&&!of(e)&&!mi(e)},OC=function(e,r){for(var a=e;a;a=a[r]){if(on(a)&&qe(a.data))return e;if(Yn(a)&&!Ec(a))return a}return e},$E=function(e,r,a){var i=J2(e);if(r&&a&&(r=OC(r,"previousSibling"),a=OC(a,"nextSibling"),i.compare(r,a))){for(var s=r.nextSibling;s&&s!==a;){var f=s;s=s.nextSibling,r.appendChild(f)}return e.remove(a),wt.each(wt.grep(a.childNodes),function(g){r.appendChild(g)}),r}return a},LE=function(e,r,a,i){if(i&&r.merge_siblings!==!1){var s=$E(e,lb(i),i);$E(e,s,lb(s,!0))}},HE=function(e,r,a){if(r.clear_child_styles){var i=r.links?"*:not(a)":"*";tT(e.select(i,a),function(s){bh(s)&&tT(r.styles,function(f,g){e.setStyle(s,g,"")})})}},DC=function(e,r,a){tT(e.childNodes,function(i){bh(i)&&(r(i)&&a(i),i.hasChildNodes()&&DC(i,r,a))})},lP=function(e,r){r.nodeName==="SPAN"&&e.getAttribs(r).length===0&&e.remove(r,!0)},VE=function(e,r){return function(a){return!!(a&&gg(e,a,r))}},UE=function(e,r,a){return function(i){e.setStyle(i,r,a),i.getAttribute("style")===""&&i.removeAttribute("style"),lP(e,i)}},uk=Dn.generate([{keep:[]},{rename:["name"]},{removed:[]}]),jE=/^(src|href|style)$/,RC=wt.each,Zb=iw,fP=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},WE=function(e,r,a){return e.isChildOf(r,a)&&r!==a&&!e.isBlock(a)},qE=function(e,r,a){var i=r[a?"startContainer":"endContainer"],s=r[a?"startOffset":"endOffset"];if(Yn(i)){var f=i.childNodes.length-1;!a&&s&&s--,i=i.childNodes[s>f?f:s]}return on(i)&&a&&s>=i.nodeValue.length&&(i=new io(i,e.getBody()).next()||i),on(i)&&!a&&s===0&&(i=new io(i,e.getBody()).prev()||i),i},GE=function(e,r){var a=r?"firstChild":"lastChild";if(fP(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},rT=function(e,r,a,i){var s=e.create(a,i);return r.parentNode.insertBefore(s,r),s.appendChild(r),s},Jb=function(e,r,a,i,s){var f=S.fromDom(r),g=S.fromDom(e.create(i,s)),y=a?Ao(f):qa(f);return zf(g,y),a?(fu(f,g),xs(g,f)):(gd(f,g),Bi(g,f)),g.dom},dP=function(e,r,a){if(ku(a)&&Zb(r,a.inline)||cf(a)&&Zb(r,a.block))return!0;if(Gc(a))return Yn(r)&&e.is(r,a.selector)},KE=function(e,r){return r.links&&e.nodeName==="A"},Qb=function(e,r,a,i){var s=lb(r,a,i);return Nr(s)||s.nodeName==="BR"||e.isBlock(s)},vP=function(e,r,a){var i=r.parentNode,s,f=e.dom,g=bu(e);cf(a)&&(g?i===f.getRoot()&&(!a.list_block||!Zb(r,a.list_block))&&At(sr(r.childNodes),function(y){mg(e,g,y.nodeName.toLowerCase())?s?s.appendChild(y):(s=rT(f,y,g),f.setAttribs(s,e.settings.forced_root_block_attrs)):s=null}):f.isBlock(r)&&!f.isBlock(i)&&(!Qb(f,r,!1)&&!Qb(f,r.firstChild,!0,!0)&&r.insertBefore(f.create("br"),r.firstChild),!Qb(f,r,!0)&&!Qb(f,r.lastChild,!1,!0)&&r.appendChild(f.create("br")))),!(Lx(a)&&!Zb(a.inline,r))&&f.remove(r,!0)},nT=function(e,r,a,i,s){var f,g=e.dom;if(!dP(g,i,r)&&!KE(i,r))return uk.keep();var y=i;if(ku(r)&&r.remove==="all"&&nr(r.preserve_attributes)){var k=Fe(g.getAttribs(y),function(L){return Zt(r.preserve_attributes,L.name.toLowerCase())});if(g.removeAllAttribs(y),At(k,function(L){return g.setAttrib(y,L.name,L.value)}),k.length>0)return uk.rename("span")}if(r.remove!=="all"){RC(r.styles,function(L,Q){L=uw(g,uf(L,a),Q+""),Dt(Q)&&(Q=L,s=null),(r.remove_similar||!s||Zb(gg(g,s,Q),L))&&g.setStyle(y,Q,""),f=!0}),f&&g.getAttrib(y,"style")===""&&(y.removeAttribute("style"),y.removeAttribute("data-mce-style")),RC(r.attributes,function(L,Q){var te;if(L=uf(L,a),Dt(Q)&&(Q=L,s=null),r.remove_similar||!s||Zb(g.getAttrib(s,Q),L)){if(Q==="class"&&(L=g.getAttrib(y,Q),L&&(te="",At(L.split(/\s+/),function(ne){/mce\-\w+/.test(ne)&&(te+=(te?" ":"")+ne)}),te))){g.setAttrib(y,Q,te);return}if(jE.test(Q)&&y.removeAttribute("data-mce-"+Q),Q==="style"&&ns(["li"])(y)&&g.getStyle(y,"list-style-type")==="none"){y.removeAttribute(Q),g.setStyle(y,"list-style-type","none");return}Q==="class"&&y.removeAttribute("className"),y.removeAttribute(Q)}}),RC(r.classes,function(L){L=uf(L,a),(!s||g.hasClass(s,L))&&g.removeClass(y,L)});for(var O=g.getAttribs(y),F=0;F<O.length;F++){var $=O[F].nodeName;if($.indexOf("_")!==0&&$.indexOf("data-")!==0)return uk.keep()}}return r.remove!=="none"?(vP(e,y,r),uk.removed()):uk.keep()},wh=function(e,r,a,i,s){return nT(e,r,a,i,s).fold(Ve,function(f){return e.dom.rename(i,f),!0},Ft)},mP=function(e,r,a,i,s){var f;return At(Vp(e.dom,r.parentNode).reverse(),function(g){if(!f&&g.id!=="_start"&&g.id!=="_end"){var y=tv(e,g,a,i,s);y&&y.split!==!1&&(f=g)}}),f},gP=function(e,r,a,i){return nT(e,r,a,i,i).fold(V(i),function(s){var f=e.dom.createFragment();return f.appendChild(i),e.dom.rename(i,s)},V(null))},pP=function(e,r,a,i,s,f,g,y){var k,O,F,$=e.dom;if(a){for(var L=a.parentNode,Q=i.parentNode;Q&&Q!==L;Q=Q.parentNode){k=$.clone(Q,!1);for(var te=0;te<r.length&&(k=gP(e,r[te],y,k),k!==null);te++);k&&(O&&k.appendChild(O),F||(F=k),O=k)}(!g.mixed||!$.isBlock(a))&&(i=$.split(a,i)),O&&(s.parentNode.insertBefore(O,s),F.appendChild(s),ku(g)&&LE($,g,y,O))}return i},XE=function(e,r,a,i,s){var f=e.formatter.get(r),g=f[0],y=!0,k=e.dom,O=e.selection,F=function(ge){var je=mP(e,ge,r,a,s);return pP(e,f,je,ge,ge,!0,g,a)},$=function(ge){return Ec(ge)&&Yn(ge)&&(ge.id==="_start"||ge.id==="_end")},L=function(ge){return qr(f,function(je){return wh(e,je,a,ge,ge)})},Q=function(ge){var je=!0,Be=!1;Yn(ge)&&k.getContentEditable(ge)&&(je=y,y=k.getContentEditable(ge)==="true",Be=!0);var we=sr(ge.childNodes);if(y&&!Be){var Ge=L(ge),It=Ge||qr(f,function(jt){return TC(k,ge,jt)}),ur=ge.parentNode;!It&&zr(ur)&&sw(g)&&L(ur)}if(g.deep&&we.length){for(var Vn=0;Vn<we.length;Vn++)Q(we[Vn]);Be&&(y=je)}var Qr=["underline","line-through","overline"];At(Qr,function(jt){Yn(ge)&&e.dom.getStyle(ge,"text-decoration")===jt&&ge.parentNode&&cw(k,ge.parentNode)===jt&&wh(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:jt}},null,ge)})},te=function(ge){var je=k.get(ge?"_start":"_end"),Be=je[ge?"firstChild":"lastChild"];return $(Be)&&(Be=Be[ge?"firstChild":"lastChild"]),on(Be)&&Be.data.length===0&&(Be=ge?je.previousSibling||je.nextSibling:je.nextSibling||je.previousSibling),k.remove(je,!0),Be},ne=function(ge){var je,Be,we=Ud(e,ge,f,ge.collapsed);if(g.split){if(we=Yf(we),je=qE(e,we,!0),Be=qE(e,we),je!==Be){if(je=GE(je,!0),Be=GE(Be,!1),WE(k,je,Be)){var Ge=Z.from(je.firstChild).getOr(je);F(Jb(k,Ge,!0,"span",{id:"_start","data-mce-type":"bookmark"})),te(!0);return}if(WE(k,Be,je)){var Ge=Z.from(Be.lastChild).getOr(Be);F(Jb(k,Ge,!1,"span",{id:"_end","data-mce-type":"bookmark"})),te(!1);return}je=rT(k,je,"span",{id:"_start","data-mce-type":"bookmark"}),Be=rT(k,Be,"span",{id:"_end","data-mce-type":"bookmark"});var It=k.createRng();It.setStartAfter(je),It.setEndBefore(Be),Wp(k,It,function(ur){At(ur,function(Vn){!Ec(Vn)&&!Ec(Vn.parentNode)&&F(Vn)})}),F(je),F(Be),je=te(!0),Be=te()}else je=Be=F(je);we.startContainer=je.parentNode?je.parentNode:je,we.startOffset=k.nodeIndex(je),we.endContainer=Be.parentNode?Be.parentNode:Be,we.endOffset=k.nodeIndex(Be)+1}Wp(k,we,function(ur){At(ur,Q)})};if(i){if(sb(i)){var ae=k.createRng();ae.setStartBefore(i),ae.setEndAfter(i),ne(ae)}else ne(i);qp(e,r,i,a);return}if(k.getContentEditable(O.getNode())==="false"){i=O.getNode();for(var pe=0;pe<f.length&&!(f[pe].ceFalseOverride&&wh(e,f[pe],a,i,i));pe++);qp(e,r,i,a);return}!O.isCollapsed()||!ku(g)||sf(e).length?(bg(O,!0,function(){Vv(e,ne)}),ku(g)&&zC(e,r,a,O.getStart())&&u2(k,O,O.getRng()),e.nodeChanged()):iP(e,r,a,s),qp(e,r,i,a)},YE=wt.each,hP=function(e,r,a,i){var s=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var g=cw(e,f.parentNode);e.getStyle(f,"color")&&g?e.setStyle(f,"text-decoration",g):e.getStyle(f,"text-decoration")===g&&e.setStyle(f,"text-decoration",null)}};r.styles&&(r.styles.color||r.styles.textDecoration)&&(wt.walk(i,s,"childNodes"),s(i))},yP=function(e,r,a,i){r.styles&&r.styles.backgroundColor&&DC(i,VE(e,"fontSize"),UE(e,"backgroundColor",uf(r.styles.backgroundColor,a)))},bP=function(e,r,a,i){ku(r)&&(r.inline==="sub"||r.inline==="sup")&&(DC(i,VE(e,"fontSize"),UE(e,"fontSize","")),e.remove(e.select(r.inline==="sup"?"sub":"sup",i),!0))},wP=function(e,r,a,i){YE(r,function(s){ku(s)&&YE(e.dom.select(s.inline,i),function(f){bh(f)&&wh(e,s,a,f,s.exact?f:null)}),HE(e.dom,s,i)})},kP=function(e,r,a,i,s){tv(e,s.parentNode,a,i)&&wh(e,r,i,s)||r.merge_with_parents&&e.dom.getParent(s.parentNode,function(f){if(tv(e,f,a,i))return wh(e,r,i,s),!0})},PC=wt.each,aT=function(e){return Yn(e)&&!Ec(e)&&!of(e)&&!mi(e)},rd=function(e,r,a,i){if(Bv(e)&&ku(r)){var s=ay(e.schema),f=tP(S.fromDom(a),function(g){return of(g.dom)});return ia(s,i)&&mu(S.fromDom(a.parentNode),!1)&&!f}else return!1},ck=function(e,r,a,i){var s=e.formatter.get(r),f=s[0],g=!i&&e.selection.isCollapsed(),y=e.dom,k=e.selection,O=function(je,Be){if(Be===void 0&&(Be=f),Le(Be.onformat)&&Be.onformat(je,Be,a,i),PC(Be.styles,function(Ge,It){y.setStyle(je,It,uf(Ge,a))}),Be.styles){var we=y.getAttrib(je,"style");we&&y.setAttrib(je,"data-mce-style",we)}PC(Be.attributes,function(Ge,It){y.setAttrib(je,It,uf(Ge,a))}),PC(Be.classes,function(Ge){Ge=uf(Ge,a),y.hasClass(je,Ge)||y.addClass(je,Ge)})},F=function(je,Be){var we=!1;return PC(je,function(Ge){if(!Gc(Ge))return!1;if(!(zr(Ge.collapsed)&&Ge.collapsed!==g)&&y.is(Be,Ge.selector)&&!of(Be))return O(Be,Ge),we=!0,!1}),we},$=function(je){if(Ht(je)){var Be=y.create(je);return O(Be),Be}else return null},L=function(je,Be,we){var Ge=[],It=!0,ur=f.inline||f.block,Vn=$(ur);Wp(je,Be,function(Qr){var jt,En=function(hr){var Yr=!1,wr=It,Hr=hr.nodeName.toLowerCase(),sn=hr.parentNode,tr=sn.nodeName.toLowerCase();if(Yn(hr)&&je.getContentEditable(hr)&&(wr=It,It=je.getContentEditable(hr)==="true",Yr=!0),ho(hr)&&!rd(e,f,hr,tr)){jt=null,cf(f)&&je.remove(hr);return}if(cf(f)&&f.wrapper&&tv(e,hr,r,a)){jt=null;return}if(It&&!Yr&&cf(f)&&!f.wrapper&&ow(e,Hr)&&mg(e,tr,ur)){var rn=je.rename(hr,ur);O(rn),Ge.push(rn),jt=null;return}if(Gc(f)){var Ca=F(s,hr);if(!Ca&&zr(sn)&&sw(f)&&(Ca=F(s,sn)),!ku(f)||Ca){jt=null;return}}It&&!Yr&&mg(e,ur,Hr)&&mg(e,tr,ur)&&!(!we&&on(hr)&&rc(hr.data))&&!of(hr)&&(!ku(f)||!je.isBlock(hr))?(jt||(jt=je.clone(Vn,!1),hr.parentNode.insertBefore(jt,hr),Ge.push(jt)),jt.appendChild(hr)):(jt=null,At(sr(hr.childNodes),En),Yr&&(It=wr),jt=null)};At(Qr,En)}),f.links===!0&&At(Ge,function(Qr){var jt=function(En){En.nodeName==="A"&&O(En,f),At(sr(En.childNodes),jt)};jt(Qr)}),At(Ge,function(Qr){var jt=function(Yr){var wr=0;return At(Yr.childNodes,function(Hr){!Ix(Hr)&&!Ec(Hr)&&wr++}),wr},En=function(Yr){var wr=ut(Yr.childNodes,aT).filter(function(Hr){return TC(je,Hr,f)});return wr.map(function(Hr){var sn=je.clone(Hr,!1);return O(sn),je.replace(sn,Yr,!0),je.remove(Hr,!0),sn}).getOr(Yr)},hr=jt(Qr);if((Ge.length>1||!je.isBlock(Qr))&&hr===0){je.remove(Qr,!0);return}(ku(f)||cf(f)&&f.wrapper)&&(!f.exact&&hr===1&&(Qr=En(Qr)),wP(e,s,a,Qr),kP(e,f,r,a,Qr),yP(je,f,a,Qr),hP(je,f,a,Qr),bP(je,f,a,Qr),LE(je,f,a,Qr))})};if(y.getContentEditable(k.getNode())==="false"){i=k.getNode();for(var Q=0,te=s.length;Q<te;Q++){var ne=s[Q];if(ne.ceFalseOverride&&Gc(ne)&&y.is(i,ne.selector)){O(i,ne);break}}Cw(e,r,i,a);return}if(f){if(i)if(sb(i)){if(!F(s,i)){var ae=y.createRng();ae.setStartBefore(i),ae.setEndAfter(i),L(y,Ud(e,ae,s),!0)}}else L(y,i,!0);else if(!g||!ku(f)||sf(e).length){var pe=k.getNode(),ge=s[0];!e.settings.forced_root_block&&ge.defaultBlock&&!y.getParent(pe,y.isBlock)&&ck(e,ge.defaultBlock),k.setRng(M8(k.getRng())),bg(k,!0,function(){Vv(e,function(je,Be){var we=Be?je:Ud(e,je,s);L(y,we,!1)})}),u2(y,k,k.getRng()),e.nodeChanged()}else BE(e,r,a);sP(r,e)}Cw(e,r,i,a)},BC=function(e){return Fr(e,"vars")},oT=function(e,r){e.set({}),r.on("NodeChange",function(a){uT(r,a.element,e.get())}),r.on("FormatApply FormatRemove",function(a){var i=Z.from(a.node).map(function(s){return sb(s)?s:s.startContainer}).bind(function(s){return Yn(s)?Z.some(s):Z.from(s.parentElement)}).getOrThunk(function(){return ZE(r)});uT(r,i,e.get())})},ZE=function(e){return e.selection.getStart()},iT=function(e,r,a,i,s){var f=function(y){var k=e.formatter.matchNode(y,a,s??{},i);return!Me(k)},g=function(y){return G8(e,y,a)?!0:i?!1:zr(e.formatter.matchNode(y,a,s,!0))};return Oe(r,f,g)},JE=function(e,r){var a=r??ZE(e);return Fe(Vp(e.dom,a),function(i){return Yn(i)&&!mi(i)})},uT=function(e,r,a){var i=JE(e,r);lr(a,function(s,f){var g=function(y){var k=iT(e,i,f,y.similar,BC(y)?y.vars:void 0),O=k.isSome();if(y.state.get()!==O){y.state.set(O);var F=k.getOr(r);BC(y)?y.callback(O,{node:F,format:f,parents:i}):At(y.callbacks,function($){return $(O,{node:F,format:f,parents:i})})}};At([s.withSimilar,s.withoutSimilar],g),At(s.withVars,g)})},cT=function(e,r,a,i,s,f){var g=r.get();At(a.split(","),function(y){var k=cr(g,y).getOrThunk(function(){var $={withSimilar:{state:oc(!1),similar:!0,callbacks:[]},withoutSimilar:{state:oc(!1),similar:!1,callbacks:[]},withVars:[]};return g[y]=$,$}),O=function(){var $=JE(e);return iT(e,$,y,s,f).isSome()};if(Me(f)){var F=s?k.withSimilar:k.withoutSimilar;F.callbacks.push(i),F.callbacks.length===1&&F.state.set(O())}else k.withVars.push({state:oc(O()),similar:s,vars:f,callback:i})}),r.set(g)},_P=function(e,r,a){var i=e.get();At(r.split(","),function(s){return cr(i,s).each(function(f){i[s]={withSimilar:fn(fn({},f.withSimilar),{callbacks:Fe(f.withSimilar.callbacks,function(g){return g!==a})}),withoutSimilar:fn(fn({},f.withoutSimilar),{callbacks:Fe(f.withoutSimilar.callbacks,function(g){return g!==a})}),withVars:Fe(f.withVars,function(g){return g.callback!==a})}})}),e.set(i)},QE=function(e,r,a,i,s,f){return r.get()===null&&oT(r,e),cT(e,r,a,i,s,f),{unbind:function(){return _P(r,a,i)}}},CP=function(e,r,a,i){var s=e.formatter.get(r);zC(e,r,a,i)&&(!("toggle"in s[0])||s[0].toggle)?XE(e,r,a,i):ck(e,r,a,i)},kh=function(e,r){var a=document,i=a.createDocumentFragment();return At(e,function(s){i.appendChild(s.dom)}),S.fromDom(i)},MC=function(e,r,a){return{element:e,width:r,rows:a}},e4=function(e,r){return{element:e,cells:r}},t4=function(e,r){return{x:e,y:r}},r4=function(e,r){var a=parseInt(W(e,r),10);return isNaN(a)?1:a},SP=function(e,r,a,i,s){for(var f=r4(s,"rowspan"),g=r4(s,"colspan"),y=e.rows,k=a;k<a+f;k++){y[k]||(y[k]=e4(Oy(i),[]));for(var O=r;O<r+g;O++){var F=y[k].cells;F[O]=k===a&&O===r?s:zi(s)}}},xP=function(e,r,a){var i=e.rows,s=i[a]?i[a].cells:[];return!!s[r]},TP=function(e,r,a){for(;xP(e,r,a);)r++;return r},n4=function(e){return Ne(e,function(r,a){return a.cells.length>r?a.cells.length:r},0)},sT=function(e,r){for(var a=e.rows,i=0;i<a.length;i++)for(var s=a[i].cells,f=0;f<s.length;f++)if(jn(s[f],r))return Z.some(t4(f,i));return Z.none()},a4=function(e,r,a,i,s){for(var f=[],g=e.rows,y=a;y<=s;y++){var k=g[y].cells,O=r<i?k.slice(r,i+1):k.slice(i,r+1);f.push(e4(g[y].element,O))}return f},lT=function(e,r,a){var i=r.x,s=r.y,f=a.x,g=a.y,y=s<g?a4(e,i,s,f,g):a4(e,i,g,f,s);return MC(e.element,n4(y),y)},e1=function(e,r){var a=zi(e.element),i=S.fromTag("tbody");return zf(i,r),Bi(a,i),a},zP=function(e){return Zr(e.rows,function(r){var a=Zr(r.cells,function(s){var f=Oy(s);return xt(f,"colspan"),xt(f,"rowspan"),f}),i=zi(r.element);return zf(i,a),i})},EP=function(e){var r=MC(zi(e),0,[]);return At(yu(e,"tr"),function(a,i){At(yu(a,"td,th"),function(s,f){SP(r,TP(r,f,i),i,a,s)})}),MC(r.element,n4(r.rows),r.rows)},NC=function(e){return e1(e,zP(e))},fT=function(e,r,a){return sT(e,r).bind(function(i){return sT(e,a).map(function(s){return lT(e,i,s)})})},AP=function(e){return ut(e,function(r){return Wa(r)==="ul"||Wa(r)==="ol"})},OP=function(e,r){return ut(e,function(a){return Wa(a)==="li"&&nl(a,r)}).fold(V([]),function(a){return AP(e).map(function(i){var s=S.fromTag(Wa(i)),f=Ee(ni(i),function(g,y){return N(y,"list-style")});return Aa(s,f),[S.fromTag("li"),s]}).getOr([])})},o4=function(e,r){var a=Ne(r,function(i,s){return Bi(s,i),s},e);return r.length>0?kh([a]):a},dT=function(e){return Bu(e)?ti(e).filter(Xs).fold(V([]),function(r){return[e,r]}):Xs(e)?[e]:[]},DP=function(e,r){var a=S.fromDom(r.commonAncestorContainer),i=Tn(a,e),s=Fe(i,function(y){return Vu(y)||Zn(y)}),f=OP(i,r),g=s.concat(f.length?f:dT(a));return Zr(g,zi)},sk=function(){return kh([])},am=function(e,r){return o4(S.fromDom(r.cloneContents()),DP(e,r))},RP=function(e,r){return lv(r,"table",yt(jn,e))},vT=function(e,r){return RP(e,r[0]).bind(function(a){var i=r[0],s=r[r.length-1],f=EP(a);return fT(f,i,s).map(function(g){return kh([NC(g)])})}).getOrThunk(sk)},PP=function(e,r){return r.length>0&&r[0].collapsed?sk():am(e,r[0])},BP=function(e,r){var a=Xf(r,e);return a.length>0?vT(e,a):PP(e,r)},MP=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},FC=function(e,r){return r>=0&&r<e.length&&Vd(e.charAt(r))},mT=function(e,r){var a=_c(e.innerText);return r?MP(a):a},NP=function(e){return e.map(function(r){return r.nodeName}).getOr("div").toLowerCase()},t1=function(e){return Z.from(e.selection.getRng()).map(function(r){var a=Z.from(e.dom.getParent(r.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),s=NP(a),f=dr.browser.isIE()&&s!=="pre",g=e.dom.add(i,s,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},r.cloneContents()),y=mT(g,f),k=_c(g.textContent);if(e.dom.remove(g),FC(k,0)||FC(k,k.length-1)){var O=a.getOr(i),F=mT(O,f),$=F.indexOf(y);if($===-1)return y;var L=FC(F,$-1),Q=FC(F,$+y.length);return(L?" ":"")+y+(Q?" ":"")}else return y}).getOr("")},FP=function(e,r){var a=e.selection.getRng(),i=e.dom.create("body"),s=e.selection.getSel(),f=Rb(e,vw(s)),g=r.contextual?BP(S.fromDom(e.getBody()),f).dom:a.cloneContents();return g&&i.appendChild(g),e.selection.serializer.serialize(i,r)},IP=function(e,r){return fn(fn({},e),{format:r,get:!0,selection:!0})},$P=function(e,r,a){a===void 0&&(a={});var i=IP(a,r),s=e.fire("BeforeGetContent",i);if(s.isDefaultPrevented())return e.fire("GetContent",s),s.content;if(s.format==="text")return t1(e);s.getInner=!0;var f=FP(e,s);return s.format==="tree"?f:(s.content=e.selection.isCollapsed()?"":f,e.fire("GetContent",s),s.content)},gT=0,pT=1,i4=2,LP=function(e,r){var a=e.length+r.length+2,i=new Array(a),s=new Array(a),f=function(F,$,L){return{start:F,end:$,diag:L}},g=function(F,$,L,Q,te){var ne=k(F,$,L,Q);if(ne===null||ne.start===$&&ne.diag===$-Q||ne.end===F&&ne.diag===F-L)for(var ae=F,pe=L;ae<$||pe<Q;)ae<$&&pe<Q&&e[ae]===r[pe]?(te.push([gT,e[ae]]),++ae,++pe):$-F>Q-L?(te.push([i4,e[ae]]),++ae):(te.push([pT,r[pe]]),++pe);else{g(F,ne.start,L,ne.start-ne.diag,te);for(var ge=ne.start;ge<ne.end;++ge)te.push([gT,e[ge]]);g(ne.end,$,ne.end-ne.diag,Q,te)}},y=function(F,$,L,Q){for(var te=F;te-$<Q&&te<L&&e[te]===r[te-$];)++te;return f(F,te,$)},k=function(F,$,L,Q){var te=$-F,ne=Q-L;if(te===0||ne===0)return null;var ae=te-ne,pe=ne+te,ge=(pe%2===0?pe:pe+1)/2;i[1+ge]=F,s[1+ge]=$+1;var je,Be,we,Ge,It;for(je=0;je<=ge;++je){for(Be=-je;Be<=je;Be+=2){for(we=Be+ge,Be===-je||Be!==je&&i[we-1]<i[we+1]?i[we]=i[we+1]:i[we]=i[we-1]+1,Ge=i[we],It=Ge-F+L-Be;Ge<$&&It<Q&&e[Ge]===r[It];)i[we]=++Ge,++It;if(ae%2!==0&&ae-je<=Be&&Be<=ae+je&&s[we-ae]<=i[we])return y(s[we-ae],Be+F-L,$,Q)}for(Be=ae-je;Be<=ae+je;Be+=2){for(we=Be+ge-ae,Be===ae-je||Be!==ae+je&&s[we+1]<=s[we-1]?s[we]=s[we+1]-1:s[we]=s[we-1],Ge=s[we]-1,It=Ge-F+L-Be;Ge>=F&&It>=L&&e[Ge]===r[It];)s[we]=Ge--,It--;if(ae%2===0&&-je<=Be&&Be<=je&&s[we]<=i[we+ae])return y(s[we],Be+F-L,$,Q)}}},O=[];return g(0,e.length,0,r.length,O),O},u4=function(e){return Yn(e)?e.outerHTML:on(e)?ss.encodeRaw(e.data,!1):Bf(e)?"<!--"+e.data+"-->":""},HP=function(e){var r,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);r=a.firstChild;)i.appendChild(r);return i},VP=function(e,r,a){var i=HP(r);if(e.hasChildNodes()&&a<e.childNodes.length){var s=e.childNodes[a];s.parentNode.insertBefore(i,s)}else e.appendChild(i)},UP=function(e,r){if(e.hasChildNodes()&&r<e.childNodes.length){var a=e.childNodes[r];a.parentNode.removeChild(a)}},jP=function(e,r){var a=0;At(e,function(i){i[0]===gT?a++:i[0]===pT?(VP(r,i[1],a),a++):i[0]===i4&&UP(r,a)})},WP=function(e,r){return Fe(Zr(sr(e.childNodes),xn(_c,u4)),function(a){return a.length>0})},qP=function(e,r){var a=Zr(sr(r.childNodes),u4);return jP(LP(a,e),r),r},GP=Qo(function(){return document.implementation.createHTMLDocument("undo")}),hT=function(e){return e.querySelector("iframe")!==null},c4=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},KP=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},r1=function(e){var r=e.serializer.getTempAttrs(),a=Zv(e.getBody(),r);return hT(a)?c4(WP(a)):KP(_c(a.innerHTML))},IC=function(e,r,a){var i=a?r.beforeBookmark:r.bookmark;r.type==="fragmented"?qP(r.fragments,e.getBody()):e.setContent(r.content,{format:"raw",no_selection:zr(i)&&e2(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},_h=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},n1=function(e){var r=S.fromTag("body",GP());return cc(r,_h(e)),At(yu(r,"*[data-mce-bogus]"),Af),uc(r)},s4=function(e,r){return _h(e)===_h(r)},XP=function(e,r){return n1(e)===n1(r)},$C=function(e,r){return!e||!r?!1:s4(e,r)?!0:XP(e,r)},yT=function(e){return e.get()===0},LC=function(e,r,a){yT(a)&&(e.typing=r)},l4=function(e,r){e.typing&&(LC(e,!1,r),e.add())},YP=function(e){e.typing&&(e.typing=!1,e.add())},ZP=function(e,r,a){yT(r)&&a.set(A_(e.selection))},f4=function(e,r,a,i,s,f,g){var y=r1(e);if(f=f||{},f=wt.extend(f,y),yT(i)===!1||e.removed)return null;var k=r.data[a.get()];if(e.fire("BeforeAddUndo",{level:f,lastLevel:k,originalEvent:g}).isDefaultPrevented()||k&&$C(k,f))return null;r.data[a.get()]&&s.get().each(function(L){r.data[a.get()].beforeBookmark=L});var O=$p(e);if(O&&r.data.length>O){for(var F=0;F<r.data.length-1;F++)r.data[F]=r.data[F+1];r.data.length--,a.set(r.data.length)}f.bookmark=A_(e.selection),a.get()<r.data.length-1&&(r.data.length=a.get()+1),r.data.push(f),a.set(r.data.length-1);var $={level:f,lastLevel:k,originalEvent:g};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",$),e.fire("change",$)):e.fire("AddUndo",$),f},JP=function(e,r,a){r.data=[],a.set(0),r.typing=!1,e.fire("ClearUndos")},lk=function(e,r,a,i,s){if(r.transact(i)){var f=r.data[a.get()].bookmark,g=r.data[a.get()-1];IC(e,g,!0),r.transact(s)&&(r.data[a.get()-1].beforeBookmark=f)}},QP=function(e,r,a){var i;return r.get()<a.length-1&&(r.set(r.get()+1),i=a[r.get()],IC(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},eB=function(e,r,a,i){var s;return r.typing&&(r.add(),r.typing=!1,LC(r,!1,a)),i.get()>0&&(i.set(i.get()-1),s=r.data[i.get()],IC(e,s,!0),e.setDirty(!0),e.fire("Undo",{level:s})),s},tB=function(e){e.clear(),e.add()},rB=function(e,r,a){return a.get()>0||r.typing&&r.data[0]&&!$C(r1(e),r.data[0])},d4=function(e,r){return r.get()<e.data.length-1&&!e.typing},v4=function(e,r,a){return l4(e,r),e.beforeChange(),e.ignore(a),e.add()},m4=function(e,r){try{e.set(e.get()+1),r()}finally{e.set(e.get()-1)}},g4=function(e,r){var a=e.dom,i=zr(r)?r:e.getBody();Me(e.hasVisual)&&(e.hasVisual=H_(e)),At(a.select("table,a",i),function(s){switch(s.nodeName){case"TABLE":var f=yx(e),g=a.getAttrib(s,"border");(!g||g==="0")&&e.hasVisual?a.addClass(s,f):a.removeClass(s,f);break;case"A":if(!a.getAttrib(s,"href")){var y=a.getAttrib(s,"name")||s.id,k=U0(e);y&&e.hasVisual?a.addClass(s,k):a.removeClass(s,k)}break}}),e.fire("VisualAid",{element:r,hasVisual:e.hasVisual})},HC=function(e){return{undoManager:{beforeChange:function(r,a){return ZP(e,r,a)},add:function(r,a,i,s,f,g){return f4(e,r,a,i,s,f,g)},undo:function(r,a,i){return eB(e,r,a,i)},redo:function(r,a){return QP(e,r,a)},clear:function(r,a){return JP(e,r,a)},reset:function(r){return tB(r)},hasUndo:function(r,a){return rB(e,r,a)},hasRedo:function(r,a){return d4(r,a)},transact:function(r,a,i){return v4(r,a,i)},ignore:function(r,a){return m4(r,a)},extra:function(r,a,i,s){return lk(e,r,a,i,s)}},formatter:{match:function(r,a,i,s){return zC(e,r,a,i,s)},matchAll:function(r,a){return X8(e,r,a)},matchNode:function(r,a,i,s){return tv(e,r,a,i,s)},canApply:function(r){return EE(e,r)},closest:function(r){return Y8(e,r)},apply:function(r,a,i){return ck(e,r,a,i)},remove:function(r,a,i,s){return XE(e,r,a,i,s)},toggle:function(r,a,i){return CP(e,r,a,i)},formatChanged:function(r,a,i,s,f){return QE(e,r,a,i,s,f)}},editor:{getContent:function(r,a){return Xw(e,r,a)},setContent:function(r,a){return eP(e,r,a)},insertContent:function(r,a){return H8(e,r,a)},addVisual:function(r){return g4(e,r)}},selection:{getContent:function(r,a){return $P(e,r,a)}},raw:{getModel:function(){return Z.none()}}}},p4=function(e){var r=function(y){return rt(y)?y:{}},a=e.undoManager,i=e.formatter,s=e.editor,f=e.selection,g=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(y,k,O){return a.transact(O)},ignore:function(y,k){return a.ignore(k)},extra:function(y,k,O,F){return a.extra(O,F)}},formatter:{match:function(y,k,O,F){return i.match(y,r(k),F)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(y){return i.canApply(y)},closest:function(y){return i.closest(y)},apply:function(y,k,O){return i.apply(y,r(k))},remove:function(y,k,O,F){return i.remove(y,r(k))},toggle:function(y,k,O){return i.toggle(y,r(k))},formatChanged:function(y,k,O,F,$){return i.formatChanged(k,O,F,$)}},editor:{getContent:function(y,k){return s.getContent(y)},setContent:function(y,k){return s.setContent(y,k)},insertContent:function(y,k){return s.insertContent(y)},addVisual:s.addVisual},selection:{getContent:function(y,k){return f.getContent(k)}},raw:{getModel:function(){return Z.some(g.getRawModel())}}}},nB=function(){var e=V(null),r=V("");return{undoManager:{beforeChange:dt,add:e,undo:e,redo:e,clear:dt,reset:dt,hasUndo:Ve,hasRedo:Ve,transact:e,ignore:dt,extra:dt},formatter:{match:Ve,matchAll:V([]),matchNode:V(void 0),canApply:Ve,closest:r,apply:dt,remove:dt,toggle:dt,formatChanged:V({unbind:dt})},editor:{getContent:r,setContent:r,insertContent:dt,addVisual:dt},selection:{getContent:r},raw:{getModel:V(Z.none())}}},om=function(e){return Fr(e.plugins,"rtc")},aB=function(e){return cr(e.plugins,"rtc").bind(function(r){return Z.from(r.setup)})},oB=function(e){var r=e;return aB(e).fold(function(){return r.rtcInstance=HC(e),Z.none()},function(a){return r.rtcInstance=nB(),Z.some(function(){return a().then(function(i){return r.rtcInstance=p4(i),i.rtc.isRemote})})})},bT=function(e){return e.rtcInstance?e.rtcInstance:HC(e)},Ki=function(e){var r=e.rtcInstance;if(r)return r;throw new Error("Failed to get RTC instance not yet initialized.")},wT=function(e,r,a){Ki(e).undoManager.beforeChange(r,a)},h4=function(e,r,a,i,s,f,g){return Ki(e).undoManager.add(r,a,i,s,f,g)},VC=function(e,r,a,i){return Ki(e).undoManager.undo(r,a,i)},ul=function(e,r,a){return Ki(e).undoManager.redo(r,a)},fk=function(e,r,a){Ki(e).undoManager.clear(r,a)},Ch=function(e,r){Ki(e).undoManager.reset(r)},iB=function(e,r,a){return Ki(e).undoManager.hasUndo(r,a)},y4=function(e,r,a){return Ki(e).undoManager.hasRedo(r,a)},b4=function(e,r,a,i){return Ki(e).undoManager.transact(r,a,i)},uB=function(e,r,a){Ki(e).undoManager.ignore(r,a)},cB=function(e,r,a,i,s){Ki(e).undoManager.extra(r,a,i,s)},sB=function(e,r,a,i,s){return Ki(e).formatter.match(r,a,i,s)},w4=function(e,r,a){return Ki(e).formatter.matchAll(r,a)},UC=function(e,r,a,i,s){return Ki(e).formatter.matchNode(r,a,i,s)},k4=function(e,r){return Ki(e).formatter.canApply(r)},_4=function(e,r){return Ki(e).formatter.closest(r)},jC=function(e,r,a,i){Ki(e).formatter.apply(r,a,i)},lB=function(e,r,a,i,s){Ki(e).formatter.remove(r,a,i,s)},fB=function(e,r,a,i){Ki(e).formatter.toggle(r,a,i)},dB=function(e,r,a,i,s,f){return Ki(e).formatter.formatChanged(r,a,i,s,f)},vB=function(e,r,a){return bT(e).editor.getContent(r,a)},mB=function(e,r,a){return bT(e).editor.setContent(r,a)},gB=function(e,r,a){return bT(e).editor.insertContent(r,a)},pB=function(e,r,a){return Ki(e).selection.getContent(r,a)},hB=function(e,r){return Ki(e).editor.addVisual(r)},yB=function(e,r){r===void 0&&(r={});var a=r.format?r.format:"html";return pB(e,a,r)},C4=function(e){return e.dom.length===0?(ri(e),Z.none()):Z.some(e)},bB=function(e,r){return e.filter(function(a){return qd.isBookmarkNode(a.dom)}).bind(r?rs:xf)},wB=function(e,r,a,i){var s=e.dom,f=r.dom,g=i?s.length:f.length;i?(jb(s,f,!1,!i),a.setStart(f,g)):(jb(f,s,!1,!i),a.setEnd(f,g))},kT=function(e,r){ti(e).each(function(a){var i=e.dom;r&&mf(a,pt(i,0))?Dg(i,0):!r&&dh(a,pt(i,i.length))&&Oa(i,i.length)})},S4=function(e,r,a,i){e.bind(function(s){var f=i?Oa:Dg;return f(s.dom,i?s.dom.length:0),r.filter(Go).map(function(g){return wB(s,g,a,i)})}).orThunk(function(){var s=bB(r,i).or(r).filter(Go);return s.map(function(f){return kT(f,i)})})},a1=function(e,r){var a=Z.from(r.firstChild).map(S.fromDom),i=Z.from(r.lastChild).map(S.fromDom);e.deleteContents(),e.insertNode(r);var s=a.bind(xf).filter(Go).bind(C4),f=i.bind(rs).filter(Go).bind(C4);S4(s,a,e,!0),S4(f,i,e,!1),e.collapse(!1)},x4=function(e,r){return fn(fn({format:"html"},e),{set:!0,selection:!0,content:r})},Xi=function(e,r){if(r.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),s=i?{context:i.nodeName.toLowerCase()}:{},f=e.parser.parse(r.content,fn(fn({isRootContent:!0,forced_root_block:!1},s),r));return Jv({validate:e.validate},e.schema).serialize(f)}else return r.content},kB=function(e,r,a){a===void 0&&(a={});var i=x4(a,r),s=i;if(!i.no_events){var f=e.fire("BeforeSetContent",i);if(f.isDefaultPrevented()){e.fire("SetContent",f);return}else s=f}s.content=Xi(e,s);var g=e.selection.getRng();a1(g,g.createContextualFragment(s.content)),e.selection.setRng(g),Zp(e,g),s.no_events||e.fire("SetContent",s)},T4=function(e,r,a){if(e&&Fr(e,r)){var i=Fe(e[r],function(s){return s!==a});i.length===0?delete e[r]:e[r]=i}};function _B(e,r){var a,i,s=function(g,y){return ut(y,function(k){return e.is(k,g)})},f=function(g){return e.getParents(g,null,e.getRoot())};return{selectorChangedWithUnbind:function(g,y){return a||(a={},i={},r.on("NodeChange",function(k){var O=k.element,F=f(O),$={};wt.each(a,function(L,Q){s(Q,F).each(function(te){i[Q]||(At(L,function(ne){ne(!0,{node:te,selector:Q,parents:F})}),i[Q]=L),$[Q]=L})}),wt.each(i,function(L,Q){$[Q]||(delete i[Q],wt.each(L,function(te){te(!1,{node:O,selector:Q,parents:F})}))})})),a[g]||(a[g]=[]),a[g].push(y),s(g,f(r.selection.getStart())).each(function(){i[g]=a[g]}),{unbind:function(){T4(a,g,y),T4(i,g,y)}}}}}var z4=function(e){return!!e.select},Ml=function(e){return!!(e&&e.ownerDocument)&&to(S.fromDom(e.ownerDocument),S.fromDom(e))},WC=function(e){return e?z4(e)?!0:Ml(e.startContainer)&&Ml(e.endContainer):!1},o1=function(e,r,a,i){var s,f,g=_B(e,i).selectorChangedWithUnbind,y=function(tr,rn){var Ca=e.createRng();zr(tr)&&zr(rn)?(Ca.setStart(tr,rn),Ca.setEnd(tr,rn),je(Ca),ae(!1)):(jd(e,Ca,i.getBody(),!0),je(Ca))},k=function(tr){return yB(i,tr)},O=function(tr,rn){return kB(i,tr,rn)},F=function(tr){return Yv(i.getBody(),ge(),tr)},$=function(tr){return Tg(i.getBody(),ge(),tr)},L=function(tr,rn){return Hr.getBookmark(tr,rn)},Q=function(tr){return Hr.moveToBookmark(tr)},te=function(tr,rn){return f8(e,tr,rn).each(je),tr},ne=function(){var tr=ge(),rn=pe();return!tr||tr.item?!1:tr.compareEndPoints?tr.compareEndPoints("StartToEnd",tr)===0:!rn||tr.collapsed},ae=function(tr){var rn=ge();rn.collapse(!!tr),je(rn)},pe=function(){return r.getSelection?r.getSelection():r.document.selection},ge=function(){var tr,rn,Ca,Qa=function(ii,Dc,Hs){try{return Dc.compareBoundaryPoints(ii,Hs)}catch{return-1}},Ya=r.document;if(i.bookmark!==void 0&&Bs(i)===!1){var xu=Cg(i);if(xu.isSome())return xu.map(function(ii){return Rb(i,[ii])[0]}).getOr(Ya.createRange())}try{(tr=pe())&&!Vl(tr.anchorNode)&&(tr.rangeCount>0?rn=tr.getRangeAt(0):rn=tr.createRange?tr.createRange():Ya.createRange(),rn=Rb(i,[rn])[0])}catch{}return rn||(rn=Ya.createRange?Ya.createRange():Ya.body.createTextRange()),rn.setStart&&rn.startContainer.nodeType===9&&rn.collapsed&&(Ca=e.getRoot(),rn.setStart(Ca,0),rn.setEnd(Ca,0)),s&&f&&(Qa(rn.START_TO_START,rn,s)===0&&Qa(rn.END_TO_END,rn,s)===0?rn=f:(s=null,f=null)),rn},je=function(tr,rn){var Ca;if(WC(tr)){var Qa=z4(tr)?tr:null;if(Qa){f=null;try{Qa.select()}catch{}return}var Ya=pe(),xu=i.fire("SetSelectionRange",{range:tr,forward:rn});if(tr=xu.range,Ya){f=tr;try{Ya.removeAllRanges(),Ya.addRange(tr)}catch{}rn===!1&&Ya.extend&&(Ya.collapse(tr.endContainer,tr.endOffset),Ya.extend(tr.startContainer,tr.startOffset)),s=Ya.rangeCount>0?Ya.getRangeAt(0):null}!tr.collapsed&&tr.startContainer===tr.endContainer&&Ya.setBaseAndExtent&&!dr.ie&&tr.endOffset-tr.startOffset<2&&tr.startContainer.hasChildNodes()&&(Ca=tr.startContainer.childNodes[tr.startOffset],Ca&&Ca.tagName==="IMG"&&(Ya.setBaseAndExtent(tr.startContainer,tr.startOffset,tr.endContainer,tr.endOffset),(Ya.anchorNode!==tr.startContainer||Ya.focusNode!==tr.endContainer)&&Ya.setBaseAndExtent(Ca,0,Ca,1))),i.fire("AfterSetSelectionRange",{range:tr,forward:rn})}},Be=function(tr){return O(e.getOuterHTML(tr)),tr},we=function(){return G2(i.getBody(),ge())},Ge=function(tr,rn){return Db(e,ge(),tr,rn)},It=function(){var tr=pe(),rn=tr==null?void 0:tr.anchorNode,Ca=tr==null?void 0:tr.focusNode;if(!tr||!rn||!Ca||Vl(rn)||Vl(Ca))return!0;var Qa=e.createRng();Qa.setStart(rn,tr.anchorOffset),Qa.collapse(!0);var Ya=e.createRng();return Ya.setStart(Ca,tr.focusOffset),Ya.collapse(!0),Qa.compareBoundaryPoints(Qa.START_TO_START,Ya)<=0},ur=function(){var tr=ge(),rn=pe();if(!gw(rn)&&Wd(i)){var Ca=kb(e,tr);return Ca.each(function(Qa){je(Qa,It())}),Ca.getOr(tr)}return tr},Vn=function(tr,rn){return g(tr,rn),wr},Qr=function(){for(var tr,rn=e.getRoot();rn&&rn.nodeName!=="BODY";){if(rn.scrollHeight>rn.clientHeight){tr=rn;break}rn=rn.parentNode}return tr},jt=function(tr,rn){zr(tr)?a8(i,tr,rn):Zp(i,ge(),rn)},En=function(tr,rn){return je(Tw(tr,rn,i.getDoc()))},hr=function(){var tr=ge();return tr.collapsed?pt.fromRangeStart(tr).getClientRects()[0]:tr.getBoundingClientRect()},Yr=function(){r=s=f=null,sn.destroy()},wr={bookmarkManager:null,controlSelection:null,dom:e,win:r,serializer:a,editor:i,collapse:ae,setCursorLocation:y,getContent:k,setContent:O,getBookmark:L,moveToBookmark:Q,select:te,isCollapsed:ne,isForward:It,setNode:Be,getNode:we,getSel:pe,setRng:je,getRng:ge,getStart:F,getEnd:$,getSelectedBlocks:Ge,normalize:ur,selectorChanged:Vn,selectorChangedWithUnbind:g,getScrollContainer:Qr,scrollIntoView:jt,placeCaretAt:En,getBoundingClientRect:hr,destroy:Yr},Hr=qd(wr),sn=Sw(wr,i);return wr.bookmarkManager=Hr,wr.controlSelection=sn,wr},dk=function(e,r){At(r,function(a){e.attr(a,null)})},_T=function(e,r,a){e.addNodeFilter("font",function(i){At(i,function(s){var f=r.parse(s.attr("style")),g=s.attr("color"),y=s.attr("face"),k=s.attr("size");g&&(f.color=g),y&&(f["font-family"]=y),k&&(f["font-size"]=a[parseInt(s.attr("size"),10)-1]),s.name="span",s.attr("style",r.serialize(f)),dk(s,["color","face","size"])})})},CB=function(e,r){e.addNodeFilter("strike",function(a){At(a,function(i){var s=r.parse(i.attr("style"));s["text-decoration"]="line-through",i.name="span",i.attr("style",r.serialize(s))})})},SB=function(e,r){var a=Qs();r.convert_fonts_to_spans&&_T(e,a,wt.explode(r.font_size_legacy_values)),CB(e,a)},i1=function(e,r){r.inline_styles&&SB(e,r)},u1=function(e){return new eu(function(r,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="blob",s.onload=function(){s.status===200?r(s.response):i()},s.onerror=i,s.send()}catch{i()}})},Mg=function(e){var r,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(r=i[1]),{type:r,data:a[1]}},qC=function(e,r){var a;try{a=atob(r)}catch{return Z.none()}for(var i=new Uint8Array(a.length),s=0;s<i.length;s++)i[s]=a.charCodeAt(s);return Z.some(new Blob([i],{type:e}))},xB=function(e){return new eu(function(r){var a=Mg(e),i=a.type,s=a.data;qC(i,s).fold(function(){return r(new Blob([]))},r)})},GC=function(e){return e.indexOf("blob:")===0?u1(e):e.indexOf("data:")===0?xB(e):null},E4=function(e){return new eu(function(r){var a=new FileReader;a.onloadend=function(){r(a.result)},a.readAsDataURL(e)})},A4=0,CT=function(e){return"blobid"+A4++},TB=function(e,r,a,i){var s,f;if(r.src.indexOf("blob:")===0){f=e.getByUri(r.src),f?a({image:r,blobInfo:f}):GC(r.src).then(function(O){E4(O).then(function(F){s=Mg(F).data,f=e.create(CT(),O,s),e.add(f),a({image:r,blobInfo:f})})},function(O){i(O)});return}var g=Mg(r.src),y=g.data,k=g.type;s=y,f=e.getByData(s,k),f?a({image:r,blobInfo:f}):GC(r.src).then(function(O){f=e.create(CT(),O,s),e.add(f),a({image:r,blobInfo:f})},function(O){i(O)})},O4=function(e){return e?sr(e.getElementsByTagName("img")):[]},zB=function(e,r){var a={},i=function(s,f){f||(f=Ft);var g=Fe(O4(s),function(k){var O=k.src;return!dr.fileApi||k.hasAttribute("data-mce-bogus")||k.hasAttribute("data-mce-placeholder")||!O||O===dr.transparentSrc?!1:O.indexOf("blob:")===0?!e.isUploaded(O)&&f(k):O.indexOf("data:")===0?f(k):!1}),y=Zr(g,function(k){if(a[k.src]!==void 0)return new eu(function(F){a[k.src].then(function($){if(typeof $=="string")return $;F({image:k,blobInfo:$.blobInfo})})});var O=new eu(function(F,$){TB(r,k,F,$)}).then(function(F){return delete a[F.image.src],F}).catch(function(F){return delete a[k.src],F});return a[k.src]=O,O});return eu.all(y)};return{findAll:i}},EB=function(e){for(var r=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},s=__("img"),f,g=0,y=0;f=r.exec(e);){var k=f[0],O=s+"_"+y++;i[O]=k,g<f.index&&a.push(e.substr(g,f.index-g)),a.push(O),g=f.index+k.length}var F=new RegExp(s+"_[0-9]+","g");return g===0?{prefix:s,uris:i,html:e,re:F}:(g<e.length&&a.push(e.substr(g)),{prefix:s,uris:i,html:a.join(""),re:F})},ST=function(e,r){return e.replace(r.re,function(a){return cr(r.uris,a).getOr(a)})},AB=function(e){var r=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return r?Z.some({type:r[1],data:decodeURIComponent(r[2])}):Z.none()},xT=function(e,r,a,i){var s=e.padd_empty_with_br||r.insert;s&&a[i.name]?i.empty().append(new Ms("br",1)).shortEnded=!0:i.empty().append(new Ms("#text",3)).value=Vc},D4=function(e){return R4(e,"#text")&&e.firstChild.value===Vc},R4=function(e,r){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===r},vk=function(e,r){var a=e.getElementRule(r.name);return a&&a.paddEmpty},c1=function(e,r,a,i){return i.isEmpty(r,a,function(s){return vk(e,s)})},OB=function(e,r){return e&&(Fr(r,e.name)||e.name==="br")},P4=function(e){return zr(e.attr("data-mce-bogus"))},DB=function(e){return e.attr("src")===dr.transparentSrc||zr(e.attr("data-mce-placeholder"))},B4=function(e,r){if(r.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),lr(e.attributes.map,function(i,s){a.setAttribute(s,i)}),r.images_dataimg_filter(a)}else return!0},RB=function(e,r){var a=r.blob_cache,i=function(s){var f=s.attr("src");DB(s)||P4(s)||AB(f).filter(function(){return B4(s,r)}).bind(function(g){var y=g.type,k=g.data;return Z.from(a.getByData(k,y)).orThunk(function(){return qC(y,k).map(function(O){var F=a.create(CT(),O,k);return a.add(F),F})})}).each(function(g){s.attr("src",g.blobUri())})};a&&e.addAttributeFilter("src",function(s){return At(s,i)})},PB=function(e,r){var a=e.schema;r.remove_trailing_brs&&e.addNodeFilter("br",function(i,s,f){var g,y=i.length,k,O=wt.extend({},a.getBlockElements()),F=a.getNonEmptyElements(),$,L,Q,te,ne=a.getWhiteSpaceElements(),ae,pe;for(O.body=1,g=0;g<y;g++)if(k=i[g],$=k.parent,O[k.parent.name]&&k===$.lastChild){for(Q=k.prev;Q;){if(te=Q.name,te!=="span"||Q.attr("data-mce-type")!=="bookmark"){te==="br"&&(k=null);break}Q=Q.prev}k&&(k.remove(),c1(a,F,ne,$)&&(ae=a.getElementRule($.name),ae&&(ae.removeEmpty?$.remove():ae.paddEmpty&&xT(r,f,O,$))))}else{for(L=k;$&&$.firstChild===L&&$.lastChild===L&&(L=$,!O[$.name]);)$=$.parent;L===$&&r.padd_empty_with_br!==!0&&(pe=new Ms("#text",3),pe.value=Vc,k.replace(pe))}}),e.addAttributeFilter("href",function(i){var s=i.length,f=function(k){var O=k.split(" ").filter(function(F){return F.length>0});return O.concat(["noopener"]).sort().join(" ")},g=function(k){var O=k?wt.trim(k):"";return/\b(noopener)\b/g.test(O)?O:f(O)};if(!r.allow_unsafe_link_target)for(;s--;){var y=i[s];y.name==="a"&&y.attr("target")==="_blank"&&y.attr("rel",g(y.attr("rel")))}}),r.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var s=i.length,f,g,y,k;s--;)if(k=i[s],k.name==="a"&&k.firstChild&&!k.attr("href")){y=k.parent,f=k.lastChild;do g=f.prev,y.insert(f,k),f=g;while(f)}}),r.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var s=i.length,f,g;s--;)if(f=i[s],g=f.parent,g.name==="ul"||g.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var y=new Ms("li",1);y.attr("style","list-style-type: none"),f.wrap(y)}}),r.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var s=a.getValidClasses(),f=i.length;f--;){for(var g=i[f],y=g.attr("class").split(" "),k="",O=0;O<y.length;O++){var F=y[O],$=!1,L=s["*"];L&&L[F]&&($=!0),L=s[g.name],!$&&L&&L[F]&&($=!0),$&&(k&&(k+=" "),k+=F)}k.length||(k=null),g.attr("class",k)}}),RB(e,r)},TT=wt.each,M4=wt.trim,N4="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),F4={ftp:21,http:80,https:443,mailto:25},I4=["img","video"],BB=function(e,r){return zr(e)?!e:zr(r)?!Zt(I4,r):!0},MB=function(e,r,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(r)?BB(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(r):/^data:/i.test(r)},Ng=function(){function e(r,a){r=M4(r),this.settings=a||{};var i=this.settings.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(r)||/^\s*#/.test(r)){s.source=r;return}var f=r.indexOf("//")===0;if(r.indexOf("/")===0&&!f&&(r=(i&&i.protocol||"http")+"://mce_host"+r),!/^[\w\-]*:?\/\//.test(r)){var g=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")r="//mce_host"+s.toAbsPath(g,r);else{var y=/([^#?]*)([#?]?.*)/.exec(r);r=(i&&i.protocol||"http")+"://mce_host"+s.toAbsPath(g,y[1])+y[2]}}r=r.replace(/@@/g,"(mce_at)");var k=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(r);TT(N4,function(O,F){var $=k[F];$&&($=$.replace(/\(mce_at\)/g,"@@")),s[O]=$}),i&&(s.protocol||(s.protocol=i.protocol),s.userInfo||(s.userInfo=i.userInfo),!s.port&&s.host==="mce_host"&&(s.port=i.port),(!s.host||s.host==="mce_host")&&(s.host=i.host),s.source=""),f&&(s.protocol="")}return e.parseDataUri=function(r){var a,i=decodeURIComponent(r).split(","),s=/data:([^;]+)/.exec(i[0]);return s&&(a=s[1]),{type:a,data:i[1]}},e.isDomSafe=function(r,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var s=ss.decode(r).replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch{s=unescape(s)}return/((java|vb)script|mhtml):/i.test(s)?!1:!MB(i,s,a)},e.getDocumentBaseUrl=function(r){var a;return r.protocol.indexOf("http")!==0&&r.protocol!=="file:"?a=r.href:a=r.protocol+"//"+r.host+r.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(r){var a=/^(.*?)\/?(\w+)?$/.exec(r);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(r){var a;if(r==="./")return r;var i=new e(r,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var s=this.getURI(),f=i.getURI();return s===f||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===f?s:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(r,a){var i=new e(r,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(r){if(this.host==r.host&&this.protocol==r.protocol){if(this.port==r.port)return!0;var a=F4[this.protocol];if(a&&(this.port||a)==(r.port||a))return!0}return!1},e.prototype.toRelPath=function(r,a){var i=0,s="",f,g,y=r.substring(0,r.lastIndexOf("/")).split("/"),k=a.split("/");if(y.length>=k.length){for(f=0,g=y.length;f<g;f++)if(f>=k.length||y[f]!==k[f]){i=f+1;break}}if(y.length<k.length){for(f=0,g=k.length;f<g;f++)if(f>=y.length||y[f]!==k[f]){i=f+1;break}}if(i===1)return a;for(f=0,g=y.length-(i-1);f<g;f++)s+="../";for(f=i-1,g=k.length;f<g;f++)f!==i-1?s+="/"+k[f]:s+=k[f];return s},e.prototype.toAbsPath=function(r,a){var i,s=0,f=[],g,y=/\/$/.test(a)?"/":"",k=r.split("/"),O=a.split("/");for(TT(k,function(F){F&&f.push(F)}),k=f,i=O.length-1,f=[];i>=0;i--)if(!(O[i].length===0||O[i]===".")){if(O[i]===".."){s++;continue}if(s>0){s--;continue}f.push(O[i])}return i=k.length-s,i<=0?g=Vt(f).join("/"):g=k.slice(0,i).join("/")+"/"+Vt(f).join("/"),g.indexOf("/")!==0&&(g="/"+g),y&&g.lastIndexOf("/")!==g.length-1&&(g+=y),g},e.prototype.getURI=function(r){r===void 0&&(r=!1);var a;return(!this.source||r)&&(a="",r||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),NB=wt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),zT=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},mk=Qo(function(){return document.implementation.createHTMLDocument("parser")}),KC=function(e,r,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,f=e.getShortEndedElements(),g=1,y=a;g!==0;)for(i.lastIndex=y;;){var k=i.exec(r);if(k===null)return y;if(k[1]==="!"){N(k[2],"--")?y=s1(r,!1,k.index+3):y=s1(r,!0,k.index+1);break}else{s.lastIndex=i.lastIndex;var O=s.exec(r);if(se(O)||O.index!==i.lastIndex)continue;k[1]==="/"?g-=1:Fr(f,k[2])||(g+=1),y=i.lastIndex+O[0].length;break}}return y},$4=function(e,r){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(r))},s1=function(e,r,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&$4(i,a)){var s=i.indexOf("[endif]",a);return i.indexOf(">",s)}else if(r){var f=i.indexOf(">",a);return f!==-1?f:i.length}else{var g=/--!?>/g;g.lastIndex=a;var y=g.exec(e);return y?y.index+y[0].length:i.length}},FB=function(e,r){var a=e.exec(r);if(a){var i=a[1],s=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?s:null}else return null},ET=function(e,r){r===void 0&&(r=ls()),e=e||{};var a=mk(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var s=e.comment?e.comment:dt,f=e.cdata?e.cdata:dt,g=e.text?e.text:dt,y=e.start?e.start:dt,k=e.end?e.end:dt,O=e.pi?e.pi:dt,F=e.doctype?e.doctype:dt,$=function(Q,te){te===void 0&&(te="html");for(var ne=Q.html,ae,pe=0,ge,je,Be=[],we,Ge,It,ur,Vn,Qr,jt,En,hr,Yr,wr,Hr,sn,tr,rn,Ca,Qa,Ya=0,xu=ss.decode,ii=wt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),Dc=te==="html"?0:1,Hs=function(eo){var $o,uu;for($o=Be.length;$o--&&Be[$o].name!==eo;);if($o>=0){for(uu=Be.length-1;uu>=$o;uu--)eo=Be[uu],eo.valid&&k(eo.name);Be.length=$o}},rr=function(eo,$o){return g(ST(eo,Q),$o)},Dr=function(eo){eo!==""&&(eo.charAt(0)===">"&&(eo=" "+eo),!e.allow_conditional_comments&&eo.substr(0,3).toLowerCase()==="[if"&&(eo=" "+eo),s(ST(eo,Q)))},An=function(eo){return ST(eo,Q)},Qe=function(eo,$o){var uu=eo||"",sd=!N(uu,"--"),ld=s1(ne,sd,$o);return eo=ne.substr($o,ld-$o),Dr(sd?uu+eo:eo),ld+1},fr=function(eo,$o,uu,sd,ld){if($o=$o.toLowerCase(),uu=An($o in iu?$o:xu(uu||sd||ld||"")),Yi&&!Vn&&zT($o)===!1){var fd=wr[$o];if(!fd&&Hr){for(var Jg=Hr.length;Jg--&&(fd=Hr[Jg],!fd.pattern.test($o)););Jg===-1&&(fd=null)}if(!fd||fd.validValues&&!(uu in fd.validValues))return}var mE=$o==="name"||$o==="id";mE&&eo in NB&&(uu in a||uu in i)||ii[$o]&&!Ng.isDomSafe(uu,eo,e)||Vn&&($o in ii||$o.indexOf("on")===0)||(we.map[$o]=uu,we.push({name:$o,value:uu}))},ar=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Pn=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Hn=r.getShortEndedElements(),Co=e.self_closing_elements||r.getSelfClosingElements(),iu=r.getBoolAttrs(),Yi=e.validate,mc=e.remove_internals,gc=e.fix_self_closing,Zc=r.getSpecialElements(),Zi=ne+">";ae=ar.exec(Zi);){var fl=ae[0];if(pe<ae.index&&rr(xu(ne.substr(pe,ae.index-pe))),ge=ae[7])ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),Hs(ge);else if(ge=ae[8]){if(ae.index+fl.length>ne.length){rr(xu(ne.substr(ae.index))),pe=ae.index+fl.length;continue}ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),Qr=ge in Hn,gc&&Co[ge]&&Be.length>0&&Be[Be.length-1].name===ge&&Hs(ge);var Jc=FB(Pn,ae[9]);if(Jc!==null){if(Jc==="all"){pe=KC(r,ne,ar.lastIndex),ar.lastIndex=pe;continue}En=!1}if(!Yi||(jt=r.getElementRule(ge))){if(En=!0,Yi&&(wr=jt.attributes,Hr=jt.attributePatterns),(Yr=ae[9])?(Vn=Yr.indexOf("data-mce-type")!==-1,Vn&&mc&&(En=!1),we=[],we.map={},Yr.replace(Pn,function(eo,$o,uu,sd,ld){return fr(ge,$o,uu,sd,ld),""})):(we=[],we.map={}),Yi&&!Vn){if(sn=jt.attributesRequired,tr=jt.attributesDefault,rn=jt.attributesForced,Ca=jt.removeEmptyAttrs,Ca&&!we.length&&(En=!1),rn)for(Ge=rn.length;Ge--;)hr=rn[Ge],ur=hr.name,Qa=hr.value,Qa==="{$uid}"&&(Qa="mce_"+Ya++),we.map[ur]=Qa,we.push({name:ur,value:Qa});if(tr)for(Ge=tr.length;Ge--;)hr=tr[Ge],ur=hr.name,ur in we.map||(Qa=hr.value,Qa==="{$uid}"&&(Qa="mce_"+Ya++),we.map[ur]=Qa,we.push({name:ur,value:Qa}));if(sn){for(Ge=sn.length;Ge--&&!(sn[Ge]in we.map););Ge===-1&&(En=!1)}if(hr=we.map["data-mce-bogus"]){if(hr==="all"){pe=KC(r,ne,ar.lastIndex),ar.lastIndex=pe;continue}En=!1}}En&&y(ge,we,Qr)}else En=!1;if(je=Zc[ge]){je.lastIndex=pe=ae.index+fl.length,(ae=je.exec(ne))?(En&&(It=ne.substr(pe,ae.index-pe)),pe=ae.index+ae[0].length):(It=ne.substr(pe),pe=ne.length),En&&(It.length>0&&rr(It,!0),k(ge)),ar.lastIndex=pe;continue}Qr||(!Yr||Yr.indexOf("/")!==Yr.length-1?Be.push({name:ge,valid:En}):En&&k(ge))}else if(ge=ae[1])Dr(ge);else if(ge=ae[2]){var ov=Dc===1||e.preserve_cdata||Be.length>0&&r.isValidChild(Be[Be.length-1].name,"#cdata");if(ov)f(ge);else{pe=Qe("",ae.index+2),ar.lastIndex=pe;continue}}else if(ge=ae[3])F(ge);else if((ge=ae[4])||fl==="<!"){pe=Qe(ge,ae.index+fl.length),ar.lastIndex=pe;continue}else if(ge=ae[5])if(Dc===1)O(ge,ae[6]);else{pe=Qe("?",ae.index+2),ar.lastIndex=pe;continue}pe=ae.index+fl.length}for(pe<ne.length&&rr(xu(ne.substr(pe))),Ge=Be.length-1;Ge>=0;Ge--)ge=Be[Ge],ge.valid&&k(ge.name)},L=function(Q,te){te===void 0&&(te="html"),$(EB(Q),te)};return{parse:L}};ET.findEndTag=KC;var im=wt.makeMap,XC=wt.each,AT=wt.explode,gk=wt.extend,YC=function(e,r){r===void 0&&(r=ls());var a={},i=[],s={},f={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var g=function(te){for(var ne=im("tr,td,th,tbody,thead,tfoot,table"),ae=r.getNonEmptyElements(),pe=r.getWhiteSpaceElements(),ge=r.getTextBlockElements(),je=r.getSpecialElements(),Be=function(Hr,sn){if(sn===void 0&&(sn=Hr.parent),je[Hr.name])Hr.empty().remove();else{for(var tr=Hr.children(),rn=0,Ca=tr;rn<Ca.length;rn++){var Qa=Ca[rn];r.isValidChild(sn.name,Qa.name)||Be(Qa,sn)}Hr.unwrap()}},we=0;we<te.length;we++){var Ge=te[we],It=void 0,ur=void 0,Vn=void 0;if(!(!Ge.parent||Ge.fixed)){if(ge[Ge.name]&&Ge.parent.name==="li"){for(var Qr=Ge.next;Qr&&ge[Qr.name];){Qr.name="li",Qr.fixed=!0,Ge.parent.insert(Qr,Ge.parent);Qr=Qr.next}Ge.unwrap();continue}var jt=[Ge];for(It=Ge.parent;It&&!r.isValidChild(It.name,Ge.name)&&!ne[It.name];It=It.parent)jt.push(It);if(It&&jt.length>1)if(r.isValidChild(It.name,Ge.name)){jt.reverse(),ur=y(jt[0].clone());for(var En=ur,hr=0;hr<jt.length-1;hr++){r.isValidChild(En.name,jt[hr].name)?(Vn=y(jt[hr].clone()),En.append(Vn)):Vn=En;for(var Yr=jt[hr].firstChild;Yr&&Yr!==jt[hr+1];){var wr=Yr.next;Vn.append(Yr),Yr=wr}En=Vn}c1(r,ae,pe,ur)?It.insert(Ge,jt[0],!0):(It.insert(ur,jt[0],!0),It.insert(Ge,ur)),It=jt[0],(c1(r,ae,pe,It)||R4(It,"br"))&&It.empty().remove()}else Be(Ge);else if(Ge.parent){if(Ge.name==="li"){var Qr=Ge.prev;if(Qr&&(Qr.name==="ul"||Qr.name==="ol")){Qr.append(Ge);continue}if(Qr=Ge.next,Qr&&(Qr.name==="ul"||Qr.name==="ol")){Qr.insert(Ge,Qr.firstChild,!0);continue}Ge.wrap(y(new Ms("ul",1)));continue}r.isValidChild(Ge.parent.name,"div")&&r.isValidChild("div",Ge.name)?Ge.wrap(y(new Ms("div",1))):Be(Ge)}}}},y=function(te){var ne=te.name;if(ne in a){var ae=s[ne];ae?ae.push(te):s[ne]=[te]}for(var pe=i.length;pe--;){var ge=i[pe].name;if(ge in te.attributes.map){var ae=f[ge];ae?ae.push(te):f[ge]=[te]}}return te},k=function(te,ne){XC(AT(te),function(ae){var pe=a[ae];pe||(a[ae]=pe=[]),pe.push(ne)})},O=function(){var te=[];for(var ne in a)Fr(a,ne)&&te.push({name:ne,callbacks:a[ne]});return te},F=function(te,ne){XC(AT(te),function(ae){var pe;for(pe=0;pe<i.length;pe++)if(i[pe].name===ae){i[pe].callbacks.push(ne);return}i.push({name:ae,callbacks:[ne]})})},$=function(){return[].concat(i)},L=function(te,ne){var ae,pe,ge,je,Be,we,Ge,It=[],ur,Vn=function(Qe){return Qe===!1?"":Qe===!0?"p":Qe};ne=ne||{},s={},f={};var Qr=gk(im("script,style,head,html,body,title,meta,param"),r.getBlockElements()),jt=ay(r),En=r.getNonEmptyElements(),hr=r.children,Yr=e.validate,wr="forced_root_block"in ne?ne.forced_root_block:e.forced_root_block,Hr=Vn(wr),sn=r.getWhiteSpaceElements(),tr=/^[ \t\r\n]+/,rn=/[ \t\r\n]+$/,Ca=/[ \t\r\n]+/g,Qa=/^[ \t\r\n]+$/,Ya=Fr(sn,ne.context)||Fr(sn,e.root_name),xu=function(){var Qe=An.firstChild,fr=null,ar=function(Hn){Hn&&(Qe=Hn.firstChild,Qe&&Qe.type===3&&(Qe.value=Qe.value.replace(tr,"")),Qe=Hn.lastChild,Qe&&Qe.type===3&&(Qe.value=Qe.value.replace(rn,"")))};if(r.isValidChild(An.name,Hr.toLowerCase())){for(;Qe;){var Pn=Qe.next;Qe.type===3||Qe.type===1&&Qe.name!=="p"&&!Qr[Qe.name]&&!Qe.attr("data-mce-type")?(fr||(fr=ii(Hr,1),fr.attr(e.forced_root_block_attrs),An.insert(fr,Qe)),fr.append(Qe)):(ar(fr),fr=null),Qe=Pn}ar(fr)}},ii=function(Qe,fr){var ar=new Ms(Qe,fr),Pn;return Qe in a&&(Pn=s[Qe],Pn?Pn.push(ar):s[Qe]=[ar]),ar},Dc=function(Qe){for(var fr=r.getBlockElements(),ar=Qe.prev;ar&&ar.type===3;){var Pn=ar.value.replace(rn,"");if(Pn.length>0){ar.value=Pn;return}var Hn=ar.next;if(Hn){if(Hn.type===3&&Hn.value.length){ar=ar.prev;continue}if(!fr[Hn.name]&&Hn.name!=="script"&&Hn.name!=="style"){ar=ar.prev;continue}}var Co=ar.prev;ar.remove(),ar=Co}},Hs=function(Qe){var fr={};for(var ar in Qe)ar!=="li"&&ar!=="p"&&(fr[ar]=Qe[ar]);return fr},rr=function(Qe){for(var fr=Qe;zr(fr);){if(fr.name in jt)return c1(r,En,sn,fr);fr=fr.parent}return!1},Dr=ET({validate:Yr,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:Hs(r.getSelfClosingElements()),cdata:function(Qe){ur.append(ii("#cdata",4)).value=Qe},text:function(Qe,fr){var ar;Ya||(Qe=Qe.replace(Ca," "),OB(ur.lastChild,Qr)&&(Qe=Qe.replace(tr,""))),Qe.length!==0&&(ar=ii("#text",3),ar.raw=!!fr,ur.append(ar).value=Qe)},comment:function(Qe){ur.append(ii("#comment",8)).value=Qe},pi:function(Qe,fr){ur.append(ii(Qe,7)).value=fr,Dc(ur)},doctype:function(Qe){var fr=ur.append(ii("#doctype",10));fr.value=Qe,Dc(ur)},start:function(Qe,fr,ar){var Pn=Yr?r.getElementRule(Qe):{};if(Pn){var Hn=ii(Pn.outputName||Qe,1);Hn.attributes=fr,Hn.shortEnded=ar,ur.append(Hn);var Co=hr[ur.name];Co&&hr[Hn.name]&&!Co[Hn.name]&&It.push(Hn);for(var iu=i.length;iu--;){var Yi=i[iu].name;Yi in fr.map&&(we=f[Yi],we?we.push(Hn):f[Yi]=[Hn])}Qr[Qe]&&Dc(Hn),ar||(ur=Hn),!Ya&&sn[Qe]&&(Ya=!0)}},end:function(Qe){var fr,ar,Pn,Hn=Yr?r.getElementRule(Qe):{};if(Hn){if(Qr[Qe]&&!Ya){if(fr=ur.firstChild,fr&&fr.type===3)if(ar=fr.value.replace(tr,""),ar.length>0)fr.value=ar,fr=fr.next;else for(Pn=fr.next,fr.remove(),fr=Pn;fr&&fr.type===3;)ar=fr.value,Pn=fr.next,(ar.length===0||Qa.test(ar))&&(fr.remove(),fr=Pn),fr=Pn;if(fr=ur.lastChild,fr&&fr.type===3)if(ar=fr.value.replace(rn,""),ar.length>0)fr.value=ar,fr=fr.prev;else for(Pn=fr.prev,fr.remove(),fr=Pn;fr&&fr.type===3;)ar=fr.value,Pn=fr.prev,(ar.length===0||Qa.test(ar))&&(fr.remove(),fr=Pn),fr=Pn}Ya&&sn[Qe]&&(Ya=!1);var Co=c1(r,En,sn,ur),iu=ur.parent;Hn.paddInEmptyBlock&&Co&&rr(ur)?xT(e,ne,Qr,ur):Hn.removeEmpty&&Co?Qr[ur.name]?ur.empty().remove():ur.unwrap():Hn.paddEmpty&&(D4(ur)||Co)&&xT(e,ne,Qr,ur),ur=iu}}},r),An=ur=new Ms(ne.context||e.root_name,11);if(Dr.parse(te,ne.format),Yr&&It.length&&(ne.context?ne.invalid=!0:g(It)),Hr&&(An.name==="body"||ne.isRootContent)&&xu(),!ne.invalid){for(Ge in s)if(Fr(s,Ge)){for(we=a[Ge],ae=s[Ge],je=ae.length;je--;)ae[je].parent||ae.splice(je,1);for(pe=0,ge=we.length;pe<ge;pe++)we[pe](ae,Ge,ne)}for(pe=0,ge=i.length;pe<ge;pe++)if(we=i[pe],we.name in f){for(ae=f[we.name],je=ae.length;je--;)ae[je].parent||ae.splice(je,1);for(je=0,Be=we.callbacks.length;je<Be;je++)we.callbacks[je](ae,we.name,ne)}}return An},Q={schema:r,addAttributeFilter:F,getAttributeFilters:$,addNodeFilter:k,getNodeFilters:O,filterNode:y,parse:L};return PB(Q,e),i1(Q,e),Q},L4=function(e,r,a){e.addAttributeFilter("data-mce-tabindex",function(i,s){for(var f=i.length;f--;){var g=i[f];g.attr("tabindex",g.attr("data-mce-tabindex")),g.attr(s,null)}}),e.addAttributeFilter("src,href,style",function(i,s){for(var f="data-mce-"+s,g=r.url_converter,y=r.url_converter_scope,k=i.length;k--;){var O=i[k],F=O.attr(f);F!==void 0?(O.attr(s,F.length>0?F:null),O.attr(f,null)):(F=O.attr(s),s==="style"?F=a.serializeStyle(a.parseStyle(F),O.name):g&&(F=g.call(y,F,s,O.name)),O.attr(s,F.length>0?F:null))}}),e.addAttributeFilter("class",function(i){for(var s=i.length;s--;){var f=i[s],g=f.attr("class");g&&(g=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",g.length>0?g:null))}}),e.addAttributeFilter("data-mce-type",function(i,s,f){for(var g=i.length;g--;){var y=i[g];if(y.attr("data-mce-type")==="bookmark"&&!f.cleanup){var k=Z.from(y.firstChild).exists(function(O){return!rc(O.value)});k?y.unwrap():y.remove()}}}),e.addNodeFilter("noscript",function(i){for(var s=i.length;s--;){var f=i[s].firstChild;f&&(f.value=ss.decode(f.value))}}),e.addNodeFilter("script,style",function(i,s){for(var f=function(F){return F.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},g=i.length;g--;){var y=i[g],k=y.firstChild?y.firstChild.value:"";if(s==="script"){var O=y.attr("type");O&&y.attr("type",O==="mce-no/type"?null:O.replace(/^mce\-/,"")),r.element_format==="xhtml"&&k.length>0&&(y.firstChild.value=`// <![CDATA[
`+f(k)+`
// ]]>`)}else r.element_format==="xhtml"&&k.length>0&&(y.firstChild.value=`<!--
`+f(k)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var s=i.length;s--;){var f=i[s];r.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=a.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,s){for(var f=i.length;f--;){var g=i[f];g.type===7?g.remove():g.type===1&&s==="input"&&!g.attr("type")&&g.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){At(i,function(s){s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,s){for(var f=i.length;f--;)i[f].attr(s,null)})},H4=function(e){var r=function(s){return s&&s.name==="br"},a=e.lastChild;if(r(a)){var i=a.prev;r(i)&&(a.remove(),i.remove())}},V4=function(e,r,a){var i,s=e.dom,f=r.cloneNode(!0),g=document.implementation;if(g.createHTMLDocument){var y=g.createHTMLDocument("");wt.each(f.nodeName==="BODY"?f.childNodes:[f],function(k){y.body.appendChild(y.importNode(k,!0))}),f.nodeName!=="BODY"?f=y.body.firstChild:f=y.body,i=s.doc,s.doc=y}return Ux(e,fn(fn({},a),{node:f})),i&&(s.doc=i),f},IB=function(e,r){return e&&e.hasEventListeners("PreProcess")&&!r.no_events},$B=function(e,r,a){return IB(e,a)?V4(e,r,a):r},LB=function(e,r,a){wt.inArray(r,a)===-1&&(e.addAttributeFilter(a,function(i,s){for(var f=i.length;f--;)i[f].attr(s,null)}),r.push(a))},OT=function(e,r,a){if(!r.no_events&&e){var i=ww(e,fn(fn({},r),{content:a}));return i.content}else return a},HB=function(e,r,a){var i=_c(a.getInner?r.innerHTML:e.getOuterHTML(r));return a.selection||fv(S.fromDom(r))?i:wt.trim(i)},VB=function(e,r,a){var i=a.selection?fn({forced_root_block:!1},a):a,s=e.parse(r,i);return H4(s),s},pk=function(e,r,a){var i=Jv(e,r);return i.serialize(a)},DT=function(e,r,a,i,s){var f=pk(r,a,i);return OT(e,s,f)},UB=function(e,r){var a=["data-mce-selected"],i=r&&r.dom?r.dom:Ro.DOM,s=r&&r.schema?r.schema:ls(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var f=YC(e,s);L4(f,e,i);var g=function(y,k){k===void 0&&(k={});var O=fn({format:"html"},k),F=$B(r,y,O),$=HB(i,F,O),L=VB(f,$,O);return O.format==="tree"?L:DT(r,e,s,L,O)};return{schema:s,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:g,addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:yt(LB,f,a),getTempAttrs:V(a),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},RT=function(e,r){var a=UB(e,r);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},jB="html",ZC=function(e,r){r===void 0&&(r={});var a=r.format?r.format:jB;return vB(e,r,a)},JC=function(e,r,a){return a===void 0&&(a={}),mB(e,r,a)},QC=Ro.DOM,ou=function(e){QC.setStyle(e.id,"display",e.orgDisplay)},e3=function(e){return Z.from(e).each(function(r){return r.destroy()})},U4=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},WB=function(e){var r=e.formElement;r&&(r._mceOldSubmit&&(r.submit=r._mceOldSubmit,r._mceOldSubmit=null),QC.unbind(r,"submit reset",e.formEventDelegate))},qB=function(e){if(!e.removed){var r=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),s=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s&&QC.remove(s.nextSibling),l2(e),e.editorManager.remove(e),!e.inline&&i&&ou(e),f2(e),QC.remove(e.getContainer()),e3(r),e3(a),e.destroy()}},j4=function(e,r){var a=e.selection,i=e.dom;if(!e.destroyed){if(!r&&!e.removed){e.remove();return}r||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),e3(a),e3(i)),WB(e),U4(e),e.destroyed=!0}},GB=function(e,r){var a=rt(e)&&rt(r);return a?W4(e,r):r},PT=function(e){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(r.length===0)throw new Error("Can't merge zero objects");for(var i={},s=0;s<r.length;s++){var f=r[s];for(var g in f)Fr(f,g)&&(i[g]=e(i[g],f[g]))}return i}},W4=PT(GB),q4="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),BT="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),KB="imagetools,toc".split(","),XB=function(e){var r=Fe(q4,function(i){return Fr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&r.push("forced_root_block (false only)"),bt(r)},YB=function(e){var r=wt.makeMap(e.plugins," "),a=function(s){return Fr(r,s)},i=Ho(Ho([],Fe(BT,a),!0),_n(KB,function(s){return a(s)?[s+" (moving to premium)"]:[]}),!0);return bt(i)},ZB=function(e,r){var a=XB(e),i=YB(r),s=i.length>0,f=a.length>0,g=r.theme==="mobile";if(s||f||g){var y=`
- `,k=g?`

Themes:`+y+"mobile":"",O=s?`

Plugins:`+y+i.join(y):"",F=f?`

Settings:`+y+a.join(y):"";console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+k+O+F)}},JB=function(e,r){return{sections:V(e),settings:V(r)}},t3=Kr().deviceType,G4=t3.isTouch(),r3=t3.isPhone(),K4=t3.isTablet(),X4=["lists","autolink","autosave"],MT={table_grid:!1,object_resizing:!1,resize:!1},l1=function(e){var r=nr(e)?e.join(" "):e,a=Zr(Ht(r)?r.split(" "):[],ve);return Fe(a,function(i){return i.length>0})},Y4=function(e){return Fe(e,yt(Zt,X4))},Z4=function(e,r){var a=K(r,function(i,s){return Zt(e,s)});return JB(a.t,a.f)},QB=function(e,r,a){a===void 0&&(a={});var i=e.sections(),s=cr(i,r).getOr({});return wt.extend({},a,s)},f1=function(e,r){return Fr(e.sections(),r)},eM=function(e,r,a){var i=e.sections();return f1(e,r)&&i[r].theme===a},n3=function(e,r){return f1(e,r)?e.sections()[r]:{}},J4=function(e,r){return cr(e,"toolbar_mode").orThunk(function(){return cr(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(r)},tM=function(e,r,a,i,s){var f={id:r,theme:"silver",toolbar_mode:J4(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s};return fn(fn({},f),i?MT:{})},rM=function(e,r){var a={resize:!1,toolbar_mode:J4(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return fn(fn(fn({},MT),a),r?i:{})},Q4=function(e,r){var a=r.external_plugins?r.external_plugins:{};return e&&e.external_plugins?wt.extend({},e.external_plugins,a):a},eA=function(e,r){return[].concat(l1(e)).concat(l1(r))},nM=function(e,r,a,i){return e&&eM(r,"mobile","mobile")?Y4(i):e&&f1(r,"mobile")?i:a},aM=function(e,r,a,i){var s=l1(a.forced_plugins),f=l1(i.plugins),g=n3(r,"mobile"),y=g.plugins?l1(g.plugins):f,k=nM(e,r,f,y),O=eA(s,k);if(dr.browser.isIE()&&Zt(O,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return wt.extend(i,{plugins:O.join(" ")})},oM=function(e,r){return e&&f1(r,"mobile")},iM=function(e,r,a,i,s){var f=e?{mobile:rM(s.mobile||{},r)}:{},g=Z4(["mobile"],W4(f,s)),y=wt.extend(a,i,g.settings(),oM(e,g)?QB(g,"mobile"):{},{validate:!0,external_plugins:Q4(i,g.settings())});return aM(e,g,i,y)},tA=function(e,r,a,i,s){var f=tM(s,r,a,G4,e),g=iM(r3||K4,r3,f,i,s);return g.deprecation_warnings!==!1&&ZB(s,g),g},Sh=function(e,r,a){return Z.from(r.settings[a]).filter(e)},uM=function(e){var r={};return typeof e=="string"?At(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?r[wt.trim(i[0])]=wt.trim(i[1]):r[wt.trim(i[0])]=wt.trim(i[0])}):r=e,r},cM=function(e){return function(r){return nr(r)&&$n(r,e)}},sM=function(e,r,a,i){var s=r in e.settings?e.settings[r]:a;return i==="hash"?uM(s):i==="string"?Sh(Ht,e,r).getOr(a):i==="number"?Sh(Dt,e,r).getOr(a):i==="boolean"?Sh(or,e,r).getOr(a):i==="object"?Sh(rt,e,r).getOr(a):i==="array"?Sh(nr,e,r).getOr(a):i==="string[]"?Sh(cM(Ht),e,r).getOr(a):i==="function"?Sh(Le,e,r).getOr(a):s},lM=function(){var e={},r=function(s,f){e[s]=f},a=function(s){return e[s]?e[s]:{icons:{}}},i=function(s){return Fr(e,s)};return{add:r,get:a,has:i}},a3=lM(),rA=function(e,r){var a=r.dom;return a[e]},nA=function(e,r){return parseInt(ya(r,e),10)},aA=yt(rA,"clientWidth"),fM=yt(rA,"clientHeight"),dM=yt(nA,"margin-top"),vM=yt(nA,"margin-left"),mM=function(e){return e.dom.getBoundingClientRect()},gM=function(e,r,a){var i=aA(e),s=fM(e);return r>=0&&a>=0&&r<=i&&a<=s},hk=function(e,r,a,i){var s=mM(r),f=e?s.left+r.dom.clientLeft+vM(r):0,g=e?s.top+r.dom.clientTop+dM(r):0,y=a-f,k=i-g;return{x:y,y:k}},oA=function(e,r,a){var i=S.fromDom(e.getBody()),s=e.inline?i:Ic(i),f=hk(e.inline,s,r,a);return gM(s,f.x,f.y)},pM=function(e){return Z.from(e).map(S.fromDom)},iA=function(e){var r=e.inline?e.getBody():e.getContentAreaContainer();return pM(r).map(Of).getOr(!1)},uA=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},cA=function(e){var r=[],a=function(){var L=e.theme;return L&&L.getNotificationManagerImpl?L.getNotificationManagerImpl():uA()},i=function(){return Z.from(r[0])},s=function(L,Q){return L.type===Q.type&&L.text===Q.text&&!L.progressBar&&!L.timeout&&!Q.progressBar&&!Q.timeout},f=function(){r.length>0&&a().reposition(r)},g=function(L){r.push(L)},y=function(L){br(r,function(Q){return Q===L}).each(function(Q){r.splice(Q,1)})},k=function(L,Q){if(Q===void 0&&(Q=!0),!(e.removed||!iA(e)))return Q&&e.fire("BeforeOpenNotification",{notification:L}),ut(r,function(te){return s(a().getArgs(te),L)}).getOrThunk(function(){e.editorManager.setActive(e);var te=a().open(L,function(){y(te),f(),i().fold(function(){return e.focus()},function(ne){return Cb(S.fromDom(ne.getEl()))})});return g(te),f(),e.fire("OpenNotification",{notification:fn({},te)}),te})},O=function(){i().each(function(L){a().close(L),y(L),f()})},F=V(r),$=function(L){L.on("SkinLoaded",function(){var Q=F_(L);Q&&k({text:Q,type:"warning",timeout:0},!1),f()}),L.on("show ResizeEditor ResizeWindow NodeChange",function(){Pu.requestAnimationFrame(f)}),L.on("remove",function(){At(r.slice(),function(Q){a().close(Q)})})};return $(e),{open:k,close:O,getNotifications:F}},nd=Sc.PluginManager,Fg=Sc.ThemeManager;function yk(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var NT=function(e){var r=[],a=function(){var ne=e.theme;return ne&&ne.getWindowManagerImpl?ne.getWindowManagerImpl():yk()},i=function(ne,ae){return function(){for(var pe=[],ge=0;ge<arguments.length;ge++)pe[ge]=arguments[ge];return ae?ae.apply(ne,pe):void 0}},s=function(ne){e.fire("OpenWindow",{dialog:ne})},f=function(ne){e.fire("CloseWindow",{dialog:ne})},g=function(ne){r.push(ne),s(ne)},y=function(ne){f(ne),r=Fe(r,function(ae){return ae!==ne}),r.length===0&&e.focus()},k=function(){return Z.from(r[r.length-1])},O=function(ne){e.editorManager.setActive(e),xb(e);var ae=ne();return g(ae),ae},F=function(ne,ae){return O(function(){return a().open(ne,ae,y)})},$=function(ne){return O(function(){return a().openUrl(ne,y)})},L=function(ne,ae,pe){var ge=a();ge.alert(ne,i(pe||ge,ae))},Q=function(ne,ae,pe){var ge=a();ge.confirm(ne,i(pe||ge,ae))},te=function(){k().each(function(ne){a().close(ne),y(ne)})};return e.on("remove",function(){At(r,function(ne){a().close(ne)})}),{open:F,openUrl:$,alert:L,confirm:Q,close:te}},FT=function(e,r){e.notificationManager.open({type:"error",text:r})},o3=function(e,r){e._skinLoaded?FT(e,r):e.on("SkinLoaded",function(){FT(e,r)})},sA=function(e,r){o3(e,ic.translate(["Failed to upload image: {0}",r]))},IT=function(e,r,a){yb(e,r,{message:a}),console.error(a)},$T=function(e,r,a){return a?"Failed to load "+e+": "+a+" from url "+r:"Failed to load "+e+" url: "+r},LT=function(e,r,a){IT(e,"PluginLoadError",$T("plugin",r,a))},lA=function(e,r,a){IT(e,"IconsLoadError",$T("icons",r,a))},hM=function(e,r,a){IT(e,"LanguageLoadError",$T("language",r,a))},yM=function(e,r,a){var i=ic.translate(["Failed to initialize plugin: {0}",r]);yb(e,"PluginLoadError",{message:i}),i3(i,a),o3(e,i)},i3=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,Ho([e],r,!1)):i.log.apply(i,Ho([e],r,!1)))},fA=function(e){return/^[a-z0-9\-]+$/i.test(e)},bM=function(e){return d1(e,P_(e))},wM=function(e){return d1(e,B_(e))},d1=function(e,r){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,s="content"+i+".css",f=e.inline===!0;return Zr(r,function(g){return fA(g)&&!f?a+"/"+g+"/"+s:e.documentBaseURI.toAbsolute(g)})},dA=function(e){e.contentCSS=e.contentCSS.concat(bM(e),wM(e))},HT=function(){var e=1,r=2,a={},i=function(L,Q){return{status:L,resultUri:Q}},s=function(L){return L in a},f=function(L){var Q=a[L];return Q?Q.resultUri:null},g=function(L){return s(L)?a[L].status===e:!1},y=function(L){return s(L)?a[L].status===r:!1},k=function(L){a[L]=i(e,null)},O=function(L,Q){a[L]=i(r,Q)},F=function(L){delete a[L]},$=function(){a={}};return{hasBlobUri:s,getResultUri:f,isPending:g,isUploaded:y,markPending:k,markUploaded:O,removeFailed:F,destroy:$}},kM=0,_M=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},r=new Date().getTime();return"s"+r.toString(36)+e()+e()+e()},vA=function(e){return e+kM+++_M()},mA=function(){var e=[],r=function($){var L={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return L[$.toLowerCase()]||"dat"},a=function($,L,Q,te,ne){if(Ht($)){var ae=$;return i({id:ae,name:te,filename:ne,blob:L,base64:Q})}else{if(rt($))return i($);throw new Error("Unknown input type")}},i=function($){if(!$.blob||!$.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var L=$.id||vA("blobid"),Q=$.name||L,te=$.blob;return{id:V(L),name:V(Q),filename:V($.filename||Q+"."+r(te.type)),blob:V(te),base64:V($.base64),blobUri:V($.blobUri||URL.createObjectURL(te)),uri:V($.uri)}},s=function($){g($.id())||e.push($)},f=function($){return ut(e,$).getOrUndefined()},g=function($){return f(function(L){return L.id()===$})},y=function($){return f(function(L){return L.blobUri()===$})},k=function($,L){return f(function(Q){return Q.base64()===$&&Q.blob().type===L})},O=function($){e=Fe(e,function(L){return L.blobUri()===$?(URL.revokeObjectURL(L.blobUri()),!1):!0})},F=function(){At(e,function($){URL.revokeObjectURL($.blobUri())}),e=[]};return{create:a,add:s,get:g,getByUri:y,getByData:k,findFirst:f,removeByUri:O,destroy:F}},CM=function(e,r){var a={},i=function(te,ne){return te?te.replace(/\/$/,"")+"/"+ne.replace(/^\//,""):ne},s=function(te,ne,ae,pe){var ge=new XMLHttpRequest;ge.open("POST",r.url),ge.withCredentials=r.credentials,ge.upload.onprogress=function(Be){pe(Be.loaded/Be.total*100)},ge.onerror=function(){ae("Image upload failed due to a XHR Transport error. Code: "+ge.status)},ge.onload=function(){if(ge.status<200||ge.status>=300){ae("HTTP Error: "+ge.status);return}var Be=JSON.parse(ge.responseText);if(!Be||typeof Be.location!="string"){ae("Invalid JSON: "+ge.responseText);return}ne(i(r.basePath,Be.location))};var je=new FormData;je.append("file",te.blob(),te.filename()),ge.send(je)},f=function(){return new eu(function(te){te([])})},g=function(te,ne){return{url:ne,blobInfo:te,status:!0}},y=function(te,ne,ae){return{url:"",blobInfo:te,status:!1,error:{message:ne,options:ae}}},k=function(te,ne){wt.each(a[te],function(ae){ae(ne)}),delete a[te]},O=function(te,ne,ae){return e.markPending(te.blobUri()),new eu(function(pe){var ge,je;try{var Be=function(){ge&&(ge.close(),je=dt)},we=function(It){Be(),e.markUploaded(te.blobUri(),It),k(te.blobUri(),g(te,It)),pe(g(te,It))},Ge=function(It,ur){var Vn=ur||{};Be(),e.removeFailed(te.blobUri()),k(te.blobUri(),y(te,It,Vn)),pe(y(te,It,Vn))};je=function(It){It<0||It>100||Z.from(ge).orThunk(function(){return Z.from(ae).map(E)}).each(function(ur){ge=ur,ur.progressBar.value(It)})},ne(te,we,Ge,je)}catch(It){pe(y(te,It.message,{}))}})},F=function(te){return te===s},$=function(te){var ne=te.blobUri();return new eu(function(ae){a[ne]=a[ne]||[],a[ne].push(ae)})},L=function(te,ne){return te=wt.grep(te,function(ae){return!e.isUploaded(ae.blobUri())}),eu.all(wt.map(te,function(ae){return e.isPending(ae.blobUri())?$(ae):O(ae,r.handler,ne)}))},Q=function(te,ne){return!r.url&&F(r.handler)?f():L(te,ne)};return Le(r.handler)===!1&&(r.handler=s),{upload:Q}},gA=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},pA=function(e,r){return CM(r,{url:ux(e),basePath:Fd(e),credentials:Id(e),handler:cx(e)})},SM=function(e){var r=HT(),a=pA(e,r);return{upload:function(i,s){return s===void 0&&(s=!0),a.upload(i,s?gA(e):void 0)}}},xM=function(e){var r=oc(null);e.on("change AddUndo",function(i){r.set(fn({},i.level))});var a=function(){var i=e.undoManager.data;Rr(i).filter(function(s){return!$C(r.get(),s)}).each(function(s){e.setDirty(!0),e.fire("change",{level:s,lastLevel:zt(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},dc=function(e){var r=mA(),a,i,s=HT(),f=[],g=xM(e),y=function(Be){return function(we){return e.selection?Be(we):[]}},k=function(Be){return Be+(Be.indexOf("?")===-1?"?":"&")+new Date().getTime()},O=function(Be,we,Ge){var It=0;do It=Be.indexOf(we,It),It!==-1&&(Be=Be.substring(0,It)+Ge+Be.substr(It+we.length),It+=Ge.length-we.length+1);while(It!==-1);return Be},F=function(Be,we,Ge){var It='src="'+Ge+'"'+(Ge===dr.transparentSrc?' data-mce-placeholder="1"':"");return Be=O(Be,'src="'+we+'"',It),Be=O(Be,'data-mce-src="'+we+'"','data-mce-src="'+Ge+'"'),Be},$=function(Be,we){At(e.undoManager.data,function(Ge){Ge.type==="fragmented"?Ge.fragments=Zr(Ge.fragments,function(It){return F(It,Be,we)}):Ge.content=F(Ge.content,Be,we)})},L=function(Be,we){var Ge=e.convertURL(we,"src");$(Be.src,we),e.$(Be).attr({src:I0(e)?k(we):we,"data-mce-src":Ge})},Q=function(Be){return a||(a=pA(e,s)),pe().then(y(function(we){var Ge=Zr(we,function(It){return It.blobInfo});return a.upload(Ge,gA(e)).then(y(function(It){var ur=[],Vn=Zr(It,function(Qr,jt){var En=we[jt].blobInfo,hr=we[jt].image;return Qr.status&&ix(e)?(r.removeByUri(hr.src),om(e)||L(hr,Qr.url)):Qr.error&&(Qr.error.options.remove&&($(hr.getAttribute("src"),dr.transparentSrc),ur.push(hr)),sA(e,Qr.error.message)),{element:hr,status:Qr.status,uploadUri:Qr.url,blobInfo:En}});return Vn.length>0&&g.fireIfChanged(),ur.length>0&&(om(e)?console.error("Removing images on failed uploads is currently unsupported for RTC"):e.undoManager.transact(function(){At(ur,function(Qr){e.dom.remove(Qr),r.removeByUri(Qr.src)})})),Be&&Be(Vn),Vn}))}))},te=function(Be){if(Fp(e))return Q(Be)},ne=function(Be){if($n(f,function(Ge){return Ge(Be)})===!1)return!1;if(Be.getAttribute("src").indexOf("data:")===0){var we=jy(e);return we(Be)}return!0},ae=function(Be){f.push(Be)},pe=function(){return i||(i=zB(s,r)),i.findAll(e.getBody(),ne).then(y(function(Be){return Be=Fe(Be,function(we){return typeof we=="string"?(o3(e,we),!1):!0}),om(e)||At(Be,function(we){$(we.image.src,we.blobInfo.blobUri()),we.image.src=we.blobInfo.blobUri(),we.image.removeAttribute("data-mce-src")}),Be}))},ge=function(){r.destroy(),s.destroy(),i=a=null},je=function(Be){return Be.replace(/src="(blob:[^"]+)"/g,function(we,Ge){var It=s.getResultUri(Ge);if(It)return'src="'+It+'"';var ur=r.getByUri(Ge);if(ur||(ur=Ne(e.editorManager.get(),function(Qr,jt){return Qr||jt.editorUpload&&jt.editorUpload.blobCache.getByUri(Ge)},null)),ur){var Vn=ur.blob();return'src="data:'+Vn.type+";base64,"+ur.base64()+'"'}return we})};return e.on("SetContent",function(){Fp(e)?te():pe()}),e.on("RawSaveContent",function(Be){Be.content=je(Be.content)}),e.on("GetContent",function(Be){Be.source_view||Be.format==="raw"||Be.format==="tree"||(Be.content=je(Be.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(Be){At(Be,function(we){var Ge=we.attr("src");if(!r.getByUri(Ge)){var It=s.getResultUri(Ge);It&&we.attr("src",It)}})})}),{blobCache:r,addFilter:ae,uploadImages:Q,uploadImagesAuto:te,scanForImages:pe,destroy:ge}},hA=function(e){var r={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,s){return Yn(a)&&a.hasAttribute("href")},onformat:function(a,i,s){wt.each(s,function(f,g){e.setAttrib(a,g,f)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return wt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){r[a]={block:a,remove:"all"}}),r},TM=function(e){var r={},a=function(g){return zr(g)?r[g]:r},i=function(g){return Fr(r,g)},s=function(g,y){g&&(Ht(g)?(nr(y)||(y=[y]),At(y,function(k){Me(k.deep)&&(k.deep=!Gc(k)),Me(k.split)&&(k.split=!Gc(k)||ku(k)),Me(k.remove)&&Gc(k)&&!ku(k)&&(k.remove="none"),Gc(k)&&ku(k)&&(k.mixed=!0,k.block_expand=!0),Ht(k.classes)&&(k.classes=k.classes.split(/\s+/))}),r[g]=y):lr(g,function(k,O){s(O,k)}))},f=function(g){return g&&r[g]&&delete r[g],r};return s(hA(e.dom)),s(lx(e)),{get:a,has:i,register:s,unregister:f}},u3=wt.each,Yc=Ro.DOM,yA=function(e,r){var a,i,s,f=r&&r.schema||ls({}),g=function(F,$){$.classes.length&&Yc.addClass(F,$.classes.join(" ")),Yc.setAttribs(F,$.attrs)},y=function(F){i=typeof F=="string"?{name:F,classes:[],attrs:{}}:F;var $=Yc.create(i.name);return g($,i),$},k=function(F,$){var L=typeof F!="string"?F.nodeName.toLowerCase():F,Q=f.getElementRule(L),te=Q&&Q.parentsRequired;return te&&te.length?$&&wt.inArray(te,$)!==-1?$:te[0]:!1},O=function(F,$,L){var Q,te,ne=$.length>0&&$[0],ae=ne&&ne.name,pe=k(F,ae);if(pe)ae===pe?(te=$[0],$=$.slice(1)):te=pe;else if(ne)te=$[0],$=$.slice(1);else if(!L)return F;return te&&(Q=y(te),Q.appendChild(F)),L&&(Q||(Q=Yc.create("div"),Q.appendChild(F)),wt.each(L,function(ge){var je=y(ge);Q.insertBefore(je,F)})),O(Q,$,te&&te.siblings)};return e&&e.length?(i=e[0],a=y(i),s=Yc.create("div"),s.appendChild(O(a,e.slice(1),i.siblings)),s):""},Xa=function(e){var r,a={classes:[],attrs:{}};return e=a.selector=wt.trim(e),e!=="*"&&(r=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,s,f,g,y){switch(s){case"#":a.attrs.id=f;break;case".":a.classes.push(f);break;case":":wt.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(a.attrs[f]=f);break}if(g==="["){var k=y.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(a.attrs[k[1]]=k[2])}return""})),a.name=r||"div",a},zM=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),wt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(r){var a=wt.map(r.split(/(?:~\+|~|\+)/),Xa),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},EM=function(e,r){var a,i,s="",f,g=Jm(e);if(g==="")return"";var y=function($){return $.replace(/%(\w+)/g,"")};if(typeof r=="string"){if(r=e.formatter.get(r),!r)return;r=r[0]}if("preview"in r){var k=cr(r,"preview");if(sv(k,!1))return"";g=k.getOr(g)}a=r.block||r.inline||"span";var O=zM(r.selector);O.length?(O[0].name||(O[0].name=a),a=r.selector,i=yA(O,e)):i=yA([a],e);var F=Yc.select(a,i)[0]||i.firstChild;return u3(r.styles,function($,L){var Q=y($);Q&&Yc.setStyle(F,L,Q)}),u3(r.attributes,function($,L){var Q=y($);Q&&Yc.setAttrib(F,L,Q)}),u3(r.classes,function($){var L=y($);Yc.hasClass(F,L)||Yc.addClass(F,L)}),e.fire("PreviewFormats"),Yc.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),f=Yc.getStyle(e.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,u3(g.split(" "),function($){var L=Yc.getStyle(F,$,!0);if(!($==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(L)&&(L=Yc.getStyle(e.getBody(),$,!0),Yc.toHex(L).toLowerCase()==="#ffffff"))&&!($==="color"&&Yc.toHex(L).toLowerCase()==="#000000")){if($==="font-size"&&/em|%$/.test(L)){if(f===0)return;var Q=parseFloat(L)/(/%$/.test(L)?100:1);L=Q*f+"px"}$==="border"&&L&&(s+="padding:0 2px;"),s+=$+":"+L+";"}}),e.fire("AfterPreviewFormats"),Yc.remove(i),s},AM=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var r=1;r<=6;r++)e.addShortcut("access+"+r,"",["FormatBlock",!1,"h"+r]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},hi=function(e){var r=TM(e),a=oc(null);return AM(e),AC(e),{get:r.get,has:r.has,register:r.register,unregister:r.unregister,apply:function(i,s,f){jC(e,i,s,f)},remove:function(i,s,f,g){lB(e,i,s,f,g)},toggle:function(i,s,f){fB(e,i,s,f)},match:function(i,s,f,g){return sB(e,i,s,f,g)},closest:function(i){return _4(e,i)},matchAll:function(i,s){return w4(e,i,s)},matchNode:function(i,s,f,g){return UC(e,i,s,f,g)},canApply:function(i){return k4(e,i)},formatChanged:function(i,s,f,g){return dB(e,a,i,s,f,g)},getCssText:yt(EM,e)}},bA=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},bk=function(e,r,a){var i=oc(!1),s=function(k){LC(r,!1,a),r.add({},k)};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(k){var O=k.command;bA(O)||(l4(r,a),r.beforeChange())}),e.on("ExecCommand",function(k){var O=k.command;bA(O)||s(k)}),e.on("ObjectResizeStart cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",function(k){var O=k.keyCode;k.isDefaultPrevented()||((O>=33&&O<=36||O>=37&&O<=40||O===45||k.ctrlKey)&&(s(),e.nodeChanged()),(O===46||O===8)&&e.nodeChanged(),i.get()&&r.typing&&$C(r1(e),r.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:r.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(k){var O=k.keyCode;if(!k.isDefaultPrevented()){if(O>=33&&O<=36||O>=37&&O<=40||O===45){r.typing&&s(k);return}var F=k.ctrlKey&&!k.altKey||k.metaKey;(O<16||O>20)&&O!==224&&O!==91&&!r.typing&&!F&&(r.beforeChange(),LC(r,!0,a),r.add({},k),i.set(!0))}}),e.on("mousedown",function(k){r.typing&&s(k)});var f=function(k){return k.inputType==="insertReplacementText"},g=function(k){return k.inputType==="insertText"&&k.data===null},y=function(k){return k.inputType==="insertFromPaste"||k.inputType==="insertFromDrop"};e.on("input",function(k){k.inputType&&(f(k)||g(k)||y(k))&&s(k)}),e.on("AddUndo Undo Redo ClearUndos",function(k){k.isDefaultPrevented()||e.nodeChanged()})},OM=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},wA=function(e){var r=Bd(),a=oc(0),i=oc(0),s={data:[],typing:!1,beforeChange:function(){wT(e,a,r)},add:function(f,g){return h4(e,s,i,a,r,f,g)},undo:function(){return VC(e,s,a,i)},redo:function(){return ul(e,i,s.data)},clear:function(){fk(e,s,i)},reset:function(){Ch(e,s)},hasUndo:function(){return iB(e,s,i)},hasRedo:function(){return y4(e,s,i)},transact:function(f){return b4(e,s,a,f)},ignore:function(f){uB(e,a,f)},extra:function(f,g){cB(e,s,i,f,g)}};return om(e)||bk(e,s,a),OM(e),s},DM=[9,27,Wn.HOME,Wn.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Wn.DOWN,Wn.UP,Wn.LEFT,Wn.RIGHT].concat(dr.browser.isFirefox()?[224]:[]),VT="data-mce-placeholder",um=function(e){return e.type==="keydown"||e.type==="keyup"},$s=function(e){var r=e.keyCode;return r===Wn.BACKSPACE||r===Wn.DELETE},wk=function(e){if(um(e)){var r=e.keyCode;return!$s(e)&&(Wn.metaKeyPressed(e)||e.altKey||r>=112&&r<=123||Zt(DM,r))}else return!1},xh=function(e){return um(e)&&!($s(e)||e.type==="keyup"&&e.keyCode===229)},rv=function(e,r,a){if(mu(S.fromDom(r),!1)){var i=a==="",s=r.firstElementChild;return s?e.getStyle(r.firstElementChild,"padding-left")||e.getStyle(r.firstElementChild,"padding-right")?!1:i?!e.isBlock(s):a===s.nodeName.toLowerCase():!0}else return!1},kk=function(e){var r=e.dom,a=bu(e),i=L0(e),s=function(f,g){if(!wk(f)){var y=e.getBody(),k=xh(f)?!1:rv(r,y,a),O=r.getAttrib(y,VT)!=="";(O!==k||g)&&(r.setAttrib(y,VT,k?i:null),r.setAttrib(y,"aria-placeholder",k?i:null),m2(e,k),e.on(k?"keydown":"keyup",s),e.off(k?"keyup":"keydown",s))}};i&&e.on("init",function(f){s(f,!0),e.on("change SetContent ExecCommand",s),e.on("paste",function(g){return Pu.setEditorTimeout(e,function(){return s(g)})})})},UT=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,jT=function(e){return UT.test(e)},Ig=function(e,r){return Or(S.fromDom(r),Gf(e))},kA=function(e){return Ro.DOM.getStyle(e,"direction",!0)==="rtl"||jT(e.textContent)},RM=function(e,r,a){return Fe(Ro.DOM.getParents(a.container(),"*",r),e)},cm=function(e,r,a){var i=RM(e,r,a);return Z.from(i[i.length-1])},_A=function(e,r,a){var i=El(r,e),s=El(a,e);return i&&i===s},PM=function(e){return Nn(e)||Jh(e)},cl=function(e,r){if(!r)return r;var a=r.container(),i=r.offset();return e?To(a)?on(a.nextSibling)?pt(a.nextSibling,0):pt.after(a):Nn(r)?pt(a,i+1):r:To(a)?on(a.previousSibling)?pt(a.previousSibling,a.previousSibling.data.length):pt.before(a):Jh(r)?pt(a,i-1):r},CA=yt(cl,!0),v1=yt(cl,!1),SA=function(e){return function(r){return jn(e,S.fromDom(r.dom.parentNode))}},xA=function(e){return Wl(e)||Bu(e)},yf=function(e,r){return to(e,r)?_m(r,xA,SA(e)):Z.none()},WT=function(e){var r=e.getBody(),a=r.firstChild&&e.dom.isBlock(r.firstChild)?r.firstChild:r;e.selection.setCursorLocation(a,0)},TA=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),WT(e))},BM=function(e,r,a){return Hu(qu(a),Ds(a),function(i,s){var f=cl(!0,i),g=cl(!1,s),y=cl(!1,r);return e?rl(a,y).exists(function(k){return k.isEqual(g)&&r.isEqual(f)}):Dl(a,y).exists(function(k){return k.isEqual(f)&&r.isEqual(g)})}).getOr(!0)},MM=function(e,r){return{block:e,position:r}},m1=function(e,r){return{from:e,to:r}},qT=function(e,r){var a=S.fromDom(e),i=S.fromDom(r.container());return yf(a,i).map(function(s){return MM(s,r)})},NM=function(e){return jn(e.from.block,e.to.block)===!1},Ku=function(e){return ti(e.from.block).bind(function(r){return ti(e.to.block).filter(function(a){return jn(r,a)})}).isSome()},FM=function(e){return Fo(e.from.block.dom)===!1&&Fo(e.to.block.dom)===!1},zA=function(e,r,a){return ho(a.position.getNode())&&mu(a.block)===!1?Kf(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?zc(r,e,i).bind(function(s){return qT(e,s)}):Z.some(a)}).getOr(a):a},EA=function(e,r,a){var i=qT(e,pt.fromRangeStart(a)),s=i.bind(function(f){return zc(r,e,f.position).bind(function(g){return qT(e,g).map(function(y){return zA(e,r,y)})})});return Hu(i,s,m1).filter(function(f){return NM(f)&&Ku(f)&&FM(f)})},AA=function(e,r,a){return a.collapsed?EA(e,r,a):Z.none()},OA=function(e){var r=Lu(e);return br(r,os).fold(V(r),function(a){return r.slice(0,a)})},c3=function(e){var r=OA(e);return At(r,ri),r},DA=function(e,r){var a=Tn(r,e);return ut(a.reverse(),function(i){return mu(i)}).each(ri)},IM=function(e){return Fe(qa(e),function(r){return!mu(r)}).length===0},$M=function(e,r,a,i){if(mu(a))return Qv(a),qu(a.dom);IM(i)&&mu(r)&&fu(i,S.fromTag("br"));var s=Dl(a.dom,pt.before(i.dom));return At(c3(r),function(f){fu(i,f)}),DA(e,r),s},LM=function(e,r,a){if(mu(a))return ri(a),mu(r)&&Qv(r),qu(r.dom);var i=Ds(a.dom);return At(c3(r),function(s){Bi(a,s)}),DA(e,r),i},HM=function(e,r){var a=Tn(r,e);return Z.from(a[a.length-1])},nv=function(e,r){return to(r,e)?HM(r,e):Z.none()},RA=function(e,r){Kf(e,r.dom).map(function(a){return a.getNode()}).map(S.fromDom).filter(xm).each(ri)},PA=function(e,r,a){return RA(!0,r),RA(!1,a),nv(r,a).fold(yt(LM,e,r,a),yt($M,e,r,a))},BA=function(e,r,a,i){return r?PA(e,i,a):PA(e,a,i)},s3=function(e,r){var a=S.fromDom(e.getBody()),i=AA(a.dom,r,e.selection.getRng()).bind(function(s){return BA(a,r,s.from.block,s.to.block)});return i.each(function(s){e.selection.setRng(s.toRange())}),i.isSome()},VM=function(e,r){var a=r.getRng();return Hu(yf(e,S.fromDom(a.startContainer)),yf(e,S.fromDom(a.endContainer)),function(i,s){return jn(i,s)===!1?(a.deleteContents(),BA(e,!0,i,s).each(function(f){r.setRng(f.toRange())}),!0):!1}).getOr(!1)},_i=function(e,r){var a=S.fromDom(r),i=yt(jn,e);return pd(a,wl,i).isSome()},MA=function(e,r){return _i(e,r.startContainer)||_i(e,r.endContainer)},NA=function(e,r){var a=Dl(e.dom,pt.fromRangeStart(r)).isNone(),i=rl(e.dom,pt.fromRangeEnd(r)).isNone();return!MA(e,r)&&a&&i},ad=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},FA=function(e){var r=S.fromDom(e.getBody()),a=e.selection.getRng();return NA(r,a)?ad(e):VM(r,e.selection)},l3=function(e,r){return e.selection.isCollapsed()?!1:FA(e)},UM=qs,GT=Fo,sm=function(e,r,a,i,s){return Z.from(r._selectionOverrides.showCaret(e,a,i,s))},g1=function(e){var r=e.ownerDocument.createRange();return r.selectNode(e),r},p1=function(e,r){var a=e.fire("BeforeObjectSelected",{target:r});return a.isDefaultPrevented()?Z.none():Z.some(g1(r))},KT=function(e,r,a){var i=Iu(1,e.getBody(),r),s=pt.fromRangeStart(i),f=s.getNode();if(ng(f))return sm(1,e,f,!s.isAtEnd(),!1);var g=s.getNode(!0);if(ng(g))return sm(1,e,g,!1,!1);var y=e.dom.getParent(s.getNode(),function(k){return GT(k)||UM(k)});return ng(y)?sm(1,e,y,!1,a):Z.none()},f3=function(e,r,a){return r.collapsed?KT(e,r,a).getOr(r):r},XT=function(e){return Zd(e)||Ag(e)},IA=function(e){return Jd(e)||Og(e)},YT=function(e,r){on(r)&&r.data.length===0&&e.remove(r)},$A=function(e,r,a,i,s,f){return sm(i,e,f.getNode(!s),s,!0).each(function(g){if(r.collapsed){var y=r.cloneRange();s?y.setEnd(g.startContainer,g.startOffset):y.setStart(g.endContainer,g.endOffset),y.deleteContents()}else r.deleteContents();e.selection.setRng(g)}),YT(e.dom,a),!0},jM=function(e,r){var a=e.selection.getRng();if(!on(a.commonAncestorContainer))return!1;var i=r?wu.Forwards:wu.Backwards,s=di(e.getBody()),f=yt(J0,r?s.next:s.prev),g=r?XT:IA,y=sg(i,e.getBody(),a),k=cl(r,f(y));if(!k||!rb(y,k))return!1;if(g(k))return $A(e,a,y.getNode(),i,r,k);var O=f(k);return O&&g(O)&&rb(k,O)?$A(e,a,y.getNode(),i,r,O):!1},d3=function(e,r){return jM(e,r)},bf=function(e){return wl(S.fromDom(e))||Bu(S.fromDom(e))},sl=Dn.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),WM=function(e,r){var a=r.getNode(e===!1),i=e?"after":"before";return Yn(a)&&a.getAttribute("data-mce-caret")===i},qM=function(e,r,a,i){var s=function(f){return Vu(S.fromDom(f))&&!Al(a,i,e)};return cg(!r,a).fold(function(){return cg(r,i).fold(Ve,s)},s)},h1=function(e,r,a,i){var s=i.getNode(r===!1);return yf(S.fromDom(e),S.fromDom(a.getNode())).map(function(f){return mu(f)?sl.remove(f.dom):sl.moveToElement(s)}).orThunk(function(){return Z.some(sl.moveToElement(s))})},LA=function(e,r,a){return zc(r,e,a).bind(function(i){return bf(i.getNode())||qM(e,r,a,i)?Z.none():r&&Fo(i.getNode())||r===!1&&Fo(i.getNode(!0))?h1(e,r,a,i):r&&Jd(a)||r===!1&&Zd(a)?Z.some(sl.moveToPosition(i)):Z.none()})},HA=function(e,r){return e&&Fo(r.nextSibling)?Z.some(sl.moveToElement(r.nextSibling)):e===!1&&Fo(r.previousSibling)?Z.some(sl.moveToElement(r.previousSibling)):Z.none()},VA=function(e,r,a){return a.fold(function(i){return Z.some(sl.remove(i))},function(i){return Z.some(sl.moveToElement(i))},function(i){return Al(r,i,e)?Z.none():Z.some(sl.moveToPosition(i))})},UA=function(e,r,a){return WM(r,a)?HA(r,a.getNode(r===!1)).fold(function(){return LA(e,r,a)},Z.some):LA(e,r,a).bind(function(i){return VA(e,a,i)})},GM=function(e,r,a){var i=Iu(r?1:-1,e,a),s=pt.fromRangeStart(i),f=S.fromDom(e);return r===!1&&Jd(s)?Z.some(sl.remove(s.getNode(!0))):r&&Zd(s)?Z.some(sl.remove(s.getNode())):r===!1&&Zd(s)&&la(f,s)?fC(f,s).map(function(g){return sl.remove(g.getNode())}):r&&Jd(s)&&$b(f,s)?dC(f,s).map(function(g){return sl.remove(g.getNode())}):UA(e,r,s)},KM=function(e,r){return function(a){return e._selectionOverrides.hideFakeCaret(),er(e,r,S.fromDom(a)),!0}},$g=function(e,r){return function(a){var i=r?pt.before(a):pt.after(a);return e.selection.setRng(i.toRange()),!0}},XM=function(e){return function(r){return e.selection.setRng(r.toRange()),!0}},jA=function(e,r){return Z.from(Uv(e.getBody(),r))},YM=function(e,r){var a=e.selection.getNode();return jA(e,a).filter(Fo).fold(function(){return GM(e.getBody(),r,e.selection.getRng()).exists(function(i){return i.fold(KM(e,r),$g(e,r),XM(e))})},Ft)},ZM=function(e){At(yu(e,".mce-offscreen-selection"),ri)},JM=function(e,r){var a=e.selection.getNode();if(Fo(a)&&!ym(a)){var i=jA(e,a.parentNode).filter(Fo);return i.fold(function(){return ZM(S.fromDom(e.getBody())),er(e,r,S.fromDom(e.selection.getNode())),TA(e),!0},Ft)}return!1},WA=function(e){var r=e.dom,a=e.selection,i=Uv(e.getBody(),a.getNode());if(qs(i)&&r.isBlock(i)&&r.isEmpty(i)){var s=r.create("br",{"data-mce-bogus":"1"});r.setHTML(i,""),i.appendChild(s),a.setRng(pt.before(s).toRange())}return!0},v3=function(e,r){return e.selection.isCollapsed()?YM(e,r):JM(e,r)},QM=function(e,r){var a=pt.fromRangeStart(e.selection.getRng());return zc(r,e.getBody(),a).filter(function(i){return r?k8(i):aC(i)}).bind(function(i){return Z.from(Qy(r?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},m3=function(e,r){return e.selection.isCollapsed()?QM(e,r):!1},y1=on,qA=function(e){return y1(e)&&e.data[0]===Ae},GA=function(e){return y1(e)&&e.data[e.data.length-1]===Ae},b1=function(e){return e.ownerDocument.createTextNode(Ae)},e5=function(e){if(y1(e.previousSibling))return GA(e.previousSibling)||e.previousSibling.appendData(Ae),e.previousSibling;if(y1(e))return qA(e)||e.insertData(0,Ae),e;var r=b1(e);return e.parentNode.insertBefore(r,e),r},ZT=function(e){if(y1(e.nextSibling))return qA(e.nextSibling)||e.nextSibling.insertData(0,Ae),e.nextSibling;if(y1(e))return GA(e)||e.appendData(Ae),e;var r=b1(e);return e.nextSibling?e.parentNode.insertBefore(r,e.nextSibling):e.parentNode.appendChild(r),r},g3=function(e,r){return e?e5(r):ZT(r)},t5=yt(g3,!0),r5=yt(g3,!1),KA=function(e,r){return on(e.container())?g3(r,e.container()):g3(r,e.getNode())},Lg=function(e,r){var a=r.get();return a&&e.container()===a&&To(a)},lm=function(e,r){return r.fold(function(a){$d(e.get());var i=t5(a);return e.set(i),Z.some(pt(i,i.length-1))},function(a){return qu(a).map(function(i){if(Lg(i,e))return pt(e.get(),1);$d(e.get());var s=KA(i,!0);return e.set(s),pt(s,1)})},function(a){return Ds(a).map(function(i){if(Lg(i,e))return pt(e.get(),e.get().length-1);$d(e.get());var s=KA(i,!1);return e.set(s),pt(s,s.length-1)})},function(a){$d(e.get());var i=r5(a);return e.set(i),Z.some(pt(i,1))})},_k=function(e,r){for(var a=0;a<e.length;a++){var i=e[a].apply(null,r);if(i.isSome())return i}return Z.none()},Xu=Dn.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Hg=function(e,r){var a=El(r,e);return a||e},Th=function(e,r,a){var i=CA(a),s=Hg(r,i.container());return cm(e,s,i).fold(function(){return rl(s,i).bind(yt(cm,e,s)).map(function(f){return Xu.before(f)})},Z.none)},p3=function(e,r){return Iv(e,r)===null},Ck=function(e,r,a){return cm(e,r,a).filter(yt(p3,r))},XA=function(e,r,a){var i=v1(a);return Ck(e,r,i).bind(function(s){var f=Dl(s,i);return f.isNone()?Z.some(Xu.start(s)):Z.none()})},JT=function(e,r,a){var i=CA(a);return Ck(e,r,i).bind(function(s){var f=rl(s,i);return f.isNone()?Z.some(Xu.end(s)):Z.none()})},QT=function(e,r,a){var i=v1(a),s=Hg(r,i.container());return cm(e,s,i).fold(function(){return Dl(s,i).bind(yt(cm,e,s)).map(function(f){return Xu.after(f)})},Z.none)},ez=function(e){return kA(Vg(e))===!1},od=function(e,r,a){var i=_k([Th,XA,JT,QT],[e,r,a]);return i.filter(ez)},Vg=function(e){return e.fold(Tt,Tt,Tt,Tt)},tz=function(e){return e.fold(V("before"),V("start"),V("end"),V("after"))},Sk=function(e){return e.fold(Xu.before,Xu.before,Xu.after,Xu.after)},h3=function(e){return e.fold(Xu.start,Xu.start,Xu.end,Xu.end)},y3=function(e,r){return tz(e)===tz(r)&&Vg(e)===Vg(r)},YA=function(e,r,a,i,s,f){return Hu(cm(r,a,i),cm(r,a,s),function(g,y){return g!==y&&_A(a,g,y)?Xu.after(e?g:y):f}).getOr(f)},ZA=function(e,r){return e.fold(Ft,function(a){return!y3(a,r)})},JA=function(e,r,a,i,s){var f=cl(e,s),g=zc(e,a,f).map(yt(cl,e)),y=g.fold(function(){return i.map(Sk)},function(k){return od(r,a,k).map(yt(YA,e,r,a,f,k)).filter(yt(ZA,i))});return y.filter(ez)},QA=function(e,r){return e?r.fold(xn(Z.some,Xu.start),Z.none,xn(Z.some,Xu.after),Z.none):r.fold(Z.none,xn(Z.some,Xu.before),Z.none,xn(Z.some,Xu.end))},id=function(e,r,a,i){var s=cl(e,i),f=od(r,a,s);return od(r,a,s).bind(yt(QA,e)).orThunk(function(){return JA(e,r,a,f,i)})};yt(id,!1),yt(id,!0);var eO=function(e){return Le(e.selection.getSel().modify)},rz=function(e,r,a){var i=e?1:-1;return r.setRng(pt(a.container(),a.offset()+i).toRange()),r.getSel().modify("move",e?"forward":"backward","word"),!0},Ug=function(e,r){var a=r.selection.getRng(),i=e?pt.fromRangeEnd(a):pt.fromRangeStart(a);return eO(r)?e&&Nn(i)?rz(!0,r.selection,i):!e&&Jh(i)?rz(!1,r.selection,i):!1:!1},$u;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})($u||($u={}));var b3=function(e,r){return e===wu.Backwards?Vt(r):r},n5=function(e,r,a){return e===wu.Forwards?r.next(a):r.prev(a)},a5=function(e,r,a,i){return ho(i.getNode(r===wu.Forwards))?$u.Br:Al(a,i)===!1?$u.Block:$u.Wrap},tO=function(e,r,a,i){for(var s=di(a),f=i,g=[];f;){var y=n5(r,s,f);if(!y)break;if(ho(y.getNode(!1)))return r===wu.Forwards?{positions:b3(r,g).concat([y]),breakType:$u.Br,breakAt:Z.some(y)}:{positions:b3(r,g),breakType:$u.Br,breakAt:Z.some(y)};if(!y.isVisible()){f=y;continue}if(e(f,y)){var k=a5(a,r,f,y);return{positions:b3(r,g),breakType:k,breakAt:Z.some(y)}}g.push(y),f=y}return{positions:b3(r,g),breakType:$u.Eol,breakAt:Z.none()}},rO=function(e,r,a,i){return r(a,i).breakAt.map(function(s){var f=r(a,s).positions;return e===wu.Backwards?f.concat(s):[s].concat(f)}).getOr([])},nz=function(e,r){return Ne(e,function(a,i){return a.fold(function(){return Z.some(i)},function(s){return Hu(xr(s.getClientRects()),xr(i.getClientRects()),function(f,g){var y=Math.abs(r-f.left),k=Math.abs(r-g.left);return k<=y?i:s}).or(a)})},Z.none())},nO=function(e,r){return xr(r.getClientRects()).bind(function(a){return nz(e,a.left)})},xk=yt(tO,pt.isAbove,-1),Tk=yt(tO,pt.isBelow,1),o5=yt(rO,-1,xk),i5=yt(rO,1,Tk),u5=function(e,r){return xk(e,r).breakAt.isNone()},az=function(e,r){return Tk(e,r).breakAt.isNone()},oz=function(e){return qu(e).map(function(r){return[r].concat(Tk(e,r).positions)}).getOr([])},aO=function(e){return Ds(e).map(function(r){return xk(e,r).positions.concat(r)}).getOr([])},c5=function(e){var r=function(i){return Zr(i,function(s){var f=Md(s);return f.node=e,f})};if(Yn(e))return r(e.getClientRects());if(on(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),r(a.getClientRects())}},iz=function(e){return _n(e,c5)},jg;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(jg||(jg={}));var oO=function(e,r,a,i){for(;i=Hd(i,e,xi,r);)if(a(i))return},w3=function(e,r,a,i,s,f){var g=0,y=[],k=function($){var L=iz([$]);e===-1&&(L=L.reverse());for(var Q=0;Q<L.length;Q++){var te=L[Q];if(!a(te,O)){if(y.length>0&&r(te,Lo(y))&&g++,te.line=g,s(te))return!0;y.push(te)}}},O=Lo(f.getClientRects());if(!O)return y;var F=f.getNode();return k(F),oO(e,i,k,F),y},iO=function(e,r){return r.line>e},uO=function(e,r){return r.line===e},uz=yt(w3,jg.Up,Um,jm),s5=yt(w3,jg.Down,jm,Um),l5=function(e,r,a,i){var s=di(r),f,g,y,k,O=[],F=0,$=function(ne){return Lo(ne.getClientRects())};e===1?(f=s.next,g=jm,y=Um,k=pt.after(i)):(f=s.prev,g=Um,y=jm,k=pt.before(i));var L=$(k);do if(k.isVisible()){var Q=$(k);if(!y(Q,L)){O.length>0&&g(Q,Lo(O))&&F++;var te=Md(Q);if(te.position=k,te.line=F,a(te))return O;O.push(te)}}while(k=f(k));return O},ud=function(e){return function(r){return iO(e,r)}},ll=function(e){return function(r){return uO(e,r)}},k3=Fo,cz=Hd,w1=function(e,r){return Math.abs(e.left-r)},_3=function(e,r){return Math.abs(e.right-r)},sz=function(e,r){return e>=r.left&&e<=r.right},cO=function(e,r){return e>=r.top&&e<=r.bottom},sO=function(e){return ia(e,"node")},zk=function(e,r,a){return a===void 0&&(a=Ft),Jo(e,function(i,s){if(sz(r,s))return a(s)?s:i;if(sz(r,i))return a(i)?i:s;var f=Math.min(w1(i,r),_3(i,r)),g=Math.min(w1(s,r),_3(s,r));return g===f&&sO(s)&&k3(s.node)||g<f?s:i})},lz=function(e,r,a,i,s){var f=cz(i,e,xi,r,!s);do if(!f||a(f))return;while(f=cz(f,e,xi,r))},C3=function(e,r,a){a===void 0&&(a=!0);var i=[],s=function(f,g){var y=Fe(iz([g]),function(k){return!f(k,r)});return i=i.concat(y),y.length===0};return i.push(r),lz(jg.Up,e,yt(s,Um),r.node,a),lz(jg.Down,e,yt(s,jm),r.node,a),i},S3=function(e){return Fe(sr(e.getElementsByTagName("*")),Mv)},fz=function(e,r){return{node:e.node,before:w1(e,r)<_3(e,r)}},f5=function(e,r,a){var i=iz(S3(e)),s=Fe(i,yt(cO,a)),f=function(k){return!wi(k.node)&&!bc(k.node)},g=zk(s,r,f);if(g){var y=f(g);if(g=zk(C3(e,g,y),r,f),g&&Mv(g.node))return fz(g,r)}return null},fm=function(e,r){e.selection.setRng(r),Zp(e,e.selection.getRng())},dz=function(e,r,a){return Z.some(f3(e,r,a))},lO=function(e,r,a,i,s,f){var g=r===wu.Forwards,y=di(e.getBody()),k=yt(J0,g?y.next:y.prev),O=g?i:s;if(!a.collapsed){var F=Av(a);if(f(F))return sm(r,e,F,r===wu.Backwards,!1)}var $=sg(r,e.getBody(),a);if(O($))return p1(e,$.getNode(!g));var L=cl(g,k($)),Q=ql(a);if(!L)return Q?Z.some(a):Z.none();if(O(L))return sm(r,e,L.getNode(!g),g,!1);var te=k(L);return te&&O(te)&&rb(L,te)?sm(r,e,te.getNode(!g),g,!1):Q?dz(e,L.toRange(),!1):Z.none()},vz=function(e,r,a,i,s,f){var g=sg(r,e.getBody(),a),y=Lo(g.getClientRects()),k=r===jg.Down;if(!y)return Z.none();var O=k?s5:uz,F=O(e.getBody(),ud(1),g),$=Fe(F,ll(1)),L=y.left,Q=zk($,L);if(Q&&f(Q.node)){var te=Math.abs(L-Q.left),ne=Math.abs(L-Q.right);return sm(r,e,Q.node,te<ne,!1)}var ae;if(i(g)?ae=g.getNode():s(g)?ae=g.getNode(!0):ae=Av(a),ae){var pe=l5(r,e.getBody(),ud(1),ae),ge=zk(Fe(pe,ll(1)),L);if(ge||(ge=Lo(Fe(pe,ll(0))),ge))return dz(e,ge.position.toRange(),!1)}return $.length===0?mz(e,k).filter(k?s:i).map(function(je){return f3(e,je.toRange(),!1)}):Z.none()},mz=function(e,r){var a=e.selection.getRng(),i=e.getBody();if(r){var s=pt.fromRangeEnd(a),f=Tk(i,s);return Rr(f.positions)}else{var s=pt.fromRangeStart(a),f=xk(i,s);return xr(f.positions)}},fO=function(e,r,a){return mz(e,r).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},k1=function(e,r){var a=e.dom.createRng();a.setStart(r.container(),r.offset()),a.setEnd(r.container(),r.offset()),e.selection.setRng(a)},dO=function(e,r){e?r.setAttribute("data-mce-selected","inline-boundary"):r.removeAttribute("data-mce-selected")},vO=function(e,r,a){return lm(r,a).map(function(i){return k1(e,i),a})},d5=function(e,r,a){var i=e.getBody(),s=pt.fromRangeStart(e.selection.getRng()),f=yt(Ig,e),g=id(a,f,i,s);return g.bind(function(y){return vO(e,r,y)})},v5=function(e,r,a){var i=Zr(yu(S.fromDom(r.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(g){return g.dom}),s=Fe(i,e),f=Fe(a,e);At(nt(s,f),yt(dO,!1)),At(nt(f,s),yt(dO,!0))},m5=function(e,r){if(e.selection.isCollapsed()&&e.composing!==!0&&r.get()){var a=pt.fromRangeStart(e.selection.getRng());pt.isTextPosition(a)&&PM(a)===!1&&(k1(e,W_(r.get(),a)),r.set(null))}},g5=function(e,r,a,i){if(r.selection.isCollapsed()){var s=Fe(i,e);At(s,function(f){var g=pt.fromRangeStart(r.selection.getRng());od(e,r.getBody(),g).bind(function(y){return vO(r,a,y)})})}},mO=function(e,r,a){return Ip(e)?d5(e,r,a).isSome():!1},Ek=function(e,r,a){return Ip(r)?Ug(e,r):!1},x3=function(e){var r=oc(null),a=yt(Ig,e);return e.on("NodeChange",function(i){Ip(e)&&!(dr.browser.isIE()&&i.initial)&&(v5(a,e.dom,i.parents),m5(e,r),g5(a,e,r,i.parents))}),r},gz=yt(Ek,!0),p5=yt(Ek,!1),T3=function(e,r,a){if(Ip(e)){var i=mz(e,r).getOrThunk(function(){var s=e.selection.getRng();return r?pt.fromRangeEnd(s):pt.fromRangeStart(s)});return od(yt(Ig,e),e.getBody(),i).exists(function(s){var f=Sk(s);return lm(a,f).exists(function(g){return k1(e,g),!0})})}else return!1},h5=function(e,r){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(r.container(),r.offset()),a},y5=function(e){return Hu(qu(e),Ds(e),function(r,a){var i=cl(!0,r),s=cl(!1,a);return rl(e,i).forall(function(f){return f.isEqual(s)})}).getOr(!0)},pz=function(e,r){return function(a){return lm(r,a).exists(function(i){return k1(e,i),!0})}},gO=function(e,r,a,i){var s=e.getBody(),f=yt(Ig,e);e.undoManager.ignore(function(){e.selection.setRng(h5(a,i)),e.execCommand("Delete"),od(f,s,pt.fromRangeStart(e.selection.getRng())).map(h3).map(pz(e,r))}),e.nodeChanged()},b5=function(e,r){var a=El(r,e);return a||e},hz=function(e,r,a,i){var s=b5(e.getBody(),i.container()),f=yt(Ig,e),g=od(f,s,i);return g.bind(function(y){return a?y.fold(V(Z.some(h3(y))),Z.none,V(Z.some(Sk(y))),Z.none):y.fold(Z.none,V(Z.some(Sk(y))),Z.none,V(Z.some(h3(y))))}).map(pz(e,r)).getOrThunk(function(){var y=Ol(a,s,i),k=y.bind(function(O){return od(f,s,O)});return Hu(g,k,function(){return cm(f,s,i).exists(function(O){return y5(O)?(er(e,a,S.fromDom(O)),!0):!1})}).orThunk(function(){return k.bind(function(O){return y.map(function(F){return a?gO(e,r,i,F):gO(e,r,F,i),!0})})}).getOr(!1)})},z3=function(e,r,a){if(e.selection.isCollapsed()&&Ip(e)){var i=pt.fromRangeStart(e.selection.getRng());return hz(e,r,a,i)}return!1},w5=function(e,r){var a=Tn(r,e);return br(a,os).fold(V(a),function(i){return a.slice(0,i)})},k5=function(e){return qh(e)===1},_5=function(e,r,a,i){var s=yt(ME,r),f=Zr(Fe(i,s),function(y){return y.dom});if(f.length===0)er(r,e,a);else{var g=cP(a.dom,f);r.selection.setRng(g.toRange())}},C5=function(e,r){var a=S.fromDom(e.getBody()),i=S.fromDom(e.selection.getStart()),s=Fe(w5(a,i),k5);return Rr(s).exists(function(f){var g=pt.fromRangeStart(e.selection.getRng());return BM(r,g,f.dom)&&!NE(f)?(_5(r,e,f,s),!0):!1})},E3=function(e,r){return e.selection.isCollapsed()?C5(e,r):!1},yz=function(e,r,a){return e._selectionOverrides.hideFakeCaret(),er(e,r,S.fromDom(a)),!0},A3=function(e,r){var a=r?Ag:Og,i=r?wu.Forwards:wu.Backwards,s=sg(i,e.getBody(),e.selection.getRng());return a(s)?yz(e,r,s.getNode(!r)):Z.from(cl(r,s)).filter(function(f){return a(f)&&rb(s,f)}).exists(function(f){return yz(e,r,f.getNode(!r))})},O3=function(e,r){var a=e.selection.getNode();return bc(a)?yz(e,r,a):!1},D3=function(e,r){return e.selection.isCollapsed()?A3(e,r):O3(e,r)},S5=function(e){return _m(e,function(r){return qs(r.dom)||Fo(r.dom)}).exists(function(r){return qs(r.dom)})},_1=function(e){var r=parseInt(e,10);return isNaN(r)?0:r},pO=function(e,r){var a=e||CS(r)?"margin":"padding",i=ya(r,"direction")==="rtl"?"-right":"-left";return a+i},x5=function(e,r,a,i,s,f){var g=pO(a,S.fromDom(f));if(r==="outdent"){var y=Math.max(0,_1(f.style[g])-i);e.setStyle(f,g,y?y+s:"")}else{var y=_1(f.style[g])+i+s;e.setStyle(f,g,y)}},T5=function(e,r){return $n(r,function(a){var i=pO(R_(e),a),s=vu(a,i).map(_1).getOr(0),f=e.dom.getContentEditable(a.dom);return f!=="false"&&s>0})},hO=function(e){var r=bO(e);return!e.mode.isReadOnly()&&(r.length>1||T5(e,r))},yO=function(e){return Xs(e)||Bu(e)},z5=function(e){return ti(e).exists(yO)},bO=function(e){return Fe(Gi(e.selection.getSelectedBlocks()),function(r){return!yO(r)&&!z5(r)&&S5(r)})},wO=function(e,r){var a=e.dom,i=e.selection,s=e.formatter,f=$0(e),g=/[a-z%]+$/i.exec(f)[0],y=parseInt(f,10),k=R_(e),O=bu(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&O===""&&!a.getParent(i.getNode(),a.isBlock)&&s.apply("div"),At(bO(e),function(F){x5(a,r,k,y,g,F.dom)})},kO=function(e,r){if(e.selection.isCollapsed()&&hO(e)){var a=e.dom,i=e.selection.getRng(),s=pt.fromRangeStart(i),f=a.getParent(i.startContainer,a.isBlock);if(f!==null&&Ib(S.fromDom(f),s))return wO(e,"outdent"),!0}return!1},_O=function(e,r){e.getDoc().execCommand(r,!1,null)},E5=function(e,r){if(!kO(e)){if(v3(e,!1))return;if(d3(e,!1))return;if(z3(e,r,!1))return;if(s3(e,!1))return;if(hh(e))return;if(m3(e,!1))return;if(D3(e,!1))return;if(l3(e))return;if(E3(e,!1))return;_O(e,"Delete"),TA(e)}},A5=function(e,r){if(!v3(e,!0)){if(d3(e,!0))return;if(z3(e,r,!0))return;if(s3(e,!0))return;if(hh(e))return;if(m3(e,!0))return;if(D3(e,!0))return;if(l3(e))return;if(E3(e,!0))return;_O(e,"ForwardDelete")}},wf=function(e,r){e.addCommand("delete",function(){E5(e,r)}),e.addCommand("forwardDelete",function(){A5(e,r)})},R3=5,CO=400,bz=function(e){return e.touches===void 0||e.touches.length!==1?Z.none():Z.some(e.touches[0])},O5=function(e,r){var a=Math.abs(e.clientX-r.x),i=Math.abs(e.clientY-r.y);return a>R3||i>R3},SO=function(e){var r=Bd(),a=oc(!1),i=qi(function(s){e.fire("longpress",fn(fn({},s),{type:"longpress"})),a.set(!0)},CO);e.on("touchstart",function(s){bz(s).each(function(f){i.cancel();var g={x:f.clientX,y:f.clientY,target:s.target};i.throttle(s),a.set(!1),r.set(g)})},!0),e.on("touchmove",function(s){i.cancel(),bz(s).each(function(f){r.on(function(g){O5(f,g)&&(r.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(s){i.cancel(),s.type!=="touchcancel"&&r.get().filter(function(f){return f.target.isEqualNode(s.target)}).each(function(){a.get()?s.preventDefault():e.fire("tap",fn(fn({},s),{type:"tap"}))})},!0)},wz=function(e,r){return Fr(e,r.nodeName)},xO=function(e,r){return on(r)?!0:Yn(r)?!wz(e,r)&&!Ec(r):!1},D5=function(e,r,a){return qr(cC(S.fromDom(a),S.fromDom(r)),function(i){return wz(e,i.dom)})},R5=function(e,r){if(on(r)){if(r.nodeValue.length===0)return!0;if(/^\s+$/.test(r.nodeValue)&&(!r.nextSibling||wz(e,r.nextSibling)))return!0}return!1},P5=function(e){var r=e.dom,a=e.selection,i=e.schema,s=i.getBlockElements(),f=a.getStart(),g=e.getBody(),y,k,O,F=bu(e);if(!(!f||!Yn(f)||!F)){var $=g.nodeName.toLowerCase();if(!(!i.isValidChild($,F.toLowerCase())||D5(s,g,f))){var L=a.getRng(),Q=L.startContainer,te=L.startOffset,ne=L.endContainer,ae=L.endOffset,pe=Bs(e);for(f=g.firstChild;f;)if(xO(s,f)){if(R5(s,f)){k=f,f=f.nextSibling,r.remove(k);continue}y||(y=r.create(F,Xm(e)),f.parentNode.insertBefore(y,f),O=!0),k=f,f=f.nextSibling,y.appendChild(k)}else y=null,f=f.nextSibling;O&&pe&&(L.setStart(Q,te),L.setEnd(ne,ae),a.setRng(L),e.nodeChanged())}}},C1=function(e){bu(e)&&e.on("NodeChange",yt(P5,e))},TO=function(e){return Cm(S.fromDom(e.getBody()),"*[data-mce-caret]").map(function(r){return r.dom}).getOrNull()},zO=function(e){e.selection.setRng(e.selection.getRng())},kz=function(e,r){r.hasAttribute("data-mce-caret")&&(j1(r),zO(e),e.selection.scrollIntoView(r))},_z=function(e,r){var a=TO(e);if(a){if(r.type==="compositionstart"){r.preventDefault(),r.stopPropagation(),kz(e,a);return}Ff(a)&&(kz(e,a),e.undoManager.add())}},B5=function(e){e.on("keyup compositionstart",yt(_z,e))},EO=Fo,M5=function(e,r,a){return lO(r,e,a,Zd,Jd,EO)},N5=function(e,r,a){var i=function(f){return Zd(f)||oC(f)},s=function(f){return Jd(f)||iC(f)};return vz(r,e,a,i,s,EO)},F5=function(e){var r=e.dom.create(bu(e));return(!dr.ie||dr.ie>=11)&&(r.innerHTML='<br data-mce-bogus="1">'),r},AO=function(e,r,a){var i=di(e.getBody()),s=yt(J0,r===1?i.next:i.prev);if(a.collapsed&&vx(e)){var f=e.dom.getParent(a.startContainer,"PRE");if(!f)return;var g=s(pt.fromRangeStart(a));if(!g){var y=F5(e);r===1?e.$(f).after(y):e.$(f).before(y),e.selection.select(y,!0),e.selection.collapse()}}},cd=function(e,r){var a=r?wu.Forwards:wu.Backwards,i=e.selection.getRng();return M5(a,e,i).orThunk(function(){return AO(e,a,i),Z.none()})},I5=function(e,r){var a=r?1:-1,i=e.selection.getRng();return N5(a,e,i).orThunk(function(){return AO(e,a,i),Z.none()})},OO=function(e,r){return cd(e,r).exists(function(a){return fm(e,a),!0})},DO=function(e,r){return I5(e,r).exists(function(a){return fm(e,a),!0})},RO=function(e,r){var a=r?Jd:Zd;return fO(e,r,a)},$5=function(e){return Zt(["figcaption"],Wa(e))},PO=function(e){var r=document.createRange();return r.setStartBefore(e.dom),r.setEndBefore(e.dom),r},BO=function(e,r,a){a?Bi(e,r):xs(e,r)},Wg=function(e,r){var a=S.fromTag("br");return BO(e,a,r),PO(a)},L5=function(e,r,a,i){var s=S.fromTag(a),f=S.fromTag("br");return I(s,i),Bi(s,f),BO(e,s,r),PO(f)},H5=function(e,r,a,i){return r===""?Wg(e,i):L5(e,i,r,a)},MO=function(e,r){var a=yt(jn,r);return _m(S.fromDom(e.container()),os,a).filter($5)},Cz=function(e,r,a){return r?az(e.dom,a):u5(e.dom,a)},V5=function(e,r){var a=S.fromDom(e.getBody()),i=pt.fromRangeStart(e.selection.getRng()),s=bu(e),f=Xm(e);return MO(i,a).exists(function(){if(Cz(a,r,i)){var g=H5(a,s,f,r);return e.selection.setRng(g),!0}else return!1})},NO=function(e,r){return e.selection.isCollapsed()?V5(e,r):!1},U5=function(e){return Zr(e,function(r){return fn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:dt},r)})},zh=function(e,r){return r.keyCode===e.keyCode&&r.shiftKey===e.shiftKey&&r.altKey===e.altKey&&r.ctrlKey===e.ctrlKey&&r.metaKey===e.metaKey},j5=function(e,r){return _n(U5(e),function(a){return zh(a,r)?[a]:[]})},$a=function(e){for(var r=[],a=1;a<arguments.length;a++)r[a-1]=arguments[a];return function(){return e.apply(null,r)}},S1=function(e,r){return ut(j5(e,r),function(a){return a.action()})},FO=function(e,r){var a=r?wu.Forwards:wu.Backwards,i=e.selection.getRng();return lO(e,a,i,Ag,Og,bc).exists(function(s){return fm(e,s),!0})},P3=function(e,r){var a=r?1:-1,i=e.selection.getRng();return vz(e,a,i,Ag,Og,bc).exists(function(s){return fm(e,s),!0})},B3=function(e,r){var a=r?Og:Ag;return fO(e,r,a)},IO=function(e,r){return{left:e.left-r,top:e.top-r,right:e.right+r*2,bottom:e.bottom+r*2,width:e.width+r,height:e.height+r}},$O=function(e,r){return _n(r,function(a){var i=IO(Md(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},LO=function(e,r,a){return Ne(e,function(i,s){return i.fold(function(){return Z.some(s)},function(f){var g=Math.sqrt(Math.abs(f.x-r)+Math.abs(f.y-a)),y=Math.sqrt(Math.abs(s.x-r)+Math.abs(s.y-a));return Z.some(y<g?s:f)})},Z.none())},HO=function(e,r,a,i,s){var f=yu(S.fromDom(a),"td,th,caption").map(function(y){return y.dom}),g=Fe($O(e,f),function(y){return r(y,s)});return LO(g,i,s).map(function(y){return y.cell})},Ak=function(e){return e.bottom},W5=function(e){return e.top},q5=function(e,r){return e.y<r},G5=function(e,r){return e.y>r},x1=yt(HO,Ak,q5),K5=yt(HO,W5,G5),dm=function(e,r){return xr(r.getClientRects()).bind(function(a){return x1(e,a.left,a.top)}).bind(function(a){return nO(aO(a),r)})},X5=function(e,r){return Rr(r.getClientRects()).bind(function(a){return K5(e,a.left,a.top)}).bind(function(a){return nO(oz(a),r)})},Sz=function(e,r,a){return a.breakAt.exists(function(i){return e(r,i).breakAt.isSome()})},xz=function(e){return e.breakType===$u.Wrap&&e.positions.length===0},Y5=function(e){return e.breakType===$u.Br&&e.positions.length===1},VO=function(e,r,a){var i=e(r,a);return xz(i)||!ho(a.getNode())&&Y5(i)?!Sz(e,r,i):i.breakAt.isNone()},Z5=yt(VO,xk),UO=yt(VO,Tk),J5=function(e,r,a){var i=pt.fromRangeStart(r);return Kf(!e,a).exists(function(s){return s.isEqual(i)})},Q5=function(e,r,a,i){var s=e.selection.getRng(),f=r?1:-1;return X0()&&J5(r,s,a)?(sm(f,e,a,!r,!1).each(function(g){fm(e,g)}),!0):!1},e6=function(e,r,a){return dm(r,a).orThunk(function(){return xr(a.getClientRects()).bind(function(i){return nz(o5(e,pt.before(r)),i.left)})}).getOr(pt.before(r))},t6=function(e,r,a){return X5(r,a).orThunk(function(){return xr(a.getClientRects()).bind(function(i){return nz(i5(e,pt.after(r)),i.left)})}).getOr(pt.after(r))},Tz=function(e,r){var a=r.getNode(e);return Yn(a)&&a.nodeName==="TABLE"?Z.some(a):Z.none()},r6=function(e,r,a,i){var s=bu(r);s?r.undoManager.transact(function(){var f=S.fromTag(s);I(f,Xm(r)),Bi(f,S.fromTag("br")),e?gd(S.fromDom(a),f):fu(S.fromDom(a),f);var g=r.dom.createRng();g.setStart(f.dom,0),g.setEnd(f.dom,0),fm(r,g)}):fm(r,i.toRange())},qg=function(e,r,a){var i=Tz(!!r,a),s=r===!1;i.fold(function(){return fm(e,a.toRange())},function(f){return Kf(s,e.getBody()).filter(function(g){return g.isEqual(a)}).fold(function(){return fm(e,a.toRange())},function(g){return r6(r,e,f,a)})})},n6=function(e,r,a,i){var s=e.selection.getRng(),f=pt.fromRangeStart(s),g=e.getBody();if(!r&&Z5(i,f)){var y=e6(g,a,f);return qg(e,r,y),!0}else if(r&&UO(i,f)){var y=t6(g,a,f);return qg(e,r,y),!0}else return!1},T1=function(e,r,a){return Z.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return Z.from(e.dom.getParent(i,"table")).map(function(s){return a(e,r,s,i)})}).getOr(!1)},zz=function(e,r){return T1(e,r,Q5)},M3=function(e,r){return T1(e,r,n6)},Ez=function(e,r,a){var i=Kr().os;S1([{keyCode:Wn.RIGHT,action:$a(OO,e,!0)},{keyCode:Wn.LEFT,action:$a(OO,e,!1)},{keyCode:Wn.UP,action:$a(DO,e,!1)},{keyCode:Wn.DOWN,action:$a(DO,e,!0)},{keyCode:Wn.RIGHT,action:$a(zz,e,!0)},{keyCode:Wn.LEFT,action:$a(zz,e,!1)},{keyCode:Wn.UP,action:$a(M3,e,!1)},{keyCode:Wn.DOWN,action:$a(M3,e,!0)},{keyCode:Wn.RIGHT,action:$a(FO,e,!0)},{keyCode:Wn.LEFT,action:$a(FO,e,!1)},{keyCode:Wn.UP,action:$a(P3,e,!1)},{keyCode:Wn.DOWN,action:$a(P3,e,!0)},{keyCode:Wn.RIGHT,action:$a(mO,e,r,!0)},{keyCode:Wn.LEFT,action:$a(mO,e,r,!1)},{keyCode:Wn.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:$a(gz,e,r)},{keyCode:Wn.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:$a(p5,e,r)},{keyCode:Wn.UP,action:$a(NO,e,!1)},{keyCode:Wn.DOWN,action:$a(NO,e,!0)}],a).each(function(s){a.preventDefault()})},a6=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&Ez(e,r,a)})},o6=function(e,r,a){S1([{keyCode:Wn.BACKSPACE,action:$a(kO,e,!1)},{keyCode:Wn.BACKSPACE,action:$a(v3,e,!1)},{keyCode:Wn.DELETE,action:$a(v3,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(d3,e,!1)},{keyCode:Wn.DELETE,action:$a(d3,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(z3,e,r,!1)},{keyCode:Wn.DELETE,action:$a(z3,e,r,!0)},{keyCode:Wn.BACKSPACE,action:$a(hh,e,!1)},{keyCode:Wn.DELETE,action:$a(hh,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(m3,e,!1)},{keyCode:Wn.DELETE,action:$a(m3,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(D3,e,!1)},{keyCode:Wn.DELETE,action:$a(D3,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(l3,e,!1)},{keyCode:Wn.DELETE,action:$a(l3,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(s3,e,!1)},{keyCode:Wn.DELETE,action:$a(s3,e,!0)},{keyCode:Wn.BACKSPACE,action:$a(E3,e,!1)},{keyCode:Wn.DELETE,action:$a(E3,e,!0)}],a).each(function(i){a.preventDefault()})},i6=function(e,r){S1([{keyCode:Wn.BACKSPACE,action:$a(WA,e)},{keyCode:Wn.DELETE,action:$a(WA,e)}],r)},Az=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&o6(e,r,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&i6(e,a)})},u6=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},Ok=function(e,r){var a,i=r,s=e.dom,f=e.schema.getMoveCaretBeforeOnEnterElements();if(r){if(/^(LI|DT|DD)$/.test(r.nodeName)){var g=u6(r.firstChild);g&&/^(UL|OL|DL)$/.test(g.nodeName)&&r.insertBefore(s.doc.createTextNode(Vc),r.firstChild)}var y=s.createRng();if(r.normalize(),r.hasChildNodes()){for(var k=new io(r,r);a=k.current();){if(on(a)){y.setStart(a,0),y.setEnd(a,0);break}if(f[a.nodeName.toLowerCase()]){y.setStartBefore(a),y.setEndBefore(a);break}i=a,a=k.next()}a||(y.setStart(i,0),y.setEnd(i,0))}else ho(r)?r.nextSibling&&s.isBlock(r.nextSibling)?(y.setStartBefore(r),y.setEndBefore(r)):(y.setStartAfter(r),y.setEndAfter(r)):(y.setStart(r,0),y.setEnd(r,0));e.selection.setRng(y),Zp(e,y)}},c6=function(e,r){var a=e.getRoot(),i,s;for(i=r;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},Oz=function(e){return Z.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},jO=function(e){return Oz(e).fold(V(""),function(r){return r.nodeName.toUpperCase()})},s6=function(e){return Oz(e).filter(function(r){return Bu(S.fromDom(r))}).isSome()},l6=function(e,r){return e.firstChild&&e.firstChild.nodeName===r},f6=function(e){var r;return((r=e.parentNode)===null||r===void 0?void 0:r.firstChild)===e},WO=function(e,r){return e&&e.parentNode&&e.parentNode.nodeName===r},qO=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},d6=function(e){return qO(e)&&qO(e.parentNode)},N3=function(e){var r=e.parentNode;return/^(LI|DT|DD)$/.test(r.nodeName)?r:e},F3=function(e,r,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Yn(i);)i=i[a?"nextSibling":"previousSibling"];return i===r},GO=function(e,r,a,i,s){var f=e.dom,g=e.selection.getRng();if(a!==e.getBody()){d6(a)&&(s="LI");var y=s?r(s):f.create("BR");if(F3(a,i,!0)&&F3(a,i,!1))if(WO(a,"LI")){var k=N3(a);f.insertAfter(y,k),f6(a)?f.remove(k):f.remove(a)}else f.replace(y,a);else if(F3(a,i,!0))WO(a,"LI")?(f.insertAfter(y,N3(a)),y.appendChild(f.doc.createTextNode(" ")),y.appendChild(a)):a.parentNode.insertBefore(y,a),f.remove(i);else if(F3(a,i,!1))f.insertAfter(y,N3(a)),f.remove(i);else{a=N3(a);var O=g.cloneRange();O.setStartAfter(i),O.setEndAfter(a);var F=O.extractContents();s==="LI"&&l6(F,"LI")?(y=F.firstChild,f.insertAfter(F,a)):(f.insertAfter(F,a),f.insertAfter(y,a)),f.remove(i)}Ok(e,y)}},v6=function(e){At(Vm(S.fromDom(e),Go),function(r){var a=r.dom;a.nodeValue=_c(a.nodeValue)})},KO=function(e,r){return r&&r.nodeName==="A"&&e.isEmpty(r)},m6=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Dz=function(e){e.innerHTML='<br data-mce-bogus="1">'},Rz=function(e,r){return e.nodeName===r||e.previousSibling&&e.previousSibling.nodeName===r},XO=function(e,r){return r&&e.isBlock(r)&&!/^(TD|TH|CAPTION|FORM)$/.test(r.nodeName)&&!/^(fixed|absolute)/i.test(r.style.position)&&e.getContentEditable(r)!=="true"},g6=function(e,r,a){var i=a,s=[],f;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Yn(i)&&!r[i.nodeName.toLowerCase()]&&s.push(i)}for(f=s.length;f--;)i=s[f],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||KO(e,i))&&e.remove(i)}},Pz=function(e,r,a){return on(r)===!1?a:e?a===1&&r.data.charAt(a-1)===Ae?0:a:a===r.data.length-1&&r.data.charAt(a)===Ae?r.data.length:a},p6=function(e){var r=e.cloneRange();return r.setStart(e.startContainer,Pz(!0,e.startContainer,e.startOffset)),r.setEnd(e.endContainer,Pz(!1,e.endContainer,e.endOffset)),r},h6=function(e){do on(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},YO=function(e,r){var a=e.getRoot(),i,s;for(i=r;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},y6=function(e,r,a){var i=e.dom;Z.from(a.style).map(i.parseStyle).each(function(k){var O=ni(S.fromDom(r)),F=fn(fn({},O),k);i.setStyles(r,F)});var s=Z.from(a.class).map(function(k){return k.split(/\s+/)}),f=Z.from(r.className).map(function(k){return Fe(k.split(/\s+/),function(O){return O!==""})});Hu(s,f,function(k,O){var F=Fe(O,function(L){return!Zt(k,L)}),$=Ho(Ho([],k,!0),F,!0);i.setAttrib(r,"class",$.join(" "))});var g=["style","class"],y=Ee(a,function(k,O){return!Zt(g,O)});i.setAttribs(r,y)},Dk=function(e,r){var a=bu(e);if(a&&a.toLowerCase()===r.tagName.toLowerCase()){var i=Xm(e);y6(e,r,i)}},b6=function(e,r,a,i,s){var f,g,y,k,O,F,$=r||"P",L=e.dom,Q=YO(L,i);if(g=L.getParent(i,L.isBlock),!g||!XO(L,g)){if(g=g||Q,g===e.getBody()||m6(g)?F=g.nodeName.toLowerCase():F=g.parentNode.nodeName.toLowerCase(),!g.hasChildNodes())return f=L.create($),Dk(e,f),g.appendChild(f),a.setStart(f,0),a.setEnd(f,0),f;for(k=i;k.parentNode!==g;)k=k.parentNode;for(;k&&!L.isBlock(k);)y=k,k=k.previousSibling;if(y&&e.schema.isValidChild(F,$.toLowerCase())){for(f=L.create($),Dk(e,f),y.parentNode.insertBefore(f,y),k=y;k&&!L.isBlock(k);)O=k.nextSibling,f.appendChild(k),k=O;a.setStart(i,s),a.setEnd(i,s)}}return i},w6=function(e,r){r.normalize();var a=r.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(r,"br")},ZO=function(e,r){var a,i,s,f,g,y,k,O,F,$,L=e.dom,Q=e.schema,te=Q.getNonEmptyElements(),ne=e.selection.getRng(),ae=function(It){var ur=i,Vn,Qr,jt,En=Q.getTextInlineElements();if(It||O==="TABLE"||O==="HR"?Vn=L.create(It||F):Vn=f.cloneNode(!1),jt=Vn,ox(e)===!1)L.setAttrib(Vn,"style",null),L.setAttrib(Vn,"class",null);else do if(En[ur.nodeName]){if(of(ur)||Ec(ur))continue;Qr=ur.cloneNode(!1),L.setAttrib(Qr,"id",""),Vn.hasChildNodes()?(Qr.appendChild(Vn.firstChild),Vn.appendChild(Qr)):(jt=Qr,Vn.appendChild(Qr))}while((ur=ur.parentNode)&&ur!==we);return Dk(e,Vn),Dz(jt),Vn},pe=function(It){var ur,Vn,Qr=Pz(It,i,s);if(on(i)&&(It?Qr>0:Qr<i.nodeValue.length))return!1;if(i.parentNode===f&&$&&!It||It&&Yn(i)&&i===f.firstChild)return!0;if(Rz(i,"TABLE")||Rz(i,"HR"))return $&&!It||!$&&It;var jt=new io(i,f);for(on(i)&&(It&&Qr===0?jt.prev():!It&&Qr===i.nodeValue.length&&jt.next());ur=jt.current();){if(Yn(ur)){if(!ur.getAttribute("data-mce-bogus")&&(Vn=ur.nodeName.toLowerCase(),te[Vn]&&Vn!=="br"))return!1}else if(on(ur)&&!Ys(ur.nodeValue))return!1;It?jt.prev():jt.next()}return!0},ge=function(){/^(H[1-6]|PRE|FIGURE)$/.test(O)&&Ge!=="HGROUP"?g=ae(F):g=ae(),Mp(e)&&XO(L,k)&&L.isEmpty(f)?g=L.split(k,f):L.insertAfter(g,f),Ok(e,g)};kb(L,ne).each(function(It){ne.setStart(It.startContainer,It.startOffset),ne.setEnd(It.endContainer,It.endOffset)}),i=ne.startContainer,s=ne.startOffset,F=bu(e);var je=!!(r&&r.shiftKey),Be=!!(r&&r.ctrlKey);Yn(i)&&i.hasChildNodes()&&($=s>i.childNodes.length-1,i=i.childNodes[Math.min(s,i.childNodes.length-1)]||i,$&&on(i)?s=i.nodeValue.length:s=0);var we=YO(L,i);if(we){(F&&!je||!F&&je)&&(i=b6(e,F,ne,i,s)),f=L.getParent(i,L.isBlock),k=f?L.getParent(f.parentNode,L.isBlock):null,O=f?f.nodeName.toUpperCase():"";var Ge=k?k.nodeName.toUpperCase():"";if(Ge==="LI"&&!Be&&(f=k,k=k.parentNode,O=Ge),/^(LI|DT|DD)$/.test(O)&&L.isEmpty(f)){GO(e,ae,k,f,F);return}F&&f===e.getBody()||(F=F||"P",yo(f)?(g=j1(f),L.isEmpty(f)&&Dz(f),Dk(e,g),Ok(e,g)):pe()?ge():pe(!0)?(g=f.parentNode.insertBefore(ae(),f),Ok(e,Rz(f,"HR")?g:f)):(a=p6(ne).cloneRange(),a.setEndAfter(f),y=a.extractContents(),v6(y),h6(y),g=y.firstChild,L.insertAfter(y,f),g6(L,te,g),w6(L,f),L.isEmpty(f)&&Dz(f),g.normalize(),L.isEmpty(g)?(L.remove(g),ge()):(Dk(e,g),Ok(e,g))),L.setAttrib(g,"id",""),e.fire("NewBlock",{newBlock:g}))}},k6=function(e,r,a){for(var i=new io(r,a),s,f=e.getNonEmptyElements();s=i.next();)if(f[s.nodeName.toLowerCase()]||s.length>0)return!0},JO=function(e,r,a){var i=e.dom.createRng();a?(i.setStartBefore(r),i.setEndBefore(r)):(i.setStartAfter(r),i.setEndAfter(r)),e.selection.setRng(i),Zp(e,i)},QO=function(e,r){var a=e.selection,i=e.dom,s=a.getRng(),f,g;kb(i,s).each(function(te){s.setStart(te.startContainer,te.startOffset),s.setEnd(te.endContainer,te.endOffset)});var y=s.startOffset,k=s.startContainer;if(k.nodeType===1&&k.hasChildNodes()){var O=y>k.childNodes.length-1;k=k.childNodes[Math.min(y,k.childNodes.length-1)]||k,O&&k.nodeType===3?y=k.nodeValue.length:y=0}var F=i.getParent(k,i.isBlock),$=F?i.getParent(F.parentNode,i.isBlock):null,L=$?$.nodeName.toUpperCase():"",Q=!!(r&&r.ctrlKey);L==="LI"&&!Q&&(F=$),k&&k.nodeType===3&&y>=k.nodeValue.length&&(k6(e.schema,k,F)||(f=i.create("br"),s.insertNode(f),s.setStartAfter(f),s.setEndAfter(f),g=!0)),f=i.create("br"),Fy(i,s,f),JO(e,f,g),e.undoManager.add()},eD=function(e,r){var a=S.fromTag("br");fu(S.fromDom(r),a),e.undoManager.add()},I3=function(e,r){Bz(e.getBody(),r)||gd(S.fromDom(r),S.fromTag("br"));var a=S.fromTag("br");gd(S.fromDom(r),a),JO(e,a.dom,!1),e.undoManager.add()},tD=function(e){return ho(e.getNode())},Bz=function(e,r){return tD(pt.after(r))?!0:rl(e,pt.after(r)).map(function(a){return ho(a.getNode())}).getOr(!1)},$3=function(e){return e&&e.nodeName==="A"&&"href"in e},rD=function(e){return e.fold(Ve,$3,$3,Ve)},_6=function(e){var r=yt(Ig,e),a=pt.fromRangeStart(e.selection.getRng());return od(r,e.getBody(),a).filter(rD)},nD=function(e,r){r.fold(dt,yt(eD,e),yt(I3,e),dt)},Eh=function(e,r){var a=_6(e);a.isSome()?a.each(yt(nD,e)):QO(e,r)},Mz=function(e,r){return Oz(e).filter(function(a){return r.length>0&&Or(S.fromDom(a),r)}).isSome()},Nz=function(e){return Mz(e,Ym(e))},C6=function(e){return Mz(e,D_(e))},ys=Dn.generate([{br:[]},{block:[]},{none:[]}]),S6=function(e,r){return C6(e)},Fz=function(e){return function(r,a){var i=bu(r)==="";return i===e}},aD=function(e){return function(r,a){return s6(r)===e}},oD=function(e,r){return function(a,i){var s=jO(a)===e.toUpperCase();return s===r}},L3=function(e){return oD("pre",e)},x6=function(){return oD("summary",!0)},Rk=function(e){return function(r,a){return F0(r)===e}},z1=function(e,r){return Nz(e)},Pk=function(e,r){return r},H3=function(e){var r=bu(e),a=c6(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,r||"P")},Nl=function(e,r){return function(a,i){var s=Ne(e,function(f,g){return f&&g(a,i)},!0);return s?Z.some(r):Z.none()}},iD=function(e,r){return _k([Nl([S6],ys.none()),Nl([x6()],ys.br()),Nl([L3(!0),Rk(!1),Pk],ys.br()),Nl([L3(!0),Rk(!1)],ys.block()),Nl([L3(!0),Rk(!0),Pk],ys.block()),Nl([L3(!0),Rk(!0)],ys.br()),Nl([aD(!0),Pk],ys.br()),Nl([aD(!0)],ys.block()),Nl([Fz(!0),Pk,H3],ys.block()),Nl([Fz(!0)],ys.br()),Nl([z1],ys.br()),Nl([Fz(!1),Pk],ys.br()),Nl([H3],ys.block())],[e,!!(r&&r.shiftKey)]).getOr(ys.none())},Iz=function(e,r){iD(e,r).fold(function(){Eh(e,r)},function(){ZO(e,r)},dt)},uD=function(e,r){r.isDefaultPrevented()||(r.preventDefault(),YP(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),Iz(e,r)}))},cD=function(e){e.on("keydown",function(r){r.keyCode===Wn.ENTER&&uD(e,r)})},$z=function(e,r,a){S1([{keyCode:Wn.END,action:$a(RO,e,!0)},{keyCode:Wn.HOME,action:$a(RO,e,!1)},{keyCode:Wn.END,action:$a(B3,e,!0)},{keyCode:Wn.HOME,action:$a(B3,e,!1)},{keyCode:Wn.END,action:$a(T3,e,!0,r)},{keyCode:Wn.HOME,action:$a(T3,e,!1,r)}],a).each(function(i){a.preventDefault()})},sD=function(e,r){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&$z(e,r,a)})},T6=Kr().browser,z6=function(e){var r=xy(function(){e.composing||hC(e)},0);T6.isIE()&&(e.on("keypress",function(a){r.throttle()}),e.on("remove",function(a){r.cancel()}))},V3=function(e){z6(e),e.on("input",function(r){r.isComposing===!1&&hC(e)})},E6=Kr(),A6=function(e,r,a){S1([{keyCode:Wn.PAGE_UP,action:$a(T3,e,!1,r)},{keyCode:Wn.PAGE_DOWN,action:$a(T3,e,!0,r)}],a)},lD=function(e){return e.stopImmediatePropagation()},Lz=function(e){return e.keyCode===Wn.PAGE_UP||e.keyCode===Wn.PAGE_DOWN},fD=function(e,r,a){a&&!e.get()?r.on("NodeChange",lD,!0):!a&&e.get()&&r.off("NodeChange",lD),e.set(a)},O6=function(e,r){if(!E6.os.isOSX()){var a=oc(!1);e.on("keydown",function(i){Lz(i)&&fD(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&A6(e,r,i),Lz(i)&&a.get()&&(fD(a,e,!1),e.nodeChanged())})}},Ls=function(e,r){var a=r.container(),i=r.offset();return on(a)?(a.insertData(i,e),Z.some(pt(a,i+e.length))):tb(r).map(function(s){var f=S.fromText(e);return r.isAtEnd()?gd(s,f):fu(s,f),pt(f.dom,e.length)})},D6=yt(Ls,Vc),Hz=yt(Ls," "),dD=function(e){return function(r){return r.fold(function(a){return Dl(e.dom,pt.before(a))},function(a){return qu(a)},function(a){return Ds(a)},function(a){return rl(e.dom,pt.after(a))})}},Vz=function(e,r){return function(a){return Vb(e,a)?D6(r):Hz(r)}},R6=function(e){return function(r){return e.selection.setRng(r.toRange()),e.nodeChanged(),!0}},P6=function(e){var r=pt.fromRangeStart(e.selection.getRng()),a=S.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=yt(Ig,e),s=pt.fromRangeStart(e.selection.getRng());return od(i,e.getBody(),s).bind(dD(a)).bind(Vz(a,r)).exists(R6(e))}else return!1},vD=function(e,r){S1([{keyCode:Wn.SPACEBAR,action:$a(P6,e)}],r).each(function(a){r.preventDefault()})},B6=function(e){e.on("keydown",function(r){r.isDefaultPrevented()===!1&&vD(e,r)})},M6=function(e){var r=x3(e);return B5(e),a6(e,r),Az(e,r),cD(e),B6(e),V3(e),sD(e,r),O6(e,r),r},N6=function(e){return om(e)?oc(null):M6(e)},F6=function(){function e(r){this.lastPath=[],this.editor=r;var a,i=this;"onselectionchange"in r.getDoc()||r.on("NodeChange click mouseup keyup focus",function(s){var f=r.selection.getRng(),g={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(s.type==="nodechange"||!zw(g,a))&&r.fire("SelectionChange"),a=g}),r.on("contextmenu",function(){r.fire("SelectionChange")}),r.on("SelectionChange",function(){var s=r.selection.getStart(!0);!s||!dr.range&&r.selection.isCollapsed()||Wd(r)&&!i.isSameElementPath(s)&&r.dom.isChildOf(s,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on("mouseup",function(s){!s.isDefaultPrevented()&&Wd(r)&&(r.selection.getNode().nodeName==="IMG"?Pu.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}return e.prototype.nodeChanged=function(r){var a=this.editor.selection,i,s,f;this.editor.initialized&&a&&!mx(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),i=a.getStart(!0)||f,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,f))&&(i=f),s=[],this.editor.dom.getParent(i,function(g){if(g===f)return!0;s.push(g)}),r=r||{},r.element=i,r.parents=s,this.editor.fire("NodeChange",r))},e.prototype.isSameElementPath=function(r){var a,i=this.editor.$(r).parentsUntil(this.editor.getBody()).add(r);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),I6=function(e){e.on("click",function(r){e.dom.getParent(r.target,"details")&&r.preventDefault()})},$6=function(e){e.parser.addNodeFilter("details",function(r){At(r,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(r){At(r,function(a){var i=a.attr("data-mce-open");a.attr("open",Ht(i)?i:null),a.attr("data-mce-open",null)})})},L6=function(e){I6(e),$6(e)},mD=function(e){return Yn(e)&&Wl(S.fromDom(e))},H6=function(e){var r=e.selection.getRng(),a=pt.fromRangeStart(r),i=pt.fromRangeEnd(r);if(pt.isElementPosition(a)){var s=a.container();mD(s)&&qu(s).each(function(f){return r.setStart(f.container(),f.offset())})}if(pt.isElementPosition(i)){var s=a.container();mD(s)&&Ds(s).each(function(g){return r.setEnd(g.container(),g.offset())})}e.selection.setRng(M8(r))},vc=function(e){e.on("click",function(r){r.detail>=3&&H6(e)})},gD=function(e){var r=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,s=a.defaultView;return{top:r.top+s.pageYOffset-i.clientTop,left:r.left+s.pageXOffset-i.clientLeft}},V6=function(e){return e.inline?gD(e.getBody()):{left:0,top:0}},U6=function(e){var r=e.getBody();return e.inline?{left:r.scrollLeft,top:r.scrollTop}:{left:0,top:0}},bs=function(e){var r=e.getBody(),a=e.getDoc().documentElement,i={left:r.scrollLeft,top:r.scrollTop},s={left:r.scrollLeft||a.scrollLeft,top:r.scrollTop||a.scrollTop};return e.inline?i:s},j6=function(e,r){if(r.target.ownerDocument!==e.getDoc()){var a=gD(e.getContentAreaContainer()),i=bs(e);return{left:r.pageX-a.left+i.left,top:r.pageY-a.top+i.top}}return{left:r.pageX,top:r.pageY}},pD=function(e,r,a){return{pageX:a.left-e.left+r.left,pageY:a.top-e.top+r.top}},W6=function(e,r){return pD(V6(e),U6(e),j6(e,r))},vm=Fo,q6=qs,G6=function(e,r){return vm(r)&&r!==e},Uz=function(e,r,a){return r===a||e.dom.isChildOf(r,a)?!1:!vm(r)},K6=function(e){var r=e.cloneNode(!0);return r.removeAttribute("data-mce-selected"),r},X6=function(e,r,a,i){var s=e.dom,f=r.cloneNode(!0);s.setStyles(f,{width:a,height:i}),s.setAttrib(f,"data-mce-selected",null);var g=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(g,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),s.setStyles(f,{margin:0,boxSizing:"border-box"}),g.appendChild(f),g},Y6=function(e,r){e.parentNode!==r&&r.appendChild(e)},Z6=function(e,r,a,i,s,f){var g=0,y=0;e.style.left=r.pageX+"px",e.style.top=r.pageY+"px",r.pageX+a>s&&(g=r.pageX+a-s),r.pageY+i>f&&(y=r.pageY+i-f),e.style.width=a-g+"px",e.style.height=i-y+"px"},hD=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},J6=function(e){return e.button===0},U3=function(e,r){return{pageX:r.pageX-e.relX,pageY:r.pageY+5}},yD=function(e,r){return function(a){if(J6(a)){var i=ut(r.dom.getParents(a.target),XS(vm,q6)).getOr(null);if(G6(r.getBody(),i)){var s=r.dom.getPos(i),f=r.getBody(),g=r.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(r.inline?f.scrollWidth:g.offsetWidth)-2,maxY:(r.inline?f.scrollHeight:g.offsetHeight)-2,relX:a.pageX-s.x,relY:a.pageY-s.y,width:i.offsetWidth,height:i.offsetHeight,ghost:X6(r,i,i.offsetWidth,i.offsetHeight)})}}}},Q6=function(e,r){var a=Pu.throttle(function(i,s){r._selectionOverrides.hideFakeCaret(),r.selection.placeCaretAt(i,s)},0);return r.on("remove",a.stop),function(i){return e.on(function(s){var f=Math.max(Math.abs(i.screenX-s.screenX),Math.abs(i.screenY-s.screenY));if(!s.dragging&&f>10){var g=r.fire("dragstart",{target:s.element});if(g.isDefaultPrevented())return;s.dragging=!0,r.focus()}if(s.dragging){var y=U3(s,W6(r,i));Y6(s.ghost,r.getBody()),Z6(s.ghost,y,s.width,s.height,s.maxX,s.maxY),a(i.clientX,i.clientY)}})}},eN=function(e){var r=e.getSel().getRangeAt(0),a=r.startContainer;return a.nodeType===3?a.parentNode:a},tN=function(e,r){return function(a){e.on(function(i){if(i.dragging){if(Uz(r,eN(r.selection),i.element)){var s=K6(i.element),f=r.fire("drop",{clientX:a.clientX,clientY:a.clientY});f.isDefaultPrevented()||r.undoManager.transact(function(){hD(i.element),r.insertContent(r.dom.getOuterHTML(s)),r._selectionOverrides.hideFakeCaret()})}r.fire("dragend")}}),bD(e)}},rN=function(e,r){return function(){e.on(function(a){a.dragging&&r.fire("dragend")}),bD(e)}},bD=function(e){e.on(function(r){hD(r.ghost)}),e.clear()},jz=function(e){var r=Bd(),a=Ro.DOM,i=document,s=yD(r,e),f=Q6(r,e),g=tN(r,e),y=rN(r,e);e.on("mousedown",s),e.on("mousemove",f),e.on("mouseup",g),a.bind(i,"mousemove",f),a.bind(i,"mouseup",y),e.on("remove",function(){a.unbind(i,"mousemove",f),a.unbind(i,"mouseup",y)}),e.on("keydown",function(k){k.keyCode===Wn.ESC&&y()})},wD=function(e){e.on("drop",function(r){var a=typeof r.clientX<"u"?e.getDoc().elementFromPoint(r.clientX,r.clientY):null;(vm(a)||e.dom.getContentEditableParent(a)==="false")&&r.preventDefault()})},kD=function(e){var r=function(s){if(!s.isDefaultPrevented()){var f=s.dataTransfer;f&&(Zt(f.types,"Files")||f.files.length>0)&&(s.preventDefault(),s.type==="drop"&&o3(e,"Dropped file type is not supported"))}},a=function(s){Eb(e,s.target)&&r(s)},i=function(){var s=Ro.DOM,f=e.dom,g=document,y=e.inline?e.getBody():e.getDoc(),k=["drop","dragover"];At(k,function(O){s.bind(g,O,a),f.bind(y,O,r)}),e.on("remove",function(){At(k,function(O){s.unbind(g,O,a),f.unbind(y,O,r)})})};e.on("init",function(){Pu.setEditorTimeout(e,i,0)})},_D=function(e){jz(e),wD(e),Qm(e)&&kD(e)},nN=function(e){var r=xy(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=f3(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){r.throttle()}),e.on("blur",function(){r.cancel()})},aN=function(e){e.on("init",function(){e.on("focusin",function(r){var a=r.target;if(bc(a)){var i=Uv(e.getBody(),a),s=Fo(i)?i:a;e.selection.getNode()!==s&&p1(e,s).each(function(f){return e.selection.setRng(f)})}})})},CD=qs,Ah=Fo,j3=function(e,r){return Uv(e.getBody(),r)},oN=function(e){var r=e.selection,a=e.dom,i=a.isBlock,s=e.getBody(),f=Wu(e,s,i,function(){return Bs(e)}),g="sel-"+a.uniqueId(),y="data-mce-selected",k,O=function(jt){return a.hasClass(jt,"mce-offscreen-selection")},F=function(jt){return jt!==s&&(Ah(jt)||bc(jt))&&a.isChildOf(jt,s)},$=function(jt){return Zd(jt)||Jd(jt)||Ag(jt)||Og(jt)},L=function(){var jt=a.get(g);return jt&&jt.getElementsByTagName("*")[0]},Q=function(jt){jt&&r.setRng(jt)},te=r.getRng,ne=function(jt,En,hr,Yr){Yr===void 0&&(Yr=!0);var wr=e.fire("ShowCaret",{target:En,direction:jt,before:hr});return wr.isDefaultPrevented()?null:(Yr&&r.scrollIntoView(En,jt===-1),f.show(hr,En))},ae=function(jt){jt.hasAttribute("data-mce-caret")&&(j1(jt),Q(te()),r.scrollIntoView(jt))},pe=function(){e.on("mouseup",function(wr){var Hr=te();Hr.collapsed&&oA(e,wr.clientX,wr.clientY)&&KT(e,Hr,!1).each(Q)}),e.on("click",function(wr){var Hr=j3(e,wr.target);Hr&&(Ah(Hr)&&(wr.preventDefault(),e.focus()),CD(Hr)&&a.isChildOf(Hr,r.getNode())&&ur())}),e.on("blur NewBlock",ur),e.on("ResizeWindow FullscreenStateChanged",f.reposition);var jt=function(wr){var Hr=wr.firstChild;if(Nr(Hr))return!1;var sn=pt.before(Hr);if(ho(sn.getNode())&&wr.childNodes.length===1)return!$(sn);var tr=di(wr),rn=tr.next(sn);return rn&&!$(rn)},En=function(wr,Hr){var sn=a.getParent(wr,i),tr=a.getParent(Hr,i);return sn===tr},hr=function(wr,Hr){var sn=a.getParent(wr,i),tr=a.getParent(Hr,i);return Nr(sn)?!1:wr!==tr&&a.isChildOf(sn,tr)&&Ah(j3(e,sn))===!1?!0:!a.isChildOf(tr,sn)&&!En(sn,tr)&&jt(sn)};e.on("tap",function(wr){var Hr=wr.target,sn=j3(e,Hr);Ah(sn)?(wr.preventDefault(),p1(e,sn).each(It)):F(Hr)&&p1(e,Hr).each(It)},!0),e.on("mousedown",function(wr){var Hr=wr.target;if(!(Hr!==s&&Hr.nodeName!=="HTML"&&!a.isChildOf(Hr,s))&&oA(e,wr.clientX,wr.clientY)!==!1){var sn=j3(e,Hr);if(sn)Ah(sn)?(wr.preventDefault(),p1(e,sn).each(It)):(ur(),!(CD(sn)&&wr.shiftKey)&&!jv(wr.clientX,wr.clientY,r.getRng())&&(Qr(),r.placeCaretAt(wr.clientX,wr.clientY)));else if(F(Hr))p1(e,Hr).each(It);else if(Mv(Hr)===!1){ur(),Qr();var tr=f5(s,wr.clientX,wr.clientY);if(tr&&!hr(Hr,tr.node)){wr.preventDefault();var rn=ne(1,tr.node,tr.before,!1);Q(rn),e.getBody().focus()}}}}),e.on("keypress",function(wr){Wn.modifierPressed(wr)||Ah(r.getNode())&&wr.preventDefault()}),e.on("GetSelectionRange",function(wr){var Hr=wr.range;if(k){if(!k.parentNode){k=null;return}Hr=Hr.cloneRange(),Hr.selectNode(k),wr.range=Hr}}),e.on("SetSelectionRange",function(wr){wr.range=Be(wr.range);var Hr=It(wr.range,wr.forward);Hr&&(wr.range=Hr)});var Yr=function(wr){return wr.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(wr){var Hr=wr.range,sn=Hr.startContainer.parentNode;!je(Hr)&&!Yr(sn)&&Qr(),O(sn)||ur()}),e.on("copy",function(wr){var Hr=wr.clipboardData;if(!wr.isDefaultPrevented()&&wr.clipboardData&&!dr.ie){var sn=L();sn&&(wr.preventDefault(),Hr.clearData(),Hr.setData("text/html",sn.outerHTML),Hr.setData("text/plain",sn.outerText||sn.innerText))}}),_D(e),nN(e),aN(e)},ge=function(jt){return Cc(jt)||vp(jt)||mp(jt)},je=function(jt){return ge(jt.startContainer)||ge(jt.endContainer)},Be=function(jt){var En=e.schema.getShortEndedElements(),hr=a.createRng(),Yr=jt.startContainer,wr=jt.startOffset,Hr=jt.endContainer,sn=jt.endOffset;return Fr(En,Yr.nodeName.toLowerCase())?wr===0?hr.setStartBefore(Yr):hr.setStartAfter(Yr):hr.setStart(Yr,wr),Fr(En,Hr.nodeName.toLowerCase())?sn===0?hr.setEndBefore(Hr):hr.setEndAfter(Hr):hr.setEnd(Hr,sn),hr},we=function(jt,En,hr){var Yr=e.$,wr=Cm(S.fromDom(e.getBody()),"#"+g).fold(function(){return Yr([])},function(tr){return Yr([tr.dom])});wr.length===0&&(wr=Yr('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",g),wr.appendTo(e.getBody()));var Hr=a.createRng();En===hr&&dr.ie?(wr.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(En),Hr.setStartAfter(wr[0].firstChild.firstChild),Hr.setEndAfter(En)):(wr.empty().append(Vc).append(En).append(Vc),Hr.setStart(wr[0].firstChild,1),Hr.setEnd(wr[0].lastChild,0)),wr.css({top:a.getPos(jt,e.getBody()).y}),wr[0].focus();var sn=r.getSel();return sn.removeAllRanges(),sn.addRange(Hr),Hr},Ge=function(jt){var En=jt.cloneNode(!0),hr=e.fire("ObjectSelected",{target:jt,targetClone:En});if(hr.isDefaultPrevented())return null;var Yr=we(jt,hr.targetClone,En),wr=S.fromDom(jt);return At(yu(S.fromDom(e.getBody()),"*[data-mce-selected]"),function(Hr){jn(wr,Hr)||xt(Hr,y)}),a.getAttrib(jt,y)||jt.setAttribute(y,"1"),k=jt,Qr(),Yr},It=function(jt,En){if(!jt)return null;if(jt.collapsed){if(!je(jt)){var hr=En?1:-1,Yr=sg(hr,s,jt),wr=Yr.getNode(!En);if(Mv(wr))return ne(hr,wr,En?!Yr.isAtEnd():!1,!1);var Hr=Yr.getNode(En);if(Mv(Hr))return ne(hr,Hr,En?!1:!Yr.isAtEnd(),!1)}return null}var sn=jt.startContainer,tr=jt.startOffset,rn=jt.endOffset;if(sn.nodeType===3&&tr===0&&Ah(sn.parentNode)&&(sn=sn.parentNode,tr=a.nodeIndex(sn),sn=sn.parentNode),sn.nodeType!==1)return null;if(rn===tr+1&&sn===jt.endContainer){var Ca=sn.childNodes[tr];if(F(Ca))return Ge(Ca)}return null},ur=function(){k&&k.removeAttribute(y),Cm(S.fromDom(e.getBody()),"#"+g).each(ri),k=null},Vn=function(){f.destroy(),k=null},Qr=function(){f.hide()};return dr.ceFalse&&!om(e)&&pe(),{showCaret:ne,showBlockCaretContainer:ae,hideFakeCaret:Qr,destroy:Vn}},SD=function(e){var r=wt.each,a=Wn.BACKSPACE,i=Wn.DELETE,s=e.dom,f=e.selection,g=e.parser,y=dr.gecko,k=dr.ie,O=dr.webkit,F="data:text/mce-internal,",$=k?"Text":"URL",L=function(rr,Dr){try{e.getDoc().execCommand(rr,!1,Dr)}catch{}},Q=function(rr){return rr.isDefaultPrevented()},te=function(rr){var Dr,An;rr.dataTransfer&&(e.selection.isCollapsed()&&rr.target.tagName==="IMG"&&f.select(rr.target),Dr=e.selection.getContent(),Dr.length>0&&(An=F+escape(e.id)+","+escape(Dr),rr.dataTransfer.setData($,An)))},ne=function(rr){var Dr;return rr.dataTransfer&&(Dr=rr.dataTransfer.getData($),Dr&&Dr.indexOf(F)>=0)?(Dr=Dr.substr(F.length).split(","),{id:unescape(Dr[0]),html:unescape(Dr[1])}):null},ae=function(rr,Dr){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:rr,internal:Dr}):e.execCommand("mceInsertContent",!1,rr)},pe=function(){var rr=function(An){var Qe=s.create("body"),fr=An.cloneContents();return Qe.appendChild(fr),f.serializer.serialize(Qe,{format:"html"})},Dr=function(An){var Qe=rr(An),fr=s.createRng();fr.selectNode(e.getBody());var ar=rr(fr);return Qe===ar};e.on("keydown",function(An){var Qe=An.keyCode,fr,ar;if(!Q(An)&&(Qe===i||Qe===a)){if(fr=e.selection.isCollapsed(),ar=e.getBody(),fr&&!s.isEmpty(ar)||!fr&&!Dr(e.selection.getRng()))return;An.preventDefault(),e.setContent(""),ar.firstChild&&s.isBlock(ar.firstChild)?e.selection.setCursorLocation(ar.firstChild,0):e.selection.setCursorLocation(ar,0),e.nodeChanged()}})},ge=function(){e.shortcuts.add("meta+a",null,"SelectAll")},je=function(){e.inline||s.bind(e.getDoc(),"mousedown mouseup",function(rr){var Dr;if(rr.target===e.getDoc().documentElement)if(Dr=f.getRng(),e.getBody().focus(),rr.type==="mousedown"){if(Cc(Dr.startContainer))return;f.placeCaretAt(rr.clientX,rr.clientY)}else f.setRng(Dr)})},Be=function(){e.on("keydown",function(rr){if(!Q(rr)&&rr.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var Dr=f.getNode(),An=Dr.previousSibling;if(Dr.nodeName==="HR"){s.remove(Dr),rr.preventDefault();return}An&&An.nodeName&&An.nodeName.toLowerCase()==="hr"&&(s.remove(An),rr.preventDefault())}}})},we=function(){Range.prototype.getClientRects||e.on("mousedown",function(rr){if(!Q(rr)&&rr.target.nodeName==="HTML"){var Dr=e.getBody();Dr.blur(),Pu.setEditorTimeout(e,function(){Dr.focus()})}})},Ge=function(){e.on("click",function(rr){var Dr=rr.target;/^(IMG|HR)$/.test(Dr.nodeName)&&s.getContentEditableParent(Dr)!=="false"&&(rr.preventDefault(),e.selection.select(Dr),e.nodeChanged()),Dr.nodeName==="A"&&s.hasClass(Dr,"mce-item-anchor")&&(rr.preventDefault(),f.select(Dr))})},It=function(){var rr=function(){var An=s.getAttribs(f.getStart().cloneNode(!1));return function(){var Qe=f.getStart();Qe!==e.getBody()&&(s.setAttrib(Qe,"style",null),r(An,function(fr){Qe.setAttributeNode(fr.cloneNode(!0))}))}},Dr=function(){return!f.isCollapsed()&&s.getParent(f.getStart(),s.isBlock)!==s.getParent(f.getEnd(),s.isBlock)};e.on("keypress",function(An){var Qe;if(!Q(An)&&(An.keyCode===8||An.keyCode===46)&&Dr())return Qe=rr(),e.getDoc().execCommand("delete",!1,null),Qe(),An.preventDefault(),!1}),s.bind(e.getDoc(),"cut",function(An){var Qe;!Q(An)&&Dr()&&(Qe=rr(),Pu.setEditorTimeout(e,function(){Qe()}))})},ur=function(){e.on("keydown",function(rr){if(!Q(rr)&&rr.keyCode===a&&f.isCollapsed()&&f.getRng().startOffset===0){var Dr=f.getNode().previousSibling;if(Dr&&Dr.nodeName&&Dr.nodeName.toLowerCase()==="table")return rr.preventDefault(),!1}})},Vn=function(){e.on("keydown",function(rr){var Dr,An;if(!(Q(rr)||rr.keyCode!==Wn.BACKSPACE)){Dr=f.getRng();var Qe=Dr.startContainer,fr=Dr.startOffset,ar=s.getRoot();if(An=Qe,!(!Dr.collapsed||fr!==0)){for(;An&&An.parentNode&&An.parentNode.firstChild===An&&An.parentNode!==ar;)An=An.parentNode;An.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,An),Dr=s.createRng(),Dr.setStart(Qe,0),Dr.setEnd(Qe,0),f.setRng(Dr))}}})},Qr=function(){var rr=function(){L("StyleWithCSS",!1),L("enableInlineTableEditing",!1),M_(e)||L("enableObjectResizing",!1)};gx(e)||e.on("BeforeExecCommand mousedown",rr)},jt=function(){var rr=function(){r(s.select("a"),function(Dr){var An=Dr.parentNode,Qe=s.getRoot();if(An.lastChild===Dr){for(;An&&!s.isBlock(An);){if(An.parentNode.lastChild!==An||An===Qe)return;An=An.parentNode}s.add(An,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(Dr){(Dr.type==="setcontent"||Dr.command==="mceInsertLink")&&rr()})},En=function(){bu(e)&&e.on("init",function(){L("DefaultParagraphSeparator",bu(e))})},hr=function(){e.on("keyup focusin mouseup",function(rr){Wn.modifierPressed(rr)||f.normalize()},!0)},Yr=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},wr=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},Hr=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(rr){var Dr;if(rr.target.nodeName==="HTML"){if(dr.ie>11){e.getBody().focus();return}Dr=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(Dr),e.selection.normalize(),e.nodeChanged()}}))},sn=function(){dr.mac&&e.on("keydown",function(rr){if(Wn.metaKeyPressed(rr)&&!rr.shiftKey&&(rr.keyCode===37||rr.keyCode===39)){rr.preventDefault();var Dr=e.selection.getSel();Dr.modify("move",rr.keyCode===37?"backward":"forward","lineboundary")}})},tr=function(){L("AutoUrlDetect",!1)},rn=function(){e.on("click",function(rr){var Dr=rr.target;do if(Dr.tagName==="A"){rr.preventDefault();return}while(Dr=Dr.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Ca=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(rr){rr.preventDefault()})})},Qa=function(){g.addNodeFilter("br",function(rr){for(var Dr=rr.length;Dr--;)rr[Dr].attr("class")==="Apple-interchange-newline"&&rr[Dr].remove()})},Ya=function(){e.on("dragstart",function(rr){te(rr)}),e.on("drop",function(rr){if(!Q(rr)){var Dr=ne(rr);if(Dr&&Dr.id!==e.id){rr.preventDefault();var An=Tw(rr.x,rr.y,e.getDoc());f.setRng(An),ae(Dr.html,!0)}}})},xu=dt,ii=function(){if(!y||e.removed)return!1;var rr=e.selection.getSel();return!rr||!rr.rangeCount||rr.rangeCount===0},Dc=function(){O&&(je(),Ge(),Ca(),ge(),dr.iOS&&(wr(),Hr(),rn())),y&&(we(),Qr(),Yr(),sn())},Hs=function(){Vn(),pe(),dr.windowsPhone||hr(),O&&(je(),Ge(),En(),Ca(),ur(),Qa(),dr.iOS?(wr(),Hr(),rn()):ge()),dr.ie>=11&&(Hr(),ur()),dr.ie&&(ge(),tr(),Ya()),y&&(Be(),we(),It(),Qr(),jt(),Yr(),sn(),ur())};return om(e)?Dc():Hs(),{refreshContentEditable:xu,isHidden:ii}},Wz=Ro.DOM,iN=function(e,r){var a=S.fromDom(e.getBody()),i=li(Ju(a)),s=S.fromTag("style");z(s,"type","text/css"),Bi(s,S.fromText(r)),Bi(i,s),e.on("remove",function(){ri(s)})},uN=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},qz=function(e){return Ee(e,function(r){return Me(r)===!1})},Gz=function(e){var r=e.settings;return qz({block_elements:r.block_elements,boolean_attributes:r.boolean_attributes,custom_elements:r.custom_elements,extended_valid_elements:r.extended_valid_elements,invalid_elements:r.invalid_elements,invalid_styles:r.invalid_styles,move_caret_before_on_enter_elements:r.move_caret_before_on_enter_elements,non_empty_elements:r.non_empty_elements,schema:r.schema,self_closing_elements:r.self_closing_elements,short_ended_elements:r.short_ended_elements,special:r.special,text_block_elements:r.text_block_elements,text_inline_elements:r.text_inline_elements,valid_children:r.valid_children,valid_classes:r.valid_classes,valid_elements:r.valid_elements,valid_styles:r.valid_styles,verify_html:r.verify_html,whitespace_elements:r.whitespace_elements,padd_empty_block_inline_children:r.format_empty_lines})},xD=function(e){var r=e.settings,a=e.editorUpload.blobCache;return qz({allow_conditional_comments:r.allow_conditional_comments,allow_html_data_urls:r.allow_html_data_urls,allow_svg_data_urls:r.allow_svg_data_urls,allow_html_in_named_anchor:r.allow_html_in_named_anchor,allow_script_urls:r.allow_script_urls,allow_unsafe_link_target:r.allow_unsafe_link_target,convert_fonts_to_spans:r.convert_fonts_to_spans,fix_list_elements:r.fix_list_elements,font_size_legacy_values:r.font_size_legacy_values,forced_root_block:r.forced_root_block,forced_root_block_attrs:r.forced_root_block_attrs,padd_empty_with_br:r.padd_empty_with_br,preserve_cdata:r.preserve_cdata,remove_trailing_brs:r.remove_trailing_brs,inline_styles:r.inline_styles,root_name:uN(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:r.images_dataimg_filter})},cN=function(e){var r=e.settings;return fn(fn(fn({},xD(e)),Gz(e)),qz({url_converter:r.url_converter,url_converter_scope:r.url_converter_scope,element_format:r.element_format,entities:r.entities,entity_encoding:r.entity_encoding,indent:r.indent,indent_after:r.indent_after,indent_before:r.indent_before}))},sN=function(e){var r=YC(xD(e),e.schema);return r.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var s=a.length,f,g,y=e.dom,k="data-mce-"+i;s--;)if(f=a[s],g=f.attr(i),g&&!f.attr(k)){if(g.indexOf("data:")===0||g.indexOf("blob:")===0)continue;i==="style"?(g=y.serializeStyle(y.parseStyle(g),f.name),g.length||(g=null),f.attr(k,g),f.attr(i,g)):i==="tabindex"?(f.attr(k,g),f.attr(i,null)):f.attr(k,e.convertURL(g,i,f.name))}}),r.addNodeFilter("script",function(a){for(var i=a.length;i--;){var s=a[i],f=s.attr("type")||"no/type";f.indexOf("mce-")!==0&&s.attr("type","mce-"+f)}}),e.settings.preserve_cdata&&r.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var s=a[i];s.type=8,s.name="#comment",s.value="[CDATA["+e.dom.encode(s.value)+"]]"}}),r.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,s=e.schema.getNonEmptyElements();i--;){var f=a[i];f.isEmpty(s)&&f.getAll("br").length===0&&(f.append(new Ms("br",1)).shortEnded=!0)}}),r},lN=function(e){e.settings.auto_focus&&Pu.setEditorTimeout(e,function(){var r;e.settings.auto_focus===!0?r=e:r=e.editorManager.get(e.settings.auto_focus),r.destroyed||r.focus()},100)},TD=function(e){var r=e.dom.getRoot();!e.inline&&(!Wd(e)||e.selection.getStart(!0)===r)&&qu(r).each(function(a){var i=a.getNode(),s=wi(i)?qu(i).getOr(a):a;dr.browser.isIE()?c8(e,s.toRange()):e.selection.setRng(s.toRange())})},W3=function(e){e.bindPendingEventDelegates(),e.initialized=!0,v2(e),e.focus(!0),TD(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),lN(e)},Kz=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},zD=function(e,r,a){var i=[new eu(function(s,f){return Kz(e).loadAll(r,s,f)})];return e.inline?i:i.concat([new eu(function(s,f){return e.ui.styleSheetLoader.loadAll(a,s,f)})])},ED=function(e){var r=Kz(e),a=B_(e),i=e.contentCSS,s=function(){r.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},f=function(){e.removed?s():e.on("remove",s)};if(e.contentStyles.length>0){var g="";wt.each(e.contentStyles,function(k){g+=k+`\r
`}),e.dom.addStyle(g)}var y=eu.all(zD(e,i,a)).then(f).catch(f);return e.settings.content_style&&iN(e,e.settings.content_style),y},fN=function(e){var r=e.settings,a=e.getDoc(),i=e.getBody();df(e),!r.browser_spellcheck&&!r.gecko_spellcheck&&(a.body.spellcheck=!1,Wz.setAttrib(i,"spellcheck","false")),e.quirks=SD(e),d2(e);var s=zl(e);s!==void 0&&(i.dir=s),r.protect&&e.on("BeforeSetContent",function(f){wt.each(r.protect,function(g){f.content=f.content.replace(g,function(y){return"<!--mce:protected "+escape(y)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(f){e.composing=f.type==="compositionstart"})},Xz=function(e){om(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},Yz=function(e){e.removed!==!0&&(Xz(e),W3(e))},Zz=function(e,r){var a=e.settings,i=e.getElement(),s=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),e.inline||(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(Wz.addClass(i,"mce-content-body"),e.contentDocument=s=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var f=e.getBody();f.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&Wz.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=e.getParam("content_editable_state",!0)),f.disabled=!1,e.editorUpload=dc(e),e.schema=ls(Gz(e)),e.dom=Ro(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:qy(e),referrerPolicy:Gy(e),onSetAttrib:function(k){e.fire("SetAttrib",k)}}),e.parser=sN(e),e.serializer=RT(cN(e),e),e.selection=o1(e.dom,e.getWin(),e.serializer,e),e.annotator=hb(e),e.formatter=hi(e),e.undoManager=wA(e),e._nodeChangeDispatcher=new F6(e),e._selectionOverrides=oN(e),SO(e),L6(e),om(e)||vc(e);var g=N6(e);wf(e,g),C1(e),kk(e);var y=oB(e);fN(e),y.fold(function(){ED(e).then(function(){return Yz(e)})},function(k){e.setProgressState(!0),ED(e).then(function(){k().then(function(O){e.setProgressState(!1),Yz(e)},function(O){e.notificationManager.open({type:"error",text:String(O)}),Yz(e)})})})},Bk=Ro.DOM,dN=function(e,r){if(document.domain!==window.location.hostname&&dr.browser.isIE()){var a=vA("mce");e[a]=function(){Zz(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return Bk.setAttrib(r,"src",i),!0}return!1},kf=function(e,r,a,i){var s=S.fromTag("iframe");return I(s,i),I(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),zv(s,"tox-edit-area__iframe"),s},AD=function(e){var r=O_(e)+"<html><head>";N0(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=nx(e),i=ax(e),s=e.translate(V_(e));return Uy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+Uy(e)+'" />'),r+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+s+'">')+"<br></body></html>",r},OD=function(e,r){var a=e.translate("Rich Text Area"),i=kf(e.id,a,r.height,rx(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var s=dN(e,i);return e.contentAreaContainer=r.iframeContainer,e.iframeElement=i,e.iframeHTML=AD(e),Bk.add(r.iframeContainer,i),s},vN=function(e,r){var a=OD(e,r);r.editorContainer&&(Bk.get(r.editorContainer).style.display=e.orgDisplay,e.hidden=Bk.isHidden(r.editorContainer)),e.getElement().style.display="none",Bk.setAttrib(e.id,"aria-hidden","true"),a||Zz(e)},DD=Ro.DOM,RD=function(e,r,a){var i=nd.get(a),s=nd.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=wt.trim(a),i&&wt.inArray(r,a)===-1){if(wt.each(nd.dependencies(a),function(g){RD(e,r,g)}),e.plugins[a])return;try{var f=new i(e,s,e.$);e.plugins[a]=f,f.init&&(f.init(e,s),r.push(a))}catch(g){yM(e,a,g)}}},PD=function(e){return e.replace(/^\-/,"")},mN=function(e){var r=[];wt.each(Zy(e).split(/[ ,]/),function(a){RD(e,r,PD(a))})},gN=function(e){var r=wt.trim(nf(e)),a=e.ui.registry.getAll().icons,i=fn(fn({},a3.get("default").icons),a3.get(r).icons);lr(i,function(s,f){Fr(a,f)||e.ui.registry.addIcon(f,s)})},pN=function(e){var r=Zm(e);if(Ht(r)){e.settings.theme=PD(r);var a=Fg.get(r);e.theme=new a(e,Fg.urls[r]),e.theme.init&&e.theme.init(e,Fg.urls[r]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},Jz=function(e){return e.theme.renderUI()},hN=function(e){var r=e.getElement(),a=Zm(e),i=a(e,r);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:r.offsetHeight,i},BD=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},MD=function(e){var r=DD.create("div");return DD.insertAfter(r,e),BD(r)},yN=function(e){var r=e.getElement();return e.inline?BD(null):MD(r)},bN=function(e){var r=e.getElement();return e.orgDisplay=r.style.display,Ht(Zm(e))?Jz(e):Le(Zm(e))?hN(e):yN(e)},wN=function(e,r){var a={show:Z.from(r.show).getOr(dt),hide:Z.from(r.hide).getOr(dt),disable:Z.from(r.disable).getOr(dt),isDisabled:Z.from(r.isDisabled).getOr(Ve),enable:function(){e.mode.isReadOnly()||Z.from(r.enable).map(Rt)}};e.ui=fn(fn({},e.ui),a)},ND=function(e){e.fire("ScriptsLoaded"),gN(e),pN(e),mN(e);var r=bN(e);wN(e,Z.from(r.api).getOr({}));var a={editorContainer:r.editorContainer,iframeContainer:r.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,dA(e),e.inline?Zz(e):vN(e,a)},Oh=Ro.DOM,FD=function(e){return e.charAt(0)==="-"},Qz=function(e,r){var a=Ky(r),i=ru(r);if(ic.hasCode(a)===!1&&a!=="en"){var s=i!==""?i:r.editorManager.baseURL+"/langs/"+a+".js";e.add(s,dt,void 0,function(){hM(r,s,a)})}},kN=function(e,r,a,i){var s=Zm(r);if(Ht(s)){if(!FD(s)&&!Fr(Fg.urls,s)){var f=I_(r);f?Fg.load(s,r.documentBaseURI.toAbsolute(f)):Fg.load(s,"themes/"+s+"/theme"+a+".js")}e.loadQueue(function(){Fg.waitFor(s,i)})}else i()},ID=function(e){return Z.from(Wy(e)).filter(function(r){return r.length>0}).map(function(r){return{url:r,name:Z.none()}})},$D=function(e,r,a){return Z.from(r).filter(function(i){return i.length>0&&!a3.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:Z.some(i)}})},_N=function(e,r,a){var i=$D(r,"default",a),s=ID(r).orThunk(function(){return $D(r,nf(r),"")});At(ha([i,s]),function(f){e.add(f.url,dt,void 0,function(){lA(r,f.url,f.name.getOrUndefined())})})},CN=function(e,r){wt.each(hx(e),function(a,i){nd.load(i,a,dt,void 0,function(){LT(e,a,i)}),e.settings.plugins+=" "+i}),wt.each(Zy(e).split(/[ ,]/),function(a){if(a=wt.trim(a),a&&!nd.urls[a])if(FD(a)){a=a.substr(1,a.length);var i=nd.dependencies(a);wt.each(i,function(f){var g={prefix:"plugins/",resource:f,suffix:"/plugin"+r+".js"},y=nd.createUrl(g,f);nd.load(y.resource,y,dt,void 0,function(){LT(e,y.prefix+y.resource+y.suffix,y.resource)})})}else{var s={prefix:"plugins/",resource:a,suffix:"/plugin"+r+".js"};nd.load(a,s,dt,void 0,function(){LT(e,s.prefix+s.resource+s.suffix,a)})}})},SN=function(e,r){var a=Uf.ScriptLoader;kN(a,e,r,function(){Qz(a,e),_N(a,e,r),CN(e,r),a.loadQueue(function(){e.removed||ND(e)},e,function(){e.removed||ND(e)})})},Su=function(e,r){return Ks.forElement(e,{contentCssCors:px(r),referrerPolicy:Gy(r)})},xN=function(e){var r=e.id;ic.setCode(Ky(e));var a=function(){Oh.unbind(window,"ready",a),e.render()};if(!Pm.Event.domLoaded){Oh.bind(window,"ready",a);return}if(e.getElement()&&dr.contentEditable){var i=S.fromDom(e.getElement()),s=kn(i);e.on("remove",function(){Qt(i.dom.attributes,function(g){return xt(i,g.name)}),I(i,s)}),e.ui.styleSheetLoader=Su(i,e),fx(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var f=e.getElement().form||Oh.getParent(r,"form");f&&(e.formElement=f,$_(e)&&!du(e.getElement())&&(Oh.insertAfter(Oh.create("input",{type:"hidden",name:r}),r),e.hasHiddenInput=!0),e.formEventDelegate=function(g){e.fire(g.type,g)},Oh.bind(f,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),L_(e)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),f._mceOldSubmit(f)})),e.windowManager=NT(e),e.notificationManager=cA(e),V0(e)&&e.on("GetContent",function(g){g.save&&(g.content=Oh.encode(g.content))}),dx(e)&&e.on("submit",function(){e.initialized&&e.save()}),Yy(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),SN(e,e.suffix)}},TN=function(e,r){return hB(e,r)},zN={"font-size":"size","font-family":"face"},LD=function(e,r,a){var i=function(f){return vu(f,e).orThunk(function(){return Wa(f)==="font"?cr(zN,e).bind(function(g){return fe(f,g)}):Z.none()})},s=function(f){return jn(S.fromDom(r),f)};return W8(S.fromDom(a),function(f){return i(f)},s)},eE=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},EN=function(e,r){return Z.from(Ro.DOM.getStyle(r,e,!0))},tE=function(e){return function(r,a){return Z.from(a).map(S.fromDom).filter(No).bind(function(i){return LD(e,r,i.dom).or(EN(e,i.dom))}).getOr("")}},AN=tE("font-size"),ON=xn(eE,tE("font-family")),DN=function(e){return qu(e.getBody()).map(function(r){var a=r.container();return on(a)?a.parentNode:a})},RN=function(e){return Z.from(e.selection.getRng()).bind(function(r){var a=e.getBody(),i=r.startContainer===a&&r.startOffset===0;return i?Z.none():Z.from(e.selection.getStart(!0))})},PN=function(e,r){return RN(e).orThunk(yt(DN,e)).map(S.fromDom).filter(No).bind(r)},rE=function(e,r){return PN(e,J(Z.some,r))},HD=function(e,r){if(/^[0-9.]+$/.test(r)){var a=parseInt(r,10);if(a>=1&&a<=7){var i=Np(e),s=Pv(e);return s?s[a-1]||r:i[a-1]||r}else return r}else return r},BN=function(e){var r=e.split(/\s*,\s*/);return Zr(r,function(a){return a.indexOf(" ")!==-1&&!(N(a,'"')||N(a,"'"))?"'"+a+"'":a}).join(",")},MN=function(e,r){var a=HD(e,r);e.formatter.toggle("fontname",{value:BN(a)}),e.nodeChanged()},NN=function(e){return rE(e,function(r){return ON(e.getBody(),r.dom)}).getOr("")},FN=function(e,r){e.formatter.toggle("fontsize",{value:HD(e,r)}),e.nodeChanged()},IN=function(e){return rE(e,function(r){return AN(e.getBody(),r.dom)}).getOr("")},$N=function(e){return rE(e,function(r){var a=S.fromDom(e.getBody()),i=W8(r,function(f){return vu(f,"line-height")},yt(jn,a)),s=function(){var f=parseFloat(ya(r,"line-height")),g=parseFloat(ya(r,"font-size"));return String(f/g)};return i.getOrThunk(s)}).getOr("")},VD=function(e,r){e.formatter.toggle("lineheight",{value:String(r)}),e.nodeChanged()},LN=function(e){if(typeof e!="string"){var r=wt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:r}}return{content:e,details:{}}},HN=function(e,r){var a=LN(r);gB(e,a.content,a.details)},q3=wt.each,VN=wt.map,UD=wt.inArray,jD=function(){function e(r){this.commands={state:{},exec:{},value:{}},this.editor=r,this.setupCommands(r)}return e.prototype.execCommand=function(r,a,i,s){var f,g=!1,y=this;if(!y.editor.removed){if(r.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(r)&&(!s||!s.skip_focus)?y.editor.focus():Iw(y.editor)),s=y.editor.fire("BeforeExecCommand",{command:r,ui:a,value:i}),s.isDefaultPrevented())return!1;var k=r.toLowerCase();if(f=y.commands.exec[k])return f(k,a,i),y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0;if(q3(this.editor.plugins,function(O){if(O.execCommand&&O.execCommand(r,a,i))return y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),g=!0,!1}),g)return g;if(y.editor.theme&&y.editor.theme.execCommand&&y.editor.theme.execCommand(r,a,i))return y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0;try{g=y.editor.getDoc().execCommand(r,a,i)}catch{}return g?(y.editor.fire("ExecCommand",{command:r,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(r){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),a=this.commands.state[r])return a(r);try{return this.editor.getDoc().queryCommandState(r)}catch{}return!1}},e.prototype.queryCommandValue=function(r){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(r=r.toLowerCase(),a=this.commands.value[r])return a(r);try{return this.editor.getDoc().queryCommandValue(r)}catch{}}},e.prototype.addCommands=function(r,a){a===void 0&&(a="exec");var i=this;q3(r,function(s,f){q3(f.toLowerCase().split(","),function(g){i.commands[a][g]=s})})},e.prototype.addCommand=function(r,a,i){var s=this;r=r.toLowerCase(),this.commands.exec[r]=function(f,g,y,k){return a.call(i||s.editor,g,y,k)}},e.prototype.queryCommandSupported=function(r){if(r=r.toLowerCase(),this.commands.exec[r])return!0;try{return this.editor.getDoc().queryCommandSupported(r)}catch{}return!1},e.prototype.addQueryStateHandler=function(r,a,i){var s=this;r=r.toLowerCase(),this.commands.state[r]=function(){return a.call(i||s.editor)}},e.prototype.addQueryValueHandler=function(r,a,i){var s=this;r=r.toLowerCase(),this.commands.value[r]=function(){return a.call(i||s.editor)}},e.prototype.hasCustomCommand=function(r){return r=r.toLowerCase(),!!this.commands.exec[r]},e.prototype.execNativeCommand=function(r,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(r,a,i)},e.prototype.isFormatMatch=function(r){return this.editor.formatter.match(r)},e.prototype.toggleFormat=function(r,a){this.editor.formatter.toggle(r,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(r){this.selectionBookmark=this.editor.selection.getBookmark(r)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(r){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":dt,"mceEndUndoLevel,mceAddUndoLevel":function(){r.undoManager.add()},mceFocus:function(s,f,g){Ob(r,g)},"Cut,Copy,Paste":function(s){var f=r.getDoc(),g;try{a.execNativeCommand(s)}catch{g=!0}if(s==="paste"&&!f.queryCommandEnabled(s)&&(g=!0),g||!f.queryCommandSupported(s)){var y=r.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");dr.mac&&(y=y.replace(/Ctrl\+/g,"⌘+")),r.notificationManager.open({text:y,type:"error"})}},unlink:function(){if(r.selection.isCollapsed()){var s=r.dom.getParent(r.selection.getStart(),"a");s&&r.dom.remove(s,!0);return}r.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(s){var f=s.substring(7);f==="full"&&(f="justify"),q3("left,center,right,justify".split(","),function(g){f!==g&&r.formatter.remove("align"+g)}),f!=="none"&&a.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(s){var f;a.execNativeCommand(s);var g=r.dom.getParent(r.selection.getNode(),"ol,ul");g&&(f=g.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(a.storeSelection(),r.dom.split(f,g),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){a.toggleFormat(s)},"ForeColor,HiliteColor":function(s,f,g){a.toggleFormat(s,{value:g})},FontName:function(s,f,g){MN(r,g)},FontSize:function(s,f,g){FN(r,g)},LineHeight:function(s,f,g){VD(r,g)},Lang:function(s,f,g){a.toggleFormat(s,{value:g.code,customValue:g.customCode})},RemoveFormat:function(s){r.formatter.remove(s)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(s,f,g){return a.toggleFormat(g||"p")},mceCleanup:function(){var s=r.selection.getBookmark();r.setContent(r.getContent()),r.selection.moveToBookmark(s)},mceRemoveNode:function(s,f,g){var y=g||r.selection.getNode();y!==r.getBody()&&(a.storeSelection(),r.dom.remove(y,!0),a.restoreSelection())},mceSelectNodeDepth:function(s,f,g){var y=0;r.dom.getParent(r.selection.getNode(),function(k){if(k.nodeType===1&&y++===g)return r.selection.select(k),!1},r.getBody())},mceSelectNode:function(s,f,g){r.selection.select(g)},mceInsertContent:function(s,f,g){HN(r,g)},mceInsertRawHTML:function(s,f,g){r.selection.setContent("tiny_mce_marker");var y=r.getContent();r.setContent(y.replace(/tiny_mce_marker/g,function(){return g}))},mceInsertNewLine:function(s,f,g){Iz(r,g)},mceToggleFormat:function(s,f,g){a.toggleFormat(g)},mceSetContent:function(s,f,g){r.setContent(g)},"Indent,Outdent":function(s){wO(r,s)},mceRepaint:dt,InsertHorizontalRule:function(){r.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){r.hasVisual=!r.hasVisual,r.addVisual()},mceReplaceContent:function(s,f,g){r.execCommand("mceInsertContent",!1,g.replace(/\{\$selection\}/g,r.selection.getContent({format:"text"})))},mceInsertLink:function(s,f,g){typeof g=="string"&&(g={href:g});var y=r.dom.getParent(r.selection.getNode(),"a");g.href=g.href.replace(/ /g,"%20"),(!y||!g.href)&&r.formatter.remove("link"),g.href&&r.formatter.apply("link",g,y)},selectAll:function(){var s=r.dom.getParent(r.selection.getStart(),qs);if(s){var f=r.dom.createRng();f.selectNodeContents(s),r.selection.setRng(f)}},mceNewDocument:function(){r.setContent("")},InsertLineBreak:function(s,f,g){return Eh(r,g),!0}});var i=function(s){return function(){var f=r.selection,g=f.isCollapsed()?[r.dom.getParent(f.getNode(),r.dom.isBlock)]:f.getSelectedBlocks(),y=VN(g,function(k){return!!r.formatter.matchNode(k,s)});return UD(y,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){return a.isFormatMatch(s)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return hO(r)},"InsertUnorderedList,InsertOrderedList":function(s){var f=r.dom.getParent(r.selection.getNode(),"ul,ol");return f&&(s==="insertunorderedlist"&&f.tagName==="UL"||s==="insertorderedlist"&&f.tagName==="OL")}},"state"),a.addCommands({Undo:function(){r.undoManager.undo()},Redo:function(){r.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return NN(r)},this),a.addQueryValueHandler("FontSize",function(){return IN(r)},this),a.addQueryValueHandler("LineHeight",function(){return $N(r)},this)},e}(),Gg="data-mce-contenteditable",WD=function(e,r,a){w0(e,r)&&a===!1?b0(e,r):a&&zv(e,r)},G3=function(e,r,a){try{e.getDoc().execCommand(r,!1,String(a))}catch{}},K3=function(e,r){e.dom.contentEditable=r?"true":"false"},UN=function(e){At(yu(e,'*[contenteditable="true"]'),function(r){z(r,Gg,"true"),K3(r,!1)})},jN=function(e){At(yu(e,"*["+Gg+'="true"]'),function(r){xt(r,Gg),K3(r,!0)})},qD=function(e){Z.from(e.selection.getNode()).each(function(r){r.removeAttribute("data-mce-selected")})},WN=function(e){e.selection.setRng(e.selection.getRng())},qN=function(e,r){var a=S.fromDom(e.getBody());WD(a,"mce-content-readonly",r),r?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),qD(e),e.readonly=!0,K3(a,!1),UN(a)):(e.readonly=!1,K3(a,!0),jN(a),G3(e,"StyleWithCSS",!1),G3(e,"enableInlineTableEditing",!1),G3(e,"enableObjectResizing",!1),j2(e)&&e.focus(),WN(e),e.nodeChanged())},Kg=function(e){return e.readonly},GD=function(e){e.parser.addAttributeFilter("contenteditable",function(r){Kg(e)&&At(r,function(a){a.attr(Gg,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(Gg,function(r){Kg(e)&&At(r,function(a){a.attr("contenteditable",a.attr(Gg))})}),e.serializer.addTempAttr(Gg)},GN=function(e){e.serializer?GD(e):e.on("PreInit",function(){GD(e)})},KD=function(e){return e.type==="click"},KN=function(e,r){var a=function(i){return jn(i,S.fromDom(e.getBody()))};return gi(r,"a",a).bind(function(i){return fe(i,"href")})},XN=function(e,r){if(KD(r)&&!Wn.metaKeyPressed(r)){var a=S.fromDom(r.target);KN(e,a).each(function(i){if(r.preventDefault(),/^#/.test(i)){var s=e.dom.select(i+',[name="'+Xe(i,"#")+'"]');s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},YN=function(e){e.on("ShowCaret",function(r){Kg(e)&&r.preventDefault()}),e.on("ObjectSelected",function(r){Kg(e)&&r.preventDefault()})},XD=wt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),X3=function(){function e(r){this.bindings={},this.settings=r||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ve}return e.isNative=function(r){return!!XD[r.toLowerCase()]},e.prototype.fire=function(r,a){var i=r.toLowerCase(),s=Yt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(s);var f=this.bindings[i];if(f)for(var g=0,y=f.length;g<y;g++){var k=f[g];if(!k.removed){if(k.once&&this.off(i,k.func),s.isImmediatePropagationStopped())return s;if(k.func.call(this.scope,s)===!1)return s.preventDefault(),s}}return s},e.prototype.on=function(r,a,i,s){if(a===!1&&(a=Ve),a){var f={func:a,removed:!1};s&&wt.extend(f,s);for(var g=r.toLowerCase().split(" "),y=g.length;y--;){var k=g[y],O=this.bindings[k];O||(O=[],this.toggleEvent(k,!0)),i?O=Ho([f],O,!0):O=Ho(Ho([],O,!0),[f],!1),this.bindings[k]=O}}return this},e.prototype.off=function(r,a){var i=this;if(r)for(var s=r.toLowerCase().split(" "),f=s.length;f--;){var g=s[f],y=this.bindings[g];if(!g)return lr(this.bindings,function(O,F){i.toggleEvent(F,!1),delete i.bindings[F]}),this;if(y){if(!a)y.length=0;else{var k=Pe(y,function(O){return O.func===a});y=k.fail,this.bindings[g]=y,At(k.pass,function(O){O.removed=!0})}y.length||(this.toggleEvent(r,!1),delete this.bindings[g])}}else lr(this.bindings,function(O,F){i.toggleEvent(F,!1)}),this.bindings={};return this},e.prototype.once=function(r,a,i){return this.on(r,a,i,{once:!0})},e.prototype.has=function(r){return r=r.toLowerCase(),!(!this.bindings[r]||this.bindings[r].length===0)},e}(),Mk=function(e){return e._eventDispatcher||(e._eventDispatcher=new X3({scope:e,toggleEvent:function(r,a){X3.isNative(r)&&e.toggleNativeEvent&&e.toggleNativeEvent(r,a)}})),e._eventDispatcher},Y3={fire:function(e,r,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return r;var s=Mk(i).fire(e,r);if(a!==!1&&i.parent)for(var f=i.parent();f&&!s.isPropagationStopped();)f.fire(e,s,!1),f=f.parent();return s},on:function(e,r,a){return Mk(this).on(e,r,a)},off:function(e,r){return Mk(this).off(e,r)},once:function(e,r){return Mk(this).once(e,r)},hasEventListeners:function(e){return Mk(this).has(e)}},Z3=Ro.DOM,Dh,J3=function(e,r){if(r==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(r))return e.getDoc().documentElement;var a=Xy(e);return a?(e.eventRoot||(e.eventRoot=Z3.select(a)[0]),e.eventRoot):e.getBody()},ZN=function(e){return!e.hidden&&!Kg(e)},YD=function(e,r,a){ZN(e)?e.fire(r,a):Kg(e)&&XN(e,a)},ZD=function(e,r){var a;if(e.delegates||(e.delegates={}),!(e.delegates[r]||e.removed)){var i=J3(e,r);if(Xy(e)){if(Dh||(Dh={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||Dh&&(lr(Dh,function(s,f){e.dom.unbind(J3(e,f))}),Dh=null)})),Dh[r])return;a=function(s){for(var f=s.target,g=e.editorManager.get(),y=g.length;y--;){var k=g[y].getBody();(k===f||Z3.isChildOf(f,k))&&YD(g[y],r,s)}},Dh[r]=a,Z3.bind(i,r,a)}else a=function(s){YD(e,r,s)},Z3.bind(i,r,a),e.delegates[r]=a}},JD=fn(fn({},Y3),{bindPendingEventDelegates:function(){var e=this;wt.each(e._pendingNativeEvents,function(r){ZD(e,r)})},toggleNativeEvent:function(e,r){var a=this;e==="focus"||e==="blur"||a.removed||(r?a.initialized?ZD(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(J3(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,r=e.getBody(),a=e.dom;e.delegates&&(lr(e.delegates,function(i,s){e.dom.unbind(J3(e,s),s,i)}),delete e.delegates),!e.inline&&r&&a&&(r.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(r),a.unbind(e.getContainer()))}}),JN=["design","readonly"],Nk=function(e,r,a,i){var s=a[r.get()],f=a[i];try{f.activate()}catch(g){console.error("problem while activating editor mode "+i+":",g);return}s.deactivate(),s.editorReadOnly!==f.editorReadOnly&&qN(e,f.editorReadOnly),r.set(i),kw(e,i)},QD=function(e,r,a,i){if(i!==a.get()){if(!Fr(r,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?Nk(e,a,r,i):e.on("init",function(){return Nk(e,a,r,i)})}},eR=function(e,r,a){var i;if(Zt(JN,r))throw new Error("Cannot override default mode "+r);return fn(fn({},e),(i={},i[r]=fn(fn({},a),{deactivate:function(){try{a.deactivate()}catch(s){console.error("problem while deactivating editor mode "+r+":",s)}}}),i))},QN=function(e){var r=oc("design"),a=oc({design:{activate:dt,deactivate:dt,editorReadOnly:!1},readonly:{activate:dt,deactivate:dt,editorReadOnly:!0}});return GN(e),YN(e),{isReadOnly:function(){return Kg(e)},set:function(i){return QD(e,a.get(),r,i)},get:function(){return r.get()},register:function(i,s){a.set(eR(a.get(),i,s))}}},Q3=wt.each,eS=wt.explode,eF={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},tR=wt.makeMap("alt,ctrl,shift,meta,access"),tF=function(e){var r,a={};Q3(eS(e.toLowerCase(),"+"),function(s){s in tR?a[s]=!0:/^[0-9]{2,}$/.test(s)?a.keyCode=parseInt(s,10):(a.charCode=s.charCodeAt(0),a.keyCode=eF[s]||s.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(r in tR)a[r]?i.push(r):a[r]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,dr.mac?a.ctrl=!0:a.shift=!0),a.meta&&(dr.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},tS=function(){function e(r){this.shortcuts={},this.pendingPatterns=[],this.editor=r;var a=this;r.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(Q3(a.shortcuts,function(s){if(a.matchShortcut(i,s))return a.pendingPatterns=s.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(s),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(r,a,i,s){var f=this,g=f.normalizeCommandFunc(i);return Q3(eS(wt.trim(r)),function(y){var k=f.createShortcut(y,a,g,s);f.shortcuts[k.id]=k}),!0},e.prototype.remove=function(r){var a=this.createShortcut(r);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(r){var a=this,i=r;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:wt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(r,a,i,s){var f=wt.map(eS(r,">"),tF);return f[f.length-1]=wt.extend(f[f.length-1],{func:i,scope:s||this.editor}),wt.extend(f[0],{desc:this.editor.translate(a),subpatterns:f.slice(1)})},e.prototype.hasModifier=function(r){return r.altKey||r.ctrlKey||r.metaKey},e.prototype.isFunctionKey=function(r){return r.type==="keydown"&&r.keyCode>=112&&r.keyCode<=123},e.prototype.matchShortcut=function(r,a){return!a||a.ctrl!==r.ctrlKey||a.meta!==r.metaKey||a.alt!==r.altKey||a.shift!==r.shiftKey?!1:r.keyCode===a.keyCode||r.charCode&&r.charCode===a.charCode?(r.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(r){return r.func?r.func.call(r.scope):null},e}(),rF=function(){var e={},r={},a={},i={},s={},f={},g={},y=function(O,F){return function($,L){return O[$.toLowerCase()]=fn(fn({},L),{type:F})}},k=function(O,F){return i[O.toLowerCase()]=F};return{addButton:y(e,"button"),addGroupToolbarButton:y(e,"grouptoolbarbutton"),addToggleButton:y(e,"togglebutton"),addMenuButton:y(e,"menubutton"),addSplitButton:y(e,"splitbutton"),addMenuItem:y(r,"menuitem"),addNestedMenuItem:y(r,"nestedmenuitem"),addToggleMenuItem:y(r,"togglemenuitem"),addAutocompleter:y(a,"autocompleter"),addContextMenu:y(s,"contextmenu"),addContextToolbar:y(f,"contexttoolbar"),addContextForm:y(f,"contextform"),addSidebar:y(g,"sidebar"),addIcon:k,getAll:function(){return{buttons:e,menuItems:r,icons:i,popups:a,contextMenus:s,contextToolbars:f,sidebars:g}}}},nE=function(){var e=rF();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},Rh=Ro.DOM,rR=wt.extend,nF=wt.each,aE=wt.resolve,aF=dr.ie,rS=function(){function e(r,a,i){var s=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,rR(this,JD),this.settings=tA(this,r,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Uf.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ro.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Sc.languageLoad=this.settings.language_load,Sc.baseURL=i.baseURL,this.id=r,this.setDirty(!1),this.documentBaseURI=new Ng(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new tS(this),this.editorCommands=new jD(this),this.settings.cache_suffix&&(dr.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:nE(),styleSheetLoader:void 0,show:dt,hide:dt,enable:dt,disable:dt,isDisabled:Ve};var f=this,g=QN(f);this.mode=g,this.setMode=g.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ga.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}return e.prototype.render=function(){xN(this)},e.prototype.focus=function(r){this.execCommand("mceFocus",!1,r)},e.prototype.hasFocus=function(){return Bs(this)},e.prototype.execCallback=function(r){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var s=this,f=s.settings[r],g;if(f)return s.callbackLookup&&(g=s.callbackLookup[r])&&(f=g.func,g=g.scope),typeof f=="string"&&(g=f.replace(/\.\w+$/,""),g=g?aE(g):0,f=aE(f),s.callbackLookup=s.callbackLookup||{},s.callbackLookup[r]={func:f,scope:g}),f.apply(g||s,a)},e.prototype.translate=function(r){return ic.translate(r)},e.prototype.getParam=function(r,a,i){return sM(this,r,a,i)},e.prototype.hasPlugin=function(r,a){var i=Zt(Zy(this).split(/[ ,]/),r);return i?a?nd.get(r)!==void 0:!0:!1},e.prototype.nodeChanged=function(r){this._nodeChangeDispatcher.nodeChanged(r)},e.prototype.addCommand=function(r,a,i){this.editorCommands.addCommand(r,a,i)},e.prototype.addQueryStateHandler=function(r,a,i){this.editorCommands.addQueryStateHandler(r,a,i)},e.prototype.addQueryValueHandler=function(r,a,i){this.editorCommands.addQueryValueHandler(r,a,i)},e.prototype.addShortcut=function(r,a,i,s){this.shortcuts.add(r,a,i,s)},e.prototype.execCommand=function(r,a,i,s){return this.editorCommands.execCommand(r,a,i,s)},e.prototype.queryCommandState=function(r){return this.editorCommands.queryCommandState(r)},e.prototype.queryCommandValue=function(r){return this.editorCommands.queryCommandValue(r)},e.prototype.queryCommandSupported=function(r){return this.editorCommands.queryCommandSupported(r)},e.prototype.show=function(){var r=this;r.hidden&&(r.hidden=!1,r.inline?r.getBody().contentEditable="true":(Rh.show(r.getContainer()),Rh.hide(r.id)),r.load(),r.fire("show"))},e.prototype.hide=function(){var r=this,a=r.getDoc();r.hidden||(aF&&a&&!r.inline&&a.execCommand("SelectAll"),r.save(),r.inline?(r.getBody().contentEditable="false",r===r.editorManager.focusedEditor&&(r.editorManager.focusedEditor=null)):(Rh.hide(r.getContainer()),Rh.setStyle(r.id,"display",r.orgDisplay)),r.hidden=!0,r.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(r,a){this.fire("ProgressState",{state:r,time:a})},e.prototype.load=function(r){var a=this,i=a.getElement(),s;if(a.removed)return"";if(i){r=r||{},r.load=!0;var f=du(i)?i.value:i.innerHTML;return s=a.setContent(f,r),r.element=i,r.no_events||a.fire("LoadContent",r),r.element=i=null,s}},e.prototype.save=function(r){var a=this,i=a.getElement(),s,f;if(!(!i||!a.initialized||a.removed))return r=r||{},r.save=!0,r.element=i,s=r.content=a.getContent(r),r.no_events||a.fire("SaveContent",r),r.format==="raw"&&a.fire("RawSaveContent",r),s=r.content,du(i)?i.value=s:((r.is_removing||!a.inline)&&(i.innerHTML=s),(f=Rh.getParent(a.id,"form"))&&nF(f.elements,function(g){if(g.name===a.id)return g.value=s,!1})),r.element=i=null,r.set_dirty!==!1&&a.setDirty(!1),s},e.prototype.setContent=function(r,a){return JC(this,r,a)},e.prototype.getContent=function(r){return ZC(this,r)},e.prototype.insertContent=function(r,a){a&&(r=rR({content:r},a)),this.execCommand("mceInsertContent",!1,r)},e.prototype.resetContent=function(r){r===void 0?JC(this,this.startContent,{format:"raw"}):JC(this,r),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(r){var a=!this.isNotDirty;this.isNotDirty=!r,r&&r!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var r=this;return r.container||(r.container=Rh.get(r.editorContainer||r.id+"_parent")),r.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=Rh.get(this.id)),this.targetElm},e.prototype.getWin=function(){var r=this,a;return r.contentWindow||(a=r.iframeElement,a&&(r.contentWindow=a.contentWindow)),r.contentWindow},e.prototype.getDoc=function(){var r=this,a;return r.contentDocument||(a=r.getWin(),a&&(r.contentDocument=a.document)),r.contentDocument},e.prototype.getBody=function(){var r=this.getDoc();return this.bodyElement||(r?r.body:null)},e.prototype.convertURL=function(r,a,i){var s=this,f=s.settings;return f.urlconverter_callback?s.execCallback("urlconverter_callback",r,i,!0,a):!f.convert_urls||i&&i.nodeName==="LINK"||r.indexOf("file:")===0||r.length===0?r:f.relative_urls?s.documentBaseURI.toRelative(r):(r=s.documentBaseURI.toAbsolute(r,f.remove_script_host),r)},e.prototype.addVisual=function(r){TN(this,r)},e.prototype.remove=function(){qB(this)},e.prototype.destroy=function(r){j4(this,r)},e.prototype.uploadImages=function(r){return this.editorUpload.uploadImages(r)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),_f=Ro.DOM,oF=wt.explode,av=wt.each,ws=wt.extend,Ph=0,nR=!1,nS,Xg=[],ks=[],iF=function(e){return e!=="length"},aR=function(e){var r=e.type;av(Yg.get(),function(a){switch(r){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},oE=function(e){e!==nR&&(e?ga(window).on("resize scroll",aR):ga(window).off("resize scroll",aR),nR=e)},Bh=function(e){var r=ks;delete Xg[e.id];for(var a=0;a<Xg.length;a++)if(Xg[a]===e){Xg.splice(a,1);break}return ks=Fe(ks,function(i){return e!==i}),Yg.activeEditor===e&&(Yg.activeEditor=ks.length>0?ks[0]:null),Yg.focusedEditor===e&&(Yg.focusedEditor=null),r.length!==ks.length},uF=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(Bh(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},cF=document.compatMode!=="CSS1Compat",Yg=fn(fn({},Y3),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ga,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:Xg,i18n:ic,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,r,a,i="";a=Ng.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var s=window.tinymce||window.tinyMCEPreInit;if(s)r=s.base||s.baseURL,i=s.suffix;else{for(var f=document.getElementsByTagName("script"),g=0;g<f.length;g++){var y=f[g].src||"";if(y!==""){var k=y.substring(y.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(y)){k.indexOf(".min")!==-1&&(i=".min"),r=y.substring(0,y.lastIndexOf("/"));break}}}if(!r&&document.currentScript){var y=document.currentScript.src;y.indexOf(".min")!==-1&&(i=".min"),r=y.substring(0,y.lastIndexOf("/"))}}e.baseURL=new Ng(a).toAbsolute(r),e.documentBaseURL=a,e.baseURI=new Ng(e.baseURL),e.suffix=i,I2(e)},overrideDefaults:function(e){var r=e.base_url;r&&this._setBaseUrl(r);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&lr(i,function(s,f){Sc.PluginManager.urls[f]=s})},init:function(e){var r=this,a,i=wt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=function($,L){return $.inline&&L.tagName.toLowerCase()in i},f=function($){var L=$.id;return L||(L=cr($,"name").filter(function(Q){return!_f.get(Q)}).getOrThunk(_f.uniqueId),$.setAttribute("id",L)),L},g=function($){var L=e[$];if(L)return L.apply(r,[])},y=function($,L){return L.constructor===RegExp?L.test($.className):_f.hasClass($,L)},k=function($){var L=[];if(dr.browser.isIE()&&dr.browser.version.major<11)return i3("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(cF)return i3("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if($.types)return av($.types,function(te){L=L.concat(_f.select(te.selector))}),L;if($.selector)return _f.select($.selector);if($.target)return[$.target];switch($.mode){case"exact":var Q=$.elements||"";Q.length>0&&av(oF(Q),function(te){var ne=_f.get(te);ne?L.push(ne):av(document.forms,function(ae){av(ae.elements,function(pe){pe.name===te&&(te="mce_editor_"+Ph++,_f.setAttrib(pe,"id",te),L.push(pe))})})});break;case"textareas":case"specific_textareas":av(_f.select("textarea"),function(te){$.editor_deselector&&y(te,$.editor_deselector)||(!$.editor_selector||y(te,$.editor_selector))&&L.push(te)});break}return L},O=function($){a=$},F=function(){var $=0,L=[],Q,te=function(ne,ae,pe){var ge=new rS(ne,ae,r);L.push(ge),ge.on("init",function(){++$===Q.length&&O(L)}),ge.targetElm=ge.targetElm||pe,ge.render()};if(_f.unbind(window,"ready",F),g("onpageload"),Q=ga.unique(k(e)),e.types){av(e.types,function(ne){wt.each(Q,function(ae){return _f.is(ae,ne.selector)?(te(f(ae),ws({},e,ne),ae),!1):!0})});return}wt.each(Q,function(ne){uF(r.get(ne.id))}),Q=wt.grep(Q,function(ne){return!r.get(ne.id)}),Q.length===0?O([]):av(Q,function(ne){s(e,ne)?i3("Could not initialize inline editor on invalid inline target element",ne):te(f(ne),e,ne)})};return r.settings=e,_f.bind(window,"ready",F),new eu(function($){a?$(a):O=function(L){$(L)}})},get:function(e){return arguments.length===0?ks.slice(0):Ht(e)?ut(ks,function(r){return r.id===e}).getOr(null):Dt(e)&&ks[e]?ks[e]:null},add:function(e){var r=this,a=Xg[e.id];return a===e||(r.get(e.id)===null&&(iF(e.id)&&(Xg[e.id]=e),Xg.push(e),ks.push(e)),oE(!0),r.activeEditor=e,r.fire("AddEditor",{editor:e}),nS||(nS=function(i){var s=r.fire("BeforeUnload");if(s.returnValue)return i.preventDefault(),i.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",nS))),e},createEditor:function(e,r){return this.add(new rS(e,r,this))},remove:function(e){var r=this,a,i;if(!e){for(a=ks.length-1;a>=0;a--)r.remove(ks[a]);return}if(Ht(e)){av(_f.select(e),function(s){i=r.get(s.id),i&&r.remove(i)});return}return i=e,se(r.get(i.id))?null:(Bh(i)&&r.fire("RemoveEditor",{editor:i}),ks.length===0&&window.removeEventListener("beforeunload",nS),i.remove(),oE(ks.length>0),i)},execCommand:function(e,r,a){var i=this,s=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new rS(a,i.settings,i).render(),!0;case"mceRemoveEditor":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,r,a):!1},triggerSave:function(){av(ks,function(e){e.save()})},addI18n:function(e,r){ic.add(e,r)},translate:function(e){return ic.translate(e)},setActive:function(e){var r=this.activeEditor;this.activeEditor!==e&&(r&&r.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:r})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Ng(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Ng(this.baseURL)}});Yg.setup();var Cf=Math.min,E1=Math.max,aS=Math.round,iE=function(e,r,a){var i=r.x,s=r.y,f=e.w,g=e.h,y=r.w,k=r.h,O=(a||"").split("");return O[0]==="b"&&(s+=k),O[1]==="r"&&(i+=y),O[0]==="c"&&(s+=aS(k/2)),O[1]==="c"&&(i+=aS(y/2)),O[3]==="b"&&(s-=g),O[4]==="r"&&(i-=f),O[3]==="c"&&(s-=aS(g/2)),O[4]==="c"&&(i-=aS(f/2)),A1(i,s,f,g)},sF=function(e,r,a,i){var s,f;for(f=0;f<i.length;f++)if(s=iE(e,r,i[f]),s.x>=a.x&&s.x+s.w<=a.w+a.x&&s.y>=a.y&&s.y+s.h<=a.h+a.y)return i[f];return null},oR=function(e,r,a){return A1(e.x-r,e.y-a,e.w+r*2,e.h+a*2)},iR=function(e,r){var a=E1(e.x,r.x),i=E1(e.y,r.y),s=Cf(e.x+e.w,r.x+r.w),f=Cf(e.y+e.h,r.y+r.h);return s-a<0||f-i<0?null:A1(a,i,s-a,f-i)},uE=function(e,r,a){var i=e.x,s=e.y,f=e.x+e.w,g=e.y+e.h,y=r.x+r.w,k=r.y+r.h,O=E1(0,r.x-i),F=E1(0,r.y-s),$=E1(0,f-y),L=E1(0,g-k);return i+=O,s+=F,a&&(f+=O,g+=F,i-=$,s-=L),f-=$,g-=L,A1(i,s,f-i,g-s)},A1=function(e,r,a,i){return{x:e,y:r,w:a,h:i}},lF=function(e){return A1(e.left,e.top,e.width,e.height)},fF={inflate:oR,relativePosition:iE,findBestRelativePosition:sF,intersect:iR,clamp:uE,create:A1,fromClientRect:lF},dF=function(e,r,a){a===void 0&&(a=1e3);var i=!1,s=null,f=function(O){return function(){for(var F=[],$=0;$<arguments.length;$++)F[$]=arguments[$];i||(i=!0,s!==null&&(clearTimeout(s),s=null),O.apply(null,F))}},g=f(e),y=f(r),k=function(){for(var O=[],F=0;F<arguments.length;F++)O[F]=arguments[F];!i&&s===null&&(s=setTimeout(function(){return y.apply(null,O)},a))};return{start:k,resolve:g,reject:y}},vF=function(){var e={},r={},a=function(s,f){var g='Script at URL "'+f+'" failed to load',y='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+s+"', data)` within 1 second";if(e[s]!==void 0)return e[s];var k=new eu(function(O,F){var $=dF(O,F);r[s]=$.resolve,Uf.ScriptLoader.loadScript(f,function(){return $.start(y)},function(){return $.reject(g)})});return e[s]=k,k},i=function(s,f){r[s]!==void 0&&(r[s](f),delete r[s]),e[s]=eu.resolve(f)};return{load:a,add:i}},uR=vF(),Fk=wt.each,mF=wt.extend,cE,sE,cR=function(){};cR.extend=cE=function(e){var r=this,a=r.prototype,i=function(){var y,k,O,F=this;if(!sE&&(F.init&&F.init.apply(F,arguments),k=F.Mixins,k))for(y=k.length;y--;)O=k[y],O.init&&O.init.apply(F,arguments)},s=function(){return this},f=function(y,k){return function(){var O=this,F=O._super;O._super=a[y];var $=k.apply(O,arguments);return O._super=F,$}};sE=!0;var g=new r;return sE=!1,e.Mixins&&(Fk(e.Mixins,function(y){for(var k in y)k!=="init"&&(e[k]=y[k])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&Fk(e.Methods.split(","),function(y){e[y]=s}),e.Properties&&Fk(e.Properties.split(","),function(y){var k="_"+y;e[y]=function(O){var F=this;return O!==void 0?(F[k]=O,F):F[k]}}),e.Statics&&Fk(e.Statics,function(y,k){i[k]=y}),e.Defaults&&a.Defaults&&(e.Defaults=mF({},a.Defaults,e.Defaults)),lr(e,function(y,k){typeof y=="function"&&a[k]?g[k]=f(k,y):g[k]=y}),i.prototype=g,i.constructor=i,i.extend=cE,i};var oS=Math.min,iS=Math.max,Zg=Math.round,lE=function(e){var r={},a=0,i=0,s=0,f=function($,L,Q){var te,ne,ae;te=0,ne=0,ae=0,$=$/255,L=L/255,Q=Q/255;var pe=oS($,oS(L,Q)),ge=iS($,iS(L,Q));if(pe===ge)return ae=pe,{h:0,s:0,v:ae*100};var je=$===pe?L-Q:Q===pe?$-L:Q-$;return te=$===pe?3:Q===pe?1:5,te=60*(te-je/(ge-pe)),ne=(ge-pe)/ge,ae=ge,{h:Zg(te),s:Zg(ne*100),v:Zg(ae*100)}},g=function($,L,Q){if($=(parseInt($,10)||0)%360,L=parseInt(L,10)/100,Q=parseInt(Q,10)/100,L=iS(0,oS(L,1)),Q=iS(0,oS(Q,1)),L===0){a=i=s=Zg(255*Q);return}var te=$/60,ne=Q*L,ae=ne*(1-Math.abs(te%2-1)),pe=Q-ne;switch(Math.floor(te)){case 0:a=ne,i=ae,s=0;break;case 1:a=ae,i=ne,s=0;break;case 2:a=0,i=ne,s=ae;break;case 3:a=0,i=ae,s=ne;break;case 4:a=ae,i=0,s=ne;break;case 5:a=ne,i=0,s=ae;break;default:a=i=s=0}a=Zg(255*(a+pe)),i=Zg(255*(i+pe)),s=Zg(255*(s+pe))},y=function(){var $=function(L){return L=parseInt(L,10).toString(16),L.length>1?L:"0"+L};return"#"+$(a)+$(i)+$(s)},k=function(){return{r:a,g:i,b:s}},O=function(){return f(a,i,s)},F=function($){var L;return typeof $=="object"?"r"in $?(a=$.r,i=$.g,s=$.b):"v"in $&&g($.h,$.s,$.v):(L=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec($))?(a=parseInt(L[1],10),i=parseInt(L[2],10),s=parseInt(L[3],10)):(L=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec($))?(a=parseInt(L[1],16),i=parseInt(L[2],16),s=parseInt(L[3],16)):(L=/#([0-F])([0-F])([0-F])/gi.exec($))&&(a=parseInt(L[1]+L[1],16),i=parseInt(L[2]+L[2],16),s=parseInt(L[3]+L[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,r};return e&&F(e),r.toRgb=k,r.toHsv=O,r.toHex=y,r.parse=F,r},sR=function(e){var r=JSON.stringify(e);return Ht(r)?r.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):r},fE={serialize:sR,parse:function(e){try{return JSON.parse(e)}catch{}}},gF={callbacks:{},count:0,send:function(e){var r=this,a=Ro.DOM,i=e.count!==void 0?e.count:r.count,s="tinymce_jsonp_"+i;r.callbacks[i]=function(f){a.remove(s),delete r.callbacks[i],e.callback(f)},a.add(a.doc.body,"script",{id:s,src:e.url,type:"text/javascript"}),r.count++}},O1=fn(fn({},Y3),{send:function(e){var r,a=0,i=function(){!e.async||r.readyState===4||a++>1e4?(e.success&&a<1e4&&r.status===200?e.success.call(e.success_scope,""+r.responseText,r,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",r,e),r=null):Pu.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",O1.fire("beforeInitialize",{settings:e}),r=new XMLHttpRequest,r.overrideMimeType&&r.overrideMimeType(e.content_type),r.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(r.withCredentials=!0),e.content_type&&r.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&wt.each(e.requestheaders,function(s){r.setRequestHeader(s.key,s.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=O1.fire("beforeSend",{xhr:r,settings:e}).xhr,r.send(e.data),!e.async)return i();Pu.setTimeout(i,10)}}),dE=wt.extend,pF=function(){function e(r){this.settings=dE({},r),this.count=0}return e.sendRPC=function(r){return new e().send(r)},e.prototype.send=function(r){var a=r.error,i=r.success,s=dE(this.settings,r);s.success=function(f,g){f=fE.parse(f),typeof f>"u"&&(f={error:"JSON Parse error."}),f.error?a.call(s.error_scope||s.scope,f.error,g):i.call(s.success_scope||s.scope,f.result)},s.error=function(f,g){a&&a.call(s.error_scope||s.scope,f,g)},s.data=fE.serialize({id:r.id||"c"+this.count++,method:r.method,params:r.params}),s.content_type="application/json",O1.send(s)},e}(),hF=function(){return function(){var e={},r=[],a={getItem:function(i){var s=e[i];return s||null},setItem:function(i,s){r.push(i),e[i]=String(s)},key:function(i){return r[i]},removeItem:function(i){r=r.filter(function(s){return s===i}),delete e[i]},clear:function(){r=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return r.length},configurable:!1,enumerable:!1}),a}()},Ik;try{var vE="__storage_test__";Ik=window.localStorage,Ik.setItem(vE,vE),Ik.removeItem(vE)}catch{Ik=hF()}var yF=Ik,bF={geom:{Rect:fF},util:{Promise:eu,Delay:Pu,Tools:wt,VK:Wn,URI:Ng,Class:cR,EventDispatcher:X3,Observable:Y3,I18n:ic,XHR:O1,JSON:fE,JSONRequest:pF,JSONP:gF,LocalStorage:yF,Color:lE,ImageUploader:SM},dom:{EventUtils:Pm,Sizzle:fo,DomQuery:ga,TreeWalker:io,TextSeeker:S0,DOMUtils:Ro,ScriptLoader:Uf,RangeUtils:Kp,Serializer:RT,StyleSheetLoader:Jk,ControlSelection:Sw,BookmarkManager:qd,Selection:o1,Event:Pm.Event},html:{Styles:Qs,Entities:ss,Node:Ms,Schema:ls,SaxParser:ET,DomParser:YC,Writer:Zw,Serializer:Jv},Env:dr,AddOnManager:Sc,Annotator:hb,Formatter:hi,UndoManager:wA,EditorCommands:jD,WindowManager:NT,NotificationManager:cA,EditorObservable:JD,Shortcuts:tS,Editor:rS,FocusManager:R2,EditorManager:Yg,DOM:Ro.DOM,ScriptLoader:Uf.ScriptLoader,PluginManager:nd,ThemeManager:Fg,IconManager:a3,Resource:uR,trim:wt.trim,isArray:wt.isArray,is:wt.is,toArray:wt.toArray,makeMap:wt.makeMap,each:wt.each,map:wt.map,grep:wt.grep,inArray:wt.inArray,extend:wt.extend,create:wt.create,walk:wt.walk,createNS:wt.createNS,resolve:wt.resolve,explode:wt.explode,_addCacheSuffix:wt._addCacheSuffix,isOpera:dr.opera,isWebKit:dr.webkit,isIE:dr.ie,isGecko:dr.gecko,isMac:dr.mac},lR=wt.extend(Yg,bF),wF=function(e){try{Ze.exports=e}catch{}},kF=function(e){window.tinymce=e,window.tinyMCE=e};kF(lR),wF(lR)})()})(fW);tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){function Ze(){return yr.tinymce}var _r,mt,Nt,gt=[],yr=typeof N1<"u"?N1:window,ft=yr.jQuery;ft.fn.tinymce=function(vr){var Xr,mr,Kt,kr,Ot=this,Je="";return Ot.length?vr?(Ot.css("visibility","hidden"),yr.tinymce||mt||!(Xr=vr.script_url)?mt===1?gt.push($e):$e():(mt=1,mr=Xr.substring(0,Xr.lastIndexOf("/")),Xr.indexOf(".min")!=-1&&(Je=".min"),yr.tinymce=yr.tinyMCEPreInit||{base:mr,suffix:Je},Xr.indexOf("gzip")!=-1&&(Kt=vr.language||"en",Xr=Xr+(/\?/.test(Xr)?"&":"?")+"js=true&core=true&suffix="+escape(Je)+"&themes="+escape(vr.theme||"modern")+"&plugins="+escape(vr.plugins||"")+"&languages="+(Kt||""),yr.tinyMCE_GZ||(yr.tinyMCE_GZ={start:function(){function Ht(rt){Ze().ScriptLoader.markDone(Ze().baseURI.toAbsolute(rt))}Ht("langs/"+Kt+".js"),Ht("themes/"+vr.theme+"/theme"+Je+".js"),Ht("themes/"+vr.theme+"/langs/"+Kt+".js"),ft.each(vr.plugins.split(","),function(rt,nr){nr&&(Ht("plugins/"+nr+"/plugin"+Je+".js"),Ht("plugins/"+nr+"/langs/"+Kt+".js"))})},end:function(){}})),(kr=document.createElement("script")).type="text/javascript",kr.onload=kr.onreadystatechange=function(Ht){Ht=Ht||window.event,mt===2||Ht.type!="load"&&!/complete|loaded/.test(kr.readyState)||(Ze().dom.Event.domLoaded=1,mt=2,vr.script_loaded&&vr.script_loaded(),$e(),ft.each(gt,function(rt,nr){nr()}))},kr.src=Xr,document.body.appendChild(kr)),Ot):Ze()?Ze().get(Ot[0].id):null:Ot;function $e(){var Ht=[],rt=0;Nt||(Ir(),Nt=!0),Ot.each(function(nr,se){var or,Me=se.id,Nr=vr.oninit;Me||(se.id=Me=Ze().DOM.uniqueId()),Ze().get(Me)||(or=Ze().createEditor(Me,vr),Ht.push(or),or.on("init",function(){var zr,Le=Nr;Ot.css("visibility",""),Nr&&++rt==Ht.length&&(typeof Le=="string"&&(zr=Le.indexOf(".")===-1?null:Ze().resolve(Le.replace(/\.\w+$/,"")),Le=Ze().resolve(Le)),Le.apply(zr||Ze(),Ht))}))}),ft.each(Ht,function(nr,se){se.render()})}},ft.extend(ft.expr[":"],{tinymce:function(vr){var Xr;return!!(vr.id&&"tinymce"in yr&&(Xr=Ze().get(vr.id))&&Xr.editorManager===Ze())}});var Ir=function(){function vr(Ot){Ot==="remove"&&this.each(function(Je,$e){var Ht=Kt($e);Ht&&Ht.remove()}),this.find("span.mceEditor,div.mceEditor").each(function(Je,$e){var Ht=Ze().get($e.id.replace(/_parent$/,""));Ht&&Ht.remove()})}function Xr(Ot){var Je,$e=this;if(Ot!=null)vr.call($e),$e.each(function(Ht,rt){var nr;(nr=Ze().get(rt.id))&&nr.setContent(Ot)});else if(0<$e.length&&(Je=Ze().get($e[0].id)))return Je.getContent()}function mr(Ot){return Ot&&Ot.length&&yr.tinymce&&Ot.is(":tinymce")}var Kt=function(Ot){var Je=null;return Ot&&Ot.id&&yr.tinymce?Ze().get(Ot.id):Je},kr={};ft.each(["text","html","val"],function(Ot,Je){var $e=kr[Je]=ft.fn[Je],Ht=Je==="text";ft.fn[Je]=function(rt){var nr=this;if(!mr(nr))return $e.apply(nr,arguments);if(rt!==_r)return Xr.call(nr.filter(":tinymce"),rt),$e.apply(nr.not(":tinymce"),arguments),nr;var se="",or=arguments;return(Ht?nr:nr.eq(0)).each(function(Me,Nr){var zr=Kt(Nr);se+=zr?Ht?zr.getContent().replace(/<(?:"[^"]*"|'[^']*'|[^'">])*>/g,""):zr.getContent({save:!0}):$e.apply(ft(Nr),or)}),se}}),ft.each(["append","prepend"],function(Ot,Je){var $e=kr[Je]=ft.fn[Je],Ht=Je==="prepend";ft.fn[Je]=function(rt){var nr=this;return mr(nr)?rt!==_r?(typeof rt=="string"&&nr.filter(":tinymce").each(function(se,or){var Me=Kt(or);Me&&Me.setContent(Ht?rt+Me.getContent():Me.getContent()+rt)}),$e.apply(nr.not(":tinymce"),arguments),nr):void 0:$e.apply(nr,arguments)}}),ft.each(["remove","replaceWith","replaceAll","empty"],function(Ot,Je){var $e=kr[Je]=ft.fn[Je];ft.fn[Je]=function(){return vr.call(this,Je),$e.apply(this,arguments)}}),kr.attr=ft.fn.attr,ft.fn.attr=function(Ot,Je){var $e=this,Ht=arguments;if(!Ot||Ot!=="value"||!mr($e))return kr.attr.apply($e,Ht);if(Je!==_r)return Xr.call($e.filter(":tinymce"),Je),kr.attr.apply($e.not(":tinymce"),Ht),$e;var rt=$e[0],nr=Kt(rt);return nr?nr.getContent({save:!0}):kr.attr.apply(ft(rt),Ht)}}})();(function(){var Ze=function(t){var n=typeof t;return t===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":n},_r=function(t){return function(n){return Ze(n)===t}},mt=function(t){return function(n){return typeof n===t}},Nt=function(t){return function(n){return t===n}},gt=_r("string"),yr=_r("object"),ft=_r("array"),Ir=Nt(null),vr=mt("boolean"),Xr=Nt(void 0),mr=function(t){return t==null},Kt=function(t){return!mr(t)},kr=mt("function"),Ot=mt("number"),Je=function(t,n){if(ft(t)){for(var o=0,c=t.length;o<c;++o)if(!n(t[o]))return!1;return!0}return!1},$e=function(){},Ht=function(t){return function(){return t()}},rt=function(t,n){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return t(n.apply(null,o))}},nr=function(t,n){return function(o){return t(n(o))}},se=function(t){return function(){return t}},or=function(t){return t},Me=function(t,n){return t===n};function Nr(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var m=n.concat(c);return t.apply(null,m)}}var zr=function(t){return function(n){return!t(n)}},Le=function(t){return function(){throw new Error(t)}},Dt=se(!1),dt=se(!0),xn=tinymce.util.Tools.resolve("tinymce.ThemeManager"),J=function(){return J=Object.assign||function(n){for(var o,c=1,d=arguments.length;c<d;c++){o=arguments[c];for(var m in o)Object.prototype.hasOwnProperty.call(o,m)&&(n[m]=o[m])}return n},J.apply(this,arguments)};function V(t,n){var o={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&n.indexOf(c)<0&&(o[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(t);d<c.length;d++)n.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(t,c[d])&&(o[c[d]]=t[c[d]]);return o}function Tt(t,n,o){if(o||arguments.length===2)for(var c=0,d=n.length,m;c<d;c++)(m||!(c in n))&&(m||(m=Array.prototype.slice.call(n,0,c)),m[c]=n[c]);return t.concat(m||Array.prototype.slice.call(n))}var en=function(){return yt},yt=function(){var t=function(c){return c()},n=or,o={fold:function(c,d){return c()},isSome:Dt,isNone:dt,getOr:n,getOrThunk:t,getOrDie:function(c){throw new Error(c||"error: getOrDie called on none.")},getOrNull:se(null),getOrUndefined:se(void 0),or:n,orThunk:t,map:en,each:$e,bind:en,exists:Dt,forall:dt,filter:function(){return en()},toArray:function(){return[]},toString:se("none()")};return o}(),On=function(t){var n=se(t),o=function(){return d},c=function(m){return m(t)},d={fold:function(m,h){return h(t)},isSome:dt,isNone:Dt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:o,orThunk:o,map:function(m){return On(m(t))},each:function(m){m(t)},bind:c,exists:c,forall:c,filter:function(m){return m(t)?d:yt},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return d},hn=function(t){return t==null?yt:On(t)},E={some:On,none:en,from:hn},Rt=Array.prototype.slice,Ve=Array.prototype.indexOf,Ft=Array.prototype.push,In=function(t,n){return Ve.call(t,n)},qn=function(t,n){var o=In(t,n);return o===-1?E.none():E.some(o)},an=function(t,n){return In(t,n)>-1},Un=function(t,n){for(var o=0,c=t.length;o<c;o++){var d=t[o];if(n(d,o))return!0}return!1},Z=function(t,n){for(var o=[],c=0;c<t;c++)o.push(n(c));return o},La=function(t,n){for(var o=[],c=0;c<t.length;c+=n){var d=Rt.call(t,c,c+n);o.push(d)}return o},$t=function(t,n){for(var o=t.length,c=new Array(o),d=0;d<o;d++){var m=t[d];c[d]=n(m,d)}return c},Ye=function(t,n){for(var o=0,c=t.length;o<c;o++){var d=t[o];n(d,o)}},un=function(t,n){for(var o=t.length-1;o>=0;o--){var c=t[o];n(c,o)}},ir=function(t,n){for(var o=[],c=[],d=0,m=t.length;d<m;d++){var h=t[d],_=n(h,d)?o:c;_.push(h)}return{pass:o,fail:c}},Zt=function(t,n){for(var o=[],c=0,d=t.length;c<d;c++){var m=t[c];n(m,c)&&o.push(m)}return o},qr=function(t,n,o){return un(t,function(c,d){o=n(o,c,d)}),o},Zr=function(t,n,o){return Ye(t,function(c,d){o=n(o,c,d)}),o},At=function(t,n,o){for(var c=0,d=t.length;c<d;c++){var m=t[c];if(n(m,c))return E.some(m);if(o(m,c))break}return E.none()},Qt=function(t,n){return At(t,n,Dt)},Pe=function(t,n){for(var o=0,c=t.length;o<c;o++){var d=t[o];if(n(d,o))return E.some(o)}return E.none()},Fe=function(t){for(var n=[],o=0,c=t.length;o<c;++o){if(!ft(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);Ft.apply(n,t[o])}return n},gr=function(t,n){return Fe($t(t,n))},Ne=function(t,n){for(var o=0,c=t.length;o<c;++o){var d=t[o];if(n(d,o)!==!0)return!1}return!0},Oe=function(t){var n=Rt.call(t,0);return n.reverse(),n},ut=function(t,n){return Zt(t,function(o){return!an(n,o)})},br=function(t,n){for(var o={},c=0,d=t.length;c<d;c++){var m=t[c];o[String(m)]=n(m,c)}return o},Jr=function(t){return[t]},_n=function(t,n){var o=Rt.call(t,0);return o.sort(n),o},$n=function(t,n){return n>=0&&n<t.length?E.some(t[n]):E.none()},Vt=function(t){return $n(t,0)},nt=function(t){return $n(t,t.length-1)},ct=kr(Array.from)?Array.from:function(t){return Rt.call(t)},bt=function(t,n){for(var o=0;o<t.length;o++){var c=n(t[o],o);if(c.isSome())return c}return E.none()},zt=Object.keys,xr=Object.hasOwnProperty,Rr=function(t,n){for(var o=zt(t),c=0,d=o.length;c<d;c++){var m=o[c],h=t[m];n(h,m)}},sr=function(t,n){return He(t,function(o,c){return{k:c,v:n(o,c)}})},He=function(t,n){var o={};return Rr(t,function(c,d){var m=n(c,d);o[m.k]=m.v}),o},Xt=function(t){return function(n,o){t[o]=n}},Pr=function(t,n,o,c){var d={};return Rr(t,function(m,h){(n(m,h)?o:c)(m,h)}),d},lr=function(t,n){var o={};return Pr(t,n,Xt(o),$e),o},Gn=function(t,n){var o=[];return Rr(t,function(c,d){o.push(n(c,d))}),o},be=function(t,n){for(var o=zt(t),c=0,d=o.length;c<d;c++){var m=o[c],h=t[m];if(n(h,m,t))return E.some(h)}return E.none()},_t=function(t){return Gn(t,or)},at=function(t,n){return K(t,n)?E.from(t[n]):E.none()},K=function(t,n){return xr.call(t,n)},Ee=function(t,n){return K(t,n)&&t[n]!==void 0&&t[n]!==null},st=function(t,n,o){return o===void 0&&(o=Me),t.exists(function(c){return o(c,n)})},Tr=function(t,n,o){return o===void 0&&(o=Me),ia(t,n,o).getOr(t.isNone()&&n.isNone())},cr=function(t){for(var n=[],o=function(d){n.push(d)},c=0;c<t.length;c++)t[c].each(o);return n},Fr=function(t){for(var n=[],o=0;o<t.length;o++){var c=t[o];if(c.isSome())n.push(c.getOrDie());else return E.none()}return E.some(n)},ia=function(t,n,o){return t.isSome()&&n.isSome()?E.some(o(t.getOrDie(),n.getOrDie())):E.none()},Za=function(t,n,o,c){return t.isSome()&&n.isSome()&&o.isSome()?E.some(c(t.getOrDie(),n.getOrDie(),o.getOrDie())):E.none()},Fa=function(t,n){return t!=null?E.some(n(t)):E.none()},Ha=function(t,n){return t?E.some(n):E.none()},zo=function(t,n){return t+n},ci=function(t,n){return t.substring(n)},Oo=function(t,n,o){return n===""||t.length>=n.length&&t.substr(o,o+n.length)===n},mo=function(t,n){return Lo(t,n)?ci(t,n.length):t},Jo=function(t,n){return fn(t,n)?t:zo(t,n)},ua=function(t,n){return t.indexOf(n)!==-1},Lo=function(t,n){return Oo(t,n,0)},fn=function(t,n){return Oo(t,n,t.length-n.length)},Ui=function(t){return function(n){return n.replace(t,"")}},Ho=Ui(/^\s+|\s+$/g),Qo=function(t){return t.length>0},Do=function(t){return!Qo(t)},vi=function(t){return t.style!==void 0&&kr(t.style.getPropertyValue)},ji=function(t,n){var o=n||document,c=o.createElement("div");if(c.innerHTML=t,!c.hasChildNodes()||c.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return ie(c.childNodes[0])},si=function(t,n){var o=n||document,c=o.createElement(t);return ie(c)},Ji=function(t,n){var o=n||document,c=o.createTextNode(t);return ie(c)},ie=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Ce=function(t,n,o){return E.from(t.dom.elementFromPoint(n,o)).map(ie)},le={fromHtml:ji,fromTag:si,fromText:Ji,fromDom:ie,fromPoint:Ce};typeof window<"u"||Function("return this;")();var Ke=9,Cr=11,Gr=1,re=3,me=function(t){var n=t.dom.nodeName;return n.toLowerCase()},Xe=function(t){return t.dom.nodeType},St=function(t){return function(n){return Xe(n)===t}},N=St(Gr),X=St(re),ve=St(Ke),_e=St(Cr),Ue=function(t){var n=!1,o;return function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];return n||(n=!0,o=t.apply(null,c)),o}},qe=function(t,n,o,c){var d=t.isiOS()&&/ipad/i.test(o)===!0,m=t.isiOS()&&!d,h=t.isiOS()||t.isAndroid(),_=h||c("(pointer:coarse)"),C=d||!m&&h&&c("(min-device-width:768px)"),T=m||h&&!C,R=n.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,B=!T&&!C&&!R;return{isiPad:se(d),isiPhone:se(m),isTablet:se(C),isPhone:se(T),isTouch:se(_),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:se(R),isDesktop:se(B)}},pr=function(t,n){for(var o=0;o<t.length;o++){var c=t[o];if(c.test(n))return c}},$r=function(t,n){var o=pr(t,n);if(!o)return{major:0,minor:0};var c=function(d){return Number(n.replace(o,"$"+d))};return pn(c(1),c(2))},Cn=function(t,n){var o=String(n).toLowerCase();return t.length===0?et():$r(t,o)},et=function(){return pn(0,0)},pn=function(t,n){return{major:t,minor:n}},Kn={nu:pn,detect:Cn,unknown:et},Na=function(t,n){return bt(n.brands,function(o){var c=o.brand.toLowerCase();return Qt(t,function(d){var m;return c===((m=d.brand)===null||m===void 0?void 0:m.toLowerCase())}).map(function(d){return{current:d.name,version:Kn.nu(parseInt(o.version,10),0)}})})},Eo=function(t,n){var o=String(n).toLowerCase();return Qt(t,function(c){return c.search(o)})},ca=function(t,n){return Eo(t,n).map(function(o){var c=Kn.detect(o.versionRegexes,n);return{current:o.name,version:c}})},zu=function(t,n){return Eo(t,n).map(function(o){var c=Kn.detect(o.versionRegexes,n);return{current:o.name,version:c}})},lu=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,So=function(t){return function(n){return ua(n,t)}},Yu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ua(t,"edge/")&&ua(t,"chrome")&&ua(t,"safari")&&ua(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,lu],search:function(t){return ua(t,"chrome")&&!ua(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ua(t,"msie")||ua(t,"trident")}},{name:"Opera",versionRegexes:[lu,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:So("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:So("firefox")},{name:"Safari",versionRegexes:[lu,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ua(t,"safari")||ua(t,"mobile/"))&&ua(t,"applewebkit")}}],yi=[{name:"Windows",search:So("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ua(t,"iphone")||ua(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:So("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:So("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:So("linux"),versionRegexes:[]},{name:"Solaris",search:So("sunos"),versionRegexes:[]},{name:"FreeBSD",search:So("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:So("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ci={browsers:se(Yu),oses:se(yi)},oo="Edge",Bc="Chrome",Y="IE",ye="Opera",We="Firefox",Et="Safari",Lr=function(){return tn({current:void 0,version:Kn.unknown()})},tn=function(t){var n=t.current,o=t.version,c=function(d){return function(){return n===d}};return{current:n,version:o,isEdge:c(oo),isChrome:c(Bc),isIE:c(Y),isOpera:c(ye),isFirefox:c(We),isSafari:c(Et)}},vn={unknown:Lr,nu:tn},da="Windows",j="iOS",he="Android",Re="Linux",ot="OSX",Bt="Solaris",Kr="FreeBSD",yn="ChromeOS",xa=function(){return ra({current:void 0,version:Kn.unknown()})},ra=function(t){var n=t.current,o=t.version,c=function(d){return function(){return n===d}};return{current:n,version:o,isWindows:c(da),isiOS:c(j),isAndroid:c(he),isOSX:c(ot),isLinux:c(Re),isSolaris:c(Bt),isFreeBSD:c(Kr),isChromeOS:c(yn)}},Va={unknown:xa,nu:ra},so=function(t,n,o){var c=Ci.browsers(),d=Ci.oses(),m=n.bind(function(C){return Na(c,C)}).orThunk(function(){return ca(c,t)}).fold(vn.unknown,vn.nu),h=zu(d,t).fold(Va.unknown,Va.nu),_=qe(h,m,t,o);return{browser:m,os:h,deviceType:_}},Eu={detect:so},Wo=function(t){return window.matchMedia(t).matches},wn=Ue(function(){return Eu.detect(navigator.userAgent,E.from(navigator.userAgentData),Wo)}),dr=function(){return wn()},ja=function(t,n,o){return(t.compareDocumentPosition(n)&o)!==0},qo=function(t,n){return ja(t,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},wa=function(t,n){var o=t.dom;if(o.nodeType!==Gr)return!1;var c=o;if(c.matches!==void 0)return c.matches(n);if(c.msMatchesSelector!==void 0)return c.msMatchesSelector(n);if(c.webkitMatchesSelector!==void 0)return c.webkitMatchesSelector(n);if(c.mozMatchesSelector!==void 0)return c.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},Mc=function(t){return t.nodeType!==Gr&&t.nodeType!==Ke&&t.nodeType!==Cr||t.childElementCount===0},Zu=function(t,n){var o=n===void 0?document:n.dom;return Mc(o)?[]:$t(o.querySelectorAll(t),le.fromDom)},_s=function(t,n){var o=n===void 0?document:n.dom;return Mc(o)?E.none():E.from(o.querySelector(t)).map(le.fromDom)},Ra=function(t,n){return t.dom===n.dom},Di=function(t,n){var o=t.dom,c=n.dom;return o===c?!1:o.contains(c)},Cs=function(t,n){return qo(t.dom,n.dom)},Au=function(t,n){return dr().browser.isIE()?Cs(t,n):Di(t,n)},Bo=function(t){return le.fromDom(t.dom.ownerDocument)},Nc=function(t){return ve(t)?t:Bo(t)},wt=function(t){return le.fromDom(Nc(t).dom.documentElement)},ts=function(t){return le.fromDom(Nc(t).dom.defaultView)},Mo=function(t){return E.from(t.dom.parentNode).map(le.fromDom)},vl=function(t){return Mo(t)},hc=function(t){return E.from(t.dom.offsetParent).map(le.fromDom)},P=function(t){return E.from(t.dom.nextSibling).map(le.fromDom)},S=function(t){return $t(t.dom.childNodes,le.fromDom)},w=function(t,n){var o=t.dom.childNodes;return E.from(o[n]).map(le.fromDom)},A=function(t){return w(t,0)},H=function(t,n){return{element:t,offset:n}},oe=function(t,n){var o=S(t);return o.length>0&&n<o.length?H(o[n],0):H(t,n)},De=function(t){return _e(t)&&Kt(t.dom.host)},Lt=kr(Element.prototype.attachShadow)&&kr(Node.prototype.getRootNode),dn=se(Lt),Bn=Lt?function(t){return le.fromDom(t.dom.getRootNode())}:Nc,Or=function(t){return De(t)?t:le.fromDom(Nc(t).dom.body)},ln=function(t){return na(t).isSome()},na=function(t){var n=Bn(t);return De(n)?E.some(n):E.none()},ta=function(t){return le.fromDom(t.dom.host)},jn=function(t){if(dn()&&Kt(t.target)){var n=le.fromDom(t.target);if(N(n)&&go(n)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Vt(o)}}return E.from(t.target)},go=function(t){return Kt(t.dom.shadowRoot)},Ln=function(t){var n=X(t)?t.dom.parentNode:t.dom;if(n==null||n.ownerDocument===null)return!1;var o=n.ownerDocument;return na(le.fromDom(n)).fold(function(){return o.body.contains(n)},nr(Ln,ta))},to=function(){return Wa(le.fromDom(document))},Wa=function(t){var n=t.dom.body;if(n==null)throw new Error("Body is not available yet");return le.fromDom(n)},Ri=function(t,n,o){if(gt(o)||vr(o)||Ot(o))t.setAttribute(n,o+"");else throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},va=function(t,n,o){Ri(t.dom,n,o)},Fc=function(t,n){var o=t.dom;Rr(n,function(c,d){Ri(o,d,c)})},No=function(t,n){var o=t.dom.getAttribute(n);return o===null?void 0:o},Go=function(t,n){return E.from(No(t,n))},Wh=function(t,n){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(n):!1},Qi=function(t,n){t.dom.removeAttribute(n)},np=function(t,n,o){if(!gt(o))throw console.error("Invalid call to CSS.set. Property ",n,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);vi(t)&&t.style.setProperty(n,o)},Ws=function(t,n){vi(t)&&t.style.removeProperty(n)},Xn=function(t,n,o){var c=t.dom;np(c,n,o)},Ic=function(t,n){var o=t.dom;Rr(n,function(c,d){np(o,d,c)})},ei=function(t,n){var o=t.dom;Rr(n,function(c,d){c.fold(function(){Ws(o,d)},function(m){np(o,d,m)})})},ti=function(t,n){var o=t.dom,c=window.getComputedStyle(o),d=c.getPropertyValue(n);return d===""&&!Ln(t)?Pi(o,n):d},Pi=function(t,n){return vi(t)?t.style.getPropertyValue(n):""},bi=function(t,n){var o=t.dom,c=Pi(o,n);return E.from(c).filter(function(d){return d.length>0})},xf=function(t){var n={},o=t.dom;if(vi(o))for(var c=0;c<o.style.length;c++){var d=o.style.item(c);n[d]=o.style[d]}return n},rs=function(t,n,o){var c=le.fromTag(t);Xn(c,n,o);var d=bi(c,n);return d.isSome()},qa=function(t,n){var o=t.dom;Ws(o,n),st(Go(t,"style").map(Ho),"")&&Qi(t,"style")},Ao=function(t){return t.dom.offsetWidth},Lu=function(t,n){var o=function(_,C){if(!Ot(C)&&!C.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+C);var T=_.dom;vi(T)&&(T.style[t]=C+"px")},c=function(_){var C=n(_);if(C<=0||C===null){var T=ti(_,t);return parseFloat(T)||0}return C},d=c,m=function(_,C){return Zr(C,function(T,R){var B=ti(_,R),U=B===void 0?0:parseInt(B,10);return isNaN(U)?T:T+U},0)},h=function(_,C,T){var R=m(_,T),B=C>R?C-R:0;return B};return{set:o,get:c,getOuter:d,aggregate:m,max:h}},ml=Lu("height",function(t){var n=t.dom;return Ln(t)?n.getBoundingClientRect().height:n.offsetHeight}),Si=function(t){return ml.get(t)},$c=function(t){return ml.getOuter(t)},qh=function(t,n){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],c=ml.max(t,n,o);Xn(t,"max-height",c+"px")},Tf=function(t,n){var o=function(c,d){return Tf(t+c,n+d)};return{left:t,top:n,translate:o}},po=Tf,Ss=function(t){var n=t.getBoundingClientRect();return po(n.left,n.top)},Ll=function(t,n){return t!==void 0?t:n!==void 0?n:0},Ju=function(t){var n=t.dom.ownerDocument,o=n.body,c=n.defaultView,d=n.documentElement;if(o===t.dom)return po(o.offsetLeft,o.offsetTop);var m=Ll(c==null?void 0:c.pageYOffset,d.scrollTop),h=Ll(c==null?void 0:c.pageXOffset,d.scrollLeft),_=Ll(d.clientTop,o.clientTop),C=Ll(d.clientLeft,o.clientLeft);return li(t).translate(h-C,m-_)},li=function(t){var n=t.dom,o=n.ownerDocument,c=o.body;return c===n?po(c.offsetLeft,c.offsetTop):Ln(t)?Ss(n):po(0,0)},Hl=Lu("width",function(t){return t.dom.offsetWidth}),gl=function(t,n){return Hl.set(t,n)},Ou=function(t){return Hl.get(t)},Qu=function(t){return Hl.getOuter(t)},fu=function(t,n){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],c=Hl.max(t,n,o);Xn(t,"max-width",c+"px")},gd=function(t,n,o,c,d,m,h){return{target:t,x:n,y:o,stop:c,prevent:d,kill:m,raw:h}},xs=function(t){var n=le.fromDom(jn(t).getOr(t.target)),o=function(){return t.stopPropagation()},c=function(){return t.preventDefault()},d=rt(c,o);return gd(n,t.clientX,t.clientY,o,c,d,t)},Bi=function(t,n){return function(o){t(o)&&n(xs(o))}},cv=function(t,n,o,c,d){var m=Bi(o,c);return t.dom.addEventListener(n,m,d),{unbind:Nr(Ef,t,n,m,d)}},Gh=function(t,n,o,c){return cv(t,n,o,c,!1)},zf=function(t,n,o,c){return cv(t,n,o,c,!0)},Ef=function(t,n,o,c){t.dom.removeEventListener(n,o,c)},ri=function(t,n){var o=Mo(t);o.each(function(c){c.dom.insertBefore(n.dom,t.dom)})},Af=function(t,n){var o=P(t);o.fold(function(){var c=Mo(t);c.each(function(d){Du(d,n)})},function(c){ri(c,n)})},Of=function(t,n){var o=A(t);o.fold(function(){Du(t,n)},function(c){t.dom.insertBefore(n.dom,c.dom)})},Du=function(t,n){t.dom.appendChild(n.dom)},pl=function(t,n,o){w(t,o).fold(function(){Du(t,n)},function(c){ri(c,n)})},Df=function(t,n){Ye(n,function(o){ri(t,o)})},hl=function(t,n){Ye(n,function(o){Du(t,o)})},Vo=function(t){t.dom.textContent="",Ye(S(t),function(n){yc(n)})},yc=function(t){var n=t.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},gm=function(t){var n=S(t);n.length>0&&Df(t,n),yc(t)},Lc=function(t){var n=t!==void 0?t.dom:document,o=n.body.scrollLeft||n.documentElement.scrollLeft,c=n.body.scrollTop||n.documentElement.scrollTop;return po(o,c)},pm=function(t,n,o){var c=o!==void 0?o.dom:document,d=c.defaultView;d&&d.scrollTo(t,n)},Kh=function(t){var n=t===void 0?window:t;return dr().browser.isFirefox()?E.none():E.from(n.visualViewport)},ap=function(t,n,o,c){return{x:t,y:n,width:o,height:c,right:t+o,bottom:n+c}},Rf=function(t){var n=t===void 0?window:t,o=n.document,c=Lc(le.fromDom(o));return Kh(n).fold(function(){var d=n.document.documentElement,m=d.clientWidth,h=d.clientHeight;return ap(c.left,c.top,m,h)},function(d){return ap(Math.max(d.pageLeft,c.left),Math.max(d.pageTop,c.top),d.width,d.height)})},Pf=function(t,n){var o=t.view(n);return o.fold(se([]),function(c){var d=t.owner(c),m=Pf(t,d);return[c].concat(m)})},Vl=function(t,n){var o=n.owner(t),c=Pf(n,o);return E.some(c)},Yn=function(t){var n,o=t.dom===document?E.none():E.from((n=t.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return o.map(le.fromDom)},ns=function(t){return Bo(t)},ec=Object.freeze({__proto__:null,view:Yn,owner:ns}),Ru=function(t){var n=le.fromDom(document),o=Lc(n),c=Vl(t,ec);return c.fold(Nr(Ju,t),function(d){var m=li(t),h=qr(d,function(_,C){var T=li(C);return{left:_.left+T.left,top:_.top+T.top}},{left:0,top:0});return po(h.left+m.left+o.left,h.top+m.top+o.top)})},as=function(t,n,o){return{point:t,width:n,height:o}},mi=function(t,n,o,c){return{x:t,y:n,width:o,height:c}},Mi=function(t,n,o,c){return{x:t,y:n,width:o,height:c,right:t+o,bottom:n+c}},wi=function(t){var n=Ju(t),o=Qu(t),c=$c(t);return Mi(n.left,n.top,o,c)},Ul=function(t){var n=Ru(t),o=Qu(t),c=$c(t);return Mi(n.left,n.top,o,c)},du=function(){return Rf(window)},on=function(t){var n=function(B){return on(t)},o=function(B){return on(t)},c=function(B){return on(B(t))},d=function(B){return on(t)},m=function(B){B(t)},h=function(B){return B(t)},_=function(B,U){return U(t)},C=function(B){return B(t)},T=function(B){return B(t)},R=function(){return E.some(t)};return{isValue:dt,isError:Dt,getOr:se(t),getOrThunk:se(t),getOrDie:se(t),or:n,orThunk:o,fold:_,map:c,mapError:d,each:m,bind:h,exists:C,forall:T,toOptional:R}},Bf=function(t){var n=function(T){return T()},o=function(){return Le(String(t))()},c=or,d=function(T){return T()},m=function(T){return Bf(t)},h=function(T){return Bf(T(t))},_=function(T){return Bf(t)},C=function(T,R){return T(t)};return{isValue:Dt,isError:dt,getOr:or,getOrThunk:n,getOrDie:o,or:c,orThunk:d,fold:C,map:m,mapError:h,each:$e,bind:_,exists:Dt,forall:dt,toOptional:E.none}},op=function(t,n){return t.fold(function(){return Bf(n)},on)},ma={value:on,error:Bf,fromOption:op},ho;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(ho||(ho={}));var hm=function(t,n,o){return t.stype===ho.Error?n(t.serror):o(t.svalue)},qs=function(t){var n=[],o=[];return Ye(t,function(c){hm(c,function(d){return o.push(d)},function(d){return n.push(d)})}),{values:n,errors:o}},Fo=function(t,n){return t.stype===ho.Error?{stype:ho.Error,serror:n(t.serror)}:t},ym=function(t,n){return t.stype===ho.Value?{stype:ho.Value,svalue:n(t.svalue)}:t},bc=function(t,n){return t.stype===ho.Value?n(t.svalue):t},sv=function(t,n){return t.stype===ho.Error?n(t.serror):t},ha=function(t){return{stype:ho.Value,svalue:t}},Hu=function(t){return{stype:ho.Error,serror:t}},F1=function(t){return hm(t,ma.error,ma.value)},I1=function(t){return t.fold(Hu,ha)},Uo={fromResult:I1,toResult:F1,svalue:ha,partition:qs,serror:Hu,bind:bc,bindError:sv,map:ym,mapError:Fo,fold:hm},bm=function(t,n,o,c){return{tag:"field",key:t,newKey:n,presence:o,prop:c}},z=function(t,n){return{tag:"custom",newKey:t,instantiator:n}},I=function(t,n,o){switch(t.tag){case"field":return n(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},W=function(t,n){return n},fe=function(t,n){var o=yr(t)&&yr(n);return o?xt(t,n):n},Ie=function(t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];if(n.length===0)throw new Error("Can't merge zero objects");for(var c={},d=0;d<n.length;d++){var m=n[d];for(var h in m)K(m,h)&&(c[h]=t(c[h],m[h]))}return c}},xt=Ie(fe),kn=Ie(W),aa=function(){return{tag:"required",process:{}}},Aa=function(t){return{tag:"defaultedThunk",process:t}},ya=function(t){return Aa(se(t))},ko=function(){return{tag:"option",process:{}}},vu=function(t){return{tag:"mergeWithThunk",process:t}},ni=function(t){return vu(se(t))},gS=function(t,n){return t.length>0?Uo.svalue(xt(n,kn.apply(void 0,t))):Uo.svalue(n)},Gk=function(t){return rt(Uo.serror,Fe)(t)},Kk=function(t,n){var o=Uo.partition(t);return o.errors.length>0?Gk(o.errors):gS(o.values,n)},pS=function(t){var n=Uo.partition(t);return n.errors.length>0?Gk(n.errors):Uo.svalue(n.values)},yl={consolidateObj:Kk,consolidateArr:pS},ip=function(t){return yr(t)&&zt(t).length>100?" removed due to size":JSON.stringify(t,null,2)},wc=function(t){var n=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:se("... (only showing first ten failures)")}]):t;return $t(n,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},wm=function(t,n){return Uo.serror([{path:t,getErrorInfo:n}])},$1=function(t,n,o){return wm(t,function(){return'Could not find valid *required* value for "'+n+'" in '+ip(o)})},up=function(t,n){return wm(t,function(){return'Choice schema did not contain choice key: "'+n+'"'})},Xh=function(t,n,o){return wm(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+ip(n)})},Xk=function(t,n){return wm(t,function(){return"There are unsupported fields: ["+n.join(", ")+"] specified"})},hS=function(t,n){return wm(t,se(n))},bl=function(t){var n=function(c,d){return Uo.bindError(t(d),function(m){return hS(c,m)})},o=se("val");return{extract:n,toString:o}},cp=bl(Uo.svalue),yS=function(t,n,o,c){return at(n,o).fold(function(){return $1(t,o,n)},c)},L1=function(t,n,o,c){var d=at(t,n).getOrThunk(function(){return o(t)});return c(d)},bS=function(t,n,o){return o(at(t,n))},wS=function(t,n,o,c){var d=at(t,n).map(function(m){return m===!0?o(t):m});return c(d)},km=function(t,n,o,c,d){var m=function(_){return d.extract(n.concat([c]),_)},h=function(_){return _.fold(function(){return Uo.svalue(E.none())},function(C){var T=d.extract(n.concat([c]),C);return Uo.map(T,E.some)})};switch(t.tag){case"required":return yS(n,o,c,m);case"defaultedThunk":return L1(o,c,t.process,m);case"option":return bS(o,c,h);case"defaultedOptionThunk":return wS(o,c,t.process,h);case"mergeWithThunk":return L1(o,c,se({}),function(_){var C=xt(t.process(o),_);return m(C)})}},sp=function(t,n,o){for(var c={},d=[],m=0,h=o;m<h.length;m++){var _=h[m];I(_,function(C,T,R,B){var U=km(R,t,n,C,B);Uo.fold(U,function(q){d.push.apply(d,q)},function(q){c[T]=q})},function(C,T){c[C]=T(n)})}return d.length>0?Uo.serror(d):Uo.svalue(c)},Yk=function(t){var n=function(c,d){return t().extract(c,d)},o=function(){return t().toString()};return{extract:n,toString:o}},Zk=function(t){return zt(lr(t,Kt))},Hc=function(t){var n=Dn(t),o=qr(t,function(d,m){return I(m,function(h){var _;return xt(d,(_={},_[h]=!0,_))},se(d))},{}),c=function(d,m){var h=vr(m)?[]:Zk(m),_=Zt(h,function(C){return!Ee(o,C)});return _.length===0?n.extract(d,m):Xk(d,_)};return{extract:c,toString:n.toString}},Dn=function(t){var n=function(c,d){return sp(c,d,t)},o=function(){var c=$t(t,function(d){return I(d,function(m,h,_,C){return m+" -> "+C.toString()},function(m,h){return"state("+m+")"})});return`obj{
`+c.join(`
`)+"}"};return{extract:n,toString:o}},Mf=function(t){var n=function(c,d){var m=$t(d,function(h,_){return t.extract(c.concat(["["+_+"]"]),h)});return yl.consolidateArr(m)},o=function(){return"array("+t.toString()+")"};return{extract:n,toString:o}},lp=function(t){var n=function(c,d){for(var m=[],h=0,_=t;h<_.length;h++){var C=_[h],T=C.extract(c,d);if(T.stype===ho.Value)return T;m.push(T)}return yl.consolidateArr(m)},o=function(){return"oneOf("+$t(t,function(c){return c.toString()}).join(", ")+")"};return{extract:n,toString:o}},pd=function(t,n){var o=function(m,h){return Mf(bl(t)).extract(m,h)},c=function(m,h){var _=zt(h),C=o(m,_);return Uo.bind(C,function(T){var R=$t(T,function(B){return bm(B,B,aa(),n)});return Dn(R).extract(m,h)})},d=function(){return"setOf("+n.toString()+")"};return{extract:c,toString:d}},_m=function(t,n){var o=Ue(n),c=function(m,h){return o().extract(m,h)},d=function(){return o().toString()};return{extract:c,toString:d}},H1=rt(Mf,Dn),Gs=se(cp),lv=function(t,n){return bl(function(o){var c=typeof o;return t(o)?Uo.svalue(o):Uo.serror("Expected type: "+n+" but got: "+c)})},Cm=lv(Ot,"number"),gi=lv(gt,"string"),eu=lv(vr,"boolean"),fp=lv(kr,"function"),jl=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(n){return jl(t[n])});default:return!1}},dp=bl(function(t){return jl(t)?Uo.svalue(t):Uo.serror("Expected value to be acceptable for sending via postMessage")}),Yh=function(t,n,o,c){var d=at(o,c);return d.fold(function(){return Xh(t,o,c)},function(m){return m.extract(t.concat(["branch: "+c]),n)})},Zh=function(t,n){var o=function(d,m){var h=at(m,t);return h.fold(function(){return up(d,t)},function(_){return Yh(d,m,n,_)})},c=function(){return"chooseOn("+t+"). Possible values: "+zt(n)};return{extract:o,toString:c}},kS=function(){return Mf(cp)},Sm=function(t){return bl(function(n){return t(n).fold(Uo.serror,Uo.svalue)})},Pu=function(t,n){return pd(function(o){return Uo.fromResult(t(o))},n)},Jk=function(t,n,o){var c=n.extract([t],o);return Uo.mapError(c,function(d){return{input:o,errors:d}})},Ko=function(t,n,o){return Uo.toResult(Jk(t,n,o))},Ks=function(t){return t.fold(function(n){throw new Error(hd(n))},or)},io=function(t,n,o){return Ks(Ko(t,n,o))},hd=function(t){return`Errors: 
`+wc(t.errors).join(`
`)+`

Input object: `+ip(t.input)},Ts=function(t,n){return Zh(t,sr(n,Dn))},_S=function(t,n){return _m(t,n)},Ni=bm,tc=z,Qk=function(t){return Sm(function(n){return an(t,n)?ma.value(n):ma.error('Unsupported value: "'+n+'", choose one of "'+t.join(", ")+'".')})},Ut=function(t){return Ni(t,t,aa(),Gs())},kc=function(t,n){return Ni(t,t,aa(),n)},Nf=function(t){return kc(t,Cm)},Zn=function(t){return kc(t,gi)},os=function(t,n){return Ni(t,t,aa(),Qk(n))},CS=function(t){return kc(t,eu)},Vu=function(t){return kc(t,fp)},xm=function(t,n){return Ni(t,t,ko(),bl(function(o){return Uo.serror("The field: "+t+" is forbidden. "+n)}))},Wl=function(t,n){return Ni(t,t,aa(),Dn(n))},Xs=function(t,n){return Ni(t,t,aa(),H1(n))},Bu=function(t,n){return Ni(t,t,aa(),Mf(n))},Ga=function(t){return Ni(t,t,ko(),Gs())},wl=function(t,n){return Ni(t,t,ko(),n)},fv=function(t){return wl(t,Cm)},xo=function(t){return wl(t,gi)},yd=function(t){return wl(t,fp)},Vc=function(t,n){return wl(t,Mf(n))},Uc=function(t,n){return wl(t,Dn(n))},SS=function(t,n){return wl(t,Hc(n))},Ae=function(t,n){return Ni(t,t,ya(n),Gs())},rc=function(t,n,o){return Ni(t,t,ya(n),o)},_c=function(t,n){return rc(t,n,Cm)},Tm=function(t,n){return rc(t,n,gi)},is=function(t,n,o){return rc(t,n,Qk(o))},yo=function(t,n){return rc(t,n,eu)},To=function(t,n){return rc(t,n,fp)},Cc=function(t,n){return rc(t,n,dp)},Ff=function(t,n,o){return rc(t,n,Mf(o))},V1=function(t,n,o){return rc(t,n,Dn(o))},Nn=function(t){var n=t,o=function(){return n},c=function(d){n=d};return{get:o,set:c}},Jh=function(t){if(!ft(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var n=[],o={};return Ye(t,function(c,d){var m=zt(c);if(m.length!==1)throw new Error("one and only one name per case");var h=m[0],_=c[h];if(o[h]!==void 0)throw new Error("duplicate key detected:"+h);if(h==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ft(_))throw new Error("case arguments must be an array");n.push(h),o[h]=function(){for(var C=[],T=0;T<arguments.length;T++)C[T]=arguments[T];var R=C.length;if(R!==_.length)throw new Error("Wrong number of arguments to case "+h+". Expected "+_.length+" ("+_+"), got "+R);var B=function(U){var q=zt(U);if(n.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+q.join(","));var ee=Ne(n,function(de){return an(q,de)});if(!ee)throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+n.join(", "));return U[h].apply(null,C)};return{fold:function(){for(var U=[],q=0;q<arguments.length;q++)U[q]=arguments[q];if(U.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+U.length);var ee=U[d];return ee.apply(null,C)},match:B,log:function(U){console.log(U,{constructors:n,constructor:h,params:C})}}}}),o},us={generate:Jh};us.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var e_=function(t){var n=[],o=[];return Ye(t,function(c){c.fold(function(d){n.push(d)},function(d){o.push(d)})}),{errors:n,values:o}},vp=function(t,n){var o={};return Rr(t,function(c,d){an(n,d)||(o[d]=c)}),o},mp=function(t,n){var o;return o={},o[t]=n,o},U1=function(t){var n={};return Ye(t,function(o){n[o.key]=o.value}),n},j1=function(t,n){return vp(t,n)},ql=function(t,n){return mp(t,n)},If=function(t){return U1(t)},xS=function(t,n){return t.length===0?ma.value(n):ma.value(xt(n,kn.apply(void 0,t)))},W1=function(t){return ma.error(Fe(t))},TS=function(t,n){var o=e_(t);return o.errors.length>0?W1(o.errors):xS(o.values,n)},t_=function(t){return kr(t)?t:Dt},gp=function(t,n,o){for(var c=t.dom,d=t_(o);c.parentNode;){c=c.parentNode;var m=le.fromDom(c),h=n(m);if(h.isSome())return h;if(d(m))break}return E.none()},zm=function(t,n,o){var c=n(t),d=t_(o);return c.orThunk(function(){return d(t)?E.none():gp(t,n,d)})},r_=function(t,n){return Ra(t.element,n.event.target)},Gl={can:dt,abort:Dt,run:$e},Em=function(t){if(!Ee(t,"can")&&!Ee(t,"abort")&&!Ee(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return J(J({},Gl),t)},q1=function(t,n){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return Zr(t,function(d,m){return d&&n(m).apply(void 0,o)},!0)}},n_=function(t,n){return function(){for(var o=[],c=0;c<arguments.length;c++)o[c]=arguments[c];return Zr(t,function(d,m){return d||n(m).apply(void 0,o)},!1)}},zS=function(t){return kr(t)?{can:dt,abort:Dt,run:t}:t},ES=function(t){var n=q1(t,function(d){return d.can}),o=n_(t,function(d){return d.abort}),c=function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];Ye(t,function(h){h.run.apply(void 0,d)})};return{can:n,abort:o,run:c}},xi=se,Kl=xi("touchstart"),Ys=xi("touchmove"),bd=xi("touchend"),a_=xi("touchcancel"),Zs=xi("mousedown"),dv=xi("mousemove"),G1=xi("mouseout"),K1=xi("mouseup"),$f=xi("mouseover"),zs=xi("focusin"),mu=xi("focusout"),Qh=xi("keydown"),X1=xi("keyup"),vv=xi("input"),Am=xi("change"),Om=xi("click"),AS=xi("transitioncancel"),Dm=xi("transitionend"),Y1=xi("transitionstart"),OS=xi("selectstart"),ai=function(t){return se("alloy."+t)},ey={tap:ai("tap")},wd=ai("focus"),Z1=ai("blur.post"),J1=ai("paste.post"),Es=ai("receive"),cs=ai("execute"),mv=ai("focus.item"),kd=ey.tap,ty=ai("longpress"),pp=ai("sandbox.close"),Q1=ai("typeahead.cancel"),gv=ai("system.init"),ry=ai("system.touchmove"),DS=ai("system.touchend"),e0=ai("system.scroll"),ss=ai("system.resize"),jc=ai("system.attached"),Rm=ai("system.detached"),Js=ai("system.dismissRequested"),Mu=ai("system.repositionRequested"),ny=ai("focusmanager.shifted"),Lf=ai("slotcontainer.visibility"),o_=ai("change.tab"),gu=ai("dismiss.tab"),t0=ai("highlight"),ay=ai("dehighlight"),Ua=function(t,n){Qs(t,t.element,n,{})},Fn=function(t,n,o){Qs(t,t.element,n,o)},ls=function(t){Ua(t,cs())},oy=function(t,n,o){Qs(t,n,o,{})},Qs=function(t,n,o,c){var d=J({target:n},c);t.getSystem().triggerEvent(o,n,d)},i_=function(t,n,o,c){t.getSystem().triggerEvent(o,n,c.event)},bo=function(t){return If(t)},r0=function(t,n){return{key:t,value:Em({abort:n})}},iy=function(t,n){return{key:t,value:Em({can:n})}},uy=function(t){return{key:t,value:Em({run:function(n,o){o.event.prevent()}})}},Yt=function(t,n){return{key:t,value:Em({run:n})}},n0=function(t,n,o){return{key:t,value:Em({run:function(c,d){n.apply(void 0,[c,d].concat(o))}})}},a0=function(t){return function(n){return Yt(t,n)}},_d=function(t){return function(n){return{key:t,value:Em({run:function(o,c){r_(o,c)&&n(o,c)}})}}},hp=function(t,n){return Yt(t,function(o,c){o.getSystem().getByUid(n).each(function(d){i_(d,d.element,t,c)})})},pv=function(t,n,o){var c=n.partUids[o];return hp(t,c)},Cd=function(t,n){return Yt(t,function(o,c){var d=c.event,m=o.getSystem().getByDom(d.target).getOrThunk(function(){var h=zm(d.target,function(_){return o.getSystem().getByDom(_).toOptional()},Dt);return h.getOr(o)});n(o,m,c)})},hv=function(t){return Yt(t,function(n,o){o.cut()})},Pm=function(t){return Yt(t,function(n,o){o.stop()})},ki=function(t,n){return _d(t)(n)},sa=_d(jc()),fs=_d(Rm()),u_=_d(gv()),Wc=a0(cs()),o0=function(t,n){var o=n||document,c=o.createElement("div");return c.innerHTML=t,S(le.fromDom(c))},Xl=function(t){return t.dom.innerHTML},Hf=function(t,n){var o=Bo(t),c=o.dom,d=le.fromDom(c.createDocumentFragment()),m=o0(n,c);hl(d,m),Vo(t),Du(t,d)},Vf=function(t){var n=le.fromTag("div"),o=le.fromDom(t.dom.cloneNode(!0));return Du(n,o),Xl(n)},ds=function(t,n){return le.fromDom(t.dom.cloneNode(n))},Sd=function(t){return ds(t,!1)},Wi=function(t){if(De(t))return"#shadow-root";var n=Sd(t);return Vf(n)},nc=function(t){return Wi(t)},Yl=function(t,n,o){return Ra(n,t.element)&&!Ra(n,o)},xd=bo([iy(wd(),function(t,n){var o=n.event,c=o.originator,d=o.target;return Yl(t,c,d)?(console.warn(wd()+` did not get interpreted by the desired target. 
Originator: `+nc(c)+`
Target: `+nc(d)+`
Check the `+wd()+" event handlers"),!1):!0})]),Bm=Object.freeze({__proto__:null,events:xd}),yv=0,mn=function(t){var n=new Date,o=n.getTime(),c=Math.floor(Math.random()*1e9);return yv++,t+"_"+c+yv+String(o)},tu=se("alloy-id-"),kl=se("data-alloy-id"),Zl=tu(),yp=kl(),c_=function(t,n){var o=mn(Zl+t);return cy(n,o),o},cy=function(t,n){Object.defineProperty(t.dom,yp,{value:n,writable:!0})},Td=function(t){var n=N(t)?t.dom[yp]:null;return E.from(n)},zd=function(t){return mn(t)},Mm=or,bp=function(t){var n=function(d){return"The component must be in a context to execute: "+d+(t?`
`+nc(t().element)+" is not in context.":"")},o=function(d){return function(){throw new Error(n(d))}},c=function(d){return function(){console.warn(n(d))}};return{debugInfo:se("fake"),triggerEvent:c("triggerEvent"),triggerFocus:c("triggerFocus"),triggerEscape:c("triggerEscape"),broadcast:c("broadcast"),broadcastOn:c("broadcastOn"),broadcastEvent:c("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:Dt}},RS=bp(),vs=function(t,n,o){var c=o.toString(),d=c.indexOf(")")+1,m=c.indexOf("("),h=c.substring(m+1,d-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:i0(h.slice(0,1).concat(h.slice(3)))}},t},i0=function(t){return $t(t,function(n){return fn(n,"/*")?n.substring(0,n.length-2):n})},bv=function(t,n){var o=t.toString(),c=o.indexOf(")")+1,d=o.indexOf("("),m=o.substring(d+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:n,parameters:i0(m)}},t},Ed=function(t,n){var o=n.toString(),c=o.indexOf(")")+1,d=o.indexOf("("),m=o.substring(d+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:i0(m.slice(1))}},t},u0=mn("alloy-premade"),Ad=function(t){return ql(u0,t)},s_=function(t){return at(t,u0)},Xo=function(t){return Ed(function(n){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return t.apply(void 0,Tt([n.getApis(),n],o,!1))},t)},pu={init:function(){return Nu({readState:se("No State required")})}},Nu=function(t){return t},l_=function(t,n){var o=$t(n,function(d){return Uc(d.name(),[Ut("config"),Ae("state",pu)])}),c=Ko("component.behaviours",Dn(o),t.behaviours).fold(function(d){throw new Error(hd(d)+`
Complete spec:
`+JSON.stringify(t,null,2))},or);return{list:n,data:sr(c,function(d){var m=d.map(function(h){return{config:h.config,state:h.state.init(h.config)}});return se(m)})}},sy=function(t){return t.list},PS=function(t){return t.data},f_=function(t,n){var o={};return Rr(t,function(c,d){Rr(c,function(m,h){var _=at(o,h).getOr([]);o[h]=_.concat([n(d,m)])})}),o},el=function(t){return{classes:Xr(t.classes)?[]:t.classes,attributes:Xr(t.attributes)?{}:t.attributes,styles:Xr(t.styles)?{}:t.styles}},BS=function(t,n){return J(J({},t),{attributes:J(J({},t.attributes),n.attributes),styles:J(J({},t.styles),n.styles),classes:t.classes.concat(n.classes)})},Nm=function(t,n,o,c){var d=J({},n);Ye(o,function(R){d[R.name()]=R.exhibit(t,c)});var m=f_(d,function(R,B){return{name:R,modification:B}}),h=function(R){return qr(R,function(B,U){return J(J({},U.modification),B)},{})},_=qr(m.classes,function(R,B){return B.modification.concat(R)},[]),C=h(m.attributes),T=h(m.styles);return el({classes:_,attributes:C,styles:T})},ly=function(t,n,o,c){try{var d=_n(o,function(m,h){var _=m[n],C=h[n],T=c.indexOf(_),R=c.indexOf(C);if(T===-1)throw new Error("The ordering for "+t+" does not have an entry for "+_+`.
Order specified: `+JSON.stringify(c,null,2));if(R===-1)throw new Error("The ordering for "+t+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(c,null,2));return T<R?-1:R<T?1:0});return ma.value(d)}catch(m){return ma.error([m])}},MS=function(t,n){return{handler:t,purpose:n}},d_=function(t,n){return{cHandler:t,purpose:n}},c0=function(t,n){return d_(Nr.apply(void 0,[t.handler].concat(n)),t.purpose)},s0=function(t){return t.cHandler},l0=function(t,n){return{name:t,handler:n}},NS=function(t,n){var o={};return Ye(t,function(c){o[c.name()]=c.handlers(n)}),o},Od=function(t,n,o){var c=J(J({},o),NS(n,t));return f_(c,l0)},Dd=function(t,n,o,c){var d=Od(t,o,c);return v_(d,n)},fo=function(t){var n=zS(t);return function(o,c){for(var d=[],m=2;m<arguments.length;m++)d[m-2]=arguments[m];var h=[o,c].concat(d);n.abort.apply(void 0,h)?c.stop():n.can.apply(void 0,h)&&n.run.apply(void 0,h)}},fy=function(t,n){return ma.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify($t(n,function(o){return o.name}),null,2)])},_l=function(t,n,o){var c=n[o];return c?ly("Event: "+o,"name",t,c).map(function(d){var m=$t(d,function(h){return h.handler});return ES(m)}):fy(o,t)},v_=function(t,n){var o=Gn(t,function(c,d){var m=c.length===1?ma.value(c[0].handler):_l(c,n,d);return m.map(function(h){var _=fo(h),C=c.length>1?Zt(n[d],function(T){return Un(c,function(R){return R.name===T})}).join(" > "):c[0].name;return ql(d,MS(_,C))})});return TS(o,{})},Cl,Jl="alloy.base.behaviour",Rd=Dn([Ni("dom","dom",aa(),Dn([Ut("tag"),Ae("styles",{}),Ae("classes",[]),Ae("attributes",{}),Ga("value"),Ga("innerHtml")])),Ut("components"),Ut("uid"),Ae("events",{}),Ae("apis",{}),Ni("eventOrder","eventOrder",ni((Cl={},Cl[cs()]=["disabling",Jl,"toggling","typeaheadevents"],Cl[wd()]=[Jl,"focusing","keying"],Cl[gv()]=[Jl,"disabling","toggling","representing"],Cl[vv()]=[Jl,"representing","streaming","invalidating"],Cl[Rm()]=[Jl,"representing","item-events","tooltipping"],Cl[Zs()]=["focusing",Jl,"item-type-events"],Cl[Kl()]=["focusing",Jl,"item-type-events"],Cl[$f()]=["item-type-events","tooltipping"],Cl[Es()]=["receiving","reflecting","tooltipping"],Cl)),Gs()),Ga("domModification")]),dy=function(t){return Ko("custom.definition",Rd,t)},wp=function(t){return J(J({},t.dom),{uid:t.uid,domChildren:$t(t.components,function(n){return n.element})})},vy=function(t){return t.domModification.fold(function(){return el({})},el)},my=function(t){return t.events},wv=function(t,n){var o=No(t,n);return o===void 0||o===""?[]:o.split(" ")},FS=function(t,n,o){var c=wv(t,n),d=c.concat([o]);return va(t,n,d.join(" ")),!0},gy=function(t,n,o){var c=Zt(wv(t,n),function(d){return d!==o});return c.length>0?va(t,n,c.join(" ")):Qi(t,n),!1},Fm=function(t){return t.dom.classList!==void 0},kp=function(t){return wv(t,"class")},_p=function(t,n){return FS(t,"class",n)},f0=function(t,n){return gy(t,"class",n)},Fi=function(t,n){Fm(t)?t.dom.classList.add(n):_p(t,n)},kv=function(t){var n=Fm(t)?t.dom.classList:kp(t);n.length===0&&Qi(t,"class")},Ti=function(t,n){if(Fm(t)){var o=t.dom.classList;o.remove(n)}else f0(t,n);kv(t)},ac=function(t,n){return Fm(t)&&t.dom.classList.contains(n)},_v=function(t,n){Ye(n,function(o){Fi(t,o)})},ms=function(t,n){Ye(n,function(o){Ti(t,o)})},py=function(t,n){return Ne(n,function(o){return ac(t,o)})},Ql=function(t){return t.dom.value},Im=function(t,n){if(n===void 0)throw new Error("Value.set was undefined");t.dom.value=n},$m=function(t){var n=le.fromTag(t.tag);Fc(n,t.attributes),_v(n,t.classes),Ic(n,t.styles),t.innerHtml.each(function(c){return Hf(n,c)});var o=t.domChildren;if(hl(n,o),t.value.each(function(c){Im(n,c)}),!t.uid)debugger;return cy(n,t.uid),n},m_=function(t){var n=at(t,"behaviours").getOr({});return gr(zt(n),function(o){var c=n[o];return Kt(c)?[c.me]:[]})},g_=function(t,n){return l_(t,n)},IS=function(t){var n=m_(t);return g_(t,n)},$S=function(t,n,o){var c=wp(t),d=vy(t),m={"alloy.base.modification":d},h=n.length>0?Nm(o,m,n,c):d;return BS(c,h)},LS=function(t,n,o){var c={"alloy.base.behaviour":my(t)};return Dd(o,t.eventOrder,n,c).getOrDie()},p_=function(t){var n=function(){return ze},o=Nn(RS),c=Ks(dy(t)),d=IS(t),m=sy(d),h=PS(d),_=$S(c,m,h),C=$m(_),T=LS(c,m,h),R=Nn(c.components),B=function(ht){o.set(ht)},U=function(){o.set(bp(n))},q=function(){var ht=S(C),lt=gr(ht,function(Te){return o.get().getByDom(Te).fold(function(){return[]},Jr)});R.set(lt)},ee=function(ht){var lt=h,Te=kr(lt[ht.name()])?lt[ht.name()]:function(){throw new Error("Could not find "+ht.name()+" in "+JSON.stringify(t,null,2))};return Te()},de=function(ht){return kr(h[ht.name()])},Se=function(){return c.apis},ce=function(ht){return h[ht]().map(function(lt){return lt.state.readState()}).getOr("not enabled")},ze={uid:t.uid,getSystem:o.get,config:ee,hasConfigured:de,spec:t,readState:ce,getApis:Se,connect:B,disconnect:U,element:C,syncComponents:q,components:R.get,events:T};return ze},hy=function(t){var n=at(t,"components").getOr([]);return $t(n,Io)},yy=function(t){var n=Mm(t),o=n.events,c=V(n,["events"]),d=hy(c),m=J(J({},c),{events:J(J({},Bm),o),components:d});return ma.value(p_(m))},hu=function(t){var n=le.fromText(t);return by({element:n})},by=function(t){var n=io("external.component",Hc([Ut("element"),Ga("uid")]),t),o=Nn(bp()),c=function(_){o.set(_)},d=function(){o.set(bp(function(){return h}))},m=n.uid.getOrThunk(function(){return zd("external")});cy(n.element,m);var h={uid:m,getSystem:o.get,config:E.none,hasConfigured:Dt,connect:c,disconnect:d,getApis:function(){return{}},element:n.element,spec:t,readState:se("No state"),syncComponents:$e,components:se([]),events:{}};return Ad(h)},d0=zd,As=function(t){return K(t,"uid")},Io=function(t){return s_(t).getOrThunk(function(){var n=As(t)?t:J({uid:d0("")},t);return yy(n).getOrDie()})},gs=Ad;function Pd(t,n,o,c,d){return t(o,c)?E.some(o):kr(d)&&d(o)?E.none():n(o,c,d)}var v0=function(t,n,o){for(var c=t.dom,d=kr(o)?o:Dt;c.parentNode;){c=c.parentNode;var m=le.fromDom(c);if(n(m))return E.some(m);if(d(m))break}return E.none()},wy=function(t,n,o){var c=function(d,m){return m(d)};return Pd(c,v0,t,n,o)},h_=function(t,n){var o=function(d){return n(le.fromDom(d))},c=Qt(t.dom.childNodes,o);return c.map(le.fromDom)},ga=function(t,n){var o=function(c){for(var d=0;d<c.childNodes.length;d++){var m=le.fromDom(c.childNodes[d]);if(n(m))return E.some(m);var h=o(c.childNodes[d]);if(h.isSome())return h}return E.none()};return o(t.dom)},Lm=function(t,n,o){return wy(t,n,o).isSome()},ky=function(t,n,o){return v0(t,function(c){return wa(c,n)},o)},m0=function(t,n){return h_(t,function(o){return wa(o,n)})},Ii=function(t,n){return _s(n,t)},Os=function(t,n,o){var c=function(d,m){return wa(d,m)};return Pd(c,ky,t,n,o)},y_=function(t){var n=wy(t,function(o){if(!N(o))return!1;var c=No(o,"id");return c!==void 0&&c.indexOf("aria-owns")>-1});return n.bind(function(o){var c=No(o,"id"),d=Bn(o);return Ii(d,'[aria-owns="'+c+'"]')})},Cv=function(){var t=mn("aria-owns"),n=function(c){va(c,"aria-owns",t)},o=function(c){Qi(c,"aria-owns")};return{id:t,link:n,unlink:o}},Ro=function(t,n){return y_(n).exists(function(o){return Sv(t,o)})},Sv=function(t,n){return Lm(n,function(o){return Ra(o,t.element)},Dt)||Ro(t,n)},_y="unknown",Hm;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(Hm||(Hm={}));var g0=Nn({}),b_=function(t,n){var o=[],c=new Date().getTime();return{logEventCut:function(d,m,h){o.push({outcome:"cut",target:m,purpose:h})},logEventStopped:function(d,m,h){o.push({outcome:"stopped",target:m,purpose:h})},logNoParent:function(d,m,h){o.push({outcome:"no-parent",target:m,purpose:h})},logEventNoHandlers:function(d,m){o.push({outcome:"no-handlers-left",target:m})},logEventResponse:function(d,m,h){o.push({outcome:"response",purpose:h,target:m})},write:function(){var d=new Date().getTime();an(["mousemove","mouseover","mouseout",gv()],t)||console.log(t,{event:t,time:d-c,target:n.dom,sequence:$t(o,function(m){return an(["cut","stopped","response"],m.outcome)?"{"+m.purpose+"} "+m.outcome+" at ("+nc(m.target)+")":m.outcome})})}}},Cp=function(t,n,o){var c=at(g0.get(),t).orThunk(function(){var h=zt(g0.get());return bt(h,function(_){return t.indexOf(_)>-1?E.some(g0.get()[_]):E.none()})}).getOr(Hm.NORMAL);switch(c){case Hm.NORMAL:return o(HS());case Hm.LOGGING:{var d=b_(t,n),m=o(d);return d.write(),m}case Hm.STOP:return!0}},w_=["alloy/data/Fields","alloy/debugging/Debugging"],Uf=function(){var t=new Error;if(t.stack!==void 0){var n=t.stack.split(`
`);return Qt(n,function(o){return o.indexOf("alloy")>0&&!Un(w_,function(c){return o.indexOf(c)>-1})}).getOr(_y)}else return _y},oc={logEventCut:$e,logEventStopped:$e,logNoParent:$e,logEventNoHandlers:$e,logEventResponse:$e,write:$e},p0=function(t,n,o){return Cp(t,n,o)},HS=se(oc),Sl=se([Ut("menu"),Ut("selectedMenu")]),jf=se([Ut("item"),Ut("selectedItem")]);se(Dn(jf().concat(Sl())));var Cy=se(Dn(jf())),VS=Wl("initSize",[Ut("numColumns"),Ut("numRows")]),US=function(){return kc("markers",Cy())},xv=function(){return Wl("markers",[Ut("backgroundMenu")].concat(Sl()).concat(jf()))},Tv=function(t){return Wl("markers",$t(t,Ut))},Sy=function(t,n,o){return Uf(),Ni(n,n,o,Sm(function(c){return ma.value(function(){for(var d=[],m=0;m<arguments.length;m++)d[m]=arguments[m];return c.apply(void 0,d)})}))},Ka=function(t){return Sy("onHandler",t,ya($e))},$i=function(t){return Sy("onKeyboardHandler",t,ya(E.none))},ic=function(t){return Sy("onHandler",t,aa())},Sc=function(t){return Sy("onKeyboardHandler",t,aa())},_o=function(t,n){return tc(t,se(n))},Bd=function(t){return tc(t,or)},xy=se(VS),qi=function(t,n,o,c,d,m,h,_){return _===void 0&&(_=!1),{x:t,y:n,bubble:o,direction:c,placement:d,restriction:m,label:h+"-"+d,alwaysFit:_}},ef=us.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),jS=function(t,n,o,c,d,m,h,_,C){return t.fold(n,o,c,d,m,h,_,C)},WS=function(t,n,o,c){return t.fold(n,n,c,c,n,c,o,o)},Ty=function(t,n,o,c){return t.fold(n,c,n,c,o,o,n,c)},zy=ef.southeast,h0=ef.southwest,y0=ef.northeast,zv=ef.northwest,Sp=ef.south,b0=ef.north,w0=ef.east,Vm=ef.west,yu=function(t,n,o,c){var d=t+n;return d>c?o:d<o?c:d},qc=function(t,n,o){return Math.min(Math.max(t,n),o)},xp=function(t,n){switch(n){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},Li=function(t,n){return br(["left","right","top","bottom"],function(o){return at(n,o).map(function(c){return xp(t,c)})})},Ey=function(t,n,o){var c=function(C,T){return n[C].map(function(R){var B=C==="top"||C==="bottom",U=B?o.top:o.left,q=C==="left"||C==="top"?Math.max:Math.min,ee=q(R,T)+U;return B?qc(ee,t.y,t.bottom):qc(ee,t.x,t.right)}).getOr(T)},d=c("left",t.x),m=c("top",t.y),h=c("right",t.right),_=c("bottom",t.bottom);return Mi(d,m,h-d,_-m)},Wf="layout",k0=function(t){return t.x},_0=function(t,n){return t.x+t.width/2-n.width/2},k_=function(t,n){return t.x+t.width-n.width},C0=function(t,n){return t.y-n.height},Tp=function(t){return t.y+t.height},Ay=function(t,n){return t.y+t.height/2-n.height/2},__=function(t){return t.x+t.width},qS=function(t,n){return t.x-n.width},Fu=function(t,n,o){return qi(k0(t),Tp(t),o.southeast(),zy(),"southeast",Li(t,{left:1,top:3}),Wf)},Gi=function(t,n,o){return qi(k_(t,n),Tp(t),o.southwest(),h0(),"southwest",Li(t,{right:0,top:3}),Wf)},uc=function(t,n,o){return qi(k0(t),C0(t,n),o.northeast(),y0(),"northeast",Li(t,{left:1,bottom:2}),Wf)},cc=function(t,n,o){return qi(k_(t,n),C0(t,n),o.northwest(),zv(),"northwest",Li(t,{right:0,bottom:2}),Wf)},xc=function(t,n,o){return qi(_0(t,n),C0(t,n),o.north(),b0(),"north",Li(t,{bottom:2}),Wf)},zi=function(t,n,o){return qi(_0(t,n),Tp(t),o.south(),Sp(),"south",Li(t,{top:3}),Wf)},Oy=function(t,n,o){return qi(__(t),Ay(t,n),o.east(),w0(),"east",Li(t,{left:0}),Wf)},Dy=function(t,n,o){return qi(qS(t,n),Ay(t,n),o.west(),Vm(),"west",Li(t,{right:1}),Wf)},S0=function(){return[Fu,Gi,uc,cc,zi,xc,Oy,Dy]},Ev=function(){return[Gi,Fu,cc,uc,zi,xc,Oy,Dy]},Md=function(){return[uc,cc,Fu,Gi,xc,zi]},Ry=function(){return[cc,uc,Gi,Fu,xc,zi]},Py=function(){return[Fu,Gi,uc,cc,zi,xc]},By=function(){return[Gi,Fu,cc,uc,zi,xc]},Um=function(t,n){return n.universal?t:Zt(t,function(o){return an(n.channels,o)})},jm=function(t){return bo([Yt(Es(),function(n,o){var c=t.channels,d=zt(c),m=o,h=Um(d,m);Ye(h,function(_){var C=c[_],T=C.schema,R=io("channel["+_+`] data
Receiver: `+nc(n.element),T,m.data);C.onReceive(n,R)})})])},C_=Object.freeze({__proto__:null,events:jm}),tf=[kc("channels",Pu(ma.value,Hc([ic("onReceive"),Ae("schema",Gs())])))],Av=function(t,n,o){return Wc(function(c){o(c,t,n)})},jo=function(t,n,o){return u_(function(c,d){o(c,t,n)})},GS=function(t,n,o,c,d,m){var h=Hc(t),_=Uc(n,[SS("config",t)]);return S_(h,_,n,o,c,d,m)},KS=function(t,n,o,c,d,m){var h=t,_=Uc(n,[wl("config",t)]);return S_(h,_,n,o,c,d,m)},My=function(t,n,o){var c=function(d){for(var m=[],h=1;h<arguments.length;h++)m[h-1]=arguments[h];var _=[d].concat(m);return d.config({name:se(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(C){var T=Array.prototype.slice.call(_,1);return n.apply(void 0,[d,C.config,C.state].concat(T))})};return vs(c,o,n)},XS=function(t){return{key:t,value:void 0}},S_=function(t,n,o,c,d,m,h){var _=function(B){return Ee(B,o)?B[o]():E.none()},C=sr(d,function(B,U){return My(o,B,U)}),T=sr(m,function(B,U){return bv(B,U)}),R=J(J(J({},T),C),{revoke:Nr(XS,o),config:function(B){var U=io(o+"-config",t,B);return{key:o,value:{config:U,me:R,configAsRaw:Ue(function(){return io(o+"-config",t,B)}),initialConfig:B,state:h}}},schema:se(n),exhibit:function(B,U){return ia(_(B),at(c,"exhibit"),function(q,ee){return ee(U,q.config,q.state)}).getOrThunk(function(){return el({})})},name:se(o),handlers:function(B){return _(B).map(function(U){var q=at(c,"events").getOr(function(){return{}});return q(U.config,U.state)}).getOr({})}});return R},Br=function(t){return If(t)},YS=Hc([Ut("fields"),Ut("name"),Ae("active",{}),Ae("apis",{}),Ae("state",pu),Ae("extra",{})]),Hi=function(t){var n=io("Creating behaviour: "+t.name,YS,t);return GS(n.fields,n.name,n.active,n.apis,n.extra,n.state)},x0=Hc([Ut("branchKey"),Ut("branches"),Ut("name"),Ae("active",{}),Ae("apis",{}),Ae("state",pu),Ae("extra",{})]),Ov=function(t){var n=io("Creating behaviour: "+t.name,x0,t);return KS(Ts(n.branchKey,n.branches),n.name,n.active,n.apis,n.extra,n.state)},x_=se(void 0),Uu=Hi({fields:tf,name:"receiving",active:C_}),zp=function(t,n){return el({classes:[],styles:n.useFixed()?{}:{position:"relative"}})},Ny=Object.freeze({__proto__:null,exhibit:zp}),Ep=function(){return le.fromDom(document)},xl=function(t){return t.dom.focus()},Ap=function(t){return t.dom.blur()},Op=function(t){var n=Bn(t).dom;return t.dom===n.activeElement},sc=function(t){return t===void 0&&(t=Ep()),E.from(t.dom.activeElement).map(le.fromDom)},Tl=function(t){return sc(Bn(t)).filter(function(n){return t.dom.contains(n.dom)})},T_=function(t,n){var o=Bn(n),c=sc(o).bind(function(m){var h=function(_){return Ra(m,_)};return h(n)?E.some(n):ga(n,h)}),d=t(n);return c.each(function(m){sc(o).filter(function(h){return Ra(h,m)}).fold(function(){xl(m)},$e)}),d},ju=function(t,n,o,c,d){var m=function(h){return h+"px"};return{position:t,left:n.map(m),top:o.map(m),right:c.map(m),bottom:d.map(m)}},rf=function(t){return J(J({},t),{position:E.some(t.position)})},Nd=function(t,n){ei(t,rf(n))},Dp=us.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),pt=function(t,n,o,c,d,m){var h=n.rect,_=h.x-o,C=h.y-c,T=h.width,R=h.height,B=d-(_+T),U=m-(C+R),q=E.some(_),ee=E.some(C),de=E.some(B),Se=E.some(U),ce=E.none();return jS(n.direction,function(){return ju(t,q,ee,ce,ce)},function(){return ju(t,ce,ee,de,ce)},function(){return ju(t,q,ce,ce,Se)},function(){return ju(t,ce,ce,de,Se)},function(){return ju(t,q,ee,ce,ce)},function(){return ju(t,q,ce,ce,Se)},function(){return ju(t,q,ee,ce,ce)},function(){return ju(t,ce,ee,de,ce)})},qf=function(t,n){return t.fold(function(){var o=n.rect;return ju("absolute",E.some(o.x),E.some(o.y),E.none(),E.none())},function(o,c,d,m){return pt("absolute",n,o,c,d,m)},function(o,c,d,m){return pt("fixed",n,o,c,d,m)})},Wm=function(t,n){var o=Nr(Ru,n),c=t.fold(o,o,function(){var h=Lc();return Ru(n).translate(-h.left,-h.top)}),d=Qu(n),m=$c(n);return Mi(c.left,c.top,d,m)},ZS=function(t,n){return n.fold(function(){return t.fold(du,du,Mi)},function(o){return t.fold(o,o,function(){var c=o(),d=Fy(t,c.x,c.y);return Mi(d.left,d.top,c.width,c.height)})})},Fy=function(t,n,o){var c=po(n,o),d=function(){var m=Lc();return c.translate(-m.left,-m.top)};return t.fold(se(c),se(c),d)},tl=function(t,n,o,c){return t.fold(n,o,c)};Dp.none;var Iy=Dp.relative,T0=Dp.fixed,z0=function(t,n){return{anchorBox:t,origin:n}},$y=function(t,n){return z0(t,n)},E0="data-alloy-placement",A0=function(t,n){va(t,E0,n)},O0=function(t){return Go(t,E0)},D0=function(t){return Qi(t,E0)},Dv=us.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),z_=function(t,n){var o=n.x,c=n.y,d=n.right,m=n.bottom,h=t.x,_=t.y,C=t.right,T=t.bottom,R=t.width,B=t.height,U=h>=o&&h<=d,q=_>=c&&_<=m,ee=U&&q,de=C<=d&&C>=o,Se=T<=m&&T>=c,ce=de&&Se,ze=Math.min(R,h>=o?d-h:C-o),ht=Math.min(B,_>=c?m-_:T-c);return{originInBounds:ee,sizeInBounds:ce,visibleW:ze,visibleH:ht}},JS=function(t,n){var o=n.x,c=n.y,d=n.right,m=n.bottom,h=t.x,_=t.y,C=t.width,T=t.height,R=Math.max(o,d-C),B=Math.max(c,m-T),U=qc(h,o,R),q=qc(_,c,B),ee=Math.min(U+C,d)-U,de=Math.min(q+T,m)-q;return Mi(U,q,ee,de)},QS=function(t,n,o){var c=se(n.bottom-o.y),d=se(o.bottom-n.y),m=WS(t,d,d,c),h=se(n.right-o.x),_=se(o.right-n.x),C=Ty(t,_,_,h);return{maxWidth:C,maxHeight:m}},qm=function(t,n,o,c){var d=t.bubble,m=d.offset,h=Ey(c,t.restriction,m),_=t.x+m.left,C=t.y+m.top,T=Mi(_,C,n,o),R=z_(T,h),B=R.originInBounds,U=R.sizeInBounds,q=R.visibleW,ee=R.visibleH,de=B&&U,Se=de?T:JS(T,h),ce=Se.width>0&&Se.height>0,ze=QS(t.direction,Se,c),ht=ze.maxWidth,lt=ze.maxHeight,Te={rect:Se,maxHeight:lt,maxWidth:ht,direction:t.direction,placement:t.placement,classes:{on:d.classesOn,off:d.classesOff},layout:t.label,testY:C};return de||t.alwaysFit?Dv.fit(Te):Dv.nofit(Te,q,ee,ce)},Gm=function(t,n,o,c,d,m){var h=c.width,_=c.height,C=function(R,B,U,q,ee){var de=R(o,c,d,t,m),Se=qm(de,h,_,m);return Se.fold(se(Se),function(ce,ze,ht,lt){var Te=ee===lt?ht>q||ze>U:!ee&&lt;return Te?Se:Dv.nofit(B,U,q,ee)})},T=Zr(n,function(R,B){var U=Nr(C,B);return R.fold(se(R),U)},Dv.nofit({rect:o,maxHeight:c.height,maxWidth:c.width,direction:zy(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return T.fold(or,or)},Ly=function(t){var n=Nn(E.none()),o=function(){return n.get().each(t)},c=function(){o(),n.set(E.none())},d=function(){return n.get().isSome()},m=function(){return n.get()},h=function(_){o(),n.set(E.some(_))};return{clear:c,isSet:d,get:m,set:h}},R0=function(){return Ly(function(t){return t.destroy()})},Km=function(){return Ly(function(t){return t.unbind()})},P0=function(){var t=R0(),n=function(o){return t.get().each(o)};return J(J({},t),{run:n})},fi=function(){var t=Ly($e),n=function(o){return t.get().each(o)};return J(J({},t),{on:n})},Rp=dt,pi=function(t,n,o){return Gh(t,n,Rp,o)},Hy=function(t,n,o){return zf(t,n,Rp,o)},Rv=xs,B0=["top","bottom","right","left"],Pp="data-alloy-transition-timer",M0=function(t,n){return py(t,n.classes)},E_=function(t,n,o){return o.exists(function(c){var d=t.mode;return d==="all"?!0:c[d]!==n[d]})},ex=function(t,n){var o=function(c){return parseFloat(c).toFixed(3)};return be(n,function(c,d){var m=t[d].map(o),h=c.map(o);return!Tr(m,h)}).isSome()},A_=function(t){var n=function(m){var h=ti(t,m),_=gt(h)?h.split(/\s*,\s*/):[];return Zt(_,Qo)},o=function(m){if(gt(m)&&/^[\d.]+/.test(m)){var h=parseFloat(m);return fn(m,"ms")?h:h*1e3}else return 0},c=n("transition-delay"),d=n("transition-duration");return Zr(d,function(m,h,_){var C=o(c[_])+o(h);return Math.max(m,C)},0)},tx=function(t,n){var o=Km(),c=Km(),d,m=function(R){var B,U=(B=R.raw.pseudoElement)!==null&&B!==void 0?B:"";return Ra(R.target,t)&&Do(U)&&an(B0,R.raw.propertyName)},h=function(R){if(mr(R)||m(R)){o.clear(),c.clear();var B=R==null?void 0:R.raw.type;(mr(B)||B===Dm())&&(clearTimeout(d),Qi(t,Pp),ms(t,n.classes))}},_=function(){o.set(pi(t,Dm(),h)),c.set(pi(t,AS(),h))};if("ontransitionstart"in t.dom)var C=pi(t,Y1(),function(R){m(R)&&(C.unbind(),_())});else _();var T=A_(t);requestAnimationFrame(function(){d=setTimeout(h,T+17),va(t,Pp,d)})},Vy=function(t,n){_v(t,n.classes),Go(t,Pp).each(function(o){clearTimeout(parseInt(o,10)),Qi(t,Pp)}),tx(t,n)},Bp=function(t,n,o,c,d,m){var h=E_(c,d,m);if(h||M0(t,c)){Xn(t,"position",o.position);var _=Wm(n,t),C=qf(n,J(J({},d),{rect:_})),T=br(B0,function(R){return C[R]});ex(o,T)&&(ei(t,T),h&&Vy(t,c),Ao(t))}else ms(t,c.classes)},rx=function(t){return{width:Qu(t),height:$c(t)}},O_=function(t,n,o,c){qa(n,"max-height"),qa(n,"max-width");var d=rx(n);return Gm(n,c.preference,t,d,o,c.bounds)},N0=function(t,n){var o=n.classes;ms(t,o.off),_v(t,o.on)},nx=function(t,n,o){var c=o.maxHeightFunction;c(t,n.maxHeight)},ax=function(t,n,o){var c=o.maxWidthFunction;c(t,n.maxWidth)},Uy=function(t,n,o){var c=qf(o.origin,n);o.transition.each(function(d){Bp(t,o.origin,c,d,n,o.lastPlacement)}),Nd(t,c)},F0=function(t,n){A0(t,n.placement)},bu=function(t,n){qh(t,Math.floor(n))},Xm=se(function(t,n){bu(t,n),Ic(t,{"overflow-x":"hidden","overflow-y":"auto"})}),Ym=se(function(t,n){bu(t,n)}),D_=function(t,n,o){return t[n]===void 0?o:t[n]},ox=function(t,n,o,c,d,m,h,_){var C=D_(h,"maxHeightFunction",Xm()),T=D_(h,"maxWidthFunction",$e),R=t.anchorBox,B=t.origin,U={bounds:ZS(B,m),origin:B,preference:c,maxHeightFunction:C,maxWidthFunction:T,lastPlacement:d,transition:_};return Mp(R,n,o,U)},Mp=function(t,n,o,c){var d=O_(t,n,o,c);return Uy(n,d,c),F0(n,d),N0(n,d),nx(n,d,c),ax(n,d,c),{layout:d.layout,placement:d.placement}},Np=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Pv=function(t,n,o,c){c===void 0&&(c=1);var d=t*c,m=n*c,h=function(C){return at(o,C).getOr([])},_=function(C,T,R){var B=ut(Np,R);return{offset:po(C,T),classesOn:gr(R,h),classesOff:gr(B,h)}};return{southeast:function(){return _(-t,n,["top","alignLeft"])},southwest:function(){return _(t,n,["top","alignRight"])},south:function(){return _(-t/2,n,["top","alignCentre"])},northeast:function(){return _(-t,-n,["bottom","alignLeft"])},northwest:function(){return _(t,-n,["bottom","alignRight"])},north:function(){return _(-t/2,-n,["bottom","alignCentre"])},east:function(){return _(t,-n/2,["valignCentre","left"])},west:function(){return _(-t,-n/2,["valignCentre","right"])},insetNortheast:function(){return _(d,m,["top","alignLeft","inset"])},insetNorthwest:function(){return _(-d,m,["top","alignRight","inset"])},insetNorth:function(){return _(-d/2,m,["top","alignCentre","inset"])},insetSoutheast:function(){return _(d,-m,["bottom","alignLeft","inset"])},insetSouthwest:function(){return _(-d,-m,["bottom","alignRight","inset"])},insetSouth:function(){return _(-d/2,-m,["bottom","alignCentre","inset"])},insetEast:function(){return _(-d,-m/2,["valignCentre","right","inset"])},insetWest:function(){return _(d,-m/2,["valignCentre","left","inset"])}}},jy=function(){return Pv(0,0,{})},Fp=or,I0=function(t,n){return function(o){return ix(o)==="rtl"?n:t}},ix=function(t){return ti(t,"direction")==="rtl"?"rtl":"ltr"},nf;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(nf||(nf={}));var Wy="data-alloy-vertical-dir",ux=function(t){return Lm(t,function(n){return N(n)&&No(n,"data-alloy-vertical-dir")===nf.BottomToTop})},Fd=function(){return Uc("layouts",[Ut("onLtr"),Ut("onRtl"),Ga("onBottomLtr"),Ga("onBottomRtl")])},Id=function(t,n,o,c,d,m,h){var _=h.map(ux).getOr(!1),C=n.layouts.map(function(q){return q.onLtr(t)}),T=n.layouts.map(function(q){return q.onRtl(t)}),R=_?n.layouts.bind(function(q){return q.onBottomLtr.map(function(ee){return ee(t)})}).or(C).getOr(d):C.getOr(o),B=_?n.layouts.bind(function(q){return q.onBottomRtl.map(function(ee){return ee(t)})}).or(T).getOr(m):T.getOr(c),U=I0(R,B);return U(t)},cx=function(t,n,o){var c=n.hotspot,d=Wm(o,c.element),m=Id(t.element,n,Py(),By(),Md(),Ry(),E.some(n.hotspot.element));return E.some(Fp({anchorBox:d,bubble:n.bubble.getOr(jy()),overrides:n.overrides,layouts:m,placer:E.none()}))},qy=[Ut("hotspot"),Ga("bubble"),Ae("overrides",{}),Fd(),_o("placement",cx)],Gy=function(t,n,o){var c=Fy(o,n.x,n.y),d=Mi(c.left,c.top,n.width,n.height),m=Id(t.element,n,S0(),Ev(),S0(),Ev(),E.none());return E.some(Fp({anchorBox:d,bubble:n.bubble,overrides:n.overrides,layouts:m,placer:E.none()}))},Ky=[Ut("x"),Ut("y"),Ae("height",0),Ae("width",0),Ae("bubble",jy()),Ae("overrides",{}),Fd(),_o("placement",Gy)],ru=us.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),R_=function(t){return t.fold(or,function(n,o,c){return n.translate(-o,-c)})},$0=function(t){return t.fold(or,or)},P_=function(t){return Zr(t,function(n,o){return n.translate(o.left,o.top)},po(0,0))},B_=function(t){var n=$t(t,R_);return P_(n)},zl=function(t){var n=$t(t,$0);return P_(n)},Gf=ru.screen,M_=ru.absolute,N_=function(t,n,o){var c=ts(o.root).dom,d=function(m){var h=Bo(m),_=Bo(t.element);return Ra(h,_)};return E.from(c.frameElement).map(le.fromDom).filter(d).map(Ju)},L0=function(t,n,o){var c=Bo(t.element),d=Lc(c),m=N_(t,n,o).getOr(d);return M_(m,d.left,d.top)},Xy=function(t,n,o,c){var d=Gf(po(t,n));return E.some(as(d,o,c))},F_=function(t,n,o,c,d){return t.map(function(m){var h=[n,m.point],_=tl(c,function(){return zl(h)},function(){return zl(h)},function(){return B_(h)}),C=mi(_.left,_.top,m.width,m.height),T=o.showAbove?Md():Py(),R=o.showAbove?Ry():By(),B=Id(d,o,T,R,T,R,E.none());return Fp({anchorBox:C,bubble:o.bubble.getOr(jy()),overrides:o.overrides,layouts:B,placer:E.none()})})},Zm=function(t,n,o){var c=L0(t,o,n);return n.node.filter(Ln).bind(function(d){var m=d.dom.getBoundingClientRect(),h=Xy(m.left,m.top,m.width,m.height),_=n.node.getOr(t.element);return F_(h,c,n,o,_)})},sx=[Ut("node"),Ut("root"),Ga("bubble"),Fd(),Ae("overrides",{}),Ae("showAbove",!1),_o("placement",Zm)],Ip="\uFEFF",lx=" ",Jm=function(t,n,o,c){return{start:t,soffset:n,finish:o,foffset:c}},Bv={create:Jm},H0=us.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),I_=function(t,n,o,c){return t.fold(n,o,c)},fx=function(t){return t.fold(or,or,or)},$_=H0.before,L_=H0.on,V0=H0.after,dx={before:$_,on:L_,after:V0,cata:I_,getStart:fx},Yy=us.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),vx=function(t){return Yy.exact(t.start,t.soffset,t.finish,t.foffset)},$p=function(t){return t.match({domRange:function(n){return le.fromDom(n.startContainer)},relative:function(n,o){return dx.getStart(n)},exact:function(n,o,c,d){return n}})},mx=Yy.domRange,gx=Yy.relative,px=Yy.exact,Zy=function(t){var n=$p(t);return ts(n)},hx=Bv.create,Qm={domRange:mx,relative:gx,exact:px,exactFromRange:vx,getWin:Zy,range:hx},H_=function(t,n){n.fold(function(o){t.setStartBefore(o.dom)},function(o,c){t.setStart(o.dom,c)},function(o){t.setStartAfter(o.dom)})},yx=function(t,n){n.fold(function(o){t.setEndBefore(o.dom)},function(o,c){t.setEnd(o.dom,c)},function(o){t.setEndAfter(o.dom)})},U0=function(t,n,o){var c=t.document.createRange();return H_(c,n),yx(c,o),c},V_=function(t,n,o,c,d){var m=t.document.createRange();return m.setStart(n.dom,o),m.setEnd(c.dom,d),m},j0=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},U_=function(t){var n=t.getClientRects(),o=n.length>0?n[0]:t.getBoundingClientRect();return o.width>0||o.height>0?E.some(o).map(j0):E.none()},j_=function(t){var n=t.getBoundingClientRect();return n.width>0||n.height>0?E.some(n).map(j0):E.none()},eg=us.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),W0=function(t,n,o){return n(le.fromDom(o.startContainer),o.startOffset,le.fromDom(o.endContainer),o.endOffset)},q0=function(t,n){return n.match({domRange:function(o){return{ltr:se(o),rtl:E.none}},relative:function(o,c){return{ltr:Ue(function(){return U0(t,o,c)}),rtl:Ue(function(){return E.some(U0(t,c,o))})}},exact:function(o,c,d,m){return{ltr:Ue(function(){return V_(t,o,c,d,m)}),rtl:Ue(function(){return E.some(V_(t,d,m,o,c))})}}})},bx=function(t,n){var o=n.ltr();if(o.collapsed){var c=n.rtl().filter(function(d){return d.collapsed===!1});return c.map(function(d){return eg.rtl(le.fromDom(d.endContainer),d.endOffset,le.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return W0(t,eg.ltr,o)})}else return W0(t,eg.ltr,o)},wx=function(t,n){var o=q0(t,n);return bx(t,o)},G0=function(t,n){var o=wx(t,n);return o.match({ltr:function(c,d,m,h){var _=t.document.createRange();return _.setStart(c.dom,d),_.setEnd(m.dom,h),_},rtl:function(c,d,m,h){var _=t.document.createRange();return _.setStart(m.dom,h),_.setEnd(c.dom,d),_}})};eg.ltr,eg.rtl;var kx=function(t,n){var o=function(m){if(!t(m))throw new Error("Can only get "+n+" value of a "+n+" node");return c(m).getOr("")},c=function(m){return t(m)?E.from(m.dom.nodeValue):E.none()},d=function(m,h){if(!t(m))throw new Error("Can only set raw "+n+" value of a "+n+" node");m.dom.nodeValue=h};return{get:o,getOption:c,set:d}},W_=kx(X,"text"),$d=function(t){return W_.get(t)},tg=function(t){return W_.getOption(t)},q_=function(t){return me(t)==="img"?1:tg(t).fold(function(){return S(t).length},function(n){return n.length})},_x=function(t){return tg(t).filter(function(n){return n.trim().length!==0||n.indexOf(lx)>-1}).isSome()},G_=["img","br"],Cx=function(t){var n=_x(t);return n||an(G_,me(t))},K0=function(t){return rg(t,Cx)},rg=function(t,n){var o=function(c){for(var d=S(c),m=d.length-1;m>=0;m--){var h=d[m];if(n(h))return E.some(h);var _=o(h);if(_.isSome())return _}return E.none()};return o(t)},Wu=function(t,n){return Zu(n,t)},X0=function(t,n,o,c){var d=Bo(t),m=d.dom.createRange();return m.setStart(t.dom,n),m.setEnd(o.dom,c),m},ng=function(t,n,o,c){var d=X0(t,n,o,c),m=Ra(t,o)&&n===c;return d.collapsed&&!m},Mv=function(t){return E.from(t.getSelection())},Jy=function(t){if(t.rangeCount>0){var n=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return E.some(Bv.create(le.fromDom(n.startContainer),n.startOffset,le.fromDom(o.endContainer),o.endOffset))}else return E.none()},Sx=function(t){if(t.anchorNode===null||t.focusNode===null)return Jy(t);var n=le.fromDom(t.anchorNode),o=le.fromDom(t.focusNode);return ng(n,t.anchorOffset,o,t.focusOffset)?E.some(Bv.create(n,t.anchorOffset,o,t.focusOffset)):Jy(t)},K_=function(t){return Mv(t).filter(function(n){return n.rangeCount>0}).bind(Sx)},Y0=function(t,n){var o=G0(t,n);return U_(o)},Tc=function(t,n){var o=G0(t,n);return j_(o)},Lp=function(t,n){return{element:t,offset:n}},xx=function(t,n){var o=S(t);if(o.length===0)return Lp(t,n);if(n<o.length)return Lp(o[n],0);var c=o[o.length-1],d=X(c)?$d(c).length:S(c).length;return Lp(c,d)},Nv=function(t,n){return X(t)?Lp(t,n):xx(t,n)},Ld=function(t,n){var o=n.getSelection.getOrThunk(function(){return function(){return K_(t)}});return o().map(function(c){var d=Nv(c.start,c.soffset),m=Nv(c.finish,c.foffset);return Qm.range(d.element,d.offset,m.element,m.offset)})},ag=function(t,n,o){var c=ts(n.root).dom,d=L0(t,o,n),m=Ld(c,n).bind(function(C){var T=Tc(c,Qm.exactFromRange(C)).orThunk(function(){var R=le.fromText(Ip);ri(C.start,R);var B=Y0(c,Qm.exact(R,0,R,1));return yc(R),B});return T.bind(function(R){return Xy(R.left,R.top,R.width,R.height)})}),h=Ld(c,n).bind(function(C){return N(C.start)?E.some(C.start):vl(C.start)}),_=h.getOr(t.element);return F_(m,d,n,o,_)},Hd=[Ga("getSelection"),Ut("root"),Ga("bubble"),Fd(),Ae("overrides",{}),Ae("showAbove",!1),_o("placement",ag)],El="link-layout",Al=function(t){return t.x+t.width},Qy=function(t,n){return t.x-n.width},eb=function(t,n){return t.y-n.height+t.height},Z0=function(t){return t.y},og=function(t,n,o){return qi(Al(t),Z0(t),o.southeast(),zy(),"southeast",Li(t,{left:0,top:2}),El)},ig=function(t,n,o){return qi(Qy(t,n),Z0(t),o.southwest(),h0(),"southwest",Li(t,{right:1,top:2}),El)},ug=function(t,n,o){return qi(Al(t),eb(t,n),o.northeast(),y0(),"northeast",Li(t,{left:0,bottom:3}),El)},Iu=function(t,n,o){return qi(Qy(t,n),eb(t,n),o.northwest(),zv(),"northwest",Li(t,{right:1,bottom:3}),El)},cg=function(){return[og,ig,ug,Iu]},sg=function(){return[ig,og,Iu,ug]},tb=function(t,n,o){var c=Wm(o,n.item.element),d=Id(t.element,n,cg(),sg(),cg(),sg(),E.none());return E.some(Fp({anchorBox:c,bubble:jy(),overrides:n.overrides,layouts:d,placer:E.none()}))},Tx=[Ut("item"),Fd(),Ae("overrides",{}),_o("placement",tb)],J0=Ts("type",{selection:Hd,node:sx,hotspot:qy,submenu:Tx,makeshift:Ky}),rb=[Bu("classes",gi),is("mode","all",["all","layout","placement"])],wu=[Ae("useFixed",Dt),Ga("getBounds")],zx=[kc("anchor",J0),Uc("transition",rb)],af=function(){var t=document.documentElement;return T0(0,0,t.clientWidth,t.clientHeight)},nb=function(t){var n=Ju(t.element),o=t.element.dom.getBoundingClientRect();return Iy(n.left,n.top,o.width,o.height)},Q0=function(t,n,o,c,d,m,h){var _=$y(o.anchorBox,n);return ox(_,d.element,o.bubble,o.layouts,m,c,o.overrides,h)},lg=function(t,n,o,c,d){ew(t,n,o,c,d,E.none())},ew=function(t,n,o,c,d,m){var h=m.map(wi);return Hp(t,n,o,c,d,h)},Hp=function(t,n,o,c,d,m){var h=io("placement.info",Dn(zx),d),_=h.anchor,C=c.element,T=o.get(c.uid);T_(function(){Xn(C,"position","fixed");var R=bi(C,"visibility");Xn(C,"visibility","hidden");var B=n.useFixed()?af():nb(t),U=_.placement,q=m.map(se).or(n.getBounds);U(t,_,B).each(function(ee){var de=ee.placer.getOr(Q0),Se=de(t,B,ee,q,c,T,h.transition);o.set(c.uid,Se)}),R.fold(function(){qa(C,"visibility")},function(ee){Xn(C,"visibility",ee)}),bi(C,"left").isNone()&&bi(C,"top").isNone()&&bi(C,"right").isNone()&&bi(C,"bottom").isNone()&&st(bi(C,"position"),"fixed")&&qa(C,"position")},C)},Ex=function(t,n,o){return n.useFixed()?"fixed":"absolute"},X_=function(t,n,o,c){var d=c.element;Ye(["position","left","right","top","bottom"],function(m){return qa(d,m)}),D0(d),o.clear(c.uid)},Y_=Object.freeze({__proto__:null,position:lg,positionWithin:ew,positionWithinBounds:Hp,getMode:Ex,reset:X_}),Ax=function(){var t={},n=function(d,m){t[d]=m},o=function(d){return at(t,d)},c=function(d){Kt(d)?delete t[d]:t={}};return Nu({readState:function(){return t},clear:c,set:n,get:o})},fg=Object.freeze({__proto__:null,init:Ax}),di=Hi({fields:wu,name:"positioning",active:Ny,apis:Y_,state:fg}),ab=function(t){Ua(t,Rm());var n=t.components();Ye(n,ab)},ob=function(t){var n=t.components();Ye(n,ob),Ua(t,jc())},tw=function(t,n){Du(t.element,n.element)},Z_=function(t){Ye(t.components(),function(n){return yc(n.element)}),Vo(t.element),t.syncComponents()},rw=function(t,n){var o=t.components();Z_(t);var c=ut(o,n);Ye(c,function(d){ab(d),t.getSystem().removeFromWorld(d)}),Ye(n,function(d){d.getSystem().isConnected()?tw(t,d):(t.getSystem().addToWorld(d),tw(t,d),Ln(t.element)&&ob(d)),t.syncComponents()})},Fv=function(t,n){ib(t,n,Du)},ib=function(t,n,o){t.getSystem().addToWorld(n),o(t.element,n.element),Ln(t.element)&&ob(n),t.syncComponents()},zc=function(t){ab(t),yc(t.element),t.getSystem().removeFromWorld(t)},Ol=function(t){var n=Mo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});zc(t),n.each(function(o){o.syncComponents()})},ub=function(t){var n=t.components();Ye(n,zc),Vo(t.element),t.syncComponents()},Kf=function(t,n){Dl(t,n,Du)},rl=function(t,n){Dl(t,n,Af)},Dl=function(t,n,o){o(t,n.element);var c=S(n.element);Ye(c,function(d){n.getByDom(d).each(ob)})},qu=function(t){var n=S(t.element);Ye(n,function(o){t.getByDom(o).each(ab)}),yc(t.element)},Ds=function(t,n,o,c){o.get().each(function(h){ub(t)});var d=n.getAttachPoint(t);Fv(d,t);var m=t.getSystem().build(c);return Fv(t,m),o.set(m),m},dg=function(t,n,o,c){var d=Ds(t,n,o,c);return n.onOpen(t,d),d},of=function(t,n,o,c){return o.get().map(function(){return Ds(t,n,o,c)})},Iv=function(t,n,o,c,d){r2(t,n),dg(t,n,o,c),d(),n2(t,n)},J_=function(t,n,o){o.get().each(function(c){ub(t),Ol(t),n.onClose(t,c),o.clear()})},Q_=function(t,n,o){return o.isOpen()},Ox=function(t,n,o,c){return Q_(t,n,o)&&o.get().exists(function(d){return n.isPartOf(t,d,c)})},Dx=function(t,n,o){return o.get()},e2=function(t,n,o,c){bi(t.element,n).fold(function(){Qi(t.element,o)},function(d){va(t.element,o,d)}),Xn(t.element,n,c)},t2=function(t,n,o){Go(t.element,o).fold(function(){return qa(t.element,n)},function(c){return Xn(t.element,n,c)})},r2=function(t,n,o){var c=n.getAttachPoint(t);Xn(t.element,"position",di.getMode(c)),e2(t,"visibility",n.cloakVisibilityAttr,"hidden")},Rx=function(t){return Un(["top","left","right","bottom"],function(n){return bi(t,n).isSome()})},n2=function(t,n,o){Rx(t.element)||qa(t.element,"position"),t2(t,"visibility",n.cloakVisibilityAttr)},Px=Object.freeze({__proto__:null,cloak:r2,decloak:n2,open:dg,openWhileCloaked:Iv,close:J_,isOpen:Q_,isPartOf:Ox,getState:Dx,setContent:of}),a2=function(t,n){return bo([Yt(pp(),function(o,c){J_(o,t,n)})])},o2=Object.freeze({__proto__:null,events:a2}),nw=[Ka("onOpen"),Ka("onClose"),Ut("isPartOf"),Ut("getAttachPoint"),Ae("cloakVisibilityAttr","data-precloak-visibility")],i2=function(){var t=fi(),n=se("not-implemented");return Nu({readState:n,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},Bx=Object.freeze({__proto__:null,init:i2}),Pa=Hi({fields:nw,name:"sandboxing",active:o2,apis:Px,state:Bx}),$v=se("dismiss.popups"),vg=se("reposition.popups"),aw=se("mouse.released"),Mx=Hc([Ae("isExtraPart",Dt),Uc("fireEventInstead",[Ae("event",Js())])]),Ec=function(t){var n,o=io("Dismissal",Mx,t);return n={},n[$v()]={schema:Hc([Ut("target")]),onReceive:function(c,d){if(Pa.isOpen(c)){var m=Pa.isPartOf(c,d.target)||o.isExtraPart(c,d.target);m||o.fireEventInstead.fold(function(){return Pa.close(c)},function(h){return Ua(c,h.event)})}}},n},Nx=Hc([Uc("fireEventInstead",[Ae("event",Mu())]),Vu("doReposition")]),Lv=function(t){var n,o=io("Reposition",Nx,t);return n={},n[vg()]={onReceive:function(c){Pa.isOpen(c)&&o.fireEventInstead.fold(function(){return o.doReposition(c)},function(d){return Ua(c,d.event)})}},n},Vd=function(t,n,o){n.store.manager.onLoad(t,n,o)},cb=function(t,n,o){n.store.manager.onUnload(t,n,o)},sb=function(t,n,o,c){n.store.manager.setValue(t,n,o,c)},Fx=function(t,n,o){return n.store.manager.getValue(t,n,o)},u2=function(t,n,o){return o},lb=Object.freeze({__proto__:null,onLoad:Vd,onUnload:cb,setValue:sb,getValue:Fx,getState:u2}),ow=function(t,n){var o=t.resetOnDom?[sa(function(c,d){Vd(c,t,n)}),fs(function(c,d){cb(c,t,n)})]:[jo(t,n,Vd)];return bo(o)},mg=Object.freeze({__proto__:null,events:ow}),fb=function(){var t=Nn(null),n=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},c=function(){t.set(null)};return Nu({set:t.set,get:t.get,isNotSet:o,clear:c,readState:n})},Ix=function(){var t=$e;return Nu({readState:t})},uf=function(){var t=Nn({}),n=Nn({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:n.get()}},c=function(){t.set({}),n.set({})},d=function(h){return at(t.get(),h).orThunk(function(){return at(n.get(),h)})},m=function(h){var _=t.get(),C=n.get(),T={},R={};Ye(h,function(B){T[B.value]=B,at(B,"meta").each(function(U){at(U,"text").each(function(q){R[q]=B})})}),t.set(J(J({},_),T)),n.set(J(J({},C),R))};return Nu({readState:o,lookup:d,update:m,clear:c})},iw=function(t){return t.store.manager.state(t)},uw=Object.freeze({__proto__:null,memory:fb,dataset:uf,manual:Ix,init:iw}),gg=function(t,n,o,c){var d=n.store;o.update([c]),d.setValue(t,c),n.onSetValue(t,c)},cw=function(t,n,o){var c=n.store,d=c.getDataKey(t);return o.lookup(d).getOrThunk(function(){return c.getFallbackEntry(d)})},Vp=function(t,n,o){var c=n.store;c.initialValue.each(function(d){gg(t,n,o,d)})},c2=function(t,n,o){o.clear()},$x=[Ga("initialValue"),Ut("getFallbackEntry"),Ut("getDataKey"),Ut("setValue"),_o("manager",{setValue:gg,getValue:cw,onLoad:Vp,onUnload:c2,state:uf})],cf=function(t,n,o){return n.store.getValue(t)},Gc=function(t,n,o,c){n.store.setValue(t,c),n.onSetValue(t,c)},ku=function(t,n,o){n.store.initialValue.each(function(c){n.store.setValue(t,c)})},Lx=[Ut("getValue"),Ae("setValue",$e),Ga("initialValue"),_o("manager",{setValue:Gc,getValue:cf,onLoad:ku,onUnload:$e,state:pu.init})],sw=function(t,n,o,c){o.set(c),n.onSetValue(t,c)},pg=function(t,n,o){return o.get()},lw=function(t,n,o){n.store.initialValue.each(function(c){o.isNotSet()&&o.set(c)})},Up=function(t,n,o){o.clear()},fw=[Ga("initialValue"),_o("manager",{setValue:sw,getValue:pg,onLoad:lw,onUnload:Up,state:fb})],Hx=[rc("store",{mode:"memory"},Ts("mode",{memory:fw,manual:Lx,dataset:$x})),Ka("onSetValue"),Ae("resetOnDom",!1)],Ur=Hi({fields:Hx,name:"representing",active:mg,apis:lb,extra:{setValueFrom:function(t,n){var o=Ur.getValue(n);Ur.setValue(t,o)}},state:uw}),Vi=function(t,n){return V1(t,{},$t(n,function(o){return xm(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([tc("dump",or)]))},hg=function(t){return t.dump},nu=function(t,n){return J(J({},Br(n)),t.dump)},Rs={field:Vi,augment:nu,get:hg},dw="placeholder",jp=us.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),db=function(t){return K(t,"uiType")},vb=function(t,n,o,c){return t.exists(function(d){return d!==o.owner})?jp.single(!0,se(o)):at(c,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+zt(c)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(d){return d.replace()})},mb=function(t,n,o,c){return db(o)&&o.uiType===dw?vb(t,n,o,c):jp.single(!1,se(o))},Ud=function(t,n,o,c){var d=mb(t,n,o,c);return d.fold(function(m,h){var _=db(o)?h(n,o.config,o.validated):h(n),C=at(_,"components").getOr([]),T=gr(C,function(R){return Ud(t,n,R,c)});return[J(J({},_),{components:T})]},function(m,h){if(db(o)){var _=h(n,o.config,o.validated),C=o.validated.preprocess.getOr(or);return C(_)}else return h(n)})},Wp=function(t,n,o,c){return gr(o,function(d){return Ud(t,n,d,c)})},vw=function(t,n){var o=!1,c=function(){return o},d=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,n},m=function(){return n.fold(function(h,_){return h},function(h,_){return h})};return{name:se(t),required:m,used:c,replace:d}},mw=function(t,n,o,c){var d=sr(c,function(h,_){return vw(_,h)}),m=Wp(t,n,o,d);return Rr(d,function(h){if(h.used()===!1&&h.required())throw new Error("Placeholder: "+h.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(n.components,null,2))}),m},gw=jp.single,Vx=jp.multiple,s2=se(dw),Xf=us.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),sf=Ae("factory",{sketch:or}),Hv=Ae("schema",[]),yg=Ut("name"),pw=Ni("pname","pname",Aa(function(t){return"<alloy."+mn(t.name)+">"}),Gs()),gb=tc("schema",function(){return[Ga("preprocess")]}),lf=Ae("defaults",se({})),nl=Ae("overrides",se({})),jd=Dn([sf,Hv,yg,pw,lf,nl]),Wd=Dn([sf,Hv,yg,lf,nl]),Vv=Dn([sf,Hv,yg,pw,lf,nl]),bg=Dn([sf,gb,yg,Ut("unit"),pw,lf,nl]),hw=function(t){return t.fold(E.some,E.none,E.some,E.some)},yw=function(t){var n=function(o){return o.name};return t.fold(n,n,n,n)},bw=function(t){return t.fold(or,or,or,or)},pb=function(t,n){return function(o){var c=io("Converting part type",n,o);return t(c)}},_u=pb(Xf.required,jd),ps=pb(Xf.external,Wd),Ps=pb(Xf.optional,Vv),ff=pb(Xf.group,bg),wg=se("entirety"),hb=Object.freeze({__proto__:null,required:_u,external:ps,optional:Ps,group:ff,asNamedPart:hw,name:yw,asCommon:bw,original:wg}),qd=function(t,n,o,c){return xt(n.defaults(t,o,c),o,{uid:t.partUids[n.name]},n.overrides(t,o,c))},Uv=function(t,n,o){var c={},d={};return Ye(o,function(m){m.fold(function(h){c[h.pname]=gw(!0,function(_,C,T){return h.factory.sketch(qd(_,h,C,T))})},function(h){var _=n.parts[h.name];d[h.name]=se(h.factory.sketch(qd(n,h,_[wg()]),_))},function(h){c[h.pname]=gw(!1,function(_,C,T){return h.factory.sketch(qd(_,h,C,T))})},function(h){c[h.pname]=Vx(!0,function(_,C,T){var R=_[h.name];return $t(R,function(B){return h.factory.sketch(xt(h.defaults(_,B,T),B,h.overrides(_,B)))})})})}),{internals:se(c),externals:se(d)}},jv=function(t,n){var o={};return Ye(n,function(c){hw(c).each(function(d){var m=Ux(t,d.pname);o[d.name]=function(h){var _=io("Part: "+d.name+" in "+t,Dn(d.schema),h);return J(J({},m),{config:h,validated:_})}})}),o},Ux=function(t,n){return{uiType:s2(),owner:t,name:n}},ww=function(t,n,o){return{uiType:s2(),owner:t,name:n,config:o,validated:{}}},l2=function(t){return gr(t,function(n){return n.fold(E.none,E.some,E.none,E.none).map(function(o){return Wl(o.name,o.schema.concat([Bd(wg())]))}).toArray()})},f2=function(t){return $t(t,yw)},kw=function(t,n,o){return Uv(t,n,o)},_w=function(t,n,o){return mw(E.some(t),n,n.components,o)},vo=function(t,n,o){var c=n.partUids[o];return t.getSystem().getByUid(c).toOptional()},df=function(t,n,o){return vo(t,n,o).getOrDie("Could not find part: "+o)},d2=function(t,n,o){var c={},d=n.partUids,m=t.getSystem();return Ye(o,function(h){c[h]=se(m.getByUid(d[h]))}),c},v2=function(t,n){var o=t.getSystem();return sr(n.partUids,function(c,d){return se(o.getByUid(c))})},m2=function(t){return zt(t.partUids)},yb=function(t,n,o){var c={},d=n.partUids,m=t.getSystem();return Ye(o,function(h){c[h]=se(m.getByUid(d[h]).getOrDie())}),c},Cw=function(t,n){var o=f2(n);return If($t(o,function(c){return{key:c,value:t+"-"+c}}))},qp=function(t){return Ni("partUids","partUids",vu(function(n){return Cw(n.uid,t)}),Gs())},Wn=Object.freeze({__proto__:null,generate:jv,generateOne:ww,schemas:l2,names:f2,substitutes:kw,components:_w,defaultUids:Cw,defaultUidsSchema:qp,getAllParts:v2,getAllPartNames:m2,getPart:vo,getPartOrDie:df,getParts:d2,getPartsOrDie:yb}),jx=function(t,n){var o=t.length>0?[Wl("parts",t)]:[];return o.concat([Ut("uid"),Ae("dom",{}),Ae("components",[]),Bd("originalSpec"),Ae("debug.sketcher",{})]).concat(n)},Sw=function(t,n,o,c,d){var m=jx(c,d);return io(t+" [SpecSchema]",Hc(m.concat(n)),o)},g2=function(t,n,o,c){var d=p2(c),m=Sw(t,n,d,[],[]);return o(m,d)},xw=function(t,n,o,c,d){var m=p2(d),h=l2(o),_=qp(o),C=Sw(t,n,m,h,[_]),T=kw(t,C,o),R=_w(t,C,T.internals());return c(C,R,m,T.externals())},Wx=function(t){return K(t,"uid")},p2=function(t){return Wx(t)?t:J(J({},t),{uid:zd("uid")})},Tw=function(t){return t.uid!==void 0},zw=Hc([Ut("name"),Ut("factory"),Ut("configFields"),Ae("apis",{}),Ae("extraApis",{})]),qx=Hc([Ut("name"),Ut("factory"),Ut("configFields"),Ut("partFields"),Ae("apis",{}),Ae("extraApis",{})]),hs=function(t){var n=io("Sketcher for "+t.name,zw,t),o=function(m){return g2(n.name,n.configFields,n.factory,m)},c=sr(n.apis,Xo),d=sr(n.extraApis,function(m,h){return bv(m,h)});return J(J({name:n.name,configFields:n.configFields,sketch:o},c),d)},lc=function(t){var n=io("Sketcher for "+t.name,qx,t),o=function(h){return xw(n.name,n.configFields,n.partFields,n.factory,h)},c=jv(n.name,n.partFields),d=sr(n.apis,Xo),m=sr(n.extraApis,function(h,_){return bv(h,_)});return J(J({name:n.name,partFields:n.partFields,configFields:n.configFields,sketch:o,parts:c},d),m)},vf=function(t){return me(t)==="input"&&No(t,"type")!=="radio"||me(t)==="textarea"},Gx=function(t,n,o){return n.find(t)},Kx=Object.freeze({__proto__:null,getCurrent:Gx}),Ew=[Ut("find")],Ta=Hi({fields:Ew,name:"composing",apis:Kx}),Xx=["input","button","textarea","select"],bb=function(t,n,o){var c=n.disabled()?Aw:Gd;c(t,n)},wb=function(t,n){return n.useNative===!0&&an(Xx,me(t.element))},kb=function(t){return Wh(t.element,"disabled")},Gp=function(t){va(t.element,"disabled","disabled")},Yf=function(t){Qi(t.element,"disabled")},Kp=function(t){return No(t.element,"aria-disabled")==="true"},Yx=function(t){va(t.element,"aria-disabled","true")},h2=function(t){va(t.element,"aria-disabled","false")},Aw=function(t,n,o){n.disableClass.each(function(d){Fi(t.element,d)});var c=wb(t,n)?Gp:Yx;c(t),n.onDisabled(t)},Gd=function(t,n,o){n.disableClass.each(function(d){Ti(t.element,d)});var c=wb(t,n)?Yf:h2;c(t),n.onEnabled(t)},_b=function(t,n){return wb(t,n)?kb(t):Kp(t)},y2=function(t,n,o,c){var d=c?Aw:Gd;d(t,n)},Zx=Object.freeze({__proto__:null,enable:Gd,disable:Aw,isDisabled:_b,onLoad:bb,set:y2}),Jx=function(t,n){return el({classes:n.disabled()?n.disableClass.toArray():[]})},Qx=function(t,n){return bo([r0(cs(),function(o,c){return _b(o,t)}),jo(t,n,bb)])},Wv=Object.freeze({__proto__:null,exhibit:Jx,events:Qx}),Ow=[To("disabled",Dt),Ae("useNative",!0),Ga("disableClass"),Ka("onDisabled"),Ka("onEnabled")],Mn=Hi({fields:Ow,name:"disabling",active:Wv,apis:Zx}),b2=function(t,n,o,c){var d=Wu(t.element,"."+n.highlightClass);Ye(d,function(m){Un(c,function(h){return h.element===m})||(Ti(m,n.highlightClass),t.getSystem().getByDom(m).each(function(h){n.onDehighlight(t,h),Ua(h,ay())}))})},w2=function(t,n,o){return b2(t,n,o,[])},e8=function(t,n,o,c){Dw(t,n,o,c)&&(Ti(c.element,n.highlightClass),n.onDehighlight(t,c),Ua(c,ay()))},Xp=function(t,n,o,c){b2(t,n,o,[c]),Dw(t,n,o,c)||(Fi(c.element,n.highlightClass),n.onHighlight(t,c),Ua(c,t0()))},Gu=function(t,n,o){Pw(t,n).each(function(c){Xp(t,n,o,c)})},Yp=function(t,n,o){Bw(t,n).each(function(c){Xp(t,n,o,c)})},t8=function(t,n,o,c){_2(t,n,o,c).fold(function(d){throw d},function(d){Xp(t,n,o,d)})},k2=function(t,n,o,c){var d=C2(t,n),m=Qt(d,c);m.each(function(h){Xp(t,n,o,h)})},Dw=function(t,n,o,c){return ac(c.element,n.highlightClass)},Rw=function(t,n,o){return Ii(t.element,"."+n.highlightClass).bind(function(c){return t.getSystem().getByDom(c).toOptional()})},_2=function(t,n,o,c){var d=Wu(t.element,"."+n.itemClass);return E.from(d[c]).fold(function(){return ma.error(new Error("No element found with index "+c))},t.getSystem().getByDom)},Pw=function(t,n,o){return Ii(t.element,"."+n.itemClass).bind(function(c){return t.getSystem().getByDom(c).toOptional()})},Bw=function(t,n,o){var c=Wu(t.element,"."+n.itemClass),d=c.length>0?E.some(c[c.length-1]):E.none();return d.bind(function(m){return t.getSystem().getByDom(m).toOptional()})},Zf=function(t,n,o,c){var d=Wu(t.element,"."+n.itemClass),m=Pe(d,function(h){return ac(h,n.highlightClass)});return m.bind(function(h){var _=yu(h,c,0,d.length-1);return t.getSystem().getByDom(d[_]).toOptional()})},r8=function(t,n,o){return Zf(t,n,o,-1)},n8=function(t,n,o){return Zf(t,n,o,1)},C2=function(t,n,o){var c=Wu(t.element,"."+n.itemClass);return cr($t(c,function(d){return t.getSystem().getByDom(d).toOptional()}))},a8=Object.freeze({__proto__:null,dehighlightAll:w2,dehighlight:e8,highlight:Xp,highlightFirst:Gu,highlightLast:Yp,highlightAt:t8,highlightBy:k2,isHighlighted:Dw,getHighlighted:Rw,getFirst:Pw,getLast:Bw,getPrevious:r8,getNext:n8,getCandidates:C2}),Zp=[Ut("highlightClass"),Ut("itemClass"),Ka("onHighlight"),Ka("onDehighlight")],Ja=Hi({fields:Zp,name:"highlighting",apis:a8}),Cb=[8],Jf=[9],al=[13],Kd=[27],Ac=[32],Sb=[37],qv=[38],kg=[39],Xd=[40],o8=function(t,n,o){var c=Oe(t.slice(0,n)),d=Oe(t.slice(n+1));return Qt(c.concat(d),o)},S2=function(t,n,o){var c=Oe(t.slice(0,n));return Qt(c,o)},i8=function(t,n,o){var c=t.slice(0,n),d=t.slice(n+1);return Qt(d.concat(c),o)},u8=function(t,n,o){var c=t.slice(n+1);return Qt(c,o)},ka=function(t){return function(n){var o=n.raw;return an(t,o.which)}},ol=function(t){return function(n){return Ne(t,function(o){return o(n)})}},_g=function(t){var n=t.raw;return n.shiftKey===!0},x2=function(t){var n=t.raw;return n.ctrlKey===!0},Jp=zr(_g),Ba=function(t,n){return{matches:t,classification:n}},T2=function(t,n){var o=Qt(t,function(c){return c.matches(n)});return o.map(function(c){return c.classification})},z2=function(t,n,o){var c=n.exists(function(d){return o.exists(function(m){return Ra(m,d)})});c||Fn(t,ny(),{prevFocus:n,newFocus:o})},Qp=function(){var t=function(o){return Tl(o.element)},n=function(o,c){var d=t(o);o.getSystem().triggerFocus(c,o.element);var m=t(o);z2(o,d,m)};return{get:t,set:n}},E2=function(){var t=function(o){return Ja.getHighlighted(o).map(function(c){return c.element})},n=function(o,c){var d=t(o);o.getSystem().getByDom(c).fold($e,function(h){Ja.highlight(o,h)});var m=t(o);z2(o,d,m)};return{get:t,set:n}},eh;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(eh||(eh={}));var Gv=function(t,n,o,c,d){var m=function(){return t.concat([Ae("focusManager",Qp()),rc("focusInside","onFocus",Sm(function(T){return an(["onFocus","onEnterOrSpace","onApi"],T)?ma.value(T):ma.error("Invalid value for focusInside")})),_o("handler",C),_o("state",n),_o("sendFocusIn",d)])},h=function(T,R,B,U,q){var ee=B(T,R,U,q);return T2(ee,R.event).bind(function(de){return de(T,R,U,q)})},_=function(T,R){var B=T.focusInside!==eh.OnFocusMode?E.none():d(T).map(function(ee){return Yt(wd(),function(de,Se){ee(de,T,R),Se.stop()})}),U=function(ee,de){var Se=ka(Ac.concat(al))(de.event);T.focusInside===eh.OnEnterOrSpaceMode&&Se&&r_(ee,de)&&d(T).each(function(ce){ce(ee,T,R),de.stop()})},q=[Yt(Qh(),function(ee,de){h(ee,de,o,T,R).fold(function(){U(ee,de)},function(Se){de.stop()})}),Yt(X1(),function(ee,de){h(ee,de,c,T,R).each(function(Se){de.stop()})})];return bo(B.toArray().concat(q))},C={schema:m,processKey:h,toEvents:_};return C},Mw=function(t){var n=[Ga("onEscape"),Ga("onEnter"),Ae("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Ae("firstTabstop",0),Ae("useTabstopAt",dt),Ga("visibilitySelector")].concat([t]),o=function(de,Se){var ce=de.visibilitySelector.bind(function(ze){return Os(Se,ze)}).getOr(Se);return Si(ce)>0},c=function(de,Se){var ce=Wu(de.element,Se.selector),ze=Zt(ce,function(ht){return o(Se,ht)});return E.from(ze[Se.firstTabstop])},d=function(de,Se){return Se.focusManager.get(de).bind(function(ce){return Os(ce,Se.selector)})},m=function(de,Se){return o(de,Se)&&de.useTabstopAt(Se)},h=function(de,Se,ce){c(de,Se).each(function(ze){Se.focusManager.set(de,ze)})},_=function(de,Se,ce,ze,ht){return ht(Se,ce,function(lt){return m(ze,lt)}).fold(function(){return ze.cyclic?E.some(!0):E.none()},function(lt){return ze.focusManager.set(de,lt),E.some(!0)})},C=function(de,Se,ce,ze){var ht=Wu(de.element,ce.selector);return d(de,ce).bind(function(lt){var Te=Pe(ht,Nr(Ra,lt));return Te.bind(function(tt){return _(de,ht,tt,ce,ze)})})},T=function(de,Se,ce){var ze=ce.cyclic?o8:S2;return C(de,Se,ce,ze)},R=function(de,Se,ce){var ze=ce.cyclic?i8:u8;return C(de,Se,ce,ze)},B=function(de,Se,ce){return ce.onEnter.bind(function(ze){return ze(de,Se)})},U=function(de,Se,ce){return ce.onEscape.bind(function(ze){return ze(de,Se)})},q=se([Ba(ol([_g,ka(Jf)]),T),Ba(ka(Jf),R),Ba(ka(Kd),U),Ba(ol([Jp,ka(al)]),B)]),ee=se([]);return Gv(n,pu.init,q,ee,function(){return E.some(h)})},Nw=Mw(tc("cyclic",Dt)),A2=Mw(tc("cyclic",dt)),O2=function(t,n,o){return oy(t,o,cs()),E.some(!0)},Yd=function(t,n,o){var c=vf(o)&&ka(Ac)(n.event);return c?E.none():O2(t,n,o)},Kv=function(t,n){return E.some(!0)},Fw=[Ae("execute",Yd),Ae("useSpace",!1),Ae("useEnter",!0),Ae("useControlEnter",!1),Ae("useDown",!1)],D2=function(t,n,o){return o.execute(t,n,t.element)},xb=function(t,n,o,c){var d=o.useSpace&&!vf(t.element)?Ac:[],m=o.useEnter?al:[],h=o.useDown?Xd:[],_=d.concat(m).concat(h);return[Ba(ka(_),D2)].concat(o.useControlEnter?[Ba(ol([x2,ka(al)]),D2)]:[])},c8=function(t,n,o,c){return o.useSpace&&!vf(t.element)?[Ba(ka(Ac),Kv)]:[]},Cg=Gv(Fw,pu.init,xb,c8,function(){return E.none()}),Iw=function(){var t=fi(),n=function(d,m){t.set({numRows:d,numColumns:m})},o=function(){return t.get().map(function(d){return d.numRows})},c=function(){return t.get().map(function(d){return d.numColumns})};return Nu({readState:function(){return t.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:n,getNumRows:o,getNumColumns:c})},$w=function(t){return t.state(t)},R2=Object.freeze({__proto__:null,flatgrid:Iw,init:$w}),Lw=function(t){return function(n,o,c,d){var m=t(n.element);return Vw(m,n,o,c,d)}},Tb=function(t,n){var o=I0(t,n);return Lw(o)},zb=function(t,n){var o=I0(n,t);return Lw(o)},Hw=function(t){return function(n,o,c,d){return Vw(t,n,o,c,d)}},Vw=function(t,n,o,c,d){var m=c.focusManager.get(n).bind(function(h){return t(n.element,h,c,d)});return m.map(function(h){return c.focusManager.set(n,h),!0})},P2=Hw,Xv=Hw,Sg=Hw,B2=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},M2=function(t){return!B2(t.dom)},Eb=function(t,n){return Pe(t,n).map(function(o){return{index:o,candidates:t}})},N2=function(t,n,o){var c=function(h){return Ra(h,n)},d=Wu(t,o),m=Zt(d,M2);return Eb(m,c)},F2=function(t,n){return Pe(t,function(o){return Ra(n,o)})},Uw=function(t,n,o,c){var d=Math.floor(n/o),m=n%o;return c(d,m).bind(function(h){var _=h.row*o+h.column;return _>=0&&_<t.length?E.some(t[_]):E.none()})},I2=function(t,n,o,c,d){return Uw(t,n,c,function(m,h){var _=m===o-1,C=_?t.length-m*c:c,T=yu(h,d,0,C-1);return E.some({row:m,column:T})})},$2=function(t,n,o,c,d){return Uw(t,n,c,function(m,h){var _=yu(m,d,0,o-1),C=_===o-1,T=C?t.length-_*c:c,R=qc(h,0,T-1);return E.some({row:_,column:R})})},L2=function(t,n,o,c){return I2(t,n,o,c,1)},s8=function(t,n,o,c){return I2(t,n,o,c,-1)},H2=function(t,n,o,c){return $2(t,n,o,c,-1)},jw=function(t,n,o,c){return $2(t,n,o,c,1)},xg=[Ut("selector"),Ae("execute",Yd),$i("onEscape"),Ae("captureTab",!1),xy()],l8=function(t,n,o){Ii(t.element,n.selector).each(function(c){n.focusManager.set(t,c)})},V2=function(t,n){return n.focusManager.get(t).bind(function(o){return Os(o,n.selector)})},U2=function(t,n,o,c){return V2(t,o).bind(function(d){return o.execute(t,n,d)})},Bs=function(t){return function(n,o,c,d){return N2(n,o,c.selector).bind(function(m){return t(m.candidates,m.index,d.getNumRows().getOr(c.initSize.numRows),d.getNumColumns().getOr(c.initSize.numColumns))})}},j2=function(t,n,o){return o.captureTab?E.some(!0):E.none()},W2=function(t,n,o){return o.onEscape(t,n)},Ab=Bs(s8),Ob=Bs(L2),Ww=Bs(H2),Yv=Bs(jw),Tg=se([Ba(ka(Sb),Tb(Ab,Ob)),Ba(ka(kg),zb(Ab,Ob)),Ba(ka(qv),P2(Ww)),Ba(ka(Xd),Xv(Yv)),Ba(ol([_g,ka(Jf)]),j2),Ba(ol([Jp,ka(Jf)]),j2),Ba(ka(Kd),W2),Ba(ka(Ac.concat(al)),U2)]),q2=se([Ba(ka(Ac),Kv)]),G2=Gv(xg,Iw,Tg,q2,function(){return E.some(l8)}),Db=function(t,n,o,c){var d=function(h){return me(h)==="button"&&No(h,"disabled")==="disabled"},m=function(h,_,C){var T=yu(_,c,0,C.length-1);return T===h?E.none():d(C[T])?m(h,T,C):E.from(C[T])};return N2(t,o,n).bind(function(h){var _=h.index,C=h.candidates;return m(_,_,C)})},f8=[Ut("selector"),Ae("getInitial",E.none),Ae("execute",Yd),$i("onEscape"),Ae("executeOnMove",!1),Ae("allowVertical",!0)],Rb=function(t,n){return n.focusManager.get(t).bind(function(o){return Os(o,n.selector)})},th=function(t,n,o){return Rb(t,o).bind(function(c){return o.execute(t,n,c)})},Pb=function(t,n,o){n.getInitial(t).orThunk(function(){return Ii(t.element,n.selector)}).each(function(c){n.focusManager.set(t,c)})},K2=function(t,n,o){return Db(t,o.selector,n,-1)},Bb=function(t,n,o){return Db(t,o.selector,n,1)},Ms=function(t){return function(n,o,c,d){return t(n,o,c,d).bind(function(){return c.executeOnMove?th(n,o,c):E.some(!0)})}},d8=function(t,n,o){return o.onEscape(t,n)},qw=function(t,n,o,c){var d=Sb.concat(o.allowVertical?qv:[]),m=kg.concat(o.allowVertical?Xd:[]);return[Ba(ka(d),Ms(Tb(K2,Bb))),Ba(ka(m),Ms(zb(K2,Bb))),Ba(ka(al),th),Ba(ka(Ac),th),Ba(ka(Kd),d8)]},Gw=se([Ba(ka(Ac),Kv)]),Mb=Gv(f8,pu.init,qw,Gw,function(){return E.some(Pb)}),zg=function(t,n,o){return E.from(t[n]).bind(function(c){return E.from(c[o]).map(function(d){return{rowIndex:n,columnIndex:o,cell:d}})})},Nb=function(t,n,o,c){var d=t[n],m=d.length,h=yu(o,c,0,m-1);return zg(t,n,h)},Kw=function(t,n,o,c){var d=yu(o,c,0,t.length-1),m=t[d].length,h=qc(n,0,m-1);return zg(t,d,h)},X2=function(t,n,o,c){var d=t[n],m=d.length,h=qc(o+c,0,m-1);return zg(t,n,h)},Y2=function(t,n,o,c){var d=qc(o+c,0,t.length-1),m=t[d].length,h=qc(n,0,m-1);return zg(t,d,h)},Fb=function(t,n,o){return Nb(t,n,o,1)},v8=function(t,n,o){return Nb(t,n,o,-1)},Z2=function(t,n,o){return Kw(t,o,n,-1)},m8=function(t,n,o){return Kw(t,o,n,1)},g8=function(t,n,o){return X2(t,n,o,-1)},Zv=function(t,n,o){return X2(t,n,o,1)},p8=function(t,n,o){return Y2(t,o,n,-1)},h8=function(t,n,o){return Y2(t,o,n,1)},y8=[Wl("selectors",[Ut("row"),Ut("cell")]),Ae("cycles",!0),Ae("previousSelector",E.none),Ae("execute",Yd)],Xw=function(t,n,o){var c=n.previousSelector(t).orThunk(function(){var d=n.selectors;return Ii(t.element,d.cell)});c.each(function(d){n.focusManager.set(t,d)})},Yw=function(t,n,o){return Tl(t.element).bind(function(c){return o.execute(t,n,c)})},J2=function(t,n){return $t(t,function(o){return Wu(o,n.selectors.cell)})},rh=function(t,n){return function(o,c,d){var m=d.cycles?t:n;return Os(c,d.selectors.row).bind(function(h){var _=Wu(h,d.selectors.cell);return F2(_,c).bind(function(C){var T=Wu(o,d.selectors.row);return F2(T,h).bind(function(R){var B=J2(T,d);return m(B,R,C).map(function(U){return U.cell})})})})}},Zw=rh(v8,g8),Jv=rh(Fb,Zv),Q2=rh(Z2,p8),nh=rh(m8,h8),Eg=se([Ba(ka(Sb),Tb(Zw,Jv)),Ba(ka(kg),zb(Zw,Jv)),Ba(ka(qv),P2(Q2)),Ba(ka(Xd),Xv(nh)),Ba(ka(Ac.concat(al)),Yw)]),eC=se([Ba(ka(Ac),Kv)]),b8=Gv(y8,pu.init,Eg,eC,function(){return E.some(Xw)}),w8=[Ut("selector"),Ae("execute",Yd),Ae("moveOnTab",!1)],tC=function(t,n,o){return o.focusManager.get(t).bind(function(c){return o.execute(t,n,c)})},ah=function(t,n,o){Ii(t.element,n.selector).each(function(c){n.focusManager.set(t,c)})},oh=function(t,n,o){return Db(t,o.selector,n,-1)},ih=function(t,n,o){return Db(t,o.selector,n,1)},rC=function(t,n,o,c){return o.moveOnTab?Sg(oh)(t,n,o,c):E.none()},Oc=function(t,n,o,c){return o.moveOnTab?Sg(ih)(t,n,o,c):E.none()},nC=se([Ba(ka(qv),Sg(oh)),Ba(ka(Xd),Sg(ih)),Ba(ol([_g,ka(Jf)]),rC),Ba(ol([Jp,ka(Jf)]),Oc),Ba(ka(al),tC),Ba(ka(Ac),tC)]),Rl=se([Ba(ka(Ac),Kv)]),k8=Gv(w8,pu.init,nC,Rl,function(){return E.some(ah)}),aC=[$i("onSpace"),$i("onEnter"),$i("onShiftEnter"),$i("onLeft"),$i("onRight"),$i("onTab"),$i("onShiftTab"),$i("onUp"),$i("onDown"),$i("onEscape"),Ae("stopSpaceKeyup",!1),Ga("focusIn")],Ag=function(t,n,o){return[Ba(ka(Ac),o.onSpace),Ba(ol([Jp,ka(al)]),o.onEnter),Ba(ol([_g,ka(al)]),o.onShiftEnter),Ba(ol([_g,ka(Jf)]),o.onShiftTab),Ba(ol([Jp,ka(Jf)]),o.onTab),Ba(ka(qv),o.onUp),Ba(ka(Xd),o.onDown),Ba(ka(Sb),o.onLeft),Ba(ka(kg),o.onRight),Ba(ka(Ac),o.onSpace),Ba(ka(Kd),o.onEscape)]},Og=function(t,n,o){return o.stopSpaceKeyup?[Ba(ka(Ac),Kv)]:[]},oC=Gv(aC,pu.init,Ag,Og,function(t){return t.focusIn}),iC=Nw.schema(),Zd=A2.schema(),Jd=Mb.schema(),Jw=G2.schema(),_8=b8.schema(),Qv=Cg.schema(),C8=k8.schema(),uC=oC.schema(),uh=Object.freeze({__proto__:null,acyclic:iC,cyclic:Zd,flow:Jd,flatgrid:Jw,matrix:_8,execution:Qv,menu:C8,special:uC}),cC=function(t){return Ee(t,"setGridSize")},Tn=Ov({branchKey:"mode",branches:uh,name:"keying",active:{events:function(t,n){var o=t.handler;return o.toEvents(t,n)}},apis:{focusIn:function(t,n,o){n.sendFocusIn(n).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(c){c(t,n,o)})},setGridSize:function(t,n,o,c,d){cC(o)?o.setGridSize(c,d):console.error("Layout does not support setGridSize")}},state:R2}),ch=function(t,n,o,c){T_(function(){var d=$t(c,t.getSystem().build);rw(t,d)},t.element)},sh=function(t,n,o,c){var d=t.getSystem().build(c);ib(t,d,o)},Qw=function(t,n,o,c){sh(t,n,Du,c)},sC=function(t,n,o,c){sh(t,n,Of,c)},Ib=function(t,n,o,c){var d=lh(t),m=Qt(d,function(h){return Ra(c.element,h.element)});m.each(Ol)},lh=function(t,n){return t.components()},ek=function(t,n,o,c,d){var m=lh(t);return E.from(m[c]).map(function(h){return Ib(t,n,o,h),d.each(function(_){sh(t,n,function(C,T){pl(C,T,c)},_)}),h})},lC=function(t,n,o,c,d){var m=lh(t);return Pe(m,c).bind(function(h){return ek(t,n,o,h,d)})},S8=Object.freeze({__proto__:null,append:Qw,prepend:sC,remove:Ib,replaceAt:ek,replaceBy:lC,set:ch,contents:lh}),Jn=Hi({fields:[],name:"replacing",apis:S8}),$b=function(t,n){var o=bo(n);return Hi({fields:[Ut("enabled")],name:t,active:{events:se(o)}})},la=function(t,n){var o=$b(t,n);return{key:t,value:{config:{},me:o,configAsRaw:se({}),initialConfig:{},state:pu}}},fC=function(t,n){n.ignore||(xl(t.element),n.onFocus(t))},dC=function(t,n){n.ignore||Ap(t.element)},tk=function(t){return Op(t.element)},em=Object.freeze({__proto__:null,focus:fC,blur:dC,isFocused:tk}),Lb=function(t,n){var o=n.ignore?{}:{attributes:{tabindex:"-1"}};return el(o)},fh=function(t){return bo([Yt(wd(),function(n,o){fC(n,t),o.stop()})].concat(t.stopMousedown?[Yt(Zs(),function(n,o){o.event.prevent()})]:[]))},Hb=Object.freeze({__proto__:null,exhibit:Lb,events:fh}),rk=[Ka("onFocus"),Ae("stopMousedown",!1),Ae("ignore",!1)],Qn=Hi({fields:rk,name:"focusing",active:Hb,apis:em}),x8=function(t){var n=function(){var o=Nn(t),c=function(){return o.get()},d=function(_){return o.set(_)},m=function(){return o.set(t)},h=function(){return o.get()};return{get:c,set:d,clear:m,readState:h}};return{init:n}},vC=function(t,n,o){var c=n.aria;c.update(t,c,o.get())},Vb=function(t,n,o){n.toggleClass.each(function(c){o.get()?Fi(t.element,c):Ti(t.element,c)})},mf=function(t,n,o){Ub(t,n,o,!o.get())},mC=function(t,n,o){o.set(!0),Vb(t,n,o),vC(t,n,o)},dh=function(t,n,o){o.set(!1),Vb(t,n,o),vC(t,n,o)},Ub=function(t,n,o,c){var d=c?mC:dh;d(t,n,o)},gC=function(t,n,o){return o.get()},pC=function(t,n,o){Ub(t,n,o,n.selected)},T8=Object.freeze({__proto__:null,onLoad:pC,toggle:mf,isOn:gC,on:mC,off:dh,set:Ub}),z8=function(){return el({})},E8=function(t,n){var o=Av(t,n,mf),c=jo(t,n,pC);return bo(Fe([t.toggleOnExecute?[o]:[],[c]]))},A8=Object.freeze({__proto__:null,exhibit:z8,events:E8}),O8=function(t,n,o){va(t.element,"aria-pressed",o),n.syncWithExpanded&&nk(t,n,o)},hC=function(t,n,o){va(t.element,"aria-selected",o)},D8=function(t,n,o){va(t.element,"aria-checked",o)},nk=function(t,n,o){va(t.element,"aria-expanded",o)},Dg=[Ae("selected",!1),Ga("toggleClass"),Ae("toggleOnExecute",!0),rc("aria",{mode:"none"},Ts("mode",{pressed:[Ae("syncWithExpanded",!1),_o("update",O8)],checked:[_o("update",D8)],expanded:[_o("update",nk)],selected:[_o("update",hC)],none:[_o("update",$e)]}))],Oa=Hi({fields:Dg,name:"toggling",active:A8,apis:T8,state:x8(!1)}),jb=function(){var t=function(n,o){o.stop(),ls(n)};return[Yt(Om(),t),Yt(kd(),t),hv(Kl()),hv(Zs())]},Wb=function(t){var n=function(o){return Wc(function(c,d){o(c),d.stop()})};return bo(Fe([t.map(n).toArray(),jb()]))},yC="alloy.item-hover",bC="alloy.item-focus",wC=function(t){(Tl(t.element).isNone()||Qn.isFocused(t))&&(Qn.isFocused(t)||Qn.focus(t),Fn(t,yC,{item:t}))},ak=function(t){Fn(t,bC,{item:t})},ok=se(yC),u=se(bC),l=function(t){return{dom:t.dom,domModification:J(J({},t.domModification),{attributes:J(J(J({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Rs.augment(t.itemBehaviours,[t.toggling.fold(Oa.revoke,function(n){return Oa.config(J({aria:{mode:"checked"}},n))}),Qn.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(n){ak(n)}}),Tn.config({mode:"execution"}),Ur.config({store:{mode:"memory",initialValue:t.data}}),la("item-type-events",Tt(Tt([],jb(),!0),[Yt($f(),wC),Yt(mv(),Qn.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},v=[Ut("data"),Ut("components"),Ut("dom"),Ae("hasSubmenu",!1),Ga("toggling"),Rs.field("itemBehaviours",[Oa,Qn,Tn,Ur]),Ae("ignoreFocus",!1),Ae("domModification",{}),_o("builder",l),Ae("eventOrder",{})],p=function(t){return{dom:t.dom,components:t.components,events:bo([Pm(mv())])}},b=[Ut("dom"),Ut("components"),_o("builder",p)],x=se("item-widget"),D=se([_u({name:"widget",overrides:function(t){return{behaviours:Br([Ur.config({store:{mode:"manual",getValue:function(n){return t.data},setValue:$e}})])}}})]),M=function(t){var n=kw(x(),t,D()),o=_w(x(),t,n.internals()),c=function(m){return vo(m,t,"widget").map(function(h){return Tn.focusIn(h),h})},d=function(m,h){return vf(h.event.target)?E.none():function(){return t.autofocus&&h.setSource(m.element),E.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:bo([Wc(function(m,h){c(m).each(function(_){h.stop()})}),Yt($f(),wC),Yt(mv(),function(m,h){t.autofocus?c(m):Qn.focus(m)})]),behaviours:Rs.augment(t.widgetBehaviours,[Ur.config({store:{mode:"memory",initialValue:t.data}}),Qn.config({ignore:t.ignoreFocus,onFocus:function(m){ak(m)}}),Tn.config({mode:"special",focusIn:t.autofocus?function(m){c(m)}:x_(),onLeft:d,onRight:d,onEscape:function(m,h){return!Qn.isFocused(m)&&!t.autofocus?(Qn.focus(m),E.some(!0)):(t.autofocus&&h.setSource(m.element),E.none())}})])}},G=[Ut("uid"),Ut("data"),Ut("components"),Ut("dom"),Ae("autofocus",!1),Ae("ignoreFocus",!1),Rs.field("widgetBehaviours",[Ur,Qn,Tn]),Ae("domModification",{}),qp(D()),_o("builder",M)],ue=Ts("type",{widget:G,item:v,separator:b}),ke=function(t,n){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:n.initSize.numColumns,numRows:n.initSize.numRows},focusManager:t.focusManager}},Ct=function(t,n){return{mode:"matrix",selectors:{row:n.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},er=function(t,n){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:n.moveOnTab,focusManager:t.focusManager}},qt=se([ff({factory:{sketch:function(t){var n=io("menu.spec item",ue,t);return n.builder(n)}},name:"items",unit:"item",defaults:function(t,n){return K(n,"uid")?n:J(J({},n),{uid:zd("item")})},overrides:function(t,n){return{type:n.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),kt=se([Ut("value"),Ut("items"),Ut("dom"),Ut("components"),Ae("eventOrder",{}),Vi("menuBehaviours",[Ja,Ur,Ta,Tn]),rc("movement",{mode:"menu",moveOnTab:!0},Ts("mode",{grid:[xy(),_o("config",ke)],matrix:[_o("config",Ct),Ut("rowSelector")],menu:[Ae("moveOnTab",!0),_o("config",er)]})),US(),Ae("fakeFocus",!1),Ae("focusManager",Qp()),Ka("onHighlight")]),Ar=se("alloy.menu-focus"),Mr=function(t,n,o,c){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:nu(t.menuBehaviours,[Ja.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),Ur.config({store:{mode:"memory",initialValue:t.value}}),Ta.config({find:E.some}),Tn.config(t.movement.config(t,t.movement))]),events:bo([Yt(u(),function(d,m){var h=m.event;d.getSystem().getByDom(h.target).each(function(_){Ja.highlight(d,_),m.stop(),Fn(d,Ar(),{menu:d,item:_})})}),Yt(ok(),function(d,m){var h=m.event.item;Ja.highlight(d,h)})]),components:n,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},zn=lc({name:"Menu",configFields:kt(),partFields:qt(),factory:Mr}),Ma=function(t){return He(t,function(n,o){return{k:n,v:o}})},Rn=function(t,n,o,c){return at(o,c).bind(function(d){return at(t,d).bind(function(m){var h=Rn(t,n,o,m);return E.some([m].concat(h))})}).getOr([])},ea=function(t,n){var o={};Rr(t,function(h,_){Ye(h,function(C){o[C]=_})});var c=n,d=Ma(n),m=sr(d,function(h,_){return[_].concat(Rn(o,c,d,_))});return sr(o,function(h){return at(m,h).getOr([h])})},za=function(){var t=Nn({}),n=Nn({}),o=Nn({}),c=fi(),d=Nn({}),m=function(){t.set({}),n.set({}),o.set({}),c.clear()},h=function(){return c.get().isNone()},_=function(Te,tt){var Mt;n.set(J(J({},n.get()),(Mt={},Mt[Te]={type:"prepared",menu:tt},Mt)))},C=function(Te,tt,Mt,jr){c.set(Te),t.set(Mt),n.set(tt),d.set(jr);var Gt=ea(jr,Mt);o.set(Gt)},T=function(Te){return be(t.get(),function(tt,Mt){return tt===Te})},R=function(Te,tt,Mt){return de(Te).bind(function(jr){return T(Te).bind(function(Gt){return tt(Gt).map(function(Wr){return{triggeredMenu:jr,triggeringItem:Wr,triggeringPath:Mt}})})})},B=function(Te,tt){var Mt=Zt(ce(Te).toArray(),function(jr){return de(jr).isSome()});return at(o.get(),Te).bind(function(jr){var Gt=Oe(Mt.concat(jr)),Wr=gr(Gt,function(Jt,Pt){return R(Jt,tt,Gt.slice(0,Pt+1)).fold(function(){return st(c.get(),Jt)?[]:[E.none()]},function(Er){return[E.some(Er)]})});return Fr(Wr)})},U=function(Te){return at(t.get(),Te).map(function(tt){var Mt=at(o.get(),Te).getOr([]);return[tt].concat(Mt)})},q=function(Te){return at(o.get(),Te).bind(function(tt){return tt.length>1?E.some(tt.slice(1)):E.none()})},ee=function(Te){return at(o.get(),Te)},de=function(Te){return Se(Te).bind(_a)},Se=function(Te){return at(n.get(),Te)},ce=function(Te){return at(t.get(),Te)},ze=function(Te){var tt=d.get();return ut(zt(tt),Te)},ht=function(){return c.get().bind(de)},lt=function(){return n.get()};return{setMenuBuilt:_,setContents:C,expand:U,refresh:ee,collapse:q,lookupMenu:Se,lookupItem:ce,otherMenus:ze,getPrimary:ht,getMenus:lt,clear:m,isClear:h,getTriggeringPath:B}},_a=function(t){return t.type==="prepared"?E.some(t.menu):E.none()},Ei={init:za,extractPreparedMenu:_a},au=function(t,n){var o=fi(),c=function(Wt,cn,Sn){return sr(Sn,function(Ea,ao){var Po=function(){return zn.sketch(J(J({},Ea),{value:ao,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?E2():Qp()}))};return ao===cn?{type:"prepared",menu:Wt.getSystem().build(Po())}:{type:"notbuilt",nbMenu:Po}})},d=Ei.init(),m=function(Wt){var cn=c(Wt,t.data.primary,t.data.menus),Sn=C();return d.setContents(t.data.primary,cn,t.data.expansions,Sn),d.getPrimary()},h=function(Wt){return Ur.getValue(Wt).value},_=function(Wt,cn,Sn){return bt(cn,function(Ea){if(!Ea.getSystem().isConnected())return E.none();var ao=Ja.getCandidates(Ea);return Qt(ao,function(Po){return h(Po)===Sn})})},C=function(Wt){return sr(t.data.menus,function(cn,Sn){return gr(cn.items,function(Ea){return Ea.type==="separator"?[]:[Ea.data.value]})})},T=function(Wt,cn){Ja.highlight(Wt,cn),Ja.getHighlighted(cn).orThunk(function(){return Ja.getFirst(cn)}).each(function(Sn){oy(Wt,Sn.element,mv())})},R=function(Wt,cn){return cr($t(cn,function(Sn){return Wt.lookupMenu(Sn).bind(function(Ea){return Ea.type==="prepared"?E.some(Ea.menu):E.none()})}))},B=function(Wt,cn,Sn){var Ea=R(cn,cn.otherMenus(Sn));Ye(Ea,function(ao){ms(ao.element,[t.markers.backgroundMenu]),t.stayInDom||Jn.remove(Wt,ao)})},U=function(Wt){return o.get().getOrThunk(function(){var cn={},Sn=Wu(Wt.element,"."+t.markers.item),Ea=Zt(Sn,function(ao){return No(ao,"aria-haspopup")==="true"});return Ye(Ea,function(ao){Wt.getSystem().getByDom(ao).each(function(Po){var ui=h(Po);cn[ui]=Po})}),o.set(cn),cn})},q=function(Wt,cn){var Sn=U(Wt);Rr(Sn,function(Ea,ao){var Po=an(cn,ao);va(Ea.element,"aria-expanded",Po)})},ee=function(Wt,cn,Sn){return E.from(Sn[0]).bind(function(Ea){return cn.lookupMenu(Ea).bind(function(ao){if(ao.type==="notbuilt")return E.none();var Po=ao.menu,ui=R(cn,Sn.slice(1));return Ye(ui,function(Vs){Fi(Vs.element,t.markers.backgroundMenu)}),Ln(Po.element)||Jn.append(Wt,gs(Po)),ms(Po.element,[t.markers.backgroundMenu]),T(Wt,Po),B(Wt,cn,Sn),E.some(Po)})})},de;(function(Wt){Wt[Wt.HighlightSubmenu=0]="HighlightSubmenu",Wt[Wt.HighlightParent=1]="HighlightParent"})(de||(de={}));var Se=function(Wt,cn,Sn){if(Sn.type==="notbuilt"){var Ea=Wt.getSystem().build(Sn.nbMenu());return d.setMenuBuilt(cn,Ea),Ea}else return Sn.menu},ce=function(Wt,cn,Sn){if(Sn===void 0&&(Sn=de.HighlightSubmenu),cn.hasConfigured(Mn)&&Mn.isDisabled(cn))return E.some(cn);var Ea=h(cn);return d.expand(Ea).bind(function(ao){return q(Wt,ao),E.from(ao[0]).bind(function(Po){return d.lookupMenu(Po).bind(function(ui){var Vs=Se(Wt,Po,ui);return Ln(Vs.element)||Jn.append(Wt,gs(Vs)),t.onOpenSubmenu(Wt,cn,Vs,Oe(ao)),Sn===de.HighlightSubmenu?(Ja.highlightFirst(Vs),ee(Wt,d,ao)):(Ja.dehighlightAll(Vs),E.some(cn))})})})},ze=function(Wt,cn){var Sn=h(cn);return d.collapse(Sn).bind(function(Ea){return q(Wt,Ea),ee(Wt,d,Ea).map(function(ao){return t.onCollapseMenu(Wt,cn,ao),ao})})},ht=function(Wt,cn){var Sn=h(cn);return d.refresh(Sn).bind(function(Ea){return q(Wt,Ea),ee(Wt,d,Ea)})},lt=function(Wt,cn){return vf(cn.element)?E.none():ce(Wt,cn,de.HighlightSubmenu)},Te=function(Wt,cn){return vf(cn.element)?E.none():ze(Wt,cn)},tt=function(Wt,cn){return ze(Wt,cn).orThunk(function(){return t.onEscape(Wt,cn).map(function(){return Wt})})},Mt=function(Wt){return function(cn,Sn){return Os(Sn.getSource(),"."+t.markers.item).bind(function(Ea){return cn.getSystem().getByDom(Ea).toOptional().bind(function(ao){return Wt(cn,ao).map(dt)})})}},jr=bo([Yt(Ar(),function(Wt,cn){var Sn=cn.event.item;d.lookupItem(h(Sn)).each(function(){var Ea=cn.event.menu;Ja.highlight(Wt,Ea);var ao=h(cn.event.item);d.refresh(ao).each(function(Po){return B(Wt,d,Po)})})}),Wc(function(Wt,cn){var Sn=cn.event.target;Wt.getSystem().getByDom(Sn).each(function(Ea){var ao=h(Ea);ao.indexOf("collapse-item")===0&&ze(Wt,Ea),ce(Wt,Ea,de.HighlightSubmenu).fold(function(){t.onExecute(Wt,Ea)},$e)})}),sa(function(Wt,cn){m(Wt).each(function(Sn){Jn.append(Wt,gs(Sn)),t.onOpenMenu(Wt,Sn),t.highlightImmediately&&T(Wt,Sn)})})].concat(t.navigateOnHover?[Yt(ok(),function(Wt,cn){var Sn=cn.event.item;ht(Wt,Sn),ce(Wt,Sn,de.HighlightParent),t.onHover(Wt,Sn)})]:[])),Gt=function(Wt){return Ja.getHighlighted(Wt).bind(Ja.getHighlighted)},Wr=function(Wt){Gt(Wt).each(function(cn){ze(Wt,cn)})},Jt=function(Wt){d.getPrimary().each(function(cn){T(Wt,cn)})},Pt=function(Wt){return E.from(Wt.components()[0]).filter(function(cn){return No(cn.element,"role")==="menu"})},Er=function(Wt){var cn=d.getPrimary().bind(function(Sn){return Gt(Wt).bind(function(Ea){var ao=h(Ea),Po=_t(d.getMenus()),ui=cr($t(Po,Ei.extractPreparedMenu));return d.getTriggeringPath(ao,function(Vs){return _(Wt,ui,Vs)})}).map(function(Ea){return{primary:Sn,triggeringPath:Ea}})});cn.fold(function(){Pt(Wt).each(function(Sn){t.onRepositionMenu(Wt,Sn,[])})},function(Sn){var Ea=Sn.primary,ao=Sn.triggeringPath;t.onRepositionMenu(Wt,Ea,ao)})},gn={collapseMenu:Wr,highlightPrimary:Jt,repositionMenus:Er};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:nu(t.tmenuBehaviours,[Tn.config({mode:"special",onRight:Mt(lt),onLeft:Mt(Te),onEscape:Mt(tt),focusIn:function(Wt,cn){d.getPrimary().each(function(Sn){oy(Wt,Sn.element,mv())})}}),Ja.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),Ta.config({find:function(Wt){return Ja.getHighlighted(Wt)}}),Jn.config({})]),eventOrder:t.eventOrder,apis:gn,events:jr}},fc=se("collapse-item"),Ia=function(t,n,o){return{primary:t,menus:n,expansions:o}},oa=function(t,n){return{primary:t,menus:ql(t,n),expansions:{}}},Da=function(t){return{value:mn(fc()),meta:{text:t}}},uo=hs({name:"TieredMenu",configFields:[Sc("onExecute"),Sc("onEscape"),ic("onOpenMenu"),ic("onOpenSubmenu"),Ka("onRepositionMenu"),Ka("onCollapseMenu"),Ae("highlightImmediately",!0),Wl("data",[Ut("primary"),Ut("menus"),Ut("expansions")]),Ae("fakeFocus",!1),Ka("onHighlight"),Ka("onHover"),xv(),Ut("dom"),Ae("navigateOnHover",!0),Ae("stayInDom",!1),Vi("tmenuBehaviours",[Tn,Ja,Ta,Jn]),Ae("eventOrder",{})],apis:{collapseMenu:function(t,n){t.collapseMenu(n)},highlightPrimary:function(t,n){t.highlightPrimary(n)},repositionMenus:function(t,n){t.repositionMenus(n)}},factory:au,extraApis:{tieredData:Ia,singleData:oa,collapseItem:Da}}),oi=function(t,n,o,c,d){var m=function(){return t.lazySink(n)},h=c.type==="horizontal"?{layouts:{onLtr:function(){return Py()},onRtl:function(){return By()}}}:{},_=function(T){return T.length===2},C=function(T){return _(T)?h:{}};return uo.sketch({dom:{tag:"div"},data:c.data,markers:c.menu.markers,highlightImmediately:c.menu.highlightImmediately,onEscape:function(){return Pa.close(n),t.onEscape.map(function(T){return T(n)}),E.some(!0)},onExecute:function(){return E.some(!0)},onOpenMenu:function(T,R){di.positionWithinBounds(m().getOrDie(),R,o,d())},onOpenSubmenu:function(T,R,B,U){var q=m().getOrDie();di.position(q,B,{anchor:J({type:"submenu",item:R},C(U))})},onRepositionMenu:function(T,R,B){var U=m().getOrDie();di.positionWithinBounds(U,R,o,d()),Ye(B,function(q){var ee=C(q.triggeringPath);di.position(U,q.triggeredMenu,{anchor:J({type:"submenu",item:q.triggeringItem},ee)})})}})},gf=function(t,n){var o=function(q,ee){var de=t.getRelated(q);return de.exists(function(Se){return Sv(Se,ee)})},c=function(q,ee){Pa.setContent(q,ee)},d=function(q,ee,de){m(q,ee,de,E.none())},m=function(q,ee,de,Se){h(q,ee,de,function(){return Se.map(function(ce){return wi(ce)})})},h=function(q,ee,de,Se){var ce=t.lazySink(q).getOrDie();Pa.openWhileCloaked(q,ee,function(){return di.positionWithinBounds(ce,q,de,Se())}),Ur.setValue(q,E.some({mode:"position",config:de,getBounds:Se}))},_=function(q,ee,de){C(q,ee,de,E.none)},C=function(q,ee,de,Se){var ce=oi(t,q,ee,de,Se);Pa.open(q,ce),Ur.setValue(q,E.some({mode:"menu",menu:ce}))},T=function(q){Pa.isOpen(q)&&(Ur.setValue(q,E.none()),Pa.close(q))},R=function(q){return Pa.getState(q)},B=function(q){Pa.isOpen(q)&&Ur.getValue(q).each(function(ee){switch(ee.mode){case"menu":Pa.getState(q).each(uo.repositionMenus);break;case"position":var de=t.lazySink(q).getOrDie();di.positionWithinBounds(de,q,ee.config,ee.getBounds());break}})},U={setContent:c,showAt:d,showWithin:m,showWithinBounds:h,showMenuAt:_,showMenuWithinBounds:C,hide:T,getContent:R,reposition:B,isOpen:Pa.isOpen};return{uid:t.uid,dom:t.dom,behaviours:nu(t.inlineBehaviours,[Pa.config({isPartOf:function(q,ee,de){return Sv(ee,de)||o(q,de)},getAttachPoint:function(q){return t.lazySink(q).getOrDie()},onOpen:function(q){t.onShow(q)},onClose:function(q){t.onHide(q)}}),Ur.config({store:{mode:"memory",initialValue:E.none()}}),Uu.config({channels:J(J({},Ec(J({isExtraPart:n.isExtraPart},t.fireDismissalEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})))),Lv(J(J({},t.fireRepositionEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})),{doReposition:B})))})]),eventOrder:t.eventOrder,apis:U}},lo=hs({name:"InlineView",configFields:[Ut("lazySink"),Ka("onShow"),Ka("onHide"),yd("onEscape"),Vi("inlineBehaviours",[Pa,Ur,Uu]),Uc("fireDismissalEventInstead",[Ae("event",Js())]),Uc("fireRepositionEventInstead",[Ae("event",Mu())]),Ae("getRelated",E.none),Ae("isExtraPart",Dt),Ae("eventOrder",E.none)],factory:gf,apis:{showAt:function(t,n,o,c){t.showAt(n,o,c)},showWithin:function(t,n,o,c,d){t.showWithin(n,o,c,d)},showWithinBounds:function(t,n,o,c,d){t.showWithinBounds(n,o,c,d)},showMenuAt:function(t,n,o,c){t.showMenuAt(n,o,c)},showMenuWithinBounds:function(t,n,o,c,d){t.showMenuWithinBounds(n,o,c,d)},hide:function(t,n){t.hide(n)},isOpen:function(t,n){return t.isOpen(n)},getContent:function(t,n){return t.getContent(n)},setContent:function(t,n,o){t.setContent(n,o)},reposition:function(t,n){t.reposition(n)}}}),Ns="layout-inset",Cu=function(t){return t.x},vh=function(t,n){return t.x+t.width/2-n.width/2},Qd=function(t,n){return t.x+t.width-n.width},Pl=function(t){return t.y},Fs=function(t,n){return t.y+t.height-n.height},il=function(t,n){return t.y+t.height/2-n.height/2},mh=function(t,n,o){return qi(Qd(t,n),Fs(t,n),o.insetSouthwest(),zv(),"southwest",Li(t,{right:0,bottom:3}),Ns)},tm=function(t,n,o){return qi(Cu(t),Fs(t,n),o.insetSoutheast(),y0(),"southeast",Li(t,{left:1,bottom:3}),Ns)},gh=function(t,n,o){return qi(Qd(t,n),Pl(t),o.insetNorthwest(),h0(),"northwest",Li(t,{right:0,top:2}),Ns)},rm=function(t,n,o){return qi(Cu(t),Pl(t),o.insetNortheast(),zy(),"northeast",Li(t,{left:1,top:2}),Ns)},Bl=function(t,n,o){return qi(vh(t,n),Pl(t),o.insetNorth(),Sp(),"north",Li(t,{top:2}),Ns)},Rg=function(t,n,o){return qi(vh(t,n),Fs(t,n),o.insetSouth(),b0(),"south",Li(t,{bottom:3}),Ns)},qb=function(t,n,o){return qi(Qd(t,n),il(t,n),o.insetEast(),Vm(),"east",Li(t,{right:0}),Ns)},kC=function(t,n,o){return qi(Cu(t),il(t,n),o.insetWest(),w0(),"west",Li(t,{left:1}),Ns)},ph=function(t){switch(t){case"north":return Bl;case"northeast":return rm;case"northwest":return gh;case"south":return Rg;case"southeast":return tm;case"southwest":return mh;case"east":return qb;case"west":return kC}},R8=function(t,n,o,c,d){var m=O0(c).map(ph).getOr(Bl);return m(t,n,o,c,d)},P8=function(t){switch(t){case"north":return Rg;case"northeast":return tm;case"northwest":return mh;case"south":return Bl;case"southeast":return rm;case"southwest":return gh;case"east":return kC;case"west":return qb}},RR=function(t,n,o,c,d){var m=O0(c).map(P8).getOr(Bl);return m(t,n,o,c,d)},Qf=tinymce.util.Tools.resolve("tinymce.util.Delay"),PR=function(t){var n=Wb(t.action),o=t.dom.tag,c=function(m){return at(t.dom,"attributes").bind(function(h){return at(h,m)})},d=function(){if(o==="button"){var m=c("type").getOr("button"),h=c("role").map(function(C){return{role:C}}).getOr({});return J({type:m},h)}else{var _=c("role").getOr("button");return{role:_}}};return{uid:t.uid,dom:t.dom,components:t.components,events:n,behaviours:Rs.augment(t.buttonBehaviours,[Qn.config({}),Tn.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:t.eventOrder}},Kc=hs({name:"Button",factory:PR,configFields:[Ae("uid",void 0),Ut("dom"),Ae("components",[]),Rs.field("buttonBehaviours",[Qn,Tn]),Ga("action"),Ga("role"),Ae("eventOrder",{})]}),BR=function(t){var n=t.dom.attributes!==void 0?t.dom.attributes:[];return Zr(n,function(o,c){var d;return c.name==="class"?o:J(J({},o),(d={},d[c.name]=c.value,d))},{})},MR=function(t){return Array.prototype.slice.call(t.dom.classList,0)},nm=function(t){var n=le.fromHtml(t),o=S(n),c=BR(n),d=MR(n),m=o.length===0?{}:{innerHtml:Xl(n)};return J({tag:me(n),classes:d,attributes:c},m)},ro=function(t){var n=Tw(t)&&Ee(t,"uid")?t.uid:zd("memento"),o=function(m){return m.getSystem().getByUid(n).getOrDie()},c=function(m){return m.getSystem().getByUid(n).toOptional()},d=function(){return J(J({},t),{uid:n})};return{get:o,getOpt:c,asSpec:d}};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pg(t)}function B8(t,n){return B8=Object.setPrototypeOf||function(c,d){return c.__proto__=d,c},B8(t,n)}function NR(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function hh(t,n,o){return NR()?hh=Reflect.construct:hh=function(d,m,h){var _=[null];_.push.apply(_,m);var C=Function.bind.apply(d,_),T=new C;return h&&B8(T,h.prototype),T},hh.apply(null,arguments)}function ed(t){return FR(t)||M8(t)||IR(t)||$R()}function FR(t){if(Array.isArray(t))return N8(t)}function M8(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IR(t,n){if(t){if(typeof t=="string")return N8(t,n);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return N8(t,n)}}function N8(t,n){(n==null||n>t.length)&&(n=t.length);for(var o=0,c=new Array(n);o<n;o++)c[o]=t[o];return c}function $R(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var LR=Object.hasOwnProperty,kE=Object.setPrototypeOf,HR=Object.isFrozen,VR=Object.getPrototypeOf,UR=Object.getOwnPropertyDescriptor,Is=Object.freeze,ev=Object.seal,jR=Object.create,_E=typeof Reflect<"u"&&Reflect,Gb=_E.apply,F8=_E.construct;Gb||(Gb=function(n,o,c){return n.apply(o,c)}),Is||(Is=function(n){return n}),ev||(ev=function(n){return n}),F8||(F8=function(n,o){return hh(n,ed(o))});var WR=td(Array.prototype.forEach),CE=td(Array.prototype.pop),Kb=td(Array.prototype.push),_C=td(String.prototype.toLowerCase),qR=td(String.prototype.match),Bg=td(String.prototype.replace),GR=td(String.prototype.indexOf),KR=td(String.prototype.trim),Xc=td(RegExp.prototype.test),I8=XR(TypeError);function td(t){return function(n){for(var o=arguments.length,c=new Array(o>1?o-1:0),d=1;d<o;d++)c[d-1]=arguments[d];return Gb(t,n,c)}}function XR(t){return function(){for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return F8(t,o)}}function wo(t,n){kE&&kE(t,null);for(var o=n.length;o--;){var c=n[o];if(typeof c=="string"){var d=_C(c);d!==c&&(HR(n)||(n[o]=d),c=d)}t[c]=!0}return t}function yh(t){var n=jR(null),o;for(o in t)Gb(LR,t,[o])&&(n[o]=t[o]);return n}function CC(t,n){for(;t!==null;){var o=UR(t,n);if(o){if(o.get)return td(o.get);if(typeof o.value=="function")return td(o.value)}t=VR(t)}function c(d){return console.warn("fallback value for",d),null}return c}var SE=Is(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),$8=Is(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),L8=Is(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),YR=Is(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),H8=Is(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),V8=Is(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xE=Is(["#text"]),TE=Is(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),U8=Is(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),SC=Is(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xC=Is(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),j8=ev(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ZR=ev(/<%[\w\W]*|[\w\W]*%>/gm),JR=ev(/^data-[\-\w.\u00B7-\uFFFF]/),QR=ev(/^aria-[\-\w]+$/),eP=ev(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tP=ev(/^(?:\w+script|data):/i),zE=ev(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),rP=ev(/^html$/i),W8=function(){return typeof window>"u"?null:window},q8=function(n,o){if(Pg(n)!=="object"||typeof n.createPolicy!="function")return null;var c=null,d="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(d)&&(c=o.currentScript.getAttribute(d));var m="dompurify"+(c?"#"+c:"");try{return n.createPolicy(m,{createHTML:function(_){return _}})}catch{return console.warn("TrustedTypes policy "+m+" could not be created."),null}};function G8(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:W8(),n=function(vt){return G8(vt)};if(n.version="2.3.8",n.removed=[],!t||!t.document||t.document.nodeType!==9)return n.isSupported=!1,n;var o=t.document,c=t.document,d=t.DocumentFragment,m=t.HTMLTemplateElement,h=t.Node,_=t.Element,C=t.NodeFilter,T=t.NamedNodeMap,R=T===void 0?t.NamedNodeMap||t.MozNamedAttrMap:T,B=t.HTMLFormElement,U=t.DOMParser,q=t.trustedTypes,ee=_.prototype,de=CC(ee,"cloneNode"),Se=CC(ee,"nextSibling"),ce=CC(ee,"childNodes"),ze=CC(ee,"parentNode");if(typeof m=="function"){var ht=c.createElement("template");ht.content&&ht.content.ownerDocument&&(c=ht.content.ownerDocument)}var lt=q8(q,o),Te=lt?lt.createHTML(""):"",tt=c,Mt=tt.implementation,jr=tt.createNodeIterator,Gt=tt.createDocumentFragment,Wr=tt.getElementsByTagName,Jt=o.importNode,Pt={};try{Pt=yh(c).documentMode?c.documentMode:{}}catch{}var Er={};n.isSupported=typeof ze=="function"&&Mt&&typeof Mt.createHTMLDocument<"u"&&Pt!==9;var gn=j8,Wt=ZR,cn=JR,Sn=QR,Ea=tP,ao=zE,Po=eP,ui=null,Vs=wo({},[].concat(ed(SE),ed($8),ed(L8),ed(H8),ed(xE))),pc=null,mS=wo({},[].concat(ed(TE),ed(U8),ed(SC),ed(xC))),cu=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fh=null,Ih=null,Uk=!0,$h=!0,jk=!1,Qc=!1,vd=!1,Rc=!1,Wk=!1,ep=!1,R1=!1,su=!1,mm=!0,tp=!0,Lh=!1,md={},rp=null,nn=wo({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),pa=null,co=wo({},["audio","video","img","source","image","track"]),Zo=null,es=wo({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Pc="http://www.w3.org/1998/Math/MathML",Us="http://www.w3.org/2000/svg",Il="http://www.w3.org/1999/xhtml",P1=Il,qk=!1,B1,fI=["application/xhtml+xml","text/html"],dI="text/html",Hh,M1=null,aW=c.createElement("form"),pL=function(vt){return vt instanceof RegExp||vt instanceof Function},vI=function(vt){M1&&M1===vt||((!vt||Pg(vt)!=="object")&&(vt={}),vt=yh(vt),ui="ALLOWED_TAGS"in vt?wo({},vt.ALLOWED_TAGS):Vs,pc="ALLOWED_ATTR"in vt?wo({},vt.ALLOWED_ATTR):mS,Zo="ADD_URI_SAFE_ATTR"in vt?wo(yh(es),vt.ADD_URI_SAFE_ATTR):es,pa="ADD_DATA_URI_TAGS"in vt?wo(yh(co),vt.ADD_DATA_URI_TAGS):co,rp="FORBID_CONTENTS"in vt?wo({},vt.FORBID_CONTENTS):nn,Fh="FORBID_TAGS"in vt?wo({},vt.FORBID_TAGS):{},Ih="FORBID_ATTR"in vt?wo({},vt.FORBID_ATTR):{},md="USE_PROFILES"in vt?vt.USE_PROFILES:!1,Uk=vt.ALLOW_ARIA_ATTR!==!1,$h=vt.ALLOW_DATA_ATTR!==!1,jk=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,Qc=vt.SAFE_FOR_TEMPLATES||!1,vd=vt.WHOLE_DOCUMENT||!1,ep=vt.RETURN_DOM||!1,R1=vt.RETURN_DOM_FRAGMENT||!1,su=vt.RETURN_TRUSTED_TYPE||!1,Wk=vt.FORCE_BODY||!1,mm=vt.SANITIZE_DOM!==!1,tp=vt.KEEP_CONTENT!==!1,Lh=vt.IN_PLACE||!1,Po=vt.ALLOWED_URI_REGEXP||Po,P1=vt.NAMESPACE||Il,vt.CUSTOM_ELEMENT_HANDLING&&pL(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(cu.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&pL(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(cu.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(cu.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),B1=fI.indexOf(vt.PARSER_MEDIA_TYPE)===-1?B1=dI:B1=vt.PARSER_MEDIA_TYPE,Hh=B1==="application/xhtml+xml"?function(bn){return bn}:_C,Qc&&($h=!1),R1&&(ep=!0),md&&(ui=wo({},ed(xE)),pc=[],md.html===!0&&(wo(ui,SE),wo(pc,TE)),md.svg===!0&&(wo(ui,$8),wo(pc,U8),wo(pc,xC)),md.svgFilters===!0&&(wo(ui,L8),wo(pc,U8),wo(pc,xC)),md.mathMl===!0&&(wo(ui,H8),wo(pc,SC),wo(pc,xC))),vt.ADD_TAGS&&(ui===Vs&&(ui=yh(ui)),wo(ui,vt.ADD_TAGS)),vt.ADD_ATTR&&(pc===mS&&(pc=yh(pc)),wo(pc,vt.ADD_ATTR)),vt.ADD_URI_SAFE_ATTR&&wo(Zo,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&(rp===nn&&(rp=yh(rp)),wo(rp,vt.FORBID_CONTENTS)),tp&&(ui["#text"]=!0),vd&&wo(ui,["html","head","body"]),ui.table&&(wo(ui,["tbody"]),delete Fh.tbody),Is&&Is(vt),M1=vt)},hL=wo({},["mi","mo","mn","ms","mtext"]),yL=wo({},["foreignobject","desc","title","annotation-xml"]),oW=wo({},["title","style","font","a","script"]),OR=wo({},$8);wo(OR,L8),wo(OR,YR);var mI=wo({},H8);wo(mI,V8);var iW=function(vt){var bn=ze(vt);(!bn||!bn.tagName)&&(bn={namespaceURI:Il,tagName:"template"});var fa=_C(vt.tagName),Oi=_C(bn.tagName);return vt.namespaceURI===Us?bn.namespaceURI===Il?fa==="svg":bn.namespaceURI===Pc?fa==="svg"&&(Oi==="annotation-xml"||hL[Oi]):!!OR[fa]:vt.namespaceURI===Pc?bn.namespaceURI===Il?fa==="math":bn.namespaceURI===Us?fa==="math"&&yL[Oi]:!!mI[fa]:vt.namespaceURI===Il?bn.namespaceURI===Us&&!yL[Oi]||bn.namespaceURI===Pc&&!hL[Oi]?!1:!mI[fa]&&(oW[fa]||!OR[fa]):!1},Vh=function(vt){Kb(n.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=Te}catch{vt.remove()}}},bL=function(vt,bn){try{Kb(n.removed,{attribute:bn.getAttributeNode(vt),from:bn})}catch{Kb(n.removed,{attribute:null,from:bn})}if(bn.removeAttribute(vt),vt==="is"&&!pc[vt])if(ep||R1)try{Vh(bn)}catch{}else try{bn.setAttribute(vt,"")}catch{}},wL=function(vt){var bn,fa;if(Wk)vt="<remove></remove>"+vt;else{var Oi=qR(vt,/^[\r\n\t ]+/);fa=Oi&&Oi[0]}B1==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var Sf=lt?lt.createHTML(vt):vt;if(P1===Il)try{bn=new U().parseFromString(Sf,B1)}catch{}if(!bn||!bn.documentElement){bn=Mt.createDocument(P1,"template",null);try{bn.documentElement.innerHTML=qk?"":Sf}catch{}}var dl=bn.body||bn.documentElement;return vt&&fa&&dl.insertBefore(c.createTextNode(fa),dl.childNodes[0]||null),P1===Il?Wr.call(bn,vd?"html":"body")[0]:vd?bn.documentElement:dl},kL=function(vt){return jr.call(vt.ownerDocument||vt,vt,C.SHOW_ELEMENT|C.SHOW_COMMENT|C.SHOW_TEXT,null,!1)},uW=function(vt){return vt instanceof B&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof R)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")},wE=function(vt){return Pg(h)==="object"?vt instanceof h:vt&&Pg(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"},Uh=function(vt,bn,fa){Er[vt]&&WR(Er[vt],function(Oi){Oi.call(n,bn,fa,M1)})},_L=function(vt){var bn;if(Uh("beforeSanitizeElements",vt,null),uW(vt)||Xc(/[\u0080-\uFFFF]/,vt.nodeName))return Vh(vt),!0;var fa=Hh(vt.nodeName);if(Uh("uponSanitizeElement",vt,{tagName:fa,allowedTags:ui}),vt.hasChildNodes()&&!wE(vt.firstElementChild)&&(!wE(vt.content)||!wE(vt.content.firstElementChild))&&Xc(/<[/\w]/g,vt.innerHTML)&&Xc(/<[/\w]/g,vt.textContent)||fa==="select"&&Xc(/<template/i,vt.innerHTML))return Vh(vt),!0;if(!ui[fa]||Fh[fa]){if(!Fh[fa]&&SL(fa)&&(cu.tagNameCheck instanceof RegExp&&Xc(cu.tagNameCheck,fa)||cu.tagNameCheck instanceof Function&&cu.tagNameCheck(fa)))return!1;if(tp&&!rp[fa]){var Oi=ze(vt)||vt.parentNode,Sf=ce(vt)||vt.childNodes;if(Sf&&Oi)for(var dl=Sf.length,js=dl-1;js>=0;--js)Oi.insertBefore(de(Sf[js],!0),Se(vt))}return Vh(vt),!0}return vt instanceof _&&!iW(vt)||(fa==="noscript"||fa==="noembed")&&Xc(/<\/no(script|embed)/i,vt.innerHTML)?(Vh(vt),!0):(Qc&&vt.nodeType===3&&(bn=vt.textContent,bn=Bg(bn,gn," "),bn=Bg(bn,Wt," "),vt.textContent!==bn&&(Kb(n.removed,{element:vt.cloneNode()}),vt.textContent=bn)),Uh("afterSanitizeElements",vt,null),!1)},CL=function(vt,bn,fa){if(mm&&(bn==="id"||bn==="name")&&(fa in c||fa in aW))return!1;if(!($h&&!Ih[bn]&&Xc(cn,bn))){if(!(Uk&&Xc(Sn,bn))){if(!pc[bn]||Ih[bn]){if(!(SL(vt)&&(cu.tagNameCheck instanceof RegExp&&Xc(cu.tagNameCheck,vt)||cu.tagNameCheck instanceof Function&&cu.tagNameCheck(vt))&&(cu.attributeNameCheck instanceof RegExp&&Xc(cu.attributeNameCheck,bn)||cu.attributeNameCheck instanceof Function&&cu.attributeNameCheck(bn))||bn==="is"&&cu.allowCustomizedBuiltInElements&&(cu.tagNameCheck instanceof RegExp&&Xc(cu.tagNameCheck,fa)||cu.tagNameCheck instanceof Function&&cu.tagNameCheck(fa))))return!1}else if(!Zo[bn]){if(!Xc(Po,Bg(fa,ao,""))){if(!((bn==="src"||bn==="xlink:href"||bn==="href")&&vt!=="script"&&GR(fa,"data:")===0&&pa[vt])){if(!(jk&&!Xc(Ea,Bg(fa,ao,"")))){if(fa)return!1}}}}}}return!0},SL=function(vt){return vt.indexOf("-")>0},xL=function(vt){var bn,fa,Oi,Sf;Uh("beforeSanitizeAttributes",vt,null);var dl=vt.attributes;if(dl){var js={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:pc};for(Sf=dl.length;Sf--;){bn=dl[Sf];var DR=bn,$l=DR.name,TL=DR.namespaceURI;if(fa=$l==="value"?bn.value:KR(bn.value),Oi=Hh($l),js.attrName=Oi,js.attrValue=fa,js.keepAttr=!0,js.forceKeepAttr=void 0,Uh("uponSanitizeAttribute",vt,js),fa=js.attrValue,!js.forceKeepAttr&&(bL($l,vt),!!js.keepAttr)){if(Xc(/\/>/i,fa)){bL($l,vt);continue}Qc&&(fa=Bg(fa,gn," "),fa=Bg(fa,Wt," "));var sW=Hh(vt.nodeName);if(CL(sW,Oi,fa))try{TL?vt.setAttributeNS(TL,$l,fa):vt.setAttribute($l,fa),CE(n.removed)}catch{}}}Uh("afterSanitizeAttributes",vt,null)}},cW=function Sa(vt){var bn,fa=kL(vt);for(Uh("beforeSanitizeShadowDOM",vt,null);bn=fa.nextNode();)Uh("uponSanitizeShadowNode",bn,null),!_L(bn)&&(bn.content instanceof d&&Sa(bn.content),xL(bn));Uh("afterSanitizeShadowDOM",vt,null)};return n.sanitize=function(Sa,vt){var bn,fa,Oi,Sf,dl;if(qk=!Sa,qk&&(Sa="<!-->"),typeof Sa!="string"&&!wE(Sa)){if(typeof Sa.toString!="function")throw I8("toString is not a function");if(Sa=Sa.toString(),typeof Sa!="string")throw I8("dirty is not a string, aborting")}if(!n.isSupported){if(Pg(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Sa=="string")return t.toStaticHTML(Sa);if(wE(Sa))return t.toStaticHTML(Sa.outerHTML)}return Sa}if(Rc||vI(vt),n.removed=[],typeof Sa=="string"&&(Lh=!1),Lh){if(Sa.nodeName){var js=Hh(Sa.nodeName);if(!ui[js]||Fh[js])throw I8("root node is forbidden and cannot be sanitized in-place")}}else if(Sa instanceof h)bn=wL("<!---->"),fa=bn.ownerDocument.importNode(Sa,!0),fa.nodeType===1&&fa.nodeName==="BODY"||fa.nodeName==="HTML"?bn=fa:bn.appendChild(fa);else{if(!ep&&!Qc&&!vd&&Sa.indexOf("<")===-1)return lt&&su?lt.createHTML(Sa):Sa;if(bn=wL(Sa),!bn)return ep?null:su?Te:""}bn&&Wk&&Vh(bn.firstChild);for(var DR=kL(Lh?Sa:bn);Oi=DR.nextNode();)Oi.nodeType===3&&Oi===Sf||_L(Oi)||(Oi.content instanceof d&&cW(Oi.content),xL(Oi),Sf=Oi);if(Sf=null,Lh)return Sa;if(ep){if(R1)for(dl=Gt.call(bn.ownerDocument);bn.firstChild;)dl.appendChild(bn.firstChild);else dl=bn;return pc.shadowroot&&(dl=Jt.call(o,dl,!0)),dl}var $l=vd?bn.outerHTML:bn.innerHTML;return vd&&ui["!doctype"]&&bn.ownerDocument&&bn.ownerDocument.doctype&&bn.ownerDocument.doctype.name&&Xc(rP,bn.ownerDocument.doctype.name)&&($l="<!DOCTYPE "+bn.ownerDocument.doctype.name+`>
`+$l),Qc&&($l=Bg($l,gn," "),$l=Bg($l,Wt," ")),lt&&su?lt.createHTML($l):$l},n.setConfig=function(Sa){vI(Sa),Rc=!0},n.clearConfig=function(){M1=null,Rc=!1},n.isValidAttribute=function(Sa,vt,bn){M1||vI({});var fa=Hh(Sa),Oi=Hh(vt);return CL(fa,Oi,bn)},n.addHook=function(Sa,vt){typeof vt=="function"&&(Er[Sa]=Er[Sa]||[],Kb(Er[Sa],vt))},n.removeHook=function(Sa){if(Er[Sa])return CE(Er[Sa])},n.removeHooks=function(Sa){Er[Sa]&&(Er[Sa]=[])},n.removeAllHooks=function(){Er={}},n}var K8=G8(),TC=function(t){return K8().sanitize(t)},pf=tinymce.util.Tools.resolve("tinymce.util.I18n"),tv={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},zC="temporary-placeholder",X8=function(t){return function(){return at(t,zC).getOr("!not found!")}},Y8=function(t,n){var o=t.toLowerCase();if(pf.isRtl()){var c=Jo(o,"-rtl");return K(n,c)?c:o}else return o},EE=function(t,n){return at(n,Y8(t,n))},AE=function(t,n){var o=n();return EE(t,o).getOrThunk(X8(o))},Xb=function(t,n,o){var c=n();return EE(t,c).or(o).getOrThunk(X8(c))},OE=function(t){return pf.isRtl()?K(tv,t):!1},Z8=function(){return la("add-focusable",[sa(function(t){m0(t.element,"svg").each(function(n){return va(n,"focusable","false")})})])},DE=function(t,n,o,c){var d,m,h=OE(n)?["tox-icon--flip"]:[],_=at(o,Y8(n,o)).or(c).getOrThunk(X8(o));return{dom:{tag:t.tag,attributes:(d=t.attributes)!==null&&d!==void 0?d:{},classes:t.classes.concat(h),innerHtml:_},behaviours:Br(Tt(Tt([],(m=t.behaviours)!==null&&m!==void 0?m:[],!0),[Z8()],!1))}},hf=function(t,n,o,c){return c===void 0&&(c=E.none()),DE(n,t,o(),c)},RE=function(t,n,o){var c=o(),d=Qt(t,function(m){return K(c,Y8(m,c))});return DE(n,d.getOr(zC),c,E.none())},J8={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},nP=function(t){var n=ro({dom:nm("<p>"+TC(t.translationProvider(t.text))+"</p>"),behaviours:Br([Jn.config({})])}),o=function(q){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+q+"%"}}}},c=function(q){return{dom:{tag:"div",classes:["tox-text"],innerHtml:q+"%"}}},d=ro({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},c(0)],behaviours:Br([Jn.config({})])}),m=function(q,ee){q.getSystem().isConnected()&&d.getOpt(q).each(function(de){Jn.set(de,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(ee)]},c(ee)])})},h=function(q,ee){if(q.getSystem().isConnected()){var de=n.get(q);Jn.set(de,[hu(ee)])}},_={updateProgress:m,updateText:h},C=Fe([t.icon.toArray(),t.level.toArray(),t.level.bind(function(q){return E.from(J8[q])}).toArray()]),T=ro(Kc.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[hf("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(q){t.onAction(q)}})),R=RE(C,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),B={dom:{tag:"div",classes:["tox-notification__body"]},components:[n.asSpec()],behaviours:Br([Jn.config({})])},U=[R,B];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(q){return["tox-notification","tox-notification--in","tox-notification--"+q]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Br([Qn.config({}),la("notification-events",[Yt(zs(),function(q){T.getOpt(q).each(Qn.focus)})])]),components:U.concat(t.progress?[d.asSpec()]:[]).concat(t.closeButton?[T.asSpec()]:[]),apis:_}},ik=hs({name:"Notification",factory:nP,configFields:[Ga("level"),Ut("progress"),Ut("icon"),Ut("onAction"),Ut("text"),Ut("iconProvider"),Ut("translationProvider"),yo("closeButton",!0)],apis:{updateProgress:function(t,n,o){t.updateProgress(n,o)},updateText:function(t,n,o){t.updateText(n,o)}}});function Q8(t,n,o){var c=n.backstage.shared,d=function(T){switch(T){case"bc-bc":return Rg;case"tc-tc":return Bl;case"tc-bc":return xc;case"bc-tc":default:return zi}},m=function(T){T.length>0&&Ye(T,function(R,B){B===0?R.moveRel(null,"banner"):R.moveRel(T[B-1].getEl(),"bc-tc")})},h=function(T,R){var B=!T.closeButton&&T.timeout&&(T.timeout>0||T.timeout<0),U=function(){R(),lo.hide(ee)},q=Io(ik.sketch({text:T.text,level:an(["success","error","warning","warn","info"],T.type)?T.type:void 0,progress:T.progressBar===!0,icon:E.from(T.icon),closeButton:!B,onAction:U,iconProvider:c.providers.icons,translationProvider:c.providers.translate})),ee=Io(lo.sketch(J({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:c.getSink,fireDismissalEventInstead:{}},c.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(ee),T.timeout>0&&Qf.setTimeout(function(){U()},T.timeout);var de=function(){var Se=wi(le.fromDom(t.getContentAreaContainer())),ce=du(),ze=qc(ce.x,Se.x,Se.right),ht=qc(ce.y,Se.y,Se.bottom),lt=Math.max(Se.right,ce.right),Te=Math.max(Se.bottom,ce.bottom);return E.some(Mi(ze,ht,lt-ze,Te-ht))};return{close:U,moveTo:function(Se,ce){lo.showAt(ee,gs(q),{anchor:{type:"makeshift",x:Se,y:ce}})},moveRel:function(Se,ce){var ze=gs(q),ht={maxHeightFunction:Ym()};if(ce!=="banner"&&Kt(Se)){var lt=d(ce),Te={type:"node",root:to(),node:E.some(le.fromDom(Se)),overrides:ht,layouts:{onRtl:function(){return[lt]},onLtr:function(){return[lt]}}};lo.showWithinBounds(ee,ze,{anchor:Te},de)}else{var tt=J(J({},c.anchors.banner()),{overrides:ht});lo.showWithinBounds(ee,ze,{anchor:tt},de)}},text:function(Se){ik.updateText(q,Se)},settings:T,getEl:function(){return q.element.dom},progressBar:{value:function(Se){ik.updateProgress(q,Se)}}}},_=function(T){T.close()},C=function(T){return T.settings};return{open:h,close:_,reposition:m,getArgs:C}}var aP=function(t,n){var o=null,c=function(){Ir(o)||(clearTimeout(o),o=null)},d=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];Ir(o)&&(o=setTimeout(function(){o=null,t.apply(null,m)},n))};return{cancel:c,throttle:d}},EC=function(t,n){var o=null,c=function(){Ir(o)||(clearTimeout(o),o=null)},d=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];c(),o=setTimeout(function(){o=null,t.apply(null,m)},n)};return{cancel:c,throttle:d}},PE=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),oP=function(t,n){return t.isBlock(n)||an(["BR","IMG","HR","INPUT"],n.nodeName)||t.getContentEditable(n)==="false"},BE=function(t,n,o,c,d){var m=PE(t,function(h){return oP(t,h)});return E.from(m.backwards(n,o,c,d))},iP="[data-mce-autocompleter]",uP=function(t,n){return AC(le.fromDom(t.selection.getNode())).getOrThunk(function(){var o=le.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return Du(o,le.fromDom(n.extractContents())),n.insertNode(o.dom),Mo(o).each(function(c){return c.dom.normalize()}),K0(o).map(function(c){t.selection.setCursorLocation(c.dom,q_(c))}),o})},AC=function(t){return Os(t,iP)},cP=function(t){return t.collapsed&&t.startContainer.nodeType===3},ME=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},NE=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},Yb=function(t,n){return t.substring(n.length)},FE=function(t,n,o){var c;for(c=n-1;c>=0;c--){var d=t.charAt(c);if(NE(d))return E.none();if(d===o)break}return E.some(c)},IE=function(t,n,o,c){if(c===void 0&&(c=0),!cP(n))return E.none();var d=function(h,_,C){return FE(C,_,o).getOr(_)},m=t.getParent(n.startContainer,t.isBlock)||t.getRoot();return BE(t,n.startContainer,n.startOffset,d,m).bind(function(h){var _=n.cloneRange();if(_.setStart(h.container,h.offset),_.setEnd(n.endContainer,n.endOffset),_.collapsed)return E.none();var C=ME(_),T=C.lastIndexOf(o);return T!==0||Yb(C,o).length<c?E.none():E.some({text:Yb(C,o),range:_,triggerChar:o})})},eT=function(t,n,o,c){return c===void 0&&(c=0),AC(le.fromDom(n.startContainer)).fold(function(){return IE(t,n,o,c)},function(d){var m=t.createRng();m.selectNode(d.dom);var h=ME(m);return E.some({range:m,text:Yb(h,o),triggerChar:o})})},sP=function(t,n){n.on("keypress compositionend",t.onKeypress.throttle),n.on("remove",t.onKeypress.cancel);var o=function(c,d){Fn(c,Qh(),{raw:d})};n.on("keydown",function(c){var d=function(){return t.getView().bind(Ja.getHighlighted)};c.which===8&&t.onKeypress.throttle(c),t.isActive()&&(c.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?c.which===13?(d().each(ls),c.preventDefault()):c.which===40?(d().fold(function(){t.getView().each(Ja.highlightFirst)},function(m){o(m,c)}),c.preventDefault(),c.stopImmediatePropagation()):(c.which===37||c.which===38||c.which===39)&&d().each(function(m){o(m,c),c.preventDefault(),c.stopImmediatePropagation()}):(c.which===13||c.which===38||c.which===40)&&t.cancelIfNecessary())}),n.on("NodeChange",function(c){t.isActive()&&!t.isProcessingAction()&&AC(le.fromDom(c.element)).isNone()&&t.cancelIfNecessary()})},tT={setup:sP},bh=tinymce.util.Tools.resolve("tinymce.util.Promise"),OC=function(t,n){return{container:t,offset:n}},$E=function(t){return t.nodeType===re},LE=function(t){return t.nodeType===Gr},HE=function(t){if($E(t))return OC(t,t.data.length);var n=t.childNodes;return n.length>0?HE(n[n.length-1]):OC(t,n.length)},DC=function(t,n){var o=t.childNodes;return o.length>0&&n<o.length?DC(o[n],0):o.length>0&&LE(t)&&o.length===n?HE(o[o.length-1]):OC(t,n)},lP=function(t,n){return BE(t,n.container,n.offset,function(o,c){return c===0?-1:c},t.getRoot()).filter(function(o){var c=o.container.data.charAt(o.offset-1);return!NE(c)}).isSome()},VE=function(t){return function(n){var o=DC(n.startContainer,n.startOffset);return!lP(t,o)}},UE=function(t,n,o){return bt(o.triggerChars,function(c){return eT(t,n,c)})},uk=function(t,n){var o=n(),c=t.selection.getRng();return UE(t.dom,c,o).bind(function(d){return jE(t,n,d)})},jE=function(t,n,o,c){c===void 0&&(c={});var d=n(),m=t.selection.getRng(),h=m.startContainer.nodeValue,_=Zt(d.lookupByChar(o.triggerChar),function(T){return o.text.length>=T.minChars&&T.matches.getOrThunk(function(){return VE(t.dom)})(o.range,h,o.text)});if(_.length===0)return E.none();var C=bh.all($t(_,function(T){var R=T.fetch(o.text,T.maxResults,c);return R.then(function(B){return{matchText:o.text,items:B,columns:T.columns,onAction:T.onAction,highlightOn:T.highlightOn}})}));return E.some({lookupData:C,context:o})},RC=Dn([Zn("type"),xo("text")]),Zb=function(t){return Ko("separatormenuitem",RC,t)},fP=Dn([Ae("type","autocompleteitem"),Ae("active",!1),Ae("disabled",!1),Ae("meta",{}),Zn("value"),xo("text"),xo("icon")]),WE=Dn([Zn("type"),Zn("ch"),_c("minChars",1),Ae("columns",1),_c("maxResults",10),yd("matches"),Vu("fetch"),Vu("onAction"),Ff("highlightOn",[],gi)]),qE=function(t){return Ko("Autocompleter.Separator",RC,t)},GE=function(t){return Ko("Autocompleter.Item",fP,t)},rT=function(t){return Ko("Autocompleter",WE,t)},Jb=[yo("disabled",!1),xo("tooltip"),xo("icon"),xo("text"),To("onSetup",function(){return $e})],dP=Dn([Zn("type"),Vu("onAction")].concat(Jb)),KE=function(t){return Ko("toolbarbutton",dP,t)},Qb=[yo("active",!1)].concat(Jb),vP=Dn(Qb.concat([Zn("type"),Vu("onAction")])),nT=function(t){return Ko("ToggleButton",vP,t)},wh=[To("predicate",Dt),is("scope","node",["node","editor"]),is("position","selection",["node","selection","line"])],mP=Jb.concat([Ae("type","contextformbutton"),Ae("primary",!1),Vu("onAction"),tc("original",or)]),gP=Qb.concat([Ae("type","contextformbutton"),Ae("primary",!1),Vu("onAction"),tc("original",or)]),pP=Jb.concat([Ae("type","contextformbutton")]),XE=Qb.concat([Ae("type","contextformtogglebutton")]),YE=Ts("type",{contextformbutton:mP,contextformtogglebutton:gP}),hP=Dn([Ae("type","contextform"),To("initValue",se("")),xo("label"),Bu("commands",YE),wl("launch",Ts("type",{contextformbutton:pP,contextformtogglebutton:XE}))].concat(wh)),yP=function(t){return Ko("ContextForm",hP,t)},bP=Dn([Ae("type","contexttoolbar"),Zn("items")].concat(wh)),wP=function(t){return Ko("ContextToolbar",bP,t)},kP=function(t){var n={};return Ye(t,function(o){n[o]={}}),zt(n)},PC=function(t){var n=t.ui.registry.getAll().popups,o=sr(n,function(h){return rT(h).fold(function(_){throw new Error(hd(_))},or)}),c=kP(Gn(o,function(h){return h.ch})),d=_t(o),m=function(h){return Zt(d,function(_){return _.ch===h})};return{dataset:o,triggerChars:c,lookupByChar:m}},aT;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(aT||(aT={}));var rd=aT,ck="tox-menu-nav__js",BC="tox-collection__item",oT="tox-swatch",ZE={normal:ck,color:oT},iT="tox-collection__item--enabled",JE="tox-collection__group-heading",uT="tox-collection__item-icon",cT="tox-collection__item-label",_P="tox-collection__item-accessory",QE="tox-collection__item-caret",CP="tox-collection__item-checkmark",kh="tox-collection__item--active",MC="tox-collection__item-container",e4="tox-collection__item-container--column",t4="tox-collection__item-container--row",r4="tox-collection__item-container--align-right",SP="tox-collection__item-container--align-left",xP="tox-collection__item-container--valign-top",TP="tox-collection__item-container--valign-middle",n4="tox-collection__item-container--valign-bottom",sT=function(t){return at(ZE,t).getOr(ck)},a4=function(t){return t==="color"?"tox-swatches":"tox-menu"},lT=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:a4(t),tieredMenu:"tox-tiered-menu"}},e1=function(t){var n=lT(t);return{backgroundMenu:n.backgroundMenu,selectedMenu:n.selectedMenu,menu:n.menu,selectedItem:n.selectedItem,item:sT(t)}},zP=function(t,n,o){var c=lT(o);return{tag:"div",classes:Fe([[c.menu,"tox-menu-"+n+"-column"],t?[c.hasIcons]:[]])}},EP=[zn.parts.items({})],NC=function(t,n,o){var c=lT(o),d={tag:"div",classes:Fe([[c.tieredMenu]])};return{dom:d,markers:e1(o)}},fT=function(t,n){return function(o){var c=La(o,n);return $t(c,function(d){return{dom:t,components:d}})}},AP=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[zn.parts.items({preprocess:t!=="auto"?fT({tag:"div",classes:["tox-swatches__row"]},t):or})]}]}},OP=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[zn.parts.items({preprocess:fT({tag:"div",classes:["tox-collection__group"]},t)})]}},o4=function(t,n){var o=[],c=[];return Ye(t,function(d,m){n(d,m)?(c.length>0&&o.push(c),c=[],K(d.dom,"innerHtml")&&c.push(d)):c.push(d)}),c.length>0&&o.push(c),$t(o,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},dT=function(t,n,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[zn.parts.items({preprocess:function(c){return t!=="auto"&&t>1?fT({tag:"div",classes:["tox-collection__group"]},t)(c):o4(c,function(d,m){return n[m].type==="separator"})}})]}},DP=function(t,n){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[zn.parts.items({preprocess:function(o){return o4(o,function(c,d){return t[d].type==="separator"})}})]}},sk=function(t){return Un(t,function(n){return"icon"in n&&n.icon!==void 0})},am=function(t){return console.error(hd(t)),console.log(t),E.none()},RP=function(t,n,o,c,d){var m=DP(o);return{value:t,dom:m.dom,components:m.components,items:o}},vT=function(t,n,o,c,d){if(d==="color"){var m=AP(c);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="normal"&&c==="auto"){var m=dT(c,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="normal"&&c===1){var m=dT(1,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="normal"){var m=dT(c,o);return{value:t,dom:m.dom,components:m.components,items:o}}if(d==="listpreview"&&c!=="auto"){var m=OP(c);return{value:t,dom:m.dom,components:m.components,items:o}}return{value:t,dom:zP(n,c,d),components:EP,items:o}},PP=[Zn("type"),Zn("src"),xo("alt"),Ff("classes",[],gi)],BP=Dn(PP),MP=[Zn("type"),Zn("text"),xo("name"),Ff("classes",["tox-collection__item-label"],gi)],FC=Dn(MP),mT=Yk(function(){return Zh("type",{cardimage:BP,cardtext:FC,cardcontainer:NP})}),NP=Dn([Zn("type"),Tm("direction","horizontal"),Tm("align","left"),Tm("valign","middle"),Bu("items",mT)]),t1=[yo("disabled",!1),xo("text"),xo("shortcut"),Ni("value","value",Aa(function(){return mn("menuitem-value")}),Gs()),Ae("meta",{})],FP=Dn([Zn("type"),xo("label"),Bu("items",mT),To("onSetup",function(){return $e}),To("onAction",$e)].concat(t1)),IP=function(t){return Ko("cardmenuitem",FP,t)},$P=Dn([Zn("type"),yo("active",!1),xo("icon")].concat(t1)),gT=function(t){return Ko("choicemenuitem",$P,t)},pT=[Zn("type"),Zn("fancytype"),To("onAction",$e)],i4=[Ae("initData",{})].concat(pT),LP=[V1("initData",{},[yo("allowCustomColors",!0),Vc("colors",Gs())])].concat(pT),u4=Ts("fancytype",{inserttable:i4,colorswatch:LP}),HP=function(t){return Ko("fancymenuitem",u4,t)},VP=Dn([Zn("type"),To("onSetup",function(){return $e}),To("onAction",$e),xo("icon")].concat(t1)),UP=function(t){return Ko("menuitem",VP,t)},jP=Dn([Zn("type"),Vu("getSubmenuItems"),To("onSetup",function(){return $e}),xo("icon")].concat(t1)),WP=function(t){return Ko("nestedmenuitem",jP,t)},qP=Dn([Zn("type"),xo("icon"),yo("active",!1),To("onSetup",function(){return $e}),Vu("onAction")].concat(t1)),GP=function(t){return Ko("togglemenuitem",qP,t)},hT=function(t,n,o){var c=Wu(t.element,"."+o);if(c.length>0){var d=Pe(c,function(m){var h=m.dom.getBoundingClientRect().top,_=c[0].dom.getBoundingClientRect().top;return Math.abs(h-_)>n}).getOr(c.length);return E.some({numColumns:d,numRows:Math.ceil(c.length/d)})}else return E.none()},c4=function(t,n){return Br([la(t,n)])},KP=function(t){return c4(mn("unnamed-events"),t)},r1={namedEvents:c4,unnamedEvents:KP},IC=mn("tooltip.exclusive"),_h=mn("tooltip.show"),n1=mn("tooltip.hide"),s4=function(t,n,o){t.getSystem().broadcastOn([IC],{})},XP=function(t,n,o,c){o.getTooltip().each(function(d){d.getSystem().isConnected()&&Jn.set(d,c)})},$C=Object.freeze({__proto__:null,hideAllExclusive:s4,setComponents:XP}),yT=function(t,n){var o=function(d){n.getTooltip().each(function(m){Ol(m),t.onHide(d,m),n.clearTooltip()}),n.clearTimer()},c=function(d){if(!n.isShowing()){s4(d);var m=t.lazySink(d).getOrDie(),h=d.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:bo(t.mode==="normal"?[Yt($f(),function(_){Ua(d,_h)}),Yt(G1(),function(_){Ua(d,n1)})]:[]),behaviours:Br([Jn.config({})])});n.setTooltip(h),Fv(m,h),t.onShow(d,h),di.position(m,h,{anchor:t.anchor(d)})}};return bo(Fe([[Yt(_h,function(d){n.resetTimer(function(){c(d)},t.delay)}),Yt(n1,function(d){n.resetTimer(function(){o(d)},t.delay)}),Yt(Es(),function(d,m){var h=m;h.universal||an(h.channels,IC)&&o(d)}),fs(function(d){o(d)})],t.mode==="normal"?[Yt(zs(),function(d){Ua(d,_h)}),Yt(Z1(),function(d){Ua(d,n1)}),Yt($f(),function(d){Ua(d,_h)}),Yt(G1(),function(d){Ua(d,n1)})]:[Yt(t0(),function(d,m){Ua(d,_h)}),Yt(ay(),function(d){Ua(d,n1)})]]))},LC=Object.freeze({__proto__:null,events:yT}),l4=[Ut("lazySink"),Ut("tooltipDom"),Ae("exclusive",!0),Ae("tooltipComponents",[]),Ae("delay",300),is("mode","normal",["normal","follow-highlight"]),Ae("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:se([zi,xc,Fu,uc,Gi,cc]),onRtl:se([zi,xc,Fu,uc,Gi,cc])}}}),Ka("onHide"),Ka("onShow")],YP=function(){var t=fi(),n=fi(),o=function(){t.on(clearTimeout)},c=function(m,h){o(),t.set(setTimeout(m,h))},d=se("not-implemented");return Nu({getTooltip:n.get,isShowing:n.isSet,setTooltip:n.set,clearTooltip:n.clear,clearTimer:o,resetTimer:c,readState:d})},ZP=Object.freeze({__proto__:null,init:YP}),f4=Hi({fields:l4,name:"tooltipping",active:LC,state:ZP,apis:$C}),JP=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},lk=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),QP=tinymce.util.Tools.resolve("tinymce.EditorManager"),eB=function(t){var n=t.getParam("skin"),o=t.getParam("skin_url");if(n!==!1){var c=n||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=QP.baseURL+"/skins/ui/"+c}return o},tB=function(t){return t.getParam("readonly",!1,"boolean")},rB=function(t){return t.getParam("skin")===!1},d4=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},v4=function(t){return t.getParam("width",lk.DOM.getStyle(t.getElement(),"width"))},m4=function(t){return E.from(t.getParam("min_width")).filter(Ot)},g4=function(t){return E.from(t.getParam("min_height")).filter(Ot)},HC=function(t){return E.from(t.getParam("max_width")).filter(Ot)},p4=function(t){return E.from(t.getParam("max_height")).filter(Ot)},nB=function(t){return E.from(t.getParam("style_formats")).filter(ft)},om=function(t){return t.getParam("style_formats_merge",!1,"boolean")},aB=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},oB=function(t){return t.getParam("content_langs",void 0,"array")},bT=function(t){return t.getParam("removed_menuitems","")},Ki=function(t){return t.getParam("menubar",!0,"boolean")!==!1},wT=function(t){var n=t.getParam("toolbar",!0),o=n===!0,c=gt(n),d=ft(n)&&n.length>0;return!VC(t)&&(d||c||o)},h4=function(t){var n=Z(9,function(c){return t.getParam("toolbar"+(c+1),!1,"string")}),o=Zt(n,function(c){return typeof c=="string"});return o.length>0?E.some(o):E.none()},VC=function(t){return h4(t).fold(function(){var n=t.getParam("toolbar",[],"string[]");return n.length>0},dt)},ul;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(ul||(ul={}));var fk=function(t){return t.getParam("toolbar_mode","","string")},Ch;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(Ch||(Ch={}));var iB=function(t){return t.getParam("toolbar_groups",{},"object")},y4=function(t){return t.getParam("toolbar_location",Ch.auto,"string")},b4=function(t){return y4(t)===Ch.bottom},uB=function(t){return t.getParam("fixed_toolbar_container","","string")},cB=function(t){return t.getParam("fixed_toolbar_container_target")},sB=function(t){return t.getParam("toolbar_persist",!1,"boolean")},w4=function(t){if(!t.inline)return E.none();var n=uB(t);if(n.length>0)return Ii(to(),n);var o=cB(t);return Kt(o)?E.some(le.fromDom(o)):E.none()},UC=function(t){return t.inline&&w4(t).isSome()},k4=function(t){var n=w4(t);return n.getOrThunk(function(){return Or(Bn(le.fromDom(t.getElement())))})},_4=function(t){return t.inline&&!Ki(t)&&!wT(t)&&!VC(t)},jC=function(t){var n=t.getParam("toolbar_sticky",!1,"boolean");return(n||t.inline)&&!UC(t)&&!_4(t)},lB=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},fB=function(t){return t.getParam("draggable_modal",!1,"boolean")},dB=function(t){var n=t.getParam("menu");return n?sr(n,function(o){return J(J({},o),{items:o.items})}):{}},vB=function(t){return t.getParam("menubar")},mB=function(t){return t.getParam("toolbar",!0)},gB=function(t){return t.getParam("file_picker_callback")},pB=function(t){return t.getParam("file_picker_types")},hB=function(t){return t.getParam("file_browser_callback_types")},yB=function(t){return t.getParam("typeahead_urls")===!1},C4=function(t){return t.getParam("anchor_top","#top")},bB=function(t){return t.getParam("anchor_bottom","#bottom")},wB=function(t){var n=t.getParam("file_picker_validator_handler",void 0,"function");return n===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):n},kT="silver.readonly",S4=Dn([CS("readonly")]),a1=function(t,n){var o=t.outerContainer,c=o.element;n&&(t.mothership.broadcastOn([$v()],{target:c}),t.uiMothership.broadcastOn([$v()],{target:c})),t.mothership.broadcastOn([kT],{readonly:n}),t.uiMothership.broadcastOn([kT],{readonly:n})},x4=function(t,n){t.on("init",function(){t.mode.isReadOnly()&&a1(n,!0)}),t.on("SwitchMode",function(){return a1(n,t.mode.isReadOnly())}),tB(t)&&t.setMode("readonly")},Xi=function(){var t;return Uu.config({channels:(t={},t[kT]={schema:S4,onReceive:function(n,o){Mn.set(n,o.readonly)}},t)})},kB=function(t){return Mn.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},T4=function(t){return Mn.config({disabled:t})},_B=function(t){return Mn.config({disabled:t,disableClass:"tox-tbtn--disabled"})},z4=function(t){return Mn.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},Ml={item:kB,button:T4,splitButton:_B,toolbarButton:z4},WC=function(t,n){var o=t.getApi(n);return function(c){c(o)}},o1=function(t,n){return sa(function(o){var c=WC(t,o);c(function(d){var m=t.onSetup(d);kr(m)&&n.set(m)})})},dk=function(t,n){return fs(function(o){return WC(t,o)(n.get())})},_T,CB=function(t,n){return Wc(function(o,c){WC(t,o)(t.onAction),!t.triggersSubmenu&&n===rd.CLOSE_ON_EXECUTE&&(Ua(o,pp()),c.stop())})},SB=(_T={},_T[cs()]=["disabling","alloy.base.behaviour","toggling","item-events"],_T),i1=cr,u1=function(t,n,o,c){var d=Nn($e);return{type:"item",dom:n.dom,components:i1(n.optComponents),data:t.data,eventOrder:SB,hasSubmenu:t.triggersSubmenu,itemBehaviours:Br([la("item-events",[CB(t,o),o1(t,d),dk(t,d)]),Ml.item(function(){return t.disabled||c.isDisabled()}),Xi(),Jn.config({})].concat(t.itemBehaviours))}},Mg=function(t){return{value:t.value,meta:J({text:t.text.getOr("")},t.meta)}},qC=tinymce.util.Tools.resolve("tinymce.Env"),xB=function(t){var n={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},c=qC.mac?n:o,d=t.split("+"),m=$t(d,function(h){var _=h.toLowerCase().trim();return K(c,_)?c[_]:h});return qC.mac?m.join(""):m.join("+")},GC=function(t,n,o){return o===void 0&&(o=[uT]),hf(t,{tag:"div",classes:o},n)},E4=function(t){return{dom:{tag:"div",classes:[cT]},components:[hu(pf.translate(t))]}},A4=function(t,n){return{dom:{tag:"div",classes:n,innerHtml:t}}},CT=function(t,n){return{dom:{tag:"div",classes:[cT]},components:[{dom:{tag:t.tag,styles:t.styles},components:[hu(pf.translate(n))]}]}},TB=function(t){return{dom:{tag:"div",classes:[_P],innerHtml:xB(t)}}},O4=function(t){return GC("checkmark",t,[CP])},zB=function(t){return GC("chevron-right",t,[QE])},EB=function(t){return GC("chevron-down",t,[QE])},ST=function(t,n){var o=t.direction==="vertical"?e4:t4,c=t.align==="left"?SP:r4,d=function(){switch(t.valign){case"top":return xP;case"middle":return TP;case"bottom":return n4}};return{dom:{tag:"div",classes:[MC,o,c,d()]},components:n}},AB=function(t,n,o){return{dom:{tag:"img",classes:n,attributes:{src:t,alt:o.getOr("")}}}},xT=function(t,n,o){var c="custom",d="remove",m=t.ariaLabel,h=t.value,_=t.iconContent.map(function(T){return Xb(T,n.icons,o)}),C=function(){var T=oT,R=_.getOr(""),B=m.map(function(q){return{title:n.translate(q)}}).getOr({}),U={tag:"div",attributes:B,classes:[T]};return h===c?J(J({},U),{tag:"button",classes:Tt(Tt([],U.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:R}):h===d?J(J({},U),{classes:Tt(Tt([],U.classes,!0),["tox-swatch--remove"],!1),innerHtml:R}):J(J({},U),{attributes:J(J({},U.attributes),{"data-mce-color":h}),styles:{"background-color":h}})};return{dom:C(),optComponents:[]}},D4=function(t){var n=t.map(function(o){return{attributes:{title:pf.translate(o)}}}).getOr({});return J({tag:"div",classes:[ck,BC]},n)},R4=function(t,n,o,c){var d={tag:"div",classes:[uT]},m=function(U){return hf(U,d,n.icons,c)},h=function(){return E.some({dom:d})},_=o?t.iconContent.map(m).orThunk(h):E.none(),C=t.checkMark,T=E.from(t.meta).fold(function(){return E4},function(U){return K(U,"style")?Nr(CT,U.style):E4}),R=t.htmlContent.fold(function(){return t.textContent.map(T)},function(U){return E.some(A4(U,[cT]))}),B={dom:D4(t.ariaLabel),optComponents:[_,R,t.shortcutContent.map(TB),C,t.caret]};return B},vk=function(t,n,o,c){return c===void 0&&(c=E.none()),t.presets==="color"?xT(t,n,c):R4(t,n,o,c)},c1=function(t,n){return at(t,"tooltipWorker").map(function(o){return[f4.config({lazySink:n.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(c){return{type:"submenu",item:c,overrides:{maxHeightFunction:Ym}}},mode:"follow-highlight",onShow:function(c,d){o(function(m){f4.setComponents(c,[by({element:le.fromDom(m)})])})}})]}).getOr([])},OB=function(t){return lk.DOM.encode(t)},P4=function(t,n){var o=pf.translate(t),c=OB(o);if(n.length>0){var d=new RegExp(JP(n),"gi");return c.replace(d,function(m){return'<span class="tox-autocompleter-highlight">'+m+"</span>"})}else return c},DB=function(t,n,o,c,d,m,h,_){_===void 0&&(_=!0);var C=vk({presets:c,textContent:E.none(),htmlContent:o?t.text.map(function(T){return P4(T,n)}):E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:E.none(),checkMark:E.none(),caret:E.none(),value:t.value},h.providers,_,t.icon);return u1({data:Mg(t),disabled:t.disabled,getApi:se({}),onAction:function(T){return d(t.value,t.meta)},onSetup:se($e),triggersSubmenu:!1,itemBehaviours:c1(t.meta,h)},C,m,h.providers)},B4=function(t,n){return $t(t,function(o){switch(o.type){case"cardcontainer":return ST(o,B4(o.items,n));case"cardimage":return AB(o.src,o.classes,o.alt);case"cardtext":var c=o.name.exists(function(m){return an(n.cardText.highlightOn,m)}),d=c?E.from(n.cardText.matchText).getOr(""):"";return A4(P4(o.text,d),o.classes)}})},RB=function(t,n,o,c){var d=function(h){return{isDisabled:function(){return Mn.isDisabled(h)},setDisabled:function(_){Mn.set(h,_),Ye(Wu(h.element,"*"),function(C){h.getSystem().getByDom(C).each(function(T){T.hasConfigured(Mn)&&Mn.set(T,_)})})}}},m={dom:D4(t.label),optComponents:[E.some({dom:{tag:"div",classes:[MC,t4]},components:B4(t.items,c)})]};return u1({data:Mg(J({text:E.none()},t)),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:E.from(c.itemBehaviours).getOr([])},m,n,o.providers)},PB=function(t,n,o,c,d,m,h,_){_===void 0&&(_=!0);var C=function(R){return{setActive:function(B){Oa.set(R,B)},isActive:function(){return Oa.isOn(R)},isDisabled:function(){return Mn.isDisabled(R)},setDisabled:function(B){return Mn.set(R,B)}}},T=vk({presets:o,textContent:n?t.text:E.none(),htmlContent:E.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:n?t.shortcut:E.none(),checkMark:n?E.some(O4(h.icons)):E.none(),caret:E.none(),value:t.value},h,_);return xt(u1({data:Mg(t),disabled:t.disabled,getApi:C,onAction:function(R){return c(t.value)},onSetup:function(R){return R.setActive(d),$e},triggersSubmenu:!1,itemBehaviours:[]},T,m,h),{toggling:{toggleClass:iT,toggleOnExecute:!1,selected:t.active}})},TT=jv(x(),D()),M4=function(t){return{value:t}},N4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,F4=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,I4=function(t){return N4.test(t)||F4.test(t)},BB=function(t){return mo(t,"#").toUpperCase()},MB=function(t){return I4(t)?E.some({value:BB(t)}):E.none()},Ng=function(t){var n=t.value.replace(N4,function(o,c,d,m){return c+c+d+d+m+m});return{value:n}},NB=function(t){var n=Ng(t),o=F4.exec(n.value);return o===null?["FFFFFF","FF","FF","FF"]:o},zT=function(t){var n=t.toString(16);return(n.length===1?"0"+n:n).toUpperCase()},mk=function(t){var n=zT(t.red)+zT(t.green)+zT(t.blue);return M4(n)},KC=Math.min,$4=Math.max,s1=Math.round,FB=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,ET=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,im=function(t,n,o,c){return{red:t,green:n,blue:o,alpha:c}},XC=function(t){var n=parseInt(t,10);return n.toString()===t&&n>=0&&n<=255},AT=function(t){var n,o,c,d=(t.hue||0)%360,m=t.saturation/100,h=t.value/100;if(m=$4(0,KC(m,1)),h=$4(0,KC(h,1)),m===0)return n=o=c=s1(255*h),im(n,o,c,1);var _=d/60,C=h*m,T=C*(1-Math.abs(_%2-1)),R=h-C;switch(Math.floor(_)){case 0:n=C,o=T,c=0;break;case 1:n=T,o=C,c=0;break;case 2:n=0,o=C,c=T;break;case 3:n=0,o=T,c=C;break;case 4:n=T,o=0,c=C;break;case 5:n=C,o=0,c=T;break;default:n=o=c=0}return n=s1(255*(n+R)),o=s1(255*(o+R)),c=s1(255*(c+R)),im(n,o,c,1)},gk=function(t){var n=NB(t),o=parseInt(n[1],16),c=parseInt(n[2],16),d=parseInt(n[3],16);return im(o,c,d,1)},YC=function(t,n,o,c){var d=parseInt(t,10),m=parseInt(n,10),h=parseInt(o,10),_=parseFloat(c);return im(d,m,h,_)},L4=function(t){if(t==="transparent")return E.some(im(0,0,0,0));var n=FB.exec(t);if(n!==null)return E.some(YC(n[1],n[2],n[3],"1"));var o=ET.exec(t);return o!==null?E.some(YC(o[1],o[2],o[3],o[4])):E.none()},H4=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},V4=im(255,0,0,1),IB=function(t){return t.fire("SkinLoaded")},$B=function(t,n){return t.fire("SkinLoadError",n)},LB=function(t){return t.fire("ResizeEditor")},OT=function(t,n){return t.fire("ResizeContent",n)},HB=function(t,n){return t.fire("ScrollContent",n)},VB=function(t,n){return t.fire("TextColorChange",n)},pk=function(t,n,o){return{hue:t,saturation:n,value:o}},DT=function(t){var n=0,o=0,c=0,d=t.red/255,m=t.green/255,h=t.blue/255,_=Math.min(d,Math.min(m,h)),C=Math.max(d,Math.max(m,h));if(_===C)return c=_,pk(0,0,c*100);var T=d===_?m-h:h===_?d-m:h-d;return n=d===_?3:h===_?1:5,n=60*(n-T/(C-_)),o=(C-_)/C,c=C,pk(Math.round(n),Math.round(o*100),Math.round(c*100))},UB=function(t){return DT(gk(t))},RT=function(t){return mk(AT(t))},jB=function(t){return MB(t).orThunk(function(){return L4(t).map(mk)}).getOrThunk(function(){var n=document.createElement("canvas");n.height=1,n.width=1;var o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var c=o.getImageData(0,0,1,1).data,d=c[0],m=c[1],h=c[2],_=c[3];return mk(im(d,m,h,_))})},ZC=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),JC="tinymce-custom-colors";function QC(t){var n=ZC.getItem(JC),o=gt(n)?JSON.parse(n):[],c=function(C){var T=t-C.length;return T<0?C.slice(0,t):C},d=c(o),m=function(C){qn(d,C).each(h),d.unshift(C),d.length>t&&d.pop(),ZC.setItem(JC,JSON.stringify(d))},h=function(C){d.splice(C,1)},_=function(){return d.slice(0)};return{add:m,state:_}}var ou="choiceitem",e3=[{type:ou,text:"Light Green",value:"#BFEDD2"},{type:ou,text:"Light Yellow",value:"#FBEEB8"},{type:ou,text:"Light Red",value:"#F8CAC6"},{type:ou,text:"Light Purple",value:"#ECCAFA"},{type:ou,text:"Light Blue",value:"#C2E0F4"},{type:ou,text:"Green",value:"#2DC26B"},{type:ou,text:"Yellow",value:"#F1C40F"},{type:ou,text:"Red",value:"#E03E2D"},{type:ou,text:"Purple",value:"#B96AD9"},{type:ou,text:"Blue",value:"#3598DB"},{type:ou,text:"Dark Turquoise",value:"#169179"},{type:ou,text:"Orange",value:"#E67E23"},{type:ou,text:"Dark Red",value:"#BA372A"},{type:ou,text:"Dark Purple",value:"#843FA1"},{type:ou,text:"Dark Blue",value:"#236FA1"},{type:ou,text:"Light Gray",value:"#ECF0F1"},{type:ou,text:"Medium Gray",value:"#CED4D9"},{type:ou,text:"Gray",value:"#95A5A6"},{type:ou,text:"Dark Gray",value:"#7E8C8D"},{type:ou,text:"Navy Blue",value:"#34495E"},{type:ou,text:"Black",value:"#000000"},{type:ou,text:"White",value:"#ffffff"}],U4=QC(10),WB=function(t){for(var n=[],o=0;o<t.length;o+=2)n.push({text:t[o+1],value:"#"+jB(t[o]).value,type:"choiceitem"});return n},qB=function(t,n){return t.getParam("color_cols",n,"number")},j4=function(t){return t.getParam("custom_colors")!==!1},GB=function(t){return t.getParam("color_map")},PT=function(t){var n=GB(t);return n!==void 0?WB(n):e3},W4=function(){return $t(U4.state(),function(t){return{type:ou,text:t,value:t}})},q4=function(t){U4.add(t)},BT="#000000",KB=function(t,n){var o;return t.dom.getParents(t.selection.getStart(),function(c){var d;(d=c.style[n==="forecolor"?"color":"background-color"])&&(o=o||d)}),E.from(o)},XB=function(t,n,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(n,{value:o}),t.nodeChanged()})},YB=function(t,n){t.undoManager.transact(function(){t.focus(),t.formatter.remove(n,{value:null},null,!0),t.nodeChanged()})},ZB=function(t){t.addCommand("mceApplyTextcolor",function(n,o){XB(t,n,o)}),t.addCommand("mceRemoveTextcolor",function(n){YB(t,n)})},JB=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},t3=function(t){var n=PT(t),o=JB(n.length);return qB(t,o)},G4=function(t){var n="choiceitem",o={type:n,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},c={type:n,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,c]:[o]},r3=function(t,n,o,c){if(o==="custom"){var d=Z4(t);d(function(m){m.each(function(h){q4(h),t.execCommand("mceApplyTextcolor",n,h),c(h)})},BT)}else o==="remove"?(c(""),t.execCommand("mceRemoveTextcolor",n)):(c(o),t.execCommand("mceApplyTextcolor",n,o))},K4=function(t,n){return t.concat(W4().concat(G4(n)))},X4=function(t,n){return function(o){o(K4(t,n))}},MT=function(t,n,o){var c=n==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(c,o)},l1=function(t,n,o,c,d){t.ui.registry.addSplitButton(n,{tooltip:c,presets:"color",icon:n==="forecolor"?"text-color":"highlight-bg-color",select:function(m){var h=KB(t,o);return h.bind(function(_){return L4(_).map(function(C){var T=mk(C).value;return ua(m.toLowerCase(),T)})}).getOr(!1)},columns:t3(t),fetch:X4(PT(t),j4(t)),onAction:function(m){r3(t,o,d.get(),$e)},onItemAction:function(m,h){r3(t,o,h,function(_){d.set(_),VB(t,{name:n,color:_})})},onSetup:function(m){MT(m,n,d.get());var h=function(_){_.name===n&&MT(m,_.name,_.color)};return t.on("TextColorChange",h),function(){t.off("TextColorChange",h)}}})},Y4=function(t,n,o,c){t.ui.registry.addNestedMenuItem(n,{text:c,icon:n==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){r3(t,o,d.value,$e)}}]}})},Z4=function(t){return function(n,o){var c=!1,d=function(_){var C=_.getData(),T=C.colorpicker;c?(n(E.from(T)),_.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",T]))},m=function(_,C){C.name==="hex-valid"&&(c=C.value)},h={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onAction:m,onSubmit:d,onClose:$e,onCancel:function(){n(E.none())}})}},QB=function(t){ZB(t);var n=Nn(BT),o=Nn(BT);l1(t,"forecolor","forecolor","Text color",n),l1(t,"backcolor","hilitecolor","Background color",o),Y4(t,"forecolor","forecolor","Text color"),Y4(t,"backcolor","hilitecolor","Background color")},f1=function(t,n,o,c,d,m,h,_){var C=sk(n),T=d!=="color"?"normal":"color",R=eM(n,o,c,T,m,h,_);return vT(t,C,R,c,d)},eM=function(t,n,o,c,d,m,h){return cr($t(t,function(_){return _.type==="choiceitem"?gT(_).fold(am,function(C){return E.some(PB(C,o===1,c,n,m(_.value),d,h,sk(t)))}):E.none()}))},n3=function(t,n){var o=e1(n);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var c=n==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+c}},J4=function(t,n){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:n==="color"?".tox-swatches__row":".tox-collection__group",cell:n==="color"?"."+oT:"."+BC}}},tM=function(t,n){var o=rM(t,n),c=n.colorinput.getColorCols(),d="color",m=f1(mn("menu-value"),o,function(_){t.onAction({value:_})},c,d,rd.CLOSE_ON_EXECUTE,Dt,n.shared.providers),h=J(J({},m),{markers:e1(d),movement:n3(c,d)});return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[TT.widget(zn.sketch(h))]}},rM=function(t,n){var o=t.initData.allowCustomColors&&n.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return K4(n.colorinput.getColors(),o)},function(c){return c.concat(G4(o))})},Q4=mn("cell-over"),eA=mn("cell-execute"),nM=function(t,n,o){var c,d=function(_){return Fn(_,Q4,{row:t,col:n})},m=function(_){return Fn(_,eA,{row:t,col:n})},h=function(_,C){C.stop(),m(_)};return Io({dom:{tag:"div",attributes:(c={role:"button"},c["aria-labelledby"]=o,c)},behaviours:Br([la("insert-table-picker-cell",[Yt($f(),Qn.focus),Yt(cs(),m),Yt(Om(),h),Yt(kd(),h)]),Oa.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Qn.config({onFocus:d})])})},aM=function(t,n,o){for(var c=[],d=0;d<n;d++){for(var m=[],h=0;h<o;h++)m.push(nM(d,h,t));c.push(m)}return c},oM=function(t,n,o,c,d){for(var m=0;m<c;m++)for(var h=0;h<d;h++)Oa.set(t[m][h],m<=n&&h<=o)},iM=function(t){return gr(t,function(n){return $t(n,gs)})},tA=function(t,n){return hu(n+"x"+t)},Sh=function(t){var n=10,o=10,c=mn("size-label"),d=aM(c,n,o),m=tA(0,0),h=ro({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:c}},components:[m],behaviours:Br([Jn.config({})])});return{type:"widget",data:{value:mn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[TT.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:iM(d).concat(h.asSpec()),behaviours:Br([la("insert-table-picker",[sa(function(_){Jn.set(h.get(_),[m])}),Cd(Q4,function(_,C,T){var R=T.event,B=R.row,U=R.col;oM(d,B,U,n,o),Jn.set(h.get(_),[tA(B+1,U+1)])}),Cd(eA,function(_,C,T){var R=T.event,B=R.row,U=R.col;t.onAction({numRows:B+1,numColumns:U+1}),Ua(_,pp())})]),Tn.config({initSize:{numRows:n,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},uM={inserttable:Sh,colorswatch:tM},cM=function(t,n){return at(uM,t.fancytype).map(function(o){return o(t,n)})},sM=function(t,n,o,c,d){c===void 0&&(c=!0),d===void 0&&(d=!1);var m=d?EB(o.icons):zB(o.icons),h=function(C){return{isDisabled:function(){return Mn.isDisabled(C)},setDisabled:function(T){return Mn.set(C,T)}}},_=vk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.some(m),checkMark:E.none(),shortcutContent:t.shortcut},o,c);return u1({data:Mg(t),getApi:h,disabled:t.disabled,onAction:$e,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},_,n,o)},lM=function(t,n,o,c){c===void 0&&(c=!0);var d=function(h){return{isDisabled:function(){return Mn.isDisabled(h)},setDisabled:function(_){return Mn.set(h,_)}}},m=vk({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,caret:E.none(),checkMark:E.none(),shortcutContent:t.shortcut},o,c);return u1({data:Mg(t),getApi:d,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,n,o)},a3=function(t){var n=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:J({tag:"div",classes:[BC,JE]},n),components:[]}},rA=function(t,n,o,c){c===void 0&&(c=!0);var d=function(h){return{setActive:function(_){Oa.set(h,_)},isActive:function(){return Oa.isOn(h)},isDisabled:function(){return Mn.isDisabled(h)},setDisabled:function(_){return Mn.set(h,_)}}},m=vk({iconContent:t.icon,textContent:t.text,htmlContent:E.none(),ariaLabel:t.text,checkMark:E.some(O4(o.icons)),caret:E.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,c);return xt(u1({data:Mg(t),disabled:t.disabled,getApi:d,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},m,n,o),{toggling:{toggleClass:iT,toggleOnExecute:!1,selected:t.active}})},nA=DB,aA=a3,fM=lM,dM=sM,vM=rA,mM=cM,gM=RB,hk;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(hk||(hk={}));var oA=function(t,n,o,c,d){var m=o.shared.providers,h=function(_){return d?J(J({},_),{shortcut:E.none(),icon:_.text.isSome()?E.none():_.icon}):_};switch(t.type){case"menuitem":return UP(t).fold(am,function(_){return E.some(fM(h(_),n,m,c))});case"nestedmenuitem":return WP(t).fold(am,function(_){return E.some(dM(h(_),n,m,c,d))});case"togglemenuitem":return GP(t).fold(am,function(_){return E.some(vM(h(_),n,m,c))});case"separator":return Zb(t).fold(am,function(_){return E.some(aA(_))});case"fancymenuitem":return HP(t).fold(am,function(_){return mM(h(_),o)});default:return console.error("Unknown item in general menu",t),E.none()}},pM=function(t,n,o,c,d,m,h){var _=c===1,C=!_||sk(t);return cr($t(t,function(T){switch(T.type){case"separator":return qE(T).fold(am,function(R){return E.some(aA(R))});case"cardmenuitem":return IP(T).fold(am,function(R){return E.some(gM(J(J({},R),{onAction:function(B){R.onAction(B),o(R.value,R.meta)}}),d,m,{itemBehaviours:c1(R.meta,m),cardText:{matchText:n,highlightOn:h}}))});case"autocompleteitem":default:return GE(T).fold(am,function(R){return E.some(nA(R,n,_,"normal",o,d,m,C))})}}))},iA=function(t,n,o,c,d){var m=sk(n),h=cr($t(n,function(C){var T=function(B){return d?!K(B,"text"):m},R=function(B){return oA(B,o,c,T(B),d)};return C.type==="nestedmenuitem"&&C.getSubmenuItems().length<=0?R(J(J({},C),{disabled:!0})):R(C)})),_=d?RP:vT;return _(t,m,h,1,"normal")},uA=function(t){return uo.singleData(t.value,t)},cA=function(t,n,o,c){var d=o===hk.ContentFocus?E2():Qp(),m=n3(n,c),h=e1(c);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:h.selectedItem,item:h.item},movement:m,fakeFocus:o===hk.ContentFocus,focusManager:d,menuBehaviours:r1.unnamedEvents(n!=="auto"?[]:[sa(function(_,C){hT(_,4,h.item).each(function(T){var R=T.numColumns,B=T.numRows;Tn.setGridSize(_,B,R)})})])}},nd=function(t,n){var o=fi(),c=Nn(!1),d=Io(lo.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Br([la("dismissAutocompleter",[Yt(Js(),function(){return C()})])]),lazySink:n.getSink})),m=function(){return lo.isOpen(d)},h=function(){return o.get().isSome()},_=function(){h()&&lo.hide(d)},C=function(){if(h()){var ce=o.get().map(function(ze){return ze.element});AC(ce.getOr(le.fromDom(t.selection.getNode()))).each(gm),_(),o.clear(),c.set(!1)}},T=Ue(function(){return PC(t)}),R=function(ce,ze){var ht=bt(ze,function(lt){return E.from(lt.columns)}).getOr(1);return gr(ze,function(lt){var Te=lt.items;return pM(Te,lt.matchText,function(tt,Mt){var jr=t.selection.getRng();eT(t.dom,jr,ce).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Gt){var Wr=Gt.range,Jt={hide:function(){C()},reload:function(Pt){_(),ee(Pt)}};c.set(!0),lt.onAction(Jt,Wr,tt,Mt),c.set(!1)})},ht,rd.BUBBLE_TO_SANDBOX,n,lt.highlightOn)})},B=function(ce){if(!h()){var ze=uP(t,ce.range);o.set({triggerChar:ce.triggerChar,element:ze,matchLength:ce.text.length}),c.set(!1)}},U=function(ce,ze,ht,lt){ce.matchLength=ze.text.length;var Te=bt(ht,function(tt){return E.from(tt.columns)}).getOr(1);lo.showAt(d,zn.sketch(cA(vT("autocompleter-value",!0,lt,Te,"normal"),Te,hk.ContentFocus,"normal")),{anchor:{type:"node",root:le.fromDom(t.getBody()),node:E.from(ce.element)}}),lo.getContent(d).each(Ja.highlightFirst)},q=function(ce){return o.get().map(function(ze){return eT(t.dom,t.selection.getRng(),ze.triggerChar).bind(function(ht){return jE(t,T,ht,ce)})}).getOrThunk(function(){return uk(t,T)})},ee=function(ce){q(ce).fold(C,function(ze){B(ze.context),ze.lookupData.then(function(ht){o.get().map(function(lt){var Te=ze.context;if(lt.triggerChar===Te.triggerChar){var tt=R(Te.triggerChar,ht);tt.length>0?U(lt,Te,ht,tt):Te.text.length-lt.matchLength>=10?C():_()}})})})},de=EC(function(ce){ce.which!==27&&ee()},50),Se={onKeypress:de,cancelIfNecessary:C,isMenuOpen:m,isActive:h,isProcessingAction:c.get,getView:function(){return lo.getContent(d)}};t.hasPlugin("rtc")===!1&&tT.setup(Se,t)},Fg={register:nd},yk=function(t,n,o){return Os(t,n,o).isSome()},NT=function(t,n){var o=null,c=function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];o=setTimeout(function(){t.apply(null,m),o=null},n)},d=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:d,schedule:c}},FT=5,o3=400,sA=function(t){var n=t.raw;return n.touches===void 0||n.touches.length!==1?E.none():E.some(n.touches[0])},IT=function(t,n){var o=Math.abs(t.clientX-n.x),c=Math.abs(t.clientY-n.y);return o>FT||c>FT},$T=function(t){var n=fi(),o=Nn(!1),c=NT(function(T){t.triggerEvent(ty(),T),o.set(!0)},o3),d=function(T){return sA(T).each(function(R){c.cancel();var B={x:R.clientX,y:R.clientY,target:T.target};c.schedule(T),o.set(!1),n.set(B)}),E.none()},m=function(T){return c.cancel(),sA(T).each(function(R){n.on(function(B){IT(R,B)&&n.clear()})}),E.none()},h=function(T){c.cancel();var R=function(B){return Ra(B.target,T.target)};return n.get().filter(R).map(function(B){return o.get()?(T.prevent(),!1):t.triggerEvent(kd(),T)})},_=If([{key:Kl(),value:d},{key:Ys(),value:m},{key:bd(),value:h}]),C=function(T,R){return at(_,R).bind(function(B){return B(T)})};return{fireIfReady:C}},LT=function(t){var n=t.raw;return n.which===Cb[0]&&!an(["input","textarea"],me(t.target))&&!yk(t.target,'[contenteditable="true"]')},lA=function(){return dr().browser.isFirefox()},hM=function(t,n){return lA()?Hy(t,"focus",n):pi(t,"focusin",n)},yM=function(t,n){return lA()?Hy(t,"blur",n):pi(t,"focusout",n)},i3=function(t,n){var o=J({stopBackspace:!0},n),c=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=$T(o),m=$t(c.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(q){return pi(t,q,function(ee){d.fireIfReady(ee,q).each(function(Se){Se&&ee.kill()});var de=o.triggerEvent(q,ee);de&&ee.kill()})}),h=fi(),_=pi(t,"paste",function(q){d.fireIfReady(q,"paste").each(function(de){de&&q.kill()});var ee=o.triggerEvent("paste",q);ee&&q.kill(),h.set(setTimeout(function(){o.triggerEvent(J1(),q)},0))}),C=pi(t,"keydown",function(q){var ee=o.triggerEvent("keydown",q);ee?q.kill():o.stopBackspace&&LT(q)&&q.prevent()}),T=hM(t,function(q){var ee=o.triggerEvent("focusin",q);ee&&q.kill()}),R=fi(),B=yM(t,function(q){var ee=o.triggerEvent("focusout",q);ee&&q.kill(),R.set(setTimeout(function(){o.triggerEvent(Z1(),q)},0))}),U=function(){Ye(m,function(q){q.unbind()}),C.unbind(),T.unbind(),B.unbind(),_.unbind(),h.on(clearTimeout),R.on(clearTimeout)};return{unbind:U}},fA=function(t,n){var o=at(t,"target").getOr(n);return Nn(o)},bM=function(t,n){var o=Nn(!1),c=Nn(!1),d=function(){o.set(!0)},m=function(){c.set(!0)};return{stop:d,cut:m,isStopped:o.get,isCut:c.get,event:t,setSource:n.set,getSource:n.get}},wM=function(t){var n=Nn(!1),o=function(){n.set(!0)};return{stop:o,cut:$e,isStopped:n.get,isCut:Dt,event:t,setSource:Le("Cannot set source of a broadcasted event"),getSource:Le("Cannot get source of a broadcasted event")}},d1=us.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),dA=function(t,n,o,c,d,m){var h=t(n,c),_=bM(o,d);return h.fold(function(){return m.logEventNoHandlers(n,c),d1.complete()},function(C){var T=C.descHandler,R=s0(T);return R(_),_.isStopped()?(m.logEventStopped(n,C.element,T.purpose),d1.stopped()):_.isCut()?(m.logEventCut(n,C.element,T.purpose),d1.complete()):Mo(C.element).fold(function(){return m.logNoParent(n,C.element,T.purpose),d1.complete()},function(B){return m.logEventResponse(n,C.element,T.purpose),d1.resume(B)})})},HT=function(t,n,o,c,d,m){return dA(t,n,o,c,d,m).fold(dt,function(h){return HT(t,n,o,h,d,m)},Dt)},kM=function(t,n,o,c,d){var m=fA(o,c);return dA(t,n,o,c,m,d)},_M=function(t,n,o){var c=wM(n);return Ye(t,function(d){var m=d.descHandler,h=s0(m);h(c)}),c.isStopped()},vA=function(t,n,o,c){return mA(t,n,o,o.target,c)},mA=function(t,n,o,c,d){var m=fA(o,c);return HT(t,n,o,c,m,d)},CM=function(t,n){return{element:t,descHandler:n}},gA=function(t,n){return{id:t,descHandler:n}},pA=function(){var t={},n=function(h,_,C){Rr(C,function(T,R){var B=t[R]!==void 0?t[R]:{};B[_]=c0(T,h),t[R]=B})},o=function(h,_){return Td(_).bind(function(C){return at(h,C)}).map(function(C){return CM(_,C)})},c=function(h){return at(t,h).map(function(_){return Gn(_,function(C,T){return gA(T,C)})}).getOr([])},d=function(h,_,C){return at(t,_).bind(function(T){return zm(C,function(R){return o(T,R)},h)})},m=function(h){Rr(t,function(_,C){K(_,h)&&delete _[h]})};return{registerId:n,unregisterId:m,filterByType:c,find:d}},SM=function(){var t=pA(),n={},o=function(T){var R=T.element;return Td(R).getOrThunk(function(){return c_("uid-",T.element)})},c=function(T,R){var B=n[R];if(B===T)m(T);else throw new Error('The tagId "'+R+'" is already used by: '+nc(B.element)+`
Cannot use it for: `+nc(T.element)+`
The conflicting element is`+(Ln(B.element)?" ":" not ")+"already in the DOM")},d=function(T){var R=o(T);Ee(n,R)&&c(T,R);var B=[T];t.registerId(B,R,T.events),n[R]=T},m=function(T){Td(T.element).each(function(R){delete n[R],t.unregisterId(R)})},h=function(T){return t.filterByType(T)},_=function(T,R,B){return t.find(T,R,B)},C=function(T){return at(n,T)};return{find:_,filter:h,register:d,unregister:m,getById:C}},xM=function(t){var n=t.dom,o=n.attributes,c=V(n,["attributes"]);return{uid:t.uid,dom:J({tag:"div",attributes:J({role:"presentation"},o)},c),components:t.components,behaviours:hg(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},dc=hs({name:"Container",factory:xM,configFields:[Ae("components",[]),Vi("containerBehaviours",[]),Ae("events",{}),Ae("domModification",{}),Ae("eventOrder",{})]}),hA=function(t){var n=function(ce){return Mo(t.element).fold(dt,function(ze){return Ra(ce,ze)})},o=SM(),c=function(ce,ze){return o.find(n,ce,ze)},d=i3(t.element,{triggerEvent:function(ce,ze){return p0(ce,ze.target,function(ht){return vA(c,ce,ze,ht)})}}),m={debugInfo:se("real"),triggerEvent:function(ce,ze,ht){p0(ce,ze,function(lt){return mA(c,ce,ht,ze,lt)})},triggerFocus:function(ce,ze){Td(ce).fold(function(){xl(ce)},function(ht){p0(wd(),ce,function(lt){return kM(c,wd(),{originator:ze,kill:$e,prevent:$e,target:ce},ce,lt),!1})})},triggerEscape:function(ce,ze){m.triggerEvent("keydown",ce.element,ze.event)},getByUid:function(ce){return de(ce)},getByDom:function(ce){return Se(ce)},build:Io,addToGui:function(ce){C(ce)},removeFromGui:function(ce){T(ce)},addToWorld:function(ce){h(ce)},removeFromWorld:function(ce){_(ce)},broadcast:function(ce){U(ce)},broadcastOn:function(ce,ze){q(ce,ze)},broadcastEvent:function(ce,ze){ee(ce,ze)},isConnected:dt},h=function(ce){ce.connect(m),X(ce.element)||(o.register(ce),Ye(ce.components(),h),m.triggerEvent(gv(),ce.element,{target:ce.element}))},_=function(ce){X(ce.element)||(Ye(ce.components(),_),o.unregister(ce)),ce.disconnect()},C=function(ce){Fv(t,ce)},T=function(ce){Ol(ce)},R=function(){d.unbind(),yc(t.element)},B=function(ce){var ze=o.filter(Es());Ye(ze,function(ht){var lt=ht.descHandler,Te=s0(lt);Te(ce)})},U=function(ce){B({universal:!0,data:ce})},q=function(ce,ze){B({universal:!1,channels:ce,data:ze})},ee=function(ce,ze){var ht=o.filter(ce);return _M(ht,ze)},de=function(ce){return o.getById(ce).fold(function(){return ma.error(new Error('Could not find component with uid: "'+ce+'" in system.'))},ma.value)},Se=function(ce){var ze=Td(ce).getOr("not found");return de(ze)};return h(t),{root:t,element:t.element,destroy:R,add:C,remove:T,getByUid:de,getByDom:Se,addToWorld:h,removeFromWorld:_,broadcast:U,broadcastOn:q,broadcastEvent:ee}},TM=function(t,n){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:$t(t.items,n.interpreter)}},u3=se([Ae("prefix","form-field"),Vi("fieldBehaviours",[Ta,Ur])]),Yc=se([Ps({schema:[Ut("dom")],name:"label"}),Ps({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ut("text")],name:"aria-descriptor"}),_u({factory:{sketch:function(t){var n=j1(t,["factory"]);return t.factory.sketch(n)}},schema:[Ut("factory")],name:"field"})]),yA=function(t,n,o,c){var d=nu(t.fieldBehaviours,[Ta.config({find:function(_){return vo(_,t,"field")}}),Ur.config({store:{mode:"manual",getValue:function(_){return Ta.getCurrent(_).bind(Ur.getValue)},setValue:function(_,C){Ta.getCurrent(_).each(function(T){Ur.setValue(T,C)})}}})]),m=bo([sa(function(_,C){var T=d2(_,t,["label","field","aria-descriptor"]);T.field().each(function(R){var B=mn(t.prefix);T.label().each(function(U){va(U.element,"for",B),va(R.element,"id",B)}),T["aria-descriptor"]().each(function(U){var q=mn(t.prefix);va(U.element,"id",q),va(R.element,"aria-describedby",q)})})})]),h={getField:function(_){return vo(_,t,"field")},getLabel:function(_){return vo(_,t,"label")}};return{uid:t.uid,dom:t.dom,components:n,behaviours:d,events:m,apis:h}},Xa=lc({name:"FormField",configFields:u3(),partFields:Yc(),factory:yA,apis:{getField:function(t,n){return t.getField(n)},getLabel:function(t,n){return t.getLabel(n)}}}),zM=function(t,n){return el({attributes:If([{key:n.tabAttr,value:"true"}])})},EM=Object.freeze({__proto__:null,exhibit:zM}),AM=[Ae("tabAttr","data-alloy-tabstop")],hi=Hi({fields:AM,name:"tabstopping",active:EM}),bA=tinymce.util.Tools.resolve("tinymce.html.Entities"),bk=function(t,n,o,c){var d=wA(t,n,o,c);return Xa.sketch(d)},OM=function(t,n){return bk(t,n,[],[])},wA=function(t,n,o,c){return{dom:VT(o),components:t.toArray().concat([n]),fieldBehaviours:Br(c)}},DM=function(){return VT([])},VT=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},um=function(t,n){return Xa.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(t)}})},$s=mn("form-component-change"),wk=mn("form-close"),xh=mn("form-cancel"),rv=mn("form-action"),kk=mn("form-submit"),UT=mn("form-block"),jT=mn("form-unblock"),Ig=mn("form-tabchange"),kA=mn("form-resize"),RM=function(t,n){var o,c=t.label.map(function(B){return um(B,n)}),d=function(B){return function(U,q){Os(q.event.target,"[data-collection-item-value]").each(function(ee){B(U,q,ee,No(ee,"data-collection-item-value"))})}},m=function(B,U){var q=$t(U,function(Se){var ce=pf.translate(Se.text),ze=t.columns===1?'<div class="tox-collection__item-label">'+ce+"</div>":"",ht='<div class="tox-collection__item-icon">'+Se.icon+"</div>",lt={_:" "," - ":" ","-":" "},Te=ce.replace(/\_| \- |\-/g,function(Mt){return lt[Mt]}),tt=n.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+tt+'" tabindex="-1" data-collection-item-value="'+bA.encodeAllRaw(Se.value)+'" title="'+Te+'" aria-label="'+Te+'">'+ht+ze+"</div>"}),ee=t.columns!=="auto"&&t.columns>1?La(q,t.columns):[q],de=$t(ee,function(Se){return'<div class="tox-collection__group">'+Se.join("")+"</div>"});Hf(B.element,de.join(""))},h=d(function(B,U,q,ee){U.stop(),n.isDisabled()||Fn(B,rv,{name:t.name,value:ee})}),_=[Yt($f(),d(function(B,U,q){xl(q)})),Yt(Om(),h),Yt(kd(),h),Yt(zs(),d(function(B,U,q){Ii(B.element,"."+kh).each(function(ee){Ti(ee,kh)}),Fi(q,kh)})),Yt(mu(),d(function(B){Ii(B.element,"."+kh).each(function(U){Ti(U,kh)})})),Wc(d(function(B,U,q,ee){Fn(B,rv,{name:t.name,value:ee})}))],C=function(B,U){return $t(Wu(B.element,".tox-collection__item"),U)},T=Xa.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:or},behaviours:Br([Mn.config({disabled:n.isDisabled,onDisabled:function(B){C(B,function(U){Fi(U,"tox-collection__item--state-disabled"),va(U,"aria-disabled",!0)})},onEnabled:function(B){C(B,function(U){Ti(U,"tox-collection__item--state-disabled"),Qi(U,"aria-disabled")})}}),Xi(),Jn.config({}),Ur.config({store:{mode:"memory",initialValue:[]},onSetValue:function(B,U){m(B,U),t.columns==="auto"&&hT(B,5,"tox-collection__item").each(function(q){var ee=q.numRows,de=q.numColumns;Tn.setGridSize(B,ee,de)}),Ua(B,kA)}}),hi.config({}),Tn.config(J4(t.columns,"normal")),la("collection-events",_)]),eventOrder:(o={},o[cs()]=["disabling","alloy.base.behaviour","collection-events"],o)}),R=["tox-form__group--collection"];return bk(c,T,R,[])},cm=se([Ga("data"),Ae("inputAttributes",{}),Ae("inputStyles",{}),Ae("tag","input"),Ae("inputClasses",[]),Ka("onSetValue"),Ae("styles",{}),Ae("eventOrder",{}),Vi("inputBehaviours",[Ur,Qn]),Ae("selectOnFocus",!0)]),_A=function(t){return Br([Qn.config({onFocus:t.selectOnFocus?function(n){var o=n.element,c=Ql(o);o.dom.setSelectionRange(0,c.length)}:$e})])},PM=function(t){return J(J({},_A(t)),nu(t.inputBehaviours,[Ur.config({store:J(J({mode:"manual"},t.data.map(function(n){return{initialValue:n}}).getOr({})),{getValue:function(n){return Ql(n.element)},setValue:function(n,o){var c=Ql(n.element);c!==o&&Im(n.element,o)}}),onSetValue:t.onSetValue})]))},cl=function(t){return{tag:t.tag,attributes:J({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},CA=function(t,n){return{uid:t.uid,dom:cl(t),components:[],behaviours:PM(t),eventOrder:t.eventOrder}},v1=hs({name:"Input",configFields:cm(),factory:CA}),SA={},xA={exports:SA};(function(t,n,o,c){(function(d,m){typeof n=="object"&&typeof o<"u"?o.exports=m():(d=typeof globalThis<"u"?globalThis:d||self,d.EphoxContactWrapper=m())})(this,function(){var d=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N1<"u"?N1:typeof self<"u"?self:{},m={exports:{}};(function(T){(function(R){var B=setTimeout;function U(){}function q(Te,tt){return function(){Te.apply(tt,arguments)}}function ee(Te){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Te!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],lt(Te,this)}function de(Te,tt){for(;Te._state===3;)Te=Te._value;if(Te._state===0){Te._deferreds.push(tt);return}Te._handled=!0,ee._immediateFn(function(){var Mt=Te._state===1?tt.onFulfilled:tt.onRejected;if(Mt===null){(Te._state===1?Se:ce)(tt.promise,Te._value);return}var jr;try{jr=Mt(Te._value)}catch(Gt){ce(tt.promise,Gt);return}Se(tt.promise,jr)})}function Se(Te,tt){try{if(tt===Te)throw new TypeError("A promise cannot be resolved with itself.");if(tt&&(typeof tt=="object"||typeof tt=="function")){var Mt=tt.then;if(tt instanceof ee){Te._state=3,Te._value=tt,ze(Te);return}else if(typeof Mt=="function"){lt(q(Mt,tt),Te);return}}Te._state=1,Te._value=tt,ze(Te)}catch(jr){ce(Te,jr)}}function ce(Te,tt){Te._state=2,Te._value=tt,ze(Te)}function ze(Te){Te._state===2&&Te._deferreds.length===0&&ee._immediateFn(function(){Te._handled||ee._unhandledRejectionFn(Te._value)});for(var tt=0,Mt=Te._deferreds.length;tt<Mt;tt++)de(Te,Te._deferreds[tt]);Te._deferreds=null}function ht(Te,tt,Mt){this.onFulfilled=typeof Te=="function"?Te:null,this.onRejected=typeof tt=="function"?tt:null,this.promise=Mt}function lt(Te,tt){var Mt=!1;try{Te(function(jr){Mt||(Mt=!0,Se(tt,jr))},function(jr){Mt||(Mt=!0,ce(tt,jr))})}catch(jr){if(Mt)return;Mt=!0,ce(tt,jr)}}ee.prototype.catch=function(Te){return this.then(null,Te)},ee.prototype.then=function(Te,tt){var Mt=new this.constructor(U);return de(this,new ht(Te,tt,Mt)),Mt},ee.all=function(Te){var tt=Array.prototype.slice.call(Te);return new ee(function(Mt,jr){if(tt.length===0)return Mt([]);var Gt=tt.length;function Wr(Pt,Er){try{if(Er&&(typeof Er=="object"||typeof Er=="function")){var gn=Er.then;if(typeof gn=="function"){gn.call(Er,function(Wt){Wr(Pt,Wt)},jr);return}}tt[Pt]=Er,--Gt===0&&Mt(tt)}catch(Wt){jr(Wt)}}for(var Jt=0;Jt<tt.length;Jt++)Wr(Jt,tt[Jt])})},ee.resolve=function(Te){return Te&&typeof Te=="object"&&Te.constructor===ee?Te:new ee(function(tt){tt(Te)})},ee.reject=function(Te){return new ee(function(tt,Mt){Mt(Te)})},ee.race=function(Te){return new ee(function(tt,Mt){for(var jr=0,Gt=Te.length;jr<Gt;jr++)Te[jr].then(tt,Mt)})},ee._immediateFn=typeof setImmediate=="function"?function(Te){setImmediate(Te)}:function(Te){B(Te,0)},ee._unhandledRejectionFn=function(tt){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",tt)},ee._setImmediateFn=function(tt){ee._immediateFn=tt},ee._setUnhandledRejectionFn=function(tt){ee._unhandledRejectionFn=tt},T.exports?T.exports=ee:R.Promise||(R.Promise=ee)})(d)})(m);var h=m.exports,_=function(){return typeof window<"u"?window:Function("return this;")()}(),C={boltExport:_.Promise||h};return C})})(void 0,SA,xA);var yf=xA.exports.boltExport,WT=function(t){var n=E.none(),o=[],c=function(T){return WT(function(R){d(function(B){R(T(B))})})},d=function(T){h()?C(T):o.push(T)},m=function(T){h()||(n=E.some(T),_(o),o=[])},h=function(){return n.isSome()},_=function(T){Ye(T,C)},C=function(T){n.each(function(R){setTimeout(function(){T(R)},0)})};return t(m),{get:d,map:c,isReady:h}},TA=function(t){return WT(function(n){n(t)})},BM={nu:WT,pure:TA},MM=function(t){setTimeout(function(){throw t},0)},m1=function(t){var n=function(C){t().then(C,MM)},o=function(C){return m1(function(){return t().then(C)})},c=function(C){return m1(function(){return t().then(function(T){return C(T).toPromise()})})},d=function(C){return m1(function(){return t().then(function(){return C.toPromise()})})},m=function(){return BM.nu(n)},h=function(){var C=null;return m1(function(){return C===null&&(C=t()),C})},_=t;return{map:o,bind:c,anonBind:d,toLazy:m,toCached:h,toPromise:_,get:n}},qT=function(t){return m1(function(){return new yf(t)})},NM=function(t){return m1(function(){return yf.resolve(t)})},Ku={nu:qT,pure:NM},FM=["input","textarea"],zA=function(t){var n=me(t);return an(FM,n)},EA=function(t,n){var o=n.getRoot(t).getOr(t.element);Ti(o,n.invalidClass),n.notify.each(function(c){zA(t.element)&&va(t.element,"aria-invalid",!1),c.getContainer(t).each(function(d){Hf(d,c.validHtml)}),c.onValid(t)})},AA=function(t,n,o,c){var d=n.getRoot(t).getOr(t.element);Fi(d,n.invalidClass),n.notify.each(function(m){zA(t.element)&&va(t.element,"aria-invalid",!0),m.getContainer(t).each(function(h){Hf(h,c)}),m.onInvalid(t,c)})},OA=function(t,n,o){return n.validator.fold(function(){return Ku.pure(ma.value(!0))},function(c){return c.validate(t)})},c3=function(t,n,o){return n.notify.each(function(c){c.onValidate(t)}),OA(t,n).map(function(c){return t.getSystem().isConnected()?c.fold(function(d){return AA(t,n,o,d),ma.error(d)},function(d){return EA(t,n),ma.value(d)}):ma.error("No longer in system")})},DA=function(t,n){var o=n.getRoot(t).getOr(t.element);return ac(o,n.invalidClass)},IM=Object.freeze({__proto__:null,markValid:EA,markInvalid:AA,query:OA,run:c3,isInvalid:DA}),$M=function(t,n){return t.validator.map(function(o){return bo([Yt(o.onEvent,function(c){c3(c,t,n).get(or)})].concat(o.validateOnLoad?[sa(function(c){c3(c,t,n).get($e)})]:[]))}).getOr({})},LM=Object.freeze({__proto__:null,events:$M}),HM=[Ut("invalidClass"),Ae("getRoot",E.none),Uc("notify",[Ae("aria","alert"),Ae("getContainer",E.none),Ae("validHtml",""),Ka("onValid"),Ka("onInvalid"),Ka("onValidate")]),Uc("validator",[Ut("validate"),Ae("onEvent","input"),Ae("validateOnLoad",!0)])],nv=Hi({fields:HM,name:"invalidating",active:LM,apis:IM,extra:{validation:function(t){return function(n){var o=Ur.getValue(n);return Ku.pure(t(o))}}}}),RA=function(t,n,o,c){return o.getOrCreate(t,n,c)},PA=Object.freeze({__proto__:null,getCoupled:RA}),BA=[kc("others",Pu(ma.value,Gs()))],s3=function(){var t={},n=function(c,d,m){var h=zt(d.others);if(h)return at(t,m).getOrThunk(function(){var _=at(d.others,m).getOrDie("No information found for coupled component: "+m),C=_(c),T=c.getSystem().build(C);return t[m]=T,T});throw new Error("Cannot find coupled component: "+m+". Known coupled components: "+JSON.stringify(h,null,2))},o=se({});return Nu({readState:o,getOrCreate:n})},VM=Object.freeze({__proto__:null,init:s3}),_i=Hi({fields:BA,name:"coupling",apis:PA,state:VM}),MA=se("sink"),NA=se(Ps({name:MA(),overrides:se({dom:{tag:"div"},behaviours:Br([di.config({useFixed:dt})]),events:bo([hv(Qh()),hv(Zs()),hv(Om())])})})),ad;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(ad||(ad={}));var FA=function(t,n){var o=t.getHotspot(n).getOr(n),c="hotspot",d=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:c,hotspot:o,overrides:d}},function(m){return{type:c,hotspot:o,overrides:d,layouts:m}})},l3=function(t,n,o){var c=t.fetch;return c(o).map(n)},UM=function(t,n,o,c,d,m,h){var _=l3(t,n,c),C=KT(c,t);return _.map(function(T){return T.bind(function(R){return E.from(uo.sketch(J(J({},m.menu()),{uid:zd(""),data:R,highlightImmediately:h===ad.HighlightFirst,onOpenMenu:function(B,U){var q=C().getOrDie();di.position(q,U,{anchor:o}),Pa.decloak(d)},onOpenSubmenu:function(B,U,q){var ee=C().getOrDie();di.position(ee,q,{anchor:{type:"submenu",item:U}}),Pa.decloak(d)},onRepositionMenu:function(B,U,q){var ee=C().getOrDie();di.position(ee,U,{anchor:o}),Ye(q,function(de){di.position(ee,de.triggeredMenu,{anchor:{type:"submenu",item:de.triggeringItem}})})},onEscape:function(){return Qn.focus(c),Pa.close(d),E.some(!0)}})))})})},GT=function(t,n,o,c,d,m,h){var _=FA(t,o),C=UM(t,n,_,o,c,d,h);return C.map(function(T){return T.fold(function(){Pa.isOpen(c)&&Pa.close(c)},function(R){Pa.cloak(c),Pa.open(c,R),m(c)}),c})},sm=function(t,n,o,c,d,m,h){return Pa.close(c),Ku.pure(c)},g1=function(t,n,o,c,d,m){var h=_i.getCoupled(o,"sandbox"),_=Pa.isOpen(h),C=_?sm:GT;return C(t,n,o,h,c,d,m)},p1=function(t,n,o){var c=Ta.getCurrent(n).getOr(n),d=Ou(t.element);o?Xn(c.element,"min-width",d+"px"):gl(c.element,d)},KT=function(t,n){return t.getSystem().getByUid(n.uid+"-"+MA()).map(function(o){return function(){return ma.value(o)}}).getOrThunk(function(){return n.lazySink.fold(function(){return function(){return ma.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},f3=function(t){Pa.getState(t).each(function(n){uo.repositionMenus(n)})},XT=function(t,n,o){var c=Cv(),d=function(_,C){var T=FA(t,n);c.link(n.element),t.matchWidth&&p1(T.hotspot,C,t.useMinWidth),t.onOpen(T,_,C),o!==void 0&&o.onOpen!==void 0&&o.onOpen(_,C)},m=function(_,C){c.unlink(n.element),o!==void 0&&o.onClose!==void 0&&o.onClose(_,C)},h=KT(n,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:c.id,role:"listbox"}},behaviours:Rs.augment(t.sandboxBehaviours,[Ur.config({store:{mode:"memory",initialValue:n}}),Pa.config({onOpen:d,onClose:m,isPartOf:function(_,C,T){return Sv(C,T)||Sv(n,T)},getAttachPoint:function(){return h().getOrDie()}}),Ta.config({find:function(_){return Pa.getState(_).bind(function(C){return Ta.getCurrent(C)})}}),Uu.config({channels:J(J({},Ec({isExtraPart:Dt})),Lv({doReposition:f3}))})])}},IA=function(t){var n=_i.getCoupled(t,"sandbox");f3(n)},YT=function(){return[Ae("sandboxClasses",[]),Rs.field("sandboxBehaviours",[Ta,Uu,Pa,Ur])]},$A=se([Ut("dom"),Ut("fetch"),Ka("onOpen"),$i("onExecute"),Ae("getHotspot",E.some),Ae("getAnchorOverrides",se({})),Fd(),Vi("dropdownBehaviours",[Oa,_i,Tn,Qn]),Ut("toggleClass"),Ae("eventOrder",{}),Ga("lazySink"),Ae("matchWidth",!1),Ae("useMinWidth",!1),Ga("role")].concat(YT())),jM=se([ps({schema:[xv()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),NA()]),d3=function(t,n,o,c){var d,m=function(R){return at(t.dom,"attributes").bind(function(B){return at(B,R)})},h=function(R){Pa.getState(R).each(function(B){uo.highlightPrimary(B)})},_=function(R){var B=h;g1(t,or,R,c,B,ad.HighlightFirst).get($e)},C={expand:function(R){Oa.isOn(R)||g1(t,or,R,c,$e,ad.HighlightNone).get($e)},open:function(R){Oa.isOn(R)||g1(t,or,R,c,$e,ad.HighlightFirst).get($e)},isOpen:Oa.isOn,close:function(R){Oa.isOn(R)&&g1(t,or,R,c,$e,ad.HighlightFirst).get($e)},repositionMenus:function(R){Oa.isOn(R)&&IA(R)}},T=function(R,B){return ls(R),E.some(!0)};return{uid:t.uid,dom:t.dom,components:n,behaviours:nu(t.dropdownBehaviours,[Oa.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),_i.config({others:{sandbox:function(R){return XT(t,R,{onOpen:function(){return Oa.on(R)},onClose:function(){return Oa.off(R)}})}}}),Tn.config({mode:"special",onSpace:T,onEnter:T,onDown:function(R,B){if(bf.isOpen(R)){var U=_i.getCoupled(R,"sandbox");h(U)}else bf.open(R);return E.some(!0)},onEscape:function(R,B){return bf.isOpen(R)?(bf.close(R),E.some(!0)):E.none()}}),Qn.config({})]),events:Wb(E.some(_)),eventOrder:J(J({},t.eventOrder),(d={},d[cs()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:C,domModification:{attributes:J(J({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(R){return{role:R}})),t.dom.tag==="button"?{type:m("type").getOr("button")}:{})}}},bf=lc({name:"Dropdown",configFields:$A(),partFields:jM(),factory:d3,apis:{open:function(t,n){return t.open(n)},expand:function(t,n){return t.expand(n)},close:function(t,n){return t.close(n)},isOpen:function(t,n){return t.isOpen(n)},repositionMenus:function(t,n){return t.repositionMenus(n)}}}),sl=function(){return el({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},WM=function(){return bo([r0(OS(),dt)])},qM=Object.freeze({__proto__:null,events:WM,exhibit:sl}),h1=Hi({fields:[],name:"unselecting",active:qM}),LA=function(t,n){return bf.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Br([Ml.button(n.providers.isDisabled),Xi(),h1.config({}),hi.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:n.getSink,fetch:function(o){return Ku.nu(function(c){return t.fetch(c)}).map(function(c){return E.from(uA(xt(f1(mn("menu-value"),c,function(d){t.onItemAction(o,d)},t.columns,t.presets,rd.CLOSE_ON_EXECUTE,Dt,n.providers),{movement:n3(t.columns,t.presets)})))})},parts:{menu:NC(!1,1,t.presets)}})},HA=mn("color-input-change"),VA=mn("color-swatch-change"),UA=mn("color-picker-cancel"),GM=function(t,n,o){var c=Xa.parts.field({factory:v1,inputClasses:["tox-textfield"],onSetValue:function(C){return nv.run(C).get($e)},inputBehaviours:Br([Mn.config({disabled:n.providers.isDisabled}),Xi(),hi.config({}),nv.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(C){return Mo(C.element)},notify:{onValid:function(C){var T=Ur.getValue(C);Fn(C,HA,{color:T})}},validator:{validateOnLoad:!1,validate:function(C){var T=Ur.getValue(C);if(T.length===0)return Ku.pure(ma.value(!0));var R=le.fromTag("span");Xn(R,"background-color",T);var B=bi(R,"background-color").fold(function(){return ma.error("blah")},function(U){return ma.value(T)});return Ku.pure(B)}}})]),selectOnFocus:!1}),d=t.label.map(function(C){return um(C,n.providers)}),m=function(C,T){Fn(C,VA,{value:T})},h=function(C,T){_.getOpt(C).each(function(R){T==="custom"?o.colorPicker(function(B){B.fold(function(){return Ua(R,UA)},function(U){m(R,U),q4(U)})},"#ffffff"):T==="remove"?m(R,""):m(R,T)})},_=ro(LA({dom:{tag:"span",attributes:{"aria-label":n.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Gi,Fu,zi]},onLtr:function(){return[Fu,Gi,zi]}},components:[],fetch:X4(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:h},n));return Xa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[c,_.asSpec()]}]),fieldBehaviours:Br([la("form-field-events",[Yt(HA,function(C,T){_.getOpt(C).each(function(R){Xn(R.element,"background-color",T.event.color)}),Fn(C,$s,{name:t.name})}),Yt(VA,function(C,T){Xa.getField(C).each(function(R){Ur.setValue(R,T.event.value),Ta.getCurrent(C).each(Qn.focus)})}),Yt(UA,function(C,T){Xa.getField(C).each(function(R){Ta.getCurrent(C).each(Qn.focus)})})])])})},KM=Ps({schema:[Ut("dom")],name:"label"}),$g=function(t){return Ps({name:""+t+"-edge",overrides:function(n){var o=n.model.manager.edgeActions[t];return o.fold(function(){return{}},function(c){return{events:bo([n0(Kl(),function(d,m,h){return c(d,h)},[n]),n0(Zs(),function(d,m,h){return c(d,h)},[n]),n0(dv(),function(d,m,h){h.mouseIsDown.get()&&c(d,h)},[n])])}})}})},XM=$g("top-left"),jA=$g("top"),YM=$g("top-right"),ZM=$g("right"),JM=$g("bottom-right"),WA=$g("bottom"),v3=$g("bottom-left"),QM=$g("left"),m3=_u({name:"thumb",defaults:se({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:bo([pv(Kl(),t,"spectrum"),pv(Ys(),t,"spectrum"),pv(bd(),t,"spectrum"),pv(Zs(),t,"spectrum"),pv(dv(),t,"spectrum"),pv(K1(),t,"spectrum")])}}}),y1=_u({schema:[tc("mouseIsDown",function(){return Nn(!1)})],name:"spectrum",overrides:function(t){var n=t.model,o=n.manager,c=function(d,m){return o.getValueFromEvent(m).map(function(h){return o.setValueFrom(d,t,h)})};return{behaviours:Br([Tn.config({mode:"special",onLeft:function(d){return o.onLeft(d,t)},onRight:function(d){return o.onRight(d,t)},onUp:function(d){return o.onUp(d,t)},onDown:function(d){return o.onDown(d,t)}}),Qn.config({})]),events:bo([Yt(Kl(),c),Yt(Ys(),c),Yt(Zs(),c),Yt(dv(),function(d,m){t.mouseIsDown.get()&&c(d,m)})])}}}),qA=[KM,QM,ZM,jA,WA,XM,YM,v3,JM,m3,y1],GA="slider.change.value",b1=se(GA),e5=function(t){return t.type.indexOf("touch")!==-1},ZT=function(t){var n=t.event.raw;if(e5(n)){var o=n;return o.touches!==void 0&&o.touches.length===1?E.some(o.touches[0]).map(function(d){return po(d.clientX,d.clientY)}):E.none()}else{var c=n;return c.clientX!==void 0?E.some(c).map(function(d){return po(d.clientX,d.clientY)}):E.none()}},g3="top",t5="right",r5="bottom",KA="left",Lg=function(t){return t.model.minX},lm=function(t){return t.model.minY},_k=function(t){return t.model.minX-1},Xu=function(t){return t.model.minY-1},Hg=function(t){return t.model.maxX},Th=function(t){return t.model.maxY},p3=function(t){return t.model.maxX+1},Ck=function(t){return t.model.maxY+1},XA=function(t,n,o){return n(t)-o(t)},JT=function(t){return XA(t,Hg,Lg)},QT=function(t){return XA(t,Th,lm)},ez=function(t){return JT(t)/2},od=function(t){return QT(t)/2},Vg=function(t){return t.stepSize},tz=function(t){return t.snapToGrid},Sk=function(t){return t.snapStart},h3=function(t){return t.rounded},y3=function(t,n){return t[n+"-edge"]!==void 0},YA=function(t){return y3(t,KA)},ZA=function(t){return y3(t,t5)},JA=function(t){return y3(t,g3)},QA=function(t){return y3(t,r5)},id=function(t){return t.model.value.get()},eO=function(t){return{x:t}},rz=function(t){return{y:t}},Ug=function(t,n){return{x:t,y:n}},$u=function(t,n){Fn(t,b1(),{value:n})},b3=function(t,n){$u(t,Ug(_k(n),Xu(n)))},n5=function(t,n){$u(t,rz(Xu(n)))},a5=function(t,n){$u(t,Ug(ez(n),Xu(n)))},tO=function(t,n){$u(t,Ug(p3(n),Xu(n)))},rO=function(t,n){$u(t,eO(p3(n)))},nz=function(t,n){$u(t,Ug(p3(n),od(n)))},nO=function(t,n){$u(t,Ug(p3(n),Ck(n)))},xk=function(t,n){$u(t,rz(Ck(n)))},Tk=function(t,n){$u(t,Ug(ez(n),Ck(n)))},o5=function(t,n){$u(t,Ug(_k(n),Ck(n)))},i5=function(t,n){$u(t,eO(_k(n)))},u5=function(t,n){$u(t,Ug(_k(n),od(n)))},az=function(t,n,o,c){return t<n?t:t>o?o:t===n?n-1:Math.max(n,t-c)},oz=function(t,n,o,c){return t>o?t:t<n?n:t===o?o+1:Math.min(o,t+c)},aO=function(t,n,o){return Math.max(n,Math.min(o,t))},c5=function(t,n,o,c,d){return d.fold(function(){var m=t-n,h=Math.round(m/c)*c;return aO(n+h,n-1,o+1)},function(m){var h=(t-m)%c,_=Math.round(h/c),C=Math.floor((t-m)/c),T=Math.floor((o-m)/c),R=Math.min(T,C+_),B=m+R*c;return Math.max(m,B)})},iz=function(t,n,o){return Math.min(o,Math.max(t,n))-n},jg=function(t){var n=t.min,o=t.max,c=t.range,d=t.value,m=t.step,h=t.snap,_=t.snapStart,C=t.rounded,T=t.hasMinEdge,R=t.hasMaxEdge,B=t.minBound,U=t.maxBound,q=t.screenRange,ee=T?n-1:n,de=R?o+1:o;if(d<B)return ee;if(d>U)return de;var Se=iz(d,B,U),ce=aO(Se/q*c+n,ee,de);return h&&ce>=n&&ce<=o?c5(ce,n,o,m,_):C?Math.round(ce):ce},oO=function(t){var n=t.min,o=t.max,c=t.range,d=t.value,m=t.hasMinEdge,h=t.hasMaxEdge,_=t.maxBound,C=t.maxOffset,T=t.centerMinEdge,R=t.centerMaxEdge;return d<n?m?0:T:d>o?h?_:R:(d-n)/c*C},w3="top",iO="right",uO="bottom",uz="left",s5="width",l5="height",ud=function(t){return t.element.dom.getBoundingClientRect()},ll=function(t,n){return t[n]},k3=function(t){var n=ud(t);return ll(n,uz)},cz=function(t){var n=ud(t);return ll(n,iO)},w1=function(t){var n=ud(t);return ll(n,w3)},_3=function(t){var n=ud(t);return ll(n,uO)},sz=function(t){var n=ud(t);return ll(n,s5)},cO=function(t){var n=ud(t);return ll(n,l5)},sO=function(t,n,o){return(t+n)/2-o},zk=function(t,n){var o=ud(t),c=ud(n),d=ll(o,uz),m=ll(o,iO),h=ll(c,uz);return sO(d,m,h)},lz=function(t,n){var o=ud(t),c=ud(n),d=ll(o,w3),m=ll(o,uO),h=ll(c,w3);return sO(d,m,h)},C3=function(t,n){Fn(t,b1(),{value:n})},S3=function(t){return{x:t}},fz=function(t,n,o){var c={min:Lg(n),max:Hg(n),range:JT(n),value:o,step:Vg(n),snap:tz(n),snapStart:Sk(n),rounded:h3(n),hasMinEdge:YA(n),hasMaxEdge:ZA(n),minBound:k3(t),maxBound:cz(t),screenRange:sz(t)};return jg(c)},f5=function(t,n,o){var c=fz(t,n,o),d=S3(c);return C3(t,d),c},fm=function(t,n){var o=Lg(n);C3(t,S3(o))},dz=function(t,n){var o=Hg(n);C3(t,S3(o))},lO=function(t,n,o){var c=t>0?oz:az,d=c(id(o).x,Lg(o),Hg(o),Vg(o));return C3(n,S3(d)),E.some(d)},vz=function(t){return function(n,o){return lO(t,n,o).map(dt)}},mz=function(t){var n=ZT(t);return n.map(function(o){return o.left})},fO=function(t,n,o,c,d){var m=0,h=sz(t),_=c.bind(function(R){return E.some(zk(R,t))}).getOr(m),C=d.bind(function(R){return E.some(zk(R,t))}).getOr(h),T={min:Lg(n),max:Hg(n),range:JT(n),value:o,hasMinEdge:YA(n),hasMaxEdge:ZA(n),minBound:k3(t),maxBound:cz(t),maxOffset:h,centerMinEdge:_,centerMaxEdge:C};return oO(T)},k1=function(t,n,o,c,d,m){var h=fO(n,m,o,c,d);return k3(n)-k3(t)+h},dO=function(t,n,o,c){var d=id(o),m=k1(t,c.getSpectrum(t),d.x,c.getLeftEdge(t),c.getRightEdge(t),o),h=Ou(n.element)/2;Xn(n.element,"left",m-h+"px")},vO=vz(-1),d5=vz(1),v5=E.none,m5=E.none,g5={"top-left":E.none(),top:E.none(),"top-right":E.none(),right:E.some(rO),"bottom-right":E.none(),bottom:E.none(),"bottom-left":E.none(),left:E.some(i5)},mO=Object.freeze({__proto__:null,setValueFrom:f5,setToMin:fm,setToMax:dz,findValueOfOffset:fz,getValueFromEvent:mz,findPositionOfValue:k1,setPositionFromValue:dO,onLeft:vO,onRight:d5,onUp:v5,onDown:m5,edgeActions:g5}),Ek=function(t,n){Fn(t,b1(),{value:n})},x3=function(t){return{y:t}},gz=function(t,n,o){var c={min:lm(n),max:Th(n),range:QT(n),value:o,step:Vg(n),snap:tz(n),snapStart:Sk(n),rounded:h3(n),hasMinEdge:JA(n),hasMaxEdge:QA(n),minBound:w1(t),maxBound:_3(t),screenRange:cO(t)};return jg(c)},p5=function(t,n,o){var c=gz(t,n,o),d=x3(c);return Ek(t,d),c},T3=function(t,n){var o=lm(n);Ek(t,x3(o))},h5=function(t,n){var o=Th(n);Ek(t,x3(o))},y5=function(t,n,o){var c=t>0?oz:az,d=c(id(o).y,lm(o),Th(o),Vg(o));return Ek(n,x3(d)),E.some(d)},pz=function(t){return function(n,o){return y5(t,n,o).map(dt)}},gO=function(t){var n=ZT(t);return n.map(function(o){return o.top})},b5=function(t,n,o,c,d){var m=0,h=cO(t),_=c.bind(function(R){return E.some(lz(R,t))}).getOr(m),C=d.bind(function(R){return E.some(lz(R,t))}).getOr(h),T={min:lm(n),max:Th(n),range:QT(n),value:o,hasMinEdge:JA(n),hasMaxEdge:QA(n),minBound:w1(t),maxBound:_3(t),maxOffset:h,centerMinEdge:_,centerMaxEdge:C};return oO(T)},hz=function(t,n,o,c,d,m){var h=b5(n,m,o,c,d);return w1(n)-w1(t)+h},z3=function(t,n,o,c){var d=id(o),m=hz(t,c.getSpectrum(t),d.y,c.getTopEdge(t),c.getBottomEdge(t),o),h=Si(n.element)/2;Xn(n.element,"top",m-h+"px")},w5=E.none,k5=E.none,_5=pz(-1),C5=pz(1),E3={"top-left":E.none(),top:E.some(n5),"top-right":E.none(),right:E.none(),"bottom-right":E.none(),bottom:E.some(xk),"bottom-left":E.none(),left:E.none()},yz=Object.freeze({__proto__:null,setValueFrom:p5,setToMin:T3,setToMax:h5,findValueOfOffset:gz,getValueFromEvent:gO,findPositionOfValue:hz,setPositionFromValue:z3,onLeft:w5,onRight:k5,onUp:_5,onDown:C5,edgeActions:E3}),A3=function(t,n){Fn(t,b1(),{value:n})},O3=function(t,n){return{x:t,y:n}},D3=function(t,n,o){var c=fz(t,n,o.left),d=gz(t,n,o.top),m=O3(c,d);return A3(t,m),m},S5=function(t,n,o,c){var d=t>0?oz:az,m=n?id(c).x:d(id(c).x,Lg(c),Hg(c),Vg(c)),h=n?d(id(c).y,lm(c),Th(c),Vg(c)):id(c).y;return A3(o,O3(m,h)),E.some(m)},_1=function(t,n){return function(o,c){return S5(t,n,o,c).map(dt)}},pO=function(t,n){var o=Lg(n),c=lm(n);A3(t,O3(o,c))},x5=function(t,n){var o=Hg(n),c=Th(n);A3(t,O3(o,c))},T5=function(t){return ZT(t)},hO=function(t,n,o,c){var d=id(o),m=k1(t,c.getSpectrum(t),d.x,c.getLeftEdge(t),c.getRightEdge(t),o),h=hz(t,c.getSpectrum(t),d.y,c.getTopEdge(t),c.getBottomEdge(t),o),_=Ou(n.element)/2,C=Si(n.element)/2;Xn(n.element,"left",m-_+"px"),Xn(n.element,"top",h-C+"px")},yO=_1(-1,!1),z5=_1(1,!1),bO=_1(-1,!0),wO=_1(1,!0),kO={"top-left":E.some(b3),top:E.some(a5),"top-right":E.some(tO),right:E.some(nz),"bottom-right":E.some(nO),bottom:E.some(Tk),"bottom-left":E.some(o5),left:E.some(u5)},_O=Object.freeze({__proto__:null,setValueFrom:D3,setToMin:pO,setToMax:x5,getValueFromEvent:T5,setPositionFromValue:hO,onLeft:yO,onRight:z5,onUp:bO,onDown:wO,edgeActions:kO}),E5=[Ae("stepSize",1),Ae("onChange",$e),Ae("onChoose",$e),Ae("onInit",$e),Ae("onDragStart",$e),Ae("onDragEnd",$e),Ae("snapToGrid",!1),Ae("rounded",!0),Ga("snapStart"),kc("model",Ts("mode",{x:[Ae("minX",0),Ae("maxX",100),tc("value",function(t){return Nn(t.mode.minX)}),Ut("getInitialValue"),_o("manager",mO)],y:[Ae("minY",0),Ae("maxY",100),tc("value",function(t){return Nn(t.mode.minY)}),Ut("getInitialValue"),_o("manager",yz)],xy:[Ae("minX",0),Ae("maxX",100),Ae("minY",0),Ae("maxY",100),tc("value",function(t){return Nn({x:t.mode.minX,y:t.mode.minY})}),Ut("getInitialValue"),_o("manager",_O)]})),Vi("sliderBehaviours",[Tn,Ur]),tc("mouseIsDown",function(){return Nn(!1)})],A5=function(t,n,o,c){var d,m=function(Te){return df(Te,t,"thumb")},h=function(Te){return df(Te,t,"spectrum")},_=function(Te){return vo(Te,t,"left-edge")},C=function(Te){return vo(Te,t,"right-edge")},T=function(Te){return vo(Te,t,"top-edge")},R=function(Te){return vo(Te,t,"bottom-edge")},B=t.model,U=B.manager,q=function(Te,tt){U.setPositionFromValue(Te,tt,t,{getLeftEdge:_,getRightEdge:C,getTopEdge:T,getBottomEdge:R,getSpectrum:h})},ee=function(Te,tt){B.value.set(tt);var Mt=m(Te);q(Te,Mt)},de=function(Te,tt){ee(Te,tt);var Mt=m(Te);return t.onChange(Te,Mt,tt),E.some(!0)},Se=function(Te){U.setToMin(Te,t)},ce=function(Te){U.setToMax(Te,t)},ze=function(Te){var tt=function(){vo(Te,t,"thumb").each(function(jr){var Gt=B.value.get();t.onChoose(Te,jr,Gt)})},Mt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Mt&&tt()},ht=function(Te,tt){tt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Te,m(Te))},lt=function(Te,tt){tt.stop(),t.onDragEnd(Te,m(Te)),ze(Te)};return{uid:t.uid,dom:t.dom,components:n,behaviours:nu(t.sliderBehaviours,[Tn.config({mode:"special",focusIn:function(Te){return vo(Te,t,"spectrum").map(Tn.focusIn).map(dt)}}),Ur.config({store:{mode:"manual",getValue:function(Te){return B.value.get()}}}),Uu.config({channels:(d={},d[aw()]={onReceive:ze},d)})]),events:bo([Yt(b1(),function(Te,tt){de(Te,tt.event.value)}),sa(function(Te,tt){var Mt=B.getInitialValue();B.value.set(Mt);var jr=m(Te);q(Te,jr);var Gt=h(Te);t.onInit(Te,jr,Gt,B.value.get())}),Yt(Kl(),ht),Yt(bd(),lt),Yt(Zs(),ht),Yt(K1(),lt)]),apis:{resetToMin:Se,resetToMax:ce,setValue:ee,refresh:q},domModification:{styles:{position:"relative"}}}},wf=lc({name:"Slider",configFields:E5,partFields:qA,factory:A5,apis:{setValue:function(t,n,o){t.setValue(n,o)},resetToMin:function(t,n){t.resetToMin(n)},resetToMax:function(t,n){t.resetToMax(n)},refresh:function(t,n){t.refresh(n)}}}),R3=mn("rgb-hex-update"),CO=mn("slider-update"),bz=mn("palette-update"),O5=function(t,n){var o=wf.parts.spectrum({dom:{tag:"div",classes:[n("hue-slider-spectrum")],attributes:{role:"presentation"}}}),c=wf.parts.thumb({dom:{tag:"div",classes:[n("hue-slider-thumb")],attributes:{role:"presentation"}}});return wf.sketch({dom:{tag:"div",classes:[n("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:se({y:0})},components:[o,c],sliderBehaviours:Br([Qn.config({})]),onChange:function(d,m,h){Fn(d,CO,{value:h})}})},SO="form",wz=[Vi("formBehaviours",[Ur])],xO=function(t){return"<alloy.field."+t+">"},D5=function(t){var n=function(){var m=[],h=function(_,C){return m.push(_),ww(SO,xO(_),C)};return{field:h,record:se(m)}}(),o=t(n),c=n.record(),d=$t(c,function(m){return _u({name:m,pname:xO(m)})});return xw(SO,wz,d,P5,o)},R5=function(t,n){return t.fold(function(){return ma.error(n)},ma.value)},P5=function(t,n){return{uid:t.uid,dom:t.dom,components:n,behaviours:nu(t.formBehaviours,[Ur.config({store:{mode:"manual",getValue:function(o){var c=v2(o,t);return sr(c,function(d,m){return d().bind(function(h){var _=Ta.getCurrent(h);return R5(_,new Error("Cannot find a current component to extract the value from for form part '"+m+"': "+nc(h.element)))}).map(Ur.getValue)})},setValue:function(o,c){Rr(c,function(d,m){vo(o,t,m).each(function(h){Ta.getCurrent(h).each(function(_){Ur.setValue(_,d)})})})}}})]),apis:{getField:function(o,c){return vo(o,t,c).bind(Ta.getCurrent)}}}},C1={getField:Xo(function(t,n,o){return t.getField(n,o)}),sketch:D5},TO=mn("valid-input"),zO=mn("invalid-input"),kz=mn("validating-input"),_z="colorcustom.rgb.",B5=function(t,n,o,c){var d=function(U,q){return nv.config({invalidClass:n("invalid"),notify:{onValidate:function(ee){Fn(ee,kz,{type:U})},onValid:function(ee){Fn(ee,TO,{type:U,value:Ur.getValue(ee)})},onInvalid:function(ee){Fn(ee,zO,{type:U,value:Ur.getValue(ee)})}},validator:{validate:function(ee){var de=Ur.getValue(ee),Se=q(de)?ma.value(!0):ma.error(t("aria.input.invalid"));return Ku.pure(Se)},validateOnLoad:!1}})},m=function(U,q,ee,de,Se){var ce=t(_z+"range"),ze=Xa.parts.label({dom:{tag:"label",innerHtml:ee,attributes:{"aria-label":de}}}),ht=Xa.parts.field({data:Se,factory:v1,inputAttributes:J({type:"text"},q==="hex"?{"aria-live":"polite"}:{}),inputClasses:[n("textfield")],inputBehaviours:Br([d(q,U),hi.config({})]),onSetValue:function(Mt){if(nv.isInvalid(Mt)){var jr=nv.run(Mt);jr.get($e)}}}),lt=[ze,ht],Te=q!=="hex"?[Xa.parts["aria-descriptor"]({text:ce})]:[],tt=lt.concat(Te);return{dom:{tag:"div",attributes:{role:"presentation"}},components:tt}},h=function(U,q){var ee=mk(q);return C1.getField(U,"hex").each(function(de){Qn.isFocused(de)||Ur.setValue(U,{hex:ee.value})}),ee},_=function(U,q){var ee=q.red,de=q.green,Se=q.blue;Ur.setValue(U,{red:ee,green:de,blue:Se})},C=ro({dom:{tag:"div",classes:[n("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),T=function(U,q){C.getOpt(U).each(function(ee){Xn(ee.element,"background-color","#"+q.value)})},R=function(){var U={red:Nn(E.some(255)),green:Nn(E.some(255)),blue:Nn(E.some(255)),hex:Nn(E.some("ffffff"))},q=function(Pt,Er){var gn=gk(Er);_(Pt,gn),ce(gn)},ee=function(Pt){return U[Pt].get()},de=function(Pt,Er){U[Pt].set(Er)},Se=function(){return ee("red").bind(function(Pt){return ee("green").bind(function(Er){return ee("blue").map(function(gn){return im(Pt,Er,gn,1)})})})},ce=function(Pt){var Er=Pt.red,gn=Pt.green,Wt=Pt.blue;de("red",E.some(Er)),de("green",E.some(gn)),de("blue",E.some(Wt))},ze=function(Pt,Er){var gn=Er.event;gn.type!=="hex"?de(gn.type,E.none()):c(Pt)},ht=function(Pt,Er){o(Pt);var gn=M4(Er);de("hex",E.some(Er));var Wt=gk(gn);_(Pt,Wt),ce(Wt),Fn(Pt,R3,{hex:gn}),T(Pt,gn)},lt=function(Pt,Er,gn){var Wt=parseInt(gn,10);de(Er,E.some(Wt)),Se().each(function(cn){var Sn=h(Pt,cn);Fn(Pt,R3,{hex:Sn}),T(Pt,Sn)})},Te=function(Pt){return Pt.type==="hex"},tt=function(Pt,Er){var gn=Er.event;Te(gn)?ht(Pt,gn.value):lt(Pt,gn.type,gn.value)},Mt=function(Pt){return{label:t(_z+Pt+".label"),description:t(_z+Pt+".description")}},jr=Mt("red"),Gt=Mt("green"),Wr=Mt("blue"),Jt=Mt("hex");return xt(C1.sketch(function(Pt){return{dom:{tag:"form",classes:[n("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Pt.field("red",Xa.sketch(m(XC,"red",jr.label,jr.description,255))),Pt.field("green",Xa.sketch(m(XC,"green",Gt.label,Gt.description,255))),Pt.field("blue",Xa.sketch(m(XC,"blue",Wr.label,Wr.description,255))),Pt.field("hex",Xa.sketch(m(I4,"hex",Jt.label,Jt.description,"ffffff"))),C.asSpec()],formBehaviours:Br([nv.config({invalidClass:n("form-invalid")}),la("rgb-form-events",[Yt(TO,tt),Yt(zO,ze),Yt(kz,ze)])])}}),{apis:{updateHex:function(Pt,Er){Ur.setValue(Pt,{hex:Er.value}),q(Pt,Er),T(Pt,Er)}}})},B=hs({factory:R,name:"RgbForm",configFields:[],apis:{updateHex:function(U,q,ee){U.updateHex(q,ee)}},extraApis:{}});return B},EO=function(t,n){var o=wf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[n("sv-palette-spectrum")]}}),c=wf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette-thumb")],innerHtml:"<div class="+n("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function(T,R){var B=T.width,U=T.height,q=T.getContext("2d");if(q!==null){q.fillStyle=R,q.fillRect(0,0,B,U);var ee=q.createLinearGradient(0,0,B,0);ee.addColorStop(0,"rgba(255,255,255,1)"),ee.addColorStop(1,"rgba(255,255,255,0)"),q.fillStyle=ee,q.fillRect(0,0,B,U);var de=q.createLinearGradient(0,0,0,U);de.addColorStop(0,"rgba(0,0,0,0)"),de.addColorStop(1,"rgba(0,0,0,1)"),q.fillStyle=de,q.fillRect(0,0,B,U)}},m=function(T,R){var B=T.components()[0].element.dom,U=pk(R,100,100),q=AT(U);d(B,H4(q))},h=function(T,R){var B=DT(gk(R));wf.setValue(T,{x:B.saturation,y:100-B.value})},_=function(T){var R=se({x:0,y:0}),B=function(ee,de,Se){Fn(ee,bz,{value:Se})},U=function(ee,de,Se,ce){d(Se.element.dom,H4(V4))},q=Br([Ta.config({find:E.some}),Qn.config({})]);return wf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[n("sv-palette")]},model:{mode:"xy",getInitialValue:R},rounded:!1,components:[o,c],onChange:B,onInit:U,sliderBehaviours:q})},C=hs({factory:_,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(T,R,B){m(R,B)},setThumb:function(T,R,B){h(R,B)}},extraApis:{}});return C},M5=function(t,n){var o=function(d){var m=B5(t,n,d.onValidHex,d.onInvalidHex),h=EO(t,n),_=function(tt){return(100-tt)/100*360},C=function(tt){return 100-tt/360*100},T={paletteRgba:Nn(V4),paletteHue:Nn(0)},R=ro(O5(t,n)),B=ro(h.sketch({})),U=ro(m.sketch({})),q=function(tt,Mt,jr){B.getOpt(tt).each(function(Gt){h.setHue(Gt,jr)})},ee=function(tt,Mt){U.getOpt(tt).each(function(jr){m.updateHex(jr,Mt)})},de=function(tt,Mt,jr){R.getOpt(tt).each(function(Gt){wf.setValue(Gt,{y:C(jr)})})},Se=function(tt,Mt){B.getOpt(tt).each(function(jr){h.setThumb(jr,Mt)})},ce=function(tt,Mt){var jr=gk(tt);T.paletteRgba.set(jr),T.paletteHue.set(Mt)},ze=function(tt,Mt,jr,Gt){ce(Mt,jr),Ye(Gt,function(Wr){Wr(tt,Mt,jr)})},ht=function(){var tt=[ee];return function(Mt,jr){var Gt=jr.event.value,Wr=T.paletteHue.get(),Jt=pk(Wr,Gt.x,100-Gt.y),Pt=RT(Jt);ze(Mt,Pt,Wr,tt)}},lt=function(){var tt=[q,ee];return function(Mt,jr){var Gt=_(jr.event.value.y),Wr=T.paletteRgba.get(),Jt=DT(Wr),Pt=pk(Gt,Jt.saturation,Jt.value),Er=RT(Pt);ze(Mt,Er,Gt,tt)}},Te=function(){var tt=[q,de,Se];return function(Mt,jr){var Gt=jr.event.hex,Wr=UB(Gt);ze(Mt,Gt,Wr.hue,tt)}};return{uid:d.uid,dom:d.dom,components:[B.asSpec(),R.asSpec(),U.asSpec()],behaviours:Br([la("colour-picker-events",[Yt(R3,Te()),Yt(bz,ht()),Yt(CO,lt())]),Ta.config({find:function(tt){return U.getOpt(tt)}}),Tn.config({mode:"acyclic"})])}},c=hs({name:"ColourPicker",configFields:[Ut("dom"),Ae("onValidHex",$e),Ae("onInvalidHex",$e)],factory:o});return c},N5=function(){return Ta.config({find:E.some})},F5=function(t){return Ta.config({find:t.getOpt})},AO=function(t){return Ta.config({find:function(n){return w(n.element,t).bind(function(o){return n.getSystem().getByDom(o).toOptional()})}})},cd={self:N5,memento:F5,childAt:AO},I5={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},OO=function(t){return I5[t]},DO=function(t){return OO(t)},RO=function(t){var n=function(h){return"tox-"+h},o=M5(DO,n),c=function(h){Fn(h,rv,{name:"hex-valid",value:!0})},d=function(h){Fn(h,rv,{name:"hex-valid",value:!1})},m=ro(o.sketch({dom:{tag:"div",classes:[n("color-picker-container")],attributes:{role:"presentation"}},onValidHex:c,onInvalidHex:d}));return{dom:{tag:"div"},components:[m.asSpec()],behaviours:Br([Ur.config({store:{mode:"manual",getValue:function(h){var _=m.get(h),C=Ta.getCurrent(_),T=C.bind(function(R){var B=Ur.getValue(R);return B.hex});return T.map(function(R){return"#"+R}).getOr("")},setValue:function(h,_){var C=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,T=C.exec(_),R=m.get(h),B=Ta.getCurrent(R);B.fold(function(){console.log("Can not find form")},function(U){Ur.setValue(U,{hex:E.from(T[1]).getOr("")}),C1.getField(U,"hex").each(function(q){Ua(q,vv())})})}}}),cd.self()])}},$5=tinymce.util.Tools.resolve("tinymce.Resource"),PO=function(t){return K(t,"init")},BO=function(t){var n=fi(),o=ro({dom:{tag:t.tag}}),c=fi();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Br([la("custom-editor-events",[sa(function(d){o.getOpt(d).each(function(m){(PO(t)?t.init(m.element.dom):$5.load(t.scriptId,t.scriptUrl).then(function(h){return h(m.element.dom,t.settings)})).then(function(h){c.on(function(_){h.setValue(_)}),c.clear(),n.set(h)})})})]),Ur.config({store:{mode:"manual",getValue:function(){return n.get().fold(function(){return c.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,m){n.get().fold(function(){c.set(m)},function(h){return h.setValue(m)})}}}),cd.self()]),components:[o.asSpec()]}},Wg=tinymce.util.Tools.resolve("tinymce.util.Tools"),L5=Dn([Ae("preprocess",or),Ae("postprocess",or)]),H5=function(t,n){var o=io("RepresentingConfigs.memento processors",L5,n);return Ur.config({store:{mode:"manual",getValue:function(c){var d=t.get(c),m=Ur.getValue(d);return o.postprocess(m)},setValue:function(c,d){var m=o.preprocess(d),h=t.get(c);Ur.setValue(h,m)}}})},MO=function(t,n,o){return Ur.config(xt({store:{mode:"manual",getValue:n,setValue:o}},t.map(function(c){return{store:{initialValue:c}}}).getOr({})))},Cz=function(t,n,o){return MO(t,function(c){return n(c.element)},function(c,d){return o(c.element,d)})},V5=function(t){return Cz(t,Ql,Im)},NO=function(t){return Cz(t,Xl,Hf)},U5=function(t){return Ur.config({store:{mode:"memory",initialValue:t}})},zh={memento:H5,withElement:Cz,withComp:MO,domValue:V5,domHtml:NO,memory:U5},j5="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",$a=function(t,n){var o=Wg.explode(n.getSetting("images_file_types",j5,"string")),c=function(d){return Un(o,function(m){return fn(d.name.toLowerCase(),"."+m.toLowerCase())})};return Zt(ct(t),c)},S1=function(t,n){var o=function(B,U){U.stop()},c=function(B){return function(U,q){Ye(B,function(ee){ee(U,q)})}},d=function(B,U){if(!Mn.isDisabled(B)){var q=U.event.raw;h(B,q.dataTransfer.files)}},m=function(B,U){var q=U.event.raw.target;h(B,q.files)},h=function(B,U){Ur.setValue(B,$a(U,n)),Fn(B,$s,{name:t.name})},_=ro({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Br([la("input-file-events",[hv(Om()),hv(kd())])])}),C=function(B){return{uid:B.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Br([zh.memory([]),cd.self(),Mn.config({}),Oa.config({toggleClass:"dragenter",toggleOnExecute:!1}),la("dropzone-events",[Yt("dragenter",c([o,Oa.toggle])),Yt("dragleave",c([o,Oa.toggle])),Yt("dragover",o),Yt("drop",c([o,d])),Yt(Am(),m)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:n.translate("Drop an image here")}},Kc.sketch({dom:{tag:"button",innerHtml:n.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[_.asSpec()],action:function(U){var q=_.get(U);q.element.dom.click()},buttonBehaviours:Br([hi.config({}),Ml.button(n.isDisabled),Xi()])})]}]}},T=t.label.map(function(B){return um(B,n)}),R=Xa.parts.field({factory:{sketch:C}});return bk(T,R,["tox-form__group--stretched"],[])},FO=function(t,n){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:$t(t.items,n.interpreter)}},P3=mn("alloy-fake-before-tabstop"),B3=mn("alloy-fake-after-tabstop"),IO=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Br([Qn.config({ignore:!0}),hi.config({})])}},$O=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[IO([P3]),t,IO([B3])],behaviours:Br([cd.childAt(1)])}},LO=function(t,n){Fn(t,Qh(),{raw:{which:9,shiftKey:n}})},HO=function(t,n){var o=n.element;ac(o,P3)?LO(t,!0):ac(o,B3)&&LO(t,!1)},Ak=function(t){return yk(t,["."+P3,"."+B3].join(","),Dt)},W5=!(dr().browser.isIE()||dr().browser.isEdge()),q5=function(t){var n=Nn("");return{getValue:function(o){return n.get()},setValue:function(o,c){if(t)va(o.element,"srcdoc",c);else{va(o.element,"src","javascript:''");var d=o.element.dom.contentWindow.document;d.open(),d.write(c),d.close()}n.set(c)}}},G5=function(t,n){var o=W5&&t.sandboxed,c=J(J({},t.label.map(function(C){return{title:C}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),d=q5(o),m=t.label.map(function(C){return um(C,n)}),h=function(C){return $O({uid:C.uid,dom:{tag:"iframe",attributes:c},behaviours:Br([hi.config({}),Qn.config({}),zh.withComp(E.none(),d.getValue,d.setValue)])})},_=Xa.parts.field({factory:{sketch:h}});return bk(m,_,["tox-form__group--stretched"],[])},x1=function(t,n){return X5(document.createElement("canvas"),t,n)},K5=function(t){var n=x1(t.width,t.height),o=dm(n);return o.drawImage(t,0,0),n},dm=function(t){return t.getContext("2d")},X5=function(t,n,o){return t.width=n,t.height=o,t},Sz=function(t){return t.naturalWidth||t.width},xz=function(t){return t.naturalHeight||t.height},Y5=function(t){return new yf(function(n,o){var c=URL.createObjectURL(t),d=new Image,m=function(){d.removeEventListener("load",h),d.removeEventListener("error",_)},h=function(){m(),n(d)},_=function(){m(),o("Unable to load data of type "+t.type+": "+c)};d.addEventListener("load",h),d.addEventListener("error",_),d.src=c,d.complete&&setTimeout(h,0)})},VO=function(t){var n=t.split(","),o=/data:([^;]+)/.exec(n[0]);if(!o)return E.none();for(var c=o[1],d=n[1],m=1024,h=atob(d),_=h.length,C=Math.ceil(_/m),T=new Array(C),R=0;R<C;++R){for(var B=R*m,U=Math.min(B+m,_),q=new Array(U-B),ee=B,de=0;ee<U;++de,++ee)q[de]=h[ee].charCodeAt(0);T[R]=new Uint8Array(q)}return E.some(new Blob(T,{type:c}))},Z5=function(t){return new yf(function(n,o){VO(t).fold(function(){o("uri is not base64: "+t)},n)})},UO=function(t,n,o){return n=n||"image/png",kr(HTMLCanvasElement.prototype.toBlob)?new yf(function(c,d){t.toBlob(function(m){m?c(m):d()},n,o)}):Z5(t.toDataURL(n,o))},J5=function(t,n,o){return n=n||"image/png",t.toDataURL(n,o)},Q5=function(t){return Y5(t).then(function(n){t6(n);var o=x1(Sz(n),xz(n)),c=dm(o);return c.drawImage(n,0,0),o})},e6=function(t){return new yf(function(n){var o=new FileReader;o.onloadend=function(){n(o.result)},o.readAsDataURL(t)})},t6=function(t){URL.revokeObjectURL(t.src)},Tz=function(t,n,o){var c=n.type,d=se(c),m=function(){return yf.resolve(n)},h=se(o),_=function(){return o.split(",")[1]},C=function(U,q){return t.then(function(ee){return UO(ee,U,q)})},T=function(U,q){return t.then(function(ee){return J5(ee,U,q)})},R=function(U,q){return T(U,q).then(function(ee){return ee.split(",")[1]})},B=function(){return t.then(K5)};return{getType:d,toBlob:m,toDataURL:h,toBase64:_,toAdjustedBlob:C,toAdjustedDataURL:T,toAdjustedBase64:R,toCanvas:B}},r6=function(t){return e6(t).then(function(n){return Tz(Q5(t),t,n)})},qg=function(t,n){return UO(t,n).then(function(o){return Tz(yf.resolve(t),o,t.toDataURL())})},n6=function(t){return r6(t)},T1=function(t,n,o){var c=typeof t=="string"?parseFloat(t):t;return c>o?c=o:c<n&&(c=n),c},zz=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},M3=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],Ez=function(t,n){for(var o=[],c=new Array(25),d,m=0;m<5;m++){for(var h=0;h<5;h++)o[h]=n[h+m*5];for(var h=0;h<5;h++){d=0;for(var _=0;_<5;_++)d+=t[h+_*5]*o[_];c[h+m*5]=d}}return c},a6=function(t,n){var o;return n=T1(n,-1,1),n*=100,n<0?o=127+n/100*127:(o=n%1,o===0?o=M3[n]:o=M3[Math.floor(n)]*(1-o)+M3[Math.floor(n)+1]*o,o=o*127+127),Ez(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},o6=function(t,n){return n=T1(255*n,-255,255),Ez(t,[1,0,0,0,n,0,1,0,0,n,0,0,1,0,n,0,0,0,1,0,0,0,0,0,1])},i6=function(t,n,o,c){return n=T1(n,0,2),o=T1(o,0,2),c=T1(c,0,2),Ez(t,[n,0,0,0,0,0,o,0,0,0,0,0,c,0,0,0,0,0,1,0,0,0,0,0,1])},Az=function(t,n){return t.toCanvas().then(function(o){return u6(o,t.getType(),n)})},u6=function(t,n,o){var c=dm(t),d=function(h,_){for(var C,T,R,B,U=h.data,q=_[0],ee=_[1],de=_[2],Se=_[3],ce=_[4],ze=_[5],ht=_[6],lt=_[7],Te=_[8],tt=_[9],Mt=_[10],jr=_[11],Gt=_[12],Wr=_[13],Jt=_[14],Pt=_[15],Er=_[16],gn=_[17],Wt=_[18],cn=_[19],Sn=0;Sn<U.length;Sn+=4)C=U[Sn],T=U[Sn+1],R=U[Sn+2],B=U[Sn+3],U[Sn]=C*q+T*ee+R*de+B*Se+ce,U[Sn+1]=C*ze+T*ht+R*lt+B*Te+tt,U[Sn+2]=C*Mt+T*jr+R*Gt+B*Wr+Jt,U[Sn+3]=C*Pt+T*Er+R*gn+B*Wt+cn;return h},m=d(c.getImageData(0,0,t.width,t.height),o);return c.putImageData(m,0,0),qg(t,n)},Ok=function(t,n){return t.toCanvas().then(function(o){return c6(o,t.getType(),n)})},c6=function(t,n,o){var c=dm(t),d=function(_,C,T){for(var R=function(Er,gn,Wt){return Er>Wt?Er=Wt:Er<gn&&(Er=gn),Er},B=Math.round(Math.sqrt(T.length)),U=Math.floor(B/2),q=_.data,ee=C.data,de=_.width,Se=_.height,ce=0;ce<Se;ce++)for(var ze=0;ze<de;ze++){for(var ht=0,lt=0,Te=0,tt=0;tt<B;tt++)for(var Mt=0;Mt<B;Mt++){var jr=R(ze+Mt-U,0,de-1),Gt=R(ce+tt-U,0,Se-1),Wr=(Gt*de+jr)*4,Jt=T[tt*B+Mt];ht+=q[Wr]*Jt,lt+=q[Wr+1]*Jt,Te+=q[Wr+2]*Jt}var Pt=(ce*de+ze)*4;ee[Pt]=R(ht,0,255),ee[Pt+1]=R(lt,0,255),ee[Pt+2]=R(Te,0,255)}return C},m=c.getImageData(0,0,t.width,t.height),h=c.getImageData(0,0,t.width,t.height);return h=d(m,h,o),c.putImageData(h,0,0),qg(t,n)},Oz=function(t){var n=function(o,c,d){for(var m=dm(o),h=new Array(256),_=function(R,B){for(var U=R.data,q=0;q<U.length;q+=4)U[q]=B[U[q]],U[q+1]=B[U[q+1]],U[q+2]=B[U[q+2]];return R},C=0;C<h.length;C++)h[C]=t(C,d);var T=_(m.getImageData(0,0,o.width,o.height),h);return m.putImageData(T,0,0),qg(o,c)};return function(o,c){return o.toCanvas().then(function(d){return n(d,o.getType(),c)})}},jO=function(t){return function(n,o){return Az(n,t(zz(),o))}},s6=function(t){return function(n){return Az(n,t)}},l6=function(t){return function(n){return Ok(n,t)}},f6=s6([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),WO=jO(o6),qO=jO(a6),d6=function(t,n,o,c){return Az(t,i6(zz(),n,o,c))},N3=l6([0,-1,0,-1,5,-1,0,-1,0]),F3=Oz(function(t,n){return Math.pow(t/255,1-n)*255}),GO=function(t,n,o){var c=Sz(t),d=xz(t),m=n/c,h=o/d,_=!1;(m<.5||m>2)&&(m=m<.5?.5:2,_=!0),(h<.5||h>2)&&(h=h<.5?.5:2,_=!0);var C=v6(t,m,h);return _?C.then(function(T){return GO(T,n,o)}):C},v6=function(t,n,o){return new yf(function(c){var d=Sz(t),m=xz(t),h=Math.floor(d*n),_=Math.floor(m*o),C=x1(h,_),T=dm(C);T.drawImage(t,0,0,d,m,0,0,h,_),c(C)})},KO=function(t,n){n===void 0&&(n=2);var o=Math.pow(10,n),c=Math.round(t*o);return Math.ceil(c/o)},m6=function(t,n){return t.toCanvas().then(function(o){return Dz(o,t.getType(),n)})},Dz=function(t,n,o){var c=o<0?360+o:o,d=c*Math.PI/180,m=t.width,h=t.height,_=Math.sin(d),C=Math.cos(d),T=KO(Math.abs(m*C)+Math.abs(h*_)),R=KO(Math.abs(m*_)+Math.abs(h*C)),B=x1(T,R),U=dm(B);return U.translate(T/2,R/2),U.rotate(d),U.drawImage(t,-m/2,-h/2),qg(B,n)},Rz=function(t,n){return t.toCanvas().then(function(o){return XO(o,t.getType(),n)})},XO=function(t,n,o){var c=x1(t.width,t.height),d=dm(c);return o==="v"?(d.scale(1,-1),d.drawImage(t,0,-c.height)):(d.scale(-1,1),d.drawImage(t,-c.width,0)),qg(c,n)},g6=function(t,n,o,c,d){return t.toCanvas().then(function(m){return Pz(m,t.getType(),n,o,c,d)})},Pz=function(t,n,o,c,d,m){var h=x1(d,m),_=dm(h);return _.drawImage(t,-o,-c),qg(h,n)},p6=function(t,n,o){return t.toCanvas().then(function(c){return GO(c,n,o).then(function(d){return qg(d,t.getType())})})},h6=function(t){return f6(t)},YO=function(t){return N3(t)},y6=function(t,n){return F3(t,n)},Dk=function(t,n,o,c){return d6(t,n,o,c)},b6=function(t,n){return WO(t,n)},w6=function(t,n){return qO(t,n)},ZO=function(t,n){return Rz(t,n)},k6=function(t,n,o,c,d){return g6(t,n,o,c,d)},JO=function(t,n,o){return p6(t,n,o)},QO=function(t,n){return m6(t,n)},eD=function(t,n,o){return hf(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},n)},I3=function(t,n){return eD(t,n,[])},tD=function(t,n){return eD(t,n,[Jn.config({})])},Bz=function(t,n,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[n+"__select-label"]},behaviours:Br([Jn.config({})])}},$3,rD=mn("toolbar.button.execute"),_6=function(t){return Wc(function(n,o){WC(t,n)(function(c){Fn(n,rD,{buttonApi:c}),t.onAction(c)})})},nD=($3={},$3[cs()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],$3),Eh=mn("update-menu-text"),Mz=mn("update-menu-icon"),Nz=function(t,n,o){var c=Nn($e),d=t.text.map(function(B){return ro(Bz(B,n,o.providers))}),m=t.icon.map(function(B){return ro(tD(B,o.providers.icons))}),h=function(B,U){var q=Ur.getValue(B);return Qn.focus(q),Fn(q,"keydown",{raw:U.event.raw}),bf.close(q),E.some(!0)},_=t.role.fold(function(){return{}},function(B){return{role:B}}),C=t.tooltip.fold(function(){return{}},function(B){var U=o.providers.translate(B);return{title:U,"aria-label":U}}),T=hf("chevron-down",{tag:"div",classes:[n+"__select-chevron"]},o.providers.icons),R=ro(bf.sketch(J(J(J({},t.uid?{uid:t.uid}:{}),_),{dom:{tag:"button",classes:[n,n+"--select"].concat($t(t.classes,function(B){return n+"--"+B})),attributes:J({},C)},components:i1([m.map(function(B){return B.asSpec()}),d.map(function(B){return B.asSpec()}),E.some(T)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Br(Tt(Tt([],t.dropdownBehaviours,!0),[Ml.button(function(){return t.disabled||o.providers.isDisabled()}),Xi(),h1.config({}),Jn.config({}),la("dropdown-events",[o1(t,c),dk(t,c)]),la("menubutton-update-display-text",[Yt(Eh,function(B,U){d.bind(function(q){return q.getOpt(B)}).each(function(q){Jn.set(q,[hu(o.providers.translate(U.event.text))])})}),Yt(Mz,function(B,U){m.bind(function(q){return q.getOpt(B)}).each(function(q){Jn.set(q,[tD(U.event.icon,o.providers.icons)])})})])],!1)),eventOrder:xt(nD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Br([Tn.config({mode:"special",onLeft:h,onRight:h})]),lazySink:o.getSink,toggleClass:n+"--active",parts:{menu:NC(!1,t.columns,t.presets)},fetch:function(B){return Ku.nu(Nr(t.fetch,B))}})));return R.asSpec()},C6=function(t){return gt(t)},ys=function(t){return t.type==="separator"},S6=function(t){return K(t,"getSubmenuItems")},Fz={type:"separator"},aD=function(t,n){var o=Zr(t,function(c,d){return C6(d)?d===""?c:d==="|"?c.length>0&&!ys(c[c.length-1])?c.concat([Fz]):c:K(n,d.toLowerCase())?c.concat([n[d.toLowerCase()]]):c:c.concat([d])},[]);return o.length>0&&ys(o[o.length-1])&&o.pop(),o},oD=function(t,n){var o=t.getSubmenuItems(),c=Rk(o,n),d=xt(c.menus,ql(t.value,c.items)),m=xt(c.expansions,ql(t.value,t.value));return{item:t,menus:d,expansions:m}},L3=function(t,n){return S6(t)?oD(t,n):{item:t,menus:{},expansions:{}}},x6=function(t){if(ys(t))return t;var n=at(t,"value").getOrThunk(function(){return mn("generated-menu-item")});return xt({value:n},t)},Rk=function(t,n){var o=aD(gt(t)?t.split(" "):t,n);return qr(o,function(c,d){var m=x6(d),h=L3(m,n);return{menus:xt(c.menus,h.menus),items:[h.item].concat(c.items),expansions:xt(c.expansions,h.expansions)}},{menus:{},expansions:{},items:[]})},z1=function(t,n,o,c){var d=mn("primary-menu"),m=Rk(t,o.shared.providers.menuItems());if(m.items.length===0)return E.none();var h=iA(d,m.items,n,o,c),_=sr(m.menus,function(T,R){return iA(R,T,n,o,!1)}),C=xt(_,ql(d,h));return E.from(uo.tieredData(d,C,m.expansions))},Pk=function(t){return{isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(n){return Mn.set(t,n)},setActive:function(n){var o=t.element;n?(Fi(o,"tox-tbtn--enabled"),va(o,"aria-pressed",!0)):(Ti(o,"tox-tbtn--enabled"),Qi(o,"aria-pressed"))},isActive:function(){return ac(t.element,"tox-tbtn--enabled")}}},H3=function(t,n,o,c){return Nz({text:t.text,icon:t.icon,tooltip:t.tooltip,role:c,fetch:function(d,m){t.fetch(function(h){m(z1(h,rd.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:Pk,columns:1,presets:"normal",classes:[],dropdownBehaviours:[hi.config({})]},n,o.shared)},Nl=function(t,n,o){var c=function(m){return function(h){var _=!h.isActive();h.setActive(_),m.storage.set(_),o.shared.getSink().each(function(C){n().getOpt(C).each(function(T){xl(T.element),Fn(T,rv,{name:m.name,value:m.storage.get()})})})}},d=function(m){return function(h){h.setActive(m.storage.get())}};return function(m){m($t(t,function(h){var _=h.text.fold(function(){return{}},function(C){return{text:C}});return J(J({type:h.type,active:!1},_),{onAction:c(h),onSetup:d(h)})}))}},iD=function(t,n,o,c,d,m){o===void 0&&(o=[]);var h=n.fold(function(){return{}},function(T){return{action:T}}),_=J({buttonBehaviours:Br([Ml.button(function(){return t.disabled||m.isDisabled()}),Xi(),hi.config({}),la("button press",[uy("click"),uy("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},h),C=xt(_,{dom:c});return xt(C,{components:d})},Iz=function(t,n,o,c){c===void 0&&(c=[]);var d=t.tooltip.map(function(C){return{"aria-label":o.translate(C),title:o.translate(C)}}).getOr({}),m={tag:"button",classes:["tox-tbtn"],attributes:d},h=t.icon.map(function(C){return I3(C,o.icons)}),_=i1([h]);return iD(t,n,c,m,_,o)},uD=function(t,n,o,c){c===void 0&&(c=[]);var d=Iz(t,E.some(n),o,c);return Kc.sketch(d)},cD=function(t,n,o,c,d){c===void 0&&(c=[]),d===void 0&&(d=[]);var m=o.translate(t.text),h=t.icon?t.icon.map(function(B){return I3(B,o.icons)}):E.none(),_=h.isSome()?i1([h]):[],C=h.isSome()?{}:{innerHtml:m},T=Tt(Tt(Tt(Tt([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),h.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),d,!0),R=J(J({tag:"button",classes:T},C),{attributes:{title:m}});return iD(t,n,c,R,_,o)},$z=function(t,n,o,c,d){c===void 0&&(c=[]),d===void 0&&(d=[]);var m=cD(t,E.some(n),o,c,d);return Kc.sketch(m)},sD=function(t,n){return function(o){n==="custom"?Fn(o,rv,{name:t,value:{}}):n==="submit"?Ua(o,kk):n==="cancel"?Ua(o,xh):console.error("Unknown button type: ",n)}},T6=function(t,n){return n==="menu"},z6=function(t,n){return n==="custom"||n==="cancel"||n==="submit"},V3=function(t,n,o){if(T6(t,n)){var c=function(){return h},d=t,m=J(J({},t),{onSetup:function(T){return T.setDisabled(t.disabled),$e},fetch:Nl(d.items,c,o)}),h=ro(H3(m,"tox-tbtn",o,E.none()));return h.asSpec()}else if(z6(t,n)){var _=sD(t.name,n),C=J(J({},t),{borderless:!1});return $z(C,_,o.shared.providers,[])}else console.error("Unknown footer button type: ",n)},E6=function(t,n){var o=sD(t.name,"custom");return OM(E.none(),Xa.parts.field(J({factory:Kc},cD(t,E.some(o),n,[zh.memory(""),cd.self()]))))},A6=se([Ae("field1Name","field1"),Ae("field2Name","field2"),ic("onLockedChange"),Tv(["lockClass"]),Ae("locked",!1),Rs.field("coupledFieldBehaviours",[Ta,Ur])]),lD=function(t,n,o){return vo(t,n,o).bind(Ta.getCurrent)},Lz=function(t,n){return _u({factory:Xa,name:t,overrides:function(o){return{fieldBehaviours:Br([la("coupled-input-behaviour",[Yt(vv(),function(c){lD(c,o,n).each(function(d){vo(c,o,"lock").each(function(m){Oa.isOn(m)&&o.onLockedChange(c,d,m)})})})])])}}})},fD=se([Lz("field1","field2"),Lz("field2","field1"),_u({factory:Kc,schema:[Ut("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Br([Oa.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),O6=function(t,n,o,c){return{uid:t.uid,dom:t.dom,components:n,behaviours:Rs.augment(t.coupledFieldBehaviours,[Ta.config({find:E.some}),Ur.config({store:{mode:"manual",getValue:function(d){var m,h=yb(d,t,["field1","field2"]);return m={},m[t.field1Name]=Ur.getValue(h.field1()),m[t.field2Name]=Ur.getValue(h.field2()),m},setValue:function(d,m){var h=yb(d,t,["field1","field2"]);Ee(m,t.field1Name)&&Ur.setValue(h.field1(),m[t.field1Name]),Ee(m,t.field2Name)&&Ur.setValue(h.field2(),m[t.field2Name])}}})]),apis:{getField1:function(d){return vo(d,t,"field1")},getField2:function(d){return vo(d,t,"field2")},getLock:function(d){return vo(d,t,"lock")}}}},Ls=lc({name:"FormCoupledInputs",configFields:A6(),partFields:fD(),factory:O6,apis:{getField1:function(t,n){return t.getField1(n)},getField2:function(t,n){return t.getField2(n)},getLock:function(t,n){return t.getLock(n)}}}),D6=function(t){var n={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(d){return d in n?n[d]:1},c=t.value.toFixed(o(t.unit));return c.indexOf(".")!==-1&&(c=c.replace(/\.?0*$/,"")),c+t.unit},Hz=function(t){var n=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=n.exec(t);if(o!==null){var c=parseFloat(o[1]),d=o[2];return ma.value({value:c,unit:d})}else return ma.error(t)},dD=function(t,n){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},c=function(d){return K(o,d)};return t.unit===n?E.some(t.value):c(t.unit)&&c(n)?o[t.unit]===o[n]?E.some(t.value):E.some(t.value/o[t.unit]*o[n]):E.none()},Vz=function(t){return E.none()},R6=function(t,n){return function(o){return dD(o,n).map(function(c){return{value:c*t,unit:n}})}},P6=function(t,n){var o=Hz(t).toOptional(),c=Hz(n).toOptional();return ia(o,c,function(d,m){return dD(d,m.unit).map(function(h){return m.value/h}).map(function(h){return R6(h,m.unit)}).getOr(Vz)}).getOr(Vz)},vD=function(t,n){var o=Vz,c=mn("ratio-event"),d=function(B){return hf(B,{tag:"span",classes:["tox-icon","tox-lock-icon__"+B]},n.icons)},m=Ls.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:n.translate(t.label.getOr("Constrain proportions"))}},components:[d("lock"),d("unlock")],buttonBehaviours:Br([Mn.config({disabled:function(){return t.disabled||n.isDisabled()}}),Xi(),hi.config({})])}),h=function(B){return{dom:{tag:"div",classes:["tox-form__group"]},components:B}},_=function(B){return Xa.parts.field({factory:v1,inputClasses:["tox-textfield"],inputBehaviours:Br([Mn.config({disabled:function(){return t.disabled||n.isDisabled()}}),Xi(),hi.config({}),la("size-input-events",[Yt(zs(),function(U,q){Fn(U,c,{isField1:B})}),Yt(Am(),function(U,q){Fn(U,$s,{name:t.name})})])]),selectOnFocus:!1})},C=function(B){return{dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(B)}}},T=Ls.parts.field1(h([Xa.parts.label(C("Width")),_(!0)])),R=Ls.parts.field2(h([Xa.parts.label(C("Height")),_(!1)]));return Ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[T,R,h([C("&nbsp;"),m])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(B,U,q){Hz(Ur.getValue(B)).each(function(ee){o(ee).each(function(de){Ur.setValue(U,D6(de))})})},coupledFieldBehaviours:Br([Mn.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(B){Ls.getField1(B).bind(Xa.getField).each(Mn.disable),Ls.getField2(B).bind(Xa.getField).each(Mn.disable),Ls.getLock(B).each(Mn.disable)},onEnabled:function(B){Ls.getField1(B).bind(Xa.getField).each(Mn.enable),Ls.getField2(B).bind(Xa.getField).each(Mn.enable),Ls.getLock(B).each(Mn.enable)}}),Xi(),la("size-input-events2",[Yt(c,function(B,U){var q=U.event.isField1,ee=q?Ls.getField1(B):Ls.getField2(B),de=q?Ls.getField2(B):Ls.getField1(B),Se=ee.map(Ur.getValue).getOr(""),ce=de.map(Ur.getValue).getOr("");o=P6(Se,ce)})])])})},B6=se(mn("undo")),M6=se(mn("redo")),N6=se(mn("zoom")),F6=se(mn("back")),I6=se(mn("apply")),$6=se(mn("swap")),L6=se(mn("transform")),mD=se(mn("temp-transform")),H6=se(mn("transform-apply")),vc={undo:B6,redo:M6,zoom:N6,back:F6,apply:I6,swap:$6,transform:L6,tempTransform:mD,transformApply:H6},gD=se("save-state"),V6=se("disable"),U6=se("enable"),bs={formActionEvent:rv,saveState:gD,disable:V6,enable:U6},j6=function(t,n){var o=function(nn,pa,co,Zo){return ro($z({text:nn,disabled:co,primary:Zo,icon:E.none(),borderless:!1},pa,n))},c=function(nn,pa,co,Zo){return ro(uD({icon:E.some(nn),tooltip:E.some(pa),disabled:Zo},co,n))},d=function(nn,pa){nn.map(function(co){var Zo=co.get(pa);Zo.hasConfigured(Mn)&&Mn.disable(Zo)})},m=function(nn,pa){nn.map(function(co){var Zo=co.get(pa);Zo.hasConfigured(Mn)&&Mn.enable(Zo)})},h={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},_=$e,C=function(nn,pa,co){Fn(nn,pa,co)},T=function(nn){return Ua(nn,bs.disable())},R=function(nn){return Ua(nn,bs.enable())},B=function(nn,pa){T(nn),C(nn,vc.transform(),{transform:pa}),R(nn)},U=function(nn,pa){T(nn),C(nn,vc.tempTransform(),{transform:pa}),R(nn)},q=function(nn){return function(){md.getOpt(nn).each(function(pa){Jn.set(pa,[tp])})}},ee=function(nn,pa){T(nn),C(nn,vc.transformApply(),{transform:pa,swap:q(nn)}),R(nn)},de=function(){return o("Back",function(nn){return C(nn,vc.back(),{swap:q(nn)})},!1,!1)},Se=function(){return ro({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Br([Mn.config({})])})},ce=function(){return o("Apply",function(nn){return C(nn,vc.apply(),{swap:q(nn)})},!0,!0)},ze=function(){return function(nn){var pa=t.getRect();return k6(nn,pa.x,pa.y,pa.w,pa.h)}},ht=[de(),Se(),o("Apply",function(nn){var pa=ze();ee(nn,pa),t.hideCrop()},!1,!0)],lt=dc.sketch({dom:h,components:ht.map(function(nn){return nn.asSpec()}),containerBehaviours:Br([la("image-tools-crop-buttons-events",[Yt(bs.disable(),function(nn,pa){d(ht,nn)}),Yt(bs.enable(),function(nn,pa){m(ht,nn)})])])}),Te=ro(vD({name:"size",label:E.none(),disabled:!1},n)),tt=function(nn,pa){return function(co){return JO(co,nn,pa)}},Mt=[de(),Se(),Te,Se(),o("Apply",function(nn){Te.getOpt(nn).each(function(pa){var co=Ur.getValue(pa),Zo=parseInt(co.width,10),es=parseInt(co.height,10),Pc=tt(Zo,es);ee(nn,Pc)})},!1,!0)],jr=dc.sketch({dom:h,components:Mt.map(function(nn){return nn.asSpec()}),containerBehaviours:Br([la("image-tools-resize-buttons-events",[Yt(bs.disable(),function(nn,pa){d(Mt,nn)}),Yt(bs.enable(),function(nn,pa){m(Mt,nn)})])])}),Gt=function(nn,pa){return function(co){return nn(co,pa)}},Wr=Gt(ZO,"h"),Jt=Gt(ZO,"v"),Pt=Gt(QO,-90),Er=Gt(QO,90),gn=function(nn,pa){U(nn,pa)},Wt=[de(),Se(),c("flip-horizontally","Flip horizontally",function(nn){gn(nn,Wr)},!1),c("flip-vertically","Flip vertically",function(nn){gn(nn,Jt)},!1),c("rotate-left","Rotate counterclockwise",function(nn){gn(nn,Pt)},!1),c("rotate-right","Rotate clockwise",function(nn){gn(nn,Er)},!1),Se(),ce()],cn=dc.sketch({dom:h,components:Wt.map(function(nn){return nn.asSpec()}),containerBehaviours:Br([la("image-tools-fliprotate-buttons-events",[Yt(bs.disable(),function(nn,pa){d(Wt,nn)}),Yt(bs.enable(),function(nn,pa){m(Wt,nn)})])])}),Sn=function(nn,pa,co,Zo,es){var Pc=wf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:n.translate(nn)}}),Us=wf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),Il=wf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ro(wf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:co,maxX:es,getInitialValue:se({x:Zo})},components:[Pc,Us,Il],sliderBehaviours:Br([Qn.config({})]),onChoose:pa}))},Ea=function(nn,pa,co,Zo,es){var Pc=function(Us,Il,P1){var qk=Gt(pa,P1.x/100);B(Us,qk)};return Sn(nn,Pc,co,Zo,es)},ao=function(nn,pa,co,Zo,es){return[de(),Ea(nn,pa,co,Zo,es),ce()]},Po=function(nn,pa,co,Zo,es){var Pc=ao(nn,pa,co,Zo,es);return dc.sketch({dom:h,components:Pc.map(function(Us){return Us.asSpec()}),containerBehaviours:Br([la("image-tools-filter-panel-buttons-events",[Yt(bs.disable(),function(Us,Il){d(Pc,Us)}),Yt(bs.enable(),function(Us,Il){m(Pc,Us)})])])})},ui=[de(),Se(),ce()],Vs=dc.sketch({dom:h,components:ui.map(function(nn){return nn.asSpec()})}),pc=Po("Brightness",b6,-100,0,100),mS=Po("Contrast",w6,-100,0,100),cu=Po("Gamma",y6,-100,0,100),Fh=function(nn,pa,co){return function(Zo){return Dk(Zo,nn,pa,co)}},Ih=function(nn){var pa=function(co,Zo,es){var Pc=Uk.getOpt(co),Us=jk.getOpt(co),Il=$h.getOpt(co);Pc.each(function(P1){Us.each(function(qk){Il.each(function(B1){var fI=Ur.getValue(P1).x/100,dI=Ur.getValue(B1).x/100,Hh=Ur.getValue(qk).x/100,M1=Fh(fI,dI,Hh);B(co,M1)})})})};return Sn(nn,pa,0,100,200)},Uk=Ih("R"),$h=Ih("G"),jk=Ih("B"),Qc=[de(),Uk,$h,jk,ce()],vd=dc.sketch({dom:h,components:Qc.map(function(nn){return nn.asSpec()})}),Rc=function(nn,pa,co){return function(Zo){var es=function(){md.getOpt(Zo).each(function(Pc){Jn.set(Pc,[nn]),co(Pc)})};C(Zo,vc.swap(),{transform:pa,swap:es})}},Wk=function(nn){t.showCrop()},ep=function(nn){Te.getOpt(nn).each(function(pa){var co=t.getMeasurements(),Zo=co.width,es=co.height;Ur.setValue(pa,{width:Zo,height:es})})},R1=E.some(YO),su=E.some(h6),mm=[c("crop","Crop",Rc(lt,E.none(),Wk),!1),c("resize","Resize",Rc(jr,E.none(),ep),!1),c("orientation","Orientation",Rc(cn,E.none(),_),!1),c("brightness","Brightness",Rc(pc,E.none(),_),!1),c("sharpen","Sharpen",Rc(Vs,R1,_),!1),c("contrast","Contrast",Rc(mS,E.none(),_),!1),c("color-levels","Color levels",Rc(vd,E.none(),_),!1),c("gamma","Gamma",Rc(cu,E.none(),_),!1),c("invert","Invert",Rc(Vs,su,_),!1)],tp=dc.sketch({dom:h,components:mm.map(function(nn){return nn.asSpec()})}),Lh=dc.sketch({dom:{tag:"div"},components:[tp],containerBehaviours:Br([Jn.config({})])}),md=ro(Lh),rp=function(nn){return md.getOpt(nn).map(function(pa){var co=pa.components()[0];return co.components()[co.components().length-1]})};return{memContainer:md,getApplyButton:rp}},pD=tinymce.util.Tools.resolve("tinymce.geom.Rect"),W6=tinymce.util.Tools.resolve("tinymce.util.Observable"),vm=tinymce.util.Tools.resolve("tinymce.util.VK"),q6=function(t){var n=Math.max,o=t.documentElement,c=t.body,d=n(o.scrollWidth,c.scrollWidth),m=n(o.clientWidth,c.clientWidth),h=n(o.offsetWidth,c.offsetWidth),_=n(o.scrollHeight,c.scrollHeight),C=n(o.clientHeight,c.clientHeight),T=n(o.offsetHeight,c.offsetHeight);return{width:d<h?m:d,height:_<T?C:_}},G6=function(t){return Kt(t.changedTouches)},Uz=function(t){if(G6(t))for(var n="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<n.length;o++)t[n[o]]=t.changedTouches[0][n[o]]};function K6(t,n){var o,c,d,m,h=[],_=[],C=(o=n.document)!==null&&o!==void 0?o:document,T=(c=n.root)!==null&&c!==void 0?c:C,R=le.fromDom(C),B,U,q,ee=le.fromDom(T.getElementById((d=n.handle)!==null&&d!==void 0?d:t)),de=function(ht){var lt=ht.raw,Te=q6(C);Uz(lt),ht.prevent(),B=lt.button,U=lt.screenX,q=lt.screenY;var tt=ti(ee,"cursor");m=le.fromTag("div",C),Ic(m,{position:"absolute",top:"0",left:"0",width:Te.width+"px",height:Te.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:tt}),Du(Wa(R),m),_.push(pi(R,"mousemove",Se),pi(R,"touchmove",Se),pi(R,"mouseup",ce),pi(R,"touchend",ce)),n.start(lt)},Se=function(ht){var lt=ht.raw;if(Uz(lt),lt.button!==B)return ce(ht);lt.deltaX=lt.screenX-U,lt.deltaY=lt.screenY-q,ht.prevent(),n.drag(lt)},ce=function(ht){Uz(ht.raw),Ye(_,function(lt){return lt.unbind()}),_=[],yc(m),n.stop&&n.stop(ht.raw)},ze=function(){Ye(_.concat(h),function(ht){return ht.unbind()}),_=[],h=[],Kt(m)&&yc(m)};return h.push(pi(ee,"mousedown",de),pi(ee,"touchstart",de)),{destroy:ze}}var X6=0,Y6=function(t,n,o,c,d){var m,h=[],_="tox-",C=_+"crid-"+X6++,T=le.fromDom(c),R=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],B=["top","right","bottom","left"],U=function(Gt,Wr){return{x:Wr.x+Gt.x,y:Wr.y+Gt.y,w:Wr.w,h:Wr.h}},q=function(Gt,Wr){return{x:Wr.x-Gt.x,y:Wr.y-Gt.y,w:Wr.w,h:Wr.h}},ee=function(){return q(o,t)},de=function(Gt,Wr,Jt,Pt){var Er=Wr.x+Jt*Gt.deltaX,gn=Wr.y+Pt*Gt.deltaY,Wt=Math.max(20,Wr.w+Jt*Gt.deltaW),cn=Math.max(20,Wr.h+Pt*Gt.deltaH),Sn=t=pD.clamp({x:Er,y:gn,w:Wt,h:cn},o,Gt.name==="move");Sn=q(o,Sn),jr.fire("updateRect",{rect:Sn}),Te(Sn)},Se=function(){var Gt=function(Er){var gn;return K6(C,{document:c.ownerDocument,root:Bn(T).dom,handle:C+"-"+Er.name,start:function(){gn=t},drag:function(Wt){de(Er,gn,Wt.deltaX,Wt.deltaY)}})},Wr=le.fromTag("div");Fc(Wr,{id:C,class:_+"croprect-container",role:"grid","aria-dropeffect":"execute"}),Du(T,Wr),Ye(B,function(Er){Ii(T,"#"+C).each(function(gn){var Wt=le.fromTag("div");Fc(Wt,{id:C+"-"+Er,class:_+"croprect-block","data-mce-bogus":"all"}),Xn(Wt,"display","none"),Du(gn,Wt)})}),Ye(R,function(Er){Ii(T,"#"+C).each(function(gn){var Wt=le.fromTag("div");Fc(Wt,{id:C+"-"+Er.name,"aria-label":Er.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:Er.label}),_v(Wt,[_+"croprect-handle",_+"croprect-handle-"+Er.name]),Xn(Wt,"display","none"),Du(gn,Wt)})}),m=$t(R,Gt),ze(t);var Jt=function(Er){va(Er.target,"aria-grabbed",Er.raw.type==="focus"?"true":"false")},Pt=function(Er){var gn;Ye(R,function(cn){if(No(Er.target,"id")===C+"-"+cn.name)return gn=cn,!1});var Wt=function(cn,Sn,Ea,ao,Po){cn.stopPropagation(),cn.preventDefault(),de(gn,Ea,ao,Po)};switch(Er.raw.keyCode){case vm.LEFT:Wt(Er,gn,t,-10,0);break;case vm.RIGHT:Wt(Er,gn,t,10,0);break;case vm.UP:Wt(Er,gn,t,0,-10);break;case vm.DOWN:Wt(Er,gn,t,0,10);break;case vm.ENTER:case vm.SPACEBAR:Er.prevent(),d();break}};h.push(pi(T,"focusin",Jt),pi(T,"focusout",Jt),pi(T,"keydown",Pt))},ce=function(Gt){var Wr=Tt(Tt([],$t(R,function(Pt){return"#"+C+"-"+Pt.name}),!0),$t(B,function(Pt){return"#"+C+"-"+Pt}),!0).join(","),Jt=Wu(T,Wr);Gt?Ye(Jt,function(Pt){return qa(Pt,"display")}):Ye(Jt,function(Pt){return Xn(Pt,"display","none")})},ze=function(Gt){var Wr=function(Jt,Pt){Ii(T,"#"+C+"-"+Jt).each(function(Er){Ic(Er,{left:Pt.x+"px",top:Pt.y+"px",width:Math.max(0,Pt.w)+"px",height:Math.max(0,Pt.h)+"px"})})};Ye(R,function(Jt){Ii(T,"#"+C+"-"+Jt.name).each(function(Pt){Ic(Pt,{left:Gt.w*Jt.xMul+Gt.x+"px",top:Gt.h*Jt.yMul+Gt.y+"px"})})}),Wr("top",{x:n.x,y:n.y,w:n.w,h:Gt.y-n.y}),Wr("right",{x:Gt.x+Gt.w,y:Gt.y,w:n.w-Gt.x-Gt.w+n.x,h:Gt.h}),Wr("bottom",{x:n.x,y:Gt.y+Gt.h,w:n.w,h:n.h-Gt.y-Gt.h+n.y}),Wr("left",{x:n.x,y:Gt.y,w:Gt.x-n.x,h:Gt.h}),Wr("move",Gt)},ht=function(Gt){t=Gt,ze(t)},lt=function(Gt){n=Gt,ze(t)},Te=function(Gt){ht(U(o,Gt))},tt=function(Gt){o=Gt,ze(t)},Mt=function(){Ye(m,function(Gt){return Gt.destroy()}),m=[],Ye(h,function(Gt){return Gt.unbind()}),h=[]};Se();var jr=J(J({},W6),{toggleVisibility:ce,setClampRect:tt,setRect:ht,getInnerRect:ee,setInnerRect:Te,setViewPortRect:lt,destroy:Mt});return jr},Z6={create:Y6},hD=function(t){return new bh(function(n){var o=function(){t.removeEventListener("load",o),n(t)};t.complete?n(t):t.addEventListener("load",o)})},J6=function(t){var n=ro({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Nn(1),c=P0(),d=Nn({x:0,y:0,w:1,h:1}),m=Nn({x:0,y:0,w:1,h:1}),h=function(Se,ce){ee.getOpt(Se).each(function(ze){var ht=o.get(),lt=Ou(ze.element),Te=Si(ze.element),tt=ce.dom.naturalWidth*ht,Mt=ce.dom.naturalHeight*ht,jr=Math.max(0,lt/2-tt/2),Gt=Math.max(0,Te/2-Mt/2),Wr={left:jr.toString()+"px",top:Gt.toString()+"px",width:tt.toString()+"px",height:Mt.toString()+"px",position:"absolute"};Ic(ce,Wr),n.getOpt(ze).each(function(Jt){Ic(Jt.element,Wr)}),c.run(function(Jt){var Pt=d.get();Jt.setRect({x:Pt.x*ht+jr,y:Pt.y*ht+Gt,w:Pt.w*ht,h:Pt.h*ht}),Jt.setClampRect({x:jr,y:Gt,w:tt,h:Mt}),Jt.setViewPortRect({x:0,y:0,w:lt,h:Te})})})},_=function(Se,ce){ee.getOpt(Se).each(function(ze){var ht=Ou(ze.element),lt=Si(ze.element),Te=ce.dom.naturalWidth,tt=ce.dom.naturalHeight,Mt=Math.min(ht/Te,lt/tt);Mt>=1?o.set(1):o.set(Mt)})},C=function(Se,ce){var ze=le.fromTag("img");return va(ze,"src",ce),hD(ze.dom).then(function(){Se.getSystem().isConnected()&&ee.getOpt(Se).map(function(ht){var lt=by({element:ze});Jn.replaceAt(ht,1,E.some(lt));var Te=m.get(),tt={x:0,y:0,w:ze.dom.naturalWidth,h:ze.dom.naturalHeight};m.set(tt);var Mt=pD.inflate(tt,-20,-20);d.set(Mt),(Te.w!==tt.w||Te.h!==tt.h)&&_(ht,ze),h(ht,ze)})})},T=function(Se,ce){var ze=o.get(),ht=ce>0?Math.min(2,ze+.1):Math.max(.1,ze-.1);o.set(ht),ee.getOpt(Se).each(function(lt){var Te=lt.components()[1].element;h(lt,Te)})},R=function(){c.run(function(Se){Se.toggleVisibility(!0)})},B=function(){c.run(function(Se){Se.toggleVisibility(!1)})},U=function(){return d.get()},q=dc.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[n.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Br([la("image-panel-crop-events",[sa(function(Se){ee.getOpt(Se).each(function(ce){var ze=ce.element.dom,ht=Z6.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},ze,$e);ht.toggleVisibility(!1),ht.on("updateRect",function(lt){var Te=lt.rect,tt=o.get(),Mt={x:Math.round(Te.x/tt),y:Math.round(Te.y/tt),w:Math.round(Te.w/tt),h:Math.round(Te.h/tt)};d.set(Mt)}),c.set(ht)})}),fs(function(){c.clear()})])])}],containerBehaviours:Br([Jn.config({}),la("image-panel-events",[sa(function(Se){C(Se,t)})])])}),ee=ro(q),de=function(){var Se=m.get();return{width:Se.w,height:Se.h}};return{memContainer:ee,updateSrc:C,zoom:T,showCrop:R,hideCrop:B,getRect:U,getMeasurements:de}},U3=function(t,n,o,c,d){return uD({icon:E.some(n),disabled:o,tooltip:E.some(t)},c,d)},yD=function(t,n){n?Mn.enable(t):Mn.disable(t)},Q6=function(t){var n=function(m,h,_){o.getOpt(m).each(function(C){yD(C,h)}),c.getOpt(m).each(function(C){yD(C,_)})},o=ro(U3("Undo","undo",!0,function(m){Fn(m,vc.undo(),{direction:1})},t)),c=ro(U3("Redo","redo",!0,function(m){Fn(m,vc.redo(),{direction:1})},t)),d=dc.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),c.asSpec(),U3("Zoom in","zoom-in",!1,function(m){Fn(m,vc.zoom(),{direction:1})},t),U3("Zoom out","zoom-out",!1,function(m){Fn(m,vc.zoom(),{direction:-1})},t)]});return{container:d,updateButtonUndoStates:n}};function eN(){var t=[],n=-1,o=function(_){var C=t.splice(++n);return t.push(_),{state:_,removed:C}},c=function(){if(m())return t[--n]},d=function(){if(h())return t[++n]},m=function(){return n>0},h=function(){return n!==-1&&n<t.length-1};return{data:t,add:o,undo:c,redo:d,canUndo:m,canRedo:h}}var tN=function(t){var n=Nn(t),o=fi(),c=eN();c.add(t);var d=function(){return n.get()},m=function(ze){n.set(ze)},h=function(){return o.get().getOrThunk(n.get)},_=function(ze){var ht=C(ze);return B(),o.set(ht),ht.url},C=function(ze){return{blob:ze,url:URL.createObjectURL(ze)}},T=function(ze){URL.revokeObjectURL(ze.url)},R=function(ze){Wg.each(ze,T)},B=function(){o.on(T),o.clear()},U=function(ze){var ht=C(ze);m(ht);var lt=c.add(ht).removed;return R(lt),ht.url},q=function(ze){var ht=C(ze);return o.set(ht),ht.url},ee=function(ze){return o.get().fold($e,function(ht){U(ht.blob),ze()})},de=function(){var ze=c.undo();return m(ze),ze.url},Se=function(){var ze=c.redo();return m(ze),ze.url},ce=function(){var ze=c.canUndo(),ht=c.canRedo();return{undoEnabled:ze,redoEnabled:ht}};return{getBlobState:d,setBlobState:m,addBlobState:U,getTempState:h,updateTempState:_,addTempState:q,applyTempState:ee,destroyTempState:B,undo:de,redo:Se,getHistoryStates:ce}},rN=function(t,n){var o=tN(t.currentState),c=function(Jt,Pt){var Er=Pt.event.direction;Mt.zoom(Jt,Er)},d=function(Jt){var Pt=o.getHistoryStates();jr.updateButtonUndoStates(Jt,Pt.undoEnabled,Pt.redoEnabled),Fn(Jt,bs.formActionEvent,{name:bs.saveState(),value:Pt.undoEnabled})},m=function(Jt){jr.updateButtonUndoStates(Jt,!1,!1)},h=function(Jt,Pt){var Er=o.undo();B(Jt,Er).then(function(gn){R(Jt),d(Jt)})},_=function(Jt,Pt){var Er=o.redo();B(Jt,Er).then(function(gn){R(Jt),d(Jt)})},C=function(Jt){return Jt.toBlob()},T=function(Jt){Fn(Jt,bs.formActionEvent,{name:bs.disable(),value:{}})},R=function(Jt){Gt.getApplyButton(Jt).each(function(Pt){Mn.enable(Pt)}),Fn(Jt,bs.formActionEvent,{name:bs.enable(),value:{}})},B=function(Jt,Pt){return T(Jt),Mt.updateSrc(Jt,Pt)},U=function(Jt,Pt,Er,gn,Wt){T(Jt),n6(Pt).then(Er).then(C).then(gn).then(function(cn){return B(Jt,cn)}).then(function(){d(Jt),Wt(),R(Jt)}).catch(function(cn){console.log(cn),Jt.getSystem().isConnected()&&R(Jt)})},q=function(Jt,Pt,Er){var gn=o.getBlobState().blob,Wt=function(cn){return o.updateTempState(cn)};U(Jt,gn,Pt,Wt,Er)},ee=function(Jt,Pt){var Er=o.getTempState().blob,gn=function(Wt){return o.addTempState(Wt)};U(Jt,Er,Pt,gn,$e)},de=function(Jt,Pt,Er){var gn=o.getBlobState().blob,Wt=function(cn){var Sn=o.addBlobState(cn);return ce(Jt),Sn};U(Jt,gn,Pt,Wt,Er)},Se=function(Jt,Pt){var Er=function(){ce(Jt);var gn=Pt.event.swap;gn()};o.applyTempState(Er)},ce=function(Jt){var Pt=o.getBlobState().url;return o.destroyTempState(),d(Jt),Pt},ze=function(Jt){var Pt=ce(Jt);B(Jt,Pt).then(function(Er){R(Jt)})},ht=function(Jt,Pt){ze(Jt);var Er=Pt.event.swap;Er(),Mt.hideCrop()},lt=function(Jt,Pt){return q(Jt,Pt.event.transform,$e)},Te=function(Jt,Pt){return ee(Jt,Pt.event.transform)},tt=function(Jt,Pt){return de(Jt,Pt.event.transform,Pt.event.swap)},Mt=J6(t.currentState.url),jr=Q6(n),Gt=j6(Mt,n),Wr=function(Jt,Pt){m(Jt);var Er=Pt.event.transform,gn=Pt.event.swap;Er.fold(function(){gn()},function(Wt){q(Jt,Wt,gn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Gt.memContainer.asSpec(),Mt.memContainer.asSpec(),jr.container],behaviours:Br([Ur.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),la("image-tools-events",[Yt(vc.undo(),h),Yt(vc.redo(),_),Yt(vc.zoom(),c),Yt(vc.back(),ht),Yt(vc.apply(),Se),Yt(vc.transform(),lt),Yt(vc.tempTransform(),Te),Yt(vc.transformApply(),tt),Yt(vc.swap(),Wr)]),cd.self()])}},bD=function(t,n){var o={dom:{tag:"label",innerHtml:n.providers.translate(t.label),classes:["tox-label"]}},c=$t(t.items,n.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(c),behaviours:Br([cd.self(),Jn.config({}),zh.domHtml(E.none()),Tn.config({mode:"acyclic"})])}},jz=function(t){return!K(t,"items")},wD="data-value",kD=function(t,n,o,c){return $t(o,function(d){return jz(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===c,onAction:function(){Ur.setValue(t,d.value),Fn(t,$s,{name:n}),Qn.focus(t)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return kD(t,n,d.items,c)}}})},_D=function(t,n){return bt(t,function(o){return jz(o)?Ha(o.value===n,o):_D(o.items,n)})},nN=function(t,n){var o=n.shared.providers,c=Vt(t.items).filter(jz),d=t.label.map(function(_){return um(_,o)}),m=Xa.parts.field({dom:{},factory:{sketch:function(_){return Nz({uid:_.uid,text:c.map(function(C){return C.text}),icon:E.none(),tooltip:t.label,role:E.none(),fetch:function(C,T){var R=kD(C,t.name,t.items,Ur.getValue(C));T(z1(R,rd.CLOSE_ON_EXECUTE,n,!1))},onSetup:se($e),getApi:se({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[hi.config({}),Ur.config({store:{mode:"manual",initialValue:c.map(function(C){return C.value}).getOr(""),getValue:function(C){return No(C.element,wD)},setValue:function(C,T){_D(t.items,T).each(function(R){va(C.element,wD,R.value),Fn(C,Eh,{text:R.text})})}}})]},"tox-listbox",n.shared)}}}),h={dom:{tag:"div",classes:["tox-listboxfield"]},components:[m]};return Xa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Fe([d.toArray(),[h]]),fieldBehaviours:Br([Mn.config({disabled:se(t.disabled),onDisabled:function(_){Xa.getField(_).each(Mn.disable)},onEnabled:function(_){Xa.getField(_).each(Mn.enable)}})])})},aN=function(t,n){return{dom:{tag:"div",classes:t.classes},components:$t(t.items,n.shared.interpreter)}},CD=function(t,n){var o=$t(t.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),c=t.data.map(function(d){return ql("initialValue",d)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:nu(t.selectBehaviours,[Qn.config({}),Ur.config({store:J({mode:"manual",getValue:function(d){return Ql(d.element)},setValue:function(d,m){var h=Qt(t.options,function(_){return _.value===m});h.isSome()&&Im(d.element,m)}},c)})])}},Ah=hs({name:"HtmlSelect",configFields:[Ut("options"),Vi("selectBehaviours",[Qn,Ur]),Ae("selectClasses",[]),Ae("selectAttributes",{}),Ga("data")],factory:CD}),j3=function(t,n){var o=$t(t.items,function(_){return{text:n.translate(_.text),value:_.value}}),c=t.label.map(function(_){return um(_,n)}),d=Xa.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:Ah,selectBehaviours:Br([Mn.config({disabled:function(){return t.disabled||n.isDisabled()}}),hi.config({}),la("selectbox-change",[Yt(Am(),function(_,C){Fn(_,$s,{name:t.name})})])])}),m=t.size>1?E.none():E.some(hf("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},n.icons)),h={dom:{tag:"div",classes:["tox-selectfield"]},components:Fe([[d],m.toArray()])};return Xa.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Fe([c.toArray(),[h]]),fieldBehaviours:Br([Mn.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(_){Xa.getField(_).each(Mn.disable)},onEnabled:function(_){Xa.getField(_).each(Mn.enable)}}),Xi()])})},oN=function(t,n){var o=function(_){return{dom:{tag:"th",innerHtml:n.translate(_)}}},c=function(_){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:$t(_,o)}]}},d=function(_){return{dom:{tag:"td",innerHtml:n.translate(_)}}},m=function(_){return{dom:{tag:"tr"},components:$t(_,d)}},h=function(_){return{dom:{tag:"tbody"},components:$t(_,m)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[c(t.header),h(t.cells)],behaviours:Br([hi.config({}),Qn.config({})])}},SD=function(t,n){var o=t.label.map(function(U){return um(U,n)}),c=[Mn.config({disabled:function(){return t.disabled||n.isDisabled()}}),Xi(),Tn.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(U){return Ua(U,kk),E.some(!0)}}),la("textfield-change",[Yt(vv(),function(U,q){Fn(U,$s,{name:t.name})}),Yt(J1(),function(U,q){Fn(U,$s,{name:t.name})})]),hi.config({})],d=t.validation.map(function(U){return nv.config({getRoot:function(q){return Mo(q.element)},invalidClass:"tox-invalid",validator:{validate:function(q){var ee=Ur.getValue(q),de=U.validator(ee);return Ku.pure(de===!0?ma.value(ee):ma.error(de))},validateOnLoad:U.validateOnLoad}})}).toArray(),m=t.placeholder.fold(se({}),function(U){return{placeholder:n.translate(U)}}),h=t.inputMode.fold(se({}),function(U){return{inputmode:U}}),_=J(J({},m),h),C=Xa.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:_,inputClasses:[t.classname],inputBehaviours:Br(Fe([c,d])),selectOnFocus:!1,factory:v1}),T=t.flex?["tox-form__group--stretched"]:[],R=T.concat(t.maximized?["tox-form-group--maximize"]:[]),B=[Mn.config({disabled:function(){return t.disabled||n.isDisabled()},onDisabled:function(U){Xa.getField(U).each(Mn.disable)},onEnabled:function(U){Xa.getField(U).each(Mn.enable)}}),Xi()];return bk(o,C,R,B)},Wz=function(t,n){return SD({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:E.none(),maximized:t.maximized},n)},iN=function(t,n){return SD({name:t.name,multiline:!0,label:t.label,inputMode:E.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:E.none(),maximized:t.maximized},n)},uN=function(t,n){var o=t.stream.streams,c=o.setup(t,n);return bo([Yt(t.event,c),fs(function(){return n.cancel()})].concat(t.cancelEvent.map(function(d){return[Yt(d,function(){return n.cancel()})]}).getOr([])))},qz=Object.freeze({__proto__:null,events:uN}),Gz=function(t){var n=Nn(null),o=function(){return{timer:n.get()!==null?"set":"unset"}},c=function(m){n.set(m)},d=function(){var m=n.get();m!==null&&m.cancel()};return Nu({readState:o,setTimer:c,cancel:d})},xD=function(t){return t.stream.streams.state(t)},cN=Object.freeze({__proto__:null,throttle:Gz,init:xD}),sN=function(t,n){var o=t.stream,c=EC(t.onStream,o.delay);return n.setTimer(c),function(d,m){c.throttle(d,m),o.stopEvent&&m.stop()}},lN=[kc("stream",Ts("mode",{throttle:[Ut("delay"),Ae("stopEvent",!0),_o("streams",{setup:sN,state:Gz})]})),Ae("event","input"),Ga("cancelEvent"),ic("onStream")],TD=Hi({fields:lN,name:"streaming",active:qz,state:cN}),W3=function(t,n,o){var c=Ur.getValue(o);Ur.setValue(n,c),zD(n)},Kz=function(t,n){var o=t.element,c=Ql(o),d=o.dom;No(o,"type")!=="number"&&n(d,c)},zD=function(t){Kz(t,function(n,o){return n.setSelectionRange(o.length,o.length)})},ED=function(t,n){Kz(t,function(o,c){return o.setSelectionRange(n,c.length)})},fN=function(t,n,o){if(t.selectsOver){var c=Ur.getValue(n),d=t.getDisplayText(c),m=Ur.getValue(o),h=t.getDisplayText(m);return h.indexOf(d)===0?E.some(function(){W3(t,n,o),ED(n,d.length)}):E.none()}else return E.none()},Xz=se("alloy.typeahead.itemexecute"),Yz=function(t,n,o,c){var d=function(C,T,R){t.previewing.set(!1);var B=_i.getCoupled(C,"sandbox");if(Pa.isOpen(B))Ta.getCurrent(B).each(function(q){Ja.getHighlighted(q).fold(function(){R(q)},function(){i_(B,q.element,"keydown",T)})});else{var U=function(q){Ta.getCurrent(q).each(R)};GT(t,h(C),C,B,c,U,ad.HighlightFirst).get($e)}},m=_A(t),h=function(C){return function(T){return T.map(function(R){var B=_t(R.menus),U=gr(B,function(ee){return Zt(ee.items,function(de){return de.type==="item"})}),q=Ur.getState(C);return q.update($t(U,function(ee){return ee.data})),R})}},_=[Qn.config({}),Ur.config({onSetValue:t.onSetValue,store:J({mode:"dataset",getDataKey:function(C){return Ql(C.element)},getFallbackEntry:function(C){return{value:C,meta:{}}},setValue:function(C,T){Im(C.element,t.model.getDisplayText(T))}},t.initialData.map(function(C){return ql("initialValue",C)}).getOr({}))}),TD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(C,T){var R=_i.getCoupled(C,"sandbox"),B=Qn.isFocused(C);if(B&&Ql(C.element).length>=t.minChars){var U=Ta.getCurrent(R).bind(function(ee){return Ja.getHighlighted(ee).map(Ur.getValue)});t.previewing.set(!0);var q=function(ee){Ta.getCurrent(R).each(function(de){U.fold(function(){t.model.selectsOver&&Ja.highlightFirst(de)},function(Se){Ja.highlightBy(de,function(ce){var ze=Ur.getValue(ce);return ze.value===Se.value}),Ja.getHighlighted(de).orThunk(function(){return Ja.highlightFirst(de),E.none()})})})};GT(t,h(C),C,R,c,q,ad.HighlightFirst).get($e)}},cancelEvent:Q1()}),Tn.config({mode:"special",onDown:function(C,T){return d(C,T,Ja.highlightFirst),E.some(!0)},onEscape:function(C){var T=_i.getCoupled(C,"sandbox");return Pa.isOpen(T)?(Pa.close(T),E.some(!0)):E.none()},onUp:function(C,T){return d(C,T,Ja.highlightLast),E.some(!0)},onEnter:function(C){var T=_i.getCoupled(C,"sandbox"),R=Pa.isOpen(T);if(R&&!t.previewing.get())return Ta.getCurrent(T).bind(function(U){return Ja.getHighlighted(U)}).map(function(U){return Fn(C,Xz(),{item:U}),!0});var B=Ur.getValue(C);return Ua(C,Q1()),t.onExecute(T,C,B),R&&Pa.close(T),E.some(!0)}}),Oa.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),_i.config({others:{sandbox:function(C){return XT(t,C,{onOpen:function(){return Oa.on(C)},onClose:function(){return Oa.off(C)}})}}}),la("typeaheadevents",[Wc(function(C){var T=$e;g1(t,h(C),C,c,T,ad.HighlightFirst).get($e)}),Yt(Xz(),function(C,T){var R=_i.getCoupled(C,"sandbox");W3(t.model,C,T.event.item),Ua(C,Q1()),t.onItemExecute(C,R,T.event.item,Ur.getValue(C)),Pa.close(R),zD(C)})].concat(t.dismissOnBlur?[Yt(Z1(),function(C){var T=_i.getCoupled(C,"sandbox");Tl(T.element).isNone()&&Pa.close(T)})]:[]))];return{uid:t.uid,dom:cl(xt(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:J(J({},m),nu(t.typeaheadBehaviours,_)),eventOrder:t.eventOrder}},Zz=se([Ga("lazySink"),Ut("fetch"),Ae("minChars",5),Ae("responseTime",1e3),Ka("onOpen"),Ae("getHotspot",E.some),Ae("getAnchorOverrides",se({})),Ae("layouts",E.none()),Ae("eventOrder",{}),V1("model",{},[Ae("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),Ae("selectsOver",!0),Ae("populateFromBrowse",!0)]),Ka("onSetValue"),$i("onExecute"),Ka("onItemExecute"),Ae("inputClasses",[]),Ae("inputAttributes",{}),Ae("inputStyles",{}),Ae("matchWidth",!0),Ae("useMinWidth",!1),Ae("dismissOnBlur",!0),Tv(["openClass"]),Ga("initialData"),Vi("typeaheadBehaviours",[Qn,Ur,TD,Tn,Oa,_i]),tc("previewing",function(){return Nn(!0)})].concat(cm()).concat(YT())),Bk=se([ps({schema:[xv()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(n,o){t.previewing.get()?n.getSystem().getByUid(t.uid).each(function(c){fN(t.model,c,o).fold(function(){return Ja.dehighlight(n,o)},function(d){return d()})}):n.getSystem().getByUid(t.uid).each(function(c){t.model.populateFromBrowse&&W3(t.model,c,o)}),t.previewing.set(!1)},onExecute:function(n,o){return n.getSystem().getByUid(t.uid).toOptional().map(function(c){return Fn(c,Xz(),{item:o}),!0})},onHover:function(n,o){t.previewing.set(!1),n.getSystem().getByUid(t.uid).each(function(c){t.model.populateFromBrowse&&W3(t.model,c,o)})}}}})]),dN=lc({name:"Typeahead",configFields:Zz(),partFields:Bk(),factory:Yz}),kf=function(t){var n=function(){return kf(t.toCached())},o=function(C){return kf(t.bind(function(T){return T.fold(function(R){return Ku.pure(ma.error(R))},function(R){return C(R)})}))},c=function(C){return kf(t.map(function(T){return T.bind(C)}))},d=function(C){return kf(t.map(function(T){return T.map(C)}))},m=function(C){return kf(t.map(function(T){return T.mapError(C)}))},h=function(C,T){return t.map(function(R){return R.fold(C,T)})},_=function(C,T){return kf(Ku.nu(function(R){var B=!1,U=setTimeout(function(){B=!0,R(ma.error(T()))},C);t.get(function(q){B||(clearTimeout(U),R(q))})}))};return J(J({},t),{toCached:n,bindFuture:o,bindResult:c,mapResult:d,mapError:m,foldResult:h,withTimeout:_})},AD=function(t){return kf(Ku.nu(t))},OD=function(t){return kf(Ku.pure(ma.value(t)))},vN=function(t){return kf(Ku.pure(ma.error(t)))},DD=function(t){return kf(Ku.pure(t))},RD=function(t){return kf(t.map(ma.value))},PD=function(t){return AD(function(n){t.then(function(o){n(ma.value(o))},function(o){n(ma.error(o))})})},mN={nu:AD,wrap:kf,pure:OD,value:OD,error:vN,fromResult:DD,fromFuture:RD,fromPromise:PD},gN={type:"separator"},pN=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:$e}},Jz=function(t,n){return{type:"menuitem",value:n,text:t,meta:{attach:void 0},onAction:$e}},hN=function(t){return $t(t,pN)},BD=function(t,n){return Zt(n,function(o){return o.type===t})},MD=function(t,n){return hN(BD(t,n))},yN=function(t){return MD("header",t.targets)},bN=function(t){return MD("anchor",t.targets)},wN=function(t){return E.from(t.anchorTop).map(function(n){return Jz("<top>",n)}).toArray()},ND=function(t){return E.from(t.anchorBottom).map(function(n){return Jz("<bottom>",n)}).toArray()},Oh=function(t){return $t(t,function(n){return Jz(n,n)})},FD=function(t){return Zr(t,function(n,o){var c=n.length===0||o.length===0;return c?n.concat(o):n.concat(gN,o)},[])},Qz=function(t,n){var o=t.toLowerCase();return Zt(n,function(c){var d=c.meta!==void 0&&c.meta.text!==void 0?c.meta.text:c.text;return ua(d.toLowerCase(),o)||ua(c.value.toLowerCase(),o)})},kN=function(t,n,o){var c=Ur.getValue(n),d=c.meta.text!==void 0?c.meta.text:c.value,m=o.getLinkInformation();return m.fold(function(){return[]},function(h){var _=Qz(d,Oh(o.getHistory(t)));return t==="file"?FD([_,Qz(d,yN(h)),Qz(d,Fe([wN(h),bN(h),ND(h)]))]):_})},ID=mn("aria-invalid"),$D=function(t,n,o){var c,d=n.shared.providers,m=function(ce){var ze=Ur.getValue(ce);o.addToHistory(ze.value,t.filetype)},h=Xa.parts.field({factory:dN,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":ID,type:"url"},minChars:0,responseTime:0,fetch:function(ce){var ze=kN(t.filetype,ce,o),ht=z1(ze,rd.BUBBLE_TO_SANDBOX,n,!1);return Ku.pure(ht)},getHotspot:function(ce){return q.getOpt(ce)},onSetValue:function(ce,ze){ce.hasConfigured(nv)&&nv.run(ce).get($e)},typeaheadBehaviours:Br(Fe([o.getValidationHandler().map(function(ce){return nv.config({getRoot:function(ze){return Mo(ze.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(ze,ht){T.getOpt(ze).each(function(lt){va(lt.element,"title",d.translate(ht))})}},validator:{validate:function(ze){var ht=Ur.getValue(ze);return mN.nu(function(lt){ce({type:t.filetype,url:ht.value},function(Te){if(Te.status==="invalid"){var tt=ma.error(Te.message);lt(tt)}else{var Mt=ma.value(Te.message);lt(Mt)}})})},validateOnLoad:!1}})}).toArray(),[Mn.config({disabled:function(){return t.disabled||d.isDisabled()}}),hi.config({}),la("urlinput-events",Fe([t.filetype==="file"?[Yt(vv(),function(ce){Fn(ce,$s,{name:t.name})})]:[],[Yt(Am(),function(ce){Fn(ce,$s,{name:t.name}),m(ce)}),Yt(J1(),function(ce){Fn(ce,$s,{name:t.name}),m(ce)})]]))]])),eventOrder:(c={},c[vv()]=["streaming","urlinput-events","invalidating"],c),model:{getDisplayText:function(ce){return ce.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:n.shared.getSink,parts:{menu:NC(!1,1,"normal")},onExecute:function(ce,ze,ht){Fn(ze,kk,{})},onItemExecute:function(ce,ze,ht,lt){m(ce),Fn(ce,$s,{name:t.name})}}),_=t.label.map(function(ce){return um(ce,d)}),C=function(ce,ze,ht,lt){return lt===void 0&&(lt=ce),hf(ht,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ce],attributes:J({title:d.translate(lt),"aria-live":"polite"},ze.fold(function(){return{}},function(Te){return{id:Te}}))},d.icons)},T=ro(C("invalid",E.some(ID),"warning")),R=ro({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[T.asSpec()]}),B=o.getUrlPicker(t.filetype),U=mn("browser.url.event"),q=ro({dom:{tag:"div",classes:["tox-control-wrap"]},components:[h,R.asSpec()],behaviours:Br([Mn.config({disabled:function(){return t.disabled||d.isDisabled()}})])}),ee=ro($z({name:t.name,icon:E.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(ce){return Ua(ce,U)},d,[],["tox-browse-url"])),de=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Fe([[q.asSpec()],B.map(function(){return ee.asSpec()}).toArray()])}},Se=function(ce){Ta.getCurrent(ce).each(function(ze){var ht=Ur.getValue(ze),lt=J({fieldname:t.name},ht);B.each(function(Te){Te(lt).get(function(tt){Ur.setValue(ze,tt),Fn(ce,$s,{name:t.name})})})})};return Xa.sketch({dom:DM(),components:_.toArray().concat([de()]),fieldBehaviours:Br([Mn.config({disabled:function(){return t.disabled||d.isDisabled()},onDisabled:function(ce){Xa.getField(ce).each(Mn.disable),ee.getOpt(ce).each(Mn.disable)},onEnabled:function(ce){Xa.getField(ce).each(Mn.enable),ee.getOpt(ce).each(Mn.enable)}}),Xi(),la("url-input-events",[Yt(U,Se)])])})},_N=function(t,n){return dc.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Kc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:AE(t.icon,n.icons),attributes:{title:n.translate(t.iconTooltip)}},action:function(o){Fn(o,rv,{name:"alert-banner",value:t.url})},buttonBehaviours:Br([Z8()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:n.translate(t.text)}}]})},CN=function(t,n){var o=Ur.config({store:{mode:"manual",getValue:function(C){var T=C.element.dom;return T.checked},setValue:function(C,T){var R=C.element.dom;R.checked=T}}}),c=function(C){return C.element.dom.click(),E.some(!0)},d=Xa.parts.field({factory:{sketch:or},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Br([cd.self(),Mn.config({disabled:function(){return t.disabled||n.isDisabled()}}),hi.config({}),Qn.config({}),o,Tn.config({mode:"special",onEnter:c,onSpace:c,stopSpaceKeyup:!0}),la("checkbox-events",[Yt(Am(),function(C,T){Fn(C,$s,{name:t.name})})])])}),m=Xa.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:n.translate(t.label)},behaviours:Br([h1.config({})])}),h=function(C){var T=C==="checked"?"selected":"unselected";return hf(T,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C]},n.icons)},_=ro({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[h("checked"),h("unchecked")]});return Xa.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,_.asSpec(),m],fieldBehaviours:Br([Mn.config({disabled:function(){return t.disabled||n.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(C){Xa.getField(C).each(Mn.disable)},onEnabled:function(C){Xa.getField(C).each(Mn.enable)}}),Xi()])})},SN=function(t){return t.presets==="presentation"?dc.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):dc.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Br([hi.config({}),Qn.config({})])})},Su=function(t){return function(n,o,c){return at(o,"name").fold(function(){return t(o,c)},function(d){return n.field(d,t(o,c))})}},xN=function(t){return function(n,o,c){var d=xt(o,{source:"dynamic"});return Su(t)(n,d,c)}},TN={bar:Su(function(t,n){return TM(t,n.shared)}),collection:Su(function(t,n){return RM(t,n.shared.providers)}),alertbanner:Su(function(t,n){return _N(t,n.shared.providers)}),input:Su(function(t,n){return Wz(t,n.shared.providers)}),textarea:Su(function(t,n){return iN(t,n.shared.providers)}),label:Su(function(t,n){return bD(t,n.shared)}),iframe:xN(function(t,n){return G5(t,n.shared.providers)}),button:Su(function(t,n){return E6(t,n.shared.providers)}),checkbox:Su(function(t,n){return CN(t,n.shared.providers)}),colorinput:Su(function(t,n){return GM(t,n.shared,n.colorinput)}),colorpicker:Su(RO),dropzone:Su(function(t,n){return S1(t,n.shared.providers)}),grid:Su(function(t,n){return FO(t,n.shared)}),listbox:Su(function(t,n){return nN(t,n)}),selectbox:Su(function(t,n){return j3(t,n.shared.providers)}),sizeinput:Su(function(t,n){return vD(t,n.shared.providers)}),urlinput:Su(function(t,n){return $D(t,n,n.urlinput)}),customeditor:Su(BO),htmlpanel:Su(SN),imagetools:Su(function(t,n){return rN(t,n.shared.providers)}),table:Su(function(t,n){return oN(t,n.shared.providers)}),panel:Su(function(t,n){return aN(t,n)})},zN={field:function(t,n){return n}},LD=function(t,n,o){var c=xt(o,{shared:{interpreter:function(d){return eE(t,d,c)}}});return eE(t,n,c)},eE=function(t,n,o){return at(TN,n.type).fold(function(){return console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(c){return c(t,n,o)})},EN=function(t,n){var o=zN;return eE(o,t,n)},tE={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},AN=function(t,n,o){var c=12,d={maxHeightFunction:Ym()},m=function(){return{type:"node",root:Or(t()),node:E.from(t()),bubble:Pv(c,c,tE),layouts:{onRtl:function(){return[rm]},onLtr:function(){return[gh]}},overrides:d}},h=function(){return{type:"hotspot",hotspot:n(),bubble:Pv(-c,c,tE),layouts:{onRtl:function(){return[Fu]},onLtr:function(){return[Gi]}},overrides:d}};return function(){return o()?m():h()}},ON=function(t,n,o){var c=function(){return{type:"node",root:Or(t()),node:E.from(t()),layouts:{onRtl:function(){return[Bl]},onLtr:function(){return[Bl]}}}},d=function(){return{type:"hotspot",hotspot:n(),layouts:{onRtl:function(){return[zi]},onLtr:function(){return[zi]}}}};return function(){return o()?c():d()}},DN=function(t,n){return function(){return{type:"selection",root:n(),getSelection:function(){var o=t.selection.getRng();return E.some(Qm.range(le.fromDom(o.startContainer),o.startOffset,le.fromDom(o.endContainer),o.endOffset))}}}},RN=function(t){return function(n){return{type:"node",root:t(),node:n}}},PN=function(t,n,o){var c=UC(t),d=function(){return le.fromDom(t.getBody())},m=function(){return le.fromDom(t.getContentAreaContainer())},h=function(){return c||!o()};return{inlineDialog:AN(m,n,h),banner:ON(m,n,h),cursor:DN(t,d),node:RN(d)}},rE=function(t){return function(n,o){var c=Z4(t);c(n,o)}},HD=function(t){return function(){return j4(t)}},BN=function(t){return function(){return PT(t)}},MN=function(t){return function(){return t3(t)}},NN=function(t){return{colorPicker:rE(t),hasCustomColors:HD(t),getColors:BN(t),getColorCols:MN(t)}},FN=function(t){return function(){return fB(t)}},IN=function(t){return{isDraggableModal:FN(t)}},$N=function(t){var n=Nn(b4(t)?"bottom":"top");return{isPositionedAtTop:function(){return n.get()==="top"},getDockingMode:n.get,setDockingMode:n.set}},VD=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],LN=function(t){return K(t,"items")},HN=function(t){return K(t,"block")},q3=function(t){return K(t,"inline")},VN=function(t){return K(t,"selector")},UD=function(t){return Zr(t,function(n,o){if(LN(o)){var c=UD(o.items);return{customFormats:n.customFormats.concat(c.customFormats),formats:n.formats.concat([{title:o.title,items:c.formats}])}}else if(q3(o)||HN(o)||VN(o)){var d=gt(o.name)?o.name:o.title.toLowerCase(),m="custom-"+d;return{customFormats:n.customFormats.concat([{name:m,format:o}]),formats:n.formats.concat([{title:o.title,format:m,icon:o.icon}])}}else return J(J({},n),{formats:n.formats.concat(o)})},{customFormats:[],formats:[]})},jD=function(t,n){var o=UD(n),c=function(d){Ye(d,function(m){t.formatter.has(m.name)||t.formatter.register(m.name,m.format)})};return t.formatter?c(o.customFormats):t.on("init",function(){c(o.customFormats)}),o.formats},Gg=function(t){return nB(t).map(function(n){var o=jD(t,n);return om(t)?VD.concat(o):o}).getOr(VD)},WD=function(t,n,o){var c={type:"formatter",isSelected:n(t.format),getStylePreview:o(t.format)};return xt(t,c)},G3=function(t,n,o,c){var d=function(C){return WD(C,o,c)},m=function(C){var T={type:"submenu"};return xt(C,T)},h=function(C){var T=gt(C.name)?C.name:mn(C.title),R="custom-"+T,B={type:"formatter",format:R,isSelected:o(R),getStylePreview:c(R)},U=xt(C,B);return t.formatter.register(T,U),U},_=function(C){return $t(C,function(T){var R=zt(T);if(Ee(T,"items")){var B=_(T.items);return xt(m(T),{getStyleItems:se(B)})}else return Ee(T,"format")?d(T):R.length===1&&an(R,"title")?xt(T,{type:"separator"}):h(T)})};return _(n)},K3=function(t){var n=function(B){return function(){return t.formatter.match(B)}},o=function(B){return function(){var U=t.formatter.get(B);return U!==void 0?E.some({tag:U.length>0&&(U[0].inline||U[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(B))}):E.none()}},c=function(B){var U=B.items;return U!==void 0&&U.length>0?gr(U,c):[B.format]},d=Nn([]),m=Nn([]),h=Nn([]),_=Nn([]),C=Nn(!1);t.on("PreInit",function(B){var U=Gg(t),q=G3(t,U,n,o);d.set(q),m.set(gr(q,c))}),t.on("addStyleModifications",function(B){var U=G3(t,B.items,n,o);h.set(U),C.set(B.replace),_.set(gr(U,c))});var T=function(){var B=C.get()?[]:d.get(),U=h.get();return B.concat(U)},R=function(){var B=C.get()?[]:m.get(),U=_.get();return B.concat(U)};return{getData:T,getFlattenedKeys:R}},UN=function(t){return Kt(t)&&t.nodeType===1},jN=Wg.trim,qD=function(t){return function(n){return!!(UN(n)&&(n.contentEditable===t||n.getAttribute("data-mce-contenteditable")===t))}},WN=qD("true"),qN=qD("false"),Kg=function(t,n,o,c,d){return{type:t,title:n,url:o,level:c,attach:d}},GD=function(t){for(;t=t.parentNode;){var n=t.contentEditable;if(n&&n!=="inherit")return WN(t)}return!1},GN=function(t,n){return $t(Wu(le.fromDom(n),t),function(o){return o.dom})},KD=function(t){return t.innerText||t.textContent},KN=function(t){return t.id?t.id:mn("h")},XN=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},YN=function(t){return XN(t)&&X3(t)},XD=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},X3=function(t){return GD(t)&&!qN(t)},Mk=function(t){return XD(t)&&X3(t)},Y3=function(t){return XD(t)?parseInt(t.nodeName.substr(1),10):0},Z3=function(t){var n=KN(t),o=function(){t.id=n};return Kg("header",KD(t),"#"+n,Y3(t),o)},Dh=function(t){var n=t.id||t.name,o=KD(t);return Kg("anchor",o||"#"+n,"#"+n,0,$e)},J3=function(t){return $t(Zt(t,Mk),Z3)},ZN=function(t){return $t(Zt(t,YN),Dh)},YD=function(t){var n=GN("h1,h2,h3,h4,h5,h6,a:not([href])",t);return n},ZD=function(t){return jN(t.title).length>0},JD=function(t){var n=YD(t);return Zt(J3(n).concat(ZN(n)),ZD)},JN={find:JD},Nk="tinymce-url-history",QD=5,eR=function(t){return gt(t)&&/^https?/.test(t)},QN=function(t){return ft(t)&&t.length<=QD&&Ne(t,eR)},Q3=function(t){return yr(t)&&be(t,function(n){return!QN(n)}).isNone()},eS=function(){var t=ZC.getItem(Nk);if(t===null)return{};var n;try{n=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return console.log("Local storage "+Nk+" was not valid JSON",o),{};throw o}return Q3(n)?n:(console.log("Local storage "+Nk+" was not valid format",n),{})},eF=function(t){if(!Q3(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));ZC.setItem(Nk,JSON.stringify(t))},tR=function(t){var n=eS();return at(n,t).getOr([])},tF=function(t,n){if(eR(t)){var o=eS(),c=at(o,n).getOr([]),d=Zt(c,function(m){return m!==t});o[n]=[t].concat(d).slice(0,QD),eF(o)}},tS=function(t){return!!t},rF=function(t){return sr(Wg.makeMap(t,/[, ]/),tS)},nE=function(t){return E.from(gB(t)).filter(kr)},Rh=function(t){var n=E.some(pB(t)).filter(tS),o=E.some(hB(t)).filter(tS),c=n.or(o).map(rF);return nE(t).fold(Dt,function(d){return c.fold(dt,function(m){return zt(m).length>0?m:!1})})},rR=function(t,n){var o=Rh(t);return vr(o)?o?nE(t):E.none():o[n]?nE(t):E.none()},nF=function(t,n){return rR(t,n).map(function(o){return function(c){return Ku.nu(function(d){var m=function(_,C){if(!gt(_))throw new Error("Expected value to be string");if(C!==void 0&&!yr(C))throw new Error("Expected meta to be a object");var T={value:_,meta:C};d(T)},h=J({filetype:n,fieldname:c.fieldname},E.from(c.meta).getOr({}));o.call(t,m,c.value,h)})}})},aE=function(t){return E.from(t).filter(gt).getOrUndefined()},aF=function(t){return yB(t)?E.none():E.some({targets:JN.find(t.getBody()),anchorTop:aE(C4(t)),anchorBottom:aE(bB(t))})},rS=function(t){return E.from(wB(t))},_f=function(t){return{getHistory:tR,addToHistory:tF,getLinkInformation:function(){return aF(t)},getValidationHandler:function(){return rS(t)},getUrlPicker:function(n){return nF(t,n)}}},oF=function(t,n,o){var c=Nn(!1),d=$N(n),m={shared:{providers:{icons:function(){return n.ui.registry.getAll().icons},menuItems:function(){return n.ui.registry.getAll().menuItems},translate:pf.translate,isDisabled:function(){return n.mode.isReadOnly()||n.ui.isDisabled()},getSetting:n.getParam.bind(n)},interpreter:function(h){return EN(h,m)},anchors:PN(n,o,d.isPositionedAtTop),header:d,getSink:function(){return ma.value(t)}},urlinput:_f(n),styleselect:K3(n),colorinput:NN(n),dialog:IN(n),isContextMenuOpen:function(){return c.get()},setContextMenuState:function(h){return c.set(h)}};return m},av=function(t,n,o){var c=function(lt,Te){Ye([n,o],function(tt){tt.broadcastEvent(lt,Te)})},d=function(lt,Te){Ye([n,o],function(tt){tt.broadcastOn([lt],Te)})},m=function(lt){return d($v(),{target:lt.target})},h=Ep(),_=pi(h,"touchstart",m),C=pi(h,"touchmove",function(lt){return c(ry(),lt)}),T=pi(h,"touchend",function(lt){return c(DS(),lt)}),R=pi(h,"mousedown",m),B=pi(h,"mouseup",function(lt){lt.raw.button===0&&d(aw(),{target:lt.target})}),U=function(lt){return d($v(),{target:le.fromDom(lt.target)})},q=function(lt){lt.button===0&&d(aw(),{target:le.fromDom(lt.target)})},ee=function(){Ye(t.editorManager.get(),function(lt){t!==lt&&lt.fire("DismissPopups",{relatedTarget:t})})},de=function(lt){return c(e0(),Rv(lt))},Se=function(lt){d(vg(),{}),c(ss(),Rv(lt))},ce=function(){return d(vg(),{})},ze=function(lt){lt.state&&d($v(),{target:le.fromDom(t.getContainer())})},ht=function(lt){d($v(),{target:le.fromDom(lt.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",U),t.on("tap",U),t.on("mouseup",q),t.on("mousedown",ee),t.on("ScrollWindow",de),t.on("ResizeWindow",Se),t.on("ResizeEditor",ce),t.on("AfterProgressState",ze),t.on("DismissPopups",ht)}),t.on("remove",function(){t.off("click",U),t.off("tap",U),t.off("mouseup",q),t.off("mousedown",ee),t.off("ScrollWindow",de),t.off("ResizeWindow",Se),t.off("ResizeEditor",ce),t.off("AfterProgressState",ze),t.off("DismissPopups",ht),R.unbind(),_.unbind(),C.unbind(),T.unbind(),B.unbind()}),t.on("detach",function(){qu(n),qu(o),n.destroy(),o.destroy()})},ws=Wn,Ph=hb,nR=se([Ae("shell",!1),Ut("makeItem"),Ae("setupItem",$e),Rs.field("listBehaviours",[Jn])]),nS=function(){return{behaviours:Br([Jn.config({})])}},Xg=Ps({name:"items",overrides:nS}),ks=se([Xg]),iF=se("CustomList"),aR=function(t,n,o,c){var d=function(_,C){h(_).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(T){var R=Jn.contents(T),B=C.length,U=B-R.length,q=U>0?Z(U,function(){return t.makeItem()}):[],ee=R.slice(B);Ye(ee,function(Se){return Jn.remove(T,Se)}),Ye(q,function(Se){return Jn.append(T,Se)});var de=Jn.contents(T);Ye(de,function(Se,ce){t.setupItem(_,Se,C[ce],ce)})})},m=t.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:n},h=function(_){return t.shell?E.some(_):vo(_,t,"items")};return{uid:t.uid,dom:t.dom,components:m.components,behaviours:nu(t.listBehaviours,m.behaviours),apis:{setItems:d}}},oE=lc({name:iF(),configFields:nR(),partFields:ks(),factory:aR,apis:{setItems:function(t,n,o){t.setItems(n,o)}}}),Bh=se([Ut("dom"),Ae("shell",!0),Vi("toolbarBehaviours",[Jn])]),uF=function(){return{behaviours:Br([Jn.config({})])}},cF=se([Ps({name:"groups",overrides:uF})]),Yg=function(t,n,o,c){var d=function(_,C){m(_).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(T){Jn.set(T,C)})},m=function(_){return t.shell?E.some(_):vo(_,t,"groups")},h=t.shell?{behaviours:[Jn.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:h.components,behaviours:nu(t.toolbarBehaviours,h.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},Cf=lc({name:"Toolbar",configFields:Bh(),partFields:cF(),factory:Yg,apis:{setGroups:function(t,n,o){t.setGroups(n,o)}}}),E1=$e,aS=Dt,iE=se([]),sF=Object.freeze({__proto__:null,setup:E1,isDocked:aS,getBehaviours:iE}),oR=function(t){var n=st(bi(t,"position"),"fixed"),o=n?E.none():hc(t);return o.orThunk(function(){var c=le.fromTag("span");return Mo(t).bind(function(d){Du(d,c);var m=hc(c);return yc(c),m})})},iR=function(t){return oR(t).map(Ju).getOrThunk(function(){return po(0,0)})},uE=us.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),A1=function(t,n){var o=t.element;Fi(o,n.transitionClass),Ti(o,n.fadeOutClass),Fi(o,n.fadeInClass),n.onShow(t)},lF=function(t,n){var o=t.element;Fi(o,n.transitionClass),Ti(o,n.fadeInClass),Fi(o,n.fadeOutClass),n.onHide(t)},fF=function(t,n){return t.y<n.bottom&&t.bottom>n.y},dF=function(t,n){return t.y>=n.y},vF=function(t,n){return t.bottom<=n.bottom},uR=function(t,n,o){return Ne(t,function(c){switch(c){case"bottom":return vF(n,o);case"top":return dF(n,o)}})},Fk=function(t,n){return n.getInitialPos().map(function(o){return Mi(o.bounds.x,o.bounds.y,Ou(t),Si(t))})},mF=function(t,n,o){o.setInitialPos({style:xf(t),position:ti(t,"position")||"static",bounds:n})},cE=function(t,n,o){return o.getInitialPos().bind(function(c){switch(o.clearInitialPos(),c.position){case"static":return E.some(uE.static());case"absolute":var d=oR(t).map(wi).getOrThunk(function(){return wi(to())});return E.some(uE.absolute(ju("absolute",at(c.style,"left").map(function(m){return n.x-d.x}),at(c.style,"top").map(function(m){return n.y-d.y}),at(c.style,"right").map(function(m){return d.right-n.right}),at(c.style,"bottom").map(function(m){return d.bottom-n.bottom}))));default:return E.none()}})},sE=function(t,n,o){return Fk(t,o).filter(function(c){return uR(o.getModes(),c,n)}).bind(function(c){return cE(t,c,o)})},cR=function(t,n,o){var c=wi(t);if(uR(o.getModes(),c,n))return E.none();mF(t,c,o);var d=du(),m=c.x-d.x,h=n.y-d.y,_=d.bottom-n.bottom,C=c.y<=n.y;return E.some(uE.fixed(ju("fixed",E.some(m),C?E.some(h):E.none(),E.none(),C?E.none():E.some(_))))},oS=function(t,n,o){var c=t.element,d=st(bi(c,"position"),"fixed");return d?sE(c,n,o):cR(c,n,o)},iS=function(t,n){var o=t.element;return Fk(o,n).bind(function(c){return cE(o,c,n)})},Zg=function(t,n,o){o.setDocked(!1),Ye(["left","right","top","bottom","position"],function(c){return qa(t.element,c)}),n.onUndocked(t)},lE=function(t,n,o,c){var d=c.position==="fixed";o.setDocked(d),Nd(t.element,c);var m=d?n.onDocked:n.onUndocked;m(t)},sR=function(t,n,o,c,d){d===void 0&&(d=!1),n.contextual.each(function(m){m.lazyContext(t).each(function(h){var _=fF(h,c);if(_!==o.isVisible())if(o.setVisible(_),d&&!_)_v(t.element,[m.fadeOutClass]),m.onHide(t);else{var C=_?A1:lF;C(t,m)}})})},fE=function(t,n,o){var c=n.lazyViewport(t),d=o.isDocked();d&&sR(t,n,o,c),oS(t,c,o).each(function(m){m.fold(function(){return Zg(t,n,o)},function(h){return lE(t,n,o,h)},function(h){sR(t,n,o,c,!0),lE(t,n,o,h)})})},gF=function(t,n,o){var c=t.element;o.setDocked(!1),iS(t,o).each(function(d){d.fold(function(){return Zg(t,n,o)},function(m){return lE(t,n,o,m)},$e)}),o.setVisible(!0),n.contextual.each(function(d){ms(c,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(t)}),O1(t,n,o)},O1=function(t,n,o){t.getSystem().isConnected()&&fE(t,n,o)},dE=function(t,n,o){o.isDocked()&&gF(t,n,o)},pF=function(t,n,o){return o.isDocked()},hF=function(t,n,o,c){return o.setModes(c)},Ik=function(t,n,o){return o.getModes()},vE=Object.freeze({__proto__:null,refresh:O1,reset:dE,isDocked:pF,getModes:Ik,setModes:hF}),yF=function(t,n){return bo([ki(Dm(),function(o,c){t.contextual.each(function(d){if(ac(o.element,d.transitionClass)){ms(o.element,[d.transitionClass,d.fadeInClass]);var m=n.isVisible()?d.onShown:d.onHidden;m(o)}c.stop()})}),Yt(e0(),function(o,c){O1(o,t,n)}),Yt(ss(),function(o,c){dE(o,t,n)})])},bF=Object.freeze({__proto__:null,events:yF}),lR=[Uc("contextual",[Zn("fadeInClass"),Zn("fadeOutClass"),Zn("transitionClass"),Vu("lazyContext"),Ka("onShow"),Ka("onShown"),Ka("onHide"),Ka("onHidden")]),To("lazyViewport",du),Ff("modes",["top","bottom"],gi),Ka("onDocked"),Ka("onUndocked")],wF=function(t){var n=Nn(!1),o=Nn(!0),c=fi(),d=Nn(t.modes),m=function(){return"docked:  "+n.get()+", visible: "+o.get()+", modes: "+d.get().join(",")};return Nu({isDocked:n.get,setDocked:n.set,getInitialPos:c.get,setInitialPos:c.set,clearInitialPos:c.clear,isVisible:o.get,setVisible:o.set,getModes:d.get,setModes:d.set,readState:m})},kF=Object.freeze({__proto__:null,init:wF}),e=Hi({fields:lR,name:"docking",active:bF,apis:vE,state:kF}),r=se(mn("toolbar-height-change")),a={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},i="tox-tinymce--toolbar-sticky-on",s="tox-tinymce--toolbar-sticky-off",f=function(t,n){var o=Bo(n),c=o.dom.defaultView.innerHeight,d=Lc(o),m=le.fromDom(t.elm),h=Ul(m),_=Si(m),C=h.y,T=C+_,R=Ju(n),B=Si(n),U=R.top,q=U+B,ee=Math.abs(U-d.top)<2,de=Math.abs(q-(d.top+c))<2;if(ee&&C<q)pm(d.left,C-B,o);else if(de&&T>U){var Se=C-c+_+B;pm(d.left,Se,o)}},g=function(t,n){return an(e.getModes(t),n)},y=function(t){var n=function(c){return $c(c)+(parseInt(ti(c,"margin-top"),10)||0)+(parseInt(ti(c,"margin-bottom"),10)||0)},o=t.element;Mo(o).each(function(c){var d="padding-"+e.getModes(t)[0];if(e.isDocked(t)){var m=Ou(c);Xn(o,"width",m+"px"),Xn(c,d,n(o)+"px")}else qa(o,"width"),qa(c,d)})},k=function(t,n){n?(Ti(t,a.fadeOutClass),_v(t,[a.transitionClass,a.fadeInClass])):(Ti(t,a.fadeInClass),_v(t,[a.fadeOutClass,a.transitionClass]))},O=function(t,n){var o=le.fromDom(t.getContainer());n?(Fi(o,i),Ti(o,s)):(Fi(o,s),Ti(o,i))},F=function(t,n){var o=Bo(n);sc(o).filter(function(c){return!Ra(n,c)}).filter(function(c){return Ra(c,le.fromDom(o.dom.body))||Au(t,c)}).each(function(){return xl(n)})},$=function(t,n){return Tl(t).orThunk(function(){return n().toOptional().bind(function(o){return Tl(o.element)})})},L=function(t,n,o){t.inline||(n.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(e.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(y)}),t.on("SkinLoaded",function(){o().each(function(c){e.isDocked(c)?e.reset(c):e.refresh(c)})}),t.on("FullscreenStateChanged",function(){o().each(e.reset)})),t.on("AfterScrollIntoView",function(c){o().each(function(d){e.refresh(d);var m=d.element;M2(m)&&f(c,m)})}),t.on("PostRender",function(){O(t,!1)})},Q=function(t){return t().map(e.isDocked).getOr(!1)},te=function(){var t;return[Uu.config({channels:(t={},t[r()]={onReceive:y},t)})]},ne=function(t,n){var o=fi(),c=n.getSink,d=function(_){c().each(function(C){return _(C.element)})},m=function(_){t.inline||y(_),O(t,e.isDocked(_)),_.getSystem().broadcastOn([vg()],{}),c().each(function(C){return C.getSystem().broadcastOn([vg()],{})})},h=t.inline?[]:te();return Tt([Qn.config({}),e.config({contextual:J({lazyContext:function(_){var C=$c(_.element),T=t.inline?t.getContentAreaContainer():t.getContainer(),R=wi(le.fromDom(T)),B=R.height-C,U=R.y+(g(_,"top")?0:C);return E.some(Mi(R.x,U,R.width,B))},onShow:function(){d(function(_){return k(_,!0)})},onShown:function(_){d(function(C){return ms(C,[a.transitionClass,a.fadeInClass])}),o.get().each(function(C){F(_.element,C),o.clear()})},onHide:function(_){$(_.element,c).fold(o.clear,o.set),d(function(C){return k(C,!1)})},onHidden:function(){d(function(_){return ms(_,[a.transitionClass])})}},a),lazyViewport:function(_){var C=du(),T=lB(t),R=C.y+(g(_,"top")?T:0),B=C.height-(g(_,"bottom")?T:0);return Mi(C.x,R,C.width,B)},modes:[n.header.getDockingMode()],onDocked:m,onUndocked:m})],h,!0)},ae=Object.freeze({__proto__:null,setup:L,isDocked:Q,getBehaviours:ne}),pe=function(t){var n=t.editor,o=t.sticky?ne:iE;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Br(o(n,t.sharedBackstage))}},ge=Dn([Zn("type"),kc("items",lp([H1([Zn("name"),Bu("items",gi)]),gi]))].concat(Jb)),je=function(t){return Ko("GroupToolbarButton",ge,t)},Be=[xo("text"),xo("tooltip"),xo("icon"),Vu("fetch"),To("onSetup",function(){return $e})],we=Dn(Tt([Zn("type")],Be,!0)),Ge=function(t){return Ko("menubutton",we,t)},It=Dn([Zn("type"),xo("tooltip"),xo("icon"),xo("text"),yd("select"),Vu("fetch"),To("onSetup",function(){return $e}),is("presets","normal",["normal","color","listpreview"]),Ae("columns",1),Vu("onAction"),Vu("onItemAction")]),ur=function(t){return Ko("SplitButton",It,t)},Vn=function(t,n){var o=function(d,m){var h=$t(m,function(_){var C={type:"menubutton",text:_.text,fetch:function(R){R(_.getItems())}},T=Ge(C).mapError(function(R){return hd(R)}).getOrDie();return H3(T,"tox-mbtn",n.backstage,E.some("menuitem"))});Jn.set(d,h)},c={focus:Tn.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Br([Jn.config({}),la("menubar-events",[sa(function(d){t.onSetup(d)}),Yt($f(),function(d,m){Ii(d.element,".tox-mbtn--active").each(function(h){Os(m.event.target,".tox-mbtn").each(function(_){Ra(h,_)||d.getSystem().getByDom(h).each(function(C){d.getSystem().getByDom(_).each(function(T){bf.expand(T),bf.close(C),Qn.focus(T)})})})})}),Yt(ny(),function(d,m){m.event.prevFocus.bind(function(h){return d.getSystem().getByDom(h).toOptional()}).each(function(h){m.event.newFocus.bind(function(_){return d.getSystem().getByDom(_).toOptional()}).each(function(_){bf.isOpen(h)&&(bf.expand(_),bf.close(h))})})})]),Tn.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return t.onEscape(d),E.some(!0)}}),hi.config({})]),apis:c,domModification:{attributes:{role:"menubar"}}}},Qr=hs({factory:Vn,name:"silver.Menubar",configFields:[Ut("dom"),Ut("uid"),Ut("onEscape"),Ut("backstage"),Ae("onSetup",$e)],apis:{focus:function(t,n){t.focus(n)},setMenus:function(t,n,o){t.setMenus(n,o)}}}),jt=function(t,n){return n.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},En=function(t){return t.dimension.property},hr=function(t,n){return t.dimension.getDimension(n)},Yr=function(t,n){var o=jt(t,n);ms(o,[n.shrinkingClass,n.growingClass])},wr=function(t,n){Ti(t.element,n.openClass),Fi(t.element,n.closedClass),Xn(t.element,En(n),"0px"),Ao(t.element)},Hr=function(t,n){Ti(t.element,n.closedClass),Fi(t.element,n.openClass),qa(t.element,En(n))},sn=function(t,n,o,c){o.setCollapsed(),Xn(t.element,En(n),hr(n,t.element)),Ao(t.element),Yr(t,n),wr(t,n),n.onStartShrink(t),n.onShrunk(t)},tr=function(t,n,o,c){var d=c.getOrThunk(function(){return hr(n,t.element)});o.setCollapsed(),Xn(t.element,En(n),d),Ao(t.element);var m=jt(t,n);Ti(m,n.growingClass),Fi(m,n.shrinkingClass),wr(t,n),n.onStartShrink(t)},rn=function(t,n,o){var c=hr(n,t.element),d=c==="0px"?sn:tr;d(t,n,o,E.some(c))},Ca=function(t,n,o){var c=jt(t,n),d=ac(c,n.shrinkingClass),m=hr(n,t.element);Hr(t,n);var h=hr(n,t.element),_=function(){Xn(t.element,En(n),m),Ao(t.element)},C=function(){wr(t,n)},T=d?_:C;T(),Ti(c,n.shrinkingClass),Fi(c,n.growingClass),Hr(t,n),Xn(t.element,En(n),h),o.setExpanded(),n.onStartGrow(t)},Qa=function(t,n,o){if(o.isExpanded()){qa(t.element,En(n));var c=hr(n,t.element);Xn(t.element,En(n),c)}},Ya=function(t,n,o){o.isExpanded()||Ca(t,n,o)},xu=function(t,n,o){o.isExpanded()&&rn(t,n,o)},ii=function(t,n,o){o.isExpanded()&&sn(t,n,o)},Dc=function(t,n,o){return o.isExpanded()},Hs=function(t,n,o){return o.isCollapsed()},rr=function(t,n,o){var c=jt(t,n);return ac(c,n.growingClass)===!0},Dr=function(t,n,o){var c=jt(t,n);return ac(c,n.shrinkingClass)===!0},An=function(t,n,o){return rr(t,n)||Dr(t,n)},Qe=function(t,n,o){var c=o.isExpanded()?rn:Ca;c(t,n,o)},fr=Object.freeze({__proto__:null,refresh:Qa,grow:Ya,shrink:xu,immediateShrink:ii,hasGrown:Dc,hasShrunk:Hs,isGrowing:rr,isShrinking:Dr,isTransitioning:An,toggleGrow:Qe,disableTransitions:Yr}),ar=function(t,n,o){var c=n.expanded;return el(c?{classes:[n.openClass],styles:{}}:{classes:[n.closedClass],styles:ql(n.dimension.property,"0px")})},Pn=function(t,n){return bo([ki(Dm(),function(o,c){var d=c.event.raw;if(d.propertyName===t.dimension.property){Yr(o,t),n.isExpanded()&&qa(o.element,t.dimension.property);var m=n.isExpanded()?t.onGrown:t.onShrunk;m(o)}})])},Hn=Object.freeze({__proto__:null,exhibit:ar,events:Pn}),Co=[Ut("closedClass"),Ut("openClass"),Ut("shrinkingClass"),Ut("growingClass"),Ga("getAnimationRoot"),Ka("onShrunk"),Ka("onStartShrink"),Ka("onGrown"),Ka("onStartGrow"),Ae("expanded",!1),kc("dimension",Ts("property",{width:[_o("property","width"),_o("getDimension",function(t){return Ou(t)+"px"})],height:[_o("property","height"),_o("getDimension",function(t){return Si(t)+"px"})]}))],iu=function(t){var n=Nn(t.expanded),o=function(){return"expanded: "+n.get()};return Nu({isExpanded:function(){return n.get()===!0},isCollapsed:function(){return n.get()===!1},setCollapsed:Nr(n.set,!1),setExpanded:Nr(n.set,!0),readState:o})},Yi=Object.freeze({__proto__:null,init:iu}),mc=Hi({fields:Co,name:"sliding",active:Hn,apis:fr,state:Yi}),gc="container",Zc=[Vi("slotBehaviours",[])],Zi=function(t){return"<alloy.field."+t+">"},fl=function(t){var n=function(){var m=[],h=function(_,C){return m.push(_),ww(gc,Zi(_),C)};return{slot:h,record:se(m)}}(),o=t(n),c=n.record(),d=$t(c,function(m){return _u({name:m,pname:Zi(m)})});return xw(gc,Zc,d,Jc,o)},Jc=function(t,n){var o=function(de){return m2(t)},c=function(de,Se){return vo(de,t,Se)},d=function(de,Se){return function(ce,ze){return vo(ce,t,ze).map(function(ht){return de(ht,ze)}).getOr(Se)}},m=function(de){return function(Se,ce){Ye(ce,function(ze){return de(Se,ze)})}},h=function(de,Se){return No(de.element,"aria-hidden")!=="true"},_=function(de,Se){if(!h(de)){var ce=de.element;qa(ce,"display"),Qi(ce,"aria-hidden"),Fn(de,Lf(),{name:Se,visible:!0})}},C=function(de,Se){if(h(de)){var ce=de.element;Xn(ce,"display","none"),va(ce,"aria-hidden","true"),Fn(de,Lf(),{name:Se,visible:!1})}},T=d(h,!1),R=d(C),B=m(R),U=function(de){return B(de,o())},q=d(_),ee={getSlotNames:o,getSlot:c,isShowing:T,hideSlot:R,hideAllSlots:U,showSlot:q};return{uid:t.uid,dom:t.dom,components:n,behaviours:hg(t.slotBehaviours),apis:ee}},ov=sr({getSlotNames:function(t,n){return t.getSlotNames(n)},getSlot:function(t,n,o){return t.getSlot(n,o)},isShowing:function(t,n,o){return t.isShowing(n,o)},hideSlot:function(t,n,o){return t.hideSlot(n,o)},hideAllSlots:function(t,n){return t.hideAllSlots(n)},showSlot:function(t,n,o){return t.showSlot(n,o)}},function(t){return Xo(t)}),eo=J(J({},ov),{sketch:fl}),$o=Dn([xo("icon"),xo("tooltip"),To("onShow",$e),To("onHide",$e),To("onSetup",function(){return $e})]),uu=function(t){return Ko("sidebar",$o,t)},sd=function(t){var n=t.ui.registry.getAll().sidebars;Ye(zt(n),function(o){var c=n[o],d=function(){return st(E.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:c.icon,tooltip:c.tooltip,onAction:function(m){t.execCommand("ToggleSidebar",!1,o),m.setActive(d())},onSetup:function(m){var h=function(){return m.setActive(d())};return t.on("ToggleSidebar",h),function(){t.off("ToggleSidebar",h)}}})})},ld=function(t){return{element:function(){return t.element.dom}}},fd=function(t,n){var o=$t(zt(n),function(c){var d=n[c],m=Ks(uu(d));return{name:c,getApi:ld,onSetup:m.onSetup,onShow:m.onShow,onHide:m.onHide}});return $t(o,function(c){var d=Nn($e);return t.slot(c.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:r1.unnamedEvents([o1(c,d),dk(c,d),Yt(Lf(),function(m,h){var _=h.event,C=Qt(o,function(T){return T.name===_.name});C.each(function(T){var R=_.visible?T.onShow:T.onHide;R(T.getApi(m))})})])})})},Jg=function(t){return eo.sketch(function(n){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:fd(n,t),slotBehaviours:r1.unnamedEvents([sa(function(o){return eo.hideAllSlots(o)})])}})},mE=function(t,n){var o=Ta.getCurrent(t);o.each(function(c){return Jn.set(c,[Jg(n)])})},gE=function(t,n){var o=Ta.getCurrent(t);o.each(function(c){var d=Ta.getCurrent(c);d.each(function(m){mc.hasGrown(c)?eo.isShowing(m,n)?mc.shrink(c):(eo.hideAllSlots(m),eo.showSlot(m,n)):(eo.hideAllSlots(m),eo.showSlot(m,n),mc.grow(c))})})},_F=function(t){var n=Ta.getCurrent(t);return n.bind(function(o){var c=mc.isGrowing(o)||mc.hasGrown(o);if(c){var d=Ta.getCurrent(o);return d.bind(function(m){return Qt(eo.getSlotNames(m),function(h){return eo.isShowing(m,h)})})}else return E.none()})},uS=mn("FixSizeEvent"),cS=mn("AutoSizeEvent"),CF=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Br([hi.config({}),Qn.config({}),mc.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(n){var o=Ta.getCurrent(n);o.each(eo.hideAllSlots),Ua(n,cS)},onGrown:function(n){Ua(n,cS)},onStartGrow:function(n){Fn(n,uS,{width:bi(n.element,"width").getOr("")})},onStartShrink:function(n){Fn(n,uS,{width:Ou(n.element)+"px"})}}),Jn.config({}),Ta.config({find:function(n){var o=Jn.contents(n);return Vt(o)}})])}],behaviours:Br([cd.childAt(0),la("sidebar-sliding-events",[Yt(uS,function(n,o){Xn(n.element,"width",o.event.width)}),Yt(cS,function(n,o){qa(n.element,"width")})])])}},fR=function(t,n,o,c){va(t.element,"aria-busy",!0);var d=n.getRoot(t).getOr(t),m=Br([Tn.config({mode:"special",onTab:function(){return E.some(!0)},onShiftTab:function(){return E.some(!0)}}),Qn.config({})]),h=c(d,m),_=d.getSystem().build(h);Jn.append(d,gs(_)),_.hasConfigured(Tn)&&n.focus&&Tn.focusIn(_),o.isBlocked()||n.onBlock(t),o.blockWith(function(){return Jn.remove(d,_)})},SF=function(t,n,o){Qi(t.element,"aria-busy"),o.isBlocked()&&n.onUnblock(t),o.clear()},xF=Object.freeze({__proto__:null,block:fR,unblock:SF}),TF=[To("getRoot",E.none),yo("focus",!0),Ka("onBlock"),Ka("onUnblock")],zF=function(){var t=R0(),n=function(o){t.set({destroy:o})};return Nu({readState:t.isSet,blockWith:n,clear:t.clear,isBlocked:t.isSet})},Mh=Object.freeze({__proto__:null,init:zF}),iv=Hi({fields:TF,name:"blocking",apis:xF,state:Mh}),xe=function(t){return function(n,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:nm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},it=function(t){return Ta.getCurrent(t).each(function(n){return xl(n.element)})},Sr=function(t,n){var o="tabindex",c="data-mce-"+o;E.from(t.iframeElement).map(le.fromDom).each(function(d){n?(Go(d,o).each(function(m){return va(d,c,m)}),va(d,o,-1)):(Qi(d,o),Go(d,c).each(function(m){va(d,o,m),Qi(d,c)}))})},Vr=function(t,n,o,c){var d=n.element;if(Sr(t,o),o)iv.block(n,xe(c)),qa(d,"display"),Qi(d,"aria-hidden"),t.hasFocus()&&it(n);else{var m=Ta.getCurrent(n).exists(function(h){return Op(h.element)});iv.unblock(n),Xn(d,"display","none"),va(d,"aria-hidden","true"),m&&t.focus()}},ba=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Br([Jn.config({}),iv.config({focus:!1}),Ta.config({find:function(n){return Vt(n.components())}})]),components:[]}},no=function(t){return t.type==="focusin"},Yo=function(t){if(no(t)){var n=t.composed?Vt(t.composedPath()):E.from(t.target);return n.map(le.fromDom).filter(N).exists(function(o){return ac(o,"mce-pastebin")})}else return!1},Qg=function(t,n,o){var c=Nn(!1),d=fi(),m=function(_){c.get()&&!Yo(_)&&(_.preventDefault(),it(n()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",m),t.on("BeforeExecCommand",function(_){_.command.toLowerCase()==="mcefocus"&&_.value!==!0&&m(_)})});var h=function(_){_!==c.get()&&(c.set(_),Vr(t,n(),_,o.providers),t.fire("AfterProgressState",{state:_}))};t.on("ProgressState",function(_){if(d.on(Qf.clearTimeout),Ot(_.time)){var C=Qf.setEditorTimeout(t,function(){return h(_.state)},_.time);d.set(C)}else h(_.state),d.clear()})},DL=function(t,n){var o={len:0,list:[]},c=Zr(t,function(d,m){var h=n(m,d.len);return h.fold(se(d),function(_){return{len:_.finish,list:d.list.concat([_])}})},o);return c.list},EF=function(t,n,o){return{within:t,extra:n,withinWidth:o}},pI=function(t,n,o){var c=DL(t,function(_,C){var T=o(_);return E.some({element:_,start:C,finish:C+T,width:T})}),d=Zt(c,function(_){return _.finish<=n}),m=qr(d,function(_,C){return _+C.width},0),h=c.slice(d.length);return{within:d,extra:h,withinWidth:m}},dR=function(t){return $t(t,function(n){return n.element})},RL=function(t,n,o){var c=dR(t.concat(n));return EF(c,[],o)},PL=function(t,n,o,c){var d=dR(t).concat([o]);return EF(d,dR(n),c)},BL=function(t,n,o){return EF(dR(t),[],o)},ML=function(t,n,o){var c=pI(n,t,o);return c.extra.length===0?E.some(c):E.none()},NL=function(t,n,o,c){var d=ML(t,n,o).getOrThunk(function(){return pI(n,t-o(c),o)}),m=d.within,h=d.extra,_=d.withinWidth;return h.length===1&&h[0].width<=o(c)?RL(m,h,_):h.length>=1?PL(m,h,c,_):BL(m,h,_)},hI=function(t,n){var o=$t(n,function(c){return gs(c)});Cf.setGroups(t,o)},FL=function(t){return bt(t,function(n){return Tl(n.element).bind(function(o){return n.getSystem().getByDom(o).toOptional()})})},yI=function(t,n,o){var c=n.builtGroups.get();if(c.length!==0){var d=df(t,n,"primary"),m=_i.getCoupled(t,"overflowGroup");Xn(d.element,"visibility","hidden");var h=c.concat([m]),_=FL(h);o([]),hI(d,h);var C=Ou(d.element),T=NL(C,n.builtGroups.get(),function(R){return Ou(R.element)},m);T.extra.length===0?(Jn.remove(d,m),o([])):(hI(d,T.within),o(T.extra)),qa(d.element,"visibility"),Ao(d.element),_.each(Qn.focus)}},bI=se([Vi("splitToolbarBehaviours",[_i]),tc("builtGroups",function(){return Nn([])})]),IL=se([Tv(["overflowToggledClass"]),yd("getOverflowBounds"),Ut("lazySink"),tc("overflowGroups",function(){return Nn([])})].concat(bI())),$L=se([_u({factory:Cf,schema:Bh(),name:"primary"}),ps({schema:Bh(),name:"overflow"}),ps({name:"overflow-button"}),ps({name:"overflow-group"})]),AF=se(function(t,n){fu(t,Math.floor(n))}),LL=se([Tv(["toggledClass"]),Ut("lazySink"),Vu("fetch"),yd("getBounds"),Uc("fireDismissalEventInstead",[Ae("event",Js())]),Fd()]),HL=se([ps({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Br([Oa.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ps({factory:Cf,schema:Bh(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Br([Tn.config({mode:"cyclic",onEscape:function(n){return vo(n,t,"button").each(Qn.focus),E.none()}})])}}})]),wI=function(t,n){var o=_i.getCoupled(t,"toolbarSandbox");Pa.isOpen(o)?Pa.close(o):Pa.open(o,n.toolbar())},OF=function(t,n,o,c){var d=o.getBounds.map(function(h){return h()}),m=o.lazySink(t).getOrDie();di.positionWithinBounds(m,n,{anchor:{type:"hotspot",hotspot:t,layouts:c,overrides:{maxWidthFunction:AF()}}},d)},kI=function(t,n,o,c,d){Cf.setGroups(n,d),OF(t,n,o,c),Oa.on(t)},VL=function(t,n,o){var c=Cv(),d=function(h,_){o.fetch().get(function(C){kI(t,_,o,n.layouts,C),c.link(t.element),Tn.focusIn(_)})},m=function(){Oa.off(t),Qn.focus(t),c.unlink(t.element)};return{dom:{tag:"div",attributes:{id:c.id}},behaviours:Br([Tn.config({mode:"special",onEscape:function(h){return Pa.close(h),E.some(!0)}}),Pa.config({onOpen:d,onClose:m,isPartOf:function(h,_,C){return Sv(_,C)||Sv(t,C)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Uu.config({channels:J(J({},Ec(J({isExtraPart:Dt},o.fireDismissalEventInstead.map(function(h){return{fireEventInstead:{event:h.event}}}).getOr({})))),Lv({doReposition:function(){Pa.getState(_i.getCoupled(t,"toolbarSandbox")).each(function(h){OF(t,h,o,n.layouts)})}}))})])}},UL=function(t,n,o,c){return J(J({},Kc.sketch(J(J({},c.button()),{action:function(d){wI(d,c)},buttonBehaviours:Rs.augment({dump:c.button().buttonBehaviours},[_i.config({others:{toolbarSandbox:function(d){return VL(d,o,t)}}})])}))),{apis:{setGroups:function(d,m){Pa.getState(_i.getCoupled(d,"toolbarSandbox")).each(function(h){kI(d,h,t,o.layouts,m)})},reposition:function(d){Pa.getState(_i.getCoupled(d,"toolbarSandbox")).each(function(m){OF(d,m,t,o.layouts)})},toggle:function(d){wI(d,c)},getToolbar:function(d){return Pa.getState(_i.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Pa.isOpen(_i.getCoupled(d,"toolbarSandbox"))}}})},$k=lc({name:"FloatingToolbarButton",factory:UL,configFields:LL(),partFields:HL(),apis:{setGroups:function(t,n,o){t.setGroups(n,o)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},getToolbar:function(t,n){return t.getToolbar(n)},isOpen:function(t,n){return t.isOpen(n)}}}),jL=se([Ut("items"),Tv(["itemSelector"]),Vi("tgroupBehaviours",[Tn])]),WL=se([ff({name:"items",unit:"item"})]),qL=function(t,n,o,c){return{uid:t.uid,dom:t.dom,components:n,behaviours:nu(t.tgroupBehaviours,[Tn.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},vR=lc({name:"ToolbarGroup",configFields:jL(),partFields:WL(),factory:qL}),_I=function(t){return $t(t,function(n){return gs(n)})},CI=function(t,n,o){yI(t,o,function(c){o.overflowGroups.set(c),n.getOpt(t).each(function(d){$k.setGroups(d,_I(c))})})},GL=function(t,n,o,c){var d=ro($k.sketch({fetch:function(){return Ku.nu(function(m){m(_I(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Gi,Fu]},onRtl:function(){return[Fu,Gi]},onBottomLtr:function(){return[cc,uc]},onBottomRtl:function(){return[uc,cc]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:c["overflow-button"](),toolbar:c.overflow()}}));return{uid:t.uid,dom:t.dom,components:n,behaviours:nu(t.splitToolbarBehaviours,[_i.config({others:{overflowGroup:function(){return vR.sketch(J(J({},c["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(m,h){t.builtGroups.set($t(h,m.getSystem().build)),CI(m,d,t)},refresh:function(m){return CI(m,d,t)},toggle:function(m){d.getOpt(m).each(function(h){$k.toggle(h)})},isOpen:function(m){return d.getOpt(m).map($k.isOpen).getOr(!1)},reposition:function(m){d.getOpt(m).each(function(h){$k.reposition(h)})},getOverflow:function(m){return d.getOpt(m).bind($k.getToolbar)}},domModification:{attributes:{role:"group"}}}},SI=lc({name:"SplitFloatingToolbar",configFields:IL(),partFields:$L(),factory:GL,apis:{setGroups:function(t,n,o){t.setGroups(n,o)},refresh:function(t,n){t.refresh(n)},reposition:function(t,n){t.reposition(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)},getOverflow:function(t,n){return t.getOverflow(n)}}}),KL=se([Tv(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),Ka("onOpened"),Ka("onClosed")].concat(bI())),XL=se([_u({factory:Cf,schema:Bh(),name:"primary"}),_u({factory:Cf,schema:Bh(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Br([mc.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(n){vo(n,t,"overflow-button").each(function(o){Oa.off(o),Qn.focus(o)}),t.onClosed(n)},onGrown:function(n){Tn.focusIn(n),t.onOpened(n)},onStartGrow:function(n){vo(n,t,"overflow-button").each(Oa.on)}}),Tn.config({mode:"acyclic",onEscape:function(n){return vo(n,t,"overflow-button").each(Qn.focus),E.some(!0)}})])}}}),ps({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Br([Oa.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ps({name:"overflow-group"})]),YL=function(t,n){return vo(t,n,"overflow").map(mc.hasGrown).getOr(!1)},xI=function(t,n){vo(t,n,"overflow-button").bind(function(){return vo(t,n,"overflow")}).each(function(o){DF(t,n),mc.toggleGrow(o)})},DF=function(t,n){vo(t,n,"overflow").each(function(o){yI(t,n,function(c){var d=$t(c,function(m){return gs(m)});Cf.setGroups(o,d)}),vo(t,n,"overflow-button").each(function(c){mc.hasGrown(o)&&Oa.on(c)}),mc.refresh(o)})},ZL=function(t,n,o,c){var d="alloy.toolbar.toggle",m=function(h,_){var C=$t(_,h.getSystem().build);t.builtGroups.set(C)};return{uid:t.uid,dom:t.dom,components:n,behaviours:nu(t.splitToolbarBehaviours,[_i.config({others:{overflowGroup:function(h){return vR.sketch(J(J({},c["overflow-group"]()),{items:[Kc.sketch(J(J({},c["overflow-button"]()),{action:function(_){Ua(h,d)}}))]}))}}}),la("toolbar-toggle-events",[Yt(d,function(h){xI(h,t)})])]),apis:{setGroups:function(h,_){m(h,_),DF(h,t)},refresh:function(h){return DF(h,t)},toggle:function(h){return xI(h,t)},isOpen:function(h){return YL(h,t)}},domModification:{attributes:{role:"group"}}}},RF=lc({name:"SplitSlidingToolbar",configFields:KL(),partFields:XL(),factory:ZL,apis:{setGroups:function(t,n,o){t.setGroups(n,o)},refresh:function(t,n){t.refresh(n)},toggle:function(t,n){t.toggle(n)},isOpen:function(t,n){return t.isOpen(n)}}}),TI=function(t){var n=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:J({tag:"div",classes:["tox-toolbar__group"]},n),components:[vR.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Br([hi.config({}),Qn.config({})])}},mR=function(t){return vR.sketch(TI(t))},zI=function(t,n){var o=sa(function(c){var d=$t(t.initGroups,mR);Cf.setGroups(c,d)});return Br([Ml.toolbarButton(t.providers.isDisabled),Xi(),Tn.config({mode:n,onEscape:t.onEscape,selector:".tox-toolbar__group"}),la("toolbar-events",[o])])},EI=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":TI({title:E.none(),items:[]}),"overflow-button":Iz({icon:E.some("more-drawer"),disabled:!1,tooltip:E.some("More...")},E.none(),t.providers)},splitToolbarBehaviours:zI(t,n)}},JL=function(t){var n=EI(t),o=4,c=SI.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return SI.sketch(J(J({},n),{lazySink:t.getSink,getOverflowBounds:function(){var d=t.moreDrawerData.lazyHeader().element,m=Ul(d),h=wt(d),_=Ul(h),C=Math.max(h.dom.scrollHeight,_.height);return Mi(m.x+o,_.y,m.width-o*2,C)},parts:J(J({},n.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[c],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},QL=function(t){var n=RF.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=RF.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=EI(t);return RF.sketch(J(J({},c),{components:[n,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([r()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([r()],{type:"closed"})}}))},gR=function(t){var n=t.cyclicKeying?"cyclic":"acyclic";return Cf.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===ul.scrolling?["tox-toolbar--scrolling"]:[])},components:[Cf.parts.groups({})],toolbarBehaviours:zI(t,n)})},e7=function(t,n,o){var c={getSocket:function(d){return ws.getPart(d,t,"socket")},setSidebar:function(d,m){ws.getPart(d,t,"sidebar").each(function(h){return mE(h,m)})},toggleSidebar:function(d,m){ws.getPart(d,t,"sidebar").each(function(h){return gE(h,m)})},whichSidebar:function(d){return ws.getPart(d,t,"sidebar").bind(_F).getOrNull()},getHeader:function(d){return ws.getPart(d,t,"header")},getToolbar:function(d){return ws.getPart(d,t,"toolbar")},setToolbar:function(d,m){ws.getPart(d,t,"toolbar").each(function(h){h.getApis().setGroups(h,m)})},setToolbars:function(d,m){ws.getPart(d,t,"multiple-toolbar").each(function(h){oE.setItems(h,m)})},refreshToolbar:function(d){var m=ws.getPart(d,t,"toolbar");m.each(function(h){return h.getApis().refresh(h)})},toggleToolbarDrawer:function(d){ws.getPart(d,t,"toolbar").each(function(m){Fa(m.getApis().toggle,function(h){return h(m)})})},isToolbarDrawerToggled:function(d){return ws.getPart(d,t,"toolbar").bind(function(m){return E.from(m.getApis().isOpen).map(function(h){return h(m)})}).getOr(!1)},getThrobber:function(d){return ws.getPart(d,t,"throbber")},focusToolbar:function(d){var m=ws.getPart(d,t,"toolbar").orThunk(function(){return ws.getPart(d,t,"multiple-toolbar")});m.each(function(h){Tn.focusIn(h)})},setMenubar:function(d,m){ws.getPart(d,t,"menubar").each(function(h){Qr.setMenus(h,m)})},focusMenubar:function(d){ws.getPart(d,t,"menubar").each(function(m){Qr.focus(m)})}};return{uid:t.uid,dom:t.dom,components:n,apis:c,behaviours:t.behaviours}},t7=Ph.optional({factory:Qr,name:"menubar",schema:[Ut("backstage")]}),r7=function(t){return t.type===ul.sliding?QL:t.type===ul.floating?JL:gR},n7=Ph.optional({factory:{sketch:function(t){return oE.sketch({uid:t.uid,dom:t.dom,listBehaviours:Br([Tn.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return gR({type:t.type,uid:mn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),E.some(!0)}})},setupItem:function(n,o,c,d){Cf.setGroups(o,c)},shell:!0})}},name:"multiple-toolbar",schema:[Ut("dom"),Ut("onEscape")]}),a7=Ph.optional({factory:{sketch:function(t){var n=r7(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),E.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return n(o)}},name:"toolbar",schema:[Ut("dom"),Ut("onEscape"),Ut("getSink")]}),o7=Ph.optional({factory:{sketch:pe},name:"header",schema:[Ut("dom")]}),i7=Ph.optional({name:"socket",schema:[Ut("dom")]}),u7=Ph.optional({factory:{sketch:CF},name:"sidebar",schema:[Ut("dom")]}),c7=Ph.optional({factory:{sketch:ba},name:"throbber",schema:[Ut("dom")]}),Ai=lc({name:"OuterContainer",factory:e7,configFields:[Ut("dom"),Ut("behaviours")],partFields:[o7,t7,a7,n7,i7,u7,c7],apis:{getSocket:function(t,n){return t.getSocket(n)},setSidebar:function(t,n,o){t.setSidebar(n,o)},toggleSidebar:function(t,n,o){t.toggleSidebar(n,o)},whichSidebar:function(t,n){return t.whichSidebar(n)},getHeader:function(t,n){return t.getHeader(n)},getToolbar:function(t,n){return t.getToolbar(n)},setToolbar:function(t,n,o){var c=$t(o,function(d){return mR(d)});t.setToolbar(n,c)},setToolbars:function(t,n,o){var c=$t(o,function(d){return $t(d,mR)});t.setToolbars(n,c)},refreshToolbar:function(t,n){return t.refreshToolbar(n)},toggleToolbarDrawer:function(t,n){t.toggleToolbarDrawer(n)},isToolbarDrawerToggled:function(t,n){return t.isToolbarDrawerToggled(n)},getThrobber:function(t,n){return t.getThrobber(n)},setMenubar:function(t,n,o){t.setMenubar(n,o)},focusMenubar:function(t,n){t.focusMenubar(n)},focusToolbar:function(t,n){t.focusToolbar(n)}}}),s7="file edit view insert format tools table help",AI={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},l7=function(t,n,o){var c=bT(o).split(/[ ,]/);return{text:t.title,getItems:function(){return gr(t.items,function(d){var m=d.toLowerCase();return m.trim().length===0?[]:Un(c,function(h){return h===m})?[]:m==="separator"||m==="|"?[{type:"separator"}]:n.menuItems[m]?[n.menuItems[m]]:[]})}}},PF=function(t){return typeof t=="string"?t.split(" "):t},OI=function(t,n){var o=J(J({},AI),n.menus),c=zt(n.menus).length>0,d=n.menubar===void 0||n.menubar===!0?PF(s7):PF(n.menubar===!1?"":n.menubar),m=Zt(d,function(_){var C=K(AI,_);return c?C||at(n.menus,_).exists(function(T){return K(T,"items")}):C}),h=$t(m,function(_){var C=o[_];return l7({title:C.title,items:PF(C.items)},n,t)});return Zt(h,function(_){var C=function(T){return T.type!=="separator"};return _.getItems().length>0&&Un(_.getItems(),C)})},DI=function(t){var n=function(){t._skinLoaded=!0,IB(t)};return function(){t.initialized?n():t.on("init",n)}},f7=function(t,n){return function(){return $B(t,{message:n})}},RI=function(t,n,o){return new bh(function(c,d){o.load(n,c,d),t.on("remove",function(){return o.unload(n)})})},d7=function(t,n){var o=n+"/skin.min.css";return RI(t,o,t.ui.styleSheetLoader)},v7=function(t,n){var o=ln(le.fromDom(t.getElement()));if(o){var c=n+"/skin.shadowdom.min.css";return RI(t,c,lk.DOM.styleSheetLoader)}else return bh.resolve()},PI=function(t,n){var o=eB(n);o&&n.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),rB(n)===!1&&gt(o)?bh.all([d7(n,o),v7(n,o)]).then(DI(n),f7(n,"Skin could not be loaded")):DI(n)()},m7=Nr(PI,!1),g7=Nr(PI,!0),pR=function(t,n){return function(o){var c=Km(),d=function(){o.setActive(t.formatter.match(n));var m=t.formatter.formatChanged(n,o.setActive);c.set(m)};return t.initialized?d():t.once("init",d),function(){t.off("init",d),c.clear()}}},hR=function(t,n,o){return function(c){var d=function(){return o(c)},m=function(){o(c),t.on(n,d)};return t.initialized?m():t.once("init",m),function(){t.off("init",m),t.off(n,d)}}},BI=function(t){return function(n){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,n.format)})}}},dd=function(t,n){return function(){return t.execCommand(n)}},p7=function(t,n,o){var c=function(_,C,T,R){var B=n.shared.providers.translate(_.title);if(_.type==="separator")return E.some({type:"separator",text:B});if(_.type==="submenu"){var U=gr(_.getStyleItems(),function(q){return d(q,C,R)});return C===0&&U.length<=0?E.none():E.some({type:"nestedmenuitem",text:B,disabled:U.length<=0,getSubmenuItems:function(){return gr(_.getStyleItems(),function(q){return d(q,C,R)})}})}else return E.some(J({type:"togglemenuitem",text:B,icon:_.icon,active:_.isSelected(R),disabled:T,onAction:o.onAction(_)},_.getStylePreview().fold(function(){return{}},function(q){return{meta:{style:q}}})))},d=function(_,C,T){var R=_.type==="formatter"&&o.isInvalid(_);return C===0?R?[]:c(_,C,!1,T).toArray():c(_,C,R,T).toArray()},m=function(_){var C=o.getCurrentValue(),T=o.shouldHide?0:1;return gr(_,function(R){return d(R,T,C)})},h=function(_,C){return function(T,R){var B=C(),U=m(B),q=z1(U,rd.CLOSE_ON_EXECUTE,_,!1);R(q)}};return{validateItems:m,getFetch:h}},sS=function(t,n,o){var c=o.dataset,d=c.type==="basic"?function(){return $t(c.data,function(m){return WD(m,o.isSelectedFor,o.getPreviewFor)})}:c.getData;return{items:p7(t,n,o),getStyleItems:d}},pE=function(t,n,o){var c=sS(t,n,o),d=c.items,m=c.getStyleItems,h=function(C){return{getComponent:se(C)}},_=hR(t,"NodeChange",function(C){var T=C.getComponent();o.updateText(T)});return Nz({text:o.icon.isSome()?E.none():o.text,icon:o.icon,tooltip:E.from(o.tooltip),role:E.none(),fetch:d.getFetch(n,m),onSetup:_,getApi:h,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",n.shared)},h7=function(t){return $t(t,function(n){var o=n,c=n,d=n.split("=");return d.length>1&&(o=d[0],c=d[1]),{title:o,format:c}})},y7=function(t){return{type:"basic",data:t}},lS;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(lS||(lS={}));var b7=function(t,n){return n===lS.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},BF=function(t,n,o,c){var d=t.getParam(n,o,"string"),m=h7(b7(d,c));return{type:"basic",data:m}},MF=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],MI=function(t){var n=function(){return Qt(MF,function(_){return t.formatter.match(_.format)})},o=function(_){return function(){return t.formatter.match(_)}},c=function(_){return E.none},d=function(_){var C=n(),T=C.fold(se("left"),function(R){return R.title.toLowerCase()});Fn(_,Mz,{icon:"align-"+T})},m=y7(MF),h=function(_){return function(){return Qt(MF,function(C){return C.format===_.format}).each(function(C){return t.execCommand(C.command)})}};return{tooltip:"Align",text:E.none(),icon:E.some("align-left"),isSelectedFor:o,getCurrentValue:E.none,getPreviewFor:c,onAction:h,updateText:d,dataset:m,shouldHide:!1,isInvalid:function(_){return!t.formatter.canApply(_.format)}}},w7=function(t,n){return pE(t,n,MI(t))},k7=function(t,n){var o=sS(t,n,MI(t));t.ui.registry.addNestedMenuItem("align",{text:n.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},_7="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",C7=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],NI=function(t){var n=t.split(/\s*,\s*/);return $t(n,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},S7=function(t){var n=function(){var o=NI(t.toLowerCase());return Ne(C7,function(c){return o.indexOf(c.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&n()},FI=function(t){var n="System Font",o=function(){var T=function(ee){return ee?NI(ee)[0]:""},R=t.queryCommandValue("FontName"),B=C.data,U=R?R.toLowerCase():"",q=Qt(B,function(ee){var de=ee.format;return de.toLowerCase()===U||T(de).toLowerCase()===T(U).toLowerCase()}).orThunk(function(){return Ha(S7(U),{title:n,format:U})});return{matchOpt:q,font:R}},c=function(T){return function(R){return R.exists(function(B){return B.format===T})}},d=function(){var T=o().matchOpt;return T},m=function(T){return function(){return E.some({tag:"div",styles:T.indexOf("dings")===-1?{"font-family":T}:{}})}},h=function(T){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,T.format)})}},_=function(T){var R=o(),B=R.matchOpt,U=R.font,q=B.fold(se(U),function(ee){return ee.title});Fn(T,Eh,{text:q})},C=BF(t,"font_formats",_7,lS.SemiColon);return{tooltip:"Fonts",text:E.some(n),icon:E.none(),isSelectedFor:c,getCurrentValue:d,getPreviewFor:m,onAction:h,updateText:_,dataset:C,shouldHide:!1,isInvalid:Dt}},x7=function(t,n){return pE(t,n,FI(t))},T7=function(t,n){var o=sS(t,n,FI(t));t.ui.registry.addNestedMenuItem("fontformats",{text:n.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},z7="8pt 10pt 12pt 14pt 18pt 24pt 36pt",E7={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},A7={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},O7=function(t,n){var o=Math.pow(10,n);return Math.round(t*o)/o},D7=function(t,n){return/[0-9.]+px$/.test(t)?O7(parseInt(t,10)*72/96,n||0)+"pt":at(A7,t).getOr(t)},R7=function(t){return at(E7,t).getOr("")},II=function(t){var n=function(){var C=E.none(),T=_.data,R=t.queryCommandValue("FontSize");if(R)for(var B=function(q){var ee=D7(R,q),de=R7(ee);C=Qt(T,function(Se){return Se.format===R||Se.format===ee||Se.format===de})},U=3;C.isNone()&&U>=0;U--)B(U);return{matchOpt:C,size:R}},o=function(C){return function(T){return T.exists(function(R){return R.format===C})}},c=function(){var C=n().matchOpt;return C},d=se(E.none),m=function(C){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,C.format)})}},h=function(C){var T=n(),R=T.matchOpt,B=T.size,U=R.fold(se(B),function(q){return q.title});Fn(C,Eh,{text:U})},_=BF(t,"fontsize_formats",z7,lS.Space);return{tooltip:"Font sizes",text:E.some("12pt"),icon:E.none(),isSelectedFor:o,getPreviewFor:d,getCurrentValue:c,onAction:m,updateText:h,dataset:_,shouldHide:!1,isInvalid:Dt}},P7=function(t,n){return pE(t,n,II(t))},B7=function(t,n){var o=sS(t,n,II(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},$I=function(t,n){var o=n(),c=$t(o,function(d){return d.format});return E.from(t.formatter.closest(c)).bind(function(d){return Qt(o,function(m){return m.format===d})}).orThunk(function(){return Ha(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},M7="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",LI=function(t){var n="Paragraph",o=function(h){return function(){return t.formatter.match(h)}},c=function(h){return function(){var _=t.formatter.get(h);return E.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))})}},d=function(h){var _=$I(t,function(){return m.data}),C=_.fold(se(n),function(T){return T.title});Fn(h,Eh,{text:C})},m=BF(t,"block_formats",M7,lS.SemiColon);return{tooltip:"Blocks",text:E.some(n),icon:E.none(),isSelectedFor:o,getCurrentValue:E.none,getPreviewFor:c,onAction:BI(t),updateText:d,dataset:m,shouldHide:!1,isInvalid:function(h){return!t.formatter.canApply(h.format)}}},N7=function(t,n){return pE(t,n,LI(t))},F7=function(t,n){var o=sS(t,n,LI(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},HI=function(t,n){var o="Paragraph",c=function(h){return function(){return t.formatter.match(h)}},d=function(h){return function(){var _=t.formatter.get(h);return _!==void 0?E.some({tag:_.length>0&&(_[0].inline||_[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(h))}):E.none()}},m=function(h){var _=function(B){var U=B.items;return U!==void 0&&U.length>0?gr(U,_):[{title:B.title,format:B.format}]},C=gr(Gg(t),_),T=$I(t,se(C)),R=T.fold(se(o),function(B){return B.title});Fn(h,Eh,{text:R})};return{tooltip:"Formats",text:E.some(o),icon:E.none(),isSelectedFor:c,getCurrentValue:E.none,getPreviewFor:d,onAction:BI(t),updateText:m,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(h){return!t.formatter.canApply(h.format)},dataset:n}},I7=function(t,n){var o=J({type:"advanced"},n.styleselect);return pE(t,n,HI(t,o))},$7=function(t,n){var o=J({type:"advanced"},n.styleselect),c=sS(t,n,HI(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return c.items.validateItems(c.getStyleItems())}})},L7=function(t,n){var o=function(c,d){t.updateState.each(function(m){var h=m(c,d);n.set(h)}),t.renderComponents.each(function(m){var h=m(d,n.get()),_=$t(h,c.getSystem().build);rw(c,_)})};return bo([Yt(Es(),function(c,d){var m=d;if(!m.universal){var h=t.channel;an(m.channels,h)&&o(c,m.data)}}),sa(function(c,d){t.initialData.each(function(m){o(c,m)})})])},H7=Object.freeze({__proto__:null,events:L7}),V7=function(t,n,o){return o},U7=Object.freeze({__proto__:null,getState:V7}),j7=[Ut("channel"),Ga("renderComponents"),Ga("updateState"),Ga("initialData")],W7=function(){var t=Nn(E.none()),n=function(){return t.set(E.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:n}},q7=Object.freeze({__proto__:null,init:W7}),Fl=Hi({fields:j7,name:"reflecting",active:H7,apis:U7,state:q7}),G7=se([Ut("toggleClass"),Ut("fetch"),ic("onExecute"),Ae("getHotspot",E.some),Ae("getAnchorOverrides",se({})),Fd(),ic("onItemExecute"),Ga("lazySink"),Ut("dom"),Ka("onOpen"),Vi("splitDropdownBehaviours",[_i,Tn,Qn]),Ae("matchWidth",!1),Ae("useMinWidth",!1),Ae("eventOrder",{}),Ga("role")].concat(YT())),K7=_u({factory:Kc,schema:[Ut("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Br([Qn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(ls)},buttonBehaviours:Br([Oa.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),X7=_u({factory:Kc,schema:[Ut("dom")],name:"button",defaults:function(){return{buttonBehaviours:Br([Qn.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(n){n.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,n)})}}}}),Y7=se([K7,X7,Ps({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[Ut("text")],name:"aria-descriptor"}),ps({schema:[xv()],name:"menu",defaults:function(t){return{onExecute:function(n,o){n.getSystem().getByUid(t.uid).each(function(c){t.onItemExecute(c,n,o)})}}}}),NA()]),Z7=function(t,n,o,c){var d,m=function(B){Ta.getCurrent(B).each(function(U){Ja.highlightFirst(U),Tn.focusIn(U)})},h=function(B){var U=m;g1(t,or,B,c,U,ad.HighlightFirst).get($e)},_=function(B){return h(B),E.some(!0)},C=function(B){var U=df(B,t,"button");return ls(U),E.some(!0)},T=J(J({},bo([sa(function(B,U){var q=vo(B,t,"aria-descriptor");q.each(function(ee){var de=mn("aria");va(ee.element,"id",de),va(B.element,"aria-describedby",de)})})])),Wb(E.some(h))),R={repositionMenus:function(B){Oa.isOn(B)&&IA(B)}};return{uid:t.uid,dom:t.dom,components:n,apis:R,eventOrder:J(J({},t.eventOrder),(d={},d[cs()]=["disabling","toggling","alloy.base.behaviour"],d)),events:T,behaviours:nu(t.splitDropdownBehaviours,[_i.config({others:{sandbox:function(B){var U=df(B,t,"arrow"),q={onOpen:function(){Oa.on(U),Oa.on(B)},onClose:function(){Oa.off(U),Oa.off(B)}};return XT(t,B,q)}}}),Tn.config({mode:"special",onSpace:C,onEnter:C,onDown:_}),Qn.config({}),Oa.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},yR=lc({name:"SplitDropdown",configFields:G7(),partFields:Y7(),factory:Z7,apis:{repositionMenus:function(t,n){return t.repositionMenus(n)}}}),J7=function(t){return{isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(n){return Mn.set(t,n)}}},Q7=function(t){return{setActive:function(n){Oa.set(t,n)},isActive:function(){return Oa.isOn(t)},isDisabled:function(){return Mn.isDisabled(t)},setDisabled:function(n){return Mn.set(t,n)}}},VI=function(t,n){return t.map(function(o){return{"aria-label":n.translate(o),title:n.translate(o)}}).getOr({})},UI=mn("focus-button"),NF=function(t,n,o,c,d,m){var h;return{dom:{tag:"button",classes:["tox-tbtn"].concat(n.isSome()?["tox-tbtn--select"]:[]),attributes:VI(o,m)},components:i1([t.map(function(_){return I3(_,m.icons)}),n.map(function(_){return Bz(_,"tox-tbtn",m)})]),eventOrder:(h={},h[Zs()]=["focusing","alloy.base.behaviour","common-button-display-events"],h),buttonBehaviours:Br([Ml.toolbarButton(m.isDisabled),Xi(),la("common-button-display-events",[Yt(Zs(),function(_,C){C.event.prevent(),Ua(_,UI)})])].concat(c.map(function(_){return Fl.config({channel:_,initialData:{icon:t,text:n},renderComponents:function(C,T){return i1([C.icon.map(function(R){return I3(R,m.icons)}),C.text.map(function(R){return Bz(R,"tox-tbtn",m)})])}})}).toArray()).concat(d.getOr([])))}},eH=function(t,n,o,c){var d=n.shared;return $k.sketch({lazySink:d.getSink,fetch:function(){return Ku.nu(function(m){m($t(o(t.items),mR))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:NF(t.icon,t.text,t.tooltip,E.none(),E.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:c}}}})},jI=function(t,n,o){var c=Nn($e),d=NF(t.icon,t.text,t.tooltip,E.none(),E.none(),o);return Kc.sketch({dom:d.dom,components:d.components,eventOrder:nD,buttonBehaviours:Br([la("toolbar-button-events",[_6({onAction:t.onAction,getApi:n.getApi}),o1(n,c),dk(n,c)]),Ml.toolbarButton(function(){return t.disabled||o.isDisabled()}),Xi()].concat(n.toolbarButtonBehaviours))})},tH=function(t,n){return WI(t,n,[])},WI=function(t,n,o){return jI(t,{toolbarButtonBehaviours:[].concat(o.length>0?[la("toolbarButtonWith",o)]:[]),getApi:J7,onSetup:t.onSetup},n)},rH=function(t,n){return qI(t,n,[])},qI=function(t,n,o){return xt(jI(t,{toolbarButtonBehaviours:[Jn.config({}),Oa.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[la("toolbarToggleButtonWith",o)]:[]),getApi:Q7,onSetup:t.onSetup},n))},nH=function(t,n,o){return function(c){return Ku.nu(function(d){return n.fetch(d)}).map(function(d){return E.from(uA(xt(f1(mn("menu-value"),d,function(m){n.onItemAction(t(c),m)},n.columns,n.presets,rd.CLOSE_ON_EXECUTE,n.select.getOr(Dt),o),{movement:n3(n.columns,n.presets),menuBehaviours:r1.unnamedEvents(n.columns!=="auto"?[]:[sa(function(m,h){hT(m,4,sT(n.presets)).each(function(_){var C=_.numRows,T=_.numColumns;Tn.setGridSize(m,C,T)})})])})))})}},aH=function(t,n){var o,c=mn("channel-update-split-dropdown-display"),d=function(_){return{isDisabled:function(){return Mn.isDisabled(_)},setDisabled:function(C){return Mn.set(_,C)},setIconFill:function(C,T){Ii(_.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(R){va(R,"fill",T)})},setIconStroke:function(C,T){Ii(_.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(R){va(R,"stroke",T)})},setActive:function(C){va(_.element,"aria-pressed",C),Ii(_.element,"span").each(function(T){_.getSystem().getByDom(T).each(function(R){return Oa.set(R,C)})})},isActive:function(){return Ii(_.element,"span").exists(function(C){return _.getSystem().getByDom(C).exists(Oa.isOn)})}}},m=Nn($e),h={getApi:d,onSetup:t.onSetup};return yR.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:J({"aria-pressed":!1},VI(t.tooltip,n.providers))},onExecute:function(_){t.onAction(d(_))},onItemExecute:function(_,C,T){},splitDropdownBehaviours:Br([Ml.splitButton(n.providers.isDisabled),Xi(),la("split-dropdown-events",[Yt(UI,Qn.focus),o1(h,m),dk(h,m)]),h1.config({})]),eventOrder:(o={},o[jc()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:n.getSink,fetch:nH(d,t,n.providers),parts:{menu:NC(!1,t.columns,t.presets)},components:[yR.parts.button(NF(t.icon,t.text,E.none(),E.some(c),E.some([Oa.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),n.providers)),yR.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:AE("chevron-down",n.providers.icons)},buttonBehaviours:Br([Ml.splitButton(n.providers.isDisabled),Xi(),Z8()])}),yR.parts["aria-descriptor"]({text:n.providers.translate("To open the popup, press Shift+Enter")})]})},oH=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],hE=function(t,n){return function(o,c,d){var m=t(o).mapError(function(h){return hd(h)}).getOrDie();return n(m,c,d)}},fS={button:hE(KE,function(t,n){return tH(t,n.backstage.shared.providers)}),togglebutton:hE(nT,function(t,n){return rH(t,n.backstage.shared.providers)}),menubutton:hE(Ge,function(t,n){return H3(t,"tox-tbtn",n.backstage,E.none())}),splitbutton:hE(ur,function(t,n){return aH(t,n.backstage.shared)}),grouptoolbarbutton:hE(je,function(t,n,o){var c,d=o.ui.registry.getAll().buttons,m=function(_){return bR(o,{buttons:d,toolbar:_,allowToolbarGroups:!1},n,E.none())},h=(c={},c[Wy]=n.backstage.shared.header.isPositionedAtTop()?nf.TopToBottom:nf.BottomToTop,c);switch(fk(o)){case ul.floating:return eH(t,n.backstage,m,h);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,n){return I7(t,n.backstage)},fontsizeSelectButton:function(t,n){return P7(t,n.backstage)},fontSelectButton:function(t,n){return x7(t,n.backstage)},formatButton:function(t,n){return N7(t,n.backstage)},alignMenuButton:function(t,n){return w7(t,n.backstage)}},iH=function(t,n,o){return at(fS,t.type).fold(function(){return console.error("skipping button defined by",t),E.none()},function(c){return E.some(c(t,n,o))})},GI={styleselect:fS.styleSelectButton,fontsizeselect:fS.fontsizeSelectButton,fontselect:fS.fontSelectButton,formatselect:fS.formatButton,align:fS.alignMenuButton},uH=function(t){var n=$t(oH,function(o){var c=Zt(o.items,function(d){return K(t,d)||K(GI,d)});return{name:o.name,items:c}});return Zt(n,function(o){return o.items.length>0})},cH=function(t){var n=t.split("|");return $t(n,function(o){return{items:o.trim().split(" ")}})},sH=function(t){return Je(t,function(n){return K(n,"name")&&K(n,"items")})},lH=function(t){var n=t.toolbar,o=t.buttons;return n===!1?[]:n===void 0||n===!0?uH(o):gt(n)?cH(n):sH(n)?n:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},fH=function(t,n,o,c,d,m){return at(n,o.toLowerCase()).orThunk(function(){return m.bind(function(h){return bt(h,function(_){return at(n,_+o.toLowerCase())})})}).fold(function(){return at(GI,o.toLowerCase()).map(function(h){return h(t,d)}).orThunk(function(){return E.none()})},function(h){return h.type==="grouptoolbarbutton"&&!c?(console.warn("Ignoring the '"+o+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),E.none()):iH(h,d,t)})},bR=function(t,n,o,c){var d=lH(n),m=$t(d,function(h){var _=gr(h.items,function(C){return C.trim().length===0?[]:fH(t,n.buttons,C,n.allowToolbarGroups,o,c).toArray()});return{title:E.from(t.translate(h.name)),items:_}});return Zt(m,function(h){return h.items.length>0})},KI=function(t,n,o,c){var d=n.outerContainer,m=o.toolbar,h=o.buttons;if(Je(m,gt)){var _=m.map(function(C){var T={toolbar:C,buttons:h,allowToolbarGroups:o.allowToolbarGroups};return bR(t,T,{backstage:c},E.none())});Ai.setToolbars(d,_)}else Ai.setToolbar(d,bR(t,o,{backstage:c},E.none()))},XI=dr(),dH=XI.os.isiOS()&&XI.os.version.major<=12,vH=function(t,n){var o=t.dom,c=t.getWin(),d=t.getDoc().documentElement,m=Nn(po(c.innerWidth,c.innerHeight)),h=Nn(po(d.offsetWidth,d.offsetHeight)),_=function(){var U=m.get();(U.left!==c.innerWidth||U.top!==c.innerHeight)&&(m.set(po(c.innerWidth,c.innerHeight)),OT(t))},C=function(){var U=t.getDoc().documentElement,q=h.get();(q.left!==U.offsetWidth||q.top!==U.offsetHeight)&&(h.set(po(U.offsetWidth,U.offsetHeight)),OT(t))},T=function(U){return HB(t,U)};o.bind(c,"resize",_),o.bind(c,"scroll",T);var R=Hy(le.fromDom(t.getBody()),"load",C),B=n.uiMothership.element;t.on("hide",function(){Xn(B,"display","none")}),t.on("show",function(){qa(B,"display")}),t.on("NodeChange",C),t.on("remove",function(){R.unbind(),o.unbind(c,"resize",_),o.unbind(c,"scroll",T),c=null})},mH=function(t,n,o,c,d){var m=Nn(0),h=n.outerContainer;m7(t);var _=le.fromDom(d.targetNode),C=Or(Bn(_));rl(_,n.mothership),Kf(C,n.uiMothership),t.on("PostRender",function(){KI(t,n,o,c),m.set(t.getWin().innerWidth),Ai.setMenubar(h,OI(t,o)),Ai.setSidebar(h,o.sidebar),vH(t,n)});var T=Ai.getSocket(h).getOrDie("Could not find expected socket element");if(dH){Ic(T.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var R=aP(function(){t.fire("ScrollContent")},20),B=pi(T.element,"scroll",R.throttle);t.on("remove",B.unbind)}x4(t,n),t.addCommand("ToggleSidebar",function(de,Se){Ai.toggleSidebar(h,Se),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return Ai.whichSidebar(h)});var U=fk(t),q=function(){Ai.refreshToolbar(n.outerContainer)};(U===ul.sliding||U===ul.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var de=t.getWin().innerWidth;de!==m.get()&&(q(),m.set(de))});var ee={enable:function(){a1(n,!1)},disable:function(){a1(n,!0)},isDisabled:function(){return Mn.isDisabled(h)}};return{iframeContainer:T.element.dom,editorContainer:h.element.dom,api:ee}},gH=Object.freeze({__proto__:null,render:mH}),FF=function(t){var n=/^[0-9\.]+(|px)$/i;return n.test(""+t)?E.some(parseInt(""+t,10)):E.none()},IF=function(t){return Ot(t)?t+"px":t},wR=function(t,n,o){var c=n.filter(function(m){return t<m}),d=o.filter(function(m){return t>m});return c.or(d).getOr(t)},pH=function(t){var n=d4(t),o=g4(t),c=p4(t);return FF(n).map(function(d){return wR(d,o,c)})},hH=function(t){var n=pH(t);return n.getOr(d4(t))},YI=function(t){var n=v4(t),o=m4(t),c=HC(t);return FF(n).map(function(d){return wR(d,o,c)})},yH=function(t){var n=YI(t);return n.getOr(v4(t))},bH=function(t,n,o,c,d){var m=o.uiMothership,h=o.outerContainer,_=lk.DOM,C=UC(t),T=jC(t),R=HC(t).or(YI(t)),B=c.shared.header,U=B.isPositionedAtTop,q=fk(t),ee=q===ul.sliding||q===ul.floating,de=Nn(!1),Se=function(){return de.get()&&!t.removed},ce=function(Jt){return ee?Jt.fold(se(0),function(Pt){return Pt.components().length>1?Si(Pt.components()[1].element):0}):0},ze=function(Jt){switch(y4(t)){case Ch.auto:var Pt=Ai.getToolbar(h),Er=ce(Pt),gn=Si(Jt.element)-Er,Wt=wi(n),cn=Wt.y>gn;if(cn)return"top";var Sn=wt(n),Ea=Math.max(Sn.dom.scrollHeight,Si(Sn)),ao=Wt.bottom<Ea-gn;if(ao)return"bottom";var Po=du(),ui=Po.bottom<Wt.bottom-gn;return ui?"bottom":"top";case Ch.bottom:return"bottom";case Ch.top:default:return"top"}},ht=function(Jt){var Pt=d.get();e.setModes(Pt,[Jt]),B.setDockingMode(Jt);var Er=U()?nf.TopToBottom:nf.BottomToTop;va(Pt.element,Wy,Er)},lt=function(){var Jt=R.getOrThunk(function(){var Pt=FF(ti(to(),"margin-left")).getOr(0);return Ou(to())-Ju(n).left+Pt});Xn(d.get().element,"max-width",Jt+"px")},Te=function(){var Jt=Ai.getToolbar(h),Pt=ce(Jt),Er=wi(n),gn=U()?Math.max(Er.y-Si(d.get().element)+Pt,0):Er.bottom;Ic(h.element,{position:"absolute",top:Math.round(gn)+"px",left:Math.round(Er.x)+"px"})},tt=function(){m.broadcastOn([vg()],{})},Mt=function(Jt){if(Jt===void 0&&(Jt=!1),!!Se()){if(C||lt(),ee&&Ai.refreshToolbar(h),C||Te(),T){var Pt=d.get();Jt?e.reset(Pt):e.refresh(Pt)}tt()}},jr=function(Jt){if(Jt===void 0&&(Jt=!0),!(C||!T||!Se())){var Pt=B.getDockingMode(),Er=ze(d.get());Er!==Pt&&(ht(Er),Jt&&Mt(!0))}},Gt=function(){de.set(!0),Xn(h.element,"display","flex"),_.addClass(t.getBody(),"mce-edit-focus"),qa(m.element,"display"),jr(!1),Mt()},Wr=function(){de.set(!1),o.outerContainer&&(Xn(h.element,"display","none"),_.removeClass(t.getBody(),"mce-edit-focus")),Xn(m.element,"display","none")};return{isVisible:Se,isPositionedAtTop:U,show:Gt,hide:Wr,update:Mt,updateMode:jr,repositionPopups:tt}},ZI=function(t,n){var o=wi(t);return{pos:n?o.y:o.bottom,bounds:o}},wH=function(t,n,o,c){var d=Nn(ZI(n,o.isPositionedAtTop())),m=function(_){var C=ZI(n,o.isPositionedAtTop()),T=C.pos,R=C.bounds,B=d.get(),U=B.pos,q=B.bounds,ee=R.height!==q.height||R.width!==q.width;d.set({pos:T,bounds:R}),ee&&OT(t,_),o.isVisible()&&(U!==T?o.update(!0):ee&&(o.updateMode(),o.repositionPopups()))};c||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(_){Qf.requestAnimationFrame(function(){return m(_)})}),t.on("ScrollWindow",function(){return o.updateMode()});var h=Km();h.set(Hy(le.fromDom(t.getBody()),"load",m)),t.on("remove",function(){h.clear()})},kH=function(t,n,o,c,d){var m=n.mothership,h=n.uiMothership,_=n.outerContainer,C=Nn(null),T=le.fromDom(d.targetNode),R=bH(t,T,n,c,C),B=sB(t);g7(t);var U=function(){if(C.get()){R.show();return}C.set(Ai.getHeader(_).getOrDie());var ee=k4(t);Kf(ee,m),Kf(ee,h),KI(t,n,o,c),Ai.setMenubar(_,OI(t,o)),R.show(),wH(t,T,R,B),t.nodeChanged()};t.on("show",U),t.on("hide",R.hide),B||(t.on("focus",U),t.on("blur",R.hide)),t.on("init",function(){(t.hasFocus()||B)&&U()}),x4(t,n);var q={show:function(){R.show()},hide:function(){R.hide()},enable:function(){a1(n,!1)},disable:function(){a1(n,!0)},isDisabled:function(){return Mn.isDisabled(_)}};return{editorContainer:_.element.dom,api:q}},_H=Object.freeze({__proto__:null,render:kH}),CH="contexttoolbar-show",JI="contexttoolbar-hide",SH=function(t){return{hide:function(){return Ua(t,pp())},getValue:function(){return Ur.getValue(t)}}},QI=function(t,n){return Yt(rD,function(o,c){var d=t.get(o),m=SH(d);n.onAction(m,c.event.buttonApi)})},xH=function(t,n,o){var c=n.original;c.primary;var d=V(c,["primary"]),m=Ks(KE(J(J({},d),{type:"button",onAction:$e})));return WI(m,o.backstage.shared.providers,[QI(t,n)])},TH=function(t,n,o){var c=n.original;c.primary;var d=V(c,["primary"]),m=Ks(nT(J(J({},d),{type:"togglebutton",onAction:$e})));return qI(m,o.backstage.shared.providers,[QI(t,n)])},zH=function(t,n,o){var c={backstage:{shared:{providers:o}}};return n.type==="contextformtogglebutton"?TH(t,n,c):xH(t,n,c)},EH=function(t,n,o){var c=$t(n,function(h){return ro(zH(t,h,o))}),d=function(){return $t(c,function(h){return h.asSpec()})},m=function(h){return bt(n,function(_,C){return _.primary?E.from(c[C]).bind(function(T){return T.getOpt(h)}).filter(zr(Mn.isDisabled)):E.none()})};return{asSpecs:d,findPrimary:m}},e$=function(t,n){var o=t.label.fold(function(){return{}},function(m){return{"aria-label":m}}),c=ro(v1.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Br([Tn.config({mode:"special",onEnter:function(m){return d.findPrimary(m).map(function(h){return ls(h),!0})},onLeft:function(m,h){return h.cut(),E.none()},onRight:function(m,h){return h.cut(),E.none()}})])})),d=EH(c,t.commands,n);return[{title:E.none(),items:[c.asSpec()]},{title:E.none(),items:d.asSpecs()}]},AH=function(t,n,o){return gR({type:t,uid:mn("context-toolbar"),initGroups:e$(n,o),onEscape:E.none,cyclicKeying:!0,providers:o})},OH={renderContextForm:AH,buildInitGroups:e$},t$=function(t,n,o){return o===void 0&&(o=.01),n.bottom-t.y>=o&&t.bottom-n.y>=o},DH=function(t){var n=t.getBoundingClientRect();if(n.height<=0&&n.width<=0){var o=oe(le.fromDom(t.startContainer),t.startOffset).element,c=X(o)?Mo(o):E.some(o);return c.filter(N).map(function(d){return d.dom.getBoundingClientRect()}).getOr(n)}else return n},$F=function(t){var n=t.selection.getRng(),o=DH(n);if(t.inline){var c=Lc();return Mi(c.left+o.left,c.top+o.top,o.width,o.height)}else{var d=Ul(le.fromDom(t.getBody()));return Mi(d.x+o.left,d.y+o.top,o.width,o.height)}},RH=function(t,n){return n.filter(Ln).map(Ul).getOrThunk(function(){return $F(t)})},PH=function(t,n,o){var c=Math.max(t.x+o,n.x),d=Math.min(t.right-o,n.right);return{x:c,width:d-c}},BH=function(t,n,o,c,d,m){var h=le.fromDom(t.getContainer()),_=Ii(h,".tox-editor-header").getOr(h),C=wi(_),T=C.y>=n.bottom,R=c&&!T;if(t.inline&&R)return{y:Math.max(C.bottom+m,o.y),bottom:o.bottom};if(t.inline&&!R)return{y:o.y,bottom:Math.min(C.y-m,o.bottom)};var B=d==="line"?wi(h):n;return R?{y:Math.max(C.bottom+m,o.y),bottom:Math.min(B.bottom-m,o.bottom)}:{y:Math.max(B.y+m,o.y),bottom:Math.min(C.y-m,o.bottom)}},r$=function(t,n,o,c){c===void 0&&(c=0);var d=Rf(window),m=wi(le.fromDom(t.getContentAreaContainer())),h=Ki(t)||wT(t)||VC(t),_=PH(m,d,c),C=_.x,T=_.width;if(t.inline&&!h)return Mi(C,d.y,T,d.height);var R=n.header.isPositionedAtTop(),B=BH(t,m,d,R,o,c),U=B.y,q=B.bottom;return Mi(C,U,T,q-U)},kR=12,n$={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},a$={maxHeightFunction:Ym(),maxWidthFunction:AF()},MH=function(t,n){var o=t.selection.getRng(),c=oe(le.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&Ra(c.element,n)},NH=function(t,n,o){var c=bi(t,"position");Xn(t,"position",n);var d=o(t);return c.each(function(m){return Xn(t,"position",m)}),d},o$=function(t){return t==="node"},FH=function(t,n,o,c,d){var m=$F(t),h=c.lastElement().exists(function(T){return Ra(o,T)});if(MH(t,o))return h?R8:Bl;if(h)return NH(n,c.getMode(),function(){var T=t$(m,wi(n));return T&&!c.isReposition()?RR:R8});var _=c.getMode()==="fixed"?d.y+Lc().top:d.y,C=Si(n)+kR;return _+C<=m.y?Bl:Rg},IH=function(t,n,o,c){var d=function(C){return function(T,R,B,U,q){var ee=FH(t,U,C,o,q),de=J(J({},T),{y:q.y,height:q.height});return J(J({},ee(de,R,B,U,q)),{alwaysFit:!0})}},m=function(C){return o$(c)?[d(C)]:[]},h={onLtr:function(C){return[xc,zi,uc,Fu,cc,Gi].concat(m(C))},onRtl:function(C){return[xc,zi,cc,Gi,uc,Fu].concat(m(C))}},_={onLtr:function(C){return[zi,Fu,Gi,uc,cc,xc].concat(m(C))},onRtl:function(C){return[zi,Gi,Fu,cc,uc,xc].concat(m(C))}};return n?_:h},$H=function(t,n,o,c){return n==="line"?{bubble:Pv(kR,0,n$),layouts:{onLtr:function(){return[Oy]},onRtl:function(){return[Dy]}},overrides:a$}:{bubble:Pv(0,kR,n$,1/kR),layouts:IH(t,o,c,n),overrides:a$}},LF=function(t,n){var o=Zt(n,function(h){return h.predicate(t.dom)}),c=ir(o,function(h){return h.type==="contexttoolbar"}),d=c.pass,m=c.fail;return{contextToolbars:d,contextForms:m}},LH=function(t){if(t.length<=1)return t;var n=function(_){return Un(t,function(C){return C.position===_})},o=function(_){return Zt(t,function(C){return C.position===_})},c=n("selection"),d=n("node");if(c||d)if(d&&c){var m=o("node"),h=$t(o("selection"),function(_){return J(J({},_),{position:"node"})});return m.concat(h)}else return o(c?"selection":"node");else return o("line")},HH=function(t){if(t.length<=1)return t;var n=function(c){return Qt(t,function(d){return d.position===c})},o=n("selection").orThunk(function(){return n("node")}).orThunk(function(){return n("line")}).map(function(c){return c.position});return o.fold(function(){return[]},function(c){return Zt(t,function(d){return d.position===c})})},VH=function(t,n,o){var c=LF(t,n);if(c.contextForms.length>0)return E.some({elem:t,toolbars:[c.contextForms[0]]});var d=LF(t,o);if(d.contextForms.length>0)return E.some({elem:t,toolbars:[d.contextForms[0]]});if(c.contextToolbars.length>0||d.contextToolbars.length>0){var m=LH(c.contextToolbars.concat(d.contextToolbars));return E.some({elem:t,toolbars:m})}else return E.none()},UH=function(t,n,o){return t(n)?E.none():gp(n,function(c){if(N(c)){var d=LF(c,o.inNodeScope),m=d.contextToolbars,h=d.contextForms,_=h.length>0?h:HH(m);return _.length>0?E.some({elem:c,toolbars:_}):E.none()}else return E.none()},t)},jH=function(t,n){var o=le.fromDom(n.getBody()),c=function(h){return Ra(h,o)},d=function(h){return!c(h)&&!Au(o,h)},m=le.fromDom(n.selection.getNode());return d(m)?E.none():VH(m,t.inNodeScope,t.inEditorScope).orThunk(function(){return UH(c,m,t)})},WH=function(t,n){var o={},c=[],d=[],m={},h={},_=function(R,B){var U=Ks(yP(B));o[R]=U,U.launch.map(function(q){m["form:"+R]=J(J({},B.launch),{type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){n(U)}})}),U.scope==="editor"?d.push(U):c.push(U),h[R]=U},C=function(R,B){wP(B).each(function(U){B.scope==="editor"?d.push(U):c.push(U),h[R]=U})},T=zt(t);return Ye(T,function(R){var B=t[R];B.type==="contextform"?_(R,B):B.type==="contexttoolbar"&&C(R,B)}),{forms:o,inNodeScope:c,inEditorScope:d,lookupTable:h,formNavigators:m}},i$=mn("forward-slide"),u$=mn("backward-slide"),HF=mn("change-slide-event"),VF="tox-pop--resizing",qH=function(t){var n=Nn([]);return lo.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){n.set([]),lo.getContent(o).each(function(c){qa(c.element,"visibility")}),Ti(o.element,VF),qa(o.element,"width")},inlineBehaviours:Br([la("context-toolbar-events",[ki(Dm(),function(o,c){c.event.raw.propertyName==="width"&&(Ti(o.element,VF),qa(o.element,"width"))}),Yt(HF,function(o,c){var d=o.element;qa(d,"width");var m=Ou(d);lo.setContent(o,c.event.contents),Fi(d,VF);var h=Ou(d);Xn(d,"width",m+"px"),lo.getContent(o).each(function(_){c.event.focus.bind(function(C){return xl(C),Tl(d)}).orThunk(function(){return Tn.focusIn(_),sc(Bn(d))})}),Qf.setTimeout(function(){Xn(o.element,"width",h+"px")},0)}),Yt(i$,function(o,c){lo.getContent(o).each(function(d){n.set(n.get().concat([{bar:d,focus:sc(Bn(o.element))}]))}),Fn(o,HF,{contents:c.event.forwardContents,focus:E.none()})}),Yt(u$,function(o,c){nt(n.get()).each(function(d){n.set(n.get().slice(0,n.get().length-1)),Fn(o,HF,{contents:gs(d.bar),focus:d.focus})})})]),Tn.config({mode:"special",onEscape:function(o){return nt(n.get()).fold(function(){return t.onEscape()},function(c){return Ua(o,u$),E.some(!0)})}})]),lazySink:function(){return ma.value(t.sink)}})},UF="tox-pop--transition",GH=function(t,n,o,c){var d=c.backstage,m=d.shared,h=dr().deviceType.isTouch,_=fi(),C=fi(),T=fi(),R=Io(qH({sink:o,onEscape:function(){return t.focus(),E.some(!0)}})),B=function(){var Gt=T.get().getOr("node"),Wr=o$(Gt)?1:0;return r$(t,m,Gt,Wr)},U=function(){return!t.removed&&!(h()&&d.isContextMenuOpen())},q=function(Gt){return st(ia(Gt,_.get(),Ra),!0)},ee=function(){if(U()){var Gt=B(),Wr=st(T.get(),"node")?RH(t,_.get()):$F(t);return Gt.height<=0||!t$(Wr,Gt)}else return!0},de=function(){_.clear(),C.clear(),T.clear(),lo.hide(R)},Se=function(){if(lo.isOpen(R)){var Gt=R.element;qa(Gt,"display"),ee()?Xn(Gt,"display","none"):(C.set(0),lo.reposition(R))}},ce=function(Gt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Gt],behaviours:Br([Tn.config({mode:"acyclic"}),la("pop-dialog-wrap-events",[sa(function(Wr){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return Tn.focusIn(Wr)})}),fs(function(Wr){t.shortcuts.remove("ctrl+F9")})])])}},ze=Ue(function(){return WH(n,function(Gt){var Wr=Te([Gt]);Fn(R,i$,{forwardContents:ce(Wr)})})}),ht=function(Gt,Wr){return bR(t,{buttons:Gt,toolbar:Wr.items,allowToolbarGroups:!1},c,E.some(["form:"]))},lt=function(Gt,Wr){return OH.buildInitGroups(Gt,Wr)},Te=function(Gt){var Wr=t.ui.registry.getAll().buttons,Jt=ze(),Pt=J(J({},Wr),Jt.formNavigators),Er=fk(t)===ul.scrolling?ul.scrolling:ul.default,gn=Fe($t(Gt,function(Wt){return Wt.type==="contexttoolbar"?ht(Pt,Wt):lt(Wt,m.providers)}));return gR({type:Er,uid:mn("context-toolbar"),initGroups:gn,onEscape:E.none,cyclicKeying:!0,providers:m.providers})},tt=function(Gt,Wr){var Jt=Gt==="node"?m.anchors.node(Wr):m.anchors.cursor(),Pt=$H(t,Gt,h(),{lastElement:_.get,isReposition:function(){return st(C.get(),0)},getMode:function(){return di.getMode(o)}});return xt(Jt,Pt)},Mt=function(Gt,Wr){if(jr.cancel(),!!U()){var Jt=Te(Gt),Pt=Gt[0].position,Er=tt(Pt,Wr);T.set(Pt),C.set(1);var gn=R.element;qa(gn,"display"),q(Wr)||(Ti(gn,UF),di.reset(o,R)),lo.showWithinBounds(R,ce(Jt),{anchor:Er,transition:{classes:[UF],mode:"placement"}},function(){return E.some(B())}),Wr.fold(_.clear,_.set),ee()&&Xn(gn,"display","none")}},jr=EC(function(){if(!(!t.hasFocus()||t.removed))if(ac(R.element,UF))jr.throttle();else{var Gt=ze();jH(Gt,t).fold(de,function(Wr){Mt(Wr.toolbars,E.some(Wr.elem))})}},17);t.on("init",function(){t.on("remove",de),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Se),t.on("click keyup focus SetContent",jr.throttle),t.on(JI,de),t.on(CH,function(Gt){var Wr=ze();at(Wr.lookupTable,Gt.toolbarKey).each(function(Jt){Mt([Jt],Ha(Gt.target!==t,Gt.target)),lo.getContent(R).each(Tn.focusIn)})}),t.on("focusout",function(Gt){Qf.setEditorTimeout(t,function(){Tl(o.element).isNone()&&Tl(R.element).isNone()&&de()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&de()}),t.on("AfterProgressState",function(Gt){Gt.state?de():t.hasFocus()&&jr.throttle()}),t.on("NodeChange",function(Gt){Tl(R.element).fold(jr.throttle,$e)})})},KH=function(t){var n=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Ye(n,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:dd(t,o.cmd),onSetup:pR(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:dd(t,"JustifyNone")})},XH={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},YH=function(){var t="[0-9]+",n="[+-]?"+t,o="[eE]"+n,c="\\.",d=function(_){return"(?:"+_+")?"},m=["Infinity",t+c+d(t)+d(o),c+t+d(o),t+d(o)].join("|"),h="[+-]?(?:"+m+")";return new RegExp("^("+h+")(.*)$")}(),ZH=function(t,n){return Un(n,function(o){return Un(XH[o],function(c){return t===c})})},JH=function(t,n){var o=E.from(YH.exec(t));return o.bind(function(c){var d=Number(c[1]),m=c[2];return ZH(m,n)?E.some({value:d,unit:m}):E.none()})},QH=function(t,n){return JH(t,n).map(function(o){var c=o.value,d=o.unit;return c+d})},c$=function(t,n){var o=function(){var c=n.getOptions(t),d=n.getCurrent(t).map(n.hash),m=fi();return $t(c,function(h){return{type:"togglemenuitem",text:n.display(h),onSetup:function(_){var C=function(R){R&&(m.on(function(B){return B.setActive(!1)}),m.set(_)),_.setActive(R)};C(st(d,n.hash(h)));var T=n.watcher(t,h,C);return function(){m.clear(),T()}},onAction:function(){return n.setCurrent(t,h)}}})};t.ui.registry.addMenuButton(n.name,{tooltip:n.text,icon:n.icon,fetch:function(c){return c(o())},onSetup:n.onToolbarSetup}),t.ui.registry.addNestedMenuItem(n.name,{type:"nestedmenuitem",text:n.text,getSubmenuItems:o,onSetup:n.onMenuSetup})},e9={name:"lineheight",text:"Line height",icon:"line-height",getOptions:aB,hash:function(t){return QH(t,["fixed","relative","empty"]).getOr(t)},display:or,watcher:function(t,n,o){return t.formatter.formatChanged("lineheight",o,!1,{value:n}).unbind},getCurrent:function(t){return E.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,n){return t.execCommand("LineHeight",!1,n)}},t9=function(t){var n=E.from(oB(t));return n.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:se(o),hash:function(c){return Xr(c.customCode)?c.code:c.code+"/"+c.customCode},display:function(c){return c.title},watcher:function(c,d,m){return c.formatter.formatChanged("lang",m,!1,{value:d.code,customValue:d.customCode}).unbind},getCurrent:function(c){var d=le.fromDom(c.selection.getNode());return zm(d,function(m){return E.some(m).filter(N).bind(function(h){var _=Go(h,"lang");return _.map(function(C){var T=Go(h,"data-mce-lang").getOrUndefined();return{code:C,customCode:T,title:""}})})})},setCurrent:function(c,d){return c.execCommand("Lang",!1,d)},onToolbarSetup:function(c){var d=Km();return c.setActive(t.formatter.match("lang",{},void 0,!0)),d.set(t.formatter.formatChanged("lang",c.setActive,!0)),d.clear}}})},r9=function(t){c$(t,e9),t9(t).each(function(n){return c$(t,n)})},n9=function(t,n){k7(t,n),T7(t,n),$7(t,n),F7(t,n),B7(t,n)},a9=function(t){return hR(t,"NodeChange",function(n){n.setDisabled(!t.queryCommandState("outdent"))})},o9=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:a9(t),onAction:dd(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:dd(t,"indent")})},i9=function(t){o9(t)},jF=function(t,n){return function(){t.execCommand("mceToggleFormat",!1,n)}},u9=function(t){Wg.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(c,d){t.ui.registry.addToggleButton(c.name,{tooltip:c.text,icon:c.icon,onSetup:pR(t,c.name),onAction:jF(t,c.name)})});for(var n=1;n<=6;n++){var o="h"+n;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+n,onSetup:pR(t,o),onAction:jF(t,o)})}},c9=function(t){Wg.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(n){t.ui.registry.addButton(n.name,{tooltip:n.text,icon:n.icon,onAction:dd(t,n.action)})})},s9=function(t){Wg.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(n){t.ui.registry.addToggleButton(n.name,{tooltip:n.text,icon:n.icon,onAction:dd(t,n.action),onSetup:pR(t,n.name)})})},l9=function(t){u9(t),c9(t),s9(t)},f9=function(t){Wg.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(n){t.ui.registry.addMenuItem(n.name,{text:n.text,icon:n.icon,shortcut:n.shortcut,onAction:dd(t,n.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:jF(t,"code")})},d9=function(t){l9(t),f9(t)},_R=function(t,n){return hR(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[n]())})},v9=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:_R(t,"hasUndo"),onAction:dd(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:_R(t,"hasRedo"),onAction:dd(t,"redo")})},m9=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:_R(t,"hasUndo"),onAction:dd(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:_R(t,"hasRedo"),onAction:dd(t,"redo")})},g9=function(t){v9(t),m9(t)},p9=function(t){return hR(t,"VisualAid",function(n){n.setActive(t.hasVisual)})},h9=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:p9(t),onAction:dd(t,"mceToggleVisualAid")})},y9=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:dd(t,"mceToggleVisualAid")})},b9=function(t){y9(t),h9(t)},w9=function(t,n){KH(t),d9(t),n9(t,n),g9(t),QB(t),b9(t),i9(t),r9(t)},yE=function(t,n){return{type:"makeshift",x:t,y:n}},k9=function(t,n,o){return yE(t.x+n,t.y+o)},s$=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},_9=function(t){if(s$(t)){var n=t.touches[0];return yE(n.pageX,n.pageY)}else return yE(t.pageX,t.pageY)},C9=function(t){if(s$(t)){var n=t.touches[0];return yE(n.clientX,n.clientY)}else return yE(t.clientX,t.clientY)},S9=function(t,n){var o=lk.DOM.getPos(t);return k9(n,o.x,o.y)},x9=function(t,n){return n.type==="contextmenu"||n.type==="longpress"?t.inline?_9(n):S9(t.getContentAreaContainer(),C9(n)):l$(t)},l$=function(t){return{type:"selection",root:le.fromDom(t.selection.getNode())}},T9=function(t){return{type:"node",node:E.some(le.fromDom(t.selection.getNode())),root:le.fromDom(t.getBody())}},f$=function(t,n,o){switch(o){case"node":return T9(t);case"point":return x9(t,n);case"selection":return l$(t)}},z9=function(t,n,o,c,d,m){var h=o(),_=f$(t,n,m);z1(h,rd.CLOSE_ON_EXECUTE,c,!1).map(function(C){n.preventDefault(),lo.showMenuAt(d,{anchor:_},{menu:{markers:e1("normal")},data:C})})},E9={onLtr:function(){return[zi,Fu,Gi,uc,cc,xc,Bl,Rg,rm,tm,gh,mh]},onRtl:function(){return[zi,Gi,Fu,cc,uc,xc,Bl,Rg,gh,mh,rm,tm]}},A9=12,O9={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},D9=function(t,n){var o=t.selection;if(o.isCollapsed()||n.touches.length<1)return!1;var c=n.touches[0],d=o.getRng(),m=Y0(t.getWin(),Qm.domRange(d));return m.exists(function(h){return h.left<=c.clientX&&h.right>=c.clientX&&h.top<=c.clientY&&h.bottom>=c.clientY})},R9=function(t){var n=t.selection.getRng(),o=function(){Qf.setEditorTimeout(t,function(){t.selection.setRng(n)},10),m()};t.once("touchend",o);var c=function(h){h.preventDefault(),h.stopImmediatePropagation()};t.on("mousedown",c,!0);var d=function(){return m()};t.once("longpresscancel",d);var m=function(){t.off("touchend",o),t.off("longpresscancel",d),t.off("mousedown",c)}},P9=function(t,n,o){var c=f$(t,n,o),d=o==="point"?A9:0;return J({bubble:Pv(0,d,O9),layouts:E9,overrides:{maxWidthFunction:AF(),maxHeightFunction:Ym()}},c)},B9=function(t,n,o,c,d,m,h){var _=P9(t,n,m);z1(o,rd.CLOSE_ON_EXECUTE,c,!0).map(function(C){n.preventDefault(),lo.showMenuWithinBounds(d,{anchor:_},{menu:{markers:e1("normal"),highlightImmediately:h},data:C,type:"horizontal"},function(){return E.some(r$(t,c.shared,m==="node"?"node":"selection"))}),t.fire(JI)})},M9=function(t,n,o,c,d,m){var h=dr(),_=h.os.isiOS(),C=h.os.isOSX(),T=h.os.isAndroid(),R=h.deviceType.isTouch(),B=function(){return!(T||_||C&&R)},U=function(){var ee=o();B9(t,n,ee,c,d,m,B())};if((C||_)&&m!=="node"){var q=function(){R9(t),U()};D9(t,n)?q():(t.once("selectionchange",q),t.once("touchend",function(){return t.off("selectionchange",q)}))}else U()},d$=function(t){return typeof t=="string"?t.split(/[ ,]/):t},v$=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},N9=function(t,n,o){var c=t.ui.registry.getAll().contextMenus;return E.from(t.getParam(n)).map(d$).getOrThunk(function(){return Zt(d$(o),function(d){return K(c,d)})})},F9=function(t){return t.getParam("contextmenu")===!1},I9=function(t){return N9(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},$9=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},m$=function(t){return gt(t)?t==="|":t.type==="separator"},WF={type:"separator"},g$=function(t){var n=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(gt(t))return t;switch(t.type){case"separator":return WF;case"submenu":return J(J({type:"nestedmenuitem"},n(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return gt(o)?o:$t(o,g$)}});default:return J(J({type:"menuitem"},n(t)),{onAction:Ht(t.onAction)})}},p$=function(t,n){if(n.length===0)return t;var o=nt(t).filter(function(d){return!m$(d)}),c=o.fold(function(){return[]},function(d){return[WF]});return t.concat(c).concat(n).concat([WF])},L9=function(t,n,o){var c=Zr(n,function(d,m){return at(t,m.toLowerCase()).map(function(h){var _=h.update(o);if(gt(_))return p$(d,_.split(" "));if(_.length>0){var C=$t(_,g$);return p$(d,C)}else return d}).getOrThunk(function(){return d.concat([m])})},[]);return c.length>0&&m$(c[c.length-1])&&c.pop(),c},H9=function(t,n){return n.ctrlKey&&!v$(t)},h$=function(t,n){return n.type!=="longpress"&&(n.button!==2||n.target===t.getBody()&&n.pointerType==="")},y$=function(t,n){return h$(t,n)?t.selection.getStart(!0):n.target},V9=function(t,n){var o=$9(t),c=h$(t,n)?"selection":"point";if(Qo(o)){var d=y$(t,n),m=yk(le.fromDom(d),o);return m?"node":c}else return c},U9=function(t,n,o){var c=dr(),d=c.deviceType.isTouch,m=Io(lo.sketch({dom:{tag:"div"},lazySink:n,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Br([la("dismissContextMenu",[Yt(Js(),function(C,T){Pa.close(C),t.focus()})])])})),h=function(C){return lo.hide(m)},_=function(C){if(v$(t)&&C.preventDefault(),!(H9(t,C)||F9(t))){var T=V9(t,C),R=function(){var U=y$(t,C),q=t.ui.registry.getAll(),ee=I9(t);return L9(q.contextMenus,ee,U)},B=d()?M9:z9;B(t,C,R,o,m,T)}};t.on("init",function(){var C="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");t.on(C,h),t.on("longpress contextmenu",_)})},qF=us.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),CR=function(t){return function(n){return n.translate(-t.left,-t.top)}},SR=function(t){return function(n){return n.translate(t.left,t.top)}},Nh=function(t){return function(n,o){return Zr(t,function(c,d){return d(c)},po(n,o))}},xR=function(t,n,o){return t.fold(Nh([SR(o),CR(n)]),Nh([CR(n)]),Nh([]))},dS=function(t,n,o){return t.fold(Nh([SR(o)]),Nh([]),Nh([SR(n)]))},b$=function(t,n,o){return t.fold(Nh([]),Nh([CR(o)]),Nh([SR(n),CR(o)]))},j9=function(t,n,o,c,d,m){var h=dS(t,d,m),_=dS(n,d,m);return Math.abs(h.left-_.left)<=o&&Math.abs(h.top-_.top)<=c},W9=function(t,n,o,c,d,m){var h=dS(t,d,m),_=dS(n,d,m),C=Math.abs(h.left-_.left),T=Math.abs(h.top-_.top);return po(C,T)},w$=function(t,n,o){var c=t.fold(function(d,m){return{position:E.some("absolute"),left:E.some(d+"px"),top:E.some(m+"px")}},function(d,m){return{position:E.some("absolute"),left:E.some(d-o.left+"px"),top:E.some(m-o.top+"px")}},function(d,m){return{position:E.some("fixed"),left:E.some(d+"px"),top:E.some(m+"px")}});return J({right:E.none(),bottom:E.none()},c)},q9=function(t,n,o){return t.fold(function(c,d){return TR(c+n,d+o)},function(c,d){return D1(c+n,d+o)},function(c,d){return Lk(c+n,d+o)})},GF=function(t,n,o,c){var d=function(m,h){return function(_,C){var T=m(n,o,c);return h(_.getOr(T.left),C.getOr(T.top))}};return t.fold(d(b$,TR),d(dS,D1),d(xR,Lk))},TR=qF.offset,D1=qF.absolute,Lk=qF.fixed,k$=function(t,n){var o=No(t,n);return Xr(o)?NaN:parseInt(o,10)},G9=function(t,n){var o=t.element,c=k$(o,n.leftAttr),d=k$(o,n.topAttr);return isNaN(c)||isNaN(d)?E.none():E.some(po(c,d))},K9=function(t,n,o){var c=t.element;va(c,n.leftAttr,o.left+"px"),va(c,n.topAttr,o.top+"px")},X9=function(t,n){var o=t.element;Qi(o,n.leftAttr),Qi(o,n.topAttr)},Y9=function(t,n,o,c){return G9(t,n).fold(function(){return o},function(d){return Lk(d.left+c.left,d.top+c.top)})},Z9=function(t,n,o,c,d,m){var h=Y9(t,n,o,c),_=n.mustSnap?Q9(t,n,h,d,m):eV(t,n,h,d,m),C=xR(h,d,m);return K9(t,n,C),_.fold(function(){return{coord:Lk(C.left,C.top),extra:E.none()}},function(T){return{coord:T.output,extra:T.extra}})},J9=function(t,n){X9(t,n)},_$=function(t,n,o,c){return bt(t,function(d){var m=d.sensor,h=j9(n,m,d.range.left,d.range.top,o,c);return h?E.some({output:GF(d.output,n,o,c),extra:d.extra}):E.none()})},Q9=function(t,n,o,c,d){var m=n.getSnapPoints(t),h=_$(m,o,c,d);return h.orThunk(function(){var _=Zr(m,function(C,T){var R=T.sensor,B=W9(o,R,T.range.left,T.range.top,c,d);return C.deltas.fold(function(){return{deltas:E.some(B),snap:E.some(T)}},function(U){var q=(B.left+B.top)/2,ee=(U.left+U.top)/2;return q<=ee?{deltas:E.some(B),snap:E.some(T)}:C})},{deltas:E.none(),snap:E.none()});return _.snap.map(function(C){return{output:GF(C.output,o,c,d),extra:C.extra}})})},eV=function(t,n,o,c,d){var m=n.getSnapPoints(t);return _$(m,o,c,d)},tV=function(t,n,o){return{coord:GF(t.output,t.output,n,o),extra:t.extra}},rV=function(t,n,o,c){var d=n.getTarget(t.element);if(n.repositionTarget){var m=Bo(t.element),h=Lc(m),_=iR(d),C=tV(c,h,_),T=w$(C.coord,h,_);ei(d,T)}},nV=Object.freeze({__proto__:null,snapTo:rV}),KF="data-initial-z-index",aV=function(t){Mo(t.element).filter(N).each(function(n){Go(n,KF).fold(function(){return qa(n,"z-index")},function(o){return Xn(n,"z-index",o)}),Qi(n,KF)})},oV=function(t){Mo(t.element).filter(N).each(function(n){bi(n,"z-index").each(function(o){va(n,KF,o)}),Xn(n,"z-index",ti(t.element,"z-index"))})},C$=function(t,n){t.getSystem().addToGui(n),oV(n)},iV=function(t){aV(t),t.getSystem().removeFromGui(t)},S$=function(t,n,o){return t.getSystem().build(dc.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[n]},events:o}))},uV=Uc("snaps",[Ut("getSnapPoints"),Ka("onSensor"),Ut("leftAttr"),Ut("topAttr"),Ae("lazyViewport",du),Ae("mustSnap",!1)]),XF=[Ae("useFixed",Dt),Ut("blockerClass"),Ae("getTarget",or),Ae("onDrag",$e),Ae("repositionTarget",!0),Ae("onDrop",$e),To("getBounds",du),uV],cV=function(t){return Za(bi(t,"left"),bi(t,"top"),bi(t,"position"),function(n,o,c){var d=c==="fixed"?Lk:TR;return d(parseInt(n,10),parseInt(o,10))}).getOrThunk(function(){var n=Ju(t);return D1(n.left,n.top)})},sV=function(t,n,o,c,d){var m=d.bounds,h=dS(n,o,c),_=qc(h.left,m.x,m.x+m.width-d.width),C=qc(h.top,m.y,m.y+m.height-d.height),T=D1(_,C);return n.fold(function(){var R=b$(T,o,c);return TR(R.left,R.top)},se(T),function(){var R=xR(T,o,c);return Lk(R.left,R.top)})},lV=function(t,n,o,c,d,m,h){var _=n.fold(function(){var C=q9(o,m.left,m.top),T=xR(C,c,d);return Lk(T.left,T.top)},function(C){var T=Z9(t,C,o,m,c,d);return T.extra.each(function(R){C.onSensor(t,R)}),T.coord});return sV(t,_,c,d,h)},fV=function(t,n,o,c){var d=n.getTarget(t.element);if(n.repositionTarget){var m=Bo(t.element),h=Lc(m),_=iR(d),C=cV(d),T=lV(t,n.snaps,C,h,_,c,o),R=w$(T,h,_);ei(d,R)}n.onDrag(t,d,c)},x$=function(t,n){return{bounds:t.getBounds(),height:$c(n.element),width:Qu(n.element)}},YF=function(t,n,o,c,d){var m=o.update(c,d),h=o.getStartData().getOrThunk(function(){return x$(n,t)});m.each(function(_){fV(t,n,h,_)})},T$=function(t,n,o,c){n.each(iV),o.snaps.each(function(m){J9(t,m)});var d=o.getTarget(t.element);c.reset(),o.onDrop(t,d)},ZF=function(t){return function(n,o){var c=function(d){o.setStartData(x$(n,d))};return bo(Tt([Yt(e0(),function(d){o.getStartData().each(function(){return c(d)})})],t(n,o,c),!0))}},dV=function(t){return bo([Yt(Zs(),t.forceDrop),Yt(K1(),t.drop),Yt(dv(),function(n,o){t.move(o.event)}),Yt(G1(),t.delayDrop)])},vV=function(t){return E.from(po(t.x,t.y))},mV=function(t,n){return po(n.left-t.left,n.top-t.top)},gV=Object.freeze({__proto__:null,getData:vV,getDelta:mV}),z$=function(t,n,o){return[Yt(Zs(),function(c,d){var m=d.event.raw;if(m.button===0){d.stop();var h=function(){return T$(c,E.some(T),t,n)},_=NT(h,200),C={drop:h,delayDrop:_.schedule,forceDrop:h,move:function(B){_.cancel(),YF(c,t,n,gV,B)}},T=S$(c,t.blockerClass,dV(C)),R=function(){o(c),C$(c,T)};R()}})]},pV=Tt(Tt([],XF,!0),[_o("dragger",{handlers:ZF(z$)})],!1),hV=function(t){return bo([Yt(Kl(),t.forceDrop),Yt(bd(),t.drop),Yt(a_(),t.drop),Yt(Ys(),function(n,o){t.move(o.event)})])},yV=function(t){var n=t[0];return E.some(po(n.clientX,n.clientY))},bV=function(t){var n=t.raw,o=n.touches;return o.length===1?yV(o):E.none()},wV=function(t,n){return po(n.left-t.left,n.top-t.top)},E$=Object.freeze({__proto__:null,getData:bV,getDelta:wV}),A$=function(t,n,o){var c=fi(),d=function(m){T$(m,c.get(),t,n),c.clear()};return[Yt(Kl(),function(m,h){h.stop();var _=function(){return d(m)},C={drop:_,delayDrop:$e,forceDrop:_,move:function(B){YF(m,t,n,E$,B)}},T=S$(m,t.blockerClass,hV(C));c.set(T);var R=function(){o(m),C$(m,T)};R()}),Yt(Ys(),function(m,h){h.stop(),YF(m,t,n,E$,h.event)}),Yt(bd(),function(m,h){h.stop(),d(m)}),Yt(a_(),d)]},kV=Tt(Tt([],XF,!0),[_o("dragger",{handlers:ZF(A$)})],!1),_V=function(t,n,o){return Tt(Tt([],z$(t,n,o),!0),A$(t,n,o),!0)},CV=Tt(Tt([],XF,!0),[_o("dragger",{handlers:ZF(_V)})],!1),SV=pV,xV=kV,TV=CV,zV=Object.freeze({__proto__:null,mouse:SV,touch:xV,mouseOrTouch:TV}),EV=function(){var t=E.none(),n=E.none(),o=function(){t=E.none(),n=E.none()},c=function(C,T){var R=t.map(function(B){return C.getDelta(B,T)});return t=E.some(T),R},d=function(C,T){return C.getData(T).bind(function(R){return c(C,R)})},m=function(C){n=E.some(C)},h=function(){return n},_=se({});return Nu({readState:_,reset:o,update:d,getStartData:h,setStartData:m})},AV=Object.freeze({__proto__:null,init:EV}),Hk=Ov({branchKey:"mode",branches:zV,name:"dragging",active:{events:function(t,n){var o=t.dragger;return o.handlers(t,n)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:E.from(t.extra)}}},state:AV,apis:nV}),JF=40,zR=JF/2,O$=function(t,n,o,c,d,m){return t.fold(function(){return Hk.snap({sensor:D1(o-zR,c-zR),range:po(d,m),output:D1(E.some(o),E.some(c)),extra:{td:n}})},function(h){var _=o-zR,C=c-zR,T=JF,R=JF,B=h.element.dom.getBoundingClientRect();return Hk.snap({sensor:D1(_,C),range:po(T,R),output:D1(E.some(o-B.width/2),E.some(c-B.height/2)),extra:{td:n}})})},D$=function(t,n,o){var c=function(d,m){return d.exists(function(h){return Ra(h,m)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,m){var h=m.td;c(n.get(),h)||(n.set(h),o(h))},mustSnap:!0}},R$=function(t){return ro(Kc.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Br([Hk.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),h1.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},OV=function(t,n){var o=Nn([]),c=Nn([]),d=Nn(!1),m=fi(),h=fi(),_=function(Mt){var jr=Ul(Mt);return O$(q.getOpt(n),Mt,jr.x,jr.y,jr.width,jr.height)},C=function(){return $t(o.get(),function(Mt){return _(Mt)})},T=function(Mt){var jr=Ul(Mt);return O$(ee.getOpt(n),Mt,jr.right,jr.bottom,jr.width,jr.height)},R=function(){return $t(c.get(),function(Mt){return T(Mt)})},B=D$(C,m,function(Mt){h.get().each(function(jr){t.fire("TableSelectorChange",{start:Mt,finish:jr})})}),U=D$(R,h,function(Mt){m.get().each(function(jr){t.fire("TableSelectorChange",{start:jr,finish:Mt})})}),q=R$(B),ee=R$(U),de=Io(q.asSpec()),Se=Io(ee.asSpec()),ce=function(Mt,jr,Gt,Wr){var Jt=jr.dom.getBoundingClientRect();qa(Mt.element,"display");var Pt=ts(le.fromDom(t.getBody())).dom.innerHeight,Er=Gt(Jt),gn=Wr(Jt,Pt);(Er||gn)&&Xn(Mt.element,"display","none")},ze=function(Mt,jr,Gt,Wr){var Jt=Gt(jr);Hk.snapTo(Mt,Jt);var Pt=function(gn){return gn[Wr]<0},Er=function(gn,Wt){return gn[Wr]>Wt};ce(Mt,jr,Pt,Er)},ht=function(Mt){return ze(de,Mt,_,"top")},lt=function(){return m.get().each(ht)},Te=function(Mt){return ze(Se,Mt,T,"bottom")},tt=function(){return h.get().each(Te)};dr().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Mt){d.get()||(Fv(n,de),Fv(n,Se),d.set(!0)),m.set(Mt.start),h.set(Mt.finish),Mt.otherCells.each(function(jr){o.set(jr.upOrLeftCells),c.set(jr.downOrRightCells),ht(Mt.start),Te(Mt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){lt(),tt()}),t.on("TableSelectionClear",function(){d.get()&&(Ol(de),Ol(Se),d.set(!1)),m.clear(),h.clear()}))},DV=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},RV=function(t,n,o){n.delimiter||(n.delimiter="»");var c=function(m){var h=m||[],_=$t(h,function(T,R){return Kc.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":R,"tab-index":-1,"aria-level":R+1},innerHtml:T.name},action:function(B){t.focus(),t.selection.select(T.element),t.nodeChanged()},buttonBehaviours:Br([Ml.button(o.isDisabled),Xi()])})}),C={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+n.delimiter+" "}};return Zr(_.slice(1),function(T,R){var B=T;return B.push(C),B.push(R),B},[_[0]])},d=function(m){for(var h=[],_=m.length;_-- >0;){var C=m[_];if(C.nodeType===1&&!DV(C)){var T=t.fire("ResolveName",{name:C.nodeName.toLowerCase(),target:C});if(T.isDefaultPrevented()||h.push({name:T.name,element:C}),T.isPropagationStopped())break}}return h};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Br([Tn.config({mode:"flow",selector:"div[role=button]"}),Mn.config({disabled:o.isDisabled}),Xi(),hi.config({}),Jn.config({}),la("elementPathEvents",[sa(function(m,h){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Tn.focusIn(m)}),t.on("NodeChange",function(_){var C=d(_.parents);C.length>0?Jn.set(m,c(C)):Jn.set(m,[])})})])]),components:[]}},Vk;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Vk||(Vk={}));var PV=function(t,n,o,c,d){var m={};return m.height=wR(c+n.top,g4(t),p4(t)),o===Vk.Both&&(m.width=wR(d+n.left,m4(t),HC(t))),m},P$=function(t,n,o){var c=le.fromDom(t.getContainer()),d=PV(t,n,o,Si(c),Ou(c));Rr(d,function(m,h){return Xn(c,h,IF(m))}),LB(t)},BV=function(t){var n=!t.hasPlugin("autoresize"),o=t.getParam("resize",n);return o===!1?Vk.None:o==="both"?Vk.Both:Vk.Vertical},ER=function(t,n,o,c){var d=20,m=po(o*d,c*d);return P$(t,m,n),E.some(!0)},MV=function(t,n){var o=BV(t);return o===Vk.None?E.none():E.some(hf("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:n.translate("Resize")},behaviours:[Hk.config({mode:"mouse",repositionTarget:!1,onDrag:function(c,d,m){return P$(t,m,o)},blockerClass:"tox-blocker"}),Tn.config({mode:"special",onLeft:function(){return ER(t,o,-1,0)},onRight:function(){return ER(t,o,1,0)},onUp:function(){return ER(t,o,0,-1)},onDown:function(){return ER(t,o,0,1)}}),hi.config({}),Qn.config({})]},n.icons))},NV=function(t,n){var o,c=function(d,m,h){return Jn.set(d,[hu(n.translate(["{0} "+h,m[h]]))])};return Kc.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Br([Ml.button(n.isDisabled),Xi(),hi.config({}),Jn.config({}),Ur.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),la("wordcount-events",[Wc(function(d){var m=Ur.getValue(d),h=m.mode==="words"?"characters":"words";Ur.setValue(d,{mode:h,count:m.count}),c(d,m.count,h)}),sa(function(d){t.on("wordCountUpdate",function(m){var h=Ur.getValue(d).mode;Ur.setValue(d,{mode:h,count:m.wordCount}),c(d,m.wordCount,h)})})])]),eventOrder:(o={},o[cs()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},FV=function(t,n){var o=function(){var m=pf.translate(["Powered by {0}","Tiny"]),h='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+m+'">'+m+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:h}}},c=function(){var m=[];return t.getParam("elementpath",!0,"boolean")&&m.push(RV(t,{},n)),t.hasPlugin("wordcount")&&m.push(NV(t,n)),t.getParam("branding",!0,"boolean")&&m.push(o()),m.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:m}]:[]},d=function(){var m=c(),h=MV(t,n);return m.concat(h.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:d()}},IV=function(t){var n,o=t.inline,c=o?_H:gH,d=jC(t)?ae:sF,m=E.none(),h=dr(),_=h.browser.isIE(),C=_?["tox-platform-ie"]:[],T=h.deviceType.isTouch(),R="tox-platform-touch",B=T?[R]:[],U=b4(t),q=k4(t),ee=pf.isRtl()?{attributes:{dir:"rtl"}}:{},de={attributes:(n={},n[Wy]=U?nf.BottomToTop:nf.TopToBottom,n)},Se=function(){return m.bind(Ai.getHeader)},ce=function(){return d.isDocked(Se)},ze=function(){Xn(Rc.element,"width",document.body.clientWidth+"px")},ht=function(){var su=Ra(to(),q)&&ti(q,"display")==="grid",mm={dom:J({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(C).concat(B)},ee),behaviours:Br([di.config({useFixed:function(){return ce()}})])},tp={dom:{styles:{width:document.body.clientWidth+"px"}},events:bo([Yt(ss(),ze)])};return xt(mm,su?tp:{})},lt=Io(ht()),Te=function(){return ma.value(lt)},tt=ro({dom:{tag:"div",classes:["tox-anchorbar"]}}),Mt=function(){return m.bind(function(su){return tt.getOpt(su)}).getOrDie("Could not find a anchor bar element")},jr=function(){return m.bind(function(su){return Ai.getToolbar(su)}).getOrDie("Could not find more toolbar element")},Gt=function(){return m.bind(function(su){return Ai.getThrobber(su)}).getOrDie("Could not find throbber element")},Wr=oF(lt,t,Mt),Jt=Ai.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Wr,onEscape:function(){t.focus()}}),Pt=fk(t),Er=Ai.parts.toolbar(J({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Te,providers:Wr.shared.providers,onEscape:function(){t.focus()},type:Pt,lazyToolbar:jr,lazyHeader:function(){return Se().getOrDie("Could not find header element")}},de)),gn=Ai.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Wr.shared.providers,onEscape:function(){t.focus()},type:Pt}),Wt=Ai.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),cn=Ai.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Sn=Ai.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Wr}),Ea=t.getParam("statusbar",!0,"boolean"),ao=Ea&&!o?E.some(FV(t,Wr.shared.providers)):E.none(),Po={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Wt,cn]},ui=VC(t),Vs=wT(t),pc=Ki(t),mS=function(){return ui?[gn]:Vs?[Er]:[]},cu=Ai.parts.header({dom:J({tag:"div",classes:["tox-editor-header"]},de),components:Fe([pc?[Jt]:[],mS(),UC(t)?[]:[tt.asSpec()]]),sticky:jC(t),editor:t,sharedBackstage:Wr.shared}),Fh=Fe([U?[]:[cu],o?[]:[Po],U?[cu]:[]]),Ih={dom:{tag:"div",classes:["tox-editor-container"]},components:Fh},Uk=Fe([[Ih],o?[]:ao.toArray(),[Sn]]),$h=_4(t),jk=J(J({role:"application"},pf.isRtl()?{dir:"rtl"}:{}),$h?{"aria-hidden":"true"}:{}),Qc=Io(Ai.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(U?["tox-tinymce--toolbar-bottom"]:[]).concat(B).concat(C),styles:J({visibility:"hidden"},$h?{opacity:"0",border:"0"}:{}),attributes:jk},components:Uk,behaviours:Br([Xi(),Mn.config({disableClass:"tox-tinymce--disabled"}),Tn.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));m=E.some(Qc),t.shortcuts.add("alt+F9","focus menubar",function(){Ai.focusMenubar(Qc)}),t.shortcuts.add("alt+F10","focus toolbar",function(){Ai.focusToolbar(Qc)}),t.addCommand("ToggleToolbarDrawer",function(){Ai.toggleToolbarDrawer(Qc)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return Ai.isToolbarDrawerToggled(Qc)});var vd=hA(Qc),Rc=hA(lt);av(t,vd,Rc);var Wk=function(){var su={broadcastAll:Rc.broadcast,broadcastOn:Rc.broadcastOn,register:$e};return{channels:su}},ep=function(){var su=IF(hH(t)),mm=IF(yH(t));return t.inline||(rs("div","width",mm)&&Xn(Qc.element,"width",mm),rs("div","height",su)?Xn(Qc.element,"height",su):Xn(Qc.element,"height","200px")),su},R1=function(){d.setup(t,Wr.shared,Se),w9(t,Wr),U9(t,Te,Wr),sd(t),Qg(t,Gt,Wr.shared),sr(iB(t),function(Pc,Us){t.ui.registry.addGroupToolbarButton(Us,Pc)});var su=t.ui.registry.getAll(),mm=su.buttons,tp=su.menuItems,Lh=su.contextToolbars,md=su.sidebars,rp=h4(t),nn={menuItems:tp,menus:dB(t),menubar:vB(t),toolbar:rp.getOrThunk(function(){return mB(t)}),allowToolbarGroups:Pt===ul.floating,buttons:mm,sidebar:md};GH(t,Lh,lt,{backstage:Wr}),OV(t,lt);var pa=t.getElement(),co=ep(),Zo={mothership:vd,uiMothership:Rc,outerContainer:Qc},es={targetNode:pa,height:co};return c.render(t,Zo,nn,Wr,es)};return{mothership:vd,uiMothership:Rc,backstage:Wr,renderUI:R1,getUi:Wk}},$V=function(t,n){var o=E.from(No(t,"id")).fold(function(){var c=mn("dialog-describe");return va(n,"id",c),c},or);va(t,"aria-describedby",o)},LV=function(t,n){var o=Go(t,"id").fold(function(){var c=mn("dialog-label");return va(n,"id",c),c},or);va(t,"aria-labelledby",o)},HV=se([Ut("lazySink"),Ga("dragBlockClass"),To("getBounds",du),Ae("useTabstopAt",dt),Ae("eventOrder",{}),Vi("modalBehaviours",[Tn]),$i("onExecute"),Sc("onEscape")]),QF={sketch:or},VV=se([Ps({name:"draghandle",overrides:function(t,n){return{behaviours:Br([Hk.config({mode:"mouse",getTarget:function(o){return ky(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(n,null,2)).message),getBounds:t.getDragBounds})])}}}),_u({schema:[Ut("dom")],name:"title"}),_u({factory:QF,schema:[Ut("dom")],name:"close"}),_u({factory:QF,schema:[Ut("dom")],name:"body"}),Ps({factory:QF,schema:[Ut("dom")],name:"footer"}),ps({factory:{sketch:function(t,n){return J(J({},t),{dom:n.dom,components:n.components})}},schema:[Ae("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Ae("components",[])],name:"blocker"})]),UV=function(t,n,o,c){var d,m=fi(),h=function(ee){m.set(ee);var de=t.lazySink(ee).getOrDie(),Se=c.blocker(),ce=de.getSystem().build(J(J({},Se),{components:Se.components.concat([gs(ee)]),behaviours:Br([Qn.config({}),la("dialog-blocker-events",[ki(zs(),function(){Tn.focusIn(ee)})])])}));Fv(de,ce),Tn.focusIn(ee)},_=function(ee){m.clear(),Mo(ee.element).each(function(de){ee.getSystem().getByDom(de).each(function(Se){Ol(Se)})})},C=function(ee){return df(ee,t,"body")},T=function(ee){return df(ee,t,"footer")},R=function(ee,de){iv.block(ee,de)},B=function(ee){iv.unblock(ee)},U=mn("modal-events"),q=J(J({},t.eventOrder),(d={},d[jc()]=[U].concat(t.eventOrder["alloy.system.attached"]||[]),d));return{uid:t.uid,dom:t.dom,components:n,apis:{show:h,hide:_,getBody:C,getFooter:T,setIdle:B,setBusy:R},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:nu(t.modalBehaviours,[Jn.config({}),Tn.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),iv.config({getRoot:m.get}),la(U,[sa(function(ee){LV(ee.element,df(ee,t,"title").element),$V(ee.element,df(ee,t,"body").element)})])])}},Tu=lc({name:"ModalDialog",configFields:HV(),partFields:VV(),factory:UV,apis:{show:function(t,n){t.show(n)},hide:function(t,n){t.hide(n)},getBody:function(t,n){return t.getBody(n)},getFooter:function(t,n){return t.getFooter(n)},setBusy:function(t,n,o){t.setBusy(n,o)},setIdle:function(t,n){t.setIdle(n)}}}),jV=Dn([Zn("type"),Zn("name")].concat(t1)),WV=eu,B$=[Ni("name","name",Aa(function(){return mn("button-name")}),gi),xo("icon"),is("align","end",["start","end"]),yo("primary",!1),yo("disabled",!1)],M$=Tt(Tt([],B$,!0),[Zn("text")],!1),eI=Tt([os("type",["submit","cancel","custom"])],M$,!0),qV=Tt([os("type",["menu"]),xo("text"),xo("tooltip"),xo("icon"),Bu("items",jV)],B$,!0),GV=Ts("type",{submit:eI,cancel:eI,custom:eI,menu:qV}),KV=[Zn("type"),Zn("text"),os("level",["info","warn","error","success"]),Zn("icon"),Ae("url","")],XV=Dn(KV),YV=function(t){return[Zn("type"),t]},ZV=[Zn("type"),Zn("text"),yo("disabled",!1),yo("primary",!1),Ni("name","name",Aa(function(){return mn("button-name")}),gi),xo("icon"),yo("borderless",!1)],JV=Dn(ZV),QV=[Zn("type"),Zn("name"),Zn("label"),yo("disabled",!1)],eU=Dn(QV),tU=eu,tI=[Zn("type"),Zn("name")],uv=tI.concat([xo("label")]),rU=uv.concat([Ae("columns","auto")]),nU=Dn(rU),aU=H1([Zn("value"),Zn("text"),Zn("icon")]),oU=uv,iU=Dn(oU),uU=gi,cU=uv,sU=Dn(cU),lU=gi,fU=tI.concat([Tm("tag","textarea"),Zn("scriptId"),Zn("scriptUrl"),Cc("settings",void 0)]),dU=tI.concat([Tm("tag","textarea"),Vu("init")]),vU=Sm(function(t){return Ko("customeditor.old",Hc(dU),t).orThunk(function(){return Ko("customeditor.new",Hc(fU),t)})}),mU=gi,gU=uv,pU=Dn(gU),hU=kS(),yU=function(t){return[Zn("type"),Nf("columns"),t]},bU=[Zn("type"),Zn("html"),is("presets","presentation",["presentation","document"])],wU=Dn(bU),kU=uv.concat([yo("sandboxed",!0)]),_U=Dn(kU),CU=gi,SU=uv.concat([kc("currentState",Dn([Ut("blob"),Zn("url")]))]),xU=Dn(SU),TU=uv.concat([xo("inputMode"),xo("placeholder"),yo("maximized",!1),yo("disabled",!1)]),zU=Dn(TU),EU=gi,AU=function(t){return[Zn("type"),Zn("label"),t]},OU=[Zn("text"),Zn("value")],DU=[Zn("text"),Bu("items",_S("items",function(){return N$}))],N$=lp([Dn(OU),Dn(DU)]),RU=uv.concat([Bu("items",N$),yo("disabled",!1)]),PU=Dn(RU),BU=gi,MU=uv.concat([Xs("items",[Zn("text"),Zn("value")]),_c("size",1),yo("disabled",!1)]),NU=Dn(MU),FU=gi,IU=uv.concat([yo("constrain",!0),yo("disabled",!1)]),$U=Dn(IU),F$=Dn([Zn("width"),Zn("height")]),LU=[Zn("type"),Bu("header",gi),Bu("cells",Mf(gi))],HU=Dn(LU),VU=uv.concat([xo("placeholder"),yo("maximized",!1),yo("disabled",!1)]),UU=Dn(VU),jU=gi,WU=uv.concat([is("filetype","file",["image","media","file"]),Ae("disabled",!1)]),qU=Dn(WU),GU=Dn([Zn("value"),Ae("meta",{})]),rI=function(t){return Ni("items","items",aa(),Mf(Sm(function(n){return Ko("Checking item of "+t,nI,n).fold(function(o){return ma.error(hd(o))},function(o){return ma.value(o)})})))},nI=Yk(function(){return Zh("type",{alertbanner:XV,bar:Dn(YV(rI("bar"))),button:JV,checkbox:eU,colorinput:iU,colorpicker:sU,dropzone:pU,grid:Dn(yU(rI("grid"))),iframe:_U,input:zU,listbox:PU,selectbox:NU,sizeinput:$U,textarea:UU,urlinput:qU,customeditor:vU,htmlpanel:wU,imagetools:xU,collection:nU,label:Dn(AU(rI("label"))),table:HU,panel:I$})}),KU=[Zn("type"),Ae("classes",[]),Bu("items",nI)],I$=Dn(KU),XU=[Ni("name","name",Aa(function(){return mn("tab-name")}),gi),Zn("title"),Bu("items",nI)],YU=[Zn("type"),Xs("tabs",XU)],ZU=Dn(YU),JU=M$,QU=GV,ej=Dn([Zn("title"),kc("body",Zh("type",{panel:I$,tabpanel:ZU})),Tm("size","normal"),Bu("buttons",QU),Ae("initialData",{}),To("onAction",$e),To("onChange",$e),To("onSubmit",$e),To("onClose",$e),To("onCancel",$e),Ae("onTabChange",$e)]),tj=function(t){return Ko("dialog",ej,t)},rj=Dn(Tt([os("type",["cancel","custom"])],JU,!0)),nj=Dn([Zn("title"),Zn("url"),fv("height"),fv("width"),Vc("buttons",rj),To("onAction",$e),To("onCancel",$e),To("onClose",$e),To("onMessage",$e)]),aj=function(t){return Ko("dialog",nj,t)},aI=function(t){return yr(t)?[t].concat(gr(_t(t),aI)):ft(t)?gr(t,aI):[]},oj=function(t){return gt(t.type)&&gt(t.name)},ij={checkbox:tU,colorinput:uU,colorpicker:lU,dropzone:hU,input:EU,iframe:CU,sizeinput:F$,selectbox:FU,listbox:BU,size:F$,textarea:jU,urlinput:GU,customeditor:mU,collection:aU,togglemenuitem:WV},uj=function(t){return E.from(ij[t.type])},cj=function(t){return Zt(aI(t),oj)},sj=function(t){var n=cj(t),o=gr(n,function(c){return uj(c).fold(function(){return[]},function(d){return[kc(c.name,d)]})});return Dn(o)},$$=function(t){var n=Ks(tj(t)),o=sj(t),c=t.initialData;return{internalDialog:n,dataValidator:o,initialData:c}},bE={open:function(t,n){var o=$$(n);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,n){var o=Ks(aj(n));return t(o)},redial:function(t){return $$(t)}},L$=function(t){var n=[],o={};return Rr(t,function(c,d){c.fold(function(){n.push(d)},function(m){o[d]=m})}),n.length>0?ma.error(n):ma.value(o)},lj=function(t,n){var o=ro(C1.sketch(function(c){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:$t(t.items,function(d){return LD(c,d,n)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Br([Tn.config({mode:"acyclic",useTabstopAt:zr(Ak)}),cd.memento(o),zh.memento(o,{postprocess:function(c){return L$(c).fold(function(d){return console.error(d),{}},or)}})])}},fj=function(t,n){return{uid:t.uid,dom:t.dom,components:t.components,events:Wb(t.action),behaviours:nu(t.tabButtonBehaviours,[Qn.config({}),Tn.config({mode:"execution",useSpace:!0,useEnter:!0}),Ur.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},dj=hs({name:"TabButton",configFields:[Ae("uid",void 0),Ut("value"),Ni("dom","dom",vu(function(){return{attributes:{role:"tab",id:mn("aria"),"aria-selected":"false"}}}),Gs()),Ga("action"),Ae("domModification",{}),Vi("tabButtonBehaviours",[Qn,Tn,Ur]),Ut("view")],factory:fj}),vj=se([Ut("tabs"),Ut("dom"),Ae("clickToDismiss",!1),Vi("tabbarBehaviours",[Ja,Tn]),Tv(["tabClass","selectedClass"])]),mj=ff({factory:dj,name:"tabs",unit:"tab",overrides:function(t){var n=function(c,d){Ja.dehighlight(c,d),Fn(c,gu(),{tabbar:c,button:d})},o=function(c,d){Ja.highlight(c,d),Fn(c,o_(),{tabbar:c,button:d})};return{action:function(c){var d=c.getSystem().getByUid(t.uid).getOrDie(),m=Ja.isHighlighted(d,c),h=function(){return m&&t.clickToDismiss?n:m?$e:o}();h(d,c)},domModification:{classes:[t.markers.tabClass]}}}}),gj=se([mj]),pj=function(t,n,o,c){return{uid:t.uid,dom:t.dom,components:n,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:nu(t.tabbarBehaviours,[Ja.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(d,m){va(m.element,"aria-selected","true")},onDehighlight:function(d,m){va(m.element,"aria-selected","false")}}),Tn.config({mode:"flow",getInitial:function(d){return Ja.getHighlighted(d).map(function(m){return m.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},H$=lc({name:"Tabbar",configFields:vj(),partFields:gj(),factory:pj}),hj=function(t,n){return{uid:t.uid,dom:t.dom,behaviours:nu(t.tabviewBehaviours,[Jn.config({})]),domModification:{attributes:{role:"tabpanel"}}}},yj=hs({name:"Tabview",configFields:[Vi("tabviewBehaviours",[Jn])],factory:hj}),bj=se([Ae("selectFirst",!0),Ka("onChangeTab"),Ka("onDismissTab"),Ae("tabs",[]),Vi("tabSectionBehaviours",[])]),wj=_u({factory:H$,schema:[Ut("dom"),Wl("markers",[Ut("tabClass"),Ut("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),kj=_u({factory:yj,name:"tabview"}),_j=se([wj,kj]),Cj=function(t,n,o,c){var d=function(h){var _=Ur.getValue(h);vo(h,t,"tabview").each(function(C){var T=Qt(t.tabs,function(R){return R.value===_});T.each(function(R){var B=R.view();Go(h.element,"id").each(function(U){va(C.element,"aria-labelledby",U)}),Jn.set(C,B),t.onChangeTab(C,h,B)})})},m=function(h,_){vo(h,t,"tabbar").each(function(C){_(C).each(ls)})};return{uid:t.uid,dom:t.dom,components:n,behaviours:hg(t.tabSectionBehaviours),events:bo(Fe([t.selectFirst?[sa(function(h,_){m(h,Ja.getFirst)})]:[],[Yt(o_(),function(h,_){var C=_.event.button;d(C)}),Yt(gu(),function(h,_){var C=_.event.button;t.onDismissTab(h,C)})]])),apis:{getViewItems:function(h){return vo(h,t,"tabview").map(function(_){return Jn.contents(_)}).getOr([])},showTab:function(h,_){var C=function(T){var R=Ja.getCandidates(T),B=Qt(R,function(U){return Ur.getValue(U)===_});return B.filter(function(U){return!Ja.isHighlighted(T,U)})};m(h,C)}}}},vS=lc({name:"TabSection",configFields:bj(),partFields:_j(),factory:Cj,apis:{getViewItems:function(t,n){return t.getViewItems(n)},showTab:function(t,n,o){t.showTab(n,o)}}}),Sj=function(t,n,o){return $t(t,function(c,d){Jn.set(o,t[d].view());var m=n.dom.getBoundingClientRect();return Jn.set(o,[]),m.height})},xj=function(t){return Vt(_n(t,function(n,o){return n>o?-1:n<o?1:0}))},Tj=function(t,n,o){var c=wt(t).dom,d=ky(t,".tox-dialog-wrap").getOr(t),m=ti(d,"position")==="fixed",h;m?h=Math.max(c.clientHeight,window.innerHeight):h=Math.max(c.offsetHeight,c.scrollHeight);var _=Si(n),C=n.dom.offsetLeft>=o.dom.offsetLeft+Ou(o),T=C?Math.max(Si(o),_):_,R=parseInt(ti(t,"margin-top"),10)||0,B=parseInt(ti(t,"margin-bottom"),10)||0,U=Si(t)+R+B,q=U-T;return h-q},zj=function(t,n){Vt(t).each(function(o){return vS.showTab(n,o.value)})},V$=function(t,n){Xn(t,"height",n+"px"),dr().browser.isIE()?qa(t,"flex-basis"):Xn(t,"flex-basis",n+"px")},AR=function(t,n,o){ky(t,'[role="dialog"]').each(function(c){Ii(c,'[role="tablist"]').each(function(d){o.get().map(function(m){return Xn(n,"height","0"),Xn(n,"flex-basis","0"),Math.min(m,Tj(c,n,d))}).each(function(m){V$(n,m)})})})},oI=function(t){return Ii(t,'[role="tabpanel"]')},Ej=function(t){var n=function(){var c=fi(),d=[sa(function(h){var _=h.element;oI(_).each(function(C){Xn(C,"visibility","hidden"),h.getSystem().getByDom(C).toOptional().each(function(T){var R=Sj(t,C,T),B=xj(R);B.fold(c.clear,c.set)}),AR(_,C,c),qa(C,"visibility"),zj(t,h),Qf.requestAnimationFrame(function(){AR(_,C,c)})})}),Yt(ss(),function(h){var _=h.element;oI(_).each(function(C){AR(_,C,c)})}),Yt(kA,function(h,_){var C=h.element;oI(C).each(function(T){var R=sc(Bn(T));Xn(T,"visibility","hidden");var B=bi(T,"height").map(function(ee){return parseInt(ee,10)});qa(T,"height"),qa(T,"flex-basis");var U=T.dom.getBoundingClientRect().height,q=B.forall(function(ee){return U>ee});q?(c.set(U),AR(C,T,c)):B.each(function(ee){V$(T,ee)}),qa(T,"visibility"),R.each(xl)})})],m=!1;return{extraEvents:d,selectFirst:m}}(),o=function(){var c=[],d=!0;return{extraEvents:c,selectFirst:d}}();return{smartTabHeight:n,naiveTabHeight:o}},U$="send-data-to-section",j$="send-data-to-view",Aj=function(t,n){var o=Nn({}),c=function(C){var T=Ur.getValue(C),R=L$(T).getOr({}),B=o.get(),U=xt(B,R);o.set(U)},d=function(C){var T=o.get();Ur.setValue(C,T)},m=Nn(null),h=$t(t.tabs,function(C){return{value:C.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:n.shared.providers.translate(C.title)},view:function(){return[C1.sketch(function(T){return{dom:{tag:"div",classes:["tox-form"]},components:$t(C.items,function(R){return LD(T,R,n)}),formBehaviours:Br([Tn.config({mode:"acyclic",useTabstopAt:zr(Ak)}),la("TabView.form.events",[sa(d),fs(c)]),Uu.config({channels:If([{key:U$,value:{onReceive:c}},{key:j$,value:{onReceive:d}}])})])}})]}}}),_=Ej(h).smartTabHeight;return vS.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(C,T,R){var B=Ur.getValue(T);Fn(C,Ig,{name:B,oldName:m.get()}),m.set(B)},tabs:h,components:[vS.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[H$.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Br([hi.config({})])}),vS.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:_.selectFirst,tabSectionBehaviours:Br([la("tabpanel",_.extraEvents),Tn.config({mode:"acyclic"}),Ta.config({find:function(C){return Vt(vS.getViewItems(C))}}),Ur.config({store:{mode:"manual",getValue:function(C){return C.getSystem().broadcastOn([U$],{}),o.get()},setValue:function(C,T){o.set(T),C.getSystem().broadcastOn([j$],{})}}})])})},iI=mn("update-dialog"),W$=mn("update-title"),q$=mn("update-body"),G$=mn("update-footer"),K$=mn("body-send-message"),X$=function(t,n,o,c){var d=function(_){switch(_.body.type){case"tabpanel":return[Aj(_.body,o)];default:return[lj(_.body,o)]}},m=function(_,C){return E.some({isTabPanel:function(){return C.body.type==="tabpanel"}})},h={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:J(J({},n.map(function(_){return{id:_}}).getOr({})),c?h:{})},components:[],behaviours:Br([cd.childAt(0),Fl.config({channel:q$,updateState:m,renderComponents:d,initialData:t})])}},Oj=function(t,n,o,c){return X$(t,E.some(n),o,c)},Dj=function(t,n){var o=X$(t,E.none(),n,!1);return Tu.parts.body(o)},Rj=function(t){var n={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[$O({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Br([hi.config({}),Qn.config({})])})]}],behaviours:Br([Tn.config({mode:"acyclic",useTabstopAt:zr(Ak)})])};return Tu.parts.body(n)},Pj=qC.deviceType.isTouch(),Y$=function(t,n){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,n]}},Z$=function(t,n){return Tu.parts.close(Kc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close")}},action:t,buttonBehaviours:Br([hi.config({})])}))},J$=function(){return Tu.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},Q$=function(t,n){return Tu.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:nm("<p>"+TC(n.translate(t))+"</p>")}]}]})},eL=function(t){return Tu.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},tL=function(t,n){return[dc.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),dc.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:n})]},uI=function(t){var n,o="tox-dialog",c=o+"-wrap",d=c+"__backdrop",m=o+"__disable-scroll";return Tu.sketch({lazySink:t.lazySink,onEscape:function(h){return t.onEscape(h),E.some(!0)},useTabstopAt:function(h){return!Ak(h)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:J({position:"relative"},t.extraStyles)},components:Tt([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:nm('<div class="'+c+'"></div>'),components:[{dom:{tag:"div",classes:Pj?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:c,modalBehaviours:Br(Tt([Qn.config({}),la("dialog-events",t.dialogEvents.concat([ki(zs(),function(h,_){Tn.focusIn(h)})])),la("scroll-lock",[sa(function(){Fi(to(),m)}),fs(function(){Ti(to(),m)})])],t.extraBehaviours,!0)),eventOrder:J((n={},n[cs()]=["dialog-events"],n[jc()]=["scroll-lock","dialog-events","alloy.base.behaviour"],n[Rm()]=["alloy.base.behaviour","dialog-events","scroll-lock"],n),t.eventOrder)})},rL=function(t){return Kc.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[hf("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(n){Ua(n,xh)}})},nL=function(t,n,o){var c=function(d){return[hu(o.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:J({},n.map(function(d){return{id:d}}).getOr({}))},components:c(t),behaviours:Br([Fl.config({channel:W$,renderComponents:c})])}},aL=function(){return{dom:nm('<div class="tox-dialog__draghandle"></div>')}},Bj=function(t,n,o){return dc.sketch({dom:nm('<div class="tox-dialog__header"></div>'),components:[nL(t,E.some(n),o),aL(),rL(o)],containerBehaviours:Br([Hk.config({mode:"mouse",blockerClass:"blocker",getTarget:function(c){return Os(c,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},Mj=function(t,n){var o=Tu.parts.title(nL(t,E.none(),n)),c=Tu.parts.draghandle(aL()),d=Tu.parts.close(rL(n)),m=[o].concat(t.draggable?[c]:[]).concat([d]);return dc.sketch({dom:nm('<div class="tox-dialog__header"></div>'),components:m})},oL=function(t,n){return Mj({title:n.shared.providers.translate(t),draggable:n.dialog.isDraggableModal()},n.shared.providers)},iL=function(t,n,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:nm('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},uL=function(t,n,o){return{onClose:function(){return o.closeWindow()},onBlock:function(c){Tu.setBusy(t(),function(d,m){return iL(c.message,m,n)})},onUnblock:function(){Tu.setIdle(t())}}},cL=function(t,n,o,c){var d,m=function(h,_){return E.some(_)};return Io(uI(J(J({},t),{lazySink:c.shared.getSink,extraBehaviours:Tt([Fl.config({channel:iI,updateState:m,initialData:n}),zh.memory({})],t.extraBehaviours,!0),onEscape:function(h){Ua(h,xh)},dialogEvents:o,eventOrder:(d={},d[Es()]=[Fl.name(),Uu.name()],d[jc()]=["scroll-lock",Fl.name(),"messages","dialog-events","alloy.base.behaviour"],d[Rm()]=["alloy.base.behaviour","dialog-events","messages",Fl.name(),"scroll-lock"],d)})))},sL=function(t){var n=function(o){var c=$t(o.items,function(d){var m=Nn(!1);return J(J({},d),{storage:m})});return J(J({},o),{items:c})};return $t(t,function(o){return o.type==="menu"?n(o):o})},lL=function(t){return Zr(t,function(n,o){if(o.type==="menu"){var c=o;return Zr(c.items,function(d,m){return d[m.name]=m.storage,d},n)}return n},{})},fL=function(t,n){return[Cd(zs(),HO),t(wk,function(o,c){n.onClose(),c.onClose()}),t(xh,function(o,c,d,m){c.onCancel(o),Ua(m,wk)}),Yt(jT,function(o,c){return n.onUnblock()}),Yt(UT,function(o,c){return n.onBlock(c.event)})]},Nj=function(t,n){var o=function(d,m){return Yt(d,function(h,_){c(h,function(C,T){m(t(),C,_.event,h)})})},c=function(d,m){Fl.getState(d).get().each(function(h){m(h,d)})};return Tt(Tt([],fL(o,n),!0),[o(rv,function(d,m,h){m.onAction(d,{name:h.name})})],!1)},Fj=function(t,n,o){var c=function(m,h){return Yt(m,function(_,C){d(_,function(T,R){h(t(),T,C.event,_)})})},d=function(m,h){Fl.getState(m).get().each(function(_){h(_.internalDialog,m)})};return Tt(Tt([],fL(c,n),!0),[c(kk,function(m,h){return h.onSubmit(m)}),c($s,function(m,h,_){h.onChange(m,{name:_.name})}),c(rv,function(m,h,_,C){var T=function(){return Tn.focusIn(C)},R=function(q){return Wh(q,"disabled")||Go(q,"aria-disabled").exists(function(ee){return ee==="true"})},B=Bn(C.element),U=sc(B);h.onAction(m,{name:_.name,value:_.value}),sc(B).fold(T,function(q){R(q)||U.exists(function(ee){return Au(q,ee)&&R(ee)})?T():o().toOptional().filter(function(ee){return!Au(ee.element,q)}).each(T)})}),c(Ig,function(m,h,_){h.onTabChange(m,{newTabName:_.name,oldTabName:_.oldName})}),fs(function(m){var h=t();Ur.setValue(m,h.getData())})],!1)},cI={initUrlDialog:Nj,initDialog:Fj},Ij=function(t,n){return V3(t,t.type,n)},$j=function(t,n,o){return Qt(n,function(c){return c.name===o}).bind(function(c){return c.memento.getOpt(t)})},Lj=function(t,n){var o=n.map(function(_){return _.footerButtons}).getOr([]),c=ir(o,function(_){return _.align==="start"}),d=function(_,C){return dc.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+_]},components:$t(C,function(T){return T.memento.asSpec()})})},m=d("start",c.pass),h=d("end",c.fail);return[m,h]},dL=function(t,n){var o=function(c,d){var m=$t(d.buttons,function(_){var C=ro(Ij(_,n));return{name:_.name,align:_.align,memento:C}}),h=function(_,C){return $j(_,m,C)};return E.some({lookupByName:h,footerButtons:m})};return{dom:nm('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Br([Fl.config({channel:G$,initialData:t,updateState:o,renderComponents:Lj})])}},Hj=function(t,n){return dL(t,n)},vL=function(t,n){return Tu.parts.footer(dL(t,n))},sI=function(t,n){var o=t.getRoot();if(o.getSystem().isConnected()){var c=Ta.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return C1.getField(c,n).fold(function(){var d=t.getFooter(),m=Fl.getState(d);return m.get().bind(function(h){return h.lookupByName(c,n)})},function(d){return E.some(d)})}else return E.none()},Vj=function(t,n){var o=t.getRoot();return Fl.getState(o).get().map(function(c){return Ks(Ko("data",c.dataValidator,n))}).getOr(n)},mL=function(t,n,o){var c=function(de){var Se=t.getRoot();Se.getSystem().isConnected()&&de(Se)},d=function(){var de=t.getRoot(),Se=de.getSystem().isConnected()?t.getFormWrapper():de,ce=Ur.getValue(Se),ze=sr(o,function(ht){return ht.get()});return J(J({},ce),ze)},m=function(de){c(function(Se){var ce=ee.getData(),ze=J(J({},ce),de),ht=Vj(t,ze),lt=t.getFormWrapper();Ur.setValue(lt,ht),Rr(o,function(Te,tt){K(ze,tt)&&Te.set(ze[tt])})})},h=function(de){sI(t,de).each(Mn.disable)},_=function(de){sI(t,de).each(Mn.enable)},C=function(de){sI(t,de).each(Qn.focus)},T=function(de){if(!gt(de))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");c(function(Se){Fn(Se,UT,{message:de})})},R=function(){c(function(de){Ua(de,jT)})},B=function(de){c(function(Se){var ce=t.getBody(),ze=Fl.getState(ce);ze.get().exists(function(ht){return ht.isTabPanel()})&&Ta.getCurrent(ce).each(function(ht){vS.showTab(ht,de)})})},U=function(de){c(function(Se){var ce=n(de);Se.getSystem().broadcastOn([iI],ce),Se.getSystem().broadcastOn([W$],ce.internalDialog),Se.getSystem().broadcastOn([q$],ce.internalDialog),Se.getSystem().broadcastOn([G$],ce.internalDialog),ee.setData(ce.initialData)})},q=function(){c(function(de){Ua(de,wk)})},ee={getData:d,setData:m,disable:h,enable:_,focus:C,block:T,unblock:R,showTab:B,redial:U,close:q};return ee},Uj=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},jj=function(t,n,o){var c=oL(t.internalDialog.title,o),d=Dj({body:t.internalDialog.body},o),m=sL(t.internalDialog.buttons),h=lL(m),_=vL({buttons:m},o),C=cI.initDialog(function(){return q},uL(function(){return B},o.shared.providers,n),o.shared.getSink),T=Uj(t.internalDialog.size),R={header:c,body:d,footer:E.some(_),extraClasses:T,extraBehaviours:[],extraStyles:{}},B=cL(R,t,C,o),U=function(){var ee=function(){var de=Tu.getBody(B);return Ta.getCurrent(de).getOr(de)};return{getRoot:se(B),getBody:function(){return Tu.getBody(B)},getFooter:function(){return Tu.getFooter(B)},getFormWrapper:ee}}(),q=mL(U,n.redial,h);return{dialog:B,instanceApi:q}},Wj=function(t,n,o,c){var d,m,h=mn("dialog-label"),_=mn("dialog-content"),C=function(ce,ze){return E.some(ze)},T=ro(Bj({title:t.internalDialog.title},h,o.shared.providers)),R=ro(Oj({body:t.internalDialog.body},_,o,c)),B=sL(t.internalDialog.buttons),U=lL(B),q=ro(Hj({buttons:B},o)),ee=cI.initDialog(function(){return Se},{onBlock:function(ce){iv.block(de,function(ze,ht){return iL(ce.message,ht,o.shared.providers)})},onUnblock:function(){iv.unblock(de)},onClose:function(){return n.closeWindow()}},o.shared.getSink),de=Io({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=h,d["aria-describedby"]=_,d)},eventOrder:(m={},m[Es()]=[Fl.name(),Uu.name()],m[cs()]=["execute-on-form"],m[jc()]=["reflecting","execute-on-form"],m),behaviours:Br([Tn.config({mode:"cyclic",onEscape:function(ce){return Ua(ce,wk),E.some(!0)},useTabstopAt:function(ce){return!Ak(ce)&&(me(ce)!=="button"||No(ce,"disabled")!=="disabled")}}),Fl.config({channel:iI,updateState:C,initialData:t}),Qn.config({}),la("execute-on-form",ee.concat([ki(zs(),function(ce,ze){Tn.focusIn(ce)})])),iv.config({getRoot:function(){return E.some(de)}}),Jn.config({}),zh.memory({})]),components:[T.asSpec(),R.asSpec(),q.asSpec()]}),Se=mL({getRoot:se(de),getFooter:function(){return q.get(de)},getBody:function(){return R.get(de)},getFormWrapper:function(){var ce=R.get(de);return Ta.getCurrent(ce).getOr(ce)}},n.redial,U);return{dialog:de,instanceApi:Se}},lI=tinymce.util.Tools.resolve("tinymce.util.URI"),qj=function(t){var n=function(h){t.getSystem().isConnected()&&h(t)},o=function(h){if(!gt(h))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");n(function(_){Fn(_,UT,{message:h})})},c=function(){n(function(h){Ua(h,jT)})},d=function(){n(function(h){Ua(h,wk)})},m=function(h){n(function(_){_.getSystem().broadcastOn([K$],h)})};return{block:o,unblock:c,close:d,sendMessage:m}},Gj=["insertContent","setContent","execCommand","close","block","unblock"],gL=function(t){return yr(t)&&Gj.indexOf(t.mceAction)!==-1},Kj=function(t){return!gL(t)&&yr(t)&&K(t,"mceAction")},Xj=function(t,n,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var c=vr(o.ui)?o.ui:!1;t.execCommand(o.cmd,c,o.value);break;case"close":n.close();break;case"block":n.block(o.message);break;case"unblock":n.unblock();break}},Yj=function(t,n,o,c){var d,m=oL(t.title,c),h=Rj(t),_=t.buttons.bind(function(ze){return ze.length===0?E.none():E.some(vL({buttons:ze},c))}),C=cI.initUrlDialog(function(){return ce},uL(function(){return Se},c.shared.providers,n)),T=J(J({},t.height.fold(function(){return{}},function(ze){return{height:ze+"px","max-height":ze+"px"}})),t.width.fold(function(){return{}},function(ze){return{width:ze+"px","max-width":ze+"px"}})),R=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],B=new lI(t.url,{base_uri:new lI(window.location.href)}),U=B.protocol+"://"+B.host+(B.port?":"+B.port:""),q=Km(),ee=[la("messages",[sa(function(){var ze=pi(le.fromDom(window),"message",function(ht){if(B.isSameOrigin(new lI(ht.raw.origin))){var lt=ht.raw.data;gL(lt)?Xj(o,ce,lt):Kj(lt)&&t.onMessage(ce,lt)}});q.set(ze)}),fs(q.clear)]),Uu.config({channels:(d={},d[K$]={onReceive:function(ze,ht){Ii(ze.element,"iframe").each(function(lt){var Te=lt.dom.contentWindow;Te.postMessage(ht,U)})}},d)})],de={header:m,body:h,footer:_,extraClasses:R,extraBehaviours:ee,extraStyles:T},Se=cL(de,t,C,c),ce=qj(Se);return{dialog:Se,instanceApi:ce}},Zj=function(t){var n=t.backstage.shared,o=function(c,d){var m=function(){Tu.hide(T),d()},h=ro(V3({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:E.none()},"cancel",t.backstage)),_=J$(),C=Z$(m,n.providers),T=Io(uI({lazySink:function(){return n.getSink()},header:Y$(_,C),body:Q$(c,n.providers),footer:E.some(eL(tL([],[h.asSpec()]))),onEscape:m,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Yt(xh,m)],eventOrder:{}}));Tu.show(T);var R=h.get(T);Qn.focus(R)};return{open:o}},Jj=function(t){var n=t.backstage.shared,o=function(c,d){var m=function(U){Tu.hide(R),d(U)},h=ro(V3({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:E.none()},"submit",t.backstage)),_=V3({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:E.none()},"cancel",t.backstage),C=J$(),T=Z$(function(){return m(!1)},n.providers),R=Io(uI({lazySink:function(){return n.getSink()},header:Y$(C,T),body:Q$(c,n.providers),footer:E.some(eL(tL([],[_,h.asSpec()]))),onEscape:function(){return m(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Yt(xh,function(){return m(!1)}),Yt(kk,function(){return m(!0)})],eventOrder:{}}));Tu.show(R);var B=h.get(R);Qn.focus(B)};return{open:o}},Qj=function(t,n){return Ks(Ko("data",n,t))},eW=function(t){return yk(t,".tox-alert-dialog")||yk(t,".tox-confirm-dialog")},tW=function(t,n,o){return n&&o?[]:[e.config({contextual:{lazyContext:function(){return E.some(wi(le.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},rW=function(t){var n=t.backstage,o=t.editor,c=jC(o),d=Zj(t),m=Jj(t),h=function(ee,de,Se){return de!==void 0&&de.inline==="toolbar"?R(ee,n.shared.anchors.inlineDialog(),Se,de.ariaAttrs):de!==void 0&&de.inline==="cursor"?R(ee,n.shared.anchors.cursor(),Se,de.ariaAttrs):T(ee,Se)},_=function(ee,de){return C(ee,de)},C=function(ee,de){var Se=function(ce){var ze=Yj(ce,{closeWindow:function(){Tu.hide(ze.dialog),de(ze.instanceApi)}},o,n);return Tu.show(ze.dialog),ze.instanceApi};return bE.openUrl(Se,ee)},T=function(ee,de){var Se=function(ce,ze,ht){var lt=ze,Te={dataValidator:ht,initialData:lt,internalDialog:ce},tt=jj(Te,{redial:bE.redial,closeWindow:function(){Tu.hide(tt.dialog),de(tt.instanceApi)}},n);return Tu.show(tt.dialog),tt.instanceApi.setData(lt),tt.instanceApi};return bE.open(Se,ee)},R=function(ee,de,Se,ce){var ze=function(ht,lt,Te){var tt=Qj(lt,Te),Mt=fi(),jr=n.shared.header.isPositionedAtTop(),Gt={dataValidator:Te,initialData:tt,internalDialog:ht},Wr=function(){return Mt.on(function(Er){lo.reposition(Er),e.refresh(Er)})},Jt=Wj(Gt,{redial:bE.redial,closeWindow:function(){Mt.on(lo.hide),o.off("ResizeEditor",Wr),Mt.clear(),Se(Jt.instanceApi)}},n,ce),Pt=Io(lo.sketch(J(J({lazySink:n.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},jr?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Br(Tt([la("window-manager-inline-events",[Yt(Js(),function(Er,gn){Ua(Jt.dialog,xh)})])],tW(o,c,jr),!0)),isExtraPart:function(Er,gn){return eW(gn)}})));return Mt.set(Pt),lo.showWithin(Pt,gs(Jt.dialog),{anchor:de},E.some(to())),(!c||!jr)&&(e.refresh(Pt),o.on("ResizeEditor",Wr)),Jt.instanceApi.setData(tt),Tn.focusIn(Jt.dialog),Jt.instanceApi};return bE.open(ze,ee)},B=function(ee,de){m.open(ee,function(Se){de(Se)})},U=function(ee,de){d.open(ee,function(){de()})},q=function(ee){ee.close()};return{open:h,openUrl:_,alert:U,close:q,confirm:B}};function nW(){xn.add("silver",function(t){var n=IV(t),o=n.uiMothership,c=n.backstage,d=n.renderUI,m=n.getUi;Fg.register(t,c.shared);var h=rW({editor:t,backstage:c});return{renderUI:d,getWindowManagerImpl:se(h),getNotificationManagerImpl:function(){return Q8(t,{backstage:c},o)},ui:m()}})}nW()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(Le,Dt,dt){return Le.length>=Dt.length&&Le.substr(dt,dt+Dt.length)===Dt},mt=function(Le,Dt){return Le.indexOf(Dt)!==-1},Nt=function(Le,Dt){return _r(Le,Dt,0)},gt=tinymce.util.Tools.resolve("tinymce.Env"),yr=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},ft=new RegExp("^"+yr().source+"$","i"),Ir=function(Le){return Le.getParam("autolink_pattern",ft)},vr=function(Le){return Le.getParam("default_link_target",!1)},Xr=function(Le){return Le.getParam("link_default_protocol","http","string")},mr=function(Le){return/^[(\[{ \u00a0]$/.test(Le)},Kt=function(Le){return Le.nodeType===3},kr=function(Le){return Le.nodeType===1},Ot=function(Le){return Me(Le,-1)},Je=function(Le){return Me(Le,0)},$e=function(Le){return Me(Le,-1)},Ht=function(Le,Dt){if(Dt<0&&(Dt=0),Kt(Le)){var dt=Le.data.length;Dt>dt&&(Dt=dt)}return Dt},rt=function(Le,Dt,dt){!kr(Dt)||Dt.hasChildNodes()?Le.setStart(Dt,Ht(Dt,dt)):Le.setStartBefore(Dt)},nr=function(Le,Dt,dt){!kr(Dt)||Dt.hasChildNodes()?Le.setEnd(Dt,Ht(Dt,dt)):Le.setEndAfter(Dt)},se=function(Le){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Le)},or=function(Le){return/[?!,.;:]/.test(Le)},Me=function(Le,Dt){var dt,xn,J,V,Tt,en,yt,On=Ir(Le),hn=vr(Le);if(Le.dom.getParent(Le.selection.getNode(),"a[href]")===null){var E=Le.selection.getRng().cloneRange();if(E.startOffset<5){if(Tt=E.endContainer.previousSibling,!Tt){if(!E.endContainer.firstChild||!E.endContainer.firstChild.nextSibling)return;Tt=E.endContainer.firstChild.nextSibling}if(en=Tt.length,rt(E,Tt,en),nr(E,Tt,en),E.endOffset<5)return;dt=E.endOffset,xn=Tt}else{if(xn=E.endContainer,!Kt(xn)&&xn.firstChild){for(;!Kt(xn)&&xn.firstChild;)xn=xn.firstChild;Kt(xn)&&(rt(E,xn,0),nr(E,xn,xn.nodeValue.length))}E.endOffset===1?dt=2:dt=E.endOffset-1-Dt}var Rt=dt;do rt(E,xn,dt>=2?dt-2:0),nr(E,xn,dt>=1?dt-1:0),dt-=1,yt=E.toString();while(!mr(yt)&&dt-2>=0);mr(E.toString())?(rt(E,xn,dt),nr(E,xn,Rt),dt+=1):E.startOffset===0?(rt(E,xn,0),nr(E,xn,Rt)):(rt(E,xn,dt),nr(E,xn,Rt)),V=E.toString(),or(V.charAt(V.length-1))&&nr(E,xn,Rt-1),V=E.toString().trim();var Ve=V.match(On),Ft=Xr(Le);if(Ve){var In=Ve[0];Nt(In,"www.")?In=Ft+"://"+In:mt(In,"@")&&!se(In)&&(In="mailto:"+In),J=Le.selection.getBookmark(),Le.selection.setRng(E),Le.execCommand("createlink",!1,In),hn!==!1&&Le.dom.setAttrib(Le.selection.getNode(),"target",hn),Le.selection.moveToBookmark(J),Le.nodeChanged()}}},Nr=function(Le){var Dt;if(Le.on("keydown",function(dt){if(dt.keyCode===13)return $e(Le)}),gt.browser.isIE()){Le.on("focus",function(){if(!Dt){Dt=!0;try{Le.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}Le.on("keypress",function(dt){if(dt.keyCode===41||dt.keyCode===93||dt.keyCode===125)return Ot(Le)}),Le.on("keyup",function(dt){if(dt.keyCode===32)return Je(Le)})};function zr(){Ze.add("autolink",function(Le){Nr(Le)})}zr()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=tinymce.util.Tools.resolve("tinymce.util.VK"),mt=function(j){var he=typeof j;return j===null?"null":he==="object"&&(Array.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="Array")?"array":he==="object"&&(String.prototype.isPrototypeOf(j)||j.constructor&&j.constructor.name==="String")?"string":he},Nt=function(j){return function(he){return mt(he)===j}},gt=function(j){return function(he){return typeof he===j}},yr=function(j){return function(he){return j===he}},ft=Nt("string"),Ir=Nt("array"),vr=yr(null),Xr=gt("boolean"),mr=gt("function"),Kt=function(){},kr=function(j){return function(){return j}},Ot=function(j){return j},Je=function(j,he){return j===he},$e=kr(!1),Ht=kr(!0),rt=function(){return nr},nr=function(){var j=function(ot){return ot()},he=Ot,Re={fold:function(ot,Bt){return ot()},isSome:$e,isNone:Ht,getOr:he,getOrThunk:j,getOrDie:function(ot){throw new Error(ot||"error: getOrDie called on none.")},getOrNull:kr(null),getOrUndefined:kr(void 0),or:he,orThunk:j,map:rt,each:Kt,bind:rt,exists:$e,forall:Ht,filter:function(){return rt()},toArray:function(){return[]},toString:kr("none()")};return Re}(),se=function(j){var he=kr(j),Re=function(){return Bt},ot=function(Kr){return Kr(j)},Bt={fold:function(Kr,yn){return yn(j)},isSome:Ht,isNone:$e,getOr:he,getOrThunk:he,getOrDie:he,getOrNull:he,getOrUndefined:he,or:Re,orThunk:Re,map:function(Kr){return se(Kr(j))},each:function(Kr){Kr(j)},bind:ot,exists:ot,forall:ot,filter:function(Kr){return Kr(j)?Bt:nr},toArray:function(){return[j]},toString:function(){return"some("+j+")"}};return Bt},or=function(j){return j==null?nr:se(j)},Me={some:se,none:rt,from:or},Nr=Array.prototype.indexOf,zr=Array.prototype.push,Le=function(j,he){return Nr.call(j,he)},Dt=function(j,he){return Le(j,he)>-1},dt=function(j,he){for(var Re=j.length,ot=new Array(Re),Bt=0;Bt<Re;Bt++){var Kr=j[Bt];ot[Bt]=he(Kr,Bt)}return ot},xn=function(j,he){for(var Re=0,ot=j.length;Re<ot;Re++){var Bt=j[Re];he(Bt,Re)}},J=function(j,he,Re){return xn(j,function(ot,Bt){Re=he(Re,ot,Bt)}),Re},V=function(j){for(var he=[],Re=0,ot=j.length;Re<ot;++Re){if(!Ir(j[Re]))throw new Error("Arr.flatten item "+Re+" was not an array, input: "+j);zr.apply(he,j[Re])}return he},Tt=function(j,he){return V(dt(j,he))},en=function(j,he){for(var Re=0;Re<j.length;Re++){var ot=he(j[Re],Re);if(ot.isSome())return ot}return Me.none()},yt=function(j,he,Re){return Re===void 0&&(Re=Je),j.exists(function(ot){return Re(ot,he)})},On=function(j){for(var he=[],Re=function(Bt){he.push(Bt)},ot=0;ot<j.length;ot++)j[ot].each(Re);return he},hn=function(j,he){return j?Me.some(he):Me.none()},E=function(j){var he=j.getParam("link_assume_external_targets",!1);return Xr(he)&&he?1:ft(he)&&(he==="http"||he==="https")?he:0},Rt=function(j){return j.getParam("link_context_toolbar",!1,"boolean")},Ve=function(j){return j.getParam("link_list")},Ft=function(j){return j.getParam("default_link_target")},In=function(j){return j.getParam("target_list",!0)},qn=function(j){return j.getParam("rel_list",[],"array")},an=function(j){return j.getParam("link_class_list",[],"array")},Un=function(j){return j.getParam("link_title",!0,"boolean")},Z=function(j){return j.getParam("allow_unsafe_link_target",!1,"boolean")},La=function(j){return j.getParam("link_quicklink",!1,"boolean")},$t=function(j){return j.getParam("link_default_protocol","http","string")},Ye=tinymce.util.Tools.resolve("tinymce.util.Tools"),un=function(j){return ft(j.value)?j.value:""},ir=function(j){return ft(j.text)?j.text:ft(j.title)?j.title:""},Zt=function(j,he){var Re=[];return Ye.each(j,function(ot){var Bt=ir(ot);if(ot.menu!==void 0){var Kr=Zt(ot.menu,he);Re.push({text:Bt,items:Kr})}else{var yn=he(ot);Re.push({text:Bt,value:yn})}}),Re},qr=function(j){return j===void 0&&(j=un),function(he){return Me.from(he).map(function(Re){return Zt(Re,j)})}},Zr=function(j){return qr(un)(j)},At=function(j,he){return function(Re){return{name:j,type:"listbox",label:he,items:Re}}},Qt={sanitize:Zr,sanitizeWith:qr,createUi:At,getValue:un},Pe=function(){return Pe=Object.assign||function(he){for(var Re,ot=1,Bt=arguments.length;ot<Bt;ot++){Re=arguments[ot];for(var Kr in Re)Object.prototype.hasOwnProperty.call(Re,Kr)&&(he[Kr]=Re[Kr])}return he},Pe.apply(this,arguments)},Fe=Object.keys,gr=Object.hasOwnProperty,Ne=function(j,he){for(var Re=Fe(j),ot=0,Bt=Re.length;ot<Bt;ot++){var Kr=Re[ot],yn=j[Kr];he(yn,Kr)}},Oe=function(j){return function(he,Re){j[Re]=he}},ut=function(j,he,Re,ot){var Bt={};return Ne(j,function(Kr,yn){(he(Kr,yn)?Re:ot)(Kr,yn)}),Bt},br=function(j,he){var Re={};return ut(j,he,Oe(Re),Kt),Re},Jr=function(j,he){return gr.call(j,he)},_n=function(j,he){return Jr(j,he)&&j[he]!==void 0&&j[he]!==null},$n=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Vt=tinymce.util.Tools.resolve("tinymce.util.URI"),nt=function(j){return j&&j.nodeName.toLowerCase()==="a"},ct=function(j){return nt(j)&&!!xr(j)},bt=function(j,he){if(j.collapsed)return[];var Re=j.cloneContents(),ot=new $n(Re.firstChild,Re),Bt=[],Kr=Re.firstChild;do he(Kr)&&Bt.push(Kr);while(Kr=ot.next());return Bt},zt=function(j){return/^\w+:/i.test(j)},xr=function(j){var he=j.getAttribute("data-mce-href");return he||j.getAttribute("href")},Rr=function(j,he){var Re=["noopener"],ot=j?j.split(/\s+/):[],Bt=function(ra){return Ye.trim(ra.sort().join(" "))},Kr=function(ra){return ra=yn(ra),ra.length>0?ra.concat(Re):Re},yn=function(ra){return ra.filter(function(Va){return Ye.inArray(Re,Va)===-1})},xa=he?Kr(ot):yn(ot);return xa.length>0?Bt(xa):""},sr=function(j){return j.replace(/\uFEFF/g,"")},He=function(j,he){return he=he||j.selection.getNode(),be(he)?j.dom.select("a[href]",he)[0]:j.dom.getParent(he,"a[href]")},Xt=function(j,he){var Re=he?he.innerText||he.textContent:j.getContent({format:"text"});return sr(Re)},Pr=function(j){return Ye.grep(j,ct).length>0},lr=function(j){return bt(j,ct).length>0},Gn=function(j){var he=j.schema.getTextInlineElements(),Re=function(Bt){return Bt.nodeType===1&&!nt(Bt)&&!Jr(he,Bt.nodeName.toLowerCase())},ot=bt(j.selection.getRng(),Re);return ot.length===0},be=function(j){return j&&j.nodeName==="FIGURE"&&/\bimage\b/i.test(j.className)},_t=function(j){var he=["title","rel","class","target"];return J(he,function(Re,ot){return j[ot].each(function(Bt){Re[ot]=Bt.length>0?Bt:null}),Re},{href:j.href})},at=function(j,he){return(he==="http"||he==="https")&&!zt(j)?he+"://"+j:j},K=function(j,he){var Re=Pe({},he);if(!(qn(j).length>0)&&Z(j)===!1){var ot=Rr(Re.rel,Re.target==="_blank");Re.rel=ot||null}return Me.from(Re.target).isNone()&&In(j)===!1&&(Re.target=Ft(j)),Re.href=at(Re.href,E(j)),Re},Ee=function(j,he,Re,ot){Re.each(function(Bt){Jr(he,"innerText")?he.innerText=Bt:he.textContent=Bt}),j.dom.setAttribs(he,ot),j.selection.select(he)},st=function(j,he,Re,ot){be(he)?ci(j,he,ot):Re.fold(function(){j.execCommand("mceInsertLink",!1,ot)},function(Bt){j.insertContent(j.dom.createHTML("a",ot,j.dom.encode(Bt)))})},Tr=function(j,he,Re){var ot=j.selection.getNode(),Bt=He(j,ot),Kr=K(j,_t(Re));j.undoManager.transact(function(){Re.href===he.href&&he.attach(),Bt?(j.focus(),Ee(j,Bt,Re.text,Kr)):st(j,ot,Re.text,Kr)})},cr=function(j){var he=j.dom,Re=j.selection,ot=Re.getBookmark(),Bt=Re.getRng().cloneRange(),Kr=he.getParent(Bt.startContainer,"a[href]",j.getBody()),yn=he.getParent(Bt.endContainer,"a[href]",j.getBody());Kr&&Bt.setStartBefore(Kr),yn&&Bt.setEndAfter(yn),Re.setRng(Bt),j.execCommand("unlink"),Re.moveToBookmark(ot)},Fr=function(j){j.undoManager.transact(function(){var he=j.selection.getNode();be(he)?zo(j,he):cr(j),j.focus()})},ia=function(j){var he=j.class,Re=j.href,ot=j.rel,Bt=j.target,Kr=j.text,yn=j.title;return br({class:he.getOrNull(),href:Re,rel:ot.getOrNull(),target:Bt.getOrNull(),text:Kr.getOrNull(),title:yn.getOrNull()},function(xa,ra){return vr(xa)===!1})},Za=function(j,he){var Re=he.href;return Pe(Pe({},he),{href:Vt.isDomSafe(Re,"a",j.settings)?Re:""})},Fa=function(j,he,Re){var ot=Za(j,Re);j.hasPlugin("rtc",!0)?j.execCommand("createlink",!1,ia(ot)):Tr(j,he,ot)},Ha=function(j){j.hasPlugin("rtc",!0)?j.execCommand("unlink"):Fr(j)},zo=function(j,he){var Re=j.dom.select("img",he)[0];if(Re){var ot=j.dom.getParents(Re,"a[href]",he)[0];ot&&(ot.parentNode.insertBefore(Re,ot),j.dom.remove(ot))}},ci=function(j,he,Re){var ot=j.dom.select("img",he)[0];if(ot){var Bt=j.dom.create("a",Re);ot.parentNode.insertBefore(Bt,ot),Bt.appendChild(ot)}},Oo=function(j){return _n(j,"items")},mo=function(j,he){return en(he,function(Re){return Oo(Re)?mo(j,Re.items):hn(Re.value===j,Re)})},Jo=function(j,he,Re,ot){var Bt=ot[he],Kr=j.length>0;return Bt!==void 0?mo(Bt,Re).map(function(yn){return{url:{value:yn.value,meta:{text:Kr?j:yn.text,attach:Kt}},text:Kr?j:yn.text}}):Me.none()},ua=function(j,he){return he==="link"?j.link:he==="anchor"?j.anchor:Me.none()},Lo=function(j,he){var Re={text:j.text,title:j.title},ot=function(ra){return hn(Re.title.length<=0,Me.from(ra.meta.title).getOr(""))},Bt=function(ra){return hn(Re.text.length<=0,Me.from(ra.meta.text).getOr(ra.value))},Kr=function(ra){var Va=Bt(ra.url),so=ot(ra.url);return Va.isSome()||so.isSome()?Me.some(Pe(Pe({},Va.map(function(Eu){return{text:Eu}}).getOr({})),so.map(function(Eu){return{title:Eu}}).getOr({}))):Me.none()},yn=function(ra,Va){var so=ua(he,Va.name).getOr([]);return Jo(Re.text,Va.name,so,ra)},xa=function(ra,Va){var so=Va.name;return so==="url"?Kr(ra()):Dt(["anchor","link"],so)?yn(ra(),Va):((so==="text"||so==="title")&&(Re[so]=ra()[so]),Me.none())};return{onChange:xa}},fn={init:Lo,getDelta:Jo},Ui=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ho=tinymce.util.Tools.resolve("tinymce.util.Promise"),Qo=function(j,he,Re){var ot=j.selection.getRng();Ui.setEditorTimeout(j,function(){j.windowManager.confirm(he,function(Bt){j.selection.setRng(ot),Re(Bt)})})},Do=function(j){var he=j.href,Re=he.indexOf("@")>0&&he.indexOf("/")===-1&&he.indexOf("mailto:")===-1;return Re?Me.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(ot){return Pe(Pe({},ot),{href:"mailto:"+he})}}):Me.none()},vi=function(j,he){return function(Re){var ot=Re.href,Bt=j===1&&!zt(ot)||j===0&&/^\s*www(\.|\d\.)/i.test(ot);return Bt?Me.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+he+":// prefix?",preprocess:function(Kr){return Pe(Pe({},Kr),{href:he+"://"+ot})}}):Me.none()}},ji=function(j,he){return en([Do,vi(E(j),$t(j))],function(Re){return Re(he)}).fold(function(){return Ho.resolve(he)},function(Re){return new Ho(function(ot){Qo(j,Re.message,function(Bt){ot(Bt?Re.preprocess(he):he)})})})},si={preprocess:ji},Ji=function(j){var he=j.dom.select("a:not([href])"),Re=Tt(he,function(ot){var Bt=ot.name||ot.id;return Bt?[{text:Bt,value:"#"+Bt}]:[]});return Re.length>0?Me.some([{text:"None",value:""}].concat(Re)):Me.none()},ie={getAnchors:Ji},Ce=function(j){var he=an(j);return he.length>0?Qt.sanitize(he):Me.none()},le={getClasses:Ce},Ke=tinymce.util.Tools.resolve("tinymce.util.XHR"),Cr=function(j){try{return Me.some(JSON.parse(j))}catch{return Me.none()}},Gr=function(j){var he=function(ot){return j.convertURL(ot.value||ot.url,"href")},Re=Ve(j);return new Ho(function(ot){ft(Re)?Ke.send({url:Re,success:function(Bt){return ot(Cr(Bt))},error:function(Bt){return ot(Me.none())}}):mr(Re)?Re(function(Bt){return ot(Me.some(Bt))}):ot(Me.from(Re))}).then(function(ot){return ot.bind(Qt.sanitizeWith(he)).map(function(Bt){if(Bt.length>0){var Kr=[{text:"None",value:""}];return Kr.concat(Bt)}else return Bt})})},re={getLinks:Gr},me=function(j,he){var Re=qn(j);if(Re.length>0){var ot=yt(he,"_blank"),Bt=Z(j)===!1,Kr=function(xa){return Rr(Qt.getValue(xa),ot)},yn=Bt?Qt.sanitizeWith(Kr):Qt.sanitize;return yn(Re)}return Me.none()},Xe={getRels:me},St=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],N=function(j){var he=In(j);return Ir(he)?Qt.sanitize(he).orThunk(function(){return Me.some(St)}):he===!1?Me.none():Me.some(St)},X={getTargets:N},ve=function(j,he,Re){var ot=j.getAttrib(he,Re);return ot!==null&&ot.length>0?Me.some(ot):Me.none()},_e=function(j,he){var Re=j.dom,ot=Gn(j),Bt=ot?Me.some(Xt(j.selection,he)):Me.none(),Kr=he?Me.some(Re.getAttrib(he,"href")):Me.none(),yn=he?Me.from(Re.getAttrib(he,"target")):Me.none(),xa=ve(Re,he,"rel"),ra=ve(Re,he,"class"),Va=ve(Re,he,"title");return{url:Kr,text:Bt,title:Va,target:yn,rel:xa,linkClass:ra}},Ue=function(j,he){return re.getLinks(j).then(function(Re){var ot=_e(j,he);return{anchor:ot,catalogs:{targets:X.getTargets(j),rels:Xe.getRels(j,ot.target),classes:le.getClasses(j),anchor:ie.getAnchors(j),link:Re},optNode:Me.from(he),flags:{titleEnabled:Un(j)}}})},qe={collect:Ue},pr=function(j,he){return function(Re){var ot=Re.getData();if(!ot.url.value){Ha(j),Re.close();return}var Bt=function(xa){return Me.from(ot[xa]).filter(function(ra){return!yt(he.anchor[xa],ra)})},Kr={href:ot.url.value,text:Bt("text"),target:Bt("target"),rel:Bt("rel"),class:Bt("linkClass"),title:Bt("title")},yn={href:ot.url.value,attach:ot.url.meta!==void 0&&ot.url.meta.attach?ot.url.meta.attach:Kt};si.preprocess(j,Kr).then(function(xa){Fa(j,yn,xa)}),Re.close()}},$r=function(j){var he=He(j);return qe.collect(j,he)},Cn=function(j,he){var Re=j.anchor,ot=Re.url.getOr("");return{url:{value:ot,meta:{original:{value:ot}}},text:Re.text.getOr(""),title:Re.title.getOr(""),anchor:ot,link:ot,rel:Re.rel.getOr(""),target:Re.target.or(he).getOr(""),linkClass:Re.linkClass.getOr("")}},et=function(j,he,Re){var ot=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Bt=j.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Kr=j.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],yn=Me.from(Ft(Re)),xa=Cn(j,yn),ra=j.catalogs,Va=fn.init(xa,ra),so={type:"panel",items:V([ot,Bt,Kr,On([ra.anchor.map(Qt.createUi("anchor","Anchors")),ra.rels.map(Qt.createUi("rel","Rel")),ra.targets.map(Qt.createUi("target","Open link in...")),ra.link.map(Qt.createUi("link","Link list")),ra.classes.map(Qt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:so,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:xa,onChange:function(Eu,Wo){var wn=Wo.name;Va.onChange(Eu.getData,{name:wn}).each(function(dr){Eu.setData(dr)})},onSubmit:he}},pn=function(j){var he=$r(j);he.then(function(Re){var ot=pr(j,Re);return et(Re,ot,j)}).then(function(Re){j.windowManager.open(Re)})},Kn=function(j,he){document.body.appendChild(j),j.dispatchEvent(he),document.body.removeChild(j)},Na=function(j){var he=document.createElement("a");he.target="_blank",he.href=j,he.rel="noreferrer noopener";var Re=document.createEvent("MouseEvents");Re.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Kn(he,Re)},Eo=function(j,he){return j.dom.getParent(he,"a[href]")},ca=function(j){return Eo(j,j.selection.getStart())},zu=function(j){return j.altKey===!0&&j.shiftKey===!1&&j.ctrlKey===!1&&j.metaKey===!1},lu=function(j,he){if(he){var Re=xr(he);if(/^#/.test(Re)){var ot=j.$(Re);ot.length&&j.selection.scrollIntoView(ot[0],!0)}else Na(he.href)}},So=function(j){return function(){pn(j)}},Yu=function(j){return function(){lu(j,ca(j))}},yi=function(j){j.on("click",function(he){var Re=Eo(j,he.target);Re&&_r.metaKeyPressed(he)&&(he.preventDefault(),lu(j,Re))}),j.on("keydown",function(he){var Re=ca(j);Re&&he.keyCode===13&&zu(he)&&(he.preventDefault(),lu(j,Re))})},Ci=function(j,he){return j.on("NodeChange",he),function(){return j.off("NodeChange",he)}},oo=function(j){return function(he){var Re=function(){return he.setActive(!j.mode.isReadOnly()&&He(j,j.selection.getNode())!==null)};return Re(),Ci(j,Re)}},Bc=function(j){return function(he){var Re=function(){return he.setDisabled(He(j,j.selection.getNode())===null)};return Re(),Ci(j,Re)}},Y=function(j){return function(he){var Re=function(Bt){return Pr(Bt)||lr(j.selection.getRng())},ot=j.dom.getParents(j.selection.getStart());return he.setDisabled(!Re(ot)),Ci(j,function(Bt){return he.setDisabled(!Re(Bt.parents))})}},ye=function(j){j.addCommand("mceLink",function(){La(j)?j.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):So(j)()})},We=function(j){j.addShortcut("Meta+K","",function(){j.execCommand("mceLink")})},Et=function(j){j.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:So(j),onSetup:oo(j)}),j.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:Yu(j),onSetup:Bc(j)}),j.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Ha(j)},onSetup:Y(j)})},Lr=function(j){j.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:Yu(j),onSetup:Bc(j)}),j.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:So(j)}),j.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Ha(j)},onSetup:Y(j)})},tn=function(j){var he="link unlink openlink",Re="link";j.ui.registry.addContextMenu("link",{update:function(ot){return Pr(j.dom.getParents(ot,"a"))?he:Re}})},vn=function(j){var he=function(Bt){Bt.selection.collapse(!1)},Re=function(Bt){var Kr=j.selection.getNode();return Bt.setDisabled(!He(j,Kr)),Kt},ot=function(Bt){var Kr=He(j),yn=Gn(j);if(!Kr&&yn){var xa=Xt(j.selection,Kr);return Me.some(xa.length>0?xa:Bt)}else return Me.none()};j.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:oo(j)},label:"Link",predicate:function(Bt){return!!He(j,Bt)&&Rt(j)},initValue:function(){var Bt=He(j);return Bt?xr(Bt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Bt){var Kr=j.selection.getNode();return Bt.setActive(!!He(j,Kr)),oo(j)(Bt)},onAction:function(Bt){var Kr=Bt.getValue(),yn=ot(Kr),xa={href:Kr,attach:Kt};Fa(j,xa,{href:Kr,text:yn,title:Me.none(),rel:Me.none(),target:Me.none(),class:Me.none()}),he(j),Bt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Re,onAction:function(Bt){Ha(j),Bt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Re,onAction:function(Bt){Yu(j)(),Bt.hide()}}]})};function da(){Ze.add("link",function(j){Et(j),Lr(j),tn(j),vn(j),yi(j),ye(j),We(j)})}da()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager");function _r(){Ze.add("textcolor",function(){})}_r()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(){return _r=Object.assign||function(S){for(var w,A=1,H=arguments.length;A<H;A++){w=arguments[A];for(var oe in w)Object.prototype.hasOwnProperty.call(w,oe)&&(S[oe]=w[oe])}return S},_r.apply(this,arguments)},mt=function(P){var S=typeof P;return P===null?"null":S==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":S==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":S},Nt=function(P){return function(S){return mt(S)===P}},gt=function(P){return function(S){return typeof S===P}},yr=function(P){return function(S){return P===S}},ft=Nt("string"),Ir=Nt("object"),vr=Nt("array"),Xr=yr(null),mr=gt("boolean"),Kt=function(P){return P==null},kr=function(P){return!Kt(P)},Ot=gt("function"),Je=gt("number"),$e=function(){},Ht=function(P){return function(){return P}},rt=function(P){return P},nr=Ht(!1),se=Ht(!0),or=function(){return Me},Me=function(){var P=function(A){return A()},S=rt,w={fold:function(A,H){return A()},isSome:nr,isNone:se,getOr:S,getOrThunk:P,getOrDie:function(A){throw new Error(A||"error: getOrDie called on none.")},getOrNull:Ht(null),getOrUndefined:Ht(void 0),or:S,orThunk:P,map:or,each:$e,bind:or,exists:nr,forall:se,filter:function(){return or()},toArray:function(){return[]},toString:Ht("none()")};return w}(),Nr=function(P){var S=Ht(P),w=function(){return H},A=function(oe){return oe(P)},H={fold:function(oe,De){return De(P)},isSome:se,isNone:nr,getOr:S,getOrThunk:S,getOrDie:S,getOrNull:S,getOrUndefined:S,or:w,orThunk:w,map:function(oe){return Nr(oe(P))},each:function(oe){oe(P)},bind:A,exists:A,forall:A,filter:function(oe){return oe(P)?H:Me},toArray:function(){return[P]},toString:function(){return"some("+P+")"}};return H},zr=function(P){return P==null?Me:Nr(P)},Le={some:Nr,none:or,from:zr},Dt=Object.keys,dt=Object.hasOwnProperty,xn=function(P,S){for(var w=Dt(P),A=0,H=w.length;A<H;A++){var oe=w[A],De=P[oe];S(De,oe)}},J=function(P){return function(S,w){P[w]=S}},V=function(P,S,w,A){var H={};return xn(P,function(oe,De){(S(oe,De)?w:A)(oe,De)}),H},Tt=function(P,S){var w={};return V(P,S,J(w),$e),w},en=function(P,S){return dt.call(P,S)},yt=function(P,S){return en(P,S)&&P[S]!==void 0&&P[S]!==null},On=Array.prototype.push,hn=function(P){for(var S=[],w=0,A=P.length;w<A;++w){if(!vr(P[w]))throw new Error("Arr.flatten item "+w+" was not an array, input: "+P);On.apply(S,P[w])}return S},E=function(P,S){return S>=0&&S<P.length?Le.some(P[S]):Le.none()},Rt=function(P){return E(P,0)},Ve=function(P,S){for(var w=0;w<P.length;w++){var A=S(P[w],w);if(A.isSome())return A}return Le.none()};typeof window<"u"||Function("return this;")();var Ft=function(P,S,w){if(ft(w)||mr(w)||Je(w))P.setAttribute(S,w+"");else throw console.error("Invalid call to Attribute.set. Key ",S,":: Value ",w,":: Element ",P),new Error("Attribute value was not simple")},In=function(P,S,w){Ft(P.dom,S,w)},qn=function(P,S){P.dom.removeAttribute(S)},an=function(P,S){var w=S||document,A=w.createElement("div");if(A.innerHTML=P,!A.hasChildNodes()||A.childNodes.length>1)throw console.error("HTML does not have a single root node",P),new Error("HTML must have a single root node");return La(A.childNodes[0])},Un=function(P,S){var w=S||document,A=w.createElement(P);return La(A)},Z=function(P,S){var w=S||document,A=w.createTextNode(P);return La(A)},La=function(P){if(P==null)throw new Error("Node cannot be null or undefined");return{dom:P}},$t=function(P,S,w){return Le.from(P.dom.elementFromPoint(S,w)).map(La)},Ye={fromHtml:an,fromTag:Un,fromText:Z,fromDom:La,fromPoint:$t},un=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ir=tinymce.util.Tools.resolve("tinymce.util.Promise"),Zt=tinymce.util.Tools.resolve("tinymce.util.URI"),qr=tinymce.util.Tools.resolve("tinymce.util.XHR"),Zr=function(P){return P.getParam("image_dimensions",!0,"boolean")},At=function(P){return P.getParam("image_advtab",!1,"boolean")},Qt=function(P){return P.getParam("image_uploadtab",!0,"boolean")},Pe=function(P){return P.getParam("image_prepend_url","","string")},Fe=function(P){return P.getParam("image_class_list")},gr=function(P){return P.getParam("image_description",!0,"boolean")},Ne=function(P){return P.getParam("image_title",!1,"boolean")},Oe=function(P){return P.getParam("image_caption",!1,"boolean")},ut=function(P){return P.getParam("image_list",!1)},br=function(P){return kr(P.getParam("images_upload_url"))},Jr=function(P){return kr(P.getParam("images_upload_handler"))},_n=function(P){return P.getParam("a11y_advanced_options",!1,"boolean")},$n=function(P){return P.getParam("automatic_uploads",!0,"boolean")},Vt=function(P,S){return Math.max(parseInt(P,10),parseInt(S,10))},nt=function(P){return new ir(function(S){var w=document.createElement("img"),A=function(oe){w.onload=w.onerror=null,w.parentNode&&w.parentNode.removeChild(w),S(oe)};w.onload=function(){var oe=Vt(w.width,w.clientWidth),De=Vt(w.height,w.clientHeight),Lt={width:oe,height:De};A(ir.resolve(Lt))},w.onerror=function(){A(ir.reject("Failed to get image dimensions for: "+P))};var H=w.style;H.visibility="hidden",H.position="fixed",H.bottom=H.left="0px",H.width=H.height="auto",document.body.appendChild(w),w.src=P})},ct=function(P){return P&&(P=P.replace(/px$/,"")),P},bt=function(P){return P.length>0&&/^[0-9]+$/.test(P)&&(P+="px"),P},zt=function(P){if(P.margin){var S=String(P.margin).split(" ");switch(S.length){case 1:P["margin-top"]=P["margin-top"]||S[0],P["margin-right"]=P["margin-right"]||S[0],P["margin-bottom"]=P["margin-bottom"]||S[0],P["margin-left"]=P["margin-left"]||S[0];break;case 2:P["margin-top"]=P["margin-top"]||S[0],P["margin-right"]=P["margin-right"]||S[1],P["margin-bottom"]=P["margin-bottom"]||S[0],P["margin-left"]=P["margin-left"]||S[1];break;case 3:P["margin-top"]=P["margin-top"]||S[0],P["margin-right"]=P["margin-right"]||S[1],P["margin-bottom"]=P["margin-bottom"]||S[2],P["margin-left"]=P["margin-left"]||S[1];break;case 4:P["margin-top"]=P["margin-top"]||S[0],P["margin-right"]=P["margin-right"]||S[1],P["margin-bottom"]=P["margin-bottom"]||S[2],P["margin-left"]=P["margin-left"]||S[3]}delete P.margin}return P},xr=function(P,S){var w=ut(P);ft(w)?qr.send({url:w,success:function(A){S(JSON.parse(A))}}):Ot(w)?w(S):S(w)},Rr=function(P,S,w){var A=function(){w.onload=w.onerror=null,P.selection&&(P.selection.select(w),P.nodeChanged())};w.onload=function(){!S.width&&!S.height&&Zr(P)&&P.dom.setAttribs(w,{width:String(w.clientWidth),height:String(w.clientHeight)}),A()},w.onerror=A},sr=function(P){return new ir(function(S,w){var A=new FileReader;A.onload=function(){S(A.result)},A.onerror=function(){w(A.error.message)},A.readAsDataURL(P)})},He=function(P){return P.nodeName==="IMG"&&(P.hasAttribute("data-mce-object")||P.hasAttribute("data-mce-placeholder"))},Xt=function(P,S){return Zt.isDomSafe(S,"img",P.settings)},Pr=un.DOM,lr=function(P){return P.style.marginLeft&&P.style.marginRight&&P.style.marginLeft===P.style.marginRight?ct(P.style.marginLeft):""},Gn=function(P){return P.style.marginTop&&P.style.marginBottom&&P.style.marginTop===P.style.marginBottom?ct(P.style.marginTop):""},be=function(P){return P.style.borderWidth?ct(P.style.borderWidth):""},_t=function(P,S){return P.hasAttribute(S)?P.getAttribute(S):""},at=function(P,S){return P.style[S]?P.style[S]:""},K=function(P){return P.parentNode!==null&&P.parentNode.nodeName==="FIGURE"},Ee=function(P,S,w){w===""?P.removeAttribute(S):P.setAttribute(S,w)},st=function(P){var S=Pr.create("figure",{class:"image"});Pr.insertAfter(S,P),S.appendChild(P),S.appendChild(Pr.create("figcaption",{contentEditable:"true"},"Caption")),S.contentEditable="false"},Tr=function(P){var S=P.parentNode;Pr.insertAfter(P,S),Pr.remove(S)},cr=function(P){K(P)?Tr(P):st(P)},Fr=function(P,S){var w=P.getAttribute("style"),A=S(w!==null?w:"");A.length>0?(P.setAttribute("style",A),P.setAttribute("data-mce-style",A)):P.removeAttribute("style")},ia=function(P,S){return function(w,A,H){w.style[A]?(w.style[A]=bt(H),Fr(w,S)):Ee(w,A,H)}},Za=function(P,S){return P.style[S]?ct(P.style[S]):_t(P,S)},Fa=function(P,S){var w=bt(S);P.style.marginLeft=w,P.style.marginRight=w},Ha=function(P,S){var w=bt(S);P.style.marginTop=w,P.style.marginBottom=w},zo=function(P,S){var w=bt(S);P.style.borderWidth=w},ci=function(P,S){P.style.borderStyle=S},Oo=function(P){return at(P,"borderStyle")},mo=function(P){return P.nodeName==="FIGURE"},Jo=function(P){return P.nodeName==="IMG"},ua=function(P){return Pr.getAttrib(P,"alt").length===0&&Pr.getAttrib(P,"role")==="presentation"},Lo=function(P){return ua(P)?"":_t(P,"alt")},fn=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},Ui=function(P,S){var w=document.createElement("img");return Ee(w,"style",S.style),(lr(w)||S.hspace!=="")&&Fa(w,S.hspace),(Gn(w)||S.vspace!=="")&&Ha(w,S.vspace),(be(w)||S.border!=="")&&zo(w,S.border),(Oo(w)||S.borderStyle!=="")&&ci(w,S.borderStyle),P(w.getAttribute("style"))},Ho=function(P,S){var w=document.createElement("img");if(Ji(P,_r(_r({},S),{caption:!1}),w),vi(w,S.alt,S.isDecorative),S.caption){var A=Pr.create("figure",{class:"image"});return A.appendChild(w),A.appendChild(Pr.create("figcaption",{contentEditable:"true"},"Caption")),A.contentEditable="false",A}else return w},Qo=function(P,S){return{src:_t(S,"src"),alt:Lo(S),title:_t(S,"title"),width:Za(S,"width"),height:Za(S,"height"),class:_t(S,"class"),style:P(_t(S,"style")),caption:K(S),hspace:lr(S),vspace:Gn(S),border:be(S),borderStyle:at(S,"borderStyle"),isDecorative:ua(S)}},Do=function(P,S,w,A,H){w[A]!==S[A]&&H(P,A,w[A])},vi=function(P,S,w){if(w){Pr.setAttrib(P,"role","presentation");var A=Ye.fromDom(P);In(A,"alt","")}else{if(Xr(S)){var A=Ye.fromDom(P);qn(A,"alt")}else{var A=Ye.fromDom(P);In(A,"alt",S)}Pr.getAttrib(P,"role")==="presentation"&&Pr.setAttrib(P,"role","")}},ji=function(P,S,w){(w.alt!==S.alt||w.isDecorative!==S.isDecorative)&&vi(P,w.alt,w.isDecorative)},si=function(P,S){return function(w,A,H){P(w,H),Fr(w,S)}},Ji=function(P,S,w){var A=Qo(P,w);Do(w,A,S,"caption",function(H,oe,De){return cr(H)}),Do(w,A,S,"src",Ee),Do(w,A,S,"title",Ee),Do(w,A,S,"width",ia("width",P)),Do(w,A,S,"height",ia("height",P)),Do(w,A,S,"class",Ee),Do(w,A,S,"style",si(function(H,oe){return Ee(H,"style",oe)},P)),Do(w,A,S,"hspace",si(Fa,P)),Do(w,A,S,"vspace",si(Ha,P)),Do(w,A,S,"border",si(zo,P)),Do(w,A,S,"borderStyle",si(ci,P)),ji(w,A,S)},ie=function(P,S){var w=P.dom.styles.parse(S),A=zt(w),H=P.dom.styles.parse(P.dom.styles.serialize(A));return P.dom.styles.serialize(H)},Ce=function(P){var S=P.selection.getNode(),w=P.dom.getParent(S,"figure.image");return w?P.dom.select("img",w)[0]:S&&(S.nodeName!=="IMG"||He(S))?null:S},le=function(P,S){var w=P.dom,A=Tt(P.schema.getTextBlockElements(),function(oe,De){return!P.schema.isValidChild(De,"figure")}),H=w.getParent(S.parentNode,function(oe){return yt(A,oe.nodeName)},P.getBody());return H?w.split(H,S):S},Ke=function(P){var S=Ce(P);return S?Qo(function(w){return ie(P,w)},S):fn()},Cr=function(P,S){var w=Ho(function(oe){return ie(P,oe)},S);P.dom.setAttrib(w,"data-mce-id","__mcenew"),P.focus(),P.selection.setContent(w.outerHTML);var A=P.dom.select('*[data-mce-id="__mcenew"]')[0];if(P.dom.setAttrib(A,"data-mce-id",null),mo(A)){var H=le(P,A);P.selection.select(H)}else P.selection.select(A)},Gr=function(P,S){P.dom.setAttrib(S,"src",S.getAttribute("src"))},re=function(P,S){if(S){var w=P.dom.is(S.parentNode,"figure.image")?S.parentNode:S;P.dom.remove(w),P.focus(),P.nodeChanged(),P.dom.isEmpty(P.getBody())&&(P.setContent(""),P.selection.setCursorLocation())}},me=function(P,S){var w=Ce(P);if(Ji(function(H){return ie(P,H)},S,w),Gr(P,w),mo(w.parentNode)){var A=w.parentNode;le(P,A),P.selection.select(w.parentNode)}else P.selection.select(w),Rr(P,S,w)},Xe=function(P,S){var w=S.src;return _r(_r({},S),{src:Xt(P,w)?w:""})},St=function(P,S){var w=Ce(P);if(w){var A=Qo(function(De){return ie(P,De)},w),H=_r(_r({},A),S),oe=Xe(P,H);H.src?me(P,oe):re(P,w)}else S.src&&Cr(P,_r(_r({},fn()),S))},N=function(P,S){var w=Ir(P)&&Ir(S);return w?ve(P,S):S},X=function(P){return function(){for(var S=[],w=0;w<arguments.length;w++)S[w]=arguments[w];if(S.length===0)throw new Error("Can't merge zero objects");for(var A={},H=0;H<S.length;H++){var oe=S[H];for(var De in oe)en(oe,De)&&(A[De]=P(A[De],oe[De]))}return A}},ve=X(N),_e=function(P){return P.length>0},Ue=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),qe=tinymce.util.Tools.resolve("tinymce.util.Tools"),pr=function(P){return ft(P.value)?P.value:""},$r=function(P){return ft(P.text)?P.text:ft(P.title)?P.title:""},Cn=function(P,S){var w=[];return qe.each(P,function(A){var H=$r(A);if(A.menu!==void 0){var oe=Cn(A.menu,S);w.push({text:H,items:oe})}else{var De=S(A);w.push({text:H,value:De})}}),w},et=function(P){return P===void 0&&(P=pr),function(S){return S?Le.from(S).map(function(w){return Cn(w,P)}):Le.none()}},pn=function(P){return et(pr)(P)},Kn=function(P){return en(P,"items")},Na=function(P,S){return Ve(P,function(w){return Kn(w)?Na(w.items,S):w.value===S?Le.some(w):Le.none()})},Eo=function(P,S){return P.bind(function(w){return Na(w,S)})},ca={sanitizer:et,sanitize:pn,findEntry:Eo},zu=function(P){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},lu={makeTab:zu},So=function(P){var S=ca.sanitizer(function(Ln){return P.convertURL(Ln.value||Ln.url,"src")}),w=new ir(function(Ln){xr(P,function(to){Ln(S(to).map(function(Wa){return hn([[{text:"None",value:""}],Wa])}))})}),A=ca.sanitize(Fe(P)),H=At(P),oe=Qt(P),De=br(P),Lt=Jr(P),dn=Ke(P),Bn=gr(P),Or=Ne(P),ln=Zr(P),na=Oe(P),ta=_n(P),jn=$n(P),go=Le.some(Pe(P)).filter(function(Ln){return ft(Ln)&&Ln.length>0});return w.then(function(Ln){return{image:dn,imageList:Ln,classList:A,hasAdvTab:H,hasUploadTab:oe,hasUploadUrl:De,hasUploadHandler:Lt,hasDescription:Bn,hasImageTitle:Or,hasDimensions:ln,hasImageCaption:na,prependURL:go,hasAccessibilityOptions:ta,automaticUploads:jn}})},Yu=function(P){var S={name:"src",type:"urlinput",filetype:"image",label:"Source"},w=P.imageList.map(function(Or){return{name:"images",type:"listbox",label:"Image list",items:Or}}),A={name:"alt",type:"input",label:"Alternative description",disabled:P.hasAccessibilityOptions&&P.image.isDecorative},H={name:"title",type:"input",label:"Image title"},oe={name:"dimensions",type:"sizeinput"},De={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Lt=P.classList.map(function(Or){return{name:"classes",type:"listbox",label:"Class",items:Or}}),dn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},Bn=function(Or){return Or?{type:"grid",columns:2}:{type:"panel"}};return hn([[S],w.toArray(),P.hasAccessibilityOptions&&P.hasDescription?[De]:[],P.hasDescription?[A]:[],P.hasImageTitle?[H]:[],P.hasDimensions?[oe]:[],[_r(_r({},Bn(P.classList.isSome()&&P.hasImageCaption)),{items:hn([Lt.toArray(),P.hasImageCaption?[dn]:[]])})]])},yi=function(P){return{title:"General",name:"general",items:Yu(P)}},Ci={makeTab:yi,makeItems:Yu},oo=function(P){var S=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:S}},Bc={makeTab:oo},Y=function(P){return{prevImage:ca.findEntry(P.imageList,P.image.src),prevAlt:P.image.alt,open:!0}},ye=function(P){return{src:{value:P.src,meta:{}},images:P.src,alt:P.alt,title:P.title,dimensions:{width:P.width,height:P.height},classes:P.class,caption:P.caption,style:P.style,vspace:P.vspace,border:P.border,hspace:P.hspace,borderstyle:P.borderStyle,fileinput:[],isDecorative:P.isDecorative}},We=function(P,S){return{src:P.src.value,alt:P.alt.length===0&&S?null:P.alt,title:P.title,width:P.dimensions.width,height:P.dimensions.height,class:P.classes,style:P.style,caption:P.caption,hspace:P.hspace,vspace:P.vspace,border:P.border,borderStyle:P.borderstyle,isDecorative:P.isDecorative}},Et=function(P,S){return/^(?:[a-zA-Z]+:)?\/\//.test(S)?Le.none():P.prependURL.bind(function(w){return S.substring(0,w.length)!==w?Le.some(w+S):Le.none()})},Lr=function(P,S){var w=S.getData();Et(P,w.src.value).each(function(A){S.setData({src:{value:A,meta:w.src.meta}})})},tn=function(P,S,w){P.hasDescription&&ft(w.alt)&&(S.alt=w.alt),P.hasAccessibilityOptions&&(S.isDecorative=w.isDecorative||S.isDecorative||!1),P.hasImageTitle&&ft(w.title)&&(S.title=w.title),P.hasDimensions&&(ft(w.width)&&(S.dimensions.width=w.width),ft(w.height)&&(S.dimensions.height=w.height)),ft(w.class)&&ca.findEntry(P.classList,w.class).each(function(A){S.classes=A.value}),P.hasImageCaption&&mr(w.caption)&&(S.caption=w.caption),P.hasAdvTab&&(ft(w.style)&&(S.style=w.style),ft(w.vspace)&&(S.vspace=w.vspace),ft(w.border)&&(S.border=w.border),ft(w.hspace)&&(S.hspace=w.hspace),ft(w.borderstyle)&&(S.borderstyle=w.borderstyle))},vn=function(P,S){var w=S.getData(),A=w.src.meta;if(A!==void 0){var H=ve({},w);tn(P,H,A),S.setData(H)}},da=function(P,S,w,A){var H=A.getData(),oe=H.src.value,De=H.src.meta||{};!De.width&&!De.height&&S.hasDimensions&&(_e(oe)?P.imageSize(oe).then(function(Lt){w.open&&A.setData({dimensions:Lt})}).catch(function(Lt){return console.error(Lt)}):A.setData({dimensions:{width:"",height:""}}))},j=function(P,S,w){var A=w.getData(),H=ca.findEntry(P.imageList,A.src.value);S.prevImage=H,w.setData({images:H.map(function(oe){return oe.value}).getOr("")})},he=function(P,S,w,A){Lr(S,A),vn(S,A),da(P,S,w,A),j(S,w,A)},Re=function(P,S,w,A){var H=A.getData(),oe=ca.findEntry(S.imageList,H.images);oe.each(function(De){var Lt=H.alt===""||w.prevImage.map(function(dn){return dn.text===H.alt}).getOr(!1);Lt?De.value===""?A.setData({src:De,alt:w.prevAlt}):A.setData({src:De,alt:De.text}):A.setData({src:De})}),w.prevImage=oe,he(P,S,w,A)},ot=function(P){var S=P["margin-top"]&&P["margin-bottom"]&&P["margin-top"]===P["margin-bottom"];return S?ct(String(P["margin-top"])):""},Bt=function(P){var S=P["margin-right"]&&P["margin-left"]&&P["margin-right"]===P["margin-left"];return S?ct(String(P["margin-right"])):""},Kr=function(P){return P["border-width"]?ct(String(P["border-width"])):""},yn=function(P){return P["border-style"]?String(P["border-style"]):""},xa=function(P,S,w){return S(P(S(w)))},ra=function(P,S,w){var A=zt(P(w.style)),H=ve({},w);return H.vspace=ot(A),H.hspace=Bt(A),H.border=Kr(A),H.borderstyle=yn(A),H.style=xa(P,S,A),H},Va=function(P,S){var w=S.getData(),A=ra(P.parseStyle,P.serializeStyle,w);S.setData(A)},so=function(P,S,w){var A=ve(ye(S.image),w.getData()),H=Ui(P.normalizeCss,We(A,!1));w.setData({style:H})},Eu=function(P,S,w,A){var H=A.getData();A.block("Uploading image"),Rt(H.fileinput).fold(function(){A.unblock()},function(oe){var De=URL.createObjectURL(oe),Lt=function(){A.unblock(),URL.revokeObjectURL(De)},dn=function(Bn){A.setData({src:{value:Bn,meta:{}}}),A.showTab("general"),he(P,S,w,A)};sr(oe).then(function(Bn){var Or=P.createBlobCache(oe,De,Bn);S.automaticUploads?P.uploadImage(Or).then(function(ln){dn(ln.url),Lt()}).catch(function(ln){Lt(),P.alertErr(ln)}):(P.addToBlobCache(Or),dn(Or.blobUri()),A.unblock())})})},Wo=function(P,S,w){return function(A,H){H.name==="src"?he(P,S,w,A):H.name==="images"?Re(P,S,w,A):H.name==="alt"?w.prevAlt=A.getData().alt:H.name==="style"?Va(P,A):H.name==="vspace"||H.name==="hspace"||H.name==="border"||H.name==="borderstyle"?so(P,S,A):H.name==="fileinput"?Eu(P,S,w,A):H.name==="isDecorative"&&(A.getData().isDecorative?A.disable("alt"):A.enable("alt"))}},wn=function(P){return function(){P.open=!1}},dr=function(P){if(P.hasAdvTab||P.hasUploadUrl||P.hasUploadHandler){var S={type:"tabpanel",tabs:hn([[Ci.makeTab(P)],P.hasAdvTab?[lu.makeTab(P)]:[],P.hasUploadTab&&(P.hasUploadUrl||P.hasUploadHandler)?[Bc.makeTab(P)]:[]])};return S}else{var w={type:"panel",items:Ci.makeItems(P)};return w}},ja=function(P){return function(S){var w=Y(S);return{title:"Insert/Edit Image",size:"normal",body:dr(S),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ye(S.image),onSubmit:P.onSubmit(S),onChange:Wo(P,S,w),onClose:wn(w)}}},qo=function(P){return function(S){return function(w){var A=ve(ye(S.image),w.getData());P.execCommand("mceUpdateImage",!1,We(A,S.hasAccessibilityOptions)),P.editorUpload.uploadImagesAuto(),w.close()}}},wa=function(P){return function(S){return Xt(P,S)?nt(P.documentBaseURI.toAbsolute(S)).then(function(w){return{width:String(w.width),height:String(w.height)}}):ir.resolve({width:"",height:""})}},Mc=function(P){return function(S,w,A){return P.editorUpload.blobCache.create({blob:S,blobUri:w,name:S.name?S.name.replace(/\.[^\.]+$/,""):null,filename:S.name,base64:A.split(",")[1]})}},Zu=function(P){return function(S){P.editorUpload.blobCache.add(S)}},_s=function(P){return function(S){P.windowManager.alert(S)}},Ra=function(P){return function(S){return ie(P,S)}},Di=function(P){return function(S){return P.dom.parseStyle(S)}},Cs=function(P){return function(S,w){return P.dom.serializeStyle(S,w)}},Au=function(P){return function(S){return Ue(P).upload([S],!1).then(function(w){return w.length===0?ir.reject("Failed to upload image"):w[0].status===!1?ir.reject(w[0].error.message):w[0]})}},Bo=function(P){var S={onSubmit:qo(P),imageSize:wa(P),addToBlobCache:Zu(P),createBlobCache:Mc(P),alertErr:_s(P),normalizeCss:Ra(P),parseStyle:Di(P),serializeStyle:Cs(P),uploadImage:Au(P)},w=function(){So(P).then(ja(S)).then(P.windowManager.open)};return{open:w}},Nc=function(P){P.addCommand("mceImage",Bo(P).open),P.addCommand("mceUpdateImage",function(S,w){P.undoManager.transact(function(){return St(P,w)})})},wt=function(P){var S=P.attr("class");return S&&/\bimage\b/.test(S)},ts=function(P){return function(S){for(var w=S.length,A=function(oe){oe.attr("contenteditable",P?"true":null)};w--;){var H=S[w];wt(H)&&(H.attr("contenteditable",P?"false":null),qe.each(H.getAll("figcaption"),A))}}},Mo=function(P){P.on("PreInit",function(){P.parser.addNodeFilter("figure",ts(!0)),P.serializer.addNodeFilter("figure",ts(!1))})},vl=function(P){P.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:Bo(P).open,onSetup:function(S){return S.setActive(kr(Ce(P))),P.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",S.setActive).unbind}}),P.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:Bo(P).open}),P.ui.registry.addContextMenu("image",{update:function(S){return mo(S)||Jo(S)&&!He(S)?["image"]:[]}})};function hc(){Ze.add("image",function(P){Mo(P),vl(P),Nc(P)})}hc()})();(function(){var Ze=function(Y){var ye=Y,We=function(){return ye},Et=function(Lr){ye=Lr};return{get:We,set:Et}},_r=tinymce.util.Tools.resolve("tinymce.PluginManager"),mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nt=function(Y){var ye=typeof Y;return Y===null?"null":ye==="object"&&(Array.prototype.isPrototypeOf(Y)||Y.constructor&&Y.constructor.name==="Array")?"array":ye==="object"&&(String.prototype.isPrototypeOf(Y)||Y.constructor&&Y.constructor.name==="String")?"string":ye},gt=function(Y){return function(ye){return Nt(ye)===Y}},yr=function(Y){return function(ye){return typeof ye===Y}},ft=gt("array"),Ir=function(Y){return Y==null},vr=function(Y){return!Ir(Y)},Xr=yr("function"),mr=function(){},Kt=function(Y){return function(){return Y}},kr=function(Y){return Y},Ot=Kt(!1),Je=Kt(!0),$e=function(){return Ht},Ht=function(){var Y=function(Et){return Et()},ye=kr,We={fold:function(Et,Lr){return Et()},isSome:Ot,isNone:Je,getOr:ye,getOrThunk:Y,getOrDie:function(Et){throw new Error(Et||"error: getOrDie called on none.")},getOrNull:Kt(null),getOrUndefined:Kt(void 0),or:ye,orThunk:Y,map:$e,each:mr,bind:$e,exists:Ot,forall:Je,filter:function(){return $e()},toArray:function(){return[]},toString:Kt("none()")};return We}(),rt=function(Y){var ye=Kt(Y),We=function(){return Lr},Et=function(tn){return tn(Y)},Lr={fold:function(tn,vn){return vn(Y)},isSome:Je,isNone:Ot,getOr:ye,getOrThunk:ye,getOrDie:ye,getOrNull:ye,getOrUndefined:ye,or:We,orThunk:We,map:function(tn){return rt(tn(Y))},each:function(tn){tn(Y)},bind:Et,exists:Et,forall:Et,filter:function(tn){return tn(Y)?Lr:Ht},toArray:function(){return[Y]},toString:function(){return"some("+Y+")"}};return Lr},nr=function(Y){return Y==null?Ht:rt(Y)},se={some:rt,none:$e,from:nr},or={},Me={exports:or};(function(Y,ye,We,Et){(function(Lr,tn){typeof ye=="object"&&typeof We<"u"?We.exports=tn():(Lr=typeof globalThis<"u"?globalThis:Lr||self,Lr.EphoxContactWrapper=tn())})(this,function(){var Lr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof N1<"u"?N1:typeof self<"u"?self:{},tn={exports:{}};(function(he){(function(Re){var ot=setTimeout;function Bt(){}function Kr(wn,dr){return function(){wn.apply(dr,arguments)}}function yn(wn){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof wn!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Wo(wn,this)}function xa(wn,dr){for(;wn._state===3;)wn=wn._value;if(wn._state===0){wn._deferreds.push(dr);return}wn._handled=!0,yn._immediateFn(function(){var ja=wn._state===1?dr.onFulfilled:dr.onRejected;if(ja===null){(wn._state===1?ra:Va)(dr.promise,wn._value);return}var qo;try{qo=ja(wn._value)}catch(wa){Va(dr.promise,wa);return}ra(dr.promise,qo)})}function ra(wn,dr){try{if(dr===wn)throw new TypeError("A promise cannot be resolved with itself.");if(dr&&(typeof dr=="object"||typeof dr=="function")){var ja=dr.then;if(dr instanceof yn){wn._state=3,wn._value=dr,so(wn);return}else if(typeof ja=="function"){Wo(Kr(ja,dr),wn);return}}wn._state=1,wn._value=dr,so(wn)}catch(qo){Va(wn,qo)}}function Va(wn,dr){wn._state=2,wn._value=dr,so(wn)}function so(wn){wn._state===2&&wn._deferreds.length===0&&yn._immediateFn(function(){wn._handled||yn._unhandledRejectionFn(wn._value)});for(var dr=0,ja=wn._deferreds.length;dr<ja;dr++)xa(wn,wn._deferreds[dr]);wn._deferreds=null}function Eu(wn,dr,ja){this.onFulfilled=typeof wn=="function"?wn:null,this.onRejected=typeof dr=="function"?dr:null,this.promise=ja}function Wo(wn,dr){var ja=!1;try{wn(function(qo){ja||(ja=!0,ra(dr,qo))},function(qo){ja||(ja=!0,Va(dr,qo))})}catch(qo){if(ja)return;ja=!0,Va(dr,qo)}}yn.prototype.catch=function(wn){return this.then(null,wn)},yn.prototype.then=function(wn,dr){var ja=new this.constructor(Bt);return xa(this,new Eu(wn,dr,ja)),ja},yn.all=function(wn){var dr=Array.prototype.slice.call(wn);return new yn(function(ja,qo){if(dr.length===0)return ja([]);var wa=dr.length;function Mc(_s,Ra){try{if(Ra&&(typeof Ra=="object"||typeof Ra=="function")){var Di=Ra.then;if(typeof Di=="function"){Di.call(Ra,function(Cs){Mc(_s,Cs)},qo);return}}dr[_s]=Ra,--wa===0&&ja(dr)}catch(Cs){qo(Cs)}}for(var Zu=0;Zu<dr.length;Zu++)Mc(Zu,dr[Zu])})},yn.resolve=function(wn){return wn&&typeof wn=="object"&&wn.constructor===yn?wn:new yn(function(dr){dr(wn)})},yn.reject=function(wn){return new yn(function(dr,ja){ja(wn)})},yn.race=function(wn){return new yn(function(dr,ja){for(var qo=0,wa=wn.length;qo<wa;qo++)wn[qo].then(dr,ja)})},yn._immediateFn=typeof setImmediate=="function"?function(wn){setImmediate(wn)}:function(wn){ot(wn,0)},yn._unhandledRejectionFn=function(dr){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",dr)},yn._setImmediateFn=function(dr){yn._immediateFn=dr},yn._setUnhandledRejectionFn=function(dr){yn._unhandledRejectionFn=dr},he.exports?he.exports=yn:Re.Promise||(Re.Promise=yn)})(Lr)})(tn);var vn=tn.exports,da=function(){return typeof window<"u"?window:Function("return this;")()}(),j={boltExport:da.Promise||vn};return j})})(void 0,or,Me);var Nr=Me.exports.boltExport,zr=function(Y,ye){return dt(document.createElement("canvas"),Y,ye)},Le=function(Y){var ye=zr(Y.width,Y.height),We=Dt(ye);return We.drawImage(Y,0,0),ye},Dt=function(Y){return Y.getContext("2d")},dt=function(Y,ye,We){return Y.width=ye,Y.height=We,Y},xn=function(Y){return Y.naturalWidth||Y.width},J=function(Y){return Y.naturalHeight||Y.height},V=function(Y){var ye=Y.src;return ye.indexOf("data:")===0?On(ye):en(ye)},Tt=function(Y){return new Nr(function(ye,We){var Et=URL.createObjectURL(Y),Lr=new Image,tn=function(){Lr.removeEventListener("load",vn),Lr.removeEventListener("error",da)},vn=function(){tn(),ye(Lr)},da=function(){tn(),We("Unable to load data of type "+Y.type+": "+Et)};Lr.addEventListener("load",vn),Lr.addEventListener("error",da),Lr.src=Et,Lr.complete&&setTimeout(vn,0)})},en=function(Y){return new Nr(function(ye,We){var Et=new XMLHttpRequest;Et.open("GET",Y,!0),Et.responseType="blob",Et.onload=function(){this.status===200&&ye(this.response)},Et.onerror=function(){var Lr=this,tn=function(){var da=new Error("No access to download image");return da.code=18,da.name="SecurityError",da},vn=function(){return new Error("Error "+Lr.status+" downloading image")};We(this.status===0?tn():vn())},Et.send()})},yt=function(Y){var ye=Y.split(","),We=/data:([^;]+)/.exec(ye[0]);if(!We)return se.none();for(var Et=We[1],Lr=ye[1],tn=1024,vn=atob(Lr),da=vn.length,j=Math.ceil(da/tn),he=new Array(j),Re=0;Re<j;++Re){for(var ot=Re*tn,Bt=Math.min(ot+tn,da),Kr=new Array(Bt-ot),yn=ot,xa=0;yn<Bt;++xa,++yn)Kr[xa]=vn[yn].charCodeAt(0);he[Re]=new Uint8Array(Kr)}return se.some(new Blob(he,{type:Et}))},On=function(Y){return new Nr(function(ye,We){yt(Y).fold(function(){We("uri is not base64: "+Y)},ye)})},hn=function(Y,ye,We){return ye=ye||"image/png",Xr(HTMLCanvasElement.prototype.toBlob)?new Nr(function(Et,Lr){Y.toBlob(function(tn){tn?Et(tn):Lr()},ye,We)}):On(Y.toDataURL(ye,We))},E=function(Y,ye,We){return ye=ye||"image/png",Y.toDataURL(ye,We)},Rt=function(Y){return Tt(Y).then(function(ye){Ft(ye);var We=zr(xn(ye),J(ye)),Et=Dt(We);return Et.drawImage(ye,0,0),We})},Ve=function(Y){return new Nr(function(ye){var We=new FileReader;We.onloadend=function(){ye(We.result)},We.readAsDataURL(Y)})},Ft=function(Y){URL.revokeObjectURL(Y.src)},In=function(Y){return Tt(Y)},qn=function(Y){return V(Y)},an=Array.prototype.indexOf,Un=function(Y,ye){return an.call(Y,ye)},Z=function(Y,ye){return Un(Y,ye)>-1},La=function(Y,ye){for(var We=0,Et=Y.length;We<Et;We++){var Lr=Y[We];ye(Lr,We)}},$t=function(Y,ye){for(var We=[],Et=0,Lr=Y.length;Et<Lr;Et++){var tn=Y[Et];ye(tn,Et)&&We.push(tn)}return We},Ye=function(Y,ye,We){return La(Y,function(Et,Lr){We=ye(We,Et,Lr)}),We},un=function(Y,ye,We){for(var Et=0,Lr=Y.length;Et<Lr;Et++){var tn=Y[Et];if(ye(tn,Et))return se.some(tn);if(We(tn,Et))break}return se.none()},ir=function(Y,ye){return un(Y,ye,Ot)},Zt=function(Y,ye){for(var We=0,Et=Y.length;We<Et;++We){var Lr=Y[We];if(ye(Lr,We)!==!0)return!1}return!0},qr=Object.keys,Zr=function(Y,ye){for(var We=qr(Y),Et=0,Lr=We.length;Et<Lr;Et++){var tn=We[Et],vn=Y[tn];ye(vn,tn)}},At=function(Y){if(!ft(Y))throw new Error("cases must be an array");if(Y.length===0)throw new Error("there must be at least one case");var ye=[],We={};return La(Y,function(Et,Lr){var tn=qr(Et);if(tn.length!==1)throw new Error("one and only one name per case");var vn=tn[0],da=Et[vn];if(We[vn]!==void 0)throw new Error("duplicate key detected:"+vn);if(vn==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ft(da))throw new Error("case arguments must be an array");ye.push(vn),We[vn]=function(){for(var j=[],he=0;he<arguments.length;he++)j[he]=arguments[he];var Re=j.length;if(Re!==da.length)throw new Error("Wrong number of arguments to case "+vn+". Expected "+da.length+" ("+da+"), got "+Re);var ot=function(Bt){var Kr=qr(Bt);if(ye.length!==Kr.length)throw new Error("Wrong number of arguments to match. Expected: "+ye.join(",")+`
Actual: `+Kr.join(","));var yn=Zt(ye,function(xa){return Z(Kr,xa)});if(!yn)throw new Error("Not all branches were specified when using match. Specified: "+Kr.join(", ")+`
Required: `+ye.join(", "));return Bt[vn].apply(null,j)};return{fold:function(){for(var Bt=[],Kr=0;Kr<arguments.length;Kr++)Bt[Kr]=arguments[Kr];if(Bt.length!==Y.length)throw new Error("Wrong number of arguments to fold. Expected "+Y.length+", got "+Bt.length);var yn=Bt[Lr];return yn.apply(null,j)},match:ot,log:function(Bt){console.log(Bt,{constructors:ye,constructor:vn,params:j})}}}}),We},Qt={generate:At};Qt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Pe=function(Y,ye,We){var Et=ye.type,Lr=Kt(Et),tn=function(){return Nr.resolve(ye)},vn=Kt(We),da=function(){return We.split(",")[1]},j=function(Bt,Kr){return Y.then(function(yn){return hn(yn,Bt,Kr)})},he=function(Bt,Kr){return Y.then(function(yn){return E(yn,Bt,Kr)})},Re=function(Bt,Kr){return he(Bt,Kr).then(function(yn){return yn.split(",")[1]})},ot=function(){return Y.then(Le)};return{getType:Lr,toBlob:tn,toDataURL:vn,toBase64:da,toAdjustedBlob:j,toAdjustedDataURL:he,toAdjustedBase64:Re,toCanvas:ot}},Fe=function(Y){return Ve(Y).then(function(ye){return Pe(Rt(Y),Y,ye)})},gr=function(Y,ye){return hn(Y,ye).then(function(We){return Pe(Nr.resolve(Y),We,Y.toDataURL())})},Ne=function(Y,ye){ye===void 0&&(ye=2);var We=Math.pow(10,ye),Et=Math.round(Y*We);return Math.ceil(Et/We)},Oe=function(Y,ye){return Y.toCanvas().then(function(We){return ut(We,Y.getType(),ye)})},ut=function(Y,ye,We){var Et=We<0?360+We:We,Lr=Et*Math.PI/180,tn=Y.width,vn=Y.height,da=Math.sin(Lr),j=Math.cos(Lr),he=Ne(Math.abs(tn*j)+Math.abs(vn*da)),Re=Ne(Math.abs(tn*da)+Math.abs(vn*j)),ot=zr(he,Re),Bt=Dt(ot);return Bt.translate(he/2,Re/2),Bt.rotate(Lr),Bt.drawImage(Y,-tn/2,-vn/2),gr(ot,ye)},br=function(Y,ye){return Y.toCanvas().then(function(We){return Jr(We,Y.getType(),ye)})},Jr=function(Y,ye,We){var Et=zr(Y.width,Y.height),Lr=Dt(Et);return We==="v"?(Lr.scale(1,-1),Lr.drawImage(Y,0,-Et.height)):(Lr.scale(-1,1),Lr.drawImage(Y,-Et.width,0)),gr(Et,ye)},_n=function(Y,ye){return br(Y,ye)},$n=function(Y,ye){return Oe(Y,ye)},Vt=function(Y,ye,We){return We===void 0&&(We=!1),new Nr(function(Et){var Lr=new XMLHttpRequest;Lr.onreadystatechange=function(){Lr.readyState===4&&Et({status:Lr.status,blob:Lr.response})},Lr.open("GET",Y,!0),Lr.withCredentials=We,Zr(ye,function(tn,vn){Lr.setRequestHeader(vn,tn)}),Lr.responseType="blob",Lr.send()})},nt=function(Y){return new Nr(function(ye,We){var Et=new FileReader;Et.onload=function(){ye(Et.result)},Et.onerror=function(Lr){We(Lr)},Et.readAsText(Y)})},ct=function(Y){try{return se.some(JSON.parse(Y))}catch{return se.none()}},bt=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],zt=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],xr=function(Y,ye){var We=Ye(ye,function(Et,Lr){return vr(Et)?Et[Lr]:void 0},Y);return se.from(We)},Rr=function(Y,ye){return(ye==null?void 0:ye.type)==="application/json"&&(Y===400||Y===403||Y===404||Y===500)},sr=function(Y){var ye=ir(bt,function(We){return Y===We.code}).fold(Kt("Unknown ImageProxy error"),function(We){return We.message});return"ImageProxy HTTP error: "+ye},He=function(Y){var ye=sr(Y);return Nr.reject(ye)},Xt=function(Y){return ir(zt,function(ye){return ye.type===Y}).fold(Kt("Unknown service error"),function(ye){return ye.message})},Pr=function(Y){var ye=ct(Y),We=ye.bind(function(Et){return xr(Et,["error","type"]).map(Xt)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+We},lr=function(Y){return nt(Y).then(function(ye){var We=Pr(ye);return Nr.reject(We)})},Gn=function(Y,ye){return Rr(Y,ye)?lr(ye):He(Y)},be=function(Y,ye){var We=Y.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(Y)?Y:Y+We+"apiKey="+encodeURIComponent(ye)},_t=function(Y){return Y<200||Y>=300},at=function(Y,ye){var We={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":ye};return Vt(be(Y,ye),We).then(function(Et){return _t(Et.status)?Gn(Et.status,Et.blob):Nr.resolve(Et.blob)})},K=function(Y,ye){return Vt(Y,{},ye).then(function(We){return _t(We.status)?He(We.status):Nr.resolve(We.blob)})},Ee=function(Y,ye,We){return We===void 0&&(We=!1),ye?at(Y,ye):K(Y,We)},st=function(Y){return Fe(Y)},Tr=1,cr=function(Y,ye){var We=ye||document,Et=We.createElement("div");if(Et.innerHTML=Y,!Et.hasChildNodes()||Et.childNodes.length>1)throw console.error("HTML does not have a single root node",Y),new Error("HTML must have a single root node");return Za(Et.childNodes[0])},Fr=function(Y,ye){var We=ye||document,Et=We.createElement(Y);return Za(Et)},ia=function(Y,ye){var We=ye||document,Et=We.createTextNode(Y);return Za(Et)},Za=function(Y){if(Y==null)throw new Error("Node cannot be null or undefined");return{dom:Y}},Fa=function(Y,ye,We){return se.from(Y.dom.elementFromPoint(ye,We)).map(Za)},Ha={fromHtml:cr,fromTag:Fr,fromText:ia,fromDom:Za,fromPoint:Fa},zo=function(Y,ye){var We=Y.dom;if(We.nodeType!==Tr)return!1;var Et=We;if(Et.matches!==void 0)return Et.matches(ye);if(Et.msMatchesSelector!==void 0)return Et.msMatchesSelector(ye);if(Et.webkitMatchesSelector!==void 0)return Et.webkitMatchesSelector(ye);if(Et.mozMatchesSelector!==void 0)return Et.mozMatchesSelector(ye);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var ci=function(Y,ye){var We=function(Lr){return ye(Ha.fromDom(Lr))},Et=ir(Y.dom.childNodes,We);return Et.map(Ha.fromDom)},Oo=function(Y,ye){return ci(Y,function(We){return zo(We,ye)})},mo=tinymce.util.Tools.resolve("tinymce.util.Delay"),Jo=tinymce.util.Tools.resolve("tinymce.util.Promise"),ua=tinymce.util.Tools.resolve("tinymce.util.URI"),Lo=function(Y){return Y.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},fn=function(Y){return Y.getParam("imagetools_proxy")},Ui=function(Y){return Y.getParam("imagetools_cors_hosts",[],"string[]")},Ho=function(Y){return Y.getParam("imagetools_credentials_hosts",[],"string[]")},Qo=function(Y){return se.from(Y.getParam("imagetools_fetch_image",null,"function"))},Do=function(Y){return Y.getParam("api_key",Y.getParam("imagetools_api_key","","string"),"string")},vi=function(Y){return Y.getParam("images_upload_timeout",3e4,"number")},ji=function(Y){return Y.getParam("images_reuse_filename",!1,"boolean")},si=function(Y){var ye,We,Et=function(Lr){return/^[0-9\.]+px$/.test(Lr)};return ye=Y.style.width,We=Y.style.height,ye||We?Et(ye)&&Et(We)?{w:parseInt(ye,10),h:parseInt(We,10)}:null:(ye=Y.width,We=Y.height,ye&&We?{w:parseInt(ye,10),h:parseInt(We,10)}:null)},Ji=function(Y,ye){var We,Et;ye&&(We=Y.style.width,Et=Y.style.height,(We||Et)&&(Y.style.width=ye.w+"px",Y.style.height=ye.h+"px",Y.removeAttribute("data-mce-style")),We=Y.width,Et=Y.height,(We||Et)&&(Y.setAttribute("width",String(ye.w)),Y.setAttribute("height",String(ye.h))))},ie=function(Y){return{w:Y.naturalWidth,h:Y.naturalHeight}},Ce=0,le=function(Y){return Oo(Ha.fromDom(Y),"img")},Ke=function(Y,ye){return Y.dom.is(ye,"figure")},Cr=function(Y,ye){return Y.dom.is(ye,"img:not([data-mce-object],[data-mce-placeholder])")},Gr=function(Y,ye){var We=function(Et){return Cr(Y,Et)&&(N(Y,Et)||X(Y,Et)||vr(fn(Y)))};return Ke(Y,ye)?le(ye).bind(function(Et){return We(Et.dom)?se.some(Et.dom):se.none()}):We(ye)?se.some(ye):se.none()},re=function(Y,ye){Y.notificationManager.open({text:ye,type:"error"})},me=function(Y){var ye=Y.selection.getNode(),We=Y.dom.getParent(ye,"figure.image");return We!==null&&Ke(Y,We)?le(We):Cr(Y,ye)?se.some(Ha.fromDom(ye)):se.none()},Xe=function(Y,ye,We){var Et=ye.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return vr(Et)?Y.dom.encode(Et[We]):null},St=function(){return"imagetools"+Ce++},N=function(Y,ye){var We=ye.src;return We.indexOf("data:")===0||We.indexOf("blob:")===0||new ua(We).host===Y.documentBaseURI.host},X=function(Y,ye){return mt.inArray(Ui(Y),new ua(ye.src).host)!==-1},ve=function(Y,ye){return mt.inArray(Ho(Y),new ua(ye.src).host)!==-1},_e=function(Y,ye){if(X(Y,ye))return Ee(ye.src,null,ve(Y,ye));if(!N(Y,ye)){var We=fn(Y),Et=We+(We.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(ye.src),Lr=Do(Y);return Ee(Et,Lr,!1)}return qn(ye)},Ue=function(Y,ye){return Qo(Y).fold(function(){return _e(Y,ye)},function(We){return We(ye)})},qe=function(Y,ye){var We=Y.editorUpload.blobCache.getByUri(ye.src);return We?Jo.resolve(We.blob()):Ue(Y,ye)},pr=function(Y,ye){var We=mo.setEditorTimeout(Y,function(){Y.editorUpload.uploadImagesAuto()},vi(Y));ye.set(We)},$r=function(Y){mo.clearTimeout(Y.get())},Cn=function(Y,ye,We,Et,Lr,tn,vn){return We.toBlob().then(function(da){var j,he,Re,ot,Bt=Y.editorUpload.blobCache;j=tn.src;var Kr=ye.type===da.type;return ji(Y)&&(ot=Bt.getByUri(j),vr(ot)?(j=ot.uri(),he=ot.name(),Re=ot.filename()):(he=Xe(Y,j,2),Re=Xe(Y,j,1))),ot=Bt.create({id:St(),blob:da,base64:We.toBase64(),uri:j,name:he,filename:Kr?Re:void 0}),Bt.add(ot),Y.undoManager.transact(function(){var yn=function(){Y.$(tn).off("load",yn),Y.nodeChanged(),Et?Y.editorUpload.uploadImagesAuto():($r(Lr),pr(Y,Lr))};Y.$(tn).on("load",yn),vn&&Y.$(tn).attr({width:vn.w,height:vn.h}),Y.$(tn).attr({src:ot.blobUri()}).removeAttr("data-mce-src")}),ot})},et=function(Y,ye,We,Et){return function(){var Lr=me(Y);return Lr.fold(function(){re(Y,"Could not find selected image")},function(tn){return Y._scanForImages().then(function(){return qe(Y,tn.dom)}).then(function(vn){return st(vn).then(We).then(function(da){return Cn(Y,vn,da,!1,ye,tn.dom,Et)})}).catch(function(vn){re(Y,vn)})})}},pn=function(Y,ye,We){return function(){var Et=me(Y),Lr=Et.map(function(tn){var vn=si(tn.dom);return vn?{w:vn.h,h:vn.w}:null}).getOrNull();return et(Y,ye,function(tn){return $n(tn,We)},Lr)()}},Kn=function(Y,ye,We){return function(){return et(Y,ye,function(Et){return _n(Et,We)})()}},Na=function(Y,ye,We,Et,Lr){return In(Lr).then(function(tn){var vn=ie(tn);return(Et.w!==vn.w||Et.h!==vn.h)&&si(We)&&Ji(We,vn),URL.revokeObjectURL(tn.src),Lr}).then(st).then(function(tn){return Cn(Y,Lr,tn,!0,ye,We)})},Eo="save-state",ca="disable",zu="enable",lu=function(Y){return{blob:Y,url:URL.createObjectURL(Y)}},So=function(Y,ye){return function(){var We=function(tn){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:tn}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(vn){var da=vn.getData().imagetools.blob;Et.each(function(j){Lr.each(function(he){Na(Y,ye,j.dom,he,da)})}),vn.close()},onCancel:mr,onAction:function(vn,da){switch(da.name){case Eo:da.value?vn.enable("save"):vn.disable("save");break;case ca:vn.disable("save"),vn.disable("cancel");break;case zu:vn.enable("cancel");break}}}},Et=me(Y),Lr=Et.map(function(tn){return ie(tn.dom)});Et.each(function(tn){Gr(Y,tn.dom).each(function(vn){qe(Y,tn.dom).then(function(da){var j=lu(da);Y.windowManager.open(We(j))})})})}},Yu=function(Y,ye){mt.each({mceImageRotateLeft:pn(Y,ye,-90),mceImageRotateRight:pn(Y,ye,90),mceImageFlipVertical:Kn(Y,ye,"v"),mceImageFlipHorizontal:Kn(Y,ye,"h"),mceEditImage:So(Y,ye)},function(We,Et){Y.addCommand(Et,We)})},yi=function(Y,ye,We){Y.on("NodeChange",function(Et){var Lr=We.get(),tn=Gr(Y,Et.element);Lr&&!tn.exists(function(vn){return Lr.src===vn.src})&&($r(ye),Y.editorUpload.uploadImagesAuto(),We.set(null)),tn.each(We.set)})},Ci=function(Y){var ye=[],We=function(tn){return function(){return Y.execCommand(tn)}},Et=function(){return me(Y).exists(function(tn){return Gr(Y,tn.dom).isSome()})},Lr=function(tn){var vn=function(da){return tn.setDisabled(!da)};return vn(Et()),ye=ye.concat([vn]),function(){ye=$t(ye,function(da){return da!==vn})}};Y.on("NodeChange",function(){var tn=Et();La(ye,function(vn){return vn(tn)})}),Y.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:We("mceImageRotateLeft"),onSetup:Lr}),Y.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:We("mceImageRotateRight"),onSetup:Lr}),Y.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:We("mceImageFlipVertical"),onSetup:Lr}),Y.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:We("mceImageFlipHorizontal"),onSetup:Lr}),Y.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:We("mceEditImage"),onSetup:Lr}),Y.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:We("mceImage")}),Y.ui.registry.addContextMenu("imagetools",{update:function(tn){return Gr(Y,tn).map(function(vn){return{text:"Edit image",icon:"edit-image",onAction:We("mceEditImage")}}).toArray()}})},oo=function(Y){Y.ui.registry.addContextToolbar("imagetools",{items:Lo(Y),predicate:function(ye){return Gr(Y,ye).isSome()},position:"node",scope:"node"})};function Bc(){_r.add("imagetools",function(Y){var ye=Ze(0),We=Ze(null);Yu(Y,ye),Ci(Y),oo(Y),yi(Y,ye,We)})}Bc()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(z){var I=typeof z;return z===null?"null":I==="object"&&(Array.prototype.isPrototypeOf(z)||z.constructor&&z.constructor.name==="Array")?"array":I==="object"&&(String.prototype.isPrototypeOf(z)||z.constructor&&z.constructor.name==="String")?"string":I},mt=function(z){return function(I){return _r(I)===z}},Nt=function(z){return function(I){return typeof I===z}},gt=mt("string"),yr=mt("object"),ft=mt("array"),Ir=Nt("boolean"),vr=Nt("function"),Xr=Nt("number"),mr=function(){},Kt=function(z){return function(){return z}},kr=function(z){return z},Ot=function(z,I){return z===I},Je=function(z){return function(I){return!z(I)}},$e=Kt(!1),Ht=Kt(!0),rt=function(){return nr},nr=function(){var z=function(fe){return fe()},I=kr,W={fold:function(fe,Ie){return fe()},isSome:$e,isNone:Ht,getOr:I,getOrThunk:z,getOrDie:function(fe){throw new Error(fe||"error: getOrDie called on none.")},getOrNull:Kt(null),getOrUndefined:Kt(void 0),or:I,orThunk:z,map:rt,each:mr,bind:rt,exists:$e,forall:Ht,filter:function(){return rt()},toArray:function(){return[]},toString:Kt("none()")};return W}(),se=function(z){var I=Kt(z),W=function(){return Ie},fe=function(xt){return xt(z)},Ie={fold:function(xt,kn){return kn(z)},isSome:Ht,isNone:$e,getOr:I,getOrThunk:I,getOrDie:I,getOrNull:I,getOrUndefined:I,or:W,orThunk:W,map:function(xt){return se(xt(z))},each:function(xt){xt(z)},bind:fe,exists:fe,forall:fe,filter:function(xt){return xt(z)?Ie:nr},toArray:function(){return[z]},toString:function(){return"some("+z+")"}};return Ie},or=function(z){return z==null?nr:se(z)},Me={some:se,none:rt,from:or},Nr=Array.prototype.slice,zr=Array.prototype.push,Le=function(z,I){for(var W=z.length,fe=new Array(W),Ie=0;Ie<W;Ie++){var xt=z[Ie];fe[Ie]=I(xt,Ie)}return fe},Dt=function(z,I){for(var W=0,fe=z.length;W<fe;W++){var Ie=z[W];I(Ie,W)}},dt=function(z,I){for(var W=[],fe=0,Ie=z.length;fe<Ie;fe++){var xt=z[fe];I(xt,fe)&&W.push(xt)}return W},xn=function(z,I){if(z.length===0)return[];for(var W=I(z[0]),fe=[],Ie=[],xt=0,kn=z.length;xt<kn;xt++){var aa=z[xt],Aa=I(aa);Aa!==W&&(fe.push(Ie),Ie=[]),W=Aa,Ie.push(aa)}return Ie.length!==0&&fe.push(Ie),fe},J=function(z,I,W){return Dt(z,function(fe,Ie){W=I(W,fe,Ie)}),W},V=function(z,I,W){for(var fe=0,Ie=z.length;fe<Ie;fe++){var xt=z[fe];if(I(xt,fe))return Me.some(xt);if(W(xt,fe))break}return Me.none()},Tt=function(z,I){return V(z,I,$e)},en=function(z){for(var I=[],W=0,fe=z.length;W<fe;++W){if(!ft(z[W]))throw new Error("Arr.flatten item "+W+" was not an array, input: "+z);zr.apply(I,z[W])}return I},yt=function(z,I){return en(Le(z,I))},On=function(z){var I=Nr.call(z,0);return I.reverse(),I},hn=function(z,I){return I>=0&&I<z.length?Me.some(z[I]):Me.none()},E=function(z){return hn(z,0)},Rt=function(z){return hn(z,z.length-1)},Ve=function(z,I){for(var W=0;W<z.length;W++){var fe=I(z[W],W);if(fe.isSome())return fe}return Me.none()},Ft=function(){return Ft=Object.assign||function(I){for(var W,fe=1,Ie=arguments.length;fe<Ie;fe++){W=arguments[fe];for(var xt in W)Object.prototype.hasOwnProperty.call(W,xt)&&(I[xt]=W[xt])}return I},Ft.apply(this,arguments)};function In(z,I,W){for(var fe=0,Ie=I.length,xt;fe<Ie;fe++)(xt||!(fe in I))&&(xt||(xt=Array.prototype.slice.call(I,0,fe)),xt[fe]=I[fe]);return z.concat(xt||Array.prototype.slice.call(I))}var qn=function(z){var I=!1,W;return function(){for(var fe=[],Ie=0;Ie<arguments.length;Ie++)fe[Ie]=arguments[Ie];return I||(I=!0,W=z.apply(null,fe)),W}},an=function(z,I,W,fe){var Ie=z.isiOS()&&/ipad/i.test(W)===!0,xt=z.isiOS()&&!Ie,kn=z.isiOS()||z.isAndroid(),aa=kn||fe("(pointer:coarse)"),Aa=Ie||!xt&&kn&&fe("(min-device-width:768px)"),ya=xt||kn&&!Aa,ko=I.isSafari()&&z.isiOS()&&/safari/i.test(W)===!1,vu=!ya&&!Aa&&!ko;return{isiPad:Kt(Ie),isiPhone:Kt(xt),isTablet:Kt(Aa),isPhone:Kt(ya),isTouch:Kt(aa),isAndroid:z.isAndroid,isiOS:z.isiOS,isWebView:Kt(ko),isDesktop:Kt(vu)}},Un=function(z,I){for(var W=0;W<z.length;W++){var fe=z[W];if(fe.test(I))return fe}},Z=function(z,I){var W=Un(z,I);if(!W)return{major:0,minor:0};var fe=function(Ie){return Number(I.replace(W,"$"+Ie))};return Ye(fe(1),fe(2))},La=function(z,I){var W=String(I).toLowerCase();return z.length===0?$t():Z(z,W)},$t=function(){return Ye(0,0)},Ye=function(z,I){return{major:z,minor:I}},un={nu:Ye,detect:La,unknown:$t},ir=function(z,I){return Ve(I.brands,function(W){var fe=W.brand.toLowerCase();return Tt(z,function(Ie){var xt;return fe===((xt=Ie.brand)===null||xt===void 0?void 0:xt.toLowerCase())}).map(function(Ie){return{current:Ie.name,version:un.nu(parseInt(W.version,10),0)}})})},Zt=function(z,I){var W=String(I).toLowerCase();return Tt(z,function(fe){return fe.search(W)})},qr=function(z,I){return Zt(z,I).map(function(W){var fe=un.detect(W.versionRegexes,I);return{current:W.name,version:fe}})},Zr=function(z,I){return Zt(z,I).map(function(W){var fe=un.detect(W.versionRegexes,I);return{current:W.name,version:fe}})},At=function(z,I){return z.indexOf(I)!==-1},Qt=function(z){return function(I){return I.replace(z,"")}},Pe=Qt(/^\s+|\s+$/g),Fe=function(z){return z.length>0},gr=function(z){return!Fe(z)},Ne=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Oe=function(z){return function(I){return At(I,z)}},ut=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(z){return At(z,"edge/")&&At(z,"chrome")&&At(z,"safari")&&At(z,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ne],search:function(z){return At(z,"chrome")&&!At(z,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(z){return At(z,"msie")||At(z,"trident")}},{name:"Opera",versionRegexes:[Ne,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Oe("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Oe("firefox")},{name:"Safari",versionRegexes:[Ne,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(z){return(At(z,"safari")||At(z,"mobile/"))&&At(z,"applewebkit")}}],br=[{name:"Windows",search:Oe("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(z){return At(z,"iphone")||At(z,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Oe("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Oe("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Oe("linux"),versionRegexes:[]},{name:"Solaris",search:Oe("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Oe("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Oe("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Jr={browsers:Kt(ut),oses:Kt(br)},_n="Edge",$n="Chrome",Vt="IE",nt="Opera",ct="Firefox",bt="Safari",zt=function(){return xr({current:void 0,version:un.unknown()})},xr=function(z){var I=z.current,W=z.version,fe=function(Ie){return function(){return I===Ie}};return{current:I,version:W,isEdge:fe(_n),isChrome:fe($n),isIE:fe(Vt),isOpera:fe(nt),isFirefox:fe(ct),isSafari:fe(bt)}},Rr={unknown:zt,nu:xr},sr="Windows",He="iOS",Xt="Android",Pr="Linux",lr="OSX",Gn="Solaris",be="FreeBSD",_t="ChromeOS",at=function(){return K({current:void 0,version:un.unknown()})},K=function(z){var I=z.current,W=z.version,fe=function(Ie){return function(){return I===Ie}};return{current:I,version:W,isWindows:fe(sr),isiOS:fe(He),isAndroid:fe(Xt),isOSX:fe(lr),isLinux:fe(Pr),isSolaris:fe(Gn),isFreeBSD:fe(be),isChromeOS:fe(_t)}},Ee={unknown:at,nu:K},st=function(z,I,W){var fe=Jr.browsers(),Ie=Jr.oses(),xt=I.bind(function(Aa){return ir(fe,Aa)}).orThunk(function(){return qr(fe,z)}).fold(Rr.unknown,Rr.nu),kn=Zr(Ie,z).fold(Ee.unknown,Ee.nu),aa=an(kn,xt,z,W);return{browser:xt,os:kn,deviceType:aa}},Tr={detect:st},cr=function(z){return window.matchMedia(z).matches},Fr=qn(function(){return Tr.detect(navigator.userAgent,Me.from(navigator.userAgentData),cr)}),ia=function(){return Fr()},Za=function(z,I,W){return(z.compareDocumentPosition(I)&W)!==0},Fa=function(z,I){return Za(z,I,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ha=1,zo=function(z,I){var W=I||document,fe=W.createElement("div");if(fe.innerHTML=z,!fe.hasChildNodes()||fe.childNodes.length>1)throw console.error("HTML does not have a single root node",z),new Error("HTML must have a single root node");return mo(fe.childNodes[0])},ci=function(z,I){var W=I||document,fe=W.createElement(z);return mo(fe)},Oo=function(z,I){var W=I||document,fe=W.createTextNode(z);return mo(fe)},mo=function(z){if(z==null)throw new Error("Node cannot be null or undefined");return{dom:z}},Jo=function(z,I,W){return Me.from(z.dom.elementFromPoint(I,W)).map(mo)},ua={fromHtml:zo,fromTag:ci,fromText:Oo,fromDom:mo,fromPoint:Jo},Lo=function(z,I){var W=z.dom;if(W.nodeType!==Ha)return!1;var fe=W;if(fe.matches!==void 0)return fe.matches(I);if(fe.msMatchesSelector!==void 0)return fe.msMatchesSelector(I);if(fe.webkitMatchesSelector!==void 0)return fe.webkitMatchesSelector(I);if(fe.mozMatchesSelector!==void 0)return fe.mozMatchesSelector(I);throw new Error("Browser lacks native selectors")},fn=function(z,I){return z.dom===I.dom},Ui=function(z,I){var W=z.dom,fe=I.dom;return W===fe?!1:W.contains(fe)},Ho=function(z,I){return Fa(z.dom,I.dom)},Qo=function(z,I){return ia().browser.isIE()?Ho(z,I):Ui(z,I)},Do=Lo,vi=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ji=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),si=tinymce.util.Tools.resolve("tinymce.util.VK"),Ji=Object.keys,ie=function(z,I){for(var W=Ji(z),fe=0,Ie=W.length;fe<Ie;fe++){var xt=W[fe],kn=z[xt];I(kn,xt)}},Ce=function(z){return function(I,W){z[W]=I}},le=function(z,I,W,fe){var Ie={};return ie(z,function(xt,kn){(I(xt,kn)?W:fe)(xt,kn)}),Ie},Ke=function(z,I){var W={};return le(z,I,Ce(W),mr),W};typeof window<"u"||Function("return this;")();var Cr=function(z){var I=z.dom.nodeName;return I.toLowerCase()},Gr=function(z){return z.dom.nodeType},re=function(z){return function(I){return Gr(I)===z}},me=re(Ha),Xe=function(z){return function(I){return me(I)&&Cr(I)===z}},St=function(z,I,W){if(gt(W)||Ir(W)||Xr(W))z.setAttribute(I,W+"");else throw console.error("Invalid call to Attribute.set. Key ",I,":: Value ",W,":: Element ",z),new Error("Attribute value was not simple")},N=function(z,I){var W=z.dom;ie(I,function(fe,Ie){St(W,Ie,fe)})},X=function(z){return J(z.dom.attributes,function(I,W){return I[W.name]=W.value,I},{})},ve=function(z){return Me.from(z.dom.parentNode).map(ua.fromDom)},_e=function(z){return Le(z.dom.childNodes,ua.fromDom)},Ue=function(z,I){var W=z.dom.childNodes;return Me.from(W[I]).map(ua.fromDom)},qe=function(z){return Ue(z,0)},pr=function(z){return Ue(z,z.dom.childNodes.length-1)},$r=function(z,I){var W=ve(z);W.each(function(fe){fe.dom.insertBefore(I.dom,z.dom)})},Cn=function(z,I){z.dom.appendChild(I.dom)},et=function(z,I){Dt(I,function(W){$r(z,W)})},pn=function(z,I){Dt(I,function(W){Cn(z,W)})},Kn=function(z){var I=z.dom;I.parentNode!==null&&I.parentNode.removeChild(I)},Na=function(z,I){return ua.fromDom(z.dom.cloneNode(I))},Eo=function(z){return Na(z,!0)},ca=function(z,I){var W=ua.fromTag(I),fe=X(z);return N(W,fe),W},zu=function(z,I){var W=ca(z,I);$r(z,W);var fe=_e(z);return pn(W,fe),Kn(z),W},lu=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),So=tinymce.util.Tools.resolve("tinymce.util.Tools"),Yu=function(z){return function(I){return I&&I.nodeName.toLowerCase()===z}},yi=function(z){return function(I){return I&&z.test(I.nodeName)}},Ci=function(z){return z&&z.nodeType===3},oo=yi(/^(OL|UL|DL)$/),Bc=yi(/^(OL|UL)$/),Y=Yu("ol"),ye=yi(/^(LI|DT|DD)$/),We=yi(/^(DT|DD)$/),Et=yi(/^(TH|TD)$/),Lr=Yu("br"),tn=function(z){return z.parentNode.firstChild===z},vn=function(z,I){return I&&!!z.schema.getTextBlockElements()[I.nodeName]},da=function(z,I){return z&&z.nodeName in I},j=function(z,I){return Lr(I)?z.isBlock(I.nextSibling)&&!Lr(I.previousSibling):!1},he=function(z,I,W){var fe=z.isEmpty(I);return W&&z.select("span[data-mce-type=bookmark]",I).length>0?!1:fe},Re=function(z,I){return z.isChildOf(I,z.getRoot())},ot=function(z){return z.getParam("lists_indent_on_tab",!0)},Bt=function(z){var I=z.getParam("forced_root_block","p");return I===!1?"":I===!0?"p":I},Kr=function(z){return z.getParam("forced_root_block_attrs",{})},yn=function(z,I){var W=z.dom,fe=z.schema.getBlockElements(),Ie=W.createFragment(),xt=Bt(z),kn,aa,Aa;if(xt&&(aa=W.create(xt),aa.tagName===xt.toUpperCase()&&W.setAttribs(aa,Kr(z)),da(I.firstChild,fe)||Ie.appendChild(aa)),I)for(;kn=I.firstChild;){var ya=kn.nodeName;!Aa&&(ya!=="SPAN"||kn.getAttribute("data-mce-type")!=="bookmark")&&(Aa=!0),da(kn,fe)?(Ie.appendChild(kn),aa=null):xt?(aa||(aa=W.create(xt),Ie.appendChild(aa)),aa.appendChild(kn)):Ie.appendChild(kn)}return xt?Aa||aa.appendChild(W.create("br",{"data-mce-bogus":"1"})):Ie.appendChild(W.create("br")),Ie},xa=lu.DOM,ra=function(z,I,W){var fe=function(ya){So.each(Ie,function(ko){ya.parentNode.insertBefore(ko,W.parentNode)}),xa.remove(ya)},Ie=xa.select('span[data-mce-type="bookmark"]',I),xt=yn(z,W),kn=xa.createRng();kn.setStartAfter(W),kn.setEndAfter(I);for(var aa=kn.extractContents(),Aa=aa.firstChild;Aa;Aa=Aa.firstChild)if(Aa.nodeName==="LI"&&z.dom.isEmpty(Aa)){xa.remove(Aa);break}z.dom.isEmpty(aa)||xa.insertAfter(aa,I),xa.insertAfter(xt,I),he(z.dom,W.parentNode)&&fe(W.parentNode),xa.remove(W),he(z.dom,I)&&xa.remove(I)},Va=Xe("dd"),so=Xe("dt"),Eu=function(z,I){Va(I)?zu(I,"dt"):so(I)&&ve(I).each(function(W){return ra(z,W.dom,I.dom)})},Wo=function(z){so(z)&&zu(z,"dd")},wn=function(z,I,W){I==="Indent"?Dt(W,Wo):Dt(W,function(fe){return Eu(z,fe)})},dr=function(z,I){if(Ci(z))return{container:z,offset:I};var W=vi.getNode(z,I);return Ci(W)?{container:W,offset:I>=z.childNodes.length?W.data.length:0}:W.previousSibling&&Ci(W.previousSibling)?{container:W.previousSibling,offset:W.previousSibling.data.length}:W.nextSibling&&Ci(W.nextSibling)?{container:W.nextSibling,offset:0}:{container:z,offset:I}},ja=function(z){var I=z.cloneRange(),W=dr(z.startContainer,z.startOffset);I.setStart(W.container,W.offset);var fe=dr(z.endContainer,z.endOffset);return I.setEnd(fe.container,fe.offset),I},qo=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),wa=function(z,I){var W=I||z.selection.getStart(!0);return z.dom.getParent(W,"OL,UL,DL",Au(z,W))},Mc=function(z,I){return z&&I.length===1&&I[0]===z},Zu=function(z){return dt(z.querySelectorAll("ol,ul,dl"),oo)},_s=function(z){var I=wa(z),W=z.selection.getSelectedBlocks();return Mc(I,W)?Zu(I):dt(W,function(fe){return oo(fe)&&I!==fe})},Ra=function(z,I){var W=So.map(I,function(fe){var Ie=z.dom.getParent(fe,"li,dd,dt",Au(z,fe));return Ie||fe});return qo.unique(W)},Di=function(z){var I=z.selection.getSelectedBlocks();return dt(Ra(z,I),ye)},Cs=function(z){return dt(Di(z),We)},Au=function(z,I){var W=z.dom.getParents(I,"TD,TH");return W.length>0?W[0]:z.getBody()},Bo=function(z,I){var W=z.dom.getParents(I,"ol,ul",Au(z,I));return Rt(W)},Nc=function(z){var I=Bo(z,z.selection.getStart()),W=dt(z.selection.getSelectedBlocks(),Bc);return I.toArray().concat(W)},wt=function(z){var I=Nc(z);return ts(z,I)},ts=function(z,I){var W=Le(I,function(fe){return Bo(z,fe).getOr(fe)});return qo.unique(W)},Mo=function(z,I,W){return W===void 0&&(W=Ot),z.exists(function(fe){return W(fe,I)})},vl=function(z,I,W){return z.isSome()&&I.isSome()?Me.some(W(z.getOrDie(),I.getOrDie())):Me.none()},hc=function(z,I){var W=document,fe=W.createDocumentFragment();return Dt(z,function(Ie){fe.appendChild(Ie.dom)}),ua.fromDom(fe)},P=function(z,I,W){return z.fire("ListMutation",{action:I,element:W})},S=function(z){return z.style!==void 0&&vr(z.style.getPropertyValue)},w=function(z,I,W){if(!gt(W))throw console.error("Invalid call to CSS.set. Property ",I,":: Value ",W,":: Element ",z),new Error("CSS value must be a string: "+W);S(z)&&z.style.setProperty(I,W)},A=function(z,I,W){var fe=z.dom;w(fe,I,W)},H=function(z,I){Cn(z.item,I.list)},oe=function(z){for(var I=1;I<z.length;I++)H(z[I-1],z[I])},De=function(z,I){vl(Rt(z),E(I),H)},Lt=function(z,I){var W={list:ua.fromTag(I,z),item:ua.fromTag("li",z)};return Cn(W.list,W.item),W},dn=function(z,I,W){for(var fe=[],Ie=0;Ie<W;Ie++)fe.push(Lt(z,I.listType));return fe},Bn=function(z,I){for(var W=0;W<z.length-1;W++)A(z[W].item,"list-style-type","none");Rt(z).each(function(fe){N(fe.list,I.listAttributes),N(fe.item,I.itemAttributes),pn(fe.item,I.content)})},Or=function(z,I){Cr(z.list)!==I.listType&&(z.list=zu(z.list,I.listType)),N(z.list,I.listAttributes)},ln=function(z,I,W){var fe=ua.fromTag("li",z);return N(fe,I),pn(fe,W),fe},na=function(z,I){Cn(z.list,I),z.item=I},ta=function(z,I,W){var fe=I.slice(0,W.depth);return Rt(fe).each(function(Ie){var xt=ln(z,W.itemAttributes,W.content);na(Ie,xt),Or(Ie,W)}),fe},jn=function(z,I,W){var fe=dn(z,W,W.depth-I.length);return oe(fe),Bn(fe,W),De(I,fe),I.concat(fe)},go=function(z,I){var W=J(I,function(fe,Ie){return Ie.depth>fe.length?jn(z,fe,Ie):ta(z,fe,Ie)},[]);return E(W).map(function(fe){return fe.list})},Ln=function(z){return Do(z,"OL,UL")},to=function(z){return qe(z).exists(Ln)},Wa=function(z){return pr(z).exists(Ln)},Ri=function(z){return z.depth>0},va=function(z){return z.isSelected},Fc=function(z){var I=_e(z),W=Wa(z)?I.slice(0,-1):I;return Le(W,Eo)},No=function(z,I,W){return ve(z).filter(me).map(function(fe){return{depth:I,dirty:!1,isSelected:W,content:Fc(z),itemAttributes:X(z),listAttributes:X(fe),listType:Cr(fe)}})},Go=function(z,I){switch(z){case"Indent":I.depth++;break;case"Outdent":I.depth--;break;case"Flatten":I.depth=0}I.dirty=!0},Wh=function(z,I){z.listType=I.listType,z.listAttributes=Ft({},I.listAttributes)},Qi=function(z){z.listAttributes=Ke(z.listAttributes,function(I,W){return W!=="start"})},np=function(z,I){var W=z[I].depth,fe=function(xt){return xt.depth===W&&!xt.dirty},Ie=function(xt){return xt.depth<W};return V(On(z.slice(0,I)),fe,Ie).orThunk(function(){return V(z.slice(I+1),fe,Ie)})},Ws=function(z){return Dt(z,function(I,W){np(z,W).fold(function(){I.dirty&&Qi(I)},function(fe){return Wh(I,fe)})}),z},Xn=function(z){var I=z,W=function(){return I},fe=function(Ie){I=Ie};return{get:W,set:fe}},Ic=function(z,I,W,fe){return qe(fe).filter(Ln).fold(function(){I.each(function(kn){fn(kn.start,fe)&&W.set(!0)});var Ie=No(fe,z,W.get());I.each(function(kn){fn(kn.end,fe)&&W.set(!1)});var xt=pr(fe).filter(Ln).map(function(kn){return ei(z,I,W,kn)}).getOr([]);return Ie.toArray().concat(xt)},function(Ie){return ei(z,I,W,Ie)})},ei=function(z,I,W,fe){return yt(_e(fe),function(Ie){var xt=Ln(Ie)?ei:Ic,kn=z+1;return xt(kn,I,W,Ie)})},ti=function(z,I){var W=Xn(!1),fe=0;return Le(z,function(Ie){return{sourceList:Ie,entries:ei(fe,I,W,Ie)}})},Pi=function(z,I){var W=Ws(I);return Le(W,function(fe){var Ie=hc(fe.content);return ua.fromDom(yn(z,Ie.dom))})},bi=function(z,I){var W=Ws(I);return go(z.contentDocument,W).toArray()},xf=function(z,I){return yt(xn(I,Ri),function(W){var fe=E(W).exists(Ri);return fe?bi(z,W):Pi(z,W)})},rs=function(z,I){Dt(dt(z,va),function(W){return Go(I,W)})},qa=function(z){var I=Le(Di(z),ua.fromDom);return vl(Tt(I,Je(to)),Tt(On(I),Je(to)),function(W,fe){return{start:W,end:fe}})},Ao=function(z,I,W){var fe=ti(I,qa(z));Dt(fe,function(Ie){rs(Ie.entries,W);var xt=xf(z,Ie.entries);Dt(xt,function(kn){P(z,W==="Indent"?"IndentList":"OutdentList",kn.dom)}),et(Ie.sourceList,xt),Kn(Ie.sourceList)})},Lu=function(z,I){var W=Le(wt(z),ua.fromDom),fe=Le(Cs(z),ua.fromDom),Ie=!1;if(W.length||fe.length){var xt=z.selection.getBookmark();Ao(z,W,I),wn(z,I,fe),z.selection.moveToBookmark(xt),z.selection.setRng(ja(z.selection.getRng())),z.nodeChanged(),Ie=!0}return Ie},ml=function(z){return Lu(z,"Indent")},Si=function(z){return Lu(z,"Outdent")},$c=function(z){return Lu(z,"Flatten")},qh=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Tf=lu.DOM,po=function(z){var I={},W=function(fe){var Ie=z[fe?"startContainer":"endContainer"],xt=z[fe?"startOffset":"endOffset"];if(Ie.nodeType===1){var kn=Tf.create("span",{"data-mce-type":"bookmark"});Ie.hasChildNodes()?(xt=Math.min(xt,Ie.childNodes.length-1),fe?Ie.insertBefore(kn,Ie.childNodes[xt]):Tf.insertAfter(kn,Ie.childNodes[xt])):Ie.appendChild(kn),Ie=kn,xt=0}I[fe?"startContainer":"endContainer"]=Ie,I[fe?"startOffset":"endOffset"]=xt};return W(!0),z.collapsed||W(),I},Ss=function(z){var I=function(fe){var Ie,xt=function(Aa){for(var ya=Aa.parentNode.firstChild,ko=0;ya;){if(ya===Aa)return ko;(ya.nodeType!==1||ya.getAttribute("data-mce-type")!=="bookmark")&&ko++,ya=ya.nextSibling}return-1},kn=Ie=z[fe?"startContainer":"endContainer"],aa=z[fe?"startOffset":"endOffset"];kn&&(kn.nodeType===1&&(aa=xt(kn),kn=kn.parentNode,Tf.remove(Ie),!kn.hasChildNodes()&&Tf.isBlock(kn)&&kn.appendChild(Tf.create("br"))),z[fe?"startContainer":"endContainer"]=kn,z[fe?"startOffset":"endOffset"]=aa)};I(!0),I();var W=Tf.createRng();return W.setStart(z.startContainer,z.startOffset),z.endContainer&&W.setEnd(z.endContainer,z.endOffset),ja(W)},Ll=function(z){switch(z){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Ju=function(z){return/\btox\-/.test(z.className)},li=function(z,I,W){var fe=function(xt){var kn=V(xt.parents,oo,Et).filter(function(aa){return aa.nodeName===I&&!Ju(aa)}).isSome();W(kn)},Ie=z.dom.getParents(z.selection.getNode());return fe({parents:Ie}),z.on("NodeChange",fe),function(){return z.off("NodeChange",fe)}},Hl=function(z,I,W){var fe=W["list-style-type"]?W["list-style-type"]:null;z.setStyle(I,"list-style-type",fe)},gl=function(z,I){So.each(I,function(W,fe){z.setAttribute(fe,W)})},Ou=function(z,I,W){gl(I,W["list-attributes"]),So.each(z.select("li",I),function(fe){gl(fe,W["list-item-attributes"])})},Qu=function(z,I,W){Hl(z,I,W),Ou(z,I,W)},fu=function(z,I,W){So.each(W,function(fe){var Ie;return z.setStyle(I,(Ie={},Ie[fe]="",Ie))})},gd=function(z,I,W,fe){var Ie=I[W?"startContainer":"endContainer"],xt=I[W?"startOffset":"endOffset"];for(Ie.nodeType===1&&(Ie=Ie.childNodes[Math.min(xt,Ie.childNodes.length-1)]||Ie),!W&&Lr(Ie.nextSibling)&&(Ie=Ie.nextSibling);Ie.parentNode!==fe;){if(vn(z,Ie)||/^(TD|TH)$/.test(Ie.parentNode.nodeName))return Ie;Ie=Ie.parentNode}return Ie},xs=function(z,I,W){for(var fe=[],Ie=z.dom,xt=gd(z,I,!0,W),kn=gd(z,I,!1,W),aa,Aa=[],ya=xt;ya&&(Aa.push(ya),ya!==kn);ya=ya.nextSibling);return So.each(Aa,function(ko){if(vn(z,ko)){fe.push(ko),aa=null;return}if(Ie.isBlock(ko)||Lr(ko)){Lr(ko)&&Ie.remove(ko),aa=null;return}var vu=ko.nextSibling;if(qh.isBookmarkNode(ko)&&(oo(vu)||vn(z,vu)||!vu&&ko.parentNode===W)){aa=null;return}aa||(aa=Ie.create("p"),ko.parentNode.insertBefore(aa,ko),fe.push(aa)),aa.appendChild(ko)}),fe},Bi=function(z,I,W){var fe=z.getStyle(I,"list-style-type"),Ie=W?W["list-style-type"]:"";return Ie=Ie===null?"":Ie,fe===Ie},cv=function(z,I,W){var fe=z.selection.getRng(),Ie="LI",xt=Au(z,z.selection.getStart(!0)),kn=z.dom;if(kn.getContentEditable(z.selection.getNode())!=="false"){I=I.toUpperCase(),I==="DL"&&(Ie="DT");var aa=po(fe),Aa=xs(z,fe,xt);So.each(Aa,function(ya){var ko,vu=ya.previousSibling,ni=ya.parentNode;ye(ni)||(vu&&oo(vu)&&vu.nodeName===I&&Bi(kn,vu,W)?(ko=vu,ya=kn.rename(ya,Ie),vu.appendChild(ya)):(ko=kn.create(I),ya.parentNode.insertBefore(ko,ya),ko.appendChild(ya),ya=kn.rename(ya,Ie)),fu(kn,ya,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),Qu(kn,ko,W),Af(z.dom,ko))}),z.selection.setRng(Ss(aa))}},Gh=function(z,I){return z&&I&&oo(z)&&z.nodeName===I.nodeName},zf=function(z,I,W){var fe=z.getStyle(I,"list-style-type",!0),Ie=z.getStyle(W,"list-style-type",!0);return fe===Ie},Ef=function(z,I){return z.className===I.className},ri=function(z,I,W){return Gh(I,W)&&zf(z,I,W)&&Ef(I,W)},Af=function(z,I){var W,fe;if(W=I.nextSibling,ri(z,I,W)){for(;fe=W.firstChild;)I.appendChild(fe);z.remove(W)}if(W=I.previousSibling,ri(z,I,W)){for(;fe=W.lastChild;)I.insertBefore(fe,I.firstChild);z.remove(W)}},Of=function(z,I,W,fe){if(I.nodeName!==W){var Ie=z.dom.rename(I,W);Qu(z.dom,Ie,fe),P(z,Ll(W),Ie)}else Qu(z.dom,I,fe),P(z,Ll(W),I)},Du=function(z,I,W,fe,Ie){var xt=oo(I);if(xt&&I.nodeName===fe&&!pl(Ie))$c(z);else{cv(z,fe,Ie);var kn=po(z.selection.getRng()),aa=xt?In([I],W):W;So.each(aa,function(Aa){Of(z,Aa,fe,Ie)}),z.selection.setRng(Ss(kn))}},pl=function(z){return"list-style-type"in z},Df=function(z,I,W,fe){if(I!==z.getBody())if(I)if(I.nodeName===W&&!pl(fe)&&!Ju(I))$c(z);else{var Ie=po(z.selection.getRng());Qu(z.dom,I,fe);var xt=z.dom.rename(I,W);Af(z.dom,xt),z.selection.setRng(Ss(Ie)),cv(z,W,fe),P(z,Ll(W),xt)}else cv(z,W,fe),P(z,Ll(W),I)},hl=function(z,I,W){var fe=wa(z),Ie=_s(z),xt=yr(W)?W:{};Ie.length>0?Du(z,fe,Ie,I,xt):Df(z,fe,I,xt)},Vo=lu.DOM,yc=function(z,I){var W=I.parentNode;if(W.nodeName==="LI"&&W.firstChild===I){var fe=W.previousSibling;fe&&fe.nodeName==="LI"?(fe.appendChild(I),he(z,W)&&Vo.remove(W)):Vo.setStyle(W,"listStyleType","none")}if(oo(W)){var fe=W.previousSibling;fe&&fe.nodeName==="LI"&&fe.appendChild(I)}},gm=function(z,I){var W=So.grep(z.select("ol,ul",I));So.each(W,function(fe){yc(z,fe)})},Lc=function(z,I,W,fe){var Ie=I.startContainer,xt=I.startOffset;if(Ci(Ie)&&(W?xt<Ie.data.length:xt>0))return Ie;var kn=z.schema.getNonEmptyElements();Ie.nodeType===1&&(Ie=vi.getNode(Ie,xt));var aa=new ji(Ie,fe);for(W&&j(z.dom,Ie)&&aa.next();Ie=aa[W?"next":"prev2"]();)if(Ie.nodeName==="LI"&&!Ie.hasChildNodes()||kn[Ie.nodeName]||Ci(Ie)&&Ie.data.length>0)return Ie},pm=function(z,I){var W=I.childNodes;return W.length===1&&!oo(W[0])&&z.isBlock(W[0])},Kh=function(z,I){pm(z,I)&&z.remove(I.firstChild,!0)},ap=function(z,I,W){var fe,Ie=pm(z,W)?W.firstChild:W;if(Kh(z,I),!he(z,I,!0))for(;fe=I.firstChild;)Ie.appendChild(fe)},Rf=function(z,I,W){var fe,Ie=I.parentNode;if(!(!Re(z,I)||!Re(z,W))){oo(W.lastChild)&&(fe=W.lastChild),Ie===W.lastChild&&Lr(Ie.previousSibling)&&z.remove(Ie.previousSibling);var xt=W.lastChild;xt&&Lr(xt)&&I.hasChildNodes()&&z.remove(xt),he(z,W,!0)&&z.$(W).empty(),ap(z,I,W),fe&&W.appendChild(fe);var kn=Qo(ua.fromDom(W),ua.fromDom(I)),aa=kn?z.getParents(I,oo,W):[];z.remove(I),Dt(aa,function(Aa){he(z,Aa)&&Aa!==z.getRoot()&&z.remove(Aa)})}},Pf=function(z,I,W){z.dom.$(W).empty(),Rf(z.dom,I,W),z.selection.setCursorLocation(W,0)},Vl=function(z,I,W,fe){var Ie=z.dom;if(Ie.isEmpty(fe))Pf(z,W,fe);else{var xt=po(I);Rf(Ie,W,fe),z.selection.setRng(Ss(xt))}},Yn=function(z,I,W,fe){var Ie=po(I);Rf(z.dom,W,fe);var xt=Ss(Ie);z.selection.setRng(xt)},ns=function(z,I){var W=z.dom,fe=z.selection,Ie=fe.getStart(),xt=Au(z,Ie),kn=W.getParent(fe.getStart(),"LI",xt);if(kn){var aa=kn.parentNode;if(aa===z.getBody()&&he(W,aa))return!0;var Aa=ja(fe.getRng()),ya=W.getParent(Lc(z,Aa,I,xt),"LI",xt);if(ya&&ya!==kn)return z.undoManager.transact(function(){I?Vl(z,Aa,ya,kn):tn(kn)?Si(z):Yn(z,Aa,kn,ya)}),!0;if(!ya&&!I&&Aa.startOffset===0&&Aa.endOffset===0)return z.undoManager.transact(function(){$c(z)}),!0}return!1},ec=function(z,I,W){var fe=z.getParent(I.parentNode,z.isBlock,W);z.remove(I),fe&&z.isEmpty(fe)&&z.remove(fe)},Ru=function(z,I){var W=z.dom,fe=z.selection.getStart(),Ie=Au(z,fe),xt=W.getParent(fe,W.isBlock,Ie);if(xt&&W.isEmpty(xt)){var kn=ja(z.selection.getRng()),aa=W.getParent(Lc(z,kn,I,Ie),"LI",Ie);if(aa)return z.undoManager.transact(function(){ec(W,xt,Ie),Af(W,aa.parentNode),z.selection.select(aa,!0),z.selection.collapse(I)}),!0}return!1},as=function(z,I){return ns(z,I)||Ru(z,I)},mi=function(z){var I=z.selection.getStart(),W=Au(z,I),fe=z.dom.getParent(I,"LI,DT,DD",W);return fe||Di(z).length>0?(z.undoManager.transact(function(){z.execCommand("Delete"),gm(z.dom,z.getBody())}),!0):!1},Mi=function(z,I){return z.selection.isCollapsed()?as(z,I):mi(z)},wi=function(z){z.on("keydown",function(I){I.keyCode===si.BACKSPACE?Mi(z,!1)&&I.preventDefault():I.keyCode===si.DELETE&&Mi(z,!0)&&I.preventDefault()})},Ul=function(z){return{backspaceDelete:function(I){Mi(z,I)}}},du=function(z,I){var W=wa(z);z.undoManager.transact(function(){yr(I.styles)&&z.dom.setStyles(W,I.styles),yr(I.attrs)&&ie(I.attrs,function(fe,Ie){return z.dom.setAttrib(W,Ie,fe)})})},on=function(z){var I=On(Pe(z).split("")),W=Le(I,function(fe,Ie){var xt=fe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Ie)*xt});return J(W,function(fe,Ie){return fe+Ie},0)},Bf=function(z){if(z--,z<0)return"";var I=z%26,W=Math.floor(z/26),fe=Bf(W),Ie=String.fromCharCode(65+I);return fe+Ie},op=function(z){return/^[A-Z]+$/.test(z)},ma=function(z){return/^[a-z]+$/.test(z)},ho=function(z){return/^[0-9]+$/.test(z)},hm=function(z){return ho(z)?2:op(z)?0:ma(z)?1:gr(z)?3:4},qs=function(z){switch(hm(z)){case 2:return Me.some({listStyleType:Me.none(),start:z});case 0:return Me.some({listStyleType:Me.some("upper-alpha"),start:on(z).toString()});case 1:return Me.some({listStyleType:Me.some("lower-alpha"),start:on(z).toString()});case 3:return Me.some({listStyleType:Me.none(),start:""});case 4:return Me.none()}},Fo=function(z){var I=parseInt(z.start,10);return Mo(z.listStyleType,"upper-alpha")?Bf(I):Mo(z.listStyleType,"lower-alpha")?Bf(I).toLowerCase():z.start},ym=function(z){var I=wa(z);Y(I)&&z.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:Fo({start:z.dom.getAttrib(I,"start","1"),listStyleType:Me.some(z.dom.getStyle(I,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(W){var fe=W.getData();qs(fe.start).each(function(Ie){z.execCommand("mceListUpdate",!1,{attrs:{start:Ie.start==="1"?"":Ie.start},styles:{"list-style-type":Ie.listStyleType.getOr("")}})}),W.close()}})},bc=function(z,I){return function(){var W=wa(z);return W&&W.nodeName===I}},sv=function(z){z.addCommand("mceListProps",function(){ym(z)})},ha=function(z){z.on("BeforeExecCommand",function(I){var W=I.command.toLowerCase();W==="indent"?ml(z):W==="outdent"&&Si(z)}),z.addCommand("InsertUnorderedList",function(I,W){hl(z,"UL",W)}),z.addCommand("InsertOrderedList",function(I,W){hl(z,"OL",W)}),z.addCommand("InsertDefinitionList",function(I,W){hl(z,"DL",W)}),z.addCommand("RemoveList",function(){$c(z)}),sv(z),z.addCommand("mceListUpdate",function(I,W){yr(W)&&du(z,W)}),z.addQueryStateHandler("InsertUnorderedList",bc(z,"UL")),z.addQueryStateHandler("InsertOrderedList",bc(z,"OL")),z.addQueryStateHandler("InsertDefinitionList",bc(z,"DL"))},Hu=function(z){z.on("keydown",function(I){I.keyCode!==si.TAB||si.metaKeyPressed(I)||z.undoManager.transact(function(){(I.shiftKey?Si(z):ml(z))&&I.preventDefault()})})},F1=function(z){ot(z)&&Hu(z),wi(z)},I1=function(z){var I=function(W){return function(){return z.execCommand(W)}};z.hasPlugin("advlist")||(z.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:I("InsertOrderedList"),onSetup:function(W){return li(z,"OL",W.setActive)}}),z.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:I("InsertUnorderedList"),onSetup:function(W){return li(z,"UL",W.setActive)}}))},Uo=function(z){var I={text:"List properties...",icon:"ordered-list",onAction:function(){return z.execCommand("mceListProps")},onSetup:function(W){return li(z,"OL",function(fe){return W.setDisabled(!fe)})}};z.ui.registry.addMenuItem("listprops",I),z.ui.registry.addContextMenu("lists",{update:function(W){var fe=wa(z,W);return Y(fe)?["listprops"]:[]}})};function bm(){Ze.add("lists",function(z){return z.hasPlugin("rtc",!0)===!1?(F1(z),ha(z)):sv(z),I1(z),Uo(z),Ul(z)})}bm()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),mt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Nt=function(Ot){return Ot.getParam("save_enablewhendirty",!0)},gt=function(Ot){return!!Ot.getParam("save_onsavecallback")},yr=function(Ot){return!!Ot.getParam("save_oncancelcallback")},ft=function(Ot,Je){Ot.notificationManager.open({text:Je,type:"error"})},Ir=function(Ot){var Je=_r.DOM.getParent(Ot.id,"form");if(!(Nt(Ot)&&!Ot.isDirty())){if(Ot.save(),gt(Ot)){Ot.execCallback("save_onsavecallback",Ot),Ot.nodeChanged();return}Je?(Ot.setDirty(!1),(!Je.onsubmit||Je.onsubmit())&&(typeof Je.submit=="function"?Je.submit():ft(Ot,"Error: Form submit field collision.")),Ot.nodeChanged()):ft(Ot,"Error: No form element found.")}},vr=function(Ot){var Je=mt.trim(Ot.startContent);if(yr(Ot)){Ot.execCallback("save_oncancelcallback",Ot);return}Ot.resetContent(Je)},Xr=function(Ot){Ot.addCommand("mceSave",function(){Ir(Ot)}),Ot.addCommand("mceCancel",function(){vr(Ot)})},mr=function(Ot){return function(Je){var $e=function(){Je.setDisabled(Nt(Ot)&&!Ot.isDirty())};return $e(),Ot.on("NodeChange dirty",$e),function(){return Ot.off("NodeChange dirty",$e)}}},Kt=function(Ot){Ot.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return Ot.execCommand("mceSave")},onSetup:mr(Ot)}),Ot.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return Ot.execCommand("mceCancel")},onSetup:mr(Ot)}),Ot.addShortcut("Meta+S","","mceSave")};function kr(){Ze.add("save",function(Ot){Kt(Ot),Xr(Ot)})}kr()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(J){return function(V){return J===V}},mt=_r(void 0),Nt=tinymce.util.Tools.resolve("tinymce.util.Delay"),gt=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),yr=tinymce.util.Tools.resolve("tinymce.util.Tools"),ft=function(J){return J.fire("RestoreDraft")},Ir=function(J){return J.fire("StoreDraft")},vr=function(J){return J.fire("RemoveDraft")},Xr=function(J,V){var Tt={s:1e3,m:6e4},en=J||V,yt=/^(\d+)([ms]?)$/.exec(""+en);return(yt[2]?Tt[yt[2]]:1)*parseInt(en,10)},mr=function(J){return J.getParam("autosave_ask_before_unload",!0)},Kt=function(J){var V=document.location;return J.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,V.pathname).replace(/{query}/g,V.search).replace(/{hash}/g,V.hash).replace(/{id}/g,J.id)},kr=function(J){return J.getParam("autosave_restore_when_empty",!1)},Ot=function(J){return Xr(J.getParam("autosave_interval"),"30s")},Je=function(J){return Xr(J.getParam("autosave_retention"),"20m")},$e=function(J,V){if(mt(V))return J.dom.isEmpty(J.getBody());var Tt=yr.trim(V);if(Tt==="")return!0;var en=new DOMParser().parseFromString(Tt,"text/html");return J.dom.isEmpty(en)},Ht=function(J){var V=parseInt(gt.getItem(Kt(J)+"time"),10)||0;return new Date().getTime()-V>Je(J)?(rt(J,!1),!1):!0},rt=function(J,V){var Tt=Kt(J);gt.removeItem(Tt+"draft"),gt.removeItem(Tt+"time"),V!==!1&&vr(J)},nr=function(J){var V=Kt(J);!$e(J)&&J.isDirty()&&(gt.setItem(V+"draft",J.getContent({format:"raw",no_events:!0})),gt.setItem(V+"time",new Date().getTime().toString()),Ir(J))},se=function(J){var V=Kt(J);Ht(J)&&(J.setContent(gt.getItem(V+"draft"),{format:"raw"}),ft(J))},or=function(J){var V=Ot(J);Nt.setEditorInterval(J,function(){nr(J)},V)},Me=function(J){J.undoManager.transact(function(){se(J),rt(J)}),J.focus()},Nr=function(J){return{hasDraft:function(){return Ht(J)},storeDraft:function(){return nr(J)},restoreDraft:function(){return se(J)},removeDraft:function(V){return rt(J,V)},isEmpty:function(V){return $e(J,V)}}},zr=tinymce.util.Tools.resolve("tinymce.EditorManager"),Le=function(J){J.editorManager.on("BeforeUnload",function(V){var Tt;yr.each(zr.get(),function(en){en.plugins.autosave&&en.plugins.autosave.storeDraft(),!Tt&&en.isDirty()&&mr(en)&&(Tt=en.translate("You have unsaved changes are you sure you want to navigate away?"))}),Tt&&(V.preventDefault(),V.returnValue=Tt)})},Dt=function(J){return function(V){V.setDisabled(!Ht(J));var Tt=function(){return V.setDisabled(!Ht(J))};return J.on("StoreDraft RestoreDraft RemoveDraft",Tt),function(){return J.off("StoreDraft RestoreDraft RemoveDraft",Tt)}}},dt=function(J){or(J),J.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){Me(J)},onSetup:Dt(J)}),J.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){Me(J)},onSetup:Dt(J)})};function xn(){Ze.add("autosave",function(J){return Le(J),dt(J),J.on("init",function(){kr(J)&&J.dom.isEmpty(J.getBody())&&se(J)}),Nr(J)})}xn()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(){return _r=Object.assign||function(Ce){for(var le,Ke=1,Cr=arguments.length;Ke<Cr;Ke++){le=arguments[Ke];for(var Gr in le)Object.prototype.hasOwnProperty.call(le,Gr)&&(Ce[Gr]=le[Gr])}return Ce},_r.apply(this,arguments)},mt=function(ie){var Ce=typeof ie;return ie===null?"null":Ce==="object"&&(Array.prototype.isPrototypeOf(ie)||ie.constructor&&ie.constructor.name==="Array")?"array":Ce==="object"&&(String.prototype.isPrototypeOf(ie)||ie.constructor&&ie.constructor.name==="String")?"string":Ce},Nt=function(ie){return function(Ce){return mt(Ce)===ie}},gt=Nt("string"),yr=Nt("object"),ft=Nt("array"),Ir=function(ie){return ie==null},vr=function(ie){return!Ir(ie)},Xr=function(){},mr=function(ie){return function(){return ie}},Kt=function(ie){return ie},kr=mr(!1),Ot=mr(!0),Je=function(){return $e},$e=function(){var ie=function(Ke){return Ke()},Ce=Kt,le={fold:function(Ke,Cr){return Ke()},isSome:kr,isNone:Ot,getOr:Ce,getOrThunk:ie,getOrDie:function(Ke){throw new Error(Ke||"error: getOrDie called on none.")},getOrNull:mr(null),getOrUndefined:mr(void 0),or:Ce,orThunk:ie,map:Je,each:Xr,bind:Je,exists:kr,forall:Ot,filter:function(){return Je()},toArray:function(){return[]},toString:mr("none()")};return le}(),Ht=function(ie){var Ce=mr(ie),le=function(){return Cr},Ke=function(Gr){return Gr(ie)},Cr={fold:function(Gr,re){return re(ie)},isSome:Ot,isNone:kr,getOr:Ce,getOrThunk:Ce,getOrDie:Ce,getOrNull:Ce,getOrUndefined:Ce,or:le,orThunk:le,map:function(Gr){return Ht(Gr(ie))},each:function(Gr){Gr(ie)},bind:Ke,exists:Ke,forall:Ke,filter:function(Gr){return Gr(ie)?Cr:$e},toArray:function(){return[ie]},toString:function(){return"some("+ie+")"}};return Cr},rt=function(ie){return ie==null?$e:Ht(ie)},nr={some:Ht,none:Je,from:rt},se=Array.prototype.push,or=function(ie,Ce){for(var le=0,Ke=ie.length;le<Ke;le++){var Cr=ie[le];Ce(Cr,le)}},Me=function(ie){for(var Ce=[],le=0,Ke=ie.length;le<Ke;++le){if(!ft(ie[le]))throw new Error("Arr.flatten item "+le+" was not an array, input: "+ie);se.apply(Ce,ie[le])}return Ce},Nr=function(ie){var Ce=ie,le=function(){return Ce},Ke=function(Cr){Ce=Cr};return{get:le,set:Ke}},zr=Object.keys,Le=Object.hasOwnProperty,Dt=function(ie,Ce){for(var le=zr(ie),Ke=0,Cr=le.length;Ke<Cr;Ke++){var Gr=le[Ke],re=ie[Gr];Ce(re,Gr)}},dt=function(ie,Ce){return xn(ie,Ce)?nr.from(ie[Ce]):nr.none()},xn=function(ie,Ce){return Le.call(ie,Ce)},J=function(ie){return ie.getParam("media_scripts")},V=function(ie){return ie.getParam("audio_template_callback")},Tt=function(ie){return ie.getParam("video_template_callback")},en=function(ie){return ie.getParam("media_live_embeds",!0)},yt=function(ie){return ie.getParam("media_filter_html",!0)},On=function(ie){return ie.getParam("media_url_resolver")},hn=function(ie){return ie.getParam("media_alt_source",!0)},E=function(ie){return ie.getParam("media_poster",!0)},Rt=function(ie){return ie.getParam("media_dimensions",!0)},Ve=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ft=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),In=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),qn=function(ie,Ce){if(ie){for(var le=0;le<ie.length;le++)if(Ce.indexOf(ie[le].filter)!==-1)return ie[le]}},an=Ft.DOM,Un=function(ie){return ie.replace(/px$/,"")},Z=function(ie){var Ce=ie.map.style,le=Ce?an.parseStyle(Ce):{};return{type:"ephox-embed-iri",source:ie.map["data-ephox-embed-iri"],altsource:"",poster:"",width:dt(le,"max-width").map(Un).getOr(""),height:dt(le,"max-height").map(Un).getOr("")}},La=function(ie,Ce){var le=Nr(!1),Ke={};return In({validate:!1,allow_conditional_comments:!0,start:function(Cr,Gr){if(!le.get())if(xn(Gr.map,"data-ephox-embed-iri"))le.set(!0),Ke=Z(Gr);else{if(!Ke.source&&Cr==="param"&&(Ke.source=Gr.map.movie),(Cr==="iframe"||Cr==="object"||Cr==="embed"||Cr==="video"||Cr==="audio")&&(Ke.type||(Ke.type=Cr),Ke=Ve.extend(Gr.map,Ke)),Cr==="script"){var re=qn(ie,Gr.map.src);if(!re)return;Ke={type:"script",source:Gr.map.src,width:String(re.width),height:String(re.height)}}Cr==="source"&&(Ke.source?Ke.altsource||(Ke.altsource=Gr.map.src):Ke.source=Gr.map.src),Cr==="img"&&!Ke.poster&&(Ke.poster=Gr.map.src)}}}).parse(Ce),Ke.source=Ke.source||Ke.src||Ke.data,Ke.altsource=Ke.altsource||"",Ke.poster=Ke.poster||"",Ke},$t=function(ie){var Ce={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},le=ie.toLowerCase().split(".").pop(),Ke=Ce[le];return Ke||""},Ye=tinymce.util.Tools.resolve("tinymce.html.Schema"),un=tinymce.util.Tools.resolve("tinymce.html.Writer"),ir=Ft.DOM,Zt=function(ie){return/^[0-9.]+$/.test(ie)?ie+"px":ie},qr=function(ie,Ce){Dt(Ce,function(le,Ke){var Cr=""+le;if(ie.map[Ke])for(var Gr=ie.length;Gr--;){var re=ie[Gr];re.name===Ke&&(Cr?(ie.map[Ke]=Cr,re.value=Cr):(delete ie.map[Ke],ie.splice(Gr,1)))}else Cr&&(ie.push({name:Ke,value:Cr}),ie.map[Ke]=Cr)})},Zr=function(ie,Ce){var le=Ce.map.style,Ke=le?ir.parseStyle(le):{};Ke["max-width"]=Zt(ie.width),Ke["max-height"]=Zt(ie.height),qr(Ce,{style:ir.serializeStyle(Ke)})},At=["source","altsource"],Qt=function(ie,Ce,le){var Ke=un(),Cr=Nr(!1),Gr=0,re;return In({validate:!1,allow_conditional_comments:!0,comment:function(me){Ke.comment(me)},cdata:function(me){Ke.cdata(me)},text:function(me,Xe){Ke.text(me,Xe)},start:function(me,Xe,St){if(!Cr.get())if(xn(Xe.map,"data-ephox-embed-iri"))Cr.set(!0),Zr(Ce,Xe);else{switch(me){case"video":case"object":case"embed":case"img":case"iframe":Ce.height!==void 0&&Ce.width!==void 0&&qr(Xe,{width:Ce.width,height:Ce.height});break}if(le)switch(me){case"video":qr(Xe,{poster:Ce.poster,src:""}),Ce.altsource&&qr(Xe,{src:""});break;case"iframe":qr(Xe,{src:Ce.source});break;case"source":if(Gr<2&&(qr(Xe,{src:Ce[At[Gr]],type:Ce[At[Gr]+"mime"]}),!Ce[At[Gr]]))return;Gr++;break;case"img":if(!Ce.poster)return;re=!0;break}}Ke.start(me,Xe,St)},end:function(me){if(!Cr.get()){if(me==="video"&&le){for(var Xe=0;Xe<2;Xe++)if(Ce[At[Xe]]){var St=[];St.map={},Gr<=Xe&&(qr(St,{src:Ce[At[Xe]],type:Ce[At[Xe]+"mime"]}),Ke.start("source",St,!0))}}if(Ce.poster&&me==="object"&&le&&!re){var N=[];N.map={},qr(N,{src:Ce.poster,width:Ce.width,height:Ce.height}),Ke.start("img",N,!0)}}Ke.end(me)}},Ye({})).parse(ie),Ke.getContent()},Pe=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Fe=function(ie){var Ce=ie.match(/^(https?:\/\/|www\.)(.+)$/i);return Ce&&Ce.length>1?Ce[1]==="www."?"https://":Ce[1]:"https://"},gr=function(ie,Ce){for(var le=Fe(Ce),Ke=ie.regex.exec(Ce),Cr=le+ie.url,Gr=function(me){Cr=Cr.replace("$"+me,function(){return Ke[me]?Ke[me]:""})},re=0;re<Ke.length;re++)Gr(re);return Cr.replace(/\?$/,"")},Ne=function(ie){var Ce=Pe.filter(function(le){return le.regex.test(ie)});return Ce.length>0?Ve.extend({},Ce[0],{url:gr(Ce[0],ie)}):null},Oe=function(ie){var Ce=ie.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+ie.source+'" width="'+ie.width+'" height="'+ie.height+'"'+Ce+"></iframe>"},ut=function(ie){var Ce='<object data="'+ie.source+'" width="'+ie.width+'" height="'+ie.height+'" type="application/x-shockwave-flash">';return ie.poster&&(Ce+='<img src="'+ie.poster+'" width="'+ie.width+'" height="'+ie.height+'" />'),Ce+="</object>",Ce},br=function(ie,Ce){return Ce?Ce(ie):'<audio controls="controls" src="'+ie.source+'">'+(ie.altsource?`
<source src="`+ie.altsource+'"'+(ie.altsourcemime?' type="'+ie.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Jr=function(ie,Ce){return Ce?Ce(ie):'<video width="'+ie.width+'" height="'+ie.height+'"'+(ie.poster?' poster="'+ie.poster+'"':"")+` controls="controls">
<source src="`+ie.source+'"'+(ie.sourcemime?' type="'+ie.sourcemime+'"':"")+` />
`+(ie.altsource?'<source src="'+ie.altsource+'"'+(ie.altsourcemime?' type="'+ie.altsourcemime+'"':"")+` />
`:"")+"</video>"},_n=function(ie){return'<script src="'+ie.source+'"><\/script>'},$n=function(ie,Ce){var le=Ve.extend({},Ce);if(!le.source&&(Ve.extend(le,La(J(ie),le.embed)),!le.source))return"";le.altsource||(le.altsource=""),le.poster||(le.poster=""),le.source=ie.convertURL(le.source,"source"),le.altsource=ie.convertURL(le.altsource,"source"),le.sourcemime=$t(le.source),le.altsourcemime=$t(le.altsource),le.poster=ie.convertURL(le.poster,"poster");var Ke=Ne(le.source);if(Ke&&(le.source=Ke.url,le.type=Ke.type,le.allowfullscreen=Ke.allowFullscreen,le.width=le.width||String(Ke.w),le.height=le.height||String(Ke.h)),le.embed)return Qt(le.embed,le,!0);var Cr=qn(J(ie),le.source);Cr&&(le.type="script",le.width=String(Cr.width),le.height=String(Cr.height));var Gr=V(ie),re=Tt(ie);return le.width=le.width||"300",le.height=le.height||"150",Ve.each(le,function(me,Xe){le[Xe]=ie.dom.encode(""+me)}),le.type==="iframe"?Oe(le):le.sourcemime==="application/x-shockwave-flash"?ut(le):le.sourcemime.indexOf("audio")!==-1?br(le,Gr):le.type==="script"?_n(le):Jr(le,re)},Vt=function(ie){return ie.hasAttribute("data-mce-object")||ie.hasAttribute("data-ephox-embed-iri")},nt=function(ie){ie.on("click keyup touchend",function(){var Ce=ie.selection.getNode();Ce&&ie.dom.hasClass(Ce,"mce-preview-object")&&ie.dom.getAttrib(Ce,"data-mce-selected")&&Ce.setAttribute("data-mce-selected","2")}),ie.on("ObjectSelected",function(Ce){var le=Ce.target.getAttribute("data-mce-object");le==="script"&&Ce.preventDefault()}),ie.on("ObjectResized",function(Ce){var le=Ce.target;if(le.getAttribute("data-mce-object")){var Ke=le.getAttribute("data-mce-html");Ke&&(Ke=unescape(Ke),le.setAttribute("data-mce-html",escape(Qt(Ke,{width:String(Ce.width),height:String(Ce.height)}))))}})},ct=tinymce.util.Tools.resolve("tinymce.util.Promise"),bt={},zt=function(ie,Ce,le){return new ct(function(Ke,Cr){var Gr=function(re){return re.html&&(bt[ie.source]=re),Ke({url:ie.source,html:re.html?re.html:Ce(ie)})};bt[ie.source]?Gr(bt[ie.source]):le({url:ie.source},Gr,Cr)})},xr=function(ie,Ce){return ct.resolve({html:Ce(ie),url:ie.source})},Rr=function(ie){return function(Ce){return $n(ie,Ce)}},sr=function(ie,Ce){var le=On(ie);return le?zt(Ce,Rr(ie),le):xr(Ce,Rr(ie))},He=function(ie){return xn(bt,ie)},Xt=function(ie,Ce){return dt(Ce,ie).bind(function(le){return dt(le,"meta")})},Pr=function(ie,Ce,le){return function(Ke){var Cr,Gr=function(){return dt(ie,Ke)},re=function(){return dt(Ce,Ke)},me=function(N){return dt(N,"value").bind(function(X){return X.length>0?nr.some(X):nr.none()})},Xe=function(){return Gr().bind(function(N){return yr(N)?me(N).orThunk(re):re().orThunk(function(){return nr.from(N)})})},St=function(){return re().orThunk(function(){return Gr().bind(function(N){return yr(N)?me(N):nr.from(N)})})};return Cr={},Cr[Ke]=(Ke===le?Xe():St()).getOr(""),Cr}},lr=function(ie,Ce){var le={};return dt(ie,"dimensions").each(function(Ke){or(["width","height"],function(Cr){dt(Ce,Cr).orThunk(function(){return dt(Ke,Cr)}).each(function(Gr){return le[Cr]=Gr})})}),le},Gn=function(ie,Ce){var le=Ce?Xt(Ce,ie).getOr({}):{},Ke=Pr(ie,le,Ce);return _r(_r(_r(_r(_r({},Ke("source")),Ke("altsource")),Ke("poster")),Ke("embed")),lr(ie,le))},be=function(ie){var Ce=_r(_r({},ie),{source:{value:dt(ie,"source").getOr("")},altsource:{value:dt(ie,"altsource").getOr("")},poster:{value:dt(ie,"poster").getOr("")}});return or(["width","height"],function(le){dt(ie,le).each(function(Ke){var Cr=Ce.dimensions||{};Cr[le]=Ke,Ce.dimensions=Cr})}),Ce},_t=function(ie){return function(Ce){var le=Ce&&Ce.msg?"Media embed handler error: "+Ce.msg:"Media embed handler threw unknown error.";ie.notificationManager.open({type:"error",text:le})}},at=function(ie,Ce){return La(J(ie),Ce)},K=function(ie){var Ce=ie.selection.getNode(),le=Vt(Ce)?ie.serializer.serialize(Ce,{selection:!0}):"";return _r({embed:le},La(J(ie),le))},Ee=function(ie,Ce){return function(le){if(gt(le.url)&&le.url.trim().length>0){var Ke=le.html,Cr=at(Ce,Ke),Gr=_r(_r({},Cr),{source:le.url,embed:Ke});ie.setData(be(Gr))}}},st=function(ie,Ce){for(var le=ie.dom.select("*[data-mce-object]"),Ke=0;Ke<Ce.length;Ke++)for(var Cr=le.length-1;Cr>=0;Cr--)Ce[Ke]===le[Cr]&&le.splice(Cr,1);ie.selection.select(le[0])},Tr=function(ie,Ce){var le=ie.dom.select("*[data-mce-object]");ie.insertContent(Ce),st(ie,le),ie.nodeChanged()},cr=function(ie,Ce,le){Ce.embed=Qt(Ce.embed,Ce),Ce.embed&&(ie.source===Ce.source||He(Ce.source))?Tr(le,Ce.embed):sr(le,Ce).then(function(Ke){Tr(le,Ke.html)}).catch(_t(le))},Fr=function(ie){var Ce=K(ie),le=Nr(Ce),Ke=be(Ce),Cr=function($r,Cn){var et=Gn(Cn.getData(),"source");$r.source!==et.source&&(Ee(pr,ie)({url:et.source,html:""}),sr(ie,et).then(Ee(pr,ie)).catch(_t(ie)))},Gr=function($r){var Cn=Gn($r.getData()),et=at(ie,Cn.embed);$r.setData(be(et))},re=function($r,Cn){var et=Gn($r.getData(),Cn),pn=$n(ie,et);$r.setData(be(_r(_r({},et),{embed:pn})))},me=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Xe=Rt(ie)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],St={title:"General",name:"general",items:Me([me,Xe])},N={type:"textarea",name:"embed",label:"Paste your embed code below:"},X={title:"Embed",items:[N]},ve=[];hn(ie)&&ve.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),E(ie)&&ve.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var _e={title:"Advanced",name:"advanced",items:ve},Ue=[St,X];ve.length>0&&Ue.push(_e);var qe={type:"tabpanel",tabs:Ue},pr=ie.windowManager.open({title:"Insert/Edit Media",size:"normal",body:qe,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function($r){var Cn=Gn($r.getData());cr(le.get(),Cn,ie),$r.close()},onChange:function($r,Cn){switch(Cn.name){case"source":Cr(le.get(),$r);break;case"embed":Gr($r);break;case"dimensions":case"altsource":case"poster":re($r,Cn.name);break}le.set(Gn($r.getData()))},initialData:Ke})},ia=function(ie){var Ce=function(){Fr(ie)};return{showDialog:Ce}},Za=function(ie){var Ce=function(){Fr(ie)};ie.addCommand("mceMedia",Ce)},Fa=tinymce.util.Tools.resolve("tinymce.html.Node"),Ha=tinymce.util.Tools.resolve("tinymce.Env"),zo=tinymce.util.Tools.resolve("tinymce.html.DomParser"),ci=function(ie,Ce){if(yt(ie)===!1)return Ce;var le=un(),Ke;return In({validate:!1,allow_conditional_comments:!1,comment:function(Cr){Ke||le.comment(Cr)},cdata:function(Cr){Ke||le.cdata(Cr)},text:function(Cr,Gr){Ke||le.text(Cr,Gr)},start:function(Cr,Gr,re){if(Ke=!0,!(Cr==="script"||Cr==="noscript"||Cr==="svg")){for(var me=Gr.length-1;me>=0;me--){var Xe=Gr[me].name;Xe.indexOf("on")===0&&(delete Gr.map[Xe],Gr.splice(me,1)),Xe==="style"&&(Gr[me].value=ie.dom.serializeStyle(ie.dom.parseStyle(Gr[me].value),Cr))}le.start(Cr,Gr,re),Ke=!1}},end:function(Cr){Ke||le.end(Cr)}},Ye({})).parse(Ce),le.getContent()},Oo=function(ie){var Ce=ie.name;return Ce==="iframe"||Ce==="video"||Ce==="audio"},mo=function(ie,Ce,le,Ke){Ke===void 0&&(Ke=null);var Cr=ie.attr(le);return vr(Cr)?Cr:xn(Ce,le)?null:Ke},Jo=function(ie,Ce,le){var Ke=Ce.name==="img"||ie.name==="video",Cr=Ke?"300":null,Gr=ie.name==="audio"?"30":"150",re=Ke?Gr:null;Ce.attr({width:mo(ie,le,"width",Cr),height:mo(ie,le,"height",re)})},ua=function(ie,Ce,le,Ke){for(var Cr=zo({forced_root_block:!1,validate:!1},ie.schema).parse(Ke,{context:Ce});Cr.firstChild;)le.append(Cr.firstChild)},Lo=function(ie,Ce){var le=Ce.name,Ke=new Fa("img",1);return Ke.shortEnded=!0,Ui(ie,Ce,Ke),Jo(Ce,Ke,{}),Ke.attr({style:Ce.attr("style"),src:Ha.transparentSrc,"data-mce-object":le,class:"mce-object mce-object-"+le}),Ke},fn=function(ie,Ce){var le=Ce.name,Ke=new Fa("span",1);Ke.attr({contentEditable:"false",style:Ce.attr("style"),"data-mce-object":le,class:"mce-preview-object mce-object-"+le}),Ui(ie,Ce,Ke);var Cr=ie.dom.parseStyle(Ce.attr("style")),Gr=new Fa(le,1);if(Jo(Ce,Gr,Cr),Gr.attr({src:Ce.attr("src"),style:Ce.attr("style"),class:Ce.attr("class")}),le==="iframe")Gr.attr({allowfullscreen:Ce.attr("allowfullscreen"),frameborder:"0"});else{var re=["controls","crossorigin","currentTime","loop","muted","poster","preload"];or(re,function(St){Gr.attr(St,Ce.attr(St))});var me=Ke.attr("data-mce-html");vr(me)&&ua(ie,le,Gr,unescape(me))}var Xe=new Fa("span",1);return Xe.attr("class","mce-shim"),Ke.append(Gr),Ke.append(Xe),Ke},Ui=function(ie,Ce,le){for(var Ke=Ce.attributes,Cr=Ke.length;Cr--;){var Gr=Ke[Cr].name,re=Ke[Cr].value;Gr!=="width"&&Gr!=="height"&&Gr!=="style"&&((Gr==="data"||Gr==="src")&&(re=ie.convertURL(re,Gr)),le.attr("data-mce-p-"+Gr,re))}var me=Ce.firstChild&&Ce.firstChild.value;me&&(le.attr("data-mce-html",escape(ci(ie,me))),le.firstChild=null)},Ho=function(ie){var Ce=ie.attr("class");return Ce&&/\btiny-pageembed\b/.test(Ce)},Qo=function(ie){for(;ie=ie.parent;)if(ie.attr("data-ephox-embed-iri")||Ho(ie))return!0;return!1},Do=function(ie){return function(Ce){for(var le=Ce.length,Ke,Cr;le--;)Ke=Ce[le],Ke.parent&&(Ke.parent.attr("data-mce-object")||Ke.name==="script"&&(Cr=qn(J(ie),Ke.attr("src")),!Cr)||(Cr&&(Cr.width&&Ke.attr("width",Cr.width.toString()),Cr.height&&Ke.attr("height",Cr.height.toString())),Oo(Ke)&&en(ie)&&Ha.ceFalse?Qo(Ke)||Ke.replace(fn(ie,Ke)):Qo(Ke)||Ke.replace(Lo(ie,Ke))))}},vi=function(ie){ie.on("preInit",function(){var Ce=ie.schema.getSpecialElements();Ve.each("video audio iframe object".split(" "),function(Ke){Ce[Ke]=new RegExp("</"+Ke+"[^>]*>","gi")});var le=ie.schema.getBoolAttrs();Ve.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Ke){le[Ke]={}}),ie.parser.addNodeFilter("iframe,video,audio,object,embed,script",Do(ie)),ie.serializer.addAttributeFilter("data-mce-object",function(Ke,Cr){for(var Gr=Ke.length,re,me,Xe,St,N,X,ve,_e;Gr--;)if(re=Ke[Gr],!!re.parent){for(ve=re.attr(Cr),me=new Fa(ve,1),ve!=="audio"&&ve!=="script"&&(_e=re.attr("class"),_e&&_e.indexOf("mce-preview-object")!==-1?me.attr({width:re.firstChild.attr("width"),height:re.firstChild.attr("height")}):me.attr({width:re.attr("width"),height:re.attr("height")})),me.attr({style:re.attr("style")}),St=re.attributes,Xe=St.length;Xe--;){var Ue=St[Xe].name;Ue.indexOf("data-mce-p-")===0&&me.attr(Ue.substr(11),St[Xe].value)}ve==="script"&&me.attr("type","text/javascript"),N=re.attr("data-mce-html"),N&&(X=new Fa("#text",3),X.raw=!0,X.value=ci(ie,unescape(N)),me.append(X)),re.replace(me)}})}),ie.on("SetContent",function(){ie.$("span.mce-preview-object").each(function(Ce,le){var Ke=ie.$(le);Ke.find("span.mce-shim").length===0&&Ke.append('<span class="mce-shim"></span>')})})},ji=function(ie){ie.on("ResolveName",function(Ce){var le;Ce.target.nodeType===1&&(le=Ce.target.getAttribute("data-mce-object"))&&(Ce.name=le)})},si=function(ie){var Ce=function(){return ie.execCommand("mceMedia")};ie.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Ce,onSetup:function(le){var Ke=ie.selection;return le.setActive(Vt(Ke.getNode())),Ke.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",le.setActive).unbind}}),ie.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Ce})};function Ji(){Ze.add("media",function(ie){return Za(ie),si(ie),ji(ie),vi(ie),nt(ie),ia(ie)})}Ji()})();(function(){var Ze=function(re){var me=re,Xe=function(){return me},St=function(N){me=N};return{get:Xe,set:St}},_r=tinymce.util.Tools.resolve("tinymce.PluginManager"),mt=function(){return mt=Object.assign||function(me){for(var Xe,St=1,N=arguments.length;St<N;St++){Xe=arguments[St];for(var X in Xe)Object.prototype.hasOwnProperty.call(Xe,X)&&(me[X]=Xe[X])}return me},mt.apply(this,arguments)},Nt=function(re){var me=typeof re;return re===null?"null":me==="object"&&(Array.prototype.isPrototypeOf(re)||re.constructor&&re.constructor.name==="Array")?"array":me==="object"&&(String.prototype.isPrototypeOf(re)||re.constructor&&re.constructor.name==="String")?"string":me},gt=function(re){return function(me){return Nt(me)===re}},yr=function(re){return function(me){return typeof me===re}},ft=gt("string"),Ir=gt("array"),vr=yr("boolean"),Xr=yr("number"),mr=function(){},Kt=function(re){return function(){return re}},kr=function(re){return re},Ot=Kt(!1),Je=Kt(!0),$e="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Ht=Kt($e),rt=function(){return nr},nr=function(){var re=function(St){return St()},me=kr,Xe={fold:function(St,N){return St()},isSome:Ot,isNone:Je,getOr:me,getOrThunk:re,getOrDie:function(St){throw new Error(St||"error: getOrDie called on none.")},getOrNull:Kt(null),getOrUndefined:Kt(void 0),or:me,orThunk:re,map:rt,each:mr,bind:rt,exists:Ot,forall:Je,filter:function(){return rt()},toArray:function(){return[]},toString:Kt("none()")};return Xe}(),se=function(re){var me=Kt(re),Xe=function(){return N},St=function(X){return X(re)},N={fold:function(X,ve){return ve(re)},isSome:Je,isNone:Ot,getOr:me,getOrThunk:me,getOrDie:me,getOrNull:me,getOrUndefined:me,or:Xe,orThunk:Xe,map:function(X){return se(X(re))},each:function(X){X(re)},bind:St,exists:St,forall:St,filter:function(X){return X(re)?N:nr},toArray:function(){return[re]},toString:function(){return"some("+re+")"}};return N},or=function(re){return re==null?nr:se(re)},Me={some:se,none:rt,from:or},Nr=Ht,zr=tinymce.util.Tools.resolve("tinymce.Env"),Le=tinymce.util.Tools.resolve("tinymce.util.Tools"),Dt=Array.prototype.slice,dt=Array.prototype.push,xn=function(re,me){for(var Xe=re.length,St=new Array(Xe),N=0;N<Xe;N++){var X=re[N];St[N]=me(X,N)}return St},J=function(re,me){for(var Xe=0,St=re.length;Xe<St;Xe++){var N=re[Xe];me(N,Xe)}},V=function(re,me){for(var Xe=re.length-1;Xe>=0;Xe--){var St=re[Xe];me(St,Xe)}},Tt=function(re,me){if(re.length===0)return[];for(var Xe=me(re[0]),St=[],N=[],X=0,ve=re.length;X<ve;X++){var _e=re[X],Ue=me(_e);Ue!==Xe&&(St.push(N),N=[]),Xe=Ue,N.push(_e)}return N.length!==0&&St.push(N),St},en=function(re,me,Xe){return J(re,function(St,N){Xe=me(Xe,St,N)}),Xe},yt=function(re){for(var me=[],Xe=0,St=re.length;Xe<St;++Xe){if(!Ir(re[Xe]))throw new Error("Arr.flatten item "+Xe+" was not an array, input: "+re);dt.apply(me,re[Xe])}return me},On=function(re,me){return yt(xn(re,me))},hn=function(re,me){var Xe=Dt.call(re,0);return Xe.sort(me),Xe},E=Object.hasOwnProperty,Rt=function(re,me){return E.call(re,me)};typeof window<"u"||Function("return this;")();var Ve=9,Ft=11,In=1,qn=3,an=function(re){return re.dom.nodeType},Un=function(re){return function(me){return an(me)===re}},Z=Un(qn),La=function(re,me,Xe){if(ft(Xe)||vr(Xe)||Xr(Xe))re.setAttribute(me,Xe+"");else throw console.error("Invalid call to Attribute.set. Key ",me,":: Value ",Xe,":: Element ",re),new Error("Attribute value was not simple")},$t=function(re,me,Xe){La(re.dom,me,Xe)},Ye=function(re,me,Xe){return(re.compareDocumentPosition(me)&Xe)!==0},un=function(re,me){return Ye(re,me,Node.DOCUMENT_POSITION_PRECEDING)},ir=function(re,me){var Xe=me||document,St=Xe.createElement("div");if(St.innerHTML=re,!St.hasChildNodes()||St.childNodes.length>1)throw console.error("HTML does not have a single root node",re),new Error("HTML must have a single root node");return Zr(St.childNodes[0])},Zt=function(re,me){var Xe=me||document,St=Xe.createElement(re);return Zr(St)},qr=function(re,me){var Xe=me||document,St=Xe.createTextNode(re);return Zr(St)},Zr=function(re){if(re==null)throw new Error("Node cannot be null or undefined");return{dom:re}},At=function(re,me,Xe){return Me.from(re.dom.elementFromPoint(me,Xe)).map(Zr)},Qt={fromHtml:ir,fromTag:Zt,fromText:qr,fromDom:Zr,fromPoint:At},Pe=function(re){return re.nodeType!==In&&re.nodeType!==Ve&&re.nodeType!==Ft||re.childElementCount===0},Fe=function(re,me){var Xe=me===void 0?document:me.dom;return Pe(Xe)?[]:xn(Xe.querySelectorAll(re),Qt.fromDom)},gr=function(re){return Me.from(re.dom.parentNode).map(Qt.fromDom)},Ne=function(re){return xn(re.dom.childNodes,Qt.fromDom)},Oe=function(re,me){return{element:re,offset:me}},ut=function(re,me){var Xe=Ne(re);return Xe.length>0&&me<Xe.length?Oe(Xe[me],0):Oe(re,me)},br=function(re,me){var Xe=gr(re);Xe.each(function(St){St.dom.insertBefore(me.dom,re.dom)})},Jr=function(re,me){re.dom.appendChild(me.dom)},_n=function(re,me){br(re,me),Jr(me,re)},$n=function(re,me){var Xe=function(X){if(!re(X))throw new Error("Can only get "+me+" value of a "+me+" node");return St(X).getOr("")},St=function(X){return re(X)?Me.from(X.dom.nodeValue):Me.none()},N=function(X,ve){if(!re(X))throw new Error("Can only set raw "+me+" value of a "+me+" node");X.dom.nodeValue=ve};return{get:Xe,getOption:St,set:N}},Vt=$n(Z,"text"),nt=function(re){return Vt.get(re)},ct=function(re,me){return Fe(me,re)},bt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),zt=function(re,me){return re.isBlock(me)||Rt(re.schema.getShortEndedElements(),me.nodeName)},xr=function(re,me){return re.getContentEditable(me)==="false"},Rr=function(re,me){return re.getContentEditable(me)==="true"&&re.getContentEditableParent(me.parentNode)==="false"},sr=function(re,me){return!re.isBlock(me)&&Rt(re.schema.getWhiteSpaceElements(),me.nodeName)},He=function(re,me){return zt(re,me)||xr(re,me)||sr(re,me)||Rr(re,me)},Xt=function(re){return re.nodeType===3},Pr=function(){return{sOffset:0,fOffset:0,elements:[]}},lr=function(re,me){return ut(Qt.fromDom(re),me)},Gn=function(re,me,Xe,St,N,X){X===void 0&&(X=!0);for(var ve=X?me(!1):Xe;ve;){var _e=xr(re,ve);if(_e||sr(re,ve)){var Ue=_e?St.cef(ve):St.boundary(ve);if(Ue)break;ve=me(!0);continue}else if(zt(re,ve)){if(St.boundary(ve))break}else Xt(ve)&&St.text(ve);if(ve===N)break;ve=me(!1)}},be=function(re,me,Xe,St,N){if(!He(re,Xe)){var X=re.getParent(St,re.isBlock),ve=new bt(Xe,X),_e=N?ve.next.bind(ve):ve.prev.bind(ve);Gn(re,_e,Xe,{boundary:Je,cef:Je,text:function(Ue){N?me.fOffset+=Ue.length:me.sOffset+=Ue.length,me.elements.push(Qt.fromDom(Ue))}})}},_t=function(re,me,Xe,St,N,X){X===void 0&&(X=!0);var ve=new bt(Xe,me),_e=[],Ue=Pr();be(re,Ue,Xe,me,!1);var qe=function(){return Ue.elements.length>0&&(_e.push(Ue),Ue=Pr()),!1};return Gn(re,ve.next.bind(ve),Xe,{boundary:qe,cef:function(pr){return qe(),N&&_e.push.apply(_e,N.cef(pr)),!1},text:function(pr){Ue.elements.push(Qt.fromDom(pr)),N&&N.text(pr,Ue)}},St,X),St&&be(re,Ue,St,me,!0),qe(),_e},at=function(re,me){var Xe=lr(me.startContainer,me.startOffset),St=Xe.element.dom,N=lr(me.endContainer,me.endOffset),X=N.element.dom;return _t(re,me.commonAncestorContainer,St,X,{text:function(ve,_e){ve===X?_e.fOffset+=ve.length-N.offset:ve===St&&(_e.sOffset+=Xe.offset)},cef:function(ve){var _e=On(ct(Qt.fromDom(ve),"*[contenteditable=true]"),function(Ue){var qe=Ue.dom;return _t(re,qe,qe)});return hn(_e,function(Ue,qe){return un(Ue.elements[0].dom,qe.elements[0].dom)?1:-1})}},!1)},K=function(re,me){return me.collapsed?[]:at(re,me)},Ee=function(re,me){var Xe=re.createRng();return Xe.selectNode(me),K(re,Xe)},st=function(re,me){return On(me,function(Xe){return Ee(re,Xe)})},Tr=function(re,me,Xe,St){Xe===void 0&&(Xe=0),St===void 0&&(St=re.length);var N=me.regex;N.lastIndex=Xe;for(var X=[],ve;ve=N.exec(re);){var _e=ve[me.matchIndex],Ue=ve.index+ve[0].indexOf(_e),qe=Ue+_e.length;if(qe>St)break;X.push({start:Ue,finish:qe}),N.lastIndex=qe}return X},cr=function(re,me){var Xe=en(re,function(St,N){var X=nt(N),ve=St.last,_e=ve+X.length,Ue=On(me,function(qe,pr){return qe.start<_e&&qe.finish>ve?[{element:N,start:Math.max(ve,qe.start)-ve,finish:Math.min(_e,qe.finish)-ve,matchId:pr}]:[]});return{results:St.results.concat(Ue),last:_e}},{results:[],last:0}).results;return Tt(Xe,function(St){return St.matchId})},Fr=function(re,me){return On(me,function(Xe){var St=Xe.elements,N=xn(St,nt).join(""),X=Tr(N,re,Xe.sOffset,N.length-Xe.fOffset);return cr(St,X)})},ia=function(re,me){V(re,function(Xe,St){V(Xe,function(N){var X=Qt.fromDom(me.cloneNode(!1));$t(X,"data-mce-index",St);var ve=N.element.dom;if(ve.length===N.finish&&N.start===0)_n(N.element,X);else{ve.length!==N.finish&&ve.splitText(N.finish);var _e=ve.splitText(N.start);_n(Qt.fromDom(_e),X)}})})},Za=function(re,me,Xe,St){var N=Ee(re,Xe),X=Fr(me,N);return ia(X,St),X.length},Fa=function(re,me,Xe,St){var N=Xe.getBookmark(),X=re.select("td[data-mce-selected],th[data-mce-selected]"),ve=X.length>0?st(re,X):K(re,Xe.getRng()),_e=Fr(me,ve);return ia(_e,St),Xe.moveToBookmark(N),_e.length},Ha=function(re){var me=re.getAttribute("data-mce-index");return typeof me=="number"?""+me:me},zo=function(re,me,Xe,St){var N=re.dom.create("span",{"data-mce-bogus":1});N.className="mce-match-marker";var X=re.getBody();return Do(re,me,!1),St?Fa(re.dom,Xe,re.selection,N):Za(re.dom,Xe,X,N)},ci=function(re){var me=re.parentNode;re.firstChild&&me.insertBefore(re.firstChild,re),re.parentNode.removeChild(re)},Oo=function(re,me){var Xe=[],St=Le.toArray(re.getBody().getElementsByTagName("span"));if(St.length)for(var N=0;N<St.length;N++){var X=Ha(St[N]);X===null||!X.length||X===me.toString()&&Xe.push(St[N])}return Xe},mo=function(re,me,Xe){var St=me.get(),N=St.index,X=re.dom;Xe=Xe!==!1,Xe?N+1===St.count?N=0:N++:N-1===-1?N=St.count-1:N--,X.removeClass(Oo(re,St.index),"mce-match-marker-selected");var ve=Oo(re,N);return ve.length?(X.addClass(Oo(re,N),"mce-match-marker-selected"),re.selection.scrollIntoView(ve[0]),N):-1},Jo=function(re,me){var Xe=me.parentNode;re.remove(me),re.isEmpty(Xe)&&re.remove(Xe)},ua=function(re,me){var Xe=re.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),St="("+Xe+")";return me?"(?:^|\\s|"+Nr()+")"+St+("(?=$|\\s|"+Nr()+")"):St},Lo=function(re,me,Xe,St,N,X){var ve=re.selection,_e=ua(Xe,N),Ue=ve.isForward(),qe={regex:new RegExp(_e,St?"g":"gi"),matchIndex:1},pr=zo(re,me,qe,X);if(zr.browser.isSafari()&&ve.setRng(ve.getRng(),Ue),pr){var $r=mo(re,me,!0);me.set({index:$r,count:pr,text:Xe,matchCase:St,wholeWord:N,inSelection:X})}return pr},fn=function(re,me){var Xe=mo(re,me,!0);me.set(mt(mt({},me.get()),{index:Xe}))},Ui=function(re,me){var Xe=mo(re,me,!1);me.set(mt(mt({},me.get()),{index:Xe}))},Ho=function(re){var me=Ha(re);return me!==null&&me.length>0},Qo=function(re,me,Xe,St,N){var X=me.get(),ve=X.index,_e,Ue=ve;St=St!==!1;for(var qe=re.getBody(),pr=Le.grep(Le.toArray(qe.getElementsByTagName("span")),Ho),$r=0;$r<pr.length;$r++){var Cn=Ha(pr[$r]),et=_e=parseInt(Cn,10);if(N||et===X.index){for(Xe.length?(pr[$r].firstChild.nodeValue=Xe,ci(pr[$r])):Jo(re.dom,pr[$r]);pr[++$r];)if(et=parseInt(Ha(pr[$r]),10),et===_e)Jo(re.dom,pr[$r]);else{$r--;break}St&&Ue--}else _e>ve&&pr[$r].setAttribute("data-mce-index",String(_e-1))}return me.set(mt(mt({},X),{count:N?0:X.count-1,index:Ue})),St?fn(re,me):Ui(re,me),!N&&me.get().count>0},Do=function(re,me,Xe){for(var St,N,X=me.get(),ve=Le.toArray(re.getBody().getElementsByTagName("span")),_e=0;_e<ve.length;_e++){var Ue=Ha(ve[_e]);Ue!==null&&Ue.length&&(Ue===X.index.toString()&&(St||(St=ve[_e].firstChild),N=ve[_e].firstChild),ci(ve[_e]))}if(me.set(mt(mt({},X),{index:-1,count:0,text:""})),St&&N){var qe=re.dom.createRng();return qe.setStart(St,0),qe.setEnd(N,N.data.length),Xe!==!1&&re.selection.setRng(qe),qe}},vi=function(re,me){return me.get().count>1},ji=function(re,me){return me.get().count>1},si=function(re,me){var Xe=function(_e){return Do(re,me,_e)},St=function(_e,Ue,qe,pr){return pr===void 0&&(pr=!1),Lo(re,me,_e,Ue,qe,pr)},N=function(){return fn(re,me)},X=function(){return Ui(re,me)},ve=function(_e,Ue,qe){return Qo(re,me,_e,Ue,qe)};return{done:Xe,find:St,next:N,prev:X,replace:ve}},Ji=function(re){var me=Ze(Me.none()),Xe=function(){return me.get().each(re)},St=function(){Xe(),me.set(Me.none())},N=function(){return me.get().isSome()},X=function(){return me.get()},ve=function(_e){Xe(),me.set(Me.some(_e))};return{clear:St,isSet:N,get:X,set:ve}},ie=function(){var re=Ji(mr),me=function(Xe){return re.get().each(Xe)};return mt(mt({},re),{on:me})},Ce=function(re,me){var Xe=ie();re.undoManager.add();var St=Le.trim(re.selection.getContent({format:"text"})),N=function(pn){var Kn=vi(re,me)?pn.enable:pn.disable;Kn("next");var Na=ji(re,me)?pn.enable:pn.disable;Na("prev")},X=function(pn){var Kn=pn.getData(),Na=me.get();me.set(mt(mt({},Na),{matchCase:Kn.matchcase,wholeWord:Kn.wholewords,inSelection:Kn.inselection}))},ve=function(pn,Kn){var Na=["replace","replaceall","prev","next"],Eo=Kn?pn.disable:pn.enable;J(Na,Eo)},_e=function(pn){re.windowManager.alert("Could not find the specified string.",function(){pn.focus("findtext")})},Ue=function(pn,Kn){zr.browser.isSafari()&&zr.deviceType.isTouch()&&(Kn==="find"||Kn==="replace"||Kn==="replaceall")&&pn.focus(Kn)},qe=function(pn){Do(re,me,!1),ve(pn,!0),N(pn)},pr=function(pn){var Kn=pn.getData(),Na=me.get();if(!Kn.findtext.length){qe(pn);return}if(Na.text===Kn.findtext&&Na.matchCase===Kn.matchcase&&Na.wholeWord===Kn.wholewords)fn(re,me);else{var Eo=Lo(re,me,Kn.findtext,Kn.matchcase,Kn.wholewords,Kn.inselection);Eo<=0&&_e(pn),ve(pn,Eo===0)}N(pn)},$r=me.get(),Cn={findtext:St,replacetext:"",wholewords:$r.wholeWord,matchcase:$r.matchCase,inselection:$r.inSelection},et={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:Cn,onChange:function(pn,Kn){Kn.name==="findtext"&&me.get().count>0&&qe(pn)},onAction:function(pn,Kn){var Na=pn.getData();switch(Kn.name){case"find":pr(pn);break;case"replace":Qo(re,me,Na.replacetext)?N(pn):qe(pn);break;case"replaceall":Qo(re,me,Na.replacetext,!0,!0),qe(pn);break;case"prev":Ui(re,me),N(pn);break;case"next":fn(re,me),N(pn);break;case"matchcase":case"wholewords":case"inselection":X(pn),qe(pn);break}Ue(pn,Kn.name)},onSubmit:function(pn){pr(pn),Ue(pn,"find")},onClose:function(){re.focus(),Do(re,me),re.undoManager.add()}};Xe.set(re.windowManager.open(et,{inline:"toolbar"}))},le=function(re,me){re.addCommand("SearchReplace",function(){Ce(re,me)})},Ke=function(re,me){return function(){Ce(re,me)}},Cr=function(re,me){re.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Ke(re,me),icon:"search"}),re.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Ke(re,me),icon:"search"}),re.shortcuts.add("Meta+F","",Ke(re,me))};function Gr(){_r.add("searchreplace",function(re){var me=Ze({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return le(re,me),Cr(re,me),si(re,me)})}Gr()})();(function(){var Ze=function(w){var A=w,H=function(){return A},oe=function(De){A=De};return{get:H,set:oe}},_r=tinymce.util.Tools.resolve("tinymce.PluginManager"),mt=function(w){return w.hasPlugin("powerpaste",!0)?(typeof window.console<"u"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},Nt=function(w){return{clipboard:w}},gt=function(w){var A=typeof w;return w===null?"null":A==="object"&&(Array.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="Array")?"array":A==="object"&&(String.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="String")?"string":A},yr=function(w){return function(A){return gt(A)===w}},ft=function(w){return function(A){return typeof A===w}},Ir=yr("array"),vr=function(w){return w==null},Xr=function(w){return!vr(w)},mr=ft("function"),Kt=function(){},kr=function(w){return function(){return w}},Ot=function(w){return w},Je=kr(!1),$e=kr(!0),Ht=function(){return rt},rt=function(){var w=function(oe){return oe()},A=Ot,H={fold:function(oe,De){return oe()},isSome:Je,isNone:$e,getOr:A,getOrThunk:w,getOrDie:function(oe){throw new Error(oe||"error: getOrDie called on none.")},getOrNull:kr(null),getOrUndefined:kr(void 0),or:A,orThunk:w,map:Ht,each:Kt,bind:Ht,exists:Je,forall:$e,filter:function(){return Ht()},toArray:function(){return[]},toString:kr("none()")};return H}(),nr=function(w){var A=kr(w),H=function(){return De},oe=function(Lt){return Lt(w)},De={fold:function(Lt,dn){return dn(w)},isSome:$e,isNone:Je,getOr:A,getOrThunk:A,getOrDie:A,getOrNull:A,getOrUndefined:A,or:H,orThunk:H,map:function(Lt){return nr(Lt(w))},each:function(Lt){Lt(w)},bind:oe,exists:oe,forall:oe,filter:function(Lt){return Lt(w)?De:rt},toArray:function(){return[w]},toString:function(){return"some("+w+")"}};return De},se=function(w){return w==null?rt:nr(w)},or={some:nr,none:Ht,from:se},Me=Array.prototype.slice,Nr=Array.prototype.push,zr=function(w,A){for(var H=0,oe=w.length;H<oe;H++){var De=w[H];if(A(De,H))return!0}return!1},Le=function(w,A){for(var H=w.length,oe=new Array(H),De=0;De<H;De++){var Lt=w[De];oe[De]=A(Lt,De)}return oe},Dt=function(w,A){for(var H=0,oe=w.length;H<oe;H++){var De=w[H];A(De,H)}},dt=function(w,A){for(var H=[],oe=0,De=w.length;oe<De;oe++){var Lt=w[oe];A(Lt,oe)&&H.push(Lt)}return H},xn=function(w,A,H){return Dt(w,function(oe,De){H=A(H,oe,De)}),H},J=function(w){for(var A=[],H=0,oe=w.length;H<oe;++H){if(!Ir(w[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+w);Nr.apply(A,w[H])}return A},V=function(w,A){return J(Le(w,A))},Tt=mr(Array.from)?Array.from:function(w){return Me.call(w)},en=function(){return en=Object.assign||function(A){for(var H,oe=1,De=arguments.length;oe<De;oe++){H=arguments[oe];for(var Lt in H)Object.prototype.hasOwnProperty.call(H,Lt)&&(A[Lt]=H[Lt])}return A},en.apply(this,arguments)},yt=function(w){var A=Ze(or.none()),H=function(){return A.get().each(w)},oe=function(){H(),A.set(or.none())},De=function(){return A.get().isSome()},Lt=function(){return A.get()},dn=function(Bn){H(),A.set(or.some(Bn))};return{clear:oe,isSet:De,get:Lt,set:dn}},On=function(){var w=yt(Kt),A=function(H){return w.get().each(H)};return en(en({},w),{on:A})},hn=function(w,A,H){return A===""||w.length>=A.length&&w.substr(H,H+A.length)===A},E=function(w,A){return hn(w,A,0)},Rt=function(w,A){return hn(w,A,w.length-A.length)},Ve=function(w,A){return A<=0?"":new Array(A+1).join(w)},Ft=tinymce.util.Tools.resolve("tinymce.Env"),In=tinymce.util.Tools.resolve("tinymce.util.Delay"),qn=tinymce.util.Tools.resolve("tinymce.util.Promise"),an=tinymce.util.Tools.resolve("tinymce.util.VK"),Un=function(w,A,H,oe){return w.fire("PastePreProcess",{content:A,internal:H,wordContent:oe})},Z=function(w,A,H,oe){return w.fire("PastePostProcess",{node:A,internal:H,wordContent:oe})},La=function(w,A){return w.fire("PastePlainTextToggle",{state:A})},$t=function(w,A){return w.fire("paste",{ieFake:A})},Ye=tinymce.util.Tools.resolve("tinymce.util.Tools"),un=function(w){return w.getParam("paste_block_drop",!1)},ir=function(w){return w.getParam("paste_data_images",!1)},Zt=function(w){return w.getParam("paste_filter_drop",!0)},qr=function(w){return w.getParam("paste_preprocess")},Zr=function(w){return w.getParam("paste_postprocess")},At=function(w){return w.getParam("paste_webkit_styles")},Qt=function(w){return w.getParam("paste_remove_styles_if_webkit",!0)},Pe=function(w){return w.getParam("paste_merge_formats",!0)},Fe=function(w){return w.getParam("smart_paste",!0)},gr=function(w){return w.getParam("paste_as_text",!1)},Ne=function(w){return w.getParam("paste_retain_style_properties")},Oe=function(w){var A="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return w.getParam("paste_word_valid_elements",A)},ut=function(w){return w.getParam("paste_convert_word_fake_lists",!0)},br=function(w){return w.getParam("paste_enable_default_filters",!0)},Jr=function(w){return w.getParam("validate")},_n=function(w){return w.getParam("allow_html_data_urls",!1,"boolean")},$n=function(w){return w.getParam("paste_data_images",!1,"boolean")},Vt=function(w){return w.getParam("images_dataimg_filter")},nt=function(w){return w.getParam("images_reuse_filename")},ct=function(w){return w.getParam("forced_root_block")},bt=function(w){return w.getParam("forced_root_block_attrs")},zt=function(w){return w.getParam("paste_tab_spaces",4,"number")},xr=function(w){var A="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Ye.explode(w.getParam("images_file_types",A,"string"))},Rr="x-tinymce/html",sr="<!-- "+Rr+" -->",He=function(w){return sr+w},Xt=function(w){return w.replace(sr,"")},Pr=function(w){return w.indexOf(sr)!==-1},lr=kr(Rr),Gn=Object.hasOwnProperty,be=function(w,A){return Gn.call(w,A)},_t=tinymce.util.Tools.resolve("tinymce.html.Entities"),at=function(w){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(w)},K=function(w){return w.replace(/\r?\n/g,"<br>")},Ee=function(w,A){var H=[],oe="<"+w;if(typeof A=="object"){for(var De in A)be(A,De)&&H.push(De+'="'+_t.encodeAllRaw(A[De])+'"');H.length&&(oe+=" "+H.join(" "))}return oe+">"},st=function(w,A,H){var oe=w.split(/\n\n/),De=Ee(A,H),Lt="</"+A+">",dn=Ye.map(oe,function(Or){return Or.split(/\n/).join("<br />")}),Bn=function(Or){return De+Or+Lt};return dn.length===1?dn[0]:Ye.map(dn,Bn).join("")},Tr=function(w,A,H){return A?st(w,A===!0?"p":A,H):K(w)},cr=tinymce.util.Tools.resolve("tinymce.html.DomParser"),Fr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ia=" ",Za=tinymce.util.Tools.resolve("tinymce.html.Node"),Fa=tinymce.util.Tools.resolve("tinymce.html.Schema"),Ha=function(w){return w.constructor===RegExp},zo=function(w,A){return Ye.each(A,function(H){Ha(H)?w=w.replace(H,""):w=w.replace(H[0],H[1])}),w},ci=function(w){var A=Fa(),H=cr({},A),oe="",De=A.getShortEndedElements(),Lt=Ye.makeMap("script noscript style textarea video audio iframe object"," "),dn=A.getBlockElements(),Bn=function(Or){var ln=Or.name,na=Or;if(ln==="br"){oe+=`
`;return}if(ln!=="wbr"){if(De[ln]&&(oe+=" "),Lt[ln]){oe+=" ";return}if(Or.type===3&&(oe+=Or.value),!Or.shortEnded&&(Or=Or.firstChild))do Bn(Or);while(Or=Or.next);dn[ln]&&na.next&&(oe+=`
`,ln==="p"&&(oe+=`
`))}};return w=zo(w,[/<!\[[^\]]+\]>/g]),Bn(H.parse(w)),oe},Oo=function(w){var A=function(H,oe,De){return!oe&&!De?" ":ia};return w=zo(w,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,A],/<br class="Apple-interchange-newline">/g,/<br>$/i]),w},mo=function(w){var A=0;return function(){return w+A++}},Jo=function(w){var A=w.toLowerCase(),H={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ye.hasOwn(H,A)?"image/"+H[A]:"image/"+A},ua=function(w){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(w)||/class="OutlineElement/.test(w)||/id="?docs\-internal\-guid\-/.test(w)},Lo=function(w){var A=!1,H=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return w=w.replace(/^[\u00a0 ]+/,""),Ye.each(H,function(oe){if(oe.test(w))return A=!0,!1}),A},fn=function(w){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(w)},Ui=function(w){for(var A,H,oe=1,De=function(Ln){var to="";if(Ln.type===3)return Ln.value;if(Ln=Ln.firstChild)do to+=De(Ln);while(Ln=Ln.next);return to},Lt=function(Ln,to){if(Ln.type===3&&to.test(Ln.value))return Ln.value=Ln.value.replace(to,""),!1;if(Ln=Ln.firstChild)do if(!Lt(Ln,to))return!1;while(Ln=Ln.next);return!0},dn=function(Ln){if(Ln._listIgnore){Ln.remove();return}if(Ln=Ln.firstChild)do dn(Ln);while(Ln=Ln.next)},Bn=function(Ln,to,Wa){var Ri=Ln._listLevel||oe;Ri!==oe&&(Ri<oe?A&&(A=A.parent.parent):(H=A,A=null)),!A||A.name!==to?(H=H||A,A=new Za(to,1),Wa>1&&A.attr("start",""+Wa),Ln.wrap(A)):A.append(Ln),Ln.name="li",Ri>oe&&H&&H.lastChild.append(A),oe=Ri,dn(Ln),Lt(Ln,/^\u00a0+/),Lt(Ln,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Lt(Ln,/^\u00a0+/)},Or=[],ln=w.firstChild;typeof ln<"u"&&ln!==null;)if(Or.push(ln),ln=ln.walk(),ln!==null)for(;typeof ln<"u"&&ln.parent!==w;)ln=ln.walk();for(var na=0;na<Or.length;na++)if(w=Or[na],w.name==="p"&&w.firstChild){var ta=De(w);if(fn(ta)){Bn(w,"ul");continue}if(Lo(ta)){var jn=/([0-9]+)\./.exec(ta),go=1;jn&&(go=parseInt(jn[1],10)),Bn(w,"ol",go);continue}if(w._listLevel){Bn(w,"ul",1);continue}A=null}else H=A,A=null},Ho=function(w,A,H,oe){var De={},Lt=w.dom.parseStyle(oe);Ye.each(Lt,function(Bn,Or){switch(Or){case"mso-list":var ln=/\w+ \w+([0-9]+)/i.exec(oe);ln&&(H._listLevel=parseInt(ln[1],10)),/Ignore/i.test(Bn)&&H.firstChild&&(H._listIgnore=!0,H.firstChild._listIgnore=!0);break;case"horiz-align":Or="text-align";break;case"vert-align":Or="vertical-align";break;case"font-color":case"mso-foreground":Or="color";break;case"mso-background":case"mso-highlight":Or="background";break;case"font-weight":case"font-style":Bn!=="normal"&&(De[Or]=Bn);return;case"mso-element":if(/^(comment|comment-list)$/i.test(Bn)){H.remove();return}break}if(Or.indexOf("mso-comment")===0){H.remove();return}Or.indexOf("mso-")!==0&&(Ne(w)==="all"||A&&A[Or])&&(De[Or]=Bn)}),/(bold)/i.test(De["font-weight"])&&(delete De["font-weight"],H.wrap(new Za("b",1))),/(italic)/i.test(De["font-style"])&&(delete De["font-style"],H.wrap(new Za("i",1)));var dn=w.dom.serializeStyle(De,H.name);return dn||null},Qo=function(w,A){var H,oe=Ne(w);oe&&(H=Ye.makeMap(oe.split(/[, ]/))),A=zo(A,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,ia],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(Or,ln){return ln.length>0?ln.replace(/./," ").slice(Math.floor(ln.length/2)).split("").join(ia):""}]]);var De=Oe(w),Lt=Fa({valid_elements:De,valid_children:"-li[p]"});Ye.each(Lt.elements,function(Or){Or.attributes.class||(Or.attributes.class={},Or.attributesOrder.push("class")),Or.attributes.style||(Or.attributes.style={},Or.attributesOrder.push("style"))});var dn=cr({},Lt);dn.addAttributeFilter("style",function(Or){for(var ln=Or.length,na;ln--;)na=Or[ln],na.attr("style",Ho(w,H,na,na.attr("style"))),na.name==="span"&&na.parent&&!na.attributes.length&&na.unwrap()}),dn.addAttributeFilter("class",function(Or){for(var ln=Or.length,na,ta;ln--;)na=Or[ln],ta=na.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(ta)&&na.remove(),na.attr("class",null)}),dn.addNodeFilter("del",function(Or){for(var ln=Or.length;ln--;)Or[ln].remove()}),dn.addNodeFilter("a",function(Or){for(var ln=Or.length,na,ta,jn;ln--;){if(na=Or[ln],ta=na.attr("href"),jn=na.attr("name"),ta&&ta.indexOf("#_msocom_")!==-1){na.remove();continue}if(ta&&ta.indexOf("file://")===0&&(ta=ta.split("#")[1],ta&&(ta="#"+ta)),!ta&&!jn)na.unwrap();else{if(jn&&!/^_?(?:toc|edn|ftn)/i.test(jn)){na.unwrap();continue}na.attr({href:ta,name:jn})}}});var Bn=dn.parse(A);return ut(w)&&Ui(Bn),A=Fr({validate:Jr(w)},Lt).serialize(Bn),A},Do=function(w,A){return br(w)?Qo(w,A):A},vi=function(w,A){var H=cr({},w.schema);H.addNodeFilter("meta",function(De){Ye.each(De,function(Lt){Lt.remove()})});var oe=H.parse(A,{forced_root_block:!1,isRootContent:!0});return Fr({validate:Jr(w)},w.schema).serialize(oe)},ji=function(w,A){return{content:w,cancelled:A}},si=function(w,A,H,oe){var De=w.dom.create("div",{style:"display:none"},A),Lt=Z(w,De,H,oe);return ji(Lt.node.innerHTML,Lt.isDefaultPrevented())},Ji=function(w,A,H,oe){var De=Un(w,A,H,oe),Lt=vi(w,De.content);return w.hasEventListeners("PastePostProcess")&&!De.isDefaultPrevented()?si(w,Lt,H,oe):ji(Lt,De.isDefaultPrevented())},ie=function(w,A,H){var oe=ua(A),De=oe?Do(w,A):A;return Ji(w,De,H,oe)},Ce=function(w,A){return w.insertContent(A,{merge:Pe(w),paste:!0}),!0},le=function(w){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(w)},Ke=function(w,A){return le(A)&&zr(xr(w),function(H){return Rt(A.toLowerCase(),"."+H.toLowerCase())})},Cr=function(w,A,H){return w.undoManager.extra(function(){H(w,A)},function(){w.insertContent('<img src="'+A+'">')}),!0},Gr=function(w,A,H){return w.undoManager.extra(function(){H(w,A)},function(){w.execCommand("mceInsertLink",!1,A)}),!0},re=function(w,A,H){return w.selection.isCollapsed()===!1&&le(A)?Gr(w,A,H):!1},me=function(w,A,H){return Ke(w,A)?Cr(w,A,H):!1},Xe=function(w,A){Ye.each([re,me,Ce],function(H){return H(w,A,Ce)!==!0})},St=function(w,A,H){H||Fe(w)===!1?Ce(w,A):Xe(w,A)},N=function(w){return" \f	\v".indexOf(w)!==-1},X=function(w){return w===`
`||w==="\r"},ve=function(w,A){return A<w.length&&A>=0?X(w[A]):!1},_e=function(w,A){var H=Ve(" ",zt(w)),oe=A.replace(/\t/g,H),De=xn(oe,function(Lt,dn){return N(dn)||dn===ia?Lt.pcIsSpace||Lt.str===""||Lt.str.length===oe.length-1||ve(oe,Lt.str.length+1)?{pcIsSpace:!1,str:Lt.str+ia}:{pcIsSpace:!0,str:Lt.str+" "}:{pcIsSpace:X(dn),str:Lt.str+dn}},{pcIsSpace:!1,str:""});return De.str},Ue=function(w,A,H,oe){var De=ie(w,A,H);De.cancelled===!1&&St(w,De.content,oe)},qe=function(w,A,H){var oe=H||Pr(A);Ue(w,Xt(A),oe,!1)},pr=function(w,A){var H=w.dom.encode(A).replace(/\r\n/g,`
`),oe=_e(w,H),De=Tr(oe,ct(w),bt(w));Ue(w,De,!1,!0)},$r=function(w){var A={},H="data:text/mce-internal,";if(w){if(w.getData){var oe=w.getData("Text");oe&&oe.length>0&&oe.indexOf(H)===-1&&(A["text/plain"]=oe)}if(w.types)for(var De=0;De<w.types.length;De++){var Lt=w.types[De];try{A[Lt]=w.getData(Lt)}catch{A[Lt]=""}}}return A},Cn=function(w,A){return $r(A.clipboardData||w.getDoc().dataTransfer)},et=function(w,A){return A in w&&w[A].length>0},pn=function(w){return et(w,"text/html")||et(w,"text/plain")},Kn=function(w){var A=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(w);return A?{type:A[1],data:decodeURIComponent(A[2])}:{type:null,data:null}},Na=function(w,A){var H=Vt(w);return H?H(A):!0},Eo=function(w,A){var H=A.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return Xr(H)?w.dom.encode(H[1]):null},ca=mo("mceclip"),zu=function(w,A){var H=Kn(A.uri),oe=H.data,De=H.type,Lt=ca(),dn=A.blob,Bn=new Image;if(Bn.src=A.uri,Na(w,Bn)){var Or=w.editorUpload.blobCache,ln=void 0,na=Or.getByData(oe,De);if(na)ln=na;else{var ta=nt(w)&&Xr(dn.name),jn=ta?Eo(w,dn.name):Lt,go=ta?dn.name:void 0;ln=Or.create(Lt,dn,oe,jn,go),Or.add(ln)}qe(w,'<img src="'+ln.blobUri()+'">',!1)}else qe(w,'<img src="'+A.uri+'">',!1)},lu=function(w){return w.type==="paste"},So=function(w){return Xr(w.getAsFile)},Yu=function(w){return qn.all(Le(w,function(A){return new qn(function(H){var oe=So(A)?A.getAsFile():A,De=new window.FileReader;De.onload=function(){H({blob:oe,uri:De.result})},De.readAsDataURL(oe)})}))},yi=function(w){var A=xr(w);return function(H){return E(H.type,"image/")&&zr(A,function(oe){return Jo(oe)===H.type})}},Ci=function(w,A){var H=A.items?V(Tt(A.items),function(De){return De.kind==="file"?[De.getAsFile()]:[]}):[],oe=A.files?Tt(A.files):[];return dt(H.length>0?H:oe,yi(w))},oo=function(w,A,H){var oe=lu(A)?A.clipboardData:A.dataTransfer;if($n(w)&&oe){var De=Ci(w,oe);if(De.length>0)return A.preventDefault(),Yu(De).then(function(Lt){H&&w.selection.setRng(H),Dt(Lt,function(dn){zu(w,dn)})}),!0}return!1},Bc=function(w){var A=w.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&A&&A.items&&A.items.length===0},Y=function(w){return an.metaKeyPressed(w)&&w.keyCode===86||w.shiftKey&&w.keyCode===45},ye=function(w,A,H){var oe=On(),De=On(),Lt;w.on("keyup",De.clear),w.on("keydown",function(Or){var ln=function(na){Y(na)&&!na.isDefaultPrevented()&&A.remove()};if(Y(Or)&&!Or.isDefaultPrevented()){if(Lt=Or.shiftKey&&Or.keyCode===86,Lt&&Ft.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(Or.stopImmediatePropagation(),oe.set(Or),De.set(!0),Ft.ie&&Lt){Or.preventDefault(),$t(w,!0);return}A.remove(),A.create(),w.once("keyup",ln),w.once("paste",function(){w.off("keyup",ln)})}});var dn=function(Or,ln,na,ta,jn){var go;et(ln,"text/html")?go=ln["text/html"]:(go=A.getHtml(),jn=jn||Pr(go),A.isDefaultContent(go)&&(ta=!0)),go=Oo(go),A.remove();var Ln=jn===!1&&at(go),to=le(go);if((!go.length||Ln&&!to)&&(ta=!0),(ta||to)&&(et(ln,"text/plain")&&Ln?go=ln["text/plain"]:go=ci(go)),A.isDefaultContent(go)){na||Or.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}ta?pr(Or,go):qe(Or,go,jn)},Bn=function(){return A.getLastRng()||w.selection.getRng()};w.on("paste",function(Or){var ln=oe.isSet()||De.isSet();ln&&oe.clear();var na=Cn(w,Or),ta=H.get()==="text"||Lt,jn=et(na,lr());if(Lt=!1,Or.isDefaultPrevented()||Bc(Or)){A.remove();return}if(!pn(na)&&oo(w,Or,Bn())){A.remove();return}ln||Or.preventDefault(),Ft.ie&&(!ln||Or.ieFake)&&!et(na,"text/html")&&(A.create(),w.dom.bind(A.getEl(),"paste",function(go){go.stopPropagation()}),w.getDoc().execCommand("Paste",!1,null),na["text/html"]=A.getHtml()),et(na,"text/html")?(Or.preventDefault(),jn||(jn=Pr(na["text/html"])),dn(w,na,ln,ta,jn)):In.setEditorTimeout(w,function(){dn(w,na,ln,ta,jn)},0)})},We=function(w,A,H){ye(w,A,H);var oe;w.parser.addNodeFilter("img",function(De,Lt,dn){var Bn=function(jn){return jn.data&&jn.data.paste===!0},Or=function(jn){!jn.attr("data-mce-object")&&oe!==Ft.transparentSrc&&jn.remove()},ln=function(jn){return jn.indexOf("webkit-fake-url")===0},na=function(jn){return jn.indexOf("data:")===0};if(!$n(w)&&Bn(dn))for(var ta=De.length;ta--;)oe=De[ta].attr("src"),oe&&(ln(oe)||!_n(w)&&na(oe))&&Or(De[ta])})},Et=function(w){return Ft.ie&&w.inline?document.body:w.getBody()},Lr=function(w){return Et(w)!==w.getBody()},tn=function(w,A,H){Lr(w)&&w.dom.bind(A,"paste keyup",function(oe){Bt(w,H)||w.fire("paste")})},vn=function(w,A,H){var oe=w.dom,De=w.getBody();A.set(w.selection.getRng());var Lt=w.dom.add(Et(w),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},H);(Ft.ie||Ft.gecko)&&oe.setStyle(Lt,"left",oe.getStyle(De,"direction",!0)==="rtl"?65535:-65535),oe.bind(Lt,"beforedeactivate focusin focusout",function(dn){dn.stopPropagation()}),tn(w,Lt,H),Lt.focus(),w.selection.select(Lt,!0)},da=function(w,A){if(j(w)){for(var H=void 0,oe=A.get();H=w.dom.get("mcepastebin");)w.dom.remove(H),w.dom.unbind(H);oe&&w.selection.setRng(oe)}A.set(null)},j=function(w){return w.dom.get("mcepastebin")},he=function(w){var A=function(Bn,Or){Bn.appendChild(Or),w.dom.remove(Or,!0)},H=Ye.grep(Et(w).childNodes,function(Bn){return Bn.id==="mcepastebin"}),oe=H.shift();Ye.each(H,function(Bn){A(oe,Bn)});for(var De=w.dom.select("div[id=mcepastebin]",oe),Lt=De.length-1;Lt>=0;Lt--){var dn=w.dom.create("div");oe.insertBefore(dn,De[Lt]),A(dn,De[Lt])}return oe?oe.innerHTML:""},Re=function(w,A){return A===w},ot=function(w){return w&&w.id==="mcepastebin"},Bt=function(w,A){var H=j(w);return ot(H)&&Re(A,H.innerHTML)},Kr=function(w){var A=Ze(null),H="%MCEPASTEBIN%";return{create:function(){return vn(w,A,H)},remove:function(){return da(w,A)},getEl:function(){return j(w)},getHtml:function(){return he(w)},getLastRng:A.get,isDefault:function(){return Bt(w,H)},isDefaultContent:function(oe){return Re(H,oe)}}},yn=function(w,A){var H=Kr(w);return w.on("PreInit",function(){return We(w,H,A)}),{pasteFormat:A,pasteHtml:function(oe,De){return qe(w,oe,De)},pasteText:function(oe){return pr(w,oe)},pasteImageData:function(oe,De){return oo(w,oe,De)},getDataTransferItems:$r,hasHtmlOrText:pn,hasContentType:et}},xa=function(w,A){A.pasteFormat.get()==="text"?(A.pasteFormat.set("html"),La(w,!1)):(A.pasteFormat.set("text"),La(w,!0)),w.focus()},ra=function(w,A){w.addCommand("mceTogglePlainTextPaste",function(){xa(w,A)}),w.addCommand("mceInsertClipboardContent",function(H,oe){oe.content&&A.pasteHtml(oe.content,oe.internal),oe.text&&A.pasteText(oe.text)})},Va=function(w){return Ft.iOS===!1&&typeof(w==null?void 0:w.setData)=="function"},so=function(w,A,H){if(Va(w))try{return w.clearData(),w.setData("text/html",A),w.setData("text/plain",H),w.setData(lr(),A),!0}catch{return!1}else return!1},Eu=function(w,A,H,oe){so(w.clipboardData,A.html,A.text)?(w.preventDefault(),oe()):H(A.html,oe)},Wo=function(w){return function(A,H){var oe=He(A),De=w.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Lt=w.dom.create("div",{contenteditable:"true"},oe);w.dom.setStyles(De,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),De.appendChild(Lt),w.dom.add(w.getBody(),De);var dn=w.selection.getRng();Lt.focus();var Bn=w.dom.createRng();Bn.selectNodeContents(Lt),w.selection.setRng(Bn),In.setTimeout(function(){w.selection.setRng(dn),De.parentNode.removeChild(De),H()},0)}},wn=function(w){return{html:w.selection.getContent({contextual:!0}),text:w.selection.getContent({format:"text"})}},dr=function(w){return!!w.dom.getParent(w.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",w.getBody())},ja=function(w){return!w.selection.isCollapsed()||dr(w)},qo=function(w){return function(A){ja(w)&&Eu(A,wn(w),Wo(w),function(){if(Ft.browser.isChrome()||Ft.browser.isFirefox()){var H=w.selection.getRng();In.setEditorTimeout(w,function(){w.selection.setRng(H),w.execCommand("Delete")},0)}else w.execCommand("Delete")})}},wa=function(w){return function(A){ja(w)&&Eu(A,wn(w),Wo(w),Kt)}},Mc=function(w){w.on("cut",qo(w)),w.on("copy",wa(w))},Zu=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),_s=function(w,A){return Zu.getCaretRangeFromPoint(A.clientX,A.clientY,w.getDoc())},Ra=function(w){var A=w["text/plain"];return A?A.indexOf("file://")===0:!1},Di=function(w,A){w.focus(),w.selection.setRng(A)},Cs=function(w,A,H){un(w)&&w.on("dragend dragover draggesture dragdrop drop drag",function(oe){oe.preventDefault(),oe.stopPropagation()}),ir(w)||w.on("drop",function(oe){var De=oe.dataTransfer;De&&De.files&&De.files.length>0&&oe.preventDefault()}),w.on("drop",function(oe){var De=_s(w,oe);if(!(oe.isDefaultPrevented()||H.get())){var Lt=A.getDataTransferItems(oe.dataTransfer),dn=A.hasContentType(Lt,lr());if(!((!A.hasHtmlOrText(Lt)||Ra(Lt))&&A.pasteImageData(oe,De))&&De&&Zt(w)){var Bn=Lt["mce-internal"]||Lt["text/html"]||Lt["text/plain"];Bn&&(oe.preventDefault(),In.setEditorTimeout(w,function(){w.undoManager.transact(function(){Lt["mce-internal"]&&w.execCommand("Delete"),Di(w,De),Bn=Oo(Bn),Lt["text/html"]?A.pasteHtml(Bn,dn):A.pasteText(Bn)})}))}}}),w.on("dragstart",function(oe){H.set(!0)}),w.on("dragover dragend",function(oe){ir(w)&&H.get()===!1&&(oe.preventDefault(),Di(w,_s(w,oe))),oe.type==="dragend"&&H.set(!1)})},Au=function(w){var A=w.plugins.paste,H=qr(w);H&&w.on("PastePreProcess",function(De){H.call(A,A,De)});var oe=Zr(w);oe&&w.on("PastePostProcess",function(De){oe.call(A,A,De)})},Bo=function(w,A){w.on("PastePreProcess",function(H){H.content=A(w,H.content,H.internal,H.wordContent)})},Nc=function(w,A){w.on("PastePostProcess",function(H){A(w,H.node)})},wt=function(w,A){if(!ua(A))return A;var H=[];Ye.each(w.schema.getBlockElements(),function(De,Lt){H.push(Lt)});var oe=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+H.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return A=zo(A,[[oe,"$1"]]),A=zo(A,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),A},ts=function(w,A,H,oe){if(oe||H)return A;var De=At(w),Lt;if(Qt(w)===!1||De==="all")return A;if(De&&(Lt=De.split(/[, ]/)),Lt){var dn=w.dom,Bn=w.selection.getNode();A=A.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Or,ln,na,ta){var jn=dn.parseStyle(dn.decode(na)),go={};if(Lt==="none")return ln+ta;for(var Ln=0;Ln<Lt.length;Ln++){var to=jn[Lt[Ln]],Wa=dn.getStyle(Bn,Lt[Ln],!0);/color/.test(Lt[Ln])&&(to=dn.toHex(to),Wa=dn.toHex(Wa)),Wa!==to&&(go[Lt[Ln]]=to)}var Ri=dn.serializeStyle(go,"span");return Ri?ln+' style="'+Ri+'"'+ta:ln+ta})}else A=A.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return A=A.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Or,ln,na,ta){return ln+' style="'+na+'"'+ta}),A},Mo=function(w,A){w.$("a",A).find("font,u").each(function(H,oe){w.dom.remove(oe,!0)})},vl=function(w){Ft.webkit&&Bo(w,ts),Ft.ie&&(Bo(w,wt),Nc(w,Mo))},hc=function(w,A){return function(H){H.setActive(A.pasteFormat.get()==="text");var oe=function(De){return H.setActive(De.state)};return w.on("PastePlainTextToggle",oe),function(){return w.off("PastePlainTextToggle",oe)}}},P=function(w,A){var H=function(){return w.execCommand("mceTogglePlainTextPaste")};w.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:H,onSetup:hc(w,A)}),w.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:H,onSetup:hc(w,A)})};function S(){_r.add("paste",function(w){if(mt(w)===!1){var A=Ze(!1),H=Ze(gr(w)?"text":"html"),oe=yn(w,H);return vl(w),P(w,oe),ra(w,oe),Au(w),Mc(w),Cs(w,oe,A),Nt(oe)}})}S()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(He){var Xt=typeof He;return He===null?"null":Xt==="object"&&(Array.prototype.isPrototypeOf(He)||He.constructor&&He.constructor.name==="Array")?"array":Xt==="object"&&(String.prototype.isPrototypeOf(He)||He.constructor&&He.constructor.name==="String")?"string":Xt},mt=function(He){return function(Xt){return _r(Xt)===He}},Nt=function(He){return function(Xt){return typeof Xt===He}},gt=mt("string"),yr=Nt("boolean"),ft=function(He){return He==null},Ir=function(He){return!ft(He)},vr=Nt("function"),Xr=Nt("number"),mr=function(){},Kt=function(He,Xt){return function(Pr){return He(Xt(Pr))}},kr=function(He){return function(){return He}},Ot=function(He){return He},Je=kr(!1),$e=kr(!0),Ht=function(){return rt},rt=function(){var He=function(lr){return lr()},Xt=Ot,Pr={fold:function(lr,Gn){return lr()},isSome:Je,isNone:$e,getOr:Xt,getOrThunk:He,getOrDie:function(lr){throw new Error(lr||"error: getOrDie called on none.")},getOrNull:kr(null),getOrUndefined:kr(void 0),or:Xt,orThunk:He,map:Ht,each:mr,bind:Ht,exists:Je,forall:$e,filter:function(){return Ht()},toArray:function(){return[]},toString:kr("none()")};return Pr}(),nr=function(He){var Xt=kr(He),Pr=function(){return Gn},lr=function(be){return be(He)},Gn={fold:function(be,_t){return _t(He)},isSome:$e,isNone:Je,getOr:Xt,getOrThunk:Xt,getOrDie:Xt,getOrNull:Xt,getOrUndefined:Xt,or:Pr,orThunk:Pr,map:function(be){return nr(be(He))},each:function(be){be(He)},bind:lr,exists:lr,forall:lr,filter:function(be){return be(He)?Gn:rt},toArray:function(){return[He]},toString:function(){return"some("+He+")"}};return Gn},se=function(He){return He==null?rt:nr(He)},or={some:nr,none:Ht,from:se},Me=function(He,Xt){for(var Pr=He.length,lr=new Array(Pr),Gn=0;Gn<Pr;Gn++){var be=He[Gn];lr[Gn]=Xt(be,Gn)}return lr},Nr=function(He,Xt){for(var Pr=0,lr=He.length;Pr<lr;Pr++){var Gn=He[Pr];Xt(Gn,Pr)}},zr=function(He,Xt){for(var Pr=[],lr=0,Gn=He.length;lr<Gn;lr++){var be=He[lr];Xt(be,lr)&&Pr.push(be)}return Pr},Le=9,Dt=11,dt=1,xn=3,J=function(He,Xt){var Pr=Xt||document,lr=Pr.createElement("div");if(lr.innerHTML=He,!lr.hasChildNodes()||lr.childNodes.length>1)throw console.error("HTML does not have a single root node",He),new Error("HTML must have a single root node");return en(lr.childNodes[0])},V=function(He,Xt){var Pr=Xt||document,lr=Pr.createElement(He);return en(lr)},Tt=function(He,Xt){var Pr=Xt||document,lr=Pr.createTextNode(He);return en(lr)},en=function(He){if(He==null)throw new Error("Node cannot be null or undefined");return{dom:He}},yt=function(He,Xt,Pr){return or.from(He.dom.elementFromPoint(Xt,Pr)).map(en)},On={fromHtml:J,fromTag:V,fromText:Tt,fromDom:en,fromPoint:yt},hn=function(He,Xt){var Pr=He.dom;if(Pr.nodeType!==dt)return!1;var lr=Pr;if(lr.matches!==void 0)return lr.matches(Xt);if(lr.msMatchesSelector!==void 0)return lr.msMatchesSelector(Xt);if(lr.webkitMatchesSelector!==void 0)return lr.webkitMatchesSelector(Xt);if(lr.mozMatchesSelector!==void 0)return lr.mozMatchesSelector(Xt);throw new Error("Browser lacks native selectors")};typeof window<"u"||Function("return this;")();var E=function(He){var Xt=He.dom.nodeName;return Xt.toLowerCase()},Rt=function(He){return He.dom.nodeType},Ve=function(He){return function(Xt){return Rt(Xt)===He}},Ft=Ve(dt),In=Ve(xn),qn=Ve(Le),an=Ve(Dt),Un=function(He){return function(Xt){return Ft(Xt)&&E(Xt)===He}},Z=function(He){return On.fromDom(He.dom.ownerDocument)},La=function(He){return qn(He)?He:Z(He)},$t=function(He){return or.from(He.dom.parentNode).map(On.fromDom)},Ye=function(He){return Me(He.dom.childNodes,On.fromDom)},un=function(He,Xt,Pr){if(gt(Pr)||yr(Pr)||Xr(Pr))He.setAttribute(Xt,Pr+"");else throw console.error("Invalid call to Attribute.set. Key ",Xt,":: Value ",Pr,":: Element ",He),new Error("Attribute value was not simple")},ir=function(He,Xt,Pr){un(He.dom,Xt,Pr)},Zt=function(He,Xt){He.dom.removeAttribute(Xt)},qr=function(He){return an(He)&&Ir(He.dom.host)},Zr=vr(Element.prototype.attachShadow)&&vr(Node.prototype.getRootNode),At=Zr?function(He){return On.fromDom(He.dom.getRootNode())}:La,Qt=function(He){var Xt=At(He);return qr(Xt)?or.some(Xt):or.none()},Pe=function(He){return On.fromDom(He.dom.host)},Fe=function(He){var Xt=In(He)?He.dom.parentNode:He.dom;if(Xt==null||Xt.ownerDocument===null)return!1;var Pr=Xt.ownerDocument;return Qt(On.fromDom(Xt)).fold(function(){return Pr.body.contains(Xt)},Kt(Fe,Pe))},gr=function(He,Xt,Pr){for(var lr=He.dom,Gn=vr(Pr)?Pr:Je;lr.parentNode;){lr=lr.parentNode;var be=On.fromDom(lr);if(Xt(be))return or.some(be);if(Gn(be))break}return or.none()},Ne=function(He,Xt,Pr){return gr(He,function(lr){return hn(lr,Xt)},Pr)},Oe=function(He){return He.style!==void 0&&vr(He.style.getPropertyValue)},ut=function(He,Xt){var Pr=He.dom,lr=window.getComputedStyle(Pr),Gn=lr.getPropertyValue(Xt);return Gn===""&&!Fe(He)?br(Pr,Xt):Gn},br=function(He,Xt){return Oe(He)?He.style.getPropertyValue(Xt):""},Jr=function(He){return ut(He,"direction")==="rtl"?"rtl":"ltr"},_n=function(He,Xt){return zr(Ye(He),Xt)},$n=function(He,Xt){return _n(He,function(Pr){return hn(Pr,Xt)})},Vt=function(He){return $t(He).filter(Ft)},nt=function(He,Xt){var Pr=Xt?Ne(He,"ol,ul"):or.some(He);return Pr.getOr(He)},ct=Un("li"),bt=function(He,Xt){var Pr=He.selection.getSelectedBlocks();Pr.length>0&&(Nr(Pr,function(lr){var Gn=On.fromDom(lr),be=ct(Gn),_t=nt(Gn,be),at=Vt(_t);at.each(function(K){var Ee=Jr(K);if(Ee!==Xt?ir(_t,"dir",Xt):Jr(_t)!==Xt&&Zt(_t,"dir"),be){var st=$n(_t,"li[dir]");Nr(st,function(Tr){return Zt(Tr,"dir")})}})}),He.nodeChanged())},zt=function(He){He.addCommand("mceDirectionLTR",function(){bt(He,"ltr")}),He.addCommand("mceDirectionRTL",function(){bt(He,"rtl")})},xr=function(He,Xt){return function(Pr){var lr=function(Gn){var be=On.fromDom(Gn.element);Pr.setActive(Jr(be)===Xt)};return He.on("NodeChange",lr),function(){return He.off("NodeChange",lr)}}},Rr=function(He){He.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return He.execCommand("mceDirectionLTR")},onSetup:xr(He,"ltr")}),He.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return He.execCommand("mceDirectionRTL")},onSetup:xr(He,"rtl")})};function sr(){Ze.add("directionality",function(He){zt(He),Rr(He)})}sr()})();(function(){var Ze=function(S){var w=S,A=function(){return w},H=function(oe){w=oe};return{get:A,set:H}},_r=tinymce.util.Tools.resolve("tinymce.PluginManager"),mt=function(S){return{isFullscreen:function(){return S.get()!==null}}},Nt=function(S){var w=typeof S;return S===null?"null":w==="object"&&(Array.prototype.isPrototypeOf(S)||S.constructor&&S.constructor.name==="Array")?"array":w==="object"&&(String.prototype.isPrototypeOf(S)||S.constructor&&S.constructor.name==="String")?"string":w},gt=function(S){return function(w){return Nt(w)===S}},yr=function(S){return function(w){return typeof w===S}},ft=gt("string"),Ir=gt("array"),vr=yr("boolean"),Xr=function(S){return S==null},mr=function(S){return!Xr(S)},Kt=yr("function"),kr=yr("number"),Ot=function(){},Je=function(S,w){return function(){for(var A=[],H=0;H<arguments.length;H++)A[H]=arguments[H];return S(w.apply(null,A))}},$e=function(S,w){return function(A){return S(w(A))}},Ht=function(S){return function(){return S}},rt=function(S){return S};function nr(S){for(var w=[],A=1;A<arguments.length;A++)w[A-1]=arguments[A];return function(){for(var H=[],oe=0;oe<arguments.length;oe++)H[oe]=arguments[oe];var De=w.concat(H);return S.apply(null,De)}}var se=Ht(!1),or=Ht(!0),Me=function(){return Nr},Nr=function(){var S=function(H){return H()},w=rt,A={fold:function(H,oe){return H()},isSome:se,isNone:or,getOr:w,getOrThunk:S,getOrDie:function(H){throw new Error(H||"error: getOrDie called on none.")},getOrNull:Ht(null),getOrUndefined:Ht(void 0),or:w,orThunk:S,map:Me,each:Ot,bind:Me,exists:se,forall:or,filter:function(){return Me()},toArray:function(){return[]},toString:Ht("none()")};return A}(),zr=function(S){var w=Ht(S),A=function(){return oe},H=function(De){return De(S)},oe={fold:function(De,Lt){return Lt(S)},isSome:or,isNone:se,getOr:w,getOrThunk:w,getOrDie:w,getOrNull:w,getOrUndefined:w,or:A,orThunk:A,map:function(De){return zr(De(S))},each:function(De){De(S)},bind:H,exists:H,forall:H,filter:function(De){return De(S)?oe:Nr},toArray:function(){return[S]},toString:function(){return"some("+S+")"}};return oe},Le=function(S){return S==null?Nr:zr(S)},Dt={some:zr,none:Me,from:Le},dt=function(){return dt=Object.assign||function(w){for(var A,H=1,oe=arguments.length;H<oe;H++){A=arguments[H];for(var De in A)Object.prototype.hasOwnProperty.call(A,De)&&(w[De]=A[De])}return w},dt.apply(this,arguments)},xn=function(S){var w=Ze(Dt.none()),A=function(){return w.get().each(S)},H=function(){A(),w.set(Dt.none())},oe=function(){return w.get().isSome()},De=function(){return w.get()},Lt=function(dn){A(),w.set(Dt.some(dn))};return{clear:H,isSet:oe,get:De,set:Lt}},J=function(){return xn(function(S){return S.unbind()})},V=function(){var S=xn(Ot),w=function(A){return S.get().each(A)};return dt(dt({},S),{on:w})},Tt=Array.prototype.push,en=function(S,w){for(var A=S.length,H=new Array(A),oe=0;oe<A;oe++){var De=S[oe];H[oe]=w(De,oe)}return H},yt=function(S,w){for(var A=0,H=S.length;A<H;A++){var oe=S[A];w(oe,A)}},On=function(S,w){for(var A=[],H=0,oe=S.length;H<oe;H++){var De=S[H];w(De,H)&&A.push(De)}return A},hn=function(S,w,A){for(var H=0,oe=S.length;H<oe;H++){var De=S[H];if(w(De,H))return Dt.some(De);if(A(De,H))break}return Dt.none()},E=function(S,w){return hn(S,w,se)},Rt=function(S){for(var w=[],A=0,H=S.length;A<H;++A){if(!Ir(S[A]))throw new Error("Arr.flatten item "+A+" was not an array, input: "+S);Tt.apply(w,S[A])}return w},Ve=function(S,w){return Rt(en(S,w))},Ft=function(S,w){return w>=0&&w<S.length?Dt.some(S[w]):Dt.none()},In=function(S){return Ft(S,0)},qn=function(S,w){for(var A=0;A<S.length;A++){var H=w(S[A],A);if(H.isSome())return H}return Dt.none()},an=Object.keys,Un=function(S,w){for(var A=an(S),H=0,oe=A.length;H<oe;H++){var De=A[H],Lt=S[De];w(Lt,De)}},Z=function(S,w){return S.indexOf(w)!==-1},La=function(S){return S.style!==void 0&&Kt(S.style.getPropertyValue)},$t=function(S,w){var A=w||document,H=A.createElement("div");if(H.innerHTML=S,!H.hasChildNodes()||H.childNodes.length>1)throw console.error("HTML does not have a single root node",S),new Error("HTML must have a single root node");return ir(H.childNodes[0])},Ye=function(S,w){var A=w||document,H=A.createElement(S);return ir(H)},un=function(S,w){var A=w||document,H=A.createTextNode(S);return ir(H)},ir=function(S){if(S==null)throw new Error("Node cannot be null or undefined");return{dom:S}},Zt=function(S,w,A){return Dt.from(S.dom.elementFromPoint(w,A)).map(ir)},qr={fromHtml:$t,fromTag:Ye,fromText:un,fromDom:ir,fromPoint:Zt};typeof window<"u"||Function("return this;")();var Zr=9,At=11,Qt=1,Pe=3,Fe=function(S){return S.dom.nodeType},gr=function(S){return function(w){return Fe(w)===S}},Ne=gr(Qt),Oe=gr(Pe),ut=gr(Zr),br=gr(At),Jr=function(S){var w=!1,A;return function(){for(var H=[],oe=0;oe<arguments.length;oe++)H[oe]=arguments[oe];return w||(w=!0,A=S.apply(null,H)),A}},_n=function(S,w,A,H){var oe=S.isiOS()&&/ipad/i.test(A)===!0,De=S.isiOS()&&!oe,Lt=S.isiOS()||S.isAndroid(),dn=Lt||H("(pointer:coarse)"),Bn=oe||!De&&Lt&&H("(min-device-width:768px)"),Or=De||Lt&&!Bn,ln=w.isSafari()&&S.isiOS()&&/safari/i.test(A)===!1,na=!Or&&!Bn&&!ln;return{isiPad:Ht(oe),isiPhone:Ht(De),isTablet:Ht(Bn),isPhone:Ht(Or),isTouch:Ht(dn),isAndroid:S.isAndroid,isiOS:S.isiOS,isWebView:Ht(ln),isDesktop:Ht(na)}},$n=function(S,w){for(var A=0;A<S.length;A++){var H=S[A];if(H.test(w))return H}},Vt=function(S,w){var A=$n(S,w);if(!A)return{major:0,minor:0};var H=function(oe){return Number(w.replace(A,"$"+oe))};return bt(H(1),H(2))},nt=function(S,w){var A=String(w).toLowerCase();return S.length===0?ct():Vt(S,A)},ct=function(){return bt(0,0)},bt=function(S,w){return{major:S,minor:w}},zt={nu:bt,detect:nt,unknown:ct},xr=function(S,w){return qn(w.brands,function(A){var H=A.brand.toLowerCase();return E(S,function(oe){var De;return H===((De=oe.brand)===null||De===void 0?void 0:De.toLowerCase())}).map(function(oe){return{current:oe.name,version:zt.nu(parseInt(A.version,10),0)}})})},Rr=function(S,w){var A=String(w).toLowerCase();return E(S,function(H){return H.search(A)})},sr=function(S,w){return Rr(S,w).map(function(A){var H=zt.detect(A.versionRegexes,w);return{current:A.name,version:H}})},He=function(S,w){return Rr(S,w).map(function(A){var H=zt.detect(A.versionRegexes,w);return{current:A.name,version:H}})},Xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Pr=function(S){return function(w){return Z(w,S)}},lr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(S){return Z(S,"edge/")&&Z(S,"chrome")&&Z(S,"safari")&&Z(S,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xt],search:function(S){return Z(S,"chrome")&&!Z(S,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(S){return Z(S,"msie")||Z(S,"trident")}},{name:"Opera",versionRegexes:[Xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Pr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Pr("firefox")},{name:"Safari",versionRegexes:[Xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(S){return(Z(S,"safari")||Z(S,"mobile/"))&&Z(S,"applewebkit")}}],Gn=[{name:"Windows",search:Pr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(S){return Z(S,"iphone")||Z(S,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Pr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Pr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Pr("linux"),versionRegexes:[]},{name:"Solaris",search:Pr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Pr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Pr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],be={browsers:Ht(lr),oses:Ht(Gn)},_t="Edge",at="Chrome",K="IE",Ee="Opera",st="Firefox",Tr="Safari",cr=function(){return Fr({current:void 0,version:zt.unknown()})},Fr=function(S){var w=S.current,A=S.version,H=function(oe){return function(){return w===oe}};return{current:w,version:A,isEdge:H(_t),isChrome:H(at),isIE:H(K),isOpera:H(Ee),isFirefox:H(st),isSafari:H(Tr)}},ia={unknown:cr,nu:Fr},Za="Windows",Fa="iOS",Ha="Android",zo="Linux",ci="OSX",Oo="Solaris",mo="FreeBSD",Jo="ChromeOS",ua=function(){return Lo({current:void 0,version:zt.unknown()})},Lo=function(S){var w=S.current,A=S.version,H=function(oe){return function(){return w===oe}};return{current:w,version:A,isWindows:H(Za),isiOS:H(Fa),isAndroid:H(Ha),isOSX:H(ci),isLinux:H(zo),isSolaris:H(Oo),isFreeBSD:H(mo),isChromeOS:H(Jo)}},fn={unknown:ua,nu:Lo},Ui=function(S,w,A){var H=be.browsers(),oe=be.oses(),De=w.bind(function(Bn){return xr(H,Bn)}).orThunk(function(){return sr(H,S)}).fold(ia.unknown,ia.nu),Lt=He(oe,S).fold(fn.unknown,fn.nu),dn=_n(Lt,De,S,A);return{browser:De,os:Lt,deviceType:dn}},Ho={detect:Ui},Qo=function(S){return window.matchMedia(S).matches},Do=Jr(function(){return Ho.detect(navigator.userAgent,Dt.from(navigator.userAgentData),Qo)}),vi=function(){return Do()},ji=function(S,w){var A=S.dom;if(A.nodeType!==Qt)return!1;var H=A;if(H.matches!==void 0)return H.matches(w);if(H.msMatchesSelector!==void 0)return H.msMatchesSelector(w);if(H.webkitMatchesSelector!==void 0)return H.webkitMatchesSelector(w);if(H.mozMatchesSelector!==void 0)return H.mozMatchesSelector(w);throw new Error("Browser lacks native selectors")},si=function(S){return S.nodeType!==Qt&&S.nodeType!==Zr&&S.nodeType!==At||S.childElementCount===0},Ji=function(S,w){var A=document;return si(A)?[]:en(A.querySelectorAll(S),qr.fromDom)},ie=function(S,w){return S.dom===w.dom},Ce=function(S){return qr.fromDom(S.dom.ownerDocument)},le=function(S){return ut(S)?S:Ce(S)},Ke=function(S){return Dt.from(S.dom.parentNode).map(qr.fromDom)},Cr=function(S,w){for(var A=Kt(w)?w:se,H=S.dom,oe=[];H.parentNode!==null&&H.parentNode!==void 0;){var De=H.parentNode,Lt=qr.fromDom(De);if(oe.push(Lt),A(Lt)===!0)break;H=De}return oe},Gr=function(S){var w=function(A){return On(A,function(H){return!ie(S,H)})};return Ke(S).map(re).map(w).getOr([])},re=function(S){return en(S.dom.childNodes,qr.fromDom)},me=function(S){return br(S)&&mr(S.dom.host)},Xe=Kt(Element.prototype.attachShadow)&&Kt(Node.prototype.getRootNode),St=Ht(Xe),N=Xe?function(S){return qr.fromDom(S.dom.getRootNode())}:le,X=function(S){var w=N(S);return me(w)?Dt.some(w):Dt.none()},ve=function(S){return qr.fromDom(S.dom.host)},_e=function(S){if(St()&&mr(S.target)){var w=qr.fromDom(S.target);if(Ne(w)&&Ue(w)&&S.composed&&S.composedPath){var A=S.composedPath();if(A)return In(A)}}return Dt.from(S.target)},Ue=function(S){return mr(S.dom.shadowRoot)},qe=function(S){var w=Oe(S)?S.dom.parentNode:S.dom;if(w==null||w.ownerDocument===null)return!1;var A=w.ownerDocument;return X(qr.fromDom(w)).fold(function(){return A.body.contains(w)},$e(qe,ve))},pr=function(S){var w=S.dom.body;if(w==null)throw new Error("Body is not available yet");return qr.fromDom(w)},$r=function(S,w,A){if(ft(A)||vr(A)||kr(A))S.setAttribute(w,A+"");else throw console.error("Invalid call to Attribute.set. Key ",w,":: Value ",A,":: Element ",S),new Error("Attribute value was not simple")},Cn=function(S,w,A){$r(S.dom,w,A)},et=function(S,w){var A=S.dom.getAttribute(w);return A===null?void 0:A},pn=function(S,w){S.dom.removeAttribute(w)},Kn=function(S,w,A){if(!ft(A))throw console.error("Invalid call to CSS.set. Property ",w,":: Value ",A,":: Element ",S),new Error("CSS value must be a string: "+A);La(S)&&S.style.setProperty(w,A)},Na=function(S,w){var A=S.dom;Un(w,function(H,oe){Kn(A,oe,H)})},Eo=function(S,w){var A=S.dom,H=window.getComputedStyle(A),oe=H.getPropertyValue(w);return oe===""&&!qe(S)?ca(A,w):oe},ca=function(S,w){return La(S)?S.style.getPropertyValue(w):""},zu=function(S,w,A,H,oe,De,Lt){return{target:S,x:w,y:A,stop:H,prevent:oe,kill:De,raw:Lt}},lu=function(S){var w=qr.fromDom(_e(S).getOr(S.target)),A=function(){return S.stopPropagation()},H=function(){return S.preventDefault()},oe=Je(H,A);return zu(w,S.clientX,S.clientY,A,H,oe,S)},So=function(S,w){return function(A){S(A)&&w(lu(A))}},Yu=function(S,w,A,H,oe){var De=So(A,H);return S.dom.addEventListener(w,De,oe),{unbind:nr(Ci,S,w,De,oe)}},yi=function(S,w,A,H){return Yu(S,w,A,H,!1)},Ci=function(S,w,A,H){S.dom.removeEventListener(w,A,H)},oo=or,Bc=function(S,w,A){return yi(S,w,oo,A)},Y=function(S,w){var A=function(H,oe){return Y(S+H,w+oe)};return{left:S,top:w,translate:A}},ye=Y,We=function(S){var w=S!==void 0?S.dom:document,A=w.body.scrollLeft||w.documentElement.scrollLeft,H=w.body.scrollTop||w.documentElement.scrollTop;return ye(A,H)},Et=function(S){var w=S===void 0?window:S;return vi().browser.isFirefox()?Dt.none():Dt.from(w.visualViewport)},Lr=function(S,w,A,H){return{x:S,y:w,width:A,height:H,right:S+A,bottom:w+H}},tn=function(S){var w=S===void 0?window:S,A=w.document,H=We(qr.fromDom(A));return Et(w).fold(function(){var oe=w.document.documentElement,De=oe.clientWidth,Lt=oe.clientHeight;return Lr(H.left,H.top,De,Lt)},function(oe){return Lr(Math.max(oe.pageLeft,H.left),Math.max(oe.pageTop,H.top),oe.width,oe.height)})},vn=function(S,w,A){return Et(A).map(function(H){var oe=function(De){return w(lu(De))};return H.addEventListener(S,oe),{unbind:function(){return H.removeEventListener(S,oe)}}}).getOrThunk(function(){return{unbind:Ot}})},da=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),j=tinymce.util.Tools.resolve("tinymce.Env"),he=tinymce.util.Tools.resolve("tinymce.util.Delay"),Re=function(S,w){S.fire("FullscreenStateChanged",{state:w}),S.fire("ResizeEditor")},ot=function(S){return S.getParam("fullscreen_native",!1,"boolean")},Bt=function(S){var w=qr.fromDom(S.getElement());return X(w).map(ve).getOrThunk(function(){return pr(Ce(w))})},Kr=function(S){return S.fullscreenElement!==void 0?S.fullscreenElement:S.msFullscreenElement!==void 0?S.msFullscreenElement:S.webkitFullscreenElement!==void 0?S.webkitFullscreenElement:null},yn=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},xa=function(S){var w=S.dom;w.requestFullscreen?w.requestFullscreen():w.msRequestFullscreen?w.msRequestFullscreen():w.webkitRequestFullScreen&&w.webkitRequestFullScreen()},ra=function(S){var w=S.dom;w.exitFullscreen?w.exitFullscreen():w.msExitFullscreen?w.msExitFullscreen():w.webkitCancelFullScreen&&w.webkitCancelFullScreen()},Va=function(S){return S.dom===Kr(Ce(S).dom)},so=function(S,w,A){return On(Cr(S,A),w)},Eu=function(S,w){return On(Gr(S),w)},Wo=function(S){return Ji(S)},wn=function(S,w,A){return so(S,function(H){return ji(H,w)},A)},dr=function(S,w){return Eu(S,function(A){return ji(A,w)})},ja="data-ephox-mobile-fullscreen-style",qo="display:none!important;",wa="position:absolute!important;",Mc="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",Zu="background-color:rgb(255,255,255)!important;",_s=j.os.isAndroid(),Ra=function(S){var w=Eo(S,"background-color");return w!==void 0&&w!==""?"background-color:"+w+"!important":Zu},Di=function(S,w,A){var H=function(Or){return dr(Or,"*:not(.tox-silver-sink)")},oe=function(Or){return function(ln){var na=et(ln,"style"),ta=na===void 0?"no-styles":na.trim();ta!==Or&&(Cn(ln,ja,ta),Na(ln,S.parseStyle(Or)))}},De=wn(w,"*"),Lt=Ve(De,H),dn=Ra(A);yt(Lt,oe(qo)),yt(De,oe(wa+Mc+dn));var Bn=_s===!0?"":wa;oe(Bn+Mc+dn)(w)},Cs=function(S){var w=Wo("["+ja+"]");yt(w,function(A){var H=et(A,ja);H!=="no-styles"?Na(A,S.parseStyle(H)):pn(A,"style"),pn(A,ja)})},Au=da.DOM,Bo=function(){return tn(window)},Nc=function(S){return window.scrollTo(S.x,S.y)},wt=Et().fold(function(){return{bind:Ot,unbind:Ot}},function(S){var w=V(),A=J(),H=J(),oe=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},De=function(){window.requestAnimationFrame(function(){w.on(function(Or){return Na(Or,{top:S.offsetTop+"px",left:S.offsetLeft+"px",height:S.height+"px",width:S.width+"px"})})})},Lt=he.throttle(function(){oe(),De()},50),dn=function(Or){w.set(Or),Lt(),A.set(vn("resize",Lt)),H.set(vn("scroll",Lt))},Bn=function(){w.on(function(){A.clear(),H.clear()}),w.clear()};return{bind:dn,unbind:Bn}}),ts=function(S,w){var A=document.body,H=document.documentElement,oe=S.getContainer(),De=qr.fromDom(oe),Lt=Bt(S),dn=w.get(),Bn=qr.fromDom(S.getBody()),Or=j.deviceType.isTouch(),ln=oe.style,na=S.iframeElement,ta=na.style,jn=function(Wa){Wa(A,"tox-fullscreen"),Wa(H,"tox-fullscreen"),Wa(oe,"tox-fullscreen"),X(De).map(function(Ri){return ve(Ri).dom}).each(function(Ri){Wa(Ri,"tox-fullscreen"),Wa(Ri,"tox-shadowhost")})},go=function(){Or&&Cs(S.dom),jn(Au.removeClass),wt.unbind(),Dt.from(w.get()).each(function(Wa){return Wa.fullscreenChangeHandler.unbind()})};if(dn)dn.fullscreenChangeHandler.unbind(),ot(S)&&Va(Lt)&&ra(Ce(Lt)),ta.width=dn.iframeWidth,ta.height=dn.iframeHeight,ln.width=dn.containerWidth,ln.height=dn.containerHeight,ln.top=dn.containerTop,ln.left=dn.containerLeft,go(),Nc(dn.scrollPos),w.set(null),Re(S,!1),S.off("remove",go);else{var Ln=Bc(Ce(Lt),yn(),function(Wa){ot(S)&&!Va(Lt)&&w.get()!==null&&ts(S,w)}),to={scrollPos:Bo(),containerWidth:ln.width,containerHeight:ln.height,containerTop:ln.top,containerLeft:ln.left,iframeWidth:ta.width,iframeHeight:ta.height,fullscreenChangeHandler:Ln};Or&&Di(S.dom,De,Bn),ta.width=ta.height="100%",ln.width=ln.height="",jn(Au.addClass),wt.bind(De),S.on("remove",go),w.set(to),ot(S)&&xa(Lt),Re(S,!0)}},Mo=function(S,w){S.addCommand("mceFullScreen",function(){ts(S,w)})},vl=function(S,w){return function(A){A.setActive(w.get()!==null);var H=function(oe){return A.setActive(oe.state)};return S.on("FullscreenStateChanged",H),function(){return S.off("FullscreenStateChanged",H)}}},hc=function(S,w){var A=function(){return S.execCommand("mceFullScreen")};S.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:A,onSetup:vl(S,w)}),S.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:A,onSetup:vl(S,w)})};function P(){_r.add("fullscreen",function(S){var w=Ze(null);return S.inline||(Mo(S,w),hc(S,w),S.addShortcut("Meta+Shift+F","","mceFullScreen")),mt(w)})}P()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=tinymce.util.Tools.resolve("tinymce.util.Tools"),mt=function(mr){return mr.getParam("noneditable_noneditable_class","mceNonEditable")},Nt=function(mr){return mr.getParam("noneditable_editable_class","mceEditable")},gt=function(mr){var Kt=mr.getParam("noneditable_regexp",[]);return Kt&&Kt.constructor===RegExp?[Kt]:Kt},yr=function(mr){return function(Kt){return(" "+Kt.attr("class")+" ").indexOf(mr)!==-1}},ft=function(mr,Kt,kr){return function(Ot){var Je=arguments,$e=Je[Je.length-2],Ht=$e>0?Kt.charAt($e-1):"";if(Ht==='"')return Ot;if(Ht===">"){var rt=Kt.lastIndexOf("<",$e);if(rt!==-1){var nr=Kt.substring(rt,$e);if(nr.indexOf('contenteditable="false"')!==-1)return Ot}}return'<span class="'+kr+'" data-mce-content="'+mr.dom.encode(Je[0])+'">'+mr.dom.encode(typeof Je[1]=="string"?Je[1]:Je[0])+"</span>"}},Ir=function(mr,Kt,kr){var Ot=Kt.length,Je=kr.content;if(kr.format!=="raw"){for(;Ot--;)Je=Je.replace(Kt[Ot],ft(mr,Je,mt(mr)));kr.content=Je}},vr=function(mr){var Kt="contenteditable",kr=" "+_r.trim(Nt(mr))+" ",Ot=" "+_r.trim(mt(mr))+" ",Je=yr(kr),$e=yr(Ot),Ht=gt(mr);mr.on("PreInit",function(){Ht.length>0&&mr.on("BeforeSetContent",function(rt){Ir(mr,Ht,rt)}),mr.parser.addAttributeFilter("class",function(rt){for(var nr=rt.length,se;nr--;)se=rt[nr],Je(se)?se.attr(Kt,"true"):$e(se)&&se.attr(Kt,"false")}),mr.serializer.addAttributeFilter(Kt,function(rt){for(var nr=rt.length,se;nr--;)se=rt[nr],!(!Je(se)&&!$e(se))&&(Ht.length>0&&se.attr("data-mce-content")?(se.name="#text",se.type=3,se.raw=!0,se.value=se.attr("data-mce-content")):se.attr(Kt,null))})})};function Xr(){Ze.add("noneditable",function(mr){vr(mr)})}Xr()})();(function(){var Ze=function(be){var _t=be,at=function(){return _t},K=function(Ee){_t=Ee};return{get:at,set:K}},_r=tinymce.util.Tools.resolve("tinymce.PluginManager"),mt=function(be){var _t=function(){return be.get()};return{isEnabled:_t}},Nt=function(be,_t){return be.fire("VisualChars",{state:_t})},gt=function(be){var _t=typeof be;return be===null?"null":_t==="object"&&(Array.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="Array")?"array":_t==="object"&&(String.prototype.isPrototypeOf(be)||be.constructor&&be.constructor.name==="String")?"string":_t},yr=function(be){return function(_t){return gt(_t)===be}},ft=function(be){return function(_t){return typeof _t===be}},Ir=yr("string"),vr=ft("boolean"),Xr=ft("number"),mr=function(){},Kt=function(be){return function(){return be}},kr=function(be){return be},Ot=Kt(!1),Je=Kt(!0),$e=function(){return Ht},Ht=function(){var be=function(K){return K()},_t=kr,at={fold:function(K,Ee){return K()},isSome:Ot,isNone:Je,getOr:_t,getOrThunk:be,getOrDie:function(K){throw new Error(K||"error: getOrDie called on none.")},getOrNull:Kt(null),getOrUndefined:Kt(void 0),or:_t,orThunk:be,map:$e,each:mr,bind:$e,exists:Ot,forall:Je,filter:function(){return $e()},toArray:function(){return[]},toString:Kt("none()")};return at}(),rt=function(be){var _t=Kt(be),at=function(){return Ee},K=function(st){return st(be)},Ee={fold:function(st,Tr){return Tr(be)},isSome:Je,isNone:Ot,getOr:_t,getOrThunk:_t,getOrDie:_t,getOrNull:_t,getOrUndefined:_t,or:at,orThunk:at,map:function(st){return rt(st(be))},each:function(st){st(be)},bind:K,exists:K,forall:K,filter:function(st){return st(be)?Ee:Ht},toArray:function(){return[be]},toString:function(){return"some("+be+")"}};return Ee},nr=function(be){return be==null?Ht:rt(be)},se={some:rt,none:$e,from:nr},or=function(be,_t){for(var at=be.length,K=new Array(at),Ee=0;Ee<at;Ee++){var st=be[Ee];K[Ee]=_t(st,Ee)}return K},Me=function(be,_t){for(var at=0,K=be.length;at<K;at++){var Ee=be[at];_t(Ee,at)}},Nr=function(be,_t){for(var at=[],K=0,Ee=be.length;K<Ee;K++){var st=be[K];_t(st,K)&&at.push(st)}return at},zr=Object.keys,Le=function(be,_t){for(var at=zr(be),K=0,Ee=at.length;K<Ee;K++){var st=at[K],Tr=be[st];_t(Tr,st)}};typeof window<"u"||Function("return this;")();var Dt=3,dt=function(be){return be.dom.nodeType},xn=function(be){return be.dom.nodeValue},J=function(be){return function(_t){return dt(_t)===be}},V=J(Dt),Tt=function(be,_t,at){if(Ir(at)||vr(at)||Xr(at))be.setAttribute(_t,at+"");else throw console.error("Invalid call to Attribute.set. Key ",_t,":: Value ",at,":: Element ",be),new Error("Attribute value was not simple")},en=function(be,_t,at){Tt(be.dom,_t,at)},yt=function(be,_t){var at=be.dom.getAttribute(_t);return at===null?void 0:at},On=function(be,_t){be.dom.removeAttribute(_t)},hn=function(be,_t){var at=yt(be,_t);return at===void 0||at===""?[]:at.split(" ")},E=function(be,_t,at){var K=hn(be,_t),Ee=K.concat([at]);return en(be,_t,Ee.join(" ")),!0},Rt=function(be,_t,at){var K=Nr(hn(be,_t),function(Ee){return Ee!==at});return K.length>0?en(be,_t,K.join(" ")):On(be,_t),!1},Ve=function(be){return be.dom.classList!==void 0},Ft=function(be){return hn(be,"class")},In=function(be,_t){return E(be,"class",_t)},qn=function(be,_t){return Rt(be,"class",_t)},an=function(be,_t){Ve(be)?be.dom.classList.add(_t):In(be,_t)},Un=function(be){var _t=Ve(be)?be.dom.classList:Ft(be);_t.length===0&&On(be,"class")},Z=function(be,_t){if(Ve(be)){var at=be.dom.classList;at.remove(_t)}else qn(be,_t);Un(be)},La=function(be,_t){var at=_t||document,K=at.createElement("div");if(K.innerHTML=be,!K.hasChildNodes()||K.childNodes.length>1)throw console.error("HTML does not have a single root node",be),new Error("HTML must have a single root node");return un(K.childNodes[0])},$t=function(be,_t){var at=_t||document,K=at.createElement(be);return un(K)},Ye=function(be,_t){var at=_t||document,K=at.createTextNode(be);return un(K)},un=function(be){if(be==null)throw new Error("Node cannot be null or undefined");return{dom:be}},ir=function(be,_t,at){return se.from(be.dom.elementFromPoint(_t,at)).map(un)},Zt={fromHtml:La,fromTag:$t,fromText:Ye,fromDom:un,fromPoint:ir},qr={" ":"nbsp","­":"shy"},Zr=function(be,_t){var at="";return Le(be,function(K,Ee){at+=Ee}),new RegExp("["+at+"]",_t?"g":"")},At=function(be){var _t="";return Le(be,function(at){_t&&(_t+=","),_t+="span.mce-"+at}),_t},Qt=Zr(qr),Pe=Zr(qr,!0),Fe=At(qr),gr="mce-nbsp",Ne=function(be){return'<span data-mce-bogus="1" class="mce-'+qr[be]+'">'+be+"</span>"},Oe=function(be){var _t=xn(be);return V(be)&&_t!==void 0&&Qt.test(_t)},ut=function(be,_t){var at=[],K=be.dom,Ee=or(K.childNodes,Zt.fromDom);return Me(Ee,function(st){_t(st)&&(at=at.concat([st])),at=at.concat(ut(st,_t))}),at},br=function(be,_t){for(;be.parentNode;){if(be.parentNode===_t)return be;be=be.parentNode}},Jr=function(be){return be.replace(Pe,Ne)},_n=function(be){return be.nodeName.toLowerCase()==="span"&&be.classList.contains("mce-nbsp-wrap")},$n=function(be,_t){var at=ut(Zt.fromDom(_t),Oe);Me(at,function(K){var Ee=K.dom.parentNode;if(_n(Ee))an(Zt.fromDom(Ee),gr);else{for(var st=Jr(be.dom.encode(xn(K))),Tr=be.dom.create("div",null,st),cr=void 0;cr=Tr.lastChild;)be.dom.insertAfter(cr,K.dom);be.dom.remove(K.dom)}})},Vt=function(be,_t){var at=be.dom.select(Fe,_t);Me(at,function(K){_n(K)?Z(Zt.fromDom(K),gr):be.dom.remove(K,!0)})},nt=function(be){var _t=be.getBody(),at=be.selection.getBookmark(),K=br(be.selection.getNode(),_t);K=K!==void 0?K:_t,Vt(be,K),$n(be,K),be.selection.moveToBookmark(at)},ct=function(be,_t){Nt(be,_t.get());var at=be.getBody();_t.get()===!0?$n(be,at):Vt(be,at)},bt=function(be,_t){_t.set(!_t.get());var at=be.selection.getBookmark();ct(be,_t),be.selection.moveToBookmark(at)},zt=function(be,_t){be.addCommand("mceVisualChars",function(){bt(be,_t)})},xr=function(be){return be.getParam("visualchars_default_state",!1)},Rr=function(be){return be.getParam("forced_root_block")!==!1},sr=function(be,_t){be.on("init",function(){ct(be,_t)})},He=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xt=function(be,_t){var at=He.debounce(function(){nt(be)},300);Rr(be)&&be.on("keydown",function(K){_t.get()===!0&&(K.keyCode===13?nt(be):at())}),be.on("remove",at.stop)},Pr=function(be,_t){return function(at){at.setActive(_t.get());var K=function(Ee){return at.setActive(Ee.state)};return be.on("VisualChars",K),function(){return be.off("VisualChars",K)}}},lr=function(be,_t){var at=function(){return be.execCommand("mceVisualChars")};be.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:at,onSetup:Pr(be,_t)}),be.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:at,onSetup:Pr(be,_t)})};function Gn(){_r.add("visualchars",function(be){var _t=Ze(xr(be));return zt(be,_t),lr(be,_t),Xt(be,_t),sr(be,_t),mt(_t)})}Gn()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(Ne){return function(Oe){return Ne===Oe}},mt=_r(null),Nt=function(){},gt=function(Ne){return function(){return Ne}},yr=function(Ne){return Ne},ft=gt(!1),Ir=gt(!0),vr=function(){return Xr},Xr=function(){var Ne=function(br){return br()},Oe=yr,ut={fold:function(br,Jr){return br()},isSome:ft,isNone:Ir,getOr:Oe,getOrThunk:Ne,getOrDie:function(br){throw new Error(br||"error: getOrDie called on none.")},getOrNull:gt(null),getOrUndefined:gt(void 0),or:Oe,orThunk:Ne,map:vr,each:Nt,bind:vr,exists:ft,forall:Ir,filter:function(){return vr()},toArray:function(){return[]},toString:gt("none()")};return ut}(),mr=function(Ne){var Oe=gt(Ne),ut=function(){return Jr},br=function(_n){return _n(Ne)},Jr={fold:function(_n,$n){return $n(Ne)},isSome:Ir,isNone:ft,getOr:Oe,getOrThunk:Oe,getOrDie:Oe,getOrNull:Oe,getOrUndefined:Oe,or:ut,orThunk:ut,map:function(_n){return mr(_n(Ne))},each:function(_n){_n(Ne)},bind:br,exists:br,forall:br,filter:function(_n){return _n(Ne)?Jr:Xr},toArray:function(){return[Ne]},toString:function(){return"some("+Ne+")"}};return Jr},Kt=function(Ne){return Ne==null?Xr:mr(Ne)},kr={some:mr,none:vr,from:Kt},Ot=function(Ne,Oe){for(var ut=0,br=Ne.length;ut<br;ut++){var Jr=Ne[ut];if(Oe(Jr,ut))return!0}return!1},Je=function(Ne,Oe){for(var ut=Ne.length,br=new Array(ut),Jr=0;Jr<ut;Jr++){var _n=Ne[Jr];br[Jr]=Oe(_n,Jr)}return br},$e=function(Ne,Oe){for(var ut=0,br=Ne.length;ut<br;ut++){var Jr=Ne[ut];Oe(Jr,ut)}},Ht=function(Ne){var Oe=Ne,ut=function(){return Oe},br=function(Jr){Oe=Jr};return{get:ut,set:br}},rt=function(Ne,Oe){var ut=null,br=function(){mt(ut)||(clearTimeout(ut),ut=null)},Jr=function(){for(var _n=[],$n=0;$n<arguments.length;$n++)_n[$n]=arguments[$n];br(),ut=setTimeout(function(){ut=null,Ne.apply(null,_n)},Oe)};return{cancel:br,throttle:Jr}},nr=function(Ne,Oe){Ne.insertContent(Oe)},se=function(){return se=Object.assign||function(Oe){for(var ut,br=1,Jr=arguments.length;br<Jr;br++){ut=arguments[br];for(var _n in ut)Object.prototype.hasOwnProperty.call(ut,_n)&&(Oe[_n]=ut[_n])}return Oe},se.apply(this,arguments)},or=Object.keys,Me=Object.hasOwnProperty,Nr=function(Ne,Oe){for(var ut=or(Ne),br=0,Jr=ut.length;br<Jr;br++){var _n=ut[br],$n=Ne[_n];Oe($n,_n)}},zr=function(Ne,Oe){return Le(Ne,function(ut,br){return{k:br,v:Oe(ut,br)}})},Le=function(Ne,Oe){var ut={};return Nr(Ne,function(br,Jr){var _n=Oe(br,Jr);ut[_n.k]=_n.v}),ut},Dt=function(Ne,Oe){return Me.call(Ne,Oe)},dt=function(Ne,Oe){return Oe},xn=function(Ne){return function(){for(var Oe=[],ut=0;ut<arguments.length;ut++)Oe[ut]=arguments[ut];if(Oe.length===0)throw new Error("Can't merge zero objects");for(var br={},Jr=0;Jr<Oe.length;Jr++){var _n=Oe[Jr];for(var $n in _n)Dt(_n,$n)&&(br[$n]=Ne(br[$n],_n[$n]))}return br}},J=xn(dt),V=function(Ne){var Oe=Ht(kr.none()),ut=function(){return Oe.get().each(Ne)},br=function(){ut(),Oe.set(kr.none())},Jr=function(){return Oe.get().isSome()},_n=function(){return Oe.get()},$n=function(Vt){ut(),Oe.set(kr.some(Vt))};return{clear:br,isSet:Jr,get:_n,set:$n}},Tt=function(){var Ne=V(Nt),Oe=function(ut){return Ne.get().each(ut)};return se(se({},Ne),{on:Oe})},en=function(Ne,Oe,ut){return Oe===""||Ne.length>=Oe.length&&Ne.substr(ut,ut+Oe.length)===Oe},yt=function(Ne,Oe){return Ne.indexOf(Oe)!==-1},On=function(Ne,Oe){return en(Ne,Oe,0)},hn=tinymce.util.Tools.resolve("tinymce.Resource"),E=tinymce.util.Tools.resolve("tinymce.util.Delay"),Rt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ve="tinymce.plugins.emoticons",Ft=function(Ne){return Ne.getParam("emoticons_database","emojis","string")},In=function(Ne,Oe){var ut=Ft(Ne);return Ne.getParam("emoticons_database_url",Oe+"/js/"+ut+Ne.suffix+".js","string")},qn=function(Ne){return Ne.getParam("emoticons_database_id",Ve,"string")},an=function(Ne){return Ne.getParam("emoticons_append",{},"object")},Un=function(Ne){return Ne.getParam("emoticons_images_url","https://twemoji.maxcdn.com/v/13.0.1/72x72/","string")},Z="All",La={symbols:"Symbols",people:"People",animals_and_nature:"Animals and Nature",food_and_drink:"Food and Drink",activity:"Activity",travel_and_places:"Travel and Places",objects:"Objects",flags:"Flags",user:"User Defined"},$t=function(Ne,Oe){return Dt(Ne,Oe)?Ne[Oe]:Oe},Ye=function(Ne){var Oe=an(Ne);return zr(Oe,function(ut){return se({keywords:[],category:"user"},ut)})},un=function(Ne,Oe,ut){var br=Tt(),Jr=Tt(),_n=Un(Ne),$n=function(Rr){return On(Rr.char,"<img")?Rr.char.replace(/src="([^"]+)"/,function(sr,He){return'src="'+_n+He+'"'}):Rr.char},Vt=function(Rr){var sr={},He=[];Nr(Rr,function(Xt,Pr){var lr={title:Pr,keywords:Xt.keywords,char:$n(Xt),category:$t(La,Xt.category)},Gn=sr[lr.category]!==void 0?sr[lr.category]:[];sr[lr.category]=Gn.concat([lr]),He.push(lr)}),br.set(sr),Jr.set(He)};Ne.on("init",function(){hn.load(ut,Oe).then(function(Rr){var sr=Ye(Ne);Vt(J(Rr,sr))},function(Rr){console.log("Failed to load emoticons: "+Rr),br.set({}),Jr.set([])})});var nt=function(Rr){return Rr===Z?ct():br.get().bind(function(sr){return kr.from(sr[Rr])}).getOr([])},ct=function(){return Jr.get().getOr([])},bt=function(){return[Z].concat(or(br.get().getOr({})))},zt=function(){return xr()?Rt.resolve(!0):new Rt(function(Rr,sr){var He=15,Xt=E.setInterval(function(){xr()?(E.clearInterval(Xt),Rr(!0)):(He--,He<0&&(console.log("Could not load emojis from url: "+Oe),E.clearInterval(Xt),sr(!1)))},100)})},xr=function(){return br.isSet()&&Jr.isSet()};return{listCategories:bt,hasLoaded:xr,waitForLoad:zt,listAll:ct,listCategory:nt}},ir=function(Ne,Oe){return yt(Ne.title.toLowerCase(),Oe)||Ot(Ne.keywords,function(ut){return yt(ut.toLowerCase(),Oe)})},Zt=function(Ne,Oe,ut){for(var br=[],Jr=Oe.toLowerCase(),_n=ut.fold(function(){return ft},function(Vt){return function(nt){return nt>=Vt}}),$n=0;$n<Ne.length&&!((Oe.length===0||ir(Ne[$n],Jr))&&(br.push({value:Ne[$n].char,text:Ne[$n].title,icon:Ne[$n].char}),_n(br.length)));$n++);return br},qr="pattern",Zr=function(Ne,Oe){var ut={pattern:"",results:Zt(Oe.listAll(),"",kr.some(300))},br=Ht(Z),Jr=function(bt){var zt=bt.getData(),xr=br.get(),Rr=Oe.listCategory(xr),sr=Zt(Rr,zt[qr],xr===Z?kr.some(300):kr.none());bt.setData({results:sr})},_n=rt(function(bt){Jr(bt)},200),$n={label:"Search",type:"input",name:qr},Vt={type:"collection",name:"results"},nt=function(){var bt={type:"tabpanel",tabs:Je(Oe.listCategories(),function(zt){return{title:zt,name:zt,items:[$n,Vt]}})};return{title:"Emoticons",size:"normal",body:bt,initialData:ut,onTabChange:function(zt,xr){br.set(xr.newTabName),_n.throttle(zt)},onChange:_n.throttle,onAction:function(zt,xr){xr.name==="results"&&(nr(Ne,xr.value),zt.close())},buttons:[{type:"cancel",text:"Close",primary:!0}]}},ct=Ne.windowManager.open(nt());ct.focus(qr),Oe.hasLoaded()||(ct.block("Loading emoticons..."),Oe.waitForLoad().then(function(){ct.redial(nt()),_n.throttle(ct),ct.focus(qr),ct.unblock()}).catch(function(bt){ct.redial({title:"Emoticons",body:{type:"panel",items:[{type:"alertbanner",level:"error",icon:"warning",text:"<p>Could not load emoticons</p>"}]},buttons:[{type:"cancel",text:"Close",primary:!0}],initialData:{pattern:"",results:[]}}),ct.focus(qr),ct.unblock()}))},At=function(Ne,Oe){Ne.addCommand("mceEmoticons",function(){return Zr(Ne,Oe)})},Qt=function(Ne){Ne.on("PreInit",function(){Ne.parser.addAttributeFilter("data-emoticon",function(Oe){$e(Oe,function(ut){ut.attr("data-mce-resize","false"),ut.attr("data-mce-placeholder","1")})})})},Pe=function(Ne,Oe){Ne.ui.registry.addAutocompleter("emoticons",{ch:":",columns:"auto",minChars:2,fetch:function(ut,br){return Oe.waitForLoad().then(function(){var Jr=Oe.listAll();return Zt(Jr,ut,kr.some(br))})},onAction:function(ut,br,Jr){Ne.selection.setRng(br),Ne.insertContent(Jr),ut.hide()}})},Fe=function(Ne){var Oe=function(){return Ne.execCommand("mceEmoticons")};Ne.ui.registry.addButton("emoticons",{tooltip:"Emoticons",icon:"emoji",onAction:Oe}),Ne.ui.registry.addMenuItem("emoticons",{text:"Emoticons...",icon:"emoji",onAction:Oe})};function gr(){Ze.add("emoticons",function(Ne,Oe){var ut=In(Ne,Oe),br=qn(Ne),Jr=un(Ne,ut,br);At(Ne,Jr),Fe(Ne),Pe(Ne,Jr),Qt(Ne)})}gr()})();window.tinymce.Resource.add("tinymce.plugins.emoticons",{grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grimacing:{keywords:["face","grimace","teeth"],char:"😬",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},joy:{keywords:["face","cry","tears","weep","happy","happytears","haha"],char:"😂",fitzpatrick_scale:!1,category:"people"},rofl:{keywords:["face","rolling","floor","laughing","lol","haha"],char:"🤣",fitzpatrick_scale:!1,category:"people"},partying:{keywords:["face","celebration","woohoo"],char:"🥳",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},upside_down_face:{keywords:["face","flipped","silly","smile"],char:"🙃",fitzpatrick_scale:!1,category:"people"},relaxed:{keywords:["face","blush","massage","happiness"],char:"☺️",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},relieved:{keywords:["face","relaxed","phew","massage","happiness"],char:"😌",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},smiling_face_with_three_hearts:{keywords:["face","love","like","affection","valentines","infatuation","crush","hearts","adore"],char:"🥰",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},zany:{keywords:["face","goofy","crazy"],char:"🤪",fitzpatrick_scale:!1,category:"people"},raised_eyebrow:{keywords:["face","distrust","scepticism","disapproval","disbelief","surprise"],char:"🤨",fitzpatrick_scale:!1,category:"people"},monocle:{keywords:["face","stuffy","wealthy"],char:"🧐",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},money_mouth_face:{keywords:["face","rich","dollar","money"],char:"🤑",fitzpatrick_scale:!1,category:"people"},nerd_face:{keywords:["face","nerdy","geek","dork"],char:"🤓",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},star_struck:{keywords:["face","smile","starry","eyes","grinning"],char:"🤩",fitzpatrick_scale:!1,category:"people"},clown_face:{keywords:["face"],char:"🤡",fitzpatrick_scale:!1,category:"people"},cowboy_hat_face:{keywords:["face","cowgirl","hat"],char:"🤠",fitzpatrick_scale:!1,category:"people"},hugs:{keywords:["face","smile","hug"],char:"🤗",fitzpatrick_scale:!1,category:"people"},smirk:{keywords:["face","smile","mean","prank","smug","sarcasm"],char:"😏",fitzpatrick_scale:!1,category:"people"},no_mouth:{keywords:["face","hellokitty"],char:"😶",fitzpatrick_scale:!1,category:"people"},neutral_face:{keywords:["indifference","meh",":|","neutral"],char:"😐",fitzpatrick_scale:!1,category:"people"},expressionless:{keywords:["face","indifferent","-_-","meh","deadpan"],char:"😑",fitzpatrick_scale:!1,category:"people"},unamused:{keywords:["indifference","bored","straight face","serious","sarcasm","unimpressed","skeptical","dubious","side_eye"],char:"😒",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},thinking:{keywords:["face","hmmm","think","consider"],char:"🤔",fitzpatrick_scale:!1,category:"people"},lying_face:{keywords:["face","lie","pinocchio"],char:"🤥",fitzpatrick_scale:!1,category:"people"},hand_over_mouth:{keywords:["face","whoops","shock","surprise"],char:"🤭",fitzpatrick_scale:!1,category:"people"},shushing:{keywords:["face","quiet","shhh"],char:"🤫",fitzpatrick_scale:!1,category:"people"},symbols_over_mouth:{keywords:["face","swearing","cursing","cussing","profanity","expletive"],char:"🤬",fitzpatrick_scale:!1,category:"people"},exploding_head:{keywords:["face","shocked","mind","blown"],char:"🤯",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},disappointed:{keywords:["face","sad","upset","depressed",":("],char:"😞",fitzpatrick_scale:!1,category:"people"},worried:{keywords:["face","concern","nervous",":("],char:"😟",fitzpatrick_scale:!1,category:"people"},angry:{keywords:["mad","face","annoyed","frustrated"],char:"😠",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},pensive:{keywords:["face","sad","depressed","upset"],char:"😔",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},slightly_frowning_face:{keywords:["face","frowning","disappointed","sad","upset"],char:"🙁",fitzpatrick_scale:!1,category:"people"},frowning_face:{keywords:["face","sad","upset","frown"],char:"☹",fitzpatrick_scale:!1,category:"people"},persevere:{keywords:["face","sick","no","upset","oops"],char:"😣",fitzpatrick_scale:!1,category:"people"},confounded:{keywords:["face","confused","sick","unwell","oops",":S"],char:"😖",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},weary:{keywords:["face","tired","sleepy","sad","frustrated","upset"],char:"😩",fitzpatrick_scale:!1,category:"people"},pleading:{keywords:["face","begging","mercy"],char:"🥺",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},open_mouth:{keywords:["face","surprise","impressed","wow","whoa",":O"],char:"😮",fitzpatrick_scale:!1,category:"people"},scream:{keywords:["face","munch","scared","omg"],char:"😱",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},cold_sweat:{keywords:["face","nervous","sweat"],char:"😰",fitzpatrick_scale:!1,category:"people"},hushed:{keywords:["face","woo","shh"],char:"😯",fitzpatrick_scale:!1,category:"people"},frowning:{keywords:["face","aw","what"],char:"😦",fitzpatrick_scale:!1,category:"people"},anguished:{keywords:["face","stunned","nervous"],char:"😧",fitzpatrick_scale:!1,category:"people"},cry:{keywords:["face","tears","sad","depressed","upset",":'("],char:"😢",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},drooling_face:{keywords:["face"],char:"🤤",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},hot:{keywords:["face","feverish","heat","red","sweating"],char:"🥵",fitzpatrick_scale:!1,category:"people"},cold:{keywords:["face","blue","freezing","frozen","frostbite","icicles"],char:"🥶",fitzpatrick_scale:!1,category:"people"},sob:{keywords:["face","cry","tears","sad","upset","depressed"],char:"😭",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},zipper_mouth_face:{keywords:["face","sealed","zipper","secret"],char:"🤐",fitzpatrick_scale:!1,category:"people"},nauseated_face:{keywords:["face","vomit","gross","green","sick","throw up","ill"],char:"🤢",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},vomiting:{keywords:["face","sick"],char:"🤮",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},woozy:{keywords:["face","dizzy","intoxicated","tipsy","wavy"],char:"🥴",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},poop:{keywords:["hankey","shitface","fail","turd","shit"],char:"💩",fitzpatrick_scale:!1,category:"people"},smiling_imp:{keywords:["devil","horns"],char:"😈",fitzpatrick_scale:!1,category:"people"},imp:{keywords:["devil","angry","horns"],char:"👿",fitzpatrick_scale:!1,category:"people"},japanese_ogre:{keywords:["monster","red","mask","halloween","scary","creepy","devil","demon","japanese","ogre"],char:"👹",fitzpatrick_scale:!1,category:"people"},japanese_goblin:{keywords:["red","evil","mask","monster","scary","creepy","japanese","goblin"],char:"👺",fitzpatrick_scale:!1,category:"people"},skull:{keywords:["dead","skeleton","creepy","death"],char:"💀",fitzpatrick_scale:!1,category:"people"},ghost:{keywords:["halloween","spooky","scary"],char:"👻",fitzpatrick_scale:!1,category:"people"},alien:{keywords:["UFO","paul","weird","outer_space"],char:"👽",fitzpatrick_scale:!1,category:"people"},robot:{keywords:["computer","machine","bot"],char:"🤖",fitzpatrick_scale:!1,category:"people"},smiley_cat:{keywords:["animal","cats","happy","smile"],char:"😺",fitzpatrick_scale:!1,category:"people"},smile_cat:{keywords:["animal","cats","smile"],char:"😸",fitzpatrick_scale:!1,category:"people"},joy_cat:{keywords:["animal","cats","haha","happy","tears"],char:"😹",fitzpatrick_scale:!1,category:"people"},heart_eyes_cat:{keywords:["animal","love","like","affection","cats","valentines","heart"],char:"😻",fitzpatrick_scale:!1,category:"people"},smirk_cat:{keywords:["animal","cats","smirk"],char:"😼",fitzpatrick_scale:!1,category:"people"},kissing_cat:{keywords:["animal","cats","kiss"],char:"😽",fitzpatrick_scale:!1,category:"people"},scream_cat:{keywords:["animal","cats","munch","scared","scream"],char:"🙀",fitzpatrick_scale:!1,category:"people"},crying_cat_face:{keywords:["animal","tears","weep","sad","cats","upset","cry"],char:"😿",fitzpatrick_scale:!1,category:"people"},pouting_cat:{keywords:["animal","cats"],char:"😾",fitzpatrick_scale:!1,category:"people"},palms_up:{keywords:["hands","gesture","cupped","prayer"],char:"🤲",fitzpatrick_scale:!0,category:"people"},raised_hands:{keywords:["gesture","hooray","yea","celebration","hands"],char:"🙌",fitzpatrick_scale:!0,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},wave:{keywords:["hands","gesture","goodbye","solong","farewell","hello","hi","palm"],char:"👋",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},fist_left:{keywords:["hand","fistbump"],char:"🤛",fitzpatrick_scale:!0,category:"people"},fist_right:{keywords:["hand","fistbump"],char:"🤜",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},open_hands:{keywords:["fingers","butterfly","hands","open"],char:"👐",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},pray:{keywords:["please","hope","wish","namaste","highfive"],char:"🙏",fitzpatrick_scale:!0,category:"people"},foot:{keywords:["kick","stomp"],char:"🦶",fitzpatrick_scale:!0,category:"people"},leg:{keywords:["kick","limb"],char:"🦵",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_up:{keywords:["hand","fingers","direction","up"],char:"☝",fitzpatrick_scale:!0,category:"people"},point_up_2:{keywords:["fingers","hand","direction","up"],char:"👆",fitzpatrick_scale:!0,category:"people"},point_down:{keywords:["fingers","hand","direction","down"],char:"👇",fitzpatrick_scale:!0,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},love_you:{keywords:["hand","fingers","gesture"],char:"🤟",fitzpatrick_scale:!0,category:"people"},metal:{keywords:["hand","fingers","evil_eye","sign_of_horns","rock_on"],char:"🤘",fitzpatrick_scale:!0,category:"people"},crossed_fingers:{keywords:["good","lucky"],char:"🤞",fitzpatrick_scale:!0,category:"people"},vulcan_salute:{keywords:["hand","fingers","spock","star trek"],char:"🖖",fitzpatrick_scale:!0,category:"people"},writing_hand:{keywords:["lower_left_ballpoint_pen","stationery","write","compose"],char:"✍",fitzpatrick_scale:!0,category:"people"},selfie:{keywords:["camera","phone"],char:"🤳",fitzpatrick_scale:!0,category:"people"},nail_care:{keywords:["beauty","manicure","finger","fashion","nail"],char:"💅",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},tooth:{keywords:["teeth","dentist"],char:"🦷",fitzpatrick_scale:!1,category:"people"},tongue:{keywords:["mouth","playful"],char:"👅",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},nose:{keywords:["smell","sniff"],char:"👃",fitzpatrick_scale:!0,category:"people"},eye:{keywords:["face","look","see","watch","stare"],char:"👁",fitzpatrick_scale:!1,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},brain:{keywords:["smart","intelligent"],char:"🧠",fitzpatrick_scale:!1,category:"people"},bust_in_silhouette:{keywords:["user","person","human"],char:"👤",fitzpatrick_scale:!1,category:"people"},busts_in_silhouette:{keywords:["user","person","human","group","team"],char:"👥",fitzpatrick_scale:!1,category:"people"},speaking_head:{keywords:["user","person","human","sing","say","talk"],char:"🗣",fitzpatrick_scale:!1,category:"people"},baby:{keywords:["child","boy","girl","toddler"],char:"👶",fitzpatrick_scale:!0,category:"people"},child:{keywords:["gender-neutral","young"],char:"🧒",fitzpatrick_scale:!0,category:"people"},boy:{keywords:["man","male","guy","teenager"],char:"👦",fitzpatrick_scale:!0,category:"people"},girl:{keywords:["female","woman","teenager"],char:"👧",fitzpatrick_scale:!0,category:"people"},adult:{keywords:["gender-neutral","person"],char:"🧑",fitzpatrick_scale:!0,category:"people"},man:{keywords:["mustache","father","dad","guy","classy","sir","moustache"],char:"👨",fitzpatrick_scale:!0,category:"people"},woman:{keywords:["female","girls","lady"],char:"👩",fitzpatrick_scale:!0,category:"people"},blonde_woman:{keywords:["woman","female","girl","blonde","person"],char:"👱‍♀️",fitzpatrick_scale:!0,category:"people"},blonde_man:{keywords:["man","male","boy","blonde","guy","person"],char:"👱",fitzpatrick_scale:!0,category:"people"},bearded_person:{keywords:["person","bewhiskered"],char:"🧔",fitzpatrick_scale:!0,category:"people"},older_adult:{keywords:["human","elder","senior","gender-neutral"],char:"🧓",fitzpatrick_scale:!0,category:"people"},older_man:{keywords:["human","male","men","old","elder","senior"],char:"👴",fitzpatrick_scale:!0,category:"people"},older_woman:{keywords:["human","female","women","lady","old","elder","senior"],char:"👵",fitzpatrick_scale:!0,category:"people"},man_with_gua_pi_mao:{keywords:["male","boy","chinese"],char:"👲",fitzpatrick_scale:!0,category:"people"},woman_with_headscarf:{keywords:["female","hijab","mantilla","tichel"],char:"🧕",fitzpatrick_scale:!0,category:"people"},woman_with_turban:{keywords:["female","indian","hinduism","arabs","woman"],char:"👳‍♀️",fitzpatrick_scale:!0,category:"people"},man_with_turban:{keywords:["male","indian","hinduism","arabs"],char:"👳",fitzpatrick_scale:!0,category:"people"},policewoman:{keywords:["woman","police","law","legal","enforcement","arrest","911","female"],char:"👮‍♀️",fitzpatrick_scale:!0,category:"people"},policeman:{keywords:["man","police","law","legal","enforcement","arrest","911"],char:"👮",fitzpatrick_scale:!0,category:"people"},construction_worker_woman:{keywords:["female","human","wip","build","construction","worker","labor","woman"],char:"👷‍♀️",fitzpatrick_scale:!0,category:"people"},construction_worker_man:{keywords:["male","human","wip","guy","build","construction","worker","labor"],char:"👷",fitzpatrick_scale:!0,category:"people"},guardswoman:{keywords:["uk","gb","british","female","royal","woman"],char:"💂‍♀️",fitzpatrick_scale:!0,category:"people"},guardsman:{keywords:["uk","gb","british","male","guy","royal"],char:"💂",fitzpatrick_scale:!0,category:"people"},female_detective:{keywords:["human","spy","detective","female","woman"],char:"🕵️‍♀️",fitzpatrick_scale:!0,category:"people"},male_detective:{keywords:["human","spy","detective"],char:"🕵",fitzpatrick_scale:!0,category:"people"},woman_health_worker:{keywords:["doctor","nurse","therapist","healthcare","woman","human"],char:"👩‍⚕️",fitzpatrick_scale:!0,category:"people"},man_health_worker:{keywords:["doctor","nurse","therapist","healthcare","man","human"],char:"👨‍⚕️",fitzpatrick_scale:!0,category:"people"},woman_farmer:{keywords:["rancher","gardener","woman","human"],char:"👩‍🌾",fitzpatrick_scale:!0,category:"people"},man_farmer:{keywords:["rancher","gardener","man","human"],char:"👨‍🌾",fitzpatrick_scale:!0,category:"people"},woman_cook:{keywords:["chef","woman","human"],char:"👩‍🍳",fitzpatrick_scale:!0,category:"people"},man_cook:{keywords:["chef","man","human"],char:"👨‍🍳",fitzpatrick_scale:!0,category:"people"},woman_student:{keywords:["graduate","woman","human"],char:"👩‍🎓",fitzpatrick_scale:!0,category:"people"},man_student:{keywords:["graduate","man","human"],char:"👨‍🎓",fitzpatrick_scale:!0,category:"people"},woman_singer:{keywords:["rockstar","entertainer","woman","human"],char:"👩‍🎤",fitzpatrick_scale:!0,category:"people"},man_singer:{keywords:["rockstar","entertainer","man","human"],char:"👨‍🎤",fitzpatrick_scale:!0,category:"people"},woman_teacher:{keywords:["instructor","professor","woman","human"],char:"👩‍🏫",fitzpatrick_scale:!0,category:"people"},man_teacher:{keywords:["instructor","professor","man","human"],char:"👨‍🏫",fitzpatrick_scale:!0,category:"people"},woman_factory_worker:{keywords:["assembly","industrial","woman","human"],char:"👩‍🏭",fitzpatrick_scale:!0,category:"people"},man_factory_worker:{keywords:["assembly","industrial","man","human"],char:"👨‍🏭",fitzpatrick_scale:!0,category:"people"},woman_technologist:{keywords:["coder","developer","engineer","programmer","software","woman","human","laptop","computer"],char:"👩‍💻",fitzpatrick_scale:!0,category:"people"},man_technologist:{keywords:["coder","developer","engineer","programmer","software","man","human","laptop","computer"],char:"👨‍💻",fitzpatrick_scale:!0,category:"people"},woman_office_worker:{keywords:["business","manager","woman","human"],char:"👩‍💼",fitzpatrick_scale:!0,category:"people"},man_office_worker:{keywords:["business","manager","man","human"],char:"👨‍💼",fitzpatrick_scale:!0,category:"people"},woman_mechanic:{keywords:["plumber","woman","human","wrench"],char:"👩‍🔧",fitzpatrick_scale:!0,category:"people"},man_mechanic:{keywords:["plumber","man","human","wrench"],char:"👨‍🔧",fitzpatrick_scale:!0,category:"people"},woman_scientist:{keywords:["biologist","chemist","engineer","physicist","woman","human"],char:"👩‍🔬",fitzpatrick_scale:!0,category:"people"},man_scientist:{keywords:["biologist","chemist","engineer","physicist","man","human"],char:"👨‍🔬",fitzpatrick_scale:!0,category:"people"},woman_artist:{keywords:["painter","woman","human"],char:"👩‍🎨",fitzpatrick_scale:!0,category:"people"},man_artist:{keywords:["painter","man","human"],char:"👨‍🎨",fitzpatrick_scale:!0,category:"people"},woman_firefighter:{keywords:["fireman","woman","human"],char:"👩‍🚒",fitzpatrick_scale:!0,category:"people"},man_firefighter:{keywords:["fireman","man","human"],char:"👨‍🚒",fitzpatrick_scale:!0,category:"people"},woman_pilot:{keywords:["aviator","plane","woman","human"],char:"👩‍✈️",fitzpatrick_scale:!0,category:"people"},man_pilot:{keywords:["aviator","plane","man","human"],char:"👨‍✈️",fitzpatrick_scale:!0,category:"people"},woman_astronaut:{keywords:["space","rocket","woman","human"],char:"👩‍🚀",fitzpatrick_scale:!0,category:"people"},man_astronaut:{keywords:["space","rocket","man","human"],char:"👨‍🚀",fitzpatrick_scale:!0,category:"people"},woman_judge:{keywords:["justice","court","woman","human"],char:"👩‍⚖️",fitzpatrick_scale:!0,category:"people"},man_judge:{keywords:["justice","court","man","human"],char:"👨‍⚖️",fitzpatrick_scale:!0,category:"people"},woman_superhero:{keywords:["woman","female","good","heroine","superpowers"],char:"🦸‍♀️",fitzpatrick_scale:!0,category:"people"},man_superhero:{keywords:["man","male","good","hero","superpowers"],char:"🦸‍♂️",fitzpatrick_scale:!0,category:"people"},woman_supervillain:{keywords:["woman","female","evil","bad","criminal","heroine","superpowers"],char:"🦹‍♀️",fitzpatrick_scale:!0,category:"people"},man_supervillain:{keywords:["man","male","evil","bad","criminal","hero","superpowers"],char:"🦹‍♂️",fitzpatrick_scale:!0,category:"people"},mrs_claus:{keywords:["woman","female","xmas","mother christmas"],char:"🤶",fitzpatrick_scale:!0,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sorceress:{keywords:["woman","female","mage","witch"],char:"🧙‍♀️",fitzpatrick_scale:!0,category:"people"},wizard:{keywords:["man","male","mage","sorcerer"],char:"🧙‍♂️",fitzpatrick_scale:!0,category:"people"},woman_elf:{keywords:["woman","female"],char:"🧝‍♀️",fitzpatrick_scale:!0,category:"people"},man_elf:{keywords:["man","male"],char:"🧝‍♂️",fitzpatrick_scale:!0,category:"people"},woman_vampire:{keywords:["woman","female"],char:"🧛‍♀️",fitzpatrick_scale:!0,category:"people"},man_vampire:{keywords:["man","male","dracula"],char:"🧛‍♂️",fitzpatrick_scale:!0,category:"people"},woman_zombie:{keywords:["woman","female","undead","walking dead"],char:"🧟‍♀️",fitzpatrick_scale:!1,category:"people"},man_zombie:{keywords:["man","male","dracula","undead","walking dead"],char:"🧟‍♂️",fitzpatrick_scale:!1,category:"people"},woman_genie:{keywords:["woman","female"],char:"🧞‍♀️",fitzpatrick_scale:!1,category:"people"},man_genie:{keywords:["man","male"],char:"🧞‍♂️",fitzpatrick_scale:!1,category:"people"},mermaid:{keywords:["woman","female","merwoman","ariel"],char:"🧜‍♀️",fitzpatrick_scale:!0,category:"people"},merman:{keywords:["man","male","triton"],char:"🧜‍♂️",fitzpatrick_scale:!0,category:"people"},woman_fairy:{keywords:["woman","female"],char:"🧚‍♀️",fitzpatrick_scale:!0,category:"people"},man_fairy:{keywords:["man","male"],char:"🧚‍♂️",fitzpatrick_scale:!0,category:"people"},angel:{keywords:["heaven","wings","halo"],char:"👼",fitzpatrick_scale:!0,category:"people"},pregnant_woman:{keywords:["baby"],char:"🤰",fitzpatrick_scale:!0,category:"people"},breastfeeding:{keywords:["nursing","baby"],char:"🤱",fitzpatrick_scale:!0,category:"people"},princess:{keywords:["girl","woman","female","blond","crown","royal","queen"],char:"👸",fitzpatrick_scale:!0,category:"people"},prince:{keywords:["boy","man","male","crown","royal","king"],char:"🤴",fitzpatrick_scale:!0,category:"people"},bride_with_veil:{keywords:["couple","marriage","wedding","woman","bride"],char:"👰",fitzpatrick_scale:!0,category:"people"},man_in_tuxedo:{keywords:["couple","marriage","wedding","groom"],char:"🤵",fitzpatrick_scale:!0,category:"people"},running_woman:{keywords:["woman","walking","exercise","race","running","female"],char:"🏃‍♀️",fitzpatrick_scale:!0,category:"people"},running_man:{keywords:["man","walking","exercise","race","running"],char:"🏃",fitzpatrick_scale:!0,category:"people"},walking_woman:{keywords:["human","feet","steps","woman","female"],char:"🚶‍♀️",fitzpatrick_scale:!0,category:"people"},walking_man:{keywords:["human","feet","steps"],char:"🚶",fitzpatrick_scale:!0,category:"people"},dancer:{keywords:["female","girl","woman","fun"],char:"💃",fitzpatrick_scale:!0,category:"people"},man_dancing:{keywords:["male","boy","fun","dancer"],char:"🕺",fitzpatrick_scale:!0,category:"people"},dancing_women:{keywords:["female","bunny","women","girls"],char:"👯",fitzpatrick_scale:!1,category:"people"},dancing_men:{keywords:["male","bunny","men","boys"],char:"👯‍♂️",fitzpatrick_scale:!1,category:"people"},couple:{keywords:["pair","people","human","love","date","dating","like","affection","valentines","marriage"],char:"👫",fitzpatrick_scale:!1,category:"people"},two_men_holding_hands:{keywords:["pair","couple","love","like","bromance","friendship","people","human"],char:"👬",fitzpatrick_scale:!1,category:"people"},two_women_holding_hands:{keywords:["pair","friendship","couple","love","like","female","people","human"],char:"👭",fitzpatrick_scale:!1,category:"people"},bowing_woman:{keywords:["woman","female","girl"],char:"🙇‍♀️",fitzpatrick_scale:!0,category:"people"},bowing_man:{keywords:["man","male","boy"],char:"🙇",fitzpatrick_scale:!0,category:"people"},man_facepalming:{keywords:["man","male","boy","disbelief"],char:"🤦‍♂️",fitzpatrick_scale:!0,category:"people"},woman_facepalming:{keywords:["woman","female","girl","disbelief"],char:"🤦‍♀️",fitzpatrick_scale:!0,category:"people"},woman_shrugging:{keywords:["woman","female","girl","confused","indifferent","doubt"],char:"🤷",fitzpatrick_scale:!0,category:"people"},man_shrugging:{keywords:["man","male","boy","confused","indifferent","doubt"],char:"🤷‍♂️",fitzpatrick_scale:!0,category:"people"},tipping_hand_woman:{keywords:["female","girl","woman","human","information"],char:"💁",fitzpatrick_scale:!0,category:"people"},tipping_hand_man:{keywords:["male","boy","man","human","information"],char:"💁‍♂️",fitzpatrick_scale:!0,category:"people"},no_good_woman:{keywords:["female","girl","woman","nope"],char:"🙅",fitzpatrick_scale:!0,category:"people"},no_good_man:{keywords:["male","boy","man","nope"],char:"🙅‍♂️",fitzpatrick_scale:!0,category:"people"},ok_woman:{keywords:["women","girl","female","pink","human","woman"],char:"🙆",fitzpatrick_scale:!0,category:"people"},ok_man:{keywords:["men","boy","male","blue","human","man"],char:"🙆‍♂️",fitzpatrick_scale:!0,category:"people"},raising_hand_woman:{keywords:["female","girl","woman"],char:"🙋",fitzpatrick_scale:!0,category:"people"},raising_hand_man:{keywords:["male","boy","man"],char:"🙋‍♂️",fitzpatrick_scale:!0,category:"people"},pouting_woman:{keywords:["female","girl","woman"],char:"🙎",fitzpatrick_scale:!0,category:"people"},pouting_man:{keywords:["male","boy","man"],char:"🙎‍♂️",fitzpatrick_scale:!0,category:"people"},frowning_woman:{keywords:["female","girl","woman","sad","depressed","discouraged","unhappy"],char:"🙍",fitzpatrick_scale:!0,category:"people"},frowning_man:{keywords:["male","boy","man","sad","depressed","discouraged","unhappy"],char:"🙍‍♂️",fitzpatrick_scale:!0,category:"people"},haircut_woman:{keywords:["female","girl","woman"],char:"💇",fitzpatrick_scale:!0,category:"people"},haircut_man:{keywords:["male","boy","man"],char:"💇‍♂️",fitzpatrick_scale:!0,category:"people"},massage_woman:{keywords:["female","girl","woman","head"],char:"💆",fitzpatrick_scale:!0,category:"people"},massage_man:{keywords:["male","boy","man","head"],char:"💆‍♂️",fitzpatrick_scale:!0,category:"people"},woman_in_steamy_room:{keywords:["female","woman","spa","steamroom","sauna"],char:"🧖‍♀️",fitzpatrick_scale:!0,category:"people"},man_in_steamy_room:{keywords:["male","man","spa","steamroom","sauna"],char:"🧖‍♂️",fitzpatrick_scale:!0,category:"people"},couple_with_heart_woman_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"💑",fitzpatrick_scale:!1,category:"people"},couple_with_heart_woman_woman:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👩‍❤️‍👩",fitzpatrick_scale:!1,category:"people"},couple_with_heart_man_man:{keywords:["pair","love","like","affection","human","dating","valentines","marriage"],char:"👨‍❤️‍👨",fitzpatrick_scale:!1,category:"people"},couplekiss_man_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"💏",fitzpatrick_scale:!1,category:"people"},couplekiss_woman_woman:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👩‍❤️‍💋‍👩",fitzpatrick_scale:!1,category:"people"},couplekiss_man_man:{keywords:["pair","valentines","love","like","dating","marriage"],char:"👨‍❤️‍💋‍👨",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy:{keywords:["home","parents","child","mom","dad","father","mother","people","human"],char:"👪",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl:{keywords:["home","parents","people","human","child"],char:"👨‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_boy_boy:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_woman_girl_girl:{keywords:["home","parents","people","human","children"],char:"👩‍👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_boy_boy:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_man_girl_girl:{keywords:["home","parents","people","human","children"],char:"👨‍👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_boy:{keywords:["home","parent","people","human","child"],char:"👩‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl:{keywords:["home","parent","people","human","child"],char:"👩‍👧",fitzpatrick_scale:!1,category:"people"},family_woman_girl_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_boy_boy:{keywords:["home","parent","people","human","children"],char:"👩‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_woman_girl_girl:{keywords:["home","parent","people","human","children"],char:"👩‍👧‍👧",fitzpatrick_scale:!1,category:"people"},family_man_boy:{keywords:["home","parent","people","human","child"],char:"👨‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl:{keywords:["home","parent","people","human","child"],char:"👨‍👧",fitzpatrick_scale:!1,category:"people"},family_man_girl_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👦",fitzpatrick_scale:!1,category:"people"},family_man_boy_boy:{keywords:["home","parent","people","human","children"],char:"👨‍👦‍👦",fitzpatrick_scale:!1,category:"people"},family_man_girl_girl:{keywords:["home","parent","people","human","children"],char:"👨‍👧‍👧",fitzpatrick_scale:!1,category:"people"},yarn:{keywords:["ball","crochet","knit"],char:"🧶",fitzpatrick_scale:!1,category:"people"},thread:{keywords:["needle","sewing","spool","string"],char:"🧵",fitzpatrick_scale:!1,category:"people"},coat:{keywords:["jacket"],char:"🧥",fitzpatrick_scale:!1,category:"people"},labcoat:{keywords:["doctor","experiment","scientist","chemist"],char:"🥼",fitzpatrick_scale:!1,category:"people"},womans_clothes:{keywords:["fashion","shopping_bags","female"],char:"👚",fitzpatrick_scale:!1,category:"people"},tshirt:{keywords:["fashion","cloth","casual","shirt","tee"],char:"👕",fitzpatrick_scale:!1,category:"people"},jeans:{keywords:["fashion","shopping"],char:"👖",fitzpatrick_scale:!1,category:"people"},necktie:{keywords:["shirt","suitup","formal","fashion","cloth","business"],char:"👔",fitzpatrick_scale:!1,category:"people"},dress:{keywords:["clothes","fashion","shopping"],char:"👗",fitzpatrick_scale:!1,category:"people"},bikini:{keywords:["swimming","female","woman","girl","fashion","beach","summer"],char:"👙",fitzpatrick_scale:!1,category:"people"},kimono:{keywords:["dress","fashion","women","female","japanese"],char:"👘",fitzpatrick_scale:!1,category:"people"},lipstick:{keywords:["female","girl","fashion","woman"],char:"💄",fitzpatrick_scale:!1,category:"people"},kiss:{keywords:["face","lips","love","like","affection","valentines"],char:"💋",fitzpatrick_scale:!1,category:"people"},footprints:{keywords:["feet","tracking","walking","beach"],char:"👣",fitzpatrick_scale:!1,category:"people"},flat_shoe:{keywords:["ballet","slip-on","slipper"],char:"🥿",fitzpatrick_scale:!1,category:"people"},high_heel:{keywords:["fashion","shoes","female","pumps","stiletto"],char:"👠",fitzpatrick_scale:!1,category:"people"},sandal:{keywords:["shoes","fashion","flip flops"],char:"👡",fitzpatrick_scale:!1,category:"people"},boot:{keywords:["shoes","fashion"],char:"👢",fitzpatrick_scale:!1,category:"people"},mans_shoe:{keywords:["fashion","male"],char:"👞",fitzpatrick_scale:!1,category:"people"},athletic_shoe:{keywords:["shoes","sports","sneakers"],char:"👟",fitzpatrick_scale:!1,category:"people"},hiking_boot:{keywords:["backpacking","camping","hiking"],char:"🥾",fitzpatrick_scale:!1,category:"people"},socks:{keywords:["stockings","clothes"],char:"🧦",fitzpatrick_scale:!1,category:"people"},gloves:{keywords:["hands","winter","clothes"],char:"🧤",fitzpatrick_scale:!1,category:"people"},scarf:{keywords:["neck","winter","clothes"],char:"🧣",fitzpatrick_scale:!1,category:"people"},womans_hat:{keywords:["fashion","accessories","female","lady","spring"],char:"👒",fitzpatrick_scale:!1,category:"people"},tophat:{keywords:["magic","gentleman","classy","circus"],char:"🎩",fitzpatrick_scale:!1,category:"people"},billed_hat:{keywords:["cap","baseball"],char:"🧢",fitzpatrick_scale:!1,category:"people"},rescue_worker_helmet:{keywords:["construction","build"],char:"⛑",fitzpatrick_scale:!1,category:"people"},mortar_board:{keywords:["school","college","degree","university","graduation","cap","hat","legal","learn","education"],char:"🎓",fitzpatrick_scale:!1,category:"people"},crown:{keywords:["king","kod","leader","royalty","lord"],char:"👑",fitzpatrick_scale:!1,category:"people"},school_satchel:{keywords:["student","education","bag","backpack"],char:"🎒",fitzpatrick_scale:!1,category:"people"},luggage:{keywords:["packing","travel"],char:"🧳",fitzpatrick_scale:!1,category:"people"},pouch:{keywords:["bag","accessories","shopping"],char:"👝",fitzpatrick_scale:!1,category:"people"},purse:{keywords:["fashion","accessories","money","sales","shopping"],char:"👛",fitzpatrick_scale:!1,category:"people"},handbag:{keywords:["fashion","accessory","accessories","shopping"],char:"👜",fitzpatrick_scale:!1,category:"people"},briefcase:{keywords:["business","documents","work","law","legal","job","career"],char:"💼",fitzpatrick_scale:!1,category:"people"},eyeglasses:{keywords:["fashion","accessories","eyesight","nerdy","dork","geek"],char:"👓",fitzpatrick_scale:!1,category:"people"},dark_sunglasses:{keywords:["face","cool","accessories"],char:"🕶",fitzpatrick_scale:!1,category:"people"},goggles:{keywords:["eyes","protection","safety"],char:"🥽",fitzpatrick_scale:!1,category:"people"},ring:{keywords:["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],char:"💍",fitzpatrick_scale:!1,category:"people"},closed_umbrella:{keywords:["weather","rain","drizzle"],char:"🌂",fitzpatrick_scale:!1,category:"people"},dog:{keywords:["animal","friend","nature","woof","puppy","pet","faithful"],char:"🐶",fitzpatrick_scale:!1,category:"animals_and_nature"},cat:{keywords:["animal","meow","nature","pet","kitten"],char:"🐱",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse:{keywords:["animal","nature","cheese_wedge","rodent"],char:"🐭",fitzpatrick_scale:!1,category:"animals_and_nature"},hamster:{keywords:["animal","nature"],char:"🐹",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit:{keywords:["animal","nature","pet","spring","magic","bunny"],char:"🐰",fitzpatrick_scale:!1,category:"animals_and_nature"},fox_face:{keywords:["animal","nature","face"],char:"🦊",fitzpatrick_scale:!1,category:"animals_and_nature"},bear:{keywords:["animal","nature","wild"],char:"🐻",fitzpatrick_scale:!1,category:"animals_and_nature"},panda_face:{keywords:["animal","nature","panda"],char:"🐼",fitzpatrick_scale:!1,category:"animals_and_nature"},koala:{keywords:["animal","nature"],char:"🐨",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger:{keywords:["animal","cat","danger","wild","nature","roar"],char:"🐯",fitzpatrick_scale:!1,category:"animals_and_nature"},lion:{keywords:["animal","nature"],char:"🦁",fitzpatrick_scale:!1,category:"animals_and_nature"},cow:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐮",fitzpatrick_scale:!1,category:"animals_and_nature"},pig:{keywords:["animal","oink","nature"],char:"🐷",fitzpatrick_scale:!1,category:"animals_and_nature"},pig_nose:{keywords:["animal","oink"],char:"🐽",fitzpatrick_scale:!1,category:"animals_and_nature"},frog:{keywords:["animal","nature","croak","toad"],char:"🐸",fitzpatrick_scale:!1,category:"animals_and_nature"},squid:{keywords:["animal","nature","ocean","sea"],char:"🦑",fitzpatrick_scale:!1,category:"animals_and_nature"},octopus:{keywords:["animal","creature","ocean","sea","nature","beach"],char:"🐙",fitzpatrick_scale:!1,category:"animals_and_nature"},shrimp:{keywords:["animal","ocean","nature","seafood"],char:"🦐",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey_face:{keywords:["animal","nature","circus"],char:"🐵",fitzpatrick_scale:!1,category:"animals_and_nature"},gorilla:{keywords:["animal","nature","circus"],char:"🦍",fitzpatrick_scale:!1,category:"animals_and_nature"},see_no_evil:{keywords:["monkey","animal","nature","haha"],char:"🙈",fitzpatrick_scale:!1,category:"animals_and_nature"},hear_no_evil:{keywords:["animal","monkey","nature"],char:"🙉",fitzpatrick_scale:!1,category:"animals_and_nature"},speak_no_evil:{keywords:["monkey","animal","nature","omg"],char:"🙊",fitzpatrick_scale:!1,category:"animals_and_nature"},monkey:{keywords:["animal","nature","banana","circus"],char:"🐒",fitzpatrick_scale:!1,category:"animals_and_nature"},chicken:{keywords:["animal","cluck","nature","bird"],char:"🐔",fitzpatrick_scale:!1,category:"animals_and_nature"},penguin:{keywords:["animal","nature"],char:"🐧",fitzpatrick_scale:!1,category:"animals_and_nature"},bird:{keywords:["animal","nature","fly","tweet","spring"],char:"🐦",fitzpatrick_scale:!1,category:"animals_and_nature"},baby_chick:{keywords:["animal","chicken","bird"],char:"🐤",fitzpatrick_scale:!1,category:"animals_and_nature"},hatching_chick:{keywords:["animal","chicken","egg","born","baby","bird"],char:"🐣",fitzpatrick_scale:!1,category:"animals_and_nature"},hatched_chick:{keywords:["animal","chicken","baby","bird"],char:"🐥",fitzpatrick_scale:!1,category:"animals_and_nature"},duck:{keywords:["animal","nature","bird","mallard"],char:"🦆",fitzpatrick_scale:!1,category:"animals_and_nature"},eagle:{keywords:["animal","nature","bird"],char:"🦅",fitzpatrick_scale:!1,category:"animals_and_nature"},owl:{keywords:["animal","nature","bird","hoot"],char:"🦉",fitzpatrick_scale:!1,category:"animals_and_nature"},bat:{keywords:["animal","nature","blind","vampire"],char:"🦇",fitzpatrick_scale:!1,category:"animals_and_nature"},wolf:{keywords:["animal","nature","wild"],char:"🐺",fitzpatrick_scale:!1,category:"animals_and_nature"},boar:{keywords:["animal","nature"],char:"🐗",fitzpatrick_scale:!1,category:"animals_and_nature"},horse:{keywords:["animal","brown","nature"],char:"🐴",fitzpatrick_scale:!1,category:"animals_and_nature"},unicorn:{keywords:["animal","nature","mystical"],char:"🦄",fitzpatrick_scale:!1,category:"animals_and_nature"},honeybee:{keywords:["animal","insect","nature","bug","spring","honey"],char:"🐝",fitzpatrick_scale:!1,category:"animals_and_nature"},bug:{keywords:["animal","insect","nature","worm"],char:"🐛",fitzpatrick_scale:!1,category:"animals_and_nature"},butterfly:{keywords:["animal","insect","nature","caterpillar"],char:"🦋",fitzpatrick_scale:!1,category:"animals_and_nature"},snail:{keywords:["slow","animal","shell"],char:"🐌",fitzpatrick_scale:!1,category:"animals_and_nature"},beetle:{keywords:["animal","insect","nature","ladybug"],char:"🐞",fitzpatrick_scale:!1,category:"animals_and_nature"},ant:{keywords:["animal","insect","nature","bug"],char:"🐜",fitzpatrick_scale:!1,category:"animals_and_nature"},grasshopper:{keywords:["animal","cricket","chirp"],char:"🦗",fitzpatrick_scale:!1,category:"animals_and_nature"},spider:{keywords:["animal","arachnid"],char:"🕷",fitzpatrick_scale:!1,category:"animals_and_nature"},scorpion:{keywords:["animal","arachnid"],char:"🦂",fitzpatrick_scale:!1,category:"animals_and_nature"},crab:{keywords:["animal","crustacean"],char:"🦀",fitzpatrick_scale:!1,category:"animals_and_nature"},snake:{keywords:["animal","evil","nature","hiss","python"],char:"🐍",fitzpatrick_scale:!1,category:"animals_and_nature"},lizard:{keywords:["animal","nature","reptile"],char:"🦎",fitzpatrick_scale:!1,category:"animals_and_nature"},"t-rex":{keywords:["animal","nature","dinosaur","tyrannosaurus","extinct"],char:"🦖",fitzpatrick_scale:!1,category:"animals_and_nature"},sauropod:{keywords:["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],char:"🦕",fitzpatrick_scale:!1,category:"animals_and_nature"},turtle:{keywords:["animal","slow","nature","tortoise"],char:"🐢",fitzpatrick_scale:!1,category:"animals_and_nature"},tropical_fish:{keywords:["animal","swim","ocean","beach","nemo"],char:"🐠",fitzpatrick_scale:!1,category:"animals_and_nature"},fish:{keywords:["animal","food","nature"],char:"🐟",fitzpatrick_scale:!1,category:"animals_and_nature"},blowfish:{keywords:["animal","nature","food","sea","ocean"],char:"🐡",fitzpatrick_scale:!1,category:"animals_and_nature"},dolphin:{keywords:["animal","nature","fish","sea","ocean","flipper","fins","beach"],char:"🐬",fitzpatrick_scale:!1,category:"animals_and_nature"},shark:{keywords:["animal","nature","fish","sea","ocean","jaws","fins","beach"],char:"🦈",fitzpatrick_scale:!1,category:"animals_and_nature"},whale:{keywords:["animal","nature","sea","ocean"],char:"🐳",fitzpatrick_scale:!1,category:"animals_and_nature"},whale2:{keywords:["animal","nature","sea","ocean"],char:"🐋",fitzpatrick_scale:!1,category:"animals_and_nature"},crocodile:{keywords:["animal","nature","reptile","lizard","alligator"],char:"🐊",fitzpatrick_scale:!1,category:"animals_and_nature"},leopard:{keywords:["animal","nature"],char:"🐆",fitzpatrick_scale:!1,category:"animals_and_nature"},zebra:{keywords:["animal","nature","stripes","safari"],char:"🦓",fitzpatrick_scale:!1,category:"animals_and_nature"},tiger2:{keywords:["animal","nature","roar"],char:"🐅",fitzpatrick_scale:!1,category:"animals_and_nature"},water_buffalo:{keywords:["animal","nature","ox","cow"],char:"🐃",fitzpatrick_scale:!1,category:"animals_and_nature"},ox:{keywords:["animal","cow","beef"],char:"🐂",fitzpatrick_scale:!1,category:"animals_and_nature"},cow2:{keywords:["beef","ox","animal","nature","moo","milk"],char:"🐄",fitzpatrick_scale:!1,category:"animals_and_nature"},deer:{keywords:["animal","nature","horns","venison"],char:"🦌",fitzpatrick_scale:!1,category:"animals_and_nature"},dromedary_camel:{keywords:["animal","hot","desert","hump"],char:"🐪",fitzpatrick_scale:!1,category:"animals_and_nature"},camel:{keywords:["animal","nature","hot","desert","hump"],char:"🐫",fitzpatrick_scale:!1,category:"animals_and_nature"},giraffe:{keywords:["animal","nature","spots","safari"],char:"🦒",fitzpatrick_scale:!1,category:"animals_and_nature"},elephant:{keywords:["animal","nature","nose","th","circus"],char:"🐘",fitzpatrick_scale:!1,category:"animals_and_nature"},rhinoceros:{keywords:["animal","nature","horn"],char:"🦏",fitzpatrick_scale:!1,category:"animals_and_nature"},goat:{keywords:["animal","nature"],char:"🐐",fitzpatrick_scale:!1,category:"animals_and_nature"},ram:{keywords:["animal","sheep","nature"],char:"🐏",fitzpatrick_scale:!1,category:"animals_and_nature"},sheep:{keywords:["animal","nature","wool","shipit"],char:"🐑",fitzpatrick_scale:!1,category:"animals_and_nature"},racehorse:{keywords:["animal","gamble","luck"],char:"🐎",fitzpatrick_scale:!1,category:"animals_and_nature"},pig2:{keywords:["animal","nature"],char:"🐖",fitzpatrick_scale:!1,category:"animals_and_nature"},rat:{keywords:["animal","mouse","rodent"],char:"🐀",fitzpatrick_scale:!1,category:"animals_and_nature"},mouse2:{keywords:["animal","nature","rodent"],char:"🐁",fitzpatrick_scale:!1,category:"animals_and_nature"},rooster:{keywords:["animal","nature","chicken"],char:"🐓",fitzpatrick_scale:!1,category:"animals_and_nature"},turkey:{keywords:["animal","bird"],char:"🦃",fitzpatrick_scale:!1,category:"animals_and_nature"},dove:{keywords:["animal","bird"],char:"🕊",fitzpatrick_scale:!1,category:"animals_and_nature"},dog2:{keywords:["animal","nature","friend","doge","pet","faithful"],char:"🐕",fitzpatrick_scale:!1,category:"animals_and_nature"},poodle:{keywords:["dog","animal","101","nature","pet"],char:"🐩",fitzpatrick_scale:!1,category:"animals_and_nature"},cat2:{keywords:["animal","meow","pet","cats"],char:"🐈",fitzpatrick_scale:!1,category:"animals_and_nature"},rabbit2:{keywords:["animal","nature","pet","magic","spring"],char:"🐇",fitzpatrick_scale:!1,category:"animals_and_nature"},chipmunk:{keywords:["animal","nature","rodent","squirrel"],char:"🐿",fitzpatrick_scale:!1,category:"animals_and_nature"},hedgehog:{keywords:["animal","nature","spiny"],char:"🦔",fitzpatrick_scale:!1,category:"animals_and_nature"},raccoon:{keywords:["animal","nature"],char:"🦝",fitzpatrick_scale:!1,category:"animals_and_nature"},llama:{keywords:["animal","nature","alpaca"],char:"🦙",fitzpatrick_scale:!1,category:"animals_and_nature"},hippopotamus:{keywords:["animal","nature"],char:"🦛",fitzpatrick_scale:!1,category:"animals_and_nature"},kangaroo:{keywords:["animal","nature","australia","joey","hop","marsupial"],char:"🦘",fitzpatrick_scale:!1,category:"animals_and_nature"},badger:{keywords:["animal","nature","honey"],char:"🦡",fitzpatrick_scale:!1,category:"animals_and_nature"},swan:{keywords:["animal","nature","bird"],char:"🦢",fitzpatrick_scale:!1,category:"animals_and_nature"},peacock:{keywords:["animal","nature","peahen","bird"],char:"🦚",fitzpatrick_scale:!1,category:"animals_and_nature"},parrot:{keywords:["animal","nature","bird","pirate","talk"],char:"🦜",fitzpatrick_scale:!1,category:"animals_and_nature"},lobster:{keywords:["animal","nature","bisque","claws","seafood"],char:"🦞",fitzpatrick_scale:!1,category:"animals_and_nature"},mosquito:{keywords:["animal","nature","insect","malaria"],char:"🦟",fitzpatrick_scale:!1,category:"animals_and_nature"},paw_prints:{keywords:["animal","tracking","footprints","dog","cat","pet","feet"],char:"🐾",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon:{keywords:["animal","myth","nature","chinese","green"],char:"🐉",fitzpatrick_scale:!1,category:"animals_and_nature"},dragon_face:{keywords:["animal","myth","nature","chinese","green"],char:"🐲",fitzpatrick_scale:!1,category:"animals_and_nature"},cactus:{keywords:["vegetable","plant","nature"],char:"🌵",fitzpatrick_scale:!1,category:"animals_and_nature"},christmas_tree:{keywords:["festival","vacation","december","xmas","celebration"],char:"🎄",fitzpatrick_scale:!1,category:"animals_and_nature"},evergreen_tree:{keywords:["plant","nature"],char:"🌲",fitzpatrick_scale:!1,category:"animals_and_nature"},deciduous_tree:{keywords:["plant","nature"],char:"🌳",fitzpatrick_scale:!1,category:"animals_and_nature"},palm_tree:{keywords:["plant","vegetable","nature","summer","beach","mojito","tropical"],char:"🌴",fitzpatrick_scale:!1,category:"animals_and_nature"},seedling:{keywords:["plant","nature","grass","lawn","spring"],char:"🌱",fitzpatrick_scale:!1,category:"animals_and_nature"},herb:{keywords:["vegetable","plant","medicine","weed","grass","lawn"],char:"🌿",fitzpatrick_scale:!1,category:"animals_and_nature"},shamrock:{keywords:["vegetable","plant","nature","irish","clover"],char:"☘",fitzpatrick_scale:!1,category:"animals_and_nature"},four_leaf_clover:{keywords:["vegetable","plant","nature","lucky","irish"],char:"🍀",fitzpatrick_scale:!1,category:"animals_and_nature"},bamboo:{keywords:["plant","nature","vegetable","panda","pine_decoration"],char:"🎍",fitzpatrick_scale:!1,category:"animals_and_nature"},tanabata_tree:{keywords:["plant","nature","branch","summer"],char:"🎋",fitzpatrick_scale:!1,category:"animals_and_nature"},leaves:{keywords:["nature","plant","tree","vegetable","grass","lawn","spring"],char:"🍃",fitzpatrick_scale:!1,category:"animals_and_nature"},fallen_leaf:{keywords:["nature","plant","vegetable","leaves"],char:"🍂",fitzpatrick_scale:!1,category:"animals_and_nature"},maple_leaf:{keywords:["nature","plant","vegetable","ca","fall"],char:"🍁",fitzpatrick_scale:!1,category:"animals_and_nature"},ear_of_rice:{keywords:["nature","plant"],char:"🌾",fitzpatrick_scale:!1,category:"animals_and_nature"},hibiscus:{keywords:["plant","vegetable","flowers","beach"],char:"🌺",fitzpatrick_scale:!1,category:"animals_and_nature"},sunflower:{keywords:["nature","plant","fall"],char:"🌻",fitzpatrick_scale:!1,category:"animals_and_nature"},rose:{keywords:["flowers","valentines","love","spring"],char:"🌹",fitzpatrick_scale:!1,category:"animals_and_nature"},wilted_flower:{keywords:["plant","nature","flower"],char:"🥀",fitzpatrick_scale:!1,category:"animals_and_nature"},tulip:{keywords:["flowers","plant","nature","summer","spring"],char:"🌷",fitzpatrick_scale:!1,category:"animals_and_nature"},blossom:{keywords:["nature","flowers","yellow"],char:"🌼",fitzpatrick_scale:!1,category:"animals_and_nature"},cherry_blossom:{keywords:["nature","plant","spring","flower"],char:"🌸",fitzpatrick_scale:!1,category:"animals_and_nature"},bouquet:{keywords:["flowers","nature","spring"],char:"💐",fitzpatrick_scale:!1,category:"animals_and_nature"},mushroom:{keywords:["plant","vegetable"],char:"🍄",fitzpatrick_scale:!1,category:"animals_and_nature"},chestnut:{keywords:["food","squirrel"],char:"🌰",fitzpatrick_scale:!1,category:"animals_and_nature"},jack_o_lantern:{keywords:["halloween","light","pumpkin","creepy","fall"],char:"🎃",fitzpatrick_scale:!1,category:"animals_and_nature"},shell:{keywords:["nature","sea","beach"],char:"🐚",fitzpatrick_scale:!1,category:"animals_and_nature"},spider_web:{keywords:["animal","insect","arachnid","silk"],char:"🕸",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_americas:{keywords:["globe","world","USA","international"],char:"🌎",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_africa:{keywords:["globe","world","international"],char:"🌍",fitzpatrick_scale:!1,category:"animals_and_nature"},earth_asia:{keywords:["globe","world","east","international"],char:"🌏",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon:{keywords:["nature","yellow","twilight","planet","space","night","evening","sleep"],char:"🌕",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_gibbous_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep","waxing_gibbous_moon"],char:"🌖",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌗",fitzpatrick_scale:!1,category:"animals_and_nature"},waning_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌘",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌑",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_crescent_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌒",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌓",fitzpatrick_scale:!1,category:"animals_and_nature"},waxing_gibbous_moon:{keywords:["nature","night","sky","gray","twilight","planet","space","evening","sleep"],char:"🌔",fitzpatrick_scale:!1,category:"animals_and_nature"},new_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌚",fitzpatrick_scale:!1,category:"animals_and_nature"},full_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌝",fitzpatrick_scale:!1,category:"animals_and_nature"},first_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌛",fitzpatrick_scale:!1,category:"animals_and_nature"},last_quarter_moon_with_face:{keywords:["nature","twilight","planet","space","night","evening","sleep"],char:"🌜",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},star2:{keywords:["night","sparkle","awesome","good","magic"],char:"🌟",fitzpatrick_scale:!1,category:"animals_and_nature"},dizzy:{keywords:["star","sparkle","shoot","magic"],char:"💫",fitzpatrick_scale:!1,category:"animals_and_nature"},sparkles:{keywords:["stars","shine","shiny","cool","awesome","good","magic"],char:"✨",fitzpatrick_scale:!1,category:"animals_and_nature"},comet:{keywords:["space"],char:"☄",fitzpatrick_scale:!1,category:"animals_and_nature"},sunny:{keywords:["weather","nature","brightness","summer","beach","spring"],char:"☀️",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_small_cloud:{keywords:["weather"],char:"🌤",fitzpatrick_scale:!1,category:"animals_and_nature"},partly_sunny:{keywords:["weather","nature","cloudy","morning","fall","spring"],char:"⛅",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_large_cloud:{keywords:["weather"],char:"🌥",fitzpatrick_scale:!1,category:"animals_and_nature"},sun_behind_rain_cloud:{keywords:["weather"],char:"🌦",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud:{keywords:["weather","sky"],char:"☁️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_rain:{keywords:["weather"],char:"🌧",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning_and_rain:{keywords:["weather","lightning"],char:"⛈",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_lightning:{keywords:["weather","thunder"],char:"🌩",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},boom:{keywords:["bomb","explode","explosion","collision","blown"],char:"💥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},cloud_with_snow:{keywords:["weather"],char:"🌨",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman:{keywords:["winter","season","cold","weather","christmas","xmas","frozen","without_snow"],char:"⛄",fitzpatrick_scale:!1,category:"animals_and_nature"},snowman_with_snow:{keywords:["winter","season","cold","weather","christmas","xmas","frozen"],char:"☃",fitzpatrick_scale:!1,category:"animals_and_nature"},wind_face:{keywords:["gust","air"],char:"🌬",fitzpatrick_scale:!1,category:"animals_and_nature"},dash:{keywords:["wind","air","fast","shoo","fart","smoke","puff"],char:"💨",fitzpatrick_scale:!1,category:"animals_and_nature"},tornado:{keywords:["weather","cyclone","twister"],char:"🌪",fitzpatrick_scale:!1,category:"animals_and_nature"},fog:{keywords:["weather"],char:"🌫",fitzpatrick_scale:!1,category:"animals_and_nature"},open_umbrella:{keywords:["weather","spring"],char:"☂",fitzpatrick_scale:!1,category:"animals_and_nature"},umbrella:{keywords:["rainy","weather","spring"],char:"☔",fitzpatrick_scale:!1,category:"animals_and_nature"},droplet:{keywords:["water","drip","faucet","spring"],char:"💧",fitzpatrick_scale:!1,category:"animals_and_nature"},sweat_drops:{keywords:["water","drip","oops"],char:"💦",fitzpatrick_scale:!1,category:"animals_and_nature"},ocean:{keywords:["sea","water","wave","nature","tsunami","disaster"],char:"🌊",fitzpatrick_scale:!1,category:"animals_and_nature"},green_apple:{keywords:["fruit","nature"],char:"🍏",fitzpatrick_scale:!1,category:"food_and_drink"},apple:{keywords:["fruit","mac","school"],char:"🍎",fitzpatrick_scale:!1,category:"food_and_drink"},pear:{keywords:["fruit","nature","food"],char:"🍐",fitzpatrick_scale:!1,category:"food_and_drink"},tangerine:{keywords:["food","fruit","nature","orange"],char:"🍊",fitzpatrick_scale:!1,category:"food_and_drink"},lemon:{keywords:["fruit","nature"],char:"🍋",fitzpatrick_scale:!1,category:"food_and_drink"},banana:{keywords:["fruit","food","monkey"],char:"🍌",fitzpatrick_scale:!1,category:"food_and_drink"},watermelon:{keywords:["fruit","food","picnic","summer"],char:"🍉",fitzpatrick_scale:!1,category:"food_and_drink"},grapes:{keywords:["fruit","food","wine"],char:"🍇",fitzpatrick_scale:!1,category:"food_and_drink"},strawberry:{keywords:["fruit","food","nature"],char:"🍓",fitzpatrick_scale:!1,category:"food_and_drink"},melon:{keywords:["fruit","nature","food"],char:"🍈",fitzpatrick_scale:!1,category:"food_and_drink"},cherries:{keywords:["food","fruit"],char:"🍒",fitzpatrick_scale:!1,category:"food_and_drink"},peach:{keywords:["fruit","nature","food"],char:"🍑",fitzpatrick_scale:!1,category:"food_and_drink"},pineapple:{keywords:["fruit","nature","food"],char:"🍍",fitzpatrick_scale:!1,category:"food_and_drink"},coconut:{keywords:["fruit","nature","food","palm"],char:"🥥",fitzpatrick_scale:!1,category:"food_and_drink"},kiwi_fruit:{keywords:["fruit","food"],char:"🥝",fitzpatrick_scale:!1,category:"food_and_drink"},mango:{keywords:["fruit","food","tropical"],char:"🥭",fitzpatrick_scale:!1,category:"food_and_drink"},avocado:{keywords:["fruit","food"],char:"🥑",fitzpatrick_scale:!1,category:"food_and_drink"},broccoli:{keywords:["fruit","food","vegetable"],char:"🥦",fitzpatrick_scale:!1,category:"food_and_drink"},tomato:{keywords:["fruit","vegetable","nature","food"],char:"🍅",fitzpatrick_scale:!1,category:"food_and_drink"},eggplant:{keywords:["vegetable","nature","food","aubergine"],char:"🍆",fitzpatrick_scale:!1,category:"food_and_drink"},cucumber:{keywords:["fruit","food","pickle"],char:"🥒",fitzpatrick_scale:!1,category:"food_and_drink"},carrot:{keywords:["vegetable","food","orange"],char:"🥕",fitzpatrick_scale:!1,category:"food_and_drink"},hot_pepper:{keywords:["food","spicy","chilli","chili"],char:"🌶",fitzpatrick_scale:!1,category:"food_and_drink"},potato:{keywords:["food","tuber","vegatable","starch"],char:"🥔",fitzpatrick_scale:!1,category:"food_and_drink"},corn:{keywords:["food","vegetable","plant"],char:"🌽",fitzpatrick_scale:!1,category:"food_and_drink"},leafy_greens:{keywords:["food","vegetable","plant","bok choy","cabbage","kale","lettuce"],char:"🥬",fitzpatrick_scale:!1,category:"food_and_drink"},sweet_potato:{keywords:["food","nature"],char:"🍠",fitzpatrick_scale:!1,category:"food_and_drink"},peanuts:{keywords:["food","nut"],char:"🥜",fitzpatrick_scale:!1,category:"food_and_drink"},honey_pot:{keywords:["bees","sweet","kitchen"],char:"🍯",fitzpatrick_scale:!1,category:"food_and_drink"},croissant:{keywords:["food","bread","french"],char:"🥐",fitzpatrick_scale:!1,category:"food_and_drink"},bread:{keywords:["food","wheat","breakfast","toast"],char:"🍞",fitzpatrick_scale:!1,category:"food_and_drink"},baguette_bread:{keywords:["food","bread","french"],char:"🥖",fitzpatrick_scale:!1,category:"food_and_drink"},bagel:{keywords:["food","bread","bakery","schmear"],char:"🥯",fitzpatrick_scale:!1,category:"food_and_drink"},pretzel:{keywords:["food","bread","twisted"],char:"🥨",fitzpatrick_scale:!1,category:"food_and_drink"},cheese:{keywords:["food","chadder"],char:"🧀",fitzpatrick_scale:!1,category:"food_and_drink"},egg:{keywords:["food","chicken","breakfast"],char:"🥚",fitzpatrick_scale:!1,category:"food_and_drink"},bacon:{keywords:["food","breakfast","pork","pig","meat"],char:"🥓",fitzpatrick_scale:!1,category:"food_and_drink"},steak:{keywords:["food","cow","meat","cut","chop","lambchop","porkchop"],char:"🥩",fitzpatrick_scale:!1,category:"food_and_drink"},pancakes:{keywords:["food","breakfast","flapjacks","hotcakes"],char:"🥞",fitzpatrick_scale:!1,category:"food_and_drink"},poultry_leg:{keywords:["food","meat","drumstick","bird","chicken","turkey"],char:"🍗",fitzpatrick_scale:!1,category:"food_and_drink"},meat_on_bone:{keywords:["good","food","drumstick"],char:"🍖",fitzpatrick_scale:!1,category:"food_and_drink"},bone:{keywords:["skeleton"],char:"🦴",fitzpatrick_scale:!1,category:"food_and_drink"},fried_shrimp:{keywords:["food","animal","appetizer","summer"],char:"🍤",fitzpatrick_scale:!1,category:"food_and_drink"},fried_egg:{keywords:["food","breakfast","kitchen","egg"],char:"🍳",fitzpatrick_scale:!1,category:"food_and_drink"},hamburger:{keywords:["meat","fast food","beef","cheeseburger","mcdonalds","burger king"],char:"🍔",fitzpatrick_scale:!1,category:"food_and_drink"},fries:{keywords:["chips","snack","fast food"],char:"🍟",fitzpatrick_scale:!1,category:"food_and_drink"},stuffed_flatbread:{keywords:["food","flatbread","stuffed","gyro"],char:"🥙",fitzpatrick_scale:!1,category:"food_and_drink"},hotdog:{keywords:["food","frankfurter"],char:"🌭",fitzpatrick_scale:!1,category:"food_and_drink"},pizza:{keywords:["food","party"],char:"🍕",fitzpatrick_scale:!1,category:"food_and_drink"},sandwich:{keywords:["food","lunch","bread"],char:"🥪",fitzpatrick_scale:!1,category:"food_and_drink"},canned_food:{keywords:["food","soup"],char:"🥫",fitzpatrick_scale:!1,category:"food_and_drink"},spaghetti:{keywords:["food","italian","noodle"],char:"🍝",fitzpatrick_scale:!1,category:"food_and_drink"},taco:{keywords:["food","mexican"],char:"🌮",fitzpatrick_scale:!1,category:"food_and_drink"},burrito:{keywords:["food","mexican"],char:"🌯",fitzpatrick_scale:!1,category:"food_and_drink"},green_salad:{keywords:["food","healthy","lettuce"],char:"🥗",fitzpatrick_scale:!1,category:"food_and_drink"},shallow_pan_of_food:{keywords:["food","cooking","casserole","paella"],char:"🥘",fitzpatrick_scale:!1,category:"food_and_drink"},ramen:{keywords:["food","japanese","noodle","chopsticks"],char:"🍜",fitzpatrick_scale:!1,category:"food_and_drink"},stew:{keywords:["food","meat","soup"],char:"🍲",fitzpatrick_scale:!1,category:"food_and_drink"},fish_cake:{keywords:["food","japan","sea","beach","narutomaki","pink","swirl","kamaboko","surimi","ramen"],char:"🍥",fitzpatrick_scale:!1,category:"food_and_drink"},fortune_cookie:{keywords:["food","prophecy"],char:"🥠",fitzpatrick_scale:!1,category:"food_and_drink"},sushi:{keywords:["food","fish","japanese","rice"],char:"🍣",fitzpatrick_scale:!1,category:"food_and_drink"},bento:{keywords:["food","japanese","box"],char:"🍱",fitzpatrick_scale:!1,category:"food_and_drink"},curry:{keywords:["food","spicy","hot","indian"],char:"🍛",fitzpatrick_scale:!1,category:"food_and_drink"},rice_ball:{keywords:["food","japanese"],char:"🍙",fitzpatrick_scale:!1,category:"food_and_drink"},rice:{keywords:["food","china","asian"],char:"🍚",fitzpatrick_scale:!1,category:"food_and_drink"},rice_cracker:{keywords:["food","japanese"],char:"🍘",fitzpatrick_scale:!1,category:"food_and_drink"},oden:{keywords:["food","japanese"],char:"🍢",fitzpatrick_scale:!1,category:"food_and_drink"},dango:{keywords:["food","dessert","sweet","japanese","barbecue","meat"],char:"🍡",fitzpatrick_scale:!1,category:"food_and_drink"},shaved_ice:{keywords:["hot","dessert","summer"],char:"🍧",fitzpatrick_scale:!1,category:"food_and_drink"},ice_cream:{keywords:["food","hot","dessert"],char:"🍨",fitzpatrick_scale:!1,category:"food_and_drink"},icecream:{keywords:["food","hot","dessert","summer"],char:"🍦",fitzpatrick_scale:!1,category:"food_and_drink"},pie:{keywords:["food","dessert","pastry"],char:"🥧",fitzpatrick_scale:!1,category:"food_and_drink"},cake:{keywords:["food","dessert"],char:"🍰",fitzpatrick_scale:!1,category:"food_and_drink"},cupcake:{keywords:["food","dessert","bakery","sweet"],char:"🧁",fitzpatrick_scale:!1,category:"food_and_drink"},moon_cake:{keywords:["food","autumn"],char:"🥮",fitzpatrick_scale:!1,category:"food_and_drink"},birthday:{keywords:["food","dessert","cake"],char:"🎂",fitzpatrick_scale:!1,category:"food_and_drink"},custard:{keywords:["dessert","food"],char:"🍮",fitzpatrick_scale:!1,category:"food_and_drink"},candy:{keywords:["snack","dessert","sweet","lolly"],char:"🍬",fitzpatrick_scale:!1,category:"food_and_drink"},lollipop:{keywords:["food","snack","candy","sweet"],char:"🍭",fitzpatrick_scale:!1,category:"food_and_drink"},chocolate_bar:{keywords:["food","snack","dessert","sweet"],char:"🍫",fitzpatrick_scale:!1,category:"food_and_drink"},popcorn:{keywords:["food","movie theater","films","snack"],char:"🍿",fitzpatrick_scale:!1,category:"food_and_drink"},dumpling:{keywords:["food","empanada","pierogi","potsticker"],char:"🥟",fitzpatrick_scale:!1,category:"food_and_drink"},doughnut:{keywords:["food","dessert","snack","sweet","donut"],char:"🍩",fitzpatrick_scale:!1,category:"food_and_drink"},cookie:{keywords:["food","snack","oreo","chocolate","sweet","dessert"],char:"🍪",fitzpatrick_scale:!1,category:"food_and_drink"},milk_glass:{keywords:["beverage","drink","cow"],char:"🥛",fitzpatrick_scale:!1,category:"food_and_drink"},beer:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍺",fitzpatrick_scale:!1,category:"food_and_drink"},beers:{keywords:["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],char:"🍻",fitzpatrick_scale:!1,category:"food_and_drink"},clinking_glasses:{keywords:["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],char:"🥂",fitzpatrick_scale:!1,category:"food_and_drink"},wine_glass:{keywords:["drink","beverage","drunk","alcohol","booze"],char:"🍷",fitzpatrick_scale:!1,category:"food_and_drink"},tumbler_glass:{keywords:["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","glass","shot"],char:"🥃",fitzpatrick_scale:!1,category:"food_and_drink"},cocktail:{keywords:["drink","drunk","alcohol","beverage","booze","mojito"],char:"🍸",fitzpatrick_scale:!1,category:"food_and_drink"},tropical_drink:{keywords:["beverage","cocktail","summer","beach","alcohol","booze","mojito"],char:"🍹",fitzpatrick_scale:!1,category:"food_and_drink"},champagne:{keywords:["drink","wine","bottle","celebration"],char:"🍾",fitzpatrick_scale:!1,category:"food_and_drink"},sake:{keywords:["wine","drink","drunk","beverage","japanese","alcohol","booze"],char:"🍶",fitzpatrick_scale:!1,category:"food_and_drink"},tea:{keywords:["drink","bowl","breakfast","green","british"],char:"🍵",fitzpatrick_scale:!1,category:"food_and_drink"},cup_with_straw:{keywords:["drink","soda"],char:"🥤",fitzpatrick_scale:!1,category:"food_and_drink"},coffee:{keywords:["beverage","caffeine","latte","espresso"],char:"☕",fitzpatrick_scale:!1,category:"food_and_drink"},baby_bottle:{keywords:["food","container","milk"],char:"🍼",fitzpatrick_scale:!1,category:"food_and_drink"},salt:{keywords:["condiment","shaker"],char:"🧂",fitzpatrick_scale:!1,category:"food_and_drink"},spoon:{keywords:["cutlery","kitchen","tableware"],char:"🥄",fitzpatrick_scale:!1,category:"food_and_drink"},fork_and_knife:{keywords:["cutlery","kitchen"],char:"🍴",fitzpatrick_scale:!1,category:"food_and_drink"},plate_with_cutlery:{keywords:["food","eat","meal","lunch","dinner","restaurant"],char:"🍽",fitzpatrick_scale:!1,category:"food_and_drink"},bowl_with_spoon:{keywords:["food","breakfast","cereal","oatmeal","porridge"],char:"🥣",fitzpatrick_scale:!1,category:"food_and_drink"},takeout_box:{keywords:["food","leftovers"],char:"🥡",fitzpatrick_scale:!1,category:"food_and_drink"},chopsticks:{keywords:["food"],char:"🥢",fitzpatrick_scale:!1,category:"food_and_drink"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},softball:{keywords:["sports","balls"],char:"🥎",fitzpatrick_scale:!1,category:"activity"},tennis:{keywords:["sports","balls","green"],char:"🎾",fitzpatrick_scale:!1,category:"activity"},volleyball:{keywords:["sports","balls"],char:"🏐",fitzpatrick_scale:!1,category:"activity"},rugby_football:{keywords:["sports","team"],char:"🏉",fitzpatrick_scale:!1,category:"activity"},flying_disc:{keywords:["sports","frisbee","ultimate"],char:"🥏",fitzpatrick_scale:!1,category:"activity"},"8ball":{keywords:["pool","hobby","game","luck","magic"],char:"🎱",fitzpatrick_scale:!1,category:"activity"},golf:{keywords:["sports","business","flag","hole","summer"],char:"⛳",fitzpatrick_scale:!1,category:"activity"},golfing_woman:{keywords:["sports","business","woman","female"],char:"🏌️‍♀️",fitzpatrick_scale:!1,category:"activity"},golfing_man:{keywords:["sports","business"],char:"🏌",fitzpatrick_scale:!0,category:"activity"},ping_pong:{keywords:["sports","pingpong"],char:"🏓",fitzpatrick_scale:!1,category:"activity"},badminton:{keywords:["sports"],char:"🏸",fitzpatrick_scale:!1,category:"activity"},goal_net:{keywords:["sports"],char:"🥅",fitzpatrick_scale:!1,category:"activity"},ice_hockey:{keywords:["sports"],char:"🏒",fitzpatrick_scale:!1,category:"activity"},field_hockey:{keywords:["sports"],char:"🏑",fitzpatrick_scale:!1,category:"activity"},lacrosse:{keywords:["sports","ball","stick"],char:"🥍",fitzpatrick_scale:!1,category:"activity"},cricket:{keywords:["sports"],char:"🏏",fitzpatrick_scale:!1,category:"activity"},ski:{keywords:["sports","winter","cold","snow"],char:"🎿",fitzpatrick_scale:!1,category:"activity"},skier:{keywords:["sports","winter","snow"],char:"⛷",fitzpatrick_scale:!1,category:"activity"},snowboarder:{keywords:["sports","winter"],char:"🏂",fitzpatrick_scale:!0,category:"activity"},person_fencing:{keywords:["sports","fencing","sword"],char:"🤺",fitzpatrick_scale:!1,category:"activity"},women_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♀️",fitzpatrick_scale:!1,category:"activity"},men_wrestling:{keywords:["sports","wrestlers"],char:"🤼‍♂️",fitzpatrick_scale:!1,category:"activity"},woman_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♀️",fitzpatrick_scale:!0,category:"activity"},man_cartwheeling:{keywords:["gymnastics"],char:"🤸‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_playing_handball:{keywords:["sports"],char:"🤾‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_handball:{keywords:["sports"],char:"🤾‍♂️",fitzpatrick_scale:!0,category:"activity"},ice_skate:{keywords:["sports"],char:"⛸",fitzpatrick_scale:!1,category:"activity"},curling_stone:{keywords:["sports"],char:"🥌",fitzpatrick_scale:!1,category:"activity"},skateboard:{keywords:["board"],char:"🛹",fitzpatrick_scale:!1,category:"activity"},sled:{keywords:["sleigh","luge","toboggan"],char:"🛷",fitzpatrick_scale:!1,category:"activity"},bow_and_arrow:{keywords:["sports"],char:"🏹",fitzpatrick_scale:!1,category:"activity"},fishing_pole_and_fish:{keywords:["food","hobby","summer"],char:"🎣",fitzpatrick_scale:!1,category:"activity"},boxing_glove:{keywords:["sports","fighting"],char:"🥊",fitzpatrick_scale:!1,category:"activity"},martial_arts_uniform:{keywords:["judo","karate","taekwondo"],char:"🥋",fitzpatrick_scale:!1,category:"activity"},rowing_woman:{keywords:["sports","hobby","water","ship","woman","female"],char:"🚣‍♀️",fitzpatrick_scale:!0,category:"activity"},rowing_man:{keywords:["sports","hobby","water","ship"],char:"🚣",fitzpatrick_scale:!0,category:"activity"},climbing_woman:{keywords:["sports","hobby","woman","female","rock"],char:"🧗‍♀️",fitzpatrick_scale:!0,category:"activity"},climbing_man:{keywords:["sports","hobby","man","male","rock"],char:"🧗‍♂️",fitzpatrick_scale:!0,category:"activity"},swimming_woman:{keywords:["sports","exercise","human","athlete","water","summer","woman","female"],char:"🏊‍♀️",fitzpatrick_scale:!0,category:"activity"},swimming_man:{keywords:["sports","exercise","human","athlete","water","summer"],char:"🏊",fitzpatrick_scale:!0,category:"activity"},woman_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♀️",fitzpatrick_scale:!0,category:"activity"},man_playing_water_polo:{keywords:["sports","pool"],char:"🤽‍♂️",fitzpatrick_scale:!0,category:"activity"},woman_in_lotus_position:{keywords:["woman","female","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♀️",fitzpatrick_scale:!0,category:"activity"},man_in_lotus_position:{keywords:["man","male","meditation","yoga","serenity","zen","mindfulness"],char:"🧘‍♂️",fitzpatrick_scale:!0,category:"activity"},surfing_woman:{keywords:["sports","ocean","sea","summer","beach","woman","female"],char:"🏄‍♀️",fitzpatrick_scale:!0,category:"activity"},surfing_man:{keywords:["sports","ocean","sea","summer","beach"],char:"🏄",fitzpatrick_scale:!0,category:"activity"},bath:{keywords:["clean","shower","bathroom"],char:"🛀",fitzpatrick_scale:!0,category:"activity"},basketball_woman:{keywords:["sports","human","woman","female"],char:"⛹️‍♀️",fitzpatrick_scale:!0,category:"activity"},basketball_man:{keywords:["sports","human"],char:"⛹",fitzpatrick_scale:!0,category:"activity"},weight_lifting_woman:{keywords:["sports","training","exercise","woman","female"],char:"🏋️‍♀️",fitzpatrick_scale:!0,category:"activity"},weight_lifting_man:{keywords:["sports","training","exercise"],char:"🏋",fitzpatrick_scale:!0,category:"activity"},biking_woman:{keywords:["sports","bike","exercise","hipster","woman","female"],char:"🚴‍♀️",fitzpatrick_scale:!0,category:"activity"},biking_man:{keywords:["sports","bike","exercise","hipster"],char:"🚴",fitzpatrick_scale:!0,category:"activity"},mountain_biking_woman:{keywords:["transportation","sports","human","race","bike","woman","female"],char:"🚵‍♀️",fitzpatrick_scale:!0,category:"activity"},mountain_biking_man:{keywords:["transportation","sports","human","race","bike"],char:"🚵",fitzpatrick_scale:!0,category:"activity"},horse_racing:{keywords:["animal","betting","competition","gambling","luck"],char:"🏇",fitzpatrick_scale:!0,category:"activity"},business_suit_levitating:{keywords:["suit","business","levitate","hover","jump"],char:"🕴",fitzpatrick_scale:!0,category:"activity"},trophy:{keywords:["win","award","contest","place","ftw","ceremony"],char:"🏆",fitzpatrick_scale:!1,category:"activity"},running_shirt_with_sash:{keywords:["play","pageant"],char:"🎽",fitzpatrick_scale:!1,category:"activity"},medal_sports:{keywords:["award","winning"],char:"🏅",fitzpatrick_scale:!1,category:"activity"},medal_military:{keywords:["award","winning","army"],char:"🎖",fitzpatrick_scale:!1,category:"activity"},"1st_place_medal":{keywords:["award","winning","first"],char:"🥇",fitzpatrick_scale:!1,category:"activity"},"2nd_place_medal":{keywords:["award","second"],char:"🥈",fitzpatrick_scale:!1,category:"activity"},"3rd_place_medal":{keywords:["award","third"],char:"🥉",fitzpatrick_scale:!1,category:"activity"},reminder_ribbon:{keywords:["sports","cause","support","awareness"],char:"🎗",fitzpatrick_scale:!1,category:"activity"},rosette:{keywords:["flower","decoration","military"],char:"🏵",fitzpatrick_scale:!1,category:"activity"},ticket:{keywords:["event","concert","pass"],char:"🎫",fitzpatrick_scale:!1,category:"activity"},tickets:{keywords:["sports","concert","entrance"],char:"🎟",fitzpatrick_scale:!1,category:"activity"},performing_arts:{keywords:["acting","theater","drama"],char:"🎭",fitzpatrick_scale:!1,category:"activity"},art:{keywords:["design","paint","draw","colors"],char:"🎨",fitzpatrick_scale:!1,category:"activity"},circus_tent:{keywords:["festival","carnival","party"],char:"🎪",fitzpatrick_scale:!1,category:"activity"},woman_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♀️",fitzpatrick_scale:!0,category:"activity"},man_juggling:{keywords:["juggle","balance","skill","multitask"],char:"🤹‍♂️",fitzpatrick_scale:!0,category:"activity"},microphone:{keywords:["sound","music","PA","sing","talkshow"],char:"🎤",fitzpatrick_scale:!1,category:"activity"},headphones:{keywords:["music","score","gadgets"],char:"🎧",fitzpatrick_scale:!1,category:"activity"},musical_score:{keywords:["treble","clef","compose"],char:"🎼",fitzpatrick_scale:!1,category:"activity"},musical_keyboard:{keywords:["piano","instrument","compose"],char:"🎹",fitzpatrick_scale:!1,category:"activity"},drum:{keywords:["music","instrument","drumsticks","snare"],char:"🥁",fitzpatrick_scale:!1,category:"activity"},saxophone:{keywords:["music","instrument","jazz","blues"],char:"🎷",fitzpatrick_scale:!1,category:"activity"},trumpet:{keywords:["music","brass"],char:"🎺",fitzpatrick_scale:!1,category:"activity"},guitar:{keywords:["music","instrument"],char:"🎸",fitzpatrick_scale:!1,category:"activity"},violin:{keywords:["music","instrument","orchestra","symphony"],char:"🎻",fitzpatrick_scale:!1,category:"activity"},clapper:{keywords:["movie","film","record"],char:"🎬",fitzpatrick_scale:!1,category:"activity"},video_game:{keywords:["play","console","PS4","controller"],char:"🎮",fitzpatrick_scale:!1,category:"activity"},space_invader:{keywords:["game","arcade","play"],char:"👾",fitzpatrick_scale:!1,category:"activity"},dart:{keywords:["game","play","bar","target","bullseye"],char:"🎯",fitzpatrick_scale:!1,category:"activity"},game_die:{keywords:["dice","random","tabletop","play","luck"],char:"🎲",fitzpatrick_scale:!1,category:"activity"},chess_pawn:{keywords:["expendable"],char:"♟",fitzpatrick_scale:!1,category:"activity"},slot_machine:{keywords:["bet","gamble","vegas","fruit machine","luck","casino"],char:"🎰",fitzpatrick_scale:!1,category:"activity"},jigsaw:{keywords:["interlocking","puzzle","piece"],char:"🧩",fitzpatrick_scale:!1,category:"activity"},bowling:{keywords:["sports","fun","play"],char:"🎳",fitzpatrick_scale:!1,category:"activity"},red_car:{keywords:["red","transportation","vehicle"],char:"🚗",fitzpatrick_scale:!1,category:"travel_and_places"},taxi:{keywords:["uber","vehicle","cars","transportation"],char:"🚕",fitzpatrick_scale:!1,category:"travel_and_places"},blue_car:{keywords:["transportation","vehicle"],char:"🚙",fitzpatrick_scale:!1,category:"travel_and_places"},bus:{keywords:["car","vehicle","transportation"],char:"🚌",fitzpatrick_scale:!1,category:"travel_and_places"},trolleybus:{keywords:["bart","transportation","vehicle"],char:"🚎",fitzpatrick_scale:!1,category:"travel_and_places"},racing_car:{keywords:["sports","race","fast","formula","f1"],char:"🏎",fitzpatrick_scale:!1,category:"travel_and_places"},police_car:{keywords:["vehicle","cars","transportation","law","legal","enforcement"],char:"🚓",fitzpatrick_scale:!1,category:"travel_and_places"},ambulance:{keywords:["health","911","hospital"],char:"🚑",fitzpatrick_scale:!1,category:"travel_and_places"},fire_engine:{keywords:["transportation","cars","vehicle"],char:"🚒",fitzpatrick_scale:!1,category:"travel_and_places"},minibus:{keywords:["vehicle","car","transportation"],char:"🚐",fitzpatrick_scale:!1,category:"travel_and_places"},truck:{keywords:["cars","transportation"],char:"🚚",fitzpatrick_scale:!1,category:"travel_and_places"},articulated_lorry:{keywords:["vehicle","cars","transportation","express"],char:"🚛",fitzpatrick_scale:!1,category:"travel_and_places"},tractor:{keywords:["vehicle","car","farming","agriculture"],char:"🚜",fitzpatrick_scale:!1,category:"travel_and_places"},kick_scooter:{keywords:["vehicle","kick","razor"],char:"🛴",fitzpatrick_scale:!1,category:"travel_and_places"},motorcycle:{keywords:["race","sports","fast"],char:"🏍",fitzpatrick_scale:!1,category:"travel_and_places"},bike:{keywords:["sports","bicycle","exercise","hipster"],char:"🚲",fitzpatrick_scale:!1,category:"travel_and_places"},motor_scooter:{keywords:["vehicle","vespa","sasha"],char:"🛵",fitzpatrick_scale:!1,category:"travel_and_places"},rotating_light:{keywords:["police","ambulance","911","emergency","alert","error","pinged","law","legal"],char:"🚨",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_police_car:{keywords:["vehicle","law","legal","enforcement","911"],char:"🚔",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_bus:{keywords:["vehicle","transportation"],char:"🚍",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_automobile:{keywords:["car","vehicle","transportation"],char:"🚘",fitzpatrick_scale:!1,category:"travel_and_places"},oncoming_taxi:{keywords:["vehicle","cars","uber"],char:"🚖",fitzpatrick_scale:!1,category:"travel_and_places"},aerial_tramway:{keywords:["transportation","vehicle","ski"],char:"🚡",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_cableway:{keywords:["transportation","vehicle","ski"],char:"🚠",fitzpatrick_scale:!1,category:"travel_and_places"},suspension_railway:{keywords:["vehicle","transportation"],char:"🚟",fitzpatrick_scale:!1,category:"travel_and_places"},railway_car:{keywords:["transportation","vehicle"],char:"🚃",fitzpatrick_scale:!1,category:"travel_and_places"},train:{keywords:["transportation","vehicle","carriage","public","travel"],char:"🚋",fitzpatrick_scale:!1,category:"travel_and_places"},monorail:{keywords:["transportation","vehicle"],char:"🚝",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_side:{keywords:["transportation","vehicle"],char:"🚄",fitzpatrick_scale:!1,category:"travel_and_places"},bullettrain_front:{keywords:["transportation","vehicle","speed","fast","public","travel"],char:"🚅",fitzpatrick_scale:!1,category:"travel_and_places"},light_rail:{keywords:["transportation","vehicle"],char:"🚈",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_railway:{keywords:["transportation","vehicle"],char:"🚞",fitzpatrick_scale:!1,category:"travel_and_places"},steam_locomotive:{keywords:["transportation","vehicle","train"],char:"🚂",fitzpatrick_scale:!1,category:"travel_and_places"},train2:{keywords:["transportation","vehicle"],char:"🚆",fitzpatrick_scale:!1,category:"travel_and_places"},metro:{keywords:["transportation","blue-square","mrt","underground","tube"],char:"🚇",fitzpatrick_scale:!1,category:"travel_and_places"},tram:{keywords:["transportation","vehicle"],char:"🚊",fitzpatrick_scale:!1,category:"travel_and_places"},station:{keywords:["transportation","vehicle","public"],char:"🚉",fitzpatrick_scale:!1,category:"travel_and_places"},flying_saucer:{keywords:["transportation","vehicle","ufo"],char:"🛸",fitzpatrick_scale:!1,category:"travel_and_places"},helicopter:{keywords:["transportation","vehicle","fly"],char:"🚁",fitzpatrick_scale:!1,category:"travel_and_places"},small_airplane:{keywords:["flight","transportation","fly","vehicle"],char:"🛩",fitzpatrick_scale:!1,category:"travel_and_places"},airplane:{keywords:["vehicle","transportation","flight","fly"],char:"✈️",fitzpatrick_scale:!1,category:"travel_and_places"},flight_departure:{keywords:["airport","flight","landing"],char:"🛫",fitzpatrick_scale:!1,category:"travel_and_places"},flight_arrival:{keywords:["airport","flight","boarding"],char:"🛬",fitzpatrick_scale:!1,category:"travel_and_places"},sailboat:{keywords:["ship","summer","transportation","water","sailing"],char:"⛵",fitzpatrick_scale:!1,category:"travel_and_places"},motor_boat:{keywords:["ship"],char:"🛥",fitzpatrick_scale:!1,category:"travel_and_places"},speedboat:{keywords:["ship","transportation","vehicle","summer"],char:"🚤",fitzpatrick_scale:!1,category:"travel_and_places"},ferry:{keywords:["boat","ship","yacht"],char:"⛴",fitzpatrick_scale:!1,category:"travel_and_places"},passenger_ship:{keywords:["yacht","cruise","ferry"],char:"🛳",fitzpatrick_scale:!1,category:"travel_and_places"},rocket:{keywords:["launch","ship","staffmode","NASA","outer space","outer_space","fly"],char:"🚀",fitzpatrick_scale:!1,category:"travel_and_places"},artificial_satellite:{keywords:["communication","gps","orbit","spaceflight","NASA","ISS"],char:"🛰",fitzpatrick_scale:!1,category:"travel_and_places"},seat:{keywords:["sit","airplane","transport","bus","flight","fly"],char:"💺",fitzpatrick_scale:!1,category:"travel_and_places"},canoe:{keywords:["boat","paddle","water","ship"],char:"🛶",fitzpatrick_scale:!1,category:"travel_and_places"},anchor:{keywords:["ship","ferry","sea","boat"],char:"⚓",fitzpatrick_scale:!1,category:"travel_and_places"},construction:{keywords:["wip","progress","caution","warning"],char:"🚧",fitzpatrick_scale:!1,category:"travel_and_places"},fuelpump:{keywords:["gas station","petroleum"],char:"⛽",fitzpatrick_scale:!1,category:"travel_and_places"},busstop:{keywords:["transportation","wait"],char:"🚏",fitzpatrick_scale:!1,category:"travel_and_places"},vertical_traffic_light:{keywords:["transportation","driving"],char:"🚦",fitzpatrick_scale:!1,category:"travel_and_places"},traffic_light:{keywords:["transportation","signal"],char:"🚥",fitzpatrick_scale:!1,category:"travel_and_places"},checkered_flag:{keywords:["contest","finishline","race","gokart"],char:"🏁",fitzpatrick_scale:!1,category:"travel_and_places"},ship:{keywords:["transportation","titanic","deploy"],char:"🚢",fitzpatrick_scale:!1,category:"travel_and_places"},ferris_wheel:{keywords:["photo","carnival","londoneye"],char:"🎡",fitzpatrick_scale:!1,category:"travel_and_places"},roller_coaster:{keywords:["carnival","playground","photo","fun"],char:"🎢",fitzpatrick_scale:!1,category:"travel_and_places"},carousel_horse:{keywords:["photo","carnival"],char:"🎠",fitzpatrick_scale:!1,category:"travel_and_places"},building_construction:{keywords:["wip","working","progress"],char:"🏗",fitzpatrick_scale:!1,category:"travel_and_places"},foggy:{keywords:["photo","mountain"],char:"🌁",fitzpatrick_scale:!1,category:"travel_and_places"},tokyo_tower:{keywords:["photo","japanese"],char:"🗼",fitzpatrick_scale:!1,category:"travel_and_places"},factory:{keywords:["building","industry","pollution","smoke"],char:"🏭",fitzpatrick_scale:!1,category:"travel_and_places"},fountain:{keywords:["photo","summer","water","fresh"],char:"⛲",fitzpatrick_scale:!1,category:"travel_and_places"},rice_scene:{keywords:["photo","japan","asia","tsukimi"],char:"🎑",fitzpatrick_scale:!1,category:"travel_and_places"},mountain:{keywords:["photo","nature","environment"],char:"⛰",fitzpatrick_scale:!1,category:"travel_and_places"},mountain_snow:{keywords:["photo","nature","environment","winter","cold"],char:"🏔",fitzpatrick_scale:!1,category:"travel_and_places"},mount_fuji:{keywords:["photo","mountain","nature","japanese"],char:"🗻",fitzpatrick_scale:!1,category:"travel_and_places"},volcano:{keywords:["photo","nature","disaster"],char:"🌋",fitzpatrick_scale:!1,category:"travel_and_places"},japan:{keywords:["nation","country","japanese","asia"],char:"🗾",fitzpatrick_scale:!1,category:"travel_and_places"},camping:{keywords:["photo","outdoors","tent"],char:"🏕",fitzpatrick_scale:!1,category:"travel_and_places"},tent:{keywords:["photo","camping","outdoors"],char:"⛺",fitzpatrick_scale:!1,category:"travel_and_places"},national_park:{keywords:["photo","environment","nature"],char:"🏞",fitzpatrick_scale:!1,category:"travel_and_places"},motorway:{keywords:["road","cupertino","interstate","highway"],char:"🛣",fitzpatrick_scale:!1,category:"travel_and_places"},railway_track:{keywords:["train","transportation"],char:"🛤",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise:{keywords:["morning","view","vacation","photo"],char:"🌅",fitzpatrick_scale:!1,category:"travel_and_places"},sunrise_over_mountains:{keywords:["view","vacation","photo"],char:"🌄",fitzpatrick_scale:!1,category:"travel_and_places"},desert:{keywords:["photo","warm","saharah"],char:"🏜",fitzpatrick_scale:!1,category:"travel_and_places"},beach_umbrella:{keywords:["weather","summer","sunny","sand","mojito"],char:"🏖",fitzpatrick_scale:!1,category:"travel_and_places"},desert_island:{keywords:["photo","tropical","mojito"],char:"🏝",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunrise:{keywords:["photo","good morning","dawn"],char:"🌇",fitzpatrick_scale:!1,category:"travel_and_places"},city_sunset:{keywords:["photo","evening","sky","buildings"],char:"🌆",fitzpatrick_scale:!1,category:"travel_and_places"},cityscape:{keywords:["photo","night life","urban"],char:"🏙",fitzpatrick_scale:!1,category:"travel_and_places"},night_with_stars:{keywords:["evening","city","downtown"],char:"🌃",fitzpatrick_scale:!1,category:"travel_and_places"},bridge_at_night:{keywords:["photo","sanfrancisco"],char:"🌉",fitzpatrick_scale:!1,category:"travel_and_places"},milky_way:{keywords:["photo","space","stars"],char:"🌌",fitzpatrick_scale:!1,category:"travel_and_places"},stars:{keywords:["night","photo"],char:"🌠",fitzpatrick_scale:!1,category:"travel_and_places"},sparkler:{keywords:["stars","night","shine"],char:"🎇",fitzpatrick_scale:!1,category:"travel_and_places"},fireworks:{keywords:["photo","festival","carnival","congratulations"],char:"🎆",fitzpatrick_scale:!1,category:"travel_and_places"},rainbow:{keywords:["nature","happy","unicorn_face","photo","sky","spring"],char:"🌈",fitzpatrick_scale:!1,category:"travel_and_places"},houses:{keywords:["buildings","photo"],char:"🏘",fitzpatrick_scale:!1,category:"travel_and_places"},european_castle:{keywords:["building","royalty","history"],char:"🏰",fitzpatrick_scale:!1,category:"travel_and_places"},japanese_castle:{keywords:["photo","building"],char:"🏯",fitzpatrick_scale:!1,category:"travel_and_places"},stadium:{keywords:["photo","place","sports","concert","venue"],char:"🏟",fitzpatrick_scale:!1,category:"travel_and_places"},statue_of_liberty:{keywords:["american","newyork"],char:"🗽",fitzpatrick_scale:!1,category:"travel_and_places"},house:{keywords:["building","home"],char:"🏠",fitzpatrick_scale:!1,category:"travel_and_places"},house_with_garden:{keywords:["home","plant","nature"],char:"🏡",fitzpatrick_scale:!1,category:"travel_and_places"},derelict_house:{keywords:["abandon","evict","broken","building"],char:"🏚",fitzpatrick_scale:!1,category:"travel_and_places"},office:{keywords:["building","bureau","work"],char:"🏢",fitzpatrick_scale:!1,category:"travel_and_places"},department_store:{keywords:["building","shopping","mall"],char:"🏬",fitzpatrick_scale:!1,category:"travel_and_places"},post_office:{keywords:["building","envelope","communication"],char:"🏣",fitzpatrick_scale:!1,category:"travel_and_places"},european_post_office:{keywords:["building","email"],char:"🏤",fitzpatrick_scale:!1,category:"travel_and_places"},hospital:{keywords:["building","health","surgery","doctor"],char:"🏥",fitzpatrick_scale:!1,category:"travel_and_places"},bank:{keywords:["building","money","sales","cash","business","enterprise"],char:"🏦",fitzpatrick_scale:!1,category:"travel_and_places"},hotel:{keywords:["building","accomodation","checkin"],char:"🏨",fitzpatrick_scale:!1,category:"travel_and_places"},convenience_store:{keywords:["building","shopping","groceries"],char:"🏪",fitzpatrick_scale:!1,category:"travel_and_places"},school:{keywords:["building","student","education","learn","teach"],char:"🏫",fitzpatrick_scale:!1,category:"travel_and_places"},love_hotel:{keywords:["like","affection","dating"],char:"🏩",fitzpatrick_scale:!1,category:"travel_and_places"},wedding:{keywords:["love","like","affection","couple","marriage","bride","groom"],char:"💒",fitzpatrick_scale:!1,category:"travel_and_places"},classical_building:{keywords:["art","culture","history"],char:"🏛",fitzpatrick_scale:!1,category:"travel_and_places"},church:{keywords:["building","religion","christ"],char:"⛪",fitzpatrick_scale:!1,category:"travel_and_places"},mosque:{keywords:["islam","worship","minaret"],char:"🕌",fitzpatrick_scale:!1,category:"travel_and_places"},synagogue:{keywords:["judaism","worship","temple","jewish"],char:"🕍",fitzpatrick_scale:!1,category:"travel_and_places"},kaaba:{keywords:["mecca","mosque","islam"],char:"🕋",fitzpatrick_scale:!1,category:"travel_and_places"},shinto_shrine:{keywords:["temple","japan","kyoto"],char:"⛩",fitzpatrick_scale:!1,category:"travel_and_places"},watch:{keywords:["time","accessories"],char:"⌚",fitzpatrick_scale:!1,category:"objects"},iphone:{keywords:["technology","apple","gadgets","dial"],char:"📱",fitzpatrick_scale:!1,category:"objects"},calling:{keywords:["iphone","incoming"],char:"📲",fitzpatrick_scale:!1,category:"objects"},computer:{keywords:["technology","laptop","screen","display","monitor"],char:"💻",fitzpatrick_scale:!1,category:"objects"},keyboard:{keywords:["technology","computer","type","input","text"],char:"⌨",fitzpatrick_scale:!1,category:"objects"},desktop_computer:{keywords:["technology","computing","screen"],char:"🖥",fitzpatrick_scale:!1,category:"objects"},printer:{keywords:["paper","ink"],char:"🖨",fitzpatrick_scale:!1,category:"objects"},computer_mouse:{keywords:["click"],char:"🖱",fitzpatrick_scale:!1,category:"objects"},trackball:{keywords:["technology","trackpad"],char:"🖲",fitzpatrick_scale:!1,category:"objects"},joystick:{keywords:["game","play"],char:"🕹",fitzpatrick_scale:!1,category:"objects"},clamp:{keywords:["tool"],char:"🗜",fitzpatrick_scale:!1,category:"objects"},minidisc:{keywords:["technology","record","data","disk","90s"],char:"💽",fitzpatrick_scale:!1,category:"objects"},floppy_disk:{keywords:["oldschool","technology","save","90s","80s"],char:"💾",fitzpatrick_scale:!1,category:"objects"},cd:{keywords:["technology","dvd","disk","disc","90s"],char:"💿",fitzpatrick_scale:!1,category:"objects"},dvd:{keywords:["cd","disk","disc"],char:"📀",fitzpatrick_scale:!1,category:"objects"},vhs:{keywords:["record","video","oldschool","90s","80s"],char:"📼",fitzpatrick_scale:!1,category:"objects"},camera:{keywords:["gadgets","photography"],char:"📷",fitzpatrick_scale:!1,category:"objects"},camera_flash:{keywords:["photography","gadgets"],char:"📸",fitzpatrick_scale:!1,category:"objects"},video_camera:{keywords:["film","record"],char:"📹",fitzpatrick_scale:!1,category:"objects"},movie_camera:{keywords:["film","record"],char:"🎥",fitzpatrick_scale:!1,category:"objects"},film_projector:{keywords:["video","tape","record","movie"],char:"📽",fitzpatrick_scale:!1,category:"objects"},film_strip:{keywords:["movie"],char:"🎞",fitzpatrick_scale:!1,category:"objects"},telephone_receiver:{keywords:["technology","communication","dial"],char:"📞",fitzpatrick_scale:!1,category:"objects"},phone:{keywords:["technology","communication","dial","telephone"],char:"☎️",fitzpatrick_scale:!1,category:"objects"},pager:{keywords:["bbcall","oldschool","90s"],char:"📟",fitzpatrick_scale:!1,category:"objects"},fax:{keywords:["communication","technology"],char:"📠",fitzpatrick_scale:!1,category:"objects"},tv:{keywords:["technology","program","oldschool","show","television"],char:"📺",fitzpatrick_scale:!1,category:"objects"},radio:{keywords:["communication","music","podcast","program"],char:"📻",fitzpatrick_scale:!1,category:"objects"},studio_microphone:{keywords:["sing","recording","artist","talkshow"],char:"🎙",fitzpatrick_scale:!1,category:"objects"},level_slider:{keywords:["scale"],char:"🎚",fitzpatrick_scale:!1,category:"objects"},control_knobs:{keywords:["dial"],char:"🎛",fitzpatrick_scale:!1,category:"objects"},compass:{keywords:["magnetic","navigation","orienteering"],char:"🧭",fitzpatrick_scale:!1,category:"objects"},stopwatch:{keywords:["time","deadline"],char:"⏱",fitzpatrick_scale:!1,category:"objects"},timer_clock:{keywords:["alarm"],char:"⏲",fitzpatrick_scale:!1,category:"objects"},alarm_clock:{keywords:["time","wake"],char:"⏰",fitzpatrick_scale:!1,category:"objects"},mantelpiece_clock:{keywords:["time"],char:"🕰",fitzpatrick_scale:!1,category:"objects"},hourglass_flowing_sand:{keywords:["oldschool","time","countdown"],char:"⏳",fitzpatrick_scale:!1,category:"objects"},hourglass:{keywords:["time","clock","oldschool","limit","exam","quiz","test"],char:"⌛",fitzpatrick_scale:!1,category:"objects"},satellite:{keywords:["communication","future","radio","space"],char:"📡",fitzpatrick_scale:!1,category:"objects"},battery:{keywords:["power","energy","sustain"],char:"🔋",fitzpatrick_scale:!1,category:"objects"},electric_plug:{keywords:["charger","power"],char:"🔌",fitzpatrick_scale:!1,category:"objects"},bulb:{keywords:["light","electricity","idea"],char:"💡",fitzpatrick_scale:!1,category:"objects"},flashlight:{keywords:["dark","camping","sight","night"],char:"🔦",fitzpatrick_scale:!1,category:"objects"},candle:{keywords:["fire","wax"],char:"🕯",fitzpatrick_scale:!1,category:"objects"},fire_extinguisher:{keywords:["quench"],char:"🧯",fitzpatrick_scale:!1,category:"objects"},wastebasket:{keywords:["bin","trash","rubbish","garbage","toss"],char:"🗑",fitzpatrick_scale:!1,category:"objects"},oil_drum:{keywords:["barrell"],char:"🛢",fitzpatrick_scale:!1,category:"objects"},money_with_wings:{keywords:["dollar","bills","payment","sale"],char:"💸",fitzpatrick_scale:!1,category:"objects"},dollar:{keywords:["money","sales","bill","currency"],char:"💵",fitzpatrick_scale:!1,category:"objects"},yen:{keywords:["money","sales","japanese","dollar","currency"],char:"💴",fitzpatrick_scale:!1,category:"objects"},euro:{keywords:["money","sales","dollar","currency"],char:"💶",fitzpatrick_scale:!1,category:"objects"},pound:{keywords:["british","sterling","money","sales","bills","uk","england","currency"],char:"💷",fitzpatrick_scale:!1,category:"objects"},moneybag:{keywords:["dollar","payment","coins","sale"],char:"💰",fitzpatrick_scale:!1,category:"objects"},credit_card:{keywords:["money","sales","dollar","bill","payment","shopping"],char:"💳",fitzpatrick_scale:!1,category:"objects"},gem:{keywords:["blue","ruby","diamond","jewelry"],char:"💎",fitzpatrick_scale:!1,category:"objects"},balance_scale:{keywords:["law","fairness","weight"],char:"⚖",fitzpatrick_scale:!1,category:"objects"},toolbox:{keywords:["tools","diy","fix","maintainer","mechanic"],char:"🧰",fitzpatrick_scale:!1,category:"objects"},wrench:{keywords:["tools","diy","ikea","fix","maintainer"],char:"🔧",fitzpatrick_scale:!1,category:"objects"},hammer:{keywords:["tools","build","create"],char:"🔨",fitzpatrick_scale:!1,category:"objects"},hammer_and_pick:{keywords:["tools","build","create"],char:"⚒",fitzpatrick_scale:!1,category:"objects"},hammer_and_wrench:{keywords:["tools","build","create"],char:"🛠",fitzpatrick_scale:!1,category:"objects"},pick:{keywords:["tools","dig"],char:"⛏",fitzpatrick_scale:!1,category:"objects"},nut_and_bolt:{keywords:["handy","tools","fix"],char:"🔩",fitzpatrick_scale:!1,category:"objects"},gear:{keywords:["cog"],char:"⚙",fitzpatrick_scale:!1,category:"objects"},brick:{keywords:["bricks"],char:"🧱",fitzpatrick_scale:!1,category:"objects"},chains:{keywords:["lock","arrest"],char:"⛓",fitzpatrick_scale:!1,category:"objects"},magnet:{keywords:["attraction","magnetic"],char:"🧲",fitzpatrick_scale:!1,category:"objects"},gun:{keywords:["violence","weapon","pistol","revolver"],char:"🔫",fitzpatrick_scale:!1,category:"objects"},bomb:{keywords:["boom","explode","explosion","terrorism"],char:"💣",fitzpatrick_scale:!1,category:"objects"},firecracker:{keywords:["dynamite","boom","explode","explosion","explosive"],char:"🧨",fitzpatrick_scale:!1,category:"objects"},hocho:{keywords:["knife","blade","cutlery","kitchen","weapon"],char:"🔪",fitzpatrick_scale:!1,category:"objects"},dagger:{keywords:["weapon"],char:"🗡",fitzpatrick_scale:!1,category:"objects"},crossed_swords:{keywords:["weapon"],char:"⚔",fitzpatrick_scale:!1,category:"objects"},shield:{keywords:["protection","security"],char:"🛡",fitzpatrick_scale:!1,category:"objects"},smoking:{keywords:["kills","tobacco","cigarette","joint","smoke"],char:"🚬",fitzpatrick_scale:!1,category:"objects"},skull_and_crossbones:{keywords:["poison","danger","deadly","scary","death","pirate","evil"],char:"☠",fitzpatrick_scale:!1,category:"objects"},coffin:{keywords:["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],char:"⚰",fitzpatrick_scale:!1,category:"objects"},funeral_urn:{keywords:["dead","die","death","rip","ashes"],char:"⚱",fitzpatrick_scale:!1,category:"objects"},amphora:{keywords:["vase","jar"],char:"🏺",fitzpatrick_scale:!1,category:"objects"},crystal_ball:{keywords:["disco","party","magic","circus","fortune_teller"],char:"🔮",fitzpatrick_scale:!1,category:"objects"},prayer_beads:{keywords:["dhikr","religious"],char:"📿",fitzpatrick_scale:!1,category:"objects"},nazar_amulet:{keywords:["bead","charm"],char:"🧿",fitzpatrick_scale:!1,category:"objects"},barber:{keywords:["hair","salon","style"],char:"💈",fitzpatrick_scale:!1,category:"objects"},alembic:{keywords:["distilling","science","experiment","chemistry"],char:"⚗",fitzpatrick_scale:!1,category:"objects"},telescope:{keywords:["stars","space","zoom","science","astronomy"],char:"🔭",fitzpatrick_scale:!1,category:"objects"},microscope:{keywords:["laboratory","experiment","zoomin","science","study"],char:"🔬",fitzpatrick_scale:!1,category:"objects"},hole:{keywords:["embarrassing"],char:"🕳",fitzpatrick_scale:!1,category:"objects"},pill:{keywords:["health","medicine","doctor","pharmacy","drug"],char:"💊",fitzpatrick_scale:!1,category:"objects"},syringe:{keywords:["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],char:"💉",fitzpatrick_scale:!1,category:"objects"},dna:{keywords:["biologist","genetics","life"],char:"🧬",fitzpatrick_scale:!1,category:"objects"},microbe:{keywords:["amoeba","bacteria","germs"],char:"🦠",fitzpatrick_scale:!1,category:"objects"},petri_dish:{keywords:["bacteria","biology","culture","lab"],char:"🧫",fitzpatrick_scale:!1,category:"objects"},test_tube:{keywords:["chemistry","experiment","lab","science"],char:"🧪",fitzpatrick_scale:!1,category:"objects"},thermometer:{keywords:["weather","temperature","hot","cold"],char:"🌡",fitzpatrick_scale:!1,category:"objects"},broom:{keywords:["cleaning","sweeping","witch"],char:"🧹",fitzpatrick_scale:!1,category:"objects"},basket:{keywords:["laundry"],char:"🧺",fitzpatrick_scale:!1,category:"objects"},toilet_paper:{keywords:["roll"],char:"🧻",fitzpatrick_scale:!1,category:"objects"},label:{keywords:["sale","tag"],char:"🏷",fitzpatrick_scale:!1,category:"objects"},bookmark:{keywords:["favorite","label","save"],char:"🔖",fitzpatrick_scale:!1,category:"objects"},toilet:{keywords:["restroom","wc","washroom","bathroom","potty"],char:"🚽",fitzpatrick_scale:!1,category:"objects"},shower:{keywords:["clean","water","bathroom"],char:"🚿",fitzpatrick_scale:!1,category:"objects"},bathtub:{keywords:["clean","shower","bathroom"],char:"🛁",fitzpatrick_scale:!1,category:"objects"},soap:{keywords:["bar","bathing","cleaning","lather"],char:"🧼",fitzpatrick_scale:!1,category:"objects"},sponge:{keywords:["absorbing","cleaning","porous"],char:"🧽",fitzpatrick_scale:!1,category:"objects"},lotion_bottle:{keywords:["moisturizer","sunscreen"],char:"🧴",fitzpatrick_scale:!1,category:"objects"},key:{keywords:["lock","door","password"],char:"🔑",fitzpatrick_scale:!1,category:"objects"},old_key:{keywords:["lock","door","password"],char:"🗝",fitzpatrick_scale:!1,category:"objects"},couch_and_lamp:{keywords:["read","chill"],char:"🛋",fitzpatrick_scale:!1,category:"objects"},sleeping_bed:{keywords:["bed","rest"],char:"🛌",fitzpatrick_scale:!0,category:"objects"},bed:{keywords:["sleep","rest"],char:"🛏",fitzpatrick_scale:!1,category:"objects"},door:{keywords:["house","entry","exit"],char:"🚪",fitzpatrick_scale:!1,category:"objects"},bellhop_bell:{keywords:["service"],char:"🛎",fitzpatrick_scale:!1,category:"objects"},teddy_bear:{keywords:["plush","stuffed"],char:"🧸",fitzpatrick_scale:!1,category:"objects"},framed_picture:{keywords:["photography"],char:"🖼",fitzpatrick_scale:!1,category:"objects"},world_map:{keywords:["location","direction"],char:"🗺",fitzpatrick_scale:!1,category:"objects"},parasol_on_ground:{keywords:["weather","summer"],char:"⛱",fitzpatrick_scale:!1,category:"objects"},moyai:{keywords:["rock","easter island","moai"],char:"🗿",fitzpatrick_scale:!1,category:"objects"},shopping:{keywords:["mall","buy","purchase"],char:"🛍",fitzpatrick_scale:!1,category:"objects"},shopping_cart:{keywords:["trolley"],char:"🛒",fitzpatrick_scale:!1,category:"objects"},balloon:{keywords:["party","celebration","birthday","circus"],char:"🎈",fitzpatrick_scale:!1,category:"objects"},flags:{keywords:["fish","japanese","koinobori","carp","banner"],char:"🎏",fitzpatrick_scale:!1,category:"objects"},ribbon:{keywords:["decoration","pink","girl","bowtie"],char:"🎀",fitzpatrick_scale:!1,category:"objects"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},confetti_ball:{keywords:["festival","party","birthday","circus"],char:"🎊",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},dolls:{keywords:["japanese","toy","kimono"],char:"🎎",fitzpatrick_scale:!1,category:"objects"},wind_chime:{keywords:["nature","ding","spring","bell"],char:"🎐",fitzpatrick_scale:!1,category:"objects"},crossed_flags:{keywords:["japanese","nation","country","border"],char:"🎌",fitzpatrick_scale:!1,category:"objects"},izakaya_lantern:{keywords:["light","paper","halloween","spooky"],char:"🏮",fitzpatrick_scale:!1,category:"objects"},red_envelope:{keywords:["gift"],char:"🧧",fitzpatrick_scale:!1,category:"objects"},email:{keywords:["letter","postal","inbox","communication"],char:"✉️",fitzpatrick_scale:!1,category:"objects"},envelope_with_arrow:{keywords:["email","communication"],char:"📩",fitzpatrick_scale:!1,category:"objects"},incoming_envelope:{keywords:["email","inbox"],char:"📨",fitzpatrick_scale:!1,category:"objects"},"e-mail":{keywords:["communication","inbox"],char:"📧",fitzpatrick_scale:!1,category:"objects"},love_letter:{keywords:["email","like","affection","envelope","valentines"],char:"💌",fitzpatrick_scale:!1,category:"objects"},postbox:{keywords:["email","letter","envelope"],char:"📮",fitzpatrick_scale:!1,category:"objects"},mailbox_closed:{keywords:["email","communication","inbox"],char:"📪",fitzpatrick_scale:!1,category:"objects"},mailbox:{keywords:["email","inbox","communication"],char:"📫",fitzpatrick_scale:!1,category:"objects"},mailbox_with_mail:{keywords:["email","inbox","communication"],char:"📬",fitzpatrick_scale:!1,category:"objects"},mailbox_with_no_mail:{keywords:["email","inbox"],char:"📭",fitzpatrick_scale:!1,category:"objects"},package:{keywords:["mail","gift","cardboard","box","moving"],char:"📦",fitzpatrick_scale:!1,category:"objects"},postal_horn:{keywords:["instrument","music"],char:"📯",fitzpatrick_scale:!1,category:"objects"},inbox_tray:{keywords:["email","documents"],char:"📥",fitzpatrick_scale:!1,category:"objects"},outbox_tray:{keywords:["inbox","email"],char:"📤",fitzpatrick_scale:!1,category:"objects"},scroll:{keywords:["documents","ancient","history","paper"],char:"📜",fitzpatrick_scale:!1,category:"objects"},page_with_curl:{keywords:["documents","office","paper"],char:"📃",fitzpatrick_scale:!1,category:"objects"},bookmark_tabs:{keywords:["favorite","save","order","tidy"],char:"📑",fitzpatrick_scale:!1,category:"objects"},receipt:{keywords:["accounting","expenses"],char:"🧾",fitzpatrick_scale:!1,category:"objects"},bar_chart:{keywords:["graph","presentation","stats"],char:"📊",fitzpatrick_scale:!1,category:"objects"},chart_with_upwards_trend:{keywords:["graph","presentation","stats","recovery","business","economics","money","sales","good","success"],char:"📈",fitzpatrick_scale:!1,category:"objects"},chart_with_downwards_trend:{keywords:["graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],char:"📉",fitzpatrick_scale:!1,category:"objects"},page_facing_up:{keywords:["documents","office","paper","information"],char:"📄",fitzpatrick_scale:!1,category:"objects"},date:{keywords:["calendar","schedule"],char:"📅",fitzpatrick_scale:!1,category:"objects"},calendar:{keywords:["schedule","date","planning"],char:"📆",fitzpatrick_scale:!1,category:"objects"},spiral_calendar:{keywords:["date","schedule","planning"],char:"🗓",fitzpatrick_scale:!1,category:"objects"},card_index:{keywords:["business","stationery"],char:"📇",fitzpatrick_scale:!1,category:"objects"},card_file_box:{keywords:["business","stationery"],char:"🗃",fitzpatrick_scale:!1,category:"objects"},ballot_box:{keywords:["election","vote"],char:"🗳",fitzpatrick_scale:!1,category:"objects"},file_cabinet:{keywords:["filing","organizing"],char:"🗄",fitzpatrick_scale:!1,category:"objects"},clipboard:{keywords:["stationery","documents"],char:"📋",fitzpatrick_scale:!1,category:"objects"},spiral_notepad:{keywords:["memo","stationery"],char:"🗒",fitzpatrick_scale:!1,category:"objects"},file_folder:{keywords:["documents","business","office"],char:"📁",fitzpatrick_scale:!1,category:"objects"},open_file_folder:{keywords:["documents","load"],char:"📂",fitzpatrick_scale:!1,category:"objects"},card_index_dividers:{keywords:["organizing","business","stationery"],char:"🗂",fitzpatrick_scale:!1,category:"objects"},newspaper_roll:{keywords:["press","headline"],char:"🗞",fitzpatrick_scale:!1,category:"objects"},newspaper:{keywords:["press","headline"],char:"📰",fitzpatrick_scale:!1,category:"objects"},notebook:{keywords:["stationery","record","notes","paper","study"],char:"📓",fitzpatrick_scale:!1,category:"objects"},closed_book:{keywords:["read","library","knowledge","textbook","learn"],char:"📕",fitzpatrick_scale:!1,category:"objects"},green_book:{keywords:["read","library","knowledge","study"],char:"📗",fitzpatrick_scale:!1,category:"objects"},blue_book:{keywords:["read","library","knowledge","learn","study"],char:"📘",fitzpatrick_scale:!1,category:"objects"},orange_book:{keywords:["read","library","knowledge","textbook","study"],char:"📙",fitzpatrick_scale:!1,category:"objects"},notebook_with_decorative_cover:{keywords:["classroom","notes","record","paper","study"],char:"📔",fitzpatrick_scale:!1,category:"objects"},ledger:{keywords:["notes","paper"],char:"📒",fitzpatrick_scale:!1,category:"objects"},books:{keywords:["literature","library","study"],char:"📚",fitzpatrick_scale:!1,category:"objects"},open_book:{keywords:["book","read","library","knowledge","literature","learn","study"],char:"📖",fitzpatrick_scale:!1,category:"objects"},safety_pin:{keywords:["diaper"],char:"🧷",fitzpatrick_scale:!1,category:"objects"},link:{keywords:["rings","url"],char:"🔗",fitzpatrick_scale:!1,category:"objects"},paperclip:{keywords:["documents","stationery"],char:"📎",fitzpatrick_scale:!1,category:"objects"},paperclips:{keywords:["documents","stationery"],char:"🖇",fitzpatrick_scale:!1,category:"objects"},scissors:{keywords:["stationery","cut"],char:"✂️",fitzpatrick_scale:!1,category:"objects"},triangular_ruler:{keywords:["stationery","math","architect","sketch"],char:"📐",fitzpatrick_scale:!1,category:"objects"},straight_ruler:{keywords:["stationery","calculate","length","math","school","drawing","architect","sketch"],char:"📏",fitzpatrick_scale:!1,category:"objects"},abacus:{keywords:["calculation"],char:"🧮",fitzpatrick_scale:!1,category:"objects"},pushpin:{keywords:["stationery","mark","here"],char:"📌",fitzpatrick_scale:!1,category:"objects"},round_pushpin:{keywords:["stationery","location","map","here"],char:"📍",fitzpatrick_scale:!1,category:"objects"},triangular_flag_on_post:{keywords:["mark","milestone","place"],char:"🚩",fitzpatrick_scale:!1,category:"objects"},white_flag:{keywords:["losing","loser","lost","surrender","give up","fail"],char:"🏳",fitzpatrick_scale:!1,category:"objects"},black_flag:{keywords:["pirate"],char:"🏴",fitzpatrick_scale:!1,category:"objects"},rainbow_flag:{keywords:["flag","rainbow","pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],char:"🏳️‍🌈",fitzpatrick_scale:!1,category:"objects"},closed_lock_with_key:{keywords:["security","privacy"],char:"🔐",fitzpatrick_scale:!1,category:"objects"},lock:{keywords:["security","password","padlock"],char:"🔒",fitzpatrick_scale:!1,category:"objects"},unlock:{keywords:["privacy","security"],char:"🔓",fitzpatrick_scale:!1,category:"objects"},lock_with_ink_pen:{keywords:["security","secret"],char:"🔏",fitzpatrick_scale:!1,category:"objects"},pen:{keywords:["stationery","writing","write"],char:"🖊",fitzpatrick_scale:!1,category:"objects"},fountain_pen:{keywords:["stationery","writing","write"],char:"🖋",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},pencil2:{keywords:["stationery","write","paper","writing","school","study"],char:"✏️",fitzpatrick_scale:!1,category:"objects"},crayon:{keywords:["drawing","creativity"],char:"🖍",fitzpatrick_scale:!1,category:"objects"},paintbrush:{keywords:["drawing","creativity","art"],char:"🖌",fitzpatrick_scale:!1,category:"objects"},mag:{keywords:["search","zoom","find","detective"],char:"🔍",fitzpatrick_scale:!1,category:"objects"},mag_right:{keywords:["search","zoom","find","detective"],char:"🔎",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},orange_heart:{keywords:["love","like","affection","valentines"],char:"🧡",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},blue_heart:{keywords:["love","like","affection","valentines"],char:"💙",fitzpatrick_scale:!1,category:"symbols"},purple_heart:{keywords:["love","like","affection","valentines"],char:"💜",fitzpatrick_scale:!1,category:"symbols"},black_heart:{keywords:["evil"],char:"🖤",fitzpatrick_scale:!1,category:"symbols"},broken_heart:{keywords:["sad","sorry","break","heart","heartbreak"],char:"💔",fitzpatrick_scale:!1,category:"symbols"},heavy_heart_exclamation:{keywords:["decoration","love"],char:"❣",fitzpatrick_scale:!1,category:"symbols"},two_hearts:{keywords:["love","like","affection","valentines","heart"],char:"💕",fitzpatrick_scale:!1,category:"symbols"},revolving_hearts:{keywords:["love","like","affection","valentines"],char:"💞",fitzpatrick_scale:!1,category:"symbols"},heartbeat:{keywords:["love","like","affection","valentines","pink","heart"],char:"💓",fitzpatrick_scale:!1,category:"symbols"},heartpulse:{keywords:["like","love","affection","valentines","pink"],char:"💗",fitzpatrick_scale:!1,category:"symbols"},sparkling_heart:{keywords:["love","like","affection","valentines"],char:"💖",fitzpatrick_scale:!1,category:"symbols"},cupid:{keywords:["love","like","heart","affection","valentines"],char:"💘",fitzpatrick_scale:!1,category:"symbols"},gift_heart:{keywords:["love","valentines"],char:"💝",fitzpatrick_scale:!1,category:"symbols"},heart_decoration:{keywords:["purple-square","love","like"],char:"💟",fitzpatrick_scale:!1,category:"symbols"},peace_symbol:{keywords:["hippie"],char:"☮",fitzpatrick_scale:!1,category:"symbols"},latin_cross:{keywords:["christianity"],char:"✝",fitzpatrick_scale:!1,category:"symbols"},star_and_crescent:{keywords:["islam"],char:"☪",fitzpatrick_scale:!1,category:"symbols"},om:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"🕉",fitzpatrick_scale:!1,category:"symbols"},wheel_of_dharma:{keywords:["hinduism","buddhism","sikhism","jainism"],char:"☸",fitzpatrick_scale:!1,category:"symbols"},star_of_david:{keywords:["judaism"],char:"✡",fitzpatrick_scale:!1,category:"symbols"},six_pointed_star:{keywords:["purple-square","religion","jewish","hexagram"],char:"🔯",fitzpatrick_scale:!1,category:"symbols"},menorah:{keywords:["hanukkah","candles","jewish"],char:"🕎",fitzpatrick_scale:!1,category:"symbols"},yin_yang:{keywords:["balance"],char:"☯",fitzpatrick_scale:!1,category:"symbols"},orthodox_cross:{keywords:["suppedaneum","religion"],char:"☦",fitzpatrick_scale:!1,category:"symbols"},place_of_worship:{keywords:["religion","church","temple","prayer"],char:"🛐",fitzpatrick_scale:!1,category:"symbols"},ophiuchus:{keywords:["sign","purple-square","constellation","astrology"],char:"⛎",fitzpatrick_scale:!1,category:"symbols"},aries:{keywords:["sign","purple-square","zodiac","astrology"],char:"♈",fitzpatrick_scale:!1,category:"symbols"},taurus:{keywords:["purple-square","sign","zodiac","astrology"],char:"♉",fitzpatrick_scale:!1,category:"symbols"},gemini:{keywords:["sign","zodiac","purple-square","astrology"],char:"♊",fitzpatrick_scale:!1,category:"symbols"},cancer:{keywords:["sign","zodiac","purple-square","astrology"],char:"♋",fitzpatrick_scale:!1,category:"symbols"},leo:{keywords:["sign","purple-square","zodiac","astrology"],char:"♌",fitzpatrick_scale:!1,category:"symbols"},virgo:{keywords:["sign","zodiac","purple-square","astrology"],char:"♍",fitzpatrick_scale:!1,category:"symbols"},libra:{keywords:["sign","purple-square","zodiac","astrology"],char:"♎",fitzpatrick_scale:!1,category:"symbols"},scorpius:{keywords:["sign","zodiac","purple-square","astrology","scorpio"],char:"♏",fitzpatrick_scale:!1,category:"symbols"},sagittarius:{keywords:["sign","zodiac","purple-square","astrology"],char:"♐",fitzpatrick_scale:!1,category:"symbols"},capricorn:{keywords:["sign","zodiac","purple-square","astrology"],char:"♑",fitzpatrick_scale:!1,category:"symbols"},aquarius:{keywords:["sign","purple-square","zodiac","astrology"],char:"♒",fitzpatrick_scale:!1,category:"symbols"},pisces:{keywords:["purple-square","sign","zodiac","astrology"],char:"♓",fitzpatrick_scale:!1,category:"symbols"},id:{keywords:["purple-square","words"],char:"🆔",fitzpatrick_scale:!1,category:"symbols"},atom_symbol:{keywords:["science","physics","chemistry"],char:"⚛",fitzpatrick_scale:!1,category:"symbols"},u7a7a:{keywords:["kanji","japanese","chinese","empty","sky","blue-square"],char:"🈳",fitzpatrick_scale:!1,category:"symbols"},u5272:{keywords:["cut","divide","chinese","kanji","pink-square"],char:"🈹",fitzpatrick_scale:!1,category:"symbols"},radioactive:{keywords:["nuclear","danger"],char:"☢",fitzpatrick_scale:!1,category:"symbols"},biohazard:{keywords:["danger"],char:"☣",fitzpatrick_scale:!1,category:"symbols"},mobile_phone_off:{keywords:["mute","orange-square","silence","quiet"],char:"📴",fitzpatrick_scale:!1,category:"symbols"},vibration_mode:{keywords:["orange-square","phone"],char:"📳",fitzpatrick_scale:!1,category:"symbols"},u6709:{keywords:["orange-square","chinese","have","kanji"],char:"🈶",fitzpatrick_scale:!1,category:"symbols"},u7121:{keywords:["nothing","chinese","kanji","japanese","orange-square"],char:"🈚",fitzpatrick_scale:!1,category:"symbols"},u7533:{keywords:["chinese","japanese","kanji","orange-square"],char:"🈸",fitzpatrick_scale:!1,category:"symbols"},u55b6:{keywords:["japanese","opening hours","orange-square"],char:"🈺",fitzpatrick_scale:!1,category:"symbols"},u6708:{keywords:["chinese","month","moon","japanese","orange-square","kanji"],char:"🈷️",fitzpatrick_scale:!1,category:"symbols"},eight_pointed_black_star:{keywords:["orange-square","shape","polygon"],char:"✴️",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},accept:{keywords:["ok","good","chinese","kanji","agree","yes","orange-circle"],char:"🉑",fitzpatrick_scale:!1,category:"symbols"},white_flower:{keywords:["japanese","spring"],char:"💮",fitzpatrick_scale:!1,category:"symbols"},ideograph_advantage:{keywords:["chinese","kanji","obtain","get","circle"],char:"🉐",fitzpatrick_scale:!1,category:"symbols"},secret:{keywords:["privacy","chinese","sshh","kanji","red-circle"],char:"㊙️",fitzpatrick_scale:!1,category:"symbols"},congratulations:{keywords:["chinese","kanji","japanese","red-circle"],char:"㊗️",fitzpatrick_scale:!1,category:"symbols"},u5408:{keywords:["japanese","chinese","join","kanji","red-square"],char:"🈴",fitzpatrick_scale:!1,category:"symbols"},u6e80:{keywords:["full","chinese","japanese","red-square","kanji"],char:"🈵",fitzpatrick_scale:!1,category:"symbols"},u7981:{keywords:["kanji","japanese","chinese","forbidden","limit","restricted","red-square"],char:"🈲",fitzpatrick_scale:!1,category:"symbols"},a:{keywords:["red-square","alphabet","letter"],char:"🅰️",fitzpatrick_scale:!1,category:"symbols"},b:{keywords:["red-square","alphabet","letter"],char:"🅱️",fitzpatrick_scale:!1,category:"symbols"},ab:{keywords:["red-square","alphabet"],char:"🆎",fitzpatrick_scale:!1,category:"symbols"},cl:{keywords:["alphabet","words","red-square"],char:"🆑",fitzpatrick_scale:!1,category:"symbols"},o2:{keywords:["alphabet","red-square","letter"],char:"🅾️",fitzpatrick_scale:!1,category:"symbols"},sos:{keywords:["help","red-square","words","emergency","911"],char:"🆘",fitzpatrick_scale:!1,category:"symbols"},no_entry:{keywords:["limit","security","privacy","bad","denied","stop","circle"],char:"⛔",fitzpatrick_scale:!1,category:"symbols"},name_badge:{keywords:["fire","forbid"],char:"📛",fitzpatrick_scale:!1,category:"symbols"},no_entry_sign:{keywords:["forbid","stop","limit","denied","disallow","circle"],char:"🚫",fitzpatrick_scale:!1,category:"symbols"},x:{keywords:["no","delete","remove","cancel","red"],char:"❌",fitzpatrick_scale:!1,category:"symbols"},o:{keywords:["circle","round"],char:"⭕",fitzpatrick_scale:!1,category:"symbols"},stop_sign:{keywords:["stop"],char:"🛑",fitzpatrick_scale:!1,category:"symbols"},anger:{keywords:["angry","mad"],char:"💢",fitzpatrick_scale:!1,category:"symbols"},hotsprings:{keywords:["bath","warm","relax"],char:"♨️",fitzpatrick_scale:!1,category:"symbols"},no_pedestrians:{keywords:["rules","crossing","walking","circle"],char:"🚷",fitzpatrick_scale:!1,category:"symbols"},do_not_litter:{keywords:["trash","bin","garbage","circle"],char:"🚯",fitzpatrick_scale:!1,category:"symbols"},no_bicycles:{keywords:["cyclist","prohibited","circle"],char:"🚳",fitzpatrick_scale:!1,category:"symbols"},"non-potable_water":{keywords:["drink","faucet","tap","circle"],char:"🚱",fitzpatrick_scale:!1,category:"symbols"},underage:{keywords:["18","drink","pub","night","minor","circle"],char:"🔞",fitzpatrick_scale:!1,category:"symbols"},no_mobile_phones:{keywords:["iphone","mute","circle"],char:"📵",fitzpatrick_scale:!1,category:"symbols"},exclamation:{keywords:["heavy_exclamation_mark","danger","surprise","punctuation","wow","warning"],char:"❗",fitzpatrick_scale:!1,category:"symbols"},grey_exclamation:{keywords:["surprise","punctuation","gray","wow","warning"],char:"❕",fitzpatrick_scale:!1,category:"symbols"},question:{keywords:["doubt","confused"],char:"❓",fitzpatrick_scale:!1,category:"symbols"},grey_question:{keywords:["doubts","gray","huh","confused"],char:"❔",fitzpatrick_scale:!1,category:"symbols"},bangbang:{keywords:["exclamation","surprise"],char:"‼️",fitzpatrick_scale:!1,category:"symbols"},interrobang:{keywords:["wat","punctuation","surprise"],char:"⁉️",fitzpatrick_scale:!1,category:"symbols"},100:{keywords:["score","perfect","numbers","century","exam","quiz","test","pass","hundred"],char:"💯",fitzpatrick_scale:!1,category:"symbols"},low_brightness:{keywords:["sun","afternoon","warm","summer"],char:"🔅",fitzpatrick_scale:!1,category:"symbols"},high_brightness:{keywords:["sun","light"],char:"🔆",fitzpatrick_scale:!1,category:"symbols"},trident:{keywords:["weapon","spear"],char:"🔱",fitzpatrick_scale:!1,category:"symbols"},fleur_de_lis:{keywords:["decorative","scout"],char:"⚜",fitzpatrick_scale:!1,category:"symbols"},part_alternation_mark:{keywords:["graph","presentation","stats","business","economics","bad"],char:"〽️",fitzpatrick_scale:!1,category:"symbols"},warning:{keywords:["exclamation","wip","alert","error","problem","issue"],char:"⚠️",fitzpatrick_scale:!1,category:"symbols"},children_crossing:{keywords:["school","warning","danger","sign","driving","yellow-diamond"],char:"🚸",fitzpatrick_scale:!1,category:"symbols"},beginner:{keywords:["badge","shield"],char:"🔰",fitzpatrick_scale:!1,category:"symbols"},recycle:{keywords:["arrow","environment","garbage","trash"],char:"♻️",fitzpatrick_scale:!1,category:"symbols"},u6307:{keywords:["chinese","point","green-square","kanji"],char:"🈯",fitzpatrick_scale:!1,category:"symbols"},chart:{keywords:["green-square","graph","presentation","stats"],char:"💹",fitzpatrick_scale:!1,category:"symbols"},sparkle:{keywords:["stars","green-square","awesome","good","fireworks"],char:"❇️",fitzpatrick_scale:!1,category:"symbols"},eight_spoked_asterisk:{keywords:["star","sparkle","green-square"],char:"✳️",fitzpatrick_scale:!1,category:"symbols"},negative_squared_cross_mark:{keywords:["x","green-square","no","deny"],char:"❎",fitzpatrick_scale:!1,category:"symbols"},white_check_mark:{keywords:["green-square","ok","agree","vote","election","answer","tick"],char:"✅",fitzpatrick_scale:!1,category:"symbols"},diamond_shape_with_a_dot_inside:{keywords:["jewel","blue","gem","crystal","fancy"],char:"💠",fitzpatrick_scale:!1,category:"symbols"},cyclone:{keywords:["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],char:"🌀",fitzpatrick_scale:!1,category:"symbols"},loop:{keywords:["tape","cassette"],char:"➿",fitzpatrick_scale:!1,category:"symbols"},globe_with_meridians:{keywords:["earth","international","world","internet","interweb","i18n"],char:"🌐",fitzpatrick_scale:!1,category:"symbols"},m:{keywords:["alphabet","blue-circle","letter"],char:"Ⓜ️",fitzpatrick_scale:!1,category:"symbols"},atm:{keywords:["money","sales","cash","blue-square","payment","bank"],char:"🏧",fitzpatrick_scale:!1,category:"symbols"},sa:{keywords:["japanese","blue-square","katakana"],char:"🈂️",fitzpatrick_scale:!1,category:"symbols"},passport_control:{keywords:["custom","blue-square"],char:"🛂",fitzpatrick_scale:!1,category:"symbols"},customs:{keywords:["passport","border","blue-square"],char:"🛃",fitzpatrick_scale:!1,category:"symbols"},baggage_claim:{keywords:["blue-square","airport","transport"],char:"🛄",fitzpatrick_scale:!1,category:"symbols"},left_luggage:{keywords:["blue-square","travel"],char:"🛅",fitzpatrick_scale:!1,category:"symbols"},wheelchair:{keywords:["blue-square","disabled","a11y","accessibility"],char:"♿",fitzpatrick_scale:!1,category:"symbols"},no_smoking:{keywords:["cigarette","blue-square","smell","smoke"],char:"🚭",fitzpatrick_scale:!1,category:"symbols"},wc:{keywords:["toilet","restroom","blue-square"],char:"🚾",fitzpatrick_scale:!1,category:"symbols"},parking:{keywords:["cars","blue-square","alphabet","letter"],char:"🅿️",fitzpatrick_scale:!1,category:"symbols"},potable_water:{keywords:["blue-square","liquid","restroom","cleaning","faucet"],char:"🚰",fitzpatrick_scale:!1,category:"symbols"},mens:{keywords:["toilet","restroom","wc","blue-square","gender","male"],char:"🚹",fitzpatrick_scale:!1,category:"symbols"},womens:{keywords:["purple-square","woman","female","toilet","loo","restroom","gender"],char:"🚺",fitzpatrick_scale:!1,category:"symbols"},baby_symbol:{keywords:["orange-square","child"],char:"🚼",fitzpatrick_scale:!1,category:"symbols"},restroom:{keywords:["blue-square","toilet","refresh","wc","gender"],char:"🚻",fitzpatrick_scale:!1,category:"symbols"},put_litter_in_its_place:{keywords:["blue-square","sign","human","info"],char:"🚮",fitzpatrick_scale:!1,category:"symbols"},cinema:{keywords:["blue-square","record","film","movie","curtain","stage","theater"],char:"🎦",fitzpatrick_scale:!1,category:"symbols"},signal_strength:{keywords:["blue-square","reception","phone","internet","connection","wifi","bluetooth","bars"],char:"📶",fitzpatrick_scale:!1,category:"symbols"},koko:{keywords:["blue-square","here","katakana","japanese","destination"],char:"🈁",fitzpatrick_scale:!1,category:"symbols"},ng:{keywords:["blue-square","words","shape","icon"],char:"🆖",fitzpatrick_scale:!1,category:"symbols"},ok:{keywords:["good","agree","yes","blue-square"],char:"🆗",fitzpatrick_scale:!1,category:"symbols"},up:{keywords:["blue-square","above","high"],char:"🆙",fitzpatrick_scale:!1,category:"symbols"},cool:{keywords:["words","blue-square"],char:"🆒",fitzpatrick_scale:!1,category:"symbols"},new:{keywords:["blue-square","words","start"],char:"🆕",fitzpatrick_scale:!1,category:"symbols"},free:{keywords:["blue-square","words"],char:"🆓",fitzpatrick_scale:!1,category:"symbols"},zero:{keywords:["0","numbers","blue-square","null"],char:"0️⃣",fitzpatrick_scale:!1,category:"symbols"},one:{keywords:["blue-square","numbers","1"],char:"1️⃣",fitzpatrick_scale:!1,category:"symbols"},two:{keywords:["numbers","2","prime","blue-square"],char:"2️⃣",fitzpatrick_scale:!1,category:"symbols"},three:{keywords:["3","numbers","prime","blue-square"],char:"3️⃣",fitzpatrick_scale:!1,category:"symbols"},four:{keywords:["4","numbers","blue-square"],char:"4️⃣",fitzpatrick_scale:!1,category:"symbols"},five:{keywords:["5","numbers","blue-square","prime"],char:"5️⃣",fitzpatrick_scale:!1,category:"symbols"},six:{keywords:["6","numbers","blue-square"],char:"6️⃣",fitzpatrick_scale:!1,category:"symbols"},seven:{keywords:["7","numbers","blue-square","prime"],char:"7️⃣",fitzpatrick_scale:!1,category:"symbols"},eight:{keywords:["8","blue-square","numbers"],char:"8️⃣",fitzpatrick_scale:!1,category:"symbols"},nine:{keywords:["blue-square","numbers","9"],char:"9️⃣",fitzpatrick_scale:!1,category:"symbols"},keycap_ten:{keywords:["numbers","10","blue-square"],char:"🔟",fitzpatrick_scale:!1,category:"symbols"},asterisk:{keywords:["star","keycap"],char:"*⃣",fitzpatrick_scale:!1,category:"symbols"},1234:{keywords:["numbers","blue-square"],char:"🔢",fitzpatrick_scale:!1,category:"symbols"},eject_button:{keywords:["blue-square"],char:"⏏️",fitzpatrick_scale:!1,category:"symbols"},arrow_forward:{keywords:["blue-square","right","direction","play"],char:"▶️",fitzpatrick_scale:!1,category:"symbols"},pause_button:{keywords:["pause","blue-square"],char:"⏸",fitzpatrick_scale:!1,category:"symbols"},next_track_button:{keywords:["forward","next","blue-square"],char:"⏭",fitzpatrick_scale:!1,category:"symbols"},stop_button:{keywords:["blue-square"],char:"⏹",fitzpatrick_scale:!1,category:"symbols"},record_button:{keywords:["blue-square"],char:"⏺",fitzpatrick_scale:!1,category:"symbols"},play_or_pause_button:{keywords:["blue-square","play","pause"],char:"⏯",fitzpatrick_scale:!1,category:"symbols"},previous_track_button:{keywords:["backward"],char:"⏮",fitzpatrick_scale:!1,category:"symbols"},fast_forward:{keywords:["blue-square","play","speed","continue"],char:"⏩",fitzpatrick_scale:!1,category:"symbols"},rewind:{keywords:["play","blue-square"],char:"⏪",fitzpatrick_scale:!1,category:"symbols"},twisted_rightwards_arrows:{keywords:["blue-square","shuffle","music","random"],char:"🔀",fitzpatrick_scale:!1,category:"symbols"},repeat:{keywords:["loop","record"],char:"🔁",fitzpatrick_scale:!1,category:"symbols"},repeat_one:{keywords:["blue-square","loop"],char:"🔂",fitzpatrick_scale:!1,category:"symbols"},arrow_backward:{keywords:["blue-square","left","direction"],char:"◀️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_small:{keywords:["blue-square","triangle","direction","point","forward","top"],char:"🔼",fitzpatrick_scale:!1,category:"symbols"},arrow_down_small:{keywords:["blue-square","direction","bottom"],char:"🔽",fitzpatrick_scale:!1,category:"symbols"},arrow_double_up:{keywords:["blue-square","direction","top"],char:"⏫",fitzpatrick_scale:!1,category:"symbols"},arrow_double_down:{keywords:["blue-square","direction","bottom"],char:"⏬",fitzpatrick_scale:!1,category:"symbols"},arrow_right:{keywords:["blue-square","next"],char:"➡️",fitzpatrick_scale:!1,category:"symbols"},arrow_left:{keywords:["blue-square","previous","back"],char:"⬅️",fitzpatrick_scale:!1,category:"symbols"},arrow_up:{keywords:["blue-square","continue","top","direction"],char:"⬆️",fitzpatrick_scale:!1,category:"symbols"},arrow_down:{keywords:["blue-square","direction","bottom"],char:"⬇️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_right:{keywords:["blue-square","point","direction","diagonal","northeast"],char:"↗️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_right:{keywords:["blue-square","direction","diagonal","southeast"],char:"↘️",fitzpatrick_scale:!1,category:"symbols"},arrow_lower_left:{keywords:["blue-square","direction","diagonal","southwest"],char:"↙️",fitzpatrick_scale:!1,category:"symbols"},arrow_upper_left:{keywords:["blue-square","point","direction","diagonal","northwest"],char:"↖️",fitzpatrick_scale:!1,category:"symbols"},arrow_up_down:{keywords:["blue-square","direction","way","vertical"],char:"↕️",fitzpatrick_scale:!1,category:"symbols"},left_right_arrow:{keywords:["shape","direction","horizontal","sideways"],char:"↔️",fitzpatrick_scale:!1,category:"symbols"},arrows_counterclockwise:{keywords:["blue-square","sync","cycle"],char:"🔄",fitzpatrick_scale:!1,category:"symbols"},arrow_right_hook:{keywords:["blue-square","return","rotate","direction"],char:"↪️",fitzpatrick_scale:!1,category:"symbols"},leftwards_arrow_with_hook:{keywords:["back","return","blue-square","undo","enter"],char:"↩️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_up:{keywords:["blue-square","direction","top"],char:"⤴️",fitzpatrick_scale:!1,category:"symbols"},arrow_heading_down:{keywords:["blue-square","direction","bottom"],char:"⤵️",fitzpatrick_scale:!1,category:"symbols"},hash:{keywords:["symbol","blue-square","twitter"],char:"#️⃣",fitzpatrick_scale:!1,category:"symbols"},information_source:{keywords:["blue-square","alphabet","letter"],char:"ℹ️",fitzpatrick_scale:!1,category:"symbols"},abc:{keywords:["blue-square","alphabet"],char:"🔤",fitzpatrick_scale:!1,category:"symbols"},abcd:{keywords:["blue-square","alphabet"],char:"🔡",fitzpatrick_scale:!1,category:"symbols"},capital_abcd:{keywords:["alphabet","words","blue-square"],char:"🔠",fitzpatrick_scale:!1,category:"symbols"},symbols:{keywords:["blue-square","music","note","ampersand","percent","glyphs","characters"],char:"🔣",fitzpatrick_scale:!1,category:"symbols"},musical_note:{keywords:["score","tone","sound"],char:"🎵",fitzpatrick_scale:!1,category:"symbols"},notes:{keywords:["music","score"],char:"🎶",fitzpatrick_scale:!1,category:"symbols"},wavy_dash:{keywords:["draw","line","moustache","mustache","squiggle","scribble"],char:"〰️",fitzpatrick_scale:!1,category:"symbols"},curly_loop:{keywords:["scribble","draw","shape","squiggle"],char:"➰",fitzpatrick_scale:!1,category:"symbols"},heavy_check_mark:{keywords:["ok","nike","answer","yes","tick"],char:"✔️",fitzpatrick_scale:!1,category:"symbols"},arrows_clockwise:{keywords:["sync","cycle","round","repeat"],char:"🔃",fitzpatrick_scale:!1,category:"symbols"},heavy_plus_sign:{keywords:["math","calculation","addition","more","increase"],char:"➕",fitzpatrick_scale:!1,category:"symbols"},heavy_minus_sign:{keywords:["math","calculation","subtract","less"],char:"➖",fitzpatrick_scale:!1,category:"symbols"},heavy_division_sign:{keywords:["divide","math","calculation"],char:"➗",fitzpatrick_scale:!1,category:"symbols"},heavy_multiplication_x:{keywords:["math","calculation"],char:"✖️",fitzpatrick_scale:!1,category:"symbols"},infinity:{keywords:["forever"],char:"♾",fitzpatrick_scale:!1,category:"symbols"},heavy_dollar_sign:{keywords:["money","sales","payment","currency","buck"],char:"💲",fitzpatrick_scale:!1,category:"symbols"},currency_exchange:{keywords:["money","sales","dollar","travel"],char:"💱",fitzpatrick_scale:!1,category:"symbols"},copyright:{keywords:["ip","license","circle","law","legal"],char:"©️",fitzpatrick_scale:!1,category:"symbols"},registered:{keywords:["alphabet","circle"],char:"®️",fitzpatrick_scale:!1,category:"symbols"},tm:{keywords:["trademark","brand","law","legal"],char:"™️",fitzpatrick_scale:!1,category:"symbols"},end:{keywords:["words","arrow"],char:"🔚",fitzpatrick_scale:!1,category:"symbols"},back:{keywords:["arrow","words","return"],char:"🔙",fitzpatrick_scale:!1,category:"symbols"},on:{keywords:["arrow","words"],char:"🔛",fitzpatrick_scale:!1,category:"symbols"},top:{keywords:["words","blue-square"],char:"🔝",fitzpatrick_scale:!1,category:"symbols"},soon:{keywords:["arrow","words"],char:"🔜",fitzpatrick_scale:!1,category:"symbols"},ballot_box_with_check:{keywords:["ok","agree","confirm","black-square","vote","election","yes","tick"],char:"☑️",fitzpatrick_scale:!1,category:"symbols"},radio_button:{keywords:["input","old","music","circle"],char:"🔘",fitzpatrick_scale:!1,category:"symbols"},white_circle:{keywords:["shape","round"],char:"⚪",fitzpatrick_scale:!1,category:"symbols"},black_circle:{keywords:["shape","button","round"],char:"⚫",fitzpatrick_scale:!1,category:"symbols"},red_circle:{keywords:["shape","error","danger"],char:"🔴",fitzpatrick_scale:!1,category:"symbols"},large_blue_circle:{keywords:["shape","icon","button"],char:"🔵",fitzpatrick_scale:!1,category:"symbols"},small_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔸",fitzpatrick_scale:!1,category:"symbols"},small_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔹",fitzpatrick_scale:!1,category:"symbols"},large_orange_diamond:{keywords:["shape","jewel","gem"],char:"🔶",fitzpatrick_scale:!1,category:"symbols"},large_blue_diamond:{keywords:["shape","jewel","gem"],char:"🔷",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle:{keywords:["shape","direction","up","top"],char:"🔺",fitzpatrick_scale:!1,category:"symbols"},black_small_square:{keywords:["shape","icon"],char:"▪️",fitzpatrick_scale:!1,category:"symbols"},white_small_square:{keywords:["shape","icon"],char:"▫️",fitzpatrick_scale:!1,category:"symbols"},black_large_square:{keywords:["shape","icon","button"],char:"⬛",fitzpatrick_scale:!1,category:"symbols"},white_large_square:{keywords:["shape","icon","stone","button"],char:"⬜",fitzpatrick_scale:!1,category:"symbols"},small_red_triangle_down:{keywords:["shape","direction","bottom"],char:"🔻",fitzpatrick_scale:!1,category:"symbols"},black_medium_square:{keywords:["shape","button","icon"],char:"◼️",fitzpatrick_scale:!1,category:"symbols"},white_medium_square:{keywords:["shape","stone","icon"],char:"◻️",fitzpatrick_scale:!1,category:"symbols"},black_medium_small_square:{keywords:["icon","shape","button"],char:"◾",fitzpatrick_scale:!1,category:"symbols"},white_medium_small_square:{keywords:["shape","stone","icon","button"],char:"◽",fitzpatrick_scale:!1,category:"symbols"},black_square_button:{keywords:["shape","input","frame"],char:"🔲",fitzpatrick_scale:!1,category:"symbols"},white_square_button:{keywords:["shape","input"],char:"🔳",fitzpatrick_scale:!1,category:"symbols"},speaker:{keywords:["sound","volume","silence","broadcast"],char:"🔈",fitzpatrick_scale:!1,category:"symbols"},sound:{keywords:["volume","speaker","broadcast"],char:"🔉",fitzpatrick_scale:!1,category:"symbols"},loud_sound:{keywords:["volume","noise","noisy","speaker","broadcast"],char:"🔊",fitzpatrick_scale:!1,category:"symbols"},mute:{keywords:["sound","volume","silence","quiet"],char:"🔇",fitzpatrick_scale:!1,category:"symbols"},mega:{keywords:["sound","speaker","volume"],char:"📣",fitzpatrick_scale:!1,category:"symbols"},loudspeaker:{keywords:["volume","sound"],char:"📢",fitzpatrick_scale:!1,category:"symbols"},bell:{keywords:["sound","notification","christmas","xmas","chime"],char:"🔔",fitzpatrick_scale:!1,category:"symbols"},no_bell:{keywords:["sound","volume","mute","quiet","silent"],char:"🔕",fitzpatrick_scale:!1,category:"symbols"},black_joker:{keywords:["poker","cards","game","play","magic"],char:"🃏",fitzpatrick_scale:!1,category:"symbols"},mahjong:{keywords:["game","play","chinese","kanji"],char:"🀄",fitzpatrick_scale:!1,category:"symbols"},spades:{keywords:["poker","cards","suits","magic"],char:"♠️",fitzpatrick_scale:!1,category:"symbols"},clubs:{keywords:["poker","cards","magic","suits"],char:"♣️",fitzpatrick_scale:!1,category:"symbols"},hearts:{keywords:["poker","cards","magic","suits"],char:"♥️",fitzpatrick_scale:!1,category:"symbols"},diamonds:{keywords:["poker","cards","magic","suits"],char:"♦️",fitzpatrick_scale:!1,category:"symbols"},flower_playing_cards:{keywords:["game","sunset","red"],char:"🎴",fitzpatrick_scale:!1,category:"symbols"},thought_balloon:{keywords:["bubble","cloud","speech","thinking","dream"],char:"💭",fitzpatrick_scale:!1,category:"symbols"},right_anger_bubble:{keywords:["caption","speech","thinking","mad"],char:"🗯",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},left_speech_bubble:{keywords:["words","message","talk","chatting"],char:"🗨",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"},clock2:{keywords:["time","late","early","schedule"],char:"🕑",fitzpatrick_scale:!1,category:"symbols"},clock3:{keywords:["time","late","early","schedule"],char:"🕒",fitzpatrick_scale:!1,category:"symbols"},clock4:{keywords:["time","late","early","schedule"],char:"🕓",fitzpatrick_scale:!1,category:"symbols"},clock5:{keywords:["time","late","early","schedule"],char:"🕔",fitzpatrick_scale:!1,category:"symbols"},clock6:{keywords:["time","late","early","schedule","dawn","dusk"],char:"🕕",fitzpatrick_scale:!1,category:"symbols"},clock7:{keywords:["time","late","early","schedule"],char:"🕖",fitzpatrick_scale:!1,category:"symbols"},clock8:{keywords:["time","late","early","schedule"],char:"🕗",fitzpatrick_scale:!1,category:"symbols"},clock9:{keywords:["time","late","early","schedule"],char:"🕘",fitzpatrick_scale:!1,category:"symbols"},clock10:{keywords:["time","late","early","schedule"],char:"🕙",fitzpatrick_scale:!1,category:"symbols"},clock11:{keywords:["time","late","early","schedule"],char:"🕚",fitzpatrick_scale:!1,category:"symbols"},clock12:{keywords:["time","noon","midnight","midday","late","early","schedule"],char:"🕛",fitzpatrick_scale:!1,category:"symbols"},clock130:{keywords:["time","late","early","schedule"],char:"🕜",fitzpatrick_scale:!1,category:"symbols"},clock230:{keywords:["time","late","early","schedule"],char:"🕝",fitzpatrick_scale:!1,category:"symbols"},clock330:{keywords:["time","late","early","schedule"],char:"🕞",fitzpatrick_scale:!1,category:"symbols"},clock430:{keywords:["time","late","early","schedule"],char:"🕟",fitzpatrick_scale:!1,category:"symbols"},clock530:{keywords:["time","late","early","schedule"],char:"🕠",fitzpatrick_scale:!1,category:"symbols"},clock630:{keywords:["time","late","early","schedule"],char:"🕡",fitzpatrick_scale:!1,category:"symbols"},clock730:{keywords:["time","late","early","schedule"],char:"🕢",fitzpatrick_scale:!1,category:"symbols"},clock830:{keywords:["time","late","early","schedule"],char:"🕣",fitzpatrick_scale:!1,category:"symbols"},clock930:{keywords:["time","late","early","schedule"],char:"🕤",fitzpatrick_scale:!1,category:"symbols"},clock1030:{keywords:["time","late","early","schedule"],char:"🕥",fitzpatrick_scale:!1,category:"symbols"},clock1130:{keywords:["time","late","early","schedule"],char:"🕦",fitzpatrick_scale:!1,category:"symbols"},clock1230:{keywords:["time","late","early","schedule"],char:"🕧",fitzpatrick_scale:!1,category:"symbols"},afghanistan:{keywords:["af","flag","nation","country","banner"],char:"🇦🇫",fitzpatrick_scale:!1,category:"flags"},aland_islands:{keywords:["Åland","islands","flag","nation","country","banner"],char:"🇦🇽",fitzpatrick_scale:!1,category:"flags"},albania:{keywords:["al","flag","nation","country","banner"],char:"🇦🇱",fitzpatrick_scale:!1,category:"flags"},algeria:{keywords:["dz","flag","nation","country","banner"],char:"🇩🇿",fitzpatrick_scale:!1,category:"flags"},american_samoa:{keywords:["american","ws","flag","nation","country","banner"],char:"🇦🇸",fitzpatrick_scale:!1,category:"flags"},andorra:{keywords:["ad","flag","nation","country","banner"],char:"🇦🇩",fitzpatrick_scale:!1,category:"flags"},angola:{keywords:["ao","flag","nation","country","banner"],char:"🇦🇴",fitzpatrick_scale:!1,category:"flags"},anguilla:{keywords:["ai","flag","nation","country","banner"],char:"🇦🇮",fitzpatrick_scale:!1,category:"flags"},antarctica:{keywords:["aq","flag","nation","country","banner"],char:"🇦🇶",fitzpatrick_scale:!1,category:"flags"},antigua_barbuda:{keywords:["antigua","barbuda","flag","nation","country","banner"],char:"🇦🇬",fitzpatrick_scale:!1,category:"flags"},argentina:{keywords:["ar","flag","nation","country","banner"],char:"🇦🇷",fitzpatrick_scale:!1,category:"flags"},armenia:{keywords:["am","flag","nation","country","banner"],char:"🇦🇲",fitzpatrick_scale:!1,category:"flags"},aruba:{keywords:["aw","flag","nation","country","banner"],char:"🇦🇼",fitzpatrick_scale:!1,category:"flags"},australia:{keywords:["au","flag","nation","country","banner"],char:"🇦🇺",fitzpatrick_scale:!1,category:"flags"},austria:{keywords:["at","flag","nation","country","banner"],char:"🇦🇹",fitzpatrick_scale:!1,category:"flags"},azerbaijan:{keywords:["az","flag","nation","country","banner"],char:"🇦🇿",fitzpatrick_scale:!1,category:"flags"},bahamas:{keywords:["bs","flag","nation","country","banner"],char:"🇧🇸",fitzpatrick_scale:!1,category:"flags"},bahrain:{keywords:["bh","flag","nation","country","banner"],char:"🇧🇭",fitzpatrick_scale:!1,category:"flags"},bangladesh:{keywords:["bd","flag","nation","country","banner"],char:"🇧🇩",fitzpatrick_scale:!1,category:"flags"},barbados:{keywords:["bb","flag","nation","country","banner"],char:"🇧🇧",fitzpatrick_scale:!1,category:"flags"},belarus:{keywords:["by","flag","nation","country","banner"],char:"🇧🇾",fitzpatrick_scale:!1,category:"flags"},belgium:{keywords:["be","flag","nation","country","banner"],char:"🇧🇪",fitzpatrick_scale:!1,category:"flags"},belize:{keywords:["bz","flag","nation","country","banner"],char:"🇧🇿",fitzpatrick_scale:!1,category:"flags"},benin:{keywords:["bj","flag","nation","country","banner"],char:"🇧🇯",fitzpatrick_scale:!1,category:"flags"},bermuda:{keywords:["bm","flag","nation","country","banner"],char:"🇧🇲",fitzpatrick_scale:!1,category:"flags"},bhutan:{keywords:["bt","flag","nation","country","banner"],char:"🇧🇹",fitzpatrick_scale:!1,category:"flags"},bolivia:{keywords:["bo","flag","nation","country","banner"],char:"🇧🇴",fitzpatrick_scale:!1,category:"flags"},caribbean_netherlands:{keywords:["bonaire","flag","nation","country","banner"],char:"🇧🇶",fitzpatrick_scale:!1,category:"flags"},bosnia_herzegovina:{keywords:["bosnia","herzegovina","flag","nation","country","banner"],char:"🇧🇦",fitzpatrick_scale:!1,category:"flags"},botswana:{keywords:["bw","flag","nation","country","banner"],char:"🇧🇼",fitzpatrick_scale:!1,category:"flags"},brazil:{keywords:["br","flag","nation","country","banner"],char:"🇧🇷",fitzpatrick_scale:!1,category:"flags"},british_indian_ocean_territory:{keywords:["british","indian","ocean","territory","flag","nation","country","banner"],char:"🇮🇴",fitzpatrick_scale:!1,category:"flags"},british_virgin_islands:{keywords:["british","virgin","islands","bvi","flag","nation","country","banner"],char:"🇻🇬",fitzpatrick_scale:!1,category:"flags"},brunei:{keywords:["bn","darussalam","flag","nation","country","banner"],char:"🇧🇳",fitzpatrick_scale:!1,category:"flags"},bulgaria:{keywords:["bg","flag","nation","country","banner"],char:"🇧🇬",fitzpatrick_scale:!1,category:"flags"},burkina_faso:{keywords:["burkina","faso","flag","nation","country","banner"],char:"🇧🇫",fitzpatrick_scale:!1,category:"flags"},burundi:{keywords:["bi","flag","nation","country","banner"],char:"🇧🇮",fitzpatrick_scale:!1,category:"flags"},cape_verde:{keywords:["cabo","verde","flag","nation","country","banner"],char:"🇨🇻",fitzpatrick_scale:!1,category:"flags"},cambodia:{keywords:["kh","flag","nation","country","banner"],char:"🇰🇭",fitzpatrick_scale:!1,category:"flags"},cameroon:{keywords:["cm","flag","nation","country","banner"],char:"🇨🇲",fitzpatrick_scale:!1,category:"flags"},canada:{keywords:["ca","flag","nation","country","banner"],char:"🇨🇦",fitzpatrick_scale:!1,category:"flags"},canary_islands:{keywords:["canary","islands","flag","nation","country","banner"],char:"🇮🇨",fitzpatrick_scale:!1,category:"flags"},cayman_islands:{keywords:["cayman","islands","flag","nation","country","banner"],char:"🇰🇾",fitzpatrick_scale:!1,category:"flags"},central_african_republic:{keywords:["central","african","republic","flag","nation","country","banner"],char:"🇨🇫",fitzpatrick_scale:!1,category:"flags"},chad:{keywords:["td","flag","nation","country","banner"],char:"🇹🇩",fitzpatrick_scale:!1,category:"flags"},chile:{keywords:["flag","nation","country","banner"],char:"🇨🇱",fitzpatrick_scale:!1,category:"flags"},cn:{keywords:["china","chinese","prc","flag","country","nation","banner"],char:"🇨🇳",fitzpatrick_scale:!1,category:"flags"},christmas_island:{keywords:["christmas","island","flag","nation","country","banner"],char:"🇨🇽",fitzpatrick_scale:!1,category:"flags"},cocos_islands:{keywords:["cocos","keeling","islands","flag","nation","country","banner"],char:"🇨🇨",fitzpatrick_scale:!1,category:"flags"},colombia:{keywords:["co","flag","nation","country","banner"],char:"🇨🇴",fitzpatrick_scale:!1,category:"flags"},comoros:{keywords:["km","flag","nation","country","banner"],char:"🇰🇲",fitzpatrick_scale:!1,category:"flags"},congo_brazzaville:{keywords:["congo","flag","nation","country","banner"],char:"🇨🇬",fitzpatrick_scale:!1,category:"flags"},congo_kinshasa:{keywords:["congo","democratic","republic","flag","nation","country","banner"],char:"🇨🇩",fitzpatrick_scale:!1,category:"flags"},cook_islands:{keywords:["cook","islands","flag","nation","country","banner"],char:"🇨🇰",fitzpatrick_scale:!1,category:"flags"},costa_rica:{keywords:["costa","rica","flag","nation","country","banner"],char:"🇨🇷",fitzpatrick_scale:!1,category:"flags"},croatia:{keywords:["hr","flag","nation","country","banner"],char:"🇭🇷",fitzpatrick_scale:!1,category:"flags"},cuba:{keywords:["cu","flag","nation","country","banner"],char:"🇨🇺",fitzpatrick_scale:!1,category:"flags"},curacao:{keywords:["curaçao","flag","nation","country","banner"],char:"🇨🇼",fitzpatrick_scale:!1,category:"flags"},cyprus:{keywords:["cy","flag","nation","country","banner"],char:"🇨🇾",fitzpatrick_scale:!1,category:"flags"},czech_republic:{keywords:["cz","flag","nation","country","banner"],char:"🇨🇿",fitzpatrick_scale:!1,category:"flags"},denmark:{keywords:["dk","flag","nation","country","banner"],char:"🇩🇰",fitzpatrick_scale:!1,category:"flags"},djibouti:{keywords:["dj","flag","nation","country","banner"],char:"🇩🇯",fitzpatrick_scale:!1,category:"flags"},dominica:{keywords:["dm","flag","nation","country","banner"],char:"🇩🇲",fitzpatrick_scale:!1,category:"flags"},dominican_republic:{keywords:["dominican","republic","flag","nation","country","banner"],char:"🇩🇴",fitzpatrick_scale:!1,category:"flags"},ecuador:{keywords:["ec","flag","nation","country","banner"],char:"🇪🇨",fitzpatrick_scale:!1,category:"flags"},egypt:{keywords:["eg","flag","nation","country","banner"],char:"🇪🇬",fitzpatrick_scale:!1,category:"flags"},el_salvador:{keywords:["el","salvador","flag","nation","country","banner"],char:"🇸🇻",fitzpatrick_scale:!1,category:"flags"},equatorial_guinea:{keywords:["equatorial","gn","flag","nation","country","banner"],char:"🇬🇶",fitzpatrick_scale:!1,category:"flags"},eritrea:{keywords:["er","flag","nation","country","banner"],char:"🇪🇷",fitzpatrick_scale:!1,category:"flags"},estonia:{keywords:["ee","flag","nation","country","banner"],char:"🇪🇪",fitzpatrick_scale:!1,category:"flags"},ethiopia:{keywords:["et","flag","nation","country","banner"],char:"🇪🇹",fitzpatrick_scale:!1,category:"flags"},eu:{keywords:["european","union","flag","banner"],char:"🇪🇺",fitzpatrick_scale:!1,category:"flags"},falkland_islands:{keywords:["falkland","islands","malvinas","flag","nation","country","banner"],char:"🇫🇰",fitzpatrick_scale:!1,category:"flags"},faroe_islands:{keywords:["faroe","islands","flag","nation","country","banner"],char:"🇫🇴",fitzpatrick_scale:!1,category:"flags"},fiji:{keywords:["fj","flag","nation","country","banner"],char:"🇫🇯",fitzpatrick_scale:!1,category:"flags"},finland:{keywords:["fi","flag","nation","country","banner"],char:"🇫🇮",fitzpatrick_scale:!1,category:"flags"},fr:{keywords:["banner","flag","nation","france","french","country"],char:"🇫🇷",fitzpatrick_scale:!1,category:"flags"},french_guiana:{keywords:["french","guiana","flag","nation","country","banner"],char:"🇬🇫",fitzpatrick_scale:!1,category:"flags"},french_polynesia:{keywords:["french","polynesia","flag","nation","country","banner"],char:"🇵🇫",fitzpatrick_scale:!1,category:"flags"},french_southern_territories:{keywords:["french","southern","territories","flag","nation","country","banner"],char:"🇹🇫",fitzpatrick_scale:!1,category:"flags"},gabon:{keywords:["ga","flag","nation","country","banner"],char:"🇬🇦",fitzpatrick_scale:!1,category:"flags"},gambia:{keywords:["gm","flag","nation","country","banner"],char:"🇬🇲",fitzpatrick_scale:!1,category:"flags"},georgia:{keywords:["ge","flag","nation","country","banner"],char:"🇬🇪",fitzpatrick_scale:!1,category:"flags"},de:{keywords:["german","nation","flag","country","banner"],char:"🇩🇪",fitzpatrick_scale:!1,category:"flags"},ghana:{keywords:["gh","flag","nation","country","banner"],char:"🇬🇭",fitzpatrick_scale:!1,category:"flags"},gibraltar:{keywords:["gi","flag","nation","country","banner"],char:"🇬🇮",fitzpatrick_scale:!1,category:"flags"},greece:{keywords:["gr","flag","nation","country","banner"],char:"🇬🇷",fitzpatrick_scale:!1,category:"flags"},greenland:{keywords:["gl","flag","nation","country","banner"],char:"🇬🇱",fitzpatrick_scale:!1,category:"flags"},grenada:{keywords:["gd","flag","nation","country","banner"],char:"🇬🇩",fitzpatrick_scale:!1,category:"flags"},guadeloupe:{keywords:["gp","flag","nation","country","banner"],char:"🇬🇵",fitzpatrick_scale:!1,category:"flags"},guam:{keywords:["gu","flag","nation","country","banner"],char:"🇬🇺",fitzpatrick_scale:!1,category:"flags"},guatemala:{keywords:["gt","flag","nation","country","banner"],char:"🇬🇹",fitzpatrick_scale:!1,category:"flags"},guernsey:{keywords:["gg","flag","nation","country","banner"],char:"🇬🇬",fitzpatrick_scale:!1,category:"flags"},guinea:{keywords:["gn","flag","nation","country","banner"],char:"🇬🇳",fitzpatrick_scale:!1,category:"flags"},guinea_bissau:{keywords:["gw","bissau","flag","nation","country","banner"],char:"🇬🇼",fitzpatrick_scale:!1,category:"flags"},guyana:{keywords:["gy","flag","nation","country","banner"],char:"🇬🇾",fitzpatrick_scale:!1,category:"flags"},haiti:{keywords:["ht","flag","nation","country","banner"],char:"🇭🇹",fitzpatrick_scale:!1,category:"flags"},honduras:{keywords:["hn","flag","nation","country","banner"],char:"🇭🇳",fitzpatrick_scale:!1,category:"flags"},hong_kong:{keywords:["hong","kong","flag","nation","country","banner"],char:"🇭🇰",fitzpatrick_scale:!1,category:"flags"},hungary:{keywords:["hu","flag","nation","country","banner"],char:"🇭🇺",fitzpatrick_scale:!1,category:"flags"},iceland:{keywords:["is","flag","nation","country","banner"],char:"🇮🇸",fitzpatrick_scale:!1,category:"flags"},india:{keywords:["in","flag","nation","country","banner"],char:"🇮🇳",fitzpatrick_scale:!1,category:"flags"},indonesia:{keywords:["flag","nation","country","banner"],char:"🇮🇩",fitzpatrick_scale:!1,category:"flags"},iran:{keywords:["iran,","islamic","republic","flag","nation","country","banner"],char:"🇮🇷",fitzpatrick_scale:!1,category:"flags"},iraq:{keywords:["iq","flag","nation","country","banner"],char:"🇮🇶",fitzpatrick_scale:!1,category:"flags"},ireland:{keywords:["ie","flag","nation","country","banner"],char:"🇮🇪",fitzpatrick_scale:!1,category:"flags"},isle_of_man:{keywords:["isle","man","flag","nation","country","banner"],char:"🇮🇲",fitzpatrick_scale:!1,category:"flags"},israel:{keywords:["il","flag","nation","country","banner"],char:"🇮🇱",fitzpatrick_scale:!1,category:"flags"},it:{keywords:["italy","flag","nation","country","banner"],char:"🇮🇹",fitzpatrick_scale:!1,category:"flags"},cote_divoire:{keywords:["ivory","coast","flag","nation","country","banner"],char:"🇨🇮",fitzpatrick_scale:!1,category:"flags"},jamaica:{keywords:["jm","flag","nation","country","banner"],char:"🇯🇲",fitzpatrick_scale:!1,category:"flags"},jp:{keywords:["japanese","nation","flag","country","banner"],char:"🇯🇵",fitzpatrick_scale:!1,category:"flags"},jersey:{keywords:["je","flag","nation","country","banner"],char:"🇯🇪",fitzpatrick_scale:!1,category:"flags"},jordan:{keywords:["jo","flag","nation","country","banner"],char:"🇯🇴",fitzpatrick_scale:!1,category:"flags"},kazakhstan:{keywords:["kz","flag","nation","country","banner"],char:"🇰🇿",fitzpatrick_scale:!1,category:"flags"},kenya:{keywords:["ke","flag","nation","country","banner"],char:"🇰🇪",fitzpatrick_scale:!1,category:"flags"},kiribati:{keywords:["ki","flag","nation","country","banner"],char:"🇰🇮",fitzpatrick_scale:!1,category:"flags"},kosovo:{keywords:["xk","flag","nation","country","banner"],char:"🇽🇰",fitzpatrick_scale:!1,category:"flags"},kuwait:{keywords:["kw","flag","nation","country","banner"],char:"🇰🇼",fitzpatrick_scale:!1,category:"flags"},kyrgyzstan:{keywords:["kg","flag","nation","country","banner"],char:"🇰🇬",fitzpatrick_scale:!1,category:"flags"},laos:{keywords:["lao","democratic","republic","flag","nation","country","banner"],char:"🇱🇦",fitzpatrick_scale:!1,category:"flags"},latvia:{keywords:["lv","flag","nation","country","banner"],char:"🇱🇻",fitzpatrick_scale:!1,category:"flags"},lebanon:{keywords:["lb","flag","nation","country","banner"],char:"🇱🇧",fitzpatrick_scale:!1,category:"flags"},lesotho:{keywords:["ls","flag","nation","country","banner"],char:"🇱🇸",fitzpatrick_scale:!1,category:"flags"},liberia:{keywords:["lr","flag","nation","country","banner"],char:"🇱🇷",fitzpatrick_scale:!1,category:"flags"},libya:{keywords:["ly","flag","nation","country","banner"],char:"🇱🇾",fitzpatrick_scale:!1,category:"flags"},liechtenstein:{keywords:["li","flag","nation","country","banner"],char:"🇱🇮",fitzpatrick_scale:!1,category:"flags"},lithuania:{keywords:["lt","flag","nation","country","banner"],char:"🇱🇹",fitzpatrick_scale:!1,category:"flags"},luxembourg:{keywords:["lu","flag","nation","country","banner"],char:"🇱🇺",fitzpatrick_scale:!1,category:"flags"},macau:{keywords:["macao","flag","nation","country","banner"],char:"🇲🇴",fitzpatrick_scale:!1,category:"flags"},macedonia:{keywords:["macedonia,","flag","nation","country","banner"],char:"🇲🇰",fitzpatrick_scale:!1,category:"flags"},madagascar:{keywords:["mg","flag","nation","country","banner"],char:"🇲🇬",fitzpatrick_scale:!1,category:"flags"},malawi:{keywords:["mw","flag","nation","country","banner"],char:"🇲🇼",fitzpatrick_scale:!1,category:"flags"},malaysia:{keywords:["my","flag","nation","country","banner"],char:"🇲🇾",fitzpatrick_scale:!1,category:"flags"},maldives:{keywords:["mv","flag","nation","country","banner"],char:"🇲🇻",fitzpatrick_scale:!1,category:"flags"},mali:{keywords:["ml","flag","nation","country","banner"],char:"🇲🇱",fitzpatrick_scale:!1,category:"flags"},malta:{keywords:["mt","flag","nation","country","banner"],char:"🇲🇹",fitzpatrick_scale:!1,category:"flags"},marshall_islands:{keywords:["marshall","islands","flag","nation","country","banner"],char:"🇲🇭",fitzpatrick_scale:!1,category:"flags"},martinique:{keywords:["mq","flag","nation","country","banner"],char:"🇲🇶",fitzpatrick_scale:!1,category:"flags"},mauritania:{keywords:["mr","flag","nation","country","banner"],char:"🇲🇷",fitzpatrick_scale:!1,category:"flags"},mauritius:{keywords:["mu","flag","nation","country","banner"],char:"🇲🇺",fitzpatrick_scale:!1,category:"flags"},mayotte:{keywords:["yt","flag","nation","country","banner"],char:"🇾🇹",fitzpatrick_scale:!1,category:"flags"},mexico:{keywords:["mx","flag","nation","country","banner"],char:"🇲🇽",fitzpatrick_scale:!1,category:"flags"},micronesia:{keywords:["micronesia,","federated","states","flag","nation","country","banner"],char:"🇫🇲",fitzpatrick_scale:!1,category:"flags"},moldova:{keywords:["moldova,","republic","flag","nation","country","banner"],char:"🇲🇩",fitzpatrick_scale:!1,category:"flags"},monaco:{keywords:["mc","flag","nation","country","banner"],char:"🇲🇨",fitzpatrick_scale:!1,category:"flags"},mongolia:{keywords:["mn","flag","nation","country","banner"],char:"🇲🇳",fitzpatrick_scale:!1,category:"flags"},montenegro:{keywords:["me","flag","nation","country","banner"],char:"🇲🇪",fitzpatrick_scale:!1,category:"flags"},montserrat:{keywords:["ms","flag","nation","country","banner"],char:"🇲🇸",fitzpatrick_scale:!1,category:"flags"},morocco:{keywords:["ma","flag","nation","country","banner"],char:"🇲🇦",fitzpatrick_scale:!1,category:"flags"},mozambique:{keywords:["mz","flag","nation","country","banner"],char:"🇲🇿",fitzpatrick_scale:!1,category:"flags"},myanmar:{keywords:["mm","flag","nation","country","banner"],char:"🇲🇲",fitzpatrick_scale:!1,category:"flags"},namibia:{keywords:["na","flag","nation","country","banner"],char:"🇳🇦",fitzpatrick_scale:!1,category:"flags"},nauru:{keywords:["nr","flag","nation","country","banner"],char:"🇳🇷",fitzpatrick_scale:!1,category:"flags"},nepal:{keywords:["np","flag","nation","country","banner"],char:"🇳🇵",fitzpatrick_scale:!1,category:"flags"},netherlands:{keywords:["nl","flag","nation","country","banner"],char:"🇳🇱",fitzpatrick_scale:!1,category:"flags"},new_caledonia:{keywords:["new","caledonia","flag","nation","country","banner"],char:"🇳🇨",fitzpatrick_scale:!1,category:"flags"},new_zealand:{keywords:["new","zealand","flag","nation","country","banner"],char:"🇳🇿",fitzpatrick_scale:!1,category:"flags"},nicaragua:{keywords:["ni","flag","nation","country","banner"],char:"🇳🇮",fitzpatrick_scale:!1,category:"flags"},niger:{keywords:["ne","flag","nation","country","banner"],char:"🇳🇪",fitzpatrick_scale:!1,category:"flags"},nigeria:{keywords:["flag","nation","country","banner"],char:"🇳🇬",fitzpatrick_scale:!1,category:"flags"},niue:{keywords:["nu","flag","nation","country","banner"],char:"🇳🇺",fitzpatrick_scale:!1,category:"flags"},norfolk_island:{keywords:["norfolk","island","flag","nation","country","banner"],char:"🇳🇫",fitzpatrick_scale:!1,category:"flags"},northern_mariana_islands:{keywords:["northern","mariana","islands","flag","nation","country","banner"],char:"🇲🇵",fitzpatrick_scale:!1,category:"flags"},north_korea:{keywords:["north","korea","nation","flag","country","banner"],char:"🇰🇵",fitzpatrick_scale:!1,category:"flags"},norway:{keywords:["no","flag","nation","country","banner"],char:"🇳🇴",fitzpatrick_scale:!1,category:"flags"},oman:{keywords:["om_symbol","flag","nation","country","banner"],char:"🇴🇲",fitzpatrick_scale:!1,category:"flags"},pakistan:{keywords:["pk","flag","nation","country","banner"],char:"🇵🇰",fitzpatrick_scale:!1,category:"flags"},palau:{keywords:["pw","flag","nation","country","banner"],char:"🇵🇼",fitzpatrick_scale:!1,category:"flags"},palestinian_territories:{keywords:["palestine","palestinian","territories","flag","nation","country","banner"],char:"🇵🇸",fitzpatrick_scale:!1,category:"flags"},panama:{keywords:["pa","flag","nation","country","banner"],char:"🇵🇦",fitzpatrick_scale:!1,category:"flags"},papua_new_guinea:{keywords:["papua","new","guinea","flag","nation","country","banner"],char:"🇵🇬",fitzpatrick_scale:!1,category:"flags"},paraguay:{keywords:["py","flag","nation","country","banner"],char:"🇵🇾",fitzpatrick_scale:!1,category:"flags"},peru:{keywords:["pe","flag","nation","country","banner"],char:"🇵🇪",fitzpatrick_scale:!1,category:"flags"},philippines:{keywords:["ph","flag","nation","country","banner"],char:"🇵🇭",fitzpatrick_scale:!1,category:"flags"},pitcairn_islands:{keywords:["pitcairn","flag","nation","country","banner"],char:"🇵🇳",fitzpatrick_scale:!1,category:"flags"},poland:{keywords:["pl","flag","nation","country","banner"],char:"🇵🇱",fitzpatrick_scale:!1,category:"flags"},portugal:{keywords:["pt","flag","nation","country","banner"],char:"🇵🇹",fitzpatrick_scale:!1,category:"flags"},puerto_rico:{keywords:["puerto","rico","flag","nation","country","banner"],char:"🇵🇷",fitzpatrick_scale:!1,category:"flags"},qatar:{keywords:["qa","flag","nation","country","banner"],char:"🇶🇦",fitzpatrick_scale:!1,category:"flags"},reunion:{keywords:["réunion","flag","nation","country","banner"],char:"🇷🇪",fitzpatrick_scale:!1,category:"flags"},romania:{keywords:["ro","flag","nation","country","banner"],char:"🇷🇴",fitzpatrick_scale:!1,category:"flags"},ru:{keywords:["russian","federation","flag","nation","country","banner"],char:"🇷🇺",fitzpatrick_scale:!1,category:"flags"},rwanda:{keywords:["rw","flag","nation","country","banner"],char:"🇷🇼",fitzpatrick_scale:!1,category:"flags"},st_barthelemy:{keywords:["saint","barthélemy","flag","nation","country","banner"],char:"🇧🇱",fitzpatrick_scale:!1,category:"flags"},st_helena:{keywords:["saint","helena","ascension","tristan","cunha","flag","nation","country","banner"],char:"🇸🇭",fitzpatrick_scale:!1,category:"flags"},st_kitts_nevis:{keywords:["saint","kitts","nevis","flag","nation","country","banner"],char:"🇰🇳",fitzpatrick_scale:!1,category:"flags"},st_lucia:{keywords:["saint","lucia","flag","nation","country","banner"],char:"🇱🇨",fitzpatrick_scale:!1,category:"flags"},st_pierre_miquelon:{keywords:["saint","pierre","miquelon","flag","nation","country","banner"],char:"🇵🇲",fitzpatrick_scale:!1,category:"flags"},st_vincent_grenadines:{keywords:["saint","vincent","grenadines","flag","nation","country","banner"],char:"🇻🇨",fitzpatrick_scale:!1,category:"flags"},samoa:{keywords:["ws","flag","nation","country","banner"],char:"🇼🇸",fitzpatrick_scale:!1,category:"flags"},san_marino:{keywords:["san","marino","flag","nation","country","banner"],char:"🇸🇲",fitzpatrick_scale:!1,category:"flags"},sao_tome_principe:{keywords:["sao","tome","principe","flag","nation","country","banner"],char:"🇸🇹",fitzpatrick_scale:!1,category:"flags"},saudi_arabia:{keywords:["flag","nation","country","banner"],char:"🇸🇦",fitzpatrick_scale:!1,category:"flags"},senegal:{keywords:["sn","flag","nation","country","banner"],char:"🇸🇳",fitzpatrick_scale:!1,category:"flags"},serbia:{keywords:["rs","flag","nation","country","banner"],char:"🇷🇸",fitzpatrick_scale:!1,category:"flags"},seychelles:{keywords:["sc","flag","nation","country","banner"],char:"🇸🇨",fitzpatrick_scale:!1,category:"flags"},sierra_leone:{keywords:["sierra","leone","flag","nation","country","banner"],char:"🇸🇱",fitzpatrick_scale:!1,category:"flags"},singapore:{keywords:["sg","flag","nation","country","banner"],char:"🇸🇬",fitzpatrick_scale:!1,category:"flags"},sint_maarten:{keywords:["sint","maarten","dutch","flag","nation","country","banner"],char:"🇸🇽",fitzpatrick_scale:!1,category:"flags"},slovakia:{keywords:["sk","flag","nation","country","banner"],char:"🇸🇰",fitzpatrick_scale:!1,category:"flags"},slovenia:{keywords:["si","flag","nation","country","banner"],char:"🇸🇮",fitzpatrick_scale:!1,category:"flags"},solomon_islands:{keywords:["solomon","islands","flag","nation","country","banner"],char:"🇸🇧",fitzpatrick_scale:!1,category:"flags"},somalia:{keywords:["so","flag","nation","country","banner"],char:"🇸🇴",fitzpatrick_scale:!1,category:"flags"},south_africa:{keywords:["south","africa","flag","nation","country","banner"],char:"🇿🇦",fitzpatrick_scale:!1,category:"flags"},south_georgia_south_sandwich_islands:{keywords:["south","georgia","sandwich","islands","flag","nation","country","banner"],char:"🇬🇸",fitzpatrick_scale:!1,category:"flags"},kr:{keywords:["south","korea","nation","flag","country","banner"],char:"🇰🇷",fitzpatrick_scale:!1,category:"flags"},south_sudan:{keywords:["south","sd","flag","nation","country","banner"],char:"🇸🇸",fitzpatrick_scale:!1,category:"flags"},es:{keywords:["spain","flag","nation","country","banner"],char:"🇪🇸",fitzpatrick_scale:!1,category:"flags"},sri_lanka:{keywords:["sri","lanka","flag","nation","country","banner"],char:"🇱🇰",fitzpatrick_scale:!1,category:"flags"},sudan:{keywords:["sd","flag","nation","country","banner"],char:"🇸🇩",fitzpatrick_scale:!1,category:"flags"},suriname:{keywords:["sr","flag","nation","country","banner"],char:"🇸🇷",fitzpatrick_scale:!1,category:"flags"},swaziland:{keywords:["sz","flag","nation","country","banner"],char:"🇸🇿",fitzpatrick_scale:!1,category:"flags"},sweden:{keywords:["se","flag","nation","country","banner"],char:"🇸🇪",fitzpatrick_scale:!1,category:"flags"},switzerland:{keywords:["ch","flag","nation","country","banner"],char:"🇨🇭",fitzpatrick_scale:!1,category:"flags"},syria:{keywords:["syrian","arab","republic","flag","nation","country","banner"],char:"🇸🇾",fitzpatrick_scale:!1,category:"flags"},taiwan:{keywords:["tw","flag","nation","country","banner"],char:"🇹🇼",fitzpatrick_scale:!1,category:"flags"},tajikistan:{keywords:["tj","flag","nation","country","banner"],char:"🇹🇯",fitzpatrick_scale:!1,category:"flags"},tanzania:{keywords:["tanzania,","united","republic","flag","nation","country","banner"],char:"🇹🇿",fitzpatrick_scale:!1,category:"flags"},thailand:{keywords:["th","flag","nation","country","banner"],char:"🇹🇭",fitzpatrick_scale:!1,category:"flags"},timor_leste:{keywords:["timor","leste","flag","nation","country","banner"],char:"🇹🇱",fitzpatrick_scale:!1,category:"flags"},togo:{keywords:["tg","flag","nation","country","banner"],char:"🇹🇬",fitzpatrick_scale:!1,category:"flags"},tokelau:{keywords:["tk","flag","nation","country","banner"],char:"🇹🇰",fitzpatrick_scale:!1,category:"flags"},tonga:{keywords:["to","flag","nation","country","banner"],char:"🇹🇴",fitzpatrick_scale:!1,category:"flags"},trinidad_tobago:{keywords:["trinidad","tobago","flag","nation","country","banner"],char:"🇹🇹",fitzpatrick_scale:!1,category:"flags"},tunisia:{keywords:["tn","flag","nation","country","banner"],char:"🇹🇳",fitzpatrick_scale:!1,category:"flags"},tr:{keywords:["turkey","flag","nation","country","banner"],char:"🇹🇷",fitzpatrick_scale:!1,category:"flags"},turkmenistan:{keywords:["flag","nation","country","banner"],char:"🇹🇲",fitzpatrick_scale:!1,category:"flags"},turks_caicos_islands:{keywords:["turks","caicos","islands","flag","nation","country","banner"],char:"🇹🇨",fitzpatrick_scale:!1,category:"flags"},tuvalu:{keywords:["flag","nation","country","banner"],char:"🇹🇻",fitzpatrick_scale:!1,category:"flags"},uganda:{keywords:["ug","flag","nation","country","banner"],char:"🇺🇬",fitzpatrick_scale:!1,category:"flags"},ukraine:{keywords:["ua","flag","nation","country","banner"],char:"🇺🇦",fitzpatrick_scale:!1,category:"flags"},united_arab_emirates:{keywords:["united","arab","emirates","flag","nation","country","banner"],char:"🇦🇪",fitzpatrick_scale:!1,category:"flags"},uk:{keywords:["united","kingdom","great","britain","northern","ireland","flag","nation","country","banner","british","UK","english","england","union jack"],char:"🇬🇧",fitzpatrick_scale:!1,category:"flags"},england:{keywords:["flag","english"],char:"🏴󠁧󠁢󠁥󠁮󠁧󠁿",fitzpatrick_scale:!1,category:"flags"},scotland:{keywords:["flag","scottish"],char:"🏴󠁧󠁢󠁳󠁣󠁴󠁿",fitzpatrick_scale:!1,category:"flags"},wales:{keywords:["flag","welsh"],char:"🏴󠁧󠁢󠁷󠁬󠁳󠁿",fitzpatrick_scale:!1,category:"flags"},us:{keywords:["united","states","america","flag","nation","country","banner"],char:"🇺🇸",fitzpatrick_scale:!1,category:"flags"},us_virgin_islands:{keywords:["virgin","islands","us","flag","nation","country","banner"],char:"🇻🇮",fitzpatrick_scale:!1,category:"flags"},uruguay:{keywords:["uy","flag","nation","country","banner"],char:"🇺🇾",fitzpatrick_scale:!1,category:"flags"},uzbekistan:{keywords:["uz","flag","nation","country","banner"],char:"🇺🇿",fitzpatrick_scale:!1,category:"flags"},vanuatu:{keywords:["vu","flag","nation","country","banner"],char:"🇻🇺",fitzpatrick_scale:!1,category:"flags"},vatican_city:{keywords:["vatican","city","flag","nation","country","banner"],char:"🇻🇦",fitzpatrick_scale:!1,category:"flags"},venezuela:{keywords:["ve","bolivarian","republic","flag","nation","country","banner"],char:"🇻🇪",fitzpatrick_scale:!1,category:"flags"},vietnam:{keywords:["viet","nam","flag","nation","country","banner"],char:"🇻🇳",fitzpatrick_scale:!1,category:"flags"},wallis_futuna:{keywords:["wallis","futuna","flag","nation","country","banner"],char:"🇼🇫",fitzpatrick_scale:!1,category:"flags"},western_sahara:{keywords:["western","sahara","flag","nation","country","banner"],char:"🇪🇭",fitzpatrick_scale:!1,category:"flags"},yemen:{keywords:["ye","flag","nation","country","banner"],char:"🇾🇪",fitzpatrick_scale:!1,category:"flags"},zambia:{keywords:["zm","flag","nation","country","banner"],char:"🇿🇲",fitzpatrick_scale:!1,category:"flags"},zimbabwe:{keywords:["zw","flag","nation","country","banner"],char:"🇿🇼",fitzpatrick_scale:!1,category:"flags"},united_nations:{keywords:["un","flag","banner"],char:"🇺🇳",fitzpatrick_scale:!1,category:"flags"},pirate_flag:{keywords:["skull","crossbones","flag","banner"],char:"🏴‍☠️",fitzpatrick_scale:!1,category:"flags"}});(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(V,Tt,en){var yt=Tt==="UL"?"InsertUnorderedList":"InsertOrderedList";V.execCommand(yt,!1,en===!1?null:{"list-style-type":en})},mt=function(V){V.addCommand("ApplyUnorderedListStyle",function(Tt,en){_r(V,"UL",en["list-style-type"])}),V.addCommand("ApplyOrderedListStyle",function(Tt,en){_r(V,"OL",en["list-style-type"])})},Nt=tinymce.util.Tools.resolve("tinymce.util.Tools"),gt=function(V){var Tt=V.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return Tt?Tt.split(/[ ,]/):[]},yr=function(V){var Tt=V.getParam("advlist_bullet_styles","default,circle,square");return Tt?Tt.split(/[ ,]/):[]},ft=function(){},Ir=function(V){return function(){return V}},vr=function(V){return V},Xr=Ir(!1),mr=Ir(!0),Kt=function(){return kr},kr=function(){var V=function(yt){return yt()},Tt=vr,en={fold:function(yt,On){return yt()},isSome:Xr,isNone:mr,getOr:Tt,getOrThunk:V,getOrDie:function(yt){throw new Error(yt||"error: getOrDie called on none.")},getOrNull:Ir(null),getOrUndefined:Ir(void 0),or:Tt,orThunk:V,map:Kt,each:ft,bind:Kt,exists:Xr,forall:mr,filter:function(){return Kt()},toArray:function(){return[]},toString:Ir("none()")};return en}(),Ot=function(V){var Tt=Ir(V),en=function(){return On},yt=function(hn){return hn(V)},On={fold:function(hn,E){return E(V)},isSome:mr,isNone:Xr,getOr:Tt,getOrThunk:Tt,getOrDie:Tt,getOrNull:Tt,getOrUndefined:Tt,or:en,orThunk:en,map:function(hn){return Ot(hn(V))},each:function(hn){hn(V)},bind:yt,exists:yt,forall:yt,filter:function(hn){return hn(V)?On:kr},toArray:function(){return[V]},toString:function(){return"some("+V+")"}};return On},Je=function(V){return V==null?kr:Ot(V)},$e={some:Ot,none:Kt,from:Je},Ht=function(V,Tt){return V.$.contains(V.getBody(),Tt)},rt=function(V){return V&&/^(TH|TD)$/.test(V.nodeName)},nr=function(V){return function(Tt){return Tt&&/^(OL|UL|DL)$/.test(Tt.nodeName)&&Ht(V,Tt)}},se=function(V){var Tt=V.dom.getParent(V.selection.getNode(),"ol,ul"),en=V.dom.getStyle(Tt,"listStyleType");return $e.from(en)},or=function(V,Tt){for(var en=0;en<V.length;en++){var yt=V[en];if(Tt(yt))return en}return-1},Me=function(V){return V.replace(/\-/g," ").replace(/\b\w/g,function(Tt){return Tt.toUpperCase()})},Nr=function(V,Tt,en){var yt=or(Tt.parents,rt),On=yt!==-1?Tt.parents.slice(0,yt):Tt.parents,hn=Nt.grep(On,nr(V));return hn.length>0&&hn[0].nodeName===en},zr=function(V,Tt){return function(en){var yt=function(On){en.setActive(Nr(V,On,Tt))};return V.on("NodeChange",yt),function(){return V.off("NodeChange",yt)}}},Le=function(V,Tt,en,yt,On,hn){V.ui.registry.addSplitButton(Tt,{tooltip:en,icon:On==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(E){var Rt=Nt.map(hn,function(Ve){var Ft=On==="OL"?"num":"bull",In=Ve==="disc"||Ve==="decimal"?"default":Ve,qn=Ve==="default"?"":Ve,an=Me(Ve);return{type:"choiceitem",value:qn,icon:"list-"+Ft+"-"+In,text:an}});E(Rt)},onAction:function(){return V.execCommand(yt)},onItemAction:function(E,Rt){_r(V,On,Rt)},select:function(E){var Rt=se(V);return Rt.map(function(Ve){return E===Ve}).getOr(!1)},onSetup:zr(V,On)})},Dt=function(V,Tt,en,yt,On,hn){V.ui.registry.addToggleButton(Tt,{active:!1,tooltip:en,icon:On==="OL"?"ordered-list":"unordered-list",onSetup:zr(V,On),onAction:function(){return V.execCommand(yt)}})},dt=function(V,Tt,en,yt,On,hn){hn.length>1?Le(V,Tt,en,yt,On,hn):Dt(V,Tt,en,yt,On)},xn=function(V){dt(V,"numlist","Numbered list","InsertOrderedList","OL",gt(V)),dt(V,"bullist","Bullet list","InsertUnorderedList","UL",yr(V))};function J(){Ze.add("advlist",function(V){V.hasPlugin("lists")?(xn(V),mt(V)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}J()})();(function(){var Ze=function(Me){var Nr=Me,zr=function(){return Nr},Le=function(Dt){Nr=Dt};return{get:zr,set:Le}},_r=Object.hasOwnProperty,mt=function(Me,Nr){return _r.call(Me,Nr)},Nt=tinymce.util.Tools.resolve("tinymce.PluginManager"),gt=tinymce.util.Tools.resolve("tinymce.Env"),yr=tinymce.util.Tools.resolve("tinymce.util.Delay"),ft=function(Me){return Me.fire("ResizeEditor")},Ir=function(Me){return Me.getParam("min_height",Me.getElement().offsetHeight,"number")},vr=function(Me){return Me.getParam("max_height",0,"number")},Xr=function(Me){return Me.getParam("autoresize_overflow_padding",1,"number")},mr=function(Me){return Me.getParam("autoresize_bottom_margin",50,"number")},Kt=function(Me){return Me.getParam("autoresize_on_init",!0,"boolean")},kr=function(Me){return Me.plugins.fullscreen&&Me.plugins.fullscreen.isFullscreen()},Ot=function(Me,Nr,zr,Le,Dt){yr.setEditorTimeout(Me,function(){rt(Me,Nr),zr--?Ot(Me,Nr,zr,Le,Dt):Dt&&Dt()},Le)},Je=function(Me,Nr){var zr=Me.getBody();zr&&(zr.style.overflowY=Nr?"":"hidden",Nr||(zr.scrollTop=0))},$e=function(Me,Nr,zr,Le){var Dt=parseInt(Me.getStyle(Nr,zr,Le),10);return isNaN(Dt)?0:Dt},Ht=function(Me){if((Me==null?void 0:Me.type.toLowerCase())==="setcontent"){var Nr=Me;return Nr.selection===!0||Nr.paste===!0}else return!1},rt=function(Me,Nr,zr){var Le=Me.dom,Dt=Me.getDoc();if(Dt){if(kr(Me)){Je(Me,!0);return}var dt=Dt.documentElement,xn=mr(Me),J=Ir(Me),V=$e(Le,dt,"margin-top",!0),Tt=$e(Le,dt,"margin-bottom",!0),en=dt.offsetHeight+V+Tt+xn;en<0&&(en=0);var yt=Me.getContainer().offsetHeight,On=Me.getContentAreaContainer().offsetHeight,hn=yt-On;en+hn>Ir(Me)&&(J=en+hn);var E=vr(Me);if(E&&J>E?(J=E,Je(Me,!0)):Je(Me,!1),J!==Nr.get()){var Rt=J-Nr.get();if(Le.setStyle(Me.getContainer(),"height",J+"px"),Nr.set(J),ft(Me),gt.browser.isSafari()&&gt.mac){var Ve=Me.getWin();Ve.scrollTo(Ve.pageXOffset,Ve.pageYOffset)}Me.hasFocus()&&Ht(zr)&&Me.selection.scrollIntoView(),gt.webkit&&Rt<0&&rt(Me,Nr,zr)}}},nr=function(Me,Nr){Me.on("init",function(){var zr=Xr(Me),Le=Me.dom;Le.setStyles(Me.getDoc().documentElement,{height:"auto"}),Le.setStyles(Me.getBody(),{paddingLeft:zr,paddingRight:zr,"min-height":0})}),Me.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(zr){rt(Me,Nr,zr)}),Kt(Me)&&Me.on("init",function(){Ot(Me,Nr,20,100,function(){Ot(Me,Nr,5,1e3)})})},se=function(Me,Nr){Me.addCommand("mceAutoResize",function(){rt(Me,Nr)})};function or(){Nt.add("autoresize",function(Me){if(mt(Me.settings,"resize")||(Me.settings.resize=!1),!Me.inline){var Nr=Ze(0);se(Me,Nr),nr(Me,Nr)}})}or()})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(){},mt=function(Rt){return function(){return Rt}},Nt=function(Rt){return Rt},gt=mt(!1),yr=mt(!0),ft=function(){return Ir},Ir=function(){var Rt=function(In){return In()},Ve=Nt,Ft={fold:function(In,qn){return In()},isSome:gt,isNone:yr,getOr:Ve,getOrThunk:Rt,getOrDie:function(In){throw new Error(In||"error: getOrDie called on none.")},getOrNull:mt(null),getOrUndefined:mt(void 0),or:Ve,orThunk:Rt,map:ft,each:_r,bind:ft,exists:gt,forall:yr,filter:function(){return ft()},toArray:function(){return[]},toString:mt("none()")};return Ft}(),vr=function(Rt){var Ve=mt(Rt),Ft=function(){return qn},In=function(an){return an(Rt)},qn={fold:function(an,Un){return Un(Rt)},isSome:yr,isNone:gt,getOr:Ve,getOrThunk:Ve,getOrDie:Ve,getOrNull:Ve,getOrUndefined:Ve,or:Ft,orThunk:Ft,map:function(an){return vr(an(Rt))},each:function(an){an(Rt)},bind:In,exists:In,forall:In,filter:function(an){return an(Rt)?qn:Ir},toArray:function(){return[Rt]},toString:function(){return"some("+Rt+")"}};return qn},Xr=function(Rt){return Rt==null?Ir:vr(Rt)},mr={some:vr,none:ft,from:Xr},Kt=function(Rt,Ve){return Ve<Rt.length?mr.some(Rt[Ve]):mr.none()},kr=function(Rt){return Kt(Rt,0)},Ot=function(Rt,Ve){return Rt?mr.some(Ve):mr.none()},Je=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),$e=function(Rt){return Rt&&Rt.nodeName==="PRE"&&Rt.className.indexOf("language-")!==-1},Ht=function(Rt){return function(Ve,Ft){return Rt(Ft)}},rt=typeof window<"u"?window:Function("return this;")(),nr={},se={exports:nr},or={};(function(Rt,Ve,Ft,In){var qn=window.Prism;window.Prism={manual:!0},function(Un,Z){typeof Ve=="object"&&typeof Ft<"u"?Ft.exports=Z():(Un=typeof globalThis<"u"?globalThis:Un||self,Un.EphoxContactWrapper=Z())}(this,function(){var Un=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof or<"u"?or:typeof self<"u"?self:{},Z={exports:{}};(function(Ye){var un=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{},ir=function(Zt){var qr=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,Zr=0,At={},Qt={manual:Zt.Prism&&Zt.Prism.manual,disableWorkerMessageHandler:Zt.Prism&&Zt.Prism.disableWorkerMessageHandler,util:{encode:function Vt(nt){return nt instanceof Pe?new Pe(nt.type,Vt(nt.content),nt.alias):Array.isArray(nt)?nt.map(Vt):nt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Vt){return Object.prototype.toString.call(Vt).slice(8,-1)},objId:function(Vt){return Vt.__id||Object.defineProperty(Vt,"__id",{value:++Zr}),Vt.__id},clone:function Vt(nt,ct){ct=ct||{};var bt,zt;switch(Qt.util.type(nt)){case"Object":if(zt=Qt.util.objId(nt),ct[zt])return ct[zt];bt={},ct[zt]=bt;for(var xr in nt)nt.hasOwnProperty(xr)&&(bt[xr]=Vt(nt[xr],ct));return bt;case"Array":return zt=Qt.util.objId(nt),ct[zt]?ct[zt]:(bt=[],ct[zt]=bt,nt.forEach(function(Rr,sr){bt[sr]=Vt(Rr,ct)}),bt);default:return nt}},getLanguage:function(Vt){for(;Vt;){var nt=qr.exec(Vt.className);if(nt)return nt[1].toLowerCase();Vt=Vt.parentElement}return"none"},setLanguage:function(Vt,nt){Vt.className=Vt.className.replace(RegExp(qr.source,"gi"),""),Vt.classList.add("language-"+nt)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(bt){var Vt=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(bt.stack)||[])[1];if(Vt){var nt=document.getElementsByTagName("script");for(var ct in nt)if(nt[ct].src==Vt)return nt[ct]}return null}},isActive:function(Vt,nt,ct){for(var bt="no-"+nt;Vt;){var zt=Vt.classList;if(zt.contains(nt))return!0;if(zt.contains(bt))return!1;Vt=Vt.parentElement}return!!ct}},languages:{plain:At,plaintext:At,text:At,txt:At,extend:function(Vt,nt){var ct=Qt.util.clone(Qt.languages[Vt]);for(var bt in nt)ct[bt]=nt[bt];return ct},insertBefore:function(Vt,nt,ct,bt){bt=bt||Qt.languages;var zt=bt[Vt],xr={};for(var Rr in zt)if(zt.hasOwnProperty(Rr)){if(Rr==nt)for(var sr in ct)ct.hasOwnProperty(sr)&&(xr[sr]=ct[sr]);ct.hasOwnProperty(Rr)||(xr[Rr]=zt[Rr])}var He=bt[Vt];return bt[Vt]=xr,Qt.languages.DFS(Qt.languages,function(Xt,Pr){Pr===He&&Xt!=Vt&&(this[Xt]=xr)}),xr},DFS:function Vt(nt,ct,bt,zt){zt=zt||{};var xr=Qt.util.objId;for(var Rr in nt)if(nt.hasOwnProperty(Rr)){ct.call(nt,Rr,nt[Rr],bt||Rr);var sr=nt[Rr],He=Qt.util.type(sr);He==="Object"&&!zt[xr(sr)]?(zt[xr(sr)]=!0,Vt(sr,ct,null,zt)):He==="Array"&&!zt[xr(sr)]&&(zt[xr(sr)]=!0,Vt(sr,ct,Rr,zt))}}},plugins:{},highlightAll:function(Vt,nt){Qt.highlightAllUnder(document,Vt,nt)},highlightAllUnder:function(Vt,nt,ct){var bt={callback:ct,container:Vt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Qt.hooks.run("before-highlightall",bt),bt.elements=Array.prototype.slice.apply(bt.container.querySelectorAll(bt.selector)),Qt.hooks.run("before-all-elements-highlight",bt);for(var zt=0,xr;xr=bt.elements[zt++];)Qt.highlightElement(xr,nt===!0,bt.callback)},highlightElement:function(Vt,nt,ct){var bt=Qt.util.getLanguage(Vt),zt=Qt.languages[bt];Qt.util.setLanguage(Vt,bt);var xr=Vt.parentElement;xr&&xr.nodeName.toLowerCase()==="pre"&&Qt.util.setLanguage(xr,bt);var Rr=Vt.textContent,sr={element:Vt,language:bt,grammar:zt,code:Rr};function He(Pr){sr.highlightedCode=Pr,Qt.hooks.run("before-insert",sr),sr.element.innerHTML=sr.highlightedCode,Qt.hooks.run("after-highlight",sr),Qt.hooks.run("complete",sr),ct&&ct.call(sr.element)}if(Qt.hooks.run("before-sanity-check",sr),xr=sr.element.parentElement,xr&&xr.nodeName.toLowerCase()==="pre"&&!xr.hasAttribute("tabindex")&&xr.setAttribute("tabindex","0"),!sr.code){Qt.hooks.run("complete",sr),ct&&ct.call(sr.element);return}if(Qt.hooks.run("before-highlight",sr),!sr.grammar){He(Qt.util.encode(sr.code));return}if(nt&&Zt.Worker){var Xt=new Worker(Qt.filename);Xt.onmessage=function(Pr){He(Pr.data)},Xt.postMessage(JSON.stringify({language:sr.language,code:sr.code,immediateClose:!0}))}else He(Qt.highlight(sr.code,sr.grammar,sr.language))},highlight:function(Vt,nt,ct){var bt={code:Vt,grammar:nt,language:ct};if(Qt.hooks.run("before-tokenize",bt),!bt.grammar)throw new Error('The language "'+bt.language+'" has no grammar.');return bt.tokens=Qt.tokenize(bt.code,bt.grammar),Qt.hooks.run("after-tokenize",bt),Pe.stringify(Qt.util.encode(bt.tokens),bt.language)},tokenize:function(Vt,nt){var ct=nt.rest;if(ct){for(var bt in ct)nt[bt]=ct[bt];delete nt.rest}var zt=new Ne;return Oe(zt,zt.head,Vt),gr(Vt,zt,nt,zt.head,0),br(zt)},hooks:{all:{},add:function(Vt,nt){var ct=Qt.hooks.all;ct[Vt]=ct[Vt]||[],ct[Vt].push(nt)},run:function(Vt,nt){var ct=Qt.hooks.all[Vt];if(!(!ct||!ct.length))for(var bt=0,zt;zt=ct[bt++];)zt(nt)}},Token:Pe};Zt.Prism=Qt;function Pe(Vt,nt,ct,bt){this.type=Vt,this.content=nt,this.alias=ct,this.length=(bt||"").length|0}Pe.stringify=function Vt(nt,ct){if(typeof nt=="string")return nt;if(Array.isArray(nt)){var bt="";return nt.forEach(function(He){bt+=Vt(He,ct)}),bt}var zt={type:nt.type,content:Vt(nt.content,ct),tag:"span",classes:["token",nt.type],attributes:{},language:ct},xr=nt.alias;xr&&(Array.isArray(xr)?Array.prototype.push.apply(zt.classes,xr):zt.classes.push(xr)),Qt.hooks.run("wrap",zt);var Rr="";for(var sr in zt.attributes)Rr+=" "+sr+'="'+(zt.attributes[sr]||"").replace(/"/g,"&quot;")+'"';return"<"+zt.tag+' class="'+zt.classes.join(" ")+'"'+Rr+">"+zt.content+"</"+zt.tag+">"};function Fe(Vt,nt,ct,bt){Vt.lastIndex=nt;var zt=Vt.exec(ct);if(zt&&bt&&zt[1]){var xr=zt[1].length;zt.index+=xr,zt[0]=zt[0].slice(xr)}return zt}function gr(Vt,nt,ct,bt,zt,xr){for(var Rr in ct)if(!(!ct.hasOwnProperty(Rr)||!ct[Rr])){var sr=ct[Rr];sr=Array.isArray(sr)?sr:[sr];for(var He=0;He<sr.length;++He){if(xr&&xr.cause==Rr+","+He)return;var Xt=sr[He],Pr=Xt.inside,lr=!!Xt.lookbehind,Gn=!!Xt.greedy,be=Xt.alias;if(Gn&&!Xt.pattern.global){var _t=Xt.pattern.toString().match(/[imsuy]*$/)[0];Xt.pattern=RegExp(Xt.pattern.source,_t+"g")}for(var at=Xt.pattern||Xt,K=bt.next,Ee=zt;K!==nt.tail&&!(xr&&Ee>=xr.reach);Ee+=K.value.length,K=K.next){var st=K.value;if(nt.length>Vt.length)return;if(!(st instanceof Pe)){var Tr=1,cr;if(Gn){if(cr=Fe(at,Ee,Vt,lr),!cr||cr.index>=Vt.length)break;var Fa=cr.index,Fr=cr.index+cr[0].length,ia=Ee;for(ia+=K.value.length;Fa>=ia;)K=K.next,ia+=K.value.length;if(ia-=K.value.length,Ee=ia,K.value instanceof Pe)continue;for(var Za=K;Za!==nt.tail&&(ia<Fr||typeof Za.value=="string");Za=Za.next)Tr++,ia+=Za.value.length;Tr--,st=Vt.slice(Ee,ia),cr.index-=Ee}else if(cr=Fe(at,0,st,lr),!cr)continue;var Fa=cr.index,Ha=cr[0],zo=st.slice(0,Fa),ci=st.slice(Fa+Ha.length),Oo=Ee+st.length;xr&&Oo>xr.reach&&(xr.reach=Oo);var mo=K.prev;zo&&(mo=Oe(nt,mo,zo),Ee+=zo.length),ut(nt,mo,Tr);var Jo=new Pe(Rr,Pr?Qt.tokenize(Ha,Pr):Ha,be,Ha);if(K=Oe(nt,mo,Jo),ci&&Oe(nt,K,ci),Tr>1){var ua={cause:Rr+","+He,reach:Oo};gr(Vt,nt,ct,K.prev,Ee,ua),xr&&ua.reach>xr.reach&&(xr.reach=ua.reach)}}}}}}function Ne(){var Vt={value:null,prev:null,next:null},nt={value:null,prev:Vt,next:null};Vt.next=nt,this.head=Vt,this.tail=nt,this.length=0}function Oe(Vt,nt,ct){var bt=nt.next,zt={value:ct,prev:nt,next:bt};return nt.next=zt,bt.prev=zt,Vt.length++,zt}function ut(Vt,nt,ct){for(var bt=nt.next,zt=0;zt<ct&&bt!==Vt.tail;zt++)bt=bt.next;nt.next=bt,bt.prev=nt,Vt.length-=zt}function br(Vt){for(var nt=[],ct=Vt.head.next;ct!==Vt.tail;)nt.push(ct.value),ct=ct.next;return nt}if(!Zt.document)return Zt.addEventListener&&(Qt.disableWorkerMessageHandler||Zt.addEventListener("message",function(Vt){var nt=JSON.parse(Vt.data),ct=nt.language,bt=nt.code,zt=nt.immediateClose;Zt.postMessage(Qt.highlight(bt,Qt.languages[ct],ct)),zt&&Zt.close()},!1)),Qt;var Jr=Qt.util.currentScript();Jr&&(Qt.filename=Jr.src,Jr.hasAttribute("data-manual")&&(Qt.manual=!0));function _n(){Qt.manual||Qt.highlightAll()}if(!Qt.manual){var $n=document.readyState;$n==="loading"||$n==="interactive"&&Jr&&Jr.defer?document.addEventListener("DOMContentLoaded",_n):window.requestAnimationFrame?window.requestAnimationFrame(_n):window.setTimeout(_n,16)}return Qt}(un);Ye.exports&&(Ye.exports=ir),typeof Un<"u"&&(Un.Prism=ir)})(Z),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Ye){function un(ir,Zt){return"___"+ir.toUpperCase()+Zt+"___"}Object.defineProperties(Ye.languages["markup-templating"]={},{buildPlaceholders:{value:function(ir,Zt,qr,Zr){if(ir.language===Zt){var At=ir.tokenStack=[];ir.code=ir.code.replace(qr,function(Qt){if(typeof Zr=="function"&&!Zr(Qt))return Qt;for(var Pe=At.length,Fe;ir.code.indexOf(Fe=un(Zt,Pe))!==-1;)++Pe;return At[Pe]=Qt,Fe}),ir.grammar=Ye.languages.markup}}},tokenizePlaceholders:{value:function(ir,Zt){if(ir.language!==Zt||!ir.tokenStack)return;ir.grammar=Ye.languages[Zt];var qr=0,Zr=Object.keys(ir.tokenStack);function At(Qt){for(var Pe=0;Pe<Qt.length&&!(qr>=Zr.length);Pe++){var Fe=Qt[Pe];if(typeof Fe=="string"||Fe.content&&typeof Fe.content=="string"){var gr=Zr[qr],Ne=ir.tokenStack[gr],Oe=typeof Fe=="string"?Fe:Fe.content,ut=un(Zt,gr),br=Oe.indexOf(ut);if(br>-1){++qr;var Jr=Oe.substring(0,br),_n=new Ye.Token(Zt,Ye.tokenize(Ne,ir.grammar),"language-"+Zt,Ne),$n=Oe.substring(br+ut.length),Vt=[];Jr&&Vt.push.apply(Vt,At([Jr])),Vt.push(_n),$n&&Vt.push.apply(Vt,At([$n])),typeof Fe=="string"?Qt.splice.apply(Qt,[Pe,1].concat(Vt)):Fe.content=Vt}}else Fe.content&&At(Fe.content)}return Qt}At(ir.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(Ye){var un=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,ir=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return un.source});Ye.languages.cpp=Ye.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return un.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:un,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Ye.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return ir})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Ye.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Ye.languages.cpp}}}}),Ye.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Ye.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Ye.languages.extend("cpp",{})}}),Ye.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Ye.languages.cpp["base-clause"])}(Prism),function(Ye){function un(Ee,st){return Ee.replace(/<<(\d+)>>/g,function(Tr,cr){return"(?:"+st[+cr]+")"})}function ir(Ee,st,Tr){return RegExp(un(Ee,st),"")}function Zt(Ee,st){for(var Tr=0;Tr<st;Tr++)Ee=Ee.replace(/<<self>>/g,function(){return"(?:"+Ee+")"});return Ee.replace(/<<self>>/g,"[^\\s\\S]")}var qr={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Zr(Ee){return"\\b(?:"+Ee.trim().replace(/ /g,"|")+")\\b"}var At=Zr(qr.typeDeclaration),Qt=RegExp(Zr(qr.type+" "+qr.typeDeclaration+" "+qr.contextual+" "+qr.other)),Pe=Zr(qr.typeDeclaration+" "+qr.contextual+" "+qr.other),Fe=Zr(qr.type+" "+qr.typeDeclaration+" "+qr.other),gr=Zt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),Ne=Zt(/\((?:[^()]|<<self>>)*\)/.source,2),Oe=/@?\b[A-Za-z_]\w*\b/.source,ut=un(/<<0>>(?:\s*<<1>>)?/.source,[Oe,gr]),br=un(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[Pe,ut]),Jr=/\[\s*(?:,\s*)*\]/.source,_n=un(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[br,Jr]),$n=un(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[gr,Ne,Jr]),Vt=un(/\(<<0>>+(?:,<<0>>+)+\)/.source,[$n]),nt=un(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Vt,br,Jr]),ct={keyword:Qt,punctuation:/[<>()?,.:[\]]/},bt=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,zt=/"(?:\\.|[^\\"\r\n])*"/.source,xr=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Ye.languages.csharp=Ye.languages.extend("clike",{string:[{pattern:ir(/(^|[^$\\])<<0>>/.source,[xr]),lookbehind:!0,greedy:!0},{pattern:ir(/(^|[^@$\\])<<0>>/.source,[zt]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:ir(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[br]),lookbehind:!0,inside:ct},{pattern:ir(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Oe,nt]),lookbehind:!0,inside:ct},{pattern:ir(/(\busing\s+)<<0>>(?=\s*=)/.source,[Oe]),lookbehind:!0},{pattern:ir(/(\b<<0>>\s+)<<1>>/.source,[At,ut]),lookbehind:!0,inside:ct},{pattern:ir(/(\bcatch\s*\(\s*)<<0>>/.source,[br]),lookbehind:!0,inside:ct},{pattern:ir(/(\bwhere\s+)<<0>>/.source,[Oe]),lookbehind:!0},{pattern:ir(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[_n]),lookbehind:!0,inside:ct},{pattern:ir(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[nt,Fe,Oe]),inside:ct}],keyword:Qt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Ye.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Ye.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:ir(/([(,]\s*)<<0>>(?=\s*:)/.source,[Oe]),lookbehind:!0,alias:"punctuation"}}),Ye.languages.insertBefore("csharp","class-name",{namespace:{pattern:ir(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Oe]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:ir(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[Ne]),lookbehind:!0,alias:"class-name",inside:ct},"return-type":{pattern:ir(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[nt,br]),inside:ct,alias:"class-name"},"constructor-invocation":{pattern:ir(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[nt]),lookbehind:!0,inside:ct,alias:"class-name"},"generic-method":{pattern:ir(/<<0>>\s*<<1>>(?=\s*\()/.source,[Oe,gr]),inside:{function:ir(/^<<0>>/.source,[Oe]),generic:{pattern:RegExp(gr),alias:"class-name",inside:ct}}},"type-list":{pattern:ir(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[At,ut,Oe,nt,Qt.source,Ne,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:ir(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[ut,Ne]),lookbehind:!0,greedy:!0,inside:Ye.languages.csharp},keyword:Qt,"class-name":{pattern:RegExp(nt),greedy:!0,inside:ct},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var Rr=zt+"|"+bt,sr=un(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[Rr]),He=Zt(un(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[sr]),2),Xt=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Pr=un(/<<0>>(?:\s*\(<<1>>*\))?/.source,[br,He]);Ye.languages.insertBefore("csharp","class-name",{attribute:{pattern:ir(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[Xt,Pr]),lookbehind:!0,greedy:!0,inside:{target:{pattern:ir(/^<<0>>(?=\s*:)/.source,[Xt]),alias:"keyword"},"attribute-arguments":{pattern:ir(/\(<<0>>*\)/.source,[He]),inside:Ye.languages.csharp},"class-name":{pattern:RegExp(br),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var lr=/:[^}\r\n]+/.source,Gn=Zt(un(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[sr]),2),be=un(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Gn,lr]),_t=Zt(un(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[Rr]),2),at=un(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[_t,lr]);function K(Ee,st){return{interpolation:{pattern:ir(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Ee]),lookbehind:!0,inside:{"format-string":{pattern:ir(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[st,lr]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Ye.languages.csharp}}},string:/[\s\S]+/}}Ye.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:ir(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[be]),lookbehind:!0,greedy:!0,inside:K(be,Gn)},{pattern:ir(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[at]),lookbehind:!0,greedy:!0,inside:K(at,_t)}],char:{pattern:RegExp(bt),greedy:!0}}),Ye.languages.dotnet=Ye.languages.cs=Ye.languages.csharp}(Prism),function(Ye){var un=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Ye.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+un.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+un.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+un.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+un.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:un,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Ye.languages.css.atrule.inside.rest=Ye.languages.css;var ir=Ye.languages.markup;ir&&(ir.tag.addInlined("style","css"),ir.tag.addAttribute("style","css"))}(Prism),function(Ye){var un=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,ir=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,Zt={pattern:RegExp(/(^|[^\w.])/.source+ir+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Ye.languages.java=Ye.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[Zt,{pattern:RegExp(/(^|[^\w.])/.source+ir+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:Zt.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+ir+/[A-Z]\w*\b/.source),lookbehind:!0,inside:Zt.inside}],keyword:un,function:[Ye.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Ye.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Ye.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":Zt,keyword:un,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+ir+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:Zt.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+ir+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:Zt.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return un.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Ye){Ye.type==="entity"&&(Ye.attributes.title=Ye.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(un,ir){var Zt={};Zt["language-"+ir]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[ir]},Zt.cdata=/^<!\[CDATA\[|\]\]>$/i;var qr={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Zt}};qr["language-"+ir]={pattern:/[\s\S]+/,inside:Prism.languages[ir]};var Zr={};Zr[un]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return un}),"i"),lookbehind:!0,greedy:!0,inside:qr},Prism.languages.insertBefore("markup","cdata",Zr)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Ye,un){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Ye+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[un,"language-"+un],inside:Prism.languages[un]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Ye){var un=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,ir=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],Zt=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,qr=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Zr=/[{}\[\](),:;]/;Ye.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:un,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:ir,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:Zt,operator:qr,punctuation:Zr};var At={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Ye.languages.php},Qt=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:At}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:At}}];Ye.languages.insertBefore("php","variable",{string:Qt,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:un,string:Qt,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:ir,number:Zt,operator:qr,punctuation:Zr}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Ye.hooks.add("before-tokenize",function(Pe){if(/<\?/.test(Pe.code)){var Fe=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Ye.languages["markup-templating"].buildPlaceholders(Pe,"php",Fe)}}),Ye.hooks.add("after-tokenize",function(Pe){Ye.languages["markup-templating"].tokenizePlaceholders(Pe,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(Ye){Ye.languages.ruby=Ye.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Ye.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var un={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Ye.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Ye.languages.ruby.function;var ir="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",Zt=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Ye.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+ir+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:un,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:un,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+Zt),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+Zt+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Ye.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+ir),greedy:!0,inside:{interpolation:un,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:un,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:un,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+ir),greedy:!0,inside:{interpolation:un,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:un,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Ye.languages.ruby.string,Ye.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Ye.languages.rb=Ye.languages.ruby}(Prism);var La=Z.exports,$t={boltExport:La};return $t});var an=window.Prism;return window.Prism=qn,an})(void 0,nr,se);var Me=se.exports.boltExport,Nr=function(Rt){return Rt.getParam("codesample_languages")},zr=function(Rt){return Rt.getParam("codesample_global_prismjs",!1,"boolean")},Le=function(Rt){return rt.Prism&&zr(Rt)?rt.Prism:Me},Dt=function(Rt){var Ve=Rt.selection?Rt.selection.getNode():null;return Ot($e(Ve),Ve)},dt=function(Rt,Ve,Ft){Rt.undoManager.transact(function(){var In=Dt(Rt);return Ft=Je.DOM.encode(Ft),In.fold(function(){Rt.insertContent('<pre id="__new" class="language-'+Ve+'">'+Ft+"</pre>"),Rt.selection.select(Rt.$("#__new").removeAttr("id")[0])},function(qn){Rt.dom.setAttrib(qn,"class","language-"+Ve),qn.innerHTML=Ft,Le(Rt).highlightElement(qn),Rt.selection.select(qn)})})},xn=function(Rt){var Ve=Dt(Rt);return Ve.fold(mt(""),function(Ft){return Ft.textContent})},J=function(Rt){var Ve=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],Ft=Nr(Rt);return Ft||Ve},V=function(Rt,Ve){var Ft=Dt(Rt);return Ft.fold(function(){return Ve},function(In){var qn=In.className.match(/language-(\w+)/);return qn?qn[1]:Ve})},Tt=function(Rt){var Ve=J(Rt),Ft=kr(Ve).fold(mt(""),function(an){return an.value}),In=V(Rt,Ft),qn=xn(Rt);Rt.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:Ve},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:In,code:qn},onSubmit:function(an){var Un=an.getData();dt(Rt,Un.language,Un.code),an.close()}})},en=function(Rt){Rt.addCommand("codesample",function(){var Ve=Rt.selection.getNode();Rt.selection.isCollapsed()||$e(Ve)?Tt(Rt):Rt.formatter.toggle("code")})},yt=function(Rt){var Ve=Rt.$;Rt.on("PreProcess",function(Ft){Ve("pre[contenteditable=false]",Ft.node).filter(Ht($e)).each(function(In,qn){var an=Ve(qn),Un=qn.textContent;an.attr("class",Ve.trim(an.attr("class"))),an.removeAttr("contentEditable"),an.empty().append(Ve("<code></code>").each(function(){this.textContent=Un}))})}),Rt.on("SetContent",function(){var Ft=Ve("pre").filter(Ht($e)).filter(function(In,qn){return qn.contentEditable!=="false"});Ft.length&&Rt.undoManager.transact(function(){Ft.each(function(In,qn){Ve(qn).find("br").each(function(an,Un){Un.parentNode.replaceChild(Rt.getDoc().createTextNode(`
`),Un)}),qn.contentEditable="false",qn.innerHTML=Rt.dom.encode(qn.textContent),Le(Rt).highlightElement(qn),qn.className=Ve.trim(qn.className)})})})},On=function(Rt){var Ve=Rt.selection.getStart();return Rt.dom.is(Ve,'pre[class*="language-"]')},hn=function(Rt){var Ve=function(){return Rt.execCommand("codesample")};Rt.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Ve,onSetup:function(Ft){var In=function(){Ft.setActive(On(Rt))};return Rt.on("NodeChange",In),function(){return Rt.off("NodeChange",In)}}}),Rt.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Ve})};function E(){Ze.add("codesample",function(Rt){yt(Rt),hn(Rt),en(Rt),Rt.on("dblclick",function(Ve){$e(Ve.target)&&Tt(Rt)})})}E()})();(function(){var Ze=function(N){var X=N,ve=function(){return X},_e=function(Ue){X=Ue};return{get:ve,set:_e}},_r=tinymce.util.Tools.resolve("tinymce.PluginManager"),mt=function(){return mt=Object.assign||function(X){for(var ve,_e=1,Ue=arguments.length;_e<Ue;_e++){ve=arguments[_e];for(var qe in ve)Object.prototype.hasOwnProperty.call(ve,qe)&&(X[qe]=ve[qe])}return X},mt.apply(this,arguments)};function Nt(N,X,ve){for(var _e=0,Ue=X.length,qe;_e<Ue;_e++)(qe||!(_e in X))&&(qe||(qe=Array.prototype.slice.call(X,0,_e)),qe[_e]=X[_e]);return N.concat(qe||Array.prototype.slice.call(X))}var gt=function(N){var X=typeof N;return N===null?"null":X==="object"&&(Array.prototype.isPrototypeOf(N)||N.constructor&&N.constructor.name==="Array")?"array":X==="object"&&(String.prototype.isPrototypeOf(N)||N.constructor&&N.constructor.name==="String")?"string":X},yr=function(N){return function(X){return gt(X)===N}},ft=yr("string"),Ir=yr("object"),vr=yr("array"),Xr=function(){},mr=function(N){return function(){return N}},Kt=function(N){return N},kr=function(N){return function(){throw new Error(N)}},Ot=mr(!1),Je=mr(!0),$e=function(){return Ht},Ht=function(){var N=function(_e){return _e()},X=Kt,ve={fold:function(_e,Ue){return _e()},isSome:Ot,isNone:Je,getOr:X,getOrThunk:N,getOrDie:function(_e){throw new Error(_e||"error: getOrDie called on none.")},getOrNull:mr(null),getOrUndefined:mr(void 0),or:X,orThunk:N,map:$e,each:Xr,bind:$e,exists:Ot,forall:Je,filter:function(){return $e()},toArray:function(){return[]},toString:mr("none()")};return ve}(),rt=function(N){var X=mr(N),ve=function(){return Ue},_e=function(qe){return qe(N)},Ue={fold:function(qe,pr){return pr(N)},isSome:Je,isNone:Ot,getOr:X,getOrThunk:X,getOrDie:X,getOrNull:X,getOrUndefined:X,or:ve,orThunk:ve,map:function(qe){return rt(qe(N))},each:function(qe){qe(N)},bind:_e,exists:_e,forall:_e,filter:function(qe){return qe(N)?Ue:Ht},toArray:function(){return[N]},toString:function(){return"some("+N+")"}};return Ue},nr=function(N){return N==null?Ht:rt(N)},se={some:rt,none:$e,from:nr},or=Array.prototype.slice,Me=Array.prototype.indexOf,Nr=function(N,X){return Me.call(N,X)},zr=function(N,X){return Nr(N,X)>-1},Le=function(N,X){for(var ve=N.length,_e=new Array(ve),Ue=0;Ue<ve;Ue++){var qe=N[Ue];_e[Ue]=X(qe,Ue)}return _e},Dt=function(N,X){for(var ve=0,_e=N.length;ve<_e;ve++){var Ue=N[ve];X(Ue,ve)}},dt=function(N,X){for(var ve=N.length-1;ve>=0;ve--){var _e=N[ve];X(_e,ve)}},xn=function(N,X){for(var ve=[],_e=0,Ue=N.length;_e<Ue;_e++){var qe=N[_e];X(qe,_e)&&ve.push(qe)}return ve},J=function(N,X,ve){return dt(N,function(_e,Ue){ve=X(ve,_e,Ue)}),ve},V=function(N,X,ve){return Dt(N,function(_e,Ue){ve=X(ve,_e,Ue)}),ve},Tt=function(N,X,ve){for(var _e=0,Ue=N.length;_e<Ue;_e++){var qe=N[_e];if(X(qe,_e))return se.some(qe);if(ve(qe,_e))break}return se.none()},en=function(N,X){return Tt(N,X,Ot)},yt=function(N,X){for(var ve=0,_e=N.length;ve<_e;++ve){var Ue=N[ve];if(X(Ue,ve)!==!0)return!1}return!0},On=function(N,X){var ve=or.call(N,0);return ve.sort(X),ve},hn=function(N,X){return X>=0&&X<N.length?se.some(N[X]):se.none()},E=function(N){return hn(N,0)},Rt=Object.keys,Ve=Object.hasOwnProperty,Ft=function(N,X){return Ve.call(N,X)},In=function(N){if(!vr(N))throw new Error("cases must be an array");if(N.length===0)throw new Error("there must be at least one case");var X=[],ve={};return Dt(N,function(_e,Ue){var qe=Rt(_e);if(qe.length!==1)throw new Error("one and only one name per case");var pr=qe[0],$r=_e[pr];if(ve[pr]!==void 0)throw new Error("duplicate key detected:"+pr);if(pr==="cata")throw new Error("cannot have a case named cata (sorry)");if(!vr($r))throw new Error("case arguments must be an array");X.push(pr),ve[pr]=function(){for(var Cn=[],et=0;et<arguments.length;et++)Cn[et]=arguments[et];var pn=Cn.length;if(pn!==$r.length)throw new Error("Wrong number of arguments to case "+pr+". Expected "+$r.length+" ("+$r+"), got "+pn);var Kn=function(Na){var Eo=Rt(Na);if(X.length!==Eo.length)throw new Error("Wrong number of arguments to match. Expected: "+X.join(",")+`
Actual: `+Eo.join(","));var ca=yt(X,function(zu){return zr(Eo,zu)});if(!ca)throw new Error("Not all branches were specified when using match. Specified: "+Eo.join(", ")+`
Required: `+X.join(", "));return Na[pr].apply(null,Cn)};return{fold:function(){for(var Na=[],Eo=0;Eo<arguments.length;Eo++)Na[Eo]=arguments[Eo];if(Na.length!==N.length)throw new Error("Wrong number of arguments to fold. Expected "+N.length+", got "+Na.length);var ca=Na[Ue];return ca.apply(null,Cn)},match:Kn,log:function(Na){console.log(Na,{constructors:X,constructor:pr,params:Cn})}}}}),ve},qn={generate:In};qn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var an=function(N){var X=[],ve=[];return Dt(N,function(_e){_e.fold(function(Ue){X.push(Ue)},function(Ue){ve.push(Ue)})}),{errors:X,values:ve}},Un=function(N){var X=function(Kn){return Un(N)},ve=function(Kn){return Un(N)},_e=function(Kn){return Un(Kn(N))},Ue=function(Kn){return Un(N)},qe=function(Kn){Kn(N)},pr=function(Kn){return Kn(N)},$r=function(Kn,Na){return Na(N)},Cn=function(Kn){return Kn(N)},et=function(Kn){return Kn(N)},pn=function(){return se.some(N)};return{isValue:Je,isError:Ot,getOr:mr(N),getOrThunk:mr(N),getOrDie:mr(N),or:X,orThunk:ve,fold:$r,map:_e,mapError:Ue,each:qe,bind:pr,exists:Cn,forall:et,toOptional:pn}},Z=function(N){var X=function(et){return et()},ve=function(){return kr(String(N))()},_e=Kt,Ue=function(et){return et()},qe=function(et){return Z(N)},pr=function(et){return Z(et(N))},$r=function(et){return Z(N)},Cn=function(et,pn){return et(N)};return{isValue:Ot,isError:Je,getOr:Kt,getOrThunk:X,getOrDie:ve,or:_e,orThunk:Ue,fold:Cn,map:qe,mapError:pr,each:Xr,bind:$r,exists:Ot,forall:Je,toOptional:se.none}},La=function(N,X){return N.fold(function(){return Z(X)},Un)},$t={value:Un,error:Z,fromOption:La},Ye=function(N){return N.type==="inline-command"||N.type==="inline-format"},un=function(N){return N.type==="block-command"||N.type==="block-format"},ir=function(N){return On(N,function(X,ve){return X.start.length===ve.start.length?0:X.start.length>ve.start.length?-1:1})},Zt=function(N){var X=function(qe){return $t.error({message:qe,pattern:N})},ve=function(qe,pr,$r){if(N.format!==void 0){var Cn=void 0;if(vr(N.format)){if(!yt(N.format,ft))return X(qe+" pattern has non-string items in the `format` array");Cn=N.format}else if(ft(N.format))Cn=[N.format];else return X(qe+" pattern has non-string `format` parameter");return $t.value(pr(Cn))}else return N.cmd!==void 0?ft(N.cmd)?$t.value($r(N.cmd,N.value)):X(qe+" pattern has non-string `cmd` parameter"):X(qe+" pattern is missing both `format` and `cmd` parameters")};if(!Ir(N))return X("Raw pattern is not an object");if(!ft(N.start))return X("Raw pattern is missing `start` parameter");if(N.end!==void 0){if(!ft(N.end))return X("Inline pattern has non-string `end` parameter");if(N.start.length===0&&N.end.length===0)return X("Inline pattern has empty `start` and `end` parameters");var _e=N.start,Ue=N.end;return Ue.length===0&&(Ue=_e,_e=""),ve("Inline",function(qe){return{type:"inline-format",start:_e,end:Ue,format:qe}},function(qe,pr){return{type:"inline-command",start:_e,end:Ue,cmd:qe,value:pr}})}else return N.replacement!==void 0?ft(N.replacement)?N.start.length===0?X("Replacement pattern has empty `start` parameter"):$t.value({type:"inline-command",start:"",end:N.start,cmd:"mceInsertContent",value:N.replacement}):X("Replacement pattern has non-string `replacement` parameter"):N.start.length===0?X("Block pattern has empty `start` parameter"):ve("Block",function(qe){return{type:"block-format",start:N.start,format:qe[0]}},function(qe,pr){return{type:"block-command",start:N.start,cmd:qe,value:pr}})},qr=function(N){if(N.type==="block-command")return{start:N.start,cmd:N.cmd,value:N.value};if(N.type==="block-format")return{start:N.start,format:N.format};if(N.type==="inline-command")return N.cmd==="mceInsertContent"&&N.start===""?{start:N.end,replacement:N.value}:{start:N.start,end:N.end,cmd:N.cmd,value:N.value};if(N.type==="inline-format")return{start:N.start,end:N.end,format:N.format.length===1?N.format[0]:N.format}},Zr=function(N){return{inlinePatterns:xn(N,Ye),blockPatterns:ir(xn(N,un))}},At=function(N){var X=function(_e){var Ue=an(Le(_e,Zt));if(Ue.errors.length>0){var qe=Ue.errors[0];throw new Error(qe.message+`:
`+JSON.stringify(qe.pattern,null,2))}N.set(Zr(Ue.values))},ve=function(){return Nt(Nt([],Le(N.get().inlinePatterns,qr),!0),Le(N.get().blockPatterns,qr))};return{setPatterns:X,getPatterns:ve}},Qt=typeof window<"u"?window:Function("return this;")(),Pe=function(){for(var N=[],X=0;X<arguments.length;X++)N[X]=arguments[X];var ve=Qt.console;ve&&(ve.error?ve.error.apply(ve,N):ve.log.apply(ve,N))},Fe=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],gr=function(N){var X=N.getParam("textpattern_patterns",Fe,"array");if(!vr(X))return Pe("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var ve=an(Le(X,Zt));return Dt(ve.errors,function(_e){return Pe(_e.message,_e.pattern)}),Zr(ve.values)},Ne=function(N){var X=N.getParam("forced_root_block","p");return X===!1?"":X===!0?"p":X},Oe=tinymce.util.Tools.resolve("tinymce.util.Delay"),ut=tinymce.util.Tools.resolve("tinymce.util.VK"),br="\uFEFF",Jr=" ",_n=tinymce.util.Tools.resolve("tinymce.util.Tools"),$n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),nt=function(N,X){return{container:N,offset:X}},ct=function(N){return N.nodeType===Node.TEXT_NODE},bt=function(N,X,ve){if(X&&N.isEmpty(X)&&!ve(X)){var _e=X.parentNode;N.remove(X),bt(N,_e,ve)}},zt=function(N,X,ve,_e){_e===void 0&&(_e=!0);var Ue=X.startContainer.parentNode,qe=X.endContainer.parentNode;X.deleteContents(),_e&&!ve(X.startContainer)&&(ct(X.startContainer)&&X.startContainer.data.length===0&&N.remove(X.startContainer),ct(X.endContainer)&&X.endContainer.data.length===0&&N.remove(X.endContainer),bt(N,Ue,ve),Ue!==qe&&bt(N,qe,ve))},xr=function(N,X){var ve=X.get(N);return vr(ve)&&E(ve).exists(function(_e){return Ft(_e,"block")})},Rr=function(N){return N.start.length===0},sr=function(N,X){var ve=se.from(N.dom.getParent(X.startContainer,N.dom.isBlock));return Ne(N)===""?ve.orThunk(function(){return se.some(N.getBody())}):ve},He=$n.DOM,Xt=function(N){return function(X){return N===X?-1:0}},Pr=function(N){return function(X){return N.isBlock(X)||zr(["BR","IMG","HR","INPUT"],X.nodeName)||N.getContentEditable(X)==="false"}},lr=function(N,X,ve){if(ct(N)&&X>=0)return se.some(nt(N,X));var _e=Vt(He);return se.from(_e.backwards(N,X,Xt(N),ve)).map(function(Ue){return nt(Ue.container,Ue.container.data.length)})},Gn=function(N,X,ve){if(ct(N)&&X>=N.length)return se.some(nt(N,X));var _e=Vt(He);return se.from(_e.forwards(N,X,Xt(N),ve)).map(function(Ue){return nt(Ue.container,0)})},be=function(N,X,ve){if(!ct(N))return se.none();var _e=N.textContent;if(X>=0&&X<=_e.length)return se.some(nt(N,X));var Ue=Vt(He);return se.from(Ue.backwards(N,X,Xt(N),ve)).bind(function(qe){var pr=qe.container.data;return be(qe.container,X+pr.length,ve)})},_t=function(N,X,ve){if(!ct(N))return se.none();var _e=N.textContent;if(X<=_e.length)return se.some(nt(N,X));var Ue=Vt(He);return se.from(Ue.forwards(N,X,Xt(N),ve)).bind(function(qe){return _t(qe.container,X-_e.length,ve)})},at=function(N,X,ve,_e,Ue){var qe=Vt(N,Pr(N));return se.from(qe.backwards(X,ve,_e,Ue))},K=function(N,X,ve){if(ct(X)&&(ve<0||ve>X.data.length))return[];for(var _e=[ve],Ue=X;Ue!==N&&Ue.parentNode;){for(var qe=Ue.parentNode,pr=0;pr<qe.childNodes.length;pr++)if(qe.childNodes[pr]===Ue){_e.push(pr);break}Ue=qe}return Ue===N?_e.reverse():[]},Ee=function(N,X,ve,_e,Ue){var qe=K(N,X,ve),pr=K(N,_e,Ue);return{start:qe,end:pr}},st=function(N,X){var ve=X.slice(),_e=ve.pop(),Ue=V(ve,function(qe,pr){return qe.bind(function($r){return se.from($r.childNodes[pr])})},se.some(N));return Ue.bind(function(qe){return ct(qe)&&(_e<0||_e>qe.data.length)?se.none():se.some({node:qe,offset:_e})})},Tr=function(N,X){return st(N,X.start).bind(function(ve){var _e=ve.node,Ue=ve.offset;return st(N,X.end).map(function(qe){var pr=qe.node,$r=qe.offset,Cn=document.createRange();return Cn.setStart(_e,Ue),Cn.setEnd(pr,$r),Cn})})},cr=function(N,X){return Ee(N,X.startContainer,X.startOffset,X.endContainer,X.endOffset)},Fr=function(N,X,ve){var _e=Gn(X,0,X);_e.each(function(Ue){var qe=Ue.container;_t(qe,ve.start.length,X).each(function(pr){var $r=N.createRng();$r.setStart(qe,0),$r.setEnd(pr.container,pr.offset),zt(N,$r,function(Cn){return Cn===X})})})},ia=function(N,X){var ve=N.dom,_e=X.pattern,Ue=Tr(ve.getRoot(),X.range).getOrDie("Unable to resolve path range");return sr(N,Ue).each(function(qe){_e.type==="block-format"?xr(_e.format,N.formatter)&&N.undoManager.transact(function(){Fr(N.dom,qe,_e),N.formatter.apply(_e.format)}):_e.type==="block-command"&&N.undoManager.transact(function(){Fr(N.dom,qe,_e),N.execCommand(_e.cmd,!1,_e.value)})}),!0},Za=function(N,X){var ve=X.replace(Jr," ");return en(N,function(_e){return X.indexOf(_e.start)===0||ve.indexOf(_e.start)===0})},Fa=function(N,X){var ve=N.dom,_e=N.selection.getRng();return sr(N,_e).filter(function(Ue){var qe=Ne(N),pr=qe===""&&ve.is(Ue,"body")||ve.is(Ue,qe);return Ue!==null&&pr}).bind(function(Ue){var qe=Ue.textContent,pr=Za(X,qe);return pr.map(function($r){return _n.trim(qe).length===$r.start.length?[]:[{pattern:$r,range:Ee(ve.getRoot(),Ue,0,Ue,0)}]})}).getOr([])},Ha=function(N,X){if(X.length!==0){var ve=N.selection.getBookmark();Dt(X,function(_e){return ia(N,_e)}),N.selection.moveToBookmark(ve)}},zo=0,ci=function(N){var X=new Date,ve=X.getTime(),_e=Math.floor(Math.random()*1e9);return zo++,N+"_"+_e+zo+String(ve)},Oo=function(N,X,ve){return X===""||N.length>=X.length&&N.substr(ve,ve+X.length)===X},mo=function(N,X){return Oo(N,X,N.length-X.length)},Jo=function(N,X){return N.create("span",{"data-mce-type":"bookmark",id:X})},ua=function(N,X){var ve=N.createRng();return ve.setStartAfter(X.start),ve.setEndBefore(X.end),ve},Lo=function(N,X,ve){var _e=Tr(N.getRoot(),ve).getOrDie("Unable to resolve path range"),Ue=_e.startContainer,qe=_e.endContainer,pr=_e.endOffset===0?qe:qe.splitText(_e.endOffset),$r=_e.startOffset===0?Ue:Ue.splitText(_e.startOffset);return{prefix:X,end:pr.parentNode.insertBefore(Jo(N,X+"-end"),pr),start:$r.parentNode.insertBefore(Jo(N,X+"-start"),$r)}},fn=function(N,X,ve){bt(N,N.get(X.prefix+"-end"),ve),bt(N,N.get(X.prefix+"-start"),ve)},Ui=function(N,X,ve){return function(_e,Ue){var qe=_e.data,pr=qe.substring(0,Ue),$r=pr.lastIndexOf(ve.charAt(ve.length-1)),Cn=pr.lastIndexOf(ve);return Cn!==-1?Cn+ve.length:$r!==-1?$r+1:-1}},Ho=function(N,X,ve,_e){var Ue=X.start,qe=at(N,_e.container,_e.offset,Ui(N,ve,Ue),ve);return qe.bind(function(pr){if(pr.offset>=Ue.length){var $r=N.createRng();return $r.setStart(pr.container,pr.offset-Ue.length),$r.setEnd(pr.container,pr.offset),se.some($r)}else{var Cn=pr.offset-Ue.length;return be(pr.container,Cn,ve).map(function(et){var pn=N.createRng();return pn.setStart(et.container,et.offset),pn.setEnd(pr.container,pr.offset),pn}).filter(function(et){return et.toString()===Ue}).orThunk(function(){return Ho(N,X,ve,nt(pr.container,0))})}})},Qo=function(N,X,ve,_e,Ue,qe){if(qe===void 0&&(qe=!1),X.start.length===0&&!qe){var pr=N.createRng();return pr.setStart(ve,_e),pr.setEnd(ve,_e),se.some(pr)}return lr(ve,_e,Ue).bind(function($r){var Cn=Ho(N,X,Ue,$r);return Cn.bind(function(et){if(qe){if(et.endContainer===$r.container&&et.endOffset===$r.offset)return se.none();if($r.offset===0&&et.endContainer.textContent.length===et.endOffset)return se.none()}return se.some(et)})})},Do=function(N,X,ve){var _e=N.dom,Ue=_e.getRoot(),qe=ve.pattern,pr=ve.position.container,$r=ve.position.offset;return be(pr,$r-ve.pattern.end.length,X).bind(function(Cn){var et=Ee(Ue,Cn.container,Cn.offset,pr,$r);if(Rr(qe))return se.some({matches:[{pattern:qe,startRng:et,endRng:et}],position:Cn});var pn=vi(N,ve.remainingPatterns,Cn.container,Cn.offset,X),Kn=pn.getOr({matches:[],position:Cn}),Na=Kn.position,Eo=Qo(_e,qe,Na.container,Na.offset,X,pn.isNone());return Eo.map(function(ca){var zu=cr(Ue,ca);return{matches:Kn.matches.concat([{pattern:qe,startRng:zu,endRng:et}]),position:nt(ca.startContainer,ca.startOffset)}})})},vi=function(N,X,ve,_e,Ue){var qe=N.dom;return lr(ve,_e,qe.getRoot()).bind(function(pr){var $r=qe.createRng();$r.setStart(Ue,0),$r.setEnd(ve,_e);for(var Cn=$r.toString(),et=0;et<X.length;et++){var pn=X[et];if(mo(Cn,pn.end)){var Kn=X.slice();Kn.splice(et,1);var Na=Do(N,Ue,{pattern:pn,remainingPatterns:Kn,position:pr});if(Na.isSome())return Na}}return se.none()})},ji=function(N,X,ve){N.selection.setRng(ve),X.type==="inline-format"?Dt(X.format,function(_e){N.formatter.apply(_e)}):N.execCommand(X.cmd,!1,X.value)},si=function(N,X,ve,_e){var Ue=ua(N.dom,ve);zt(N.dom,Ue,_e),ji(N,X,Ue)},Ji=function(N,X,ve,_e,Ue){var qe=N.dom,pr=ua(qe,_e),$r=ua(qe,ve);zt(qe,$r,Ue),zt(qe,pr,Ue);var Cn={prefix:ve.prefix,start:ve.end,end:_e.start},et=ua(qe,Cn);ji(N,X,et)},ie=function(N,X){var ve=ci("mce_textpattern"),_e=J(X,function(Ue,qe){var pr=Lo(N,ve+("_end"+Ue.length),qe.endRng);return Ue.concat([mt(mt({},qe),{endMarker:pr})])},[]);return J(_e,function(Ue,qe){var pr=_e.length-Ue.length-1,$r=Rr(qe.pattern)?qe.endMarker:Lo(N,ve+("_start"+pr),qe.startRng);return Ue.concat([mt(mt({},qe),{startMarker:$r})])},[])},Ce=function(N,X,ve){var _e=N.selection.getRng();return _e.collapsed===!1?[]:sr(N,_e).bind(function(Ue){var qe=_e.startOffset-(ve?1:0);return vi(N,X,_e.startContainer,qe,Ue)}).fold(function(){return[]},function(Ue){return Ue.matches})},le=function(N,X){if(X.length!==0){var ve=N.dom,_e=N.selection.getBookmark(),Ue=ie(ve,X);Dt(Ue,function(qe){var pr=ve.getParent(qe.startMarker.start,ve.isBlock),$r=function(Cn){return Cn===pr};Rr(qe.pattern)?si(N,qe.pattern,qe.endMarker,$r):Ji(N,qe.pattern,qe.startMarker,qe.endMarker,$r),fn(ve,qe.endMarker,$r),fn(ve,qe.startMarker,$r)}),N.selection.moveToBookmark(_e)}},Ke=function(N,X){if(!N.selection.isCollapsed())return!1;var ve=Ce(N,X.inlinePatterns,!1),_e=Fa(N,X.blockPatterns);return _e.length>0||ve.length>0?(N.undoManager.add(),N.undoManager.extra(function(){N.execCommand("mceInsertNewLine")},function(){N.insertContent(br,{preserve_zwsp:!0}),le(N,ve),Ha(N,_e);var Ue=N.selection.getRng(),qe=lr(Ue.startContainer,Ue.startOffset,N.dom.getRoot());N.execCommand("mceInsertNewLine"),qe.each(function(pr){var $r=pr.container;$r.data.charAt(pr.offset-1)===br&&($r.deleteData(pr.offset-1,1),bt(N.dom,$r.parentNode,function(Cn){return Cn===N.dom.getRoot()}))})}),!0):!1},Cr=function(N,X){var ve=Ce(N,X.inlinePatterns,!0);ve.length>0&&N.undoManager.transact(function(){le(N,ve)})},Gr=function(N,X,ve){for(var _e=0;_e<N.length;_e++)if(ve(N[_e],X))return!0;return!1},re=function(N,X){return Gr(N,X,function(ve,_e){return ve===_e.keyCode&&ut.modifierPressed(_e)===!1})},me=function(N,X){return Gr(N,X,function(ve,_e){return ve.charCodeAt(0)===_e.charCode})},Xe=function(N,X){var ve=[",",".",";",":","!","?"],_e=[32];N.on("keydown",function(Ue){Ue.keyCode===13&&!ut.modifierPressed(Ue)&&Ke(N,X.get())&&Ue.preventDefault()},!0),N.on("keyup",function(Ue){re(_e,Ue)&&Cr(N,X.get())}),N.on("keypress",function(Ue){me(ve,Ue)&&Oe.setEditorTimeout(N,function(){Cr(N,X.get())})})};function St(){_r.add("textpattern",function(N){var X=Ze(gr(N));return Xe(N,X),At(X)})}St()})();const jh={list:"tox-checklist",checked:"tox-checklist--checked"};function dW(Ze){Ze.addCommand("insertChecklist",function(){zL(Ze)}),Ze.ui.registry.addToggleButton("checklist",{icon:"checklist",active:!1,tooltip:"Checklist",onAction:()=>zL(Ze),onSetup:function(Nt){return vW(Ze,Nt.setActive)}}),Ze.on("mousedown",function(Nt){var gt=Nt.target,yr=gt.parentElement;Nt.offsetX>0||yr.className!==jh.list||gt.nodeName!=="LI"||(Nt.preventDefault(),EL(Ze,gt))},{capture:!0,passive:!1});let _r=!1;const mt=function(Nt){if(Nt.type==="touchend"){_r&&(Nt.preventDefault(),_r=!1);return}if(Nt.targetTouches&&Nt.targetTouches.length!==1)return;let gt=0,yr=Nt.targetTouches[0].clientX,ft=Nt.target,Ir=ft.parentElement;if(ft.nodeName!=="LI"){let vr=Nt.targetTouches[0].clientY,Xr=Ze.dom.doc.elementsFromPoint(55,vr);if(!Xr||Xr.length===0)return;ft=Xr[0],Ir=ft.parentElement}Ir&&Ir.className===jh.list?gt=Ir.getBoundingClientRect().x+38:gt=55,!(yr>gt)&&ft.nodeName==="LI"&&Ir&&Ir.className===jh.list&&(_r=!0,Nt.preventDefault(),EL(Ze,ft))};Ze.on("touchstart touchend",mt,{capture:!0,passive:!1})}function zL(Ze){Ze.selection.getNode().classList.contains(jh.list)?Ze.undoManager.transact(function(){Ze.execCommand("RemoveList")}):Ze.execCommand("InsertUnorderedList",!1,{"list-style-type":"none","list-attributes":{class:jh.list}})}function vW(Ze,_r){var mt=function(gt){var yr=mW(gt.parents,gW,pW);yr&&(yr=yr.filter(function(ft){return ft.className===jh.list}).length>0),_r(yr)},Nt=Ze.dom.getParents(Ze.selection.getNode());return mt({parents:Nt}),Ze.on("NodeChange",mt),function(){return Ze.off("NodeChange",mt)}}function mW(Ze,_r,mt){for(var Nt=0,gt=Ze.length;Nt<gt;Nt++){var yr=Ze[Nt];if(_r(yr,Nt))return[yr];if(mt(yr,Nt))break}}var gW=AL(/^(OL|UL|DL)$/),pW=AL(/^(TH|TD)$/);function AL(Ze){return function(_r){return _r&&Ze.test(_r.nodeName)}}function EL(Ze,_r){Ze.undoManager.transact(function(){const mt=_r.classList.contains(jh.checked);mt?_r.classList.remove(jh.checked):_r.classList.add(jh.checked),notifyEditorChange(Ze,mt?"checkItem":"uncheckItem")})}(function(){addPluginToPluginManager("checklist",dW)})();(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=tinymce.util.Tools.resolve("tinymce.util.VK"),mt=function(K){var Ee=typeof K;return K===null?"null":Ee==="object"&&(Array.prototype.isPrototypeOf(K)||K.constructor&&K.constructor.name==="Array")?"array":Ee==="object"&&(String.prototype.isPrototypeOf(K)||K.constructor&&K.constructor.name==="String")?"string":Ee},Nt=function(K){return function(Ee){return mt(Ee)===K}},gt=function(K){return function(Ee){return typeof Ee===K}},yr=function(K){return function(Ee){return K===Ee}},ft=Nt("string"),Ir=yr(null),vr=gt("boolean"),Xr=function(K){var Ee=K.getParam("link_assume_external_targets",!1);return vr(Ee)&&Ee?1:ft(Ee)&&(Ee==="http"||Ee==="https")?Ee:0},mr=function(K){return K.getParam("link_context_toolbar",!1,"boolean")},Kt=function(K){return K.getParam("default_link_target")},kr=function(K){return K.getParam("allow_unsafe_link_target",!1,"boolean")},Ot=function(K,Ee){document.body.appendChild(K),K.dispatchEvent(Ee),document.body.removeChild(K)},Je=function(K){var Ee=document.createElement("a");Ee.target="_blank",Ee.href=K,Ee.rel="noreferrer noopener";var st=document.createEvent("MouseEvents");st.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Ot(Ee,st)},$e=function(){return $e=Object.assign||function(Ee){for(var st,Tr=1,cr=arguments.length;Tr<cr;Tr++){st=arguments[Tr];for(var Fr in st)Object.prototype.hasOwnProperty.call(st,Fr)&&(Ee[Fr]=st[Fr])}return Ee},$e.apply(this,arguments)},Ht=function(){},rt=function(K){return function(){return K}},nr=rt(!1),se=rt(!0),or=function(){return Me},Me=function(){var K=function(cr){return cr.isNone()},Ee=function(cr){return cr()},st=function(cr){return cr},Tr={fold:function(cr,Fr){return cr()},is:nr,isSome:nr,isNone:se,getOr:st,getOrThunk:Ee,getOrDie:function(cr){throw new Error(cr||"error: getOrDie called on none.")},getOrNull:rt(null),getOrUndefined:rt(void 0),or:st,orThunk:Ee,map:or,each:Ht,bind:or,exists:nr,forall:se,filter:or,equals:K,equals_:K,toArray:function(){return[]},toString:rt("none()")};return Tr}(),Nr=function(K){var Ee=rt(K),st=function(){return cr},Tr=function(Fr){return Fr(K)},cr={fold:function(Fr,ia){return ia(K)},is:function(Fr){return K===Fr},isSome:se,isNone:nr,getOr:Ee,getOrThunk:Ee,getOrDie:Ee,getOrNull:Ee,getOrUndefined:Ee,or:st,orThunk:st,map:function(Fr){return Nr(Fr(K))},each:function(Fr){Fr(K)},bind:Tr,exists:Tr,forall:Tr,filter:function(Fr){return Fr(K)?cr:Me},toArray:function(){return[K]},toString:function(){return"some("+K+")"},equals:function(Fr){return Fr.is(K)},equals_:function(Fr,ia){return Fr.fold(nr,function(Za){return ia(K,Za)})}};return cr},zr=function(K){return K==null?Me:Nr(K)},Le={some:Nr,none:or,from:zr},Dt=function(K,Ee){for(var st=0,Tr=K.length;st<Tr;st++){var cr=K[st];Ee(cr,st)}},dt=function(K,Ee,st){return Dt(K,function(Tr){st=Ee(st,Tr)}),st},xn=Object.keys,J=Object.hasOwnProperty,V=function(K,Ee){for(var st=xn(K),Tr=0,cr=st.length;Tr<cr;Tr++){var Fr=st[Tr],ia=K[Fr];Ee(ia,Fr)}},Tt=function(K){return function(Ee,st){K[st]=Ee}},en=function(K,Ee,st,Tr){var cr={};return V(K,function(Fr,ia){(Ee(Fr,ia)?st:Tr)(Fr,ia)}),cr},yt=function(K,Ee){var st={};return en(K,Ee,Tt(st),Ht),st},On=function(K,Ee){return J.call(K,Ee)},hn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),E=tinymce.util.Tools.resolve("tinymce.util.Tools"),Rt=function(K){return K&&K.nodeName.toLowerCase()==="a"},Ve=function(K){return Rt(K)&&!!qn(K)},Ft=function(K,Ee){if(K.collapsed)return[];var st=K.cloneContents(),Tr=new hn(st.firstChild,st),cr=[],Fr=st.firstChild;do Ee(Fr)&&cr.push(Fr);while(Fr=Tr.next());return cr},In=function(K){return/^\w+:/i.test(K)},qn=function(K){var Ee=K.getAttribute("data-mce-href");return Ee||K.getAttribute("href")},an=function(K,Ee){var st=["noopener"],Tr=K?K.split(/\s+/):[],cr=function(Fa){return E.trim(Fa.sort().join(" "))},Fr=function(Fa){return Fa=ia(Fa),Fa.length>0?Fa.concat(st):st},ia=function(Fa){return Fa.filter(function(Ha){return E.inArray(st,Ha)===-1})},Za=Ee?Fr(Tr):ia(Tr);return Za.length>0?cr(Za):""},Un=function(K){return K.replace(/\uFEFF/g,"")},Z=function(K,Ee){return Ee=Ee||K.selection.getNode(),ir(Ee)?K.dom.select("a[href]",Ee)[0]:K.dom.getParent(Ee,"a[href]")},La=function(K,Ee){var st=Ee?Ee.innerText||Ee.textContent:K.getContent({format:"text"});return Un(st)},$t=function(K){return E.grep(K,Ve).length>0},Ye=function(K){return Ft(K,Ve).length>0},un=function(K){var Ee=K.schema.getTextInlineElements(),st=function(cr){return cr.nodeType===1&&!Rt(cr)&&!On(Ee,cr.nodeName.toLowerCase())},Tr=Ft(K.selection.getRng(),st);return Tr.length===0},ir=function(K){return K&&K.nodeName==="FIGURE"&&/\bimage\b/i.test(K.className)},Zt=function(K){return dt(["title","rel","class","target"],function(Ee,st){return K[st].each(function(Tr){Ee[st]=Tr.length>0?Tr:null}),Ee},{href:K.href})},qr=function(K,Ee){return(Ee==="http"||Ee==="https")&&!In(K)?Ee+"://"+K:K},Zr=function(K,Ee){var st=$e({},Ee);if(kr(K)===!1){var Tr=an(st.rel,st.target==="_blank");st.rel=Tr||null}return Le.from(st.target).isNone()&&(st.target=Kt(K)),st.href=qr(st.href,Xr(K)),st},At=function(K,Ee,st,Tr){st.each(function(cr){Ee.hasOwnProperty("innerText")?Ee.innerText=cr:Ee.textContent=cr}),K.dom.setAttribs(Ee,Tr),K.selection.select(Ee)},Qt=function(K,Ee,st,Tr){ir(Ee)?Jr(K,Ee,Tr):st.fold(function(){K.execCommand("mceInsertLink",!1,Tr)},function(cr){K.insertContent(K.dom.createHTML("a",Tr,K.dom.encode(cr)))})},Pe=function(K,Ee,st){var Tr=K.selection.getNode(),cr=Z(K,Tr),Fr=Zr(K,Zt(st));K.undoManager.transact(function(){st.href===Ee.href&&Ee.attach(),cr?(K.focus(),At(K,cr,st.text,Fr)):Qt(K,Tr,st.text,Fr)})},Fe=function(K){var Ee=K.dom,st=K.selection,Tr=st.getBookmark(),cr=st.getRng().cloneRange(),Fr=Ee.getParent(cr.startContainer,"a[href]",K.getBody()),ia=Ee.getParent(cr.endContainer,"a[href]",K.getBody());Fr&&cr.setStartBefore(Fr),ia&&cr.setEndAfter(ia),st.setRng(cr),setImmediate(()=>K.execCommand("unlink")),st.moveToBookmark(Tr)},gr=function(K){K.undoManager.transact(function(){var Ee=K.selection.getNode();ir(Ee)?br(K,Ee):Fe(K),K.focus()})},Ne=function(K){var Ee=K.class,st=K.href,Tr=K.rel,cr=K.target,Fr=K.text,ia=K.title;return yt({class:Ee.getOrNull(),href:st,rel:Tr.getOrNull(),target:cr.getOrNull(),text:Fr.getOrNull(),title:ia.getOrNull()},function(Za,Fa){return Ir(Za)===!1})},Oe=function(K,Ee,st){K.hasPlugin("rtc",!0)?K.execCommand("createlink",!1,Ne(st)):Pe(K,Ee,st)},ut=function(K){K.hasPlugin("rtc",!0)?K.execCommand("unlink"):gr(K)},br=function(K,Ee){var st=K.dom.select("img",Ee)[0];if(st){var Tr=K.dom.getParents(st,"a[href]",Ee)[0];Tr&&(Tr.parentNode.insertBefore(st,Tr),K.dom.remove(Tr))}},Jr=function(K,Ee,st){var Tr=K.dom.select("img",Ee)[0];if(Tr){var cr=K.dom.create("a",st);Tr.parentNode.insertBefore(cr,Tr),cr.appendChild(Tr)}},_n=function(K,Ee){return K.dom.getParent(Ee,"a[href]")},$n=function(K){return _n(K,K.selection.getStart())},Vt=function(K){return K.altKey===!0&&K.shiftKey===!1&&K.ctrlKey===!1&&K.metaKey===!1},nt=function(K,Ee){if(Ee){var st=qn(Ee);if(/^#/.test(st)){var Tr=K.$(st);Tr.length&&K.selection.scrollIntoView(Tr[0],!0)}else Je(Ee.href)}},ct=function(K){return function(){K.fire("contexttoolbar-show",{toolbarKey:"quicklink"})}},bt=function(K){return function(){nt(K,$n(K))}},zt=function(K){K.on("click",function(Ee){var st=_n(K,Ee.target);st&&_r.metaKeyPressed(Ee)&&(Ee.preventDefault(),nt(K,st))}),K.on("keydown",function(Ee){var st=$n(K);st&&Ee.keyCode===13&&Vt(Ee)&&(Ee.preventDefault(),nt(K,st))})},xr=function(K,Ee){return K.on("NodeChange",Ee),function(){return K.off("NodeChange",Ee)}},Rr=function(K){return function(Ee){return xr(K,function(){Ee.setActive(!K.mode.isReadOnly()&&Z(K,K.selection.getNode())!==null)})}},sr=function(K){return function(Ee){var st=function(){return Ee.setDisabled(Z(K,K.selection.getNode())===null)};return st(),xr(K,st)}},He=function(K){return function(Ee){var st=function(cr){return $t(cr)||Ye(K.selection.getRng())},Tr=K.dom.getParents(K.selection.getStart());return Ee.setDisabled(!st(Tr)),xr(K,function(cr){return Ee.setDisabled(!st(cr.parents))})}},Xt=function(K){K.addCommand("mceLink",function(){ct(K)()})},Pr=function(K){K.addShortcut("Meta+K","",function(){K.execCommand("mceLink")})},lr=function(K){K.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:ct(K),onSetup:Rr(K)}),K.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:bt(K),onSetup:sr(K)}),K.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return ut(K)},onSetup:He(K)})},Gn=function(K){K.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:bt(K),onSetup:sr(K)}),K.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:ct(K)}),K.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return ut(K)},onSetup:He(K)})},be=function(K){var Ee="link unlink openlink",st="link";K.ui.registry.addContextMenu("link",{update:function(Tr){return $t(K.dom.getParents(Tr,"a"))?Ee:st}})},_t=function(K){var Ee=function(Tr){Tr.selection.collapse(!1)},st=function(Tr){var cr=K.selection.getNode();return Tr.setDisabled(!Z(K,cr)),Ht};K.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Rr(K)},label:"Link",predicate:function(Tr){return!!Z(K,Tr)&&mr(K)},initValue:function(){var Tr=Z(K);return Tr?qn(Tr):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Tr){var cr=K.selection.getNode();return Tr.setActive(!!Z(K,cr)),Rr(K)(Tr)},onAction:function(Tr){var cr=Z(K),Fr=Tr.getValue();if(cr)K.undoManager.transact(function(){K.dom.setAttrib(cr,"href",Fr),Ee(K),Tr.hide()});else{var ia={href:Fr,attach:Ht},Za=un(K),Fa=Za?Le.some(La(K.selection,cr)).filter(function(Ha){return Ha.length>0}).or(Le.from(Fr)):Le.none();Oe(K,ia,{href:Fr,text:Fa,title:Le.none(),rel:Le.none(),target:Le.none(),class:Le.none()}),Tr.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:st,onAction:function(Tr){ut(K),Tr.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:st,onAction:function(Tr){bt(K)(),Tr.hide()}}]})};function at(){Ze.add("shortlink",function(K){lr(K),Gn(K),be(K),_t(K),zt(K),Xt(K),Pr(K)})}at()})();(function(){var Ze=function(u){var l=typeof u;return u===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(u)||u.constructor&&u.constructor.name==="String")?"string":l},_r=function(u){return function(l){return Ze(l)===u}},mt=function(u){return function(l){return typeof l===u}},Nt=function(u){return function(l){return u===l}},gt=_r("string"),yr=_r("object"),ft=_r("array"),Ir=Nt(null),vr=mt("boolean"),Xr=Nt(void 0),mr=function(u){return u==null},Kt=function(u){return!mr(u)},kr=mt("function"),Ot=mt("number"),Je=function(){},$e=function(u,l){return function(){for(var v=[],p=0;p<arguments.length;p++)v[p]=arguments[p];return u(l.apply(null,v))}},Ht=function(u,l){return function(v){return u(l(v))}},rt=function(u){return function(){return u}},nr=function(u){return u},se=function(u,l){return u===l};function or(u){for(var l=[],v=1;v<arguments.length;v++)l[v-1]=arguments[v];return function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];var x=l.concat(p);return u.apply(null,x)}}var Me=function(u){return function(l){return!u(l)}},Nr=function(u){return function(){throw new Error(u)}},zr=rt(!1),Le=rt(!0),Dt=function(){return dt},dt=function(){var u=function(p){return p()},l=nr,v={fold:function(p,b){return p()},isSome:zr,isNone:Le,getOr:l,getOrThunk:u,getOrDie:function(p){throw new Error(p||"error: getOrDie called on none.")},getOrNull:rt(null),getOrUndefined:rt(void 0),or:l,orThunk:u,map:Dt,each:Je,bind:Dt,exists:zr,forall:Le,filter:function(){return Dt()},toArray:function(){return[]},toString:rt("none()")};return v}(),xn=function(u){var l=rt(u),v=function(){return b},p=function(x){return x(u)},b={fold:function(x,D){return D(u)},isSome:Le,isNone:zr,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:v,orThunk:v,map:function(x){return xn(x(u))},each:function(x){x(u)},bind:p,exists:p,forall:p,filter:function(x){return x(u)?b:dt},toArray:function(){return[u]},toString:function(){return"some("+u+")"}};return b},J=function(u){return u==null?dt:xn(u)},V={some:xn,none:Dt,from:J},Tt=Array.prototype.slice,en=Array.prototype.indexOf,yt=Array.prototype.push,On=function(u,l){return en.call(u,l)},hn=function(u,l){return On(u,l)>-1},E=function(u,l){for(var v=0,p=u.length;v<p;v++){var b=u[v];if(l(b,v))return!0}return!1},Rt=function(u,l){for(var v=[],p=0;p<u;p++)v.push(l(p));return v},Ve=function(u,l){for(var v=u.length,p=new Array(v),b=0;b<v;b++){var x=u[b];p[b]=l(x,b)}return p},Ft=function(u,l){for(var v=0,p=u.length;v<p;v++){var b=u[v];l(b,v)}},In=function(u,l){for(var v=u.length-1;v>=0;v--){var p=u[v];l(p,v)}},qn=function(u,l){for(var v=[],p=[],b=0,x=u.length;b<x;b++){var D=u[b],M=l(D,b)?v:p;M.push(D)}return{pass:v,fail:p}},an=function(u,l){for(var v=[],p=0,b=u.length;p<b;p++){var x=u[p];l(x,p)&&v.push(x)}return v},Un=function(u,l,v){return In(u,function(p,b){v=l(v,p,b)}),v},Z=function(u,l,v){return Ft(u,function(p,b){v=l(v,p,b)}),v},La=function(u,l,v){for(var p=0,b=u.length;p<b;p++){var x=u[p];if(l(x,p))return V.some(x);if(v(x,p))break}return V.none()},$t=function(u,l){return La(u,l,zr)},Ye=function(u,l){for(var v=0,p=u.length;v<p;v++){var b=u[v];if(l(b,v))return V.some(v)}return V.none()},un=function(u){for(var l=[],v=0,p=u.length;v<p;++v){if(!ft(u[v]))throw new Error("Arr.flatten item "+v+" was not an array, input: "+u);yt.apply(l,u[v])}return l},ir=function(u,l){return un(Ve(u,l))},Zt=function(u,l){for(var v=0,p=u.length;v<p;++v){var b=u[v];if(l(b,v)!==!0)return!1}return!0},qr=function(u){var l=Tt.call(u,0);return l.reverse(),l},Zr=function(u,l){for(var v={},p=0,b=u.length;p<b;p++){var x=u[p];v[String(x)]=l(x,p)}return v},At=function(u){return[u]},Qt=function(u,l){var v=Tt.call(u,0);return v.sort(l),v},Pe=function(u,l){return l>=0&&l<u.length?V.some(u[l]):V.none()},Fe=function(u){return Pe(u,0)},gr=function(u){return Pe(u,u.length-1)},Ne=function(u,l){for(var v=0;v<u.length;v++){var p=l(u[v],v);if(p.isSome())return p}return V.none()},Oe=function(){return Oe=Object.assign||function(l){for(var v,p=1,b=arguments.length;p<b;p++){v=arguments[p];for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(l[x]=v[x])}return l},Oe.apply(this,arguments)};function ut(u,l,v){for(var p=0,b=l.length,x;p<b;p++)(x||!(p in l))&&(x||(x=Array.prototype.slice.call(l,0,p)),x[p]=l[p]);return u.concat(x||Array.prototype.slice.call(l))}var br=function(u){var l=!1,v;return function(){for(var p=[],b=0;b<arguments.length;b++)p[b]=arguments[b];return l||(l=!0,v=u.apply(null,p)),v}},Jr=function(u,l,v,p){var b=u.isiOS()&&/ipad/i.test(v)===!0,x=u.isiOS()&&!b,D=u.isiOS()||u.isAndroid(),M=D||p("(pointer:coarse)"),G=b||!x&&D&&p("(min-device-width:768px)"),ue=x||D&&!G,ke=l.isSafari()&&u.isiOS()&&/safari/i.test(v)===!1,Ct=!ue&&!G&&!ke;return{isiPad:rt(b),isiPhone:rt(x),isTablet:rt(G),isPhone:rt(ue),isTouch:rt(M),isAndroid:u.isAndroid,isiOS:u.isiOS,isWebView:rt(ke),isDesktop:rt(Ct)}},_n=function(u,l){for(var v=0;v<u.length;v++){var p=u[v];if(p.test(l))return p}},$n=function(u,l){var v=_n(u,l);if(!v)return{major:0,minor:0};var p=function(b){return Number(l.replace(v,"$"+b))};return ct(p(1),p(2))},Vt=function(u,l){var v=String(l).toLowerCase();return u.length===0?nt():$n(u,v)},nt=function(){return ct(0,0)},ct=function(u,l){return{major:u,minor:l}},bt={nu:ct,detect:Vt,unknown:nt},zt=function(u,l){return Ne(l.brands,function(v){var p=v.brand.toLowerCase();return $t(u,function(b){var x;return p===((x=b.brand)===null||x===void 0?void 0:x.toLowerCase())}).map(function(b){return{current:b.name,version:bt.nu(parseInt(v.version,10),0)}})})},xr=function(u,l){var v=String(l).toLowerCase();return $t(u,function(p){return p.search(v)})},Rr=function(u,l){return xr(u,l).map(function(v){var p=bt.detect(v.versionRegexes,l);return{current:v.name,version:p}})},sr=function(u,l){return xr(u,l).map(function(v){var p=bt.detect(v.versionRegexes,l);return{current:v.name,version:p}})},He=function(u,l){return u.substring(l)},Xt=function(u,l,v){return l===""||u.length>=l.length&&u.substr(v,v+l.length)===l},Pr=function(u,l){return Gn(u,l)?He(u,l.length):u},lr=function(u,l){return u.indexOf(l)!==-1},Gn=function(u,l){return Xt(u,l,0)},be=function(u,l){return Xt(u,l,u.length-l.length)},_t=function(u){return function(l){return l.replace(u,"")}},at=_t(/^\s+|\s+$/g),K=function(u){return u.length>0},Ee=function(u){return!K(u)},st=function(u){var l=parseFloat(u);return isNaN(l)?V.none():V.some(l)},Tr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,cr=function(u){return function(l){return lr(l,u)}},Fr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return lr(u,"edge/")&&lr(u,"chrome")&&lr(u,"safari")&&lr(u,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tr],search:function(u){return lr(u,"chrome")&&!lr(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return lr(u,"msie")||lr(u,"trident")}},{name:"Opera",versionRegexes:[Tr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:cr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:cr("firefox")},{name:"Safari",versionRegexes:[Tr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(lr(u,"safari")||lr(u,"mobile/"))&&lr(u,"applewebkit")}}],ia=[{name:"Windows",search:cr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return lr(u,"iphone")||lr(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:cr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:cr("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:cr("linux"),versionRegexes:[]},{name:"Solaris",search:cr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:cr("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:cr("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Za={browsers:rt(Fr),oses:rt(ia)},Fa="Edge",Ha="Chrome",zo="IE",ci="Opera",Oo="Firefox",mo="Safari",Jo=function(){return ua({current:void 0,version:bt.unknown()})},ua=function(u){var l=u.current,v=u.version,p=function(b){return function(){return l===b}};return{current:l,version:v,isEdge:p(Fa),isChrome:p(Ha),isIE:p(zo),isOpera:p(ci),isFirefox:p(Oo),isSafari:p(mo)}},Lo={unknown:Jo,nu:ua},fn="Windows",Ui="iOS",Ho="Android",Qo="Linux",Do="OSX",vi="Solaris",ji="FreeBSD",si="ChromeOS",Ji=function(){return ie({current:void 0,version:bt.unknown()})},ie=function(u){var l=u.current,v=u.version,p=function(b){return function(){return l===b}};return{current:l,version:v,isWindows:p(fn),isiOS:p(Ui),isAndroid:p(Ho),isOSX:p(Do),isLinux:p(Qo),isSolaris:p(vi),isFreeBSD:p(ji),isChromeOS:p(si)}},Ce={unknown:Ji,nu:ie},le=function(u,l,v){var p=Za.browsers(),b=Za.oses(),x=l.bind(function(G){return zt(p,G)}).orThunk(function(){return Rr(p,u)}).fold(Lo.unknown,Lo.nu),D=sr(b,u).fold(Ce.unknown,Ce.nu),M=Jr(D,x,u,v);return{browser:x,os:D,deviceType:M}},Ke={detect:le},Cr=function(u){return window.matchMedia(u).matches},Gr=br(function(){return Ke.detect(navigator.userAgent,V.from(navigator.userAgentData),Cr)}),re=function(){return Gr()},me=function(u,l,v){return(u.compareDocumentPosition(l)&v)!==0},Xe=function(u,l){return me(u,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},St=8,N=9,X=11,ve=1,_e=3,Ue=function(u,l){var v=l||document,p=v.createElement("div");if(p.innerHTML=u,!p.hasChildNodes()||p.childNodes.length>1)throw console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return $r(p.childNodes[0])},qe=function(u,l){var v=l||document,p=v.createElement(u);return $r(p)},pr=function(u,l){var v=l||document,p=v.createTextNode(u);return $r(p)},$r=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:u}},Cn=function(u,l,v){return V.from(u.dom.elementFromPoint(l,v)).map($r)},et={fromHtml:Ue,fromTag:qe,fromText:pr,fromDom:$r,fromPoint:Cn},pn=function(u,l){var v=u.dom;if(v.nodeType!==ve)return!1;var p=v;if(p.matches!==void 0)return p.matches(l);if(p.msMatchesSelector!==void 0)return p.msMatchesSelector(l);if(p.webkitMatchesSelector!==void 0)return p.webkitMatchesSelector(l);if(p.mozMatchesSelector!==void 0)return p.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},Kn=function(u){return u.nodeType!==ve&&u.nodeType!==N&&u.nodeType!==X||u.childElementCount===0},Na=function(u,l){var v=l===void 0?document:l.dom;return Kn(v)?[]:Ve(v.querySelectorAll(u),et.fromDom)},Eo=function(u,l){var v=l===void 0?document:l.dom;return Kn(v)?V.none():V.from(v.querySelector(u)).map(et.fromDom)},ca=function(u,l){return u.dom===l.dom},zu=function(u,l){var v=u.dom,p=l.dom;return v===p?!1:v.contains(p)},lu=function(u,l){return Xe(u.dom,l.dom)},So=function(u,l){return re().browser.isIE()?lu(u,l):zu(u,l)},Yu=pn,yi=Object.keys,Ci=Object.hasOwnProperty,oo=function(u,l){for(var v=yi(u),p=0,b=v.length;p<b;p++){var x=v[p],D=u[x];l(D,x)}},Bc=function(u,l){return Y(u,function(v,p){return{k:p,v:l(v,p)}})},Y=function(u,l){var v={};return oo(u,function(p,b){var x=l(p,b);v[x.k]=x.v}),v},ye=function(u){return function(l,v){u[v]=l}},We=function(u,l,v,p){var b={};return oo(u,function(x,D){(l(x,D)?v:p)(x,D)}),b},Et=function(u,l){var v={};return We(u,l,ye(v),Je),v},Lr=function(u,l){var v=[];return oo(u,function(p,b){v.push(l(p,b))}),v},tn=function(u){return Lr(u,nr)},vn=function(u){return yi(u).length},da=function(u,l){return j(u,l)?V.from(u[l]):V.none()},j=function(u,l){return Ci.call(u,l)},he=function(u,l){return j(u,l)&&u[l]!==void 0&&u[l]!==null},Re=function(u){for(var l in u)if(Ci.call(u,l))return!1;return!0},ot=["tfoot","thead","tbody","colgroup"],Bt=function(u){return hn(ot,u)},Kr=function(u,l){return{rows:u,columns:l}},yn=function(u,l){return{row:u,column:l}},xa=function(u,l,v){return{element:u,rowspan:l,colspan:v}},ra=function(u,l,v,p){return{element:u,rowspan:l,colspan:v,isNew:p}},Va=function(u,l,v,p,b,x){return{element:u,rowspan:l,colspan:v,row:p,column:b,isLocked:x}},so=function(u,l,v){return{element:u,cells:l,section:v}},Eu=function(u,l,v,p){return{element:u,cells:l,section:v,isNew:p}},Wo=function(u,l,v){return{element:u,isNew:l,isLocked:v}},wn=function(u,l,v,p){return{element:u,cells:l,section:v,isNew:p}},dr=function(u,l,v,p){return{startRow:u,startCol:l,finishRow:v,finishCol:p}},ja=function(u,l,v){return{element:u,colspan:l,column:v}},qo=function(u,l){return{element:u,columns:l}};typeof window<"u"||Function("return this;")();var wa=function(u){var l=u.dom.nodeName;return l.toLowerCase()},Mc=function(u){return u.dom.nodeType},Zu=function(u){return function(l){return Mc(l)===u}},_s=function(u){return Mc(u)===St||wa(u)==="#comment"},Ra=Zu(ve),Di=Zu(_e),Cs=Zu(N),Au=Zu(X),Bo=function(u){return function(l){return Ra(l)&&wa(l)===u}},Nc=function(u){return et.fromDom(u.dom.ownerDocument)},wt=function(u){return Cs(u)?u:Nc(u)},ts=function(u){return et.fromDom(wt(u).dom.defaultView)},Mo=function(u){return V.from(u.dom.parentNode).map(et.fromDom)},vl=function(u){return V.from(u.dom.parentElement).map(et.fromDom)},hc=function(u,l){for(var v=kr(l)?l:zr,p=u.dom,b=[];p.parentNode!==null&&p.parentNode!==void 0;){var x=p.parentNode,D=et.fromDom(x);if(b.push(D),v(D)===!0)break;p=x}return b},P=function(u){return V.from(u.dom.previousSibling).map(et.fromDom)},S=function(u){return V.from(u.dom.nextSibling).map(et.fromDom)},w=function(u){return Ve(u.dom.childNodes,et.fromDom)},A=function(u,l){var v=u.dom.childNodes;return V.from(v[l]).map(et.fromDom)},H=function(u){return A(u,0)},oe=function(u){return Au(u)&&Kt(u.dom.host)},De=kr(Element.prototype.attachShadow)&&kr(Node.prototype.getRootNode),Lt=rt(De),dn=De?function(u){return et.fromDom(u.dom.getRootNode())}:wt,Bn=function(u){var l=dn(u);return oe(l)?V.some(l):V.none()},Or=function(u){return et.fromDom(u.dom.host)},ln=function(u){if(Lt()&&Kt(u.target)){var l=et.fromDom(u.target);if(Ra(l)&&na(l)&&u.composed&&u.composedPath){var v=u.composedPath();if(v)return Fe(v)}}return V.from(u.target)},na=function(u){return Kt(u.dom.shadowRoot)},ta=function(u){var l=Di(u)?u.dom.parentNode:u.dom;if(l==null||l.ownerDocument===null)return!1;var v=l.ownerDocument;return Bn(et.fromDom(l)).fold(function(){return v.body.contains(l)},Ht(ta,Or))},jn=function(){return go(et.fromDom(document))},go=function(u){var l=u.dom.body;if(l==null)throw new Error("Body is not available yet");return et.fromDom(l)},Ln=function(u,l,v){return an(hc(u,v),l)},to=function(u,l){return an(w(u),l)},Wa=function(u,l){var v=[];return Ft(w(u),function(p){l(p)&&(v=v.concat([p])),v=v.concat(Wa(p,l))}),v},Ri=function(u,l,v){return Ln(u,function(p){return pn(p,l)},v)},va=function(u,l){return to(u,function(v){return pn(v,l)})},Fc=function(u,l){return Na(l,u)};function No(u,l,v,p,b){return u(v,p)?V.some(v):kr(b)&&b(v)?V.none():l(v,p,b)}var Go=function(u,l,v){for(var p=u.dom,b=kr(v)?v:zr;p.parentNode;){p=p.parentNode;var x=et.fromDom(p);if(l(x))return V.some(x);if(b(x))break}return V.none()},Wh=function(u,l,v){var p=function(b,x){return x(b)};return No(p,Go,u,l,v)},Qi=function(u,l){var v=function(b){return l(et.fromDom(b))},p=$t(u.dom.childNodes,v);return p.map(et.fromDom)},np=function(u,l){var v=function(p){for(var b=0;b<p.childNodes.length;b++){var x=et.fromDom(p.childNodes[b]);if(l(x))return V.some(x);var D=v(p.childNodes[b]);if(D.isSome())return D}return V.none()};return v(u.dom)},Ws=function(u,l,v){return Go(u,function(p){return pn(p,l)},v)},Xn=function(u,l){return Qi(u,function(v){return pn(v,l)})},Ic=function(u,l){return Eo(l,u)},ei=function(u,l,v){var p=function(b,x){return pn(b,x)};return No(p,Ws,u,l,v)},ti=function(u,l,v){if(gt(v)||vr(v)||Ot(v))u.setAttribute(l,v+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",v,":: Element ",u),new Error("Attribute value was not simple")},Pi=function(u,l,v){ti(u.dom,l,v)},bi=function(u,l){var v=u.dom;oo(l,function(p,b){ti(v,b,p)})},xf=function(u,l){oo(l,function(v,p){v.fold(function(){Ao(u,p)},function(b){ti(u.dom,p,b)})})},rs=function(u,l){var v=u.dom.getAttribute(l);return v===null?void 0:v},qa=function(u,l){return V.from(rs(u,l))},Ao=function(u,l){u.dom.removeAttribute(l)},Lu=function(u){return Z(u.dom.attributes,function(l,v){return l[v.name]=v.value,l},{})},ml=function(u,l,v){return v===void 0&&(v=se),u.exists(function(p){return v(p,l)})},Si=function(u){for(var l=[],v=function(b){l.push(b)},p=0;p<u.length;p++)u[p].each(v);return l},$c=function(u,l,v){return u.isSome()&&l.isSome()?V.some(v(u.getOrDie(),l.getOrDie())):V.none()},qh=function(u,l){return u!=null?l(u):V.none()},Tf=function(u){return u.bind(nr)},po=function(u,l){return u?V.some(l):V.none()},Ss=function(u){return u.style!==void 0&&kr(u.style.getPropertyValue)},Ll=function(u,l,v){if(!gt(v))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",v,":: Element ",u),new Error("CSS value must be a string: "+v);Ss(u)&&u.style.setProperty(l,v)},Ju=function(u,l){Ss(u)&&u.style.removeProperty(l)},li=function(u,l,v){var p=u.dom;Ll(p,l,v)},Hl=function(u,l){var v=u.dom;oo(l,function(p,b){Ll(v,b,p)})},gl=function(u,l){var v=u.dom,p=window.getComputedStyle(v),b=p.getPropertyValue(l);return b===""&&!ta(u)?Ou(v,l):b},Ou=function(u,l){return Ss(u)?u.style.getPropertyValue(l):""},Qu=function(u,l){var v=u.dom,p=Ou(v,l);return V.from(p).filter(function(b){return b.length>0})},fu=function(u,l){var v=u.dom;Ju(v,l),ml(qa(u,"style").map(at),"")&&Ao(u,"style")},gd=function(u,l){var v=u.dom,p=l.dom;Ss(v)&&Ss(p)&&(p.style.cssText=v.style.cssText)},xs=function(u,l,v){return v===void 0&&(v=0),qa(u,l).map(function(p){return parseInt(p,10)}).getOr(v)},Bi=function(u,l){return xs(u,l,1)},cv=function(u){return Bo("col")(u)?xs(u,"span",1)>1:Bi(u,"colspan")>1},Gh=function(u){return Bi(u,"rowspan")>1},zf=function(u,l){return parseInt(gl(u,l),10)},Ef=rt(10),ri=rt(10),Af=function(u,l){return Of(u,l,Le)},Of=function(u,l,v){return ir(w(u),function(p){return pn(p,l)?v(p)?[p]:[]:Of(p,l,v)})},Du=function(u,l,v){if(v===void 0&&(v=zr),v(l))return V.none();if(hn(u,wa(l)))return V.some(l);var p=function(b){return pn(b,"table")||v(b)};return Ws(l,u.join(","),p)},pl=function(u,l){return Du(["td","th"],u,l)},Df=function(u){return Af(u,"th,td")},hl=function(u){return pn(u,"colgroup")?va(u,"col"):ir(gm(u),function(l){return va(l,"col")})},Vo=function(u,l){return ei(u,"table",l)},yc=function(u){return Af(u,"tr")},gm=function(u){return Vo(u).fold(rt([]),function(l){return va(l,"colgroup")})},Lc=function(u,l){return Ve(u,function(v){if(wa(v)==="colgroup"){var p=Ve(hl(v),function(b){var x=xs(b,"span",1);return xa(b,1,x)});return so(v,p,"colgroup")}else{var p=Ve(Df(v),function(x){var D=xs(x,"rowspan",1),M=xs(x,"colspan",1);return xa(x,D,M)});return so(v,p,l(v))}})},pm=function(u){return Mo(u).map(function(l){var v=wa(l);return Bt(v)?v:"tbody"}).getOr("tbody")},Kh=function(u){var l=yc(u),v=gm(u),p=ut(ut([],v,!0),l);return Lc(p,pm)},ap=function(u,l){return Lc(u,function(){return l})},Rf=function(u,l,v){var p=u.cells,b=p.slice(0,l),x=p.slice(l),D=b.concat(v).concat(x);return Yn(u,D)},Pf=function(u,l,v){return Rf(u,l,[v])},Vl=function(u,l,v){var p=u.cells;p[l]=v},Yn=function(u,l){return wn(u.element,l,u.section,u.isNew)},ns=function(u,l){var v=u.cells,p=Ve(v,l);return wn(u.element,p,u.section,u.isNew)},ec=function(u,l){return u.cells[l]},Ru=function(u,l){return ec(u,l).element},as=function(u){return u.cells.length},mi=function(u){var l=qn(u,function(v){return v.section==="colgroup"});return{rows:l.fail,cols:l.pass}},Mi=function(u,l,v){var p=Ve(u.cells,v);return wn(l(u.element),p,u.section,!0)},wi="data-snooker-locked-cols",Ul=function(u){return qa(u,wi).bind(function(l){return V.from(l.match(/\d+/g))}).map(function(l){return Zr(l,Le)})},du=function(u){var l=Z(mi(u).rows,function(p,b){return Ft(b.cells,function(x,D){x.isLocked&&(p[D]=!0)}),p},{}),v=Lr(l,function(p,b){return parseInt(b,10)});return Qt(v)},on=function(u,l){return u+","+l},Bf=function(u,l,v){return V.from(u.access[on(l,v)])},op=function(u,l,v){var p=ma(u,function(b){return v(l,b.element)});return p.length>0?V.some(p[0]):V.none()},ma=function(u,l){var v=ir(u.all,function(p){return p.cells});return an(v,l)},ho=function(u){var l={},v=0;return Ft(u.cells,function(p){var b=p.colspan;Rt(b,function(x){var D=v+x;l[D]=ja(p.element,b,D)}),v+=b}),l},hm=function(u){var l={},v=[],p=Fe(u).map(function(Ar){return Ar.element}).bind(Vo),b=p.bind(Ul).getOr({}),x=0,D=0,M=0,G=qn(u,function(Ar){return Ar.section==="colgroup"}),ue=G.pass,ke=G.fail;Ft(ke,function(Ar){var Mr=[];Ft(Ar.cells,function(zn){for(var Ma=0;l[on(M,Ma)]!==void 0;)Ma++;for(var Rn=he(b,Ma.toString()),ea=Va(zn.element,zn.rowspan,zn.colspan,M,Ma,Rn),za=0;za<zn.colspan;za++)for(var _a=0;_a<zn.rowspan;_a++){var Ei=M+_a,au=Ma+za,fc=on(Ei,au);l[fc]=ea,D=Math.max(D,au+1)}Mr.push(ea)}),x++,v.push(so(Ar.element,Mr,Ar.section)),M++});var Ct=gr(ue).map(function(Ar){var Mr=ho(Ar),zn=qo(Ar.element,tn(Mr));return{colgroups:[zn],columns:Mr}}).getOrThunk(function(){return{colgroups:[],columns:{}}}),er=Ct.columns,qt=Ct.colgroups,kt=Kr(x,D);return{grid:kt,access:l,all:v,columns:er,colgroups:qt}},qs=function(u){var l=Kh(u);return hm(l)},Fo=function(u){return ir(u.all,function(l){return l.cells})},ym=function(u){return tn(u.columns)},bc=function(u){return yi(u.columns).length>0},sv=function(u,l){return V.from(u.columns[l])},ha={fromTable:qs,generate:hm,getAt:Bf,findItem:op,filterItems:ma,justCells:Fo,justColumns:ym,hasColumns:bc,getColumnAt:sv},Hu=function(u,l){var v=l.column,p=l.column+l.colspan-1,b=l.row,x=l.row+l.rowspan-1;return v<=u.finishCol&&p>=u.startCol&&b<=u.finishRow&&x>=u.startRow},F1=function(u,l){return l.column>=u.startCol&&l.column+l.colspan-1<=u.finishCol&&l.row>=u.startRow&&l.row+l.rowspan-1<=u.finishRow},I1=function(u,l){for(var v=!0,p=or(F1,l),b=l.startRow;b<=l.finishRow;b++)for(var x=l.startCol;x<=l.finishCol;x++)v=v&&ha.getAt(u,b,x).exists(p);return v?V.some(l):V.none()},Uo=function(u,l){return dr(Math.min(u.row,l.row),Math.min(u.column,l.column),Math.max(u.row+u.rowspan-1,l.row+l.rowspan-1),Math.max(u.column+u.colspan-1,l.column+l.colspan-1))},bm=function(u,l,v){var p=ha.findItem(u,l,ca),b=ha.findItem(u,v,ca);return p.bind(function(x){return b.map(function(D){return Uo(x,D)})})},z=function(u,l,v){return bm(u,l,v).bind(function(p){return I1(u,p)})},I=function(u,l,v,p){return ha.findItem(u,l,ca).bind(function(b){var x=v>0?b.row+b.rowspan-1:b.row,D=p>0?b.column+b.colspan-1:b.column,M=ha.getAt(u,x+v,D+p);return M.map(function(G){return G.element})})},W=function(u,l,v){return bm(u,l,v).map(function(p){var b=ha.filterItems(u,or(Hu,p));return Ve(b,function(x){return x.element})})},fe=function(u,l){var v=function(p,b){return So(b,p)};return ha.findItem(u,l,v).map(function(p){return p.element})},Ie=function(u,l,v){return Vo(u).bind(function(p){var b=Aa(p);return I(b,u,l,v)})},xt=function(u,l,v){var p=Aa(u);return W(p,l,v)},kn=function(u,l,v,p,b){var x=Aa(u),D=ca(u,v)?V.some(l):fe(x,l),M=ca(u,b)?V.some(p):fe(x,p);return D.bind(function(G){return M.bind(function(ue){return W(x,G,ue)})})},aa=function(u,l,v){var p=Aa(u);return z(p,l,v)},Aa=ha.fromTable,ya=function(u,l){var v=Mo(u);v.each(function(p){p.dom.insertBefore(l.dom,u.dom)})},ko=function(u,l){var v=S(u);v.fold(function(){var p=Mo(u);p.each(function(b){ni(b,l)})},function(p){ya(p,l)})},vu=function(u,l){var v=H(u);v.fold(function(){ni(u,l)},function(p){u.dom.insertBefore(l.dom,p.dom)})},ni=function(u,l){u.dom.appendChild(l.dom)},gS=function(u,l,v){A(u,v).fold(function(){ni(u,l)},function(p){ya(p,l)})},Gk=function(u,l){ya(u,l),ni(l,u)},Kk=function(u,l){Ft(l,function(v){ya(u,v)})},pS=function(u,l){Ft(l,function(v,p){var b=p===0?u:l[p-1];ko(b,v)})},yl=function(u,l){Ft(l,function(v){ni(u,v)})},ip=function(u){u.dom.textContent="",Ft(w(u),function(l){wc(l)})},wc=function(u){var l=u.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},wm=function(u){var l=w(u);l.length>0&&Kk(u,l),wc(u)},$1=function(u,l){var v=function(x){if(!u(x))throw new Error("Can only get "+l+" value of a "+l+" node");return p(x).getOr("")},p=function(x){return u(x)?V.from(x.dom.nodeValue):V.none()},b=function(x,D){if(!u(x))throw new Error("Can only set raw "+l+" value of a "+l+" node");x.dom.nodeValue=D};return{get:v,getOption:p,set:b}},up=$1(Di,"text"),Xh=function(u){return up.get(u)},Xk=function(u){return up.getOption(u)},hS=function(u,l){return up.set(u,l)},bl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function cp(){var u=function(ue){return et.fromDom(ue.dom.cloneNode(!1))},l=function(ue){return wt(ue).dom},v=function(ue){return Ra(ue)?wa(ue)==="body"?!0:hn(bl,wa(ue)):!1},p=function(ue){return Ra(ue)?hn(["br","img","hr","input"],wa(ue)):!1},b=function(ue){return Ra(ue)&&rs(ue,"contenteditable")==="false"},x=function(ue,ke){return ue.dom.compareDocumentPosition(ke.dom)},D=function(ue,ke){var Ct=Lu(ue);bi(ke,Ct)},M=function(ue){var ke=wa(ue);return hn(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ke)},G=function(ue){return Ra(ue)?qa(ue,"lang"):V.none()};return{up:rt({selector:Ws,closest:ei,predicate:Go,all:hc}),down:rt({selector:Fc,predicate:Wa}),styles:rt({get:gl,getRaw:Qu,set:li,remove:fu}),attrs:rt({get:rs,set:Pi,remove:Ao,copyTo:D}),insert:rt({before:ya,after:ko,afterAll:pS,append:ni,appendAll:yl,prepend:vu,wrap:Gk}),remove:rt({unwrap:wm,remove:wc}),create:rt({nu:et.fromTag,clone:u,text:et.fromText}),query:rt({comparePosition:x,prevSibling:P,nextSibling:S}),property:rt({children:w,name:wa,parent:Mo,document:l,isText:Di,isComment:_s,isElement:Ra,isSpecial:M,getLanguage:G,getText:Xh,setText:hS,isBoundary:v,isEmptyTag:p,isNonEditable:b}),eq:ca,is:Yu}}var yS=function(u,l,v,p){var b=v[0],x=v.slice(1);return p(u,l,b,x)},L1=function(u,l,v){return v.length>0?yS(u,l,v,bS):V.none()},bS=function(u,l,v,p){var b=l(u,v);return Un(p,function(x,D){var M=l(u,D);return wS(u,x,M)},b)},wS=function(u,l,v){return l.bind(function(p){return v.filter(or(u.eq,p))})},km=function(u,l){return or(u.eq,l)},sp=function(u,l,v,p){p===void 0&&(p=zr);var b=[l].concat(u.up().all(l)),x=[v].concat(u.up().all(v)),D=function(ke){var Ct=Ye(ke,p);return Ct.fold(function(){return ke},function(er){return ke.slice(0,er+1)})},M=D(b),G=D(x),ue=$t(M,function(ke){return E(G,km(u,ke))});return{firstpath:M,secondpath:G,shared:ue}},Yk=L1,Zk=sp,Hc=cp(),Dn=function(u,l){return Yk(Hc,function(v,p){return u(p)},l)},Mf=function(u,l,v){return Zk(Hc,u,l,v)},lp=function(u){return Ws(u,"table")},pd=function(u,l,v){var p=function(b){return function(x){return v!==void 0&&v(x)||ca(x,b)}};return ca(u,l)?V.some({boxes:V.some([u]),start:u,finish:l}):lp(u).bind(function(b){return lp(l).bind(function(x){if(ca(b,x))return V.some({boxes:xt(b,u,l),start:u,finish:l});if(So(b,x)){var D=Ri(l,"td,th",p(b)),M=D.length>0?D[D.length-1]:l;return V.some({boxes:kn(b,u,b,l,x),start:u,finish:M})}else if(So(x,b)){var D=Ri(u,"td,th",p(x)),G=D.length>0?D[D.length-1]:u;return V.some({boxes:kn(x,u,b,l,x),start:u,finish:G})}else return Mf(u,l).shared.bind(function(ue){return ei(ue,"table",v).bind(function(ke){var Ct=Ri(l,"td,th",p(ke)),er=Ct.length>0?Ct[Ct.length-1]:l,qt=Ri(u,"td,th",p(ke)),kt=qt.length>0?qt[qt.length-1]:u;return V.some({boxes:kn(ke,u,b,l,x),start:kt,finish:er})})})})})},_m=function(u,l){var v=Fc(u,l);return v.length>0?V.some(v):V.none()},H1=function(u,l){return $t(u,function(v){return pn(v,l)})},Gs=function(u,l,v){return Ic(u,l).bind(function(p){return Ic(u,v).bind(function(b){return Dn(lp,[p,b]).map(function(x){return{first:p,last:b,table:x}})})})},lv=function(u,l){return Ws(u,"table").bind(function(v){return Ic(v,l).bind(function(p){return pd(p,u).bind(function(b){return b.boxes.map(function(x){return{boxes:x,start:b.start,finish:b.finish}})})})})},Cm=function(u,l,v,p,b){return H1(u,b).bind(function(x){return Ie(x,l,v).bind(function(D){return lv(D,p)})})},gi=function(u,l){return _m(u,l)},eu=function(u,l,v){return Gs(u,l,v).bind(function(p){var b=function(G){return ca(u,G)},x="thead,tfoot,tbody,table",D=Ws(p.first,x,b),M=Ws(p.last,x,b);return D.bind(function(G){return M.bind(function(ue){return ca(G,ue)?aa(p.table,p.first,p.last):V.none()})})})},fp=function(u){if(!ft(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var l=[],v={};return Ft(u,function(p,b){var x=yi(p);if(x.length!==1)throw new Error("one and only one name per case");var D=x[0],M=p[D];if(v[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!ft(M))throw new Error("case arguments must be an array");l.push(D),v[D]=function(){for(var G=[],ue=0;ue<arguments.length;ue++)G[ue]=arguments[ue];var ke=G.length;if(ke!==M.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+M.length+" ("+M+"), got "+ke);var Ct=function(er){var qt=yi(er);if(l.length!==qt.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+qt.join(","));var kt=Zt(l,function(Ar){return hn(qt,Ar)});if(!kt)throw new Error("Not all branches were specified when using match. Specified: "+qt.join(", ")+`
Required: `+l.join(", "));return er[D].apply(null,G)};return{fold:function(){for(var er=[],qt=0;qt<arguments.length;qt++)er[qt]=arguments[qt];if(er.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+er.length);var kt=er[b];return kt.apply(null,G)},match:Ct,log:function(er){console.log(er,{constructors:l,constructor:D,params:G})}}}}),v},jl={generate:fp},dp=jl.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Yh=function(u,l,v,p){return u.fold(l,v,p)},Zh=dp.none,kS=dp.multiple,Sm=dp.single,Pu=function(u,l,v){var p=function(){return gi(u(),v).fold(function(){return l().fold(Zh,Sm)},function(b){return kS(b)})};return{get:p}},Jk=tinymce.util.Tools.resolve("tinymce.PluginManager"),Ko=function(u,l){return et.fromDom(u.dom.cloneNode(l))},Ks=function(u){return Ko(u,!1)},io=function(u){return Ko(u,!0)},hd=function(u,l){var v=et.fromTag(l),p=Lu(u);return bi(v,p),v},Ts=function(u,l){var v=hd(u,l),p=w(io(u));return yl(v,p),v},_S=function(u,l){var v=hd(u,l);ya(u,v);var p=w(u);return yl(v,p),wc(u),v},Ni=function(u,l){var v=function(M,G){if(!Ot(G)&&!G.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+G);var ue=M.dom;Ss(ue)&&(ue.style[u]=G+"px")},p=function(M){var G=l(M);if(G<=0||G===null){var ue=gl(M,u);return parseFloat(ue)||0}return G},b=p,x=function(M,G){return Z(G,function(ue,ke){var Ct=gl(M,ke),er=Ct===void 0?0:parseInt(Ct,10);return isNaN(er)?ue:ue+er},0)},D=function(M,G,ue){var ke=x(M,ue),Ct=G>ke?G-ke:0;return Ct};return{set:v,get:p,getOuter:b,aggregate:x,max:D}},tc=function(){var u=re().browser;return u.isIE()||u.isEdge()},Qk=function(u,l){return st(u).getOr(l)},Ut=function(u,l,v){return Qk(gl(u,l),v)},kc=function(u){return gl(u,"box-sizing")},Nf=function(u,l,v,p){var b=Ut(u,"padding-"+v,0),x=Ut(u,"padding-"+p,0),D=Ut(u,"border-"+v+"-width",0),M=Ut(u,"border-"+p+"-width",0);return l-b-x-D-M},Zn=function(u,l){var v=u.dom,p=v.getBoundingClientRect().height||v.offsetHeight;return l==="border-box"?p:Nf(u,p,"top","bottom")},os=function(u,l){var v=u.dom,p=v.getBoundingClientRect().width||v.offsetWidth;return l==="border-box"?p:Nf(u,p,"left","right")},CS=function(u){return tc()?Zn(u,kc(u)):Ut(u,"height",u.dom.offsetHeight)},Vu=function(u){return tc()?os(u,kc(u)):Ut(u,"width",u.dom.offsetWidth)},xm=function(u){return os(u,"content-box")},Wl=Ni("width",function(u){return u.dom.offsetWidth}),Xs=function(u){return Wl.get(u)},Bu=function(u){return Wl.getOuter(u)},Ga=xm,wl=Vu,fv=function(u,l){l===void 0&&(l=Le);var v=u.grid,p=Rt(v.columns,nr),b=Rt(v.rows,nr);return Ve(p,function(x){var D=function(){return ir(b,function(ue){return ha.getAt(u,ue,x).filter(function(ke){return ke.column===x}).toArray()})},M=function(ue){return ue.colspan===1&&l(ue.element)},G=function(){return ha.getAt(u,0,x)};return xo(D,M,G)})},xo=function(u,l,v){var p=u(),b=$t(p,l),x=b.orThunk(function(){return V.from(p[0]).orThunk(v)});return x.map(function(D){return D.element})},yd=function(u){var l=u.grid,v=Rt(l.rows,nr),p=Rt(l.columns,nr);return Ve(v,function(b){var x=function(){return ir(p,function(G){return ha.getAt(u,b,G).filter(function(ue){return ue.row===b}).fold(rt([]),function(ue){return[ue]})})},D=function(G){return G.rowspan===1},M=function(){return ha.getAt(u,b,0)};return xo(x,D,M)})},Vc=function(u,l){if(l<0||l>=u.length-1)return V.none();var v=u[l].fold(function(){var b=qr(u.slice(0,l));return Ne(b,function(x,D){return x.map(function(M){return{value:M,delta:D+1}})})},function(b){return V.some({value:b,delta:0})}),p=u[l+1].fold(function(){var b=u.slice(l+1);return Ne(b,function(x,D){return x.map(function(M){return{value:M,delta:D+1}})})},function(b){return V.some({value:b,delta:1})});return v.bind(function(b){return p.map(function(x){var D=x.delta+b.delta;return Math.abs(x.value-b.value)/D})})},Uc=function(u,l){return function(v){return SS(v)==="rtl"?l:u}},SS=function(u){return gl(u,"direction")==="rtl"?"rtl":"ltr"},Ae=Ni("height",function(u){var l=u.dom;return ta(u)?l.getBoundingClientRect().height:l.offsetHeight}),rc=function(u){return Ae.get(u)},_c=function(u){return Ae.getOuter(u)},Tm=CS,is=function(u,l){var v=function(p,b){return is(u+p,l+b)};return{left:u,top:l,translate:v}},yo=is,To=function(u){var l=u.getBoundingClientRect();return yo(l.left,l.top)},Cc=function(u,l){return u!==void 0?u:l!==void 0?l:0},Ff=function(u){var l=u.dom.ownerDocument,v=l.body,p=l.defaultView,b=l.documentElement;if(v===u.dom)return yo(v.offsetLeft,v.offsetTop);var x=Cc(p==null?void 0:p.pageYOffset,b.scrollTop),D=Cc(p==null?void 0:p.pageXOffset,b.scrollLeft),M=Cc(b.clientTop,v.clientTop),G=Cc(b.clientLeft,v.clientLeft);return V1(u).translate(D-G,x-M)},V1=function(u){var l=u.dom,v=l.ownerDocument,p=v.body;return p===l?yo(p.offsetLeft,p.offsetTop):ta(u)?To(l):yo(0,0)},Nn=function(u,l){return{row:u,y:l}},Jh=function(u,l){return{col:u,x:l}},us=function(u){var l=Ff(u);return l.left+Bu(u)},e_=function(u){return Ff(u).left},vp=function(u,l){return Jh(u,e_(l))},mp=function(u,l){return Jh(u,us(l))},U1=function(u){return Ff(u).top},j1=function(u,l){return Nn(u,U1(l))},ql=function(u,l){return Nn(u,U1(l)+_c(l))},If=function(u,l,v){if(v.length===0)return[];var p=Ve(v.slice(1),function(x,D){return x.map(function(M){return u(D,M)})}),b=v[v.length-1].map(function(x){return l(v.length-1,x)});return p.concat([b])},xS=function(u){return-u},W1={delta:nr,positions:function(u){return If(j1,ql,u)},edge:U1},TS={delta:nr,edge:e_,positions:function(u){return If(vp,mp,u)}},t_={delta:xS,edge:us,positions:function(u){return If(mp,vp,u)}},gp=Uc(TS,t_),zm={delta:function(u,l){return gp(l).delta(u,l)},positions:function(u,l){return gp(l).positions(u,l)},edge:function(u){return gp(u).edge(u)}},r_={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Gl=function(){var u="[0-9]+",l="[+-]?"+u,v="[eE]"+l,p="\\.",b=function(M){return"(?:"+M+")?"},x=["Infinity",u+p+b(u)+b(v),p+u+b(v),u+b(v)].join("|"),D="[+-]?(?:"+x+")";return new RegExp("^("+D+")(.*)$")}(),Em=function(u,l){return E(l,function(v){return E(r_[v],function(p){return u===p})})},q1=function(u,l){var v=V.from(Gl.exec(u));return v.bind(function(p){var b=Number(p[1]),x=p[2];return Em(x,l)?V.some({value:b,unit:x}):V.none()})},n_=/(\d+(\.\d+)?)%/,zS=/(\d+(\.\d+)?)px|em/,ES=Bo("col"),xi=function(u,l,v){var p=vl(u).getOrThunk(function(){return go(Nc(u))});return l(u)/v(p)*100},Kl=function(u,l){li(u,"width",l+"px")},Ys=function(u,l){li(u,"width",l+"%")},bd=function(u,l){li(u,"height",l+"px")},a_=function(u){return Tm(u)+"px"},Zs=function(u,l,v,p){var b=Vo(u).map(function(x){var D=v(x);return Math.floor(l/100*D)}).getOr(l);return p(u,b),b},dv=function(u,l,v,p){var b=parseFloat(u);return be(u,"%")&&wa(l)!=="table"?Zs(l,b,v,p):b},G1=function(u){var l=a_(u);return l?dv(l,u,rc,bd):rc(u)},K1=function(u,l,v){var p=v(u),b=Bi(u,l);return p/b},$f=function(u,l){return Qu(u,l).orThunk(function(){return qa(u,l).map(function(v){return v+"px"})})},zs=function(u){return $f(u,"width")},mu=function(u){return $f(u,"height")},Qh=function(u){return xi(u,Xs,Ga)},X1=function(u){return ES(u)?Xs(u):wl(u)},vv=function(u){return K1(u,"rowspan",G1)},Am=function(u){var l=zs(u);return l.bind(function(v){return q1(v,["fixed","relative","empty"])})},Om=function(u,l,v){li(u,"width",l+v)},AS=function(u){return Xs(u)+"px"},Dm=function(u){return xi(u,Xs,Ga)+"%"},Y1=function(u){return zs(u).exists(function(l){return n_.test(l)})},OS=function(u){return zs(u).exists(function(l){return zS.test(l)})},ai=function(u){return zs(u).isNone()},ey=rt(n_),wd=Bo("col"),Z1=function(u){return zs(u).getOrThunk(function(){return X1(u)+"px"})},J1=function(u){return mu(u).getOrThunk(function(){return vv(u)+"px"})},Es=function(u){return Ve(ha.justColumns(u),function(l){return V.from(l.element)})},cs=function(u){var l=re().browser,v=l.isChrome()||l.isFirefox();return wd(u)?v:!0},mv=function(u,l,v,p,b,x){return u.filter(p).fold(function(){return x(Vc(v,l))},function(D){return b(D)})},kd=function(u,l,v,p){var b=fv(u),x=ha.hasColumns(u)?Es(u):b,D=[V.some(zm.edge(l))].concat(Ve(zm.positions(b,l),function(G){return G.map(function(ue){return ue.x})})),M=Me(cv);return Ve(x,function(G,ue){return mv(G,ue,D,M,function(ke){if(cs(ke))return v(ke);var Ct=qh(b[ue],nr);return mv(Ct,ue,D,M,function(er){return p(V.some(Xs(er)))},p)},p)})},ty=function(u){return u.map(function(l){return l+"px"}).getOr("")},pp=function(u,l){return kd(u,l,Z1,ty)},Q1=function(u,l,v){return kd(u,l,Qh,function(p){return p.fold(function(){return v.minCellWidth()},function(b){return b/v.pixelWidth()*100})})},gv=function(u,l,v){return kd(u,l,X1,function(p){return p.getOrThunk(v.minCellWidth)})},ry=function(u,l,v,p,b){var x=yd(u),D=[V.some(v.edge(l))].concat(Ve(v.positions(x,l),function(M){return M.map(function(G){return G.y})}));return Ve(x,function(M,G){return mv(M,G,D,Me(Gh),p,b)})},DS=function(u,l,v){return ry(u,l,v,vv,function(p){return p.getOrThunk(ri)})},e0=function(u,l,v){return ry(u,l,v,J1,ty)},ss=function(u,l){return function(){return ta(u)?l(u):parseFloat(Qu(u,"width").getOr("0"))}},jc=function(u){var l=ss(u,Xs),v=rt(0),p=function(b,x){return gv(b,u,x)};return{width:l,pixelWidth:l,getWidths:p,getCellDelta:v,singleColumnWidth:rt([0]),minCellWidth:v,setElementWidth:Je,adjustTableWidth:Je,isRelative:!0,label:"none"}},Rm=function(u){var l=ss(u,function(G){return parseFloat(Dm(G))}),v=ss(u,Xs),p=function(G){return G/v()*100},b=function(G,ue){return[100-G]},x=function(){return Ef()/v()*100},D=function(G){var ue=l(),ke=G/100*ue,Ct=ue+ke;Ys(u,Ct)},M=function(G,ue){return Q1(G,u,ue)};return{width:l,pixelWidth:v,getWidths:M,getCellDelta:p,singleColumnWidth:b,minCellWidth:x,setElementWidth:Ys,adjustTableWidth:D,isRelative:!0,label:"percent"}},Js=function(u){var l=ss(u,Xs),v=nr,p=function(D,M){var G=Math.max(Ef(),D+M);return[G-D]},b=function(D){var M=l()+D;Kl(u,M)},x=function(D,M){return gv(D,u,M)};return{width:l,pixelWidth:l,getWidths:x,getCellDelta:v,singleColumnWidth:p,minCellWidth:Ef,setElementWidth:Kl,adjustTableWidth:b,isRelative:!1,label:"pixel"}},Mu=function(u,l){var v=ey().exec(l);return v!==null?Rm(u):Js(u)},ny=function(u){var l=zs(u);return l.fold(function(){return jc(u)},function(v){return Mu(u,v)})},Lf={getTableSize:ny,pixelSize:Js,percentageSize:Rm,noneSize:jc},o_=function(u,l,v,p,b,x){return{minRow:u,minCol:l,maxRow:v,maxCol:p,allCells:b,selectedCells:x}},gu=function(u,l){var v=u.grid.columns,p=u.grid.rows,b=p,x=v,D=0,M=0,G=[],ue=[];return oo(u.access,function(ke){if(G.push(ke),l(ke)){ue.push(ke);var Ct=ke.row,er=Ct+ke.rowspan-1,qt=ke.column,kt=qt+ke.colspan-1;Ct<b?b=Ct:er>D&&(D=er),qt<x?x=qt:kt>M&&(M=kt)}}),o_(b,x,D,M,G,ue)},t0=function(u,l,v){var p=u[v].element,b=et.fromTag("td");ni(b,et.fromTag("br"));var x=l?ni:vu;x(p,b)},ay=function(u,l,v,p){for(var b=l.grid.columns,x=l.grid.rows,D=0;D<x;D++)for(var M=!1,G=0;G<b;G++)if(!(D<v.minRow||D>v.maxRow||G<v.minCol||G>v.maxCol)){var ue=ha.getAt(l,D,G).filter(p).isNone();ue?t0(u,M,D):M=!0}},Ua=function(u,l,v,p){oo(v.columns,function(D){(D.column<l.minCol||D.column>l.maxCol)&&wc(D.element)});var b=an(Af(u,"tr"),function(D){return D.dom.childElementCount===0});Ft(b,wc),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&Ft(Af(u,"th,td"),function(D){Ao(D,"rowspan"),Ao(D,"colspan")}),Ao(u,wi),Ao(u,"data-snooker-col-series");var x=Lf.getTableSize(u);x.adjustTableWidth(p)},Fn=function(u,l,v,p){if(p.minCol===0&&l.grid.columns===p.maxCol+1)return 0;var b=gv(l,u,v),x=Z(b,function(ue,ke){return ue+ke},0),D=Z(b.slice(p.minCol,p.maxCol+1),function(ue,ke){return ue+ke},0),M=D/x*v.pixelWidth(),G=M-v.pixelWidth();return v.getCellDelta(G)},ls=function(u,l){var v=function(er){return pn(er.element,l)},p=io(u),b=Kh(p),x=Lf.getTableSize(u),D=ha.generate(b),M=gu(D,v),G="th:not("+l+"),td:not("+l+")",ue=Of(p,"th,td",function(er){return pn(er,G)});Ft(ue,wc),ay(b,D,M,v);var ke=ha.fromTable(u),Ct=Fn(u,ke,x,M);return Ua(p,M,D,Ct),p},oy=" ",Qs=function(u){return wa(u)==="img"?1:Xk(u).fold(function(){return w(u).length},function(l){return l.length})},i_=function(u){return Xk(u).filter(function(l){return l.trim().length!==0||l.indexOf(oy)>-1}).isSome()},bo=["img","br"],r0=function(u){var l=i_(u);return l||hn(bo,wa(u))},iy=function(u){return np(u,r0)},uy=function(u){return Yt(u,r0)},Yt=function(u,l){var v=function(p){for(var b=w(p),x=b.length-1;x>=0;x--){var D=b[x];if(l(D))return V.some(D);var M=v(D);if(M.isSome())return M}return V.none()};return v(u)},n0={scope:["row","col"]},a0=function(u){return function(){var l=et.fromTag("td",u.dom);return ni(l,et.fromTag("br",u.dom)),l}},_d=function(u){return function(){return et.fromTag("col",u.dom)}},hp=function(u){return function(){return et.fromTag("colgroup",u.dom)}},pv=function(u){return function(){return et.fromTag("tr",u.dom)}},Cd=function(u,l,v){var p=Ts(u,l);return oo(v,function(b,x){b===null?Ao(p,x):Pi(p,x,b)}),p},hv=function(u){return u},Pm=function(u,l,v){var p=iy(u);return p.map(function(b){var x=v.join(","),D=Ri(b,x,function(M){return ca(M,u)});return Un(D,function(M,G){var ue=Ks(G);return Ao(ue,"contenteditable"),ni(M,ue),ue},l)}).getOr(l)},ki=function(u,l){oo(n0,function(v,p){return qa(u,p).filter(function(b){return hn(v,b)}).each(function(b){return Pi(l,p,b)})})},sa=function(u,l,v){var p=function(D,M){gd(D.element,M),fu(M,"height"),D.colspan!==1&&fu(M,"width")},b=function(D){var M=et.fromTag(wa(D.element),l.dom),G=v.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),ue=G.length>0?Pm(D.element,M,G):M;return ni(ue,et.fromTag("br")),p(D,M),ki(D.element,M),u(D.element,M),M},x=function(D){var M=et.fromTag(wa(D.element),l.dom);return p(D,M),u(D.element,M),M};return{col:x,colgroup:hp(l),row:pv(l),cell:b,replace:Cd,colGap:_d(l),gap:a0(l)}},fs=function(u){return{col:_d(u),colgroup:hp(u),row:pv(u),cell:a0(u),replace:hv,colGap:_d(u),gap:a0(u)}},u_=function(u,l){var v=document,p=v.createElement("div");return p.innerHTML=u,w(et.fromDom(p))},Wc=function(u){return Ve(u,et.fromDom)},o0=function(u){return u.nodeName.toLowerCase()},Xl=function(u){return et.fromDom(u.getBody())},Hf=function(u){return u.getBoundingClientRect().width},Vf=function(u){return u.getBoundingClientRect().height},ds=function(u){return function(l){return ca(l,Xl(u))}},Sd=function(u){return u?u.replace(/px$/,""):""},Wi=function(u){return/^\d+(\.\d+)?$/.test(u)?u+"px":u},nc=function(u){Ao(u,"data-mce-style");var l=function(v){return Ao(v,"data-mce-style")};Ft(Df(u),l),Ft(hl(u),l),Ft(yc(u),l)},Yl=function(u,l){var v=u.dom.getStyle(l,"width")||u.dom.getAttrib(l,"width");return V.from(v).filter(K)},xd=function(u){return/^(\d+(\.\d+)?)%$/.test(u)},Bm=function(u){return/^(\d+(\.\d+)?)px$/.test(u)},yv=function(u){return et.fromDom(u.selection.getStart())},mn=function(u){return et.fromDom(u.selection.getEnd())},tu=function(u){return Yh(u.get(),rt([]),nr,At)},kl=function(u){var l=function(b,x){return qa(b,x).exists(function(D){return parseInt(D,10)>1})},v=function(b){return l(b,"rowspan")||l(b,"colspan")},p=tu(u);return p.length>0&&Zt(p,v)?V.some(p):V.none()},Zl=function(u,l,v){return Yh(l.get(),V.none,function(p){return p.length<=1?V.none():eu(u,v.firstSelectedSelector,v.lastSelectedSelector).map(function(b){return{bounds:b,cells:p}})},V.none)},yp="data-mce-selected",c_="td["+yp+"],th["+yp+"]",cy="["+yp+"]",Td="data-mce-first-selected",zd="td["+Td+"],th["+Td+"]",Mm="data-mce-last-selected",bp="td["+Mm+"],th["+Mm+"]",RS=cy,vs={selected:yp,selectedSelector:c_,firstSelected:Td,firstSelectedSelector:zd,lastSelected:Mm,lastSelectedSelector:bp},i0=function(u){return{element:u,mergable:V.none(),unmergable:V.none(),selection:[u]}},bv=function(u,l,v){return{element:v,mergable:Zl(l,u,vs),unmergable:kl(u),selection:tu(u)}},Ed=function(u,l,v){return{element:u,clipboard:l,generators:v}},u0=function(u,l,v,p){return{selection:tu(u),clipboard:v,generators:p}},Ad=function(u){return Vo(u).bind(function(l){return gi(l,vs.firstSelectedSelector)}).fold(rt(u),function(l){return l[0]})},s_=function(u){return function(l,v){var p=wa(l),b=p==="col"||p==="colgroup"?Ad(l):l;return ei(b,u,v)}},Xo=s_("th,td,caption"),pu=s_("th,td"),Nu=function(u){return tu(u)},l_=function(u,l){var v=pu(u),p=v.bind(function(b){return Vo(b)}).map(function(b){return yc(b)});return $c(v,p,function(b,x){return an(x,function(D){return E(Wc(D.dom.cells),function(M){return rs(M,l)==="1"||ca(M,b)})})}).getOr([])},sy=function(u){return Vo(u[0]).map(function(l){var v=ls(l,RS);return nc(v),[v]})},PS=function(u,l){return Ve(l,function(v){return u.selection.serializer.serialize(v.dom,{})}).join("")},f_=function(u){return Ve(u,function(l){return l.dom.innerText}).join("")},el=function(u,l,v){u.on("BeforeGetContent",function(p){var b=function(x){p.preventDefault(),sy(x).each(function(D){p.content=p.format==="text"?f_(D):PS(u,D)})};p.selection===!0&&Yh(l.get(),Je,b,Je)}),u.on("BeforeSetContent",function(p){if(p.selection===!0&&p.paste===!0){var b=Nu(l);Fe(b).each(function(x){Vo(x).each(function(D){var M=an(u_(p.content),function(er){return wa(er)!=="meta"}),G=Bo("table");if(M.length===1&&G(M[0])){p.preventDefault();var ue=et.fromDom(u.getDoc()),ke=fs(ue),Ct=Ed(x,M[0],ke);v.pasteCells(D,Ct).each(function(){u.focus()})}})})}})},BS=jl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),Nm=Oe({},BS),ly=function(u,l){return u.length===0?Nm.none():u.length===1?Nm.only(0):l===0?Nm.left(0,1):l===u.length-1?Nm.right(l-1,l):l>0&&l<u.length-1?Nm.middle(l-1,l,l+1):Nm.none()},MS=function(u,l,v,p,b){var x=u.slice(0),D=ly(u,l),M=rt(Ve(x,rt(0))),G=function(er){return p.singleColumnWidth(x[er],v)},ue=function(er,qt){return b.calcLeftEdgeDeltas(x,er,qt,v,p.minCellWidth(),p.isRelative)},ke=function(er,qt,kt){return b.calcMiddleDeltas(x,er,qt,kt,v,p.minCellWidth(),p.isRelative)},Ct=function(er,qt){return b.calcRightEdgeDeltas(x,er,qt,v,p.minCellWidth(),p.isRelative)};return D.fold(M,G,ue,ke,Ct)},d_=function(u,l,v){for(var p=0,b=u;b<l;b++)p+=v[b]!==void 0?v[b]:0;return p},c0=function(u,l){var v=ha.justCells(u);return Ve(v,function(p){var b=d_(p.column,p.column+p.colspan,l);return{element:p.element,width:b,colspan:p.colspan}})},s0=function(u,l){var v=ha.justColumns(u);return Ve(v,function(p,b){return{element:p.element,width:l[b],colspan:p.colspan}})},l0=function(u,l){var v=ha.justCells(u);return Ve(v,function(p){var b=d_(p.row,p.row+p.rowspan,l);return{element:p.element,height:b,rowspan:p.rowspan}})},NS=function(u,l){return Ve(u.all,function(v,p){return{element:v.element,height:l[p]}})},Od=function(u){return Un(u,function(l,v){return l+v},0)},Dd=function(u,l){return ha.hasColumns(u)?s0(u,l):c0(u,l)},fo=function(u,l,v){var p=Dd(u,l);Ft(p,function(b){v.setElementWidth(b.element,b.width)})},fy=function(u,l,v,p,b){var x=ha.fromTable(u),D=b.getCellDelta(l),M=b.getWidths(x,b),G=v===x.grid.columns-1,ue=p.clampTableDelta(M,v,D,b.minCellWidth(),G),ke=MS(M,v,ue,b,p),Ct=Ve(ke,function(er,qt){return er+M[qt]});fo(x,Ct,b),p.resizeTable(b.adjustTableWidth,ue,G)},_l=function(u,l,v,p){var b=ha.fromTable(u),x=DS(b,u,p),D=Ve(x,function(ke,Ct){return v===Ct?Math.max(l+ke,ri()):ke}),M=l0(b,D),G=NS(b,D);Ft(G,function(ke){bd(ke.element,ke.height)}),Ft(M,function(ke){bd(ke.element,ke.height)});var ue=Od(D);bd(u,ue)},v_=function(u,l,v,p,b){var x=ha.generate(l),D=p.getWidths(x,p),M=p.pixelWidth(),G=b.calcRedestributedWidths(D,M,v.pixelDelta,p.isRelative),ue=G.newSizes,ke=G.delta;fo(x,ue,p),p.adjustTableWidth(ke)},Cl=function(u,l,v,p){var b=ha.generate(l),x=p.getWidths(b,p);fo(b,x,p)},Jl=function(u){return Ve(u,rt(0))},Rd=function(u,l,v,p,b){return b(u.slice(0,l)).concat(p).concat(b(u.slice(v)))},dy=function(u){return function(l,v,p,b){if(u(p)){var x=Math.max(b,l[v]-Math.abs(p)),D=Math.abs(x-l[v]);return p>=0?D:-D}else return p}},wp=dy(function(u){return u<0}),vy=dy(Le),my=function(){var u=function(M,G,ue,ke,Ct){var er=wp(M,G,ke,Ct);return Rd(M,G,ue+1,[er,0],Jl)},l=function(M,G,ue,ke){var Ct=(100+ue)/100,er=Math.max(ke,(M[G]+ue)/Ct);return Ve(M,function(qt,kt){var Ar=kt===G?er:qt/Ct;return Ar-qt})},v=function(M,G,ue,ke,Ct,er){return er?l(M,G,ke,Ct):u(M,G,ue,ke,Ct)},p=function(M,G,ue,ke,Ct,er,qt){return v(M,ue,ke,Ct,er,qt)},b=function(M,G){return M(G)},x=function(M,G,ue,ke,Ct,er){if(er)return l(M,ue,ke,Ct);var qt=wp(M,ue,ke,Ct);return Jl(M.slice(0,ue)).concat([qt])},D=function(M,G,ue,ke){if(ke){var Ct=G+ue,er=Ct/G,qt=Ve(M,function(kt){return kt/er});return{delta:er*100-100,newSizes:qt}}else return{delta:ue,newSizes:M}};return{resizeTable:b,clampTableDelta:wp,calcLeftEdgeDeltas:v,calcMiddleDeltas:p,calcRightEdgeDeltas:x,calcRedestributedWidths:D}},wv=function(){var u=function(D,M,G,ue,ke){var Ct=ue>=0?G:M,er=vy(D,Ct,ue,ke);return Rd(D,M,G+1,[er,-er],Jl)},l=function(D,M,G,ue,ke,Ct){return u(D,G,ue,ke,Ct)},v=function(D,M,G){G&&D(M)},p=function(D,M,G,ue,ke,Ct){if(Ct)return Jl(D);var er=ue/D.length;return Ve(D,rt(er))},b=function(D,M,G,ue,ke){if(ke){if(G>=0)return G;var Ct=Z(D,function(er,qt){return er+qt-ue},0);return Math.max(-Ct,G)}else return wp(D,M,G,ue)},x=function(D,M,G,ue){return{delta:0,newSizes:D}};return{resizeTable:v,clampTableDelta:b,calcLeftEdgeDeltas:u,calcMiddleDeltas:l,calcRightEdgeDeltas:p,calcRedestributedWidths:x}},FS=function(u,l){var v=V.from(u.dom.documentElement).map(et.fromDom).getOr(u);return{parent:rt(v),view:rt(u),origin:rt(yo(0,0)),isResizable:l}},gy=function(u,l,v){var p=function(){return Ff(l)};return{parent:rt(l),view:rt(u),origin:p,isResizable:v}},Fm=function(u,l,v){return{parent:rt(l),view:rt(u),origin:rt(yo(0,0)),isResizable:v}},kp={only:FS,detached:gy,body:Fm},_p=jl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),f0=function(u,l,v){var p=v.substring(0,v.length-u.length),b=parseFloat(p);return p===b.toString()?l(b):_p.invalid(v)},Fi=function(u){return be(u,"%")?f0("%",_p.percent,u):be(u,"px")?f0("px",_p.pixels,u):_p.invalid(u)},kv=Oe(Oe({},_p),{from:Fi}),Ti=function(u,l){return Ve(u,function(v){var p=kv.from(v);return p.fold(function(){return v},function(b){var x=b/l*100;return x+"%"},function(b){return b+"%"})})},ac=function(u,l,v){var p=v/l;return Ve(u,function(b){var x=kv.from(b);return x.fold(function(){return b},function(D){return D*p+"px"},function(D){return D/100*v+"px"})})},_v=function(u,l){var v=u.fold(function(){return rt("")},function(p){var b=p/l;return rt(b+"px")},function(){var p=100/l;return rt(p+"%")});return Rt(l,v)},ms=function(u,l,v){return u.fold(function(){return l},function(p){return ac(l,v,p)},function(p){return Ti(l,v)})},py=function(u,l,v){var p=kv.from(v),b=Zt(u,function(x){return x==="0px"})?_v(p,u.length):ms(p,u,l);return m_(b)},Ql=function(u,l){return u.length===0?l:Un(u,function(v,p){return kv.from(p).fold(rt(0),nr,nr)+v},0)},Im=function(u,l){var v=Math.floor(u);return{value:v+l,remainder:u-v}},$m=function(u,l){return kv.from(u).fold(rt(u),function(v){return v+l+"px"},function(v){return v+l+"%"})},m_=function(u){if(u.length===0)return u;var l=Un(u,function(p,b){var x=kv.from(b).fold(function(){return{value:b,remainder:0}},function(D){return Im(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[x.value].concat(p.output),remainder:p.remainder+x.remainder}},{output:[],remainder:0}),v=l.output;return v.slice(0,v.length-1).concat([$m(v[v.length-1],Math.round(l.remainder))])},g_=kv.from,IS=function(u,l,v){Ft(l,function(p){var b=u.slice(p.column,p.colspan+p.column),x=Ql(b,Ef());li(p.element,"width",x+v)})},$S=function(u,l,v){Ft(l,function(p,b){var x=Ql([u[b]],Ef());li(p.element,"width",x+v)})},LS=function(u,l,v,p){Ft(v,function(b){var x=u.slice(b.row,b.rowspan+b.row),D=Ql(x,ri());li(b.element,"height",D+p)}),Ft(l,function(b,x){li(b.element,"height",u[x])})},p_=function(u){return g_(u).fold(rt("px"),rt("px"),rt("%"))},hy=function(u,l,v){var p=ha.fromTable(u),b=p.all,x=ha.justCells(p),D=ha.justColumns(p);l.each(function(M){var G=p_(M),ue=Xs(u),ke=pp(p,u),Ct=py(ke,ue,M);ha.hasColumns(p)?$S(Ct,D,G):IS(Ct,x,G),li(u,"width",M)}),v.each(function(M){var G=p_(M),ue=rc(u),ke=e0(p,u,W1),Ct=py(ke,ue,M);LS(Ct,b,x,G),li(u,"height",M)})},yy=Y1,hu=OS,by=ai,d0=function(u){var l=ha.fromTable(u);return l.grid},As=function(u){var l=[],v=function(x){if(x===void 0)throw new Error("Event bind error: undefined handler");l.push(x)},p=function(x){l=an(l,function(D){return D!==x})},b=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];var M={};Ft(u,function(G,ue){M[G]=x[ue]}),Ft(l,function(G){G(M)})};return{bind:v,unbind:p,trigger:b}},Io=function(u){var l=Bc(u,function(p){return{bind:p.bind,unbind:p.unbind}}),v=Bc(u,function(p){return p.trigger});return{registry:l,trigger:v}},gs=function(u,l){var v=null,p=function(){Ir(v)||(clearTimeout(v),v=null)},b=function(){for(var x=[],D=0;D<arguments.length;D++)x[D]=arguments[D];p(),v=setTimeout(function(){v=null,u.apply(null,x)},l)};return{cancel:p,throttle:b}},Pd=function(u){return u.slice(0).sort()},v0=function(u,l){throw new Error("All required keys ("+Pd(u).join(", ")+") were not specified. Specified keys were: "+Pd(l).join(", ")+".")},wy=function(u){throw new Error("Unsupported keys for object: "+Pd(u).join(", "))},h_=function(u,l){if(!ft(l))throw new Error("The "+u+" fields must be an array. Was: "+l+".");Ft(l,function(v){if(!gt(v))throw new Error("The value "+v+" in the "+u+" fields was not a string.")})},ga=function(u,l){throw new Error("All values need to be of type: "+l+". Keys ("+Pd(u).join(", ")+") were not.")},Lm=function(u){var l=Pd(u),v=$t(l,function(p,b){return b<l.length-1&&p===l[b+1]});v.each(function(p){throw new Error("The field: "+p+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},ky=function(u,l){return m0(u,l,{validate:kr,label:"function"})},m0=function(u,l,v){if(l.length===0)throw new Error("You must specify at least one required field.");return h_("required",l),Lm(l),function(p){var b=yi(p),x=Zt(l,function(M){return hn(b,M)});x||v0(l,b),u(l,b);var D=an(l,function(M){return!v.validate(p[M],M)});return D.length>0&&ga(D,v.label),p}},Ii=function(u,l){var v=an(l,function(p){return!hn(u,p)});v.length>0&&wy(v)},Os=function(u){return ky(Ii,u)},y_=Os(["compare","extract","mutate","sink"]),Cv=Os(["element","start","stop","destroy"]),Ro=Os(["forceDrop","drop","move","delayDrop"]),Sv=function(){var u=V.none(),l=function(){u=V.none()},v=function(x,D){var M=u.map(function(G){return x.compare(G,D)});return u=V.some(D),M},p=function(x,D){var M=D.extract(x);M.each(function(G){var ue=v(D,G);ue.each(function(ke){b.trigger.move(ke)})})},b=Io({move:As(["info"])});return{onEvent:p,reset:l,events:b.registry}},_y=function(){var u=Io({move:As(["info"])});return{onEvent:Je,reset:Je,events:u.registry}},Hm=function(){var u=_y(),l=Sv(),v=u,p=function(){v.reset(),v=l},b=function(){v.reset(),v=u},x=function(M,G){v.onEvent(M,G)},D=function(){return v===l};return{on:p,off:b,isOn:D,onEvent:x,events:l.events}},g0=function(u,l,v){var p=!1,b=Io({start:As([]),stop:As([])}),x=Hm(),D=function(){qt.stop(),x.isOn()&&(x.off(),b.trigger.stop())},M=gs(D,200),G=function(Ar){qt.start(Ar),x.on(),b.trigger.start()},ue=function(Ar){M.cancel(),x.onEvent(Ar,l)};x.events.move.bind(function(Ar){l.mutate(u,Ar.info)});var ke=function(){p=!0},Ct=function(){p=!1},er=function(Ar){return function(){for(var Mr=[],zn=0;zn<arguments.length;zn++)Mr[zn]=arguments[zn];p&&Ar.apply(null,Mr)}},qt=l.sink(Ro({forceDrop:D,drop:er(D),move:er(ue),delayDrop:er(M.throttle)}),v),kt=function(){qt.destroy()};return{element:qt.element,go:G,on:ke,off:Ct,destroy:kt,events:b.registry}},b_=function(u,l,v,p,b,x,D){return{target:u,x:l,y:v,stop:p,prevent:b,kill:x,raw:D}},Cp=function(u){var l=et.fromDom(ln(u).getOr(u.target)),v=function(){return u.stopPropagation()},p=function(){return u.preventDefault()},b=$e(p,v);return b_(l,u.clientX,u.clientY,v,p,b,u)},w_=function(u,l){return function(v){u(v)&&l(Cp(v))}},Uf=function(u,l,v,p,b){var x=w_(v,p);return u.dom.addEventListener(l,x,b),{unbind:or(p0,u,l,x,b)}},oc=function(u,l,v,p){return Uf(u,l,v,p,!1)},p0=function(u,l,v,p){u.dom.removeEventListener(l,v,p)},HS=Le,Sl=function(u,l,v){return oc(u,l,HS,v)},jf=Cp,Cy=function(u,l){var v=rs(u,l);return v===void 0||v===""?[]:v.split(" ")},VS=function(u,l,v){var p=Cy(u,l),b=p.concat([v]);return Pi(u,l,b.join(" ")),!0},US=function(u,l,v){var p=an(Cy(u,l),function(b){return b!==v});return p.length>0?Pi(u,l,p.join(" ")):Ao(u,l),!1},xv=function(u){return u.dom.classList!==void 0},Tv=function(u){return Cy(u,"class")},Sy=function(u,l){return VS(u,"class",l)},Ka=function(u,l){return US(u,"class",l)},$i=function(u,l){xv(u)?u.dom.classList.add(l):Sy(u,l)},ic=function(u){var l=xv(u)?u.dom.classList:Tv(u);l.length===0&&Ao(u,"class")},Sc=function(u,l){if(xv(u)){var v=u.dom.classList;v.remove(l)}else Ka(u,l);ic(u)},_o=function(u,l){return xv(u)&&u.dom.classList.contains(l)},Bd=function(u){var l=u.replace(/\./g,"-"),v=function(p){return l+"-"+p};return{resolve:v}},xy=Bd("ephox-dragster"),qi=xy.resolve,ef=function(u){var l=Oe({layerClass:qi("blocker")},u),v=et.fromTag("div");Pi(v,"role","presentation"),Hl(v,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),$i(v,qi("blocker")),$i(v,l.layerClass);var p=rt(v),b=function(){wc(v)};return{element:p,destroy:b}},jS=function(u,l){return yo(l.left-u.left,l.top-u.top)},WS=function(u){return V.some(yo(u.x,u.y))},Ty=function(u,l){u.mutate(l.left,l.top)},zy=function(u,l){var v=ef(l),p=Sl(v.element(),"mousedown",u.forceDrop),b=Sl(v.element(),"mouseup",u.drop),x=Sl(v.element(),"mousemove",u.move),D=Sl(v.element(),"mouseout",u.delayDrop),M=function(){v.destroy(),b.unbind(),x.unbind(),D.unbind(),p.unbind()},G=function(ke){ni(ke,v.element())},ue=function(){wc(v.element())};return Cv({element:v.element,start:G,stop:ue,destroy:M})},h0=y_({compare:jS,extract:WS,sink:zy,mutate:Ty}),y0=function(u,l){l===void 0&&(l={});var v=l.mode!==void 0?l.mode:h0;return g0(u,v,l)},zv=function(u){return ei(u,"[contenteditable]")},Sp=function(u,l){return l===void 0&&(l=!1),!re().browser.isIE()&&ta(u)?u.dom.isContentEditable:zv(u).fold(rt(l),function(v){return b0(v)==="true"})},b0=function(u){return u.dom.contentEditable},w0=Bd("ephox-snooker"),Vm=w0.resolve,yu=function(){var u=Io({drag:As(["xDelta","yDelta"])}),l=function(v,p){u.trigger.drag(v,p)};return{mutate:l,events:u.registry}},qc=function(){var u=Io({drag:As(["xDelta","yDelta","target"])}),l=V.none(),v=yu();v.events.drag.bind(function(x){l.each(function(D){u.trigger.drag(x.xDelta,x.yDelta,D)})});var p=function(x){l=V.some(x)},b=function(){return l};return{assign:p,get:b,mutate:v.mutate,events:u.registry}},xp=function(u,l,v,p,b){var x=et.fromTag("div");return Hl(x,{position:"absolute",left:l-p/2+"px",top:v+"px",height:b+"px",width:p+"px"}),bi(x,{"data-column":u,role:"presentation"}),x},Li=function(u,l,v,p,b){var x=et.fromTag("div");return Hl(x,{position:"absolute",left:l+"px",top:v-b/2+"px",height:b+"px",width:p+"px"}),bi(x,{"data-row":u,role:"presentation"}),x},Ey=Vm("resizer-bar"),Wf=Vm("resizer-rows"),k0=Vm("resizer-cols"),_0=7,k_=function(u,l){return ir(u.all,function(v,p){return l(v.element)?[p]:[]})},C0=function(u,l){var v=[];return Rt(u.grid.columns,function(p){var b=ha.getColumnAt(u,p).map(function(x){return x.element});b.forall(l)&&v.push(p)}),an(v,function(p){var b=ha.filterItems(u,function(x){return x.column===p});return Zt(b,function(x){return l(x.element)})})},Tp=function(u){var l=Fc(u.parent(),"."+Ey);Ft(l,wc)},Ay=function(u,l,v){var p=u.origin();Ft(l,function(b){b.each(function(x){var D=v(p,x);$i(D,Ey),ni(u.parent(),D)})})},__=function(u,l,v,p){Ay(u,l,function(b,x){var D=xp(x.col,x.x-b.left,v.top-b.top,_0,p);return $i(D,k0),D})},qS=function(u,l,v,p){Ay(u,l,function(b,x){var D=Li(x.row,v.left-b.left,x.y-b.top,p,_0);return $i(D,Wf),D})},Fu=function(u,l,v,p,b){var x=Ff(v),D=l.isResizable,M=p.length>0?W1.positions(p,v):[],G=M.length>0?k_(u,D):[],ue=an(M,function(qt,kt){return E(G,function(Ar){return kt===Ar})});qS(l,ue,x,Bu(v));var ke=b.length>0?zm.positions(b,v):[],Ct=ke.length>0?C0(u,D):[],er=an(ke,function(qt,kt){return E(Ct,function(Ar){return kt===Ar})});__(l,er,x,_c(v))},Gi=function(u,l){if(Tp(u),u.isResizable(l)){var v=ha.fromTable(l),p=yd(v),b=fv(v);Fu(v,u,l,p,b)}},uc=function(u,l){var v=Fc(u.parent(),"."+Ey);Ft(v,l)},cc=function(u){uc(u,function(l){li(l,"display","none")})},xc=function(u){uc(u,function(l){li(l,"display","block")})},zi=function(u){return _o(u,Wf)},Oy=function(u){return _o(u,k0)},Dy=Vm("resizer-bar-dragging"),S0=function(u){var l=qc(),v=y0(l,{}),p=V.none(),b=function(kt,Ar){return V.from(rs(kt,Ar))};l.events.drag.bind(function(kt){b(kt.target,"data-row").each(function(Ar){var Mr=zf(kt.target,"top");li(kt.target,"top",Mr+kt.yDelta+"px")}),b(kt.target,"data-column").each(function(Ar){var Mr=zf(kt.target,"left");li(kt.target,"left",Mr+kt.xDelta+"px")})});var x=function(kt,Ar){var Mr=zf(kt,Ar),zn=xs(kt,"data-initial-"+Ar,0);return Mr-zn};v.events.stop.bind(function(){l.get().each(function(kt){p.each(function(Ar){b(kt,"data-row").each(function(Mr){var zn=x(kt,"top");Ao(kt,"data-initial-top"),qt.trigger.adjustHeight(Ar,zn,parseInt(Mr,10))}),b(kt,"data-column").each(function(Mr){var zn=x(kt,"left");Ao(kt,"data-initial-left"),qt.trigger.adjustWidth(Ar,zn,parseInt(Mr,10))}),Gi(u,Ar)})})});var D=function(kt,Ar){qt.trigger.startAdjust(),l.assign(kt),Pi(kt,"data-initial-"+Ar,zf(kt,Ar)),$i(kt,Dy),li(kt,"opacity","0.2"),v.go(u.parent())},M=Sl(u.parent(),"mousedown",function(kt){zi(kt.target)&&D(kt.target,"top"),Oy(kt.target)&&D(kt.target,"left")}),G=function(kt){return ca(kt,u.view())},ue=function(kt){return ei(kt,"table",G).filter(Sp)},ke=Sl(u.view(),"mouseover",function(kt){ue(kt.target).fold(function(){ta(kt.target)&&Tp(u)},function(Ar){p=V.some(Ar),Gi(u,Ar)})}),Ct=function(){M.unbind(),ke.unbind(),v.destroy(),Tp(u)},er=function(kt){Gi(u,kt)},qt=Io({adjustHeight:As(["table","delta","row"]),adjustWidth:As(["table","delta","column"]),startAdjust:As([])});return{destroy:Ct,refresh:er,on:v.on,off:v.off,hideBars:or(cc,u),showBars:or(xc,u),events:qt.registry}},Ev=function(u,l,v){var p=W1,b=zm,x=S0(u),D=Io({beforeResize:As(["table","type"]),afterResize:As(["table","type"]),startDrag:As([])});return x.events.adjustHeight.bind(function(M){var G=M.table;D.trigger.beforeResize(G,"row");var ue=p.delta(M.delta,G);_l(G,ue,M.row,p),D.trigger.afterResize(G,"row")}),x.events.startAdjust.bind(function(M){D.trigger.startDrag()}),x.events.adjustWidth.bind(function(M){var G=M.table;D.trigger.beforeResize(G,"col");var ue=b.delta(M.delta,G),ke=v(G);fy(G,ue,M.column,l,ke),D.trigger.afterResize(G,"col")}),{on:x.on,off:x.off,hideBars:x.hideBars,showBars:x.showBars,destroy:x.destroy,events:D.registry}},Md={create:Ev},Ry=function(u,l){return u.fire("newrow",{node:l})},Py=function(u,l){return u.fire("newcell",{node:l})},By=function(u,l,v,p,b){u.fire("ObjectResizeStart",{target:l,width:v,height:p,origin:b})},Um=function(u,l,v,p,b){u.fire("ObjectResized",{target:l,width:v,height:p,origin:b})},jm=function(u,l,v,p,b){u.fire("TableSelectionChange",{cells:l,start:v,finish:p,otherCells:b})},C_=function(u){u.fire("TableSelectionClear")},tf=function(u,l,v){u.fire("TableModified",Oe(Oe({},v),{table:l}))},Av={structure:!1,style:!0},jo={structure:!0,style:!1},GS={structure:!0,style:!0},KS="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",My={"border-collapse":"collapse",width:"100%"},XS=Rt(5,function(u){var l=u+1+"px";return{title:l,value:l}}),S_=Ve(["Solid","Dotted","Dashed","Double","Groove","Ridge","Inset","Outset","None","Hidden"],function(u){return{title:u,value:u.toLowerCase()}}),Br=function(u){var l;if(qf(u)){var v=u.dom,p=(l=v.getParent(u.selection.getStart(),v.isBlock))!==null&&l!==void 0?l:u.getBody(),b=Ga(et.fromDom(p));return Oe(Oe({},My),{width:b+"px"})}else return Wm(u)?Et(My,function(x,D){return D!=="width"}):My},YS={border:"1"},Hi="preservetable",x0=function(u){return u.getParam("table_sizing_mode","auto")},Ov=function(u){return u.getParam("table_responsive_width")},x_=function(u){return u.getParam("table_border_widths",XS,"array")},Uu=function(u){return u.getParam("table_border_styles",S_,"array")},zp=function(u){return u.getParam("table_default_attributes",YS,"object")},Ny=function(u){return u.getParam("table_default_styles",Br(u),"object")},Ep=function(u){return u.getParam("table_resize_bars",!0,"boolean")},xl=function(u){return u.getParam("table_tab_navigation",!0,"boolean")},Ap=function(u){return u.getParam("table_cell_advtab",!0,"boolean")},Op=function(u){return u.getParam("table_row_advtab",!0,"boolean")},sc=function(u){return u.getParam("table_advtab",!0,"boolean")},Tl=function(u){return u.getParam("table_appearance_options",!0,"boolean")},T_=function(u){return u.getParam("table_grid",!0,"boolean")},ju=function(u){return u.getParam("table_style_by_css",!1,"boolean")},rf=function(u){return u.getParam("table_cell_class_list",[],"array")},Nd=function(u){return u.getParam("table_row_class_list",[],"array")},Dp=function(u){return u.getParam("table_class_list",[],"array")},pt=function(u){return x0(u)==="relative"||Ov(u)===!0},qf=function(u){return x0(u)==="fixed"||Ov(u)===!1},Wm=function(u){return x0(u)==="responsive"},ZS=function(u){return u.getParam("table_toolbar",KS)},Fy=function(u){return u.getParam("table_use_colgroups",!1,"boolean")},tl=function(u){var l="section",v=u.getParam("table_header_type",l,"string"),p=["section","cells","sectionCells","auto"];return hn(p,v)?v:l},Iy=function(u){var l=["preservetable","resizetable"],v=u.getParam("table_column_resizing",Hi,"string");return $t(l,function(p){return p===v}).getOr(Hi)},T0=function(u){return Iy(u)==="preservetable"},z0=function(u){return Iy(u)==="resizetable"},$y=function(u){var l=u.getParam("table_clone_elements");return gt(l)?V.some(l.split(/[ ,]/)):Array.isArray(l)?V.some(l):V.none()},E0=function(u){var l=u.getParam("object_resizing",!0);return gt(l)?l==="table":l},A0=function(u){return u.getParam("table_background_color_map",[],"array")},O0=function(u){return u.getParam("table_border_color_map",[],"array")},D0=function(u,l){return pt(u)?Lf.percentageSize(l):qf(u)?Lf.pixelSize(l):Lf.getTableSize(l)},Dv=function(u){Ao(u,"width")},z_=function(u){var l=Dm(u);hy(u,V.some(l),V.none()),Dv(u)},JS=function(u){var l=AS(u);hy(u,V.some(l),V.none()),Dv(u)},QS=function(u){fu(u,"width");var l=hl(u),v=l.length>0?l:Df(u);Ft(v,function(p){fu(p,"width"),Dv(p)}),Dv(u)},qm=z_,Gm=JS,Ly=QS,R0=function(u){var l=ha.fromTable(u);ha.hasColumns(l)||Ft(Df(u),function(v){var p=gl(v,"width");li(v,"width",p),Ao(v,"width")})},Km=function(){var u=et.fromTag("div");return Hl(u,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),ni(jn(),u),u},P0=function(u,l){return u.inline?kp.body(Xl(u),Km(),l):kp.only(et.fromDom(u.getDoc()),l)},fi=function(u,l){u.inline&&wc(l.parent())},Rp="bar-",pi=function(u){return rs(u,"data-mce-resize")!=="false"},Hy=function(u){var l=V.none(),v=V.none(),p=V.none(),b,x,D=function(kt){return kt.nodeName==="TABLE"},M=function(){return v},G=function(){return p.getOr(kp.only(et.fromDom(u.getBody()),pi))},ue=function(kt){return D0(u,kt)},ke=function(){return T0(u)?wv():my()},Ct=function(kt){return d0(kt).columns},er=function(kt,Ar,Mr){var zn=be(Ar,"e");if(x===""&&qm(kt),Mr!==b&&x!==""){li(kt,"width",x);var Ma=ke(),Rn=ue(kt),ea=T0(u)||zn?Ct(kt)-1:0;fy(kt,Mr-b,ea,Ma,Rn)}else if(xd(x)){var za=parseFloat(x.replace("%","")),_a=Mr*za/b;li(kt,"width",_a+"%")}Bm(x)&&R0(kt)},qt=function(){v.each(function(kt){kt.destroy()}),p.each(function(kt){fi(u,kt)})};return u.on("init",function(){var kt=P0(u,pi);if(p=V.some(kt),E0(u)&&Ep(u)){var Ar=ke(),Mr=Md.create(kt,Ar,ue);Mr.on(),Mr.events.startDrag.bind(function(zn){l=V.some(u.selection.getRng())}),Mr.events.beforeResize.bind(function(zn){var Ma=zn.table.dom;By(u,Ma,Hf(Ma),Vf(Ma),Rp+zn.type)}),Mr.events.afterResize.bind(function(zn){var Ma=zn.table,Rn=Ma.dom;nc(Ma),l.each(function(ea){u.selection.setRng(ea),u.focus()}),Um(u,Rn,Hf(Rn),Vf(Rn),Rp+zn.type),u.undoManager.add()}),v=V.some(Mr)}}),u.on("ObjectResizeStart",function(kt){var Ar=kt.target;if(D(Ar)){var Mr=et.fromDom(Ar);Ft(u.dom.select(".mce-clonedresizable"),function(zn){u.dom.addClass(zn,"mce-"+Iy(u)+"-columns")}),!hu(Mr)&&qf(u)?Gm(Mr):!yy(Mr)&&pt(u)&&qm(Mr),by(Mr)&&Gn(kt.origin,Rp)&&qm(Mr),b=kt.width,x=Wm(u)?"":Yl(u,Ar).getOr("")}}),u.on("ObjectResized",function(kt){var Ar=kt.target;if(D(Ar)){var Mr=et.fromDom(Ar),zn=kt.origin;Gn(zn,"corner-")&&er(Mr,zn,kt.width),nc(Mr),tf(u,Mr.dom,Av)}}),u.on("SwitchMode",function(){M().each(function(kt){u.mode.isReadOnly()?kt.hideBars():kt.showBars()})}),{lazyResize:M,lazyWire:G,destroy:qt}},Rv=function(u,l){return{element:u,offset:l}},B0=function(u,l,v){return u.property().isText(l)&&u.property().getText(l).trim().length===0||u.property().isComment(l)?v(l).bind(function(p){return B0(u,p,v).orThunk(function(){return V.some(p)})}):V.none()},Pp=function(u,l){if(u.property().isText(l))return u.property().getText(l).length;var v=u.property().children(l);return v.length},M0=function(u,l){var v=B0(u,l,u.query().prevSibling).getOr(l);if(u.property().isText(v))return Rv(v,Pp(u,v));var p=u.property().children(v);return p.length>0?M0(u,p[p.length-1]):Rv(v,Pp(u,v))},E_=M0,ex=cp(),A_=function(u){return E_(ex,u)},tx=function(u,l){var v=Bi(u,"colspan");if(v===1){var p=Am(u);p.each(function(b){var x=b.value/2;Om(u,x,b.unit),Om(l,x,b.unit)})}},Vy=Bo("th"),Bp=function(u){return Zt(u,function(l){return Vy(l.element)})},rx=function(u,l){return u&&l?"sectionCells":u?"section":"cells"},O_=function(u){var l=u.section==="thead",v=ml(N0(u.cells),"th");return l||v?{type:"header",subType:rx(l,v)}:u.section==="tfoot"?{type:"footer"}:{type:"body"}},N0=function(u){var l=an(u,function(v){return Vy(v.element)});return l.length===0?V.some("td"):l.length===u.length?V.some("th"):V.none()},nx=function(u){var l=Ve(u,function(x){return O_(x).type}),v=hn(l,"header"),p=hn(l,"footer");if(!v&&!p)return V.some("body");var b=hn(l,"body");return v&&!b&&!p?V.some("header"):!v&&!b&&p?V.some("footer"):V.none()},ax=function(u){return Ne(u.all,function(l){var v=O_(l);return v.type==="header"?V.from(v.subType):V.none()})},Uy=function(u,l,v){return Wo(v(u.element,l),!0,u.isLocked)},F0=function(u,l){return u.section!==l?wn(u.element,u.cells,l,u.isNew):u},bu=function(){return{transformRow:F0,transformCell:function(u,l,v){var p=v(u.element,l),b=wa(p)!=="td"?_S(p,"td"):p;return Wo(b,u.isNew,u.isLocked)}}},Xm=function(){return{transformRow:F0,transformCell:Uy}},Ym=function(){return{transformRow:function(u,l){var v=l==="thead"?"tbody":l;return F0(u,v)},transformCell:Uy}},D_=function(){return{transformRow:nr,transformCell:Uy}},ox=function(u,l){var v=ha.fromTable(u),p=ax(v).getOr(l);switch(p){case"section":return bu();case"sectionCells":return Xm();case"cells":return Ym()}},Mp={getTableSectionType:ox,section:bu,sectionCells:Xm,cells:Ym,fallback:D_},Np=function(u,l,v,p){v===p?Ao(u,l):Pi(u,l,v)},Pv=function(u,l,v){gr(va(u,l)).fold(function(){return vu(u,v)},function(p){return ko(p,v)})},jy=function(u,l){var v=Xn(u,l).getOrThunk(function(){var p=et.fromTag(l,Nc(u).dom);return l==="thead"?Pv(u,"caption,colgroup",p):l==="colgroup"?Pv(u,"caption",p):ni(u,p),p});return ip(v),v},Fp=function(u,l){var v=[],p=[],b=function(qt){return Ve(qt,function(kt){kt.isNew&&v.push(kt.element);var Ar=kt.element;return ip(Ar),Ft(kt.cells,function(Mr){Mr.isNew&&p.push(Mr.element),Np(Mr.element,"colspan",Mr.colspan,1),Np(Mr.element,"rowspan",Mr.rowspan,1),ni(Ar,Mr.element)}),Ar})},x=function(qt){return ir(qt,function(kt){return Ve(kt.cells,function(Ar){return Np(Ar.element,"span",Ar.colspan,1),Ar.element})})},D=function(qt,kt){var Ar=jy(u,kt),Mr=kt==="colgroup"?x:b,zn=Mr(qt);yl(Ar,zn)},M=function(qt){Xn(u,qt).each(wc)},G=function(qt,kt){qt.length>0?D(qt,kt):M(kt)},ue=[],ke=[],Ct=[],er=[];return Ft(l,function(qt){switch(qt.section){case"thead":ue.push(qt);break;case"tbody":ke.push(qt);break;case"tfoot":Ct.push(qt);break;case"colgroup":er.push(qt);break}}),G(er,"colgroup"),G(ue,"thead"),G(ke,"tbody"),G(Ct,"tfoot"),{newRows:v,newCells:p}},I0=function(u){return Ve(u,function(l){var v=Ks(l.element);return Ft(l.cells,function(p){var b=io(p.element);Np(b,"colspan",p.colspan,1),Np(b,"rowspan",p.rowspan,1),ni(v,b)}),v})},ix=function(u,l){return Ve(u,function(v){return ec(v,l)})},nf=function(u,l){return u[l]},Wy=function(u,l){if(u.length===0)return 0;var v=u[0],p=Ye(u,function(b){return!l(v.element,b.element)});return p.getOr(u.length)},ux=function(u,l,v,p){var b=nf(u,l),x=b.section==="colgroup",D=Wy(b.cells.slice(v),p),M=x?1:Wy(ix(u.slice(l),v),p);return{colspan:D,rowspan:M}},Fd=function(u,l){var v=Ve(u,function(b){return Ve(b.cells,zr)}),p=function(b,x,D,M){for(var G=b;G<b+D;G++)for(var ue=x;ue<x+M;ue++)v[G][ue]=!0};return Ve(u,function(b,x){var D=ir(b.cells,function(M,G){if(v[x][G]===!1){var ue=ux(u,x,G,l);return p(x,G,ue.rowspan,ue.colspan),[ra(M.element,ue.rowspan,ue.colspan,M.isNew)]}else return[]});return Eu(b.element,D,b.section,b.isNew)})},Id=function(u,l,v){var p=[];Ft(u.colgroups,function(ke){for(var Ct=[],er=0;er<u.grid.columns;er++){var qt=ha.getColumnAt(u,er).map(function(kt){return Wo(kt.element,v,!1)}).getOrThunk(function(){return Wo(l.colGap(),!0,!1)});Ct.push(qt)}p.push(wn(ke.element,Ct,"colgroup",v))});for(var b=0;b<u.grid.rows;b++){for(var x=[],D=0;D<u.grid.columns;D++){var M=ha.getAt(u,b,D).map(function(ke){return Wo(ke.element,v,ke.isLocked)}).getOrThunk(function(){return Wo(l.gap(),!0,!1)});x.push(M)}var G=u.all[b],ue=wn(G.element,x,G.section,v);p.push(ue)}return p},cx=function(u,l){return Id(u,l,!1)},qy=function(u){return Fd(u,ca)},Gy=function(u,l){return Ne(u.all,function(v){return $t(v.cells,function(p){return ca(l,p.element)})})},Ky=function(u,l,v){var p=Ve(l.selection,function(x){return pl(x).bind(function(D){return Gy(u,D)}).filter(v)}),b=Si(p);return po(b.length>0,b)},ru=function(u,l,v,p,b){return function(x,D,M,G,ue){var ke=ha.fromTable(D),Ct=V.from(ue==null?void 0:ue.section).getOrThunk(Mp.fallback),er=l(ke,M).map(function(qt){var kt=cx(ke,G),Ar=u(kt,qt,ca,b(G),Ct),Mr=du(Ar.grid),zn=qy(Ar.grid);return{info:qt,grid:zn,cursor:Ar.cursor,lockedColumns:Mr}});return er.bind(function(qt){var kt=Fp(D,qt.grid),Ar=V.from(ue==null?void 0:ue.sizing).getOrThunk(function(){return Lf.getTableSize(D)}),Mr=V.from(ue==null?void 0:ue.resize).getOrThunk(wv);return v(D,qt.grid,qt.info,{sizing:Ar,resize:Mr,section:Ct}),p(D),Gi(x,D),Ao(D,wi),qt.lockedColumns.length>0&&Pi(D,wi,qt.lockedColumns.join(",")),V.some({cursor:qt.cursor,newRows:kt.newRows,newCells:kt.newCells})})}},R_=function(u,l){return pl(l.element).bind(function(v){return Gy(u,v).map(function(p){var b=Oe(Oe({},p),{generators:l.generators,clipboard:l.clipboard});return b})})},$0=function(u,l){return Ky(u,l,Le).map(function(v){return{cells:v,generators:l.generators,clipboard:l.clipboard}})},P_=function(u,l){return l.mergable},B_=function(u,l){return l.unmergable},zl=function(u,l){return Ky(u,l,Le)},Gf=function(u,l){return Ky(u,l,function(v){return!v.isLocked})},M_=function(u,l){return Gy(u,l).exists(function(v){return!v.isLocked})},N_=function(u,l){return Zt(l,function(v){return M_(u,v)})},L0=function(u,l){return P_(u,l).filter(function(v){return N_(u,v.cells)})},Xy=function(u,l){return B_(u,l).filter(function(v){return N_(u,v)})},F_=function(u,l,v,p){var b=mi(u).rows;if(b.length===0)return u;for(var x=l.startRow;x<=l.finishRow;x++)for(var D=l.startCol;D<=l.finishCol;D++){var M=b[x],G=ec(M,D).isLocked;Vl(M,D,Wo(p(),!1,G))}return u},Zm=function(u,l,v,p){for(var b=mi(u).rows,x=!0,D=0;D<b.length;D++)for(var M=0;M<as(b[0]);M++){var G=b[D],ue=ec(G,M),ke=ue.element,Ct=v(ke,l);Ct===!0&&x===!1?Vl(G,M,Wo(p(),!0,ue.isLocked)):Ct===!0&&(x=!1)}return u},sx=function(u,l){return Z(u,function(v,p){return E(v,function(b){return l(b.element,p.element)})?v:v.concat([p])},[])},Ip=function(u,l,v,p){return l>0&&l<u[0].cells.length&&Ft(u,function(b){var x=b.cells[l-1],D=b.cells[l],M=v(D.element,x.element);M&&Vl(b,l,Wo(p(),!0,D.isLocked))}),u},lx=function(u,l,v,p){var b=mi(u).rows;if(l>0&&l<b.length){var x=b[l-1].cells,D=sx(x,v);Ft(D,function(M){for(var G=V.none(),ue=l;ue<b.length;ue++)for(var ke=function(er){var qt=b[ue],kt=ec(qt,er),Ar=v(kt.element,M.element);Ar&&(G.isNone()&&(G=V.some(p())),G.each(function(Mr){Vl(qt,er,Wo(Mr,!0,kt.isLocked))}))},Ct=0;Ct<as(b[0]);Ct++)ke(Ct)})}return u},Jm=function(u){var l=function(Ct){return Jm(u)},v=function(Ct){return Jm(u)},p=function(Ct){return Jm(Ct(u))},b=function(Ct){return Jm(u)},x=function(Ct){Ct(u)},D=function(Ct){return Ct(u)},M=function(Ct,er){return er(u)},G=function(Ct){return Ct(u)},ue=function(Ct){return Ct(u)},ke=function(){return V.some(u)};return{isValue:Le,isError:zr,getOr:rt(u),getOrThunk:rt(u),getOrDie:rt(u),or:l,orThunk:v,fold:M,map:p,mapError:b,each:x,bind:D,exists:G,forall:ue,toOptional:ke}},Bv=function(u){var l=function(ue){return ue()},v=function(){return Nr(String(u))()},p=nr,b=function(ue){return ue()},x=function(ue){return Bv(u)},D=function(ue){return Bv(ue(u))},M=function(ue){return Bv(u)},G=function(ue,ke){return ue(u)};return{isValue:zr,isError:Le,getOr:nr,getOrThunk:l,getOrDie:v,or:p,orThunk:b,fold:G,map:x,mapError:D,each:Je,bind:M,exists:zr,forall:Le,toOptional:V.none}},H0=function(u,l){return u.fold(function(){return Bv(l)},Jm)},I_={value:Jm,error:Bv,fromOption:H0},fx=function(u,l,v){if(u.row>=l.length||u.column>as(l[0]))return I_.error("invalid start address out of table bounds, row: "+u.row+", column: "+u.column);var p=l.slice(u.row),b=p[0].cells.slice(u.column),x=as(v[0]),D=v.length;return I_.value({rowDelta:p.length-D,colDelta:b.length-x})},$_=function(u,l){var v=as(u[0]),p=as(l[0]);return{rowDelta:0,colDelta:v-p}},L_=function(u,l){var v=u.length,p=l.length;return{rowDelta:v-p,colDelta:0}},V0=function(u,l,v,p){var b=l.section==="colgroup"?v.col:v.cell;return Rt(u,function(x){return Wo(b(),!0,p(x))})},dx=function(u,l,v,p){var b=u[u.length-1];return u.concat(Rt(l,function(){var x=b.section==="colgroup"?v.colgroup:v.row,D=Mi(b,x,nr),M=V0(D.cells.length,D,v,function(G){return j(p,G.toString())});return Yn(D,M)}))},Yy=function(u,l,v,p){return Ve(u,function(b){var x=V0(l,b,v,zr);return Rf(b,p,x)})},vx=function(u,l,v){return Ve(u,function(p){return Z(v,function(b,x){var D=V0(1,p,l,Le)[0];return Pf(b,x,D)},p)})},$p=function(u,l,v){var p=l.colDelta<0?Yy:nr,b=l.rowDelta<0?dx:nr,x=du(u),D=as(u[0]),M=E(x,function(ke){return ke===D-1}),G=p(u,Math.abs(l.colDelta),v,M?D-1:D),ue=du(G);return b(G,Math.abs(l.rowDelta),v,Zr(ue,Le))},mx=function(u,l,v,p){var b=ec(u[l],v),x=or(p,b.element),D=u[l];return u.length>1&&as(D)>1&&(v>0&&x(Ru(D,v-1))||v<D.cells.length-1&&x(Ru(D,v+1))||l>0&&x(Ru(u[l-1],v))||l<u.length-1&&x(Ru(u[l+1],v)))},gx=function(u,l,v,p,b,x){for(var D=u.row,M=u.column,G=v.length,ue=as(v[0]),ke=D+G,Ct=M+ue+x.length,er=Zr(x,Le),qt=D;qt<ke;qt++)for(var kt=0,Ar=M;Ar<Ct;Ar++){if(er[Ar]){kt++;continue}mx(l,qt,Ar,b)&&Zm(l,Ru(l[qt],Ar),b,p.cell);var Mr=Ar-M-kt,zn=ec(v[qt-D],Mr),Ma=zn.element,Rn=p.replace(Ma);Vl(l[qt],Ar,Wo(Rn,!0,zn.isLocked))}return l},px=function(u,l,v){var p=as(l[0]),b=mi(l).cols.length+u.row,x=Rt(p-u.column,function(M){return M+u.column}),D=$t(x,function(M){return Zt(v,function(G){return G!==M})}).getOr(p-1);return{row:b,column:D}},Zy=function(u,l,v){return an(v,function(p){return p>=u.column&&p<=as(l[0])+u.column})},hx=function(u,l,v,p,b){var x=du(l),D=px(u,l,x),M=mi(v).rows,G=Zy(D,M,x),ue=fx(D,l,M);return ue.map(function(ke){var Ct=Oe(Oe({},ke),{colDelta:ke.colDelta-G.length}),er=$p(l,Ct,p),qt=du(er),kt=Zy(D,M,qt);return gx(D,er,M,p,b,kt)})},Qm=function(u,l,v,p,b){Ip(l,u,b,p.cell);var x=L_(v,l),D=$p(v,x,p),M=L_(l,D),G=$p(l,M,p);return Ve(G,function(ue,ke){return Rf(ue,u,D[ke].cells)})},H_=function(u,l,v,p,b){lx(l,u,b,p.cell);var x=du(l),D=$_(l,v),M=Oe(Oe({},D),{colDelta:D.colDelta-x.length}),G=$p(l,M,p),ue=mi(G),ke=ue.cols,Ct=ue.rows,er=du(G),qt=$_(v,l),kt=Oe(Oe({},qt),{colDelta:qt.colDelta+er.length}),Ar=vx(v,p,er),Mr=$p(Ar,kt,p);return ke.concat(Ct.slice(0,u)).concat(Mr).concat(Ct.slice(u,Ct.length))},yx=function(u,l,v,p){return Mi(u,function(b){return p(b,v)},l)},U0=function(u,l,v,p,b){var x=mi(u),D=x.rows,M=x.cols,G=D.slice(0,l),ue=D.slice(l),ke=yx(D[v],function(Ct,er){var qt=l>0&&l<D.length&&p(Ru(D[l-1],er),Ru(D[l],er)),kt=qt?ec(D[l],er):Wo(b(Ct.element,p),!0,Ct.isLocked);return kt},p,b);return M.concat(G).concat([ke]).concat(ue)},V_=function(u,l,v,p,b,x,D){if(v==="colgroup"||!p){var M=ec(u,b);return Wo(D(M.element,x),!0,!1)}else return ec(u,l)},j0=function(u,l,v,p,b){return Ve(u,function(x){var D=l>0&&l<as(x)&&p(Ru(x,l-1),Ru(x,l)),M=V_(x,l,x.section,D,v,p,b);return Pf(x,l,M)})},U_=function(u,l){return ir(u,function(v){var p=v.cells,b=Un(l,function(x,D){return D>=0&&D<x.length?x.slice(0,D).concat(x.slice(D+1)):x},p);return b.length>0?[wn(v.element,b,v.section,v.isNew)]:[]})},j_=function(u,l,v){var p=mi(u),b=p.rows,x=p.cols;return x.concat(b.slice(0,l)).concat(b.slice(v+1))},eg=function(u,l,v,p){return Ru(u[l],v)!==void 0&&l>0&&p(Ru(u[l-1],v),Ru(u[l],v))},W0=function(u,l,v){return l>0&&v(Ru(u,l-1),Ru(u,l))},q0=function(u,l,v,p){return eg(u,l,v,p)||W0(u[l],v,p)},bx=function(u,l){var v=Zt(l,nr)&&Bp(u.cells);return v?Le:function(p,b,x){var D=wa(p.element);return!(D==="th"&&l[x])}},wx=function(u,l){var v=Zt(l,nr)&&Bp(u);return v?Le:function(p,b,x){var D=wa(p.element);return!(D==="th"&&l[b])}},G0=function(u,l,v,p){var b=function(M){return M==="row"?Gh(l):cv(l)},x=function(M){return b(M)?M+"group":M};if(u)return Vy(l)?x(v):null;if(p&&Vy(l)){var D=v==="row"?"col":"row";return x(D)}else return null},kx=function(u,l){return function(v,p,b){return V.some(G0(u,v.element,"col",l[b]))}},W_=function(u,l){return function(v,p){return V.some(G0(u,v.element,"row",l[p]))}},$d=function(u,l,v){return Wo(v(u.element,l),!0,u.isLocked)},tg=function(u,l,v,p,b,x,D){var M=function(G){return E(l,function(ue){return v(G.element,ue.element)})};return Ve(u,function(G,ue){return ns(G,function(ke,Ct){if(M(ke)){var er=D(ke,ue,Ct)?b(ke,v,p):ke;return x(er,ue,Ct).each(function(qt){xf(er.element,{scope:V.from(qt)})}),er}else return ke})})},q_=function(u,l,v){return ir(u,function(p,b){return q0(u,b,l,v)?[]:[ec(p,l)]})},_x=function(u,l,v){var p=u[l];return ir(p.cells,function(b,x){return q0(u,l,x,v)?[]:[b]})},G_=function(u,l,v,p,b){var x=mi(u).rows,D=ir(l,function(ke){return q_(x,ke,p)}),M=Ve(u,function(ke){return Bp(ke.cells)}),G=wx(D,M),ue=W_(v,M);return tg(u,D,p,b,$d,ue,G)},Cx=function(u,l,v,p,b,x,D){var M=mi(u),G=M.cols,ue=M.rows,ke=ue[l[0]],Ct=ir(l,function(zn){return _x(ue,zn,b)}),er=Ve(ke.cells,function(zn,Ma){return Bp(q_(ue,Ma,b))}),qt=ut([],ue);Ft(l,function(zn){qt[zn]=D.transformRow(ue[zn],v)});var kt=G.concat(qt),Ar=bx(ke,er),Mr=kx(p,er);return tg(kt,Ct,b,x,D.transformCell,Mr,Ar)},K0=function(u,l,v,p){var b=mi(u).rows,x=Ve(l,function(D){return ec(b[D.row],D.column)});return tg(u,x,v,p,$d,V.none,Le)},rg=function(u){var l=function(v,p){var b=E(v,function(x){return x.column===p.column});return b?v:v.concat([p])};return Z(u,l,[]).sort(function(v,p){return v.column-p.column})},Wu=Bo("col"),X0=Bo("colgroup"),ng=function(u){return wa(u)==="tr"||X0(u)},Mv=function(u){var l=xs(u,"colspan",1),v=xs(u,"rowspan",1);return{element:u,colspan:l,rowspan:v}},Jy=function(u,l){l===void 0&&(l=Mv);var v=function(M){return Wu(M.element)?u.col(M):u.cell(M)},p=function(M){return X0(M.element)?u.colgroup(M):u.row(M)},b=function(M){if(ng(M))return p({element:M});var G=v(l(M));return x=V.some({item:M,replacement:G}),G},x=V.none(),D=function(M,G){return x.fold(function(){return b(M)},function(ue){return G(M,ue.item)?ue.replacement:b(M)})};return{getOrInit:D}},Sx=function(u){return function(l){var v=[],p=function(D,M){return $t(v,function(G){return M(G.item,D)})},b=function(D){var M=u==="td"?{scope:null}:{},G=l.replace(D,u,M);return v.push({item:D,sub:G}),G},x=function(D,M){return ng(D)||Wu(D)?D:p(D,M).fold(function(){return b(D)},function(G){return M(D,G.item)?G.sub:b(D)})};return{replaceOrInit:x}}},K_=function(u){return qa(u,"scope").map(function(l){return l.substr(0,3)})},Y0=function(u){var l=function(p){var b=K_(p);return b.each(function(x){return Pi(p,"scope",x)}),function(){var x=u.cell({element:p,colspan:1,rowspan:1});return fu(x,"width"),fu(p,"width"),b.each(function(D){return Pi(x,"scope",D)}),x}},v=function(p){var b=function(){var x=Si(Ve(p,K_));if(x.length===0)return V.none();var D=x[0],M=["row","col"],G=E(x,function(ue){return ue!==D&&hn(M,ue)});return G?V.none():V.from(D)};return fu(p[0],"width"),b().fold(function(){return Ao(p[0],"scope")},function(x){return Pi(p[0],"scope",x+"group")}),rt(p[0])};return{unmerge:l,merge:v}},Tc={modification:Jy,transform:Sx,merging:Y0},Lp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],xx=function(u,l){var v=u.property().name(l);return hn(["ol","ul"],v)},Nv=function(u,l){var v=u.property().name(l);return hn(Lp,v)},Ld=function(u,l){return hn(["br","img","hr","input"],u.property().name(l))},ag=cp(),Hd=function(u){return Nv(ag,u)},El=function(u){return xx(ag,u)},Al=function(u){return Ld(ag,u)},Qy=function(u){var l=function(G){return wa(G)==="br"},v=function(G){return Zt(G,function(ue){return l(ue)||Di(ue)&&Xh(ue).trim().length===0})},p=function(G){return wa(G)==="li"||Go(G,El).isSome()},b=function(G){return S(G).map(function(ue){return Hd(ue)?!0:Al(ue)?wa(ue)!=="img":!1}).getOr(!1)},x=function(G){return uy(G).bind(function(ue){var ke=b(ue);return Mo(ue).map(function(Ct){return ke===!0||p(Ct)||l(ue)||Hd(Ct)&&!ca(G,Ct)?[]:[et.fromTag("br")]})}).getOr([])},D=function(){var G=ir(u,function(ue){var ke=w(ue);return v(ke)?[]:ke.concat(x(ue))});return G.length===0?[et.fromTag("br")]:G},M=D();ip(u[0]),yl(u[0],M)},eb=function(u){return Sp(u,!0)},Z0=function(u){var l=Df(u);l.length===0&&wc(u)},og=function(u,l){return{grid:u,cursor:l}},ig=function(u){return Ne(u,function(l){return Ne(l.cells,function(v){var p=v.element;return po(eb(p),p)})})},ug=function(u,l,v){var p,b,x=mi(u).rows;return V.from((b=(p=x[l])===null||p===void 0?void 0:p.cells[v])===null||b===void 0?void 0:b.element).filter(eb).orThunk(function(){return ig(x)})},Iu=function(u,l,v){var p=ug(u,l,v);return og(u,p)},cg=function(u){var l=function(v,p){var b=E(v,function(x){return x.row===p.row});return b?v:v.concat([p])};return Z(u,l,[]).sort(function(v,p){return v.row-p.row})},sg=function(u,l,v,p){var b=l[0].row,x=cg(l),D=Un(x,function(M,G){var ue=U0(M.grid,b,G.row+M.delta,v,p.getOrInit);return{grid:ue,delta:M.delta+1}},{grid:u,delta:0}).grid;return Iu(D,b,l[0].column)},tb=function(u,l,v,p){var b=cg(l),x=b[b.length-1],D=x.row+x.rowspan,M=Un(b,function(G,ue){return U0(G,D,ue.row,v,p.getOrInit)},u);return Iu(M,D,l[0].column)},Tx=function(u,l,v,p){var b=l.details,x=rg(b),D=x[0].column,M=Un(x,function(G,ue){var ke=j0(G.grid,D,ue.column+G.delta,v,p.getOrInit);return{grid:ke,delta:G.delta+1}},{grid:u,delta:0}).grid;return Iu(M,b[0].row,D)},J0=function(u,l,v,p){var b=l.details,x=b[b.length-1],D=x.column+x.colspan,M=rg(b),G=Un(M,function(ue,ke){return j0(ue,D,ke.column,v,p.getOrInit)},u);return Iu(G,b[0].row,D)},rb=function(u,l,v,p){var b=rg(l),x=Ve(b,function(M){return M.column}),D=G_(u,x,!0,v,p.replaceOrInit);return Iu(D,l[0].row,l[0].column)},wu=function(u,l,v,p){var b=K0(u,l,v,p.replaceOrInit);return Iu(b,l[0].row,l[0].column)},zx=function(u,l,v,p){var b=rg(l),x=Ve(b,function(M){return M.column}),D=G_(u,x,!1,v,p.replaceOrInit);return Iu(D,l[0].row,l[0].column)},af=function(u,l,v,p){var b=K0(u,l,v,p.replaceOrInit);return Iu(b,l[0].row,l[0].column)},nb=function(u,l){return function(v,p,b,x,D){var M=cg(p),G=Ve(M,function(ke){return ke.row}),ue=Cx(v,G,u,l,b,x.replaceOrInit,D);return Iu(ue,p[0].row,p[0].column)}},Q0=nb("thead",!0),lg=nb("tbody",!1),ew=nb("tfoot",!1),Hp=function(u,l,v,p){var b=rg(l.details),x=U_(u,Ve(b,function(M){return M.column})),D=x.length>0?x[0].cells.length-1:0;return Iu(x,b[0].row,Math.min(b[0].column,D))},Ex=function(u,l,v,p){var b=cg(l),x=j_(u,b[0].row,b[b.length-1].row),D=x.length>0?x.length-1:0;return Iu(x,Math.min(l[0].row,D),l[0].column)},X_=function(u,l,v,p){var b=l.cells;Qy(b);var x=F_(u,l.bounds,v,p.merge(b));return og(x,V.from(b[0]))},Y_=function(u,l,v,p){var b=function(D,M){return Zm(D,M,v,p.unmerge(M))},x=Un(l,b,u);return og(x,V.from(l[0]))},Ax=function(u,l,v,p){var b=function(G,ue){var ke=ha.fromTable(G);return Id(ke,ue,!0)},x=b(l.clipboard,l.generators),D=yn(l.row,l.column),M=hx(D,u,x,l.generators,v);return M.fold(function(){return og(u,V.some(l.element))},function(G){return Iu(G,l.row,l.column)})},fg=function(u,l,v){var p=ap(u,v.section),b=ha.generate(p);return Id(b,l,!0)},di=function(u,l,v,p){var b=mi(u).rows,x=l.cells[0].column,D=b[l.cells[0].row],M=fg(l.clipboard,l.generators,D),G=Qm(x,u,M,l.generators,v);return Iu(G,l.cells[0].row,l.cells[0].column)},ab=function(u,l,v,p){var b=mi(u).rows,x=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,D=b[l.cells[0].row],M=fg(l.clipboard,l.generators,D),G=Qm(x,u,M,l.generators,v);return Iu(G,l.cells[0].row,l.cells[0].column)},ob=function(u,l,v,p){var b=mi(u).rows,x=l.cells[0].row,D=b[x],M=fg(l.clipboard,l.generators,D),G=H_(x,u,M,l.generators,v);return Iu(G,l.cells[0].row,l.cells[0].column)},tw=function(u,l,v,p){var b=mi(u).rows,x=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,D=b[l.cells[0].row],M=fg(l.clipboard,l.generators,D),G=H_(x,u,M,l.generators,v);return Iu(G,l.cells[0].row,l.cells[0].column)},Z_=function(u,l){var v=ha.fromTable(u),p=zl(v,l);return p.bind(function(b){var x=b[b.length-1],D=b[0].column,M=x.column+x.colspan,G=un(Ve(v.all,function(ue){return an(ue.cells,function(ke){return ke.column>=D&&ke.column<M})}));return N0(G)}).getOr("")},rw=function(u,l){var v=ha.fromTable(u),p=zl(v,l);return p.bind(N0).getOr("")},Fv=function(u,l){var v=ha.fromTable(u),p=zl(v,l);return p.bind(function(b){var x=b[b.length-1],D=b[0].row,M=x.row+x.rowspan,G=v.all.slice(D,M);return nx(G)}).getOr("")},ib=function(u,l,v,p){return Cl(u,l,v,p.sizing)},zc=function(u,l,v,p){return v_(u,l,v,p.sizing,p.resize)},Ol=function(u,l){return E(l,function(v){return v.column===0&&v.isLocked})},ub=function(u,l){return E(l,function(v){return v.column+v.colspan>=u.grid.columns&&v.isLocked})},Kf=function(u,l){var v=fv(u),p=rg(l);return Z(p,function(b,x){var D=v[x.column],M=D.map(Bu).getOr(0);return b+M},0)},rl=function(u){return function(l,v){return zl(l,v).filter(function(p){var b=u?Ol:ub;return!b(l,p)}).map(function(p){return{details:p,pixelDelta:Kf(l,p)}})}},Dl=function(u,l){return Gf(u,l).map(function(v){return{details:v,pixelDelta:-Kf(u,v)}})},qu=function(u){return function(l,v){return $0(l,v).filter(function(p){var b=u?Ol:ub;return!b(l,p.cells)})}},Ds=Tc.transform("th"),dg=Tc.transform("td"),of=ru(sg,zl,Je,Je,Tc.modification),Iv=ru(tb,zl,Je,Je,Tc.modification),J_=ru(Tx,rl(!0),zc,Je,Tc.modification),Q_=ru(J0,rl(!1),zc,Je,Tc.modification),Ox=ru(Hp,Dl,zc,Z0,Tc.modification),Dx=ru(Ex,zl,Je,Z0,Tc.modification),e2=ru(rb,Gf,Je,Je,Ds),t2=ru(zx,Gf,Je,Je,dg),r2=ru(Q0,Gf,Je,Je,Ds),Rx=ru(lg,Gf,Je,Je,dg),n2=ru(ew,Gf,Je,Je,dg),Px=ru(wu,Gf,Je,Je,Ds),a2=ru(af,Gf,Je,Je,dg),o2=ru(X_,L0,ib,Je,Tc.merging),nw=ru(Y_,Xy,ib,Je,Tc.merging),i2=ru(Ax,R_,ib,Je,Tc.modification),Bx=ru(di,qu(!0),Je,Je,Tc.modification),Pa=ru(ab,qu(!1),Je,Je,Tc.modification),$v=ru(ob,$0,Je,Je,Tc.modification),vg=ru(tw,$0,Je,Je,Tc.modification),aw=Z_,Mx=rw,Ec=Fv,Nx=function(u,l,v){var p=function(Cu){return wa(Xl(Cu))==="table"},b=function(Cu){return p(u)===!1||d0(Cu).rows>1},x=function(Cu){return p(u)===!1||d0(Cu).columns>1},D=$y(u),M=z0(u)?Je:tx,G=function(Cu){switch(tl(u)){case"section":return Mp.section();case"sectionCells":return Mp.sectionCells();case"cells":return Mp.cells();default:return Mp.getTableSectionType(Cu,"section")}},ue=function(Cu,vh){return vh.cursor.fold(function(){var Qd=Df(Cu);return Fe(Qd).filter(ta).map(function(Pl){l.clear(Cu);var Fs=u.dom.createRng();return Fs.selectNode(Pl.dom),u.selection.setRng(Fs),Pi(Pl,"data-mce-selected","1"),Fs})},function(Qd){var Pl=A_(Qd),Fs=u.dom.createRng();return Fs.setStart(Pl.element.dom,Pl.offset),Fs.setEnd(Pl.element.dom,Pl.offset),u.selection.setRng(Fs),l.clear(Cu),V.some(Fs)})},ke=function(Cu,vh,Qd,Pl,Fs){return function(il,mh,tm){tm===void 0&&(tm=!1),nc(il);var gh=Pl(),rm=et.fromDom(u.getDoc()),Bl=sa(Qd,rm,D),Rg={sizing:D0(u,il),resize:z0(u)?my():wv(),section:G(il)};return vh(il)?Cu(gh,il,mh,Bl,Rg).bind(function(qb){Ft(qb.newRows,function(ph){Ry(u,ph.dom)}),Ft(qb.newCells,function(ph){Py(u,ph.dom)});var kC=ue(il,qb);return ta(il)&&(nc(il),tm||tf(u,il.dom,Fs)),kC.map(function(ph){return{rng:ph,effect:Fs}})}):V.none()}},Ct=ke(Dx,b,Je,v,jo),er=ke(Ox,x,Je,v,jo),qt=ke(of,Le,Je,v,jo),kt=ke(Iv,Le,Je,v,jo),Ar=ke(J_,Le,M,v,jo),Mr=ke(Q_,Le,M,v,jo),zn=ke(o2,Le,Je,v,jo),Ma=ke(nw,Le,Je,v,jo),Rn=ke(Bx,Le,Je,v,jo),ea=ke(Pa,Le,Je,v,jo),za=ke($v,Le,Je,v,jo),_a=ke(vg,Le,Je,v,jo),Ei=ke(i2,Le,Je,v,GS),au=ke(Px,Le,Je,v,jo),fc=ke(a2,Le,Je,v,jo),Ia=ke(e2,Le,Je,v,jo),oa=ke(t2,Le,Je,v,jo),Da=ke(r2,Le,Je,v,jo),uo=ke(Rx,Le,Je,v,jo),oi=ke(n2,Le,Je,v,jo),gf=Mx,lo=aw,Ns=Ec;return{deleteRow:Ct,deleteColumn:er,insertRowsBefore:qt,insertRowsAfter:kt,insertColumnsBefore:Ar,insertColumnsAfter:Mr,mergeCells:zn,unmergeCells:Ma,pasteColsBefore:Rn,pasteColsAfter:ea,pasteRowsBefore:za,pasteRowsAfter:_a,pasteCells:Ei,makeCellsHeader:au,unmakeCellsHeader:fc,makeColumnsHeader:Ia,unmakeColumnsHeader:oa,makeRowsHeader:Da,makeRowsBody:uo,makeRowsFooter:oi,getTableRowType:Ns,getTableCellType:gf,getTableColType:lo}},Lv={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},Vd=function(){return et.fromTag("th")},cb=function(){return et.fromTag("td")},sb=function(){return et.fromTag("col")},Fx=function(u,l,v,p){for(var b=et.fromTag("tr"),x=0;x<u;x++){var D=p<l||x<v?Vd():cb();x<v&&Pi(D,"scope","row"),p<l&&Pi(D,"scope","col"),ni(D,et.fromTag("br")),ni(b,D)}return b},u2=function(u){var l=et.fromTag("colgroup");return Rt(u,function(){return ni(l,sb())}),l},lb=function(u,l,v,p){return Rt(u,function(b){return Fx(l,v,p,b)})},ow=function(u,l,v,p,b,x){x===void 0&&(x=Lv);var D=et.fromTag("table"),M=b!=="cells";Hl(D,x.styles),bi(D,x.attributes),x.colGroups&&ni(D,u2(l));var G=Math.min(u,v);if(M&&v>0){var ue=et.fromTag("thead");ni(D,ue);var ke=b==="sectionCells"?G:0,Ct=lb(v,l,ke,p);yl(ue,Ct)}var er=et.fromTag("tbody");ni(D,er);var qt=M?u-G:u,kt=M?0:v,Ar=lb(qt,l,kt,p);return yl(er,Ar),D},mg=function(u){return u.dom.innerHTML},fb=function(u){var l=et.fromTag("div"),v=et.fromDom(u.dom.cloneNode(!0));return ni(l,v),mg(l)},Ix=function(u,l){u.selection.select(l.dom,!0),u.selection.collapse(!0)},uf=function(u,l){Ic(l,"td,th").each(or(Ix,u))},iw=function(u,l){Ft(Fc(l,"tr"),function(v){Ry(u,v.dom),Ft(Fc(v,"th,td"),function(p){Py(u,p.dom)})})},uw=function(u){return gt(u)&&u.indexOf("%")!==-1},gg=function(u,l,v,p,b){var x=Ny(u),D={styles:x,attributes:zp(u),colGroups:Fy(u)};return u.undoManager.ignore(function(){var M=ow(v,l,b,p,tl(u),D);Pi(M,"data-mce-id","__mce");var G=fb(M);u.insertContent(G),u.addVisual()}),Ic(Xl(u),'table[data-mce-id="__mce"]').map(function(M){return qf(u)?Gm(M):Wm(u)?Ly(M):(pt(u)||uw(x.width))&&qm(M),nc(M),Ao(M,"data-mce-id"),iw(u,M),uf(u,M),M.dom}).getOr(null)},cw=function(u,l,v,p,b){p===void 0&&(p={});var x=function(G){return Ot(G)&&G>0};if(x(l)&&x(v)){var D=p.headerRows||1,M=p.headerColumns||0;return gg(u,v,l,M,D)}else return console.error(b),null},Vp=function(u){return function(){return u().fold(function(){return[]},function(l){return Ve(l,function(v){return v.dom})})}},c2=function(u){return function(l){var v=l.length>0?V.some(Wc(l)):V.none();u(v)}},$x=function(u){return function(l,v,p){p===void 0&&(p={});var b=cw(u,v,l,p,"Invalid values for insertTable - rows and columns values are required to insert a table.");return u.undoManager.add(),b}},cf=function(u,l,v,p){return{insertTable:$x(u),setClipboardRows:c2(l.setRows),getClipboardRows:Vp(l.getRows),setClipboardCols:c2(l.setColumns),getClipboardCols:Vp(l.getColumns),resizeHandler:v,selectionTargets:p}},Gc=function(u,l,v){var p=xs(u,l,1);v===1||p<=1?Ao(u,l):Pi(u,l,Math.min(v,p))},ku=function(u,l,v){if(ha.hasColumns(u)){var p=an(ha.justColumns(u),function(D){return D.column>=l&&D.column<v}),b=Ve(p,function(D){var M=io(D.element);return Gc(M,"span",v-l),M}),x=et.fromTag("colgroup");return yl(x,b),[x]}else return[]},Lx=function(u,l,v){return Ve(u.all,function(p){var b=an(p.cells,function(M){return M.column>=l&&M.column<v}),x=Ve(b,function(M){var G=io(M.element);return Gc(G,"colspan",v-l),G}),D=et.fromTag("tr");return yl(D,x),D})},sw=function(u,l){var v=ha.fromTable(u),p=Gf(v,l);return p.map(function(b){var x=b[b.length-1],D=b[0].column,M=x.column+x.colspan,G=ku(v,D,M),ue=Lx(v,D,M);return ut(ut([],G,!0),ue)})},pg=function(u,l,v){var p=ha.fromTable(u),b=zl(p,l);return b.bind(function(x){var D=Id(p,v,!1),M=mi(D).rows,G=M.slice(x[0].row,x[x.length-1].row+x[x.length-1].rowspan),ue=ir(G,function(Ct){var er=an(Ct.cells,function(qt){return!qt.isLocked});return er.length>0?[Oe(Oe({},Ct),{cells:er})]:[]}),ke=qy(ue);return po(ke.length>0,ke)}).map(function(x){return I0(x)})},lw=tinymce.util.Tools.resolve("tinymce.util.Tools"),Up=function(u,l,v){var p=u.select("td,th",l),b,x=function(D,M){for(var G=0;G<M.length;G++){var ue=u.getStyle(M[G],v);if(typeof D>"u"&&(D=ue),D!==ue)return""}return D};return x(b,p)},fw=function(u,l,v){v&&u.formatter.apply("align"+v,{},l)},Hx=function(u,l,v){v&&u.formatter.apply("valign"+v,{},l)},Ur=function(u,l){lw.each("left center right".split(" "),function(v){u.formatter.remove("align"+v,{},l)})},Vi=function(u,l){lw.each("top middle bottom".split(" "),function(v){u.formatter.remove("valign"+v,{},l)})},hg=[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}],nu=function(u){return{value:u}},Rs=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,dw=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,jp=function(u){return Rs.test(u)||dw.test(u)},db=function(u){return Pr(u,"#").toUpperCase()},vb=function(u){return jp(u)?V.some({value:db(u)}):V.none()},mb=function(u){var l=u.toString(16);return(l.length===1?"0"+l:l).toUpperCase()},Ud=function(u){var l=mb(u.red)+mb(u.green)+mb(u.blue);return nu(l)},Wp=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,vw=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,mw=function(u,l,v,p){return{red:u,green:l,blue:v,alpha:p}},gw=function(u,l,v,p){var b=parseInt(u,10),x=parseInt(l,10),D=parseInt(v,10),M=parseFloat(p);return mw(b,x,D,M)},Vx=function(u){if(u==="transparent")return V.some(mw(0,0,0,0));var l=Wp.exec(u);if(l!==null)return V.some(gw(l[1],l[2],l[3],"1"));var v=vw.exec(u);return v!==null?V.some(gw(v[1],v[2],v[3],v[4])):V.none()},s2=function(u){return vb(u).orThunk(function(){return Vx(u).map(Ud)}).getOrThunk(function(){var l=document.createElement("canvas");l.height=1,l.width=1;var v=l.getContext("2d");v.clearRect(0,0,l.width,l.height),v.fillStyle="#FFFFFF",v.fillStyle=u,v.fillRect(0,0,1,1);var p=v.getImageData(0,0,1,1).data,b=p[0],x=p[1],D=p[2],M=p[3];return Ud(mw(b,x,D,M))})},Xf=function(u){var l=u,v=function(){return l},p=function(b){l=b};return{get:v,set:p}},sf=function(u){var l=Xf(V.none()),v=function(){return l.get().each(u)},p=function(){v(),l.set(V.none())},b=function(){return l.get().isSome()},x=function(){return l.get()},D=function(M){v(),l.set(V.some(M))};return{clear:p,isSet:b,get:x,set:D}},Hv=function(){return sf(function(u){return u.unbind()})},yg=function(){var u=sf(Je),l=function(v){return u.get().each(v)};return Oe(Oe({},u),{on:l})},pw=function(u,l,v,p){return function(b){var x=Hv(),D=Ee(p),M=function(){var G=Nu(l),ue=function(ke){return u.formatter.match(v,{value:p},ke.dom,D)};D?(b.setActive(!E(G,ue)),x.set(u.formatter.formatChanged(v,function(ke){return b.setActive(!ke)},!0))):(b.setActive(Zt(G,ue)),x.set(u.formatter.formatChanged(v,b.setActive,!1,{value:p})))};return u.initialized?M():u.on("init",M),x.clear}},gb=function(u){return he(u,"menu")},lf=function(u){return Ve(u,function(l){var v=l.text||l.title;return gb(l)?{text:v,items:lf(l.menu)}:{text:v,value:l.value}})},nl=function(u,l,v,p,b){return Ve(v,function(x){var D=x.text||x.title;return gb(x)?{type:"nestedmenuitem",text:D,getSubmenuItems:function(){return nl(u,l,x.menu,p,b)}}:{text:D,type:"togglemenuitem",onAction:function(){return b(x.value)},onSetup:pw(u,l,p,x.value)}})},jd=function(u,l){return function(v){var p;u.execCommand("mceTableApplyCellStyle",!1,(p={},p[l]=v,p))}},Wd=function(u){return ir(u,function(l){return gb(l)?[Oe(Oe({},l),{menu:Wd(l.menu)})]:K(l.value)?[l]:[]})},Vv=function(u,l,v,p,b){return function(x){return x(nl(u,l,v,p,b))}},bg=function(u,l,v){var p=Ve(l,function(b){return{text:b.title,value:"#"+s2(b.value).value,type:"choiceitem"}});return[{type:"fancymenuitem",fancytype:"colorswatch",initData:{colors:p.length>0?p:void 0,allowCustomColors:!1},onAction:function(b){var x,D=b.value==="remove"?"":b.value;u.execCommand("mceTableApplyCellStyle",!1,(x={},x[v]=D,x))}}]},hw=function(u){return function(){var l=u.queryCommandValue("mceTableRowType"),v=l==="header"?"body":"header";u.execCommand("mceTableRowType",!1,{type:v})}},yw=function(u){return function(){var l=u.queryCommandValue("mceTableColType"),v=l==="th"?"td":"th";u.execCommand("mceTableColType",!1,{type:v})}},bw=function(u){var l=lf(rf(u));return l.length>0?V.some({name:"class",type:"listbox",label:"Class",items:l}):V.none()},pb=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"Horizontal align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"Vertical align",items:hg}],_u=function(u){return pb.concat(bw(u).toArray())},ps=function(u,l){var v=[{text:"Select...",value:""}],p=[{name:"borderstyle",type:"listbox",label:"Border style",items:v.concat(lf(Uu(u)))},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],b={name:"borderwidth",type:"input",label:"Border width"},x=l==="cell"?[b].concat(p):p;return{title:"Advanced",name:"advanced",items:x}},Ps=function(u){return function(l,v){var p=l.dom,b=function(M,G){(!u||G)&&p.setAttrib(v,M,G)},x=function(M,G){(!u||G)&&p.setStyle(v,M,G)},D=function(M,G){(!u||G)&&(G===""?l.formatter.remove(M,{value:null},v,!0):l.formatter.apply(M,{value:G},v))};return{setAttrib:b,setStyle:x,setFormat:D}}},ff={normal:Ps(!1),ifTruthy:Ps(!0)},wg=function(u){return function(l){return Gn(l,"rgb")?u.toHex(l):l}},hb=function(u,l){var v=et.fromDom(l);return{borderwidth:Qu(v,"border-width").getOr(""),borderstyle:Qu(v,"border-style").getOr(""),bordercolor:Qu(v,"border-color").map(wg(u)).getOr(""),backgroundcolor:Qu(v,"background-color").map(wg(u)).getOr("")}},qd=function(u){var l=u[0],v=u.slice(1);return Ft(v,function(p){Ft(yi(l),function(b){oo(p,function(x,D){var M=l[b];M!==""&&b===D&&M!==x&&(l[b]="")})})}),l},Uv=function(u,l,v,p){return $t(u,function(b){return!Xr(v.formatter.matchNode(p,l+b))}).getOr("")},jv=or(Uv,["left","center","right"],"align"),Ux=or(Uv,["top","middle","bottom"],"valign"),ww=function(u,l){var v=Ny(u),p=zp(u),b=function(ke){return{borderstyle:da(v,"border-style").getOr(""),bordercolor:wg(ke)(da(v,"border-color").getOr("")),backgroundcolor:wg(ke)(da(v,"background-color").getOr(""))}},x={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var ke=v["border-width"];return ju(u)&&ke?{border:ke}:da(p,"border").fold(function(){return{}},function(Ct){return{border:Ct}})},M=l?b(u.dom):{},G=function(){var ke=da(v,"border-spacing").or(da(p,"cellspacing")).fold(function(){return{}},function(er){return{cellspacing:er}}),Ct=da(v,"border-padding").or(da(p,"cellpadding")).fold(function(){return{}},function(er){return{cellpadding:er}});return Oe(Oe({},ke),Ct)},ue=Oe(Oe(Oe(Oe(Oe(Oe({},x),v),p),M),D()),G());return ue},l2=function(u){return Vo(et.fromDom(u)).map(function(l){var v={selection:Wc(u.cells)};return Ec(l,v)}).getOr("")},f2=function(u,l,v){var p=function(M,G){var ue=Qu(et.fromDom(G),"border-width");return ju(u)&&ue.isSome()?ue.getOr(""):M.getAttrib(G,"border")||Up(u.dom,G,"border-width")||Up(u.dom,G,"border")},b=u.dom,x=ju(u)?b.getStyle(l,"border-spacing")||b.getAttrib(l,"cellspacing"):b.getAttrib(l,"cellspacing")||b.getStyle(l,"border-spacing"),D=ju(u)?Up(b,l,"padding")||b.getAttrib(l,"cellpadding"):b.getAttrib(l,"cellpadding")||Up(b,l,"padding");return Oe({width:b.getStyle(l,"width")||b.getAttrib(l,"width"),height:b.getStyle(l,"height")||b.getAttrib(l,"height"),cellspacing:x,cellpadding:D,border:p(b,l),caption:!!b.select("caption",l)[0],class:b.getAttrib(l,"class",""),align:jv(u,l)},v?hb(b,l):{})},kw=function(u,l,v){var p=u.dom;return Oe({height:p.getStyle(l,"height")||p.getAttrib(l,"height"),class:p.getAttrib(l,"class",""),type:l2(l),align:jv(u,l)},v?hb(p,l):{})},_w=function(u,l,v,p){var b=u.dom,x=p.getOr(l),D=function(M,G){return b.getStyle(M,G)||b.getAttrib(M,G)};return Oe({width:D(x,"width"),height:D(l,"height"),scope:b.getAttrib(l,"scope"),celltype:o0(l),class:b.getAttrib(l,"class",""),halign:jv(u,l),valign:Ux(u,l)},v?hb(b,l):{})},vo=function(u,l){var v=ha.fromTable(u),p=ha.justCells(v),b=an(p,function(x){return E(l,function(D){return ca(x.element,D)})});return Ve(b,function(x){return{element:x.element.dom,column:ha.getColumnAt(v,x.column).map(function(D){return D.element.dom})}})},df=function(u,l,v){u.setAttrib("scope",v.scope),u.setAttrib("class",v.class),u.setStyle("height",Wi(v.height)),l.setStyle("width",Wi(v.width))},d2=function(u,l){u.setFormat("tablecellbackgroundcolor",l.backgroundcolor),u.setFormat("tablecellbordercolor",l.bordercolor),u.setFormat("tablecellborderstyle",l.borderstyle),u.setFormat("tablecellborderwidth",Wi(l.borderwidth))},v2=function(u,l,v){var p=l.length===1;Ft(l,function(b){var x=b.element,D=p?ff.normal(u,x):ff.ifTruthy(u,x),M=b.column.map(function(G){return p?ff.normal(u,G):ff.ifTruthy(u,G)}).getOr(D);df(D,M,v),Ap(u)&&d2(D,v),p&&(Ur(u,x),Vi(u,x)),v.halign&&fw(u,x,v.halign),v.valign&&Hx(u,x,v.valign)})},m2=function(u,l){u.execCommand("mceTableCellType",!1,{type:l.celltype,no_events:!0})},yb=function(u,l,v,p){var b=Et(p,function(x,D){return v[D]!==x});vn(b)>0&&l.length>=1&&Vo(l[0]).each(function(x){var D=vo(x,l),M=vn(Et(b,function(ue,ke){return ke!=="scope"&&ke!=="celltype"}))>0,G=j(b,"celltype");(M||j(b,"scope"))&&v2(u,D,p),G&&m2(u,p),tf(u,x.dom,{structure:G,style:M})})},Cw=function(u,l,v,p){var b=p.getData();p.close(),u.undoManager.transact(function(){yb(u,l,v,b),u.focus()})},qp=function(u,l){var v=Vo(l[0]).map(function(p){return Ve(vo(p,l),function(b){return _w(u,b.element,Ap(u),b.column)})});return qd(v.getOrDie())},Wn=function(u,l){var v=Nu(l);if(v.length!==0){var p=qp(u,v),b={type:"tabpanel",tabs:[{title:"General",name:"general",items:_u(u)},ps(u,"cell")]},x={type:"panel",items:[{type:"grid",columns:2,items:_u(u)}]};u.windowManager.open({title:"Cell Properties",size:"normal",body:Ap(u)?b:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onSubmit:or(Cw,u,v,p)})}},jx=function(u){var l=lf(Nd(u));return l.length>0?V.some({name:"class",type:"listbox",label:"Class",items:l}):V.none()},Sw=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],g2=function(u){return Sw.concat(jx(u).toArray())},xw=function(u,l){u.setAttrib("class",l.class),u.setStyle("height",Wi(l.height))},Wx=function(u,l){u.setStyle("background-color",l.backgroundcolor),u.setStyle("border-color",l.bordercolor),u.setStyle("border-style",l.borderstyle)},p2=function(u,l,v,p){var b=l.length===1;Ft(l,function(x){var D=b?ff.normal(u,x):ff.ifTruthy(u,x);xw(D,v),Op(u)&&Wx(D,v),v.align!==p.align&&(Ur(u,x),fw(u,x,v.align))})},Tw=function(u,l){u.execCommand("mceTableRowType",!1,{type:l.type,no_events:!0})},zw=function(u,l,v,p){var b=Et(p,function(M,G){return v[G]!==M});if(vn(b)>0){var x=j(b,"type"),D=x?vn(b)>1:!0;D&&p2(u,l,p,v),x&&Tw(u,p),Vo(et.fromDom(l[0])).each(function(M){return tf(u,M.dom,{structure:x,style:D})})}},qx=function(u,l,v,p){var b=p.getData();p.close(),u.undoManager.transact(function(){zw(u,l,v,b),u.focus()})},hs=function(u){var l=l_(yv(u),vs.selected);if(l.length!==0){var v=Ve(l,function(D){return kw(u,D.dom,Op(u))}),p=qd(v),b={type:"tabpanel",tabs:[{title:"General",name:"general",items:g2(u)},ps(u,"row")]},x={type:"panel",items:[{type:"grid",columns:2,items:g2(u)}]};u.windowManager.open({title:"Row Properties",size:"normal",body:Op(u)?b:x,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:p,onSubmit:or(qx,u,Ve(l,function(D){return D.dom}),p)})}},lc=function(u,l,v){var p=v?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],b=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],x=Tl(u)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],M=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return p.concat(b).concat(x).concat(D).concat(M)},vf=function(u,l,v,p){if(l.tagName==="TD"||l.tagName==="TH")gt(v)?u.setStyle(l,v,p):u.setStyle(l,v);else if(l.children)for(var b=0;b<l.children.length;b++)vf(u,l.children[b],v,p)},Gx=function(u,l,v){var p=u.dom,b={},x={};if(b.class=v.class,x.height=Wi(v.height),p.getAttrib(l,"width")&&!ju(u)?b.width=Sd(v.width):x.width=Wi(v.width),ju(u)?(x["border-width"]=Wi(v.border),x["border-spacing"]=Wi(v.cellspacing)):(b.border=v.border,b.cellpadding=v.cellpadding,b.cellspacing=v.cellspacing),ju(u)&&l.children)for(var D=0;D<l.children.length;D++)vf(p,l.children[D],{"border-width":Wi(v.border),padding:Wi(v.cellpadding)}),sc(u)&&vf(p,l.children[D],{"border-color":v.bordercolor});sc(u)&&(x["background-color"]=v.backgroundcolor,x["border-color"]=v.bordercolor,x["border-style"]=v.borderstyle),b.style=p.serializeStyle(Oe(Oe({},Ny(u)),x)),p.setAttribs(l,Oe(Oe({},zp(u)),b))},Kx=function(u,l,v,p){var b=u.dom,x=p.getData(),D=Et(x,function(M,G){return v[G]!==M});p.close(),x.class===""&&delete x.class,u.undoManager.transact(function(){if(!l){var M=parseInt(x.cols,10)||1,G=parseInt(x.rows,10)||1;l=gg(u,M,G,0,0)}if(vn(D)>0){Gx(u,l,x);var ue=b.select("caption",l)[0];(ue&&!x.caption||!ue&&x.caption)&&u.execCommand("mceTableToggleCaption"),x.align===""?Ur(u,l):fw(u,l,x.align)}if(u.focus(),u.addVisual(),vn(D)>0){var ke=j(D,"caption"),Ct=ke?vn(D)>1:!0;tf(u,l,{structure:ke,style:Ct})}})},Ew=function(u,l){var v=u.dom,p,b=ww(u,sc(u));l===!1?(p=v.getParent(u.selection.getStart(),"table",u.getBody()),p?b=f2(u,p,sc(u)):sc(u)&&(b.borderstyle="",b.bordercolor="",b.backgroundcolor="")):(b.cols="1",b.rows="1",sc(u)&&(b.borderstyle="",b.bordercolor="",b.backgroundcolor=""));var x=lf(Dp(u));x.length>0&&b.class&&(b.class=b.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:lc(u,x,l)},M=function(){return{type:"panel",items:[D]}},G=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},ps(u,"table")]}},ue=sc(u)?G():M();u.windowManager.open({title:"Table Properties",size:"normal",body:ue,onSubmit:or(Kx,u,p,b),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:b})},Ta=function(u){return Xo(yv(u),ds(u))},Xx=function(u){return pu(yv(u),ds(u))},bb=function(u,l,v,p,b){var x=ds(u),D=function(){return Ta(u).each(function(Rn){Vo(Rn,x).filter(Me(x)).each(function(ea){var za=et.fromText("");if(ko(ea,za),wc(ea),u.dom.isEmpty(u.getBody()))u.setContent(""),u.selection.setCursorLocation();else{var _a=u.dom.createRng();_a.setStart(za.dom,0),_a.setEnd(za.dom,0),u.selection.setRng(_a),u.nodeChanged()}})})},M=function(Rn){return Ta(u).each(function(ea){var za=Wm(u)||qf(u)||pt(u);za||Vo(ea,x).each(function(_a){Rn==="relative"&&!yy(_a)?qm(_a):Rn==="fixed"&&!hu(_a)?Gm(_a):Rn==="responsive"&&!by(_a)&&Ly(_a),nc(_a),tf(u,_a.dom,jo)})})},G=function(Rn){return Vo(Rn,x)},ue=function(Rn){return Xx(u).bind(function(ea){return G(ea).map(function(za){return Rn(za,ea)})})},ke=function(Rn,ea){ue(function(za){u.formatter.toggle("tableclass",{value:ea},za.dom),tf(u,za.dom,Av)})},Ct=function(Rn,ea){ue(function(za){var _a=Nu(p),Ei=Zt(_a,function(fc){return u.formatter.match("tablecellclass",{value:ea},fc.dom)}),au=Ei?u.formatter.remove:u.formatter.apply;Ft(_a,function(fc){return au("tablecellclass",{value:ea},fc.dom)}),tf(u,za.dom,Av)})},er=function(){Ta(u).each(function(Rn){Vo(Rn,x).each(function(ea){Xn(ea,"caption").fold(function(){var za=et.fromTag("caption");ni(za,et.fromText("Caption")),gS(ea,za,0),u.selection.setCursorLocation(za.dom,0)},function(za){Bo("caption")(Rn)&&Eo("td",ea).each(function(_a){return u.selection.setCursorLocation(_a.dom,0)}),wc(za)}),tf(u,ea.dom,jo)})})},qt=function(Rn){u.focus()},kt=function(Rn,ea){return ea===void 0&&(ea=!1),ue(function(za,_a){var Ei=bv(p,za,_a);Rn(za,Ei,ea).each(qt)})},Ar=function(){return ue(function(Rn,ea){var za=bv(p,Rn,ea),_a=sa(Je,et.fromDom(u.getDoc()),V.none());return pg(Rn,za,_a)})},Mr=function(){return ue(function(Rn,ea){var za=bv(p,Rn,ea);return sw(Rn,za)})},zn=function(Rn,ea){return ea().each(function(za){var _a=Ve(za,function(Ei){return io(Ei)});ue(function(Ei,au){var fc=fs(et.fromDom(u.getDoc())),Ia=u0(p,au,_a,fc);Rn(Ei,Ia).each(qt)})})},Ma=function(Rn){return function(ea,za){return da(za,"type").each(function(_a){kt(Rn(_a),za.no_events)})}};oo({mceTableSplitCells:function(){return kt(l.unmergeCells)},mceTableMergeCells:function(){return kt(l.mergeCells)},mceTableInsertRowBefore:function(){return kt(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return kt(l.insertRowsAfter)},mceTableInsertColBefore:function(){return kt(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return kt(l.insertColumnsAfter)},mceTableDeleteCol:function(){return kt(l.deleteColumn)},mceTableDeleteRow:function(){return kt(l.deleteRow)},mceTableCutCol:function(){return Mr().each(function(Rn){b.setColumns(Rn),kt(l.deleteColumn)})},mceTableCutRow:function(){return Ar().each(function(Rn){b.setRows(Rn),kt(l.deleteRow)})},mceTableCopyCol:function(){return Mr().each(function(Rn){return b.setColumns(Rn)})},mceTableCopyRow:function(){return Ar().each(function(Rn){return b.setRows(Rn)})},mceTablePasteColBefore:function(){return zn(l.pasteColsBefore,b.getColumns)},mceTablePasteColAfter:function(){return zn(l.pasteColsAfter,b.getColumns)},mceTablePasteRowBefore:function(){return zn(l.pasteRowsBefore,b.getRows)},mceTablePasteRowAfter:function(){return zn(l.pasteRowsAfter,b.getRows)},mceTableDelete:D,mceTableCellToggleClass:Ct,mceTableToggleClass:ke,mceTableToggleCaption:er,mceTableSizingMode:function(Rn,ea){return M(ea)},mceTableCellType:Ma(function(Rn){return Rn==="th"?l.makeCellsHeader:l.unmakeCellsHeader}),mceTableColType:Ma(function(Rn){return Rn==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader}),mceTableRowType:Ma(function(Rn){switch(Rn){case"header":return l.makeRowsHeader;case"footer":return l.makeRowsFooter;default:return l.makeRowsBody}})},function(Rn,ea){return u.addCommand(ea,Rn)}),oo({mceTableProps:or(Ew,u,!1),mceTableRowProps:or(hs,u),mceTableCellProps:or(Wn,u,p)},function(Rn,ea){return u.addCommand(ea,function(){return Rn()})}),u.addCommand("mceInsertTable",function(Rn,ea){yr(ea)&&yi(ea).length>0?cw(u,ea.rows,ea.columns,ea.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):Ew(u,!0)}),u.addCommand("mceTableApplyCellStyle",function(Rn,ea){var za=function(au){return"tablecell"+au.toLowerCase().replace("-","")};if(yr(ea)){var _a=Nu(p);if(_a.length!==0){var Ei=Et(ea,function(au,fc){return u.formatter.has(za(fc))&&gt(au)});Re(Ei)||(oo(Ei,function(au,fc){Ft(_a,function(Ia){ff.normal(u,Ia.dom).setFormat(za(fc),au)})}),G(_a[0]).each(function(au){return tf(u,au.dom,Av)}))}}})},wb=function(u,l,v){var p=ds(u),b=function(x){return pu(yv(u)).bind(function(D){return Vo(D,p).map(function(M){var G=bv(v,M,D);return x(M,G)})}).getOr("")};oo({mceTableRowType:function(){return b(l.getTableRowType)},mceTableCellType:function(){return b(l.getTableCellType)},mceTableColType:function(){return b(l.getTableColType)}},function(x,D){return u.addQueryValueHandler(D,x)})},kb=function(){var u=yg(),l=yg();return{getRows:u.get,setRows:function(v){v.fold(u.clear,u.set),l.clear()},clearRows:u.clear,getColumns:l.get,setColumns:function(v){v.fold(l.clear,l.set),u.clear()},clearColumns:l.clear}},Gp={remove_similar:!0,inherit:!1},Yf=Oe({selector:"td,th"},Gp),Kp={tablecellbackgroundcolor:Oe({styles:{backgroundColor:"%value"}},Yf),tablecellverticalalign:Oe({styles:{"vertical-align":"%value"}},Yf),tablecellbordercolor:Oe({styles:{borderColor:"%value"}},Yf),tablecellclass:Oe({classes:["%value"]},Yf),tableclass:Oe({selector:"table",classes:["%value"]},Gp),tablecellborderstyle:Oe({styles:{borderStyle:"%value"}},Yf),tablecellborderwidth:Oe({styles:{borderWidth:"%value"}},Yf)},Yx=function(u){u.formatter.register(Kp)},h2=jl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Aw=function(u){return u===void 0&&(u=void 0),h2.none(u)},Gd=Oe(Oe({},h2),{none:Aw}),_b=function(u,l,v,p,b){b===void 0&&(b=Le);var x=p===1;if(!x&&v<=0)return Gd.first(u[0]);if(x&&v>=u.length-1)return Gd.last(u[u.length-1]);var D=v+p,M=u[D];return b(M)?Gd.middle(l,M):_b(u,l,D,p,b)},y2=function(u,l){return Vo(u,l).bind(function(v){var p=Df(v),b=Ye(p,function(x){return ca(u,x)});return b.map(function(x){return{index:x,all:p}})})},Zx=function(u,l,v){var p=y2(u,v);return p.fold(function(){return Gd.none(u)},function(b){return _b(b.all,u,b.index,1,l)})},Jx=function(u,l,v){var p=y2(u,v);return p.fold(function(){return Gd.none()},function(b){return _b(b.all,u,b.index,-1,l)})},Qx=function(u,l,v,p){return{start:u,soffset:l,finish:v,foffset:p}},Wv={create:Qx},Ow=jl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Mn=function(u,l,v,p){return u.fold(l,v,p)},b2=function(u){return u.fold(nr,nr,nr)},w2=Ow.before,e8=Ow.on,Xp=Ow.after,Gu={before:w2,on:e8,after:Xp,cata:Mn,getStart:b2},Yp=jl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),t8=function(u){return Yp.exact(u.start,u.soffset,u.finish,u.foffset)},k2=function(u){return u.match({domRange:function(l){return et.fromDom(l.startContainer)},relative:function(l,v){return Gu.getStart(l)},exact:function(l,v,p,b){return l}})},Dw=Yp.domRange,Rw=Yp.relative,_2=Yp.exact,Pw=function(u){var l=k2(u);return ts(l)},Bw=Wv.create,Zf={domRange:Dw,relative:Rw,exact:_2,exactFromRange:t8,getWin:Pw,range:Bw},r8=function(u,l){var v=u.document.createRange();return v.selectNode(l.dom),v},n8=function(u,l){var v=u.document.createRange();return C2(v,l),v},C2=function(u,l){return u.selectNodeContents(l.dom)},a8=function(u,l){l.fold(function(v){u.setStartBefore(v.dom)},function(v,p){u.setStart(v.dom,p)},function(v){u.setStartAfter(v.dom)})},Zp=function(u,l){l.fold(function(v){u.setEndBefore(v.dom)},function(v,p){u.setEnd(v.dom,p)},function(v){u.setEndAfter(v.dom)})},Ja=function(u,l,v){var p=u.document.createRange();return a8(p,l),Zp(p,v),p},Cb=function(u,l,v,p,b){var x=u.document.createRange();return x.setStart(l.dom,v),x.setEnd(p.dom,b),x},Jf=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:u.width,height:u.height}},al=function(u){var l=u.getClientRects(),v=l.length>0?l[0]:u.getBoundingClientRect();return v.width>0||v.height>0?V.some(v).map(Jf):V.none()},Kd=jl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ac=function(u,l,v){return l(et.fromDom(v.startContainer),v.startOffset,et.fromDom(v.endContainer),v.endOffset)},Sb=function(u,l){return l.match({domRange:function(v){return{ltr:rt(v),rtl:V.none}},relative:function(v,p){return{ltr:br(function(){return Ja(u,v,p)}),rtl:br(function(){return V.some(Ja(u,p,v))})}},exact:function(v,p,b,x){return{ltr:br(function(){return Cb(u,v,p,b,x)}),rtl:br(function(){return V.some(Cb(u,b,x,v,p))})}}})},qv=function(u,l){var v=l.ltr();if(v.collapsed){var p=l.rtl().filter(function(b){return b.collapsed===!1});return p.map(function(b){return Kd.rtl(et.fromDom(b.endContainer),b.endOffset,et.fromDom(b.startContainer),b.startOffset)}).getOrThunk(function(){return Ac(u,Kd.ltr,v)})}else return Ac(u,Kd.ltr,v)},kg=function(u,l){var v=Sb(u,l);return qv(u,v)},Xd=function(u,l){var v=kg(u,l);return v.match({ltr:function(p,b,x,D){var M=u.document.createRange();return M.setStart(p.dom,b),M.setEnd(x.dom,D),M},rtl:function(p,b,x,D){var M=u.document.createRange();return M.setStart(x.dom,D),M.setEnd(p.dom,b),M}})};Kd.ltr,Kd.rtl;var o8=function(u,l,v,p,b){if(b===0)return 0;if(l===p)return b-1;for(var x=p,D=1;D<b;D++){var M=u(D),G=Math.abs(l-M.left);if(v<=M.bottom){if(v<M.top||G>x)return D-1;x=G}}return 0},S2=function(u,l,v){return l>=u.left&&l<=u.right&&v>=u.top&&v<=u.bottom},i8=function(u,l,v,p,b){var x=function(ue){var ke=u.dom.createRange();return ke.setStart(l.dom,ue),ke.collapse(!0),ke},D=function(ue){var ke=x(ue);return ke.getBoundingClientRect()},M=Xh(l).length,G=o8(D,v,p,b.right,M);return x(G)},u8=function(u,l,v,p){var b=u.dom.createRange();b.selectNode(l.dom);var x=b.getClientRects(),D=Ne(x,function(M){return S2(M,v,p)?V.some(M):V.none()});return D.map(function(M){return i8(u,l,v,p,M)})},ka=function(u,l,v,p){var b=u.dom.createRange(),x=w(l);return Ne(x,function(D){return b.selectNode(D.dom),S2(b.getBoundingClientRect(),v,p)?ol(u,D,v,p):V.none()})},ol=function(u,l,v,p){return Di(l)?u8(u,l,v,p):ka(u,l,v,p)},_g=function(u,l,v,p){var b=u.dom.createRange();b.selectNode(l.dom);var x=b.getBoundingClientRect(),D=Math.max(x.left,Math.min(x.right,v)),M=Math.max(x.top,Math.min(x.bottom,p));return ol(u,l,D,M)},x2=!0,Jp=!1,Ba=function(u,l){return l-u.left<u.right-l?x2:Jp},T2=function(u,l,v){var p=u.dom.createRange();return p.selectNode(l.dom),p.collapse(v),p},z2=function(u,l,v){var p=u.dom.createRange();p.selectNode(l.dom);var b=p.getBoundingClientRect(),x=Ba(b,v),D=x===x2?iy:uy;return D(l).map(function(M){return T2(u,M,x)})},Qp=function(u,l,v){var p=l.dom.getBoundingClientRect(),b=Ba(p,v);return V.some(T2(u,l,b))},E2=function(u,l,v){var p=w(l).length===0?Qp:z2;return p(u,l,v)},eh=function(u,l,v){var p,b;return V.from((b=(p=u.dom).caretPositionFromPoint)===null||b===void 0?void 0:b.call(p,l,v)).bind(function(x){if(x.offsetNode===null)return V.none();var D=u.dom.createRange();return D.setStart(x.offsetNode,x.offset),D.collapse(),V.some(D)})},Gv=function(u,l,v){var p,b;return V.from((b=(p=u.dom).caretRangeFromPoint)===null||b===void 0?void 0:b.call(p,l,v))},Mw=function(u,l,v,p){var b=u.dom.createRange();b.selectNode(l.dom);var x=b.getBoundingClientRect(),D=Math.max(x.left,Math.min(x.right,v)),M=Math.max(x.top,Math.min(x.bottom,p));return _g(u,l,D,M)},Nw=function(u,l,v){return et.fromPoint(u,l,v).bind(function(p){var b=function(){return E2(u,p,l)};return w(p).length===0?b():Mw(u,p,l,v).orThunk(b)})},A2=function(){return document.caretPositionFromPoint?eh:document.caretRangeFromPoint?Gv:Nw}(),O2=function(u,l,v){var p=et.fromDom(u.document);return A2(p,l,v).map(function(b){return Wv.create(et.fromDom(b.startContainer),b.startOffset,et.fromDom(b.endContainer),b.endOffset)})},Yd=function(u,l){var v=wa(u);return v==="input"?Gu.after(u):hn(["br","img"],v)?l===0?Gu.before(u):Gu.after(u):Gu.on(u,l)},Kv=function(u,l){var v=u.fold(Gu.before,Yd,Gu.after),p=l.fold(Gu.before,Yd,Gu.after);return Zf.relative(v,p)},Fw=function(u,l,v,p){var b=Yd(u,l),x=Yd(v,p);return Zf.relative(b,x)},D2=function(u){return u.match({domRange:function(l){var v=et.fromDom(l.startContainer),p=et.fromDom(l.endContainer);return Fw(v,l.startOffset,p,l.endOffset)},relative:Kv,exact:Fw})},xb=function(u,l,v,p){var b=Nc(u),x=b.dom.createRange();return x.setStart(u.dom,l),x.setEnd(v.dom,p),x},c8=function(u,l,v,p){var b=xb(u,l,v,p),x=ca(u,v)&&l===p;return b.collapsed&&!x},Cg=function(u){return V.from(u.getSelection())},Iw=function(u,l){Cg(u).each(function(v){v.removeAllRanges(),v.addRange(l)})},$w=function(u,l,v,p,b){var x=Cb(u,l,v,p,b);Iw(u,x)},R2=function(u,l,v,p,b,x){l.collapse(v.dom,p),l.extend(b.dom,x)},Lw=function(u,l){return kg(u,l).match({ltr:function(v,p,b,x){$w(u,v,p,b,x)},rtl:function(v,p,b,x){Cg(u).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(v.dom,p,b.dom,x);else if(D.extend)try{R2(u,D,v,p,b,x)}catch{$w(u,b,x,v,p)}else $w(u,b,x,v,p)})}})},Tb=function(u,l,v,p,b){var x=Fw(l,v,p,b);Lw(u,x)},zb=function(u,l,v){var p=Kv(l,v);Lw(u,p)},Hw=function(u){var l=Zf.getWin(u).dom,v=function(b,x,D,M){return Cb(l,b,x,D,M)},p=D2(u);return kg(l,p).match({ltr:v,rtl:v})},Vw=function(u){if(u.rangeCount>0){var l=u.getRangeAt(0),v=u.getRangeAt(u.rangeCount-1);return V.some(Wv.create(et.fromDom(l.startContainer),l.startOffset,et.fromDom(v.endContainer),v.endOffset))}else return V.none()},P2=function(u){if(u.anchorNode===null||u.focusNode===null)return Vw(u);var l=et.fromDom(u.anchorNode),v=et.fromDom(u.focusNode);return c8(l,u.anchorOffset,v,u.focusOffset)?V.some(Wv.create(l,u.anchorOffset,v,u.focusOffset)):Vw(u)},Xv=function(u,l,v){v===void 0&&(v=!0);var p=v?n8:r8,b=p(u,l);Iw(u,b)},Sg=function(u){return Cg(u).filter(function(l){return l.rangeCount>0}).bind(P2)},B2=function(u){return Sg(u).map(function(l){return Zf.exact(l.start,l.soffset,l.finish,l.foffset)})},M2=function(u,l){var v=Xd(u,l);return al(v)},Eb=function(u,l,v){return O2(u,l,v)},N2=function(u){Cg(u).each(function(l){return l.removeAllRanges()})},F2=tinymce.util.Tools.resolve("tinymce.util.VK"),Uw=function(u,l,v){return L2(u,l,Zx(v,Sp))},I2=function(u,l,v){return L2(u,l,Jx(v,Sp))},$2=function(u,l){var v=Zf.exact(l,0,l,0);return Hw(v)},L2=function(u,l,v){return v.fold(V.none,V.none,function(p,b){return iy(b).map(function(x){return $2(u,x)})},function(p){return u.execCommand("mceTableInsertRowAfter"),Uw(u,l,p)})},s8=["table","li","dl"],H2=function(u,l,v){if(u.keyCode===F2.TAB){var p=Xl(l),b=function(M){var G=wa(M);return ca(M,p)||hn(s8,G)},x=l.selection.getRng(),D=et.fromDom(u.shiftKey?x.startContainer:x.endContainer);pl(D,b).each(function(M){u.preventDefault(),Vo(M,b).each(v.clear),l.selection.collapse(u.shiftKey);var G=u.shiftKey?I2:Uw,ue=G(l,b,M);ue.each(function(ke){l.selection.setRng(ke)})})}},jw=function(u,l){return{selection:u,kill:l}},xg={create:jw},l8=function(u,l,v,p){return{start:Gu.on(u,l),finish:Gu.on(v,p)}},V2={create:l8},U2=function(u,l){var v=Xd(u,l);return Wv.create(et.fromDom(v.startContainer),v.startOffset,et.fromDom(v.endContainer),v.endOffset)},Bs=V2.create,j2=function(u,l,v,p,b,x,D){return ca(v,b)&&p===x?V.none():ei(v,"td,th",l).bind(function(M){return ei(b,"td,th",l).bind(function(G){return W2(u,l,M,G,D)})})},W2=function(u,l,v,p,b){return ca(v,p)?V.none():pd(v,p,l).bind(function(x){var D=x.boxes.getOr([]);return D.length>1?(b(u,D,x.start,x.finish),V.some(xg.create(V.some(Bs(v,0,v,Qs(v))),!0))):V.none()})},Ab=function(u,l,v,p,b){var x=function(D){return b.clearBeforeUpdate(v),b.selectRange(v,D.boxes,D.start,D.finish),D.boxes};return Cm(p,u,l,b.firstSelectedSelector,b.lastSelectedSelector).map(x)},Ob=function(u,l){return{item:u,mode:l}},Ww=function(u,l,v,p){return p===void 0&&(p=Yv),u.property().parent(l).map(function(b){return Ob(b,p)})},Yv=function(u,l,v,p){return p===void 0&&(p=Tg),v.sibling(u,l).map(function(b){return Ob(b,p)})},Tg=function(u,l,v,p){p===void 0&&(p=Tg);var b=u.property().children(l),x=v.first(b);return x.map(function(D){return Ob(D,p)})},q2=[{current:Ww,next:Yv,fallback:V.none()},{current:Yv,next:Tg,fallback:V.some(Ww)},{current:Tg,next:Tg,fallback:V.some(Yv)}],G2=function(u,l,v,p,b){b===void 0&&(b=q2);var x=$t(b,function(D){return D.current===v});return x.bind(function(D){return D.current(u,l,p,D.next).orThunk(function(){return D.fallback.bind(function(M){return G2(u,l,M,p)})})})},Db=function(){var u=function(v,p){return v.query().prevSibling(p)},l=function(v){return v.length>0?V.some(v[v.length-1]):V.none()};return{sibling:u,first:l}},f8=function(){var u=function(v,p){return v.query().nextSibling(p)},l=function(v){return v.length>0?V.some(v[0]):V.none()};return{sibling:u,first:l}},Rb={left:Db,right:f8},th=function(u,l,v,p,b,x){var D=G2(u,l,p,b);return D.bind(function(M){return x(M.item)?V.none():v(M.item)?V.some(M.item):th(u,M.item,v,M.mode,b,x)})},Pb=function(u,l,v,p){return th(u,l,v,Yv,Rb.left(),p)},K2=function(u,l,v,p){return th(u,l,v,Yv,Rb.right(),p)},Bb=function(u){return function(l){return u.property().children(l).length===0}},Ms=function(u,l,v){return qw(u,l,Bb(u),v)},d8=function(u,l,v){return Gw(u,l,Bb(u),v)},qw=Pb,Gw=K2,Mb=cp(),zg=function(u,l){return Ms(Mb,u,l)},Nb=function(u,l){return d8(Mb,u,l)},Kw=function(u,l,v){return qw(Mb,u,l,v)},X2=function(u,l,v){return Gw(Mb,u,l,v)},Y2=function(u,l,v){return Go(u,l,v).isSome()},Fb=jl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),v8=function(u,l,v){var p=u.getRect(l),b=u.getRect(v);return b.right>p.left&&b.left<p.right},Z2=function(u){return ei(u,"tr")},m8=function(u,l,v,p,b,x,D){return ei(p,"td,th",D).bind(function(M){return ei(l,"td,th",D).map(function(G){return ca(M,G)?ca(p,M)&&Qs(M)===b?x(G):Fb.none("in same cell"):Dn(Z2,[M,G]).fold(function(){return v8(u,G,M)?Fb.success():x(G)},function(ue){return x(G)})})}).getOr(Fb.none("default"))},g8=function(u,l,v,p,b){return u.fold(l,v,p,b)},Zv=Oe(Oe({},Fb),{verify:m8,cata:g8}),p8=function(u,l,v,p){return{parent:u,children:l,element:v,index:p}},h8=function(u){return Mo(u).bind(function(l){var v=w(l);return y8(v,u).map(function(p){return p8(l,v,u,p)})})},y8=function(u,l){return Ye(u,or(ca,l))},Xw=function(u){return wa(u)==="br"},Yw=function(u,l,v){return l(u,v).bind(function(p){return Di(p)&&Xh(p).trim().length===0?Yw(p,l,v):V.some(p)})},J2=function(u,l,v){return v.traverse(l).orThunk(function(){return Yw(l,v.gather,u)}).map(v.relative)},rh=function(u,l){return A(u,l).filter(Xw).orThunk(function(){return A(u,l-1).filter(Xw)})},Zw=function(u,l,v,p){return rh(l,v).bind(function(b){return p.traverse(b).fold(function(){return Yw(b,p.gather,u).map(p.relative)},function(x){return h8(x).map(function(D){return Gu.on(D.parent,D.index)})})})},Jv=function(u,l,v,p){var b=Xw(l)?J2(u,l,p):Zw(u,l,v,p);return b.map(function(x){return{start:x,finish:x}})},Q2=function(u){return Zv.cata(u,function(l){return V.none()},function(){return V.none()},function(l){return V.some(Rv(l,0))},function(l){return V.some(Rv(l,Qs(l)))})},nh=function(u,l){return{left:u.left,top:u.top+l,right:u.right,bottom:u.bottom+l}},Eg=function(u,l){return{left:u.left,top:u.top-l,right:u.right,bottom:u.bottom-l}},eC=function(u,l,v){return{left:u.left+l,top:u.top+v,right:u.right+l,bottom:u.bottom+v}},b8=function(u){return u.top},w8=function(u){return u.bottom},tC=function(u,l,v){return v>=0&&v<Qs(l)?u.getRangedRect(l,v,l,v+1):v>0?u.getRangedRect(l,v-1,l,v):V.none()},ah=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom}},oh=function(u,l){return V.some(u.getRect(l))},ih=function(u,l,v){return Ra(l)?oh(u,l).map(ah):Di(l)?tC(u,l,v).map(ah):V.none()},rC=function(u,l){return Ra(l)?oh(u,l).map(ah):Di(l)?u.getRangedRect(l,0,l,Qs(l)).map(ah):V.none()},Oc=5,nC=100,Rl=jl.generate([{none:[]},{retry:["caret"]}]),k8=function(u,l){return u.left<l.left||Math.abs(l.right-u.left)<1||u.left>l.right},aC=function(u,l,v){return Wh(l,Hd).fold(zr,function(p){return rC(u,p).exists(function(b){return k8(v,b)})})},Ag=function(u,l,v,p,b){var x=nh(b,Oc);return Math.abs(v.bottom-p.bottom)<1||v.top>b.bottom?Rl.retry(x):v.top===b.bottom?Rl.retry(nh(b,1)):aC(u,l,b)?Rl.retry(eC(x,Oc,0)):Rl.none()},Og=function(u,l,v,p,b){var x=Eg(b,Oc);return Math.abs(v.top-p.top)<1||v.bottom<b.top?Rl.retry(x):v.bottom===b.top?Rl.retry(Eg(b,1)):aC(u,l,b)?Rl.retry(eC(x,Oc,0)):Rl.none()},oC={point:b8,adjuster:Og,move:Eg,gather:zg},iC={point:w8,adjuster:Ag,move:nh,gather:Nb},Zd=function(u,l,v){return u.elementFromPoint(l,v).filter(function(p){return wa(p)==="table"}).isSome()},Jd=function(u,l,v,p,b){return Jw(u,l,v,l.move(p,Oc),b)},Jw=function(u,l,v,p,b){return b===0?V.some(p):Zd(u,p.left,l.point(p))?Jd(u,l,v,p,b-1):u.situsFromPoint(p.left,l.point(p)).bind(function(x){return x.start.fold(V.none,function(D){return rC(u,D).bind(function(M){return l.adjuster(u,D,M,v,p).fold(V.none,function(G){return Jw(u,l,v,G,b-1)})}).orThunk(function(){return V.some(p)})},V.none)})},_8=function(u,l){return u.situsFromPoint(l.left,l.bottom+Oc)},Qv=function(u,l){return u.situsFromPoint(l.left,l.top-Oc)},C8=function(u,l,v){return u.point(l)>v.getInnerHeight()?V.some(u.point(l)-v.getInnerHeight()):u.point(l)<0?V.some(-u.point(l)):V.none()},uC=function(u,l,v){var p=u.move(v,Oc),b=Jw(l,u,v,p,nC).getOr(p);return C8(u,b,l).fold(function(){return l.situsFromPoint(b.left,u.point(b))},function(x){return l.scrollBy(0,x),l.situsFromPoint(b.left,u.point(b)-x)})},uh={tryUp:or(uC,oC),tryDown:or(uC,iC),ieTryUp:Qv,ieTryDown:_8,getJumpSize:rt(Oc)},cC=20,Tn=function(u,l,v){return u.getSelection().bind(function(p){return Jv(l,p.finish,p.foffset,v).fold(function(){return V.some(Rv(p.finish,p.foffset))},function(b){var x=u.fromSitus(b),D=Zv.verify(u,p.finish,p.foffset,x.finish,x.foffset,v.failure,l);return Q2(D)})})},ch=function(u,l,v,p,b,x){return x===0?V.none():sC(u,l,v,p,b).bind(function(D){var M=u.fromSitus(D),G=Zv.verify(u,v,p,M.finish,M.foffset,b.failure,l);return Zv.cata(G,function(){return V.none()},function(){return V.some(D)},function(ue){return ca(v,ue)&&p===0?sh(u,v,p,Eg,b):ch(u,l,ue,0,b,x-1)},function(ue){return ca(v,ue)&&p===Qs(ue)?sh(u,v,p,nh,b):ch(u,l,ue,Qs(ue),b,x-1)})})},sh=function(u,l,v,p,b){return ih(u,l,v).bind(function(x){return Qw(u,b,p(x,uh.getJumpSize()))})},Qw=function(u,l,v){var p=re().browser;return p.isChrome()||p.isSafari()||p.isFirefox()||p.isEdge()?l.otherRetry(u,v):p.isIE()?l.ieRetry(u,v):V.none()},sC=function(u,l,v,p,b){return ih(u,v,p).bind(function(x){return Qw(u,b,x)})},Ib=function(u,l,v){return Tn(u,l,v).bind(function(p){return ch(u,l,p.element,p.offset,v,cC).map(u.fromSitus)})},lh=function(u,l){return Y2(u,function(v){return Mo(v).exists(function(p){return ca(p,l)})})},ek=function(u,l,v,p,b){return ei(p,"td,th",l).bind(function(x){return ei(x,"table",l).bind(function(D){return lh(b,D)?Ib(u,l,v).bind(function(M){return ei(M.finish,"td,th",l).map(function(G){return{start:x,finish:G,range:M}})}):V.none()})})},lC=function(u,l,v,p,b,x){return re().browser.isIE()?V.none():x(p,l).orThunk(function(){return ek(u,l,v,p,b).map(function(D){var M=D.range;return xg.create(V.some(Bs(M.start,M.soffset,M.finish,M.foffset)),!0)})})},S8=function(u,l){return ei(u,"tr",l).bind(function(v){return ei(v,"table",l).bind(function(p){var b=Fc(p,"tr");return ca(v,b[0])?Kw(p,function(x){return uy(x).isSome()},l).map(function(x){var D=Qs(x);return xg.create(V.some(Bs(x,D,x,D)),!0)}):V.none()})})},Jn=function(u,l){return ei(u,"tr",l).bind(function(v){return ei(v,"table",l).bind(function(p){var b=Fc(p,"tr");return ca(v,b[b.length-1])?X2(p,function(x){return iy(x).isSome()},l).map(function(x){return xg.create(V.some(Bs(x,0,x,0)),!0)}):V.none()})})},$b=function(u,l,v,p,b,x,D){return ek(u,v,p,b,x).bind(function(M){return W2(l,v,M.start,M.finish,D)})},la=function(u,l){return ei(u,"td,th",l)},fC=function(u,l,v,p){var b=yg(),x=b.clear,D=function(ke){b.on(function(Ct){p.clearBeforeUpdate(l),la(ke.target,v).each(function(er){pd(Ct,er,v).each(function(qt){var kt=qt.boxes.getOr([]);if(kt.length===1){var Ar=kt[0],Mr=b0(Ar)==="false",zn=ml(zv(ke.target),Ar,ca);Mr&&zn&&(p.selectRange(l,kt,Ar,Ar),u.selectContents(Ar))}else kt.length>1&&(p.selectRange(l,kt,qt.start,qt.finish),u.selectContents(er))})})})},M=function(ke){p.clear(l),la(ke.target,v).each(b.set)},G=function(ke){D(ke)},ue=function(ke){D(ke),x()};return{clearstate:x,mousedown:M,mouseover:G,mouseup:ue}},dC={traverse:S,gather:Nb,relative:Gu.before,otherRetry:uh.tryDown,ieRetry:uh.ieTryDown,failure:Zv.failedDown},tk={traverse:P,gather:zg,relative:Gu.before,otherRetry:uh.tryUp,ieRetry:uh.ieTryUp,failure:Zv.failedUp},em=function(u){return function(l){return l===u}},Lb=em(38),fh=em(40),Hb=function(u){return u>=37&&u<=40},rk={isBackward:em(37),isForward:em(39)},Qn={isBackward:em(39),isForward:em(37)},x8=function(u){var l=u!==void 0?u.dom:document,v=l.body.scrollLeft||l.documentElement.scrollLeft,p=l.body.scrollTop||l.documentElement.scrollTop;return yo(v,p)},vC=function(u,l,v){var p=v!==void 0?v.dom:document,b=p.defaultView;b&&b.scrollBy(u,l)},Vb=function(u){var l=function(Mr,zn){return et.fromPoint(et.fromDom(u.document),Mr,zn)},v=function(Mr){return Mr.dom.getBoundingClientRect()},p=function(Mr,zn,Ma,Rn){var ea=Zf.exact(Mr,zn,Ma,Rn);return M2(u,ea)},b=function(){return B2(u).map(function(Mr){return U2(u,Mr)})},x=function(Mr){var zn=Zf.relative(Mr.start,Mr.finish);return U2(u,zn)},D=function(Mr,zn){return Eb(u,Mr,zn).map(function(Ma){return V2.create(Ma.start,Ma.soffset,Ma.finish,Ma.foffset)})},M=function(){N2(u)},G=function(Mr){Mr===void 0&&(Mr=!1),B2(u).each(function(zn){return zn.fold(function(Ma){return Ma.collapse(Mr)},function(Ma,Rn){var ea=Mr?Ma:Rn;zb(u,ea,ea)},function(Ma,Rn,ea,za){var _a=Mr?Ma:ea,Ei=Mr?Rn:za;Tb(u,_a,Ei,_a,Ei)})})},ue=function(Mr){Xv(u,Mr,!1)},ke=function(Mr){Xv(u,Mr)},Ct=function(Mr){Tb(u,Mr.start,Mr.soffset,Mr.finish,Mr.foffset)},er=function(Mr,zn){zb(u,Mr,zn)},qt=function(){return u.innerHeight},kt=function(){var Mr=x8(et.fromDom(u.document));return Mr.top},Ar=function(Mr,zn){vC(Mr,zn,et.fromDom(u.document))};return{elementFromPoint:l,getRect:v,getRangedRect:p,getSelection:b,fromSitus:x,situsFromPoint:D,clearSelection:M,collapseSelection:G,setSelection:Ct,setRelativeSelection:er,selectNode:ue,selectContents:ke,getInnerHeight:qt,getScrollY:kt,scrollBy:Ar}},mf=function(u,l){return{rows:u,cols:l}},mC=function(u,l,v,p){var b=Vb(u),x=fC(b,l,v,p);return{clearstate:x.clearstate,mousedown:x.mousedown,mouseover:x.mouseover,mouseup:x.mouseup}},dh=function(u,l,v,p){var b=Vb(u),x=function(){return p.clear(l),V.none()},D=function(G,ue,ke,Ct,er,qt){var kt=G.raw,Ar=kt.which,Mr=kt.shiftKey===!0,zn=_m(l,p.selectedSelector).fold(function(){return Hb(Ar)&&!Mr&&p.clearBeforeUpdate(l),fh(Ar)&&Mr?or($b,b,l,v,dC,Ct,ue,p.selectRange):Lb(Ar)&&Mr?or($b,b,l,v,tk,Ct,ue,p.selectRange):fh(Ar)?or(lC,b,v,dC,Ct,ue,Jn):Lb(Ar)?or(lC,b,v,tk,Ct,ue,S8):V.none},function(Ma){var Rn=function(ea){return function(){var za=Ne(ea,function(_a){return Ab(_a.rows,_a.cols,l,Ma,p)});return za.fold(function(){return Gs(l,p.firstSelectedSelector,p.lastSelectedSelector).map(function(_a){var Ei=fh(Ar)||qt.isForward(Ar)?Gu.after:Gu.before;return b.setRelativeSelection(Gu.on(_a.first,0),Ei(_a.table)),p.clear(l),xg.create(V.none(),!0)})},function(_a){return V.some(xg.create(V.none(),!0))})}};return fh(Ar)&&Mr?Rn([mf(1,0)]):Lb(Ar)&&Mr?Rn([mf(-1,0)]):qt.isBackward(Ar)&&Mr?Rn([mf(0,-1),mf(-1,0)]):qt.isForward(Ar)&&Mr?Rn([mf(0,1),mf(1,0)]):Hb(Ar)&&!Mr?x:V.none});return zn()},M=function(G,ue,ke,Ct,er){return _m(l,p.selectedSelector).fold(function(){var qt=G.raw,kt=qt.which,Ar=qt.shiftKey===!0;return Ar&&Hb(kt)?j2(l,v,ue,ke,Ct,er,p.selectRange):V.none()},V.none)};return{keydown:D,keyup:M}},Ub=function(u,l,v,p){var b=Vb(u);return function(x,D){p.clearBeforeUpdate(l),pd(x,D,v).each(function(M){var G=M.boxes.getOr([]);p.selectRange(l,G,M.start,M.finish),b.selectContents(D),b.collapseSelection()})}},gC=function(u,l){Ft(l,function(v){Sc(u,v)})},pC=function(u){return function(l){$i(l,u)}},T8=function(u){return function(l){gC(l,u)}},z8=function(u){var l=pC(u.selected),v=T8([u.selected,u.lastSelected,u.firstSelected]),p=function(x){var D=Fc(x,u.selectedSelector);Ft(D,v)},b=function(x,D,M,G){p(x),Ft(D,l),$i(M,u.firstSelected),$i(G,u.lastSelected)};return{clearBeforeUpdate:p,clear:p,selectRange:b,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},E8=function(u,l,v){var p=function(G){Ao(G,u.selected),Ao(G,u.firstSelected),Ao(G,u.lastSelected)},b=function(G){Pi(G,u.selected,"1")},x=function(G){D(G),v()},D=function(G){var ue=Fc(G,u.selectedSelector+","+u.firstSelectedSelector+","+u.lastSelectedSelector);Ft(ue,p)},M=function(G,ue,ke,Ct){x(G),Ft(ue,b),Pi(ke,u.firstSelected,"1"),Pi(Ct,u.lastSelected,"1"),l(ue,ke,Ct)};return{clearBeforeUpdate:D,clear:x,selectRange:M,selectedSelector:u.selectedSelector,firstSelectedSelector:u.firstSelectedSelector,lastSelectedSelector:u.lastSelectedSelector}},A8={byClass:z8,byAttr:E8},O8=function(u,l){var v=u.slice(0,l[l.length-1].row+1),p=qy(v);return ir(p,function(b){var x=b.cells.slice(0,l[l.length-1].column+1);return Ve(x,function(D){return D.element})})},hC=function(u,l){var v=u.slice(l[0].row+l[0].rowspan-1,u.length),p=qy(v);return ir(p,function(b){var x=b.cells.slice(l[0].column+l[0].colspan-1,b.cells.length);return Ve(x,function(D){return D.element})})},D8=function(u,l,v){var p=ha.fromTable(u),b=zl(p,l);return b.map(function(x){var D=Id(p,v,!1),M=O8(D,x),G=hC(D,x);return{upOrLeftCells:M,downOrRightCells:G}})},nk=tinymce.util.Tools.resolve("tinymce.Env"),Dg=function(u){return _o(et.fromDom(u.target),"ephox-snooker-resizer-bar")===!1};function Oa(u,l,v){var p=function(D,M,G){v.targets().each(function(ue){var ke=Vo(M);ke.each(function(Ct){var er=$y(u),qt=sa(Je,et.fromDom(u.getDoc()),er),kt=D8(Ct,ue,qt);jm(u,D,M,G,kt)})})},b=function(){return C_(u)},x=A8.byAttr(vs,p,b);return u.on("init",function(D){var M=u.getWin(),G=Xl(u),ue=ds(u),ke=function(){var Ia=u.selection,oa=et.fromDom(Ia.getStart()),Da=et.fromDom(Ia.getEnd()),uo=Dn(Vo,[oa,Da]);uo.fold(function(){return x.clear(G)},Je)},Ct=mC(M,G,ue,x),er=dh(M,G,ue,x),qt=Ub(M,G,ue,x),kt=function(Ia){return Ia.raw.shiftKey===!0};u.on("TableSelectorChange",function(Ia){return qt(Ia.start,Ia.finish)});var Ar=function(Ia,oa){kt(Ia)&&(oa.kill&&Ia.kill(),oa.selection.each(function(Da){var uo=Zf.relative(Da.start,Da.finish),oi=Xd(M,uo);u.selection.setRng(oi)}))},Mr=function(Ia){var oa=jf(Ia);if(oa.raw.shiftKey&&Hb(oa.raw.which)){var Da=u.selection.getRng(),uo=et.fromDom(Da.startContainer),oi=et.fromDom(Da.endContainer);er.keyup(oa,uo,Da.startOffset,oi,Da.endOffset).each(function(gf){Ar(oa,gf)})}},zn=function(Ia){var oa=jf(Ia);l().each(function(lo){return lo.hideBars()});var Da=u.selection.getRng(),uo=et.fromDom(Da.startContainer),oi=et.fromDom(Da.endContainer),gf=Uc(rk,Qn)(et.fromDom(u.selection.getStart()));er.keydown(oa,uo,Da.startOffset,oi,Da.endOffset,gf).each(function(lo){Ar(oa,lo)}),l().each(function(lo){return lo.showBars()})},Ma=function(Ia){return Ia.button===0},Rn=function(Ia){return Ia.buttons===void 0||nk.browser.isEdge()&&Ia.buttons===0?!0:(Ia.buttons&1)!==0},ea=function(Ia){Ct.clearstate()},za=function(Ia){Ma(Ia)&&Dg(Ia)&&Ct.mousedown(jf(Ia))},_a=function(Ia){Rn(Ia)&&Dg(Ia)&&Ct.mouseover(jf(Ia))},Ei=function(Ia){Ma(Ia)&&Dg(Ia)&&Ct.mouseup(jf(Ia))},au=function(){var Ia=Xf(et.fromDom(G)),oa=Xf(0),Da=function(uo){var oi=et.fromDom(uo.target);if(wa(oi)==="td"||wa(oi)==="th"){var gf=Ia.get(),lo=oa.get();ca(gf,oi)&&uo.timeStamp-lo<300&&(uo.preventDefault(),qt(oi,oi))}Ia.set(oi),oa.set(uo.timeStamp)};return{touchEnd:Da}},fc=au();u.on("dragstart",ea),u.on("mousedown",za),u.on("mouseover",_a),u.on("mouseup",Ei),u.on("touchend",fc.touchEnd),u.on("keyup",Mr),u.on("keydown",zn),u.on("NodeChange",ke)}),{clear:x.clear}}var jb=function(u,l){return Xn(u,l).isSome()},Wb=function(u,l){var v=Xf(V.none()),p=Xf([]),b=V.none(),x=Bo("caption"),D=function(oa){return b.forall(function(Da){return!Da[oa]})},M=function(){return Xo(yv(u),ds(u))},G=function(){return Xo(mn(u),ds(u))},ue=function(){return M().bind(function(oa){return Tf($c(Vo(oa),G().bind(Vo),function(Da,uo){return ca(Da,uo)?x(oa)?V.some(i0(oa)):V.some(bv(l,Da,oa)):V.none()}))})},ke=function(oa){var Da=Vo(oa.element);return Da.map(function(uo){var oi=ha.fromTable(uo),gf=zl(oi,oa).getOr([]),lo=Z(gf,function(Ns,Cu){return Cu.isLocked&&(Ns.onAny=!0,Cu.column===0?Ns.onFirst=!0:Cu.column+Cu.colspan>=oi.grid.columns&&(Ns.onLast=!0)),Ns},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:L0(oi,oa).isSome(),unmergeable:Xy(oi,oa).isSome(),locked:lo}})},Ct=function(){v.set(br(ue)()),b=v.get().bind(ke),Ft(p.get(),function(oa){return oa()})},er=function(oa){return oa(),p.set(p.get().concat([oa])),function(){p.set(an(p.get(),function(Da){return Da!==oa}))}},qt=function(oa,Da){return er(function(){return v.get().fold(function(){oa.setDisabled(!0)},function(uo){oa.setDisabled(Da(uo))})})},kt=function(oa,Da,uo){return er(function(){return v.get().fold(function(){oa.setDisabled(!0),oa.setActive(!1)},function(oi){oa.setDisabled(Da(oi)),oa.setActive(uo(oi))})})},Ar=function(oa){return b.exists(function(Da){return Da.locked[oa]})},Mr=function(oa){return qt(oa,function(Da){return!1})},zn=function(oa){return qt(oa,function(Da){return x(Da.element)})},Ma=function(oa){return function(Da){return qt(Da,function(uo){return x(uo.element)||Ar(oa)})}},Rn=function(oa){return function(Da){return qt(Da,function(uo){return x(uo.element)||oa().isNone()})}},ea=function(oa,Da){return function(uo){return qt(uo,function(oi){return x(oi.element)||oa().isNone()||Ar(Da)})}},za=function(oa){return qt(oa,function(Da){return D("mergeable")})},_a=function(oa){return qt(oa,function(Da){return D("unmergeable")})},Ei=function(oa){return kt(oa,zr,function(Da){var uo=Vo(Da.element,ds(u));return uo.exists(function(oi){return jb(oi,"caption")})})},au=function(oa,Da){return function(uo){return kt(uo,function(oi){return x(oi.element)},function(){return u.queryCommandValue(oa)===Da})}},fc=au("mceTableRowType","header"),Ia=au("mceTableColType","th");return u.on("NodeChange ExecCommand TableSelectorChange",Ct),{onSetupTable:Mr,onSetupCellOrRow:zn,onSetupColumn:Ma,onSetupPasteable:Rn,onSetupPasteableColumn:ea,onSetupMergeable:za,onSetupUnmergeable:_a,resetTargets:Ct,onSetupTableWithCaption:Ei,onSetupTableRowHeaders:fc,onSetupTableColumnHeaders:Ia,targets:v.get}},yC=function(u,l,v,p){u.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(M){return M("inserttable | cell row column | advtablesort | tableprops deletetable")}});var b=function(M){return function(){return u.execCommand(M)}};u.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:b("mceTableProps"),icon:"table",onSetup:v.onSetupTable}),u.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:b("mceTableDelete"),icon:"table-delete-table",onSetup:v.onSetupTable}),u.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:b("mceTableCellProps"),icon:"table-cell-properties",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:b("mceTableMergeCells"),icon:"table-merge-cells",onSetup:v.onSetupMergeable}),u.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:b("mceTableSplitCells"),icon:"table-split-cells",onSetup:v.onSetupUnmergeable}),u.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:b("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:b("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:b("mceTableDeleteRow"),icon:"table-delete-row",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:b("mceTableRowProps"),icon:"table-row-properties",onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:b("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:v.onSetupColumn("onFirst")}),u.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:b("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:v.onSetupColumn("onLast")}),u.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:b("mceTableDeleteCol"),icon:"table-delete-column",onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:b("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:b("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:b("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(p.getRows)}),u.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:b("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(p.getRows)}),u.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:b("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:b("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:b("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onFirst")}),u.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:b("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onLast")}),u.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:b("mceInsertTable"),icon:"table"});var x=Wd(Dp(u));x.length!==0&&u.ui.registry.addMenuButton("tableclass",{icon:"table-classes",tooltip:"Table styles",fetch:Vv(u,l,x,"tableclass",function(M){return u.execCommand("mceTableToggleClass",!1,M)}),onSetup:v.onSetupTable});var D=Wd(rf(u));D.length!==0&&u.ui.registry.addMenuButton("tablecellclass",{icon:"table-cell-classes",tooltip:"Cell styles",fetch:Vv(u,l,D,"tablecellclass",function(M){return u.execCommand("mceTableCellToggleClass",!1,M)}),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellvalign",{icon:"vertical-align",tooltip:"Vertical align",fetch:Vv(u,l,hg,"tablecellverticalalign",jd(u,"vertical-align")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderwidth",{icon:"border-width",tooltip:"Border width",fetch:Vv(u,l,x_(u),"tablecellborderwidth",jd(u,"border-width")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellborderstyle",{icon:"border-style",tooltip:"Border style",fetch:Vv(u,l,Uu(u),"tablecellborderstyle",jd(u,"border-style")),onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablecaption",{tooltip:"Table caption",onAction:b("mceTableToggleCaption"),icon:"table-caption",onSetup:v.onSetupTableWithCaption}),u.ui.registry.addMenuButton("tablecellbackgroundcolor",{icon:"cell-background-color",tooltip:"Background color",fetch:function(M){return M(bg(u,A0(u),"background-color"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuButton("tablecellbordercolor",{icon:"cell-border-color",tooltip:"Border color",fetch:function(M){return M(bg(u,O0(u),"border-color"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleButton("tablerowheader",{tooltip:"Row header",icon:"table-top-header",onAction:hw(u),onSetup:v.onSetupTableRowHeaders}),u.ui.registry.addToggleButton("tablecolheader",{tooltip:"Column header",icon:"table-left-header",onAction:yw(u),onSetup:v.onSetupTableColumnHeaders})},bC=function(u){var l=function(p){return u.dom.is(p,"table")&&u.getBody().contains(p)},v=ZS(u);v.length>0&&u.ui.registry.addContextToolbar("table",{predicate:l,items:v,scope:"node",position:"node"})},wC=function(u,l,v,p){var b=function(qt){return function(){return u.execCommand(qt)}},x=function(qt){u.execCommand("mceInsertTable",!1,{rows:qt.numRows,columns:qt.numColumns})},D={text:"Table properties",onSetup:v.onSetupTable,onAction:b("mceTableProps")},M={text:"Delete table",icon:"table-delete-table",onSetup:v.onSetupTable,onAction:b("mceTableDelete")};u.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:b("mceTableInsertRowBefore"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:b("mceTableInsertRowAfter"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:b("mceTableDeleteRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:b("mceTableRowProps"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:b("mceTableCutRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:b("mceTableCopyRow"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:b("mceTablePasteRowBefore"),onSetup:v.onSetupPasteable(p.getRows)}),u.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:b("mceTablePasteRowAfter"),onSetup:v.onSetupPasteable(p.getRows)});var G={type:"nestedmenuitem",text:"Row",getSubmenuItems:rt("tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter")};u.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:b("mceTableInsertColBefore"),onSetup:v.onSetupColumn("onFirst")}),u.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:b("mceTableInsertColAfter"),onSetup:v.onSetupColumn("onLast")}),u.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:b("mceTableDeleteCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:b("mceTableCutCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:b("mceTableCopyCol"),onSetup:v.onSetupColumn("onAny")}),u.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:b("mceTablePasteColBefore"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onFirst")}),u.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:b("mceTablePasteColAfter"),onSetup:v.onSetupPasteableColumn(p.getColumns,"onLast")});var ue={type:"nestedmenuitem",text:"Column",getSubmenuItems:rt("tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter")};u.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:b("mceTableCellProps"),onSetup:v.onSetupCellOrRow}),u.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:b("mceTableMergeCells"),onSetup:v.onSetupMergeable}),u.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:b("mceTableSplitCells"),onSetup:v.onSetupUnmergeable});var ke={type:"nestedmenuitem",text:"Cell",getSubmenuItems:rt("tablecellprops tablemergecells tablesplitcells")};T_(u)===!1?u.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:b("mceInsertTable")}):u.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:x}]}}),u.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:b("mceInsertTable")}),u.ui.registry.addMenuItem("tableprops",D),u.ui.registry.addMenuItem("deletetable",M),u.ui.registry.addNestedMenuItem("row",G),u.ui.registry.addNestedMenuItem("column",ue),u.ui.registry.addNestedMenuItem("cell",ke),u.ui.registry.addContextMenu("table",{update:function(){return v.resetTargets(),v.targets().fold(rt(""),function(qt){return wa(qt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}});var Ct=Wd(Dp(u));Ct.length!==0&&u.ui.registry.addNestedMenuItem("tableclass",{icon:"table-classes",text:"Table styles",getSubmenuItems:function(){return nl(u,l,Ct,"tableclass",function(qt){return u.execCommand("mceTableToggleClass",!1,qt)})},onSetup:v.onSetupTable});var er=Wd(rf(u));er.length!==0&&u.ui.registry.addNestedMenuItem("tablecellclass",{icon:"table-cell-classes",text:"Cell styles",getSubmenuItems:function(){return nl(u,l,er,"tablecellclass",function(qt){return u.execCommand("mceTableCellToggleClass",!1,qt)})},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellvalign",{icon:"vertical-align",text:"Vertical align",getSubmenuItems:function(){return nl(u,l,hg,"tablecellverticalalign",jd(u,"vertical-align"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderwidth",{icon:"border-width",text:"Border width",getSubmenuItems:function(){return nl(u,l,x_(u),"tablecellborderwidth",jd(u,"border-width"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellborderstyle",{icon:"border-style",text:"Border style",getSubmenuItems:function(){return nl(u,l,Uu(u),"tablecellborderstyle",jd(u,"border-style"))},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablecaption",{icon:"table-caption",text:"Table caption",onAction:b("mceTableToggleCaption"),onSetup:v.onSetupTableWithCaption}),u.ui.registry.addNestedMenuItem("tablecellbackgroundcolor",{icon:"cell-background-color",text:"Background color",getSubmenuItems:function(){return bg(u,A0(u),"background-color")},onSetup:v.onSetupCellOrRow}),u.ui.registry.addNestedMenuItem("tablecellbordercolor",{icon:"cell-border-color",text:"Border color",getSubmenuItems:function(){return bg(u,O0(u),"border-color")},onSetup:v.onSetupCellOrRow}),u.ui.registry.addToggleMenuItem("tablerowheader",{text:"Row header",icon:"table-top-header",onAction:hw(u),onSetup:v.onSetupTableRowHeaders}),u.ui.registry.addToggleMenuItem("tablecolheader",{text:"Column header",icon:"table-left-header",onAction:yw(u),onSetup:v.onSetupTableColumnHeaders})},ak=function(u){var l=Pu(function(){return Xl(u)},function(){return pu(yv(u),ds(u))},vs.selectedSelector),v=Wb(u,l),p=Hy(u),b=Oa(u,p.lazyResize,v),x=Nx(u,b,p.lazyWire),D=kb();return bb(u,x,b,l,D),wb(u,x,l),el(u,l,x),wC(u,l,v,D),yC(u,l,v,D),bC(u),u.on("PreInit",function(){u.serializer.addTempAttr(vs.firstSelected),u.serializer.addTempAttr(vs.lastSelected),Yx(u)}),xl(u)&&u.on("keydown",function(M){H2(M,u,b)}),u.on("remove",function(){p.destroy()}),cf(u,D,p,v)};function ok(){Jk.add("table",ak)}ok()})();(function(){function Ze(Nt){Nt.on("BeforeExecCommand",ft=>{const Ir=Nt.selection.getNode(),vr=_r(Ir);ft.command==="SelectAll"&&vr&&(ft.preventDefault(),Nt.selection.select(vr,!0))});let gt=null,yr=null;Nt.on("SelectionChange",ft=>{gt&&delete gt.dataset.mceActive,yr&&delete yr.dataset.mceActive;const Ir=Nt.selection.getNode(),vr=mt(Ir);if(vr){vr.dataset.mceActive="1";const Xr=_r(Ir);Xr&&(Xr.dataset.mceActive="1"),yr=Xr}gt=vr}),Nt.on("keyup",ft=>{if(ft.key==="Tab"){const Ir=Nt.selection.getNode();if(!Ir.classList.contains("table-container")&&Ir.tagName!=="TABLE")return;const vr=Ir.querySelector("th,td");if(!vr)return;ft.preventDefault(),Nt.selection.setCursorLocation(vr,0)}}),Nt.on("ExecCommand",function(ft){ft.command==="mceInsertTable"&&Nt.selection.getNode().getElementsByTagName("table")})}function _r(Nt){return Nt.closest("td,th")}function mt(Nt){return Nt.closest("tr")}(function(){addPluginToPluginManager("bettertable",Ze)})()})();(function(){const Ze="c",_r="h",mt={H1:1,HR:2,H2:3,H3:4,H4:5,H5:6,H6:7};function Nt(ft){let Ir=!1;ft.on("mousedown touchstart",function(vr){const{target:Xr}=vr,mr=vr.targetTouches;let Kt=0,kr;if(mr){if(vr.targetTouches.length!==1)return;Kt=15,kr=vr.targetTouches[0].clientX}else kr=vr.offsetX;kr<Kt&&mt[Xr.tagName]&&(Xr.parentElement.tagName==="DIV"||Xr.parentElement.tagName==="BODY")&&(Ir=!0,vr.preventDefault(),vr.stopImmediatePropagation(),vr.stopPropagation(),Xr.classList.contains(Ze)?Xr.classList.remove(Ze):Xr.classList.add(Ze),yr(Xr),notifyEditorChange(ft,"headingCollapsed"))},{capture:!0,passive:!1}),ft.on("touchend",vr=>{Ir&&(vr.preventDefault(),Ir=!1)},{capture:!0,passive:!1}),ft.on("NewBlock",function(vr){const{newBlock:Xr}=vr;if(!Xr)return;const mr=Xr.previousElementSibling;mr&&mr.classList.contains(Ze)&&(mr.classList.remove(Ze),yr(mr),notifyEditorChange(ft,"headingCollapsed"))})}function gt(ft,Ir){Ir?ft.classList.add(_r):ft.classList.remove(_r)}function yr(ft){let Ir=ft.nextSibling;const vr=ft.classList.contains(Ze);let Xr=!1;for(;Ir&&(!mt[Ir.tagName]||mt[Ir.tagName]>mt[ft.tagName]);){const mr=Ir.classList.contains(Ze);if(vr||(mr?(Xr=!0,gt(Ir,vr)):Xr&&mt[Ir.tagName]&&(Xr=!1)),Xr||gt(Ir,vr),!Ir.nextSibling)break;Ir=Ir.nextSibling}}(function(){addPluginToPluginManager("collapsibleheaders",Nt)})()})();(function(){tinymce.PluginManager.add("embed",function(Ze,_r){const mt=Nt=>Nt.hasAttribute("data-mce-object")||Nt.hasAttribute("data-ephox-embed-iri");Ze.ui.registry.addToggleButton("embed",{title:"Embed External Documents",icon:"browse",tooltip:"Embed an external document such as Google Docs or sheet files.",onAction:function(){const Nt=Ze.selection;let gt={url:"",width:"",height:""};mt(Nt.getNode())&&(gt={url:Nt.getNode().firstChild.getAttribute("src"),width:"100vw",height:"50vh"}),Ze.windowManager.open({title:"Insert Document Link Below",width:500,height:300,initialData:gt,body:{type:"panel",items:[{type:"htmlpanel",html:"<ul><li>Enter the link to an embeddable document such as a Google Doc.</li><li>Changes made here will be reflected in the original document.</li><li>Only users who have access to the external resource will be able to view the document.</li></ul>"},{type:"input",size:20,name:"url",label:"Url"}]},buttons:[{type:"submit",text:"Insert"}],onSubmit:function(yr){var ft=yr.getData().url,Ir='<iframe src="'+ft+'" style="display:block; width:99%; height:700px;"  class="autoresizeIframe"></iframe>';Ze.insertContent(Ir),yr.close()}})},onSetup:Nt=>Ze.selection.selectorChangedWithUnbind('span[data-mce-object="iframe"]',Nt.setActive).unbind})})})();tinymce.PluginManager.add("slashcommands",function(Ze){var _r=[{text:"Text",icon:"p",action:function(){Ze.execCommand("mceInsertContent",!1,"<p>Text</p>"),Ze.selection.select(Ze.selection.getNode())}},{text:"Heading 1",icon:"h1",action:function(){Ze.execCommand("mceInsertContent",!1,"<h1>Heading 1</h1>"),Ze.selection.select(Ze.selection.getNode())}},{text:"Heading 2",icon:"h2",action:function(){Ze.execCommand("mceInsertContent",!1,"<h2>Heading 2</h2>"),Ze.selection.select(Ze.selection.getNode())}},{text:"Heading 3",icon:"h3",action:function(){Ze.execCommand("mceInsertContent",!1,"<h3>Heading 3</h3>"),Ze.selection.select(Ze.selection.getNode())}},{type:"separator"},{text:"Table",icon:"table",action:function(){Ze.execCommand("mceInsertTable",!0)}},{text:"Checklist list",icon:"checklist",action:function(){Ze.execCommand("insertChecklist",!1)}},{text:"Bulleted list",icon:"unordered-list",action:function(){Ze.execCommand("InsertUnorderedList",!1)}},{type:"separator"},{text:"Templates",icon:"template",action:function(){Ze.execCommand("mceTemplate")}},{text:"Confetti",icon:"🎉",action:function(){Ze.execCommand("mceInsertContent",!1,'<a class="confetti">🎉 Confetti <span class="mirrorElement">🎉</span></a>&nbsp;'),confetti.start()}}];return Ze.ui.registry.addAutocompleter("slashcommands",{ch:"/",minChars:0,columns:1,fetch:function(mt){const Nt=_r.filter(function(gt){return gt.type==="separator"||gt.text.toLowerCase().indexOf(mt.toLowerCase())!==-1});return new Promise(gt=>{var yr=Nt.map(function(ft){return{meta:ft,text:ft.text,icon:ft.icon,value:ft.text,type:ft.type}});gt(yr)})},onAction:function(mt,Nt,gt,yr){Ze.selection.setRng(Nt),Ze.execCommand("Delete"),yr.action(),mt.hide()}}),{}});(function(Ze){if(typeof OL=="object"&&typeof gI<"u")gI.exports=Ze(require("jquery"));else if(typeof define=="function"&&define.amd)define(["jquery"],Ze);else{var _r;typeof window<"u"?_r=window:typeof global<"u"?_r=global:typeof self<"u"?_r=self:_r=this,Ze(_r.jQuery)}})(function(Ze){var _r=function(mt,Nt){this.editor=mt,this.options=Ze.extend({},{source:[],delay:500,queryBy:"name",items:10},Nt),this.matcher=this.options.matcher||this.matcher,this.renderDropdown=this.options.renderDropdown||this.renderDropdown,this.render=this.options.render||this.render,this.insert=this.options.insert||this.insert,this.highlighter=this.options.highlighter||this.highlighter,this.query="",this.hasFocus=!0,this.renderInput(),this.bindEvents()};_r.prototype={constructor:_r,renderInput:function(){var mt='<span id="autocomplete"><span id="autocomplete-delimiter">'+this.options.delimiter+'</span><span id="autocomplete-searchtext"><span class="dummy">​</span></span></span>';this.editor.execCommand("mceInsertContent",!1,mt),this.editor.focus(),this.editor.selection.select(this.editor.selection.dom.select("span#autocomplete-searchtext span")[0]),this.editor.selection.collapse(0)},bindEvents:function(){this.editor.on("keyup",this.editorKeyUpProxy=Ze.proxy(this.rteKeyUp,this)),this.editor.on("keydown",this.editorKeyDownProxy=Ze.proxy(this.rteKeyDown,this),!0),this.editor.on("click",this.editorClickProxy=Ze.proxy(this.rteClicked,this)),Ze("body").on("click",this.bodyClickProxy=Ze.proxy(this.rteLostFocus,this)),Ze(this.editor.getWin()).on("scroll",this.rteScroll=Ze.proxy(function(){this.cleanUp(!0)},this))},unbindEvents:function(){this.editor.off("keyup",this.editorKeyUpProxy),this.editor.off("keydown",this.editorKeyDownProxy),this.editor.off("click",this.editorClickProxy),Ze("body").off("click",this.bodyClickProxy),Ze(this.editor.getWin()).off("scroll",this.rteScroll)},rteKeyUp:function(mt){switch(mt.which||mt.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 8:this.query===""?this.cleanUp(!0):this.lookup();break;case 9:case 13:var Nt=this.$dropdown!==void 0?this.$dropdown.find("li.active"):[];Nt.length?(this.select(Nt.data()),this.cleanUp(!1)):this.cleanUp(!0);break;case 27:this.cleanUp(!0);break;default:this.lookup()}},rteKeyDown:function(mt){switch(mt.which||mt.keyCode){case 9:case 13:case 27:mt.preventDefault();break;case 38:mt.preventDefault(),this.$dropdown!==void 0&&this.highlightPreviousResult();break;case 40:mt.preventDefault(),this.$dropdown!==void 0&&this.highlightNextResult();break}mt.stopPropagation()},rteClicked:function(mt){var Nt=Ze(mt.target);this.hasFocus&&Nt.parent().attr("id")!=="autocomplete-searchtext"&&this.cleanUp(!0)},rteLostFocus:function(){this.hasFocus&&this.cleanUp(!0)},lookup:function(){this.query=Ze.trim(Ze(this.editor.getBody()).find("#autocomplete-searchtext").text()).replace("​",""),this.$dropdown===void 0&&this.show(),clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(Ze.proxy(function(){var mt=Ze.isFunction(this.options.source)?this.options.source(this.query,Ze.proxy(this.process,this),this.options.delimiter):this.options.source;mt&&this.process(mt)},this),this.options.delay)},matcher:function(mt){return~mt[this.options.queryBy].toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(mt){for(var Nt=[],gt=[],yr=[],ft;(ft=mt.shift())!==void 0;)ft[this.options.queryBy].toLowerCase().indexOf(this.query.toLowerCase())?~ft[this.options.queryBy].indexOf(this.query)?gt.push(ft):yr.push(ft):Nt.push(ft);return Nt.concat(gt,yr)},highlighter:function(mt){return mt.replace(new RegExp("("+this.query.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")+")","ig"),function(Nt,gt){return"<strong>"+gt+"</strong>"})},show:function(){var mt=this.editor.inline?this.offsetInline():this.offset();this.$dropdown=Ze(this.renderDropdown()).css({top:mt.top,left:mt.left}),Ze("body").append(this.$dropdown),this.$dropdown.on("click",Ze.proxy(this.autoCompleteClick,this))},process:function(mt){if(this.hasFocus){var Nt=this,gt=[],yr=Ze.grep(mt,function(ft){return Nt.matcher(ft)});yr=Nt.sorter(yr),yr=yr.slice(0,this.options.items),Ze.each(yr,function(ft,Ir){var vr=Ze(Nt.render(Ir,ft));vr.html(vr.html().replace(vr.text(),Nt.highlighter(vr.text()))),Ze.each(yr[ft],function(Xr,mr){vr.attr("data-"+Xr,mr)}),gt.push(vr[0].outerHTML)}),gt.length?this.$dropdown.html(gt.join("")).show():this.$dropdown.hide()}},renderDropdown:function(){return'<ul class="rte-autocomplete dropdown-menu"><li class="loading"></li></ul>'},render:function(mt,Nt){var gt="<li";return Nt===0&&(gt+=' class="active" '),gt+='><a href="javascript:;"><span>'+mt[this.options.queryBy]+"</span></a></li>",gt},autoCompleteClick:function(mt){var Nt=Ze(mt.target).closest("li").data();Ze.isEmptyObject(Nt)||(this.select(Nt),this.cleanUp(!1)),mt.stopPropagation(),mt.preventDefault()},highlightPreviousResult:function(){var mt=this.$dropdown.find("li.active").index(),Nt=mt===0?this.$dropdown.find("li").length-1:--mt;this.$dropdown.find("li").removeClass("active").eq(Nt).addClass("active")},highlightNextResult:function(){var mt=this.$dropdown.find("li.active").index(),Nt=mt===this.$dropdown.find("li").length-1?0:++mt;this.$dropdown.find("li").removeClass("active").eq(Nt).addClass("active")},select:function(mt){this.editor.focus();var Nt=this.editor.dom.select("span#autocomplete")[0];this.editor.dom.remove(Nt),this.editor.execCommand("mceInsertContent",!1,this.insert(mt))},insert:function(mt){return"<span>"+mt[this.options.queryBy]+"</span>&nbsp;"},cleanUp:function(mt){if(this.unbindEvents(),this.hasFocus=!1,this.$dropdown!==void 0&&(this.$dropdown.remove(),delete this.$dropdown),mt){var Nt=this.query,gt=Ze(this.editor.dom.select("span#autocomplete")),yr=Ze("<p>"+this.options.delimiter+Nt+"</p>")[0].firstChild,ft=Ze(this.editor.selection.getNode()).offset().top===gt.offset().top+(gt.outerHeight()-gt.height())/2;this.editor.dom.replace(yr,gt[0]),ft&&(this.editor.selection.select(yr),this.editor.selection.collapse())}},offset:function(){var mt=Ze(this.editor.getContainer()).offset(),Nt=Ze(this.editor.getContentAreaContainer()).position(),gt=Ze(this.editor.dom.select("span#autocomplete")).position();return{top:mt.top+Nt.top+gt.top+Ze(this.editor.selection.getNode()).innerHeight()-Ze(this.editor.getDoc()).scrollTop()+5,left:mt.left+Nt.left+gt.left}},offsetInline:function(){var mt=Ze(this.editor.dom.select("span#autocomplete")).offset();return{top:mt.top+Ze(this.editor.selection.getNode()).innerHeight()+5,left:mt.left}}},tinymce.create("tinymce.plugins.Mention",{init:function(mt){var Nt,gt=mt.getParam("mentions");gt.delimiter=gt.delimiter!==void 0?Ze.isArray(gt.delimiter)?gt.delimiter:[gt.delimiter]:["@"],gt.triggerRegex=gt.triggerRegex!==void 0?typeof gt.triggerRegex=="string"?new RegExp(gt.triggerRegex,"g"):gt.triggerRegex:/[!"\#$%&'()*+,\-./:;<=>?\[\\\]^_`{|}~\s]{1}$/g;function yr(ft){var Ir=ft.selection.getRng(!0),vr=Ir.startOffset!==Ir.endOffset;if(vr||Ir.startOffset===0)return!0;var Xr=Ir.startContainer.data||"",mr=gt.triggerRegex.test(Xr);return gt.triggerRegex.lastIndex=0,mr}mt.on("keypress",function(ft){var Ir=Ze.inArray(String.fromCharCode(ft.which||ft.keyCode),gt.delimiter);Ir>-1&&yr(mt)&&(Nt===void 0||Nt.hasFocus!==void 0&&!Nt.hasFocus)&&(ft.preventDefault(),Nt=new _r(mt,Ze.extend({},gt,{delimiter:gt.delimiter[Ir]})))})},getInfo:function(){return{longname:"mention",author:"Steven Devooght",version:tinymce.majorVersion+"."+tinymce.minorVersion}}}),tinymce.PluginManager.add("mention",tinymce.plugins.Mention)});(function(){var Ze=tinymce.util.Tools.resolve("tinymce.PluginManager"),_r=function(Pe){var Fe=typeof Pe;return Pe===null?"null":Fe==="object"&&(Array.prototype.isPrototypeOf(Pe)||Pe.constructor&&Pe.constructor.name==="Array")?"array":Fe==="object"&&(String.prototype.isPrototypeOf(Pe)||Pe.constructor&&Pe.constructor.name==="String")?"string":Fe},mt=function(Pe){return function(Fe){return _r(Fe)===Pe}},Nt=function(Pe){return function(Fe){return typeof Fe===Pe}},gt=mt("string"),yr=Nt("function"),ft=function(){},Ir=function(Pe){return function(){return Pe}},vr=function(Pe){return Pe};function Xr(Pe){for(var Fe=[],gr=1;gr<arguments.length;gr++)Fe[gr-1]=arguments[gr];return function(){for(var Ne=[],Oe=0;Oe<arguments.length;Oe++)Ne[Oe]=arguments[Oe];var ut=Fe.concat(Ne);return Pe.apply(null,ut)}}var mr=Ir(!1),Kt=Ir(!0),kr=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ot=tinymce.util.Tools.resolve("tinymce.util.XHR"),Je=function(Pe){return Pe.getParam("template_cdate_classes","cdate")},$e=function(Pe){return Pe.getParam("template_mdate_classes","mdate")},Ht=function(Pe){return Pe.getParam("template_selected_content_classes","selcontent")},rt=function(Pe){return Pe.getParam("template_preview_replace_values")},nr=function(Pe){return Pe.getParam("content_style","","string")},se=function(Pe){return Pe.getParam("content_css_cors",!1,"boolean")},or=function(Pe){return Pe.getParam("template_replace_values")},Me=function(Pe){return Pe.getParam("templates")},Nr=function(Pe){return Pe.getParam("template_cdate_format",Pe.translate("%Y-%m-%d"))},zr=function(Pe){return Pe.getParam("template_mdate_format",Pe.translate("%Y-%m-%d"))},Le=function(Pe){var Fe=Pe.getParam("body_class","","hash");return Fe[Pe.id]||""},Dt=function(Pe){var Fe=Pe.getParam("body_class","","string");return Fe.indexOf("=")===-1?Fe:Le(Pe)},dt=function(Pe,Fe){if(Pe=""+Pe,Pe.length<Fe)for(var gr=0;gr<Fe-Pe.length;gr++)Pe="0"+Pe;return Pe},xn=function(Pe,Fe,gr){gr===void 0&&(gr=new Date);var Ne="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Oe="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ut="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),br="January February March April May June July August September October November December".split(" ");return Fe=Fe.replace("%D","%m/%d/%Y"),Fe=Fe.replace("%r","%I:%M:%S %p"),Fe=Fe.replace("%Y",""+gr.getFullYear()),Fe=Fe.replace("%y",""+gr.getYear()),Fe=Fe.replace("%m",dt(gr.getMonth()+1,2)),Fe=Fe.replace("%d",dt(gr.getDate(),2)),Fe=Fe.replace("%H",""+dt(gr.getHours(),2)),Fe=Fe.replace("%M",""+dt(gr.getMinutes(),2)),Fe=Fe.replace("%S",""+dt(gr.getSeconds(),2)),Fe=Fe.replace("%I",""+((gr.getHours()+11)%12+1)),Fe=Fe.replace("%p",gr.getHours()<12?"AM":"PM"),Fe=Fe.replace("%B",""+Pe.translate(br[gr.getMonth()])),Fe=Fe.replace("%b",""+Pe.translate(ut[gr.getMonth()])),Fe=Fe.replace("%A",""+Pe.translate(Oe[gr.getDay()])),Fe=Fe.replace("%a",""+Pe.translate(Ne[gr.getDay()])),Fe=Fe.replace("%%","%"),Fe},J=function(Pe,Fe){return function(){var gr=Me(Pe);yr(gr)?gr(Fe):gt(gr)?Ot.send({url:gr,success:function(Ne){Fe(JSON.parse(Ne))}}):Fe(gr)}},V=function(Pe,Fe){return kr.each(Fe,function(gr,Ne){yr(gr)&&(gr=gr(Ne)),Pe=Pe.replace(new RegExp("\\{\\$"+Ne+"\\}","g"),gr)}),Pe},Tt=function(Pe,Fe){var gr=Pe.dom,Ne=or(Pe);kr.each(gr.select("*",Fe),function(Oe){kr.each(Ne,function(ut,br){gr.hasClass(Oe,br)&&yr(ut)&&ut(Oe)})})},en=function(Pe,Fe){return new RegExp("\\b"+Fe+"\\b","g").test(Pe.className)},yt=function(Pe,Fe,gr){var Ne=Pe.dom,Oe=Pe.selection.getContent();gr=V(gr,or(Pe));var ut=Ne.create("div",null,gr),br=Ne.select(".mceTmpl",ut);br&&br.length>0&&(ut=Ne.create("div",null),ut.appendChild(br[0].cloneNode(!0))),kr.each(Ne.select("*",ut),function(Jr){en(Jr,Je(Pe).replace(/\s+/g,"|"))&&(Jr.innerHTML=xn(Pe,Nr(Pe))),en(Jr,$e(Pe).replace(/\s+/g,"|"))&&(Jr.innerHTML=xn(Pe,zr(Pe))),en(Jr,Ht(Pe).replace(/\s+/g,"|"))&&(Jr.innerHTML=Oe)}),Tt(Pe,ut),Pe.execCommand("mceInsertContent",!1,ut.innerHTML),Pe.addVisual()},On=function(){return hn},hn=function(){var Pe=function(Ne){return Ne()},Fe=vr,gr={fold:function(Ne,Oe){return Ne()},isSome:mr,isNone:Kt,getOr:Fe,getOrThunk:Pe,getOrDie:function(Ne){throw new Error(Ne||"error: getOrDie called on none.")},getOrNull:Ir(null),getOrUndefined:Ir(void 0),or:Fe,orThunk:Pe,map:On,each:ft,bind:On,exists:mr,forall:Kt,filter:function(){return On()},toArray:function(){return[]},toString:Ir("none()")};return gr}(),E=function(Pe){var Fe=Ir(Pe),gr=function(){return Oe},Ne=function(ut){return ut(Pe)},Oe={fold:function(ut,br){return br(Pe)},isSome:Kt,isNone:mr,getOr:Fe,getOrThunk:Fe,getOrDie:Fe,getOrNull:Fe,getOrUndefined:Fe,or:gr,orThunk:gr,map:function(ut){return E(ut(Pe))},each:function(ut){ut(Pe)},bind:Ne,exists:Ne,forall:Ne,filter:function(ut){return ut(Pe)?Oe:hn},toArray:function(){return[Pe]},toString:function(){return"some("+Pe+")"}};return Oe},Rt=function(Pe){return Pe==null?hn:E(Pe)},Ve={some:E,none:On,from:Rt},Ft=function(Pe,Fe,gr){for(var Ne=0,Oe=Pe.length;Ne<Oe;Ne++){var ut=Pe[Ne];if(Fe(ut,Ne))return Ve.some(ut);if(gr(ut,Ne))break}return Ve.none()},In=function(Pe,Fe){return Ft(Pe,Fe,mr)},qn=tinymce.util.Tools.resolve("tinymce.Env"),an=tinymce.util.Tools.resolve("tinymce.util.Promise"),Un=Object.hasOwnProperty,Z=function(Pe,Fe){return La(Pe,Fe)?Ve.from(Pe[Fe]):Ve.none()},La=function(Pe,Fe){return Un.call(Pe,Fe)},$t={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},Ye=function(Pe){return Pe.replace(/["'<>&]/g,function(Fe){return Z($t,Fe).getOr(Fe)})},un=function(Pe,Fe){if(Fe.indexOf("<html>")===-1){var gr="",Ne=nr(Pe),Oe=se(Pe)?' crossorigin="anonymous"':"";kr.each(Pe.contentCSS,function(nt){gr+='<link type="text/css" rel="stylesheet" href="'+Pe.documentBaseURI.toAbsolute(nt)+'"'+Oe+">"}),Ne&&(gr+='<style type="text/css">'+Ne+"</style>");var ut=Dt(Pe),br=Pe.dom.encode,Jr=qn.mac?"e.metaKey":"e.ctrlKey && !e.altKey",_n='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Jr+")) {e.preventDefault();}}}, false);<\/script> ",$n=Pe.getBody().dir,Vt=$n?' dir="'+br($n)+'"':"";Fe='<!DOCTYPE html><html><head><base href="'+br(Pe.documentBaseURI.getURI())+'">'+gr+_n+'</head><body class="'+br(ut)+'"'+Vt+">"+Fe+"</body></html>"}return V(Fe,rt(Pe))},ir=function(Pe,Fe){var gr=function(){if(!Fe||Fe.length===0){var nt=Pe.translate("No templates defined.");return Pe.notificationManager.open({text:nt,type:"info"}),Ve.none()}return Ve.from(kr.map(Fe,function(ct,bt){var zt=function(xr){return xr.url!==void 0};return{selected:bt===0,text:ct.title,category:ct.category,value:{url:zt(ct)?Ve.from(ct.url):Ve.none(),content:zt(ct)?Ve.none():Ve.from(ct.content),description:ct.description}}}))},Ne=function(nt){for(var ct=[],bt=[],zt=0;zt<nt.length;zt++)nt[zt].category in bt||(bt[nt[zt].category]={text:nt[zt].category,items:[]}),bt[nt[zt].category].items.push({text:nt[zt].text,value:nt[zt].text});for(const[xr,Rr]of Object.entries(bt))ct.push({text:xr,items:Rr.items});return ct},Oe=function(nt,ct){return In(nt,function(bt){return bt.text===ct})},ut=function(nt){Pe.windowManager.alert("Could not load the specified template.",function(){return nt.focus("template")})},br=function(nt){return new an(function(ct,bt){nt.value.url.fold(function(){return ct(nt.value.content.getOr(""))},function(zt){return Ot.send({url:zt,success:function(xr){ct(xr)},error:function(xr){bt(xr)}})})})},Jr=function(nt,ct){return function(bt,zt){if(zt.name==="template"){var xr=bt.getData().template;Oe(nt,xr).each(function(Rr){bt.block("Loading..."),br(Rr).then(function(sr){ct(bt,Rr,sr)}).catch(function(){ct(bt,Rr,""),bt.disable("save"),ut(bt)})})}}},_n=function(nt){return function(ct){var bt=ct.getData();Oe(nt,bt.template).each(function(zt){br(zt).then(function(xr){Pe.execCommand("mceInsertTemplate",!1,xr),ct.close()}).catch(function(){ct.disable("save"),ut(ct)})})}},$n=function(nt){var ct=Ne(nt),bt=function(Rr,sr){return{title:"Insert Template",size:"large",body:{type:"panel",classes:"advTemplates",items:Rr},initialData:sr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Insert",primary:!0}],onSubmit:_n(nt),onChange:Jr(nt,zt)}},zt=function(Rr,sr,He){var Xt=un(Pe,He),Pr=[{type:"panel",classes:"l",items:[{type:"listbox",name:"template",label:sr.text,items:ct},{type:"htmlpanel",html:'<p aria-live="polite" class="bordered">'+Ye(sr.value.description)+"</p>"}]},{type:"panel",classes:"r",items:[{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}]}],lr={template:sr.text,preview:Xt};Rr.unblock(),Rr.redial(bt(Pr,lr)),Rr.focus("template")},xr=Pe.windowManager.open(bt([],{template:"",preview:""}));xr.block("Loading..."),br(nt[0]).then(function(Rr){zt(xr,nt[0],Rr)}).catch(function(){zt(xr,nt[0],""),xr.disable("save"),ut(xr)})},Vt=gr();Vt.each($n)},Zt=function(Pe){return function(Fe){ir(Pe,Fe)}},qr=function(Pe){Pe.addCommand("mceInsertTemplate",Xr(yt,Pe)),Pe.addCommand("mceTemplate",J(Pe,Zt(Pe)))},Zr=function(Pe){Pe.on("PreProcess",function(Fe){var gr=Pe.dom,Ne=zr(Pe);kr.each(gr.select("div",Fe.node),function(Oe){gr.hasClass(Oe,"mceTmpl")&&(kr.each(gr.select("*",Oe),function(ut){gr.hasClass(ut,$e(Pe).replace(/\s+/g,"|"))&&(ut.innerHTML=xn(Pe,Ne))}),Tt(Pe,Oe))})})},At=function(Pe){var Fe=function(){return Pe.execCommand("mceTemplate")};Pe.ui.registry.addButton("advancedTemplate",{text:"Templates",tooltip:"Insert template",onAction:Fe}),Pe.ui.registry.addMenuItem("advancedTemplate",{icon:"template",text:"Insert template...",onAction:Fe})};function Qt(){Ze.add("advancedTemplate",function(Pe){At(Pe),qr(Pe),Zr(Pe)})}Qt()})();tinymce.PluginManager.add("aiTools",function(Ze){const _r=function(){const Nt=[{text:"Summarize",value:"summary"},{text:"Proofread",value:"proofread"},{text:"Structure Meeting Notes",value:"meetingMinutes"},{text:"Rewrite to be friendlier",value:"writeFriendlier"},{text:"Rewrite to be more professional",value:"writeProfessional"},{text:"Extract Action Items",value:"getActionItems"},{text:"Create Implementation Intention",value:"createII"},{text:"Brainstorm Solutions",value:"brainstorm"},{text:"Write a blog post about",value:"writeBlogPost"}];return Ze.windowManager.open({title:"L.E.O. Writing Support",body:{type:"panel",items:[{type:"textarea",name:"llamadorianContent",label:"Provide your content here"},{type:"selectbox",name:"prompt",label:"Select what you would like to do",items:Nt}]},buttons:[{type:"cancel",text:"Close"},{type:"submit",text:"Generate",primary:!0}],initialData:{llamadorianContent:tinymce.activeEditor.selection.getContent({format:"text"})??tinymce.activeEditor.getContent({format:"text"})},onSubmit:async function(gt){gt.block("Loading...");const yr=gt.getData(),ft=yr.llamadorianContent;let Ir={prompt:yr.prompt,content:ft};try{gt.close(),Ze.insertContent('<span id="ai-generation-placeholder" style="background-color: #f0f0f0; padding: 2px 4px; border-radius: 3px;">✨ Generating...</span>'),await mt(Ir)}catch(vr){console.log("something went wrong"+vr);const Xr=Ze.dom.get("ai-generation-placeholder");Xr&&Ze.dom.remove(Xr),Ze.insertContent('<span style="color: red;">Error generating content. Please try again.</span>')}}})};async function mt(Nt){const gt=leantime.appUrl+"/copilot/action/editorTools",ft=(await fetch(gt,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Nt)})).body.getReader(),Ir=new TextDecoder;let vr="",Xr="",mr=Ze.dom.get("ai-generation-placeholder"),Kt=!0;for(;;){const{done:kr,value:Ot}=await ft.read();if(kr)break;vr+=Ir.decode(Ot,{stream:!0});const Je=vr.split(`
`);vr=Je.pop();for(const $e of Je)if($e.startsWith("data: "))try{const Ht=JSON.parse($e.slice(6));if(Ht.chunk){Xr+=Ht.chunk;const rt=Xr.replace(/\n/g,"<br>");mr&&(Kt?(mr.innerHTML=rt,mr.removeAttribute("id"),mr.style.backgroundColor="transparent",mr.style.padding="0",Kt=!1):mr.innerHTML=rt)}else if(Ht.done){if(mr){let rt;Ht.complete_response?rt=Ht.complete_response.replace(/\n/g,"<br>"):rt=Xr.replace(/\n/g,"<br>"),mr.innerHTML=rt}return}}catch{}}}return console.log("Add ui elements"),Ze.ui.registry.addIcon("aiTools",`<span class="fancyLink">🪄 LEO AI</span>
`),Ze.ui.registry.addButton("aiTools",{text:'<span class="fancyLink"><i class="fa-solid fa-wand-magic-sparkles"></i> Ai Tools</span>',tooltip:"Leo Helper",onAction:function(){_r()}}),Ze.ui.registry.addMenuItem("aiTools",{text:"ChatGPT",onAction:function(){_r()}}),Ze.ui.registry.addContextMenu("AI Tools",{update:function(Nt){return"AI Tools"},onAction:function(){_r()}}),{getMetadata:function(){return{name:"TinyMCE Llamadorian Plugin",url:"https://marketplace.leantime.io/product/leantime-ai/"}}}})});export default hW();
