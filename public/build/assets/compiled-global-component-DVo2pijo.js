const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-2BBEFEWP-B7Q1tWpY.js","assets/graph-CAmx6AUC.js","assets/_baseUniq-DModKOV9.js","assets/layout-DOc1GEH0.js","assets/_basePickBy-a08bJQ1D.js","assets/clone-BzP8VCB1.js","assets/datetime-CncuFZOB.js","assets/_commonjsHelpers-C4iS2aBk.js","assets/__jquery-global_commonjs-proxy-CVKeBviM.js","assets/preload-helper-DPi8upcZ.js","assets/c4Diagram-AAMF2YG6-DUsiFu5W.js","assets/chunk-OMD6QJNC-CoyeModB.js","assets/flowDiagram-THRYKUMA-D2DxGJ7i.js","assets/chunk-GLLZNHP4-5PdOk74G.js","assets/chunk-WVR4S24B-CafWdYV6.js","assets/chunk-NRVI72HA-WOCs3NoM.js","assets/channel-B00SGDVw.js","assets/erDiagram-HZWUO2LU-BY_hThWT.js","assets/gitGraphDiagram-OJR772UL-2VdaSDig.js","assets/chunk-ANTBXLJU-Dk2vQ_Dg.js","assets/chunk-FHKO5MBM-DomPTdQg.js","assets/treemap-75Q7IDZK-D1mKVFIu.js","assets/ganttDiagram-WV7ZQ7D5-86DgclFC.js","assets/linear-C7dwUKCw.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-6WOFNB3A-BWBji1Jv.js","assets/pieDiagram-DBDJKBY4-BA8zdzZh.js","assets/arc-CL3vFlov.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-YPSRARAO-DmgFDpWp.js","assets/xychartDiagram-FDP5SA34-VCnO18pj.js","assets/requirementDiagram-EGVEC5DT-DEktYSRx.js","assets/sequenceDiagram-WFGC7UMF-qgemq1-A.js","assets/classDiagram-3BZAVTQC-DwtiC-E0.js","assets/chunk-JBRWN2VN-pCwjVVqE.js","assets/classDiagram-v2-QTMF73CY-DwtiC-E0.js","assets/stateDiagram-UUKSUZ4H-BpYI0d4k.js","assets/chunk-LXBSTHXV-nraRLG_w.js","assets/stateDiagram-v2-EYPG3UTE-MaAH5o2X.js","assets/journeyDiagram-FFXJYRFH-BeuLSleF.js","assets/timeline-definition-3HZDQTIS-DV1Y5aeN.js","assets/mindmap-definition-LNHGMQRG-CuQ9Dto9.js","assets/cytoscape.esm-BY7v1xhs.js","assets/kanban-definition-KOZQBZVT-Bi5xPlIi.js","assets/sankeyDiagram-HRAUVNP4-CYDxk6xF.js","assets/diagram-GUPCWM2R-89Nc38zF.js","assets/diagram-RP2FKANI-BwYmaPeI.js","assets/blockDiagram-ZYB65J3Q-CcuVBndS.js","assets/architectureDiagram-KFL7JDKH-DjisN_2j.js","assets/diagram-4IRLE6MV-CEhydzyn.js"])))=>i.map(i=>d[i]);
var aW=Object.defineProperty;var oW=(t,e,i)=>e in t?aW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Di=(t,e,i)=>oW(t,typeof e!="symbol"?e+"":e,i);import{S as lW,I as cW,a as hW,b as uW,D as dW}from"./datetime-CncuFZOB.js";import{c as un,a as Wd,g as fW}from"./_commonjsHelpers-C4iS2aBk.js";import{r as pW}from"./__jquery-global_commonjs-proxy-CVKeBviM.js";import{_ as Wr}from"./preload-helper-DPi8upcZ.js";function mW(t,e){for(var i=0;i<e.length;i++){const s=e[i];if(typeof s!="string"&&!Array.isArray(s)){for(const n in s)if(n!=="default"&&!(n in t)){const l=Object.getOwnPropertyDescriptor(s,n);l&&Object.defineProperty(t,n,l.get?l:{enumerable:!0,get:()=>s[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var H3;function ii(){return H3.apply(null,arguments)}function gW(t){H3=t}function _o(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function $h(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Sr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function yS(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Sr(t,e))return!1;return!0}function ta(t){return t===void 0}function jl(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Um(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function W3(t,e){var i=[],s,n=t.length;for(s=0;s<n;++s)i.push(e(t[s],s));return i}function vc(t,e){for(var i in e)Sr(e,i)&&(t[i]=e[i]);return Sr(e,"toString")&&(t.toString=e.toString),Sr(e,"valueOf")&&(t.valueOf=e.valueOf),t}function el(t,e,i,s){return uF(t,e,i,s,!0).utc()}function yW(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ir(t){return t._pf==null&&(t._pf=yW()),t._pf}var Kx;Array.prototype.some?Kx=Array.prototype.some:Kx=function(t){var e=Object(this),i=e.length>>>0,s;for(s=0;s<i;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function vS(t){var e=null,i=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=ir(t),i=Kx.call(e.parsedDateParts,function(n){return n!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function Mb(t){var e=el(NaN);return t!=null?vc(ir(e),t):ir(e).userInvalidated=!0,e}var LD=ii.momentProperties=[],j1=!1;function bS(t,e){var i,s,n,l=LD.length;if(ta(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),ta(e._i)||(t._i=e._i),ta(e._f)||(t._f=e._f),ta(e._l)||(t._l=e._l),ta(e._strict)||(t._strict=e._strict),ta(e._tzm)||(t._tzm=e._tzm),ta(e._isUTC)||(t._isUTC=e._isUTC),ta(e._offset)||(t._offset=e._offset),ta(e._pf)||(t._pf=ir(e)),ta(e._locale)||(t._locale=e._locale),l>0)for(i=0;i<l;i++)s=LD[i],n=e[s],ta(n)||(t[s]=n);return t}function Hm(t){bS(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),j1===!1&&(j1=!0,ii.updateOffset(this),j1=!1)}function wo(t){return t instanceof Hm||t!=null&&t._isAMomentObject!=null}function j3(t){ii.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Xa(t,e){var i=!0;return vc(function(){if(ii.deprecationHandler!=null&&ii.deprecationHandler(null,t),i){var s=[],n,l,a,h=arguments.length;for(l=0;l<h;l++){if(n="",typeof arguments[l]=="object"){n+=`
[`+l+"] ";for(a in arguments[0])Sr(arguments[0],a)&&(n+=a+": "+arguments[0][a]+", ");n=n.slice(0,-2)}else n=arguments[l];s.push(n)}j3(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),i=!1}return e.apply(this,arguments)},e)}var RD={};function q3(t,e){ii.deprecationHandler!=null&&ii.deprecationHandler(t,e),RD[t]||(j3(e),RD[t]=!0)}ii.suppressDeprecationWarnings=!1;ii.deprecationHandler=null;function tl(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function vW(t){var e,i;for(i in t)Sr(t,i)&&(e=t[i],tl(e)?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Zx(t,e){var i=vc({},t),s;for(s in e)Sr(e,s)&&($h(t[s])&&$h(e[s])?(i[s]={},vc(i[s],t[s]),vc(i[s],e[s])):e[s]!=null?i[s]=e[s]:delete i[s]);for(s in t)Sr(t,s)&&!Sr(e,s)&&$h(t[s])&&(i[s]=vc({},i[s]));return i}function _S(t){t!=null&&this.set(t)}var Qx;Object.keys?Qx=Object.keys:Qx=function(t){var e,i=[];for(e in t)Sr(t,e)&&i.push(e);return i};var bW={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function _W(t,e,i){var s=this._calendar[t]||this._calendar.sameElse;return tl(s)?s.call(e,i):s}function Yo(t,e,i){var s=""+Math.abs(t),n=e-s.length,l=t>=0;return(l?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}var wS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ry=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q1={},id={};function Oi(t,e,i,s){var n=s;typeof s=="string"&&(n=function(){return this[s]()}),t&&(id[t]=n),e&&(id[e[0]]=function(){return Yo(n.apply(this,arguments),e[1],e[2])}),i&&(id[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function wW(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function xW(t){var e=t.match(wS),i,s;for(i=0,s=e.length;i<s;i++)id[e[i]]?e[i]=id[e[i]]:e[i]=wW(e[i]);return function(n){var l="",a;for(a=0;a<s;a++)l+=tl(e[a])?e[a].call(n,t):e[a];return l}}function rv(t,e){return t.isValid()?(e=$3(e,t.localeData()),q1[e]=q1[e]||xW(e),q1[e](t)):t.localeData().invalidDate()}function $3(t,e){var i=5;function s(n){return e.longDateFormat(n)||n}for(Ry.lastIndex=0;i>=0&&Ry.test(t);)t=t.replace(Ry,s),Ry.lastIndex=0,i-=1;return t}var kW={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function SW(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(wS).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var TW="Invalid date";function CW(){return this._invalidDate}var EW="%d",OW=/\d{1,2}/;function MW(t){return this._ordinal.replace("%d",t)}var AW={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function PW(t,e,i,s){var n=this._relativeTime[i];return tl(n)?n(t,e,i,s):n.replace(/%d/i,t)}function DW(t,e){var i=this._relativeTime[t>0?"future":"past"];return tl(i)?i(e):i.replace(/%s/i,e)}var FD={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ka(t){return typeof t=="string"?FD[t]||FD[t.toLowerCase()]:void 0}function xS(t){var e={},i,s;for(s in t)Sr(t,s)&&(i=Ka(s),i&&(e[i]=t[s]));return e}var LW={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function RW(t){var e=[],i;for(i in t)Sr(t,i)&&e.push({unit:i,priority:LW[i]});return e.sort(function(s,n){return s.priority-n.priority}),e}var V3=/\d/,Aa=/\d\d/,Y3=/\d{3}/,kS=/\d{4}/,Ab=/[+-]?\d{6}/,as=/\d\d?/,G3=/\d\d\d\d?/,X3=/\d\d\d\d\d\d?/,Pb=/\d{1,3}/,SS=/\d{1,4}/,Db=/[+-]?\d{1,6}/,jd=/\d+/,Lb=/[+-]?\d+/,FW=/Z|[+-]\d\d:?\d\d/gi,Rb=/Z|[+-]\d\d(?::?\d\d)?/gi,IW=/[+-]?\d+(\.\d{1,3})?/,Wm=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,qd=/^[1-9]\d?/,TS=/^([1-9]\d|\d)/,Ev;Ev={};function ni(t,e,i){Ev[t]=tl(e)?e:function(s,n){return s&&i?i:e}}function BW(t,e){return Sr(Ev,t)?Ev[t](e._strict,e._locale):new RegExp(NW(t))}function NW(t){return Nl(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,i,s,n,l){return i||s||n||l}))}function Nl(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function za(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function fr(t){var e=+t,i=0;return e!==0&&isFinite(e)&&(i=za(e)),i}var Jx={};function Yr(t,e){var i,s=e,n;for(typeof t=="string"&&(t=[t]),jl(e)&&(s=function(l,a){a[e]=fr(l)}),n=t.length,i=0;i<n;i++)Jx[t[i]]=s}function jm(t,e){Yr(t,function(i,s,n,l){n._w=n._w||{},e(i,n._w,n,l)})}function zW(t,e,i){e!=null&&Sr(Jx,t)&&Jx[t](e,i._a,i,t)}function Fb(t){return t%4===0&&t%100!==0||t%400===0}var Sn=0,Rl=1,jo=2,js=3,go=4,Fl=5,Bh=6,UW=7,HW=8;Oi("Y",0,0,function(){var t=this.year();return t<=9999?Yo(t,4):"+"+t});Oi(0,["YY",2],0,function(){return this.year()%100});Oi(0,["YYYY",4],0,"year");Oi(0,["YYYYY",5],0,"year");Oi(0,["YYYYYY",6,!0],0,"year");ni("Y",Lb);ni("YY",as,Aa);ni("YYYY",SS,kS);ni("YYYYY",Db,Ab);ni("YYYYYY",Db,Ab);Yr(["YYYYY","YYYYYY"],Sn);Yr("YYYY",function(t,e){e[Sn]=t.length===2?ii.parseTwoDigitYear(t):fr(t)});Yr("YY",function(t,e){e[Sn]=ii.parseTwoDigitYear(t)});Yr("Y",function(t,e){e[Sn]=parseInt(t,10)});function Qp(t){return Fb(t)?366:365}ii.parseTwoDigitYear=function(t){return fr(t)+(fr(t)>68?1900:2e3)};var K3=$d("FullYear",!0);function WW(){return Fb(this.year())}function $d(t,e){return function(i){return i!=null?(Z3(this,t,i),ii.updateOffset(this,e),this):ym(this,t)}}function ym(t,e){if(!t.isValid())return NaN;var i=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return s?i.getUTCSeconds():i.getSeconds();case"Minutes":return s?i.getUTCMinutes():i.getMinutes();case"Hours":return s?i.getUTCHours():i.getHours();case"Date":return s?i.getUTCDate():i.getDate();case"Day":return s?i.getUTCDay():i.getDay();case"Month":return s?i.getUTCMonth():i.getMonth();case"FullYear":return s?i.getUTCFullYear():i.getFullYear();default:return NaN}}function Z3(t,e,i){var s,n,l,a,h;if(!(!t.isValid()||isNaN(i))){switch(s=t._d,n=t._isUTC,e){case"Milliseconds":return void(n?s.setUTCMilliseconds(i):s.setMilliseconds(i));case"Seconds":return void(n?s.setUTCSeconds(i):s.setSeconds(i));case"Minutes":return void(n?s.setUTCMinutes(i):s.setMinutes(i));case"Hours":return void(n?s.setUTCHours(i):s.setHours(i));case"Date":return void(n?s.setUTCDate(i):s.setDate(i));case"FullYear":break;default:return}l=i,a=t.month(),h=t.date(),h=h===29&&a===1&&!Fb(l)?28:h,n?s.setUTCFullYear(l,a,h):s.setFullYear(l,a,h)}}function jW(t){return t=Ka(t),tl(this[t])?this[t]():this}function qW(t,e){if(typeof t=="object"){t=xS(t);var i=RW(t),s,n=i.length;for(s=0;s<n;s++)this[i[s].unit](t[i[s].unit])}else if(t=Ka(t),tl(this[t]))return this[t](e);return this}function $W(t,e){return(t%e+e)%e}var Cs;Array.prototype.indexOf?Cs=Array.prototype.indexOf:Cs=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function CS(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=$W(e,12);return t+=(e-i)/12,i===1?Fb(t)?29:28:31-i%7%2}Oi("M",["MM",2],"Mo",function(){return this.month()+1});Oi("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Oi("MMMM",0,0,function(t){return this.localeData().months(this,t)});ni("M",as,qd);ni("MM",as,Aa);ni("MMM",function(t,e){return e.monthsShortRegex(t)});ni("MMMM",function(t,e){return e.monthsRegex(t)});Yr(["M","MM"],function(t,e){e[Rl]=fr(t)-1});Yr(["MMM","MMMM"],function(t,e,i,s){var n=i._locale.monthsParse(t,s,i._strict);n!=null?e[Rl]=n:ir(i).invalidMonth=t});var VW="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Q3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),J3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,YW=Wm,GW=Wm;function XW(t,e){return t?_o(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||J3).test(e)?"format":"standalone"][t.month()]:_o(this._months)?this._months:this._months.standalone}function KW(t,e){return t?_o(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[J3.test(e)?"format":"standalone"][t.month()]:_o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ZW(t,e,i){var s,n,l,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)l=el([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(l,"").toLocaleLowerCase();return i?e==="MMM"?(n=Cs.call(this._shortMonthsParse,a),n!==-1?n:null):(n=Cs.call(this._longMonthsParse,a),n!==-1?n:null):e==="MMM"?(n=Cs.call(this._shortMonthsParse,a),n!==-1?n:(n=Cs.call(this._longMonthsParse,a),n!==-1?n:null)):(n=Cs.call(this._longMonthsParse,a),n!==-1?n:(n=Cs.call(this._shortMonthsParse,a),n!==-1?n:null))}function QW(t,e,i){var s,n,l;if(this._monthsParseExact)return ZW.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=el([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),!i&&!this._monthsParse[s]&&(l="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(l.replace(".",""),"i")),i&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(i&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}}function eF(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=fr(e);else if(e=t.localeData().monthsParse(e),!jl(e))return t}var i=e,s=t.date();return s=s<29?s:Math.min(s,CS(t.year(),i)),t._isUTC?t._d.setUTCMonth(i,s):t._d.setMonth(i,s),t}function tF(t){return t!=null?(eF(this,t),ii.updateOffset(this,!0),this):ym(this,"Month")}function JW(){return CS(this.year(),this.month())}function ej(t){return this._monthsParseExact?(Sr(this,"_monthsRegex")||iF.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Sr(this,"_monthsShortRegex")||(this._monthsShortRegex=YW),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function tj(t){return this._monthsParseExact?(Sr(this,"_monthsRegex")||iF.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Sr(this,"_monthsRegex")||(this._monthsRegex=GW),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function iF(){function t(d,m){return m.length-d.length}var e=[],i=[],s=[],n,l,a,h;for(n=0;n<12;n++)l=el([2e3,n]),a=Nl(this.monthsShort(l,"")),h=Nl(this.months(l,"")),e.push(a),i.push(h),s.push(h),s.push(a);e.sort(t),i.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ij(t,e,i,s,n,l,a){var h;return t<100&&t>=0?(h=new Date(t+400,e,i,s,n,l,a),isFinite(h.getFullYear())&&h.setFullYear(t)):h=new Date(t,e,i,s,n,l,a),h}function vm(t){var e,i;return t<100&&t>=0?(i=Array.prototype.slice.call(arguments),i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Ov(t,e,i){var s=7+e-i,n=(7+vm(t,0,s).getUTCDay()-e)%7;return-n+s-1}function rF(t,e,i,s,n){var l=(7+i-s)%7,a=Ov(t,s,n),h=1+7*(e-1)+l+a,d,m;return h<=0?(d=t-1,m=Qp(d)+h):h>Qp(t)?(d=t+1,m=h-Qp(t)):(d=t,m=h),{year:d,dayOfYear:m}}function bm(t,e,i){var s=Ov(t.year(),e,i),n=Math.floor((t.dayOfYear()-s-1)/7)+1,l,a;return n<1?(a=t.year()-1,l=n+zl(a,e,i)):n>zl(t.year(),e,i)?(l=n-zl(t.year(),e,i),a=t.year()+1):(a=t.year(),l=n),{week:l,year:a}}function zl(t,e,i){var s=Ov(t,e,i),n=Ov(t+1,e,i);return(Qp(t)-s+n)/7}Oi("w",["ww",2],"wo","week");Oi("W",["WW",2],"Wo","isoWeek");ni("w",as,qd);ni("ww",as,Aa);ni("W",as,qd);ni("WW",as,Aa);jm(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=fr(t)});function rj(t){return bm(t,this._week.dow,this._week.doy).week}var sj={dow:0,doy:6};function nj(){return this._week.dow}function aj(){return this._week.doy}function oj(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function lj(t){var e=bm(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Oi("d",0,"do","day");Oi("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Oi("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Oi("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Oi("e",0,0,"weekday");Oi("E",0,0,"isoWeekday");ni("d",as);ni("e",as);ni("E",as);ni("dd",function(t,e){return e.weekdaysMinRegex(t)});ni("ddd",function(t,e){return e.weekdaysShortRegex(t)});ni("dddd",function(t,e){return e.weekdaysRegex(t)});jm(["dd","ddd","dddd"],function(t,e,i,s){var n=i._locale.weekdaysParse(t,s,i._strict);n!=null?e.d=n:ir(i).invalidWeekday=t});jm(["d","e","E"],function(t,e,i,s){e[s]=fr(t)});function cj(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function hj(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function ES(t,e){return t.slice(e,7).concat(t.slice(0,e))}var uj="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),sF="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),dj="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),fj=Wm,pj=Wm,mj=Wm;function gj(t,e){var i=_o(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?ES(i,this._week.dow):t?i[t.day()]:i}function yj(t){return t===!0?ES(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function vj(t){return t===!0?ES(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function bj(t,e,i){var s,n,l,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)l=el([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(l,"").toLocaleLowerCase();return i?e==="dddd"?(n=Cs.call(this._weekdaysParse,a),n!==-1?n:null):e==="ddd"?(n=Cs.call(this._shortWeekdaysParse,a),n!==-1?n:null):(n=Cs.call(this._minWeekdaysParse,a),n!==-1?n:null):e==="dddd"?(n=Cs.call(this._weekdaysParse,a),n!==-1||(n=Cs.call(this._shortWeekdaysParse,a),n!==-1)?n:(n=Cs.call(this._minWeekdaysParse,a),n!==-1?n:null)):e==="ddd"?(n=Cs.call(this._shortWeekdaysParse,a),n!==-1||(n=Cs.call(this._weekdaysParse,a),n!==-1)?n:(n=Cs.call(this._minWeekdaysParse,a),n!==-1?n:null)):(n=Cs.call(this._minWeekdaysParse,a),n!==-1||(n=Cs.call(this._weekdaysParse,a),n!==-1)?n:(n=Cs.call(this._shortWeekdaysParse,a),n!==-1?n:null))}function _j(t,e,i){var s,n,l;if(this._weekdaysParseExact)return bj.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=el([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(l="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(l.replace(".",""),"i")),i&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(i&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(i&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}}function wj(t){if(!this.isValid())return t!=null?this:NaN;var e=ym(this,"Day");return t!=null?(t=cj(t,this.localeData()),this.add(t-e,"d")):e}function xj(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function kj(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=hj(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function Sj(t){return this._weekdaysParseExact?(Sr(this,"_weekdaysRegex")||OS.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Sr(this,"_weekdaysRegex")||(this._weekdaysRegex=fj),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Tj(t){return this._weekdaysParseExact?(Sr(this,"_weekdaysRegex")||OS.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Sr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=pj),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Cj(t){return this._weekdaysParseExact?(Sr(this,"_weekdaysRegex")||OS.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Sr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=mj),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function OS(){function t(y,b){return b.length-y.length}var e=[],i=[],s=[],n=[],l,a,h,d,m;for(l=0;l<7;l++)a=el([2e3,1]).day(l),h=Nl(this.weekdaysMin(a,"")),d=Nl(this.weekdaysShort(a,"")),m=Nl(this.weekdays(a,"")),e.push(h),i.push(d),s.push(m),n.push(h),n.push(d),n.push(m);e.sort(t),i.sort(t),s.sort(t),n.sort(t),this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function MS(){return this.hours()%12||12}function Ej(){return this.hours()||24}Oi("H",["HH",2],0,"hour");Oi("h",["hh",2],0,MS);Oi("k",["kk",2],0,Ej);Oi("hmm",0,0,function(){return""+MS.apply(this)+Yo(this.minutes(),2)});Oi("hmmss",0,0,function(){return""+MS.apply(this)+Yo(this.minutes(),2)+Yo(this.seconds(),2)});Oi("Hmm",0,0,function(){return""+this.hours()+Yo(this.minutes(),2)});Oi("Hmmss",0,0,function(){return""+this.hours()+Yo(this.minutes(),2)+Yo(this.seconds(),2)});function nF(t,e){Oi(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}nF("a",!0);nF("A",!1);function aF(t,e){return e._meridiemParse}ni("a",aF);ni("A",aF);ni("H",as,TS);ni("h",as,qd);ni("k",as,qd);ni("HH",as,Aa);ni("hh",as,Aa);ni("kk",as,Aa);ni("hmm",G3);ni("hmmss",X3);ni("Hmm",G3);ni("Hmmss",X3);Yr(["H","HH"],js);Yr(["k","kk"],function(t,e,i){var s=fr(t);e[js]=s===24?0:s});Yr(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t});Yr(["h","hh"],function(t,e,i){e[js]=fr(t),ir(i).bigHour=!0});Yr("hmm",function(t,e,i){var s=t.length-2;e[js]=fr(t.substr(0,s)),e[go]=fr(t.substr(s)),ir(i).bigHour=!0});Yr("hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[js]=fr(t.substr(0,s)),e[go]=fr(t.substr(s,2)),e[Fl]=fr(t.substr(n)),ir(i).bigHour=!0});Yr("Hmm",function(t,e,i){var s=t.length-2;e[js]=fr(t.substr(0,s)),e[go]=fr(t.substr(s))});Yr("Hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[js]=fr(t.substr(0,s)),e[go]=fr(t.substr(s,2)),e[Fl]=fr(t.substr(n))});function Oj(t){return(t+"").toLowerCase().charAt(0)==="p"}var Mj=/[ap]\.?m?\.?/i,Aj=$d("Hours",!0);function Pj(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var oF={calendar:bW,longDateFormat:kW,invalidDate:TW,ordinal:EW,dayOfMonthOrdinalParse:OW,relativeTime:AW,months:VW,monthsShort:Q3,week:sj,weekdays:uj,weekdaysMin:dj,weekdaysShort:sF,meridiemParse:Mj},ds={},Sp={},_m;function Dj(t,e){var i,s=Math.min(t.length,e.length);for(i=0;i<s;i+=1)if(t[i]!==e[i])return i;return s}function ID(t){return t&&t.toLowerCase().replace("_","-")}function Lj(t){for(var e=0,i,s,n,l;e<t.length;){for(l=ID(t[e]).split("-"),i=l.length,s=ID(t[e+1]),s=s?s.split("-"):null;i>0;){if(n=Ib(l.slice(0,i).join("-")),n)return n;if(s&&s.length>=i&&Dj(l,s)>=i-1)break;i--}e++}return _m}function Rj(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Ib(t){var e=null,i;if(ds[t]===void 0&&typeof module<"u"&&module&&module.exports&&Rj(t))try{e=_m._abbr,i=require,i("./locale/"+t),xc(e)}catch{ds[t]=null}return ds[t]}function xc(t,e){var i;return t&&(ta(e)?i=Xl(t):i=AS(t,e),i?_m=i:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),_m._abbr}function AS(t,e){if(e!==null){var i,s=oF;if(e.abbr=t,ds[t]!=null)q3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=ds[t]._config;else if(e.parentLocale!=null)if(ds[e.parentLocale]!=null)s=ds[e.parentLocale]._config;else if(i=Ib(e.parentLocale),i!=null)s=i._config;else return Sp[e.parentLocale]||(Sp[e.parentLocale]=[]),Sp[e.parentLocale].push({name:t,config:e}),null;return ds[t]=new _S(Zx(s,e)),Sp[t]&&Sp[t].forEach(function(n){AS(n.name,n.config)}),xc(t),ds[t]}else return delete ds[t],null}function Fj(t,e){if(e!=null){var i,s,n=oF;ds[t]!=null&&ds[t].parentLocale!=null?ds[t].set(Zx(ds[t]._config,e)):(s=Ib(t),s!=null&&(n=s._config),e=Zx(n,e),s==null&&(e.abbr=t),i=new _S(e),i.parentLocale=ds[t],ds[t]=i),xc(t)}else ds[t]!=null&&(ds[t].parentLocale!=null?(ds[t]=ds[t].parentLocale,t===xc()&&xc(t)):ds[t]!=null&&delete ds[t]);return ds[t]}function Xl(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return _m;if(!_o(t)){if(e=Ib(t),e)return e;t=[t]}return Lj(t)}function Ij(){return Qx(ds)}function PS(t){var e,i=t._a;return i&&ir(t).overflow===-2&&(e=i[Rl]<0||i[Rl]>11?Rl:i[jo]<1||i[jo]>CS(i[Sn],i[Rl])?jo:i[js]<0||i[js]>24||i[js]===24&&(i[go]!==0||i[Fl]!==0||i[Bh]!==0)?js:i[go]<0||i[go]>59?go:i[Fl]<0||i[Fl]>59?Fl:i[Bh]<0||i[Bh]>999?Bh:-1,ir(t)._overflowDayOfYear&&(e<Sn||e>jo)&&(e=jo),ir(t)._overflowWeeks&&e===-1&&(e=UW),ir(t)._overflowWeekday&&e===-1&&(e=HW),ir(t).overflow=e),t}var Bj=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Nj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zj=/Z|[+-]\d\d(?::?\d\d)?/,Fy=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],$1=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Uj=/^\/?Date\((-?\d+)/i,Hj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Wj={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function lF(t){var e,i,s=t._i,n=Bj.exec(s)||Nj.exec(s),l,a,h,d,m=Fy.length,y=$1.length;if(n){for(ir(t).iso=!0,e=0,i=m;e<i;e++)if(Fy[e][1].exec(n[1])){a=Fy[e][0],l=Fy[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(n[3]){for(e=0,i=y;e<i;e++)if($1[e][1].exec(n[3])){h=(n[2]||" ")+$1[e][0];break}if(h==null){t._isValid=!1;return}}if(!l&&h!=null){t._isValid=!1;return}if(n[4])if(zj.exec(n[4]))d="Z";else{t._isValid=!1;return}t._f=a+(h||"")+(d||""),LS(t)}else t._isValid=!1}function jj(t,e,i,s,n,l){var a=[qj(t),Q3.indexOf(e),parseInt(i,10),parseInt(s,10),parseInt(n,10)];return l&&a.push(parseInt(l,10)),a}function qj(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function $j(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Vj(t,e,i){if(t){var s=sF.indexOf(t),n=new Date(e[0],e[1],e[2]).getDay();if(s!==n)return ir(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Yj(t,e,i){if(t)return Wj[t];if(e)return 0;var s=parseInt(i,10),n=s%100,l=(s-n)/100;return l*60+n}function cF(t){var e=Hj.exec($j(t._i)),i;if(e){if(i=jj(e[4],e[3],e[2],e[5],e[6],e[7]),!Vj(e[1],i,t))return;t._a=i,t._tzm=Yj(e[8],e[9],e[10]),t._d=vm.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ir(t).rfc2822=!0}else t._isValid=!1}function Gj(t){var e=Uj.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(lF(t),t._isValid===!1)delete t._isValid;else return;if(cF(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:ii.createFromInputFallback(t)}ii.createFromInputFallback=Xa("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Yu(t,e,i){return t??e??i}function Xj(t){var e=new Date(ii.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function DS(t){var e,i,s=[],n,l,a;if(!t._d){for(n=Xj(t),t._w&&t._a[jo]==null&&t._a[Rl]==null&&Kj(t),t._dayOfYear!=null&&(a=Yu(t._a[Sn],n[Sn]),(t._dayOfYear>Qp(a)||t._dayOfYear===0)&&(ir(t)._overflowDayOfYear=!0),i=vm(a,0,t._dayOfYear),t._a[Rl]=i.getUTCMonth(),t._a[jo]=i.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[js]===24&&t._a[go]===0&&t._a[Fl]===0&&t._a[Bh]===0&&(t._nextDay=!0,t._a[js]=0),t._d=(t._useUTC?vm:ij).apply(null,s),l=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[js]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==l&&(ir(t).weekdayMismatch=!0)}}function Kj(t){var e,i,s,n,l,a,h,d,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(l=1,a=4,i=Yu(e.GG,t._a[Sn],bm(ns(),1,4).year),s=Yu(e.W,1),n=Yu(e.E,1),(n<1||n>7)&&(d=!0)):(l=t._locale._week.dow,a=t._locale._week.doy,m=bm(ns(),l,a),i=Yu(e.gg,t._a[Sn],m.year),s=Yu(e.w,m.week),e.d!=null?(n=e.d,(n<0||n>6)&&(d=!0)):e.e!=null?(n=e.e+l,(e.e<0||e.e>6)&&(d=!0)):n=l),s<1||s>zl(i,l,a)?ir(t)._overflowWeeks=!0:d!=null?ir(t)._overflowWeekday=!0:(h=rF(i,s,n,l,a),t._a[Sn]=h.year,t._dayOfYear=h.dayOfYear)}ii.ISO_8601=function(){};ii.RFC_2822=function(){};function LS(t){if(t._f===ii.ISO_8601){lF(t);return}if(t._f===ii.RFC_2822){cF(t);return}t._a=[],ir(t).empty=!0;var e=""+t._i,i,s,n,l,a,h=e.length,d=0,m,y;for(n=$3(t._f,t._locale).match(wS)||[],y=n.length,i=0;i<y;i++)l=n[i],s=(e.match(BW(l,t))||[])[0],s&&(a=e.substr(0,e.indexOf(s)),a.length>0&&ir(t).unusedInput.push(a),e=e.slice(e.indexOf(s)+s.length),d+=s.length),id[l]?(s?ir(t).empty=!1:ir(t).unusedTokens.push(l),zW(l,s,t)):t._strict&&!s&&ir(t).unusedTokens.push(l);ir(t).charsLeftOver=h-d,e.length>0&&ir(t).unusedInput.push(e),t._a[js]<=12&&ir(t).bigHour===!0&&t._a[js]>0&&(ir(t).bigHour=void 0),ir(t).parsedDateParts=t._a.slice(0),ir(t).meridiem=t._meridiem,t._a[js]=Zj(t._locale,t._a[js],t._meridiem),m=ir(t).era,m!==null&&(t._a[Sn]=t._locale.erasConvertYear(m,t._a[Sn])),DS(t),PS(t)}function Zj(t,e,i){var s;return i==null?e:t.meridiemHour!=null?t.meridiemHour(e,i):(t.isPM!=null&&(s=t.isPM(i),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function Qj(t){var e,i,s,n,l,a,h=!1,d=t._f.length;if(d===0){ir(t).invalidFormat=!0,t._d=new Date(NaN);return}for(n=0;n<d;n++)l=0,a=!1,e=bS({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[n],LS(e),vS(e)&&(a=!0),l+=ir(e).charsLeftOver,l+=ir(e).unusedTokens.length*10,ir(e).score=l,h?l<s&&(s=l,i=e):(s==null||l<s||a)&&(s=l,i=e,a&&(h=!0));vc(t,i||e)}function Jj(t){if(!t._d){var e=xS(t._i),i=e.day===void 0?e.date:e.day;t._a=W3([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),DS(t)}}function eq(t){var e=new Hm(PS(hF(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function hF(t){var e=t._i,i=t._f;return t._locale=t._locale||Xl(t._l),e===null||i===void 0&&e===""?Mb({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),wo(e)?new Hm(PS(e)):(Um(e)?t._d=e:_o(i)?Qj(t):i?LS(t):tq(t),vS(t)||(t._d=null),t))}function tq(t){var e=t._i;ta(e)?t._d=new Date(ii.now()):Um(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Gj(t):_o(e)?(t._a=W3(e.slice(0),function(i){return parseInt(i,10)}),DS(t)):$h(e)?Jj(t):jl(e)?t._d=new Date(e):ii.createFromInputFallback(t)}function uF(t,e,i,s,n){var l={};return(e===!0||e===!1)&&(s=e,e=void 0),(i===!0||i===!1)&&(s=i,i=void 0),($h(t)&&yS(t)||_o(t)&&t.length===0)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=n,l._l=i,l._i=t,l._f=e,l._strict=s,eq(l)}function ns(t,e,i,s){return uF(t,e,i,s,!1)}var iq=Xa("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ns.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Mb()}),rq=Xa("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ns.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Mb()});function dF(t,e){var i,s;if(e.length===1&&_o(e[0])&&(e=e[0]),!e.length)return ns();for(i=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](i))&&(i=e[s]);return i}function sq(){var t=[].slice.call(arguments,0);return dF("isBefore",t)}function nq(){var t=[].slice.call(arguments,0);return dF("isAfter",t)}var aq=function(){return Date.now?Date.now():+new Date},Tp=["year","quarter","month","week","day","hour","minute","second","millisecond"];function oq(t){var e,i=!1,s,n=Tp.length;for(e in t)if(Sr(t,e)&&!(Cs.call(Tp,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<n;++s)if(t[Tp[s]]){if(i)return!1;parseFloat(t[Tp[s]])!==fr(t[Tp[s]])&&(i=!0)}return!0}function lq(){return this._isValid}function cq(){return xo(NaN)}function Bb(t){var e=xS(t),i=e.year||0,s=e.quarter||0,n=e.month||0,l=e.week||e.isoWeek||0,a=e.day||0,h=e.hour||0,d=e.minute||0,m=e.second||0,y=e.millisecond||0;this._isValid=oq(e),this._milliseconds=+y+m*1e3+d*6e4+h*1e3*60*60,this._days=+a+l*7,this._months=+n+s*3+i*12,this._data={},this._locale=Xl(),this._bubble()}function sv(t){return t instanceof Bb}function ek(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function hq(t,e,i){var s=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),l=0,a;for(a=0;a<s;a++)fr(t[a])!==fr(e[a])&&l++;return l+n}function fF(t,e){Oi(t,0,0,function(){var i=this.utcOffset(),s="+";return i<0&&(i=-i,s="-"),s+Yo(~~(i/60),2)+e+Yo(~~i%60,2)})}fF("Z",":");fF("ZZ","");ni("Z",Rb);ni("ZZ",Rb);Yr(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=RS(Rb,t)});var uq=/([\+\-]|\d\d)/gi;function RS(t,e){var i=(e||"").match(t),s,n,l;return i===null?null:(s=i[i.length-1]||[],n=(s+"").match(uq)||["-",0,0],l=+(n[1]*60)+fr(n[2]),l===0?0:n[0]==="+"?l:-l)}function FS(t,e){var i,s;return e._isUTC?(i=e.clone(),s=(wo(t)||Um(t)?t.valueOf():ns(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),ii.updateOffset(i,!1),i):ns(t).local()}function tk(t){return-Math.round(t._d.getTimezoneOffset())}ii.updateOffset=function(){};function dq(t,e,i){var s=this._offset||0,n;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=RS(Rb,t),t===null)return this}else Math.abs(t)<16&&!i&&(t=t*60);return!this._isUTC&&e&&(n=tk(this)),this._offset=t,this._isUTC=!0,n!=null&&this.add(n,"m"),s!==t&&(!e||this._changeInProgress?gF(this,xo(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,ii.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:tk(this)}function fq(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function pq(t){return this.utcOffset(0,t)}function mq(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(tk(this),"m")),this}function gq(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=RS(FW,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function yq(t){return this.isValid()?(t=t?ns(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function vq(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function bq(){if(!ta(this._isDSTShifted))return this._isDSTShifted;var t={},e;return bS(t,this),t=hF(t),t._a?(e=t._isUTC?el(t._a):ns(t._a),this._isDSTShifted=this.isValid()&&hq(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function _q(){return this.isValid()?!this._isUTC:!1}function wq(){return this.isValid()?this._isUTC:!1}function pF(){return this.isValid()?this._isUTC&&this._offset===0:!1}var xq=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kq=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function xo(t,e){var i=t,s=null,n,l,a;return sv(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:jl(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(s=xq.exec(t))?(n=s[1]==="-"?-1:1,i={y:0,d:fr(s[jo])*n,h:fr(s[js])*n,m:fr(s[go])*n,s:fr(s[Fl])*n,ms:fr(ek(s[Bh]*1e3))*n}):(s=kq.exec(t))?(n=s[1]==="-"?-1:1,i={y:Ch(s[2],n),M:Ch(s[3],n),w:Ch(s[4],n),d:Ch(s[5],n),h:Ch(s[6],n),m:Ch(s[7],n),s:Ch(s[8],n)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(a=Sq(ns(i.from),ns(i.to)),i={},i.ms=a.milliseconds,i.M=a.months),l=new Bb(i),sv(t)&&Sr(t,"_locale")&&(l._locale=t._locale),sv(t)&&Sr(t,"_isValid")&&(l._isValid=t._isValid),l}xo.fn=Bb.prototype;xo.invalid=cq;function Ch(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function BD(t,e){var i={};return i.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Sq(t,e){var i;return t.isValid()&&e.isValid()?(e=FS(e,t),t.isBefore(e)?i=BD(t,e):(i=BD(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function mF(t,e){return function(i,s){var n,l;return s!==null&&!isNaN(+s)&&(q3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=i,i=s,s=l),n=xo(i,s),gF(this,n,t),this}}function gF(t,e,i,s){var n=e._milliseconds,l=ek(e._days),a=ek(e._months);t.isValid()&&(s=s??!0,a&&eF(t,ym(t,"Month")+a*i),l&&Z3(t,"Date",ym(t,"Date")+l*i),n&&t._d.setTime(t._d.valueOf()+n*i),s&&ii.updateOffset(t,l||a))}var Tq=mF(1,"add"),Cq=mF(-1,"subtract");function yF(t){return typeof t=="string"||t instanceof String}function Eq(t){return wo(t)||Um(t)||yF(t)||jl(t)||Mq(t)||Oq(t)||t===null||t===void 0}function Oq(t){var e=$h(t)&&!yS(t),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n,l,a=s.length;for(n=0;n<a;n+=1)l=s[n],i=i||Sr(t,l);return e&&i}function Mq(t){var e=_o(t),i=!1;return e&&(i=t.filter(function(s){return!jl(s)&&yF(t)}).length===0),e&&i}function Aq(t){var e=$h(t)&&!yS(t),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n,l;for(n=0;n<s.length;n+=1)l=s[n],i=i||Sr(t,l);return e&&i}function Pq(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function Dq(t,e){arguments.length===1&&(arguments[0]?Eq(arguments[0])?(t=arguments[0],e=void 0):Aq(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||ns(),s=FS(i,this).startOf("day"),n=ii.calendarFormat(this,s)||"sameElse",l=e&&(tl(e[n])?e[n].call(this,i):e[n]);return this.format(l||this.localeData().calendar(n,this,ns(i)))}function Lq(){return new Hm(this)}function Rq(t,e){var i=wo(t)?t:ns(t);return this.isValid()&&i.isValid()?(e=Ka(e)||"millisecond",e==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function Fq(t,e){var i=wo(t)?t:ns(t);return this.isValid()&&i.isValid()?(e=Ka(e)||"millisecond",e==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function Iq(t,e,i,s){var n=wo(t)?t:ns(t),l=wo(e)?e:ns(e);return this.isValid()&&n.isValid()&&l.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(n,i):!this.isBefore(n,i))&&(s[1]===")"?this.isBefore(l,i):!this.isAfter(l,i))):!1}function Bq(t,e){var i=wo(t)?t:ns(t),s;return this.isValid()&&i.isValid()?(e=Ka(e)||"millisecond",e==="millisecond"?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function Nq(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function zq(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function Uq(t,e,i){var s,n,l;if(!this.isValid())return NaN;if(s=FS(t,this),!s.isValid())return NaN;switch(n=(s.utcOffset()-this.utcOffset())*6e4,e=Ka(e),e){case"year":l=nv(this,s)/12;break;case"month":l=nv(this,s);break;case"quarter":l=nv(this,s)/3;break;case"second":l=(this-s)/1e3;break;case"minute":l=(this-s)/6e4;break;case"hour":l=(this-s)/36e5;break;case"day":l=(this-s-n)/864e5;break;case"week":l=(this-s-n)/6048e5;break;default:l=this-s}return i?l:za(l)}function nv(t,e){if(t.date()<e.date())return-nv(e,t);var i=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(i,"months"),n,l;return e-s<0?(n=t.clone().add(i-1,"months"),l=(e-s)/(s-n)):(n=t.clone().add(i+1,"months"),l=(e-s)/(n-s)),-(i+l)||0}ii.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";ii.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Hq(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Wq(t){if(!this.isValid())return null;var e=t!==!0,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?rv(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):tl(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",rv(i,"Z")):rv(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function jq(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",i,s,n,l;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),i="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",l=e+'[")]',this.format(i+s+n+l)}function qq(t){t||(t=this.isUtc()?ii.defaultFormatUtc:ii.defaultFormat);var e=rv(this,t);return this.localeData().postformat(e)}function $q(t,e){return this.isValid()&&(wo(t)&&t.isValid()||ns(t).isValid())?xo({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Vq(t){return this.from(ns(),t)}function Yq(t,e){return this.isValid()&&(wo(t)&&t.isValid()||ns(t).isValid())?xo({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Gq(t){return this.to(ns(),t)}function vF(t){var e;return t===void 0?this._locale._abbr:(e=Xl(t),e!=null&&(this._locale=e),this)}var bF=Xa("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function _F(){return this._locale}var Mv=1e3,rd=60*Mv,Av=60*rd,wF=(365*400+97)*24*Av;function sd(t,e){return(t%e+e)%e}function xF(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-wF:new Date(t,e,i).valueOf()}function kF(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-wF:Date.UTC(t,e,i)}function Xq(t){var e,i;if(t=Ka(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?kF:xF,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=sd(e+(this._isUTC?0:this.utcOffset()*rd),Av);break;case"minute":e=this._d.valueOf(),e-=sd(e,rd);break;case"second":e=this._d.valueOf(),e-=sd(e,Mv);break}return this._d.setTime(e),ii.updateOffset(this,!0),this}function Kq(t){var e,i;if(t=Ka(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?kF:xF,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Av-sd(e+(this._isUTC?0:this.utcOffset()*rd),Av)-1;break;case"minute":e=this._d.valueOf(),e+=rd-sd(e,rd)-1;break;case"second":e=this._d.valueOf(),e+=Mv-sd(e,Mv)-1;break}return this._d.setTime(e),ii.updateOffset(this,!0),this}function Zq(){return this._d.valueOf()-(this._offset||0)*6e4}function Qq(){return Math.floor(this.valueOf()/1e3)}function Jq(){return new Date(this.valueOf())}function e$(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function t$(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function i$(){return this.isValid()?this.toISOString():null}function r$(){return vS(this)}function s$(){return vc({},ir(this))}function n$(){return ir(this).overflow}function a$(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Oi("N",0,0,"eraAbbr");Oi("NN",0,0,"eraAbbr");Oi("NNN",0,0,"eraAbbr");Oi("NNNN",0,0,"eraName");Oi("NNNNN",0,0,"eraNarrow");Oi("y",["y",1],"yo","eraYear");Oi("y",["yy",2],0,"eraYear");Oi("y",["yyy",3],0,"eraYear");Oi("y",["yyyy",4],0,"eraYear");ni("N",IS);ni("NN",IS);ni("NNN",IS);ni("NNNN",y$);ni("NNNNN",v$);Yr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,i,s){var n=i._locale.erasParse(t,s,i._strict);n?ir(i).era=n:ir(i).invalidEra=t});ni("y",jd);ni("yy",jd);ni("yyy",jd);ni("yyyy",jd);ni("yo",b$);Yr(["y","yy","yyy","yyyy"],Sn);Yr(["yo"],function(t,e,i,s){var n;i._locale._eraYearOrdinalRegex&&(n=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[Sn]=i._locale.eraYearOrdinalParse(t,n):e[Sn]=parseInt(t,10)});function o$(t,e){var i,s,n,l=this._eras||Xl("en")._eras;for(i=0,s=l.length;i<s;++i){switch(typeof l[i].since){case"string":n=ii(l[i].since).startOf("day"),l[i].since=n.valueOf();break}switch(typeof l[i].until){case"undefined":l[i].until=1/0;break;case"string":n=ii(l[i].until).startOf("day").valueOf(),l[i].until=n.valueOf();break}}return l}function l$(t,e,i){var s,n,l=this.eras(),a,h,d;for(t=t.toUpperCase(),s=0,n=l.length;s<n;++s)if(a=l[s].name.toUpperCase(),h=l[s].abbr.toUpperCase(),d=l[s].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(h===t)return l[s];break;case"NNNN":if(a===t)return l[s];break;case"NNNNN":if(d===t)return l[s];break}else if([a,h,d].indexOf(t)>=0)return l[s]}function c$(t,e){var i=t.since<=t.until?1:-1;return e===void 0?ii(t.since).year():ii(t.since).year()+(e-t.offset)*i}function h$(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].name;return""}function u$(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].narrow;return""}function d$(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].abbr;return""}function f$(){var t,e,i,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(i=n[t].since<=n[t].until?1:-1,s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return(this.year()-ii(n[t].since).year())*i+n[t].offset;return this.year()}function p$(t){return Sr(this,"_erasNameRegex")||BS.call(this),t?this._erasNameRegex:this._erasRegex}function m$(t){return Sr(this,"_erasAbbrRegex")||BS.call(this),t?this._erasAbbrRegex:this._erasRegex}function g$(t){return Sr(this,"_erasNarrowRegex")||BS.call(this),t?this._erasNarrowRegex:this._erasRegex}function IS(t,e){return e.erasAbbrRegex(t)}function y$(t,e){return e.erasNameRegex(t)}function v$(t,e){return e.erasNarrowRegex(t)}function b$(t,e){return e._eraYearOrdinalRegex||jd}function BS(){var t=[],e=[],i=[],s=[],n,l,a,h,d,m=this.eras();for(n=0,l=m.length;n<l;++n)a=Nl(m[n].name),h=Nl(m[n].abbr),d=Nl(m[n].narrow),e.push(a),t.push(h),i.push(d),s.push(a),s.push(h),s.push(d);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}Oi(0,["gg",2],0,function(){return this.weekYear()%100});Oi(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Nb(t,e){Oi(0,[t,t.length],0,e)}Nb("gggg","weekYear");Nb("ggggg","weekYear");Nb("GGGG","isoWeekYear");Nb("GGGGG","isoWeekYear");ni("G",Lb);ni("g",Lb);ni("GG",as,Aa);ni("gg",as,Aa);ni("GGGG",SS,kS);ni("gggg",SS,kS);ni("GGGGG",Db,Ab);ni("ggggg",Db,Ab);jm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=fr(t)});jm(["gg","GG"],function(t,e,i,s){e[s]=ii.parseTwoDigitYear(t)});function _$(t){return SF.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function w$(t){return SF.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function x$(){return zl(this.year(),1,4)}function k$(){return zl(this.isoWeekYear(),1,4)}function S$(){var t=this.localeData()._week;return zl(this.year(),t.dow,t.doy)}function T$(){var t=this.localeData()._week;return zl(this.weekYear(),t.dow,t.doy)}function SF(t,e,i,s,n){var l;return t==null?bm(this,s,n).year:(l=zl(t,s,n),e>l&&(e=l),C$.call(this,t,e,i,s,n))}function C$(t,e,i,s,n){var l=rF(t,e,i,s,n),a=vm(l.year,0,l.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Oi("Q",0,"Qo","quarter");ni("Q",V3);Yr("Q",function(t,e){e[Rl]=(fr(t)-1)*3});function E$(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Oi("D",["DD",2],"Do","date");ni("D",as,qd);ni("DD",as,Aa);ni("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Yr(["D","DD"],jo);Yr("Do",function(t,e){e[jo]=fr(t.match(as)[0])});var TF=$d("Date",!0);Oi("DDD",["DDDD",3],"DDDo","dayOfYear");ni("DDD",Pb);ni("DDDD",Y3);Yr(["DDD","DDDD"],function(t,e,i){i._dayOfYear=fr(t)});function O$(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Oi("m",["mm",2],0,"minute");ni("m",as,TS);ni("mm",as,Aa);Yr(["m","mm"],go);var M$=$d("Minutes",!1);Oi("s",["ss",2],0,"second");ni("s",as,TS);ni("ss",as,Aa);Yr(["s","ss"],Fl);var A$=$d("Seconds",!1);Oi("S",0,0,function(){return~~(this.millisecond()/100)});Oi(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Oi(0,["SSS",3],0,"millisecond");Oi(0,["SSSS",4],0,function(){return this.millisecond()*10});Oi(0,["SSSSS",5],0,function(){return this.millisecond()*100});Oi(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Oi(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Oi(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Oi(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});ni("S",Pb,V3);ni("SS",Pb,Aa);ni("SSS",Pb,Y3);var bc,CF;for(bc="SSSS";bc.length<=9;bc+="S")ni(bc,jd);function P$(t,e){e[Bh]=fr(("0."+t)*1e3)}for(bc="S";bc.length<=9;bc+="S")Yr(bc,P$);CF=$d("Milliseconds",!1);Oi("z",0,0,"zoneAbbr");Oi("zz",0,0,"zoneName");function D$(){return this._isUTC?"UTC":""}function L$(){return this._isUTC?"Coordinated Universal Time":""}var Mt=Hm.prototype;Mt.add=Tq;Mt.calendar=Dq;Mt.clone=Lq;Mt.diff=Uq;Mt.endOf=Kq;Mt.format=qq;Mt.from=$q;Mt.fromNow=Vq;Mt.to=Yq;Mt.toNow=Gq;Mt.get=jW;Mt.invalidAt=n$;Mt.isAfter=Rq;Mt.isBefore=Fq;Mt.isBetween=Iq;Mt.isSame=Bq;Mt.isSameOrAfter=Nq;Mt.isSameOrBefore=zq;Mt.isValid=r$;Mt.lang=bF;Mt.locale=vF;Mt.localeData=_F;Mt.max=rq;Mt.min=iq;Mt.parsingFlags=s$;Mt.set=qW;Mt.startOf=Xq;Mt.subtract=Cq;Mt.toArray=e$;Mt.toObject=t$;Mt.toDate=Jq;Mt.toISOString=Wq;Mt.inspect=jq;typeof Symbol<"u"&&Symbol.for!=null&&(Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Mt.toJSON=i$;Mt.toString=Hq;Mt.unix=Qq;Mt.valueOf=Zq;Mt.creationData=a$;Mt.eraName=h$;Mt.eraNarrow=u$;Mt.eraAbbr=d$;Mt.eraYear=f$;Mt.year=K3;Mt.isLeapYear=WW;Mt.weekYear=_$;Mt.isoWeekYear=w$;Mt.quarter=Mt.quarters=E$;Mt.month=tF;Mt.daysInMonth=JW;Mt.week=Mt.weeks=oj;Mt.isoWeek=Mt.isoWeeks=lj;Mt.weeksInYear=S$;Mt.weeksInWeekYear=T$;Mt.isoWeeksInYear=x$;Mt.isoWeeksInISOWeekYear=k$;Mt.date=TF;Mt.day=Mt.days=wj;Mt.weekday=xj;Mt.isoWeekday=kj;Mt.dayOfYear=O$;Mt.hour=Mt.hours=Aj;Mt.minute=Mt.minutes=M$;Mt.second=Mt.seconds=A$;Mt.millisecond=Mt.milliseconds=CF;Mt.utcOffset=dq;Mt.utc=pq;Mt.local=mq;Mt.parseZone=gq;Mt.hasAlignedHourOffset=yq;Mt.isDST=vq;Mt.isLocal=_q;Mt.isUtcOffset=wq;Mt.isUtc=pF;Mt.isUTC=pF;Mt.zoneAbbr=D$;Mt.zoneName=L$;Mt.dates=Xa("dates accessor is deprecated. Use date instead.",TF);Mt.months=Xa("months accessor is deprecated. Use month instead",tF);Mt.years=Xa("years accessor is deprecated. Use year instead",K3);Mt.zone=Xa("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",fq);Mt.isDSTShifted=Xa("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",bq);function R$(t){return ns(t*1e3)}function F$(){return ns.apply(null,arguments).parseZone()}function EF(t){return t}var Tr=_S.prototype;Tr.calendar=_W;Tr.longDateFormat=SW;Tr.invalidDate=CW;Tr.ordinal=MW;Tr.preparse=EF;Tr.postformat=EF;Tr.relativeTime=PW;Tr.pastFuture=DW;Tr.set=vW;Tr.eras=o$;Tr.erasParse=l$;Tr.erasConvertYear=c$;Tr.erasAbbrRegex=m$;Tr.erasNameRegex=p$;Tr.erasNarrowRegex=g$;Tr.months=XW;Tr.monthsShort=KW;Tr.monthsParse=QW;Tr.monthsRegex=tj;Tr.monthsShortRegex=ej;Tr.week=rj;Tr.firstDayOfYear=aj;Tr.firstDayOfWeek=nj;Tr.weekdays=gj;Tr.weekdaysMin=vj;Tr.weekdaysShort=yj;Tr.weekdaysParse=_j;Tr.weekdaysRegex=Sj;Tr.weekdaysShortRegex=Tj;Tr.weekdaysMinRegex=Cj;Tr.isPM=Oj;Tr.meridiem=Pj;function Pv(t,e,i,s){var n=Xl(),l=el().set(s,e);return n[i](l,t)}function OF(t,e,i){if(jl(t)&&(e=t,t=void 0),t=t||"",e!=null)return Pv(t,e,i,"month");var s,n=[];for(s=0;s<12;s++)n[s]=Pv(t,s,i,"month");return n}function NS(t,e,i,s){typeof t=="boolean"?(jl(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,jl(e)&&(i=e,e=void 0),e=e||"");var n=Xl(),l=t?n._week.dow:0,a,h=[];if(i!=null)return Pv(e,(i+l)%7,s,"day");for(a=0;a<7;a++)h[a]=Pv(e,(a+l)%7,s,"day");return h}function I$(t,e){return OF(t,e,"months")}function B$(t,e){return OF(t,e,"monthsShort")}function N$(t,e,i){return NS(t,e,i,"weekdays")}function z$(t,e,i){return NS(t,e,i,"weekdaysShort")}function U$(t,e,i){return NS(t,e,i,"weekdaysMin")}xc("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=fr(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});ii.lang=Xa("moment.lang is deprecated. Use moment.locale instead.",xc);ii.langData=Xa("moment.langData is deprecated. Use moment.localeData instead.",Xl);var Ol=Math.abs;function H$(){var t=this._data;return this._milliseconds=Ol(this._milliseconds),this._days=Ol(this._days),this._months=Ol(this._months),t.milliseconds=Ol(t.milliseconds),t.seconds=Ol(t.seconds),t.minutes=Ol(t.minutes),t.hours=Ol(t.hours),t.months=Ol(t.months),t.years=Ol(t.years),this}function MF(t,e,i,s){var n=xo(e,i);return t._milliseconds+=s*n._milliseconds,t._days+=s*n._days,t._months+=s*n._months,t._bubble()}function W$(t,e){return MF(this,t,e,1)}function j$(t,e){return MF(this,t,e,-1)}function ND(t){return t<0?Math.floor(t):Math.ceil(t)}function q$(){var t=this._milliseconds,e=this._days,i=this._months,s=this._data,n,l,a,h,d;return t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=ND(ik(i)+e)*864e5,e=0,i=0),s.milliseconds=t%1e3,n=za(t/1e3),s.seconds=n%60,l=za(n/60),s.minutes=l%60,a=za(l/60),s.hours=a%24,e+=za(a/24),d=za(AF(e)),i+=d,e-=ND(ik(d)),h=za(i/12),i%=12,s.days=e,s.months=i,s.years=h,this}function AF(t){return t*4800/146097}function ik(t){return t*146097/4800}function $$(t){if(!this.isValid())return NaN;var e,i,s=this._milliseconds;if(t=Ka(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,i=this._months+AF(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(ik(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function Kl(t){return function(){return this.as(t)}}var PF=Kl("ms"),V$=Kl("s"),Y$=Kl("m"),G$=Kl("h"),X$=Kl("d"),K$=Kl("w"),Z$=Kl("M"),Q$=Kl("Q"),J$=Kl("y"),eV=PF;function tV(){return xo(this)}function iV(t){return t=Ka(t),this.isValid()?this[t+"s"]():NaN}function cu(t){return function(){return this.isValid()?this._data[t]:NaN}}var rV=cu("milliseconds"),sV=cu("seconds"),nV=cu("minutes"),aV=cu("hours"),oV=cu("days"),lV=cu("months"),cV=cu("years");function hV(){return za(this.days()/7)}var Ll=Math.round,Ju={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function uV(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}function dV(t,e,i,s){var n=xo(t).abs(),l=Ll(n.as("s")),a=Ll(n.as("m")),h=Ll(n.as("h")),d=Ll(n.as("d")),m=Ll(n.as("M")),y=Ll(n.as("w")),b=Ll(n.as("y")),k=l<=i.ss&&["s",l]||l<i.s&&["ss",l]||a<=1&&["m"]||a<i.m&&["mm",a]||h<=1&&["h"]||h<i.h&&["hh",h]||d<=1&&["d"]||d<i.d&&["dd",d];return i.w!=null&&(k=k||y<=1&&["w"]||y<i.w&&["ww",y]),k=k||m<=1&&["M"]||m<i.M&&["MM",m]||b<=1&&["y"]||["yy",b],k[2]=e,k[3]=+t>0,k[4]=s,uV.apply(null,k)}function fV(t){return t===void 0?Ll:typeof t=="function"?(Ll=t,!0):!1}function pV(t,e){return Ju[t]===void 0?!1:e===void 0?Ju[t]:(Ju[t]=e,t==="s"&&(Ju.ss=e-1),!0)}function mV(t,e){if(!this.isValid())return this.localeData().invalidDate();var i=!1,s=Ju,n,l;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(i=t),typeof e=="object"&&(s=Object.assign({},Ju,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),n=this.localeData(),l=dV(this,!i,s,n),i&&(l=n.pastFuture(+this,l)),n.postformat(l)}var V1=Math.abs;function Uu(t){return(t>0)-(t<0)||+t}function zb(){if(!this.isValid())return this.localeData().invalidDate();var t=V1(this._milliseconds)/1e3,e=V1(this._days),i=V1(this._months),s,n,l,a,h=this.asSeconds(),d,m,y,b;return h?(s=za(t/60),n=za(s/60),t%=60,s%=60,l=za(i/12),i%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",d=h<0?"-":"",m=Uu(this._months)!==Uu(h)?"-":"",y=Uu(this._days)!==Uu(h)?"-":"",b=Uu(this._milliseconds)!==Uu(h)?"-":"",d+"P"+(l?m+l+"Y":"")+(i?m+i+"M":"")+(e?y+e+"D":"")+(n||s||t?"T":"")+(n?b+n+"H":"")+(s?b+s+"M":"")+(t?b+a+"S":"")):"P0D"}var yr=Bb.prototype;yr.isValid=lq;yr.abs=H$;yr.add=W$;yr.subtract=j$;yr.as=$$;yr.asMilliseconds=PF;yr.asSeconds=V$;yr.asMinutes=Y$;yr.asHours=G$;yr.asDays=X$;yr.asWeeks=K$;yr.asMonths=Z$;yr.asQuarters=Q$;yr.asYears=J$;yr.valueOf=eV;yr._bubble=q$;yr.clone=tV;yr.get=iV;yr.milliseconds=rV;yr.seconds=sV;yr.minutes=nV;yr.hours=aV;yr.days=oV;yr.weeks=hV;yr.months=lV;yr.years=cV;yr.humanize=mV;yr.toISOString=zb;yr.toString=zb;yr.toJSON=zb;yr.locale=vF;yr.localeData=_F;yr.toIsoString=Xa("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zb);yr.lang=bF;Oi("X",0,0,"unix");Oi("x",0,0,"valueOf");ni("x",Lb);ni("X",IW);Yr("X",function(t,e,i){i._d=new Date(parseFloat(t)*1e3)});Yr("x",function(t,e,i){i._d=new Date(fr(t))});//! moment.js
ii.version="2.30.1";gW(ns);ii.fn=Mt;ii.min=sq;ii.max=nq;ii.now=aq;ii.utc=el;ii.unix=R$;ii.months=I$;ii.isDate=Um;ii.locale=xc;ii.invalid=Mb;ii.duration=xo;ii.isMoment=wo;ii.weekdays=N$;ii.parseZone=F$;ii.localeData=Xl;ii.isDuration=sv;ii.monthsShort=B$;ii.weekdaysMin=U$;ii.defineLocale=AS;ii.updateLocale=Fj;ii.locales=Ij;ii.weekdaysShort=z$;ii.normalizeUnits=Ka;ii.relativeTimeRounding=fV;ii.relativeTimeThreshold=pV;ii.calendarFormat=Pq;ii.prototype=Mt;ii.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Y1=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],nd={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var i=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},wm={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},ia=function(t,e){return e===void 0&&(e=2),("000"+t).slice(e*-1)},Ba=function(t){return t===!0?1:0};function zD(t,e){var i;return function(){var s=this,n=arguments;clearTimeout(i),i=setTimeout(function(){return t.apply(s,n)},e)}}var G1=function(t){return t instanceof Array?t:[t]};function Nn(t,e,i){if(i===!0)return t.classList.add(e);t.classList.remove(e)}function Mr(t,e,i){var s=window.document.createElement(t);return e=e||"",i=i||"",s.className=e,i!==void 0&&(s.textContent=i),s}function Iy(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function DF(t,e){if(e(t))return t;if(t.parentNode)return DF(t.parentNode,e)}function By(t,e){var i=Mr("div","numInputWrapper"),s=Mr("input","numInput "+t),n=Mr("span","arrowUp"),l=Mr("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),e!==void 0)for(var a in e)s.setAttribute(a,e[a]);return i.appendChild(s),i.appendChild(n),i.appendChild(l),i}function _a(t){try{if(typeof t.composedPath=="function"){var e=t.composedPath();return e[0]}return t.target}catch{return t.target}}var X1=function(){},Dv=function(t,e,i){return i.months[e?"shorthand":"longhand"][t]},gV={D:X1,F:function(t,e,i){t.setMonth(i.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,i){t.setHours(t.getHours()%12+12*Ba(new RegExp(i.amPM[1],"i").test(e)))},M:function(t,e,i){t.setMonth(i.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(parseFloat(e)*1e3)},W:function(t,e,i){var s=parseInt(e),n=new Date(t.getFullYear(),0,2+(s-1)*7,0,0,0,0);return n.setDate(n.getDate()-n.getDay()+i.firstDayOfWeek),n},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:X1,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:X1,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},Ih={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Jp={Z:function(t){return t.toISOString()},D:function(t,e,i){return e.weekdays.shorthand[Jp.w(t,e,i)]},F:function(t,e,i){return Dv(Jp.n(t,e,i)-1,!1,e)},G:function(t,e,i){return ia(Jp.h(t,e,i))},H:function(t){return ia(t.getHours())},J:function(t,e){return e.ordinal!==void 0?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[Ba(t.getHours()>11)]},M:function(t,e){return Dv(t.getMonth(),!0,e)},S:function(t){return ia(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,i){return i.getWeek(t)},Y:function(t){return ia(t.getFullYear(),4)},d:function(t){return ia(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return ia(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return ia(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},LF=function(t){var e=t.config,i=e===void 0?nd:e,s=t.l10n,n=s===void 0?wm:s,l=t.isMobile,a=l===void 0?!1:l;return function(h,d,m){var y=m||n;return i.formatDate!==void 0&&!a?i.formatDate(h,d,y):d.split("").map(function(b,k,x){return Jp[b]&&x[k-1]!=="\\"?Jp[b](h,y,i):b!=="\\"?b:""}).join("")}},rk=function(t){var e=t.config,i=e===void 0?nd:e,s=t.l10n,n=s===void 0?wm:s;return function(l,a,h,d){if(!(l!==0&&!l)){var m=d||n,y,b=l;if(l instanceof Date)y=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)y=new Date(l);else if(typeof l=="string"){var k=a||(i||nd).dateFormat,x=String(l).trim();if(x==="today")y=new Date,h=!0;else if(i&&i.parseDate)y=i.parseDate(l,k);else if(/Z$/.test(x)||/GMT$/.test(x))y=new Date(l);else{for(var E=void 0,O=[],L=0,D=0,u="";L<k.length;L++){var T=k[L],g=T==="\\",S=k[L-1]==="\\"||g;if(Ih[T]&&!S){u+=Ih[T];var C=new RegExp(u).exec(l);C&&(E=!0)&&O[T!=="Y"?"push":"unshift"]({fn:gV[T],val:C[++D]})}else g||(u+=".")}y=!i||!i.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),O.forEach(function(P){var I=P.fn,U=P.val;return y=I(y,U,m)||y}),y=E?y:void 0}}if(!(y instanceof Date&&!isNaN(y.getTime()))){i.errorHandler(new Error("Invalid date provided: "+b));return}return h===!0&&y.setHours(0,0,0,0),y}}};function xa(t,e,i){return i===void 0&&(i=!0),i!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var yV=function(t,e,i){return t>Math.min(e,i)&&t<Math.max(e,i)},K1=function(t,e,i){return t*3600+e*60+i},vV=function(t){var e=Math.floor(t/3600),i=(t-e*3600)/60;return[e,i,t-e*3600-i*60]},bV={DAY:864e5};function Z1(t){var e=t.defaultHour,i=t.defaultMinute,s=t.defaultSeconds;if(t.minDate!==void 0){var n=t.minDate.getHours(),l=t.minDate.getMinutes(),a=t.minDate.getSeconds();e<n&&(e=n),e===n&&i<l&&(i=l),e===n&&i===l&&s<a&&(s=t.minDate.getSeconds())}if(t.maxDate!==void 0){var h=t.maxDate.getHours(),d=t.maxDate.getMinutes();e=Math.min(e,h),e===h&&(i=Math.min(d,i)),e===h&&i===d&&(s=t.maxDate.getSeconds())}return{hours:e,minutes:i,seconds:s}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var s=function(h){h&&Object.keys(h).forEach(function(d){return t[d]=h[d]})},n=0,l=e;n<l.length;n++){var a=l[n];s(a)}return t});var xn=function(){return xn=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},xn.apply(this,arguments)},UD=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<i;e++)for(var l=arguments[e],a=0,h=l.length;a<h;a++,n++)s[n]=l[a];return s},_V=300;function wV(t,e){var i={config:xn(xn({},nd),Rs.defaultConfig),l10n:wm};i.parseDate=rk({config:i.config,l10n:i.l10n}),i._handlers=[],i.pluginElements=[],i.loadedPlugins=[],i._bind=O,i._setHoursFromDate=k,i._positionCalendar=Wt,i.changeMonth=K,i.changeYear=it,i.clear=we,i.close=ze,i.onMouseOver=$t,i._createElement=Mr,i.createDay=C,i.destroy=Ke,i.isEnabled=vt,i.jumpToDate=u,i.updateValue=Gt,i.open=nt,i.redraw=Zr,i.set=pe,i.setDate=Be,i.toggle=de;function s(){i.utils={getDaysInMonth:function(ie,se){return ie===void 0&&(ie=i.currentMonth),se===void 0&&(se=i.currentYear),ie===1&&(se%4===0&&se%100!==0||se%400===0)?29:i.l10n.daysInMonth[ie]}}}function n(){i.element=i.input=t,i.isOpen=!1,Qi(),bt(),Pt(),Qe(),s(),i.isMobile||S(),D(),(i.selectedDates.length||i.config.noCalendar)&&(i.config.enableTime&&k(i.config.noCalendar?i.latestSelectedDateObj:void 0),Gt(!1)),h();var ie=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!i.isMobile&&ie&&Wt(),Ne("onReady")}function l(){var ie;return((ie=i.calendarContainer)===null||ie===void 0?void 0:ie.getRootNode()).activeElement||document.activeElement}function a(ie){return ie.bind(i)}function h(){var ie=i.config;ie.weekNumbers===!1&&ie.showMonths===1||ie.noCalendar!==!0&&window.requestAnimationFrame(function(){if(i.calendarContainer!==void 0&&(i.calendarContainer.style.visibility="hidden",i.calendarContainer.style.display="block"),i.daysContainer!==void 0){var se=(i.days.offsetWidth+1)*ie.showMonths;i.daysContainer.style.width=se+"px",i.calendarContainer.style.width=se+(i.weekWrapper!==void 0?i.weekWrapper.offsetWidth:0)+"px",i.calendarContainer.style.removeProperty("visibility"),i.calendarContainer.style.removeProperty("display")}})}function d(ie){if(i.selectedDates.length===0){var se=i.config.minDate===void 0||xa(new Date,i.config.minDate)>=0?new Date:new Date(i.config.minDate.getTime()),be=Z1(i.config);se.setHours(be.hours,be.minutes,be.seconds,se.getMilliseconds()),i.selectedDates=[se],i.latestSelectedDateObj=se}ie!==void 0&&ie.type!=="blur"&&gi(ie);var je=i._input.value;b(),Gt(),i._input.value!==je&&i._debouncedChange()}function m(ie,se){return ie%12+12*Ba(se===i.l10n.amPM[1])}function y(ie){switch(ie%24){case 0:case 12:return 12;default:return ie%12}}function b(){if(!(i.hourElement===void 0||i.minuteElement===void 0)){var ie=(parseInt(i.hourElement.value.slice(-2),10)||0)%24,se=(parseInt(i.minuteElement.value,10)||0)%60,be=i.secondElement!==void 0?(parseInt(i.secondElement.value,10)||0)%60:0;i.amPM!==void 0&&(ie=m(ie,i.amPM.textContent));var je=i.config.minTime!==void 0||i.config.minDate&&i.minDateHasTime&&i.latestSelectedDateObj&&xa(i.latestSelectedDateObj,i.config.minDate,!0)===0,gt=i.config.maxTime!==void 0||i.config.maxDate&&i.maxDateHasTime&&i.latestSelectedDateObj&&xa(i.latestSelectedDateObj,i.config.maxDate,!0)===0;if(i.config.maxTime!==void 0&&i.config.minTime!==void 0&&i.config.minTime>i.config.maxTime){var St=K1(i.config.minTime.getHours(),i.config.minTime.getMinutes(),i.config.minTime.getSeconds()),Ti=K1(i.config.maxTime.getHours(),i.config.maxTime.getMinutes(),i.config.maxTime.getSeconds()),ei=K1(ie,se,be);if(ei>Ti&&ei<St){var yi=vV(St);ie=yi[0],se=yi[1],be=yi[2]}}else{if(gt){var Dt=i.config.maxTime!==void 0?i.config.maxTime:i.config.maxDate;ie=Math.min(ie,Dt.getHours()),ie===Dt.getHours()&&(se=Math.min(se,Dt.getMinutes())),se===Dt.getMinutes()&&(be=Math.min(be,Dt.getSeconds()))}if(je){var pi=i.config.minTime!==void 0?i.config.minTime:i.config.minDate;ie=Math.max(ie,pi.getHours()),ie===pi.getHours()&&se<pi.getMinutes()&&(se=pi.getMinutes()),se===pi.getMinutes()&&(be=Math.max(be,pi.getSeconds()))}}x(ie,se,be)}}function k(ie){var se=ie||i.latestSelectedDateObj;se&&se instanceof Date&&x(se.getHours(),se.getMinutes(),se.getSeconds())}function x(ie,se,be){i.latestSelectedDateObj!==void 0&&i.latestSelectedDateObj.setHours(ie%24,se,be||0,0),!(!i.hourElement||!i.minuteElement||i.isMobile)&&(i.hourElement.value=ia(i.config.time_24hr?ie:(12+ie)%12+12*Ba(ie%12===0)),i.minuteElement.value=ia(se),i.amPM!==void 0&&(i.amPM.textContent=i.l10n.amPM[Ba(ie>=12)]),i.secondElement!==void 0&&(i.secondElement.value=ia(be)))}function E(ie){var se=_a(ie),be=parseInt(se.value)+(ie.delta||0);(be/1e3>1||ie.key==="Enter"&&!/[^\d]/.test(be.toString()))&&it(be)}function O(ie,se,be,je){if(se instanceof Array)return se.forEach(function(gt){return O(ie,gt,be,je)});if(ie instanceof Array)return ie.forEach(function(gt){return O(gt,se,be,je)});ie.addEventListener(se,be,je),i._handlers.push({remove:function(){return ie.removeEventListener(se,be,je)}})}function L(){Ne("onChange")}function D(){if(i.config.wrap&&["open","close","toggle","clear"].forEach(function(be){Array.prototype.forEach.call(i.element.querySelectorAll("[data-"+be+"]"),function(je){return O(je,"click",i[be])})}),i.isMobile){oi();return}var ie=zD(Ri,50);if(i._debouncedChange=zD(L,_V),i.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(i.daysContainer,"mouseover",function(be){i.config.mode==="range"&&$t(_a(be))}),O(i._input,"keydown",Yt),i.calendarContainer!==void 0&&O(i.calendarContainer,"keydown",Yt),!i.config.inline&&!i.config.static&&O(window,"resize",ie),window.ontouchstart!==void 0?O(window.document,"touchstart",We):O(window.document,"mousedown",We),O(window.document,"focus",We,{capture:!0}),i.config.clickOpens===!0&&(O(i._input,"focus",i.open),O(i._input,"click",i.open)),i.daysContainer!==void 0&&(O(i.monthNav,"click",Mi),O(i.monthNav,["keyup","increment"],E),O(i.daysContainer,"click",_r)),i.timeContainer!==void 0&&i.minuteElement!==void 0&&i.hourElement!==void 0){var se=function(be){return _a(be).select()};O(i.timeContainer,["increment"],d),O(i.timeContainer,"blur",d,{capture:!0}),O(i.timeContainer,"click",T),O([i.hourElement,i.minuteElement],["focus","click"],se),i.secondElement!==void 0&&O(i.secondElement,"focus",function(){return i.secondElement&&i.secondElement.select()}),i.amPM!==void 0&&O(i.amPM,"click",function(be){d(be)})}i.config.allowInput&&O(i._input,"blur",Re)}function u(ie,se){var be=ie!==void 0?i.parseDate(ie):i.latestSelectedDateObj||(i.config.minDate&&i.config.minDate>i.now?i.config.minDate:i.config.maxDate&&i.config.maxDate<i.now?i.config.maxDate:i.now),je=i.currentYear,gt=i.currentMonth;try{be!==void 0&&(i.currentYear=be.getFullYear(),i.currentMonth=be.getMonth())}catch(St){St.message="Invalid date supplied: "+be,i.config.errorHandler(St)}se&&i.currentYear!==je&&(Ne("onYearChange"),A()),se&&(i.currentYear!==je||i.currentMonth!==gt)&&Ne("onMonthChange"),i.redraw()}function T(ie){var se=_a(ie);~se.className.indexOf("arrow")&&g(ie,se.classList.contains("arrowUp")?1:-1)}function g(ie,se,be){var je=ie&&_a(ie),gt=be||je&&je.parentNode&&je.parentNode.firstChild,St=ut("increment");St.delta=se,gt&&gt.dispatchEvent(St)}function S(){var ie=window.document.createDocumentFragment();if(i.calendarContainer=Mr("div","flatpickr-calendar"),i.calendarContainer.tabIndex=-1,!i.config.noCalendar){if(ie.appendChild(W()),i.innerContainer=Mr("div","flatpickr-innerContainer"),i.config.weekNumbers){var se=Q(),be=se.weekWrapper,je=se.weekNumbers;i.innerContainer.appendChild(be),i.weekNumbers=je,i.weekWrapper=be}i.rContainer=Mr("div","flatpickr-rContainer"),i.rContainer.appendChild(G()),i.daysContainer||(i.daysContainer=Mr("div","flatpickr-days"),i.daysContainer.tabIndex=-1),w(),i.rContainer.appendChild(i.daysContainer),i.innerContainer.appendChild(i.rContainer),ie.appendChild(i.innerContainer)}i.config.enableTime&&ie.appendChild($()),Nn(i.calendarContainer,"rangeMode",i.config.mode==="range"),Nn(i.calendarContainer,"animate",i.config.animate===!0),Nn(i.calendarContainer,"multiMonth",i.config.showMonths>1),i.calendarContainer.appendChild(ie);var gt=i.config.appendTo!==void 0&&i.config.appendTo.nodeType!==void 0;if((i.config.inline||i.config.static)&&(i.calendarContainer.classList.add(i.config.inline?"inline":"static"),i.config.inline&&(!gt&&i.element.parentNode?i.element.parentNode.insertBefore(i.calendarContainer,i._input.nextSibling):i.config.appendTo!==void 0&&i.config.appendTo.appendChild(i.calendarContainer)),i.config.static)){var St=Mr("div","flatpickr-wrapper");i.element.parentNode&&i.element.parentNode.insertBefore(St,i.element),St.appendChild(i.element),i.altInput&&St.appendChild(i.altInput),St.appendChild(i.calendarContainer)}!i.config.static&&!i.config.inline&&(i.config.appendTo!==void 0?i.config.appendTo:window.document.body).appendChild(i.calendarContainer)}function C(ie,se,be,je){var gt=vt(se,!0),St=Mr("span",ie,se.getDate().toString());return St.dateObj=se,St.$i=je,St.setAttribute("aria-label",i.formatDate(se,i.config.ariaDateFormat)),ie.indexOf("hidden")===-1&&xa(se,i.now)===0&&(i.todayDateElem=St,St.classList.add("today"),St.setAttribute("aria-current","date")),gt?(St.tabIndex=-1,He(se)&&(St.classList.add("selected"),i.selectedDateElem=St,i.config.mode==="range"&&(Nn(St,"startRange",i.selectedDates[0]&&xa(se,i.selectedDates[0],!0)===0),Nn(St,"endRange",i.selectedDates[1]&&xa(se,i.selectedDates[1],!0)===0),ie==="nextMonthDay"&&St.classList.add("inRange")))):St.classList.add("flatpickr-disabled"),i.config.mode==="range"&&ht(se)&&!He(se)&&St.classList.add("inRange"),i.weekNumbers&&i.config.showMonths===1&&ie!=="prevMonthDay"&&je%7===6&&i.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+i.config.getWeek(se)+"</span>"),Ne("onDayCreate",St),St}function P(ie){ie.focus(),i.config.mode==="range"&&$t(ie)}function I(ie){for(var se=ie>0?0:i.config.showMonths-1,be=ie>0?i.config.showMonths:-1,je=se;je!=be;je+=ie)for(var gt=i.daysContainer.children[je],St=ie>0?0:gt.children.length-1,Ti=ie>0?gt.children.length:-1,ei=St;ei!=Ti;ei+=ie){var yi=gt.children[ei];if(yi.className.indexOf("hidden")===-1&&vt(yi.dateObj))return yi}}function U(ie,se){for(var be=ie.className.indexOf("Month")===-1?ie.dateObj.getMonth():i.currentMonth,je=se>0?i.config.showMonths:-1,gt=se>0?1:-1,St=be-i.currentMonth;St!=je;St+=gt)for(var Ti=i.daysContainer.children[St],ei=be-i.currentMonth===St?ie.$i+se:se<0?Ti.children.length-1:0,yi=Ti.children.length,Dt=ei;Dt>=0&&Dt<yi&&Dt!=(se>0?yi:-1);Dt+=gt){var pi=Ti.children[Dt];if(pi.className.indexOf("hidden")===-1&&vt(pi.dateObj)&&Math.abs(ie.$i-Dt)>=Math.abs(se))return P(pi)}i.changeMonth(gt),z(I(gt),0)}function z(ie,se){var be=l(),je=Lt(be||document.body),gt=ie!==void 0?ie:je?be:i.selectedDateElem!==void 0&&Lt(i.selectedDateElem)?i.selectedDateElem:i.todayDateElem!==void 0&&Lt(i.todayDateElem)?i.todayDateElem:I(se>0?1:-1);gt===void 0?i._input.focus():je?U(gt,se):P(gt)}function f(ie,se){for(var be=(new Date(ie,se,1).getDay()-i.l10n.firstDayOfWeek+7)%7,je=i.utils.getDaysInMonth((se-1+12)%12,ie),gt=i.utils.getDaysInMonth(se,ie),St=window.document.createDocumentFragment(),Ti=i.config.showMonths>1,ei=Ti?"prevMonthDay hidden":"prevMonthDay",yi=Ti?"nextMonthDay hidden":"nextMonthDay",Dt=je+1-be,pi=0;Dt<=je;Dt++,pi++)St.appendChild(C("flatpickr-day "+ei,new Date(ie,se-1,Dt),Dt,pi));for(Dt=1;Dt<=gt;Dt++,pi++)St.appendChild(C("flatpickr-day",new Date(ie,se,Dt),Dt,pi));for(var er=gt+1;er<=42-be&&(i.config.showMonths===1||pi%7!==0);er++,pi++)St.appendChild(C("flatpickr-day "+yi,new Date(ie,se+1,er%gt),er,pi));var Qr=Mr("div","dayContainer");return Qr.appendChild(St),Qr}function w(){if(i.daysContainer!==void 0){Iy(i.daysContainer),i.weekNumbers&&Iy(i.weekNumbers);for(var ie=document.createDocumentFragment(),se=0;se<i.config.showMonths;se++){var be=new Date(i.currentYear,i.currentMonth,1);be.setMonth(i.currentMonth+se),ie.appendChild(f(be.getFullYear(),be.getMonth()))}i.daysContainer.appendChild(ie),i.days=i.daysContainer.firstChild,i.config.mode==="range"&&i.selectedDates.length===1&&$t()}}function A(){if(!(i.config.showMonths>1||i.config.monthSelectorType!=="dropdown")){var ie=function(je){return i.config.minDate!==void 0&&i.currentYear===i.config.minDate.getFullYear()&&je<i.config.minDate.getMonth()?!1:!(i.config.maxDate!==void 0&&i.currentYear===i.config.maxDate.getFullYear()&&je>i.config.maxDate.getMonth())};i.monthsDropdownContainer.tabIndex=-1,i.monthsDropdownContainer.innerHTML="";for(var se=0;se<12;se++)if(ie(se)){var be=Mr("option","flatpickr-monthDropdown-month");be.value=new Date(i.currentYear,se).getMonth().toString(),be.textContent=Dv(se,i.config.shorthandCurrentMonth,i.l10n),be.tabIndex=-1,i.currentMonth===se&&(be.selected=!0),i.monthsDropdownContainer.appendChild(be)}}}function R(){var ie=Mr("div","flatpickr-month"),se=window.document.createDocumentFragment(),be;i.config.showMonths>1||i.config.monthSelectorType==="static"?be=Mr("span","cur-month"):(i.monthsDropdownContainer=Mr("select","flatpickr-monthDropdown-months"),i.monthsDropdownContainer.setAttribute("aria-label",i.l10n.monthAriaLabel),O(i.monthsDropdownContainer,"change",function(Ti){var ei=_a(Ti),yi=parseInt(ei.value,10);i.changeMonth(yi-i.currentMonth),Ne("onMonthChange")}),A(),be=i.monthsDropdownContainer);var je=By("cur-year",{tabindex:"-1"}),gt=je.getElementsByTagName("input")[0];gt.setAttribute("aria-label",i.l10n.yearAriaLabel),i.config.minDate&&gt.setAttribute("min",i.config.minDate.getFullYear().toString()),i.config.maxDate&&(gt.setAttribute("max",i.config.maxDate.getFullYear().toString()),gt.disabled=!!i.config.minDate&&i.config.minDate.getFullYear()===i.config.maxDate.getFullYear());var St=Mr("div","flatpickr-current-month");return St.appendChild(be),St.appendChild(je),se.appendChild(St),ie.appendChild(se),{container:ie,yearElement:gt,monthElement:be}}function B(){Iy(i.monthNav),i.monthNav.appendChild(i.prevMonthNav),i.config.showMonths&&(i.yearElements=[],i.monthElements=[]);for(var ie=i.config.showMonths;ie--;){var se=R();i.yearElements.push(se.yearElement),i.monthElements.push(se.monthElement),i.monthNav.appendChild(se.container)}i.monthNav.appendChild(i.nextMonthNav)}function W(){return i.monthNav=Mr("div","flatpickr-months"),i.yearElements=[],i.monthElements=[],i.prevMonthNav=Mr("span","flatpickr-prev-month"),i.prevMonthNav.innerHTML=i.config.prevArrow,i.nextMonthNav=Mr("span","flatpickr-next-month"),i.nextMonthNav.innerHTML=i.config.nextArrow,B(),Object.defineProperty(i,"_hidePrevMonthArrow",{get:function(){return i.__hidePrevMonthArrow},set:function(ie){i.__hidePrevMonthArrow!==ie&&(Nn(i.prevMonthNav,"flatpickr-disabled",ie),i.__hidePrevMonthArrow=ie)}}),Object.defineProperty(i,"_hideNextMonthArrow",{get:function(){return i.__hideNextMonthArrow},set:function(ie){i.__hideNextMonthArrow!==ie&&(Nn(i.nextMonthNav,"flatpickr-disabled",ie),i.__hideNextMonthArrow=ie)}}),i.currentYearElement=i.yearElements[0],Ge(),i.monthNav}function $(){i.calendarContainer.classList.add("hasTime"),i.config.noCalendar&&i.calendarContainer.classList.add("noCalendar");var ie=Z1(i.config);i.timeContainer=Mr("div","flatpickr-time"),i.timeContainer.tabIndex=-1;var se=Mr("span","flatpickr-time-separator",":"),be=By("flatpickr-hour",{"aria-label":i.l10n.hourAriaLabel});i.hourElement=be.getElementsByTagName("input")[0];var je=By("flatpickr-minute",{"aria-label":i.l10n.minuteAriaLabel});if(i.minuteElement=je.getElementsByTagName("input")[0],i.hourElement.tabIndex=i.minuteElement.tabIndex=-1,i.hourElement.value=ia(i.latestSelectedDateObj?i.latestSelectedDateObj.getHours():i.config.time_24hr?ie.hours:y(ie.hours)),i.minuteElement.value=ia(i.latestSelectedDateObj?i.latestSelectedDateObj.getMinutes():ie.minutes),i.hourElement.setAttribute("step",i.config.hourIncrement.toString()),i.minuteElement.setAttribute("step",i.config.minuteIncrement.toString()),i.hourElement.setAttribute("min",i.config.time_24hr?"0":"1"),i.hourElement.setAttribute("max",i.config.time_24hr?"23":"12"),i.hourElement.setAttribute("maxlength","2"),i.minuteElement.setAttribute("min","0"),i.minuteElement.setAttribute("max","59"),i.minuteElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(be),i.timeContainer.appendChild(se),i.timeContainer.appendChild(je),i.config.time_24hr&&i.timeContainer.classList.add("time24hr"),i.config.enableSeconds){i.timeContainer.classList.add("hasSeconds");var gt=By("flatpickr-second");i.secondElement=gt.getElementsByTagName("input")[0],i.secondElement.value=ia(i.latestSelectedDateObj?i.latestSelectedDateObj.getSeconds():ie.seconds),i.secondElement.setAttribute("step",i.minuteElement.getAttribute("step")),i.secondElement.setAttribute("min","0"),i.secondElement.setAttribute("max","59"),i.secondElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(Mr("span","flatpickr-time-separator",":")),i.timeContainer.appendChild(gt)}return i.config.time_24hr||(i.amPM=Mr("span","flatpickr-am-pm",i.l10n.amPM[Ba((i.latestSelectedDateObj?i.hourElement.value:i.config.defaultHour)>11)]),i.amPM.title=i.l10n.toggleTitle,i.amPM.tabIndex=-1,i.timeContainer.appendChild(i.amPM)),i.timeContainer}function G(){i.weekdayContainer?Iy(i.weekdayContainer):i.weekdayContainer=Mr("div","flatpickr-weekdays");for(var ie=i.config.showMonths;ie--;){var se=Mr("div","flatpickr-weekdaycontainer");i.weekdayContainer.appendChild(se)}return ue(),i.weekdayContainer}function ue(){if(i.weekdayContainer){var ie=i.l10n.firstDayOfWeek,se=UD(i.l10n.weekdays.shorthand);ie>0&&ie<se.length&&(se=UD(se.splice(ie,se.length),se.splice(0,ie)));for(var be=i.config.showMonths;be--;)i.weekdayContainer.children[be].innerHTML=`
      <span class='flatpickr-weekday'>
        `+se.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Q(){i.calendarContainer.classList.add("hasWeeks");var ie=Mr("div","flatpickr-weekwrapper");ie.appendChild(Mr("span","flatpickr-weekday",i.l10n.weekAbbreviation));var se=Mr("div","flatpickr-weeks");return ie.appendChild(se),{weekWrapper:ie,weekNumbers:se}}function K(ie,se){se===void 0&&(se=!0);var be=se?ie:ie-i.currentMonth;be<0&&i._hidePrevMonthArrow===!0||be>0&&i._hideNextMonthArrow===!0||(i.currentMonth+=be,(i.currentMonth<0||i.currentMonth>11)&&(i.currentYear+=i.currentMonth>11?1:-1,i.currentMonth=(i.currentMonth+12)%12,Ne("onYearChange"),A()),w(),Ne("onMonthChange"),Ge())}function we(ie,se){if(ie===void 0&&(ie=!0),se===void 0&&(se=!0),i.input.value="",i.altInput!==void 0&&(i.altInput.value=""),i.mobileInput!==void 0&&(i.mobileInput.value=""),i.selectedDates=[],i.latestSelectedDateObj=void 0,se===!0&&(i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth()),i.config.enableTime===!0){var be=Z1(i.config),je=be.hours,gt=be.minutes,St=be.seconds;x(je,gt,St)}i.redraw(),ie&&Ne("onChange")}function ze(){i.isOpen=!1,i.isMobile||(i.calendarContainer!==void 0&&i.calendarContainer.classList.remove("open"),i._input!==void 0&&i._input.classList.remove("active")),Ne("onClose")}function Ke(){i.config!==void 0&&Ne("onDestroy");for(var ie=i._handlers.length;ie--;)i._handlers[ie].remove();if(i._handlers=[],i.mobileInput)i.mobileInput.parentNode&&i.mobileInput.parentNode.removeChild(i.mobileInput),i.mobileInput=void 0;else if(i.calendarContainer&&i.calendarContainer.parentNode)if(i.config.static&&i.calendarContainer.parentNode){var se=i.calendarContainer.parentNode;if(se.lastChild&&se.removeChild(se.lastChild),se.parentNode){for(;se.firstChild;)se.parentNode.insertBefore(se.firstChild,se);se.parentNode.removeChild(se)}}else i.calendarContainer.parentNode.removeChild(i.calendarContainer);i.altInput&&(i.input.type="text",i.altInput.parentNode&&i.altInput.parentNode.removeChild(i.altInput),delete i.altInput),i.input&&(i.input.type=i.input._type,i.input.classList.remove("flatpickr-input"),i.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(be){try{delete i[be]}catch{}})}function Pe(ie){return i.calendarContainer.contains(ie)}function We(ie){if(i.isOpen&&!i.config.inline){var se=_a(ie),be=Pe(se),je=se===i.input||se===i.altInput||i.element.contains(se)||ie.path&&ie.path.indexOf&&(~ie.path.indexOf(i.input)||~ie.path.indexOf(i.altInput)),gt=!je&&!be&&!Pe(ie.relatedTarget),St=!i.config.ignoredFocusElements.some(function(Ti){return Ti.contains(se)});gt&&St&&(i.config.allowInput&&i.setDate(i._input.value,!1,i.config.altInput?i.config.altFormat:i.config.dateFormat),i.timeContainer!==void 0&&i.minuteElement!==void 0&&i.hourElement!==void 0&&i.input.value!==""&&i.input.value!==void 0&&d(),i.close(),i.config&&i.config.mode==="range"&&i.selectedDates.length===1&&i.clear(!1))}}function it(ie){if(!(!ie||i.config.minDate&&ie<i.config.minDate.getFullYear()||i.config.maxDate&&ie>i.config.maxDate.getFullYear())){var se=ie,be=i.currentYear!==se;i.currentYear=se||i.currentYear,i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth=Math.min(i.config.maxDate.getMonth(),i.currentMonth):i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()&&(i.currentMonth=Math.max(i.config.minDate.getMonth(),i.currentMonth)),be&&(i.redraw(),Ne("onYearChange"),A())}}function vt(ie,se){var be;se===void 0&&(se=!0);var je=i.parseDate(ie,void 0,se);if(i.config.minDate&&je&&xa(je,i.config.minDate,se!==void 0?se:!i.minDateHasTime)<0||i.config.maxDate&&je&&xa(je,i.config.maxDate,se!==void 0?se:!i.maxDateHasTime)>0)return!1;if(!i.config.enable&&i.config.disable.length===0)return!0;if(je===void 0)return!1;for(var gt=!!i.config.enable,St=(be=i.config.enable)!==null&&be!==void 0?be:i.config.disable,Ti=0,ei=void 0;Ti<St.length;Ti++){if(ei=St[Ti],typeof ei=="function"&&ei(je))return gt;if(ei instanceof Date&&je!==void 0&&ei.getTime()===je.getTime())return gt;if(typeof ei=="string"){var yi=i.parseDate(ei,void 0,!0);return yi&&yi.getTime()===je.getTime()?gt:!gt}else if(typeof ei=="object"&&je!==void 0&&ei.from&&ei.to&&je.getTime()>=ei.from.getTime()&&je.getTime()<=ei.to.getTime())return gt}return!gt}function Lt(ie){return i.daysContainer!==void 0?ie.className.indexOf("hidden")===-1&&ie.className.indexOf("flatpickr-disabled")===-1&&i.daysContainer.contains(ie):!1}function Re(ie){var se=ie.target===i._input,be=i._input.value.trimEnd()!==Rt();se&&be&&!(ie.relatedTarget&&Pe(ie.relatedTarget))&&i.setDate(i._input.value,!0,ie.target===i.altInput?i.config.altFormat:i.config.dateFormat)}function Yt(ie){var se=_a(ie),be=i.config.wrap?t.contains(se):se===i._input,je=i.config.allowInput,gt=i.isOpen&&(!je||!be),St=i.config.inline&&be&&!je;if(ie.keyCode===13&&be){if(je)return i.setDate(i._input.value,!0,se===i.altInput?i.config.altFormat:i.config.dateFormat),i.close(),se.blur();i.open()}else if(Pe(se)||gt||St){var Ti=!!i.timeContainer&&i.timeContainer.contains(se);switch(ie.keyCode){case 13:Ti?(ie.preventDefault(),d(),Li()):_r(ie);break;case 27:ie.preventDefault(),Li();break;case 8:case 46:be&&!i.config.allowInput&&(ie.preventDefault(),i.clear());break;case 37:case 39:if(!Ti&&!be){ie.preventDefault();var ei=l();if(i.daysContainer!==void 0&&(je===!1||ei&&Lt(ei))){var yi=ie.keyCode===39?1:-1;ie.ctrlKey?(ie.stopPropagation(),K(yi),z(I(1),0)):z(void 0,yi)}}else i.hourElement&&i.hourElement.focus();break;case 38:case 40:ie.preventDefault();var Dt=ie.keyCode===40?1:-1;i.daysContainer&&se.$i!==void 0||se===i.input||se===i.altInput?ie.ctrlKey?(ie.stopPropagation(),it(i.currentYear-Dt),z(I(1),0)):Ti||z(void 0,Dt*7):se===i.currentYearElement?it(i.currentYear-Dt):i.config.enableTime&&(!Ti&&i.hourElement&&i.hourElement.focus(),d(ie),i._debouncedChange());break;case 9:if(Ti){var pi=[i.hourElement,i.minuteElement,i.secondElement,i.amPM].concat(i.pluginElements).filter(function(Jr){return Jr}),er=pi.indexOf(se);if(er!==-1){var Qr=pi[er+(ie.shiftKey?-1:1)];ie.preventDefault(),(Qr||i._input).focus()}}else!i.config.noCalendar&&i.daysContainer&&i.daysContainer.contains(se)&&ie.shiftKey&&(ie.preventDefault(),i._input.focus());break}}if(i.amPM!==void 0&&se===i.amPM)switch(ie.key){case i.l10n.amPM[0].charAt(0):case i.l10n.amPM[0].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[0],b(),Gt();break;case i.l10n.amPM[1].charAt(0):case i.l10n.amPM[1].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[1],b(),Gt();break}(be||Pe(se))&&Ne("onKeyDown",ie)}function $t(ie,se){if(se===void 0&&(se="flatpickr-day"),!(i.selectedDates.length!==1||ie&&(!ie.classList.contains(se)||ie.classList.contains("flatpickr-disabled")))){for(var be=ie?ie.dateObj.getTime():i.days.firstElementChild.dateObj.getTime(),je=i.parseDate(i.selectedDates[0],void 0,!0).getTime(),gt=Math.min(be,i.selectedDates[0].getTime()),St=Math.max(be,i.selectedDates[0].getTime()),Ti=!1,ei=0,yi=0,Dt=gt;Dt<St;Dt+=bV.DAY)vt(new Date(Dt),!0)||(Ti=Ti||Dt>gt&&Dt<St,Dt<je&&(!ei||Dt>ei)?ei=Dt:Dt>je&&(!yi||Dt<yi)&&(yi=Dt));var pi=Array.from(i.rContainer.querySelectorAll("*:nth-child(-n+"+i.config.showMonths+") > ."+se));pi.forEach(function(er){var Qr=er.dateObj,Jr=Qr.getTime(),wr=ei>0&&Jr<ei||yi>0&&Jr>yi;if(wr){er.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(rr){er.classList.remove(rr)});return}else if(Ti&&!wr)return;["startRange","inRange","endRange","notAllowed"].forEach(function(rr){er.classList.remove(rr)}),ie!==void 0&&(ie.classList.add(be<=i.selectedDates[0].getTime()?"startRange":"endRange"),je<be&&Jr===je?er.classList.add("startRange"):je>be&&Jr===je&&er.classList.add("endRange"),Jr>=ei&&(yi===0||Jr<=yi)&&yV(Jr,je,be)&&er.classList.add("inRange"))})}}function Ri(){i.isOpen&&!i.config.static&&!i.config.inline&&Wt()}function nt(ie,se){if(se===void 0&&(se=i._positionElement),i.isMobile===!0){if(ie){ie.preventDefault();var be=_a(ie);be&&be.blur()}i.mobileInput!==void 0&&(i.mobileInput.focus(),i.mobileInput.click()),Ne("onOpen");return}else if(i._input.disabled||i.config.inline)return;var je=i.isOpen;i.isOpen=!0,je||(i.calendarContainer.classList.add("open"),i._input.classList.add("active"),Ne("onOpen"),Wt(se)),i.config.enableTime===!0&&i.config.noCalendar===!0&&i.config.allowInput===!1&&(ie===void 0||!i.timeContainer.contains(ie.relatedTarget))&&setTimeout(function(){return i.hourElement.select()},50)}function Si(ie){return function(se){var be=i.config["_"+ie+"Date"]=i.parseDate(se,i.config.dateFormat),je=i.config["_"+(ie==="min"?"max":"min")+"Date"];be!==void 0&&(i[ie==="min"?"minDateHasTime":"maxDateHasTime"]=be.getHours()>0||be.getMinutes()>0||be.getSeconds()>0),i.selectedDates&&(i.selectedDates=i.selectedDates.filter(function(gt){return vt(gt)}),!i.selectedDates.length&&ie==="min"&&k(be),Gt()),i.daysContainer&&(Zr(),be!==void 0?i.currentYearElement[ie]=be.getFullYear().toString():i.currentYearElement.removeAttribute(ie),i.currentYearElement.disabled=!!je&&be!==void 0&&je.getFullYear()===be.getFullYear())}}function Qi(){var ie=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],se=xn(xn({},JSON.parse(JSON.stringify(t.dataset||{}))),e),be={};i.config.parseDate=se.parseDate,i.config.formatDate=se.formatDate,Object.defineProperty(i.config,"enable",{get:function(){return i.config._enable},set:function(pi){i.config._enable=Ze(pi)}}),Object.defineProperty(i.config,"disable",{get:function(){return i.config._disable},set:function(pi){i.config._disable=Ze(pi)}});var je=se.mode==="time";if(!se.dateFormat&&(se.enableTime||je)){var gt=Rs.defaultConfig.dateFormat||nd.dateFormat;be.dateFormat=se.noCalendar||je?"H:i"+(se.enableSeconds?":S":""):gt+" H:i"+(se.enableSeconds?":S":"")}if(se.altInput&&(se.enableTime||je)&&!se.altFormat){var St=Rs.defaultConfig.altFormat||nd.altFormat;be.altFormat=se.noCalendar||je?"h:i"+(se.enableSeconds?":S K":" K"):St+(" h:i"+(se.enableSeconds?":S":"")+" K")}Object.defineProperty(i.config,"minDate",{get:function(){return i.config._minDate},set:Si("min")}),Object.defineProperty(i.config,"maxDate",{get:function(){return i.config._maxDate},set:Si("max")});var Ti=function(pi){return function(er){i.config[pi==="min"?"_minTime":"_maxTime"]=i.parseDate(er,"H:i:S")}};Object.defineProperty(i.config,"minTime",{get:function(){return i.config._minTime},set:Ti("min")}),Object.defineProperty(i.config,"maxTime",{get:function(){return i.config._maxTime},set:Ti("max")}),se.mode==="time"&&(i.config.noCalendar=!0,i.config.enableTime=!0),Object.assign(i.config,be,se);for(var ei=0;ei<ie.length;ei++)i.config[ie[ei]]=i.config[ie[ei]]===!0||i.config[ie[ei]]==="true";Y1.filter(function(pi){return i.config[pi]!==void 0}).forEach(function(pi){i.config[pi]=G1(i.config[pi]||[]).map(a)}),i.isMobile=!i.config.disableMobile&&!i.config.inline&&i.config.mode==="single"&&!i.config.disable.length&&!i.config.enable&&!i.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var ei=0;ei<i.config.plugins.length;ei++){var yi=i.config.plugins[ei](i)||{};for(var Dt in yi)Y1.indexOf(Dt)>-1?i.config[Dt]=G1(yi[Dt]).map(a).concat(i.config[Dt]):typeof se[Dt]>"u"&&(i.config[Dt]=yi[Dt])}se.altInputClass||(i.config.altInputClass=Ji().className+" "+i.config.altInputClass),Ne("onParseConfig")}function Ji(){return i.config.wrap?t.querySelector("[data-input]"):t}function bt(){typeof i.config.locale!="object"&&typeof Rs.l10ns[i.config.locale]>"u"&&i.config.errorHandler(new Error("flatpickr: invalid locale "+i.config.locale)),i.l10n=xn(xn({},Rs.l10ns.default),typeof i.config.locale=="object"?i.config.locale:i.config.locale!=="default"?Rs.l10ns[i.config.locale]:void 0),Ih.D="("+i.l10n.weekdays.shorthand.join("|")+")",Ih.l="("+i.l10n.weekdays.longhand.join("|")+")",Ih.M="("+i.l10n.months.shorthand.join("|")+")",Ih.F="("+i.l10n.months.longhand.join("|")+")",Ih.K="("+i.l10n.amPM[0]+"|"+i.l10n.amPM[1]+"|"+i.l10n.amPM[0].toLowerCase()+"|"+i.l10n.amPM[1].toLowerCase()+")";var ie=xn(xn({},e),JSON.parse(JSON.stringify(t.dataset||{})));ie.time_24hr===void 0&&Rs.defaultConfig.time_24hr===void 0&&(i.config.time_24hr=i.l10n.time_24hr),i.formatDate=LF(i),i.parseDate=rk({config:i.config,l10n:i.l10n})}function Wt(ie){if(typeof i.config.position=="function")return void i.config.position(i,ie);if(i.calendarContainer!==void 0){Ne("onPreCalendarPosition");var se=ie||i._positionElement,be=Array.prototype.reduce.call(i.calendarContainer.children,function(ri,Ar){return ri+Ar.offsetHeight},0),je=i.calendarContainer.offsetWidth,gt=i.config.position.split(" "),St=gt[0],Ti=gt.length>1?gt[1]:null,ei=se.getBoundingClientRect(),yi=window.innerHeight-ei.bottom,Dt=St==="above"||St!=="below"&&yi<be&&ei.top>be,pi=window.pageYOffset+ei.top+(Dt?-be-2:se.offsetHeight+2);if(Nn(i.calendarContainer,"arrowTop",!Dt),Nn(i.calendarContainer,"arrowBottom",Dt),!i.config.inline){var er=window.pageXOffset+ei.left,Qr=!1,Jr=!1;Ti==="center"?(er-=(je-ei.width)/2,Qr=!0):Ti==="right"&&(er-=je-ei.width,Jr=!0),Nn(i.calendarContainer,"arrowLeft",!Qr&&!Jr),Nn(i.calendarContainer,"arrowCenter",Qr),Nn(i.calendarContainer,"arrowRight",Jr);var wr=window.document.body.offsetWidth-(window.pageXOffset+ei.right),rr=er+je>window.document.body.offsetWidth,Yn=wr+je>window.document.body.offsetWidth;if(Nn(i.calendarContainer,"rightMost",rr),!i.config.static)if(i.calendarContainer.style.top=pi+"px",!rr)i.calendarContainer.style.left=er+"px",i.calendarContainer.style.right="auto";else if(!Yn)i.calendarContainer.style.left="auto",i.calendarContainer.style.right=wr+"px";else{var vr=Gi();if(vr===void 0)return;var To=window.document.body.offsetWidth,Co=Math.max(0,To/2-je/2),sl=".flatpickr-calendar.centerMost:before",jt=".flatpickr-calendar.centerMost:after",le=vr.cssRules.length,Ct="{left:"+ei.left+"px;right:auto;}";Nn(i.calendarContainer,"rightMost",!1),Nn(i.calendarContainer,"centerMost",!0),vr.insertRule(sl+","+jt+Ct,le),i.calendarContainer.style.left=Co+"px",i.calendarContainer.style.right="auto"}}}}function Gi(){for(var ie=null,se=0;se<document.styleSheets.length;se++){var be=document.styleSheets[se];if(be.cssRules){try{be.cssRules}catch{continue}ie=be;break}}return ie??jr()}function jr(){var ie=document.createElement("style");return document.head.appendChild(ie),ie.sheet}function Zr(){i.config.noCalendar||i.isMobile||(A(),Ge(),w())}function Li(){i._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(i.close,0):i.close()}function _r(ie){ie.preventDefault(),ie.stopPropagation();var se=function(pi){return pi.classList&&pi.classList.contains("flatpickr-day")&&!pi.classList.contains("flatpickr-disabled")&&!pi.classList.contains("notAllowed")},be=DF(_a(ie),se);if(be!==void 0){var je=be,gt=i.latestSelectedDateObj=new Date(je.dateObj.getTime()),St=(gt.getMonth()<i.currentMonth||gt.getMonth()>i.currentMonth+i.config.showMonths-1)&&i.config.mode!=="range";if(i.selectedDateElem=je,i.config.mode==="single")i.selectedDates=[gt];else if(i.config.mode==="multiple"){var Ti=He(gt);Ti?i.selectedDates.splice(parseInt(Ti),1):i.selectedDates.push(gt)}else i.config.mode==="range"&&(i.selectedDates.length===2&&i.clear(!1,!1),i.latestSelectedDateObj=gt,i.selectedDates.push(gt),xa(gt,i.selectedDates[0],!0)!==0&&i.selectedDates.sort(function(pi,er){return pi.getTime()-er.getTime()}));if(b(),St){var ei=i.currentYear!==gt.getFullYear();i.currentYear=gt.getFullYear(),i.currentMonth=gt.getMonth(),ei&&(Ne("onYearChange"),A()),Ne("onMonthChange")}if(Ge(),w(),Gt(),!St&&i.config.mode!=="range"&&i.config.showMonths===1?P(je):i.selectedDateElem!==void 0&&i.hourElement===void 0&&i.selectedDateElem&&i.selectedDateElem.focus(),i.hourElement!==void 0&&i.hourElement!==void 0&&i.hourElement.focus(),i.config.closeOnSelect){var yi=i.config.mode==="single"&&!i.config.enableTime,Dt=i.config.mode==="range"&&i.selectedDates.length===2&&!i.config.enableTime;(yi||Dt)&&Li()}L()}}var J={locale:[bt,ue],showMonths:[B,h,G],minDate:[u],maxDate:[u],positionElement:[Zt],clickOpens:[function(){i.config.clickOpens===!0?(O(i._input,"focus",i.open),O(i._input,"click",i.open)):(i._input.removeEventListener("focus",i.open),i._input.removeEventListener("click",i.open))}]};function pe(ie,se){if(ie!==null&&typeof ie=="object"){Object.assign(i.config,ie);for(var be in ie)J[be]!==void 0&&J[be].forEach(function(je){return je()})}else i.config[ie]=se,J[ie]!==void 0?J[ie].forEach(function(je){return je()}):Y1.indexOf(ie)>-1&&(i.config[ie]=G1(se));i.redraw(),Gt(!0)}function ce(ie,se){var be=[];if(ie instanceof Array)be=ie.map(function(je){return i.parseDate(je,se)});else if(ie instanceof Date||typeof ie=="number")be=[i.parseDate(ie,se)];else if(typeof ie=="string")switch(i.config.mode){case"single":case"time":be=[i.parseDate(ie,se)];break;case"multiple":be=ie.split(i.config.conjunction).map(function(je){return i.parseDate(je,se)});break;case"range":be=ie.split(i.l10n.rangeSeparator).map(function(je){return i.parseDate(je,se)});break}else i.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ie)));i.selectedDates=i.config.allowInvalidPreload?be:be.filter(function(je){return je instanceof Date&&vt(je,!1)}),i.config.mode==="range"&&i.selectedDates.sort(function(je,gt){return je.getTime()-gt.getTime()})}function Be(ie,se,be){if(se===void 0&&(se=!1),be===void 0&&(be=i.config.dateFormat),ie!==0&&!ie||ie instanceof Array&&ie.length===0)return i.clear(se);ce(ie,be),i.latestSelectedDateObj=i.selectedDates[i.selectedDates.length-1],i.redraw(),u(void 0,se),k(),i.selectedDates.length===0&&i.clear(!1),Gt(se),se&&Ne("onChange")}function Ze(ie){return ie.slice().map(function(se){return typeof se=="string"||typeof se=="number"||se instanceof Date?i.parseDate(se,void 0,!0):se&&typeof se=="object"&&se.from&&se.to?{from:i.parseDate(se.from,void 0),to:i.parseDate(se.to,void 0)}:se}).filter(function(se){return se})}function Qe(){i.selectedDates=[],i.now=i.parseDate(i.config.now)||new Date;var ie=i.config.defaultDate||((i.input.nodeName==="INPUT"||i.input.nodeName==="TEXTAREA")&&i.input.placeholder&&i.input.value===i.input.placeholder?null:i.input.value);ie&&ce(ie,i.config.dateFormat),i._initialDate=i.selectedDates.length>0?i.selectedDates[0]:i.config.minDate&&i.config.minDate.getTime()>i.now.getTime()?i.config.minDate:i.config.maxDate&&i.config.maxDate.getTime()<i.now.getTime()?i.config.maxDate:i.now,i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth(),i.selectedDates.length>0&&(i.latestSelectedDateObj=i.selectedDates[0]),i.config.minTime!==void 0&&(i.config.minTime=i.parseDate(i.config.minTime,"H:i")),i.config.maxTime!==void 0&&(i.config.maxTime=i.parseDate(i.config.maxTime,"H:i")),i.minDateHasTime=!!i.config.minDate&&(i.config.minDate.getHours()>0||i.config.minDate.getMinutes()>0||i.config.minDate.getSeconds()>0),i.maxDateHasTime=!!i.config.maxDate&&(i.config.maxDate.getHours()>0||i.config.maxDate.getMinutes()>0||i.config.maxDate.getSeconds()>0)}function Pt(){if(i.input=Ji(),!i.input){i.config.errorHandler(new Error("Invalid input element specified"));return}i.input._type=i.input.type,i.input.type="text",i.input.classList.add("flatpickr-input"),i._input=i.input,i.config.altInput&&(i.altInput=Mr(i.input.nodeName,i.config.altInputClass),i._input=i.altInput,i.altInput.placeholder=i.input.placeholder,i.altInput.disabled=i.input.disabled,i.altInput.required=i.input.required,i.altInput.tabIndex=i.input.tabIndex,i.altInput.type="text",i.input.setAttribute("type","hidden"),!i.config.static&&i.input.parentNode&&i.input.parentNode.insertBefore(i.altInput,i.input.nextSibling)),i.config.allowInput||i._input.setAttribute("readonly","readonly"),Zt()}function Zt(){i._positionElement=i.config.positionElement||i._input}function oi(){var ie=i.config.enableTime?i.config.noCalendar?"time":"datetime-local":"date";i.mobileInput=Mr("input",i.input.className+" flatpickr-mobile"),i.mobileInput.tabIndex=1,i.mobileInput.type=ie,i.mobileInput.disabled=i.input.disabled,i.mobileInput.required=i.input.required,i.mobileInput.placeholder=i.input.placeholder,i.mobileFormatStr=ie==="datetime-local"?"Y-m-d\\TH:i:S":ie==="date"?"Y-m-d":"H:i:S",i.selectedDates.length>0&&(i.mobileInput.defaultValue=i.mobileInput.value=i.formatDate(i.selectedDates[0],i.mobileFormatStr)),i.config.minDate&&(i.mobileInput.min=i.formatDate(i.config.minDate,"Y-m-d")),i.config.maxDate&&(i.mobileInput.max=i.formatDate(i.config.maxDate,"Y-m-d")),i.input.getAttribute("step")&&(i.mobileInput.step=String(i.input.getAttribute("step"))),i.input.type="hidden",i.altInput!==void 0&&(i.altInput.type="hidden");try{i.input.parentNode&&i.input.parentNode.insertBefore(i.mobileInput,i.input.nextSibling)}catch{}O(i.mobileInput,"change",function(se){i.setDate(_a(se).value,!1,i.mobileFormatStr),Ne("onChange"),Ne("onClose")})}function de(ie){if(i.isOpen===!0)return i.close();i.open(ie)}function Ne(ie,se){if(i.config!==void 0){var be=i.config[ie];if(be!==void 0&&be.length>0)for(var je=0;be[je]&&je<be.length;je++)be[je](i.selectedDates,i.input.value,i,se);ie==="onChange"&&(i.input.dispatchEvent(ut("change")),i.input.dispatchEvent(ut("input")))}}function ut(ie){var se=document.createEvent("Event");return se.initEvent(ie,!0,!0),se}function He(ie){for(var se=0;se<i.selectedDates.length;se++){var be=i.selectedDates[se];if(be instanceof Date&&xa(be,ie)===0)return""+se}return!1}function ht(ie){return i.config.mode!=="range"||i.selectedDates.length<2?!1:xa(ie,i.selectedDates[0])>=0&&xa(ie,i.selectedDates[1])<=0}function Ge(){i.config.noCalendar||i.isMobile||!i.monthNav||(i.yearElements.forEach(function(ie,se){var be=new Date(i.currentYear,i.currentMonth,1);be.setMonth(i.currentMonth+se),i.config.showMonths>1||i.config.monthSelectorType==="static"?i.monthElements[se].textContent=Dv(be.getMonth(),i.config.shorthandCurrentMonth,i.l10n)+" ":i.monthsDropdownContainer.value=be.getMonth().toString(),ie.value=be.getFullYear().toString()}),i._hidePrevMonthArrow=i.config.minDate!==void 0&&(i.currentYear===i.config.minDate.getFullYear()?i.currentMonth<=i.config.minDate.getMonth():i.currentYear<i.config.minDate.getFullYear()),i._hideNextMonthArrow=i.config.maxDate!==void 0&&(i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth+1>i.config.maxDate.getMonth():i.currentYear>i.config.maxDate.getFullYear()))}function Rt(ie){var se=ie||(i.config.altInput?i.config.altFormat:i.config.dateFormat);return i.selectedDates.map(function(be){return i.formatDate(be,se)}).filter(function(be,je,gt){return i.config.mode!=="range"||i.config.enableTime||gt.indexOf(be)===je}).join(i.config.mode!=="range"?i.config.conjunction:i.l10n.rangeSeparator)}function Gt(ie){ie===void 0&&(ie=!0),i.mobileInput!==void 0&&i.mobileFormatStr&&(i.mobileInput.value=i.latestSelectedDateObj!==void 0?i.formatDate(i.latestSelectedDateObj,i.mobileFormatStr):""),i.input.value=Rt(i.config.dateFormat),i.altInput!==void 0&&(i.altInput.value=Rt(i.config.altFormat)),ie!==!1&&Ne("onValueUpdate")}function Mi(ie){var se=_a(ie),be=i.prevMonthNav.contains(se),je=i.nextMonthNav.contains(se);be||je?K(be?-1:1):i.yearElements.indexOf(se)>=0?se.select():se.classList.contains("arrowUp")?i.changeYear(i.currentYear+1):se.classList.contains("arrowDown")&&i.changeYear(i.currentYear-1)}function gi(ie){ie.preventDefault();var se=ie.type==="keydown",be=_a(ie),je=be;i.amPM!==void 0&&be===i.amPM&&(i.amPM.textContent=i.l10n.amPM[Ba(i.amPM.textContent===i.l10n.amPM[0])]);var gt=parseFloat(je.getAttribute("min")),St=parseFloat(je.getAttribute("max")),Ti=parseFloat(je.getAttribute("step")),ei=parseInt(je.value,10),yi=ie.delta||(se?ie.which===38?1:-1:0),Dt=ei+Ti*yi;if(typeof je.value<"u"&&je.value.length===2){var pi=je===i.hourElement,er=je===i.minuteElement;Dt<gt?(Dt=St+Dt+Ba(!pi)+(Ba(pi)&&Ba(!i.amPM)),er&&g(void 0,-1,i.hourElement)):Dt>St&&(Dt=je===i.hourElement?Dt-St-Ba(!i.amPM):gt,er&&g(void 0,1,i.hourElement)),i.amPM&&pi&&(Ti===1?Dt+ei===23:Math.abs(Dt-ei)>Ti)&&(i.amPM.textContent=i.l10n.amPM[Ba(i.amPM.textContent===i.l10n.amPM[0])]),je.value=ia(Dt)}}return n(),i}function ad(t,e){for(var i=Array.prototype.slice.call(t).filter(function(a){return a instanceof HTMLElement}),s=[],n=0;n<i.length;n++){var l=i[n];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=wV(l,e||{}),s.push(l._flatpickr)}catch(a){console.error(a)}}return s.length===1?s[0]:s}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return ad(this,t)},HTMLElement.prototype.flatpickr=function(t){return ad([this],t)});var Rs=function(t,e){return typeof t=="string"?ad(window.document.querySelectorAll(t),e):t instanceof Node?ad([t],e):ad(t,e)};Rs.defaultConfig={};Rs.l10ns={en:xn({},wm),default:xn({},wm)};Rs.localize=function(t){Rs.l10ns.default=xn(xn({},Rs.l10ns.default),t)};Rs.setDefaults=function(t){Rs.defaultConfig=xn(xn({},Rs.defaultConfig),t)};Rs.parseDate=rk({});Rs.formatDate=LF({});Rs.compareDates=xa;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return ad(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=Rs);/**!
 * Sortable 1.15.7
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function xV(t,e,i){return(e=CV(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function ql(){return ql=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ql.apply(null,arguments)}function HD(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,s)}return i}function Go(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?HD(Object(i),!0).forEach(function(s){xV(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):HD(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function kV(t,e){if(t==null)return{};var i,s,n=SV(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)i=l[s],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function SV(t,e){if(t==null)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;i[s]=t[s]}return i}function TV(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CV(t){var e=TV(t,"string");return typeof e=="symbol"?e:e+""}function sk(t){"@babel/helpers - typeof";return sk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sk(t)}var EV="1.15.7";function Ul(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Zl=Ul(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),qm=Ul(/Edge/i),WD=Ul(/firefox/i),em=Ul(/safari/i)&&!Ul(/chrome/i)&&!Ul(/android/i),zS=Ul(/iP(ad|od|hone)/i),RF=Ul(/chrome/i)&&Ul(/android/i),FF={capture:!1,passive:!1};function pr(t,e,i){t.addEventListener(e,i,!Zl&&FF)}function dr(t,e,i){t.removeEventListener(e,i,!Zl&&FF)}function Lv(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function IF(t){return t.host&&t!==document&&t.host.nodeType&&t.host!==t?t.host:t.parentNode}function fo(t,e,i,s){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&Lv(t,e):Lv(t,e))||s&&t===i)return t;if(t===i)break}while(t=IF(t))}return null}var jD=/\s+/g;function ka(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(jD," ").replace(" "+e+" "," ");t.className=(s+(i?" "+e:"")).replace(jD," ")}}function Wi(t,e,i){var s=t&&t.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=i+(typeof i=="string"?"":"px")}}function od(t,e){var i="";if(typeof t=="string")i=t;else do{var s=Wi(t,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function BF(t,e,i){if(t){var s=t.getElementsByTagName(e),n=0,l=s.length;if(i)for(;n<l;n++)i(s[n],n);return s}return[]}function qo(){var t=document.scrollingElement;return t||document.documentElement}function Ls(t,e,i,s,n){if(!(!t.getBoundingClientRect&&t!==window)){var l,a,h,d,m,y,b;if(t!==window&&t.parentNode&&t!==qo()?(l=t.getBoundingClientRect(),a=l.top,h=l.left,d=l.bottom,m=l.right,y=l.height,b=l.width):(a=0,h=0,d=window.innerHeight,m=window.innerWidth,y=window.innerHeight,b=window.innerWidth),(e||i)&&t!==window&&(n=n||t.parentNode,!Zl))do if(n&&n.getBoundingClientRect&&(Wi(n,"transform")!=="none"||i&&Wi(n,"position")!=="static")){var k=n.getBoundingClientRect();a-=k.top+parseInt(Wi(n,"border-top-width")),h-=k.left+parseInt(Wi(n,"border-left-width")),d=a+l.height,m=h+l.width;break}while(n=n.parentNode);if(s&&t!==window){var x=od(n||t),E=x&&x.a,O=x&&x.d;x&&(a/=O,h/=E,b/=E,y/=O,d=a+y,m=h+b)}return{top:a,left:h,bottom:d,right:m,width:b,height:y}}}function qD(t,e,i){for(var s=_c(t,!0),n=Ls(t)[e];s;){var l=Ls(s)[i],a=void 0;if(a=n>=l,!a)return s;if(s===qo())break;s=_c(s,!1)}return!1}function wd(t,e,i,s){for(var n=0,l=0,a=t.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==ji.ghost&&(s||a[l]!==ji.dragged)&&fo(a[l],i.draggable,t,!1)){if(n===e)return a[l];n++}l++}return null}function US(t,e){for(var i=t.lastElementChild;i&&(i===ji.ghost||Wi(i,"display")==="none"||e&&!Lv(i,e));)i=i.previousElementSibling;return i||null}function Na(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ji.clone&&(!e||Lv(t,e))&&i++;return i}function $D(t){var e=0,i=0,s=qo();if(t)do{var n=od(t),l=n.a,a=n.d;e+=t.scrollLeft*l,i+=t.scrollTop*a}while(t!==s&&(t=t.parentNode));return[e,i]}function OV(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[i][s])return Number(i)}return-1}function _c(t,e){if(!t||!t.getBoundingClientRect)return qo();var i=t,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=Wi(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return qo();if(s||e)return i;s=!0}}while(i=i.parentNode);return qo()}function MV(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function Q1(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var tm;function NF(t,e){return function(){if(!tm){var i=arguments,s=this;i.length===1?t.call(s,i[0]):t.apply(s,i),tm=setTimeout(function(){tm=void 0},e)}}}function AV(){clearTimeout(tm),tm=void 0}function zF(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function UF(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function HF(t,e,i){var s={};return Array.from(t.children).forEach(function(n){var l,a,h,d;if(!(!fo(n,e.draggable,t,!1)||n.animated||n===i)){var m=Ls(n);s.left=Math.min((l=s.left)!==null&&l!==void 0?l:1/0,m.left),s.top=Math.min((a=s.top)!==null&&a!==void 0?a:1/0,m.top),s.right=Math.max((h=s.right)!==null&&h!==void 0?h:-1/0,m.right),s.bottom=Math.max((d=s.bottom)!==null&&d!==void 0?d:-1/0,m.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var sa="Sortable"+new Date().getTime();function PV(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(n){if(!(Wi(n,"display")==="none"||n===ji.ghost)){t.push({target:n,rect:Ls(n)});var l=Go({},t[t.length-1].rect);if(n.thisAnimationDuration){var a=od(n,!0);a&&(l.top-=a.f,l.left-=a.e)}n.fromRect=l}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(OV(t,{target:s}),1)},animateAll:function(s){var n=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var l=!1,a=0;t.forEach(function(h){var d=0,m=h.target,y=m.fromRect,b=Ls(m),k=m.prevFromRect,x=m.prevToRect,E=h.rect,O=od(m,!0);O&&(b.top-=O.f,b.left-=O.e),m.toRect=b,m.thisAnimationDuration&&Q1(k,b)&&!Q1(y,b)&&(E.top-b.top)/(E.left-b.left)===(y.top-b.top)/(y.left-b.left)&&(d=LV(E,k,x,n.options)),Q1(b,y)||(m.prevFromRect=y,m.prevToRect=b,d||(d=n.options.animation),n.animate(m,E,b,d)),d&&(l=!0,a=Math.max(a,d),clearTimeout(m.animationResetTimer),m.animationResetTimer=setTimeout(function(){m.animationTime=0,m.prevFromRect=null,m.fromRect=null,m.prevToRect=null,m.thisAnimationDuration=null},d),m.thisAnimationDuration=d)}),clearTimeout(e),l?e=setTimeout(function(){typeof s=="function"&&s()},a):typeof s=="function"&&s(),t=[]},animate:function(s,n,l,a){if(a){Wi(s,"transition",""),Wi(s,"transform","");var h=od(this.el),d=h&&h.a,m=h&&h.d,y=(n.left-l.left)/(d||1),b=(n.top-l.top)/(m||1);s.animatingX=!!y,s.animatingY=!!b,Wi(s,"transform","translate3d("+y+"px,"+b+"px,0)"),this.forRepaintDummy=DV(s),Wi(s,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Wi(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Wi(s,"transition",""),Wi(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},a)}}}}function DV(t){return t.offsetWidth}function LV(t,e,i,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*s.animation}var Hu=[],J1={initializeByDefault:!0},$m={mount:function(e){for(var i in J1)J1.hasOwnProperty(i)&&!(i in e)&&(e[i]=J1[i]);Hu.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Hu.push(e)},pluginEvent:function(e,i,s){var n=this;this.eventCanceled=!1,s.cancel=function(){n.eventCanceled=!0};var l=e+"Global";Hu.forEach(function(a){i[a.pluginName]&&(i[a.pluginName][l]&&i[a.pluginName][l](Go({sortable:i},s)),i.options[a.pluginName]&&i[a.pluginName][e]&&i[a.pluginName][e](Go({sortable:i},s)))})},initializePlugins:function(e,i,s,n){Hu.forEach(function(h){var d=h.pluginName;if(!(!e.options[d]&&!h.initializeByDefault)){var m=new h(e,i,e.options);m.sortable=e,m.options=e.options,e[d]=m,ql(s,m.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);typeof a<"u"&&(e.options[l]=a)}},getEventProperties:function(e,i){var s={};return Hu.forEach(function(n){typeof n.eventProperties=="function"&&ql(s,n.eventProperties.call(i[n.pluginName],e))}),s},modifyOption:function(e,i,s){var n;return Hu.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[i]=="function"&&(n=l.optionListeners[i].call(e[l.pluginName],s))}),n}};function RV(t){var e=t.sortable,i=t.rootEl,s=t.name,n=t.targetEl,l=t.cloneEl,a=t.toEl,h=t.fromEl,d=t.oldIndex,m=t.newIndex,y=t.oldDraggableIndex,b=t.newDraggableIndex,k=t.originalEvent,x=t.putSortable,E=t.extraEventProperties;if(e=e||i&&i[sa],!!e){var O,L=e.options,D="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Zl&&!qm?O=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(O=document.createEvent("Event"),O.initEvent(s,!0,!0)),O.to=a||i,O.from=h||i,O.item=n||i,O.clone=l,O.oldIndex=d,O.newIndex=m,O.oldDraggableIndex=y,O.newDraggableIndex=b,O.originalEvent=k,O.pullMode=x?x.lastPutMode:void 0;var u=Go(Go({},E),$m.getEventProperties(s,e));for(var T in u)O[T]=u[T];i&&i.dispatchEvent(O),L[D]&&L[D].call(e,O)}}var FV=["evt"],Jn=function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.evt,l=kV(s,FV);$m.pluginEvent.bind(ji)(e,i,Go({dragEl:Ht,parentEl:vs,ghostEl:Zi,rootEl:hs,nextEl:Ah,lastDownEl:av,cloneEl:gs,cloneHidden:yc,dragStarted:Hp,putSortable:hn,activeSortable:ji.active,originalEvent:n,oldIndex:ed,oldDraggableIndex:im,newIndex:Sa,newDraggableIndex:mc,hideGhostForTarget:$F,unhideGhostForTarget:VF,cloneNowHidden:function(){yc=!0},cloneNowShown:function(){yc=!1},dispatchSortableEvent:function(h){Un({sortable:i,name:h,originalEvent:n})}},l))};function Un(t){RV(Go({putSortable:hn,cloneEl:gs,targetEl:Ht,rootEl:hs,oldIndex:ed,oldDraggableIndex:im,newIndex:Sa,newDraggableIndex:mc},t))}var Ht,vs,Zi,hs,Ah,av,gs,yc,ed,Sa,im,mc,Ny,hn,Gu=!1,Rv=!1,Fv=[],Eh,ho,ex,tx,VD,YD,Hp,Wu,rm,sm=!1,zy=!1,ov,bn,ix=[],nk=!1,Iv=[],Ub=typeof document<"u",Uy=zS,GD=qm||Zl?"cssFloat":"float",IV=Ub&&!RF&&!zS&&"draggable"in document.createElement("div"),WF=function(){if(Ub){if(Zl)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),jF=function(e,i){var s=Wi(e),n=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=wd(e,0,i),a=wd(e,1,i),h=l&&Wi(l),d=a&&Wi(a),m=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Ls(l).width,y=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Ls(a).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&h.float&&h.float!=="none"){var b=h.float==="left"?"left":"right";return a&&(d.clear==="both"||d.clear===b)?"vertical":"horizontal"}return l&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||m>=n&&s[GD]==="none"||a&&s[GD]==="none"&&m+y>n)?"vertical":"horizontal"},BV=function(e,i,s){var n=s?e.left:e.top,l=s?e.right:e.bottom,a=s?e.width:e.height,h=s?i.left:i.top,d=s?i.right:i.bottom,m=s?i.width:i.height;return n===h||l===d||n+a/2===h+m/2},NV=function(e,i){var s;return Fv.some(function(n){var l=n[sa].options.emptyInsertThreshold;if(!(!l||US(n))){var a=Ls(n),h=e>=a.left-l&&e<=a.right+l,d=i>=a.top-l&&i<=a.bottom+l;if(h&&d)return s=n}}),s},qF=function(e){function i(l,a){return function(h,d,m,y){var b=h.options.group.name&&d.options.group.name&&h.options.group.name===d.options.group.name;if(l==null&&(a||b))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return i(l(h,d,m,y),a)(h,d,m,y);var k=(a?h:d).options.group.name;return l===!0||typeof l=="string"&&l===k||l.join&&l.indexOf(k)>-1}}var s={},n=e.group;(!n||sk(n)!="object")&&(n={name:n}),s.name=n.name,s.checkPull=i(n.pull,!0),s.checkPut=i(n.put),s.revertClone=n.revertClone,e.group=s},$F=function(){!WF&&Zi&&Wi(Zi,"display","none")},VF=function(){!WF&&Zi&&Wi(Zi,"display","")};Ub&&!RF&&document.addEventListener("click",function(t){if(Rv)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Rv=!1,!1},!0);var Oh=function(e){if(Ht){e=e.touches?e.touches[0]:e;var i=NV(e.clientX,e.clientY);if(i){var s={};for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[sa]._onDragOver(s)}}},zV=function(e){Ht&&Ht.parentNode[sa]._isOutsideThisEl(e.target)};function ji(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=ql({},e),t[sa]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return jF(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,h){a.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ji.supportPointer!==!1&&"PointerEvent"in window&&(!em||zS),emptyInsertThreshold:5};$m.initializePlugins(this,t,i);for(var s in i)!(s in e)&&(e[s]=i[s]);qF(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:IV,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?pr(t,"pointerdown",this._onTapStart):(pr(t,"mousedown",this._onTapStart),pr(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(pr(t,"dragover",this),pr(t,"dragenter",this)),Fv.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),ql(this,PV())}ji.prototype={constructor:ji,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Wu=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,Ht):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,s=this.el,n=this.options,l=n.preventOnFilter,a=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(h||e).target,m=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,y=n.filter;if(YV(s),!Ht&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||n.disabled)&&!m.isContentEditable&&!(!this.nativeDraggable&&em&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=fo(d,n.draggable,s,!1),!(d&&d.animated)&&av!==d)){if(ed=Na(d),im=Na(d,n.draggable),typeof y=="function"){if(y.call(this,e,d,this)){Un({sortable:i,rootEl:m,name:"filter",targetEl:d,toEl:s,fromEl:s}),Jn("filter",i,{evt:e}),l&&e.preventDefault();return}}else if(y&&(y=y.split(",").some(function(b){if(b=fo(m,b.trim(),s,!1),b)return Un({sortable:i,rootEl:b,name:"filter",targetEl:d,fromEl:s,toEl:s}),Jn("filter",i,{evt:e}),!0}),y)){l&&e.preventDefault();return}n.handle&&!fo(m,n.handle,s,!1)||this._prepareDragStart(e,h,d)}}},_prepareDragStart:function(e,i,s){var n=this,l=n.el,a=n.options,h=l.ownerDocument,d;if(s&&!Ht&&s.parentNode===l){var m=Ls(s);if(hs=l,Ht=s,vs=Ht.parentNode,Ah=Ht.nextSibling,av=s,Ny=a.group,ji.dragged=Ht,Eh={target:Ht,clientX:(i||e).clientX,clientY:(i||e).clientY},VD=Eh.clientX-m.left,YD=Eh.clientY-m.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,Ht.style["will-change"]="all",d=function(){if(Jn("delayEnded",n,{evt:e}),ji.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!WD&&n.nativeDraggable&&(Ht.draggable=!0),n._triggerDragStart(e,i),Un({sortable:n,name:"choose",originalEvent:e}),ka(Ht,a.chosenClass,!0)},a.ignore.split(",").forEach(function(y){BF(Ht,y.trim(),rx)}),pr(h,"dragover",Oh),pr(h,"mousemove",Oh),pr(h,"touchmove",Oh),a.supportPointer?(pr(h,"pointerup",n._onDrop),!this.nativeDraggable&&pr(h,"pointercancel",n._onDrop)):(pr(h,"mouseup",n._onDrop),pr(h,"touchend",n._onDrop),pr(h,"touchcancel",n._onDrop)),WD&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ht.draggable=!0),Jn("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(qm||Zl))){if(ji.eventCanceled){this._onDrop();return}a.supportPointer?(pr(h,"pointerup",n._disableDelayedDrag),pr(h,"pointercancel",n._disableDelayedDrag)):(pr(h,"mouseup",n._disableDelayedDrag),pr(h,"touchend",n._disableDelayedDrag),pr(h,"touchcancel",n._disableDelayedDrag)),pr(h,"mousemove",n._delayedDragTouchMoveHandler),pr(h,"touchmove",n._delayedDragTouchMoveHandler),a.supportPointer&&pr(h,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(d,a.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ht&&rx(Ht),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;dr(e,"mouseup",this._disableDelayedDrag),dr(e,"touchend",this._disableDelayedDrag),dr(e,"touchcancel",this._disableDelayedDrag),dr(e,"pointerup",this._disableDelayedDrag),dr(e,"pointercancel",this._disableDelayedDrag),dr(e,"mousemove",this._delayedDragTouchMoveHandler),dr(e,"touchmove",this._delayedDragTouchMoveHandler),dr(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?pr(document,"pointermove",this._onTouchMove):i?pr(document,"touchmove",this._onTouchMove):pr(document,"mousemove",this._onTouchMove):(pr(Ht,"dragend",this),pr(hs,"dragstart",this._onDragStart));try{document.selection?lv(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(Gu=!1,hs&&Ht){Jn("dragStarted",this,{evt:i}),this.nativeDraggable&&pr(document,"dragover",zV);var s=this.options;!e&&ka(Ht,s.dragClass,!1),ka(Ht,s.ghostClass,!0),ji.active=this,e&&this._appendGhost(),Un({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(ho){this._lastX=ho.clientX,this._lastY=ho.clientY,$F();for(var e=document.elementFromPoint(ho.clientX,ho.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ho.clientX,ho.clientY),e!==i);)i=e;if(Ht.parentNode[sa]._isOutsideThisEl(e),i)do{if(i[sa]){var s=void 0;if(s=i[sa]._onDragOver({clientX:ho.clientX,clientY:ho.clientY,target:e,rootEl:i}),s&&!this.options.dragoverBubble)break}e=i}while(i=IF(i));VF()}},_onTouchMove:function(e){if(Eh){var i=this.options,s=i.fallbackTolerance,n=i.fallbackOffset,l=e.touches?e.touches[0]:e,a=Zi&&od(Zi,!0),h=Zi&&a&&a.a,d=Zi&&a&&a.d,m=Uy&&bn&&$D(bn),y=(l.clientX-Eh.clientX+n.x)/(h||1)+(m?m[0]-ix[0]:0)/(h||1),b=(l.clientY-Eh.clientY+n.y)/(d||1)+(m?m[1]-ix[1]:0)/(d||1);if(!ji.active&&!Gu){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(Zi){a?(a.e+=y-(ex||0),a.f+=b-(tx||0)):a={a:1,b:0,c:0,d:1,e:y,f:b};var k="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Wi(Zi,"webkitTransform",k),Wi(Zi,"mozTransform",k),Wi(Zi,"msTransform",k),Wi(Zi,"transform",k),ex=y,tx=b,ho=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Zi){var e=this.options.fallbackOnBody?document.body:hs,i=Ls(Ht,!0,Uy,!0,e),s=this.options;if(Uy){for(bn=e;Wi(bn,"position")==="static"&&Wi(bn,"transform")==="none"&&bn!==document;)bn=bn.parentNode;bn!==document.body&&bn!==document.documentElement?(bn===document&&(bn=qo()),i.top+=bn.scrollTop,i.left+=bn.scrollLeft):bn=qo(),ix=$D(bn)}Zi=Ht.cloneNode(!0),ka(Zi,s.ghostClass,!1),ka(Zi,s.fallbackClass,!0),ka(Zi,s.dragClass,!0),Wi(Zi,"transition",""),Wi(Zi,"transform",""),Wi(Zi,"box-sizing","border-box"),Wi(Zi,"margin",0),Wi(Zi,"top",i.top),Wi(Zi,"left",i.left),Wi(Zi,"width",i.width),Wi(Zi,"height",i.height),Wi(Zi,"opacity","0.8"),Wi(Zi,"position",Uy?"absolute":"fixed"),Wi(Zi,"zIndex","100000"),Wi(Zi,"pointerEvents","none"),ji.ghost=Zi,e.appendChild(Zi),Wi(Zi,"transform-origin",VD/parseInt(Zi.style.width)*100+"% "+YD/parseInt(Zi.style.height)*100+"%")}},_onDragStart:function(e,i){var s=this,n=e.dataTransfer,l=s.options;if(Jn("dragStart",this,{evt:e}),ji.eventCanceled){this._onDrop();return}Jn("setupClone",this),ji.eventCanceled||(gs=UF(Ht),gs.removeAttribute("id"),gs.draggable=!1,gs.style["will-change"]="",this._hideClone(),ka(gs,this.options.chosenClass,!1),ji.clone=gs),s.cloneId=lv(function(){Jn("clone",s),!ji.eventCanceled&&(s.options.removeCloneOnHide||hs.insertBefore(gs,Ht),s._hideClone(),Un({sortable:s,name:"clone"}))}),!i&&ka(Ht,l.dragClass,!0),i?(Rv=!0,s._loopId=setInterval(s._emulateDragOver,50)):(dr(document,"mouseup",s._onDrop),dr(document,"touchend",s._onDrop),dr(document,"touchcancel",s._onDrop),n&&(n.effectAllowed="move",l.setData&&l.setData.call(s,n,Ht)),pr(document,"drop",s),Wi(Ht,"transform","translateZ(0)")),Gu=!0,s._dragStartId=lv(s._dragStarted.bind(s,i,e)),pr(document,"selectstart",s),Hp=!0,window.getSelection().removeAllRanges(),em&&Wi(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,s=e.target,n,l,a,h=this.options,d=h.group,m=ji.active,y=Ny===d,b=h.sort,k=hn||m,x,E=this,O=!1;if(nk)return;function L(G,ue){Jn(G,E,Go({evt:e,isOwner:y,axis:x?"vertical":"horizontal",revert:a,dragRect:n,targetRect:l,canSort:b,fromSortable:k,target:s,completed:u,onMove:function(K,we){return Hy(hs,i,Ht,n,K,Ls(K),e,we)},changed:T},ue))}function D(){L("dragOverAnimationCapture"),E.captureAnimationState(),E!==k&&k.captureAnimationState()}function u(G){return L("dragOverCompleted",{insertion:G}),G&&(y?m._hideClone():m._showClone(E),E!==k&&(ka(Ht,hn?hn.options.ghostClass:m.options.ghostClass,!1),ka(Ht,h.ghostClass,!0)),hn!==E&&E!==ji.active?hn=E:E===ji.active&&hn&&(hn=null),k===E&&(E._ignoreWhileAnimating=s),E.animateAll(function(){L("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==k&&(k.animateAll(),k._ignoreWhileAnimating=null)),(s===Ht&&!Ht.animated||s===i&&!s.animated)&&(Wu=null),!h.dragoverBubble&&!e.rootEl&&s!==document&&(Ht.parentNode[sa]._isOutsideThisEl(e.target),!G&&Oh(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),O=!0}function T(){Sa=Na(Ht),mc=Na(Ht,h.draggable),Un({sortable:E,name:"change",toEl:i,newIndex:Sa,newDraggableIndex:mc,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=fo(s,h.draggable,i,!0),L("dragOver"),ji.eventCanceled)return O;if(Ht.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||E._ignoreWhileAnimating===s)return u(!1);if(Rv=!1,m&&!h.disabled&&(y?b||(a=vs!==hs):hn===this||(this.lastPutMode=Ny.checkPull(this,m,Ht,e))&&d.checkPut(this,m,Ht,e))){if(x=this._getDirection(e,s)==="vertical",n=Ls(Ht),L("dragOverValid"),ji.eventCanceled)return O;if(a)return vs=hs,D(),this._hideClone(),L("revert"),ji.eventCanceled||(Ah?hs.insertBefore(Ht,Ah):hs.appendChild(Ht)),u(!0);var g=US(i,h.draggable);if(!g||jV(e,x,this)&&!g.animated){if(g===Ht)return u(!1);if(g&&i===e.target&&(s=g),s&&(l=Ls(s)),Hy(hs,i,Ht,n,s,l,e,!!s)!==!1)return D(),g&&g.nextSibling?i.insertBefore(Ht,g.nextSibling):i.appendChild(Ht),vs=i,T(),u(!0)}else if(g&&WV(e,x,this)){var S=wd(i,0,h,!0);if(S===Ht)return u(!1);if(s=S,l=Ls(s),Hy(hs,i,Ht,n,s,l,e,!1)!==!1)return D(),i.insertBefore(Ht,S),vs=i,T(),u(!0)}else if(s.parentNode===i){l=Ls(s);var C=0,P,I=Ht.parentNode!==i,U=!BV(Ht.animated&&Ht.toRect||n,s.animated&&s.toRect||l,x),z=x?"top":"left",f=qD(s,"top","top")||qD(Ht,"top","top"),w=f?f.scrollTop:void 0;Wu!==s&&(P=l[z],sm=!1,zy=!U&&h.invertSwap||I),C=qV(e,s,l,x,U?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,zy,Wu===s);var A;if(C!==0){var R=Na(Ht);do R-=C,A=vs.children[R];while(A&&(Wi(A,"display")==="none"||A===Zi))}if(C===0||A===s)return u(!1);Wu=s,rm=C;var B=s.nextElementSibling,W=!1;W=C===1;var $=Hy(hs,i,Ht,n,s,l,e,W);if($!==!1)return($===1||$===-1)&&(W=$===1),nk=!0,setTimeout(HV,30),D(),W&&!B?i.appendChild(Ht):s.parentNode.insertBefore(Ht,W?B:s),f&&zF(f,0,w-f.scrollTop),vs=Ht.parentNode,P!==void 0&&!zy&&(ov=Math.abs(P-Ls(s)[z])),T(),u(!0)}if(i.contains(Ht))return u(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){dr(document,"mousemove",this._onTouchMove),dr(document,"touchmove",this._onTouchMove),dr(document,"pointermove",this._onTouchMove),dr(document,"dragover",Oh),dr(document,"mousemove",Oh),dr(document,"touchmove",Oh)},_offUpEvents:function(){var e=this.el.ownerDocument;dr(e,"mouseup",this._onDrop),dr(e,"touchend",this._onDrop),dr(e,"pointerup",this._onDrop),dr(e,"pointercancel",this._onDrop),dr(e,"touchcancel",this._onDrop),dr(document,"selectstart",this)},_onDrop:function(e){var i=this.el,s=this.options;if(Sa=Na(Ht),mc=Na(Ht,s.draggable),Jn("drop",this,{evt:e}),vs=Ht&&Ht.parentNode,Sa=Na(Ht),mc=Na(Ht,s.draggable),ji.eventCanceled){this._nulling();return}Gu=!1,zy=!1,sm=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),ak(this.cloneId),ak(this._dragStartId),this.nativeDraggable&&(dr(document,"drop",this),dr(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),em&&Wi(document.body,"user-select",""),Wi(Ht,"transform",""),e&&(Hp&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),Zi&&Zi.parentNode&&Zi.parentNode.removeChild(Zi),(hs===vs||hn&&hn.lastPutMode!=="clone")&&gs&&gs.parentNode&&gs.parentNode.removeChild(gs),Ht&&(this.nativeDraggable&&dr(Ht,"dragend",this),rx(Ht),Ht.style["will-change"]="",Hp&&!Gu&&ka(Ht,hn?hn.options.ghostClass:this.options.ghostClass,!1),ka(Ht,this.options.chosenClass,!1),Un({sortable:this,name:"unchoose",toEl:vs,newIndex:null,newDraggableIndex:null,originalEvent:e}),hs!==vs?(Sa>=0&&(Un({rootEl:vs,name:"add",toEl:vs,fromEl:hs,originalEvent:e}),Un({sortable:this,name:"remove",toEl:vs,originalEvent:e}),Un({rootEl:vs,name:"sort",toEl:vs,fromEl:hs,originalEvent:e}),Un({sortable:this,name:"sort",toEl:vs,originalEvent:e})),hn&&hn.save()):Sa!==ed&&Sa>=0&&(Un({sortable:this,name:"update",toEl:vs,originalEvent:e}),Un({sortable:this,name:"sort",toEl:vs,originalEvent:e})),ji.active&&((Sa==null||Sa===-1)&&(Sa=ed,mc=im),Un({sortable:this,name:"end",toEl:vs,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Jn("nulling",this),hs=Ht=vs=Zi=Ah=gs=av=yc=Eh=ho=Hp=Sa=mc=ed=im=Wu=rm=hn=Ny=ji.dragged=ji.ghost=ji.clone=ji.active=null;var e=this.el;Iv.forEach(function(i){e.contains(i)&&(i.checked=!0)}),Iv.length=ex=tx=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ht&&(this._onDragOver(e),UV(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,s=this.el.children,n=0,l=s.length,a=this.options;n<l;n++)i=s[n],fo(i,a.draggable,this.el,!1)&&e.push(i.getAttribute(a.dataIdAttr)||VV(i));return e},sort:function(e,i){var s={},n=this.el;this.toArray().forEach(function(l,a){var h=n.children[a];fo(h,this.options.draggable,n,!1)&&(s[l]=h)},this),i&&this.captureAnimationState(),e.forEach(function(l){s[l]&&(n.removeChild(s[l]),n.appendChild(s[l]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return fo(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var s=this.options;if(i===void 0)return s[e];var n=$m.modifyOption(this,e,i);typeof n<"u"?s[e]=n:s[e]=i,e==="group"&&qF(s)},destroy:function(){Jn("destroy",this);var e=this.el;e[sa]=null,dr(e,"mousedown",this._onTapStart),dr(e,"touchstart",this._onTapStart),dr(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(dr(e,"dragover",this),dr(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Fv.splice(Fv.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!yc){if(Jn("hideClone",this),ji.eventCanceled)return;Wi(gs,"display","none"),this.options.removeCloneOnHide&&gs.parentNode&&gs.parentNode.removeChild(gs),yc=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(yc){if(Jn("showClone",this),ji.eventCanceled)return;Ht.parentNode==hs&&!this.options.group.revertClone?hs.insertBefore(gs,Ht):Ah?hs.insertBefore(gs,Ah):hs.appendChild(gs),this.options.group.revertClone&&this.animate(Ht,gs),Wi(gs,"display",""),yc=!1}}};function UV(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Hy(t,e,i,s,n,l,a,h){var d,m=t[sa],y=m.options.onMove,b;return window.CustomEvent&&!Zl&&!qm?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=t,d.dragged=i,d.draggedRect=s,d.related=n||e,d.relatedRect=l||Ls(e),d.willInsertAfter=h,d.originalEvent=a,t.dispatchEvent(d),y&&(b=y.call(m,d,a)),b}function rx(t){t.draggable=!1}function HV(){nk=!1}function WV(t,e,i){var s=Ls(wd(i.el,0,i.options,!0)),n=HF(i.el,i.options,Zi),l=10;return e?t.clientX<n.left-l||t.clientY<s.top&&t.clientX<s.right:t.clientY<n.top-l||t.clientY<s.bottom&&t.clientX<s.left}function jV(t,e,i){var s=Ls(US(i.el,i.options.draggable)),n=HF(i.el,i.options,Zi),l=10;return e?t.clientX>n.right+l||t.clientY>s.bottom&&t.clientX>s.left:t.clientY>n.bottom+l||t.clientX>s.right&&t.clientY>s.top}function qV(t,e,i,s,n,l,a,h){var d=s?t.clientY:t.clientX,m=s?i.height:i.width,y=s?i.top:i.left,b=s?i.bottom:i.right,k=!1;if(!a){if(h&&ov<m*n){if(!sm&&(rm===1?d>y+m*l/2:d<b-m*l/2)&&(sm=!0),sm)k=!0;else if(rm===1?d<y+ov:d>b-ov)return-rm}else if(d>y+m*(1-n)/2&&d<b-m*(1-n)/2)return $V(e)}return k=k||a,k&&(d<y+m*l/2||d>b-m*l/2)?d>y+m/2?1:-1:0}function $V(t){return Na(Ht)<Na(t)?1:-1}function VV(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,s=0;i--;)s+=e.charCodeAt(i);return s.toString(36)}function YV(t){Iv.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var s=e[i];s.checked&&Iv.push(s)}}function lv(t){return setTimeout(t,0)}function ak(t){return clearTimeout(t)}Ub&&pr(document,"touchmove",function(t){(ji.active||Gu)&&t.cancelable&&t.preventDefault()});ji.utils={on:pr,off:dr,css:Wi,find:BF,is:function(e,i){return!!fo(e,i,e,!1)},extend:MV,throttle:NF,closest:fo,toggleClass:ka,clone:UF,index:Na,nextTick:lv,cancelNextTick:ak,detectDirection:jF,getChild:wd,expando:sa};ji.get=function(t){return t[sa]};ji.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(ji.utils=Go(Go({},ji.utils),s.utils)),$m.mount(s)})};ji.create=function(t,e){return new ji(t,e)};ji.version=EV;var Ds=[],Wp,ok,lk=!1,sx,nx,Bv,jp;function GV(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?pr(document,"dragover",this._handleAutoScroll):this.options.supportPointer?pr(document,"pointermove",this._handleFallbackAutoScroll):s.touches?pr(document,"touchmove",this._handleFallbackAutoScroll):pr(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?dr(document,"dragover",this._handleAutoScroll):(dr(document,"pointermove",this._handleFallbackAutoScroll),dr(document,"touchmove",this._handleFallbackAutoScroll),dr(document,"mousemove",this._handleFallbackAutoScroll)),XD(),cv(),AV()},nulling:function(){Bv=ok=Wp=lk=jp=sx=nx=null,Ds.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var n=this,l=(i.touches?i.touches[0]:i).clientX,a=(i.touches?i.touches[0]:i).clientY,h=document.elementFromPoint(l,a);if(Bv=i,s||this.options.forceAutoScrollFallback||qm||Zl||em){ax(i,this.options,h,s);var d=_c(h,!0);lk&&(!jp||l!==sx||a!==nx)&&(jp&&XD(),jp=setInterval(function(){var m=_c(document.elementFromPoint(l,a),!0);m!==d&&(d=m,cv()),ax(i,n.options,m,s)},10),sx=l,nx=a)}else{if(!this.options.bubbleScroll||_c(h,!0)===qo()){cv();return}ax(i,this.options,_c(h,!1),!1)}}},ql(t,{pluginName:"scroll",initializeByDefault:!0})}function cv(){Ds.forEach(function(t){clearInterval(t.pid)}),Ds=[]}function XD(){clearInterval(jp)}var ax=NF(function(t,e,i,s){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,h=e.scrollSpeed,d=qo(),m=!1,y;ok!==i&&(ok=i,cv(),Wp=e.scroll,y=e.scrollFn,Wp===!0&&(Wp=_c(i,!0)));var b=0,k=Wp;do{var x=k,E=Ls(x),O=E.top,L=E.bottom,D=E.left,u=E.right,T=E.width,g=E.height,S=void 0,C=void 0,P=x.scrollWidth,I=x.scrollHeight,U=Wi(x),z=x.scrollLeft,f=x.scrollTop;x===d?(S=T<P&&(U.overflowX==="auto"||U.overflowX==="scroll"||U.overflowX==="visible"),C=g<I&&(U.overflowY==="auto"||U.overflowY==="scroll"||U.overflowY==="visible")):(S=T<P&&(U.overflowX==="auto"||U.overflowX==="scroll"),C=g<I&&(U.overflowY==="auto"||U.overflowY==="scroll"));var w=S&&(Math.abs(u-n)<=a&&z+T<P)-(Math.abs(D-n)<=a&&!!z),A=C&&(Math.abs(L-l)<=a&&f+g<I)-(Math.abs(O-l)<=a&&!!f);if(!Ds[b])for(var R=0;R<=b;R++)Ds[R]||(Ds[R]={});(Ds[b].vx!=w||Ds[b].vy!=A||Ds[b].el!==x)&&(Ds[b].el=x,Ds[b].vx=w,Ds[b].vy=A,clearInterval(Ds[b].pid),(w!=0||A!=0)&&(m=!0,Ds[b].pid=setInterval((function(){s&&this.layer===0&&ji.active._onTouchMove(Bv);var B=Ds[this.layer].vy?Ds[this.layer].vy*h:0,W=Ds[this.layer].vx?Ds[this.layer].vx*h:0;typeof y=="function"&&y.call(ji.dragged.parentNode[sa],W,B,t,Bv,Ds[this.layer].el)!=="continue"||zF(Ds[this.layer].el,W,B)}).bind({layer:b}),24))),b++}while(e.bubbleScroll&&k!==d&&(k=_c(k,!1)));lk=m}},30),YF=function(e){var i=e.originalEvent,s=e.putSortable,n=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,h=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(i){var m=s||l;h();var y=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,b=document.elementFromPoint(y.clientX,y.clientY);d(),m&&!m.el.contains(b)&&(a("spill"),this.onSpill({dragEl:n,putSortable:s}))}};function HS(){}HS.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var n=wd(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:YF};ql(HS,{pluginName:"revertOnSpill"});function WS(){}WS.prototype={onSpill:function(e){var i=e.dragEl,s=e.putSortable,n=s||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:YF};ql(WS,{pluginName:"removeOnSpill"});ji.mount(new GV);ji.mount(WS,HS);var oa="top",ja="bottom",qa="right",la="left",jS="auto",Vm=[oa,ja,qa,la],xd="start",xm="end",XV="clippingParents",GF="viewport",Cp="popper",KV="reference",KD=Vm.reduce(function(t,e){return t.concat([e+"-"+xd,e+"-"+xm])},[]),XF=[].concat(Vm,[jS]).reduce(function(t,e){return t.concat([e,e+"-"+xd,e+"-"+xm])},[]),ZV="beforeRead",QV="read",JV="afterRead",eY="beforeMain",tY="main",iY="afterMain",rY="beforeWrite",sY="write",nY="afterWrite",aY=[ZV,QV,JV,eY,tY,iY,rY,sY,nY];function Xo(t){return t?(t.nodeName||"").toLowerCase():null}function Ea(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Qh(t){var e=Ea(t).Element;return t instanceof e||t instanceof Element}function Wa(t){var e=Ea(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function qS(t){if(typeof ShadowRoot>"u")return!1;var e=Ea(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function oY(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var s=e.styles[i]||{},n=e.attributes[i]||{},l=e.elements[i];!Wa(l)||!Xo(l)||(Object.assign(l.style,s),Object.keys(n).forEach(function(a){var h=n[a];h===!1?l.removeAttribute(a):l.setAttribute(a,h===!0?"":h)}))})}function lY(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(s){var n=e.elements[s],l=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:i[s]),h=a.reduce(function(d,m){return d[m]="",d},{});!Wa(n)||!Xo(n)||(Object.assign(n.style,h),Object.keys(l).forEach(function(d){n.removeAttribute(d)}))})}}const KF={name:"applyStyles",enabled:!0,phase:"write",fn:oY,effect:lY,requires:["computeStyles"]};function $o(t){return t.split("-")[0]}var Vh=Math.max,Nv=Math.min,kd=Math.round;function ck(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function ZF(){return!/^((?!chrome|android).)*safari/i.test(ck())}function Sd(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var s=t.getBoundingClientRect(),n=1,l=1;e&&Wa(t)&&(n=t.offsetWidth>0&&kd(s.width)/t.offsetWidth||1,l=t.offsetHeight>0&&kd(s.height)/t.offsetHeight||1);var a=Qh(t)?Ea(t):window,h=a.visualViewport,d=!ZF()&&i,m=(s.left+(d&&h?h.offsetLeft:0))/n,y=(s.top+(d&&h?h.offsetTop:0))/l,b=s.width/n,k=s.height/l;return{width:b,height:k,top:y,right:m+b,bottom:y+k,left:m,x:m,y}}function $S(t){var e=Sd(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function QF(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&qS(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function $l(t){return Ea(t).getComputedStyle(t)}function cY(t){return["table","td","th"].indexOf(Xo(t))>=0}function Ac(t){return((Qh(t)?t.ownerDocument:t.document)||window.document).documentElement}function Hb(t){return Xo(t)==="html"?t:t.assignedSlot||t.parentNode||(qS(t)?t.host:null)||Ac(t)}function ZD(t){return!Wa(t)||$l(t).position==="fixed"?null:t.offsetParent}function hY(t){var e=/firefox/i.test(ck()),i=/Trident/i.test(ck());if(i&&Wa(t)){var s=$l(t);if(s.position==="fixed")return null}var n=Hb(t);for(qS(n)&&(n=n.host);Wa(n)&&["html","body"].indexOf(Xo(n))<0;){var l=$l(n);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return n;n=n.parentNode}return null}function Ym(t){for(var e=Ea(t),i=ZD(t);i&&cY(i)&&$l(i).position==="static";)i=ZD(i);return i&&(Xo(i)==="html"||Xo(i)==="body"&&$l(i).position==="static")?e:i||hY(t)||e}function VS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nm(t,e,i){return Vh(t,Nv(e,i))}function uY(t,e,i){var s=nm(t,e,i);return s>i?i:s}function JF(){return{top:0,right:0,bottom:0,left:0}}function eI(t){return Object.assign({},JF(),t)}function tI(t,e){return e.reduce(function(i,s){return i[s]=t,i},{})}var dY=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,eI(typeof e!="number"?e:tI(e,Vm))};function fY(t){var e,i=t.state,s=t.name,n=t.options,l=i.elements.arrow,a=i.modifiersData.popperOffsets,h=$o(i.placement),d=VS(h),m=[la,qa].indexOf(h)>=0,y=m?"height":"width";if(!(!l||!a)){var b=dY(n.padding,i),k=$S(l),x=d==="y"?oa:la,E=d==="y"?ja:qa,O=i.rects.reference[y]+i.rects.reference[d]-a[d]-i.rects.popper[y],L=a[d]-i.rects.reference[d],D=Ym(l),u=D?d==="y"?D.clientHeight||0:D.clientWidth||0:0,T=O/2-L/2,g=b[x],S=u-k[y]-b[E],C=u/2-k[y]/2+T,P=nm(g,C,S),I=d;i.modifiersData[s]=(e={},e[I]=P,e.centerOffset=P-C,e)}}function pY(t){var e=t.state,i=t.options,s=i.element,n=s===void 0?"[data-popper-arrow]":s;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||QF(e.elements.popper,n)&&(e.elements.arrow=n))}const mY={name:"arrow",enabled:!0,phase:"main",fn:fY,effect:pY,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Td(t){return t.split("-")[1]}var gY={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yY(t,e){var i=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:kd(i*n)/n||0,y:kd(s*n)/n||0}}function QD(t){var e,i=t.popper,s=t.popperRect,n=t.placement,l=t.variation,a=t.offsets,h=t.position,d=t.gpuAcceleration,m=t.adaptive,y=t.roundOffsets,b=t.isFixed,k=a.x,x=k===void 0?0:k,E=a.y,O=E===void 0?0:E,L=typeof y=="function"?y({x,y:O}):{x,y:O};x=L.x,O=L.y;var D=a.hasOwnProperty("x"),u=a.hasOwnProperty("y"),T=la,g=oa,S=window;if(m){var C=Ym(i),P="clientHeight",I="clientWidth";if(C===Ea(i)&&(C=Ac(i),$l(C).position!=="static"&&h==="absolute"&&(P="scrollHeight",I="scrollWidth")),C=C,n===oa||(n===la||n===qa)&&l===xm){g=ja;var U=b&&C===S&&S.visualViewport?S.visualViewport.height:C[P];O-=U-s.height,O*=d?1:-1}if(n===la||(n===oa||n===ja)&&l===xm){T=qa;var z=b&&C===S&&S.visualViewport?S.visualViewport.width:C[I];x-=z-s.width,x*=d?1:-1}}var f=Object.assign({position:h},m&&gY),w=y===!0?yY({x,y:O},Ea(i)):{x,y:O};if(x=w.x,O=w.y,d){var A;return Object.assign({},f,(A={},A[g]=u?"0":"",A[T]=D?"0":"",A.transform=(S.devicePixelRatio||1)<=1?"translate("+x+"px, "+O+"px)":"translate3d("+x+"px, "+O+"px, 0)",A))}return Object.assign({},f,(e={},e[g]=u?O+"px":"",e[T]=D?x+"px":"",e.transform="",e))}function vY(t){var e=t.state,i=t.options,s=i.gpuAcceleration,n=s===void 0?!0:s,l=i.adaptive,a=l===void 0?!0:l,h=i.roundOffsets,d=h===void 0?!0:h,m={placement:$o(e.placement),variation:Td(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,QD(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,QD(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const bY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:vY,data:{}};var Wy={passive:!0};function _Y(t){var e=t.state,i=t.instance,s=t.options,n=s.scroll,l=n===void 0?!0:n,a=s.resize,h=a===void 0?!0:a,d=Ea(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(y){y.addEventListener("scroll",i.update,Wy)}),h&&d.addEventListener("resize",i.update,Wy),function(){l&&m.forEach(function(y){y.removeEventListener("scroll",i.update,Wy)}),h&&d.removeEventListener("resize",i.update,Wy)}}const wY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:_Y,data:{}};var xY={left:"right",right:"left",bottom:"top",top:"bottom"};function hv(t){return t.replace(/left|right|bottom|top/g,function(e){return xY[e]})}var kY={start:"end",end:"start"};function JD(t){return t.replace(/start|end/g,function(e){return kY[e]})}function YS(t){var e=Ea(t),i=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:i,scrollTop:s}}function GS(t){return Sd(Ac(t)).left+YS(t).scrollLeft}function SY(t,e){var i=Ea(t),s=Ac(t),n=i.visualViewport,l=s.clientWidth,a=s.clientHeight,h=0,d=0;if(n){l=n.width,a=n.height;var m=ZF();(m||!m&&e==="fixed")&&(h=n.offsetLeft,d=n.offsetTop)}return{width:l,height:a,x:h+GS(t),y:d}}function TY(t){var e,i=Ac(t),s=YS(t),n=(e=t.ownerDocument)==null?void 0:e.body,l=Vh(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Vh(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),h=-s.scrollLeft+GS(t),d=-s.scrollTop;return $l(n||i).direction==="rtl"&&(h+=Vh(i.clientWidth,n?n.clientWidth:0)-l),{width:l,height:a,x:h,y:d}}function XS(t){var e=$l(t),i=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function iI(t){return["html","body","#document"].indexOf(Xo(t))>=0?t.ownerDocument.body:Wa(t)&&XS(t)?t:iI(Hb(t))}function am(t,e){var i;e===void 0&&(e=[]);var s=iI(t),n=s===((i=t.ownerDocument)==null?void 0:i.body),l=Ea(s),a=n?[l].concat(l.visualViewport||[],XS(s)?s:[]):s,h=e.concat(a);return n?h:h.concat(am(Hb(a)))}function hk(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function CY(t,e){var i=Sd(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function eL(t,e,i){return e===GF?hk(SY(t,i)):Qh(e)?CY(e,i):hk(TY(Ac(t)))}function EY(t){var e=am(Hb(t)),i=["absolute","fixed"].indexOf($l(t).position)>=0,s=i&&Wa(t)?Ym(t):t;return Qh(s)?e.filter(function(n){return Qh(n)&&QF(n,s)&&Xo(n)!=="body"}):[]}function OY(t,e,i,s){var n=e==="clippingParents"?EY(t):[].concat(e),l=[].concat(n,[i]),a=l[0],h=l.reduce(function(d,m){var y=eL(t,m,s);return d.top=Vh(y.top,d.top),d.right=Nv(y.right,d.right),d.bottom=Nv(y.bottom,d.bottom),d.left=Vh(y.left,d.left),d},eL(t,a,s));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function rI(t){var e=t.reference,i=t.element,s=t.placement,n=s?$o(s):null,l=s?Td(s):null,a=e.x+e.width/2-i.width/2,h=e.y+e.height/2-i.height/2,d;switch(n){case oa:d={x:a,y:e.y-i.height};break;case ja:d={x:a,y:e.y+e.height};break;case qa:d={x:e.x+e.width,y:h};break;case la:d={x:e.x-i.width,y:h};break;default:d={x:e.x,y:e.y}}var m=n?VS(n):null;if(m!=null){var y=m==="y"?"height":"width";switch(l){case xd:d[m]=d[m]-(e[y]/2-i[y]/2);break;case xm:d[m]=d[m]+(e[y]/2-i[y]/2);break}}return d}function km(t,e){e===void 0&&(e={});var i=e,s=i.placement,n=s===void 0?t.placement:s,l=i.strategy,a=l===void 0?t.strategy:l,h=i.boundary,d=h===void 0?XV:h,m=i.rootBoundary,y=m===void 0?GF:m,b=i.elementContext,k=b===void 0?Cp:b,x=i.altBoundary,E=x===void 0?!1:x,O=i.padding,L=O===void 0?0:O,D=eI(typeof L!="number"?L:tI(L,Vm)),u=k===Cp?KV:Cp,T=t.rects.popper,g=t.elements[E?u:k],S=OY(Qh(g)?g:g.contextElement||Ac(t.elements.popper),d,y,a),C=Sd(t.elements.reference),P=rI({reference:C,element:T,placement:n}),I=hk(Object.assign({},T,P)),U=k===Cp?I:C,z={top:S.top-U.top+D.top,bottom:U.bottom-S.bottom+D.bottom,left:S.left-U.left+D.left,right:U.right-S.right+D.right},f=t.modifiersData.offset;if(k===Cp&&f){var w=f[n];Object.keys(z).forEach(function(A){var R=[qa,ja].indexOf(A)>=0?1:-1,B=[oa,ja].indexOf(A)>=0?"y":"x";z[A]+=w[B]*R})}return z}function MY(t,e){e===void 0&&(e={});var i=e,s=i.placement,n=i.boundary,l=i.rootBoundary,a=i.padding,h=i.flipVariations,d=i.allowedAutoPlacements,m=d===void 0?XF:d,y=Td(s),b=y?h?KD:KD.filter(function(E){return Td(E)===y}):Vm,k=b.filter(function(E){return m.indexOf(E)>=0});k.length===0&&(k=b);var x=k.reduce(function(E,O){return E[O]=km(t,{placement:O,boundary:n,rootBoundary:l,padding:a})[$o(O)],E},{});return Object.keys(x).sort(function(E,O){return x[E]-x[O]})}function AY(t){if($o(t)===jS)return[];var e=hv(t);return[JD(t),e,JD(e)]}function PY(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=i.mainAxis,l=n===void 0?!0:n,a=i.altAxis,h=a===void 0?!0:a,d=i.fallbackPlacements,m=i.padding,y=i.boundary,b=i.rootBoundary,k=i.altBoundary,x=i.flipVariations,E=x===void 0?!0:x,O=i.allowedAutoPlacements,L=e.options.placement,D=$o(L),u=D===L,T=d||(u||!E?[hv(L)]:AY(L)),g=[L].concat(T).reduce(function(Ke,Pe){return Ke.concat($o(Pe)===jS?MY(e,{placement:Pe,boundary:y,rootBoundary:b,padding:m,flipVariations:E,allowedAutoPlacements:O}):Pe)},[]),S=e.rects.reference,C=e.rects.popper,P=new Map,I=!0,U=g[0],z=0;z<g.length;z++){var f=g[z],w=$o(f),A=Td(f)===xd,R=[oa,ja].indexOf(w)>=0,B=R?"width":"height",W=km(e,{placement:f,boundary:y,rootBoundary:b,altBoundary:k,padding:m}),$=R?A?qa:la:A?ja:oa;S[B]>C[B]&&($=hv($));var G=hv($),ue=[];if(l&&ue.push(W[w]<=0),h&&ue.push(W[$]<=0,W[G]<=0),ue.every(function(Ke){return Ke})){U=f,I=!1;break}P.set(f,ue)}if(I)for(var Q=E?3:1,K=function(Pe){var We=g.find(function(it){var vt=P.get(it);if(vt)return vt.slice(0,Pe).every(function(Lt){return Lt})});if(We)return U=We,"break"},we=Q;we>0;we--){var ze=K(we);if(ze==="break")break}e.placement!==U&&(e.modifiersData[s]._skip=!0,e.placement=U,e.reset=!0)}}const DY={name:"flip",enabled:!0,phase:"main",fn:PY,requiresIfExists:["offset"],data:{_skip:!1}};function tL(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function iL(t){return[oa,qa,ja,la].some(function(e){return t[e]>=0})}function LY(t){var e=t.state,i=t.name,s=e.rects.reference,n=e.rects.popper,l=e.modifiersData.preventOverflow,a=km(e,{elementContext:"reference"}),h=km(e,{altBoundary:!0}),d=tL(a,s),m=tL(h,n,l),y=iL(d),b=iL(m);e.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:y,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":b})}const RY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:LY};function FY(t,e,i){var s=$o(t),n=[la,oa].indexOf(s)>=0?-1:1,l=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=l[0],h=l[1];return a=a||0,h=(h||0)*n,[la,qa].indexOf(s)>=0?{x:h,y:a}:{x:a,y:h}}function IY(t){var e=t.state,i=t.options,s=t.name,n=i.offset,l=n===void 0?[0,0]:n,a=XF.reduce(function(y,b){return y[b]=FY(b,e.rects,l),y},{}),h=a[e.placement],d=h.x,m=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=m),e.modifiersData[s]=a}const BY={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:IY};function NY(t){var e=t.state,i=t.name;e.modifiersData[i]=rI({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const zY={name:"popperOffsets",enabled:!0,phase:"read",fn:NY,data:{}};function UY(t){return t==="x"?"y":"x"}function HY(t){var e=t.state,i=t.options,s=t.name,n=i.mainAxis,l=n===void 0?!0:n,a=i.altAxis,h=a===void 0?!1:a,d=i.boundary,m=i.rootBoundary,y=i.altBoundary,b=i.padding,k=i.tether,x=k===void 0?!0:k,E=i.tetherOffset,O=E===void 0?0:E,L=km(e,{boundary:d,rootBoundary:m,padding:b,altBoundary:y}),D=$o(e.placement),u=Td(e.placement),T=!u,g=VS(D),S=UY(g),C=e.modifiersData.popperOffsets,P=e.rects.reference,I=e.rects.popper,U=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,z=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),f=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,w={x:0,y:0};if(C){if(l){var A,R=g==="y"?oa:la,B=g==="y"?ja:qa,W=g==="y"?"height":"width",$=C[g],G=$+L[R],ue=$-L[B],Q=x?-I[W]/2:0,K=u===xd?P[W]:I[W],we=u===xd?-I[W]:-P[W],ze=e.elements.arrow,Ke=x&&ze?$S(ze):{width:0,height:0},Pe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:JF(),We=Pe[R],it=Pe[B],vt=nm(0,P[W],Ke[W]),Lt=T?P[W]/2-Q-vt-We-z.mainAxis:K-vt-We-z.mainAxis,Re=T?-P[W]/2+Q+vt+it+z.mainAxis:we+vt+it+z.mainAxis,Yt=e.elements.arrow&&Ym(e.elements.arrow),$t=Yt?g==="y"?Yt.clientTop||0:Yt.clientLeft||0:0,Ri=(A=f==null?void 0:f[g])!=null?A:0,nt=$+Lt-Ri-$t,Si=$+Re-Ri,Qi=nm(x?Nv(G,nt):G,$,x?Vh(ue,Si):ue);C[g]=Qi,w[g]=Qi-$}if(h){var Ji,bt=g==="x"?oa:la,Wt=g==="x"?ja:qa,Gi=C[S],jr=S==="y"?"height":"width",Zr=Gi+L[bt],Li=Gi-L[Wt],_r=[oa,la].indexOf(D)!==-1,J=(Ji=f==null?void 0:f[S])!=null?Ji:0,pe=_r?Zr:Gi-P[jr]-I[jr]-J+z.altAxis,ce=_r?Gi+P[jr]+I[jr]-J-z.altAxis:Li,Be=x&&_r?uY(pe,Gi,ce):nm(x?pe:Zr,Gi,x?ce:Li);C[S]=Be,w[S]=Be-Gi}e.modifiersData[s]=w}}const WY={name:"preventOverflow",enabled:!0,phase:"main",fn:HY,requiresIfExists:["offset"]};function jY(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function qY(t){return t===Ea(t)||!Wa(t)?YS(t):jY(t)}function $Y(t){var e=t.getBoundingClientRect(),i=kd(e.width)/t.offsetWidth||1,s=kd(e.height)/t.offsetHeight||1;return i!==1||s!==1}function VY(t,e,i){i===void 0&&(i=!1);var s=Wa(e),n=Wa(e)&&$Y(e),l=Ac(e),a=Sd(t,n,i),h={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!i)&&((Xo(e)!=="body"||XS(l))&&(h=qY(e)),Wa(e)?(d=Sd(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):l&&(d.x=GS(l))),{x:a.left+h.scrollLeft-d.x,y:a.top+h.scrollTop-d.y,width:a.width,height:a.height}}function YY(t){var e=new Map,i=new Set,s=[];t.forEach(function(l){e.set(l.name,l)});function n(l){i.add(l.name);var a=[].concat(l.requires||[],l.requiresIfExists||[]);a.forEach(function(h){if(!i.has(h)){var d=e.get(h);d&&n(d)}}),s.push(l)}return t.forEach(function(l){i.has(l.name)||n(l)}),s}function GY(t){var e=YY(t);return aY.reduce(function(i,s){return i.concat(e.filter(function(n){return n.phase===s}))},[])}function XY(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function KY(t){var e=t.reduce(function(i,s){var n=i[s.name];return i[s.name]=n?Object.assign({},n,s,{options:Object.assign({},n.options,s.options),data:Object.assign({},n.data,s.data)}):s,i},{});return Object.keys(e).map(function(i){return e[i]})}var rL={placement:"bottom",modifiers:[],strategy:"absolute"};function sL(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function ZY(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,s=i===void 0?[]:i,n=e.defaultOptions,l=n===void 0?rL:n;return function(h,d,m){m===void 0&&(m=l);var y={placement:"bottom",orderedModifiers:[],options:Object.assign({},rL,l),modifiersData:{},elements:{reference:h,popper:d},attributes:{},styles:{}},b=[],k=!1,x={state:y,setOptions:function(D){var u=typeof D=="function"?D(y.options):D;O(),y.options=Object.assign({},l,y.options,u),y.scrollParents={reference:Qh(h)?am(h):h.contextElement?am(h.contextElement):[],popper:am(d)};var T=GY(KY([].concat(s,y.options.modifiers)));return y.orderedModifiers=T.filter(function(g){return g.enabled}),E(),x.update()},forceUpdate:function(){if(!k){var D=y.elements,u=D.reference,T=D.popper;if(sL(u,T)){y.rects={reference:VY(u,Ym(T),y.options.strategy==="fixed"),popper:$S(T)},y.reset=!1,y.placement=y.options.placement,y.orderedModifiers.forEach(function(z){return y.modifiersData[z.name]=Object.assign({},z.data)});for(var g=0;g<y.orderedModifiers.length;g++){if(y.reset===!0){y.reset=!1,g=-1;continue}var S=y.orderedModifiers[g],C=S.fn,P=S.options,I=P===void 0?{}:P,U=S.name;typeof C=="function"&&(y=C({state:y,options:I,name:U,instance:x})||y)}}}},update:XY(function(){return new Promise(function(L){x.forceUpdate(),L(y)})}),destroy:function(){O(),k=!0}};if(!sL(h,d))return x;x.setOptions(m).then(function(L){!k&&m.onFirstUpdate&&m.onFirstUpdate(L)});function E(){y.orderedModifiers.forEach(function(L){var D=L.name,u=L.options,T=u===void 0?{}:u,g=L.effect;if(typeof g=="function"){var S=g({state:y,name:D,instance:x,options:T}),C=function(){};b.push(S||C)}})}function O(){b.forEach(function(L){return L()}),b=[]}return x}}var QY=[wY,zY,bY,KF,BY,DY,WY,mY,RY],sI=ZY({defaultModifiers:QY}),JY="tippy-box",nI="tippy-content",eG="tippy-backdrop",aI="tippy-arrow",oI="tippy-svg-arrow",Ph={passive:!0,capture:!0},lI=function(){return document.body};function ox(t,e,i){if(Array.isArray(t)){var s=t[e];return s??(Array.isArray(i)?i[e]:i)}return t}function KS(t,e){var i={}.toString.call(t);return i.indexOf("[object")===0&&i.indexOf(e+"]")>-1}function cI(t,e){return typeof t=="function"?t.apply(void 0,e):t}function nL(t,e){if(e===0)return t;var i;return function(s){clearTimeout(i),i=setTimeout(function(){t(s)},e)}}function tG(t){return t.split(/\s+/).filter(Boolean)}function Xu(t){return[].concat(t)}function aL(t,e){t.indexOf(e)===-1&&t.push(e)}function iG(t){return t.filter(function(e,i){return t.indexOf(e)===i})}function rG(t){return t.split("-")[0]}function zv(t){return[].slice.call(t)}function oL(t){return Object.keys(t).reduce(function(e,i){return t[i]!==void 0&&(e[i]=t[i]),e},{})}function om(){return document.createElement("div")}function Wb(t){return["Element","Fragment"].some(function(e){return KS(t,e)})}function sG(t){return KS(t,"NodeList")}function nG(t){return KS(t,"MouseEvent")}function aG(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function oG(t){return Wb(t)?[t]:sG(t)?zv(t):Array.isArray(t)?t:zv(document.querySelectorAll(t))}function lx(t,e){t.forEach(function(i){i&&(i.style.transitionDuration=e+"ms")})}function lL(t,e){t.forEach(function(i){i&&i.setAttribute("data-state",e)})}function lG(t){var e,i=Xu(t),s=i[0];return s!=null&&(e=s.ownerDocument)!=null&&e.body?s.ownerDocument:document}function cG(t,e){var i=e.clientX,s=e.clientY;return t.every(function(n){var l=n.popperRect,a=n.popperState,h=n.props,d=h.interactiveBorder,m=rG(a.placement),y=a.modifiersData.offset;if(!y)return!0;var b=m==="bottom"?y.top.y:0,k=m==="top"?y.bottom.y:0,x=m==="right"?y.left.x:0,E=m==="left"?y.right.x:0,O=l.top-s+b>d,L=s-l.bottom-k>d,D=l.left-i+x>d,u=i-l.right-E>d;return O||L||D||u})}function cx(t,e,i){var s=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[s](n,i)})}function cL(t,e){for(var i=e;i;){var s;if(t.contains(i))return!0;i=i.getRootNode==null||(s=i.getRootNode())==null?void 0:s.host}return!1}var Wo={isTouch:!1},hL=0;function hG(){Wo.isTouch||(Wo.isTouch=!0,window.performance&&document.addEventListener("mousemove",hI))}function hI(){var t=performance.now();t-hL<20&&(Wo.isTouch=!1,document.removeEventListener("mousemove",hI)),hL=t}function uG(){var t=document.activeElement;if(aG(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function dG(){document.addEventListener("touchstart",hG,Ph),window.addEventListener("blur",uG)}var fG=typeof window<"u"&&typeof document<"u",pG=fG?!!window.msCrypto:!1,mG={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},gG={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},yo=Object.assign({appendTo:lI,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},mG,gG),yG=Object.keys(yo),vG=function(e){var i=Object.keys(e);i.forEach(function(s){yo[s]=e[s]})};function uI(t){var e=t.plugins||[],i=e.reduce(function(s,n){var l=n.name,a=n.defaultValue;if(l){var h;s[l]=t[l]!==void 0?t[l]:(h=yo[l])!=null?h:a}return s},{});return Object.assign({},t,i)}function bG(t,e){var i=e?Object.keys(uI(Object.assign({},yo,{plugins:e}))):yG,s=i.reduce(function(n,l){var a=(t.getAttribute("data-tippy-"+l)||"").trim();if(!a)return n;if(l==="content")n[l]=a;else try{n[l]=JSON.parse(a)}catch{n[l]=a}return n},{});return s}function uL(t,e){var i=Object.assign({},e,{content:cI(e.content,[t])},e.ignoreAttributes?{}:bG(t,e.plugins));return i.aria=Object.assign({},yo.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?e.interactive:i.aria.expanded,content:i.aria.content==="auto"?e.interactive?null:"describedby":i.aria.content},i}var _G=function(){return"innerHTML"};function uk(t,e){t[_G()]=e}function dL(t){var e=om();return t===!0?e.className=aI:(e.className=oI,Wb(t)?e.appendChild(t):uk(e,t)),e}function fL(t,e){Wb(e.content)?(uk(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?uk(t,e.content):t.textContent=e.content)}function dk(t){var e=t.firstElementChild,i=zv(e.children);return{box:e,content:i.find(function(s){return s.classList.contains(nI)}),arrow:i.find(function(s){return s.classList.contains(aI)||s.classList.contains(oI)}),backdrop:i.find(function(s){return s.classList.contains(eG)})}}function dI(t){var e=om(),i=om();i.className=JY,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var s=om();s.className=nI,s.setAttribute("data-state","hidden"),fL(s,t.props),e.appendChild(i),i.appendChild(s),n(t.props,t.props);function n(l,a){var h=dk(e),d=h.box,m=h.content,y=h.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(l.content!==a.content||l.allowHTML!==a.allowHTML)&&fL(m,t.props),a.arrow?y?l.arrow!==a.arrow&&(d.removeChild(y),d.appendChild(dL(a.arrow))):d.appendChild(dL(a.arrow)):y&&d.removeChild(y)}return{popper:e,onUpdate:n}}dI.$$tippy=!0;var wG=1,jy=[],hx=[];function xG(t,e){var i=uL(t,Object.assign({},yo,uI(oL(e)))),s,n,l,a=!1,h=!1,d=!1,m=!1,y,b,k,x=[],E=nL(nt,i.interactiveDebounce),O,L=wG++,D=null,u=iG(i.plugins),T={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},g={id:L,reference:t,popper:om(),popperInstance:D,props:i,state:T,plugins:u,clearDelayTimeouts:pe,setProps:ce,setContent:Be,show:Ze,hide:Qe,hideWithInteractivity:Pt,enable:_r,disable:J,unmount:Zt,destroy:oi};if(!i.render)return g;var S=i.render(g),C=S.popper,P=S.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+g.id,g.popper=C,t._tippy=g,C._tippy=g;var I=u.map(function(de){return de.fn(g)}),U=t.hasAttribute("aria-expanded");return Yt(),Q(),$(),G("onCreate",[g]),i.showOnCreate&&Zr(),C.addEventListener("mouseenter",function(){g.props.interactive&&g.state.isVisible&&g.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){g.props.interactive&&g.props.trigger.indexOf("mouseenter")>=0&&R().addEventListener("mousemove",E)}),g;function z(){var de=g.props.touch;return Array.isArray(de)?de:[de,0]}function f(){return z()[0]==="hold"}function w(){var de;return!!((de=g.props.render)!=null&&de.$$tippy)}function A(){return O||t}function R(){var de=A().parentNode;return de?lG(de):document}function B(){return dk(C)}function W(de){return g.state.isMounted&&!g.state.isVisible||Wo.isTouch||y&&y.type==="focus"?0:ox(g.props.delay,de?0:1,yo.delay)}function $(de){de===void 0&&(de=!1),C.style.pointerEvents=g.props.interactive&&!de?"":"none",C.style.zIndex=""+g.props.zIndex}function G(de,Ne,ut){if(ut===void 0&&(ut=!0),I.forEach(function(ht){ht[de]&&ht[de].apply(ht,Ne)}),ut){var He;(He=g.props)[de].apply(He,Ne)}}function ue(){var de=g.props.aria;if(de.content){var Ne="aria-"+de.content,ut=C.id,He=Xu(g.props.triggerTarget||t);He.forEach(function(ht){var Ge=ht.getAttribute(Ne);if(g.state.isVisible)ht.setAttribute(Ne,Ge?Ge+" "+ut:ut);else{var Rt=Ge&&Ge.replace(ut,"").trim();Rt?ht.setAttribute(Ne,Rt):ht.removeAttribute(Ne)}})}}function Q(){if(!(U||!g.props.aria.expanded)){var de=Xu(g.props.triggerTarget||t);de.forEach(function(Ne){g.props.interactive?Ne.setAttribute("aria-expanded",g.state.isVisible&&Ne===A()?"true":"false"):Ne.removeAttribute("aria-expanded")})}}function K(){R().removeEventListener("mousemove",E),jy=jy.filter(function(de){return de!==E})}function we(de){if(!(Wo.isTouch&&(d||de.type==="mousedown"))){var Ne=de.composedPath&&de.composedPath()[0]||de.target;if(!(g.props.interactive&&cL(C,Ne))){if(Xu(g.props.triggerTarget||t).some(function(ut){return cL(ut,Ne)})){if(Wo.isTouch||g.state.isVisible&&g.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[g,de]);g.props.hideOnClick===!0&&(g.clearDelayTimeouts(),g.hide(),h=!0,setTimeout(function(){h=!1}),g.state.isMounted||We())}}}function ze(){d=!0}function Ke(){d=!1}function Pe(){var de=R();de.addEventListener("mousedown",we,!0),de.addEventListener("touchend",we,Ph),de.addEventListener("touchstart",Ke,Ph),de.addEventListener("touchmove",ze,Ph)}function We(){var de=R();de.removeEventListener("mousedown",we,!0),de.removeEventListener("touchend",we,Ph),de.removeEventListener("touchstart",Ke,Ph),de.removeEventListener("touchmove",ze,Ph)}function it(de,Ne){Lt(de,function(){!g.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&Ne()})}function vt(de,Ne){Lt(de,Ne)}function Lt(de,Ne){var ut=B().box;function He(ht){ht.target===ut&&(cx(ut,"remove",He),Ne())}if(de===0)return Ne();cx(ut,"remove",b),cx(ut,"add",He),b=He}function Re(de,Ne,ut){ut===void 0&&(ut=!1);var He=Xu(g.props.triggerTarget||t);He.forEach(function(ht){ht.addEventListener(de,Ne,ut),x.push({node:ht,eventType:de,handler:Ne,options:ut})})}function Yt(){f()&&(Re("touchstart",Ri,{passive:!0}),Re("touchend",Si,{passive:!0})),tG(g.props.trigger).forEach(function(de){if(de!=="manual")switch(Re(de,Ri),de){case"mouseenter":Re("mouseleave",Si);break;case"focus":Re(pG?"focusout":"blur",Qi);break;case"focusin":Re("focusout",Qi);break}})}function $t(){x.forEach(function(de){var Ne=de.node,ut=de.eventType,He=de.handler,ht=de.options;Ne.removeEventListener(ut,He,ht)}),x=[]}function Ri(de){var Ne,ut=!1;if(!(!g.state.isEnabled||Ji(de)||h)){var He=((Ne=y)==null?void 0:Ne.type)==="focus";y=de,O=de.currentTarget,Q(),!g.state.isVisible&&nG(de)&&jy.forEach(function(ht){return ht(de)}),de.type==="click"&&(g.props.trigger.indexOf("mouseenter")<0||a)&&g.props.hideOnClick!==!1&&g.state.isVisible?ut=!0:Zr(de),de.type==="click"&&(a=!ut),ut&&!He&&Li(de)}}function nt(de){var Ne=de.target,ut=A().contains(Ne)||C.contains(Ne);if(!(de.type==="mousemove"&&ut)){var He=jr().concat(C).map(function(ht){var Ge,Rt=ht._tippy,Gt=(Ge=Rt.popperInstance)==null?void 0:Ge.state;return Gt?{popperRect:ht.getBoundingClientRect(),popperState:Gt,props:i}:null}).filter(Boolean);cG(He,de)&&(K(),Li(de))}}function Si(de){var Ne=Ji(de)||g.props.trigger.indexOf("click")>=0&&a;if(!Ne){if(g.props.interactive){g.hideWithInteractivity(de);return}Li(de)}}function Qi(de){g.props.trigger.indexOf("focusin")<0&&de.target!==A()||g.props.interactive&&de.relatedTarget&&C.contains(de.relatedTarget)||Li(de)}function Ji(de){return Wo.isTouch?f()!==de.type.indexOf("touch")>=0:!1}function bt(){Wt();var de=g.props,Ne=de.popperOptions,ut=de.placement,He=de.offset,ht=de.getReferenceClientRect,Ge=de.moveTransition,Rt=w()?dk(C).arrow:null,Gt=ht?{getBoundingClientRect:ht,contextElement:ht.contextElement||A()}:t,Mi={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(se){var be=se.state;if(w()){var je=B(),gt=je.box;["placement","reference-hidden","escaped"].forEach(function(St){St==="placement"?gt.setAttribute("data-placement",be.placement):be.attributes.popper["data-popper-"+St]?gt.setAttribute("data-"+St,""):gt.removeAttribute("data-"+St)}),be.attributes.popper={}}}},gi=[{name:"offset",options:{offset:He}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ge}},Mi];w()&&Rt&&gi.push({name:"arrow",options:{element:Rt,padding:3}}),gi.push.apply(gi,(Ne==null?void 0:Ne.modifiers)||[]),g.popperInstance=sI(Gt,C,Object.assign({},Ne,{placement:ut,onFirstUpdate:k,modifiers:gi}))}function Wt(){g.popperInstance&&(g.popperInstance.destroy(),g.popperInstance=null)}function Gi(){var de=g.props.appendTo,Ne,ut=A();g.props.interactive&&de===lI||de==="parent"?Ne=ut.parentNode:Ne=cI(de,[ut]),Ne.contains(C)||Ne.appendChild(C),g.state.isMounted=!0,bt()}function jr(){return zv(C.querySelectorAll("[data-tippy-root]"))}function Zr(de){g.clearDelayTimeouts(),de&&G("onTrigger",[g,de]),Pe();var Ne=W(!0),ut=z(),He=ut[0],ht=ut[1];Wo.isTouch&&He==="hold"&&ht&&(Ne=ht),Ne?s=setTimeout(function(){g.show()},Ne):g.show()}function Li(de){if(g.clearDelayTimeouts(),G("onUntrigger",[g,de]),!g.state.isVisible){We();return}if(!(g.props.trigger.indexOf("mouseenter")>=0&&g.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(de.type)>=0&&a)){var Ne=W(!1);Ne?n=setTimeout(function(){g.state.isVisible&&g.hide()},Ne):l=requestAnimationFrame(function(){g.hide()})}}function _r(){g.state.isEnabled=!0}function J(){g.hide(),g.state.isEnabled=!1}function pe(){clearTimeout(s),clearTimeout(n),cancelAnimationFrame(l)}function ce(de){if(!g.state.isDestroyed){G("onBeforeUpdate",[g,de]),$t();var Ne=g.props,ut=uL(t,Object.assign({},Ne,oL(de),{ignoreAttributes:!0}));g.props=ut,Yt(),Ne.interactiveDebounce!==ut.interactiveDebounce&&(K(),E=nL(nt,ut.interactiveDebounce)),Ne.triggerTarget&&!ut.triggerTarget?Xu(Ne.triggerTarget).forEach(function(He){He.removeAttribute("aria-expanded")}):ut.triggerTarget&&t.removeAttribute("aria-expanded"),Q(),$(),P&&P(Ne,ut),g.popperInstance&&(bt(),jr().forEach(function(He){requestAnimationFrame(He._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[g,de])}}function Be(de){g.setProps({content:de})}function Ze(){var de=g.state.isVisible,Ne=g.state.isDestroyed,ut=!g.state.isEnabled,He=Wo.isTouch&&!g.props.touch,ht=ox(g.props.duration,0,yo.duration);if(!(de||Ne||ut||He)&&!A().hasAttribute("disabled")&&(G("onShow",[g],!1),g.props.onShow(g)!==!1)){if(g.state.isVisible=!0,w()&&(C.style.visibility="visible"),$(),Pe(),g.state.isMounted||(C.style.transition="none"),w()){var Ge=B(),Rt=Ge.box,Gt=Ge.content;lx([Rt,Gt],0)}k=function(){var gi;if(!(!g.state.isVisible||m)){if(m=!0,C.offsetHeight,C.style.transition=g.props.moveTransition,w()&&g.props.animation){var ie=B(),se=ie.box,be=ie.content;lx([se,be],ht),lL([se,be],"visible")}ue(),Q(),aL(hx,g),(gi=g.popperInstance)==null||gi.forceUpdate(),G("onMount",[g]),g.props.animation&&w()&&vt(ht,function(){g.state.isShown=!0,G("onShown",[g])})}},Gi()}}function Qe(){var de=!g.state.isVisible,Ne=g.state.isDestroyed,ut=!g.state.isEnabled,He=ox(g.props.duration,1,yo.duration);if(!(de||Ne||ut)&&(G("onHide",[g],!1),g.props.onHide(g)!==!1)){if(g.state.isVisible=!1,g.state.isShown=!1,m=!1,a=!1,w()&&(C.style.visibility="hidden"),K(),We(),$(!0),w()){var ht=B(),Ge=ht.box,Rt=ht.content;g.props.animation&&(lx([Ge,Rt],He),lL([Ge,Rt],"hidden"))}ue(),Q(),g.props.animation?w()&&it(He,g.unmount):g.unmount()}}function Pt(de){R().addEventListener("mousemove",E),aL(jy,E),E(de)}function Zt(){g.state.isVisible&&g.hide(),g.state.isMounted&&(Wt(),jr().forEach(function(de){de._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),hx=hx.filter(function(de){return de!==g}),g.state.isMounted=!1,G("onHidden",[g]))}function oi(){g.state.isDestroyed||(g.clearDelayTimeouts(),g.unmount(),$t(),delete t._tippy,g.state.isDestroyed=!0,G("onDestroy",[g]))}}function Gm(t,e){e===void 0&&(e={});var i=yo.plugins.concat(e.plugins||[]);dG();var s=Object.assign({},e,{plugins:i}),n=oG(t),l=n.reduce(function(a,h){var d=h&&xG(h,s);return d&&a.push(d),a},[]);return Wb(t)?l[0]:l}Gm.defaultProps=yo;Gm.setDefaultProps=vG;Gm.currentInput=Wo;Object.assign({},KF,{effect:function(e){var i=e.state,s={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,s.popper),i.styles=s,i.elements.arrow&&Object.assign(i.elements.arrow.style,s.arrow)}});Gm.setDefaultProps({render:dI});var ux={exports:{}},pL;function kG(){return pL||(pL=1,function(t,e){(function(i,s){t.exports=s()})(window,function(){return n={},i.m=s=[function(l,a,h){function d(m,y){y=y||{bubbles:!1,cancelable:!1,detail:void 0};var b=document.createEvent("CustomEvent");return b.initCustomEvent(m,y.bubbles,y.cancelable,y.detail),b}a.__esModule=!0,a.kebabCase=a.highlight=a.isValueInArrayOfObjects=a.debounce=a.putContent=a.ensureElementInView=a.hasClassInTree=void 0,a.hasClassInTree=function(m,y){function b(k,x){return x&&k&&k.classList&&k.classList.contains(x)?k:null}return b(m,y)||function k(x,E){return x&&x!==document?b(x,E)?x:k(x.parentNode,E):null}(m,y)},a.ensureElementInView=function(m,E){var b=m.scrollTop+m.offsetTop,k=b+m.clientHeight,x=E.offsetTop,E=x+E.clientHeight;x<b?m.scrollTop-=b-x:k<E&&(m.scrollTop+=E-k)},a.putContent=function(x,y,b){var E=x.offsetHeight,k=x.getBoundingClientRect(),x=b?k.top:k.top-E,E=b?k.bottom:k.bottom+E;return x<=0?"below":E>=window.innerHeight?"above":b?y:"below"},a.debounce=function(m,y,b){var k;return y===void 0&&(y=100),b===void 0&&(b=!1),function(){for(var x=[],E=0;E<arguments.length;E++)x[E]=arguments[E];var O=self,L=b&&!k;clearTimeout(k),k=setTimeout(function(){k=null,b||m.apply(O,x)},y),L&&m.apply(O,x)}},a.isValueInArrayOfObjects=function(m,y,b){if(!Array.isArray(m))return m[y]===b;for(var k=0,x=m;k<x.length;k++){var E=x[k];if(E&&E[y]&&E[y]===b)return!0}return!1},a.highlight=function(m,O,b){var k=m,x=new RegExp("("+O.trim()+")(?![^<]*>[^<>]*</)","i");if(!m.match(x))return m;var E=m.match(x).index,O=E+m.match(x)[0].toString().length,O=m.substring(E,O);return k=k.replace(x,'<mark class="'.concat(b,'">').concat(O,"</mark>"))},a.kebabCase=function(m){var y=m.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(b){return"-"+b.toLowerCase()});return m[0]===m[0].toUpperCase()?y.substring(1):y},typeof(a=window).CustomEvent!="function"&&(d.prototype=a.Event.prototype,a.CustomEvent=d)},function(l,a,h){a.__esModule=!0,a.validateOption=a.validateData=a.Data=void 0;var d=(m.prototype.newOption=function(b){return{id:b.id||String(Math.floor(1e8*Math.random())),value:b.value||"",text:b.text||"",innerHTML:b.innerHTML||"",selected:b.selected||!1,display:b.display===void 0||b.display,disabled:b.disabled||!1,placeholder:b.placeholder||!1,class:b.class||void 0,data:b.data||{},mandatory:b.mandatory||!1}},m.prototype.add=function(b){this.data.push({id:String(Math.floor(1e8*Math.random())),value:b.value,text:b.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:b.mandatory,data:{}})},m.prototype.parseSelectData=function(){this.data=[];for(var b=0,k=this.main.select.element.childNodes;b<k.length;b++){var x=k[b];if(x.nodeName==="OPTGROUP"){for(var E={label:x.label,options:[]},O=0,L=x.childNodes;O<L.length;O++){var D,u=L[O];u.nodeName==="OPTION"&&(D=this.pullOptionData(u),E.options.push(D),D.placeholder&&D.text.trim()!==""&&(this.main.config.placeholderText=D.text))}this.data.push(E)}else x.nodeName==="OPTION"&&(D=this.pullOptionData(x),this.data.push(D),D.placeholder&&D.text.trim()!==""&&(this.main.config.placeholderText=D.text))}},m.prototype.pullOptionData=function(b){return{id:!!b.dataset&&b.dataset.id||String(Math.floor(1e8*Math.random())),value:b.value,text:b.text,innerHTML:b.innerHTML,selected:b.selected,disabled:b.disabled,placeholder:b.dataset.placeholder==="true",class:b.className,style:b.style.cssText,data:b.dataset,mandatory:!!b.dataset&&b.dataset.mandatory==="true"}},m.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var b=[],k=0,x=this.main.select.element.options;k<x.length;k++){var E=x[k];!E.selected||(E=this.getObjectFromData(E.value,"value"))&&E.id&&b.push(E.id)}this.setSelected(b,"id")}else{var O=this.main.select.element;O.selectedIndex!==-1&&(O=O.options[O.selectedIndex].value,this.setSelected(O,"value"))}},m.prototype.setSelected=function(b,k){k===void 0&&(k="id");for(var x=0,E=this.data;x<E.length;x++){var O=E[x];if(O.hasOwnProperty("label")){if(O.hasOwnProperty("options")){var L=O.options;if(L)for(var D=0,u=L;D<u.length;D++){var T=u[D];T.placeholder||(T.selected=this.shouldBeSelected(T,b,k))}}}else O.selected=this.shouldBeSelected(O,b,k)}},m.prototype.shouldBeSelected=function(b,k,x){if(x===void 0&&(x="id"),Array.isArray(k))for(var E=0,O=k;E<O.length;E++){var L=O[E];if(x in b&&String(b[x])===String(L))return!0}else if(x in b&&String(b[x])===String(k))return!0;return!1},m.prototype.getSelected=function(){for(var b={text:"",placeholder:this.main.config.placeholderText},k=[],x=0,E=this.data;x<E.length;x++){var O=E[x];if(O.hasOwnProperty("label")){if(O.hasOwnProperty("options")){var L=O.options;if(L)for(var D=0,u=L;D<u.length;D++){var T=u[D];T.selected&&(this.main.config.isMultiple?k.push(T):b=T)}}}else O.selected&&(this.main.config.isMultiple?k.push(O):b=O)}return this.main.config.isMultiple?k:b},m.prototype.addToSelected=function(b,k){if(k===void 0&&(k="id"),this.main.config.isMultiple){var x=[],E=this.getSelected();if(Array.isArray(E))for(var O=0,L=E;O<L.length;O++){var D=L[O];x.push(D[k])}x.push(b),this.setSelected(x,k)}},m.prototype.removeFromSelected=function(b,k){if(k===void 0&&(k="id"),this.main.config.isMultiple){for(var x=[],E=0,O=this.getSelected();E<O.length;E++){var L=O[E];String(L[k])!==String(b)&&x.push(L[k])}this.setSelected(x,k)}},m.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},m.prototype.getObjectFromData=function(b,k){k===void 0&&(k="id");for(var x=0,E=this.data;x<E.length;x++){var O=E[x];if(k in O&&String(O[k])===String(b))return O;if(O.hasOwnProperty("options")&&O.options)for(var L=0,D=O.options;L<D.length;L++){var u=D[L];if(String(u[k])===String(b))return u}}return null},m.prototype.search=function(b){var k,x;(this.searchValue=b).trim()!==""?(k=this.main.config.searchFilter,x=this.data.slice(0),b=b.trim(),x=x.map(function(E){if(E.hasOwnProperty("options")){var O=E,L=[];if((L=O.options?O.options.filter(function(D){return k(D,b)}):L).length!==0)return O=Object.assign({},O),O.options=L,O}return E.hasOwnProperty("text")&&k(E,b)?E:null}),this.filtered=x.filter(function(E){return E})):this.filtered=null},m);function m(b){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=b.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function y(b){return b.text!==void 0||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(b)),!1)}a.Data=d,a.validateData=function(b){if(!b)return console.error("Data must be an array of objects"),!1;for(var k=0,x=0,E=b;x<E.length;x++){var O=E[x];if(O.hasOwnProperty("label")){if(O.hasOwnProperty("options")){var L=O.options;if(L)for(var D=0,u=L;D<u.length;D++)y(u[D])||k++}}else y(O)||k++}return k===0},a.validateOption=y},function(l,a,x){a.__esModule=!0;var d=x(3),m=x(4),y=x(5),b=x(1),k=x(0),x=(E.prototype.validate=function(O){if(O=typeof O.select=="string"?document.querySelector(O.select):O.select,!O)throw new Error("Could not find select element");if(O.tagName!=="SELECT")throw new Error("Element isnt of type select");return O},E.prototype.selected=function(){if(this.config.isMultiple){for(var O=[],L=0,D=T=this.data.getSelected();L<D.length;L++){var u=D[L];O.push(u.value)}return O}var T;return(T=this.data.getSelected())?T.value:""},E.prototype.set=function(O,L,D,u){L===void 0&&(L="value"),D===void 0&&(D=!0),this.config.isMultiple&&!Array.isArray(O)?this.data.addToSelected(O,L):this.data.setSelected(O,L),this.select.setValue(),this.data.onDataChange(),this.render(),(D=this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length?!0:D)&&this.close()},E.prototype.setSelected=function(O,L,D,u){this.set(O,L=L===void 0?"value":L,D=D===void 0?!0:D,u=u===void 0?!0:u)},E.prototype.setData=function(O){if((0,b.validateData)(O)){for(var L=JSON.parse(JSON.stringify(O)),D=this.data.getSelected(),u=0;u<L.length;u++)L[u].value||L[u].placeholder||(L[u].value=L[u].text);if(this.config.isAjax&&D)if(this.config.isMultiple)for(var T=0,g=D.reverse();T<g.length;T++){var S=g[T];L.unshift(S)}else{for(L.unshift(D),u=0;u<L.length;u++)L[u].placeholder||L[u].value!==D.value||L[u].text!==D.text||L.splice(u,1);for(var C=!1,u=0;u<L.length;u++)L[u].placeholder&&(C=!0);C||L.unshift({text:"",placeholder:!0})}this.select.create(L),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},E.prototype.addData=function(O){(0,b.validateData)([O])?(this.data.add(this.data.newOption(O)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},E.prototype.open=function(){var O,L=this;this.config.isEnabled&&(this.data.contentOpen||this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length||(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add(this.data.contentPosition==="above"?this.config.openAbove:this.config.openBelow),this.config.addToBody&&(O=this.slim.container.getBoundingClientRect(),this.slim.content.style.top=O.top+O.height+window.scrollY+"px",this.slim.content.style.left=O.left+window.scrollX+"px",this.slim.content.style.width=O.width+"px"),this.slim.content.classList.add(this.config.open),this.config.showContent.toLowerCase()==="up"||this.config.showContent.toLowerCase()!=="down"&&(0,k.putContent)(this.slim.content,this.data.contentPosition,this.data.contentOpen)==="above"?this.moveContentAbove():this.moveContentBelow(),this.config.isMultiple||(O=this.data.getSelected())&&(O=O.id,(O=this.slim.list.querySelector('[data-id="'+O+'"]'))&&(0,k.ensureElementInView)(this.slim.list,O)),setTimeout(function(){L.data.contentOpen=!0,L.config.searchFocus&&L.slim.search.input.focus(),L.afterOpen&&L.afterOpen()},this.config.timeoutDelay)))},E.prototype.close=function(){var O=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){O.slim.content.removeAttribute("style"),O.data.contentPosition="below",O.config.isMultiple&&O.slim.multiSelected?(O.slim.multiSelected.container.classList.remove(O.config.openAbove),O.slim.multiSelected.container.classList.remove(O.config.openBelow)):O.slim.singleSelected&&(O.slim.singleSelected.container.classList.remove(O.config.openAbove),O.slim.singleSelected.container.classList.remove(O.config.openBelow)),O.slim.search.input.blur(),O.afterClose&&O.afterClose()},this.config.timeoutDelay))},E.prototype.moveContentAbove=function(){var O=0;this.config.isMultiple&&this.slim.multiSelected?O=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(O=this.slim.singleSelected.container.offsetHeight);var L=O+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+L+"px 0 0 0",this.slim.content.style.height=L-O+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},E.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},E.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},E.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},E.prototype.search=function(O){var L;this.data.searchValue!==O&&(this.slim.search.input.value=O,this.config.isAjax?((L=this).config.isSearching=!0,this.render(),this.ajax&&this.ajax(O,function(D){L.config.isSearching=!1,Array.isArray(D)?(D.unshift({text:"",placeholder:!0}),L.setData(D),L.data.search(O),L.render()):typeof D=="string"?L.slim.options(D):L.render()})):(this.data.search(O),this.render()))},E.prototype.setSearchText=function(O){this.config.searchText=O},E.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},E.prototype.destroy=function(O){var L=(O=O===void 0?null:O)?document.querySelector("."+O+".ss-main"):this.slim.container,D=O?document.querySelector("[data-ssid=".concat(O,"]")):this.select.element;L&&D&&(document.removeEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),D.style.display="",delete D.dataset.ssid,D.slim=null,L.parentElement&&L.parentElement.removeChild(L),!this.config.addToBody||(O=O?document.querySelector("."+O+".ss-content"):this.slim.content)&&document.body.removeChild(O))},E);function E(O){var L=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=(0,k.debounce)(function(u){L.data.contentOpen&&((0,k.putContent)(L.slim.content,L.data.contentPosition,L.data.contentOpen)==="above"?L.moveContentAbove():L.moveContentBelow())}),this.documentClick=function(u){u.target&&!(0,k.hasClassInTree)(u.target,L.config.id)&&L.close()};var D=this.validate(O);D.dataset.ssid&&this.destroy(D.dataset.ssid),O.ajax&&(this.ajax=O.ajax),O.addable&&(this.addable=O.addable),this.config=new d.Config({select:D,isAjax:!!O.ajax,showSearch:O.showSearch,searchPlaceholder:O.searchPlaceholder,searchText:O.searchText,searchingText:O.searchingText,searchFocus:O.searchFocus,searchHighlight:O.searchHighlight,searchFilter:O.searchFilter,closeOnSelect:O.closeOnSelect,showContent:O.showContent,placeholderText:O.placeholder,allowDeselect:O.allowDeselect,allowDeselectOption:O.allowDeselectOption,hideSelectedOption:O.hideSelectedOption,deselectLabel:O.deselectLabel,isEnabled:O.isEnabled,valuesUseText:O.valuesUseText,showOptionTooltips:O.showOptionTooltips,selectByGroup:O.selectByGroup,limit:O.limit,timeoutDelay:O.timeoutDelay,addToBody:O.addToBody}),this.select=new m.Select({select:D,main:this}),this.data=new b.Data({main:this}),this.slim=new y.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),O.data?this.setData(O.data):this.render(),document.addEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),O.beforeOnChange&&(this.beforeOnChange=O.beforeOnChange),O.onChange&&(this.onChange=O.onChange),O.beforeOpen&&(this.beforeOpen=O.beforeOpen),O.afterOpen&&(this.afterOpen=O.afterOpen),O.beforeClose&&(this.beforeClose=O.beforeClose),O.afterClose&&(this.afterClose=O.afterClose),this.config.isEnabled||this.disable()}a.default=x},function(l,a,h){a.__esModule=!0,a.Config=void 0;var d=(m.prototype.searchFilter=function(y,b){return y.text.toLowerCase().indexOf(b.toLowerCase())!==-1},m);function m(y){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=y.select.style.cssText,this.class=y.select.className.split(" "),this.isMultiple=y.select.multiple,this.isAjax=y.isAjax,this.showSearch=y.showSearch!==!1,this.searchFocus=y.searchFocus!==!1,this.searchHighlight=y.searchHighlight===!0,this.closeOnSelect=y.closeOnSelect!==!1,y.showContent&&(this.showContent=y.showContent),this.isEnabled=y.isEnabled!==!1,y.searchPlaceholder&&(this.searchPlaceholder=y.searchPlaceholder),y.searchText&&(this.searchText=y.searchText),y.searchingText&&(this.searchingText=y.searchingText),y.placeholderText&&(this.placeholderText=y.placeholderText),this.allowDeselect=y.allowDeselect===!0,this.allowDeselectOption=y.allowDeselectOption===!0,this.hideSelectedOption=y.hideSelectedOption===!0,y.deselectLabel&&(this.deselectLabel=y.deselectLabel),y.valuesUseText&&(this.valuesUseText=y.valuesUseText),y.showOptionTooltips&&(this.showOptionTooltips=y.showOptionTooltips),y.selectByGroup&&(this.selectByGroup=y.selectByGroup),y.limit&&(this.limit=y.limit),y.searchFilter&&(this.searchFilter=y.searchFilter),y.timeoutDelay!=null&&(this.timeoutDelay=y.timeoutDelay),this.addToBody=y.addToBody===!0}a.Config=d},function(l,a,m){a.__esModule=!0,a.Select=void 0;var d=m(0),m=(y.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var b=this.main.data.getSelected(),k=0,x=this.element.options;k<x.length;k++){var E=x[k];E.selected=!1;for(var O=0,L=b;O<L.length;O++)L[O].value===E.value&&(E.selected=!0)}else b=this.main.data.getSelected(),this.element.value=b?b.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},y.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id,this.element.setAttribute("aria-hidden","true")},y.prototype.addEventListeners=function(){var b=this;this.element.addEventListener("change",function(k){b.main.data.setSelectedFromSelect(),b.main.render()})},y.prototype.addMutationObserver=function(){var b=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(k){b.triggerMutationObserver&&(b.main.data.parseSelectData(),b.main.data.setSelectedFromSelect(),b.main.render(),k.forEach(function(x){x.attributeName==="class"&&b.main.slim.updateContainerDivClass(b.main.slim.container)}))}),this.observeMutationObserver())},y.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},y.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},y.prototype.create=function(b){this.element.innerHTML="";for(var k=0,x=b;k<x.length;k++){var E=x[k];if(E.hasOwnProperty("options")){var O=E,L=document.createElement("optgroup");if(L.label=O.label,O.options)for(var D=0,u=O.options;D<u.length;D++){var T=u[D];L.appendChild(this.createOption(T))}this.element.appendChild(L)}else this.element.appendChild(this.createOption(E))}},y.prototype.createOption=function(b){var k=document.createElement("option");return k.value=b.value!==""?b.value:b.text,k.innerHTML=b.innerHTML||b.text,b.selected&&(k.selected=b.selected),b.display===!1&&(k.style.display="none"),b.disabled&&(k.disabled=!0),b.placeholder&&k.setAttribute("data-placeholder","true"),b.mandatory&&k.setAttribute("data-mandatory","true"),b.class&&b.class.split(" ").forEach(function(x){k.classList.add(x)}),b.data&&typeof b.data=="object"&&Object.keys(b.data).forEach(function(x){k.setAttribute("data-"+(0,d.kebabCase)(x),b.data[x])}),k},y);function y(b){this.triggerMutationObserver=!0,this.element=b.select,this.main=b.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=b.main}a.Select=m},function(l,a,y){a.__esModule=!0,a.Slim=void 0;var d=y(0),m=y(1),y=(b.prototype.containerDiv=function(){var k=document.createElement("div");return k.style.cssText=this.main.config.style,this.updateContainerDivClass(k),k},b.prototype.updateContainerDivClass=function(k){this.main.config.class=this.main.select.element.className.split(" "),k.className="",k.classList.add(this.main.config.id),k.classList.add(this.main.config.main);for(var x=0,E=this.main.config.class;x<E.length;x++){var O=E[x];O.trim()!==""&&k.classList.add(O)}},b.prototype.singleSelectedDiv=function(){var k=this,x=document.createElement("div");x.classList.add(this.main.config.singleSelected);var E=document.createElement("span");E.classList.add("placeholder"),x.appendChild(E);var O=document.createElement("span");O.innerHTML=this.main.config.deselectLabel,O.classList.add("ss-deselect"),O.onclick=function(u){u.stopPropagation(),k.main.config.isEnabled&&k.main.set("")},x.appendChild(O);var L=document.createElement("span");L.classList.add(this.main.config.arrow);var D=document.createElement("span");return D.classList.add("arrow-down"),L.appendChild(D),x.appendChild(L),x.onclick=function(){k.main.config.isEnabled&&(k.main.data.contentOpen?k.main.close():k.main.open())},{container:x,placeholder:E,deselect:O,arrowIcon:{container:L,arrow:D}}},b.prototype.placeholder=function(){var k,x=this.main.data.getSelected();x===null||x&&x.placeholder?((k=document.createElement("span")).classList.add(this.main.config.disabled),k.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=k.outerHTML)):(k="",x&&(k=x.innerHTML&&this.main.config.valuesUseText!==!0?x.innerHTML:x.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=x?k:""))},b.prototype.deselect=function(){this.singleSelected&&(!this.main.config.allowDeselect||this.main.selected()===""?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide"))},b.prototype.multiSelectedDiv=function(){var k=this,x=document.createElement("div");x.classList.add(this.main.config.multiSelected);var E=document.createElement("div");E.classList.add(this.main.config.values),x.appendChild(E);var O=document.createElement("div");O.classList.add(this.main.config.add);var L=document.createElement("span");return L.classList.add(this.main.config.plus),L.onclick=function(D){k.main.data.contentOpen&&(k.main.close(),D.stopPropagation())},O.appendChild(L),x.appendChild(O),x.onclick=function(D){k.main.config.isEnabled&&(D.target.classList.contains(k.main.config.valueDelete)||(k.main.data.contentOpen?k.main.close():k.main.open()))},{container:x,values:E,add:O,plus:L}},b.prototype.values=function(){if(this.multiSelected){for(var k=this.multiSelected.values.childNodes,x=this.main.data.getSelected(),E=[],O=0,L=k;O<L.length;O++){for(var D=L[O],u=!0,T=0,g=x;T<g.length;T++){var S=g[T];String(S.id)===String(D.dataset.id)&&(u=!1)}u&&E.push(D)}for(var C=0,P=E;C<P.length;C++){var I=P[C];I.classList.add("ss-out"),this.multiSelected.values.removeChild(I)}for(var U,k=this.multiSelected.values.childNodes,S=0;S<x.length;S++){u=!1;for(var z=0,f=k;z<f.length;z++)D=f[z],String(x[S].id)===String(D.dataset.id)&&(u=!0);u||(k.length!==0&&HTMLElement.prototype.insertAdjacentElement?S===0?this.multiSelected.values.insertBefore(this.valueDiv(x[S]),k[S]):k[S-1].insertAdjacentElement("afterend",this.valueDiv(x[S])):this.multiSelected.values.appendChild(this.valueDiv(x[S])))}x.length===0&&((U=document.createElement("span")).classList.add(this.main.config.disabled),U.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=U.outerHTML)}},b.prototype.valueDiv=function(k){var x=this,E=document.createElement("div");E.classList.add(this.main.config.value),E.dataset.id=k.id;var O=document.createElement("span");return O.classList.add(this.main.config.valueText),O.innerHTML=k.innerHTML&&this.main.config.valuesUseText!==!0?k.innerHTML:k.text,E.appendChild(O),k.mandatory||((O=document.createElement("span")).classList.add(this.main.config.valueDelete),O.innerHTML=this.main.config.deselectLabel,O.onclick=function(L){L.preventDefault(),L.stopPropagation();var D=!1;if(x.main.beforeOnChange||(D=!0),x.main.beforeOnChange){for(var L=x.main.data.getSelected(),u=JSON.parse(JSON.stringify(L)),T=0;T<u.length;T++)u[T].id===k.id&&u.splice(T,1);x.main.beforeOnChange(u)!==!1&&(D=!0)}D&&(x.main.data.removeFromSelected(k.id,"id"),x.main.render(),x.main.select.setValue(),x.main.data.onDataChange())},E.appendChild(O)),E},b.prototype.contentDiv=function(){var k=document.createElement("div");return k.classList.add(this.main.config.content),k},b.prototype.searchDiv=function(){var k=this,x=document.createElement("div"),E=document.createElement("input"),O=document.createElement("div");x.classList.add(this.main.config.search);var L={container:x,input:E};return this.main.config.showSearch||(x.classList.add(this.main.config.hide),E.readOnly=!0),E.type="search",E.placeholder=this.main.config.searchPlaceholder,E.tabIndex=0,E.setAttribute("aria-label",this.main.config.searchPlaceholder),E.setAttribute("autocapitalize","off"),E.setAttribute("autocomplete","off"),E.setAttribute("autocorrect","off"),E.onclick=function(D){setTimeout(function(){D.target.value===""&&k.main.search("")},10)},E.onkeydown=function(D){D.key==="ArrowUp"?(k.main.open(),k.highlightUp(),D.preventDefault()):D.key==="ArrowDown"?(k.main.open(),k.highlightDown(),D.preventDefault()):D.key==="Tab"?k.main.data.contentOpen?k.main.close():setTimeout(function(){k.main.close()},k.main.config.timeoutDelay):D.key==="Enter"&&D.preventDefault()},E.onkeyup=function(D){var u=D.target;if(D.key==="Enter"){if(k.main.addable&&D.ctrlKey)return O.click(),D.preventDefault(),void D.stopPropagation();var T=k.list.querySelector("."+k.main.config.highlighted);T&&T.click()}else D.key==="ArrowUp"||D.key==="ArrowDown"||(D.key==="Escape"?k.main.close():k.main.config.showSearch&&k.main.data.contentOpen?k.main.search(u.value):E.value="");D.preventDefault(),D.stopPropagation()},E.onfocus=function(){k.main.open()},x.appendChild(E),this.main.addable&&(O.classList.add(this.main.config.addable),O.innerHTML="+",O.onclick=function(D){var u;k.main.addable&&(D.preventDefault(),D.stopPropagation(),(D=k.search.input.value).trim()!==""?(D=k.main.addable(D),u="",D&&(typeof D=="object"?(0,m.validateOption)(D)&&(k.main.addData(D),u=D.value||D.text):(k.main.addData(k.main.data.newOption({text:D,value:D})),u=D),k.main.search(""),setTimeout(function(){k.main.set(u,"value",!1,!1)},100),k.main.config.closeOnSelect&&setTimeout(function(){k.main.close()},100))):k.search.input.focus())},x.appendChild(O),L.addable=O),L},b.prototype.highlightUp=function(){var k=this.list.querySelector("."+this.main.config.highlighted),E=null;if(k)for(E=k.previousSibling;E!==null&&E.classList.contains(this.main.config.disabled);)E=E.previousSibling;else var x=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")"),E=x[x.length-1];(E=E&&E.classList.contains(this.main.config.optgroupLabel)?null:E)!==null||(x=k.parentNode).classList.contains(this.main.config.optgroup)&&(!x.previousSibling||(x=x.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")")).length&&(E=x[x.length-1])),E&&(k&&k.classList.remove(this.main.config.highlighted),E.classList.add(this.main.config.highlighted),(0,d.ensureElementInView)(this.list,E))},b.prototype.highlightDown=function(){var k,x=this.list.querySelector("."+this.main.config.highlighted),E=null;if(x)for(E=x.nextSibling;E!==null&&E.classList.contains(this.main.config.disabled);)E=E.nextSibling;else E=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");E!==null||x===null||(k=x.parentNode).classList.contains(this.main.config.optgroup)&&k.nextSibling&&(E=k.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")),E&&(x&&x.classList.remove(this.main.config.highlighted),E.classList.add(this.main.config.highlighted),(0,d.ensureElementInView)(this.list,E))},b.prototype.listDiv=function(){var k=document.createElement("div");return k.classList.add(this.main.config.list),k.setAttribute("role","listbox"),k},b.prototype.options=function(k){k===void 0&&(k="");var x=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==k)return(E=document.createElement("div")).classList.add(this.main.config.option),E.classList.add(this.main.config.disabled),E.innerHTML=k,void this.list.appendChild(E);if(this.main.config.isAjax&&this.main.config.isSearching)return(E=document.createElement("div")).classList.add(this.main.config.option),E.classList.add(this.main.config.disabled),E.innerHTML=this.main.config.searchingText,void this.list.appendChild(E);if(x.length===0){var E=document.createElement("div");return E.classList.add(this.main.config.option),E.classList.add(this.main.config.disabled),E.innerHTML=this.main.config.searchText,void this.list.appendChild(E)}for(var O=this,L=0,D=x;L<D.length;L++)(function(u){if(u.hasOwnProperty("label")){var T=u,g=document.createElement("div");g.classList.add(O.main.config.optgroup);var S=document.createElement("div");if(S.classList.add(O.main.config.optgroupLabel),O.main.config.selectByGroup&&O.main.config.isMultiple&&S.classList.add(O.main.config.optgroupLabelSelectable),S.innerHTML=T.label,g.appendChild(S),T=T.options,T){for(var C,P=0,I=T;P<I.length;P++){var U=I[P];g.appendChild(O.option(U))}O.main.config.selectByGroup&&O.main.config.isMultiple&&(C=O,S.addEventListener("click",function(z){z.preventDefault(),z.stopPropagation();for(var f=0,w=g.children;f<w.length;f++){var A=w[f];A.className.indexOf(C.main.config.option)!==-1&&A.click()}}))}O.list.appendChild(g)}else O.list.appendChild(O.option(u))})(D[L])},b.prototype.option=function(k){if(k.placeholder){var x=document.createElement("div");return x.classList.add(this.main.config.option),x.classList.add(this.main.config.hide),x}var E=document.createElement("div");E.classList.add(this.main.config.option),E.setAttribute("role","option"),k.class&&k.class.split(" ").forEach(function(D){E.classList.add(D)}),k.style&&(E.style.cssText=k.style);var O=this.main.data.getSelected();E.dataset.id=k.id,this.main.config.searchHighlight&&this.main.slim&&k.innerHTML&&this.main.slim.search.input.value.trim()!==""?E.innerHTML=(0,d.highlight)(k.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):k.innerHTML&&(E.innerHTML=k.innerHTML),this.main.config.showOptionTooltips&&E.textContent&&E.setAttribute("title",E.textContent);var L=this;return E.addEventListener("click",function(D){D.preventDefault(),D.stopPropagation();var u=this.dataset.id;if(k.selected===!0&&L.main.config.allowDeselectOption){var T=!1;if(L.main.beforeOnChange&&L.main.config.isMultiple||(T=!0),L.main.beforeOnChange&&L.main.config.isMultiple){for(var g=L.main.data.getSelected(),S=JSON.parse(JSON.stringify(g)),C=0;C<S.length;C++)S[C].id===u&&S.splice(C,1);L.main.beforeOnChange(S)!==!1&&(T=!0)}T&&(L.main.config.isMultiple?(L.main.data.removeFromSelected(u,"id"),L.main.render(),L.main.select.setValue(),L.main.data.onDataChange()):L.main.set(""))}else k.disabled||k.selected||L.main.config.limit&&Array.isArray(O)&&L.main.config.limit<=O.length||(L.main.beforeOnChange?(g=void 0,(T=JSON.parse(JSON.stringify(L.main.data.getObjectFromData(u)))).selected=!0,L.main.config.isMultiple?(g=JSON.parse(JSON.stringify(O))).push(T):g=JSON.parse(JSON.stringify(T)),L.main.beforeOnChange(g)!==!1&&L.main.set(u,"id",L.main.config.closeOnSelect)):L.main.set(u,"id",L.main.config.closeOnSelect))}),x=O&&(0,d.isValueInArrayOfObjects)(O,"id",k.id),(k.disabled||x)&&(E.onclick=null,L.main.config.allowDeselectOption||E.classList.add(this.main.config.disabled),L.main.config.hideSelectedOption&&E.classList.add(this.main.config.hide)),x?E.classList.add(this.main.config.optionSelected):E.classList.remove(this.main.config.optionSelected),E},b);function b(k){this.main=k.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}a.Slim=y}],i.c=n,i.d=function(l,a,h){i.o(l,a)||Object.defineProperty(l,a,{enumerable:!0,get:h})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,a){if(1&a&&(l=i(l)),8&a||4&a&&typeof l=="object"&&l&&l.__esModule)return l;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:l}),2&a&&typeof l!="string")for(var d in l)i.d(h,d,(function(m){return l[m]}).bind(null,d));return h},i.n=function(l){var a=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(a,"a",a),a},i.o=function(l,a){return Object.prototype.hasOwnProperty.call(l,a)},i.p="",i(i.s=2).default;function i(l){if(n[l])return n[l].exports;var a=n[l]={i:l,l:!1,exports:{}};return s[l].call(a.exports,a,a.exports,i),a.l=!0,a.exports}var s,n})}(ux)),ux.exports}kG();var ZS={};(function t(e,i,s,n){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=function(){if(!e.OffscreenCanvas)return!1;var Q=new OffscreenCanvas(1,1),K=Q.getContext("2d");K.fillRect(0,0,1,1);var we=Q.transferToImageBitmap();try{K.createPattern(we,"no-repeat")}catch{return!1}return!0}();function d(){}function m(Q){var K=i.exports.Promise,we=K!==void 0?K:e.Promise;return typeof we=="function"?new we(Q):(Q(d,d),null)}var y=function(Q,K){return{transform:function(we){if(Q)return we;if(K.has(we))return K.get(we);var ze=new OffscreenCanvas(we.width,we.height),Ke=ze.getContext("2d");return Ke.drawImage(we,0,0),K.set(we,ze),ze},clear:function(){K.clear()}}}(h,new Map),b=function(){var Q=Math.floor(16.666666666666668),K,we,ze={},Ke=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(K=function(Pe){var We=Math.random();return ze[We]=requestAnimationFrame(function it(vt){Ke===vt||Ke+Q-1<vt?(Ke=vt,delete ze[We],Pe()):ze[We]=requestAnimationFrame(it)}),We},we=function(Pe){ze[Pe]&&cancelAnimationFrame(ze[Pe])}):(K=function(Pe){return setTimeout(Pe,Q)},we=function(Pe){return clearTimeout(Pe)}),{frame:K,cancel:we}}(),k=function(){var Q,K,we={};function ze(Ke){function Pe(We,it){Ke.postMessage({options:We||{},callback:it})}Ke.init=function(it){var vt=it.transferControlToOffscreen();Ke.postMessage({canvas:vt},[vt])},Ke.fire=function(it,vt,Lt){if(K)return Pe(it,null),K;var Re=Math.random().toString(36).slice(2);return K=m(function(Yt){function $t(Ri){Ri.data.callback===Re&&(delete we[Re],Ke.removeEventListener("message",$t),K=null,y.clear(),Lt(),Yt())}Ke.addEventListener("message",$t),Pe(it,Re),we[Re]=$t.bind(null,{data:{callback:Re}})}),K},Ke.reset=function(){Ke.postMessage({reset:!0});for(var it in we)we[it](),delete we[it]}}return function(){if(Q)return Q;if(!s&&l){var Ke=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Q=new Worker(URL.createObjectURL(new Blob([Ke])))}catch(Pe){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",Pe),null}ze(Q)}return Q}}(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function E(Q,K){return K?K(Q):Q}function O(Q){return Q!=null}function L(Q,K,we){return E(Q&&O(Q[K])?Q[K]:x[K],we)}function D(Q){return Q<0?0:Math.floor(Q)}function u(Q,K){return Math.floor(Math.random()*(K-Q))+Q}function T(Q){return parseInt(Q,16)}function g(Q){return Q.map(S)}function S(Q){var K=String(Q).replace(/[^0-9a-f]/gi,"");return K.length<6&&(K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2]),{r:T(K.substring(0,2)),g:T(K.substring(2,4)),b:T(K.substring(4,6))}}function C(Q){var K=L(Q,"origin",Object);return K.x=L(K,"x",Number),K.y=L(K,"y",Number),K}function P(Q){Q.width=document.documentElement.clientWidth,Q.height=document.documentElement.clientHeight}function I(Q){var K=Q.getBoundingClientRect();Q.width=K.width,Q.height=K.height}function U(Q){var K=document.createElement("canvas");return K.style.position="fixed",K.style.top="0px",K.style.left="0px",K.style.pointerEvents="none",K.style.zIndex=Q,K}function z(Q,K,we,ze,Ke,Pe,We,it,vt){Q.save(),Q.translate(K,we),Q.rotate(Pe),Q.scale(ze,Ke),Q.arc(0,0,1,We,it,vt),Q.restore()}function f(Q){var K=Q.angle*(Math.PI/180),we=Q.spread*(Math.PI/180);return{x:Q.x,y:Q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Q.startVelocity*.5+Math.random()*Q.startVelocity,angle2D:-K+(.5*we-Math.random()*we),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Q.color,shape:Q.shape,tick:0,totalTicks:Q.ticks,decay:Q.decay,drift:Q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Q.gravity*3,ovalScalar:.6,scalar:Q.scalar,flat:Q.flat}}function w(Q,K){K.x+=Math.cos(K.angle2D)*K.velocity+K.drift,K.y+=Math.sin(K.angle2D)*K.velocity+K.gravity,K.velocity*=K.decay,K.flat?(K.wobble=0,K.wobbleX=K.x+10*K.scalar,K.wobbleY=K.y+10*K.scalar,K.tiltSin=0,K.tiltCos=0,K.random=1):(K.wobble+=K.wobbleSpeed,K.wobbleX=K.x+10*K.scalar*Math.cos(K.wobble),K.wobbleY=K.y+10*K.scalar*Math.sin(K.wobble),K.tiltAngle+=.1,K.tiltSin=Math.sin(K.tiltAngle),K.tiltCos=Math.cos(K.tiltAngle),K.random=Math.random()+2);var we=K.tick++/K.totalTicks,ze=K.x+K.random*K.tiltCos,Ke=K.y+K.random*K.tiltSin,Pe=K.wobbleX+K.random*K.tiltCos,We=K.wobbleY+K.random*K.tiltSin;if(Q.fillStyle="rgba("+K.color.r+", "+K.color.g+", "+K.color.b+", "+(1-we)+")",Q.beginPath(),a&&K.shape.type==="path"&&typeof K.shape.path=="string"&&Array.isArray(K.shape.matrix))Q.fill($(K.shape.path,K.shape.matrix,K.x,K.y,Math.abs(Pe-ze)*.1,Math.abs(We-Ke)*.1,Math.PI/10*K.wobble));else if(K.shape.type==="bitmap"){var it=Math.PI/10*K.wobble,vt=Math.abs(Pe-ze)*.1,Lt=Math.abs(We-Ke)*.1,Re=K.shape.bitmap.width*K.scalar,Yt=K.shape.bitmap.height*K.scalar,$t=new DOMMatrix([Math.cos(it)*vt,Math.sin(it)*vt,-Math.sin(it)*Lt,Math.cos(it)*Lt,K.x,K.y]);$t.multiplySelf(new DOMMatrix(K.shape.matrix));var Ri=Q.createPattern(y.transform(K.shape.bitmap),"no-repeat");Ri.setTransform($t),Q.globalAlpha=1-we,Q.fillStyle=Ri,Q.fillRect(K.x-Re/2,K.y-Yt/2,Re,Yt),Q.globalAlpha=1}else if(K.shape==="circle")Q.ellipse?Q.ellipse(K.x,K.y,Math.abs(Pe-ze)*K.ovalScalar,Math.abs(We-Ke)*K.ovalScalar,Math.PI/10*K.wobble,0,2*Math.PI):z(Q,K.x,K.y,Math.abs(Pe-ze)*K.ovalScalar,Math.abs(We-Ke)*K.ovalScalar,Math.PI/10*K.wobble,0,2*Math.PI);else if(K.shape==="star")for(var nt=Math.PI/2*3,Si=4*K.scalar,Qi=8*K.scalar,Ji=K.x,bt=K.y,Wt=5,Gi=Math.PI/Wt;Wt--;)Ji=K.x+Math.cos(nt)*Qi,bt=K.y+Math.sin(nt)*Qi,Q.lineTo(Ji,bt),nt+=Gi,Ji=K.x+Math.cos(nt)*Si,bt=K.y+Math.sin(nt)*Si,Q.lineTo(Ji,bt),nt+=Gi;else Q.moveTo(Math.floor(K.x),Math.floor(K.y)),Q.lineTo(Math.floor(K.wobbleX),Math.floor(Ke)),Q.lineTo(Math.floor(Pe),Math.floor(We)),Q.lineTo(Math.floor(ze),Math.floor(K.wobbleY));return Q.closePath(),Q.fill(),K.tick<K.totalTicks}function A(Q,K,we,ze,Ke){var Pe=K.slice(),We=Q.getContext("2d"),it,vt,Lt=m(function(Re){function Yt(){it=vt=null,We.clearRect(0,0,ze.width,ze.height),y.clear(),Ke(),Re()}function $t(){s&&!(ze.width===n.width&&ze.height===n.height)&&(ze.width=Q.width=n.width,ze.height=Q.height=n.height),!ze.width&&!ze.height&&(we(Q),ze.width=Q.width,ze.height=Q.height),We.clearRect(0,0,ze.width,ze.height),Pe=Pe.filter(function(Ri){return w(We,Ri)}),Pe.length?it=b.frame($t):Yt()}it=b.frame($t),vt=Yt});return{addFettis:function(Re){return Pe=Pe.concat(Re),Lt},canvas:Q,promise:Lt,reset:function(){it&&b.cancel(it),vt&&vt()}}}function R(Q,K){var we=!Q,ze=!!L(K||{},"resize"),Ke=!1,Pe=L(K,"disableForReducedMotion",Boolean),We=l&&!!L(K||{},"useWorker"),it=We?k():null,vt=we?P:I,Lt=Q&&it?!!Q.__confetti_initialized:!1,Re=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Yt;function $t(nt,Si,Qi){for(var Ji=L(nt,"particleCount",D),bt=L(nt,"angle",Number),Wt=L(nt,"spread",Number),Gi=L(nt,"startVelocity",Number),jr=L(nt,"decay",Number),Zr=L(nt,"gravity",Number),Li=L(nt,"drift",Number),_r=L(nt,"colors",g),J=L(nt,"ticks",Number),pe=L(nt,"shapes"),ce=L(nt,"scalar"),Be=!!L(nt,"flat"),Ze=C(nt),Qe=Ji,Pt=[],Zt=Q.width*Ze.x,oi=Q.height*Ze.y;Qe--;)Pt.push(f({x:Zt,y:oi,angle:bt,spread:Wt,startVelocity:Gi,color:_r[Qe%_r.length],shape:pe[u(0,pe.length)],ticks:J,decay:jr,gravity:Zr,drift:Li,scalar:ce,flat:Be}));return Yt?Yt.addFettis(Pt):(Yt=A(Q,Pt,vt,Si,Qi),Yt.promise)}function Ri(nt){var Si=Pe||L(nt,"disableForReducedMotion",Boolean),Qi=L(nt,"zIndex",Number);if(Si&&Re)return m(function(Gi){Gi()});we&&Yt?Q=Yt.canvas:we&&!Q&&(Q=U(Qi),document.body.appendChild(Q)),ze&&!Lt&&vt(Q);var Ji={width:Q.width,height:Q.height};it&&!Lt&&it.init(Q),Lt=!0,it&&(Q.__confetti_initialized=!0);function bt(){if(it){var Gi={getBoundingClientRect:function(){if(!we)return Q.getBoundingClientRect()}};vt(Gi),it.postMessage({resize:{width:Gi.width,height:Gi.height}});return}Ji.width=Ji.height=null}function Wt(){Yt=null,ze&&(Ke=!1,e.removeEventListener("resize",bt)),we&&Q&&(document.body.contains(Q)&&document.body.removeChild(Q),Q=null,Lt=!1)}return ze&&!Ke&&(Ke=!0,e.addEventListener("resize",bt,!1)),it?it.fire(nt,Ji,Wt):$t(nt,Ji,Wt)}return Ri.reset=function(){it&&it.reset(),Yt&&Yt.reset()},Ri}var B;function W(){return B||(B=R(null,{useWorker:!0,resize:!0})),B}function $(Q,K,we,ze,Ke,Pe,We){var it=new Path2D(Q),vt=new Path2D;vt.addPath(it,new DOMMatrix(K));var Lt=new Path2D;return Lt.addPath(vt,new DOMMatrix([Math.cos(We)*Ke,Math.sin(We)*Ke,-Math.sin(We)*Pe,Math.cos(We)*Pe,we,ze])),Lt}function G(Q){if(!a)throw new Error("path confetti are not supported in this browser");var K,we;typeof Q=="string"?K=Q:(K=Q.path,we=Q.matrix);var ze=new Path2D(K),Ke=document.createElement("canvas"),Pe=Ke.getContext("2d");if(!we){for(var We=1e3,it=We,vt=We,Lt=0,Re=0,Yt,$t,Ri=0;Ri<We;Ri+=2)for(var nt=0;nt<We;nt+=2)Pe.isPointInPath(ze,Ri,nt,"nonzero")&&(it=Math.min(it,Ri),vt=Math.min(vt,nt),Lt=Math.max(Lt,Ri),Re=Math.max(Re,nt));Yt=Lt-it,$t=Re-vt;var Si=10,Qi=Math.min(Si/Yt,Si/$t);we=[Qi,0,0,Qi,-Math.round(Yt/2+it)*Qi,-Math.round($t/2+vt)*Qi]}return{type:"path",path:K,matrix:we}}function ue(Q){var K,we=1,ze="#000000",Ke='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Q=="string"?K=Q:(K=Q.text,we="scalar"in Q?Q.scalar:we,Ke="fontFamily"in Q?Q.fontFamily:Ke,ze="color"in Q?Q.color:ze);var Pe=10*we,We=""+Pe+"px "+Ke,it=new OffscreenCanvas(Pe,Pe),vt=it.getContext("2d");vt.font=We;var Lt=vt.measureText(K),Re=Math.ceil(Lt.actualBoundingBoxRight+Lt.actualBoundingBoxLeft),Yt=Math.ceil(Lt.actualBoundingBoxAscent+Lt.actualBoundingBoxDescent),$t=2,Ri=Lt.actualBoundingBoxLeft+$t,nt=Lt.actualBoundingBoxAscent+$t;Re+=$t+$t,Yt+=$t+$t,it=new OffscreenCanvas(Re,Yt),vt=it.getContext("2d"),vt.font=We,vt.fillStyle=ze,vt.fillText(K,Ri,nt);var Si=1/we;return{type:"bitmap",bitmap:it.transferToImageBitmap(),matrix:[Si,0,0,Si,-Re*Si/2,-Yt*Si/2]}}i.exports=function(){return W().apply(this,arguments)},i.exports.reset=function(){W().reset()},i.exports.create=R,i.exports.shapeFromPath=G,i.exports.shapeFromText=ue})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),ZS,!1);const SG=ZS.exports;ZS.exports.create;var mL={},gL;function TG(){if(gL)return mL;gL=1,(()=>{var t=Object.create,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,a=(r,o)=>e(r,"name",{value:o,configurable:!0}),h=(r,o)=>()=>(o||r((o={exports:{}}).exports,o),o.exports),d=(r,o)=>{for(var c in o)e(r,c,{get:o[c],enumerable:!0})},m=(r,o,c,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let _ of s(o))!l.call(r,_)&&_!==c&&e(r,_,{get:()=>o[_],enumerable:!(p=i(o,_))||p.enumerable});return r},y=(r,o,c)=>(c=r!=null?t(n(r)):{},m(o||!r||!r.__esModule?e(c,"default",{value:r,enumerable:!0}):c,r)),b=h((r,o)=>{o.exports=a(function(){var c={},p=c._fns={};c.emit=a(function(F,N,Y,re,X,oe,fe){var Te=_(F);Te.length&&M(F,Te,[N,Y,re,X,oe,fe])},"emit"),c.on=a(function(F,N){p[F]||(p[F]=[]),p[F].push(N)},"on"),c.once=a(function(F,N){function Y(){N.apply(this,arguments),c.off(F,Y)}a(Y,"one"),this.on(F,Y)},"once"),c.off=a(function(F,N){var Y=[];if(F&&N){var re=this._fns[F],X=0,oe=re?re.length:0;for(X;X<oe;X++)re[X]!==N&&Y.push(re[X])}Y.length?this._fns[F]=Y:delete this._fns[F]},"off");function _(F){var N=p[F]?p[F]:[],Y=F.indexOf(":"),re=Y===-1?[F]:[F.substring(0,Y),F.substring(Y+1)],X=Object.keys(p),oe=0,fe=X.length;for(oe;oe<fe;oe++){var Te=X[oe];if(Te==="*"&&(N=N.concat(p[Te])),re.length===2&&re[0]===Te){N=N.concat(p[Te]);break}}return N}a(_,"getListeners");function M(F,N,Y){var re=0,X=N.length;for(re;re<X&&N[re];re++)N[re].event=F,N[re].apply(N[re],Y)}return a(M,"emitAll"),c},"createNamespaceEmitter")}),k=h((r,o)=>{var c="Expected a function",p=NaN,_="[object Symbol]",M=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,re=parseInt,X=typeof un=="object"&&un&&un.Object===Object&&un,oe=typeof self=="object"&&self&&self.Object===Object&&self,fe=X||oe||Function("return this")(),Te=Object.prototype,Ye=Te.toString,Nt=Math.max,Et=Math.min,Qt=a(function(){return fe.Date.now()},"now");function Fi(xt,zt,mi){var bi,lr,Pr,xr,It,kr,yn=0,Kr=!1,Xs=!1,Xt=!0;if(typeof xt!="function")throw new TypeError(c);zt=Ue(zt)||0,pt(mi)&&(Kr=!!mi.leading,Xs="maxWait"in mi,Pr=Xs?Nt(Ue(mi.maxWait)||0,zt):Pr,Xt="trailing"in mi?!!mi.trailing:Xt);function ct(Ci){var ar=bi,zs=lr;return bi=lr=void 0,yn=Ci,xr=xt.apply(zs,ar),xr}a(ct,"invokeFunc");function At(Ci){return yn=Ci,It=setTimeout(Xi,zt),Kr?ct(Ci):xr}a(At,"leadingEdge");function Bt(Ci){var ar=Ci-kr,zs=Ci-yn,Ki=zt-ar;return Xs?Et(Ki,Pr-zs):Ki}a(Bt,"remainingWait");function Jt(Ci){var ar=Ci-kr,zs=Ci-yn;return kr===void 0||ar>=zt||ar<0||Xs&&zs>=Pr}a(Jt,"shouldInvoke");function Xi(){var Ci=Qt();if(Jt(Ci))return es(Ci);It=setTimeout(Xi,Bt(Ci))}a(Xi,"timerExpired");function es(Ci){return It=void 0,Xt&&bi?ct(Ci):(bi=lr=void 0,xr)}a(es,"trailingEdge");function Hi(){It!==void 0&&clearTimeout(It),yn=0,bi=kr=lr=It=void 0}a(Hi,"cancel");function Er(){return It===void 0?xr:es(Qt())}a(Er,"flush");function xi(){var Ci=Qt(),ar=Jt(Ci);if(bi=arguments,lr=this,kr=Ci,ar){if(It===void 0)return At(kr);if(Xs)return It=setTimeout(Xi,zt),ct(kr)}return It===void 0&&(It=setTimeout(Xi,zt)),xr}return a(xi,"debounced"),xi.cancel=Hi,xi.flush=Er,xi}a(Fi,"debounce");function ai(xt,zt,mi){var bi=!0,lr=!0;if(typeof xt!="function")throw new TypeError(c);return pt(mi)&&(bi="leading"in mi?!!mi.leading:bi,lr="trailing"in mi?!!mi.trailing:lr),Fi(xt,zt,{leading:bi,maxWait:zt,trailing:lr})}a(ai,"throttle");function pt(xt){var zt=typeof xt;return!!xt&&(zt=="object"||zt=="function")}a(pt,"isObject");function wt(xt){return!!xt&&typeof xt=="object"}a(wt,"isObjectLike");function yt(xt){return typeof xt=="symbol"||wt(xt)&&Ye.call(xt)==_}a(yt,"isSymbol");function Ue(xt){if(typeof xt=="number")return xt;if(yt(xt))return p;if(pt(xt)){var zt=typeof xt.valueOf=="function"?xt.valueOf():xt;xt=pt(zt)?zt+"":zt}if(typeof xt!="string")return xt===0?xt:+xt;xt=xt.replace(M,"");var mi=N.test(xt);return mi||Y.test(xt)?re(xt.slice(2),mi?2:8):F.test(xt)?p:+xt}a(Ue,"toNumber"),o.exports=ai}),x=h((r,o)=>{o.exports=a(function(c){if(typeof c!="number"||isNaN(c))throw new TypeError(`Expected a number, got ${typeof c}`);let p=c<0,_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(p&&(c=-c),c<1)return`${(p?"-":"")+c} B`;let M=Math.min(Math.floor(Math.log(c)/Math.log(1024)),_.length-1);c=Number(c/Math.pow(1024,M));let F=_[M];return c>=10||c%1===0?`${(p?"-":"")+c.toFixed(0)} ${F}`:`${(p?"-":"")+c.toFixed(1)} ${F}`},"prettierBytes")}),E=h((r,o)=>{function c(p,_){this.text=p=p||"",this.hasWild=~p.indexOf("*"),this.separator=_,this.parts=p.split(_)}a(c,"WildcardMatcher"),c.prototype.match=function(p){var _=!0,M=this.parts,F,N=M.length,Y;if(typeof p=="string"||p instanceof String)if(!this.hasWild&&this.text!=p)_=!1;else{for(Y=(p||"").split(this.separator),F=0;_&&F<N;F++)M[F]!=="*"&&(F<Y.length?_=M[F]===Y[F]:_=!1);_=_&&Y}else if(typeof p.splice=="function")for(_=[],F=p.length;F--;)this.match(p[F])&&(_[_.length]=p[F]);else if(typeof p=="object"){_={};for(var re in p)this.match(re)&&(_[re]=p[re])}return _},o.exports=function(p,_,M){var F=new c(p,M||/[\/\.]/);return typeof _<"u"?F.match(_):F}}),O=h((r,o)=>{var c=E(),p=/[\/\+\.]/;o.exports=function(_,M){function F(N){var Y=c(N,_,p);return Y&&Y.length>=2}return a(F,"test"),M?F(M.split(";")[0]):F}}),L=h((r,o)=>{(function(){var c={}.hasOwnProperty;function p(){for(var _=[],M=0;M<arguments.length;M++){var F=arguments[M];if(F){var N=typeof F;if(N==="string"||N==="number")_.push(F);else if(Array.isArray(F)){if(F.length){var Y=p.apply(null,F);Y&&_.push(Y)}}else if(N==="object")if(F.toString===Object.prototype.toString)for(var re in F)c.call(F,re)&&F[re]&&_.push(re);else _.push(F.toString())}}return _.join(" ")}a(p,"classNames"),typeof o<"u"&&o.exports?(p.default=p,o.exports=p):window.classNames=p})()}),D=h((r,o)=>{var c="Expected a function",p=NaN,_="[object Symbol]",M=/^\s+|\s+$/g,F=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,re=parseInt,X=typeof un=="object"&&un&&un.Object===Object&&un,oe=typeof self=="object"&&self&&self.Object===Object&&self,fe=X||oe||Function("return this")(),Te=Object.prototype,Ye=Te.toString,Nt=Math.max,Et=Math.min,Qt=a(function(){return fe.Date.now()},"now");function Fi(Ue,xt,zt){var mi,bi,lr,Pr,xr,It,kr=0,yn=!1,Kr=!1,Xs=!0;if(typeof Ue!="function")throw new TypeError(c);xt=yt(xt)||0,ai(zt)&&(yn=!!zt.leading,Kr="maxWait"in zt,lr=Kr?Nt(yt(zt.maxWait)||0,xt):lr,Xs="trailing"in zt?!!zt.trailing:Xs);function Xt(xi){var Ci=mi,ar=bi;return mi=bi=void 0,kr=xi,Pr=Ue.apply(ar,Ci),Pr}a(Xt,"invokeFunc");function ct(xi){return kr=xi,xr=setTimeout(Jt,xt),yn?Xt(xi):Pr}a(ct,"leadingEdge");function At(xi){var Ci=xi-It,ar=xi-kr,zs=xt-Ci;return Kr?Et(zs,lr-ar):zs}a(At,"remainingWait");function Bt(xi){var Ci=xi-It,ar=xi-kr;return It===void 0||Ci>=xt||Ci<0||Kr&&ar>=lr}a(Bt,"shouldInvoke");function Jt(){var xi=Qt();if(Bt(xi))return Xi(xi);xr=setTimeout(Jt,At(xi))}a(Jt,"timerExpired");function Xi(xi){return xr=void 0,Xs&&mi?Xt(xi):(mi=bi=void 0,Pr)}a(Xi,"trailingEdge");function es(){xr!==void 0&&clearTimeout(xr),kr=0,mi=It=bi=xr=void 0}a(es,"cancel");function Hi(){return xr===void 0?Pr:Xi(Qt())}a(Hi,"flush");function Er(){var xi=Qt(),Ci=Bt(xi);if(mi=arguments,bi=this,It=xi,Ci){if(xr===void 0)return ct(It);if(Kr)return xr=setTimeout(Jt,xt),Xt(It)}return xr===void 0&&(xr=setTimeout(Jt,xt)),Pr}return a(Er,"debounced"),Er.cancel=es,Er.flush=Hi,Er}a(Fi,"debounce");function ai(Ue){var xt=typeof Ue;return!!Ue&&(xt=="object"||xt=="function")}a(ai,"isObject");function pt(Ue){return!!Ue&&typeof Ue=="object"}a(pt,"isObjectLike");function wt(Ue){return typeof Ue=="symbol"||pt(Ue)&&Ye.call(Ue)==_}a(wt,"isSymbol");function yt(Ue){if(typeof Ue=="number")return Ue;if(wt(Ue))return p;if(ai(Ue)){var xt=typeof Ue.valueOf=="function"?Ue.valueOf():Ue;Ue=ai(xt)?xt+"":xt}if(typeof Ue!="string")return Ue===0?Ue:+Ue;Ue=Ue.replace(M,"");var zt=N.test(Ue);return zt||Y.test(Ue)?re(Ue.slice(2),zt?2:8):F.test(Ue)?p:+Ue}a(yt,"toNumber"),o.exports=Fi}),u=h((r,o)=>{o.exports=a(function(c,p){if(c===p)return!0;for(var _ in c)if(!(_ in p))return!1;for(var _ in p)if(c[_]!==p[_])return!1;return!0},"isShallowEqual")}),T=h((r,o)=>{o.exports=a(function(c){if(typeof c!="number"||isNaN(c))throw new TypeError("Expected a number, got "+typeof c);var p=c<0,_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(p&&(c=-c),c<1)return(p?"-":"")+c+" B";var M=Math.min(Math.floor(Math.log(c)/Math.log(1024)),_.length-1);c=Number(c/Math.pow(1024,M));var F=_[M];return c>=10||c%1===0?(p?"-":"")+c.toFixed(0)+" "+F:(p?"-":"")+c.toFixed(1)+" "+F},"prettierBytes")}),g=h((r,o)=>{(function(c,p){typeof r=="object"&&typeof o<"u"?o.exports=p():(c=c||self,c.Cropper=p())})(r,function(){function c(Z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=a(function(te){return typeof te},"_typeof"):c=a(function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},"_typeof"),c(Z)}a(c,"_typeof");function p(Z,te){if(!(Z instanceof te))throw new TypeError("Cannot call a class as a function")}a(p,"_classCallCheck");function _(Z,te){for(var ee=0;ee<te.length;ee++){var me=te[ee];me.enumerable=me.enumerable||!1,me.configurable=!0,"value"in me&&(me.writable=!0),Object.defineProperty(Z,me.key,me)}}a(_,"_defineProperties");function M(Z,te,ee){return te&&_(Z.prototype,te),ee&&_(Z,ee),Z}a(M,"_createClass");function F(Z,te,ee){return te in Z?Object.defineProperty(Z,te,{value:ee,enumerable:!0,configurable:!0,writable:!0}):Z[te]=ee,Z}a(F,"_defineProperty");function N(Z,te){var ee=Object.keys(Z);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(Z);te&&(me=me.filter(function(ge){return Object.getOwnPropertyDescriptor(Z,ge).enumerable})),ee.push.apply(ee,me)}return ee}a(N,"ownKeys");function Y(Z){for(var te=1;te<arguments.length;te++){var ee=arguments[te]!=null?arguments[te]:{};te%2?N(Object(ee),!0).forEach(function(me){F(Z,me,ee[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Z,Object.getOwnPropertyDescriptors(ee)):N(Object(ee)).forEach(function(me){Object.defineProperty(Z,me,Object.getOwnPropertyDescriptor(ee,me))})}return Z}a(Y,"_objectSpread2");function re(Z){return X(Z)||oe(Z)||fe(Z)||Ye()}a(re,"_toConsumableArray");function X(Z){if(Array.isArray(Z))return Te(Z)}a(X,"_arrayWithoutHoles");function oe(Z){if(typeof Symbol<"u"&&Symbol.iterator in Object(Z))return Array.from(Z)}a(oe,"_iterableToArray");function fe(Z,te){if(Z){if(typeof Z=="string")return Te(Z,te);var ee=Object.prototype.toString.call(Z).slice(8,-1);if(ee==="Object"&&Z.constructor&&(ee=Z.constructor.name),ee==="Map"||ee==="Set")return Array.from(Z);if(ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ee))return Te(Z,te)}}a(fe,"_unsupportedIterableToArray");function Te(Z,te){(te==null||te>Z.length)&&(te=Z.length);for(var ee=0,me=new Array(te);ee<te;ee++)me[ee]=Z[ee];return me}a(Te,"_arrayLikeToArray");function Ye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(Ye,"_nonIterableSpread");var Nt=typeof window<"u"&&typeof window.document<"u",Et=Nt?window:{},Qt=Nt&&Et.document.documentElement?"ontouchstart"in Et.document.documentElement:!1,Fi=Nt?"PointerEvent"in Et:!1,ai="cropper",pt="all",wt="crop",yt="move",Ue="zoom",xt="e",zt="w",mi="s",bi="n",lr="ne",Pr="nw",xr="se",It="sw",kr="".concat(ai,"-crop"),yn="".concat(ai,"-disabled"),Kr="".concat(ai,"-hidden"),Xs="".concat(ai,"-hide"),Xt="".concat(ai,"-invisible"),ct="".concat(ai,"-modal"),At="".concat(ai,"-move"),Bt="".concat(ai,"Action"),Jt="".concat(ai,"Preview"),Xi="crop",es="move",Hi="none",Er="crop",xi="cropend",Ci="cropmove",ar="cropstart",zs="dblclick",Ki=Qt?"touchstart":"mousedown",Ms=Qt?"touchmove":"mousemove",an=Qt?"touchend touchcancel":"mouseup",lo=Fi?"pointerdown":Ki,Do=Fi?"pointermove":Ms,oc=Fi?"pointerup pointercancel":an,lc="ready",cc="resize",hc="wheel",Lo="zoom",Us="image/jpeg",Ks=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Ty=/^data:/,Cy=/^data:image\/jpeg;base64,/,Ey=/^img|canvas$/i,vp={viewMode:0,dragMode:Xi,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Oy='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',My=Number.isNaN||Et.isNaN;function sr(Z){return typeof Z=="number"&&!My(Z)}a(sr,"isNumber");var bp=a(function(Z){return Z>0&&Z<1/0},"isPositiveNumber");function _h(Z){return typeof Z>"u"}a(_h,"isUndefined");function Ro(Z){return c(Z)==="object"&&Z!==null}a(Ro,"isObject");var I1=Object.prototype.hasOwnProperty;function Tl(Z){if(!Ro(Z))return!1;try{var te=Z.constructor,ee=te.prototype;return te&&ee&&I1.call(ee,"isPrototypeOf")}catch{return!1}}a(Tl,"isPlainObject");function on(Z){return typeof Z=="function"}a(on,"isFunction");var _p=Array.prototype.slice;function Bu(Z){return Array.from?Array.from(Z):_p.call(Z)}a(Bu,"toArray");function cs(Z,te){return Z&&on(te)&&(Array.isArray(Z)||sr(Z.length)?Bu(Z).forEach(function(ee,me){te.call(Z,ee,me,Z)}):Ro(Z)&&Object.keys(Z).forEach(function(ee){te.call(Z,Z[ee],ee,Z)})),Z}a(cs,"forEach");var $r=Object.assign||a(function(Z){for(var te=arguments.length,ee=new Array(te>1?te-1:0),me=1;me<te;me++)ee[me-1]=arguments[me];return Ro(Z)&&ee.length>0&&ee.forEach(function(ge){Ro(ge)&&Object.keys(ge).forEach(function(Me){Z[Me]=ge[Me]})}),Z},"assign"),wp=/\.\d*(?:0|9){12}\d*$/;function Fo(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return wp.test(Z)?Math.round(Z*te)/te:Z}a(Fo,"normalizeDecimalNumber");var Ay=/^width|height|left|top|marginLeft|marginTop$/;function La(Z,te){var ee=Z.style;cs(te,function(me,ge){Ay.test(ge)&&sr(me)&&(me="".concat(me,"px")),ee[ge]=me})}a(La,"setStyle");function xp(Z,te){return Z.classList?Z.classList.contains(te):Z.className.indexOf(te)>-1}a(xp,"hasClass");function Ss(Z,te){if(te){if(sr(Z.length)){cs(Z,function(me){Ss(me,te)});return}if(Z.classList){Z.classList.add(te);return}var ee=Z.className.trim();ee?ee.indexOf(te)<0&&(Z.className="".concat(ee," ").concat(te)):Z.className=te}}a(Ss,"addClass");function co(Z,te){if(te){if(sr(Z.length)){cs(Z,function(ee){co(ee,te)});return}if(Z.classList){Z.classList.remove(te);return}Z.className.indexOf(te)>=0&&(Z.className=Z.className.replace(te,""))}}a(co,"removeClass");function wh(Z,te,ee){if(te){if(sr(Z.length)){cs(Z,function(me){wh(me,te,ee)});return}ee?Ss(Z,te):co(Z,te)}}a(wh,"toggleClass");var GH=/([a-z\d])([A-Z])/g;function Py(Z){return Z.replace(GH,"$1-$2").toLowerCase()}a(Py,"toParamCase");function Dy(Z,te){return Ro(Z[te])?Z[te]:Z.dataset?Z.dataset[te]:Z.getAttribute("data-".concat(Py(te)))}a(Dy,"getData");function Nu(Z,te,ee){Ro(ee)?Z[te]=ee:Z.dataset?Z.dataset[te]=ee:Z.setAttribute("data-".concat(Py(te)),ee)}a(Nu,"setData");function pD(Z,te){if(Ro(Z[te]))try{delete Z[te]}catch{Z[te]=void 0}else if(Z.dataset)try{delete Z.dataset[te]}catch{Z.dataset[te]=void 0}else Z.removeAttribute("data-".concat(Py(te)))}a(pD,"removeData");var mD=/\s\s*/,gD=function(){var Z=!1;if(Nt){var te=!1,ee=a(function(){},"listener"),me=Object.defineProperty({},"once",{get:a(function(){return Z=!0,te},"get"),set:a(function(ge){te=ge},"set")});Et.addEventListener("test",ee,me),Et.removeEventListener("test",ee,me)}return Z}();function Ra(Z,te,ee){var me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ge=ee;te.trim().split(mD).forEach(function(Me){if(!gD){var et=Z.listeners;et&&et[Me]&&et[Me][ee]&&(ge=et[Me][ee],delete et[Me][ee],Object.keys(et[Me]).length===0&&delete et[Me],Object.keys(et).length===0&&delete Z.listeners)}Z.removeEventListener(Me,ge,me)})}a(Ra,"removeListener");function ba(Z,te,ee){var me=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ge=ee;te.trim().split(mD).forEach(function(Me){if(me.once&&!gD){var et=Z.listeners,dt=et===void 0?{}:et;ge=a(function(){delete dt[Me][ee],Z.removeEventListener(Me,ge,me);for(var kt=arguments.length,mt=new Array(kt),st=0;st<kt;st++)mt[st]=arguments[st];ee.apply(Z,mt)},"handler"),dt[Me]||(dt[Me]={}),dt[Me][ee]&&Z.removeEventListener(Me,dt[Me][ee],me),dt[Me][ee]=ge,Z.listeners=dt}Z.addEventListener(Me,ge,me)})}a(ba,"addListener");function xh(Z,te,ee){var me;return on(Event)&&on(CustomEvent)?me=new CustomEvent(te,{detail:ee,bubbles:!0,cancelable:!0}):(me=document.createEvent("CustomEvent"),me.initCustomEvent(te,!0,!0,ee)),Z.dispatchEvent(me)}a(xh,"dispatchEvent");function B1(Z){var te=Z.getBoundingClientRect();return{left:te.left+(window.pageXOffset-document.documentElement.clientLeft),top:te.top+(window.pageYOffset-document.documentElement.clientTop)}}a(B1,"getOffset");var N1=Et.location,XH=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function z1(Z){var te=Z.match(XH);return te!==null&&(te[1]!==N1.protocol||te[2]!==N1.hostname||te[3]!==N1.port)}a(z1,"isCrossOriginURL");function U1(Z){var te="timestamp=".concat(new Date().getTime());return Z+(Z.indexOf("?")===-1?"?":"&")+te}a(U1,"addTimestamp");function zu(Z){var te=Z.rotate,ee=Z.scaleX,me=Z.scaleY,ge=Z.translateX,Me=Z.translateY,et=[];sr(ge)&&ge!==0&&et.push("translateX(".concat(ge,"px)")),sr(Me)&&Me!==0&&et.push("translateY(".concat(Me,"px)")),sr(te)&&te!==0&&et.push("rotate(".concat(te,"deg)")),sr(ee)&&ee!==1&&et.push("scaleX(".concat(ee,")")),sr(me)&&me!==1&&et.push("scaleY(".concat(me,")"));var dt=et.length?et.join(" "):"none";return{WebkitTransform:dt,msTransform:dt,transform:dt}}a(zu,"getTransforms");function yD(Z){var te=Y({},Z),ee=[];return cs(Z,function(me,ge){delete te[ge],cs(te,function(Me){var et=Math.abs(me.startX-Me.startX),dt=Math.abs(me.startY-Me.startY),kt=Math.abs(me.endX-Me.endX),mt=Math.abs(me.endY-Me.endY),st=Math.sqrt(et*et+dt*dt),Ot=Math.sqrt(kt*kt+mt*mt),Or=(Ot-st)/st;ee.push(Or)})}),ee.sort(function(me,ge){return Math.abs(me)<Math.abs(ge)}),ee[0]}a(yD,"getMaxZoomRatio");function kp(Z,te){var ee=Z.pageX,me=Z.pageY,ge={endX:ee,endY:me};return te?ge:Y({startX:ee,startY:me},ge)}a(kp,"getPointer");function vD(Z){var te=0,ee=0,me=0;return cs(Z,function(ge){var Me=ge.startX,et=ge.startY;te+=Me,ee+=et,me+=1}),te/=me,ee/=me,{pageX:te,pageY:ee}}a(vD,"getPointersCenter");function Cl(Z){var te=Z.aspectRatio,ee=Z.height,me=Z.width,ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",Me=bp(me),et=bp(ee);if(Me&&et){var dt=ee*te;ge==="contain"&&dt>me||ge==="cover"&&dt<me?ee=me/te:me=ee*te}else Me?ee=me/te:et&&(me=ee*te);return{width:me,height:ee}}a(Cl,"getAdjustedSizes");function bD(Z){var te=Z.width,ee=Z.height,me=Z.degree;if(me=Math.abs(me)%180,me===90)return{width:ee,height:te};var ge=me%90*Math.PI/180,Me=Math.sin(ge),et=Math.cos(ge),dt=te*et+ee*Me,kt=te*Me+ee*et;return me>90?{width:kt,height:dt}:{width:dt,height:kt}}a(bD,"getRotatedSizes");function _D(Z,te,ee,me){var ge=te.aspectRatio,Me=te.naturalWidth,et=te.naturalHeight,dt=te.rotate,kt=dt===void 0?0:dt,mt=te.scaleX,st=mt===void 0?1:mt,Ot=te.scaleY,Or=Ot===void 0?1:Ot,cr=ee.aspectRatio,Vr=ee.naturalWidth,zr=ee.naturalHeight,As=me.fillColor,ln=As===void 0?"transparent":As,Ts=me.imageSmoothingEnabled,uc=Ts===void 0?!0:Ts,Qn=me.imageSmoothingQuality,Ut=Qn===void 0?"low":Qn,Dr=me.maxWidth,Ps=Dr===void 0?1/0:Dr,Io=me.maxHeight,El=Io===void 0?1/0:Io,kh=me.minWidth,Sh=kh===void 0?0:kh,dc=me.minHeight,fc=dc===void 0?0:dc,Th=document.createElement("canvas"),vn=Th.getContext("2d"),Ly=Cl({aspectRatio:cr,width:Ps,height:El}),OD=Cl({aspectRatio:cr,width:Sh,height:fc},"cover"),H1=Math.min(Ly.width,Math.max(OD.width,Vr)),W1=Math.min(Ly.height,Math.max(OD.height,zr)),MD=Cl({aspectRatio:ge,width:Ps,height:El}),AD=Cl({aspectRatio:ge,width:Sh,height:fc},"cover"),PD=Math.min(MD.width,Math.max(AD.width,Me)),DD=Math.min(MD.height,Math.max(AD.height,et)),sW=[-PD/2,-DD/2,PD,DD];return Th.width=Fo(H1),Th.height=Fo(W1),vn.fillStyle=ln,vn.fillRect(0,0,H1,W1),vn.save(),vn.translate(H1/2,W1/2),vn.rotate(kt*Math.PI/180),vn.scale(st,Or),vn.imageSmoothingEnabled=uc,vn.imageSmoothingQuality=Ut,vn.drawImage.apply(vn,[Z].concat(re(sW.map(function(nW){return Math.floor(Fo(nW))})))),vn.restore(),Th}a(_D,"getSourceCanvas");var wD=String.fromCharCode;function xD(Z,te,ee){var me="";ee+=te;for(var ge=te;ge<ee;ge+=1)me+=wD(Z.getUint8(ge));return me}a(xD,"getStringFromCharCode");var KH=/^data:.*,/;function kD(Z){var te=Z.replace(KH,""),ee=atob(te),me=new ArrayBuffer(ee.length),ge=new Uint8Array(me);return cs(ge,function(Me,et){ge[et]=ee.charCodeAt(et)}),me}a(kD,"dataURLToArrayBuffer");function SD(Z,te){for(var ee=[],me=8192,ge=new Uint8Array(Z);ge.length>0;)ee.push(wD.apply(null,Bu(ge.subarray(0,me)))),ge=ge.subarray(me);return"data:".concat(te,";base64,").concat(btoa(ee.join("")))}a(SD,"arrayBufferToDataURL");function TD(Z){var te=new DataView(Z),ee;try{var me,ge,Me;if(te.getUint8(0)===255&&te.getUint8(1)===216)for(var et=te.byteLength,dt=2;dt+1<et;){if(te.getUint8(dt)===255&&te.getUint8(dt+1)===225){ge=dt;break}dt+=1}if(ge){var kt=ge+4,mt=ge+10;if(xD(te,kt,4)==="Exif"){var st=te.getUint16(mt);if(me=st===18761,(me||st===19789)&&te.getUint16(mt+2,me)===42){var Ot=te.getUint32(mt+4,me);Ot>=8&&(Me=mt+Ot)}}}if(Me){var Or=te.getUint16(Me,me),cr,Vr;for(Vr=0;Vr<Or;Vr+=1)if(cr=Me+Vr*12+2,te.getUint16(cr,me)===274){cr+=8,ee=te.getUint16(cr,me),te.setUint16(cr,1,me);break}}}catch{ee=1}return ee}a(TD,"resetAndGetOrientation");function CD(Z){var te=0,ee=1,me=1;switch(Z){case 2:ee=-1;break;case 3:te=-180;break;case 4:me=-1;break;case 5:te=90,me=-1;break;case 6:te=90;break;case 7:te=90,ee=-1;break;case 8:te=-90;break}return{rotate:te,scaleX:ee,scaleY:me}}a(CD,"parseOrientation");var ZH={render:a(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"render"),initContainer:a(function(){var Z=this.element,te=this.options,ee=this.container,me=this.cropper;Ss(me,Kr),co(Z,Kr);var ge={width:Math.max(ee.offsetWidth,Number(te.minContainerWidth)||200),height:Math.max(ee.offsetHeight,Number(te.minContainerHeight)||100)};this.containerData=ge,La(me,{width:ge.width,height:ge.height}),Ss(Z,Kr),co(me,Kr)},"initContainer"),initCanvas:a(function(){var Z=this.containerData,te=this.imageData,ee=this.options.viewMode,me=Math.abs(te.rotate)%180===90,ge=me?te.naturalHeight:te.naturalWidth,Me=me?te.naturalWidth:te.naturalHeight,et=ge/Me,dt=Z.width,kt=Z.height;Z.height*et>Z.width?ee===3?dt=Z.height*et:kt=Z.width/et:ee===3?kt=Z.width/et:dt=Z.height*et;var mt={aspectRatio:et,naturalWidth:ge,naturalHeight:Me,width:dt,height:kt};mt.left=(Z.width-dt)/2,mt.top=(Z.height-kt)/2,mt.oldLeft=mt.left,mt.oldTop=mt.top,this.canvasData=mt,this.limited=ee===1||ee===2,this.limitCanvas(!0,!0),this.initialImageData=$r({},te),this.initialCanvasData=$r({},mt)},"initCanvas"),limitCanvas:a(function(Z,te){var ee=this.options,me=this.containerData,ge=this.canvasData,Me=this.cropBoxData,et=ee.viewMode,dt=ge.aspectRatio,kt=this.cropped&&Me;if(Z){var mt=Number(ee.minCanvasWidth)||0,st=Number(ee.minCanvasHeight)||0;et>1?(mt=Math.max(mt,me.width),st=Math.max(st,me.height),et===3&&(st*dt>mt?mt=st*dt:st=mt/dt)):et>0&&(mt?mt=Math.max(mt,kt?Me.width:0):st?st=Math.max(st,kt?Me.height:0):kt&&(mt=Me.width,st=Me.height,st*dt>mt?mt=st*dt:st=mt/dt));var Ot=Cl({aspectRatio:dt,width:mt,height:st});mt=Ot.width,st=Ot.height,ge.minWidth=mt,ge.minHeight=st,ge.maxWidth=1/0,ge.maxHeight=1/0}if(te)if(et>(kt?0:1)){var Or=me.width-ge.width,cr=me.height-ge.height;ge.minLeft=Math.min(0,Or),ge.minTop=Math.min(0,cr),ge.maxLeft=Math.max(0,Or),ge.maxTop=Math.max(0,cr),kt&&this.limited&&(ge.minLeft=Math.min(Me.left,Me.left+(Me.width-ge.width)),ge.minTop=Math.min(Me.top,Me.top+(Me.height-ge.height)),ge.maxLeft=Me.left,ge.maxTop=Me.top,et===2&&(ge.width>=me.width&&(ge.minLeft=Math.min(0,Or),ge.maxLeft=Math.max(0,Or)),ge.height>=me.height&&(ge.minTop=Math.min(0,cr),ge.maxTop=Math.max(0,cr))))}else ge.minLeft=-ge.width,ge.minTop=-ge.height,ge.maxLeft=me.width,ge.maxTop=me.height},"limitCanvas"),renderCanvas:a(function(Z,te){var ee=this.canvasData,me=this.imageData;if(te){var ge=bD({width:me.naturalWidth*Math.abs(me.scaleX||1),height:me.naturalHeight*Math.abs(me.scaleY||1),degree:me.rotate||0}),Me=ge.width,et=ge.height,dt=ee.width*(Me/ee.naturalWidth),kt=ee.height*(et/ee.naturalHeight);ee.left-=(dt-ee.width)/2,ee.top-=(kt-ee.height)/2,ee.width=dt,ee.height=kt,ee.aspectRatio=Me/et,ee.naturalWidth=Me,ee.naturalHeight=et,this.limitCanvas(!0,!1)}(ee.width>ee.maxWidth||ee.width<ee.minWidth)&&(ee.left=ee.oldLeft),(ee.height>ee.maxHeight||ee.height<ee.minHeight)&&(ee.top=ee.oldTop),ee.width=Math.min(Math.max(ee.width,ee.minWidth),ee.maxWidth),ee.height=Math.min(Math.max(ee.height,ee.minHeight),ee.maxHeight),this.limitCanvas(!1,!0),ee.left=Math.min(Math.max(ee.left,ee.minLeft),ee.maxLeft),ee.top=Math.min(Math.max(ee.top,ee.minTop),ee.maxTop),ee.oldLeft=ee.left,ee.oldTop=ee.top,La(this.canvas,$r({width:ee.width,height:ee.height},zu({translateX:ee.left,translateY:ee.top}))),this.renderImage(Z),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderCanvas"),renderImage:a(function(Z){var te=this.canvasData,ee=this.imageData,me=ee.naturalWidth*(te.width/te.naturalWidth),ge=ee.naturalHeight*(te.height/te.naturalHeight);$r(ee,{width:me,height:ge,left:(te.width-me)/2,top:(te.height-ge)/2}),La(this.image,$r({width:ee.width,height:ee.height},zu($r({translateX:ee.left,translateY:ee.top},ee)))),Z&&this.output()},"renderImage"),initCropBox:a(function(){var Z=this.options,te=this.canvasData,ee=Z.aspectRatio||Z.initialAspectRatio,me=Number(Z.autoCropArea)||.8,ge={width:te.width,height:te.height};ee&&(te.height*ee>te.width?ge.height=ge.width/ee:ge.width=ge.height*ee),this.cropBoxData=ge,this.limitCropBox(!0,!0),ge.width=Math.min(Math.max(ge.width,ge.minWidth),ge.maxWidth),ge.height=Math.min(Math.max(ge.height,ge.minHeight),ge.maxHeight),ge.width=Math.max(ge.minWidth,ge.width*me),ge.height=Math.max(ge.minHeight,ge.height*me),ge.left=te.left+(te.width-ge.width)/2,ge.top=te.top+(te.height-ge.height)/2,ge.oldLeft=ge.left,ge.oldTop=ge.top,this.initialCropBoxData=$r({},ge)},"initCropBox"),limitCropBox:a(function(Z,te){var ee=this.options,me=this.containerData,ge=this.canvasData,Me=this.cropBoxData,et=this.limited,dt=ee.aspectRatio;if(Z){var kt=Number(ee.minCropBoxWidth)||0,mt=Number(ee.minCropBoxHeight)||0,st=et?Math.min(me.width,ge.width,ge.width+ge.left,me.width-ge.left):me.width,Ot=et?Math.min(me.height,ge.height,ge.height+ge.top,me.height-ge.top):me.height;kt=Math.min(kt,me.width),mt=Math.min(mt,me.height),dt&&(kt&&mt?mt*dt>kt?mt=kt/dt:kt=mt*dt:kt?mt=kt/dt:mt&&(kt=mt*dt),Ot*dt>st?Ot=st/dt:st=Ot*dt),Me.minWidth=Math.min(kt,st),Me.minHeight=Math.min(mt,Ot),Me.maxWidth=st,Me.maxHeight=Ot}te&&(et?(Me.minLeft=Math.max(0,ge.left),Me.minTop=Math.max(0,ge.top),Me.maxLeft=Math.min(me.width,ge.left+ge.width)-Me.width,Me.maxTop=Math.min(me.height,ge.top+ge.height)-Me.height):(Me.minLeft=0,Me.minTop=0,Me.maxLeft=me.width-Me.width,Me.maxTop=me.height-Me.height))},"limitCropBox"),renderCropBox:a(function(){var Z=this.options,te=this.containerData,ee=this.cropBoxData;(ee.width>ee.maxWidth||ee.width<ee.minWidth)&&(ee.left=ee.oldLeft),(ee.height>ee.maxHeight||ee.height<ee.minHeight)&&(ee.top=ee.oldTop),ee.width=Math.min(Math.max(ee.width,ee.minWidth),ee.maxWidth),ee.height=Math.min(Math.max(ee.height,ee.minHeight),ee.maxHeight),this.limitCropBox(!1,!0),ee.left=Math.min(Math.max(ee.left,ee.minLeft),ee.maxLeft),ee.top=Math.min(Math.max(ee.top,ee.minTop),ee.maxTop),ee.oldLeft=ee.left,ee.oldTop=ee.top,Z.movable&&Z.cropBoxMovable&&Nu(this.face,Bt,ee.width>=te.width&&ee.height>=te.height?yt:pt),La(this.cropBox,$r({width:ee.width,height:ee.height},zu({translateX:ee.left,translateY:ee.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"renderCropBox"),output:a(function(){this.preview(),xh(this.element,Er,this.getData())},"output")},QH={initPreview:a(function(){var Z=this.element,te=this.crossOrigin,ee=this.options.preview,me=te?this.crossOriginUrl:this.url,ge=Z.alt||"The image to preview",Me=document.createElement("img");if(te&&(Me.crossOrigin=te),Me.src=me,Me.alt=ge,this.viewBox.appendChild(Me),this.viewBoxImage=Me,!!ee){var et=ee;typeof ee=="string"?et=Z.ownerDocument.querySelectorAll(ee):ee.querySelector&&(et=[ee]),this.previews=et,cs(et,function(dt){var kt=document.createElement("img");Nu(dt,Jt,{width:dt.offsetWidth,height:dt.offsetHeight,html:dt.innerHTML}),te&&(kt.crossOrigin=te),kt.src=me,kt.alt=ge,kt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',dt.innerHTML="",dt.appendChild(kt)})}},"initPreview"),resetPreview:a(function(){cs(this.previews,function(Z){var te=Dy(Z,Jt);La(Z,{width:te.width,height:te.height}),Z.innerHTML=te.html,pD(Z,Jt)})},"resetPreview"),preview:a(function(){var Z=this.imageData,te=this.canvasData,ee=this.cropBoxData,me=ee.width,ge=ee.height,Me=Z.width,et=Z.height,dt=ee.left-te.left-Z.left,kt=ee.top-te.top-Z.top;!this.cropped||this.disabled||(La(this.viewBoxImage,$r({width:Me,height:et},zu($r({translateX:-dt,translateY:-kt},Z)))),cs(this.previews,function(mt){var st=Dy(mt,Jt),Ot=st.width,Or=st.height,cr=Ot,Vr=Or,zr=1;me&&(zr=Ot/me,Vr=ge*zr),ge&&Vr>Or&&(zr=Or/ge,cr=me*zr,Vr=Or),La(mt,{width:cr,height:Vr}),La(mt.getElementsByTagName("img")[0],$r({width:Me*zr,height:et*zr},zu($r({translateX:-dt*zr,translateY:-kt*zr},Z))))}))},"preview")},JH={bind:a(function(){var Z=this.element,te=this.options,ee=this.cropper;on(te.cropstart)&&ba(Z,ar,te.cropstart),on(te.cropmove)&&ba(Z,Ci,te.cropmove),on(te.cropend)&&ba(Z,xi,te.cropend),on(te.crop)&&ba(Z,Er,te.crop),on(te.zoom)&&ba(Z,Lo,te.zoom),ba(ee,lo,this.onCropStart=this.cropStart.bind(this)),te.zoomable&&te.zoomOnWheel&&ba(ee,hc,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),te.toggleDragModeOnDblclick&&ba(ee,zs,this.onDblclick=this.dblclick.bind(this)),ba(Z.ownerDocument,Do,this.onCropMove=this.cropMove.bind(this)),ba(Z.ownerDocument,oc,this.onCropEnd=this.cropEnd.bind(this)),te.responsive&&ba(window,cc,this.onResize=this.resize.bind(this))},"bind"),unbind:a(function(){var Z=this.element,te=this.options,ee=this.cropper;on(te.cropstart)&&Ra(Z,ar,te.cropstart),on(te.cropmove)&&Ra(Z,Ci,te.cropmove),on(te.cropend)&&Ra(Z,xi,te.cropend),on(te.crop)&&Ra(Z,Er,te.crop),on(te.zoom)&&Ra(Z,Lo,te.zoom),Ra(ee,lo,this.onCropStart),te.zoomable&&te.zoomOnWheel&&Ra(ee,hc,this.onWheel,{passive:!1,capture:!0}),te.toggleDragModeOnDblclick&&Ra(ee,zs,this.onDblclick),Ra(Z.ownerDocument,Do,this.onCropMove),Ra(Z.ownerDocument,oc,this.onCropEnd),te.responsive&&Ra(window,cc,this.onResize)},"unbind")},eW={resize:a(function(){if(!this.disabled){var Z=this.options,te=this.container,ee=this.containerData,me=te.offsetWidth/ee.width;if(me!==1||te.offsetHeight!==ee.height){var ge,Me;Z.restore&&(ge=this.getCanvasData(),Me=this.getCropBoxData()),this.render(),Z.restore&&(this.setCanvasData(cs(ge,function(et,dt){ge[dt]=et*me})),this.setCropBoxData(cs(Me,function(et,dt){Me[dt]=et*me})))}}},"resize"),dblclick:a(function(){this.disabled||this.options.dragMode===Hi||this.setDragMode(xp(this.dragBox,kr)?es:Xi)},"dblclick"),wheel:a(function(Z){var te=this,ee=Number(this.options.wheelZoomRatio)||.1,me=1;this.disabled||(Z.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){te.wheeling=!1},50),Z.deltaY?me=Z.deltaY>0?1:-1:Z.wheelDelta?me=-Z.wheelDelta/120:Z.detail&&(me=Z.detail>0?1:-1),this.zoom(-me*ee,Z)))},"wheel"),cropStart:a(function(Z){var te=Z.buttons,ee=Z.button;if(!(this.disabled||(Z.type==="mousedown"||Z.type==="pointerdown"&&Z.pointerType==="mouse")&&(sr(te)&&te!==1||sr(ee)&&ee!==0||Z.ctrlKey))){var me=this.options,ge=this.pointers,Me;Z.changedTouches?cs(Z.changedTouches,function(et){ge[et.identifier]=kp(et)}):ge[Z.pointerId||0]=kp(Z),Object.keys(ge).length>1&&me.zoomable&&me.zoomOnTouch?Me=Ue:Me=Dy(Z.target,Bt),Ks.test(Me)&&xh(this.element,ar,{originalEvent:Z,action:Me})!==!1&&(Z.preventDefault(),this.action=Me,this.cropping=!1,Me===wt&&(this.cropping=!0,Ss(this.dragBox,ct)))}},"cropStart"),cropMove:a(function(Z){var te=this.action;if(!(this.disabled||!te)){var ee=this.pointers;Z.preventDefault(),xh(this.element,Ci,{originalEvent:Z,action:te})!==!1&&(Z.changedTouches?cs(Z.changedTouches,function(me){$r(ee[me.identifier]||{},kp(me,!0))}):$r(ee[Z.pointerId||0]||{},kp(Z,!0)),this.change(Z))}},"cropMove"),cropEnd:a(function(Z){if(!this.disabled){var te=this.action,ee=this.pointers;Z.changedTouches?cs(Z.changedTouches,function(me){delete ee[me.identifier]}):delete ee[Z.pointerId||0],te&&(Z.preventDefault(),Object.keys(ee).length||(this.action=""),this.cropping&&(this.cropping=!1,wh(this.dragBox,ct,this.cropped&&this.options.modal)),xh(this.element,xi,{originalEvent:Z,action:te}))}},"cropEnd")},tW={change:a(function(Z){var te=this.options,ee=this.canvasData,me=this.containerData,ge=this.cropBoxData,Me=this.pointers,et=this.action,dt=te.aspectRatio,kt=ge.left,mt=ge.top,st=ge.width,Ot=ge.height,Or=kt+st,cr=mt+Ot,Vr=0,zr=0,As=me.width,ln=me.height,Ts=!0,uc;!dt&&Z.shiftKey&&(dt=st&&Ot?st/Ot:1),this.limited&&(Vr=ge.minLeft,zr=ge.minTop,As=Vr+Math.min(me.width,ee.width,ee.left+ee.width),ln=zr+Math.min(me.height,ee.height,ee.top+ee.height));var Qn=Me[Object.keys(Me)[0]],Ut={x:Qn.endX-Qn.startX,y:Qn.endY-Qn.startY},Dr=a(function(Ps){switch(Ps){case xt:Or+Ut.x>As&&(Ut.x=As-Or);break;case zt:kt+Ut.x<Vr&&(Ut.x=Vr-kt);break;case bi:mt+Ut.y<zr&&(Ut.y=zr-mt);break;case mi:cr+Ut.y>ln&&(Ut.y=ln-cr);break}},"check");switch(et){case pt:kt+=Ut.x,mt+=Ut.y;break;case xt:if(Ut.x>=0&&(Or>=As||dt&&(mt<=zr||cr>=ln))){Ts=!1;break}Dr(xt),st+=Ut.x,st<0&&(et=zt,st=-st,kt-=st),dt&&(Ot=st/dt,mt+=(ge.height-Ot)/2);break;case bi:if(Ut.y<=0&&(mt<=zr||dt&&(kt<=Vr||Or>=As))){Ts=!1;break}Dr(bi),Ot-=Ut.y,mt+=Ut.y,Ot<0&&(et=mi,Ot=-Ot,mt-=Ot),dt&&(st=Ot*dt,kt+=(ge.width-st)/2);break;case zt:if(Ut.x<=0&&(kt<=Vr||dt&&(mt<=zr||cr>=ln))){Ts=!1;break}Dr(zt),st-=Ut.x,kt+=Ut.x,st<0&&(et=xt,st=-st,kt-=st),dt&&(Ot=st/dt,mt+=(ge.height-Ot)/2);break;case mi:if(Ut.y>=0&&(cr>=ln||dt&&(kt<=Vr||Or>=As))){Ts=!1;break}Dr(mi),Ot+=Ut.y,Ot<0&&(et=bi,Ot=-Ot,mt-=Ot),dt&&(st=Ot*dt,kt+=(ge.width-st)/2);break;case lr:if(dt){if(Ut.y<=0&&(mt<=zr||Or>=As)){Ts=!1;break}Dr(bi),Ot-=Ut.y,mt+=Ut.y,st=Ot*dt}else Dr(bi),Dr(xt),Ut.x>=0?Or<As?st+=Ut.x:Ut.y<=0&&mt<=zr&&(Ts=!1):st+=Ut.x,Ut.y<=0?mt>zr&&(Ot-=Ut.y,mt+=Ut.y):(Ot-=Ut.y,mt+=Ut.y);st<0&&Ot<0?(et=It,Ot=-Ot,st=-st,mt-=Ot,kt-=st):st<0?(et=Pr,st=-st,kt-=st):Ot<0&&(et=xr,Ot=-Ot,mt-=Ot);break;case Pr:if(dt){if(Ut.y<=0&&(mt<=zr||kt<=Vr)){Ts=!1;break}Dr(bi),Ot-=Ut.y,mt+=Ut.y,st=Ot*dt,kt+=ge.width-st}else Dr(bi),Dr(zt),Ut.x<=0?kt>Vr?(st-=Ut.x,kt+=Ut.x):Ut.y<=0&&mt<=zr&&(Ts=!1):(st-=Ut.x,kt+=Ut.x),Ut.y<=0?mt>zr&&(Ot-=Ut.y,mt+=Ut.y):(Ot-=Ut.y,mt+=Ut.y);st<0&&Ot<0?(et=xr,Ot=-Ot,st=-st,mt-=Ot,kt-=st):st<0?(et=lr,st=-st,kt-=st):Ot<0&&(et=It,Ot=-Ot,mt-=Ot);break;case It:if(dt){if(Ut.x<=0&&(kt<=Vr||cr>=ln)){Ts=!1;break}Dr(zt),st-=Ut.x,kt+=Ut.x,Ot=st/dt}else Dr(mi),Dr(zt),Ut.x<=0?kt>Vr?(st-=Ut.x,kt+=Ut.x):Ut.y>=0&&cr>=ln&&(Ts=!1):(st-=Ut.x,kt+=Ut.x),Ut.y>=0?cr<ln&&(Ot+=Ut.y):Ot+=Ut.y;st<0&&Ot<0?(et=lr,Ot=-Ot,st=-st,mt-=Ot,kt-=st):st<0?(et=xr,st=-st,kt-=st):Ot<0&&(et=Pr,Ot=-Ot,mt-=Ot);break;case xr:if(dt){if(Ut.x>=0&&(Or>=As||cr>=ln)){Ts=!1;break}Dr(xt),st+=Ut.x,Ot=st/dt}else Dr(mi),Dr(xt),Ut.x>=0?Or<As?st+=Ut.x:Ut.y>=0&&cr>=ln&&(Ts=!1):st+=Ut.x,Ut.y>=0?cr<ln&&(Ot+=Ut.y):Ot+=Ut.y;st<0&&Ot<0?(et=Pr,Ot=-Ot,st=-st,mt-=Ot,kt-=st):st<0?(et=It,st=-st,kt-=st):Ot<0&&(et=lr,Ot=-Ot,mt-=Ot);break;case yt:this.move(Ut.x,Ut.y),Ts=!1;break;case Ue:this.zoom(yD(Me),Z),Ts=!1;break;case wt:if(!Ut.x||!Ut.y){Ts=!1;break}uc=B1(this.cropper),kt=Qn.startX-uc.left,mt=Qn.startY-uc.top,st=ge.minWidth,Ot=ge.minHeight,Ut.x>0?et=Ut.y>0?xr:lr:Ut.x<0&&(kt-=st,et=Ut.y>0?It:Pr),Ut.y<0&&(mt-=Ot),this.cropped||(co(this.cropBox,Kr),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Ts&&(ge.width=st,ge.height=Ot,ge.left=kt,ge.top=mt,this.action=et,this.renderCropBox()),cs(Me,function(Ps){Ps.startX=Ps.endX,Ps.startY=Ps.endY})},"change")},iW={crop:a(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ss(this.dragBox,ct),co(this.cropBox,Kr),this.setCropBoxData(this.initialCropBoxData)),this},"crop"),reset:a(function(){return this.ready&&!this.disabled&&(this.imageData=$r({},this.initialImageData),this.canvasData=$r({},this.initialCanvasData),this.cropBoxData=$r({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"reset"),clear:a(function(){return this.cropped&&!this.disabled&&($r(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),co(this.dragBox,ct),Ss(this.cropBox,Kr)),this},"clear"),replace:a(function(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&Z&&(this.isImg&&(this.element.src=Z),te?(this.url=Z,this.image.src=Z,this.ready&&(this.viewBoxImage.src=Z,cs(this.previews,function(ee){ee.getElementsByTagName("img")[0].src=Z}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(Z))),this},"replace"),enable:a(function(){return this.ready&&this.disabled&&(this.disabled=!1,co(this.cropper,yn)),this},"enable"),disable:a(function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ss(this.cropper,yn)),this},"disable"),destroy:a(function(){var Z=this.element;return Z[ai]?(Z[ai]=void 0,this.isImg&&this.replaced&&(Z.src=this.originalUrl),this.uncreate(),this):this},"destroy"),move:a(function(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z,ee=this.canvasData,me=ee.left,ge=ee.top;return this.moveTo(_h(Z)?Z:me+Number(Z),_h(te)?te:ge+Number(te))},"move"),moveTo:a(function(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z,ee=this.canvasData,me=!1;return Z=Number(Z),te=Number(te),this.ready&&!this.disabled&&this.options.movable&&(sr(Z)&&(ee.left=Z,me=!0),sr(te)&&(ee.top=te,me=!0),me&&this.renderCanvas(!0)),this},"moveTo"),zoom:a(function(Z,te){var ee=this.canvasData;return Z=Number(Z),Z<0?Z=1/(1-Z):Z=1+Z,this.zoomTo(ee.width*Z/ee.naturalWidth,null,te)},"zoom"),zoomTo:a(function(Z,te,ee){var me=this.options,ge=this.canvasData,Me=ge.width,et=ge.height,dt=ge.naturalWidth,kt=ge.naturalHeight;if(Z=Number(Z),Z>=0&&this.ready&&!this.disabled&&me.zoomable){var mt=dt*Z,st=kt*Z;if(xh(this.element,Lo,{ratio:Z,oldRatio:Me/dt,originalEvent:ee})===!1)return this;if(ee){var Ot=this.pointers,Or=B1(this.cropper),cr=Ot&&Object.keys(Ot).length?vD(Ot):{pageX:ee.pageX,pageY:ee.pageY};ge.left-=(mt-Me)*((cr.pageX-Or.left-ge.left)/Me),ge.top-=(st-et)*((cr.pageY-Or.top-ge.top)/et)}else Tl(te)&&sr(te.x)&&sr(te.y)?(ge.left-=(mt-Me)*((te.x-ge.left)/Me),ge.top-=(st-et)*((te.y-ge.top)/et)):(ge.left-=(mt-Me)/2,ge.top-=(st-et)/2);ge.width=mt,ge.height=st,this.renderCanvas(!0)}return this},"zoomTo"),rotate:a(function(Z){return this.rotateTo((this.imageData.rotate||0)+Number(Z))},"rotate"),rotateTo:a(function(Z){return Z=Number(Z),sr(Z)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=Z%360,this.renderCanvas(!0,!0)),this},"rotateTo"),scaleX:a(function(Z){var te=this.imageData.scaleY;return this.scale(Z,sr(te)?te:1)},"scaleX"),scaleY:a(function(Z){var te=this.imageData.scaleX;return this.scale(sr(te)?te:1,Z)},"scaleY"),scale:a(function(Z){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z,ee=this.imageData,me=!1;return Z=Number(Z),te=Number(te),this.ready&&!this.disabled&&this.options.scalable&&(sr(Z)&&(ee.scaleX=Z,me=!0),sr(te)&&(ee.scaleY=te,me=!0),me&&this.renderCanvas(!0,!0)),this},"scale"),getData:a(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,te=this.options,ee=this.imageData,me=this.canvasData,ge=this.cropBoxData,Me;if(this.ready&&this.cropped){Me={x:ge.left-me.left,y:ge.top-me.top,width:ge.width,height:ge.height};var et=ee.width/ee.naturalWidth;if(cs(Me,function(mt,st){Me[st]=mt/et}),Z){var dt=Math.round(Me.y+Me.height),kt=Math.round(Me.x+Me.width);Me.x=Math.round(Me.x),Me.y=Math.round(Me.y),Me.width=kt-Me.x,Me.height=dt-Me.y}}else Me={x:0,y:0,width:0,height:0};return te.rotatable&&(Me.rotate=ee.rotate||0),te.scalable&&(Me.scaleX=ee.scaleX||1,Me.scaleY=ee.scaleY||1),Me},"getData"),setData:a(function(Z){var te=this.options,ee=this.imageData,me=this.canvasData,ge={};if(this.ready&&!this.disabled&&Tl(Z)){var Me=!1;te.rotatable&&sr(Z.rotate)&&Z.rotate!==ee.rotate&&(ee.rotate=Z.rotate,Me=!0),te.scalable&&(sr(Z.scaleX)&&Z.scaleX!==ee.scaleX&&(ee.scaleX=Z.scaleX,Me=!0),sr(Z.scaleY)&&Z.scaleY!==ee.scaleY&&(ee.scaleY=Z.scaleY,Me=!0)),Me&&this.renderCanvas(!0,!0);var et=ee.width/ee.naturalWidth;sr(Z.x)&&(ge.left=Z.x*et+me.left),sr(Z.y)&&(ge.top=Z.y*et+me.top),sr(Z.width)&&(ge.width=Z.width*et),sr(Z.height)&&(ge.height=Z.height*et),this.setCropBoxData(ge)}return this},"setData"),getContainerData:a(function(){return this.ready?$r({},this.containerData):{}},"getContainerData"),getImageData:a(function(){return this.sized?$r({},this.imageData):{}},"getImageData"),getCanvasData:a(function(){var Z=this.canvasData,te={};return this.ready&&cs(["left","top","width","height","naturalWidth","naturalHeight"],function(ee){te[ee]=Z[ee]}),te},"getCanvasData"),setCanvasData:a(function(Z){var te=this.canvasData,ee=te.aspectRatio;return this.ready&&!this.disabled&&Tl(Z)&&(sr(Z.left)&&(te.left=Z.left),sr(Z.top)&&(te.top=Z.top),sr(Z.width)?(te.width=Z.width,te.height=Z.width/ee):sr(Z.height)&&(te.height=Z.height,te.width=Z.height*ee),this.renderCanvas(!0)),this},"setCanvasData"),getCropBoxData:a(function(){var Z=this.cropBoxData,te;return this.ready&&this.cropped&&(te={left:Z.left,top:Z.top,width:Z.width,height:Z.height}),te||{}},"getCropBoxData"),setCropBoxData:a(function(Z){var te=this.cropBoxData,ee=this.options.aspectRatio,me,ge;return this.ready&&this.cropped&&!this.disabled&&Tl(Z)&&(sr(Z.left)&&(te.left=Z.left),sr(Z.top)&&(te.top=Z.top),sr(Z.width)&&Z.width!==te.width&&(me=!0,te.width=Z.width),sr(Z.height)&&Z.height!==te.height&&(ge=!0,te.height=Z.height),ee&&(me?te.height=te.width/ee:ge&&(te.width=te.height*ee)),this.renderCropBox()),this},"setCropBoxData"),getCroppedCanvas:a(function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var te=this.canvasData,ee=_D(this.image,this.imageData,te,Z);if(!this.cropped)return ee;var me=this.getData(),ge=me.x,Me=me.y,et=me.width,dt=me.height,kt=ee.width/Math.floor(te.naturalWidth);kt!==1&&(ge*=kt,Me*=kt,et*=kt,dt*=kt);var mt=et/dt,st=Cl({aspectRatio:mt,width:Z.maxWidth||1/0,height:Z.maxHeight||1/0}),Ot=Cl({aspectRatio:mt,width:Z.minWidth||0,height:Z.minHeight||0},"cover"),Or=Cl({aspectRatio:mt,width:Z.width||(kt!==1?ee.width:et),height:Z.height||(kt!==1?ee.height:dt)}),cr=Or.width,Vr=Or.height;cr=Math.min(st.width,Math.max(Ot.width,cr)),Vr=Math.min(st.height,Math.max(Ot.height,Vr));var zr=document.createElement("canvas"),As=zr.getContext("2d");zr.width=Fo(cr),zr.height=Fo(Vr),As.fillStyle=Z.fillColor||"transparent",As.fillRect(0,0,cr,Vr);var ln=Z.imageSmoothingEnabled,Ts=ln===void 0?!0:ln,uc=Z.imageSmoothingQuality;As.imageSmoothingEnabled=Ts,uc&&(As.imageSmoothingQuality=uc);var Qn=ee.width,Ut=ee.height,Dr=ge,Ps=Me,Io,El,kh,Sh,dc,fc;Dr<=-et||Dr>Qn?(Dr=0,Io=0,kh=0,dc=0):Dr<=0?(kh=-Dr,Dr=0,Io=Math.min(Qn,et+Dr),dc=Io):Dr<=Qn&&(kh=0,Io=Math.min(et,Qn-Dr),dc=Io),Io<=0||Ps<=-dt||Ps>Ut?(Ps=0,El=0,Sh=0,fc=0):Ps<=0?(Sh=-Ps,Ps=0,El=Math.min(Ut,dt+Ps),fc=El):Ps<=Ut&&(Sh=0,El=Math.min(dt,Ut-Ps),fc=El);var Th=[Dr,Ps,Io,El];if(dc>0&&fc>0){var vn=cr/et;Th.push(kh*vn,Sh*vn,dc*vn,fc*vn)}return As.drawImage.apply(As,[ee].concat(re(Th.map(function(Ly){return Math.floor(Fo(Ly))})))),zr},"getCroppedCanvas"),setAspectRatio:a(function(Z){var te=this.options;return!this.disabled&&!_h(Z)&&(te.aspectRatio=Math.max(0,Z)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setAspectRatio"),setDragMode:a(function(Z){var te=this.options,ee=this.dragBox,me=this.face;if(this.ready&&!this.disabled){var ge=Z===Xi,Me=te.movable&&Z===es;Z=ge||Me?Z:Hi,te.dragMode=Z,Nu(ee,Bt,Z),wh(ee,kr,ge),wh(ee,At,Me),te.cropBoxMovable||(Nu(me,Bt,Z),wh(me,kr,ge),wh(me,At,Me))}return this},"setDragMode")},rW=Et.Cropper,ED=function(){function Z(te){var ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(p(this,Z),!te||!Ey.test(te.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=te,this.options=$r({},vp,Tl(ee)&&ee),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return a(Z,"Cropper"),M(Z,[{key:"init",value:a(function(){var te=this.element,ee=te.tagName.toLowerCase(),me;if(!te[ai]){if(te[ai]=this,ee==="img"){if(this.isImg=!0,me=te.getAttribute("src")||"",this.originalUrl=me,!me)return;me=te.src}else ee==="canvas"&&window.HTMLCanvasElement&&(me=te.toDataURL());this.load(me)}},"init")},{key:"load",value:a(function(te){var ee=this;if(te){this.url=te,this.imageData={};var me=this.element,ge=this.options;if(!ge.rotatable&&!ge.scalable&&(ge.checkOrientation=!1),!ge.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Ty.test(te)){Cy.test(te)?this.read(kD(te)):this.clone();return}var Me=new XMLHttpRequest,et=this.clone.bind(this);this.reloading=!0,this.xhr=Me,Me.onabort=et,Me.onerror=et,Me.ontimeout=et,Me.onprogress=function(){Me.getResponseHeader("content-type")!==Us&&Me.abort()},Me.onload=function(){ee.read(Me.response)},Me.onloadend=function(){ee.reloading=!1,ee.xhr=null},ge.checkCrossOrigin&&z1(te)&&me.crossOrigin&&(te=U1(te)),Me.open("GET",te),Me.responseType="arraybuffer",Me.withCredentials=me.crossOrigin==="use-credentials",Me.send()}},"load")},{key:"read",value:a(function(te){var ee=this.options,me=this.imageData,ge=TD(te),Me=0,et=1,dt=1;if(ge>1){this.url=SD(te,Us);var kt=CD(ge);Me=kt.rotate,et=kt.scaleX,dt=kt.scaleY}ee.rotatable&&(me.rotate=Me),ee.scalable&&(me.scaleX=et,me.scaleY=dt),this.clone()},"read")},{key:"clone",value:a(function(){var te=this.element,ee=this.url,me=te.crossOrigin,ge=ee;this.options.checkCrossOrigin&&z1(ee)&&(me||(me="anonymous"),ge=U1(ee)),this.crossOrigin=me,this.crossOriginUrl=ge;var Me=document.createElement("img");me&&(Me.crossOrigin=me),Me.src=ge||ee,Me.alt=te.alt||"The image to crop",this.image=Me,Me.onload=this.start.bind(this),Me.onerror=this.stop.bind(this),Ss(Me,Xs),te.parentNode.insertBefore(Me,te.nextSibling)},"clone")},{key:"start",value:a(function(){var te=this,ee=this.image;ee.onload=null,ee.onerror=null,this.sizing=!0;var me=Et.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Et.navigator.userAgent),ge=a(function(dt,kt){$r(te.imageData,{naturalWidth:dt,naturalHeight:kt,aspectRatio:dt/kt}),te.sizing=!1,te.sized=!0,te.build()},"done");if(ee.naturalWidth&&!me){ge(ee.naturalWidth,ee.naturalHeight);return}var Me=document.createElement("img"),et=document.body||document.documentElement;this.sizingImage=Me,Me.onload=function(){ge(Me.width,Me.height),me||et.removeChild(Me)},Me.src=ee.src,me||(Me.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",et.appendChild(Me))},"start")},{key:"stop",value:a(function(){var te=this.image;te.onload=null,te.onerror=null,te.parentNode.removeChild(te),this.image=null},"stop")},{key:"build",value:a(function(){if(!(!this.sized||this.ready)){var te=this.element,ee=this.options,me=this.image,ge=te.parentNode,Me=document.createElement("div");Me.innerHTML=Oy;var et=Me.querySelector(".".concat(ai,"-container")),dt=et.querySelector(".".concat(ai,"-canvas")),kt=et.querySelector(".".concat(ai,"-drag-box")),mt=et.querySelector(".".concat(ai,"-crop-box")),st=mt.querySelector(".".concat(ai,"-face"));this.container=ge,this.cropper=et,this.canvas=dt,this.dragBox=kt,this.cropBox=mt,this.viewBox=et.querySelector(".".concat(ai,"-view-box")),this.face=st,dt.appendChild(me),Ss(te,Kr),ge.insertBefore(et,te.nextSibling),this.isImg||co(me,Xs),this.initPreview(),this.bind(),ee.initialAspectRatio=Math.max(0,ee.initialAspectRatio)||NaN,ee.aspectRatio=Math.max(0,ee.aspectRatio)||NaN,ee.viewMode=Math.max(0,Math.min(3,Math.round(ee.viewMode)))||0,Ss(mt,Kr),ee.guides||Ss(mt.getElementsByClassName("".concat(ai,"-dashed")),Kr),ee.center||Ss(mt.getElementsByClassName("".concat(ai,"-center")),Kr),ee.background&&Ss(et,"".concat(ai,"-bg")),ee.highlight||Ss(st,Xt),ee.cropBoxMovable&&(Ss(st,At),Nu(st,Bt,pt)),ee.cropBoxResizable||(Ss(mt.getElementsByClassName("".concat(ai,"-line")),Kr),Ss(mt.getElementsByClassName("".concat(ai,"-point")),Kr)),this.render(),this.ready=!0,this.setDragMode(ee.dragMode),ee.autoCrop&&this.crop(),this.setData(ee.data),on(ee.ready)&&ba(te,lc,ee.ready,{once:!0}),xh(te,lc)}},"build")},{key:"unbuild",value:a(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),co(this.element,Kr))},"unbuild")},{key:"uncreate",value:a(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()},"uncreate")}],[{key:"noConflict",value:a(function(){return window.Cropper=rW,Z},"noConflict")},{key:"setDefaults",value:a(function(te){$r(vp,Tl(te)&&te)},"setDefaults")}]),Z}();return $r(ED.prototype,ZH,QH,JH,eW,tW,iW),ED})}),S=h((r,o)=>{o.exports=M,o.exports.isMobile=M,o.exports.default=M;var c=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,p=/CrOS/,_=/android|ipad|playbook|silk/i;function M(F){F||(F={});let N=F.ua;if(!N&&typeof navigator<"u"&&(N=navigator.userAgent),N&&N.headers&&typeof N.headers["user-agent"]=="string"&&(N=N.headers["user-agent"]),typeof N!="string")return!1;let Y=c.test(N)&&!p.test(N)||!!F.tablet&&_.test(N);return!Y&&F.tablet&&F.featureDetect&&navigator&&navigator.maxTouchPoints>1&&N.indexOf("Macintosh")!==-1&&N.indexOf("Safari")!==-1&&(Y=!0),Y}a(M,"isMobile")}),C=h((r,o)=>{o.exports=a(function(c,p){if(p=p.split(":")[0],c=+c,!c)return!1;switch(p){case"http":case"ws":return c!==80;case"https":case"wss":return c!==443;case"ftp":return c!==21;case"gopher":return c!==70;case"file":return!1}return c!==0},"required")}),P=h(r=>{var o=Object.prototype.hasOwnProperty,c;function p(N){try{return decodeURIComponent(N.replace(/\+/g," "))}catch{return null}}a(p,"decode");function _(N){try{return encodeURIComponent(N)}catch{return null}}a(_,"encode");function M(N){for(var Y=/([^=?#&]+)=?([^&]*)/g,re={},X;X=Y.exec(N);){var oe=p(X[1]),fe=p(X[2]);oe===null||fe===null||oe in re||(re[oe]=fe)}return re}a(M,"querystring");function F(N,Y){Y=Y||"";var re=[],X,oe;typeof Y!="string"&&(Y="?");for(oe in N)if(o.call(N,oe)){if(X=N[oe],!X&&(X===null||X===c||isNaN(X))&&(X=""),oe=_(oe),X=_(X),oe===null||X===null)continue;re.push(oe+"="+X)}return re.length?Y+re.join("&"):""}a(F,"querystringify"),r.stringify=F,r.parse=M}),I=h((r,o)=>{var c=C(),p=P(),_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,M=/[\n\r\t]/g,F=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,N=/:\d+$/,Y=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,re=/^[a-zA-Z]:/;function X(pt){return(pt||"").toString().replace(_,"")}a(X,"trimLeft");var oe=[["#","hash"],["?","query"],a(function(pt,wt){return Ye(wt.protocol)?pt.replace(/\\/g,"/"):pt},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],fe={hash:1,query:1};function Te(pt){var wt;typeof window<"u"?wt=window:typeof un<"u"?wt=un:typeof self<"u"?wt=self:wt={};var yt=wt.location||{};pt=pt||yt;var Ue={},xt=typeof pt,zt;if(pt.protocol==="blob:")Ue=new Qt(unescape(pt.pathname),{});else if(xt==="string"){Ue=new Qt(pt,{});for(zt in fe)delete Ue[zt]}else if(xt==="object"){for(zt in pt)zt in fe||(Ue[zt]=pt[zt]);Ue.slashes===void 0&&(Ue.slashes=F.test(pt.href))}return Ue}a(Te,"lolcation");function Ye(pt){return pt==="file:"||pt==="ftp:"||pt==="http:"||pt==="https:"||pt==="ws:"||pt==="wss:"}a(Ye,"isSpecial");function Nt(pt,wt){pt=X(pt),pt=pt.replace(M,""),wt=wt||{};var yt=Y.exec(pt),Ue=yt[1]?yt[1].toLowerCase():"",xt=!!yt[2],zt=!!yt[3],mi=0,bi;return xt?zt?(bi=yt[2]+yt[3]+yt[4],mi=yt[2].length+yt[3].length):(bi=yt[2]+yt[4],mi=yt[2].length):zt?(bi=yt[3]+yt[4],mi=yt[3].length):bi=yt[4],Ue==="file:"?mi>=2&&(bi=bi.slice(2)):Ye(Ue)?bi=yt[4]:Ue?xt&&(bi=bi.slice(2)):mi>=2&&Ye(wt.protocol)&&(bi=yt[4]),{protocol:Ue,slashes:xt||Ye(Ue),slashesCount:mi,rest:bi}}a(Nt,"extractProtocol");function Et(pt,wt){if(pt==="")return wt;for(var yt=(wt||"/").split("/").slice(0,-1).concat(pt.split("/")),Ue=yt.length,xt=yt[Ue-1],zt=!1,mi=0;Ue--;)yt[Ue]==="."?yt.splice(Ue,1):yt[Ue]===".."?(yt.splice(Ue,1),mi++):mi&&(Ue===0&&(zt=!0),yt.splice(Ue,1),mi--);return zt&&yt.unshift(""),(xt==="."||xt==="..")&&yt.push(""),yt.join("/")}a(Et,"resolve");function Qt(pt,wt,yt){if(pt=X(pt),pt=pt.replace(M,""),!(this instanceof Qt))return new Qt(pt,wt,yt);var Ue,xt,zt,mi,bi,lr,Pr=oe.slice(),xr=typeof wt,It=this,kr=0;for(xr!=="object"&&xr!=="string"&&(yt=wt,wt=null),yt&&typeof yt!="function"&&(yt=p.parse),wt=Te(wt),xt=Nt(pt||"",wt),Ue=!xt.protocol&&!xt.slashes,It.slashes=xt.slashes||Ue&&wt.slashes,It.protocol=xt.protocol||wt.protocol||"",pt=xt.rest,(xt.protocol==="file:"&&(xt.slashesCount!==2||re.test(pt))||!xt.slashes&&(xt.protocol||xt.slashesCount<2||!Ye(It.protocol)))&&(Pr[3]=[/(.*)/,"pathname"]);kr<Pr.length;kr++){if(mi=Pr[kr],typeof mi=="function"){pt=mi(pt,It);continue}zt=mi[0],lr=mi[1],zt!==zt?It[lr]=pt:typeof zt=="string"?(bi=zt==="@"?pt.lastIndexOf(zt):pt.indexOf(zt),~bi&&(typeof mi[2]=="number"?(It[lr]=pt.slice(0,bi),pt=pt.slice(bi+mi[2])):(It[lr]=pt.slice(bi),pt=pt.slice(0,bi)))):(bi=zt.exec(pt))&&(It[lr]=bi[1],pt=pt.slice(0,bi.index)),It[lr]=It[lr]||Ue&&mi[3]&&wt[lr]||"",mi[4]&&(It[lr]=It[lr].toLowerCase())}yt&&(It.query=yt(It.query)),Ue&&wt.slashes&&It.pathname.charAt(0)!=="/"&&(It.pathname!==""||wt.pathname!=="")&&(It.pathname=Et(It.pathname,wt.pathname)),It.pathname.charAt(0)!=="/"&&Ye(It.protocol)&&(It.pathname="/"+It.pathname),c(It.port,It.protocol)||(It.host=It.hostname,It.port=""),It.username=It.password="",It.auth&&(bi=It.auth.indexOf(":"),~bi?(It.username=It.auth.slice(0,bi),It.username=encodeURIComponent(decodeURIComponent(It.username)),It.password=It.auth.slice(bi+1),It.password=encodeURIComponent(decodeURIComponent(It.password))):It.username=encodeURIComponent(decodeURIComponent(It.auth)),It.auth=It.password?It.username+":"+It.password:It.username),It.origin=It.protocol!=="file:"&&Ye(It.protocol)&&It.host?It.protocol+"//"+It.host:"null",It.href=It.toString()}a(Qt,"Url");function Fi(pt,wt,yt){var Ue=this;switch(pt){case"query":typeof wt=="string"&&wt.length&&(wt=(yt||p.parse)(wt)),Ue[pt]=wt;break;case"port":Ue[pt]=wt,c(wt,Ue.protocol)?wt&&(Ue.host=Ue.hostname+":"+wt):(Ue.host=Ue.hostname,Ue[pt]="");break;case"hostname":Ue[pt]=wt,Ue.port&&(wt+=":"+Ue.port),Ue.host=wt;break;case"host":Ue[pt]=wt,N.test(wt)?(wt=wt.split(":"),Ue.port=wt.pop(),Ue.hostname=wt.join(":")):(Ue.hostname=wt,Ue.port="");break;case"protocol":Ue.protocol=wt.toLowerCase(),Ue.slashes=!yt;break;case"pathname":case"hash":if(wt){var xt=pt==="pathname"?"/":"#";Ue[pt]=wt.charAt(0)!==xt?xt+wt:wt}else Ue[pt]=wt;break;case"username":case"password":Ue[pt]=encodeURIComponent(wt);break;case"auth":var zt=wt.indexOf(":");~zt?(Ue.username=wt.slice(0,zt),Ue.username=encodeURIComponent(decodeURIComponent(Ue.username)),Ue.password=wt.slice(zt+1),Ue.password=encodeURIComponent(decodeURIComponent(Ue.password))):Ue.username=encodeURIComponent(decodeURIComponent(wt))}for(var mi=0;mi<oe.length;mi++){var bi=oe[mi];bi[4]&&(Ue[bi[1]]=Ue[bi[1]].toLowerCase())}return Ue.auth=Ue.password?Ue.username+":"+Ue.password:Ue.username,Ue.origin=Ue.protocol!=="file:"&&Ye(Ue.protocol)&&Ue.host?Ue.protocol+"//"+Ue.host:"null",Ue.href=Ue.toString(),Ue}a(Fi,"set");function ai(pt){(!pt||typeof pt!="function")&&(pt=p.stringify);var wt,yt=this,Ue=yt.host,xt=yt.protocol;xt&&xt.charAt(xt.length-1)!==":"&&(xt+=":");var zt=xt+(yt.protocol&&yt.slashes||Ye(yt.protocol)?"//":"");return yt.username?(zt+=yt.username,yt.password&&(zt+=":"+yt.password),zt+="@"):yt.password?(zt+=":"+yt.password,zt+="@"):yt.protocol!=="file:"&&Ye(yt.protocol)&&!Ue&&yt.pathname!=="/"&&(zt+="@"),(Ue[Ue.length-1]===":"||N.test(yt.hostname)&&!yt.port)&&(Ue+=":"),zt+=Ue+yt.pathname,wt=typeof yt.query=="object"?pt(yt.query):yt.query,wt&&(zt+=wt.charAt(0)!=="?"?"?"+wt:wt),yt.hash&&(zt+=yt.hash),zt}a(ai,"toString"),Qt.prototype={set:Fi,toString:ai},Qt.extractProtocol=Nt,Qt.location=Te,Qt.trimLeft=X,Qt.qs=p,o.exports=Qt}),U=h((r,o)=>{typeof o<"u"&&(o.exports=c);function c(_){if(_)return p(_)}a(c,"Emitter");function p(_){for(var M in c.prototype)_[M]=c.prototype[M];return _}a(p,"mixin"),c.prototype.on=c.prototype.addEventListener=function(_,M){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_]=this._callbacks["$"+_]||[]).push(M),this},c.prototype.once=function(_,M){function F(){this.off(_,F),M.apply(this,arguments)}return a(F,"on"),F.fn=M,this.on(_,F),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(_,M){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var F=this._callbacks["$"+_];if(!F)return this;if(arguments.length==1)return delete this._callbacks["$"+_],this;for(var N,Y=0;Y<F.length;Y++)if(N=F[Y],N===M||N.fn===M){F.splice(Y,1);break}return F.length===0&&delete this._callbacks["$"+_],this},c.prototype.emit=function(_){this._callbacks=this._callbacks||{};for(var M=new Array(arguments.length-1),F=this._callbacks["$"+_],N=1;N<arguments.length;N++)M[N-1]=arguments[N];if(F){F=F.slice(0);for(var N=0,Y=F.length;N<Y;++N)F[N].apply(this,M)}return this},c.prototype.listeners=function(_){return this._callbacks=this._callbacks||{},this._callbacks["$"+_]||[]},c.prototype.hasListeners=function(_){return!!this.listeners(_).length}}),z=h((r,o)=>{function c(Xt,ct){var At=Object.keys(Xt);if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(Xt);ct&&(Bt=Bt.filter(function(Jt){return Object.getOwnPropertyDescriptor(Xt,Jt).enumerable})),At.push.apply(At,Bt)}return At}a(c,"ownKeys");function p(Xt){for(var ct=1;ct<arguments.length;ct++){var At=arguments[ct]!=null?arguments[ct]:{};ct%2?c(Object(At),!0).forEach(function(Bt){N(Xt,Bt,At[Bt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Xt,Object.getOwnPropertyDescriptors(At)):c(Object(At)).forEach(function(Bt){Object.defineProperty(Xt,Bt,Object.getOwnPropertyDescriptor(At,Bt))})}return Xt}a(p,"_objectSpread2");function _(Xt,ct){if(!(Xt instanceof ct))throw new TypeError("Cannot call a class as a function")}a(_,"_classCallCheck");function M(Xt,ct){for(var At=0;At<ct.length;At++){var Bt=ct[At];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Xt,Bt.key,Bt)}}a(M,"_defineProperties");function F(Xt,ct,At){return ct&&M(Xt.prototype,ct),At&&M(Xt,At),Xt}a(F,"_createClass");function N(Xt,ct,At){return ct in Xt?Object.defineProperty(Xt,ct,{value:At,enumerable:!0,configurable:!0,writable:!0}):Xt[ct]=At,Xt}a(N,"_defineProperty");function Y(){return Y=Object.assign||function(Xt){for(var ct=1;ct<arguments.length;ct++){var At=arguments[ct];for(var Bt in At)Object.prototype.hasOwnProperty.call(At,Bt)&&(Xt[Bt]=At[Bt])}return Xt},Y.apply(this,arguments)}a(Y,"_extends");var re={exports:{}};(function(Xt){typeof window>"u"||function(ct){var At=ct.HTMLCanvasElement&&ct.HTMLCanvasElement.prototype,Bt=ct.Blob&&function(){try{return!!new Blob}catch{return!1}}(),Jt=Bt&&ct.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),Xi=ct.BlobBuilder||ct.WebKitBlobBuilder||ct.MozBlobBuilder||ct.MSBlobBuilder,es=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,Hi=(Bt||Xi)&&ct.atob&&ct.ArrayBuffer&&ct.Uint8Array&&function(Er){var xi,Ci,ar,zs,Ki,Ms,an,lo,Do;if(xi=Er.match(es),!xi)throw new Error("invalid data URI");for(Ci=xi[2]?xi[1]:"text/plain"+(xi[3]||";charset=US-ASCII"),ar=!!xi[4],zs=Er.slice(xi[0].length),ar?Ki=atob(zs):Ki=decodeURIComponent(zs),Ms=new ArrayBuffer(Ki.length),an=new Uint8Array(Ms),lo=0;lo<Ki.length;lo+=1)an[lo]=Ki.charCodeAt(lo);return Bt?new Blob([Jt?an:Ms],{type:Ci}):(Do=new Xi,Do.append(Ms),Do.getBlob(Ci))};ct.HTMLCanvasElement&&!At.toBlob&&(At.mozGetAsFile?At.toBlob=function(Er,xi,Ci){var ar=this;setTimeout(function(){Ci&&At.toDataURL&&Hi?Er(Hi(ar.toDataURL(xi,Ci))):Er(ar.mozGetAsFile("blob",xi))})}:At.toDataURL&&Hi&&(At.msToBlob?At.toBlob=function(Er,xi,Ci){var ar=this;setTimeout(function(){(xi&&xi!=="image/png"||Ci)&&At.toDataURL&&Hi?Er(Hi(ar.toDataURL(xi,Ci))):Er(ar.msToBlob(xi))})}:At.toBlob=function(Er,xi,Ci){var ar=this;setTimeout(function(){Er(Hi(ar.toDataURL(xi,Ci)))})})),Xt.exports?Xt.exports=Hi:ct.dataURLtoBlob=Hi}(window)})(re);var X=re.exports,oe=a(function(Xt){return typeof Blob>"u"?!1:Xt instanceof Blob||Object.prototype.toString.call(Xt)==="[object Blob]"},"isBlob"),fe={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},Te=typeof window<"u"&&typeof window.document<"u",Ye=Te?window:{},Nt=a(function(Xt){return Xt>0&&Xt<1/0},"isPositiveNumber"),Et=Array.prototype.slice;function Qt(Xt){return Array.from?Array.from(Xt):Et.call(Xt)}a(Qt,"toArray");var Fi=/^image\/.+$/;function ai(Xt){return Fi.test(Xt)}a(ai,"isImageType");function pt(Xt){var ct=ai(Xt)?Xt.substr(6):"";return ct==="jpeg"&&(ct="jpg"),".".concat(ct)}a(pt,"imageTypeToExtension");var wt=String.fromCharCode;function yt(Xt,ct,At){var Bt="",Jt;for(At+=ct,Jt=ct;Jt<At;Jt+=1)Bt+=wt(Xt.getUint8(Jt));return Bt}a(yt,"getStringFromCharCode");var Ue=Ye.btoa;function xt(Xt,ct){for(var At=[],Bt=8192,Jt=new Uint8Array(Xt);Jt.length>0;)At.push(wt.apply(null,Qt(Jt.subarray(0,Bt)))),Jt=Jt.subarray(Bt);return"data:".concat(ct,";base64,").concat(Ue(At.join("")))}a(xt,"arrayBufferToDataURL");function zt(Xt){var ct=new DataView(Xt),At;try{var Bt,Jt,Xi;if(ct.getUint8(0)===255&&ct.getUint8(1)===216)for(var es=ct.byteLength,Hi=2;Hi+1<es;){if(ct.getUint8(Hi)===255&&ct.getUint8(Hi+1)===225){Jt=Hi;break}Hi+=1}if(Jt){var Er=Jt+4,xi=Jt+10;if(yt(ct,Er,4)==="Exif"){var Ci=ct.getUint16(xi);if(Bt=Ci===18761,(Bt||Ci===19789)&&ct.getUint16(xi+2,Bt)===42){var ar=ct.getUint32(xi+4,Bt);ar>=8&&(Xi=xi+ar)}}}if(Xi){var zs=ct.getUint16(Xi,Bt),Ki,Ms;for(Ms=0;Ms<zs;Ms+=1)if(Ki=Xi+Ms*12+2,ct.getUint16(Ki,Bt)===274){Ki+=8,At=ct.getUint16(Ki,Bt),ct.setUint16(Ki,1,Bt);break}}}catch{At=1}return At}a(zt,"resetAndGetOrientation");function mi(Xt){var ct=0,At=1,Bt=1;switch(Xt){case 2:At=-1;break;case 3:ct=-180;break;case 4:Bt=-1;break;case 5:ct=90,Bt=-1;break;case 6:ct=90;break;case 7:ct=90,At=-1;break;case 8:ct=-90;break}return{rotate:ct,scaleX:At,scaleY:Bt}}a(mi,"parseOrientation");var bi=/\.\d*(?:0|9){12}\d*$/;function lr(Xt){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return bi.test(Xt)?Math.round(Xt*ct)/ct:Xt}a(lr,"normalizeDecimalNumber");function Pr(Xt){var ct=Xt.aspectRatio,At=Xt.height,Bt=Xt.width,Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",Xi=Nt(Bt),es=Nt(At);if(Xi&&es){var Hi=At*ct;(Jt==="contain"||Jt==="none")&&Hi>Bt||Jt==="cover"&&Hi<Bt?At=Bt/ct:Bt=At*ct}else Xi?At=Bt/ct:es&&(Bt=At*ct);return{width:Bt,height:At}}a(Pr,"getAdjustedSizes");var xr=Ye.ArrayBuffer,It=Ye.FileReader,kr=Ye.URL||Ye.webkitURL,yn=/\.\w+$/,Kr=Ye.Compressor,Xs=function(){function Xt(ct,At){_(this,Xt),this.file=ct,this.image=new Image,this.options=p(p({},fe),At),this.aborted=!1,this.result=null,this.init()}return a(Xt,"Compressor"),F(Xt,[{key:"init",value:a(function(){var ct=this,At=this.file,Bt=this.options;if(!oe(At)){this.fail(new Error("The first argument must be a File or Blob object."));return}var Jt=At.type;if(!ai(Jt)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!kr||!It){this.fail(new Error("The current browser does not support image compression."));return}if(xr||(Bt.checkOrientation=!1),kr&&!Bt.checkOrientation)this.load({url:kr.createObjectURL(At)});else{var Xi=new It,es=Bt.checkOrientation&&Jt==="image/jpeg";this.reader=Xi,Xi.onload=function(Hi){var Er=Hi.target,xi=Er.result,Ci={};if(es){var ar=zt(xi);ar>1||!kr?(Ci.url=xt(xi,Jt),ar>1&&Y(Ci,mi(ar))):Ci.url=kr.createObjectURL(At)}else Ci.url=xi;ct.load(Ci)},Xi.onabort=function(){ct.fail(new Error("Aborted to read the image with FileReader."))},Xi.onerror=function(){ct.fail(new Error("Failed to read the image with FileReader."))},Xi.onloadend=function(){ct.reader=null},es?Xi.readAsArrayBuffer(At):Xi.readAsDataURL(At)}},"init")},{key:"load",value:a(function(ct){var At=this,Bt=this.file,Jt=this.image;Jt.onload=function(){At.draw(p(p({},ct),{},{naturalWidth:Jt.naturalWidth,naturalHeight:Jt.naturalHeight}))},Jt.onabort=function(){At.fail(new Error("Aborted to load the image."))},Jt.onerror=function(){At.fail(new Error("Failed to load the image."))},Ye.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ye.navigator.userAgent)&&(Jt.crossOrigin="anonymous"),Jt.alt=Bt.name,Jt.src=ct.url},"load")},{key:"draw",value:a(function(ct){var At=this,Bt=ct.naturalWidth,Jt=ct.naturalHeight,Xi=ct.rotate,es=Xi===void 0?0:Xi,Hi=ct.scaleX,Er=Hi===void 0?1:Hi,xi=ct.scaleY,Ci=xi===void 0?1:xi,ar=this.file,zs=this.image,Ki=this.options,Ms=document.createElement("canvas"),an=Ms.getContext("2d"),lo=Math.abs(es)%180===90,Do=(Ki.resize==="contain"||Ki.resize==="cover")&&Nt(Ki.width)&&Nt(Ki.height),oc=Math.max(Ki.maxWidth,0)||1/0,lc=Math.max(Ki.maxHeight,0)||1/0,cc=Math.max(Ki.minWidth,0)||0,hc=Math.max(Ki.minHeight,0)||0,Lo=Bt/Jt,Us=Ki.width,Ks=Ki.height;if(lo){var Ty=[lc,oc];oc=Ty[0],lc=Ty[1];var Cy=[hc,cc];cc=Cy[0],hc=Cy[1];var Ey=[Ks,Us];Us=Ey[0],Ks=Ey[1]}Do&&(Lo=Us/Ks);var vp=Pr({aspectRatio:Lo,width:oc,height:lc},"contain");oc=vp.width,lc=vp.height;var Oy=Pr({aspectRatio:Lo,width:cc,height:hc},"cover");if(cc=Oy.width,hc=Oy.height,Do){var My=Pr({aspectRatio:Lo,width:Us,height:Ks},Ki.resize);Us=My.width,Ks=My.height}else{var sr=Pr({aspectRatio:Lo,width:Us,height:Ks}),bp=sr.width;Us=bp===void 0?Bt:bp;var _h=sr.height;Ks=_h===void 0?Jt:_h}Us=Math.floor(lr(Math.min(Math.max(Us,cc),oc))),Ks=Math.floor(lr(Math.min(Math.max(Ks,hc),lc)));var Ro=-Us/2,I1=-Ks/2,Tl=Us,on=Ks,_p=[];if(Do){var Bu=0,cs=0,$r=Bt,wp=Jt,Fo=Pr({aspectRatio:Lo,width:Bt,height:Jt},{contain:"cover",cover:"contain"}[Ki.resize]);$r=Fo.width,wp=Fo.height,Bu=(Bt-$r)/2,cs=(Jt-wp)/2,_p.push(Bu,cs,$r,wp)}if(_p.push(Ro,I1,Tl,on),lo){var Ay=[Ks,Us];Us=Ay[0],Ks=Ay[1]}Ms.width=Us,Ms.height=Ks,ai(Ki.mimeType)||(Ki.mimeType=ar.type);var La="transparent";if(ar.size>Ki.convertSize&&Ki.convertTypes.indexOf(Ki.mimeType)>=0&&(Ki.mimeType="image/jpeg"),Ki.mimeType==="image/jpeg"&&(La="#fff"),an.fillStyle=La,an.fillRect(0,0,Us,Ks),Ki.beforeDraw&&Ki.beforeDraw.call(this,an,Ms),!this.aborted&&(an.save(),an.translate(Us/2,Ks/2),an.rotate(es*Math.PI/180),an.scale(Er,Ci),an.drawImage.apply(an,[zs].concat(_p)),an.restore(),Ki.drew&&Ki.drew.call(this,an,Ms),!this.aborted)){var xp=a(function(Ss){At.aborted||At.done({naturalWidth:Bt,naturalHeight:Jt,result:Ss})},"done");Ms.toBlob?Ms.toBlob(xp,Ki.mimeType,Ki.quality):xp(X(Ms.toDataURL(Ki.mimeType,Ki.quality)))}},"draw")},{key:"done",value:a(function(ct){var At=ct.naturalWidth,Bt=ct.naturalHeight,Jt=ct.result,Xi=this.file,es=this.image,Hi=this.options;if(kr&&!Hi.checkOrientation&&kr.revokeObjectURL(es.src),Jt)if(Hi.strict&&Jt.size>Xi.size&&Hi.mimeType===Xi.type&&!(Hi.width>At||Hi.height>Bt||Hi.minWidth>At||Hi.minHeight>Bt||Hi.maxWidth<At||Hi.maxHeight<Bt))Jt=Xi;else{var Er=new Date;Jt.lastModified=Er.getTime(),Jt.lastModifiedDate=Er,Jt.name=Xi.name,Jt.name&&Jt.type!==Xi.type&&(Jt.name=Jt.name.replace(yn,pt(Jt.type)))}else Jt=Xi;this.result=Jt,Hi.success&&Hi.success.call(this,Jt)},"done")},{key:"fail",value:a(function(ct){var At=this.options;if(At.error)At.error.call(this,ct);else throw ct},"fail")},{key:"abort",value:a(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))},"abort")}],[{key:"noConflict",value:a(function(){return window.Compressor=Kr,Xt},"noConflict")},{key:"setDefaults",value:a(function(ct){Y(fe,ct)},"setDefaults")}]),Xt}();o.exports=Xs}),f={};d(f,{Audio:()=>z_,AwsS3:()=>sw,AwsS3Multipart:()=>sy,Box:()=>Hg,Compressor:()=>iD,Core:()=>fD,Dashboard:()=>Fg,DefaultStore:()=>Ri,DragDrop:()=>Ig,DropTarget:()=>__,Dropbox:()=>Wg,Facebook:()=>jg,FileInput:()=>w_,Form:()=>A1,GoldenRetriever:()=>R1,GoogleDrive:()=>qg,ImageEditor:()=>x_,Informer:()=>mg,Instagram:()=>$g,OneDrive:()=>Vg,ProgressBar:()=>k_,ReduxDevTools:()=>F1,ReduxStore:()=>Yz,RemoteSources:()=>q_,ScreenCapture:()=>$_,StatusBar:()=>pg,ThumbnailGenerator:()=>Eg,Transloadit:()=>bh,Tus:()=>jf,Unsplash:()=>Yg,Uppy:()=>Ar,Url:()=>pf,Webcam:()=>Y_,XHRUpload:()=>T1,Zoom:()=>Xg,debugLogger:()=>J,locales:()=>YH,server:()=>tt,views:()=>VH});function w(r,o){return Object.prototype.hasOwnProperty.call(r,o)}a(w,"has");function A(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(A,"_classPrivateFieldLooseBase");var R=0;function B(r){return"__private_"+R+++"_"+r}a(B,"_classPrivateFieldLooseKey");function W(r,o,c){let p=[];return r.forEach(_=>typeof _!="string"?p.push(_):o[Symbol.split](_).forEach((M,F,N)=>{M!==""&&p.push(M),F<N.length-1&&p.push(c)})),p}a(W,"insertReplacement");function $(r,o){let c=/\$/g,p="$$$$",_=[r];if(o==null)return _;for(let M of Object.keys(o))if(M!=="_"){let F=o[M];typeof F=="string"&&(F=c[Symbol.replace](F,p)),_=W(_,new RegExp(`%\\{${M}\\}`,"g"),F)}return _}a($,"interpolate");var G=B("apply"),ue=class{constructor(r){Object.defineProperty(this,G,{value:Q}),this.locale={strings:{},pluralize(o){return o===1?0:1}},Array.isArray(r)?r.forEach(A(this,G)[G],this):A(this,G)[G](r)}translate(r,o){return this.translateArray(r,o).join("")}translateArray(r,o){if(!w(this.locale.strings,r))throw new Error(`missing string: ${r}`);let c=this.locale.strings[r];if(typeof c=="object"){if(o&&typeof o.smart_count<"u"){let p=this.locale.pluralize(o.smart_count);return $(c[p],o)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return $(c,o)}};a(ue,"Translator");function Q(r){if(!(r!=null&&r.strings))return;let o=this.locale;this.locale={...o,strings:{...o.strings,...r.strings}},this.locale.pluralize=r.pluralize||o.pluralize}a(Q,"_apply2");var K=y(b(),1),we="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ze=a((r=21)=>{let o="",c=r;for(;c--;)o+=we[Math.random()*64|0];return o},"nanoid"),Ke=y(k(),1);function Pe(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Pe,"_classPrivateFieldLooseBase");var We=0;function it(r){return"__private_"+We+++"_"+r}a(it,"_classPrivateFieldLooseKey");var vt={version:"3.0.2"},Lt=it("callbacks"),Re=it("publish"),Yt=class{constructor(){Object.defineProperty(this,Re,{value:$t}),Object.defineProperty(this,Lt,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(r){let o={...this.state},c={...this.state,...r};this.state=c,Pe(this,Re)[Re](o,c,r)}subscribe(r){return Pe(this,Lt)[Lt].add(r),()=>{Pe(this,Lt)[Lt].delete(r)}}};a(Yt,"DefaultStore");function $t(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];Pe(this,Lt)[Lt].forEach(p=>{p(...o)})}a($t,"_publish2"),Yt.VERSION=vt.version;var Ri=Yt;function nt(r){let o=r.lastIndexOf(".");return o===-1||o===r.length-1?{name:r,extension:void 0}:{name:r.slice(0,o),extension:r.slice(o+1)}}a(nt,"getFileNameAndExtension");var Si={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Qi(r){var o;if(r.type)return r.type;let c=r.name?(o=nt(r.name).extension)==null?void 0:o.toLowerCase():null;return c&&c in Si?Si[c]:"application/octet-stream"}a(Qi,"getFileType");function Ji(r){return r.charCodeAt(0).toString(32)}a(Ji,"encodeCharacter");function bt(r){let o="";return r.replace(/[^A-Z0-9]/ig,c=>(o+=`-${Ji(c)}`,"/"))+o}a(bt,"encodeFilename");function Wt(r){let o="uppy";return typeof r.name=="string"&&(o+=`-${bt(r.name.toLowerCase())}`),r.type!==void 0&&(o+=`-${r.type}`),r.meta&&typeof r.meta.relativePath=="string"&&(o+=`-${bt(r.meta.relativePath.toLowerCase())}`),r.data.size!==void 0&&(o+=`-${r.data.size}`),r.data.lastModified!==void 0&&(o+=`-${r.data.lastModified}`),o}a(Wt,"generateFileID");function Gi(r){if(r==null&&typeof navigator<"u"&&(r=navigator.userAgent),!r)return!0;let o=/Edge\/(\d+\.\d+)/.exec(r);if(!o)return!0;let c=o[1],[p,_]=c.split(".");return p=parseInt(p,10),_=parseInt(_,10),p<15||p===15&&_<15063||p>18||p===18&&_>=18218}a(Gi,"supportsUploadProgress");function jr(r,o){return o.name?o.name:r.split("/")[0]==="image"?`${r.split("/")[0]}.${r.split("/")[1]}`:"noname"}a(jr,"getFileName");function Zr(r){return r<10?`0${r}`:r.toString()}a(Zr,"pad");function Li(){let r=new Date,o=Zr(r.getHours()),c=Zr(r.getMinutes()),p=Zr(r.getSeconds());return`${o}:${c}:${p}`}a(Li,"getTimeStamp");var _r={debug:()=>{},warn:()=>{},error:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.error(`[Uppy] [${Li()}]`,...o)}},J={debug:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.debug(`[Uppy] [${Li()}]`,...o)},warn:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.warn(`[Uppy] [${Li()}]`,...o)},error:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.error(`[Uppy] [${Li()}]`,...o)}},pe=y(x(),1),ce=y(O(),1),Be={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},Ze=class extends Error{constructor(){super(...arguments),this.isRestriction=!0}};a(Ze,"RestrictionError");var Qe=class{constructor(r,o){this.i18n=o,this.getOpts=()=>{let c=r();if(c.restrictions.allowedFileTypes!=null&&!Array.isArray(c.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return c}}validate(r,o){let{maxFileSize:c,minFileSize:p,maxTotalFileSize:_,maxNumberOfFiles:M,allowedFileTypes:F}=this.getOpts().restrictions;if(M&&o.filter(N=>!N.isGhost).length+1>M)throw new Ze(`${this.i18n("youCanOnlyUploadX",{smart_count:M})}`);if(F&&!F.some(N=>N.includes("/")?r.type?(0,ce.default)(r.type.replace(/;.*?$/,""),N):!1:N[0]==="."&&r.extension?r.extension.toLowerCase()===N.slice(1).toLowerCase():!1)){let N=F.join(", ");throw new Ze(this.i18n("youCanOnlyUploadFileTypes",{types:N}))}if(_&&r.size!=null&&o.reduce((N,Y)=>N+Y.size,r.size)>_)throw new Ze(this.i18n("exceedsSize",{size:(0,pe.default)(_),file:r.name}));if(c&&r.size!=null&&r.size>c)throw new Ze(this.i18n("exceedsSize",{size:(0,pe.default)(c),file:r.name}));if(p&&r.size!=null&&r.size<p)throw new Ze(this.i18n("inferiorSize",{size:(0,pe.default)(p)}))}validateMinNumberOfFiles(r){let{minNumberOfFiles:o}=this.getOpts().restrictions;if(Object.keys(r).length<o)throw new Ze(this.i18n("youHaveToAtLeastSelectX",{smart_count:o}))}getMissingRequiredMetaFields(r){let o=new Ze(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),{requiredMetaFields:c}=this.getOpts().restrictions,p=[];for(let _ of c)(!Object.hasOwn(r.meta,_)||r.meta[_]==="")&&p.push(_);return{missingFields:p,error:o}}};a(Qe,"Restricter");var Pt={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},Zt,oi;function de(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(de,"_classPrivateFieldLooseBase");var Ne=0;function ut(r){return"__private_"+Ne+++"_"+r}a(ut,"_classPrivateFieldLooseKey");var He={version:"3.0.4"},ht=ut("plugins"),Ge=ut("restricter"),Rt=ut("storeUnsubscribe"),Gt=ut("emitter"),Mi=ut("preProcessors"),gi=ut("uploaders"),ie=ut("postProcessors"),se=ut("informAndEmit"),be=ut("checkRequiredMetaFieldsOnFile"),je=ut("checkRequiredMetaFields"),gt=ut("assertNewUploadAllowed"),St=ut("checkAndCreateFileStateObject"),Ti=ut("startIfAutoProceed"),ei=ut("addListeners"),yi=ut("updateOnlineStatus"),Dt=ut("createUpload"),pi=ut("getUpload"),er=ut("removeUpload"),Qr=ut("runUpload");Zt=Symbol.for("uppy test: getPlugins"),oi=Symbol.for("uppy test: createUpload");var Jr=class{constructor(r){Object.defineProperty(this,Qr,{value:ri}),Object.defineProperty(this,er,{value:Ct}),Object.defineProperty(this,pi,{value:le}),Object.defineProperty(this,Dt,{value:jt}),Object.defineProperty(this,ei,{value:sl}),Object.defineProperty(this,Ti,{value:Co}),Object.defineProperty(this,St,{value:To}),Object.defineProperty(this,gt,{value:vr}),Object.defineProperty(this,je,{value:Yn}),Object.defineProperty(this,be,{value:rr}),Object.defineProperty(this,se,{value:wr}),Object.defineProperty(this,ht,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Ge,{writable:!0,value:void 0}),Object.defineProperty(this,Rt,{writable:!0,value:void 0}),Object.defineProperty(this,Gt,{writable:!0,value:(0,K.default)()}),Object.defineProperty(this,Mi,{writable:!0,value:new Set}),Object.defineProperty(this,gi,{writable:!0,value:new Set}),Object.defineProperty(this,ie,{writable:!0,value:new Set}),Object.defineProperty(this,yi,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=Pt;let o={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Be,meta:{},onBeforeFileAdded:c=>c,onBeforeUpload:c=>c,store:new Ri,logger:_r,infoTimeout:5e3};this.opts={...o,...r,restrictions:{...o.restrictions,...r&&r.restrictions}},r&&r.logger&&r.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):r&&r.debug&&(this.opts.logger=J),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=(0,Ke.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:Gi(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),de(this,Ge)[Ge]=new Qe(()=>this.opts,this.i18n),de(this,Rt)[Rt]=this.store.subscribe((c,p,_)=>{this.emit("state-update",c,p,_),this.updateAll(p)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),de(this,ei)[ei]()}emit(r){for(var o=arguments.length,c=new Array(o>1?o-1:0),p=1;p<o;p++)c[p-1]=arguments[p];de(this,Gt)[Gt].emit(r,...c)}on(r,o){return de(this,Gt)[Gt].on(r,o),this}once(r,o){return de(this,Gt)[Gt].once(r,o),this}off(r,o){return de(this,Gt)[Gt].off(r,o),this}updateAll(r){this.iteratePlugins(o=>{o.update(r)})}setState(r){this.store.setState(r)}getState(){return this.store.getState()}setFileState(r,o){if(!this.getState().files[r])throw new Error(`Cant set state for ${r} (the file could have been removed)`);this.setState({files:{...this.getState().files,[r]:{...this.getState().files[r],...o}}})}i18nInit(){let r=new ue([this.defaultLocale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(r){this.opts={...this.opts,...r,restrictions:{...this.opts.restrictions,...r&&r.restrictions}},r.meta&&this.setMeta(r.meta),this.i18nInit(),r.locale&&this.iteratePlugins(o=>{o.setOptions()}),this.setState()}resetProgress(){let r={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},o={...this.getState().files},c={};Object.keys(o).forEach(p=>{let _={...o[p]};_.progress={..._.progress,...r},c[p]=_}),this.setState({files:c,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(r){de(this,Mi)[Mi].add(r)}removePreProcessor(r){return de(this,Mi)[Mi].delete(r)}addPostProcessor(r){de(this,ie)[ie].add(r)}removePostProcessor(r){return de(this,ie)[ie].delete(r)}addUploader(r){de(this,gi)[gi].add(r)}removeUploader(r){return de(this,gi)[gi].delete(r)}setMeta(r){let o={...this.getState().meta,...r},c={...this.getState().files};Object.keys(c).forEach(p=>{c[p]={...c[p],meta:{...c[p].meta,...r}}}),this.log("Adding metadata:"),this.log(r),this.setState({meta:o,files:c})}setFileMeta(r,o){let c={...this.getState().files};if(!c[r]){this.log("Was trying to set metadata for a file that has been removed: ",r);return}let p={...c[r].meta,...o};c[r]={...c[r],meta:p},this.setState({files:c})}getFile(r){return this.getState().files[r]}getFiles(){let{files:r}=this.getState();return Object.values(r)}getObjectOfFilesPerState(){let{files:r,totalProgress:o,error:c}=this.getState(),p=Object.values(r),_=p.filter(Te=>{let{progress:Ye}=Te;return!Ye.uploadComplete&&Ye.uploadStarted}),M=p.filter(Te=>!Te.progress.uploadStarted),F=p.filter(Te=>Te.progress.uploadStarted||Te.progress.preprocess||Te.progress.postprocess),N=p.filter(Te=>Te.progress.uploadStarted),Y=p.filter(Te=>Te.isPaused),re=p.filter(Te=>Te.progress.uploadComplete),X=p.filter(Te=>Te.error),oe=_.filter(Te=>!Te.isPaused),fe=p.filter(Te=>Te.progress.preprocess||Te.progress.postprocess);return{newFiles:M,startedFiles:F,uploadStartedFiles:N,pausedFiles:Y,completeFiles:re,erroredFiles:X,inProgressFiles:_,inProgressNotPausedFiles:oe,processingFiles:fe,isUploadStarted:N.length>0,isAllComplete:o===100&&re.length===p.length&&fe.length===0,isAllErrored:!!c&&X.length===p.length,isAllPaused:_.length!==0&&Y.length===_.length,isUploadInProgress:_.length>0,isSomeGhost:p.some(Te=>Te.isGhost)}}validateRestrictions(r,o){o===void 0&&(o=this.getFiles());try{de(this,Ge)[Ge].validate(r,o)}catch(c){return c}return null}checkIfFileAlreadyExists(r){let{files:o}=this.getState();return!!(o[r]&&!o[r].isGhost)}addFile(r){de(this,gt)[gt](r);let{files:o}=this.getState(),c=de(this,St)[St](o,r);return o[c.id]&&o[c.id].isGhost&&(c={...o[c.id],data:r.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`)),this.setState({files:{...o,[c.id]:c}}),this.emit("file-added",c),this.emit("files-added",[c]),this.log(`Added file: ${c.name}, ${c.id}, mime type: ${c.type}`),de(this,Ti)[Ti](),c.id}addFiles(r){de(this,gt)[gt]();let o={...this.getState().files},c=[],p=[];for(let _=0;_<r.length;_++)try{let M=de(this,St)[St](o,r[_]);o[M.id]&&o[M.id].isGhost&&(M={...o[M.id],data:r[_].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${M.name}, ${M.id}`)),o[M.id]=M,c.push(M)}catch(M){M.isRestriction||p.push(M)}if(this.setState({files:o}),c.forEach(_=>{this.emit("file-added",_)}),this.emit("files-added",c),c.length>5?this.log(`Added batch of ${c.length} files`):Object.keys(c).forEach(_=>{this.log(`Added file: ${c[_].name}
 id: ${c[_].id}
 type: ${c[_].type}`)}),c.length>0&&de(this,Ti)[Ti](),p.length>0){let _=`Multiple errors occurred while adding files:
`;if(p.forEach(M=>{_+=`
 * ${M.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:p.length}),details:_},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(p,_);{let M=new Error(_);throw M.errors=p,M}}}removeFiles(r,o){let{files:c,currentUploads:p}=this.getState(),_={...c},M={...p},F=Object.create(null);r.forEach(X=>{c[X]&&(F[X]=c[X],delete _[X])});function N(X){return F[X]===void 0}a(N,"fileIsNotRemoved"),Object.keys(M).forEach(X=>{let oe=p[X].fileIDs.filter(N);if(oe.length===0){delete M[X];return}let{capabilities:fe}=this.getState();if(oe.length!==p[X].fileIDs.length&&!fe.individualCancellation)throw new Error("individualCancellation is disabled");M[X]={...p[X],fileIDs:oe}});let Y={currentUploads:M,files:_};Object.keys(_).length===0&&(Y.allowNewUpload=!0,Y.error=null,Y.recoveredState=null),this.setState(Y),this.calculateTotalProgress();let re=Object.keys(F);re.forEach(X=>{this.emit("file-removed",F[X],o)}),re.length>5?this.log(`Removed ${re.length} files`):this.log(`Removed files: ${re.join(", ")}`)}removeFile(r,o){o===void 0&&(o=null),this.removeFiles([r],o)}pauseResume(r){if(!this.getState().capabilities.resumableUploads||this.getFile(r).uploadComplete)return;let o=!this.getFile(r).isPaused;return this.setFileState(r,{isPaused:o}),this.emit("upload-pause",r,o),o}pauseAll(){let r={...this.getState().files};Object.keys(r).filter(o=>!r[o].progress.uploadComplete&&r[o].progress.uploadStarted).forEach(o=>{let c={...r[o],isPaused:!0};r[o]=c}),this.setState({files:r}),this.emit("pause-all")}resumeAll(){let r={...this.getState().files};Object.keys(r).filter(o=>!r[o].progress.uploadComplete&&r[o].progress.uploadStarted).forEach(o=>{let c={...r[o],isPaused:!1,error:null};r[o]=c}),this.setState({files:r}),this.emit("resume-all")}retryAll(){let r={...this.getState().files},o=Object.keys(r).filter(p=>r[p].error);if(o.forEach(p=>{let _={...r[p],isPaused:!1,error:null};r[p]=_}),this.setState({files:r,error:null}),this.emit("retry-all",o),o.length===0)return Promise.resolve({successful:[],failed:[]});let c=de(this,Dt)[Dt](o,{forceAllowNewUpload:!0});return de(this,Qr)[Qr](c)}cancelAll(r){let{reason:o="user"}=r===void 0?{}:r;if(this.emit("cancel-all",{reason:o}),o==="user"){let{files:c}=this.getState(),p=Object.keys(c);p.length&&this.removeFiles(p,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(r){this.setFileState(r,{error:null,isPaused:!1}),this.emit("upload-retry",r);let o=de(this,Dt)[Dt]([r],{forceAllowNewUpload:!0});return de(this,Qr)[Qr](o)}logout(){this.iteratePlugins(r=>{r.provider&&r.provider.logout&&r.provider.logout()})}calculateProgress(r,o){if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}let c=Number.isFinite(o.bytesTotal)&&o.bytesTotal>0;this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,bytesUploaded:o.bytesUploaded,bytesTotal:o.bytesTotal,percentage:c?Math.round(o.bytesUploaded/o.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){let r=this.getFiles().filter(N=>N.progress.uploadStarted||N.progress.preprocess||N.progress.postprocess);if(r.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}let o=r.filter(N=>N.progress.bytesTotal!=null),c=r.filter(N=>N.progress.bytesTotal==null);if(o.length===0){let N=r.length*100,Y=c.reduce((X,oe)=>X+oe.progress.percentage,0),re=Math.round(Y/N*100);this.setState({totalProgress:re});return}let p=o.reduce((N,Y)=>N+Y.progress.bytesTotal,0),_=p/o.length;p+=_*c.length;let M=0;o.forEach(N=>{M+=N.progress.bytesUploaded}),c.forEach(N=>{M+=_*(N.progress.percentage||0)/100});let F=p===0?0:Math.round(M/p*100);F>100&&(F=100),this.setState({totalProgress:F}),this.emit("progress",F)}updateOnlineStatus(){!(typeof window.navigator.onLine<"u")||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(r,o){if(typeof r!="function"){let M=`Expected a plugin class, but got ${r===null?"null":typeof r}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(M)}let c=new r(this,o),p=c.id;if(!p)throw new Error("Your plugin must have an id");if(!c.type)throw new Error("Your plugin must have a type");let _=this.getPlugin(p);if(_){let M=`Already found a plugin named '${_.id}'. Tried to use: '${p}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(M)}return r.VERSION&&this.log(`Using ${p} v${r.VERSION}`),c.type in de(this,ht)[ht]?de(this,ht)[ht][c.type].push(c):de(this,ht)[ht][c.type]=[c],c.install(),this}getPlugin(r){for(let o of Object.values(de(this,ht)[ht])){let c=o.find(p=>p.id===r);if(c!=null)return c}}[Zt](r){return de(this,ht)[ht][r]}iteratePlugins(r){Object.values(de(this,ht)[ht]).flat(1).forEach(r)}removePlugin(r){this.log(`Removing plugin ${r.id}`),this.emit("plugin-remove",r),r.uninstall&&r.uninstall();let o=de(this,ht)[ht][r.type],c=o.findIndex(_=>_.id===r.id);c!==-1&&o.splice(c,1);let p={plugins:{...this.getState().plugins,[r.id]:void 0}};this.setState(p)}close(r){let{reason:o}=r===void 0?{}:r;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:o}),de(this,Rt)[Rt](),this.iteratePlugins(c=>{this.removePlugin(c)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",de(this,yi)[yi]),window.removeEventListener("offline",de(this,yi)[yi]))}hideInfo(){let{info:r}=this.getState();this.setState({info:r.slice(1)}),this.emit("info-hidden")}info(r,o,c){o===void 0&&(o="info"),c===void 0&&(c=3e3);let p=typeof r=="object";this.setState({info:[...this.getState().info,{type:o,message:p?r.message:r,details:p?r.details:null}]}),setTimeout(()=>this.hideInfo(),c),this.emit("info-visible")}log(r,o){let{logger:c}=this.opts;switch(o){case"error":c.error(r);break;case"warning":c.warn(r);break;default:c.debug(r);break}}restore(r){return this.log(`Core: attempting to restore upload "${r}"`),this.getState().currentUploads[r]?de(this,Qr)[Qr](r):(de(this,er)[er](r),Promise.reject(new Error("Nonexistent upload")))}[oi](){return de(this,Dt)[Dt](...arguments)}addResultData(r,o){if(!de(this,pi)[pi](r)){this.log(`Not setting result for an upload that has been removed: ${r}`);return}let{currentUploads:c}=this.getState(),p={...c[r],result:{...c[r].result,...o}};this.setState({currentUploads:{...c,[r]:p}})}upload(){var r;(r=de(this,ht)[ht].uploader)!=null&&r.length||this.log("No uploader type plugins are used","warning");let{files:o}=this.getState(),c=this.opts.onBeforeUpload(o);return c===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(c&&typeof c=="object"&&(o=c,this.setState({files:o})),Promise.resolve().then(()=>de(this,Ge)[Ge].validateMinNumberOfFiles(o)).catch(p=>{throw de(this,se)[se](p),p}).then(()=>{if(!de(this,je)[je](o))throw new Ze(this.i18n("missingRequiredMetaField"))}).catch(p=>{throw p}).then(()=>{let{currentUploads:p}=this.getState(),_=Object.values(p).flatMap(N=>N.fileIDs),M=[];Object.keys(o).forEach(N=>{let Y=this.getFile(N);!Y.progress.uploadStarted&&_.indexOf(N)===-1&&M.push(Y.id)});let F=de(this,Dt)[Dt](M);return de(this,Qr)[Qr](F)}).catch(p=>{throw this.emit("error",p),this.log(p,"error"),p}))}};a(Jr,"Uppy");function wr(r,o){let{message:c,details:p=""}=r;r.isRestriction?this.emit("restriction-failed",o,r):this.emit("error",r),this.info({message:c,details:p},"error",this.opts.infoTimeout),this.log(`${c} ${p}`.trim(),"error")}a(wr,"_informAndEmit2");function rr(r){let{missingFields:o,error:c}=de(this,Ge)[Ge].getMissingRequiredMetaFields(r);return o.length>0?(this.setFileState(r.id,{missingRequiredMetaFields:o}),this.log(c.message),this.emit("restriction-failed",r,c),!1):!0}a(rr,"_checkRequiredMetaFieldsOnFile2");function Yn(r){let o=!0;for(let c of Object.values(r))de(this,be)[be](c)||(o=!1);return o}a(Yn,"_checkRequiredMetaFields2");function vr(r){let{allowNewUpload:o}=this.getState();if(o===!1){let c=new Ze(this.i18n("noMoreFilesAllowed"));throw de(this,se)[se](c,r),c}}a(vr,"_assertNewUploadAllowed2");function To(r,o){o instanceof File&&(o={name:o.name,type:o.type,size:o.size,data:o});let c=Qi(o),p=jr(c,o),_=nt(p).extension,M=!!o.isRemote,F=Wt({...o,type:c});if(this.checkIfFileAlreadyExists(F)){let oe=new Ze(this.i18n("noDuplicates",{fileName:p}));throw de(this,se)[se](oe,o),oe}let N=o.meta||{};N.name=p,N.type=c;let Y=Number.isFinite(o.data.size)?o.data.size:null,re={source:o.source||"",id:F,name:p,extension:_||"",meta:{...this.getState().meta,...N},type:c,data:o.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:Y,uploadComplete:!1,uploadStarted:null},size:Y,isRemote:M,remote:o.remote||"",preview:o.preview},X=this.opts.onBeforeFileAdded(re,r);if(X===!1){let oe=new Ze("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",o,oe),oe}else typeof X=="object"&&X!==null&&(re=X);try{let oe=Object.keys(r).map(fe=>r[fe]);de(this,Ge)[Ge].validate(re,oe)}catch(oe){throw de(this,se)[se](oe,re),oe}return re}a(To,"_checkAndCreateFileStateObject2");function Co(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(r=>{r.isRestriction||this.log(r.stack||r.message||r)})},4))}a(Co,"_startIfAutoProceed2");function sl(){let r=a((o,c,p)=>{let _=o.message||"Unknown error";o.details&&(_+=` ${o.details}`),this.setState({error:_}),c!=null&&c.id in this.getState().files&&this.setFileState(c.id,{error:_,response:p})},"errorHandler");this.on("error",r),this.on("upload-error",(o,c,p)=>{if(r(c,o,p),typeof c=="object"&&c.message){let _=new Error(c.message);_.details=c.message,c.details&&(_.details+=` ${c.details}`),_.message=this.i18n("failedToUpload",{file:o==null?void 0:o.name}),de(this,se)[se](_)}else de(this,se)[se](c)}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",o=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}this.setFileState(o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:o.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(o,c)=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}let p=this.getFile(o.id).progress;this.setFileState(o.id,{progress:{...p,postprocess:de(this,ie)[ie].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:p.bytesTotal},response:c,uploadURL:c.uploadURL,isPaused:!1}),o.size==null&&this.setFileState(o.id,{size:c.bytesUploaded||p.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(o,c)=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}this.setFileState(o.id,{progress:{...this.getFile(o.id).progress,preprocess:c}})}),this.on("preprocess-complete",o=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}let c={...this.getState().files};c[o.id]={...c[o.id],progress:{...c[o.id].progress}},delete c[o.id].progress.preprocess,this.setState({files:c})}),this.on("postprocess-progress",(o,c)=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}this.setFileState(o.id,{progress:{...this.getState().files[o.id].progress,postprocess:c}})}),this.on("postprocess-complete",o=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}let c={...this.getState().files};c[o.id]={...c[o.id],progress:{...c[o.id].progress}},delete c[o.id].progress.postprocess,this.setState({files:c})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",o=>{o&&de(this,be)[be](o)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",de(this,yi)[yi]),window.addEventListener("offline",de(this,yi)[yi]),setTimeout(de(this,yi)[yi],3e3))}a(sl,"_addListeners2");function jt(r,o){o===void 0&&(o={});let{forceAllowNewUpload:c=!1}=o,{allowNewUpload:p,currentUploads:_}=this.getState();if(!p&&!c)throw new Error("Cannot create a new upload: already uploading.");let M=ze();return this.emit("upload",{id:M,fileIDs:r}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{..._,[M]:{fileIDs:r,step:0,result:{}}}}),M}a(jt,"_createUpload2");function le(r){let{currentUploads:o}=this.getState();return o[r]}a(le,"_getUpload2");function Ct(r){let o={...this.getState().currentUploads};delete o[r],this.setState({currentUploads:o})}a(Ct,"_removeUpload2");async function ri(r){let{currentUploads:o}=this.getState(),c=o[r],p=c.step||0,_=[...de(this,Mi)[Mi],...de(this,gi)[gi],...de(this,ie)[ie]];try{for(let F=p;F<_.length&&c;F++){let N=_[F],Y={...c,step:F};this.setState({currentUploads:{...o,[r]:Y}}),await N(Y.fileIDs,r),o=this.getState().currentUploads,c=o[r]}}catch(F){throw de(this,er)[er](r),F}if(c){c.fileIDs.forEach(re=>{let X=this.getFile(re);X&&X.progress.postprocess&&this.emit("postprocess-complete",X)});let F=c.fileIDs.map(re=>this.getFile(re)),N=F.filter(re=>!re.error),Y=F.filter(re=>re.error);await this.addResultData(r,{successful:N,failed:Y,uploadID:r}),o=this.getState().currentUploads,c=o[r]}let M;return c&&(M=c.result,this.emit("complete",M),de(this,er)[er](r)),M==null&&this.log(`Not setting result for an upload that has been removed: ${r}`),M}a(ri,"_runUpload2"),Jr.VERSION=He.version;var Ar=Jr,Br,ti,ys,bs,Qa,is={},Eo=[],$s=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Mn(r,o){for(var c in o)r[c]=o[c];return r}a(Mn,"s");function yu(r){var o=r.parentNode;o&&o.removeChild(r)}a(yu,"a");function v(r,o,c){var p,_,M,F={};for(M in o)M=="key"?p=o[M]:M=="ref"?_=o[M]:F[M]=o[M];if(arguments.length>2&&(F.children=arguments.length>3?Br.call(arguments,2):c),typeof r=="function"&&r.defaultProps!=null)for(M in r.defaultProps)F[M]===void 0&&(F[M]=r.defaultProps[M]);return H(r,F,p,_,null)}a(v,"h");function H(r,o,c,p,_){var M={type:r,props:o,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_??++ys};return _==null&&ti.vnode!=null&&ti.vnode(M),M}a(H,"v");function j(){return{current:null}}a(j,"y");function V(r){return r.children}a(V,"p");function ae(r,o){this.props=r,this.context=o}a(ae,"d");function ne(r,o){if(o==null)return r.__?ne(r.__,r.__.__k.indexOf(r)+1):null;for(var c;o<r.__k.length;o++)if((c=r.__k[o])!=null&&c.__e!=null)return c.__e;return typeof r.type=="function"?ne(r):null}a(ne,"_");function _e(r){var o,c;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,o=0;o<r.__k.length;o++)if((c=r.__k[o])!=null&&c.__e!=null){r.__e=r.__c.base=c.__e;break}return _e(r)}}a(_e,"k");function Se(r){(!r.__d&&(r.__d=!0)&&bs.push(r)&&!xe.__r++||Qa!==ti.debounceRendering)&&((Qa=ti.debounceRendering)||setTimeout)(xe)}a(Se,"b");function xe(){for(var r;xe.__r=bs.length;)r=bs.sort(function(o,c){return o.__v.__b-c.__v.__b}),bs=[],r.some(function(o){var c,p,_,M,F,N;o.__d&&(F=(M=(c=o).__v).__e,(N=c.__P)&&(p=[],(_=Mn({},M)).__v=M.__v+1,Ae(N,M,_,c.__n,N.ownerSVGElement!==void 0,M.__h!=null?[F]:null,p,F??ne(M),M.__h),Ft(p,M),M.__e!=F&&_e(M)))})}a(xe,"g");function at(r,o,c,p,_,M,F,N,Y,re){var X,oe,fe,Te,Ye,Nt,Et,Qt=p&&p.__k||Eo,Fi=Qt.length;for(c.__k=[],X=0;X<o.length;X++)if((Te=c.__k[X]=(Te=o[X])==null||typeof Te=="boolean"?null:typeof Te=="string"||typeof Te=="number"||typeof Te=="bigint"?H(null,Te,null,null,Te):Array.isArray(Te)?H(V,{children:Te},null,null,null):Te.__b>0?H(Te.type,Te.props,Te.key,null,Te.__v):Te)!=null){if(Te.__=c,Te.__b=c.__b+1,(fe=Qt[X])===null||fe&&Te.key==fe.key&&Te.type===fe.type)Qt[X]=void 0;else for(oe=0;oe<Fi;oe++){if((fe=Qt[oe])&&Te.key==fe.key&&Te.type===fe.type){Qt[oe]=void 0;break}fe=null}Ae(r,Te,fe=fe||is,_,M,F,N,Y,re),Ye=Te.__e,(oe=Te.ref)&&fe.ref!=oe&&(Et||(Et=[]),fe.ref&&Et.push(fe.ref,null,Te),Et.push(oe,Te.__c||Ye,Te)),Ye!=null?(Nt==null&&(Nt=Ye),typeof Te.type=="function"&&Te.__k===fe.__k?Te.__d=Y=Fe(Te,Y,r):Y=rt(r,Te,fe,Qt,Ye,Y),typeof c.type=="function"&&(c.__d=Y)):Y&&fe.__e==Y&&Y.parentNode!=r&&(Y=ne(fe))}for(c.__e=Nt,X=Fi;X--;)Qt[X]!=null&&(typeof c.type=="function"&&Qt[X].__e!=null&&Qt[X].__e==c.__d&&(c.__d=ne(p,X+1)),ke(Qt[X],Qt[X]));if(Et)for(X=0;X<Et.length;X++)qt(Et[X],Et[++X],Et[++X])}a(at,"w");function Fe(r,o,c){for(var p,_=r.__k,M=0;_&&M<_.length;M++)(p=_[M])&&(p.__=r,o=typeof p.type=="function"?Fe(p,o,c):rt(c,p,p,_,p.__e,o));return o}a(Fe,"m");function Ie(r,o){return o=o||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(c){Ie(c,o)}):o.push(r)),o}a(Ie,"x");function rt(r,o,c,p,_,M){var F,N,Y;if(o.__d!==void 0)F=o.__d,o.__d=void 0;else if(c==null||_!=M||_.parentNode==null)e:if(M==null||M.parentNode!==r)r.appendChild(_),F=null;else{for(N=M,Y=0;(N=N.nextSibling)&&Y<p.length;Y+=2)if(N==_)break e;r.insertBefore(_,M),F=M}return F!==void 0?F:_.nextSibling}a(rt,"A");function De(r,o,c,p,_){var M;for(M in c)M==="children"||M==="key"||M in o||ve(r,M,null,c[M],p);for(M in o)_&&typeof o[M]!="function"||M==="children"||M==="key"||M==="value"||M==="checked"||c[M]===o[M]||ve(r,M,o[M],c[M],p)}a(De,"C");function Ee(r,o,c){o[0]==="-"?r.setProperty(o,c):r[o]=c==null?"":typeof c!="number"||$s.test(o)?c:c+"px"}a(Ee,"$");function ve(r,o,c,p,_){var M;e:if(o==="style")if(typeof c=="string")r.style.cssText=c;else{if(typeof p=="string"&&(r.style.cssText=p=""),p)for(o in p)c&&o in c||Ee(r.style,o,"");if(c)for(o in c)p&&c[o]===p[o]||Ee(r.style,o,c[o])}else if(o[0]==="o"&&o[1]==="n")M=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in r?o.toLowerCase().slice(2):o.slice(2),r.l||(r.l={}),r.l[o+M]=c,c?p||r.addEventListener(o,M?Oe:ye,M):r.removeEventListener(o,M?Oe:ye,M);else if(o!=="dangerouslySetInnerHTML"){if(_)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(o!=="href"&&o!=="list"&&o!=="form"&&o!=="tabIndex"&&o!=="download"&&o in r)try{r[o]=c??"";break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||o[0]==="a"&&o[1]==="r")?r.setAttribute(o,c):r.removeAttribute(o))}}a(ve,"H");function ye(r){this.l[r.type+!1](ti.event?ti.event(r):r)}a(ye,"I");function Oe(r){this.l[r.type+!0](ti.event?ti.event(r):r)}a(Oe,"T");function Ae(r,o,c,p,_,M,F,N,Y){var re,X,oe,fe,Te,Ye,Nt,Et,Qt,Fi,ai,pt,wt,yt=o.type;if(o.constructor!==void 0)return null;c.__h!=null&&(Y=c.__h,N=o.__e=c.__e,o.__h=null,M=[N]),(re=ti.__b)&&re(o);try{e:if(typeof yt=="function"){if(Et=o.props,Qt=(re=yt.contextType)&&p[re.__c],Fi=re?Qt?Qt.props.value:re.__:p,c.__c?Nt=(X=o.__c=c.__c).__=X.__E:("prototype"in yt&&yt.prototype.render?o.__c=X=new yt(Et,Fi):(o.__c=X=new ae(Et,Fi),X.constructor=yt,X.render=lt),Qt&&Qt.sub(X),X.props=Et,X.state||(X.state={}),X.context=Fi,X.__n=p,oe=X.__d=!0,X.__h=[]),X.__s==null&&(X.__s=X.state),yt.getDerivedStateFromProps!=null&&(X.__s==X.state&&(X.__s=Mn({},X.__s)),Mn(X.__s,yt.getDerivedStateFromProps(Et,X.__s))),fe=X.props,Te=X.state,oe)yt.getDerivedStateFromProps==null&&X.componentWillMount!=null&&X.componentWillMount(),X.componentDidMount!=null&&X.__h.push(X.componentDidMount);else{if(yt.getDerivedStateFromProps==null&&Et!==fe&&X.componentWillReceiveProps!=null&&X.componentWillReceiveProps(Et,Fi),!X.__e&&X.shouldComponentUpdate!=null&&X.shouldComponentUpdate(Et,X.__s,Fi)===!1||o.__v===c.__v){X.props=Et,X.state=X.__s,o.__v!==c.__v&&(X.__d=!1),X.__v=o,o.__e=c.__e,o.__k=c.__k,o.__k.forEach(function(Ue){Ue&&(Ue.__=o)}),X.__h.length&&F.push(X);break e}X.componentWillUpdate!=null&&X.componentWillUpdate(Et,X.__s,Fi),X.componentDidUpdate!=null&&X.__h.push(function(){X.componentDidUpdate(fe,Te,Ye)})}if(X.context=Fi,X.props=Et,X.__v=o,X.__P=r,ai=ti.__r,pt=0,"prototype"in yt&&yt.prototype.render)X.state=X.__s,X.__d=!1,ai&&ai(o),re=X.render(X.props,X.state,X.context);else do X.__d=!1,ai&&ai(o),re=X.render(X.props,X.state,X.context),X.state=X.__s;while(X.__d&&++pt<25);X.state=X.__s,X.getChildContext!=null&&(p=Mn(Mn({},p),X.getChildContext())),oe||X.getSnapshotBeforeUpdate==null||(Ye=X.getSnapshotBeforeUpdate(fe,Te)),wt=re!=null&&re.type===V&&re.key==null?re.props.children:re,at(r,Array.isArray(wt)?wt:[wt],o,c,p,_,M,F,N,Y),X.base=o.__e,o.__h=null,X.__h.length&&F.push(X),Nt&&(X.__E=X.__=null),X.__e=!1}else M==null&&o.__v===c.__v?(o.__k=c.__k,o.__e=c.__e):o.__e=Xe(c.__e,o,c,p,_,M,F,Y);(re=ti.diffed)&&re(o)}catch(Ue){o.__v=null,(Y||M!=null)&&(o.__e=N,o.__h=!!Y,M[M.indexOf(N)]=null),ti.__e(Ue,o,c)}}a(Ae,"j");function Ft(r,o){ti.__c&&ti.__c(o,r),r.some(function(c){try{r=c.__h,c.__h=[],r.some(function(p){p.call(c)})}catch(p){ti.__e(p,c.__v)}})}a(Ft,"z");function Xe(r,o,c,p,_,M,F,N){var Y,re,X,oe=c.props,fe=o.props,Te=o.type,Ye=0;if(Te==="svg"&&(_=!0),M!=null){for(;Ye<M.length;Ye++)if((Y=M[Ye])&&"setAttribute"in Y==!!Te&&(Te?Y.localName===Te:Y.nodeType===3)){r=Y,M[Ye]=null;break}}if(r==null){if(Te===null)return document.createTextNode(fe);r=_?document.createElementNS("http://www.w3.org/2000/svg",Te):document.createElement(Te,fe.is&&fe),M=null,N=!1}if(Te===null)oe===fe||N&&r.data===fe||(r.data=fe);else{if(M=M&&Br.call(r.childNodes),re=(oe=c.props||is).dangerouslySetInnerHTML,X=fe.dangerouslySetInnerHTML,!N){if(M!=null)for(oe={},Ye=0;Ye<r.attributes.length;Ye++)oe[r.attributes[Ye].name]=r.attributes[Ye].value;(X||re)&&(X&&(re&&X.__html==re.__html||X.__html===r.innerHTML)||(r.innerHTML=X&&X.__html||""))}if(De(r,fe,oe,_,N),X)o.__k=[];else if(Ye=o.props.children,at(r,Array.isArray(Ye)?Ye:[Ye],o,c,p,_&&Te!=="foreignObject",M,F,M?M[0]:c.__k&&ne(c,0),N),M!=null)for(Ye=M.length;Ye--;)M[Ye]!=null&&yu(M[Ye]);N||("value"in fe&&(Ye=fe.value)!==void 0&&(Ye!==r.value||Te==="progress"&&!Ye||Te==="option"&&Ye!==oe.value)&&ve(r,"value",Ye,oe.value,!1),"checked"in fe&&(Ye=fe.checked)!==void 0&&Ye!==r.checked&&ve(r,"checked",Ye,oe.checked,!1))}return r}a(Xe,"L");function qt(r,o,c){try{typeof r=="function"?r(o):r.current=o}catch(p){ti.__e(p,c)}}a(qt,"M");function ke(r,o,c){var p,_;if(ti.unmount&&ti.unmount(r),(p=r.ref)&&(p.current&&p.current!==r.__e||qt(p,null,o)),(p=r.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(M){ti.__e(M,o)}p.base=p.__P=null}if(p=r.__k)for(_=0;_<p.length;_++)p[_]&&ke(p[_],o,typeof r.type!="function");c||r.__e==null||yu(r.__e),r.__e=r.__d=void 0}a(ke,"N");function lt(r,o,c){return this.constructor(r,c)}a(lt,"O");function ot(r,o,c){var p,_,M;ti.__&&ti.__(r,o),_=(p=typeof c=="function")?null:c&&c.__k||o.__k,M=[],Ae(o,r=(!p&&c||o).__k=v(V,null,[r]),_||is,is,o.ownerSVGElement!==void 0,!p&&c?[c]:_?null:o.firstChild?Br.call(o.childNodes):null,M,!p&&c?c:_?_.__e:o.firstChild,p),Ft(M,r)}a(ot,"P");function he(r,o,c){var p,_,M,F=Mn({},r.props);for(M in o)M=="key"?p=o[M]:M=="ref"?_=o[M]:F[M]=o[M];return arguments.length>2&&(F.children=arguments.length>3?Br.call(arguments,2):c),H(r.type,F,p||r.key,_||r.ref,null)}a(he,"q"),Br=Eo.slice,ti={__e:function(r,o,c,p){for(var _,M,F;o=o.__;)if((_=o.__c)&&!_.__)try{if((M=_.constructor)&&M.getDerivedStateFromError!=null&&(_.setState(M.getDerivedStateFromError(r)),F=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(r,p||{}),F=_.__d),F)return _.__E=_}catch(N){r=N}throw r}},ys=0,a(function(r){return r!=null&&r.constructor===void 0},"i"),ae.prototype.setState=function(r,o){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Mn({},this.state),typeof r=="function"&&(r=r(Mn({},c),this.props)),r&&Mn(c,r),r!=null&&this.__v&&(o&&this.__h.push(o),Se(this))},ae.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Se(this))},ae.prototype.render=V,bs=[],xe.__r=0;function Ce(r){return(r==null?void 0:r.nodeType)===Node.ELEMENT_NODE}a(Ce,"isDOMElement");function $e(r,o){return o===void 0&&(o=document),typeof r=="string"?o.querySelector(r):Ce(r)?r:null}a($e,"findDOMElement");function Ve(r){for(var o;r&&!r.dir;)r=r.parentNode;return(o=r)==null?void 0:o.dir}a(Ve,"getTextDirection");var _t=Ve,Je=class{constructor(r,o){o===void 0&&(o={}),this.uppy=r,this.opts=o}getPluginState(){let{plugins:r}=this.uppy.getState();return r[this.id]||{}}setPluginState(r){let{plugins:o}=this.uppy.getState();this.uppy.setState({plugins:{...o,[this.id]:{...o[this.id],...r}}})}setOptions(r){this.opts={...this.opts,...r},this.setPluginState(),this.i18nInit()}i18nInit(){let r=new ue([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};a(Je,"BasePlugin");function Vi(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Vi,"_classPrivateFieldLooseBase");var Yi=0;function Ii(r){return"__private_"+Yi+++"_"+r}a(Ii,"_classPrivateFieldLooseKey");function Ai(r){let o=null,c=null;return function(){for(var p=arguments.length,_=new Array(p),M=0;M<p;M++)_[M]=arguments[M];return c=_,o||(o=Promise.resolve().then(()=>(o=null,r(...c)))),o}}a(Ai,"debounce");var li=Ii("updateUI"),Kt=class extends Je{constructor(){super(...arguments),Object.defineProperty(this,li,{writable:!0,value:void 0})}getTargetPlugin(r){let o;if(typeof r=="object"&&r instanceof Kt)o=r;else if(typeof r=="function"){let c=r;this.uppy.iteratePlugins(p=>{p instanceof c&&(o=p)})}return o}mount(r,o){let c=o.id,p=$e(r);if(p){this.isTargetDOMEl=!0;let F=document.createElement("div");return F.classList.add("uppy-Root"),Vi(this,li)[li]=Ai(N=>{!this.uppy.getPlugin(this.id)||(ot(this.render(N),F),this.afterUpdate())}),this.uppy.log(`Installing ${c} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(p.innerHTML=""),ot(this.render(this.uppy.getState()),F),this.el=F,p.appendChild(F),F.dir=this.opts.direction||_t(F)||"ltr",this.onMount(),this.el}let _=this.getTargetPlugin(r);if(_)return this.uppy.log(`Installing ${c} to ${_.id}`),this.parent=_,this.el=_.addTarget(o),this.onMount(),this.el;this.uppy.log(`Not installing ${c}`);let M=`Invalid target option given to ${c}.`;throw typeof r=="function"?M+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":M+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(M)}update(r){if(this.el!=null){var o,c;(o=(c=Vi(this,li))[li])==null||o.call(c,r)}}unmount(){if(this.isTargetDOMEl){var r;(r=this.el)==null||r.remove()}this.onUnmount()}onMount(){}onUnmount(){}};a(Kt,"UIPlugin");var Tt=Kt,tt={};d(tt,{Provider:()=>_s,RequestClient:()=>da,SearchProvider:()=>S0,Socket:()=>_u});var tr=class extends Error{constructor(r,o){o===void 0&&(o=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=r,this.isNetworkError=!0,this.request=o}};a(tr,"NetworkError");var ui=tr;function Gr(){return fetch(...arguments).catch(r=>{throw r.name==="AbortError"?r:new ui(r)})}a(Gr,"fetchWithNetworkError");var qr=class extends Error{constructor(r,o){o===void 0&&(o={}),super(r),this.cause=o.cause,this.cause&&w(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}};a(qr,"ErrorWithCause");var Gn=qr,Xr=class extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}};a(Xr,"AuthError");var br=Xr,qe;function vi(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(vi,"_classPrivateFieldLooseBase");var Nr=0;function Vs(r){return"__private_"+Nr+++"_"+r}a(Vs,"_classPrivateFieldLooseKey");var os={version:"3.1.1"};function ha(r){return r.replace(/\/$/,"")}a(ha,"stripSlash");async function vu(r){if(r.status===401)throw new br;let o=r.json();if(r.ok)return o;let c=`Failed request with status: ${r.status}. ${r.statusText}`;try{let p=await o;c=p.message?`${c} message: ${p.message}`:c,c=p.requestId?`${c} request-Id: ${p.requestId}`:c}catch{}throw new Error(c)}a(vu,"handleJSONResponse");var nl=new Map,Zs=Vs("companionHeaders"),ua=Vs("getUrl"),Bc=Vs("request");qe=Symbol.for("uppy test: getCompanionHeaders");var da=class{constructor(r,o){Object.defineProperty(this,Bc,{value:k2}),Object.defineProperty(this,ua,{value:x2}),Object.defineProperty(this,Zs,{writable:!0,value:void 0}),this.uppy=r,this.opts=o,this.onReceiveResponse=this.onReceiveResponse.bind(this),vi(this,Zs)[Zs]=o==null?void 0:o.companionHeaders}setCompanionHeaders(r){vi(this,Zs)[Zs]=r}[qe](){return vi(this,Zs)[Zs]}get hostname(){let{companion:r}=this.uppy.getState(),o=this.opts.companionUrl;return ha(r&&r[o]?r[o]:o)}async headers(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${da.VERSION}`,...vi(this,Zs)[Zs]}}onReceiveResponse(r){let{headers:o}=r,c=this.uppy.getState().companion||{},p=this.opts.companionUrl;o.has("i-am")&&o.get("i-am")!==c[p]&&this.uppy.setState({companion:{...c,[p]:o.get("i-am")}})}async preflight(r){let o=nl.get(this.hostname);if(o!=null)return o;let c=["accept","content-type","uppy-auth-token"],p=(async()=>{try{let _=(await fetch(vi(this,ua)[ua](r),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(_==null||_==="*")return nl.set(this.hostname,c),c;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${_}`);let M=_.split(",").map(F=>F.trim().toLowerCase());return nl.set(this.hostname,M),M}catch(_){return this.uppy.log(`[CompanionClient] unable to make preflight request ${_}`,"warning"),nl.delete(this.hostname),c}})();return nl.set(this.hostname,p),p}async preflightAndHeaders(r){let[o,c]=await Promise.all([this.preflight(r),this.headers()]);return Object.fromEntries(Object.entries(c).filter(p=>{let[_]=p;return o.includes(_.toLowerCase())?!0:(this.uppy.log(`[CompanionClient] excluding disallowed header ${_}`),!1)}))}async get(r,o){return o===void 0&&(o=void 0),typeof o=="boolean"&&(o={skipPostResponse:o}),vi(this,Bc)[Bc]({...o,path:r})}async post(r,o,c){return c===void 0&&(c=void 0),typeof c=="boolean"&&(c={skipPostResponse:c}),vi(this,Bc)[Bc]({...c,path:r,method:"POST",data:o})}async delete(r,o,c){return o===void 0&&(o=void 0),typeof c=="boolean"&&(c={skipPostResponse:c}),vi(this,Bc)[Bc]({...c,path:r,method:"DELETE",data:o})}};a(da,"RequestClient");function x2(r){return/^(https?:|)\/\//.test(r)?r:`${this.hostname}/${r}`}a(x2,"_getUrl2");async function k2(r){let{path:o,method:c="GET",data:p,skipPostResponse:_,signal:M}=r;try{let F=await this.preflightAndHeaders(o),N=await Gr(vi(this,ua)[ua](o),{method:c,signal:M,headers:F,credentials:this.opts.companionCookiesRule||"same-origin",body:p?JSON.stringify(p):null});return _||this.onReceiveResponse(N),vu(N)}catch(F){throw F!=null&&F.isAuthError?F:new Gn(`Could not ${c} ${vi(this,ua)[ua](o)}`,{cause:F})}}a(k2,"_request2"),da.VERSION=os.version;var S2={};d(S2,{getItem:()=>C2,removeItem:()=>E2,setItem:()=>T2});function T2(r,o){return new Promise(c=>{localStorage.setItem(r,o),c()})}a(T2,"setItem");function C2(r){return Promise.resolve(localStorage.getItem(r))}a(C2,"getItem");function E2(r){return new Promise(o=>{localStorage.removeItem(r),o()})}a(E2,"removeItem");var xz=a(r=>r.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),"getName"),_s=class extends da{constructor(r,o){super(r,o),this.provider=o.provider,this.id=this.provider,this.name=this.opts.name||xz(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){let[r,o]=await Promise.all([super.headers(),this.getAuthToken()]),c={};return o&&(c["uppy-auth-token"]=o),this.companionKeysParams&&(c["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...r,...c}}onReceiveResponse(r){super.onReceiveResponse(r);let o=this.uppy.getPlugin(this.pluginId),c=o.getPluginState().authenticated?r.status!==401:r.status<400;return o.setPluginState({authenticated:c}),r}setAuthToken(r){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,r)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(r){r===void 0&&(r={});let o=new URLSearchParams(r);return this.preAuthToken&&o.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${o}`}fileUrl(r){return`${this.hostname}/${this.id}/get/${r}`}async fetchPreAuthToken(){if(this.companionKeysParams)try{let r=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=r.token}catch(r){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${r}`,"warning")}}list(r){return this.get(`${this.id}/list/${r||""}`)}logout(){return this.get(`${this.id}/logout`).then(r=>Promise.all([r,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(r=>{let[o]=r;return o})}static initPlugin(r,o,c){if(r.type="acquirer",r.files=[],c&&(r.opts={...c,...o}),o.serverUrl||o.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(o.companionAllowedHosts){let p=o.companionAllowedHosts;if(typeof p!="string"&&!Array.isArray(p)&&!(p instanceof RegExp))throw new TypeError(`${r.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);r.opts.companionAllowedHosts=p}else/^(?!https?:\/\/).*$/i.test(o.companionUrl)?r.opts.companionAllowedHosts=`https://${o.companionUrl.replace(/^\/\//,"")}`:r.opts.companionAllowedHosts=new URL(o.companionUrl).origin;r.storage=r.opts.storage||S2}};a(_s,"Provider");var kz=a(r=>r.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),"getName"),S0=class extends da{constructor(r,o){super(r,o),this.provider=o.provider,this.id=this.provider,this.name=this.opts.name||kz(this.id),this.pluginId=this.opts.pluginId}fileUrl(r){return`${this.hostname}/search/${this.id}/get/${r}`}search(r,o){return this.get(`search/${this.id}/list?q=${encodeURIComponent(r)}${o?`&${o}`:""}`)}};a(S0,"SearchProvider");var Sz=y(b(),1),O2,M2;function ws(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ws,"_classPrivateFieldLooseBase");var Tz=0;function bu(r){return"__private_"+Tz+++"_"+r}a(bu,"_classPrivateFieldLooseKey");var al=bu("queued"),Nc=bu("emitter"),Ja=bu("isOpen"),An=bu("socket"),T0=bu("handleMessage");O2=Symbol.for("uppy test: getSocket"),M2=Symbol.for("uppy test: getQueued");var _u=class{constructor(r){Object.defineProperty(this,al,{writable:!0,value:[]}),Object.defineProperty(this,Nc,{writable:!0,value:(0,Sz.default)()}),Object.defineProperty(this,Ja,{writable:!0,value:!1}),Object.defineProperty(this,An,{writable:!0,value:void 0}),Object.defineProperty(this,T0,{writable:!0,value:o=>{try{let c=JSON.parse(o.data);this.emit(c.action,c.payload)}catch(c){console.log(c)}}}),this.opts=r,(!r||r.autoOpen!==!1)&&this.open()}get isOpen(){return ws(this,Ja)[Ja]}[O2](){return ws(this,An)[An]}[M2](){return ws(this,al)[al]}open(){ws(this,An)[An]=new WebSocket(this.opts.target),ws(this,An)[An].onopen=()=>{for(ws(this,Ja)[Ja]=!0;ws(this,al)[al].length>0&&ws(this,Ja)[Ja];){let r=ws(this,al)[al].shift();this.send(r.action,r.payload)}},ws(this,An)[An].onclose=()=>{ws(this,Ja)[Ja]=!1},ws(this,An)[An].onmessage=ws(this,T0)[T0]}close(){var r;(r=ws(this,An)[An])==null||r.close()}send(r,o){if(!ws(this,Ja)[Ja]){ws(this,al)[al].push({action:r,payload:o});return}ws(this,An)[An].send(JSON.stringify({action:r,payload:o}))}on(r,o){ws(this,Nc)[Nc].on(r,o)}emit(r,o){ws(this,Nc)[Nc].emit(r,o)}once(r,o){ws(this,Nc)[Nc].once(r,o)}};a(_u,"UppySocket");var A2={};d(A2,{ProviderViews:()=>eo,SearchProviderViews:()=>cg});function P2(){return v("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},v("g",{fill:"none","fill-rule":"evenodd"},v("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),v("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),v("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),v("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),v("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),v("path",{d:"M4 4h18v18H4z"})))}a(P2,"GoogleIcon");function D2(r){let{pluginName:o,pluginIcon:c,i18nArray:p,handleAuth:_}=r,M=o==="Google Drive",F=v("span",{className:"uppy-Provider-authTitleName"},o,v("br",null));return v("div",{className:"uppy-Provider-auth"},v("div",{className:"uppy-Provider-authIcon"},c()),v("div",{className:"uppy-Provider-authTitle"},p("authenticateWithTitle",{pluginName:F})),M?v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:_,"data-uppy-super-focusable":!0},v(P2,null),p("signInWithGoogle")):v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:_,"data-uppy-super-focusable":!0},p("authenticateWith",{pluginName:o})))}a(D2,"AuthView");var Cz=D2,Ez=a(r=>{let{i18n:o,logout:c,username:p}=r;return[v("span",{className:"uppy-ProviderBrowser-user",key:"username"},p),v("button",{type:"button",onClick:c,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},o("logOut"))]},"default"),Oz=a(r=>{let{getFolder:o,title:c,isLast:p}=r;return v(V,null,v("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:o},c),p?"":" / ")},"Breadcrumb"),Mz=a(r=>{let{getFolder:o,title:c,breadcrumbsIcon:p,directories:_}=r;return v("div",{className:"uppy-Provider-breadcrumbs"},v("div",{className:"uppy-Provider-breadcrumbsIcon"},p),_.map((M,F)=>v(Oz,{key:M.id,getFolder:()=>o(M.id),title:F===0?c:M.title,isLast:F+1===_.length})))},"default"),Az=a(r=>{let o=[];return r.showBreadcrumbs&&o.push(Mz({getFolder:r.getFolder,directories:r.directories,breadcrumbsIcon:r.pluginIcon&&r.pluginIcon(),title:r.title})),o.push(Ez({logout:r.logout,username:r.username,i18n:r.i18n})),o},"default"),L2=y(L(),1);function C0(r){return{...r,type:r.mimeType,extension:r.name?nt(r.name).extension:null}}a(C0,"remoteFileObjToLocal");var R2=class extends ae{constructor(r){super(r),this.preventEnterPress=this.preventEnterPress.bind(this)}preventEnterPress(r){r.keyCode===13&&(r.stopPropagation(),r.preventDefault())}render(){let{i18n:r,filterInput:o,filterQuery:c}=this.props;return v("div",{className:"uppy-ProviderBrowser-filter"},v("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:r("filter"),"aria-label":r("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:p=>c(p),value:o}),v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},v("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),o&&v("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":r("resetFilter"),title:r("resetFilter"),onClick:c},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},v("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}};a(R2,"Filter");var Pz=a(r=>{let{cancel:o,done:c,i18n:p,selected:_}=r;return v("div",{className:"uppy-ProviderBrowser-footer"},v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:c,type:"button"},p("selectX",{smart_count:_})),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:o,type:"button"},p("cancel")))},"default"),Dz=y(L(),1);function F2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},v("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}a(F2,"FileIcon");function I2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},v("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}a(I2,"FolderIcon");function B2(){return v("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},v("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),v("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}a(B2,"VideoIcon");var Lz=a(r=>{let{itemIconString:o}=r;if(o!==null)switch(o){case"file":return v(F2,null);case"folder":return v(I2,null);case"video":return v(B2,null);default:{let{alt:c}=r;return v("img",{src:o,alt:c})}}},"default");function N2(r){let{className:o,isDisabled:c,restrictionError:p,isChecked:_,title:M,itemIconEl:F,showTitles:N,toggleCheckbox:Y,recordShiftKeyPress:re,id:X,children:oe}=r;return v("li",{className:o,title:c?p==null?void 0:p.message:null},v("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${_?"uppy-ProviderBrowserItem-checkbox--is-checked":""} uppy-ProviderBrowserItem-checkbox--grid`,onChange:Y,onKeyDown:re,name:"listitem",id:X,checked:_,disabled:c,"data-uppy-super-focusable":!0}),v("label",{htmlFor:X,"aria-label":M,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},v("span",{className:"uppy-ProviderBrowserItem-inner-relative"},F,N&&M,oe)))}a(N2,"GridListItem");var z2=N2;function U2(r){let{className:o,isDisabled:c,restrictionError:p,isCheckboxDisabled:_,isChecked:M,toggleCheckbox:F,recordShiftKeyPress:N,type:Y,id:re,itemIconEl:X,title:oe,handleFolderClick:fe,showTitles:Te,i18n:Ye}=r;return v("li",{className:o,title:c?p==null?void 0:p.message:null},_?null:v("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${M?"uppy-ProviderBrowserItem-checkbox--is-checked":""}`,onChange:F,onKeyDown:N,name:"listitem",id:re,checked:M,"aria-label":Y==="file"?null:Ye("allFilesFromFolderNamed",{name:oe}),disabled:c,"data-uppy-super-focusable":!0}),Y==="file"?v("label",{htmlFor:re,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},v("div",{className:"uppy-ProviderBrowserItem-iconWrap"},X),Te&&oe):v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:fe,"aria-label":Ye("openFolderNamed",{name:oe})},v("div",{className:"uppy-ProviderBrowserItem-iconWrap"},X),Te&&v("span",null,oe)))}a(U2,"ListItem");var Rz=U2;function wu(){return wu=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},wu.apply(this,arguments)}a(wu,"_extends");var H2=a(r=>{let{author:o,getItemIcon:c,isChecked:p,isDisabled:_,viewType:M}=r,F=c(),N=(0,Dz.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":p},{"uppy-ProviderBrowserItem--disabled":_},{"uppy-ProviderBrowserItem--noPreview":F==="video"}),Y=v(Lz,{itemIconString:F});switch(M){case"grid":return v(z2,wu({},r,{className:N,itemIconEl:Y}));case"list":return v(Rz,wu({},r,{className:N,itemIconEl:Y}));case"unsplash":return v(z2,wu({},r,{className:N,itemIconEl:Y}),v("a",{href:`${o.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},o.name));default:throw new Error(`There is no such type ${M}`)}},"default"),Fz="shared-with-me";function W2(r){let{currentSelection:o,folders:c,files:p,uppyFiles:_,viewType:M,headerComponent:F,showBreadcrumbs:N,isChecked:Y,toggleCheckbox:re,recordShiftKeyPress:X,handleScroll:oe,showTitles:fe,i18n:Te,validateRestrictions:Ye,showFilter:Nt,filterQuery:Et,filterInput:Qt,getNextFolder:Fi,cancel:ai,done:pt,columns:wt}=r,yt=o.length;return v("div",{className:(0,L2.default)("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${M}`)},v("div",{className:"uppy-ProviderBrowser-header"},v("div",{className:(0,L2.default)("uppy-ProviderBrowser-headerBar",!N&&"uppy-ProviderBrowser-headerBar--simple")},F)),Nt&&v(R2,{i18n:Te,filterQuery:Et,filterInput:Qt}),!c.length&&!p.length?v("div",{className:"uppy-Provider-empty"},Te("noFilesFound")):v("div",{className:"uppy-ProviderBrowser-body"},v("ul",{className:"uppy-ProviderBrowser-list",onScroll:oe,role:"listbox",tabIndex:"-1"},c.map(Ue=>{var xt;return H2({columns:wt,showTitles:fe,viewType:M,i18n:Te,id:Ue.id,title:Ue.name,getItemIcon:()=>Ue.icon,isChecked:Y(Ue),toggleCheckbox:zt=>re(zt,Ue),recordShiftKeyPress:X,type:"folder",isDisabled:(xt=Y(Ue))==null?void 0:xt.loading,isCheckboxDisabled:Ue.id===Fz,handleFolderClick:()=>Fi(Ue)})}),p.map(Ue=>{let xt=Ye(C0(Ue),[..._,...o]);return H2({id:Ue.id,title:Ue.name,author:Ue.author,getItemIcon:()=>Ue.icon,isChecked:Y(Ue),toggleCheckbox:zt=>re(zt,Ue),recordShiftKeyPress:X,columns:wt,showTitles:fe,viewType:M,i18n:Te,type:"file",isDisabled:xt&&!Y(Ue),restrictionError:xt})}))),yt>0&&v(Pz,{selected:yt,done:pt,cancel:ai,i18n:Te}))}a(W2,"Browser");var j2=W2,q2=a(r=>{let{i18n:o}=r;return v("div",{className:"uppy-Provider-loading"},v("span",null,o("loading")))},"default"),zc=class extends ae{componentWillUnmount(){let{onUnmount:r}=this.props;r()}render(){let{children:r}=this.props;return Ie(r)[0]}};a(zc,"CloseWrapper");function lg(r){return r?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(r):!1}a(lg,"isPreviewSupported");var $2=class{constructor(r){this.plugin=r,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}filterItems(r){let o=this.plugin.getPluginState();return!o.filterInput||o.filterInput===""?r:r.filter(c=>c.name.toLowerCase().indexOf(o.filterInput.toLowerCase())!==-1)}recordShiftKeyPress(r){this.isShiftKeyPressed=r.shiftKey}toggleCheckbox(r,o){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();let{folders:c,files:p}=this.plugin.getPluginState(),_=this.filterItems(c.concat(p));if(this.lastCheckbox&&this.isShiftKeyPressed){let F=_.indexOf(this.lastCheckbox),N=_.indexOf(o),Y=F<N?_.slice(F,N+1):_.slice(N,F+1),re=[];for(let X of Y){let{uppy:oe}=this.plugin,fe=oe.validateRestrictions(C0(X),[...oe.getFiles(),...re]);fe?oe.info({message:fe.message},"error",oe.opts.infoTimeout):re.push(X)}this.plugin.setPluginState({currentSelection:re});return}this.lastCheckbox=o;let{currentSelection:M}=this.plugin.getPluginState();this.isChecked(o)?this.plugin.setPluginState({currentSelection:M.filter(F=>F.id!==o.id)}):this.plugin.setPluginState({currentSelection:M.concat([o])})}isChecked(r){let{currentSelection:o}=this.plugin.getPluginState();return o.some(c=>c.id===r.id)}loaderWrapper(r,o,c){r.then(p=>{this.plugin.setPluginState({loading:!1}),o(p)}).catch(p=>{this.plugin.setPluginState({loading:!1}),c(p)}),this.plugin.setPluginState({loading:!0})}};a($2,"SharedHandler");var E0=class{constructor(r,o){this.plugin=r,this.provider=o.provider,this.sharedHandler=new $2(r),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}providerFileToId(r){return Wt({data:r,name:r.name||r.id,type:r.mimetype})}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(r){let{scrollHeight:o,scrollTop:c,offsetHeight:p}=r.target;return o-(c+p)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();let r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}handleError(r){let{uppy:o}=this.plugin,c=o.i18n("companionError");o.log(r.toString()),!r.isAuthError&&o.info({message:c,details:r.toString()},"error",5e3)}addFile(r){let o={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(r.requestPath)}`,body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},c=Qi(o);c&&lg(c)&&(o.preview=r.thumbnail),r.author&&(r.author.name!=null&&(o.meta.authorName=String(r.author.name)),r.author.url&&(o.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(o),!0}catch(p){return p.isRestriction||this.plugin.uppy.log(p),!1}}};a(E0,"View");function O0(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(O0,"_classPrivateFieldLooseBase");var Iz=0;function V2(r){return"__private_"+Iz+++"_"+r}a(V2,"_classPrivateFieldLooseKey");var Bz={version:"3.0.2"};function Y2(){return location.origin}a(Y2,"getOrigin");function M0(r){if(typeof r=="string")return new RegExp(`^${r}$`);if(r instanceof RegExp)return r}a(M0,"getRegex");function G2(r,o){return(Array.isArray(o)?o.map(M0):[M0(o)]).some(c=>(c==null?void 0:c.test(r))||(c==null?void 0:c.test(`${r}/`)))}a(G2,"isOriginAllowed");var ef=V2("updateFilesAndFolders"),eo=class extends E0{constructor(r,o){super(r,o),Object.defineProperty(this,ef,{value:X2});let c={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};this.opts={...c,...o},this.filterQuery=this.filterQuery.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.listAllFiles=this.listAllFiles.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}getFolder(r,o){return this.sharedHandler.loaderWrapper(this.provider.list(r),c=>{let p=[],_=[],M,F=this.plugin.getPluginState(),N=F.directories.findIndex(Y=>r===Y.id);N!==-1?M=F.directories.slice(0,N+1):M=F.directories.concat([{id:r,title:o}]),this.username=c.username||this.username,O0(this,ef)[ef](c,_,p),this.plugin.setPluginState({directories:M,filterInput:""})},this.handleError)}getNextFolder(r){this.getFolder(r.requestPath,r.name),this.lastCheckbox=void 0}logout(){this.provider.logout().then(r=>{if(r.ok){if(!r.revoked){let c=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:r.manual_revoke_url});this.plugin.uppy.info(c,"info",7e3)}let o={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};this.plugin.setPluginState(o)}}).catch(this.handleError)}filterQuery(r){let o=this.plugin.getPluginState();this.plugin.setPluginState({...o,filterInput:r?r.target.value:""})}addFolder(r){let o=this.providerFileToId(r),c={...this.plugin.getPluginState().selectedFolders};if(!(o in c&&c[o].loading))return c[o]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:{...c}}),this.listAllFiles(r.requestPath).then(p=>{let _=0;p.forEach(N=>{let Y=this.providerFileToId(N);this.plugin.uppy.checkIfFileAlreadyExists(Y)||_++}),_>0&&p.forEach(N=>this.addFile(N));let M=p.map(this.providerFileToId);c[o]={loading:!1,files:M},this.plugin.setPluginState({selectedFolders:c,filterInput:""});let F;_===0?F=this.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):p.length?F=this.plugin.uppy.i18n("folderAdded",{smart_count:_,folder:r.name}):F=this.plugin.uppy.i18n("emptyFolderAdded"),this.plugin.uppy.info(F)}).catch(p=>{let _={...this.plugin.getPluginState().selectedFolders};delete _[o],this.plugin.setPluginState({selectedFolders:_}),this.handleError(p)})}async handleAuth(){await this.provider.ensurePreAuth();let r=btoa(JSON.stringify({origin:Y2()})),o=`@uppy/provider-views=${eo.VERSION}`,c=this.provider.authUrl({state:r,uppyVersions:o}),p=window.open(c,"_blank"),_=a(M=>{if(M.source!==p){this.plugin.uppy.log("rejecting event from unknown source");return}(!G2(M.origin,this.plugin.opts.companionAllowedHosts)||M.source!==p)&&this.plugin.uppy.log(`rejecting event from ${M.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);let F=typeof M.data=="string"?JSON.parse(M.data):M.data;if(F.error){this.plugin.uppy.log("auth aborted","warning");let{uppy:N}=this.plugin,Y=N.i18n("authAborted");N.info({message:Y},"warning",5e3);return}if(!F.token){this.plugin.uppy.log("did not receive token from auth window","error");return}p.close(),window.removeEventListener("message",_),this.provider.setAuthToken(F.token),this.preFirstRender()},"handleToken");window.addEventListener("message",_)}async handleScroll(r){let o=this.nextPagePath||null;if(this.shouldHandleScroll(r)&&o){this.isHandlingScroll=!0;try{let c=await this.provider.list(o),{files:p,folders:_}=this.plugin.getPluginState();O0(this,ef)[ef](c,p,_)}catch(c){this.handleError(c)}finally{this.isHandlingScroll=!1}}}async listAllFiles(r,o){o===void 0&&(o=null),o=o||[];let c=await this.provider.list(r);c.items.forEach(_=>{_.isFolder?this.addFolder(_):o.push(_)});let p=c.nextPagePath;return p?this.listAllFiles(p,o):o}donePicking(){let{currentSelection:r}=this.plugin.getPluginState(),o=r.map(c=>c.isFolder?this.addFolder(c):this.addFile(c));this.sharedHandler.loaderWrapper(Promise.all(o),()=>{this.clearSelection()},()=>{})}render(r,o){var c=this;o===void 0&&(o={});let{authenticated:p,didFirstRender:_}=this.plugin.getPluginState();_||this.preFirstRender();let M={...this.opts,...o},{files:F,folders:N,filterInput:Y,loading:re,currentSelection:X}=this.plugin.getPluginState(),{isChecked:oe,toggleCheckbox:fe,recordShiftKeyPress:Te,filterItems:Ye}=this.sharedHandler,Nt=Y!=="",Et={showBreadcrumbs:M.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},Qt={isChecked:oe,toggleCheckbox:fe,recordShiftKeyPress:Te,currentSelection:X,files:Nt?Ye(F):F,folders:Nt?Ye(N):N,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:Az(Et),title:this.plugin.title,viewType:M.viewType,showTitles:M.showTitles,showFilter:M.showFilter,showBreadcrumbs:M.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return c.plugin.uppy.validateRestrictions(...arguments)}};return re?v(zc,{onUnmount:this.clearSelection},v(q2,{i18n:this.plugin.uppy.i18n})):p?v(zc,{onUnmount:this.clearSelection},v(j2,Qt)):v(zc,{onUnmount:this.clearSelection},v(Cz,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}};a(eo,"ProviderView");function X2(r,o,c){this.nextPagePath=r.nextPagePath,r.items.forEach(p=>{p.isFolder?c.push(p):o.push(p)}),this.plugin.setPluginState({folders:c,files:o})}a(X2,"_updateFilesAndFolders2"),eo.VERSION=Bz.version;var Nz=a(r=>{let{i18n:o,search:c}=r,p,_=a(()=>{p.value&&c(p.value)},"validateAndSearch"),M=a(F=>{F.keyCode===13&&_()},"handleKeyPress");return v("div",{className:"uppy-SearchProvider"},v("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":o("enterTextToSearch"),placeholder:o("enterTextToSearch"),onKeyUp:M,ref:F=>{p=F},"data-uppy-super-focusable":!0}),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:_},o("searchImages")))},"default"),zz=13,Uz=a(r=>{let{searchTerm:o,i18n:c,search:p}=r,_=a(M=>{M.keyCode===zz&&(M.stopPropagation(),M.preventDefault(),p(M.target.value))},"handleKeyPress");return v("div",{class:"uppy-ProviderBrowser-search"},v("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:c("search"),"aria-label":c("search"),value:o,onKeyUp:_,"data-uppy-super-focusable":!0}),v("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},v("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))},"default");function A0(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(A0,"_classPrivateFieldLooseBase");var Hz=0;function K2(r){return"__private_"+Hz+++"_"+r}a(K2,"_classPrivateFieldLooseKey");var Wz={version:"3.0.2"},tf=K2("updateFilesAndInputMode"),cg=class extends E0{constructor(r,o){super(r,o),Object.defineProperty(this,tf,{value:Z2});let c={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};this.opts={...c,...o},this.search=this.search.bind(this),this.triggerSearchInput=this.triggerSearchInput.bind(this),this.addFile=this.addFile.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null})}tearDown(){}clearSelection(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}search(r){let{searchTerm:o}=this.plugin.getPluginState();if(!(r&&r===o))return this.sharedHandler.loaderWrapper(this.provider.search(r),c=>{A0(this,tf)[tf](c,[])},this.handleError)}triggerSearchInput(){this.plugin.setPluginState({isInputMode:!0})}async handleScroll(r){let o=this.nextPageQuery||null;if(this.shouldHandleScroll(r)&&o){this.isHandlingScroll=!0;try{let{files:c,searchTerm:p}=this.plugin.getPluginState(),_=await this.provider.search(p,o);A0(this,tf)[tf](_,c)}catch(c){this.handleError(c)}finally{this.isHandlingScroll=!1}}}donePicking(){let{currentSelection:r}=this.plugin.getPluginState(),o=r.map(c=>this.addFile(c));this.sharedHandler.loaderWrapper(Promise.all(o),()=>{this.clearSelection()},()=>{})}render(r,o){var c=this;o===void 0&&(o={});let{didFirstRender:p,isInputMode:_,searchTerm:M}=this.plugin.getPluginState();p||this.preFirstRender();let F={...this.opts,...o},{files:N,folders:Y,filterInput:re,loading:X,currentSelection:oe}=this.plugin.getPluginState(),{isChecked:fe,toggleCheckbox:Te,filterItems:Ye}=this.sharedHandler,Nt=re!=="",Et={isChecked:fe,toggleCheckbox:Te,currentSelection:oe,files:Nt?Ye(N):N,folders:Nt?Ye(Y):Y,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:Uz({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:M}),title:this.plugin.title,viewType:F.viewType,showTitles:F.showTitles,showFilter:F.showFilter,showBreadcrumbs:F.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return c.plugin.uppy.validateRestrictions(...arguments)}};return X?v(zc,{onUnmount:this.clearSelection},v(q2,{i18n:this.plugin.uppy.i18n})):_?v(zc,{onUnmount:this.clearSelection},v(Nz,{search:this.search,i18n:this.plugin.uppy.i18n})):v(zc,{onUnmount:this.clearSelection},v(j2,Et))}};a(cg,"SearchProviderView");function Z2(r,o){this.nextPageQuery=r.nextPageQuery,r.items.forEach(c=>{o.push(c)}),this.plugin.setPluginState({isInputMode:!1,files:o,searchTerm:r.searchedFor})}a(Z2,"_updateFilesAndInputMode2"),cg.VERSION=Wz.version;var Q2;function to(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(to,"_classPrivateFieldLooseBase");var jz=0;function hg(r){return"__private_"+jz+++"_"+r}a(hg,"_classPrivateFieldLooseKey");var qz={version:"3.0.2"},$z="uppy/STATE_UPDATE",Vz=a(r=>o=>o.uppy[r],"defaultSelector");function J2(r,o){let c=Object.keys(o),p={};return c.forEach(_=>{r[_]!==o[_]&&(p[_]=o[_])}),p}a(J2,"getPatch");var ol=hg("id"),rf=hg("selector"),ll=hg("store");Q2=Symbol.for("uppy test: get id");var P0=class{constructor(r){Object.defineProperty(this,ol,{writable:!0,value:void 0}),Object.defineProperty(this,rf,{writable:!0,value:void 0}),Object.defineProperty(this,ll,{writable:!0,value:void 0}),to(this,ll)[ll]=r.store,to(this,ol)[ol]=r.id||ze(),to(this,rf)[rf]=r.selector||Vz(to(this,ol)[ol]),this.setState({})}setState(r){to(this,ll)[ll].dispatch({type:$z,id:to(this,ol)[ol],payload:r})}getState(){return to(this,rf)[rf](to(this,ll)[ll].getState())}subscribe(r){let o=this.getState();return to(this,ll)[ll].subscribe(()=>{let c=this.getState();if(o!==c){let p=J2(o,c);r(o,c,p),o=c}})}[Q2](){return to(this,ol)[ol]}};a(P0,"ReduxStore"),P0.VERSION=qz.version;var Yz=P0;function eC(r){if(!r.bytesUploaded)return 0;let o=Date.now()-r.uploadStarted;return r.bytesUploaded/(o/1e3)}a(eC,"getSpeed");function tC(r){return r.bytesTotal-r.bytesUploaded}a(tC,"getBytesRemaining");var Pa={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},iC=y(L(),1);function ug(r){let o=[],c,p;for(let{progress:M}of Object.values(r)){let{preprocess:F,postprocess:N}=M;p==null&&(F||N)&&({mode:c,message:p}=F||N),(F==null?void 0:F.mode)==="determinate"&&o.push(F.value),(N==null?void 0:N.mode)==="determinate"&&o.push(N.value)}let _=o.reduce((M,F)=>M+F/o.length,0);return{mode:c,message:p,value:_}}a(ug,"calculateProcessingProgress");var rC=y(L(),1),Gz=y(k(),1),sC=y(x(),1);function nC(r){let o=Math.floor(r/3600)%24,c=Math.floor(r/60)%60,p=Math.floor(r%60);return{hours:o,minutes:c,seconds:p}}a(nC,"secondsToTime");function aC(r){let o=nC(r),c=o.hours===0?"":`${o.hours}h`,p=o.minutes===0?"":`${o.hours===0?o.minutes:` ${o.minutes.toString(10).padStart(2,"0")}`}m`,_=o.hours!==0?"":`${o.minutes===0?o.seconds:` ${o.seconds.toString(10).padStart(2,"0")}`}s`;return`${c}${p}${_}`}a(aC,"prettyETA");var Xz="",oC=a(()=>` ${Xz} `,"renderDot");function lC(r){let{newFiles:o,isUploadStarted:c,recoveredState:p,i18n:_,uploadState:M,isSomeGhost:F,startUpload:N}=r,Y=(0,rC.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":M===Pa.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":F}),re=o&&c&&!p?_("uploadXNewFiles",{smart_count:o}):_("uploadXFiles",{smart_count:o});return v("button",{type:"button",className:Y,"aria-label":_("uploadXFiles",{smart_count:o}),onClick:N,disabled:F,"data-uppy-super-focusable":!0},re)}a(lC,"UploadBtn");function cC(r){let{i18n:o,uppy:c}=r;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":o("retryUpload"),onClick:()=>c.retryAll(),"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},v("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),o("retry"))}a(cC,"RetryBtn");function hC(r){let{i18n:o,uppy:c}=r;return v("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:o("cancel"),"aria-label":o("cancel"),onClick:()=>c.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},v("g",{fill:"none",fillRule:"evenodd"},v("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),v("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}a(hC,"CancelBtn");function uC(r){let{isAllPaused:o,i18n:c,isAllComplete:p,resumableUploads:_,uppy:M}=r,F=c(o?"resume":"pause");function N(){return p?null:_?o?M.resumeAll():M.pauseAll():M.cancelAll()}return a(N,"togglePauseResume"),v("button",{title:F,"aria-label":F,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:N,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},v("g",{fill:"none",fillRule:"evenodd"},v("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),v("path",{fill:"#FFF",d:o?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}a(uC,"PauseResumeButton");function dC(r){let{i18n:o,doneButtonHandler:c}=r;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:c,"data-uppy-super-focusable":!0},o("done"))}a(dC,"DoneBtn");function D0(){return v("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},v("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}a(D0,"LoadingSpinner");function fC(r){let{progress:o}=r,{value:c,mode:p,message:_}=o,M=Math.round(c*100);return v("div",{className:"uppy-StatusBar-content"},v(D0,null),p==="determinate"?`${M}%  `:"",_)}a(fC,"ProgressBarProcessing");function pC(r){let{numUploads:o,complete:c,totalUploadedSize:p,totalSize:_,totalETA:M,i18n:F}=r,N=o>1;return v("div",{className:"uppy-StatusBar-statusSecondary"},N&&F("filesUploadedOfTotal",{complete:c,smart_count:o}),v("span",{className:"uppy-StatusBar-additionalInfo"},N&&oC(),F("dataUploadedOfTotal",{complete:(0,sC.default)(p),total:(0,sC.default)(_)}),oC(),F("xTimeLeft",{time:aC(M)})))}a(pC,"ProgressDetails");function L0(r){let{i18n:o,complete:c,numUploads:p}=r;return v("div",{className:"uppy-StatusBar-statusSecondary"},o("filesUploadedOfTotal",{complete:c,smart_count:p}))}a(L0,"FileUploadCount");function mC(r){let{i18n:o,newFiles:c,startUpload:p}=r,_=(0,rC.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return v("div",{className:"uppy-StatusBar-statusSecondary"},v("div",{className:"uppy-StatusBar-statusSecondaryHint"},o("xMoreFilesAdded",{smart_count:c})),v("button",{type:"button",className:_,"aria-label":o("uploadXFiles",{smart_count:c}),onClick:p},o("upload")))}a(mC,"UploadNewlyAddedFiles");var Kz=(0,Gz.default)(pC,500,{leading:!0,trailing:!0});function gC(r){let{i18n:o,supportsUploadProgress:c,totalProgress:p,showProgressDetails:_,isUploadStarted:M,isAllComplete:F,isAllPaused:N,newFiles:Y,numUploads:re,complete:X,totalUploadedSize:oe,totalSize:fe,totalETA:Te,startUpload:Ye}=r,Nt=Y&&M;if(!M||F)return null;let Et=o(N?"paused":"uploading");function Qt(){return!N&&!Nt&&_?c?v(Kz,{numUploads:re,complete:X,totalUploadedSize:oe,totalSize:fe,totalETA:Te,i18n:o}):v(L0,{i18n:o,complete:X,numUploads:re}):null}return a(Qt,"renderProgressDetails"),v("div",{className:"uppy-StatusBar-content","aria-label":Et,title:Et},N?null:v(D0,null),v("div",{className:"uppy-StatusBar-status"},v("div",{className:"uppy-StatusBar-statusPrimary"},c?`${Et}: ${p}%`:Et),Qt(),Nt?v(mC,{i18n:o,newFiles:Y,startUpload:Ye}):null))}a(gC,"ProgressBarUploading");function yC(r){let{i18n:o}=r;return v("div",{className:"uppy-StatusBar-content",role:"status",title:o("complete")},v("div",{className:"uppy-StatusBar-status"},v("div",{className:"uppy-StatusBar-statusPrimary"},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},v("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),o("complete"))))}a(yC,"ProgressBarComplete");function vC(r){let{error:o,i18n:c,complete:p,numUploads:_}=r;function M(){let F=`${c("uploadFailed")}

 ${o}`;alert(F)}return a(M,"displayErrorAlert"),v("div",{className:"uppy-StatusBar-content",title:c("uploadFailed")},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},v("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),v("div",{className:"uppy-StatusBar-status"},v("div",{className:"uppy-StatusBar-statusPrimary"},c("uploadFailed"),v("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":c("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:M,type:"button"},"?")),v(L0,{i18n:c,complete:p,numUploads:_})))}a(vC,"ProgressBarError");var{STATE_ERROR:bC,STATE_WAITING:_C,STATE_PREPROCESSING:R0,STATE_UPLOADING:dg,STATE_POSTPROCESSING:F0,STATE_COMPLETE:fg}=Pa;function wC(r){let{newFiles:o,allowNewUpload:c,isUploadInProgress:p,isAllPaused:_,resumableUploads:M,error:F,hideUploadButton:N,hidePauseResumeButton:Y,hideCancelButton:re,hideRetryButton:X,recoveredState:oe,uploadState:fe,totalProgress:Te,files:Ye,supportsUploadProgress:Nt,hideAfterFinish:Et,isSomeGhost:Qt,doneButtonHandler:Fi,isUploadStarted:ai,i18n:pt,startUpload:wt,uppy:yt,isAllComplete:Ue,showProgressDetails:xt,numUploads:zt,complete:mi,totalSize:bi,totalETA:lr,totalUploadedSize:Pr}=r;function xr(){switch(fe){case F0:case R0:{let Hi=ug(Ye);return Hi.mode==="determinate"?Hi.value*100:Te}case bC:return null;case dg:return Nt?Te:null;default:return Te}}a(xr,"getProgressValue");function It(){switch(fe){case F0:case R0:{let{mode:Hi}=ug(Ye);return Hi==="indeterminate"}case dg:return!Nt;default:return!1}}a(It,"getIsIndeterminate");function kr(){if(oe)return!1;switch(fe){case _C:return N||o===0;case fg:return Et;default:return!1}}a(kr,"getIsHidden");let yn=xr(),Kr=kr(),Xs=yn??100,Xt=!F&&o&&!p&&!_&&c&&!N,ct=!re&&fe!==_C&&fe!==fg,At=M&&!Y&&fe===dg,Bt=F&&!Ue&&!X,Jt=Fi&&fe===fg,Xi=(0,iC.default)("uppy-StatusBar-progress",{"is-indeterminate":It()}),es=(0,iC.default)("uppy-StatusBar",`is-${fe}`,{"has-ghosts":Qt});return v("div",{className:es,"aria-hidden":Kr},v("div",{className:Xi,style:{width:`${Xs}%`},role:"progressbar","aria-label":`${Xs}%`,"aria-valuetext":`${Xs}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":yn}),(()=>{switch(fe){case R0:case F0:return v(fC,{progress:ug(Ye)});case fg:return v(yC,{i18n:pt});case bC:return v(vC,{error:F,i18n:pt,numUploads:zt,complete:mi});case dg:return v(gC,{i18n:pt,supportsUploadProgress:Nt,totalProgress:Te,showProgressDetails:xt,isUploadStarted:ai,isAllComplete:Ue,isAllPaused:_,newFiles:o,numUploads:zt,complete:mi,totalUploadedSize:Pr,totalSize:bi,totalETA:lr,startUpload:wt});default:return null}})(),v("div",{className:"uppy-StatusBar-actions"},oe||Xt?v(lC,{newFiles:o,isUploadStarted:ai,recoveredState:oe,i18n:pt,isSomeGhost:Qt,startUpload:wt,uploadState:fe}):null,Bt?v(cC,{i18n:pt,uppy:yt}):null,At?v(uC,{isAllPaused:_,i18n:pt,isAllComplete:Ue,resumableUploads:M,uppy:yt}):null,ct?v(hC,{i18n:pt,uppy:yt}):null,Jt?v(dC,{i18n:pt,doneButtonHandler:Fi}):null))}a(wC,"StatusBar");var Zz={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Qz={version:"3.0.1"};function xC(r){let o=0;return r.forEach(c=>{o+=eC(c.progress)}),o}a(xC,"getTotalSpeed");function kC(r){let o=xC(r);if(o===0)return 0;let c=r.reduce((p,_)=>p+tC(_.progress),0);return Math.round(c/o*10)/10}a(kC,"getTotalETA");function SC(r,o,c,p){if(r&&!o)return Pa.STATE_ERROR;if(o)return Pa.STATE_COMPLETE;if(c)return Pa.STATE_WAITING;let _=Pa.STATE_WAITING,M=Object.keys(p);for(let F=0;F<M.length;F++){let{progress:N}=p[M[F]];if(N.uploadStarted&&!N.uploadComplete)return Pa.STATE_UPLOADING;N.preprocess&&_!==Pa.STATE_UPLOADING&&(_=Pa.STATE_PREPROCESSING),N.postprocess&&_!==Pa.STATE_UPLOADING&&_!==Pa.STATE_PREPROCESSING&&(_=Pa.STATE_POSTPROCESSING)}return _}a(SC,"getUploadingState");var pg=class extends Tt{constructor(r,o){super(r,o),this.startUpload=()=>{let{recoveredState:p}=this.uppy.getState();if(p){this.uppy.emit("restore-confirmed");return}return this.uppy.upload().catch(()=>{})},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Zz;let c={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...c,...o},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){let{capabilities:o,files:c,allowNewUpload:p,totalProgress:_,error:M,recoveredState:F}=r,{newFiles:N,startedFiles:Y,completeFiles:re,inProgressNotPausedFiles:X,isUploadStarted:oe,isAllComplete:fe,isAllErrored:Te,isAllPaused:Ye,isUploadInProgress:Nt,isSomeGhost:Et}=this.uppy.getObjectOfFilesPerState(),Qt=F?Object.values(c):N,Fi=kC(X),ai=!!o.resumableUploads,pt=o.uploadProgress!==!1,wt=0,yt=0;return Y.forEach(Ue=>{wt+=Ue.progress.bytesTotal||0,yt+=Ue.progress.bytesUploaded||0}),wC({error:M,uploadState:SC(M,fe,F,r.files||{}),allowNewUpload:p,totalProgress:_,totalSize:wt,totalUploadedSize:yt,isAllComplete:!1,isAllPaused:Ye,isUploadStarted:oe,isUploadInProgress:Nt,isSomeGhost:Et,recoveredState:F,complete:re.length,newFiles:Qt.length,numUploads:Y.length,totalETA:Fi,files:c,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:ai,supportsUploadProgress:pt,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){let r=this.el;_t(r)||(r.dir="ltr")}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(pg,"StatusBar"),pg.VERSION=Qz.version;var TC=300,CC=class extends ae{constructor(){super(...arguments),this.ref=j()}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,TC)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,TC)}render(){let{children:r}=this.props;return v("div",{className:"uppy-Informer-animated",ref:this.ref},r)}};a(CC,"FadeIn");function EC(r,o){return Object.assign(r,o)}a(EC,"assign");function OC(r,o){var c;return(c=r==null?void 0:r.key)!=null?c:o}a(OC,"getKey");function MC(r,o){let c=r._ptgLinkedRefs||(r._ptgLinkedRefs={});return c[o]||(c[o]=p=>{r.refs[o]=p})}a(MC,"linkRef");function xu(r){let o={};for(let c=0;c<r.length;c++)if(r[c]!=null){let p=OC(r[c],c.toString(36));o[p]=r[c]}return o}a(xu,"getChildMapping");function AC(r,o){r=r||{},o=o||{};let c=a(F=>o.hasOwnProperty(F)?o[F]:r[F],"getValueForKey"),p={},_=[];for(let F in r)o.hasOwnProperty(F)?_.length&&(p[F]=_,_=[]):_.push(F);let M={};for(let F in o){if(p.hasOwnProperty(F))for(let N=0;N<p[F].length;N++){let Y=p[F][N];M[p[F][N]]=c(Y)}M[F]=c(F)}for(let F=0;F<_.length;F++)M[_[F]]=c(_[F]);return M}a(AC,"mergeChildMappings");var Jz=a(r=>r,"identity"),I0=class extends ae{constructor(r,o){super(r,o),this.refs={},this.state={children:xu(Ie(Ie(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){let r=this.state.children;for(let o in r)r[o]&&this.performAppear(o)}componentWillReceiveProps(r){let o=xu(Ie(r.children)||[]),c=this.state.children;this.setState(_=>({children:AC(_.children,o)}));let p;for(p in o)if(o.hasOwnProperty(p)){let _=c&&c.hasOwnProperty(p);o[p]&&_&&this.currentlyTransitioningKeys[p]?(this.keysToEnter.push(p),this.keysToAbortLeave.push(p)):o[p]&&!_&&!this.currentlyTransitioningKeys[p]&&this.keysToEnter.push(p)}for(p in c)if(c.hasOwnProperty(p)){let _=o&&o.hasOwnProperty(p);c[p]&&!_&&!this.currentlyTransitioningKeys[p]&&this.keysToLeave.push(p)}}componentDidUpdate(){let{keysToEnter:r}=this;this.keysToEnter=[],r.forEach(this.performEnter);let{keysToLeave:o}=this;this.keysToLeave=[],o.forEach(this.performLeave)}_finishAbort(r){let o=this.keysToAbortLeave.indexOf(r);o!==-1&&this.keysToAbortLeave.splice(o,1)}performAppear(r){this.currentlyTransitioningKeys[r]=!0;let o=this.refs[r];o.componentWillAppear?o.componentWillAppear(this._handleDoneAppearing.bind(this,r)):this._handleDoneAppearing(r)}_handleDoneAppearing(r){let o=this.refs[r];o.componentDidAppear&&o.componentDidAppear(),delete this.currentlyTransitioningKeys[r],this._finishAbort(r);let c=xu(Ie(this.props.children)||[]);(!c||!c.hasOwnProperty(r))&&this.performLeave(r)}performEnter(r){this.currentlyTransitioningKeys[r]=!0;let o=this.refs[r];o.componentWillEnter?o.componentWillEnter(this._handleDoneEntering.bind(this,r)):this._handleDoneEntering(r)}_handleDoneEntering(r){let o=this.refs[r];o.componentDidEnter&&o.componentDidEnter(),delete this.currentlyTransitioningKeys[r],this._finishAbort(r);let c=xu(Ie(this.props.children)||[]);(!c||!c.hasOwnProperty(r))&&this.performLeave(r)}performLeave(r){if(this.keysToAbortLeave.indexOf(r)!==-1)return;this.currentlyTransitioningKeys[r]=!0;let o=this.refs[r];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,r)):this._handleDoneLeaving(r)}_handleDoneLeaving(r){if(this.keysToAbortLeave.indexOf(r)!==-1)return;let o=this.refs[r];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[r];let c=xu(Ie(this.props.children)||[]);if(c&&c.hasOwnProperty(r))this.performEnter(r);else{let p=EC({},this.state.children);delete p[r],this.setState({children:p})}}render(r,o){let{childFactory:c,transitionLeave:p,transitionName:_,transitionAppear:M,transitionEnter:F,transitionLeaveTimeout:N,transitionEnterTimeout:Y,transitionAppearTimeout:re,component:X,...oe}=r,{children:fe}=o,Te=Object.entries(fe).map(Ye=>{let[Nt,Et]=Ye;if(!Et)return;let Qt=MC(this,Nt);return he(c(Et),{ref:Qt,key:Nt})}).filter(Boolean);return v(X,oe,Te)}};a(I0,"TransitionGroup"),I0.defaultProps={component:"span",childFactory:Jz};var e9=I0,t9={version:"3.0.1"},mg=class extends Tt{constructor(r,o){super(r,o),this.render=p=>v("div",{className:"uppy uppy-Informer"},v(e9,null,p.info.map(_=>v(CC,{key:_.message},v("p",{role:"alert"},_.message," ",_.details&&v("span",{"aria-label":_.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${_.message}

 ${_.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";let c={};this.opts={...c,...o}}install(){let{target:r}=this.opts;r&&this.mount(r,this)}};a(mg,"Informer"),mg.VERSION=t9.version;var i9=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function PC(r,o,c){var p,_;let M=i9.exec(r),F=(p=(_=o.mimeType)!=null?_:M==null?void 0:M[1])!=null?p:"plain/text",N;if(M[2]!=null){let Y=atob(decodeURIComponent(M[3])),re=new Uint8Array(Y.length);for(let X=0;X<Y.length;X++)re[X]=Y.charCodeAt(X);N=[re]}else N=[decodeURIComponent(M[3])];return c?new File(N,o.name||"",{type:F}):new Blob(N,{type:F})}a(PC,"dataURItoBlob");function B0(r){return r.startsWith("blob:")}a(B0,"isObjectURL");function Cr(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}a(Cr,"e");var DC=typeof self<"u"?self:un,sf=typeof navigator<"u",r9=sf&&typeof HTMLImageElement>"u",LC=!(typeof un>"u"||typeof process>"u"||!process.versions||!process.versions.node),RC=DC.Buffer,FC=!!RC,s9=a(r=>r!==void 0,"h");function N0(r){return r===void 0||(r instanceof Map?r.size===0:Object.values(r).filter(s9).length===0)}a(N0,"f");function Is(r){let o=new Error(r);throw delete o.stack,o}a(Is,"l");function z0(r){let o=function(c){let p=0;return c.ifd0.enabled&&(p+=1024),c.exif.enabled&&(p+=2048),c.makerNote&&(p+=2048),c.userComment&&(p+=1024),c.gps.enabled&&(p+=512),c.interop.enabled&&(p+=100),c.ifd1.enabled&&(p+=1024),p+2048}(r);return r.jfif.enabled&&(o+=50),r.xmp.enabled&&(o+=2e4),r.iptc.enabled&&(o+=14e3),r.icc.enabled&&(o+=6e3),o}a(z0,"o");var U0=a(r=>String.fromCharCode.apply(null,r),"u"),IC=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0,io=class{static from(r,o){return r instanceof this&&r.le===o?r:new io(r,void 0,void 0,o)}constructor(r,o=0,c,p){if(typeof p=="boolean"&&(this.le=p),Array.isArray(r)&&(r=new Uint8Array(r)),r===0)this.byteOffset=0,this.byteLength=0;else if(r instanceof ArrayBuffer){c===void 0&&(c=r.byteLength-o);let _=new DataView(r,o,c);this._swapDataView(_)}else if(r instanceof Uint8Array||r instanceof DataView||r instanceof io){c===void 0&&(c=r.byteLength-o),(o+=r.byteOffset)+c>r.byteOffset+r.byteLength&&Is("Creating view outside of available memory in ArrayBuffer");let _=new DataView(r.buffer,o,c);this._swapDataView(_)}else if(typeof r=="number"){let _=new DataView(new ArrayBuffer(r));this._swapDataView(_)}else Is("Invalid input argument for BufferView: "+r)}_swapArrayBuffer(r){this._swapDataView(new DataView(r))}_swapBuffer(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}_swapDataView(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}_lengthToEnd(r){return this.byteLength-r}set(r,o,c=io){return r instanceof DataView||r instanceof io?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Is("BufferView.set(): Invalid data argument."),this.toUint8().set(r,o),new c(this,o,r.byteLength)}subarray(r,o){return o=o||this._lengthToEnd(r),new io(this,r,o)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(r,o){return new Uint8Array(this.buffer,this.byteOffset+r,o)}getString(r=0,o=this.byteLength){return c=this.getUint8Array(r,o),IC?IC.decode(c):FC?Buffer.from(c).toString("utf8"):decodeURIComponent(escape(U0(c)));var c}getLatin1String(r=0,o=this.byteLength){let c=this.getUint8Array(r,o);return U0(c)}getUnicodeString(r=0,o=this.byteLength){let c=[];for(let p=0;p<o&&r+p<this.byteLength;p+=2)c.push(this.getUint16(r+p));return U0(c)}getInt8(r){return this.dataView.getInt8(r)}getUint8(r){return this.dataView.getUint8(r)}getInt16(r,o=this.le){return this.dataView.getInt16(r,o)}getInt32(r,o=this.le){return this.dataView.getInt32(r,o)}getUint16(r,o=this.le){return this.dataView.getUint16(r,o)}getUint32(r,o=this.le){return this.dataView.getUint32(r,o)}getFloat32(r,o=this.le){return this.dataView.getFloat32(r,o)}getFloat64(r,o=this.le){return this.dataView.getFloat64(r,o)}getFloat(r,o=this.le){return this.dataView.getFloat32(r,o)}getDouble(r,o=this.le){return this.dataView.getFloat64(r,o)}getUintBytes(r,o,c){switch(o){case 1:return this.getUint8(r,c);case 2:return this.getUint16(r,c);case 4:return this.getUint32(r,c);case 8:return this.getUint64&&this.getUint64(r,c)}}getUint(r,o,c){switch(o){case 8:return this.getUint8(r,c);case 16:return this.getUint16(r,c);case 32:return this.getUint32(r,c);case 64:return this.getUint64&&this.getUint64(r,c)}}toString(r){return this.dataView.toString(r,this.constructor.name)}ensureChunk(){}};a(io,"c");function gg(r,o){Is(`${r} '${o}' was not loaded, try using full build of exifr.`)}a(gg,"p");var yg=class extends Map{constructor(r){super(),this.kind=r}get(r,o){return this.has(r)||gg(this.kind,r),o&&(r in o||function(c,p){Is(`Unknown ${c} '${p}'.`)}(this.kind,r),o[r].enabled||gg(this.kind,r)),super.get(r)}keyList(){return Array.from(this.keys())}};a(yg,"g");var BC=new yg("file parser"),ro=new yg("segment parser"),H0=new yg("file reader"),n9=DC.fetch;function W0(r,o){return(c=r).startsWith("data:")||c.length>1e4?bg(r,o,"base64"):LC&&r.includes("://")?vg(r,o,"url",NC):LC?bg(r,o,"fs"):sf?vg(r,o,"url",NC):void Is("Invalid input argument");var c}a(W0,"k");async function vg(r,o,c,p){return H0.has(c)?bg(r,o,c):p?async function(_,M){let F=await M(_);return new io(F)}(r,p):void Is(`Parser ${c} is not loaded`)}a(vg,"O");async function bg(r,o,c){let p=new(H0.get(c))(r,o);return await p.read(),p}a(bg,"v");var NC=a(r=>n9(r).then(o=>o.arrayBuffer()),"S"),j0=a(r=>new Promise((o,c)=>{let p=new FileReader;p.onloadend=()=>o(p.result||new ArrayBuffer),p.onerror=c,p.readAsArrayBuffer(r)}),"A"),zC=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};a(zC,"U");function a9(r,o,c){let p=new zC;for(let[_,M]of c)p.set(_,M);if(Array.isArray(o))for(let _ of o)r.set(_,p);else r.set(o,p);return p}a(a9,"x");function o9(r,o,c){let p,_=r.get(o);for(p of c)_.set(p[0],p[1])}a(o9,"C");var q0=new Map,l9=new Map,c9=new Map,_g=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],UC=["jfif","xmp","icc","iptc","ihdr"],$0=["tiff",...UC],Ys=["ifd0","ifd1","exif","gps","interop"],wg=[...$0,...Ys],xg=["makerNote","userComment"],HC=["translateKeys","translateValues","reviveValues","multiSegment"],kg=[...HC,"sanitize","mergeOutput","silentErrors"],V0=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}};a(V0,"_");var ku=class extends V0{get needed(){return this.enabled||this.deps.size>0}constructor(r,o,c,p){if(super(),Cr(this,"enabled",!1),Cr(this,"skip",new Set),Cr(this,"pick",new Set),Cr(this,"deps",new Set),Cr(this,"translateKeys",!1),Cr(this,"translateValues",!1),Cr(this,"reviveValues",!1),this.key=r,this.enabled=o,this.parse=this.enabled,this.applyInheritables(p),this.canBeFiltered=Ys.includes(r),this.canBeFiltered&&(this.dict=q0.get(r)),c!==void 0)if(Array.isArray(c))this.parse=this.enabled=!0,this.canBeFiltered&&c.length>0&&this.translateTagSet(c,this.pick);else if(typeof c=="object"){if(this.enabled=!0,this.parse=c.parse!==!1,this.canBeFiltered){let{pick:_,skip:M}=c;_&&_.length>0&&this.translateTagSet(_,this.pick),M&&M.length>0&&this.translateTagSet(M,this.skip)}this.applyInheritables(c)}else c===!0||c===!1?this.parse=this.enabled=c:Is(`Invalid options argument: ${c}`)}applyInheritables(r){let o,c;for(o of HC)c=r[o],c!==void 0&&(this[o]=c)}translateTagSet(r,o){if(this.dict){let c,p,{tagKeys:_,tagValues:M}=this.dict;for(c of r)typeof c=="string"?(p=M.indexOf(c),p===-1&&(p=_.indexOf(Number(c))),p!==-1&&o.add(Number(_[p]))):o.add(c)}else for(let c of r)o.add(c)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,nf(this.pick,this.deps)):this.enabled&&this.pick.size>0&&nf(this.pick,this.deps)}};a(ku,"D");var Pn={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},WC=new Map,Sg=class extends V0{static useCached(r){let o=WC.get(r);return o!==void 0||(o=new this(r),WC.set(r,o)),o}constructor(r){super(),r===!0?this.setupFromTrue():r===void 0?this.setupFromUndefined():Array.isArray(r)?this.setupFromArray(r):typeof r=="object"?this.setupFromObject(r):Is(`Invalid options argument ${r}`),this.firstChunkSize===void 0&&(this.firstChunkSize=sf?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let r;for(r of _g)this[r]=Pn[r];for(r of kg)this[r]=Pn[r];for(r of xg)this[r]=Pn[r];for(r of wg)this[r]=new ku(r,Pn[r],void 0,this)}setupFromTrue(){let r;for(r of _g)this[r]=Pn[r];for(r of kg)this[r]=Pn[r];for(r of xg)this[r]=!0;for(r of wg)this[r]=new ku(r,!0,void 0,this)}setupFromArray(r){let o;for(o of _g)this[o]=Pn[o];for(o of kg)this[o]=Pn[o];for(o of xg)this[o]=Pn[o];for(o of wg)this[o]=new ku(o,!1,void 0,this);this.setupGlobalFilters(r,void 0,Ys)}setupFromObject(r){let o;for(o of(Ys.ifd0=Ys.ifd0||Ys.image,Ys.ifd1=Ys.ifd1||Ys.thumbnail,Object.assign(this,r),_g))this[o]=Tg(r[o],Pn[o]);for(o of kg)this[o]=Tg(r[o],Pn[o]);for(o of xg)this[o]=Tg(r[o],Pn[o]);for(o of $0)this[o]=new ku(o,Pn[o],r[o],this);for(o of Ys)this[o]=new ku(o,Pn[o],r[o],this.tiff);this.setupGlobalFilters(r.pick,r.skip,Ys,wg),r.tiff===!0?this.batchEnableWithBool(Ys,!0):r.tiff===!1?this.batchEnableWithUserValue(Ys,r):Array.isArray(r.tiff)?this.setupGlobalFilters(r.tiff,void 0,Ys):typeof r.tiff=="object"&&this.setupGlobalFilters(r.tiff.pick,r.tiff.skip,Ys)}batchEnableWithBool(r,o){for(let c of r)this[c].enabled=o}batchEnableWithUserValue(r,o){for(let c of r){let p=o[c];this[c].enabled=p!==!1&&p!==void 0}}setupGlobalFilters(r,o,c,p=c){if(r&&r.length){for(let M of p)this[M].enabled=!1;let _=Y0(r,c);for(let[M,F]of _)nf(this[M].pick,F),this[M].enabled=!0}else if(o&&o.length){let _=Y0(o,c);for(let[M,F]of _)nf(this[M].skip,F)}}filterNestedSegmentTags(){let{ifd0:r,exif:o,xmp:c,iptc:p,icc:_}=this;this.makerNote?o.deps.add(37500):o.skip.add(37500),this.userComment?o.deps.add(37510):o.skip.add(37510),c.enabled||r.skip.add(700),p.enabled||r.skip.add(33723),_.enabled||r.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:r,exif:o,gps:c,interop:p}=this;p.needed&&(o.deps.add(40965),r.deps.add(40965)),o.needed&&r.deps.add(34665),c.needed&&r.deps.add(34853),this.tiff.enabled=Ys.some(_=>this[_].enabled===!0)||this.makerNote||this.userComment;for(let _ of Ys)this[_].finalizeFilters()}get onlyTiff(){return!UC.map(r=>this[r].enabled).some(r=>r===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let r of $0)this[r].enabled&&!ro.has(r)&&gg("segment parser",r)}};a(Sg,"R");function Y0(r,o){let c,p,_,M,F=[];for(_ of o){for(M of(c=q0.get(_),p=[],c))(r.includes(M[0])||r.includes(M[1]))&&p.push(M[0]);p.length&&F.push([_,p])}return F}a(Y0,"K");function Tg(r,o){return r!==void 0?r:o!==void 0?o:void 0}a(Tg,"W");function nf(r,o){for(let c of o)r.add(c)}a(nf,"X"),Cr(Sg,"default",Pn);var G0=class{constructor(r){Cr(this,"parsers",{}),Cr(this,"output",{}),Cr(this,"errors",[]),Cr(this,"pushToErrors",o=>this.errors.push(o)),this.options=Sg.useCached(r)}async read(r){this.file=await function(o,c){return typeof o=="string"?W0(o,c):sf&&!r9&&o instanceof HTMLImageElement?W0(o.src,c):o instanceof Uint8Array||o instanceof ArrayBuffer||o instanceof DataView?new io(o):sf&&o instanceof Blob?vg(o,c,"blob",j0):void Is("Invalid input argument")}(r,this.options)}setup(){if(this.fileParser)return;let{file:r}=this,o=r.getUint16(0);for(let[c,p]of BC)if(p.canHandle(r,o))return this.fileParser=new p(this.options,this.file,this.parsers),r[c]=!0;this.file.close&&this.file.close(),Is("Unknown file format")}async parse(){let{output:r,errors:o}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),o.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&o.length>0&&(r.errors=o),N0(c=r)?void 0:c;var c}async executeParsers(){let{output:r}=this;await this.fileParser.parse();let o=Object.values(this.parsers).map(async c=>{let p=await c.parse();c.assignToOutput(r,p)});this.options.silentErrors&&(o=o.map(c=>c.catch(this.pushToErrors))),await Promise.all(o)}async extractThumbnail(){this.setup();let{options:r,file:o}=this,c=ro.get("tiff",r);var p;if(o.tiff?p={start:0,type:"tiff"}:o.jpeg&&(p=await this.fileParser.getOrFindSegment("tiff")),p===void 0)return;let _=await this.fileParser.ensureSegmentChunk(p),M=this.parsers.tiff=new c(_,r,o),F=await M.extractThumbnail();return o.close&&o.close(),F}};a(G0,"H");async function h9(r,o){let c=new G0(o);return await c.read(r),c.parse()}a(h9,"Y");var Uc=class{static findPosition(r,o){let c=r.getUint16(o+2)+2,p=typeof this.headerLength=="function"?this.headerLength(r,o,c):this.headerLength,_=o+p,M=c-p;return{offset:o,length:c,headerLength:p,start:_,size:M,end:_+M}}static parse(r,o={}){return new this(r,new Sg({[this.type]:o}),r).parse()}normalizeInput(r){return r instanceof io?r:new io(r)}constructor(r,o={},c){Cr(this,"errors",[]),Cr(this,"raw",new Map),Cr(this,"handleError",p=>{if(!this.options.silentErrors)throw p;this.errors.push(p.message)}),this.chunk=this.normalizeInput(r),this.file=c,this.type=this.constructor.type,this.globalOptions=this.options=o,this.localOptions=o[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(r,o){let c=c9.get(o),p=l9.get(o),_=q0.get(o),M=this.options[o],F=M.reviveValues&&!!c,N=M.translateValues&&!!p,Y=M.translateKeys&&!!_,re={};for(let[X,oe]of r)F&&c.has(X)?oe=c.get(X)(oe):N&&p.has(X)&&(oe=this.translateValue(oe,p.get(X))),Y&&_.has(X)&&(X=_.get(X)||X),re[X]=oe;return re}translateValue(r,o){return o[r]||o.DEFAULT||r}assignToOutput(r,o){this.assignObjectToOutput(r,this.constructor.type,o)}assignObjectToOutput(r,o,c){if(this.globalOptions.mergeOutput)return Object.assign(r,c);r[o]?Object.assign(r[o],c):r[o]=c}};a(Uc,"J"),Cr(Uc,"headerLength",4),Cr(Uc,"type",void 0),Cr(Uc,"multiSegment",!1),Cr(Uc,"canHandle",()=>!1);function jC(r){return r===192||r===194||r===196||r===219||r===221||r===218||r===254}a(jC,"q");function qC(r){return r>=224&&r<=239}a(qC,"Q");function $C(r,o,c){for(let[p,_]of ro)if(_.canHandle(r,o,c))return p}a($C,"Z");var X0=class extends class{constructor(r,o,c){Cr(this,"errors",[]),Cr(this,"ensureSegmentChunk",async p=>{let _=p.start,M=p.size||65536;if(this.file.chunked)if(this.file.available(_,M))p.chunk=this.file.subarray(_,M);else try{p.chunk=await this.file.readChunk(_,M)}catch(F){Is(`Couldn't read segment: ${JSON.stringify(p)}. ${F.message}`)}else this.file.byteLength>_+M?p.chunk=this.file.subarray(_,M):p.size===void 0?p.chunk=this.file.subarray(_):Is("Segment unreachable: "+JSON.stringify(p));return p.chunk}),this.extendOptions&&this.extendOptions(r),this.options=r,this.file=o,this.parsers=c}injectSegment(r,o){this.options[r].enabled&&this.createParser(r,o)}createParser(r,o){let c=new(ro.get(r))(o,this.options,this.file);return this.parsers[r]=c}createParsers(r){for(let o of r){let{type:c,chunk:p}=o,_=this.options[c];if(_&&_.enabled){let M=this.parsers[c];M&&M.append||M||this.createParser(c,p)}}}async readSegments(r){let o=r.map(this.ensureSegmentChunk);await Promise.all(o)}}{constructor(...r){super(...r),Cr(this,"appSegments",[]),Cr(this,"jpegSegments",[]),Cr(this,"unknownSegments",[])}static canHandle(r,o){return o===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(r){r===!0?(this.findAll=!0,this.wanted=new Set(ro.keyList())):(r=r===void 0?ro.keyList().filter(o=>this.options[o].enabled):r.filter(o=>this.options[o].enabled&&ro.has(o)),this.findAll=!1,this.remaining=new Set(r),this.wanted=new Set(r)),this.unfinishedMultiSegment=!1}async findAppSegments(r=0,o){this.setupSegmentFinderArgs(o);let{file:c,findAll:p,wanted:_,remaining:M}=this;if(!p&&this.file.chunked&&(p=Array.from(_).some(F=>{let N=ro.get(F),Y=this.options[F];return N.multiSegment&&Y.multiSegment}),p&&await this.file.readWhole()),r=this.findAppSegmentsInRange(r,c.byteLength),!this.options.onlyTiff&&c.chunked){let F=!1;for(;M.size>0&&!F&&(c.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:N}=c,Y=this.appSegments.some(re=>!this.file.available(re.offset||re.start,re.length||re.size));if(F=r>N&&!Y?!await c.readNextChunk(r):!await c.readNextChunk(N),(r=this.findAppSegmentsInRange(r,c.byteLength))===void 0)return}}}findAppSegmentsInRange(r,o){o-=2;let c,p,_,M,F,N,{file:Y,findAll:re,wanted:X,remaining:oe,options:fe}=this;for(;r<o;r++)if(Y.getUint8(r)===255){if(c=Y.getUint8(r+1),qC(c)){if(p=Y.getUint16(r+2),_=$C(Y,r,p),_&&X.has(_)&&(M=ro.get(_),F=M.findPosition(Y,r),N=fe[_],F.type=_,this.appSegments.push(F),!re&&(M.multiSegment&&N.multiSegment?(this.unfinishedMultiSegment=F.chunkNumber<F.chunkCount,this.unfinishedMultiSegment||oe.delete(_)):oe.delete(_),oe.size===0)))break;fe.recordUnknownSegments&&(F=Uc.findPosition(Y,r),F.marker=c,this.unknownSegments.push(F)),r+=p+1}else if(jC(c)){if(p=Y.getUint16(r+2),c===218&&fe.stopAfterSos!==!1)return;fe.recordJpegSegments&&this.jpegSegments.push({offset:r,length:p,marker:c}),r+=p+1}}return r}mergeMultiSegments(){if(!this.appSegments.some(o=>o.multiSegment))return;let r=function(o,c){let p,_,M,F=new Map;for(let N=0;N<o.length;N++)p=o[N],_=p[c],F.has(_)?M=F.get(_):F.set(_,M=[]),M.push(p);return Array.from(F)}(this.appSegments,"type");this.mergedAppSegments=r.map(([o,c])=>{let p=ro.get(o,this.options);return p.handleMultiSegments?{type:o,chunk:p.handleMultiSegments(c)}:c[0]})}getSegment(r){return this.appSegments.find(o=>o.type===r)}async getOrFindSegment(r){let o=this.getSegment(r);return o===void 0&&(await this.findAppSegments(0,[r]),o=this.getSegment(r)),o}};a(X0,"ee"),Cr(X0,"type","jpeg"),BC.set("jpeg",X0);var u9=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],VC=class extends Uc{parseHeader(){var r=this.chunk.getUint16();r===18761?this.le=!0:r===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(r,o,c=new Map){let{pick:p,skip:_}=this.options[o];p=new Set(p);let M=p.size>0,F=_.size===0,N=this.chunk.getUint16(r);r+=2;for(let Y=0;Y<N;Y++){let re=this.chunk.getUint16(r);if(M){if(p.has(re)&&(c.set(re,this.parseTag(r,re,o)),p.delete(re),p.size===0))break}else!F&&_.has(re)||c.set(re,this.parseTag(r,re,o));r+=12}return c}parseTag(r,o,c){let{chunk:p}=this,_=p.getUint16(r+2),M=p.getUint32(r+4),F=u9[_];if(F*M<=4?r+=8:r=p.getUint32(r+8),(_<1||_>13)&&Is(`Invalid TIFF value type. block: ${c.toUpperCase()}, tag: ${o.toString(16)}, type: ${_}, offset ${r}`),r>p.byteLength&&Is(`Invalid TIFF value offset. block: ${c.toUpperCase()}, tag: ${o.toString(16)}, type: ${_}, offset ${r} is outside of chunk size ${p.byteLength}`),_===1)return p.getUint8Array(r,M);if(_===2)return(N=function(Y){for(;Y.endsWith("\0");)Y=Y.slice(0,-1);return Y}(N=p.getString(r,M)).trim())===""?void 0:N;var N;if(_===7)return p.getUint8Array(r,M);if(M===1)return this.parseTagValue(_,r);{let Y=new(function(X){switch(X){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(_))(M),re=F;for(let X=0;X<M;X++)Y[X]=this.parseTagValue(_,r),r+=re;return Y}}parseTagValue(r,o){let{chunk:c}=this;switch(r){case 1:return c.getUint8(o);case 3:return c.getUint16(o);case 4:return c.getUint32(o);case 5:return c.getUint32(o)/c.getUint32(o+4);case 6:return c.getInt8(o);case 8:return c.getInt16(o);case 9:return c.getInt32(o);case 10:return c.getInt32(o)/c.getInt32(o+4);case 11:return c.getFloat(o);case 12:return c.getDouble(o);case 13:return c.getUint32(o);default:Is(`Invalid tiff type ${r}`)}}};a(VC,"se");var Cg=class extends VC{static canHandle(r,o){return r.getUint8(o+1)===225&&r.getUint32(o+4)===1165519206&&r.getUint16(o+8)===0}async parse(){this.parseHeader();let{options:r}=this;return r.ifd0.enabled&&await this.parseIfd0Block(),r.exif.enabled&&await this.safeParse("parseExifBlock"),r.gps.enabled&&await this.safeParse("parseGpsBlock"),r.interop.enabled&&await this.safeParse("parseInteropBlock"),r.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(r){let o=this[r]();return o.catch!==void 0&&(o=o.catch(this.handleError)),o}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let r=this.chunk.getUint16(this.ifd0Offset),o=this.ifd0Offset+2+12*r;this.ifd1Offset=this.chunk.getUint32(o)}}parseBlock(r,o){let c=new Map;return this[o]=c,this.parseTags(r,o,c),c}async parseIfd0Block(){if(this.ifd0)return;let{file:r}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Is("Malformed EXIF data"),!r.chunked&&this.ifd0Offset>r.byteLength&&Is(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${r.byteLength}`),r.tiff&&await r.ensureChunk(this.ifd0Offset,z0(this.options));let o=this.parseBlock(this.ifd0Offset,"ifd0");return o.size!==0?(this.exifOffset=o.get(34665),this.interopOffset=o.get(40965),this.gpsOffset=o.get(34853),this.xmp=o.get(700),this.iptc=o.get(33723),this.icc=o.get(34675),this.options.sanitize&&(o.delete(34665),o.delete(40965),o.delete(34853),o.delete(700),o.delete(33723),o.delete(34675)),o):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,z0(this.options));let r=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=r.get(40965)),this.makerNote=r.get(37500),this.userComment=r.get(37510),this.options.sanitize&&(r.delete(40965),r.delete(37500),r.delete(37510)),this.unpack(r,41728),this.unpack(r,41729),r}unpack(r,o){let c=r.get(o);c&&c.length===1&&r.set(o,c[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let r=this.parseBlock(this.gpsOffset,"gps");return r&&r.has(2)&&r.has(4)&&(r.set("latitude",K0(...r.get(2),r.get(1))),r.set("longitude",K0(...r.get(4),r.get(3)))),r}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(r=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||r))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let r=this.ifd1.get(513),o=this.ifd1.get(514);return this.chunk.getUint8Array(r,o)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let r,o,c,p={};for(o of Ys)if(r=this[o],!N0(r))if(c=this.canTranslate?this.translateBlock(r,o):Object.fromEntries(r),this.options.mergeOutput){if(o==="ifd1")continue;Object.assign(p,c)}else p[o]=c;return this.makerNote&&(p.makerNote=this.makerNote),this.userComment&&(p.userComment=this.userComment),p}assignToOutput(r,o){if(this.globalOptions.mergeOutput)Object.assign(r,o);else for(let[c,p]of Object.entries(o))this.assignObjectToOutput(r,c,p)}};a(Cg,"ie");function K0(r,o,c,p){var _=r+o/60+c/3600;return p!=="S"&&p!=="W"||(_*=-1),_}a(K0,"ne"),Cr(Cg,"type","tiff"),Cr(Cg,"headerLength",10),ro.set("tiff",Cg);var Z0={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Z0,{firstChunkSize:4e4,gps:[1,2,3,4]}),Object.assign({},Z0,{tiff:!1,ifd1:!0,mergeOutput:!1});var d9=Object.assign({},Z0,{firstChunkSize:4e4,ifd0:[274]});async function YC(r){let o=new G0(d9);await o.read(r);let c=await o.parse();if(c&&c.ifd0)return c.ifd0[274]}a(YC,"ce");var f9=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),af=!0,of=!0;if(typeof navigator=="object"){let r=navigator.userAgent;if(r.includes("iPad")||r.includes("iPhone")){let o=r.match(/OS (\d+)_(\d+)/);if(o){let[,c,p]=o;af=Number(c)+.1*Number(p)<13.4,of=!1}}else if(r.includes("OS X 10")){let[,o]=r.match(/OS X 10[_.](\d+)/);af=of=Number(o)<15}if(r.includes("Chrome/")){let[,o]=r.match(/Chrome\/(\d+)/);af=of=Number(o)<81}else if(r.includes("Firefox/")){let[,o]=r.match(/Firefox\/(\d+)/);af=of=Number(o)<77}}async function GC(r){let o=await YC(r);return Object.assign({canvas:af,css:of},f9[o])}a(GC,"ye");var XC=class extends io{constructor(...r){super(...r),Cr(this,"ranges",new KC),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(r,o,c){if(r===0&&this.byteLength===0&&c){let p=new DataView(c.buffer||c,c.byteOffset,c.byteLength);this._swapDataView(p)}else{let p=r+o;if(p>this.byteLength){let{dataView:_}=this._extend(p);this._swapDataView(_)}}}_extend(r){let o;o=FC?RC.allocUnsafe(r):new Uint8Array(r);let c=new DataView(o.buffer,o.byteOffset,o.byteLength);return o.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:o,dataView:c}}subarray(r,o,c=!1){return o=o||this._lengthToEnd(r),c&&this._tryExtend(r,o),this.ranges.add(r,o),super.subarray(r,o)}set(r,o,c=!1){c&&this._tryExtend(o,r.byteLength,r);let p=super.set(r,o);return this.ranges.add(o,p.byteLength),p}async ensureChunk(r,o){this.chunked&&(this.ranges.available(r,o)||await this.readChunk(r,o))}available(r,o){return this.ranges.available(r,o)}};a(XC,"be");var KC=class{constructor(){Cr(this,"list",[])}get length(){return this.list.length}add(r,o,c=0){let p=r+o,_=this.list.filter(M=>Q0(r,M.offset,p)||Q0(r,M.end,p));if(_.length>0){r=Math.min(r,..._.map(F=>F.offset)),p=Math.max(p,..._.map(F=>F.end)),o=p-r;let M=_.shift();M.offset=r,M.length=o,M.end=p,this.list=this.list.filter(F=>!_.includes(F))}else this.list.push({offset:r,length:o,end:p})}available(r,o){let c=r+o;return this.list.some(p=>p.offset<=r&&c<=p.end)}};a(KC,"we");function Q0(r,o,c){return r<=o&&o<=c}a(Q0,"ke");var ZC=class extends XC{constructor(r,o){super(0),Cr(this,"chunksRead",0),this.input=r,this.options=o}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(r=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let o=this.options.chunkSize,c=await this.readChunk(r,o);return!!c&&c.byteLength===o}async readChunk(r,o){if(this.chunksRead++,(o=this.safeWrapAddress(r,o))!==0)return this._readChunk(r,o)}safeWrapAddress(r,o){return this.size!==void 0&&r+o>this.size?Math.max(0,this.size-r):o}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};a(ZC,"Oe"),H0.set("blob",class extends ZC{async readWhole(){this.chunked=!1;let r=await j0(this.input);this._swapArrayBuffer(r)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(r,o){let c=o?r+o:void 0,p=this.input.slice(r,c),_=await j0(p);return this.set(_,r,!0)}});var p9={strings:{generatingThumbnails:"Generating thumbnails..."}},m9={version:"3.0.2"};function QC(r,o,c){try{r.getContext("2d").getImageData(0,0,1,1)}catch(p){if(p.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return r.toBlob?new Promise(p=>{r.toBlob(p,o,c)}).then(p=>{if(p===null)throw new Error("cannot read image, probably an svg with external resources");return p}):Promise.resolve().then(()=>PC(r.toDataURL(o,c),{})).then(p=>{if(p===null)throw new Error("could not extract blob, probably an old browser");return p})}a(QC,"canvasToBlob");function JC(r,o){let c=r.width,p=r.height;(o.deg===90||o.deg===270)&&(c=r.height,p=r.width);let _=document.createElement("canvas");_.width=c,_.height=p;let M=_.getContext("2d");return M.translate(c/2,p/2),o.canvas&&(M.rotate(o.rad),M.scale(o.scaleX,o.scaleY)),M.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),_}a(JC,"rotateImage");function eE(r){let o=r.width/r.height,c=5e6,p=4096,_=Math.floor(Math.sqrt(c*o)),M=Math.floor(c/Math.sqrt(c*o));if(_>p&&(_=p,M=Math.round(_/o)),M>p&&(M=p,_=Math.round(o*M)),r.width>_){let F=document.createElement("canvas");return F.width=_,F.height=M,F.getContext("2d").drawImage(r,0,0,_,M),F}return r}a(eE,"protect");var Eg=class extends Tt{constructor(r,o){super(r,o),this.onFileAdded=p=>{!p.preview&&p.data&&lg(p.type)&&!p.isRemote&&this.addToQueue(p.id)},this.onCancelRequest=p=>{let _=this.queue.indexOf(p.id);_!==-1&&this.queue.splice(_,1)},this.onFileRemoved=p=>{let _=this.queue.indexOf(p.id);_!==-1&&this.queue.splice(_,1),p.preview&&B0(p.preview)&&URL.revokeObjectURL(p.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(p=>p.isRestored).forEach(p=>{(!p.preview||B0(p.preview))&&this.addToQueue(p.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=p=>{p.forEach(M=>{let F=this.uppy.getFile(M);this.uppy.emit("preprocess-progress",F,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});let _=a(()=>{p.forEach(M=>{let F=this.uppy.getFile(M);this.uppy.emit("preprocess-complete",F)})},"emitPreprocessCompleteForAll");return new Promise(M=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{_(),M()}):(_(),M())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=p9;let c={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...c,...o},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,o,c){let p=URL.createObjectURL(r.data),_=new Promise((F,N)=>{let Y=new Image;Y.src=p,Y.addEventListener("load",()=>{URL.revokeObjectURL(p),F(Y)}),Y.addEventListener("error",re=>{URL.revokeObjectURL(p),N(re.error||new Error("Could not create thumbnail"))})}),M=GC(r.data).catch(()=>1);return Promise.all([_,M]).then(F=>{let[N,Y]=F,re=this.getProportionalDimensions(N,o,c,Y.deg),X=JC(N,Y),oe=this.resizeImage(X,re.width,re.height);return QC(oe,this.thumbnailType,80)}).then(F=>URL.createObjectURL(F))}getProportionalDimensions(r,o,c,p){let _=r.width/r.height;return(p===90||p===270)&&(_=r.height/r.width),o!=null?{width:o,height:Math.round(o/_)}:c!=null?{width:Math.round(c*_),height:c}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/_)}}resizeImage(r,o,c){let p=eE(r),_=Math.ceil(Math.log2(p.width/o));_<1&&(_=1);let M=o*2**(_-1),F=c*2**(_-1),N=2;for(;_--;){let Y=document.createElement("canvas");Y.width=M,Y.height=F,Y.getContext("2d").drawImage(p,0,0,M,F),p=Y,M=Math.round(M/N),F=Math.round(F/N)}return p}setPreviewURL(r,o){this.uppy.setFileState(r,{preview:o})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){let r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return lg(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(o=>{this.setPreviewURL(r.id,o),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),o)}).catch(o=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(o,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),o)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}};a(Eg,"ThumbnailGenerator"),Eg.VERSION=m9.version;function J0(r){if(typeof r=="string"){let o=document.querySelectorAll(r);return o.length===0?null:Array.from(o)}return typeof r=="object"&&Ce(r)?[r]:null}a(J0,"findAllDOMElements");var so=Array.from;function e_(r,o,c,p){let{onSuccess:_}=p;r.readEntries(M=>{let F=[...o,...M];M.length?queueMicrotask(()=>{e_(r,F,c,{onSuccess:_})}):_(F)},M=>{c(M),_(o)})}a(e_,"getFilesAndDirectoriesFromDirectory");function t_(r,o){return r==null?r:{kind:r.isFile?"file":r.isDirectory?"directory":void 0,name:r.name,getFile(){return new Promise((c,p)=>r.file(c,p))},async*values(){let c=r.createReader();yield*await new Promise(p=>{e_(c,[],o,{onSuccess:_=>p(_.map(M=>t_(M,o)))})})}}}a(t_,"getAsFileSystemHandleFromEntry");async function*i_(r,o){if(r.kind==="file"){let c=await r.getFile();c!==null&&(c.relativePath=o?`${o}/${r.name}`:null,yield c)}else if(r.kind==="directory")for await(let c of r.values())yield*i_(c,`${o}/${r.name}`)}a(i_,"createPromiseToAddFileOrParseDirectory");async function*tE(r,o){let c=await Promise.all(Array.from(r.items,async p=>{var _;let M=p.getAsFile(),F=(_=await(p.getAsFileSystemHandle==null?void 0:p.getAsFileSystemHandle()))!=null?_:t_(p.webkitGetAsEntry(),o);return{lastResortFile:M,entry:F}}));for(let{lastResortFile:p,entry:_}of c)if(_!=null)try{yield*i_(_,"")}catch(M){p?yield p:o(M)}}a(tE,"getFilesFromDataTransfer");function iE(r){let o=so(r.files);return Promise.resolve(o)}a(iE,"fallbackApi");async function Og(r,o){let{logDropError:c=a(()=>{},"logDropError")}=o===void 0?{}:o;try{let p=[];for await(let _ of tE(r,c))p.push(_);return p}catch{return iE(r)}}a(Og,"getDroppedFiles");var rE=Number.isNaN||a(function(r){return typeof r=="number"&&r!==r},"ponyfill");function sE(r,o){return!!(r===o||rE(r)&&rE(o))}a(sE,"isEqual");function nE(r,o){if(r.length!==o.length)return!1;for(var c=0;c<r.length;c++)if(!sE(r[c],o[c]))return!1;return!0}a(nE,"areInputsEqual");function r_(r,o){o===void 0&&(o=nE);var c=null;function p(){for(var _=[],M=0;M<arguments.length;M++)_[M]=arguments[M];if(c&&c.lastThis===this&&o(_,c.lastArgs))return c.lastResult;var F=r.apply(this,_);return c={lastResult:F,lastArgs:_,lastThis:this},F}return a(p,"memoized"),p.clear=a(function(){c=null},"clear"),p}a(r_,"memoizeOne");var s_=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function n_(r,o){if(o){let c=r.querySelector(`[data-uppy-paneltype="${o}"]`);if(c)return c}return r}a(n_,"getActiveOverlayEl");function a_(r,o){let c=o[0];c&&(c.focus(),r.preventDefault())}a(a_,"focusOnFirstNode");function aE(r,o){let c=o[o.length-1];c&&(c.focus(),r.preventDefault())}a(aE,"focusOnLastNode");function oE(r){return r.contains(document.activeElement)}a(oE,"isFocusInOverlay");function o_(r,o,c){let p=n_(c,o),_=so(p.querySelectorAll(s_)),M=_.indexOf(document.activeElement);oE(p)?r.shiftKey&&M===0?aE(r,_):!r.shiftKey&&M===_.length-1&&a_(r,_):a_(r,_)}a(o_,"trapFocus");function lE(r,o,c){o===null||o_(r,o,c)}a(lE,"forInline");var g9=y(D(),1);function cE(){let r=!1;return(0,g9.default)(a((o,c)=>{let p=n_(o,c),_=p.contains(document.activeElement);if(_&&r)return;let M=p.querySelector("[data-uppy-super-focusable]");if(!(_&&!M))if(M)M.focus({preventScroll:!0}),r=!0;else{let F=p.querySelector(s_);F==null||F.focus({preventScroll:!0}),r=!1}},"superFocus"),260)}a(cE,"createSuperFocus");var y9=y(L(),1);function l_(){let r=document.body;return!(!("draggable"in r)||!("ondragstart"in r&&"ondrop"in r)||!("FormData"in window)||!("FileReader"in window))}a(l_,"isDragDropSupported");var v9=y(L(),1),b9=y(u(),1);function hE(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},v("g",{fill:"#686DE0",fillRule:"evenodd"},v("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),v("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),v("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}a(hE,"iconImage");function uE(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}a(uE,"iconAudio");function dE(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}a(dE,"iconVideo");function fE(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}a(fE,"iconPDF");function pE(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}a(pE,"iconArchive");function mE(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("g",{fill:"#A7AFB7",fillRule:"nonzero"},v("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),v("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}a(mE,"iconFile");function gE(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}a(gE,"iconText");function Mg(r){let o={color:"#838999",icon:mE()};if(!r)return o;let c=r.split("/")[0],p=r.split("/")[1];return c==="text"?{color:"#5a5e69",icon:gE()}:c==="image"?{color:"#686de0",icon:hE()}:c==="audio"?{color:"#068dbb",icon:uE()}:c==="video"?{color:"#19af67",icon:dE()}:c==="application"&&p==="pdf"?{color:"#e25149",icon:fE()}:c==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(p)!==-1?{color:"#00C469",icon:pE()}:o}a(Mg,"getIconByMime");function c_(r){let{file:o}=r;if(o.preview)return v("img",{className:"uppy-Dashboard-Item-previewImg",alt:o.name,src:o.preview});let{color:c,icon:p}=Mg(o.type);return v("div",{className:"uppy-Dashboard-Item-previewIconWrap"},v("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:c}},p),v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},v("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}a(c_,"FilePreview");var _9=a((r,o)=>o.filter(c=>c.id===r)[0].name,"metaFieldIdToName");function h_(r){let{file:o,toggleFileCard:c,i18n:p,metaFields:_}=r,{missingRequiredMetaFields:M}=o;if(!(M!=null&&M.length))return null;let F=M.map(N=>_9(N,_)).join(", ");return v("div",{className:"uppy-Dashboard-Item-errorMessage"},p("missingRequiredMetaFields",{smart_count:M.length,fields:F})," ",v("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>c(!0,o.id)},p("editFile")))}a(h_,"renderMissingMetaFieldsError");function yE(r){return v("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:Mg(r.file.type).color}},r.showLinkToFileUploadResult&&r.file.uploadURL&&v("a",{className:"uppy-Dashboard-Item-previewLink",href:r.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":r.file.meta.name},v("span",{hidden:!0},r.file.meta.name)),v(c_,{file:r.file}),v(h_,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}))}a(yE,"FilePreviewAndLink");function vE(r){if(!r.isUploaded){if(r.error&&!r.hideRetryButton){r.uppy.retryUpload(r.file.id);return}r.resumableUploads&&!r.hidePauseResumeButton?r.uppy.pauseResume(r.file.id):r.individualCancellation&&!r.hideCancelButton&&r.uppy.removeFile(r.file.id)}}a(vE,"onPauseResumeCancelRetry");function u_(r){return r.isUploaded?r.i18n("uploadComplete"):r.error?r.i18n("retryUpload"):r.resumableUploads?r.file.isPaused?r.i18n("resumeUpload"):r.i18n("pauseUpload"):r.individualCancellation?r.i18n("cancelUpload"):""}a(u_,"progressIndicatorTitle");function Ag(r){return v("div",{className:"uppy-Dashboard-Item-progress"},v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":u_(r),title:u_(r),onClick:()=>vE(r)},r.children))}a(Ag,"ProgressIndicatorButton");function lf(r){let{children:o}=r;return v("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},o)}a(lf,"ProgressCircleContainer");function Pg(r){let{progress:o}=r,c=2*Math.PI*15;return v("g",null,v("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),v("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":c,"stroke-dashoffset":c-c/100*o}))}a(Pg,"ProgressCircle");function bE(r){if(!r.file.progress.uploadStarted)return null;if(r.isUploaded)return v("div",{className:"uppy-Dashboard-Item-progress"},v("div",{className:"uppy-Dashboard-Item-progressIndicator"},v(lf,null,v("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),v("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!r.recoveredState)return r.error&&!r.hideRetryButton?v(Ag,r,v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},v("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),v("path",{d:"M7.9 3H10v2H7.9z"}),v("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),v("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):r.resumableUploads&&!r.hidePauseResumeButton?v(Ag,r,v(lf,null,v(Pg,{progress:r.file.progress.percentage}),r.file.isPaused?v("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):v("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},v("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),v("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!r.resumableUploads&&r.individualCancellation&&!r.hideCancelButton?v(Ag,r,v(lf,null,v(Pg,{progress:r.file.progress.percentage}),v("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):v("div",{className:"uppy-Dashboard-Item-progress"},v("div",{className:"uppy-Dashboard-Item-progressIndicator"},v(lf,null,v(Pg,{progress:r.file.progress.percentage}))))}a(bE,"FileProgress");var w9=y(T(),1),d_="...";function f_(r,o){if(o===0)return"";if(r.length<=o)return r;if(o<=d_.length+1)return`${r.slice(0,o-1)}`;let c=o-d_.length,p=Math.ceil(c/2),_=Math.floor(c/2);return r.slice(0,p)+d_+r.slice(-_)}a(f_,"truncateString");var x9=a(r=>{let{author:o,name:c}=r.file.meta;function p(){return r.singleFile?200:r.containerWidth<=352?35:r.containerWidth<=576?60:o?20:30}return a(p,"getMaxNameLength"),v("div",{className:"uppy-Dashboard-Item-name",title:c},f_(c,p()))},"renderFileName"),k9=a(r=>{let{author:o}=r.file.meta,{providerName:c}=r.file.remote,p="";return o?v("div",{className:"uppy-Dashboard-Item-author"},v("a",{href:`${o.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},f_(o.name,13)),c?v(V,null,` ${p} `,c,` ${p} `):null):null},"renderAuthor"),S9=a(r=>r.file.size&&v("div",{className:"uppy-Dashboard-Item-statusSize"},(0,w9.default)(r.file.size)),"renderFileSize"),T9=a(r=>r.file.isGhost&&v("span",null,"  ",v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:r.toggleAddFilesPanel},r.i18n("reSelect"))),"ReSelectButton"),C9=a(r=>{let{file:o,onClick:c}=r;return o.error?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":o.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:c,type:"button"},"?"):null},"ErrorButton");function _E(r){let{file:o}=r;return v("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":o.source},v("div",{className:"uppy-Dashboard-Item-fileName"},x9(r),v(C9,{file:r.file,onClick:()=>alert(r.file.error)})),v("div",{className:"uppy-Dashboard-Item-status"},k9(r),S9(r),T9(r)),v(h_,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}))}a(_E,"FileInfo");function wE(r,o){return o===void 0&&(o="Copy the URL below"),new Promise(c=>{let p=document.createElement("textarea");p.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),p.value=r,document.body.appendChild(p),p.select();let _=a(()=>{document.body.removeChild(p),window.prompt(o,r),c()},"magicCopyFailed");try{return document.execCommand("copy")?(document.body.removeChild(p),c()):_("copy command unavailable")}catch(M){return document.body.removeChild(p),_(M)}})}a(wE,"copyToClipboard");function xE(r){let{file:o,uploadInProgressOrComplete:c,metaFields:p,canEditFile:_,i18n:M,onClick:F}=r;return!c&&p&&p.length>0||!c&&_(o)?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":M("editFileWithFilename",{file:o.meta.name}),title:M("editFileWithFilename",{file:o.meta.name}),onClick:()=>F()},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},v("g",{fillRule:"evenodd"},v("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),v("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),v("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}a(xE,"EditButton");function kE(r){let{i18n:o,onClick:c,file:p}=r;return v("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":o("removeFile",{file:p.meta.name}),title:o("removeFile",{file:p.meta.name}),onClick:()=>c()},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},v("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),v("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}a(kE,"RemoveButton");var E9=a((r,o)=>{wE(o.file.uploadURL,o.i18n("copyLinkToClipboardFallback")).then(()=>{o.uppy.log("Link copied to clipboard."),o.uppy.info(o.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(o.uppy.log).then(()=>r.target.focus({preventScroll:!0}))},"copyLinkToClipboard");function SE(r){let{i18n:o}=r;return v("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":o("copyLink"),title:o("copyLink"),onClick:c=>E9(c,r)},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},v("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}a(SE,"CopyLinkButton");function TE(r){let{uppy:o,file:c,uploadInProgressOrComplete:p,canEditFile:_,metaFields:M,showLinkToFileUploadResult:F,showRemoveButton:N,i18n:Y,toggleFileCard:re,openFileEditor:X}=r;return v("div",{className:"uppy-Dashboard-Item-actionWrapper"},v(xE,{i18n:Y,file:c,uploadInProgressOrComplete:p,canEditFile:_,metaFields:M,onClick:a(()=>{M&&M.length>0?re(!0,c.id):X(c)},"editAction")}),F&&c.uploadURL?v(SE,{file:c,uppy:o,i18n:Y}):null,N?v(kE,{i18n:Y,file:c,uppy:o,onClick:()=>r.uppy.removeFile(c.id,"removed-by-user")}):null)}a(TE,"Buttons");var CE=class extends ae{componentDidMount(){let{file:r}=this.props;r.preview||this.props.handleRequestThumbnail(r)}shouldComponentUpdate(r){return!(0,b9.default)(this.props,r)}componentDidUpdate(){let{file:r}=this.props;r.preview||this.props.handleRequestThumbnail(r)}componentWillUnmount(){let{file:r}=this.props;r.preview||this.props.handleCancelThumbnail(r)}render(){let{file:r}=this.props,o=r.progress.preprocess||r.progress.postprocess,c=r.progress.uploadComplete&&!o&&!r.error,p=r.progress.uploadStarted||o,_=r.progress.uploadStarted&&!r.progress.uploadComplete||o,M=r.error||!1,{isGhost:F}=r,N=(this.props.individualCancellation||!_)&&!c;c&&this.props.showRemoveButtonAfterComplete&&(N=!0);let Y=(0,v9.default)({"uppy-Dashboard-Item":!0,"is-inprogress":_&&!this.props.recoveredState,"is-processing":o,"is-complete":c,"is-error":!!M,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":F});return v("div",{className:Y,id:`uppy_${r.id}`,role:this.props.role},v("div",{className:"uppy-Dashboard-Item-preview"},v(yE,{file:r,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),v(bE,{uppy:this.props.uppy,file:r,error:M,isUploaded:c,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),v("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},v(_E,{file:r,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,singleFile:this.props.singleFile}),v(TE,{file:r,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:N,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:p,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}};a(CE,"FileItem");function Dg(){return Dg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Dg.apply(this,arguments)}a(Dg,"_extends");var O9={position:"relative",width:"100%",minHeight:"100%"},M9={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},EE=class extends ae{constructor(r){super(r),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){let{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(r){let{data:o,rowHeight:c,renderRow:p,overscanCount:_=10,...M}=r,{offset:F,height:N}=this.state,Y=Math.floor(F/c),re=Math.floor(N/c);_&&(Y=Math.max(0,Y-Y%_),re+=_);let X=Y+re+4,oe=o.slice(Y,X),fe={...O9,height:o.length*c},Te={...M9,top:Y*c};return v("div",Dg({onScroll:this.handleScroll},M),v("div",{role:"presentation",style:fe},v("div",{role:"presentation",style:Te},oe.map(p))))}};a(EE,"VirtualList");var A9=EE;function Lg(){return Lg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Lg.apply(this,arguments)}a(Lg,"_extends");function OE(r,o){let c=[],p=[];return r.forEach(_=>{p.length<o?p.push(_):(c.push(p),p=[_])}),p.length&&c.push(p),c}a(OE,"chunks");var P9=a(r=>{let o=r.itemsPerRow===1?71:200,c={id:r.id,error:r.error,i18n:r.i18n,uppy:r.uppy,acquirers:r.acquirers,resumableUploads:r.resumableUploads,individualCancellation:r.individualCancellation,hideRetryButton:r.hideRetryButton,hidePauseResumeButton:r.hidePauseResumeButton,hideCancelButton:r.hideCancelButton,showLinkToFileUploadResult:r.showLinkToFileUploadResult,showRemoveButtonAfterComplete:r.showRemoveButtonAfterComplete,isWide:r.isWide,metaFields:r.metaFields,recoveredState:r.recoveredState,singleFile:r.singleFile,toggleFileCard:r.toggleFileCard,handleRequestThumbnail:r.handleRequestThumbnail,handleCancelThumbnail:r.handleCancelThumbnail},p=a((N,Y)=>r.files[Y].isGhost-r.files[N].isGhost,"sortByGhostComesFirst"),_=Object.keys(r.files);r.recoveredState&&_.sort(p);let M=OE(_,r.itemsPerRow),F=a(N=>v("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:N[0]},N.map(Y=>v(CE,Lg({key:Y,uppy:r.uppy},c,{role:"listitem",openFileEditor:r.openFileEditor,canEditFile:r.canEditFile,toggleAddFilesPanel:r.toggleAddFilesPanel,file:r.files[Y]})))),"renderRow");return r.singleFile?v("div",{class:"uppy-Dashboard-files"},F(M[0])):v(A9,{class:"uppy-Dashboard-files",role:"list",data:M,renderRow:F,rowHeight:o})},"default"),ME;ME=Symbol.for("uppy test: disable unused locale key warning");var AE=class extends ae{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=r=>{this.props.handleInputChange(r),r.target.value=null},this.renderHiddenInput=(r,o)=>v("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:o}),this.renderHiddenCameraInput=(r,o,c)=>{let p={photo:"image/*",video:"video/*"}[r];return v("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:o,accept:p,ref:c})},this.renderMyDeviceAcquirer=()=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),v("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),v("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),v("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),v("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},v("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},v("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),v("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),v("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(r,o)=>{let c=this.props.acquirers.length;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:o,"data-uppy-super-focusable":c===0},r)},this.renderDropPasteBrowseTagline=()=>{let r=this.props.acquirers.length,o=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),c=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),p=this.props.fileManagerSelectionType,_=p.charAt(0).toUpperCase()+p.slice(1);return v("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${_}`,{browseFiles:o,browseFolders:c,browse:o}):this.props.i18nArray(`dropPaste${_}`,{browseFiles:o,browseFolders:c,browse:o}))},this.renderAcquirer=r=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":this.props.activePickerPanel.id===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id)},r.icon(),v("div",{className:"uppy-DashboardTab-name"},r.name))),this.renderAcquirers=r=>{let o=[...r],c=o.splice(r.length-2,r.length);return v(V,null,o.map(p=>this.renderAcquirer(p)),v("span",{role:"presentation",style:{"white-space":"nowrap"}},c.map(p=>this.renderAcquirer(p))))},this.renderSourcesList=(r,o)=>{let{showNativePhotoCameraButton:c,showNativeVideoCameraButton:p}=this.props;return v("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!o&&this.renderMyDeviceAcquirer(),!o&&c&&this.renderPhotoCamera(),!o&&p&&this.renderVideoCamera(),r.length>0&&this.renderAcquirers(r))}}[ME](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){let{i18nArray:r}=this.props,o=v("span",null,v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},v("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),v("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),c=r("poweredBy",{uppy:o});return v("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},c)}render(){let{showNativePhotoCameraButton:r,showNativeVideoCameraButton:o,nativeCameraFacingMode:c}=this.props;return v("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,p=>{this.fileInput=p}),this.renderHiddenInput(!0,p=>{this.folderInput=p}),r&&this.renderHiddenCameraInput("photo",c,p=>{this.mobilePhotoFileInput=p}),o&&this.renderHiddenCameraInput("video",c,p=>{this.mobileVideoFileInput=p}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),v("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&v("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}};a(AE,"AddFiles");var PE=AE,D9=y(L(),1),L9=a(r=>v("div",{className:(0,D9.default)("uppy-Dashboard-AddFilesPanel",r.className),"data-uppy-panelType":"AddFiles","aria-hidden":r.showAddFilesPanel},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18n("addingMoreFiles")),v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>r.toggleAddFilesPanel(!1)},r.i18n("back"))),v(PE,r)),"AddFilesPanel"),R9=L9,F9=y(L(),1);function DE(r){let{tagName:o}=r.target;if(o==="INPUT"||o==="TEXTAREA"){r.stopPropagation();return}r.preventDefault(),r.stopPropagation()}a(DE,"ignoreEvent");var rc=DE;function LE(r){let{activePickerPanel:o,className:c,hideAllPanels:p,i18n:_,state:M,uppy:F}=r;return v("div",{className:(0,F9.default)("uppy-DashboardContent-panel",c),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${o.id}`,onDragOver:rc,onDragLeave:rc,onDrop:rc,onPaste:rc},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},_("importFrom",{name:o.name})),v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:p},_("cancel"))),v("div",{className:"uppy-DashboardContent-panelBody"},F.getPlugin(o.id).render(M)))}a(LE,"PickerPanelContent");var I9=LE,B9=y(L(),1);function RE(r){let o=r.files[r.fileCardFor];return v("div",{className:(0,B9.default)("uppy-DashboardContent-panel",r.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18nArray("editing",{file:v("span",{className:"uppy-DashboardContent-titleFile"},o.meta?o.meta.name:o.name)})),v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r.hideAllPanels},r.i18n("cancel")),v("button",{className:"uppy-DashboardContent-save",type:"button",onClick:r.saveFileEditor},r.i18n("save"))),v("div",{className:"uppy-DashboardContent-panelBody"},r.editors.map(c=>r.uppy.getPlugin(c.id).render(r.state))))}a(RE,"EditorPanel");var N9=RE,Oo={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function FE(r,o,c,p){if(p===void 0&&(p={}),r)return Oo.STATE_ERROR;if(o)return Oo.STATE_COMPLETE;if(c)return Oo.STATE_PAUSED;let _=Oo.STATE_WAITING,M=Object.keys(p);for(let F=0;F<M.length;F++){let{progress:N}=p[M[F]];if(N.uploadStarted&&!N.uploadComplete)return Oo.STATE_UPLOADING;N.preprocess&&_!==Oo.STATE_UPLOADING&&(_=Oo.STATE_PREPROCESSING),N.postprocess&&_!==Oo.STATE_UPLOADING&&_!==Oo.STATE_PREPROCESSING&&(_=Oo.STATE_POSTPROCESSING)}return _}a(FE,"getUploadingState");function IE(r){let{files:o,i18n:c,isAllComplete:p,isAllErrored:_,isAllPaused:M,inProgressNotPausedFiles:F,newFiles:N,processingFiles:Y}=r;switch(FE(_,p,M,o)){case"uploading":return c("uploadingXFiles",{smart_count:F.length});case"preprocessing":case"postprocessing":return c("processingXFiles",{smart_count:Y.length});case"paused":return c("uploadPaused");case"waiting":return c("xFilesSelected",{smart_count:N.length});case"complete":return c("uploadComplete")}}a(IE,"UploadStatus");function BE(r){let{i18n:o,isAllComplete:c,hideCancelButton:p,maxNumberOfFiles:_,toggleAddFilesPanel:M,uppy:F}=r,{allowNewUpload:N}=r;return N&&_&&(N=r.totalFileCount<r.maxNumberOfFiles),v("div",{className:"uppy-DashboardContent-bar"},!c&&!p?v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>F.cancelAll()},o("cancel")):v("div",null),v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},v(IE,r)),N?v("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":o("addMoreFiles"),title:o("addMoreFiles"),onClick:()=>M(!0)},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},v("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),v("span",{className:"uppy-DashboardContent-addMoreCaption"},o("addMore"))):v("div",null))}a(BE,"PanelTopBar");var z9=BE,U9=y(L(),1),NE=class extends ae{constructor(r){super(r),this.form=document.createElement("form"),this.updateMeta=(_,M)=>{this.setState(F=>{let{formState:N}=F;return{formState:{...N,[M]:_}}})},this.handleSave=_=>{_.preventDefault();let M=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,M)},this.handleCancel=()=>{let _=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",_),this.props.toggleFileCard(!1)},this.saveOnEnter=_=>{if(_.keyCode===13){_.stopPropagation(),_.preventDefault();let M=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,M.id)}},this.renderMetaFields=()=>{let _=this.getMetaFields()||[],M={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return _.map(F=>{let N=`uppy-Dashboard-FileCard-input-${F.id}`,Y=this.props.requiredMetaFields.includes(F.id);return v("fieldset",{key:F.id,className:"uppy-Dashboard-FileCard-fieldset"},v("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:N},F.name),F.render!==void 0?F.render({value:this.state.formState[F.id],onChange:re=>this.updateMeta(re,F.id),fieldCSSClasses:M,required:Y,form:this.form.id},v):v("input",{className:M.text,id:N,form:this.form.id,type:F.type||"text",required:Y,value:this.state.formState[F.id],placeholder:F.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:re=>this.updateMeta(re.target.value,F.id),"data-uppy-super-focusable":!0}))})};let o=this.props.files[this.props.fileCardFor],c=this.getMetaFields()||[],p={};c.forEach(_=>{p[_.id]=o.meta[_.id]||""}),this.state={formState:p},this.form.id=ze()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){let r=this.props.files[this.props.fileCardFor],o=this.props.canEditFile(r);return v("div",{className:(0,U9.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:rc,onDragLeave:rc,onDrop:rc,onPaste:rc},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:v("span",{className:"uppy-DashboardContent-titleFile"},r.meta?r.meta.name:r.name)})),v("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),v("div",{className:"uppy-Dashboard-FileCard-inner"},v("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Mg(r.type).color}},v(c_,{file:r}),o&&v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:c=>{this.handleSave(c),this.props.openFileEditor(r)},form:this.form.id},this.props.i18n("editFile"))),v("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),v("div",{className:"uppy-Dashboard-FileCard-actions"},v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}};a(NE,"FileCard");var H9=NE,W9=y(L(),1),Su="uppy-transition-slideDownUp",zE=250,UE=class extends ae{constructor(r){super(r),this.state={cachedChildren:null,className:""}}componentWillUpdate(r){let{cachedChildren:o}=this.state,c=Ie(r.children)[0];if(o===c)return null;let p={cachedChildren:c};c&&!o&&(p.className=`${Su}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Su}-enter ${Su}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},zE)})),o&&!c&&this.leaveTimeout===void 0&&(p.cachedChildren=o,p.className=`${Su}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Su}-leave ${Su}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},zE)})),this.setState(p)}render(){let{cachedChildren:r,className:o}=this.state;return r?he(r,{className:(0,W9.default)(o,r.props.className)}):null}};a(UE,"Slide");var Rg=UE;function cl(){return cl=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},cl.apply(this,arguments)}a(cl,"_extends");var HE=900,WE=700,p_=576,j9=400;function jE(r){let o=r.totalFileCount===0,c=r.totalFileCount===1,p=r.containerWidth>p_,_=(0,y9.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":r.disabled,"uppy-Dashboard--animateOpenClose":r.animateOpenClose,"uppy-Dashboard--isClosing":r.isClosing,"uppy-Dashboard--isDraggingOver":r.isDraggingOver,"uppy-Dashboard--modal":!r.inline,"uppy-size--md":r.containerWidth>p_,"uppy-size--lg":r.containerWidth>WE,"uppy-size--xl":r.containerWidth>HE,"uppy-size--height-md":r.containerHeight>j9,"uppy-Dashboard--isAddFilesPanelVisible":r.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":r.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":c}),M=1;r.containerWidth>HE?M=5:r.containerWidth>WE?M=4:r.containerWidth>p_&&(M=3);let F=r.showSelectedFiles&&!o,N=r.recoveredState?Object.keys(r.recoveredState.files).length:null,Y=r.files?Object.keys(r.files).filter(X=>r.files[X].isGhost).length:null,re=a(()=>Y>0?r.i18n("recoveredXFiles",{smart_count:Y}):r.i18n("recoveredAllFiles"),"renderRestoredText");return v("div",{className:_,"data-uppy-theme":r.theme,"data-uppy-num-acquirers":r.acquirers.length,"data-uppy-drag-drop-supported":!r.disableLocalFiles&&l_(),"aria-hidden":r.inline?"false":r.isHidden,"aria-disabled":r.disabled,"aria-label":r.inline?r.i18n("dashboardTitle"):r.i18n("dashboardWindowTitle"),onPaste:r.handlePaste,onDragOver:r.handleDragOver,onDragLeave:r.handleDragLeave,onDrop:r.handleDrop},v("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:r.handleClickOutside}),v("div",{className:"uppy-Dashboard-inner","aria-modal":!r.inline&&"true",role:!r.inline&&"dialog",style:{width:r.inline&&r.width?r.width:"",height:r.inline&&r.height?r.height:""}},r.inline?null:v("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":r.i18n("closeModal"),title:r.i18n("closeModal"),onClick:r.closeModal},v("span",{"aria-hidden":"true"},"")),v("div",{className:"uppy-Dashboard-innerWrap"},v("div",{className:"uppy-Dashboard-dropFilesHereHint"},r.i18n("dropHint")),F&&v(z9,r),N&&v("div",{className:"uppy-Dashboard-serviceMsg"},v("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},v("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},v("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),v("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),v("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),v("strong",{className:"uppy-Dashboard-serviceMsg-title"},r.i18n("sessionRestored")),v("div",{className:"uppy-Dashboard-serviceMsg-text"},re())),F?v(P9,cl({},r,{singleFile:c,itemsPerRow:M})):v(PE,cl({},r,{isSizeMD:p})),v(Rg,null,r.showAddFilesPanel?v(R9,cl({key:"AddFiles"},r,{isSizeMD:p})):null),v(Rg,null,r.fileCardFor?v(H9,cl({key:"FileCard"},r)):null),v(Rg,null,r.activePickerPanel?v(I9,cl({key:"Picker"},r)):null),v(Rg,null,r.showFileEditor?v(N9,cl({key:"Editor"},r)):null),v("div",{className:"uppy-Dashboard-progressindicators"},r.progressindicators.map(X=>r.uppy.getPlugin(X.id).render(r.state))))))}a(jE,"Dashboard");var q9={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function Qs(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Qs,"_classPrivateFieldLooseBase");var $9=0;function sc(r){return"__private_"+$9+++"_"+r}a(sc,"_classPrivateFieldLooseKey");var V9={version:"3.2.0"},m_=r_.default||r_,qE=9,Y9=27;function g_(){let r={};return r.promise=new Promise((o,c)=>{r.resolve=o,r.reject=c}),r}a(g_,"createPromise");function $E(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},v("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}a($E,"defaultPickerIcon");var hl=sc("generateLargeThumbnailIfSingleFile"),cf=sc("openFileEditorWhenFilesAdded"),Hc=sc("attachRenderFunctionToTarget"),y_=sc("isTargetSupported"),v_=sc("getAcquirers"),b_=sc("getProgressIndicators"),ul=sc("getEditors"),Fg=class extends Tt{constructor(r,o){var c;super(r,o),c=this,this.removeTarget=_=>{let M=this.getPluginState().targets.filter(F=>F.id!==_.id);this.setPluginState({targets:M})},this.addTarget=_=>{let M=_.id||_.constructor.name,F=_.title||M,N=_.type;if(N!=="acquirer"&&N!=="progressindicator"&&N!=="editor"){this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error");return}let Y={id:M,name:F,type:N},re=this.getPluginState().targets.slice();return re.push(Y),this.setPluginState({targets:re}),this.el},this.hideAllPanels=()=>{let _=this.getPluginState(),M={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};_.activePickerPanel===M.activePickerPanel&&_.showAddFilesPanel===M.showAddFilesPanel&&_.showFileEditor===M.showFileEditor&&_.activeOverlayType===M.activeOverlayType||this.setPluginState(M)},this.showPanel=_=>{let{targets:M}=this.getPluginState(),F=M.filter(N=>N.type==="acquirer"&&N.id===_)[0];this.setPluginState({activePickerPanel:F,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",_)},this.canEditFile=_=>{let{targets:M}=this.getPluginState();return Qs(this,ul)[ul](M).some(F=>this.uppy.getPlugin(F.id).canEditFile(_))},this.openFileEditor=_=>{let{targets:M}=this.getPluginState(),F=Qs(this,ul)[ul](M);this.setPluginState({showFileEditor:!0,fileCardFor:_.id||null,activeOverlayType:"FileEditor"}),F.forEach(N=>{this.uppy.getPlugin(N.id).selectFile(_)})},this.saveFileEditor=()=>{let{targets:_}=this.getPluginState();Qs(this,ul)[ul](_).forEach(M=>{this.uppy.getPlugin(M.id).save()}),this.hideAllPanels()},this.openModal=()=>{let{promise:_,resolve:M}=g_();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){let F=a(()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",F,!1),M()},"handler");this.el.addEventListener("animationend",F,!1)}else this.setPluginState({isHidden:!1}),M();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),_},this.closeModal=function(_){_===void 0&&(_={});let{manualClose:M=!0}=_,{isHidden:F,isClosing:N}=c.getPluginState();if(F||N)return;let{promise:Y,resolve:re}=g_();if(c.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),c.opts.animateOpenClose){c.setPluginState({isClosing:!0});let oe=a(()=>{c.setPluginState({isHidden:!0,isClosing:!1}),c.superFocus.cancel(),c.savedActiveElement.focus(),c.el.removeEventListener("animationend",oe,!1),re()},"handler");c.el.addEventListener("animationend",oe,!1)}else c.setPluginState({isHidden:!0}),c.superFocus.cancel(),c.savedActiveElement.focus(),re();if(document.removeEventListener("keydown",c.handleKeyDownInModal),M&&c.opts.browserBackButtonClose){var X;(X=history.state)!=null&&X[c.modalName]&&history.back()}return c.uppy.emit("dashboard:modal-closed"),Y},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=_=>{let{capabilities:M}=this.uppy.getState();this.uppy.setState({capabilities:{...M,darkMode:_}})},this.handleSystemDarkModeChange=_=>{let M=_.matches;this.uppy.log(`[Dashboard] Dark mode is ${M?"on":"off"}`),this.setDarkModeCapability(M)},this.toggleFileCard=(_,M)=>{let F=this.uppy.getFile(M);_?this.uppy.emit("dashboard:file-edit-start",F):this.uppy.emit("dashboard:file-edit-complete",F),this.setPluginState({fileCardFor:_?M:null,activeOverlayType:_?"FileCard":null})},this.toggleAddFilesPanel=_=>{this.setPluginState({showAddFilesPanel:_,activeOverlayType:_?"AddFiles":null})},this.addFiles=_=>{let M=_.map(F=>({source:this.id,name:F.name,type:F.type,data:F,meta:{relativePath:F.relativePath||F.webkitRelativePath||null}}));try{this.uppy.addFiles(M)}catch(F){this.uppy.log(F)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(_=>{let M=_[0],{width:F,height:N}=M.contentRect;this.uppy.log(`[Dashboard] resized: ${F} / ${N}`,"debug"),this.setPluginState({containerWidth:F,containerHeight:N,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{let _=this.getPluginState(),M=!this.opts.inline&&_.isHidden;!_.areInsidesReadyToBeVisible&&!M&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=_=>{this.el.contains(_.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=_=>{let M=so(this.el.querySelectorAll(s_));_?M.forEach(F=>{let N=F.getAttribute("tabindex");N&&(F.dataset.inertTabindex=N),F.setAttribute("tabindex","-1")}):M.forEach(F=>{"inertTabindex"in F.dataset?F.setAttribute("tabindex",F.dataset.inertTabindex):F.removeAttribute("tabindex")}),this.dashboardIsDisabled=_},this.updateBrowserHistory=()=>{var _;(_=history.state)!=null&&_[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=_=>{var M;this.isModalOpen()&&(!_.state||!_.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(M=_.state)!=null&&M[this.modalName]&&history.back()},this.handleKeyDownInModal=_=>{_.keyCode===Y9&&this.requestCloseModal(_),_.keyCode===qE&&o_(_,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=_=>{this.uppy.iteratePlugins(F=>{F.type==="acquirer"&&(F.handleRootPaste==null||F.handleRootPaste(_))});let M=so(_.clipboardData.files);M.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(M))},this.handleInputChange=_=>{_.preventDefault();let M=so(_.target.files);M.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(M))},this.handleDragOver=_=>{var M,F;_.preventDefault(),_.stopPropagation();let N=a(()=>{let oe=!0;return this.uppy.iteratePlugins(fe=>{fe.canHandleRootDrop!=null&&fe.canHandleRootDrop(_)&&(oe=!0)}),oe},"canSomePluginHandleRootDrop"),Y=a(()=>{let{types:oe}=_.dataTransfer;return oe.some(fe=>fe==="Files")},"doesEventHaveFiles"),re=N(_),X=Y(_);if(!re&&!X||this.opts.disabled||this.opts.disableLocalFiles&&(X||!re)||!this.uppy.getState().allowNewUpload){_.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}_.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(M=(F=this.opts).onDragOver)==null||M.call(F,_)},this.handleDragLeave=_=>{var M,F;_.preventDefault(),_.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(M=(F=this.opts).onDragLeave)==null||M.call(F,_)},this.handleDrop=async _=>{var M,F;_.preventDefault(),_.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(X=>{X.type==="acquirer"&&(X.handleRootDrop==null||X.handleRootDrop(_))});let N=!1,Y=a(X=>{this.uppy.log(X,"error"),N||(this.uppy.info(X.message,"error"),N=!0)},"logDropError"),re=await Og(_.dataTransfer,{logDropError:Y});re.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(re)),(M=(F=this.opts).onDrop)==null||M.call(F,_)},this.handleRequestThumbnail=_=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",_)},this.handleCancelThumbnail=_=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",_)},this.handleKeyDownInInline=_=>{_.keyCode===qE&&lE(_,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=_=>{this.el.contains(document.activeElement)&&this.handlePaste(_)},this.handleComplete=_=>{let{failed:M}=_;this.opts.closeAfterFinish&&M.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,hl,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;let _=600,M=this.uppy.getFiles();if(M.length===1){let F=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);F==null||F.setOptions({thumbnailWidth:_});let N={...M[0],preview:void 0};F.requestThumbnail(N).then(()=>{F==null||F.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,cf,{writable:!0,value:_=>{let M=_[0];this.canEditFile(M)&&this.openFileEditor(M)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){let _=J0(this.opts.trigger);_?_.forEach(M=>M.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",Qs(this,hl)[hl]),this.uppy.on("file-removed",Qs(this,hl)[hl]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",Qs(this,cf)[cf])},this.removeEvents=()=>{let _=J0(this.opts.trigger);!this.opts.inline&&_&&_.forEach(M=>M.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",Qs(this,hl)[hl]),this.uppy.off("file-removed",Qs(this,hl)[hl]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",Qs(this,cf)[cf])},this.superFocusOnEachUpdate=()=>{let _=this.el.contains(document.activeElement),M=document.activeElement===document.body||document.activeElement===null,F=this.uppy.getState().info.length===0,N=!this.opts.inline;F&&(N||_||M&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableAllFocusableElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(_,M)=>{this.uppy.setFileMeta(M,_),this.toggleFileCard(!1,M)},Object.defineProperty(this,Hc,{writable:!0,value:_=>{let M=this.uppy.getPlugin(_.id);return{..._,icon:M.icon||this.opts.defaultPickerIcon,render:M.render}}}),Object.defineProperty(this,y_,{writable:!0,value:_=>{let M=this.uppy.getPlugin(_.id);return typeof M.isSupported!="function"?!0:M.isSupported()}}),Object.defineProperty(this,v_,{writable:!0,value:m_(_=>_.filter(M=>M.type==="acquirer"&&Qs(this,y_)[y_](M)).map(Qs(this,Hc)[Hc]))}),Object.defineProperty(this,b_,{writable:!0,value:m_(_=>_.filter(M=>M.type==="progressindicator").map(Qs(this,Hc)[Hc]))}),Object.defineProperty(this,ul,{writable:!0,value:m_(_=>_.filter(M=>M.type==="editor").map(Qs(this,Hc)[Hc]))}),this.render=_=>{let M=this.getPluginState(),{files:F,capabilities:N,allowNewUpload:Y}=_,{newFiles:re,uploadStartedFiles:X,completeFiles:oe,erroredFiles:fe,inProgressFiles:Te,inProgressNotPausedFiles:Ye,processingFiles:Nt,isUploadStarted:Et,isAllComplete:Qt,isAllErrored:Fi,isAllPaused:ai}=this.uppy.getObjectOfFilesPerState(),pt=Qs(this,v_)[v_](M.targets),wt=Qs(this,b_)[b_](M.targets),yt=Qs(this,ul)[ul](M.targets),Ue;return this.opts.theme==="auto"?Ue=N.darkMode?"dark":"light":Ue=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),jE({state:_,isHidden:M.isHidden,files:F,newFiles:re,uploadStartedFiles:X,completeFiles:oe,erroredFiles:fe,inProgressFiles:Te,inProgressNotPausedFiles:Ye,processingFiles:Nt,isUploadStarted:Et,isAllComplete:Qt,isAllErrored:Fi,isAllPaused:ai,totalFileCount:Object.keys(F).length,totalProgress:_.totalProgress,allowNewUpload:Y,acquirers:pt,theme:Ue,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:M.activePickerPanel,showFileEditor:M.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:M.isClosing,progressindicators:wt,editors:yt,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:_.recoveredState,metaFields:M.metaFields,resumableUploads:N.resumableUploads||!1,individualCancellation:N.individualCancellation,isMobileDevice:N.isMobileDevice,fileCardFor:M.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:M.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:M.containerWidth,containerHeight:M.containerHeight,areInsidesReadyToBeVisible:M.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:M.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins(_=>{_&&!_.target&&_.opts&&_.opts.target===this.constructor&&this.addTarget(_)})},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});let{inline:_,closeAfterFinish:M}=this.opts;if(_&&M)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");let{allowMultipleUploads:F,allowMultipleUploadBatches:N}=this.uppy.opts;(F||N)&&M&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");let{target:Y}=this.opts;Y&&this.mount(Y,this),(this.opts.plugins||[]).forEach(X=>{let oe=this.uppy.getPlugin(X);oe&&oe.mount(this,oe)}),this.opts.disableStatusBar||this.uppy.use(pg,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(mg,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(Eg,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;let re=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${re?"on":"off"}`),this.setDarkModeCapability(re),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){let _=this.uppy.getPlugin(`${this.id}:Informer`);_&&this.uppy.removePlugin(_)}if(!this.opts.disableStatusBar){let _=this.uppy.getPlugin(`${this.id}:StatusBar`);_&&this.uppy.removePlugin(_)}if(!this.opts.disableThumbnailGenerator){let _=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);_&&this.uppy.removePlugin(_)}(this.opts.plugins||[]).forEach(_=>{let M=this.uppy.getPlugin(_);M&&M.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${ze()}`,this.defaultLocale=q9;let p={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:$E,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.cancelAll(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...p,...o},this.i18nInit(),this.superFocus=cE(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}};a(Fg,"Dashboard"),Fg.VERSION=V9.version;var G9={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},X9={version:"3.0.1"},Ig=class extends Tt{constructor(r,o){super(r,o),this.handleDrop=async p=>{var _,M;p.preventDefault(),p.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});let F=a(Y=>{this.uppy.log(Y,"error")},"logDropError"),N=await Og(p.dataTransfer,{logDropError:F});N.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(N)),(_=(M=this.opts).onDrop)==null||_.call(M,p)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=G9;let c={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...c,...o},this.i18nInit(),this.isDragDropSupported=l_(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(r){let o=r.map(c=>({source:this.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}));try{this.uppy.addFiles(o)}catch(c){this.uppy.log(c)}}onInputChange(r){let o=so(r.target.files);o.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(o)),r.target.value=null}handleDragOver(r){var o,c;r.preventDefault(),r.stopPropagation();let{types:p}=r.dataTransfer,_=p.some(F=>F==="Files"),{allowNewUpload:M}=this.uppy.getState();if(!_||!M){r.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}r.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(o=(c=this.opts).onDragOver)==null||o.call(c,r)}handleDragLeave(r){var o,c;r.preventDefault(),r.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(o=(c=this.opts).onDragLeave)==null||o.call(c,r)}renderHiddenFileInput(){let{restrictions:r}=this.uppy.opts;return v("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:o=>{this.fileInputRef=o},name:this.opts.inputName,multiple:r.maxNumberOfFiles!==1,accept:r.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},v("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return v("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:v("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return v("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){let r=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,o={width:this.opts.width,height:this.opts.height};return v("button",{type:"button",className:r,style:o,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),v("div",{className:"uppy-DragDrop-inner"},Ig.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){let{target:r}=this.opts;this.setPluginState({isDraggingOver:!1}),r&&this.mount(r,this)}uninstall(){this.unmount()}};a(Ig,"DragDrop"),Ig.VERSION=X9.version;var K9={version:"2.0.1"};function Bg(r){var o,c;return(o=(c=r.dataTransfer.types)==null?void 0:c.some(p=>p==="Files"))!=null?o:!1}a(Bg,"isFileTransfer");var __=class extends Je{constructor(r,o){super(r,o),this.addFiles=p=>{let _=p.map(M=>({source:this.id,name:M.name,type:M.type,data:M,meta:{relativePath:M.relativePath||null}}));try{this.uppy.addFiles(_)}catch(M){this.uppy.log(M)}},this.handleDrop=async p=>{var _,M;if(!Bg(p))return;p.preventDefault(),p.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),p.currentTarget.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(re=>{re.type==="acquirer"&&(re.handleRootDrop==null||re.handleRootDrop(p))});let F=!1,N=a(re=>{this.uppy.log(re,"error"),F||(this.uppy.info(re.message,"error"),F=!0)},"logDropError"),Y=await Og(p.dataTransfer,{logDropError:N});Y.length>0&&(this.uppy.log("[DropTarget] Files were dropped"),this.addFiles(Y)),(_=(M=this.opts).onDrop)==null||_.call(M,p)},this.handleDragOver=p=>{var _,M;!Bg(p)||(p.preventDefault(),p.stopPropagation(),p.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),p.currentTarget.classList.add("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!0}),(_=(M=this.opts).onDragOver)==null||_.call(M,p))},this.handleDragLeave=p=>{var _,M;if(!Bg(p))return;p.preventDefault(),p.stopPropagation();let{currentTarget:F}=p;clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{F.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1})},50),(_=(M=this.opts).onDragLeave)==null||_.call(M,p)},this.addListeners=()=>{let{target:p}=this.opts;if(p instanceof Element?this.nodes=[p]:typeof p=="string"&&(this.nodes=so(document.querySelectorAll(p))),!this.nodes&&!this.nodes.length>0)throw new Error(`"${p}" does not match any HTML elements`);this.nodes.forEach(_=>{_.addEventListener("dragover",this.handleDragOver,!1),_.addEventListener("dragleave",this.handleDragLeave,!1),_.addEventListener("drop",this.handleDrop,!1)})},this.removeListeners=()=>{this.nodes&&this.nodes.forEach(p=>{p.removeEventListener("dragover",this.handleDragOver,!1),p.removeEventListener("dragleave",this.handleDragLeave,!1),p.removeEventListener("drop",this.handleDrop,!1)})},this.type="acquirer",this.id=this.opts.id||"DropTarget",this.title="Drop Target";let c={target:null};this.opts={...c,...o},this.removeDragOverClassTimeout=null}install(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}uninstall(){this.removeListeners()}};a(__,"DropTarget"),__.VERSION=K9.version;var Z9={strings:{chooseFiles:"Choose files"}},Q9={version:"3.0.1"},w_=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=Z9;let c={target:null,pretty:!0,inputName:"files[]"};this.opts={...c,...o},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(r){let o=r.map(c=>({source:this.id,name:c.name,type:c.type,data:c}));try{this.uppy.addFiles(o)}catch(c){this.uppy.log(c)}}handleInputChange(r){this.uppy.log("[FileInput] Something selected through input...");let o=so(r.target.files);this.addFiles(o),r.target.value=null}handleClick(){this.input.click()}render(){let r={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},{restrictions:o}=this.uppy.opts,c=o.allowedFileTypes?o.allowedFileTypes.join(","):null;return v("div",{className:"uppy-FileInput-container"},v("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&r,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:o.maxNumberOfFiles!==1,accept:c,ref:p=>{this.input=p}}),this.opts.pretty&&v("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(w_,"FileInput"),w_.VERSION=Q9.version;var J9=y(g(),1),VE=class extends ae{constructor(r){super(r),this.granularRotateOnChange=o=>{let{rotationAngle:c,rotationDelta:p}=this.state,_=Number(o.target.value)-p;if(cancelAnimationFrame(this.granularRotateOnInputNextFrame),_!==0){let M=c+_;this.granularRotateOnInputNextFrame=requestAnimationFrame(()=>{this.cropper.rotateTo(M)})}},this.state={rotationAngle:0,rotationDelta:0}}componentDidMount(){let{opts:r,storeCropperInstance:o}=this.props;this.cropper=new J9.default(this.imgElement,r.cropperOptions),o(this.cropper),r.actions.granularRotate&&this.imgElement.addEventListener("crop",c=>{let p=c.detail.rotate;this.setState({rotationAngle:p,rotationDelta:(p+405)%90-45})})}componentWillUnmount(){this.cropper.destroy()}renderGranularRotate(){let{i18n:r}=this.props,{rotationDelta:o,rotationAngle:c}=this.state;return v("label",{"data-microtip-position":"top",role:"tooltip","aria-label":`${c}`,className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},v("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:o,min:"-45",max:"44","aria-label":r("rotate")}))}renderRevert(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("revert"),"data-microtip-position":"top",onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(0)}},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}renderRotate(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.rotate(-90),"aria-label":r("rotate"),"data-microtip-position":"top"},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}renderFlip(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("flipHorizontal"),"data-microtip-position":"top",onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}renderZoomIn(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("zoomIn"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(.1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},v("path",{d:"M0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),v("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}renderZoomOut(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("zoomOut"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(-.1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}renderCropSquare(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioSquare"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}renderCropWidescreen(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioLandscape"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(16/9)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),v("path",{fill:"none",d:"M0 0h24v24H0z"})))}renderCropWidescreenVertical(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioPortrait"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(9/16)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),v("path",{d:"M0 0h24v24H0z",fill:"none"})))}render(){let{currentImage:r,opts:o}=this.props,{actions:c}=o,p=URL.createObjectURL(r.data);return v("div",{className:"uppy-ImageCropper"},v("div",{className:"uppy-ImageCropper-container"},v("img",{className:"uppy-ImageCropper-image",alt:r.name,src:p,ref:_=>{this.imgElement=_}})),v("div",{className:"uppy-ImageCropper-controls"},c.revert&&this.renderRevert(),c.rotate&&this.renderRotate(),c.granularRotate&&this.renderGranularRotate(),c.flip&&this.renderFlip(),c.zoomIn&&this.renderZoomIn(),c.zoomOut&&this.renderZoomOut(),c.cropSquare&&this.renderCropSquare(),c.cropWidescreen&&this.renderCropWidescreen(),c.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}};a(VE,"Editor");var e7={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}},t7={version:"2.1.0"},x_=class extends Tt{constructor(r,o){super(r,o),this.save=()=>{let M=a(N=>{let{currentImage:Y}=this.getPluginState();this.uppy.setFileState(Y.id,{data:N,size:N.size,preview:null});let re=this.uppy.getFile(Y.id);this.uppy.emit("thumbnail:request",re),this.setPluginState({currentImage:re}),this.uppy.emit("file-editor:complete",re)},"saveBlobCallback"),{currentImage:F}=this.getPluginState();this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(M,F.type,this.opts.quality)},this.storeCropperInstance=M=>{this.cropper=M},this.selectFile=M=>{this.uppy.emit("file-editor:start",M),this.setPluginState({currentImage:M})},this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=e7;let c={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},p={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},_={quality:.8};this.opts={..._,...o,actions:{...p,...o.actions},cropperOptions:{...c,...o.cropperOptions}},this.i18nInit()}canEditFile(r){if(!r.type||r.isRemote)return!1;let o=r.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(o)}install(){this.setPluginState({currentImage:null});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){let{currentImage:r}=this.getPluginState();if(r){let o=this.uppy.getFile(r.id);this.uppy.emit("file-editor:cancel",o)}this.unmount()}render(){let{currentImage:r}=this.getPluginState();return r===null||r.isRemote?null:v(VE,{currentImage:r,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}};a(x_,"ImageEditor"),x_.VERSION=t7.version;var i7={version:"3.0.1"},k_=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";let c={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...c,...o},this.render=this.render.bind(this)}render(r){let o=r.totalProgress||0,c=(o===0||o===100)&&this.opts.hideAfterFinish;return v("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":c},v("div",{className:"uppy-ProgressBar-inner",style:{width:`${o}%`}}),v("div",{className:"uppy-ProgressBar-percentage"},o))}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(k_,"ProgressBar"),k_.VERSION=i7.version;var r7={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function Wc(r){return[r]=r.split(";",1),r7[r]||null}a(Wc,"getFileTypeExtension");function YE(){var r;return typeof MediaRecorder=="function"&&typeof((r=MediaRecorder.prototype)==null?void 0:r.start)=="function"}a(YE,"supportsMediaRecorder");var S_,Xn,T_,GE,C_=0,XE=[],Ng=[],KE=ti.__b,ZE=ti.__r,QE=ti.diffed,JE=ti.__c,eO=ti.unmount;function E_(r,o){ti.__h&&ti.__h(Xn,r,C_||o),C_=0;var c=Xn.__H||(Xn.__H={__:[],__h:[]});return r>=c.__.length&&c.__.push({__V:Ng}),c.__[r]}a(E_,"p");function O_(r,o){var c=E_(S_++,3);!ti.__s&&A_(c.__H,o)&&(c.__=r,c.u=o,Xn.__H.__h.push(c))}a(O_,"_");function M_(r){return C_=5,tO(function(){return{current:r}},[])}a(M_,"s");function tO(r,o){var c=E_(S_++,7);return A_(c.__H,o)?(c.__V=r(),c.u=o,c.__h=r,c.__V):c.__}a(tO,"F");function iO(){for(var r;r=XE.shift();)if(r.__P)try{r.__H.__h.forEach(hf),r.__H.__h.forEach(zg),r.__H.__h=[]}catch(o){r.__H.__h=[],ti.__e(o,r.__v)}}a(iO,"b"),ti.__b=function(r){Xn=null,KE&&KE(r)},ti.__r=function(r){ZE&&ZE(r),S_=0;var o=(Xn=r.__c).__H;o&&(T_===Xn?(o.__h=[],Xn.__h=[],o.__.forEach(function(c){c.__V=Ng,c.u=void 0})):(o.__h.forEach(hf),o.__h.forEach(zg),o.__h=[])),T_=Xn},ti.diffed=function(r){QE&&QE(r);var o=r.__c;o&&o.__H&&(o.__H.__h.length&&(XE.push(o)!==1&&GE===ti.requestAnimationFrame||((GE=ti.requestAnimationFrame)||function(c){var p,_=a(function(){clearTimeout(M),rO&&cancelAnimationFrame(p),setTimeout(c)},"u"),M=setTimeout(_,100);rO&&(p=requestAnimationFrame(_))})(iO)),o.__H.__.forEach(function(c){c.u&&(c.__H=c.u),c.__V!==Ng&&(c.__=c.__V),c.u=void 0,c.__V=Ng})),T_=Xn=null},ti.__c=function(r,o){o.some(function(c){try{c.__h.forEach(hf),c.__h=c.__h.filter(function(p){return!p.__||zg(p)})}catch(p){o.some(function(_){_.__h&&(_.__h=[])}),o=[],ti.__e(p,c.__v)}}),JE&&JE(r,o)},ti.unmount=function(r){eO&&eO(r);var o,c=r.__c;c&&c.__H&&(c.__H.__.forEach(function(p){try{hf(p)}catch(_){o=_}}),o&&ti.__e(o,c.__v))};var rO=typeof requestAnimationFrame=="function";function hf(r){var o=Xn,c=r.__c;typeof c=="function"&&(r.__c=void 0,c()),Xn=o}a(hf,"j");function zg(r){var o=Xn;r.__c=r.__(),Xn=o}a(zg,"k");function A_(r,o){return!r||r.length!==o.length||o.some(function(c,p){return c!==r[p]})}a(A_,"w");function sO(r){let{recording:o,onStartRecording:c,onStopRecording:p,i18n:_}=r;return o?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:_("stopAudioRecording"),"aria-label":_("stopAudioRecording"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("rect",{x:"15",y:"15",width:"70",height:"70"}))):v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:_("startAudioRecording"),"aria-label":_("startAudioRecording"),onClick:c,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},v("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}a(sO,"RecordButton");function nO(r){return`${Math.floor(r/60)}:${String(r%60).padStart(2,0)}`}a(nO,"formatSeconds");function aO(r){let{recordingLengthSeconds:o,i18n:c}=r,p=nO(o);return v("span",{"aria-label":c("recordingLength",{recording_length:p})},p)}a(aO,"RecordingLength");var s7=a(r=>{let{currentDeviceId:o,audioSources:c,onChangeSource:p}=r;return v("div",{className:"uppy-Audio-videoSource"},v("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:_=>{p(_.target.value)}},c.map(_=>v("option",{key:_.deviceId,value:_.deviceId,selected:_.deviceId===o},_.label))))},"default");function oO(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(oO,"_classPrivateFieldLooseBase");var n7=0;function lO(r){return"__private_"+n7+++"_"+r}a(lO,"_classPrivateFieldLooseKey");function P_(r){return typeof r=="function"}a(P_,"isFunction");function Tu(r){return P_(r)?r():r}a(Tu,"result");var D_=lO("draw"),cO=class{constructor(r,o){o===void 0&&(o={}),Object.defineProperty(this,D_,{writable:!0,value:()=>this.draw()});let c=o.canvas||{},p=o.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=r,this.width=Tu(c.width)||this.canvas.width,this.height=Tu(c.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=Tu(p.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=Tu(p.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=Tu(p.lineWidth)||1,this.onDrawFrame=P_(o.onDrawFrame)?o.onDrawFrame:()=>{}}addSource(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}draw(){let{analyser:r,dataArray:o,bufferLength:c}=this,p=this.canvasContext,_=this.width,M=this.height;r&&r.getByteTimeDomainData(o),p.fillRect(0,0,_,M),p.beginPath();let F=_*1/c,N=0;c||p.moveTo(0,this.height/2);for(let Y=0;Y<c;Y++){let re=o[Y]/128*(M/2);Y===0?p.moveTo(N,re):p.lineTo(N,re),N+=F}p.lineTo(_,M/2),p.stroke(),this.onDrawFrame(this),requestAnimationFrame(oO(this,D_)[D_])}};a(cO,"AudioOscilloscope");function hO(r){let{onSubmit:o,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:c("submitRecordedFile"),"aria-label":c("submitRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},v("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}a(hO,"SubmitButton");var a7=hO;function uO(r){let{onDiscard:o,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:c("discardRecordedFile"),"aria-label":c("discardRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},v("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},v("g",{fill:"#FFF",fillRule:"evenodd"},v("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),v("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}a(uO,"DiscardButton");var o7=uO;function dO(r){let{stream:o,recordedAudio:c,onStop:p,recording:_,supportsRecording:M,audioSources:F,showAudioSourceDropdown:N,onSubmit:Y,i18n:re,onStartRecording:X,onStopRecording:oe,onDiscardRecordedAudio:fe,recordingLengthSeconds:Te}=r,Ye=M_(null),Nt=M_(null);O_(()=>()=>{Nt.current=null,p()},[p]),O_(()=>{if(!c&&(Nt.current=new cO(Ye.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),Nt.current.draw(),o)){let ai=new AudioContext().createMediaStreamSource(o);Nt.current.addSource(ai)}},[c,o]);let Et=c!=null,Qt=!Et&&M,Fi=N&&!Et&&F&&F.length>1;return v("div",{className:"uppy-Audio-container"},v("div",{className:"uppy-Audio-audioContainer"},Et?v("audio",{className:"uppy-Audio-player",controls:!0,src:c}):v("canvas",{ref:Ye,className:"uppy-Audio-canvas"})),v("div",{className:"uppy-Audio-footer"},v("div",{className:"uppy-Audio-audioSourceContainer"},Fi?s7(r):null),v("div",{className:"uppy-Audio-buttonContainer"},Qt&&v(sO,{recording:_,onStartRecording:X,onStopRecording:oe,i18n:re}),Et&&v(a7,{onSubmit:Y,i18n:re}),Et&&v(o7,{onDiscard:fe,i18n:re})),v("div",{className:"uppy-Audio-recordingLength"},!Et&&v(aO,{recordingLengthSeconds:Te,i18n:re}))))}a(dO,"RecordingScreen");var l7=a(r=>{let{icon:o,hasAudio:c,i18n:p}=r;return v("div",{className:"uppy-Audio-permissons"},v("div",{className:"uppy-Audio-permissonsIcon"},o()),v("h1",{className:"uppy-Audio-title"},p(c?"allowAudioAccessTitle":"noAudioTitle")),v("p",null,p(c?"allowAudioAccessDescription":"noAudioDescription")))},"default"),c7={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function Ug(){return Ug=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Ug.apply(this,arguments)}a(Ug,"_extends");function si(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(si,"_classPrivateFieldLooseBase");var h7=0;function Gs(r){return"__private_"+h7+++"_"+r}a(Gs,"_classPrivateFieldLooseKey");var u7={version:"1.0.2"},Js=Gs("stream"),dl=Gs("audioActive"),fs=Gs("recordingChunks"),ps=Gs("recorder"),fl=Gs("capturedMediaFile"),en=Gs("mediaDevices"),uf=Gs("supportsUserMedia"),L_=Gs("hasAudioCheck"),jc=Gs("start"),R_=Gs("startRecording"),df=Gs("stopRecording"),F_=Gs("discardRecordedAudio"),I_=Gs("submit"),pl=Gs("stop"),B_=Gs("getAudio"),N_=Gs("changeSource"),qc=Gs("updateSources"),z_=class extends Tt{constructor(r,o){var c;super(r,o),c=this,Object.defineProperty(this,B_,{value:pO}),Object.defineProperty(this,L_,{value:fO}),Object.defineProperty(this,Js,{writable:!0,value:null}),Object.defineProperty(this,dl,{writable:!0,value:!1}),Object.defineProperty(this,fs,{writable:!0,value:null}),Object.defineProperty(this,ps,{writable:!0,value:null}),Object.defineProperty(this,fl,{writable:!0,value:null}),Object.defineProperty(this,en,{writable:!0,value:null}),Object.defineProperty(this,uf,{writable:!0,value:null}),Object.defineProperty(this,jc,{writable:!0,value:function(p){if(p===void 0&&(p=null),!si(c,uf)[uf])return Promise.reject(new Error("Microphone access not supported"));si(c,dl)[dl]=!0,si(c,L_)[L_]().then(_=>(c.setPluginState({hasAudio:_}),si(c,en)[en].getUserMedia({audio:!0}).then(M=>{si(c,Js)[Js]=M;let F=null,N=M.getAudioTracks();!p||!p.deviceId?F=N[0].getSettings().deviceId:N.forEach(Y=>{Y.getSettings().deviceId===p.deviceId&&(F=Y.getSettings().deviceId)}),si(c,qc)[qc](),c.setPluginState({currentDeviceId:F,audioReady:!0})}).catch(M=>{c.setPluginState({audioReady:!1,cameraError:M}),c.uppy.info(M.message,"error")})))}}),Object.defineProperty(this,R_,{writable:!0,value:()=>{si(this,ps)[ps]=new MediaRecorder(si(this,Js)[Js]),si(this,fs)[fs]=[];let p=!1;si(this,ps)[ps].addEventListener("dataavailable",_=>{si(this,fs)[fs].push(_.data);let{restrictions:M}=this.uppy.opts;if(si(this,fs)[fs].length>1&&M.maxFileSize!=null&&!p){let F=si(this,fs)[fs].reduce((re,X)=>re+X.size,0),N=(F-si(this,fs)[fs][0].size)/(si(this,fs)[fs].length-1)*3,Y=Math.max(0,M.maxFileSize-N);F>Y&&(p=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),si(this,df)[df]())}}),si(this,ps)[ps].start(500),this.recordingLengthTimer=setInterval(()=>{let _=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:_+1})},1e3),this.setPluginState({isRecording:!0})}}),Object.defineProperty(this,df,{writable:!0,value:()=>new Promise(p=>{si(this,ps)[ps].addEventListener("stop",()=>{p()}),si(this,ps)[ps].stop(),clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0})}).then(()=>(this.setPluginState({isRecording:!1}),si(this,B_)[B_]())).then(p=>{try{si(this,fl)[fl]=p,this.setPluginState({recordedAudio:URL.createObjectURL(p.data)})}catch(_){_.isRestriction||this.uppy.log(_)}}).then(()=>{si(this,fs)[fs]=null,si(this,ps)[ps]=null},p=>{throw si(this,fs)[fs]=null,si(this,ps)[ps]=null,p})}),Object.defineProperty(this,F_,{writable:!0,value:()=>{this.setPluginState({recordedAudio:null}),si(this,fl)[fl]=null}}),Object.defineProperty(this,I_,{writable:!0,value:()=>{try{si(this,fl)[fl]&&this.uppy.addFile(si(this,fl)[fl])}catch(p){p.isRestriction||this.uppy.log(p,"error")}}}),Object.defineProperty(this,pl,{writable:!0,value:async()=>{si(this,Js)[Js]&&si(this,Js)[Js].getAudioTracks().forEach(p=>p.stop()),si(this,ps)[ps]&&await new Promise(p=>{si(this,ps)[ps].addEventListener("stop",p,{once:!0}),si(this,ps)[ps].stop(),clearInterval(this.recordingLengthTimer)}),si(this,fs)[fs]=null,si(this,ps)[ps]=null,si(this,dl)[dl]=!1,si(this,Js)[Js]=null,this.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0})}}),Object.defineProperty(this,N_,{writable:!0,value:p=>{si(this,pl)[pl](),si(this,jc)[jc]({deviceId:p})}}),Object.defineProperty(this,qc,{writable:!0,value:()=>{si(this,en)[en].enumerateDevices().then(p=>{this.setPluginState({audioSources:p.filter(_=>_.kind==="audioinput")})})}}),si(this,en)[en]=navigator.mediaDevices,si(this,uf)[uf]=si(this,en)[en]!=null,this.id=this.opts.id||"Audio",this.type="acquirer",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},v("g",{fill:"none","fill-rule":"evenodd"},v("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),v("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"}))),this.defaultLocale=c7,this.opts={...o},this.i18nInit(),this.title=this.i18n("pluginNameAudio"),this.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null})}render(){si(this,dl)[dl]||si(this,jc)[jc]();let r=this.getPluginState();return!r.audioReady||!r.hasAudio?v(l7,{icon:this.icon,i18n:this.i18n,hasAudio:r.hasAudio}):v(dO,Ug({},r,{audioActive:si(this,dl)[dl],onChangeSource:si(this,N_)[N_],onStartRecording:si(this,R_)[R_],onStopRecording:si(this,df)[df],onDiscardRecordedAudio:si(this,F_)[F_],onSubmit:si(this,I_)[I_],onStop:si(this,pl)[pl],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:YE(),recording:r.isRecording,stream:si(this,Js)[Js]}))}install(){this.setPluginState({audioReady:!1,recordingLengthSeconds:0});let{target:r}=this.opts;r&&this.mount(r,this),si(this,en)[en]&&(si(this,qc)[qc](),si(this,en)[en].ondevicechange=()=>{if(si(this,qc)[qc](),si(this,Js)[Js]){let o=!0,{audioSources:c,currentDeviceId:p}=this.getPluginState();c.forEach(_=>{p===_.deviceId&&(o=!1)}),o&&(si(this,pl)[pl](),si(this,jc)[jc]())}})}uninstall(){si(this,Js)[Js]&&si(this,pl)[pl](),this.unmount()}};a(z_,"Audio");function fO(){return si(this,en)[en]?si(this,en)[en].enumerateDevices().then(r=>r.some(o=>o.kind==="audioinput")):Promise.resolve(!1)}a(fO,"_hasAudioCheck2");function pO(){let r=si(this,fs)[fs].find(M=>{var F;return((F=M.type)==null?void 0:F.length)>0}).type,o=Wc(r);if(!o)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`audio-${Date.now()}.${o}`,p=new Blob(si(this,fs)[fs],{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}a(pO,"_getAudio2"),z_.VERSION=u7.version;var d7={strings:{pluginNameBox:"Box"}},f7={version:"2.0.1"},Hg=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"Box",_s.initPlugin(this,o),this.title=this.opts.title||"Box",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),v("g",{fill:"#fff",fillRule:"nonzero"},v("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),v("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"})))),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"box",pluginId:this.id}),this.defaultLocale=d7,this.i18nInit(),this.title=this.i18n("pluginNameBox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new eo(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return this.view.getFolder()}render(r){return this.view.render(r)}};a(Hg,"Box"),Hg.VERSION=f7.version;var p7={strings:{pluginNameDropbox:"Dropbox"}},m7={version:"3.0.1"},Wg=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"Dropbox",_s.initPlugin(this,o),this.title=this.opts.title||"Dropbox",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),v("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"dropbox",pluginId:this.id}),this.defaultLocale=p7,this.i18nInit(),this.title=this.i18n("pluginNameDropbox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new eo(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};a(Wg,"Dropbox"),Wg.VERSION=m7.version;var g7={strings:{pluginNameFacebook:"Facebook"}},y7={version:"3.0.1"},jg=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"Facebook",_s.initPlugin(this,o),this.title=this.opts.title||"Facebook",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),v("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"facebook",pluginId:this.id}),this.defaultLocale=g7,this.i18nInit(),this.title=this.i18n("pluginNameFacebook"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new eo(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){let o={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(o.viewType="grid",o.showFilter=!1,o.showTitles=!1),this.view.render(r,o)}};a(jg,"Facebook"),jg.VERSION=y7.version;var mO=class extends eo{toggleCheckbox(r,o){r.stopPropagation(),r.preventDefault(),o.custom.isSharedDrive||super.toggleCheckbox(r,o)}};a(mO,"DriveProviderViews");var v7={strings:{pluginNameGoogleDrive:"Google Drive"}},b7={version:"3.0.1"},qg=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"GoogleDrive",this.title=this.opts.title||"Google Drive",_s.initPlugin(this,o),this.title=this.opts.title||"Google Drive",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),v("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"}))),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"drive",pluginId:this.id}),this.defaultLocale=v7,this.i18nInit(),this.title=this.i18n("pluginNameGoogleDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new mO(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}render(r){return this.view.render(r)}};a(qg,"GoogleDrive"),qg.VERSION=b7.version;var _7={strings:{pluginNameInstagram:"Instagram"}},w7={version:"3.0.1"},$g=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"Instagram",_s.initPlugin(this,o),this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),v("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"}))),this.defaultLocale=_7,this.i18nInit(),this.title=this.i18n("pluginNameInstagram"),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"instagram",pluginId:this.id}),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new eo(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}render(r){return this.view.render(r)}};a($g,"Instagram"),$g.VERSION=w7.version;var x7={strings:{pluginNameOneDrive:"OneDrive"}},k7={version:"3.0.1"},Vg=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"OneDrive",_s.initPlugin(this,o),this.title=this.opts.title||"OneDrive",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),v("g",{fill:"#FFF",fillRule:"nonzero"},v("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),v("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"})))),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"onedrive",pluginId:this.id}),this.defaultLocale=x7,this.i18nInit(),this.title=this.i18n("pluginNameOneDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new eo(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};a(Vg,"OneDrive"),Vg.VERSION=k7.version;var S7={version:"3.0.1"},Yg=class extends Tt{constructor(r,o){if(super(r,o),this.id=this.opts.id||"Unsplash",this.title=this.opts.title||"Unsplash",_s.initPlugin(this,o,{}),this.icon=()=>v("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},v("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),v("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"})),!this.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.hostname=this.opts.companionUrl,this.provider=new S0(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"unsplash",pluginId:this.id})}install(){this.view=new cg(this,{provider:this.provider,viewType:"unsplash"});let{target:r}=this.opts;r&&this.mount(r,this)}onFirstRender(){}render(r){return this.view.render(r)}uninstall(){this.unmount()}};a(Yg,"Unsplash"),Yg.VERSION=S7.version;function Gg(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Gg,"_classPrivateFieldLooseBase");var T7=0;function U_(r){return"__private_"+T7+++"_"+r}a(U_,"_classPrivateFieldLooseKey");var H_=U_("handleKeyPress"),ff=U_("handleSubmit"),gO=class extends ae{constructor(){super(...arguments),Object.defineProperty(this,H_,{writable:!0,value:r=>{r.keyCode===13&&Gg(this,ff)[ff]()}}),Object.defineProperty(this,ff,{writable:!0,value:()=>{let{addFile:r}=this.props,o=this.input.value.trim();r(o)}})}componentDidMount(){this.input.value=""}render(){let{i18n:r}=this.props;return v("div",{className:"uppy-Url"},v("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":r("enterUrlToImport"),placeholder:r("enterUrlToImport"),onKeyUp:Gg(this,H_)[H_],ref:o=>{this.input=o},"data-uppy-super-focusable":!0}),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:Gg(this,ff)[ff]},r("import")))}};a(gO,"UrlUI");var C7=gO;function W_(r,o,c){let p=so(r.items),_;switch(o){case"paste":{if(p.some(M=>M.kind==="file"))return;_=p.filter(M=>M.kind==="string"&&M.type==="text/plain");break}case"drop":{_=p.filter(M=>M.kind==="string"&&M.type==="text/uri-list");break}default:throw new Error(`isDropOrPaste must be either 'drop' or 'paste', but it's ${o}`)}_.forEach(M=>{M.getAsString(F=>c(F))})}a(W_,"forEachDroppedOrPastedUrl");var E7={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure its correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}},O7={version:"3.1.0"};function yO(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),v("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}a(yO,"UrlIcon");function vO(r){return/^[a-z0-9]+:\/\//.test(r)?r:"http://"+r}a(vO,"addProtocolToURL");function bO(r){return so(r.dataTransfer.items).filter(o=>o.kind==="string"&&o.type==="text/uri-list").length>0}a(bO,"canHandleRootDrop");function _O(r){if(!r)return!1;let o=r.match(/^([a-z0-9]+):\/\//)[1];return!(o!=="http"&&o!=="https")}a(_O,"checkIfCorrectURL");function wO(r){let{pathname:o}=new URL(r);return o.substring(o.lastIndexOf("/")+1)}a(wO,"getFileNameFromUrl");var pf=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"Url",this.title=this.opts.title||"Link",this.type="acquirer",this.icon=()=>v(yO,null),this.defaultLocale=E7;let c={};if(this.opts={...c,...o},this.i18nInit(),this.hostname=this.opts.companionUrl,!this.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.getMeta=this.getMeta.bind(this),this.addFile=this.addFile.bind(this),this.handleRootDrop=this.handleRootDrop.bind(this),this.handleRootPaste=this.handleRootPaste.bind(this),this.client=new da(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule})}getMeta(r){return this.client.post("url/meta",{url:r}).then(o=>{if(o.error)throw this.uppy.log("[URL] Error:"),this.uppy.log(o.error),new Error("Failed to fetch the file");return o})}async addFile(r,o){o===void 0&&(o=void 0);let c=vO(r);if(!_O(c)){this.uppy.log(`[URL] Incorrect URL entered: ${c}`),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);return}try{let p=await this.getMeta(c),_={meta:o,source:this.id,name:wO(c),type:p.type,data:{size:p.size},isRemote:!0,body:{url:c},remote:{companionUrl:this.opts.companionUrl,url:`${this.hostname}/url/get`,body:{fileId:c,url:c},providerOptions:this.client.opts}};this.uppy.log("[Url] Adding remote file");try{return this.uppy.addFile(_)}catch(M){return M.isRestriction||this.uppy.log(M),M}}catch(p){return this.uppy.log(p),this.uppy.info({message:this.i18n("failedToFetch"),details:p},"error",4e3),p}}handleRootDrop(r){W_(r.dataTransfer,"drop",o=>{this.uppy.log(`[URL] Adding file from dropped url: ${o}`),this.addFile(o)})}handleRootPaste(r){W_(r.clipboardData,"paste",o=>{this.uppy.log(`[URL] Adding file from pasted url: ${o}`),this.addFile(o)})}render(){return v(C7,{i18n:this.i18n,addFile:this.addFile})}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(pf,"Url"),pf.VERSION=O7.version,pf.prototype.canHandleRootDrop=bO;var M7={strings:{pluginNameZoom:"Zoom"}},A7={version:"2.0.1"},Xg=class extends Tt{constructor(r,o){super(r,o),this.id=this.opts.id||"Zoom",_s.initPlugin(this,o),this.title=this.opts.title||"Zoom",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),v("g",{fill:"none",fillRule:"evenodd"},v("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),v("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}}))),this.provider=new _s(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"zoom",pluginId:this.id}),this.defaultLocale=M7,this.i18nInit(),this.title=this.i18n("pluginNameZoom"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new eo(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};a(Xg,"Zoom"),Xg.VERSION=A7.version;function Kg(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Kg,"_classPrivateFieldLooseBase");var P7=0;function xO(r){return"__private_"+P7+++"_"+r}a(xO,"_classPrivateFieldLooseKey");var D7={version:"1.0.2"},j_={__proto__:null,Box:Hg,Dropbox:Wg,Facebook:jg,GoogleDrive:qg,Instagram:$g,OneDrive:Vg,Unsplash:Yg,Url:pf,Zoom:Xg},$c=xO("installedPlugins"),q_=class extends Je{constructor(r,o){super(r,o),Object.defineProperty(this,$c,{writable:!0,value:new Set}),this.id=this.opts.id||"RemoteSources",this.type="acquirer";let c={sources:Object.keys(j_),target:Fg};if(this.opts={...c,...o},this.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl")}setOptions(r){this.uninstall(),super.setOptions(r),this.install()}install(){this.opts.sources.forEach(r=>{let o={...this.opts,sources:void 0},c=j_[r];if(c==null){let p=Object.keys(j_),_=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error(`Invalid plugin: "${r}" is not one of: ${_.format(p)}.`)}this.uppy.use(c,o),Kg(this,$c)[$c].add(this.uppy.getPlugin(r))})}uninstall(){for(let r of Kg(this,$c)[$c])this.uppy.removePlugin(r);Kg(this,$c)[$c].clear()}};a(q_,"RemoteSources"),q_.VERSION=D7.version;var L7=a(()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),v("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),v("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"}))),"default");function kO(r){let{recording:o,onStartRecording:c,onStopRecording:p,i18n:_}=r;return o?v("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:_("stopCapturing"),"aria-label":_("stopCapturing"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("rect",{x:"15",y:"15",width:"70",height:"70"}))):v("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:_("startCapturing"),"aria-label":_("startCapturing"),onClick:c,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("circle",{cx:"50",cy:"50",r:"40"})))}a(kO,"RecordButton");function SO(r){let{recording:o,recordedVideo:c,onSubmit:p,i18n:_}=r;return c&&!o?v("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:_("submitRecordedFile"),"aria-label":_("submitRecordedFile"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}a(SO,"SubmitButton");var TO=class extends ae{constructor(r){super(r),this.state={elapsedTime:0},this.wrapperStyle={width:"100%",height:"100%",display:"flex"},this.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},this.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},this.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},this.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"}}startTimer(){this.timerTick(),this.timerRunning=!0}resetTimer(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}timerTick(){this.timer=setTimeout(()=>{this.setState(r=>({elapsedTime:r.elapsedTime+1})),this.timerTick()},1e3)}fmtMSS(r){return(r-(r%=60))/60+(r>9?":":":0")+r}render(){let{recording:r,i18n:o}={...this.props},{elapsedTime:c}=this.state,p=this.fmtMSS(c);return r&&!this.timerRunning&&this.startTimer(),!r&&this.timerRunning&&this.resetTimer(),r?v("div",{style:this.wrapperStyle},v("div",{style:this.overlayStyle}),v("div",{style:this.infoContainerStyle},v("div",{style:this.infotextStyle},o("recording")),v("div",{style:this.timeStyle},p))):null}};a(TO,"StopWatch");var R7=TO,F7=a(r=>{let{streamActive:o,i18n:c}=r;return o?v("div",{title:c("streamActive"),"aria-label":c("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},v("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):v("div",{title:c("streamPassive"),"aria-label":c("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},v("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},"default");function Zg(){return Zg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Zg.apply(this,arguments)}a(Zg,"_extends");var CO=class extends ae{componentWillUnmount(){let{onStop:r}=this.props;r()}render(){let{recording:r,stream:o,recordedVideo:c}=this.props,p={playsinline:!0};return(r||!c&&!r)&&(p.muted=!0,p.autoplay=!0,p.srcObject=o),c&&!r&&(p.muted=!1,p.controls=!0,p.src=c,this.videoElement&&(this.videoElement.srcObject=void 0)),v("div",{className:"uppy uppy-ScreenCapture-container"},v("div",{className:"uppy-ScreenCapture-videoContainer"},v(F7,this.props),v("video",Zg({ref:_=>{this.videoElement=_},className:"uppy-ScreenCapture-video"},p)),v(R7,this.props)),v("div",{className:"uppy-ScreenCapture-buttonContainer"},v(kO,this.props),v(SO,this.props)))}};a(CO,"RecorderScreen");var I7=CO,B7={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function Qg(){return Qg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Qg.apply(this,arguments)}a(Qg,"_extends");var N7={version:"3.0.1"};function EO(){var r;return window.MediaRecorder&&((r=navigator.mediaDevices)==null?void 0:r.getDisplayMedia)}a(EO,"isScreenRecordingSupported");function OO(){return window.MediaRecorder&&navigator.mediaDevices}a(OO,"getMediaDevices");var $_=class extends Tt{constructor(r,o){super(r,o),this.mediaDevices=OO(),this.protocol=location.protocol==="https:"?"https":"http",this.id=this.opts.id||"ScreenCapture",this.title=this.opts.title||"Screencast",this.type="acquirer",this.icon=L7,this.defaultLocale=B7;let c={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};this.opts={...c,...o},this.i18nInit(),this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.submit=this.submit.bind(this),this.streamInterrupted=this.streamInactivated.bind(this),this.captureActive=!1,this.capturedMediaFile=null}install(){if(!EO())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.videoStream&&this.stop(),this.unmount()}start(){return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(r=>{r===!1&&this.parent&&this.parent.hideAllPanels&&(this.parent.hideAllPanels(),this.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))}selectVideoStreamSource(){return this.videoStream?new Promise(r=>r(this.videoStream)):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(r=>(this.videoStream=r,this.videoStream.addEventListener("inactive",()=>{this.streamInactivated()}),this.setPluginState({streamActive:!0}),r)).catch(r=>(this.setPluginState({screenRecError:r}),this.userDenied=!0,setTimeout(()=>{this.userDenied=!1},1e3),!1))}selectAudioStreamSource(){return this.audioStream?new Promise(r=>r(this.audioStream)):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(r=>(this.audioStream=r,this.setPluginState({audioStreamActive:!0}),r)).catch(r=>(r.name==="NotAllowedError"&&this.uppy.info(this.i18n("micDisabled"),"error",5e3),!1))}startRecording(){let r={};this.capturedMediaFile=null,this.recordingChunks=[];let{preferredVideoMimeType:o}=this.opts;this.selectVideoStreamSource().then(c=>{o&&MediaRecorder.isTypeSupported(o)&&Wc(o)&&(r.mimeType=o);let p=[c.getVideoTracks()[0]];this.audioStream&&p.push(this.audioStream.getAudioTracks()[0]),this.outputStream=new MediaStream(p),this.recorder=new MediaRecorder(this.outputStream,r),this.recorder.addEventListener("dataavailable",_=>{this.recordingChunks.push(_.data)}),this.recorder.start(),this.setPluginState({recording:!0})}).catch(c=>{this.uppy.log(c,"error")})}streamInactivated(){let{recordedVideo:r,recording:o}={...this.getPluginState()};!r&&!o?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():o&&(this.uppy.log("Capture stream inactive  stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}stopRecording(){return new Promise(r=>{this.recorder.addEventListener("stop",()=>{r()}),this.recorder.stop()}).then(()=>(this.setPluginState({recording:!1}),this.getVideo())).then(r=>{this.capturedMediaFile=r,this.setPluginState({recordedVideo:URL.createObjectURL(r.data)})}).then(()=>{this.recordingChunks=null,this.recorder=null},r=>{throw this.recordingChunks=null,this.recorder=null,r})}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(r){r.isRestriction||this.uppy.log(r,"error")}}stop(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(r=>{r.stop()}),this.videoStream.getAudioTracks().forEach(r=>{r.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(r=>{r.stop()}),this.audioStream.getVideoTracks().forEach(r=>{r.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(r=>{r.stop()}),this.outputStream.getVideoTracks().forEach(r=>{r.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}getVideo(){let r=this.recordingChunks[0].type,o=Wc(r);if(!o)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`screencap-${Date.now()}.${o}`,p=new Blob(this.recordingChunks,{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}render(){let r=this.getPluginState();return!r.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),v(I7,Qg({},r,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}};a($_,"ScreenCapture"),$_.VERSION=N7.version;var z7=y(S(),1);function MO(r,o,c){return new Promise(p=>{r.toBlob(p,o,c)})}a(MO,"canvasToBlob");function AO(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}a(AO,"supportsMediaRecorder");var PO=a(()=>v("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},v("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"})),"default"),U7=a(r=>{let{onSnapshot:o,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:c("takePicture"),"aria-label":c("takePicture"),onClick:o,"data-uppy-super-focusable":!0},PO())},"default");function DO(r){let{recording:o,onStartRecording:c,onStopRecording:p,i18n:_}=r;return o?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:_("stopRecording"),"aria-label":_("stopRecording"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("rect",{x:"15",y:"15",width:"70",height:"70"}))):v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:_("startRecording"),"aria-label":_("startRecording"),onClick:c,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("circle",{cx:"50",cy:"50",r:"40"})))}a(DO,"RecordButton");function LO(r){return`${Math.floor(r/60)}:${String(r%60).padStart(2,0)}`}a(LO,"formatSeconds");function RO(r){let{recordingLengthSeconds:o,i18n:c}=r,p=LO(o);return v("span",{"aria-label":c("recordingLength",{recording_length:p})},p)}a(RO,"RecordingLength");var H7=a(r=>{let{currentDeviceId:o,videoSources:c,onChangeVideoSource:p}=r;return v("div",{className:"uppy-Webcam-videoSource"},v("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:_=>{p(_.target.value)}},c.map(_=>v("option",{key:_.deviceId,value:_.deviceId,selected:_.deviceId===o},_.label))))},"default");function FO(r){let{onSubmit:o,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:c("submitRecordedFile"),"aria-label":c("submitRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},v("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}a(FO,"SubmitButton");var W7=FO;function IO(r){let{onDiscard:o,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:c("discardRecordedFile"),"aria-label":c("discardRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},v("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("g",{fill:"#FFF",fillRule:"evenodd"},v("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),v("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}a(IO,"DiscardButton");var j7=IO;function Jg(){return Jg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Jg.apply(this,arguments)}a(Jg,"_extends");function mf(r,o){return r.includes(o)}a(mf,"isModeAvailable");var BO=class extends ae{componentDidMount(){let{onFocus:r}=this.props;r()}componentWillUnmount(){let{onStop:r}=this.props;r()}render(){let{src:r,recordedVideo:o,recording:c,modes:p,supportsRecording:_,videoSources:M,showVideoSourceDropdown:F,showRecordingLength:N,onSubmit:Y,i18n:re,mirror:X,onSnapshot:oe,onStartRecording:fe,onStopRecording:Te,onDiscardRecordedVideo:Ye,recordingLengthSeconds:Nt}=this.props,Et=!!o,Qt=!Et&&_&&(mf(p,"video-only")||mf(p,"audio-only")||mf(p,"video-audio")),Fi=!Et&&mf(p,"picture"),ai=_&&N&&!Et,pt=F&&M&&M.length>1,wt={playsinline:!0};return o?(wt.muted=!1,wt.controls=!0,wt.src=o,this.videoElement&&(this.videoElement.srcObject=void 0)):(wt.muted=!0,wt.autoplay=!0,wt.srcObject=r),v("div",{className:"uppy uppy-Webcam-container"},v("div",{className:"uppy-Webcam-videoContainer"},v("video",Jg({ref:yt=>this.videoElement=yt,className:`uppy-Webcam-video  ${X?"uppy-Webcam-video--mirrored":""}`},wt))),v("div",{className:"uppy-Webcam-footer"},v("div",{className:"uppy-Webcam-videoSourceContainer"},pt?H7(this.props):null),v("div",{className:"uppy-Webcam-buttonContainer"},Fi&&v(U7,{onSnapshot:oe,i18n:re}),Qt&&v(DO,{recording:c,onStartRecording:fe,onStopRecording:Te,i18n:re}),Et&&v(W7,{onSubmit:Y,i18n:re}),Et&&v(j7,{onDiscard:Ye,i18n:re})),v("div",{className:"uppy-Webcam-recordingLength"},ai&&v(RO,{recordingLengthSeconds:Nt,i18n:re}))))}};a(BO,"CameraScreen");var q7=BO,$7=a(r=>{let{icon:o,i18n:c,hasCamera:p}=r;return v("div",{className:"uppy-Webcam-permissons"},v("div",{className:"uppy-Webcam-permissonsIcon"},o()),v("h1",{className:"uppy-Webcam-title"},c(p?"allowAccessTitle":"noCameraTitle")),v("p",null,c(p?"allowAccessDescription":"noCameraDescription")))},"default"),V7={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function ey(){return ey=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},ey.apply(this,arguments)}a(ey,"_extends");function Cu(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Cu,"_classPrivateFieldLooseBase");var Y7=0;function NO(r){return"__private_"+Y7+++"_"+r}a(NO,"_classPrivateFieldLooseKey");var G7={version:"3.2.1"};function V_(r){return r[0]==="."?Si[r.slice(1)]:r}a(V_,"toMimeType");function zO(r){return/^video\/[^*]+$/.test(r)}a(zO,"isVideoMimeType");function UO(r){return/^image\/[^*]+$/.test(r)}a(UO,"isImageMimeType");function HO(){return navigator.mediaDevices}a(HO,"getMediaDevices");function ty(r,o){return r.includes(o)}a(ty,"isModeAvailable");var no=NO("enableMirror"),Y_=class extends Tt{constructor(r,o){super(r,o),Object.defineProperty(this,no,{writable:!0,value:void 0}),this.mediaDevices=HO(),this.supportsUserMedia=!!this.mediaDevices,this.protocol=location.protocol.match(/https/i)?"https":"http",this.id=this.opts.id||"Webcam",this.type="acquirer",this.capturedMediaFile=null,this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),v("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),this.defaultLocale=V7;let c={onBeforeSnapshot:()=>Promise.resolve(),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,z7.default)({tablet:!0})};this.opts={...c,...o},this.i18nInit(),this.title=this.i18n("pluginNameCamera"),Cu(this,no)[no]=this.opts.mirror,this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.takeSnapshot=this.takeSnapshot.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.discardRecordedVideo=this.discardRecordedVideo.bind(this),this.submit=this.submit.bind(this),this.oneTwoThreeSmile=this.oneTwoThreeSmile.bind(this),this.focus=this.focus.bind(this),this.changeVideoSource=this.changeVideoSource.bind(this),this.webcamActive=!1,this.opts.countdown&&(this.opts.onBeforeSnapshot=this.oneTwoThreeSmile),this.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null})}setOptions(r){super.setOptions({...r,videoConstraints:{...this.opts.videoConstraints,...r==null?void 0:r.videoConstraints}})}hasCameraCheck(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(r=>r.some(o=>o.kind==="videoinput")):Promise.resolve(!1)}isAudioOnly(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}getConstraints(r){r===void 0&&(r=null);let o=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,c=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),p={...this.opts.videoConstraints||{facingMode:this.opts.facingMode},...r?{deviceId:r,facingMode:null}:{}};return{audio:o,video:c?p:!1}}start(r){if(r===void 0&&(r=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(Cu(this,no)[no]=!0);let o=this.getConstraints(r&&r.deviceId?r.deviceId:null);this.hasCameraCheck().then(c=>(this.setPluginState({hasCamera:c}),this.mediaDevices.getUserMedia(o).then(p=>{this.stream=p;let _=null,M=this.isAudioOnly()?p.getAudioTracks():p.getVideoTracks();!r||!r.deviceId?_=M[0].getSettings().deviceId:M.forEach(F=>{F.getSettings().deviceId===r.deviceId&&(_=F.getSettings().deviceId)}),this.updateVideoSources(),this.setPluginState({currentDeviceId:_,cameraReady:!0})}).catch(p=>{this.setPluginState({cameraReady:!1,cameraError:p}),this.uppy.info(p.message,"error")})))}getMediaRecorderOptions(){let r={};if(MediaRecorder.isTypeSupported){let{restrictions:o}=this.uppy.opts,c=[];this.opts.preferredVideoMimeType?c=[this.opts.preferredVideoMimeType]:o.allowedFileTypes&&(c=o.allowedFileTypes.map(V_).filter(zO));let p=a(M=>MediaRecorder.isTypeSupported(M)&&Wc(M),"filterSupportedTypes"),_=c.filter(p);_.length>0&&(r.mimeType=_[0])}return r}startRecording(){this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];let r=!1;this.recorder.addEventListener("dataavailable",o=>{this.recordingChunks.push(o.data);let{restrictions:c}=this.uppy.opts;if(this.recordingChunks.length>1&&c.maxFileSize!=null&&!r){let p=this.recordingChunks.reduce((F,N)=>F+N.size,0),_=(p-this.recordingChunks[0].size)/(this.recordingChunks.length-1)*3,M=Math.max(0,c.maxFileSize-_);p>M&&(r=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),this.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(()=>{let o=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:o+1})},1e3)),this.setPluginState({isRecording:!0})}stopRecording(){return new Promise(r=>{this.recorder.addEventListener("stop",()=>{r()}),this.recorder.stop(),this.opts.showRecordingLength&&(clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0}))}).then(()=>(this.setPluginState({isRecording:!1}),this.getVideo())).then(r=>{try{this.capturedMediaFile=r,this.setPluginState({recordedVideo:URL.createObjectURL(r.data)}),Cu(this,no)[no]=!1}catch(o){o.isRestriction||this.uppy.log(o)}}).then(()=>{this.recordingChunks=null,this.recorder=null},r=>{throw this.recordingChunks=null,this.recorder=null,r})}discardRecordedVideo(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(Cu(this,no)[no]=!0),this.capturedMediaFile=null}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(r){r.isRestriction||this.uppy.log(r,"error")}}async stop(){if(this.stream){let r=this.stream.getAudioTracks(),o=this.stream.getVideoTracks();r.concat(o).forEach(c=>c.stop())}this.recorder&&await new Promise(r=>{this.recorder.addEventListener("stop",r,{once:!0}),this.recorder.stop(),this.opts.showRecordingLength&&clearInterval(this.recordingLengthTimer)}),this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0})}getVideoElement(){return this.el.querySelector(".uppy-Webcam-video")}oneTwoThreeSmile(){return new Promise((r,o)=>{let c=this.opts.countdown,p=setInterval(()=>{if(!this.webcamActive)return clearInterval(p),this.captureInProgress=!1,o(new Error("Webcam is not active"));c>0?(this.uppy.info(`${c}...`,"warning",800),c--):(clearInterval(p),this.uppy.info(this.i18n("smile"),"success",1500),setTimeout(()=>r(),1500))},1e3)})}takeSnapshot(){this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(r=>{let o=typeof r=="object"?r.message:r;return this.uppy.info(o,"error",5e3),Promise.reject(new Error(`onBeforeSnapshot: ${o}`))}).then(()=>this.getImage()).then(r=>{this.captureInProgress=!1;try{this.uppy.addFile(r)}catch(o){o.isRestriction||this.uppy.log(o)}},r=>{throw this.captureInProgress=!1,r}))}getImage(){let r=this.getVideoElement();if(!r)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));let o=r.videoWidth,c=r.videoHeight,p=document.createElement("canvas");p.width=o,p.height=c,p.getContext("2d").drawImage(r,0,0);let{restrictions:_}=this.uppy.opts,M=[];this.opts.preferredImageMimeType?M=[this.opts.preferredImageMimeType]:_.allowedFileTypes&&(M=_.allowedFileTypes.map(V_).filter(UO));let F=M[0]||"image/jpeg",N=Wc(F)||"jpg",Y=`cam-${Date.now()}.${N}`;return MO(p,F).then(re=>({source:this.id,name:Y,data:new Blob([re],{type:F}),type:F}))}getVideo(){let r=this.recordingChunks.find(M=>{var F;return((F=M.type)==null?void 0:F.length)>0}).type,o=Wc(r);if(!o)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`webcam-${Date.now()}.${o}`,p=new Blob(this.recordingChunks,{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}focus(){!this.opts.countdown||setTimeout(()=>{this.uppy.info(this.i18n("smile"),"success",1500)},1e3)}changeVideoSource(r){this.stop(),this.start({deviceId:r})}updateVideoSources(){this.mediaDevices.enumerateDevices().then(r=>{this.setPluginState({videoSources:r.filter(o=>o.kind==="videoinput")})})}render(){this.webcamActive||this.start();let r=this.getPluginState();return!r.cameraReady||!r.hasCamera?v($7,{icon:PO,i18n:this.i18n,hasCamera:r.hasCamera}):v(q7,ey({},r,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:AO(),recording:r.isRecording,mirror:Cu(this,no)[no],src:this.stream}))}install(){let{mobileNativeCamera:r,modes:o,facingMode:c,videoConstraints:p}=this.opts,{target:_}=this.opts;if(r&&_){var M;(M=this.getTargetPlugin(_))==null||M.setOptions({showNativeVideoCameraButton:ty(o,"video-only")||ty(o,"video-audio"),showNativePhotoCameraButton:ty(o,"picture"),nativeCameraFacingMode:(p==null?void 0:p.facingMode)||c});return}this.setPluginState({cameraReady:!1,recordingLengthSeconds:0}),_&&this.mount(_,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=()=>{if(this.updateVideoSources(),this.stream){let F=!0,{videoSources:N,currentDeviceId:Y}=this.getPluginState();N.forEach(re=>{Y===re.deviceId&&(F=!1)}),F&&(this.stop(),this.start())}})}uninstall(){this.stop(),this.unmount()}onUnmount(){this.stop()}};a(Y_,"Webcam"),Y_.VERSION=G7.version;function Bi(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Bi,"_classPrivateFieldLooseBase");var X7=0;function Dn(r){return"__private_"+X7+++"_"+r}a(Dn,"_classPrivateFieldLooseKey");function WO(r){return new Error("Cancelled",{cause:r})}a(WO,"createCancelError");function jO(r){if(r!=null){let o=a(()=>this.abort(r.reason),"abortPromise");r.addEventListener("abort",o,{once:!0});let c=a(()=>{r.removeEventListener("abort",o)},"removeAbortListener");this.then(c,c)}return this}a(jO,"abortOn");var fa=Dn("activeRequests"),Ln=Dn("queuedHandlers"),pa=Dn("paused"),Vc=Dn("pauseTimer"),Rn=Dn("downLimit"),Yc=Dn("upperLimit"),ml=Dn("rateLimitingTimer"),gf=Dn("call"),gl=Dn("queueNext"),G_=Dn("next"),X_=Dn("queue"),K_=Dn("dequeue"),Z_=Dn("resume"),Gc=Dn("increaseLimit"),Xc=class{constructor(r){Object.defineProperty(this,K_,{value:GO}),Object.defineProperty(this,X_,{value:YO}),Object.defineProperty(this,G_,{value:VO}),Object.defineProperty(this,gl,{value:$O}),Object.defineProperty(this,gf,{value:qO}),Object.defineProperty(this,fa,{writable:!0,value:0}),Object.defineProperty(this,Ln,{writable:!0,value:[]}),Object.defineProperty(this,pa,{writable:!0,value:!1}),Object.defineProperty(this,Vc,{writable:!0,value:void 0}),Object.defineProperty(this,Rn,{writable:!0,value:1}),Object.defineProperty(this,Yc,{writable:!0,value:void 0}),Object.defineProperty(this,ml,{writable:!0,value:void 0}),Object.defineProperty(this,Z_,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,Gc,{writable:!0,value:()=>{if(Bi(this,pa)[pa]){Bi(this,ml)[ml]=setTimeout(Bi(this,Gc)[Gc],0);return}Bi(this,Rn)[Rn]=this.limit,this.limit=Math.ceil((Bi(this,Yc)[Yc]+Bi(this,Rn)[Rn])/2);for(let o=Bi(this,Rn)[Rn];o<=this.limit;o++)Bi(this,gl)[gl]();Bi(this,Yc)[Yc]-Bi(this,Rn)[Rn]>3?Bi(this,ml)[ml]=setTimeout(Bi(this,Gc)[Gc],2e3):Bi(this,Rn)[Rn]=Math.floor(Bi(this,Rn)[Rn]/2)}}),typeof r!="number"||r===0?this.limit=1/0:this.limit=r}run(r,o){return!Bi(this,pa)[pa]&&Bi(this,fa)[fa]<this.limit?Bi(this,gf)[gf](r):Bi(this,X_)[X_](r,o)}wrapPromiseFunction(r,o){var c=this;return function(){for(var p=arguments.length,_=new Array(p),M=0;M<p;M++)_[M]=arguments[M];let F,N=new Promise((Y,re)=>{F=c.run(()=>{let X,oe;try{oe=Promise.resolve(r(..._))}catch(fe){oe=Promise.reject(fe)}return oe.then(fe=>{X?re(X):(F.done(),Y(fe))},fe=>{X?re(X):(F.done(),re(fe))}),fe=>{X=WO(fe)}},o)});return N.abort=Y=>{F.abort(Y)},N.abortOn=jO,N}}resume(){Bi(this,pa)[pa]=!1,clearTimeout(Bi(this,Vc)[Vc]);for(let r=0;r<this.limit;r++)Bi(this,gl)[gl]()}pause(r){r===void 0&&(r=null),Bi(this,pa)[pa]=!0,clearTimeout(Bi(this,Vc)[Vc]),r!=null&&(Bi(this,Vc)[Vc]=setTimeout(Bi(this,Z_)[Z_],r))}rateLimit(r){clearTimeout(Bi(this,ml)[ml]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(Bi(this,Yc)[Yc]=this.limit-1,this.limit=Bi(this,Rn)[Rn],Bi(this,ml)[ml]=setTimeout(Bi(this,Gc)[Gc],r))}get isPaused(){return Bi(this,pa)[pa]}};a(Xc,"RateLimitedQueue");function qO(r){Bi(this,fa)[fa]+=1;let o=!1,c;try{c=r()}catch(p){throw Bi(this,fa)[fa]-=1,p}return{abort:p=>{o||(o=!0,Bi(this,fa)[fa]-=1,c(p),Bi(this,gl)[gl]())},done:()=>{o||(o=!0,Bi(this,fa)[fa]-=1,Bi(this,gl)[gl]())}}}a(qO,"_call2");function $O(){queueMicrotask(()=>Bi(this,G_)[G_]())}a($O,"_queueNext2");function VO(){if(Bi(this,pa)[pa]||Bi(this,fa)[fa]>=this.limit||Bi(this,Ln)[Ln].length===0)return;let r=Bi(this,Ln)[Ln].shift(),o=Bi(this,gf)[gf](r.fn);r.abort=o.abort,r.done=o.done}a(VO,"_next2");function YO(r,o){o===void 0&&(o={});let c={fn:r,priority:o.priority||0,abort:()=>{Bi(this,K_)[K_](c)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},p=Bi(this,Ln)[Ln].findIndex(_=>c.priority>_.priority);return p===-1?Bi(this,Ln)[Ln].push(c):Bi(this,Ln)[Ln].splice(p,0,c),c}a(YO,"_queue2");function GO(r){let o=Bi(this,Ln)[Ln].indexOf(r);o!==-1&&Bi(this,Ln)[Ln].splice(o,1)}a(GO,"_dequeue2");var yf=Symbol("__queue"),K7=y(k(),1);function XO(r,o,c){let{progress:p,bytesUploaded:_,bytesTotal:M}=o;p&&(r.uppy.log(`Upload progress: ${p}`),r.uppy.emit("upload-progress",c,{uploader:r,bytesUploaded:_,bytesTotal:M}))}a(XO,"emitSocketProgress");var iy=(0,K7.default)(XO,300,{leading:!0,trailing:!0});function vf(r){let o=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(r)[1];return`${/^http:\/\//i.test(r)?"ws":"wss"}://${o}`}a(vf,"getSocketHost");function Eu(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Eu,"_classPrivateFieldLooseBase");var Z7=0;function Q_(r){return"__private_"+Z7+++"_"+r}a(Q_,"_classPrivateFieldLooseKey");var Kc=Q_("emitter"),bf=Q_("events"),yl=class{constructor(r){Object.defineProperty(this,Kc,{writable:!0,value:void 0}),Object.defineProperty(this,bf,{writable:!0,value:[]}),Eu(this,Kc)[Kc]=r}on(r,o){return Eu(this,bf)[bf].push([r,o]),Eu(this,Kc)[Kc].on(r,o)}remove(){for(let[r,o]of Eu(this,bf)[bf].splice(0))Eu(this,Kc)[Kc].off(r,o)}};a(yl,"EventTracker");function ma(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ma,"_classPrivateFieldLooseBase");var Q7=0;function _f(r){return"__private_"+Q7+++"_"+r}a(_f,"_classPrivateFieldLooseKey");var vl=_f("aliveTimer"),Zc=_f("isDone"),wf=_f("onTimedOut"),Qc=_f("timeout"),KO=class{constructor(r,o){Object.defineProperty(this,vl,{writable:!0,value:void 0}),Object.defineProperty(this,Zc,{writable:!0,value:!1}),Object.defineProperty(this,wf,{writable:!0,value:void 0}),Object.defineProperty(this,Qc,{writable:!0,value:void 0}),ma(this,Qc)[Qc]=r,ma(this,wf)[wf]=o}progress(){ma(this,Zc)[Zc]||ma(this,Qc)[Qc]>0&&(clearTimeout(ma(this,vl)[vl]),ma(this,vl)[vl]=setTimeout(ma(this,wf)[wf],ma(this,Qc)[Qc]))}done(){ma(this,Zc)[Zc]||(clearTimeout(ma(this,vl)[vl]),ma(this,vl)[vl]=null,ma(this,Zc)[Zc]=!0)}};a(KO,"ProgressTimeout");var J_=KO;function ZO(r){return r?r.readyState!==0&&r.readyState!==4||r.status===0:!1}a(ZO,"isNetworkError");var ry=ZO;function Fn(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Fn,"_classPrivateFieldLooseBase");var J7=0;function nc(r){return"__private_"+J7+++"_"+r}a(nc,"_classPrivateFieldLooseKey");function ew(r,o){if(ry(r))return new ui(o,r);let c=new Gn("Upload error",{cause:o});return c.request=r,c}a(ew,"buildResponseError");function QO(r){return r.data.slice(0,r.data.size,r.meta.type)}a(QO,"setTypeInBlob");function JO(r,o,c){(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(o)).forEach(p=>{r.append(p,o[p])})}a(JO,"addMetadata");function eM(r,o){let c=new FormData;JO(c,r.meta,o);let p=QO(r);return r.name?c.append(o.fieldName,p,r.meta.name):c.append(o.fieldName,p),c}a(eM,"createFormDataUpload");var eU=a(r=>r.data,"createBareUpload"),xf=nc("queueRequestSocketToken"),Jc=nc("getOptions"),eh=nc("addEventHandlerForFile"),th=nc("addEventHandlerIfFileStillExists"),tw=nc("uploadLocalFile"),iw=nc("requestSocketToken"),rw=nc("uploadRemoteFile"),tM=class{constructor(r,o){Object.defineProperty(this,rw,{value:aM}),Object.defineProperty(this,tw,{value:nM}),Object.defineProperty(this,th,{value:sM}),Object.defineProperty(this,eh,{value:rM}),Object.defineProperty(this,Jc,{value:iM}),Object.defineProperty(this,xf,{writable:!0,value:void 0}),Object.defineProperty(this,iw,{writable:!0,value:async c=>{let p=Fn(this,Jc)[Jc](c),_=c.remote.providerOptions.provider?_s:da,M=new _(this.uppy,c.remote.providerOptions),F=Array.isArray(p.allowedMetaFields)?p.allowedMetaFields:Object.keys(c.meta);return c.tus&&Object.assign(p,c.tus),(await M.post(c.remote.url,{...c.remote.body,protocol:"multipart",endpoint:p.endpoint,size:c.data.size,fieldname:p.fieldName,metadata:Object.fromEntries(F.map(N=>[N,c.meta[N]])),httpMethod:p.method,useFormData:p.formData,headers:p.headers})).token}}),this.uppy=r,this.opts={validateStatus(c){return c>=200&&c<300},...o},this.requests=o[yf],this.uploaderEvents=Object.create(null),this.i18n=o.i18n,Fn(this,xf)[xf]=this.requests.wrapPromiseFunction(Fn(this,iw)[iw],{priority:-1})}uploadFile(r,o,c){let p=this.uppy.getFile(r);if(p.error)throw new Error(p.error);return p.isRemote?Fn(this,rw)[rw](p,o,c):Fn(this,tw)[tw](p,o,c)}connectToServerSocket(r){return new Promise((o,c)=>{let p=Fn(this,Jc)[Jc](r),_=r.serverToken,M=vf(r.remote.companionUrl),F,N=a(()=>{F==null&&(F=new _u({target:`${M}/api/${_}`}),F.on("progress",X=>iy(this,X,r)),F.on("success",X=>{let oe=p.getResponseData(X.response.responseText,X.response),fe=oe[p.responseUrlFieldName],Te={status:X.response.status,body:oe,uploadURL:fe,bytesUploaded:X.bytesUploaded};return this.uppy.emit("upload-success",r,Te),Y.done(),F.close(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),o()}),F.on("error",X=>{let oe=X.response,fe=oe?p.getResponseError(oe.responseText,oe):new Gn(X.error.message,{cause:X.error});this.uppy.emit("upload-error",r,fe),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),c(fe)}))},"createSocket");this.uploaderEvents[r.id]=new yl(this.uppy);let Y=this.requests.run(()=>{if(r.isPaused){var X;(X=F)==null||X.send("pause",{})}else N();return()=>F.close()});Fn(this,eh)[eh]("file-removed",r.id,()=>{var X;(X=F)==null||X.send("cancel",{}),Y.abort(),o(`upload ${r.id} was removed`)}),Fn(this,th)[th]("cancel-all",r.id,function(X){let{reason:oe}=X===void 0?{}:X;if(oe==="user"){var fe;(fe=F)==null||fe.send("cancel",{}),Y.abort()}o(`upload ${r.id} was canceled`)});let re=a(()=>{F==null?Y.abort():(F.send("pause",{}),Y.done()),Y=this.requests.run(()=>(r.isPaused||(F==null?N():F.send("resume",{})),()=>F.close()))},"onRetryRequest");Fn(this,eh)[eh]("upload-retry",r.id,re),Fn(this,th)[th]("retry-all",r.id,re)}).catch(o=>(this.uppy.emit("upload-error",r,o),Promise.reject(o)))}};a(tM,"MiniXHRUpload");function iM(r){var o;let{uppy:c}=this,p=c.getState().xhrUpload;return{...this.opts,...p||{},...r.xhrUpload||{},headers:{...this.opts.headers,...p==null?void 0:p.headers,...(o=r.xhrUpload)==null?void 0:o.headers}}}a(iM,"_getOptions2");function rM(r,o,c){this.uploaderEvents[o].on(r,p=>{var _;let M=(_=p==null?void 0:p.id)!=null?_:p;o===M&&c()})}a(rM,"_addEventHandlerForFile2");function sM(r,o,c){var p=this;this.uploaderEvents[o].on(r,function(){p.uppy.getFile(o)&&c(...arguments)})}a(sM,"_addEventHandlerIfFileStillExists2");function nM(r,o,c){let p=Fn(this,Jc)[Jc](r);return this.uppy.log(`uploading ${o} of ${c}`),new Promise((_,M)=>{let F=p.formData?eM(r,p):eU(r,p),N=new XMLHttpRequest;this.uploaderEvents[r.id]=new yl(this.uppy);let Y=new J_(p.timeout,()=>{N.abort(),X.done();let oe=new Error(this.i18n("timedOut",{seconds:Math.ceil(p.timeout/1e3)}));this.uppy.emit("upload-error",r,oe),M(oe)}),re=ze();N.upload.addEventListener("loadstart",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${re} started`)}),N.upload.addEventListener("progress",oe=>{this.uppy.log(`[AwsS3/XHRUpload] ${re} progress: ${oe.loaded} / ${oe.total}`),Y.progress(),oe.lengthComputable&&this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:oe.loaded,bytesTotal:oe.total})}),N.addEventListener("load",oe=>{if(this.uppy.log(`[AwsS3/XHRUpload] ${re} finished`),Y.done(),X.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),p.validateStatus(oe.target.status,N.responseText,N)){let Nt=p.getResponseData(N.responseText,N),Et=Nt[p.responseUrlFieldName],Qt={status:oe.target.status,body:Nt,uploadURL:Et};return this.uppy.emit("upload-success",r,Qt),Et&&this.uppy.log(`Download ${r.name} from ${Et}`),_(r)}let fe=p.getResponseData(N.responseText,N),Te=ew(N,p.getResponseError(N.responseText,N)),Ye={status:oe.target.status,body:fe};return this.uppy.emit("upload-error",r,Te,Ye),M(Te)}),N.addEventListener("error",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${re} errored`),Y.done(),X.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null);let oe=ew(N,p.getResponseError(N.responseText,N));return this.uppy.emit("upload-error",r,oe),M(oe)}),N.open(p.method.toUpperCase(),p.endpoint,!0),N.withCredentials=!!p.withCredentials,p.responseType!==""&&(N.responseType=p.responseType),Object.keys(p.headers).forEach(oe=>{N.setRequestHeader(oe,p.headers[oe])});let X=this.requests.run(()=>(N.send(F),()=>{Y.done(),N.abort()}),{priority:1});Fn(this,eh)[eh]("file-removed",r.id,()=>{X.abort(),M(new Error("File removed"))}),Fn(this,th)[th]("cancel-all",r.id,function(oe){let{reason:fe}=oe===void 0?{}:oe;fe==="user"&&X.abort(),M(new Error("Upload cancelled"))})})}a(nM,"_uploadLocalFile2");async function aM(r){try{if(r.serverToken)return this.connectToServerSocket(r);let o=await Fn(this,xf)[xf](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(o){throw this.uppy.emit("upload-error",r,o),o}}a(aM,"_uploadRemoteFile2");function oM(r){return r.replace(/;.*$/,"")}a(oM,"removeMimeParameters");function lM(r,o){let c=o.headers?o.headers["content-type"]:o.getResponseHeader("Content-Type");if(typeof c=="string"){let p=oM(c).toLowerCase();if(p==="application/xml"||p==="text/xml"||p==="text/html"&&/^<\?xml /.test(r))return!0}return!1}a(lM,"isXml");var cM=lM,tU={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},hM;function pn(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(pn,"_classPrivateFieldLooseBase");var iU=0;function Ou(r){return"__private_"+iU+++"_"+r}a(Ou,"_classPrivateFieldLooseKey");var rU={version:"3.0.4"};function uM(r,o){return new URL(o,r||void 0).toString()}a(uM,"resolveUrl");function Mu(r,o){let c=r.indexOf(`<${o}>`),p=r.indexOf(`</${o}>`,c);return c!==-1&&p!==-1?r.slice(c+o.length+2,p):""}a(Mu,"getXmlValue");function dM(r){if(r&&r.error){let o=new Error(r.message);throw Object.assign(o,r.error),o}return r}a(dM,"assertServerError");function fM(r,o){if(!(o!=null&&typeof o.url=="string"&&(typeof o.fields=="object"||o.fields==null)))throw new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${r.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(o)}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);if(!(o.method==null||/^p(u|os)t$/i.test(o.method)))throw new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${r.name}', expected  'put' or 'post' but got '${o.method}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`)}a(fM,"validateParameters");function pM(r,o){if(!cM(r,o))return;let c=Mu(r,"Message");return new Error(c)}a(pM,"defaultGetResponseError");var mM=!1,ga=Ou("client"),ih=Ou("requests"),kf=Ou("uploader"),Sf=Ou("handleUpload"),Tf=Ou("setCompanionHeaders");hM=Symbol.for("uppy test: getClient");var sw=class extends Je{constructor(r,o){super(r,o),Object.defineProperty(this,ga,{writable:!0,value:void 0}),Object.defineProperty(this,ih,{writable:!0,value:void 0}),Object.defineProperty(this,kf,{writable:!0,value:void 0}),Object.defineProperty(this,Sf,{writable:!0,value:p=>{let _=Object.create(null);function M(Y){var re;let{id:X}=Y;(re=_[X])==null||re.abort()}a(M,"onremove"),this.uppy.on("file-removed",M),p.forEach(Y=>{let re=this.uppy.getFile(Y);this.uppy.emit("upload-started",re)});let F=pn(this,ih)[ih].wrapPromiseFunction(Y=>this.opts.getUploadParameters(Y)),N=p.length;return Promise.allSettled(p.map((Y,re)=>(_[Y]=F(this.uppy.getFile(Y)),_[Y].then(X=>{delete _[Y];let oe=this.uppy.getFile(Y);fM(oe,X);let{method:fe="post",url:Te,fields:Ye,headers:Nt}=X,Et={method:fe,formData:fe.toLowerCase()==="post",endpoint:Te,allowedMetaFields:Ye?Object.keys(Ye):[]};return Nt&&(Et.headers=Nt),this.uppy.setFileState(oe.id,{meta:{...oe.meta,...Ye},xhrUpload:Et}),pn(this,kf)[kf].uploadFile(oe.id,re,N)}).catch(X=>{delete _[Y];let oe=this.uppy.getFile(Y);return this.uppy.emit("upload-error",oe,X),Promise.reject(X)})))).finally(()=>{this.uppy.off("file-removed",M)})}}),Object.defineProperty(this,Tf,{writable:!0,value:()=>(pn(this,ga)[ga].setCompanionHeaders(this.opts.companionHeaders),Promise.resolve())}),this.type="uploader",this.id=this.opts.id||"AwsS3",this.title="AWS S3",this.defaultLocale=tU;let c={timeout:30*1e3,limit:0,allowedMetaFields:[],getUploadParameters:this.getUploadParameters.bind(this),companionHeaders:{}};if(this.opts={...c,...o},(o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.i18nInit(),pn(this,ga)[ga]=new da(r,o),pn(this,ih)[ih]=new Xc(this.opts.limit)}[hM](){return pn(this,ga)[ga]}get client(){return pn(this,ga)[ga]}set client(r){pn(this,ga)[ga]=r}getUploadParameters(r){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");let o=r.meta.name,{type:c}=r.meta,p=Object.fromEntries(this.opts.allowedMetaFields.filter(M=>r.meta[M]!=null).map(M=>[`metadata[${M}]`,r.meta[M].toString()])),_=new URLSearchParams({filename:o,type:c,...p});return pn(this,ga)[ga].get(`s3/params?${_}`).then(dM)}install(){let{uppy:r}=this;r.addPreProcessor(pn(this,Tf)[Tf]),r.addUploader(pn(this,Sf)[Sf]);function o(p,_){let M=this;return cM(p,_)?{location:uM(_.responseURL,Mu(p,"Location")),bucket:Mu(p,"Bucket"),key:Mu(p,"Key"),etag:Mu(p,"ETag")}:M.method.toUpperCase()==="POST"?(mM||(r.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),mM=!0),{location:null}):_.responseURL?{location:_.responseURL.replace(/\?.*$/,"")}:{location:null}}a(o,"defaultGetResponseData");let c={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,[yf]:pn(this,ih)[ih],responseType:"text",getResponseData:this.opts.getResponseData||o,getResponseError:pM};c.i18n=this.i18n,pn(this,kf)[kf]=new tM(r,c)}uninstall(){this.uppy.removePreProcessor(pn(this,Tf)[Tf]),this.uppy.removeUploader(pn(this,Sf)[Sf])}};a(sw,"AwsS3"),sw.VERSION=rU.version;var{AbortController:nw}=globalThis,gM=a(function(r,o){r===void 0&&(r="Aborted");let c=new DOMException(r,"AbortError");return o!=null&&w(o,"cause")&&Object.defineProperty(c,"cause",{__proto__:null,configurable:!0,writable:!0,value:o.cause}),c},"createAbortError");function Pi(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Pi,"_classPrivateFieldLooseBase");var sU=0;function mn(r){return"__private_"+sU+++"_"+r}a(mn,"_classPrivateFieldLooseKey");var nU=1024*1024,yM={getChunkSize(r){return Math.ceil(r.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(r){throw r}};function vM(r){if(typeof r=="string")return parseInt(r,10);if(typeof r=="number")return r;throw new TypeError("Expected a number")}a(vM,"ensureInt");var aw=Symbol("pausing upload, not an actual error"),tn=mn("abortController"),In=mn("chunks"),ya=mn("chunkState"),Bs=mn("data"),bl=mn("file"),rh=mn("uploadPromise"),Cf=mn("onError"),sh=mn("onSuccess"),Ef=mn("onReject"),ow=mn("initChunks"),lw=mn("createUpload"),cw=mn("resumeUpload"),Of=mn("onPartProgress"),Mf=mn("onPartComplete"),hw=mn("abortUpload"),bM=class{constructor(r,o){var c;Object.defineProperty(this,hw,{value:kM}),Object.defineProperty(this,cw,{value:xM}),Object.defineProperty(this,lw,{value:wM}),Object.defineProperty(this,ow,{value:_M}),Object.defineProperty(this,tn,{writable:!0,value:new nw}),Object.defineProperty(this,In,{writable:!0,value:void 0}),Object.defineProperty(this,ya,{writable:!0,value:void 0}),Object.defineProperty(this,Bs,{writable:!0,value:void 0}),Object.defineProperty(this,bl,{writable:!0,value:void 0}),Object.defineProperty(this,rh,{writable:!0,value:void 0}),Object.defineProperty(this,Cf,{writable:!0,value:void 0}),Object.defineProperty(this,sh,{writable:!0,value:void 0}),Object.defineProperty(this,Ef,{writable:!0,value:p=>(p==null?void 0:p.cause)===aw?null:Pi(this,Cf)[Cf](p)}),Object.defineProperty(this,Of,{writable:!0,value:p=>_=>{if(!_.lengthComputable)return;let M=_.loaded;Pi(this,ya)[ya][p].uploaded=vM(M);let F=Pi(this,ya)[ya].reduce((N,Y)=>N+Y.uploaded,0);this.options.onProgress(F,Pi(this,Bs)[Bs].size)}}),Object.defineProperty(this,Mf,{writable:!0,value:p=>_=>{Pi(this,In)[In][p]=null,Pi(this,ya)[ya][p].etag=_,Pi(this,ya)[ya][p].done=!0;let M={PartNumber:p+1,ETag:_};this.options.onPartComplete(M)}}),this.options={...yM,...o},(c=this.options).getChunkSize!=null||(c.getChunkSize=yM.getChunkSize),Pi(this,Bs)[Bs]=r,Pi(this,bl)[bl]=o.file,Pi(this,sh)[sh]=this.options.onSuccess,Pi(this,Cf)[Cf]=this.options.onError,Pi(this,ow)[ow]()}start(){Pi(this,rh)[rh]?(Pi(this,tn)[tn].signal.aborted||Pi(this,tn)[tn].abort(aw),Pi(this,tn)[tn]=new nw,Pi(this,cw)[cw]()):Pi(this,lw)[lw]()}pause(){Pi(this,tn)[tn].abort(aw),Pi(this,tn)[tn]=new nw}abort(r){var o;r===void 0&&(r=void 0),(o=r)!=null&&o.really?Pi(this,hw)[hw]():this.pause()}get chunkState(){return Pi(this,ya)[ya]}};a(bM,"MultipartUploader");function _M(){let r=this.options.getChunkSize(Pi(this,Bs)[Bs]),o=Pi(this,Bs)[Bs].size,c=Math.max(5*nU,Math.ceil(o/1e4)),p=Math.max(r,c);if(Pi(this,Bs)[Bs].size===0)Pi(this,In)[In]=[Pi(this,Bs)[Bs]],Pi(this,Bs)[Bs].onProgress=Pi(this,Of)[Of](0),Pi(this,Bs)[Bs].onComplete=Pi(this,Mf)[Mf](0);else{let _=Math.ceil(o/p);Pi(this,In)[In]=Array(_);let M=0;for(let F=0;F<o;F+=p){let N=Math.min(o,F+p),Y=Pi(this,Bs)[Bs].slice(F,N);Y.onProgress=Pi(this,Of)[Of](M),Y.onComplete=Pi(this,Mf)[Mf](M),Pi(this,In)[In][M++]=Y}}Pi(this,ya)[ya]=Pi(this,In)[In].map(()=>({uploaded:0}))}a(_M,"_initChunks2");function wM(){Pi(this,rh)[rh]=this.options.companionComm.uploadFile(Pi(this,bl)[bl],Pi(this,In)[In],Pi(this,tn)[tn].signal).then(Pi(this,sh)[sh],Pi(this,Ef)[Ef])}a(wM,"_createUpload2");function xM(){Pi(this,rh)[rh]=this.options.companionComm.resumeUploadFile(Pi(this,bl)[bl],Pi(this,In)[In],Pi(this,tn)[tn].signal).then(Pi(this,sh)[sh],Pi(this,Ef)[Ef])}a(xM,"_resumeUpload2");function kM(){Pi(this,tn)[tn].abort(),this.options.companionComm.abortFileUpload(Pi(this,bl)[bl]).catch(r=>this.options.log(r))}a(kM,"_abortUpload2");var aU=bM,SM;function zi(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(zi,"_classPrivateFieldLooseBase");var oU=0;function Ns(r){return"__private_"+oU+++"_"+r}a(Ns,"_classPrivateFieldLooseKey");var lU={version:"3.1.1"};function Au(r){if(r&&r.error){let o=new Error(r.message);throw Object.assign(o,r.error),o}return r}a(Au,"assertServerError");function gn(r){if(r!=null&&r.aborted)throw gM("The operation was aborted",{cause:r.reason})}a(gn,"throwIfAborted");var Af=Ns("abortMultipartUpload"),ao=Ns("cache"),Pf=Ns("createMultipartUpload"),Df=Ns("fetchSignature"),Lf=Ns("listParts"),nh=Ns("previousRetryDelay"),ah=Ns("requests"),_l=Ns("retryDelayIterator"),oh=Ns("sendCompletionRequest"),Rf=Ns("setS3MultipartState"),Ff=Ns("uploadPartBytes"),uw=Ns("shouldRetry"),TM=class{constructor(r,o,c){Object.defineProperty(this,uw,{value:CM}),Object.defineProperty(this,Af,{writable:!0,value:void 0}),Object.defineProperty(this,ao,{writable:!0,value:new WeakMap}),Object.defineProperty(this,Pf,{writable:!0,value:void 0}),Object.defineProperty(this,Df,{writable:!0,value:void 0}),Object.defineProperty(this,Lf,{writable:!0,value:void 0}),Object.defineProperty(this,nh,{writable:!0,value:void 0}),Object.defineProperty(this,ah,{writable:!0,value:void 0}),Object.defineProperty(this,_l,{writable:!0,value:void 0}),Object.defineProperty(this,oh,{writable:!0,value:void 0}),Object.defineProperty(this,Rf,{writable:!0,value:void 0}),Object.defineProperty(this,Ff,{writable:!0,value:void 0}),zi(this,ah)[ah]=r,zi(this,Rf)[Rf]=c,this.setOptions(o)}setOptions(r){let o=zi(this,ah)[ah];if("abortMultipartUpload"in r&&(zi(this,Af)[Af]=o.wrapPromiseFunction(r.abortMultipartUpload)),"createMultipartUpload"in r&&(zi(this,Pf)[Pf]=o.wrapPromiseFunction(r.createMultipartUpload,{priority:-1})),"signPart"in r&&(zi(this,Df)[Df]=o.wrapPromiseFunction(r.signPart)),"listParts"in r&&(zi(this,Lf)[Lf]=o.wrapPromiseFunction(r.listParts)),"completeMultipartUpload"in r&&(zi(this,oh)[oh]=o.wrapPromiseFunction(r.completeMultipartUpload)),"retryDelays"in r){var c;zi(this,_l)[_l]=(c=r.retryDelays)==null?void 0:c.values()}"uploadPartBytes"in r&&(zi(this,Ff)[Ff]=o.wrapPromiseFunction(r.uploadPartBytes,{priority:1/0}))}async getUploadId(r,o){let c=zi(this,ao)[ao].get(r.data);if(c!=null)return c;let p=zi(this,Pf)[Pf](r,o),_=a(()=>{p.abort(o.reason),zi(this,ao)[ao].delete(r.data)},"abortPromise");return o.addEventListener("abort",_,{once:!0}),zi(this,ao)[ao].set(r.data,p),p.then(async M=>{o.removeEventListener("abort",_),zi(this,Rf)[Rf](r,M),zi(this,ao)[ao].set(r.data,M)},()=>{o.removeEventListener("abort",_)}),p}async abortFileUpload(r){let o=zi(this,ao)[ao].get(r.data);o!=null&&await zi(this,Af)[Af](r,await o)}async uploadFile(r,o,c){gn(c);let{uploadId:p,key:_}=await this.getUploadId(r,c);gn(c);let M=await Promise.all(o.map((F,N)=>this.uploadChunk(r,N+1,F,c)));return gn(c),zi(this,oh)[oh](r,{key:_,uploadId:p,parts:M,signal:c}).abortOn(c)}async resumeUploadFile(r,o,c){gn(c);let{uploadId:p,key:_}=await this.getUploadId(r,c);gn(c);let M=await zi(this,Lf)[Lf](r,{uploadId:p,key:_,signal:c}).abortOn(c);gn(c);let F=await Promise.all(o.map((N,Y)=>{let re=Y+1,X=M.find(oe=>{let{PartNumber:fe}=oe;return fe===re});return X==null?this.uploadChunk(r,re,N,c):{PartNumber:re,ETag:X.ETag}}));return gn(c),zi(this,oh)[oh](r,{key:_,uploadId:p,parts:F,signal:c}).abortOn(c)}async uploadChunk(r,o,c,p){gn(p);let{uploadId:_,key:M}=await this.getUploadId(r,p);for(gn(p);;){let F=await zi(this,Df)[Df](r,{uploadId:_,key:M,partNumber:o,body:c,signal:p}).abortOn(p);gn(p);try{return{PartNumber:o,...await zi(this,Ff)[Ff](F,c,p).abortOn(p)}}catch(N){if(!await zi(this,uw)[uw](N))throw N}}}};a(TM,"HTTPCommunicationQueue");async function CM(r){var o;let c=zi(this,ah)[ah],p=r==null||(o=r.source)==null?void 0:o.status;if(p==null)return!1;if(p===403&&r.message==="Request has expired"){if(!c.isPaused){if(c.limit===1||zi(this,nh)[nh]==null){var _;let N=(_=zi(this,_l)[_l])==null?void 0:_.next();if(N==null||N.done)return!1;zi(this,nh)[nh]=N.value}c.rateLimit(0),await new Promise(N=>setTimeout(N,zi(this,nh)[nh]))}}else if(p===429){if(!c.isPaused){var M;let N=(M=zi(this,_l)[_l])==null?void 0:M.next();if(N==null||N.done)return!1;c.rateLimit(N.value)}}else{if(p>400&&p<500&&p!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)c.isPaused||(c.pause(),window.addEventListener("online",()=>{c.resume()},{once:!0}));else{var F;let N=(F=zi(this,_l)[_l])==null?void 0:F.next();if(N==null||N.done)return!1;await new Promise(Y=>setTimeout(Y,N.value))}}return!0}a(CM,"_shouldRetry2");var If=Ns("queueRequestSocketToken"),lh=Ns("companionCommunicationQueue"),rn=Ns("client"),dw=Ns("setS3MultipartState"),fw=Ns("requestSocketToken"),Bf=Ns("setCompanionHeaders");SM=Symbol.for("uppy test: getClient");var sy=class extends Je{constructor(r,o){var c;super(r,o),Object.defineProperty(this,If,{writable:!0,value:void 0}),Object.defineProperty(this,lh,{writable:!0,value:void 0}),Object.defineProperty(this,rn,{writable:!0,value:void 0}),Object.defineProperty(this,dw,{writable:!0,value:(_,M)=>{let{key:F,uploadId:N}=M,Y=this.uppy.getFile(_.id);this.uppy.setFileState(_.id,{s3Multipart:{...Y.s3Multipart,key:F,uploadId:N}})}}),Object.defineProperty(this,fw,{writable:!0,value:async _=>{let M=_.remote.providerOptions.provider?_s:da,F=new M(this.uppy,_.remote.providerOptions),N={...this.opts};if(_.tus&&Object.assign(N,_.tus),_.remote.url==null)throw new Error("Cannot connect to an undefined URL");return(await F.post(_.remote.url,{..._.remote.body,protocol:"s3-multipart",size:_.data.size,metadata:_.meta})).token}}),Object.defineProperty(this,Bf,{writable:!0,value:()=>{zi(this,rn)[rn].setCompanionHeaders(this.opts.companionHeaders)}}),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",this.title="AWS S3 Multipart",zi(this,rn)[rn]=new da(r,o);let p={limit:6,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:this.createMultipartUpload.bind(this),listParts:this.listParts.bind(this),abortMultipartUpload:this.abortMultipartUpload.bind(this),completeMultipartUpload:this.completeMultipartUpload.bind(this),signPart:this.signPart.bind(this),uploadPartBytes:sy.uploadPartBytes,companionHeaders:{}};this.opts={...p,...o},(o==null?void 0:o.prepareUploadParts)!=null&&o.signPart==null&&(this.opts.signPart=async(_,M)=>{let{uploadId:F,key:N,partNumber:Y,body:re,signal:X}=M,{presignedUrls:oe,headers:fe}=await o.prepareUploadParts(_,{uploadId:F,key:N,parts:[{number:Y,chunk:re}],signal:X});return{url:oe==null?void 0:oe[Y],headers:fe==null?void 0:fe[Y]}}),this.upload=this.upload.bind(this),this.requests=(c=this.opts.rateLimitedQueue)!=null?c:new Xc(this.opts.limit),zi(this,lh)[lh]=new TM(this.requests,this.opts,zi(this,dw)[dw]),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),zi(this,If)[If]=this.requests.wrapPromiseFunction(zi(this,fw)[fw],{priority:-1})}[SM](){return zi(this,rn)[rn]}setOptions(r){return zi(this,lh)[lh].setOptions(r),super.setOptions(r)}resetUploaderReferences(r,o){o===void 0&&(o={}),this.uploaders[r]&&(this.uploaders[r].abort({really:o.abort||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null),this.uploaderSockets[r]&&(this.uploaderSockets[r].close(),this.uploaderSockets[r]=null)}assertHost(r){if(!this.opts.companionUrl)throw new Error(`Expected a \`companionUrl\` option containing a Companion address, or if you are not using Companion, a custom \`${r}\` implementation.`)}createMultipartUpload(r,o){this.assertHost("createMultipartUpload"),gn(o);let c={};return Object.keys(r.meta||{}).forEach(p=>{r.meta[p]!=null&&(c[p]=r.meta[p].toString())}),zi(this,rn)[rn].post("s3/multipart",{filename:r.name,type:r.type,metadata:c},{signal:o}).then(Au)}listParts(r,o,c){let{key:p,uploadId:_}=o;this.assertHost("listParts"),gn(c);let M=encodeURIComponent(p);return zi(this,rn)[rn].get(`s3/multipart/${_}?key=${M}`,{signal:c}).then(Au)}completeMultipartUpload(r,o,c){let{key:p,uploadId:_,parts:M}=o;this.assertHost("completeMultipartUpload"),gn(c);let F=encodeURIComponent(p),N=encodeURIComponent(_);return zi(this,rn)[rn].post(`s3/multipart/${N}/complete?key=${F}`,{parts:M},{signal:c}).then(Au)}signPart(r,o){let{uploadId:c,key:p,partNumber:_,signal:M}=o;if(this.assertHost("signPart"),gn(M),c==null||p==null||_==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");let F=encodeURIComponent(p);return zi(this,rn)[rn].get(`s3/multipart/${c}/${_}?key=${F}`,{signal:M}).then(Au)}abortMultipartUpload(r,o,c){let{key:p,uploadId:_}=o;this.assertHost("abortMultipartUpload");let M=encodeURIComponent(p),F=encodeURIComponent(_);return zi(this,rn)[rn].delete(`s3/multipart/${F}?key=${M}`,void 0,{signal:c}).then(Au)}static async uploadPartBytes(r,o,c){let{url:p,expires:_,headers:M}=r;if(gn(c),p==null)throw new Error("Cannot upload to an undefined URL");return new Promise((F,N)=>{let Y=new XMLHttpRequest;Y.open("PUT",p,!0),M&&Object.keys(M).forEach(oe=>{Y.setRequestHeader(oe,M[oe])}),Y.responseType="text",typeof _=="number"&&(Y.timeout=_*1e3);function re(){Y.abort()}a(re,"onabort");function X(){c.removeEventListener("abort",re)}a(X,"cleanup"),c.addEventListener("abort",re),Y.upload.addEventListener("progress",o.onProgress),Y.addEventListener("abort",()=>{X(),N(gM())}),Y.addEventListener("timeout",()=>{X();let oe=new Error("Request has expired");oe.source={status:403},N(oe)}),Y.addEventListener("load",oe=>{if(X(),oe.target.status===403&&oe.target.responseText.includes("<Message>Request has expired</Message>")){let Te=new Error("Request has expired");Te.source=oe.target,N(Te);return}if(oe.target.status<200||oe.target.status>=300){let Te=new Error("Non 2xx");Te.source=oe.target,N(Te);return}o.onProgress==null||o.onProgress(o.size);let fe=oe.target.getResponseHeader("ETag");if(fe===null){N(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}o.onComplete==null||o.onComplete(fe),F({ETag:fe})}),Y.addEventListener("error",oe=>{X();let fe=new Error("Unknown error");fe.source=oe.target,N(fe)}),Y.send(o)})}uploadFile(r){var o=this;return new Promise((c,p)=>{let _=a((re,X)=>{this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:re,bytesTotal:X})},"onProgress"),M=a(re=>{this.uppy.log(re),this.uppy.emit("upload-error",r,re),this.resetUploaderReferences(r.id),p(re)},"onError"),F=a(re=>{let X=Y,oe={body:{...re},uploadURL:re.location};this.resetUploaderReferences(r.id);let fe=this.uppy.getFile(r.id);this.uppy.emit("upload-success",fe||r,oe),re.location&&this.uppy.log(`Download ${r.name} from ${re.location}`),c(X)},"onSuccess"),N=a(re=>{let X=this.uppy.getFile(r.id);!X||this.uppy.emit("s3-multipart:part-uploaded",X,re)},"onPartComplete"),Y=new aU(r.data,{companionComm:zi(this,lh)[lh],log:function(){return o.uppy.log(...arguments)},getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):null,onProgress:_,onError:M,onSuccess:F,onPartComplete:N,file:r,...r.s3Multipart});this.uploaders[r.id]=Y,this.uploaderEvents[r.id]=new yl(this.uppy),this.onFileRemove(r.id,re=>{Y.abort(),this.resetUploaderReferences(r.id,{abort:!0}),c(`upload ${re.id} was removed`)}),this.onCancelAll(r.id,function(re){let{reason:X}=re===void 0?{}:re;X==="user"&&(Y.abort(),o.resetUploaderReferences(r.id,{abort:!0})),c(`upload ${r.id} was canceled`)}),this.onFilePause(r.id,re=>{re?Y.pause():Y.start()}),this.onPauseAll(r.id,()=>{Y.pause()}),this.onResumeAll(r.id,()=>{Y.start()}),(!r.progress.uploadStarted||!r.isRestored)&&(Y.start(),this.uppy.emit("upload-started",r))})}async uploadRemote(r){this.resetUploaderReferences(r.id),(!r.progress.uploadStarted||!r.isRestored)&&this.uppy.emit("upload-started",r);try{if(r.serverToken)return this.connectToServerSocket(r);let o=await zi(this,If)[If](r);return this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))}catch(o){throw this.uppy.emit("upload-error",r,o),o}}async connectToServerSocket(r){var o=this;return new Promise((c,p)=>{let _,M=r.serverToken,F=vf(r.remote.companionUrl),N=new _u({target:`${F}/api/${M}`});this.uploaderSockets[r.id]=N,this.uploaderEvents[r.id]=new yl(this.uppy),this.onFileRemove(r.id,()=>{_.abort(),N.send("cancel",{}),this.resetUploaderReferences(r.id,{abort:!0}),c(`upload ${r.id} was removed`)}),this.onFilePause(r.id,Y=>{Y?(_.abort(),N.send("pause",{})):(_.abort(),_=this.requests.run(()=>(N.send("resume",{}),()=>{})))}),this.onPauseAll(r.id,()=>{_.abort(),N.send("pause",{})}),this.onCancelAll(r.id,function(Y){let{reason:re}=Y===void 0?{}:Y;re==="user"&&(_.abort(),N.send("cancel",{}),o.resetUploaderReferences(r.id)),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{_.abort(),r.error&&N.send("pause",{}),_=this.requests.run(()=>{N.send("resume",{})})}),this.onRetry(r.id,()=>{N.isOpen&&(N.send("pause",{}),N.send("resume",{}))}),this.onRetryAll(r.id,()=>{N.isOpen&&(N.send("pause",{}),N.send("resume",{}))}),N.on("progress",Y=>iy(this,Y,r)),N.on("error",Y=>{this.uppy.emit("upload-error",r,new Error(Y.error)),this.resetUploaderReferences(r.id),_.done(),p(new Error(Y.error))}),N.on("success",Y=>{let re={uploadURL:Y.url};this.uppy.emit("upload-success",r,re),this.resetUploaderReferences(r.id),_.done(),c()}),_=this.requests.run(()=>(r.isPaused&&N.send("pause",{}),()=>{}))})}async upload(r){if(r.length===0)return;let o=r.map(c=>{let p=this.uppy.getFile(c);return p.isRemote?this.uploadRemote(p):this.uploadFile(p)});return Promise.all(o)}onFileRemove(r,o){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&o(c.id)})}onFilePause(r,o){this.uploaderEvents[r].on("upload-pause",(c,p)=>{r===c&&o(p)})}onRetry(r,o){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&o()})}onRetryAll(r,o){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||o()})}onPauseAll(r,o){this.uploaderEvents[r].on("pause-all",()=>{!this.uppy.getFile(r)||o()})}onCancelAll(r,o){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||o(...arguments)})}onResumeAll(r,o){this.uploaderEvents[r].on("resume-all",()=>{!this.uppy.getFile(r)||o()})}install(){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:!0}}),this.uppy.addPreProcessor(zi(this,Bf)[Bf]),this.uppy.addUploader(this.upload)}uninstall(){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:!1}}),this.uppy.removePreProcessor(zi(this,Bf)[Bf]),this.uppy.removeUploader(this.upload)}};a(sy,"AwsS3Multipart"),sy.VERSION=lU.version;var EM="3.7.2",cU=EM,hU=typeof atob=="function",uU=typeof btoa=="function",Pu=typeof Buffer=="function",OM=typeof TextDecoder=="function"?new TextDecoder:void 0,MM=typeof TextEncoder=="function"?new TextEncoder:void 0,dU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Nf=Array.prototype.slice.call(dU),ny=(r=>{let o={};return r.forEach((c,p)=>o[c]=p),o})(Nf),fU=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,sn=String.fromCharCode.bind(String),AM=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(r,o=c=>c)=>new Uint8Array(Array.prototype.slice.call(r,0).map(o)),PM=a(r=>r.replace(/=/g,"").replace(/[+\/]/g,o=>o=="+"?"-":"_"),"_mkUriSafe"),DM=a(r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),"_tidyB64"),LM=a(r=>{let o,c,p,_,M="",F=r.length%3;for(let N=0;N<r.length;){if((c=r.charCodeAt(N++))>255||(p=r.charCodeAt(N++))>255||(_=r.charCodeAt(N++))>255)throw new TypeError("invalid character found");o=c<<16|p<<8|_,M+=Nf[o>>18&63]+Nf[o>>12&63]+Nf[o>>6&63]+Nf[o&63]}return F?M.slice(0,F-3)+"===".substring(F):M},"btoaPolyfill"),pw=uU?r=>btoa(r):Pu?r=>Buffer.from(r,"binary").toString("base64"):LM,mw=Pu?r=>Buffer.from(r).toString("base64"):r=>{let o=[];for(let c=0,p=r.length;c<p;c+=4096)o.push(sn.apply(null,r.subarray(c,c+4096)));return pw(o.join(""))},ay=a((r,o=!1)=>o?PM(mw(r)):mw(r),"fromUint8Array"),pU=a(r=>{if(r.length<2){var o=r.charCodeAt(0);return o<128?r:o<2048?sn(192|o>>>6)+sn(128|o&63):sn(224|o>>>12&15)+sn(128|o>>>6&63)+sn(128|o&63)}else{var o=65536+(r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320);return sn(240|o>>>18&7)+sn(128|o>>>12&63)+sn(128|o>>>6&63)+sn(128|o&63)}},"cb_utob"),mU=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,RM=a(r=>r.replace(mU,pU),"utob"),FM=Pu?r=>Buffer.from(r,"utf8").toString("base64"):MM?r=>mw(MM.encode(r)):r=>pw(RM(r)),Du=a((r,o=!1)=>o?PM(FM(r)):FM(r),"encode"),IM=a(r=>Du(r,!0),"encodeURI"),gU=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,yU=a(r=>{switch(r.length){case 4:var o=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),c=o-65536;return sn((c>>>10)+55296)+sn((c&1023)+56320);case 3:return sn((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return sn((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},"cb_btou"),BM=a(r=>r.replace(gU,yU),"btou"),NM=a(r=>{if(r=r.replace(/\s+/g,""),!fU.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let o,c="",p,_;for(let M=0;M<r.length;)o=ny[r.charAt(M++)]<<18|ny[r.charAt(M++)]<<12|(p=ny[r.charAt(M++)])<<6|(_=ny[r.charAt(M++)]),c+=p===64?sn(o>>16&255):_===64?sn(o>>16&255,o>>8&255):sn(o>>16&255,o>>8&255,o&255);return c},"atobPolyfill"),gw=hU?r=>atob(DM(r)):Pu?r=>Buffer.from(r,"base64").toString("binary"):NM,zM=Pu?r=>AM(Buffer.from(r,"base64")):r=>AM(gw(r),o=>o.charCodeAt(0)),UM=a(r=>zM(HM(r)),"toUint8Array"),vU=Pu?r=>Buffer.from(r,"base64").toString("utf8"):OM?r=>OM.decode(zM(r)):r=>BM(gw(r)),HM=a(r=>DM(r.replace(/[-_]/g,o=>o=="-"?"+":"/")),"_unURI"),yw=a(r=>vU(HM(r)),"decode"),bU=a(r=>{if(typeof r!="string")return!1;let o=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(o)||!/[^\s0-9a-zA-Z\-_]/.test(o)},"isValid"),WM=a(r=>({value:r,enumerable:!1,writable:!0,configurable:!0}),"_noEnum"),jM=a(function(){let r=a((o,c)=>Object.defineProperty(String.prototype,o,WM(c)),"_add");r("fromBase64",function(){return yw(this)}),r("toBase64",function(o){return Du(this,o)}),r("toBase64URI",function(){return Du(this,!0)}),r("toBase64URL",function(){return Du(this,!0)}),r("toUint8Array",function(){return UM(this)})},"extendString"),qM=a(function(){let r=a((o,c)=>Object.defineProperty(Uint8Array.prototype,o,WM(c)),"_add");r("toBase64",function(o){return ay(this,o)}),r("toBase64URI",function(){return ay(this,!0)}),r("toBase64URL",function(){return ay(this,!0)})},"extendUint8Array"),_U=a(()=>{jM(),qM()},"extendBuiltins"),wU={version:EM,VERSION:cU,atob:gw,atobPolyfill:NM,btoa:pw,btoaPolyfill:LM,fromBase64:yw,toBase64:Du,encode:Du,encodeURI:IM,encodeURL:IM,utob:RM,btou:BM,decode:yw,isValid:bU,fromUint8Array:ay,toUint8Array:UM,extendString:jM,extendUint8Array:qM,extendBuiltins:_U},xU=y(I());function oy(r){return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},oy(r)}a(oy,"_typeof");function vw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(vw,"_defineProperties");function $M(r,o,c){return o&&vw(r.prototype,o),c&&vw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a($M,"_createClass");function VM(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(VM,"_classCallCheck");function YM(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&Lu(r,o)}a(YM,"_inherits");function GM(r){var o=bw();return a(function(){var c=Ru(r),p;if(o){var _=Ru(this).constructor;p=Reflect.construct(c,arguments,_)}else p=c.apply(this,arguments);return XM(this,p)},"_createSuperInternal")}a(GM,"_createSuper");function XM(r,o){if(o&&(oy(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KM(r)}a(XM,"_possibleConstructorReturn");function KM(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}a(KM,"_assertThisInitialized");function ly(r){var o=typeof Map=="function"?new Map:void 0;return ly=a(function(c){if(c===null||!ZM(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(c))return o.get(c);o.set(c,p)}function p(){return zf(c,arguments,Ru(this).constructor)}return a(p,"Wrapper"),p.prototype=Object.create(c.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),Lu(p,c)},"_wrapNativeSuper"),ly(r)}a(ly,"_wrapNativeSuper");function zf(r,o,c){return bw()?zf=Reflect.construct.bind():zf=a(function(p,_,M){var F=[null];F.push.apply(F,_);var N=Function.bind.apply(p,F),Y=new N;return M&&Lu(Y,M.prototype),Y},"_construct"),zf.apply(null,arguments)}a(zf,"_construct");function bw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}a(bw,"_isNativeReflectConstruct");function ZM(r){return Function.toString.call(r).indexOf("[native code]")!==-1}a(ZM,"_isNativeFunction");function Lu(r,o){return Lu=Object.setPrototypeOf?Object.setPrototypeOf.bind():a(function(c,p){return c.__proto__=p,c},"_setPrototypeOf"),Lu(r,o)}a(Lu,"_setPrototypeOf");function Ru(r){return Ru=Object.setPrototypeOf?Object.getPrototypeOf.bind():a(function(o){return o.__proto__||Object.getPrototypeOf(o)},"_getPrototypeOf"),Ru(r)}a(Ru,"_getPrototypeOf");var kU=function(r){YM(c,r);var o=GM(c);function c(p){var _,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(VM(this,c),_=o.call(this,p),_.originalRequest=F,_.originalResponse=N,_.causingError=M,M!=null&&(p+=", caused by ".concat(M.toString())),F!=null){var Y=F.getHeader("X-Request-ID")||"n/a",re=F.getMethod(),X=F.getURL(),oe=N?N.getStatus():"n/a",fe=N?N.getBody()||"":"n/a";p+=", originated from request (method: ".concat(re,", url: ").concat(X,", response code: ").concat(oe,", response text: ").concat(fe,", request id: ").concat(Y,")")}return _.message=p,_}return a(c,"DetailedError"),$M(c)}(ly(Error)),cy=kU;function SU(r){}a(SU,"log");function QM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,c=r==="x"?o:o&3|8;return c.toString(16)})}a(QM,"uuid");function _w(r,o){return iA(r)||tA(r,o)||eA(r,o)||JM()}a(_w,"_slicedToArray");function JM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(JM,"_nonIterableRest");function eA(r,o){if(r){if(typeof r=="string")return ww(r,o);var c=Object.prototype.toString.call(r).slice(8,-1);if(c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set")return Array.from(r);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return ww(r,o)}}a(eA,"_unsupportedIterableToArray");function ww(r,o){(o==null||o>r.length)&&(o=r.length);for(var c=0,p=new Array(o);c<o;c++)p[c]=r[c];return p}a(ww,"_arrayLikeToArray");function tA(r,o){var c=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var p=[],_=!0,M=!1,F,N;try{for(c=c.call(r);!(_=(F=c.next()).done)&&(p.push(F.value),!(o&&p.length===o));_=!0);}catch(Y){M=!0,N=Y}finally{try{!_&&c.return!=null&&c.return()}finally{if(M)throw N}}return p}}a(tA,"_iterableToArrayLimit");function iA(r){if(Array.isArray(r))return r}a(iA,"_arrayWithHoles");function xw(r,o){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);o&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),c.push.apply(c,p)}return c}a(xw,"ownKeys");function ch(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?xw(Object(c),!0).forEach(function(p){rA(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):xw(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}a(ch,"_objectSpread");function rA(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}a(rA,"_defineProperty");function sA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(sA,"_classCallCheck");function kw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(kw,"_defineProperties");function nA(r,o,c){return o&&kw(r.prototype,o),c&&kw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(nA,"_createClass");var TU={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},aA=function(){function r(o,c){sA(this,r),"resume"in c&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=c,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=o,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return a(r,"BaseUpload"),nA(r,[{key:"findPreviousUploads",value:a(function(){var o=this;return this.options.fingerprint(this.file,this.options).then(function(c){return o._urlStorage.findUploadsByFingerprint(c)})},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:a(function(o){this.url=o.uploadUrl||null,this._parallelUploadUrls=o.parallelUploadUrls||null,this._urlStorageKey=o.urlStorageKey},"resumeFromPreviousUpload")},{key:"start",value:a(function(){var o=this,c=this.file;if(!c){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var p=this.options.retryDelays;if(p!=null&&Object.prototype.toString.call(p)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var _=0,M=["uploadUrl","uploadSize","uploadLengthDeferred"];_<M.length;_++){var F=M[_];if(this.options[F]){this._emitError(new Error("tus: cannot use the ".concat(F," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(c,this.options).then(function(N){return o._fingerprint=N,o._source?o._source:o.options.fileReader.openFile(c,o.options.chunkSize)}).then(function(N){if(o._source=N,o.options.uploadLengthDeferred)o._size=null;else if(o.options.uploadSize!=null){if(o._size=Number(o.options.uploadSize),Number.isNaN(o._size)){o._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(o._size=o._source.size,o._size==null){o._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}o.options.parallelUploads>1||o._parallelUploadUrls!=null?o._startParallelUpload():o._startSingleUpload()}).catch(function(N){o._emitError(N)})},"start")},{key:"_startParallelUpload",value:a(function(){var o,c=this,p=this._size,_=0;this._parallelUploads=[];var M=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,F=(o=this.options.parallelUploadBoundaries)!==null&&o!==void 0?o:lA(this._source.size,M);this._parallelUploadUrls&&F.forEach(function(re,X){re.uploadUrl=c._parallelUploadUrls[X]||null}),this._parallelUploadUrls=new Array(F.length);var N=F.map(function(re,X){var oe=0;return c._source.slice(re.start,re.end).then(function(fe){var Te=fe.value;return new Promise(function(Ye,Nt){var Et=ch(ch({},c.options),{},{uploadUrl:re.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:ch(ch({},c.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:Ye,onError:Nt,onProgress:a(function(Fi){_=_-oe+Fi,oe=Fi,c._emitProgress(_,p)},"onProgress"),_onUploadUrlAvailable:a(function(){c._parallelUploadUrls[X]=Qt.url,c._parallelUploadUrls.filter(function(Fi){return!!Fi}).length===F.length&&c._saveUploadInUrlStorage()},"_onUploadUrlAvailable")}),Qt=new r(Te,Et);Qt.start(),c._parallelUploads.push(Qt)})})}),Y;Promise.all(N).then(function(){Y=c._openRequest("POST",c.options.endpoint),Y.setHeader("Upload-Concat","final;".concat(c._parallelUploadUrls.join(" ")));var re=Sw(c.options.metadata);return re!==""&&Y.setHeader("Upload-Metadata",re),c._sendRequest(Y,null)}).then(function(re){if(!hh(re.getStatus(),200)){c._emitHttpError(Y,re,"tus: unexpected response while creating upload");return}var X=re.getHeader("Location");if(X==null){c._emitHttpError(Y,re,"tus: invalid or missing Location header");return}c.url=Ow(c.options.endpoint,X),"Created upload at ".concat(c.url),c._emitSuccess()}).catch(function(re){c._emitError(re)})},"_startParallelUpload")},{key:"_startSingleUpload",value:a(function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()},"_startSingleUpload")},{key:"abort",value:a(function(o){var c=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(p){p.abort(o)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!o||this.url==null?Promise.resolve():r.terminate(this.url,this.options).then(function(){return c._removeFromUrlStorage()})},"abort")},{key:"_emitHttpError",value:a(function(o,c,p,_){this._emitError(new cy(p,_,o,c))},"_emitHttpError")},{key:"_emitError",value:a(function(o){var c=this;if(!this._aborted){if(this.options.retryDelays!=null){var p=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(p&&(this._retryAttempt=0),Ew(o,this._retryAttempt,this.options)){var _=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){c.start()},_);return}}if(typeof this.options.onError=="function")this.options.onError(o);else throw o}},"_emitError")},{key:"_emitSuccess",value:a(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()},"_emitSuccess")},{key:"_emitProgress",value:a(function(o,c){typeof this.options.onProgress=="function"&&this.options.onProgress(o,c)},"_emitProgress")},{key:"_emitChunkComplete",value:a(function(o,c,p){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(o,c,p)},"_emitChunkComplete")},{key:"_createUpload",value:a(function(){var o=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var c=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?c.setHeader("Upload-Defer-Length",1):c.setHeader("Upload-Length",this._size);var p=Sw(this.options.metadata);p!==""&&c.setHeader("Upload-Metadata",p);var _;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,_=this._addChunkToRequest(c)):_=this._sendRequest(c,null),_.then(function(M){if(!hh(M.getStatus(),200)){o._emitHttpError(c,M,"tus: unexpected response while creating upload");return}var F=M.getHeader("Location");if(F==null){o._emitHttpError(c,M,"tus: invalid or missing Location header");return}if(o.url=Ow(o.options.endpoint,F),"Created upload at ".concat(o.url),typeof o.options._onUploadUrlAvailable=="function"&&o.options._onUploadUrlAvailable(),o._size===0){o._emitSuccess(),o._source.close();return}o._saveUploadInUrlStorage().then(function(){o.options.uploadDataDuringCreation?o._handleUploadResponse(c,M):(o._offset=0,o._performUpload())})}).catch(function(M){o._emitHttpError(c,null,"tus: failed to create upload",M)})},"_createUpload")},{key:"_resumeUpload",value:a(function(){var o=this,c=this._openRequest("HEAD",this.url),p=this._sendRequest(c,null);p.then(function(_){var M=_.getStatus();if(!hh(M,200)){if(M===423){o._emitHttpError(c,_,"tus: upload is currently locked; retry later");return}if(hh(M,400)&&o._removeFromUrlStorage(),!o.options.endpoint){o._emitHttpError(c,_,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}o.url=null,o._createUpload();return}var F=parseInt(_.getHeader("Upload-Offset"),10);if(Number.isNaN(F)){o._emitHttpError(c,_,"tus: invalid or missing offset value");return}var N=parseInt(_.getHeader("Upload-Length"),10);if(Number.isNaN(N)&&!o.options.uploadLengthDeferred){o._emitHttpError(c,_,"tus: invalid or missing length value");return}typeof o.options._onUploadUrlAvailable=="function"&&o.options._onUploadUrlAvailable(),o._saveUploadInUrlStorage().then(function(){if(F===N){o._emitProgress(N,N),o._emitSuccess();return}o._offset=F,o._performUpload()})}).catch(function(_){o._emitHttpError(c,null,"tus: failed to resume upload",_)})},"_resumeUpload")},{key:"_performUpload",value:a(function(){var o=this;if(!this._aborted){var c;this.options.overridePatchMethod?(c=this._openRequest("POST",this.url),c.setHeader("X-HTTP-Method-Override","PATCH")):c=this._openRequest("PATCH",this.url),c.setHeader("Upload-Offset",this._offset);var p=this._addChunkToRequest(c);p.then(function(_){if(!hh(_.getStatus(),200)){o._emitHttpError(c,_,"tus: unexpected response while uploading chunk");return}o._handleUploadResponse(c,_)}).catch(function(_){o._aborted||o._emitHttpError(c,null,"tus: failed to upload chunk at offset ".concat(o._offset),_)})}},"_performUpload")},{key:"_addChunkToRequest",value:a(function(o){var c=this,p=this._offset,_=this._offset+this.options.chunkSize;return o.setProgressHandler(function(M){c._emitProgress(p+M,c._size)}),o.setHeader("Content-Type","application/offset+octet-stream"),(_===1/0||_>this._size)&&!this.options.uploadLengthDeferred&&(_=this._size),this._source.slice(p,_).then(function(M){var F=M.value,N=M.done;return c.options.uploadLengthDeferred&&N&&(c._size=c._offset+(F&&F.size?F.size:0),o.setHeader("Upload-Length",c._size)),F===null?c._sendRequest(o):(c._emitProgress(c._offset,c._size),c._sendRequest(o,F))})},"_addChunkToRequest")},{key:"_handleUploadResponse",value:a(function(o,c){var p=parseInt(c.getHeader("Upload-Offset"),10);if(Number.isNaN(p)){this._emitHttpError(o,c,"tus: invalid or missing offset value");return}if(this._emitProgress(p,this._size),this._emitChunkComplete(p-this._offset,p,this._size),this._offset=p,p===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()},"_handleUploadResponse")},{key:"_openRequest",value:a(function(o,c){var p=Tw(o,c,this.options);return this._req=p,p},"_openRequest")},{key:"_removeFromUrlStorage",value:a(function(){var o=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(c){o._emitError(c)}),this._urlStorageKey=null)},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:a(function(){var o=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var c={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?c.parallelUploadUrls=this._parallelUploadUrls:c.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,c).then(function(p){o._urlStorageKey=p})},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:a(function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return Cw(o,c,this.options)},"_sendRequest")}],[{key:"terminate",value:a(function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=Tw("DELETE",o,c);return Cw(p,null,c).then(function(_){if(_.getStatus()!==204)throw new cy("tus: unexpected response while terminating upload",null,p,_)}).catch(function(_){if(_ instanceof cy||(_=new cy("tus: failed to terminate upload",_,p,null)),!Ew(_,0,c))throw _;var M=c.retryDelays[0],F=c.retryDelays.slice(1),N=ch(ch({},c),{},{retryDelays:F});return new Promise(function(Y){return setTimeout(Y,M)}).then(function(){return r.terminate(o,N)})})},"terminate")}]),r}();function Sw(r){return Object.entries(r).map(function(o){var c=_w(o,2),p=c[0],_=c[1];return"".concat(p," ").concat(wU.encode(String(_)))}).join(",")}a(Sw,"encodeMetadata");function hh(r,o){return r>=o&&r<o+100}a(hh,"inStatusCategory");function Tw(r,o,c){var p=c.httpStack.createRequest(r,o);p.setHeader("Tus-Resumable","1.0.0");var _=c.headers||{};if(Object.entries(_).forEach(function(F){var N=_w(F,2),Y=N[0],re=N[1];p.setHeader(Y,re)}),c.addRequestId){var M=QM();p.setHeader("X-Request-ID",M)}return p}a(Tw,"openRequest");function Cw(r,o,c){var p=typeof c.onBeforeRequest=="function"?Promise.resolve(c.onBeforeRequest(r)):Promise.resolve();return p.then(function(){return r.send(o).then(function(_){var M=typeof c.onAfterResponse=="function"?Promise.resolve(c.onAfterResponse(r,_)):Promise.resolve();return M.then(function(){return _})})})}a(Cw,"sendRequest");function oA(){var r=!0;return typeof window<"u"&&"navigator"in window&&window.navigator.onLine===!1&&(r=!1),r}a(oA,"isOnline");function Ew(r,o,c){if(c.retryDelays==null||o>=c.retryDelays.length||r.originalRequest==null)return!1;if(c&&typeof c.onShouldRetry=="function")return c.onShouldRetry(r,o,c);var p=r.originalResponse?r.originalResponse.getStatus():0;return(!hh(p,400)||p===409||p===423)&&oA()}a(Ew,"shouldRetry");function Ow(r,o){return new xU.default(o,r).toString()}a(Ow,"resolveUrl");function lA(r,o){for(var c=Math.floor(r/o),p=[],_=0;_<o;_++)p.push({start:c*_,end:c*(_+1)});return p[o-1].end=r,p}a(lA,"splitSizeIntoParts"),aA.defaultOptions=TU;var Mw=aA;function cA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(cA,"_classCallCheck");function Aw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(Aw,"_defineProperties");function hA(r,o,c){return o&&Aw(r.prototype,o),c&&Aw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(hA,"_createClass");var CU=function(){function r(){cA(this,r)}return a(r,"NoopUrlStorage"),hA(r,[{key:"listAllUploads",value:a(function(){return Promise.resolve([])},"listAllUploads")},{key:"findUploadsByFingerprint",value:a(function(o){return Promise.resolve([])},"findUploadsByFingerprint")},{key:"removeUpload",value:a(function(o){return Promise.resolve()},"removeUpload")},{key:"addUpload",value:a(function(o,c){return Promise.resolve(null)},"addUpload")}]),r}();function uA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(uA,"_classCallCheck");function Pw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(Pw,"_defineProperties");function dA(r,o,c){return o&&Pw(r.prototype,o),c&&Pw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(dA,"_createClass");var Dw=!1;try{Dw="localStorage"in window,Lw="tusSupport",localStorage.setItem(Lw,localStorage.getItem(Lw))}catch(r){if(r.code===r.SECURITY_ERR||r.code===r.QUOTA_EXCEEDED_ERR)Dw=!1;else throw r}var Lw,EU=Dw,OU=function(){function r(){uA(this,r)}return a(r,"WebStorageUrlStorage"),dA(r,[{key:"findAllUploads",value:a(function(){var o=this._findEntries("tus::");return Promise.resolve(o)},"findAllUploads")},{key:"findUploadsByFingerprint",value:a(function(o){var c=this._findEntries("tus::".concat(o,"::"));return Promise.resolve(c)},"findUploadsByFingerprint")},{key:"removeUpload",value:a(function(o){return localStorage.removeItem(o),Promise.resolve()},"removeUpload")},{key:"addUpload",value:a(function(o,c){var p=Math.round(Math.random()*1e12),_="tus::".concat(o,"::").concat(p);return localStorage.setItem(_,JSON.stringify(c)),Promise.resolve(_)},"addUpload")},{key:"_findEntries",value:a(function(o){for(var c=[],p=0;p<localStorage.length;p++){var _=localStorage.key(p);if(_.indexOf(o)===0)try{var M=JSON.parse(localStorage.getItem(_));M.urlStorageKey=_,c.push(M)}catch{}}return c},"_findEntries")}]),r}();function hy(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(hy,"_classCallCheck");function Rw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(Rw,"_defineProperties");function uy(r,o,c){return o&&Rw(r.prototype,o),c&&Rw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(uy,"_createClass");var MU=function(){function r(){hy(this,r)}return a(r,"XHRHttpStack"),uy(r,[{key:"createRequest",value:a(function(o,c){return new AU(o,c)},"createRequest")},{key:"getName",value:a(function(){return"XHRHttpStack"},"getName")}]),r}(),AU=function(){function r(o,c){hy(this,r),this._xhr=new XMLHttpRequest,this._xhr.open(o,c,!0),this._method=o,this._url=c,this._headers={}}return a(r,"Request"),uy(r,[{key:"getMethod",value:a(function(){return this._method},"getMethod")},{key:"getURL",value:a(function(){return this._url},"getURL")},{key:"setHeader",value:a(function(o,c){this._xhr.setRequestHeader(o,c),this._headers[o]=c},"setHeader")},{key:"getHeader",value:a(function(o){return this._headers[o]},"getHeader")},{key:"setProgressHandler",value:a(function(o){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(c){!c.lengthComputable||o(c.loaded)})},"setProgressHandler")},{key:"send",value:a(function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(p,_){o._xhr.onload=function(){p(new PU(o._xhr))},o._xhr.onerror=function(M){_(M)},o._xhr.send(c)})},"send")},{key:"abort",value:a(function(){return this._xhr.abort(),Promise.resolve()},"abort")},{key:"getUnderlyingObject",value:a(function(){return this._xhr},"getUnderlyingObject")}]),r}(),PU=function(){function r(o){hy(this,r),this._xhr=o}return a(r,"Response"),uy(r,[{key:"getStatus",value:a(function(){return this._xhr.status},"getStatus")},{key:"getHeader",value:a(function(o){return this._xhr.getResponseHeader(o)},"getHeader")},{key:"getBody",value:a(function(){return this._xhr.responseText},"getBody")},{key:"getUnderlyingObject",value:a(function(){return this._xhr},"getUnderlyingObject")}]),r}(),DU=a(function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},"isReactNative"),fA=DU;function pA(r){return new Promise(function(o,c){var p=new XMLHttpRequest;p.responseType="blob",p.onload=function(){var _=p.response;o(_)},p.onerror=function(_){c(_)},p.open("GET",r),p.send()})}a(pA,"uriToBlob");var LU=a(function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")},"isCordova"),RU=LU;function mA(r){return new Promise(function(o,c){var p=new FileReader;p.onload=function(){var _=new Uint8Array(p.result);o({value:_})},p.onerror=function(_){c(_)},p.readAsArrayBuffer(r)})}a(mA,"readAsByteArray");function gA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(gA,"_classCallCheck");function Fw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(Fw,"_defineProperties");function yA(r,o,c){return o&&Fw(r.prototype,o),c&&Fw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(yA,"_createClass");var vA=function(){function r(o){gA(this,r),this._file=o,this.size=o.size}return a(r,"FileSource"),yA(r,[{key:"slice",value:a(function(o,c){if(RU())return mA(this._file.slice(o,c));var p=this._file.slice(o,c);return Promise.resolve({value:p})},"slice")},{key:"close",value:a(function(){},"close")}]),r}();function bA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(bA,"_classCallCheck");function Iw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(Iw,"_defineProperties");function _A(r,o,c){return o&&Iw(r.prototype,o),c&&Iw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(_A,"_createClass");function Bw(r){return r===void 0?0:r.size!==void 0?r.size:r.length}a(Bw,"len");function wA(r,o){if(r.concat)return r.concat(o);if(r instanceof Blob)return new Blob([r,o],{type:r.type});if(r.set){var c=new r.constructor(r.length+o.length);return c.set(r),c.set(o,r.length),c}throw new Error("Unknown data type")}a(wA,"concat");var FU=function(){function r(o){bA(this,r),this._buffer=void 0,this._bufferOffset=0,this._reader=o,this._done=!1}return a(r,"StreamSource"),_A(r,[{key:"slice",value:a(function(o,c){return o<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(o,c)},"slice")},{key:"_readUntilEnoughDataOrDone",value:a(function(o,c){var p=this,_=c<=this._bufferOffset+Bw(this._buffer);if(this._done||_){var M=this._getDataFromBuffer(o,c),F=M==null?this._done:!1;return Promise.resolve({value:M,done:F})}return this._reader.read().then(function(N){var Y=N.value,re=N.done;return re?p._done=!0:p._buffer===void 0?p._buffer=Y:p._buffer=wA(p._buffer,Y),p._readUntilEnoughDataOrDone(o,c)})},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:a(function(o,c){o>this._bufferOffset&&(this._buffer=this._buffer.slice(o-this._bufferOffset),this._bufferOffset=o);var p=Bw(this._buffer)===0;return this._done&&p?null:this._buffer.slice(0,c-o)},"_getDataFromBuffer")},{key:"close",value:a(function(){this._reader.cancel&&this._reader.cancel()},"close")}]),r}();function xA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(xA,"_classCallCheck");function Nw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(Nw,"_defineProperties");function kA(r,o,c){return o&&Nw(r.prototype,o),c&&Nw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(kA,"_createClass");var IU=function(){function r(){xA(this,r)}return a(r,"FileReader"),kA(r,[{key:"openFile",value:a(function(o,c){return fA()&&o&&typeof o.uri<"u"?pA(o.uri).then(function(p){return new vA(p)}).catch(function(p){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(p))}):typeof o.slice=="function"&&typeof o.size<"u"?Promise.resolve(new vA(o)):typeof o.read=="function"?(c=Number(c),Number.isFinite(c)?Promise.resolve(new FU(o,c)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))},"openFile")}]),r}();function SA(r,o){return fA()?Promise.resolve(TA(r,o)):Promise.resolve(["tus-br",r.name,r.type,r.size,r.lastModified,o.endpoint].join("-"))}a(SA,"fingerprint");function TA(r,o){var c=r.exif?CA(JSON.stringify(r.exif)):"noexif";return["tus-rn",r.name||"noname",r.size||"nosize",c,o.endpoint].join("/")}a(TA,"reactNativeFingerprint");function CA(r){var o=0;if(r.length===0)return o;for(var c=0;c<r.length;c++){var p=r.charCodeAt(c);o=(o<<5)-o+p,o&=o}return o}a(CA,"hashCode");function dy(r){return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},dy(r)}a(dy,"_typeof");function EA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(EA,"_classCallCheck");function zw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(zw,"_defineProperties");function OA(r,o,c){return o&&zw(r.prototype,o),c&&zw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(OA,"_createClass");function MA(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&fy(r,o)}a(MA,"_inherits");function fy(r,o){return fy=Object.setPrototypeOf?Object.setPrototypeOf.bind():a(function(c,p){return c.__proto__=p,c},"_setPrototypeOf"),fy(r,o)}a(fy,"_setPrototypeOf");function AA(r){var o=LA();return a(function(){var c=Uf(r),p;if(o){var _=Uf(this).constructor;p=Reflect.construct(c,arguments,_)}else p=c.apply(this,arguments);return PA(this,p)},"_createSuperInternal")}a(AA,"_createSuper");function PA(r,o){if(o&&(dy(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DA(r)}a(PA,"_possibleConstructorReturn");function DA(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}a(DA,"_assertThisInitialized");function LA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}a(LA,"_isNativeReflectConstruct");function Uf(r){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():a(function(o){return o.__proto__||Object.getPrototypeOf(o)},"_getPrototypeOf"),Uf(r)}a(Uf,"_getPrototypeOf");function Uw(r,o){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);o&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),c.push.apply(c,p)}return c}a(Uw,"ownKeys");function uh(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?Uw(Object(c),!0).forEach(function(p){RA(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):Uw(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}a(uh,"_objectSpread");function RA(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}a(RA,"_defineProperty");var Hw=uh(uh({},Mw.defaultOptions),{},{httpStack:new MU,fileReader:new IU,urlStorage:EU?new OU:new CU,fingerprint:SA}),BU=function(r){MA(c,r);var o=AA(c);function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return EA(this,c),_=uh(uh({},Hw),_),o.call(this,p,_)}return a(c,"Upload"),OA(c,null,[{key:"terminate",value:a(function(p,_,M){return _=uh(uh({},Hw),_),Mw.terminate(p,_,M)},"terminate")}]),c}(Mw);function Ww(r){let o=[],c=[];function p(M){o.push(M)}a(p,"resolved");function _(M){c.push(M)}return a(_,"rejected"),Promise.all(r.map(M=>M.then(p,_))).then(()=>({successful:o,failed:c}))}a(Ww,"settle");function FA(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}a(FA,"isCordova");function IA(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}a(IA,"isReactNative");function BA(r){return(o,c)=>{if(FA()||IA())return Hw.fingerprint(o,c);let p=["tus",r.id,c.endpoint].join("-");return Promise.resolve(p)}}a(BA,"getFingerprint");function Fu(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Fu,"_classPrivateFieldLooseBase");var NU=0;function py(r){return"__private_"+NU+++"_"+r}a(py,"_classPrivateFieldLooseKey");var zU={version:"3.0.5"},NA={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Hf=py("retryDelayIterator"),Wf=py("queueRequestSocketToken"),jw=py("requestSocketToken"),jf=class extends Je{constructor(r,o){var c,p;super(r,o),Object.defineProperty(this,Hf,{writable:!0,value:void 0}),Object.defineProperty(this,Wf,{writable:!0,value:void 0}),Object.defineProperty(this,jw,{writable:!0,value:async M=>{let F=M.remote.providerOptions.provider?_s:da,N=new F(this.uppy,M.remote.providerOptions),Y={...this.opts};return M.tus&&Object.assign(Y,M.tus),(await N.post(M.remote.url,{...M.remote.body,endpoint:Y.endpoint,uploadUrl:Y.uploadUrl,protocol:"tus",size:M.data.size,headers:Y.headers,metadata:M.meta})).token}}),this.type="uploader",this.id=this.opts.id||"Tus",this.title="Tus";let _={useFastRemoteRetry:!0,limit:20,retryDelays:NA.retryDelays,withCredentials:!1};if(this.opts={..._,...o},(o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in o)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=(c=this.opts.rateLimitedQueue)!=null?c:new Xc(this.opts.limit),Fu(this,Hf)[Hf]=(p=this.opts.retryDelays)==null?void 0:p.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this),this.handleUpload=this.handleUpload.bind(this),Fu(this,Wf)[Wf]=this.requests.wrapPromiseFunction(Fu(this,jw)[jw],{priority:-1})}handleResetProgress(){let r={...this.uppy.getState().files};Object.keys(r).forEach(o=>{if(r[o].tus&&r[o].tus.uploadUrl){let c={...r[o].tus};delete c.uploadUrl,r[o]={...r[o],tus:c}}}),this.uppy.setState({files:r})}resetUploaderReferences(r,o){if(o===void 0&&(o={}),this.uploaders[r]){let c=this.uploaders[r];c.abort(),o.abort&&c.abort(!0),this.uploaders[r]=null}this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null),this.uploaderSockets[r]&&(this.uploaderSockets[r].close(),this.uploaderSockets[r]=null)}upload(r){var o=this;return this.resetUploaderReferences(r.id),new Promise((c,p)=>{let _,M,F;this.uppy.emit("upload-started",r);let N={...this.opts,...r.tus||{}};typeof N.headers=="function"&&(N.headers=N.headers(r));let Y={...NA,...N};Y.fingerprint=BA(r),Y.onBeforeRequest=fe=>{let Te=fe.getUnderlyingObject();Te.withCredentials=!!N.withCredentials;let Ye;if(typeof N.onBeforeRequest=="function"&&(Ye=N.onBeforeRequest(fe,r)),w(_,"shouldBeRequeued")){if(!_.shouldBeRequeued)return Promise.reject();let Nt,Et=new Promise(Qt=>{Nt=Qt});return _=this.requests.run(()=>(r.isPaused&&_.abort(),Nt(),()=>{})),Promise.all([Et,Ye])}return Ye},Y.onError=fe=>{var Te;this.uppy.log(fe);let Ye=fe.originalRequest?fe.originalRequest.getUnderlyingObject():null;ry(Ye)&&(fe=new ui(fe,Ye)),this.resetUploaderReferences(r.id),(Te=_)==null||Te.abort(),this.uppy.emit("upload-error",r,fe),p(fe)},Y.onProgress=(fe,Te)=>{this.onReceiveUploadUrl(r,F.url),this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:fe,bytesTotal:Te})},Y.onSuccess=()=>{let fe={uploadURL:F.url};this.resetUploaderReferences(r.id),_.done(),this.uppy.emit("upload-success",r,fe),F.url&&this.uppy.log(`Download ${F.file.name} from ${F.url}`),c(F)};let re=a(fe=>{var Te;let Ye=fe==null||(Te=fe.originalResponse)==null?void 0:Te.getStatus();if(Ye===429){if(!this.requests.isPaused){var Nt;let Et=(Nt=Fu(this,Hf)[Hf])==null?void 0:Nt.next();if(Et==null||Et.done)return!1;this.requests.rateLimit(Et.value)}}else{if(Ye>400&&Ye<500&&Ye!==409)return!1;typeof navigator<"u"&&navigator.onLine===!1&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return _.abort(),_={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0},"defaultOnShouldRetry");N.onShouldRetry!=null?Y.onShouldRetry=function(){for(var fe=arguments.length,Te=new Array(fe),Ye=0;Ye<fe;Ye++)Te[Ye]=arguments[Ye];return N.onShouldRetry(...Te,re)}:Y.onShouldRetry=re;let X=a((fe,Te,Ye)=>{w(fe,Te)&&!w(fe,Ye)&&(fe[Ye]=fe[Te])},"copyProp"),oe={};(Array.isArray(N.allowedMetaFields)?N.allowedMetaFields:Object.keys(r.meta)).forEach(fe=>{oe[fe]=r.meta[fe]}),X(oe,"type","filetype"),X(oe,"name","filename"),Y.metadata=oe,F=new BU(r.data,Y),this.uploaders[r.id]=F,this.uploaderEvents[r.id]=new yl(this.uppy),M=a(()=>(r.isPaused||F.start(),()=>{}),"qRequest"),F.findPreviousUploads().then(fe=>{let Te=fe[0];Te&&(this.uppy.log(`[Tus] Resuming upload of ${r.id} started at ${Te.creationTime}`),F.resumeFromPreviousUpload(Te))}),_=this.requests.run(M),this.onFileRemove(r.id,fe=>{_.abort(),this.resetUploaderReferences(r.id,{abort:!!F.url}),c(`upload ${fe} was removed`)}),this.onPause(r.id,fe=>{_.abort(),fe?F.abort():_=this.requests.run(M)}),this.onPauseAll(r.id,()=>{_.abort(),F.abort()}),this.onCancelAll(r.id,function(fe){let{reason:Te}=fe===void 0?{}:fe;Te==="user"&&(_.abort(),o.resetUploaderReferences(r.id,{abort:!!F.url})),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{_.abort(),r.error&&F.abort(),_=this.requests.run(M)})}).catch(c=>{throw this.uppy.emit("upload-error",r,c),c})}async uploadRemote(r){this.resetUploaderReferences(r.id),(!r.progress.uploadStarted||!r.isRestored)&&this.uppy.emit("upload-started",r);try{if(r.serverToken)return this.connectToServerSocket(r);let o=await Fu(this,Wf)[Wf](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(o){throw this.uppy.emit("upload-error",r,o),o}}connectToServerSocket(r){var o=this;return new Promise((c,p)=>{let _=r.serverToken,M=vf(r.remote.companionUrl),F=new _u({target:`${M}/api/${_}`});this.uploaderSockets[r.id]=F,this.uploaderEvents[r.id]=new yl(this.uppy);let N;this.onFileRemove(r.id,()=>{N.abort(),F.send("cancel",{}),this.resetUploaderReferences(r.id),c(`upload ${r.id} was removed`)}),this.onPause(r.id,Y=>{Y?(N.abort(),F.send("pause",{})):(N.abort(),N=this.requests.run(()=>(F.send("resume",{}),()=>{})))}),this.onPauseAll(r.id,()=>{N.abort(),F.send("pause",{})}),this.onCancelAll(r.id,function(Y){let{reason:re}=Y===void 0?{}:Y;re==="user"&&(N.abort(),F.send("cancel",{}),o.resetUploaderReferences(r.id)),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{N.abort(),r.error&&F.send("pause",{}),N=this.requests.run(()=>(F.send("resume",{}),()=>{}))}),this.onRetry(r.id,()=>{F.isOpen&&(F.send("pause",{}),F.send("resume",{}))}),this.onRetryAll(r.id,()=>{F.isOpen&&(F.send("pause",{}),F.send("resume",{}))}),F.on("progress",Y=>iy(this,Y,r)),F.on("error",Y=>{let{message:re}=Y.error,X=Object.assign(new Error(re),{cause:Y.error});this.opts.useFastRemoteRetry?F.close():(this.resetUploaderReferences(r.id),this.uppy.setFileState(r.id,{serverToken:null})),this.uppy.emit("upload-error",r,X),N.done(),p(X)}),F.on("success",Y=>{let re={uploadURL:Y.url};this.uppy.emit("upload-success",r,re),this.resetUploaderReferences(r.id),N.done(),c()}),N=this.requests.run(()=>(r.isPaused&&F.send("pause",{}),()=>{}))})}onReceiveUploadUrl(r,o){let c=this.uppy.getFile(r.id);!c||(!c.tus||c.tus.uploadUrl!==o)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(c.id,{tus:{...c.tus,uploadUrl:o}}))}onFileRemove(r,o){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&o(c.id)})}onPause(r,o){this.uploaderEvents[r].on("upload-pause",(c,p)=>{r===c&&o(p)})}onRetry(r,o){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&o()})}onRetryAll(r,o){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||o()})}onPauseAll(r,o){this.uploaderEvents[r].on("pause-all",()=>{!this.uppy.getFile(r)||o()})}onCancelAll(r,o){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||o(...arguments)})}onResumeAll(r,o){this.uploaderEvents[r].on("resume-all",()=>{!this.uppy.getFile(r)||o()})}uploadFiles(r){let o=r.map((c,p)=>{let _=p+1,M=r.length;return"error"in c&&c.error?Promise.reject(new Error(c.error)):c.isRemote?((!c.progress.uploadStarted||!c.isRestored)&&this.uppy.emit("upload-started",c),this.uploadRemote(c,_,M)):((!c.progress.uploadStarted||!c.isRestored)&&this.uppy.emit("upload-started",c),this.upload(c,_,M))});return Ww(o)}handleUpload(r){if(r.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");let o=r.map(c=>this.uppy.getFile(c));return this.uploadFiles(o).then(()=>null)}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(this.handleUpload)}};a(jf,"Tus"),jf.VERSION=zU.version;var UU=y(U(),1),Mo=Object.create(null);Mo.open="0",Mo.close="1",Mo.ping="2",Mo.pong="3",Mo.message="4",Mo.upgrade="5",Mo.noop="6";var my=Object.create(null);Object.keys(Mo).forEach(r=>{my[Mo[r]]=r});var HU={type:"error",data:"parser error"},WU=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",jU=typeof ArrayBuffer=="function",qU=a(r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,"isView"),$U=a(({type:r,data:o},c,p)=>WU&&o instanceof Blob?c?p(o):zA(o,p):jU&&(o instanceof ArrayBuffer||qU(o))?c?p(o):zA(new Blob([o]),p):p(Mo[r]+(o||"")),"encodePacket"),zA=a((r,o)=>{let c=new FileReader;return c.onload=function(){let p=c.result.split(",")[1];o("b"+p)},c.readAsDataURL(r)},"encodeBlobAsBase64"),UA=$U,HA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<HA.length;r++)qf[HA.charCodeAt(r)]=r;var VU=a(r=>{let o=r.length*.75,c=r.length,p,_=0,M,F,N,Y;r[r.length-1]==="="&&(o--,r[r.length-2]==="="&&o--);let re=new ArrayBuffer(o),X=new Uint8Array(re);for(p=0;p<c;p+=4)M=qf[r.charCodeAt(p)],F=qf[r.charCodeAt(p+1)],N=qf[r.charCodeAt(p+2)],Y=qf[r.charCodeAt(p+3)],X[_++]=M<<2|F>>4,X[_++]=(F&15)<<4|N>>2,X[_++]=(N&3)<<6|Y&63;return re},"decode"),YU=typeof ArrayBuffer=="function",GU=a((r,o)=>{if(typeof r!="string")return{type:"message",data:WA(r,o)};let c=r.charAt(0);return c==="b"?{type:"message",data:XU(r.substring(1),o)}:my[c]?r.length>1?{type:my[c],data:r.substring(1)}:{type:my[c]}:HU},"decodePacket"),XU=a((r,o)=>{if(YU){let c=VU(r);return WA(c,o)}else return{base64:!0,data:r}},"decodeBase64Packet"),WA=a((r,o)=>{switch(o){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}},"mapBinary"),jA=GU,qA="",KU=a((r,o)=>{let c=r.length,p=new Array(c),_=0;r.forEach((M,F)=>{UA(M,!1,N=>{p[F]=N,++_===c&&o(p.join(qA))})})},"encodePayload"),ZU=a((r,o)=>{let c=r.split(qA),p=[];for(let _=0;_<c.length;_++){let M=jA(c[_],o);if(p.push(M),M.type==="error")break}return p},"decodePayload"),$A=4;function xs(r){if(r)return VA(r)}a(xs,"Emitter");function VA(r){for(var o in xs.prototype)r[o]=xs.prototype[o];return r}a(VA,"mixin"),xs.prototype.on=xs.prototype.addEventListener=function(r,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(o),this},xs.prototype.once=function(r,o){function c(){this.off(r,c),o.apply(this,arguments)}return a(c,"on"),c.fn=o,this.on(r,c),this},xs.prototype.off=xs.prototype.removeListener=xs.prototype.removeAllListeners=xs.prototype.removeEventListener=function(r,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var c=this._callbacks["$"+r];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var p,_=0;_<c.length;_++)if(p=c[_],p===o||p.fn===o){c.splice(_,1);break}return c.length===0&&delete this._callbacks["$"+r],this},xs.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),c=this._callbacks["$"+r],p=1;p<arguments.length;p++)o[p-1]=arguments[p];if(c){c=c.slice(0);for(var p=0,_=c.length;p<_;++p)c[p].apply(this,o)}return this},xs.prototype.emitReserved=xs.prototype.emit,xs.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},xs.prototype.hasListeners=function(r){return!!this.listeners(r).length};var ac=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function qw(r,...o){return o.reduce((c,p)=>(r.hasOwnProperty(p)&&(c[p]=r[p]),c),{})}a(qw,"pick");var QU=setTimeout,JU=clearTimeout;function $f(r,o){o.useNativeTimers?(r.setTimeoutFn=QU.bind(ac),r.clearTimeoutFn=JU.bind(ac)):(r.setTimeoutFn=setTimeout.bind(ac),r.clearTimeoutFn=clearTimeout.bind(ac))}a($f,"installTimerFunctions");var eH=1.33;function YA(r){return typeof r=="string"?GA(r):Math.ceil((r.byteLength||r.size)*eH)}a(YA,"byteLength");function GA(r){let o=0,c=0;for(let p=0,_=r.length;p<_;p++)o=r.charCodeAt(p),o<128?c+=1:o<2048?c+=2:o<55296||o>=57344?c+=3:(p++,c+=4);return c}a(GA,"utf8Length");var XA=class extends Error{constructor(r,o,c){super(r),this.description=o,this.context=c,this.type="TransportError"}};a(XA,"TransportError");var $w=class extends xs{constructor(r){super(),this.writable=!1,$f(this,r),this.opts=r,this.query=r.query,this.readyState="",this.socket=r.socket}onError(r,o,c){return super.emitReserved("error",new XA(r,o,c)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let o=jA(r,this.socket.binaryType);this.onPacket(o)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}};a($w,"Transport");var KA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Vw=64,tH={},ZA=0,gy=0,QA;function Yw(r){let o="";do o=KA[r%Vw]+o,r=Math.floor(r/Vw);while(r>0);return o}a(Yw,"encode");function Gw(){let r=Yw(+new Date);return r!==QA?(ZA=0,QA=r):r+"."+Yw(ZA++)}for(a(Gw,"yeast");gy<Vw;gy++)tH[KA[gy]]=gy;function Xw(r){let o="";for(let c in r)r.hasOwnProperty(c)&&(o.length&&(o+="&"),o+=encodeURIComponent(c)+"="+encodeURIComponent(r[c]));return o}a(Xw,"encode");function JA(r){let o={},c=r.split("&");for(let p=0,_=c.length;p<_;p++){let M=c[p].split("=");o[decodeURIComponent(M[0])]=decodeURIComponent(M[1])}return o}a(JA,"decode");var eP=!1;try{eP=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var iH=eP;function Kw(r){let o=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!o||iH))return new XMLHttpRequest}catch{}if(!o)try{return new ac[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}a(Kw,"XHR");function tP(){}a(tP,"empty");var rH=function(){return new Kw({xdomain:!1}).responseType!=null}(),iP=class extends $w{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){let c=location.protocol==="https:",p=location.port;p||(p=c?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||p!==r.port,this.xs=r.secure!==c}let o=r&&r.forceBase64;this.supportsBinary=rH&&!o}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";let o=a(()=>{this.readyState="paused",r()},"pause");if(this.polling||!this.writable){let c=0;this.polling&&(c++,this.once("pollComplete",function(){--c||o()})),this.writable||(c++,this.once("drain",function(){--c||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let o=a(c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)},"callback");ZU(r,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let r=a(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,KU(r,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.query||{},o=this.opts.secure?"https":"http",c="";this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Gw()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.opts.port&&(o==="https"&&Number(this.opts.port)!==443||o==="http"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port);let p=Xw(r),_=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+(p.length?"?"+p:"")}request(r={}){return Object.assign(r,{xd:this.xd,xs:this.xs},this.opts),new Ao(this.uri(),r)}doWrite(r,o){let c=this.request({method:"POST",data:r});c.on("success",o),c.on("error",(p,_)=>{this.onError("xhr post error",p,_)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(o,c)=>{this.onError("xhr poll error",o,c)}),this.pollXhr=r}};a(iP,"Polling");var Ao=class extends xs{constructor(r,o){super(),$f(this,o),this.opts=o,this.method=o.method||"GET",this.uri=r,this.async=o.async!==!1,this.data=o.data!==void 0?o.data:null,this.create()}create(){let r=qw(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd,r.xscheme=!!this.opts.xs;let o=this.xhr=new Kw(r);try{o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this.opts.extraHeaders[c])}}catch{}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=()=>{o.readyState===4&&(o.status===200||o.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof o.status=="number"?o.status:0)},0))},o.send(this.data)}catch(c){this.setTimeoutFn(()=>{this.onError(c)},0);return}typeof document<"u"&&(this.index=Ao.requestsCount++,Ao.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=tP,r)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ao.requests[this.index],this.xhr=null}}onLoad(){let r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(a(Ao,"Request"),Ao.requestsCount=0,Ao.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Zw);else if(typeof addEventListener=="function"){let r="onpagehide"in ac?"pagehide":"unload";addEventListener(r,Zw,!1)}}function Zw(){for(let r in Ao.requests)Ao.requests.hasOwnProperty(r)&&Ao.requests[r].abort()}a(Zw,"unloadHandler");var sH=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,o)=>o(r,0),yy=ac.WebSocket||ac.MozWebSocket,rP=!0,nH="arraybuffer",sP=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",nP=class extends $w{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let r=this.uri(),o=this.opts.protocols,c=sP?{}:qw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=rP&&!sP?o?new yy(r,o):new yy(r):new yy(r,o,c)}catch(p){return this.emitReserved("error",p)}this.ws.binaryType=this.socket.binaryType||nH,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let o=0;o<r.length;o++){let c=r[o],p=o===r.length-1;UA(c,this.supportsBinary,_=>{let M={};try{rP?this.ws.send(_):this.ws.send(_,M)}catch{}p&&sH(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let r=this.query||{},o=this.opts.secure?"wss":"ws",c="";this.opts.port&&(o==="wss"&&Number(this.opts.port)!==443||o==="ws"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port),this.opts.timestampRequests&&(r[this.opts.timestampParam]=Gw()),this.supportsBinary||(r.b64=1);let p=Xw(r),_=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+(p.length?"?"+p:"")}check(){return!!yy}};a(nP,"WS");var aH={websocket:nP,polling:iP},oH=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,lH=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function vy(r){let o=r,c=r.indexOf("["),p=r.indexOf("]");c!=-1&&p!=-1&&(r=r.substring(0,c)+r.substring(c,p).replace(/:/g,";")+r.substring(p,r.length));let _=oH.exec(r||""),M={},F=14;for(;F--;)M[lH[F]]=_[F]||"";return c!=-1&&p!=-1&&(M.source=o,M.host=M.host.substring(1,M.host.length-1).replace(/;/g,":"),M.authority=M.authority.replace("[","").replace("]","").replace(/;/g,":"),M.ipv6uri=!0),M.pathNames=aP(M,M.path),M.queryKey=oP(M,M.query),M}a(vy,"parse");function aP(r,o){let c=/\/{2,9}/g,p=o.replace(c,"/").split("/");return(o.substr(0,1)=="/"||o.length===0)&&p.splice(0,1),o.substr(o.length-1,1)=="/"&&p.splice(p.length-1,1),p}a(aP,"pathNames");function oP(r,o){let c={};return o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(p,_,M){_&&(c[_]=M)}),c}a(oP,"queryKey");var wl=class extends xs{constructor(r,o={}){super(),r&&typeof r=="object"&&(o=r,r=null),r?(r=vy(r),o.hostname=r.host,o.secure=r.protocol==="https"||r.protocol==="wss",o.port=r.port,r.query&&(o.query=r.query)):o.host&&(o.hostname=vy(o.host).host),$f(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=JA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){let o=Object.assign({},this.opts.query);o.EIO=$A,o.transport=r,this.id&&(o.sid=this.id);let c=Object.assign({},this.opts.transportOptions[r],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new aH[r](c)}open(){let r;if(this.opts.rememberUpgrade&&wl.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch{this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(r){let o=this.createTransport(r),c=!1;wl.priorWebsocketSuccess=!1;let p=a(()=>{c||(o.send([{type:"ping",data:"probe"}]),o.once("packet",X=>{if(!c)if(X.type==="pong"&&X.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;wl.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(re(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{let oe=new Error("probe error");oe.transport=o.name,this.emitReserved("upgradeError",oe)}}))},"onTransportOpen");function _(){c||(c=!0,re(),o.close(),o=null)}a(_,"freezeTransport");let M=a(X=>{let oe=new Error("probe error: "+X);oe.transport=o.name,_(),this.emitReserved("upgradeError",oe)},"onerror");function F(){M("transport closed")}a(F,"onTransportClose");function N(){M("socket closed")}a(N,"onclose");function Y(X){o&&X.name!==o.name&&_()}a(Y,"onupgrade");let re=a(()=>{o.removeListener("open",p),o.removeListener("error",M),o.removeListener("close",F),this.off("close",N),this.off("upgrading",Y)},"cleanup");o.once("open",p),o.once("error",M),o.once("close",F),this.once("close",N),this.once("upgrading",Y),o.open()}onOpen(){if(this.readyState="open",wl.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let r=0,o=this.upgrades.length;for(;r<o;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let o=new Error("server error");o.code=r.data,this.onError(o);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let r=this.getWritablePackets();this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let o=0;o<this.writeBuffer.length;o++){let c=this.writeBuffer[o].data;if(c&&(r+=YA(c)),o>0&&r>this.maxPayload)return this.writeBuffer.slice(0,o);r+=2}return this.writeBuffer}write(r,o,c){return this.sendPacket("message",r,o,c),this}send(r,o,c){return this.sendPacket("message",r,o,c),this}sendPacket(r,o,c,p){if(typeof o=="function"&&(p=o,o=void 0),typeof c=="function"&&(p=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;let _={type:r,data:o,options:c};this.emitReserved("packetCreate",_),this.writeBuffer.push(_),p&&this.once("flush",p),this.flush()}close(){let r=a(()=>{this.onClose("forced close"),this.transport.close()},"close"),o=a(()=>{this.off("upgrade",o),this.off("upgradeError",o),r()},"cleanupAndClose"),c=a(()=>{this.once("upgrade",o),this.once("upgradeError",o)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():r()}):this.upgrading?c():r()),this}onError(r){wl.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",r,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){let o=[],c=0,p=r.length;for(;c<p;c++)~this.transports.indexOf(r[c])&&o.push(r[c]);return o}};a(wl,"Socket"),wl.protocol=$A,wl.protocol;function lP(r,o="",c){let p=r;c=c||typeof location<"u"&&location,r==null&&(r=c.protocol+"//"+c.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=c.protocol+r:r=c.host+r),/^(https?|wss?):\/\//.test(r)||(typeof c<"u"?r=c.protocol+"//"+r:r="https://"+r),p=vy(r)),p.port||(/^(http|ws)$/.test(p.protocol)?p.port="80":/^(http|ws)s$/.test(p.protocol)&&(p.port="443")),p.path=p.path||"/";let _=p.host.indexOf(":")!==-1?"["+p.host+"]":p.host;return p.id=p.protocol+"://"+_+":"+p.port+o,p.href=p.protocol+"://"+_+(c&&c.port===p.port?"":":"+p.port),p}a(lP,"url");var cP={};d(cP,{Decoder:()=>Qw,Encoder:()=>fP,PacketType:()=>mr,protocol:()=>fH});var cH=typeof ArrayBuffer=="function",hH=a(r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,"isView"),hP=Object.prototype.toString,uH=typeof Blob=="function"||typeof Blob<"u"&&hP.call(Blob)==="[object BlobConstructor]",dH=typeof File=="function"||typeof File<"u"&&hP.call(File)==="[object FileConstructor]";function by(r){return cH&&(r instanceof ArrayBuffer||hH(r))||uH&&r instanceof Blob||dH&&r instanceof File}a(by,"isBinary");function Vf(r,o){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let c=0,p=r.length;c<p;c++)if(Vf(r[c]))return!0;return!1}if(by(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Vf(r.toJSON(),!0);for(let c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&Vf(r[c]))return!0;return!1}a(Vf,"hasBinary");function uP(r){let o=[],c=r.data,p=r;return p.data=_y(c,o),p.attachments=o.length,{packet:p,buffers:o}}a(uP,"deconstructPacket");function _y(r,o){if(!r)return r;if(by(r)){let c={_placeholder:!0,num:o.length};return o.push(r),c}else if(Array.isArray(r)){let c=new Array(r.length);for(let p=0;p<r.length;p++)c[p]=_y(r[p],o);return c}else if(typeof r=="object"&&!(r instanceof Date)){let c={};for(let p in r)Object.prototype.hasOwnProperty.call(r,p)&&(c[p]=_y(r[p],o));return c}return r}a(_y,"_deconstructPacket");function dP(r,o){return r.data=wy(r.data,o),r.attachments=void 0,r}a(dP,"reconstructPacket");function wy(r,o){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<o.length)return o[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let c=0;c<r.length;c++)r[c]=wy(r[c],o);else if(typeof r=="object")for(let c in r)Object.prototype.hasOwnProperty.call(r,c)&&(r[c]=wy(r[c],o));return r}a(wy,"_reconstructPacket");var fH=5,mr;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(mr||(mr={}));var fP=class{constructor(r){this.replacer=r}encode(r){return(r.type===mr.EVENT||r.type===mr.ACK)&&Vf(r)?(r.type=r.type===mr.EVENT?mr.BINARY_EVENT:mr.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}encodeAsString(r){let o=""+r.type;return(r.type===mr.BINARY_EVENT||r.type===mr.BINARY_ACK)&&(o+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(o+=r.nsp+","),r.id!=null&&(o+=r.id),r.data!=null&&(o+=JSON.stringify(r.data,this.replacer)),o}encodeAsBinary(r){let o=uP(r),c=this.encodeAsString(o.packet),p=o.buffers;return p.unshift(c),p}};a(fP,"Encoder");var Qw=class extends xs{constructor(r){super(),this.reviver=r}add(r){let o;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(r),o.type===mr.BINARY_EVENT||o.type===mr.BINARY_ACK?(this.reconstructor=new pP(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(by(r)||r.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(r),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let o=0,c={type:Number(r.charAt(0))};if(mr[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===mr.BINARY_EVENT||c.type===mr.BINARY_ACK){let _=o+1;for(;r.charAt(++o)!=="-"&&o!=r.length;);let M=r.substring(_,o);if(M!=Number(M)||r.charAt(o)!=="-")throw new Error("Illegal attachments");c.attachments=Number(M)}if(r.charAt(o+1)==="/"){let _=o+1;for(;++o&&!(r.charAt(o)===","||o===r.length););c.nsp=r.substring(_,o)}else c.nsp="/";let p=r.charAt(o+1);if(p!==""&&Number(p)==p){let _=o+1;for(;++o;){let M=r.charAt(o);if(M==null||Number(M)!=M){--o;break}if(o===r.length)break}c.id=Number(r.substring(_,o+1))}if(r.charAt(++o)){let _=this.tryParse(r.substr(o));if(Qw.isPayloadValid(c.type,_))c.data=_;else throw new Error("invalid payload")}return c}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,o){switch(r){case mr.CONNECT:return typeof o=="object";case mr.DISCONNECT:return o===void 0;case mr.CONNECT_ERROR:return typeof o=="string"||typeof o=="object";case mr.EVENT:case mr.BINARY_EVENT:return Array.isArray(o)&&o.length>0;case mr.ACK:case mr.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};a(Qw,"Decoder");var pP=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let o=dP(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};a(pP,"BinaryReconstructor");function Da(r,o,c){return r.on(o,c),a(function(){r.off(o,c)},"subDestroy")}a(Da,"on");var pH=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Jw=class extends xs{constructor(r,o,c){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=o,c&&c.auth&&(this.auth=c.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[Da(r,"open",this.onopen.bind(this)),Da(r,"packet",this.onpacket.bind(this)),Da(r,"error",this.onerror.bind(this)),Da(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...o){if(pH.hasOwnProperty(r))throw new Error('"'+r+'" is a reserved event name');o.unshift(r);let c={type:mr.EVENT,data:o};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){let _=this.ids++,M=o.pop();this._registerAckCallback(_,M),c.id=_}let p=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!p||!this.connected)||(this.connected?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(r,o){let c=this.flags.timeout;if(c===void 0){this.acks[r]=o;return}let p=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let _=0;_<this.sendBuffer.length;_++)this.sendBuffer[_].id===r&&this.sendBuffer.splice(_,1);o.call(this,new Error("operation has timed out"))},c);this.acks[r]=(..._)=>{this.io.clearTimeoutFn(p),o.apply(this,[null,..._])}}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this.packet({type:mr.CONNECT,data:r})}):this.packet({type:mr.CONNECT,data:this.auth})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,o)}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case mr.CONNECT:if(r.data&&r.data.sid){let c=r.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case mr.EVENT:case mr.BINARY_EVENT:this.onevent(r);break;case mr.ACK:case mr.BINARY_ACK:this.onack(r);break;case mr.DISCONNECT:this.ondisconnect();break;case mr.CONNECT_ERROR:this.destroy();let o=new Error(r.data.message);o.data=r.data.data,this.emitReserved("connect_error",o);break}}onevent(r){let o=r.data||[];r.id!=null&&o.push(this.ack(r.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let o=this._anyListeners.slice();for(let c of o)c.apply(this,r)}super.emit.apply(this,r)}ack(r){let o=this,c=!1;return function(...p){c||(c=!0,o.packet({type:mr.ACK,id:r,data:p}))}}onack(r){let o=this.acks[r.id];typeof o=="function"&&(o.apply(this,r.data),delete this.acks[r.id])}onconnect(r){this.id=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:mr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let o=this._anyListeners;for(let c=0;c<o.length;c++)if(r===o[c])return o.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let o=this._anyOutgoingListeners;for(let c=0;c<o.length;c++)if(r===o[c])return o.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let o=this._anyOutgoingListeners.slice();for(let c of o)c.apply(this,r.data)}}};a(Jw,"Socket");function dh(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}a(dh,"Backoff"),dh.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),c=Math.floor(o*this.jitter*r);r=Math.floor(o*10)&1?r+c:r-c}return Math.min(r,this.max)|0},dh.prototype.reset=function(){this.attempts=0},dh.prototype.setMin=function(r){this.ms=r},dh.prototype.setMax=function(r){this.max=r},dh.prototype.setJitter=function(r){this.jitter=r};var xy=class extends xs{constructor(r,o){var c;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(o=r,r=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,$f(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((c=o.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new dh({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=r;let p=o.parser||cP;this.encoder=new p.Encoder,this.decoder=new p.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var o;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(o=this.backoff)===null||o===void 0||o.setMin(r),this)}randomizationFactor(r){var o;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(o=this.backoff)===null||o===void 0||o.setJitter(r),this)}reconnectionDelayMax(r){var o;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(o=this.backoff)===null||o===void 0||o.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new wl(this.uri,this.opts);let o=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;let p=Da(o,"open",function(){c.onopen(),r&&r()}),_=Da(o,"error",M=>{c.cleanup(),c._readyState="closed",this.emitReserved("error",M),r?r(M):c.maybeReconnectOnOpen()});if(this._timeout!==!1){let M=this._timeout;M===0&&p();let F=this.setTimeoutFn(()=>{p(),o.close(),o.emit("error",new Error("timeout"))},M);this.opts.autoUnref&&F.unref(),this.subs.push(a(function(){clearTimeout(F)},"subDestroy"))}return this.subs.push(p),this.subs.push(_),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(Da(r,"ping",this.onping.bind(this)),Da(r,"data",this.ondata.bind(this)),Da(r,"error",this.onerror.bind(this)),Da(r,"close",this.onclose.bind(this)),Da(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){this.decoder.add(r)}ondecoded(r){this.emitReserved("packet",r)}onerror(r){this.emitReserved("error",r)}socket(r,o){let c=this.nsps[r];return c||(c=new Jw(this,r,o),this.nsps[r]=c),c}_destroy(r){let o=Object.keys(this.nsps);for(let c of o)if(this.nsps[c].active)return;this._close()}_packet(r){let o=this.encoder.encode(r);for(let c=0;c<o.length;c++)this.engine.write(o[c],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let o=this.backoff.duration();this._reconnecting=!0;let c=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(p=>{p?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",p)):r.onreconnect()}))},o);this.opts.autoUnref&&c.unref(),this.subs.push(a(function(){clearTimeout(c)},"subDestroy"))}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}};a(xy,"Manager");var Yf={};function Gf(r,o){typeof r=="object"&&(o=r,r=void 0),o=o||{};let c=lP(r,o.path||"/socket.io"),p=c.source,_=c.id,M=c.path,F=Yf[_]&&M in Yf[_].nsps,N=o.forceNew||o["force new connection"]||o.multiplex===!1||F,Y;return N?Y=new xy(p,o):(Yf[_]||(Yf[_]=new xy(p,o)),Y=Yf[_]),c.query&&!o.query&&(o.query=c.queryKey),Y.socket(c.path,o)}a(Gf,"lookup"),Object.assign(Gf,{Manager:xy,Socket:Jw,io:Gf,connect:Gf});function mP(r){let o=/^\w+:\/\//.exec(r),c=0;o&&(c=o[0].length+1);let p=r.indexOf("/",c);return p===-1?{origin:r,pathname:"/"}:{origin:r.slice(0,p),pathname:r.slice(p)}}a(mP,"parseUrl");function ks(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ks,"_classPrivateFieldLooseBase");var mH=0;function Po(r){return"__private_"+mH+++"_"+r}a(Po,"_classPrivateFieldLooseKey");var gH="ASSEMBLY_UPLOADING",e1="ASSEMBLY_EXECUTING",t1="ASSEMBLY_COMPLETED",gP=[gH,e1,t1];function Xf(r,o){return gP.indexOf(r)>=gP.indexOf(o)}a(Xf,"isStatus");var fh=Po("rateLimitedQueue"),Kf=Po("fetchWithNetworkError"),ph=Po("previousFetchStatusStillPending"),i1=Po("onFinished"),r1=Po("connectSocket"),xl=Po("onError"),s1=Po("beginPolling"),kl=Po("fetchStatus"),n1=Po("diffStatus"),yP=class extends UU.default{constructor(r,o){super(),Object.defineProperty(this,n1,{value:kP}),Object.defineProperty(this,kl,{value:xP}),Object.defineProperty(this,s1,{value:wP}),Object.defineProperty(this,xl,{value:_P}),Object.defineProperty(this,r1,{value:bP}),Object.defineProperty(this,i1,{value:vP}),Object.defineProperty(this,fh,{writable:!0,value:void 0}),Object.defineProperty(this,Kf,{writable:!0,value:void 0}),Object.defineProperty(this,ph,{writable:!0,value:!1}),this.status=r,this.socket=null,this.pollInterval=null,this.closed=!1,ks(this,fh)[fh]=o,ks(this,Kf)[Kf]=o.wrapPromiseFunction(Gr)}connect(){ks(this,r1)[r1](),ks(this,s1)[s1]()}update(){return ks(this,kl)[kl]({diff:!0})}updateStatus(r){ks(this,n1)[n1](this.status,r),this.status=r}close(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}};a(yP,"TransloaditAssembly");function vP(){this.emit("finished"),this.close()}a(vP,"_onFinished2");function bP(){let r=mP(this.status.websocket_url),o=Gf(r.origin,{transports:["websocket"],path:r.pathname});o.on("connect",()=>{o.emit("assembly_connect",{id:this.status.assembly_id}),this.emit("connect")}),o.on("connect_error",()=>{o.disconnect(),this.socket=null}),o.on("assembly_finished",()=>{ks(this,i1)[i1]()}),o.on("assembly_upload_finished",c=>{this.emit("upload",c),this.status.uploads.push(c)}),o.on("assembly_uploading_finished",()=>{this.emit("executing")}),o.on("assembly_upload_meta_data_extracted",()=>{this.emit("metadata"),ks(this,kl)[kl]({diff:!1})}),o.on("assembly_result_finished",(c,p)=>{this.emit("result",c,p),this.status.results[c]||(this.status.results[c]=[]),this.status.results[c].push(p)}),o.on("assembly_error",c=>{ks(this,xl)[xl](c),ks(this,kl)[kl]({diff:!1})}),this.socket=o}a(bP,"_connectSocket2");function _P(r){this.emit("error",Object.assign(new Error(r.message),r)),this.close()}a(_P,"_onError2");function wP(){this.pollInterval=setInterval(()=>{(!this.socket||!this.socket.connected)&&ks(this,kl)[kl]()},2e3)}a(wP,"_beginPolling2");async function xP(r){let{diff:o=!0}=r===void 0?{}:r;if(!(this.closed||ks(this,fh)[fh].isPaused||ks(this,ph)[ph]))try{ks(this,ph)[ph]=!0;let c=await ks(this,Kf)[Kf](this.status.assembly_ssl_url);if(ks(this,ph)[ph]=!1,this.closed)return;if(c.status===429){ks(this,fh)[fh].rateLimit(2e3);return}if(!c.ok){ks(this,xl)[xl](new ui(c.statusText));return}let p=await c.json();if(this.closed)return;this.emit("status",p),o?this.updateStatus(p):this.status=p}catch(c){ks(this,xl)[xl](c)}}a(xP,"_fetchStatus2");function kP(r,o){let c=r.ok,p=o.ok;if(o.error&&!r.error)return ks(this,xl)[xl](o);let _=Xf(p,e1)&&!Xf(c,e1);_&&this.emit("executing"),Object.keys(o.uploads).filter(M=>!w(r.uploads,M)).forEach(M=>{this.emit("upload",o.uploads[M])}),_&&this.emit("metadata"),Object.keys(o.results).forEach(M=>{let F=o.results[M],N=r.results[M];F.filter(Y=>!N||!N.some(re=>re.id===Y.id)).forEach(Y=>{this.emit("result",M,Y)})}),Xf(p,t1)&&!Xf(c,t1)&&this.emit("finished")}a(kP,"_diffStatus2");var SP=yP;function ls(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ls,"_classPrivateFieldLooseBase");var yH=0;function Zf(r){return"__private_"+yH+++"_"+r}a(Zf,"_classPrivateFieldLooseKey");var TP="/assemblies",Bn=Zf("headers"),Qf=Zf("fetchWithNetworkError"),nn=Zf("fetchJSON"),va=Zf("reportError"),CP=class{constructor(r){r===void 0&&(r={}),Object.defineProperty(this,nn,{value:EP}),Object.defineProperty(this,Bn,{writable:!0,value:{}}),Object.defineProperty(this,Qf,{writable:!0,value:void 0}),Object.defineProperty(this,va,{writable:!0,value:(o,c)=>{if(this.opts.errorReporting===!1)throw o;let p={type:c.type};throw c.assembly&&(p.assembly=c.assembly.assembly_id,p.instance=c.assembly.instance),c.url&&(p.endpoint=c.url),this.submitError(o,p).catch(()=>{}),o}}),this.opts=r,this.opts.client!=null&&(ls(this,Bn)[Bn]["Transloadit-Client"]=this.opts.client),ls(this,Qf)[Qf]=this.opts.rateLimitedQueue.wrapPromiseFunction(Gr)}createAssembly(r){let{params:o,fields:c,signature:p,expectedFiles:_}=r,M=new FormData;M.append("params",typeof o=="string"?o:JSON.stringify(o)),p&&M.append("signature",p),Object.keys(c).forEach(N=>{M.append(N,c[N])}),M.append("num_expected_upload_files",_);let F=new URL(TP,`${this.opts.service}`).href;return ls(this,nn)[nn](F,{method:"post",headers:ls(this,Bn)[Bn],body:M}).catch(N=>ls(this,va)[va](N,{url:F,type:"API_ERROR"}))}reserveFile(r,o){let c=encodeURIComponent(o.size),p=`${r.assembly_ssl_url}/reserve_file?size=${c}`;return ls(this,nn)[nn](p,{method:"post",headers:ls(this,Bn)[Bn]}).catch(_=>ls(this,va)[va](_,{assembly:r,file:o,url:p,type:"API_ERROR"}))}addFile(r,o){if(!o.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));let c=encodeURIComponent(o.size),p=encodeURIComponent(o.uploadURL),_=encodeURIComponent(o.name),M=`size=${c}&filename=${_}&fieldname=file&s3Url=${p}`,F=`${r.assembly_ssl_url}/add_file?${M}`;return ls(this,nn)[nn](F,{method:"post",headers:ls(this,Bn)[Bn]}).catch(N=>ls(this,va)[va](N,{assembly:r,file:o,url:F,type:"API_ERROR"}))}updateNumberOfFilesInAssembly(r,o){let c=new URL(r.assembly_ssl_url);c.pathname="/update_assemblies";let p=JSON.stringify({assembly_updates:[{assembly_id:r.assembly_id,num_expected_upload_files:o}]});return ls(this,nn)[nn](c,{method:"post",headers:ls(this,Bn)[Bn],body:p}).catch(_=>ls(this,va)[va](_,{url:c,type:"API_ERROR"}))}cancelAssembly(r){let o=r.assembly_ssl_url;return ls(this,nn)[nn](o,{method:"delete",headers:ls(this,Bn)[Bn]}).catch(c=>ls(this,va)[va](c,{url:o,type:"API_ERROR"}))}getAssemblyStatus(r){return ls(this,nn)[nn](r,{headers:ls(this,Bn)[Bn]}).catch(o=>ls(this,va)[va](o,{url:r,type:"STATUS_ERROR"}))}submitError(r,o){let{endpoint:c,instance:p,assembly:_}=o===void 0?{}:o,M=r.details?`${r.message} (${r.details})`:r.message;return ls(this,nn)[nn]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:c,instance:p,assembly_id:_,agent:typeof navigator<"u"?navigator.userAgent:"",client:this.opts.client,error:M})})}};a(CP,"Client");function EP(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return ls(this,Qf)[Qf](...o).then(p=>{if(p.status===429)return this.opts.rateLimitedQueue.rateLimit(2e3),ls(this,nn)[nn](...o);if(!p.ok){let _=new Error(p.statusText);return _.statusCode=p.status,`${o[0]}`.endsWith(TP)?p.json().then(M=>{if(!M.error)throw _;let F=new Error(M.error);throw F.details=M.message,F.assembly=M,M.assembly_id&&(F.details+=` Assembly ID: ${M.assembly_id}`),F},M=>{throw M.cause=_,M}):Promise.reject(_)}return p.json()})}a(EP,"_fetchJSON2");function OP(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(OP,"_classPrivateFieldLooseBase");var vH=0;function MP(r){return"__private_"+vH+++"_"+r}a(MP,"_classPrivateFieldLooseKey");function Jf(r){if(r==null)throw new Error("Transloadit: The `params` option is required.");if(typeof r=="string")try{r=JSON.parse(r)}catch(o){throw new Gn("Transloadit: The `params` option is a malformed JSON string.",{cause:o})}if(!r.auth||!r.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}a(Jf,"validateParams");function AP(r){let o=Object.create(null);for(let{fileIDs:c,options:p}of r.filter(Boolean)){let _=JSON.stringify(p);_ in o?o[_].fileIDArrays.push(c):o[_]={options:p,fileIDArrays:[c]}}return Object.values(o).map(c=>{let{options:p,fileIDArrays:_}=c;return{options:p,fileIDs:_.flat(1)}})}a(AP,"dedupe");var a1=MP("getAssemblyOptions"),PP=class{constructor(r,o){Object.defineProperty(this,a1,{value:DP}),this.files=r,this.opts=o}async build(){let r=this.opts;if(this.files.length>0)return Promise.all(this.files.map(o=>OP(this,a1)[a1](o))).then(AP);if(r.alwaysRunAssembly){let o=await r.getAssemblyOptions(null,r);return Jf(o.params),[{fileIDs:this.files.map(c=>c.id),options:o}]}return[]}};a(PP,"AssemblyOptions");async function DP(r){if(r==null)return;let o=this.opts,c=await o.getAssemblyOptions(r,o);if(r!=null)return Array.isArray(c.fields)?c.fields=Object.fromEntries(c.fields.map(p=>[p,r.meta[p]])):c.fields==null&&(c.fields={}),Jf(c.params),{fileIDs:[r.id],options:c}}a(DP,"_getAssemblyOptions2");var bH=PP,_H=y(U(),1);function nr(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(nr,"_classPrivateFieldLooseBase");var wH=0;function Kn(r){return"__private_"+wH+++"_"+r}a(Kn,"_classPrivateFieldLooseKey");var ep=Kn("assemblyIDs"),o1=Kn("reject"),mh=Kn("remaining"),tp=Kn("resolve"),rs=Kn("uppy"),Sl=Kn("watching"),ip=Kn("onAssemblyComplete"),rp=Kn("onAssemblyCancel"),gh=Kn("onAssemblyError"),sp=Kn("onImportError"),yh=Kn("checkAllComplete"),l1=Kn("removeListeners"),c1=Kn("addListeners"),LP=class extends _H.default{constructor(r,o){super(),Object.defineProperty(this,c1,{value:BP}),Object.defineProperty(this,l1,{value:IP}),Object.defineProperty(this,yh,{value:FP}),Object.defineProperty(this,Sl,{value:RP}),Object.defineProperty(this,ep,{writable:!0,value:void 0}),Object.defineProperty(this,o1,{writable:!0,value:void 0}),Object.defineProperty(this,mh,{writable:!0,value:void 0}),Object.defineProperty(this,tp,{writable:!0,value:void 0}),Object.defineProperty(this,rs,{writable:!0,value:void 0}),Object.defineProperty(this,ip,{writable:!0,value:c=>{!nr(this,Sl)[Sl](c.assembly_id)||(nr(this,rs)[rs].log(`[Transloadit] AssemblyWatcher: Got Assembly finish ${c.assembly_id}`),this.emit("assembly-complete",c.assembly_id),nr(this,yh)[yh]())}}),Object.defineProperty(this,rp,{writable:!0,value:c=>{!nr(this,Sl)[Sl](c.assembly_id)||nr(this,yh)[yh]()}}),Object.defineProperty(this,gh,{writable:!0,value:(c,p)=>{!nr(this,Sl)[Sl](c.assembly_id)||(nr(this,rs)[rs].log(`[Transloadit] AssemblyWatcher: Got Assembly error ${c.assembly_id}`),nr(this,rs)[rs].log(p),this.emit("assembly-error",c.assembly_id,p),nr(this,yh)[yh]())}}),Object.defineProperty(this,sp,{writable:!0,value:(c,p,_)=>{!nr(this,Sl)[Sl](c.assembly_id)||nr(this,gh)[gh](c,_)}}),nr(this,rs)[rs]=r,nr(this,ep)[ep]=o,nr(this,mh)[mh]=o.length,this.promise=new Promise((c,p)=>{nr(this,tp)[tp]=c,nr(this,o1)[o1]=p}),nr(this,c1)[c1]()}};a(LP,"TransloaditAssemblyWatcher");function RP(r){return nr(this,ep)[ep].indexOf(r)!==-1}a(RP,"_watching2");function FP(){nr(this,mh)[mh]-=1,nr(this,mh)[mh]===0&&(nr(this,l1)[l1](),nr(this,tp)[tp]())}a(FP,"_checkAllComplete2");function IP(){nr(this,rs)[rs].off("transloadit:complete",nr(this,ip)[ip]),nr(this,rs)[rs].off("transloadit:assembly-cancel",nr(this,rp)[rp]),nr(this,rs)[rs].off("transloadit:assembly-error",nr(this,gh)[gh]),nr(this,rs)[rs].off("transloadit:import-error",nr(this,sp)[sp])}a(IP,"_removeListeners2");function BP(){nr(this,rs)[rs].on("transloadit:complete",nr(this,ip)[ip]),nr(this,rs)[rs].on("transloadit:assembly-cancel",nr(this,rp)[rp]),nr(this,rs)[rs].on("transloadit:assembly-error",nr(this,gh)[gh]),nr(this,rs)[rs].on("transloadit:import-error",nr(this,sp)[sp])}a(BP,"_addListeners2");var xH=LP,kH={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function or(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(or,"_classPrivateFieldLooseBase");var SH=0;function ms(r){return"__private_"+SH+++"_"+r}a(ms,"_classPrivateFieldLooseKey");var TH={version:"3.0.2"};function NP(r,o){return{params:o.params,signature:o.signature,fields:o.fields}}a(NP,"defaultGetAssemblyOptions");var zP=a(r=>o=>{let c=new Gn("Failed to send error to the client",{cause:o});console.error(c,r)},"sendErrorToConsole"),UP="https://api2.transloadit.com/companion",HP=/\.transloadit\.com$/,CH=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,oo=ms("rateLimitedQueue"),h1=ms("getClientVersion"),u1=ms("attachAssemblyMetadata"),d1=ms("createAssembly"),np=ms("createAssemblyWatcher"),f1=ms("shouldWaitAfterUpload"),p1=ms("reserveFiles"),ap=ms("onFileUploadURLAvailable"),op=ms("findFile"),m1=ms("onFileUploadComplete"),g1=ms("onResult"),lp=ms("onAssemblyFinished"),cp=ms("cancelAssembly"),y1=ms("onCancelAll"),v1=ms("getPersistentData"),b1=ms("onRestored"),hp=ms("connectAssembly"),up=ms("prepareUpload"),vh=ms("afterUpload"),dp=ms("closeAssemblyIfExists"),fp=ms("onError"),_1=ms("onTusError"),bh=class extends Je{constructor(r,o){var c;super(r,o),c=this,Object.defineProperty(this,hp,{value:JP}),Object.defineProperty(this,cp,{value:QP}),Object.defineProperty(this,lp,{value:ZP}),Object.defineProperty(this,g1,{value:KP}),Object.defineProperty(this,m1,{value:XP}),Object.defineProperty(this,op,{value:GP}),Object.defineProperty(this,p1,{value:YP}),Object.defineProperty(this,f1,{value:VP}),Object.defineProperty(this,np,{value:$P}),Object.defineProperty(this,d1,{value:qP}),Object.defineProperty(this,u1,{value:jP}),Object.defineProperty(this,h1,{value:WP}),Object.defineProperty(this,oo,{writable:!0,value:void 0}),Object.defineProperty(this,ap,{writable:!0,value:M=>{var F;let N=this.uppy.getFile(M.id);if(!(N!=null&&(F=N.transloadit)!=null&&F.assembly))return;let{assemblies:Y}=this.getPluginState(),re=Y[N.transloadit.assembly];this.client.addFile(re,N).catch(X=>{this.uppy.log(X),this.uppy.emit("transloadit:import-error",re,N.id,X)})}}),Object.defineProperty(this,y1,{writable:!0,value:async function(M){let{reason:F}=M===void 0?{}:M;try{if(F!=="user")return;let{uploadsAssemblies:N}=c.getPluginState(),Y=Object.values(N).flat(1).map(re=>c.getAssembly(re));await Promise.all(Y.map(re=>or(c,cp)[cp](re)))}catch(N){c.uppy.log(N)}}}),Object.defineProperty(this,v1,{writable:!0,value:M=>{let{assemblies:F,uploadsAssemblies:N}=this.getPluginState();M({[this.id]:{assemblies:F,uploadsAssemblies:N}})}}),Object.defineProperty(this,b1,{writable:!0,value:M=>{let F=M&&M[this.id]?M[this.id]:{},N=F.assemblies||{},Y=F.uploadsAssemblies||{};if(Object.keys(Y).length===0)return;let re=a(fe=>{let Te={},Ye=[];for(let[Nt,Et]of Object.entries(fe)){Et.uploads.forEach(Fi=>{let ai=or(this,op)[op](Fi);Te[Fi.id]={id:ai.id,assembly:Nt,uploadedFile:Fi}});let Qt=this.getPluginState();Object.keys(Et.results).forEach(Fi=>{for(let ai of Et.results[Fi]){let pt=Qt.files[ai.original_id];ai.localId=pt?pt.id:null,Ye.push({id:ai.id,result:ai,stepName:Fi,assembly:Nt})}})}this.setPluginState({assemblies:fe,files:Te,results:Ye,uploadsAssemblies:Y})},"restoreState"),X=a(()=>{let{assemblies:fe,uploadsAssemblies:Te}=this.getPluginState();Object.keys(Te).forEach(Ye=>{let Nt=Te[Ye];or(this,np)[np](Nt,Ye)}),Object.keys(fe).forEach(Ye=>{let Nt=new SP(fe[Ye],or(this,oo)[oo]);or(this,hp)[hp](Nt)})},"restoreAssemblies"),oe=a(()=>{let{assemblies:fe}=this.getPluginState();return Promise.all(Object.keys(fe).map(Te=>this.activeAssemblies[Te].update()))},"updateAssemblies");this.restored=Promise.resolve().then(()=>(re(N),X(),oe())),this.restored.then(()=>{this.restored=null})}}),Object.defineProperty(this,up,{writable:!0,value:(M,F)=>{let N=M.map(X=>this.uppy.getFile(X)).filter(X=>X.error?!1:(this.uppy.emit("preprocess-progress",X,{mode:"indeterminate",message:this.i18n("creatingAssembly")}),!0)),Y=a(async X=>{let{fileIDs:oe,options:fe}=X;try{let Te=await or(this,d1)[d1](oe,F,fe);return this.opts.importFromUploadURLs&&await or(this,p1)[p1](Te,oe),oe.forEach(Ye=>{let Nt=this.uppy.getFile(Ye);this.uppy.emit("preprocess-complete",Nt)}),Te}catch(Te){throw oe.forEach(Ye=>{let Nt=this.uppy.getFile(Ye);this.uppy.emit("preprocess-complete",Nt),this.uppy.emit("upload-error",Nt,Te)}),Te}},"createAssembly"),{uploadsAssemblies:re}=this.getPluginState();return this.setPluginState({uploadsAssemblies:{...re,[F]:[]}}),new bH(N,this.opts).build().then(X=>Promise.all(X.map(Y))).then(X=>{let oe=X.filter(Boolean),fe=oe.map(Te=>Te.status.assembly_id);return or(this,np)[np](fe,F),Promise.all(oe.map(Te=>or(this,hp)[hp](Te)))}).catch(X=>{throw N.forEach(oe=>{this.uppy.emit("preprocess-complete",oe),this.uppy.emit("upload-error",oe,X)}),X})}}),Object.defineProperty(this,vh,{writable:!0,value:(M,F)=>{let N=M.map(fe=>this.uppy.getFile(fe)),Y=N.filter(fe=>!fe.error).map(fe=>fe.id),re=this.getPluginState();if(this.restored)return this.restored.then(()=>or(this,vh)[vh](Y,F));let X=re.uploadsAssemblies[F],oe=a(()=>{X.forEach(fe=>{this.activeAssemblies[fe].close(),delete this.activeAssemblies[fe]})},"closeSocketConnections");if(!or(this,f1)[f1]()){oe();let fe=X.map(Te=>this.getAssembly(Te));return this.uppy.addResultData(F,{transloadit:fe}),Promise.resolve()}return X.length===0?(this.uppy.addResultData(F,{transloadit:[]}),Promise.resolve()):(N.filter(fe=>!w(this.completedFiles,fe.id)).forEach(fe=>{this.uppy.emit("postprocess-progress",fe,{mode:"indeterminate",message:this.i18n("encoding")})}),this.assemblyWatchers[F].promise.then(()=>{oe();let fe=X.map(Ye=>this.getAssembly(Ye)),Te={...this.getPluginState().uploadsAssemblies};delete Te[F],this.setPluginState({uploadsAssemblies:Te}),this.uppy.addResultData(F,{transloadit:fe})}))}}),Object.defineProperty(this,dp,{writable:!0,value:M=>{var F;(F=this.activeAssemblies[M])==null||F.close()}}),Object.defineProperty(this,fp,{writable:!0,value:function(M,F){M===void 0&&(M=null);let N=c.getPluginState().uploadsAssemblies[F];N==null||N.forEach(or(c,dp)[dp]),c.client.submitError(M).catch(zP(M))}}),Object.defineProperty(this,_1,{writable:!0,value:(M,F)=>{var N,Y;if(or(this,dp)[dp](M==null||(N=M.transloadit)==null?void 0:N.assembly),F!=null&&(Y=F.message)!=null&&Y.startsWith("tus: ")){var re,X;let oe=(re=F.originalRequest)==null||(X=re.getUnderlyingObject())==null?void 0:X.responseURL;this.client.submitError(F,{endpoint:oe,type:"TUS_ERROR"}).catch(zP(F))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.title="Transloadit",this.defaultLocale=kH;let p={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:NP,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};this.opts={...p,...o},or(this,oo)[oo]=new Xc(this.opts.limit),this.i18nInit();let _=this.opts.getAssemblyOptions!==p.getAssemblyOptions;this.opts.params?Jf(this.opts.params):_||Jf(null),this.client=new CP({service:this.opts.service,client:or(this,h1)[h1](),errorReporting:this.opts.errorReporting,rateLimitedQueue:or(this,oo)[oo]}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(or(this,up)[up]),this.uppy.addPostProcessor(or(this,vh)[vh]),this.uppy.on("error",or(this,fp)[fp]),this.uppy.on("cancel-all",or(this,y1)[y1]),this.uppy.on("upload-error",or(this,_1)[_1]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",or(this,ap)[ap]):this.uppy.use(jf,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:or(this,oo)[oo],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",or(this,v1)[v1]),this.uppy.on("restored",or(this,b1)[b1]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!1}})}uninstall(){this.uppy.removePreProcessor(or(this,up)[up]),this.uppy.removePostProcessor(or(this,vh)[vh]),this.uppy.off("error",or(this,fp)[fp]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",or(this,ap)[ap]);let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!0}})}getAssembly(r){let{assemblies:o}=this.getPluginState();return o[r]}getAssemblyFiles(r){return this.uppy.getFiles().filter(o=>{var c;return(o==null||(c=o.transloadit)==null?void 0:c.assembly)===r})}};a(bh,"Transloadit");function WP(){let r=[`uppy-core:${this.uppy.constructor.VERSION}`,`uppy-transloadit:${this.constructor.VERSION}`,`uppy-tus:${jf.VERSION}`],o=a((c,p)=>{let _=this.uppy.getPlugin(c);_&&r.push(`${p}:${_.constructor.VERSION}`)},"addPluginVersion");return this.opts.importFromUploadURLs&&(o("XHRUpload","uppy-xhr-upload"),o("AwsS3","uppy-aws-s3"),o("AwsS3Multipart","uppy-aws-s3-multipart")),o("Dropbox","uppy-dropbox"),o("Box","uppy-box"),o("Facebook","uppy-facebook"),o("GoogleDrive","uppy-google-drive"),o("Instagram","uppy-instagram"),o("OneDrive","uppy-onedrive"),o("Zoom","uppy-zoom"),o("Url","uppy-url"),r.join(",")}a(WP,"_getClientVersion2");function jP(r,o){let c={...r.meta,assembly_url:o.assembly_url,filename:r.name,fieldname:"file"},p={...r.tus,endpoint:o.tus_url,addRequestId:!0},{remote:_}=r;if(r.remote&&CH.test(r.remote.companionUrl)){let F=o.companion_url.replace(/\/$/,""),N=r.remote.url.replace(r.remote.companionUrl,"").replace(/^\//,"");_={...r.remote,companionUrl:F,url:`${F}/${N}`}}let M={...r,transloadit:{assembly:o.assembly_id}};return this.opts.importFromUploadURLs||Object.assign(M,{meta:c,tus:p,remote:_}),M}a(jP,"_attachAssemblyMetadata2");function qP(r,o,c){return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:c.params,fields:c.fields,expectedFiles:r.length,signature:c.signature}).then(async p=>{let _=this.uppy.getFiles().filter(fe=>{let{id:Te}=fe;return r.includes(Te)});if(_.length!==r.length){if(_.length===0)return await this.client.cancelAssembly(p),null;await this.client.updateNumberOfFilesInAssembly(p,_.length)}let M=new SP(p,or(this,oo)[oo]),{status:F}=M,N=F.assembly_id,{assemblies:Y,uploadsAssemblies:re}=this.getPluginState();this.setPluginState({assemblies:{...Y,[N]:F},uploadsAssemblies:{...re,[o]:[...re[o],N]}});let X={};_.forEach(fe=>{X[fe.id]=or(this,u1)[u1](fe,F)}),this.uppy.setState({files:{...this.uppy.getState().files,...X}});let oe=a((fe,Te)=>{if(Te==="cancel-all")M.close(),this.uppy.off(oe);else if(fe.id in X){delete X[fe.id];let Ye=Object.keys(X).length;Ye===0?(M.close(),or(this,cp)[cp](p).catch(()=>{}),this.uppy.off(oe)):this.client.updateNumberOfFilesInAssembly(p,Ye).catch(()=>{})}},"fileRemovedHandler");return this.uppy.on("file-removed",oe),this.uppy.emit("transloadit:assembly-created",F,r),this.uppy.log(`[Transloadit] Created Assembly ${N}`),M}).catch(p=>{let _=new Gn(`${this.i18n("creatingAssemblyFailed")}: ${p.message}`,{cause:p});throw"details"in p&&(_.details=p.details),"assembly"in p&&(_.assembly=p.assembly),_})}a(qP,"_createAssembly2");function $P(r,o){let c=new xH(this.uppy,r);c.on("assembly-complete",p=>{this.getAssemblyFiles(p).forEach(_=>{this.completedFiles[_.id]=!0,this.uppy.emit("postprocess-complete",_)})}),c.on("assembly-error",(p,_)=>{this.getAssemblyFiles(p).forEach(M=>{this.uppy.emit("upload-error",M,_),this.uppy.emit("postprocess-complete",M)})}),this.assemblyWatchers[o]=c}a($P,"_createAssemblyWatcher2");function VP(){return this.opts.waitForEncoding||this.opts.waitForMetadata}a(VP,"_shouldWaitAfterUpload2");function YP(r,o){return Promise.all(o.map(c=>{let p=this.uppy.getFile(c);return this.client.reserveFile(r.status,p)}))}a(YP,"_reserveFiles2");function GP(r){let o=this.uppy.getFiles();for(let c=0;c<o.length;c++){let p=o[c];if(p.uploadURL===r.tus_upload_url||p.tus&&p.tus.uploadUrl===r.tus_upload_url||!r.is_tus_file&&p.name===r.name&&p.size===r.size)return p}}a(GP,"_findFile2");function XP(r,o){let c=this.getPluginState(),p=or(this,op)[op](o);if(!p){this.uppy.log("[Transloadit] Couldnt file the file, it was likely removed in the process");return}this.setPluginState({files:{...c.files,[o.id]:{assembly:r,id:p.id,uploadedFile:o}}}),this.uppy.emit("transloadit:upload",o,this.getAssembly(r))}a(XP,"_onFileUploadComplete2");function KP(r,o,c){let p=this.getPluginState(),_=p.files[c.original_id];c.localId=_?_.id:null;let M={result:c,stepName:o,id:c.id,assembly:r};this.setPluginState({results:[...p.results,M]}),this.uppy.emit("transloadit:result",o,c,this.getAssembly(r))}a(KP,"_onResult2");function ZP(r){let o=r.assembly_ssl_url;this.client.getAssemblyStatus(o).then(c=>{let p=c.assembly_id,_=this.getPluginState();this.setPluginState({assemblies:{..._.assemblies,[p]:c}}),this.uppy.emit("transloadit:complete",c)})}a(ZP,"_onAssemblyFinished2");async function QP(r){await this.client.cancelAssembly(r),this.uppy.emit("transloadit:assembly-cancelled",r)}a(QP,"_cancelAssembly2");function JP(r){let{status:o}=r,c=o.assembly_id;return this.activeAssemblies[c]=r,r.on("status",p=>{let{assemblies:_}=this.getPluginState();this.setPluginState({assemblies:{..._,[c]:p}})}),r.on("upload",p=>{or(this,m1)[m1](c,p)}),r.on("error",p=>{p.assembly=r.status,this.uppy.emit("transloadit:assembly-error",r.status,p)}),r.on("executing",()=>{this.uppy.emit("transloadit:assembly-executing",r.status)}),this.opts.waitForEncoding&&r.on("result",(p,_)=>{or(this,g1)[g1](c,p,_)}),this.opts.waitForEncoding?r.on("finished",()=>{or(this,lp)[lp](r.status)}):this.opts.waitForMetadata&&r.on("metadata",()=>{or(this,lp)[lp](r.status)}),r.ok==="ASSEMBLY_COMPLETE"||r.connect(),r}a(JP,"_connectAssembly2"),bh.VERSION=TH.version,bh.COMPANION=UP,bh.COMPANION_PATTERN=HP;var EH={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function ky(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ky,"_classPrivateFieldLooseBase");var OH=0;function w1(r){return"__private_"+OH+++"_"+r}a(w1,"_classPrivateFieldLooseKey");var MH={version:"3.0.4"};function x1(r,o){let c=o;return c||(c=new Error("Upload error")),typeof c=="string"&&(c=new Error(c)),c instanceof Error||(c=Object.assign(new Error("Upload error"),{data:c})),ry(r)?(c=new ui(c,r),c):(c.request=r,c)}a(x1,"buildResponseError");function k1(r){return r.data.slice(0,r.data.size,r.meta.type)}a(k1,"setTypeInBlob");var pp=w1("queueRequestSocketToken"),S1=w1("requestSocketToken"),T1=class extends Je{constructor(r,o){super(r,o),Object.defineProperty(this,pp,{writable:!0,value:void 0}),Object.defineProperty(this,S1,{writable:!0,value:async p=>{let _=this.getOptions(p),M=p.remote.providerOptions.provider?_s:da,F=new M(this.uppy,p.remote.providerOptions),N=Array.isArray(_.allowedMetaFields)?_.allowedMetaFields:Object.keys(p.meta);return(await F.post(p.remote.url,{...p.remote.body,protocol:"multipart",endpoint:_.endpoint,size:p.data.size,fieldname:_.fieldName,metadata:Object.fromEntries(N.map(Y=>[Y,p.meta[Y]])),httpMethod:_.method,useFormData:_.formData,headers:_.headers})).token}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=EH;let c={formData:!0,fieldName:o.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(p){let _={};try{_=JSON.parse(p)}catch(M){r.log(M)}return _},getResponseError(p,_){let M=new Error("Upload error");return ry(_)&&(M=new ui(M,_)),M},validateStatus(p){return p>=200&&p<300}};if(this.opts={...c,...o},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),yf in this.opts?this.requests=this.opts[yf]:this.requests=new Xc(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),ky(this,pp)[pp]=this.requests.wrapPromiseFunction(ky(this,S1)[S1],{priority:-1})}getOptions(r){let o=this.uppy.getState().xhrUpload,{headers:c}=this.opts,p={...this.opts,...o||{},...r.xhrUpload||{},headers:{}};return typeof c=="function"?p.headers=c(r):Object.assign(p.headers,this.opts.headers),o&&Object.assign(p.headers,o.headers),r.xhrUpload&&Object.assign(p.headers,r.xhrUpload.headers),p}addMetadata(r,o,c){(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(o)).forEach(p=>{r.append(p,o[p])})}createFormDataUpload(r,o){let c=new FormData;this.addMetadata(c,r.meta,o);let p=k1(r);return r.name?c.append(o.fieldName,p,r.meta.name):c.append(o.fieldName,p),c}createBundledUpload(r,o){let c=new FormData,{meta:p}=this.uppy.getState();return this.addMetadata(c,p,o),r.forEach(_=>{let M=this.getOptions(_),F=k1(_);_.name?c.append(M.fieldName,F,_.name):c.append(M.fieldName,F)}),c}upload(r,o,c){let p=this.getOptions(r);return this.uppy.log(`uploading ${o} of ${c}`),new Promise((_,M)=>{this.uppy.emit("upload-started",r);let F=p.formData?this.createFormDataUpload(r,p):r.data,N=new XMLHttpRequest;this.uploaderEvents[r.id]=new yl(this.uppy);let Y,re=new J_(p.timeout,()=>{N.abort(),Y.done();let oe=new Error(this.i18n("timedOut",{seconds:Math.ceil(p.timeout/1e3)}));this.uppy.emit("upload-error",r,oe),M(oe)}),X=ze();N.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${X} started`)}),N.upload.addEventListener("progress",oe=>{this.uppy.log(`[XHRUpload] ${X} progress: ${oe.loaded} / ${oe.total}`),re.progress(),oe.lengthComputable&&this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:oe.loaded,bytesTotal:oe.total})}),N.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${X} finished`),re.done(),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),p.validateStatus(N.status,N.responseText,N)){let Ye=p.getResponseData(N.responseText,N),Nt=Ye[p.responseUrlFieldName],Et={status:N.status,body:Ye,uploadURL:Nt};return this.uppy.emit("upload-success",r,Et),Nt&&this.uppy.log(`Download ${r.name} from ${Nt}`),_(r)}let oe=p.getResponseData(N.responseText,N),fe=x1(N,p.getResponseError(N.responseText,N)),Te={status:N.status,body:oe};return this.uppy.emit("upload-error",r,fe,Te),M(fe)}),N.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${X} errored`),re.done(),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null);let oe=x1(N,p.getResponseError(N.responseText,N));return this.uppy.emit("upload-error",r,oe),M(oe)}),N.open(p.method.toUpperCase(),p.endpoint,!0),N.withCredentials=p.withCredentials,p.responseType!==""&&(N.responseType=p.responseType),Y=this.requests.run(()=>{this.uppy.emit("upload-started",r);let oe=this.getOptions(r);return Object.keys(oe.headers).forEach(fe=>{N.setRequestHeader(fe,oe.headers[fe])}),N.send(F),()=>{re.done(),N.abort()}}),this.onFileRemove(r.id,()=>{Y.abort(),M(new Error("File removed"))}),this.onCancelAll(r.id,oe=>{let{reason:fe}=oe;fe==="user"&&Y.abort(),M(new Error("Upload cancelled"))})})}async uploadRemote(r){try{if(this.uppy.emit("upload-started",r),r.serverToken)return this.connectToServerSocket(r);let o=await ky(this,pp)[pp](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(o){throw this.uppy.emit("upload-error",r,o),o}}connectToServerSocket(r){return new Promise((o,c)=>{let p=this.getOptions(r),_=r.serverToken,M=vf(r.remote.companionUrl),F,N=a(()=>{F==null&&(F=new _u({target:`${M}/api/${_}`}),F.on("progress",X=>iy(this,X,r)),F.on("success",X=>{let oe=p.getResponseData(X.response.responseText,X.response),fe=oe[p.responseUrlFieldName],Te={status:X.response.status,body:oe,uploadURL:fe};return this.uppy.emit("upload-success",r,Te),Y.done(),F.close(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),o()}),F.on("error",X=>{let oe=X.response,fe=oe?p.getResponseError(oe.responseText,oe):Object.assign(new Error(X.error.message),{cause:X.error});this.uppy.emit("upload-error",r,fe),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),c(fe)}))},"createSocket");this.uploaderEvents[r.id]=new yl(this.uppy);let Y=this.requests.run(()=>{if(r.isPaused){var X;(X=F)==null||X.send("pause",{})}else N();return()=>F.close()});this.onFileRemove(r.id,()=>{var X;(X=F)==null||X.send("cancel",{}),Y.abort(),o(`upload ${r.id} was removed`)}),this.onCancelAll(r.id,function(X){let{reason:oe}=X===void 0?{}:X;if(oe==="user"){var fe;(fe=F)==null||fe.send("cancel",{}),Y.abort()}o(`upload ${r.id} was canceled`)});let re=a(()=>{F==null?Y.abort():(F.send("pause",{}),Y.done()),Y=this.requests.run(()=>(r.isPaused||(F==null?N():F.send("resume",{})),()=>F.close()))},"onRetryRequest");this.onRetry(r.id,re),this.onRetryAll(r.id,re)}).catch(o=>(this.uppy.emit("upload-error",r,o),Promise.reject(o)))}uploadBundle(r){return new Promise((o,c)=>{let{endpoint:p}=this.opts,{method:_}=this.opts,M=this.uppy.getState().xhrUpload,F=this.createBundledUpload(r,{...this.opts,...M||{}}),N=new XMLHttpRequest,Y=a(X=>{r.forEach(oe=>{this.uppy.emit("upload-error",oe,X)})},"emitError"),re=new J_(this.opts.timeout,()=>{N.abort();let X=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));Y(X),c(X)});N.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),re.progress()}),N.upload.addEventListener("progress",X=>{re.progress(),X.lengthComputable&&r.forEach(oe=>{this.uppy.emit("upload-progress",oe,{uploader:this,bytesUploaded:X.loaded/X.total*oe.size,bytesTotal:oe.size})})}),N.addEventListener("load",X=>{if(re.done(),this.opts.validateStatus(X.target.status,N.responseText,N)){let fe=this.opts.getResponseData(N.responseText,N),Te={status:X.target.status,body:fe};return r.forEach(Ye=>{this.uppy.emit("upload-success",Ye,Te)}),o()}let oe=this.opts.getResponseError(N.responseText,N)||new Error("Upload error");return oe.request=N,Y(oe),c(oe)}),N.addEventListener("error",()=>{re.done();let X=this.opts.getResponseError(N.responseText,N)||new Error("Upload error");return Y(X),c(X)}),this.uppy.on("cancel-all",function(X){let{reason:oe}=X===void 0?{}:X;oe==="user"&&(re.done(),N.abort())}),N.open(_.toUpperCase(),p,!0),N.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(N.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(X=>{N.setRequestHeader(X,this.opts.headers[X])}),N.send(F),r.forEach(X=>{this.uppy.emit("upload-started",X)})})}uploadFiles(r){let o=r.map((c,p)=>{let _=parseInt(p,10)+1,M=r.length;return c.error?Promise.reject(new Error(c.error)):c.isRemote?this.uploadRemote(c,_,M):this.upload(c,_,M)});return Ww(o)}onFileRemove(r,o){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&o(c.id)})}onRetry(r,o){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&o()})}onRetryAll(r,o){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||o()})}onCancelAll(r,o){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||o(...arguments)})}handleUpload(r){if(r.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[yf]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");let o=r.map(c=>this.uppy.getFile(c));if(this.opts.bundle){if(o.some(c=>c.isRemote))throw new Error("Cant upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(o)}return this.uploadFiles(o).then(()=>null)}install(){if(this.opts.bundle){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}};a(T1,"XHRUpload"),T1.VERSION=MH.version;var eD=y(x(),1),AH=y(z(),1),PH={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function C1(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(C1,"_classPrivateFieldLooseBase");var DH=0;function tD(r){return"__private_"+DH+++"_"+r}a(tD,"_classPrivateFieldLooseKey");var mp=tD("RateLimitedQueue"),iD=class extends Je{constructor(r,o){super(r,o),Object.defineProperty(this,mp,{writable:!0,value:void 0}),this.id=this.opts.id||"Compressor",this.type="modifier",this.defaultLocale=PH;let c={quality:.6,limit:10};this.opts={...c,...o},C1(this,mp)[mp]=new Xc(this.opts.limit),this.i18nInit(),this.prepareUpload=this.prepareUpload.bind(this),this.compress=this.compress.bind(this)}compress(r){return new Promise((o,c)=>{new AH.default(r,{...this.opts,success:o,error:c})})}async prepareUpload(r){let o=0,c=[],p=C1(this,mp)[mp].wrapPromiseFunction(async M=>{try{let F=await this.compress(M.data),N=M.data.size-F.size;this.uppy.log(`[Image Compressor] Image ${M.id} compressed by ${(0,eD.default)(N)}`),o+=N;let{name:Y,type:re,size:X}=F,oe=Y&&nt(Y).extension;this.uppy.setFileState(M.id,{...Y&&{name:Y},...oe&&{extension:oe},...re&&{type:re},...X&&{size:X},data:F}),this.uppy.setFileMeta(M.id,{type:re}),c.push(M)}catch(F){this.uppy.log(`[Image Compressor] Failed to compress ${M.id}:`,"warning"),this.uppy.log(F,"warning")}}),_=r.map(M=>{let F=this.uppy.getFile(M);return this.uppy.emit("preprocess-progress",F,{mode:"indeterminate",message:this.i18n("compressingImages")}),F.isRemote||(F.data.type||(F.data=F.data.slice(0,F.data.size,F.type)),!F.type.startsWith("image/"))?Promise.resolve():p(F)});await Promise.all(_),this.uppy.emit("compressor:complete",c),o>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,eD.default)(o)}),"info");for(let M of r){let F=this.uppy.getFile(M);this.uppy.emit("preprocess-complete",F)}}install(){this.uppy.addPreProcessor(this.prepareUpload)}uninstall(){this.uppy.removePreProcessor(this.prepareUpload)}};a(iD,"Compressor");function gp(){return gp=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},gp.apply(this,arguments)}a(gp,"_extends");var LH={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},RH={button:!0,fieldset:!0,reset:!0,submit:!0},FH={checkbox:!0,radio:!0},IH=/^\s+|\s+$/g,BH=Array.prototype.slice,rD=Object.prototype.toString;function E1(r,o){if(!r)throw new Error("A form is required by getFormData, was given form="+r);o=gp({includeDisabled:!1,trim:!1},o);for(var c={},p,_=[],M={},F=0,N=r.elements.length;F<N;F++){var Y=r.elements[F];RH[Y.type]||Y.disabled&&!o.includeDisabled||(p=Y.name||Y.id,p&&!M[p]&&(_.push(p),M[p]=!0))}for(var re=0,X=_.length;re<X;re++){p=_[re];var oe=O1(r,p,o);oe!=null&&(c[p]=oe)}return c}a(E1,"getFormData");function O1(r,o,c){if(!r)throw new Error("A form is required by getFieldData, was given form="+r);if(!o&&rD.call(o)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+o);c=gp({includeDisabled:!1,trim:!1},c);var p=r.elements[o];if(!p||p.disabled&&!c.includeDisabled)return null;if(!LH[rD.call(p)])return M1(p,c.trim);for(var _=[],M=!0,F=0,N=p.length;F<N;F++)if(!(p[F].disabled&&!c.includeDisabled)){M&&p[F].type!=="radio"&&(M=!1);var Y=M1(p[F],c.trim);Y!=null&&(_=_.concat(Y))}return M&&_.length===1?_[0]:_.length>0?_:null}a(O1,"getFieldData");function M1(r,o){var c=null,p=r.type;if(p==="select-one")return r.options.length&&(c=r.options[r.selectedIndex].value),c;if(p==="select-multiple"){c=[];for(var _=0,M=r.options.length;_<M;_++)r.options[_].selected&&c.push(r.options[_].value);return c.length===0&&(c=null),c}return p==="file"&&"files"in r?(r.multiple?(c=BH.call(r.files),c.length===0&&(c=null)):c=r.files[0],c):(FH[p]?r.checked&&(p==="checkbox"&&!r.hasAttribute("value")?c=!0:c=r.value):c=o?r.value.replace(IH,""):r.value,c)}a(M1,"getFormElementValue"),E1.getFieldData=O1;var NH={version:"3.0.1"},A1=class extends Je{constructor(r,o){super(r,o),this.type="acquirer",this.id=this.opts.id||"Form",this.title="Form";let c={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};this.opts={...c,...o},this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleUploadStart=this.handleUploadStart.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.addResultToForm=this.addResultToForm.bind(this),this.getMetaFromForm=this.getMetaFromForm.bind(this)}handleUploadStart(){this.opts.getMetaFromForm&&this.getMetaFromForm()}handleSuccess(r){this.opts.addResultToForm&&this.addResultToForm(r),this.opts.submitOnSuccess&&this.form.submit()}handleFormSubmit(r){if(this.opts.triggerUploadOnSubmit){r.preventDefault();let o=so(r.target.elements),c=[];o.forEach(p=>{(p.tagName==="BUTTON"||p.tagName==="INPUT"&&p.type==="submit")&&!p.disabled&&(p.disabled=!0,c.push(p))}),this.uppy.upload().then(()=>{c.forEach(p=>{p.disabled=!1})},p=>(c.forEach(_=>{_.disabled=!1}),Promise.reject(p))).catch(p=>{this.uppy.log(p.stack||p.message||p)})}}addResultToForm(r){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(r);let o=this.form.querySelector(`[name="${this.opts.resultName}"]`);if(o){let c;try{c=JSON.parse(o.value)}catch{}Array.isArray(c)||(c=[]),c.push(r),o.value=JSON.stringify(c);return}o=document.createElement("input"),o.name=this.opts.resultName,o.type="hidden",o.value=JSON.stringify([r]),this.form.appendChild(o)}getMetaFromForm(){let r=E1(this.form);delete r[this.opts.resultName],this.uppy.setMeta(r)}install(){if(this.form=$e(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}uninstall(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}};a(A1,"Form"),A1.VERSION=NH.version;var zH=y(k(),1),sD=typeof navigator<"u"&&"serviceWorker"in navigator;function nD(){return new Promise((r,o)=>{sD?navigator.serviceWorker.controller?r():navigator.serviceWorker.addEventListener("controllerchange",()=>{r()}):o(new Error("Unsupported"))})}a(nD,"waitForServiceWorker");var P1=class{constructor(r){this.ready=nD(),this.name=r.storeName}list(){let r={},o=new Promise((p,_)=>{r.resolve=p,r.reject=_}),c=a(p=>{if(p.data.store===this.name)switch(p.data.type){case"uppy/ALL_FILES":r.resolve(p.data.files),navigator.serviceWorker.removeEventListener("message",c);break;default:r.reject()}},"onMessage");return this.ready.then(()=>{navigator.serviceWorker.addEventListener("message",c),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:this.name})}),o}put(r){return this.ready.then(()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:this.name,file:r})})}delete(r){return this.ready.then(()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:this.name,fileID:r})})}};a(P1,"ServiceWorkerStore"),P1.isSupported=sD;var UH=P1,aD=typeof window<"u"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),HH=!!aD,oD="uppy-blobs",Zn="files",lD=24*60*60*1e3,WH=3;function cD(r){let o=r.openCursor();o.onsuccess=c=>{let p=c.target.result;if(!p)return;let _=p.value;_.expires=Date.now()+lD,p.update(_)}}a(cD,"migrateExpiration");function D1(r){let o=aD.open(r,WH);return new Promise((c,p)=>{o.onupgradeneeded=_=>{let M=_.target.result,{transaction:F}=_.currentTarget;if(_.oldVersion<2&&M.createObjectStore(Zn,{keyPath:"id"}).createIndex("store","store",{unique:!1}),_.oldVersion<3){let N=F.objectStore(Zn);N.createIndex("expires","expires",{unique:!1}),cD(N)}F.oncomplete=()=>{c(M)}},o.onsuccess=_=>{c(_.target.result)},o.onerror=p})}a(D1,"connect");function yp(r){return new Promise((o,c)=>{r.onsuccess=p=>{o(p.target.result)},r.onerror=c})}a(yp,"waitForRequest");var hD=!1,Sy=class{constructor(r){this.opts={dbName:oD,storeName:"default",expires:lD,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024,...r},this.name=this.opts.storeName;let o=a(()=>D1(this.opts.dbName),"createConnection");hD?this.ready=o():(hD=!0,this.ready=Sy.cleanup().then(o,o))}key(r){return`${this.name}!${r}`}list(){return this.ready.then(r=>{let o=r.transaction([Zn],"readonly").objectStore(Zn).index("store").getAll(IDBKeyRange.only(this.name));return yp(o)}).then(r=>{let o={};return r.forEach(c=>{o[c.fileID]=c.data}),o})}get(r){return this.ready.then(o=>{let c=o.transaction([Zn],"readonly").objectStore(Zn).get(this.key(r));return yp(c)}).then(o=>({id:o.data.fileID,data:o.data.data}))}getSize(){return this.ready.then(r=>{let o=r.transaction([Zn],"readonly").objectStore(Zn).index("store").openCursor(IDBKeyRange.only(this.name));return new Promise((c,p)=>{let _=0;o.onsuccess=M=>{let F=M.target.result;F?(_+=F.value.data.size,F.continue()):c(_)},o.onerror=()=>{p(new Error("Could not retrieve stored blobs size"))}})})}put(r){return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(o=>o>this.opts.maxTotalSize?Promise.reject(new Error("No space left")):this.ready).then(o=>{let c=o.transaction([Zn],"readwrite").objectStore(Zn).add({id:this.key(r.id),fileID:r.id,store:this.name,expires:Date.now()+this.opts.expires,data:r.data});return yp(c)})}delete(r){return this.ready.then(o=>{let c=o.transaction([Zn],"readwrite").objectStore(Zn).delete(this.key(r));return yp(c)})}static cleanup(){return D1(oD).then(r=>{let o=r.transaction([Zn],"readwrite").objectStore(Zn).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise((c,p)=>{o.onsuccess=_=>{let M=_.target.result;M?(M.delete(),M.continue()):c(r)},o.onerror=p})}).then(r=>{r.close()})}};a(Sy,"IndexedDBStore"),Sy.isSupported=HH;var jH=Sy;function uD(){let r=[];for(let o=0;o<localStorage.length;o++){let c=localStorage.key(o);/^uppyState:/.test(c)&&r.push(c.slice(10))}return r}a(uD,"findUppyInstances");function L1(r){try{return JSON.parse(r)}catch{return null}}a(L1,"maybeParse");var dD=!1,Iu=class{constructor(r){this.opts={expires:24*60*60*1e3,...r},this.name=`uppyState:${r.storeName}`,dD||(dD=!0,Iu.cleanup())}load(){let r=localStorage.getItem(this.name);if(!r)return null;let o=L1(r);return o?o.metadata?o.metadata:(this.save(o),o):null}save(r){let o=Date.now()+this.opts.expires,c=JSON.stringify({metadata:r,expires:o});localStorage.setItem(this.name,c)}static cleanup(r){if(r){localStorage.removeItem(`uppyState:${r}`);return}let o=uD(),c=Date.now();o.forEach(p=>{let _=localStorage.getItem(`uppyState:${p}`);if(!_)return;let M=L1(_);!M||M.expires&&M.expires<c&&localStorage.removeItem(`uppyState:${p}`)})}};a(Iu,"MetaDataStore");var qH={version:"3.0.2"},R1=class extends Je{constructor(r,o){super(r,o),this.addBlobToStores=p=>{p.isRemote||(this.ServiceWorkerStore&&this.ServiceWorkerStore.put(p).catch(_=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(_)}),this.IndexedDBStore.put(p).catch(_=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(_)}))},this.removeBlobFromStores=p=>{this.ServiceWorkerStore&&this.ServiceWorkerStore.delete(p.id).catch(_=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(_)}),this.IndexedDBStore.delete(p.id).catch(_=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(_)})},this.replaceBlobInStores=p=>{this.removeBlobFromStores(p),this.addBlobToStores(p)},this.handleRestoreConfirmed=()=>{this.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");let{currentUploads:p}=this.uppy.getState();p&&(this.uppy.resumeAll(),Object.keys(p).forEach(_=>{this.uppy.restore(_,p[_])})),this.uppy.setState({recoveredState:null})},this.abortRestore=()=>{this.uppy.log("[GoldenRetriever] Aborting restore...");let p=Object.keys(this.uppy.getState().files);this.deleteBlobs(p).then(()=>{this.uppy.log(`[GoldenRetriever] Removed ${p.length} files`)}).catch(_=>{this.uppy.log(`[GoldenRetriever] Could not remove ${p.length} files`,"warning"),this.uppy.log(_)}),this.uppy.cancelAll(),this.uppy.setState({recoveredState:null}),Iu.cleanup(this.uppy.opts.id)},this.handleComplete=p=>{let{successful:_}=p,M=_.map(F=>F.id);this.deleteBlobs(M).then(()=>{this.uppy.log(`[GoldenRetriever] Removed ${_.length} files that finished uploading`)}).catch(F=>{this.uppy.log(`[GoldenRetriever] Could not remove ${_.length} files that finished uploading`,"warning"),this.uppy.log(F)}),this.uppy.setState({recoveredState:null}),Iu.cleanup(this.uppy.opts.id)},this.restoreBlobs=()=>{this.uppy.getFiles().length>0?Promise.all([this.loadFileBlobsFromServiceWorker(),this.loadFileBlobsFromIndexedDB()]).then(p=>{let _={...p[0],...p[1]};this.onBlobsLoaded(_)}):this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...")},this.type="debugger",this.id=this.opts.id||"GoldenRetriever",this.title="Golden Retriever";let c={expires:24*60*60*1e3,serviceWorker:!1};this.opts={...c,...o},this.MetaDataStore=new Iu({expires:this.opts.expires,storeName:r.getID()}),this.ServiceWorkerStore=null,this.opts.serviceWorker&&(this.ServiceWorkerStore=new UH({storeName:r.getID()})),this.IndexedDBStore=new jH({expires:this.opts.expires,...this.opts.indexedDB||{},storeName:r.getID()}),this.saveFilesStateToLocalStorage=(0,zH.default)(this.saveFilesStateToLocalStorage.bind(this),500,{leading:!0,trailing:!0}),this.restoreState=this.restoreState.bind(this),this.loadFileBlobsFromServiceWorker=this.loadFileBlobsFromServiceWorker.bind(this),this.loadFileBlobsFromIndexedDB=this.loadFileBlobsFromIndexedDB.bind(this),this.onBlobsLoaded=this.onBlobsLoaded.bind(this)}restoreState(){let r=this.MetaDataStore.load();r&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:r.currentUploads||{},files:r.files||{},recoveredState:r}),this.savedPluginData=r.pluginData)}getWaitingFiles(){let r={};return this.uppy.getFiles().forEach(o=>{(!o.progress||!o.progress.uploadStarted)&&(r[o.id]=o)}),r}getUploadingFiles(){let r={},{currentUploads:o}=this.uppy.getState();return o&&Object.keys(o).forEach(c=>{o[c].fileIDs.forEach(p=>{r[p]=this.uppy.getFile(p)})}),r}saveFilesStateToLocalStorage(){let r={...this.getWaitingFiles(),...this.getUploadingFiles()};if(Object.keys(r).length===0){this.uppy.getState().recoveredState!==null&&this.uppy.setState({recoveredState:null}),Iu.cleanup(this.uppy.opts.id);return}let o={};Object.keys(r).forEach(_=>{r[_].isRemote?o[_]={...r[_],isRestored:!0}:o[_]={...r[_],isRestored:!0,data:null,preview:null}});let c={};this.uppy.emit("restore:get-data",_=>{Object.assign(c,_)});let{currentUploads:p}=this.uppy.getState();this.MetaDataStore.save({currentUploads:p,files:o,pluginData:c})}loadFileBlobsFromServiceWorker(){return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(r=>{let o=Object.keys(r).length;return o>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${o} blobs from Service Worker!`),r):(this.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(r=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),this.uppy.log(r),{})):Promise.resolve({})}loadFileBlobsFromIndexedDB(){return this.IndexedDBStore.list().then(r=>{let o=Object.keys(r).length;return o>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${o} blobs from IndexedDB!`),r):(this.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(r=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),this.uppy.log(r),{}))}onBlobsLoaded(r){let o=[],c={...this.uppy.getState().files};Object.keys(r).forEach(p=>{let _=this.uppy.getFile(p);if(!_){o.push(p);return}let M={data:r[p],isRestored:!0,isGhost:!1};c[p]={..._,...M}}),Object.keys(c).forEach(p=>{c[p].data===null&&(c[p]={...c[p],isGhost:!0})}),this.uppy.setState({files:c}),this.uppy.emit("restored",this.savedPluginData),o.length&&this.deleteBlobs(o).then(()=>{this.uppy.log(`[GoldenRetriever] Cleaned up ${o.length} old files`)}).catch(p=>{this.uppy.log(`[GoldenRetriever] Could not clean up ${o.length} old files`,"warning"),this.uppy.log(p)})}deleteBlobs(r){let o=[];return r.forEach(c=>{this.ServiceWorkerStore&&o.push(this.ServiceWorkerStore.delete(c)),this.IndexedDBStore&&o.push(this.IndexedDBStore.delete(c))}),Promise.all(o)}install(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}uninstall(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}};a(R1,"GoldenRetriever"),R1.VERSION=qH.version;var $H={version:"3.0.1"},F1=class extends Tt{constructor(r,o){super(r,o),this.type="debugger",this.id=this.opts.id||"ReduxDevTools",this.title="Redux DevTools";let c={};this.opts={...c,...o},this.handleStateChange=this.handleStateChange.bind(this),this.initDevTools=this.initDevTools.bind(this)}handleStateChange(r,o){this.devTools.send("UPPY_STATE_UPDATE",o)}initDevTools(){this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(r=>{if(r.type==="DISPATCH")switch(r.payload.type){case"RESET":this.uppy.cancelAll();return;case"IMPORT_STATE":{let{computedStates:o}=r.payload.nextLiftedState;this.uppy.store.state={...this.uppy.getState(),...o[o.length-1].state},this.uppy.updateAll(this.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":this.uppy.store.state={...this.uppy.getState(),...JSON.parse(r.state)},this.uppy.updateAll(this.uppy.getState());break}})}install(){this.withDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}uninstall(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}};a(F1,"ReduxDevTools"),F1.VERSION=$H.version;function fD(){throw new Error("Core has been renamed to Uppy")}a(fD,"Core");var VH={ProviderView:A2};bh.COMPANION_URL=UP,bh.COMPANION_ALLOWED_HOSTS=HP;var YH={};globalThis.Uppy=f})();/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 *//*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 *//**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */return mL}TG();var fk={exports:{}};(function(t,e){(function(i,s){typeof e.nodeName!="string"?t.exports=s():i.Croppie=s()})(typeof self<"u"?self:un,function(){if(typeof Promise!="function"){/*! promise-polyfill 3.1.0 */(function(J){function pe(He,ht){return function(){He.apply(ht,arguments)}}function ce(He){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof He!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],oi(He,pe(Ze,this),pe(Qe,this))}function Be(He){var ht=this;return this._state===null?void this._deferreds.push(He):void Ne(function(){var Ge=ht._state?He.onFulfilled:He.onRejected;if(Ge===null)return void(ht._state?He.resolve:He.reject)(ht._value);var Rt;try{Rt=Ge(ht._value)}catch(Gt){return void He.reject(Gt)}He.resolve(Rt)})}function Ze(He){try{if(He===this)throw new TypeError("A promise cannot be resolved with itself.");if(He&&(typeof He=="object"||typeof He=="function")){var ht=He.then;if(typeof ht=="function")return void oi(pe(ht,He),pe(Ze,this),pe(Qe,this))}this._state=!0,this._value=He,Pt.call(this)}catch(Ge){Qe.call(this,Ge)}}function Qe(He){this._state=!1,this._value=He,Pt.call(this)}function Pt(){for(var He=0,ht=this._deferreds.length;ht>He;He++)Be.call(this,this._deferreds[He]);this._deferreds=null}function Zt(He,ht,Ge,Rt){this.onFulfilled=typeof He=="function"?He:null,this.onRejected=typeof ht=="function"?ht:null,this.resolve=Ge,this.reject=Rt}function oi(He,ht,Ge){var Rt=!1;try{He(function(Gt){Rt||(Rt=!0,ht(Gt))},function(Gt){Rt||(Rt=!0,Ge(Gt))})}catch(Gt){if(Rt)return;Rt=!0,Ge(Gt)}}var de=setTimeout,Ne=typeof setImmediate=="function"&&setImmediate||function(He){de(He,1)},ut=Array.isArray||function(He){return Object.prototype.toString.call(He)==="[object Array]"};ce.prototype.catch=function(He){return this.then(null,He)},ce.prototype.then=function(He,ht){var Ge=this;return new ce(function(Rt,Gt){Be.call(Ge,new Zt(He,ht,Rt,Gt))})},ce.all=function(){var He=Array.prototype.slice.call(arguments.length===1&&ut(arguments[0])?arguments[0]:arguments);return new ce(function(ht,Ge){function Rt(gi,ie){try{if(ie&&(typeof ie=="object"||typeof ie=="function")){var se=ie.then;if(typeof se=="function")return void se.call(ie,function(be){Rt(gi,be)},Ge)}He[gi]=ie,--Gt===0&&ht(He)}catch(be){Ge(be)}}if(He.length===0)return ht([]);for(var Gt=He.length,Mi=0;Mi<He.length;Mi++)Rt(Mi,He[Mi])})},ce.resolve=function(He){return He&&typeof He=="object"&&He.constructor===ce?He:new ce(function(ht){ht(He)})},ce.reject=function(He){return new ce(function(ht,Ge){Ge(He)})},ce.race=function(He){return new ce(function(ht,Ge){for(var Rt=0,Gt=He.length;Gt>Rt;Rt++)He[Rt].then(ht,Ge)})},ce._setImmediateFn=function(He){Ne=He},t.exports?t.exports=ce:J.Promise||(J.Promise=ce)})(this)}typeof window<"u"&&typeof window.CustomEvent!="function"&&function(){function J(pe,ce){ce=ce||{bubbles:!1,cancelable:!1,detail:void 0};var Be=document.createEvent("CustomEvent");return Be.initCustomEvent(pe,ce.bubbles,ce.cancelable,ce.detail),Be}J.prototype=window.Event.prototype,window.CustomEvent=J}(),typeof HTMLCanvasElement<"u"&&!HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(J,pe,ce){for(var Be=atob(this.toDataURL(pe,ce).split(",")[1]),Ze=Be.length,Qe=new Uint8Array(Ze),Pt=0;Pt<Ze;Pt++)Qe[Pt]=Be.charCodeAt(Pt);J(new Blob([Qe],{type:pe||"image/png"}))}});var i=["Webkit","Moz","ms"],s=typeof document<"u"?document.createElement("div").style:{},n=[1,8,3,6],l=[2,7,4,5],a,h,d;function m(J){if(J in s)return J;for(var pe=J[0].toUpperCase()+J.slice(1),ce=i.length;ce--;)if(J=i[ce]+pe,J in s)return J}h=m("transform"),a=m("transformOrigin"),d=m("userSelect");function y(J,pe){var ce=n.indexOf(J)>-1?n:l,Be=ce.indexOf(J),Ze=pe/90%ce.length;return ce[(ce.length+Be+Ze%ce.length)%ce.length]}function b(J,pe){J=J||{};for(var ce in pe)pe[ce]&&pe[ce].constructor&&pe[ce].constructor===Object?(J[ce]=J[ce]||{},b(J[ce],pe[ce])):J[ce]=pe[ce];return J}function k(J){return b({},J)}function x(J,pe,ce){var Be;return function(){var Ze=this,Qe=arguments,Pt=function(){Be=null,J.apply(Ze,Qe)};clearTimeout(Be),Be=setTimeout(Pt,pe)}}function E(J){if("createEvent"in document){var pe=document.createEvent("HTMLEvents");pe.initEvent("change",!1,!0),J.dispatchEvent(pe)}else J.fireEvent("onchange")}function O(J,pe,ce){if(typeof pe=="string"){var Be=pe;pe={},pe[Be]=ce}for(var Ze in pe)J.style[Ze]=pe[Ze]}function L(J,pe){J.classList?J.classList.add(pe):J.className+=" "+pe}function D(J,pe){J.classList?J.classList.remove(pe):J.className=J.className.replace(pe,"")}function u(J,pe){for(var ce in pe)J.setAttribute(ce,pe[ce])}function T(J){return parseInt(J,10)}function g(J,pe){if(!J)throw"Source image missing";var ce=new Image;return ce.style.opacity="0",new Promise(function(Be,Ze){function Qe(){ce.style.opacity="1",setTimeout(function(){Be(ce)},1)}ce.removeAttribute("crossOrigin"),J.match(/^https?:\/\/|^\/\//)&&ce.setAttribute("crossOrigin","anonymous"),ce.onload=function(){pe?EXIF.getData(ce,function(){Qe()}):Qe()},ce.onerror=function(Pt){ce.style.opacity=1,setTimeout(function(){Ze(Pt)},1)},ce.src=J})}function S(J,pe){var ce=J.naturalWidth,Be=J.naturalHeight,Ze=pe||U(J);if(Ze&&Ze>=5){var Qe=ce;ce=Be,Be=Qe}return{width:ce,height:Be}}var C={translate3d:{suffix:", 0px"},translate:{suffix:""}},P=function(J,pe,ce){this.x=parseFloat(J),this.y=parseFloat(pe),this.scale=parseFloat(ce)};P.parse=function(J){return J.style?P.parse(J.style[h]):J.indexOf("matrix")>-1||J.indexOf("none")>-1?P.fromMatrix(J):P.fromString(J)},P.fromMatrix=function(J){var pe=J.substring(7).split(",");return(!pe.length||J==="none")&&(pe=[1,0,0,1,0,0]),new P(T(pe[4]),T(pe[5]),parseFloat(pe[0]))},P.fromString=function(J){var pe=J.split(") "),ce=pe[0].substring(_r.globals.translate.length+1).split(","),Be=pe.length>1?pe[1].substring(6):1,Ze=ce.length>1?ce[0]:0,Qe=ce.length>1?ce[1]:0;return new P(Ze,Qe,Be)},P.prototype.toString=function(){var J=C[_r.globals.translate].suffix||"";return _r.globals.translate+"("+this.x+"px, "+this.y+"px"+J+") scale("+this.scale+")"};var I=function(J){if(!J||!J.style[a]){this.x=0,this.y=0;return}var pe=J.style[a].split(" ");this.x=parseFloat(pe[0]),this.y=parseFloat(pe[1])};I.prototype.toString=function(){return this.x+"px "+this.y+"px"};function U(J){return J.exifdata&&J.exifdata.Orientation?T(J.exifdata.Orientation):1}function z(J,pe,ce){var Be=pe.width,Ze=pe.height,Qe=J.getContext("2d");switch(J.width=pe.width,J.height=pe.height,Qe.save(),ce){case 2:Qe.translate(Be,0),Qe.scale(-1,1);break;case 3:Qe.translate(Be,Ze),Qe.rotate(180*Math.PI/180);break;case 4:Qe.translate(0,Ze),Qe.scale(1,-1);break;case 5:J.width=Ze,J.height=Be,Qe.rotate(90*Math.PI/180),Qe.scale(1,-1);break;case 6:J.width=Ze,J.height=Be,Qe.rotate(90*Math.PI/180),Qe.translate(0,-Ze);break;case 7:J.width=Ze,J.height=Be,Qe.rotate(-90*Math.PI/180),Qe.translate(-Be,Ze),Qe.scale(1,-1);break;case 8:J.width=Ze,J.height=Be,Qe.translate(0,Be),Qe.rotate(-90*Math.PI/180);break}Qe.drawImage(pe,0,0,Be,Ze),Qe.restore()}function f(){var J=this,pe="croppie-container",ce=J.options.viewport.type?"cr-vp-"+J.options.viewport.type:null,Be,Ze,Qe,Pt,Zt,oi;J.options.useCanvas=J.options.enableOrientation||w.call(J),J.data={},J.elements={},Be=J.elements.boundary=document.createElement("div"),Qe=J.elements.viewport=document.createElement("div"),Ze=J.elements.img=document.createElement("img"),Pt=J.elements.overlay=document.createElement("div"),J.options.useCanvas?(J.elements.canvas=document.createElement("canvas"),J.elements.preview=J.elements.canvas):J.elements.preview=Ze,L(Be,"cr-boundary"),Be.setAttribute("aria-dropeffect","none"),Zt=J.options.boundary.width,oi=J.options.boundary.height,O(Be,{width:Zt+(isNaN(Zt)?"":"px"),height:oi+(isNaN(oi)?"":"px")}),L(Qe,"cr-viewport"),ce&&L(Qe,ce),O(Qe,{width:J.options.viewport.width+"px",height:J.options.viewport.height+"px"}),Qe.setAttribute("tabindex",0),L(J.elements.preview,"cr-image"),u(J.elements.preview,{alt:"preview","aria-grabbed":"false"}),L(Pt,"cr-overlay"),J.element.appendChild(Be),Be.appendChild(J.elements.preview),Be.appendChild(Qe),Be.appendChild(Pt),L(J.element,pe),J.options.customClass&&L(J.element,J.options.customClass),ue.call(this),J.options.enableZoom&&B.call(J),J.options.enableResize&&A.call(J)}function w(){return this.options.enableExif&&window.EXIF}function A(){var J=this,pe=document.createElement("div"),ce=!1,Be,Ze,Qe,Pt=50,Zt,oi,de,Ne;L(pe,"cr-resizer"),O(pe,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(de=document.createElement("div"),L(de,"cr-resizer-vertical"),pe.appendChild(de)),this.options.resizeControls.width&&(Ne=document.createElement("div"),L(Ne,"cr-resizer-horisontal"),pe.appendChild(Ne));function ut(Ge){if(!(Ge.button!==void 0&&Ge.button!==0)&&(Ge.preventDefault(),!ce)){var Rt=J.elements.overlay.getBoundingClientRect();if(ce=!0,Ze=Ge.pageX,Qe=Ge.pageY,Be=Ge.currentTarget.className.indexOf("vertical")!==-1?"v":"h",Zt=Rt.width,oi=Rt.height,Ge.touches){var Gt=Ge.touches[0];Ze=Gt.pageX,Qe=Gt.pageY}window.addEventListener("mousemove",He),window.addEventListener("touchmove",He),window.addEventListener("mouseup",ht),window.addEventListener("touchend",ht),document.body.style[d]="none"}}function He(Ge){var Rt=Ge.pageX,Gt=Ge.pageY;if(Ge.preventDefault(),Ge.touches){var Mi=Ge.touches[0];Rt=Mi.pageX,Gt=Mi.pageY}var gi=Rt-Ze,ie=Gt-Qe,se=J.options.viewport.height+ie,be=J.options.viewport.width+gi;Be==="v"&&se>=Pt&&se<=oi?(O(pe,{height:se+"px"}),J.options.boundary.height+=ie,O(J.elements.boundary,{height:J.options.boundary.height+"px"}),J.options.viewport.height+=ie,O(J.elements.viewport,{height:J.options.viewport.height+"px"})):Be==="h"&&be>=Pt&&be<=Zt&&(O(pe,{width:be+"px"}),J.options.boundary.width+=gi,O(J.elements.boundary,{width:J.options.boundary.width+"px"}),J.options.viewport.width+=gi,O(J.elements.viewport,{width:J.options.viewport.width+"px"})),Q.call(J),Pe.call(J),G.call(J),we.call(J),Qe=Gt,Ze=Rt}function ht(){ce=!1,window.removeEventListener("mousemove",He),window.removeEventListener("touchmove",He),window.removeEventListener("mouseup",ht),window.removeEventListener("touchend",ht),document.body.style[d]=""}de&&(de.addEventListener("mousedown",ut),de.addEventListener("touchstart",ut)),Ne&&(Ne.addEventListener("mousedown",ut),Ne.addEventListener("touchstart",ut)),this.elements.boundary.appendChild(pe)}function R(J){if(this.options.enableZoom){var pe=this.elements.zoomer,ce=Si(J,4);pe.value=Math.max(parseFloat(pe.min),Math.min(parseFloat(pe.max),ce)).toString()}}function B(){var J=this,pe=J.elements.zoomerWrap=document.createElement("div"),ce=J.elements.zoomer=document.createElement("input");L(pe,"cr-slider-wrap"),L(ce,"cr-slider"),ce.type="range",ce.step="0.0001",ce.value="1",ce.style.display=J.options.showZoomer?"":"none",ce.setAttribute("aria-label","zoom"),J.element.appendChild(pe),pe.appendChild(ce),J._currentZoom=1;function Be(){W.call(J,{value:parseFloat(ce.value),origin:new I(J.elements.preview),viewportRect:J.elements.viewport.getBoundingClientRect(),transform:P.parse(J.elements.preview)})}function Ze(Qe){var Pt,Zt;if(J.options.mouseWheelZoom==="ctrl"&&Qe.ctrlKey!==!0)return 0;Qe.wheelDelta?Pt=Qe.wheelDelta/1200:Qe.deltaY?Pt=Qe.deltaY/1060:Qe.detail?Pt=Qe.detail/-60:Pt=0,Zt=J._currentZoom+Pt*J._currentZoom,Qe.preventDefault(),R.call(J,Zt),Be.call(J)}J.elements.zoomer.addEventListener("input",Be),J.elements.zoomer.addEventListener("change",Be),J.options.mouseWheelZoom&&(J.elements.boundary.addEventListener("mousewheel",Ze),J.elements.boundary.addEventListener("DOMMouseScroll",Ze))}function W(J){var pe=this,ce=J?J.transform:P.parse(pe.elements.preview),Be=J?J.viewportRect:pe.elements.viewport.getBoundingClientRect(),Ze=J?J.origin:new I(pe.elements.preview);function Qe(){var de={};de[h]=ce.toString(),de[a]=Ze.toString(),O(pe.elements.preview,de)}if(pe._currentZoom=J?J.value:pe._currentZoom,ce.scale=pe._currentZoom,pe.elements.zoomer.setAttribute("aria-valuenow",pe._currentZoom),Qe(),pe.options.enforceBoundary){var Pt=$.call(pe,Be),Zt=Pt.translate,oi=Pt.origin;ce.x>=Zt.maxX&&(Ze.x=oi.minX,ce.x=Zt.maxX),ce.x<=Zt.minX&&(Ze.x=oi.maxX,ce.x=Zt.minX),ce.y>=Zt.maxY&&(Ze.y=oi.minY,ce.y=Zt.maxY),ce.y<=Zt.minY&&(Ze.y=oi.maxY,ce.y=Zt.minY)}Qe(),K.call(pe),we.call(pe)}function $(J){var pe=this,ce=pe._currentZoom,Be=J.width,Ze=J.height,Qe=pe.elements.boundary.clientWidth/2,Pt=pe.elements.boundary.clientHeight/2,Zt=pe.elements.preview.getBoundingClientRect(),oi=Zt.width,de=Zt.height,Ne=Be/2,ut=Ze/2,He=(Ne/ce-Qe)*-1,ht=He-(oi*(1/ce)-Be*(1/ce)),Ge=(ut/ce-Pt)*-1,Rt=Ge-(de*(1/ce)-Ze*(1/ce)),Gt=1/ce*Ne,Mi=oi*(1/ce)-Gt,gi=1/ce*ut,ie=de*(1/ce)-gi;return{translate:{maxX:He,minX:ht,maxY:Ge,minY:Rt},origin:{maxX:Mi,minX:Gt,maxY:ie,minY:gi}}}function G(J){var pe=this,ce=pe._currentZoom,Be=pe.elements.preview.getBoundingClientRect(),Ze=pe.elements.viewport.getBoundingClientRect(),Qe=P.parse(pe.elements.preview.style[h]),Pt=new I(pe.elements.preview),Zt=Ze.top-Be.top+Ze.height/2,oi=Ze.left-Be.left+Ze.width/2,de={},Ne={};if(J){var ut=Pt.x,He=Pt.y,ht=Qe.x,Ge=Qe.y;de.y=ut,de.x=He,Qe.y=ht,Qe.x=Ge}else de.y=Zt/ce,de.x=oi/ce,Ne.y=(de.y-Pt.y)*(1-ce),Ne.x=(de.x-Pt.x)*(1-ce),Qe.x-=Ne.x,Qe.y-=Ne.y;var Rt={};Rt[a]=de.x+"px "+de.y+"px",Rt[h]=Qe.toString(),O(pe.elements.preview,Rt)}function ue(){var J=this,pe=!1,ce,Be,Ze,Qe,Pt;function Zt(Ge,Rt){var Gt=J.elements.preview.getBoundingClientRect(),Mi=Pt.y+Rt,gi=Pt.x+Ge;J.options.enforceBoundary?(Qe.top>Gt.top+Rt&&Qe.bottom<Gt.bottom+Rt&&(Pt.y=Mi),Qe.left>Gt.left+Ge&&Qe.right<Gt.right+Ge&&(Pt.x=gi)):(Pt.y=Mi,Pt.x=gi)}function oi(Ge){J.elements.preview.setAttribute("aria-grabbed",Ge),J.elements.boundary.setAttribute("aria-dropeffect",Ge?"move":"none")}function de(Ge){var Rt=37,Gt=38,Mi=39,gi=40;if(Ge.shiftKey&&(Ge.keyCode===Gt||Ge.keyCode===gi)){var ie;Ge.keyCode===Gt?ie=parseFloat(J.elements.zoomer.value)+parseFloat(J.elements.zoomer.step):ie=parseFloat(J.elements.zoomer.value)-parseFloat(J.elements.zoomer.step),J.setZoom(ie)}else if(J.options.enableKeyMovement&&Ge.keyCode>=37&&Ge.keyCode<=40){Ge.preventDefault();var se=be(Ge.keyCode);Pt=P.parse(J.elements.preview),document.body.style[d]="none",Qe=J.elements.viewport.getBoundingClientRect(),Ne(se)}function be(je){switch(je){case Rt:return[1,0];case Gt:return[0,1];case Mi:return[-1,0];case gi:return[0,-1]}}}function Ne(Ge){var Rt=Ge[0],Gt=Ge[1],Mi={};Zt(Rt,Gt),Mi[h]=Pt.toString(),O(J.elements.preview,Mi),Q.call(J),document.body.style[d]="",G.call(J),we.call(J),Ze=0}function ut(Ge){if(!(Ge.button!==void 0&&Ge.button!==0)&&(Ge.preventDefault(),!pe)){if(pe=!0,ce=Ge.pageX,Be=Ge.pageY,Ge.touches){var Rt=Ge.touches[0];ce=Rt.pageX,Be=Rt.pageY}oi(pe),Pt=P.parse(J.elements.preview),window.addEventListener("mousemove",He),window.addEventListener("touchmove",He),window.addEventListener("mouseup",ht),window.addEventListener("touchend",ht),document.body.style[d]="none",Qe=J.elements.viewport.getBoundingClientRect()}}function He(Ge){Ge.preventDefault();var Rt=Ge.pageX,Gt=Ge.pageY;if(Ge.touches){var Mi=Ge.touches[0];Rt=Mi.pageX,Gt=Mi.pageY}var gi=Rt-ce,ie=Gt-Be,se={};if(Ge.type==="touchmove"&&Ge.touches.length>1){var be=Ge.touches[0],je=Ge.touches[1],gt=Math.sqrt((be.pageX-je.pageX)*(be.pageX-je.pageX)+(be.pageY-je.pageY)*(be.pageY-je.pageY));Ze||(Ze=gt/J._currentZoom);var St=gt/Ze;R.call(J,St),E(J.elements.zoomer);return}Zt(gi,ie),se[h]=Pt.toString(),O(J.elements.preview,se),Q.call(J),Be=Gt,ce=Rt}function ht(){pe=!1,oi(pe),window.removeEventListener("mousemove",He),window.removeEventListener("touchmove",He),window.removeEventListener("mouseup",ht),window.removeEventListener("touchend",ht),document.body.style[d]="",G.call(J),we.call(J),Ze=0}J.elements.overlay.addEventListener("mousedown",ut),J.elements.viewport.addEventListener("keydown",de),J.elements.overlay.addEventListener("touchstart",ut)}function Q(){if(this.elements){var J=this,pe=J.elements.boundary.getBoundingClientRect(),ce=J.elements.preview.getBoundingClientRect();O(J.elements.overlay,{width:ce.width+"px",height:ce.height+"px",top:ce.top-pe.top+"px",left:ce.left-pe.left+"px"})}}var K=x(Q,500);function we(){var J=this,pe=J.get();if(ze.call(J))if(J.options.update.call(J,pe),J.$&&typeof Prototype>"u")J.$(J.element).trigger("update.croppie",pe);else{var ce;window.CustomEvent?ce=new CustomEvent("update",{detail:pe}):(ce=document.createEvent("CustomEvent"),ce.initCustomEvent("update",!0,!0,pe)),J.element.dispatchEvent(ce)}}function ze(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function Ke(){var J=this,pe=1,ce={},Be=J.elements.preview,Ze,Qe=new P(0,0,pe),Pt=new I,Zt=ze.call(J);!Zt||J.data.bound||(J.data.bound=!0,ce[h]=Qe.toString(),ce[a]=Pt.toString(),ce.opacity=1,O(Be,ce),Ze=J.elements.preview.getBoundingClientRect(),J._originalImageWidth=Ze.width,J._originalImageHeight=Ze.height,J.data.orientation=w.call(J)?U(J.elements.img):J.data.orientation,J.options.enableZoom?Pe.call(J,!0):J._currentZoom=pe,Qe.scale=J._currentZoom,ce[h]=Qe.toString(),O(Be,ce),J.data.points.length?We.call(J,J.data.points):it.call(J),G.call(J),Q.call(J))}function Pe(J){var pe=this,ce=Math.max(pe.options.minZoom,0)||0,Be=pe.options.maxZoom||1.5,Ze,Qe,Pt=pe.elements.zoomer,Zt=parseFloat(Pt.value),oi=pe.elements.boundary.getBoundingClientRect(),de=S(pe.elements.img,pe.data.orientation),Ne=pe.elements.viewport.getBoundingClientRect(),ut,He;pe.options.enforceBoundary&&(ut=Ne.width/de.width,He=Ne.height/de.height,ce=Math.max(ut,He)),ce>=Be&&(Be=ce+1),Pt.min=Si(ce,4),Pt.max=Si(Be,4),!J&&(Zt<Pt.min||Zt>Pt.max)?R.call(pe,Zt<Pt.min?Pt.min:Pt.max):J&&(Qe=Math.max(oi.width/de.width,oi.height/de.height),Ze=pe.data.boundZoom!==null?pe.data.boundZoom:Qe,R.call(pe,Ze)),E(Pt)}function We(J){if(J.length!==4)throw"Croppie - Invalid number of points supplied: "+J;var pe=this,ce=J[2]-J[0],Be=pe.elements.viewport.getBoundingClientRect(),Ze=pe.elements.boundary.getBoundingClientRect(),Qe={left:Be.left-Ze.left,top:Be.top-Ze.top},Pt=Be.width/ce,Zt=J[1],oi=J[0],de=-1*J[1]+Qe.top,Ne=-1*J[0]+Qe.left,ut={};ut[a]=oi+"px "+Zt+"px",ut[h]=new P(Ne,de,Pt).toString(),O(pe.elements.preview,ut),R.call(pe,Pt),pe._currentZoom=Pt}function it(){var J=this,pe=J.elements.preview.getBoundingClientRect(),ce=J.elements.viewport.getBoundingClientRect(),Be=J.elements.boundary.getBoundingClientRect(),Ze=ce.left-Be.left,Qe=ce.top-Be.top,Pt=Ze-(pe.width-ce.width)/2,Zt=Qe-(pe.height-ce.height)/2,oi=new P(Pt,Zt,J._currentZoom);O(J.elements.preview,h,oi.toString())}function vt(J){var pe=this,ce=pe.elements.canvas,Be=pe.elements.img,Ze=ce.getContext("2d");Ze.clearRect(0,0,ce.width,ce.height),ce.width=Be.width,ce.height=Be.height;var Qe=pe.options.enableOrientation&&J||U(Be);z(ce,Be,Qe)}function Lt(J){var pe=this,ce=J.points,Be=T(ce[0]),Ze=T(ce[1]),Qe=T(ce[2]),Pt=T(ce[3]),Zt=Qe-Be,oi=Pt-Ze,de=J.circle,Ne=document.createElement("canvas"),ut=Ne.getContext("2d"),He=J.outputWidth||Zt,ht=J.outputHeight||oi;Ne.width=He,Ne.height=ht,J.backgroundColor&&(ut.fillStyle=J.backgroundColor,ut.fillRect(0,0,He,ht));var Ge=Be,Rt=Ze,Gt=Zt,Mi=oi,gi=0,ie=0,se=He,be=ht;return Be<0&&(Ge=0,gi=Math.abs(Be)/Zt*He),Gt+Ge>pe._originalImageWidth&&(Gt=pe._originalImageWidth-Ge,se=Gt/Zt*He),Ze<0&&(Rt=0,ie=Math.abs(Ze)/oi*ht),Mi+Rt>pe._originalImageHeight&&(Mi=pe._originalImageHeight-Rt,be=Mi/oi*ht),ut.drawImage(this.elements.preview,Ge,Rt,Gt,Mi,gi,ie,se,be),de&&(ut.fillStyle="#fff",ut.globalCompositeOperation="destination-in",ut.beginPath(),ut.arc(Ne.width/2,Ne.height/2,Ne.width/2,0,Math.PI*2,!0),ut.closePath(),ut.fill()),Ne}function Re(J){var pe=J.points,ce=document.createElement("div"),Be=document.createElement("img"),Ze=pe[2]-pe[0],Qe=pe[3]-pe[1];return L(ce,"croppie-result"),ce.appendChild(Be),O(Be,{left:-1*pe[0]+"px",top:-1*pe[1]+"px"}),Be.src=J.url,O(ce,{width:Ze+"px",height:Qe+"px"}),ce}function Yt(J){return Lt.call(this,J).toDataURL(J.format,J.quality)}function $t(J){var pe=this;return new Promise(function(ce){Lt.call(pe,J).toBlob(function(Be){ce(Be)},J.format,J.quality)})}function Ri(J){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(pe){J.classList.add(pe)}),this.elements.img.parentNode.replaceChild(J,this.elements.img),this.elements.preview=J),this.elements.img=J}function nt(J,pe){var ce=this,Be,Ze=[],Qe=null,Pt=w.call(ce);if(typeof J=="string")Be=J,J={};else if(Array.isArray(J))Ze=J.slice();else{if(typeof J>"u"&&ce.data.url)return Ke.call(ce),we.call(ce),null;Be=J.url,Ze=J.points||[],Qe=typeof J.zoom>"u"?null:J.zoom}return ce.data.bound=!1,ce.data.url=Be||ce.data.url,ce.data.boundZoom=Qe,g(Be,Pt).then(function(Zt){if(Ri.call(ce,Zt),Ze.length)ce.options.relative&&(Ze=[Ze[0]*Zt.naturalWidth/100,Ze[1]*Zt.naturalHeight/100,Ze[2]*Zt.naturalWidth/100,Ze[3]*Zt.naturalHeight/100]);else{var oi=S(Zt),de=ce.elements.viewport.getBoundingClientRect(),Ne=de.width/de.height,ut=oi.width/oi.height,He,ht;ut>Ne?(ht=oi.height,He=ht*Ne):(He=oi.width,ht=oi.height/Ne);var Ge=(oi.width-He)/2,Rt=(oi.height-ht)/2,Gt=Ge+He,Mi=Rt+ht;ce.data.points=[Ge,Rt,Gt,Mi]}ce.data.orientation=J.orientation||1,ce.data.points=Ze.map(function(gi){return parseFloat(gi)}),ce.options.useCanvas&&vt.call(ce,ce.data.orientation),Ke.call(ce),we.call(ce),pe&&pe()})}function Si(J,pe){return parseFloat(J).toFixed(pe||0)}function Qi(){var J=this,pe=J.elements.preview.getBoundingClientRect(),ce=J.elements.viewport.getBoundingClientRect(),Be=ce.left-pe.left,Ze=ce.top-pe.top,Qe=(ce.width-J.elements.viewport.offsetWidth)/2,Pt=(ce.height-J.elements.viewport.offsetHeight)/2,Zt=Be+J.elements.viewport.offsetWidth+Qe,oi=Ze+J.elements.viewport.offsetHeight+Pt,de=J._currentZoom;(de===1/0||isNaN(de))&&(de=1);var Ne=J.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return Be=Math.max(Ne,Be/de),Ze=Math.max(Ne,Ze/de),Zt=Math.max(Ne,Zt/de),oi=Math.max(Ne,oi/de),{points:[Si(Be),Si(Ze),Si(Zt),Si(oi)],zoom:de,orientation:J.data.orientation}}var Ji={type:"canvas",format:"png",quality:1},bt=["jpeg","webp","png"];function Wt(J){var pe=this,ce=Qi.call(pe),Be=b(k(Ji),k(J)),Ze=typeof J=="string"?J:Be.type||"base64",Qe=Be.size||"viewport",Pt=Be.format,Zt=Be.quality,oi=Be.backgroundColor,de=typeof Be.circle=="boolean"?Be.circle:pe.options.viewport.type==="circle",Ne=pe.elements.viewport.getBoundingClientRect(),ut=Ne.width/Ne.height,He;return Qe==="viewport"?(ce.outputWidth=Ne.width,ce.outputHeight=Ne.height):typeof Qe=="object"&&(Qe.width&&Qe.height?(ce.outputWidth=Qe.width,ce.outputHeight=Qe.height):Qe.width?(ce.outputWidth=Qe.width,ce.outputHeight=Qe.width/ut):Qe.height&&(ce.outputWidth=Qe.height*ut,ce.outputHeight=Qe.height)),bt.indexOf(Pt)>-1&&(ce.format="image/"+Pt,ce.quality=Zt),ce.circle=de,ce.url=pe.data.url,ce.backgroundColor=oi,He=new Promise(function(ht){switch(Ze.toLowerCase()){case"rawcanvas":ht(Lt.call(pe,ce));break;case"canvas":case"base64":ht(Yt.call(pe,ce));break;case"blob":$t.call(pe,ce).then(ht);break;default:ht(Re.call(pe,ce));break}}),He}function Gi(){Ke.call(this)}function jr(J){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var pe=this,ce=pe.elements.canvas;if(pe.data.orientation=y(pe.data.orientation,J),z(ce,pe.elements.img,pe.data.orientation),G.call(pe,!0),Pe.call(pe),Math.abs(J)/90%2===1){var Be=pe._originalImageHeight,Ze=pe._originalImageWidth;pe._originalImageWidth=Be,pe._originalImageHeight=Ze}}function Zr(){var J=this;J.element.removeChild(J.elements.boundary),D(J.element,"croppie-container"),J.options.enableZoom&&J.element.removeChild(J.elements.zoomerWrap),delete J.elements}if(typeof window<"u"&&window.jQuery){var Li=window.jQuery;Li.fn.croppie=function(J){var pe=typeof J;if(pe==="string"){var ce=Array.prototype.slice.call(arguments,1),Be=Li(this).data("croppie");return J==="get"?Be.get():J==="result"?Be.result.apply(Be,ce):J==="bind"?Be.bind.apply(Be,ce):this.each(function(){var Ze=Li(this).data("croppie");if(Ze){var Qe=Ze[J];if(Li.isFunction(Qe))Qe.apply(Ze,ce),J==="destroy"&&Li(this).removeData("croppie");else throw"Croppie "+J+" method not found"}})}else return this.each(function(){var Ze=new _r(this,J);Ze.$=Li,Li(this).data("croppie",Ze)})}}function _r(J,pe){if(J.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=J,this.options=b(k(_r.defaults),pe),this.element.tagName.toLowerCase()==="img"){var ce=this.element;L(ce,"cr-original-image"),u(ce,{"aria-hidden":"true",alt:""});var Be=document.createElement("div");this.element.parentNode.appendChild(Be),Be.appendChild(ce),this.element=Be,this.options.url=this.options.url||ce.src}if(f.call(this),this.options.url){var Ze={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,nt.call(this,Ze)}}return _r.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},_r.globals={translate:"translate3d"},b(_r.prototype,{bind:function(J,pe){return nt.call(this,J,pe)},get:function(){var J=Qi.call(this),pe=J.points;return this.options.relative&&(pe[0]/=this.elements.img.naturalWidth/100,pe[1]/=this.elements.img.naturalHeight/100,pe[2]/=this.elements.img.naturalWidth/100,pe[3]/=this.elements.img.naturalHeight/100),J},result:function(J){return Wt.call(this,J)},refresh:function(){return Gi.call(this)},setZoom:function(J){R.call(this,J),E(this.elements.zoomer)},rotate:function(J){jr.call(this,J)},destroy:function(){return Zr.call(this)}}),_r})})(fk,fk.exports);var CG=fk.exports;const EG=Wd(CG);var fI={exports:{}},dx={exports:{}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var yL;function Vd(){return yL||(yL=1,function(t){(function(e,i){t.exports?t.exports=i():e.getSize=i()})(window,function(){function i(x){var E=parseFloat(x),O=x.indexOf("%")==-1&&!isNaN(E);return O&&E}function s(){}var n=typeof console>"u"?s:function(x){console.error(x)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=l.length;function h(){for(var x={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},E=0;E<a;E++){var O=l[E];x[O]=0}return x}function d(x){var E=getComputedStyle(x);return E||n("Style returned "+E+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),E}var m=!1,y;function b(){if(!m){m=!0;var x=document.createElement("div");x.style.width="200px",x.style.padding="1px 2px 3px 4px",x.style.borderStyle="solid",x.style.borderWidth="1px 2px 3px 4px",x.style.boxSizing="border-box";var E=document.body||document.documentElement;E.appendChild(x);var O=d(x);y=Math.round(i(O.width))==200,k.isBoxSizeOuter=y,E.removeChild(x)}}function k(x){if(b(),typeof x=="string"&&(x=document.querySelector(x)),!(!x||typeof x!="object"||!x.nodeType)){var E=d(x);if(E.display=="none")return h();var O={};O.width=x.offsetWidth,O.height=x.offsetHeight;for(var L=O.isBorderBox=E.boxSizing=="border-box",D=0;D<a;D++){var u=l[D],T=E[u],g=parseFloat(T);O[u]=isNaN(g)?0:g}var S=O.paddingLeft+O.paddingRight,C=O.paddingTop+O.paddingBottom,P=O.marginLeft+O.marginRight,I=O.marginTop+O.marginBottom,U=O.borderLeftWidth+O.borderRightWidth,z=O.borderTopWidth+O.borderBottomWidth,f=L&&y,w=i(E.width);w!==!1&&(O.width=w+(f?0:S+U));var A=i(E.height);return A!==!1&&(O.height=A+(f?0:C+z)),O.innerWidth=O.width-(S+U),O.innerHeight=O.height-(C+z),O.outerWidth=O.width+P,O.outerHeight=O.height+I,O}}return k})}(dx)),dx.exports}var fx={exports:{}},px={exports:{}},vL;function pI(){return vL||(vL=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:un,function(){function e(){}var i=e.prototype;return i.on=function(s,n){if(!(!s||!n)){var l=this._events=this._events||{},a=l[s]=l[s]||[];return a.indexOf(n)==-1&&a.push(n),this}},i.once=function(s,n){if(!(!s||!n)){this.on(s,n);var l=this._onceEvents=this._onceEvents||{},a=l[s]=l[s]||{};return a[n]=!0,this}},i.off=function(s,n){var l=this._events&&this._events[s];if(!(!l||!l.length)){var a=l.indexOf(n);return a!=-1&&l.splice(a,1),this}},i.emitEvent=function(s,n){var l=this._events&&this._events[s];if(!(!l||!l.length)){l=l.slice(0),n=n||[];for(var a=this._onceEvents&&this._onceEvents[s],h=0;h<l.length;h++){var d=l[h],m=a&&a[d];m&&(this.off(s,d),delete a[d]),d.apply(this,n)}return this}},i.allOff=function(){delete this._events,delete this._onceEvents},e})}(px)),px.exports}var mx={exports:{}},gx={exports:{}},bL;function mI(){return bL||(bL=1,function(t){(function(e,i){t.exports?t.exports=i():e.matchesSelector=i()})(window,function(){var i=function(){var s=window.Element.prototype;if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var n=["webkit","moz","ms","o"],l=0;l<n.length;l++){var a=n[l],h=a+"MatchesSelector";if(s[h])return h}}();return function(n,l){return n[i](l)}})}(gx)),gx.exports}var _L;function gI(){return _L||(_L=1,function(t){(function(e,i){t.exports?t.exports=i(e,mI()):e.fizzyUIUtils=i(e,e.matchesSelector)})(window,function(i,s){var n={};n.extend=function(h,d){for(var m in d)h[m]=d[m];return h},n.modulo=function(h,d){return(h%d+d)%d};var l=Array.prototype.slice;n.makeArray=function(h){if(Array.isArray(h))return h;if(h==null)return[];var d=typeof h=="object"&&typeof h.length=="number";return d?l.call(h):[h]},n.removeFrom=function(h,d){var m=h.indexOf(d);m!=-1&&h.splice(m,1)},n.getParent=function(h,d){for(;h.parentNode&&h!=document.body;)if(h=h.parentNode,s(h,d))return h},n.getQueryElement=function(h){return typeof h=="string"?document.querySelector(h):h},n.handleEvent=function(h){var d="on"+h.type;this[d]&&this[d](h)},n.filterFindElements=function(h,d){h=n.makeArray(h);var m=[];return h.forEach(function(y){if(y instanceof HTMLElement){if(!d){m.push(y);return}s(y,d)&&m.push(y);for(var b=y.querySelectorAll(d),k=0;k<b.length;k++)m.push(b[k])}}),m},n.debounceMethod=function(h,d,m){m=m||100;var y=h.prototype[d],b=d+"Timeout";h.prototype[d]=function(){var k=this[b];clearTimeout(k);var x=arguments,E=this;this[b]=setTimeout(function(){y.apply(E,x),delete E[b]},m)}},n.docReady=function(h){var d=document.readyState;d=="complete"||d=="interactive"?setTimeout(h):document.addEventListener("DOMContentLoaded",h)},n.toDashed=function(h){return h.replace(/(.)([A-Z])/g,function(d,m,y){return m+"-"+y}).toLowerCase()};var a=i.console;return n.htmlInit=function(h,d){n.docReady(function(){var m=n.toDashed(d),y="data-"+m,b=document.querySelectorAll("["+y+"]"),k=document.querySelectorAll(".js-"+m),x=n.makeArray(b).concat(n.makeArray(k)),E=y+"-options",O=i.jQuery;x.forEach(function(L){var D=L.getAttribute(y)||L.getAttribute(E),u;try{u=D&&JSON.parse(D)}catch(g){a&&a.error("Error parsing "+y+" on "+L.className+": "+g);return}var T=new h(L,u);O&&O.data(L,d,T)})})},n})}(mx)),mx.exports}var yx={exports:{}},wL;function OG(){return wL||(wL=1,function(t){(function(e,i){t.exports?t.exports=i(pI(),Vd()):(e.Outlayer={},e.Outlayer.Item=i(e.EvEmitter,e.getSize))})(window,function(i,s){function n(L){for(var D in L)return!1;return D=null,!0}var l=document.documentElement.style,a=typeof l.transition=="string"?"transition":"WebkitTransition",h=typeof l.transform=="string"?"transform":"WebkitTransform",d={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],m={transform:h,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"};function y(L,D){L&&(this.element=L,this.layout=D,this.position={x:0,y:0},this._create())}var b=y.prototype=Object.create(i.prototype);b.constructor=y,b._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},b.handleEvent=function(L){var D="on"+L.type;this[D]&&this[D](L)},b.getSize=function(){this.size=s(this.element)},b.css=function(L){var D=this.element.style;for(var u in L){var T=m[u]||u;D[T]=L[u]}},b.getPosition=function(){var L=getComputedStyle(this.element),D=this.layout._getOption("originLeft"),u=this.layout._getOption("originTop"),T=L[D?"left":"right"],g=L[u?"top":"bottom"],S=parseFloat(T),C=parseFloat(g),P=this.layout.size;T.indexOf("%")!=-1&&(S=S/100*P.width),g.indexOf("%")!=-1&&(C=C/100*P.height),S=isNaN(S)?0:S,C=isNaN(C)?0:C,S-=D?P.paddingLeft:P.paddingRight,C-=u?P.paddingTop:P.paddingBottom,this.position.x=S,this.position.y=C},b.layoutPosition=function(){var L=this.layout.size,D={},u=this.layout._getOption("originLeft"),T=this.layout._getOption("originTop"),g=u?"paddingLeft":"paddingRight",S=u?"left":"right",C=u?"right":"left",P=this.position.x+L[g];D[S]=this.getXValue(P),D[C]="";var I=T?"paddingTop":"paddingBottom",U=T?"top":"bottom",z=T?"bottom":"top",f=this.position.y+L[I];D[U]=this.getYValue(f),D[z]="",this.css(D),this.emitEvent("layout",[this])},b.getXValue=function(L){var D=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!D?L/this.layout.size.width*100+"%":L+"px"},b.getYValue=function(L){var D=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&D?L/this.layout.size.height*100+"%":L+"px"},b._transitionTo=function(L,D){this.getPosition();var u=this.position.x,T=this.position.y,g=L==this.position.x&&D==this.position.y;if(this.setPosition(L,D),g&&!this.isTransitioning){this.layoutPosition();return}var S=L-u,C=D-T,P={};P.transform=this.getTranslate(S,C),this.transition({to:P,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},b.getTranslate=function(L,D){var u=this.layout._getOption("originLeft"),T=this.layout._getOption("originTop");return L=u?L:-L,D=T?D:-D,"translate3d("+L+"px, "+D+"px, 0)"},b.goTo=function(L,D){this.setPosition(L,D),this.layoutPosition()},b.moveTo=b._transitionTo,b.setPosition=function(L,D){this.position.x=parseFloat(L),this.position.y=parseFloat(D)},b._nonTransition=function(L){this.css(L.to),L.isCleaning&&this._removeStyles(L.to);for(var D in L.onTransitionEnd)L.onTransitionEnd[D].call(this)},b.transition=function(L){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(L);return}var D=this._transn;for(var u in L.onTransitionEnd)D.onEnd[u]=L.onTransitionEnd[u];for(u in L.to)D.ingProperties[u]=!0,L.isCleaning&&(D.clean[u]=!0);L.from&&(this.css(L.from),this.element.offsetHeight),this.enableTransition(L.to),this.css(L.to),this.isTransitioning=!0};function k(L){return L.replace(/([A-Z])/g,function(D){return"-"+D.toLowerCase()})}var x="opacity,"+k(h);b.enableTransition=function(){if(!this.isTransitioning){var L=this.layout.options.transitionDuration;L=typeof L=="number"?L+"ms":L,this.css({transitionProperty:x,transitionDuration:L,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(d,this,!1)}},b.onwebkitTransitionEnd=function(L){this.ontransitionend(L)},b.onotransitionend=function(L){this.ontransitionend(L)};var E={"-webkit-transform":"transform"};b.ontransitionend=function(L){if(L.target===this.element){var D=this._transn,u=E[L.propertyName]||L.propertyName;if(delete D.ingProperties[u],n(D.ingProperties)&&this.disableTransition(),u in D.clean&&(this.element.style[L.propertyName]="",delete D.clean[u]),u in D.onEnd){var T=D.onEnd[u];T.call(this),delete D.onEnd[u]}this.emitEvent("transitionEnd",[this])}},b.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},b._removeStyles=function(L){var D={};for(var u in L)D[u]="";this.css(D)};var O={transitionProperty:"",transitionDuration:"",transitionDelay:""};return b.removeTransitionStyles=function(){this.css(O)},b.stagger=function(L){L=isNaN(L)?0:L,this.staggerDelay=L+"ms"},b.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},b.remove=function(){if(!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},b.reveal=function(){delete this.isHidden,this.css({display:""});var L=this.layout.options,D={},u=this.getHideRevealTransitionEndProperty("visibleStyle");D[u]=this.onRevealTransitionEnd,this.transition({from:L.hiddenStyle,to:L.visibleStyle,isCleaning:!0,onTransitionEnd:D})},b.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},b.getHideRevealTransitionEndProperty=function(L){var D=this.layout.options[L];if(D.opacity)return"opacity";for(var u in D)return u},b.hide=function(){this.isHidden=!0,this.css({display:""});var L=this.layout.options,D={},u=this.getHideRevealTransitionEndProperty("hiddenStyle");D[u]=this.onHideTransitionEnd,this.transition({from:L.visibleStyle,to:L.hiddenStyle,isCleaning:!0,onTransitionEnd:D})},b.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},b.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},y})}(yx)),yx.exports}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var xL;function Yd(){return xL||(xL=1,function(t){(function(e,i){t.exports?t.exports=i(e,pI(),Vd(),gI(),OG()):e.Outlayer=i(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)})(window,function(i,s,n,l,a){var h=i.console,d=i.jQuery,m=function(){},y=0,b={};function k(D,u){var T=l.getQueryElement(D);if(!T){h&&h.error("Bad element for "+this.constructor.namespace+": "+(T||D));return}this.element=T,d&&(this.$element=d(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(u);var g=++y;this.element.outlayerGUID=g,b[g]=this,this._create();var S=this._getOption("initLayout");S&&this.layout()}k.namespace="outlayer",k.Item=a,k.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var x=k.prototype;l.extend(x,s.prototype),x.option=function(D){l.extend(this.options,D)},x._getOption=function(D){var u=this.constructor.compatOptions[D];return u&&this.options[u]!==void 0?this.options[u]:this.options[D]},k.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},x._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l.extend(this.element.style,this.options.containerStyle);var D=this._getOption("resize");D&&this.bindResize()},x.reloadItems=function(){this.items=this._itemize(this.element.children)},x._itemize=function(D){for(var u=this._filterFindItemElements(D),T=this.constructor.Item,g=[],S=0;S<u.length;S++){var C=u[S],P=new T(C,this);g.push(P)}return g},x._filterFindItemElements=function(D){return l.filterFindElements(D,this.options.itemSelector)},x.getItemElements=function(){return this.items.map(function(D){return D.element})},x.layout=function(){this._resetLayout(),this._manageStamps();var D=this._getOption("layoutInstant"),u=D!==void 0?D:!this._isLayoutInited;this.layoutItems(this.items,u),this._isLayoutInited=!0},x._init=x.layout,x._resetLayout=function(){this.getSize()},x.getSize=function(){this.size=n(this.element)},x._getMeasurement=function(D,u){var T=this.options[D],g;T?(typeof T=="string"?g=this.element.querySelector(T):T instanceof HTMLElement&&(g=T),this[D]=g?n(g)[u]:T):this[D]=0},x.layoutItems=function(D,u){D=this._getItemsForLayout(D),this._layoutItems(D,u),this._postLayout()},x._getItemsForLayout=function(D){return D.filter(function(u){return!u.isIgnored})},x._layoutItems=function(D,u){if(this._emitCompleteOnItems("layout",D),!(!D||!D.length)){var T=[];D.forEach(function(g){var S=this._getItemLayoutPosition(g);S.item=g,S.isInstant=u||g.isLayoutInstant,T.push(S)},this),this._processLayoutQueue(T)}},x._getItemLayoutPosition=function(){return{x:0,y:0}},x._processLayoutQueue=function(D){this.updateStagger(),D.forEach(function(u,T){this._positionItem(u.item,u.x,u.y,u.isInstant,T)},this)},x.updateStagger=function(){var D=this.options.stagger;if(D==null){this.stagger=0;return}return this.stagger=L(D),this.stagger},x._positionItem=function(D,u,T,g,S){g?D.goTo(u,T):(D.stagger(S*this.stagger),D.moveTo(u,T))},x._postLayout=function(){this.resizeContainer()},x.resizeContainer=function(){var D=this._getOption("resizeContainer");if(D){var u=this._getContainerSize();u&&(this._setContainerMeasure(u.width,!0),this._setContainerMeasure(u.height,!1))}},x._getContainerSize=m,x._setContainerMeasure=function(D,u){if(D!==void 0){var T=this.size;T.isBorderBox&&(D+=u?T.paddingLeft+T.paddingRight+T.borderLeftWidth+T.borderRightWidth:T.paddingBottom+T.paddingTop+T.borderTopWidth+T.borderBottomWidth),D=Math.max(D,0),this.element.style[u?"width":"height"]=D+"px"}},x._emitCompleteOnItems=function(D,u){var T=this;function g(){T.dispatchEvent(D+"Complete",null,[u])}var S=u.length;if(!u||!S){g();return}var C=0;function P(){C++,C==S&&g()}u.forEach(function(I){I.once(D,P)})},x.dispatchEvent=function(D,u,T){var g=u?[u].concat(T):T;if(this.emitEvent(D,g),d)if(this.$element=this.$element||d(this.element),u){var S=d.Event(u);S.type=D,this.$element.trigger(S,T)}else this.$element.trigger(D,T)},x.ignore=function(D){var u=this.getItem(D);u&&(u.isIgnored=!0)},x.unignore=function(D){var u=this.getItem(D);u&&delete u.isIgnored},x.stamp=function(D){D=this._find(D),D&&(this.stamps=this.stamps.concat(D),D.forEach(this.ignore,this))},x.unstamp=function(D){D=this._find(D),D&&D.forEach(function(u){l.removeFrom(this.stamps,u),this.unignore(u)},this)},x._find=function(D){if(D)return typeof D=="string"&&(D=this.element.querySelectorAll(D)),D=l.makeArray(D),D},x._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},x._getBoundingRect=function(){var D=this.element.getBoundingClientRect(),u=this.size;this._boundingRect={left:D.left+u.paddingLeft+u.borderLeftWidth,top:D.top+u.paddingTop+u.borderTopWidth,right:D.right-(u.paddingRight+u.borderRightWidth),bottom:D.bottom-(u.paddingBottom+u.borderBottomWidth)}},x._manageStamp=m,x._getElementOffset=function(D){var u=D.getBoundingClientRect(),T=this._boundingRect,g=n(D),S={left:u.left-T.left-g.marginLeft,top:u.top-T.top-g.marginTop,right:T.right-u.right-g.marginRight,bottom:T.bottom-u.bottom-g.marginBottom};return S},x.handleEvent=l.handleEvent,x.bindResize=function(){i.addEventListener("resize",this),this.isResizeBound=!0},x.unbindResize=function(){i.removeEventListener("resize",this),this.isResizeBound=!1},x.onresize=function(){this.resize()},l.debounceMethod(k,"onresize",100),x.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},x.needsResizeLayout=function(){var D=n(this.element),u=this.size&&D;return u&&D.innerWidth!==this.size.innerWidth},x.addItems=function(D){var u=this._itemize(D);return u.length&&(this.items=this.items.concat(u)),u},x.appended=function(D){var u=this.addItems(D);u.length&&(this.layoutItems(u,!0),this.reveal(u))},x.prepended=function(D){var u=this._itemize(D);if(u.length){var T=this.items.slice(0);this.items=u.concat(T),this._resetLayout(),this._manageStamps(),this.layoutItems(u,!0),this.reveal(u),this.layoutItems(T)}},x.reveal=function(D){if(this._emitCompleteOnItems("reveal",D),!(!D||!D.length)){var u=this.updateStagger();D.forEach(function(T,g){T.stagger(g*u),T.reveal()})}},x.hide=function(D){if(this._emitCompleteOnItems("hide",D),!(!D||!D.length)){var u=this.updateStagger();D.forEach(function(T,g){T.stagger(g*u),T.hide()})}},x.revealItemElements=function(D){var u=this.getItems(D);this.reveal(u)},x.hideItemElements=function(D){var u=this.getItems(D);this.hide(u)},x.getItem=function(D){for(var u=0;u<this.items.length;u++){var T=this.items[u];if(T.element==D)return T}},x.getItems=function(D){D=l.makeArray(D);var u=[];return D.forEach(function(T){var g=this.getItem(T);g&&u.push(g)},this),u},x.remove=function(D){var u=this.getItems(D);this._emitCompleteOnItems("remove",u),!(!u||!u.length)&&u.forEach(function(T){T.remove(),l.removeFrom(this.items,T)},this)},x.destroy=function(){var D=this.element.style;D.height="",D.position="",D.width="",this.items.forEach(function(T){T.destroy()}),this.unbindResize();var u=this.element.outlayerGUID;delete b[u],delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},k.data=function(D){D=l.getQueryElement(D);var u=D&&D.outlayerGUID;return u&&b[u]},k.create=function(D,u){var T=E(k);return T.defaults=l.extend({},k.defaults),l.extend(T.defaults,u),T.compatOptions=l.extend({},k.compatOptions),T.namespace=D,T.data=k.data,T.Item=E(a),l.htmlInit(T,D),d&&d.bridget&&d.bridget(D,T),T};function E(D){function u(){D.apply(this,arguments)}return u.prototype=Object.create(D.prototype),u.prototype.constructor=u,u}var O={ms:1,s:1e3};function L(D){if(typeof D=="number")return D;var u=D.match(/(^\d*\.?\d*)(\w*)/),T=u&&u[1],g=u&&u[2];if(!T.length)return 0;T=parseFloat(T);var S=O[g]||1;return T*S}return k.Item=a,k})}(fx)),fx.exports}var vx={exports:{}},kL;function QS(){return kL||(kL=1,function(t){(function(e,i){t.exports?t.exports=i():(e.Packery=e.Packery||{},e.Packery.Rect=i())})(window,function(){function i(n){for(var l in i.defaults)this[l]=i.defaults[l];for(l in n)this[l]=n[l]}i.defaults={x:0,y:0,width:0,height:0};var s=i.prototype;return s.contains=function(n){var l=n.width||0,a=n.height||0;return this.x<=n.x&&this.y<=n.y&&this.x+this.width>=n.x+l&&this.y+this.height>=n.y+a},s.overlaps=function(n){var l=this.x+this.width,a=this.y+this.height,h=n.x+n.width,d=n.y+n.height;return this.x<h&&l>n.x&&this.y<d&&a>n.y},s.getMaximalFreeRects=function(n){if(!this.overlaps(n))return!1;var l=[],a,h=this.x+this.width,d=this.y+this.height,m=n.x+n.width,y=n.y+n.height;return this.y<n.y&&(a=new i({x:this.x,y:this.y,width:this.width,height:n.y-this.y}),l.push(a)),h>m&&(a=new i({x:m,y:this.y,width:h-m,height:this.height}),l.push(a)),d>y&&(a=new i({x:this.x,y,width:this.width,height:d-y}),l.push(a)),this.x<n.x&&(a=new i({x:this.x,y:this.y,width:n.x-this.x,height:this.height}),l.push(a)),l},s.canFit=function(n){return this.width>=n.width&&this.height>=n.height},i})}(vx)),vx.exports}var bx={exports:{}},SL;function MG(){return SL||(SL=1,function(t){(function(e,i){if(t.exports)t.exports=i(QS());else{var s=e.Packery=e.Packery||{};s.Packer=i(s.Rect)}})(window,function(i){function s(a,h,d){this.width=a||0,this.height=h||0,this.sortDirection=d||"downwardLeftToRight",this.reset()}var n=s.prototype;n.reset=function(){this.spaces=[];var a=new i({x:0,y:0,width:this.width,height:this.height});this.spaces.push(a),this.sorter=l[this.sortDirection]||l.downwardLeftToRight},n.pack=function(a){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h];if(d.canFit(a)){this.placeInSpace(a,d);break}}},n.columnPack=function(a){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h],m=d.x<=a.x&&d.x+d.width>=a.x+a.width&&d.height>=a.height-.01;if(m){a.y=d.y,this.placed(a);break}}},n.rowPack=function(a){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h],m=d.y<=a.y&&d.y+d.height>=a.y+a.height&&d.width>=a.width-.01;if(m){a.x=d.x,this.placed(a);break}}},n.placeInSpace=function(a,h){a.x=h.x,a.y=h.y,this.placed(a)},n.placed=function(a){for(var h=[],d=0;d<this.spaces.length;d++){var m=this.spaces[d],y=m.getMaximalFreeRects(a);y?h.push.apply(h,y):h.push(m)}this.spaces=h,this.mergeSortSpaces()},n.mergeSortSpaces=function(){s.mergeRects(this.spaces),this.spaces.sort(this.sorter)},n.addSpace=function(a){this.spaces.push(a),this.mergeSortSpaces()},s.mergeRects=function(a){var h=0,d=a[h];e:for(;d;){for(var m=0,y=a[h+m];y;){if(y==d)m++;else if(y.contains(d)){a.splice(h,1),d=a[h];continue e}else d.contains(y)?a.splice(h+m,1):m++;y=a[h+m]}h++,d=a[h]}return a};var l={downwardLeftToRight:function(a,h){return a.y-h.y||a.x-h.x},rightwardTopToBottom:function(a,h){return a.x-h.x||a.y-h.y}};return s})}(bx)),bx.exports}var _x={exports:{}},TL;function AG(){return TL||(TL=1,function(t){(function(e,i){t.exports?t.exports=i(Yd(),QS()):e.Packery.Item=i(e.Outlayer,e.Packery.Rect)})(window,function(i,s){var n=document.documentElement.style,l=typeof n.transform=="string"?"transform":"WebkitTransform",a=function(){i.Item.apply(this,arguments)},h=a.prototype=Object.create(i.Item.prototype),d=h._create;h._create=function(){d.call(this),this.rect=new s};var m=h.moveTo;return h.moveTo=function(y,b){var k=Math.abs(this.position.x-y),x=Math.abs(this.position.y-b),E=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&k<1&&x<1;if(E){this.goTo(y,b);return}m.apply(this,arguments)},h.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&l&&(this.element.style[l]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},h.disablePlacing=function(){this.isPlacing=!1},h.removeElem=function(){var y=this.element.parentNode;y&&y.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},h.showDropPlaceholder=function(){var y=this.dropPlaceholder;y||(y=this.dropPlaceholder=document.createElement("div"),y.className="packery-drop-placeholder",y.style.position="absolute"),y.style.width=this.size.width+"px",y.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(y)},h.positionDropPlaceholder=function(){this.dropPlaceholder.style[l]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},h.hideDropPlaceholder=function(){var y=this.dropPlaceholder.parentNode;y&&y.removeChild(this.dropPlaceholder)},a})}(_x)),_x.exports}/*!
 * Packery v2.1.2
 * Gapless, draggable grid layouts
 *
 * Licensed GPLv3 for open source use
 * or Packery Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2013-2018 Metafizzy
 */(function(t){(function(e,i){t.exports?t.exports=i(Vd(),Yd(),QS(),MG(),AG()):e.Packery=i(e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)})(window,function(i,s,n,l,a){n.prototype.canFit=function(E){return this.width>=E.width-1&&this.height>=E.height-1};var h=s.create("packery");h.Item=a;var d=h.prototype;d._create=function(){s.prototype._create.call(this),this.packer=new l,this.shiftPacker=new l,this.isEnabled=!0,this.dragItemCount=0;var E=this;this.handleDraggabilly={dragStart:function(){E.itemDragStart(this.element)},dragMove:function(){E.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){E.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(L,D){D&&E.itemDragStart(L.currentTarget)},drag:function(L,D){D&&E.itemDragMove(L.currentTarget,D.position.left,D.position.top)},stop:function(L,D){D&&E.itemDragEnd(L.currentTarget)}}},d._resetLayout=function(){this.getSize(),this._getMeasurements();var E,O,L;this._getOption("horizontal")?(E=1/0,O=this.size.innerHeight+this.gutter,L="rightwardTopToBottom"):(E=this.size.innerWidth+this.gutter,O=1/0,L="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=E,this.packer.height=this.shiftPacker.height=O,this.packer.sortDirection=this.shiftPacker.sortDirection=L,this.packer.reset(),this.maxY=0,this.maxX=0},d._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},d._getItemLayoutPosition=function(E){if(this._setRectSize(E.element,E.rect),this.isShifting||this.dragItemCount>0){var O=this._getPackMethod();this.packer[O](E.rect)}else this.packer.pack(E.rect);return this._setMaxXY(E.rect),E.rect},d.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},d._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},d._setMaxXY=function(E){this.maxX=Math.max(E.x+E.width,this.maxX),this.maxY=Math.max(E.y+E.height,this.maxY)},d._setRectSize=function(E,O){var L=i(E),D=L.outerWidth,u=L.outerHeight;(D||u)&&(D=this._applyGridGutter(D,this.columnWidth),u=this._applyGridGutter(u,this.rowHeight)),O.width=Math.min(D,this.packer.width),O.height=Math.min(u,this.packer.height)},d._applyGridGutter=function(E,O){if(!O)return E+this.gutter;O+=this.gutter;var L=E%O,D=L&&L<1?"round":"ceil";return E=Math[D](E/O)*O,E},d._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},d._manageStamp=function(E){var O=this.getItem(E),L;if(O&&O.isPlacing)L=O.rect;else{var D=this._getElementOffset(E);L=new n({x:this._getOption("originLeft")?D.left:D.right,y:this._getOption("originTop")?D.top:D.bottom})}this._setRectSize(E,L),this.packer.placed(L),this._setMaxXY(L)};function m(E,O){return E.position.y-O.position.y||E.position.x-O.position.x}function y(E,O){return E.position.x-O.position.x||E.position.y-O.position.y}d.sortItemsByPosition=function(){var E=this._getOption("horizontal")?y:m;this.items.sort(E)},d.fit=function(E,O,L){var D=this.getItem(E);D&&(this.stamp(D.element),D.enablePlacing(),this.updateShiftTargets(D),O=O===void 0?D.rect.x:O,L=L===void 0?D.rect.y:L,this.shift(D,O,L),this._bindFitEvents(D),D.moveTo(D.rect.x,D.rect.y),this.shiftLayout(),this.unstamp(D.element),this.sortItemsByPosition(),D.disablePlacing())},d._bindFitEvents=function(E){var O=this,L=0;function D(){L++,L==2&&O.dispatchEvent("fitComplete",null,[E])}E.once("layout",D),this.once("layoutComplete",D)},d.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},d.needsResizeLayout=function(){var E=i(this.element),O=this._getOption("horizontal")?"innerHeight":"innerWidth";return E[O]!=this.size[O]},d.resizeShiftPercentLayout=function(){var E=this._getItemsForLayout(this.items),O=this._getOption("horizontal"),L=O?"y":"x",D=O?"height":"width",u=O?"rowHeight":"columnWidth",T=O?"innerHeight":"innerWidth",g=this[u];if(g=g&&g+this.gutter,g){this._getMeasurements();var S=this[u]+this.gutter;E.forEach(function(I){var U=Math.round(I.rect[L]/g);I.rect[L]=U*S})}else{var C=i(this.element)[T]+this.gutter,P=this.packer[D];E.forEach(function(I){I.rect[L]=I.rect[L]/P*C})}this.shiftLayout()},d.itemDragStart=function(E){if(this.isEnabled){this.stamp(E);var O=this.getItem(E);O&&(O.enablePlacing(),O.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(O))}},d.updateShiftTargets=function(E){this.shiftPacker.reset(),this._getBoundingRect();var O=this._getOption("originLeft"),L=this._getOption("originTop");this.stamps.forEach(function(A){var R=this.getItem(A);if(!(R&&R.isPlacing)){var B=this._getElementOffset(A),W=new n({x:O?B.left:B.right,y:L?B.top:B.bottom});this._setRectSize(A,W),this.shiftPacker.placed(W)}},this);var D=this._getOption("horizontal"),u=D?"rowHeight":"columnWidth",T=D?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var g,S=this[u];if(S=S&&S+this.gutter,S){var C=Math.ceil(E.rect[T]/S),P=Math.floor((this.shiftPacker[T]+this.gutter)/S);g=(P-C)*S;for(var I=0;I<P;I++){var U=D?0:I*S,z=D?I*S:0;this._addShiftTarget(U,z,g)}}else g=this.shiftPacker[T]+this.gutter-E.rect[T],this._addShiftTarget(0,0,g);var f=this._getItemsForLayout(this.items),w=this._getPackMethod();f.forEach(function(A){var R=A.rect;this._setRectSize(A.element,R),this.shiftPacker[w](R),this._addShiftTarget(R.x,R.y,g);var B=D?R.x+R.width:R.x,W=D?R.y:R.y+R.height;if(this._addShiftTarget(B,W,g),S)for(var $=Math.round(R[T]/S),G=1;G<$;G++){var ue=D?B:R.x+S*G,Q=D?R.y+S*G:W;this._addShiftTarget(ue,Q,g)}},this)},d._addShiftTarget=function(E,O,L){var D=this._getOption("horizontal")?O:E;if(!(D!==0&&D>L)){var u=E+","+O,T=this.shiftTargetKeys.indexOf(u)!=-1;T||(this.shiftTargetKeys.push(u),this.shiftTargets.push({x:E,y:O}))}},d.shift=function(E,O,L){var D,u=1/0,T={x:O,y:L};this.shiftTargets.forEach(function(g){var S=b(g,T);S<u&&(D=g,u=S)}),E.rect.x=D.x,E.rect.y=D.y};function b(E,O){var L=O.x-E.x,D=O.y-E.y;return Math.sqrt(L*L+D*D)}var k=120;d.itemDragMove=function(E,O,L){var D=this.isEnabled&&this.getItem(E);if(!D)return;O-=this.size.paddingLeft,L-=this.size.paddingTop;var u=this;function T(){u.shift(D,O,L),D.positionDropPlaceholder(),u.layout()}var g=new Date,S=this._itemDragTime&&g-this._itemDragTime<k;S?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(T,k)):(T(),this._itemDragTime=g)},d.itemDragEnd=function(E){var O=this.isEnabled&&this.getItem(E);if(!O)return;clearTimeout(this.dragTimeout),O.element.classList.add("is-positioning-post-drag");var L=0,D=this;function u(){L++,L==2&&(O.element.classList.remove("is-positioning-post-drag"),O.hideDropPlaceholder(),D.dispatchEvent("dragItemPositioned",null,[O]))}O.once("layout",u),this.once("layoutComplete",u),O.moveTo(O.rect.x,O.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),O.disablePlacing(),this.unstamp(O.element)},d.bindDraggabillyEvents=function(E){this._bindDraggabillyEvents(E,"on")},d.unbindDraggabillyEvents=function(E){this._bindDraggabillyEvents(E,"off")},d._bindDraggabillyEvents=function(E,O){var L=this.handleDraggabilly;E[O]("dragStart",L.dragStart),E[O]("dragMove",L.dragMove),E[O]("dragEnd",L.dragEnd)},d.bindUIDraggableEvents=function(E){this._bindUIDraggableEvents(E,"on")},d.unbindUIDraggableEvents=function(E){this._bindUIDraggableEvents(E,"off")},d._bindUIDraggableEvents=function(E,O){var L=this.handleUIDraggable;E[O]("dragstart",L.start)[O]("drag",L.drag)[O]("dragstop",L.stop)};var x=d.destroy;return d.destroy=function(){x.apply(this,arguments),this.isEnabled=!1},h.Rect=n,h.Packer=l,h})})(fI);var PG=fI.exports;const DG=Wd(PG);var yI={exports:{}},wx={exports:{}},CL;function LG(){return CL||(CL=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:un,function(){function e(){}let i=e.prototype;return i.on=function(s,n){if(!s||!n)return this;let l=this._events=this._events||{},a=l[s]=l[s]||[];return a.includes(n)||a.push(n),this},i.once=function(s,n){if(!s||!n)return this;this.on(s,n);let l=this._onceEvents=this._onceEvents||{},a=l[s]=l[s]||{};return a[n]=!0,this},i.off=function(s,n){let l=this._events&&this._events[s];if(!l||!l.length)return this;let a=l.indexOf(n);return a!=-1&&l.splice(a,1),this},i.emitEvent=function(s,n){let l=this._events&&this._events[s];if(!l||!l.length)return this;l=l.slice(0),n=n||[];let a=this._onceEvents&&this._onceEvents[s];for(let h of l)a&&a[h]&&(this.off(s,h),delete a[h]),h.apply(this,n);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(wx)),wx.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,i){t.exports?t.exports=i(e,LG()):e.imagesLoaded=i(e,e.EvEmitter)})(typeof window<"u"?window:un,function(i,s){let n=i.jQuery,l=i.console;function a(k){return Array.isArray(k)?k:typeof k=="object"&&typeof k.length=="number"?[...k]:[k]}function h(k,x,E){if(!(this instanceof h))return new h(k,x,E);let O=k;if(typeof k=="string"&&(O=document.querySelectorAll(k)),!O){l.error(`Bad element for imagesLoaded ${O||k}`);return}this.elements=a(O),this.options={},typeof x=="function"?E=x:Object.assign(this.options,x),E&&this.on("always",E),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))}h.prototype=Object.create(s.prototype),h.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const d=[1,9,11];h.prototype.addElementImages=function(k){k.nodeName==="IMG"&&this.addImage(k),this.options.background===!0&&this.addElementBackgroundImages(k);let{nodeType:x}=k;if(!x||!d.includes(x))return;let E=k.querySelectorAll("img");for(let O of E)this.addImage(O);if(typeof this.options.background=="string"){let O=k.querySelectorAll(this.options.background);for(let L of O)this.addElementBackgroundImages(L)}};const m=/url\((['"])?(.*?)\1\)/gi;h.prototype.addElementBackgroundImages=function(k){let x=getComputedStyle(k);if(!x)return;let E=m.exec(x.backgroundImage);for(;E!==null;){let O=E&&E[2];O&&this.addBackground(O,k),E=m.exec(x.backgroundImage)}},h.prototype.addImage=function(k){let x=new y(k);this.images.push(x)},h.prototype.addBackground=function(k,x){let E=new b(k,x);this.images.push(E)},h.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let k=(x,E,O)=>{setTimeout(()=>{this.progress(x,E,O)})};this.images.forEach(function(x){x.once("progress",k),x.check()})},h.prototype.progress=function(k,x,E){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!k.isLoaded,this.emitEvent("progress",[this,k,x]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,k),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&l&&l.log(`progress: ${E}`,k,x)},h.prototype.complete=function(){let k=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(k,[this]),this.emitEvent("always",[this]),this.jqDeferred){let x=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[x](this)}};function y(k){this.img=k}y.prototype=Object.create(s.prototype),y.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},y.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},y.prototype.confirm=function(k,x){this.isLoaded=k;let{parentNode:E}=this.img,O=E.nodeName==="PICTURE"?E:this.img;this.emitEvent("progress",[this,O,x])},y.prototype.handleEvent=function(k){let x="on"+k.type;this[x]&&this[x](k)},y.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},y.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},y.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function b(k,x){this.url=k,this.element=x,this.img=new Image}return b.prototype=Object.create(y.prototype),b.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},b.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},b.prototype.confirm=function(k,x){this.isLoaded=k,this.emitEvent("progress",[this,this.element,x])},h.makeJQueryPlugin=function(k){k=k||i.jQuery,k&&(n=k,n.fn.imagesLoaded=function(x,E){return new h(this,x,E).jqDeferred.promise(n(this))})},h.makeJQueryPlugin(),h})})(yI);var RG=yI.exports;const FG=Wd(RG);/*! shepherd.js 11.2.0 */var IG=function(e){return BG(e)&&!NG(e)};function BG(t){return!!t&&typeof t=="object"}function NG(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||HG(t)}var zG=typeof Symbol=="function"&&Symbol.for,UG=zG?Symbol.for("react.element"):60103;function HG(t){return t.$$typeof===UG}function WG(t){return Array.isArray(t)?[]:{}}function Sm(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Cd(WG(t),t,e):t}function jG(t,e,i){return t.concat(e).map(function(s){return Sm(s,i)})}function qG(t,e){if(!e.customMerge)return Cd;var i=e.customMerge(t);return typeof i=="function"?i:Cd}function $G(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function EL(t){return Object.keys(t).concat($G(t))}function vI(t,e){try{return e in t}catch{return!1}}function VG(t,e){return vI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function YG(t,e,i){var s={};return i.isMergeableObject(t)&&EL(t).forEach(function(n){s[n]=Sm(t[n],i)}),EL(e).forEach(function(n){VG(t,n)||(vI(t,n)&&i.isMergeableObject(e[n])?s[n]=qG(n,i)(t[n],e[n],i):s[n]=Sm(e[n],i))}),s}function Cd(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||jG,i.isMergeableObject=i.isMergeableObject||IG,i.cloneUnlessOtherwiseSpecified=Sm;var s=Array.isArray(e),n=Array.isArray(t),l=s===n;return l?s?i.arrayMerge(t,e,i):YG(t,e,i):Sm(e,i)}Cd.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(s,n){return Cd(s,n,i)},{})};var GG=Cd,JS=GG;function XG(t){return t instanceof Element}function eT(t){return t instanceof HTMLElement}function Jh(t){return typeof t=="function"}function Tm(t){return typeof t=="string"}function kn(t){return t===void 0}class tT{on(e,i,s,n=!1){return kn(this.bindings)&&(this.bindings={}),kn(this.bindings[e])&&(this.bindings[e]=[]),this.bindings[e].push({handler:i,ctx:s,once:n}),this}once(e,i,s){return this.on(e,i,s,!0)}off(e,i){return kn(this.bindings)||kn(this.bindings[e])?this:(kn(i)?delete this.bindings[e]:this.bindings[e].forEach((s,n)=>{s.handler===i&&this.bindings[e].splice(n,1)}),this)}trigger(e,...i){return!kn(this.bindings)&&this.bindings[e]&&this.bindings[e].forEach((s,n)=>{const{ctx:l,handler:a,once:h}=s,d=l||this;a.apply(d,i),h&&this.bindings[e].splice(n,1)}),this}}function bI(t){const e=Object.getOwnPropertyNames(t.constructor.prototype);for(let i=0;i<e.length;i++){const s=e[i],n=t[s];s!=="constructor"&&typeof n=="function"&&(t[s]=n.bind(t))}return t}function KG(t,e){return i=>{if(e.isOpen()){const s=e.el&&i.currentTarget===e.el;(!kn(t)&&i.currentTarget.matches(t)||s)&&e.tour.next()}}}function ZG(t){const{event:e,selector:i}=t.options.advanceOn||{};if(e){const s=KG(i,t);let n;try{n=document.querySelector(i)}catch{}if(!kn(i)&&!n)return console.error(`No element was found for the selector supplied to advanceOn: ${i}`);n?(n.addEventListener(e,s),t.on("destroy",()=>n.removeEventListener(e,s))):(document.body.addEventListener(e,s,!0),t.on("destroy",()=>document.body.removeEventListener(e,s,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}function _I(t){return!Tm(t)||t===""?"":t.charAt(t.length-1)!=="-"?`${t}-`:t}function QG(t){const e=t.options.attachTo||{},i=Object.assign({},e);if(Jh(i.element)&&(i.element=i.element.call(t)),Tm(i.element)){try{i.element=document.querySelector(i.element)}catch{}i.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return i}function wI(t){return t==null?!0:!t.element||!t.on}function iT(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e=="x"?i:i&3|8).toString(16)})}function Tn(){return Tn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Tn.apply(this,arguments)}function xI(t,e){if(t==null)return{};var i={},s=Object.keys(t),n,l;for(l=0;l<s.length;l++)n=s[l],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const Ed=Math.min,Yh=Math.max,Uv=Math.round,qy=Math.floor,Sc=t=>({x:t,y:t}),JG={left:"right",right:"left",bottom:"top",top:"bottom"},eX={start:"end",end:"start"};function pk(t,e,i){return Yh(t,Ed(e,i))}function Od(t,e){return typeof t=="function"?t(e):t}function eu(t){return t.split("-")[0]}function jb(t){return t.split("-")[1]}function rT(t){return t==="x"?"y":"x"}function sT(t){return t==="y"?"height":"width"}function qb(t){return["top","bottom"].includes(eu(t))?"y":"x"}function nT(t){return rT(qb(t))}function tX(t,e,i){i===void 0&&(i=!1);const s=jb(t),n=nT(t),l=sT(n);let a=n==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=Hv(a)),[a,Hv(a)]}function iX(t){const e=Hv(t);return[mk(t),e,mk(e)]}function mk(t){return t.replace(/start|end/g,e=>eX[e])}function rX(t,e,i){const s=["left","right"],n=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return i?e?n:s:e?s:n;case"left":case"right":return e?l:a;default:return[]}}function sX(t,e,i,s){const n=jb(t);let l=rX(eu(t),i==="start",s);return n&&(l=l.map(a=>a+"-"+n),e&&(l=l.concat(l.map(mk)))),l}function Hv(t){return t.replace(/left|right|bottom|top/g,e=>JG[e])}function nX(t){return Tn({top:0,right:0,bottom:0,left:0},t)}function kI(t){return typeof t!="number"?nX(t):{top:t,right:t,bottom:t,left:t}}function Wv(t){return Tn({},t,{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}const aX=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],oX=["mainAxis","crossAxis","limiter"];function OL(t,e,i){let{reference:s,floating:n}=t;const l=qb(e),a=nT(e),h=sT(a),d=eu(e),m=l==="y",y=s.x+s.width/2-n.width/2,b=s.y+s.height/2-n.height/2,k=s[h]/2-n[h]/2;let x;switch(d){case"top":x={x:y,y:s.y-n.height};break;case"bottom":x={x:y,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:b};break;case"left":x={x:s.x-n.width,y:b};break;default:x={x:s.x,y:s.y}}switch(jb(e)){case"start":x[a]-=k*(i&&m?-1:1);break;case"end":x[a]+=k*(i&&m?-1:1);break}return x}const lX=async(t,e,i)=>{const{placement:s="bottom",strategy:n="absolute",middleware:l=[],platform:a}=i,h=l.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let m=await a.getElementRects({reference:t,floating:e,strategy:n}),{x:y,y:b}=OL(m,s,d),k=s,x={},E=0;for(let O=0;O<h.length;O++){const{name:L,fn:D}=h[O],{x:u,y:T,data:g,reset:S}=await D({x:y,y:b,initialPlacement:s,placement:k,strategy:n,middlewareData:x,rects:m,platform:a,elements:{reference:t,floating:e}});if(y=u??y,b=T??b,x=Tn({},x,{[L]:Tn({},x[L],g)}),S&&E<=50){E++,typeof S=="object"&&(S.placement&&(k=S.placement),S.rects&&(m=S.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:n}):S.rects),{x:y,y:b}=OL(m,k,d)),O=-1;continue}}return{x:y,y:b,placement:k,strategy:n,middlewareData:x}};async function SI(t,e){var i;e===void 0&&(e={});const{x:s,y:n,platform:l,rects:a,elements:h,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:y="viewport",elementContext:b="floating",altBoundary:k=!1,padding:x=0}=Od(e,t),E=kI(x),L=h[k?b==="floating"?"reference":"floating":b],D=Wv(await l.getClippingRect({element:(i=await(l.isElement==null?void 0:l.isElement(L)))==null||i?L:L.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:y,strategy:d})),u=b==="floating"?Tn({},a.floating,{x:s,y:n}):a.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),g=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},S=Wv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u,offsetParent:T,strategy:d}):u);return{top:(D.top-S.top+E.top)/g.y,bottom:(S.bottom-D.bottom+E.bottom)/g.y,left:(D.left-S.left+E.left)/g.x,right:(S.right-D.right+E.right)/g.x}}const cX=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:s,placement:n,rects:l,platform:a,elements:h}=e,{element:d,padding:m=0}=Od(t,e)||{};if(d==null)return{};const y=kI(m),b={x:i,y:s},k=nT(n),x=sT(k),E=await a.getDimensions(d),O=k==="y",L=O?"top":"left",D=O?"bottom":"right",u=O?"clientHeight":"clientWidth",T=l.reference[x]+l.reference[k]-b[k]-l.floating[x],g=b[k]-l.reference[k],S=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let C=S?S[u]:0;(!C||!await(a.isElement==null?void 0:a.isElement(S)))&&(C=h.floating[u]||l.floating[x]);const P=T/2-g/2,I=C/2-E[x]/2-1,U=Ed(y[L],I),z=Ed(y[D],I),f=U,w=C-E[x]-z,A=C/2-E[x]/2+P,R=pk(f,A,w),W=jb(n)!=null&&A!=R&&l.reference[x]/2-(A<f?U:z)-E[x]/2<0?A<f?f-A:w-A:0;return{[k]:b[k]-W,data:{[k]:R,centerOffset:A-R+W}}}}),hX=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(i){var s;const{placement:n,middlewareData:l,rects:a,initialPlacement:h,platform:d,elements:m}=i,y=Od(e,i),{mainAxis:b=!0,crossAxis:k=!0,fallbackPlacements:x,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:L=!0}=y,D=xI(y,aX),u=eu(n),T=eu(h)===h,g=await(d.isRTL==null?void 0:d.isRTL(m.floating)),S=x||(T||!L?[Hv(h)]:iX(h));!x&&O!=="none"&&S.push(...sX(h,L,O,g));const C=[h,...S],P=await SI(i,D),I=[];let U=((s=l.flip)==null?void 0:s.overflows)||[];if(b&&I.push(P[u]),k){const A=tX(n,a,g);I.push(P[A[0]],P[A[1]])}if(U=[...U,{placement:n,overflows:I}],!I.every(A=>A<=0)){var z,f;const A=(((z=l.flip)==null?void 0:z.index)||0)+1,R=C[A];if(R)return{data:{index:A,overflows:U},reset:{placement:R}};let B=(f=U.filter(W=>W.overflows[0]<=0).sort((W,$)=>W.overflows[1]-$.overflows[1])[0])==null?void 0:f.placement;if(!B)switch(E){case"bestFit":{var w;const W=(w=U.map($=>[$.placement,$.overflows.filter(G=>G>0).reduce((G,ue)=>G+ue,0)]).sort(($,G)=>$[1]-G[1])[0])==null?void 0:w[0];W&&(B=W);break}case"initialPlacement":B=h;break}if(n!==B)return{reset:{placement:B}}}return{}}}},uX=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(i){const{x:s,y:n,placement:l}=i,a=Od(e,i),{mainAxis:h=!0,crossAxis:d=!1,limiter:m={fn:u=>{let{x:T,y:g}=u;return{x:T,y:g}}}}=a,y=xI(a,oX),b={x:s,y:n},k=await SI(i,y),x=qb(eu(l)),E=rT(x);let O=b[E],L=b[x];if(h){const u=E==="y"?"top":"left",T=E==="y"?"bottom":"right",g=O+k[u],S=O-k[T];O=pk(g,O,S)}if(d){const u=x==="y"?"top":"left",T=x==="y"?"bottom":"right",g=L+k[u],S=L-k[T];L=pk(g,L,S)}const D=m.fn(Tn({},i,{[E]:O,[x]:L}));return Tn({},D,{data:{x:D.x-s,y:D.y-n}})}}},dX=function(e){return e===void 0&&(e={}),{options:e,fn(i){const{x:s,y:n,placement:l,rects:a,middlewareData:h}=i,{offset:d=0,mainAxis:m=!0,crossAxis:y=!0}=Od(e,i),b={x:s,y:n},k=qb(l),x=rT(k);let E=b[x],O=b[k];const L=Od(d,i),D=typeof L=="number"?{mainAxis:L,crossAxis:0}:Tn({mainAxis:0,crossAxis:0},L);if(m){const g=x==="y"?"height":"width",S=a.reference[x]-a.floating[g]+D.mainAxis,C=a.reference[x]+a.reference[g]-D.mainAxis;E<S?E=S:E>C&&(E=C)}if(y){var u,T;const g=x==="y"?"width":"height",S=["top","left"].includes(eu(l)),C=a.reference[k]-a.floating[g]+(S&&((u=h.offset)==null?void 0:u[k])||0)+(S?0:D.crossAxis),P=a.reference[k]+a.reference[g]+(S?0:((T=h.offset)==null?void 0:T[k])||0)-(S?D.crossAxis:0);O<C?O=C:O>P&&(O=P)}return{[x]:E,[k]:O}}}};function Tc(t){return TI(t)?(t.nodeName||"").toLowerCase():"#document"}function Ta(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ql(t){var e;return(e=(TI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function TI(t){return t instanceof Node||t instanceof Ta(t).Node}function Vl(t){return t instanceof Element||t instanceof Ta(t).Element}function Ko(t){return t instanceof HTMLElement||t instanceof Ta(t).HTMLElement}function ML(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ta(t).ShadowRoot}function Xm(t){const{overflow:e,overflowX:i,overflowY:s,display:n}=$a(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(n)}function fX(t){return["table","td","th"].includes(Tc(t))}function aT(t){const e=oT(),i=$a(t);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function pX(t){let e=Md(t);for(;Ko(e)&&!$b(e);){if(aT(e))return e;e=Md(e)}return null}function oT(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $b(t){return["html","body","#document"].includes(Tc(t))}function $a(t){return Ta(t).getComputedStyle(t)}function Vb(t){return Vl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Md(t){if(Tc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ML(t)&&t.host||Ql(t);return ML(e)?e.host:e}function CI(t){const e=Md(t);return $b(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ko(e)&&Xm(e)?e:CI(e)}function jv(t,e){var i;e===void 0&&(e=[]);const s=CI(t),n=s===((i=t.ownerDocument)==null?void 0:i.body),l=Ta(s);return n?e.concat(l,l.visualViewport||[],Xm(s)?s:[]):e.concat(s,jv(s))}function EI(t){const e=$a(t);let i=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=Ko(t),l=n?t.offsetWidth:i,a=n?t.offsetHeight:s,h=Uv(i)!==l||Uv(s)!==a;return h&&(i=l,s=a),{width:i,height:s,$:h}}function lT(t){return Vl(t)?t:t.contextElement}function ld(t){const e=lT(t);if(!Ko(e))return Sc(1);const i=e.getBoundingClientRect(),{width:s,height:n,$:l}=EI(e);let a=(l?Uv(i.width):i.width)/s,h=(l?Uv(i.height):i.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!h||!Number.isFinite(h))&&(h=1),{x:a,y:h}}const mX=Sc(0);function OI(t){const e=Ta(t);return!oT()||!e.visualViewport?mX:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function gX(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==Ta(t)?!1:e}function tu(t,e,i,s){e===void 0&&(e=!1),i===void 0&&(i=!1);const n=t.getBoundingClientRect(),l=lT(t);let a=Sc(1);e&&(s?Vl(s)&&(a=ld(s)):a=ld(t));const h=gX(l,i,s)?OI(l):Sc(0);let d=(n.left+h.x)/a.x,m=(n.top+h.y)/a.y,y=n.width/a.x,b=n.height/a.y;if(l){const k=Ta(l),x=s&&Vl(s)?Ta(s):s;let E=k.frameElement;for(;E&&s&&x!==k;){const O=ld(E),L=E.getBoundingClientRect(),D=$a(E),u=L.left+(E.clientLeft+parseFloat(D.paddingLeft))*O.x,T=L.top+(E.clientTop+parseFloat(D.paddingTop))*O.y;d*=O.x,m*=O.y,y*=O.x,b*=O.y,d+=u,m+=T,E=Ta(E).frameElement}}return Wv({width:y,height:b,x:d,y:m})}function yX(t){let{rect:e,offsetParent:i,strategy:s}=t;const n=Ko(i),l=Ql(i);if(i===l)return e;let a={scrollLeft:0,scrollTop:0},h=Sc(1);const d=Sc(0);if((n||!n&&s!=="fixed")&&((Tc(i)!=="body"||Xm(l))&&(a=Vb(i)),Ko(i))){const m=tu(i);h=ld(i),d.x=m.x+i.clientLeft,d.y=m.y+i.clientTop}return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-a.scrollLeft*h.x+d.x,y:e.y*h.y-a.scrollTop*h.y+d.y}}function vX(t){return Array.from(t.getClientRects())}function MI(t){return tu(Ql(t)).left+Vb(t).scrollLeft}function bX(t){const e=Ql(t),i=Vb(t),s=t.ownerDocument.body,n=Yh(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=Yh(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-i.scrollLeft+MI(t);const h=-i.scrollTop;return $a(s).direction==="rtl"&&(a+=Yh(e.clientWidth,s.clientWidth)-n),{width:n,height:l,x:a,y:h}}function _X(t,e){const i=Ta(t),s=Ql(t),n=i.visualViewport;let l=s.clientWidth,a=s.clientHeight,h=0,d=0;if(n){l=n.width,a=n.height;const m=oT();(!m||m&&e==="fixed")&&(h=n.offsetLeft,d=n.offsetTop)}return{width:l,height:a,x:h,y:d}}function wX(t,e){const i=tu(t,!0,e==="fixed"),s=i.top+t.clientTop,n=i.left+t.clientLeft,l=Ko(t)?ld(t):Sc(1),a=t.clientWidth*l.x,h=t.clientHeight*l.y,d=n*l.x,m=s*l.y;return{width:a,height:h,x:d,y:m}}function AL(t,e,i){let s;if(e==="viewport")s=_X(t,i);else if(e==="document")s=bX(Ql(t));else if(Vl(e))s=wX(e,i);else{const n=OI(t);s=Tn({},e,{x:e.x-n.x,y:e.y-n.y})}return Wv(s)}function AI(t,e){const i=Md(t);return i===e||!Vl(i)||$b(i)?!1:$a(i).position==="fixed"||AI(i,e)}function xX(t,e){const i=e.get(t);if(i)return i;let s=jv(t).filter(h=>Vl(h)&&Tc(h)!=="body"),n=null;const l=$a(t).position==="fixed";let a=l?Md(t):t;for(;Vl(a)&&!$b(a);){const h=$a(a),d=aT(a);!d&&h.position==="fixed"&&(n=null),(l?!d&&!n:!d&&h.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||Xm(a)&&!d&&AI(t,a))?s=s.filter(y=>y!==a):n=h,a=Md(a)}return e.set(t,s),s}function kX(t){let{element:e,boundary:i,rootBoundary:s,strategy:n}=t;const a=[...i==="clippingAncestors"?xX(e,this._c):[].concat(i),s],h=a[0],d=a.reduce((m,y)=>{const b=AL(e,y,n);return m.top=Yh(b.top,m.top),m.right=Ed(b.right,m.right),m.bottom=Ed(b.bottom,m.bottom),m.left=Yh(b.left,m.left),m},AL(e,h,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function SX(t){return EI(t)}function TX(t,e,i){const s=Ko(e),n=Ql(e),l=i==="fixed",a=tu(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const d=Sc(0);if(s||!s&&!l)if((Tc(e)!=="body"||Xm(n))&&(h=Vb(e)),s){const m=tu(e,!0,l,e);d.x=m.x+e.clientLeft,d.y=m.y+e.clientTop}else n&&(d.x=MI(n));return{x:a.left+h.scrollLeft-d.x,y:a.top+h.scrollTop-d.y,width:a.width,height:a.height}}function PL(t,e){return!Ko(t)||$a(t).position==="fixed"?null:e?e(t):t.offsetParent}function PI(t,e){const i=Ta(t);if(!Ko(t))return i;let s=PL(t,e);for(;s&&fX(s)&&$a(s).position==="static";)s=PL(s,e);return s&&(Tc(s)==="html"||Tc(s)==="body"&&$a(s).position==="static"&&!aT(s))?i:s||pX(t)||i}const CX=async function(e){let{reference:i,floating:s,strategy:n}=e;const l=this.getOffsetParent||PI,a=this.getDimensions;return{reference:TX(i,await l(s),n),floating:Tn({x:0,y:0},await a(s))}};function EX(t){return $a(t).direction==="rtl"}const OX={convertOffsetParentRelativeRectToViewportRelativeRect:yX,getDocumentElement:Ql,getClippingRect:kX,getOffsetParent:PI,getElementRects:CX,getClientRects:vX,getDimensions:SX,getScale:ld,isElement:Vl,isRTL:EX};function MX(t,e){let i=null,s;const n=Ql(t);function l(){clearTimeout(s),i&&i.disconnect(),i=null}function a(h,d){h===void 0&&(h=!1),d===void 0&&(d=1),l();const{left:m,top:y,width:b,height:k}=t.getBoundingClientRect();if(h||e(),!b||!k)return;const x=qy(y),E=qy(n.clientWidth-(m+b)),O=qy(n.clientHeight-(y+k)),L=qy(m),u={rootMargin:-x+"px "+-E+"px "+-O+"px "+-L+"px",threshold:Yh(0,Ed(1,d))||1};let T=!0;function g(S){const C=S[0].intersectionRatio;if(C!==d){if(!T)return a();C?a(!1,C):s=setTimeout(()=>{a(!1,1e-7)},100)}T=!1}try{i=new IntersectionObserver(g,Tn({},u,{root:n.ownerDocument}))}catch{i=new IntersectionObserver(g,u)}i.observe(t)}return a(!0),l}function AX(t,e,i,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,m=lT(t),y=n||l?[...m?jv(m):[],...jv(e)]:[];y.forEach(D=>{n&&D.addEventListener("scroll",i,{passive:!0}),l&&D.addEventListener("resize",i)});const b=m&&h?MX(m,i):null;let k=-1,x=null;a&&(x=new ResizeObserver(D=>{let[u]=D;u&&u.target===m&&x&&(x.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{x&&x.observe(e)})),i()}),m&&!d&&x.observe(m),x.observe(e));let E,O=d?tu(t):null;d&&L();function L(){const D=tu(t);O&&(D.x!==O.x||D.y!==O.y||D.width!==O.width||D.height!==O.height)&&i(),O=D,E=requestAnimationFrame(L)}return i(),()=>{y.forEach(D=>{n&&D.removeEventListener("scroll",i),l&&D.removeEventListener("resize",i)}),b&&b(),x&&x.disconnect(),x=null,d&&cancelAnimationFrame(E)}}const PX=(t,e,i)=>{const s=new Map,n=Tn({platform:OX},i),l=Tn({},n.platform,{_c:s});return lX(t,e,Tn({},n,{platform:l}))};function DX(t){t.cleanup&&t.cleanup();const e=t._getResolvedAttachToOptions();let i=e.element;const s=NX(e,t),n=wI(e);return n&&(i=document.body,t.shepherdElementComponent.getElement().classList.add("shepherd-centered")),t.cleanup=AX(i,t.el,()=>{if(!t.el){t.cleanup();return}FX(i,t,s,n)}),t.target=e.element,s}function LX(t,e){return{floatingUIOptions:JS(t.floatingUIOptions||{},e.floatingUIOptions||{})}}function RX(t){t.cleanup&&t.cleanup(),t.cleanup=null}function FX(t,e,i,s){return PX(t,e.el,i).then(IX(e,s)).then(n=>new Promise(l=>{setTimeout(()=>l(n),300)})).then(n=>{n&&n.el&&n.el.focus({preventScroll:!0})})}function IX(t,e){return({x:i,y:s,placement:n,middlewareData:l})=>(t.el&&(e?Object.assign(t.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(t.el.style,{position:"absolute",left:`${i}px`,top:`${s}px`}),t.el.dataset.popperPlacement=n,BX(t.el,l)),t)}function BX(t,e){const i=t.querySelector(".shepherd-arrow");if(i&&e.arrow){const{x:s,y:n}=e.arrow;Object.assign(i.style,{left:s!=null?`${s}px`:"",top:n!=null?`${n}px`:""})}}function NX(t,e){const i={strategy:"absolute",middleware:[]},s=zX(e);return wI(t)||(i.middleware.push(hX(),uX({limiter:dX(),crossAxis:!0})),s&&i.middleware.push(cX({element:s})),i.placement=t.on),JS(e.options.floatingUIOptions||{},i)}function zX(t){return t.options.arrow&&t.el?t.el.querySelector(".shepherd-arrow"):!1}function Oa(){}function UX(t,e){for(const i in e)t[i]=e[i];return t}function DI(t){return t()}function DL(){return Object.create(null)}function Km(t){t.forEach(DI)}function cT(t){return typeof t=="function"}function Jl(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function HX(t){return Object.keys(t).length===0}function Ad(t,e){t.appendChild(e)}function ko(t,e,i){t.insertBefore(e,i||null)}function Za(t){t.parentNode&&t.parentNode.removeChild(t)}function WX(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function Zo(t){return document.createElement(t)}function LL(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function LI(t){return document.createTextNode(t)}function qv(){return LI(" ")}function jX(){return LI("")}function Yb(t,e,i,s){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i,s)}function ts(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}const qX=["width","height"];function RL(t,e){const i=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)e[s]==null?t.removeAttribute(s):s==="style"?t.style.cssText=e[s]:s==="__value"?t.value=t[s]=e[s]:i[s]&&i[s].set&&qX.indexOf(s)===-1?t[s]=e[s]:ts(t,s,e[s])}function $X(t){return Array.from(t.childNodes)}function ju(t,e,i){t.classList[i?"add":"remove"](e)}let Cm;function lm(t){Cm=t}function RI(){if(!Cm)throw new Error("Function called outside component initialization");return Cm}function VX(t){RI().$$.on_mount.push(t)}function hT(t){RI().$$.after_update.push(t)}const Ku=[],Pd=[];let cd=[];const FL=[],YX=Promise.resolve();let gk=!1;function GX(){gk||(gk=!0,YX.then(FI))}function yk(t){cd.push(t)}const xx=new Set;let qu=0;function FI(){if(qu!==0)return;const t=Cm;do{try{for(;qu<Ku.length;){const e=Ku[qu];qu++,lm(e),XX(e.$$)}}catch(e){throw Ku.length=0,qu=0,e}for(lm(null),Ku.length=0,qu=0;Pd.length;)Pd.pop()();for(let e=0;e<cd.length;e+=1){const i=cd[e];xx.has(i)||(xx.add(i),i())}cd.length=0}while(Ku.length);for(;FL.length;)FL.pop()();gk=!1,xx.clear(),lm(t)}function XX(t){if(t.fragment!==null){t.update(),Km(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(yk)}}function KX(t){const e=[],i=[];cd.forEach(s=>t.indexOf(s)===-1?e.push(s):i.push(s)),i.forEach(s=>s()),cd=e}const uv=new Set;let Nh;function Gh(){Nh={r:0,c:[],p:Nh}}function Xh(){Nh.r||Km(Nh.c),Nh=Nh.p}function Ur(t,e){t&&t.i&&(uv.delete(t),t.i(e))}function Es(t,e,i,s){if(t&&t.o){if(uv.has(t))return;uv.add(t),Nh.c.push(()=>{uv.delete(t),s&&(i&&t.d(1),s())}),t.o(e)}else s&&s()}function ZX(t,e){const i={},s={},n={$$scope:1};let l=t.length;for(;l--;){const a=t[l],h=e[l];if(h){for(const d in a)d in h||(s[d]=1);for(const d in h)n[d]||(i[d]=h[d],n[d]=1);t[l]=h}else for(const d in a)n[d]=1}for(const a in s)a in i||(i[a]=void 0);return i}function hu(t){t&&t.c()}function Pc(t,e,i,s){const{fragment:n,after_update:l}=t.$$;n&&n.m(e,i),s||yk(()=>{const a=t.$$.on_mount.map(DI).filter(cT);t.$$.on_destroy?t.$$.on_destroy.push(...a):Km(a),t.$$.on_mount=[]}),l.forEach(yk)}function Dc(t,e){const i=t.$$;i.fragment!==null&&(KX(i.after_update),Km(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function QX(t,e){t.$$.dirty[0]===-1&&(Ku.push(t),GX(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ec(t,e,i,s,n,l,a,h=[-1]){const d=Cm;lm(t);const m=t.$$={fragment:null,ctx:[],props:l,update:Oa,not_equal:n,bound:DL(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:DL(),dirty:h,skip_bound:!1,root:e.target||d.$$.root};let y=!1;if(m.ctx=i?i(t,e.props||{},(b,k,...x)=>{const E=x.length?x[0]:k;return m.ctx&&n(m.ctx[b],m.ctx[b]=E)&&(!m.skip_bound&&m.bound[b]&&m.bound[b](E),y&&QX(t,b)),k}):[],m.update(),y=!0,Km(m.before_update),m.fragment=s?s(m.ctx):!1,e.target){if(e.hydrate){const b=$X(e.target);m.fragment&&m.fragment.l(b),b.forEach(Za)}else m.fragment&&m.fragment.c();e.intro&&Ur(t.$$.fragment),Pc(t,e.target,e.anchor,e.customElement),FI()}lm(d)}class tc{$destroy(){Dc(this,1),this.$destroy=Oa}$on(e,i){if(!cT(i))return Oa;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(i),()=>{const n=s.indexOf(i);n!==-1&&s.splice(n,1)}}$set(e){this.$$set&&!HX(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function JX(t){let e,i,s,n,l;return{c(){e=Zo("button"),ts(e,"aria-label",i=t[3]?t[3]:null),ts(e,"class",s=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`),e.disabled=t[2],ts(e,"tabindex","0")},m(a,h){ko(a,e,h),e.innerHTML=t[5],n||(l=Yb(e,"click",function(){cT(t[0])&&t[0].apply(this,arguments)}),n=!0)},p(a,[h]){t=a,h&32&&(e.innerHTML=t[5]),h&8&&i!==(i=t[3]?t[3]:null)&&ts(e,"aria-label",i),h&18&&s!==(s=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`)&&ts(e,"class",s),h&4&&(e.disabled=t[2])},i:Oa,o:Oa,d(a){a&&Za(e),n=!1,l()}}}function eK(t,e,i){let{config:s,step:n}=e,l,a,h,d,m,y;function b(k){return Jh(k)?k=k.call(n):k}return t.$$set=k=>{"config"in k&&i(6,s=k.config),"step"in k&&i(7,n=k.step)},t.$$.update=()=>{t.$$.dirty&192&&(i(0,l=s.action?s.action.bind(n.tour):null),i(1,a=s.classes),i(2,h=s.disabled?b(s.disabled):!1),i(3,d=s.label?b(s.label):null),i(4,m=s.secondary),i(5,y=s.text?b(s.text):null))},[l,a,h,d,m,y,s,n]}class tK extends tc{constructor(e){super(),ec(this,e,eK,JX,Jl,{config:6,step:7})}}function IL(t,e,i){const s=t.slice();return s[2]=e[i],s}function BL(t){let e,i,s=t[1],n=[];for(let a=0;a<s.length;a+=1)n[a]=NL(IL(t,s,a));const l=a=>Es(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=jX()},m(a,h){for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(a,h);ko(a,e,h),i=!0},p(a,h){if(h&3){s=a[1];let d;for(d=0;d<s.length;d+=1){const m=IL(a,s,d);n[d]?(n[d].p(m,h),Ur(n[d],1)):(n[d]=NL(m),n[d].c(),Ur(n[d],1),n[d].m(e.parentNode,e))}for(Gh(),d=s.length;d<n.length;d+=1)l(d);Xh()}},i(a){if(!i){for(let h=0;h<s.length;h+=1)Ur(n[h]);i=!0}},o(a){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)Es(n[h]);i=!1},d(a){WX(n,a),a&&Za(e)}}}function NL(t){let e,i;return e=new tK({props:{config:t[2],step:t[0]}}),{c(){hu(e.$$.fragment)},m(s,n){Pc(e,s,n),i=!0},p(s,n){const l={};n&2&&(l.config=s[2]),n&1&&(l.step=s[0]),e.$set(l)},i(s){i||(Ur(e.$$.fragment,s),i=!0)},o(s){Es(e.$$.fragment,s),i=!1},d(s){Dc(e,s)}}}function iK(t){let e,i,s=t[1]&&BL(t);return{c(){e=Zo("footer"),s&&s.c(),ts(e,"class","shepherd-footer")},m(n,l){ko(n,e,l),s&&s.m(e,null),i=!0},p(n,[l]){n[1]?s?(s.p(n,l),l&2&&Ur(s,1)):(s=BL(n),s.c(),Ur(s,1),s.m(e,null)):s&&(Gh(),Es(s,1,1,()=>{s=null}),Xh())},i(n){i||(Ur(s),i=!0)},o(n){Es(s),i=!1},d(n){n&&Za(e),s&&s.d()}}}function rK(t,e,i){let s,{step:n}=e;return t.$$set=l=>{"step"in l&&i(0,n=l.step)},t.$$.update=()=>{t.$$.dirty&1&&i(1,s=n.options.buttons)},[n,s]}class sK extends tc{constructor(e){super(),ec(this,e,rK,iK,Jl,{step:0})}}function nK(t){let e,i,s,n,l;return{c(){e=Zo("button"),i=Zo("span"),i.textContent="",ts(i,"aria-hidden","true"),ts(e,"aria-label",s=t[0].label?t[0].label:"Close Tour"),ts(e,"class","shepherd-cancel-icon"),ts(e,"type","button")},m(a,h){ko(a,e,h),Ad(e,i),n||(l=Yb(e,"click",t[1]),n=!0)},p(a,[h]){h&1&&s!==(s=a[0].label?a[0].label:"Close Tour")&&ts(e,"aria-label",s)},i:Oa,o:Oa,d(a){a&&Za(e),n=!1,l()}}}function aK(t,e,i){let{cancelIcon:s,step:n}=e;const l=a=>{a.preventDefault(),n.cancel()};return t.$$set=a=>{"cancelIcon"in a&&i(0,s=a.cancelIcon),"step"in a&&i(2,n=a.step)},[s,l,n]}class oK extends tc{constructor(e){super(),ec(this,e,aK,nK,Jl,{cancelIcon:0,step:2})}}function lK(t){let e;return{c(){e=Zo("h3"),ts(e,"id",t[1]),ts(e,"class","shepherd-title")},m(i,s){ko(i,e,s),t[3](e)},p(i,[s]){s&2&&ts(e,"id",i[1])},i:Oa,o:Oa,d(i){i&&Za(e),t[3](null)}}}function cK(t,e,i){let{labelId:s,element:n,title:l}=e;hT(()=>{Jh(l)&&i(2,l=l()),i(0,n.innerHTML=l,n)});function a(h){Pd[h?"unshift":"push"](()=>{n=h,i(0,n)})}return t.$$set=h=>{"labelId"in h&&i(1,s=h.labelId),"element"in h&&i(0,n=h.element),"title"in h&&i(2,l=h.title)},[n,s,l,a]}class hK extends tc{constructor(e){super(),ec(this,e,cK,lK,Jl,{labelId:1,element:0,title:2})}}function zL(t){let e,i;return e=new hK({props:{labelId:t[0],title:t[2]}}),{c(){hu(e.$$.fragment)},m(s,n){Pc(e,s,n),i=!0},p(s,n){const l={};n&1&&(l.labelId=s[0]),n&4&&(l.title=s[2]),e.$set(l)},i(s){i||(Ur(e.$$.fragment,s),i=!0)},o(s){Es(e.$$.fragment,s),i=!1},d(s){Dc(e,s)}}}function UL(t){let e,i;return e=new oK({props:{cancelIcon:t[3],step:t[1]}}),{c(){hu(e.$$.fragment)},m(s,n){Pc(e,s,n),i=!0},p(s,n){const l={};n&8&&(l.cancelIcon=s[3]),n&2&&(l.step=s[1]),e.$set(l)},i(s){i||(Ur(e.$$.fragment,s),i=!0)},o(s){Es(e.$$.fragment,s),i=!1},d(s){Dc(e,s)}}}function uK(t){let e,i,s,n=t[2]&&zL(t),l=t[3]&&t[3].enabled&&UL(t);return{c(){e=Zo("header"),n&&n.c(),i=qv(),l&&l.c(),ts(e,"class","shepherd-header")},m(a,h){ko(a,e,h),n&&n.m(e,null),Ad(e,i),l&&l.m(e,null),s=!0},p(a,[h]){a[2]?n?(n.p(a,h),h&4&&Ur(n,1)):(n=zL(a),n.c(),Ur(n,1),n.m(e,i)):n&&(Gh(),Es(n,1,1,()=>{n=null}),Xh()),a[3]&&a[3].enabled?l?(l.p(a,h),h&8&&Ur(l,1)):(l=UL(a),l.c(),Ur(l,1),l.m(e,null)):l&&(Gh(),Es(l,1,1,()=>{l=null}),Xh())},i(a){s||(Ur(n),Ur(l),s=!0)},o(a){Es(n),Es(l),s=!1},d(a){a&&Za(e),n&&n.d(),l&&l.d()}}}function dK(t,e,i){let{labelId:s,step:n}=e,l,a;return t.$$set=h=>{"labelId"in h&&i(0,s=h.labelId),"step"in h&&i(1,n=h.step)},t.$$.update=()=>{t.$$.dirty&2&&(i(2,l=n.options.title),i(3,a=n.options.cancelIcon))},[s,n,l,a]}class fK extends tc{constructor(e){super(),ec(this,e,dK,uK,Jl,{labelId:0,step:1})}}function pK(t){let e;return{c(){e=Zo("div"),ts(e,"class","shepherd-text"),ts(e,"id",t[1])},m(i,s){ko(i,e,s),t[3](e)},p(i,[s]){s&2&&ts(e,"id",i[1])},i:Oa,o:Oa,d(i){i&&Za(e),t[3](null)}}}function mK(t,e,i){let{descriptionId:s,element:n,step:l}=e;hT(()=>{let{text:h}=l.options;Jh(h)&&(h=h.call(l)),eT(h)?n.appendChild(h):i(0,n.innerHTML=h,n)});function a(h){Pd[h?"unshift":"push"](()=>{n=h,i(0,n)})}return t.$$set=h=>{"descriptionId"in h&&i(1,s=h.descriptionId),"element"in h&&i(0,n=h.element),"step"in h&&i(2,l=h.step)},[n,s,l,a]}class gK extends tc{constructor(e){super(),ec(this,e,mK,pK,Jl,{descriptionId:1,element:0,step:2})}}function HL(t){let e,i;return e=new fK({props:{labelId:t[1],step:t[2]}}),{c(){hu(e.$$.fragment)},m(s,n){Pc(e,s,n),i=!0},p(s,n){const l={};n&2&&(l.labelId=s[1]),n&4&&(l.step=s[2]),e.$set(l)},i(s){i||(Ur(e.$$.fragment,s),i=!0)},o(s){Es(e.$$.fragment,s),i=!1},d(s){Dc(e,s)}}}function WL(t){let e,i;return e=new gK({props:{descriptionId:t[0],step:t[2]}}),{c(){hu(e.$$.fragment)},m(s,n){Pc(e,s,n),i=!0},p(s,n){const l={};n&1&&(l.descriptionId=s[0]),n&4&&(l.step=s[2]),e.$set(l)},i(s){i||(Ur(e.$$.fragment,s),i=!0)},o(s){Es(e.$$.fragment,s),i=!1},d(s){Dc(e,s)}}}function jL(t){let e,i;return e=new sK({props:{step:t[2]}}),{c(){hu(e.$$.fragment)},m(s,n){Pc(e,s,n),i=!0},p(s,n){const l={};n&4&&(l.step=s[2]),e.$set(l)},i(s){i||(Ur(e.$$.fragment,s),i=!0)},o(s){Es(e.$$.fragment,s),i=!1},d(s){Dc(e,s)}}}function yK(t){let e,i=!kn(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,s,n=!kn(t[2].options.text),l,a=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,h,d=i&&HL(t),m=n&&WL(t),y=a&&jL(t);return{c(){e=Zo("div"),d&&d.c(),s=qv(),m&&m.c(),l=qv(),y&&y.c(),ts(e,"class","shepherd-content")},m(b,k){ko(b,e,k),d&&d.m(e,null),Ad(e,s),m&&m.m(e,null),Ad(e,l),y&&y.m(e,null),h=!0},p(b,[k]){k&4&&(i=!kn(b[2].options.title)||b[2].options.cancelIcon&&b[2].options.cancelIcon.enabled),i?d?(d.p(b,k),k&4&&Ur(d,1)):(d=HL(b),d.c(),Ur(d,1),d.m(e,s)):d&&(Gh(),Es(d,1,1,()=>{d=null}),Xh()),k&4&&(n=!kn(b[2].options.text)),n?m?(m.p(b,k),k&4&&Ur(m,1)):(m=WL(b),m.c(),Ur(m,1),m.m(e,l)):m&&(Gh(),Es(m,1,1,()=>{m=null}),Xh()),k&4&&(a=Array.isArray(b[2].options.buttons)&&b[2].options.buttons.length),a?y?(y.p(b,k),k&4&&Ur(y,1)):(y=jL(b),y.c(),Ur(y,1),y.m(e,null)):y&&(Gh(),Es(y,1,1,()=>{y=null}),Xh())},i(b){h||(Ur(d),Ur(m),Ur(y),h=!0)},o(b){Es(d),Es(m),Es(y),h=!1},d(b){b&&Za(e),d&&d.d(),m&&m.d(),y&&y.d()}}}function vK(t,e,i){let{descriptionId:s,labelId:n,step:l}=e;return t.$$set=a=>{"descriptionId"in a&&i(0,s=a.descriptionId),"labelId"in a&&i(1,n=a.labelId),"step"in a&&i(2,l=a.step)},[s,n,l]}class bK extends tc{constructor(e){super(),ec(this,e,vK,yK,Jl,{descriptionId:0,labelId:1,step:2})}}function qL(t){let e;return{c(){e=Zo("div"),ts(e,"class","shepherd-arrow"),ts(e,"data-popper-arrow","")},m(i,s){ko(i,e,s)},d(i){i&&Za(e)}}}function _K(t){let e,i,s,n,l,a,h,d,m=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on&&qL();s=new bK({props:{descriptionId:t[2],labelId:t[3],step:t[4]}});let y=[{"aria-describedby":n=kn(t[4].options.text)?null:t[2]},{"aria-labelledby":l=t[4].options.title?t[3]:null},t[1],{role:"dialog"},{tabindex:"0"}],b={};for(let k=0;k<y.length;k+=1)b=UX(b,y[k]);return{c(){e=Zo("div"),m&&m.c(),i=qv(),hu(s.$$.fragment),RL(e,b),ju(e,"shepherd-has-cancel-icon",t[5]),ju(e,"shepherd-has-title",t[6]),ju(e,"shepherd-element",!0)},m(k,x){ko(k,e,x),m&&m.m(e,null),Ad(e,i),Pc(s,e,null),t[13](e),a=!0,h||(d=Yb(e,"keydown",t[7]),h=!0)},p(k,[x]){k[4].options.arrow&&k[4].options.attachTo&&k[4].options.attachTo.element&&k[4].options.attachTo.on?m||(m=qL(),m.c(),m.m(e,i)):m&&(m.d(1),m=null);const E={};x&4&&(E.descriptionId=k[2]),x&8&&(E.labelId=k[3]),x&16&&(E.step=k[4]),s.$set(E),RL(e,b=ZX(y,[(!a||x&20&&n!==(n=kn(k[4].options.text)?null:k[2]))&&{"aria-describedby":n},(!a||x&24&&l!==(l=k[4].options.title?k[3]:null))&&{"aria-labelledby":l},x&2&&k[1],{role:"dialog"},{tabindex:"0"}])),ju(e,"shepherd-has-cancel-icon",k[5]),ju(e,"shepherd-has-title",k[6]),ju(e,"shepherd-element",!0)},i(k){a||(Ur(s.$$.fragment,k),a=!0)},o(k){Es(s.$$.fragment,k),a=!1},d(k){k&&Za(e),m&&m.d(),Dc(s),t[13](null),h=!1,d()}}}const wK=9,xK=27,kK=37,SK=39;function $L(t){return t.split(" ").filter(e=>!!e.length)}function TK(t,e,i){let{classPrefix:s,element:n,descriptionId:l,firstFocusableElement:a,focusableElements:h,labelId:d,lastFocusableElement:m,step:y,dataStepId:b}=e,k,x,E;const O=()=>n;VX(()=>{i(1,b={[`data-${s}shepherd-step-id`]:y.id}),i(9,h=n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),i(8,a=h[0]),i(10,m=h[h.length-1])}),hT(()=>{E!==y.options.classes&&L()});function L(){D(E),E=y.options.classes,u(E)}function D(S){if(Tm(S)){const C=$L(S);C.length&&n.classList.remove(...C)}}function u(S){if(Tm(S)){const C=$L(S);C.length&&n.classList.add(...C)}}const T=S=>{const{tour:C}=y;switch(S.keyCode){case wK:if(h.length===0){S.preventDefault();break}S.shiftKey?(document.activeElement===a||document.activeElement.classList.contains("shepherd-element"))&&(S.preventDefault(),m.focus()):document.activeElement===m&&(S.preventDefault(),a.focus());break;case xK:C.options.exitOnEsc&&(S.stopPropagation(),y.cancel());break;case kK:C.options.keyboardNavigation&&(S.stopPropagation(),C.back());break;case SK:C.options.keyboardNavigation&&(S.stopPropagation(),C.next());break}};function g(S){Pd[S?"unshift":"push"](()=>{n=S,i(0,n)})}return t.$$set=S=>{"classPrefix"in S&&i(11,s=S.classPrefix),"element"in S&&i(0,n=S.element),"descriptionId"in S&&i(2,l=S.descriptionId),"firstFocusableElement"in S&&i(8,a=S.firstFocusableElement),"focusableElements"in S&&i(9,h=S.focusableElements),"labelId"in S&&i(3,d=S.labelId),"lastFocusableElement"in S&&i(10,m=S.lastFocusableElement),"step"in S&&i(4,y=S.step),"dataStepId"in S&&i(1,b=S.dataStepId)},t.$$.update=()=>{t.$$.dirty&16&&(i(5,k=y.options&&y.options.cancelIcon&&y.options.cancelIcon.enabled),i(6,x=y.options&&y.options.title))},[n,b,l,d,y,k,x,T,a,h,m,s,O,g]}class CK extends tc{constructor(e){super(),ec(this,e,TK,_K,Jl,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}let vk=class extends tT{constructor(e,i={}){return super(e,i),this.tour=e,this.classPrefix=this.tour.options?_I(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,bI(this),this._setOptions(i),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){RX(this),eT(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveAttachToOptions(){return this._resolvedAttachTo=QG(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return Jh(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const e=`${this.id}-description`,i=`${this.id}-label`;return this.shepherdElementComponent=new CK({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:i,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){const{element:i}=this._getResolvedAttachToOptions();Jh(this.options.scrollToHandler)?this.options.scrollToHandler(i):XG(i)&&typeof i.scrollIntoView=="function"&&i.scrollIntoView(e)}_getClassOptions(e){const i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,s=e.classes?e.classes:"",n=i&&i.classes?i.classes:"",l=[...s.split(" "),...n.split(" ")],a=new Set(l);return Array.from(a).join(" ").trim()}_setOptions(e={}){let i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;i=JS({},i||{}),this.options=Object.assign({arrow:!0},i,e,LX(i,e));const{when:s}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${iT()}`,s&&Object.keys(s).forEach(n=>{this.on(n,s[n],this)})}_setupElements(){kn(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&ZG(this),DX(this)}_show(){this.trigger("before-show"),this._resolveAttachToOptions(),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el.hidden=!1;const e=this.shepherdElementComponent.getElement(),i=this.target||document.body;i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`),e.classList.add("shepherd-enabled"),this.trigger("show")}_styleTargetElementForStep(e){const i=e.target;i&&(e.options.highlightClass&&i.classList.add(e.options.highlightClass),i.classList.remove("shepherd-target-click-disabled"),e.options.canClickTarget===!1&&i.classList.add("shepherd-target-click-disabled"))}_updateStepTargetOnHide(){const e=this.target||document.body;this.options.highlightClass&&e.classList.remove(this.options.highlightClass),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}};function EK(t){if(t){const{steps:e}=t;e.forEach(i=>{i.options&&i.options.canClickTarget===!1&&i.options.attachTo&&i.target instanceof HTMLElement&&i.target.classList.remove("shepherd-target-click-disabled")})}}function OK({width:t,height:e,x:i=0,y:s=0,r:n=0}){const{innerWidth:l,innerHeight:a}=window,{topLeft:h=0,topRight:d=0,bottomRight:m=0,bottomLeft:y=0}=typeof n=="number"?{topLeft:n,topRight:n,bottomRight:n,bottomLeft:n}:n;return`M${l},${a}H0V0H${l}V${a}ZM${i+h},${s}a${h},${h},0,0,0-${h},${h}V${e+s-y}a${y},${y},0,0,0,${y},${y}H${t+i-m}a${m},${m},0,0,0,${m}-${m}V${s+d}a${d},${d},0,0,0-${d}-${d}Z`}function MK(t){let e,i,s,n,l;return{c(){e=LL("svg"),i=LL("path"),ts(i,"d",t[2]),ts(e,"class",s=`${t[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(a,h){ko(a,e,h),Ad(e,i),t[11](e),n||(l=Yb(e,"touchmove",t[3]),n=!0)},p(a,[h]){h&4&&ts(i,"d",a[2]),h&2&&s!==(s=`${a[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&ts(e,"class",s)},i:Oa,o:Oa,d(a){a&&Za(e),t[11](null),n=!1,l()}}}function II(t){if(!t)return null;const i=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return i!=="hidden"&&i!=="visible"&&t.scrollHeight>=t.clientHeight?t:II(t.parentElement)}function AK(t,e){const i=t.getBoundingClientRect();let s=i.y||i.top,n=i.bottom||s+i.height;if(e){const a=e.getBoundingClientRect(),h=a.y||a.top,d=a.bottom||h+a.height;s=Math.max(s,h),n=Math.min(n,d)}const l=Math.max(n-s,0);return{y:s,height:l}}function PK(t,e,i){let{element:s,openingProperties:n}=e;iT();let l=!1,a,h;m();const d=()=>s;function m(){i(4,n={width:0,height:0,x:0,y:0,r:0})}function y(){i(1,l=!1),D()}function b(g=0,S=0,C,P){if(P){const{y:I,height:U}=AK(P,C),{x:z,width:f,left:w}=P.getBoundingClientRect();i(4,n={width:f+g*2,height:U+g*2,x:(z||w)-g,y:I-g,r:S})}else m()}function k(g){D(),g.tour.options.useModalOverlay?(u(g),x()):y()}function x(){i(1,l=!0)}const E=g=>{g.preventDefault()},O=g=>{g.stopPropagation()};function L(){window.addEventListener("touchmove",E,{passive:!1})}function D(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",E,{passive:!1})}function u(g){const{modalOverlayOpeningPadding:S,modalOverlayOpeningRadius:C}=g.options,P=II(g.target),I=()=>{a=void 0,b(S,C,P,g.target),a=requestAnimationFrame(I)};I(),L()}function T(g){Pd[g?"unshift":"push"](()=>{s=g,i(0,s)})}return t.$$set=g=>{"element"in g&&i(0,s=g.element),"openingProperties"in g&&i(4,n=g.openingProperties)},t.$$.update=()=>{t.$$.dirty&16&&i(2,h=OK(n))},[s,l,h,O,n,d,m,y,b,k,x,T]}class DK extends tc{constructor(e){super(),ec(this,e,PK,MK,Jl,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}const zh=new tT;class LK extends tT{constructor(e={}){super(e),bI(this);const i={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},i,e),this.classPrefix=_I(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(n=>{(l=>{this.on(l,a=>{a=a||{},a.tour=this,zh.trigger(l,a)})})(n)}),this._setTourID(),this}addStep(e,i){let s=e;return s instanceof vk?s.tour=this:s=new vk(this,s),kn(i)?this.steps.push(s):this.steps.splice(i,0,s),s}addSteps(e){return Array.isArray(e)&&e.forEach(i=>{this.addStep(i)}),this}back(){const e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}async cancel(){if(this.options.confirmCancel){const e=typeof this.options.confirmCancel=="function",i=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";(e?await this.options.confirmCancel():window.confirm(i))&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(e){return this.steps.find(i=>i.id===e)}getCurrentStep(){return this.currentStep}hide(){const e=this.getCurrentStep();if(e)return e.hide()}isActive(){return zh.activeTour===this}next(){const e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){const i=this.getCurrentStep();this.steps.some((s,n)=>{if(s.id===e)return s.isOpen()&&s.hide(),s.destroy(),this.steps.splice(n,1),!0}),i&&i.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,i=!0){const s=Tm(e)?this.getById(e):this.steps[e];s&&(this._updateStateBeforeShow(),Jh(s.options.showOn)&&!s.options.showOn()?this._skipStep(s,i):(this.trigger("show",{step:s,previous:this.currentStep}),this.currentStep=s,s.show()))}start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()}_done(e){const i=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(s=>s.destroy()),EK(this),this.trigger(e,{index:i}),zh.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){const s=document.querySelector(".shepherd-modal-overlay-container");s&&s.remove()}eT(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),zh.activeTour=this}_setupModal(){this.modal=new DK({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(e,i){const s=this.steps.indexOf(e);if(s===this.steps.length-1)this.complete();else{const n=i?s+1:s-1;this.show(n,i)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(){const e=this.options.tourName||"tour";this.id=`${e}--${iT()}`}}const RK=typeof window>"u";class VL{constructor(){}}RK?Object.assign(zh,{Tour:VL,Step:VL}):Object.assign(zh,{Tour:LK,Step:vk});var BI={exports:{}},kx={exports:{}},YL;function FK(){return YL||(YL=1,function(t){(function(e,i){t.exports?t.exports=i(Yd()):(e.Isotope=e.Isotope||{},e.Isotope.Item=i(e.Outlayer))})(window,function(i){function s(){i.Item.apply(this,arguments)}var n=s.prototype=Object.create(i.Item.prototype),l=n._create;n._create=function(){this.id=this.layout.itemGUID++,l.call(this),this.sortData={}},n.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var h=this.layout.options.getSortData,d=this.layout._sorters;for(var m in h){var y=d[m];this.sortData[m]=y(this.element,this)}}};var a=n.destroy;return n.destroy=function(){a.apply(this,arguments),this.css({display:""})},s})}(kx)),kx.exports}var Sx={exports:{}},GL;function Gb(){return GL||(GL=1,function(t){(function(e,i){t.exports?t.exports=i(Vd(),Yd()):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=i(e.getSize,e.Outlayer))})(window,function(i,s){function n(h){this.isotope=h,h&&(this.options=h.options[this.namespace],this.element=h.element,this.items=h.filteredItems,this.size=h.size)}var l=n.prototype,a=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return a.forEach(function(h){l[h]=function(){return s.prototype[h].apply(this.isotope,arguments)}}),l.needsVerticalResizeLayout=function(){var h=i(this.isotope.element),d=this.isotope.size&&h;return d&&h.innerHeight!=this.isotope.size.innerHeight},l._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},l.getColumnWidth=function(){this.getSegmentSize("column","Width")},l.getRowHeight=function(){this.getSegmentSize("row","Height")},l.getSegmentSize=function(h,d){var m=h+d,y="outer"+d;if(this._getMeasurement(m,y),!this[m]){var b=this.getFirstItemSize();this[m]=b&&b[y]||this.isotope.size["inner"+d]}},l.getFirstItemSize=function(){var h=this.isotope.filteredItems[0];return h&&h.element&&i(h.element)},l.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},l.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(h,d){function m(){n.apply(this,arguments)}return m.prototype=Object.create(l),m.prototype.constructor=m,d&&(m.options=d),m.prototype.namespace=h,n.modes[h]=m,m},n})}(Sx)),Sx.exports}var Tx={exports:{}},Cx={exports:{}};/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */var XL;function IK(){return XL||(XL=1,function(t){(function(e,i){t.exports?t.exports=i(Yd(),Vd()):e.Masonry=i(e.Outlayer,e.getSize)})(window,function(i,s){var n=i.create("masonry");n.compatOptions.fitWidth="isFitWidth";var l=n.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],h=a&&a.element;this.columnWidth=h&&s(h).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,m=this.containerWidth+this.gutter,y=m/d,b=d-m%d,k=b&&b<1?"round":"floor";y=Math[k](y),this.cols=Math.max(y,1)},l.getContainerWidth=function(){var a=this._getOption("fitWidth"),h=a?this.element.parentNode:this.element,d=s(h);this.containerWidth=d&&d.innerWidth},l._getItemLayoutPosition=function(a){a.getSize();var h=a.size.outerWidth%this.columnWidth,d=h&&h<1?"round":"ceil",m=Math[d](a.size.outerWidth/this.columnWidth);m=Math.min(m,this.cols);for(var y=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",b=this[y](m,a),k={x:this.columnWidth*b.col,y:b.y},x=b.y+a.size.outerHeight,E=m+b.col,O=b.col;O<E;O++)this.colYs[O]=x;return k},l._getTopColPosition=function(a){var h=this._getTopColGroup(a),d=Math.min.apply(Math,h);return{col:h.indexOf(d),y:d}},l._getTopColGroup=function(a){if(a<2)return this.colYs;for(var h=[],d=this.cols+1-a,m=0;m<d;m++)h[m]=this._getColGroupY(m,a);return h},l._getColGroupY=function(a,h){if(h<2)return this.colYs[a];var d=this.colYs.slice(a,a+h);return Math.max.apply(Math,d)},l._getHorizontalColPosition=function(a,h){var d=this.horizontalColIndex%this.cols,m=a>1&&d+a>this.cols;d=m?0:d;var y=h.size.outerWidth&&h.size.outerHeight;return this.horizontalColIndex=y?d+a:this.horizontalColIndex,{col:d,y:this._getColGroupY(d,a)}},l._manageStamp=function(a){var h=s(a),d=this._getElementOffset(a),m=this._getOption("originLeft"),y=m?d.left:d.right,b=y+h.outerWidth,k=Math.floor(y/this.columnWidth);k=Math.max(0,k);var x=Math.floor(b/this.columnWidth);x-=b%this.columnWidth?0:1,x=Math.min(this.cols-1,x);for(var E=this._getOption("originTop"),O=(E?d.top:d.bottom)+h.outerHeight,L=k;L<=x;L++)this.colYs[L]=Math.max(O,this.colYs[L])},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},l._getContainerFitWidth=function(){for(var a=0,h=this.cols;--h&&this.colYs[h]===0;)a++;return(this.cols-a)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},n})}(Cx)),Cx.exports}/*!
 * Masonry layout mode
 * sub-classes Masonry
 * https://masonry.desandro.com
 */var KL;function BK(){return KL||(KL=1,function(t){(function(e,i){t.exports?t.exports=i(Gb(),IK()):i(e.Isotope.LayoutMode,e.Masonry)})(window,function(i,s){var n=i.create("masonry"),l=n.prototype,a={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var h in s.prototype)a[h]||(l[h]=s.prototype[h]);var d=l.measureColumns;l.measureColumns=function(){this.items=this.isotope.filteredItems,d.call(this)};var m=l._getOption;return l._getOption=function(y){return y=="fitWidth"?this.options.isFitWidth!==void 0?this.options.isFitWidth:this.options.fitWidth:m.apply(this.isotope,arguments)},n})}(Tx)),Tx.exports}var Ex={exports:{}},ZL;function NK(){return ZL||(ZL=1,function(t,e){(function(i,s){t.exports=s(Gb())})(window,function(s){var n=s.create("fitRows"),l=n.prototype;return l._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},l._getItemLayoutPosition=function(a){a.getSize();var h=a.size.outerWidth+this.gutter,d=this.isotope.size.innerWidth+this.gutter;this.x!==0&&h+this.x>d&&(this.x=0,this.y=this.maxY);var m={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+a.size.outerHeight),this.x+=h,m},l._getContainerSize=function(){return{height:this.maxY}},n})}(Ex)),Ex.exports}var Ox={exports:{}},QL;function zK(){return QL||(QL=1,function(t){(function(e,i){t.exports?t.exports=i(Gb()):i(e.Isotope.LayoutMode)})(window,function(i){var s=i.create("vertical",{horizontalAlignment:0}),n=s.prototype;return n._resetLayout=function(){this.y=0},n._getItemLayoutPosition=function(l){l.getSize();var a=(this.isotope.size.innerWidth-l.size.outerWidth)*this.options.horizontalAlignment,h=this.y;return this.y+=l.size.outerHeight,{x:a,y:h}},n._getContainerSize=function(){return{height:this.y}},s})}(Ox)),Ox.exports}/*!
 * Isotope v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */(function(t){(function(e,i){t.exports?t.exports=i(e,Yd(),Vd(),mI(),gI(),FK(),Gb(),BK(),NK(),zK()):e.Isotope=i(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)})(window,function(i,s,n,l,a,h,d){var m=i.jQuery,y=String.prototype.trim?function(L){return L.trim()}:function(L){return L.replace(/^\s+|\s+$/g,"")},b=s.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});b.Item=h,b.LayoutMode=d;var k=b.prototype;k._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),s.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var L in d.modes)this._initLayoutMode(L)},k.reloadItems=function(){this.itemGUID=0,s.prototype.reloadItems.call(this)},k._itemize=function(){for(var L=s.prototype._itemize.apply(this,arguments),D=0;D<L.length;D++){var u=L[D];u.id=this.itemGUID++}return this._updateItemsSortData(L),L},k._initLayoutMode=function(L){var D=d.modes[L],u=this.options[L]||{};this.options[L]=D.options?a.extend(D.options,u):u,this.modes[L]=new D(this)},k.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout")){this.arrange();return}this._layout()},k._layout=function(){var L=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,L),this._isLayoutInited=!0},k.arrange=function(L){this.option(L),this._getIsInstant();var D=this._filter(this.items);this.filteredItems=D.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[D]):this._hideReveal(D),this._sort(),this._layout()},k._init=k.arrange,k._hideReveal=function(L){this.reveal(L.needReveal),this.hide(L.needHide)},k._getIsInstant=function(){var L=this._getOption("layoutInstant"),D=L!==void 0?L:!this._isLayoutInited;return this._isInstant=D,D},k._bindArrangeComplete=function(){var L,D,u,T=this;function g(){L&&D&&u&&T.dispatchEvent("arrangeComplete",null,[T.filteredItems])}this.once("layoutComplete",function(){L=!0,g()}),this.once("hideComplete",function(){D=!0,g()}),this.once("revealComplete",function(){u=!0,g()})},k._filter=function(L){var D=this.options.filter;D=D||"*";for(var u=[],T=[],g=[],S=this._getFilterTest(D),C=0;C<L.length;C++){var P=L[C];if(!P.isIgnored){var I=S(P);I&&u.push(P),I&&P.isHidden?T.push(P):!I&&!P.isHidden&&g.push(P)}}return{matches:u,needReveal:T,needHide:g}},k._getFilterTest=function(L){return m&&this.options.isJQueryFiltering?function(D){return m(D.element).is(L)}:typeof L=="function"?function(D){return L(D.element)}:function(D){return l(D.element,L)}},k.updateSortData=function(L){var D;L?(L=a.makeArray(L),D=this.getItems(L)):D=this.items,this._getSorters(),this._updateItemsSortData(D)},k._getSorters=function(){var L=this.options.getSortData;for(var D in L){var u=L[D];this._sorters[D]=x(u)}},k._updateItemsSortData=function(L){for(var D=L&&L.length,u=0;D&&u<D;u++){var T=L[u];T.updateSortData()}};var x=function(){function L(u){if(typeof u!="string")return u;var T=y(u).split(" "),g=T[0],S=g.match(/^\[(.+)\]$/),C=S&&S[1],P=D(C,g),I=b.sortDataParsers[T[1]];return u=I?function(U){return U&&I(P(U))}:function(U){return U&&P(U)},u}function D(u,T){return u?function(S){return S.getAttribute(u)}:function(S){var C=S.querySelector(T);return C&&C.textContent}}return L}();b.sortDataParsers={parseInt:function(L){return parseInt(L,10)},parseFloat:function(L){return parseFloat(L)}},k._sort=function(){if(this.options.sortBy){var L=a.makeArray(this.options.sortBy);this._getIsSameSortBy(L)||(this.sortHistory=L.concat(this.sortHistory));var D=E(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(D)}},k._getIsSameSortBy=function(L){for(var D=0;D<L.length;D++)if(L[D]!=this.sortHistory[D])return!1;return!0};function E(L,D){return function(T,g){for(var S=0;S<L.length;S++){var C=L[S],P=T.sortData[C],I=g.sortData[C];if(P>I||P<I){var U=D[C]!==void 0?D[C]:D,z=U?1:-1;return(P>I?1:-1)*z}}return 0}}k._mode=function(){var L=this.options.layoutMode,D=this.modes[L];if(!D)throw new Error("No layout mode: "+L);return D.options=this.options[L],D},k._resetLayout=function(){s.prototype._resetLayout.call(this),this._mode()._resetLayout()},k._getItemLayoutPosition=function(L){return this._mode()._getItemLayoutPosition(L)},k._manageStamp=function(L){this._mode()._manageStamp(L)},k._getContainerSize=function(){return this._mode()._getContainerSize()},k.needsResizeLayout=function(){return this._mode().needsResizeLayout()},k.appended=function(L){var D=this.addItems(L);if(D.length){var u=this._filterRevealAdded(D);this.filteredItems=this.filteredItems.concat(u)}},k.prepended=function(L){var D=this._itemize(L);if(D.length){this._resetLayout(),this._manageStamps();var u=this._filterRevealAdded(D);this.layoutItems(this.filteredItems),this.filteredItems=u.concat(this.filteredItems),this.items=D.concat(this.items)}},k._filterRevealAdded=function(L){var D=this._filter(L);return this.hide(D.needHide),this.reveal(D.matches),this.layoutItems(D.matches,!0),D.matches},k.insert=function(L){var D=this.addItems(L);if(D.length){var u,T,g=D.length;for(u=0;u<g;u++)T=D[u],this.element.appendChild(T.element);var S=this._filter(D).matches;for(u=0;u<g;u++)D[u].isLayoutInstant=!0;for(this.arrange(),u=0;u<g;u++)delete D[u].isLayoutInstant;this.reveal(S)}};var O=k.remove;return k.remove=function(L){L=a.makeArray(L);var D=this.getItems(L);O.call(this,L);for(var u=D&&D.length,T=0;u&&T<u;T++){var g=D[T];a.removeFrom(this.filteredItems,g)}},k.shuffle=function(){for(var L=0;L<this.items.length;L++){var D=this.items[L];D.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},k._noTransition=function(L,D){var u=this.options.transitionDuration;this.options.transitionDuration=0;var T=L.apply(this,D);return this.options.transitionDuration=u,T},k.getFilteredItemElements=function(){return this.filteredItems.map(function(L){return L.element})},b})})(BI);var UK=BI.exports;const HK=Wd(UK);var NI={exports:{}};/*! For license information please see gridstack-all.js.LICENSE.txt */(function(t,e){(function(i,s){t.exports=s()})(self,()=>(()=>{var i={d:(z,f)=>{for(var w in f)i.o(f,w)&&!i.o(z,w)&&Object.defineProperty(z,w,{enumerable:!0,get:f[w]})},o:(z,f)=>Object.prototype.hasOwnProperty.call(z,f)},s={};i.d(s,{GridStack:()=>U});class n{static getElements(f,w=document){if(typeof f=="string"){const A="getElementById"in w?w:void 0;if(A&&!isNaN(+f[0])){const B=A.getElementById(f);return B?[B]:[]}let R=w.querySelectorAll(f);return R.length||f[0]==="."||f[0]==="#"||(R=w.querySelectorAll("."+f),R.length||(R=w.querySelectorAll("#"+f))),Array.from(R)}return[f]}static getElement(f,w=document){if(typeof f=="string"){const A="getElementById"in w?w:void 0;if(!f.length)return null;if(A&&f[0]==="#")return A.getElementById(f.substring(1));if(f[0]==="#"||f[0]==="."||f[0]==="[")return w.querySelector(f);if(A&&!isNaN(+f[0]))return A.getElementById(f);let R=w.querySelector(f);return A&&!R&&(R=A.getElementById(f)),R||(R=w.querySelector("."+f)),R}return f}static lazyLoad(f){var w,A;return f.lazyLoad||((A=(w=f.grid)==null?void 0:w.opts)==null?void 0:A.lazyLoad)&&f.lazyLoad!==!1}static createDiv(f,w){const A=document.createElement("div");return f.forEach(R=>{R&&A.classList.add(R)}),w==null||w.appendChild(A),A}static shouldSizeToContent(f,w=!1){return(f==null?void 0:f.grid)&&(w?f.sizeToContent===!0||f.grid.opts.sizeToContent===!0&&f.sizeToContent===void 0:!!f.sizeToContent||f.grid.opts.sizeToContent&&f.sizeToContent!==!1)}static isIntercepted(f,w){return!(f.y>=w.y+w.h||f.y+f.h<=w.y||f.x+f.w<=w.x||f.x>=w.x+w.w)}static isTouching(f,w){return n.isIntercepted(f,{x:w.x-.5,y:w.y-.5,w:w.w+1,h:w.h+1})}static areaIntercept(f,w){const A=f.x>w.x?f.x:w.x,R=f.x+f.w<w.x+w.w?f.x+f.w:w.x+w.w;if(R<=A)return 0;const B=f.y>w.y?f.y:w.y,W=f.y+f.h<w.y+w.h?f.y+f.h:w.y+w.h;return W<=B?0:(R-A)*(W-B)}static area(f){return f.w*f.h}static sort(f,w=1){return f.sort((R,B)=>{const W=w*((R.y??1e4)-(B.y??1e4));return W===0?w*((R.x??1e4)-(B.x??1e4)):W})}static find(f,w){return w?f.find(A=>A.id===w):void 0}static toBool(f){return typeof f=="boolean"?f:typeof f=="string"?!((f=f.toLowerCase())===""||f==="no"||f==="false"||f==="0"):!!f}static toNumber(f){return f===null||f.length===0?void 0:Number(f)}static parseHeight(f){let w,A="px";if(typeof f=="string")if(f==="auto"||f==="")w=0;else{const R=f.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!R)throw new Error(`Invalid height val = ${f}`);A=R[2]||"px",w=parseFloat(R[1])}else w=f;return{h:w,unit:A}}static defaults(f,...w){return w.forEach(A=>{for(const R in A){if(!A.hasOwnProperty(R))return;f[R]===null||f[R]===void 0?f[R]=A[R]:typeof A[R]=="object"&&typeof f[R]=="object"&&this.defaults(f[R],A[R])}}),f}static same(f,w){if(typeof f!="object")return f==w;if(typeof f!=typeof w||Object.keys(f).length!==Object.keys(w).length)return!1;for(const A in f)if(f[A]!==w[A])return!1;return!0}static copyPos(f,w,A=!1){return w.x!==void 0&&(f.x=w.x),w.y!==void 0&&(f.y=w.y),w.w!==void 0&&(f.w=w.w),w.h!==void 0&&(f.h=w.h),A&&(w.minW&&(f.minW=w.minW),w.minH&&(f.minH=w.minH),w.maxW&&(f.maxW=w.maxW),w.maxH&&(f.maxH=w.maxH)),f}static samePos(f,w){return f&&w&&f.x===w.x&&f.y===w.y&&(f.w||1)===(w.w||1)&&(f.h||1)===(w.h||1)}static sanitizeMinMax(f){f.minW||delete f.minW,f.minH||delete f.minH,f.maxW||delete f.maxW,f.maxH||delete f.maxH}static removeInternalAndSame(f,w){if(typeof f=="object"&&typeof w=="object")for(let A in f){const R=f[A],B=w[A];A[0]==="_"||R===B?delete f[A]:R&&typeof R=="object"&&B!==void 0&&(n.removeInternalAndSame(R,B),Object.keys(R).length||delete f[A])}}static removeInternalForSave(f,w=!0){for(let A in f)A[0]!=="_"&&f[A]!==null&&f[A]!==void 0||delete f[A];delete f.grid,w&&delete f.el,f.autoPosition||delete f.autoPosition,f.noResize||delete f.noResize,f.noMove||delete f.noMove,f.locked||delete f.locked,f.w!==1&&f.w!==f.minW||delete f.w,f.h!==1&&f.h!==f.minH||delete f.h}static throttle(f,w){let A=!1;return(...R)=>{A||(A=!0,setTimeout(()=>{f(...R),A=!1},w))}}static removePositioningStyles(f){const w=f.style;w.position&&w.removeProperty("position"),w.left&&w.removeProperty("left"),w.top&&w.removeProperty("top"),w.width&&w.removeProperty("width"),w.height&&w.removeProperty("height")}static getScrollElement(f){if(!f)return document.scrollingElement||document.documentElement;const w=getComputedStyle(f);return/(auto|scroll)/.test(w.overflow+w.overflowY)?f:this.getScrollElement(f.parentElement)}static updateScrollPosition(f,w,A){const R=f.getBoundingClientRect(),B=window.innerHeight||document.documentElement.clientHeight;if(R.top<0||R.bottom>B){const W=R.bottom-B,$=R.top,G=this.getScrollElement(f);if(G!==null){const ue=G.scrollTop;R.top<0&&A<0?f.offsetHeight>B?G.scrollTop+=A:G.scrollTop+=Math.abs($)>Math.abs(A)?A:$:A>0&&(f.offsetHeight>B?G.scrollTop+=A:G.scrollTop+=W>A?A:W),w.top+=G.scrollTop-ue}}}static updateScrollResize(f,w,A){const R=this.getScrollElement(w),B=R.clientHeight,W=R===this.getScrollElement()?0:R.getBoundingClientRect().top,$=f.clientY-W,G=$>B-A;$<A?R.scrollBy({behavior:"smooth",top:$-A}):G&&R.scrollBy({behavior:"smooth",top:A-(B-$)})}static clone(f){return f==null||typeof f!="object"?f:f instanceof Array?[...f]:{...f}}static cloneDeep(f){const w=["parentGrid","el","grid","subGrid","engine"],A=n.clone(f);for(const R in A)A.hasOwnProperty(R)&&typeof A[R]=="object"&&R.substring(0,2)!=="__"&&!w.find(B=>B===R)&&(A[R]=n.cloneDeep(f[R]));return A}static cloneNode(f){const w=f.cloneNode(!0);return w.removeAttribute("id"),w}static appendTo(f,w){let A;A=typeof w=="string"?n.getElement(w):w,A&&A.appendChild(f)}static addElStyles(f,w){if(w instanceof Object)for(const A in w)w.hasOwnProperty(A)&&(Array.isArray(w[A])?w[A].forEach(R=>{f.style[A]=R}):f.style[A]=w[A])}static initEvent(f,w){const A={type:w.type},R={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:w.target?w.target:f.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach(B=>A[B]=f[B]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(B=>A[B]=f[B]),{...A,...R}}static simulateMouseEvent(f,w,A){const R=f,B=new MouseEvent(w,{bubbles:!0,composed:!0,cancelable:!0,view:window,detail:1,screenX:f.screenX,screenY:f.screenY,clientX:f.clientX,clientY:f.clientY,ctrlKey:R.ctrlKey??!1,altKey:R.altKey??!1,shiftKey:R.shiftKey??!1,metaKey:R.metaKey??!1,button:0,relatedTarget:f.target});(A||f.target).dispatchEvent(B)}static getValuesFromTransformedElement(f){const w=document.createElement("div");n.addElStyles(w,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),f.appendChild(w);const A=w.getBoundingClientRect();return f.removeChild(w),w.remove(),{xScale:1/A.width,yScale:1/A.height,xOffset:A.left,yOffset:A.top}}static swap(f,w,A){if(!f)return;const R=f[w];f[w]=f[A],f[A]=R}static canBeRotated(f){var w;return!(!f||f.w===f.h||f.locked||f.noResize||(w=f.grid)!=null&&w.opts.disableResize||f.minW&&f.minW===f.maxW||f.minH&&f.minH===f.maxH)}}class l{constructor(f={}){this.addedNodes=[],this.removedNodes=[],this.defaultColumn=12,this.column=f.column||this.defaultColumn,this.column>this.defaultColumn&&(this.defaultColumn=this.column),this.maxRow=f.maxRow,this._float=f.float,this.nodes=f.nodes||[],this.onChange=f.onChange}batchUpdate(f=!0,w=!0){return!!this.batchMode===f||(this.batchMode=f,f?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,w&&this._packNodes(),this._notify())),this}_useEntireRowArea(f,w){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!f._moving||f._skipDown||w.y<=f.y)}_fixCollisions(f,w=f,A,R={}){if(this.sortNodes(-1),!(A=A||this.collide(f,w)))return!1;if(f._moving&&!R.nested&&!this.float&&this.swap(f,A))return!0;let B=w;!this._loading&&this._useEntireRowArea(f,w)&&(B={x:0,w:this.column,y:w.y,h:w.h},A=this.collide(f,B,R.skip));let W=!1;const $={nested:!0,pack:!1};let G=0;for(;A=A||this.collide(f,B,R.skip);){if(G++>2*this.nodes.length)throw new Error("Infinite collide check");let ue;if(A.locked||this._loading||f._moving&&!f._skipDown&&w.y>f.y&&!this.float&&(!this.collide(A,{...A,y:f.y},f)||!this.collide(A,{...A,y:w.y-A.h},f))){f._skipDown=f._skipDown||w.y>f.y;const Q={...w,y:A.y+A.h,...$};ue=!(!this._loading||!n.samePos(f,Q))||this.moveNode(f,Q),(A.locked||this._loading)&&ue?n.copyPos(w,f):!A.locked&&ue&&R.pack&&(this._packNodes(),w.y=A.y+A.h,n.copyPos(f,w)),W=W||ue}else ue=this.moveNode(A,{...A,y:w.y+w.h,skip:f,...$});if(!ue)return W;A=void 0}return W}collide(f,w=f,A){const R=f._id,B=A==null?void 0:A._id;return this.nodes.find(W=>W._id!==R&&W._id!==B&&n.isIntercepted(W,w))}collideAll(f,w=f,A){const R=f._id,B=A==null?void 0:A._id;return this.nodes.filter(W=>W._id!==R&&W._id!==B&&n.isIntercepted(W,w))}directionCollideCoverage(f,w,A){if(!w.rect||!f._rect)return;const R=f._rect,B={...w.rect};let W;B.y>R.y?(B.h+=B.y-R.y,B.y=R.y):B.h+=R.y-B.y,B.x>R.x?(B.w+=B.x-R.x,B.x=R.x):B.w+=R.x-B.x;let $=.5;for(let G of A){if(G.locked||!G._rect)break;const ue=G._rect;let Q=Number.MAX_VALUE,K=Number.MAX_VALUE;R.y<ue.y?Q=(B.y+B.h-ue.y)/ue.h:R.y+R.h>ue.y+ue.h&&(Q=(ue.y+ue.h-B.y)/ue.h),R.x<ue.x?K=(B.x+B.w-ue.x)/ue.w:R.x+R.w>ue.x+ue.w&&(K=(ue.x+ue.w-B.x)/ue.w);const we=Math.min(K,Q);we>$&&($=we,W=G)}return w.collide=W,W}cacheRects(f,w,A,R,B,W){return this.nodes.forEach($=>$._rect={y:$.y*w+A,x:$.x*f+W,w:$.w*f-W-R,h:$.h*w-A-B}),this}swap(f,w){if(!w||w.locked||!f||f.locked)return!1;function A(){const B=w.x,W=w.y;return w.x=f.x,w.y=f.y,f.h!=w.h?(f.x=B,f.y=w.y+w.h):f.w!=w.w?(f.x=w.x+w.w,f.y=W):(f.x=B,f.y=W),f._dirty=w._dirty=!0,!0}let R;if(f.w===w.w&&f.h===w.h&&(f.x===w.x||f.y===w.y)&&(R=n.isTouching(f,w)))return A();if(R!==!1){if(f.w===w.w&&f.x===w.x&&(R||(R=n.isTouching(f,w)))){if(w.y<f.y){const B=f;f=w,w=B}return A()}if(R!==!1){if(f.h===w.h&&f.y===w.y&&(R||(R=n.isTouching(f,w)))){if(w.x<f.x){const B=f;f=w,w=B}return A()}return!1}}}isAreaEmpty(f,w,A,R){const B={x:f||0,y:w||0,w:A||1,h:R||1};return!this.collide(B)}compact(f="compact",w=!0){if(this.nodes.length===0)return this;w&&this.sortNodes();const A=this.batchMode;A||this.batchUpdate();const R=this._inColumnResize;R||(this._inColumnResize=!0);const B=this.nodes;return this.nodes=[],B.forEach((W,$,G)=>{let ue;W.locked||(W.autoPosition=!0,f==="list"&&$&&(ue=G[$-1])),this.addNode(W,!1,ue)}),R||delete this._inColumnResize,A||this.batchUpdate(!1),this}set float(f){this._float!==f&&(this._float=f||!1,f||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(f=1){return this.nodes=n.sort(this.nodes,f),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach(f=>{if(f._updating||f._orig===void 0||f.y===f._orig.y)return;let w=f.y;for(;w>f._orig.y;)--w,this.collide(f,{x:f.x,y:w,w:f.w,h:f.h})||(f._dirty=!0,f.y=w)}):this.nodes.forEach((f,w)=>{if(!f.locked)for(;f.y>0;){const A=w===0?0:f.y-1;if(w!==0&&this.collide(f,{x:f.x,y:A,w:f.w,h:f.h}))break;f._dirty=f.y!==A,f.y=A}})),this}prepareNode(f,w){f._id=f._id??l._idSeq++;const A=f.id;if(A){let B=1;for(;this.nodes.find(W=>W.id===f.id&&W!==f);)f.id=A+"_"+B++}f.x!==void 0&&f.y!==void 0&&f.x!==null&&f.y!==null||(f.autoPosition=!0);const R={x:0,y:0,w:1,h:1};return n.defaults(f,R),f.autoPosition||delete f.autoPosition,f.noResize||delete f.noResize,f.noMove||delete f.noMove,n.sanitizeMinMax(f),typeof f.x=="string"&&(f.x=Number(f.x)),typeof f.y=="string"&&(f.y=Number(f.y)),typeof f.w=="string"&&(f.w=Number(f.w)),typeof f.h=="string"&&(f.h=Number(f.h)),isNaN(f.x)&&(f.x=R.x,f.autoPosition=!0),isNaN(f.y)&&(f.y=R.y,f.autoPosition=!0),isNaN(f.w)&&(f.w=R.w),isNaN(f.h)&&(f.h=R.h),this.nodeBoundFix(f,w),f}nodeBoundFix(f,w){const A=f._orig||n.copyPos({},f);if(f.maxW&&(f.w=Math.min(f.w||1,f.maxW)),f.maxH&&(f.h=Math.min(f.h||1,f.maxH)),f.minW&&(f.w=Math.max(f.w||1,f.minW)),f.minH&&(f.h=Math.max(f.h||1,f.minH)),(f.x||0)+(f.w||1)>this.column&&this.column<this.defaultColumn&&!this._inColumnResize&&!this.skipCacheUpdate&&f._id&&this.findCacheLayout(f,this.defaultColumn)===-1){const R={...f};R.autoPosition||R.x===void 0?(delete R.x,delete R.y):R.x=Math.min(this.defaultColumn-1,R.x),R.w=Math.min(this.defaultColumn,R.w||1),this.cacheOneLayout(R,this.defaultColumn)}return f.w>this.column?f.w=this.column:f.w<1&&(f.w=1),this.maxRow&&f.h>this.maxRow?f.h=this.maxRow:f.h<1&&(f.h=1),f.x<0&&(f.x=0),f.y<0&&(f.y=0),f.x+f.w>this.column&&(w?f.w=this.column-f.x:f.x=this.column-f.w),this.maxRow&&f.y+f.h>this.maxRow&&(w?f.h=this.maxRow-f.y:f.y=this.maxRow-f.h),n.samePos(f,A)||(f._dirty=!0),this}getDirtyNodes(f){return f?this.nodes.filter(w=>w._dirty&&!n.samePos(w,w._orig)):this.nodes.filter(w=>w._dirty)}_notify(f){if(this.batchMode||!this.onChange)return this;const w=(f||[]).concat(this.getDirtyNodes());return this.onChange(w),this}cleanNodes(){return this.batchMode||this.nodes.forEach(f=>{delete f._dirty,delete f._lastTried}),this}saveInitial(){return this.nodes.forEach(f=>{f._orig=n.copyPos({},f),delete f._dirty}),this._hasLocked=this.nodes.some(f=>f.locked),this}restoreInitial(){return this.nodes.forEach(f=>{f._orig&&!n.samePos(f,f._orig)&&(n.copyPos(f,f._orig),f._dirty=!0)}),this._notify(),this}findEmptyPosition(f,w=this.nodes,A=this.column,R){let B=!1;for(let W=R?R.y*A+(R.x+R.w):0;!B;++W){const $=W%A,G=Math.floor(W/A);if($+f.w>A)continue;const ue={x:$,y:G,w:f.w,h:f.h};w.find(Q=>n.isIntercepted(ue,Q))||(f.x===$&&f.y===G||(f._dirty=!0),f.x=$,f.y=G,delete f.autoPosition,B=!0)}return B}addNode(f,w=!1,A){const R=this.nodes.find(W=>W._id===f._id);if(R)return R;let B;return this._inColumnResize?this.nodeBoundFix(f):this.prepareNode(f),delete f._temporaryRemoved,delete f._removeDOM,f.autoPosition&&this.findEmptyPosition(f,this.nodes,this.column,A)&&(delete f.autoPosition,B=!0),this.nodes.push(f),w&&this.addedNodes.push(f),B||this._fixCollisions(f),this.batchMode||this._packNodes()._notify(),f}removeNode(f,w=!0,A=!1){return this.nodes.find(R=>R._id===f._id)?(A&&this.removedNodes.push(f),w&&(f._removeDOM=!0),this.nodes=this.nodes.filter(R=>R._id!==f._id),f._isAboutToRemove||this._packNodes(),this._notify([f]),this):this}removeAll(f=!0,w=!0){if(delete this._layouts,!this.nodes.length)return this;f&&this.nodes.forEach(R=>R._removeDOM=!0);const A=this.nodes;return this.removedNodes=w?A:[],this.nodes=[],this._notify(A)}moveNodeCheck(f,w){if(!this.changedPosConstrain(f,w))return!1;if(w.pack=!0,!this.maxRow)return this.moveNode(f,w);let A;const R=new l({column:this.column,float:this.float,nodes:this.nodes.map(W=>W._id===f._id?(A={...W},A):{...W})});if(!A)return!1;const B=R.moveNode(A,w)&&R.getRow()<=Math.max(this.getRow(),this.maxRow);if(!B&&!w.resizing&&w.collide){const W=w.collide.el.gridstackNode;if(this.swap(f,W))return this._notify(),!0}return!!B&&(R.nodes.filter(W=>W._dirty).forEach(W=>{const $=this.nodes.find(G=>G._id===W._id);$&&(n.copyPos($,W),$._dirty=!0)}),this._notify(),!0)}willItFit(f){if(delete f._willFitPos,!this.maxRow)return!0;const w=new l({column:this.column,float:this.float,nodes:this.nodes.map(R=>({...R}))}),A={...f};return this.cleanupNode(A),delete A.el,delete A._id,delete A.content,delete A.grid,w.addNode(A),w.getRow()<=this.maxRow&&(f._willFitPos=n.copyPos({},A),!0)}changedPosConstrain(f,w){return w.w=w.w||f.w,w.h=w.h||f.h,f.x!==w.x||f.y!==w.y||(f.maxW&&(w.w=Math.min(w.w,f.maxW)),f.maxH&&(w.h=Math.min(w.h,f.maxH)),f.minW&&(w.w=Math.max(w.w,f.minW)),f.minH&&(w.h=Math.max(w.h,f.minH)),f.w!==w.w||f.h!==w.h)}moveNode(f,w){var ue,Q;if(!f||!w)return!1;let A;w.pack!==void 0||this.batchMode||(A=w.pack=!0),typeof w.x!="number"&&(w.x=f.x),typeof w.y!="number"&&(w.y=f.y),typeof w.w!="number"&&(w.w=f.w),typeof w.h!="number"&&(w.h=f.h);const R=f.w!==w.w||f.h!==w.h,B=n.copyPos({},f,!0);if(n.copyPos(B,w),this.nodeBoundFix(B,R),n.copyPos(w,B),!w.forceCollide&&n.samePos(f,w))return!1;const W=n.copyPos({},f),$=this.collideAll(f,B,w.skip);let G=!0;if($.length){const K=f._moving&&!w.nested;let we=K?this.directionCollideCoverage(f,w,$):$[0];if(K&&we&&((Q=(ue=f.grid)==null?void 0:ue.opts)!=null&&Q.subGridDynamic)&&!f.grid._isTemp){const ze=n.areaIntercept(w.rect,we._rect),Ke=n.area(w.rect),Pe=n.area(we._rect);ze/(Ke<Pe?Ke:Pe)>.8&&(we.grid.makeSubGrid(we.el,void 0,f),we=void 0)}we?G=!this._fixCollisions(f,B,we,w):(G=!1,A&&delete w.pack)}return G&&!n.samePos(f,B)&&(f._dirty=!0,n.copyPos(f,B)),w.pack&&this._packNodes()._notify(),!n.samePos(f,W)}getRow(){return this.nodes.reduce((f,w)=>Math.max(f,w.y+w.h),0)}beginUpdate(f){return f._updating||(f._updating=!0,delete f._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){const f=this.nodes.find(w=>w._updating);return f&&(delete f._updating,delete f._skipDown),this}save(f=!0,w){var W;const A=(W=this._layouts)==null?void 0:W.length,R=A&&this.column!==A-1?this._layouts[A-1]:null,B=[];return this.sortNodes(),this.nodes.forEach($=>{const G=R==null?void 0:R.find(Q=>Q._id===$._id),ue={...$,...G||{}};n.removeInternalForSave(ue,!f),w&&w($,ue),B.push(ue)}),B}layoutsNodesChange(f){return!this._layouts||this._inColumnResize||this._layouts.forEach((w,A)=>{if(!w||A===this.column)return this;if(A<this.column)this._layouts[A]=void 0;else{const R=A/this.column;f.forEach(B=>{if(!B._orig)return;const W=w.find($=>$._id===B._id);W&&(W.y>=0&&B.y!==B._orig.y&&(W.y+=B.y-B._orig.y),B.x!==B._orig.x&&(W.x=Math.round(B.x*R)),B.w!==B._orig.w&&(W.w=Math.round(B.w*R)))})}}),this}columnChanged(f,w,A="moveScale"){var $;if(!this.nodes.length||!w||f===w)return this;const R=A==="compact"||A==="list";R&&this.sortNodes(1),w<f&&this.cacheLayout(this.nodes,f),this.batchUpdate();let B=[],W=R?this.nodes:n.sort(this.nodes,-1);if(w>f&&this._layouts){const G=this._layouts[w]||[],ue=this._layouts.length-1;!G.length&&f!==ue&&(($=this._layouts[ue])!=null&&$.length)&&(f=ue,this._layouts[ue].forEach(Q=>{const K=W.find(we=>we._id===Q._id);K&&(R||Q.autoPosition||(K.x=Q.x??K.x,K.y=Q.y??K.y),K.w=Q.w??K.w,Q.x!=null&&Q.y!==void 0||(K.autoPosition=!0))})),G.forEach(Q=>{const K=W.findIndex(we=>we._id===Q._id);if(K!==-1){const we=W[K];if(R)return void(we.w=Q.w);(Q.autoPosition||isNaN(Q.x)||isNaN(Q.y))&&this.findEmptyPosition(Q,B),Q.autoPosition||(we.x=Q.x??we.x,we.y=Q.y??we.y,we.w=Q.w??we.w,B.push(we)),W.splice(K,1)}})}if(R)this.compact(A,!1);else{if(W.length)if(typeof A=="function")A(w,f,B,W);else{const G=R||A==="none"?1:w/f,ue=A==="move"||A==="moveScale",Q=A==="scale"||A==="moveScale";W.forEach(K=>{K.x=w===1?0:ue?Math.round(K.x*G):Math.min(K.x,w-1),K.w=w===1||f===1?1:Q?Math.round(K.w*G)||1:Math.min(K.w,w),B.push(K)}),W=[]}B=n.sort(B,-1),this._inColumnResize=!0,this.nodes=[],B.forEach(G=>{this.addNode(G,!1),delete G._orig})}return this.nodes.forEach(G=>delete G._orig),this.batchUpdate(!1,!R),delete this._inColumnResize,this}cacheLayout(f,w,A=!1){const R=[];return f.forEach((B,W)=>{if(B._id===void 0){const $=B.id?this.nodes.find(G=>G.id===B.id):void 0;B._id=($==null?void 0:$._id)??l._idSeq++}R[W]={x:B.x,y:B.y,w:B.w,_id:B._id}}),this._layouts=A?[]:this._layouts||[],this._layouts[w]=R,this}cacheOneLayout(f,w){f._id=f._id??l._idSeq++;const A={x:f.x,y:f.y,w:f.w,_id:f._id};(f.autoPosition||f.x===void 0)&&(delete A.x,delete A.y,f.autoPosition&&(A.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[w]=this._layouts[w]||[];const R=this.findCacheLayout(f,w);return R===-1?this._layouts[w].push(A):this._layouts[w][R]=A,this}findCacheLayout(f,w){var A,R;return((R=(A=this._layouts)==null?void 0:A[w])==null?void 0:R.findIndex(B=>B._id===f._id))??-1}removeNodeFromLayoutCache(f){if(this._layouts)for(let w=0;w<this._layouts.length;w++){const A=this.findCacheLayout(f,w);A!==-1&&this._layouts[w].splice(A,1)}}cleanupNode(f){for(const w in f)w[0]==="_"&&w!=="_id"&&delete f[w];return this}}l._idSeq=0;const a={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"};class h{}const d=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class m{}function y(z,f){z.touches.length>1||(z.cancelable&&z.preventDefault(),n.simulateMouseEvent(z.changedTouches[0],f))}function b(z,f){z.cancelable&&z.preventDefault(),n.simulateMouseEvent(z,f)}function k(z){m.touchHandled||(m.touchHandled=!0,y(z,"mousedown"))}function x(z){m.touchHandled&&y(z,"mousemove")}function E(z){if(!m.touchHandled)return;m.pointerLeaveTimeout&&(window.clearTimeout(m.pointerLeaveTimeout),delete m.pointerLeaveTimeout);const f=!!h.dragElement;y(z,"mouseup"),f||y(z,"click"),m.touchHandled=!1}function O(z){z.pointerType!=="mouse"&&z.target.releasePointerCapture(z.pointerId)}function L(z){h.dragElement&&z.pointerType!=="mouse"&&b(z,"mouseenter")}function D(z){h.dragElement&&z.pointerType!=="mouse"&&(m.pointerLeaveTimeout=window.setTimeout(()=>{delete m.pointerLeaveTimeout,b(z,"mouseleave")},10))}class u{constructor(f,w,A){this.host=f,this.dir=w,this.option=A,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const f=this.el=document.createElement("div");return f.classList.add("ui-resizable-handle"),f.classList.add(`${u.prefix}${this.dir}`),f.style.zIndex="100",f.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),d&&(this.el.addEventListener("touchstart",k),this.el.addEventListener("pointerdown",O)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),d&&(this.el.removeEventListener("touchstart",k),this.el.removeEventListener("pointerdown",O)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(f){this.mouseDownEvent=f,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),d&&(this.el.addEventListener("touchmove",x),this.el.addEventListener("touchend",E)),f.stopPropagation(),f.preventDefault()}_mouseMove(f){const w=this.mouseDownEvent;this.moving?this._triggerEvent("move",f):Math.abs(f.x-w.x)+Math.abs(f.y-w.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",f),document.addEventListener("keydown",this._keyEvent)),f.stopPropagation()}_mouseUp(f){this.moving&&(this._triggerEvent("stop",f),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),d&&(this.el.removeEventListener("touchmove",x),this.el.removeEventListener("touchend",E)),delete this.moving,delete this.mouseDownEvent,f.stopPropagation(),f.preventDefault()}_keyEvent(f){var w,A;f.key==="Escape"&&((A=(w=this.host.gridstackNode)==null?void 0:w.grid)==null||A.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(f,w){return this.option[f]&&this.option[f](w),this}}u.prefix="ui-resizable-";class T{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(f,w){this._eventRegister[f]=w}off(f){delete this._eventRegister[f]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(f,w){if(!this.disabled&&this._eventRegister&&this._eventRegister[f])return this._eventRegister[f](w)}}class g extends T{constructor(f,w={}){super(),this.el=f,this.option=w,this.rectScale={x:1,y:1},this._ui=()=>{const A=this.el.parentElement.getBoundingClientRect(),R={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},B=this.temporalRect||R;return{position:{left:(B.left-A.left)*this.rectScale.x,top:(B.top-A.top)*this.rectScale.y},size:{width:B.width*this.rectScale.x,height:B.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(f,w){super.on(f,w)}off(f){super.off(f)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(f){const w=f.handles&&f.handles!==this.option.handles,A=f.autoHide&&f.autoHide!==this.option.autoHide;return Object.keys(f).forEach(R=>this.option[R]=f[R]),w&&(this._removeHandlers(),this._setupHandlers()),A&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(f){return f?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),h.overResizeElement===this&&delete h.overResizeElement),this}_mouseOver(f){h.overResizeElement||h.dragElement||(h.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(f){h.overResizeElement===this&&(delete h.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map(f=>f.trim()).map(f=>new u(this.el,f,{start:w=>{this._resizeStart(w)},stop:w=>{this._resizeStop(w)},move:w=>{this._resizing(w,f)}})),this}_resizeStart(f){this.sizeToContent=n.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=n.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=f,this._setupHelper(),this._applyChange();const w=n.initEvent(f,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(w,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",w),this}_resizing(f,w){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(f,w),this._applyChange();const A=n.initEvent(f,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(A,this._ui()),this.triggerEvent("resize",A),this}_resizeStop(f){const w=n.initEvent(f,{type:"resizestop",target:this.el});return this._cleanHelper(),this.option.stop&&this.option.stop(w),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",w),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=g._originStyleProp.map(A=>this.el.style[A]),this.parentOriginStylePosition=this.el.parentElement.style.position;const f=this.el.parentElement,w=n.getValuesFromTransformedElement(f);return this.rectScale={x:w.xScale,y:w.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return g._originStyleProp.forEach((f,w)=>{this.el.style[f]=this.elOriginStyleVal[w]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(f,w){const A=this.startEvent,R={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},B=f.clientX-A.clientX,W=this.sizeToContent?0:f.clientY-A.clientY;let $,G;w.indexOf("e")>-1?R.width+=B:w.indexOf("w")>-1&&(R.width-=B,R.left+=B,$=!0),w.indexOf("s")>-1?R.height+=W:w.indexOf("n")>-1&&(R.height-=W,R.top+=W,G=!0);const ue=this._constrainSize(R.width,R.height,$,G);return Math.round(R.width)!==Math.round(ue.width)&&(w.indexOf("w")>-1&&(R.left+=R.width-ue.width),R.width=ue.width),Math.round(R.height)!==Math.round(ue.height)&&(w.indexOf("n")>-1&&(R.top+=R.height-ue.height),R.height=ue.height),R}_constrainSize(f,w,A,R){const B=this.option,W=(A?B.maxWidthMoveLeft:B.maxWidth)||Number.MAX_SAFE_INTEGER,$=B.minWidth/this.rectScale.x||f,G=(R?B.maxHeightMoveUp:B.maxHeight)||Number.MAX_SAFE_INTEGER,ue=B.minHeight/this.rectScale.y||w;return{width:Math.min(W,Math.max($,f)),height:Math.min(G,Math.max(ue,w))}}_applyChange(){let f={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const w=this.el.parentElement,{left:A,top:R}=w.getBoundingClientRect();f={left:A,top:R,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(w=>{const A=this.temporalRect[w],R=w==="width"||w==="left"?this.rectScale.x:w==="height"||w==="top"?this.rectScale.y:1;this.el.style[w]=(A-f[w])*R+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(f=>f.destroy()),delete this.handlers,this}}g._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class S extends T{constructor(f,w={}){var B;super(),this.el=f,this.option=w,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const A=(B=w==null?void 0:w.handle)==null?void 0:B.substring(1),R=f.gridstackNode;this.dragEls=!A||f.classList.contains(A)?[f]:R!=null&&R.subGrid?[f.querySelector(w.handle)||f]:Array.from(f.querySelectorAll(w.handle)),this.dragEls.length===0&&(this.dragEls=[f]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(f,w){super.on(f,w)}off(f){super.off(f)}enable(){this.disabled!==!1&&(super.enable(),this.dragEls.forEach(f=>{f.addEventListener("mousedown",this._mouseDown),d&&(f.addEventListener("touchstart",k),f.addEventListener("pointerdown",O))}),this.el.classList.remove("ui-draggable-disabled"))}disable(f=!1){this.disabled!==!0&&(super.disable(),this.dragEls.forEach(w=>{w.removeEventListener("mousedown",this._mouseDown),d&&(w.removeEventListener("touchstart",k),w.removeEventListener("pointerdown",O))}),f||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(f){return Object.keys(f).forEach(w=>this.option[w]=f[w]),this}_mouseDown(f){if(!h.mouseHandled)return f.button!==0||!this.dragEls.find(w=>w===f.target)&&f.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&f.target.closest(this.option.cancel)||(this.mouseDownEvent=f,delete this.dragging,delete h.dragElement,delete h.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),d&&(f.currentTarget.addEventListener("touchmove",x),f.currentTarget.addEventListener("touchend",E)),f.preventDefault(),document.activeElement&&document.activeElement.blur(),h.mouseHandled=!0),!0}_callDrag(f){if(!this.dragging)return;const w=n.initEvent(f,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(w,this.ui()),this.triggerEvent("drag",w)}_mouseMove(f){var A;const w=this.mouseDownEvent;if(this.lastDrag=f,this.dragging)if(this._dragFollow(f),h.pauseDrag){const R=Number.isInteger(h.pauseDrag)?h.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>this._callDrag(f),R)}else this._callDrag(f);else if(Math.abs(f.x-w.x)+Math.abs(f.y-w.y)>3){this.dragging=!0,h.dragElement=this;const R=(A=this.el.gridstackNode)==null?void 0:A.grid;R?h.dropElement=R.el.ddElement.ddDroppable:delete h.dropElement,this.helper=this._createHelper(),this._setupHelperContainmentStyle(),this.dragTransform=n.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(f,this.el,this.helperContainment),this._setupHelperStyle(f);const B=n.initEvent(f,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(B,this.ui()),this.triggerEvent("dragstart",B),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(f){var w,A;if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),d&&f.currentTarget&&(f.currentTarget.removeEventListener("touchmove",x,!0),f.currentTarget.removeEventListener("touchend",E,!0)),this.dragging){delete this.dragging,(w=this.el.gridstackNode)==null||delete w._origRotate,document.removeEventListener("keydown",this._keyEvent),((A=h.dropElement)==null?void 0:A.el)===this.el.parentElement&&delete h.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper!==this.el&&this.helper.remove(),this._removeHelperStyle();const R=n.initEvent(f,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(R),this.triggerEvent("dragstop",R),h.dropElement&&h.dropElement.drop(f)}delete this.helper,delete this.mouseDownEvent,delete h.dragElement,delete h.dropElement,delete h.mouseHandled,f.preventDefault()}_keyEvent(f){var R,B;const w=this.el.gridstackNode,A=(w==null?void 0:w.grid)||((B=(R=h.dropElement)==null?void 0:R.el)==null?void 0:B.gridstack);if(f.key==="Escape")w&&w._origRotate&&(w._orig=w._origRotate,delete w._origRotate),A==null||A.cancelDrag(),this._mouseUp(this.mouseDownEvent);else if(w&&A&&(f.key==="r"||f.key==="R")){if(!n.canBeRotated(w))return;w._origRotate=w._origRotate||{...w._orig},delete w._moving,A.setAnimation(!1).rotate(w.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),w._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,w.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",n.swap(w._orig,"w","h"),delete w._rect,this._mouseMove(this.lastDrag)}}_createHelper(){let f=this.el;return typeof this.option.helper=="function"?f=this.option.helper(this.el):this.option.helper==="clone"&&(f=n.cloneNode(this.el)),f.parentElement||n.appendTo(f,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),this.dragElementOriginStyle=S.originStyleProp.map(w=>this.el.style[w]),f}_setupHelperStyle(f){this.helper.classList.add("ui-draggable-dragging");const w=this.helper.style;return w.pointerEvents="none",w.width=this.dragOffset.width+"px",w.height=this.dragOffset.height+"px",w.willChange="left, top",w.position="fixed",this._dragFollow(f),w.transition="none",setTimeout(()=>{this.helper&&(w.transition=null)},0),this}_removeHelperStyle(){var w;this.helper.classList.remove("ui-draggable-dragging");const f=(w=this.helper)==null?void 0:w.gridstackNode;if(!(f!=null&&f._isAboutToRemove)&&this.dragElementOriginStyle){const A=this.helper,R=this.dragElementOriginStyle.transition||null;A.style.transition=this.dragElementOriginStyle.transition="none",S.originStyleProp.forEach(B=>A.style[B]=this.dragElementOriginStyle[B]||null),setTimeout(()=>A.style.transition=R,50)}return delete this.dragElementOriginStyle,this}_dragFollow(f){const w=this.helper.style,A=this.dragOffset;w.left=(f.clientX+A.offsetLeft-0)*this.dragTransform.xScale+"px",w.top=(f.clientY+A.offsetTop-0)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(f,w,A){let R=0,B=0;A&&(R=this.dragTransform.xOffset,B=this.dragTransform.yOffset);const W=w.getBoundingClientRect();return{left:W.left,top:W.top,offsetLeft:-f.clientX+W.left-R,offsetTop:-f.clientY+W.top-B,width:W.width*this.dragTransform.xScale,height:W.height*this.dragTransform.yScale}}ui(){const f=this.el.parentElement.getBoundingClientRect(),w=this.helper.getBoundingClientRect();return{position:{top:(w.top-f.top)*this.dragTransform.yScale,left:(w.left-f.left)*this.dragTransform.xScale}}}}S.originStyleProp=["width","height","transform","transform-origin","transition","pointerEvents","position","left","top","minWidth","willChange"];class C extends T{constructor(f,w={}){super(),this.el=f,this.option=w,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(f,w){super.on(f,w)}off(f){super.off(f)}enable(){this.disabled!==!1&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),d&&(this.el.addEventListener("pointerenter",L),this.el.addEventListener("pointerleave",D)))}disable(f=!1){this.disabled!==!0&&(super.disable(),this.el.classList.remove("ui-droppable"),f||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),d&&(this.el.removeEventListener("pointerenter",L),this.el.removeEventListener("pointerleave",D)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(f){return Object.keys(f).forEach(w=>this.option[w]=f[w]),this._setupAccept(),this}_mouseEnter(f){if(!h.dragElement||!this._canDrop(h.dragElement.el))return;f.preventDefault(),f.stopPropagation(),h.dropElement&&h.dropElement!==this&&h.dropElement._mouseLeave(f,!0),h.dropElement=this;const w=n.initEvent(f,{target:this.el,type:"dropover"});this.option.over&&this.option.over(w,this._ui(h.dragElement)),this.triggerEvent("dropover",w),this.el.classList.add("ui-droppable-over")}_mouseLeave(f,w=!1){var R;if(!h.dragElement||h.dropElement!==this)return;f.preventDefault(),f.stopPropagation();const A=n.initEvent(f,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(A,this._ui(h.dragElement)),this.triggerEvent("dropout",A),h.dropElement===this&&(delete h.dropElement,!w)){let B,W=this.el.parentElement;for(;!B&&W;)B=(R=W.ddElement)==null?void 0:R.ddDroppable,W=W.parentElement;B&&B._mouseEnter(f)}}drop(f){f.preventDefault();const w=n.initEvent(f,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(w,this._ui(h.dragElement)),this.triggerEvent("drop",w)}_canDrop(f){return f&&(!this.accept||this.accept(f))}_setupAccept(){return this.option.accept?(typeof this.option.accept=="string"?this.accept=f=>f.classList.contains(this.option.accept)||f.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(f){return{draggable:f.el,...f.ui()}}}class P{static init(f){return f.ddElement||(f.ddElement=new P(f)),f.ddElement}constructor(f){this.el=f}on(f,w){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(f)>-1?this.ddDraggable.on(f,w):this.ddDroppable&&["drop","dropover","dropout"].indexOf(f)>-1?this.ddDroppable.on(f,w):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(f)>-1&&this.ddResizable.on(f,w),this}off(f){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(f)>-1?this.ddDraggable.off(f):this.ddDroppable&&["drop","dropover","dropout"].indexOf(f)>-1?this.ddDroppable.off(f):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(f)>-1&&this.ddResizable.off(f),this}setupDraggable(f){return this.ddDraggable?this.ddDraggable.updateOption(f):this.ddDraggable=new S(this.el,f),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(f){return this.ddResizable?this.ddResizable.updateOption(f):this.ddResizable=new g(this.el,f),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(f){return this.ddDroppable?this.ddDroppable.updateOption(f):this.ddDroppable=new C(this.el,f),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const I=new class{resizable(z,f,w,A){return this._getDDElements(z,f).forEach(R=>{if(f==="disable"||f==="enable")R.ddResizable&&R.ddResizable[f]();else if(f==="destroy")R.ddResizable&&R.cleanResizable();else if(f==="option")R.setupResizable({[w]:A});else{const B=R.el.gridstackNode.grid;let W=R.el.getAttribute("gs-resize-handles")||B.opts.resizable.handles||"e,s,se";W==="all"&&(W="n,e,s,w,se,sw,ne,nw");const $=!B.opts.alwaysShowResizeHandle;R.setupResizable({...B.opts.resizable,handles:W,autoHide:$,start:f.start,stop:f.stop,resize:f.resize})}}),this}draggable(z,f,w,A){return this._getDDElements(z,f).forEach(R=>{if(f==="disable"||f==="enable")R.ddDraggable&&R.ddDraggable[f]();else if(f==="destroy")R.ddDraggable&&R.cleanDraggable();else if(f==="option")R.setupDraggable({[w]:A});else{const B=R.el.gridstackNode.grid;R.setupDraggable({...B.opts.draggable,start:f.start,stop:f.stop,drag:f.drag})}}),this}dragIn(z,f){return this._getDDElements(z).forEach(w=>w.setupDraggable(f)),this}droppable(z,f,w,A){return typeof f.accept!="function"||f._accept||(f._accept=f.accept,f.accept=R=>f._accept(R)),this._getDDElements(z,f).forEach(R=>{f==="disable"||f==="enable"?R.ddDroppable&&R.ddDroppable[f]():f==="destroy"?R.ddDroppable&&R.cleanDroppable():f==="option"?R.setupDroppable({[w]:A}):R.setupDroppable(f)}),this}isDroppable(z){var f;return!(!((f=z==null?void 0:z.ddElement)!=null&&f.ddDroppable)||z.ddElement.ddDroppable.disabled)}isDraggable(z){var f;return!(!((f=z==null?void 0:z.ddElement)!=null&&f.ddDraggable)||z.ddElement.ddDraggable.disabled)}isResizable(z){var f;return!(!((f=z==null?void 0:z.ddElement)!=null&&f.ddResizable)||z.ddElement.ddResizable.disabled)}on(z,f,w){return this._getDDElements(z).forEach(A=>A.on(f,R=>{w(R,h.dragElement?h.dragElement.el:R.target,h.dragElement?h.dragElement.helper:null)})),this}off(z,f){return this._getDDElements(z).forEach(w=>w.off(f)),this}_getDDElements(z,f){const w=z.gridstack||f!=="destroy"&&f!=="disable",A=n.getElements(z);return A.length?A.map(R=>R.ddElement||(w?P.init(R):null)).filter(R=>R):[]}};class U{static init(f={},w=".grid-stack"){if(typeof document>"u")return null;const A=U.getGridElement(w);return A?(A.gridstack||(A.gridstack=new U(A,n.cloneDeep(f))),A.gridstack):(console.error(typeof w=="string"?'GridStack.initAll() no grid was found with selector "'+w+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(f={},w=".grid-stack"){const A=[];return typeof document>"u"||(U.getGridElements(w).forEach(R=>{R.gridstack||(R.gridstack=new U(R,n.cloneDeep(f))),A.push(R.gridstack)}),A.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+w+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),A}static addGrid(f,w={}){if(!f)return null;let A=f;if(A.gridstack){const R=A.gridstack;return w&&(R.opts={...R.opts,...w}),w.children!==void 0&&R.load(w.children),R}return f.classList.contains("grid-stack")&&!U.addRemoveCB||(A=U.addRemoveCB?U.addRemoveCB(f,w,!0,!0):n.createDiv(["grid-stack",w.class],f)),U.init(w,A)}static registerEngine(f){U.engineClass=f}get placeholder(){if(!this._placeholder){this._placeholder=n.createDiv([this.opts.placeholderClass,a.itemClass,this.opts.itemClass]);const f=n.createDiv(["placeholder-content"],this._placeholder);this.opts.placeholderText&&(f.textContent=this.opts.placeholderText)}return this._placeholder}constructor(f,w={}){var ue;this.el=f,this.opts=w,this.animationDelay=310,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},f.gridstack=this,this.opts=w=w||{},f.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),w.row&&(w.minRow=w.maxRow=w.row,delete w.row);const A=n.toNumber(f.getAttribute("gs-row"));w.column==="auto"&&delete w.column,w.alwaysShowResizeHandle!==void 0&&(w._alwaysShowResizeHandle=w.alwaysShowResizeHandle);const R=w.columnOpts;if(R){const Q=R.breakpoints;R.columnWidth||Q!=null&&Q.length?(R.columnMax=R.columnMax||12,(Q==null?void 0:Q.length)>1&&Q.sort((K,we)=>(we.w||0)-(K.w||0))):delete w.columnOpts}const B={...n.cloneDeep(a),column:n.toNumber(f.getAttribute("gs-column"))||a.column,minRow:A||n.toNumber(f.getAttribute("gs-min-row"))||a.minRow,maxRow:A||n.toNumber(f.getAttribute("gs-max-row"))||a.maxRow,staticGrid:n.toBool(f.getAttribute("gs-static"))||a.staticGrid,sizeToContent:n.toBool(f.getAttribute("gs-size-to-content"))||void 0,draggable:{handle:(w.handleClass?"."+w.handleClass:w.handle?w.handle:"")||a.draggable.handle},removableOptions:{accept:w.itemClass||a.removableOptions.accept,decline:a.removableOptions.decline}};f.getAttribute("gs-animate")&&(B.animate=n.toBool(f.getAttribute("gs-animate"))),w=n.defaults(w,B),this._initMargin(),this.checkDynamicColumn(),this._updateColumnVar(w),w.rtl==="auto"&&(w.rtl=f.style.direction==="rtl"),w.rtl&&this.el.classList.add("grid-stack-rtl");const W=this.el.closest("."+a.itemClass),$=W==null?void 0:W.gridstackNode;if($&&($.subGrid=this,this.parentGridNode=$,this.el.classList.add("grid-stack-nested"),$.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=w.cellHeight==="auto",this._isAutoCellHeight||w.cellHeight==="initial")this.cellHeight(void 0);else{typeof w.cellHeight=="number"&&w.cellHeightUnit&&w.cellHeightUnit!==a.cellHeightUnit&&(w.cellHeight=w.cellHeight+w.cellHeightUnit,delete w.cellHeightUnit);const Q=w.cellHeight;delete w.cellHeight,this.cellHeight(Q)}w.alwaysShowResizeHandle==="mobile"&&(w.alwaysShowResizeHandle=d),this._setStaticClass();const G=w.engineClass||U.engineClass||l;if(this.engine=new G({column:this.getColumn(),float:w.float,maxRow:w.maxRow,onChange:Q=>{Q.forEach(K=>{const we=K.el;we&&(K._removeDOM?(we&&we.remove(),delete K._removeDOM):this._writePosAttr(we,K))}),this._updateContainerHeight()}}),w.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach(Q=>this._prepareElement(Q)),delete this.engine._loading,this.batchUpdate(!1)),w.children){const Q=w.children;delete w.children,Q.length&&this.load(Q)}this.setAnimation(),w.subGridDynamic&&!h.pauseDrag&&(h.pauseDrag=!0),((ue=w.draggable)==null?void 0:ue.pause)!==void 0&&(h.pauseDrag=w.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}_updateColumnVar(f=this.opts){this.el.classList.add("gs-"+f.column),typeof f.column=="number"&&this.el.style.setProperty("--gs-column-width",100/f.column+"%")}addWidget(f){if(typeof f=="string")return void console.error("V11: GridStack.addWidget() does not support string anymore. see #2736");if(f.ELEMENT_NODE)return console.error("V11: GridStack.addWidget() does not support HTMLElement anymore. use makeWidget()"),this.makeWidget(f);let w,A=f;if(A.grid=this,w=A!=null&&A.el?A.el:U.addRemoveCB?U.addRemoveCB(this.el,f,!0,!1):this.createWidgetDivs(A),!w)return;if(A=w.gridstackNode,A&&w.parentElement===this.el&&this.engine.nodes.find(B=>B._id===A._id))return w;const R=this._readAttr(w);return n.defaults(f,R),this.engine.prepareNode(f),this.el.appendChild(w),this.makeWidget(w,f),w}createWidgetDivs(f){const w=n.createDiv(["grid-stack-item",this.opts.itemClass]),A=n.createDiv(["grid-stack-item-content"],w);return n.lazyLoad(f)?f.visibleObservable||(f.visibleObservable=new IntersectionObserver(([R])=>{var B,W;R.isIntersecting&&((B=f.visibleObservable)==null||B.disconnect(),delete f.visibleObservable,U.renderCB(A,f),(W=f.grid)==null||W.prepareDragDrop(f.el))}),window.setTimeout(()=>{var R;return(R=f.visibleObservable)==null?void 0:R.observe(w)})):U.renderCB(A,f),w}makeSubGrid(f,w,A,R=!0){var ze,Ke,Pe;let B,W=f.gridstackNode;if(W||(W=this.makeWidget(f).gridstackNode),(ze=W.subGrid)==null?void 0:ze.el)return W.subGrid;let $,G=this;for(;G&&!B;)B=(Ke=G.opts)==null?void 0:Ke.subGridOpts,G=(Pe=G.parentGridNode)==null?void 0:Pe.grid;w=n.cloneDeep({...this.opts,id:void 0,children:void 0,column:"auto",columnOpts:void 0,layout:"list",subGridOpts:void 0,...B||{},...w||W.subGridOpts||{}}),W.subGridOpts=w,w.column==="auto"&&($=!0,w.column=Math.max(W.w||1,(A==null?void 0:A.w)||1),delete w.columnOpts);let ue,Q,K=W.el.querySelector(".grid-stack-item-content");if(R&&(this._removeDD(W.el),Q={...W,x:0,y:0},n.removeInternalForSave(Q),delete Q.subGridOpts,W.content&&(Q.content=W.content,delete W.content),U.addRemoveCB?ue=U.addRemoveCB(this.el,Q,!0,!1):(ue=n.createDiv(["grid-stack-item"]),ue.appendChild(K),K=n.createDiv(["grid-stack-item-content"],W.el)),this.prepareDragDrop(W.el)),A){const We=$?w.column:W.w,it=W.h+A.h,vt=W.el.style;vt.transition="none",this.update(W.el,{w:We,h:it}),setTimeout(()=>vt.transition=null)}const we=W.subGrid=U.addGrid(K,w);return A!=null&&A._moving&&(we._isTemp=!0),$&&(we._autoColumn=!0),R&&we.makeWidget(ue,Q),A&&(A._moving?window.setTimeout(()=>n.simulateMouseEvent(A._event,"mouseenter",we.el),0):we.makeWidget(W.el,W)),this.resizeToContentCheck(!1,W),we}removeAsSubGrid(f){var A;const w=(A=this.parentGridNode)==null?void 0:A.grid;w&&(w.batchUpdate(),w.removeWidget(this.parentGridNode.el,!0,!0),this.engine.nodes.forEach(R=>{R.x+=this.parentGridNode.x,R.y+=this.parentGridNode.y,w.makeWidget(R.el,R)}),w.batchUpdate(!1),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,f&&window.setTimeout(()=>n.simulateMouseEvent(f._event,"mouseenter",w.el),0))}save(f=!0,w=!1,A=U.saveCB){const R=this.engine.save(f,A);if(R.forEach(B=>{var W;if(f&&B.el&&!B.subGrid&&!A){const $=B.el.querySelector(".grid-stack-item-content");B.content=$==null?void 0:$.innerHTML,B.content||delete B.content}else if(f||A||delete B.content,(W=B.subGrid)==null?void 0:W.el){const $=B.subGrid.save(f,w,A);B.subGridOpts=w?$:{children:$},delete B.subGrid}delete B.el}),w){const B=n.cloneDeep(this.opts);B.marginBottom===B.marginTop&&B.marginRight===B.marginLeft&&B.marginTop===B.marginRight&&(B.margin=B.marginTop,delete B.marginTop,delete B.marginRight,delete B.marginBottom,delete B.marginLeft),B.rtl===(this.el.style.direction==="rtl")&&(B.rtl="auto"),this._isAutoCellHeight&&(B.cellHeight="auto"),this._autoColumn&&(B.column="auto");const W=B._alwaysShowResizeHandle;return delete B._alwaysShowResizeHandle,W!==void 0?B.alwaysShowResizeHandle=W:delete B.alwaysShowResizeHandle,n.removeInternalAndSame(B,a),B.children=R,B}return R}load(f,w=U.addRemoveCB||!0){var ue;f=n.cloneDeep(f);const A=this.getColumn();f.forEach(Q=>{Q.w=Q.w||1,Q.h=Q.h||1}),f=n.sort(f),this.engine.skipCacheUpdate=this._ignoreLayoutsNodeChange=!0;let R=0;f.forEach(Q=>{R=Math.max(R,(Q.x||0)+Q.w)}),R>this.engine.defaultColumn&&(this.engine.defaultColumn=R),R>A&&(this.engine.nodes.length===0&&this.responseLayout?(this.engine.nodes=f,this.engine.columnChanged(R,A,this.responseLayout),f=this.engine.nodes,this.engine.nodes=[],delete this.responseLayout):this.engine.cacheLayout(f,R,!0));const B=U.addRemoveCB;typeof w=="function"&&(U.addRemoveCB=w);const W=[];this.batchUpdate();const $=!this.engine.nodes.length;$&&this.setAnimation(!1),!$&&w&&[...this.engine.nodes].forEach(Q=>{Q.id&&(n.find(f,Q.id)||(U.addRemoveCB&&U.addRemoveCB(this.el,Q,!1,!1),W.push(Q),this.removeWidget(Q.el,!0,!1)))}),this.engine._loading=!0;const G=[];return this.engine.nodes=this.engine.nodes.filter(Q=>!n.find(f,Q.id)||(G.push(Q),!1)),f.forEach(Q=>{var we;const K=n.find(G,Q.id);if(K){if(n.shouldSizeToContent(K)&&(Q.h=K.h),this.engine.nodeBoundFix(Q),(Q.autoPosition||Q.x===void 0||Q.y===void 0)&&(Q.w=Q.w||K.w,Q.h=Q.h||K.h,this.engine.findEmptyPosition(Q)),this.engine.nodes.push(K),n.samePos(K,Q)&&this.engine.nodes.length>1&&(this.moveNode(K,{...Q,forceCollide:!0}),n.copyPos(Q,K)),this.update(K.el,Q),(we=Q.subGridOpts)==null?void 0:we.children){const ze=K.el.querySelector(".grid-stack");ze&&ze.gridstack&&ze.gridstack.load(Q.subGridOpts.children)}}else w&&this.addWidget(Q)}),delete this.engine._loading,this.engine.removedNodes=W,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this.engine.skipCacheUpdate,B?U.addRemoveCB=B:delete U.addRemoveCB,$&&((ue=this.opts)!=null&&ue.animate)&&this.setAnimation(this.opts.animate,!0),this}batchUpdate(f=!0){return this.engine.batchUpdate(f),f||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(f=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!f||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;const w=this.el.querySelector("."+this.opts.itemClass);if(w){const R=n.toNumber(w.getAttribute("gs-h"))||1;return Math.round(w.offsetHeight/R)}const A=parseInt(this.el.getAttribute("gs-current-row"));return A?Math.round(this.el.getBoundingClientRect().height/A):this.opts.cellHeight}cellHeight(f){if(f!==void 0&&this._isAutoCellHeight!==(f==="auto")&&(this._isAutoCellHeight=f==="auto",this._updateResizeEvent()),f!=="initial"&&f!=="auto"||(f=void 0),f===void 0){const A=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;f=this.cellWidth()+A}const w=n.parseHeight(f);return this.opts.cellHeightUnit===w.unit&&this.opts.cellHeight===w.h||(this.opts.cellHeightUnit=w.unit,this.opts.cellHeight=w.h,this.el.style.setProperty("--gs-cell-height",`${this.opts.cellHeight}${this.opts.cellHeightUnit}`),this._updateContainerHeight(),this.resizeToContentCheck()),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(f=!1){var w;return f&&((w=this.opts.columnOpts)!=null&&w.breakpointForWindow)?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){var B,W;const f=this.opts.columnOpts;if(!f||!f.columnWidth&&!((B=f.breakpoints)!=null&&B.length))return!1;const w=this.getColumn();let A=w;const R=this._widthOrContainer(!0);if(f.columnWidth)A=Math.min(Math.round(R/f.columnWidth)||1,f.columnMax);else{A=f.columnMax;let $=0;for(;$<f.breakpoints.length&&R<=f.breakpoints[$].w;)A=f.breakpoints[$++].c||w}if(A!==w){const $=(W=f.breakpoints)==null?void 0:W.find(G=>G.c===A);return this.column(A,($==null?void 0:$.layout)||f.layout),!0}return!1}compact(f="compact",w=!0){return this.engine.compact(f,w),this._triggerChangeEvent(),this}column(f,w="moveScale"){if(!f||f<1||this.opts.column===f)return this;const A=this.getColumn();return this.opts.column=f,this.engine?(this.engine.column=f,this.el.classList.remove("gs-"+A),this._updateColumnVar(),this.engine.columnChanged(A,f,w),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):(this.responseLayout=w,this)}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(f=>f.matches("."+this.opts.itemClass)&&!f.matches("."+this.opts.placeholderClass))}isIgnoreChangeCB(){return this._ignoreLayoutsNodeChange}destroy(f=!0){var w;if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),f?this.el.parentNode.removeChild(this.el):(this.removeAll(f),this.el.removeAttribute("gs-current-row")),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,delete this.opts,(w=this._placeholder)==null||delete w.gridstackNode,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(f){return this.opts.float!==f&&(this.opts.float=this.engine.float=f,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(f,w=!1){const A=this.el.getBoundingClientRect();let R;R=w?{top:A.top+document.documentElement.scrollTop,left:A.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};const B=f.left-R.left,W=f.top-R.top,$=A.width/this.getColumn(),G=A.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(B/$),y:Math.floor(W/G)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow||0)}isAreaEmpty(f,w,A,R){return this.engine.isAreaEmpty(f,w,A,R)}makeWidget(f,w){const A=U.getElement(f);if(!A||A.gridstackNode)return A;A.parentElement||this.el.appendChild(A),this._prepareElement(A,!0,w);const R=A.gridstackNode;let B;return this._updateContainerHeight(),R.subGridOpts&&this.makeSubGrid(A,R.subGridOpts,void 0,!1),this.opts.column!==1||this._ignoreLayoutsNodeChange||(B=this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),B&&delete this._ignoreLayoutsNodeChange,A}on(f,w){if(f.indexOf(" ")!==-1)return f.split(" ").forEach(A=>this.on(A,w)),this;if(f==="change"||f==="added"||f==="removed"||f==="enable"||f==="disable"){const A=f==="enable"||f==="disable";this._gsEventHandler[f]=A?R=>w(R):R=>{R.detail&&w(R,R.detail)},this.el.addEventListener(f,this._gsEventHandler[f])}else f==="drag"||f==="dragstart"||f==="dragstop"||f==="resizestart"||f==="resize"||f==="resizestop"||f==="dropped"||f==="resizecontent"?this._gsEventHandler[f]=w:console.error("GridStack.on("+f+") event not supported");return this}off(f){return f.indexOf(" ")!==-1?(f.split(" ").forEach(w=>this.off(w)),this):(f!=="change"&&f!=="added"&&f!=="removed"&&f!=="enable"&&f!=="disable"||this._gsEventHandler[f]&&this.el.removeEventListener(f,this._gsEventHandler[f]),delete this._gsEventHandler[f],this)}offAll(){return Object.keys(this._gsEventHandler).forEach(f=>this.off(f)),this}removeWidget(f,w=!0,A=!0){return f?(U.getElements(f).forEach(R=>{if(R.parentElement&&R.parentElement!==this.el)return;let B=R.gridstackNode;B||(B=this.engine.nodes.find(W=>R===W.el)),B&&(w&&U.addRemoveCB&&U.addRemoveCB(this.el,B,!1,!1),delete R.gridstackNode,this._removeDD(R),this.engine.removeNode(B,w,A),w&&R.parentElement&&R.remove())}),A&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this):(console.error("Error: GridStack.removeWidget(undefined) called"),this)}removeAll(f=!0,w=!0){return this.engine.nodes.forEach(A=>{f&&U.addRemoveCB&&U.addRemoveCB(this.el,A,!1,!1),delete A.el.gridstackNode,this.opts.staticGrid||this._removeDD(A.el)}),this.engine.removeAll(f,w),w&&this._triggerRemoveEvent(),this}setAnimation(f=this.opts.animate,w){return w?setTimeout(()=>{this.opts&&this.setAnimation(f)}):f?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this.opts.animate=f,this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(f,w=!0,A=!0){return!!this.opts.staticGrid===f||(f?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(R=>{this.prepareDragDrop(R.el),R.subGrid&&A&&R.subGrid.setStatic(f,w,A)}),w&&this._setStaticClass()),this}updateOptions(f){var A;const w=this.opts;return f===w||(f.acceptWidgets!==void 0&&(w.acceptWidgets=f.acceptWidgets,this._setupAcceptWidget()),f.animate!==void 0&&this.setAnimation(f.animate),f.cellHeight&&this.cellHeight(f.cellHeight),f.class!==void 0&&f.class!==w.class&&(w.class&&this.el.classList.remove(w.class),f.class&&this.el.classList.add(f.class)),f.columnOpts?(this.opts.columnOpts=f.columnOpts,this.checkDynamicColumn()):f.columnOpts===null&&this.opts.columnOpts?(delete this.opts.columnOpts,this._updateResizeEvent()):typeof f.column=="number"&&this.column(f.column),f.margin!==void 0&&this.margin(f.margin),f.staticGrid!==void 0&&this.setStatic(f.staticGrid),f.disableDrag===void 0||f.staticGrid||this.enableMove(!f.disableDrag),f.disableResize===void 0||f.staticGrid||this.enableResize(!f.disableResize),f.float!==void 0&&this.float(f.float),f.row!==void 0?w.minRow=w.maxRow=w.row=f.row:(f.minRow!==void 0&&(w.minRow=f.minRow),f.maxRow!==void 0&&(w.maxRow=f.maxRow)),(A=f.children)!=null&&A.length&&this.load(f.children)),this}update(f,w){return U.getElements(f).forEach(A=>{var Q;const R=A==null?void 0:A.gridstackNode;if(!R)return;const B={...n.copyPos({},R),...n.cloneDeep(w)};this.engine.nodeBoundFix(B),delete B.autoPosition;const W=["x","y","w","h"];let $;if(W.some(K=>B[K]!==void 0&&B[K]!==R[K])&&($={},W.forEach(K=>{$[K]=B[K]!==void 0?B[K]:R[K],delete B[K]})),!$&&(B.minW||B.minH||B.maxW||B.maxH)&&($={}),B.content!==void 0){const K=A.querySelector(".grid-stack-item-content");K&&K.textContent!==B.content&&(R.content=B.content,U.renderCB(K,B),(Q=R.subGrid)!=null&&Q.el&&(K.appendChild(R.subGrid.el),R.subGrid._updateContainerHeight())),delete B.content}let G=!1,ue=!1;for(const K in B)K[0]!=="_"&&R[K]!==B[K]&&(R[K]=B[K],G=!0,ue=ue||!this.opts.staticGrid&&(K==="noResize"||K==="noMove"||K==="locked"));if(n.sanitizeMinMax(R),$){const K=$.w!==void 0&&$.w!==R.w;this.moveNode(R,$),K&&R.subGrid?R.subGrid.onResize(this.hasAnimationCSS()?R.w:void 0):this.resizeToContentCheck(K,R),delete R._orig}($||G)&&this._writeAttr(A,R),ue&&this.prepareDragDrop(R.el)}),this}moveNode(f,w){const A=f._updating;A||this.engine.cleanNodes().beginUpdate(f),this.engine.moveNode(f,w),this._updateContainerHeight(),A||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(f){var we,ze;if(!f||(f.classList.remove("size-to-content-max"),!f.clientHeight))return;const w=f.gridstackNode;if(!w)return;const A=w.grid;if(!A||f.parentElement!==A.el)return;const R=A.getCellHeight(!0);if(!R)return;let B,W=w.h?w.h*R:f.clientHeight;if(w.resizeToContentParent&&(B=f.querySelector(w.resizeToContentParent)),B||(B=f.querySelector(U.resizeToContentParent)),!B)return;const $=f.clientHeight-B.clientHeight,G=w.h?w.h*R-$:B.clientHeight;let ue;if(w.subGrid){ue=w.subGrid.getRow()*w.subGrid.getCellHeight(!0);const Ke=w.subGrid.el.getBoundingClientRect(),Pe=f.getBoundingClientRect();ue+=Ke.top-Pe.top}else{if((ze=(we=w.subGridOpts)==null?void 0:we.children)!=null&&ze.length)return;{const Ke=B.firstElementChild;if(!Ke)return void console.error(`Error: GridStack.resizeToContent() widget id:${w.id} '${U.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);ue=Ke.getBoundingClientRect().height||G}}if(G===ue)return;W+=ue-G;let Q=Math.ceil(W/R);const K=Number.isInteger(w.sizeToContent)?w.sizeToContent:0;K&&Q>K&&(Q=K,f.classList.add("size-to-content-max")),w.minH&&Q<w.minH?Q=w.minH:w.maxH&&Q>w.maxH&&(Q=w.maxH),Q!==w.h&&(A._ignoreLayoutsNodeChange=!0,A.moveNode(w,{h:Q}),delete A._ignoreLayoutsNodeChange)}resizeToContentCBCheck(f){U.resizeToContentCB?U.resizeToContentCB(f):this.resizeToContent(f)}rotate(f,w){return U.getElements(f).forEach(A=>{const R=A.gridstackNode;if(!n.canBeRotated(R))return;const B={w:R.h,h:R.w,minH:R.minW,minW:R.minH,maxH:R.maxW,maxW:R.maxH};if(w){const $=w.left>0?Math.floor(w.left/this.cellWidth()):0,G=w.top>0?Math.floor(w.top/this.opts.cellHeight):0;B.x=R.x+$-(R.h-(G+1)),B.y=R.y+G-$}Object.keys(B).forEach($=>{B[$]===void 0&&delete B[$]});const W=R._orig;this.update(A,B),R._orig=W}),this}margin(f){if(!(typeof f=="string"&&f.split(" ").length>1)){const w=n.parseHeight(f);if(this.opts.marginUnit===w.unit&&this.opts.margin===w.h)return}return this.opts.margin=f,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this}getMargin(){return this.opts.margin}willItFit(f){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");const w=arguments;let A=0,R={x:w[A++],y:w[A++],w:w[A++],h:w[A++],autoPosition:w[A++]};return this.willItFit(R)}return this.engine.willItFit(f)}_triggerChangeEvent(){if(this.engine.batchMode)return this;const f=this.engine.getDirtyNodes(!0);return f&&f.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(f),this._triggerEvent("change",f)),this.engine.saveInitial(),this}_triggerAddEvent(){var f;if(this.engine.batchMode)return this;if((f=this.engine.addedNodes)!=null&&f.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(A=>{delete A._dirty});const w=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",w)}return this}_triggerRemoveEvent(){var f;if(this.engine.batchMode)return this;if((f=this.engine.removedNodes)!=null&&f.length){const w=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",w)}return this}_triggerEvent(f,w){const A=w?new CustomEvent(f,{bubbles:!1,detail:w}):new Event(f);let R=this;for(;R.parentGridNode;)R=R.parentGridNode.grid;return R.el.dispatchEvent(A),this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const f=this.parentGridNode;let w=this.getRow()+this._extraDragRow;const A=this.opts.cellHeight,R=this.opts.cellHeightUnit;if(!A)return this;if(!f){const B=n.parseHeight(getComputedStyle(this.el).minHeight);if(B.h>0&&B.unit===R){const W=Math.floor(B.h/A);w<W&&(w=W)}}return this.el.setAttribute("gs-current-row",String(w)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),w&&(this.el.style[f?"minHeight":"height"]=w*A+R),f&&!f.grid.engine.batchMode&&n.shouldSizeToContent(f)&&f.grid.resizeToContentCBCheck(f.el),this}_prepareElement(f,w=!1,A){A=A||this._readAttr(f),f.gridstackNode=A,A.el=f,A.grid=this,A=this.engine.addNode(A,w),this._writeAttr(f,A),f.classList.add(a.itemClass,this.opts.itemClass);const R=n.shouldSizeToContent(A);return R?f.classList.add("size-to-content"):f.classList.remove("size-to-content"),R&&this.resizeToContentCheck(!1,A),n.lazyLoad(A)||this.prepareDragDrop(A.el),this}_writePosAttr(f,w){return(w._moving||w._resizing)&&this._placeholder!==f||(f.style.top=w.y?w.y===1?"var(--gs-cell-height)":`calc(${w.y} * var(--gs-cell-height))`:null,f.style.left=w.x?w.x===1?"var(--gs-column-width)":`calc(${w.x} * var(--gs-column-width))`:null,f.style.width=w.w>1?`calc(${w.w} * var(--gs-column-width))`:null,f.style.height=w.h>1?`calc(${w.h} * var(--gs-cell-height))`:null),w.x>0?f.setAttribute("gs-x",String(w.x)):f.removeAttribute("gs-x"),w.y>0?f.setAttribute("gs-y",String(w.y)):f.removeAttribute("gs-y"),w.w>1?f.setAttribute("gs-w",String(w.w)):f.removeAttribute("gs-w"),w.h>1?f.setAttribute("gs-h",String(w.h)):f.removeAttribute("gs-h"),this}_writeAttr(f,w){if(!w)return this;this._writePosAttr(f,w);const A={noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",sizeToContent:"gs-size-to-content"};for(const R in A)w[R]?f.setAttribute(A[R],String(w[R])):f.removeAttribute(A[R]);return this}_readAttr(f,w=!0){const A={};A.x=n.toNumber(f.getAttribute("gs-x")),A.y=n.toNumber(f.getAttribute("gs-y")),A.w=n.toNumber(f.getAttribute("gs-w")),A.h=n.toNumber(f.getAttribute("gs-h")),A.autoPosition=n.toBool(f.getAttribute("gs-auto-position")),A.noResize=n.toBool(f.getAttribute("gs-no-resize")),A.noMove=n.toBool(f.getAttribute("gs-no-move")),A.locked=n.toBool(f.getAttribute("gs-locked"));const R=f.getAttribute("gs-size-to-content");R&&(A.sizeToContent=R==="true"||R==="false"?n.toBool(R):parseInt(R,10)),A.id=f.getAttribute("gs-id"),A.maxW=n.toNumber(f.getAttribute("gs-max-w")),A.minW=n.toNumber(f.getAttribute("gs-min-w")),A.maxH=n.toNumber(f.getAttribute("gs-max-h")),A.minH=n.toNumber(f.getAttribute("gs-min-h")),w&&(A.w===1&&f.removeAttribute("gs-w"),A.h===1&&f.removeAttribute("gs-h"),A.maxW&&f.removeAttribute("gs-max-w"),A.minW&&f.removeAttribute("gs-min-w"),A.maxH&&f.removeAttribute("gs-max-h"),A.minH&&f.removeAttribute("gs-min-h"));for(const B in A){if(!A.hasOwnProperty(B))return;A[B]||A[B]===0||B==="gs-size-to-content"||delete A[B]}return A}_setStaticClass(){const f=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...f),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...f),this.el.removeAttribute("gs-static")),this}onResize(f=(w=>(w=this.el)==null?void 0:w.clientWidth)()){if(!f||this.prevWidth===f)return;this.prevWidth=f,this.batchUpdate();let A=!1;return this._autoColumn&&this.parentGridNode?this.opts.column!==this.parentGridNode.w&&(this.column(this.parentGridNode.w,this.opts.layout||"list"),A=!0):A=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(R=>{R.subGrid&&R.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(A),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(f=!1,w=void 0){if(this.engine){if(f&&this.hasAnimationCSS())return setTimeout(()=>this.resizeToContentCheck(!1,w),this.animationDelay);if(w)n.shouldSizeToContent(w)&&this.resizeToContentCBCheck(w.el);else if(this.engine.nodes.some(A=>n.shouldSizeToContent(A))){const A=[...this.engine.nodes];this.batchUpdate(),A.forEach(R=>{n.shouldSizeToContent(R)&&this.resizeToContentCBCheck(R.el)}),this._ignoreLayoutsNodeChange=!0,this.batchUpdate(!1),this._ignoreLayoutsNodeChange=!1}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,w?[w]:this.engine.nodes)}}_updateResizeEvent(f=!1){const w=!this.parentGridNode&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(A=>A.sizeToContent));return f||!w||this.resizeObserver?!f&&w||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=n.throttle(()=>this.onResize(),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(()=>this._sizeThrottle()),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(f=".grid-stack-item"){return n.getElement(f)}static getElements(f=".grid-stack-item"){return n.getElements(f)}static getGridElement(f){return U.getElement(f)}static getGridElements(f){return n.getElements(f)}_initMargin(){let f,w=0,A=[];typeof this.opts.margin=="string"&&(A=this.opts.margin.split(" ")),A.length===2?(this.opts.marginTop=this.opts.marginBottom=A[0],this.opts.marginLeft=this.opts.marginRight=A[1]):A.length===4?(this.opts.marginTop=A[0],this.opts.marginRight=A[1],this.opts.marginBottom=A[2],this.opts.marginLeft=A[3]):(f=n.parseHeight(this.opts.margin),this.opts.marginUnit=f.unit,w=this.opts.margin=f.h),["marginTop","marginRight","marginBottom","marginLeft"].forEach(B=>{this.opts[B]===void 0?this.opts[B]=w:(f=n.parseHeight(this.opts[B]),this.opts[B]=f.h,delete this.opts.margin)}),this.opts.marginUnit=f.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop);const R=this.el.style;return R.setProperty("--gs-item-margin-top",`${this.opts.marginTop}${this.opts.marginUnit}`),R.setProperty("--gs-item-margin-bottom",`${this.opts.marginBottom}${this.opts.marginUnit}`),R.setProperty("--gs-item-margin-right",`${this.opts.marginRight}${this.opts.marginUnit}`),R.setProperty("--gs-item-margin-left",`${this.opts.marginLeft}${this.opts.marginUnit}`),this}static getDD(){return I}static setupDragIn(f,w,A,R=document){(w==null?void 0:w.pause)!==void 0&&(h.pauseDrag=w.pause),w={appendTo:"body",helper:"clone",...w||{}},(typeof f=="string"?n.getElements(f,R):f).forEach((B,W)=>{I.isDraggable(B)||I.dragIn(B,w),A!=null&&A[W]&&(B.gridstackNode=A[W])})}movable(f,w){return this.opts.staticGrid||U.getElements(f).forEach(A=>{const R=A.gridstackNode;R&&(w?delete R.noMove:R.noMove=!0,this.prepareDragDrop(R.el))}),this}resizable(f,w){return this.opts.staticGrid||U.getElements(f).forEach(A=>{const R=A.gridstackNode;R&&(w?delete R.noResize:R.noResize=!0,this.prepareDragDrop(R.el))}),this}disable(f=!0){if(!this.opts.staticGrid)return this.enableMove(!1,f),this.enableResize(!1,f),this._triggerEvent("disable"),this}enable(f=!0){if(!this.opts.staticGrid)return this.enableMove(!0,f),this.enableResize(!0,f),this._triggerEvent("enable"),this}enableMove(f,w=!0){return this.opts.staticGrid||(f?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(A=>{this.prepareDragDrop(A.el),A.subGrid&&w&&A.subGrid.enableMove(f,w)})),this}enableResize(f,w=!0){return this.opts.staticGrid||(f?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(A=>{this.prepareDragDrop(A.el),A.subGrid&&w&&A.subGrid.enableResize(f,w)})),this}cancelDrag(){var w;const f=(w=this._placeholder)==null?void 0:w.gridstackNode;f&&(f._isExternal?(f._isAboutToRemove=!0,this.engine.removeNode(f)):f._isAboutToRemove&&U._itemRemoving(f.el,!1),this.engine.restoreInitial())}_removeDD(f){return I.draggable(f,"destroy").resizable(f,"destroy"),f.gridstackNode&&delete f.gridstackNode._initDD,delete f.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return I.droppable(this.el,"destroy"),this;let f,w;const A=(R,B,W)=>{var we;const $=(W=W||B).gridstackNode;if(!$)return;if(!((we=$.grid)!=null&&we.el)){W.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const ze=W.getBoundingClientRect();W.style.left=ze.x+(this.dragTransform.xScale-1)*(R.clientX-ze.x)/this.dragTransform.xScale+"px",W.style.top=ze.y+(this.dragTransform.yScale-1)*(R.clientY-ze.y)/this.dragTransform.yScale+"px",W.style.transformOrigin="0px 0px"}let{top:G,left:ue}=W.getBoundingClientRect();const Q=this.el.getBoundingClientRect();ue-=Q.left,G-=Q.top;const K={position:{top:G*this.dragTransform.xScale,left:ue*this.dragTransform.yScale}};if($._temporaryRemoved){if($.x=Math.max(0,Math.round(ue/w)),$.y=Math.max(0,Math.round(G/f)),delete $.autoPosition,this.engine.nodeBoundFix($),!this.engine.willItFit($)){if($.autoPosition=!0,!this.engine.willItFit($))return void I.off(B,"drag");$._willFitPos&&(n.copyPos($,$._willFitPos),delete $._willFitPos)}this._onStartMoving(W,R,K,$,w,f)}else this._dragOrResize(W,R,K,$,w,f)};return I.droppable(this.el,{accept:R=>{const B=R.gridstackNode||this._readAttr(R,!1);if((B==null?void 0:B.grid)===this)return!0;if(!this.opts.acceptWidgets)return!1;let W=!0;if(typeof this.opts.acceptWidgets=="function")W=this.opts.acceptWidgets(R);else{const $=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;W=R.matches($)}if(W&&B&&this.opts.maxRow){const $={w:B.w,h:B.h,minW:B.minW,minH:B.minH};W=this.engine.willItFit($)}return W}}).on(this.el,"dropover",(R,B,W)=>{let $=(W==null?void 0:W.gridstackNode)||B.gridstackNode;if(($==null?void 0:$.grid)===this&&!$._temporaryRemoved)return!1;if($!=null&&$._sidebarOrig&&($.w=$._sidebarOrig.w,$.h=$._sidebarOrig.h),$!=null&&$.grid&&$.grid!==this&&!$._temporaryRemoved&&$.grid._leave(B,W),W=W||B,w=this.cellWidth(),f=this.getCellHeight(!0),!$){const Q=W.getAttribute("data-gs-widget")||W.getAttribute("gridstacknode");if(Q){try{$=JSON.parse(Q)}catch{console.error("Gridstack dropover: Bad JSON format: ",Q)}W.removeAttribute("data-gs-widget"),W.removeAttribute("gridstacknode")}$||($=this._readAttr(W)),$._sidebarOrig={w:$.w,h:$.h}}$.grid||($.el||($={...$}),$._isExternal=!0,W.gridstackNode=$);const G=$.w||Math.round(W.offsetWidth/w)||1,ue=$.h||Math.round(W.offsetHeight/f)||1;return $.grid&&$.grid!==this?(B._gridstackNodeOrig||(B._gridstackNodeOrig=$),B.gridstackNode=$={...$,w:G,h:ue,grid:this},delete $.x,delete $.y,this.engine.cleanupNode($).nodeBoundFix($),$._initDD=$._isExternal=$._temporaryRemoved=!0):($.w=G,$.h=ue,$._temporaryRemoved=!0),U._itemRemoving($.el,!1),I.on(B,"drag",A),A(R,B,W),!1}).on(this.el,"dropout",(R,B,W)=>{const $=(W==null?void 0:W.gridstackNode)||B.gridstackNode;return!!$&&($.grid&&$.grid!==this||(this._leave(B,W),this._isTemp&&this.removeAsSubGrid($)),!1)}).on(this.el,"drop",(R,B,W)=>{var ze,Ke,Pe;const $=(W==null?void 0:W.gridstackNode)||B.gridstackNode;if(($==null?void 0:$.grid)===this&&!$._isExternal)return!1;const G=!!this.placeholder.parentElement,ue=B!==W;this.placeholder.remove(),delete this.placeholder.gridstackNode;const Q=G&&this.opts.animate;Q&&this.setAnimation(!1);const K=B._gridstackNodeOrig;if(delete B._gridstackNodeOrig,G&&(K==null?void 0:K.grid)&&K.grid!==this){const We=K.grid;We.engine.removeNodeFromLayoutCache(K),We.engine.removedNodes.push(K),We._triggerRemoveEvent()._triggerChangeEvent(),We.parentGridNode&&!We.engine.nodes.length&&We.opts.subGridDynamic&&We.removeAsSubGrid()}if(!$||(G&&(this.engine.cleanupNode($),$.grid=this),(ze=$.grid)==null||delete ze._isTemp,I.off(B,"drag"),W!==B?(W.remove(),B=W):B.remove(),this._removeDD(B),!G))return!1;const we=(Pe=(Ke=$.subGrid)==null?void 0:Ke.el)==null?void 0:Pe.gridstack;return n.copyPos($,this._readAttr(this.placeholder)),n.removePositioningStyles(B),ue&&($.content||$.subGridOpts||U.addRemoveCB)?(delete $.el,B=this.addWidget($)):(this._prepareElement(B,!0,$),this.el.appendChild(B),this.resizeToContentCheck(!1,$),we&&(we.parentGridNode=$),this._updateContainerHeight()),this.engine.addedNodes.push($),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...R,type:"dropped"},K&&K.grid?K:void 0,$),Q&&this.setAnimation(this.opts.animate,!0),!1}),this}static _itemRemoving(f,w){if(!f)return;const A=f?f.gridstackNode:void 0;A!=null&&A.grid&&!f.classList.contains(A.grid.opts.removableOptions.decline)&&(w?A._isAboutToRemove=!0:delete A._isAboutToRemove,w?f.classList.add("grid-stack-item-removing"):f.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(typeof this.opts.removable!="string")return this;const f=document.querySelector(this.opts.removable);return f?(this.opts.staticGrid||I.isDroppable(f)||I.droppable(f,this.opts.removableOptions).on(f,"dropover",(w,A)=>U._itemRemoving(A,!0)).on(f,"dropout",(w,A)=>U._itemRemoving(A,!1)),this):this}prepareDragDrop(f,w=!1){const A=f==null?void 0:f.gridstackNode;if(!A)return;const R=A.noMove||this.opts.disableDrag,B=A.noResize||this.opts.disableResize,W=this.opts.staticGrid||R&&B;if((w||W)&&(A._initDD&&(this._removeDD(f),delete A._initDD),W&&f.classList.add("ui-draggable-disabled","ui-resizable-disabled"),!w))return this;if(!A._initDD){let $,G;const ue=(we,ze)=>{this.triggerEvent(we,we.target),$=this.cellWidth(),G=this.getCellHeight(!0),this._onStartMoving(f,we,ze,A,$,G)},Q=(we,ze)=>{this._dragOrResize(f,we,ze,A,$,G)},K=we=>{this.placeholder.remove(),delete this.placeholder.gridstackNode,delete A._moving,delete A._resizing,delete A._event,delete A._lastTried;const ze=A.w!==A._orig.w,Ke=we.target;if(Ke.gridstackNode&&Ke.gridstackNode.grid===this){if(A.el=Ke,A._isAboutToRemove){const Pe=f.gridstackNode.grid;Pe._gsEventHandler[we.type]&&Pe._gsEventHandler[we.type](we,Ke),Pe.engine.nodes.push(A),Pe.removeWidget(f,!0,!0)}else n.removePositioningStyles(Ke),A._temporaryRemoved?(n.copyPos(A,A._orig),this._writePosAttr(Ke,A),this.engine.addNode(A)):this._writePosAttr(Ke,A),this.triggerEvent(we,Ke);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),we.type==="resizestop"&&(Number.isInteger(A.sizeToContent)&&(A.sizeToContent=A.h),this.resizeToContentCheck(ze,A))}};I.draggable(f,{start:ue,stop:K,drag:Q}).resizable(f,{start:ue,stop:K,resize:Q}),A._initDD=!0}return I.draggable(f,R?"disable":"enable").resizable(f,B?"disable":"enable"),this}_onStartMoving(f,w,A,R,B,W){var $;if(this.engine.cleanNodes().beginUpdate(R),this._writePosAttr(this.placeholder,R),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=R,($=R.grid)==null?void 0:$.el)this.dragTransform=n.getValuesFromTransformedElement(f);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const G=this.placeholder.closest(".grid-stack");this.dragTransform=n.getValuesFromTransformedElement(G)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(R.el=this.placeholder,R._lastUiPosition=A.position,R._prevYPix=A.position.top,R._moving=w.type==="dragstart",R._resizing=w.type==="resizestart",delete R._lastTried,w.type==="dropover"&&R._temporaryRemoved&&(this.engine.addNode(R),R._moving=!0),this.engine.cacheRects(B,W,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),w.type==="resizestart"){const G=this.getColumn()-R.x,ue=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-R.y;I.resizable(f,"option","minWidth",B*Math.min(R.minW||1,G)).resizable(f,"option","minHeight",W*Math.min(R.minH||1,ue)).resizable(f,"option","maxWidth",B*Math.min(R.maxW||Number.MAX_SAFE_INTEGER,G)).resizable(f,"option","maxWidthMoveLeft",B*Math.min(R.maxW||Number.MAX_SAFE_INTEGER,R.x+R.w)).resizable(f,"option","maxHeight",W*Math.min(R.maxH||Number.MAX_SAFE_INTEGER,ue)).resizable(f,"option","maxHeightMoveUp",W*Math.min(R.maxH||Number.MAX_SAFE_INTEGER,R.y+R.h))}}_dragOrResize(f,w,A,R,B,W){const $={...R._orig};let G,ue=this.opts.marginLeft,Q=this.opts.marginRight,K=this.opts.marginTop,we=this.opts.marginBottom;const ze=Math.round(.1*W),Ke=Math.round(.1*B);if(ue=Math.min(ue,Ke),Q=Math.min(Q,Ke),K=Math.min(K,ze),we=Math.min(we,ze),w.type==="drag"){if(R._temporaryRemoved)return;const We=A.position.top-R._prevYPix;R._prevYPix=A.position.top,this.opts.draggable.scroll!==!1&&n.updateScrollPosition(f,A.position,We);const it=A.position.left+(A.position.left>R._lastUiPosition.left?-Q:ue),vt=A.position.top+(A.position.top>R._lastUiPosition.top?-we:K);$.x=Math.round(it/B),$.y=Math.round(vt/W);const Lt=this._extraDragRow;if(this.engine.collide(R,$)){const Re=this.getRow();let Yt=Math.max(0,$.y+R.h-Re);this.opts.maxRow&&Re+Yt>this.opts.maxRow&&(Yt=Math.max(0,this.opts.maxRow-Re)),this._extraDragRow=Yt}else this._extraDragRow=0;if(this._extraDragRow!==Lt&&this._updateContainerHeight(),R.x===$.x&&R.y===$.y)return}else if(w.type==="resize"){if($.x<0||(n.updateScrollResize(w,f,W),$.w=Math.round((A.size.width-ue)/B),$.h=Math.round((A.size.height-K)/W),R.w===$.w&&R.h===$.h)||R._lastTried&&R._lastTried.w===$.w&&R._lastTried.h===$.h)return;const We=A.position.left+ue,it=A.position.top+K;$.x=Math.round(We/B),$.y=Math.round(it/W),G=!0}R._event=w,R._lastTried=$;const Pe={x:A.position.left+ue,y:A.position.top+K,w:(A.size?A.size.width:R.w*B)-ue-Q,h:(A.size?A.size.height:R.h*W)-K-we};if(this.engine.moveNodeCheck(R,{...$,cellWidth:B,cellHeight:W,rect:Pe,resizing:G})){R._lastUiPosition=A.position,this.engine.cacheRects(B,W,K,Q,we,ue),delete R._skipDown,G&&R.subGrid&&R.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();const We=w.target;R._sidebarOrig||this._writePosAttr(We,R),this.triggerEvent(w,We)}}triggerEvent(f,w){let A=this;for(;A.parentGridNode;)A=A.parentGridNode.grid;A._gsEventHandler[f.type]&&A._gsEventHandler[f.type](f,w)}_leave(f,w){const A=(w=w||f).gridstackNode;if(!A||(w.style.transform=w.style.transformOrigin=null,I.off(f,"drag"),A._temporaryRemoved))return;A._temporaryRemoved=!0,this.engine.removeNode(A),A.el=A._isExternal&&w?w:f;const R=A._sidebarOrig;A._isExternal&&this.engine.cleanupNode(A),A._sidebarOrig=R,this.opts.removable===!0&&U._itemRemoving(f,!0),f._gridstackNodeOrig?(f.gridstackNode=f._gridstackNodeOrig,delete f._gridstackNodeOrig):A._isExternal&&this.engine.restoreInitial()}commit(){return this.batchUpdate(!1).prototype,this}}return U.renderCB=(z,f)=>{z&&(f!=null&&f.content)&&(z.textContent=f.content)},U.resizeToContentParent=".grid-stack-item-content",U.Utils=n,U.Engine=l,U.GDRev="12.1.1",s.GridStack})())})(NI);var WK=NI.exports;const JL=Wd(WK);var jK={exports:{}};(function(t){(function(e){t.exports?t.exports=e(pW):e(jQuery)})(function(e,i){/*!
 * jsTree 3.3.17
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 *//*!
 * if using jslint please allow for the jQuery global and use following options:
 * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */if(!e.jstree){var s=0,n=!1,l=!1,a=!1,h=[],d=e("script:last").attr("src"),m=window.document,y=window.setImmediate,b=window.Promise;!y&&b&&(y=function(u,T){b.resolve(T).then(u)}),e.jstree={version:"3.3.17",defaults:{plugins:[]},plugins:{},path:d&&d.indexOf("/")!==-1?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(u,T){var g=new e.jstree.core(++s),S=T;return T=e.extend(!0,{},e.jstree.defaults,T),S&&S.plugins&&(T.plugins=S.plugins),e.each(T.plugins,function(C,P){C!=="core"&&(g=g.plugin(P,T[P]))}),e(u).data("jstree",g),g.init(u,T),g},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(m).off(".jstree")},e.jstree.core=function(u){this._id=u,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(u){var T=null,g=null;if(u&&u.id&&(!u.tagName||!u.nodeType)&&(u=u.id),!g||!g.length)try{g=e(u)}catch{}if(!g||!g.length)try{g=e("#"+u.replace(e.jstree.idregex,"\\$&"))}catch{}return g&&g.length&&(g=g.closest(".jstree")).length&&(g=g.data("jstree"))?T=g:e(".jstree").each(function(){var S=e(this).data("jstree");if(S&&S._model.data[u])return T=S,!1}),T},e.fn.jstree=function(u){var T=typeof u=="string",g=Array.prototype.slice.call(arguments,1),S=null;return u===!0&&!this.length?!1:(this.each(function(){var C=e.jstree.reference(this),P=T&&C?C[u]:null;if(S=T&&P?P.apply(C,g):null,!C&&!T&&(u===i||e.isPlainObject(u))&&e.jstree.create(this,u),(C&&!T||u===!0)&&(S=C||!1),S!==null&&S!==i)return!1}),S!==null&&S!==i?S:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(u){return function(T){return e(T).hasClass("jstree")&&e(T).data("jstree")!==i}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(u){u.type="click",e(u.currentTarget).trigger(u)},enter:function(u){u.type="click",e(u.currentTarget).trigger(u)},left:function(u){if(u.preventDefault(),this.is_open(u.currentTarget))this.close_node(u.currentTarget);else{var T=this.get_parent(u.currentTarget);T&&T.id!==e.jstree.root&&this.get_node(T,!0).children(".jstree-anchor").trigger("focus")}},up:function(u){u.preventDefault();var T=this.get_prev_dom(u.currentTarget);T&&T.length&&T.children(".jstree-anchor").trigger("focus")},right:function(u){if(u.preventDefault(),this.is_closed(u.currentTarget))this.open_node(u.currentTarget,function(g){this.get_node(g,!0).children(".jstree-anchor").trigger("focus")});else if(this.is_open(u.currentTarget)){var T=this.get_node(u.currentTarget,!0).children(".jstree-children")[0];T&&e(this._firstChild(T)).children(".jstree-anchor").trigger("focus")}},down:function(u){u.preventDefault();var T=this.get_next_dom(u.currentTarget);T&&T.length&&T.children(".jstree-anchor").trigger("focus")},"*":function(u){this.open_all()},home:function(u){u.preventDefault();var T=this._firstChild(this.get_container_ul()[0]);T&&e(T).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(u){u.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(u){u.preventDefault(),this.edit(u.currentTarget)}},allow_reselect:!1},e.jstree.core.prototype={plugin:function(u,T){var g=e.jstree.plugins[u];return g?(this._data[u]={},g.prototype=this,new g(T,this)):this},init:function(u,T){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(u).addClass("jstree jstree-"+this._id),this.settings=T,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl=this.element.css("direction")==="rtl",this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(u){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch{}u||this.element.empty(),this.teardown()},_create_prototype_node:function(){var u=m.createElement("LI"),T,g;return u.setAttribute("role","none"),T=m.createElement("I"),T.className="jstree-icon jstree-ocl",T.setAttribute("role","presentation"),u.appendChild(T),T=m.createElement("A"),T.className="jstree-anchor",T.setAttribute("href","#"),T.setAttribute("tabindex","-1"),T.setAttribute("role","treeitem"),g=m.createElement("I"),g.className="jstree-icon jstree-themeicon",g.setAttribute("role","presentation"),T.appendChild(g),u.appendChild(T),T=g=null,u},_kbevent_to_func:function(u){var T={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},g=[];if(u.ctrlKey&&g.push("ctrl"),u.altKey&&g.push("alt"),u.shiftKey&&g.push("shift"),g.push(T[u.which]?T[u.which].toLowerCase():u.which),g=g.sort().join("-").toLowerCase(),g==="shift-shift"||g==="ctrl-ctrl"||g==="alt-alt")return null;var S=this.settings.core.keyboard,C,P;for(C in S)if(S.hasOwnProperty(C)&&(P=C,P!=="-"&&P!=="+"&&(P=P.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),P=P.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),P===g))return S[C];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),this.element=null},bind:function(){var u="",T=null,g=0;this.element.on("dblclick.jstree",function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;if(m.selection&&m.selection.empty)m.selection.empty();else if(window.getSelection){var C=window.getSelection();try{C.removeAllRanges(),C.collapse()}catch{}}}).on("mousedown.jstree",(function(S){S.target===this.element[0]&&(S.preventDefault(),g=+new Date)}).bind(this)).on("mousedown.jstree",".jstree-ocl",function(S){S.preventDefault()}).on("click.jstree",".jstree-ocl",(function(S){this.toggle_node(S.target)}).bind(this)).on("dblclick.jstree",".jstree-anchor",(function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;this.settings.core.dblclick_toggle&&this.toggle_node(S.target)}).bind(this)).on("click.jstree",".jstree-anchor",(function(S){S.preventDefault(),S.currentTarget!==m.activeElement&&e(S.currentTarget).trigger("focus"),this.activate_node(S.currentTarget,S)}).bind(this)).on("keydown.jstree",".jstree-anchor",(function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;this._data.core.rtl&&(S.which===37?S.which=39:S.which===39&&(S.which=37));var C=this._kbevent_to_func(S);if(C){var P=C.call(this,S);if(P===!1||P===!0)return P}}).bind(this)).on("load_node.jstree",(function(S,C){C.status&&(C.node.id===e.jstree.root&&!this._data.core.loaded&&(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout((function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var P=[],I,U;for(I=0,U=this._data.core.selected.length;I<U;I++)P=P.concat(this._model.data[this._data.core.selected[I]].parents);for(P=e.vakata.array_unique(P),I=0,U=P.length;I<U;I++)this.open_node(P[I],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}).bind(this),0))}).bind(this)).on("keypress.jstree",(function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;T&&clearTimeout(T),T=setTimeout(function(){u=""},500);var C=String.fromCharCode(S.which).toLowerCase(),P=this.element.find(".jstree-anchor").filter(":visible"),I=P.index(m.activeElement)||0,U=!1;u+=C,!(u.length>1&&(P.slice(I).each((function(z,f){if(e(f).text().toLowerCase().indexOf(u)===0)return e(f).trigger("focus"),U=!0,!1}).bind(this)),U||(P.slice(0,I).each((function(z,f){if(e(f).text().toLowerCase().indexOf(u)===0)return e(f).trigger("focus"),U=!0,!1}).bind(this)),U)))&&new RegExp("^"+C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(u)&&(P.slice(I+1).each((function(z,f){if(e(f).text().toLowerCase().charAt(0)===C)return e(f).trigger("focus"),U=!0,!1}).bind(this)),U||P.slice(0,I+1).each((function(z,f){if(e(f).text().toLowerCase().charAt(0)===C)return e(f).trigger("focus"),U=!0,!1}).bind(this)))}).bind(this)).on("init.jstree",(function(){var S=this.settings.core.themes;this._data.core.themes.dots=S.dots,this._data.core.themes.stripes=S.stripes,this._data.core.themes.icons=S.icons,this._data.core.themes.ellipsis=S.ellipsis,this.set_theme(S.name||"default",S.url),this.set_theme_variant(S.variant)}).bind(this)).on("loading.jstree",(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}).bind(this)).on("blur.jstree",".jstree-anchor",(function(S){this._data.core.focused=null,e(S.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),e(S.currentTarget).attr("tabindex","-1")}).bind(this)).on("focus.jstree",".jstree-anchor",(function(S){var C=this.get_node(S.currentTarget);C&&(C.id||C.id===0)&&(this._data.core.focused=C.id),this.element.find(".jstree-hovered").not(S.currentTarget).trigger("mouseleave"),e(S.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),e(S.currentTarget).attr("tabindex","0")}).bind(this)).on("focus.jstree",(function(){if(+new Date-g>500&&!this._data.core.focused&&this.settings.core.restore_focus){g=0;var S=this.get_node(this.element.attr("aria-activedescendant"),!0);S&&S.find("> .jstree-anchor").trigger("focus")}}).bind(this)).on("mouseenter.jstree",".jstree-anchor",(function(S){this.hover_node(S.currentTarget)}).bind(this)).on("mouseleave.jstree",".jstree-anchor",(function(S){this.dehover_node(S.currentTarget)}).bind(this))},unbind:function(){this.element.off(".jstree"),e(m).off(".jstree-"+this._id)},trigger:function(u,T){T||(T={}),T.instance=this,this.element.triggerHandler(u.replace(".jstree","")+".jstree",T)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(u){var T=this.settings.core.strings;return e.vakata.is_function(T)?T.call(this,u):T&&T[u]?T[u]:u},_firstChild:function(u){for(u=u?u.firstChild:null;u!==null&&u.nodeType!==1;)u=u.nextSibling;return u},_nextSibling:function(u){for(u=u?u.nextSibling:null;u!==null&&u.nodeType!==1;)u=u.nextSibling;return u},_previousSibling:function(u){for(u=u?u.previousSibling:null;u!==null&&u.nodeType!==1;)u=u.previousSibling;return u},get_node:function(u,T){u&&(u.id||u.id===0)&&(u=u.id),u instanceof e&&u.length&&u[0].id&&(u=u[0].id);var g;try{if(this._model.data[u])u=this._model.data[u];else if(typeof u=="string"&&this._model.data[u.replace(/^#/,"")])u=this._model.data[u.replace(/^#/,"")];else if(typeof u=="string"&&(g=e("#"+u.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[g.closest(".jstree-node").attr("id")])u=this._model.data[g.closest(".jstree-node").attr("id")];else if((g=this.element.find(u)).length&&this._model.data[g.closest(".jstree-node").attr("id")])u=this._model.data[g.closest(".jstree-node").attr("id")];else if((g=this.element.find(u)).length&&g.hasClass("jstree"))u=this._model.data[e.jstree.root];else return!1;return T&&(u=u.id===e.jstree.root?this.element:e("#"+u.id.replace(e.jstree.idregex,"\\$&"),this.element)),u}catch{return!1}},get_path:function(u,T,g){if(u=u.parents?u:this.get_node(u),!u||u.id===e.jstree.root||!u.parents)return!1;var S,C,P=[];for(P.push(g?u.id:u.text),S=0,C=u.parents.length;S<C;S++)P.push(g?u.parents[S]:this.get_text(u.parents[S]));return P=P.reverse().slice(1),T?P.join(T):P},get_next_dom:function(u,T){var g;if(u=this.get_node(u,!0),u[0]===this.element[0]){for(g=this._firstChild(this.get_container_ul()[0]);g&&g.offsetHeight===0;)g=this._nextSibling(g);return g?e(g):!1}if(!u||!u.length)return!1;if(T){g=u[0];do g=this._nextSibling(g);while(g&&g.offsetHeight===0);return g?e(g):!1}if(u.hasClass("jstree-open")){for(g=this._firstChild(u.children(".jstree-children")[0]);g&&g.offsetHeight===0;)g=this._nextSibling(g);if(g!==null)return e(g)}g=u[0];do g=this._nextSibling(g);while(g&&g.offsetHeight===0);return g!==null?e(g):u.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(u,T){var g;if(u=this.get_node(u,!0),u[0]===this.element[0]){for(g=this.get_container_ul()[0].lastChild;g&&g.offsetHeight===0;)g=this._previousSibling(g);return g?e(g):!1}if(!u||!u.length)return!1;if(T){g=u[0];do g=this._previousSibling(g);while(g&&g.offsetHeight===0);return g?e(g):!1}g=u[0];do g=this._previousSibling(g);while(g&&g.offsetHeight===0);if(g!==null){for(u=e(g);u.hasClass("jstree-open");)u=u.children(".jstree-children").first().children(".jstree-node:visible:last");return u}return g=u[0].parentNode.parentNode,g&&g.className&&g.className.indexOf("jstree-node")!==-1?e(g):!1},get_parent:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.parent},get_children_dom:function(u){return u=this.get_node(u,!0),u[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!u||!u.length?!1:u.children(".jstree-children").children(".jstree-node")},is_parent:function(u){return u=this.get_node(u),u&&(u.state.loaded===!1||u.children.length>0)},is_loaded:function(u){return u=this.get_node(u),u&&u.state.loaded},is_loading:function(u){return u=this.get_node(u),u&&u.state&&u.state.loading},is_open:function(u){return u=this.get_node(u),u&&u.state.opened},is_closed:function(u){return u=this.get_node(u),u&&this.is_parent(u)&&!u.state.opened},is_leaf:function(u){return!this.is_parent(u)},load_node:function(u,T){var g=this.get_node(u,!0),S,C,P,I,U;if(e.vakata.is_array(u))return this._load_nodes(u.slice(),T),!0;if(u=this.get_node(u),!u)return T&&T.call(this,u,!1),!1;if(u.state.loaded){for(u.state.loaded=!1,P=0,I=u.parents.length;P<I;P++)this._model.data[u.parents[P]].children_d=e.vakata.array_filter(this._model.data[u.parents[P]].children_d,function(z){return e.inArray(z,u.children_d)===-1});for(S=0,C=u.children_d.length;S<C;S++)this._model.data[u.children_d[S]].state.selected&&(U=!0),delete this._model.data[u.children_d[S]];U&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(z){return e.inArray(z,u.children_d)===-1})),u.children=[],u.children_d=[],U&&this.trigger("changed",{action:"load_node",node:u,selected:this._data.core.selected})}return u.state.failed=!1,u.state.loading=!0,u.id!==e.jstree.root?g.children(".jstree-anchor").attr("aria-busy",!0):g.attr("aria-busy",!0),g.addClass("jstree-loading"),this._load_node(u,(function(z){u=this._model.data[u.id],u.state.loading=!1,u.state.loaded=z,u.state.failed=!u.state.loaded;var f=this.get_node(u,!0),w=0,A=0,R=this._model.data,B=!1;for(w=0,A=u.children.length;w<A;w++)if(R[u.children[w]]&&!R[u.children[w]].state.hidden){B=!0;break}u.state.loaded&&f&&f.length&&(f.removeClass("jstree-closed jstree-open jstree-leaf"),B?u.id!=="#"&&f.addClass(u.state.opened?"jstree-open":"jstree-closed"):f.addClass("jstree-leaf")),u.id!==e.jstree.root?f.children(".jstree-anchor").attr("aria-busy",!1):f.attr("aria-busy",!1),f.removeClass("jstree-loading"),this.trigger("load_node",{node:u,status:z}),T&&T.call(this,u,z)}).bind(this)),!0},_load_nodes:function(u,T,g,S){var C=!0,P=function(){this._load_nodes(u,T,!0)},I=this._model.data,U,z,f=[];for(U=0,z=u.length;U<z;U++)I[u[U]]&&(!I[u[U]].state.loaded&&!I[u[U]].state.failed||!g&&S)&&(this.is_loading(u[U])||this.load_node(u[U],P),C=!1);if(C){for(U=0,z=u.length;U<z;U++)I[u[U]]&&I[u[U]].state.loaded&&f.push(u[U]);T&&!T.done&&(T.call(this,f),T.done=!0)}},load_all:function(u,T){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var g=[],S=this._model.data,C=S[u.id].children_d,P,I;for(u.state&&!u.state.loaded&&g.push(u.id),P=0,I=C.length;P<I;P++)S[C[P]]&&S[C[P]].state&&!S[C[P]].state.loaded&&g.push(C[P]);g.length?this._load_nodes(g,function(){this.load_all(u,T)}):(T&&T.call(this,u),this.trigger("load_all",{node:u}))},_load_node:function(u,T){var g=this.settings.core.data,S,C=function(){return this.nodeType!==3&&this.nodeType!==8};return g?e.vakata.is_function(g)?g.call(this,u,(function(P){P===!1?T.call(this,!1):this[typeof P=="string"?"_append_html_data":"_append_json_data"](u,typeof P=="string"?e(e.parseHTML(P)).filter(C):P,function(I){T.call(this,I)})}).bind(this)):typeof g=="object"?g.url?(g=e.extend(!0,{},g),e.vakata.is_function(g.url)&&(g.url=g.url.call(this,u)),e.vakata.is_function(g.data)&&(g.data=g.data.call(this,u)),e.ajax(g).done((function(P,I,U){var z=U.getResponseHeader("Content-Type");return z&&z.indexOf("json")!==-1||typeof P=="object"?this._append_json_data(u,P,function(f){T.call(this,f)}):z&&z.indexOf("html")!==-1||typeof P=="string"?this._append_html_data(u,e(e.parseHTML(P)).filter(C),function(f){T.call(this,f)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:U})},this.settings.core.error.call(this,this._data.core.last_error),T.call(this,!1))}).bind(this)).fail((function(P){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:P})},T.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}).bind(this))):(e.vakata.is_array(g)?S=e.extend(!0,[],g):e.isPlainObject(g)?S=e.extend(!0,{},g):S=g,u.id===e.jstree.root?this._append_json_data(u,S,function(P){T.call(this,P)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),T.call(this,!1))):typeof g=="string"?u.id===e.jstree.root?this._append_html_data(u,e(e.parseHTML(g)).filter(C),function(P){T.call(this,P)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),T.call(this,!1)):T.call(this,!1):u.id===e.jstree.root?this._append_html_data(u,this._data.core.original_container_html.clone(!0),function(P){T.call(this,P)}):T.call(this,!1)},_node_changed:function(u){u=this.get_node(u),u&&e.inArray(u.id,this._model.changed)===-1&&this._model.changed.push(u.id)},_append_html_data:function(u,T,g){u=this.get_node(u),u.children=[],u.children_d=[];var S=T.is("ul")?T.children():T,C=u.id,P=[],I=[],U=this._model.data,z=U[C],f=this._data.core.selected.length,w,A,R;for(S.each((function(B,W){w=this._parse_model_from_html(e(W),C,z.parents.concat()),w&&(P.push(w),I.push(w),U[w].children_d.length&&(I=I.concat(U[w].children_d)))}).bind(this)),z.children=P,z.children_d=I,A=0,R=z.parents.length;A<R;A++)U[z.parents[A]].children_d=U[z.parents[A]].children_d.concat(I);this.trigger("model",{nodes:I,parent:C}),C!==e.jstree.root?(this._node_changed(C),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==f&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),g.call(this,!0)},_append_json_data:function(u,T,g,S){if(this.element!==null){u=this.get_node(u),u.children=[],u.children_d=[],T.d&&(T=T.d,typeof T=="string"&&(T=JSON.parse(T))),e.vakata.is_array(T)||(T=[T]);var C=null,P={df:this._model.default_state,dat:T,par:u.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},I=this,U=function(f,w){f.data&&(f=f.data);var A=f.dat,R=f.par,B=[],W=[],$=[],G=f.df,ue=f.t_id,Q=f.t_cnt,K=f.m,we=K[R],ze=f.sel,Ke,Pe,We,it,vt=function(Re,Yt,$t){$t?$t=$t.concat():$t=[],Yt&&$t.unshift(Yt);var Ri=Re.id.toString(),nt,Si,Qi,Ji,bt={id:Ri,text:Re.text||"",icon:Re.icon!==w?Re.icon:!0,parent:Yt,parents:$t,children:Re.children||[],children_d:Re.children_d||[],data:Re.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(nt in G)G.hasOwnProperty(nt)&&(bt.state[nt]=G[nt]);if(Re&&Re.data&&Re.data.jstree&&Re.data.jstree.icon&&(bt.icon=Re.data.jstree.icon),(bt.icon===w||bt.icon===null||bt.icon==="")&&(bt.icon=!0),Re&&Re.data&&(bt.data=Re.data,Re.data.jstree))for(nt in Re.data.jstree)Re.data.jstree.hasOwnProperty(nt)&&(bt.state[nt]=Re.data.jstree[nt]);if(Re&&typeof Re.state=="object")for(nt in Re.state)Re.state.hasOwnProperty(nt)&&(bt.state[nt]=Re.state[nt]);if(Re&&typeof Re.li_attr=="object")for(nt in Re.li_attr)Re.li_attr.hasOwnProperty(nt)&&(bt.li_attr[nt]=Re.li_attr[nt]);if(bt.li_attr.id||(bt.li_attr.id=Ri),Re&&typeof Re.a_attr=="object")for(nt in Re.a_attr)Re.a_attr.hasOwnProperty(nt)&&(bt.a_attr[nt]=Re.a_attr[nt]);for(Re&&Re.children&&Re.children===!0&&(bt.state.loaded=!1,bt.children=[],bt.children_d=[]),K[bt.id]=bt,nt=0,Si=bt.children.length;nt<Si;nt++)Qi=vt(K[bt.children[nt]],bt.id,$t),Ji=K[Qi],bt.children_d.push(Qi),Ji.children_d.length&&(bt.children_d=bt.children_d.concat(Ji.children_d));return delete Re.data,delete Re.children,K[bt.id].original=Re,bt.state.selected&&$.push(bt.id),bt.id},Lt=function(Re,Yt,$t){$t?$t=$t.concat():$t=[],Yt&&$t.unshift(Yt);var Ri=!1,nt,Si,Qi,Ji,bt;do Ri="j"+ue+"_"+ ++Q;while(K[Ri]);bt={id:!1,text:typeof Re=="string"?Re:"",icon:typeof Re=="object"&&Re.icon!==w?Re.icon:!0,parent:Yt,parents:$t,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(nt in G)G.hasOwnProperty(nt)&&(bt.state[nt]=G[nt]);if(Re&&(Re.id||Re.id===0)&&(bt.id=Re.id.toString()),Re&&Re.text&&(bt.text=Re.text),Re&&Re.data&&Re.data.jstree&&Re.data.jstree.icon&&(bt.icon=Re.data.jstree.icon),(bt.icon===w||bt.icon===null||bt.icon==="")&&(bt.icon=!0),Re&&Re.data&&(bt.data=Re.data,Re.data.jstree))for(nt in Re.data.jstree)Re.data.jstree.hasOwnProperty(nt)&&(bt.state[nt]=Re.data.jstree[nt]);if(Re&&typeof Re.state=="object")for(nt in Re.state)Re.state.hasOwnProperty(nt)&&(bt.state[nt]=Re.state[nt]);if(Re&&typeof Re.li_attr=="object")for(nt in Re.li_attr)Re.li_attr.hasOwnProperty(nt)&&(bt.li_attr[nt]=Re.li_attr[nt]);if(bt.li_attr.id&&!(bt.id||bt.id===0)&&(bt.id=bt.li_attr.id.toString()),bt.id||bt.id===0||(bt.id=Ri),bt.li_attr.id||(bt.li_attr.id=bt.id),Re&&typeof Re.a_attr=="object")for(nt in Re.a_attr)Re.a_attr.hasOwnProperty(nt)&&(bt.a_attr[nt]=Re.a_attr[nt]);if(Re&&Re.children&&Re.children.length){for(nt=0,Si=Re.children.length;nt<Si;nt++)Qi=Lt(Re.children[nt],bt.id,$t),Ji=K[Qi],bt.children.push(Qi),Ji.children_d.length&&(bt.children_d=bt.children_d.concat(Ji.children_d));bt.children_d=bt.children_d.concat(bt.children)}return Re&&Re.children&&Re.children===!0&&(bt.state.loaded=!1,bt.children=[],bt.children_d=[]),delete Re.data,delete Re.children,bt.original=Re,K[bt.id]=bt,bt.state.selected&&$.push(bt.id),bt.id};if(A.length&&A[0].id!==w&&A[0].parent!==w){for(Pe=0,We=A.length;Pe<We;Pe++)A[Pe].children||(A[Pe].children=[]),A[Pe].state||(A[Pe].state={}),K[A[Pe].id.toString()]=A[Pe];for(Pe=0,We=A.length;Pe<We;Pe++){if(!K[A[Pe].parent.toString()]){typeof I<"u"&&(I._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:A[Pe].id.toString(),parent:A[Pe].parent.toString()})},I.settings.core.error.call(I,I._data.core.last_error));continue}K[A[Pe].parent.toString()].children.push(A[Pe].id.toString()),we.children_d.push(A[Pe].id.toString())}for(Pe=0,We=we.children.length;Pe<We;Pe++)Ke=vt(K[we.children[Pe]],R,we.parents.concat()),W.push(Ke),K[Ke].children_d.length&&(W=W.concat(K[Ke].children_d));for(Pe=0,We=we.parents.length;Pe<We;Pe++)K[we.parents[Pe]].children_d=K[we.parents[Pe]].children_d.concat(W);it={cnt:Q,mod:K,sel:ze,par:R,dpc:W,add:$}}else{for(Pe=0,We=A.length;Pe<We;Pe++)Ke=Lt(A[Pe],R,we.parents.concat()),Ke&&(B.push(Ke),W.push(Ke),K[Ke].children_d.length&&(W=W.concat(K[Ke].children_d)));for(we.children=B,we.children_d=W,Pe=0,We=we.parents.length;Pe<We;Pe++)K[we.parents[Pe]].children_d=K[we.parents[Pe]].children_d.concat(W);it={cnt:Q,mod:K,sel:ze,par:R,dpc:W,add:$}}if(typeof window>"u"||typeof window.document>"u")postMessage(it);else return it},z=function(f,w){if(this.element!==null){this._cnt=f.cnt;var A,R=this._model.data;for(A in R)R.hasOwnProperty(A)&&R[A].state&&R[A].state.loading&&f.mod[A]&&(f.mod[A].state.loading=!0);if(this._model.data=f.mod,w){var B,W=f.add,$=f.sel,G=this._data.core.selected.slice();if(R=this._model.data,$.length!==G.length||e.vakata.array_unique($.concat(G)).length!==$.length){for(A=0,B=$.length;A<B;A++)e.inArray($[A],W)===-1&&e.inArray($[A],G)===-1&&(R[$[A]].state.selected=!1);for(A=0,B=G.length;A<B;A++)e.inArray(G[A],$)===-1&&(R[G[A]].state.selected=!0)}}f.add.length&&(this._data.core.selected=this._data.core.selected.concat(f.add)),this.trigger("model",{nodes:f.dpc,parent:f.par}),f.par!==e.jstree.root?(this._node_changed(f.par),this.redraw()):this.redraw(!0),f.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!w&&y?y(function(){g.call(I,!0)}):g.call(I,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{this._wrk===null&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+U.toString()],{type:"text/javascript"}))),!this._data.core.working||S?(this._data.core.working=!0,C=new window.Worker(this._wrk),C.onmessage=(function(f){z.call(this,f.data,!0);try{C.terminate(),C=null}catch{}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),C.onerror=(function(f){z.call(this,U(P),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),P.par?C.postMessage(P):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([u,T,g,!0])}catch{z.call(this,U(P),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else z.call(this,U(P),!1)}},_parse_model_from_html:function(u,T,g){g?g=[].concat(g):g=[],T&&g.unshift(T);var S,C,P=this._model.data,I={id:!1,text:!1,icon:!0,parent:T,parents:g,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},U,z,f;for(U in this._model.default_state)this._model.default_state.hasOwnProperty(U)&&(I.state[U]=this._model.default_state[U]);if(z=e.vakata.attributes(u,!0),e.each(z,function(w,A){if(A=e.vakata.trim(A),!A.length)return!0;I.li_attr[w]=A,w==="id"&&(I.id=A.toString())}),z=u.children("a").first(),z.length&&(z=e.vakata.attributes(z,!0),e.each(z,function(w,A){A=e.vakata.trim(A),A.length&&(I.a_attr[w]=A)})),z=u.children("a").first().length?u.children("a").first().clone():u.clone(),z.children("ins, i, ul").remove(),z=z.html(),z=e("<div></div>").html(z),I.text=this.settings.core.force_text?z.text():z.html(),z=u.data(),I.data=z?e.extend(!0,{},z):null,I.state.opened=u.hasClass("jstree-open"),I.state.selected=u.children("a").hasClass("jstree-clicked"),I.state.disabled=u.children("a").hasClass("jstree-disabled"),I.data&&I.data.jstree)for(U in I.data.jstree)I.data.jstree.hasOwnProperty(U)&&(I.state[U]=I.data.jstree[U]);z=u.children("a").children(".jstree-themeicon"),z.length&&(I.icon=z.hasClass("jstree-themeicon-hidden")?!1:z.attr("rel")),I.state.icon!==i&&(I.icon=I.state.icon),(I.icon===i||I.icon===null||I.icon==="")&&(I.icon=!0),z=u.children("ul").children("li");do f="j"+this._id+"_"+ ++this._cnt;while(P[f]);return I.id=I.li_attr.id?I.li_attr.id.toString():f,z.length?(z.each((function(w,A){S=this._parse_model_from_html(e(A),I.id,g),C=this._model.data[S],I.children.push(S),C.children_d.length&&(I.children_d=I.children_d.concat(C.children_d))}).bind(this)),I.children_d=I.children_d.concat(I.children)):u.hasClass("jstree-closed")&&(I.state.loaded=!1),I.li_attr.class&&(I.li_attr.class=I.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),I.a_attr.class&&(I.a_attr.class=I.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),P[I.id]=I,I.state.selected&&this._data.core.selected.push(I.id),I.id},_parse_model_from_flat_json:function(u,T,g){g?g=g.concat():g=[],T&&g.unshift(T);var S=u.id.toString(),C=this._model.data,P=this._model.default_state,I,U,z,f,w={id:S,text:u.text||"",icon:u.icon!==i?u.icon:!0,parent:T,parents:g,children:u.children||[],children_d:u.children_d||[],data:u.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(I in P)P.hasOwnProperty(I)&&(w.state[I]=P[I]);if(u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(w.icon=u.data.jstree.icon),(w.icon===i||w.icon===null||w.icon==="")&&(w.icon=!0),u&&u.data&&(w.data=u.data,u.data.jstree))for(I in u.data.jstree)u.data.jstree.hasOwnProperty(I)&&(w.state[I]=u.data.jstree[I]);if(u&&typeof u.state=="object")for(I in u.state)u.state.hasOwnProperty(I)&&(w.state[I]=u.state[I]);if(u&&typeof u.li_attr=="object")for(I in u.li_attr)u.li_attr.hasOwnProperty(I)&&(w.li_attr[I]=u.li_attr[I]);if(w.li_attr.id||(w.li_attr.id=S),u&&typeof u.a_attr=="object")for(I in u.a_attr)u.a_attr.hasOwnProperty(I)&&(w.a_attr[I]=u.a_attr[I]);for(u&&u.children&&u.children===!0&&(w.state.loaded=!1,w.children=[],w.children_d=[]),C[w.id]=w,I=0,U=w.children.length;I<U;I++)z=this._parse_model_from_flat_json(C[w.children[I]],w.id,g),f=C[z],w.children_d.push(z),f.children_d.length&&(w.children_d=w.children_d.concat(f.children_d));return delete u.data,delete u.children,C[w.id].original=u,w.state.selected&&this._data.core.selected.push(w.id),w.id},_parse_model_from_json:function(u,T,g){g?g=g.concat():g=[],T&&g.unshift(T);var S=!1,C,P,I,U,z=this._model.data,f=this._model.default_state,w;do S="j"+this._id+"_"+ ++this._cnt;while(z[S]);w={id:!1,text:typeof u=="string"?u:"",icon:typeof u=="object"&&u.icon!==i?u.icon:!0,parent:T,parents:g,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(C in f)f.hasOwnProperty(C)&&(w.state[C]=f[C]);if(u&&(u.id||u.id===0)&&(w.id=u.id.toString()),u&&u.text&&(w.text=u.text),u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(w.icon=u.data.jstree.icon),(w.icon===i||w.icon===null||w.icon==="")&&(w.icon=!0),u&&u.data&&(w.data=u.data,u.data.jstree))for(C in u.data.jstree)u.data.jstree.hasOwnProperty(C)&&(w.state[C]=u.data.jstree[C]);if(u&&typeof u.state=="object")for(C in u.state)u.state.hasOwnProperty(C)&&(w.state[C]=u.state[C]);if(u&&typeof u.li_attr=="object")for(C in u.li_attr)u.li_attr.hasOwnProperty(C)&&(w.li_attr[C]=u.li_attr[C]);if(w.li_attr.id&&!(w.id||w.id===0)&&(w.id=w.li_attr.id.toString()),w.id||w.id===0||(w.id=S),w.li_attr.id||(w.li_attr.id=w.id),u&&typeof u.a_attr=="object")for(C in u.a_attr)u.a_attr.hasOwnProperty(C)&&(w.a_attr[C]=u.a_attr[C]);if(u&&u.children&&u.children.length){for(C=0,P=u.children.length;C<P;C++)I=this._parse_model_from_json(u.children[C],w.id,g),U=z[I],w.children.push(I),U.children_d.length&&(w.children_d=w.children_d.concat(U.children_d));w.children_d=w.children.concat(w.children_d)}return u&&u.children&&u.children===!0&&(w.state.loaded=!1,w.children=[],w.children_d=[]),delete u.data,delete u.children,w.original=u,z[w.id]=w,w.state.selected&&this._data.core.selected.push(w.id),w.id},_redraw:function(){var u=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),T=m.createElement("UL"),g,S,C,P=this._data.core.focused;for(S=0,C=u.length;S<C;S++)g=this.redraw_node(u[S],!0,this._model.force_full_redraw),g&&this._model.force_full_redraw&&T.appendChild(g);this._model.force_full_redraw&&(T.className=this.get_container_ul()[0].className,T.setAttribute("role","presentation"),this.element.empty().append(T)),P!==null&&this.settings.core.restore_focus&&(g=this.get_node(P,!0),g&&g.length&&g.children(".jstree-anchor")[0]!==m.activeElement?g.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:u})},redraw:function(u){u&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(u){var T=this.get_node(u),g=!1,S=!1,C=!1,P=m;if(!T)return!1;if(T.id===e.jstree.root)return this.redraw(!0);if(u=this.get_node(u,!0),!u||!u.length)return!1;if(u.children(".jstree-children").remove(),u=u[0],T.children.length&&T.state.loaded){for(C=P.createElement("UL"),C.setAttribute("role","group"),C.className="jstree-children",g=0,S=T.children.length;g<S;g++)C.appendChild(this.redraw_node(T.children[g],!0,!0));u.appendChild(C)}},redraw_node:function(u,T,g,S){var C=this.get_node(u),P=!1,I=!1,U=!1,z=!1,f=!1,w=!1,A="",R=m,B=this._model.data,W=!1,$=null,G=0,ue=0,Q=!1,K=!1;if(!C)return!1;if(C.id===e.jstree.root)return this.redraw(!0);if(T=T||C.children.length===0,u=m.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(C.id[0])!==-1?"\\3"+C.id[0]+" "+C.id.substr(1).replace(e.jstree.idregex,"\\$&"):C.id.replace(e.jstree.idregex,"\\$&"))):m.getElementById(C.id),u)u=e(u),g||(P=u.parent().parent()[0],P===this.element[0]&&(P=null),I=u.index()),!T&&C.children.length&&!u.children(".jstree-children").length&&(T=!0),T||(U=u.children(".jstree-children")[0]),W=u.children(".jstree-anchor")[0]===m.activeElement,u.remove();else if(T=!0,!g){if(P=C.parent!==e.jstree.root?e("#"+C.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,P!==null&&(!P||!B[C.parent].state.opened))return!1;I=e.inArray(C.id,P===null?B[e.jstree.root].children:B[C.parent].children)}u=this._data.core.node.cloneNode(!0),A="jstree-node ";for(z in C.li_attr)if(C.li_attr.hasOwnProperty(z)){if(z==="id")continue;z!=="class"?u.setAttribute(z,C.li_attr[z]):A+=C.li_attr[z]}for(C.a_attr.id||(C.a_attr.id=C.id+"_anchor"),u.childNodes[1].setAttribute("aria-selected",!!C.state.selected),u.childNodes[1].setAttribute("aria-level",C.parents.length),this.settings.core.compute_elements_positions&&(u.childNodes[1].setAttribute("aria-setsize",B[C.parent].children.length),u.childNodes[1].setAttribute("aria-posinset",B[C.parent].children.indexOf(C.id)+1)),C.state.disabled&&u.childNodes[1].setAttribute("aria-disabled",!0),z=0,f=C.children.length;z<f;z++)if(!B[C.children[z]].state.hidden){Q=!0;break}if(C.parent!==null&&B[C.parent]&&!C.state.hidden&&(z=e.inArray(C.id,B[C.parent].children),K=C.id,z!==-1))for(z++,f=B[C.parent].children.length;z<f&&(B[B[C.parent].children[z]].state.hidden||(K=B[C.parent].children[z]),K===C.id);z++);C.state.hidden&&(A+=" jstree-hidden"),C.state.loading&&(A+=" jstree-loading"),C.state.loaded&&!Q?A+=" jstree-leaf":(A+=C.state.opened&&C.state.loaded?" jstree-open":" jstree-closed",u.childNodes[1].setAttribute("aria-expanded",C.state.opened&&C.state.loaded)),K===C.id&&(A+=" jstree-last"),u.id=C.id,u.className=A,A=(C.state.selected?" jstree-clicked":"")+(C.state.disabled?" jstree-disabled":"");for(f in C.a_attr)if(C.a_attr.hasOwnProperty(f)){if(f==="href"&&C.a_attr[f]==="#")continue;f!=="class"?u.childNodes[1].setAttribute(f,C.a_attr[f]):A+=" "+C.a_attr[f]}if(A.length&&(u.childNodes[1].className="jstree-anchor "+A),(C.icon&&C.icon!==!0||C.icon===!1)&&(C.icon===!1?u.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":C.icon.indexOf("/")===-1&&C.icon.indexOf(".")===-1?u.childNodes[1].childNodes[0].className+=" "+C.icon+" jstree-themeicon-custom":(u.childNodes[1].childNodes[0].style.backgroundImage='url("'+C.icon+'")',u.childNodes[1].childNodes[0].style.backgroundPosition="center center",u.childNodes[1].childNodes[0].style.backgroundSize="auto",u.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?u.childNodes[1].appendChild(R.createTextNode(C.text)):u.childNodes[1].innerHTML+=C.text,T&&C.children.length&&(C.state.opened||S)&&C.state.loaded){for(w=R.createElement("UL"),w.setAttribute("role","group"),w.className="jstree-children",z=0,f=C.children.length;z<f;z++)w.appendChild(this.redraw_node(C.children[z],T,!0));u.appendChild(w)}if(U&&u.appendChild(U),!g){for(P||(P=this.element[0]),z=0,f=P.childNodes.length;z<f;z++)if(P.childNodes[z]&&P.childNodes[z].className&&P.childNodes[z].className.indexOf("jstree-children")!==-1){$=P.childNodes[z];break}$||($=R.createElement("UL"),$.setAttribute("role","group"),$.className="jstree-children",P.appendChild($)),P=$,I<P.childNodes.length?P.insertBefore(u,P.childNodes[I]):P.appendChild(u),W&&(G=this.element[0].scrollTop,ue=this.element[0].scrollLeft,u.childNodes[1].focus(),this.element[0].scrollTop=G,this.element[0].scrollLeft=ue)}return C.state.opened&&!C.state.loaded&&(C.state.opened=!1,setTimeout((function(){this.open_node(C.id,!1,0)}).bind(this),0)),u},open_node:function(u,T,g){var S,C,P,I;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,C=u.length;S<C;S++)this.open_node(u[S],T,g);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;if(g=g===i?this.settings.core.animation:g,!this.is_closed(u))return T&&T.call(this,u,!1),!1;if(this.is_loaded(u))return P=this.get_node(u,!0),I=this,P.length&&(g&&P.children(".jstree-children").length&&P.children(".jstree-children").stop(!0,!0),u.children.length&&!this._firstChild(P.children(".jstree-children")[0])&&this.draw_children(u),g?(this.trigger("before_open",{node:u}),P.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(g,function(){this.style.display="",I.element&&I.trigger("after_open",{node:u})})):(this.trigger("before_open",{node:u}),P[0].className=P[0].className.replace("jstree-closed","jstree-open"),P[0].childNodes[1].setAttribute("aria-expanded",!0))),u.state.opened=!0,T&&T.call(this,u,!0),P.length||this.trigger("before_open",{node:u}),this.trigger("open_node",{node:u}),(!g||!P.length)&&this.trigger("after_open",{node:u}),!0;if(this.is_loading(u))return setTimeout((function(){this.open_node(u,T,g)}).bind(this),500);this.load_node(u,function(U,z){return z?this.open_node(U,T,g):T?T.call(this,U,!1):!1})},_open_to:function(u){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var T,g,S=u.parents;for(T=0,g=S.length;T<g;T+=1)T!==e.jstree.root&&this.open_node(S[T],!1,0);return e("#"+u.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(u,T){var g,S,C,P;if(e.vakata.is_array(u)){for(u=u.slice(),g=0,S=u.length;g<S;g++)this.close_node(u[g],T);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root||this.is_closed(u))return!1;T=T===i?this.settings.core.animation:T,C=this,P=this.get_node(u,!0),u.state.opened=!1,this.trigger("close_node",{node:u}),P.length?T?P.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(T,function(){this.style.display="",P.children(".jstree-children").remove(),C.element&&C.trigger("after_close",{node:u})}):(P[0].className=P[0].className.replace("jstree-open","jstree-closed"),P.children(".jstree-anchor").attr("aria-expanded",!1),P.children(".jstree-children").remove(),this.trigger("after_close",{node:u})):this.trigger("after_close",{node:u})},toggle_node:function(u){var T,g;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,g=u.length;T<g;T++)this.toggle_node(u[T]);return!0}if(this.is_closed(u))return this.open_node(u);if(this.is_open(u))return this.close_node(u)},open_all:function(u,T,g){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var S=u.id===e.jstree.root?this.get_container_ul():this.get_node(u,!0),C,P,I;if(!S.length){for(C=0,P=u.children_d.length;C<P;C++)this.is_closed(this._model.data[u.children_d[C]])&&(this._model.data[u.children_d[C]].state.opened=!0);return this.trigger("open_all",{node:u})}g=g||S,I=this,S=this.is_closed(u)?S.find(".jstree-closed").addBack():S.find(".jstree-closed"),S.each(function(){I.open_node(this,function(U,z){z&&this.is_parent(U)&&this.open_all(U,T,g)},T||0)}),g.find(".jstree-closed").length===0&&this.trigger("open_all",{node:this.get_node(g)})},close_all:function(u,T){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var g=u.id===e.jstree.root?this.get_container_ul():this.get_node(u,!0),S=this,C,P;for(g.length&&(g=this.is_open(u)?g.find(".jstree-open").addBack():g.find(".jstree-open"),e(g.get().reverse()).each(function(){S.close_node(this,T||0)})),C=0,P=u.children_d.length;C<P;C++)this._model.data[u.children_d[C]].state.opened=!1;this.trigger("close_all",{node:u})},is_disabled:function(u){return u=this.get_node(u),u&&u.state&&u.state.disabled},enable_node:function(u){var T,g;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,g=u.length;T<g;T++)this.enable_node(u[T]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.disabled=!1,this.get_node(u,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:u})},disable_node:function(u){var T,g;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,g=u.length;T<g;T++)this.disable_node(u[T]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.disabled=!0,this.get_node(u,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:u})},is_hidden:function(u){return u=this.get_node(u),u.state.hidden===!0},hide_node:function(u,T){var g,S;if(e.vakata.is_array(u)){for(u=u.slice(),g=0,S=u.length;g<S;g++)this.hide_node(u[g],!0);return T||this.redraw(),!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.hidden||(u.state.hidden=!0,this._node_changed(u.parent),T||this.redraw(),this.trigger("hide_node",{node:u}))},show_node:function(u,T){var g,S;if(e.vakata.is_array(u)){for(u=u.slice(),g=0,S=u.length;g<S;g++)this.show_node(u[g],!0);return T||this.redraw(),!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.hidden&&(u.state.hidden=!1,this._node_changed(u.parent),T||this.redraw(),this.trigger("show_node",{node:u}))},hide_all:function(u){var T,g=this._model.data,S=[];for(T in g)g.hasOwnProperty(T)&&T!==e.jstree.root&&!g[T].state.hidden&&(g[T].state.hidden=!0,S.push(T));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("hide_all",{nodes:S}),S},show_all:function(u){var T,g=this._model.data,S=[];for(T in g)g.hasOwnProperty(T)&&T!==e.jstree.root&&g[T].state.hidden&&(g[T].state.hidden=!1,S.push(T));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("show_all",{nodes:S}),S},activate_node:function(u,T){if(this.is_disabled(u))return!1;if((!T||typeof T!="object")&&(T={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==i?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),!this.settings.core.multiple||!T.metaKey&&!T.ctrlKey&&!T.shiftKey||T.shiftKey&&(!this._data.core.last_clicked||!this.get_parent(u)||this.get_parent(u)!==this._data.core.last_clicked.parent))!this.settings.core.multiple&&(T.metaKey||T.ctrlKey||T.shiftKey)&&this.is_selected(u)?this.deselect_node(u,!1,T):((this.settings.core.allow_reselect||!this.is_selected(u)||this._data.core.selected.length!==1)&&(this.deselect_all(!0),this.select_node(u,!1,!1,T)),this._data.core.last_clicked=this.get_node(u));else if(T.shiftKey){var g=this.get_node(u).id,S=this._data.core.last_clicked.id,C=this.get_node(this._data.core.last_clicked.parent).children,P=!1,I,U;for(I=0,U=C.length;I<U;I+=1)C[I]===g&&(P=!P),C[I]===S&&(P=!P),!this.is_disabled(C[I])&&(P||C[I]===g||C[I]===S)?this.is_hidden(C[I])||this.select_node(C[I],!0,!1,T):T.ctrlKey||this.deselect_node(C[I],!0,T);this.trigger("changed",{action:"select_node",node:this.get_node(u),selected:this._data.core.selected,event:T})}else this.is_selected(u)?this.deselect_node(u,!1,T):(T.ctrlKey&&(this._data.core.last_clicked=this.get_node(u)),this.select_node(u,!1,!1,T));this.trigger("activate_node",{node:this.get_node(u),event:T})},hover_node:function(u){if(u=this.get_node(u,!0),!u||!u.length||u.children(".jstree-hovered").length)return!1;var T=this.element.find(".jstree-hovered"),g=this.element;T&&T.length&&this.dehover_node(T),u.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(u)}),setTimeout(function(){g.attr("aria-activedescendant",u[0].id)},0)},dehover_node:function(u){if(u=this.get_node(u,!0),!u||!u.length||!u.children(".jstree-hovered").length)return!1;u.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(u)})},select_node:function(u,T,g,S){var C,P,I;if(e.vakata.is_array(u)){for(u=u.slice(),P=0,I=u.length;P<I;P++)this.select_node(u[P],T,g,S);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;C=this.get_node(u,!0),u.state.selected||(u.state.selected=!0,this._data.core.selected.push(u.id),g||(C=this._open_to(u)),C&&C.length&&C.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:u,selected:this._data.core.selected,event:S}),T||this.trigger("changed",{action:"select_node",node:u,selected:this._data.core.selected,event:S}))},deselect_node:function(u,T,g){var S,C,P;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,C=u.length;S<C;S++)this.deselect_node(u[S],T,g);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;P=this.get_node(u,!0),u.state.selected&&(u.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,u.id),P.length&&P.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:u,selected:this._data.core.selected,event:g}),T||this.trigger("changed",{action:"deselect_node",node:u,selected:this._data.core.selected,event:g}))},select_all:function(u){var T=this._data.core.selected.concat([]),g,S;for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),g=0,S=this._data.core.selected.length;g<S;g++)this._model.data[this._data.core.selected[g]]&&(this._model.data[this._data.core.selected[g]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),u||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:T})},deselect_all:function(u){var T=this._data.core.selected.concat([]),g,S;for(g=0,S=this._data.core.selected.length;g<S;g++)this._model.data[this._data.core.selected[g]]&&(this._model.data[this._data.core.selected[g]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:T}),u||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:T})},is_selected:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.state.selected},get_selected:function(u){return u?e.map(this._data.core.selected,(function(T){return this.get_node(T)}).bind(this)):this._data.core.selected.slice()},get_top_selected:function(u){var T=this.get_selected(!0),g={},S,C,P,I;for(S=0,C=T.length;S<C;S++)g[T[S].id]=T[S];for(S=0,C=T.length;S<C;S++)for(P=0,I=T[S].children_d.length;P<I;P++)g[T[S].children_d[P]]&&delete g[T[S].children_d[P]];T=[];for(S in g)g.hasOwnProperty(S)&&T.push(S);return u?e.map(T,(function(U){return this.get_node(U)}).bind(this)):T},get_bottom_selected:function(u){var T=this.get_selected(!0),g=[],S,C;for(S=0,C=T.length;S<C;S++)T[S].children.length||g.push(T[S].id);return u?e.map(g,(function(P){return this.get_node(P)}).bind(this)):g},get_state:function(){var u={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},T;for(T in this._model.data)this._model.data.hasOwnProperty(T)&&T!==e.jstree.root&&(this._model.data[T].state.loaded&&this.settings.core.loaded_state&&u.core.loaded.push(T),this._model.data[T].state.opened&&u.core.open.push(T),this._model.data[T].state.selected&&u.core.selected.push(T));return u},set_state:function(u,T){if(u){if(u.core&&u.core.selected&&u.core.initial_selection===i&&(u.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),u.core){var g,S;if(u.core.loaded)return!this.settings.core.loaded_state||!e.vakata.is_array(u.core.loaded)||!u.core.loaded.length?(delete u.core.loaded,this.set_state(u,T)):this._load_nodes(u.core.loaded,function(C){delete u.core.loaded,this.set_state(u,T)}),!1;if(u.core.open)return!e.vakata.is_array(u.core.open)||!u.core.open.length?(delete u.core.open,this.set_state(u,T)):this._load_nodes(u.core.open,function(C){this.open_node(C,!1,0),delete u.core.open,this.set_state(u,T)}),!1;if(u.core.scroll)return u.core.scroll&&u.core.scroll.left!==i&&this.element.scrollLeft(u.core.scroll.left),u.core.scroll&&u.core.scroll.top!==i&&this.element.scrollTop(u.core.scroll.top),delete u.core.scroll,this.set_state(u,T),!1;if(u.core.selected)return g=this,(u.core.initial_selection===i||u.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),e.each(u.core.selected,function(C,P){g.select_node(P,!1,!0)})),delete u.core.initial_selection,delete u.core.selected,this.set_state(u,T),!1;for(S in u)u.hasOwnProperty(S)&&S!=="core"&&e.inArray(S,this.settings.plugins)===-1&&delete u[S];if(e.isEmptyObject(u.core))return delete u.core,this.set_state(u,T),!1}return e.isEmptyObject(u)?(u=null,T&&T.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(u,T){this._data.core.state=T===!0?{}:this.get_state(),T&&e.vakata.is_function(T)&&(this._data.core.state=T.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var g=this.get_container_ul()[0].className;u||(this.element.html("<ul class='"+g+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(S,C){C&&(this.get_container_ul()[0].className=g,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(u){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var T=[],g=[],S=this._data.core.selected.concat([]);g.push(u.id),u.state.opened===!0&&T.push(u.id),this.get_node(u,!0).find(".jstree-open").each(function(){g.push(this.id),T.push(this.id)}),this._load_nodes(g,(function(C){this.open_node(T,!1,0),this.select_node(S),this.trigger("refresh_node",{node:u,nodes:C})}).bind(this),!1,!0)},set_id:function(u,T){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var g,S,C=this._model.data,P=u.id;for(T=T.toString(),C[u.parent].children[e.inArray(u.id,C[u.parent].children)]=T,g=0,S=u.parents.length;g<S;g++)C[u.parents[g]].children_d[e.inArray(u.id,C[u.parents[g]].children_d)]=T;for(g=0,S=u.children.length;g<S;g++)C[u.children[g]].parent=T;for(g=0,S=u.children_d.length;g<S;g++)C[u.children_d[g]].parents[e.inArray(u.id,C[u.children_d[g]].parents)]=T;return g=e.inArray(u.id,this._data.core.selected),g!==-1&&(this._data.core.selected[g]=T),g=this.get_node(u.id,!0),g&&(g.attr("id",T),this.element.attr("aria-activedescendant")===u.id&&this.element.attr("aria-activedescendant",T)),delete C[u.id],u.id=T,u.li_attr.id=T,C[T]=u,this.trigger("set_id",{node:u,new:u.id,old:P}),!0},get_text:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.text},set_text:function(u,T){var g,S;if(e.vakata.is_array(u)){for(u=u.slice(),g=0,S=u.length;g<S;g++)this.set_text(u[g],T);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(u.text=T,this.get_node(u,!0).length&&this.redraw_node(u.id),this.trigger("set_text",{obj:u,text:T}),!0)},get_json:function(u,T,g){if(u=this.get_node(u||e.jstree.root),!u)return!1;T&&T.flat&&!g&&(g=[]);var S={id:u.id,text:u.text,icon:this.get_icon(u),li_attr:e.extend(!0,{},u.li_attr),a_attr:e.extend(!0,{},u.a_attr),state:{},data:T&&T.no_data?!1:e.extend(!0,e.vakata.is_array(u.data)?[]:{},u.data)},C,P;if(T&&T.flat?S.parent=u.parent:S.children=[],!T||!T.no_state)for(C in u.state)u.state.hasOwnProperty(C)&&(S.state[C]=u.state[C]);else delete S.state;if(T&&T.no_li_attr&&delete S.li_attr,T&&T.no_a_attr&&delete S.a_attr,T&&T.no_id&&(delete S.id,S.li_attr&&S.li_attr.id&&delete S.li_attr.id,S.a_attr&&S.a_attr.id&&delete S.a_attr.id),T&&T.flat&&u.id!==e.jstree.root&&g.push(S),!T||!T.no_children)for(C=0,P=u.children.length;C<P;C++)T&&T.flat?this.get_json(u.children[C],T,g):S.children.push(this.get_json(u.children[C],T));return T&&T.flat?g:u.id===e.jstree.root?S.children:S},create_node:function(u,T,g,S,C){if(u===null&&(u=e.jstree.root),u=this.get_node(u),!u)return!1;if(g=g===i?"last":g,!g.toString().match(/^(before|after)$/)&&!C&&!this.is_loaded(u))return this.load_node(u,function(){this.create_node(u,T,g,S,!0)});T||(T={text:this.get_string("New node")}),typeof T=="string"?T={text:T}:T=e.extend(!0,{},T),T.text===i&&(T.text=this.get_string("New node"));var P,I,U,z;switch(u.id===e.jstree.root&&(g==="before"&&(g="first"),g==="after"&&(g="last")),g){case"before":P=this.get_node(u.parent),g=e.inArray(u.id,P.children),u=P;break;case"after":P=this.get_node(u.parent),g=e.inArray(u.id,P.children)+1,u=P;break;case"inside":case"first":g=0;break;case"last":g=u.children.length;break;default:g||(g=0);break}if(g>u.children.length&&(g=u.children.length),T.id===i&&(T.id=!0),!this.check("create_node",T,u,g))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(T.id===!0&&delete T.id,T=this._parse_model_from_json(T,u.id,u.parents.concat()),!T)return!1;for(P=this.get_node(T),I=[],I.push(T),I=I.concat(P.children_d),this.trigger("model",{nodes:I,parent:u.id}),u.children_d=u.children_d.concat(I),U=0,z=u.parents.length;U<z;U++)this._model.data[u.parents[U]].children_d=this._model.data[u.parents[U]].children_d.concat(I);for(T=P,P=[],U=0,z=u.children.length;U<z;U++)P[U>=g?U+1:U]=u.children[U];return P[g]=T.id,u.children=P,this.redraw_node(u,!0),this.trigger("create_node",{node:this.get_node(T),parent:u.id,position:g}),S&&S.call(this,this.get_node(T)),T.id},rename_node:function(u,T){var g,S,C;if(e.vakata.is_array(u)){for(u=u.slice(),g=0,S=u.length;g<S;g++)this.rename_node(u[g],T);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(C=u.text,this.check("rename_node",u,this.get_parent(u),T)?(this.set_text(u,T),this.trigger("rename_node",{node:u,text:T,old:C}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(u){var T,g,S,C,P,I,U,z,f,w,A,R;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,g=u.length;T<g;T++)this.delete_node(u[T]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;if(S=this.get_node(u.parent),C=e.inArray(u.id,S.children),w=!1,!this.check("delete_node",u,S,C))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(C!==-1&&(S.children=e.vakata.array_remove(S.children,C)),P=u.children_d.concat([]),P.push(u.id),I=0,U=u.parents.length;I<U;I++)this._model.data[u.parents[I]].children_d=e.vakata.array_filter(this._model.data[u.parents[I]].children_d,function(B){return e.inArray(B,P)===-1});for(z=0,f=P.length;z<f;z++)if(this._model.data[P[z]].state.selected){w=!0;break}for(w&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(B){return e.inArray(B,P)===-1})),this.trigger("delete_node",{node:u,parent:S.id}),w&&this.trigger("changed",{action:"delete_node",node:u,selected:this._data.core.selected,parent:S.id}),z=0,f=P.length;z<f;z++)delete this._model.data[P[z]];return e.inArray(this._data.core.focused,P)!==-1&&(this._data.core.focused=null,A=this.element[0].scrollTop,R=this.element[0].scrollLeft,S.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(S,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=A,this.element[0].scrollLeft=R),this.redraw_node(S,!0),!0},check:function(u,T,g,S,C){T=T&&T.id?T:this.get_node(T),g=g&&g.id?g:this.get_node(g);var P=u.match(/^(move_node|copy_node|create_node)$/i)?g:T,I=this.settings.core.check_callback;if(u==="move_node"||u==="copy_node"){if((!C||!C.is_multi)&&u==="move_node"&&e.inArray(T.id,g.children)===S)return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:g&&g.id?g.id:!1})},!1;if((!C||!C.is_multi)&&(T.id===g.id||u==="move_node"&&e.inArray(T.id,g.children)===S||e.inArray(g.id,T.children_d)!==-1))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:g&&g.id?g.id:!1})},!1}return P&&P.data&&(P=P.data),P&&P.functions&&(P.functions[u]===!1||P.functions[u]===!0)?(P.functions[u]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+u,data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:g&&g.id?g.id:!1})}),P.functions[u]):I===!1||e.vakata.is_function(I)&&I.call(this,u,T,g,S,C)===!1||I&&I[u]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+u,data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:g&&g.id?g.id:!1})},!1):!0},last_error:function(){return this._data.core.last_error},move_node:function(u,T,g,S,C,P,I){var U,z,f,w,A,R,B,W,$,G,ue,Q,K,we;if(T=this.get_node(T),g=g===i?0:g,!T)return!1;if(!g.toString().match(/^(before|after)$/)&&!C&&!this.is_loaded(T))return this.load_node(T,function(){this.move_node(u,T,g,S,!0,!1,I)});if(e.vakata.is_array(u))if(u.length===1)u=u[0];else{for(U=0,z=u.length;U<z;U++)($=this.move_node(u[U],T,g,S,C,!1,I))&&(T=$,g="after");return this.redraw(),!0}if(u=u&&u.id!==i?u:this.get_node(u),!u||u.id===e.jstree.root)return!1;if(f=(u.parent||e.jstree.root).toString(),A=!g.toString().match(/^(before|after)$/)||T.id===e.jstree.root?T:this.get_node(T.parent),R=I||(this._model.data[u.id]?this:e.jstree.reference(u.id)),B=!R||!R._id||this._id!==R._id,w=R&&R._id&&f&&R._model.data[f]&&R._model.data[f].children?e.inArray(u.id,R._model.data[f].children):-1,R&&R._id&&(u=R._model.data[u.id]),B)return($=this.copy_node(u,T,g,S,C,!1,I))?(R&&R.delete_node(u),$):!1;switch(T.id===e.jstree.root&&(g==="before"&&(g="first"),g==="after"&&(g="last")),g){case"before":g=e.inArray(T.id,A.children);break;case"after":g=e.inArray(T.id,A.children)+1;break;case"inside":case"first":g=0;break;case"last":g=A.children.length;break;default:g||(g=0);break}if(g>A.children.length&&(g=A.children.length),!this.check("move_node",u,A,g,{core:!0,origin:I,is_multi:R&&R._id&&R._id!==this._id,is_foreign:!R||!R._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(u.parent===A.id){for(W=A.children.concat(),$=e.inArray(u.id,W),$!==-1&&(W=e.vakata.array_remove(W,$),g>$&&g--),$=[],G=0,ue=W.length;G<ue;G++)$[G>=g?G+1:G]=W[G];$[g]=u.id,A.children=$,this._node_changed(A.id),this.redraw(A.id===e.jstree.root)}else{for($=u.children_d.concat(),$.push(u.id),G=0,ue=u.parents.length;G<ue;G++){for(W=[],we=R._model.data[u.parents[G]].children_d,Q=0,K=we.length;Q<K;Q++)e.inArray(we[Q],$)===-1&&W.push(we[Q]);R._model.data[u.parents[G]].children_d=W}for(R._model.data[f].children=e.vakata.array_remove_item(R._model.data[f].children,u.id),G=0,ue=A.parents.length;G<ue;G++)this._model.data[A.parents[G]].children_d=this._model.data[A.parents[G]].children_d.concat($);for(W=[],G=0,ue=A.children.length;G<ue;G++)W[G>=g?G+1:G]=A.children[G];for(W[g]=u.id,A.children=W,A.children_d.push(u.id),A.children_d=A.children_d.concat(u.children_d),u.parent=A.id,$=A.parents.concat(),$.unshift(A.id),we=u.parents.length,u.parents=$,$=$.concat(),G=0,ue=u.children_d.length;G<ue;G++)this._model.data[u.children_d[G]].parents=this._model.data[u.children_d[G]].parents.slice(0,we*-1),Array.prototype.push.apply(this._model.data[u.children_d[G]].parents,$);(f===e.jstree.root||A.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(f),this._node_changed(A.id)),P||this.redraw()}return S&&S.call(this,u,A,g),this.trigger("move_node",{node:u,parent:A.id,position:g,old_parent:f,old_position:w,is_multi:R&&R._id&&R._id!==this._id,is_foreign:!R||!R._id,old_instance:R,new_instance:this}),u.id},copy_node:function(u,T,g,S,C,P,I){var U,z,f,w,A,R,B,W,$,G;if(T=this.get_node(T),g=g===i?0:g,!T)return!1;if(!g.toString().match(/^(before|after)$/)&&!C&&!this.is_loaded(T))return this.load_node(T,function(){this.copy_node(u,T,g,S,!0,!1,I)});if(e.vakata.is_array(u))if(u.length===1)u=u[0];else{for(U=0,z=u.length;U<z;U++)(w=this.copy_node(u[U],T,g,S,C,!0,I))&&(T=w,g="after");return this.redraw(),!0}if(u=u&&u.id!==i?u:this.get_node(u),!u||u.id===e.jstree.root)return!1;switch(W=(u.parent||e.jstree.root).toString(),$=!g.toString().match(/^(before|after)$/)||T.id===e.jstree.root?T:this.get_node(T.parent),G=I||(this._model.data[u.id]?this:e.jstree.reference(u.id)),!G||!G._id||(this._id,G._id),G&&G._id&&(u=G._model.data[u.id]),T.id===e.jstree.root&&(g==="before"&&(g="first"),g==="after"&&(g="last")),g){case"before":g=e.inArray(T.id,$.children);break;case"after":g=e.inArray(T.id,$.children)+1;break;case"inside":case"first":g=0;break;case"last":g=$.children.length;break;default:g||(g=0);break}if(g>$.children.length&&(g=$.children.length),!this.check("copy_node",u,$,g,{core:!0,origin:I,is_multi:G&&G._id&&G._id!==this._id,is_foreign:!G||!G._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(B=G?G.get_json(u,{no_id:!0,no_data:!0,no_state:!0}):u,!B||(B.id===!0&&delete B.id,B=this._parse_model_from_json(B,$.id,$.parents.concat()),!B))return!1;for(w=this.get_node(B),u&&u.state&&u.state.loaded===!1&&(w.state.loaded=!1),f=[],f.push(B),f=f.concat(w.children_d),this.trigger("model",{nodes:f,parent:$.id}),A=0,R=$.parents.length;A<R;A++)this._model.data[$.parents[A]].children_d=this._model.data[$.parents[A]].children_d.concat(f);for(f=[],A=0,R=$.children.length;A<R;A++)f[A>=g?A+1:A]=$.children[A];return f[g]=w.id,$.children=f,$.children_d.push(w.id),$.children_d=$.children_d.concat(w.children_d),$.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed($.id),P||this.redraw($.id===e.jstree.root),S&&S.call(this,w,$,g),this.trigger("copy_node",{node:w,original:u,parent:$.id,position:g,old_parent:W,old_position:G&&G._id&&W&&G._model.data[W]&&G._model.data[W].children?e.inArray(u.id,G._model.data[W].children):-1,is_multi:G&&G._id&&G._id!==this._id,is_foreign:!G||!G._id,old_instance:G,new_instance:this}),w.id},cut:function(u){if(u||(u=this._data.core.selected.concat()),e.vakata.is_array(u)||(u=[u]),!u.length)return!1;var T=[],g,S,C;for(S=0,C=u.length;S<C;S++)g=this.get_node(u[S]),g&&(g.id||g.id===0)&&g.id!==e.jstree.root&&T.push(g);if(!T.length)return!1;n=T,a=this,l="move_node",this.trigger("cut",{node:u})},copy:function(u){if(u||(u=this._data.core.selected.concat()),e.vakata.is_array(u)||(u=[u]),!u.length)return!1;var T=[],g,S,C;for(S=0,C=u.length;S<C;S++)g=this.get_node(u[S]),g&&g.id!==i&&g.id!==e.jstree.root&&T.push(g);if(!T.length)return!1;n=T,a=this,l="copy_node",this.trigger("copy",{node:u})},get_buffer:function(){return{mode:l,node:n,inst:a}},can_paste:function(){return l!==!1&&n!==!1},paste:function(u,T){if(u=this.get_node(u),!u||!l||!l.match(/^(copy_node|move_node)$/)||!n)return!1;this[l](n,u,T,!1,!1,!1,a)&&this.trigger("paste",{parent:u.id,node:n,mode:l}),n=!1,l=!1,a=!1},clear_buffer:function(){n=!1,l=!1,a=!1,this.trigger("clear_buffer")},edit:function(u,T,g){var S,C,P,I,U,z,f,w,A,R=!1;if(u=this.get_node(u),!u)return!1;if(!this.check("edit",u,this.get_parent(u)))return this.settings.core.error.call(this,this._data.core.last_error),!1;A=u,T=typeof T=="string"?T:u.text,this.set_text(u,""),u=this._open_to(u),A.text=T,S=this._data.core.rtl,C=this.element.width(),this._data.core.focused=A.id,P=u.children(".jstree-anchor").trigger("focus"),I=e("<span></span>");/*!
oi = obj.children("i:visible"),
ai = a.children("i:visible"),
w1 = oi.width() * oi.length,
w2 = ai.width() * ai.length,
*/U=T,z=e("<div></div>",{css:{position:"absolute",top:"-200px",left:S?"0px":"-1000px",visibility:"hidden"}}).appendTo(m.body),f=e("<input />",{value:U,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},on:{blur:(function(B){B.stopImmediatePropagation(),B.preventDefault();var W=I.children(".jstree-rename-input"),$=W.val(),G=this.settings.core.force_text,ue;$===""&&($=U),z.remove(),I.replaceWith(P),I.remove(),U=G?U:e("<div></div>").append(e.parseHTML(U)).html(),u=this.get_node(u),this.set_text(u,U),ue=!!this.rename_node(u,G?e("<div></div>").text($).text():e("<div></div>").append(e.parseHTML($)).html()),ue||this.set_text(u,U),this._data.core.focused=A.id,setTimeout((function(){var Q=this.get_node(A.id,!0);Q.length&&(this._data.core.focused=A.id,Q.children(".jstree-anchor").trigger("focus"))}).bind(this),0),g&&g.call(this,A,ue,R,$),f=null}).bind(this),keydown:function(B){var W=B.which;W===27&&(R=!0,this.value=U),(W===27||W===13||W===37||W===38||W===39||W===40||W===32)&&B.stopImmediatePropagation(),(W===27||W===13)&&(B.preventDefault(),this.blur())},click:function(B){B.stopImmediatePropagation()},mousedown:function(B){B.stopImmediatePropagation()},keyup:function(B){f.width(Math.min(z.text("pW"+this.value).width(),C))},keypress:function(B){if(B.which===13)return!1}}}),w={fontFamily:P.css("fontFamily")||"",fontSize:P.css("fontSize")||"",fontWeight:P.css("fontWeight")||"",fontStyle:P.css("fontStyle")||"",fontStretch:P.css("fontStretch")||"",fontVariant:P.css("fontVariant")||"",letterSpacing:P.css("letterSpacing")||"",wordSpacing:P.css("wordSpacing")||""},I.attr("class",P.attr("class")).append(P.contents().clone()).append(f),P.replaceWith(I),z.css(w),f.css(w).width(Math.min(z.text("pW"+f[0].value).width(),C))[0].select(),e(m).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(B){f&&B.target!==f&&e(f).trigger("blur")})},set_theme:function(u,T){if(!u)return!1;if(T===!0){var g=this.settings.core.themes.dir;g||(g=e.jstree.path+"/themes"),T=g+"/"+u+"/style.css"}T&&e.inArray(T,h)===-1&&(e("head").append('<link rel="stylesheet" href="'+T+'" type="text/css" />'),h.push(T)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=u,this.element.addClass("jstree-"+u),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+u+"-responsive"),this.trigger("set_theme",{theme:u})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(u){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=u,u&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(u,T){var g,S,C,P;if(e.vakata.is_array(u)){for(u=u.slice(),g=0,S=u.length;g<S;g++)this.set_icon(u[g],T);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(P=u.icon,u.icon=T===!0||T===null||T===i||T===""?!0:T,C=this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon"),T===!1?(C.removeClass("jstree-themeicon-custom "+P).css("background","").removeAttr("rel"),this.hide_icon(u)):T===!0||T===null||T===i||T===""?(C.removeClass("jstree-themeicon-custom "+P).css("background","").removeAttr("rel"),P===!1&&this.show_icon(u)):T.indexOf("/")===-1&&T.indexOf(".")===-1?(C.removeClass(P).css("background",""),C.addClass(T+" jstree-themeicon-custom").attr("rel",T),P===!1&&this.show_icon(u)):(C.removeClass(P).css("background",""),C.addClass("jstree-themeicon-custom").css("background","url('"+T+"') center center no-repeat").attr("rel",T),P===!1&&this.show_icon(u)),!0)},get_icon:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.icon},hide_icon:function(u){var T,g;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,g=u.length;T<g;T++)this.hide_icon(u[T]);return!0}return u=this.get_node(u),!u||u===e.jstree.root?!1:(u.icon=!1,this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(u){var T,g,S;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,g=u.length;T<g;T++)this.show_icon(u[T]);return!0}return u=this.get_node(u),!u||u===e.jstree.root?!1:(S=this.get_node(u,!0),u.icon=S.length?S.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,u.icon||(u.icon=!0),S.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(u,T){u=e(u)[0];var g=T?{}:[];return u&&u.attributes&&e.each(u.attributes,function(S,C){e.inArray(C.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&C.value!==null&&e.vakata.trim(C.value)!==""&&(T?g[C.name]=C.value:g.push(C.name))}),g},e.vakata.array_unique=function(u){var T=[],g,S,C={};for(g=0,S=u.length;g<S;g++)C[u[g]]===i&&(T.push(u[g]),C[u[g]]=!0);return T},e.vakata.array_remove=function(u,T){return u.splice(T,1),u},e.vakata.array_remove_item=function(u,T){var g=e.inArray(T,u);return g!==-1?e.vakata.array_remove(u,g):u},e.vakata.array_filter=function(u,T,g,S,C){if(u.filter)return u.filter(T,g);S=[];for(C in u)~~C+""==C+""&&C>=0&&T.call(g,u[C],+C,u)&&S.push(u[C]);return S},e.vakata.trim=function(u){return String.prototype.trim?String.prototype.trim.call(u.toString()):u.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.vakata.is_function=function(u){return typeof u=="function"&&typeof u.nodeType!="number"},e.vakata.is_array=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"},Function.prototype.bind||(Function.prototype.bind=function(){var u=this,T=arguments[0],g=Array.prototype.slice.call(arguments,1);if(typeof u!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var S=g.concat(Array.prototype.slice.call(arguments));return u.apply(T,S)}}),e.jstree.plugins.changed=function(u,T){var g=[];this.trigger=function(S,C){var P,I;if(C||(C={}),S.replace(".jstree","")==="changed"){C.changed={selected:[],deselected:[]};var U={};for(P=0,I=g.length;P<I;P++)U[g[P]]=1;for(P=0,I=C.selected.length;P<I;P++)U[C.selected[P]]?U[C.selected[P]]=2:C.changed.selected.push(C.selected[P]);for(P=0,I=g.length;P<I;P++)U[g[P]]===1&&C.changed.deselected.push(g[P]);g=C.selected.slice()}T.trigger.call(this,S,C)},this.refresh=function(S,C){return g=[],T.refresh.apply(this,arguments)}};var k=m.createElement("I");k.className="jstree-icon jstree-checkbox",k.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(u,T){this.bind=function(){T.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}).bind(this)).on("loading.jstree",(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}).bind(this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}).bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",(function(g,S){var C=this._model.data;C[S.parent];var P=S.nodes,I,U;for(I=0,U=P.length;I<U;I++)C[P[I]].state.checked=C[P[I]].state.checked||C[P[I]].original&&C[P[I]].original.state&&C[P[I]].original.state.checked,C[P[I]].state.checked&&this._data.checkbox.selected.push(P[I])}).bind(this)),(this.settings.checkbox.cascade.indexOf("up")!==-1||this.settings.checkbox.cascade.indexOf("down")!==-1)&&this.element.on("model.jstree",(function(g,S){var C=this._model.data,P=C[S.parent],I=S.nodes,U=[],z,f,w,A,R,B,W=this.settings.checkbox.cascade,$=this.settings.checkbox.tie_selection;if(W.indexOf("down")!==-1){if(P.state[$?"selected":"checked"]){for(f=0,w=I.length;f<w;f++)C[I[f]].state[$?"selected":"checked"]=!0;this._data[$?"core":"checkbox"].selected=this._data[$?"core":"checkbox"].selected.concat(I)}else for(f=0,w=I.length;f<w;f++)if(C[I[f]].state[$?"selected":"checked"]){for(A=0,R=C[I[f]].children_d.length;A<R;A++)C[C[I[f]].children_d[A]].state[$?"selected":"checked"]=!0;this._data[$?"core":"checkbox"].selected=this._data[$?"core":"checkbox"].selected.concat(C[I[f]].children_d)}}if(W.indexOf("up")!==-1){for(f=0,w=P.children_d.length;f<w;f++)C[P.children_d[f]].children.length||U.push(C[P.children_d[f]].parent);for(U=e.vakata.array_unique(U),A=0,R=U.length;A<R;A++)for(P=C[U[A]];P&&P.id!==e.jstree.root;){for(z=0,f=0,w=P.children.length;f<w;f++)z+=C[P.children[f]].state[$?"selected":"checked"];if(z===w)P.state[$?"selected":"checked"]=!0,this._data[$?"core":"checkbox"].selected.push(P.id),B=this.get_node(P,!0),B&&B.length&&B.children(".jstree-anchor").attr("aria-selected",!0).addClass($?"jstree-clicked":"jstree-checked");else break;P=this.get_node(P.parent)}}this._data[$?"core":"checkbox"].selected=e.vakata.array_unique(this._data[$?"core":"checkbox"].selected)}).bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",(function(g,S){var C=S.node,P=this._model.data,I=this.get_node(C.parent),U,z,f,w,A=this.settings.checkbox.cascade,R=this.settings.checkbox.tie_selection,B={},W=this._data[R?"core":"checkbox"].selected;for(U=0,z=W.length;U<z;U++)B[W[U]]=!0;if(A.indexOf("down")!==-1){var $=this._cascade_new_checked_state(C.id,!0),G=C.children_d.concat(C.id);for(U=0,z=G.length;U<z;U++)$.indexOf(G[U])>-1?B[G[U]]=!0:delete B[G[U]]}if(A.indexOf("up")!==-1)for(;I&&I.id!==e.jstree.root;){for(f=0,U=0,z=I.children.length;U<z;U++)f+=P[I.children[U]].state[R?"selected":"checked"];if(f===z)I.state[R?"selected":"checked"]=!0,B[I.id]=!0,w=this.get_node(I,!0),w&&w.length&&w.children(".jstree-anchor").attr("aria-selected",!0).addClass(R?"jstree-clicked":"jstree-checked");else break;I=this.get_node(I.parent)}W=[];for(U in B)B.hasOwnProperty(U)&&W.push(U);this._data[R?"core":"checkbox"].selected=W}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",(function(g,S){var C=this.get_node(e.jstree.root),P=this._model.data,I,U,z;for(I=0,U=C.children_d.length;I<U;I++)z=P[C.children_d[I]],z&&z.original&&z.original.state&&z.original.state.undetermined&&(z.original.state.undetermined=!1)}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",(function(g,S){var C=S.node;this.get_node(C,!0);var P,I,U,z=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection,w=this._data[f?"core":"checkbox"].selected,A=C.children_d.concat(C.id);if(z.indexOf("down")!==-1){var R=this._cascade_new_checked_state(C.id,!1);w=e.vakata.array_filter(w,function(B){return A.indexOf(B)===-1||R.indexOf(B)>-1})}if(z.indexOf("up")!==-1&&w.indexOf(C.id)===-1){for(P=0,I=C.parents.length;P<I;P++)U=this._model.data[C.parents[P]],U.state[f?"selected":"checked"]=!1,U&&U.original&&U.original.state&&U.original.state.undetermined&&(U.original.state.undetermined=!1),U=this.get_node(C.parents[P],!0),U&&U.length&&U.children(".jstree-anchor").attr("aria-selected",!1).removeClass(f?"jstree-clicked":"jstree-checked");w=e.vakata.array_filter(w,function(B){return C.parents.indexOf(B)===-1})}this._data[f?"core":"checkbox"].selected=w}).bind(this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",(function(g,S){for(var C=this.get_node(S.parent),P=this._model.data,I,U,z,f,w=this.settings.checkbox.tie_selection;C&&C.id!==e.jstree.root&&!C.state[w?"selected":"checked"];){for(z=0,I=0,U=C.children.length;I<U;I++)z+=P[C.children[I]].state[w?"selected":"checked"];if(U>0&&z===U)C.state[w?"selected":"checked"]=!0,this._data[w?"core":"checkbox"].selected.push(C.id),f=this.get_node(C,!0),f&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!0).addClass(w?"jstree-clicked":"jstree-checked");else break;C=this.get_node(C.parent)}}).bind(this)).on("move_node.jstree",(function(g,S){var C=S.is_multi,P=S.old_parent,I=this.get_node(S.parent),U=this._model.data,z,f,w,A,R,B=this.settings.checkbox.tie_selection;if(!C)for(z=this.get_node(P);z&&z.id!==e.jstree.root&&!z.state[B?"selected":"checked"];){for(f=0,w=0,A=z.children.length;w<A;w++)f+=U[z.children[w]].state[B?"selected":"checked"];if(A>0&&f===A)z.state[B?"selected":"checked"]=!0,this._data[B?"core":"checkbox"].selected.push(z.id),R=this.get_node(z,!0),R&&R.length&&R.children(".jstree-anchor").attr("aria-selected",!0).addClass(B?"jstree-clicked":"jstree-checked");else break;z=this.get_node(z.parent)}for(z=I;z&&z.id!==e.jstree.root;){for(f=0,w=0,A=z.children.length;w<A;w++)f+=U[z.children[w]].state[B?"selected":"checked"];if(f===A)z.state[B?"selected":"checked"]||(z.state[B?"selected":"checked"]=!0,this._data[B?"core":"checkbox"].selected.push(z.id),R=this.get_node(z,!0),R&&R.length&&R.children(".jstree-anchor").attr("aria-selected",!0).addClass(B?"jstree-clicked":"jstree-checked"));else if(z.state[B?"selected":"checked"])z.state[B?"selected":"checked"]=!1,this._data[B?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[B?"core":"checkbox"].selected,z.id),R=this.get_node(z,!0),R&&R.length&&R.children(".jstree-anchor").attr("aria-selected",!1).removeClass(B?"jstree-clicked":"jstree-checked");else break;z=this.get_node(z.parent)}}).bind(this))},this.get_undetermined=function(g){if(this.settings.checkbox.cascade.indexOf("undetermined")===-1)return[];var S,C,P,I,U={},z=this._model.data,f=this.settings.checkbox.tie_selection,w=this._data[f?"core":"checkbox"].selected,A=[],R=this,B=[];for(S=0,C=w.length;S<C;S++)if(z[w[S]]&&z[w[S]].parents)for(P=0,I=z[w[S]].parents.length;P<I&&U[z[w[S]].parents[P]]===i;P++)z[w[S]].parents[P]!==e.jstree.root&&(U[z[w[S]].parents[P]]=!0,A.push(z[w[S]].parents[P]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var W=R.get_node(this),$;if(W){if(W.state.loaded){for(S=0,C=W.children_d.length;S<C;S++)if($=z[W.children_d[S]],!$.state.loaded&&$.original&&$.original.state&&$.original.state.undetermined&&$.original.state.undetermined===!0)for(U[$.id]===i&&$.id!==e.jstree.root&&(U[$.id]=!0,A.push($.id)),P=0,I=$.parents.length;P<I;P++)U[$.parents[P]]===i&&$.parents[P]!==e.jstree.root&&(U[$.parents[P]]=!0,A.push($.parents[P]))}else if(W.original&&W.original.state&&W.original.state.undetermined&&W.original.state.undetermined===!0)for(U[W.id]===i&&W.id!==e.jstree.root&&(U[W.id]=!0,A.push(W.id)),P=0,I=W.parents.length;P<I;P++)U[W.parents[P]]===i&&W.parents[P]!==e.jstree.root&&(U[W.parents[P]]=!0,A.push(W.parents[P]))}}),S=0,C=A.length;S<C;S++)z[A[S]].state[f?"selected":"checked"]||B.push(g?z[A[S]]:A[S]);return B},this._undetermined=function(){if(this.element!==null){var g=this.get_undetermined(!1),S,C,P;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),S=0,C=g.length;S<C;S++)P=this.get_node(g[S],!0),P&&P.length&&P.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(g,S,C,P){if(g=T.redraw_node.apply(this,arguments),g){var I,U,z=null,f=null;for(I=0,U=g.childNodes.length;I<U;I++)if(g.childNodes[I]&&g.childNodes[I].className&&g.childNodes[I].className.indexOf("jstree-anchor")!==-1){z=g.childNodes[I];break}z&&(!this.settings.checkbox.tie_selection&&this._model.data[g.id].state.checked&&(z.className+=" jstree-checked"),f=k.cloneNode(!1),this._model.data[g.id].state.checkbox_disabled&&(f.className+=" jstree-checkbox-disabled"),z.insertBefore(f,z.childNodes[0]))}return!C&&this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),g},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(g){g=this.get_node(g);var S=this.settings.checkbox.cascade,C,P,I=this.settings.checkbox.tie_selection,U=this._data[I?"core":"checkbox"].selected,z=this._model.data;if(!g||g.state[I?"selected":"checked"]===!0||S.indexOf("undetermined")===-1||S.indexOf("down")===-1&&S.indexOf("up")===-1)return!1;if(!g.state.loaded&&g.original.state.undetermined===!0)return!0;for(C=0,P=g.children_d.length;C<P;C++)if(e.inArray(g.children_d[C],U)!==-1||!z[g.children_d[C]].state.loaded&&z[g.children_d[C]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(g){var S,C,P;if(e.vakata.is_array(g)){for(g=g.slice(),S=0,C=g.length;S<C;S++)this.disable_checkbox(g[S]);return!0}if(g=this.get_node(g),!g||g.id===e.jstree.root)return!1;P=this.get_node(g,!0),g.state.checkbox_disabled||(g.state.checkbox_disabled=!0,P&&P.length&&P.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:g}))},this.enable_checkbox=function(g){var S,C,P;if(e.vakata.is_array(g)){for(g=g.slice(),S=0,C=g.length;S<C;S++)this.enable_checkbox(g[S]);return!0}if(g=this.get_node(g),!g||g.id===e.jstree.root)return!1;P=this.get_node(g,!0),g.state.checkbox_disabled&&(g.state.checkbox_disabled=!1,P&&P.length&&P.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:g}))},this.activate_node=function(g,S){if(e(S.target).hasClass("jstree-checkbox-disabled"))return!1;if(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(S.target).hasClass("jstree-checkbox"))&&(S.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(S.target).hasClass("jstree-checkbox"))return T.activate_node.call(this,g,S);if(this.is_disabled(g))return!1;this.is_checked(g)?this.uncheck_node(g,S):this.check_node(g,S),this.trigger("activate_node",{node:this.get_node(g)})},this.delete_node=function(g){if(this.settings.checkbox.tie_selection||e.vakata.is_array(g))return T.delete_node.call(this,g);var S,C,P,I=!1;if(g=this.get_node(g),!g||g.id===e.jstree.root)return!1;for(S=g.children_d.concat([]),S.push(g.id),C=0,P=S.length;C<P;C++)if(this._model.data[S[C]].state.checked){I=!0;break}return I&&(this._data.checkbox.selected=e.vakata.array_filter(this._data.checkbox.selected,function(U){return e.inArray(U,S)===-1})),T.delete_node.call(this,g)},this._cascade_new_checked_state=function(g,S){var C=this,P=this.settings.checkbox.tie_selection,I=this._model.data[g],U=[],z=[],f,w,A;if((this.settings.checkbox.cascade_to_disabled||!I.state.disabled)&&(this.settings.checkbox.cascade_to_hidden||!I.state.hidden)){if(I.children)for(f=0,w=I.children.length;f<w;f++){var R=I.children[f];A=C._cascade_new_checked_state(R,S),U=U.concat(A),A.indexOf(R)>-1&&z.push(R)}var B=C.get_node(I,!0),W=z.length>0&&z.length<I.children.length;I.original&&I.original.state&&I.original.state.undetermined&&(I.original.state.undetermined=W),W?(I.state[P?"selected":"checked"]=!1,B.children(".jstree-anchor").attr("aria-selected",!1).removeClass(P?"jstree-clicked":"jstree-checked")):S&&z.length===I.children.length?(I.state[P?"selected":"checked"]=S,U.push(I.id),B.children(".jstree-anchor").attr("aria-selected",!0).addClass(P?"jstree-clicked":"jstree-checked")):(I.state[P?"selected":"checked"]=!1,B.children(".jstree-anchor").attr("aria-selected",!1).removeClass(P?"jstree-clicked":"jstree-checked"))}else A=this.get_checked_descendants(g),I.state[P?"selected":"checked"]&&A.push(I.id),U=U.concat(A);return U},this.get_checked_descendants=function(g){var S=this,C=S.settings.checkbox.tie_selection,P=S._model.data[g];return e.vakata.array_filter(P.children_d,function(I){return S._model.data[I].state[C?"selected":"checked"]})},this.check_node=function(g,S){if(this.settings.checkbox.tie_selection)return this.select_node(g,!1,!0,S);var C,P,I;if(e.vakata.is_array(g)){for(g=g.slice(),P=0,I=g.length;P<I;P++)this.check_node(g[P],S);return!0}if(g=this.get_node(g),!g||g.id===e.jstree.root)return!1;C=this.get_node(g,!0),g.state.checked||(g.state.checked=!0,this._data.checkbox.selected.push(g.id),C&&C.length&&C.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:g,selected:this._data.checkbox.selected,event:S}))},this.uncheck_node=function(g,S){if(this.settings.checkbox.tie_selection)return this.deselect_node(g,!1,S);var C,P,I;if(e.vakata.is_array(g)){for(g=g.slice(),C=0,P=g.length;C<P;C++)this.uncheck_node(g[C],S);return!0}if(g=this.get_node(g),!g||g.id===e.jstree.root)return!1;I=this.get_node(g,!0),g.state.checked&&(g.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,g.id),I.length&&I.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:g,selected:this._data.checkbox.selected,event:S}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();this._data.checkbox.selected.concat([]);var g,S;for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),g=0,S=this._data.checkbox.selected.length;g<S;g++)this._model.data[this._data.checkbox.selected[g]]&&(this._model.data[this._data.checkbox.selected[g]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var g=this._data.checkbox.selected.concat([]),S,C;for(S=0,C=this._data.checkbox.selected.length;S<C;S++)this._model.data[this._data.checkbox.selected[S]]&&(this._model.data[this._data.checkbox.selected[S]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:g})},this.is_checked=function(g){return this.settings.checkbox.tie_selection?this.is_selected(g):(g=this.get_node(g),!g||g.id===e.jstree.root?!1:g.state.checked)},this.get_checked=function(g){return this.settings.checkbox.tie_selection?this.get_selected(g):g?e.map(this._data.checkbox.selected,(function(S){return this.get_node(S)}).bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(g){if(this.settings.checkbox.tie_selection)return this.get_top_selected(g);var S=this.get_checked(!0),C={},P,I,U,z;for(P=0,I=S.length;P<I;P++)C[S[P].id]=S[P];for(P=0,I=S.length;P<I;P++)for(U=0,z=S[P].children_d.length;U<z;U++)C[S[P].children_d[U]]&&delete C[S[P].children_d[U]];S=[];for(P in C)C.hasOwnProperty(P)&&S.push(P);return g?e.map(S,(function(f){return this.get_node(f)}).bind(this)):S},this.get_bottom_checked=function(g){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(g);var S=this.get_checked(!0),C=[],P,I;for(P=0,I=S.length;P<I;P++)S[P].children.length||C.push(S[P].id);return g?e.map(C,(function(U){return this.get_node(U)}).bind(this)):C},this.load_node=function(g,S){var C,P,I;if(!e.vakata.is_array(g)&&!this.settings.checkbox.tie_selection&&(I=this.get_node(g),I&&I.state.loaded))for(C=0,P=I.children_d.length;C<P;C++)this._model.data[I.children_d[C]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,I.children_d[C]));return T.load_node.apply(this,arguments)},this.get_state=function(){var g=T.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(g.checkbox=this._data.checkbox.selected.slice()),g},this.set_state=function(g,S){var C=T.set_state.apply(this,arguments);if(C&&g.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var P=this;e.each(g.checkbox,function(I,U){P.check_node(U)})}return delete g.checkbox,this.set_state(g,S),!1}return C},this.refresh=function(g,S){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),T.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(u,T){this.activate_node=function(g,S){if(this.settings.conditionalselect.call(this,this.get_node(g),S))return T.activate_node.call(this,g,S)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(u,T){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(g){var S=e.jstree.reference(g.reference),C=S.get_node(g.reference);S.create_node(C,{},"last",function(P){try{S.edit(P)}catch{setTimeout(function(){S.edit(P)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(g){var S=e.jstree.reference(g.reference),C=S.get_node(g.reference);S.edit(C)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(g){var S=e.jstree.reference(g.reference),C=S.get_node(g.reference);S.is_selected(C)?S.delete_node(S.get_selected()):S.delete_node(C)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(g){var S=e.jstree.reference(g.reference),C=S.get_node(g.reference);S.is_selected(C)?S.cut(S.get_top_selected()):S.cut(C)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(g){var S=e.jstree.reference(g.reference),C=S.get_node(g.reference);S.is_selected(C)?S.copy(S.get_top_selected()):S.copy(C)}},paste:{separator_before:!1,icon:!1,_disabled:function(g){return!e.jstree.reference(g.reference).can_paste()},separator_after:!1,label:"Paste",action:function(g){var S=e.jstree.reference(g.reference),C=S.get_node(g.reference);S.paste(C)}}}}}}},e.jstree.plugins.contextmenu=function(u,T){this.bind=function(){T.bind.call(this);var g=0,S=null,C,P;this.element.on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-contextmenu")}).bind(this)).on("contextmenu.jstree",".jstree-anchor",(function(I,U){I.target.tagName.toLowerCase()!=="input"&&(I.preventDefault(),g=I.ctrlKey?+new Date:0,(U||S)&&(g=+new Date+1e4),S&&clearTimeout(S),this.is_loading(I.currentTarget)||this.show_contextmenu(I.currentTarget,I.pageX,I.pageY,I))}).bind(this)).on("click.jstree",".jstree-anchor",(function(I){this._data.contextmenu.visible&&(!g||+new Date-g>250)&&e.vakata.context.hide(),g=0}).bind(this)).on("touchstart.jstree",".jstree-anchor",function(I){!I.originalEvent||!I.originalEvent.changedTouches||!I.originalEvent.changedTouches[0]||(C=I.originalEvent.changedTouches[0].clientX,P=I.originalEvent.changedTouches[0].clientY,S=setTimeout(function(){e(I.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(I){S&&I.originalEvent&&I.originalEvent.changedTouches&&I.originalEvent.changedTouches[0]&&(Math.abs(C-I.originalEvent.changedTouches[0].clientX)>10||Math.abs(P-I.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(S),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(I){S&&clearTimeout(S)});/*!
if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
	var el = null, tm = null;
	this.element
		.on("touchstart", ".jstree-anchor", function (e) {
			el = e.currentTarget;
			tm = +new Date();
			$(document).one("touchend", function (e) {
				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
				e.currentTarget = e.target;
				tm = ((+(new Date())) - tm);
				if(e.target === el && tm > 600 && tm < 1000) {
					e.preventDefault();
					$(el).trigger('contextmenu', e);
				}
				el = null;
				tm = null;
			});
		});
}
*/e(m).on("context_hide.vakata.jstree",(function(I,U){this._data.contextmenu.visible=!1,e(U.reference).removeClass("jstree-context")}).bind(this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),e(m).off("context_hide.vakata.jstree"),T.teardown.call(this)},this.show_contextmenu=function(g,S,C,P){if(g=this.get_node(g),!g||g.id===e.jstree.root)return!1;var I=this.settings.contextmenu,U=this.get_node(g,!0),z=U.children(".jstree-anchor"),f=!1,w=!1;(I.show_at_node||S===i||C===i)&&(f=z.offset(),S=f.left,C=f.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(g)&&this.activate_node(g,P),w=I.items,e.vakata.is_function(w)&&(w=w.call(this,g,(function(A){this._show_contextmenu(g,S,C,A)}).bind(this))),e.isPlainObject(w)&&this._show_contextmenu(g,S,C,w)},this._show_contextmenu=function(g,S,C,P){var I=this.get_node(g,!0),U=I.children(".jstree-anchor");e(m).one("context_show.vakata.jstree",(function(z,f){var w="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(f.element).addClass(w),U.addClass("jstree-context")}).bind(this)),this._data.contextmenu.visible=!0,e.vakata.context.show(U,{x:S,y:C},P),this.trigger("show_contextmenu",{node:g,x:S,y:C})}},function(u){var T=!1,g={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};u.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(S){u(m).triggerHandler("context_"+S+".vakata",{reference:g.reference,element:g.element,position:{x:g.position_x,y:g.position_y}})},_execute:function(S){return S=g.items[S],S&&(!S._disabled||u.vakata.is_function(S._disabled)&&!S._disabled({item:S,reference:g.reference,element:g.element}))&&S.action?S.action.call(null,{item:S,reference:g.reference,element:g.element,position:{x:g.position_x,y:g.position_y}}):!1},_parse:function(S,C){if(!S)return!1;C||(g.html="",g.items=[]);var P="",I=!1,U;return C&&(P+="<ul>"),u.each(S,function(z,f){if(!f)return!0;g.items.push(f),!I&&f.separator_before&&(P+="<li class='vakata-context-separator'><a href='#' "+(u.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),I=!1,P+="<li class='"+(f._class||"")+(f._disabled===!0||u.vakata.is_function(f._disabled)&&f._disabled({item:f,reference:g.reference,element:g.element})?" vakata-contextmenu-disabled ":"")+"' "+(f.shortcut?" data-shortcut='"+f.shortcut+"' ":"")+">",P+="<a href='#' rel='"+(g.items.length-1)+"' "+(f.title?"title='"+f.title+"'":"")+">",u.vakata.context.settings.icons&&(P+="<i ",f.icon&&(f.icon.indexOf("/")!==-1||f.icon.indexOf(".")!==-1?P+=` style='background:url("`+f.icon+`") center center no-repeat' `:P+=" class='"+f.icon+"' "),P+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),P+=(u.vakata.is_function(f.label)?f.label({item:z,reference:g.reference,element:g.element}):f.label)+(f.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+f.shortcut+'">'+(f.shortcut_label||"")+"</span>":"")+"</a>",f.submenu&&(U=u.vakata.context._parse(f.submenu,!0),U&&(P+=U)),P+="</li>",f.separator_after&&(P+="<li class='vakata-context-separator'><a href='#' "+(u.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",I=!0)}),P=P.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),C&&(P+="</ul>"),C||(g.html=P,u.vakata.context._trigger("parse")),P.length>10?P:!1},_show_submenu:function(S){if(S=u(S),!(!S.length||!S.children("ul").length)){var C=S.children("ul"),P=S.offset().left,I=P+S.outerWidth(),U=S.offset().top,z=C.width(),f=C.height(),w=u(window).width()+u(window).scrollLeft(),A=u(window).height()+u(window).scrollTop();T?S[I-(z+10+S.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):S[I+z>w&&P>w-I?"addClass":"removeClass"]("vakata-context-right"),U+f+10>A&&C.css("bottom","-1px"),S.hasClass("vakata-context-right")?P<z&&C.css("margin-right",P-z):w-I<z&&C.css("margin-left",w-I-z),C.show()}},show:function(S,C,P){var I,U,z,f,w,A,R,B,W=!0;switch(g.element&&g.element.length&&g.element.width(""),W){case(!C&&!S):return!1;case(!!C&&!!S):g.reference=S,g.position_x=C.x,g.position_y=C.y;break;case(!C&&!!S):g.reference=S,I=S.offset(),g.position_x=I.left+S.outerHeight(),g.position_y=I.top;break;case(!!C&&!S):g.position_x=C.x,g.position_y=C.y;break}S&&!P&&u(S).data("vakata_contextmenu")&&(P=u(S).data("vakata_contextmenu")),u.vakata.context._parse(P)&&g.element.html(g.html),g.items.length&&(g.element.appendTo(m.body),U=g.element,z=g.position_x,f=g.position_y,w=U.width(),A=U.height(),R=u(window).width()+u(window).scrollLeft(),B=u(window).height()+u(window).scrollTop(),T&&(z-=U.outerWidth()-u(S).outerWidth(),z<u(window).scrollLeft()+20&&(z=u(window).scrollLeft()+20)),z+w+20>R&&(z=R-(w+20)),f+A+20>B&&(f=B-(A+20)),g.element.css({left:z,top:f}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),g.is_visible=!0,u.vakata.context._trigger("show"))},hide:function(){g.is_visible&&(g.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),g.is_visible=!1,u.vakata.context._trigger("hide"))}},u(function(){T=u(m.body).css("direction")==="rtl";var S=!1;g.element=u("<ul class='vakata-context'></ul>"),g.element.on("mouseenter","li",function(C){C.stopImmediatePropagation(),!u.contains(this,C.relatedTarget)&&(S&&clearTimeout(S),g.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),u(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),u.vakata.context._show_submenu(this))}).on("mouseleave","li",function(C){u.contains(this,C.relatedTarget)||u(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(C){u(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),u.vakata.context.settings.hide_onmouseleave&&(S=setTimeout(function(P){return function(){u.vakata.context.hide()}}(),u.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(C){C.preventDefault(),!u(this).trigger("blur").parent().hasClass("vakata-context-disabled")&&u.vakata.context._execute(u(this).attr("rel"))!==!1&&u.vakata.context.hide()}).on("keydown","a",function(C){var P=null;switch(C.which){case 13:case 32:C.type="click",C.preventDefault(),u(C.currentTarget).trigger(C);break;case 37:g.is_visible&&(g.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 38:g.is_visible&&(P=g.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),P.length||(P=g.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),P.addClass("vakata-context-hover").children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 39:g.is_visible&&(g.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 40:g.is_visible&&(P=g.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),P.length||(P=g.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),P.addClass("vakata-context-hover").children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 27:u.vakata.context.hide(),C.preventDefault();break}}).on("keydown",function(C){C.preventDefault();var P=g.element.find(".vakata-contextmenu-shortcut-"+C.which).parent();P.parent().not(".vakata-context-disabled")&&P.trigger("click")}),u(m).on("mousedown.vakata.jstree",function(C){g.is_visible&&g.element[0]!==C.target&&!u.contains(g.element[0],C.target)&&u.vakata.context.hide()}).on("context_show.vakata.jstree",function(C,P){g.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),T&&g.element.addClass("vakata-context-rtl").css("direction","rtl"),g.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1};var x,E;e.jstree.plugins.dnd=function(u,T){this.init=function(g,S){T.init.call(this,g,S),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in m.createElement("span")},this.bind=function(){T.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",(function(g){if(this.settings.dnd.large_drag_target&&e(g.target).closest(".jstree-node")[0]!==g.currentTarget||g.type==="touchstart"&&(!this.settings.dnd.touch||this.settings.dnd.touch==="selected"&&!e(g.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var S=this.get_node(g.target),C=this.is_selected(S)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,P=C>1?C+" "+this.get_string("nodes"):this.get_text(g.currentTarget);if(this.settings.core.force_text&&(P=e.vakata.html.escape(P)),S&&(S.id||S.id===0)&&S.id!==e.jstree.root&&(g.which===1||g.type==="touchstart"||g.type==="dragstart")&&(this.settings.dnd.is_draggable===!0||e.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,C>1?this.get_top_selected(!0):[S],g)))if(x={jstree:!0,origin:this,obj:this.get_node(S,!0),nodes:C>1?this.get_top_selected():[S.id]},E=g.currentTarget,this.settings.dnd.use_html5)e.vakata.dnd._trigger("start",g,{helper:e(),element:E,data:x});else return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(g,x,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+P+'<ins class="jstree-copy">+</ins></div>')}).bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(g){return g.preventDefault(),e.vakata.dnd._trigger("move",g,{helper:e(),element:E,data:x}),!1}).on("drop.jstree",(function(g){return g.preventDefault(),e.vakata.dnd._trigger("stop",g,{helper:e(),element:E,data:x}),!1}).bind(this))},this.redraw_node=function(g,S,C,P){if(g=T.redraw_node.apply(this,arguments),g&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)g.setAttribute("draggable",!0);else{var I,U,z=null;for(I=0,U=g.childNodes.length;I<U;I++)if(g.childNodes[I]&&g.childNodes[I].className&&g.childNodes[I].className.indexOf("jstree-anchor")!==-1){z=g.childNodes[I];break}z&&z.setAttribute("draggable",!0)}return g}},e(function(){var u=!1,T=!1,g=!1,S=!1,C=e('<div id="jstree-marker">&#160;</div>').hide();e(m).on("dragover.vakata.jstree",function(P){E&&e.vakata.dnd._trigger("move",P,{helper:e(),element:E,data:x})}).on("drop.vakata.jstree",function(P){E&&(e.vakata.dnd._trigger("stop",P,{helper:e(),element:E,data:x}),E=null,x=null)}).on("dnd_start.vakata.jstree",function(P,I){u=!1,g=!1,!(!I||!I.data||!I.data.jstree)&&C.appendTo(m.body)}).on("dnd_move.vakata.jstree",function(P,I){var U=I.event.target!==g.target;if(S&&(!I.event||I.event.type!=="dragover"||U)&&clearTimeout(S),!(!I||!I.data||!I.data.jstree)&&!(I.event.target.id&&I.event.target.id==="jstree-marker")){g=I.event;var z=e.jstree.reference(I.event.target),f=!1,w=!1,A=!1,R,B,W,$,G,ue,Q,K,we,ze,Ke,Pe,We,it,vt,Lt,Re;if(z&&z._data&&z._data.dnd){if(C.attr("class","jstree-"+z.get_theme()+(z.settings.core.themes.responsive?" jstree-dnd-responsive":"")),vt=I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey)),I.helper.children().attr("class","jstree-"+z.get_theme()+" jstree-"+z.get_theme()+"-"+z.get_theme_variant()+" "+(z.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[vt?"show":"hide"](),(I.event.target===z.element[0]||I.event.target===z.get_container_ul()[0])&&(z.get_container_ul().children().length===0||z.settings.dnd.blank_space_drop)){for(Q=!0,K=0,we=I.data.nodes.length;K<we&&(Q=Q&&z.check(I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey))?"copy_node":"move_node",I.data.origin&&I.data.origin!==z?I.data.origin.get_node(I.data.nodes[K]):I.data.nodes[K],e.jstree.root,"last",{dnd:!0,ref:z.get_node(e.jstree.root),pos:"i",origin:I.data.origin,is_multi:I.data.origin&&I.data.origin!==z,is_foreign:!I.data.origin}),!!Q);K++);if(Q){u={ins:z,par:e.jstree.root,pos:"last"},C.hide(),I.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),I.event.originalEvent&&I.event.originalEvent.dataTransfer&&(I.event.originalEvent.dataTransfer.dropEffect=vt?"copy":"move");return}}else if(f=z.settings.dnd.large_drop_target?e(I.event.target).closest(".jstree-node").children(".jstree-anchor"):e(I.event.target).closest(".jstree-anchor"),f&&f.length&&f.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(w=f.offset(),A=(I.event.pageY!==i?I.event.pageY:I.event.originalEvent.pageY)-w.top,W=f.outerHeight(),A<W/3?ue=["b","i","a"]:A>W-W/3?ue=["a","i","b"]:ue=A>W/2?["i","a","b"]:["i","b","a"],e.each(ue,function(Yt,$t){switch($t){case"b":R=w.left-6,B=w.top,$=z.get_parent(f),G=f.parent().index(),Re="jstree-below";break;case"i":We=z.settings.dnd.inside_pos,it=z.get_node(f.parent()),R=w.left-2,B=w.top+W/2+1,$=it.id,G=We==="first"?0:We==="last"?it.children.length:Math.min(We,it.children.length),Re="jstree-inside";break;case"a":R=w.left-6,B=w.top+W,$=z.get_parent(f),G=f.parent().index()+1,Re="jstree-above";break}for(Q=!0,K=0,we=I.data.nodes.length;K<we;K++)if(ze=I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey))?"copy_node":"move_node",Ke=G,ze==="move_node"&&$t==="a"&&I.data.origin&&I.data.origin===z&&$===z.get_parent(I.data.nodes[K])&&(Pe=z.get_node($),Ke>e.inArray(I.data.nodes[K],Pe.children)&&(Ke-=1)),Q=Q&&(z&&z.settings&&z.settings.dnd&&z.settings.dnd.check_while_dragging===!1||z.check(ze,I.data.origin&&I.data.origin!==z?I.data.origin.get_node(I.data.nodes[K]):I.data.nodes[K],$,Ke,{dnd:!0,ref:z.get_node(f.parent()),pos:$t,origin:I.data.origin,is_multi:I.data.origin&&I.data.origin!==z,is_foreign:!I.data.origin})),!Q){z&&z.last_error&&(T=z.last_error());break}if($t==="i"&&f.parent().is(".jstree-closed")&&z.settings.dnd.open_timeout&&(!I.event||I.event.type!=="dragover"||U)&&(S&&clearTimeout(S),S=setTimeout(function(Ri,nt){return function(){Ri.open_node(nt)}}(z,f),z.settings.dnd.open_timeout)),Q)return Lt=z.get_node($,!0),Lt.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),Lt.addClass("jstree-dnd-parent")),u={ins:z,par:$,pos:$t==="i"&&We==="last"&&G===0&&!z.is_loaded(it)?"last":G},C.css({left:R+"px",top:B+"px"}).show(),C.removeClass("jstree-above jstree-inside jstree-below").addClass(Re),I.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),I.event.originalEvent&&I.event.originalEvent.dataTransfer&&(I.event.originalEvent.dataTransfer.dropEffect=vt?"copy":"move"),T={},ue=!0,!1}),ue===!0))return}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),u=!1,I.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),I.event.originalEvent&&I.event.originalEvent.dataTransfer,C.hide()}}).on("dnd_scroll.vakata.jstree",function(P,I){!I||!I.data||!I.data.jstree||(C.hide(),u=!1,g=!1,I.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(P,I){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),S&&clearTimeout(S),!(!I||!I.data||!I.data.jstree)){C.hide().detach();var U,z,f=[];if(u){for(U=0,z=I.data.nodes.length;U<z;U++)f[U]=I.data.origin?I.data.origin.get_node(I.data.nodes[U]):I.data.nodes[U];u.ins[I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey))?"copy_node":"move_node"](f,u.par,u.pos,!1,!1,!1,I.data.origin)}else U=e(I.event.target).closest(".jstree"),U.length&&T&&T.error&&T.error==="check"&&(U=U.jstree(!0),U&&U.settings.core.error.call(this,T));g=!1,u=!1}}).on("keyup.jstree keydown.jstree",function(P,I){I=e.vakata.dnd._get(),I&&I.data&&I.data.jstree&&(P.type==="keyup"&&P.which===27?(S&&clearTimeout(S),u=!1,T=!1,g=!1,S=!1,C.hide().detach(),e.vakata.dnd._clean()):(I.helper.find(".jstree-copy").first()[I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(P.metaKey||P.ctrlKey))?"show":"hide"](),g&&(g.metaKey=P.metaKey,g.ctrlKey=P.ctrlKey,e.vakata.dnd._trigger("move",g))))})}),function(u){u.vakata.html={div:u("<div></div>"),escape:function(g){return u.vakata.html.div.text(g).html()},strip:function(g){return u.vakata.html.div.empty().append(u.parseHTML(g)).text()}};var T={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};u.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(g,S,C){C===i&&(C=u.vakata.dnd._get()),C.event=S,u(m).triggerHandler("dnd_"+g+".vakata",C)},_get:function(){return{data:T.data,element:T.element,helper:T.helper}},_clean:function(){T.helper&&T.helper.remove(),T.scroll_i&&(clearInterval(T.scroll_i),T.scroll_i=!1),T={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},E=null,u(m).off("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(m).off("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop)},_scroll:function(g){if(!T.scroll_e||!T.scroll_l&&!T.scroll_t)return T.scroll_i&&(clearInterval(T.scroll_i),T.scroll_i=!1),!1;if(!T.scroll_i)return T.scroll_i=setInterval(u.vakata.dnd._scroll,100),!1;if(g===!0)return!1;var S=T.scroll_e.scrollTop(),C=T.scroll_e.scrollLeft();T.scroll_e.scrollTop(S+T.scroll_t*u.vakata.dnd.settings.scroll_speed),T.scroll_e.scrollLeft(C+T.scroll_l*u.vakata.dnd.settings.scroll_speed),(S!==T.scroll_e.scrollTop()||C!==T.scroll_e.scrollLeft())&&u.vakata.dnd._trigger("scroll",T.scroll_e)},start:function(g,S,C){g.type==="touchstart"&&g.originalEvent&&g.originalEvent.changedTouches&&g.originalEvent.changedTouches[0]&&(g.pageX=g.originalEvent.changedTouches[0].pageX,g.pageY=g.originalEvent.changedTouches[0].pageY,g.target=m.elementFromPoint(g.originalEvent.changedTouches[0].pageX-window.pageXOffset,g.originalEvent.changedTouches[0].pageY-window.pageYOffset)),T.is_drag&&u.vakata.dnd.stop({});try{g.currentTarget.unselectable="on",g.currentTarget.onselectstart=function(){return!1},g.currentTarget.style&&(g.currentTarget.style.touchAction="none",g.currentTarget.style.msTouchAction="none",g.currentTarget.style.MozUserSelect="none")}catch{}return T.init_x=g.pageX,T.init_y=g.pageY,T.data=S,T.is_down=!0,T.element=g.currentTarget,T.target=g.target,T.is_touch=g.type==="touchstart",C!==!1&&(T.helper=u("<div id='vakata-dnd'></div>").html(C).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),u(m).on("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(m).on("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop),!1},drag:function(g){if(g.type==="touchmove"&&g.originalEvent&&g.originalEvent.changedTouches&&g.originalEvent.changedTouches[0]&&(g.pageX=g.originalEvent.changedTouches[0].pageX,g.pageY=g.originalEvent.changedTouches[0].pageY,g.target=m.elementFromPoint(g.originalEvent.changedTouches[0].pageX-window.pageXOffset,g.originalEvent.changedTouches[0].pageY-window.pageYOffset)),!!T.is_down){if(!T.is_drag)if(Math.abs(g.pageX-T.init_x)>(T.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)||Math.abs(g.pageY-T.init_y)>(T.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold))T.helper&&(T.helper.appendTo(m.body),T.helper_w=T.helper.outerWidth()),T.is_drag=!0,u(T.target).one("click.vakata",!1),u.vakata.dnd._trigger("start",g);else return;var S=!1,C=!1,P=!1,I=!1,U=!1,z=!1,f=!1,w=!1,A=!1,R=!1;return T.scroll_t=0,T.scroll_l=0,T.scroll_e=!1,u(u(g.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(u(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var B=u(this),W=B.offset();if(this.scrollHeight>this.offsetHeight&&(W.top+B.height()-g.pageY<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=1),g.pageY-W.top<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(W.left+B.width()-g.pageX<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=1),g.pageX-W.left<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=-1)),T.scroll_t||T.scroll_l)return T.scroll_e=u(this),!1}),T.scroll_e||(S=u(m),C=u(window),P=S.height(),I=C.height(),U=S.width(),z=C.width(),f=S.scrollTop(),w=S.scrollLeft(),P>I&&g.pageY-f<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=-1),P>I&&I-(g.pageY-f)<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=1),U>z&&g.pageX-w<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=-1),U>z&&z-(g.pageX-w)<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=1),(T.scroll_t||T.scroll_l)&&(T.scroll_e=S)),T.scroll_e&&u.vakata.dnd._scroll(!0),T.helper&&(A=parseInt(g.pageY+u.vakata.dnd.settings.helper_top,10),R=parseInt(g.pageX+u.vakata.dnd.settings.helper_left,10),P&&A+25>P&&(A=P-50),U&&R+T.helper_w>U&&(R=U-(T.helper_w+2)),T.helper.css({left:R+"px",top:A+"px"})),u.vakata.dnd._trigger("move",g),!1}},stop:function(g){if(g.type==="touchend"&&g.originalEvent&&g.originalEvent.changedTouches&&g.originalEvent.changedTouches[0]&&(g.pageX=g.originalEvent.changedTouches[0].pageX,g.pageY=g.originalEvent.changedTouches[0].pageY,g.target=m.elementFromPoint(g.originalEvent.changedTouches[0].pageX-window.pageXOffset,g.originalEvent.changedTouches[0].pageY-window.pageYOffset)),T.is_drag)g.target!==T.target&&u(T.target).off("click.vakata"),u.vakata.dnd._trigger("stop",g);else if(g.type==="touchend"&&g.target===T.target){var S=setTimeout(function(){u(g.target).trigger("click")},100);u(g.target).one("click",function(){S&&clearTimeout(S)})}return u.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(u,T){this.init=function(g,S){this._data.massload={},T.init.call(this,g,S)},this._load_nodes=function(g,S,C,P){var I=this.settings.massload,U=[],z=this._model.data,f,w,A;if(!C){for(f=0,w=g.length;f<w;f++)(!z[g[f]]||!z[g[f]].state.loaded&&!z[g[f]].state.failed||P)&&(U.push(g[f]),A=this.get_node(g[f],!0),A&&A.length&&A.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},U.length){if(e.vakata.is_function(I))return I.call(this,U,(function(R){var B,W;if(R)for(B in R)R.hasOwnProperty(B)&&(this._data.massload[B]=R[B]);for(B=0,W=g.length;B<W;B++)A=this.get_node(g[B],!0),A&&A.length&&A.removeClass("jstree-loading").attr("aria-busy",!1);T._load_nodes.call(this,g,S,C,P)}).bind(this));if(typeof I=="object"&&I&&I.url)return I=e.extend(!0,{},I),e.vakata.is_function(I.url)&&(I.url=I.url.call(this,U)),e.vakata.is_function(I.data)&&(I.data=I.data.call(this,U)),e.ajax(I).done((function(R,B,W){var $,G;if(R)for($ in R)R.hasOwnProperty($)&&(this._data.massload[$]=R[$]);for($=0,G=g.length;$<G;$++)A=this.get_node(g[$],!0),A&&A.length&&A.removeClass("jstree-loading").attr("aria-busy",!1);T._load_nodes.call(this,g,S,C,P)}).bind(this)).fail((function(R){T._load_nodes.call(this,g,S,C,P)}).bind(this))}}return T._load_nodes.call(this,g,S,C,P)},this._load_node=function(g,S){var C=this._data.massload[g.id],P=null,I;return C?(P=this[typeof C=="string"?"_append_html_data":"_append_json_data"](g,typeof C=="string"?e(e.parseHTML(C)).filter(function(){return this.nodeType!==3}):C,function(U){S.call(this,U)}),I=this.get_node(g.id,!0),I&&I.length&&I.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[g.id],P):T._load_node.call(this,g,S)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(u,T){this.bind=function(){T.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",(function(g,S){if(this._data.search.som&&S.res.length){var C=this._model.data,P,I,U=[],z,f;for(P=0,I=S.res.length;P<I;P++)if(C[S.res[P]]&&!C[S.res[P]].state.hidden&&(U.push(S.res[P]),U=U.concat(C[S.res[P]].parents),this._data.search.smc))for(z=0,f=C[S.res[P]].children_d.length;z<f;z++)C[C[S.res[P]].children_d[z]]&&!C[C[S.res[P]].children_d[z]].state.hidden&&U.push(C[S.res[P]].children_d[z]);U=e.vakata.array_remove_item(e.vakata.array_unique(U),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(U,!0),this.redraw(!0)}}).bind(this)).on("clear_search.jstree",(function(g,S){this._data.search.som&&S.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}).bind(this))},this.search=function(g,S,C,P,I,U){if(g===!1||e.vakata.trim(g.toString())==="")return this.clear_search();P=this.get_node(P),P=P&&(P.id||P.id===0)?P.id:null,g=g.toString();var z=this.settings.search,f=z.ajax?z.ajax:!1,w=this._model.data,A=null,R=[],B=[],W,$;if(this._data.search.res.length&&!I&&this.clear_search(),C===i&&(C=z.show_only_matches),U===i&&(U=z.show_only_matches_children),!S&&f!==!1)return e.vakata.is_function(f)?f.call(this,g,(function(G){G&&G.d&&(G=G.d),this._load_nodes(e.vakata.is_array(G)?e.vakata.array_unique(G):[],function(){this.search(g,!0,C,P,I,U)})}).bind(this),P):(f=e.extend({},f),f.data||(f.data={}),f.data.str=g,P&&(f.data.inside=P),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(f).fail((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(f)},this.settings.core.error.call(this,this._data.core.last_error)}).bind(this)).done((function(G){G&&G.d&&(G=G.d),this._load_nodes(e.vakata.is_array(G)?e.vakata.array_unique(G):[],function(){this.search(g,!0,C,P,I,U)})}).bind(this)),this._data.search.lastRequest);if(I||(this._data.search.str=g,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=C,this._data.search.smc=U),A=new e.vakata.search(g,!0,{caseSensitive:z.case_sensitive,fuzzy:z.fuzzy}),e.each(w[P||e.jstree.root].children_d,function(G,ue){var Q=w[ue];Q.text&&!Q.state.hidden&&(!z.search_leaves_only||Q.state.loaded&&Q.children.length===0)&&(z.search_callback&&z.search_callback.call(this,g,Q)||!z.search_callback&&A.search(Q.text).isMatch)&&(R.push(ue),B=B.concat(Q.parents))}),R.length){for(B=e.vakata.array_unique(B),W=0,$=B.length;W<$;W++)B[W]!==e.jstree.root&&w[B[W]]&&this.open_node(B[W],null,0)===!0&&this._data.search.opn.push(B[W]);I?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(R,function(G){return"0123456789".indexOf(G[0])!==-1?"\\3"+G[0]+" "+G.substr(1).replace(e.jstree.idregex,"\\$&"):G.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(R))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(R,function(G){return"0123456789".indexOf(G[0])!==-1?"\\3"+G[0]+" "+G.substr(1).replace(e.jstree.idregex,"\\$&"):G.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=R),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:g,res:this._data.search.res,show_only_matches:C})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(g){return"0123456789".indexOf(g[0])!==-1?"\\3"+g[0]+" "+g.substr(1).replace(e.jstree.idregex,"\\$&"):g.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(g,S,C,P){if(g=T.redraw_node.apply(this,arguments),g&&e.inArray(g.id,this._data.search.res)!==-1){var I,U,z=null;for(I=0,U=g.childNodes.length;I<U;I++)if(g.childNodes[I]&&g.childNodes[I].className&&g.childNodes[I].className.indexOf("jstree-anchor")!==-1){z=g.childNodes[I];break}z&&(z.className+=" jstree-search")}return g}},function(u){u.vakata.search=function(T,g,S){S=S||{},S=u.extend({},u.vakata.search.defaults,S),S.fuzzy!==!1&&(S.fuzzy=!0),T=S.caseSensitive?T:T.toLowerCase();var C=S.location,P=S.distance,I=S.threshold,U=T.length,z,f,w,A;return U>32&&(S.fuzzy=!1),S.fuzzy&&(z=1<<U-1,f=function(){var R={},B=0;for(B=0;B<U;B++)R[T.charAt(B)]=0;for(B=0;B<U;B++)R[T.charAt(B)]|=1<<U-B-1;return R}(),w=function(R,B){var W=R/U,$=Math.abs(C-B);return P?W+$/P:$?1:W}),A=function(R){if(R=S.caseSensitive?R.toString():R.toString().toLowerCase(),T===R||R.indexOf(T)!==-1)return{isMatch:!0,score:0};if(!S.fuzzy)return{isMatch:!1,score:1};var B,W,$=R.length,G=I,ue=R.indexOf(T,C),Q,K,we=U+$,ze,Ke,Pe,We,it,vt=1;for(ue!==-1&&(G=Math.min(w(0,ue),G),ue=R.lastIndexOf(T,C+U),ue!==-1&&(G=Math.min(w(0,ue),G))),ue=-1,B=0;B<U;B++){for(Q=0,K=we;Q<K;)w(B,C+K)<=G?Q=K:we=K,K=Math.floor((we-Q)/2+Q);for(we=K,Ke=Math.max(1,C-K+1),Pe=Math.min(C+K,$)+U,We=new Array(Pe+2),We[Pe+1]=(1<<B)-1,W=Pe;W>=Ke;W--)if(it=f[R.charAt(W-1)],B===0?We[W]=(We[W+1]<<1|1)&it:We[W]=(We[W+1]<<1|1)&it|((ze[W+1]|ze[W])<<1|1)|ze[W+1],We[W]&z&&(vt=w(B,W-1),vt<=G))if(G=vt,ue=W-1,ue>C)Ke=Math.max(1,2*C-ue);else break;if(w(B+1,C)>G)break;ze=We}return{isMatch:ue>=0,score:vt}},g===!0?{search:A}:A(g)},u.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(u,T){return this.get_text(u)>this.get_text(T)?1:-1},e.jstree.plugins.sort=function(u,T){this.bind=function(){T.bind.call(this),this.element.on("model.jstree",(function(g,S){this.sort(S.parent,!0)}).bind(this)).on("rename_node.jstree create_node.jstree",(function(g,S){this.sort(S.parent||S.node.parent,!1),this.redraw_node(S.parent||S.node.parent,!0)}).bind(this)).on("move_node.jstree copy_node.jstree",(function(g,S){this.sort(S.parent,!1),this.redraw_node(S.parent,!0)}).bind(this))},this.sort=function(g,S){var C,P;if(g=this.get_node(g),g&&g.children&&g.children.length&&(g.children.sort(this.settings.sort.bind(this)),S))for(C=0,P=g.children_d.length;C<P;C++)this.sort(g.children_d[C],!1)}};var O=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(u,T){this.bind=function(){T.bind.call(this);var g=(function(){this.element.on(this.settings.state.events,(function(){O&&clearTimeout(O),O=setTimeout((function(){this.save_state()}).bind(this),100)}).bind(this)),this.trigger("state_ready")}).bind(this);this.element.on("ready.jstree",(function(S,C){this.element.one("restore_state.jstree",g),this.restore_state()||g()}).bind(this))},this.save_state=function(){var g=this.get_state();this.settings.state.preserve_loaded||delete g.core.loaded;var S={state:g,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(S))},this.restore_state=function(){var g=e.vakata.storage.get(this.settings.state.key);if(g)try{g=JSON.parse(g)}catch{return!1}return g&&g.ttl&&g.sec&&+new Date-g.sec>g.ttl?!1:(g&&g.state&&(g=g.state),g&&e.vakata.is_function(this.settings.state.filter)&&(g=this.settings.state.filter.call(this,g)),g?(this.settings.state.preserve_loaded||delete g.core.loaded,this.element.one("set_state.jstree",function(S,C){C.instance.trigger("restore_state",{state:e.extend(!0,{},g)})}),this.set_state(g),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(u,T){u.vakata.storage={set:function(g,S){return window.localStorage.setItem(g,S)},get:function(g){return window.localStorage.getItem(g)},del:function(g){return window.localStorage.removeItem(g)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(u,T){this.init=function(g,S){var C,P;if(S&&S.types&&S.types.default){for(C in S.types)if(C!=="default"&&C!==e.jstree.root&&S.types.hasOwnProperty(C))for(P in S.types.default)S.types.default.hasOwnProperty(P)&&S.types[C][P]===i&&(S.types[C][P]=S.types.default[P])}T.init.call(this,g,S),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(g,S){T.refresh.call(this,g,S),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",(function(g,S){var C=this._model.data,P=S.nodes,I=this.settings.types,U,z,f="default",w;for(U=0,z=P.length;U<z;U++){if(f="default",C[P[U]].original&&C[P[U]].original.type&&I[C[P[U]].original.type]&&(f=C[P[U]].original.type),C[P[U]].data&&C[P[U]].data.jstree&&C[P[U]].data.jstree.type&&I[C[P[U]].data.jstree.type]&&(f=C[P[U]].data.jstree.type),C[P[U]].type=f,C[P[U]].icon===!0&&I[f].icon!==i&&(C[P[U]].icon=I[f].icon),I[f].li_attr!==i&&typeof I[f].li_attr=="object"){for(w in I[f].li_attr)if(I[f].li_attr.hasOwnProperty(w)){if(w==="id")continue;C[P[U]].li_attr[w]===i?C[P[U]].li_attr[w]=I[f].li_attr[w]:w==="class"&&(C[P[U]].li_attr.class=I[f].li_attr.class+" "+C[P[U]].li_attr.class)}}if(I[f].a_attr!==i&&typeof I[f].a_attr=="object"){for(w in I[f].a_attr)if(I[f].a_attr.hasOwnProperty(w)){if(w==="id")continue;C[P[U]].a_attr[w]===i?C[P[U]].a_attr[w]=I[f].a_attr[w]:w==="href"&&C[P[U]].a_attr[w]==="#"?C[P[U]].a_attr.href=I[f].a_attr.href:w==="class"&&(C[P[U]].a_attr.class=I[f].a_attr.class+" "+C[P[U]].a_attr.class)}}}C[e.jstree.root].type=e.jstree.root}).bind(this)),T.bind.call(this)},this.get_json=function(g,S,C){var P,I,U=this._model.data,z=S?e.extend(!0,{},S,{no_id:!1}):{},f=T.get_json.call(this,g,z,C);if(f===!1)return!1;if(e.vakata.is_array(f))for(P=0,I=f.length;P<I;P++)f[P].type=(f[P].id||f[P].id===0)&&U[f[P].id]&&U[f[P].id].type?U[f[P].id].type:"default",S&&S.no_id&&(delete f[P].id,f[P].li_attr&&f[P].li_attr.id&&delete f[P].li_attr.id,f[P].a_attr&&f[P].a_attr.id&&delete f[P].a_attr.id);else f.type=(f.id||f.id===0)&&U[f.id]&&U[f.id].type?U[f.id].type:"default",S&&S.no_id&&(f=this._delete_ids(f));return f},this._delete_ids=function(g){if(e.vakata.is_array(g)){for(var S=0,C=g.length;S<C;S++)g[S]=this._delete_ids(g[S]);return g}return delete g.id,g.li_attr&&g.li_attr.id&&delete g.li_attr.id,g.a_attr&&g.a_attr.id&&delete g.a_attr.id,g.children&&e.vakata.is_array(g.children)&&(g.children=this._delete_ids(g.children)),g},this.check=function(g,S,C,P,I){if(T.check.call(this,g,S,C,P,I)===!1)return!1;S=S&&(S.id||S.id===0)?S:this.get_node(S),C=C&&(C.id||C.id===0)?C:this.get_node(C);var U=S&&(S.id||S.id===0)?I&&I.origin?I.origin:e.jstree.reference(S.id):null,z,f,w,A;switch(U=U&&U._model&&U._model.data?U._model.data:null,g){case"create_node":case"move_node":case"copy_node":if(g!=="move_node"||e.inArray(S.id,C.children)===-1){if(z=this.get_rules(C),z.max_children!==i&&z.max_children!==-1&&z.max_children===C.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})},!1;if(z.valid_children!==i&&z.valid_children!==-1&&e.inArray(S.type||"default",z.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})},!1;if(U&&S.children_d&&S.parents){for(f=0,w=0,A=S.children_d.length;w<A;w++)f=Math.max(f,U[S.children_d[w]].parents.length);f=f-S.parents.length+1}(f<=0||f===i)&&(f=1);do{if(z.max_depth!==i&&z.max_depth!==-1&&z.max_depth<f)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})},!1;C=this.get_node(C.parent),z=this.get_rules(C),f++}while(C)}break}return!0},this.get_rules=function(g){if(g=this.get_node(g),!g)return!1;var S=this.get_type(g,!0);return S.max_depth===i&&(S.max_depth=-1),S.max_children===i&&(S.max_children=-1),S.valid_children===i&&(S.valid_children=-1),S},this.get_type=function(g,S){return g=this.get_node(g),g?S?e.extend({type:g.type},this.settings.types[g.type]):g.type:!1},this.set_type=function(g,S){var C=this._model.data,P,I,U,z,f,w,A,R;if(e.vakata.is_array(g)){for(g=g.slice(),I=0,U=g.length;I<U;I++)this.set_type(g[I],S);return!0}if(P=this.settings.types,g=this.get_node(g),!P[S]||!g)return!1;if(A=this.get_node(g,!0),A&&A.length&&(R=A.children(".jstree-anchor")),z=g.type,f=this.get_icon(g),g.type=S,(f===!0||!P[z]||P[z].icon!==i&&f===P[z].icon)&&this.set_icon(g,P[S].icon!==i?P[S].icon:!0),P[z]&&P[z].li_attr!==i&&typeof P[z].li_attr=="object"){for(w in P[z].li_attr)if(P[z].li_attr.hasOwnProperty(w)){if(w==="id")continue;w==="class"?(C[g.id].li_attr.class=(C[g.id].li_attr.class||"").replace(P[z].li_attr[w],""),A&&A.removeClass(P[z].li_attr[w])):C[g.id].li_attr[w]===P[z].li_attr[w]&&(C[g.id].li_attr[w]=null,A&&A.removeAttr(w))}}if(P[z]&&P[z].a_attr!==i&&typeof P[z].a_attr=="object"){for(w in P[z].a_attr)if(P[z].a_attr.hasOwnProperty(w)){if(w==="id")continue;w==="class"?(C[g.id].a_attr.class=(C[g.id].a_attr.class||"").replace(P[z].a_attr[w],""),R&&R.removeClass(P[z].a_attr[w])):C[g.id].a_attr[w]===P[z].a_attr[w]&&(w==="href"?(C[g.id].a_attr[w]="#",R&&R.attr("href","#")):(delete C[g.id].a_attr[w],R&&R.removeAttr(w)))}}if(P[S].li_attr!==i&&typeof P[S].li_attr=="object"){for(w in P[S].li_attr)if(P[S].li_attr.hasOwnProperty(w)){if(w==="id")continue;C[g.id].li_attr[w]===i?(C[g.id].li_attr[w]=P[S].li_attr[w],A&&(w==="class"?A.addClass(P[S].li_attr[w]):A.attr(w,P[S].li_attr[w]))):w==="class"&&(C[g.id].li_attr.class=P[S].li_attr[w]+" "+C[g.id].li_attr.class,A&&A.addClass(P[S].li_attr[w]))}}if(P[S].a_attr!==i&&typeof P[S].a_attr=="object"){for(w in P[S].a_attr)if(P[S].a_attr.hasOwnProperty(w)){if(w==="id")continue;C[g.id].a_attr[w]===i?(C[g.id].a_attr[w]=P[S].a_attr[w],R&&(w==="class"?R.addClass(P[S].a_attr[w]):R.attr(w,P[S].a_attr[w]))):w==="href"&&C[g.id].a_attr[w]==="#"?(C[g.id].a_attr.href=P[S].a_attr.href,R&&R.attr("href",P[S].a_attr.href)):w==="class"&&(C[g.id].a_attr.class=P[S].a_attr.class+" "+C[g.id].a_attr.class,R&&R.addClass(P[S].a_attr[w]))}}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(u,T){return u+" ("+T+")"}},e.jstree.plugins.unique=function(u,T){this.check=function(g,S,C,P,I){if(T.check.call(this,g,S,C,P,I)===!1)return!1;if(S=S&&(S.id||S.id===0)?S:this.get_node(S),C=C&&(C.id||C.id===0)?C:this.get_node(C),!C||!C.children)return!0;var U=g==="rename_node"?P:S.text,z=[],f=this.settings.unique.case_sensitive,w=this.settings.unique.trim_whitespace,A=this._model.data,R,B,W;for(R=0,B=C.children.length;R<B;R++)W=A[C.children[R]].text,f||(W=W.toLowerCase()),w&&(W=W.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),z.push(W);switch(f||(U=U.toLowerCase()),w&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),g){case"delete_node":return!0;case"rename_node":return W=S.text||"",f||(W=W.toLowerCase()),w&&(W=W.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),R=e.inArray(U,z)===-1||S.text&&W===U,R||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+U+" already exists. Preventing: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),R;case"create_node":return R=e.inArray(U,z)===-1,R||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+U+" already exists. Preventing: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),R;case"copy_node":return R=e.inArray(U,z)===-1,R||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+U+" already exists. Preventing: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),R;case"move_node":return R=S.parent===C.id&&(!I||!I.is_multi)||e.inArray(U,z)===-1,R||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+U+" already exists. Preventing: "+g,data:JSON.stringify({chk:g,pos:P,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),R}return!0},this.create_node=function(g,S,C,P,I){if(!S||typeof S=="object"&&S.text===i){if(g===null&&(g=e.jstree.root),g=this.get_node(g),!g)return T.create_node.call(this,g,S,C,P,I);if(C=C===i?"last":C,!C.toString().match(/^(before|after)$/)&&!I&&!this.is_loaded(g))return T.create_node.call(this,g,S,C,P,I);S||(S={});var U,z,f,w,A,R=this._model.data,B=this.settings.unique.case_sensitive,W=this.settings.unique.trim_whitespace,$=this.settings.unique.duplicate,G;for(z=U=this.get_string("New node"),f=[],w=0,A=g.children.length;w<A;w++)G=R[g.children[w]].text,B||(G=G.toLowerCase()),W&&(G=G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),f.push(G);for(w=1,G=z,B||(G=G.toLowerCase()),W&&(G=G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));e.inArray(G,f)!==-1;)z=$.call(this,U,++w).toString(),G=z,B||(G=G.toLowerCase()),W&&(G=G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));S.text=z}return T.create_node.call(this,g,S,C,P,I)}};var L=m.createElement("DIV");if(L.setAttribute("unselectable","on"),L.setAttribute("role","presentation"),L.className="jstree-wholerow",L.innerHTML="&#160;",e.jstree.plugins.wholerow=function(u,T){this.bind=function(){T.bind.call(this),this.element.on("ready.jstree set_state.jstree",(function(){this.hide_dots()}).bind(this)).on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-wholerow-ul")}).bind(this)).on("deselect_all.jstree",(function(g,S){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}).bind(this)).on("changed.jstree",(function(g,S){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var C=!1,P,I;for(P=0,I=S.selected.length;P<I;P++)C=this.get_node(S.selected[P],!0),C&&C.length&&C.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("open_node.jstree",(function(g,S){this.get_node(S.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("hover_node.jstree dehover_node.jstree",(function(g,S){g.type==="hover_node"&&this.is_disabled(S.node)||this.get_node(S.node,!0).children(".jstree-wholerow")[g.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")}).bind(this)).on("contextmenu.jstree",".jstree-wholerow",(function(g){if(this._data.contextmenu){g.preventDefault();var S=e.Event("contextmenu",{metaKey:g.metaKey,ctrlKey:g.ctrlKey,altKey:g.altKey,shiftKey:g.shiftKey,pageX:g.pageX,pageY:g.pageY});e(g.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S)}}).bind(this)).on("click.jstree",".jstree-wholerow",function(g){g.stopImmediatePropagation();var S=e.Event("click",{metaKey:g.metaKey,ctrlKey:g.ctrlKey,altKey:g.altKey,shiftKey:g.shiftKey});e(g.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(g){g.stopImmediatePropagation();var S=e.Event("dblclick",{metaKey:g.metaKey,ctrlKey:g.ctrlKey,altKey:g.altKey,shiftKey:g.shiftKey});e(g.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",(function(g){g.stopImmediatePropagation();var S=e.Event("click",{metaKey:g.metaKey,ctrlKey:g.ctrlKey,altKey:g.altKey,shiftKey:g.shiftKey});e(g.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S).trigger("focus")}).bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",(function(g){return g.stopImmediatePropagation(),this.is_disabled(g.currentTarget)||this.hover_node(g.currentTarget),!1}).bind(this)).on("mouseleave.jstree",".jstree-node",(function(g){this.dehover_node(g.currentTarget)}).bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),T.teardown.call(this)},this.redraw_node=function(g,S,C,P){if(g=T.redraw_node.apply(this,arguments),g){var I=L.cloneNode(!0);e.inArray(g.id,this._data.core.selected)!==-1&&(I.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===g.id&&(I.className+=" jstree-wholerow-hovered"),g.insertBefore(I,g.childNodes[0])}return g}},window.customElements&&Object&&Object.create){var D=Object.create(HTMLElement.prototype);D.createdCallback=function(){var u={core:{},plugins:[]},T;for(T in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(T)&&this.attributes[T]&&(u.plugins.push(T),this.getAttribute(T)&&JSON.parse(this.getAttribute(T))&&(u[T]=JSON.parse(this.getAttribute(T))));for(T in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(T)&&this.attributes[T]&&(u.core[T]=JSON.parse(this.getAttribute(T))||this.getAttribute(T));e(this).jstree(u)};try{window.customElements.define("vakata-jstree",function(){},{prototype:D})}catch{}}}})})(jK);var eR={};/*!
 * Font Awesome Icon Picker
 * https://farbelous.github.io/fontawesome-iconpicker/
 *
 * @author Javi Aguilar, itsjavi.com
 * @license MIT License
 * @see https://github.com/farbelous/fontawesome-iconpicker/blob/master/LICENSE
 */var tR;function qK(){return tR||(tR=1,function(t){t(jQuery)}(function(t){t.ui=t.ui||{},t.ui.version="1.12.1",function(){var e,i=Math.max,s=Math.abs,n=/left|center|right/,l=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,d=/%$/,m=t.fn.pos;function y(x,E,O){return[parseFloat(x[0])*(d.test(x[0])?E/100:1),parseFloat(x[1])*(d.test(x[1])?O/100:1)]}function b(x,E){return parseInt(t.css(x,E),10)||0}function k(x){var E=x[0];return E.nodeType===9?{width:x.width(),height:x.height(),offset:{top:0,left:0}}:t.isWindow(E)?{width:x.width(),height:x.height(),offset:{top:x.scrollTop(),left:x.scrollLeft()}}:E.preventDefault?{width:0,height:0,offset:{top:E.pageY,left:E.pageX}}:{width:x.outerWidth(),height:x.outerHeight(),offset:x.offset()}}t.pos={scrollbarWidth:function(){if(e!==void 0)return e;var x,E,O=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),L=O.children()[0];return t("body").append(O),x=L.offsetWidth,O.css("overflow","scroll"),E=L.offsetWidth,x===E&&(E=O[0].clientWidth),O.remove(),e=x-E},getScrollInfo:function(x){var E=x.isWindow||x.isDocument?"":x.element.css("overflow-x"),O=x.isWindow||x.isDocument?"":x.element.css("overflow-y"),L=E==="scroll"||E==="auto"&&x.width<x.element[0].scrollWidth,D=O==="scroll"||O==="auto"&&x.height<x.element[0].scrollHeight;return{width:D?t.pos.scrollbarWidth():0,height:L?t.pos.scrollbarWidth():0}},getWithinInfo:function(x){var E=t(x||window),O=t.isWindow(E[0]),L=!!E[0]&&E[0].nodeType===9,D=!O&&!L;return{element:E,isWindow:O,isDocument:L,offset:D?t(x).offset():{left:0,top:0},scrollLeft:E.scrollLeft(),scrollTop:E.scrollTop(),width:E.outerWidth(),height:E.outerHeight()}}},t.fn.pos=function(x){if(!x||!x.of)return m.apply(this,arguments);x=t.extend({},x);var E,O,L,D,u,T,g=t(x.of),S=t.pos.getWithinInfo(x.within),C=t.pos.getScrollInfo(S),P=(x.collision||"flip").split(" "),I={};return T=k(g),g[0].preventDefault&&(x.at="left top"),O=T.width,L=T.height,D=T.offset,u=t.extend({},D),t.each(["my","at"],function(){var U=(x[this]||"").split(" "),z,f;U.length===1&&(U=n.test(U[0])?U.concat(["center"]):l.test(U[0])?["center"].concat(U):["center","center"]),U[0]=n.test(U[0])?U[0]:"center",U[1]=l.test(U[1])?U[1]:"center",z=a.exec(U[0]),f=a.exec(U[1]),I[this]=[z?z[0]:0,f?f[0]:0],x[this]=[h.exec(U[0])[0],h.exec(U[1])[0]]}),P.length===1&&(P[1]=P[0]),x.at[0]==="right"?u.left+=O:x.at[0]==="center"&&(u.left+=O/2),x.at[1]==="bottom"?u.top+=L:x.at[1]==="center"&&(u.top+=L/2),E=y(I.at,O,L),u.left+=E[0],u.top+=E[1],this.each(function(){var U,z,f=t(this),w=f.outerWidth(),A=f.outerHeight(),R=b(this,"marginLeft"),B=b(this,"marginTop"),W=w+R+b(this,"marginRight")+C.width,$=A+B+b(this,"marginBottom")+C.height,G=t.extend({},u),ue=y(I.my,f.outerWidth(),f.outerHeight());x.my[0]==="right"?G.left-=w:x.my[0]==="center"&&(G.left-=w/2),x.my[1]==="bottom"?G.top-=A:x.my[1]==="center"&&(G.top-=A/2),G.left+=ue[0],G.top+=ue[1],U={marginLeft:R,marginTop:B},t.each(["left","top"],function(Q,K){t.ui.pos[P[Q]]&&t.ui.pos[P[Q]][K](G,{targetWidth:O,targetHeight:L,elemWidth:w,elemHeight:A,collisionPosition:U,collisionWidth:W,collisionHeight:$,offset:[E[0]+ue[0],E[1]+ue[1]],my:x.my,at:x.at,within:S,elem:f})}),x.using&&(z=function(Q){var K=D.left-G.left,we=K+O-w,ze=D.top-G.top,Ke=ze+L-A,Pe={target:{element:g,left:D.left,top:D.top,width:O,height:L},element:{element:f,left:G.left,top:G.top,width:w,height:A},horizontal:we<0?"left":K>0?"right":"center",vertical:Ke<0?"top":ze>0?"bottom":"middle"};O<w&&s(K+we)<O&&(Pe.horizontal="center"),L<A&&s(ze+Ke)<L&&(Pe.vertical="middle"),i(s(K),s(we))>i(s(ze),s(Ke))?Pe.important="horizontal":Pe.important="vertical",x.using.call(this,Q,Pe)}),f.offset(t.extend(G,{using:z}))})},t.ui.pos={_trigger:function(x,E,O,L){E.elem&&E.elem.trigger({type:O,position:x,positionData:E,triggered:L})},fit:{left:function(x,E){t.ui.pos._trigger(x,E,"posCollide","fitLeft");var O=E.within,L=O.isWindow?O.scrollLeft:O.offset.left,D=O.width,u=x.left-E.collisionPosition.marginLeft,T=L-u,g=u+E.collisionWidth-D-L,S;E.collisionWidth>D?T>0&&g<=0?(S=x.left+T+E.collisionWidth-D-L,x.left+=T-S):g>0&&T<=0?x.left=L:T>g?x.left=L+D-E.collisionWidth:x.left=L:T>0?x.left+=T:g>0?x.left-=g:x.left=i(x.left-u,x.left),t.ui.pos._trigger(x,E,"posCollided","fitLeft")},top:function(x,E){t.ui.pos._trigger(x,E,"posCollide","fitTop");var O=E.within,L=O.isWindow?O.scrollTop:O.offset.top,D=E.within.height,u=x.top-E.collisionPosition.marginTop,T=L-u,g=u+E.collisionHeight-D-L,S;E.collisionHeight>D?T>0&&g<=0?(S=x.top+T+E.collisionHeight-D-L,x.top+=T-S):g>0&&T<=0?x.top=L:T>g?x.top=L+D-E.collisionHeight:x.top=L:T>0?x.top+=T:g>0?x.top-=g:x.top=i(x.top-u,x.top),t.ui.pos._trigger(x,E,"posCollided","fitTop")}},flip:{left:function(x,E){t.ui.pos._trigger(x,E,"posCollide","flipLeft");var O=E.within,L=O.offset.left+O.scrollLeft,D=O.width,u=O.isWindow?O.scrollLeft:O.offset.left,T=x.left-E.collisionPosition.marginLeft,g=T-u,S=T+E.collisionWidth-D-u,C=E.my[0]==="left"?-E.elemWidth:E.my[0]==="right"?E.elemWidth:0,P=E.at[0]==="left"?E.targetWidth:E.at[0]==="right"?-E.targetWidth:0,I=-2*E.offset[0],U,z;g<0?(U=x.left+C+P+I+E.collisionWidth-D-L,(U<0||U<s(g))&&(x.left+=C+P+I)):S>0&&(z=x.left-E.collisionPosition.marginLeft+C+P+I-u,(z>0||s(z)<S)&&(x.left+=C+P+I)),t.ui.pos._trigger(x,E,"posCollided","flipLeft")},top:function(x,E){t.ui.pos._trigger(x,E,"posCollide","flipTop");var O=E.within,L=O.offset.top+O.scrollTop,D=O.height,u=O.isWindow?O.scrollTop:O.offset.top,T=x.top-E.collisionPosition.marginTop,g=T-u,S=T+E.collisionHeight-D-u,C=E.my[1]==="top",P=C?-E.elemHeight:E.my[1]==="bottom"?E.elemHeight:0,I=E.at[1]==="top"?E.targetHeight:E.at[1]==="bottom"?-E.targetHeight:0,U=-2*E.offset[1],z,f;g<0?(f=x.top+P+I+U+E.collisionHeight-D-L,(f<0||f<s(g))&&(x.top+=P+I+U)):S>0&&(z=x.top-E.collisionPosition.marginTop+P+I+U-u,(z>0||s(z)<S)&&(x.top+=P+I+U)),t.ui.pos._trigger(x,E,"posCollided","flipTop")}},flipfit:{left:function(){t.ui.pos.flip.left.apply(this,arguments),t.ui.pos.fit.left.apply(this,arguments)},top:function(){t.ui.pos.flip.top.apply(this,arguments),t.ui.pos.fit.top.apply(this,arguments)}}},function(){var x,E,O,L,D,u=document.getElementsByTagName("body")[0],T=document.createElement("div");x=document.createElement(u?"div":"body"),O={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&t.extend(O,{position:"absolute",left:"-1000px",top:"-1000px"});for(D in O)x.style[D]=O[D];x.appendChild(T),E=u||document.documentElement,E.insertBefore(x,E.firstChild),T.style.cssText="position: absolute; left: 10.7432222px;",L=t(T).offset().left,t.support.offsetFractions=L>10&&L<11,x.innerHTML="",E.removeChild(x)}()}(),t.ui.position}),function(t){window.jQuery&&!window.jQuery.fn.iconpicker&&t(window.jQuery)}(function(t){var e={isEmpty:function(s){return s===!1||s===""||s===null||s===void 0},isEmptyObject:function(s){return this.isEmpty(s)===!0||s.length===0},isElement:function(s){return t(s).length>0},isString:function(s){return typeof s=="string"||s instanceof String},isArray:function(s){return t.isArray(s)},inArray:function(s,n){return t.inArray(s,n)!==-1},throwError:function(s){throw"Font Awesome Icon Picker Exception: "+s}},i=function(s,n){this._id=i._idCounter++,this.element=t(s).addClass("iconpicker-element"),this._trigger("iconpickerCreate",{iconpickerValue:this.iconpickerValue}),this.options=t.extend({},i.defaultOptions,this.element.data(),n),this.options.templates=t.extend({},i.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=e.isElement(this.options.container)?t(this.options.container):!1,this.container===!1&&(this.element.is(".dropdown-toggle")?this.container=t("~ .dropdown-menu:first",this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element),this.container.addClass("iconpicker-container"),this.isDropdownMenu()&&(this.options.placement="inline"),this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):!1,this.input===!1&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1)),this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component),this.component.length===0?this.component=!1:this.component.find("i").addClass("iconpicker-component"),this._createPopover(),this._createIconpicker(),this.getAcceptButton().length===0&&(this.options.mustAccept=!1),this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated",{iconpickerValue:this.iconpickerValue})};i._idCounter=0,i.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(s){return s},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'}},i.batch=function(s,n){var l=Array.prototype.slice.call(arguments,2);return t(s).each(function(){var a=t(this).data("iconpicker");a&&a[n].apply(a,l)})},i.prototype={constructor:i,options:{},_id:0,_trigger:function(s,n){n=n||{},this.element.trigger(t.extend({type:s,iconpickerInstance:this},n))},_createPopover:function(){this.popover=t(this.options.templates.popover);var s=this.popover.find(".popover-title");if(this.options.title&&s.append(t('<div class="popover-title-text">'+this.options.title+"</div>")),this.hasSeparatedSearchInput()&&!this.options.searchInFooter?s.append(this.options.templates.search):this.options.title||s.remove(),this.options.showFooter&&!e.isEmpty(this.options.templates.footer)){var n=t(this.options.templates.footer);this.hasSeparatedSearchInput()&&this.options.searchInFooter&&n.append(t(this.options.templates.search)),e.isEmpty(this.options.templates.buttons)||n.append(t(this.options.templates.buttons)),this.popover.append(n)}return this.options.animation===!0&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var s=this;this.iconpicker=t(this.options.templates.iconpicker);var n=function(b){var k=t(this);k.is("i")&&(k=k.parent()),s._trigger("iconpickerSelect",{iconpickerItem:k,iconpickerValue:s.iconpickerValue}),s.options.mustAccept===!1?(s.update(k.data("iconpickerValue")),s._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:s.iconpickerValue})):s.update(k.data("iconpickerValue"),!0),s.options.hideOnSelect&&s.options.mustAccept===!1&&s.hide()},l=t(this.options.templates.iconpickerItem),a=[];for(var h in this.options.icons)if(typeof this.options.icons[h].title=="string"){var d=l.clone();if(d.find("i").addClass(this.options.fullClassFormatter(this.options.icons[h].title)),d.data("iconpickerValue",this.options.icons[h].title).on("click.iconpicker",n),d.attr("title","."+this.options.icons[h].title),this.options.icons[h].searchTerms.length>0){for(var m="",y=0;y<this.options.icons[h].searchTerms.length;y++)m=m+this.options.icons[h].searchTerms[y]+" ";d.attr("data-search-terms",m)}a.push(d)}return this.iconpicker.find(".iconpicker-items").append(a),this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(s){var n=t(s.target);return!((!n.hasClass("iconpicker-element")||n.hasClass("iconpicker-element")&&!n.is(this.element))&&n.parents(".iconpicker-popover").length===0)},_bindElementEvents:function(){var s=this;this.getSearchInput().on("keyup.iconpicker",function(){s.filter(t(this).val().toLowerCase())}),this.getAcceptButton().on("click.iconpicker",function(){var n=s.iconpicker.find(".iconpicker-selected").get(0);s.update(s.iconpickerValue),s._trigger("iconpickerSelected",{iconpickerItem:n,iconpickerValue:s.iconpickerValue}),s.isInline()||s.hide()}),this.getCancelButton().on("click.iconpicker",function(){s.isInline()||s.hide()}),this.element.on("focus.iconpicker",function(n){s.show(),n.stopPropagation()}),this.hasComponent()&&this.component.on("click.iconpicker",function(){s.toggle()}),this.hasInput()&&this.input.on("keyup.iconpicker",function(n){e.inArray(n.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?s._updateFormGroupStatus(s.getValid(this.value)!==!1):s.update(),s.options.inputSearch===!0&&s.filter(t(this).val().toLowerCase())})},_bindWindowEvents:function(){var s=t(window.document),n=this,l=".iconpicker.inst"+this._id;t(window).on("resize.iconpicker"+l+" orientationchange.iconpicker"+l,function(a){n.popover.hasClass("in")&&n.updatePlacement()}),n.isInline()||s.on("mouseup"+l,function(a){!n._isEventInsideIconpicker(a)&&!n.isInline()&&n.hide()})},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){t(window).off(".iconpicker.inst"+this._id),t(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(s,n){s=s||this.options.placement,this.options.placement=s,n=n||this.options.collision,n=n===!0?"flip":n;var l={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:n===!0?"flip":n,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),typeof s=="object")return this.popover.pos(t.extend({},l,s));switch(s){case"inline":l=!1;break;case"topLeftCorner":l.my="right bottom",l.at="left top";break;case"topLeft":l.my="left bottom",l.at="left top";break;case"top":l.my="center bottom",l.at="center top";break;case"topRight":l.my="right bottom",l.at="right top";break;case"topRightCorner":l.my="left bottom",l.at="right top";break;case"rightTop":l.my="left bottom",l.at="right center";break;case"right":l.my="left center",l.at="right center";break;case"rightBottom":l.my="left top",l.at="right center";break;case"bottomRightCorner":l.my="left top",l.at="right bottom";break;case"bottomRight":l.my="right top",l.at="right bottom";break;case"bottom":l.my="center top",l.at="center bottom";break;case"bottomLeft":l.my="left top",l.at="left bottom";break;case"bottomLeftCorner":l.my="right top",l.at="left bottom";break;case"leftBottom":l.my="right top",l.at="left center";break;case"left":l.my="right center",l.at="left center";break;case"leftTop":l.my="right bottom",l.at="left center";break;default:return!1}return this.popover.css({display:this.options.placement==="inline"?"":"block"}),l!==!1?this.popover.pos(l).css("maxWidth",t(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var s=this.component.find("i");s.length>0?s.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(s){return this.hasInput()?(s!==!1?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0):!1},getValid:function(s){e.isString(s)||(s="");var n=s==="";s=t.trim(s);for(var l=!1,a=0;a<this.options.icons.length;a++)if(this.options.icons[a].title===s){l=!0;break}return l||n?s:!1},setValue:function(s){var n=this.getValid(s);return n!==!1?(this.iconpickerValue=n,this._trigger("iconpickerSetValue",{iconpickerValue:n}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:s}),!1)},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(s){return s=this.setValue(s),s!==!1&&s!==""&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:s})),s},getSourceValue:function(s){s=s||this.options.defaultValue;var n=s;return this.hasInput()?n=this.input.val():n=this.element.data("iconpickerValue"),(n===void 0||n===""||n===null||n===!1)&&(n=s),n},hasInput:function(){return this.input!==!1},isInputSearch:function(){return this.hasInput()&&this.options.inputSearch===!0},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return this.options.templates.search!==!1&&!this.isInputSearch()},hasComponent:function(){return this.component!==!1},hasContainer:function(){return this.container!==!1},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(s){if(e.isEmpty(s))return this.iconpicker.find(".iconpicker-item").show(),t(!1);var n=[];return this.iconpicker.find(".iconpicker-item").each(function(){var l=t(this),a=l.attr("title").toLowerCase(),h=l.attr("data-search-terms")?l.attr("data-search-terms").toLowerCase():"";a=a+" "+h;var d=!1;try{d=new RegExp("(^|\\W)"+s,"g")}catch{d=!1}d!==!1&&a.match(d)?(n.push(l),l.show()):l.hide()}),n},show:function(){if(this.popover.hasClass("in"))return!1;t.iconpicker.batch(t(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow",{iconpickerValue:this.iconpickerValue}),this.updatePlacement(),this.popover.addClass("in"),setTimeout(t.proxy(function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide",{iconpickerValue:this.iconpickerValue}),this.popover.removeClass("in"),setTimeout(t.proxy(function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(s,n){return s=s||this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate",{iconpickerValue:this.iconpickerValue}),n===!0?s=this.setValue(s):(s=this.setSourceValue(s),this._updateFormGroupStatus(s!==!1)),s!==!1&&this._updateComponents(),this._trigger("iconpickerUpdated",{iconpickerValue:this.iconpickerValue}),s},destroy:function(){this._trigger("iconpickerDestroy",{iconpickerValue:this.iconpickerValue}),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),t(this.popover).remove(),this._trigger("iconpickerDestroyed",{iconpickerValue:this.iconpickerValue})},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},isInline:function(){return this.options.placement==="inline"||this.popover.hasClass("inline")}},t.iconpicker=i,t.fn.iconpicker=function(s){return this.each(function(){var n=t(this);n.data("iconpicker")||n.data("iconpicker",new i(this,typeof s=="object"?s:{}))})},i.defaultOptions=t.extend(i.defaultOptions,{icons:[{title:"fab fa-500px",searchTerms:[]},{title:"fab fa-accessible-icon",searchTerms:["accessibility","handicap","person","wheelchair","wheelchair-alt"]},{title:"fab fa-accusoft",searchTerms:[]},{title:"fab fa-acquisitions-incorporated",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-ad",searchTerms:[]},{title:"fas fa-address-book",searchTerms:[]},{title:"far fa-address-book",searchTerms:[]},{title:"fas fa-address-card",searchTerms:[]},{title:"far fa-address-card",searchTerms:[]},{title:"fas fa-adjust",searchTerms:["contrast"]},{title:"fab fa-adn",searchTerms:[]},{title:"fab fa-adversal",searchTerms:[]},{title:"fab fa-affiliatetheme",searchTerms:[]},{title:"fas fa-air-freshener",searchTerms:[]},{title:"fab fa-algolia",searchTerms:[]},{title:"fas fa-align-center",searchTerms:["middle","text"]},{title:"fas fa-align-justify",searchTerms:["text"]},{title:"fas fa-align-left",searchTerms:["text"]},{title:"fas fa-align-right",searchTerms:["text"]},{title:"fab fa-alipay",searchTerms:[]},{title:"fas fa-allergies",searchTerms:["freckles","hand","intolerances","pox","spots"]},{title:"fab fa-amazon",searchTerms:[]},{title:"fab fa-amazon-pay",searchTerms:[]},{title:"fas fa-ambulance",searchTerms:["help","machine","support","vehicle"]},{title:"fas fa-american-sign-language-interpreting",searchTerms:[]},{title:"fab fa-amilia",searchTerms:[]},{title:"fas fa-anchor",searchTerms:["link"]},{title:"fab fa-android",searchTerms:["robot"]},{title:"fab fa-angellist",searchTerms:[]},{title:"fas fa-angle-double-down",searchTerms:["arrows"]},{title:"fas fa-angle-double-left",searchTerms:["arrows","back","laquo","previous","quote"]},{title:"fas fa-angle-double-right",searchTerms:["arrows","forward","next","quote","raquo"]},{title:"fas fa-angle-double-up",searchTerms:["arrows"]},{title:"fas fa-angle-down",searchTerms:["arrow"]},{title:"fas fa-angle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-angle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-angle-up",searchTerms:["arrow"]},{title:"fas fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"far fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"fab fa-angrycreative",searchTerms:[]},{title:"fab fa-angular",searchTerms:[]},{title:"fas fa-ankh",searchTerms:["amulet","copper","coptic christianity","copts","crux ansata","egyptian","venus"]},{title:"fab fa-app-store",searchTerms:[]},{title:"fab fa-app-store-ios",searchTerms:[]},{title:"fab fa-apper",searchTerms:[]},{title:"fab fa-apple",searchTerms:["food","fruit","mac","osx"]},{title:"fas fa-apple-alt",searchTerms:["fall","food","fruit","fuji","macintosh","seasonal"]},{title:"fab fa-apple-pay",searchTerms:[]},{title:"fas fa-archive",searchTerms:["box","package","storage"]},{title:"fas fa-archway",searchTerms:["arc","monument","road","street"]},{title:"fas fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"far fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"fas fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"far fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"fas fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"far fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"fas fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"far fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"fas fa-arrow-circle-down",searchTerms:["download"]},{title:"fas fa-arrow-circle-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-circle-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-circle-up",searchTerms:[]},{title:"fas fa-arrow-down",searchTerms:["download"]},{title:"fas fa-arrow-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-up",searchTerms:[]},{title:"fas fa-arrows-alt",searchTerms:["arrow","arrows","bigger","enlarge","expand","fullscreen","move","position","reorder","resize"]},{title:"fas fa-arrows-alt-h",searchTerms:["arrows-h","resize"]},{title:"fas fa-arrows-alt-v",searchTerms:["arrows-v","resize"]},{title:"fas fa-assistive-listening-systems",searchTerms:[]},{title:"fas fa-asterisk",searchTerms:["details"]},{title:"fab fa-asymmetrik",searchTerms:[]},{title:"fas fa-at",searchTerms:["e-mail","email"]},{title:"fas fa-atlas",searchTerms:["book","directions","geography","map","wayfinding"]},{title:"fas fa-atom",searchTerms:["atheism","chemistry","science"]},{title:"fab fa-audible",searchTerms:[]},{title:"fas fa-audio-description",searchTerms:[]},{title:"fab fa-autoprefixer",searchTerms:[]},{title:"fab fa-avianex",searchTerms:[]},{title:"fab fa-aviato",searchTerms:[]},{title:"fas fa-award",searchTerms:["honor","praise","prize","recognition","ribbon"]},{title:"fab fa-aws",searchTerms:[]},{title:"fas fa-backspace",searchTerms:["command","delete","keyboard","undo"]},{title:"fas fa-backward",searchTerms:["previous","rewind"]},{title:"fas fa-balance-scale",searchTerms:["balanced","justice","legal","measure","weight"]},{title:"fas fa-ban",searchTerms:["abort","ban","block","cancel","delete","hide","prohibit","remove","stop","trash"]},{title:"fas fa-band-aid",searchTerms:["bandage","boo boo","ouch"]},{title:"fab fa-bandcamp",searchTerms:[]},{title:"fas fa-barcode",searchTerms:["scan"]},{title:"fas fa-bars",searchTerms:["checklist","drag","hamburger","list","menu","nav","navigation","ol","reorder","settings","todo","ul"]},{title:"fas fa-baseball-ball",searchTerms:[]},{title:"fas fa-basketball-ball",searchTerms:[]},{title:"fas fa-bath",searchTerms:[]},{title:"fas fa-battery-empty",searchTerms:["power","status"]},{title:"fas fa-battery-full",searchTerms:["power","status"]},{title:"fas fa-battery-half",searchTerms:["power","status"]},{title:"fas fa-battery-quarter",searchTerms:["power","status"]},{title:"fas fa-battery-three-quarters",searchTerms:["power","status"]},{title:"fas fa-bed",searchTerms:["lodging","sleep","travel"]},{title:"fas fa-beer",searchTerms:["alcohol","bar","beverage","drink","liquor","mug","stein"]},{title:"fab fa-behance",searchTerms:[]},{title:"fab fa-behance-square",searchTerms:[]},{title:"fas fa-bell",searchTerms:["alert","notification","reminder"]},{title:"far fa-bell",searchTerms:["alert","notification","reminder"]},{title:"fas fa-bell-slash",searchTerms:[]},{title:"far fa-bell-slash",searchTerms:[]},{title:"fas fa-bezier-curve",searchTerms:["curves","illustrator","lines","path","vector"]},{title:"fas fa-bible",searchTerms:["book","catholicism","christianity"]},{title:"fas fa-bicycle",searchTerms:["bike","gears","transportation","vehicle"]},{title:"fab fa-bimobject",searchTerms:[]},{title:"fas fa-binoculars",searchTerms:[]},{title:"fas fa-birthday-cake",searchTerms:[]},{title:"fab fa-bitbucket",searchTerms:["bitbucket-square","git"]},{title:"fab fa-bitcoin",searchTerms:[]},{title:"fab fa-bity",searchTerms:[]},{title:"fab fa-black-tie",searchTerms:[]},{title:"fab fa-blackberry",searchTerms:[]},{title:"fas fa-blender",searchTerms:[]},{title:"fas fa-blender-phone",searchTerms:["appliance","fantasy","silly"]},{title:"fas fa-blind",searchTerms:[]},{title:"fab fa-blogger",searchTerms:[]},{title:"fab fa-blogger-b",searchTerms:[]},{title:"fab fa-bluetooth",searchTerms:[]},{title:"fab fa-bluetooth-b",searchTerms:[]},{title:"fas fa-bold",searchTerms:[]},{title:"fas fa-bolt",searchTerms:["electricity","lightning","weather","zap"]},{title:"fas fa-bomb",searchTerms:[]},{title:"fas fa-bone",searchTerms:[]},{title:"fas fa-bong",searchTerms:["aparatus","cannabis","marijuana","pipe","smoke","smoking"]},{title:"fas fa-book",searchTerms:["documentation","read"]},{title:"fas fa-book-dead",searchTerms:["Dungeons & Dragons","crossbones","d&d","dark arts","death","dnd","documentation","evil","fantasy","halloween","holiday","read","skull","spell"]},{title:"fas fa-book-open",searchTerms:["flyer","notebook","open book","pamphlet","reading"]},{title:"fas fa-book-reader",searchTerms:["library"]},{title:"fas fa-bookmark",searchTerms:["save"]},{title:"far fa-bookmark",searchTerms:["save"]},{title:"fas fa-bowling-ball",searchTerms:[]},{title:"fas fa-box",searchTerms:["package"]},{title:"fas fa-box-open",searchTerms:[]},{title:"fas fa-boxes",searchTerms:[]},{title:"fas fa-braille",searchTerms:[]},{title:"fas fa-brain",searchTerms:["cerebellum","gray matter","intellect","medulla oblongata","mind","noodle","wit"]},{title:"fas fa-briefcase",searchTerms:["bag","business","luggage","office","work"]},{title:"fas fa-briefcase-medical",searchTerms:["health briefcase"]},{title:"fas fa-broadcast-tower",searchTerms:["airwaves","radio","waves"]},{title:"fas fa-broom",searchTerms:["clean","firebolt","fly","halloween","holiday","nimbus 2000","quidditch","sweep","witch"]},{title:"fas fa-brush",searchTerms:["bristles","color","handle","painting"]},{title:"fab fa-btc",searchTerms:[]},{title:"fas fa-bug",searchTerms:["insect","report"]},{title:"fas fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"far fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"fas fa-bullhorn",searchTerms:["announcement","broadcast","louder","megaphone","share"]},{title:"fas fa-bullseye",searchTerms:["target"]},{title:"fas fa-burn",searchTerms:["energy"]},{title:"fab fa-buromobelexperte",searchTerms:[]},{title:"fas fa-bus",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-bus-alt",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-business-time",searchTerms:["briefcase","business socks","clock","flight of the conchords","wednesday"]},{title:"fab fa-buysellads",searchTerms:[]},{title:"fas fa-calculator",searchTerms:[]},{title:"fas fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"far fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"fas fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"far fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"fas fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"far fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"fas fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"far fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"far fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"far fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-camera",searchTerms:["photo","picture","record"]},{title:"fas fa-camera-retro",searchTerms:["photo","picture","record"]},{title:"fas fa-campground",searchTerms:["camping","fall","outdoors","seasonal","tent"]},{title:"fas fa-cannabis",searchTerms:["bud","chronic","drugs","endica","endo","ganja","marijuana","mary jane","pot","reefer","sativa","spliff","weed","whacky-tabacky"]},{title:"fas fa-capsules",searchTerms:["drugs","medicine"]},{title:"fas fa-car",searchTerms:["machine","transportation","vehicle"]},{title:"fas fa-car-alt",searchTerms:[]},{title:"fas fa-car-battery",searchTerms:[]},{title:"fas fa-car-crash",searchTerms:[]},{title:"fas fa-car-side",searchTerms:[]},{title:"fas fa-caret-down",searchTerms:["arrow","dropdown","menu","more","triangle down"]},{title:"fas fa-caret-left",searchTerms:["arrow","back","previous","triangle left"]},{title:"fas fa-caret-right",searchTerms:["arrow","forward","next","triangle right"]},{title:"fas fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"far fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"fas fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"far fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"fas fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"far fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"fas fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"far fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"fas fa-caret-up",searchTerms:["arrow","triangle up"]},{title:"fas fa-cart-arrow-down",searchTerms:["shopping"]},{title:"fas fa-cart-plus",searchTerms:["add","create","new","positive","shopping"]},{title:"fas fa-cat",searchTerms:["feline","halloween","holiday","kitten","kitty","meow","pet"]},{title:"fab fa-cc-amazon-pay",searchTerms:[]},{title:"fab fa-cc-amex",searchTerms:["amex"]},{title:"fab fa-cc-apple-pay",searchTerms:[]},{title:"fab fa-cc-diners-club",searchTerms:[]},{title:"fab fa-cc-discover",searchTerms:[]},{title:"fab fa-cc-jcb",searchTerms:[]},{title:"fab fa-cc-mastercard",searchTerms:[]},{title:"fab fa-cc-paypal",searchTerms:[]},{title:"fab fa-cc-stripe",searchTerms:[]},{title:"fab fa-cc-visa",searchTerms:[]},{title:"fab fa-centercode",searchTerms:[]},{title:"fas fa-certificate",searchTerms:["badge","star"]},{title:"fas fa-chair",searchTerms:["furniture","seat"]},{title:"fas fa-chalkboard",searchTerms:["blackboard","learning","school","teaching","whiteboard","writing"]},{title:"fas fa-chalkboard-teacher",searchTerms:["blackboard","instructor","learning","professor","school","whiteboard","writing"]},{title:"fas fa-charging-station",searchTerms:[]},{title:"fas fa-chart-area",searchTerms:["analytics","area-chart","graph"]},{title:"fas fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"far fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"fas fa-chart-line",searchTerms:["activity","analytics","dashboard","graph","line-chart"]},{title:"fas fa-chart-pie",searchTerms:["analytics","graph","pie-chart"]},{title:"fas fa-check",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo","yes"]},{title:"fas fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-check-double",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo"]},{title:"fas fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-chess",searchTerms:[]},{title:"fas fa-chess-bishop",searchTerms:[]},{title:"fas fa-chess-board",searchTerms:[]},{title:"fas fa-chess-king",searchTerms:[]},{title:"fas fa-chess-knight",searchTerms:[]},{title:"fas fa-chess-pawn",searchTerms:[]},{title:"fas fa-chess-queen",searchTerms:[]},{title:"fas fa-chess-rook",searchTerms:[]},{title:"fas fa-chevron-circle-down",searchTerms:["arrow","dropdown","menu","more"]},{title:"fas fa-chevron-circle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-chevron-circle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-chevron-circle-up",searchTerms:["arrow"]},{title:"fas fa-chevron-down",searchTerms:[]},{title:"fas fa-chevron-left",searchTerms:["back","bracket","previous"]},{title:"fas fa-chevron-right",searchTerms:["bracket","forward","next"]},{title:"fas fa-chevron-up",searchTerms:[]},{title:"fas fa-child",searchTerms:[]},{title:"fab fa-chrome",searchTerms:["browser"]},{title:"fas fa-church",searchTerms:["building","community","religion"]},{title:"fas fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"far fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"fas fa-circle-notch",searchTerms:["circle-o-notch"]},{title:"fas fa-city",searchTerms:["buildings","busy","skyscrapers","urban","windows"]},{title:"fas fa-clipboard",searchTerms:["paste"]},{title:"far fa-clipboard",searchTerms:["paste"]},{title:"fas fa-clipboard-check",searchTerms:["accept","agree","confirm","done","ok","select","success","todo","yes"]},{title:"fas fa-clipboard-list",searchTerms:["checklist","completed","done","finished","intinerary","ol","schedule","todo","ul"]},{title:"fas fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"far fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"fas fa-clone",searchTerms:["copy","duplicate"]},{title:"far fa-clone",searchTerms:["copy","duplicate"]},{title:"fas fa-closed-captioning",searchTerms:["cc"]},{title:"far fa-closed-captioning",searchTerms:["cc"]},{title:"fas fa-cloud",searchTerms:["save"]},{title:"fas fa-cloud-download-alt",searchTerms:["import"]},{title:"fas fa-cloud-meatball",searchTerms:[]},{title:"fas fa-cloud-moon",searchTerms:["crescent","evening","halloween","holiday","lunar","night","sky"]},{title:"fas fa-cloud-moon-rain",searchTerms:[]},{title:"fas fa-cloud-rain",searchTerms:["precipitation"]},{title:"fas fa-cloud-showers-heavy",searchTerms:["precipitation","rain","storm"]},{title:"fas fa-cloud-sun",searchTerms:["day","daytime","fall","outdoors","seasonal"]},{title:"fas fa-cloud-sun-rain",searchTerms:[]},{title:"fas fa-cloud-upload-alt",searchTerms:["cloud-upload"]},{title:"fab fa-cloudscale",searchTerms:[]},{title:"fab fa-cloudsmith",searchTerms:[]},{title:"fab fa-cloudversify",searchTerms:[]},{title:"fas fa-cocktail",searchTerms:["alcohol","beverage","drink"]},{title:"fas fa-code",searchTerms:["brackets","html"]},{title:"fas fa-code-branch",searchTerms:["branch","code-fork","fork","git","github","rebase","svn","vcs","version"]},{title:"fab fa-codepen",searchTerms:[]},{title:"fab fa-codiepie",searchTerms:[]},{title:"fas fa-coffee",searchTerms:["beverage","breakfast","cafe","drink","fall","morning","mug","seasonal","tea"]},{title:"fas fa-cog",searchTerms:["settings"]},{title:"fas fa-cogs",searchTerms:["gears","settings"]},{title:"fas fa-coins",searchTerms:[]},{title:"fas fa-columns",searchTerms:["dashboard","panes","split"]},{title:"fas fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-dollar",searchTerms:[]},{title:"fas fa-comment-dots",searchTerms:[]},{title:"far fa-comment-dots",searchTerms:[]},{title:"fas fa-comment-slash",searchTerms:[]},{title:"fas fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comments-dollar",searchTerms:[]},{title:"fas fa-compact-disc",searchTerms:["bluray","cd","disc","media"]},{title:"fas fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"far fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"fas fa-compress",searchTerms:["collapse","combine","contract","merge","smaller"]},{title:"fas fa-concierge-bell",searchTerms:["attention","hotel","service","support"]},{title:"fab fa-connectdevelop",searchTerms:[]},{title:"fab fa-contao",searchTerms:[]},{title:"fas fa-cookie",searchTerms:["baked good","chips","food","snack","sweet","treat"]},{title:"fas fa-cookie-bite",searchTerms:["baked good","bitten","chips","eating","food","snack","sweet","treat"]},{title:"fas fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"far fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"fas fa-copyright",searchTerms:[]},{title:"far fa-copyright",searchTerms:[]},{title:"fas fa-couch",searchTerms:["furniture","sofa"]},{title:"fab fa-cpanel",searchTerms:[]},{title:"fab fa-creative-commons",searchTerms:[]},{title:"fab fa-creative-commons-by",searchTerms:[]},{title:"fab fa-creative-commons-nc",searchTerms:[]},{title:"fab fa-creative-commons-nc-eu",searchTerms:[]},{title:"fab fa-creative-commons-nc-jp",searchTerms:[]},{title:"fab fa-creative-commons-nd",searchTerms:[]},{title:"fab fa-creative-commons-pd",searchTerms:[]},{title:"fab fa-creative-commons-pd-alt",searchTerms:[]},{title:"fab fa-creative-commons-remix",searchTerms:[]},{title:"fab fa-creative-commons-sa",searchTerms:[]},{title:"fab fa-creative-commons-sampling",searchTerms:[]},{title:"fab fa-creative-commons-sampling-plus",searchTerms:[]},{title:"fab fa-creative-commons-share",searchTerms:[]},{title:"fab fa-creative-commons-zero",searchTerms:[]},{title:"fas fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"far fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"fab fa-critical-role",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-crop",searchTerms:["design"]},{title:"fas fa-crop-alt",searchTerms:[]},{title:"fas fa-cross",searchTerms:["catholicism","christianity"]},{title:"fas fa-crosshairs",searchTerms:["gpd","picker","position"]},{title:"fas fa-crow",searchTerms:["bird","bullfrog","fauna","halloween","holiday","toad"]},{title:"fas fa-crown",searchTerms:[]},{title:"fab fa-css3",searchTerms:["code"]},{title:"fab fa-css3-alt",searchTerms:[]},{title:"fas fa-cube",searchTerms:["package"]},{title:"fas fa-cubes",searchTerms:["packages"]},{title:"fas fa-cut",searchTerms:["scissors"]},{title:"fab fa-cuttlefish",searchTerms:[]},{title:"fab fa-d-and-d",searchTerms:[]},{title:"fab fa-d-and-d-beyond",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","gaming","tabletop"]},{title:"fab fa-dashcube",searchTerms:[]},{title:"fas fa-database",searchTerms:[]},{title:"fas fa-deaf",searchTerms:[]},{title:"fab fa-delicious",searchTerms:[]},{title:"fas fa-democrat",searchTerms:["american","democratic party","donkey","election","left","left-wing","liberal","politics","usa"]},{title:"fab fa-deploydog",searchTerms:[]},{title:"fab fa-deskpro",searchTerms:[]},{title:"fas fa-desktop",searchTerms:["computer","cpu","demo","desktop","device","machine","monitor","pc","screen"]},{title:"fab fa-dev",searchTerms:[]},{title:"fab fa-deviantart",searchTerms:[]},{title:"fas fa-dharmachakra",searchTerms:["buddhism","buddhist","wheel of dharma"]},{title:"fas fa-diagnoses",searchTerms:[]},{title:"fas fa-dice",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-d20",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-d6",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-five",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-four",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-one",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-six",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-three",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-two",searchTerms:["chance","gambling","game","roll"]},{title:"fab fa-digg",searchTerms:[]},{title:"fab fa-digital-ocean",searchTerms:[]},{title:"fas fa-digital-tachograph",searchTerms:[]},{title:"fas fa-directions",searchTerms:[]},{title:"fab fa-discord",searchTerms:[]},{title:"fab fa-discourse",searchTerms:[]},{title:"fas fa-divide",searchTerms:[]},{title:"fas fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"far fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"fas fa-dna",searchTerms:["double helix","helix"]},{title:"fab fa-dochub",searchTerms:[]},{title:"fab fa-docker",searchTerms:[]},{title:"fas fa-dog",searchTerms:["canine","fauna","mammmal","pet","pooch","puppy","woof"]},{title:"fas fa-dollar-sign",searchTerms:["$","dollar-sign","money","price","usd"]},{title:"fas fa-dolly",searchTerms:[]},{title:"fas fa-dolly-flatbed",searchTerms:[]},{title:"fas fa-donate",searchTerms:["generosity","give"]},{title:"fas fa-door-closed",searchTerms:[]},{title:"fas fa-door-open",searchTerms:[]},{title:"fas fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"far fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"fas fa-dove",searchTerms:["bird","fauna","flying","peace"]},{title:"fas fa-download",searchTerms:["import"]},{title:"fab fa-draft2digital",searchTerms:[]},{title:"fas fa-drafting-compass",searchTerms:["mechanical drawing","plot","plotting"]},{title:"fas fa-dragon",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy"]},{title:"fas fa-draw-polygon",searchTerms:[]},{title:"fab fa-dribbble",searchTerms:[]},{title:"fab fa-dribbble-square",searchTerms:[]},{title:"fab fa-dropbox",searchTerms:[]},{title:"fas fa-drum",searchTerms:["instrument","music","percussion","snare","sound"]},{title:"fas fa-drum-steelpan",searchTerms:["calypso","instrument","music","percussion","reggae","snare","sound","steel","tropical"]},{title:"fas fa-drumstick-bite",searchTerms:[]},{title:"fab fa-drupal",searchTerms:[]},{title:"fas fa-dumbbell",searchTerms:["exercise","gym","strength","weight","weight-lifting"]},{title:"fas fa-dungeon",searchTerms:["Dungeons & Dragons","d&d","dnd","door","entrance","fantasy","gate"]},{title:"fab fa-dyalog",searchTerms:[]},{title:"fab fa-earlybirds",searchTerms:[]},{title:"fab fa-ebay",searchTerms:[]},{title:"fab fa-edge",searchTerms:["browser","ie"]},{title:"fas fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"far fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"fas fa-eject",searchTerms:[]},{title:"fab fa-elementor",searchTerms:[]},{title:"fas fa-ellipsis-h",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fas fa-ellipsis-v",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fab fa-ello",searchTerms:[]},{title:"fab fa-ember",searchTerms:[]},{title:"fab fa-empire",searchTerms:[]},{title:"fas fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open-text",searchTerms:[]},{title:"fas fa-envelope-square",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fab fa-envira",searchTerms:["leaf"]},{title:"fas fa-equals",searchTerms:[]},{title:"fas fa-eraser",searchTerms:["delete","remove"]},{title:"fab fa-erlang",searchTerms:[]},{title:"fab fa-ethereum",searchTerms:[]},{title:"fab fa-etsy",searchTerms:[]},{title:"fas fa-euro-sign",searchTerms:["eur"]},{title:"fas fa-exchange-alt",searchTerms:["arrow","arrows","exchange","reciprocate","return","swap","transfer"]},{title:"fas fa-exclamation",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-circle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-triangle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-expand",searchTerms:["bigger","enlarge","resize"]},{title:"fas fa-expand-arrows-alt",searchTerms:["arrows-alt","bigger","enlarge","move","resize"]},{title:"fab fa-expeditedssl",searchTerms:[]},{title:"fas fa-external-link-alt",searchTerms:["external-link","new","open"]},{title:"fas fa-external-link-square-alt",searchTerms:["external-link-square","new","open"]},{title:"fas fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"far fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"fas fa-eye-dropper",searchTerms:["eyedropper"]},{title:"fas fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"far fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"fab fa-facebook",searchTerms:["facebook-official","social network"]},{title:"fab fa-facebook-f",searchTerms:["facebook"]},{title:"fab fa-facebook-messenger",searchTerms:[]},{title:"fab fa-facebook-square",searchTerms:["social network"]},{title:"fab fa-fantasy-flight-games",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-fast-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-fast-forward",searchTerms:["end","last","next"]},{title:"fas fa-fax",searchTerms:[]},{title:"fas fa-feather",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-feather-alt",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-female",searchTerms:["human","person","profile","user","woman"]},{title:"fas fa-fighter-jet",searchTerms:["airplane","fast","fly","goose","maverick","plane","quick","top gun","transportation","travel"]},{title:"fas fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"far fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"fas fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"far fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"fas fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"far fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"fas fa-file-audio",searchTerms:[]},{title:"far fa-file-audio",searchTerms:[]},{title:"fas fa-file-code",searchTerms:[]},{title:"far fa-file-code",searchTerms:[]},{title:"fas fa-file-contract",searchTerms:["agreement","binding","document","legal","signature"]},{title:"fas fa-file-csv",searchTerms:["spreadsheets"]},{title:"fas fa-file-download",searchTerms:[]},{title:"fas fa-file-excel",searchTerms:[]},{title:"far fa-file-excel",searchTerms:[]},{title:"fas fa-file-export",searchTerms:[]},{title:"fas fa-file-image",searchTerms:[]},{title:"far fa-file-image",searchTerms:[]},{title:"fas fa-file-import",searchTerms:[]},{title:"fas fa-file-invoice",searchTerms:["bill","document","receipt"]},{title:"fas fa-file-invoice-dollar",searchTerms:["$","bill","document","dollar-sign","money","receipt","usd"]},{title:"fas fa-file-medical",searchTerms:[]},{title:"fas fa-file-medical-alt",searchTerms:[]},{title:"fas fa-file-pdf",searchTerms:[]},{title:"far fa-file-pdf",searchTerms:[]},{title:"fas fa-file-powerpoint",searchTerms:[]},{title:"far fa-file-powerpoint",searchTerms:[]},{title:"fas fa-file-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-file-signature",searchTerms:["John Hancock","contract","document","name"]},{title:"fas fa-file-upload",searchTerms:[]},{title:"fas fa-file-video",searchTerms:[]},{title:"far fa-file-video",searchTerms:[]},{title:"fas fa-file-word",searchTerms:[]},{title:"far fa-file-word",searchTerms:[]},{title:"fas fa-fill",searchTerms:["bucket","color","paint","paint bucket"]},{title:"fas fa-fill-drip",searchTerms:["bucket","color","drop","paint","paint bucket","spill"]},{title:"fas fa-film",searchTerms:["movie"]},{title:"fas fa-filter",searchTerms:["funnel","options"]},{title:"fas fa-fingerprint",searchTerms:["human","id","identification","lock","smudge","touch","unique","unlock"]},{title:"fas fa-fire",searchTerms:["caliente","flame","heat","hot","popular"]},{title:"fas fa-fire-extinguisher",searchTerms:[]},{title:"fab fa-firefox",searchTerms:["browser"]},{title:"fas fa-first-aid",searchTerms:[]},{title:"fab fa-first-order",searchTerms:[]},{title:"fab fa-first-order-alt",searchTerms:[]},{title:"fab fa-firstdraft",searchTerms:[]},{title:"fas fa-fish",searchTerms:["fauna","gold","swimming"]},{title:"fas fa-fist-raised",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","hand","ki","monk","resist","strength","unarmed combat"]},{title:"fas fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"far fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"fas fa-flag-checkered",searchTerms:["notice","notification","notify","pole","racing","report","symbol"]},{title:"fas fa-flag-usa",searchTerms:["betsy ross","country","old glory","stars","stripes","symbol"]},{title:"fas fa-flask",searchTerms:["beaker","experimental","labs","science"]},{title:"fab fa-flickr",searchTerms:[]},{title:"fab fa-flipboard",searchTerms:[]},{title:"fas fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"far fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"fab fa-fly",searchTerms:[]},{title:"fas fa-folder",searchTerms:[]},{title:"far fa-folder",searchTerms:[]},{title:"fas fa-folder-minus",searchTerms:["archive","delete","negative","remove"]},{title:"fas fa-folder-open",searchTerms:[]},{title:"far fa-folder-open",searchTerms:[]},{title:"fas fa-folder-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-font",searchTerms:["text"]},{title:"fab fa-font-awesome",searchTerms:["meanpath"]},{title:"fab fa-font-awesome-alt",searchTerms:[]},{title:"fab fa-font-awesome-flag",searchTerms:[]},{title:"far fa-font-awesome-logo-full",searchTerms:[]},{title:"fas fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-fonticons",searchTerms:[]},{title:"fab fa-fonticons-fi",searchTerms:[]},{title:"fas fa-football-ball",searchTerms:["fall","pigskin","seasonal"]},{title:"fab fa-fort-awesome",searchTerms:["castle"]},{title:"fab fa-fort-awesome-alt",searchTerms:["castle"]},{title:"fab fa-forumbee",searchTerms:[]},{title:"fas fa-forward",searchTerms:["forward","next"]},{title:"fab fa-foursquare",searchTerms:[]},{title:"fab fa-free-code-camp",searchTerms:[]},{title:"fab fa-freebsd",searchTerms:[]},{title:"fas fa-frog",searchTerms:["amphibian","bullfrog","fauna","hop","kermit","kiss","prince","ribbit","toad","wart"]},{title:"fas fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fas fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fab fa-fulcrum",searchTerms:[]},{title:"fas fa-funnel-dollar",searchTerms:[]},{title:"fas fa-futbol",searchTerms:["ball","football","soccer"]},{title:"far fa-futbol",searchTerms:["ball","football","soccer"]},{title:"fab fa-galactic-republic",searchTerms:["politics","star wars"]},{title:"fab fa-galactic-senate",searchTerms:["star wars"]},{title:"fas fa-gamepad",searchTerms:["controller"]},{title:"fas fa-gas-pump",searchTerms:[]},{title:"fas fa-gavel",searchTerms:["hammer","judge","lawyer","opinion"]},{title:"fas fa-gem",searchTerms:["diamond"]},{title:"far fa-gem",searchTerms:["diamond"]},{title:"fas fa-genderless",searchTerms:[]},{title:"fab fa-get-pocket",searchTerms:[]},{title:"fab fa-gg",searchTerms:[]},{title:"fab fa-gg-circle",searchTerms:[]},{title:"fas fa-ghost",searchTerms:["apparition","blinky","clyde","floating","halloween","holiday","inky","pinky","spirit"]},{title:"fas fa-gift",searchTerms:["generosity","giving","party","present","wrapped"]},{title:"fab fa-git",searchTerms:[]},{title:"fab fa-git-square",searchTerms:[]},{title:"fab fa-github",searchTerms:["octocat"]},{title:"fab fa-github-alt",searchTerms:["octocat"]},{title:"fab fa-github-square",searchTerms:["octocat"]},{title:"fab fa-gitkraken",searchTerms:[]},{title:"fab fa-gitlab",searchTerms:["Axosoft"]},{title:"fab fa-gitter",searchTerms:[]},{title:"fas fa-glass-martini",searchTerms:["alcohol","bar","beverage","drink","glass","liquor","martini"]},{title:"fas fa-glass-martini-alt",searchTerms:[]},{title:"fas fa-glasses",searchTerms:["foureyes","hipster","nerd","reading","sight","spectacles"]},{title:"fab fa-glide",searchTerms:[]},{title:"fab fa-glide-g",searchTerms:[]},{title:"fas fa-globe",searchTerms:["all","coordinates","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-africa",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-americas",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-asia",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fab fa-gofore",searchTerms:[]},{title:"fas fa-golf-ball",searchTerms:[]},{title:"fab fa-goodreads",searchTerms:[]},{title:"fab fa-goodreads-g",searchTerms:[]},{title:"fab fa-google",searchTerms:[]},{title:"fab fa-google-drive",searchTerms:[]},{title:"fab fa-google-play",searchTerms:[]},{title:"fab fa-google-plus",searchTerms:["google-plus-circle","google-plus-official"]},{title:"fab fa-google-plus-g",searchTerms:["google-plus","social network"]},{title:"fab fa-google-plus-square",searchTerms:["social network"]},{title:"fab fa-google-wallet",searchTerms:[]},{title:"fas fa-gopuram",searchTerms:["building","entrance","hinduism","temple","tower"]},{title:"fas fa-graduation-cap",searchTerms:["learning","school","student"]},{title:"fab fa-gratipay",searchTerms:["favorite","heart","like","love"]},{title:"fab fa-grav",searchTerms:[]},{title:"fas fa-greater-than",searchTerms:[]},{title:"fas fa-greater-than-equal",searchTerms:[]},{title:"fas fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"far fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"fas fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"far fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"fas fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"far fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"fas fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"far fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"fas fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"far fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"fas fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"far fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"fas fa-grip-horizontal",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fas fa-grip-vertical",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fab fa-gripfire",searchTerms:[]},{title:"fab fa-grunt",searchTerms:[]},{title:"fab fa-gulp",searchTerms:[]},{title:"fas fa-h-square",searchTerms:["hospital","hotel"]},{title:"fab fa-hacker-news",searchTerms:[]},{title:"fab fa-hacker-news-square",searchTerms:[]},{title:"fab fa-hackerrank",searchTerms:[]},{title:"fas fa-hammer",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fas fa-hamsa",searchTerms:["amulet","christianity","islam","jewish","judaism","muslim","protection"]},{title:"fas fa-hand-holding",searchTerms:[]},{title:"fas fa-hand-holding-heart",searchTerms:[]},{title:"fas fa-hand-holding-usd",searchTerms:["$","dollar sign","donation","giving","money","price"]},{title:"fas fa-hand-lizard",searchTerms:[]},{title:"far fa-hand-lizard",searchTerms:[]},{title:"fas fa-hand-paper",searchTerms:["stop"]},{title:"far fa-hand-paper",searchTerms:["stop"]},{title:"fas fa-hand-peace",searchTerms:[]},{title:"far fa-hand-peace",searchTerms:[]},{title:"fas fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"far fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"fas fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"far fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"fas fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"far fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"fas fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"far fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"fas fa-hand-pointer",searchTerms:["select"]},{title:"far fa-hand-pointer",searchTerms:["select"]},{title:"fas fa-hand-rock",searchTerms:[]},{title:"far fa-hand-rock",searchTerms:[]},{title:"fas fa-hand-scissors",searchTerms:[]},{title:"far fa-hand-scissors",searchTerms:[]},{title:"fas fa-hand-spock",searchTerms:[]},{title:"far fa-hand-spock",searchTerms:[]},{title:"fas fa-hands",searchTerms:[]},{title:"fas fa-hands-helping",searchTerms:["aid","assistance","partnership","volunteering"]},{title:"fas fa-handshake",searchTerms:["greeting","partnership"]},{title:"far fa-handshake",searchTerms:["greeting","partnership"]},{title:"fas fa-hanukiah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-hashtag",searchTerms:[]},{title:"fas fa-hat-wizard",searchTerms:["Dungeons & Dragons","buckle","cloth","clothing","d&d","dnd","fantasy","halloween","holiday","mage","magic","pointy","witch"]},{title:"fas fa-haykal",searchTerms:["bahai","bah'","star"]},{title:"fas fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"far fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"fas fa-heading",searchTerms:["header"]},{title:"fas fa-headphones",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headphones-alt",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headset",searchTerms:["audio","gamer","gaming","listen","live chat","microphone","shot caller","sound","support","telemarketer"]},{title:"fas fa-heart",searchTerms:["favorite","like","love"]},{title:"far fa-heart",searchTerms:["favorite","like","love"]},{title:"fas fa-heartbeat",searchTerms:["ekg","lifeline","vital signs"]},{title:"fas fa-helicopter",searchTerms:["airwolf","apache","chopper","flight","fly"]},{title:"fas fa-highlighter",searchTerms:["edit","marker","sharpie","update","write"]},{title:"fas fa-hiking",searchTerms:["activity","backpack","fall","fitness","outdoors","seasonal","walking"]},{title:"fas fa-hippo",searchTerms:["fauna","hungry","mammmal"]},{title:"fab fa-hips",searchTerms:[]},{title:"fab fa-hire-a-helper",searchTerms:[]},{title:"fas fa-history",searchTerms:[]},{title:"fas fa-hockey-puck",searchTerms:[]},{title:"fas fa-home",searchTerms:["house","main"]},{title:"fab fa-hooli",searchTerms:[]},{title:"fab fa-hornbill",searchTerms:[]},{title:"fas fa-horse",searchTerms:["equus","fauna","mammmal","neigh"]},{title:"fas fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"far fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-alt",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-symbol",searchTerms:[]},{title:"fas fa-hot-tub",searchTerms:[]},{title:"fas fa-hotel",searchTerms:["building","lodging"]},{title:"fab fa-hotjar",searchTerms:[]},{title:"fas fa-hourglass",searchTerms:[]},{title:"far fa-hourglass",searchTerms:[]},{title:"fas fa-hourglass-end",searchTerms:[]},{title:"fas fa-hourglass-half",searchTerms:[]},{title:"fas fa-hourglass-start",searchTerms:[]},{title:"fas fa-house-damage",searchTerms:["devastation","home"]},{title:"fab fa-houzz",searchTerms:[]},{title:"fas fa-hryvnia",searchTerms:["money"]},{title:"fab fa-html5",searchTerms:[]},{title:"fab fa-hubspot",searchTerms:[]},{title:"fas fa-i-cursor",searchTerms:[]},{title:"fas fa-id-badge",searchTerms:[]},{title:"far fa-id-badge",searchTerms:[]},{title:"fas fa-id-card",searchTerms:["document","identification","issued"]},{title:"far fa-id-card",searchTerms:["document","identification","issued"]},{title:"fas fa-id-card-alt",searchTerms:["demographics"]},{title:"fas fa-image",searchTerms:["album","photo","picture"]},{title:"far fa-image",searchTerms:["album","photo","picture"]},{title:"fas fa-images",searchTerms:["album","photo","picture"]},{title:"far fa-images",searchTerms:["album","photo","picture"]},{title:"fab fa-imdb",searchTerms:[]},{title:"fas fa-inbox",searchTerms:[]},{title:"fas fa-indent",searchTerms:[]},{title:"fas fa-industry",searchTerms:["factory","manufacturing"]},{title:"fas fa-infinity",searchTerms:[]},{title:"fas fa-info",searchTerms:["details","help","information","more"]},{title:"fas fa-info-circle",searchTerms:["details","help","information","more"]},{title:"fab fa-instagram",searchTerms:[]},{title:"fab fa-internet-explorer",searchTerms:["browser","ie"]},{title:"fab fa-ioxhost",searchTerms:[]},{title:"fas fa-italic",searchTerms:["italics"]},{title:"fab fa-itunes",searchTerms:[]},{title:"fab fa-itunes-note",searchTerms:[]},{title:"fab fa-java",searchTerms:[]},{title:"fas fa-jedi",searchTerms:["star wars"]},{title:"fab fa-jedi-order",searchTerms:["star wars"]},{title:"fab fa-jenkins",searchTerms:[]},{title:"fab fa-joget",searchTerms:[]},{title:"fas fa-joint",searchTerms:["blunt","cannabis","doobie","drugs","marijuana","roach","smoke","smoking","spliff"]},{title:"fab fa-joomla",searchTerms:[]},{title:"fas fa-journal-whills",searchTerms:["book","jedi","star wars","the force"]},{title:"fab fa-js",searchTerms:[]},{title:"fab fa-js-square",searchTerms:[]},{title:"fab fa-jsfiddle",searchTerms:[]},{title:"fas fa-kaaba",searchTerms:["building","cube","islam","muslim"]},{title:"fab fa-kaggle",searchTerms:[]},{title:"fas fa-key",searchTerms:["password","unlock"]},{title:"fab fa-keybase",searchTerms:[]},{title:"fas fa-keyboard",searchTerms:["input","type"]},{title:"far fa-keyboard",searchTerms:["input","type"]},{title:"fab fa-keycdn",searchTerms:[]},{title:"fas fa-khanda",searchTerms:["chakkar","sikh","sikhism","sword"]},{title:"fab fa-kickstarter",searchTerms:[]},{title:"fab fa-kickstarter-k",searchTerms:[]},{title:"fas fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiwi-bird",searchTerms:["bird","fauna"]},{title:"fab fa-korvue",searchTerms:[]},{title:"fas fa-landmark",searchTerms:["building","historic","memoroable","politics"]},{title:"fas fa-language",searchTerms:["dialect","idiom","localize","speech","translate","vernacular"]},{title:"fas fa-laptop",searchTerms:["computer","cpu","dell","demo","device","dude you're getting","mac","macbook","machine","pc"]},{title:"fas fa-laptop-code",searchTerms:[]},{title:"fab fa-laravel",searchTerms:[]},{title:"fab fa-lastfm",searchTerms:[]},{title:"fab fa-lastfm-square",searchTerms:[]},{title:"fas fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"far fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"fas fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-layer-group",searchTerms:["layers"]},{title:"fas fa-leaf",searchTerms:["eco","flora","nature","plant"]},{title:"fab fa-leanpub",searchTerms:[]},{title:"fas fa-lemon",searchTerms:["food"]},{title:"far fa-lemon",searchTerms:["food"]},{title:"fab fa-less",searchTerms:[]},{title:"fas fa-less-than",searchTerms:[]},{title:"fas fa-less-than-equal",searchTerms:[]},{title:"fas fa-level-down-alt",searchTerms:["level-down"]},{title:"fas fa-level-up-alt",searchTerms:["level-up"]},{title:"fas fa-life-ring",searchTerms:["support"]},{title:"far fa-life-ring",searchTerms:["support"]},{title:"fas fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"far fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"fab fa-line",searchTerms:[]},{title:"fas fa-link",searchTerms:["chain"]},{title:"fab fa-linkedin",searchTerms:["linkedin-square"]},{title:"fab fa-linkedin-in",searchTerms:["linkedin"]},{title:"fab fa-linode",searchTerms:[]},{title:"fab fa-linux",searchTerms:["tux"]},{title:"fas fa-lira-sign",searchTerms:["try","turkish"]},{title:"fas fa-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"far fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-ol",searchTerms:["checklist","list","numbers","ol","todo","ul"]},{title:"fas fa-list-ul",searchTerms:["checklist","list","ol","todo","ul"]},{title:"fas fa-location-arrow",searchTerms:["address","coordinates","gps","location","map","place","where"]},{title:"fas fa-lock",searchTerms:["admin","protect","security"]},{title:"fas fa-lock-open",searchTerms:["admin","lock","open","password","protect"]},{title:"fas fa-long-arrow-alt-down",searchTerms:["long-arrow-down"]},{title:"fas fa-long-arrow-alt-left",searchTerms:["back","long-arrow-left","previous"]},{title:"fas fa-long-arrow-alt-right",searchTerms:["long-arrow-right"]},{title:"fas fa-long-arrow-alt-up",searchTerms:["long-arrow-up"]},{title:"fas fa-low-vision",searchTerms:[]},{title:"fas fa-luggage-cart",searchTerms:[]},{title:"fab fa-lyft",searchTerms:[]},{title:"fab fa-magento",searchTerms:[]},{title:"fas fa-magic",searchTerms:["autocomplete","automatic","mage","magic","spell","witch","wizard"]},{title:"fas fa-magnet",searchTerms:[]},{title:"fas fa-mail-bulk",searchTerms:[]},{title:"fab fa-mailchimp",searchTerms:[]},{title:"fas fa-male",searchTerms:["human","man","person","profile","user"]},{title:"fab fa-mandalorian",searchTerms:[]},{title:"fas fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"far fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"fas fa-map-marked",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marked-alt",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marker",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-marker-alt",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-pin",searchTerms:["address","coordinates","gps","localize","location","map","marker","place","position","travel","where"]},{title:"fas fa-map-signs",searchTerms:[]},{title:"fab fa-markdown",searchTerms:[]},{title:"fas fa-marker",searchTerms:["edit","sharpie","update","write"]},{title:"fas fa-mars",searchTerms:["male"]},{title:"fas fa-mars-double",searchTerms:[]},{title:"fas fa-mars-stroke",searchTerms:[]},{title:"fas fa-mars-stroke-h",searchTerms:[]},{title:"fas fa-mars-stroke-v",searchTerms:[]},{title:"fas fa-mask",searchTerms:["costume","disguise","halloween","holiday","secret","super hero"]},{title:"fab fa-mastodon",searchTerms:[]},{title:"fab fa-maxcdn",searchTerms:[]},{title:"fas fa-medal",searchTerms:[]},{title:"fab fa-medapps",searchTerms:[]},{title:"fab fa-medium",searchTerms:[]},{title:"fab fa-medium-m",searchTerms:[]},{title:"fas fa-medkit",searchTerms:["first aid","firstaid","health","help","support"]},{title:"fab fa-medrt",searchTerms:[]},{title:"fab fa-meetup",searchTerms:[]},{title:"fab fa-megaport",searchTerms:[]},{title:"fas fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-memory",searchTerms:["DIMM","RAM"]},{title:"fas fa-menorah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-mercury",searchTerms:["transgender"]},{title:"fas fa-meteor",searchTerms:[]},{title:"fas fa-microchip",searchTerms:["cpu","processor"]},{title:"fas fa-microphone",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microphone-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microscope",searchTerms:[]},{title:"fab fa-microsoft",searchTerms:[]},{title:"fas fa-minus",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fas fa-minus-circle",searchTerms:["delete","hide","negative","remove","trash"]},{title:"fas fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"far fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fab fa-mix",searchTerms:[]},{title:"fab fa-mixcloud",searchTerms:[]},{title:"fab fa-mizuni",searchTerms:[]},{title:"fas fa-mobile",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fas fa-mobile-alt",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fab fa-modx",searchTerms:[]},{title:"fab fa-monero",searchTerms:[]},{title:"fas fa-money-bill",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"far fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-wave",searchTerms:[]},{title:"fas fa-money-bill-wave-alt",searchTerms:[]},{title:"fas fa-money-check",searchTerms:["bank check","cheque"]},{title:"fas fa-money-check-alt",searchTerms:["bank check","cheque"]},{title:"fas fa-monument",searchTerms:["building","historic","memoroable"]},{title:"fas fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"far fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"fas fa-mortar-pestle",searchTerms:["crush","culinary","grind","medical","mix","spices"]},{title:"fas fa-mosque",searchTerms:["building","islam","muslim"]},{title:"fas fa-motorcycle",searchTerms:["bike","machine","transportation","vehicle"]},{title:"fas fa-mountain",searchTerms:[]},{title:"fas fa-mouse-pointer",searchTerms:["select"]},{title:"fas fa-music",searchTerms:["note","sound"]},{title:"fab fa-napster",searchTerms:[]},{title:"fab fa-neos",searchTerms:[]},{title:"fas fa-network-wired",searchTerms:[]},{title:"fas fa-neuter",searchTerms:[]},{title:"fas fa-newspaper",searchTerms:["article","press"]},{title:"far fa-newspaper",searchTerms:["article","press"]},{title:"fab fa-nimblr",searchTerms:[]},{title:"fab fa-nintendo-switch",searchTerms:[]},{title:"fab fa-node",searchTerms:[]},{title:"fab fa-node-js",searchTerms:[]},{title:"fas fa-not-equal",searchTerms:[]},{title:"fas fa-notes-medical",searchTerms:[]},{title:"fab fa-npm",searchTerms:[]},{title:"fab fa-ns8",searchTerms:[]},{title:"fab fa-nutritionix",searchTerms:[]},{title:"fas fa-object-group",searchTerms:["design"]},{title:"far fa-object-group",searchTerms:["design"]},{title:"fas fa-object-ungroup",searchTerms:["design"]},{title:"far fa-object-ungroup",searchTerms:["design"]},{title:"fab fa-odnoklassniki",searchTerms:[]},{title:"fab fa-odnoklassniki-square",searchTerms:[]},{title:"fas fa-oil-can",searchTerms:[]},{title:"fab fa-old-republic",searchTerms:["politics","star wars"]},{title:"fas fa-om",searchTerms:["buddhism","hinduism","jainism","mantra"]},{title:"fab fa-opencart",searchTerms:[]},{title:"fab fa-openid",searchTerms:[]},{title:"fab fa-opera",searchTerms:[]},{title:"fab fa-optin-monster",searchTerms:[]},{title:"fab fa-osi",searchTerms:[]},{title:"fas fa-otter",searchTerms:["fauna","mammmal"]},{title:"fas fa-outdent",searchTerms:[]},{title:"fab fa-page4",searchTerms:[]},{title:"fab fa-pagelines",searchTerms:["eco","flora","leaf","leaves","nature","plant","tree"]},{title:"fas fa-paint-brush",searchTerms:[]},{title:"fas fa-paint-roller",searchTerms:["brush","painting","tool"]},{title:"fas fa-palette",searchTerms:["colors","painting"]},{title:"fab fa-palfed",searchTerms:[]},{title:"fas fa-pallet",searchTerms:[]},{title:"fas fa-paper-plane",searchTerms:[]},{title:"far fa-paper-plane",searchTerms:[]},{title:"fas fa-paperclip",searchTerms:["attachment"]},{title:"fas fa-parachute-box",searchTerms:["aid","assistance","rescue","supplies"]},{title:"fas fa-paragraph",searchTerms:[]},{title:"fas fa-parking",searchTerms:[]},{title:"fas fa-passport",searchTerms:["document","identification","issued"]},{title:"fas fa-pastafarianism",searchTerms:["agnosticism","atheism","flying spaghetti monster","fsm"]},{title:"fas fa-paste",searchTerms:["clipboard","copy"]},{title:"fab fa-patreon",searchTerms:[]},{title:"fas fa-pause",searchTerms:["wait"]},{title:"fas fa-pause-circle",searchTerms:[]},{title:"far fa-pause-circle",searchTerms:[]},{title:"fas fa-paw",searchTerms:["animal","pet"]},{title:"fab fa-paypal",searchTerms:[]},{title:"fas fa-peace",searchTerms:[]},{title:"fas fa-pen",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-alt",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-fancy",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-nib",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-square",searchTerms:["edit","pencil-square","update","write"]},{title:"fas fa-pencil-alt",searchTerms:["design","edit","pencil","update","write"]},{title:"fas fa-pencil-ruler",searchTerms:[]},{title:"fab fa-penny-arcade",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","pax","tabletop"]},{title:"fas fa-people-carry",searchTerms:["movers"]},{title:"fas fa-percent",searchTerms:[]},{title:"fas fa-percentage",searchTerms:[]},{title:"fab fa-periscope",searchTerms:[]},{title:"fas fa-person-booth",searchTerms:["changing","changing room","election","human","person","vote","voting"]},{title:"fab fa-phabricator",searchTerms:[]},{title:"fab fa-phoenix-framework",searchTerms:[]},{title:"fab fa-phoenix-squadron",searchTerms:[]},{title:"fas fa-phone",searchTerms:["call","earphone","number","support","telephone","voice"]},{title:"fas fa-phone-slash",searchTerms:[]},{title:"fas fa-phone-square",searchTerms:["call","number","support","telephone","voice"]},{title:"fas fa-phone-volume",searchTerms:["telephone","volume-control-phone"]},{title:"fab fa-php",searchTerms:[]},{title:"fab fa-pied-piper",searchTerms:[]},{title:"fab fa-pied-piper-alt",searchTerms:[]},{title:"fab fa-pied-piper-hat",searchTerms:["clothing"]},{title:"fab fa-pied-piper-pp",searchTerms:[]},{title:"fas fa-piggy-bank",searchTerms:["save","savings"]},{title:"fas fa-pills",searchTerms:["drugs","medicine"]},{title:"fab fa-pinterest",searchTerms:[]},{title:"fab fa-pinterest-p",searchTerms:[]},{title:"fab fa-pinterest-square",searchTerms:[]},{title:"fas fa-place-of-worship",searchTerms:[]},{title:"fas fa-plane",searchTerms:["airplane","destination","fly","location","mode","travel","trip"]},{title:"fas fa-plane-arrival",searchTerms:["airplane","arriving","destination","fly","land","landing","location","mode","travel","trip"]},{title:"fas fa-plane-departure",searchTerms:["airplane","departing","destination","fly","location","mode","take off","taking off","travel","trip"]},{title:"fas fa-play",searchTerms:["music","playing","sound","start"]},{title:"fas fa-play-circle",searchTerms:["playing","start"]},{title:"far fa-play-circle",searchTerms:["playing","start"]},{title:"fab fa-playstation",searchTerms:[]},{title:"fas fa-plug",searchTerms:["connect","online","power"]},{title:"fas fa-plus",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-circle",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"far fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-podcast",searchTerms:[]},{title:"fas fa-poll",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poll-h",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poo",searchTerms:[]},{title:"fas fa-poo-storm",searchTerms:["mess","poop","shit"]},{title:"fas fa-poop",searchTerms:[]},{title:"fas fa-portrait",searchTerms:[]},{title:"fas fa-pound-sign",searchTerms:["gbp"]},{title:"fas fa-power-off",searchTerms:["on","reboot","restart"]},{title:"fas fa-pray",searchTerms:[]},{title:"fas fa-praying-hands",searchTerms:[]},{title:"fas fa-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle-alt",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-print",searchTerms:[]},{title:"fas fa-procedures",searchTerms:[]},{title:"fab fa-product-hunt",searchTerms:[]},{title:"fas fa-project-diagram",searchTerms:[]},{title:"fab fa-pushed",searchTerms:[]},{title:"fas fa-puzzle-piece",searchTerms:["add-on","addon","section"]},{title:"fab fa-python",searchTerms:[]},{title:"fab fa-qq",searchTerms:[]},{title:"fas fa-qrcode",searchTerms:["scan"]},{title:"fas fa-question",searchTerms:["help","information","support","unknown"]},{title:"fas fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"far fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"fas fa-quidditch",searchTerms:[]},{title:"fab fa-quinscape",searchTerms:[]},{title:"fab fa-quora",searchTerms:[]},{title:"fas fa-quote-left",searchTerms:[]},{title:"fas fa-quote-right",searchTerms:[]},{title:"fas fa-quran",searchTerms:["book","islam","muslim"]},{title:"fab fa-r-project",searchTerms:[]},{title:"fas fa-rainbow",searchTerms:[]},{title:"fas fa-random",searchTerms:["shuffle","sort"]},{title:"fab fa-ravelry",searchTerms:[]},{title:"fab fa-react",searchTerms:[]},{title:"fab fa-reacteurope",searchTerms:[]},{title:"fab fa-readme",searchTerms:[]},{title:"fab fa-rebel",searchTerms:[]},{title:"fas fa-receipt",searchTerms:["check","invoice","table"]},{title:"fas fa-recycle",searchTerms:[]},{title:"fab fa-red-river",searchTerms:[]},{title:"fab fa-reddit",searchTerms:[]},{title:"fab fa-reddit-alien",searchTerms:[]},{title:"fab fa-reddit-square",searchTerms:[]},{title:"fas fa-redo",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-redo-alt",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-registered",searchTerms:[]},{title:"far fa-registered",searchTerms:[]},{title:"fab fa-renren",searchTerms:[]},{title:"fas fa-reply",searchTerms:[]},{title:"fas fa-reply-all",searchTerms:[]},{title:"fab fa-replyd",searchTerms:[]},{title:"fas fa-republican",searchTerms:["american","conservative","election","elephant","politics","republican party","right","right-wing","usa"]},{title:"fab fa-researchgate",searchTerms:[]},{title:"fab fa-resolving",searchTerms:[]},{title:"fas fa-retweet",searchTerms:["refresh","reload","share","swap"]},{title:"fab fa-rev",searchTerms:[]},{title:"fas fa-ribbon",searchTerms:["badge","cause","lapel","pin"]},{title:"fas fa-ring",searchTerms:["Dungeons & Dragons","Gollum","band","binding","d&d","dnd","fantasy","jewelry","precious"]},{title:"fas fa-road",searchTerms:["street"]},{title:"fas fa-robot",searchTerms:[]},{title:"fas fa-rocket",searchTerms:["app"]},{title:"fab fa-rocketchat",searchTerms:[]},{title:"fab fa-rockrms",searchTerms:[]},{title:"fas fa-route",searchTerms:[]},{title:"fas fa-rss",searchTerms:["blog"]},{title:"fas fa-rss-square",searchTerms:["blog","feed"]},{title:"fas fa-ruble-sign",searchTerms:["rub"]},{title:"fas fa-ruler",searchTerms:[]},{title:"fas fa-ruler-combined",searchTerms:[]},{title:"fas fa-ruler-horizontal",searchTerms:[]},{title:"fas fa-ruler-vertical",searchTerms:[]},{title:"fas fa-running",searchTerms:["jog","sprint"]},{title:"fas fa-rupee-sign",searchTerms:["indian","inr"]},{title:"fas fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"fas fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"fab fa-safari",searchTerms:["browser"]},{title:"fab fa-sass",searchTerms:[]},{title:"fas fa-save",searchTerms:["floppy","floppy-o"]},{title:"far fa-save",searchTerms:["floppy","floppy-o"]},{title:"fab fa-schlix",searchTerms:[]},{title:"fas fa-school",searchTerms:[]},{title:"fas fa-screwdriver",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fab fa-scribd",searchTerms:[]},{title:"fas fa-scroll",searchTerms:["Dungeons & Dragons","announcement","d&d","dnd","fantasy","paper"]},{title:"fas fa-search",searchTerms:["bigger","enlarge","magnify","preview","zoom"]},{title:"fas fa-search-dollar",searchTerms:[]},{title:"fas fa-search-location",searchTerms:[]},{title:"fas fa-search-minus",searchTerms:["minify","negative","smaller","zoom","zoom out"]},{title:"fas fa-search-plus",searchTerms:["bigger","enlarge","magnify","positive","zoom","zoom in"]},{title:"fab fa-searchengin",searchTerms:[]},{title:"fas fa-seedling",searchTerms:[]},{title:"fab fa-sellcast",searchTerms:["eercast"]},{title:"fab fa-sellsy",searchTerms:[]},{title:"fas fa-server",searchTerms:["cpu"]},{title:"fab fa-servicestack",searchTerms:[]},{title:"fas fa-shapes",searchTerms:["circle","square","triangle"]},{title:"fas fa-share",searchTerms:[]},{title:"fas fa-share-alt",searchTerms:[]},{title:"fas fa-share-alt-square",searchTerms:[]},{title:"fas fa-share-square",searchTerms:["send","social"]},{title:"far fa-share-square",searchTerms:["send","social"]},{title:"fas fa-shekel-sign",searchTerms:["ils"]},{title:"fas fa-shield-alt",searchTerms:["achievement","award","block","defend","security","winner"]},{title:"fas fa-ship",searchTerms:["boat","sea"]},{title:"fas fa-shipping-fast",searchTerms:[]},{title:"fab fa-shirtsinbulk",searchTerms:[]},{title:"fas fa-shoe-prints",searchTerms:["feet","footprints","steps"]},{title:"fas fa-shopping-bag",searchTerms:[]},{title:"fas fa-shopping-basket",searchTerms:[]},{title:"fas fa-shopping-cart",searchTerms:["buy","checkout","payment","purchase"]},{title:"fab fa-shopware",searchTerms:[]},{title:"fas fa-shower",searchTerms:[]},{title:"fas fa-shuttle-van",searchTerms:["machine","public-transportation","transportation","vehicle"]},{title:"fas fa-sign",searchTerms:[]},{title:"fas fa-sign-in-alt",searchTerms:["arrow","enter","join","log in","login","sign in","sign up","sign-in","signin","signup"]},{title:"fas fa-sign-language",searchTerms:[]},{title:"fas fa-sign-out-alt",searchTerms:["arrow","exit","leave","log out","logout","sign-out"]},{title:"fas fa-signal",searchTerms:["bars","graph","online","status"]},{title:"fas fa-signature",searchTerms:["John Hancock","cursive","name","writing"]},{title:"fab fa-simplybuilt",searchTerms:[]},{title:"fab fa-sistrix",searchTerms:[]},{title:"fas fa-sitemap",searchTerms:["directory","hierarchy","ia","information architecture","organization"]},{title:"fab fa-sith",searchTerms:[]},{title:"fas fa-skull",searchTerms:["bones","skeleton","yorick"]},{title:"fas fa-skull-crossbones",searchTerms:["Dungeons & Dragons","alert","bones","d&d","danger","dead","deadly","death","dnd","fantasy","halloween","holiday","jolly-roger","pirate","poison","skeleton","warning"]},{title:"fab fa-skyatlas",searchTerms:[]},{title:"fab fa-skype",searchTerms:[]},{title:"fab fa-slack",searchTerms:["anchor","hash","hashtag"]},{title:"fab fa-slack-hash",searchTerms:["anchor","hash","hashtag"]},{title:"fas fa-slash",searchTerms:[]},{title:"fas fa-sliders-h",searchTerms:["settings","sliders"]},{title:"fab fa-slideshare",searchTerms:[]},{title:"fas fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"far fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"fas fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"far fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"fas fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"far fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"fas fa-smog",searchTerms:["dragon"]},{title:"fas fa-smoking",searchTerms:["cigarette","nicotine","smoking status"]},{title:"fas fa-smoking-ban",searchTerms:["no smoking","non-smoking"]},{title:"fab fa-snapchat",searchTerms:[]},{title:"fab fa-snapchat-ghost",searchTerms:[]},{title:"fab fa-snapchat-square",searchTerms:[]},{title:"fas fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"far fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"fas fa-socks",searchTerms:["business socks","business time","flight of the conchords","wednesday"]},{title:"fas fa-solar-panel",searchTerms:["clean","eco-friendly","energy","green","sun"]},{title:"fas fa-sort",searchTerms:["order"]},{title:"fas fa-sort-alpha-down",searchTerms:["sort-alpha-asc"]},{title:"fas fa-sort-alpha-up",searchTerms:["sort-alpha-desc"]},{title:"fas fa-sort-amount-down",searchTerms:["sort-amount-asc"]},{title:"fas fa-sort-amount-up",searchTerms:["sort-amount-desc"]},{title:"fas fa-sort-down",searchTerms:["arrow","descending","sort-desc"]},{title:"fas fa-sort-numeric-down",searchTerms:["numbers","sort-numeric-asc"]},{title:"fas fa-sort-numeric-up",searchTerms:["numbers","sort-numeric-desc"]},{title:"fas fa-sort-up",searchTerms:["arrow","ascending","sort-asc"]},{title:"fab fa-soundcloud",searchTerms:[]},{title:"fas fa-spa",searchTerms:["flora","mindfullness","plant","wellness"]},{title:"fas fa-space-shuttle",searchTerms:["astronaut","machine","nasa","rocket","transportation"]},{title:"fab fa-speakap",searchTerms:[]},{title:"fas fa-spider",searchTerms:["arachnid","bug","charlotte","crawl","eight","halloween","holiday"]},{title:"fas fa-spinner",searchTerms:["loading","progress"]},{title:"fas fa-splotch",searchTerms:[]},{title:"fab fa-spotify",searchTerms:[]},{title:"fas fa-spray-can",searchTerms:[]},{title:"fas fa-square",searchTerms:["block","box"]},{title:"far fa-square",searchTerms:["block","box"]},{title:"fas fa-square-full",searchTerms:[]},{title:"fas fa-square-root-alt",searchTerms:[]},{title:"fab fa-squarespace",searchTerms:[]},{title:"fab fa-stack-exchange",searchTerms:[]},{title:"fab fa-stack-overflow",searchTerms:[]},{title:"fas fa-stamp",searchTerms:[]},{title:"fas fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"far fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"fas fa-star-and-crescent",searchTerms:["islam","muslim"]},{title:"fas fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"far fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-half-alt",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-of-david",searchTerms:["jewish","judaism"]},{title:"fas fa-star-of-life",searchTerms:[]},{title:"fab fa-staylinked",searchTerms:[]},{title:"fab fa-steam",searchTerms:[]},{title:"fab fa-steam-square",searchTerms:[]},{title:"fab fa-steam-symbol",searchTerms:[]},{title:"fas fa-step-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-step-forward",searchTerms:["end","last","next"]},{title:"fas fa-stethoscope",searchTerms:[]},{title:"fab fa-sticker-mule",searchTerms:[]},{title:"fas fa-sticky-note",searchTerms:[]},{title:"far fa-sticky-note",searchTerms:[]},{title:"fas fa-stop",searchTerms:["block","box","square"]},{title:"fas fa-stop-circle",searchTerms:[]},{title:"far fa-stop-circle",searchTerms:[]},{title:"fas fa-stopwatch",searchTerms:["time"]},{title:"fas fa-store",searchTerms:[]},{title:"fas fa-store-alt",searchTerms:[]},{title:"fab fa-strava",searchTerms:[]},{title:"fas fa-stream",searchTerms:[]},{title:"fas fa-street-view",searchTerms:["map"]},{title:"fas fa-strikethrough",searchTerms:[]},{title:"fab fa-stripe",searchTerms:[]},{title:"fab fa-stripe-s",searchTerms:[]},{title:"fas fa-stroopwafel",searchTerms:["dessert","food","sweets","waffle"]},{title:"fab fa-studiovinari",searchTerms:[]},{title:"fab fa-stumbleupon",searchTerms:[]},{title:"fab fa-stumbleupon-circle",searchTerms:[]},{title:"fas fa-subscript",searchTerms:[]},{title:"fas fa-subway",searchTerms:["machine","railway","train","transportation","vehicle"]},{title:"fas fa-suitcase",searchTerms:["baggage","luggage","move","suitcase","travel","trip"]},{title:"fas fa-suitcase-rolling",searchTerms:[]},{title:"fas fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"far fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"fab fa-superpowers",searchTerms:[]},{title:"fas fa-superscript",searchTerms:["exponential"]},{title:"fab fa-supple",searchTerms:[]},{title:"fas fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"far fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"fas fa-swatchbook",searchTerms:[]},{title:"fas fa-swimmer",searchTerms:["athlete","head","man","person","water"]},{title:"fas fa-swimming-pool",searchTerms:["ladder","recreation","water"]},{title:"fas fa-synagogue",searchTerms:["building","jewish","judaism","star of david","temple"]},{title:"fas fa-sync",searchTerms:["exchange","refresh","reload","rotate","swap"]},{title:"fas fa-sync-alt",searchTerms:["refresh","reload","rotate"]},{title:"fas fa-syringe",searchTerms:["immunizations","needle"]},{title:"fas fa-table",searchTerms:["data","excel","spreadsheet"]},{title:"fas fa-table-tennis",searchTerms:[]},{title:"fas fa-tablet",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablet-alt",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablets",searchTerms:["drugs","medicine"]},{title:"fas fa-tachometer-alt",searchTerms:["dashboard","tachometer"]},{title:"fas fa-tag",searchTerms:["label"]},{title:"fas fa-tags",searchTerms:["labels"]},{title:"fas fa-tape",searchTerms:[]},{title:"fas fa-tasks",searchTerms:["downloading","downloads","loading","progress","settings"]},{title:"fas fa-taxi",searchTerms:["cab","cabbie","car","car service","lyft","machine","transportation","uber","vehicle"]},{title:"fab fa-teamspeak",searchTerms:[]},{title:"fas fa-teeth",searchTerms:[]},{title:"fas fa-teeth-open",searchTerms:[]},{title:"fab fa-telegram",searchTerms:[]},{title:"fab fa-telegram-plane",searchTerms:[]},{title:"fas fa-temperature-high",searchTerms:["mercury","thermometer","warm"]},{title:"fas fa-temperature-low",searchTerms:["cool","mercury","thermometer"]},{title:"fab fa-tencent-weibo",searchTerms:[]},{title:"fas fa-terminal",searchTerms:["code","command","console","prompt"]},{title:"fas fa-text-height",searchTerms:[]},{title:"fas fa-text-width",searchTerms:[]},{title:"fas fa-th",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-large",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fab fa-the-red-yeti",searchTerms:[]},{title:"fas fa-theater-masks",searchTerms:[]},{title:"fab fa-themeco",searchTerms:[]},{title:"fab fa-themeisle",searchTerms:[]},{title:"fas fa-thermometer",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-empty",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-full",searchTerms:["fever","mercury","status","temperature"]},{title:"fas fa-thermometer-half",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-quarter",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-three-quarters",searchTerms:["mercury","status","temperature"]},{title:"fab fa-think-peaks",searchTerms:[]},{title:"fas fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"far fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"fas fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"far fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"fas fa-thumbtack",searchTerms:["coordinates","location","marker","pin","thumb-tack"]},{title:"fas fa-ticket-alt",searchTerms:["ticket"]},{title:"fas fa-times",searchTerms:["close","cross","error","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"far fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-tint",searchTerms:["drop","droplet","raindrop","waterdrop"]},{title:"fas fa-tint-slash",searchTerms:[]},{title:"fas fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"far fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"fas fa-toggle-off",searchTerms:["switch"]},{title:"fas fa-toggle-on",searchTerms:["switch"]},{title:"fas fa-toilet-paper",searchTerms:["bathroom","halloween","holiday","lavatory","prank","restroom","roll"]},{title:"fas fa-toolbox",searchTerms:["admin","container","fix","repair","settings","tools"]},{title:"fas fa-tooth",searchTerms:["bicuspid","dental","molar","mouth","teeth"]},{title:"fas fa-torah",searchTerms:["book","jewish","judaism"]},{title:"fas fa-torii-gate",searchTerms:["building","shintoism"]},{title:"fas fa-tractor",searchTerms:[]},{title:"fab fa-trade-federation",searchTerms:[]},{title:"fas fa-trademark",searchTerms:[]},{title:"fas fa-traffic-light",searchTerms:[]},{title:"fas fa-train",searchTerms:["bullet","locomotive","railway"]},{title:"fas fa-transgender",searchTerms:["intersex"]},{title:"fas fa-transgender-alt",searchTerms:[]},{title:"fas fa-trash",searchTerms:["delete","garbage","hide","remove"]},{title:"fas fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"far fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"fas fa-tree",searchTerms:["bark","fall","flora","forest","nature","plant","seasonal"]},{title:"fab fa-trello",searchTerms:[]},{title:"fab fa-tripadvisor",searchTerms:[]},{title:"fas fa-trophy",searchTerms:["achievement","award","cup","game","winner"]},{title:"fas fa-truck",searchTerms:["delivery","shipping"]},{title:"fas fa-truck-loading",searchTerms:[]},{title:"fas fa-truck-monster",searchTerms:[]},{title:"fas fa-truck-moving",searchTerms:[]},{title:"fas fa-truck-pickup",searchTerms:[]},{title:"fas fa-tshirt",searchTerms:["cloth","clothing"]},{title:"fas fa-tty",searchTerms:[]},{title:"fab fa-tumblr",searchTerms:[]},{title:"fab fa-tumblr-square",searchTerms:[]},{title:"fas fa-tv",searchTerms:["computer","display","monitor","television"]},{title:"fab fa-twitch",searchTerms:[]},{title:"fab fa-twitter",searchTerms:["social network","tweet"]},{title:"fab fa-twitter-square",searchTerms:["social network","tweet"]},{title:"fab fa-typo3",searchTerms:[]},{title:"fab fa-uber",searchTerms:[]},{title:"fab fa-uikit",searchTerms:[]},{title:"fas fa-umbrella",searchTerms:["protection","rain"]},{title:"fas fa-umbrella-beach",searchTerms:["protection","recreation","sun"]},{title:"fas fa-underline",searchTerms:[]},{title:"fas fa-undo",searchTerms:["back","control z","exchange","oops","return","rotate","swap"]},{title:"fas fa-undo-alt",searchTerms:["back","control z","exchange","oops","return","swap"]},{title:"fab fa-uniregistry",searchTerms:[]},{title:"fas fa-universal-access",searchTerms:[]},{title:"fas fa-university",searchTerms:["bank","institution"]},{title:"fas fa-unlink",searchTerms:["chain","chain-broken","remove"]},{title:"fas fa-unlock",searchTerms:["admin","lock","password","protect"]},{title:"fas fa-unlock-alt",searchTerms:["admin","lock","password","protect"]},{title:"fab fa-untappd",searchTerms:[]},{title:"fas fa-upload",searchTerms:["export","publish"]},{title:"fab fa-usb",searchTerms:[]},{title:"fas fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt-slash",searchTerms:[]},{title:"fas fa-user-astronaut",searchTerms:["avatar","clothing","cosmonaut","space","suit"]},{title:"fas fa-user-check",searchTerms:[]},{title:"fas fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-clock",searchTerms:[]},{title:"fas fa-user-cog",searchTerms:[]},{title:"fas fa-user-edit",searchTerms:[]},{title:"fas fa-user-friends",searchTerms:[]},{title:"fas fa-user-graduate",searchTerms:["cap","clothing","commencement","gown","graduation","student"]},{title:"fas fa-user-injured",searchTerms:["cast","ouch","sling"]},{title:"fas fa-user-lock",searchTerms:[]},{title:"fas fa-user-md",searchTerms:["doctor","job","medical","nurse","occupation","profile"]},{title:"fas fa-user-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-user-ninja",searchTerms:["assassin","avatar","dangerous","deadly","sneaky"]},{title:"fas fa-user-plus",searchTerms:["positive","sign up","signup"]},{title:"fas fa-user-secret",searchTerms:["clothing","coat","hat","incognito","privacy","spy","whisper"]},{title:"fas fa-user-shield",searchTerms:[]},{title:"fas fa-user-slash",searchTerms:["ban","remove"]},{title:"fas fa-user-tag",searchTerms:[]},{title:"fas fa-user-tie",searchTerms:["avatar","business","clothing","formal"]},{title:"fas fa-user-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-users",searchTerms:["people","persons","profiles"]},{title:"fas fa-users-cog",searchTerms:[]},{title:"fab fa-ussunnah",searchTerms:[]},{title:"fas fa-utensil-spoon",searchTerms:["spoon"]},{title:"fas fa-utensils",searchTerms:["cutlery","dinner","eat","food","knife","restaurant","spoon"]},{title:"fab fa-vaadin",searchTerms:[]},{title:"fas fa-vector-square",searchTerms:["anchors","lines","object"]},{title:"fas fa-venus",searchTerms:["female"]},{title:"fas fa-venus-double",searchTerms:[]},{title:"fas fa-venus-mars",searchTerms:[]},{title:"fab fa-viacoin",searchTerms:[]},{title:"fab fa-viadeo",searchTerms:[]},{title:"fab fa-viadeo-square",searchTerms:[]},{title:"fas fa-vial",searchTerms:["test tube"]},{title:"fas fa-vials",searchTerms:["lab results","test tubes"]},{title:"fab fa-viber",searchTerms:[]},{title:"fas fa-video",searchTerms:["camera","film","movie","record","video-camera"]},{title:"fas fa-video-slash",searchTerms:[]},{title:"fas fa-vihara",searchTerms:["buddhism","buddhist","building","monastery"]},{title:"fab fa-vimeo",searchTerms:[]},{title:"fab fa-vimeo-square",searchTerms:[]},{title:"fab fa-vimeo-v",searchTerms:["vimeo"]},{title:"fab fa-vine",searchTerms:[]},{title:"fab fa-vk",searchTerms:[]},{title:"fab fa-vnv",searchTerms:[]},{title:"fas fa-volleyball-ball",searchTerms:[]},{title:"fas fa-volume-down",searchTerms:["audio","lower","music","quieter","sound","speaker"]},{title:"fas fa-volume-mute",searchTerms:[]},{title:"fas fa-volume-off",searchTerms:["audio","music","mute","sound"]},{title:"fas fa-volume-up",searchTerms:["audio","higher","louder","music","sound","speaker"]},{title:"fas fa-vote-yea",searchTerms:["accept","cast","election","politics","positive","yes"]},{title:"fas fa-vr-cardboard",searchTerms:["google","reality","virtual"]},{title:"fab fa-vuejs",searchTerms:[]},{title:"fas fa-walking",searchTerms:[]},{title:"fas fa-wallet",searchTerms:[]},{title:"fas fa-warehouse",searchTerms:[]},{title:"fas fa-water",searchTerms:[]},{title:"fab fa-weebly",searchTerms:[]},{title:"fab fa-weibo",searchTerms:[]},{title:"fas fa-weight",searchTerms:["measurement","scale","weight"]},{title:"fas fa-weight-hanging",searchTerms:["anvil","heavy","measurement"]},{title:"fab fa-weixin",searchTerms:[]},{title:"fab fa-whatsapp",searchTerms:[]},{title:"fab fa-whatsapp-square",searchTerms:[]},{title:"fas fa-wheelchair",searchTerms:["handicap","person"]},{title:"fab fa-whmcs",searchTerms:[]},{title:"fas fa-wifi",searchTerms:[]},{title:"fab fa-wikipedia-w",searchTerms:[]},{title:"fas fa-wind",searchTerms:["air","blow","breeze","fall","seasonal"]},{title:"fas fa-window-close",searchTerms:[]},{title:"far fa-window-close",searchTerms:[]},{title:"fas fa-window-maximize",searchTerms:[]},{title:"far fa-window-maximize",searchTerms:[]},{title:"fas fa-window-minimize",searchTerms:[]},{title:"far fa-window-minimize",searchTerms:[]},{title:"fas fa-window-restore",searchTerms:[]},{title:"far fa-window-restore",searchTerms:[]},{title:"fab fa-windows",searchTerms:["microsoft"]},{title:"fas fa-wine-bottle",searchTerms:["alcohol","beverage","drink","glass","grapes"]},{title:"fas fa-wine-glass",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fas fa-wine-glass-alt",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fab fa-wix",searchTerms:[]},{title:"fab fa-wizards-of-the-coast",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fab fa-wolf-pack-battalion",searchTerms:[]},{title:"fas fa-won-sign",searchTerms:["krw"]},{title:"fab fa-wordpress",searchTerms:[]},{title:"fab fa-wordpress-simple",searchTerms:[]},{title:"fab fa-wpbeginner",searchTerms:[]},{title:"fab fa-wpexplorer",searchTerms:[]},{title:"fab fa-wpforms",searchTerms:[]},{title:"fab fa-wpressr",searchTerms:["rendact"]},{title:"fas fa-wrench",searchTerms:["fix","settings","spanner","tool","update"]},{title:"fas fa-x-ray",searchTerms:["radiological images","radiology"]},{title:"fab fa-xbox",searchTerms:[]},{title:"fab fa-xing",searchTerms:[]},{title:"fab fa-xing-square",searchTerms:[]},{title:"fab fa-y-combinator",searchTerms:[]},{title:"fab fa-yahoo",searchTerms:[]},{title:"fab fa-yandex",searchTerms:[]},{title:"fab fa-yandex-international",searchTerms:[]},{title:"fab fa-yelp",searchTerms:[]},{title:"fas fa-yen-sign",searchTerms:["jpy","money"]},{title:"fas fa-yin-yang",searchTerms:["daoism","opposites","taoism"]},{title:"fab fa-yoast",searchTerms:[]},{title:"fab fa-youtube",searchTerms:["film","video","youtube-play","youtube-square"]},{title:"fab fa-youtube-square",searchTerms:[]},{title:"fab fa-zhihu",searchTerms:[]}]})})),eR}qK();var iR={};/*! LeaderLine v1.0.8 (c) anseki https://anseki.github.io/leader-line/ */var rR;function $K(){return rR||(rR=1,function(){var t,e,i,s,n,l,a,h,d,m,y,b,k,x,E,O,L,D,u,T,g,S,C,P="leader-line",I=1,U=2,z=3,f=4,w={top:I,right:U,bottom:z,left:f},A=1,R=2,B=3,W=4,$=5,G={straight:A,arc:R,fluid:B,magnet:W,grid:$},ue="behind",Q=P+"-defs",K='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',we={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},ze={behind:ue,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Ke={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Pe=[I,U,z,f],We="auto",it={x:"left",y:"top",width:"width",height:"height"},vt=80,Lt=4,Re=5,Yt=120,$t=8,Ri=3.75,nt=10,Si=30,Qi=.5522847,Ji=.25*Math.PI,bt=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,Wt="http://www.w3.org/2000/svg",Qe="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,Gi=!Qe&&!!document.uniqueID,jr="MozAppearance"in document.documentElement.style,Zr=!(Qe||jr||!window.chrome||!window.CSS),Li=!Qe&&!Gi&&!jr&&!Zr&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,_r=Gi||Qe?.2:.1,J={path:B,lineColor:"coral",lineSize:4,plugSE:[ue,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},pe=(g={}.toString,S={}.hasOwnProperty.toString,C=S.call(Object),function(v){return v&&g.call(v)==="[object Object]"&&(!(v=Object.getPrototypeOf(v))||(v=v.hasOwnProperty("constructor")&&v.constructor)&&typeof v=="function"&&S.call(v)===C)}),ce=Number.isFinite||function(v){return typeof v=="number"&&window.isFinite(v)},Be=(x={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},E=1e3/60/2,O=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(v){setTimeout(v,E)},L=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(v){clearTimeout(v)},D=Number.isFinite||function(v){return typeof v=="number"&&window.isFinite(v)},u=[],T=0,{add:function(v,H,j,V,ae,ne,_e){var Se,xe,at,Fe,Ie,rt,De,Ee,ve,ye,Oe=++T;function Ae(Ft,Xe){return{value:v(Xe),timeRatio:Ft,outputRatio:Xe}}if(typeof ae=="string"&&(ae=x[ae]),v=v||function(){},j<E)Se=[Ae(0,0),Ae(1,1)];else{if(xe=E/j,Se=[Ae(0,0)],ae[0]===0&&ae[1]===0&&ae[2]===1&&ae[3]===1)for(Fe=xe;Fe<=1;Fe+=xe)Se.push(Ae(Fe,Fe));else for(Ie=at=(Fe=xe)/10;Ie<=1;Ie+=at)De=Ie,ye=ve=Ee=void 0,Ee=(ye=Ie*Ie)*Ie,ye*=3*(ve=1-Ie),Fe<=(rt={x:(De=3*(ve*ve)*Ie)*ae[0]+ye*ae[2]+Ee,y:De*ae[1]+ye*ae[3]+Ee}).x&&(Se.push(Ae(rt.x,rt.y)),Fe+=xe);Se.push(Ae(1,1))}return u.push(ne={animId:Oe,frameCallback:H,duration:j,count:V,frames:Se,reverse:!!ne}),_e!==!1&&Gt(ne,_e),Oe},remove:function(v){var H;u.some(function(j,V){return j.animId===v&&(H=V,!(j.framesStart=null))})&&u.splice(H,1)},start:function(v,H,j){u.some(function(V){return V.animId===v&&(V.reverse=!!H,Gt(V,j),!0)})},stop:function(v,H){var j;return u.some(function(V){return V.animId===v&&(H?V.lastFrame!=null&&(j=V.frames[V.lastFrame].timeRatio):(j=(Date.now()-V.framesStart)/V.duration,(j=V.reverse?1-j:j)<0?j=0:1<j&&(j=1)),!(V.framesStart=null))}),j},validTiming:function(v){return typeof v=="string"?x[v]:Array.isArray(v)&&[0,1,2,3].every(function(H){return D(v[H])&&0<=v[H]&&v[H]<=1})?[v[0],v[1],v[2],v[3]]:null}}),Ze=function(v,H){v.SVGPathElement.prototype.getPathData&&v.SVGPathElement.prototype.setPathData&&!H||function(){function j(De){this._string=De,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var V={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},ae=v.navigator.userAgent.indexOf("MSIE ")!==-1;j.prototype={parseSegment:function(){var ve=this._string[this._currentIndex],De=V[ve]||null;if(De===null){if(this._prevCommand===null||(De=(ve==="+"||ve==="-"||ve==="."||"0"<=ve&&ve<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?"L":this._prevCommand==="m"?"l":this._prevCommand:null)===null)return null}else this._currentIndex+=1;var Ee=null,ve=(this._prevCommand=De).toUpperCase();return ve==="H"||ve==="V"?Ee=[this._parseNumber()]:ve==="M"||ve==="L"||ve==="T"?Ee=[this._parseNumber(),this._parseNumber()]:ve==="S"||ve==="Q"?Ee=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:ve==="C"?Ee=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:ve==="A"?Ee=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:ve==="Z"&&(this._skipOptionalSpaces(),Ee=[]),Ee===null||0<=Ee.indexOf(null)?null:{type:De,values:Ee}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var De=this._string[this._currentIndex];return V[De]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var De=this.peekSegmentType();return De==="M"||De==="m"},_isCurrentSpace:function(){var De=this._string[this._currentIndex];return De<=" "&&(De===" "||De===`
`||De==="	"||De==="\r"||De==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var De=0,Ee=0,ve=1,ye=0,Oe=1,Ae=1,Ft=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,Oe=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&this._string[this._currentIndex]!==".")return null;for(var Xe=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==Xe)for(var qt=this._currentIndex-1,ke=1;Xe<=qt;)Ee+=ke*(this._string[qt]-"0"),--qt,ke*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)ve*=10,ye+=(this._string.charAt(this._currentIndex)-"0")/ve,this._currentIndex+=1}if(this._currentIndex!==Ft&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,Ae=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)De*=10,De+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var lt=Ee+ye;return lt*=Oe,De&&(lt*=Math.pow(10,Ae*De)),Ft===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),lt)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var De=null,Ee=this._string[this._currentIndex];if(this._currentIndex+=1,Ee==="0")De=0;else{if(Ee!=="1")return null;De=1}return this._skipOptionalSpacesOrDelimiter(),De}};function ne(De){if(!De||De.length===0)return[];var Ee=new j(De),ve=[];if(Ee.initialCommandIsMoveTo())for(;Ee.hasMoreData();){var ye=Ee.parseSegment();if(ye===null)break;ve.push(ye)}return ve}function _e(De){return De.map(function(Ee){return{type:Ee.type,values:Array.prototype.slice.call(Ee.values)}})}function Se(De){var Ee=[],ve=null,ye=null,Oe=null,Ae=null,Ft=null,Xe=null,qt=null;return De.forEach(function(ke){var lt,ot,he,Ce,$e,Ve,_t,Je;ke.type==="M"?(_t=ke.values[0],Je=ke.values[1],Ee.push({type:"M",values:[_t,Je]}),Ae=Xe=_t,Ft=qt=Je):ke.type==="C"?($e=ke.values[0],Ve=ke.values[1],lt=ke.values[2],ot=ke.values[3],_t=ke.values[4],Je=ke.values[5],Ee.push({type:"C",values:[$e,Ve,lt,ot,_t,Je]}),ye=lt,Oe=ot,Ae=_t,Ft=Je):ke.type==="L"?(_t=ke.values[0],Je=ke.values[1],Ee.push({type:"L",values:[_t,Je]}),Ae=_t,Ft=Je):ke.type==="H"?(_t=ke.values[0],Ee.push({type:"L",values:[_t,Ft]}),Ae=_t):ke.type==="V"?(Je=ke.values[0],Ee.push({type:"L",values:[Ae,Je]}),Ft=Je):ke.type==="S"?(lt=ke.values[0],ot=ke.values[1],_t=ke.values[2],Je=ke.values[3],Ce=ve==="C"||ve==="S"?(he=Ae+(Ae-ye),Ft+(Ft-Oe)):(he=Ae,Ft),Ee.push({type:"C",values:[he,Ce,lt,ot,_t,Je]}),ye=lt,Oe=ot,Ae=_t,Ft=Je):ke.type==="T"?(_t=ke.values[0],Je=ke.values[1],Ve=ve==="Q"||ve==="T"?($e=Ae+(Ae-ye),Ft+(Ft-Oe)):($e=Ae,Ft),Ee.push({type:"C",values:[he=Ae+2*($e-Ae)/3,Ce=Ft+2*(Ve-Ft)/3,_t+2*($e-_t)/3,Je+2*(Ve-Je)/3,_t,Je]}),ye=$e,Oe=Ve,Ae=_t,Ft=Je):ke.type==="Q"?($e=ke.values[0],Ve=ke.values[1],_t=ke.values[2],Je=ke.values[3],Ee.push({type:"C",values:[he=Ae+2*($e-Ae)/3,Ce=Ft+2*(Ve-Ft)/3,_t+2*($e-_t)/3,Je+2*(Ve-Je)/3,_t,Je]}),ye=$e,Oe=Ve,Ae=_t,Ft=Je):ke.type==="A"?(ot=ke.values[0],he=ke.values[1],Ce=ke.values[2],$e=ke.values[3],Ve=ke.values[4],_t=ke.values[5],Je=ke.values[6],ot===0||he===0?(Ee.push({type:"C",values:[Ae,Ft,_t,Je,_t,Je]}),Ae=_t,Ft=Je):Ae===_t&&Ft===Je||rt(Ae,Ft,_t,Je,ot,he,Ce,$e,Ve).forEach(function(Vi){Ee.push({type:"C",values:Vi}),Ae=_t,Ft=Je})):ke.type==="Z"&&(Ee.push(ke),Ae=Xe,Ft=qt),ve=ke.type}),Ee}var xe=v.SVGPathElement.prototype.setAttribute,at=v.SVGPathElement.prototype.removeAttribute,Fe=v.Symbol?v.Symbol():"__cachedPathData",Ie=v.Symbol?v.Symbol():"__cachedNormalizedPathData",rt=function(De,Ee,ve,li,Je,Vi,Ft,Xe,qt,ke){function lt(tr,ui,Gr){return{x:tr*Math.cos(Gr)-ui*Math.sin(Gr),y:tr*Math.sin(Gr)+ui*Math.cos(Gr)}}var ot=Math.PI*Ft/180,Kt=[];ke?(Ai=ke[0],_t=ke[1],Ii=ke[2],Ve=ke[3]):(De=(Yi=lt(De,Ee,-ot)).x,Ee=Yi.y,1<(Yi=($e=(De-(ve=(Ce=lt(ve,li,-ot)).x))/2)*$e/(Je*Je)+(he=(Ee-(li=Ce.y))/2)*he/(Vi*Vi))&&(Je*=Yi=Math.sqrt(Yi),Vi*=Yi),Ce=Je*Je,Yi=Vi*Vi,Ii=(Ce=(Xe===qt?-1:1)*Math.sqrt(Math.abs((Ce*Yi-Ce*he*he-Yi*$e*$e)/(Ce*he*he+Yi*$e*$e))))*Je*he/Vi+(De+ve)/2,Ve=Ce*-Vi*$e/Je+(Ee+li)/2,Ai=Math.asin(parseFloat(((Ee-Ve)/Vi).toFixed(9))),_t=Math.asin(parseFloat(((li-Ve)/Vi).toFixed(9))),De<Ii&&(Ai=Math.PI-Ai),ve<Ii&&(_t=Math.PI-_t),Ai<0&&(Ai=2*Math.PI+Ai),_t<0&&(_t=2*Math.PI+_t),qt&&_t<Ai&&(Ai-=2*Math.PI),!qt&&Ai<_t&&(_t-=2*Math.PI));var he,Ce,$e,Yi=_t-Ai;Math.abs(Yi)>120*Math.PI/180&&(he=_t,Ce=ve,$e=li,_t=qt&&Ai<_t?Ai+120*Math.PI/180*1:Ai+120*Math.PI/180*-1,ve=Ii+Je*Math.cos(_t),li=Ve+Vi*Math.sin(_t),Kt=rt(ve,li,Ce,$e,Je,Vi,Ft,0,qt,[_t,he,Ii,Ve]));var Yi=_t-Ai,Ii=Math.cos(Ai),Ve=Math.sin(Ai),Ai=Math.cos(_t),_t=Math.sin(_t),Yi=Math.tan(Yi/4),Je=4/3*Je*Yi,Vi=4/3*Vi*Yi,Yi=[De,Ee],Ii=[De+Je*Ve,Ee-Vi*Ii],Ai=[ve+Je*_t,li-Vi*Ai],li=[ve,li];if(Ii[0]=2*Yi[0]-Ii[0],Ii[1]=2*Yi[1]-Ii[1],ke)return[Ii,Ai,li].concat(Kt);var Kt=[Ii,Ai,li].concat(Kt).join().split(","),Tt=[],tt=[];return Kt.forEach(function(tr,ui){ui%2?tt.push(lt(Kt[ui-1],Kt[ui],ot).y):tt.push(lt(Kt[ui],Kt[ui+1],ot).x),tt.length===6&&(Tt.push(tt),tt=[])}),Tt};v.SVGPathElement.prototype.setAttribute=function(De,Ee){De==="d"&&(this[Fe]=null,this[Ie]=null),xe.call(this,De,Ee)},v.SVGPathElement.prototype.removeAttribute=function(De,Ee){De==="d"&&(this[Fe]=null,this[Ie]=null),at.call(this,De)},v.SVGPathElement.prototype.getPathData=function(De){if(De&&De.normalize)return this[Ie]?_e(this[Ie]):(this[Fe]?Ft=_e(this[Fe]):(Ft=ne(this.getAttribute("d")||""),this[Fe]=_e(Ft)),De=Se((Ee=[],Ae=Oe=ye=ve=null,Ft.forEach(function(Xe){var qt,ke,lt,ot,he,Ce,$e=Xe.type;$e==="M"?(he=Xe.values[0],Ce=Xe.values[1],Ee.push({type:"M",values:[he,Ce]}),ve=Oe=he,ye=Ae=Ce):$e==="m"?(he=ve+Xe.values[0],Ce=ye+Xe.values[1],Ee.push({type:"M",values:[he,Ce]}),ve=Oe=he,ye=Ae=Ce):$e==="L"?(he=Xe.values[0],Ce=Xe.values[1],Ee.push({type:"L",values:[he,Ce]}),ve=he,ye=Ce):$e==="l"?(he=ve+Xe.values[0],Ce=ye+Xe.values[1],Ee.push({type:"L",values:[he,Ce]}),ve=he,ye=Ce):$e==="C"?(qt=Xe.values[0],ke=Xe.values[1],lt=Xe.values[2],ot=Xe.values[3],he=Xe.values[4],Ce=Xe.values[5],Ee.push({type:"C",values:[qt,ke,lt,ot,he,Ce]}),ve=he,ye=Ce):$e==="c"?(qt=ve+Xe.values[0],ke=ye+Xe.values[1],lt=ve+Xe.values[2],ot=ye+Xe.values[3],he=ve+Xe.values[4],Ce=ye+Xe.values[5],Ee.push({type:"C",values:[qt,ke,lt,ot,he,Ce]}),ve=he,ye=Ce):$e==="Q"?(qt=Xe.values[0],ke=Xe.values[1],he=Xe.values[2],Ce=Xe.values[3],Ee.push({type:"Q",values:[qt,ke,he,Ce]}),ve=he,ye=Ce):$e==="q"?(qt=ve+Xe.values[0],ke=ye+Xe.values[1],he=ve+Xe.values[2],Ce=ye+Xe.values[3],Ee.push({type:"Q",values:[qt,ke,he,Ce]}),ve=he,ye=Ce):$e==="A"?(he=Xe.values[5],Ce=Xe.values[6],Ee.push({type:"A",values:[Xe.values[0],Xe.values[1],Xe.values[2],Xe.values[3],Xe.values[4],he,Ce]}),ve=he,ye=Ce):$e==="a"?(he=ve+Xe.values[5],Ce=ye+Xe.values[6],Ee.push({type:"A",values:[Xe.values[0],Xe.values[1],Xe.values[2],Xe.values[3],Xe.values[4],he,Ce]}),ve=he,ye=Ce):$e==="H"?(he=Xe.values[0],Ee.push({type:"H",values:[he]}),ve=he):$e==="h"?(he=ve+Xe.values[0],Ee.push({type:"H",values:[he]}),ve=he):$e==="V"?(Ce=Xe.values[0],Ee.push({type:"V",values:[Ce]}),ye=Ce):$e==="v"?(Ce=ye+Xe.values[0],Ee.push({type:"V",values:[Ce]}),ye=Ce):$e==="S"?(lt=Xe.values[0],ot=Xe.values[1],he=Xe.values[2],Ce=Xe.values[3],Ee.push({type:"S",values:[lt,ot,he,Ce]}),ve=he,ye=Ce):$e==="s"?(lt=ve+Xe.values[0],ot=ye+Xe.values[1],he=ve+Xe.values[2],Ce=ye+Xe.values[3],Ee.push({type:"S",values:[lt,ot,he,Ce]}),ve=he,ye=Ce):$e==="T"?(he=Xe.values[0],Ce=Xe.values[1],Ee.push({type:"T",values:[he,Ce]}),ve=he,ye=Ce):$e==="t"?(he=ve+Xe.values[0],Ce=ye+Xe.values[1],Ee.push({type:"T",values:[he,Ce]}),ve=he,ye=Ce):$e!=="Z"&&$e!=="z"||(Ee.push({type:"Z",values:[]}),ve=Oe,ye=Ae)}),Ee)),this[Ie]=_e(De),De);if(this[Fe])return _e(this[Fe]);var Ee,ve,ye,Oe,Ae,Ft=ne(this.getAttribute("d")||"");return this[Fe]=_e(Ft),Ft},v.SVGPathElement.prototype.setPathData=function(De){if(De.length===0)ae?this.setAttribute("d",""):this.removeAttribute("d");else{for(var Ee="",ve=0,ye=De.length;ve<ye;ve+=1){var Oe=De[ve];0<ve&&(Ee+=" "),Ee+=Oe.type,Oe.values&&0<Oe.values.length&&(Ee+=" "+Oe.values.join(" "))}this.setAttribute("d",Ee)}},v.SVGRectElement.prototype.getPathData=function(De){var Ee=this.x.baseVal.value,Ft=this.y.baseVal.value,ve=this.width.baseVal.value,ye=this.height.baseVal.value,Oe=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,Ae=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value,Ft=(Ft=[{type:"M",values:[Ee+(Oe=ve/2<Oe?ve/2:Oe),Ft]},{type:"H",values:[Ee+ve-Oe]},{type:"A",values:[Oe,Ae=ye/2<Ae?ye/2:Ae,0,0,1,Ee+ve,Ft+Ae]},{type:"V",values:[Ft+ye-Ae]},{type:"A",values:[Oe,Ae,0,0,1,Ee+ve-Oe,Ft+ye]},{type:"H",values:[Ee+Oe]},{type:"A",values:[Oe,Ae,0,0,1,Ee,Ft+ye-Ae]},{type:"V",values:[Ft+Ae]},{type:"A",values:[Oe,Ae,0,0,1,Ee+Oe,Ft]},{type:"Z",values:[]}]).filter(function(Xe){return Xe.type!=="A"||Xe.values[0]!==0&&Xe.values[1]!==0});return Ft=De&&De.normalize===!0?Se(Ft):Ft},v.SVGCircleElement.prototype.getPathData=function(De){var Ee=this.cx.baseVal.value,ye=this.cy.baseVal.value,ve=this.r.baseVal.value,ye=[{type:"M",values:[Ee+ve,ye]},{type:"A",values:[ve,ve,0,0,1,Ee,ye+ve]},{type:"A",values:[ve,ve,0,0,1,Ee-ve,ye]},{type:"A",values:[ve,ve,0,0,1,Ee,ye-ve]},{type:"A",values:[ve,ve,0,0,1,Ee+ve,ye]},{type:"Z",values:[]}];return ye=De&&De.normalize===!0?Se(ye):ye},v.SVGEllipseElement.prototype.getPathData=function(De){var Ee=this.cx.baseVal.value,Oe=this.cy.baseVal.value,ve=this.rx.baseVal.value,ye=this.ry.baseVal.value,Oe=[{type:"M",values:[Ee+ve,Oe]},{type:"A",values:[ve,ye,0,0,1,Ee,Oe+ye]},{type:"A",values:[ve,ye,0,0,1,Ee-ve,Oe]},{type:"A",values:[ve,ye,0,0,1,Ee,Oe-ye]},{type:"A",values:[ve,ye,0,0,1,Ee+ve,Oe]},{type:"Z",values:[]}];return Oe=De&&De.normalize===!0?Se(Oe):Oe},v.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},v.SVGPolylineElement.prototype.getPathData=function(){for(var De=[],Ee=0;Ee<this.points.numberOfItems;Ee+=1){var ve=this.points.getItem(Ee);De.push({type:Ee===0?"M":"L",values:[ve.x,ve.y]})}return De},v.SVGPolygonElement.prototype.getPathData=function(){for(var De=[],Ee=0;Ee<this.points.numberOfItems;Ee+=1){var ve=this.points.getItem(Ee);De.push({type:Ee===0?"M":"L",values:[ve.x,ve.y]})}return De.push({type:"Z",values:[]}),De}}()},Qe=(b={},Ge.m=y=[function(v,H,j){j.r(H);var V=500,ae=[],ne=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(Ie){return setTimeout(Ie,1e3/60)},_e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(Ie){return clearTimeout(Ie)},Se=Date.now(),xe=void 0;function at(){var Ie=void 0,rt=void 0;xe&&(_e.call(window,xe),xe=null),ae.forEach(function(De){var Ee;(Ee=De.event)&&(De.event=null,De.listener(Ee),Ie=!0)}),Ie?(Se=Date.now(),rt=!0):Date.now()-Se<V&&(rt=!0),rt&&(xe=ne.call(window,at))}function Fe(Ie){var rt=-1;return ae.some(function(De,Ee){return De.listener===Ie&&(rt=Ee,!0)}),rt}H.default={add:function(Ie){var rt=void 0;return Fe(Ie)===-1?(ae.push(rt={listener:Ie}),function(De){rt.event=De,xe||at()}):null},remove:function(Ie){-1<(Ie=Fe(Ie))&&(ae.splice(Ie,1),!ae.length&&xe&&(_e.call(window,xe),xe=null))}}}],Ge.c=b,Ge.d=function(v,H,j){Ge.o(v,H)||Object.defineProperty(v,H,{enumerable:!0,get:j})},Ge.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},Ge.t=function(v,H){if(1&H&&(v=Ge(v)),8&H||4&H&&typeof v=="object"&&v&&v.__esModule)return v;var j=Object.create(null);if(Ge.r(j),Object.defineProperty(j,"default",{enumerable:!0,value:v}),2&H&&typeof v!="string")for(var V in v)Ge.d(j,V,(function(ae){return v[ae]}).bind(null,V));return j},Ge.n=function(v){var H=v&&v.__esModule?function(){return v.default}:function(){return v};return Ge.d(H,"a",H),H},Ge.o=function(v,H){return Object.prototype.hasOwnProperty.call(v,H)},Ge.p="",Ge(Ge.s=0).default),Pt={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:ue},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:ue},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:ue},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Zt={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},oi="fade",de=[],Ne={},ut=0,He={},ht=0;function Ge(v){if(b[v])return b[v].exports;var H=b[v]={i:v,l:!1,exports:{}};return y[v].call(H.exports,H,H.exports,Ge),H.l=!0,H.exports}function Rt(){var v=Date.now(),H=!1;k&&(L.call(window,k),k=null),u.forEach(function(j){var V,ae,ne;if(j.framesStart){if((V=v-j.framesStart)>=j.duration&&j.count&&j.loopsLeft<=1)return ne=j.frames[j.lastFrame=j.reverse?0:j.frames.length-1],j.frameCallback(ne.value,!0,ne.timeRatio,ne.outputRatio),void(j.framesStart=null);if(V>j.duration){if(ae=Math.floor(V/j.duration),j.count){if(ae>=j.loopsLeft)return ne=j.frames[j.lastFrame=j.reverse?0:j.frames.length-1],j.frameCallback(ne.value,!0,ne.timeRatio,ne.outputRatio),void(j.framesStart=null);j.loopsLeft-=ae}j.framesStart+=j.duration*ae,V=v-j.framesStart}j.reverse&&(V=j.duration-V),ne=j.frames[j.lastFrame=Math.round(V/E)],j.frameCallback(ne.value,!1,ne.timeRatio,ne.outputRatio)!==!1?H=!0:j.framesStart=null}}),H&&(k=O.call(window,Rt))}function Gt(v,H){v.framesStart=Date.now(),H!=null&&(v.framesStart-=v.duration*(v.reverse?1-H:H)),v.loopsLeft=v.count,v.lastFrame=null,Rt()}function Mi(v,H){var j,V;return typeof v!=typeof H||(j=pe(v)?"obj":Array.isArray(v)?"array":"")!=(pe(H)?"obj":Array.isArray(H)?"array":"")||(j==="obj"?Mi(V=Object.keys(v).sort(),Object.keys(H).sort())||V.some(function(ae){return Mi(v[ae],H[ae])}):j==="array"?v.length!==H.length||v.some(function(ae,ne){return Mi(ae,H[ne])}):v!==H)}function gi(v){return v&&(pe(v)?Object.keys(v).reduce(function(H,j){return H[j]=gi(v[j]),H},{}):Array.isArray(v)?v.map(gi):v)}function ie(v){var H,j,V,ae=1,ne=v=(v+"").trim();function _e(at){var xe=1,at=bt.exec(at);return at&&(xe=parseFloat(at[1]),at[2]?xe=0<=xe&&xe<=100?xe/100:1:(xe<0||1<xe)&&(xe=1)),xe}return(H=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(v))?(j=H[1].toLowerCase(),V=H[2].trim().split(/\s*,\s*/),j==="rgba"&&V.length===4?(ae=_e(V[3]),ne="rgb("+V.slice(0,3).join(", ")+")"):j==="hsla"&&V.length===4?(ae=_e(V[3]),ne="hsl("+V.slice(0,3).join(", ")+")"):j==="hwb"&&V.length===4?(ae=_e(V[3]),ne="hwb("+V.slice(0,3).join(", ")+")"):j==="gray"&&V.length===2?(ae=_e(V[1]),ne="gray("+V[0]+")"):j==="device-cmyk"&&5<=V.length&&(ae=_e(V[4]),ne="device-cmyk("+V.slice(0,4).join(", ")+")")):(H=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(v))?ne=H[1]?(ae=parseInt(H[2],16)/255,"#"+H[1]):(ae=parseInt(H[4]+H[4],16)/255,"#"+H[3]):v.toLocaleLowerCase()==="transparent"&&(ae=0),[ae,ne]}function se(v){return!(!v||v.nodeType!==Node.ELEMENT_NODE||typeof v.getBoundingClientRect!="function")}function be(v,H){var j,V,ae,ne={};if(!(ae=v.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(v.compareDocumentPosition(ae)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(V in j=v.getBoundingClientRect())ne[V]=j[V];if(!H){if(!(ae=ae.defaultView))return console.error("Cannot get window that contains the element."),null;ne.left+=ae.pageXOffset,ne.right+=ae.pageXOffset,ne.top+=ae.pageYOffset,ne.bottom+=ae.pageYOffset}return ne}function je(v,H){var j,V=[],ae=v;for(H=H||window;;){if(!(j=ae.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(j=j.defaultView))return console.error("Cannot get window that contains the element."),null;if(j===H)break;if(!(ae=j.frameElement))return console.error("`baseWindow` was not found."),null;V.unshift(ae)}return V}function gt(v,H){var j=0,V=0;return(H=je(v,H=H||window))?H.length?(H.forEach(function(ae,ne){var _e=be(ae,0<ne);j+=_e.left,V+=_e.top,ae=(ne=ae).ownerDocument.defaultView.getComputedStyle(ne,""),_e={left:ne.clientLeft+parseFloat(ae.paddingLeft),top:ne.clientTop+parseFloat(ae.paddingTop)},j+=_e.left,V+=_e.top}),(H=be(v,!0)).left+=j,H.right+=j,H.top+=V,H.bottom+=V,H):be(v):null}function St(v,V){var j=v.x-V.x,V=v.y-V.y;return Math.sqrt(j*j+V*V)}function Ti(v,ae,j){var V=ae.x-v.x,ae=ae.y-v.y;return{x:v.x+V*j,y:v.y+ae*j,angle:Math.atan2(ae,V)/(Math.PI/180)}}function ei(v,H,j){return v=Math.atan2(v.y-H.y,H.x-v.x),{x:H.x+Math.cos(v)*j,y:H.y+Math.sin(v)*j*-1}}function yi(De,Ee,j,ye,ve){var rt=ve*ve,Ie=rt*ve,ne=1-ve,Fe=ne*ne,at=Fe*ne,_e=at*De.x+3*Fe*ve*Ee.x+3*ne*rt*j.x+Ie*ye.x,Se=at*De.y+3*Fe*ve*Ee.y+3*ne*rt*j.y+Ie*ye.y,xe=De.x+2*ve*(Ee.x-De.x)+rt*(j.x-2*Ee.x+De.x),at=De.y+2*ve*(Ee.y-De.y)+rt*(j.y-2*Ee.y+De.y),Fe=Ee.x+2*ve*(j.x-Ee.x)+rt*(ye.x-2*j.x+Ee.x),Ie=Ee.y+2*ve*(j.y-Ee.y)+rt*(ye.y-2*j.y+Ee.y),rt=ne*De.x+ve*Ee.x,De=ne*De.y+ve*Ee.y,Ee=ne*j.x+ve*ye.x,ve=ne*j.y+ve*ye.y,ye=90-180*Math.atan2(xe-Fe,at-Ie)/Math.PI;return{x:_e,y:Se,fromP2:{x:xe,y:at},toP1:{x:Fe,y:Ie},fromP1:{x:rt,y:De},toP2:{x:Ee,y:ve},angle:ye+=180<ye?-180:180}}function Dt(v,H,j,V,ae){function ne(Ie,rt,De,Ee,ve){return Ie*(Ie*(-3*rt+9*De-9*Ee+3*ve)+6*rt-12*De+6*Ee)-3*rt+3*De}var _e,Se,xe=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],at=0,Fe=(ae=ae==null||1<ae?1:ae<0?0:ae)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(Ie,rt){_e=ne(Se=Fe*Ie+Fe,v.x,H.x,j.x,V.x),Se=ne(Se,v.y,H.y,j.y,V.y),Se=_e*_e+Se*Se,at+=xe[rt]*Math.sqrt(Se)}),Fe*at}function pi(v,H,j,V,ae){for(var ne,_e=.5,Se=1-_e;ne=Dt(v,H,j,V,Se),!(Math.abs(ne-ae)<=.01);)Se+=(ne<ae?1:-1)*(_e/=2);return Se}function er(v,H){var j;return v.forEach(function(V){V=H?V.map(function(ae){return ae={x:ae.x,y:ae.y},H(ae),ae}):V,(j=j||[{type:"M",values:[V[0].x,V[0].y]}]).push(V.length?V.length===2?{type:"L",values:[V[1].x,V[1].y]}:{type:"C",values:[V[1].x,V[1].y,V[2].x,V[2].y,V[3].x,V[3].y]}:{type:"Z",values:[]})}),j}function Qr(v){var H=[],j=0;return v.forEach(function(V){V=(V.length===2?St:Dt).apply(null,V),H.push(V),j+=V}),{segsLen:H,lenAll:j}}function Jr(v,H){return v==null||H==null||v.length!==H.length||v.some(function(j,V){var ae=H[V];return j.type!==ae.type||j.values.some(function(ne,_e){return ne!==ae.values[_e]})})}function wr(v,H,j){v.events[H]?v.events[H].indexOf(j)<0&&v.events[H].push(j):v.events[H]=[j]}function rr(v,H,j){var V;v.events[H]&&-1<(V=v.events[H].indexOf(j))&&v.events[H].splice(V,1)}function Yn(v){a&&clearTimeout(a),de.push(v),a=setTimeout(function(){de.forEach(function(H){H()}),de=[]},0)}function vr(v,H){v.reflowTargets.indexOf(H)<0&&v.reflowTargets.push(H)}function To(v){v.reflowTargets.forEach(function(H){var j;j=H,setTimeout(function(){var V=j.parentNode,ae=j.nextSibling;V.insertBefore(V.removeChild(j),ae)},0)}),v.reflowTargets=[]}function Co(v,H,j,V,ae,ne,_e){var Se;j==="auto-start-reverse"?(typeof h!="boolean"&&(H.setAttribute("orient","auto-start-reverse"),h=H.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),h?H.setAttribute("orient",j):((Se=ae.createSVGTransform()).setRotate(180,0,0),ne.transform.baseVal.appendItem(Se),H.setAttribute("orient","auto"),Se=!0)):(H.setAttribute("orient",j),h===!1&&ne.transform.baseVal.clear()),H=H.viewBox.baseVal,Se?(H.x=-V.right,H.y=-V.bottom):(H.x=V.left,H.y=V.top),H.width=V.width,H.height=V.height,Gi&&vr(v,_e)}function sl(v,H){return{prop:v?"markerEnd":"markerStart",orient:H?H.noRotate?"0":v?"auto":"auto-start-reverse":null}}function jt(v,H){Object.keys(H).forEach(function(j){var V=H[j];v[j]=V.iniValue!=null?V.hasSE?[V.iniValue,V.iniValue]:V.iniValue:V.hasSE?V.hasProps?[{},{}]:[]:V.hasProps?{}:null})}function le(v,H,j,V,ae){return V!==H[j]&&(H[j]=V,ae&&ae.forEach(function(ne){ne(v,V,j)}),!0)}function Ct(V){function H(ne,_e){return ne+parseFloat(_e)}var ae=V.document,j=V.getComputedStyle(ae.documentElement,""),V=V.getComputedStyle(ae.body,""),ae={x:0,y:0};return V.position!=="static"?(ae.x-=[j.marginLeft,j.borderLeftWidth,j.paddingLeft,V.marginLeft,V.borderLeftWidth].reduce(H,0),ae.y-=[j.marginTop,j.borderTopWidth,j.paddingTop,V.marginTop,V.borderTopWidth].reduce(H,0)):j.position!=="static"&&(ae.x-=[j.marginLeft,j.borderLeftWidth].reduce(H,0),ae.y-=[j.marginTop,j.borderTopWidth].reduce(H,0)),ae}function ri(v){var H,j=v.document;j.getElementById(Q)||(H=new v.DOMParser().parseFromString(K,"image/svg+xml"),j.body.appendChild(H.documentElement),Ze(v,jr))}function Ar(v){var H,j,V,ae,ne,_e,Se,xe,at,Fe,Ie,rt,De,Ee,ve=v.options,ye=v.curStats,Oe=v.aplStats,Ae=ye.position_socketXYSE,Ft=!1;function Xe(ke,lt){return ke=lt===I?{x:ke.left+ke.width/2,y:ke.top}:lt===U?{x:ke.right,y:ke.top+ke.height/2}:lt===z?{x:ke.left+ke.width/2,y:ke.bottom}:{x:ke.left,y:ke.top+ke.height/2},ke.socketId=lt,ke}function qt(ke){return{x:ke.x,y:ke.y}}if(ye.position_path=ve.path,ye.position_lineStrokeWidth=ye.line_strokeWidth,ye.position_socketGravitySE=H=gi(ve.socketGravitySE),j=[0,1].map(function(ke){var lt=ve.anchorSE[ke],ot=v.optionIsAttach.anchorSE[ke],he=ot!==!1?He[lt._id]:null,Ce=ot!==!1&&he.conf.getStrokeWidth?he.conf.getStrokeWidth(he,v):0,$e=ot!==!1&&he.conf.getBBoxNest?he.conf.getBBoxNest(he,v,Ce):gt(lt,v.baseWindow);return ye.capsMaskAnchor_pathDataSE[ke]=ot!==!1&&he.conf.getPathData?he.conf.getPathData(he,v,Ce):(ot=(lt=$e).right!=null?lt.right:lt.left+lt.width,he=lt.bottom!=null?lt.bottom:lt.top+lt.height,[{type:"M",values:[lt.left,lt.top]},{type:"L",values:[ot,lt.top]},{type:"L",values:[ot,he]},{type:"L",values:[lt.left,he]},{type:"Z",values:[]}]),ye.capsMaskAnchor_strokeWidthSE[ke]=Ce,$e}),Se=-1,ve.socketSE[0]&&ve.socketSE[1]?(Ae[0]=Xe(j[0],ve.socketSE[0]),Ae[1]=Xe(j[1],ve.socketSE[1])):(ve.socketSE[0]||ve.socketSE[1]?(_e=ve.socketSE[0]?(ne=0,1):(ne=1,0),Ae[ne]=Xe(j[ne],ve.socketSE[ne]),(ae=Pe.map(function(ke){return Xe(j[_e],ke)})).forEach(function(ke){var lt=St(ke,Ae[ne]);(lt<Se||Se===-1)&&(Ae[_e]=ke,Se=lt)})):(ae=Pe.map(function(ke){return Xe(j[1],ke)}),Pe.map(function(ke){return Xe(j[0],ke)}).forEach(function(ke){ae.forEach(function(lt){var ot=St(ke,lt);(ot<Se||Se===-1)&&(Ae[0]=ke,Ae[1]=lt,Se=ot)})})),[0,1].forEach(function(ke){var lt,ot;ve.socketSE[ke]||(j[ke].width||j[ke].height?j[ke].width||Ae[ke].socketId!==f&&Ae[ke].socketId!==U?j[ke].height||Ae[ke].socketId!==I&&Ae[ke].socketId!==z||(Ae[ke].socketId=0<=Ae[ke?0:1].y-j[ke].top?z:I):Ae[ke].socketId=0<=Ae[ke?0:1].x-j[ke].left?U:f:(lt=Ae[ke?0:1].x-j[ke].left,ot=Ae[ke?0:1].y-j[ke].top,Ae[ke].socketId=Math.abs(lt)>=Math.abs(ot)?0<=lt?U:f:0<=ot?z:I))})),ye.position_path!==Oe.position_path||ye.position_lineStrokeWidth!==Oe.position_lineStrokeWidth||[0,1].some(function(ke){return ye.position_plugOverheadSE[ke]!==Oe.position_plugOverheadSE[ke]||(lt=Ae[ke],ot=Oe.position_socketXYSE[ke],lt.x!==ot.x||lt.y!==ot.y||lt.socketId!==ot.socketId)||(lt=H[ke],ot=Oe.position_socketGravitySE[ke],(ke=lt==null?"auto":Array.isArray(lt)?"array":"number")!=(ot==null?"auto":Array.isArray(ot)?"array":"number")||(ke=="array"?lt[0]!==ot[0]||lt[1]!==ot[1]:lt!==ot));var lt,ot})){switch(v.pathList.baseVal=V=[],v.pathList.animVal=null,ye.position_path){case A:V.push([qt(Ae[0]),qt(Ae[1])]);break;case R:rt=typeof H[0]=="number"&&0<H[0]||typeof H[1]=="number"&&0<H[1],De=Ji*(rt?-1:1),Ee=Math.atan2(Ae[1].y-Ae[0].y,Ae[1].x-Ae[0].x),rt=De-Ee,Ee=Math.PI-Ee-De,De=St(Ae[0],Ae[1])/Math.sqrt(2)*Qi,rt={x:Ae[0].x+Math.cos(rt)*De,y:Ae[0].y+Math.sin(rt)*De*-1},De={x:Ae[1].x+Math.cos(Ee)*De,y:Ae[1].y+Math.sin(Ee)*De*-1},V.push([qt(Ae[0]),rt,De,qt(Ae[1])]);break;case B:case W:at=[H[0],ye.position_path===W?0:H[1]],Fe=[],Ie=[],Ae.forEach(function(ke,lt){var ot,he=at[lt],Ce=Array.isArray(he)?{x:he[0],y:he[1]}:typeof he=="number"?ke.socketId===I?{x:0,y:-he}:ke.socketId===U?{x:he,y:0}:ke.socketId===z?{x:0,y:he}:{x:-he,y:0}:(ot=Ae[lt?0:1],he=0<(he=ye.position_plugOverheadSE[lt])?Yt+($t<he?(he-$t)*Ri:0):vt+(ye.position_lineStrokeWidth>Lt?(ye.position_lineStrokeWidth-Lt)*Re:0),ke.socketId===I?{x:0,y:-(Ce=(Ce=(ke.y-ot.y)/2)<he?he:Ce)}:ke.socketId===U?{x:Ce=(Ce=(ot.x-ke.x)/2)<he?he:Ce,y:0}:ke.socketId===z?{x:0,y:Ce=(Ce=(ot.y-ke.y)/2)<he?he:Ce}:{x:-(Ce=(Ce=(ke.x-ot.x)/2)<he?he:Ce),y:0});Fe[lt]=ke.x+Ce.x,Ie[lt]=ke.y+Ce.y}),V.push([qt(Ae[0]),{x:Fe[0],y:Ie[0]},{x:Fe[1],y:Ie[1]},qt(Ae[1])]);break;case $:(function(){var ke,lt=1,ot=2,he=3,Ce=4,$e=[[],[]],Ve=[];function _t(Tt){return Tt===lt?he:Tt===ot?Ce:Tt===he?lt:ot}function Je(Tt){return Tt===ot||Tt===Ce?"x":"y"}function Vi(Tt,tt,tr){var ui={x:Tt.x,y:Tt.y};if(tr){if(tr===_t(Tt.dirId))throw new Error("Invalid dirId: "+tr);ui.dirId=tr}else ui.dirId=Tt.dirId;return ui.dirId===lt?ui.y-=tt:ui.dirId===ot?ui.x+=tt:ui.dirId===he?ui.y+=tt:ui.x-=tt,ui}function Yi(Tt,tt){return tt.dirId===lt?Tt.y<=tt.y:tt.dirId===ot?Tt.x>=tt.x:tt.dirId===he?Tt.y>=tt.y:Tt.x<=tt.x}function Ii(Tt,tt){return tt.dirId===lt||tt.dirId===he?Tt.x===tt.x:Tt.y===tt.y}function Ai(Tt){return Tt[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function li(Tt,tt,tr){return Math.abs(tt[tr]-Tt[tr])}function Kt(Tt,tt,tr){return tr==="x"?Tt.x<tt.x?ot:Ce:Tt.y<tt.y?he:lt}for(Ae.forEach(function(Tt,tt){var tr=qt(Tt),ui=H[tt];Tt=Array.isArray(ui)?ui[0]<0?[Ce,-ui[0]]:0<ui[0]?[ot,ui[0]]:ui[1]<0?[lt,-ui[1]]:0<ui[1]?[he,ui[1]]:[Tt.socketId,0]:typeof ui!="number"?[Tt.socketId,Si]:0<=ui?[Tt.socketId,ui]:[_t(Tt.socketId),-ui],tr.dirId=Tt[0],ui=Tt[1],$e[tt].push(tr),Ve[tt]=Vi(tr,ui)});function(){var Tt,tt,tr,ui,Gr=[Yi(Ve[1],Ve[0]),Yi(Ve[0],Ve[1])],qr=[Je(Ve[0].dirId),Je(Ve[1].dirId)];if(qr[0]===qr[1]){if(Gr[0]&&Gr[1])return void(Ii(Ve[1],Ve[0])||(Ve[0][qr[0]]===Ve[1][qr[1]]?($e[0].push(Ve[0]),$e[1].push(Ve[1])):(Tt=Ve[0][qr[0]]+(Ve[1][qr[1]]-Ve[0][qr[0]])/2,$e[0].push(Vi(Ve[0],Math.abs(Tt-Ve[0][qr[0]]))),$e[1].push(Vi(Ve[1],Math.abs(Tt-Ve[1][qr[1]]))))));Gr[0]!==Gr[1]?(tt=Ai(Gr),(tr=li(Ve[tt.notContain],Ve[tt.contain],qr[tt.notContain]))<Si&&(Ve[tt.notContain]=Vi(Ve[tt.notContain],Si-tr)),$e[tt.notContain].push(Ve[tt.notContain]),Ve[tt.notContain]=Vi(Ve[tt.notContain],Si,Ii(Ve[tt.contain],Ve[tt.notContain])?qr[tt.notContain]==="x"?he:ot:Kt(Ve[tt.notContain],Ve[tt.contain],qr[tt.notContain]==="x"?"y":"x"))):(tr=li(Ve[0],Ve[1],qr[0]==="x"?"y":"x"),$e.forEach(function(Gn,Xr){var br=Xr===0?1:0;Gn.push(Ve[Xr]),Ve[Xr]=Vi(Ve[Xr],Si,2*Si<=tr?Kt(Ve[Xr],Ve[br],qr[Xr]==="x"?"y":"x"):qr[Xr]==="x"?he:ot)}))}else{if(Gr[0]&&Gr[1])return void(Ii(Ve[1],Ve[0])?$e[1].push(Ve[1]):Ii(Ve[0],Ve[1])?$e[0].push(Ve[0]):$e[0].push(qr[0]==="x"?{x:Ve[1].x,y:Ve[0].y}:{x:Ve[0].x,y:Ve[1].y}));Gr[0]!==Gr[1]?(tt=Ai(Gr),$e[tt.notContain].push(Ve[tt.notContain]),Ve[tt.notContain]=Vi(Ve[tt.notContain],Si,li(Ve[tt.notContain],Ve[tt.contain],qr[tt.contain])>=Si?Kt(Ve[tt.notContain],Ve[tt.contain],qr[tt.contain]):Ve[tt.contain].dirId)):(ui=[{x:Ve[0].x,y:Ve[0].y},{x:Ve[1].x,y:Ve[1].y}],$e.forEach(function(Gn,Xr){var br=Xr===0?1:0,qe=li(ui[Xr],ui[br],qr[Xr]);qe<Si&&(Ve[Xr]=Vi(Ve[Xr],Si-qe)),Gn.push(Ve[Xr]),Ve[Xr]=Vi(Ve[Xr],Si,Kt(Ve[Xr],Ve[br],qr[br]))}))}return 1}(););$e[1].reverse(),$e[0].concat($e[1]).forEach(function(Tt,tt){Tt={x:Tt.x,y:Tt.y},0<tt&&V.push([ke,Tt]),ke=Tt})})()}xe=[],ye.position_plugOverheadSE.forEach(function(ke,lt){var ot,he,Ce,$e,Ve,_t,Je,Vi,Yi,Ii=!lt;0<ke?(ot=V[he=Ii?0:V.length-1]).length===2?(xe[he]=xe[he]||St.apply(null,ot),xe[he]>nt&&(xe[he]-ke<nt&&(ke=xe[he]-nt),Je=Ti(ot[0],ot[1],(Ii?ke:xe[he]-ke)/xe[he]),V[he]=Ii?[Je,ot[1]]:[ot[0],Je],xe[he]-=ke)):(xe[he]=xe[he]||Dt.apply(null,ot),xe[he]>nt&&(xe[he]-ke<nt&&(ke=xe[he]-nt),Je=yi(ot[0],ot[1],ot[2],ot[3],pi(ot[0],ot[1],ot[2],ot[3],Ii?ke:xe[he]-ke)),$e=Ii?(Ce=ot[0],Je.toP1):(Ce=ot[3],Je.fromP2),Ve=Math.atan2(Ce.y-Je.y,Je.x-Ce.x),_t=St(Je,$e),Je.x=Ce.x+Math.cos(Ve)*ke,Je.y=Ce.y+Math.sin(Ve)*ke*-1,$e.x=Je.x+Math.cos(Ve)*_t,$e.y=Je.y+Math.sin(Ve)*_t*-1,V[he]=Ii?[Je,Je.toP1,Je.toP2,ot[3]]:[ot[0],Je.fromP1,Je.fromP2,Je],xe[he]=null)):ke<0&&(ot=V[he=Ii?0:V.length-1],Je=Ae[lt].socketId,lt=-j[lt][(Vi=Je===f||Je===U?"x":"y")=="x"?"width":"height"],Yi=(ke=ke<lt?lt:ke)*(Je===f||Je===I?-1:1),ot.length===2?ot[Ii?0:ot.length-1][Vi]+=Yi:(Ii?[0,1]:[ot.length-2,ot.length-1]).forEach(function(Ai){ot[Ai][Vi]+=Yi}),xe[he]=null)}),Oe.position_socketXYSE=gi(Ae),Oe.position_plugOverheadSE=gi(ye.position_plugOverheadSE),Oe.position_path=ye.position_path,Oe.position_lineStrokeWidth=ye.position_lineStrokeWidth,Oe.position_socketGravitySE=gi(H),Ft=!0,v.events.apl_position&&v.events.apl_position.forEach(function(ke){ke(v,V)})}return Ft}function Br(v,H){H!==v.isShown&&(!!H!=!!v.isShown&&(v.svg.style.visibility=H?"":"hidden"),v.isShown=H,v.events&&v.events.svgShow&&v.events.svgShow.forEach(function(j){j(v,H)}))}function ti(v,H){var j,V,ae,ne,_e,Se,xe,at,Fe,Ie,rt,De,Ee,ve,ye,Oe,Ae,Ft,Xe,qt,ke,lt,ot,he,Ce,$e,Ve,_t,Je,Vi,Yi,Ii,Ai,li,Kt,Tt,tt,tr,ui,Gr,qr,Gn,Xr,br={};H.line&&(br.line=(at=(j=v).options,V=j.curStats,Fe=j.events,Ie=!1,Ie=le(j,V,"line_color",at.lineColor,Fe.cur_line_color)||Ie,Ie=le(j,V,"line_colorTra",ie(V.line_color)[0]<1)||Ie,Ie=le(j,V,"line_strokeWidth",at.lineSize,Fe.cur_line_strokeWidth)||Ie)),(H.plug||br.line)&&(br.plug=(ne=(ae=v).options,_e=ae.curStats,Se=ae.events,xe=!1,[0,1].forEach(function(qe){var vi,Nr,Vs,os,ha,vu,nl,Zs,ua=ne.plugSE[qe];xe=le(ae,_e.plug_enabledSE,qe,ua!==ue)||xe,xe=le(ae,_e.plug_plugSE,qe,ua)||xe,xe=le(ae,_e.plug_colorSE,qe,Zs=ne.plugColorSE[qe]||_e.line_color,Se.cur_plug_colorSE)||xe,xe=le(ae,_e.plug_colorTraSE,qe,ie(Zs)[0]<1)||xe,ua!==ue&&(os=Nr=(vi=we[Ke[ua]]).widthR*ne.plugSizeSE[qe],ha=Vs=vi.heightR*ne.plugSizeSE[qe],Li&&(os*=_e.line_strokeWidth,ha*=_e.line_strokeWidth),xe=le(ae,_e.plug_markerWidthSE,qe,os)||xe,xe=le(ae,_e.plug_markerHeightSE,qe,ha)||xe,_e.capsMaskMarker_markerWidthSE[qe]=Nr,_e.capsMaskMarker_markerHeightSE[qe]=Vs),_e.plugOutline_plugSE[qe]=_e.capsMaskMarker_plugSE[qe]=ua,_e.plug_enabledSE[qe]?(Zs=_e.line_strokeWidth/J.lineSize*ne.plugSizeSE[qe],_e.position_plugOverheadSE[qe]=vi.overhead*Zs,_e.viewBox_plugBCircleSE[qe]=vi.bCircle*Zs,vu=vi.sideLen*Zs,nl=vi.backLen*Zs):(_e.position_plugOverheadSE[qe]=-_e.line_strokeWidth/2,_e.viewBox_plugBCircleSE[qe]=vu=nl=0),le(ae,_e.attach_plugSideLenSE,qe,vu,Se.cur_attach_plugSideLenSE),le(ae,_e.attach_plugBackLenSE,qe,nl,Se.cur_attach_plugBackLenSE),_e.capsMaskAnchor_enabledSE[qe]=!_e.plug_enabledSE[qe]}),xe=le(ae,_e,"plug_enabled",_e.plug_enabledSE[0]||_e.plug_enabledSE[1])||xe)),(H.lineOutline||br.line)&&(br.lineOutline=(Fe=(at=v).options,Ie=at.curStats,ot=!1,ot=le(at,Ie,"lineOutline_enabled",Fe.lineOutlineEnabled)||ot,ot=le(at,Ie,"lineOutline_color",Fe.lineOutlineColor)||ot,ot=le(at,Ie,"lineOutline_colorTra",ie(Ie.lineOutline_color)[0]<1)||ot,Fe=Ie.line_strokeWidth*Fe.lineOutlineSize,ot=le(at,Ie,"lineOutline_strokeWidth",Ie.line_strokeWidth-2*Fe)||ot,ot=le(at,Ie,"lineOutline_inStrokeWidth",Ie.lineOutline_colorTra?Ie.lineOutline_strokeWidth+2*_r:Ie.line_strokeWidth-Fe)||ot)),(H.plugOutline||br.line||br.plug||br.lineOutline)&&(br.plugOutline=(De=(rt=v).options,Ee=rt.curStats,ve=!1,[0,1].forEach(function(qe){var vi=Ee.plugOutline_plugSE[qe],Nr=vi!==ue?we[Ke[vi]]:null;ve=le(rt,Ee.plugOutline_enabledSE,qe,De.plugOutlineEnabledSE[qe]&&Ee.plug_enabled&&Ee.plug_enabledSE[qe]&&!!Nr&&!!Nr.outlineBase)||ve,ve=le(rt,Ee.plugOutline_colorSE,qe,vi=De.plugOutlineColorSE[qe]||Ee.lineOutline_color)||ve,ve=le(rt,Ee.plugOutline_colorTraSE,qe,ie(vi)[0]<1)||ve,Nr&&Nr.outlineBase&&((vi=De.plugOutlineSizeSE[qe])>Nr.outlineMax&&(vi=Nr.outlineMax),vi*=2*Nr.outlineBase,ve=le(rt,Ee.plugOutline_strokeWidthSE,qe,vi)||ve,ve=le(rt,Ee.plugOutline_inStrokeWidthSE,qe,Ee.plugOutline_colorTraSE[qe]?vi-_r/(Ee.line_strokeWidth/J.lineSize)/De.plugSizeSE[qe]*2:vi/2)||ve)}),ve)),(H.faces||br.line||br.plug||br.lineOutline||br.plugOutline)&&(br.faces=(Ae=(ye=v).curStats,Ft=ye.aplStats,Xe=ye.events,qt=!1,!Ae.line_altColor&&le(ye,Ft,"line_color",Oe=Ae.line_color,Xe.apl_line_color)&&(ye.lineFace.style.stroke=Oe,qt=!0),le(ye,Ft,"line_strokeWidth",Oe=Ae.line_strokeWidth,Xe.apl_line_strokeWidth)&&(ye.lineShape.style.strokeWidth=Oe+"px",qt=!0,(jr||Gi)&&(vr(ye,ye.lineShape),Gi&&(vr(ye,ye.lineFace),vr(ye,ye.lineMaskCaps)))),le(ye,Ft,"lineOutline_enabled",Oe=Ae.lineOutline_enabled,Xe.apl_lineOutline_enabled)&&(ye.lineOutlineFace.style.display=Oe?"inline":"none",qt=!0),Ae.lineOutline_enabled&&(le(ye,Ft,"lineOutline_color",Oe=Ae.lineOutline_color,Xe.apl_lineOutline_color)&&(ye.lineOutlineFace.style.stroke=Oe,qt=!0),le(ye,Ft,"lineOutline_strokeWidth",Oe=Ae.lineOutline_strokeWidth,Xe.apl_lineOutline_strokeWidth)&&(ye.lineOutlineMaskShape.style.strokeWidth=Oe+"px",qt=!0,Gi&&(vr(ye,ye.lineOutlineMaskCaps),vr(ye,ye.lineOutlineFace))),le(ye,Ft,"lineOutline_inStrokeWidth",Oe=Ae.lineOutline_inStrokeWidth,Xe.apl_lineOutline_inStrokeWidth)&&(ye.lineMaskShape.style.strokeWidth=Oe+"px",qt=!0,Gi&&(vr(ye,ye.lineOutlineMaskCaps),vr(ye,ye.lineOutlineFace)))),le(ye,Ft,"plug_enabled",Oe=Ae.plug_enabled,Xe.apl_plug_enabled)&&(ye.plugsFace.style.display=Oe?"inline":"none",qt=!0),Ae.plug_enabled&&[0,1].forEach(function(qe){var vi=Ae.plug_plugSE[qe],Nr=vi!==ue?we[Ke[vi]]:null,Vs=sl(qe,Nr);le(ye,Ft.plug_enabledSE,qe,Oe=Ae.plug_enabledSE[qe],Xe.apl_plug_enabledSE)&&(ye.plugsFace.style[Vs.prop]=Oe?"url(#"+ye.plugMarkerIdSE[qe]+")":"none",qt=!0),Ae.plug_enabledSE[qe]&&(le(ye,Ft.plug_plugSE,qe,vi,Xe.apl_plug_plugSE)&&(ye.plugFaceSE[qe].href.baseVal="#"+Nr.elmId,Co(ye,ye.plugMarkerSE[qe],Vs.orient,Nr.bBox,ye.svg,ye.plugMarkerShapeSE[qe],ye.plugsFace),qt=!0,jr&&vr(ye,ye.plugsFace)),le(ye,Ft.plug_colorSE,qe,Oe=Ae.plug_colorSE[qe],Xe.apl_plug_colorSE)&&(ye.plugFaceSE[qe].style.fill=Oe,qt=!0,(Zr||Li||Gi)&&!Ae.line_colorTra&&vr(ye,Gi?ye.lineMaskCaps:ye.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(os){var ha="plug_"+os+"SE";le(ye,Ft[ha],qe,Oe=Ae[ha][qe],Xe["apl_"+ha])&&(ye.plugMarkerSE[qe][os].baseVal.value=Oe,qt=!0)}),le(ye,Ft.plugOutline_enabledSE,qe,Oe=Ae.plugOutline_enabledSE[qe],Xe.apl_plugOutline_enabledSE)&&(Oe?(ye.plugFaceSE[qe].style.mask="url(#"+ye.plugMaskIdSE[qe]+")",ye.plugOutlineFaceSE[qe].style.display="inline"):(ye.plugFaceSE[qe].style.mask="none",ye.plugOutlineFaceSE[qe].style.display="none"),qt=!0),Ae.plugOutline_enabledSE[qe]&&(le(ye,Ft.plugOutline_plugSE,qe,vi,Xe.apl_plugOutline_plugSE)&&(ye.plugOutlineFaceSE[qe].href.baseVal=ye.plugMaskShapeSE[qe].href.baseVal=ye.plugOutlineMaskShapeSE[qe].href.baseVal="#"+Nr.elmId,[ye.plugMaskSE[qe],ye.plugOutlineMaskSE[qe]].forEach(function(os){os.x.baseVal.value=Nr.bBox.left,os.y.baseVal.value=Nr.bBox.top,os.width.baseVal.value=Nr.bBox.width,os.height.baseVal.value=Nr.bBox.height}),qt=!0),le(ye,Ft.plugOutline_colorSE,qe,Oe=Ae.plugOutline_colorSE[qe],Xe.apl_plugOutline_colorSE)&&(ye.plugOutlineFaceSE[qe].style.fill=Oe,qt=!0,Gi&&(vr(ye,ye.lineMaskCaps),vr(ye,ye.lineOutlineMaskCaps))),le(ye,Ft.plugOutline_strokeWidthSE,qe,Oe=Ae.plugOutline_strokeWidthSE[qe],Xe.apl_plugOutline_strokeWidthSE)&&(ye.plugOutlineMaskShapeSE[qe].style.strokeWidth=Oe+"px",qt=!0),le(ye,Ft.plugOutline_inStrokeWidthSE,qe,Oe=Ae.plugOutline_inStrokeWidthSE[qe],Xe.apl_plugOutline_inStrokeWidthSE)&&(ye.plugMaskShapeSE[qe].style.strokeWidth=Oe+"px",qt=!0)))}),qt)),(H.position||br.line||br.plug)&&(br.position=Ar(v)),(H.path||br.position)&&(br.path=(ot=(ke=v).curStats,Ve=ke.aplStats,$e=ke.pathList.animVal||ke.pathList.baseVal,he=ot.path_edge,_t=!1,$e&&(he.x1=he.x2=$e[0][0].x,he.y1=he.y2=$e[0][0].y,ot.path_pathData=lt=er($e,function(qe){qe.x<he.x1&&(he.x1=qe.x),qe.y<he.y1&&(he.y1=qe.y),qe.x>he.x2&&(he.x2=qe.x),qe.y>he.y2&&(he.y2=qe.y)}),Jr(lt,Ve.path_pathData)&&(ke.linePath.setPathData(lt),Ve.path_pathData=lt,_t=!0,Gi?(vr(ke,ke.plugsFace),vr(ke,ke.lineMaskCaps)):jr&&vr(ke,ke.linePath),ke.events.apl_path&&ke.events.apl_path.forEach(function(qe){qe(ke,lt)}))),_t)),br.viewBox=($e=(Ce=v).curStats,Ve=Ce.aplStats,_t=$e.path_edge,Je=$e.viewBox_bBox,Vi=Ve.viewBox_bBox,Yi=Ce.svg.viewBox.baseVal,Ii=Ce.svg.style,Ai=!1,Ve=Math.max($e.line_strokeWidth/2,$e.viewBox_plugBCircleSE[0]||0,$e.viewBox_plugBCircleSE[1]||0),li={x1:_t.x1-Ve,y1:_t.y1-Ve,x2:_t.x2+Ve,y2:_t.y2+Ve},Ce.events.new_edge4viewBox&&Ce.events.new_edge4viewBox.forEach(function(qe){qe(Ce,li)}),Je.x=$e.lineMask_x=$e.lineOutlineMask_x=$e.maskBGRect_x=li.x1,Je.y=$e.lineMask_y=$e.lineOutlineMask_y=$e.maskBGRect_y=li.y1,Je.width=li.x2-li.x1,Je.height=li.y2-li.y1,["x","y","width","height"].forEach(function(qe){var vi;(vi=Je[qe])!==Vi[qe]&&(Yi[qe]=Vi[qe]=vi,Ii[it[qe]]=vi+(qe==="x"||qe==="y"?Ce.bodyOffset[qe]:0)+"px",Ai=!0)}),Ai),br.mask=(tt=(Kt=v).curStats,tr=Kt.aplStats,ui=!1,tt.plug_enabled?[0,1].forEach(function(qe){tt.capsMaskMarker_enabledSE[qe]=tt.plug_enabledSE[qe]&&tt.plug_colorTraSE[qe]||tt.plugOutline_enabledSE[qe]&&tt.plugOutline_colorTraSE[qe]}):tt.capsMaskMarker_enabledSE[0]=tt.capsMaskMarker_enabledSE[1]=!1,tt.capsMaskMarker_enabled=tt.capsMaskMarker_enabledSE[0]||tt.capsMaskMarker_enabledSE[1],tt.lineMask_outlineMode=tt.lineOutline_enabled,tt.caps_enabled=tt.capsMaskMarker_enabled||tt.capsMaskAnchor_enabledSE[0]||tt.capsMaskAnchor_enabledSE[1],tt.lineMask_enabled=tt.caps_enabled||tt.lineMask_outlineMode,(tt.lineMask_enabled&&!tt.lineMask_outlineMode||tt.lineOutline_enabled)&&["x","y"].forEach(function(qe){var vi="maskBGRect_"+qe;le(Kt,tr,vi,Tt=tt[vi])&&(Kt.maskBGRect[qe].baseVal.value=Tt,ui=!0)}),le(Kt,tr,"lineMask_enabled",Tt=tt.lineMask_enabled)&&(Kt.lineFace.style.mask=Tt?"url(#"+Kt.lineMaskId+")":"none",ui=!0,Li&&vr(Kt,Kt.lineMask)),tt.lineMask_enabled&&(le(Kt,tr,"lineMask_outlineMode",Tt=tt.lineMask_outlineMode)&&(Tt?(Kt.lineMaskBG.style.display="none",Kt.lineMaskShape.style.display="inline"):(Kt.lineMaskBG.style.display="inline",Kt.lineMaskShape.style.display="none"),ui=!0),["x","y"].forEach(function(qe){var vi="lineMask_"+qe;le(Kt,tr,vi,Tt=tt[vi])&&(Kt.lineMask[qe].baseVal.value=Tt,ui=!0)}),le(Kt,tr,"caps_enabled",Tt=tt.caps_enabled)&&(Kt.lineMaskCaps.style.display=Kt.lineOutlineMaskCaps.style.display=Tt?"inline":"none",ui=!0,Li&&vr(Kt,Kt.capsMaskLine)),tt.caps_enabled&&([0,1].forEach(function(qe){var vi;le(Kt,tr.capsMaskAnchor_enabledSE,qe,Tt=tt.capsMaskAnchor_enabledSE[qe])&&(Kt.capsMaskAnchorSE[qe].style.display=Tt?"inline":"none",ui=!0,Li&&vr(Kt,Kt.lineMask)),tt.capsMaskAnchor_enabledSE[qe]&&(Jr(vi=tt.capsMaskAnchor_pathDataSE[qe],tr.capsMaskAnchor_pathDataSE[qe])&&(Kt.capsMaskAnchorSE[qe].setPathData(vi),tr.capsMaskAnchor_pathDataSE[qe]=vi,ui=!0),le(Kt,tr.capsMaskAnchor_strokeWidthSE,qe,Tt=tt.capsMaskAnchor_strokeWidthSE[qe])&&(Kt.capsMaskAnchorSE[qe].style.strokeWidth=Tt+"px",ui=!0))}),le(Kt,tr,"capsMaskMarker_enabled",Tt=tt.capsMaskMarker_enabled)&&(Kt.capsMaskLine.style.display=Tt?"inline":"none",ui=!0),tt.capsMaskMarker_enabled&&[0,1].forEach(function(qe){var vi=tt.capsMaskMarker_plugSE[qe],Nr=vi!==ue?we[Ke[vi]]:null,Vs=sl(qe,Nr);le(Kt,tr.capsMaskMarker_enabledSE,qe,Tt=tt.capsMaskMarker_enabledSE[qe])&&(Kt.capsMaskLine.style[Vs.prop]=Tt?"url(#"+Kt.lineMaskMarkerIdSE[qe]+")":"none",ui=!0),tt.capsMaskMarker_enabledSE[qe]&&(le(Kt,tr.capsMaskMarker_plugSE,qe,vi)&&(Kt.capsMaskMarkerShapeSE[qe].href.baseVal="#"+Nr.elmId,Co(Kt,Kt.capsMaskMarkerSE[qe],Vs.orient,Nr.bBox,Kt.svg,Kt.capsMaskMarkerShapeSE[qe],Kt.capsMaskLine),ui=!0,jr&&(vr(Kt,Kt.capsMaskLine),vr(Kt,Kt.lineFace))),["markerWidth","markerHeight"].forEach(function(os){var ha="capsMaskMarker_"+os+"SE";le(Kt,tr[ha],qe,Tt=tt[ha][qe])&&(Kt.capsMaskMarkerSE[qe][os].baseVal.value=Tt,ui=!0)}))}))),tt.lineOutline_enabled&&["x","y"].forEach(function(qe){var vi="lineOutlineMask_"+qe;le(Kt,tr,vi,Tt=tt[vi])&&(Kt.lineOutlineMask[qe].baseVal.value=Tt,ui=!0)}),ui),H.effect&&(Gn=(Gr=v).curStats,Xr=Gr.aplStats,Object.keys(t).forEach(function(os){var vi=t[os],Nr=os+"_enabled",Vs=os+"_options",os=Gn[Vs];le(Gr,Xr,Nr,qr=Gn[Nr])?(qr&&(Xr[Vs]=gi(os)),vi[qr?"init":"remove"](Gr)):qr&&Mi(os,Xr[Vs])&&(vi.remove(Gr),Xr[Nr]=!0,Xr[Vs]=gi(os),vi.init(Gr))})),(Zr||Li)&&br.line&&!br.path&&vr(v,v.lineShape),Zr&&br.plug&&!br.line&&vr(v,v.plugsFace),To(v)}function ys(v,H){return{duration:(ce(v.duration)&&0<v.duration?v:H).duration,timing:Be.validTiming(v.timing)?v.timing:gi(H.timing)}}function bs(v,H,j,V){var ae=v.curStats,ne=v.aplStats,_e={};function Se(){["show_on","show_effect","show_animOptions"].forEach(function(xe){ne[xe]=ae[xe]})}ae.show_on=H,j&&e[j]&&(ae.show_effect=j,ae.show_animOptions=ys(pe(V)?V:{},e[j].defaultAnimOptions)),_e.show_on=ae.show_on!==ne.show_on,_e.show_effect=ae.show_effect!==ne.show_effect,_e.show_animOptions=Mi(ae.show_animOptions,ne.show_animOptions),_e.show_effect||_e.show_animOptions?ae.show_inAnim?(j=_e.show_effect?e[ne.show_effect].stop(v,!0,!0):e[ne.show_effect].stop(v),Se(),e[ne.show_effect].init(v,j)):_e.show_on&&(ne.show_effect&&_e.show_effect&&e[ne.show_effect].stop(v,!0,!0),Se(),e[ne.show_effect].init(v)):_e.show_on&&(Se(),e[ne.show_effect].start(v))}function Qa(v,H,j){return j={props:v,optionName:j},v.attachments.indexOf(H)<0&&(!H.conf.bind||H.conf.bind(H,j))&&(v.attachments.push(H),H.boundTargets.push(j),1)}function is(v,H,j){var V=v.attachments.indexOf(H);-1<V&&v.attachments.splice(V,1),H.boundTargets.some(function(ae,ne){return ae.props===v&&(H.conf.unbind&&H.conf.unbind(H,ae),V=ne,!0)})&&(H.boundTargets.splice(V,1),j||Yn(function(){H.boundTargets.length||l(H)}))}function Eo(v,H){var j,V,ae,ne,_e,Se,xe,at,Fe,Ie,rt,De,Ee,ve,ye,Oe=v.options,Ae={};function Ft(he,Ce,$e,Ve,_t){var Je={};return $e?Ve!=null?(Je.container=he[$e],Je.key=Ve):(Je.container=he,Je.key=$e):(Je.container=he,Je.key=Ce),Je.default=_t,Je.acceptsAuto=Je.default==null,Je}function Xe(he,Ce,$e,Ve,_t,Je,li){var Yi,Ii,Ai,li=Ft(he,$e,_t,Je,li);return Ce[$e]!=null&&(Ii=(Ce[$e]+"").toLowerCase())&&(li.acceptsAuto&&Ii===We||(Ai=Ve[Ii]))&&Ai!==li.container[li.key]&&(li.container[li.key]=Ai,Yi=!0),li.container[li.key]!=null||li.acceptsAuto||(li.container[li.key]=li.default,Yi=!0),Yi}function qt(he,Ce,$e,Ve,_t,Je,tt,Yi,Ii){var Ai,li,Kt,Tt,tt=Ft(he,$e,_t,Je,tt);if(!Ve){if(tt.default==null)throw new Error("Invalid `type`: "+$e);Ve=typeof tt.default}return Ce[$e]!=null&&(tt.acceptsAuto&&(Ce[$e]+"").toLowerCase()===We||(Kt=li=Ce[$e],((Tt=Ve)==="number"?ce(Kt):typeof Kt===Tt)&&(li=Ii&&Ve==="string"&&li?li.trim():li,1)&&(!Yi||Yi(li))))&&li!==tt.container[tt.key]&&(tt.container[tt.key]=li,Ai=!0),tt.container[tt.key]!=null||tt.acceptsAuto||(tt.container[tt.key]=tt.default,Ai=!0),Ai}if(H=H||{},["start","end"].forEach(function(he,Ce){var $e=H[he],Ve=!1;if($e&&(se($e)||(Ve=n($e,"anchor")))&&$e!==Oe.anchorSE[Ce]){if(v.optionIsAttach.anchorSE[Ce]!==!1&&is(v,He[Oe.anchorSE[Ce]._id]),Ve&&!Qa(v,He[$e._id],he))throw new Error("Can't bind attachment");Oe.anchorSE[Ce]=$e,v.optionIsAttach.anchorSE[Ce]=Ve,j=Ae.position=!0}}),!Oe.anchorSE[0]||!Oe.anchorSE[1]||Oe.anchorSE[0]===Oe.anchorSE[1])throw new Error("`start` and `end` are required.");function ke(he){var Ce=_e.appendChild(ve.createElementNS(Wt,"mask"));return Ce.id=he,Ce.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[Ce.x,Ce.y,Ce.width,Ce.height].forEach(function($e){$e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),Ce}function lt(he){var Ce=_e.appendChild(ve.createElementNS(Wt,"marker"));return Ce.id=he,Ce.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,Ce.viewBox.baseVal||Ce.setAttribute("viewBox","0 0 0 0"),Ce}function ot(he){return[he.width,he.height].forEach(function(Ce){Ce.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),he}j&&(rt=function(he,Ce){var $e,Ve;if(!(he=je(he))||!($e=je(Ce)))throw new Error("Cannot get frames.");return he.length&&$e.length&&(he.reverse(),$e.reverse(),he.some(function(_t){return $e.some(function(Je){return Je===_t&&(Ve=Je.contentWindow,!0)})})),Ve||window}(v.optionIsAttach.anchorSE[0]!==!1?He[Oe.anchorSE[0]._id].element:Oe.anchorSE[0],v.optionIsAttach.anchorSE[1]!==!1?He[Oe.anchorSE[1]._id].element:Oe.anchorSE[1]))!==v.baseWindow&&(ae=rt,Ee=(V=v).aplStats,ve=ae.document,ye=P+"-"+V._id,V.pathList={},jt(Ee,Pt),Object.keys(t).forEach(function(he){var Ce=he+"_enabled";Ee[Ce]&&(t[he].remove(V),Ee[Ce]=!1)}),V.baseWindow&&V.svg&&V.baseWindow.document.body.removeChild(V.svg),ri(V.baseWindow=ae),V.bodyOffset=Ct(ae),V.svg=ne=ve.createElementNS(Wt,"svg"),ne.className.baseVal=P,ne.viewBox.baseVal||ne.setAttribute("viewBox","0 0 0 0"),V.defs=_e=ne.appendChild(ve.createElementNS(Wt,"defs")),V.linePath=xe=_e.appendChild(ve.createElementNS(Wt,"path")),xe.id=at=ye+"-line-path",xe.className.baseVal=P+"-line-path",Li&&(xe.style.fill="none"),V.lineShape=xe=_e.appendChild(ve.createElementNS(Wt,"use")),xe.id=Fe=ye+"-line-shape",xe.href.baseVal="#"+at,(Se=_e.appendChild(ve.createElementNS(Wt,"g"))).id=Ie=ye+"-caps",V.capsMaskAnchorSE=[0,1].map(function(){var he=Se.appendChild(ve.createElementNS(Wt,"path"));return he.className.baseVal=P+"-caps-mask-anchor",he}),V.lineMaskMarkerIdSE=[ye+"-caps-mask-marker-0",ye+"-caps-mask-marker-1"],V.capsMaskMarkerSE=[0,1].map(function(he){return lt(V.lineMaskMarkerIdSE[he])}),V.capsMaskMarkerShapeSE=[0,1].map(function(he){return he=V.capsMaskMarkerSE[he].appendChild(ve.createElementNS(Wt,"use")),he.className.baseVal=P+"-caps-mask-marker-shape",he}),V.capsMaskLine=xe=Se.appendChild(ve.createElementNS(Wt,"use")),xe.className.baseVal=P+"-caps-mask-line",xe.href.baseVal="#"+Fe,V.maskBGRect=xe=ot(_e.appendChild(ve.createElementNS(Wt,"rect"))),xe.id=rt=ye+"-mask-bg-rect",xe.className.baseVal=P+"-mask-bg-rect",Li&&(xe.style.fill="white"),V.lineMask=ot(ke(V.lineMaskId=ye+"-line-mask")),V.lineMaskBG=xe=V.lineMask.appendChild(ve.createElementNS(Wt,"use")),xe.href.baseVal="#"+rt,V.lineMaskShape=xe=V.lineMask.appendChild(ve.createElementNS(Wt,"use")),xe.className.baseVal=P+"-line-mask-shape",xe.href.baseVal="#"+at,xe.style.display="none",V.lineMaskCaps=xe=V.lineMask.appendChild(ve.createElementNS(Wt,"use")),xe.href.baseVal="#"+Ie,V.lineOutlineMask=ot(ke(ae=ye+"-line-outline-mask")),(xe=V.lineOutlineMask.appendChild(ve.createElementNS(Wt,"use"))).href.baseVal="#"+rt,V.lineOutlineMaskShape=xe=V.lineOutlineMask.appendChild(ve.createElementNS(Wt,"use")),xe.className.baseVal=P+"-line-outline-mask-shape",xe.href.baseVal="#"+at,V.lineOutlineMaskCaps=xe=V.lineOutlineMask.appendChild(ve.createElementNS(Wt,"use")),xe.href.baseVal="#"+Ie,V.face=ne.appendChild(ve.createElementNS(Wt,"g")),V.lineFace=xe=V.face.appendChild(ve.createElementNS(Wt,"use")),xe.href.baseVal="#"+Fe,V.lineOutlineFace=xe=V.face.appendChild(ve.createElementNS(Wt,"use")),xe.href.baseVal="#"+Fe,xe.style.mask="url(#"+ae+")",xe.style.display="none",V.plugMaskIdSE=[ye+"-plug-mask-0",ye+"-plug-mask-1"],V.plugMaskSE=[0,1].map(function(he){return ke(V.plugMaskIdSE[he])}),V.plugMaskShapeSE=[0,1].map(function(he){return he=V.plugMaskSE[he].appendChild(ve.createElementNS(Wt,"use")),he.className.baseVal=P+"-plug-mask-shape",he}),De=[],V.plugOutlineMaskSE=[0,1].map(function(he){return ke(De[he]=ye+"-plug-outline-mask-"+he)}),V.plugOutlineMaskShapeSE=[0,1].map(function(he){return he=V.plugOutlineMaskSE[he].appendChild(ve.createElementNS(Wt,"use")),he.className.baseVal=P+"-plug-outline-mask-shape",he}),V.plugMarkerIdSE=[ye+"-plug-marker-0",ye+"-plug-marker-1"],V.plugMarkerSE=[0,1].map(function(he){return he=lt(V.plugMarkerIdSE[he]),Li&&(he.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),he}),V.plugMarkerShapeSE=[0,1].map(function(he){return V.plugMarkerSE[he].appendChild(ve.createElementNS(Wt,"g"))}),V.plugFaceSE=[0,1].map(function(he){return V.plugMarkerShapeSE[he].appendChild(ve.createElementNS(Wt,"use"))}),V.plugOutlineFaceSE=[0,1].map(function(he){var Ce=V.plugMarkerShapeSE[he].appendChild(ve.createElementNS(Wt,"use"));return Ce.style.mask="url(#"+De[he]+")",Ce.style.display="none",Ce}),V.plugsFace=xe=V.face.appendChild(ve.createElementNS(Wt,"use")),xe.className.baseVal=P+"-plugs-face",xe.href.baseVal="#"+Fe,xe.style.display="none",V.curStats.show_inAnim?(V.isShown=1,e[Ee.show_effect].stop(V,!0)):V.isShown||(ne.style.visibility="hidden"),ve.body.appendChild(ne),[0,1,2].forEach(function($e){var Ce,$e=V.options.labelSEM[$e];$e&&n($e,"label")&&(Ce=He[$e._id]).conf.initSvg&&Ce.conf.initSvg(Ce,V)}),Ae.line=Ae.plug=Ae.lineOutline=Ae.plugOutline=Ae.faces=Ae.effect=!0),Ae.position=Xe(Oe,H,"path",G,null,null,J.path)||Ae.position,Ae.position=Xe(Oe,H,"startSocket",w,"socketSE",0)||Ae.position,Ae.position=Xe(Oe,H,"endSocket",w,"socketSE",1)||Ae.position,[H.startSocketGravity,H.endSocketGravity].forEach(function(he,Ce){var $e,Ve,_t=!1;he!=null&&(Array.isArray(he)?ce(he[0])&&ce(he[1])&&(_t=[he[0],he[1]],Array.isArray(Oe.socketGravitySE[Ce])&&($e=_t,Ve=Oe.socketGravitySE[Ce],$e.length===Ve.length&&$e.every(function(Je,Vi){return Je===Ve[Vi]}))&&(_t=!1)):((he+"").toLowerCase()===We?_t=null:ce(he)&&0<=he&&(_t=he),_t===Oe.socketGravitySE[Ce]&&(_t=!1)),_t!==!1&&(Oe.socketGravitySE[Ce]=_t,Ae.position=!0))}),Ae.line=qt(Oe,H,"color",null,"lineColor",null,J.lineColor,null,!0)||Ae.line,Ae.line=qt(Oe,H,"size",null,"lineSize",null,J.lineSize,function(he){return 0<he})||Ae.line,["startPlug","endPlug"].forEach(function(he,Ce){Ae.plug=Xe(Oe,H,he,ze,"plugSE",Ce,J.plugSE[Ce])||Ae.plug,Ae.plug=qt(Oe,H,he+"Color","string","plugColorSE",Ce,null,null,!0)||Ae.plug,Ae.plug=qt(Oe,H,he+"Size",null,"plugSizeSE",Ce,J.plugSizeSE[Ce],function($e){return 0<$e})||Ae.plug}),Ae.lineOutline=qt(Oe,H,"outline",null,"lineOutlineEnabled",null,J.lineOutlineEnabled)||Ae.lineOutline,Ae.lineOutline=qt(Oe,H,"outlineColor",null,"lineOutlineColor",null,J.lineOutlineColor,null,!0)||Ae.lineOutline,Ae.lineOutline=qt(Oe,H,"outlineSize",null,"lineOutlineSize",null,J.lineOutlineSize,function(he){return 0<he&&he<=.48})||Ae.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(he,Ce){Ae.plugOutline=qt(Oe,H,he,null,"plugOutlineEnabledSE",Ce,J.plugOutlineEnabledSE[Ce])||Ae.plugOutline,Ae.plugOutline=qt(Oe,H,he+"Color","string","plugOutlineColorSE",Ce,null,null,!0)||Ae.plugOutline,Ae.plugOutline=qt(Oe,H,he+"Size",null,"plugOutlineSizeSE",Ce,J.plugOutlineSizeSE[Ce],function($e){return 1<=$e})||Ae.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(he,Ce){var $e,Ve,_t,Je=H[he],Vi=Oe.labelSEM[Ce]&&!v.optionIsAttach.labelSEM[Ce]?He[Oe.labelSEM[Ce]._id].text:Oe.labelSEM[Ce],Yi=!1;if(($e=typeof Je=="string")&&(Je=Je.trim()),($e||Je&&(Yi=n(Je,"label")))&&Je!==Vi){if(Oe.labelSEM[Ce]&&(is(v,He[Oe.labelSEM[Ce]._id]),Oe.labelSEM[Ce]=""),Je){if(Yi?(Ve=He[(_t=Je)._id]).boundTargets.slice().forEach(function(Ii){Ve.conf.removeOption(Ve,Ii)}):_t=new s(i.captionLabel,[Je]),!Qa(v,He[_t._id],he))throw new Error("Can't bind attachment");Oe.labelSEM[Ce]=_t}v.optionIsAttach.labelSEM[Ce]=Yi}}),Object.keys(t).forEach(function(he){var Ce,$e,Ve=t[he],_t=he+"_enabled",Je=he+"_options";function Vi(Ii){var Ai={};return Ve.optionsConf.forEach(function(li){var Kt=li[0],Tt=li[3];li[4]==null||Ai[Tt]||(Ai[Tt]=[]),(typeof Kt=="function"?Kt:Kt==="id"?Xe:qt).apply(null,[Ai,Ii].concat(li.slice(1)))}),Ai}function Yi(Ii){var Ai,li=he+"_animOptions";return Ii.hasOwnProperty("animation")?pe(Ii.animation)?Ai=v.curStats[li]=ys(Ii.animation,Ve.defaultAnimOptions):(Ai=!!Ii.animation,v.curStats[li]=Ai?ys({},Ve.defaultAnimOptions):null):(Ai=!!Ve.defaultEnabled,v.curStats[li]=Ai?ys({},Ve.defaultAnimOptions):null),Ai}H.hasOwnProperty(he)&&(Ce=H[he],pe(Ce)?(v.curStats[_t]=!0,$e=v.curStats[Je]=Vi(Ce),Ve.anim&&(v.curStats[Je].animation=Yi(Ce))):($e=v.curStats[_t]=!!Ce)&&(v.curStats[Je]=Vi({}),Ve.anim&&(v.curStats[Je].animation=Yi({}))),Mi($e,Oe[he])&&(Oe[he]=$e,Ae.effect=!0))}),ti(v,Ae)}function $s(v,H,j){var V={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};jt(V.curStats,Pt),jt(V.aplStats,Pt),Object.keys(t).forEach(function(ae){var ne=t[ae].stats;jt(V.curStats,ne),jt(V.aplStats,ne),V.options[ae]=!1}),jt(V.curStats,Zt),jt(V.aplStats,Zt),V.curStats.show_effect=oi,V.curStats.show_animOptions=gi(e[oi].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++ut}),V._id=this._id,Ne[this._id]=V,arguments.length===1&&(j=v,v=null),j=j||{},(v||H)&&(j=gi(j),v&&(j.start=v),H&&(j.end=H)),V.isShown=V.aplStats.show_on=!j.hide,this.setOptions(j)}function Mn(v){return function(H){var j={};j[v]=H,this.setOptions(j)}}function yu(v,H){var j,V={conf:v,curStats:{},aplStats:{},boundTargets:[]},ae={};v.argOptions.every(function(ne){return!(!H.length||(typeof ne.type=="string"?typeof H[0]!==ne.type:typeof ne.type!="function"||!ne.type(H[0])))&&(ae[ne.optionName]=H.shift(),!0)}),j=H.length&&pe(H[0])?gi(H[0]):{},Object.keys(ae).forEach(function(ne){j[ne]=ae[ne]}),v.stats&&(jt(V.curStats,v.stats),jt(V.aplStats,v.stats)),Object.defineProperty(this,"_id",{value:++ht}),Object.defineProperty(this,"isRemoved",{get:function(){return!He[this._id]}}),V._id=this._id,v.init&&!v.init(V,j)||(He[this._id]=V)}return t={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(v){return 0<v}],["type","gap","number",null,null,null,function(v){return 0<v}]],init:function(v){wr(v,"apl_line_strokeWidth",t.dash.update),v.lineFace.style.strokeDashoffset=0,t.dash.update(v)},remove:function(v){var H=v.curStats;rr(v,"apl_line_strokeWidth",t.dash.update),H.dash_animId&&(Be.remove(H.dash_animId),H.dash_animId=null),v.lineFace.style.strokeDasharray="none",v.lineFace.style.strokeDashoffset=0,jt(v.aplStats,t.dash.stats)},update:function(v){var H,j=v.curStats,V=v.aplStats,ae=V.dash_options,ne=!1;j.dash_len=ae.len||2*V.line_strokeWidth,j.dash_gap=ae.gap||V.line_strokeWidth,j.dash_maxOffset=j.dash_len+j.dash_gap,ne=le(v,V,"dash_len",j.dash_len)||ne,(ne=le(v,V,"dash_gap",j.dash_gap)||ne)&&(v.lineFace.style.strokeDasharray=V.dash_len+","+V.dash_gap),j.dash_animOptions?(ne=le(v,V,"dash_maxOffset",j.dash_maxOffset),V.dash_animOptions&&(ne||Mi(j.dash_animOptions,V.dash_animOptions))&&(j.dash_animId&&(H=Be.stop(j.dash_animId),Be.remove(j.dash_animId)),V.dash_animOptions=null),V.dash_animOptions||(j.dash_animId=Be.add(function(_e){return(1-_e)*V.dash_maxOffset+"px"},function(_e){v.lineFace.style.strokeDashoffset=_e},j.dash_animOptions.duration,0,j.dash_animOptions.timing,!1,H),V.dash_animOptions=gi(j.dash_animOptions))):V.dash_animOptions&&(j.dash_animId&&(Be.remove(j.dash_animId),j.dash_animId=null),v.lineFace.style.strokeDashoffset=0,V.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(v){var H=v.baseWindow.document,j=v.defs,V=P+"-"+v._id+"-gradient";v.efc_gradient_gradient=j=j.appendChild(H.createElementNS(Wt,"linearGradient")),j.id=V,j.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[j.x1,j.y1,j.x2,j.y2].forEach(function(ae){ae.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),v.efc_gradient_stopSE=[0,1].map(function(ae){var ne=v.efc_gradient_gradient.appendChild(H.createElementNS(Wt,"stop"));try{ne.offset.baseVal=ae}catch(_e){if(_e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw _e;ne.setAttribute("offset",ae)}return ne}),wr(v,"cur_plug_colorSE",t.gradient.update),wr(v,"apl_path",t.gradient.update),v.curStats.line_altColor=!0,v.lineFace.style.stroke="url(#"+V+")",t.gradient.update(v)},remove:function(v){v.efc_gradient_gradient&&(v.defs.removeChild(v.efc_gradient_gradient),v.efc_gradient_gradient=v.efc_gradient_stopSE=null),rr(v,"cur_plug_colorSE",t.gradient.update),rr(v,"apl_path",t.gradient.update),v.curStats.line_altColor=!1,v.lineFace.style.stroke=v.curStats.line_color,jt(v.aplStats,t.gradient.stats)},update:function(v){var H,j=v.curStats,V=v.aplStats,ae=V.gradient_options,ne=v.pathList.animVal||v.pathList.baseVal;[0,1].forEach(function(_e){j.gradient_colorSE[_e]=ae.colorSE[_e]||j.plug_colorSE[_e]}),H=ne[0][0],j.gradient_pointSE[0]={x:H.x,y:H.y},H=(ne=ne[ne.length-1])[ne.length-1],j.gradient_pointSE[1]={x:H.x,y:H.y},[0,1].forEach(function(_e){var Se;le(v,V.gradient_colorSE,_e,Se=j.gradient_colorSE[_e])&&(Li?(Se=ie(Se),v.efc_gradient_stopSE[_e].style.stopColor=Se[1],v.efc_gradient_stopSE[_e].style.stopOpacity=Se[0]):v.efc_gradient_stopSE[_e].style.stopColor=Se),["x","y"].forEach(function(xe){(Se=j.gradient_pointSE[_e][xe])!==V.gradient_pointSE[_e][xe]&&(v.efc_gradient_gradient[xe+(_e+1)].baseVal.value=V.gradient_pointSE[_e][xe]=Se)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(v){return 0<=v}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(v){return 0<=v&&v<=1}]],init:function(v){var H,j,V,ae,ne=v.baseWindow.document,_e=v.defs,Se=P+"-"+v._id+"-dropShadow",xe=(H=ne,j=Se,ae={},typeof m!="boolean"&&(m=!!window.SVGFEDropShadowElement&&!Li),ae.elmsAppend=[ae.elmFilter=ne=H.createElementNS(Wt,"filter")],ne.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,ne.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),ne.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),ne.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),ne.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),ne.id=j,m?(ae.elmOffset=ae.elmBlur=V=ne.appendChild(H.createElementNS(Wt,"feDropShadow")),ae.styleFlood=V.style):(ae.elmBlur=ne.appendChild(H.createElementNS(Wt,"feGaussianBlur")),ae.elmOffset=V=ne.appendChild(H.createElementNS(Wt,"feOffset")),V.result.baseVal="offsetblur",V=ne.appendChild(H.createElementNS(Wt,"feFlood")),ae.styleFlood=V.style,(V=ne.appendChild(H.createElementNS(Wt,"feComposite"))).in2.baseVal="offsetblur",V.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(V=ne.appendChild(H.createElementNS(Wt,"feMerge"))).appendChild(H.createElementNS(Wt,"feMergeNode")),V.appendChild(H.createElementNS(Wt,"feMergeNode")).in1.baseVal="SourceGraphic"),ae);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(at){v["efc_dropShadow_"+at]=xe[at]}),xe.elmsAppend.forEach(function(at){_e.appendChild(at)}),v.face.setAttribute("filter","url(#"+Se+")"),wr(v,"new_edge4viewBox",t.dropShadow.adjustEdge),t.dropShadow.update(v)},remove:function(v){var H=v.defs;v.efc_dropShadow_elmsAppend&&(v.efc_dropShadow_elmsAppend.forEach(function(j){H.removeChild(j)}),v.efc_dropShadow_elmFilter=v.efc_dropShadow_elmOffset=v.efc_dropShadow_elmBlur=v.efc_dropShadow_styleFlood=v.efc_dropShadow_elmsAppend=null),rr(v,"new_edge4viewBox",t.dropShadow.adjustEdge),ti(v,{}),v.face.removeAttribute("filter"),jt(v.aplStats,t.dropShadow.stats)},update:function(v){var H,j,V=v.curStats,ae=v.aplStats,ne=ae.dropShadow_options;V.dropShadow_dx=H=ne.dx,le(v,ae,"dropShadow_dx",H)&&(v.efc_dropShadow_elmOffset.dx.baseVal=H,j=!0),V.dropShadow_dy=H=ne.dy,le(v,ae,"dropShadow_dy",H)&&(v.efc_dropShadow_elmOffset.dy.baseVal=H,j=!0),V.dropShadow_blur=H=ne.blur,le(v,ae,"dropShadow_blur",H)&&(v.efc_dropShadow_elmBlur.setStdDeviation(H,H),j=!0),j&&ti(v,{}),V.dropShadow_color=H=ne.color,le(v,ae,"dropShadow_color",H)&&(v.efc_dropShadow_styleFlood.floodColor=H),V.dropShadow_opacity=H=ne.opacity,le(v,ae,"dropShadow_opacity",H)&&(v.efc_dropShadow_styleFlood.floodOpacity=H)},adjustEdge:function(v,H){var j,V=v.curStats,ae=v.aplStats;V.dropShadow_dx!=null&&(j=3*V.dropShadow_blur,(j={x1:H.x1-j+V.dropShadow_dx,y1:H.y1-j+V.dropShadow_dy,x2:H.x2+j+V.dropShadow_dx,y2:H.y2+j+V.dropShadow_dy}).x1<H.x1&&(H.x1=j.x1),j.y1<H.y1&&(H.y1=j.y1),j.x2>H.x2&&(H.x2=j.x2),j.y2>H.y2&&(H.y2=j.y2),["x","y"].forEach(function(ne){var _e,Se="dropShadow_"+ne;V[Se]=_e=H[ne+"1"],le(v,ae,Se,_e)&&(v.efc_dropShadow_elmFilter[ne].baseVal.value=_e)}))}}},Object.keys(t).forEach(function(v){var H=t[v],j=H.stats;j[v+"_enabled"]={iniValue:!1},j[v+"_options"]={hasProps:!0},H.anim&&(j[v+"_animOptions"]={},j[v+"_animId"]={})}),e={none:{defaultAnimOptions:{},init:function(v,H){var j=v.curStats;j.show_animId&&(Be.remove(j.show_animId),j.show_animId=null),e.none.start(v,H)},start:function(v,H){e.none.stop(v,!0)},stop:function(v,H,j){var V=v.curStats;return j=j??v.aplStats.show_on,V.show_inAnim=!1,H&&Br(v,j),j?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(v,H){var j=v.curStats,V=v.aplStats;j.show_animId&&Be.remove(j.show_animId),j.show_animId=Be.add(function(ae){return ae},function(ae,ne){ne?e.fade.stop(v,!0):(v.svg.style.opacity=ae+"",Gi&&(vr(v,v.svg),To(v)))},V.show_animOptions.duration,1,V.show_animOptions.timing,null,!1),e.fade.start(v,H)},start:function(v,H){var j,V=v.curStats;V.show_inAnim&&(j=Be.stop(V.show_animId)),Br(v,1),V.show_inAnim=!0,Be.start(V.show_animId,!v.aplStats.show_on,H??j)},stop:function(v,H,j){var V,ae=v.curStats;return j=j??v.aplStats.show_on,V=ae.show_inAnim?Be.stop(ae.show_animId):j?1:0,ae.show_inAnim=!1,H&&(v.svg.style.opacity=j?"":"0",Br(v,j)),V}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(v,H){var j=v.curStats,V=v.aplStats,ae=v.pathList.baseVal,ne=Qr(ae),_e=ne.segsLen,Se=ne.lenAll;j.show_animId&&Be.remove(j.show_animId),j.show_animId=Be.add(function(xe){var at,Fe,Ie,rt=-1;if(xe===0)Fe=[[ae[0][0],ae[0][0]]];else if(xe===1)Fe=ae;else{for(at=Se*xe,Fe=[];at>=_e[++rt];)Fe.push(ae[rt]),at-=_e[rt];at&&((Ie=ae[rt]).length===2?Fe.push([Ie[0],Ti(Ie[0],Ie[1],at/_e[rt])]):(xe=yi(Ie[0],Ie[1],Ie[2],Ie[3],pi(Ie[0],Ie[1],Ie[2],Ie[3],at)),Fe.push([Ie[0],xe.fromP1,xe.fromP2,xe])))}return Fe},function(xe,at){at?e.draw.stop(v,!0):(v.pathList.animVal=xe,ti(v,{path:!0}))},V.show_animOptions.duration,1,V.show_animOptions.timing,null,!1),e.draw.start(v,H)},start:function(v,H){var j,V=v.curStats;V.show_inAnim&&(j=Be.stop(V.show_animId)),Br(v,1),V.show_inAnim=!0,wr(v,"apl_position",e.draw.update),Be.start(V.show_animId,!v.aplStats.show_on,H??j)},stop:function(v,H,j){var V,ae=v.curStats;return j=j??v.aplStats.show_on,V=ae.show_inAnim?Be.stop(ae.show_animId):j?1:0,ae.show_inAnim=!1,H&&(v.pathList.animVal=j?null:[[v.pathList.baseVal[0][0],v.pathList.baseVal[0][0]]],ti(v,{path:!0}),Br(v,j)),V},update:function(v){rr(v,"apl_position",e.draw.update),v.curStats.show_inAnim?e.draw.init(v,e.draw.stop(v)):v.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(v){var H=v[0],j=v[1],V=v[2];Object.defineProperty($s.prototype,H,{get:function(){var ae=V!=null?Ne[this._id].options[j][V]:j?Ne[this._id].options[j]:Ne[this._id].options[H];return ae==null?We:gi(ae)},set:Mn(H),enumerable:!0})}),[["path",G],["startSocket",w,"socketSE",0],["endSocket",w,"socketSE",1],["startPlug",ze,"plugSE",0],["endPlug",ze,"plugSE",1]].forEach(function(v){var H=v[0],j=v[1],V=v[2],ae=v[3];Object.defineProperty($s.prototype,H,{get:function(){var ne,_e=ae!=null?Ne[this._id].options[V][ae]:V?Ne[this._id].options[V]:Ne[this._id].options[H];return _e?Object.keys(j).some(function(Se){return j[Se]===_e&&(ne=Se,!0)})?ne:new Error("It's broken"):We},set:Mn(H),enumerable:!0})}),Object.keys(t).forEach(function(v){var H=t[v];Object.defineProperty($s.prototype,v,{get:function(){var j,V,ae=Ne[this._id].options[v];return pe(ae)?(j=ae,V=H.optionsConf.reduce(function(ne,rt){var Se,xe=rt[0],at=rt[1],Fe=rt[2],Ie=rt[3],rt=rt[4],De=rt!=null?j[Ie][rt]:Ie?j[Ie]:j[at];return ne[at]=xe==="id"?De?Object.keys(Fe).some(function(Ee){return Fe[Ee]===De&&(Se=Ee,!0)})?Se:new Error("It's broken"):We:De==null?We:gi(De),ne},{}),H.anim&&(V.animation=gi(j.animation)),V):ae},set:Mn(v),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(v,H){Object.defineProperty($s.prototype,v,{get:function(){var j=Ne[this._id],V=j.options;return V.labelSEM[H]&&!j.optionIsAttach.labelSEM[H]?He[V.labelSEM[H]._id].text:V.labelSEM[H]||""},set:Mn(v),enumerable:!0})}),$s.prototype.setOptions=function(v){return Eo(Ne[this._id],v),this},$s.prototype.position=function(){return ti(Ne[this._id],{position:!0}),this},$s.prototype.remove=function(){var v=Ne[this._id],H=v.curStats;Object.keys(t).forEach(function(j){j+="_animId",H[j]&&Be.remove(H[j])}),H.show_animId&&Be.remove(H.show_animId),v.attachments.slice().forEach(function(j){is(v,j)}),v.baseWindow&&v.svg&&v.baseWindow.document.body.removeChild(v.svg),delete Ne[this._id]},$s.prototype.show=function(v,H){return bs(Ne[this._id],!0,v,H),this},$s.prototype.hide=function(v,H){return bs(Ne[this._id],!1,v,H),this},l=function(v){v&&He[v._id]&&(v.boundTargets.slice().forEach(function(H){is(H.props,v,!0)}),v.conf.remove&&v.conf.remove(v),delete He[v._id])},yu.prototype.remove=function(){var v=this,H=He[v._id];H&&(H.boundTargets.slice().forEach(function(j){H.conf.removeOption(H,j)}),Yn(function(){var j=He[v._id];j&&(console.error("LeaderLineAttachment was not removed by removeOption"),l(j))}))},s=yu,window.LeaderLineAttachment=s,n=function(v,H){return v instanceof s&&(!(v.isRemoved||H&&He[v._id].conf.type!==H)||null)},i={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:se}],init:function(v,H){return v.element=i.pointAnchor.checkElement(H.element),v.x=i.pointAnchor.parsePercent(H.x,!0)||[.5,!0],v.y=i.pointAnchor.parsePercent(H.y,!0)||[.5,!0],!0},removeOption:function(ne,H){var j=H.props,V={},ae=ne.element,ne=j.options.anchorSE[H.optionName==="start"?1:0];ae===ne&&(ae=ne===document.body?new s(i.pointAnchor,[ae]):document.body),V[H.optionName]=ae,Eo(j,V)},getBBoxNest:function(v,ae){var j=gt(v.element,ae.baseWindow),V=j.width,ae=j.height;return j.width=j.height=0,j.left=j.right=j.left+v.x[0]*(v.x[1]?V:1),j.top=j.bottom=j.top+v.y[0]*(v.y[1]?ae:1),j},parsePercent:function(v,H){var j,V,ae=!1;return ce(v)?V=v:typeof v=="string"&&(j=bt.exec(v))&&j[2]&&(ae=(V=parseFloat(j[1])/100)!==0),V!=null&&(H||0<=V)?[V,ae]:null},checkElement:function(v){if(v==null)v=document.body;else if(!se(v))throw new Error("`element` must be Element");return v}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:se},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(v,H){var j,V=[];return v.element=i.pointAnchor.checkElement(H.element),typeof H.color=="string"&&(v.color=H.color.trim()),typeof H.fillColor=="string"&&(v.fill=H.fillColor.trim()),ce(H.size)&&0<=H.size&&(v.size=H.size),H.dash&&(v.dash=!0,ce(H.dash.len)&&0<H.dash.len&&(v.dashLen=H.dash.len),ce(H.dash.gap)&&0<H.dash.gap&&(v.dashGap=H.dash.gap)),H.shape==="circle"?v.shape=H.shape:H.shape==="polygon"&&Array.isArray(H.points)&&3<=H.points.length&&H.points.every(function(ae){var ne={};return!(!(ne.x=i.pointAnchor.parsePercent(ae[0],!0))||!(ne.y=i.pointAnchor.parsePercent(ae[1],!0)))&&(V.push(ne),(ne.x[1]||ne.y[1])&&(v.hasRatio=!0),!0)})?(v.shape=H.shape,v.points=V):(v.shape="rect",v.radius=ce(H.radius)&&0<=H.radius?H.radius:0),v.shape!=="rect"&&v.shape!=="circle"||(v.x=i.pointAnchor.parsePercent(H.x,!0)||[-.05,!0],v.y=i.pointAnchor.parsePercent(H.y,!0)||[-.05,!0],v.width=i.pointAnchor.parsePercent(H.width)||[1.1,!0],v.height=i.pointAnchor.parsePercent(H.height)||[1.1,!0],(v.x[1]||v.y[1]||v.width[1]||v.height[1])&&(v.hasRatio=!0)),j=v.element.ownerDocument,v.svg=H=j.createElementNS(Wt,"svg"),H.className.baseVal=P+"-areaAnchor",H.viewBox.baseVal||H.setAttribute("viewBox","0 0 0 0"),v.path=H.appendChild(j.createElementNS(Wt,"path")),v.path.style.fill=v.fill||"none",v.isShown=!1,H.style.visibility="hidden",j.body.appendChild(H),ri(j=j.defaultView),v.bodyOffset=Ct(j),v.updateColor=function(){var ae=v.curStats,ne=v.aplStats,_e=v.boundTargets.length?v.boundTargets[0].props.curStats:null;ae.color=_e=v.color||(_e?_e.line_color:J.lineColor),le(v,ne,"color",_e)&&(v.path.style.stroke=_e)},v.updateShow=function(){Br(v,v.boundTargets.some(function(ae){return ae.props.isShown===!0}))},!0},bind:function(v,H){return H=H.props,v.color||wr(H,"cur_line_color",v.updateColor),wr(H,"svgShow",v.updateShow),Yn(function(){v.updateColor(),v.updateShow()}),!0},unbind:function(v,H){H=H.props,v.color||rr(H,"cur_line_color",v.updateColor),rr(H,"svgShow",v.updateShow),1<v.boundTargets.length&&Yn(function(){v.updateColor(),v.updateShow(),i.areaAnchor.update(v)&&v.boundTargets.forEach(function(j){ti(j.props,{position:!0})})})},removeOption:function(v,H){i.pointAnchor.removeOption(v,H)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.areaAnchor.unbind(v,H)})),v.svg.parentNode.removeChild(v.svg)},getStrokeWidth:function(v,H){return i.areaAnchor.update(v)&&1<v.boundTargets.length&&Yn(function(){v.boundTargets.forEach(function(j){j.props!==H&&ti(j.props,{position:!0})})}),v.curStats.strokeWidth},getPathData:function(v,H){var j=gt(v.element,H.baseWindow);return er(v.curStats.pathListRel,function(V){V.x+=j.left,V.y+=j.top})},getBBoxNest:function(v,H){return H=gt(v.element,H.baseWindow),v=v.curStats.bBoxRel,{left:v.left+H.left,top:v.top+H.top,right:v.right+H.left,bottom:v.bottom+H.top,width:v.width,height:v.height}},update:function(v){var H,j,V,ae,ne,_e,Se,xe,at,Fe,Ie,rt,De,Ee,ve,ye,Oe=v.curStats,Ae=v.aplStats,Ft=v.boundTargets.length?v.boundTargets[0].props.curStats:null,Xe={};if(Xe.strokeWidth=le(v,Oe,"strokeWidth",v.size!=null?v.size:Ft?Ft.line_strokeWidth:J.lineSize),H=be(v.element),Xe.elementWidth=le(v,Oe,"elementWidth",H.width),Xe.elementHeight=le(v,Oe,"elementHeight",H.height),Xe.elementLeft=le(v,Oe,"elementLeft",H.left),Xe.elementTop=le(v,Oe,"elementTop",H.top),Xe.strokeWidth||v.hasRatio&&(Xe.elementWidth||Xe.elementHeight)){switch(v.shape){case"rect":(rt={left:v.x[0]*(v.x[1]?H.width:1),top:v.y[0]*(v.y[1]?H.height:1),width:v.width[0]*(v.width[1]?H.width:1),height:v.height[0]*(v.height[1]?H.height:1)}).right=rt.left+rt.width,rt.bottom=rt.top+rt.height,Ie=Oe.strokeWidth/2,xe=(Se=Math.min(rt.width,rt.height))?Se/2*Math.SQRT2+Ie:0,Fe=(Se=v.radius?v.radius<=xe?v.radius:xe:0)?(xe=(Se-Ie)/Math.SQRT2,Fe=[{x:rt.left-(at=Se-xe),y:rt.top+xe},{x:rt.left+xe,y:rt.top-at},{x:rt.right-xe,y:rt.top-at},{x:rt.right+at,y:rt.top+xe},{x:rt.right+at,y:rt.bottom-xe},{x:rt.right-xe,y:rt.bottom+at},{x:rt.left+xe,y:rt.bottom+at},{x:rt.left-at,y:rt.bottom-xe}],Oe.pathListRel=[[Fe[0],{x:Fe[0].x,y:Fe[0].y-(Ie=Se*Qi)},{x:Fe[1].x-Ie,y:Fe[1].y},Fe[1]]],Fe[1].x!==Fe[2].x&&Oe.pathListRel.push([Fe[1],Fe[2]]),Oe.pathListRel.push([Fe[2],{x:Fe[2].x+Ie,y:Fe[2].y},{x:Fe[3].x,y:Fe[3].y-Ie},Fe[3]]),Fe[3].y!==Fe[4].y&&Oe.pathListRel.push([Fe[3],Fe[4]]),Oe.pathListRel.push([Fe[4],{x:Fe[4].x,y:Fe[4].y+Ie},{x:Fe[5].x+Ie,y:Fe[5].y},Fe[5]]),Fe[5].x!==Fe[6].x&&Oe.pathListRel.push([Fe[5],Fe[6]]),Oe.pathListRel.push([Fe[6],{x:Fe[6].x-Ie,y:Fe[6].y},{x:Fe[7].x,y:Fe[7].y+Ie},Fe[7]]),Fe[7].y!==Fe[0].y&&Oe.pathListRel.push([Fe[7],Fe[0]]),Oe.pathListRel.push([]),at=Se-xe+Oe.strokeWidth/2,[{x:rt.left-at,y:rt.top-at},{x:rt.right+at,y:rt.bottom+at}]):(at=Oe.strokeWidth/2,Fe=[{x:rt.left-at,y:rt.top-at},{x:rt.right+at,y:rt.bottom+at}],Oe.pathListRel=[[Fe[0],{x:Fe[1].x,y:Fe[0].y}],[{x:Fe[1].x,y:Fe[0].y},Fe[1]],[Fe[1],{x:Fe[0].x,y:Fe[1].y}],[]],[{x:rt.left-Oe.strokeWidth,y:rt.top-Oe.strokeWidth},{x:rt.right+Oe.strokeWidth,y:rt.bottom+Oe.strokeWidth}]),Oe.bBoxRel={left:Fe[0].x,top:Fe[0].y,right:Fe[1].x,bottom:Fe[1].y,width:Fe[1].x-Fe[0].x,height:Fe[1].y-Fe[0].y};break;case"circle":(_e={left:v.x[0]*(v.x[1]?H.width:1),top:v.y[0]*(v.y[1]?H.height:1),width:v.width[0]*(v.width[1]?H.width:1),height:v.height[0]*(v.height[1]?H.height:1)}).width||_e.height||(_e.width=_e.height=10),_e.width||(_e.width=_e.height),_e.height||(_e.height=_e.width),_e.right=_e.left+_e.width,_e.bottom=_e.top+_e.height,Ie=_e.left+_e.width/2,Se=_e.top+_e.height/2,ne=Oe.strokeWidth/2,xe=_e.width/2,at=_e.height/2,rt=xe*Math.SQRT2+ne,Fe=at*Math.SQRT2+ne,Oe.pathListRel=[[(ne=[{x:Ie-rt,y:Se},{x:Ie,y:Se-Fe},{x:Ie+rt,y:Se},{x:Ie,y:Se+Fe}])[0],{x:ne[0].x,y:ne[0].y-(Ie=Fe*Qi)},{x:ne[1].x-(Se=rt*Qi),y:ne[1].y},ne[1]],[ne[1],{x:ne[1].x+Se,y:ne[1].y},{x:ne[2].x,y:ne[2].y-Ie},ne[2]],[ne[2],{x:ne[2].x,y:ne[2].y+Ie},{x:ne[3].x+Se,y:ne[3].y},ne[3]],[ne[3],{x:ne[3].x-Se,y:ne[3].y},{x:ne[0].x,y:ne[0].y+Ie},ne[0]],[]],xe=rt-xe+Oe.strokeWidth/2,at=Fe-at+Oe.strokeWidth/2,ne=[{x:_e.left-xe,y:_e.top-at},{x:_e.right+xe,y:_e.bottom+at}],Oe.bBoxRel={left:ne[0].x,top:ne[0].y,right:ne[1].x,bottom:ne[1].y,width:ne[1].x-ne[0].x,height:ne[1].y-ne[0].y};break;case"polygon":v.points.forEach(function(lt){var ke=lt.x[0]*(lt.x[1]?H.width:1),lt=lt.y[0]*(lt.y[1]?H.height:1);V?(ke<V.left&&(V.left=ke),ke>V.right&&(V.right=ke),lt<V.top&&(V.top=lt),lt>V.bottom&&(V.bottom=lt)):V={left:ke,right:ke,top:lt,bottom:lt},ae?Oe.pathListRel.push([ae,{x:ke,y:lt}]):Oe.pathListRel=[],ae={x:ke,y:lt}}),Oe.pathListRel.push([]),ne=Oe.strokeWidth/2,ne=[{x:V.left-ne,y:V.top-ne},{x:V.right+ne,y:V.bottom+ne}],Oe.bBoxRel={left:ne[0].x,top:ne[0].y,right:ne[1].x,bottom:ne[1].y,width:ne[1].x-ne[0].x,height:ne[1].y-ne[0].y}}Xe.pathListRel=Xe.bBoxRel=!0}return(Xe.pathListRel||Xe.elementLeft||Xe.elementTop)&&(Oe.pathData=er(Oe.pathListRel,function(qt){qt.x+=H.left,qt.y+=H.top})),le(v,Ae,"strokeWidth",j=Oe.strokeWidth)&&(v.path.style.strokeWidth=j+"px"),Jr(j=Oe.pathData,Ae.pathData)&&(v.path.setPathData(j),Ae.pathData=j,Xe.pathData=!0),v.dash&&(!Xe.pathData&&(!Xe.strokeWidth||v.dashLen&&v.dashGap)||(Oe.dashLen=v.dashLen||2*Oe.strokeWidth,Oe.dashGap=v.dashGap||Oe.strokeWidth),Xe.dash=le(v,Ae,"dashLen",Oe.dashLen)||Xe.dash,Xe.dash=le(v,Ae,"dashGap",Oe.dashGap)||Xe.dash,Xe.dash&&(v.path.style.strokeDasharray=Ae.dashLen+","+Ae.dashGap)),De=Oe.viewBoxBBox,Ee=Ae.viewBoxBBox,ve=v.svg.viewBox.baseVal,ye=v.svg.style,De.x=Oe.bBoxRel.left+H.left,De.y=Oe.bBoxRel.top+H.top,De.width=Oe.bBoxRel.width,De.height=Oe.bBoxRel.height,["x","y","width","height"].forEach(function(qt){(j=De[qt])!==Ee[qt]&&(ve[qt]=Ee[qt]=j,ye[it[qt]]=j+(qt==="x"||qt==="y"?v.bodyOffset[qt]:0)+"px")}),Xe.strokeWidth||Xe.pathListRel||Xe.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:se},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(v,H){var j,V,ae,ne,_e,Se,xe,at,Fe,Ie=i.mouseHoverAnchor,rt={};if(v.element=i.pointAnchor.checkElement(H.element),xe=v.element,!((at=xe.ownerDocument)&&(Fe=at.defaultView)&&Fe.HTMLElement&&xe instanceof Fe.HTMLElement))throw new Error("`element` must be HTML element");return Ie.style.backgroundSize=Ie.backgroundSize.width+"px "+Ie.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(De){var Ee=Ie[De];v[De]=Object.keys(Ee).reduce(function(ve,ye){return ve[ye]=Ee[ye],ve},{})}),(j=v.element.ownerDocument.defaultView.getComputedStyle(v.element,"")).display==="inline"?v.style.display="inline-block":j.display==="none"&&(v.style.display="block"),i.mouseHoverAnchor.dirKeys.forEach(function(ve){var Ee=ve[0],ve="padding"+ve[1];parseFloat(j[ve])<Ie.padding[Ee]&&(v.style[ve]=Ie.padding[Ee]+"px")}),v.style.display&&(ae=v.element.style.display,v.element.style.display=v.style.display),i.mouseHoverAnchor.dirKeys.forEach(function(De){De="padding"+De[1],v.style[De]&&(rt[De]=v.element.style[De],v.element.style[De]=v.style[De])}),(xe=v.element.getBoundingClientRect()).height<Ie.minHeight&&(Gi?(Fe=Ie.minHeight,j.boxSizing==="content-box"?Fe-=parseFloat(j.borderTopWidth)+parseFloat(j.borderBottomWidth)+parseFloat(j.paddingTop)+parseFloat(j.paddingBottom):j.boxSizing==="padding-box"&&(Fe-=parseFloat(j.borderTopWidth)+parseFloat(j.borderBottomWidth)),v.style.height=Fe+"px"):v.style.height=parseFloat(j.height)+(Ie.minHeight-xe.height)+"px"),v.style.backgroundPosition=Li?xe.width-Ie.backgroundSize.width-Ie.backgroundPosition.right+"px "+Ie.backgroundPosition.top+"px":"right "+Ie.backgroundPosition.right+"px top "+Ie.backgroundPosition.top+"px",v.style.display&&(v.element.style.display=ae),i.mouseHoverAnchor.dirKeys.forEach(function(De){De="padding"+De[1],v.style[De]&&(v.element.style[De]=rt[De])}),["style","hoverStyle"].forEach(function(De){var Ee=v[De],ve=H[De];pe(ve)&&Object.keys(ve).forEach(function(ye){typeof ve[ye]=="string"||ce(ve[ye])?Ee[ye]=ve[ye]:ve[ye]==null&&delete Ee[ye]})}),typeof H.onSwitch=="function"&&(Se=H.onSwitch),H.showEffectName&&e[H.showEffectName]&&(v.showEffectName=ne=H.showEffectName),_e=H.animOptions,v.elmStyle=V=v.element.style,v.mouseenter=function(De){v.hoverStyleSave=Ie.getStyles(V,Object.keys(v.hoverStyle)),Ie.setStyles(V,v.hoverStyle),v.boundTargets.forEach(function(Ee){bs(Ee.props,!0,ne,_e)}),Se&&Se(De)},v.mouseleave=function(De){Ie.setStyles(V,v.hoverStyleSave),v.boundTargets.forEach(function(Ee){bs(Ee.props,!1,ne,_e)}),Se&&Se(De)},!0},bind:function(v,H){var j,V,ae,ne,_e;return H.props.svg?i.mouseHoverAnchor.llShow(H.props,!1,v.showEffectName):Yn(function(){i.mouseHoverAnchor.llShow(H.props,!1,v.showEffectName)}),v.enabled||(v.styleSave=i.mouseHoverAnchor.getStyles(v.elmStyle,Object.keys(v.style)),i.mouseHoverAnchor.setStyles(v.elmStyle,v.style),v.removeEventListener=(j=v.element,V=v.mouseenter,ae=v.mouseleave,"onmouseenter"in j&&"onmouseleave"in j?(j.addEventListener("mouseenter",V,!1),j.addEventListener("mouseleave",ae,!1),function(){j.removeEventListener("mouseenter",V,!1),j.removeEventListener("mouseleave",ae,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),j.addEventListener("mouseover",ne=function(Se){Se.relatedTarget&&(Se.relatedTarget===this||this.compareDocumentPosition(Se.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||V.apply(this,arguments)}),j.addEventListener("mouseout",_e=function(Se){Se.relatedTarget&&(Se.relatedTarget===this||this.compareDocumentPosition(Se.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||ae.apply(this,arguments)}),function(){j.removeEventListener("mouseover",ne,!1),j.removeEventListener("mouseout",_e,!1)})),v.enabled=!0),!0},unbind:function(v,H){v.enabled&&v.boundTargets.length<=1&&(v.removeEventListener(),i.mouseHoverAnchor.setStyles(v.elmStyle,v.styleSave),v.enabled=!1),i.mouseHoverAnchor.llShow(H.props,!0,v.showEffectName)},removeOption:function(v,H){i.pointAnchor.removeOption(v,H)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.mouseHoverAnchor.unbind(v,H)}))},getBBoxNest:function(v,H){return gt(v.element,H.baseWindow)},llShow:function(v,H,j){e[j||v.curStats.show_effect].stop(v,!0,H),v.aplStats.show_on=H},getStyles:function(v,H){return H.reduce(function(j,V){return j[V]=v[V],j},{})},setStyles:function(v,H){Object.keys(H).forEach(function(j){v[j]=H[j]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(v,H){return typeof H.text=="string"&&(v.text=H.text.trim()),!!v.text&&(typeof H.color=="string"&&(v.color=H.color.trim()),v.outlineColor=typeof H.outlineColor=="string"?H.outlineColor.trim():"#fff",Array.isArray(H.offset)&&ce(H.offset[0])&&ce(H.offset[1])&&(v.offset={x:H.offset[0],y:H.offset[1]}),ce(H.lineOffset)&&(v.lineOffset=H.lineOffset),i.captionLabel.textStyleProps.forEach(function(j){H[j]!=null&&(v[j]=H[j])}),v.updateColor=function(j){i.captionLabel.updateColor(v,j)},v.updateSocketXY=function(j){var V,ae=v.curStats,ne=v.aplStats,_e=j.curStats,Se=_e.position_socketXYSE[v.socketIndex];Se.x!=null&&(v.offset?(ae.x=Se.x+v.offset.x,ae.y=Se.y+v.offset.y):(V=v.height/2,j=Math.max(_e.attach_plugSideLenSE[v.socketIndex]||0,_e.line_strokeWidth/2),_e=_e.position_socketXYSE[v.socketIndex?0:1],Se.socketId===f||Se.socketId===U?(ae.x=Se.socketId===f?Se.x-V-v.width:Se.x+V,ae.y=_e.y<Se.y?Se.y+j+V:Se.y-j-V-v.height):(ae.x=_e.x<Se.x?Se.x+j+V:Se.x-j-V-v.width,ae.y=Se.socketId===I?Se.y-V-v.height:Se.y+V)),le(v,ne,"x",V=ae.x)&&(v.elmPosition.x.baseVal.getItem(0).value=V),le(v,ne,"y",V=ae.y)&&(v.elmPosition.y.baseVal.getItem(0).value=V+v.height))},v.updatePath=function(ne){var V=v.curStats,ae=v.aplStats,ne=ne.pathList.animVal||ne.pathList.baseVal;ne&&(ne=i.captionLabel.getMidPoint(ne,v.lineOffset),V.x=ne.x-v.width/2,V.y=ne.y-v.height/2,le(v,ae,"x",ne=V.x)&&(v.elmPosition.x.baseVal.getItem(0).value=ne),le(v,ae,"y",ne=V.y)&&(v.elmPosition.y.baseVal.getItem(0).value=ne+v.height))},v.updateShow=function(j){i.captionLabel.updateShow(v,j)},Li&&(v.adjustEdge=function(j,V){var ae=v.curStats;ae.x!=null&&i.captionLabel.adjustEdge(V,{x:ae.x,y:ae.y,width:v.width,height:v.height},v.strokeWidth/2)}),!0)},updateColor:function(v,ae){var j=v.curStats,V=v.aplStats,ae=ae.curStats;j.color=ae=v.color||ae.line_color,le(v,V,"color",ae)&&(v.styleFill.fill=ae)},updateShow:function(v,H){H=H.isShown===!0,H!==v.isShown&&(v.styleShow.visibility=H?"":"hidden",v.isShown=H)},adjustEdge:function(v,H,j){j={x1:H.x-j,y1:H.y-j,x2:H.x+H.width+j,y2:H.y+H.height+j},j.x1<v.x1&&(v.x1=j.x1),j.y1<v.y1&&(v.y1=j.y1),j.x2>v.x2&&(v.x2=j.x2),j.y2>v.y2&&(v.y2=j.y2)},newText:function(v,H,j,V,ae){var ne,_e,Se=H.createElementNS(Wt,"text");return Se.textContent=v,[Se.x,Se.y].forEach(function(xe){var at=j.createSVGLength();at.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),xe.baseVal.initialize(at)}),typeof d!="boolean"&&(d="paintOrder"in Se.style),ae&&!d?(ne=H.createElementNS(Wt,"defs"),Se.id=V,ne.appendChild(Se),(_e=(v=H.createElementNS(Wt,"g")).appendChild(H.createElementNS(Wt,"use"))).href.baseVal="#"+V,(H=v.appendChild(H.createElementNS(Wt,"use"))).href.baseVal="#"+V,(_e=_e.style).strokeLinejoin="round",{elmPosition:Se,styleText:Se.style,styleFill:H.style,styleStroke:_e,styleShow:v.style,elmsAppend:[ne,v]}):(_e=Se.style,ae&&(_e.strokeLinejoin="round",_e.paintOrder="stroke"),{elmPosition:Se,styleText:_e,styleFill:_e,styleStroke:ae?_e:null,styleShow:_e,elmsAppend:[Se]})},getMidPoint:function(v,H){var j,V,ne=Qr(v),ae=ne.segsLen,ne=ne.lenAll,_e=-1,Se=ne/2+(H||0);if(Se<=0)return(j=v[0]).length===2?Ti(j[0],j[1],0):yi(j[0],j[1],j[2],j[3],0);if(ne<=Se)return(j=v[v.length-1]).length===2?Ti(j[0],j[1],1):yi(j[0],j[1],j[2],j[3],1);for(V=[];Se>ae[++_e];)V.push(v[_e]),Se-=ae[_e];return(j=v[_e]).length===2?Ti(j[0],j[1],Se/ae[_e]):yi(j[0],j[1],j[2],j[3],pi(j[0],j[1],j[2],j[3],Se))},initSvg:function(v,H){var j,V,ae=i.captionLabel.newText(v.text,H.baseWindow.document,H.svg,P+"-captionLabel-"+v._id,v.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(ne){v[ne]=ae[ne]}),v.isShown=!1,v.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(ne){v[ne]!=null&&(ae.styleText[ne]=v[ne])}),ae.elmsAppend.forEach(function(ne){H.svg.appendChild(ne)}),j=ae.elmPosition.getBBox(),v.width=j.width,v.height=j.height,v.outlineColor&&(V=j.height/9,ae.styleStroke.strokeWidth=(V=10<V?10:V<2?2:V)+"px",ae.styleStroke.stroke=v.outlineColor),v.strokeWidth=V||0,jt(v.aplStats,i.captionLabel.stats),v.updateColor(H),v.refSocketXY?v.updateSocketXY(H):v.updatePath(H),Li&&ti(H,{}),v.updateShow(H)},bind:function(v,H){var j=H.props;return v.color||wr(j,"cur_line_color",v.updateColor),(v.refSocketXY=H.optionName==="startLabel"||H.optionName==="endLabel")?(v.socketIndex=H.optionName==="startLabel"?0:1,wr(j,"apl_position",v.updateSocketXY),v.offset||(wr(j,"cur_attach_plugSideLenSE",v.updateSocketXY),wr(j,"cur_line_strokeWidth",v.updateSocketXY))):wr(j,"apl_path",v.updatePath),wr(j,"svgShow",v.updateShow),Li&&wr(j,"new_edge4viewBox",v.adjustEdge),i.captionLabel.initSvg(v,j),!0},unbind:function(v,H){var j=H.props;v.elmsAppend&&(v.elmsAppend.forEach(function(V){j.svg.removeChild(V)}),v.elmPosition=v.styleFill=v.styleShow=v.elmsAppend=null),jt(v.curStats,i.captionLabel.stats),jt(v.aplStats,i.captionLabel.stats),v.color||rr(j,"cur_line_color",v.updateColor),v.refSocketXY?(rr(j,"apl_position",v.updateSocketXY),v.offset||(rr(j,"cur_attach_plugSideLenSE",v.updateSocketXY),rr(j,"cur_line_strokeWidth",v.updateSocketXY))):rr(j,"apl_path",v.updatePath),rr(j,"svgShow",v.updateShow),Li&&(rr(j,"new_edge4viewBox",v.adjustEdge),ti(j,{}))},removeOption:function(v,H){var j=H.props,V={};V[H.optionName]="",Eo(j,V)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.captionLabel.unbind(v,H)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(v,H){return typeof H.text=="string"&&(v.text=H.text.trim()),!!v.text&&(typeof H.color=="string"&&(v.color=H.color.trim()),v.outlineColor=typeof H.outlineColor=="string"?H.outlineColor.trim():"#fff",ce(H.lineOffset)&&(v.lineOffset=H.lineOffset),i.captionLabel.textStyleProps.forEach(function(j){H[j]!=null&&(v[j]=H[j])}),v.updateColor=function(j){i.captionLabel.updateColor(v,j)},v.updatePath=function(j){var V=v.curStats,ae=v.aplStats,ne=j.curStats,_e=j.pathList.animVal||j.pathList.baseVal;_e&&(V.pathData=ne=i.pathLabel.getOffsetPathData(_e,ne.line_strokeWidth/2+v.strokeWidth/2+v.height/4,1.25*v.height),Jr(ne,ae.pathData)&&(v.elmPath.setPathData(ne),ae.pathData=ne,v.bBox=v.elmPosition.getBBox(),v.updateStartOffset(j)))},v.updateStartOffset=function(j){var V,ae,ne=v.curStats,_e=v.aplStats,Se=j.curStats;ne.pathData&&(v.semIndex===2&&!v.lineOffset||(ae=ne.pathData.reduce(function(xe,at){var Fe,Ie=at.values;switch(at.type){case"M":V={x:Ie[0],y:Ie[1]};break;case"L":Fe={x:Ie[0],y:Ie[1]},V&&(xe+=St(V,Fe)),V=Fe;break;case"C":Fe={x:Ie[4],y:Ie[5]},V&&(xe+=Dt(V,{x:Ie[0],y:Ie[1]},{x:Ie[2],y:Ie[3]},Fe)),V=Fe}return xe},0),j=v.semIndex===0?0:v.semIndex===1?ae:ae/2,v.semIndex!==2&&(Se=Math.max(Se.attach_plugBackLenSE[v.semIndex]||0,Se.line_strokeWidth/2)+v.strokeWidth/2+v.height/4,j=(j+=v.semIndex===0?Se:-Se)<0?0:ae<j?ae:j),v.lineOffset&&(j=(j+=v.lineOffset)<0?0:ae<j?ae:j),ne.startOffset=j,le(v,_e,"startOffset",j)&&(v.elmOffset.startOffset.baseVal.value=j)))},v.updateShow=function(j){i.captionLabel.updateShow(v,j)},Li&&(v.adjustEdge=function(j,V){v.bBox&&i.captionLabel.adjustEdge(V,v.bBox,v.strokeWidth/2)}),!0)},getOffsetPathData:function(v,H,j){var V,ae,ne=[];function _e(Se,xe){return Math.abs(Se.x-xe.x)<3&&Math.abs(Se.y-xe.y)<3}return v.forEach(function(Se){var xe,at,Fe,Ie,rt,De,Ee,ve,ye,Oe,Ae;Se.length===2?(ve=Se[0],ye=Se[1],Oe=H,Ae=Math.atan2(ve.y-ye.y,ye.x-ve.x)+.5*Math.PI,xe=[{x:ve.x+Math.cos(Ae)*Oe,y:ve.y+Math.sin(Ae)*Oe*-1},{x:ye.x+Math.cos(Ae)*Oe,y:ye.y+Math.sin(Ae)*Oe*-1}],V?(Fe=V.points,0<=(Ee=Math.atan2(Fe[1].y-Fe[0].y,Fe[0].x-Fe[1].x)-Math.atan2(Se[0].y-Se[1].y,Se[1].x-Se[0].x))&&Ee<=Math.PI?at={type:"line",points:xe,inside:!0}:(rt=ei(Fe[0],Fe[1],H),Ie=ei(xe[1],xe[0],H),De=Fe[0],ve=xe[1],Ae=(ye=rt).x-De.x,Oe=ye.y-De.y,Ee=ve.x-Ie.x,ye=ve.y-Ie.y,ve=(-Oe*(De.x-Ie.x)+Ae*(De.y-Ie.y))/(-Ee*Oe+Ae*ye),ye=(Ee*(De.y-Ie.y)-ye*(De.x-Ie.x))/(-Ee*Oe+Ae*ye),at=(Oe=0<=ve&&ve<=1&&0<=ye&&ye<=1?{x:De.x+ye*Ae,y:De.y+ye*Oe}:null)?{type:"line",points:[Fe[1]=Oe,xe[1]]}:(Fe[1]=_e(Ie,rt)?Ie:rt,{type:"line",points:[Ie,xe[1]]}),V.len=St(Fe[0],Fe[1]))):at={type:"line",points:xe},at.len=St(at.points[0],at.points[1]),ne.push(V=at)):(ne.push({type:"cubic",points:function(Ft,Xe,qt,ke,lt,ot){for(var he,Ce,$e=Dt(Ft,Xe,qt,ke)/ot,Ve=1/(ot<lt?lt/ot*$e:$e),_t=[],Je=0;Ce=(90-(he=yi(Ft,Xe,qt,ke,Je)).angle)*(Math.PI/180),_t.push({x:he.x+Math.cos(Ce)*lt,y:he.y+Math.sin(Ce)*lt*-1}),!(1<=Je);)1<(Je+=Ve)&&(Je=1);return _t}(Se[0],Se[1],Se[2],Se[3],H,16)}),V=null)}),V=null,ne.forEach(function(Se){var xe;V=Se.type==="line"?(Se.inside&&(V.len>H?((xe=V.points)[1]=ei(xe[0],xe[1],-H),V.len=St(xe[0],xe[1])):(V.points=null,V.len=0),Se.len>H+j?((xe=Se.points)[0]=ei(xe[1],xe[0],-(H+j)),Se.len=St(xe[0],xe[1])):(Se.points=null,Se.len=0)),Se):null}),ne.reduce(function(Se,xe){var at=xe.points;return at&&(ae&&_e(at[0],ae)||Se.push({type:"M",values:[at[0].x,at[0].y]}),xe.type==="line"?Se.push({type:"L",values:[at[1].x,at[1].y]}):(at.shift(),at.forEach(function(Fe){Se.push({type:"L",values:[Fe.x,Fe.y]})})),ae=at[at.length-1]),Se},[])},newText:function(v,H,j,V){var ae,ne,_e,Se,xe=H.createElementNS(Wt,"defs"),at=xe.appendChild(H.createElementNS(Wt,"path"));return at.id=ae=j+"-path",(_e=(ne=H.createElementNS(Wt,"text")).appendChild(H.createElementNS(Wt,"textPath"))).href.baseVal="#"+ae,_e.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),_e.textContent=v,typeof d!="boolean"&&(d="paintOrder"in ne.style),V&&!d?(ne.id=v=j+"-text",xe.appendChild(ne),(Se=(j=H.createElementNS(Wt,"g")).appendChild(H.createElementNS(Wt,"use"))).href.baseVal="#"+v,(H=j.appendChild(H.createElementNS(Wt,"use"))).href.baseVal="#"+v,(Se=Se.style).strokeLinejoin="round",{elmPosition:ne,elmPath:at,elmOffset:_e,styleText:ne.style,styleFill:H.style,styleStroke:Se,styleShow:j.style,elmsAppend:[xe,j]}):(Se=ne.style,V&&(Se.strokeLinejoin="round",Se.paintOrder="stroke"),{elmPosition:ne,elmPath:at,elmOffset:_e,styleText:Se,styleFill:Se,styleStroke:V?Se:null,styleShow:Se,elmsAppend:[xe,ne]})},initSvg:function(v,H){var j,V,ae,ne=i.pathLabel.newText(v.text,H.baseWindow.document,P+"-pathLabel-"+v._id,v.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(_e){v[_e]=ne[_e]}),v.isShown=!1,v.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(_e){v[_e]!=null&&(ne.styleText[_e]=v[_e])}),ne.elmsAppend.forEach(function(_e){H.svg.appendChild(_e)}),ne.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),Zr&&(ae=ne.elmOffset.href.baseVal,ne.elmOffset.href.baseVal=""),j=ne.elmPosition.getBBox(),Zr&&(ne.elmOffset.href.baseVal=ae),ne.styleText.textAnchor=["start","end","middle"][v.semIndex],v.semIndex!==2||v.lineOffset||ne.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),v.height=j.height,v.outlineColor&&(V=j.height/9,ne.styleStroke.strokeWidth=(V=10<V?10:V<2?2:V)+"px",ne.styleStroke.stroke=v.outlineColor),v.strokeWidth=V||0,jt(v.aplStats,i.pathLabel.stats),v.updateColor(H),v.updatePath(H),v.updateStartOffset(H),Li&&ti(H,{}),v.updateShow(H)},bind:function(v,H){var j=H.props;return v.color||wr(j,"cur_line_color",v.updateColor),wr(j,"cur_line_strokeWidth",v.updatePath),wr(j,"apl_path",v.updatePath),v.semIndex=H.optionName==="startLabel"?0:H.optionName==="endLabel"?1:2,v.semIndex===2&&!v.lineOffset||wr(j,"cur_attach_plugBackLenSE",v.updateStartOffset),wr(j,"svgShow",v.updateShow),Li&&wr(j,"new_edge4viewBox",v.adjustEdge),i.pathLabel.initSvg(v,j),!0},unbind:function(v,H){var j=H.props;v.elmsAppend&&(v.elmsAppend.forEach(function(V){j.svg.removeChild(V)}),v.elmPosition=v.elmPath=v.elmOffset=v.styleFill=v.styleShow=v.elmsAppend=null),jt(v.curStats,i.pathLabel.stats),jt(v.aplStats,i.pathLabel.stats),v.color||rr(j,"cur_line_color",v.updateColor),rr(j,"cur_line_strokeWidth",v.updatePath),rr(j,"apl_path",v.updatePath),v.semIndex===2&&!v.lineOffset||rr(j,"cur_attach_plugBackLenSE",v.updateStartOffset),rr(j,"svgShow",v.updateShow),Li&&(rr(j,"new_edge4viewBox",v.adjustEdge),ti(j,{}))},removeOption:function(v,H){var j=H.props,V={};V[H.optionName]="",Eo(j,V)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.pathLabel.unbind(v,H)}))}}},Object.keys(i).forEach(function(v){$s[v]=function(){return new s(i[v],Array.prototype.slice.call(arguments))}}),$s.positionByWindowResize=!0,window.addEventListener("resize",Qe.add(function(){$s.positionByWindowResize&&Object.keys(Ne).forEach(function(v){ti(Ne[v],{position:!0})})}),!1),$s}()),iR}$K();var zI={exports:{}};(function(t,e){(function(i,s){t.exports=s()})(un,function(){var i=1e3,s=6e4,n=36e5,l="millisecond",a="second",h="minute",d="hour",m="day",y="week",b="month",k="quarter",x="year",E="date",O="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,D=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(R){var B=["th","st","nd","rd"],W=R%100;return"["+R+(B[(W-20)%10]||B[W]||B[0])+"]"}},T=function(R,B,W){var $=String(R);return!$||$.length>=B?R:""+Array(B+1-$.length).join(W)+R},g={s:T,z:function(R){var B=-R.utcOffset(),W=Math.abs(B),$=Math.floor(W/60),G=W%60;return(B<=0?"+":"-")+T($,2,"0")+":"+T(G,2,"0")},m:function R(B,W){if(B.date()<W.date())return-R(W,B);var $=12*(W.year()-B.year())+(W.month()-B.month()),G=B.clone().add($,b),ue=W-G<0,Q=B.clone().add($+(ue?-1:1),b);return+(-($+(W-G)/(ue?G-Q:Q-G))||0)},a:function(R){return R<0?Math.ceil(R)||0:Math.floor(R)},p:function(R){return{M:b,y:x,w:y,d:m,D:E,h:d,m:h,s:a,ms:l,Q:k}[R]||String(R||"").toLowerCase().replace(/s$/,"")},u:function(R){return R===void 0}},S="en",C={};C[S]=u;var P="$isDayjsObject",I=function(R){return R instanceof w||!(!R||!R[P])},U=function R(B,W,$){var G;if(!B)return S;if(typeof B=="string"){var ue=B.toLowerCase();C[ue]&&(G=ue),W&&(C[ue]=W,G=ue);var Q=B.split("-");if(!G&&Q.length>1)return R(Q[0])}else{var K=B.name;C[K]=B,G=K}return!$&&G&&(S=G),G||!$&&S},z=function(R,B){if(I(R))return R.clone();var W=typeof B=="object"?B:{};return W.date=R,W.args=arguments,new w(W)},f=g;f.l=U,f.i=I,f.w=function(R,B){return z(R,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var w=function(){function R(W){this.$L=U(W.locale,null,!0),this.parse(W),this.$x=this.$x||W.x||{},this[P]=!0}var B=R.prototype;return B.parse=function(W){this.$d=function($){var G=$.date,ue=$.utc;if(G===null)return new Date(NaN);if(f.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var Q=G.match(L);if(Q){var K=Q[2]-1||0,we=(Q[7]||"0").substring(0,3);return ue?new Date(Date.UTC(Q[1],K,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,we)):new Date(Q[1],K,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,we)}}return new Date(G)}(W),this.init()},B.init=function(){var W=this.$d;this.$y=W.getFullYear(),this.$M=W.getMonth(),this.$D=W.getDate(),this.$W=W.getDay(),this.$H=W.getHours(),this.$m=W.getMinutes(),this.$s=W.getSeconds(),this.$ms=W.getMilliseconds()},B.$utils=function(){return f},B.isValid=function(){return this.$d.toString()!==O},B.isSame=function(W,$){var G=z(W);return this.startOf($)<=G&&G<=this.endOf($)},B.isAfter=function(W,$){return z(W)<this.startOf($)},B.isBefore=function(W,$){return this.endOf($)<z(W)},B.$g=function(W,$,G){return f.u(W)?this[$]:this.set(G,W)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(W,$){var G=this,ue=!!f.u($)||$,Q=f.p(W),K=function(Lt,Re){var Yt=f.w(G.$u?Date.UTC(G.$y,Re,Lt):new Date(G.$y,Re,Lt),G);return ue?Yt:Yt.endOf(m)},we=function(Lt,Re){return f.w(G.toDate()[Lt].apply(G.toDate("s"),(ue?[0,0,0,0]:[23,59,59,999]).slice(Re)),G)},ze=this.$W,Ke=this.$M,Pe=this.$D,We="set"+(this.$u?"UTC":"");switch(Q){case x:return ue?K(1,0):K(31,11);case b:return ue?K(1,Ke):K(0,Ke+1);case y:var it=this.$locale().weekStart||0,vt=(ze<it?ze+7:ze)-it;return K(ue?Pe-vt:Pe+(6-vt),Ke);case m:case E:return we(We+"Hours",0);case d:return we(We+"Minutes",1);case h:return we(We+"Seconds",2);case a:return we(We+"Milliseconds",3);default:return this.clone()}},B.endOf=function(W){return this.startOf(W,!1)},B.$set=function(W,$){var G,ue=f.p(W),Q="set"+(this.$u?"UTC":""),K=(G={},G[m]=Q+"Date",G[E]=Q+"Date",G[b]=Q+"Month",G[x]=Q+"FullYear",G[d]=Q+"Hours",G[h]=Q+"Minutes",G[a]=Q+"Seconds",G[l]=Q+"Milliseconds",G)[ue],we=ue===m?this.$D+($-this.$W):$;if(ue===b||ue===x){var ze=this.clone().set(E,1);ze.$d[K](we),ze.init(),this.$d=ze.set(E,Math.min(this.$D,ze.daysInMonth())).$d}else K&&this.$d[K](we);return this.init(),this},B.set=function(W,$){return this.clone().$set(W,$)},B.get=function(W){return this[f.p(W)]()},B.add=function(W,$){var G,ue=this;W=Number(W);var Q=f.p($),K=function(Ke){var Pe=z(ue);return f.w(Pe.date(Pe.date()+Math.round(Ke*W)),ue)};if(Q===b)return this.set(b,this.$M+W);if(Q===x)return this.set(x,this.$y+W);if(Q===m)return K(1);if(Q===y)return K(7);var we=(G={},G[h]=s,G[d]=n,G[a]=i,G)[Q]||1,ze=this.$d.getTime()+W*we;return f.w(ze,this)},B.subtract=function(W,$){return this.add(-1*W,$)},B.format=function(W){var $=this,G=this.$locale();if(!this.isValid())return G.invalidDate||O;var ue=W||"YYYY-MM-DDTHH:mm:ssZ",Q=f.z(this),K=this.$H,we=this.$m,ze=this.$M,Ke=G.weekdays,Pe=G.months,We=G.meridiem,it=function(Re,Yt,$t,Ri){return Re&&(Re[Yt]||Re($,ue))||$t[Yt].slice(0,Ri)},vt=function(Re){return f.s(K%12||12,Re,"0")},Lt=We||function(Re,Yt,$t){var Ri=Re<12?"AM":"PM";return $t?Ri.toLowerCase():Ri};return ue.replace(D,function(Re,Yt){return Yt||function($t){switch($t){case"YY":return String($.$y).slice(-2);case"YYYY":return f.s($.$y,4,"0");case"M":return ze+1;case"MM":return f.s(ze+1,2,"0");case"MMM":return it(G.monthsShort,ze,Pe,3);case"MMMM":return it(Pe,ze);case"D":return $.$D;case"DD":return f.s($.$D,2,"0");case"d":return String($.$W);case"dd":return it(G.weekdaysMin,$.$W,Ke,2);case"ddd":return it(G.weekdaysShort,$.$W,Ke,3);case"dddd":return Ke[$.$W];case"H":return String(K);case"HH":return f.s(K,2,"0");case"h":return vt(1);case"hh":return vt(2);case"a":return Lt(K,we,!0);case"A":return Lt(K,we,!1);case"m":return String(we);case"mm":return f.s(we,2,"0");case"s":return String($.$s);case"ss":return f.s($.$s,2,"0");case"SSS":return f.s($.$ms,3,"0");case"Z":return Q}return null}(Re)||Q.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(W,$,G){var ue,Q=this,K=f.p($),we=z(W),ze=(we.utcOffset()-this.utcOffset())*s,Ke=this-we,Pe=function(){return f.m(Q,we)};switch(K){case x:ue=Pe()/12;break;case b:ue=Pe();break;case k:ue=Pe()/3;break;case y:ue=(Ke-ze)/6048e5;break;case m:ue=(Ke-ze)/864e5;break;case d:ue=Ke/n;break;case h:ue=Ke/s;break;case a:ue=Ke/i;break;default:ue=Ke}return G?ue:f.a(ue)},B.daysInMonth=function(){return this.endOf(b).$D},B.$locale=function(){return C[this.$L]},B.locale=function(W,$){if(!W)return this.$L;var G=this.clone(),ue=U(W,$,!0);return ue&&(G.$L=ue),G},B.clone=function(){return f.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},R}(),A=w.prototype;return z.prototype=A,[["$ms",l],["$s",a],["$m",h],["$H",d],["$W",m],["$M",b],["$y",x],["$D",E]].forEach(function(R){A[R[1]]=function(B){return this.$g(B,R[0],R[1])}}),z.extend=function(R,B){return R.$i||(R(B,w,z),R.$i=!0),z},z.locale=U,z.isDayjs=I,z.unix=function(R){return z(1e3*R)},z.en=C[S],z.Ls=C,z.p={},z})})(zI);var VK=zI.exports;const YK=Wd(VK),dv={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t),hsl2rgb:({h:t,s:e,l:i},s)=>{if(!e)return i*2.55;t/=360,e/=100,i/=100;const n=i<.5?i*(1+e):i+e-i*e,l=2*i-n;switch(s){case"r":return dv.hue2rgb(l,n,t+1/3)*255;case"g":return dv.hue2rgb(l,n,t)*255;case"b":return dv.hue2rgb(l,n,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:i},s)=>{t/=255,e/=255,i/=255;const n=Math.max(t,e,i),l=Math.min(t,e,i),a=(n+l)/2;if(s==="l")return a*100;if(n===l)return 0;const h=n-l,d=a>.5?h/(2-n-l):h/(n+l);if(s==="s")return d*100;switch(n){case t:return((e-i)/h+(e<i?6:0))*60;case e:return((i-t)/h+2)*60;case i:return((t-e)/h+4)*60;default:return-1}}},GK={clamp:(t,e,i)=>e>i?Math.min(e,Math.max(i,t)):Math.min(i,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},XK={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},$i={channel:dv,lang:GK,unit:XK},pc={};for(let t=0;t<=255;t++)pc[t]=$i.unit.dec2hex(t);const _n={ALL:0,RGB:1,HSL:2};class KK{constructor(){this.type=_n.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=_n.ALL}is(e){return this.type===e}}class ZK{constructor(e,i){this.color=i,this.changed=!1,this.data=e,this.type=new KK}set(e,i){return this.color=i,this.changed=!1,this.data=e,this.type.type=_n.ALL,this}_ensureHSL(){const e=this.data,{h:i,s,l:n}=e;i===void 0&&(e.h=$i.channel.rgb2hsl(e,"h")),s===void 0&&(e.s=$i.channel.rgb2hsl(e,"s")),n===void 0&&(e.l=$i.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:i,g:s,b:n}=e;i===void 0&&(e.r=$i.channel.hsl2rgb(e,"r")),s===void 0&&(e.g=$i.channel.hsl2rgb(e,"g")),n===void 0&&(e.b=$i.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,i=e.r;return!this.type.is(_n.HSL)&&i!==void 0?i:(this._ensureHSL(),$i.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,i=e.g;return!this.type.is(_n.HSL)&&i!==void 0?i:(this._ensureHSL(),$i.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,i=e.b;return!this.type.is(_n.HSL)&&i!==void 0?i:(this._ensureHSL(),$i.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,i=e.h;return!this.type.is(_n.RGB)&&i!==void 0?i:(this._ensureRGB(),$i.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,i=e.s;return!this.type.is(_n.RGB)&&i!==void 0?i:(this._ensureRGB(),$i.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,i=e.l;return!this.type.is(_n.RGB)&&i!==void 0?i:(this._ensureRGB(),$i.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(_n.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(_n.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(_n.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(_n.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(_n.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(_n.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Xb=new ZK({r:0,g:0,b:0,a:0},"transparent"),hd={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(hd.re);if(!e)return;const i=e[1],s=parseInt(i,16),n=i.length,l=n%4===0,a=n>4,h=a?1:17,d=a?8:4,m=l?0:-1,y=a?255:15;return Xb.set({r:(s>>d*(m+3)&y)*h,g:(s>>d*(m+2)&y)*h,b:(s>>d*(m+1)&y)*h,a:l?(s&y)*h/255:1},t)},stringify:t=>{const{r:e,g:i,b:s,a:n}=t;return n<1?`#${pc[Math.round(e)]}${pc[Math.round(i)]}${pc[Math.round(s)]}${pc[Math.round(n*255)]}`:`#${pc[Math.round(e)]}${pc[Math.round(i)]}${pc[Math.round(s)]}`}},Uh={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Uh.hueRe);if(e){const[,i,s]=e;switch(s){case"grad":return $i.channel.clamp.h(parseFloat(i)*.9);case"rad":return $i.channel.clamp.h(parseFloat(i)*180/Math.PI);case"turn":return $i.channel.clamp.h(parseFloat(i)*360)}}return $i.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const i=t.match(Uh.re);if(!i)return;const[,s,n,l,a,h]=i;return Xb.set({h:Uh._hue2deg(s),s:$i.channel.clamp.s(parseFloat(n)),l:$i.channel.clamp.l(parseFloat(l)),a:a?$i.channel.clamp.a(h?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:i,l:s,a:n}=t;return n<1?`hsla(${$i.lang.round(e)}, ${$i.lang.round(i)}%, ${$i.lang.round(s)}%, ${n})`:`hsl(${$i.lang.round(e)}, ${$i.lang.round(i)}%, ${$i.lang.round(s)}%)`}},cm={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=cm.colors[t];if(e)return hd.parse(e)},stringify:t=>{const e=hd.stringify(t);for(const i in cm.colors)if(cm.colors[i]===e)return i}},qp={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const i=t.match(qp.re);if(!i)return;const[,s,n,l,a,h,d,m,y]=i;return Xb.set({r:$i.channel.clamp.r(n?parseFloat(s)*2.55:parseFloat(s)),g:$i.channel.clamp.g(a?parseFloat(l)*2.55:parseFloat(l)),b:$i.channel.clamp.b(d?parseFloat(h)*2.55:parseFloat(h)),a:m?$i.channel.clamp.a(y?parseFloat(m)/100:parseFloat(m)):1},t)},stringify:t=>{const{r:e,g:i,b:s,a:n}=t;return n<1?`rgba(${$i.lang.round(e)}, ${$i.lang.round(i)}, ${$i.lang.round(s)}, ${$i.lang.round(n)})`:`rgb(${$i.lang.round(e)}, ${$i.lang.round(i)}, ${$i.lang.round(s)})`}},Qo={format:{keyword:cm,hex:hd,rgb:qp,rgba:qp,hsl:Uh,hsla:Uh},parse:t=>{if(typeof t!="string")return t;const e=hd.parse(t)||qp.parse(t)||Uh.parse(t)||cm.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(_n.HSL)||t.data.r===void 0?Uh.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?qp.stringify(t):hd.stringify(t)},UI=(t,e)=>{const i=Qo.parse(t);for(const s in e)i[s]=$i.channel.clamp[s](e[s]);return Qo.stringify(i)},hm=(t,e,i=0,s=1)=>{if(typeof t!="number")return UI(t,{a:e});const n=Xb.set({r:$i.channel.clamp.r(t),g:$i.channel.clamp.g(e),b:$i.channel.clamp.b(i),a:$i.channel.clamp.a(s)});return Qo.stringify(n)},QK=t=>{const{r:e,g:i,b:s}=Qo.parse(t),n=.2126*$i.channel.toLinear(e)+.7152*$i.channel.toLinear(i)+.0722*$i.channel.toLinear(s);return $i.lang.round(n)},JK=t=>QK(t)>=.5,Zm=t=>!JK(t),HI=(t,e,i)=>{const s=Qo.parse(t),n=s[e],l=$i.channel.clamp[e](n+i);return n!==l&&(s[e]=l),Qo.stringify(s)},ci=(t,e)=>HI(t,"l",e),Ei=(t,e)=>HI(t,"l",-e),Le=(t,e)=>{const i=Qo.parse(t),s={};for(const n in e)e[n]&&(s[n]=i[n]+e[n]);return UI(t,s)},eZ=(t,e,i=50)=>{const{r:s,g:n,b:l,a}=Qo.parse(t),{r:h,g:d,b:m,a:y}=Qo.parse(e),b=i/100,k=b*2-1,x=a-y,O=((k*x===-1?k:(k+x)/(1+k*x))+1)/2,L=1-O,D=s*O+h*L,u=n*O+d*L,T=l*O+m*L,g=a*b+y*(1-b);return hm(D,u,T,g)},Vt=(t,e=100)=>{const i=Qo.parse(t);return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,eZ(i,t,e)};/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:WI,setPrototypeOf:sR,isFrozen:tZ,getPrototypeOf:iZ,getOwnPropertyDescriptor:rZ}=Object;let{freeze:$n,seal:Va,create:jI}=Object,{apply:bk,construct:_k}=typeof Reflect<"u"&&Reflect;$n||($n=function(e){return e});Va||(Va=function(e){return e});bk||(bk=function(e,i,s){return e.apply(i,s)});_k||(_k=function(e,i){return new e(...i)});const $y=Vn(Array.prototype.forEach),sZ=Vn(Array.prototype.lastIndexOf),nR=Vn(Array.prototype.pop),Ep=Vn(Array.prototype.push),nZ=Vn(Array.prototype.splice),fv=Vn(String.prototype.toLowerCase),Mx=Vn(String.prototype.toString),aR=Vn(String.prototype.match),Op=Vn(String.prototype.replace),aZ=Vn(String.prototype.indexOf),oZ=Vn(String.prototype.trim),uo=Vn(Object.prototype.hasOwnProperty),zn=Vn(RegExp.prototype.test),Mp=lZ(TypeError);function Vn(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return bk(t,e,s)}}function lZ(t){return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return _k(t,i)}}function hr(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:fv;sR&&sR(t,null);let s=e.length;for(;s--;){let n=e[s];if(typeof n=="string"){const l=i(n);l!==n&&(tZ(e)||(e[s]=l),n=l)}t[n]=!0}return t}function cZ(t){for(let e=0;e<t.length;e++)uo(t,e)||(t[e]=null);return t}function Dh(t){const e=jI(null);for(const[i,s]of WI(t))uo(t,i)&&(Array.isArray(s)?e[i]=cZ(s):s&&typeof s=="object"&&s.constructor===Object?e[i]=Dh(s):e[i]=s);return e}function Ap(t,e){for(;t!==null;){const s=rZ(t,e);if(s){if(s.get)return Vn(s.get);if(typeof s.value=="function")return Vn(s.value)}t=iZ(t)}function i(){return null}return i}const oR=$n(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ax=$n(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Px=$n(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),hZ=$n(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Dx=$n(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uZ=$n(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),lR=$n(["#text"]),cR=$n(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Lx=$n(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),hR=$n(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Vy=$n(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),dZ=Va(/\{\{[\w\W]*|[\w\W]*\}\}/gm),fZ=Va(/<%[\w\W]*|[\w\W]*%>/gm),pZ=Va(/\$\{[\w\W]*/gm),mZ=Va(/^data-[\-\w.\u00B7-\uFFFF]+$/),gZ=Va(/^aria-[\-\w]+$/),qI=Va(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),yZ=Va(/^(?:\w+script|data):/i),vZ=Va(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$I=Va(/^html$/i),bZ=Va(/^[a-z][.\w]*(-[.\w]+)+$/i);var uR=Object.freeze({__proto__:null,ARIA_ATTR:gZ,ATTR_WHITESPACE:vZ,CUSTOM_ELEMENT:bZ,DATA_ATTR:mZ,DOCTYPE_NAME:$I,ERB_EXPR:fZ,IS_ALLOWED_URI:qI,IS_SCRIPT_OR_DATA:yZ,MUSTACHE_EXPR:dZ,TMPLIT_EXPR:pZ});const Pp={element:1,text:3,progressingInstruction:7,comment:8,document:9},_Z=function(){return typeof window>"u"?null:window},wZ=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const n="data-tt-policy-suffix";i&&i.hasAttribute(n)&&(s=i.getAttribute(n));const l="dompurify"+(s?"#"+s:"");try{return e.createPolicy(l,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},dR=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function VI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:_Z();const e=jt=>VI(jt);if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==Pp.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t;const s=i,n=s.currentScript,{DocumentFragment:l,HTMLTemplateElement:a,Node:h,Element:d,NodeFilter:m,NamedNodeMap:y=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:b,DOMParser:k,trustedTypes:x}=t,E=d.prototype,O=Ap(E,"cloneNode"),L=Ap(E,"remove"),D=Ap(E,"nextSibling"),u=Ap(E,"childNodes"),T=Ap(E,"parentNode");if(typeof a=="function"){const jt=i.createElement("template");jt.content&&jt.content.ownerDocument&&(i=jt.content.ownerDocument)}let g,S="";const{implementation:C,createNodeIterator:P,createDocumentFragment:I,getElementsByTagName:U}=i,{importNode:z}=s;let f=dR();e.isSupported=typeof WI=="function"&&typeof T=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:w,ERB_EXPR:A,TMPLIT_EXPR:R,DATA_ATTR:B,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:ue}=uR;let{IS_ALLOWED_URI:Q}=uR,K=null;const we=hr({},[...oR,...Ax,...Px,...Dx,...lR]);let ze=null;const Ke=hr({},[...cR,...Lx,...hR,...Vy]);let Pe=Object.seal(jI(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),We=null,it=null,vt=!0,Lt=!0,Re=!1,Yt=!0,$t=!1,Ri=!0,nt=!1,Si=!1,Qi=!1,Ji=!1,bt=!1,Wt=!1,Gi=!0,jr=!1;const Zr="user-content-";let Li=!0,_r=!1,J={},pe=null;const ce=hr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Be=null;const Ze=hr({},["audio","video","img","source","image","track"]);let Qe=null;const Pt=hr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Zt="http://www.w3.org/1998/Math/MathML",oi="http://www.w3.org/2000/svg",de="http://www.w3.org/1999/xhtml";let Ne=de,ut=!1,He=null;const ht=hr({},[Zt,oi,de],Mx);let Ge=hr({},["mi","mo","mn","ms","mtext"]),Rt=hr({},["annotation-xml"]);const Gt=hr({},["title","style","font","a","script"]);let Mi=null;const gi=["application/xhtml+xml","text/html"],ie="text/html";let se=null,be=null;const je=i.createElement("form"),gt=function(le){return le instanceof RegExp||le instanceof Function},St=function(){let le=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(be&&be===le)){if((!le||typeof le!="object")&&(le={}),le=Dh(le),Mi=gi.indexOf(le.PARSER_MEDIA_TYPE)===-1?ie:le.PARSER_MEDIA_TYPE,se=Mi==="application/xhtml+xml"?Mx:fv,K=uo(le,"ALLOWED_TAGS")?hr({},le.ALLOWED_TAGS,se):we,ze=uo(le,"ALLOWED_ATTR")?hr({},le.ALLOWED_ATTR,se):Ke,He=uo(le,"ALLOWED_NAMESPACES")?hr({},le.ALLOWED_NAMESPACES,Mx):ht,Qe=uo(le,"ADD_URI_SAFE_ATTR")?hr(Dh(Pt),le.ADD_URI_SAFE_ATTR,se):Pt,Be=uo(le,"ADD_DATA_URI_TAGS")?hr(Dh(Ze),le.ADD_DATA_URI_TAGS,se):Ze,pe=uo(le,"FORBID_CONTENTS")?hr({},le.FORBID_CONTENTS,se):ce,We=uo(le,"FORBID_TAGS")?hr({},le.FORBID_TAGS,se):{},it=uo(le,"FORBID_ATTR")?hr({},le.FORBID_ATTR,se):{},J=uo(le,"USE_PROFILES")?le.USE_PROFILES:!1,vt=le.ALLOW_ARIA_ATTR!==!1,Lt=le.ALLOW_DATA_ATTR!==!1,Re=le.ALLOW_UNKNOWN_PROTOCOLS||!1,Yt=le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,$t=le.SAFE_FOR_TEMPLATES||!1,Ri=le.SAFE_FOR_XML!==!1,nt=le.WHOLE_DOCUMENT||!1,Ji=le.RETURN_DOM||!1,bt=le.RETURN_DOM_FRAGMENT||!1,Wt=le.RETURN_TRUSTED_TYPE||!1,Qi=le.FORCE_BODY||!1,Gi=le.SANITIZE_DOM!==!1,jr=le.SANITIZE_NAMED_PROPS||!1,Li=le.KEEP_CONTENT!==!1,_r=le.IN_PLACE||!1,Q=le.ALLOWED_URI_REGEXP||qI,Ne=le.NAMESPACE||de,Ge=le.MATHML_TEXT_INTEGRATION_POINTS||Ge,Rt=le.HTML_INTEGRATION_POINTS||Rt,Pe=le.CUSTOM_ELEMENT_HANDLING||{},le.CUSTOM_ELEMENT_HANDLING&&gt(le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pe.tagNameCheck=le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),le.CUSTOM_ELEMENT_HANDLING&&gt(le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pe.attributeNameCheck=le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),le.CUSTOM_ELEMENT_HANDLING&&typeof le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pe.allowCustomizedBuiltInElements=le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),$t&&(Lt=!1),bt&&(Ji=!0),J&&(K=hr({},lR),ze=[],J.html===!0&&(hr(K,oR),hr(ze,cR)),J.svg===!0&&(hr(K,Ax),hr(ze,Lx),hr(ze,Vy)),J.svgFilters===!0&&(hr(K,Px),hr(ze,Lx),hr(ze,Vy)),J.mathMl===!0&&(hr(K,Dx),hr(ze,hR),hr(ze,Vy))),le.ADD_TAGS&&(K===we&&(K=Dh(K)),hr(K,le.ADD_TAGS,se)),le.ADD_ATTR&&(ze===Ke&&(ze=Dh(ze)),hr(ze,le.ADD_ATTR,se)),le.ADD_URI_SAFE_ATTR&&hr(Qe,le.ADD_URI_SAFE_ATTR,se),le.FORBID_CONTENTS&&(pe===ce&&(pe=Dh(pe)),hr(pe,le.FORBID_CONTENTS,se)),Li&&(K["#text"]=!0),nt&&hr(K,["html","head","body"]),K.table&&(hr(K,["tbody"]),delete We.tbody),le.TRUSTED_TYPES_POLICY){if(typeof le.TRUSTED_TYPES_POLICY.createHTML!="function")throw Mp('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Mp('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');g=le.TRUSTED_TYPES_POLICY,S=g.createHTML("")}else g===void 0&&(g=wZ(x,n)),g!==null&&typeof S=="string"&&(S=g.createHTML(""));$n&&$n(le),be=le}},Ti=hr({},[...Ax,...Px,...hZ]),ei=hr({},[...Dx,...uZ]),yi=function(le){let Ct=T(le);(!Ct||!Ct.tagName)&&(Ct={namespaceURI:Ne,tagName:"template"});const ri=fv(le.tagName),Ar=fv(Ct.tagName);return He[le.namespaceURI]?le.namespaceURI===oi?Ct.namespaceURI===de?ri==="svg":Ct.namespaceURI===Zt?ri==="svg"&&(Ar==="annotation-xml"||Ge[Ar]):!!Ti[ri]:le.namespaceURI===Zt?Ct.namespaceURI===de?ri==="math":Ct.namespaceURI===oi?ri==="math"&&Rt[Ar]:!!ei[ri]:le.namespaceURI===de?Ct.namespaceURI===oi&&!Rt[Ar]||Ct.namespaceURI===Zt&&!Ge[Ar]?!1:!ei[ri]&&(Gt[ri]||!Ti[ri]):!!(Mi==="application/xhtml+xml"&&He[le.namespaceURI]):!1},Dt=function(le){Ep(e.removed,{element:le});try{T(le).removeChild(le)}catch{L(le)}},pi=function(le,Ct){try{Ep(e.removed,{attribute:Ct.getAttributeNode(le),from:Ct})}catch{Ep(e.removed,{attribute:null,from:Ct})}if(Ct.removeAttribute(le),le==="is")if(Ji||bt)try{Dt(Ct)}catch{}else try{Ct.setAttribute(le,"")}catch{}},er=function(le){let Ct=null,ri=null;if(Qi)le="<remove></remove>"+le;else{const ti=aR(le,/^[\r\n\t ]+/);ri=ti&&ti[0]}Mi==="application/xhtml+xml"&&Ne===de&&(le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+le+"</body></html>");const Ar=g?g.createHTML(le):le;if(Ne===de)try{Ct=new k().parseFromString(Ar,Mi)}catch{}if(!Ct||!Ct.documentElement){Ct=C.createDocument(Ne,"template",null);try{Ct.documentElement.innerHTML=ut?S:Ar}catch{}}const Br=Ct.body||Ct.documentElement;return le&&ri&&Br.insertBefore(i.createTextNode(ri),Br.childNodes[0]||null),Ne===de?U.call(Ct,nt?"html":"body")[0]:nt?Ct.documentElement:Br},Qr=function(le){return P.call(le.ownerDocument||le,le,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},Jr=function(le){return le instanceof b&&(typeof le.nodeName!="string"||typeof le.textContent!="string"||typeof le.removeChild!="function"||!(le.attributes instanceof y)||typeof le.removeAttribute!="function"||typeof le.setAttribute!="function"||typeof le.namespaceURI!="string"||typeof le.insertBefore!="function"||typeof le.hasChildNodes!="function")},wr=function(le){return typeof h=="function"&&le instanceof h};function rr(jt,le,Ct){$y(jt,ri=>{ri.call(e,le,Ct,be)})}const Yn=function(le){let Ct=null;if(rr(f.beforeSanitizeElements,le,null),Jr(le))return Dt(le),!0;const ri=se(le.nodeName);if(rr(f.uponSanitizeElement,le,{tagName:ri,allowedTags:K}),le.hasChildNodes()&&!wr(le.firstElementChild)&&zn(/<[/\w!]/g,le.innerHTML)&&zn(/<[/\w!]/g,le.textContent)||le.nodeType===Pp.progressingInstruction||Ri&&le.nodeType===Pp.comment&&zn(/<[/\w]/g,le.data))return Dt(le),!0;if(!K[ri]||We[ri]){if(!We[ri]&&To(ri)&&(Pe.tagNameCheck instanceof RegExp&&zn(Pe.tagNameCheck,ri)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(ri)))return!1;if(Li&&!pe[ri]){const Ar=T(le)||le.parentNode,Br=u(le)||le.childNodes;if(Br&&Ar){const ti=Br.length;for(let ys=ti-1;ys>=0;--ys){const bs=O(Br[ys],!0);bs.__removalCount=(le.__removalCount||0)+1,Ar.insertBefore(bs,D(le))}}}return Dt(le),!0}return le instanceof d&&!yi(le)||(ri==="noscript"||ri==="noembed"||ri==="noframes")&&zn(/<\/no(script|embed|frames)/i,le.innerHTML)?(Dt(le),!0):($t&&le.nodeType===Pp.text&&(Ct=le.textContent,$y([w,A,R],Ar=>{Ct=Op(Ct,Ar," ")}),le.textContent!==Ct&&(Ep(e.removed,{element:le.cloneNode()}),le.textContent=Ct)),rr(f.afterSanitizeElements,le,null),!1)},vr=function(le,Ct,ri){if(Gi&&(Ct==="id"||Ct==="name")&&(ri in i||ri in je))return!1;if(!(Lt&&!it[Ct]&&zn(B,Ct))){if(!(vt&&zn(W,Ct))){if(!ze[Ct]||it[Ct]){if(!(To(le)&&(Pe.tagNameCheck instanceof RegExp&&zn(Pe.tagNameCheck,le)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(le))&&(Pe.attributeNameCheck instanceof RegExp&&zn(Pe.attributeNameCheck,Ct)||Pe.attributeNameCheck instanceof Function&&Pe.attributeNameCheck(Ct))||Ct==="is"&&Pe.allowCustomizedBuiltInElements&&(Pe.tagNameCheck instanceof RegExp&&zn(Pe.tagNameCheck,ri)||Pe.tagNameCheck instanceof Function&&Pe.tagNameCheck(ri))))return!1}else if(!Qe[Ct]){if(!zn(Q,Op(ri,G,""))){if(!((Ct==="src"||Ct==="xlink:href"||Ct==="href")&&le!=="script"&&aZ(ri,"data:")===0&&Be[le])){if(!(Re&&!zn($,Op(ri,G,"")))){if(ri)return!1}}}}}}return!0},To=function(le){return le!=="annotation-xml"&&aR(le,ue)},Co=function(le){rr(f.beforeSanitizeAttributes,le,null);const{attributes:Ct}=le;if(!Ct||Jr(le))return;const ri={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ze,forceKeepAttr:void 0};let Ar=Ct.length;for(;Ar--;){const Br=Ct[Ar],{name:ti,namespaceURI:ys,value:bs}=Br,Qa=se(ti);let is=ti==="value"?bs:oZ(bs);if(ri.attrName=Qa,ri.attrValue=is,ri.keepAttr=!0,ri.forceKeepAttr=void 0,rr(f.uponSanitizeAttribute,le,ri),is=ri.attrValue,jr&&(Qa==="id"||Qa==="name")&&(pi(ti,le),is=Zr+is),Ri&&zn(/((--!?|])>)|<\/(style|title)/i,is)){pi(ti,le);continue}if(ri.forceKeepAttr||(pi(ti,le),!ri.keepAttr))continue;if(!Yt&&zn(/\/>/i,is)){pi(ti,le);continue}$t&&$y([w,A,R],$s=>{is=Op(is,$s," ")});const Eo=se(le.nodeName);if(vr(Eo,Qa,is)){if(g&&typeof x=="object"&&typeof x.getAttributeType=="function"&&!ys)switch(x.getAttributeType(Eo,Qa)){case"TrustedHTML":{is=g.createHTML(is);break}case"TrustedScriptURL":{is=g.createScriptURL(is);break}}try{ys?le.setAttributeNS(ys,ti,is):le.setAttribute(ti,is),Jr(le)?Dt(le):nR(e.removed)}catch{}}}rr(f.afterSanitizeAttributes,le,null)},sl=function jt(le){let Ct=null;const ri=Qr(le);for(rr(f.beforeSanitizeShadowDOM,le,null);Ct=ri.nextNode();)rr(f.uponSanitizeShadowNode,Ct,null),Yn(Ct),Co(Ct),Ct.content instanceof l&&jt(Ct.content);rr(f.afterSanitizeShadowDOM,le,null)};return e.sanitize=function(jt){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ct=null,ri=null,Ar=null,Br=null;if(ut=!jt,ut&&(jt="<!-->"),typeof jt!="string"&&!wr(jt))if(typeof jt.toString=="function"){if(jt=jt.toString(),typeof jt!="string")throw Mp("dirty is not a string, aborting")}else throw Mp("toString is not a function");if(!e.isSupported)return jt;if(Si||St(le),e.removed=[],typeof jt=="string"&&(_r=!1),_r){if(jt.nodeName){const bs=se(jt.nodeName);if(!K[bs]||We[bs])throw Mp("root node is forbidden and cannot be sanitized in-place")}}else if(jt instanceof h)Ct=er("<!---->"),ri=Ct.ownerDocument.importNode(jt,!0),ri.nodeType===Pp.element&&ri.nodeName==="BODY"||ri.nodeName==="HTML"?Ct=ri:Ct.appendChild(ri);else{if(!Ji&&!$t&&!nt&&jt.indexOf("<")===-1)return g&&Wt?g.createHTML(jt):jt;if(Ct=er(jt),!Ct)return Ji?null:Wt?S:""}Ct&&Qi&&Dt(Ct.firstChild);const ti=Qr(_r?jt:Ct);for(;Ar=ti.nextNode();)Yn(Ar),Co(Ar),Ar.content instanceof l&&sl(Ar.content);if(_r)return jt;if(Ji){if(bt)for(Br=I.call(Ct.ownerDocument);Ct.firstChild;)Br.appendChild(Ct.firstChild);else Br=Ct;return(ze.shadowroot||ze.shadowrootmode)&&(Br=z.call(s,Br,!0)),Br}let ys=nt?Ct.outerHTML:Ct.innerHTML;return nt&&K["!doctype"]&&Ct.ownerDocument&&Ct.ownerDocument.doctype&&Ct.ownerDocument.doctype.name&&zn($I,Ct.ownerDocument.doctype.name)&&(ys="<!DOCTYPE "+Ct.ownerDocument.doctype.name+`>
`+ys),$t&&$y([w,A,R],bs=>{ys=Op(ys,bs," ")}),g&&Wt?g.createHTML(ys):ys},e.setConfig=function(){let jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};St(jt),Si=!0},e.clearConfig=function(){be=null,Si=!1},e.isValidAttribute=function(jt,le,Ct){be||St({});const ri=se(jt),Ar=se(le);return vr(ri,Ar,Ct)},e.addHook=function(jt,le){typeof le=="function"&&Ep(f[jt],le)},e.removeHook=function(jt,le){if(le!==void 0){const Ct=sZ(f[jt],le);return Ct===-1?void 0:nZ(f[jt],Ct,1)[0]}return nR(f[jt])},e.removeHooks=function(jt){f[jt]=[]},e.removeAllHooks=function(){f=dR()},e}var Dd=VI(),YI=Object.defineProperty,q=(t,e)=>YI(t,"name",{value:e,configurable:!0}),xZ=(t,e)=>{for(var i in e)YI(t,i,{get:e[i],enumerable:!0})},Ml={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ft={trace:q((...t)=>{},"trace"),debug:q((...t)=>{},"debug"),info:q((...t)=>{},"info"),warn:q((...t)=>{},"warn"),error:q((...t)=>{},"error"),fatal:q((...t)=>{},"fatal")},uT=q(function(t="fatal"){let e=Ml.fatal;typeof t=="string"?t.toLowerCase()in Ml&&(e=Ml[t]):typeof t=="number"&&(e=t),ft.trace=()=>{},ft.debug=()=>{},ft.info=()=>{},ft.warn=()=>{},ft.error=()=>{},ft.fatal=()=>{},e<=Ml.fatal&&(ft.fatal=console.error?console.error.bind(console,Fa("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Fa("FATAL"))),e<=Ml.error&&(ft.error=console.error?console.error.bind(console,Fa("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Fa("ERROR"))),e<=Ml.warn&&(ft.warn=console.warn?console.warn.bind(console,Fa("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Fa("WARN"))),e<=Ml.info&&(ft.info=console.info?console.info.bind(console,Fa("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Fa("INFO"))),e<=Ml.debug&&(ft.debug=console.debug?console.debug.bind(console,Fa("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fa("DEBUG"))),e<=Ml.trace&&(ft.trace=console.debug?console.debug.bind(console,Fa("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Fa("TRACE")))},"setLogLevel"),Fa=q(t=>`%c${YK().format("ss.SSS")} : ${t} : `,"format"),GI=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,um=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,kZ=/\s*%%.*\n/gm,fd,XI=(fd=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},q(fd,"UnknownDiagramError"),fd),iu={},dT=q(function(t,e){t=t.replace(GI,"").replace(um,"").replace(kZ,`
`);for(const[i,{detector:s}]of Object.entries(iu))if(s(t,e))return i;throw new XI(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),wk=q((...t)=>{for(const{id:e,detector:i,loader:s}of t)KI(e,i,s)},"registerLazyLoadedDiagrams"),KI=q((t,e,i)=>{iu[t]&&ft.warn(`Detector with key ${t} already exists. Overwriting.`),iu[t]={detector:e,loader:i},ft.debug(`Detector with key ${t} added${i?" with loader":""}`)},"addDetector"),SZ=q(t=>iu[t].loader,"getDiagramLoader"),xk=q((t,e,{depth:i=2,clobber:s=!1}={})=>{const n={depth:i,clobber:s};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(l=>xk(t,l,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(l=>{t.includes(l)||t.push(l)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(l=>{typeof e[l]=="object"&&(t[l]===void 0||typeof t[l]=="object")?(t[l]===void 0&&(t[l]=Array.isArray(e[l])?[]:{}),t[l]=xk(t[l],e[l],{depth:i-1,clobber:s})):(s||typeof t[l]!="object"&&typeof e[l]!="object")&&(t[l]=e[l])}),t)},"assignWithDepth"),fn=xk,Kb="#ffffff",Zb="#f2f2f2",Hn=q((t,e)=>e?Le(t,{s:-40,l:10}):Le(t,{s:-40,l:-10}),"mkBorder"),pd,TZ=(pd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var i,s,n,l,a,h,d,m,y,b,k,x,E,O,L,D,u,T,g,S,C;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Le(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Le(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Hn(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Hn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Hn(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Hn(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Vt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Vt(this.tertiaryColor),this.lineColor=this.lineColor||Vt(this.background),this.arrowheadColor=this.arrowheadColor||Vt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?Ei(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||Ei(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Vt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||ci(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||Ei(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ei(this.mainBkg,10)):(this.rowOdd=this.rowOdd||ci(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||ci(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Le(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Le(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Le(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Le(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Le(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Le(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Le(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Le(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Le(this.primaryColor,{h:330}),this.darkMode)for(let P=0;P<this.THEME_COLOR_LIMIT;P++)this["cScale"+P]=Ei(this["cScale"+P],75);else for(let P=0;P<this.THEME_COLOR_LIMIT;P++)this["cScale"+P]=Ei(this["cScale"+P],25);for(let P=0;P<this.THEME_COLOR_LIMIT;P++)this["cScaleInv"+P]=this["cScaleInv"+P]||Vt(this["cScale"+P]);for(let P=0;P<this.THEME_COLOR_LIMIT;P++)this.darkMode?this["cScalePeer"+P]=this["cScalePeer"+P]||ci(this["cScale"+P],10):this["cScalePeer"+P]=this["cScalePeer"+P]||Ei(this["cScale"+P],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let P=0;P<this.THEME_COLOR_LIMIT;P++)this["cScaleLabel"+P]=this["cScaleLabel"+P]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let P=0;P<5;P++)this["surface"+P]=this["surface"+P]||Le(this.mainBkg,{h:180,s:-15,l:e*(5+P*3)}),this["surfacePeer"+P]=this["surfacePeer"+P]||Le(this.mainBkg,{h:180,s:-15,l:e*(8+P*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Le(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Le(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Le(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Le(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Le(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Le(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Le(this.primaryColor,{l:-10}),this.pie5=this.pie5||Le(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Le(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Le(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Le(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Le(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Le(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Le(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Le(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((i=this.radar)==null?void 0:i.axisColor)||this.lineColor,axisStrokeWidth:((s=this.radar)==null?void 0:s.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((l=this.radar)==null?void 0:l.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((h=this.radar)==null?void 0:h.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((d=this.radar)==null?void 0:d.graticuleStrokeWidth)||1,graticuleOpacity:((m=this.radar)==null?void 0:m.graticuleOpacity)||.3,legendBoxSize:((y=this.radar)==null?void 0:y.legendBoxSize)||12,legendFontSize:((b=this.radar)==null?void 0:b.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Le(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Le(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Le(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Le(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Le(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Le(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Zm(this.quadrant1Fill)?ci(this.quadrant1Fill):Ei(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((k=this.xyChart)==null?void 0:k.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((E=this.xyChart)==null?void 0:E.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((O=this.xyChart)==null?void 0:O.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((L=this.xyChart)==null?void 0:L.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((D=this.xyChart)==null?void 0:D.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((T=this.xyChart)==null?void 0:T.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((g=this.xyChart)==null?void 0:g.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((C=this.xyChart)==null?void 0:C.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ei(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Le(this.primaryColor,{h:-30}),this.git4=this.git4||Le(this.primaryColor,{h:-60}),this.git5=this.git5||Le(this.primaryColor,{h:-90}),this.git6=this.git6||Le(this.primaryColor,{h:60}),this.git7=this.git7||Le(this.primaryColor,{h:120}),this.darkMode?(this.git0=ci(this.git0,25),this.git1=ci(this.git1,25),this.git2=ci(this.git2,25),this.git3=ci(this.git3,25),this.git4=ci(this.git4,25),this.git5=ci(this.git5,25),this.git6=ci(this.git6,25),this.git7=ci(this.git7,25)):(this.git0=Ei(this.git0,25),this.git1=Ei(this.git1,25),this.git2=Ei(this.git2,25),this.git3=Ei(this.git3,25),this.git4=Ei(this.git4,25),this.git5=Ei(this.git5,25),this.git6=Ei(this.git6,25),this.git7=Ei(this.git7,25)),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zb}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(pd,"Theme"),pd),CZ=q(t=>{const e=new TZ;return e.calculate(t),e},"getThemeVariables"),md,EZ=(md=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=ci(this.primaryColor,16),this.tertiaryColor=Le(this.primaryColor,{h:-160}),this.primaryBorderColor=Vt(this.background),this.secondaryBorderColor=Hn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.tertiaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=ci(Vt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=hm(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=Ei("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=Ei(this.sectionBkgColor,10),this.taskBorderColor=hm(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=hm(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||ci(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||Ei(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,i,s,n,l,a,h,d,m,y,b,k,x,E,O,L,D,u,T,g,S;this.secondBkg=ci(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=ci(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=ci(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Le(this.primaryColor,{h:64}),this.fillType3=Le(this.secondaryColor,{h:64}),this.fillType4=Le(this.primaryColor,{h:-64}),this.fillType5=Le(this.secondaryColor,{h:-64}),this.fillType6=Le(this.primaryColor,{h:128}),this.fillType7=Le(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Le(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Le(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Le(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Le(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Le(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Le(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Le(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Le(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Le(this.primaryColor,{h:330});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Vt(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScalePeer"+C]=this["cScalePeer"+C]||ci(this["cScale"+C],10);for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Le(this.mainBkg,{h:30,s:-30,l:-(-10+C*4)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Le(this.mainBkg,{h:30,s:-30,l:-(-7+C*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Le(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Le(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Le(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Le(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Le(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Le(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Zm(this.quadrant1Fill)?ci(this.quadrant1Fill):Ei(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((s=this.xyChart)==null?void 0:s.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((d=this.xyChart)==null?void 0:d.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((m=this.xyChart)==null?void 0:m.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)==null?void 0:b.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((k=this.radar)==null?void 0:k.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((E=this.radar)==null?void 0:E.axisLabelFontSize)||12,curveOpacity:((O=this.radar)==null?void 0:O.curveOpacity)||.5,curveStrokeWidth:((L=this.radar)==null?void 0:L.curveStrokeWidth)||2,graticuleColor:((D=this.radar)==null?void 0:D.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((T=this.radar)==null?void 0:T.graticuleOpacity)||.3,legendBoxSize:((g=this.radar)==null?void 0:g.legendBoxSize)||12,legendFontSize:((S=this.radar)==null?void 0:S.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?Ei(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=ci(this.secondaryColor,20),this.git1=ci(this.pie2||this.secondaryColor,20),this.git2=ci(this.pie3||this.tertiaryColor,20),this.git3=ci(this.pie4||Le(this.primaryColor,{h:-30}),20),this.git4=ci(this.pie5||Le(this.primaryColor,{h:-60}),20),this.git5=ci(this.pie6||Le(this.primaryColor,{h:-90}),10),this.git6=ci(this.pie7||Le(this.primaryColor,{h:60}),10),this.git7=ci(this.pie8||Le(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Vt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Vt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||ci(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||ci(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(md,"Theme"),md),OZ=q(t=>{const e=new EZ;return e.calculate(t),e},"getThemeVariables"),gd,MZ=(gd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Le(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Le(this.primaryColor,{h:-160}),this.primaryBorderColor=Hn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.tertiaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=hm(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,i,s,n,l,a,h,d,m,y,b,k,x,E,O,L,D,u,T,g,S;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Le(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Le(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Le(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Le(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Le(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Le(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Le(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Le(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Le(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ei(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ei(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=Ei(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||Ei(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Le(this["cScale"+C],{h:180});for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Le(this.mainBkg,{h:30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Le(this.mainBkg,{h:30,l:-(7+C*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Vt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Vt(this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=ci(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||ci(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||ci(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Le(this.primaryColor,{h:64}),this.fillType3=Le(this.secondaryColor,{h:64}),this.fillType4=Le(this.primaryColor,{h:-64}),this.fillType5=Le(this.secondaryColor,{h:-64}),this.fillType6=Le(this.primaryColor,{h:128}),this.fillType7=Le(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Le(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Le(this.primaryColor,{l:-10}),this.pie5=this.pie5||Le(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Le(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Le(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Le(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Le(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Le(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Le(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Le(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Le(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Le(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Le(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Le(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Le(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Le(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Zm(this.quadrant1Fill)?ci(this.quadrant1Fill):Ei(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((m=this.radar)==null?void 0:m.legendBoxSize)||12,legendFontSize:((y=this.radar)==null?void 0:y.legendFontSize)||12},this.xyChart={backgroundColor:((b=this.xyChart)==null?void 0:b.backgroundColor)||this.background,titleColor:((k=this.xyChart)==null?void 0:k.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((E=this.xyChart)==null?void 0:E.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((O=this.xyChart)==null?void 0:O.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((L=this.xyChart)==null?void 0:L.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((D=this.xyChart)==null?void 0:D.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((T=this.xyChart)==null?void 0:T.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((g=this.xyChart)==null?void 0:g.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Le(this.primaryColor,{h:-30}),this.git4=this.git4||Le(this.primaryColor,{h:-60}),this.git5=this.git5||Le(this.primaryColor,{h:-90}),this.git6=this.git6||Le(this.primaryColor,{h:60}),this.git7=this.git7||Le(this.primaryColor,{h:120}),this.darkMode?(this.git0=ci(this.git0,25),this.git1=ci(this.git1,25),this.git2=ci(this.git2,25),this.git3=ci(this.git3,25),this.git4=ci(this.git4,25),this.git5=ci(this.git5,25),this.git6=ci(this.git6,25),this.git7=ci(this.git7,25)):(this.git0=Ei(this.git0,25),this.git1=Ei(this.git1,25),this.git2=Ei(this.git2,25),this.git3=Ei(this.git3,25),this.git4=Ei(this.git4,25),this.git5=Ei(this.git5,25),this.git6=Ei(this.git6,25),this.git7=Ei(this.git7,25)),this.gitInv0=this.gitInv0||Ei(Vt(this.git0),25),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Vt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Vt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zb}calculate(e){if(Object.keys(this).forEach(s=>{this[s]==="calculated"&&(this[s]=void 0)}),typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(gd,"Theme"),gd),AZ=q(t=>{const e=new MZ;return e.calculate(t),e},"getThemeVariables"),yd,PZ=(yd=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=ci("#cde498",10),this.primaryBorderColor=Hn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.primaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,i,s,n,l,a,h,d,m,y,b,k,x,E,O,L,D,u,T,g,S;this.actorBorder=Ei(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Le(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Le(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Le(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Le(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Le(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Le(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Le(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Le(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Le(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||Ei(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||Ei(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=Ei(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||Ei(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Le(this["cScale"+C],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Le(this.mainBkg,{h:30,s:-30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Le(this.mainBkg,{h:30,s:-30,l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||ci(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||ci(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Le(this.primaryColor,{h:64}),this.fillType3=Le(this.secondaryColor,{h:64}),this.fillType4=Le(this.primaryColor,{h:-64}),this.fillType5=Le(this.secondaryColor,{h:-64}),this.fillType6=Le(this.primaryColor,{h:128}),this.fillType7=Le(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Le(this.primaryColor,{l:-30}),this.pie5=this.pie5||Le(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Le(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Le(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Le(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Le(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Le(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Le(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Le(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Le(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Le(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Le(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Le(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Le(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Le(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Zm(this.quadrant1Fill)?ci(this.quadrant1Fill):Ei(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((m=this.radar)==null?void 0:m.legendBoxSize)||12,legendFontSize:((y=this.radar)==null?void 0:y.legendFontSize)||12},this.xyChart={backgroundColor:((b=this.xyChart)==null?void 0:b.backgroundColor)||this.background,titleColor:((k=this.xyChart)==null?void 0:k.titleColor)||this.primaryTextColor,xAxisTitleColor:((x=this.xyChart)==null?void 0:x.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((E=this.xyChart)==null?void 0:E.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((O=this.xyChart)==null?void 0:O.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((L=this.xyChart)==null?void 0:L.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((D=this.xyChart)==null?void 0:D.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((T=this.xyChart)==null?void 0:T.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((g=this.xyChart)==null?void 0:g.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Le(this.primaryColor,{h:-30}),this.git4=this.git4||Le(this.primaryColor,{h:-60}),this.git5=this.git5||Le(this.primaryColor,{h:-90}),this.git6=this.git6||Le(this.primaryColor,{h:60}),this.git7=this.git7||Le(this.primaryColor,{h:120}),this.darkMode?(this.git0=ci(this.git0,25),this.git1=ci(this.git1,25),this.git2=ci(this.git2,25),this.git3=ci(this.git3,25),this.git4=ci(this.git4,25),this.git5=ci(this.git5,25),this.git6=ci(this.git6,25),this.git7=ci(this.git7,25)):(this.git0=Ei(this.git0,25),this.git1=Ei(this.git1,25),this.git2=Ei(this.git2,25),this.git3=Ei(this.git3,25),this.git4=Ei(this.git4,25),this.git5=Ei(this.git5,25),this.git6=Ei(this.git6,25),this.git7=Ei(this.git7,25)),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Vt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Vt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zb}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(yd,"Theme"),yd),DZ=q(t=>{const e=new PZ;return e.calculate(t),e},"getThemeVariables"),vd,LZ=(vd=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=ci(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Le(this.primaryColor,{h:-160}),this.primaryBorderColor=Hn(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hn(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hn(this.tertiaryColor,this.darkMode),this.primaryTextColor=Vt(this.primaryColor),this.secondaryTextColor=Vt(this.secondaryColor),this.tertiaryTextColor=Vt(this.tertiaryColor),this.lineColor=Vt(this.background),this.textColor=Vt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||ci(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,i,s,n,l,a,h,d,m,y,b,k,x,E,O,L,D,u,T,g,S;this.secondBkg=ci(this.contrast,55),this.border2=this.contrast,this.actorBorder=ci(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Vt(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this.darkMode?this["cScalePeer"+C]=this["cScalePeer"+C]||ci(this["cScale"+C],10):this["cScalePeer"+C]=this["cScalePeer"+C]||Ei(this["cScale"+C],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Le(this.mainBkg,{l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Le(this.mainBkg,{l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=ci(this.contrast,30),this.sectionBkgColor2=ci(this.contrast,30),this.taskBorderColor=Ei(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=ci(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=Ei(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Le(this.primaryColor,{h:64}),this.fillType3=Le(this.secondaryColor,{h:64}),this.fillType4=Le(this.primaryColor,{h:-64}),this.fillType5=Le(this.secondaryColor,{h:-64}),this.fillType6=Le(this.primaryColor,{h:128}),this.fillType7=Le(this.secondaryColor,{h:128});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Le(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Le(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Le(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Le(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Le(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Le(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||Zm(this.quadrant1Fill)?ci(this.quadrant1Fill):Ei(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((s=this.xyChart)==null?void 0:s.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((d=this.xyChart)==null?void 0:d.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((m=this.xyChart)==null?void 0:m.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)==null?void 0:b.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((k=this.radar)==null?void 0:k.axisColor)||this.lineColor,axisStrokeWidth:((x=this.radar)==null?void 0:x.axisStrokeWidth)||2,axisLabelFontSize:((E=this.radar)==null?void 0:E.axisLabelFontSize)||12,curveOpacity:((O=this.radar)==null?void 0:O.curveOpacity)||.5,curveStrokeWidth:((L=this.radar)==null?void 0:L.curveStrokeWidth)||2,graticuleColor:((D=this.radar)==null?void 0:D.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((T=this.radar)==null?void 0:T.graticuleOpacity)||.3,legendBoxSize:((g=this.radar)==null?void 0:g.legendBoxSize)||12,legendFontSize:((S=this.radar)==null?void 0:S.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Ei(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Le(this.primaryColor,{h:-30}),this.git4=this.pie5||Le(this.primaryColor,{h:-60}),this.git5=this.pie6||Le(this.primaryColor,{h:-90}),this.git6=this.pie7||Le(this.primaryColor,{h:60}),this.git7=this.pie8||Le(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Vt(this.git0),this.gitInv1=this.gitInv1||Vt(this.git1),this.gitInv2=this.gitInv2||Vt(this.git2),this.gitInv3=this.gitInv3||Vt(this.git3),this.gitInv4=this.gitInv4||Vt(this.git4),this.gitInv5=this.gitInv5||Vt(this.git5),this.gitInv6=this.gitInv6||Vt(this.git6),this.gitInv7=this.gitInv7||Vt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Kb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Zb}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(vd,"Theme"),vd),RZ=q(t=>{const e=new LZ;return e.calculate(t),e},"getThemeVariables"),Hl={base:{getThemeVariables:CZ},dark:{getThemeVariables:OZ},default:{getThemeVariables:AZ},forest:{getThemeVariables:DZ},neutral:{getThemeVariables:RZ}},Bo={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},ZI={...Bo,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:Hl.default.getThemeVariables(),sequence:{...Bo.sequence,messageFont:q(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:q(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:q(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Bo.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Bo.c4,useWidth:void 0,personFont:q(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Bo.flowchart,inheritDir:!1},external_personFont:q(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:q(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:q(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:q(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:q(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:q(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:q(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:q(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:q(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:q(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:q(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:q(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:q(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:q(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:q(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:q(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:q(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:q(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:q(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:q(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:q(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Bo.pie,useWidth:984},xyChart:{...Bo.xyChart,useWidth:void 0},requirement:{...Bo.requirement,useWidth:void 0},packet:{...Bo.packet},radar:{...Bo.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},QI=q((t,e="")=>Object.keys(t).reduce((i,s)=>Array.isArray(t[s])?i:typeof t[s]=="object"&&t[s]!==null?[...i,e+s,...QI(t[s],"")]:[...i,e+s],[]),"keyify"),FZ=new Set(QI(ZI,"")),JI=ZI,$v=q(t=>{if(ft.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>$v(e));return}for(const e of Object.keys(t)){if(ft.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!FZ.has(e)||t[e]==null){ft.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){ft.debug("sanitizing object",e),$v(t[e]);continue}const i=["themeCSS","fontFamily","altFontFamily"];for(const s of i)e.includes(s)&&(ft.debug("sanitizing css option",e),t[e]=IZ(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const i=t.themeVariables[e];i!=null&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}ft.debug("After sanitization",t)}},"sanitizeDirective"),IZ=q(t=>{let e=0,i=0;for(const s of t){if(e<i)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?e++:s==="}"&&i++}return e!==i?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Ld=Object.freeze(JI),ra=fn({},Ld),e5,Rd=[],dm=fn({},Ld),Qb=q((t,e)=>{let i=fn({},t),s={};for(const n of e)r5(n),s=fn(s,n);if(i=fn(i,s),s.theme&&s.theme in Hl){const n=fn({},e5),l=fn(n.themeVariables||{},s.themeVariables);i.theme&&i.theme in Hl&&(i.themeVariables=Hl[i.theme].getThemeVariables(l))}return dm=i,s5(dm),dm},"updateCurrentConfig"),BZ=q(t=>(ra=fn({},Ld),ra=fn(ra,t),t.theme&&Hl[t.theme]&&(ra.themeVariables=Hl[t.theme].getThemeVariables(t.themeVariables)),Qb(ra,Rd),ra),"setSiteConfig"),NZ=q(t=>{e5=fn({},t)},"saveConfigFromInitialize"),zZ=q(t=>(ra=fn(ra,t),Qb(ra,Rd),ra),"updateSiteConfig"),t5=q(()=>fn({},ra),"getSiteConfig"),i5=q(t=>(s5(t),fn(dm,t),Cn()),"setConfig"),Cn=q(()=>fn({},dm),"getConfig"),r5=q(t=>{t&&(["secure",...ra.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(ft.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&r5(t[e])}))},"sanitize"),UZ=q(t=>{var e;$v(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),Rd.push(t),Qb(ra,Rd)},"addDirective"),Vv=q((t=ra)=>{Rd=[],Qb(t,Rd)},"reset"),HZ={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},fR={},WZ=q(t=>{fR[t]||(ft.warn(HZ[t]),fR[t]=!0)},"issueWarning"),s5=q(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&WZ("LAZY_LOAD_DEPRECATED")},"checkConfig"),Qm=/<br\s*\/?>/gi,jZ=q(t=>t?o5(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),qZ=(()=>{let t=!1;return()=>{t||(n5(),t=!0)}})();function n5(){const t="data-temp-href-target";Dd.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Dd.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}q(n5,"setupDompurifyHooks");var a5=q(t=>(qZ(),Dd.sanitize(t)),"removeScript"),pR=q((t,e)=>{var i;if(((i=e.flowchart)==null?void 0:i.htmlLabels)!==!1){const s=e.securityLevel;s==="antiscript"||s==="strict"?t=a5(t):s!=="loose"&&(t=o5(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=GZ(t))}return t},"sanitizeMore"),Ya=q((t,e)=>t&&(e.dompurifyConfig?t=Dd.sanitize(pR(t,e),e.dompurifyConfig).toString():t=Dd.sanitize(pR(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),$Z=q((t,e)=>typeof t=="string"?Ya(t,e):t.flat().map(i=>Ya(i,e)),"sanitizeTextOrArray"),VZ=q(t=>Qm.test(t),"hasBreaks"),YZ=q(t=>t.split(Qm),"splitBreaks"),GZ=q(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),o5=q(t=>t.replace(Qm,"#br#"),"breakToPlaceholder"),l5=q(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),qs=q(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),XZ=q(function(...t){const e=t.filter(i=>!isNaN(i));return Math.max(...e)},"getMax"),KZ=q(function(...t){const e=t.filter(i=>!isNaN(i));return Math.min(...e)},"getMin"),mR=q(function(t){const e=t.split(/(,)/),i=[];for(let s=0;s<e.length;s++){let n=e[s];if(n===","&&s>0&&s+1<e.length){const l=e[s-1],a=e[s+1];ZZ(l,a)&&(n=l+","+a,s++,i.pop())}i.push(QZ(n))}return i.join("")},"parseGenericTypes"),kk=q((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),ZZ=q((t,e)=>{const i=kk(t,"~"),s=kk(e,"~");return i===1&&s===1},"shouldCombineSets"),QZ=q(t=>{const e=kk(t,"~");let i=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),i=!0);const s=[...t];let n=s.indexOf("~"),l=s.lastIndexOf("~");for(;n!==-1&&l!==-1&&n!==l;)s[n]="<",s[l]=">",n=s.indexOf("~"),l=s.lastIndexOf("~");return i&&s.unshift("~"),s.join("")},"processSet"),gR=q(()=>window.MathMLElement!==void 0,"isMathMLSupported"),Sk=/\$\$(.*)\$\$/g,Fd=q(t=>{var e;return(((e=t.match(Sk))==null?void 0:e.length)??0)>0},"hasKatex"),Cde=q(async(t,e)=>{const i=document.createElement("div");i.innerHTML=await fT(t,e),i.id="katex-temp",i.style.visibility="hidden",i.style.position="absolute",i.style.top="0";const s=document.querySelector("body");s==null||s.insertAdjacentElement("beforeend",i);const n={width:i.clientWidth,height:i.clientHeight};return i.remove(),n},"calculateMathMLDimensions"),JZ=q(async(t,e)=>{if(!Fd(t))return t;if(!(gR()||e.legacyMathML||e.forceLegacyMathML))return t.replace(Sk,"MathML is unsupported in this environment.");{const{default:i}=await Wr(async()=>{const{default:n}=await import("./katex-ChWnQ-fc.js");return{default:n}},[]),s=e.forceLegacyMathML||!gR()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(Qm).map(n=>Fd(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(Sk,(n,l)=>i.renderToString(l,{throwOnError:!0,displayMode:!0,output:s}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),fT=q(async(t,e)=>Ya(await JZ(t,e),e),"renderKatexSanitized"),Gd={getRows:jZ,sanitizeText:Ya,sanitizeTextOrArray:$Z,hasBreaks:VZ,splitBreaks:YZ,lineBreakRegex:Qm,removeScript:a5,getUrl:l5,evaluate:qs,getMax:XZ,getMin:KZ},eQ=q(function(t,e){for(let i of e)t.attr(i[0],i[1])},"d3Attrs"),tQ=q(function(t,e,i){let s=new Map;return i?(s.set("width","100%"),s.set("style",`max-width: ${e}px;`)):(s.set("height",t),s.set("width",e)),s},"calculateSvgSizeAttrs"),c5=q(function(t,e,i,s){const n=tQ(e,i,s);eQ(t,n)},"configureSvgSize"),iQ=q(function(t,e,i,s){const n=e.node().getBBox(),l=n.width,a=n.height;ft.info(`SVG bounds: ${l}x${a}`,n);let h=0,d=0;ft.info(`Graph bounds: ${h}x${d}`,t),h=l+i*2,d=a+i*2,ft.info(`Calculated bounds: ${h}x${d}`),c5(e,d,h,s);const m=`${n.x-i} ${n.y-i} ${n.width+2*i} ${n.height+2*i}`;e.attr("viewBox",m)},"setupGraphViewbox"),pv={},rQ=q((t,e,i)=>{let s="";return t in pv&&pv[t]?s=pv[t](i):ft.warn(`No theme found for ${t}`),` & {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
    fill: ${i.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${i.errorBkgColor};
  }
  & .error-text {
    fill: ${i.errorTextColor};
    stroke: ${i.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${i.lineColor};
    stroke: ${i.lineColor};
  }
  & .marker.cross {
    stroke: ${i.lineColor};
  }

  & svg {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
  }
   & p {
    margin: 0
   }

  ${s}

  ${e}
`},"getStyles"),sQ=q((t,e)=>{e!==void 0&&(pv[t]=e)},"addStylesForDiagram"),nQ=rQ,h5={};xZ(h5,{clear:()=>aQ,getAccDescription:()=>hQ,getAccTitle:()=>lQ,getDiagramTitle:()=>dQ,setAccDescription:()=>cQ,setAccTitle:()=>oQ,setDiagramTitle:()=>uQ});var pT="",mT="",gT="",yT=q(t=>Ya(t,Cn()),"sanitizeText"),aQ=q(()=>{pT="",gT="",mT=""},"clear"),oQ=q(t=>{pT=yT(t).replace(/^\s+/g,"")},"setAccTitle"),lQ=q(()=>pT,"getAccTitle"),cQ=q(t=>{gT=yT(t).replace(/\n\s+/g,`
`)},"setAccDescription"),hQ=q(()=>gT,"getAccDescription"),uQ=q(t=>{mT=yT(t)},"setDiagramTitle"),dQ=q(()=>mT,"getDiagramTitle"),yR=ft,fQ=uT,Lr=Cn,Ede=i5,Ode=Ld,vT=q(t=>Ya(t,Lr()),"sanitizeText"),pQ=iQ,mQ=q(()=>h5,"getCommonDb"),Yv={},Gv=q((t,e,i)=>{var s;Yv[t]&&yR.warn(`Diagram with id ${t} already registered. Overwriting.`),Yv[t]=e,i&&KI(t,i),sQ(t,e.styles),(s=e.injectUtils)==null||s.call(e,yR,fQ,Lr,vT,pQ,mQ(),()=>{})},"registerDiagram"),Tk=q(t=>{if(t in Yv)return Yv[t];throw new gQ(t)},"getDiagram"),bd,gQ=(bd=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},q(bd,"DiagramNotFoundError"),bd);function bT(t){return typeof t>"u"||t===null}q(bT,"isNothing");function u5(t){return typeof t=="object"&&t!==null}q(u5,"isObject");function d5(t){return Array.isArray(t)?t:bT(t)?[]:[t]}q(d5,"toArray");function f5(t,e){var i,s,n,l;if(e)for(l=Object.keys(e),i=0,s=l.length;i<s;i+=1)n=l[i],t[n]=e[n];return t}q(f5,"extend");function p5(t,e){var i="",s;for(s=0;s<e;s+=1)i+=t;return i}q(p5,"repeat");function m5(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}q(m5,"isNegativeZero");var yQ=bT,vQ=u5,bQ=d5,_Q=p5,wQ=m5,xQ=f5,Ws={isNothing:yQ,isObject:vQ,toArray:bQ,repeat:_Q,isNegativeZero:wQ,extend:xQ};function _T(t,e){var i="",s=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),s+" "+i):s}q(_T,"formatError");function Id(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=_T(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}q(Id,"YAMLException$1");Id.prototype=Object.create(Error.prototype);Id.prototype.constructor=Id;Id.prototype.toString=q(function(e){return this.name+": "+_T(this,e)},"toString");var na=Id;function mv(t,e,i,s,n){var l="",a="",h=Math.floor(n/2)-1;return s-e>h&&(l=" ... ",e=s-h+l.length),i-s>h&&(a=" ...",i=s+h-a.length),{str:l+t.slice(e,i).replace(/\t/g,"")+a,pos:s-e+l.length}}q(mv,"getLine");function gv(t,e){return Ws.repeat(" ",e-t.length)+t}q(gv,"padStart");function g5(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,s=[0],n=[],l,a=-1;l=i.exec(t.buffer);)n.push(l.index),s.push(l.index+l[0].length),t.position<=l.index&&a<0&&(a=s.length-2);a<0&&(a=s.length-1);var h="",d,m,y=Math.min(t.line+e.linesAfter,n.length).toString().length,b=e.maxLength-(e.indent+y+3);for(d=1;d<=e.linesBefore&&!(a-d<0);d++)m=mv(t.buffer,s[a-d],n[a-d],t.position-(s[a]-s[a-d]),b),h=Ws.repeat(" ",e.indent)+gv((t.line-d+1).toString(),y)+" | "+m.str+`
`+h;for(m=mv(t.buffer,s[a],n[a],t.position,b),h+=Ws.repeat(" ",e.indent)+gv((t.line+1).toString(),y)+" | "+m.str+`
`,h+=Ws.repeat("-",e.indent+y+3+m.pos)+`^
`,d=1;d<=e.linesAfter&&!(a+d>=n.length);d++)m=mv(t.buffer,s[a+d],n[a+d],t.position-(s[a]-s[a+d]),b),h+=Ws.repeat(" ",e.indent)+gv((t.line+d+1).toString(),y)+" | "+m.str+`
`;return h.replace(/\n$/,"")}q(g5,"makeSnippet");var kQ=g5,SQ=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],TQ=["scalar","sequence","mapping"];function y5(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(s){e[String(s)]=i})}),e}q(y5,"compileStyleAliases");function v5(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(SQ.indexOf(i)===-1)throw new na('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=y5(e.styleAliases||null),TQ.indexOf(this.kind)===-1)throw new na('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}q(v5,"Type$1");var En=v5;function Ck(t,e){var i=[];return t[e].forEach(function(s){var n=i.length;i.forEach(function(l,a){l.tag===s.tag&&l.kind===s.kind&&l.multi===s.multi&&(n=a)}),i[n]=s}),i}q(Ck,"compileList");function b5(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function s(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(q(s,"collectType"),e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(s);return t}q(b5,"compileMap");function Xv(t){return this.extend(t)}q(Xv,"Schema$1");Xv.prototype.extend=q(function(e){var i=[],s=[];if(e instanceof En)s.push(e);else if(Array.isArray(e))s=s.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(s=s.concat(e.explicit));else throw new na("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(l){if(!(l instanceof En))throw new na("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new na("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new na("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(l){if(!(l instanceof En))throw new na("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(Xv.prototype);return n.implicit=(this.implicit||[]).concat(i),n.explicit=(this.explicit||[]).concat(s),n.compiledImplicit=Ck(n,"implicit"),n.compiledExplicit=Ck(n,"explicit"),n.compiledTypeMap=b5(n.compiledImplicit,n.compiledExplicit),n},"extend");var CQ=Xv,EQ=new En("tag:yaml.org,2002:str",{kind:"scalar",construct:q(function(t){return t!==null?t:""},"construct")}),OQ=new En("tag:yaml.org,2002:seq",{kind:"sequence",construct:q(function(t){return t!==null?t:[]},"construct")}),MQ=new En("tag:yaml.org,2002:map",{kind:"mapping",construct:q(function(t){return t!==null?t:{}},"construct")}),AQ=new CQ({explicit:[EQ,OQ,MQ]});function _5(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}q(_5,"resolveYamlNull");function w5(){return null}q(w5,"constructYamlNull");function x5(t){return t===null}q(x5,"isNull");var PQ=new En("tag:yaml.org,2002:null",{kind:"scalar",resolve:_5,construct:w5,predicate:x5,represent:{canonical:q(function(){return"~"},"canonical"),lowercase:q(function(){return"null"},"lowercase"),uppercase:q(function(){return"NULL"},"uppercase"),camelcase:q(function(){return"Null"},"camelcase"),empty:q(function(){return""},"empty")},defaultStyle:"lowercase"});function k5(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}q(k5,"resolveYamlBoolean");function S5(t){return t==="true"||t==="True"||t==="TRUE"}q(S5,"constructYamlBoolean");function T5(t){return Object.prototype.toString.call(t)==="[object Boolean]"}q(T5,"isBoolean");var DQ=new En("tag:yaml.org,2002:bool",{kind:"scalar",resolve:k5,construct:S5,predicate:T5,represent:{lowercase:q(function(t){return t?"true":"false"},"lowercase"),uppercase:q(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:q(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function C5(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}q(C5,"isHexCode");function E5(t){return 48<=t&&t<=55}q(E5,"isOctCode");function O5(t){return 48<=t&&t<=57}q(O5,"isDecCode");function M5(t){if(t===null)return!1;var e=t.length,i=0,s=!1,n;if(!e)return!1;if(n=t[i],(n==="-"||n==="+")&&(n=t[++i]),n==="0"){if(i+1===e)return!0;if(n=t[++i],n==="b"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(n!=="0"&&n!=="1")return!1;s=!0}return s&&n!=="_"}if(n==="x"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!C5(t.charCodeAt(i)))return!1;s=!0}return s&&n!=="_"}if(n==="o"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!E5(t.charCodeAt(i)))return!1;s=!0}return s&&n!=="_"}}if(n==="_")return!1;for(;i<e;i++)if(n=t[i],n!=="_"){if(!O5(t.charCodeAt(i)))return!1;s=!0}return!(!s||n==="_")}q(M5,"resolveYamlInteger");function A5(t){var e=t,i=1,s;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),s=e[0],(s==="-"||s==="+")&&(s==="-"&&(i=-1),e=e.slice(1),s=e[0]),e==="0")return 0;if(s==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}q(A5,"constructYamlInteger");function P5(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Ws.isNegativeZero(t)}q(P5,"isInteger");var LQ=new En("tag:yaml.org,2002:int",{kind:"scalar",resolve:M5,construct:A5,predicate:P5,represent:{binary:q(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:q(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:q(function(t){return t.toString(10)},"decimal"),hexadecimal:q(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),RQ=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function D5(t){return!(t===null||!RQ.test(t)||t[t.length-1]==="_")}q(D5,"resolveYamlFloat");function L5(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}q(L5,"constructYamlFloat");var FQ=/^[-+]?[0-9]+e/;function R5(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Ws.isNegativeZero(t))return"-0.0";return i=t.toString(10),FQ.test(i)?i.replace("e",".e"):i}q(R5,"representYamlFloat");function F5(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Ws.isNegativeZero(t))}q(F5,"isFloat");var IQ=new En("tag:yaml.org,2002:float",{kind:"scalar",resolve:D5,construct:L5,predicate:F5,represent:R5,defaultStyle:"lowercase"}),I5=AQ.extend({implicit:[PQ,DQ,LQ,IQ]}),BQ=I5,B5=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),N5=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function z5(t){return t===null?!1:B5.exec(t)!==null||N5.exec(t)!==null}q(z5,"resolveYamlTimestamp");function U5(t){var e,i,s,n,l,a,h,d=0,m=null,y,b,k;if(e=B5.exec(t),e===null&&(e=N5.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],s=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(i,s,n));if(l=+e[4],a=+e[5],h=+e[6],e[7]){for(d=e[7].slice(0,3);d.length<3;)d+="0";d=+d}return e[9]&&(y=+e[10],b=+(e[11]||0),m=(y*60+b)*6e4,e[9]==="-"&&(m=-m)),k=new Date(Date.UTC(i,s,n,l,a,h,d)),m&&k.setTime(k.getTime()-m),k}q(U5,"constructYamlTimestamp");function H5(t){return t.toISOString()}q(H5,"representYamlTimestamp");var NQ=new En("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:z5,construct:U5,instanceOf:Date,represent:H5});function W5(t){return t==="<<"||t===null}q(W5,"resolveYamlMerge");var zQ=new En("tag:yaml.org,2002:merge",{kind:"scalar",resolve:W5}),wT=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function j5(t){if(t===null)return!1;var e,i,s=0,n=t.length,l=wT;for(i=0;i<n;i++)if(e=l.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;s+=6}return s%8===0}q(j5,"resolveYamlBinary");function q5(t){var e,i,s=t.replace(/[\r\n=]/g,""),n=s.length,l=wT,a=0,h=[];for(e=0;e<n;e++)e%4===0&&e&&(h.push(a>>16&255),h.push(a>>8&255),h.push(a&255)),a=a<<6|l.indexOf(s.charAt(e));return i=n%4*6,i===0?(h.push(a>>16&255),h.push(a>>8&255),h.push(a&255)):i===18?(h.push(a>>10&255),h.push(a>>2&255)):i===12&&h.push(a>>4&255),new Uint8Array(h)}q(q5,"constructYamlBinary");function $5(t){var e="",i=0,s,n,l=t.length,a=wT;for(s=0;s<l;s++)s%3===0&&s&&(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]),i=(i<<8)+t[s];return n=l%3,n===0?(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]):n===2?(e+=a[i>>10&63],e+=a[i>>4&63],e+=a[i<<2&63],e+=a[64]):n===1&&(e+=a[i>>2&63],e+=a[i<<4&63],e+=a[64],e+=a[64]),e}q($5,"representYamlBinary");function V5(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}q(V5,"isBinary");var UQ=new En("tag:yaml.org,2002:binary",{kind:"scalar",resolve:j5,construct:q5,predicate:V5,represent:$5}),HQ=Object.prototype.hasOwnProperty,WQ=Object.prototype.toString;function Y5(t){if(t===null)return!0;var e=[],i,s,n,l,a,h=t;for(i=0,s=h.length;i<s;i+=1){if(n=h[i],a=!1,WQ.call(n)!=="[object Object]")return!1;for(l in n)if(HQ.call(n,l))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(l)===-1)e.push(l);else return!1}return!0}q(Y5,"resolveYamlOmap");function G5(t){return t!==null?t:[]}q(G5,"constructYamlOmap");var jQ=new En("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Y5,construct:G5}),qQ=Object.prototype.toString;function X5(t){if(t===null)return!0;var e,i,s,n,l,a=t;for(l=new Array(a.length),e=0,i=a.length;e<i;e+=1){if(s=a[e],qQ.call(s)!=="[object Object]"||(n=Object.keys(s),n.length!==1))return!1;l[e]=[n[0],s[n[0]]]}return!0}q(X5,"resolveYamlPairs");function K5(t){if(t===null)return[];var e,i,s,n,l,a=t;for(l=new Array(a.length),e=0,i=a.length;e<i;e+=1)s=a[e],n=Object.keys(s),l[e]=[n[0],s[n[0]]];return l}q(K5,"constructYamlPairs");var $Q=new En("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:X5,construct:K5}),VQ=Object.prototype.hasOwnProperty;function Z5(t){if(t===null)return!0;var e,i=t;for(e in i)if(VQ.call(i,e)&&i[e]!==null)return!1;return!0}q(Z5,"resolveYamlSet");function Q5(t){return t!==null?t:{}}q(Q5,"constructYamlSet");var YQ=new En("tag:yaml.org,2002:set",{kind:"mapping",resolve:Z5,construct:Q5}),J5=BQ.extend({implicit:[NQ,zQ],explicit:[UQ,jQ,$Q,YQ]}),Cc=Object.prototype.hasOwnProperty,Kv=1,eB=2,tB=3,Zv=4,Rx=1,GQ=2,vR=3,XQ=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,KQ=/[\x85\u2028\u2029]/,ZQ=/[,\[\]\{\}]/,iB=/^(?:!|!!|![a-z\-]+!)$/i,rB=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Ek(t){return Object.prototype.toString.call(t)}q(Ek,"_class");function vo(t){return t===10||t===13}q(vo,"is_EOL");function kc(t){return t===9||t===32}q(kc,"is_WHITE_SPACE");function Wn(t){return t===9||t===32||t===10||t===13}q(Wn,"is_WS_OR_EOL");function Hh(t){return t===44||t===91||t===93||t===123||t===125}q(Hh,"is_FLOW_INDICATOR");function sB(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}q(sB,"fromHexCode");function nB(t){return t===120?2:t===117?4:t===85?8:0}q(nB,"escapedHexLen");function aB(t){return 48<=t&&t<=57?t-48:-1}q(aB,"fromDecimalCode");function Ok(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}q(Ok,"simpleEscapeSequence");function oB(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}q(oB,"charFromCodepoint");var lB=new Array(256),cB=new Array(256);for(Mh=0;Mh<256;Mh++)lB[Mh]=Ok(Mh)?1:0,cB[Mh]=Ok(Mh);var Mh;function hB(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||J5,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}q(hB,"State$1");function xT(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=kQ(i),new na(e,i)}q(xT,"generateError");function ki(t,e){throw xT(t,e)}q(ki,"throwError");function Em(t,e){t.onWarning&&t.onWarning.call(null,xT(t,e))}q(Em,"throwWarning");var bR={YAML:q(function(e,i,s){var n,l,a;e.version!==null&&ki(e,"duplication of %YAML directive"),s.length!==1&&ki(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),n===null&&ki(e,"ill-formed argument of the YAML directive"),l=parseInt(n[1],10),a=parseInt(n[2],10),l!==1&&ki(e,"unacceptable YAML version of the document"),e.version=s[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Em(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:q(function(e,i,s){var n,l;s.length!==2&&ki(e,"TAG directive accepts exactly two arguments"),n=s[0],l=s[1],iB.test(n)||ki(e,"ill-formed tag handle (first argument) of the TAG directive"),Cc.call(e.tagMap,n)&&ki(e,'there is a previously declared suffix for "'+n+'" tag handle'),rB.test(l)||ki(e,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{ki(e,"tag prefix is malformed: "+l)}e.tagMap[n]=l},"handleTagDirective")};function Wl(t,e,i,s){var n,l,a,h;if(e<i){if(h=t.input.slice(e,i),s)for(n=0,l=h.length;n<l;n+=1)a=h.charCodeAt(n),a===9||32<=a&&a<=1114111||ki(t,"expected valid JSON character");else XQ.test(h)&&ki(t,"the stream contains non-printable characters");t.result+=h}}q(Wl,"captureSegment");function Mk(t,e,i,s){var n,l,a,h;for(Ws.isObject(i)||ki(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(i),a=0,h=n.length;a<h;a+=1)l=n[a],Cc.call(e,l)||(e[l]=i[l],s[l]=!0)}q(Mk,"mergeMappings");function Wh(t,e,i,s,n,l,a,h,d){var m,y;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),m=0,y=n.length;m<y;m+=1)Array.isArray(n[m])&&ki(t,"nested arrays are not supported inside keys"),typeof n=="object"&&Ek(n[m])==="[object Object]"&&(n[m]="[object Object]");if(typeof n=="object"&&Ek(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(m=0,y=l.length;m<y;m+=1)Mk(t,e,l[m],i);else Mk(t,e,l,i);else!t.json&&!Cc.call(i,n)&&Cc.call(e,n)&&(t.line=a||t.line,t.lineStart=h||t.lineStart,t.position=d||t.position,ki(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:l}):e[n]=l,delete i[n];return e}q(Wh,"storeMappingPair");function Jb(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):ki(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}q(Jb,"readLineBreak");function Os(t,e,i){for(var s=0,n=t.input.charCodeAt(t.position);n!==0;){for(;kc(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(vo(n))for(Jb(t),n=t.input.charCodeAt(t.position),s++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return i!==-1&&s!==0&&t.lineIndent<i&&Em(t,"deficient indentation"),s}q(Os,"skipSeparationSpace");function Jm(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||Wn(i)))}q(Jm,"testDocumentSeparator");function e0(t,e){e===1?t.result+=" ":e>1&&(t.result+=Ws.repeat(`
`,e-1))}q(e0,"writeFoldedLines");function uB(t,e,i){var s,n,l,a,h,d,m,y,b=t.kind,k=t.result,x;if(x=t.input.charCodeAt(t.position),Wn(x)||Hh(x)||x===35||x===38||x===42||x===33||x===124||x===62||x===39||x===34||x===37||x===64||x===96||(x===63||x===45)&&(n=t.input.charCodeAt(t.position+1),Wn(n)||i&&Hh(n)))return!1;for(t.kind="scalar",t.result="",l=a=t.position,h=!1;x!==0;){if(x===58){if(n=t.input.charCodeAt(t.position+1),Wn(n)||i&&Hh(n))break}else if(x===35){if(s=t.input.charCodeAt(t.position-1),Wn(s))break}else{if(t.position===t.lineStart&&Jm(t)||i&&Hh(x))break;if(vo(x))if(d=t.line,m=t.lineStart,y=t.lineIndent,Os(t,!1,-1),t.lineIndent>=e){h=!0,x=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=d,t.lineStart=m,t.lineIndent=y;break}}h&&(Wl(t,l,a,!1),e0(t,t.line-d),l=a=t.position,h=!1),kc(x)||(a=t.position+1),x=t.input.charCodeAt(++t.position)}return Wl(t,l,a,!1),t.result?!0:(t.kind=b,t.result=k,!1)}q(uB,"readPlainScalar");function dB(t,e){var i,s,n;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,s=n=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Wl(t,s,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)s=t.position,t.position++,n=t.position;else return!0;else vo(i)?(Wl(t,s,n,!0),e0(t,Os(t,!1,e)),s=n=t.position):t.position===t.lineStart&&Jm(t)?ki(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);ki(t,"unexpected end of the stream within a single quoted scalar")}q(dB,"readSingleQuotedScalar");function fB(t,e){var i,s,n,l,a,h;if(h=t.input.charCodeAt(t.position),h!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=s=t.position;(h=t.input.charCodeAt(t.position))!==0;){if(h===34)return Wl(t,i,t.position,!0),t.position++,!0;if(h===92){if(Wl(t,i,t.position,!0),h=t.input.charCodeAt(++t.position),vo(h))Os(t,!1,e);else if(h<256&&lB[h])t.result+=cB[h],t.position++;else if((a=nB(h))>0){for(n=a,l=0;n>0;n--)h=t.input.charCodeAt(++t.position),(a=sB(h))>=0?l=(l<<4)+a:ki(t,"expected hexadecimal character");t.result+=oB(l),t.position++}else ki(t,"unknown escape sequence");i=s=t.position}else vo(h)?(Wl(t,i,s,!0),e0(t,Os(t,!1,e)),i=s=t.position):t.position===t.lineStart&&Jm(t)?ki(t,"unexpected end of the document within a double quoted scalar"):(t.position++,s=t.position)}ki(t,"unexpected end of the stream within a double quoted scalar")}q(fB,"readDoubleQuotedScalar");function pB(t,e){var i=!0,s,n,l,a=t.tag,h,d=t.anchor,m,y,b,k,x,E=Object.create(null),O,L,D,u;if(u=t.input.charCodeAt(t.position),u===91)y=93,x=!1,h=[];else if(u===123)y=125,x=!0,h={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),u=t.input.charCodeAt(++t.position);u!==0;){if(Os(t,!0,e),u=t.input.charCodeAt(t.position),u===y)return t.position++,t.tag=a,t.anchor=d,t.kind=x?"mapping":"sequence",t.result=h,!0;i?u===44&&ki(t,"expected the node content, but found ','"):ki(t,"missed comma between flow collection entries"),L=O=D=null,b=k=!1,u===63&&(m=t.input.charCodeAt(t.position+1),Wn(m)&&(b=k=!0,t.position++,Os(t,!0,e))),s=t.line,n=t.lineStart,l=t.position,ru(t,e,Kv,!1,!0),L=t.tag,O=t.result,Os(t,!0,e),u=t.input.charCodeAt(t.position),(k||t.line===s)&&u===58&&(b=!0,u=t.input.charCodeAt(++t.position),Os(t,!0,e),ru(t,e,Kv,!1,!0),D=t.result),x?Wh(t,h,E,L,O,D,s,n,l):b?h.push(Wh(t,null,E,L,O,D,s,n,l)):h.push(O),Os(t,!0,e),u=t.input.charCodeAt(t.position),u===44?(i=!0,u=t.input.charCodeAt(++t.position)):i=!1}ki(t,"unexpected end of the stream within a flow collection")}q(pB,"readFlowCollection");function mB(t,e){var i,s,n=Rx,l=!1,a=!1,h=e,d=0,m=!1,y,b;if(b=t.input.charCodeAt(t.position),b===124)s=!1;else if(b===62)s=!0;else return!1;for(t.kind="scalar",t.result="";b!==0;)if(b=t.input.charCodeAt(++t.position),b===43||b===45)Rx===n?n=b===43?vR:GQ:ki(t,"repeat of a chomping mode identifier");else if((y=aB(b))>=0)y===0?ki(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?ki(t,"repeat of an indentation width identifier"):(h=e+y-1,a=!0);else break;if(kc(b)){do b=t.input.charCodeAt(++t.position);while(kc(b));if(b===35)do b=t.input.charCodeAt(++t.position);while(!vo(b)&&b!==0)}for(;b!==0;){for(Jb(t),t.lineIndent=0,b=t.input.charCodeAt(t.position);(!a||t.lineIndent<h)&&b===32;)t.lineIndent++,b=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>h&&(h=t.lineIndent),vo(b)){d++;continue}if(t.lineIndent<h){n===vR?t.result+=Ws.repeat(`
`,l?1+d:d):n===Rx&&l&&(t.result+=`
`);break}for(s?kc(b)?(m=!0,t.result+=Ws.repeat(`
`,l?1+d:d)):m?(m=!1,t.result+=Ws.repeat(`
`,d+1)):d===0?l&&(t.result+=" "):t.result+=Ws.repeat(`
`,d):t.result+=Ws.repeat(`
`,l?1+d:d),l=!0,a=!0,d=0,i=t.position;!vo(b)&&b!==0;)b=t.input.charCodeAt(++t.position);Wl(t,i,t.position,!1)}return!0}q(mB,"readBlockScalar");function Ak(t,e){var i,s=t.tag,n=t.anchor,l=[],a,h=!1,d;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),d=t.input.charCodeAt(t.position);d!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ki(t,"tab characters must not be used in indentation")),!(d!==45||(a=t.input.charCodeAt(t.position+1),!Wn(a))));){if(h=!0,t.position++,Os(t,!0,-1)&&t.lineIndent<=e){l.push(null),d=t.input.charCodeAt(t.position);continue}if(i=t.line,ru(t,e,tB,!1,!0),l.push(t.result),Os(t,!0,-1),d=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&d!==0)ki(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return h?(t.tag=s,t.anchor=n,t.kind="sequence",t.result=l,!0):!1}q(Ak,"readBlockSequence");function gB(t,e,i){var s,n,l,a,h,d,m=t.tag,y=t.anchor,b={},k=Object.create(null),x=null,E=null,O=null,L=!1,D=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=b),u=t.input.charCodeAt(t.position);u!==0;){if(!L&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ki(t,"tab characters must not be used in indentation")),s=t.input.charCodeAt(t.position+1),l=t.line,(u===63||u===58)&&Wn(s))u===63?(L&&(Wh(t,b,k,x,E,null,a,h,d),x=E=O=null),D=!0,L=!0,n=!0):L?(L=!1,n=!0):ki(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=s;else{if(a=t.line,h=t.lineStart,d=t.position,!ru(t,i,eB,!1,!0))break;if(t.line===l){for(u=t.input.charCodeAt(t.position);kc(u);)u=t.input.charCodeAt(++t.position);if(u===58)u=t.input.charCodeAt(++t.position),Wn(u)||ki(t,"a whitespace character is expected after the key-value separator within a block mapping"),L&&(Wh(t,b,k,x,E,null,a,h,d),x=E=O=null),D=!0,L=!1,n=!1,x=t.tag,E=t.result;else if(D)ki(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=m,t.anchor=y,!0}else if(D)ki(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=m,t.anchor=y,!0}if((t.line===l||t.lineIndent>e)&&(L&&(a=t.line,h=t.lineStart,d=t.position),ru(t,e,Zv,!0,n)&&(L?E=t.result:O=t.result),L||(Wh(t,b,k,x,E,O,a,h,d),x=E=O=null),Os(t,!0,-1),u=t.input.charCodeAt(t.position)),(t.line===l||t.lineIndent>e)&&u!==0)ki(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return L&&Wh(t,b,k,x,E,null,a,h,d),D&&(t.tag=m,t.anchor=y,t.kind="mapping",t.result=b),D}q(gB,"readBlockMapping");function yB(t){var e,i=!1,s=!1,n,l,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&ki(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(i=!0,a=t.input.charCodeAt(++t.position)):a===33?(s=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(l=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):ki(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Wn(a);)a===33&&(s?ki(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),iB.test(n)||ki(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);l=t.input.slice(e,t.position),ZQ.test(l)&&ki(t,"tag suffix cannot contain flow indicator characters")}l&&!rB.test(l)&&ki(t,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{ki(t,"tag name is malformed: "+l)}return i?t.tag=l:Cc.call(t.tagMap,n)?t.tag=t.tagMap[n]+l:n==="!"?t.tag="!"+l:n==="!!"?t.tag="tag:yaml.org,2002:"+l:ki(t,'undeclared tag handle "'+n+'"'),!0}q(yB,"readTagProperty");function vB(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&ki(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Wn(i)&&!Hh(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&ki(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}q(vB,"readAnchorProperty");function bB(t){var e,i,s;if(s=t.input.charCodeAt(t.position),s!==42)return!1;for(s=t.input.charCodeAt(++t.position),e=t.position;s!==0&&!Wn(s)&&!Hh(s);)s=t.input.charCodeAt(++t.position);return t.position===e&&ki(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),Cc.call(t.anchorMap,i)||ki(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],Os(t,!0,-1),!0}q(bB,"readAlias");function ru(t,e,i,s,n){var l,a,h,d=1,m=!1,y=!1,b,k,x,E,O,L;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,l=a=h=Zv===i||tB===i,s&&Os(t,!0,-1)&&(m=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),d===1)for(;yB(t)||vB(t);)Os(t,!0,-1)?(m=!0,h=l,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):h=!1;if(h&&(h=m||n),(d===1||Zv===i)&&(Kv===i||eB===i?O=e:O=e+1,L=t.position-t.lineStart,d===1?h&&(Ak(t,L)||gB(t,L,O))||pB(t,O)?y=!0:(a&&mB(t,O)||dB(t,O)||fB(t,O)?y=!0:bB(t)?(y=!0,(t.tag!==null||t.anchor!==null)&&ki(t,"alias node should not have any properties")):uB(t,O,Kv===i)&&(y=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):d===0&&(y=h&&Ak(t,L))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&ki(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),b=0,k=t.implicitTypes.length;b<k;b+=1)if(E=t.implicitTypes[b],E.resolve(t.result)){t.result=E.construct(t.result),t.tag=E.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Cc.call(t.typeMap[t.kind||"fallback"],t.tag))E=t.typeMap[t.kind||"fallback"][t.tag];else for(E=null,x=t.typeMap.multi[t.kind||"fallback"],b=0,k=x.length;b<k;b+=1)if(t.tag.slice(0,x[b].tag.length)===x[b].tag){E=x[b];break}E||ki(t,"unknown tag !<"+t.tag+">"),t.result!==null&&E.kind!==t.kind&&ki(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+E.kind+'", not "'+t.kind+'"'),E.resolve(t.result,t.tag)?(t.result=E.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):ki(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||y}q(ru,"composeNode");function _B(t){var e=t.position,i,s,n,l=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Os(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(l=!0,a=t.input.charCodeAt(++t.position),i=t.position;a!==0&&!Wn(a);)a=t.input.charCodeAt(++t.position);for(s=t.input.slice(i,t.position),n=[],s.length<1&&ki(t,"directive name must not be less than one character in length");a!==0;){for(;kc(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!vo(a));break}if(vo(a))break;for(i=t.position;a!==0&&!Wn(a);)a=t.input.charCodeAt(++t.position);n.push(t.input.slice(i,t.position))}a!==0&&Jb(t),Cc.call(bR,s)?bR[s](t,s,n):Em(t,'unknown document directive "'+s+'"')}if(Os(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Os(t,!0,-1)):l&&ki(t,"directives end mark is expected"),ru(t,t.lineIndent-1,Zv,!1,!0),Os(t,!0,-1),t.checkLineBreaks&&KQ.test(t.input.slice(e,t.position))&&Em(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Jm(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Os(t,!0,-1));return}if(t.position<t.length-1)ki(t,"end of the stream or a document separator is expected");else return}q(_B,"readDocument");function kT(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new hB(t,e),s=t.indexOf("\0");for(s!==-1&&(i.position=s,ki(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)_B(i);return i.documents}q(kT,"loadDocuments");function QQ(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var s=kT(t,i);if(typeof e!="function")return s;for(var n=0,l=s.length;n<l;n+=1)e(s[n])}q(QQ,"loadAll$1");function wB(t,e){var i=kT(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new na("expected a single document in the stream, but found more")}}q(wB,"load$1");var JQ=wB,eJ={load:JQ},xB=Object.prototype.toString,kB=Object.prototype.hasOwnProperty,ST=65279,tJ=9,Om=10,iJ=13,rJ=32,sJ=33,nJ=34,Pk=35,aJ=37,oJ=38,lJ=39,cJ=42,SB=44,hJ=45,Qv=58,uJ=61,dJ=62,fJ=63,pJ=64,TB=91,CB=93,mJ=96,EB=123,gJ=124,OB=125,On={};On[0]="\\0";On[7]="\\a";On[8]="\\b";On[9]="\\t";On[10]="\\n";On[11]="\\v";On[12]="\\f";On[13]="\\r";On[27]="\\e";On[34]='\\"';On[92]="\\\\";On[133]="\\N";On[160]="\\_";On[8232]="\\L";On[8233]="\\P";var yJ=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],vJ=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function MB(t,e){var i,s,n,l,a,h,d;if(e===null)return{};for(i={},s=Object.keys(e),n=0,l=s.length;n<l;n+=1)a=s[n],h=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),d=t.compiledTypeMap.fallback[a],d&&kB.call(d.styleAliases,h)&&(h=d.styleAliases[h]),i[a]=h;return i}q(MB,"compileStyleMap");function AB(t){var e,i,s;if(e=t.toString(16).toUpperCase(),t<=255)i="x",s=2;else if(t<=65535)i="u",s=4;else if(t<=4294967295)i="U",s=8;else throw new na("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+Ws.repeat("0",s-e.length)+e}q(AB,"encodeHex");var bJ=1,Mm=2;function PB(t){this.schema=t.schema||J5,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Ws.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=MB(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Mm:bJ,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}q(PB,"State");function Dk(t,e){for(var i=Ws.repeat(" ",e),s=0,n=-1,l="",a,h=t.length;s<h;)n=t.indexOf(`
`,s),n===-1?(a=t.slice(s),s=h):(a=t.slice(s,n+1),s=n+1),a.length&&a!==`
`&&(l+=i),l+=a;return l}q(Dk,"indentString");function Jv(t,e){return`
`+Ws.repeat(" ",t.indent*e)}q(Jv,"generateNextLine");function DB(t,e){var i,s,n;for(i=0,s=t.implicitTypes.length;i<s;i+=1)if(n=t.implicitTypes[i],n.resolve(e))return!0;return!1}q(DB,"testImplicitResolving");function Am(t){return t===rJ||t===tJ}q(Am,"isWhitespace");function Bd(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==ST||65536<=t&&t<=1114111}q(Bd,"isPrintable");function Lk(t){return Bd(t)&&t!==ST&&t!==iJ&&t!==Om}q(Lk,"isNsCharOrWhitespace");function Rk(t,e,i){var s=Lk(t),n=s&&!Am(t);return(i?s:s&&t!==SB&&t!==TB&&t!==CB&&t!==EB&&t!==OB)&&t!==Pk&&!(e===Qv&&!n)||Lk(e)&&!Am(e)&&t===Pk||e===Qv&&n}q(Rk,"isPlainSafe");function LB(t){return Bd(t)&&t!==ST&&!Am(t)&&t!==hJ&&t!==fJ&&t!==Qv&&t!==SB&&t!==TB&&t!==CB&&t!==EB&&t!==OB&&t!==Pk&&t!==oJ&&t!==cJ&&t!==sJ&&t!==gJ&&t!==uJ&&t!==dJ&&t!==lJ&&t!==nJ&&t!==aJ&&t!==pJ&&t!==mJ}q(LB,"isPlainSafeFirst");function RB(t){return!Am(t)&&t!==Qv}q(RB,"isPlainSafeLast");function td(t,e){var i=t.charCodeAt(e),s;return i>=55296&&i<=56319&&e+1<t.length&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}q(td,"codePointAt");function TT(t){var e=/^\n* /;return e.test(t)}q(TT,"needIndentIndicator");var FB=1,Fk=2,IB=3,BB=4,Zu=5;function NB(t,e,i,s,n,l,a,h){var d,m=0,y=null,b=!1,k=!1,x=s!==-1,E=-1,O=LB(td(t,0))&&RB(td(t,t.length-1));if(e||a)for(d=0;d<t.length;m>=65536?d+=2:d++){if(m=td(t,d),!Bd(m))return Zu;O=O&&Rk(m,y,h),y=m}else{for(d=0;d<t.length;m>=65536?d+=2:d++){if(m=td(t,d),m===Om)b=!0,x&&(k=k||d-E-1>s&&t[E+1]!==" ",E=d);else if(!Bd(m))return Zu;O=O&&Rk(m,y,h),y=m}k=k||x&&d-E-1>s&&t[E+1]!==" "}return!b&&!k?O&&!a&&!n(t)?FB:l===Mm?Zu:Fk:i>9&&TT(t)?Zu:a?l===Mm?Zu:Fk:k?BB:IB}q(NB,"chooseScalarStyle");function zB(t,e,i,s,n){t.dump=function(){if(e.length===0)return t.quotingType===Mm?'""':"''";if(!t.noCompatMode&&(yJ.indexOf(e)!==-1||vJ.test(e)))return t.quotingType===Mm?'"'+e+'"':"'"+e+"'";var l=t.indent*Math.max(1,i),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-l),h=s||t.flowLevel>-1&&i>=t.flowLevel;function d(m){return DB(t,m)}switch(q(d,"testAmbiguity"),NB(e,h,t.indent,a,d,t.quotingType,t.forceQuotes&&!s,n)){case FB:return e;case Fk:return"'"+e.replace(/'/g,"''")+"'";case IB:return"|"+Ik(e,t.indent)+Bk(Dk(e,l));case BB:return">"+Ik(e,t.indent)+Bk(Dk(UB(e,a),l));case Zu:return'"'+HB(e)+'"';default:throw new na("impossible error: invalid scalar style")}}()}q(zB,"writeScalar");function Ik(t,e){var i=TT(t)?String(e):"",s=t[t.length-1]===`
`,n=s&&(t[t.length-2]===`
`||t===`
`),l=n?"+":s?"":"-";return i+l+`
`}q(Ik,"blockHeader");function Bk(t){return t[t.length-1]===`
`?t.slice(0,-1):t}q(Bk,"dropEndingNewline");function UB(t,e){for(var i=/(\n+)([^\n]*)/g,s=function(){var m=t.indexOf(`
`);return m=m!==-1?m:t.length,i.lastIndex=m,Nk(t.slice(0,m),e)}(),n=t[0]===`
`||t[0]===" ",l,a;a=i.exec(t);){var h=a[1],d=a[2];l=d[0]===" ",s+=h+(!n&&!l&&d!==""?`
`:"")+Nk(d,e),n=l}return s}q(UB,"foldString");function Nk(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,s,n=0,l,a=0,h=0,d="";s=i.exec(t);)h=s.index,h-n>e&&(l=a>n?a:h,d+=`
`+t.slice(n,l),n=l+1),a=h;return d+=`
`,t.length-n>e&&a>n?d+=t.slice(n,a)+`
`+t.slice(a+1):d+=t.slice(n),d.slice(1)}q(Nk,"foldLine");function HB(t){for(var e="",i=0,s,n=0;n<t.length;i>=65536?n+=2:n++)i=td(t,n),s=On[i],!s&&Bd(i)?(e+=t[n],i>=65536&&(e+=t[n+1])):e+=s||AB(i);return e}q(HB,"escapeString");function WB(t,e,i){var s="",n=t.tag,l,a,h;for(l=0,a=i.length;l<a;l+=1)h=i[l],t.replacer&&(h=t.replacer.call(i,String(l),h)),(Jo(t,e,h,!1,!1)||typeof h>"u"&&Jo(t,e,null,!1,!1))&&(s!==""&&(s+=","+(t.condenseFlow?"":" ")),s+=t.dump);t.tag=n,t.dump="["+s+"]"}q(WB,"writeFlowSequence");function zk(t,e,i,s){var n="",l=t.tag,a,h,d;for(a=0,h=i.length;a<h;a+=1)d=i[a],t.replacer&&(d=t.replacer.call(i,String(a),d)),(Jo(t,e+1,d,!0,!0,!1,!0)||typeof d>"u"&&Jo(t,e+1,null,!0,!0,!1,!0))&&((!s||n!=="")&&(n+=Jv(t,e)),t.dump&&Om===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=l,t.dump=n||"[]"}q(zk,"writeBlockSequence");function jB(t,e,i){var s="",n=t.tag,l=Object.keys(i),a,h,d,m,y;for(a=0,h=l.length;a<h;a+=1)y="",s!==""&&(y+=", "),t.condenseFlow&&(y+='"'),d=l[a],m=i[d],t.replacer&&(m=t.replacer.call(i,d,m)),Jo(t,e,d,!1,!1)&&(t.dump.length>1024&&(y+="? "),y+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Jo(t,e,m,!1,!1)&&(y+=t.dump,s+=y));t.tag=n,t.dump="{"+s+"}"}q(jB,"writeFlowMapping");function qB(t,e,i,s){var n="",l=t.tag,a=Object.keys(i),h,d,m,y,b,k;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new na("sortKeys must be a boolean or a function");for(h=0,d=a.length;h<d;h+=1)k="",(!s||n!=="")&&(k+=Jv(t,e)),m=a[h],y=i[m],t.replacer&&(y=t.replacer.call(i,m,y)),Jo(t,e+1,m,!0,!0,!0)&&(b=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,b&&(t.dump&&Om===t.dump.charCodeAt(0)?k+="?":k+="? "),k+=t.dump,b&&(k+=Jv(t,e)),Jo(t,e+1,y,!0,b)&&(t.dump&&Om===t.dump.charCodeAt(0)?k+=":":k+=": ",k+=t.dump,n+=k));t.tag=l,t.dump=n||"{}"}q(qB,"writeBlockMapping");function Uk(t,e,i){var s,n,l,a,h,d;for(n=i?t.explicitTypes:t.implicitTypes,l=0,a=n.length;l<a;l+=1)if(h=n[l],(h.instanceOf||h.predicate)&&(!h.instanceOf||typeof e=="object"&&e instanceof h.instanceOf)&&(!h.predicate||h.predicate(e))){if(i?h.multi&&h.representName?t.tag=h.representName(e):t.tag=h.tag:t.tag="?",h.represent){if(d=t.styleMap[h.tag]||h.defaultStyle,xB.call(h.represent)==="[object Function]")s=h.represent(e,d);else if(kB.call(h.represent,d))s=h.represent[d](e,d);else throw new na("!<"+h.tag+'> tag resolver accepts not "'+d+'" style');t.dump=s}return!0}return!1}q(Uk,"detectType");function Jo(t,e,i,s,n,l,a){t.tag=null,t.dump=i,Uk(t,i,!1)||Uk(t,i,!0);var h=xB.call(t.dump),d=s,m;s&&(s=t.flowLevel<0||t.flowLevel>e);var y=h==="[object Object]"||h==="[object Array]",b,k;if(y&&(b=t.duplicates.indexOf(i),k=b!==-1),(t.tag!==null&&t.tag!=="?"||k||t.indent!==2&&e>0)&&(n=!1),k&&t.usedDuplicates[b])t.dump="*ref_"+b;else{if(y&&k&&!t.usedDuplicates[b]&&(t.usedDuplicates[b]=!0),h==="[object Object]")s&&Object.keys(t.dump).length!==0?(qB(t,e,t.dump,n),k&&(t.dump="&ref_"+b+t.dump)):(jB(t,e,t.dump),k&&(t.dump="&ref_"+b+" "+t.dump));else if(h==="[object Array]")s&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?zk(t,e-1,t.dump,n):zk(t,e,t.dump,n),k&&(t.dump="&ref_"+b+t.dump)):(WB(t,e,t.dump),k&&(t.dump="&ref_"+b+" "+t.dump));else if(h==="[object String]")t.tag!=="?"&&zB(t,t.dump,e,l,d);else{if(h==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new na("unacceptable kind of an object to dump "+h)}t.tag!==null&&t.tag!=="?"&&(m=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?m="!"+m:m.slice(0,18)==="tag:yaml.org,2002:"?m="!!"+m.slice(18):m="!<"+m+">",t.dump=m+" "+t.dump)}return!0}q(Jo,"writeNode");function $B(t,e){var i=[],s=[],n,l;for(eb(t,i,s),n=0,l=s.length;n<l;n+=1)e.duplicates.push(i[s[n]]);e.usedDuplicates=new Array(l)}q($B,"getDuplicateReferences");function eb(t,e,i){var s,n,l;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)i.indexOf(n)===-1&&i.push(n);else if(e.push(t),Array.isArray(t))for(n=0,l=t.length;n<l;n+=1)eb(t[n],e,i);else for(s=Object.keys(t),n=0,l=s.length;n<l;n+=1)eb(t[s[n]],e,i)}q(eb,"inspectNode");function _J(t,e){e=e||{};var i=new PB(e);i.noRefs||$B(t,i);var s=t;return i.replacer&&(s=i.replacer.call({"":s},"",s)),Jo(i,0,s,!0,!0)?i.dump+`
`:""}q(_J,"dump$1");function wJ(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}q(wJ,"renamed");var xJ=I5,kJ=eJ.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Ia={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function $p(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=us(t),e=us(e);const[i,s]=[t.x,t.y],[n,l]=[e.x,e.y],a=n-i,h=l-s;return{angle:Math.atan(h/a),deltaX:a,deltaY:h}}q($p,"calculateDeltaAndAngle");var us=q(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),SJ=q(t=>({x:q(function(e,i,s){let n=0;const l=us(s[0]).x<us(s[s.length-1]).x?"left":"right";if(i===0&&Object.hasOwn(Ia,t.arrowTypeStart)){const{angle:x,deltaX:E}=$p(s[0],s[1]);n=Ia[t.arrowTypeStart]*Math.cos(x)*(E>=0?1:-1)}else if(i===s.length-1&&Object.hasOwn(Ia,t.arrowTypeEnd)){const{angle:x,deltaX:E}=$p(s[s.length-1],s[s.length-2]);n=Ia[t.arrowTypeEnd]*Math.cos(x)*(E>=0?1:-1)}const a=Math.abs(us(e).x-us(s[s.length-1]).x),h=Math.abs(us(e).y-us(s[s.length-1]).y),d=Math.abs(us(e).x-us(s[0]).x),m=Math.abs(us(e).y-us(s[0]).y),y=Ia[t.arrowTypeStart],b=Ia[t.arrowTypeEnd],k=1;if(a<b&&a>0&&h<b){let x=b+k-a;x*=l==="right"?-1:1,n-=x}if(d<y&&d>0&&m<y){let x=y+k-d;x*=l==="right"?-1:1,n+=x}return us(e).x+n},"x"),y:q(function(e,i,s){let n=0;const l=us(s[0]).y<us(s[s.length-1]).y?"down":"up";if(i===0&&Object.hasOwn(Ia,t.arrowTypeStart)){const{angle:x,deltaY:E}=$p(s[0],s[1]);n=Ia[t.arrowTypeStart]*Math.abs(Math.sin(x))*(E>=0?1:-1)}else if(i===s.length-1&&Object.hasOwn(Ia,t.arrowTypeEnd)){const{angle:x,deltaY:E}=$p(s[s.length-1],s[s.length-2]);n=Ia[t.arrowTypeEnd]*Math.abs(Math.sin(x))*(E>=0?1:-1)}const a=Math.abs(us(e).y-us(s[s.length-1]).y),h=Math.abs(us(e).x-us(s[s.length-1]).x),d=Math.abs(us(e).y-us(s[0]).y),m=Math.abs(us(e).x-us(s[0]).x),y=Ia[t.arrowTypeStart],b=Ia[t.arrowTypeEnd],k=1;if(a<b&&a>0&&h<b){let x=b+k-a;x*=l==="up"?-1:1,n-=x}if(d<y&&d>0&&m<y){let x=y+k-d;x*=l==="up"?-1:1,n+=x}return us(e).y+n},"y")}),"getLineFunctionsWithOffset"),CT=q(({flowchart:t})=>{var n,l;const e=((n=t==null?void 0:t.subGraphTitleMargin)==null?void 0:n.top)??0,i=((l=t==null?void 0:t.subGraphTitleMargin)==null?void 0:l.bottom)??0,s=e+i;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:i,subGraphTitleTotalMargin:s}},"getSubGraphTitleMargins"),TJ=q(t=>{const{handDrawnSeed:e}=Lr();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Xd=q(t=>{const e=CJ([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),CJ=q(t=>{const e=new Map;return t.forEach(i=>{const[s,n]=i.split(":");e.set(s.trim(),n==null?void 0:n.trim())}),e},"styles2Map"),VB=q(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),wi=q(t=>{const{stylesArray:e}=Xd(t),i=[],s=[],n=[],l=[];return e.forEach(a=>{const h=a[0];VB(h)?i.push(a.join(":")+" !important"):(s.push(a.join(":")+" !important"),h.includes("stroke")&&n.push(a.join(":")+" !important"),h==="fill"&&l.push(a.join(":")+" !important"))}),{labelStyles:i.join(";"),nodeStyles:s.join(";"),stylesArray:e,borderStyles:n,backgroundStyles:l}},"styles2String"),fi=q((t,e)=>{var d;const{themeVariables:i,handDrawnSeed:s}=Lr(),{nodeBorder:n,mainBkg:l}=i,{stylesMap:a}=Xd(t);return Object.assign({roughness:.7,fill:a.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||n,seed:s,strokeWidth:((d=a.get("stroke-width"))==null?void 0:d.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:EJ(a.get("stroke-dasharray"))},e)},"userNodeOverrides"),EJ=q(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const n=isNaN(e[0])?0:e[0];return[n,n]}const i=isNaN(e[0])?0:e[0],s=isNaN(e[1])?0:e[1];return[i,s]},"getStrokeDashArray"),ET={},Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});var YB=Hs.BLANK_URL=eN=Hs.relativeFirstCharacters=JB=Hs.whitespaceEscapeCharsRegex=QB=Hs.urlSchemeRegex=ZB=Hs.ctrlCharactersRegex=KB=Hs.htmlCtrlEntityRegex=XB=Hs.htmlEntitiesRegex=GB=Hs.invalidProtocolRegex=void 0,GB=Hs.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,XB=Hs.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,KB=Hs.htmlCtrlEntityRegex=/&(newline|tab);/gi,ZB=Hs.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,QB=Hs.urlSchemeRegex=/^.+(:|&colon;)/gim,JB=Hs.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,eN=Hs.relativeFirstCharacters=[".","/"];YB=Hs.BLANK_URL="about:blank";const OJ=mW({__proto__:null,get BLANK_URL(){return YB},get ctrlCharactersRegex(){return ZB},default:Hs,get htmlCtrlEntityRegex(){return KB},get htmlEntitiesRegex(){return XB},get invalidProtocolRegex(){return GB},get relativeFirstCharacters(){return eN},get urlSchemeRegex(){return QB},get whitespaceEscapeCharsRegex(){return JB}},[Hs]),MJ=fW(OJ);Object.defineProperty(ET,"__esModule",{value:!0});var tN=ET.sanitizeUrl=void 0,wn=MJ;function AJ(t){return wn.relativeFirstCharacters.indexOf(t[0])>-1}function PJ(t){var e=t.replace(wn.ctrlCharactersRegex,"");return e.replace(wn.htmlEntitiesRegex,function(i,s){return String.fromCharCode(s)})}function DJ(t){return URL.canParse(t)}function _R(t){try{return decodeURIComponent(t)}catch{return t}}function LJ(t){if(!t)return wn.BLANK_URL;var e,i=_R(t.trim());do i=PJ(i).replace(wn.htmlCtrlEntityRegex,"").replace(wn.ctrlCharactersRegex,"").replace(wn.whitespaceEscapeCharsRegex,"").trim(),i=_R(i),e=i.match(wn.ctrlCharactersRegex)||i.match(wn.htmlEntitiesRegex)||i.match(wn.htmlCtrlEntityRegex)||i.match(wn.whitespaceEscapeCharsRegex);while(e&&e.length>0);var s=i;if(!s)return wn.BLANK_URL;if(AJ(s))return s;var n=s.trimStart(),l=n.match(wn.urlSchemeRegex);if(!l)return s;var a=l[0].toLowerCase().trim();if(wn.invalidProtocolRegex.test(a))return wn.BLANK_URL;var h=n.replace(/\\/g,"/");if(a==="mailto:"||a.includes("://"))return h;if(a==="http:"||a==="https:"){if(!DJ(h))return wn.BLANK_URL;var d=new URL(h);return d.protocol=d.protocol.toLowerCase(),d.hostname=d.hostname.toLowerCase(),d.toString()}return h}tN=ET.sanitizeUrl=LJ;var RJ={value:()=>{}};function iN(){for(var t=0,e=arguments.length,i={},s;t<e;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new yv(i)}function yv(t){this._=t}function FJ(t,e){return t.trim().split(/^|\s+/).map(function(i){var s="",n=i.indexOf(".");if(n>=0&&(s=i.slice(n+1),i=i.slice(0,n)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}yv.prototype=iN.prototype={constructor:yv,on:function(t,e){var i=this._,s=FJ(t+"",i),n,l=-1,a=s.length;if(arguments.length<2){for(;++l<a;)if((n=(t=s[l]).type)&&(n=IJ(i[n],t.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<a;)if(n=(t=s[l]).type)i[n]=wR(i[n],t.name,e);else if(e==null)for(n in i)i[n]=wR(i[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new yv(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var i=new Array(n),s=0,n,l;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],s=0,n=l.length;s<n;++s)l[s].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],n=0,l=s.length;n<l;++n)s[n].value.apply(e,i)}};function IJ(t,e){for(var i=0,s=t.length,n;i<s;++i)if((n=t[i]).name===e)return n.value}function wR(t,e,i){for(var s=0,n=t.length;s<n;++s)if(t[s].name===e){t[s]=RJ,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:e,value:i}),t}var Hk="http://www.w3.org/1999/xhtml";const xR={svg:"http://www.w3.org/2000/svg",xhtml:Hk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function t0(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),xR.hasOwnProperty(e)?{space:xR[e],local:t}:t}function BJ(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===Hk&&e.documentElement.namespaceURI===Hk?e.createElement(t):e.createElementNS(i,t)}}function NJ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function rN(t){var e=t0(t);return(e.local?NJ:BJ)(e)}function zJ(){}function OT(t){return t==null?zJ:function(){return this.querySelector(t)}}function UJ(t){typeof t!="function"&&(t=OT(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var l=e[n],a=l.length,h=s[n]=new Array(a),d,m,y=0;y<a;++y)(d=l[y])&&(m=t.call(d,d.__data__,y,l))&&("__data__"in d&&(m.__data__=d.__data__),h[y]=m);return new Ma(s,this._parents)}function HJ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function WJ(){return[]}function sN(t){return t==null?WJ:function(){return this.querySelectorAll(t)}}function jJ(t){return function(){return HJ(t.apply(this,arguments))}}function qJ(t){typeof t=="function"?t=jJ(t):t=sN(t);for(var e=this._groups,i=e.length,s=[],n=[],l=0;l<i;++l)for(var a=e[l],h=a.length,d,m=0;m<h;++m)(d=a[m])&&(s.push(t.call(d,d.__data__,m,a)),n.push(d));return new Ma(s,n)}function nN(t){return function(){return this.matches(t)}}function aN(t){return function(e){return e.matches(t)}}var $J=Array.prototype.find;function VJ(t){return function(){return $J.call(this.children,t)}}function YJ(){return this.firstElementChild}function GJ(t){return this.select(t==null?YJ:VJ(typeof t=="function"?t:aN(t)))}var XJ=Array.prototype.filter;function KJ(){return Array.from(this.children)}function ZJ(t){return function(){return XJ.call(this.children,t)}}function QJ(t){return this.selectAll(t==null?KJ:ZJ(typeof t=="function"?t:aN(t)))}function JJ(t){typeof t!="function"&&(t=nN(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var l=e[n],a=l.length,h=s[n]=[],d,m=0;m<a;++m)(d=l[m])&&t.call(d,d.__data__,m,l)&&h.push(d);return new Ma(s,this._parents)}function oN(t){return new Array(t.length)}function eee(){return new Ma(this._enter||this._groups.map(oN),this._parents)}function tb(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}tb.prototype={constructor:tb,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function tee(t){return function(){return t}}function iee(t,e,i,s,n,l){for(var a=0,h,d=e.length,m=l.length;a<m;++a)(h=e[a])?(h.__data__=l[a],s[a]=h):i[a]=new tb(t,l[a]);for(;a<d;++a)(h=e[a])&&(n[a]=h)}function ree(t,e,i,s,n,l,a){var h,d,m=new Map,y=e.length,b=l.length,k=new Array(y),x;for(h=0;h<y;++h)(d=e[h])&&(k[h]=x=a.call(d,d.__data__,h,e)+"",m.has(x)?n[h]=d:m.set(x,d));for(h=0;h<b;++h)x=a.call(t,l[h],h,l)+"",(d=m.get(x))?(s[h]=d,d.__data__=l[h],m.delete(x)):i[h]=new tb(t,l[h]);for(h=0;h<y;++h)(d=e[h])&&m.get(k[h])===d&&(n[h]=d)}function see(t){return t.__data__}function nee(t,e){if(!arguments.length)return Array.from(this,see);var i=e?ree:iee,s=this._parents,n=this._groups;typeof t!="function"&&(t=tee(t));for(var l=n.length,a=new Array(l),h=new Array(l),d=new Array(l),m=0;m<l;++m){var y=s[m],b=n[m],k=b.length,x=aee(t.call(y,y&&y.__data__,m,s)),E=x.length,O=h[m]=new Array(E),L=a[m]=new Array(E),D=d[m]=new Array(k);i(y,b,O,L,D,x,e);for(var u=0,T=0,g,S;u<E;++u)if(g=O[u]){for(u>=T&&(T=u+1);!(S=L[T])&&++T<E;);g._next=S||null}}return a=new Ma(a,s),a._enter=h,a._exit=d,a}function aee(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function oee(){return new Ma(this._exit||this._groups.map(oN),this._parents)}function lee(t,e,i){var s=this.enter(),n=this,l=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),e!=null&&(n=e(n),n&&(n=n.selection())),i==null?l.remove():i(l),s&&n?s.merge(n).order():n}function cee(t){for(var e=t.selection?t.selection():t,i=this._groups,s=e._groups,n=i.length,l=s.length,a=Math.min(n,l),h=new Array(n),d=0;d<a;++d)for(var m=i[d],y=s[d],b=m.length,k=h[d]=new Array(b),x,E=0;E<b;++E)(x=m[E]||y[E])&&(k[E]=x);for(;d<n;++d)h[d]=i[d];return new Ma(h,this._parents)}function hee(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var s=t[e],n=s.length-1,l=s[n],a;--n>=0;)(a=s[n])&&(l&&a.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(a,l),l=a);return this}function uee(t){t||(t=dee);function e(b,k){return b&&k?t(b.__data__,k.__data__):!b-!k}for(var i=this._groups,s=i.length,n=new Array(s),l=0;l<s;++l){for(var a=i[l],h=a.length,d=n[l]=new Array(h),m,y=0;y<h;++y)(m=a[y])&&(d[y]=m);d.sort(e)}return new Ma(n,this._parents).order()}function dee(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function fee(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function pee(){return Array.from(this)}function mee(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],n=0,l=s.length;n<l;++n){var a=s[n];if(a)return a}return null}function gee(){let t=0;for(const e of this)++t;return t}function yee(){return!this.node()}function vee(t){for(var e=this._groups,i=0,s=e.length;i<s;++i)for(var n=e[i],l=0,a=n.length,h;l<a;++l)(h=n[l])&&t.call(h,h.__data__,l,n);return this}function bee(t){return function(){this.removeAttribute(t)}}function _ee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function wee(t,e){return function(){this.setAttribute(t,e)}}function xee(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function kee(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function See(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function Tee(t,e){var i=t0(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((e==null?i.local?_ee:bee:typeof e=="function"?i.local?See:kee:i.local?xee:wee)(i,e))}function lN(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Cee(t){return function(){this.style.removeProperty(t)}}function Eee(t,e,i){return function(){this.style.setProperty(t,e,i)}}function Oee(t,e,i){return function(){var s=e.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function Mee(t,e,i){return arguments.length>1?this.each((e==null?Cee:typeof e=="function"?Oee:Eee)(t,e,i??"")):Nd(this.node(),t)}function Nd(t,e){return t.style.getPropertyValue(e)||lN(t).getComputedStyle(t,null).getPropertyValue(e)}function Aee(t){return function(){delete this[t]}}function Pee(t,e){return function(){this[t]=e}}function Dee(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function Lee(t,e){return arguments.length>1?this.each((e==null?Aee:typeof e=="function"?Dee:Pee)(t,e)):this.node()[t]}function cN(t){return t.trim().split(/^|\s+/)}function MT(t){return t.classList||new hN(t)}function hN(t){this._node=t,this._names=cN(t.getAttribute("class")||"")}hN.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function uN(t,e){for(var i=MT(t),s=-1,n=e.length;++s<n;)i.add(e[s])}function dN(t,e){for(var i=MT(t),s=-1,n=e.length;++s<n;)i.remove(e[s])}function Ree(t){return function(){uN(this,t)}}function Fee(t){return function(){dN(this,t)}}function Iee(t,e){return function(){(e.apply(this,arguments)?uN:dN)(this,t)}}function Bee(t,e){var i=cN(t+"");if(arguments.length<2){for(var s=MT(this.node()),n=-1,l=i.length;++n<l;)if(!s.contains(i[n]))return!1;return!0}return this.each((typeof e=="function"?Iee:e?Ree:Fee)(i,e))}function Nee(){this.textContent=""}function zee(t){return function(){this.textContent=t}}function Uee(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Hee(t){return arguments.length?this.each(t==null?Nee:(typeof t=="function"?Uee:zee)(t)):this.node().textContent}function Wee(){this.innerHTML=""}function jee(t){return function(){this.innerHTML=t}}function qee(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function $ee(t){return arguments.length?this.each(t==null?Wee:(typeof t=="function"?qee:jee)(t)):this.node().innerHTML}function Vee(){this.nextSibling&&this.parentNode.appendChild(this)}function Yee(){return this.each(Vee)}function Gee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Xee(){return this.each(Gee)}function Kee(t){var e=typeof t=="function"?t:rN(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Zee(){return null}function Qee(t,e){var i=typeof t=="function"?t:rN(t),s=e==null?Zee:typeof e=="function"?e:OT(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function Jee(){var t=this.parentNode;t&&t.removeChild(this)}function ete(){return this.each(Jee)}function tte(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ite(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rte(t){return this.select(t?ite:tte)}function ste(t){return arguments.length?this.property("__data__",t):this.node().__data__}function nte(t){return function(e){t.call(this,e,this.__data__)}}function ate(t){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");return s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),{type:e,name:i}})}function ote(t){return function(){var e=this.__on;if(e){for(var i=0,s=-1,n=e.length,l;i<n;++i)l=e[i],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++s]=l;++s?e.length=s:delete this.__on}}}function lte(t,e,i){return function(){var s=this.__on,n,l=nte(e);if(s){for(var a=0,h=s.length;a<h;++a)if((n=s[a]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=l,n.options=i),n.value=e;return}}this.addEventListener(t.type,l,i),n={type:t.type,name:t.name,value:e,listener:l,options:i},s?s.push(n):this.__on=[n]}}function cte(t,e,i){var s=ate(t+""),n,l=s.length,a;if(arguments.length<2){var h=this.node().__on;if(h){for(var d=0,m=h.length,y;d<m;++d)for(n=0,y=h[d];n<l;++n)if((a=s[n]).type===y.type&&a.name===y.name)return y.value}return}for(h=e?lte:ote,n=0;n<l;++n)this.each(h(s[n],e,i));return this}function fN(t,e,i){var s=lN(t),n=s.CustomEvent;typeof n=="function"?n=new n(e,i):(n=s.document.createEvent("Event"),i?(n.initEvent(e,i.bubbles,i.cancelable),n.detail=i.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function hte(t,e){return function(){return fN(this,t,e)}}function ute(t,e){return function(){return fN(this,t,e.apply(this,arguments))}}function dte(t,e){return this.each((typeof e=="function"?ute:hte)(t,e))}function*fte(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],n=0,l=s.length,a;n<l;++n)(a=s[n])&&(yield a)}var pN=[null];function Ma(t,e){this._groups=t,this._parents=e}function eg(){return new Ma([[document.documentElement]],pN)}function pte(){return this}Ma.prototype=eg.prototype={constructor:Ma,select:UJ,selectAll:qJ,selectChild:GJ,selectChildren:QJ,filter:JJ,data:nee,enter:eee,exit:oee,join:lee,merge:cee,selection:pte,order:hee,sort:uee,call:fee,nodes:pee,node:mee,size:gee,empty:yee,each:vee,attr:Tee,style:Mee,property:Lee,classed:Bee,text:Hee,html:$ee,raise:Yee,lower:Xee,append:Kee,insert:Qee,remove:ete,clone:rte,datum:ste,on:cte,dispatch:dte,[Symbol.iterator]:fte};function gr(t){return typeof t=="string"?new Ma([[document.querySelector(t)]],[document.documentElement]):new Ma([[t]],pN)}function AT(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function mN(t,e){var i=Object.create(t.prototype);for(var s in e)i[s]=e[s];return i}function tg(){}var Pm=.7,ib=1/Pm,ud="\\s*([+-]?\\d+)\\s*",Dm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",mte=/^#([0-9a-f]{3,8})$/,gte=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),yte=new RegExp(`^rgb\\(${Vo},${Vo},${Vo}\\)$`),vte=new RegExp(`^rgba\\(${ud},${ud},${ud},${Dm}\\)$`),bte=new RegExp(`^rgba\\(${Vo},${Vo},${Vo},${Dm}\\)$`),_te=new RegExp(`^hsl\\(${Dm},${Vo},${Vo}\\)$`),wte=new RegExp(`^hsla\\(${Dm},${Vo},${Vo},${Dm}\\)$`),kR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AT(tg,Lm,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:SR,formatHex:SR,formatHex8:xte,formatHsl:kte,formatRgb:TR,toString:TR});function SR(){return this.rgb().formatHex()}function xte(){return this.rgb().formatHex8()}function kte(){return gN(this).formatHsl()}function TR(){return this.rgb().formatRgb()}function Lm(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=mte.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?CR(e):i===3?new aa(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Yy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Yy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=gte.exec(t))?new aa(e[1],e[2],e[3],1):(e=yte.exec(t))?new aa(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=vte.exec(t))?Yy(e[1],e[2],e[3],e[4]):(e=bte.exec(t))?Yy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=_te.exec(t))?MR(e[1],e[2]/100,e[3]/100,1):(e=wte.exec(t))?MR(e[1],e[2]/100,e[3]/100,e[4]):kR.hasOwnProperty(t)?CR(kR[t]):t==="transparent"?new aa(NaN,NaN,NaN,0):null}function CR(t){return new aa(t>>16&255,t>>8&255,t&255,1)}function Yy(t,e,i,s){return s<=0&&(t=e=i=NaN),new aa(t,e,i,s)}function Ste(t){return t instanceof tg||(t=Lm(t)),t?(t=t.rgb(),new aa(t.r,t.g,t.b,t.opacity)):new aa}function Wk(t,e,i,s){return arguments.length===1?Ste(t):new aa(t,e,i,s??1)}function aa(t,e,i,s){this.r=+t,this.g=+e,this.b=+i,this.opacity=+s}AT(aa,Wk,mN(tg,{brighter(t){return t=t==null?ib:Math.pow(ib,t),new aa(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Pm:Math.pow(Pm,t),new aa(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new aa(Kh(this.r),Kh(this.g),Kh(this.b),rb(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ER,formatHex:ER,formatHex8:Tte,formatRgb:OR,toString:OR}));function ER(){return`#${jh(this.r)}${jh(this.g)}${jh(this.b)}`}function Tte(){return`#${jh(this.r)}${jh(this.g)}${jh(this.b)}${jh((isNaN(this.opacity)?1:this.opacity)*255)}`}function OR(){const t=rb(this.opacity);return`${t===1?"rgb(":"rgba("}${Kh(this.r)}, ${Kh(this.g)}, ${Kh(this.b)}${t===1?")":`, ${t})`}`}function rb(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jh(t){return t=Kh(t),(t<16?"0":"")+t.toString(16)}function MR(t,e,i,s){return s<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new po(t,e,i,s)}function gN(t){if(t instanceof po)return new po(t.h,t.s,t.l,t.opacity);if(t instanceof tg||(t=Lm(t)),!t)return new po;if(t instanceof po)return t;t=t.rgb();var e=t.r/255,i=t.g/255,s=t.b/255,n=Math.min(e,i,s),l=Math.max(e,i,s),a=NaN,h=l-n,d=(l+n)/2;return h?(e===l?a=(i-s)/h+(i<s)*6:i===l?a=(s-e)/h+2:a=(e-i)/h+4,h/=d<.5?l+n:2-l-n,a*=60):h=d>0&&d<1?0:a,new po(a,h,d,t.opacity)}function Cte(t,e,i,s){return arguments.length===1?gN(t):new po(t,e,i,s??1)}function po(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}AT(po,Cte,mN(tg,{brighter(t){return t=t==null?ib:Math.pow(ib,t),new po(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Pm:Math.pow(Pm,t),new po(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*e,n=2*i-s;return new aa(Fx(t>=240?t-240:t+120,n,s),Fx(t,n,s),Fx(t<120?t+240:t-120,n,s),this.opacity)},clamp(){return new po(AR(this.h),Gy(this.s),Gy(this.l),rb(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rb(this.opacity);return`${t===1?"hsl(":"hsla("}${AR(this.h)}, ${Gy(this.s)*100}%, ${Gy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function AR(t){return t=(t||0)%360,t<0?t+360:t}function Gy(t){return Math.max(0,Math.min(1,t||0))}function Fx(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const PT=t=>()=>t;function yN(t,e){return function(i){return t+i*e}}function Ete(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(s){return Math.pow(t+s*e,i)}}function Mde(t,e){var i=e-t;return i?yN(t,i>180||i<-180?i-360*Math.round(i/360):i):PT(isNaN(t)?e:t)}function Ote(t){return(t=+t)==1?vN:function(e,i){return i-e?Ete(e,i,t):PT(isNaN(e)?i:e)}}function vN(t,e){var i=e-t;return i?yN(t,i):PT(isNaN(t)?e:t)}const PR=function t(e){var i=Ote(e);function s(n,l){var a=i((n=Wk(n)).r,(l=Wk(l)).r),h=i(n.g,l.g),d=i(n.b,l.b),m=vN(n.opacity,l.opacity);return function(y){return n.r=a(y),n.g=h(y),n.b=d(y),n.opacity=m(y),n+""}}return s.gamma=t,s}(1);function gc(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var jk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ix=new RegExp(jk.source,"g");function Mte(t){return function(){return t}}function Ate(t){return function(e){return t(e)+""}}function Pte(t,e){var i=jk.lastIndex=Ix.lastIndex=0,s,n,l,a=-1,h=[],d=[];for(t=t+"",e=e+"";(s=jk.exec(t))&&(n=Ix.exec(e));)(l=n.index)>i&&(l=e.slice(i,l),h[a]?h[a]+=l:h[++a]=l),(s=s[0])===(n=n[0])?h[a]?h[a]+=n:h[++a]=n:(h[++a]=null,d.push({i:a,x:gc(s,n)})),i=Ix.lastIndex;return i<e.length&&(l=e.slice(i),h[a]?h[a]+=l:h[++a]=l),h.length<2?d[0]?Ate(d[0].x):Mte(e):(e=d.length,function(m){for(var y=0,b;y<e;++y)h[(b=d[y]).i]=b.x(m);return h.join("")})}var DR=180/Math.PI,qk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function bN(t,e,i,s,n,l){var a,h,d;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(d=t*i+e*s)&&(i-=t*d,s-=e*d),(h=Math.sqrt(i*i+s*s))&&(i/=h,s/=h,d/=h),t*s<e*i&&(t=-t,e=-e,d=-d,a=-a),{translateX:n,translateY:l,rotate:Math.atan2(e,t)*DR,skewX:Math.atan(d)*DR,scaleX:a,scaleY:h}}var Xy;function Dte(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qk:bN(e.a,e.b,e.c,e.d,e.e,e.f)}function Lte(t){return t==null||(Xy||(Xy=document.createElementNS("http://www.w3.org/2000/svg","g")),Xy.setAttribute("transform",t),!(t=Xy.transform.baseVal.consolidate()))?qk:(t=t.matrix,bN(t.a,t.b,t.c,t.d,t.e,t.f))}function _N(t,e,i,s){function n(m){return m.length?m.pop()+" ":""}function l(m,y,b,k,x,E){if(m!==b||y!==k){var O=x.push("translate(",null,e,null,i);E.push({i:O-4,x:gc(m,b)},{i:O-2,x:gc(y,k)})}else(b||k)&&x.push("translate("+b+e+k+i)}function a(m,y,b,k){m!==y?(m-y>180?y+=360:y-m>180&&(m+=360),k.push({i:b.push(n(b)+"rotate(",null,s)-2,x:gc(m,y)})):y&&b.push(n(b)+"rotate("+y+s)}function h(m,y,b,k){m!==y?k.push({i:b.push(n(b)+"skewX(",null,s)-2,x:gc(m,y)}):y&&b.push(n(b)+"skewX("+y+s)}function d(m,y,b,k,x,E){if(m!==b||y!==k){var O=x.push(n(x)+"scale(",null,",",null,")");E.push({i:O-4,x:gc(m,b)},{i:O-2,x:gc(y,k)})}else(b!==1||k!==1)&&x.push(n(x)+"scale("+b+","+k+")")}return function(m,y){var b=[],k=[];return m=t(m),y=t(y),l(m.translateX,m.translateY,y.translateX,y.translateY,b,k),a(m.rotate,y.rotate,b,k),h(m.skewX,y.skewX,b,k),d(m.scaleX,m.scaleY,y.scaleX,y.scaleY,b,k),m=y=null,function(x){for(var E=-1,O=k.length,L;++E<O;)b[(L=k[E]).i]=L.x(x);return b.join("")}}}var Rte=_N(Dte,"px, ","px)","deg)"),Fte=_N(Lte,", ",")",")"),zd=0,Vp=0,Dp=0,wN=1e3,sb,Yp,nb=0,su=0,i0=0,Rm=typeof performance=="object"&&performance.now?performance:Date,xN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function DT(){return su||(xN(Ite),su=Rm.now()+i0)}function Ite(){su=0}function ab(){this._call=this._time=this._next=null}ab.prototype=kN.prototype={constructor:ab,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?DT():+i)+(e==null?0:+e),!this._next&&Yp!==this&&(Yp?Yp._next=this:sb=this,Yp=this),this._call=t,this._time=i,$k()},stop:function(){this._call&&(this._call=null,this._time=1/0,$k())}};function kN(t,e,i){var s=new ab;return s.restart(t,e,i),s}function Bte(){DT(),++zd;for(var t=sb,e;t;)(e=su-t._time)>=0&&t._call.call(void 0,e),t=t._next;--zd}function LR(){su=(nb=Rm.now())+i0,zd=Vp=0;try{Bte()}finally{zd=0,zte(),su=0}}function Nte(){var t=Rm.now(),e=t-nb;e>wN&&(i0-=e,nb=t)}function zte(){for(var t,e=sb,i,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:sb=i);Yp=t,$k(s)}function $k(t){if(!zd){Vp&&(Vp=clearTimeout(Vp));var e=t-su;e>24?(t<1/0&&(Vp=setTimeout(LR,t-Rm.now()-i0)),Dp&&(Dp=clearInterval(Dp))):(Dp||(nb=Rm.now(),Dp=setInterval(Nte,wN)),zd=1,xN(LR))}}function RR(t,e,i){var s=new ab;return e=e==null?0:+e,s.restart(n=>{s.stop(),t(n+e)},e,i),s}var Ute=iN("start","end","cancel","interrupt"),Hte=[],SN=0,FR=1,Vk=2,vv=3,IR=4,Yk=5,bv=6;function r0(t,e,i,s,n,l){var a=t.__transition;if(!a)t.__transition={};else if(i in a)return;Wte(t,i,{name:e,index:s,group:n,on:Ute,tween:Hte,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:SN})}function LT(t,e){var i=So(t,e);if(i.state>SN)throw new Error("too late; already scheduled");return i}function il(t,e){var i=So(t,e);if(i.state>vv)throw new Error("too late; already running");return i}function So(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function Wte(t,e,i){var s=t.__transition,n;s[e]=i,i.timer=kN(l,0,i.time);function l(m){i.state=FR,i.timer.restart(a,i.delay,i.time),i.delay<=m&&a(m-i.delay)}function a(m){var y,b,k,x;if(i.state!==FR)return d();for(y in s)if(x=s[y],x.name===i.name){if(x.state===vv)return RR(a);x.state===IR?(x.state=bv,x.timer.stop(),x.on.call("interrupt",t,t.__data__,x.index,x.group),delete s[y]):+y<e&&(x.state=bv,x.timer.stop(),x.on.call("cancel",t,t.__data__,x.index,x.group),delete s[y])}if(RR(function(){i.state===vv&&(i.state=IR,i.timer.restart(h,i.delay,i.time),h(m))}),i.state=Vk,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Vk){for(i.state=vv,n=new Array(k=i.tween.length),y=0,b=-1;y<k;++y)(x=i.tween[y].value.call(t,t.__data__,i.index,i.group))&&(n[++b]=x);n.length=b+1}}function h(m){for(var y=m<i.duration?i.ease.call(null,m/i.duration):(i.timer.restart(d),i.state=Yk,1),b=-1,k=n.length;++b<k;)n[b].call(t,y);i.state===Yk&&(i.on.call("end",t,t.__data__,i.index,i.group),d())}function d(){i.state=bv,i.timer.stop(),delete s[e];for(var m in s)return;delete t.__transition}}function jte(t,e){var i=t.__transition,s,n,l=!0,a;if(i){e=e==null?null:e+"";for(a in i){if((s=i[a]).name!==e){l=!1;continue}n=s.state>Vk&&s.state<Yk,s.state=bv,s.timer.stop(),s.on.call(n?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[a]}l&&delete t.__transition}}function qte(t){return this.each(function(){jte(this,t)})}function $te(t,e){var i,s;return function(){var n=il(this,t),l=n.tween;if(l!==i){s=i=l;for(var a=0,h=s.length;a<h;++a)if(s[a].name===e){s=s.slice(),s.splice(a,1);break}}n.tween=s}}function Vte(t,e,i){var s,n;if(typeof i!="function")throw new Error;return function(){var l=il(this,t),a=l.tween;if(a!==s){n=(s=a).slice();for(var h={name:e,value:i},d=0,m=n.length;d<m;++d)if(n[d].name===e){n[d]=h;break}d===m&&n.push(h)}l.tween=n}}function Yte(t,e){var i=this._id;if(t+="",arguments.length<2){for(var s=So(this.node(),i).tween,n=0,l=s.length,a;n<l;++n)if((a=s[n]).name===t)return a.value;return null}return this.each((e==null?$te:Vte)(i,t,e))}function RT(t,e,i){var s=t._id;return t.each(function(){var n=il(this,s);(n.value||(n.value={}))[e]=i.apply(this,arguments)}),function(n){return So(n,s).value[e]}}function TN(t,e){var i;return(typeof e=="number"?gc:e instanceof Lm?PR:(i=Lm(e))?(e=i,PR):Pte)(t,e)}function Gte(t){return function(){this.removeAttribute(t)}}function Xte(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kte(t,e,i){var s,n=i+"",l;return function(){var a=this.getAttribute(t);return a===n?null:a===s?l:l=e(s=a,i)}}function Zte(t,e,i){var s,n=i+"",l;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===s?l:l=e(s=a,i)}}function Qte(t,e,i){var s,n,l;return function(){var a,h=i(this),d;return h==null?void this.removeAttribute(t):(a=this.getAttribute(t),d=h+"",a===d?null:a===s&&d===n?l:(n=d,l=e(s=a,h)))}}function Jte(t,e,i){var s,n,l;return function(){var a,h=i(this),d;return h==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),d=h+"",a===d?null:a===s&&d===n?l:(n=d,l=e(s=a,h)))}}function eie(t,e){var i=t0(t),s=i==="transform"?Fte:TN;return this.attrTween(t,typeof e=="function"?(i.local?Jte:Qte)(i,s,RT(this,"attr."+t,e)):e==null?(i.local?Xte:Gte)(i):(i.local?Zte:Kte)(i,s,e))}function tie(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function iie(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function rie(t,e){var i,s;function n(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&iie(t,l)),i}return n._value=e,n}function sie(t,e){var i,s;function n(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&tie(t,l)),i}return n._value=e,n}function nie(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var s=t0(t);return this.tween(i,(s.local?rie:sie)(s,e))}function aie(t,e){return function(){LT(this,t).delay=+e.apply(this,arguments)}}function oie(t,e){return e=+e,function(){LT(this,t).delay=e}}function lie(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?aie:oie)(e,t)):So(this.node(),e).delay}function cie(t,e){return function(){il(this,t).duration=+e.apply(this,arguments)}}function hie(t,e){return e=+e,function(){il(this,t).duration=e}}function uie(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?cie:hie)(e,t)):So(this.node(),e).duration}function die(t,e){if(typeof e!="function")throw new Error;return function(){il(this,t).ease=e}}function fie(t){var e=this._id;return arguments.length?this.each(die(e,t)):So(this.node(),e).ease}function pie(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;il(this,t).ease=i}}function mie(t){if(typeof t!="function")throw new Error;return this.each(pie(this._id,t))}function gie(t){typeof t!="function"&&(t=nN(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var l=e[n],a=l.length,h=s[n]=[],d,m=0;m<a;++m)(d=l[m])&&t.call(d,d.__data__,m,l)&&h.push(d);return new Yl(s,this._parents,this._name,this._id)}function yie(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,s=e.length,n=i.length,l=Math.min(s,n),a=new Array(s),h=0;h<l;++h)for(var d=e[h],m=i[h],y=d.length,b=a[h]=new Array(y),k,x=0;x<y;++x)(k=d[x]||m[x])&&(b[x]=k);for(;h<s;++h)a[h]=e[h];return new Yl(a,this._parents,this._name,this._id)}function vie(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function bie(t,e,i){var s,n,l=vie(e)?LT:il;return function(){var a=l(this,t),h=a.on;h!==s&&(n=(s=h).copy()).on(e,i),a.on=n}}function _ie(t,e){var i=this._id;return arguments.length<2?So(this.node(),i).on.on(t):this.each(bie(i,t,e))}function wie(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function xie(){return this.on("end.remove",wie(this._id))}function kie(t){var e=this._name,i=this._id;typeof t!="function"&&(t=OT(t));for(var s=this._groups,n=s.length,l=new Array(n),a=0;a<n;++a)for(var h=s[a],d=h.length,m=l[a]=new Array(d),y,b,k=0;k<d;++k)(y=h[k])&&(b=t.call(y,y.__data__,k,h))&&("__data__"in y&&(b.__data__=y.__data__),m[k]=b,r0(m[k],e,i,k,m,So(y,i)));return new Yl(l,this._parents,e,i)}function Sie(t){var e=this._name,i=this._id;typeof t!="function"&&(t=sN(t));for(var s=this._groups,n=s.length,l=[],a=[],h=0;h<n;++h)for(var d=s[h],m=d.length,y,b=0;b<m;++b)if(y=d[b]){for(var k=t.call(y,y.__data__,b,d),x,E=So(y,i),O=0,L=k.length;O<L;++O)(x=k[O])&&r0(x,e,i,O,k,E);l.push(k),a.push(y)}return new Yl(l,a,e,i)}var Tie=eg.prototype.constructor;function Cie(){return new Tie(this._groups,this._parents)}function Eie(t,e){var i,s,n;return function(){var l=Nd(this,t),a=(this.style.removeProperty(t),Nd(this,t));return l===a?null:l===i&&a===s?n:n=e(i=l,s=a)}}function CN(t){return function(){this.style.removeProperty(t)}}function Oie(t,e,i){var s,n=i+"",l;return function(){var a=Nd(this,t);return a===n?null:a===s?l:l=e(s=a,i)}}function Mie(t,e,i){var s,n,l;return function(){var a=Nd(this,t),h=i(this),d=h+"";return h==null&&(d=h=(this.style.removeProperty(t),Nd(this,t))),a===d?null:a===s&&d===n?l:(n=d,l=e(s=a,h))}}function Aie(t,e){var i,s,n,l="style."+e,a="end."+l,h;return function(){var d=il(this,t),m=d.on,y=d.value[l]==null?h||(h=CN(e)):void 0;(m!==i||n!==y)&&(s=(i=m).copy()).on(a,n=y),d.on=s}}function Pie(t,e,i){var s=(t+="")=="transform"?Rte:TN;return e==null?this.styleTween(t,Eie(t,s)).on("end.style."+t,CN(t)):typeof e=="function"?this.styleTween(t,Mie(t,s,RT(this,"style."+t,e))).each(Aie(this._id,t)):this.styleTween(t,Oie(t,s,e),i).on("end.style."+t,null)}function Die(t,e,i){return function(s){this.style.setProperty(t,e.call(this,s),i)}}function Lie(t,e,i){var s,n;function l(){var a=e.apply(this,arguments);return a!==n&&(s=(n=a)&&Die(t,a,i)),s}return l._value=e,l}function Rie(t,e,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;return this.tween(s,Lie(t,e,i??""))}function Fie(t){return function(){this.textContent=t}}function Iie(t){return function(){var e=t(this);this.textContent=e??""}}function Bie(t){return this.tween("text",typeof t=="function"?Iie(RT(this,"text",t)):Fie(t==null?"":t+""))}function Nie(t){return function(e){this.textContent=t.call(this,e)}}function zie(t){var e,i;function s(){var n=t.apply(this,arguments);return n!==i&&(e=(i=n)&&Nie(n)),e}return s._value=t,s}function Uie(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,zie(t))}function Hie(){for(var t=this._name,e=this._id,i=EN(),s=this._groups,n=s.length,l=0;l<n;++l)for(var a=s[l],h=a.length,d,m=0;m<h;++m)if(d=a[m]){var y=So(d,e);r0(d,t,i,m,a,{time:y.time+y.delay+y.duration,delay:0,duration:y.duration,ease:y.ease})}return new Yl(s,this._parents,t,i)}function Wie(){var t,e,i=this,s=i._id,n=i.size();return new Promise(function(l,a){var h={value:a},d={value:function(){--n===0&&l()}};i.each(function(){var m=il(this,s),y=m.on;y!==t&&(e=(t=y).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(d)),m.on=e}),n===0&&l()})}var jie=0;function Yl(t,e,i,s){this._groups=t,this._parents=e,this._name=i,this._id=s}function EN(){return++jie}var Al=eg.prototype;Yl.prototype={constructor:Yl,select:kie,selectAll:Sie,selectChild:Al.selectChild,selectChildren:Al.selectChildren,filter:gie,merge:yie,selection:Cie,transition:Hie,call:Al.call,nodes:Al.nodes,node:Al.node,size:Al.size,empty:Al.empty,each:Al.each,on:_ie,attr:eie,attrTween:nie,style:Pie,styleTween:Rie,text:Bie,textTween:Uie,remove:xie,tween:Yte,delay:lie,duration:uie,ease:fie,easeVarying:mie,end:Wie,[Symbol.iterator]:Al[Symbol.iterator]};function qie(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var $ie={time:null,delay:0,duration:250,ease:qie};function Vie(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function Yie(t){var e,i;t instanceof Yl?(e=t._id,t=t._name):(e=EN(),(i=$ie).time=DT(),t=t==null?null:t+"");for(var s=this._groups,n=s.length,l=0;l<n;++l)for(var a=s[l],h=a.length,d,m=0;m<h;++m)(d=a[m])&&r0(d,t,e,m,a,i||Vie(d,e));return new Yl(s,this._parents,t,e)}eg.prototype.interrupt=qte;eg.prototype.transition=Yie;const Gk=Math.PI,Xk=2*Gk,Lh=1e-6,Gie=Xk-Lh;function ON(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function Xie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ON;const i=10**e;return function(s){this._+=s[0];for(let n=1,l=s.length;n<l;++n)this._+=Math.round(arguments[n]*i)/i+s[n]}}class Kie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ON:Xie(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,s,n){this._append`Q${+e},${+i},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(e,i,s,n,l,a){this._append`C${+e},${+i},${+s},${+n},${this._x1=+l},${this._y1=+a}`}arcTo(e,i,s,n,l){if(e=+e,i=+i,s=+s,n=+n,l=+l,l<0)throw new Error(`negative radius: ${l}`);let a=this._x1,h=this._y1,d=s-e,m=n-i,y=a-e,b=h-i,k=y*y+b*b;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(k>Lh)if(!(Math.abs(b*d-m*y)>Lh)||!l)this._append`L${this._x1=e},${this._y1=i}`;else{let x=s-a,E=n-h,O=d*d+m*m,L=x*x+E*E,D=Math.sqrt(O),u=Math.sqrt(k),T=l*Math.tan((Gk-Math.acos((O+k-L)/(2*D*u)))/2),g=T/u,S=T/D;Math.abs(g-1)>Lh&&this._append`L${e+g*y},${i+g*b}`,this._append`A${l},${l},0,0,${+(b*x>y*E)},${this._x1=e+S*d},${this._y1=i+S*m}`}}arc(e,i,s,n,l,a){if(e=+e,i=+i,s=+s,a=!!a,s<0)throw new Error(`negative radius: ${s}`);let h=s*Math.cos(n),d=s*Math.sin(n),m=e+h,y=i+d,b=1^a,k=a?n-l:l-n;this._x1===null?this._append`M${m},${y}`:(Math.abs(this._x1-m)>Lh||Math.abs(this._y1-y)>Lh)&&this._append`L${m},${y}`,s&&(k<0&&(k=k%Xk+Xk),k>Gie?this._append`A${s},${s},0,1,${b},${e-h},${i-d}A${s},${s},0,1,${b},${this._x1=m},${this._y1=y}`:k>Lh&&this._append`A${s},${s},0,${+(k>=Gk)},${b},${this._x1=e+s*Math.cos(l)},${this._y1=i+s*Math.sin(l)}`)}rect(e,i,s,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function $u(t){return function(){return t}}const Ade=Math.abs,Pde=Math.atan2,Dde=Math.cos,Lde=Math.max,Rde=Math.min,Fde=Math.sin,Ide=Math.sqrt,BR=1e-12,FT=Math.PI,NR=FT/2,Bde=2*FT;function Nde(t){return t>1?0:t<-1?FT:Math.acos(t)}function zde(t){return t>=1?NR:t<=-1?-NR:Math.asin(t)}function Zie(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const s=Math.floor(i);if(!(s>=0))throw new RangeError(`invalid digits: ${i}`);e=s}return t},()=>new Kie(e)}function Qie(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function MN(t){this._context=t}MN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ob(t){return new MN(t)}function Jie(t){return t[0]}function ere(t){return t[1]}function tre(t,e){var i=$u(!0),s=null,n=ob,l=null,a=Zie(h);t=typeof t=="function"?t:t===void 0?Jie:$u(t),e=typeof e=="function"?e:e===void 0?ere:$u(e);function h(d){var m,y=(d=Qie(d)).length,b,k=!1,x;for(s==null&&(l=n(x=a())),m=0;m<=y;++m)!(m<y&&i(b=d[m],m,d))===k&&((k=!k)?l.lineStart():l.lineEnd()),k&&l.point(+t(b,m,d),+e(b,m,d));if(x)return l=null,x+""||null}return h.x=function(d){return arguments.length?(t=typeof d=="function"?d:$u(+d),h):t},h.y=function(d){return arguments.length?(e=typeof d=="function"?d:$u(+d),h):e},h.defined=function(d){return arguments.length?(i=typeof d=="function"?d:$u(!!d),h):i},h.curve=function(d){return arguments.length?(n=d,s!=null&&(l=n(s)),h):n},h.context=function(d){return arguments.length?(d==null?s=l=null:l=n(s=d),h):s},h}class AN{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function PN(t){return new AN(t,!0)}function DN(t){return new AN(t,!1)}function Ec(){}function lb(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function s0(t){this._context=t}s0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:lb(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _v(t){return new s0(t)}function LN(t){this._context=t}LN.prototype={areaStart:Ec,areaEnd:Ec,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ire(t){return new LN(t)}function RN(t){this._context=t}RN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 3:this._point=4;default:lb(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rre(t){return new RN(t)}function FN(t,e){this._basis=new s0(t),this._beta=e}FN.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var s=t[0],n=e[0],l=t[i]-s,a=e[i]-n,h=-1,d;++h<=i;)d=h/i,this._basis.point(this._beta*t[h]+(1-this._beta)*(s+d*l),this._beta*e[h]+(1-this._beta)*(n+d*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const sre=function t(e){function i(s){return e===1?new s0(s):new FN(s,e)}return i.beta=function(s){return t(+s)},i}(.85);function cb(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function IT(t,e){this._context=t,this._k=(1-e)/6}IT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cb(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:cb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const IN=function t(e){function i(s){return new IT(s,e)}return i.tension=function(s){return t(+s)},i}(0);function BT(t,e){this._context=t,this._k=(1-e)/6}BT.prototype={areaStart:Ec,areaEnd:Ec,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:cb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const nre=function t(e){function i(s){return new BT(s,e)}return i.tension=function(s){return t(+s)},i}(0);function NT(t,e){this._context=t,this._k=(1-e)/6}NT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cb(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const are=function t(e){function i(s){return new NT(s,e)}return i.tension=function(s){return t(+s)},i}(0);function zT(t,e,i){var s=t._x1,n=t._y1,l=t._x2,a=t._y2;if(t._l01_a>BR){var h=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,d=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*h-t._x0*t._l12_2a+t._x2*t._l01_2a)/d,n=(n*h-t._y0*t._l12_2a+t._y2*t._l01_2a)/d}if(t._l23_a>BR){var m=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,y=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*m+t._x1*t._l23_2a-e*t._l12_2a)/y,a=(a*m+t._y1*t._l23_2a-i*t._l12_2a)/y}t._context.bezierCurveTo(s,n,l,a,t._x2,t._y2)}function BN(t,e){this._context=t,this._alpha=e}BN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:zT(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const NN=function t(e){function i(s){return e?new BN(s,e):new IT(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function zN(t,e){this._context=t,this._alpha=e}zN.prototype={areaStart:Ec,areaEnd:Ec,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:zT(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const ore=function t(e){function i(s){return e?new zN(s,e):new BT(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function UN(t,e){this._context=t,this._alpha=e}UN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:zT(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const lre=function t(e){function i(s){return e?new UN(s,e):new NT(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function HN(t){this._context=t}HN.prototype={areaStart:Ec,areaEnd:Ec,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function cre(t){return new HN(t)}function zR(t){return t<0?-1:1}function UR(t,e,i){var s=t._x1-t._x0,n=e-t._x1,l=(t._y1-t._y0)/(s||n<0&&-0),a=(i-t._y1)/(n||s<0&&-0),h=(l*n+a*s)/(s+n);return(zR(l)+zR(a))*Math.min(Math.abs(l),Math.abs(a),.5*Math.abs(h))||0}function HR(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function Bx(t,e,i){var s=t._x0,n=t._y0,l=t._x1,a=t._y1,h=(l-s)/3;t._context.bezierCurveTo(s+h,n+h*e,l-h,a-h*i,l,a)}function hb(t){this._context=t}hb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bx(this,this._t0,HR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Bx(this,HR(this,i=UR(this,t,e)),i);break;default:Bx(this,this._t0,i=UR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function WN(t){this._context=new jN(t)}(WN.prototype=Object.create(hb.prototype)).point=function(t,e){hb.prototype.point.call(this,e,t)};function jN(t){this._context=t}jN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,s,n,l){this._context.bezierCurveTo(e,t,s,i,l,n)}};function qN(t){return new hb(t)}function $N(t){return new WN(t)}function VN(t){this._context=t}VN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var s=WR(t),n=WR(e),l=0,a=1;a<i;++l,++a)this._context.bezierCurveTo(s[0][l],n[0][l],s[1][l],n[1][l],t[a],e[a]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WR(t){var e,i=t.length-1,s,n=new Array(i),l=new Array(i),a=new Array(i);for(n[0]=0,l[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,l[e]=4,a[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,l[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s=n[e]/l[e-1],l[e]-=s,a[e]-=s*a[e-1];for(n[i-1]=a[i-1]/l[i-1],e=i-2;e>=0;--e)n[e]=(a[e]-n[e+1])/l[e];for(l[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)l[e]=2*t[e+1]-n[e+1];return[n,l]}function YN(t){return new VN(t)}function n0(t,e){this._context=t,this._t=e}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function GN(t){return new n0(t,.5)}function XN(t){return new n0(t,0)}function KN(t){return new n0(t,1)}function Gp(t,e,i){this.k=t,this.x=e,this.y=i}Gp.prototype={constructor:Gp,scale:function(t){return t===1?this:new Gp(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Gp(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gp.prototype;var ZN=typeof global=="object"&&global&&global.Object===Object&&global,hre=typeof self=="object"&&self&&self.Object===Object&&self,rl=ZN||hre||Function("return this")(),ub=rl.Symbol,QN=Object.prototype,ure=QN.hasOwnProperty,dre=QN.toString,Lp=ub?ub.toStringTag:void 0;function fre(t){var e=ure.call(t,Lp),i=t[Lp];try{t[Lp]=void 0;var s=!0}catch{}var n=dre.call(t);return s&&(e?t[Lp]=i:delete t[Lp]),n}var pre=Object.prototype,mre=pre.toString;function gre(t){return mre.call(t)}var yre="[object Null]",vre="[object Undefined]",jR=ub?ub.toStringTag:void 0;function Kd(t){return t==null?t===void 0?vre:yre:jR&&jR in Object(t)?fre(t):gre(t)}function uu(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var bre="[object AsyncFunction]",_re="[object Function]",wre="[object GeneratorFunction]",xre="[object Proxy]";function UT(t){if(!uu(t))return!1;var e=Kd(t);return e==_re||e==wre||e==bre||e==xre}var Nx=rl["__core-js_shared__"],qR=function(){var t=/[^.]+$/.exec(Nx&&Nx.keys&&Nx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function kre(t){return!!qR&&qR in t}var Sre=Function.prototype,Tre=Sre.toString;function du(t){if(t!=null){try{return Tre.call(t)}catch{}try{return t+""}catch{}}return""}var Cre=/[\\^$.*+?()[\]{}|]/g,Ere=/^\[object .+?Constructor\]$/,Ore=Function.prototype,Mre=Object.prototype,Are=Ore.toString,Pre=Mre.hasOwnProperty,Dre=RegExp("^"+Are.call(Pre).replace(Cre,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Lre(t){if(!uu(t)||kre(t))return!1;var e=UT(t)?Dre:Ere;return e.test(du(t))}function Rre(t,e){return t==null?void 0:t[e]}function fu(t,e){var i=Rre(t,e);return Lre(i)?i:void 0}var Fm=fu(Object,"create");function Fre(){this.__data__=Fm?Fm(null):{},this.size=0}function Ire(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Bre="__lodash_hash_undefined__",Nre=Object.prototype,zre=Nre.hasOwnProperty;function Ure(t){var e=this.__data__;if(Fm){var i=e[t];return i===Bre?void 0:i}return zre.call(e,t)?e[t]:void 0}var Hre=Object.prototype,Wre=Hre.hasOwnProperty;function jre(t){var e=this.__data__;return Fm?e[t]!==void 0:Wre.call(e,t)}var qre="__lodash_hash_undefined__";function $re(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Fm&&e===void 0?qre:e,this}function nu(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}nu.prototype.clear=Fre;nu.prototype.delete=Ire;nu.prototype.get=Ure;nu.prototype.has=jre;nu.prototype.set=$re;function Vre(){this.__data__=[],this.size=0}function a0(t,e){return t===e||t!==t&&e!==e}function o0(t,e){for(var i=t.length;i--;)if(a0(t[i][0],e))return i;return-1}var Yre=Array.prototype,Gre=Yre.splice;function Xre(t){var e=this.__data__,i=o0(e,t);if(i<0)return!1;var s=e.length-1;return i==s?e.pop():Gre.call(e,i,1),--this.size,!0}function Kre(t){var e=this.__data__,i=o0(e,t);return i<0?void 0:e[i][1]}function Zre(t){return o0(this.__data__,t)>-1}function Qre(t,e){var i=this.__data__,s=o0(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this}function ic(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}ic.prototype.clear=Vre;ic.prototype.delete=Xre;ic.prototype.get=Kre;ic.prototype.has=Zre;ic.prototype.set=Qre;var Im=fu(rl,"Map");function Jre(){this.size=0,this.__data__={hash:new nu,map:new(Im||ic),string:new nu}}function ese(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function l0(t,e){var i=t.__data__;return ese(e)?i[typeof e=="string"?"string":"hash"]:i.map}function tse(t){var e=l0(this,t).delete(t);return this.size-=e?1:0,e}function ise(t){return l0(this,t).get(t)}function rse(t){return l0(this,t).has(t)}function sse(t,e){var i=l0(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this}function Lc(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}Lc.prototype.clear=Jre;Lc.prototype.delete=tse;Lc.prototype.get=ise;Lc.prototype.has=rse;Lc.prototype.set=sse;var nse="Expected a function";function ig(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(nse);var i=function(){var s=arguments,n=e?e.apply(this,s):s[0],l=i.cache;if(l.has(n))return l.get(n);var a=t.apply(this,s);return i.cache=l.set(n,a)||l,a};return i.cache=new(ig.Cache||Lc),i}ig.Cache=Lc;function ase(){this.__data__=new ic,this.size=0}function ose(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function lse(t){return this.__data__.get(t)}function cse(t){return this.__data__.has(t)}var hse=200;function use(t,e){var i=this.__data__;if(i instanceof ic){var s=i.__data__;if(!Im||s.length<hse-1)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new Lc(s)}return i.set(t,e),this.size=i.size,this}function Zd(t){var e=this.__data__=new ic(t);this.size=e.size}Zd.prototype.clear=ase;Zd.prototype.delete=ose;Zd.prototype.get=lse;Zd.prototype.has=cse;Zd.prototype.set=use;var db=function(){try{var t=fu(Object,"defineProperty");return t({},"",{}),t}catch{}}();function HT(t,e,i){e=="__proto__"&&db?db(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Kk(t,e,i){(i!==void 0&&!a0(t[e],i)||i===void 0&&!(e in t))&&HT(t,e,i)}function dse(t){return function(e,i,s){for(var n=-1,l=Object(e),a=s(e),h=a.length;h--;){var d=a[++n];if(i(l[d],d,l)===!1)break}return e}}var fse=dse(),JN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,$R=JN&&typeof module=="object"&&module&&!module.nodeType&&module,pse=$R&&$R.exports===JN,VR=pse?rl.Buffer:void 0,YR=VR?VR.allocUnsafe:void 0;function mse(t,e){if(e)return t.slice();var i=t.length,s=YR?YR(i):new t.constructor(i);return t.copy(s),s}var GR=rl.Uint8Array;function gse(t){var e=new t.constructor(t.byteLength);return new GR(e).set(new GR(t)),e}function yse(t,e){var i=e?gse(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function vse(t,e){var i=-1,s=t.length;for(e||(e=Array(s));++i<s;)e[i]=t[i];return e}var XR=Object.create,bse=function(){function t(){}return function(e){if(!uu(e))return{};if(XR)return XR(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function e4(t,e){return function(i){return t(e(i))}}var t4=e4(Object.getPrototypeOf,Object),_se=Object.prototype;function c0(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||_se;return t===i}function wse(t){return typeof t.constructor=="function"&&!c0(t)?bse(t4(t)):{}}function rg(t){return t!=null&&typeof t=="object"}var xse="[object Arguments]";function KR(t){return rg(t)&&Kd(t)==xse}var i4=Object.prototype,kse=i4.hasOwnProperty,Sse=i4.propertyIsEnumerable,fb=KR(function(){return arguments}())?KR:function(t){return rg(t)&&kse.call(t,"callee")&&!Sse.call(t,"callee")},pb=Array.isArray,Tse=9007199254740991;function r4(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Tse}function h0(t){return t!=null&&r4(t.length)&&!UT(t)}function Cse(t){return rg(t)&&h0(t)}function Ese(){return!1}var s4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ZR=s4&&typeof module=="object"&&module&&!module.nodeType&&module,Ose=ZR&&ZR.exports===s4,QR=Ose?rl.Buffer:void 0,Mse=QR?QR.isBuffer:void 0,WT=Mse||Ese,Ase="[object Object]",Pse=Function.prototype,Dse=Object.prototype,n4=Pse.toString,Lse=Dse.hasOwnProperty,Rse=n4.call(Object);function Fse(t){if(!rg(t)||Kd(t)!=Ase)return!1;var e=t4(t);if(e===null)return!0;var i=Lse.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&n4.call(i)==Rse}var Ise="[object Arguments]",Bse="[object Array]",Nse="[object Boolean]",zse="[object Date]",Use="[object Error]",Hse="[object Function]",Wse="[object Map]",jse="[object Number]",qse="[object Object]",$se="[object RegExp]",Vse="[object Set]",Yse="[object String]",Gse="[object WeakMap]",Xse="[object ArrayBuffer]",Kse="[object DataView]",Zse="[object Float32Array]",Qse="[object Float64Array]",Jse="[object Int8Array]",ene="[object Int16Array]",tne="[object Int32Array]",ine="[object Uint8Array]",rne="[object Uint8ClampedArray]",sne="[object Uint16Array]",nne="[object Uint32Array]",ss={};ss[Zse]=ss[Qse]=ss[Jse]=ss[ene]=ss[tne]=ss[ine]=ss[rne]=ss[sne]=ss[nne]=!0;ss[Ise]=ss[Bse]=ss[Xse]=ss[Nse]=ss[Kse]=ss[zse]=ss[Use]=ss[Hse]=ss[Wse]=ss[jse]=ss[qse]=ss[$se]=ss[Vse]=ss[Yse]=ss[Gse]=!1;function ane(t){return rg(t)&&r4(t.length)&&!!ss[Kd(t)]}function one(t){return function(e){return t(e)}}var a4=typeof exports=="object"&&exports&&!exports.nodeType&&exports,fm=a4&&typeof module=="object"&&module&&!module.nodeType&&module,lne=fm&&fm.exports===a4,zx=lne&&ZN.process,JR=function(){try{var t=fm&&fm.require&&fm.require("util").types;return t||zx&&zx.binding&&zx.binding("util")}catch{}}(),e3=JR&&JR.isTypedArray,jT=e3?one(e3):ane;function Zk(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var cne=Object.prototype,hne=cne.hasOwnProperty;function une(t,e,i){var s=t[e];(!(hne.call(t,e)&&a0(s,i))||i===void 0&&!(e in t))&&HT(t,e,i)}function dne(t,e,i,s){var n=!i;i||(i={});for(var l=-1,a=e.length;++l<a;){var h=e[l],d=void 0;d===void 0&&(d=t[h]),n?HT(i,h,d):une(i,h,d)}return i}function fne(t,e){for(var i=-1,s=Array(t);++i<t;)s[i]=e(i);return s}var pne=9007199254740991,mne=/^(?:0|[1-9]\d*)$/;function o4(t,e){var i=typeof t;return e=e??pne,!!e&&(i=="number"||i!="symbol"&&mne.test(t))&&t>-1&&t%1==0&&t<e}var gne=Object.prototype,yne=gne.hasOwnProperty;function vne(t,e){var i=pb(t),s=!i&&fb(t),n=!i&&!s&&WT(t),l=!i&&!s&&!n&&jT(t),a=i||s||n||l,h=a?fne(t.length,String):[],d=h.length;for(var m in t)(e||yne.call(t,m))&&!(a&&(m=="length"||n&&(m=="offset"||m=="parent")||l&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||o4(m,d)))&&h.push(m);return h}function bne(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var _ne=Object.prototype,wne=_ne.hasOwnProperty;function xne(t){if(!uu(t))return bne(t);var e=c0(t),i=[];for(var s in t)s=="constructor"&&(e||!wne.call(t,s))||i.push(s);return i}function l4(t){return h0(t)?vne(t,!0):xne(t)}function kne(t){return dne(t,l4(t))}function Sne(t,e,i,s,n,l,a){var h=Zk(t,i),d=Zk(e,i),m=a.get(d);if(m){Kk(t,i,m);return}var y=l?l(h,d,i+"",t,e,a):void 0,b=y===void 0;if(b){var k=pb(d),x=!k&&WT(d),E=!k&&!x&&jT(d);y=d,k||x||E?pb(h)?y=h:Cse(h)?y=vse(h):x?(b=!1,y=mse(d,!0)):E?(b=!1,y=yse(d,!0)):y=[]:Fse(d)||fb(d)?(y=h,fb(h)?y=kne(h):(!uu(h)||UT(h))&&(y=wse(d))):b=!1}b&&(a.set(d,y),n(y,d,s,l,a),a.delete(d)),Kk(t,i,y)}function c4(t,e,i,s,n){t!==e&&fse(e,function(l,a){if(n||(n=new Zd),uu(l))Sne(t,e,a,i,c4,s,n);else{var h=s?s(Zk(t,a),l,a+"",t,e,n):void 0;h===void 0&&(h=l),Kk(t,a,h)}},l4)}function h4(t){return t}function Tne(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var t3=Math.max;function Cne(t,e,i){return e=t3(e===void 0?t.length-1:e,0),function(){for(var s=arguments,n=-1,l=t3(s.length-e,0),a=Array(l);++n<l;)a[n]=s[e+n];n=-1;for(var h=Array(e+1);++n<e;)h[n]=s[n];return h[e]=i(a),Tne(t,this,h)}}function Ene(t){return function(){return t}}var One=db?function(t,e){return db(t,"toString",{configurable:!0,enumerable:!1,value:Ene(e),writable:!0})}:h4,Mne=800,Ane=16,Pne=Date.now;function Dne(t){var e=0,i=0;return function(){var s=Pne(),n=Ane-(s-i);if(i=s,n>0){if(++e>=Mne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Lne=Dne(One);function Rne(t,e){return Lne(Cne(t,e,h4),t+"")}function Fne(t,e,i){if(!uu(i))return!1;var s=typeof e;return(s=="number"?h0(i)&&o4(e,i.length):s=="string"&&e in i)?a0(i[e],t):!1}function Ine(t){return Rne(function(e,i){var s=-1,n=i.length,l=n>1?i[n-1]:void 0,a=n>2?i[2]:void 0;for(l=t.length>3&&typeof l=="function"?(n--,l):void 0,a&&Fne(i[0],i[1],a)&&(l=n<3?void 0:l,n=1),e=Object(e);++s<n;){var h=i[s];h&&t(e,h,s,l)}return e})}var Bne=Ine(function(t,e,i){c4(t,e,i)}),Nne="",zne={curveBasis:_v,curveBasisClosed:ire,curveBasisOpen:rre,curveBumpX:PN,curveBumpY:DN,curveBundle:sre,curveCardinalClosed:nre,curveCardinalOpen:are,curveCardinal:IN,curveCatmullRomClosed:ore,curveCatmullRomOpen:lre,curveCatmullRom:NN,curveLinear:ob,curveLinearClosed:cre,curveMonotoneX:qN,curveMonotoneY:$N,curveNatural:YN,curveStep:GN,curveStepAfter:KN,curveStepBefore:XN},Une=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,Hne=q(function(t,e){const i=u4(t,/(?:init\b)|(?:initialize\b)/);let s={};if(Array.isArray(i)){const a=i.map(h=>h.args);$v(a),s=fn(s,[...a])}else s=i.args;if(!s)return;let n=dT(t,e);const l="config";return s[l]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),s[n]=s[l],delete s[l]),s},"detectInit"),u4=q(function(t,e=null){var i,s;try{const n=new RegExp(`[%]{2}(?![{]${Une.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),ft.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let l;const a=[];for(;(l=um.exec(t))!==null;)if(l.index===um.lastIndex&&um.lastIndex++,l&&!e||e&&((i=l[1])!=null&&i.match(e))||e&&((s=l[2])!=null&&s.match(e))){const h=l[1]?l[1]:l[2],d=l[3]?l[3].trim():l[4]?JSON.parse(l[4].trim()):null;a.push({type:h,args:d})}return a.length===0?{type:t,args:null}:a.length===1?a[0]:a}catch(n){return ft.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),Wne=q(function(t){return t.replace(um,"")},"removeDirectives"),jne=q(function(t,e){for(const[i,s]of e.entries())if(s.match(t))return i;return-1},"isSubstringInArray");function qT(t,e){if(!t)return e;const i=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return zne[i]??e}q(qT,"interpolateToCurve");function d4(t,e){const i=t.trim();if(i)return e.securityLevel!=="loose"?tN(i):i}q(d4,"formatUrl");var qne=q((t,...e)=>{const i=t.split("."),s=i.length-1,n=i[s];let l=window;for(let a=0;a<s;a++)if(l=l[i[a]],!l){ft.error(`Function name: ${t} not found in window`);return}l[n](...e)},"runFunc");function $T(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}q($T,"distance");function f4(t){let e,i=0;t.forEach(n=>{i+=$T(n,e),e=n});const s=i/2;return VT(t,s)}q(f4,"traverseEdge");function p4(t){return t.length===1?t[0]:f4(t)}q(p4,"calcLabelPosition");var i3=q((t,e=2)=>{const i=Math.pow(10,e);return Math.round(t*i)/i},"roundNumber"),VT=q((t,e)=>{let i,s=e;for(const n of t){if(i){const l=$T(n,i);if(l===0)return i;if(l<s)s-=l;else{const a=s/l;if(a<=0)return i;if(a>=1)return{x:n.x,y:n.y};if(a>0&&a<1)return{x:i3((1-a)*i.x+a*n.x,5),y:i3((1-a)*i.y+a*n.y,5)}}}i=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),$ne=q((t,e,i)=>{ft.info(`our points ${JSON.stringify(e)}`),e[0]!==i&&(e=e.reverse());const n=VT(e,25),l=t?10:5,a=Math.atan2(e[0].y-n.y,e[0].x-n.x),h={x:0,y:0};return h.x=Math.sin(a)*l+(e[0].x+n.x)/2,h.y=-Math.cos(a)*l+(e[0].y+n.y)/2,h},"calcCardinalityPosition");function m4(t,e,i){const s=structuredClone(i);ft.info("our points",s),e!=="start_left"&&e!=="start_right"&&s.reverse();const n=25+t,l=VT(s,n),a=10+t*.5,h=Math.atan2(s[0].y-l.y,s[0].x-l.x),d={x:0,y:0};return e==="start_left"?(d.x=Math.sin(h+Math.PI)*a+(s[0].x+l.x)/2,d.y=-Math.cos(h+Math.PI)*a+(s[0].y+l.y)/2):e==="end_right"?(d.x=Math.sin(h-Math.PI)*a+(s[0].x+l.x)/2-5,d.y=-Math.cos(h-Math.PI)*a+(s[0].y+l.y)/2-5):e==="end_left"?(d.x=Math.sin(h)*a+(s[0].x+l.x)/2-5,d.y=-Math.cos(h)*a+(s[0].y+l.y)/2-5):(d.x=Math.sin(h)*a+(s[0].x+l.x)/2,d.y=-Math.cos(h)*a+(s[0].y+l.y)/2),d}q(m4,"calcTerminalLabelPosition");function g4(t){let e="",i="";for(const s of t)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?i=i+s+";":e=e+s+";");return{style:e,labelStyle:i}}q(g4,"getStylesFromArray");var r3=0,Vne=q(()=>(r3++,"id-"+Math.random().toString(36).substr(2,12)+"-"+r3),"generateId");function y4(t){let e="";const i="0123456789abcdef",s=i.length;for(let n=0;n<t;n++)e+=i.charAt(Math.floor(Math.random()*s));return e}q(y4,"makeRandomHex");var Yne=q(t=>y4(t.length),"random"),Gne=q(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Xne=q(function(t,e){const i=e.text.replace(Gd.lineBreakRegex," "),[,s]=u0(e.fontSize),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.style("text-anchor",e.anchor),n.style("font-family",e.fontFamily),n.style("font-size",s),n.style("font-weight",e.fontWeight),n.attr("fill",e.fill),e.class!==void 0&&n.attr("class",e.class);const l=n.append("tspan");return l.attr("x",e.x+e.textMargin*2),l.attr("fill",e.fill),l.text(i),n},"drawSimpleText"),Kne=ig((t,e,i)=>{if(!t||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),Gd.lineBreakRegex.test(t)))return t;const s=t.split(" ").filter(Boolean),n=[];let l="";return s.forEach((a,h)=>{const d=Gl(`${a} `,i),m=Gl(l,i);if(d>e){const{hyphenatedStrings:k,remainingWord:x}=Zne(a,e,"-",i);n.push(l,...k),l=x}else m+d>=e?(n.push(l),l=a):l=[l,a].filter(Boolean).join(" ");h+1===s.length&&n.push(l)}),n.filter(a=>a!=="").join(i.joinWith)},(t,e,i)=>`${t}${e}${i.fontSize}${i.fontWeight}${i.fontFamily}${i.joinWith}`),Zne=ig((t,e,i="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);const n=[...t],l=[];let a="";return n.forEach((h,d)=>{const m=`${a}${h}`;if(Gl(m,s)>=e){const b=d+1,k=n.length===b,x=`${m}${i}`;l.push(k?m:x),a=""}else a=m}),{hyphenatedStrings:l,remainingWord:a}},(t,e,i="-",s)=>`${t}${e}${i}${s.fontSize}${s.fontWeight}${s.fontFamily}`);function v4(t,e){return YT(t,e).height}q(v4,"calculateTextHeight");function Gl(t,e){return YT(t,e).width}q(Gl,"calculateTextWidth");var YT=ig((t,e)=>{const{fontSize:i=12,fontFamily:s="Arial",fontWeight:n=400}=e;if(!t)return{width:0,height:0};const[,l]=u0(i),a=["sans-serif",s],h=t.split(Gd.lineBreakRegex),d=[],m=gr("body");if(!m.remove)return{width:0,height:0,lineHeight:0};const y=m.append("svg");for(const k of a){let x=0;const E={width:0,height:0,lineHeight:0};for(const O of h){const L=Gne();L.text=O||Nne;const D=Xne(y,L).style("font-size",l).style("font-weight",n).style("font-family",k),u=(D._groups||D)[0][0].getBBox();if(u.width===0&&u.height===0)throw new Error("svg element not in render tree");E.width=Math.round(Math.max(E.width,u.width)),x=Math.round(u.height),E.height+=x,E.lineHeight=Math.round(Math.max(E.lineHeight,x))}d.push(E)}y.remove();const b=isNaN(d[1].height)||isNaN(d[1].width)||isNaN(d[1].lineHeight)||d[0].height>d[1].height&&d[0].width>d[1].width&&d[0].lineHeight>d[1].lineHeight?0:1;return d[b]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),_d,Qne=(_d=class{constructor(e=!1,i){this.count=0,this.count=i?i.length:0,this.next=e?()=>this.count++:()=>Date.now()}},q(_d,"InitIDGenerator"),_d),Ky,Jne=q(function(t){return Ky=Ky||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Ky.innerHTML=t,unescape(Ky.textContent)},"entityDecode");function GT(t){return"str"in t}q(GT,"isDetailedError");var eae=q((t,e,i,s)=>{var l;if(!s)return;const n=(l=t.node())==null?void 0:l.getBBox();n&&t.append("text").text(s).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-i).attr("class",e)},"insertTitle"),u0=q(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function XT(t,e){return Bne({},t,e)}q(XT,"cleanAndMerge");var mo={assignWithDepth:fn,wrapLabel:Kne,calculateTextHeight:v4,calculateTextWidth:Gl,calculateTextDimensions:YT,cleanAndMerge:XT,detectInit:Hne,detectDirective:u4,isSubstringInArray:jne,interpolateToCurve:qT,calcLabelPosition:p4,calcCardinalityPosition:$ne,calcTerminalLabelPosition:m4,formatUrl:d4,getStylesFromArray:g4,generateId:Vne,random:Yne,runFunc:qne,entityDecode:Jne,insertTitle:eae,isLabelCoordinateInPath:b4,parseFontSize:u0,InitIDGenerator:Qne},tae=q(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/#\w+;/g,function(i){const s=i.substring(1,i.length-1);return/^\+?\d+$/.test(s)?""+s+"":""+s+""}),e},"encodeEntities"),pu=q(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),Ude=q((t,e,{counter:i=0,prefix:s,suffix:n},l)=>l||`${s?`${s}_`:""}${t}_${e}_${i}${n?`_${n}`:""}`,"getEdgeId");function ca(t){return t??null}q(ca,"handleUndefinedAttr");function b4(t,e){const i=Math.round(t.x),s=Math.round(t.y),n=e.replace(/(\d+\.\d+)/g,l=>Math.round(parseFloat(l)).toString());return n.includes(i.toString())||n.includes(s.toString())}q(b4,"isLabelCoordinateInPath");const iae=Object.freeze({left:0,top:0,width:16,height:16}),mb=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),_4=Object.freeze({...iae,...mb}),rae=Object.freeze({..._4,body:"",hidden:!1}),sae=Object.freeze({width:null,height:null}),nae=Object.freeze({...sae,...mb}),aae=(t,e,i,s="")=>{const n=t.split(":");if(t.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;s=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const h=n.pop(),d=n.pop(),m={provider:n.length>0?n[0]:s,prefix:d,name:h};return Ux(m)?m:null}const l=n[0],a=l.split("-");if(a.length>1){const h={provider:s,prefix:a.shift(),name:a.join("-")};return Ux(h)?h:null}if(i&&s===""){const h={provider:s,prefix:"",name:l};return Ux(h,i)?h:null}return null},Ux=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function oae(t,e){const i={};!t.hFlip!=!e.hFlip&&(i.hFlip=!0),!t.vFlip!=!e.vFlip&&(i.vFlip=!0);const s=((t.rotate||0)+(e.rotate||0))%4;return s&&(i.rotate=s),i}function s3(t,e){const i=oae(t,e);for(const s in rae)s in mb?s in t&&!(s in i)&&(i[s]=mb[s]):s in e?i[s]=e[s]:s in t&&(i[s]=t[s]);return i}function lae(t,e){const i=t.icons,s=t.aliases||Object.create(null),n=Object.create(null);function l(a){if(i[a])return n[a]=[];if(!(a in n)){n[a]=null;const h=s[a]&&s[a].parent,d=h&&l(h);d&&(n[a]=[h].concat(d))}return n[a]}return(e||Object.keys(i).concat(Object.keys(s))).forEach(l),n}function n3(t,e,i){const s=t.icons,n=t.aliases||Object.create(null);let l={};function a(h){l=s3(s[h]||n[h],l)}return a(e),i.forEach(a),s3(t,l)}function cae(t,e){if(t.icons[e])return n3(t,e,[]);const i=lae(t,[e])[e];return i?n3(t,e,i):null}const hae=/(-?[0-9.]*[0-9]+[0-9.]*)/g,uae=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function a3(t,e,i){if(e===1)return t;if(i=i||100,typeof t=="number")return Math.ceil(t*e*i)/i;if(typeof t!="string")return t;const s=t.split(hae);if(s===null||!s.length)return t;const n=[];let l=s.shift(),a=uae.test(l);for(;;){if(a){const h=parseFloat(l);isNaN(h)?n.push(l):n.push(Math.ceil(h*e*i)/i)}else n.push(l);if(l=s.shift(),l===void 0)return n.join("");a=!a}}function dae(t,e="defs"){let i="";const s=t.indexOf("<"+e);for(;s>=0;){const n=t.indexOf(">",s),l=t.indexOf("</"+e);if(n===-1||l===-1)break;const a=t.indexOf(">",l);if(a===-1)break;i+=t.slice(n+1,l).trim(),t=t.slice(0,s).trim()+t.slice(a+1)}return{defs:i,content:t}}function fae(t,e){return t?"<defs>"+t+"</defs>"+e:e}function pae(t,e,i){const s=dae(t);return fae(s.defs,e+s.content+i)}const mae=t=>t==="unset"||t==="undefined"||t==="none";function gae(t,e){const i={..._4,...t},s={...nae,...e},n={left:i.left,top:i.top,width:i.width,height:i.height};let l=i.body;[i,s].forEach(O=>{const L=[],D=O.hFlip,u=O.vFlip;let T=O.rotate;D?u?T+=2:(L.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),L.push("scale(-1 1)"),n.top=n.left=0):u&&(L.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),L.push("scale(1 -1)"),n.top=n.left=0);let g;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:g=n.height/2+n.top,L.unshift("rotate(90 "+g.toString()+" "+g.toString()+")");break;case 2:L.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:g=n.width/2+n.left,L.unshift("rotate(-90 "+g.toString()+" "+g.toString()+")");break}T%2===1&&(n.left!==n.top&&(g=n.left,n.left=n.top,n.top=g),n.width!==n.height&&(g=n.width,n.width=n.height,n.height=g)),L.length&&(l=pae(l,'<g transform="'+L.join(" ")+'">',"</g>"))});const a=s.width,h=s.height,d=n.width,m=n.height;let y,b;a===null?(b=h===null?"1em":h==="auto"?m:h,y=a3(b,d/m)):(y=a==="auto"?d:a,b=h===null?a3(y,m/d):h==="auto"?m:h);const k={},x=(O,L)=>{mae(L)||(k[O]=L.toString())};x("width",y),x("height",b);const E=[n.left,n.top,d,m];return k.viewBox=E.join(" "),{attributes:k,viewBox:E,body:l}}const yae=/\sid="(\S+)"/g,vae="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let bae=0;function _ae(t,e=vae){const i=[];let s;for(;s=yae.exec(t);)i.push(s[1]);if(!i.length)return t;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(l=>{const a=typeof e=="function"?e(l):e+(bae++).toString(),h=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+h+')([")]|\\.[a-z])',"g"),"$1"+a+n+"$3")}),t=t.replace(new RegExp(n,"g"),""),t}function wae(t,e){let i=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in e)i+=" "+s+'="'+e[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+t+"</svg>"}function KT(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var mu=KT();function w4(t){mu=t}var pm={exec:()=>null};function Fr(t,e=""){let i=typeof t=="string"?t:t.source,s={replace:(n,l)=>{let a=typeof l=="string"?l:l.source;return a=a.replace(jn.caret,"$1"),i=i.replace(n,a),s},getRegex:()=>new RegExp(i,e)};return s}var jn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},xae=/^(?:[ \t]*(?:\n|$))+/,kae=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Sae=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,sg=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Tae=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ZT=/(?:[*+-]|\d{1,9}[.)])/,x4=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,k4=Fr(x4).replace(/bull/g,ZT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Cae=Fr(x4).replace(/bull/g,ZT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),QT=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Eae=/^[^\n]+/,JT=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Oae=Fr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",JT).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Mae=Fr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ZT).getRegex(),d0="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",e2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Aae=Fr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",e2).replace("tag",d0).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),S4=Fr(QT).replace("hr",sg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d0).getRegex(),Pae=Fr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",S4).getRegex(),t2={blockquote:Pae,code:kae,def:Oae,fences:Sae,heading:Tae,hr:sg,html:Aae,lheading:k4,list:Mae,newline:xae,paragraph:S4,table:pm,text:Eae},o3=Fr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",sg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d0).getRegex(),Dae={...t2,lheading:Cae,table:o3,paragraph:Fr(QT).replace("hr",sg).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",o3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",d0).getRegex()},Lae={...t2,html:Fr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",e2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:pm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Fr(QT).replace("hr",sg).replace("heading",` *#{1,6} *[^
]`).replace("lheading",k4).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Rae=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Fae=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,T4=/^( {2,}|\\)\n(?!\s*$)/,Iae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,f0=/[\p{P}\p{S}]/u,i2=/[\s\p{P}\p{S}]/u,C4=/[^\s\p{P}\p{S}]/u,Bae=Fr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,i2).getRegex(),E4=/(?!~)[\p{P}\p{S}]/u,Nae=/(?!~)[\s\p{P}\p{S}]/u,zae=/(?:[^\s\p{P}\p{S}]|~)/u,Uae=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,O4=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Hae=Fr(O4,"u").replace(/punct/g,f0).getRegex(),Wae=Fr(O4,"u").replace(/punct/g,E4).getRegex(),M4="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",jae=Fr(M4,"gu").replace(/notPunctSpace/g,C4).replace(/punctSpace/g,i2).replace(/punct/g,f0).getRegex(),qae=Fr(M4,"gu").replace(/notPunctSpace/g,zae).replace(/punctSpace/g,Nae).replace(/punct/g,E4).getRegex(),$ae=Fr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,C4).replace(/punctSpace/g,i2).replace(/punct/g,f0).getRegex(),Vae=Fr(/\\(punct)/,"gu").replace(/punct/g,f0).getRegex(),Yae=Fr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gae=Fr(e2).replace("(?:-->|$)","-->").getRegex(),Xae=Fr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gae).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),gb=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Kae=Fr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",gb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),A4=Fr(/^!?\[(label)\]\[(ref)\]/).replace("label",gb).replace("ref",JT).getRegex(),P4=Fr(/^!?\[(ref)\](?:\[\])?/).replace("ref",JT).getRegex(),Zae=Fr("reflink|nolink(?!\\()","g").replace("reflink",A4).replace("nolink",P4).getRegex(),r2={_backpedal:pm,anyPunctuation:Vae,autolink:Yae,blockSkip:Uae,br:T4,code:Fae,del:pm,emStrongLDelim:Hae,emStrongRDelimAst:jae,emStrongRDelimUnd:$ae,escape:Rae,link:Kae,nolink:P4,punctuation:Bae,reflink:A4,reflinkSearch:Zae,tag:Xae,text:Iae,url:pm},Qae={...r2,link:Fr(/^!?\[(label)\]\((.*?)\)/).replace("label",gb).getRegex(),reflink:Fr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",gb).getRegex()},Qk={...r2,emStrongRDelimAst:qae,emStrongLDelim:Wae,url:Fr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Jae={...Qk,br:Fr(T4).replace("{2,}","*").getRegex(),text:Fr(Qk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Zy={normal:t2,gfm:Dae,pedantic:Lae},Rp={normal:r2,gfm:Qk,breaks:Jae,pedantic:Qae},eoe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},l3=t=>eoe[t];function No(t,e){if(e){if(jn.escapeTest.test(t))return t.replace(jn.escapeReplace,l3)}else if(jn.escapeTestNoEncode.test(t))return t.replace(jn.escapeReplaceNoEncode,l3);return t}function c3(t){try{t=encodeURI(t).replace(jn.percentDecode,"%")}catch{return null}return t}function h3(t,e){var l;let i=t.replace(jn.findPipe,(a,h,d)=>{let m=!1,y=h;for(;--y>=0&&d[y]==="\\";)m=!m;return m?"|":" |"}),s=i.split(jn.splitPipe),n=0;if(s[0].trim()||s.shift(),s.length>0&&!((l=s.at(-1))!=null&&l.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(jn.slashPipe,"|");return s}function Fp(t,e,i){let s=t.length;if(s===0)return"";let n=0;for(;n<s&&t.charAt(s-n-1)===e;)n++;return t.slice(0,s-n)}function toe(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function u3(t,e,i,s,n){let l=e.href,a=e.title||null,h=t[1].replace(n.other.outputLinkReplace,"$1");s.state.inLink=!0;let d={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:l,title:a,text:h,tokens:s.inlineTokens(h)};return s.state.inLink=!1,d}function ioe(t,e,i){let s=t.match(i.other.indentCodeCompensation);if(s===null)return e;let n=s[1];return e.split(`
`).map(l=>{let a=l.match(i.other.beginningSpace);if(a===null)return l;let[h]=a;return h.length>=n.length?l.slice(n.length):l}).join(`
`)}var yb=class{constructor(e){Di(this,"options");Di(this,"rules");Di(this,"lexer");this.options=e||mu}space(e){let i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){let i=this.rules.block.code.exec(e);if(i){let s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Fp(s,`
`)}}}fences(e){let i=this.rules.block.fences.exec(e);if(i){let s=i[0],n=ioe(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:n}}}heading(e){let i=this.rules.block.heading.exec(e);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){let n=Fp(s,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(s=n.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){let i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:Fp(i[0],`
`)}}blockquote(e){let i=this.rules.block.blockquote.exec(e);if(i){let s=Fp(i[0],`
`).split(`
`),n="",l="",a=[];for(;s.length>0;){let h=!1,d=[],m;for(m=0;m<s.length;m++)if(this.rules.other.blockquoteStart.test(s[m]))d.push(s[m]),h=!0;else if(!h)d.push(s[m]);else break;s=s.slice(m);let y=d.join(`
`),b=y.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${y}`:y,l=l?`${l}
${b}`:b;let k=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,a,!0),this.lexer.state.top=k,s.length===0)break;let x=a.at(-1);if((x==null?void 0:x.type)==="code")break;if((x==null?void 0:x.type)==="blockquote"){let E=x,O=E.raw+`
`+s.join(`
`),L=this.blockquote(O);a[a.length-1]=L,n=n.substring(0,n.length-E.raw.length)+L.raw,l=l.substring(0,l.length-E.text.length)+L.text;break}else if((x==null?void 0:x.type)==="list"){let E=x,O=E.raw+`
`+s.join(`
`),L=this.list(O);a[a.length-1]=L,n=n.substring(0,n.length-x.raw.length)+L.raw,l=l.substring(0,l.length-E.raw.length)+L.raw,s=O.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:l}}}list(e){let i=this.rules.block.list.exec(e);if(i){let s=i[1].trim(),n=s.length>1,l={type:"list",raw:"",ordered:n,start:n?+s.slice(0,-1):"",loose:!1,items:[]};s=n?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=n?s:"[*+-]");let a=this.rules.other.listItemRegex(s),h=!1;for(;e;){let m=!1,y="",b="";if(!(i=a.exec(e))||this.rules.block.hr.test(e))break;y=i[0],e=e.substring(y.length);let k=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,u=>" ".repeat(3*u.length)),x=e.split(`
`,1)[0],E=!k.trim(),O=0;if(this.options.pedantic?(O=2,b=k.trimStart()):E?O=i[1].length+1:(O=i[2].search(this.rules.other.nonSpaceChar),O=O>4?1:O,b=k.slice(O),O+=i[1].length),E&&this.rules.other.blankLine.test(x)&&(y+=x+`
`,e=e.substring(x.length+1),m=!0),!m){let u=this.rules.other.nextBulletRegex(O),T=this.rules.other.hrRegex(O),g=this.rules.other.fencesBeginRegex(O),S=this.rules.other.headingBeginRegex(O),C=this.rules.other.htmlBeginRegex(O);for(;e;){let P=e.split(`
`,1)[0],I;if(x=P,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),I=x):I=x.replace(this.rules.other.tabCharGlobal,"    "),g.test(x)||S.test(x)||C.test(x)||u.test(x)||T.test(x))break;if(I.search(this.rules.other.nonSpaceChar)>=O||!x.trim())b+=`
`+I.slice(O);else{if(E||k.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(k)||S.test(k)||T.test(k))break;b+=`
`+x}!E&&!x.trim()&&(E=!0),y+=P+`
`,e=e.substring(P.length+1),k=I.slice(O)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(y)&&(h=!0));let L=null,D;this.options.gfm&&(L=this.rules.other.listIsTask.exec(b),L&&(D=L[0]!=="[ ] ",b=b.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:y,task:!!L,checked:D,loose:!1,text:b,tokens:[]}),l.raw+=y}let d=l.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let m=0;m<l.items.length;m++)if(this.lexer.state.top=!1,l.items[m].tokens=this.lexer.blockTokens(l.items[m].text,[]),!l.loose){let y=l.items[m].tokens.filter(k=>k.type==="space"),b=y.length>0&&y.some(k=>this.rules.other.anyLine.test(k.raw));l.loose=b}if(l.loose)for(let m=0;m<l.items.length;m++)l.items[m].loose=!0;return l}}html(e){let i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){let i=this.rules.block.def.exec(e);if(i){let s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:n,title:l}}}table(e){var h;let i=this.rules.block.table.exec(e);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;let s=h3(i[1]),n=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=i[3])!=null&&h.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===n.length){for(let d of n)this.rules.other.tableAlignRight.test(d)?a.align.push("right"):this.rules.other.tableAlignCenter.test(d)?a.align.push("center"):this.rules.other.tableAlignLeft.test(d)?a.align.push("left"):a.align.push(null);for(let d=0;d<s.length;d++)a.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:a.align[d]});for(let d of l)a.rows.push(h3(d,a.header.length).map((m,y)=>({text:m,tokens:this.lexer.inline(m),header:!1,align:a.align[y]})));return a}}lheading(e){let i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){let i=this.rules.block.paragraph.exec(e);if(i){let s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(e){let i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){let i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(e){let i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){let i=this.rules.inline.link.exec(e);if(i){let s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;let a=Fp(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{let a=toe(i[2],"()");if(a===-2)return;if(a>-1){let h=(i[0].indexOf("!")===0?5:4)+i[1].length+a;i[2]=i[2].substring(0,a),i[0]=i[0].substring(0,h).trim(),i[3]=""}}let n=i[2],l="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(n);a&&(n=a[1],l=a[3])}else l=i[3]?i[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?n=n.slice(1):n=n.slice(1,-1)),u3(i,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(e,i){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let n=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=i[n.toLowerCase()];if(!l){let a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return u3(s,l,s[0],this.lexer,this.rules)}}emStrong(e,i,s=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!s||this.rules.inline.punctuation.exec(s))){let l=[...n[0]].length-1,a,h,d=l,m=0,y=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(y.lastIndex=0,i=i.slice(-1*e.length+l);(n=y.exec(i))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(h=[...a].length,n[3]||n[4]){d+=h;continue}else if((n[5]||n[6])&&l%3&&!((l+h)%3)){m+=h;continue}if(d-=h,d>0)continue;h=Math.min(h,h+d+m);let b=[...n[0]][0].length,k=e.slice(0,l+n.index+b+h);if(Math.min(l,h)%2){let E=k.slice(1,-1);return{type:"em",raw:k,text:E,tokens:this.lexer.inlineTokens(E)}}let x=k.slice(2,-2);return{type:"strong",raw:k,text:x,tokens:this.lexer.inlineTokens(x)}}}}codespan(e){let i=this.rules.inline.code.exec(e);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return n&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(e){let i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){let i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){let i=this.rules.inline.autolink.exec(e);if(i){let s,n;return i[2]==="@"?(s=i[1],n="mailto:"+s):(s=i[1],n=s),{type:"link",raw:i[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let i;if(i=this.rules.inline.url.exec(e)){let n,l;if(i[2]==="@")n=i[0],l="mailto:"+n;else{let a;do a=i[0],i[0]=((s=this.rules.inline._backpedal.exec(i[0]))==null?void 0:s[0])??"";while(a!==i[0]);n=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let i=this.rules.inline.text.exec(e);if(i){let s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}},Il=class Jk{constructor(e){Di(this,"tokens");Di(this,"options");Di(this,"state");Di(this,"tokenizer");Di(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||mu,this.options.tokenizer=this.options.tokenizer||new yb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={other:jn,block:Zy.normal,inline:Rp.normal};this.options.pedantic?(i.block=Zy.pedantic,i.inline=Rp.pedantic):this.options.gfm&&(i.block=Zy.gfm,this.options.breaks?i.inline=Rp.breaks:i.inline=Rp.gfm),this.tokenizer.rules=i}static get rules(){return{block:Zy,inline:Rp}}static lex(e,i){return new Jk(i).lex(e)}static lexInline(e,i){return new Jk(i).inlineTokens(e)}lex(e){e=e.replace(jn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var n,l,a;for(this.options.pedantic&&(e=e.replace(jn.tabCharGlobal,"    ").replace(jn.spaceLine,""));e;){let h;if((l=(n=this.options.extensions)==null?void 0:n.block)!=null&&l.some(m=>(h=m.call({lexer:this},e,i))?(e=e.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(e)){e=e.substring(h.raw.length);let m=i.at(-1);h.raw.length===1&&m!==void 0?m.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(e)){e=e.substring(h.raw.length);let m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.text,this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(h=this.tokenizer.fences(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(e)){e=e.substring(h.raw.length);let m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.raw,this.inlineQueue.at(-1).src=m.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title},i.push(h));continue}if(h=this.tokenizer.table(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(e)){e=e.substring(h.raw.length),i.push(h);continue}let d=e;if((a=this.options.extensions)!=null&&a.startBlock){let m=1/0,y=e.slice(1),b;this.options.extensions.startBlock.forEach(k=>{b=k.call({lexer:this},y),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(d=e.substring(0,m+1))}if(this.state.top&&(h=this.tokenizer.paragraph(d))){let m=i.at(-1);s&&(m==null?void 0:m.type)==="paragraph"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h),s=d.length!==e.length,e=e.substring(h.raw.length);continue}if(h=this.tokenizer.text(e)){e=e.substring(h.raw.length);let m=i.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var h,d,m;let s=e,n=null;if(this.tokens.links){let y=Object.keys(this.tokens.links);if(y.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)y.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,n.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,a="";for(;e;){l||(a=""),l=!1;let y;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(k=>(y=k.call({lexer:this},e,i))?(e=e.substring(y.raw.length),i.push(y),!0):!1))continue;if(y=this.tokenizer.escape(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.tag(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.link(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(y.raw.length);let k=i.at(-1);y.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=y.raw,k.text+=y.text):i.push(y);continue}if(y=this.tokenizer.emStrong(e,s,a)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.codespan(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.br(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.del(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.autolink(e)){e=e.substring(y.raw.length),i.push(y);continue}if(!this.state.inLink&&(y=this.tokenizer.url(e))){e=e.substring(y.raw.length),i.push(y);continue}let b=e;if((m=this.options.extensions)!=null&&m.startInline){let k=1/0,x=e.slice(1),E;this.options.extensions.startInline.forEach(O=>{E=O.call({lexer:this},x),typeof E=="number"&&E>=0&&(k=Math.min(k,E))}),k<1/0&&k>=0&&(b=e.substring(0,k+1))}if(y=this.tokenizer.inlineText(b)){e=e.substring(y.raw.length),y.raw.slice(-1)!=="_"&&(a=y.raw.slice(-1)),l=!0;let k=i.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=y.raw,k.text+=y.text):i.push(y);continue}if(e){let k="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return i}},vb=class{constructor(e){Di(this,"options");Di(this,"parser");this.options=e||mu}space(e){return""}code({text:e,lang:i,escaped:s}){var a;let n=(a=(i||"").match(jn.notSpaceStart))==null?void 0:a[0],l=e.replace(jn.endingNewline,"")+`
`;return n?'<pre><code class="language-'+No(n)+'">'+(s?l:No(l,!0))+`</code></pre>
`:"<pre><code>"+(s?l:No(l,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){let i=e.ordered,s=e.start,n="";for(let h=0;h<e.items.length;h++){let d=e.items[h];n+=this.listitem(d)}let l=i?"ol":"ul",a=i&&s!==1?' start="'+s+'"':"";return"<"+l+a+`>
`+n+"</"+l+`>
`}listitem(e){var s;let i="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+No(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):i+=n+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",s="";for(let l=0;l<e.header.length;l++)s+=this.tablecell(e.header[l]);i+=this.tablerow({text:s});let n="";for(let l=0;l<e.rows.length;l++){let a=e.rows[l];s="";for(let h=0;h<a.length;h++)s+=this.tablecell(a[h]);n+=this.tablerow({text:s})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let i=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${No(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:s}){let n=this.parser.parseInline(s),l=c3(e);if(l===null)return n;e=l;let a='<a href="'+e+'"';return i&&(a+=' title="'+No(i)+'"'),a+=">"+n+"</a>",a}image({href:e,title:i,text:s,tokens:n}){n&&(s=this.parser.parseInline(n,this.parser.textRenderer));let l=c3(e);if(l===null)return No(s);e=l;let a=`<img src="${e}" alt="${s}"`;return i&&(a+=` title="${No(i)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:No(e.text)}},s2=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Bl=class eS{constructor(e){Di(this,"options");Di(this,"renderer");Di(this,"textRenderer");this.options=e||mu,this.options.renderer=this.options.renderer||new vb,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new s2}static parse(e,i){return new eS(i).parse(e)}static parseInline(e,i){return new eS(i).parseInline(e)}parse(e,i=!0){var n,l;let s="";for(let a=0;a<e.length;a++){let h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){let m=h,y=this.options.extensions.renderers[m.type].call({parser:this},m);if(y!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(m.type)){s+=y||"";continue}}let d=h;switch(d.type){case"space":{s+=this.renderer.space(d);continue}case"hr":{s+=this.renderer.hr(d);continue}case"heading":{s+=this.renderer.heading(d);continue}case"code":{s+=this.renderer.code(d);continue}case"table":{s+=this.renderer.table(d);continue}case"blockquote":{s+=this.renderer.blockquote(d);continue}case"list":{s+=this.renderer.list(d);continue}case"html":{s+=this.renderer.html(d);continue}case"def":{s+=this.renderer.def(d);continue}case"paragraph":{s+=this.renderer.paragraph(d);continue}case"text":{let m=d,y=this.renderer.text(m);for(;a+1<e.length&&e[a+1].type==="text";)m=e[++a],y+=`
`+this.renderer.text(m);i?s+=this.renderer.paragraph({type:"paragraph",raw:y,text:y,tokens:[{type:"text",raw:y,text:y,escaped:!0}]}):s+=y;continue}default:{let m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}parseInline(e,i=this.renderer){var n,l;let s="";for(let a=0;a<e.length;a++){let h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){let m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){s+=m||"";continue}}let d=h;switch(d.type){case"escape":{s+=i.text(d);break}case"html":{s+=i.html(d);break}case"link":{s+=i.link(d);break}case"image":{s+=i.image(d);break}case"strong":{s+=i.strong(d);break}case"em":{s+=i.em(d);break}case"codespan":{s+=i.codespan(d);break}case"br":{s+=i.br(d);break}case"del":{s+=i.del(d);break}case"text":{s+=i.text(d);break}default:{let m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}},Xx,wv=(Xx=class{constructor(e){Di(this,"options");Di(this,"block");this.options=e||mu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Il.lex:Il.lexInline}provideParser(){return this.block?Bl.parse:Bl.parseInline}},Di(Xx,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Xx),roe=class{constructor(...e){Di(this,"defaults",KT());Di(this,"options",this.setOptions);Di(this,"parse",this.parseMarkdown(!0));Di(this,"parseInline",this.parseMarkdown(!1));Di(this,"Parser",Bl);Di(this,"Renderer",vb);Di(this,"TextRenderer",s2);Di(this,"Lexer",Il);Di(this,"Tokenizer",yb);Di(this,"Hooks",wv);this.use(...e)}walkTokens(e,i){var n,l;let s=[];for(let a of e)switch(s=s.concat(i.call(this,a)),a.type){case"table":{let h=a;for(let d of h.header)s=s.concat(this.walkTokens(d.tokens,i));for(let d of h.rows)for(let m of d)s=s.concat(this.walkTokens(m.tokens,i));break}case"list":{let h=a;s=s.concat(this.walkTokens(h.items,i));break}default:{let h=a;(l=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(d=>{let m=h[d].flat(1/0);s=s.concat(this.walkTokens(m,i))}):h.tokens&&(s=s.concat(this.walkTokens(h.tokens,i)))}}return s}use(...e){let i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{let n={...s};if(n.async=this.defaults.async||n.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){let a=i.renderers[l.name];a?i.renderers[l.name]=function(...h){let d=l.renderer.apply(this,h);return d===!1&&(d=a.apply(this,h)),d}:i.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=i[l.level];a?a.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),n.extensions=i),s.renderer){let l=this.defaults.renderer||new vb(this.defaults);for(let a in s.renderer){if(!(a in l))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let h=a,d=s.renderer[h],m=l[h];l[h]=(...y)=>{let b=d.apply(l,y);return b===!1&&(b=m.apply(l,y)),b||""}}n.renderer=l}if(s.tokenizer){let l=this.defaults.tokenizer||new yb(this.defaults);for(let a in s.tokenizer){if(!(a in l))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let h=a,d=s.tokenizer[h],m=l[h];l[h]=(...y)=>{let b=d.apply(l,y);return b===!1&&(b=m.apply(l,y)),b}}n.tokenizer=l}if(s.hooks){let l=this.defaults.hooks||new wv;for(let a in s.hooks){if(!(a in l))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let h=a,d=s.hooks[h],m=l[h];wv.passThroughHooks.has(a)?l[h]=y=>{if(this.defaults.async)return Promise.resolve(d.call(l,y)).then(k=>m.call(l,k));let b=d.call(l,y);return m.call(l,b)}:l[h]=(...y)=>{let b=d.apply(l,y);return b===!1&&(b=m.apply(l,y)),b}}n.hooks=l}if(s.walkTokens){let l=this.defaults.walkTokens,a=s.walkTokens;n.walkTokens=function(h){let d=[];return d.push(a.call(this,h)),l&&(d=d.concat(l.call(this,h))),d}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return Il.lex(e,i??this.defaults)}parser(e,i){return Bl.parse(e,i??this.defaults)}parseMarkdown(e){return(i,s)=>{let n={...s},l={...this.defaults,...n},a=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&n.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=e);let h=l.hooks?l.hooks.provideLexer():e?Il.lex:Il.lexInline,d=l.hooks?l.hooks.provideParser():e?Bl.parse:Bl.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(i):i).then(m=>h(m,l)).then(m=>l.hooks?l.hooks.processAllTokens(m):m).then(m=>l.walkTokens?Promise.all(this.walkTokens(m,l.walkTokens)).then(()=>m):m).then(m=>d(m,l)).then(m=>l.hooks?l.hooks.postprocess(m):m).catch(a);try{l.hooks&&(i=l.hooks.preprocess(i));let m=h(i,l);l.hooks&&(m=l.hooks.processAllTokens(m)),l.walkTokens&&this.walkTokens(m,l.walkTokens);let y=d(m,l);return l.hooks&&(y=l.hooks.postprocess(y)),y}catch(m){return a(m)}}}onError(e,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+No(s.message+"",!0)+"</pre>";return i?Promise.resolve(n):n}if(i)return Promise.reject(s);throw s}}},au=new roe;function Rr(t,e){return au.parse(t,e)}Rr.options=Rr.setOptions=function(t){return au.setOptions(t),Rr.defaults=au.defaults,w4(Rr.defaults),Rr};Rr.getDefaults=KT;Rr.defaults=mu;Rr.use=function(...t){return au.use(...t),Rr.defaults=au.defaults,w4(Rr.defaults),Rr};Rr.walkTokens=function(t,e){return au.walkTokens(t,e)};Rr.parseInline=au.parseInline;Rr.Parser=Bl;Rr.parser=Bl.parse;Rr.Renderer=vb;Rr.TextRenderer=s2;Rr.Lexer=Il;Rr.lexer=Il.lex;Rr.Tokenizer=yb;Rr.Hooks=wv;Rr.parse=Rr;Rr.options;Rr.setOptions;Rr.use;Rr.walkTokens;Rr.parseInline;Bl.parse;Il.lex;function D4(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=Array.from(typeof t=="string"?[t]:t);s[s.length-1]=s[s.length-1].replace(/\r?\n([\t ]*)$/,"");var n=s.reduce(function(h,d){var m=d.match(/\n([\t ]+|(?!\s).)/g);return m?h.concat(m.map(function(y){var b,k;return(k=(b=y.match(/[\t ]/g))===null||b===void 0?void 0:b.length)!==null&&k!==void 0?k:0})):h},[]);if(n.length){var l=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");s=s.map(function(h){return h.replace(l,`
`)})}s[0]=s[0].replace(/^\r?\n/,"");var a=s[0];return e.forEach(function(h,d){var m=a.match(/(?:^|\n)( *)$/),y=m?m[1]:"",b=h;typeof h=="string"&&h.includes(`
`)&&(b=String(h).split(`
`).map(function(k,x){return x===0?k:""+y+k}).join(`
`)),a+=b+s[d+1]}),a}var soe={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},tS=new Map,L4=new Map,noe=q(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ft.debug("Registering icon pack:",e.name),"loader"in e)L4.set(e.name,e.loader);else if("icons"in e)tS.set(e.name,e.icons);else throw ft.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),R4=q(async(t,e)=>{const i=aae(t,!0,e!==void 0);if(!i)throw new Error(`Invalid icon name: ${t}`);const s=i.prefix||e;if(!s)throw new Error(`Icon name must contain a prefix: ${t}`);let n=tS.get(s);if(!n){const a=L4.get(s);if(!a)throw new Error(`Icon set not found: ${i.prefix}`);try{n={...await a(),prefix:s},tS.set(s,n)}catch(h){throw ft.error(h),new Error(`Failed to load icon set: ${i.prefix}`)}}const l=cae(n,i.name);if(!l)throw new Error(`Icon not found: ${t}`);return l},"getRegisteredIconData"),aoe=q(async t=>{try{return await R4(t),!0}catch{return!1}},"isIconAvailable"),ng=q(async(t,e,i)=>{let s;try{s=await R4(t,e==null?void 0:e.fallbackPrefix)}catch(a){ft.error(a),s=soe}const n=gae(s,e),l=wae(_ae(n.body),{...n.attributes,...i});return Ya(l,Cn())},"getIconSVG");function F4(t,{markdownAutoWrap:e}){const s=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=D4(s);return e===!1?n.replace(/ /g,"&nbsp;"):n}q(F4,"preprocessMarkdown");function I4(t,e={}){const i=F4(t,e),s=Rr.lexer(i),n=[[]];let l=0;function a(h,d="normal"){h.type==="text"?h.text.split(`
`).forEach((y,b)=>{b!==0&&(l++,n.push([])),y.split(" ").forEach(k=>{k=k.replace(/&#39;/g,"'"),k&&n[l].push({content:k,type:d})})}):h.type==="strong"||h.type==="em"?h.tokens.forEach(m=>{a(m,h.type)}):h.type==="html"&&n[l].push({content:h.text,type:"normal"})}return q(a,"processNode"),s.forEach(h=>{var d;h.type==="paragraph"?(d=h.tokens)==null||d.forEach(m=>{a(m)}):h.type==="html"?n[l].push({content:h.text,type:"normal"}):n[l].push({content:h.raw,type:"normal"})}),n}q(I4,"markdownToLines");function B4(t,{markdownAutoWrap:e}={}){const i=Rr.lexer(t);function s(n){var l,a,h;return n.type==="text"?e===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${(l=n.tokens)==null?void 0:l.map(s).join("")}</strong>`:n.type==="em"?`<em>${(a=n.tokens)==null?void 0:a.map(s).join("")}</em>`:n.type==="paragraph"?`<p>${(h=n.tokens)==null?void 0:h.map(s).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(ft.warn(`Unsupported markdown: ${n.type}`),n.raw)}return q(s,"output"),i.map(s).join("")}q(B4,"markdownToHTML");function N4(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}q(N4,"splitTextToChars");function z4(t,e){const i=N4(e.content);return n2(t,[],i,e.type)}q(z4,"splitWordToFitWidth");function n2(t,e,i,s){if(i.length===0)return[{content:e.join(""),type:s},{content:"",type:s}];const[n,...l]=i,a=[...e,n];return t([{content:a.join(""),type:s}])?n2(t,a,l,s):(e.length===0&&n&&(e.push(n),i.shift()),[{content:e.join(""),type:s},{content:i.join(""),type:s}])}q(n2,"splitWordToFitWidthRecursion");function U4(t,e){if(t.some(({content:i})=>i.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return bb(t,e)}q(U4,"splitLineToFitWidth");function bb(t,e,i=[],s=[]){if(t.length===0)return s.length>0&&i.push(s),i.length>0?i:[];let n="";t[0].content===" "&&(n=" ",t.shift());const l=t.shift()??{content:" ",type:"normal"},a=[...s];if(n!==""&&a.push({content:n,type:"normal"}),a.push(l),e(a))return bb(t,e,i,a);if(s.length>0)i.push(s),t.unshift(l);else if(l.content){const[h,d]=z4(e,l);i.push([h]),d.content&&t.unshift(d)}return bb(t,e,i)}q(bb,"splitLineToFitWidthRecursion");function iS(t,e){e&&t.attr("style",e)}q(iS,"applyStyle");async function H4(t,e,i,s,n=!1,l=Cn()){const a=t.append("foreignObject");a.attr("width",`${10*i}px`),a.attr("height",`${10*i}px`);const h=a.append("xhtml:div"),d=Fd(e.label)?await fT(e.label.replace(Gd.lineBreakRegex,`
`),l):Ya(e.label,l),m=e.isNode?"nodeLabel":"edgeLabel",y=h.append("span");y.html(d),iS(y,e.labelStyle),y.attr("class",`${m} ${s}`),iS(h,e.labelStyle),h.style("display","table-cell"),h.style("white-space","nowrap"),h.style("line-height","1.5"),h.style("max-width",i+"px"),h.style("text-align","center"),h.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&h.attr("class","labelBkg");let b=h.node().getBoundingClientRect();return b.width===i&&(h.style("display","table"),h.style("white-space","break-spaces"),h.style("width",i+"px"),b=h.node().getBoundingClientRect()),a.node()}q(H4,"addHtmlSpan");function p0(t,e,i){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*i-.1+"em").attr("dy",i+"em")}q(p0,"createTspan");function W4(t,e,i){const s=t.append("text"),n=p0(s,1,e);m0(n,i);const l=n.node().getComputedTextLength();return s.remove(),l}q(W4,"computeWidthOfText");function ooe(t,e,i){var a;const s=t.append("text"),n=p0(s,1,e);m0(n,[{content:i,type:"normal"}]);const l=(a=n.node())==null?void 0:a.getBoundingClientRect();return l&&s.remove(),l}q(ooe,"computeDimensionOfText");function j4(t,e,i,s=!1){const l=e.append("g"),a=l.insert("rect").attr("class","background").attr("style","stroke: none"),h=l.append("text").attr("y","-10.1");let d=0;for(const m of i){const y=q(k=>W4(l,1.1,k)<=t,"checkWidth"),b=y(m)?[m]:U4(m,y);for(const k of b){const x=p0(h,d,1.1);m0(x,k),d++}}if(s){const m=h.node().getBBox(),y=2;return a.attr("x",m.x-y).attr("y",m.y-y).attr("width",m.width+2*y).attr("height",m.height+2*y),l.node()}else return h.node()}q(j4,"createFormattedText");function m0(t,e){t.text(""),e.forEach((i,s)=>{const n=t.append("tspan").attr("font-style",i.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",i.type==="strong"?"bold":"normal");s===0?n.text(i.content):n.text(" "+i.content)})}q(m0,"updateTextContentAndStyles");async function q4(t,e={}){const i=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,l,a)=>(i.push((async()=>{const h=`${l}:${a}`;return await aoe(h)?await ng(h,void 0,{class:"label-icon"}):`<i class='${Ya(n,e).replace(":"," ")}'></i>`})()),n));const s=await Promise.all(i);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>s.shift()??"")}q(q4,"replaceIconSubstring");var Rc=q(async(t,e="",{style:i="",isTitle:s=!1,classes:n="",useHtmlLabels:l=!0,isNode:a=!0,width:h=200,addSvgBackground:d=!1}={},m)=>{if(ft.debug("XYZ createText",e,i,s,n,l,a,"addSvgBackground: ",d),l){const y=B4(e,m),b=await q4(pu(y),m),k=e.replace(/\\\\/g,"\\"),x={isNode:a,label:Fd(e)?k:b,labelStyle:i.replace("fill:","color:")};return await H4(t,x,h,n,d,m)}else{const y=e.replace(/<br\s*\/?>/g,"<br/>"),b=I4(y.replace("<br>","<br/>"),m),k=j4(h,t,b,e?d:!1);if(a){/stroke:/.exec(i)&&(i=i.replace("stroke:","lineColor:"));const x=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");gr(k).attr("style",x)}else{const x=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");gr(k).select("rect").attr("style",x.replace(/background:/g,"fill:"));const E=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");gr(k).select("text").attr("style",E)}return k}},"createText");function Hx(t,e,i){if(t&&t.length){const[s,n]=e,l=Math.PI/180*i,a=Math.cos(l),h=Math.sin(l);for(const d of t){const[m,y]=d;d[0]=(m-s)*a-(y-n)*h+s,d[1]=(m-s)*h+(y-n)*a+n}}}function loe(t,e){return t[0]===e[0]&&t[1]===e[1]}function coe(t,e,i,s=1){const n=i,l=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,h=[0,0];if(n)for(const m of a)Hx(m,h,n);const d=function(m,y,b){const k=[];for(const u of m){const T=[...u];loe(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&k.push(T)}const x=[];y=Math.max(y,.1);const E=[];for(const u of k)for(let T=0;T<u.length-1;T++){const g=u[T],S=u[T+1];if(g[1]!==S[1]){const C=Math.min(g[1],S[1]);E.push({ymin:C,ymax:Math.max(g[1],S[1]),x:C===g[1]?g[0]:S[0],islope:(S[0]-g[0])/(S[1]-g[1])})}}if(E.sort((u,T)=>u.ymin<T.ymin?-1:u.ymin>T.ymin?1:u.x<T.x?-1:u.x>T.x?1:u.ymax===T.ymax?0:(u.ymax-T.ymax)/Math.abs(u.ymax-T.ymax)),!E.length)return x;let O=[],L=E[0].ymin,D=0;for(;O.length||E.length;){if(E.length){let u=-1;for(let T=0;T<E.length&&!(E[T].ymin>L);T++)u=T;E.splice(0,u+1).forEach(T=>{O.push({s:L,edge:T})})}if(O=O.filter(u=>!(u.edge.ymax<=L)),O.sort((u,T)=>u.edge.x===T.edge.x?0:(u.edge.x-T.edge.x)/Math.abs(u.edge.x-T.edge.x)),(b!==1||D%y==0)&&O.length>1)for(let u=0;u<O.length;u+=2){const T=u+1;if(T>=O.length)break;const g=O[u].edge,S=O[T].edge;x.push([[Math.round(g.x),L],[Math.round(S.x),L]])}L+=b,O.forEach(u=>{u.edge.x=u.edge.x+b*u.edge.islope}),D++}return x}(a,l,s);if(n){for(const m of a)Hx(m,h,-n);(function(m,y,b){const k=[];m.forEach(x=>k.push(...x)),Hx(k,y,b)})(d,h,-n)}return d}function ag(t,e){var i;const s=e.hachureAngle+90;let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.round(Math.max(n,.1));let l=1;return e.roughness>=1&&(((i=e.randomizer)===null||i===void 0?void 0:i.next())||Math.random())>.7&&(l=n),coe(t,n,s,l||1)}class a2{constructor(e){this.helper=e}fillPolygons(e,i){return this._fillPolygons(e,i)}_fillPolygons(e,i){const s=ag(e,i);return{type:"fillSketch",ops:this.renderLines(s,i)}}renderLines(e,i){const s=[];for(const n of e)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],i));return s}}function g0(t){const e=t[0],i=t[1];return Math.sqrt(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2))}class hoe extends a2{fillPolygons(e,i){let s=i.hachureGap;s<0&&(s=4*i.strokeWidth),s=Math.max(s,.1);const n=ag(e,Object.assign({},i,{hachureGap:s})),l=Math.PI/180*i.hachureAngle,a=[],h=.5*s*Math.cos(l),d=.5*s*Math.sin(l);for(const[m,y]of n)g0([m,y])&&a.push([[m[0]-h,m[1]+d],[...y]],[[m[0]+h,m[1]-d],[...y]]);return{type:"fillSketch",ops:this.renderLines(a,i)}}}class uoe extends a2{fillPolygons(e,i){const s=this._fillPolygons(e,i),n=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),l=this._fillPolygons(e,n);return s.ops=s.ops.concat(l.ops),s}}class doe{constructor(e){this.helper=e}fillPolygons(e,i){const s=ag(e,i=Object.assign({},i,{hachureAngle:0}));return this.dotsOnLines(s,i)}dotsOnLines(e,i){const s=[];let n=i.hachureGap;n<0&&(n=4*i.strokeWidth),n=Math.max(n,.1);let l=i.fillWeight;l<0&&(l=i.strokeWidth/2);const a=n/4;for(const h of e){const d=g0(h),m=d/n,y=Math.ceil(m)-1,b=d-y*n,k=(h[0][0]+h[1][0])/2-n/4,x=Math.min(h[0][1],h[1][1]);for(let E=0;E<y;E++){const O=x+b+E*n,L=k-a+2*Math.random()*a,D=O-a+2*Math.random()*a,u=this.helper.ellipse(L,D,l,l,i);s.push(...u.ops)}}return{type:"fillSketch",ops:s}}}class foe{constructor(e){this.helper=e}fillPolygons(e,i){const s=ag(e,i);return{type:"fillSketch",ops:this.dashedLine(s,i)}}dashedLine(e,i){const s=i.dashOffset<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashOffset,n=i.dashGap<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashGap,l=[];return e.forEach(a=>{const h=g0(a),d=Math.floor(h/(s+n)),m=(h+n-d*(s+n))/2;let y=a[0],b=a[1];y[0]>b[0]&&(y=a[1],b=a[0]);const k=Math.atan((b[1]-y[1])/(b[0]-y[0]));for(let x=0;x<d;x++){const E=x*(s+n),O=E+s,L=[y[0]+E*Math.cos(k)+m*Math.cos(k),y[1]+E*Math.sin(k)+m*Math.sin(k)],D=[y[0]+O*Math.cos(k)+m*Math.cos(k),y[1]+O*Math.sin(k)+m*Math.sin(k)];l.push(...this.helper.doubleLineOps(L[0],L[1],D[0],D[1],i))}}),l}}class poe{constructor(e){this.helper=e}fillPolygons(e,i){const s=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,n=i.zigzagOffset<0?s:i.zigzagOffset,l=ag(e,i=Object.assign({},i,{hachureGap:s+n}));return{type:"fillSketch",ops:this.zigzagLines(l,n,i)}}zigzagLines(e,i,s){const n=[];return e.forEach(l=>{const a=g0(l),h=Math.round(a/(2*i));let d=l[0],m=l[1];d[0]>m[0]&&(d=l[1],m=l[0]);const y=Math.atan((m[1]-d[1])/(m[0]-d[0]));for(let b=0;b<h;b++){const k=2*b*i,x=2*(b+1)*i,E=Math.sqrt(2*Math.pow(i,2)),O=[d[0]+k*Math.cos(y),d[1]+k*Math.sin(y)],L=[d[0]+x*Math.cos(y),d[1]+x*Math.sin(y)],D=[O[0]+E*Math.cos(y+Math.PI/4),O[1]+E*Math.sin(y+Math.PI/4)];n.push(...this.helper.doubleLineOps(O[0],O[1],D[0],D[1],s),...this.helper.doubleLineOps(D[0],D[1],L[0],L[1],s))}}),n}}const ea={};class moe{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const goe=0,Wx=1,d3=2,Qy={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function jx(t,e){return t.type===e}function o2(t){const e=[],i=function(a){const h=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))h[h.length]={type:goe,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];h[h.length]={type:Wx,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return h[h.length]={type:d3,text:""},h}(t);let s="BOD",n=0,l=i[n];for(;!jx(l,d3);){let a=0;const h=[];if(s==="BOD"){if(l.text!=="M"&&l.text!=="m")return o2("M0,0"+t);n++,a=Qy[l.text],s=l.text}else jx(l,Wx)?a=Qy[s]:(n++,a=Qy[l.text],s=l.text);if(!(n+a<i.length))throw new Error("Path data ended short");for(let d=n;d<n+a;d++){const m=i[d];if(!jx(m,Wx))throw new Error("Param not a number: "+s+","+m.text);h[h.length]=+m.text}if(typeof Qy[s]!="number")throw new Error("Bad segment: "+s);{const d={key:s,data:h};e.push(d),n+=a,l=i[n],s==="M"&&(s="L"),s==="m"&&(s="l")}}return e}function $4(t){let e=0,i=0,s=0,n=0;const l=[];for(const{key:a,data:h}of t)switch(a){case"M":l.push({key:"M",data:[...h]}),[e,i]=h,[s,n]=h;break;case"m":e+=h[0],i+=h[1],l.push({key:"M",data:[e,i]}),s=e,n=i;break;case"L":l.push({key:"L",data:[...h]}),[e,i]=h;break;case"l":e+=h[0],i+=h[1],l.push({key:"L",data:[e,i]});break;case"C":l.push({key:"C",data:[...h]}),e=h[4],i=h[5];break;case"c":{const d=h.map((m,y)=>y%2?m+i:m+e);l.push({key:"C",data:d}),e=d[4],i=d[5];break}case"Q":l.push({key:"Q",data:[...h]}),e=h[2],i=h[3];break;case"q":{const d=h.map((m,y)=>y%2?m+i:m+e);l.push({key:"Q",data:d}),e=d[2],i=d[3];break}case"A":l.push({key:"A",data:[...h]}),e=h[5],i=h[6];break;case"a":e+=h[5],i+=h[6],l.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],e,i]});break;case"H":l.push({key:"H",data:[...h]}),e=h[0];break;case"h":e+=h[0],l.push({key:"H",data:[e]});break;case"V":l.push({key:"V",data:[...h]}),i=h[0];break;case"v":i+=h[0],l.push({key:"V",data:[i]});break;case"S":l.push({key:"S",data:[...h]}),e=h[2],i=h[3];break;case"s":{const d=h.map((m,y)=>y%2?m+i:m+e);l.push({key:"S",data:d}),e=d[2],i=d[3];break}case"T":l.push({key:"T",data:[...h]}),e=h[0],i=h[1];break;case"t":e+=h[0],i+=h[1],l.push({key:"T",data:[e,i]});break;case"Z":case"z":l.push({key:"Z",data:[]}),e=s,i=n}return l}function V4(t){const e=[];let i="",s=0,n=0,l=0,a=0,h=0,d=0;for(const{key:m,data:y}of t){switch(m){case"M":e.push({key:"M",data:[...y]}),[s,n]=y,[l,a]=y;break;case"C":e.push({key:"C",data:[...y]}),s=y[4],n=y[5],h=y[2],d=y[3];break;case"L":e.push({key:"L",data:[...y]}),[s,n]=y;break;case"H":s=y[0],e.push({key:"L",data:[s,n]});break;case"V":n=y[0],e.push({key:"L",data:[s,n]});break;case"S":{let b=0,k=0;i==="C"||i==="S"?(b=s+(s-h),k=n+(n-d)):(b=s,k=n),e.push({key:"C",data:[b,k,...y]}),h=y[0],d=y[1],s=y[2],n=y[3];break}case"T":{const[b,k]=y;let x=0,E=0;i==="Q"||i==="T"?(x=s+(s-h),E=n+(n-d)):(x=s,E=n);const O=s+2*(x-s)/3,L=n+2*(E-n)/3,D=b+2*(x-b)/3,u=k+2*(E-k)/3;e.push({key:"C",data:[O,L,D,u,b,k]}),h=x,d=E,s=b,n=k;break}case"Q":{const[b,k,x,E]=y,O=s+2*(b-s)/3,L=n+2*(k-n)/3,D=x+2*(b-x)/3,u=E+2*(k-E)/3;e.push({key:"C",data:[O,L,D,u,x,E]}),h=b,d=k,s=x,n=E;break}case"A":{const b=Math.abs(y[0]),k=Math.abs(y[1]),x=y[2],E=y[3],O=y[4],L=y[5],D=y[6];b===0||k===0?(e.push({key:"C",data:[s,n,L,D,L,D]}),s=L,n=D):(s!==L||n!==D)&&(Y4(s,n,L,D,b,k,x,E,O).forEach(function(u){e.push({key:"C",data:u})}),s=L,n=D);break}case"Z":e.push({key:"Z",data:[]}),s=l,n=a}i=m}return e}function Ip(t,e,i){return[t*Math.cos(i)-e*Math.sin(i),t*Math.sin(i)+e*Math.cos(i)]}function Y4(t,e,i,s,n,l,a,h,d,m){const y=(b=a,Math.PI*b/180);var b;let k=[],x=0,E=0,O=0,L=0;if(m)[x,E,O,L]=m;else{[t,e]=Ip(t,e,-y),[i,s]=Ip(i,s,-y);const A=(t-i)/2,R=(e-s)/2;let B=A*A/(n*n)+R*R/(l*l);B>1&&(B=Math.sqrt(B),n*=B,l*=B);const W=n*n,$=l*l,G=W*$-W*R*R-$*A*A,ue=W*R*R+$*A*A,Q=(h===d?-1:1)*Math.sqrt(Math.abs(G/ue));O=Q*n*R/l+(t+i)/2,L=Q*-l*A/n+(e+s)/2,x=Math.asin(parseFloat(((e-L)/l).toFixed(9))),E=Math.asin(parseFloat(((s-L)/l).toFixed(9))),t<O&&(x=Math.PI-x),i<O&&(E=Math.PI-E),x<0&&(x=2*Math.PI+x),E<0&&(E=2*Math.PI+E),d&&x>E&&(x-=2*Math.PI),!d&&E>x&&(E-=2*Math.PI)}let D=E-x;if(Math.abs(D)>120*Math.PI/180){const A=E,R=i,B=s;E=d&&E>x?x+120*Math.PI/180*1:x+120*Math.PI/180*-1,k=Y4(i=O+n*Math.cos(E),s=L+l*Math.sin(E),R,B,n,l,a,0,d,[E,A,O,L])}D=E-x;const u=Math.cos(x),T=Math.sin(x),g=Math.cos(E),S=Math.sin(E),C=Math.tan(D/4),P=4/3*n*C,I=4/3*l*C,U=[t,e],z=[t+P*T,e-I*u],f=[i+P*S,s-I*g],w=[i,s];if(z[0]=2*U[0]-z[0],z[1]=2*U[1]-z[1],m)return[z,f,w].concat(k);{k=[z,f,w].concat(k);const A=[];for(let R=0;R<k.length;R+=3){const B=Ip(k[R][0],k[R][1],y),W=Ip(k[R+1][0],k[R+1][1],y),$=Ip(k[R+2][0],k[R+2][1],y);A.push([B[0],B[1],W[0],W[1],$[0],$[1]])}return A}}const yoe={randOffset:function(t,e){return Ui(t,e)},randOffsetWithRange:function(t,e,i){return _b(t,e,i)},ellipse:function(t,e,i,s,n){const l=X4(i,s,n);return rS(t,e,n,l).opset},doubleLineOps:function(t,e,i,s,n){return Oc(t,e,i,s,n,!0)}};function G4(t,e,i,s,n){return{type:"path",ops:Oc(t,e,i,s,n)}}function xv(t,e,i){const s=(t||[]).length;if(s>2){const n=[];for(let l=0;l<s-1;l++)n.push(...Oc(t[l][0],t[l][1],t[l+1][0],t[l+1][1],i));return e&&n.push(...Oc(t[s-1][0],t[s-1][1],t[0][0],t[0][1],i)),{type:"path",ops:n}}return s===2?G4(t[0][0],t[0][1],t[1][0],t[1][1],i):{type:"path",ops:[]}}function voe(t,e,i,s,n){return function(l,a){return xv(l,!0,a)}([[t,e],[t+i,e],[t+i,e+s],[t,e+s]],n)}function f3(t,e){if(t.length){const i=typeof t[0][0]=="number"?[t]:t,s=Jy(i[0],1*(1+.2*e.roughness),e),n=e.disableMultiStroke?[]:Jy(i[0],1.5*(1+.22*e.roughness),g3(e));for(let l=1;l<i.length;l++){const a=i[l];if(a.length){const h=Jy(a,1*(1+.2*e.roughness),e),d=e.disableMultiStroke?[]:Jy(a,1.5*(1+.22*e.roughness),g3(e));for(const m of h)m.op!=="move"&&s.push(m);for(const m of d)m.op!=="move"&&n.push(m)}}return{type:"path",ops:s.concat(n)}}return{type:"path",ops:[]}}function X4(t,e,i){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*s)),l=2*Math.PI/n;let a=Math.abs(t/2),h=Math.abs(e/2);const d=1-i.curveFitting;return a+=Ui(a*d,i),h+=Ui(h*d,i),{increment:l,rx:a,ry:h}}function rS(t,e,i,s){const[n,l]=y3(s.increment,t,e,s.rx,s.ry,1,s.increment*_b(.1,_b(.4,1,i),i),i);let a=wb(n,null,i);if(!i.disableMultiStroke&&i.roughness!==0){const[h]=y3(s.increment,t,e,s.rx,s.ry,1.5,0,i),d=wb(h,null,i);a=a.concat(d)}return{estimatedPoints:l,opset:{type:"path",ops:a}}}function p3(t,e,i,s,n,l,a,h,d){const m=t,y=e;let b=Math.abs(i/2),k=Math.abs(s/2);b+=Ui(.01*b,d),k+=Ui(.01*k,d);let x=n,E=l;for(;x<0;)x+=2*Math.PI,E+=2*Math.PI;E-x>2*Math.PI&&(x=0,E=2*Math.PI);const O=2*Math.PI/d.curveStepCount,L=Math.min(O/2,(E-x)/2),D=v3(L,m,y,b,k,x,E,1,d);if(!d.disableMultiStroke){const u=v3(L,m,y,b,k,x,E,1.5,d);D.push(...u)}return a&&(h?D.push(...Oc(m,y,m+b*Math.cos(x),y+k*Math.sin(x),d),...Oc(m,y,m+b*Math.cos(E),y+k*Math.sin(E),d)):D.push({op:"lineTo",data:[m,y]},{op:"lineTo",data:[m+b*Math.cos(x),y+k*Math.sin(x)]})),{type:"path",ops:D}}function m3(t,e){const i=V4($4(o2(t))),s=[];let n=[0,0],l=[0,0];for(const{key:a,data:h}of i)switch(a){case"M":l=[h[0],h[1]],n=[h[0],h[1]];break;case"L":s.push(...Oc(l[0],l[1],h[0],h[1],e)),l=[h[0],h[1]];break;case"C":{const[d,m,y,b,k,x]=h;s.push(...boe(d,m,y,b,k,x,l,e)),l=[k,x];break}case"Z":s.push(...Oc(l[0],l[1],n[0],n[1],e)),l=[n[0],n[1]]}return{type:"path",ops:s}}function qx(t,e){const i=[];for(const s of t)if(s.length){const n=e.maxRandomnessOffset||0,l=s.length;if(l>2){i.push({op:"move",data:[s[0][0]+Ui(n,e),s[0][1]+Ui(n,e)]});for(let a=1;a<l;a++)i.push({op:"lineTo",data:[s[a][0]+Ui(n,e),s[a][1]+Ui(n,e)]})}}return{type:"fillPath",ops:i}}function Vu(t,e){return function(i,s){let n=i.fillStyle||"hachure";if(!ea[n])switch(n){case"zigzag":ea[n]||(ea[n]=new hoe(s));break;case"cross-hatch":ea[n]||(ea[n]=new uoe(s));break;case"dots":ea[n]||(ea[n]=new doe(s));break;case"dashed":ea[n]||(ea[n]=new foe(s));break;case"zigzag-line":ea[n]||(ea[n]=new poe(s));break;default:n="hachure",ea[n]||(ea[n]=new a2(s))}return ea[n]}(e,yoe).fillPolygons(t,e)}function g3(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function K4(t){return t.randomizer||(t.randomizer=new moe(t.seed||0)),t.randomizer.next()}function _b(t,e,i,s=1){return i.roughness*s*(K4(i)*(e-t)+t)}function Ui(t,e,i=1){return _b(-t,t,e,i)}function Oc(t,e,i,s,n,l=!1){const a=l?n.disableMultiStrokeFill:n.disableMultiStroke,h=sS(t,e,i,s,n,!0,!1);if(a)return h;const d=sS(t,e,i,s,n,!0,!0);return h.concat(d)}function sS(t,e,i,s,n,l,a){const h=Math.pow(t-i,2)+Math.pow(e-s,2),d=Math.sqrt(h);let m=1;m=d<200?1:d>500?.4:-.0016668*d+1.233334;let y=n.maxRandomnessOffset||0;y*y*100>h&&(y=d/10);const b=y/2,k=.2+.2*K4(n);let x=n.bowing*n.maxRandomnessOffset*(s-e)/200,E=n.bowing*n.maxRandomnessOffset*(t-i)/200;x=Ui(x,n,m),E=Ui(E,n,m);const O=[],L=()=>Ui(b,n,m),D=()=>Ui(y,n,m),u=n.preserveVertices;return a?O.push({op:"move",data:[t+(u?0:L()),e+(u?0:L())]}):O.push({op:"move",data:[t+(u?0:Ui(y,n,m)),e+(u?0:Ui(y,n,m))]}),a?O.push({op:"bcurveTo",data:[x+t+(i-t)*k+L(),E+e+(s-e)*k+L(),x+t+2*(i-t)*k+L(),E+e+2*(s-e)*k+L(),i+(u?0:L()),s+(u?0:L())]}):O.push({op:"bcurveTo",data:[x+t+(i-t)*k+D(),E+e+(s-e)*k+D(),x+t+2*(i-t)*k+D(),E+e+2*(s-e)*k+D(),i+(u?0:D()),s+(u?0:D())]}),O}function Jy(t,e,i){if(!t.length)return[];const s=[];s.push([t[0][0]+Ui(e,i),t[0][1]+Ui(e,i)]),s.push([t[0][0]+Ui(e,i),t[0][1]+Ui(e,i)]);for(let n=1;n<t.length;n++)s.push([t[n][0]+Ui(e,i),t[n][1]+Ui(e,i)]),n===t.length-1&&s.push([t[n][0]+Ui(e,i),t[n][1]+Ui(e,i)]);return wb(s,null,i)}function wb(t,e,i){const s=t.length,n=[];if(s>3){const l=[],a=1-i.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(let h=1;h+2<s;h++){const d=t[h];l[0]=[d[0],d[1]],l[1]=[d[0]+(a*t[h+1][0]-a*t[h-1][0])/6,d[1]+(a*t[h+1][1]-a*t[h-1][1])/6],l[2]=[t[h+1][0]+(a*t[h][0]-a*t[h+2][0])/6,t[h+1][1]+(a*t[h][1]-a*t[h+2][1])/6],l[3]=[t[h+1][0],t[h+1][1]],n.push({op:"bcurveTo",data:[l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]]})}}else s===3?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&n.push(...sS(t[0][0],t[0][1],t[1][0],t[1][1],i,!0,!0));return n}function y3(t,e,i,s,n,l,a,h){const d=[],m=[];if(h.roughness===0){t/=4,m.push([e+s*Math.cos(-t),i+n*Math.sin(-t)]);for(let y=0;y<=2*Math.PI;y+=t){const b=[e+s*Math.cos(y),i+n*Math.sin(y)];d.push(b),m.push(b)}m.push([e+s*Math.cos(0),i+n*Math.sin(0)]),m.push([e+s*Math.cos(t),i+n*Math.sin(t)])}else{const y=Ui(.5,h)-Math.PI/2;m.push([Ui(l,h)+e+.9*s*Math.cos(y-t),Ui(l,h)+i+.9*n*Math.sin(y-t)]);const b=2*Math.PI+y-.01;for(let k=y;k<b;k+=t){const x=[Ui(l,h)+e+s*Math.cos(k),Ui(l,h)+i+n*Math.sin(k)];d.push(x),m.push(x)}m.push([Ui(l,h)+e+s*Math.cos(y+2*Math.PI+.5*a),Ui(l,h)+i+n*Math.sin(y+2*Math.PI+.5*a)]),m.push([Ui(l,h)+e+.98*s*Math.cos(y+a),Ui(l,h)+i+.98*n*Math.sin(y+a)]),m.push([Ui(l,h)+e+.9*s*Math.cos(y+.5*a),Ui(l,h)+i+.9*n*Math.sin(y+.5*a)])}return[m,d]}function v3(t,e,i,s,n,l,a,h,d){const m=l+Ui(.1,d),y=[];y.push([Ui(h,d)+e+.9*s*Math.cos(m-t),Ui(h,d)+i+.9*n*Math.sin(m-t)]);for(let b=m;b<=a;b+=t)y.push([Ui(h,d)+e+s*Math.cos(b),Ui(h,d)+i+n*Math.sin(b)]);return y.push([e+s*Math.cos(a),i+n*Math.sin(a)]),y.push([e+s*Math.cos(a),i+n*Math.sin(a)]),wb(y,null,d)}function boe(t,e,i,s,n,l,a,h){const d=[],m=[h.maxRandomnessOffset||1,(h.maxRandomnessOffset||1)+.3];let y=[0,0];const b=h.disableMultiStroke?1:2,k=h.preserveVertices;for(let x=0;x<b;x++)x===0?d.push({op:"move",data:[a[0],a[1]]}):d.push({op:"move",data:[a[0]+(k?0:Ui(m[0],h)),a[1]+(k?0:Ui(m[0],h))]}),y=k?[n,l]:[n+Ui(m[x],h),l+Ui(m[x],h)],d.push({op:"bcurveTo",data:[t+Ui(m[x],h),e+Ui(m[x],h),i+Ui(m[x],h),s+Ui(m[x],h),y[0],y[1]]});return d}function Bp(t){return[...t]}function b3(t,e=0){const i=t.length;if(i<3)throw new Error("A curve must have at least three points.");const s=[];if(i===3)s.push(Bp(t[0]),Bp(t[1]),Bp(t[2]),Bp(t[2]));else{const n=[];n.push(t[0],t[0]);for(let h=1;h<t.length;h++)n.push(t[h]),h===t.length-1&&n.push(t[h]);const l=[],a=1-e;s.push(Bp(n[0]));for(let h=1;h+2<n.length;h++){const d=n[h];l[0]=[d[0],d[1]],l[1]=[d[0]+(a*n[h+1][0]-a*n[h-1][0])/6,d[1]+(a*n[h+1][1]-a*n[h-1][1])/6],l[2]=[n[h+1][0]+(a*n[h][0]-a*n[h+2][0])/6,n[h+1][1]+(a*n[h][1]-a*n[h+2][1])/6],l[3]=[n[h+1][0],n[h+1][1]],s.push(l[1],l[2],l[3])}}return s}function kv(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function _oe(t,e,i){const s=kv(e,i);if(s===0)return kv(t,e);let n=((t[0]-e[0])*(i[0]-e[0])+(t[1]-e[1])*(i[1]-e[1]))/s;return n=Math.max(0,Math.min(1,n)),kv(t,Rh(e,i,n))}function Rh(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}function nS(t,e,i,s){const n=s||[];if(function(h,d){const m=h[d+0],y=h[d+1],b=h[d+2],k=h[d+3];let x=3*y[0]-2*m[0]-k[0];x*=x;let E=3*y[1]-2*m[1]-k[1];E*=E;let O=3*b[0]-2*k[0]-m[0];O*=O;let L=3*b[1]-2*k[1]-m[1];return L*=L,x<O&&(x=O),E<L&&(E=L),x+E}(t,e)<i){const h=t[e+0];n.length?(l=n[n.length-1],a=h,Math.sqrt(kv(l,a))>1&&n.push(h)):n.push(h),n.push(t[e+3])}else{const d=t[e+0],m=t[e+1],y=t[e+2],b=t[e+3],k=Rh(d,m,.5),x=Rh(m,y,.5),E=Rh(y,b,.5),O=Rh(k,x,.5),L=Rh(x,E,.5),D=Rh(O,L,.5);nS([d,k,O,D],0,i,n),nS([D,L,E,b],0,i,n)}var l,a;return n}function woe(t,e){return xb(t,0,t.length,e)}function xb(t,e,i,s,n){const l=n||[],a=t[e],h=t[i-1];let d=0,m=1;for(let y=e+1;y<i-1;++y){const b=_oe(t[y],a,h);b>d&&(d=b,m=y)}return Math.sqrt(d)>s?(xb(t,e,m+1,s,l),xb(t,m,i,s,l)):(l.length||l.push(a),l.push(h)),l}function $x(t,e=.15,i){const s=[],n=(t.length-1)/3;for(let l=0;l<n;l++)nS(t,3*l,e,s);return i&&i>0?xb(s,0,s.length,i):s}const wa="none";class kb{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,i,s){return{shape:e,sets:i||[],options:s||this.defaultOptions}}line(e,i,s,n,l){const a=this._o(l);return this._d("line",[G4(e,i,s,n,a)],a)}rectangle(e,i,s,n,l){const a=this._o(l),h=[],d=voe(e,i,s,n,a);if(a.fill){const m=[[e,i],[e+s,i],[e+s,i+n],[e,i+n]];a.fillStyle==="solid"?h.push(qx([m],a)):h.push(Vu([m],a))}return a.stroke!==wa&&h.push(d),this._d("rectangle",h,a)}ellipse(e,i,s,n,l){const a=this._o(l),h=[],d=X4(s,n,a),m=rS(e,i,a,d);if(a.fill)if(a.fillStyle==="solid"){const y=rS(e,i,a,d).opset;y.type="fillPath",h.push(y)}else h.push(Vu([m.estimatedPoints],a));return a.stroke!==wa&&h.push(m.opset),this._d("ellipse",h,a)}circle(e,i,s,n){const l=this.ellipse(e,i,s,s,n);return l.shape="circle",l}linearPath(e,i){const s=this._o(i);return this._d("linearPath",[xv(e,!1,s)],s)}arc(e,i,s,n,l,a,h=!1,d){const m=this._o(d),y=[],b=p3(e,i,s,n,l,a,h,!0,m);if(h&&m.fill)if(m.fillStyle==="solid"){const k=Object.assign({},m);k.disableMultiStroke=!0;const x=p3(e,i,s,n,l,a,!0,!1,k);x.type="fillPath",y.push(x)}else y.push(function(k,x,E,O,L,D,u){const T=k,g=x;let S=Math.abs(E/2),C=Math.abs(O/2);S+=Ui(.01*S,u),C+=Ui(.01*C,u);let P=L,I=D;for(;P<0;)P+=2*Math.PI,I+=2*Math.PI;I-P>2*Math.PI&&(P=0,I=2*Math.PI);const U=(I-P)/u.curveStepCount,z=[];for(let f=P;f<=I;f+=U)z.push([T+S*Math.cos(f),g+C*Math.sin(f)]);return z.push([T+S*Math.cos(I),g+C*Math.sin(I)]),z.push([T,g]),Vu([z],u)}(e,i,s,n,l,a,m));return m.stroke!==wa&&y.push(b),this._d("arc",y,m)}curve(e,i){const s=this._o(i),n=[],l=f3(e,s);if(s.fill&&s.fill!==wa)if(s.fillStyle==="solid"){const a=f3(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],h=e;if(h.length){const d=typeof h[0][0]=="number"?[h]:h;for(const m of d)m.length<3?a.push(...m):m.length===3?a.push(...$x(b3([m[0],m[0],m[1],m[2]]),10,(1+s.roughness)/2)):a.push(...$x(b3(m),10,(1+s.roughness)/2))}a.length&&n.push(Vu([a],s))}return s.stroke!==wa&&n.push(l),this._d("curve",n,s)}polygon(e,i){const s=this._o(i),n=[],l=xv(e,!0,s);return s.fill&&(s.fillStyle==="solid"?n.push(qx([e],s)):n.push(Vu([e],s))),s.stroke!==wa&&n.push(l),this._d("polygon",n,s)}path(e,i){const s=this._o(i),n=[];if(!e)return this._d("path",n,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const l=s.fill&&s.fill!=="transparent"&&s.fill!==wa,a=s.stroke!==wa,h=!!(s.simplification&&s.simplification<1),d=function(y,b,k){const x=V4($4(o2(y))),E=[];let O=[],L=[0,0],D=[];const u=()=>{D.length>=4&&O.push(...$x(D,b)),D=[]},T=()=>{u(),O.length&&(E.push(O),O=[])};for(const{key:S,data:C}of x)switch(S){case"M":T(),L=[C[0],C[1]],O.push(L);break;case"L":u(),O.push([C[0],C[1]]);break;case"C":if(!D.length){const P=O.length?O[O.length-1]:L;D.push([P[0],P[1]])}D.push([C[0],C[1]]),D.push([C[2],C[3]]),D.push([C[4],C[5]]);break;case"Z":u(),O.push([L[0],L[1]])}if(T(),!k)return E;const g=[];for(const S of E){const C=woe(S,k);C.length&&g.push(C)}return g}(e,1,h?4-4*(s.simplification||1):(1+s.roughness)/2),m=m3(e,s);if(l)if(s.fillStyle==="solid")if(d.length===1){const y=m3(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(y.ops)})}else n.push(qx(d,s));else n.push(Vu(d,s));return a&&(h?d.forEach(y=>{n.push(xv(y,!1,s))}):n.push(m)),this._d("path",n,s)}opsToPath(e,i){let s="";for(const n of e.ops){const l=typeof i=="number"&&i>=0?n.data.map(a=>+a.toFixed(i)):n.data;switch(n.op){case"move":s+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":s+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":s+=`L${l[0]} ${l[1]} `}}return s.trim()}toPaths(e){const i=e.sets||[],s=e.options||this.defaultOptions,n=[];for(const l of i){let a=null;switch(l.type){case"path":a={d:this.opsToPath(l),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:wa};break;case"fillPath":a={d:this.opsToPath(l),stroke:wa,strokeWidth:0,fill:s.fill||wa};break;case"fillSketch":a=this.fillSketch(l,s)}a&&n.push(a)}return n}fillSketch(e,i){let s=i.fillWeight;return s<0&&(s=i.strokeWidth/2),{d:this.opsToPath(e),stroke:i.fill||wa,strokeWidth:s,fill:wa}}_mergedShape(e){return e.filter((i,s)=>s===0||i.op!=="move")}}class xoe{constructor(e,i){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new kb(i)}draw(e){const i=e.sets||[],s=e.options||this.getDefaultOptions(),n=this.ctx,l=e.options.fixedDecimalPlaceDigits;for(const a of i)switch(a.type){case"path":n.save(),n.strokeStyle=s.stroke==="none"?"transparent":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,a,l),n.restore();break;case"fillPath":{n.save(),n.fillStyle=s.fill||"";const h=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,a,l,h),n.restore();break}case"fillSketch":this.fillSketch(n,a,s)}}fillSketch(e,i,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),e.save(),s.fillLineDash&&e.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(e.lineDashOffset=s.fillLineDashOffset),e.strokeStyle=s.fill||"",e.lineWidth=n,this._drawToContext(e,i,s.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,i,s,n="nonzero"){e.beginPath();for(const l of i.ops){const a=typeof s=="number"&&s>=0?l.data.map(h=>+h.toFixed(s)):l.data;switch(l.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}i.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,i,s,n,l){const a=this.gen.line(e,i,s,n,l);return this.draw(a),a}rectangle(e,i,s,n,l){const a=this.gen.rectangle(e,i,s,n,l);return this.draw(a),a}ellipse(e,i,s,n,l){const a=this.gen.ellipse(e,i,s,n,l);return this.draw(a),a}circle(e,i,s,n){const l=this.gen.circle(e,i,s,n);return this.draw(l),l}linearPath(e,i){const s=this.gen.linearPath(e,i);return this.draw(s),s}polygon(e,i){const s=this.gen.polygon(e,i);return this.draw(s),s}arc(e,i,s,n,l,a,h=!1,d){const m=this.gen.arc(e,i,s,n,l,a,h,d);return this.draw(m),m}curve(e,i){const s=this.gen.curve(e,i);return this.draw(s),s}path(e,i){const s=this.gen.path(e,i);return this.draw(s),s}}const ev="http://www.w3.org/2000/svg";class koe{constructor(e,i){this.svg=e,this.gen=new kb(i)}draw(e){const i=e.sets||[],s=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,l=n.createElementNS(ev,"g"),a=e.options.fixedDecimalPlaceDigits;for(const h of i){let d=null;switch(h.type){case"path":d=n.createElementNS(ev,"path"),d.setAttribute("d",this.opsToPath(h,a)),d.setAttribute("stroke",s.stroke),d.setAttribute("stroke-width",s.strokeWidth+""),d.setAttribute("fill","none"),s.strokeLineDash&&d.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":d=n.createElementNS(ev,"path"),d.setAttribute("d",this.opsToPath(h,a)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",s.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||d.setAttribute("fill-rule","evenodd");break;case"fillSketch":d=this.fillSketch(n,h,s)}d&&l.appendChild(d)}return l}fillSketch(e,i,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const l=e.createElementNS(ev,"path");return l.setAttribute("d",this.opsToPath(i,s.fixedDecimalPlaceDigits)),l.setAttribute("stroke",s.fill||""),l.setAttribute("stroke-width",n+""),l.setAttribute("fill","none"),s.fillLineDash&&l.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,i){return this.gen.opsToPath(e,i)}line(e,i,s,n,l){const a=this.gen.line(e,i,s,n,l);return this.draw(a)}rectangle(e,i,s,n,l){const a=this.gen.rectangle(e,i,s,n,l);return this.draw(a)}ellipse(e,i,s,n,l){const a=this.gen.ellipse(e,i,s,n,l);return this.draw(a)}circle(e,i,s,n){const l=this.gen.circle(e,i,s,n);return this.draw(l)}linearPath(e,i){const s=this.gen.linearPath(e,i);return this.draw(s)}polygon(e,i){const s=this.gen.polygon(e,i);return this.draw(s)}arc(e,i,s,n,l,a,h=!1,d){const m=this.gen.arc(e,i,s,n,l,a,h,d);return this.draw(m)}curve(e,i){const s=this.gen.curve(e,i);return this.draw(s)}path(e,i){const s=this.gen.path(e,i);return this.draw(s)}}var di={canvas:(t,e)=>new xoe(t,e),svg:(t,e)=>new koe(t,e),generator:t=>new kb(t),newSeed:()=>kb.newSeed()},qi=q(async(t,e,i)=>{var b,k;let s;const n=e.useHtmlLabels||qs((b=Lr())==null?void 0:b.htmlLabels);i?s=i:s="node default";const l=t.insert("g").attr("class",s).attr("id",e.domId||e.id),a=l.insert("g").attr("class","label").attr("style",ca(e.labelStyle));let h;e.label===void 0?h="":h=typeof e.label=="string"?e.label:e.label[0];const d=await Rc(a,Ya(pu(h),Lr()),{useHtmlLabels:n,width:e.width||((k=Lr().flowchart)==null?void 0:k.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let m=d.getBBox();const y=((e==null?void 0:e.padding)??0)/2;if(n){const x=d.children[0],E=gr(d),O=x.getElementsByTagName("img");if(O){const L=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...O].map(D=>new Promise(u=>{function T(){if(D.style.display="flex",D.style.flexDirection="column",L){const g=Lr().fontSize?Lr().fontSize:window.getComputedStyle(document.body).fontSize,S=5,[C=JI.fontSize]=u0(g),P=C*S+"px";D.style.minWidth=P,D.style.maxWidth=P}else D.style.width="100%";u(D)}q(T,"setupImage"),setTimeout(()=>{D.complete&&T()}),D.addEventListener("error",T),D.addEventListener("load",T)})))}m=x.getBoundingClientRect(),E.attr("width",m.width),E.attr("height",m.height)}return n?a.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"):a.attr("transform","translate(0, "+-m.height/2+")"),e.centerLabel&&a.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:l,bbox:m,halfPadding:y,label:a}},"labelHelper"),Vx=q(async(t,e,i)=>{var d,m,y,b,k,x;const s=i.useHtmlLabels||qs((m=(d=Lr())==null?void 0:d.flowchart)==null?void 0:m.htmlLabels),n=t.insert("g").attr("class","label").attr("style",i.labelStyle||""),l=await Rc(n,Ya(pu(e),Lr()),{useHtmlLabels:s,width:i.width||((b=(y=Lr())==null?void 0:y.flowchart)==null?void 0:b.wrappingWidth),style:i.labelStyle,addSvgBackground:!!i.icon||!!i.img});let a=l.getBBox();const h=i.padding/2;if(qs((x=(k=Lr())==null?void 0:k.flowchart)==null?void 0:x.htmlLabels)){const E=l.children[0],O=gr(l);a=E.getBoundingClientRect(),O.attr("width",a.width),O.attr("height",a.height)}return s?n.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):n.attr("transform","translate(0, "+-a.height/2+")"),i.centerLabel&&n.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:t,bbox:a,halfPadding:h,label:n}},"insertLabel"),_i=q((t,e)=>{const i=e.node().getBBox();t.width=i.width,t.height=i.height},"updateNodeBounds"),Ni=q((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function ur(t){const e=t.map((i,s)=>`${s===0?"M":"L"}${i.x},${i.y}`);return e.push("Z"),e.join(" ")}q(ur,"createPathFromPoints");function Mc(t,e,i,s,n,l){const a=[],d=i-t,m=s-e,y=d/l,b=2*Math.PI/y,k=e+m/2;for(let x=0;x<=50;x++){const E=x/50,O=t+E*d,L=k+n*Math.sin(b*(O-t));a.push({x:O,y:L})}return a}q(Mc,"generateFullSineWavePoints");function Bm(t,e,i,s,n,l){const a=[],h=n*Math.PI/180,y=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*y,x=t+i*Math.cos(k),E=e+i*Math.sin(k);a.push({x:-x,y:-E})}return a}q(Bm,"generateCirclePoints");var Soe=q((t,e)=>{var i=t.x,s=t.y,n=e.x-i,l=e.y-s,a=t.width/2,h=t.height/2,d,m;return Math.abs(l)*a>Math.abs(n)*h?(l<0&&(h=-h),d=l===0?0:h*n/l,m=h):(n<0&&(a=-a),d=a,m=n===0?0:a*l/n),{x:i+d,y:s+m}},"intersectRect"),Qd=Soe;function Z4(t,e){e&&t.attr("style",e)}q(Z4,"applyStyle");async function Q4(t){const e=gr(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=e.append("xhtml:div"),s=Lr();let n=t.label;t.label&&Fd(t.label)&&(n=await fT(t.label.replace(Gd.lineBreakRegex,`
`),s));const a='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>";return i.html(Ya(a,s)),Z4(i,t.labelStyle),i.style("display","inline-block"),i.style("padding-right","1px"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}q(Q4,"addHtmlLabel");var Toe=q(async(t,e,i,s)=>{let n=t||"";if(typeof n=="object"&&(n=n[0]),qs(Lr().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),ft.info("vertexText"+n);const l={isNode:s,label:pu(n).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await Q4(l)}else{const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",e.replace("color:","fill:"));let a=[];typeof n=="string"?a=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?a=n:a=[];for(const h of a){const d=document.createElementNS("http://www.w3.org/2000/svg","tspan");d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.setAttribute("dy","1em"),d.setAttribute("x","0"),i?d.setAttribute("class","title-row"):d.setAttribute("class","row"),d.textContent=h.trim(),l.appendChild(d)}return l}},"createLabel"),qh=Toe,Fc=q((t,e,i,s,n)=>["M",t+n,e,"H",t+i-n,"A",n,n,0,0,1,t+i,e+n,"V",e+s-n,"A",n,n,0,0,1,t+i-n,e+s,"H",t+n,"A",n,n,0,0,1,t,e+s-n,"V",e+n,"A",n,n,0,0,1,t+n,e,"Z"].join(" "),"createRoundedRectPathD"),J4=q(async(t,e)=>{ft.info("Creating subgraph rect for ",e.id,e);const i=Lr(),{themeVariables:s,handDrawnSeed:n}=i,{clusterBkg:l,clusterBorder:a}=s,{labelStyles:h,nodeStyles:d,borderStyles:m,backgroundStyles:y}=wi(e),b=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),k=qs(i.flowchart.htmlLabels),x=b.insert("g").attr("class","cluster-label "),E=await Rc(x,e.label,{style:e.labelStyle,useHtmlLabels:k,isNode:!0});let O=E.getBBox();if(qs(i.flowchart.htmlLabels)){const P=E.children[0],I=gr(E);O=P.getBoundingClientRect(),I.attr("width",O.width),I.attr("height",O.height)}const L=e.width<=O.width+e.padding?O.width+e.padding:e.width;e.width<=O.width+e.padding?e.diff=(L-e.width)/2-e.padding:e.diff=-e.padding;const D=e.height,u=e.x-L/2,T=e.y-D/2;ft.trace("Data ",e,JSON.stringify(e));let g;if(e.look==="handDrawn"){const P=di.svg(b),I=fi(e,{roughness:.7,fill:l,stroke:a,fillWeight:3,seed:n}),U=P.path(Fc(u,T,L,D,0),I);g=b.insert(()=>(ft.debug("Rough node insert CXC",U),U),":first-child"),g.select("path:nth-child(2)").attr("style",m.join(";")),g.select("path").attr("style",y.join(";").replace("fill","stroke"))}else g=b.insert("rect",":first-child"),g.attr("style",d).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",T).attr("width",L).attr("height",D);const{subGraphTitleTopMargin:S}=CT(i);if(x.attr("transform",`translate(${e.x-O.width/2}, ${e.y-e.height/2+S})`),h){const P=x.select("span");P&&P.attr("style",h)}const C=g.node().getBBox();return e.offsetX=0,e.width=C.width,e.height=C.height,e.offsetY=O.height-e.padding/2,e.intersect=function(P){return Qd(e,P)},{cluster:b,labelBBox:O}},"rect"),Coe=q((t,e)=>{const i=t.insert("g").attr("class","note-cluster").attr("id",e.id),s=i.insert("rect",":first-child"),n=0*e.padding,l=n/2;s.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-l).attr("y",e.y-e.height/2-l).attr("width",e.width+n).attr("height",e.height+n).attr("fill","none");const a=s.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(h){return Qd(e,h)},{cluster:i,labelBBox:{width:0,height:0}}},"noteGroup"),Eoe=q(async(t,e)=>{const i=Lr(),{themeVariables:s,handDrawnSeed:n}=i,{altBackground:l,compositeBackground:a,compositeTitleBackground:h,nodeBorder:d}=s,m=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),y=m.insert("g",":first-child"),b=m.insert("g").attr("class","cluster-label");let k=m.append("rect");const x=b.node().appendChild(await qh(e.label,e.labelStyle,void 0,!0));let E=x.getBBox();if(qs(i.flowchart.htmlLabels)){const U=x.children[0],z=gr(x);E=U.getBoundingClientRect(),z.attr("width",E.width),z.attr("height",E.height)}const O=0*e.padding,L=O/2,D=(e.width<=E.width+e.padding?E.width+e.padding:e.width)+O;e.width<=E.width+e.padding?e.diff=(D-e.width)/2-e.padding:e.diff=-e.padding;const u=e.height+O,T=e.height+O-E.height-6,g=e.x-D/2,S=e.y-u/2;e.width=D;const C=e.y-e.height/2-L+E.height+2;let P;if(e.look==="handDrawn"){const U=e.cssClasses.includes("statediagram-cluster-alt"),z=di.svg(m),f=e.rx||e.ry?z.path(Fc(g,S,D,u,10),{roughness:.7,fill:h,fillStyle:"solid",stroke:d,seed:n}):z.rectangle(g,S,D,u,{seed:n});P=m.insert(()=>f,":first-child");const w=z.rectangle(g,C,D,T,{fill:U?l:a,fillStyle:U?"hachure":"solid",stroke:d,seed:n});P=m.insert(()=>f,":first-child"),k=m.insert(()=>w)}else P=y.insert("rect",":first-child"),P.attr("class","outer").attr("x",g).attr("y",S).attr("width",D).attr("height",u).attr("data-look",e.look),k.attr("class","inner").attr("x",g).attr("y",C).attr("width",D).attr("height",T);b.attr("transform",`translate(${e.x-E.width/2}, ${S+1-(qs(i.flowchart.htmlLabels)?0:3)})`);const I=P.node().getBBox();return e.height=I.height,e.offsetX=0,e.offsetY=E.height-e.padding/2,e.labelBBox=E,e.intersect=function(U){return Qd(e,U)},{cluster:m,labelBBox:E}},"roundedWithTitle"),Ooe=q(async(t,e)=>{ft.info("Creating subgraph rect for ",e.id,e);const i=Lr(),{themeVariables:s,handDrawnSeed:n}=i,{clusterBkg:l,clusterBorder:a}=s,{labelStyles:h,nodeStyles:d,borderStyles:m,backgroundStyles:y}=wi(e),b=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),k=qs(i.flowchart.htmlLabels),x=b.insert("g").attr("class","cluster-label "),E=await Rc(x,e.label,{style:e.labelStyle,useHtmlLabels:k,isNode:!0,width:e.width});let O=E.getBBox();if(qs(i.flowchart.htmlLabels)){const P=E.children[0],I=gr(E);O=P.getBoundingClientRect(),I.attr("width",O.width),I.attr("height",O.height)}const L=e.width<=O.width+e.padding?O.width+e.padding:e.width;e.width<=O.width+e.padding?e.diff=(L-e.width)/2-e.padding:e.diff=-e.padding;const D=e.height,u=e.x-L/2,T=e.y-D/2;ft.trace("Data ",e,JSON.stringify(e));let g;if(e.look==="handDrawn"){const P=di.svg(b),I=fi(e,{roughness:.7,fill:l,stroke:a,fillWeight:4,seed:n}),U=P.path(Fc(u,T,L,D,e.rx),I);g=b.insert(()=>(ft.debug("Rough node insert CXC",U),U),":first-child"),g.select("path:nth-child(2)").attr("style",m.join(";")),g.select("path").attr("style",y.join(";").replace("fill","stroke"))}else g=b.insert("rect",":first-child"),g.attr("style",d).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",T).attr("width",L).attr("height",D);const{subGraphTitleTopMargin:S}=CT(i);if(x.attr("transform",`translate(${e.x-O.width/2}, ${e.y-e.height/2+S})`),h){const P=x.select("span");P&&P.attr("style",h)}const C=g.node().getBBox();return e.offsetX=0,e.width=C.width,e.height=C.height,e.offsetY=O.height-e.padding/2,e.intersect=function(P){return Qd(e,P)},{cluster:b,labelBBox:O}},"kanbanSection"),Moe=q((t,e)=>{const i=Lr(),{themeVariables:s,handDrawnSeed:n}=i,{nodeBorder:l}=s,a=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=a.insert("g",":first-child"),d=0*e.padding,m=e.width+d;e.diff=-e.padding;const y=e.height+d,b=e.x-m/2,k=e.y-y/2;e.width=m;let x;if(e.look==="handDrawn"){const L=di.svg(a).rectangle(b,k,m,y,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:l,seed:n});x=a.insert(()=>L,":first-child")}else x=h.insert("rect",":first-child"),x.attr("class","divider").attr("x",b).attr("y",k).attr("width",m).attr("height",y).attr("data-look",e.look);const E=x.node().getBBox();return e.height=E.height,e.offsetX=0,e.offsetY=0,e.intersect=function(O){return Qd(e,O)},{cluster:a,labelBBox:{}}},"divider"),Aoe=J4,Poe={rect:J4,squareRect:Aoe,roundedWithTitle:Eoe,noteGroup:Coe,divider:Moe,kanbanSection:Ooe},e6=new Map,Doe=q(async(t,e)=>{const i=e.shape||"rect",s=await Poe[i](t,e);return e6.set(e.id,s),s},"insertCluster"),Vde=q(()=>{e6=new Map},"clear");function t6(t,e){return t.intersect(e)}q(t6,"intersectNode");var Loe=t6;function i6(t,e,i,s){var n=t.x,l=t.y,a=n-s.x,h=l-s.y,d=Math.sqrt(e*e*h*h+i*i*a*a),m=Math.abs(e*i*a/d);s.x<n&&(m=-m);var y=Math.abs(e*i*h/d);return s.y<l&&(y=-y),{x:n+m,y:l+y}}q(i6,"intersectEllipse");var r6=i6;function s6(t,e,i){return r6(t,e,e,i)}q(s6,"intersectCircle");var Roe=s6;function n6(t,e,i,s){var n,l,a,h,d,m,y,b,k,x,E,O,L,D,u;if(n=e.y-t.y,a=t.x-e.x,d=e.x*t.y-t.x*e.y,k=n*i.x+a*i.y+d,x=n*s.x+a*s.y+d,!(k!==0&&x!==0&&aS(k,x))&&(l=s.y-i.y,h=i.x-s.x,m=s.x*i.y-i.x*s.y,y=l*t.x+h*t.y+m,b=l*e.x+h*e.y+m,!(y!==0&&b!==0&&aS(y,b))&&(E=n*h-l*a,E!==0)))return O=Math.abs(E/2),L=a*m-h*d,D=L<0?(L-O)/E:(L+O)/E,L=l*d-n*m,u=L<0?(L-O)/E:(L+O)/E,{x:D,y:u}}q(n6,"intersectLine");function aS(t,e){return t*e>0}q(aS,"sameSign");var Foe=n6;function a6(t,e,i){let s=t.x,n=t.y,l=[],a=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(y){a=Math.min(a,y.x),h=Math.min(h,y.y)}):(a=Math.min(a,e.x),h=Math.min(h,e.y));let d=s-t.width/2-a,m=n-t.height/2-h;for(let y=0;y<e.length;y++){let b=e[y],k=e[y<e.length-1?y+1:0],x=Foe(t,i,{x:d+b.x,y:m+b.y},{x:d+k.x,y:m+k.y});x&&l.push(x)}return l.length?(l.length>1&&l.sort(function(y,b){let k=y.x-i.x,x=y.y-i.y,E=Math.sqrt(k*k+x*x),O=b.x-i.x,L=b.y-i.y,D=Math.sqrt(O*O+L*L);return E<D?-1:E===D?0:1}),l[0]):t}q(a6,"intersectPolygon");var Ioe=a6,hi={node:Loe,circle:Roe,ellipse:r6,polygon:Ioe,rect:Qd};function o6(t,e){const{labelStyles:i}=wi(e);e.labelStyle=i;const s=Ni(e);let n=s;s||(n="anchor");const l=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=1,{cssStyles:h}=e,d=di.svg(l),m=fi(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(m.roughness=0);const y=d.circle(0,0,a*2,m),b=l.insert(()=>y,":first-child");return b.attr("class","anchor").attr("style",ca(h)),_i(e,b),e.intersect=function(k){return ft.info("Circle intersect",e,a,k),hi.circle(e,a,k)},l}q(o6,"anchor");function oS(t,e,i,s,n,l,a){const d=(t+i)/2,m=(e+s)/2,y=Math.atan2(s-e,i-t),b=(i-t)/2,k=(s-e)/2,x=b/n,E=k/l,O=Math.sqrt(x**2+E**2);if(O>1)throw new Error("The given radii are too small to create an arc between the points.");const L=Math.sqrt(1-O**2),D=d+L*l*Math.sin(y)*(a?-1:1),u=m-L*n*Math.cos(y)*(a?-1:1),T=Math.atan2((e-u)/l,(t-D)/n);let S=Math.atan2((s-u)/l,(i-D)/n)-T;a&&S<0&&(S+=2*Math.PI),!a&&S>0&&(S-=2*Math.PI);const C=[];for(let P=0;P<20;P++){const I=P/19,U=T+I*S,z=D+n*Math.cos(U),f=u+l*Math.sin(U);C.push({x:z,y:f})}return C}q(oS,"generateArcPoints");async function l6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=l.width+e.padding+20,h=l.height+e.padding,d=h/2,m=d/(2.5+h/50),{cssStyles:y}=e,b=[{x:a/2,y:-h/2},{x:-a/2,y:-h/2},...oS(-a/2,-h/2,-a/2,h/2,m,d,!1),{x:a/2,y:h/2},...oS(a/2,h/2,a/2,-h/2,m,d,!0)],k=di.svg(n),x=fi(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=ur(b),O=k.path(E,x),L=n.insert(()=>O,":first-child");return L.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",y),s&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),L.attr("transform",`translate(${m/2}, 0)`),_i(e,L),e.intersect=function(D){return hi.polygon(e,b,D)},n}q(l6,"bowTieRect");function Ic(t,e,i,s){return t.insert("polygon",":first-child").attr("points",s.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+i/2+")")}q(Ic,"insertPolygonShape");async function c6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=l.height+e.padding,h=12,d=l.width+e.padding+h,m=0,y=d,b=-a,k=0,x=[{x:m+h,y:b},{x:y,y:b},{x:y,y:k},{x:m,y:k},{x:m,y:b+h},{x:m+h,y:b}];let E;const{cssStyles:O}=e;if(e.look==="handDrawn"){const L=di.svg(n),D=fi(e,{}),u=ur(x),T=L.path(u,D);E=n.insert(()=>T,":first-child").attr("transform",`translate(${-d/2}, ${a/2})`),O&&E.attr("style",O)}else E=Ic(n,d,a,x);return s&&E.attr("style",s),_i(e,E),e.intersect=function(L){return hi.polygon(e,x,L)},n}q(c6,"card");function h6(t,e){const{nodeStyles:i}=wi(e);e.label="";const s=t.insert("g").attr("class",Ni(e)).attr("id",e.domId??e.id),{cssStyles:n}=e,l=Math.max(28,e.width??0),a=[{x:0,y:l/2},{x:l/2,y:0},{x:0,y:-l/2},{x:-l/2,y:0}],h=di.svg(s),d=fi(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=ur(a),y=h.path(m,d),b=s.insert(()=>y,":first-child");return n&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",n),i&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",i),e.width=28,e.height=28,e.intersect=function(k){return hi.polygon(e,a,k)},s}q(h6,"choice");async function u6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,halfPadding:a}=await qi(t,e,Ni(e)),h=l.width/2+a;let d;const{cssStyles:m}=e;if(e.look==="handDrawn"){const y=di.svg(n),b=fi(e,{}),k=y.circle(0,0,h*2,b);d=n.insert(()=>k,":first-child"),d.attr("class","basic label-container").attr("style",ca(m))}else d=n.insert("circle",":first-child").attr("class","basic label-container").attr("style",s).attr("r",h).attr("cx",0).attr("cy",0);return _i(e,d),e.intersect=function(y){return ft.info("Circle intersect",e,h,y),hi.circle(e,h,y)},n}q(u6,"circle");function d6(t){const e=Math.cos(Math.PI/4),i=Math.sin(Math.PI/4),s=t*2,n={x:s/2*e,y:s/2*i},l={x:-(s/2)*e,y:s/2*i},a={x:-(s/2)*e,y:-(s/2)*i},h={x:s/2*e,y:-(s/2)*i};return`M ${l.x},${l.y} L ${h.x},${h.y}
                   M ${n.x},${n.y} L ${a.x},${a.y}`}q(d6,"createLine");function f6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i,e.label="";const n=t.insert("g").attr("class",Ni(e)).attr("id",e.domId??e.id),l=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:a}=e,h=di.svg(n),d=fi(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=h.circle(0,0,l*2,d),y=d6(l),b=h.path(y,d),k=n.insert(()=>m,":first-child");return k.insert(()=>b),a&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",a),s&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",s),_i(e,k),e.intersect=function(x){return ft.info("crossedCircle intersect",e,{radius:l,point:x}),hi.circle(e,l,x)},n}q(f6,"crossedCircle");function Pl(t,e,i,s=100,n=0,l=180){const a=[],h=n*Math.PI/180,y=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*y,x=t+i*Math.cos(k),E=e+i*Math.sin(k);a.push({x:-x,y:-E})}return a}q(Pl,"generateCirclePoints");async function p6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),m=Math.max(5,d*.1),{cssStyles:y}=e,b=[...Pl(h/2,-d/2,m,30,-90,0),{x:-h/2-m,y:m},...Pl(h/2+m*2,-m,m,20,-180,-270),...Pl(h/2+m*2,m,m,20,-90,-180),{x:-h/2-m,y:-d/2},...Pl(h/2,d/2,m,20,0,90)],k=[{x:h/2,y:-d/2-m},{x:-h/2,y:-d/2-m},...Pl(h/2,-d/2,m,20,-90,0),{x:-h/2-m,y:-m},...Pl(h/2+h*.1,-m,m,20,-180,-270),...Pl(h/2+h*.1,m,m,20,-90,-180),{x:-h/2-m,y:d/2},...Pl(h/2,d/2,m,20,0,90),{x:-h/2,y:d/2+m},{x:h/2,y:d/2+m}],x=di.svg(n),E=fi(e,{fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const L=ur(b).replace("Z",""),D=x.path(L,E),u=ur(k),T=x.path(u,{...E}),g=n.insert("g",":first-child");return g.insert(()=>T,":first-child").attr("stroke-opacity",0),g.insert(()=>D,":first-child"),g.attr("class","text"),y&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",y),s&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",s),g.attr("transform",`translate(${m}, 0)`),a.attr("transform",`translate(${-h/2+m-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),_i(e,g),e.intersect=function(S){return hi.polygon(e,k,S)},n}q(p6,"curlyBraceLeft");function Dl(t,e,i,s=100,n=0,l=180){const a=[],h=n*Math.PI/180,y=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*y,x=t+i*Math.cos(k),E=e+i*Math.sin(k);a.push({x,y:E})}return a}q(Dl,"generateCirclePoints");async function m6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),m=Math.max(5,d*.1),{cssStyles:y}=e,b=[...Dl(h/2,-d/2,m,20,-90,0),{x:h/2+m,y:-m},...Dl(h/2+m*2,-m,m,20,-180,-270),...Dl(h/2+m*2,m,m,20,-90,-180),{x:h/2+m,y:d/2},...Dl(h/2,d/2,m,20,0,90)],k=[{x:-h/2,y:-d/2-m},{x:h/2,y:-d/2-m},...Dl(h/2,-d/2,m,20,-90,0),{x:h/2+m,y:-m},...Dl(h/2+m*2,-m,m,20,-180,-270),...Dl(h/2+m*2,m,m,20,-90,-180),{x:h/2+m,y:d/2},...Dl(h/2,d/2,m,20,0,90),{x:h/2,y:d/2+m},{x:-h/2,y:d/2+m}],x=di.svg(n),E=fi(e,{fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const L=ur(b).replace("Z",""),D=x.path(L,E),u=ur(k),T=x.path(u,{...E}),g=n.insert("g",":first-child");return g.insert(()=>T,":first-child").attr("stroke-opacity",0),g.insert(()=>D,":first-child"),g.attr("class","text"),y&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",y),s&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",s),g.attr("transform",`translate(${-m}, 0)`),a.attr("transform",`translate(${-h/2+(e.padding??0)/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),_i(e,g),e.intersect=function(S){return hi.polygon(e,k,S)},n}q(m6,"curlyBraceRight");function cn(t,e,i,s=100,n=0,l=180){const a=[],h=n*Math.PI/180,y=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*y,x=t+i*Math.cos(k),E=e+i*Math.sin(k);a.push({x:-x,y:-E})}return a}q(cn,"generateCirclePoints");async function g6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),m=Math.max(5,d*.1),{cssStyles:y}=e,b=[...cn(h/2,-d/2,m,30,-90,0),{x:-h/2-m,y:m},...cn(h/2+m*2,-m,m,20,-180,-270),...cn(h/2+m*2,m,m,20,-90,-180),{x:-h/2-m,y:-d/2},...cn(h/2,d/2,m,20,0,90)],k=[...cn(-h/2+m+m/2,-d/2,m,20,-90,-180),{x:h/2-m/2,y:m},...cn(-h/2-m/2,-m,m,20,0,90),...cn(-h/2-m/2,m,m,20,-90,0),{x:h/2-m/2,y:-m},...cn(-h/2+m+m/2,d/2,m,30,-180,-270)],x=[{x:h/2,y:-d/2-m},{x:-h/2,y:-d/2-m},...cn(h/2,-d/2,m,20,-90,0),{x:-h/2-m,y:-m},...cn(h/2+m*2,-m,m,20,-180,-270),...cn(h/2+m*2,m,m,20,-90,-180),{x:-h/2-m,y:d/2},...cn(h/2,d/2,m,20,0,90),{x:-h/2,y:d/2+m},{x:h/2-m-m/2,y:d/2+m},...cn(-h/2+m+m/2,-d/2,m,20,-90,-180),{x:h/2-m/2,y:m},...cn(-h/2-m/2,-m,m,20,0,90),...cn(-h/2-m/2,m,m,20,-90,0),{x:h/2-m/2,y:-m},...cn(-h/2+m+m/2,d/2,m,30,-180,-270)],E=di.svg(n),O=fi(e,{fill:"none"});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const D=ur(b).replace("Z",""),u=E.path(D,O),g=ur(k).replace("Z",""),S=E.path(g,O),C=ur(x),P=E.path(C,{...O}),I=n.insert("g",":first-child");return I.insert(()=>P,":first-child").attr("stroke-opacity",0),I.insert(()=>u,":first-child"),I.insert(()=>S,":first-child"),I.attr("class","text"),y&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",y),s&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",s),I.attr("transform",`translate(${m-m/4}, 0)`),a.attr("transform",`translate(${-h/2+(e.padding??0)/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),_i(e,I),e.intersect=function(U){return hi.polygon(e,x,U)},n}q(g6,"curlyBraces");async function y6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=80,h=20,d=Math.max(a,(l.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),m=Math.max(h,l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),y=m/2,{cssStyles:b}=e,k=di.svg(n),x=fi(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=d,O=m,L=E-y,D=O/4,u=[{x:L,y:0},{x:D,y:0},{x:0,y:O/2},{x:D,y:O},{x:L,y:O},...Bm(-L,-O/2,y,50,270,90)],T=ur(u),g=k.path(T,x),S=n.insert(()=>g,":first-child");return S.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",s),S.attr("transform",`translate(${-d/2}, ${-m/2})`),_i(e,S),e.intersect=function(C){return hi.polygon(e,u,C)},n}q(y6,"curvedTrapezoid");var Boe=q((t,e,i,s,n,l)=>[`M${t},${e+l}`,`a${n},${l} 0,0,0 ${i},0`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`].join(" "),"createCylinderPathD"),Noe=q((t,e,i,s,n,l)=>[`M${t},${e+l}`,`M${t+i},${e+l}`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`].join(" "),"createOuterCylinderPathD"),zoe=q((t,e,i,s,n,l)=>[`M${t-i/2},${-s/2}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function v6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+e.padding,e.width??0),d=h/2,m=d/(2.5+h/50),y=Math.max(l.height+m+e.padding,e.height??0);let b;const{cssStyles:k}=e;if(e.look==="handDrawn"){const x=di.svg(n),E=Noe(0,0,h,y,d,m),O=zoe(0,m,h,y,d,m),L=x.path(E,fi(e,{})),D=x.path(O,fi(e,{fill:"none"}));b=n.insert(()=>D,":first-child"),b=n.insert(()=>L,":first-child"),b.attr("class","basic label-container"),k&&b.attr("style",k)}else{const x=Boe(0,0,h,y,d,m);b=n.insert("path",":first-child").attr("d",x).attr("class","basic label-container").attr("style",ca(k)).attr("style",s)}return b.attr("label-offset-y",m),b.attr("transform",`translate(${-h/2}, ${-(y/2+m)})`),_i(e,b),a.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+(e.padding??0)/1.5-(l.y-(l.top??0))})`),e.intersect=function(x){const E=hi.rect(e,x),O=E.x-(e.x??0);if(d!=0&&(Math.abs(O)<(e.width??0)/2||Math.abs(O)==(e.width??0)/2&&Math.abs(E.y-(e.y??0))>(e.height??0)/2-m)){let L=m*m*(1-O*O/(d*d));L>0&&(L=Math.sqrt(L)),L=m-L,x.y-(e.y??0)>0&&(L=-L),E.y+=L}return E},n}q(v6,"cylinder");async function b6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=l.width+e.padding,d=l.height+e.padding,m=d*.2,y=-h/2,b=-d/2-m/2,{cssStyles:k}=e,x=di.svg(n),E=fi(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=[{x:y,y:b+m},{x:-y,y:b+m},{x:-y,y:-b},{x:y,y:-b},{x:y,y:b},{x:-y,y:b},{x:-y,y:b+m}],L=x.polygon(O.map(u=>[u.x,u.y]),E),D=n.insert(()=>L,":first-child");return D.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",s),a.attr("transform",`translate(${y+(e.padding??0)/2-(l.x-(l.left??0))}, ${b+m+(e.padding??0)/2-(l.y-(l.top??0))})`),_i(e,D),e.intersect=function(u){return hi.rect(e,u)},n}q(b6,"dividedRectangle");async function _6(t,e){var k,x;const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,halfPadding:a}=await qi(t,e,Ni(e)),d=l.width/2+a+5,m=l.width/2+a;let y;const{cssStyles:b}=e;if(e.look==="handDrawn"){const E=di.svg(n),O=fi(e,{roughness:.2,strokeWidth:2.5}),L=fi(e,{roughness:.2,strokeWidth:1.5}),D=E.circle(0,0,d*2,O),u=E.circle(0,0,m*2,L);y=n.insert("g",":first-child"),y.attr("class",ca(e.cssClasses)).attr("style",ca(b)),(k=y.node())==null||k.appendChild(D),(x=y.node())==null||x.appendChild(u)}else{y=n.insert("g",":first-child");const E=y.insert("circle",":first-child"),O=y.insert("circle");y.attr("class","basic label-container").attr("style",s),E.attr("class","outer-circle").attr("style",s).attr("r",d).attr("cx",0).attr("cy",0),O.attr("class","inner-circle").attr("style",s).attr("r",m).attr("cx",0).attr("cy",0)}return _i(e,y),e.intersect=function(E){return ft.info("DoubleCircle intersect",e,d,E),hi.circle(e,d,E)},n}q(_6,"doublecircle");function w6(t,e,{config:{themeVariables:i}}){const{labelStyles:s,nodeStyles:n}=wi(e);e.label="",e.labelStyle=s;const l=t.insert("g").attr("class",Ni(e)).attr("id",e.domId??e.id),a=7,{cssStyles:h}=e,d=di.svg(l),{nodeBorder:m}=i,y=fi(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(y.roughness=0);const b=d.circle(0,0,a*2,y),k=l.insert(()=>b,":first-child");return k.selectAll("path").attr("style",`fill: ${m} !important;`),h&&h.length>0&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",n),_i(e,k),e.intersect=function(x){return ft.info("filledCircle intersect",e,{radius:a,point:x}),hi.circle(e,a,x)},l}q(w6,"filledCircle");async function x6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=l.width+(e.padding??0),d=h+l.height,m=h+l.height,y=[{x:0,y:-d},{x:m,y:-d},{x:m/2,y:0}],{cssStyles:b}=e,k=di.svg(n),x=fi(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=ur(y),O=k.path(E,x),L=n.insert(()=>O,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return b&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),e.width=h,e.height=d,_i(e,L),a.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-d/2+(e.padding??0)/2+(l.y-(l.top??0))})`),e.intersect=function(D){return ft.info("Triangle intersect",e,y,D),hi.polygon(e,y,D)},n}q(x6,"flippedTriangle");function k6(t,e,{dir:i,config:{state:s,themeVariables:n}}){const{nodeStyles:l}=wi(e);e.label="";const a=t.insert("g").attr("class",Ni(e)).attr("id",e.domId??e.id),{cssStyles:h}=e;let d=Math.max(70,(e==null?void 0:e.width)??0),m=Math.max(10,(e==null?void 0:e.height)??0);i==="LR"&&(d=Math.max(10,(e==null?void 0:e.width)??0),m=Math.max(70,(e==null?void 0:e.height)??0));const y=-1*d/2,b=-1*m/2,k=di.svg(a),x=fi(e,{stroke:n.lineColor,fill:n.lineColor});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=k.rectangle(y,b,d,m,x),O=a.insert(()=>E,":first-child");h&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",h),l&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",l),_i(e,O);const L=(s==null?void 0:s.padding)??0;return e.width&&e.height&&(e.width+=L/2||0,e.height+=L/2||0),e.intersect=function(D){return hi.rect(e,D)},a}q(k6,"forkJoin");async function S6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const n=80,l=50,{shapeSvg:a,bbox:h}=await qi(t,e,Ni(e)),d=Math.max(n,h.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(l,h.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),y=m/2,{cssStyles:b}=e,k=di.svg(a),x=fi(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=[{x:-d/2,y:-m/2},{x:d/2-y,y:-m/2},...Bm(-d/2+y,0,y,50,90,270),{x:d/2-y,y:m/2},{x:-d/2,y:m/2}],O=ur(E),L=k.path(O,x),D=a.insert(()=>L,":first-child");return D.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",s),_i(e,D),e.intersect=function(u){return ft.info("Pill intersect",e,{radius:y,point:u}),hi.polygon(e,E,u)},a}q(S6,"halfRoundedRectangle");async function T6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=l.height+(e.padding??0),h=l.width+(e.padding??0)*2.5,{cssStyles:d}=e,m=di.svg(n),y=fi(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");let b=h/2;const k=b/6;b=b+k;const x=a/2,E=x/2,O=b-E,L=[{x:-O,y:-x},{x:0,y:-x},{x:O,y:-x},{x:b,y:0},{x:O,y:x},{x:0,y:x},{x:-O,y:x},{x:-b,y:0}],D=ur(L),u=m.path(D,y),T=n.insert(()=>u,":first-child");return T.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",d),s&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",s),e.width=h,e.height=a,_i(e,T),e.intersect=function(g){return hi.polygon(e,L,g)},n}q(T6,"hexagon");async function C6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.label="",e.labelStyle=i;const{shapeSvg:n}=await qi(t,e,Ni(e)),l=Math.max(30,(e==null?void 0:e.width)??0),a=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:h}=e,d=di.svg(n),m=fi(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const y=[{x:0,y:0},{x:l,y:0},{x:0,y:a},{x:l,y:a}],b=ur(y),k=d.path(b,m),x=n.insert(()=>k,":first-child");return x.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",h),s&&e.look!=="handDrawn"&&x.selectChildren("path").attr("style",s),x.attr("transform",`translate(${-l/2}, ${-a/2})`),_i(e,x),e.intersect=function(E){return ft.info("Pill intersect",e,{points:y}),hi.polygon(e,y,E)},n}q(C6,"hourglass");async function E6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=wi(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:y,label:b}=await qi(t,e,"icon-shape default"),k=e.pos==="t",x=h,E=h,{nodeBorder:O}=i,{stylesMap:L}=Xd(e),D=-E/2,u=-x/2,T=e.label?8:0,g=di.svg(m),S=fi(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const C=g.rectangle(D,u,E,x,S),P=Math.max(E,y.width),I=x+y.height+T,U=g.rectangle(-P/2,-I/2,P,I,{...S,fill:"transparent",stroke:"none"}),z=m.insert(()=>C,":first-child"),f=m.insert(()=>U);if(e.icon){const w=m.append("g");w.html(`<g>${await ng(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const A=w.node().getBBox(),R=A.width,B=A.height,W=A.x,$=A.y;w.attr("transform",`translate(${-R/2-W},${k?y.height/2+T/2-B/2-$:-y.height/2-T/2-B/2-$})`),w.attr("style",`color: ${L.get("stroke")??O};`)}return b.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${k?-I/2:I/2-y.height})`),z.attr("transform",`translate(0,${k?y.height/2+T/2:-y.height/2-T/2})`),_i(e,f),e.intersect=function(w){if(ft.info("iconSquare intersect",e,w),!e.label)return hi.rect(e,w);const A=e.x??0,R=e.y??0,B=e.height??0;let W=[];return k?W=[{x:A-y.width/2,y:R-B/2},{x:A+y.width/2,y:R-B/2},{x:A+y.width/2,y:R-B/2+y.height+T},{x:A+E/2,y:R-B/2+y.height+T},{x:A+E/2,y:R+B/2},{x:A-E/2,y:R+B/2},{x:A-E/2,y:R-B/2+y.height+T},{x:A-y.width/2,y:R-B/2+y.height+T}]:W=[{x:A-E/2,y:R-B/2},{x:A+E/2,y:R-B/2},{x:A+E/2,y:R-B/2+x},{x:A+y.width/2,y:R-B/2+x},{x:A+y.width/2/2,y:R+B/2},{x:A-y.width/2,y:R+B/2},{x:A-y.width/2,y:R-B/2+x},{x:A-E/2,y:R-B/2+x}],hi.polygon(e,W,w)},m}q(E6,"icon");async function O6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=wi(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:y,label:b}=await qi(t,e,"icon-shape default"),k=20,x=e.label?8:0,E=e.pos==="t",{nodeBorder:O,mainBkg:L}=i,{stylesMap:D}=Xd(e),u=di.svg(m),T=fi(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const g=D.get("fill");T.stroke=g??L;const S=m.append("g");e.icon&&S.html(`<g>${await ng(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const C=S.node().getBBox(),P=C.width,I=C.height,U=C.x,z=C.y,f=Math.max(P,I)*Math.SQRT2+k*2,w=u.circle(0,0,f,T),A=Math.max(f,y.width),R=f+y.height+x,B=u.rectangle(-A/2,-R/2,A,R,{...T,fill:"transparent",stroke:"none"}),W=m.insert(()=>w,":first-child"),$=m.insert(()=>B);return S.attr("transform",`translate(${-P/2-U},${E?y.height/2+x/2-I/2-z:-y.height/2-x/2-I/2-z})`),S.attr("style",`color: ${D.get("stroke")??O};`),b.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${E?-R/2:R/2-y.height})`),W.attr("transform",`translate(0,${E?y.height/2+x/2:-y.height/2-x/2})`),_i(e,$),e.intersect=function(G){return ft.info("iconSquare intersect",e,G),hi.rect(e,G)},m}q(O6,"iconCircle");async function M6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=wi(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:y,halfPadding:b,label:k}=await qi(t,e,"icon-shape default"),x=e.pos==="t",E=h+b*2,O=h+b*2,{nodeBorder:L,mainBkg:D}=i,{stylesMap:u}=Xd(e),T=-O/2,g=-E/2,S=e.label?8:0,C=di.svg(m),P=fi(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const I=u.get("fill");P.stroke=I??D;const U=C.path(Fc(T,g,O,E,5),P),z=Math.max(O,y.width),f=E+y.height+S,w=C.rectangle(-z/2,-f/2,z,f,{...P,fill:"transparent",stroke:"none"}),A=m.insert(()=>U,":first-child").attr("class","icon-shape2"),R=m.insert(()=>w);if(e.icon){const B=m.append("g");B.html(`<g>${await ng(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const W=B.node().getBBox(),$=W.width,G=W.height,ue=W.x,Q=W.y;B.attr("transform",`translate(${-$/2-ue},${x?y.height/2+S/2-G/2-Q:-y.height/2-S/2-G/2-Q})`),B.attr("style",`color: ${u.get("stroke")??L};`)}return k.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${x?-f/2:f/2-y.height})`),A.attr("transform",`translate(0,${x?y.height/2+S/2:-y.height/2-S/2})`),_i(e,R),e.intersect=function(B){if(ft.info("iconSquare intersect",e,B),!e.label)return hi.rect(e,B);const W=e.x??0,$=e.y??0,G=e.height??0;let ue=[];return x?ue=[{x:W-y.width/2,y:$-G/2},{x:W+y.width/2,y:$-G/2},{x:W+y.width/2,y:$-G/2+y.height+S},{x:W+O/2,y:$-G/2+y.height+S},{x:W+O/2,y:$+G/2},{x:W-O/2,y:$+G/2},{x:W-O/2,y:$-G/2+y.height+S},{x:W-y.width/2,y:$-G/2+y.height+S}]:ue=[{x:W-O/2,y:$-G/2},{x:W+O/2,y:$-G/2},{x:W+O/2,y:$-G/2+E},{x:W+y.width/2,y:$-G/2+E},{x:W+y.width/2/2,y:$+G/2},{x:W-y.width/2,y:$+G/2},{x:W-y.width/2,y:$-G/2+E},{x:W-O/2,y:$-G/2+E}],hi.polygon(e,ue,B)},m}q(M6,"iconRounded");async function A6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=wi(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:y,halfPadding:b,label:k}=await qi(t,e,"icon-shape default"),x=e.pos==="t",E=h+b*2,O=h+b*2,{nodeBorder:L,mainBkg:D}=i,{stylesMap:u}=Xd(e),T=-O/2,g=-E/2,S=e.label?8:0,C=di.svg(m),P=fi(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const I=u.get("fill");P.stroke=I??D;const U=C.path(Fc(T,g,O,E,.1),P),z=Math.max(O,y.width),f=E+y.height+S,w=C.rectangle(-z/2,-f/2,z,f,{...P,fill:"transparent",stroke:"none"}),A=m.insert(()=>U,":first-child"),R=m.insert(()=>w);if(e.icon){const B=m.append("g");B.html(`<g>${await ng(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const W=B.node().getBBox(),$=W.width,G=W.height,ue=W.x,Q=W.y;B.attr("transform",`translate(${-$/2-ue},${x?y.height/2+S/2-G/2-Q:-y.height/2-S/2-G/2-Q})`),B.attr("style",`color: ${u.get("stroke")??L};`)}return k.attr("transform",`translate(${-y.width/2-(y.x-(y.left??0))},${x?-f/2:f/2-y.height})`),A.attr("transform",`translate(0,${x?y.height/2+S/2:-y.height/2-S/2})`),_i(e,R),e.intersect=function(B){if(ft.info("iconSquare intersect",e,B),!e.label)return hi.rect(e,B);const W=e.x??0,$=e.y??0,G=e.height??0;let ue=[];return x?ue=[{x:W-y.width/2,y:$-G/2},{x:W+y.width/2,y:$-G/2},{x:W+y.width/2,y:$-G/2+y.height+S},{x:W+O/2,y:$-G/2+y.height+S},{x:W+O/2,y:$+G/2},{x:W-O/2,y:$+G/2},{x:W-O/2,y:$-G/2+y.height+S},{x:W-y.width/2,y:$-G/2+y.height+S}]:ue=[{x:W-O/2,y:$-G/2},{x:W+O/2,y:$-G/2},{x:W+O/2,y:$-G/2+E},{x:W+y.width/2,y:$-G/2+E},{x:W+y.width/2/2,y:$+G/2},{x:W-y.width/2,y:$+G/2},{x:W-y.width/2,y:$-G/2+E},{x:W-O/2,y:$-G/2+E}],hi.polygon(e,ue,B)},m}q(A6,"iconSquare");async function P6(t,e,{config:{flowchart:i}}){const s=new Image;s.src=(e==null?void 0:e.img)??"",await s.decode();const n=Number(s.naturalWidth.toString().replace("px","")),l=Number(s.naturalHeight.toString().replace("px",""));e.imageAspectRatio=n/l;const{labelStyles:a}=wi(e);e.labelStyle=a;const h=i==null?void 0:i.wrappingWidth;e.defaultWidth=i==null?void 0:i.wrappingWidth;const d=Math.max(e.label?h??0:0,(e==null?void 0:e.assetWidth)??n),m=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:d,y=e.constraint==="on"?m/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??l;e.width=Math.max(m,h??0);const{shapeSvg:b,bbox:k,label:x}=await qi(t,e,"image-shape default"),E=e.pos==="t",O=-m/2,L=-y/2,D=e.label?8:0,u=di.svg(b),T=fi(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const g=u.rectangle(O,L,m,y,T),S=Math.max(m,k.width),C=y+k.height+D,P=u.rectangle(-S/2,-C/2,S,C,{...T,fill:"none",stroke:"none"}),I=b.insert(()=>g,":first-child"),U=b.insert(()=>P);if(e.img){const z=b.append("image");z.attr("href",e.img),z.attr("width",m),z.attr("height",y),z.attr("preserveAspectRatio","none"),z.attr("transform",`translate(${-m/2},${E?C/2-y:-C/2})`)}return x.attr("transform",`translate(${-k.width/2-(k.x-(k.left??0))},${E?-y/2-k.height/2-D/2:y/2-k.height/2+D/2})`),I.attr("transform",`translate(0,${E?k.height/2+D/2:-k.height/2-D/2})`),_i(e,U),e.intersect=function(z){if(ft.info("iconSquare intersect",e,z),!e.label)return hi.rect(e,z);const f=e.x??0,w=e.y??0,A=e.height??0;let R=[];return E?R=[{x:f-k.width/2,y:w-A/2},{x:f+k.width/2,y:w-A/2},{x:f+k.width/2,y:w-A/2+k.height+D},{x:f+m/2,y:w-A/2+k.height+D},{x:f+m/2,y:w+A/2},{x:f-m/2,y:w+A/2},{x:f-m/2,y:w-A/2+k.height+D},{x:f-k.width/2,y:w-A/2+k.height+D}]:R=[{x:f-m/2,y:w-A/2},{x:f+m/2,y:w-A/2},{x:f+m/2,y:w-A/2+y},{x:f+k.width/2,y:w-A/2+y},{x:f+k.width/2/2,y:w+A/2},{x:f-k.width/2,y:w+A/2},{x:f-k.width/2,y:w-A/2+y},{x:f-m/2,y:w-A/2+y}],hi.polygon(e,R,z)},b}q(P6,"imageSquare");async function D6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=[{x:0,y:0},{x:a,y:0},{x:a+3*h/6,y:-h},{x:-3*h/6,y:-h}];let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const b=di.svg(n),k=fi(e,{}),x=ur(d),E=b.path(x,k);m=n.insert(()=>E,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),y&&m.attr("style",y)}else m=Ic(n,a,h,d);return s&&m.attr("style",s),e.width=a,e.height=h,_i(e,m),e.intersect=function(b){return hi.polygon(e,d,b)},n}q(D6,"inv_trapezoid");async function y0(t,e,i){const{labelStyles:s,nodeStyles:n}=wi(e);e.labelStyle=s;const{shapeSvg:l,bbox:a}=await qi(t,e,Ni(e)),h=Math.max(a.width+i.labelPaddingX*2,(e==null?void 0:e.width)||0),d=Math.max(a.height+i.labelPaddingY*2,(e==null?void 0:e.height)||0),m=-h/2,y=-d/2;let b,{rx:k,ry:x}=e;const{cssStyles:E}=e;if(i!=null&&i.rx&&i.ry&&(k=i.rx,x=i.ry),e.look==="handDrawn"){const O=di.svg(l),L=fi(e,{}),D=k||x?O.path(Fc(m,y,h,d,k||0),L):O.rectangle(m,y,h,d,L);b=l.insert(()=>D,":first-child"),b.attr("class","basic label-container").attr("style",ca(E))}else b=l.insert("rect",":first-child"),b.attr("class","basic label-container").attr("style",n).attr("rx",ca(k)).attr("ry",ca(x)).attr("x",m).attr("y",y).attr("width",h).attr("height",d);return _i(e,b),e.intersect=function(O){return hi.rect(e,O)},l}q(y0,"drawRect");async function L6(t,e){const{shapeSvg:i,bbox:s,label:n}=await qi(t,e,"label"),l=i.insert("rect",":first-child");return l.attr("width",.1).attr("height",.1),i.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),_i(e,l),e.intersect=function(d){return hi.rect(e,d)},i}q(L6,"labelRect");async function R6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),d=[{x:0,y:0},{x:a+3*h/6,y:0},{x:a,y:-h},{x:-(3*h)/6,y:-h}];let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const b=di.svg(n),k=fi(e,{}),x=ur(d),E=b.path(x,k);m=n.insert(()=>E,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),y&&m.attr("style",y)}else m=Ic(n,a,h,d);return s&&m.attr("style",s),e.width=a,e.height=h,_i(e,m),e.intersect=function(b){return hi.polygon(e,d,b)},n}q(R6,"lean_left");async function F6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),d=[{x:-3*h/6,y:0},{x:a,y:0},{x:a+3*h/6,y:-h},{x:0,y:-h}];let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const b=di.svg(n),k=fi(e,{}),x=ur(d),E=b.path(x,k);m=n.insert(()=>E,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),y&&m.attr("style",y)}else m=Ic(n,a,h,d);return s&&m.attr("style",s),e.width=a,e.height=h,_i(e,m),e.intersect=function(b){return hi.polygon(e,d,b)},n}q(F6,"lean_right");function I6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.label="",e.labelStyle=i;const n=t.insert("g").attr("class",Ni(e)).attr("id",e.domId??e.id),{cssStyles:l}=e,a=Math.max(35,(e==null?void 0:e.width)??0),h=Math.max(35,(e==null?void 0:e.height)??0),d=7,m=[{x:a,y:0},{x:0,y:h+d/2},{x:a-2*d,y:h+d/2},{x:0,y:2*h},{x:a,y:h-d/2},{x:2*d,y:h-d/2}],y=di.svg(n),b=fi(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=ur(m),x=y.path(k,b),E=n.insert(()=>x,":first-child");return l&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",l),s&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",s),E.attr("transform",`translate(-${a/2},${-h})`),_i(e,E),e.intersect=function(O){return ft.info("lightningBolt intersect",e,O),hi.polygon(e,m,O)},n}q(I6,"lightningBolt");var Uoe=q((t,e,i,s,n,l,a)=>[`M${t},${e+l}`,`a${n},${l} 0,0,0 ${i},0`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`,`M${t},${e+l+a}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createCylinderPathD"),Hoe=q((t,e,i,s,n,l,a)=>[`M${t},${e+l}`,`M${t+i},${e+l}`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`,`M${t},${e+l+a}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createOuterCylinderPathD"),Woe=q((t,e,i,s,n,l)=>[`M${t-i/2},${-s/2}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function B6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0),e.width??0),d=h/2,m=d/(2.5+h/50),y=Math.max(l.height+m+(e.padding??0),e.height??0),b=y*.1;let k;const{cssStyles:x}=e;if(e.look==="handDrawn"){const E=di.svg(n),O=Hoe(0,0,h,y,d,m,b),L=Woe(0,m,h,y,d,m),D=fi(e,{}),u=E.path(O,D),T=E.path(L,D);n.insert(()=>T,":first-child").attr("class","line"),k=n.insert(()=>u,":first-child"),k.attr("class","basic label-container"),x&&k.attr("style",x)}else{const E=Uoe(0,0,h,y,d,m,b);k=n.insert("path",":first-child").attr("d",E).attr("class","basic label-container").attr("style",ca(x)).attr("style",s)}return k.attr("label-offset-y",m),k.attr("transform",`translate(${-h/2}, ${-(y/2+m)})`),_i(e,k),a.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+m-(l.y-(l.top??0))})`),e.intersect=function(E){const O=hi.rect(e,E),L=O.x-(e.x??0);if(d!=0&&(Math.abs(L)<(e.width??0)/2||Math.abs(L)==(e.width??0)/2&&Math.abs(O.y-(e.y??0))>(e.height??0)/2-m)){let D=m*m*(1-L*L/(d*d));D>0&&(D=Math.sqrt(D)),D=m-D,E.y-(e.y??0)>0&&(D=-D),O.y+=D}return O},n}q(B6,"linedCylinder");async function N6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/4,y=d+m,{cssStyles:b}=e,k=di.svg(n),x=fi(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=[{x:-h/2-h/2*.1,y:-y/2},{x:-h/2-h/2*.1,y:y/2},...Mc(-h/2-h/2*.1,y/2,h/2+h/2*.1,y/2,m,.8),{x:h/2+h/2*.1,y:-y/2},{x:-h/2-h/2*.1,y:-y/2},{x:-h/2,y:-y/2},{x:-h/2,y:y/2*1.1},{x:-h/2,y:-y/2}],O=k.polygon(E.map(D=>[D.x,D.y]),x),L=n.insert(()=>O,":first-child");return L.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",b),s&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),L.attr("transform",`translate(0,${-m/2})`),a.attr("transform",`translate(${-h/2+(e.padding??0)+h/2*.1/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)-m/2-(l.y-(l.top??0))})`),_i(e,L),e.intersect=function(D){return hi.polygon(e,E,D)},n}q(N6,"linedWaveEdgedRect");async function z6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=5,y=-h/2,b=-d/2,{cssStyles:k}=e,x=di.svg(n),E=fi(e,{}),O=[{x:y-m,y:b+m},{x:y-m,y:b+d+m},{x:y+h-m,y:b+d+m},{x:y+h-m,y:b+d},{x:y+h,y:b+d},{x:y+h,y:b+d-m},{x:y+h+m,y:b+d-m},{x:y+h+m,y:b-m},{x:y+m,y:b-m},{x:y+m,y:b},{x:y,y:b},{x:y,y:b+m}],L=[{x:y,y:b+m},{x:y+h-m,y:b+m},{x:y+h-m,y:b+d},{x:y+h,y:b+d},{x:y+h,y:b},{x:y,y:b}];e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const D=ur(O),u=x.path(D,E),T=ur(L),g=x.path(T,{...E,fill:"none"}),S=n.insert(()=>g,":first-child");return S.insert(()=>u,":first-child"),S.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),a.attr("transform",`translate(${-(l.width/2)-m-(l.x-(l.left??0))}, ${-(l.height/2)+m-(l.y-(l.top??0))})`),_i(e,S),e.intersect=function(C){return hi.polygon(e,O,C)},n}q(z6,"multiRect");async function U6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/4,y=d+m,b=-h/2,k=-y/2,x=5,{cssStyles:E}=e,O=Mc(b-x,k+y+x,b+h-x,k+y+x,m,.8),L=O==null?void 0:O[O.length-1],D=[{x:b-x,y:k+x},{x:b-x,y:k+y+x},...O,{x:b+h-x,y:L.y-x},{x:b+h,y:L.y-x},{x:b+h,y:L.y-2*x},{x:b+h+x,y:L.y-2*x},{x:b+h+x,y:k-x},{x:b+x,y:k-x},{x:b+x,y:k},{x:b,y:k},{x:b,y:k+x}],u=[{x:b,y:k+x},{x:b+h-x,y:k+x},{x:b+h-x,y:L.y-x},{x:b+h,y:L.y-x},{x:b+h,y:k},{x:b,y:k}],T=di.svg(n),g=fi(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");const S=ur(D),C=T.path(S,g),P=ur(u),I=T.path(P,g),U=n.insert(()=>C,":first-child");return U.insert(()=>I),U.attr("class","basic label-container"),E&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",E),s&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",s),U.attr("transform",`translate(0,${-m/2})`),a.attr("transform",`translate(${-(l.width/2)-x-(l.x-(l.left??0))}, ${-(l.height/2)+x-m/2-(l.y-(l.top??0))})`),_i(e,U),e.intersect=function(z){return hi.polygon(e,D,z)},n}q(U6,"multiWaveEdgedRectangle");async function H6(t,e,{config:{themeVariables:i}}){var u;const{labelStyles:s,nodeStyles:n}=wi(e);e.labelStyle=s,e.useHtmlLabels||((u=Cn().flowchart)==null?void 0:u.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:a,bbox:h,label:d}=await qi(t,e,Ni(e)),m=Math.max(h.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),y=Math.max(h.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),b=-m/2,k=-y/2,{cssStyles:x}=e,E=di.svg(a),O=fi(e,{fill:i.noteBkgColor,stroke:i.noteBorderColor});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=E.rectangle(b,k,m,y,O),D=a.insert(()=>L,":first-child");return D.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",x),n&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",n),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))}, ${-(h.height/2)-(h.y-(h.top??0))})`),_i(e,D),e.intersect=function(T){return hi.rect(e,T)},a}q(H6,"note");var joe=q((t,e,i)=>[`M${t+i/2},${e}`,`L${t+i},${e-i/2}`,`L${t+i/2},${e-i}`,`L${t},${e-i/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function W6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=l.width+e.padding,h=l.height+e.padding,d=a+h,m=.5,y=[{x:d/2,y:0},{x:d,y:-d/2},{x:d/2,y:-d},{x:0,y:-d/2}];let b;const{cssStyles:k}=e;if(e.look==="handDrawn"){const x=di.svg(n),E=fi(e,{}),O=joe(0,0,d),L=x.path(O,E);b=n.insert(()=>L,":first-child").attr("transform",`translate(${-d/2+m}, ${d/2})`),k&&b.attr("style",k)}else b=Ic(n,d,d,y),b.attr("transform",`translate(${-d/2+m}, ${d/2})`);return s&&b.attr("style",s),_i(e,b),e.intersect=function(x){return ft.debug(`APA12 Intersect called SPLIT
point:`,x,`
node:
`,e,`
res:`,hi.polygon(e,y,x)),hi.polygon(e,y,x)},n}q(W6,"question");async function j6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),m=-h/2,y=-d/2,b=y/2,k=[{x:m+b,y},{x:m,y:0},{x:m+b,y:-y},{x:-m,y:-y},{x:-m,y}],{cssStyles:x}=e,E=di.svg(n),O=fi(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=ur(k),D=E.path(L,O),u=n.insert(()=>D,":first-child");return u.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",x),s&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",s),u.attr("transform",`translate(${-b/2},0)`),a.attr("transform",`translate(${-b/2-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),_i(e,u),e.intersect=function(T){return hi.polygon(e,k,T)},n}q(j6,"rect_left_inv_arrow");async function q6(t,e){var I,U;const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;let n;e.cssClasses?n="node "+e.cssClasses:n="node default";const l=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=l.insert("g"),h=l.insert("g").attr("class","label").attr("style",s),d=e.description,m=e.label,y=h.node().appendChild(await qh(m,e.labelStyle,!0,!0));let b={width:0,height:0};if(qs((U=(I=Lr())==null?void 0:I.flowchart)==null?void 0:U.htmlLabels)){const z=y.children[0],f=gr(y);b=z.getBoundingClientRect(),f.attr("width",b.width),f.attr("height",b.height)}ft.info("Text 2",d);const k=d||[],x=y.getBBox(),E=h.node().appendChild(await qh(k.join?k.join("<br/>"):k,e.labelStyle,!0,!0)),O=E.children[0],L=gr(E);b=O.getBoundingClientRect(),L.attr("width",b.width),L.attr("height",b.height);const D=(e.padding||0)/2;gr(E).attr("transform","translate( "+(b.width>x.width?0:(x.width-b.width)/2)+", "+(x.height+D+5)+")"),gr(y).attr("transform","translate( "+(b.width<x.width?0:-(x.width-b.width)/2)+", 0)"),b=h.node().getBBox(),h.attr("transform","translate("+-b.width/2+", "+(-b.height/2-D+3)+")");const u=b.width+(e.padding||0),T=b.height+(e.padding||0),g=-b.width/2-D,S=-b.height/2-D;let C,P;if(e.look==="handDrawn"){const z=di.svg(l),f=fi(e,{}),w=z.path(Fc(g,S,u,T,e.rx||0),f),A=z.line(-b.width/2-D,-b.height/2-D+x.height+D,b.width/2+D,-b.height/2-D+x.height+D,f);P=l.insert(()=>(ft.debug("Rough node insert CXC",w),A),":first-child"),C=l.insert(()=>(ft.debug("Rough node insert CXC",w),w),":first-child")}else C=a.insert("rect",":first-child"),P=a.insert("line"),C.attr("class","outer title-state").attr("style",s).attr("x",-b.width/2-D).attr("y",-b.height/2-D).attr("width",b.width+(e.padding||0)).attr("height",b.height+(e.padding||0)),P.attr("class","divider").attr("x1",-b.width/2-D).attr("x2",b.width/2+D).attr("y1",-b.height/2-D+x.height+D).attr("y2",-b.height/2-D+x.height+D);return _i(e,C),e.intersect=function(z){return hi.rect(e,z)},l}q(q6,"rectWithTitle");function Xp(t,e,i,s,n,l,a){const d=(t+i)/2,m=(e+s)/2,y=Math.atan2(s-e,i-t),b=(i-t)/2,k=(s-e)/2,x=b/n,E=k/l,O=Math.sqrt(x**2+E**2);if(O>1)throw new Error("The given radii are too small to create an arc between the points.");const L=Math.sqrt(1-O**2),D=d+L*l*Math.sin(y)*(a?-1:1),u=m-L*n*Math.cos(y)*(a?-1:1),T=Math.atan2((e-u)/l,(t-D)/n);let S=Math.atan2((s-u)/l,(i-D)/n)-T;a&&S<0&&(S+=2*Math.PI),!a&&S>0&&(S-=2*Math.PI);const C=[];for(let P=0;P<20;P++){const I=P/19,U=T+I*S,z=D+n*Math.cos(U),f=u+l*Math.sin(U);C.push({x:z,y:f})}return C}q(Xp,"generateArcPoints");async function $6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=(e==null?void 0:e.padding)??0,h=(e==null?void 0:e.padding)??0,d=(e!=null&&e.width?e==null?void 0:e.width:l.width)+a*2,m=(e!=null&&e.height?e==null?void 0:e.height:l.height)+h*2,y=5,b=5,{cssStyles:k}=e,x=di.svg(n),E=fi(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=[{x:-d/2+b,y:-m/2},{x:d/2-b,y:-m/2},...Xp(d/2-b,-m/2,d/2,-m/2+b,y,y,!0),{x:d/2,y:-m/2+b},{x:d/2,y:m/2-b},...Xp(d/2,m/2-b,d/2-b,m/2,y,y,!0),{x:d/2-b,y:m/2},{x:-d/2+b,y:m/2},...Xp(-d/2+b,m/2,-d/2,m/2-b,y,y,!0),{x:-d/2,y:m/2-b},{x:-d/2,y:-m/2+b},...Xp(-d/2,-m/2+b,-d/2+b,-m/2,y,y,!0)],L=ur(O),D=x.path(L,E),u=n.insert(()=>D,":first-child");return u.attr("class","basic label-container outer-path"),k&&e.look!=="handDrawn"&&u.selectChildren("path").attr("style",k),s&&e.look!=="handDrawn"&&u.selectChildren("path").attr("style",s),_i(e,u),e.intersect=function(T){return hi.polygon(e,O,T)},n}q($6,"roundedRect");async function V6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=(e==null?void 0:e.padding)??0,d=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),y=-l.width/2-h,b=-l.height/2-h,{cssStyles:k}=e,x=di.svg(n),E=fi(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=[{x:y,y:b},{x:y+d+8,y:b},{x:y+d+8,y:b+m},{x:y-8,y:b+m},{x:y-8,y:b},{x:y,y:b},{x:y,y:b+m}],L=x.polygon(O.map(u=>[u.x,u.y]),E),D=n.insert(()=>L,":first-child");return D.attr("class","basic label-container").attr("style",ca(k)),s&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",s),k&&e.look!=="handDrawn"&&D.selectAll("path").attr("style",s),a.attr("transform",`translate(${-d/2+4+(e.padding??0)-(l.x-(l.left??0))},${-m/2+(e.padding??0)-(l.y-(l.top??0))})`),_i(e,D),e.intersect=function(u){return hi.rect(e,u)},n}q(V6,"shadedProcess");async function Y6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=-h/2,y=-d/2,{cssStyles:b}=e,k=di.svg(n),x=fi(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const E=[{x:m,y},{x:m,y:y+d},{x:m+h,y:y+d},{x:m+h,y:y-d/2}],O=ur(E),L=k.path(O,x),D=n.insert(()=>L,":first-child");return D.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",s),D.attr("transform",`translate(0, ${d/4})`),a.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))}, ${-d/4+(e.padding??0)-(l.y-(l.top??0))})`),_i(e,D),e.intersect=function(u){return hi.polygon(e,E,u)},n}q(Y6,"slopedRect");async function G6(t,e){const i={rx:0,ry:0,labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return y0(t,e,i)}q(G6,"squareRect");async function X6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=l.height+e.padding,h=l.width+a/4+e.padding,d=a/2,{cssStyles:m}=e,y=di.svg(n),b=fi(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=[{x:-h/2+d,y:-a/2},{x:h/2-d,y:-a/2},...Bm(-h/2+d,0,d,50,90,270),{x:h/2-d,y:a/2},...Bm(h/2-d,0,d,50,270,450)],x=ur(k),E=y.path(x,b),O=n.insert(()=>E,":first-child");return O.attr("class","basic label-container outer-path"),m&&e.look!=="handDrawn"&&O.selectChildren("path").attr("style",m),s&&e.look!=="handDrawn"&&O.selectChildren("path").attr("style",s),_i(e,O),e.intersect=function(L){return hi.polygon(e,k,L)},n}q(X6,"stadium");async function K6(t,e){return y0(t,e,{rx:5,ry:5})}q(K6,"state");function Z6(t,e,{config:{themeVariables:i}}){const{labelStyles:s,nodeStyles:n}=wi(e);e.labelStyle=s;const{cssStyles:l}=e,{lineColor:a,stateBorder:h,nodeBorder:d}=i,m=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),y=di.svg(m),b=fi(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=y.circle(0,0,14,{...b,stroke:a,strokeWidth:2}),x=h??d,E=y.circle(0,0,5,{...b,fill:x,stroke:x,strokeWidth:2,fillStyle:"solid"}),O=m.insert(()=>k,":first-child");return O.insert(()=>E),l&&O.selectAll("path").attr("style",l),n&&O.selectAll("path").attr("style",n),_i(e,O),e.intersect=function(L){return hi.circle(e,7,L)},m}q(Z6,"stateEnd");function Q6(t,e,{config:{themeVariables:i}}){const{lineColor:s}=i,n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let l;if(e.look==="handDrawn"){const h=di.svg(n).circle(0,0,14,TJ(s));l=n.insert(()=>h),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else l=n.insert("circle",":first-child"),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return _i(e,l),e.intersect=function(a){return hi.circle(e,7,a)},n}q(Q6,"stateStart");async function J6(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=((e==null?void 0:e.padding)||0)/2,h=l.width+e.padding,d=l.height+e.padding,m=-l.width/2-a,y=-l.height/2-a,b=[{x:0,y:0},{x:h,y:0},{x:h,y:-d},{x:0,y:-d},{x:0,y:0},{x:-8,y:0},{x:h+8,y:0},{x:h+8,y:-d},{x:-8,y:-d},{x:-8,y:0}];if(e.look==="handDrawn"){const k=di.svg(n),x=fi(e,{}),E=k.rectangle(m-8,y,h+16,d,x),O=k.line(m,y,m,y+d,x),L=k.line(m+h,y,m+h,y+d,x);n.insert(()=>O,":first-child"),n.insert(()=>L,":first-child");const D=n.insert(()=>E,":first-child"),{cssStyles:u}=e;D.attr("class","basic label-container").attr("style",ca(u)),_i(e,D)}else{const k=Ic(n,h,d,b);s&&k.attr("style",s),_i(e,k)}return e.intersect=function(k){return hi.polygon(e,b,k)},n}q(J6,"subroutine");async function e8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=-a/2,m=-h/2,y=.2*h,b=.2*h,{cssStyles:k}=e,x=di.svg(n),E=fi(e,{}),O=[{x:d-y/2,y:m},{x:d+a+y/2,y:m},{x:d+a+y/2,y:m+h},{x:d-y/2,y:m+h}],L=[{x:d+a-y/2,y:m+h},{x:d+a+y/2,y:m+h},{x:d+a+y/2,y:m+h-b}];e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const D=ur(O),u=x.path(D,E),T=ur(L),g=x.path(T,{...E,fillStyle:"solid"}),S=n.insert(()=>g,":first-child");return S.insert(()=>u,":first-child"),S.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),_i(e,S),e.intersect=function(C){return hi.polygon(e,O,C)},n}q(e8,"taggedRect");async function t8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/4,y=.2*h,b=.2*d,k=d+m,{cssStyles:x}=e,E=di.svg(n),O=fi(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=[{x:-h/2-h/2*.1,y:k/2},...Mc(-h/2-h/2*.1,k/2,h/2+h/2*.1,k/2,m,.8),{x:h/2+h/2*.1,y:-k/2},{x:-h/2-h/2*.1,y:-k/2}],D=-h/2+h/2*.1,u=-k/2-b*.4,T=[{x:D+h-y,y:(u+d)*1.4},{x:D+h,y:u+d-b},{x:D+h,y:(u+d)*.9},...Mc(D+h,(u+d)*1.3,D+h-y,(u+d)*1.5,-d*.03,.5)],g=ur(L),S=E.path(g,O),C=ur(T),P=E.path(C,{...O,fillStyle:"solid"}),I=n.insert(()=>P,":first-child");return I.insert(()=>S,":first-child"),I.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",x),s&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",s),I.attr("transform",`translate(0,${-m/2})`),a.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))},${-d/2+(e.padding??0)-m/2-(l.y-(l.top??0))})`),_i(e,I),e.intersect=function(U){return hi.polygon(e,L,U)},n}q(t8,"taggedWaveEdgedRectangle");async function i8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=Math.max(l.width+e.padding,(e==null?void 0:e.width)||0),h=Math.max(l.height+e.padding,(e==null?void 0:e.height)||0),d=-a/2,m=-h/2,y=n.insert("rect",":first-child");return y.attr("class","text").attr("style",s).attr("rx",0).attr("ry",0).attr("x",d).attr("y",m).attr("width",a).attr("height",h),_i(e,y),e.intersect=function(b){return hi.rect(e,b)},n}q(i8,"text");var qoe=q((t,e,i,s,n,l)=>`M${t},${e}
    a${n},${l} 0,0,1 0,${-s}
    l${i},0
    a${n},${l} 0,0,1 0,${s}
    M${i},${-s}
    a${n},${l} 0,0,0 0,${s}
    l${-i},0`,"createCylinderPathD"),$oe=q((t,e,i,s,n,l)=>[`M${t},${e}`,`M${t+i},${e}`,`a${n},${l} 0,0,0 0,${-s}`,`l${-i},0`,`a${n},${l} 0,0,0 0,${s}`,`l${i},0`].join(" "),"createOuterCylinderPathD"),Voe=q((t,e,i,s,n,l)=>[`M${t+i/2},${-s/2}`,`a${n},${l} 0,0,0 0,${s}`].join(" "),"createInnerCylinderPathD");async function r8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a,halfPadding:h}=await qi(t,e,Ni(e)),d=e.look==="neo"?h*2:h,m=l.height+d,y=m/2,b=y/(2.5+m/50),k=l.width+b+d,{cssStyles:x}=e;let E;if(e.look==="handDrawn"){const O=di.svg(n),L=$oe(0,0,k,m,b,y),D=Voe(0,0,k,m,b,y),u=O.path(L,fi(e,{})),T=O.path(D,fi(e,{fill:"none"}));E=n.insert(()=>T,":first-child"),E=n.insert(()=>u,":first-child"),E.attr("class","basic label-container"),x&&E.attr("style",x)}else{const O=qoe(0,0,k,m,b,y);E=n.insert("path",":first-child").attr("d",O).attr("class","basic label-container").attr("style",ca(x)).attr("style",s),E.attr("class","basic label-container"),x&&E.selectAll("path").attr("style",x),s&&E.selectAll("path").attr("style",s)}return E.attr("label-offset-x",b),E.attr("transform",`translate(${-k/2}, ${m/2} )`),a.attr("transform",`translate(${-(l.width/2)-b-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),_i(e,E),e.intersect=function(O){const L=hi.rect(e,O),D=L.y-(e.y??0);if(y!=0&&(Math.abs(D)<(e.height??0)/2||Math.abs(D)==(e.height??0)/2&&Math.abs(L.x-(e.x??0))>(e.width??0)/2-b)){let u=b*b*(1-D*D/(y*y));u!=0&&(u=Math.sqrt(Math.abs(u))),u=b-u,O.x-(e.x??0)>0&&(u=-u),L.x+=u}return L},n}q(r8,"tiltedCylinder");async function s8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=l.width+e.padding,h=l.height+e.padding,d=[{x:-3*h/6,y:0},{x:a+3*h/6,y:0},{x:a,y:-h},{x:0,y:-h}];let m;const{cssStyles:y}=e;if(e.look==="handDrawn"){const b=di.svg(n),k=fi(e,{}),x=ur(d),E=b.path(x,k);m=n.insert(()=>E,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),y&&m.attr("style",y)}else m=Ic(n,a,h,d);return s&&m.attr("style",s),e.width=a,e.height=h,_i(e,m),e.intersect=function(b){return hi.polygon(e,d,b)},n}q(s8,"trapezoid");async function n8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=60,h=20,d=Math.max(a,l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(h,l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:y}=e,b=di.svg(n),k=fi(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const x=[{x:-d/2*.8,y:-m/2},{x:d/2*.8,y:-m/2},{x:d/2,y:-m/2*.6},{x:d/2,y:m/2},{x:-d/2,y:m/2},{x:-d/2,y:-m/2*.6}],E=ur(x),O=b.path(E,k),L=n.insert(()=>O,":first-child");return L.attr("class","basic label-container"),y&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",y),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),_i(e,L),e.intersect=function(D){return hi.polygon(e,x,D)},n}q(n8,"trapezoidalPentagon");async function a8(t,e){var u;const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=qs((u=Lr().flowchart)==null?void 0:u.htmlLabels),d=l.width+(e.padding??0),m=d+l.height,y=d+l.height,b=[{x:0,y:0},{x:y,y:0},{x:y/2,y:-m}],{cssStyles:k}=e,x=di.svg(n),E=fi(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=ur(b),L=x.path(O,E),D=n.insert(()=>L,":first-child").attr("transform",`translate(${-m/2}, ${m/2})`);return k&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",k),s&&e.look!=="handDrawn"&&D.selectChildren("path").attr("style",s),e.width=d,e.height=m,_i(e,D),a.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${m/2-(l.height+(e.padding??0)/(h?2:1)-(l.y-(l.top??0)))})`),e.intersect=function(T){return ft.info("Triangle intersect",e,b,T),hi.polygon(e,b,T)},n}q(a8,"triangle");async function o8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/8,y=d+m,{cssStyles:b}=e,x=70-h,E=x>0?x/2:0,O=di.svg(n),L=fi(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const D=[{x:-h/2-E,y:y/2},...Mc(-h/2-E,y/2,h/2+E,y/2,m,.8),{x:h/2+E,y:-y/2},{x:-h/2-E,y:-y/2}],u=ur(D),T=O.path(u,L),g=n.insert(()=>T,":first-child");return g.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",b),s&&e.look!=="handDrawn"&&g.selectAll("path").attr("style",s),g.attr("transform",`translate(0,${-m/2})`),a.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))},${-d/2+(e.padding??0)-m-(l.y-(l.top??0))})`),_i(e,g),e.intersect=function(S){return hi.polygon(e,D,S)},n}q(o8,"waveEdgedRectangle");async function l8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await qi(t,e,Ni(e)),a=100,h=50,d=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),y=d/m;let b=d,k=m;b>k*y?k=b/y:b=k*y,b=Math.max(b,a),k=Math.max(k,h);const x=Math.min(k*.2,k/4),E=k+x*2,{cssStyles:O}=e,L=di.svg(n),D=fi(e,{});e.look!=="handDrawn"&&(D.roughness=0,D.fillStyle="solid");const u=[{x:-b/2,y:E/2},...Mc(-b/2,E/2,b/2,E/2,x,1),{x:b/2,y:-E/2},...Mc(b/2,-E/2,-b/2,-E/2,x,-1)],T=ur(u),g=L.path(T,D),S=n.insert(()=>g,":first-child");return S.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",O),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),_i(e,S),e.intersect=function(C){return hi.polygon(e,u,C)},n}q(l8,"waveRectangle");async function c8(t,e){const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await qi(t,e,Ni(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=5,y=-h/2,b=-d/2,{cssStyles:k}=e,x=di.svg(n),E=fi(e,{}),O=[{x:y-m,y:b-m},{x:y-m,y:b+d},{x:y+h,y:b+d},{x:y+h,y:b-m}],L=`M${y-m},${b-m} L${y+h},${b-m} L${y+h},${b+d} L${y-m},${b+d} L${y-m},${b-m}
                M${y-m},${b} L${y+h},${b}
                M${y},${b-m} L${y},${b+d}`;e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const D=x.path(L,E),u=n.insert(()=>D,":first-child");return u.attr("transform",`translate(${m/2}, ${m/2})`),u.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",s),a.attr("transform",`translate(${-(l.width/2)+m/2-(l.x-(l.left??0))}, ${-(l.height/2)+m/2-(l.y-(l.top??0))})`),_i(e,u),e.intersect=function(T){return hi.polygon(e,O,T)},n}q(c8,"windowPane");async function l2(t,e){var we,ze,Ke,Pe;const i=e;if(i.alias&&(e.label=i.alias),e.look==="handDrawn"){const{themeVariables:We}=Cn(),{background:it}=We,vt={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${it}`]};await l2(t,vt)}const s=Cn();e.useHtmlLabels=s.htmlLabels;let n=((we=s.er)==null?void 0:we.diagramPadding)??10,l=((ze=s.er)==null?void 0:ze.entityPadding)??6;const{cssStyles:a}=e,{labelStyles:h,nodeStyles:d}=wi(e);if(i.attributes.length===0&&e.label){const We={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5};Gl(e.label,s)+We.labelPaddingX*2<s.er.minEntityWidth&&(e.width=s.er.minEntityWidth);const it=await y0(t,e,We);if(!qs(s.htmlLabels)){const vt=it.select("text"),Lt=(Ke=vt.node())==null?void 0:Ke.getBBox();vt.attr("transform",`translate(${-Lt.width/2}, 0)`)}return it}s.htmlLabels||(n*=1.25,l*=1.25);let m=Ni(e);m||(m="node default");const y=t.insert("g").attr("class",m).attr("id",e.domId||e.id),b=await Qu(y,e.label??"",s,0,0,["name"],h);b.height+=l;let k=0;const x=[],E=[];let O=0,L=0,D=0,u=0,T=!0,g=!0;for(const We of i.attributes){const it=await Qu(y,We.type,s,0,k,["attribute-type"],h);O=Math.max(O,it.width+n);const vt=await Qu(y,We.name,s,0,k,["attribute-name"],h);L=Math.max(L,vt.width+n);const Lt=await Qu(y,We.keys.join(),s,0,k,["attribute-keys"],h);D=Math.max(D,Lt.width+n);const Re=await Qu(y,We.comment,s,0,k,["attribute-comment"],h);u=Math.max(u,Re.width+n);const Yt=Math.max(it.height,vt.height,Lt.height,Re.height)+l;E.push({yOffset:k,rowHeight:Yt}),k+=Yt}let S=4;D<=n&&(T=!1,D=0,S--),u<=n&&(g=!1,u=0,S--);const C=y.node().getBBox();if(b.width+n*2-(O+L+D+u)>0){const We=b.width+n*2-(O+L+D+u);O+=We/S,L+=We/S,D>0&&(D+=We/S),u>0&&(u+=We/S)}const P=O+L+D+u,I=di.svg(y),U=fi(e,{});e.look!=="handDrawn"&&(U.roughness=0,U.fillStyle="solid");let z=0;E.length>0&&(z=E.reduce((We,it)=>We+((it==null?void 0:it.rowHeight)??0),0));const f=Math.max(C.width+n*2,(e==null?void 0:e.width)||0,P),w=Math.max((z??0)+b.height,(e==null?void 0:e.height)||0),A=-f/2,R=-w/2;y.selectAll("g:not(:first-child)").each((We,it,vt)=>{const Lt=gr(vt[it]),Re=Lt.attr("transform");let Yt=0,$t=0;if(Re){const nt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Re);nt&&(Yt=parseFloat(nt[1]),$t=parseFloat(nt[2]),Lt.attr("class").includes("attribute-name")?Yt+=O:Lt.attr("class").includes("attribute-keys")?Yt+=O+L:Lt.attr("class").includes("attribute-comment")&&(Yt+=O+L+D))}Lt.attr("transform",`translate(${A+n/2+Yt}, ${$t+R+b.height+l/2})`)}),y.select(".name").attr("transform","translate("+-b.width/2+", "+(R+l/2)+")");const B=I.rectangle(A,R,f,w,U),W=y.insert(()=>B,":first-child").attr("style",a.join("")),{themeVariables:$}=Cn(),{rowEven:G,rowOdd:ue,nodeBorder:Q}=$;x.push(0);for(const[We,it]of E.entries()){const Lt=(We+1)%2===0&&it.yOffset!==0,Re=I.rectangle(A,b.height+R+(it==null?void 0:it.yOffset),f,it==null?void 0:it.rowHeight,{...U,fill:Lt?G:ue,stroke:Q});y.insert(()=>Re,"g.label").attr("style",a.join("")).attr("class",`row-rect-${Lt?"even":"odd"}`)}let K=I.line(A,b.height+R,f+A,b.height+R,U);y.insert(()=>K).attr("class","divider"),K=I.line(O+A,b.height+R,O+A,w+R,U),y.insert(()=>K).attr("class","divider"),T&&(K=I.line(O+L+A,b.height+R,O+L+A,w+R,U),y.insert(()=>K).attr("class","divider")),g&&(K=I.line(O+L+D+A,b.height+R,O+L+D+A,w+R,U),y.insert(()=>K).attr("class","divider"));for(const We of x)K=I.line(A,b.height+R+We,f+A,b.height+R+We,U),y.insert(()=>K).attr("class","divider");if(_i(e,W),d&&e.look!=="handDrawn"){const We=d.split(";"),it=(Pe=We==null?void 0:We.filter(vt=>vt.includes("stroke")))==null?void 0:Pe.map(vt=>`${vt}`).join("; ");y.selectAll("path").attr("style",it??""),y.selectAll(".row-rect-even path").attr("style",d)}return e.intersect=function(We){return hi.rect(e,We)},y}q(l2,"erBox");async function Qu(t,e,i,s=0,n=0,l=[],a=""){const h=t.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${s}, ${n})`).attr("style",a);e!==mR(e)&&(e=mR(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const d=h.node().appendChild(await Rc(h,e,{width:Gl(e,i)+100,style:a,useHtmlLabels:i.htmlLabels},i));if(e.includes("&lt;")||e.includes("&gt;")){let y=d.children[0];for(y.textContent=y.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");y.childNodes[0];)y=y.childNodes[0],y.textContent=y.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let m=d.getBBox();if(qs(i.htmlLabels)){const y=d.children[0];y.style.textAlign="start";const b=gr(d);m=y.getBoundingClientRect(),b.attr("width",m.width),b.attr("height",m.height)}return m}q(Qu,"addText");async function h8(t,e,i,s,n=i.class.padding??12){const l=s?0:3,a=t.insert("g").attr("class",Ni(e)).attr("id",e.domId||e.id);let h=null,d=null,m=null,y=null,b=0,k=0,x=0;if(h=a.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const u=e.annotations[0];await Kp(h,{text:`${u}`},0),b=h.node().getBBox().height}d=a.insert("g").attr("class","label-group text"),await Kp(d,e,0,["font-weight: bolder"]);const E=d.node().getBBox();k=E.height,m=a.insert("g").attr("class","members-group text");let O=0;for(const u of e.members){const T=await Kp(m,u,O,[u.parseClassifier()]);O+=T+l}x=m.node().getBBox().height,x<=0&&(x=n/2),y=a.insert("g").attr("class","methods-group text");let L=0;for(const u of e.methods){const T=await Kp(y,u,L,[u.parseClassifier()]);L+=T+l}let D=a.node().getBBox();if(h!==null){const u=h.node().getBBox();h.attr("transform",`translate(${-u.width/2})`)}return d.attr("transform",`translate(${-E.width/2}, ${b})`),D=a.node().getBBox(),m.attr("transform",`translate(0, ${b+k+n*2})`),D=a.node().getBBox(),y.attr("transform",`translate(0, ${b+k+(x?x+n*4:n*2)})`),D=a.node().getBBox(),{shapeSvg:a,bbox:D}}q(h8,"textHelper");async function Kp(t,e,i,s=[]){const n=t.insert("g").attr("class","label").attr("style",s.join("; ")),l=Cn();let a="useHtmlLabels"in e?e.useHtmlLabels:qs(l.htmlLabels)??!0,h="";"text"in e?h=e.text:h=e.label,!a&&h.startsWith("\\")&&(h=h.substring(1)),Fd(h)&&(a=!0);const d=await Rc(n,vT(pu(h)),{width:Gl(h,l)+50,classes:"markdown-node-label",useHtmlLabels:a},l);let m,y=1;if(a){const b=d.children[0],k=gr(d);y=b.innerHTML.split("<br>").length,b.innerHTML.includes("</math>")&&(y+=b.innerHTML.split("<mrow>").length-1);const x=b.getElementsByTagName("img");if(x){const E=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...x].map(O=>new Promise(L=>{function D(){var u;if(O.style.display="flex",O.style.flexDirection="column",E){const T=((u=l.fontSize)==null?void 0:u.toString())??window.getComputedStyle(document.body).fontSize,S=parseInt(T,10)*5+"px";O.style.minWidth=S,O.style.maxWidth=S}else O.style.width="100%";L(O)}q(D,"setupImage"),setTimeout(()=>{O.complete&&D()}),O.addEventListener("error",D),O.addEventListener("load",D)})))}m=b.getBoundingClientRect(),k.attr("width",m.width),k.attr("height",m.height)}else{s.includes("font-weight: bolder")&&gr(d).selectAll("tspan").attr("font-weight",""),y=d.children.length;const b=d.children[0];(d.textContent===""||d.textContent.includes("&gt"))&&(b.textContent=h[0]+h.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),h[1]===" "&&(b.textContent=b.textContent[0]+" "+b.textContent.substring(1))),b.textContent==="undefined"&&(b.textContent=""),m=d.getBBox()}return n.attr("transform","translate(0,"+(-m.height/(2*y)+i)+")"),m.height}q(Kp,"addText");async function u8(t,e){var U,z;const i=Lr(),s=i.class.padding??12,n=s,l=e.useHtmlLabels??qs(i.htmlLabels)??!0,a=e;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:h,bbox:d}=await h8(t,e,i,l,n),{labelStyles:m,nodeStyles:y}=wi(e);e.labelStyle=m,e.cssStyles=a.styles||"";const b=((U=a.styles)==null?void 0:U.join(";"))||y||"";e.cssStyles||(e.cssStyles=b.replaceAll("!important","").split(";"));const k=a.members.length===0&&a.methods.length===0&&!((z=i.class)!=null&&z.hideEmptyMembersBox),x=di.svg(h),E=fi(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const O=d.width;let L=d.height;a.members.length===0&&a.methods.length===0?L+=n:a.members.length>0&&a.methods.length===0&&(L+=n*2);const D=-O/2,u=-L/2,T=x.rectangle(D-s,u-s-(k?s:a.members.length===0&&a.methods.length===0?-s/2:0),O+2*s,L+2*s+(k?s*2:a.members.length===0&&a.methods.length===0?-s:0),E),g=h.insert(()=>T,":first-child");g.attr("class","basic label-container");const S=g.node().getBBox();h.selectAll(".text").each((f,w,A)=>{var ue;const R=gr(A[w]),B=R.attr("transform");let W=0;if(B){const K=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(B);K&&(W=parseFloat(K[2]))}let $=W+u+s-(k?s:a.members.length===0&&a.methods.length===0?-s/2:0);l||($-=4);let G=D;(R.attr("class").includes("label-group")||R.attr("class").includes("annotation-group"))&&(G=-((ue=R.node())==null?void 0:ue.getBBox().width)/2||0,h.selectAll("text").each(function(Q,K,we){window.getComputedStyle(we[K]).textAnchor==="middle"&&(G=0)})),R.attr("transform",`translate(${G}, ${$})`)});const C=h.select(".annotation-group").node().getBBox().height-(k?s/2:0)||0,P=h.select(".label-group").node().getBBox().height-(k?s/2:0)||0,I=h.select(".members-group").node().getBBox().height-(k?s/2:0)||0;if(a.members.length>0||a.methods.length>0||k){const f=x.line(S.x,C+P+u+s,S.x+S.width,C+P+u+s,E);h.insert(()=>f).attr("class","divider").attr("style",b)}if(k||a.members.length>0||a.methods.length>0){const f=x.line(S.x,C+P+I+u+n*2+s,S.x+S.width,C+P+I+u+s+n*2,E);h.insert(()=>f).attr("class","divider").attr("style",b)}if(a.look!=="handDrawn"&&h.selectAll("path").attr("style",b),g.select(":nth-child(2)").attr("style",b),h.selectAll(".divider").select("path").attr("style",b),e.labelStyle?h.selectAll("span").attr("style",e.labelStyle):h.selectAll("span").attr("style",b),!l){const f=RegExp(/color\s*:\s*([^;]*)/),w=f.exec(b);if(w){const A=w[0].replace("color","fill");h.selectAll("tspan").attr("style",A)}else if(m){const A=f.exec(m);if(A){const R=A[0].replace("color","fill");h.selectAll("tspan").attr("style",R)}}}return _i(e,g),e.intersect=function(f){return hi.rect(e,f)},h}q(u8,"classBox");async function d8(t,e){var C,P;const{labelStyles:i,nodeStyles:s}=wi(e);e.labelStyle=i;const n=e,l=e,a=20,h=20,d="verifyMethod"in e,m=Ni(e),y=t.insert("g").attr("class",m).attr("id",e.domId??e.id);let b;d?b=await zo(y,`&lt;&lt;${n.type}&gt;&gt;`,0,e.labelStyle):b=await zo(y,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let k=b;const x=await zo(y,n.name,k,e.labelStyle+"; font-weight: bold;");if(k+=x+h,d){const I=await zo(y,`${n.requirementId?`ID: ${n.requirementId}`:""}`,k,e.labelStyle);k+=I;const U=await zo(y,`${n.text?`Text: ${n.text}`:""}`,k,e.labelStyle);k+=U;const z=await zo(y,`${n.risk?`Risk: ${n.risk}`:""}`,k,e.labelStyle);k+=z,await zo(y,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,k,e.labelStyle)}else{const I=await zo(y,`${l.type?`Type: ${l.type}`:""}`,k,e.labelStyle);k+=I,await zo(y,`${l.docRef?`Doc Ref: ${l.docRef}`:""}`,k,e.labelStyle)}const E=(((C=y.node())==null?void 0:C.getBBox().width)??200)+a,O=(((P=y.node())==null?void 0:P.getBBox().height)??200)+a,L=-E/2,D=-O/2,u=di.svg(y),T=fi(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const g=u.rectangle(L,D,E,O,T),S=y.insert(()=>g,":first-child");if(S.attr("class","basic label-container").attr("style",s),y.selectAll(".label").each((I,U,z)=>{const f=gr(z[U]),w=f.attr("transform");let A=0,R=0;if(w){const G=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(w);G&&(A=parseFloat(G[1]),R=parseFloat(G[2]))}const B=R-O/2;let W=L+a/2;(U===0||U===1)&&(W=A),f.attr("transform",`translate(${W}, ${B+a})`)}),k>b+x+h){const I=u.line(L,D+b+x+h,L+E,D+b+x+h,T);y.insert(()=>I).attr("style",s)}return _i(e,S),e.intersect=function(I){return hi.rect(e,I)},y}q(d8,"requirementBox");async function zo(t,e,i,s=""){if(e==="")return 0;const n=t.insert("g").attr("class","label").attr("style",s),l=Lr(),a=l.htmlLabels??!0,h=await Rc(n,vT(pu(e)),{width:Gl(e,l)+50,classes:"markdown-node-label",useHtmlLabels:a,style:s},l);let d;if(a){const m=h.children[0],y=gr(h);d=m.getBoundingClientRect(),y.attr("width",d.width),y.attr("height",d.height)}else{const m=h.children[0];for(const y of m.children)y.textContent=y.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),s&&y.setAttribute("style",s);d=h.getBBox(),d.height+=6}return n.attr("transform",`translate(${-d.width/2},${-d.height/2+i})`),d.height}q(zo,"addText");var Yoe=q(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function f8(t,e,{config:i}){var w,A;const{labelStyles:s,nodeStyles:n}=wi(e);e.labelStyle=s||"";const l=10,a=e.width;e.width=(e.width??200)-10;const{shapeSvg:h,bbox:d,label:m}=await qi(t,e,Ni(e)),y=e.padding||10;let b="",k;"ticket"in e&&e.ticket&&((w=i==null?void 0:i.kanban)!=null&&w.ticketBaseUrl)&&(b=(A=i==null?void 0:i.kanban)==null?void 0:A.ticketBaseUrl.replace("#TICKET#",e.ticket),k=h.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",b).attr("target","_blank"));const x={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let E,O;k?{label:E,bbox:O}=await Vx(k,"ticket"in e&&e.ticket||"",x):{label:E,bbox:O}=await Vx(h,"ticket"in e&&e.ticket||"",x);const{label:L,bbox:D}=await Vx(h,"assigned"in e&&e.assigned||"",x);e.width=a;const u=10,T=(e==null?void 0:e.width)||0,g=Math.max(O.height,D.height)/2,S=Math.max(d.height+u*2,(e==null?void 0:e.height)||0)+g,C=-T/2,P=-S/2;m.attr("transform","translate("+(y-T/2)+", "+(-g-d.height/2)+")"),E.attr("transform","translate("+(y-T/2)+", "+(-g+d.height/2)+")"),L.attr("transform","translate("+(y+T/2-D.width-2*l)+", "+(-g+d.height/2)+")");let I;const{rx:U,ry:z}=e,{cssStyles:f}=e;if(e.look==="handDrawn"){const R=di.svg(h),B=fi(e,{}),W=U||z?R.path(Fc(C,P,T,S,U||0),B):R.rectangle(C,P,T,S,B);I=h.insert(()=>W,":first-child"),I.attr("class","basic label-container").attr("style",f||null)}else{I=h.insert("rect",":first-child"),I.attr("class","basic label-container __APA__").attr("style",n).attr("rx",U??5).attr("ry",z??5).attr("x",C).attr("y",P).attr("width",T).attr("height",S);const R="priority"in e&&e.priority;if(R){const B=h.append("line"),W=C+2,$=P+Math.floor((U??0)/2),G=P+S-Math.floor((U??0)/2);B.attr("x1",W).attr("y1",$).attr("x2",W).attr("y2",G).attr("stroke-width","4").attr("stroke",Yoe(R))}}return _i(e,I),e.height=S,e.intersect=function(R){return hi.rect(e,R)},h}q(f8,"kanbanItem");var Goe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:G6},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:$6},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:X6},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:J6},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:v6},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:u6},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:W6},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:T6},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:F6},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:R6},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:s8},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:D6},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:_6},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:i8},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:c6},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:V6},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:Q6},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:Z6},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:k6},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:C6},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:p6},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:m6},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:g6},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:I6},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:o8},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:S6},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:r8},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:B6},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:y6},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:b6},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:a8},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:c8},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:w6},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:n8},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:x6},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:Y6},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:U6},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:z6},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:l6},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:f6},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:t8},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:e8},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:l8},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:j6},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:N6}],Xoe=q(()=>{const e=[...Object.entries({state:K6,choice:h6,note:H6,rectWithTitle:q6,labelRect:L6,iconSquare:A6,iconCircle:O6,icon:E6,iconRounded:M6,imageSquare:P6,anchor:o6,kanbanItem:f8,classBox:u8,erBox:l2,requirementBox:d8}),...Goe.flatMap(i=>[i.shortName,..."aliases"in i?i.aliases:[],..."internalAliases"in i?i.internalAliases:[]].map(n=>[n,i.handler]))];return Object.fromEntries(e)},"generateShapeMap"),p8=Xoe();function Koe(t){return t in p8}q(Koe,"isValidShape");var v0=new Map;async function m8(t,e,i){let s,n;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const l=e.shape?p8[e.shape]:void 0;if(!l)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;i.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),s=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a??null),n=await l(s,e,i)}else n=await l(t,e,i),s=n;return e.tooltip&&n.attr("title",e.tooltip),v0.set(e.id,s),e.haveCallback&&s.attr("class",s.attr("class")+" clickable"),s}q(m8,"insertNode");var Yde=q((t,e)=>{v0.set(e.id,t)},"setNodeElem"),Gde=q(()=>{v0.clear()},"clear"),Xde=q(t=>{const e=v0.get(t.id);ft.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const i=8,s=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+s-t.width/2)+", "+(t.y-t.height/2-i)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),s},"positionNode"),Zoe=q((t,e,i,s,n,l)=>{e.arrowTypeStart&&_3(t,"start",e.arrowTypeStart,i,s,n,l),e.arrowTypeEnd&&_3(t,"end",e.arrowTypeEnd,i,s,n,l)},"addEdgeMarkers"),Qoe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},_3=q((t,e,i,s,n,l,a)=>{var b;const h=Qoe[i];if(!h){ft.warn(`Unknown arrow type: ${i}`);return}const d=h.type,y=`${n}_${l}-${d}${e==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const k=a.replace(/[^\dA-Za-z]/g,"_"),x=`${y}_${k}`;if(!document.getElementById(x)){const E=document.getElementById(y);if(E){const O=E.cloneNode(!0);O.id=x,O.querySelectorAll("path, circle, line").forEach(D=>{D.setAttribute("stroke",a),h.fill&&D.setAttribute("fill",a)}),(b=E.parentNode)==null||b.appendChild(O)}}t.attr(`marker-${e}`,`url(${s}#${x})`)}else t.attr(`marker-${e}`,`url(${s}#${y})`)},"addEdgeMarker"),Sb=new Map,dn=new Map,Kde=q(()=>{Sb.clear(),dn.clear()},"clear"),Np=q(t=>t?t.reduce((i,s)=>i+";"+s,""):"","getLabelStyles"),Joe=q(async(t,e)=>{let i=qs(Lr().flowchart.htmlLabels);const s=await Rc(t,e.label,{style:Np(e.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});ft.info("abc82",e,e.labelType);const n=t.insert("g").attr("class","edgeLabel"),l=n.insert("g").attr("class","label");l.node().appendChild(s);let a=s.getBBox();if(i){const d=s.children[0],m=gr(s);a=d.getBoundingClientRect(),m.attr("width",a.width),m.attr("height",a.height)}l.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),Sb.set(e.id,n),e.width=a.width,e.height=a.height;let h;if(e.startLabelLeft){const d=await qh(e.startLabelLeft,Np(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),y=m.insert("g").attr("class","inner");h=y.node().appendChild(d);const b=d.getBBox();y.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),dn.get(e.id)||dn.set(e.id,{}),dn.get(e.id).startLeft=m,Zp(h,e.startLabelLeft)}if(e.startLabelRight){const d=await qh(e.startLabelRight,Np(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),y=m.insert("g").attr("class","inner");h=m.node().appendChild(d),y.node().appendChild(d);const b=d.getBBox();y.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),dn.get(e.id)||dn.set(e.id,{}),dn.get(e.id).startRight=m,Zp(h,e.startLabelRight)}if(e.endLabelLeft){const d=await qh(e.endLabelLeft,Np(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),y=m.insert("g").attr("class","inner");h=y.node().appendChild(d);const b=d.getBBox();y.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),m.node().appendChild(d),dn.get(e.id)||dn.set(e.id,{}),dn.get(e.id).endLeft=m,Zp(h,e.endLabelLeft)}if(e.endLabelRight){const d=await qh(e.endLabelRight,Np(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),y=m.insert("g").attr("class","inner");h=y.node().appendChild(d);const b=d.getBBox();y.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),m.node().appendChild(d),dn.get(e.id)||dn.set(e.id,{}),dn.get(e.id).endRight=m,Zp(h,e.endLabelRight)}return s},"insertEdgeLabel");function Zp(t,e){Lr().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}q(Zp,"setTerminalWidth");var ele=q((t,e)=>{ft.debug("Moving label abc88 ",t.id,t.label,Sb.get(t.id),e);let i=e.updatedPath?e.updatedPath:e.originalPath;const s=Lr(),{subGraphTitleTotalMargin:n}=CT(s);if(t.label){const l=Sb.get(t.id);let a=t.x,h=t.y;if(i){const d=mo.calcLabelPosition(i);ft.debug("Moving label "+t.label+" from (",a,",",h,") to (",d.x,",",d.y,") abc88"),e.updatedPath&&(a=d.x,h=d.y)}l.attr("transform",`translate(${a}, ${h+n/2})`)}if(t.startLabelLeft){const l=dn.get(t.id).startLeft;let a=t.x,h=t.y;if(i){const d=mo.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}if(t.startLabelRight){const l=dn.get(t.id).startRight;let a=t.x,h=t.y;if(i){const d=mo.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}if(t.endLabelLeft){const l=dn.get(t.id).endLeft;let a=t.x,h=t.y;if(i){const d=mo.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}if(t.endLabelRight){const l=dn.get(t.id).endRight;let a=t.x,h=t.y;if(i){const d=mo.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}},"positionEdgeLabel"),tle=q((t,e)=>{const i=t.x,s=t.y,n=Math.abs(e.x-i),l=Math.abs(e.y-s),a=t.width/2,h=t.height/2;return n>=a||l>=h},"outsideNode"),ile=q((t,e,i)=>{ft.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(i)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const s=t.x,n=t.y,l=Math.abs(s-i.x),a=t.width/2;let h=i.x<e.x?a-l:a+l;const d=t.height/2,m=Math.abs(e.y-i.y),y=Math.abs(e.x-i.x);if(Math.abs(n-e.y)*a>Math.abs(s-e.x)*d){let b=i.y<e.y?e.y-d-n:n-d-e.y;h=y*b/m;const k={x:i.x<e.x?i.x+h:i.x-y+h,y:i.y<e.y?i.y+m-b:i.y-m+b};return h===0&&(k.x=e.x,k.y=e.y),y===0&&(k.x=e.x),m===0&&(k.y=e.y),ft.debug(`abc89 top/bottom calc, Q ${m}, q ${b}, R ${y}, r ${h}`,k),k}else{i.x<e.x?h=e.x-a-s:h=s-a-e.x;let b=m*h/y,k=i.x<e.x?i.x+y-h:i.x-y+h,x=i.y<e.y?i.y+b:i.y-b;return ft.debug(`sides calc abc89, Q ${m}, q ${b}, R ${y}, r ${h}`,{_x:k,_y:x}),h===0&&(k=e.x,x=e.y),y===0&&(k=e.x),m===0&&(x=e.y),{x:k,y:x}}},"intersection"),w3=q((t,e)=>{ft.warn("abc88 cutPathAtIntersect",t,e);let i=[],s=t[0],n=!1;return t.forEach(l=>{if(ft.info("abc88 checking point",l,e),!tle(e,l)&&!n){const a=ile(e,s,l);ft.debug("abc88 inside",l,s,a),ft.debug("abc88 intersection",a,e);let h=!1;i.forEach(d=>{h=h||d.x===a.x&&d.y===a.y}),i.some(d=>d.x===a.x&&d.y===a.y)?ft.warn("abc88 no intersect",a,i):i.push(a),n=!0}else ft.warn("abc88 outside",l,s),s=l,n||i.push(l)}),ft.debug("returning points",i),i},"cutPathAtIntersect");function g8(t){const e=[],i=[];for(let s=1;s<t.length-1;s++){const n=t[s-1],l=t[s],a=t[s+1];(n.x===l.x&&l.y===a.y&&Math.abs(l.x-a.x)>5&&Math.abs(l.y-n.y)>5||n.y===l.y&&l.x===a.x&&Math.abs(l.x-n.x)>5&&Math.abs(l.y-a.y)>5)&&(e.push(l),i.push(s))}return{cornerPoints:e,cornerPointPositions:i}}q(g8,"extractCornerPoints");var x3=q(function(t,e,i){const s=e.x-t.x,n=e.y-t.y,l=Math.sqrt(s*s+n*n),a=i/l;return{x:e.x-a*s,y:e.y-a*n}},"findAdjacentPoint"),rle=q(function(t){const{cornerPointPositions:e}=g8(t),i=[];for(let s=0;s<t.length;s++)if(e.includes(s)){const n=t[s-1],l=t[s+1],a=t[s],h=x3(n,a,5),d=x3(l,a,5),m=d.x-h.x,y=d.y-h.y;i.push(h);const b=Math.sqrt(2)*2;let k={x:a.x,y:a.y};if(Math.abs(l.x-n.x)>10&&Math.abs(l.y-n.y)>=10){ft.debug("Corner point fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));const x=5;a.x===h.x?k={x:m<0?h.x-x+b:h.x+x-b,y:y<0?h.y-b:h.y+b}:k={x:m<0?h.x-b:h.x+b,y:y<0?h.y-x+b:h.y+x-b}}else ft.debug("Corner point skipping fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));i.push(k,d)}else i.push(t[s]);return i},"fixCorners"),sle=q(function(t,e,i,s,n,l,a){var f;const{handDrawnSeed:h}=Lr();let d=e.points,m=!1;const y=n;var b=l;const k=[];for(const w in e.cssCompiledStyles)VB(w)||k.push(e.cssCompiledStyles[w]);b.intersect&&y.intersect&&(d=d.slice(1,e.points.length-1),d.unshift(y.intersect(d[0])),ft.debug("Last point APA12",e.start,"-->",e.end,d[d.length-1],b,b.intersect(d[d.length-1])),d.push(b.intersect(d[d.length-1]))),e.toCluster&&(ft.info("to cluster abc88",i.get(e.toCluster)),d=w3(e.points,i.get(e.toCluster).node),m=!0),e.fromCluster&&(ft.debug("from cluster abc88",i.get(e.fromCluster),JSON.stringify(d,null,2)),d=w3(d.reverse(),i.get(e.fromCluster).node).reverse(),m=!0);let x=d.filter(w=>!Number.isNaN(w.y));x=rle(x);let E=_v;switch(E=ob,e.curve){case"linear":E=ob;break;case"basis":E=_v;break;case"cardinal":E=IN;break;case"bumpX":E=PN;break;case"bumpY":E=DN;break;case"catmullRom":E=NN;break;case"monotoneX":E=qN;break;case"monotoneY":E=$N;break;case"natural":E=YN;break;case"step":E=GN;break;case"stepAfter":E=KN;break;case"stepBefore":E=XN;break;default:E=_v}const{x:O,y:L}=SJ(e),D=tre().x(O).y(L).curve(E);let u;switch(e.thickness){case"normal":u="edge-thickness-normal";break;case"thick":u="edge-thickness-thick";break;case"invisible":u="edge-thickness-invisible";break;default:u="edge-thickness-normal"}switch(e.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed";break;default:u+=" edge-pattern-solid"}let T,g=D(x);const S=Array.isArray(e.style)?e.style:e.style?[e.style]:[];let C=S.find(w=>w==null?void 0:w.startsWith("stroke:"));if(e.look==="handDrawn"){const w=di.svg(t);Object.assign([],x);const A=w.path(g,{roughness:.3,seed:h});u+=" transition",T=gr(A).select("path").attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")).attr("style",S?S.reduce((B,W)=>B+";"+W,""):"");let R=T.attr("d");T.attr("d",R),t.node().appendChild(T.node())}else{const w=k.join(";"),A=S?S.reduce((W,$)=>W+$+";",""):"";let R="";e.animate&&(R=" edge-animation-fast"),e.animation&&(R=" edge-animation-"+e.animation);const B=w?w+";"+A+";":A;T=t.append("path").attr("d",g).attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")+(R??"")).attr("style",B),C=(f=B.match(/stroke:([^;]+)/))==null?void 0:f[1]}let P="";(Lr().flowchart.arrowMarkerAbsolute||Lr().state.arrowMarkerAbsolute)&&(P=l5(!0)),ft.info("arrowTypeStart",e.arrowTypeStart),ft.info("arrowTypeEnd",e.arrowTypeEnd),Zoe(T,e,P,a,s,C);const I=Math.floor(d.length/2),U=d[I];mo.isLabelCoordinateInPath(U,T.attr("d"))||(m=!0);let z={};return m&&(z.updatedPath=d),z.originalPath=e.points,z},"insertEdge"),nle=q((t,e,i,s)=>{e.forEach(n=>{wle[n](t,i,s)})},"insertMarkers"),ale=q((t,e,i)=>{ft.trace("Making markers for ",i),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),ole=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),lle=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),cle=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),hle=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),ule=q((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),dle=q((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),fle=q((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),ple=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),mle=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),gle=q((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),s.append("path").attr("d","M9,0 L9,18");const n=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),yle=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),vle=q((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),s.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const n=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),ble=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),_le=q((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");s.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),s.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),s.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),wle={extension:ale,composition:ole,aggregation:lle,dependency:cle,lollipop:hle,point:ule,circle:dle,cross:fle,barb:ple,only_one:mle,zero_or_one:gle,one_or_more:yle,zero_or_more:vle,requirement_arrow:ble,requirement_contains:_le},xle=nle,kle={common:Gd,getConfig:Cn,insertCluster:Doe,insertEdge:sle,insertEdgeLabel:Joe,insertMarkers:xle,insertNode:m8,interpolateToCurve:qT,labelHelper:qi,log:ft,positionEdgeLabel:ele},Nm={},y8=q(t=>{for(const e of t)Nm[e.name]=e},"registerLayoutLoaders"),Sle=q(()=>{y8([{name:"dagre",loader:q(async()=>await Wr(()=>import("./dagre-2BBEFEWP-B7Q1tWpY.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),"loader")}])},"registerDefaultLayoutLoaders");Sle();var Zde=q(async(t,e)=>{if(!(t.layoutAlgorithm in Nm))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const i=Nm[t.layoutAlgorithm];return(await i.loader()).render(t,e,kle,{algorithm:i.algorithm})},"render"),Qde=q((t="",{fallback:e="dagre"}={})=>{if(t in Nm)return t;if(e in Nm)return ft.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),k3={name:"mermaid",version:"11.10.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},Tle=q(t=>{var n;const{securityLevel:e}=Lr();let i=gr("body");if(e==="sandbox"){const a=((n=gr(`#i${t}`).node())==null?void 0:n.contentDocument)??document;i=gr(a.body)}return i.select(`#${t}`)},"selectSvgElement"),v8="comm",b8="rule",_8="decl",Cle="@import",Ele="@namespace",Ole="@keyframes",Mle="@layer",w8=Math.abs,c2=String.fromCharCode;function x8(t){return t.trim()}function Sv(t,e,i){return t.replace(e,i)}function Ale(t,e,i){return t.indexOf(e,i)}function dd(t,e){return t.charCodeAt(e)|0}function Ud(t,e,i){return t.slice(e,i)}function Ho(t){return t.length}function Ple(t){return t.length}function tv(t,e){return e.push(t),t}var b0=1,Hd=1,k8=0,Ga=0,Fs=0,Jd="";function h2(t,e,i,s,n,l,a,h){return{value:t,root:e,parent:i,type:s,props:n,children:l,line:b0,column:Hd,length:a,return:"",siblings:h}}function Dle(){return Fs}function Lle(){return Fs=Ga>0?dd(Jd,--Ga):0,Hd--,Fs===10&&(Hd=1,b0--),Fs}function bo(){return Fs=Ga<k8?dd(Jd,Ga++):0,Hd++,Fs===10&&(Hd=1,b0++),Fs}function wc(){return dd(Jd,Ga)}function Tv(){return Ga}function _0(t,e){return Ud(Jd,t,e)}function zm(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Rle(t){return b0=Hd=1,k8=Ho(Jd=t),Ga=0,[]}function Fle(t){return Jd="",t}function Yx(t){return x8(_0(Ga-1,lS(t===91?t+2:t===40?t+1:t)))}function Ile(t){for(;(Fs=wc())&&Fs<33;)bo();return zm(t)>2||zm(Fs)>3?"":" "}function Ble(t,e){for(;--e&&bo()&&!(Fs<48||Fs>102||Fs>57&&Fs<65||Fs>70&&Fs<97););return _0(t,Tv()+(e<6&&wc()==32&&bo()==32))}function lS(t){for(;bo();)switch(Fs){case t:return Ga;case 34:case 39:t!==34&&t!==39&&lS(Fs);break;case 40:t===41&&lS(t);break;case 92:bo();break}return Ga}function Nle(t,e){for(;bo()&&t+Fs!==57;)if(t+Fs===84&&wc()===47)break;return"/*"+_0(e,Ga-1)+"*"+c2(t===47?t:bo())}function zle(t){for(;!zm(wc());)bo();return _0(t,Ga)}function Ule(t){return Fle(Cv("",null,null,null,[""],t=Rle(t),0,[0],t))}function Cv(t,e,i,s,n,l,a,h,d){for(var m=0,y=0,b=a,k=0,x=0,E=0,O=1,L=1,D=1,u=0,T="",g=n,S=l,C=s,P=T;L;)switch(E=u,u=bo()){case 40:if(E!=108&&dd(P,b-1)==58){Ale(P+=Sv(Yx(u),"&","&\f"),"&\f",w8(m?h[m-1]:0))!=-1&&(D=-1);break}case 34:case 39:case 91:P+=Yx(u);break;case 9:case 10:case 13:case 32:P+=Ile(E);break;case 92:P+=Ble(Tv()-1,7);continue;case 47:switch(wc()){case 42:case 47:tv(Hle(Nle(bo(),Tv()),e,i,d),d),(zm(E||1)==5||zm(wc()||1)==5)&&Ho(P)&&Ud(P,-1,void 0)!==" "&&(P+=" ");break;default:P+="/"}break;case 123*O:h[m++]=Ho(P)*D;case 125*O:case 59:case 0:switch(u){case 0:case 125:L=0;case 59+y:D==-1&&(P=Sv(P,/\f/g,"")),x>0&&(Ho(P)-b||O===0&&E===47)&&tv(x>32?T3(P+";",s,i,b-1,d):T3(Sv(P," ","")+";",s,i,b-2,d),d);break;case 59:P+=";";default:if(tv(C=S3(P,e,i,m,y,n,h,T,g=[],S=[],b,l),l),u===123)if(y===0)Cv(P,e,C,C,g,l,b,h,S);else{switch(k){case 99:if(dd(P,3)===110)break;case 108:if(dd(P,2)===97)break;default:y=0;case 100:case 109:case 115:}y?Cv(t,C,C,s&&tv(S3(t,C,C,0,0,n,h,T,n,g=[],b,S),S),n,S,b,h,s?g:S):Cv(P,C,C,C,[""],S,0,h,S)}}m=y=x=0,O=D=1,T=P="",b=a;break;case 58:b=1+Ho(P),x=E;default:if(O<1){if(u==123)--O;else if(u==125&&O++==0&&Lle()==125)continue}switch(P+=c2(u),u*O){case 38:D=y>0?1:(P+="\f",-1);break;case 44:h[m++]=(Ho(P)-1)*D,D=1;break;case 64:wc()===45&&(P+=Yx(bo())),k=wc(),y=b=Ho(T=P+=zle(Tv())),u++;break;case 45:E===45&&Ho(P)==2&&(O=0)}}return l}function S3(t,e,i,s,n,l,a,h,d,m,y,b){for(var k=n-1,x=n===0?l:[""],E=Ple(x),O=0,L=0,D=0;O<s;++O)for(var u=0,T=Ud(t,k+1,k=w8(L=a[O])),g=t;u<E;++u)(g=x8(L>0?x[u]+" "+T:Sv(T,/&\f/g,x[u])))&&(d[D++]=g);return h2(t,e,i,n===0?b8:h,d,m,y,b)}function Hle(t,e,i,s){return h2(t,e,i,v8,c2(Dle()),Ud(t,2,-2),0,s)}function T3(t,e,i,s,n){return h2(t,e,i,_8,Ud(t,0,s),Ud(t,s+1,-1),s,n)}function cS(t,e){for(var i="",s=0;s<t.length;s++)i+=e(t[s],s,t,e)||"";return i}function Wle(t,e,i,s){switch(t.type){case Mle:if(t.children.length)break;case Cle:case Ele:case _8:return t.return=t.return||t.value;case v8:return"";case Ole:return t.return=t.value+"{"+cS(t.children,s)+"}";case b8:if(!Ho(t.value=t.props.join(",")))return""}return Ho(i=cS(t.children,s))?t.return=t.value+"{"+i+"}":""}var jle=e4(Object.keys,Object),qle=Object.prototype,$le=qle.hasOwnProperty;function Vle(t){if(!c0(t))return jle(t);var e=[];for(var i in Object(t))$le.call(t,i)&&i!="constructor"&&e.push(i);return e}var hS=fu(rl,"DataView"),uS=fu(rl,"Promise"),dS=fu(rl,"Set"),fS=fu(rl,"WeakMap"),C3="[object Map]",Yle="[object Object]",E3="[object Promise]",O3="[object Set]",M3="[object WeakMap]",A3="[object DataView]",Gle=du(hS),Xle=du(Im),Kle=du(uS),Zle=du(dS),Qle=du(fS),Fh=Kd;(hS&&Fh(new hS(new ArrayBuffer(1)))!=A3||Im&&Fh(new Im)!=C3||uS&&Fh(uS.resolve())!=E3||dS&&Fh(new dS)!=O3||fS&&Fh(new fS)!=M3)&&(Fh=function(t){var e=Kd(t),i=e==Yle?t.constructor:void 0,s=i?du(i):"";if(s)switch(s){case Gle:return A3;case Xle:return C3;case Kle:return E3;case Zle:return O3;case Qle:return M3}return e});var Jle="[object Map]",ece="[object Set]",tce=Object.prototype,ice=tce.hasOwnProperty;function P3(t){if(t==null)return!0;if(h0(t)&&(pb(t)||typeof t=="string"||typeof t.splice=="function"||WT(t)||jT(t)||fb(t)))return!t.length;var e=Fh(t);if(e==Jle||e==ece)return!t.size;if(c0(t))return!Vle(t).length;for(var i in t)if(ice.call(t,i))return!1;return!0}var S8="c4",rce=q(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),sce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./c4Diagram-AAMF2YG6-DUsiFu5W.js");return{diagram:e}},__vite__mapDeps([10,11,6,7,8,9]));return{id:S8,diagram:t}},"loader"),nce={id:S8,detector:rce,loader:sce},ace=nce,T8="flowchart",oce=q((t,e)=>{var i,s;return((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"||((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),lce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-D2DxGJ7i.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7,8,9]));return{id:T8,diagram:t}},"loader"),cce={id:T8,detector:oce,loader:lce},hce=cce,C8="flowchart-v2",uce=q((t,e)=>{var i,s,n;return((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-d3"?!1:(((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),dce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-D2DxGJ7i.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7,8,9]));return{id:C8,diagram:t}},"loader"),fce={id:C8,detector:uce,loader:dce},pce=fce,E8="er",mce=q(t=>/^\s*erDiagram/.test(t),"detector"),gce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./erDiagram-HZWUO2LU-BY_hThWT.js");return{diagram:e}},__vite__mapDeps([17,14,15,16,6,7,8,9]));return{id:E8,diagram:t}},"loader"),yce={id:E8,detector:mce,loader:gce},vce=yce,O8="gitGraph",bce=q(t=>/^\s*gitGraph/.test(t),"detector"),_ce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./gitGraphDiagram-OJR772UL-2VdaSDig.js");return{diagram:e}},__vite__mapDeps([18,19,20,21,9,2,4,5,7,6,8]));return{id:O8,diagram:t}},"loader"),wce={id:O8,detector:bce,loader:_ce},xce=wce,M8="gantt",kce=q(t=>/^\s*gantt/.test(t),"detector"),Sce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./ganttDiagram-WV7ZQ7D5-86DgclFC.js");return{diagram:e}},__vite__mapDeps([22,7,23,24,25,6,8,9]));return{id:M8,diagram:t}},"loader"),Tce={id:M8,detector:kce,loader:Sce},Cce=Tce,A8="info",Ece=q(t=>/^\s*info/.test(t),"detector"),Oce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./infoDiagram-6WOFNB3A-BWBji1Jv.js");return{diagram:e}},__vite__mapDeps([26,21,9,2,4,5,7,6,8]));return{id:A8,diagram:t}},"loader"),Mce={id:A8,detector:Ece,loader:Oce},P8="pie",Ace=q(t=>/^\s*pie/.test(t),"detector"),Pce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./pieDiagram-DBDJKBY4-BA8zdzZh.js");return{diagram:e}},__vite__mapDeps([27,19,21,9,2,4,5,7,28,29,24,6,8]));return{id:P8,diagram:t}},"loader"),Dce={id:P8,detector:Ace,loader:Pce},D8="quadrantChart",Lce=q(t=>/^\s*quadrantChart/.test(t),"detector"),Rce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./quadrantDiagram-YPSRARAO-DmgFDpWp.js");return{diagram:e}},__vite__mapDeps([30,23,24,25,6,7,8,9]));return{id:D8,diagram:t}},"loader"),Fce={id:D8,detector:Lce,loader:Rce},Ice=Fce,L8="xychart",Bce=q(t=>/^\s*xychart(-beta)?/.test(t),"detector"),Nce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./xychartDiagram-FDP5SA34-VCnO18pj.js");return{diagram:e}},__vite__mapDeps([31,24,29,23,25,6,7,8,9]));return{id:L8,diagram:t}},"loader"),zce={id:L8,detector:Bce,loader:Nce},Uce=zce,R8="requirement",Hce=q(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),Wce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./requirementDiagram-EGVEC5DT-DEktYSRx.js");return{diagram:e}},__vite__mapDeps([32,14,15,6,7,8,9]));return{id:R8,diagram:t}},"loader"),jce={id:R8,detector:Hce,loader:Wce},qce=jce,F8="sequence",$ce=q(t=>/^\s*sequenceDiagram/.test(t),"detector"),Vce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./sequenceDiagram-WFGC7UMF-qgemq1-A.js");return{diagram:e}},__vite__mapDeps([33,11,20,6,7,8,9]));return{id:F8,diagram:t}},"loader"),Yce={id:F8,detector:$ce,loader:Vce},Gce=Yce,I8="class",Xce=q((t,e)=>{var i;return((i=e==null?void 0:e.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),Kce=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./classDiagram-3BZAVTQC-DwtiC-E0.js");return{diagram:e}},__vite__mapDeps([34,35,13,14,15,6,7,8,9]));return{id:I8,diagram:t}},"loader"),Zce={id:I8,detector:Xce,loader:Kce},Qce=Zce,B8="classDiagram",Jce=q((t,e)=>{var i;return/^\s*classDiagram/.test(t)&&((i=e==null?void 0:e.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),ehe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./classDiagram-v2-QTMF73CY-DwtiC-E0.js");return{diagram:e}},__vite__mapDeps([36,35,13,14,15,6,7,8,9]));return{id:B8,diagram:t}},"loader"),the={id:B8,detector:Jce,loader:ehe},ihe=the,N8="state",rhe=q((t,e)=>{var i;return((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),she=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./stateDiagram-UUKSUZ4H-BpYI0d4k.js");return{diagram:e}},__vite__mapDeps([37,38,14,15,1,2,3,4,6,7,8,9]));return{id:N8,diagram:t}},"loader"),nhe={id:N8,detector:rhe,loader:she},ahe=nhe,z8="stateDiagram",ohe=q((t,e)=>{var i;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper")},"detector"),lhe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./stateDiagram-v2-EYPG3UTE-MaAH5o2X.js");return{diagram:e}},__vite__mapDeps([39,38,14,15,6,7,8,9]));return{id:z8,diagram:t}},"loader"),che={id:z8,detector:ohe,loader:lhe},hhe=che,U8="journey",uhe=q(t=>/^\s*journey/.test(t),"detector"),dhe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./journeyDiagram-FFXJYRFH-BeuLSleF.js");return{diagram:e}},__vite__mapDeps([40,11,13,28,6,7,8,9]));return{id:U8,diagram:t}},"loader"),fhe={id:U8,detector:uhe,loader:dhe},phe=fhe,mhe=q((t,e,i)=>{ft.debug(`rendering svg for syntax error
`);const s=Tle(e),n=s.append("g");s.attr("viewBox","0 0 2412 512"),c5(s,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${i}`)},"draw"),H8={draw:mhe},ghe=H8,yhe={db:{},renderer:H8,parser:{parse:q(()=>{},"parse")}},vhe=yhe,W8="flowchart-elk",bhe=q((t,e={})=>{var i;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),_he=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-D2DxGJ7i.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7,8,9]));return{id:W8,diagram:t}},"loader"),whe={id:W8,detector:bhe,loader:_he},xhe=whe,j8="timeline",khe=q(t=>/^\s*timeline/.test(t),"detector"),She=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./timeline-definition-3HZDQTIS-DV1Y5aeN.js");return{diagram:e}},__vite__mapDeps([41,28,6,7,8,9]));return{id:j8,diagram:t}},"loader"),The={id:j8,detector:khe,loader:She},Che=The,q8="mindmap",Ehe=q(t=>/^\s*mindmap/.test(t),"detector"),Ohe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./mindmap-definition-LNHGMQRG-CuQ9Dto9.js");return{diagram:e}},__vite__mapDeps([42,43,7,6,8,9]));return{id:q8,diagram:t}},"loader"),Mhe={id:q8,detector:Ehe,loader:Ohe},Ahe=Mhe,$8="kanban",Phe=q(t=>/^\s*kanban/.test(t),"detector"),Dhe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./kanban-definition-KOZQBZVT-Bi5xPlIi.js");return{diagram:e}},__vite__mapDeps([44,13,6,7,8,9]));return{id:$8,diagram:t}},"loader"),Lhe={id:$8,detector:Phe,loader:Dhe},Rhe=Lhe,V8="sankey",Fhe=q(t=>/^\s*sankey(-beta)?/.test(t),"detector"),Ihe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./sankeyDiagram-HRAUVNP4-CYDxk6xF.js");return{diagram:e}},__vite__mapDeps([45,29,24,6,7,8,9]));return{id:V8,diagram:t}},"loader"),Bhe={id:V8,detector:Fhe,loader:Ihe},Nhe=Bhe,Y8="packet",zhe=q(t=>/^\s*packet(-beta)?/.test(t),"detector"),Uhe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./diagram-GUPCWM2R-89Nc38zF.js");return{diagram:e}},__vite__mapDeps([46,19,21,9,2,4,5,7,6,8]));return{id:Y8,diagram:t}},"loader"),Hhe={id:Y8,detector:zhe,loader:Uhe},G8="radar",Whe=q(t=>/^\s*radar-beta/.test(t),"detector"),jhe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./diagram-RP2FKANI-BwYmaPeI.js");return{diagram:e}},__vite__mapDeps([47,19,21,9,2,4,5,7,6,8]));return{id:G8,diagram:t}},"loader"),qhe={id:G8,detector:Whe,loader:jhe},X8="block",$he=q(t=>/^\s*block(-beta)?/.test(t),"detector"),Vhe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./blockDiagram-ZYB65J3Q-CcuVBndS.js");return{diagram:e}},__vite__mapDeps([48,13,5,2,1,16,6,7,8,9]));return{id:X8,diagram:t}},"loader"),Yhe={id:X8,detector:$he,loader:Vhe},Ghe=Yhe,K8="architecture",Xhe=q(t=>/^\s*architecture/.test(t),"detector"),Khe=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./architectureDiagram-KFL7JDKH-DjisN_2j.js");return{diagram:e}},__vite__mapDeps([49,19,21,9,2,4,5,7,43,6,8]));return{id:K8,diagram:t}},"loader"),Zhe={id:K8,detector:Xhe,loader:Khe},Qhe=Zhe,Z8="treemap",Jhe=q(t=>/^\s*treemap/.test(t),"detector"),eue=q(async()=>{const{diagram:t}=await Wr(async()=>{const{diagram:e}=await import("./diagram-4IRLE6MV-CEhydzyn.js");return{diagram:e}},__vite__mapDeps([50,15,19,21,9,2,4,5,7,25,29,24,6,8]));return{id:Z8,diagram:t}},"loader"),tue={id:Z8,detector:Jhe,loader:eue},D3=!1,w0=q(()=>{D3||(D3=!0,Gv("error",vhe,t=>t.toLowerCase().trim()==="error"),Gv("---",{db:{clear:q(()=>{},"clear")},styles:{},renderer:{draw:q(()=>{},"draw")},parser:{parse:q(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:q(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),wk(xhe,Ahe,Qhe),wk(ace,Rhe,ihe,Qce,vce,Cce,Mce,Dce,qce,Gce,pce,hce,Che,xce,hhe,ahe,phe,Ice,Nhe,Hhe,Uce,Ghe,qhe,tue))},"addDiagrams"),iue=q(async()=>{ft.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(iu).map(async([i,{detector:s,loader:n}])=>{if(n)try{Tk(i)}catch{try{const{diagram:l,id:a}=await n();Gv(a,l,s)}catch(l){throw ft.error(`Failed to load external diagram with key ${i}. Removing from detectors.`),delete iu[i],l}}}))).filter(i=>i.status==="rejected");if(e.length>0){ft.error(`Failed to load ${e.length} external diagrams`);for(const i of e)ft.error(i);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),rue="graphics-document document";function Q8(t,e){t.attr("role",rue),e!==""&&t.attr("aria-roledescription",e)}q(Q8,"setA11yDiagramInfo");function J8(t,e,i,s){if(t.insert!==void 0){if(i){const n=`chart-desc-${s}`;t.attr("aria-describedby",n),t.insert("desc",":first-child").attr("id",n).text(i)}if(e){const n=`chart-title-${s}`;t.attr("aria-labelledby",n),t.insert("title",":first-child").attr("id",n).text(e)}}}q(J8,"addSVGa11yTitleDescription");var Zh,pS=(Zh=class{constructor(e,i,s,n,l){this.type=e,this.text=i,this.db=s,this.parser=n,this.renderer=l}static async fromText(e,i={}){var m,y;const s=Cn(),n=dT(e,s);e=tae(e)+`
`;try{Tk(n)}catch{const b=SZ(n);if(!b)throw new XI(`Diagram ${n} not found.`);const{id:k,diagram:x}=await b();Gv(k,x)}const{db:l,parser:a,renderer:h,init:d}=Tk(n);return a.parser&&(a.parser.yy=l),(m=l.clear)==null||m.call(l),d==null||d(s),i.title&&((y=l.setDiagramTitle)==null||y.call(l,i.title)),await a.parse(e),new Zh(n,e,l,a,h)}async render(e,i){await this.renderer.draw(this.text,e,i,this)}getParser(){return this.parser}getType(){return this.type}},q(Zh,"Diagram"),Zh),L3=[],sue=q(()=>{L3.forEach(t=>{t()}),L3=[]},"attachFunctions"),nue=q(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function ez(t){const e=t.match(GI);if(!e)return{text:t,metadata:{}};let i=kJ(e[1],{schema:xJ})??{};i=typeof i=="object"&&!Array.isArray(i)?i:{};const s={};return i.displayMode&&(s.displayMode=i.displayMode.toString()),i.title&&(s.title=i.title.toString()),i.config&&(s.config=i.config),{text:t.slice(e[0].length),metadata:s}}q(ez,"extractFrontMatter");var aue=q(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,i,s)=>"<"+i+s.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),oue=q(t=>{const{text:e,metadata:i}=ez(t),{displayMode:s,title:n,config:l={}}=i;return s&&(l.gantt||(l.gantt={}),l.gantt.displayMode=s),{title:n,config:l,text:e}},"processFrontmatter"),lue=q(t=>{const e=mo.detectInit(t)??{},i=mo.detectDirective(t,"wrap");return Array.isArray(i)?e.wrap=i.some(({type:s})=>s==="wrap"):(i==null?void 0:i.type)==="wrap"&&(e.wrap=!0),{text:Wne(t),directive:e}},"processDirectives");function u2(t){const e=aue(t),i=oue(e),s=lue(i.text),n=XT(i.config,s.directive);return t=nue(s.text),{code:t,title:i.title,config:n}}q(u2,"preprocessDiagram");function tz(t){const e=new TextEncoder().encode(t),i=Array.from(e,s=>String.fromCodePoint(s)).join("");return btoa(i)}q(tz,"toBase64");var cue=5e4,hue="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",uue="sandbox",due="loose",fue="http://www.w3.org/2000/svg",pue="http://www.w3.org/1999/xlink",mue="http://www.w3.org/1999/xhtml",gue="100%",yue="100%",vue="border:0;margin:0;",bue="margin:0",_ue="allow-top-navigation-by-user-activation allow-popups",wue='The "iframe" tag is not supported by your browser.',xue=["foreignobject"],kue=["dominant-baseline"];function d2(t){const e=u2(t);return Vv(),UZ(e.config??{}),e}q(d2,"processAndSetConfigs");async function iz(t,e){w0();try{const{code:i,config:s}=d2(t);return{diagramType:(await sz(i)).type,config:s}}catch(i){if(e!=null&&e.suppressErrors)return!1;throw i}}q(iz,"parse");var R3=q((t,e,i=[])=>`
.${t} ${e} { ${i.join(" !important; ")} !important; }`,"cssImportantStyles"),Sue=q((t,e=new Map)=>{var s;let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const h=t.htmlLabels??((s=t.flowchart)==null?void 0:s.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(d=>{P3(d.styles)||h.forEach(m=>{i+=R3(d.id,m,d.styles)}),P3(d.textStyles)||(i+=R3(d.id,"tspan",((d==null?void 0:d.textStyles)||[]).map(m=>m.replace("color","fill"))))})}return i},"createCssStyles"),Tue=q((t,e,i,s)=>{const n=Sue(t,i),l=nQ(e,n,t.themeVariables);return cS(Ule(`${s}{${l}}`),Wle)},"createUserStyles"),Cue=q((t="",e,i)=>{let s=t;return!i&&!e&&(s=s.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),s=pu(s),s=s.replace(/<br>/g,"<br/>"),s},"cleanUpSvgCode"),Eue=q((t="",e)=>{var n,l;const i=(l=(n=e==null?void 0:e.viewBox)==null?void 0:n.baseVal)!=null&&l.height?e.viewBox.baseVal.height+"px":yue,s=tz(`<body style="${bue}">${t}</body>`);return`<iframe style="width:${gue};height:${i};${vue}" src="data:text/html;charset=UTF-8;base64,${s}" sandbox="${_ue}">
  ${wue}
</iframe>`},"putIntoIFrame"),F3=q((t,e,i,s,n)=>{const l=t.append("div");l.attr("id",i),s&&l.attr("style",s);const a=l.append("svg").attr("id",e).attr("width","100%").attr("xmlns",fue);return n&&a.attr("xmlns:xlink",n),a.append("g"),t},"appendDivSvgG");function mS(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}q(mS,"sandboxedIframe");var Oue=q((t,e,i,s)=>{var n,l,a;(n=t.getElementById(e))==null||n.remove(),(l=t.getElementById(i))==null||l.remove(),(a=t.getElementById(s))==null||a.remove()},"removeExistingElements"),Mue=q(async function(t,e,i){var w,A,R,B,W,$;w0();const s=d2(e);e=s.code;const n=Cn();ft.debug(n),e.length>((n==null?void 0:n.maxTextSize)??cue)&&(e=hue);const l="#"+t,a="i"+t,h="#"+a,d="d"+t,m="#"+d,y=q(()=>{const ue=gr(k?h:m).node();ue&&"remove"in ue&&ue.remove()},"removeTempElements");let b=gr("body");const k=n.securityLevel===uue,x=n.securityLevel===due,E=n.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),k){const G=mS(gr(i),a);b=gr(G.nodes()[0].contentDocument.body),b.node().style.margin=0}else b=gr(i);F3(b,t,d,`font-family: ${E}`,pue)}else{if(Oue(document,t,d,a),k){const G=mS(gr("body"),a);b=gr(G.nodes()[0].contentDocument.body),b.node().style.margin=0}else b=gr("body");F3(b,t,d)}let O,L;try{O=await pS.fromText(e,{title:s.title})}catch(G){if(n.suppressErrorRendering)throw y(),G;O=await pS.fromText("error"),L=G}const D=b.select(m).node(),u=O.type,T=D.firstChild,g=T.firstChild,S=(A=(w=O.renderer).getClasses)==null?void 0:A.call(w,e,O),C=Tue(n,u,S,l),P=document.createElement("style");P.innerHTML=C,T.insertBefore(P,g);try{await O.renderer.draw(e,t,k3.version,O)}catch(G){throw n.suppressErrorRendering?y():ghe.draw(e,t,k3.version),G}const I=b.select(`${m} svg`),U=(B=(R=O.db).getAccTitle)==null?void 0:B.call(R),z=($=(W=O.db).getAccDescription)==null?void 0:$.call(W);nz(u,I,U,z),b.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",mue);let f=b.select(m).node().innerHTML;if(ft.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),f=Cue(f,k,qs(n.arrowMarkerAbsolute)),k){const G=b.select(m+" svg").node();f=Eue(f,G)}else x||(f=Dd.sanitize(f,{ADD_TAGS:xue,ADD_ATTR:kue,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(sue(),L)throw L;return y(),{diagramType:u,svg:f,bindFunctions:O.db.bindFunctions}},"render");function rz(t={}){var s;const e=fn({},t);e!=null&&e.fontFamily&&!((s=e.themeVariables)!=null&&s.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),NZ(e),e!=null&&e.theme&&e.theme in Hl?e.themeVariables=Hl[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=Hl.default.getThemeVariables(e.themeVariables));const i=typeof e=="object"?BZ(e):t5();uT(i.logLevel),w0()}q(rz,"initialize");var sz=q((t,e={})=>{const{code:i}=u2(t);return pS.fromText(i,e)},"getDiagramFromText");function nz(t,e,i,s){Q8(e,t),J8(e,i,s,e.attr("id"))}q(nz,"addA11yInfo");var ou=Object.freeze({render:Mue,parse:iz,getDiagramFromText:sz,initialize:rz,getConfig:Cn,setConfig:i5,getSiteConfig:t5,updateSiteConfig:zZ,reset:q(()=>{Vv()},"reset"),globalReset:q(()=>{Vv(Ld)},"globalReset"),defaultConfig:Ld});uT(Cn().logLevel);Vv(Cn());var Aue=q((t,e,i)=>{ft.warn(t),GT(t)?(i&&i(t.str,t.hash),e.push({...t,message:t.str,error:t})):(i&&i(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),az=q(async function(t={querySelector:".mermaid"}){try{await Pue(t)}catch(e){if(GT(e)&&ft.error(e.str),Ca.parseError&&Ca.parseError(e),!t.suppressErrors)throw ft.error("Use the suppressErrors option to suppress these errors"),e}},"run"),Pue=q(async function({postRenderCallback:t,querySelector:e,nodes:i}={querySelector:".mermaid"}){const s=ou.getConfig();ft.debug(`${t?"":"No "}Callback function found`);let n;if(i)n=i;else if(e)n=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");ft.debug(`Found ${n.length} diagrams`),(s==null?void 0:s.startOnLoad)!==void 0&&(ft.debug("Start On Load: "+(s==null?void 0:s.startOnLoad)),ou.updateSiteConfig({startOnLoad:s==null?void 0:s.startOnLoad}));const l=new mo.InitIDGenerator(s.deterministicIds,s.deterministicIDSeed);let a;const h=[];for(const d of Array.from(n)){if(ft.info("Rendering diagram: "+d.id),d.getAttribute("data-processed"))continue;d.setAttribute("data-processed","true");const m=`mermaid-${l.next()}`;a=d.innerHTML,a=D4(mo.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const y=mo.detectInit(a);y&&ft.debug("Detected early reinit: ",y);try{const{svg:b,bindFunctions:k}=await hz(m,a,d);d.innerHTML=b,t&&await t(m),k&&k(d)}catch(b){Aue(b,h,Ca.parseError)}}if(h.length>0)throw h[0]},"runThrowsErrors"),oz=q(function(t){ou.initialize(t)},"initialize"),Due=q(async function(t,e,i){ft.warn("mermaid.init is deprecated. Please use run instead."),t&&oz(t);const s={postRenderCallback:i,querySelector:".mermaid"};typeof e=="string"?s.querySelector=e:e&&(e instanceof HTMLElement?s.nodes=[e]:s.nodes=e),await az(s)},"init"),Lue=q(async(t,{lazyLoad:e=!0}={})=>{w0(),wk(...t),e===!1&&await iue()},"registerExternalDiagrams"),lz=q(function(){if(Ca.startOnLoad){const{startOnLoad:t}=ou.getConfig();t&&Ca.run().catch(e=>ft.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",lz,!1);var Rue=q(function(t){Ca.parseError=t},"setParseErrorHandler"),Tb=[],Gx=!1,cz=q(async()=>{if(!Gx){for(Gx=!0;Tb.length>0;){const t=Tb.shift();if(t)try{await t()}catch(e){ft.error("Error executing queue",e)}}Gx=!1}},"executeQueue"),Fue=q(async(t,e)=>new Promise((i,s)=>{const n=q(()=>new Promise((l,a)=>{ou.parse(t,e).then(h=>{l(h),i(h)},h=>{var d;ft.error("Error parsing",h),(d=Ca.parseError)==null||d.call(Ca,h),a(h),s(h)})}),"performCall");Tb.push(n),cz().catch(s)}),"parse"),hz=q((t,e,i)=>new Promise((s,n)=>{const l=q(()=>new Promise((a,h)=>{ou.render(t,e,i).then(d=>{a(d),s(d)},d=>{var m;ft.error("Error parsing",d),(m=Ca.parseError)==null||m.call(Ca,d),h(d),n(d)})}),"performCall");Tb.push(l),cz().catch(n)}),"render"),Iue=q(()=>Object.keys(iu).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Ca={startOnLoad:!0,mermaidAPI:ou,parse:Fue,render:hz,init:Due,run:az,registerExternalDiagrams:Lue,registerLayoutLoaders:y8,initialize:oz,parseError:void 0,contentLoaded:lz,setParseErrorHandler:Rue,detectType:dT,registerIconPacks:noe,getRegisteredDiagramsMetadata:Iue},Bue=Ca;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */function f2(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let gu=f2();function uz(t){gu=t}const mm={exec:()=>null};function Ir(t,e=""){let i=typeof t=="string"?t:t.source;const s={replace:(n,l)=>{let a=typeof l=="string"?l:l.source;return a=a.replace(qn.caret,"$1"),i=i.replace(n,a),s},getRegex:()=>new RegExp(i,e)};return s}const qn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},Nue=/^(?:[ \t]*(?:\n|$))+/,zue=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Uue=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,og=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Hue=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,p2=/(?:[*+-]|\d{1,9}[.)])/,dz=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,fz=Ir(dz).replace(/bull/g,p2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Wue=Ir(dz).replace(/bull/g,p2).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),m2=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,jue=/^[^\n]+/,g2=/(?!\s*\])(?:\\.|[^\[\]\\])+/,que=Ir(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",g2).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),$ue=Ir(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,p2).getRegex(),x0="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",y2=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Vue=Ir("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",y2).replace("tag",x0).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),pz=Ir(m2).replace("hr",og).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0).getRegex(),Yue=Ir(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",pz).getRegex(),v2={blockquote:Yue,code:zue,def:que,fences:Uue,heading:Hue,hr:og,html:Vue,lheading:fz,list:$ue,newline:Nue,paragraph:pz,table:mm,text:jue},I3=Ir("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",og).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0).getRegex(),Gue={...v2,lheading:Wue,table:I3,paragraph:Ir(m2).replace("hr",og).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",I3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0).getRegex()},Xue={...v2,html:Ir(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",y2).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:mm,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ir(m2).replace("hr",og).replace("heading",` *#{1,6} *[^
]`).replace("lheading",fz).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Kue=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Zue=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,mz=/^( {2,}|\\)\n(?!\s*$)/,Que=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,k0=/[\p{P}\p{S}]/u,b2=/[\s\p{P}\p{S}]/u,gz=/[^\s\p{P}\p{S}]/u,Jue=Ir(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,b2).getRegex(),yz=/(?!~)[\p{P}\p{S}]/u,ede=/(?!~)[\s\p{P}\p{S}]/u,tde=/(?:[^\s\p{P}\p{S}]|~)/u,ide=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,vz=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,rde=Ir(vz,"u").replace(/punct/g,k0).getRegex(),sde=Ir(vz,"u").replace(/punct/g,yz).getRegex(),bz="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",nde=Ir(bz,"gu").replace(/notPunctSpace/g,gz).replace(/punctSpace/g,b2).replace(/punct/g,k0).getRegex(),ade=Ir(bz,"gu").replace(/notPunctSpace/g,tde).replace(/punctSpace/g,ede).replace(/punct/g,yz).getRegex(),ode=Ir("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,gz).replace(/punctSpace/g,b2).replace(/punct/g,k0).getRegex(),lde=Ir(/\\(punct)/,"gu").replace(/punct/g,k0).getRegex(),cde=Ir(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),hde=Ir(y2).replace("(?:-->|$)","-->").getRegex(),ude=Ir("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",hde).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Cb=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,dde=Ir(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Cb).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_z=Ir(/^!?\[(label)\]\[(ref)\]/).replace("label",Cb).replace("ref",g2).getRegex(),wz=Ir(/^!?\[(ref)\](?:\[\])?/).replace("ref",g2).getRegex(),fde=Ir("reflink|nolink(?!\\()","g").replace("reflink",_z).replace("nolink",wz).getRegex(),_2={_backpedal:mm,anyPunctuation:lde,autolink:cde,blockSkip:ide,br:mz,code:Zue,del:mm,emStrongLDelim:rde,emStrongRDelimAst:nde,emStrongRDelimUnd:ode,escape:Kue,link:dde,nolink:wz,punctuation:Jue,reflink:_z,reflinkSearch:fde,tag:ude,text:Que,url:mm},pde={..._2,link:Ir(/^!?\[(label)\]\((.*?)\)/).replace("label",Cb).getRegex(),reflink:Ir(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Cb).getRegex()},gS={..._2,emStrongRDelimAst:ade,emStrongLDelim:sde,url:Ir(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},mde={...gS,br:Ir(mz).replace("{2,}","*").getRegex(),text:Ir(gS.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},iv={normal:v2,gfm:Gue,pedantic:Xue},zp={normal:_2,gfm:gS,breaks:mde,pedantic:pde},gde={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},B3=t=>gde[t];function Uo(t,e){if(e){if(qn.escapeTest.test(t))return t.replace(qn.escapeReplace,B3)}else if(qn.escapeTestNoEncode.test(t))return t.replace(qn.escapeReplaceNoEncode,B3);return t}function N3(t){try{t=encodeURI(t).replace(qn.percentDecode,"%")}catch{return null}return t}function z3(t,e){var l;const i=t.replace(qn.findPipe,(a,h,d)=>{let m=!1,y=h;for(;--y>=0&&d[y]==="\\";)m=!m;return m?"|":" |"}),s=i.split(qn.splitPipe);let n=0;if(s[0].trim()||s.shift(),s.length>0&&!((l=s.at(-1))!=null&&l.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(qn.slashPipe,"|");return s}function Up(t,e,i){const s=t.length;if(s===0)return"";let n=0;for(;n<s&&t.charAt(s-n-1)===e;)n++;return t.slice(0,s-n)}function yde(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function U3(t,e,i,s,n){const l=e.href,a=e.title||null,h=t[1].replace(n.other.outputLinkReplace,"$1");s.state.inLink=!0;const d={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:l,title:a,text:h,tokens:s.inlineTokens(h)};return s.state.inLink=!1,d}function vde(t,e,i){const s=t.match(i.other.indentCodeCompensation);if(s===null)return e;const n=s[1];return e.split(`
`).map(l=>{const a=l.match(i.other.beginningSpace);if(a===null)return l;const[h]=a;return h.length>=n.length?l.slice(n.length):l}).join(`
`)}class Eb{constructor(e){Di(this,"options");Di(this,"rules");Di(this,"lexer");this.options=e||gu}space(e){const i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){const i=this.rules.block.code.exec(e);if(i){const s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Up(s,`
`)}}}fences(e){const i=this.rules.block.fences.exec(e);if(i){const s=i[0],n=vde(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:n}}}heading(e){const i=this.rules.block.heading.exec(e);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){const n=Up(s,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(s=n.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:Up(i[0],`
`)}}blockquote(e){const i=this.rules.block.blockquote.exec(e);if(i){let s=Up(i[0],`
`).split(`
`),n="",l="";const a=[];for(;s.length>0;){let h=!1;const d=[];let m;for(m=0;m<s.length;m++)if(this.rules.other.blockquoteStart.test(s[m]))d.push(s[m]),h=!0;else if(!h)d.push(s[m]);else break;s=s.slice(m);const y=d.join(`
`),b=y.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${y}`:y,l=l?`${l}
${b}`:b;const k=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,a,!0),this.lexer.state.top=k,s.length===0)break;const x=a.at(-1);if((x==null?void 0:x.type)==="code")break;if((x==null?void 0:x.type)==="blockquote"){const E=x,O=E.raw+`
`+s.join(`
`),L=this.blockquote(O);a[a.length-1]=L,n=n.substring(0,n.length-E.raw.length)+L.raw,l=l.substring(0,l.length-E.text.length)+L.text;break}else if((x==null?void 0:x.type)==="list"){const E=x,O=E.raw+`
`+s.join(`
`),L=this.list(O);a[a.length-1]=L,n=n.substring(0,n.length-x.raw.length)+L.raw,l=l.substring(0,l.length-E.raw.length)+L.raw,s=O.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:l}}}list(e){let i=this.rules.block.list.exec(e);if(i){let s=i[1].trim();const n=s.length>1,l={type:"list",raw:"",ordered:n,start:n?+s.slice(0,-1):"",loose:!1,items:[]};s=n?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=n?s:"[*+-]");const a=this.rules.other.listItemRegex(s);let h=!1;for(;e;){let m=!1,y="",b="";if(!(i=a.exec(e))||this.rules.block.hr.test(e))break;y=i[0],e=e.substring(y.length);let k=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,u=>" ".repeat(3*u.length)),x=e.split(`
`,1)[0],E=!k.trim(),O=0;if(this.options.pedantic?(O=2,b=k.trimStart()):E?O=i[1].length+1:(O=i[2].search(this.rules.other.nonSpaceChar),O=O>4?1:O,b=k.slice(O),O+=i[1].length),E&&this.rules.other.blankLine.test(x)&&(y+=x+`
`,e=e.substring(x.length+1),m=!0),!m){const u=this.rules.other.nextBulletRegex(O),T=this.rules.other.hrRegex(O),g=this.rules.other.fencesBeginRegex(O),S=this.rules.other.headingBeginRegex(O),C=this.rules.other.htmlBeginRegex(O);for(;e;){const P=e.split(`
`,1)[0];let I;if(x=P,this.options.pedantic?(x=x.replace(this.rules.other.listReplaceNesting,"  "),I=x):I=x.replace(this.rules.other.tabCharGlobal,"    "),g.test(x)||S.test(x)||C.test(x)||u.test(x)||T.test(x))break;if(I.search(this.rules.other.nonSpaceChar)>=O||!x.trim())b+=`
`+I.slice(O);else{if(E||k.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(k)||S.test(k)||T.test(k))break;b+=`
`+x}!E&&!x.trim()&&(E=!0),y+=P+`
`,e=e.substring(P.length+1),k=I.slice(O)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(y)&&(h=!0));let L=null,D;this.options.gfm&&(L=this.rules.other.listIsTask.exec(b),L&&(D=L[0]!=="[ ] ",b=b.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:y,task:!!L,checked:D,loose:!1,text:b,tokens:[]}),l.raw+=y}const d=l.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let m=0;m<l.items.length;m++)if(this.lexer.state.top=!1,l.items[m].tokens=this.lexer.blockTokens(l.items[m].text,[]),!l.loose){const y=l.items[m].tokens.filter(k=>k.type==="space"),b=y.length>0&&y.some(k=>this.rules.other.anyLine.test(k.raw));l.loose=b}if(l.loose)for(let m=0;m<l.items.length;m++)l.items[m].loose=!0;return l}}html(e){const i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){const i=this.rules.block.def.exec(e);if(i){const s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:n,title:l}}}table(e){var h;const i=this.rules.block.table.exec(e);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;const s=z3(i[1]),n=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=i[3])!=null&&h.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===n.length){for(const d of n)this.rules.other.tableAlignRight.test(d)?a.align.push("right"):this.rules.other.tableAlignCenter.test(d)?a.align.push("center"):this.rules.other.tableAlignLeft.test(d)?a.align.push("left"):a.align.push(null);for(let d=0;d<s.length;d++)a.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:a.align[d]});for(const d of l)a.rows.push(z3(d,a.header.length).map((m,y)=>({text:m,tokens:this.lexer.inline(m),header:!1,align:a.align[y]})));return a}}lheading(e){const i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){const i=this.rules.block.paragraph.exec(e);if(i){const s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){const i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(e){const i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){const i=this.rules.inline.link.exec(e);if(i){const s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const a=Up(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{const a=yde(i[2],"()");if(a===-2)return;if(a>-1){const d=(i[0].indexOf("!")===0?5:4)+i[1].length+a;i[2]=i[2].substring(0,a),i[0]=i[0].substring(0,d).trim(),i[3]=""}}let n=i[2],l="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(n);a&&(n=a[1],l=a[3])}else l=i[3]?i[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?n=n.slice(1):n=n.slice(1,-1)),U3(i,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(e,i){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const n=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=i[n.toLowerCase()];if(!l){const a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return U3(s,l,s[0],this.lexer,this.rules)}}emStrong(e,i,s=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&s.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const a=[...n[0]].length-1;let h,d,m=a,y=0;const b=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(b.lastIndex=0,i=i.slice(-1*e.length+a);(n=b.exec(i))!=null;){if(h=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!h)continue;if(d=[...h].length,n[3]||n[4]){m+=d;continue}else if((n[5]||n[6])&&a%3&&!((a+d)%3)){y+=d;continue}if(m-=d,m>0)continue;d=Math.min(d,d+m+y);const k=[...n[0]][0].length,x=e.slice(0,a+n.index+k+d);if(Math.min(a,d)%2){const O=x.slice(1,-1);return{type:"em",raw:x,text:O,tokens:this.lexer.inlineTokens(O)}}const E=x.slice(2,-2);return{type:"strong",raw:x,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(e){const i=this.rules.inline.code.exec(e);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return n&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(e){const i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){const i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){const i=this.rules.inline.autolink.exec(e);if(i){let s,n;return i[2]==="@"?(s=i[1],n="mailto:"+s):(s=i[1],n=s),{type:"link",raw:i[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let i;if(i=this.rules.inline.url.exec(e)){let n,l;if(i[2]==="@")n=i[0],l="mailto:"+n;else{let a;do a=i[0],i[0]=((s=this.rules.inline._backpedal.exec(i[0]))==null?void 0:s[0])??"";while(a!==i[0]);n=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const i=this.rules.inline.text.exec(e);if(i){const s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}}class Ua{constructor(e){Di(this,"tokens");Di(this,"options");Di(this,"state");Di(this,"tokenizer");Di(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||gu,this.options.tokenizer=this.options.tokenizer||new Eb,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:qn,block:iv.normal,inline:zp.normal};this.options.pedantic?(i.block=iv.pedantic,i.inline=zp.pedantic):this.options.gfm&&(i.block=iv.gfm,this.options.breaks?i.inline=zp.breaks:i.inline=zp.gfm),this.tokenizer.rules=i}static get rules(){return{block:iv,inline:zp}}static lex(e,i){return new Ua(i).lex(e)}static lexInline(e,i){return new Ua(i).inlineTokens(e)}lex(e){e=e.replace(qn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var n,l,a;for(this.options.pedantic&&(e=e.replace(qn.tabCharGlobal,"    ").replace(qn.spaceLine,""));e;){let h;if((l=(n=this.options.extensions)==null?void 0:n.block)!=null&&l.some(m=>(h=m.call({lexer:this},e,i))?(e=e.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(e)){e=e.substring(h.raw.length);const m=i.at(-1);h.raw.length===1&&m!==void 0?m.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(e)){e=e.substring(h.raw.length);const m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(h=this.tokenizer.fences(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(e)){e=e.substring(h.raw.length);const m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.raw,this.inlineQueue.at(-1).src=m.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title});continue}if(h=this.tokenizer.table(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(e)){e=e.substring(h.raw.length),i.push(h);continue}let d=e;if((a=this.options.extensions)!=null&&a.startBlock){let m=1/0;const y=e.slice(1);let b;this.options.extensions.startBlock.forEach(k=>{b=k.call({lexer:this},y),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(d=e.substring(0,m+1))}if(this.state.top&&(h=this.tokenizer.paragraph(d))){const m=i.at(-1);s&&(m==null?void 0:m.type)==="paragraph"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h),s=d.length!==e.length,e=e.substring(h.raw.length);continue}if(h=this.tokenizer.text(e)){e=e.substring(h.raw.length);const m=i.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var h,d,m;let s=e,n=null;if(this.tokens.links){const y=Object.keys(this.tokens.links);if(y.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)y.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,n.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,a="";for(;e;){l||(a=""),l=!1;let y;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(k=>(y=k.call({lexer:this},e,i))?(e=e.substring(y.raw.length),i.push(y),!0):!1))continue;if(y=this.tokenizer.escape(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.tag(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.link(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(y.raw.length);const k=i.at(-1);y.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=y.raw,k.text+=y.text):i.push(y);continue}if(y=this.tokenizer.emStrong(e,s,a)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.codespan(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.br(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.del(e)){e=e.substring(y.raw.length),i.push(y);continue}if(y=this.tokenizer.autolink(e)){e=e.substring(y.raw.length),i.push(y);continue}if(!this.state.inLink&&(y=this.tokenizer.url(e))){e=e.substring(y.raw.length),i.push(y);continue}let b=e;if((m=this.options.extensions)!=null&&m.startInline){let k=1/0;const x=e.slice(1);let E;this.options.extensions.startInline.forEach(O=>{E=O.call({lexer:this},x),typeof E=="number"&&E>=0&&(k=Math.min(k,E))}),k<1/0&&k>=0&&(b=e.substring(0,k+1))}if(y=this.tokenizer.inlineText(b)){e=e.substring(y.raw.length),y.raw.slice(-1)!=="_"&&(a=y.raw.slice(-1)),l=!0;const k=i.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=y.raw,k.text+=y.text):i.push(y);continue}if(e){const k="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return i}}class Ob{constructor(e){Di(this,"options");Di(this,"parser");this.options=e||gu}space(e){return""}code({text:e,lang:i,escaped:s}){var a;const n=(a=(i||"").match(qn.notSpaceStart))==null?void 0:a[0],l=e.replace(qn.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Uo(n)+'">'+(s?l:Uo(l,!0))+`</code></pre>
`:"<pre><code>"+(s?l:Uo(l,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){const i=e.ordered,s=e.start;let n="";for(let h=0;h<e.items.length;h++){const d=e.items[h];n+=this.listitem(d)}const l=i?"ol":"ul",a=i&&s!==1?' start="'+s+'"':"";return"<"+l+a+`>
`+n+"</"+l+`>
`}listitem(e){var s;let i="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Uo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):i+=n+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",s="";for(let l=0;l<e.header.length;l++)s+=this.tablecell(e.header[l]);i+=this.tablerow({text:s});let n="";for(let l=0;l<e.rows.length;l++){const a=e.rows[l];s="";for(let h=0;h<a.length;h++)s+=this.tablecell(a[h]);n+=this.tablerow({text:s})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const i=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Uo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:s}){const n=this.parser.parseInline(s),l=N3(e);if(l===null)return n;e=l;let a='<a href="'+e+'"';return i&&(a+=' title="'+Uo(i)+'"'),a+=">"+n+"</a>",a}image({href:e,title:i,text:s,tokens:n}){n&&(s=this.parser.parseInline(n,this.parser.textRenderer));const l=N3(e);if(l===null)return Uo(s);e=l;let a=`<img src="${e}" alt="${s}"`;return i&&(a+=` title="${Uo(i)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Uo(e.text)}}class w2{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class Ha{constructor(e){Di(this,"options");Di(this,"renderer");Di(this,"textRenderer");this.options=e||gu,this.options.renderer=this.options.renderer||new Ob,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new w2}static parse(e,i){return new Ha(i).parse(e)}static parseInline(e,i){return new Ha(i).parseInline(e)}parse(e,i=!0){var n,l;let s="";for(let a=0;a<e.length;a++){const h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){const m=h,y=this.options.extensions.renderers[m.type].call({parser:this},m);if(y!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type)){s+=y||"";continue}}const d=h;switch(d.type){case"space":{s+=this.renderer.space(d);continue}case"hr":{s+=this.renderer.hr(d);continue}case"heading":{s+=this.renderer.heading(d);continue}case"code":{s+=this.renderer.code(d);continue}case"table":{s+=this.renderer.table(d);continue}case"blockquote":{s+=this.renderer.blockquote(d);continue}case"list":{s+=this.renderer.list(d);continue}case"html":{s+=this.renderer.html(d);continue}case"paragraph":{s+=this.renderer.paragraph(d);continue}case"text":{let m=d,y=this.renderer.text(m);for(;a+1<e.length&&e[a+1].type==="text";)m=e[++a],y+=`
`+this.renderer.text(m);i?s+=this.renderer.paragraph({type:"paragraph",raw:y,text:y,tokens:[{type:"text",raw:y,text:y,escaped:!0}]}):s+=y;continue}default:{const m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}parseInline(e,i=this.renderer){var n,l;let s="";for(let a=0;a<e.length;a++){const h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){const m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){s+=m||"";continue}}const d=h;switch(d.type){case"escape":{s+=i.text(d);break}case"html":{s+=i.html(d);break}case"link":{s+=i.link(d);break}case"image":{s+=i.image(d);break}case"strong":{s+=i.strong(d);break}case"em":{s+=i.em(d);break}case"codespan":{s+=i.codespan(d);break}case"br":{s+=i.br(d);break}case"del":{s+=i.del(d);break}case"text":{s+=i.text(d);break}default:{const m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}}class gm{constructor(e){Di(this,"options");Di(this,"block");this.options=e||gu}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ua.lex:Ua.lexInline}provideParser(){return this.block?Ha.parse:Ha.parseInline}}Di(gm,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class bde{constructor(...e){Di(this,"defaults",f2());Di(this,"options",this.setOptions);Di(this,"parse",this.parseMarkdown(!0));Di(this,"parseInline",this.parseMarkdown(!1));Di(this,"Parser",Ha);Di(this,"Renderer",Ob);Di(this,"TextRenderer",w2);Di(this,"Lexer",Ua);Di(this,"Tokenizer",Eb);Di(this,"Hooks",gm);this.use(...e)}walkTokens(e,i){var n,l;let s=[];for(const a of e)switch(s=s.concat(i.call(this,a)),a.type){case"table":{const h=a;for(const d of h.header)s=s.concat(this.walkTokens(d.tokens,i));for(const d of h.rows)for(const m of d)s=s.concat(this.walkTokens(m.tokens,i));break}case"list":{const h=a;s=s.concat(this.walkTokens(h.items,i));break}default:{const h=a;(l=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(d=>{const m=h[d].flat(1/0);s=s.concat(this.walkTokens(m,i))}):h.tokens&&(s=s.concat(this.walkTokens(h.tokens,i)))}}return s}use(...e){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const n={...s};if(n.async=this.defaults.async||n.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const a=i.renderers[l.name];a?i.renderers[l.name]=function(...h){let d=l.renderer.apply(this,h);return d===!1&&(d=a.apply(this,h)),d}:i.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=i[l.level];a?a.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),n.extensions=i),s.renderer){const l=this.defaults.renderer||new Ob(this.defaults);for(const a in s.renderer){if(!(a in l))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const h=a,d=s.renderer[h],m=l[h];l[h]=(...y)=>{let b=d.apply(l,y);return b===!1&&(b=m.apply(l,y)),b||""}}n.renderer=l}if(s.tokenizer){const l=this.defaults.tokenizer||new Eb(this.defaults);for(const a in s.tokenizer){if(!(a in l))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const h=a,d=s.tokenizer[h],m=l[h];l[h]=(...y)=>{let b=d.apply(l,y);return b===!1&&(b=m.apply(l,y)),b}}n.tokenizer=l}if(s.hooks){const l=this.defaults.hooks||new gm;for(const a in s.hooks){if(!(a in l))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const h=a,d=s.hooks[h],m=l[h];gm.passThroughHooks.has(a)?l[h]=y=>{if(this.defaults.async)return Promise.resolve(d.call(l,y)).then(k=>m.call(l,k));const b=d.call(l,y);return m.call(l,b)}:l[h]=(...y)=>{let b=d.apply(l,y);return b===!1&&(b=m.apply(l,y)),b}}n.hooks=l}if(s.walkTokens){const l=this.defaults.walkTokens,a=s.walkTokens;n.walkTokens=function(h){let d=[];return d.push(a.call(this,h)),l&&(d=d.concat(l.call(this,h))),d}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return Ua.lex(e,i??this.defaults)}parser(e,i){return Ha.parse(e,i??this.defaults)}parseMarkdown(e){return(s,n)=>{const l={...n},a={...this.defaults,...l},h=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&l.async===!1)return h(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const d=a.hooks?a.hooks.provideLexer():e?Ua.lex:Ua.lexInline,m=a.hooks?a.hooks.provideParser():e?Ha.parse:Ha.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(s):s).then(y=>d(y,a)).then(y=>a.hooks?a.hooks.processAllTokens(y):y).then(y=>a.walkTokens?Promise.all(this.walkTokens(y,a.walkTokens)).then(()=>y):y).then(y=>m(y,a)).then(y=>a.hooks?a.hooks.postprocess(y):y).catch(h);try{a.hooks&&(s=a.hooks.preprocess(s));let y=d(s,a);a.hooks&&(y=a.hooks.processAllTokens(y)),a.walkTokens&&this.walkTokens(y,a.walkTokens);let b=m(y,a);return a.hooks&&(b=a.hooks.postprocess(b)),b}catch(y){return h(y)}}}onError(e,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+Uo(s.message+"",!0)+"</pre>";return i?Promise.resolve(n):n}if(i)return Promise.reject(s);throw s}}}const lu=new bde;function Hr(t,e){return lu.parse(t,e)}Hr.options=Hr.setOptions=function(t){return lu.setOptions(t),Hr.defaults=lu.defaults,uz(Hr.defaults),Hr};Hr.getDefaults=f2;Hr.defaults=gu;Hr.use=function(...t){return lu.use(...t),Hr.defaults=lu.defaults,uz(Hr.defaults),Hr};Hr.walkTokens=function(t,e){return lu.walkTokens(t,e)};Hr.parseInline=lu.parseInline;Hr.Parser=Ha;Hr.parser=Ha.parse;Hr.Renderer=Ob;Hr.TextRenderer=w2;Hr.Lexer=Ua;Hr.lexer=Ua.lex;Hr.Tokenizer=Eb;Hr.Hooks=gm;Hr.parse=Hr;Hr.options;Hr.setOptions;Hr.use;Hr.walkTokens;Hr.parseInline;Ha.parse;Ua.lex;window.luxon={DateTime:dW,Duration:uW,Interval:hW,Info:cW,Settings:lW};window.moment=ii;window.flatpickr=Rs;window.Sortable=ji;window.Popper={createPopper:sI};window.tippy=Gm;window.confetti=SG;window.Croppie=EG;window.Packery=DG;window.imagesLoaded=FG;window.Shepherd=zh;window.Isotope=HK;window.GridStack=JL.GridStack||JL;window.mermaid=Bue;window.marked=Hr;export{h5 as $,hm as A,xZ as B,pQ as C,XT as D,JI as E,Cn as F,Yne as G,Tle as H,k3 as I,xJ as J,AZ as K,Fd as L,Cde as M,u0 as N,l5 as O,fT as P,mR as Q,tre as R,_v as S,Vne as T,Qm as U,iQ as V,Zm as W,ci as X,Ei as Y,Nne as Z,q as _,lQ as a,Ste as a$,Zie as a0,NR as a1,BR as a2,Bde as a3,Dde as a4,Fde as a5,Rde as a6,Ade as a7,FT as a8,Ide as a9,_i as aA,Yde as aB,sle as aC,ele as aD,Joe as aE,ooe as aF,Qie as aG,ng as aH,noe as aI,soe as aJ,PT as aK,gc as aL,Lm as aM,PR as aN,Pte as aO,uu as aP,Fne as aQ,l4 as aR,a0 as aS,h0 as aT,pb as aU,h4 as aV,o4 as aW,une as aX,wi as aY,VB as aZ,aa as a_,Pde as aa,$u as ab,zde as ac,Nde as ad,Lde as ae,$i as af,Qo as ag,Doe as ah,m8 as ai,Xde as aj,SJ as ak,qs as al,Rc as am,CT as an,q4 as ao,pu as ap,g4 as aq,Rne as ar,Cse as as,Ene as at,UT as au,P3 as av,xle as aw,Gde as ax,Kde as ay,Vde as az,oQ as b,AT as b0,mN as b1,tg as b2,vN as b3,Mde as b4,YK as b5,Lne as b6,Cne as b7,fse as b8,HT as b9,c0 as bA,one as ba,Bne as bb,rg as bc,Kd as bd,ub as be,vne as bf,Vle as bg,ig as bh,fb as bi,dne as bj,t4 as bk,gse as bl,yse as bm,Fh as bn,JR as bo,vse as bp,WT as bq,mse as br,wse as bs,Zd as bt,Lc as bu,GR as bv,jT as bw,r4 as bx,dS as by,Ine as bz,Lr as c,gr as d,c5 as e,fn as f,hQ as g,Gl as h,Ya as i,tN as j,Gd as k,ft as l,v4 as m,Ede as n,Qde as o,uQ as p,dQ as q,Zde as r,cQ as s,kJ as t,mo as u,Koe as v,Kne as w,Ude as x,aQ as y,Ode as z};
