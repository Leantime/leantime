const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-2BBEFEWP-Bf2o9DSN.js","assets/graph-UeykvHYA.js","assets/_baseUniq-CzFlYJ7r.js","assets/layout-DAT91pJT.js","assets/_basePickBy-lD_Ex9Zg.js","assets/clone-B5YzSdHd.js","assets/datetime-ChMPBVRm.js","assets/_jquery-global-BcA88QQ9.js","assets/c4Diagram-AAMF2YG6-BU1oSazh.js","assets/chunk-OMD6QJNC-Dapd3nyO.js","assets/flowDiagram-THRYKUMA-BO47VlMJ.js","assets/chunk-GLLZNHP4-CWu6sisA.js","assets/chunk-WVR4S24B-D1Jj4mvD.js","assets/chunk-NRVI72HA-D5XhYe3f.js","assets/channel-DhGBp5LW.js","assets/erDiagram-HZWUO2LU-CR92Wz5Q.js","assets/gitGraphDiagram-OJR772UL-BmfRlbVF.js","assets/chunk-ANTBXLJU-Cwl2ZTay.js","assets/chunk-FHKO5MBM-DoXxGT6P.js","assets/treemap-75Q7IDZK-DCWWH8xs.js","assets/ganttDiagram-WV7ZQ7D5-Bk2enxPG.js","assets/linear-DRhUOE-w.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-6WOFNB3A-clBQCKnP.js","assets/pieDiagram-DBDJKBY4-75YEhexC.js","assets/arc-CP-HxgJZ.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-YPSRARAO-C8sCKgZZ.js","assets/xychartDiagram-FDP5SA34-D5N0tfAY.js","assets/requirementDiagram-EGVEC5DT-t_0PGWPX.js","assets/sequenceDiagram-WFGC7UMF-Ca1ACAEf.js","assets/classDiagram-3BZAVTQC-DOkTcIoo.js","assets/chunk-JBRWN2VN--vo1VDv6.js","assets/classDiagram-v2-QTMF73CY-DOkTcIoo.js","assets/stateDiagram-UUKSUZ4H-BFAU_6MM.js","assets/chunk-LXBSTHXV-CPvjBo82.js","assets/stateDiagram-v2-EYPG3UTE-DJQDPzG8.js","assets/journeyDiagram-FFXJYRFH-DBEnCq2P.js","assets/timeline-definition-3HZDQTIS-Bp3BGHYa.js","assets/mindmap-definition-LNHGMQRG-Ct189TK4.js","assets/cytoscape.esm-BY7v1xhs.js","assets/kanban-definition-KOZQBZVT-SLIF1x3I.js","assets/sankeyDiagram-HRAUVNP4-Mn4O5NOP.js","assets/diagram-GUPCWM2R-CpT8BYAa.js","assets/diagram-RP2FKANI-Blv8Yw4t.js","assets/blockDiagram-ZYB65J3Q-CQk-XKpI.js","assets/architectureDiagram-KFL7JDKH-CCToVfZe.js","assets/diagram-4IRLE6MV-CBKSUlWk.js"])))=>i.map(i=>d[i]);
var $H=Object.defineProperty;var VH=(t,e,i)=>e in t?$H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Wt=(t,e,i)=>VH(t,typeof e!="symbol"?e+"":e,i);import{S as YH,I as GH,b as XH,a as KH,D as ZH}from"./datetime-ChMPBVRm.js";import{j as QH}from"./_jquery-global-BcA88QQ9.js";//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var A3;function yt(){return A3.apply(null,arguments)}function JH(t){A3=t}function va(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Kc(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Oi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zk(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Oi(t,e))return!1;return!0}function Js(t){return t===void 0}function Ho(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Qp(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function P3(t,e){var i=[],s,n=t.length;for(s=0;s<n;++s)i.push(e(t[s],s));return i}function vl(t,e){for(var i in e)Oi(e,i)&&(t[i]=e[i]);return Oi(e,"toString")&&(t.toString=e.toString),Oi(e,"valueOf")&&(t.valueOf=e.valueOf),t}function Za(t,e,i,s){return eF(t,e,i,s,!0).utc()}function eW(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function li(t){return t._pf==null&&(t._pf=eW()),t._pf}var Ax;Array.prototype.some?Ax=Array.prototype.some:Ax=function(t){var e=Object(this),i=e.length>>>0,s;for(s=0;s<i;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function Qk(t){var e=null,i=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=li(t),i=Ax.call(e.parsedDateParts,function(n){return n!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function Vv(t){var e=Za(NaN);return t!=null?vl(li(e),t):li(e).userInvalidated=!0,e}var OD=yt.momentProperties=[],S1=!1;function Jk(t,e){var i,s,n,l=OD.length;if(Js(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Js(e._i)||(t._i=e._i),Js(e._f)||(t._f=e._f),Js(e._l)||(t._l=e._l),Js(e._strict)||(t._strict=e._strict),Js(e._tzm)||(t._tzm=e._tzm),Js(e._isUTC)||(t._isUTC=e._isUTC),Js(e._offset)||(t._offset=e._offset),Js(e._pf)||(t._pf=li(e)),Js(e._locale)||(t._locale=e._locale),l>0)for(i=0;i<l;i++)s=OD[i],n=e[s],Js(n)||(t[s]=n);return t}function Jp(t){Jk(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),S1===!1&&(S1=!0,yt.updateOffset(this),S1=!1)}function ba(t){return t instanceof Jp||t!=null&&t._isAMomentObject!=null}function D3(t){yt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Yn(t,e){var i=!0;return vl(function(){if(yt.deprecationHandler!=null&&yt.deprecationHandler(null,t),i){var s=[],n,l,a,h=arguments.length;for(l=0;l<h;l++){if(n="",typeof arguments[l]=="object"){n+=`
[`+l+"] ";for(a in arguments[0])Oi(arguments[0],a)&&(n+=a+": "+arguments[0][a]+", ");n=n.slice(0,-2)}else n=arguments[l];s.push(n)}D3(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),i=!1}return e.apply(this,arguments)},e)}var MD={};function L3(t,e){yt.deprecationHandler!=null&&yt.deprecationHandler(t,e),MD[t]||(D3(e),MD[t]=!0)}yt.suppressDeprecationWarnings=!1;yt.deprecationHandler=null;function Qa(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function tW(t){var e,i;for(i in t)Oi(t,i)&&(e=t[i],Qa(e)?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Px(t,e){var i=vl({},t),s;for(s in e)Oi(e,s)&&(Kc(t[s])&&Kc(e[s])?(i[s]={},vl(i[s],t[s]),vl(i[s],e[s])):e[s]!=null?i[s]=e[s]:delete i[s]);for(s in t)Oi(t,s)&&!Oi(e,s)&&Kc(t[s])&&(i[s]=vl({},i[s]));return i}function eS(t){t!=null&&this.set(t)}var Dx;Object.keys?Dx=Object.keys:Dx=function(t){var e,i=[];for(e in t)Oi(t,e)&&i.push(e);return i};var iW={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function rW(t,e,i){var s=this._calendar[t]||this._calendar.sameElse;return Qa(s)?s.call(e,i):s}function qa(t,e,i){var s=""+Math.abs(t),n=e-s.length,l=t>=0;return(l?i?"+":"":"-")+Math.pow(10,Math.max(0,n)).toString().substr(1)+s}var tS=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Zg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,T1={},cu={};function Ut(t,e,i,s){var n=s;typeof s=="string"&&(n=function(){return this[s]()}),t&&(cu[t]=n),e&&(cu[e[0]]=function(){return qa(n.apply(this,arguments),e[1],e[2])}),i&&(cu[i]=function(){return this.localeData().ordinal(n.apply(this,arguments),t)})}function sW(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function nW(t){var e=t.match(tS),i,s;for(i=0,s=e.length;i<s;i++)cu[e[i]]?e[i]=cu[e[i]]:e[i]=sW(e[i]);return function(n){var l="",a;for(a=0;a<s;a++)l+=Qa(e[a])?e[a].call(n,t):e[a];return l}}function _y(t,e){return t.isValid()?(e=R3(e,t.localeData()),T1[e]=T1[e]||nW(e),T1[e](t)):t.localeData().invalidDate()}function R3(t,e){var i=5;function s(n){return e.longDateFormat(n)||n}for(Zg.lastIndex=0;i>=0&&Zg.test(t);)t=t.replace(Zg,s),Zg.lastIndex=0,i-=1;return t}var aW={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function oW(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(tS).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var lW="Invalid date";function cW(){return this._invalidDate}var hW="%d",uW=/\d{1,2}/;function dW(t){return this._ordinal.replace("%d",t)}var fW={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pW(t,e,i,s){var n=this._relativeTime[i];return Qa(n)?n(t,e,i,s):n.replace(/%d/i,t)}function mW(t,e){var i=this._relativeTime[t>0?"future":"past"];return Qa(i)?i(e):i.replace(/%s/i,e)}var AD={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Gn(t){return typeof t=="string"?AD[t]||AD[t.toLowerCase()]:void 0}function iS(t){var e={},i,s;for(s in t)Oi(t,s)&&(i=Gn(s),i&&(e[i]=t[s]));return e}var gW={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function yW(t){var e=[],i;for(i in t)Oi(t,i)&&e.push({unit:i,priority:gW[i]});return e.sort(function(s,n){return s.priority-n.priority}),e}var F3=/\d/,En=/\d\d/,I3=/\d{3}/,rS=/\d{4}/,Yv=/[+-]?\d{6}/,sr=/\d\d?/,B3=/\d\d\d\d?/,N3=/\d\d\d\d\d\d?/,Gv=/\d{1,3}/,sS=/\d{1,4}/,Xv=/[+-]?\d{1,6}/,Xu=/\d+/,Kv=/[+-]?\d+/,vW=/Z|[+-]\d\d:?\d\d/gi,Zv=/Z|[+-]\d\d(?::?\d\d)?/gi,bW=/[+-]?\d+(\.\d{1,3})?/,em=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Ku=/^[1-9]\d?/,nS=/^([1-9]\d|\d)/,qy;qy={};function wt(t,e,i){qy[t]=Qa(e)?e:function(s,n){return s&&i?i:e}}function _W(t,e){return Oi(qy,t)?qy[t](e._strict,e._locale):new RegExp(wW(t))}function wW(t){return Io(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,i,s,n,l){return i||s||n||l}))}function Io(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Bn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function wi(t){var e=+t,i=0;return e!==0&&isFinite(e)&&(i=Bn(e)),i}var Lx={};function Zi(t,e){var i,s=e,n;for(typeof t=="string"&&(t=[t]),Ho(e)&&(s=function(l,a){a[e]=wi(l)}),n=t.length,i=0;i<n;i++)Lx[t[i]]=s}function tm(t,e){Zi(t,function(i,s,n,l){n._w=n._w||{},e(i,n._w,n,l)})}function xW(t,e,i){e!=null&&Oi(Lx,t)&&Lx[t](e,i._a,i,t)}function Qv(t){return t%4===0&&t%100!==0||t%400===0}var Ts=0,Do=1,Ua=2,Vr=3,pa=4,Lo=5,Wc=6,kW=7,SW=8;Ut("Y",0,0,function(){var t=this.year();return t<=9999?qa(t,4):"+"+t});Ut(0,["YY",2],0,function(){return this.year()%100});Ut(0,["YYYY",4],0,"year");Ut(0,["YYYYY",5],0,"year");Ut(0,["YYYYYY",6,!0],0,"year");wt("Y",Kv);wt("YY",sr,En);wt("YYYY",sS,rS);wt("YYYYY",Xv,Yv);wt("YYYYYY",Xv,Yv);Zi(["YYYYY","YYYYYY"],Ts);Zi("YYYY",function(t,e){e[Ts]=t.length===2?yt.parseTwoDigitYear(t):wi(t)});Zi("YY",function(t,e){e[Ts]=yt.parseTwoDigitYear(t)});Zi("Y",function(t,e){e[Ts]=parseInt(t,10)});function hp(t){return Qv(t)?366:365}yt.parseTwoDigitYear=function(t){return wi(t)+(wi(t)>68?1900:2e3)};var z3=Zu("FullYear",!0);function TW(){return Qv(this.year())}function Zu(t,e){return function(i){return i!=null?(U3(this,t,i),yt.updateOffset(this,e),this):Mp(this,t)}}function Mp(t,e){if(!t.isValid())return NaN;var i=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return s?i.getUTCSeconds():i.getSeconds();case"Minutes":return s?i.getUTCMinutes():i.getMinutes();case"Hours":return s?i.getUTCHours():i.getHours();case"Date":return s?i.getUTCDate():i.getDate();case"Day":return s?i.getUTCDay():i.getDay();case"Month":return s?i.getUTCMonth():i.getMonth();case"FullYear":return s?i.getUTCFullYear():i.getFullYear();default:return NaN}}function U3(t,e,i){var s,n,l,a,h;if(!(!t.isValid()||isNaN(i))){switch(s=t._d,n=t._isUTC,e){case"Milliseconds":return void(n?s.setUTCMilliseconds(i):s.setMilliseconds(i));case"Seconds":return void(n?s.setUTCSeconds(i):s.setSeconds(i));case"Minutes":return void(n?s.setUTCMinutes(i):s.setMinutes(i));case"Hours":return void(n?s.setUTCHours(i):s.setHours(i));case"Date":return void(n?s.setUTCDate(i):s.setDate(i));case"FullYear":break;default:return}l=i,a=t.month(),h=t.date(),h=h===29&&a===1&&!Qv(l)?28:h,n?s.setUTCFullYear(l,a,h):s.setFullYear(l,a,h)}}function CW(t){return t=Gn(t),Qa(this[t])?this[t]():this}function EW(t,e){if(typeof t=="object"){t=iS(t);var i=yW(t),s,n=i.length;for(s=0;s<n;s++)this[i[s].unit](t[i[s].unit])}else if(t=Gn(t),Qa(this[t]))return this[t](e);return this}function OW(t,e){return(t%e+e)%e}var Tr;Array.prototype.indexOf?Tr=Array.prototype.indexOf:Tr=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function aS(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=OW(e,12);return t+=(e-i)/12,i===1?Qv(t)?29:28:31-i%7%2}Ut("M",["MM",2],"Mo",function(){return this.month()+1});Ut("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ut("MMMM",0,0,function(t){return this.localeData().months(this,t)});wt("M",sr,Ku);wt("MM",sr,En);wt("MMM",function(t,e){return e.monthsShortRegex(t)});wt("MMMM",function(t,e){return e.monthsRegex(t)});Zi(["M","MM"],function(t,e){e[Do]=wi(t)-1});Zi(["MMM","MMMM"],function(t,e,i,s){var n=i._locale.monthsParse(t,s,i._strict);n!=null?e[Do]=n:li(i).invalidMonth=t});var MW="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),H3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),W3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,AW=em,PW=em;function DW(t,e){return t?va(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||W3).test(e)?"format":"standalone"][t.month()]:va(this._months)?this._months:this._months.standalone}function LW(t,e){return t?va(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[W3.test(e)?"format":"standalone"][t.month()]:va(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function RW(t,e,i){var s,n,l,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)l=Za([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(l,"").toLocaleLowerCase();return i?e==="MMM"?(n=Tr.call(this._shortMonthsParse,a),n!==-1?n:null):(n=Tr.call(this._longMonthsParse,a),n!==-1?n:null):e==="MMM"?(n=Tr.call(this._shortMonthsParse,a),n!==-1?n:(n=Tr.call(this._longMonthsParse,a),n!==-1?n:null)):(n=Tr.call(this._longMonthsParse,a),n!==-1?n:(n=Tr.call(this._shortMonthsParse,a),n!==-1?n:null))}function FW(t,e,i){var s,n,l;if(this._monthsParseExact)return RW.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(n=Za([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),!i&&!this._monthsParse[s]&&(l="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[s]=new RegExp(l.replace(".",""),"i")),i&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(i&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}}function j3(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=wi(e);else if(e=t.localeData().monthsParse(e),!Ho(e))return t}var i=e,s=t.date();return s=s<29?s:Math.min(s,aS(t.year(),i)),t._isUTC?t._d.setUTCMonth(i,s):t._d.setMonth(i,s),t}function q3(t){return t!=null?(j3(this,t),yt.updateOffset(this,!0),this):Mp(this,"Month")}function IW(){return aS(this.year(),this.month())}function BW(t){return this._monthsParseExact?(Oi(this,"_monthsRegex")||$3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Oi(this,"_monthsShortRegex")||(this._monthsShortRegex=AW),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function NW(t){return this._monthsParseExact?(Oi(this,"_monthsRegex")||$3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Oi(this,"_monthsRegex")||(this._monthsRegex=PW),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function $3(){function t(d,f){return f.length-d.length}var e=[],i=[],s=[],n,l,a,h;for(n=0;n<12;n++)l=Za([2e3,n]),a=Io(this.monthsShort(l,"")),h=Io(this.months(l,"")),e.push(a),i.push(h),s.push(h),s.push(a);e.sort(t),i.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function zW(t,e,i,s,n,l,a){var h;return t<100&&t>=0?(h=new Date(t+400,e,i,s,n,l,a),isFinite(h.getFullYear())&&h.setFullYear(t)):h=new Date(t,e,i,s,n,l,a),h}function Ap(t){var e,i;return t<100&&t>=0?(i=Array.prototype.slice.call(arguments),i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function $y(t,e,i){var s=7+e-i,n=(7+Ap(t,0,s).getUTCDay()-e)%7;return-n+s-1}function V3(t,e,i,s,n){var l=(7+i-s)%7,a=$y(t,s,n),h=1+7*(e-1)+l+a,d,f;return h<=0?(d=t-1,f=hp(d)+h):h>hp(t)?(d=t+1,f=h-hp(t)):(d=t,f=h),{year:d,dayOfYear:f}}function Pp(t,e,i){var s=$y(t.year(),e,i),n=Math.floor((t.dayOfYear()-s-1)/7)+1,l,a;return n<1?(a=t.year()-1,l=n+Bo(a,e,i)):n>Bo(t.year(),e,i)?(l=n-Bo(t.year(),e,i),a=t.year()+1):(a=t.year(),l=n),{week:l,year:a}}function Bo(t,e,i){var s=$y(t,e,i),n=$y(t+1,e,i);return(hp(t)-s+n)/7}Ut("w",["ww",2],"wo","week");Ut("W",["WW",2],"Wo","isoWeek");wt("w",sr,Ku);wt("ww",sr,En);wt("W",sr,Ku);wt("WW",sr,En);tm(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=wi(t)});function UW(t){return Pp(t,this._week.dow,this._week.doy).week}var HW={dow:0,doy:6};function WW(){return this._week.dow}function jW(){return this._week.doy}function qW(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function $W(t){var e=Pp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ut("d",0,"do","day");Ut("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ut("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ut("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ut("e",0,0,"weekday");Ut("E",0,0,"isoWeekday");wt("d",sr);wt("e",sr);wt("E",sr);wt("dd",function(t,e){return e.weekdaysMinRegex(t)});wt("ddd",function(t,e){return e.weekdaysShortRegex(t)});wt("dddd",function(t,e){return e.weekdaysRegex(t)});tm(["dd","ddd","dddd"],function(t,e,i,s){var n=i._locale.weekdaysParse(t,s,i._strict);n!=null?e.d=n:li(i).invalidWeekday=t});tm(["d","e","E"],function(t,e,i,s){e[s]=wi(t)});function VW(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function YW(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function oS(t,e){return t.slice(e,7).concat(t.slice(0,e))}var GW="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Y3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),XW="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),KW=em,ZW=em,QW=em;function JW(t,e){var i=va(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?oS(i,this._week.dow):t?i[t.day()]:i}function ej(t){return t===!0?oS(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function tj(t){return t===!0?oS(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function ij(t,e,i){var s,n,l,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)l=Za([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(l,"").toLocaleLowerCase();return i?e==="dddd"?(n=Tr.call(this._weekdaysParse,a),n!==-1?n:null):e==="ddd"?(n=Tr.call(this._shortWeekdaysParse,a),n!==-1?n:null):(n=Tr.call(this._minWeekdaysParse,a),n!==-1?n:null):e==="dddd"?(n=Tr.call(this._weekdaysParse,a),n!==-1||(n=Tr.call(this._shortWeekdaysParse,a),n!==-1)?n:(n=Tr.call(this._minWeekdaysParse,a),n!==-1?n:null)):e==="ddd"?(n=Tr.call(this._shortWeekdaysParse,a),n!==-1||(n=Tr.call(this._weekdaysParse,a),n!==-1)?n:(n=Tr.call(this._minWeekdaysParse,a),n!==-1?n:null)):(n=Tr.call(this._minWeekdaysParse,a),n!==-1||(n=Tr.call(this._weekdaysParse,a),n!==-1)?n:(n=Tr.call(this._shortWeekdaysParse,a),n!==-1?n:null))}function rj(t,e,i){var s,n,l;if(this._weekdaysParseExact)return ij.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(n=Za([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(n,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(n,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(n,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(l="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[s]=new RegExp(l.replace(".",""),"i")),i&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(i&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(i&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}}function sj(t){if(!this.isValid())return t!=null?this:NaN;var e=Mp(this,"Day");return t!=null?(t=VW(t,this.localeData()),this.add(t-e,"d")):e}function nj(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function aj(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=YW(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function oj(t){return this._weekdaysParseExact?(Oi(this,"_weekdaysRegex")||lS.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Oi(this,"_weekdaysRegex")||(this._weekdaysRegex=KW),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function lj(t){return this._weekdaysParseExact?(Oi(this,"_weekdaysRegex")||lS.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Oi(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ZW),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function cj(t){return this._weekdaysParseExact?(Oi(this,"_weekdaysRegex")||lS.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Oi(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=QW),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function lS(){function t(g,v){return v.length-g.length}var e=[],i=[],s=[],n=[],l,a,h,d,f;for(l=0;l<7;l++)a=Za([2e3,1]).day(l),h=Io(this.weekdaysMin(a,"")),d=Io(this.weekdaysShort(a,"")),f=Io(this.weekdays(a,"")),e.push(h),i.push(d),s.push(f),n.push(h),n.push(d),n.push(f);e.sort(t),i.sort(t),s.sort(t),n.sort(t),this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function cS(){return this.hours()%12||12}function hj(){return this.hours()||24}Ut("H",["HH",2],0,"hour");Ut("h",["hh",2],0,cS);Ut("k",["kk",2],0,hj);Ut("hmm",0,0,function(){return""+cS.apply(this)+qa(this.minutes(),2)});Ut("hmmss",0,0,function(){return""+cS.apply(this)+qa(this.minutes(),2)+qa(this.seconds(),2)});Ut("Hmm",0,0,function(){return""+this.hours()+qa(this.minutes(),2)});Ut("Hmmss",0,0,function(){return""+this.hours()+qa(this.minutes(),2)+qa(this.seconds(),2)});function G3(t,e){Ut(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}G3("a",!0);G3("A",!1);function X3(t,e){return e._meridiemParse}wt("a",X3);wt("A",X3);wt("H",sr,nS);wt("h",sr,Ku);wt("k",sr,Ku);wt("HH",sr,En);wt("hh",sr,En);wt("kk",sr,En);wt("hmm",B3);wt("hmmss",N3);wt("Hmm",B3);wt("Hmmss",N3);Zi(["H","HH"],Vr);Zi(["k","kk"],function(t,e,i){var s=wi(t);e[Vr]=s===24?0:s});Zi(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t});Zi(["h","hh"],function(t,e,i){e[Vr]=wi(t),li(i).bigHour=!0});Zi("hmm",function(t,e,i){var s=t.length-2;e[Vr]=wi(t.substr(0,s)),e[pa]=wi(t.substr(s)),li(i).bigHour=!0});Zi("hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[Vr]=wi(t.substr(0,s)),e[pa]=wi(t.substr(s,2)),e[Lo]=wi(t.substr(n)),li(i).bigHour=!0});Zi("Hmm",function(t,e,i){var s=t.length-2;e[Vr]=wi(t.substr(0,s)),e[pa]=wi(t.substr(s))});Zi("Hmmss",function(t,e,i){var s=t.length-4,n=t.length-2;e[Vr]=wi(t.substr(0,s)),e[pa]=wi(t.substr(s,2)),e[Lo]=wi(t.substr(n))});function uj(t){return(t+"").toLowerCase().charAt(0)==="p"}var dj=/[ap]\.?m?\.?/i,fj=Zu("Hours",!0);function pj(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var K3={calendar:iW,longDateFormat:aW,invalidDate:lW,ordinal:hW,dayOfMonthOrdinalParse:uW,relativeTime:fW,months:MW,monthsShort:H3,week:HW,weekdays:GW,weekdaysMin:XW,weekdaysShort:Y3,meridiemParse:dj},cr={},If={},Dp;function mj(t,e){var i,s=Math.min(t.length,e.length);for(i=0;i<s;i+=1)if(t[i]!==e[i])return i;return s}function PD(t){return t&&t.toLowerCase().replace("_","-")}function gj(t){for(var e=0,i,s,n,l;e<t.length;){for(l=PD(t[e]).split("-"),i=l.length,s=PD(t[e+1]),s=s?s.split("-"):null;i>0;){if(n=Jv(l.slice(0,i).join("-")),n)return n;if(s&&s.length>=i&&mj(l,s)>=i-1)break;i--}e++}return Dp}function yj(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Jv(t){var e=null,i;if(cr[t]===void 0&&typeof module<"u"&&module&&module.exports&&yj(t))try{e=Dp._abbr,i=require,i("./locale/"+t),xl(e)}catch{cr[t]=null}return cr[t]}function xl(t,e){var i;return t&&(Js(e)?i=Yo(t):i=hS(t,e),i?Dp=i:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Dp._abbr}function hS(t,e){if(e!==null){var i,s=K3;if(e.abbr=t,cr[t]!=null)L3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=cr[t]._config;else if(e.parentLocale!=null)if(cr[e.parentLocale]!=null)s=cr[e.parentLocale]._config;else if(i=Jv(e.parentLocale),i!=null)s=i._config;else return If[e.parentLocale]||(If[e.parentLocale]=[]),If[e.parentLocale].push({name:t,config:e}),null;return cr[t]=new eS(Px(s,e)),If[t]&&If[t].forEach(function(n){hS(n.name,n.config)}),xl(t),cr[t]}else return delete cr[t],null}function vj(t,e){if(e!=null){var i,s,n=K3;cr[t]!=null&&cr[t].parentLocale!=null?cr[t].set(Px(cr[t]._config,e)):(s=Jv(t),s!=null&&(n=s._config),e=Px(n,e),s==null&&(e.abbr=t),i=new eS(e),i.parentLocale=cr[t],cr[t]=i),xl(t)}else cr[t]!=null&&(cr[t].parentLocale!=null?(cr[t]=cr[t].parentLocale,t===xl()&&xl(t)):cr[t]!=null&&delete cr[t]);return cr[t]}function Yo(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Dp;if(!va(t)){if(e=Jv(t),e)return e;t=[t]}return gj(t)}function bj(){return Dx(cr)}function uS(t){var e,i=t._a;return i&&li(t).overflow===-2&&(e=i[Do]<0||i[Do]>11?Do:i[Ua]<1||i[Ua]>aS(i[Ts],i[Do])?Ua:i[Vr]<0||i[Vr]>24||i[Vr]===24&&(i[pa]!==0||i[Lo]!==0||i[Wc]!==0)?Vr:i[pa]<0||i[pa]>59?pa:i[Lo]<0||i[Lo]>59?Lo:i[Wc]<0||i[Wc]>999?Wc:-1,li(t)._overflowDayOfYear&&(e<Ts||e>Ua)&&(e=Ua),li(t)._overflowWeeks&&e===-1&&(e=kW),li(t)._overflowWeekday&&e===-1&&(e=SW),li(t).overflow=e),t}var _j=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wj=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,xj=/Z|[+-]\d\d(?::?\d\d)?/,Qg=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],C1=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],kj=/^\/?Date\((-?\d+)/i,Sj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Tj={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Z3(t){var e,i,s=t._i,n=_j.exec(s)||wj.exec(s),l,a,h,d,f=Qg.length,g=C1.length;if(n){for(li(t).iso=!0,e=0,i=f;e<i;e++)if(Qg[e][1].exec(n[1])){a=Qg[e][0],l=Qg[e][2]!==!1;break}if(a==null){t._isValid=!1;return}if(n[3]){for(e=0,i=g;e<i;e++)if(C1[e][1].exec(n[3])){h=(n[2]||" ")+C1[e][0];break}if(h==null){t._isValid=!1;return}}if(!l&&h!=null){t._isValid=!1;return}if(n[4])if(xj.exec(n[4]))d="Z";else{t._isValid=!1;return}t._f=a+(h||"")+(d||""),fS(t)}else t._isValid=!1}function Cj(t,e,i,s,n,l){var a=[Ej(t),H3.indexOf(e),parseInt(i,10),parseInt(s,10),parseInt(n,10)];return l&&a.push(parseInt(l,10)),a}function Ej(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function Oj(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Mj(t,e,i){if(t){var s=Y3.indexOf(t),n=new Date(e[0],e[1],e[2]).getDay();if(s!==n)return li(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function Aj(t,e,i){if(t)return Tj[t];if(e)return 0;var s=parseInt(i,10),n=s%100,l=(s-n)/100;return l*60+n}function Q3(t){var e=Sj.exec(Oj(t._i)),i;if(e){if(i=Cj(e[4],e[3],e[2],e[5],e[6],e[7]),!Mj(e[1],i,t))return;t._a=i,t._tzm=Aj(e[8],e[9],e[10]),t._d=Ap.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),li(t).rfc2822=!0}else t._isValid=!1}function Pj(t){var e=kj.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Z3(t),t._isValid===!1)delete t._isValid;else return;if(Q3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:yt.createFromInputFallback(t)}yt.createFromInputFallback=Yn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function eu(t,e,i){return t??e??i}function Dj(t){var e=new Date(yt.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function dS(t){var e,i,s=[],n,l,a;if(!t._d){for(n=Dj(t),t._w&&t._a[Ua]==null&&t._a[Do]==null&&Lj(t),t._dayOfYear!=null&&(a=eu(t._a[Ts],n[Ts]),(t._dayOfYear>hp(a)||t._dayOfYear===0)&&(li(t)._overflowDayOfYear=!0),i=Ap(a,0,t._dayOfYear),t._a[Do]=i.getUTCMonth(),t._a[Ua]=i.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=n[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Vr]===24&&t._a[pa]===0&&t._a[Lo]===0&&t._a[Wc]===0&&(t._nextDay=!0,t._a[Vr]=0),t._d=(t._useUTC?Ap:zW).apply(null,s),l=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Vr]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==l&&(li(t).weekdayMismatch=!0)}}function Lj(t){var e,i,s,n,l,a,h,d,f;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(l=1,a=4,i=eu(e.GG,t._a[Ts],Pp(rr(),1,4).year),s=eu(e.W,1),n=eu(e.E,1),(n<1||n>7)&&(d=!0)):(l=t._locale._week.dow,a=t._locale._week.doy,f=Pp(rr(),l,a),i=eu(e.gg,t._a[Ts],f.year),s=eu(e.w,f.week),e.d!=null?(n=e.d,(n<0||n>6)&&(d=!0)):e.e!=null?(n=e.e+l,(e.e<0||e.e>6)&&(d=!0)):n=l),s<1||s>Bo(i,l,a)?li(t)._overflowWeeks=!0:d!=null?li(t)._overflowWeekday=!0:(h=V3(i,s,n,l,a),t._a[Ts]=h.year,t._dayOfYear=h.dayOfYear)}yt.ISO_8601=function(){};yt.RFC_2822=function(){};function fS(t){if(t._f===yt.ISO_8601){Z3(t);return}if(t._f===yt.RFC_2822){Q3(t);return}t._a=[],li(t).empty=!0;var e=""+t._i,i,s,n,l,a,h=e.length,d=0,f,g;for(n=R3(t._f,t._locale).match(tS)||[],g=n.length,i=0;i<g;i++)l=n[i],s=(e.match(_W(l,t))||[])[0],s&&(a=e.substr(0,e.indexOf(s)),a.length>0&&li(t).unusedInput.push(a),e=e.slice(e.indexOf(s)+s.length),d+=s.length),cu[l]?(s?li(t).empty=!1:li(t).unusedTokens.push(l),xW(l,s,t)):t._strict&&!s&&li(t).unusedTokens.push(l);li(t).charsLeftOver=h-d,e.length>0&&li(t).unusedInput.push(e),t._a[Vr]<=12&&li(t).bigHour===!0&&t._a[Vr]>0&&(li(t).bigHour=void 0),li(t).parsedDateParts=t._a.slice(0),li(t).meridiem=t._meridiem,t._a[Vr]=Rj(t._locale,t._a[Vr],t._meridiem),f=li(t).era,f!==null&&(t._a[Ts]=t._locale.erasConvertYear(f,t._a[Ts])),dS(t),uS(t)}function Rj(t,e,i){var s;return i==null?e:t.meridiemHour!=null?t.meridiemHour(e,i):(t.isPM!=null&&(s=t.isPM(i),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function Fj(t){var e,i,s,n,l,a,h=!1,d=t._f.length;if(d===0){li(t).invalidFormat=!0,t._d=new Date(NaN);return}for(n=0;n<d;n++)l=0,a=!1,e=Jk({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[n],fS(e),Qk(e)&&(a=!0),l+=li(e).charsLeftOver,l+=li(e).unusedTokens.length*10,li(e).score=l,h?l<s&&(s=l,i=e):(s==null||l<s||a)&&(s=l,i=e,a&&(h=!0));vl(t,i||e)}function Ij(t){if(!t._d){var e=iS(t._i),i=e.day===void 0?e.date:e.day;t._a=P3([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),dS(t)}}function Bj(t){var e=new Jp(uS(J3(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function J3(t){var e=t._i,i=t._f;return t._locale=t._locale||Yo(t._l),e===null||i===void 0&&e===""?Vv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),ba(e)?new Jp(uS(e)):(Qp(e)?t._d=e:va(i)?Fj(t):i?fS(t):Nj(t),Qk(t)||(t._d=null),t))}function Nj(t){var e=t._i;Js(e)?t._d=new Date(yt.now()):Qp(e)?t._d=new Date(e.valueOf()):typeof e=="string"?Pj(t):va(e)?(t._a=P3(e.slice(0),function(i){return parseInt(i,10)}),dS(t)):Kc(e)?Ij(t):Ho(e)?t._d=new Date(e):yt.createFromInputFallback(t)}function eF(t,e,i,s,n){var l={};return(e===!0||e===!1)&&(s=e,e=void 0),(i===!0||i===!1)&&(s=i,i=void 0),(Kc(t)&&Zk(t)||va(t)&&t.length===0)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=n,l._l=i,l._i=t,l._f=e,l._strict=s,Bj(l)}function rr(t,e,i,s){return eF(t,e,i,s,!1)}var zj=Yn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=rr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:Vv()}),Uj=Yn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=rr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:Vv()});function tF(t,e){var i,s;if(e.length===1&&va(e[0])&&(e=e[0]),!e.length)return rr();for(i=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](i))&&(i=e[s]);return i}function Hj(){var t=[].slice.call(arguments,0);return tF("isBefore",t)}function Wj(){var t=[].slice.call(arguments,0);return tF("isAfter",t)}var jj=function(){return Date.now?Date.now():+new Date},Bf=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qj(t){var e,i=!1,s,n=Bf.length;for(e in t)if(Oi(t,e)&&!(Tr.call(Bf,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<n;++s)if(t[Bf[s]]){if(i)return!1;parseFloat(t[Bf[s]])!==wi(t[Bf[s]])&&(i=!0)}return!0}function $j(){return this._isValid}function Vj(){return _a(NaN)}function eb(t){var e=iS(t),i=e.year||0,s=e.quarter||0,n=e.month||0,l=e.week||e.isoWeek||0,a=e.day||0,h=e.hour||0,d=e.minute||0,f=e.second||0,g=e.millisecond||0;this._isValid=qj(e),this._milliseconds=+g+f*1e3+d*6e4+h*1e3*60*60,this._days=+a+l*7,this._months=+n+s*3+i*12,this._data={},this._locale=Yo(),this._bubble()}function wy(t){return t instanceof eb}function Rx(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Yj(t,e,i){var s=Math.min(t.length,e.length),n=Math.abs(t.length-e.length),l=0,a;for(a=0;a<s;a++)wi(t[a])!==wi(e[a])&&l++;return l+n}function iF(t,e){Ut(t,0,0,function(){var i=this.utcOffset(),s="+";return i<0&&(i=-i,s="-"),s+qa(~~(i/60),2)+e+qa(~~i%60,2)})}iF("Z",":");iF("ZZ","");wt("Z",Zv);wt("ZZ",Zv);Zi(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=pS(Zv,t)});var Gj=/([\+\-]|\d\d)/gi;function pS(t,e){var i=(e||"").match(t),s,n,l;return i===null?null:(s=i[i.length-1]||[],n=(s+"").match(Gj)||["-",0,0],l=+(n[1]*60)+wi(n[2]),l===0?0:n[0]==="+"?l:-l)}function mS(t,e){var i,s;return e._isUTC?(i=e.clone(),s=(ba(t)||Qp(t)?t.valueOf():rr(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),yt.updateOffset(i,!1),i):rr(t).local()}function Fx(t){return-Math.round(t._d.getTimezoneOffset())}yt.updateOffset=function(){};function Xj(t,e,i){var s=this._offset||0,n;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=pS(Zv,t),t===null)return this}else Math.abs(t)<16&&!i&&(t=t*60);return!this._isUTC&&e&&(n=Fx(this)),this._offset=t,this._isUTC=!0,n!=null&&this.add(n,"m"),s!==t&&(!e||this._changeInProgress?nF(this,_a(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,yt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:Fx(this)}function Kj(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Zj(t){return this.utcOffset(0,t)}function Qj(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fx(this),"m")),this}function Jj(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=pS(vW,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function eq(t){return this.isValid()?(t=t?rr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function tq(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function iq(){if(!Js(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Jk(t,this),t=J3(t),t._a?(e=t._isUTC?Za(t._a):rr(t._a),this._isDSTShifted=this.isValid()&&Yj(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function rq(){return this.isValid()?!this._isUTC:!1}function sq(){return this.isValid()?this._isUTC:!1}function rF(){return this.isValid()?this._isUTC&&this._offset===0:!1}var nq=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,aq=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _a(t,e){var i=t,s=null,n,l,a;return wy(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:Ho(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(s=nq.exec(t))?(n=s[1]==="-"?-1:1,i={y:0,d:wi(s[Ua])*n,h:wi(s[Vr])*n,m:wi(s[pa])*n,s:wi(s[Lo])*n,ms:wi(Rx(s[Wc]*1e3))*n}):(s=aq.exec(t))?(n=s[1]==="-"?-1:1,i={y:Pc(s[2],n),M:Pc(s[3],n),w:Pc(s[4],n),d:Pc(s[5],n),h:Pc(s[6],n),m:Pc(s[7],n),s:Pc(s[8],n)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(a=oq(rr(i.from),rr(i.to)),i={},i.ms=a.milliseconds,i.M=a.months),l=new eb(i),wy(t)&&Oi(t,"_locale")&&(l._locale=t._locale),wy(t)&&Oi(t,"_isValid")&&(l._isValid=t._isValid),l}_a.fn=eb.prototype;_a.invalid=Vj;function Pc(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function DD(t,e){var i={};return i.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function oq(t,e){var i;return t.isValid()&&e.isValid()?(e=mS(e,t),t.isBefore(e)?i=DD(t,e):(i=DD(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function sF(t,e){return function(i,s){var n,l;return s!==null&&!isNaN(+s)&&(L3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=i,i=s,s=l),n=_a(i,s),nF(this,n,t),this}}function nF(t,e,i,s){var n=e._milliseconds,l=Rx(e._days),a=Rx(e._months);t.isValid()&&(s=s??!0,a&&j3(t,Mp(t,"Month")+a*i),l&&U3(t,"Date",Mp(t,"Date")+l*i),n&&t._d.setTime(t._d.valueOf()+n*i),s&&yt.updateOffset(t,l||a))}var lq=sF(1,"add"),cq=sF(-1,"subtract");function aF(t){return typeof t=="string"||t instanceof String}function hq(t){return ba(t)||Qp(t)||aF(t)||Ho(t)||dq(t)||uq(t)||t===null||t===void 0}function uq(t){var e=Kc(t)&&!Zk(t),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],n,l,a=s.length;for(n=0;n<a;n+=1)l=s[n],i=i||Oi(t,l);return e&&i}function dq(t){var e=va(t),i=!1;return e&&(i=t.filter(function(s){return!Ho(s)&&aF(t)}).length===0),e&&i}function fq(t){var e=Kc(t)&&!Zk(t),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],n,l;for(n=0;n<s.length;n+=1)l=s[n],i=i||Oi(t,l);return e&&i}function pq(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function mq(t,e){arguments.length===1&&(arguments[0]?hq(arguments[0])?(t=arguments[0],e=void 0):fq(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||rr(),s=mS(i,this).startOf("day"),n=yt.calendarFormat(this,s)||"sameElse",l=e&&(Qa(e[n])?e[n].call(this,i):e[n]);return this.format(l||this.localeData().calendar(n,this,rr(i)))}function gq(){return new Jp(this)}function yq(t,e){var i=ba(t)?t:rr(t);return this.isValid()&&i.isValid()?(e=Gn(e)||"millisecond",e==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function vq(t,e){var i=ba(t)?t:rr(t);return this.isValid()&&i.isValid()?(e=Gn(e)||"millisecond",e==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function bq(t,e,i,s){var n=ba(t)?t:rr(t),l=ba(e)?e:rr(e);return this.isValid()&&n.isValid()&&l.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(n,i):!this.isBefore(n,i))&&(s[1]===")"?this.isBefore(l,i):!this.isAfter(l,i))):!1}function _q(t,e){var i=ba(t)?t:rr(t),s;return this.isValid()&&i.isValid()?(e=Gn(e)||"millisecond",e==="millisecond"?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function wq(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function xq(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function kq(t,e,i){var s,n,l;if(!this.isValid())return NaN;if(s=mS(t,this),!s.isValid())return NaN;switch(n=(s.utcOffset()-this.utcOffset())*6e4,e=Gn(e),e){case"year":l=xy(this,s)/12;break;case"month":l=xy(this,s);break;case"quarter":l=xy(this,s)/3;break;case"second":l=(this-s)/1e3;break;case"minute":l=(this-s)/6e4;break;case"hour":l=(this-s)/36e5;break;case"day":l=(this-s-n)/864e5;break;case"week":l=(this-s-n)/6048e5;break;default:l=this-s}return i?l:Bn(l)}function xy(t,e){if(t.date()<e.date())return-xy(e,t);var i=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(i,"months"),n,l;return e-s<0?(n=t.clone().add(i-1,"months"),l=(e-s)/(s-n)):(n=t.clone().add(i+1,"months"),l=(e-s)/(n-s)),-(i+l)||0}yt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";yt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Sq(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Tq(t){if(!this.isValid())return null;var e=t!==!0,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?_y(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Qa(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",_y(i,"Z")):_y(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Cq(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",i,s,n,l;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),i="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",l=e+'[")]',this.format(i+s+n+l)}function Eq(t){t||(t=this.isUtc()?yt.defaultFormatUtc:yt.defaultFormat);var e=_y(this,t);return this.localeData().postformat(e)}function Oq(t,e){return this.isValid()&&(ba(t)&&t.isValid()||rr(t).isValid())?_a({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Mq(t){return this.from(rr(),t)}function Aq(t,e){return this.isValid()&&(ba(t)&&t.isValid()||rr(t).isValid())?_a({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function Pq(t){return this.to(rr(),t)}function oF(t){var e;return t===void 0?this._locale._abbr:(e=Yo(t),e!=null&&(this._locale=e),this)}var lF=Yn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function cF(){return this._locale}var Vy=1e3,hu=60*Vy,Yy=60*hu,hF=(365*400+97)*24*Yy;function uu(t,e){return(t%e+e)%e}function uF(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-hF:new Date(t,e,i).valueOf()}function dF(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-hF:Date.UTC(t,e,i)}function Dq(t){var e,i;if(t=Gn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?dF:uF,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=uu(e+(this._isUTC?0:this.utcOffset()*hu),Yy);break;case"minute":e=this._d.valueOf(),e-=uu(e,hu);break;case"second":e=this._d.valueOf(),e-=uu(e,Vy);break}return this._d.setTime(e),yt.updateOffset(this,!0),this}function Lq(t){var e,i;if(t=Gn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?dF:uF,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=Yy-uu(e+(this._isUTC?0:this.utcOffset()*hu),Yy)-1;break;case"minute":e=this._d.valueOf(),e+=hu-uu(e,hu)-1;break;case"second":e=this._d.valueOf(),e+=Vy-uu(e,Vy)-1;break}return this._d.setTime(e),yt.updateOffset(this,!0),this}function Rq(){return this._d.valueOf()-(this._offset||0)*6e4}function Fq(){return Math.floor(this.valueOf()/1e3)}function Iq(){return new Date(this.valueOf())}function Bq(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Nq(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function zq(){return this.isValid()?this.toISOString():null}function Uq(){return Qk(this)}function Hq(){return vl({},li(this))}function Wq(){return li(this).overflow}function jq(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ut("N",0,0,"eraAbbr");Ut("NN",0,0,"eraAbbr");Ut("NNN",0,0,"eraAbbr");Ut("NNNN",0,0,"eraName");Ut("NNNNN",0,0,"eraNarrow");Ut("y",["y",1],"yo","eraYear");Ut("y",["yy",2],0,"eraYear");Ut("y",["yyy",3],0,"eraYear");Ut("y",["yyyy",4],0,"eraYear");wt("N",gS);wt("NN",gS);wt("NNN",gS);wt("NNNN",e$);wt("NNNNN",t$);Zi(["N","NN","NNN","NNNN","NNNNN"],function(t,e,i,s){var n=i._locale.erasParse(t,s,i._strict);n?li(i).era=n:li(i).invalidEra=t});wt("y",Xu);wt("yy",Xu);wt("yyy",Xu);wt("yyyy",Xu);wt("yo",i$);Zi(["y","yy","yyy","yyyy"],Ts);Zi(["yo"],function(t,e,i,s){var n;i._locale._eraYearOrdinalRegex&&(n=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[Ts]=i._locale.eraYearOrdinalParse(t,n):e[Ts]=parseInt(t,10)});function qq(t,e){var i,s,n,l=this._eras||Yo("en")._eras;for(i=0,s=l.length;i<s;++i){switch(typeof l[i].since){case"string":n=yt(l[i].since).startOf("day"),l[i].since=n.valueOf();break}switch(typeof l[i].until){case"undefined":l[i].until=1/0;break;case"string":n=yt(l[i].until).startOf("day").valueOf(),l[i].until=n.valueOf();break}}return l}function $q(t,e,i){var s,n,l=this.eras(),a,h,d;for(t=t.toUpperCase(),s=0,n=l.length;s<n;++s)if(a=l[s].name.toUpperCase(),h=l[s].abbr.toUpperCase(),d=l[s].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(h===t)return l[s];break;case"NNNN":if(a===t)return l[s];break;case"NNNNN":if(d===t)return l[s];break}else if([a,h,d].indexOf(t)>=0)return l[s]}function Vq(t,e){var i=t.since<=t.until?1:-1;return e===void 0?yt(t.since).year():yt(t.since).year()+(e-t.offset)*i}function Yq(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].name;return""}function Gq(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].narrow;return""}function Xq(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].abbr;return""}function Kq(){var t,e,i,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(i=n[t].since<=n[t].until?1:-1,s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return(this.year()-yt(n[t].since).year())*i+n[t].offset;return this.year()}function Zq(t){return Oi(this,"_erasNameRegex")||yS.call(this),t?this._erasNameRegex:this._erasRegex}function Qq(t){return Oi(this,"_erasAbbrRegex")||yS.call(this),t?this._erasAbbrRegex:this._erasRegex}function Jq(t){return Oi(this,"_erasNarrowRegex")||yS.call(this),t?this._erasNarrowRegex:this._erasRegex}function gS(t,e){return e.erasAbbrRegex(t)}function e$(t,e){return e.erasNameRegex(t)}function t$(t,e){return e.erasNarrowRegex(t)}function i$(t,e){return e._eraYearOrdinalRegex||Xu}function yS(){var t=[],e=[],i=[],s=[],n,l,a,h,d,f=this.eras();for(n=0,l=f.length;n<l;++n)a=Io(f[n].name),h=Io(f[n].abbr),d=Io(f[n].narrow),e.push(a),t.push(h),i.push(d),s.push(a),s.push(h),s.push(d);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}Ut(0,["gg",2],0,function(){return this.weekYear()%100});Ut(0,["GG",2],0,function(){return this.isoWeekYear()%100});function tb(t,e){Ut(0,[t,t.length],0,e)}tb("gggg","weekYear");tb("ggggg","weekYear");tb("GGGG","isoWeekYear");tb("GGGGG","isoWeekYear");wt("G",Kv);wt("g",Kv);wt("GG",sr,En);wt("gg",sr,En);wt("GGGG",sS,rS);wt("gggg",sS,rS);wt("GGGGG",Xv,Yv);wt("ggggg",Xv,Yv);tm(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=wi(t)});tm(["gg","GG"],function(t,e,i,s){e[s]=yt.parseTwoDigitYear(t)});function r$(t){return fF.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function s$(t){return fF.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function n$(){return Bo(this.year(),1,4)}function a$(){return Bo(this.isoWeekYear(),1,4)}function o$(){var t=this.localeData()._week;return Bo(this.year(),t.dow,t.doy)}function l$(){var t=this.localeData()._week;return Bo(this.weekYear(),t.dow,t.doy)}function fF(t,e,i,s,n){var l;return t==null?Pp(this,s,n).year:(l=Bo(t,s,n),e>l&&(e=l),c$.call(this,t,e,i,s,n))}function c$(t,e,i,s,n){var l=V3(t,e,i,s,n),a=Ap(l.year,0,l.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}Ut("Q",0,"Qo","quarter");wt("Q",F3);Zi("Q",function(t,e){e[Do]=(wi(t)-1)*3});function h$(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ut("D",["DD",2],"Do","date");wt("D",sr,Ku);wt("DD",sr,En);wt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Zi(["D","DD"],Ua);Zi("Do",function(t,e){e[Ua]=wi(t.match(sr)[0])});var pF=Zu("Date",!0);Ut("DDD",["DDDD",3],"DDDo","dayOfYear");wt("DDD",Gv);wt("DDDD",I3);Zi(["DDD","DDDD"],function(t,e,i){i._dayOfYear=wi(t)});function u$(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ut("m",["mm",2],0,"minute");wt("m",sr,nS);wt("mm",sr,En);Zi(["m","mm"],pa);var d$=Zu("Minutes",!1);Ut("s",["ss",2],0,"second");wt("s",sr,nS);wt("ss",sr,En);Zi(["s","ss"],Lo);var f$=Zu("Seconds",!1);Ut("S",0,0,function(){return~~(this.millisecond()/100)});Ut(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ut(0,["SSS",3],0,"millisecond");Ut(0,["SSSS",4],0,function(){return this.millisecond()*10});Ut(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ut(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ut(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ut(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ut(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});wt("S",Gv,F3);wt("SS",Gv,En);wt("SSS",Gv,I3);var bl,mF;for(bl="SSSS";bl.length<=9;bl+="S")wt(bl,Xu);function p$(t,e){e[Wc]=wi(("0."+t)*1e3)}for(bl="S";bl.length<=9;bl+="S")Zi(bl,p$);mF=Zu("Milliseconds",!1);Ut("z",0,0,"zoneAbbr");Ut("zz",0,0,"zoneName");function m$(){return this._isUTC?"UTC":""}function g$(){return this._isUTC?"Coordinated Universal Time":""}var Ze=Jp.prototype;Ze.add=lq;Ze.calendar=mq;Ze.clone=gq;Ze.diff=kq;Ze.endOf=Lq;Ze.format=Eq;Ze.from=Oq;Ze.fromNow=Mq;Ze.to=Aq;Ze.toNow=Pq;Ze.get=CW;Ze.invalidAt=Wq;Ze.isAfter=yq;Ze.isBefore=vq;Ze.isBetween=bq;Ze.isSame=_q;Ze.isSameOrAfter=wq;Ze.isSameOrBefore=xq;Ze.isValid=Uq;Ze.lang=lF;Ze.locale=oF;Ze.localeData=cF;Ze.max=Uj;Ze.min=zj;Ze.parsingFlags=Hq;Ze.set=EW;Ze.startOf=Dq;Ze.subtract=cq;Ze.toArray=Bq;Ze.toObject=Nq;Ze.toDate=Iq;Ze.toISOString=Tq;Ze.inspect=Cq;typeof Symbol<"u"&&Symbol.for!=null&&(Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ze.toJSON=zq;Ze.toString=Sq;Ze.unix=Fq;Ze.valueOf=Rq;Ze.creationData=jq;Ze.eraName=Yq;Ze.eraNarrow=Gq;Ze.eraAbbr=Xq;Ze.eraYear=Kq;Ze.year=z3;Ze.isLeapYear=TW;Ze.weekYear=r$;Ze.isoWeekYear=s$;Ze.quarter=Ze.quarters=h$;Ze.month=q3;Ze.daysInMonth=IW;Ze.week=Ze.weeks=qW;Ze.isoWeek=Ze.isoWeeks=$W;Ze.weeksInYear=o$;Ze.weeksInWeekYear=l$;Ze.isoWeeksInYear=n$;Ze.isoWeeksInISOWeekYear=a$;Ze.date=pF;Ze.day=Ze.days=sj;Ze.weekday=nj;Ze.isoWeekday=aj;Ze.dayOfYear=u$;Ze.hour=Ze.hours=fj;Ze.minute=Ze.minutes=d$;Ze.second=Ze.seconds=f$;Ze.millisecond=Ze.milliseconds=mF;Ze.utcOffset=Xj;Ze.utc=Zj;Ze.local=Qj;Ze.parseZone=Jj;Ze.hasAlignedHourOffset=eq;Ze.isDST=tq;Ze.isLocal=rq;Ze.isUtcOffset=sq;Ze.isUtc=rF;Ze.isUTC=rF;Ze.zoneAbbr=m$;Ze.zoneName=g$;Ze.dates=Yn("dates accessor is deprecated. Use date instead.",pF);Ze.months=Yn("months accessor is deprecated. Use month instead",q3);Ze.years=Yn("years accessor is deprecated. Use year instead",z3);Ze.zone=Yn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Kj);Ze.isDSTShifted=Yn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",iq);function y$(t){return rr(t*1e3)}function v$(){return rr.apply(null,arguments).parseZone()}function gF(t){return t}var Mi=eS.prototype;Mi.calendar=rW;Mi.longDateFormat=oW;Mi.invalidDate=cW;Mi.ordinal=dW;Mi.preparse=gF;Mi.postformat=gF;Mi.relativeTime=pW;Mi.pastFuture=mW;Mi.set=tW;Mi.eras=qq;Mi.erasParse=$q;Mi.erasConvertYear=Vq;Mi.erasAbbrRegex=Qq;Mi.erasNameRegex=Zq;Mi.erasNarrowRegex=Jq;Mi.months=DW;Mi.monthsShort=LW;Mi.monthsParse=FW;Mi.monthsRegex=NW;Mi.monthsShortRegex=BW;Mi.week=UW;Mi.firstDayOfYear=jW;Mi.firstDayOfWeek=WW;Mi.weekdays=JW;Mi.weekdaysMin=tj;Mi.weekdaysShort=ej;Mi.weekdaysParse=rj;Mi.weekdaysRegex=oj;Mi.weekdaysShortRegex=lj;Mi.weekdaysMinRegex=cj;Mi.isPM=uj;Mi.meridiem=pj;function Gy(t,e,i,s){var n=Yo(),l=Za().set(s,e);return n[i](l,t)}function yF(t,e,i){if(Ho(t)&&(e=t,t=void 0),t=t||"",e!=null)return Gy(t,e,i,"month");var s,n=[];for(s=0;s<12;s++)n[s]=Gy(t,s,i,"month");return n}function vS(t,e,i,s){typeof t=="boolean"?(Ho(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,Ho(e)&&(i=e,e=void 0),e=e||"");var n=Yo(),l=t?n._week.dow:0,a,h=[];if(i!=null)return Gy(e,(i+l)%7,s,"day");for(a=0;a<7;a++)h[a]=Gy(e,(a+l)%7,s,"day");return h}function b$(t,e){return yF(t,e,"months")}function _$(t,e){return yF(t,e,"monthsShort")}function w$(t,e,i){return vS(t,e,i,"weekdays")}function x$(t,e,i){return vS(t,e,i,"weekdaysShort")}function k$(t,e,i){return vS(t,e,i,"weekdaysMin")}xl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=wi(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});yt.lang=Yn("moment.lang is deprecated. Use moment.locale instead.",xl);yt.langData=Yn("moment.langData is deprecated. Use moment.localeData instead.",Yo);var Co=Math.abs;function S$(){var t=this._data;return this._milliseconds=Co(this._milliseconds),this._days=Co(this._days),this._months=Co(this._months),t.milliseconds=Co(t.milliseconds),t.seconds=Co(t.seconds),t.minutes=Co(t.minutes),t.hours=Co(t.hours),t.months=Co(t.months),t.years=Co(t.years),this}function vF(t,e,i,s){var n=_a(e,i);return t._milliseconds+=s*n._milliseconds,t._days+=s*n._days,t._months+=s*n._months,t._bubble()}function T$(t,e){return vF(this,t,e,1)}function C$(t,e){return vF(this,t,e,-1)}function LD(t){return t<0?Math.floor(t):Math.ceil(t)}function E$(){var t=this._milliseconds,e=this._days,i=this._months,s=this._data,n,l,a,h,d;return t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=LD(Ix(i)+e)*864e5,e=0,i=0),s.milliseconds=t%1e3,n=Bn(t/1e3),s.seconds=n%60,l=Bn(n/60),s.minutes=l%60,a=Bn(l/60),s.hours=a%24,e+=Bn(a/24),d=Bn(bF(e)),i+=d,e-=LD(Ix(d)),h=Bn(i/12),i%=12,s.days=e,s.months=i,s.years=h,this}function bF(t){return t*4800/146097}function Ix(t){return t*146097/4800}function O$(t){if(!this.isValid())return NaN;var e,i,s=this._milliseconds;if(t=Gn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,i=this._months+bF(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(Ix(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function Go(t){return function(){return this.as(t)}}var _F=Go("ms"),M$=Go("s"),A$=Go("m"),P$=Go("h"),D$=Go("d"),L$=Go("w"),R$=Go("M"),F$=Go("Q"),I$=Go("y"),B$=_F;function N$(){return _a(this)}function z$(t){return t=Gn(t),this.isValid()?this[t+"s"]():NaN}function ph(t){return function(){return this.isValid()?this._data[t]:NaN}}var U$=ph("milliseconds"),H$=ph("seconds"),W$=ph("minutes"),j$=ph("hours"),q$=ph("days"),$$=ph("months"),V$=ph("years");function Y$(){return Bn(this.days()/7)}var Po=Math.round,au={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function G$(t,e,i,s,n){return n.relativeTime(e||1,!!i,t,s)}function X$(t,e,i,s){var n=_a(t).abs(),l=Po(n.as("s")),a=Po(n.as("m")),h=Po(n.as("h")),d=Po(n.as("d")),f=Po(n.as("M")),g=Po(n.as("w")),v=Po(n.as("y")),x=l<=i.ss&&["s",l]||l<i.s&&["ss",l]||a<=1&&["m"]||a<i.m&&["mm",a]||h<=1&&["h"]||h<i.h&&["hh",h]||d<=1&&["d"]||d<i.d&&["dd",d];return i.w!=null&&(x=x||g<=1&&["w"]||g<i.w&&["ww",g]),x=x||f<=1&&["M"]||f<i.M&&["MM",f]||v<=1&&["y"]||["yy",v],x[2]=e,x[3]=+t>0,x[4]=s,G$.apply(null,x)}function K$(t){return t===void 0?Po:typeof t=="function"?(Po=t,!0):!1}function Z$(t,e){return au[t]===void 0?!1:e===void 0?au[t]:(au[t]=e,t==="s"&&(au.ss=e-1),!0)}function Q$(t,e){if(!this.isValid())return this.localeData().invalidDate();var i=!1,s=au,n,l;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(i=t),typeof e=="object"&&(s=Object.assign({},au,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),n=this.localeData(),l=X$(this,!i,s,n),i&&(l=n.pastFuture(+this,l)),n.postformat(l)}var E1=Math.abs;function Yh(t){return(t>0)-(t<0)||+t}function ib(){if(!this.isValid())return this.localeData().invalidDate();var t=E1(this._milliseconds)/1e3,e=E1(this._days),i=E1(this._months),s,n,l,a,h=this.asSeconds(),d,f,g,v;return h?(s=Bn(t/60),n=Bn(s/60),t%=60,s%=60,l=Bn(i/12),i%=12,a=t?t.toFixed(3).replace(/\.?0+$/,""):"",d=h<0?"-":"",f=Yh(this._months)!==Yh(h)?"-":"",g=Yh(this._days)!==Yh(h)?"-":"",v=Yh(this._milliseconds)!==Yh(h)?"-":"",d+"P"+(l?f+l+"Y":"")+(i?f+i+"M":"")+(e?g+e+"D":"")+(n||s||t?"T":"")+(n?v+n+"H":"")+(s?v+s+"M":"")+(t?v+a+"S":"")):"P0D"}var Ti=eb.prototype;Ti.isValid=$j;Ti.abs=S$;Ti.add=T$;Ti.subtract=C$;Ti.as=O$;Ti.asMilliseconds=_F;Ti.asSeconds=M$;Ti.asMinutes=A$;Ti.asHours=P$;Ti.asDays=D$;Ti.asWeeks=L$;Ti.asMonths=R$;Ti.asQuarters=F$;Ti.asYears=I$;Ti.valueOf=B$;Ti._bubble=E$;Ti.clone=N$;Ti.get=z$;Ti.milliseconds=U$;Ti.seconds=H$;Ti.minutes=W$;Ti.hours=j$;Ti.days=q$;Ti.weeks=Y$;Ti.months=$$;Ti.years=V$;Ti.humanize=Q$;Ti.toISOString=ib;Ti.toString=ib;Ti.toJSON=ib;Ti.locale=oF;Ti.localeData=cF;Ti.toIsoString=Yn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ib);Ti.lang=lF;Ut("X",0,0,"unix");Ut("x",0,0,"valueOf");wt("x",Kv);wt("X",bW);Zi("X",function(t,e,i){i._d=new Date(parseFloat(t)*1e3)});Zi("x",function(t,e,i){i._d=new Date(wi(t))});//! moment.js
yt.version="2.30.1";JH(rr);yt.fn=Ze;yt.min=Hj;yt.max=Wj;yt.now=jj;yt.utc=Za;yt.unix=y$;yt.months=b$;yt.isDate=Qp;yt.locale=xl;yt.invalid=Vv;yt.duration=_a;yt.isMoment=ba;yt.weekdays=w$;yt.parseZone=v$;yt.localeData=Yo;yt.isDuration=wy;yt.monthsShort=_$;yt.weekdaysMin=k$;yt.defineLocale=hS;yt.updateLocale=vj;yt.locales=bj;yt.weekdaysShort=x$;yt.normalizeUnits=Gn;yt.relativeTimeRounding=K$;yt.relativeTimeThreshold=Z$;yt.calendarFormat=pq;yt.prototype=Ze;yt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var O1=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],du={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var i=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-i.getTime())/864e5-3+(i.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Lp={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},en=function(t,e){return e===void 0&&(e=2),("000"+t).slice(e*-1)},Fn=function(t){return t===!0?1:0};function RD(t,e){var i;return function(){var s=this,n=arguments;clearTimeout(i),i=setTimeout(function(){return t.apply(s,n)},e)}}var M1=function(t){return t instanceof Array?t:[t]};function Ns(t,e,i){if(i===!0)return t.classList.add(e);t.classList.remove(e)}function Ri(t,e,i){var s=window.document.createElement(t);return e=e||"",i=i||"",s.className=e,i!==void 0&&(s.textContent=i),s}function Jg(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function wF(t,e){if(e(t))return t;if(t.parentNode)return wF(t.parentNode,e)}function ey(t,e){var i=Ri("div","numInputWrapper"),s=Ri("input","numInput "+t),n=Ri("span","arrowUp"),l=Ri("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?s.type="number":(s.type="text",s.pattern="\\d*"),e!==void 0)for(var a in e)s.setAttribute(a,e[a]);return i.appendChild(s),i.appendChild(n),i.appendChild(l),i}function yn(t){try{if(typeof t.composedPath=="function"){var e=t.composedPath();return e[0]}return t.target}catch{return t.target}}var A1=function(){},Xy=function(t,e,i){return i.months[e?"shorthand":"longhand"][t]},J$={D:A1,F:function(t,e,i){t.setMonth(i.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,i){t.setHours(t.getHours()%12+12*Fn(new RegExp(i.amPM[1],"i").test(e)))},M:function(t,e,i){t.setMonth(i.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(parseFloat(e)*1e3)},W:function(t,e,i){var s=parseInt(e),n=new Date(t.getFullYear(),0,2+(s-1)*7,0,0,0,0);return n.setDate(n.getDate()-n.getDay()+i.firstDayOfWeek),n},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:A1,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:A1,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},Hc={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},up={Z:function(t){return t.toISOString()},D:function(t,e,i){return e.weekdays.shorthand[up.w(t,e,i)]},F:function(t,e,i){return Xy(up.n(t,e,i)-1,!1,e)},G:function(t,e,i){return en(up.h(t,e,i))},H:function(t){return en(t.getHours())},J:function(t,e){return e.ordinal!==void 0?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[Fn(t.getHours()>11)]},M:function(t,e){return Xy(t.getMonth(),!0,e)},S:function(t){return en(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,i){return i.getWeek(t)},Y:function(t){return en(t.getFullYear(),4)},d:function(t){return en(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return en(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return en(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},xF=function(t){var e=t.config,i=e===void 0?du:e,s=t.l10n,n=s===void 0?Lp:s,l=t.isMobile,a=l===void 0?!1:l;return function(h,d,f){var g=f||n;return i.formatDate!==void 0&&!a?i.formatDate(h,d,g):d.split("").map(function(v,x,b){return up[v]&&b[x-1]!=="\\"?up[v](h,g,i):v!=="\\"?v:""}).join("")}},Bx=function(t){var e=t.config,i=e===void 0?du:e,s=t.l10n,n=s===void 0?Lp:s;return function(l,a,h,d){if(!(l!==0&&!l)){var f=d||n,g,v=l;if(l instanceof Date)g=new Date(l.getTime());else if(typeof l!="string"&&l.toFixed!==void 0)g=new Date(l);else if(typeof l=="string"){var x=a||(i||du).dateFormat,b=String(l).trim();if(b==="today")g=new Date,h=!0;else if(i&&i.parseDate)g=i.parseDate(l,x);else if(/Z$/.test(b)||/GMT$/.test(b))g=new Date(l);else{for(var C=void 0,O=[],P=0,L=0,u="";P<x.length;P++){var S=x[P],y=S==="\\",k=x[P-1]==="\\"||y;if(Hc[S]&&!k){u+=Hc[S];var T=new RegExp(u).exec(l);T&&(C=!0)&&O[S!=="Y"?"push":"unshift"]({fn:J$[S],val:T[++L]})}else y||(u+=".")}g=!i||!i.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),O.forEach(function(A){var F=A.fn,z=A.val;return g=F(g,z,f)||g}),g=C?g:void 0}}if(!(g instanceof Date&&!isNaN(g.getTime()))){i.errorHandler(new Error("Invalid date provided: "+v));return}return h===!0&&g.setHours(0,0,0,0),g}}};function bn(t,e,i){return i===void 0&&(i=!0),i!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var eV=function(t,e,i){return t>Math.min(e,i)&&t<Math.max(e,i)},P1=function(t,e,i){return t*3600+e*60+i},tV=function(t){var e=Math.floor(t/3600),i=(t-e*3600)/60;return[e,i,t-e*3600-i*60]},iV={DAY:864e5};function D1(t){var e=t.defaultHour,i=t.defaultMinute,s=t.defaultSeconds;if(t.minDate!==void 0){var n=t.minDate.getHours(),l=t.minDate.getMinutes(),a=t.minDate.getSeconds();e<n&&(e=n),e===n&&i<l&&(i=l),e===n&&i===l&&s<a&&(s=t.minDate.getSeconds())}if(t.maxDate!==void 0){var h=t.maxDate.getHours(),d=t.maxDate.getMinutes();e=Math.min(e,h),e===h&&(i=Math.min(d,i)),e===h&&i===d&&(s=t.maxDate.getSeconds())}return{hours:e,minutes:i,seconds:s}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var s=function(h){h&&Object.keys(h).forEach(function(d){return t[d]=h[d]})},n=0,l=e;n<l.length;n++){var a=l[n];s(a)}return t});var ks=function(){return ks=Object.assign||function(t){for(var e,i=1,s=arguments.length;i<s;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},ks.apply(this,arguments)},FD=function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;for(var s=Array(t),n=0,e=0;e<i;e++)for(var l=arguments[e],a=0,h=l.length;a<h;a++,n++)s[n]=l[a];return s},rV=300;function sV(t,e){var i={config:ks(ks({},du),Fr.defaultConfig),l10n:Lp};i.parseDate=Bx({config:i.config,l10n:i.l10n}),i._handlers=[],i.pluginElements=[],i.loadedPlugins=[],i._bind=O,i._setHoursFromDate=x,i._positionCalendar=Yi,i.changeMonth=Y,i.changeYear=Ae,i.clear=ue,i.close=be,i.onMouseOver=ft,i._createElement=Ri,i.createDay=T,i.destroy=Oe,i.isEnabled=$e,i.jumpToDate=u,i.updateValue=pt,i.open=Re,i.redraw=Br,i.set=ce,i.setDate=Se,i.toggle=re;function s(){i.utils={getDaysInMonth:function(ee,te){return ee===void 0&&(ee=i.currentMonth),te===void 0&&(te=i.currentYear),ee===1&&(te%4===0&&te%100!==0||te%400===0)?29:i.l10n.daysInMonth[ee]}}}function n(){i.element=i.input=t,i.isOpen=!1,fi(),Ve(),it(),Me(),s(),i.isMobile||k(),L(),(i.selectedDates.length||i.config.noCalendar)&&(i.config.enableTime&&x(i.config.noCalendar?i.latestSelectedDateObj:void 0),pt(!1)),h();var ee=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!i.isMobile&&ee&&Yi(),ke("onReady")}function l(){var ee;return((ee=i.calendarContainer)===null||ee===void 0?void 0:ee.getRootNode()).activeElement||document.activeElement}function a(ee){return ee.bind(i)}function h(){var ee=i.config;ee.weekNumbers===!1&&ee.showMonths===1||ee.noCalendar!==!0&&window.requestAnimationFrame(function(){if(i.calendarContainer!==void 0&&(i.calendarContainer.style.visibility="hidden",i.calendarContainer.style.display="block"),i.daysContainer!==void 0){var te=(i.days.offsetWidth+1)*ee.showMonths;i.daysContainer.style.width=te+"px",i.calendarContainer.style.width=te+(i.weekWrapper!==void 0?i.weekWrapper.offsetWidth:0)+"px",i.calendarContainer.style.removeProperty("visibility"),i.calendarContainer.style.removeProperty("display")}})}function d(ee){if(i.selectedDates.length===0){var te=i.config.minDate===void 0||bn(new Date,i.config.minDate)>=0?new Date:new Date(i.config.minDate.getTime()),he=D1(i.config);te.setHours(he.hours,he.minutes,he.seconds,te.getMilliseconds()),i.selectedDates=[te],i.latestSelectedDateObj=te}ee!==void 0&&ee.type!=="blur"&&oi(ee);var _e=i._input.value;v(),pt(),i._input.value!==_e&&i._debouncedChange()}function f(ee,te){return ee%12+12*Fn(te===i.l10n.amPM[1])}function g(ee){switch(ee%24){case 0:case 12:return 12;default:return ee%12}}function v(){if(!(i.hourElement===void 0||i.minuteElement===void 0)){var ee=(parseInt(i.hourElement.value.slice(-2),10)||0)%24,te=(parseInt(i.minuteElement.value,10)||0)%60,he=i.secondElement!==void 0?(parseInt(i.secondElement.value,10)||0)%60:0;i.amPM!==void 0&&(ee=f(ee,i.amPM.textContent));var _e=i.config.minTime!==void 0||i.config.minDate&&i.minDateHasTime&&i.latestSelectedDateObj&&bn(i.latestSelectedDateObj,i.config.minDate,!0)===0,Ye=i.config.maxTime!==void 0||i.config.maxDate&&i.maxDateHasTime&&i.latestSelectedDateObj&&bn(i.latestSelectedDateObj,i.config.maxDate,!0)===0;if(i.config.maxTime!==void 0&&i.config.minTime!==void 0&&i.config.minTime>i.config.maxTime){var Je=P1(i.config.minTime.getHours(),i.config.minTime.getMinutes(),i.config.minTime.getSeconds()),$t=P1(i.config.maxTime.getHours(),i.config.maxTime.getMinutes(),i.config.maxTime.getSeconds()),bt=P1(ee,te,he);if(bt>$t&&bt<Je){var jt=tV(Je);ee=jt[0],te=jt[1],he=jt[2]}}else{if(Ye){var nt=i.config.maxTime!==void 0?i.config.maxTime:i.config.maxDate;ee=Math.min(ee,nt.getHours()),ee===nt.getHours()&&(te=Math.min(te,nt.getMinutes())),te===nt.getMinutes()&&(he=Math.min(he,nt.getSeconds()))}if(_e){var Bt=i.config.minTime!==void 0?i.config.minTime:i.config.minDate;ee=Math.max(ee,Bt.getHours()),ee===Bt.getHours()&&te<Bt.getMinutes()&&(te=Bt.getMinutes()),te===Bt.getMinutes()&&(he=Math.max(he,Bt.getSeconds()))}}b(ee,te,he)}}function x(ee){var te=ee||i.latestSelectedDateObj;te&&te instanceof Date&&b(te.getHours(),te.getMinutes(),te.getSeconds())}function b(ee,te,he){i.latestSelectedDateObj!==void 0&&i.latestSelectedDateObj.setHours(ee%24,te,he||0,0),!(!i.hourElement||!i.minuteElement||i.isMobile)&&(i.hourElement.value=en(i.config.time_24hr?ee:(12+ee)%12+12*Fn(ee%12===0)),i.minuteElement.value=en(te),i.amPM!==void 0&&(i.amPM.textContent=i.l10n.amPM[Fn(ee>=12)]),i.secondElement!==void 0&&(i.secondElement.value=en(he)))}function C(ee){var te=yn(ee),he=parseInt(te.value)+(ee.delta||0);(he/1e3>1||ee.key==="Enter"&&!/[^\d]/.test(he.toString()))&&Ae(he)}function O(ee,te,he,_e){if(te instanceof Array)return te.forEach(function(Ye){return O(ee,Ye,he,_e)});if(ee instanceof Array)return ee.forEach(function(Ye){return O(Ye,te,he,_e)});ee.addEventListener(te,he,_e),i._handlers.push({remove:function(){return ee.removeEventListener(te,he,_e)}})}function P(){ke("onChange")}function L(){if(i.config.wrap&&["open","close","toggle","clear"].forEach(function(he){Array.prototype.forEach.call(i.element.querySelectorAll("[data-"+he+"]"),function(_e){return O(_e,"click",i[he])})}),i.isMobile){Ct();return}var ee=RD(Gt,50);if(i._debouncedChange=RD(P,rV),i.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&O(i.daysContainer,"mouseover",function(he){i.config.mode==="range"&&ft(yn(he))}),O(i._input,"keydown",dt),i.calendarContainer!==void 0&&O(i.calendarContainer,"keydown",dt),!i.config.inline&&!i.config.static&&O(window,"resize",ee),window.ontouchstart!==void 0?O(window.document,"touchstart",xe):O(window.document,"mousedown",xe),O(window.document,"focus",xe,{capture:!0}),i.config.clickOpens===!0&&(O(i._input,"focus",i.open),O(i._input,"click",i.open)),i.daysContainer!==void 0&&(O(i.monthNav,"click",ii),O(i.monthNav,["keyup","increment"],C),O(i.daysContainer,"click",Wi)),i.timeContainer!==void 0&&i.minuteElement!==void 0&&i.hourElement!==void 0){var te=function(he){return yn(he).select()};O(i.timeContainer,["increment"],d),O(i.timeContainer,"blur",d,{capture:!0}),O(i.timeContainer,"click",S),O([i.hourElement,i.minuteElement],["focus","click"],te),i.secondElement!==void 0&&O(i.secondElement,"focus",function(){return i.secondElement&&i.secondElement.select()}),i.amPM!==void 0&&O(i.amPM,"click",function(he){d(he)})}i.config.allowInput&&O(i._input,"blur",ye)}function u(ee,te){var he=ee!==void 0?i.parseDate(ee):i.latestSelectedDateObj||(i.config.minDate&&i.config.minDate>i.now?i.config.minDate:i.config.maxDate&&i.config.maxDate<i.now?i.config.maxDate:i.now),_e=i.currentYear,Ye=i.currentMonth;try{he!==void 0&&(i.currentYear=he.getFullYear(),i.currentMonth=he.getMonth())}catch(Je){Je.message="Invalid date supplied: "+he,i.config.errorHandler(Je)}te&&i.currentYear!==_e&&(ke("onYearChange"),M()),te&&(i.currentYear!==_e||i.currentMonth!==Ye)&&ke("onMonthChange"),i.redraw()}function S(ee){var te=yn(ee);~te.className.indexOf("arrow")&&y(ee,te.classList.contains("arrowUp")?1:-1)}function y(ee,te,he){var _e=ee&&yn(ee),Ye=he||_e&&_e.parentNode&&_e.parentNode.firstChild,Je=Be("increment");Je.delta=te,Ye&&Ye.dispatchEvent(Je)}function k(){var ee=window.document.createDocumentFragment();if(i.calendarContainer=Ri("div","flatpickr-calendar"),i.calendarContainer.tabIndex=-1,!i.config.noCalendar){if(ee.appendChild(H()),i.innerContainer=Ri("div","flatpickr-innerContainer"),i.config.weekNumbers){var te=X(),he=te.weekWrapper,_e=te.weekNumbers;i.innerContainer.appendChild(he),i.weekNumbers=_e,i.weekWrapper=he}i.rContainer=Ri("div","flatpickr-rContainer"),i.rContainer.appendChild($()),i.daysContainer||(i.daysContainer=Ri("div","flatpickr-days"),i.daysContainer.tabIndex=-1),w(),i.rContainer.appendChild(i.daysContainer),i.innerContainer.appendChild(i.rContainer),ee.appendChild(i.innerContainer)}i.config.enableTime&&ee.appendChild(j()),Ns(i.calendarContainer,"rangeMode",i.config.mode==="range"),Ns(i.calendarContainer,"animate",i.config.animate===!0),Ns(i.calendarContainer,"multiMonth",i.config.showMonths>1),i.calendarContainer.appendChild(ee);var Ye=i.config.appendTo!==void 0&&i.config.appendTo.nodeType!==void 0;if((i.config.inline||i.config.static)&&(i.calendarContainer.classList.add(i.config.inline?"inline":"static"),i.config.inline&&(!Ye&&i.element.parentNode?i.element.parentNode.insertBefore(i.calendarContainer,i._input.nextSibling):i.config.appendTo!==void 0&&i.config.appendTo.appendChild(i.calendarContainer)),i.config.static)){var Je=Ri("div","flatpickr-wrapper");i.element.parentNode&&i.element.parentNode.insertBefore(Je,i.element),Je.appendChild(i.element),i.altInput&&Je.appendChild(i.altInput),Je.appendChild(i.calendarContainer)}!i.config.static&&!i.config.inline&&(i.config.appendTo!==void 0?i.config.appendTo:window.document.body).appendChild(i.calendarContainer)}function T(ee,te,he,_e){var Ye=$e(te,!0),Je=Ri("span",ee,te.getDate().toString());return Je.dateObj=te,Je.$i=_e,Je.setAttribute("aria-label",i.formatDate(te,i.config.ariaDateFormat)),ee.indexOf("hidden")===-1&&bn(te,i.now)===0&&(i.todayDateElem=Je,Je.classList.add("today"),Je.setAttribute("aria-current","date")),Ye?(Je.tabIndex=-1,Ee(te)&&(Je.classList.add("selected"),i.selectedDateElem=Je,i.config.mode==="range"&&(Ns(Je,"startRange",i.selectedDates[0]&&bn(te,i.selectedDates[0],!0)===0),Ns(Je,"endRange",i.selectedDates[1]&&bn(te,i.selectedDates[1],!0)===0),ee==="nextMonthDay"&&Je.classList.add("inRange")))):Je.classList.add("flatpickr-disabled"),i.config.mode==="range"&&Fe(te)&&!Ee(te)&&Je.classList.add("inRange"),i.weekNumbers&&i.config.showMonths===1&&ee!=="prevMonthDay"&&_e%7===6&&i.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+i.config.getWeek(te)+"</span>"),ke("onDayCreate",Je),Je}function A(ee){ee.focus(),i.config.mode==="range"&&ft(ee)}function F(ee){for(var te=ee>0?0:i.config.showMonths-1,he=ee>0?i.config.showMonths:-1,_e=te;_e!=he;_e+=ee)for(var Ye=i.daysContainer.children[_e],Je=ee>0?0:Ye.children.length-1,$t=ee>0?Ye.children.length:-1,bt=Je;bt!=$t;bt+=ee){var jt=Ye.children[bt];if(jt.className.indexOf("hidden")===-1&&$e(jt.dateObj))return jt}}function z(ee,te){for(var he=ee.className.indexOf("Month")===-1?ee.dateObj.getMonth():i.currentMonth,_e=te>0?i.config.showMonths:-1,Ye=te>0?1:-1,Je=he-i.currentMonth;Je!=_e;Je+=Ye)for(var $t=i.daysContainer.children[Je],bt=he-i.currentMonth===Je?ee.$i+te:te<0?$t.children.length-1:0,jt=$t.children.length,nt=bt;nt>=0&&nt<jt&&nt!=(te>0?jt:-1);nt+=Ye){var Bt=$t.children[nt];if(Bt.className.indexOf("hidden")===-1&&$e(Bt.dateObj)&&Math.abs(ee.$i-nt)>=Math.abs(te))return A(Bt)}i.changeMonth(Ye),N(F(Ye),0)}function N(ee,te){var he=l(),_e=tt(he||document.body),Ye=ee!==void 0?ee:_e?he:i.selectedDateElem!==void 0&&tt(i.selectedDateElem)?i.selectedDateElem:i.todayDateElem!==void 0&&tt(i.todayDateElem)?i.todayDateElem:F(te>0?1:-1);Ye===void 0?i._input.focus():_e?z(Ye,te):A(Ye)}function m(ee,te){for(var he=(new Date(ee,te,1).getDay()-i.l10n.firstDayOfWeek+7)%7,_e=i.utils.getDaysInMonth((te-1+12)%12,ee),Ye=i.utils.getDaysInMonth(te,ee),Je=window.document.createDocumentFragment(),$t=i.config.showMonths>1,bt=$t?"prevMonthDay hidden":"prevMonthDay",jt=$t?"nextMonthDay hidden":"nextMonthDay",nt=_e+1-he,Bt=0;nt<=_e;nt++,Bt++)Je.appendChild(T("flatpickr-day "+bt,new Date(ee,te-1,nt),nt,Bt));for(nt=1;nt<=Ye;nt++,Bt++)Je.appendChild(T("flatpickr-day",new Date(ee,te,nt),nt,Bt));for(var pi=Ye+1;pi<=42-he&&(i.config.showMonths===1||Bt%7!==0);pi++,Bt++)Je.appendChild(T("flatpickr-day "+jt,new Date(ee,te+1,pi%Ye),pi,Bt));var hr=Ri("div","dayContainer");return hr.appendChild(Je),hr}function w(){if(i.daysContainer!==void 0){Jg(i.daysContainer),i.weekNumbers&&Jg(i.weekNumbers);for(var ee=document.createDocumentFragment(),te=0;te<i.config.showMonths;te++){var he=new Date(i.currentYear,i.currentMonth,1);he.setMonth(i.currentMonth+te),ee.appendChild(m(he.getFullYear(),he.getMonth()))}i.daysContainer.appendChild(ee),i.days=i.daysContainer.firstChild,i.config.mode==="range"&&i.selectedDates.length===1&&ft()}}function M(){if(!(i.config.showMonths>1||i.config.monthSelectorType!=="dropdown")){var ee=function(_e){return i.config.minDate!==void 0&&i.currentYear===i.config.minDate.getFullYear()&&_e<i.config.minDate.getMonth()?!1:!(i.config.maxDate!==void 0&&i.currentYear===i.config.maxDate.getFullYear()&&_e>i.config.maxDate.getMonth())};i.monthsDropdownContainer.tabIndex=-1,i.monthsDropdownContainer.innerHTML="";for(var te=0;te<12;te++)if(ee(te)){var he=Ri("option","flatpickr-monthDropdown-month");he.value=new Date(i.currentYear,te).getMonth().toString(),he.textContent=Xy(te,i.config.shorthandCurrentMonth,i.l10n),he.tabIndex=-1,i.currentMonth===te&&(he.selected=!0),i.monthsDropdownContainer.appendChild(he)}}}function D(){var ee=Ri("div","flatpickr-month"),te=window.document.createDocumentFragment(),he;i.config.showMonths>1||i.config.monthSelectorType==="static"?he=Ri("span","cur-month"):(i.monthsDropdownContainer=Ri("select","flatpickr-monthDropdown-months"),i.monthsDropdownContainer.setAttribute("aria-label",i.l10n.monthAriaLabel),O(i.monthsDropdownContainer,"change",function($t){var bt=yn($t),jt=parseInt(bt.value,10);i.changeMonth(jt-i.currentMonth),ke("onMonthChange")}),M(),he=i.monthsDropdownContainer);var _e=ey("cur-year",{tabindex:"-1"}),Ye=_e.getElementsByTagName("input")[0];Ye.setAttribute("aria-label",i.l10n.yearAriaLabel),i.config.minDate&&Ye.setAttribute("min",i.config.minDate.getFullYear().toString()),i.config.maxDate&&(Ye.setAttribute("max",i.config.maxDate.getFullYear().toString()),Ye.disabled=!!i.config.minDate&&i.config.minDate.getFullYear()===i.config.maxDate.getFullYear());var Je=Ri("div","flatpickr-current-month");return Je.appendChild(he),Je.appendChild(_e),te.appendChild(Je),ee.appendChild(te),{container:ee,yearElement:Ye,monthElement:he}}function I(){Jg(i.monthNav),i.monthNav.appendChild(i.prevMonthNav),i.config.showMonths&&(i.yearElements=[],i.monthElements=[]);for(var ee=i.config.showMonths;ee--;){var te=D();i.yearElements.push(te.yearElement),i.monthElements.push(te.monthElement),i.monthNav.appendChild(te.container)}i.monthNav.appendChild(i.nextMonthNav)}function H(){return i.monthNav=Ri("div","flatpickr-months"),i.yearElements=[],i.monthElements=[],i.prevMonthNav=Ri("span","flatpickr-prev-month"),i.prevMonthNav.innerHTML=i.config.prevArrow,i.nextMonthNav=Ri("span","flatpickr-next-month"),i.nextMonthNav.innerHTML=i.config.nextArrow,I(),Object.defineProperty(i,"_hidePrevMonthArrow",{get:function(){return i.__hidePrevMonthArrow},set:function(ee){i.__hidePrevMonthArrow!==ee&&(Ns(i.prevMonthNav,"flatpickr-disabled",ee),i.__hidePrevMonthArrow=ee)}}),Object.defineProperty(i,"_hideNextMonthArrow",{get:function(){return i.__hideNextMonthArrow},set:function(ee){i.__hideNextMonthArrow!==ee&&(Ns(i.nextMonthNav,"flatpickr-disabled",ee),i.__hideNextMonthArrow=ee)}}),i.currentYearElement=i.yearElements[0],De(),i.monthNav}function j(){i.calendarContainer.classList.add("hasTime"),i.config.noCalendar&&i.calendarContainer.classList.add("noCalendar");var ee=D1(i.config);i.timeContainer=Ri("div","flatpickr-time"),i.timeContainer.tabIndex=-1;var te=Ri("span","flatpickr-time-separator",":"),he=ey("flatpickr-hour",{"aria-label":i.l10n.hourAriaLabel});i.hourElement=he.getElementsByTagName("input")[0];var _e=ey("flatpickr-minute",{"aria-label":i.l10n.minuteAriaLabel});if(i.minuteElement=_e.getElementsByTagName("input")[0],i.hourElement.tabIndex=i.minuteElement.tabIndex=-1,i.hourElement.value=en(i.latestSelectedDateObj?i.latestSelectedDateObj.getHours():i.config.time_24hr?ee.hours:g(ee.hours)),i.minuteElement.value=en(i.latestSelectedDateObj?i.latestSelectedDateObj.getMinutes():ee.minutes),i.hourElement.setAttribute("step",i.config.hourIncrement.toString()),i.minuteElement.setAttribute("step",i.config.minuteIncrement.toString()),i.hourElement.setAttribute("min",i.config.time_24hr?"0":"1"),i.hourElement.setAttribute("max",i.config.time_24hr?"23":"12"),i.hourElement.setAttribute("maxlength","2"),i.minuteElement.setAttribute("min","0"),i.minuteElement.setAttribute("max","59"),i.minuteElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(he),i.timeContainer.appendChild(te),i.timeContainer.appendChild(_e),i.config.time_24hr&&i.timeContainer.classList.add("time24hr"),i.config.enableSeconds){i.timeContainer.classList.add("hasSeconds");var Ye=ey("flatpickr-second");i.secondElement=Ye.getElementsByTagName("input")[0],i.secondElement.value=en(i.latestSelectedDateObj?i.latestSelectedDateObj.getSeconds():ee.seconds),i.secondElement.setAttribute("step",i.minuteElement.getAttribute("step")),i.secondElement.setAttribute("min","0"),i.secondElement.setAttribute("max","59"),i.secondElement.setAttribute("maxlength","2"),i.timeContainer.appendChild(Ri("span","flatpickr-time-separator",":")),i.timeContainer.appendChild(Ye)}return i.config.time_24hr||(i.amPM=Ri("span","flatpickr-am-pm",i.l10n.amPM[Fn((i.latestSelectedDateObj?i.hourElement.value:i.config.defaultHour)>11)]),i.amPM.title=i.l10n.toggleTitle,i.amPM.tabIndex=-1,i.timeContainer.appendChild(i.amPM)),i.timeContainer}function $(){i.weekdayContainer?Jg(i.weekdayContainer):i.weekdayContainer=Ri("div","flatpickr-weekdays");for(var ee=i.config.showMonths;ee--;){var te=Ri("div","flatpickr-weekdaycontainer");i.weekdayContainer.appendChild(te)}return ae(),i.weekdayContainer}function ae(){if(i.weekdayContainer){var ee=i.l10n.firstDayOfWeek,te=FD(i.l10n.weekdays.shorthand);ee>0&&ee<te.length&&(te=FD(te.splice(ee,te.length),te.splice(0,ee)));for(var he=i.config.showMonths;he--;)i.weekdayContainer.children[he].innerHTML=`
      <span class='flatpickr-weekday'>
        `+te.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function X(){i.calendarContainer.classList.add("hasWeeks");var ee=Ri("div","flatpickr-weekwrapper");ee.appendChild(Ri("span","flatpickr-weekday",i.l10n.weekAbbreviation));var te=Ri("div","flatpickr-weeks");return ee.appendChild(te),{weekWrapper:ee,weekNumbers:te}}function Y(ee,te){te===void 0&&(te=!0);var he=te?ee:ee-i.currentMonth;he<0&&i._hidePrevMonthArrow===!0||he>0&&i._hideNextMonthArrow===!0||(i.currentMonth+=he,(i.currentMonth<0||i.currentMonth>11)&&(i.currentYear+=i.currentMonth>11?1:-1,i.currentMonth=(i.currentMonth+12)%12,ke("onYearChange"),M()),w(),ke("onMonthChange"),De())}function ue(ee,te){if(ee===void 0&&(ee=!0),te===void 0&&(te=!0),i.input.value="",i.altInput!==void 0&&(i.altInput.value=""),i.mobileInput!==void 0&&(i.mobileInput.value=""),i.selectedDates=[],i.latestSelectedDateObj=void 0,te===!0&&(i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth()),i.config.enableTime===!0){var he=D1(i.config),_e=he.hours,Ye=he.minutes,Je=he.seconds;b(_e,Ye,Je)}i.redraw(),ee&&ke("onChange")}function be(){i.isOpen=!1,i.isMobile||(i.calendarContainer!==void 0&&i.calendarContainer.classList.remove("open"),i._input!==void 0&&i._input.classList.remove("active")),ke("onClose")}function Oe(){i.config!==void 0&&ke("onDestroy");for(var ee=i._handlers.length;ee--;)i._handlers[ee].remove();if(i._handlers=[],i.mobileInput)i.mobileInput.parentNode&&i.mobileInput.parentNode.removeChild(i.mobileInput),i.mobileInput=void 0;else if(i.calendarContainer&&i.calendarContainer.parentNode)if(i.config.static&&i.calendarContainer.parentNode){var te=i.calendarContainer.parentNode;if(te.lastChild&&te.removeChild(te.lastChild),te.parentNode){for(;te.firstChild;)te.parentNode.insertBefore(te.firstChild,te);te.parentNode.removeChild(te)}}else i.calendarContainer.parentNode.removeChild(i.calendarContainer);i.altInput&&(i.input.type="text",i.altInput.parentNode&&i.altInput.parentNode.removeChild(i.altInput),delete i.altInput),i.input&&(i.input.type=i.input._type,i.input.classList.remove("flatpickr-input"),i.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(he){try{delete i[he]}catch{}})}function me(ee){return i.calendarContainer.contains(ee)}function xe(ee){if(i.isOpen&&!i.config.inline){var te=yn(ee),he=me(te),_e=te===i.input||te===i.altInput||i.element.contains(te)||ee.path&&ee.path.indexOf&&(~ee.path.indexOf(i.input)||~ee.path.indexOf(i.altInput)),Ye=!_e&&!he&&!me(ee.relatedTarget),Je=!i.config.ignoredFocusElements.some(function($t){return $t.contains(te)});Ye&&Je&&(i.config.allowInput&&i.setDate(i._input.value,!1,i.config.altInput?i.config.altFormat:i.config.dateFormat),i.timeContainer!==void 0&&i.minuteElement!==void 0&&i.hourElement!==void 0&&i.input.value!==""&&i.input.value!==void 0&&d(),i.close(),i.config&&i.config.mode==="range"&&i.selectedDates.length===1&&i.clear(!1))}}function Ae(ee){if(!(!ee||i.config.minDate&&ee<i.config.minDate.getFullYear()||i.config.maxDate&&ee>i.config.maxDate.getFullYear())){var te=ee,he=i.currentYear!==te;i.currentYear=te||i.currentYear,i.config.maxDate&&i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth=Math.min(i.config.maxDate.getMonth(),i.currentMonth):i.config.minDate&&i.currentYear===i.config.minDate.getFullYear()&&(i.currentMonth=Math.max(i.config.minDate.getMonth(),i.currentMonth)),he&&(i.redraw(),ke("onYearChange"),M())}}function $e(ee,te){var he;te===void 0&&(te=!0);var _e=i.parseDate(ee,void 0,te);if(i.config.minDate&&_e&&bn(_e,i.config.minDate,te!==void 0?te:!i.minDateHasTime)<0||i.config.maxDate&&_e&&bn(_e,i.config.maxDate,te!==void 0?te:!i.maxDateHasTime)>0)return!1;if(!i.config.enable&&i.config.disable.length===0)return!0;if(_e===void 0)return!1;for(var Ye=!!i.config.enable,Je=(he=i.config.enable)!==null&&he!==void 0?he:i.config.disable,$t=0,bt=void 0;$t<Je.length;$t++){if(bt=Je[$t],typeof bt=="function"&&bt(_e))return Ye;if(bt instanceof Date&&_e!==void 0&&bt.getTime()===_e.getTime())return Ye;if(typeof bt=="string"){var jt=i.parseDate(bt,void 0,!0);return jt&&jt.getTime()===_e.getTime()?Ye:!Ye}else if(typeof bt=="object"&&_e!==void 0&&bt.from&&bt.to&&_e.getTime()>=bt.from.getTime()&&_e.getTime()<=bt.to.getTime())return Ye}return!Ye}function tt(ee){return i.daysContainer!==void 0?ee.className.indexOf("hidden")===-1&&ee.className.indexOf("flatpickr-disabled")===-1&&i.daysContainer.contains(ee):!1}function ye(ee){var te=ee.target===i._input,he=i._input.value.trimEnd()!==st();te&&he&&!(ee.relatedTarget&&me(ee.relatedTarget))&&i.setDate(i._input.value,!0,ee.target===i.altInput?i.config.altFormat:i.config.dateFormat)}function dt(ee){var te=yn(ee),he=i.config.wrap?t.contains(te):te===i._input,_e=i.config.allowInput,Ye=i.isOpen&&(!_e||!he),Je=i.config.inline&&he&&!_e;if(ee.keyCode===13&&he){if(_e)return i.setDate(i._input.value,!0,te===i.altInput?i.config.altFormat:i.config.dateFormat),i.close(),te.blur();i.open()}else if(me(te)||Ye||Je){var $t=!!i.timeContainer&&i.timeContainer.contains(te);switch(ee.keyCode){case 13:$t?(ee.preventDefault(),d(),Ai()):Wi(ee);break;case 27:ee.preventDefault(),Ai();break;case 8:case 46:he&&!i.config.allowInput&&(ee.preventDefault(),i.clear());break;case 37:case 39:if(!$t&&!he){ee.preventDefault();var bt=l();if(i.daysContainer!==void 0&&(_e===!1||bt&&tt(bt))){var jt=ee.keyCode===39?1:-1;ee.ctrlKey?(ee.stopPropagation(),Y(jt),N(F(1),0)):N(void 0,jt)}}else i.hourElement&&i.hourElement.focus();break;case 38:case 40:ee.preventDefault();var nt=ee.keyCode===40?1:-1;i.daysContainer&&te.$i!==void 0||te===i.input||te===i.altInput?ee.ctrlKey?(ee.stopPropagation(),Ae(i.currentYear-nt),N(F(1),0)):$t||N(void 0,nt*7):te===i.currentYearElement?Ae(i.currentYear-nt):i.config.enableTime&&(!$t&&i.hourElement&&i.hourElement.focus(),d(ee),i._debouncedChange());break;case 9:if($t){var Bt=[i.hourElement,i.minuteElement,i.secondElement,i.amPM].concat(i.pluginElements).filter(function(yr){return yr}),pi=Bt.indexOf(te);if(pi!==-1){var hr=Bt[pi+(ee.shiftKey?-1:1)];ee.preventDefault(),(hr||i._input).focus()}}else!i.config.noCalendar&&i.daysContainer&&i.daysContainer.contains(te)&&ee.shiftKey&&(ee.preventDefault(),i._input.focus());break}}if(i.amPM!==void 0&&te===i.amPM)switch(ee.key){case i.l10n.amPM[0].charAt(0):case i.l10n.amPM[0].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[0],v(),pt();break;case i.l10n.amPM[1].charAt(0):case i.l10n.amPM[1].charAt(0).toLowerCase():i.amPM.textContent=i.l10n.amPM[1],v(),pt();break}(he||me(te))&&ke("onKeyDown",ee)}function ft(ee,te){if(te===void 0&&(te="flatpickr-day"),!(i.selectedDates.length!==1||ee&&(!ee.classList.contains(te)||ee.classList.contains("flatpickr-disabled")))){for(var he=ee?ee.dateObj.getTime():i.days.firstElementChild.dateObj.getTime(),_e=i.parseDate(i.selectedDates[0],void 0,!0).getTime(),Ye=Math.min(he,i.selectedDates[0].getTime()),Je=Math.max(he,i.selectedDates[0].getTime()),$t=!1,bt=0,jt=0,nt=Ye;nt<Je;nt+=iV.DAY)$e(new Date(nt),!0)||($t=$t||nt>Ye&&nt<Je,nt<_e&&(!bt||nt>bt)?bt=nt:nt>_e&&(!jt||nt<jt)&&(jt=nt));var Bt=Array.from(i.rContainer.querySelectorAll("*:nth-child(-n+"+i.config.showMonths+") > ."+te));Bt.forEach(function(pi){var hr=pi.dateObj,yr=hr.getTime(),Kn=bt>0&&yr<bt||jt>0&&yr>jt;if(Kn){pi.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Nr){pi.classList.remove(Nr)});return}else if($t&&!Kn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Nr){pi.classList.remove(Nr)}),ee!==void 0&&(ee.classList.add(he<=i.selectedDates[0].getTime()?"startRange":"endRange"),_e<he&&yr===_e?pi.classList.add("startRange"):_e>he&&yr===_e&&pi.classList.add("endRange"),yr>=bt&&(jt===0||yr<=jt)&&eV(yr,_e,he)&&pi.classList.add("inRange"))})}}function Gt(){i.isOpen&&!i.config.static&&!i.config.inline&&Yi()}function Re(ee,te){if(te===void 0&&(te=i._positionElement),i.isMobile===!0){if(ee){ee.preventDefault();var he=yn(ee);he&&he.blur()}i.mobileInput!==void 0&&(i.mobileInput.focus(),i.mobileInput.click()),ke("onOpen");return}else if(i._input.disabled||i.config.inline)return;var _e=i.isOpen;i.isOpen=!0,_e||(i.calendarContainer.classList.add("open"),i._input.classList.add("active"),ke("onOpen"),Yi(te)),i.config.enableTime===!0&&i.config.noCalendar===!0&&i.config.allowInput===!1&&(ee===void 0||!i.timeContainer.contains(ee.relatedTarget))&&setTimeout(function(){return i.hourElement.select()},50)}function ri(ee){return function(te){var he=i.config["_"+ee+"Date"]=i.parseDate(te,i.config.dateFormat),_e=i.config["_"+(ee==="min"?"max":"min")+"Date"];he!==void 0&&(i[ee==="min"?"minDateHasTime":"maxDateHasTime"]=he.getHours()>0||he.getMinutes()>0||he.getSeconds()>0),i.selectedDates&&(i.selectedDates=i.selectedDates.filter(function(Ye){return $e(Ye)}),!i.selectedDates.length&&ee==="min"&&x(he),pt()),i.daysContainer&&(Br(),he!==void 0?i.currentYearElement[ee]=he.getFullYear().toString():i.currentYearElement.removeAttribute(ee),i.currentYearElement.disabled=!!_e&&he!==void 0&&_e.getFullYear()===he.getFullYear())}}function fi(){var ee=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],te=ks(ks({},JSON.parse(JSON.stringify(t.dataset||{}))),e),he={};i.config.parseDate=te.parseDate,i.config.formatDate=te.formatDate,Object.defineProperty(i.config,"enable",{get:function(){return i.config._enable},set:function(Bt){i.config._enable=Te(Bt)}}),Object.defineProperty(i.config,"disable",{get:function(){return i.config._disable},set:function(Bt){i.config._disable=Te(Bt)}});var _e=te.mode==="time";if(!te.dateFormat&&(te.enableTime||_e)){var Ye=Fr.defaultConfig.dateFormat||du.dateFormat;he.dateFormat=te.noCalendar||_e?"H:i"+(te.enableSeconds?":S":""):Ye+" H:i"+(te.enableSeconds?":S":"")}if(te.altInput&&(te.enableTime||_e)&&!te.altFormat){var Je=Fr.defaultConfig.altFormat||du.altFormat;he.altFormat=te.noCalendar||_e?"h:i"+(te.enableSeconds?":S K":" K"):Je+(" h:i"+(te.enableSeconds?":S":"")+" K")}Object.defineProperty(i.config,"minDate",{get:function(){return i.config._minDate},set:ri("min")}),Object.defineProperty(i.config,"maxDate",{get:function(){return i.config._maxDate},set:ri("max")});var $t=function(Bt){return function(pi){i.config[Bt==="min"?"_minTime":"_maxTime"]=i.parseDate(pi,"H:i:S")}};Object.defineProperty(i.config,"minTime",{get:function(){return i.config._minTime},set:$t("min")}),Object.defineProperty(i.config,"maxTime",{get:function(){return i.config._maxTime},set:$t("max")}),te.mode==="time"&&(i.config.noCalendar=!0,i.config.enableTime=!0),Object.assign(i.config,he,te);for(var bt=0;bt<ee.length;bt++)i.config[ee[bt]]=i.config[ee[bt]]===!0||i.config[ee[bt]]==="true";O1.filter(function(Bt){return i.config[Bt]!==void 0}).forEach(function(Bt){i.config[Bt]=M1(i.config[Bt]||[]).map(a)}),i.isMobile=!i.config.disableMobile&&!i.config.inline&&i.config.mode==="single"&&!i.config.disable.length&&!i.config.enable&&!i.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var bt=0;bt<i.config.plugins.length;bt++){var jt=i.config.plugins[bt](i)||{};for(var nt in jt)O1.indexOf(nt)>-1?i.config[nt]=M1(jt[nt]).map(a).concat(i.config[nt]):typeof te[nt]>"u"&&(i.config[nt]=jt[nt])}te.altInputClass||(i.config.altInputClass=ci().className+" "+i.config.altInputClass),ke("onParseConfig")}function ci(){return i.config.wrap?t.querySelector("[data-input]"):t}function Ve(){typeof i.config.locale!="object"&&typeof Fr.l10ns[i.config.locale]>"u"&&i.config.errorHandler(new Error("flatpickr: invalid locale "+i.config.locale)),i.l10n=ks(ks({},Fr.l10ns.default),typeof i.config.locale=="object"?i.config.locale:i.config.locale!=="default"?Fr.l10ns[i.config.locale]:void 0),Hc.D="("+i.l10n.weekdays.shorthand.join("|")+")",Hc.l="("+i.l10n.weekdays.longhand.join("|")+")",Hc.M="("+i.l10n.months.shorthand.join("|")+")",Hc.F="("+i.l10n.months.longhand.join("|")+")",Hc.K="("+i.l10n.amPM[0]+"|"+i.l10n.amPM[1]+"|"+i.l10n.amPM[0].toLowerCase()+"|"+i.l10n.amPM[1].toLowerCase()+")";var ee=ks(ks({},e),JSON.parse(JSON.stringify(t.dataset||{})));ee.time_24hr===void 0&&Fr.defaultConfig.time_24hr===void 0&&(i.config.time_24hr=i.l10n.time_24hr),i.formatDate=xF(i),i.parseDate=Bx({config:i.config,l10n:i.l10n})}function Yi(ee){if(typeof i.config.position=="function")return void i.config.position(i,ee);if(i.calendarContainer!==void 0){ke("onPreCalendarPosition");var te=ee||i._positionElement,he=Array.prototype.reduce.call(i.calendarContainer.children,function(kt,Gi){return kt+Gi.offsetHeight},0),_e=i.calendarContainer.offsetWidth,Ye=i.config.position.split(" "),Je=Ye[0],$t=Ye.length>1?Ye[1]:null,bt=te.getBoundingClientRect(),jt=window.innerHeight-bt.bottom,nt=Je==="above"||Je!=="below"&&jt<he&&bt.top>he,Bt=window.pageYOffset+bt.top+(nt?-he-2:te.offsetHeight+2);if(Ns(i.calendarContainer,"arrowTop",!nt),Ns(i.calendarContainer,"arrowBottom",nt),!i.config.inline){var pi=window.pageXOffset+bt.left,hr=!1,yr=!1;$t==="center"?(pi-=(_e-bt.width)/2,hr=!0):$t==="right"&&(pi-=_e-bt.width,yr=!0),Ns(i.calendarContainer,"arrowLeft",!hr&&!yr),Ns(i.calendarContainer,"arrowCenter",hr),Ns(i.calendarContainer,"arrowRight",yr);var Kn=window.document.body.offsetWidth-(window.pageXOffset+bt.right),Nr=pi+_e>window.document.body.offsetWidth,Bl=Kn+_e>window.document.body.offsetWidth;if(Ns(i.calendarContainer,"rightMost",Nr),!i.config.static)if(i.calendarContainer.style.top=Bt+"px",!Nr)i.calendarContainer.style.left=pi+"px",i.calendarContainer.style.right="auto";else if(!Bl)i.calendarContainer.style.left="auto",i.calendarContainer.style.right=Kn+"px";else{var to=Fi();if(to===void 0)return;var Nl=window.document.body.offsetWidth,zl=Math.max(0,Nl/2-_e/2),xh=".flatpickr-calendar.centerMost:before",Mt=".flatpickr-calendar.centerMost:after",fe=to.cssRules.length,Ke="{left:"+bt.left+"px;right:auto;}";Ns(i.calendarContainer,"rightMost",!1),Ns(i.calendarContainer,"centerMost",!0),to.insertRule(xh+","+Mt+Ke,fe),i.calendarContainer.style.left=zl+"px",i.calendarContainer.style.right="auto"}}}}function Fi(){for(var ee=null,te=0;te<document.styleSheets.length;te++){var he=document.styleSheets[te];if(he.cssRules){try{he.cssRules}catch{continue}ee=he;break}}return ee??Or()}function Or(){var ee=document.createElement("style");return document.head.appendChild(ee),ee.sheet}function Br(){i.config.noCalendar||i.isMobile||(M(),De(),w())}function Ai(){i._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(i.close,0):i.close()}function Wi(ee){ee.preventDefault(),ee.stopPropagation();var te=function(Bt){return Bt.classList&&Bt.classList.contains("flatpickr-day")&&!Bt.classList.contains("flatpickr-disabled")&&!Bt.classList.contains("notAllowed")},he=wF(yn(ee),te);if(he!==void 0){var _e=he,Ye=i.latestSelectedDateObj=new Date(_e.dateObj.getTime()),Je=(Ye.getMonth()<i.currentMonth||Ye.getMonth()>i.currentMonth+i.config.showMonths-1)&&i.config.mode!=="range";if(i.selectedDateElem=_e,i.config.mode==="single")i.selectedDates=[Ye];else if(i.config.mode==="multiple"){var $t=Ee(Ye);$t?i.selectedDates.splice(parseInt($t),1):i.selectedDates.push(Ye)}else i.config.mode==="range"&&(i.selectedDates.length===2&&i.clear(!1,!1),i.latestSelectedDateObj=Ye,i.selectedDates.push(Ye),bn(Ye,i.selectedDates[0],!0)!==0&&i.selectedDates.sort(function(Bt,pi){return Bt.getTime()-pi.getTime()}));if(v(),Je){var bt=i.currentYear!==Ye.getFullYear();i.currentYear=Ye.getFullYear(),i.currentMonth=Ye.getMonth(),bt&&(ke("onYearChange"),M()),ke("onMonthChange")}if(De(),w(),pt(),!Je&&i.config.mode!=="range"&&i.config.showMonths===1?A(_e):i.selectedDateElem!==void 0&&i.hourElement===void 0&&i.selectedDateElem&&i.selectedDateElem.focus(),i.hourElement!==void 0&&i.hourElement!==void 0&&i.hourElement.focus(),i.config.closeOnSelect){var jt=i.config.mode==="single"&&!i.config.enableTime,nt=i.config.mode==="range"&&i.selectedDates.length===2&&!i.config.enableTime;(jt||nt)&&Ai()}P()}}var Q={locale:[Ve,ae],showMonths:[I,h,$],minDate:[u],maxDate:[u],positionElement:[vt],clickOpens:[function(){i.config.clickOpens===!0?(O(i._input,"focus",i.open),O(i._input,"click",i.open)):(i._input.removeEventListener("focus",i.open),i._input.removeEventListener("click",i.open))}]};function ce(ee,te){if(ee!==null&&typeof ee=="object"){Object.assign(i.config,ee);for(var he in ee)Q[he]!==void 0&&Q[he].forEach(function(_e){return _e()})}else i.config[ee]=te,Q[ee]!==void 0?Q[ee].forEach(function(_e){return _e()}):O1.indexOf(ee)>-1&&(i.config[ee]=M1(te));i.redraw(),pt(!0)}function oe(ee,te){var he=[];if(ee instanceof Array)he=ee.map(function(_e){return i.parseDate(_e,te)});else if(ee instanceof Date||typeof ee=="number")he=[i.parseDate(ee,te)];else if(typeof ee=="string")switch(i.config.mode){case"single":case"time":he=[i.parseDate(ee,te)];break;case"multiple":he=ee.split(i.config.conjunction).map(function(_e){return i.parseDate(_e,te)});break;case"range":he=ee.split(i.l10n.rangeSeparator).map(function(_e){return i.parseDate(_e,te)});break}else i.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ee)));i.selectedDates=i.config.allowInvalidPreload?he:he.filter(function(_e){return _e instanceof Date&&$e(_e,!1)}),i.config.mode==="range"&&i.selectedDates.sort(function(_e,Ye){return _e.getTime()-Ye.getTime()})}function Se(ee,te,he){if(te===void 0&&(te=!1),he===void 0&&(he=i.config.dateFormat),ee!==0&&!ee||ee instanceof Array&&ee.length===0)return i.clear(te);oe(ee,he),i.latestSelectedDateObj=i.selectedDates[i.selectedDates.length-1],i.redraw(),u(void 0,te),x(),i.selectedDates.length===0&&i.clear(!1),pt(te),te&&ke("onChange")}function Te(ee){return ee.slice().map(function(te){return typeof te=="string"||typeof te=="number"||te instanceof Date?i.parseDate(te,void 0,!0):te&&typeof te=="object"&&te.from&&te.to?{from:i.parseDate(te.from,void 0),to:i.parseDate(te.to,void 0)}:te}).filter(function(te){return te})}function Me(){i.selectedDates=[],i.now=i.parseDate(i.config.now)||new Date;var ee=i.config.defaultDate||((i.input.nodeName==="INPUT"||i.input.nodeName==="TEXTAREA")&&i.input.placeholder&&i.input.value===i.input.placeholder?null:i.input.value);ee&&oe(ee,i.config.dateFormat),i._initialDate=i.selectedDates.length>0?i.selectedDates[0]:i.config.minDate&&i.config.minDate.getTime()>i.now.getTime()?i.config.minDate:i.config.maxDate&&i.config.maxDate.getTime()<i.now.getTime()?i.config.maxDate:i.now,i.currentYear=i._initialDate.getFullYear(),i.currentMonth=i._initialDate.getMonth(),i.selectedDates.length>0&&(i.latestSelectedDateObj=i.selectedDates[0]),i.config.minTime!==void 0&&(i.config.minTime=i.parseDate(i.config.minTime,"H:i")),i.config.maxTime!==void 0&&(i.config.maxTime=i.parseDate(i.config.maxTime,"H:i")),i.minDateHasTime=!!i.config.minDate&&(i.config.minDate.getHours()>0||i.config.minDate.getMinutes()>0||i.config.minDate.getSeconds()>0),i.maxDateHasTime=!!i.config.maxDate&&(i.config.maxDate.getHours()>0||i.config.maxDate.getMinutes()>0||i.config.maxDate.getSeconds()>0)}function it(){if(i.input=ci(),!i.input){i.config.errorHandler(new Error("Invalid input element specified"));return}i.input._type=i.input.type,i.input.type="text",i.input.classList.add("flatpickr-input"),i._input=i.input,i.config.altInput&&(i.altInput=Ri(i.input.nodeName,i.config.altInputClass),i._input=i.altInput,i.altInput.placeholder=i.input.placeholder,i.altInput.disabled=i.input.disabled,i.altInput.required=i.input.required,i.altInput.tabIndex=i.input.tabIndex,i.altInput.type="text",i.input.setAttribute("type","hidden"),!i.config.static&&i.input.parentNode&&i.input.parentNode.insertBefore(i.altInput,i.input.nextSibling)),i.config.allowInput||i._input.setAttribute("readonly","readonly"),vt()}function vt(){i._positionElement=i.config.positionElement||i._input}function Ct(){var ee=i.config.enableTime?i.config.noCalendar?"time":"datetime-local":"date";i.mobileInput=Ri("input",i.input.className+" flatpickr-mobile"),i.mobileInput.tabIndex=1,i.mobileInput.type=ee,i.mobileInput.disabled=i.input.disabled,i.mobileInput.required=i.input.required,i.mobileInput.placeholder=i.input.placeholder,i.mobileFormatStr=ee==="datetime-local"?"Y-m-d\\TH:i:S":ee==="date"?"Y-m-d":"H:i:S",i.selectedDates.length>0&&(i.mobileInput.defaultValue=i.mobileInput.value=i.formatDate(i.selectedDates[0],i.mobileFormatStr)),i.config.minDate&&(i.mobileInput.min=i.formatDate(i.config.minDate,"Y-m-d")),i.config.maxDate&&(i.mobileInput.max=i.formatDate(i.config.maxDate,"Y-m-d")),i.input.getAttribute("step")&&(i.mobileInput.step=String(i.input.getAttribute("step"))),i.input.type="hidden",i.altInput!==void 0&&(i.altInput.type="hidden");try{i.input.parentNode&&i.input.parentNode.insertBefore(i.mobileInput,i.input.nextSibling)}catch{}O(i.mobileInput,"change",function(te){i.setDate(yn(te).value,!1,i.mobileFormatStr),ke("onChange"),ke("onClose")})}function re(ee){if(i.isOpen===!0)return i.close();i.open(ee)}function ke(ee,te){if(i.config!==void 0){var he=i.config[ee];if(he!==void 0&&he.length>0)for(var _e=0;he[_e]&&_e<he.length;_e++)he[_e](i.selectedDates,i.input.value,i,te);ee==="onChange"&&(i.input.dispatchEvent(Be("change")),i.input.dispatchEvent(Be("input")))}}function Be(ee){var te=document.createEvent("Event");return te.initEvent(ee,!0,!0),te}function Ee(ee){for(var te=0;te<i.selectedDates.length;te++){var he=i.selectedDates[te];if(he instanceof Date&&bn(he,ee)===0)return""+te}return!1}function Fe(ee){return i.config.mode!=="range"||i.selectedDates.length<2?!1:bn(ee,i.selectedDates[0])>=0&&bn(ee,i.selectedDates[1])<=0}function De(){i.config.noCalendar||i.isMobile||!i.monthNav||(i.yearElements.forEach(function(ee,te){var he=new Date(i.currentYear,i.currentMonth,1);he.setMonth(i.currentMonth+te),i.config.showMonths>1||i.config.monthSelectorType==="static"?i.monthElements[te].textContent=Xy(he.getMonth(),i.config.shorthandCurrentMonth,i.l10n)+" ":i.monthsDropdownContainer.value=he.getMonth().toString(),ee.value=he.getFullYear().toString()}),i._hidePrevMonthArrow=i.config.minDate!==void 0&&(i.currentYear===i.config.minDate.getFullYear()?i.currentMonth<=i.config.minDate.getMonth():i.currentYear<i.config.minDate.getFullYear()),i._hideNextMonthArrow=i.config.maxDate!==void 0&&(i.currentYear===i.config.maxDate.getFullYear()?i.currentMonth+1>i.config.maxDate.getMonth():i.currentYear>i.config.maxDate.getFullYear()))}function st(ee){var te=ee||(i.config.altInput?i.config.altFormat:i.config.dateFormat);return i.selectedDates.map(function(he){return i.formatDate(he,te)}).filter(function(he,_e,Ye){return i.config.mode!=="range"||i.config.enableTime||Ye.indexOf(he)===_e}).join(i.config.mode!=="range"?i.config.conjunction:i.l10n.rangeSeparator)}function pt(ee){ee===void 0&&(ee=!0),i.mobileInput!==void 0&&i.mobileFormatStr&&(i.mobileInput.value=i.latestSelectedDateObj!==void 0?i.formatDate(i.latestSelectedDateObj,i.mobileFormatStr):""),i.input.value=st(i.config.dateFormat),i.altInput!==void 0&&(i.altInput.value=st(i.config.altFormat)),ee!==!1&&ke("onValueUpdate")}function ii(ee){var te=yn(ee),he=i.prevMonthNav.contains(te),_e=i.nextMonthNav.contains(te);he||_e?Y(he?-1:1):i.yearElements.indexOf(te)>=0?te.select():te.classList.contains("arrowUp")?i.changeYear(i.currentYear+1):te.classList.contains("arrowDown")&&i.changeYear(i.currentYear-1)}function oi(ee){ee.preventDefault();var te=ee.type==="keydown",he=yn(ee),_e=he;i.amPM!==void 0&&he===i.amPM&&(i.amPM.textContent=i.l10n.amPM[Fn(i.amPM.textContent===i.l10n.amPM[0])]);var Ye=parseFloat(_e.getAttribute("min")),Je=parseFloat(_e.getAttribute("max")),$t=parseFloat(_e.getAttribute("step")),bt=parseInt(_e.value,10),jt=ee.delta||(te?ee.which===38?1:-1:0),nt=bt+$t*jt;if(typeof _e.value<"u"&&_e.value.length===2){var Bt=_e===i.hourElement,pi=_e===i.minuteElement;nt<Ye?(nt=Je+nt+Fn(!Bt)+(Fn(Bt)&&Fn(!i.amPM)),pi&&y(void 0,-1,i.hourElement)):nt>Je&&(nt=_e===i.hourElement?nt-Je-Fn(!i.amPM):Ye,pi&&y(void 0,1,i.hourElement)),i.amPM&&Bt&&($t===1?nt+bt===23:Math.abs(nt-bt)>$t)&&(i.amPM.textContent=i.l10n.amPM[Fn(i.amPM.textContent===i.l10n.amPM[0])]),_e.value=en(nt)}}return n(),i}function fu(t,e){for(var i=Array.prototype.slice.call(t).filter(function(a){return a instanceof HTMLElement}),s=[],n=0;n<i.length;n++){var l=i[n];try{if(l.getAttribute("data-fp-omit")!==null)continue;l._flatpickr!==void 0&&(l._flatpickr.destroy(),l._flatpickr=void 0),l._flatpickr=sV(l,e||{}),s.push(l._flatpickr)}catch(a){console.error(a)}}return s.length===1?s[0]:s}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return fu(this,t)},HTMLElement.prototype.flatpickr=function(t){return fu([this],t)});var Fr=function(t,e){return typeof t=="string"?fu(window.document.querySelectorAll(t),e):t instanceof Node?fu([t],e):fu(t,e)};Fr.defaultConfig={};Fr.l10ns={en:ks({},Lp),default:ks({},Lp)};Fr.localize=function(t){Fr.l10ns.default=ks(ks({},Fr.l10ns.default),t)};Fr.setDefaults=function(t){Fr.defaultConfig=ks(ks({},Fr.defaultConfig),t)};Fr.parseDate=Bx({});Fr.formatDate=xF({});Fr.compareDates=bn;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return fu(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=Fr);/**!
 * Sortable 1.15.7
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function nV(t,e,i){return(e=cV(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Wo(){return Wo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)({}).hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Wo.apply(null,arguments)}function ID(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,s)}return i}function $a(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?ID(Object(i),!0).forEach(function(s){nV(t,s,i[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ID(Object(i)).forEach(function(s){Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(i,s))})}return t}function aV(t,e){if(t==null)return{};var i,s,n=oV(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(s=0;s<l.length;s++)i=l[s],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function oV(t,e){if(t==null)return{};var i={};for(var s in t)if({}.hasOwnProperty.call(t,s)){if(e.indexOf(s)!==-1)continue;i[s]=t[s]}return i}function lV(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var s=i.call(t,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cV(t){var e=lV(t,"string");return typeof e=="symbol"?e:e+""}function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}var hV="1.15.7";function No(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Xo=No(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),im=No(/Edge/i),BD=No(/firefox/i),dp=No(/safari/i)&&!No(/chrome/i)&&!No(/android/i),bS=No(/iP(ad|od|hone)/i),kF=No(/chrome/i)&&No(/android/i),SF={capture:!1,passive:!1};function xi(t,e,i){t.addEventListener(e,i,!Xo&&SF)}function _i(t,e,i){t.removeEventListener(e,i,!Xo&&SF)}function Ky(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function TF(t){return t.host&&t!==document&&t.host.nodeType&&t.host!==t?t.host:t.parentNode}function ua(t,e,i,s){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&Ky(t,e):Ky(t,e))||s&&t===i)return t;if(t===i)break}while(t=TF(t))}return null}var ND=/\s+/g;function _n(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var s=(" "+t.className+" ").replace(ND," ").replace(" "+e+" "," ");t.className=(s+(i?" "+e:"")).replace(ND," ")}}function Qt(t,e,i){var s=t&&t.style;if(s){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in s)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),s[e]=i+(typeof i=="string"?"":"px")}}function pu(t,e){var i="";if(typeof t=="string")i=t;else do{var s=Qt(t,"transform");s&&s!=="none"&&(i=s+" "+i)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function CF(t,e,i){if(t){var s=t.getElementsByTagName(e),n=0,l=s.length;if(i)for(;n<l;n++)i(s[n],n);return s}return[]}function Ha(){var t=document.scrollingElement;return t||document.documentElement}function Rr(t,e,i,s,n){if(!(!t.getBoundingClientRect&&t!==window)){var l,a,h,d,f,g,v;if(t!==window&&t.parentNode&&t!==Ha()?(l=t.getBoundingClientRect(),a=l.top,h=l.left,d=l.bottom,f=l.right,g=l.height,v=l.width):(a=0,h=0,d=window.innerHeight,f=window.innerWidth,g=window.innerHeight,v=window.innerWidth),(e||i)&&t!==window&&(n=n||t.parentNode,!Xo))do if(n&&n.getBoundingClientRect&&(Qt(n,"transform")!=="none"||i&&Qt(n,"position")!=="static")){var x=n.getBoundingClientRect();a-=x.top+parseInt(Qt(n,"border-top-width")),h-=x.left+parseInt(Qt(n,"border-left-width")),d=a+l.height,f=h+l.width;break}while(n=n.parentNode);if(s&&t!==window){var b=pu(n||t),C=b&&b.a,O=b&&b.d;b&&(a/=O,h/=C,v/=C,g/=O,d=a+g,f=h+v)}return{top:a,left:h,bottom:d,right:f,width:v,height:g}}}function zD(t,e,i){for(var s=_l(t,!0),n=Rr(t)[e];s;){var l=Rr(s)[i],a=void 0;if(a=n>=l,!a)return s;if(s===Ha())break;s=_l(s,!1)}return!1}function Ou(t,e,i,s){for(var n=0,l=0,a=t.children;l<a.length;){if(a[l].style.display!=="none"&&a[l]!==Jt.ghost&&(s||a[l]!==Jt.dragged)&&ua(a[l],i.draggable,t,!1)){if(n===e)return a[l];n++}l++}return null}function _S(t,e){for(var i=t.lastElementChild;i&&(i===Jt.ghost||Qt(i,"display")==="none"||e&&!Ky(i,e));)i=i.previousElementSibling;return i||null}function In(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==Jt.clone&&(!e||Ky(t,e))&&i++;return i}function UD(t){var e=0,i=0,s=Ha();if(t)do{var n=pu(t),l=n.a,a=n.d;e+=t.scrollLeft*l,i+=t.scrollTop*a}while(t!==s&&(t=t.parentNode));return[e,i]}function uV(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var s in e)if(e.hasOwnProperty(s)&&e[s]===t[i][s])return Number(i)}return-1}function _l(t,e){if(!t||!t.getBoundingClientRect)return Ha();var i=t,s=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=Qt(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Ha();if(s||e)return i;s=!0}}while(i=i.parentNode);return Ha()}function dV(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function L1(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var fp;function EF(t,e){return function(){if(!fp){var i=arguments,s=this;i.length===1?t.call(s,i[0]):t.apply(s,i),fp=setTimeout(function(){fp=void 0},e)}}}function fV(){clearTimeout(fp),fp=void 0}function OF(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function MF(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function AF(t,e,i){var s={};return Array.from(t.children).forEach(function(n){var l,a,h,d;if(!(!ua(n,e.draggable,t,!1)||n.animated||n===i)){var f=Rr(n);s.left=Math.min((l=s.left)!==null&&l!==void 0?l:1/0,f.left),s.top=Math.min((a=s.top)!==null&&a!==void 0?a:1/0,f.top),s.right=Math.max((h=s.right)!==null&&h!==void 0?h:-1/0,f.right),s.bottom=Math.max((d=s.bottom)!==null&&d!==void 0?d:-1/0,f.bottom)}}),s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}var rn="Sortable"+new Date().getTime();function pV(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var s=[].slice.call(this.el.children);s.forEach(function(n){if(!(Qt(n,"display")==="none"||n===Jt.ghost)){t.push({target:n,rect:Rr(n)});var l=$a({},t[t.length-1].rect);if(n.thisAnimationDuration){var a=pu(n,!0);a&&(l.top-=a.f,l.left-=a.e)}n.fromRect=l}})}},addAnimationState:function(s){t.push(s)},removeAnimationState:function(s){t.splice(uV(t,{target:s}),1)},animateAll:function(s){var n=this;if(!this.options.animation){clearTimeout(e),typeof s=="function"&&s();return}var l=!1,a=0;t.forEach(function(h){var d=0,f=h.target,g=f.fromRect,v=Rr(f),x=f.prevFromRect,b=f.prevToRect,C=h.rect,O=pu(f,!0);O&&(v.top-=O.f,v.left-=O.e),f.toRect=v,f.thisAnimationDuration&&L1(x,v)&&!L1(g,v)&&(C.top-v.top)/(C.left-v.left)===(g.top-v.top)/(g.left-v.left)&&(d=gV(C,x,b,n.options)),L1(v,g)||(f.prevFromRect=g,f.prevToRect=v,d||(d=n.options.animation),n.animate(f,C,v,d)),d&&(l=!0,a=Math.max(a,d),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},d),f.thisAnimationDuration=d)}),clearTimeout(e),l?e=setTimeout(function(){typeof s=="function"&&s()},a):typeof s=="function"&&s(),t=[]},animate:function(s,n,l,a){if(a){Qt(s,"transition",""),Qt(s,"transform","");var h=pu(this.el),d=h&&h.a,f=h&&h.d,g=(n.left-l.left)/(d||1),v=(n.top-l.top)/(f||1);s.animatingX=!!g,s.animatingY=!!v,Qt(s,"transform","translate3d("+g+"px,"+v+"px,0)"),this.forRepaintDummy=mV(s),Qt(s,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),Qt(s,"transform","translate3d(0,0,0)"),typeof s.animated=="number"&&clearTimeout(s.animated),s.animated=setTimeout(function(){Qt(s,"transition",""),Qt(s,"transform",""),s.animated=!1,s.animatingX=!1,s.animatingY=!1},a)}}}}function mV(t){return t.offsetWidth}function gV(t,e,i,s){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*s.animation}var Gh=[],R1={initializeByDefault:!0},rm={mount:function(e){for(var i in R1)R1.hasOwnProperty(i)&&!(i in e)&&(e[i]=R1[i]);Gh.forEach(function(s){if(s.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Gh.push(e)},pluginEvent:function(e,i,s){var n=this;this.eventCanceled=!1,s.cancel=function(){n.eventCanceled=!0};var l=e+"Global";Gh.forEach(function(a){i[a.pluginName]&&(i[a.pluginName][l]&&i[a.pluginName][l]($a({sortable:i},s)),i.options[a.pluginName]&&i[a.pluginName][e]&&i[a.pluginName][e]($a({sortable:i},s)))})},initializePlugins:function(e,i,s,n){Gh.forEach(function(h){var d=h.pluginName;if(!(!e.options[d]&&!h.initializeByDefault)){var f=new h(e,i,e.options);f.sortable=e,f.options=e.options,e[d]=f,Wo(s,f.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);typeof a<"u"&&(e.options[l]=a)}},getEventProperties:function(e,i){var s={};return Gh.forEach(function(n){typeof n.eventProperties=="function"&&Wo(s,n.eventProperties.call(i[n.pluginName],e))}),s},modifyOption:function(e,i,s){var n;return Gh.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[i]=="function"&&(n=l.optionListeners[i].call(e[l.pluginName],s))}),n}};function yV(t){var e=t.sortable,i=t.rootEl,s=t.name,n=t.targetEl,l=t.cloneEl,a=t.toEl,h=t.fromEl,d=t.oldIndex,f=t.newIndex,g=t.oldDraggableIndex,v=t.newDraggableIndex,x=t.originalEvent,b=t.putSortable,C=t.extraEventProperties;if(e=e||i&&i[rn],!!e){var O,P=e.options,L="on"+s.charAt(0).toUpperCase()+s.substr(1);window.CustomEvent&&!Xo&&!im?O=new CustomEvent(s,{bubbles:!0,cancelable:!0}):(O=document.createEvent("Event"),O.initEvent(s,!0,!0)),O.to=a||i,O.from=h||i,O.item=n||i,O.clone=l,O.oldIndex=d,O.newIndex=f,O.oldDraggableIndex=g,O.newDraggableIndex=v,O.originalEvent=x,O.pullMode=b?b.lastPutMode:void 0;var u=$a($a({},C),rm.getEventProperties(s,e));for(var S in u)O[S]=u[S];i&&i.dispatchEvent(O),P[L]&&P[L].call(e,O)}}var vV=["evt"],Zs=function(e,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=s.evt,l=aV(s,vV);rm.pluginEvent.bind(Jt)(e,i,$a({dragEl:ct,parentEl:gr,ghostEl:ai,rootEl:or,nextEl:Fc,lastDownEl:ky,cloneEl:pr,cloneHidden:yl,dragStarted:Jf,putSortable:us,activeSortable:Jt.active,originalEvent:n,oldIndex:ou,oldDraggableIndex:pp,newIndex:wn,newDraggableIndex:ml,hideGhostForTarget:RF,unhideGhostForTarget:FF,cloneNowHidden:function(){yl=!0},cloneNowShown:function(){yl=!1},dispatchSortableEvent:function(h){Us({sortable:i,name:h,originalEvent:n})}},l))};function Us(t){yV($a({putSortable:us,cloneEl:pr,targetEl:ct,rootEl:or,oldIndex:ou,oldDraggableIndex:pp,newIndex:wn,newDraggableIndex:ml},t))}var ct,gr,ai,or,Fc,ky,pr,yl,ou,wn,pp,ml,ty,us,tu=!1,Zy=!1,Qy=[],Dc,ca,F1,I1,HD,WD,Jf,Xh,mp,gp=!1,iy=!1,Sy,_s,B1=[],zx=!1,Jy=[],rb=typeof document<"u",ry=bS,jD=im||Xo?"cssFloat":"float",bV=rb&&!kF&&!bS&&"draggable"in document.createElement("div"),PF=function(){if(rb){if(Xo)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),DF=function(e,i){var s=Qt(e),n=parseInt(s.width)-parseInt(s.paddingLeft)-parseInt(s.paddingRight)-parseInt(s.borderLeftWidth)-parseInt(s.borderRightWidth),l=Ou(e,0,i),a=Ou(e,1,i),h=l&&Qt(l),d=a&&Qt(a),f=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+Rr(l).width,g=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Rr(a).width;if(s.display==="flex")return s.flexDirection==="column"||s.flexDirection==="column-reverse"?"vertical":"horizontal";if(s.display==="grid")return s.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&h.float&&h.float!=="none"){var v=h.float==="left"?"left":"right";return a&&(d.clear==="both"||d.clear===v)?"vertical":"horizontal"}return l&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||f>=n&&s[jD]==="none"||a&&s[jD]==="none"&&f+g>n)?"vertical":"horizontal"},_V=function(e,i,s){var n=s?e.left:e.top,l=s?e.right:e.bottom,a=s?e.width:e.height,h=s?i.left:i.top,d=s?i.right:i.bottom,f=s?i.width:i.height;return n===h||l===d||n+a/2===h+f/2},wV=function(e,i){var s;return Qy.some(function(n){var l=n[rn].options.emptyInsertThreshold;if(!(!l||_S(n))){var a=Rr(n),h=e>=a.left-l&&e<=a.right+l,d=i>=a.top-l&&i<=a.bottom+l;if(h&&d)return s=n}}),s},LF=function(e){function i(l,a){return function(h,d,f,g){var v=h.options.group.name&&d.options.group.name&&h.options.group.name===d.options.group.name;if(l==null&&(a||v))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return i(l(h,d,f,g),a)(h,d,f,g);var x=(a?h:d).options.group.name;return l===!0||typeof l=="string"&&l===x||l.join&&l.indexOf(x)>-1}}var s={},n=e.group;(!n||Nx(n)!="object")&&(n={name:n}),s.name=n.name,s.checkPull=i(n.pull,!0),s.checkPut=i(n.put),s.revertClone=n.revertClone,e.group=s},RF=function(){!PF&&ai&&Qt(ai,"display","none")},FF=function(){!PF&&ai&&Qt(ai,"display","")};rb&&!kF&&document.addEventListener("click",function(t){if(Zy)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Zy=!1,!1},!0);var Lc=function(e){if(ct){e=e.touches?e.touches[0]:e;var i=wV(e.clientX,e.clientY);if(i){var s={};for(var n in e)e.hasOwnProperty(n)&&(s[n]=e[n]);s.target=s.rootEl=i,s.preventDefault=void 0,s.stopPropagation=void 0,i[rn]._onDragOver(s)}}},xV=function(e){ct&&ct.parentNode[rn]._isOutsideThisEl(e.target)};function Jt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Wo({},e),t[rn]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return DF(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,h){a.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Jt.supportPointer!==!1&&"PointerEvent"in window&&(!dp||bS),emptyInsertThreshold:5};rm.initializePlugins(this,t,i);for(var s in i)!(s in e)&&(e[s]=i[s]);LF(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:bV,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?xi(t,"pointerdown",this._onTapStart):(xi(t,"mousedown",this._onTapStart),xi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(xi(t,"dragover",this),xi(t,"dragenter",this)),Qy.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Wo(this,pV())}Jt.prototype={constructor:Jt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Xh=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,ct):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,s=this.el,n=this.options,l=n.preventOnFilter,a=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,d=(h||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||d,g=n.filter;if(AV(s),!ct&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||n.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&dp&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=ua(d,n.draggable,s,!1),!(d&&d.animated)&&ky!==d)){if(ou=In(d),pp=In(d,n.draggable),typeof g=="function"){if(g.call(this,e,d,this)){Us({sortable:i,rootEl:f,name:"filter",targetEl:d,toEl:s,fromEl:s}),Zs("filter",i,{evt:e}),l&&e.preventDefault();return}}else if(g&&(g=g.split(",").some(function(v){if(v=ua(f,v.trim(),s,!1),v)return Us({sortable:i,rootEl:v,name:"filter",targetEl:d,fromEl:s,toEl:s}),Zs("filter",i,{evt:e}),!0}),g)){l&&e.preventDefault();return}n.handle&&!ua(f,n.handle,s,!1)||this._prepareDragStart(e,h,d)}}},_prepareDragStart:function(e,i,s){var n=this,l=n.el,a=n.options,h=l.ownerDocument,d;if(s&&!ct&&s.parentNode===l){var f=Rr(s);if(or=l,ct=s,gr=ct.parentNode,Fc=ct.nextSibling,ky=s,ty=a.group,Jt.dragged=ct,Dc={target:ct,clientX:(i||e).clientX,clientY:(i||e).clientY},HD=Dc.clientX-f.left,WD=Dc.clientY-f.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,ct.style["will-change"]="all",d=function(){if(Zs("delayEnded",n,{evt:e}),Jt.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!BD&&n.nativeDraggable&&(ct.draggable=!0),n._triggerDragStart(e,i),Us({sortable:n,name:"choose",originalEvent:e}),_n(ct,a.chosenClass,!0)},a.ignore.split(",").forEach(function(g){CF(ct,g.trim(),N1)}),xi(h,"dragover",Lc),xi(h,"mousemove",Lc),xi(h,"touchmove",Lc),a.supportPointer?(xi(h,"pointerup",n._onDrop),!this.nativeDraggable&&xi(h,"pointercancel",n._onDrop)):(xi(h,"mouseup",n._onDrop),xi(h,"touchend",n._onDrop),xi(h,"touchcancel",n._onDrop)),BD&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ct.draggable=!0),Zs("delayStart",this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(im||Xo))){if(Jt.eventCanceled){this._onDrop();return}a.supportPointer?(xi(h,"pointerup",n._disableDelayedDrag),xi(h,"pointercancel",n._disableDelayedDrag)):(xi(h,"mouseup",n._disableDelayedDrag),xi(h,"touchend",n._disableDelayedDrag),xi(h,"touchcancel",n._disableDelayedDrag)),xi(h,"mousemove",n._delayedDragTouchMoveHandler),xi(h,"touchmove",n._delayedDragTouchMoveHandler),a.supportPointer&&xi(h,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(d,a.delay)}else d()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ct&&N1(ct),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_i(e,"mouseup",this._disableDelayedDrag),_i(e,"touchend",this._disableDelayedDrag),_i(e,"touchcancel",this._disableDelayedDrag),_i(e,"pointerup",this._disableDelayedDrag),_i(e,"pointercancel",this._disableDelayedDrag),_i(e,"mousemove",this._delayedDragTouchMoveHandler),_i(e,"touchmove",this._delayedDragTouchMoveHandler),_i(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?xi(document,"pointermove",this._onTouchMove):i?xi(document,"touchmove",this._onTouchMove):xi(document,"mousemove",this._onTouchMove):(xi(ct,"dragend",this),xi(or,"dragstart",this._onDragStart));try{document.selection?Ty(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(tu=!1,or&&ct){Zs("dragStarted",this,{evt:i}),this.nativeDraggable&&xi(document,"dragover",xV);var s=this.options;!e&&_n(ct,s.dragClass,!1),_n(ct,s.ghostClass,!0),Jt.active=this,e&&this._appendGhost(),Us({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(ca){this._lastX=ca.clientX,this._lastY=ca.clientY,RF();for(var e=document.elementFromPoint(ca.clientX,ca.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ca.clientX,ca.clientY),e!==i);)i=e;if(ct.parentNode[rn]._isOutsideThisEl(e),i)do{if(i[rn]){var s=void 0;if(s=i[rn]._onDragOver({clientX:ca.clientX,clientY:ca.clientY,target:e,rootEl:i}),s&&!this.options.dragoverBubble)break}e=i}while(i=TF(i));FF()}},_onTouchMove:function(e){if(Dc){var i=this.options,s=i.fallbackTolerance,n=i.fallbackOffset,l=e.touches?e.touches[0]:e,a=ai&&pu(ai,!0),h=ai&&a&&a.a,d=ai&&a&&a.d,f=ry&&_s&&UD(_s),g=(l.clientX-Dc.clientX+n.x)/(h||1)+(f?f[0]-B1[0]:0)/(h||1),v=(l.clientY-Dc.clientY+n.y)/(d||1)+(f?f[1]-B1[1]:0)/(d||1);if(!Jt.active&&!tu){if(s&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<s)return;this._onDragStart(e,!0)}if(ai){a?(a.e+=g-(F1||0),a.f+=v-(I1||0)):a={a:1,b:0,c:0,d:1,e:g,f:v};var x="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");Qt(ai,"webkitTransform",x),Qt(ai,"mozTransform",x),Qt(ai,"msTransform",x),Qt(ai,"transform",x),F1=g,I1=v,ca=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ai){var e=this.options.fallbackOnBody?document.body:or,i=Rr(ct,!0,ry,!0,e),s=this.options;if(ry){for(_s=e;Qt(_s,"position")==="static"&&Qt(_s,"transform")==="none"&&_s!==document;)_s=_s.parentNode;_s!==document.body&&_s!==document.documentElement?(_s===document&&(_s=Ha()),i.top+=_s.scrollTop,i.left+=_s.scrollLeft):_s=Ha(),B1=UD(_s)}ai=ct.cloneNode(!0),_n(ai,s.ghostClass,!1),_n(ai,s.fallbackClass,!0),_n(ai,s.dragClass,!0),Qt(ai,"transition",""),Qt(ai,"transform",""),Qt(ai,"box-sizing","border-box"),Qt(ai,"margin",0),Qt(ai,"top",i.top),Qt(ai,"left",i.left),Qt(ai,"width",i.width),Qt(ai,"height",i.height),Qt(ai,"opacity","0.8"),Qt(ai,"position",ry?"absolute":"fixed"),Qt(ai,"zIndex","100000"),Qt(ai,"pointerEvents","none"),Jt.ghost=ai,e.appendChild(ai),Qt(ai,"transform-origin",HD/parseInt(ai.style.width)*100+"% "+WD/parseInt(ai.style.height)*100+"%")}},_onDragStart:function(e,i){var s=this,n=e.dataTransfer,l=s.options;if(Zs("dragStart",this,{evt:e}),Jt.eventCanceled){this._onDrop();return}Zs("setupClone",this),Jt.eventCanceled||(pr=MF(ct),pr.removeAttribute("id"),pr.draggable=!1,pr.style["will-change"]="",this._hideClone(),_n(pr,this.options.chosenClass,!1),Jt.clone=pr),s.cloneId=Ty(function(){Zs("clone",s),!Jt.eventCanceled&&(s.options.removeCloneOnHide||or.insertBefore(pr,ct),s._hideClone(),Us({sortable:s,name:"clone"}))}),!i&&_n(ct,l.dragClass,!0),i?(Zy=!0,s._loopId=setInterval(s._emulateDragOver,50)):(_i(document,"mouseup",s._onDrop),_i(document,"touchend",s._onDrop),_i(document,"touchcancel",s._onDrop),n&&(n.effectAllowed="move",l.setData&&l.setData.call(s,n,ct)),xi(document,"drop",s),Qt(ct,"transform","translateZ(0)")),tu=!0,s._dragStartId=Ty(s._dragStarted.bind(s,i,e)),xi(document,"selectstart",s),Jf=!0,window.getSelection().removeAllRanges(),dp&&Qt(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,s=e.target,n,l,a,h=this.options,d=h.group,f=Jt.active,g=ty===d,v=h.sort,x=us||f,b,C=this,O=!1;if(zx)return;function P($,ae){Zs($,C,$a({evt:e,isOwner:g,axis:b?"vertical":"horizontal",revert:a,dragRect:n,targetRect:l,canSort:v,fromSortable:x,target:s,completed:u,onMove:function(Y,ue){return sy(or,i,ct,n,Y,Rr(Y),e,ue)},changed:S},ae))}function L(){P("dragOverAnimationCapture"),C.captureAnimationState(),C!==x&&x.captureAnimationState()}function u($){return P("dragOverCompleted",{insertion:$}),$&&(g?f._hideClone():f._showClone(C),C!==x&&(_n(ct,us?us.options.ghostClass:f.options.ghostClass,!1),_n(ct,h.ghostClass,!0)),us!==C&&C!==Jt.active?us=C:C===Jt.active&&us&&(us=null),x===C&&(C._ignoreWhileAnimating=s),C.animateAll(function(){P("dragOverAnimationComplete"),C._ignoreWhileAnimating=null}),C!==x&&(x.animateAll(),x._ignoreWhileAnimating=null)),(s===ct&&!ct.animated||s===i&&!s.animated)&&(Xh=null),!h.dragoverBubble&&!e.rootEl&&s!==document&&(ct.parentNode[rn]._isOutsideThisEl(e.target),!$&&Lc(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),O=!0}function S(){wn=In(ct),ml=In(ct,h.draggable),Us({sortable:C,name:"change",toEl:i,newIndex:wn,newDraggableIndex:ml,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),s=ua(s,h.draggable,i,!0),P("dragOver"),Jt.eventCanceled)return O;if(ct.contains(e.target)||s.animated&&s.animatingX&&s.animatingY||C._ignoreWhileAnimating===s)return u(!1);if(Zy=!1,f&&!h.disabled&&(g?v||(a=gr!==or):us===this||(this.lastPutMode=ty.checkPull(this,f,ct,e))&&d.checkPut(this,f,ct,e))){if(b=this._getDirection(e,s)==="vertical",n=Rr(ct),P("dragOverValid"),Jt.eventCanceled)return O;if(a)return gr=or,L(),this._hideClone(),P("revert"),Jt.eventCanceled||(Fc?or.insertBefore(ct,Fc):or.appendChild(ct)),u(!0);var y=_S(i,h.draggable);if(!y||CV(e,b,this)&&!y.animated){if(y===ct)return u(!1);if(y&&i===e.target&&(s=y),s&&(l=Rr(s)),sy(or,i,ct,n,s,l,e,!!s)!==!1)return L(),y&&y.nextSibling?i.insertBefore(ct,y.nextSibling):i.appendChild(ct),gr=i,S(),u(!0)}else if(y&&TV(e,b,this)){var k=Ou(i,0,h,!0);if(k===ct)return u(!1);if(s=k,l=Rr(s),sy(or,i,ct,n,s,l,e,!1)!==!1)return L(),i.insertBefore(ct,k),gr=i,S(),u(!0)}else if(s.parentNode===i){l=Rr(s);var T=0,A,F=ct.parentNode!==i,z=!_V(ct.animated&&ct.toRect||n,s.animated&&s.toRect||l,b),N=b?"top":"left",m=zD(s,"top","top")||zD(ct,"top","top"),w=m?m.scrollTop:void 0;Xh!==s&&(A=l[N],gp=!1,iy=!z&&h.invertSwap||F),T=EV(e,s,l,b,z?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,iy,Xh===s);var M;if(T!==0){var D=In(ct);do D-=T,M=gr.children[D];while(M&&(Qt(M,"display")==="none"||M===ai))}if(T===0||M===s)return u(!1);Xh=s,mp=T;var I=s.nextElementSibling,H=!1;H=T===1;var j=sy(or,i,ct,n,s,l,e,H);if(j!==!1)return(j===1||j===-1)&&(H=j===1),zx=!0,setTimeout(SV,30),L(),H&&!I?i.appendChild(ct):s.parentNode.insertBefore(ct,H?I:s),m&&OF(m,0,w-m.scrollTop),gr=ct.parentNode,A!==void 0&&!iy&&(Sy=Math.abs(A-Rr(s)[N])),S(),u(!0)}if(i.contains(ct))return u(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){_i(document,"mousemove",this._onTouchMove),_i(document,"touchmove",this._onTouchMove),_i(document,"pointermove",this._onTouchMove),_i(document,"dragover",Lc),_i(document,"mousemove",Lc),_i(document,"touchmove",Lc)},_offUpEvents:function(){var e=this.el.ownerDocument;_i(e,"mouseup",this._onDrop),_i(e,"touchend",this._onDrop),_i(e,"pointerup",this._onDrop),_i(e,"pointercancel",this._onDrop),_i(e,"touchcancel",this._onDrop),_i(document,"selectstart",this)},_onDrop:function(e){var i=this.el,s=this.options;if(wn=In(ct),ml=In(ct,s.draggable),Zs("drop",this,{evt:e}),gr=ct&&ct.parentNode,wn=In(ct),ml=In(ct,s.draggable),Jt.eventCanceled){this._nulling();return}tu=!1,iy=!1,gp=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ux(this.cloneId),Ux(this._dragStartId),this.nativeDraggable&&(_i(document,"drop",this),_i(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),dp&&Qt(document.body,"user-select",""),Qt(ct,"transform",""),e&&(Jf&&(e.cancelable&&e.preventDefault(),!s.dropBubble&&e.stopPropagation()),ai&&ai.parentNode&&ai.parentNode.removeChild(ai),(or===gr||us&&us.lastPutMode!=="clone")&&pr&&pr.parentNode&&pr.parentNode.removeChild(pr),ct&&(this.nativeDraggable&&_i(ct,"dragend",this),N1(ct),ct.style["will-change"]="",Jf&&!tu&&_n(ct,us?us.options.ghostClass:this.options.ghostClass,!1),_n(ct,this.options.chosenClass,!1),Us({sortable:this,name:"unchoose",toEl:gr,newIndex:null,newDraggableIndex:null,originalEvent:e}),or!==gr?(wn>=0&&(Us({rootEl:gr,name:"add",toEl:gr,fromEl:or,originalEvent:e}),Us({sortable:this,name:"remove",toEl:gr,originalEvent:e}),Us({rootEl:gr,name:"sort",toEl:gr,fromEl:or,originalEvent:e}),Us({sortable:this,name:"sort",toEl:gr,originalEvent:e})),us&&us.save()):wn!==ou&&wn>=0&&(Us({sortable:this,name:"update",toEl:gr,originalEvent:e}),Us({sortable:this,name:"sort",toEl:gr,originalEvent:e})),Jt.active&&((wn==null||wn===-1)&&(wn=ou,ml=pp),Us({sortable:this,name:"end",toEl:gr,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Zs("nulling",this),or=ct=gr=ai=Fc=pr=ky=yl=Dc=ca=Jf=wn=ml=ou=pp=Xh=mp=us=ty=Jt.dragged=Jt.ghost=Jt.clone=Jt.active=null;var e=this.el;Jy.forEach(function(i){e.contains(i)&&(i.checked=!0)}),Jy.length=F1=I1=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":ct&&(this._onDragOver(e),kV(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,s=this.el.children,n=0,l=s.length,a=this.options;n<l;n++)i=s[n],ua(i,a.draggable,this.el,!1)&&e.push(i.getAttribute(a.dataIdAttr)||MV(i));return e},sort:function(e,i){var s={},n=this.el;this.toArray().forEach(function(l,a){var h=n.children[a];ua(h,this.options.draggable,n,!1)&&(s[l]=h)},this),i&&this.captureAnimationState(),e.forEach(function(l){s[l]&&(n.removeChild(s[l]),n.appendChild(s[l]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return ua(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var s=this.options;if(i===void 0)return s[e];var n=rm.modifyOption(this,e,i);typeof n<"u"?s[e]=n:s[e]=i,e==="group"&&LF(s)},destroy:function(){Zs("destroy",this);var e=this.el;e[rn]=null,_i(e,"mousedown",this._onTapStart),_i(e,"touchstart",this._onTapStart),_i(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_i(e,"dragover",this),_i(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qy.splice(Qy.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!yl){if(Zs("hideClone",this),Jt.eventCanceled)return;Qt(pr,"display","none"),this.options.removeCloneOnHide&&pr.parentNode&&pr.parentNode.removeChild(pr),yl=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(yl){if(Zs("showClone",this),Jt.eventCanceled)return;ct.parentNode==or&&!this.options.group.revertClone?or.insertBefore(pr,ct):Fc?or.insertBefore(pr,Fc):or.appendChild(pr),this.options.group.revertClone&&this.animate(ct,pr),Qt(pr,"display",""),yl=!1}}};function kV(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function sy(t,e,i,s,n,l,a,h){var d,f=t[rn],g=f.options.onMove,v;return window.CustomEvent&&!Xo&&!im?d=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(d=document.createEvent("Event"),d.initEvent("move",!0,!0)),d.to=e,d.from=t,d.dragged=i,d.draggedRect=s,d.related=n||e,d.relatedRect=l||Rr(e),d.willInsertAfter=h,d.originalEvent=a,t.dispatchEvent(d),g&&(v=g.call(f,d,a)),v}function N1(t){t.draggable=!1}function SV(){zx=!1}function TV(t,e,i){var s=Rr(Ou(i.el,0,i.options,!0)),n=AF(i.el,i.options,ai),l=10;return e?t.clientX<n.left-l||t.clientY<s.top&&t.clientX<s.right:t.clientY<n.top-l||t.clientY<s.bottom&&t.clientX<s.left}function CV(t,e,i){var s=Rr(_S(i.el,i.options.draggable)),n=AF(i.el,i.options,ai),l=10;return e?t.clientX>n.right+l||t.clientY>s.bottom&&t.clientX>s.left:t.clientY>n.bottom+l||t.clientX>s.right&&t.clientY>s.top}function EV(t,e,i,s,n,l,a,h){var d=s?t.clientY:t.clientX,f=s?i.height:i.width,g=s?i.top:i.left,v=s?i.bottom:i.right,x=!1;if(!a){if(h&&Sy<f*n){if(!gp&&(mp===1?d>g+f*l/2:d<v-f*l/2)&&(gp=!0),gp)x=!0;else if(mp===1?d<g+Sy:d>v-Sy)return-mp}else if(d>g+f*(1-n)/2&&d<v-f*(1-n)/2)return OV(e)}return x=x||a,x&&(d<g+f*l/2||d>v-f*l/2)?d>g+f/2?1:-1:0}function OV(t){return In(ct)<In(t)?1:-1}function MV(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,s=0;i--;)s+=e.charCodeAt(i);return s.toString(36)}function AV(t){Jy.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var s=e[i];s.checked&&Jy.push(s)}}function Ty(t){return setTimeout(t,0)}function Ux(t){return clearTimeout(t)}rb&&xi(document,"touchmove",function(t){(Jt.active||tu)&&t.cancelable&&t.preventDefault()});Jt.utils={on:xi,off:_i,css:Qt,find:CF,is:function(e,i){return!!ua(e,i,e,!1)},extend:dV,throttle:EF,closest:ua,toggleClass:_n,clone:MF,index:In,nextTick:Ty,cancelNextTick:Ux,detectDirection:DF,getChild:Ou,expando:rn};Jt.get=function(t){return t[rn]};Jt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(s){if(!s.prototype||!s.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(s));s.utils&&(Jt.utils=$a($a({},Jt.utils),s.utils)),rm.mount(s)})};Jt.create=function(t,e){return new Jt(t,e)};Jt.version=hV;var Lr=[],ep,Hx,Wx=!1,z1,U1,ev,tp;function PV(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var s=i.originalEvent;this.sortable.nativeDraggable?xi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xi(document,"pointermove",this._handleFallbackAutoScroll):s.touches?xi(document,"touchmove",this._handleFallbackAutoScroll):xi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var s=i.originalEvent;!this.options.dragOverBubble&&!s.rootEl&&this._handleAutoScroll(s)},drop:function(){this.sortable.nativeDraggable?_i(document,"dragover",this._handleAutoScroll):(_i(document,"pointermove",this._handleFallbackAutoScroll),_i(document,"touchmove",this._handleFallbackAutoScroll),_i(document,"mousemove",this._handleFallbackAutoScroll)),qD(),Cy(),fV()},nulling:function(){ev=Hx=ep=Wx=tp=z1=U1=null,Lr.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,s){var n=this,l=(i.touches?i.touches[0]:i).clientX,a=(i.touches?i.touches[0]:i).clientY,h=document.elementFromPoint(l,a);if(ev=i,s||this.options.forceAutoScrollFallback||im||Xo||dp){H1(i,this.options,h,s);var d=_l(h,!0);Wx&&(!tp||l!==z1||a!==U1)&&(tp&&qD(),tp=setInterval(function(){var f=_l(document.elementFromPoint(l,a),!0);f!==d&&(d=f,Cy()),H1(i,n.options,f,s)},10),z1=l,U1=a)}else{if(!this.options.bubbleScroll||_l(h,!0)===Ha()){Cy();return}H1(i,this.options,_l(h,!1),!1)}}},Wo(t,{pluginName:"scroll",initializeByDefault:!0})}function Cy(){Lr.forEach(function(t){clearInterval(t.pid)}),Lr=[]}function qD(){clearInterval(tp)}var H1=EF(function(t,e,i,s){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,a=e.scrollSensitivity,h=e.scrollSpeed,d=Ha(),f=!1,g;Hx!==i&&(Hx=i,Cy(),ep=e.scroll,g=e.scrollFn,ep===!0&&(ep=_l(i,!0)));var v=0,x=ep;do{var b=x,C=Rr(b),O=C.top,P=C.bottom,L=C.left,u=C.right,S=C.width,y=C.height,k=void 0,T=void 0,A=b.scrollWidth,F=b.scrollHeight,z=Qt(b),N=b.scrollLeft,m=b.scrollTop;b===d?(k=S<A&&(z.overflowX==="auto"||z.overflowX==="scroll"||z.overflowX==="visible"),T=y<F&&(z.overflowY==="auto"||z.overflowY==="scroll"||z.overflowY==="visible")):(k=S<A&&(z.overflowX==="auto"||z.overflowX==="scroll"),T=y<F&&(z.overflowY==="auto"||z.overflowY==="scroll"));var w=k&&(Math.abs(u-n)<=a&&N+S<A)-(Math.abs(L-n)<=a&&!!N),M=T&&(Math.abs(P-l)<=a&&m+y<F)-(Math.abs(O-l)<=a&&!!m);if(!Lr[v])for(var D=0;D<=v;D++)Lr[D]||(Lr[D]={});(Lr[v].vx!=w||Lr[v].vy!=M||Lr[v].el!==b)&&(Lr[v].el=b,Lr[v].vx=w,Lr[v].vy=M,clearInterval(Lr[v].pid),(w!=0||M!=0)&&(f=!0,Lr[v].pid=setInterval((function(){s&&this.layer===0&&Jt.active._onTouchMove(ev);var I=Lr[this.layer].vy?Lr[this.layer].vy*h:0,H=Lr[this.layer].vx?Lr[this.layer].vx*h:0;typeof g=="function"&&g.call(Jt.dragged.parentNode[rn],H,I,t,ev,Lr[this.layer].el)!=="continue"||OF(Lr[this.layer].el,H,I)}).bind({layer:v}),24))),v++}while(e.bubbleScroll&&x!==d&&(x=_l(x,!1)));Wx=f}},30),IF=function(e){var i=e.originalEvent,s=e.putSortable,n=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,h=e.hideGhostForTarget,d=e.unhideGhostForTarget;if(i){var f=s||l;h();var g=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,v=document.elementFromPoint(g.clientX,g.clientY);d(),f&&!f.el.contains(v)&&(a("spill"),this.onSpill({dragEl:n,putSortable:s}))}};function wS(){}wS.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,s=e.putSortable;this.sortable.captureAnimationState(),s&&s.captureAnimationState();var n=Ou(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),s&&s.animateAll()},drop:IF};Wo(wS,{pluginName:"revertOnSpill"});function xS(){}xS.prototype={onSpill:function(e){var i=e.dragEl,s=e.putSortable,n=s||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:IF};Wo(xS,{pluginName:"removeOnSpill"});Jt.mount(new PV);Jt.mount(xS,wS);var an="top",Hn="bottom",Wn="right",on="left",kS="auto",sm=[an,Hn,Wn,on],Mu="start",Rp="end",DV="clippingParents",BF="viewport",Nf="popper",LV="reference",$D=sm.reduce(function(t,e){return t.concat([e+"-"+Mu,e+"-"+Rp])},[]),NF=[].concat(sm,[kS]).reduce(function(t,e){return t.concat([e,e+"-"+Mu,e+"-"+Rp])},[]),RV="beforeRead",FV="read",IV="afterRead",BV="beforeMain",NV="main",zV="afterMain",UV="beforeWrite",HV="write",WV="afterWrite",jV=[RV,FV,IV,BV,NV,zV,UV,HV,WV];function Va(t){return t?(t.nodeName||"").toLowerCase():null}function Sn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function rh(t){var e=Sn(t).Element;return t instanceof e||t instanceof Element}function Un(t){var e=Sn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function SS(t){if(typeof ShadowRoot>"u")return!1;var e=Sn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function qV(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var s=e.styles[i]||{},n=e.attributes[i]||{},l=e.elements[i];!Un(l)||!Va(l)||(Object.assign(l.style,s),Object.keys(n).forEach(function(a){var h=n[a];h===!1?l.removeAttribute(a):l.setAttribute(a,h===!0?"":h)}))})}function $V(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(s){var n=e.elements[s],l=e.attributes[s]||{},a=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:i[s]),h=a.reduce(function(d,f){return d[f]="",d},{});!Un(n)||!Va(n)||(Object.assign(n.style,h),Object.keys(l).forEach(function(d){n.removeAttribute(d)}))})}}const zF={name:"applyStyles",enabled:!0,phase:"write",fn:qV,effect:$V,requires:["computeStyles"]};function Wa(t){return t.split("-")[0]}var Zc=Math.max,tv=Math.min,Au=Math.round;function jx(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function UF(){return!/^((?!chrome|android).)*safari/i.test(jx())}function Pu(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var s=t.getBoundingClientRect(),n=1,l=1;e&&Un(t)&&(n=t.offsetWidth>0&&Au(s.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Au(s.height)/t.offsetHeight||1);var a=rh(t)?Sn(t):window,h=a.visualViewport,d=!UF()&&i,f=(s.left+(d&&h?h.offsetLeft:0))/n,g=(s.top+(d&&h?h.offsetTop:0))/l,v=s.width/n,x=s.height/l;return{width:v,height:x,top:g,right:f+v,bottom:g+x,left:f,x:f,y:g}}function TS(t){var e=Pu(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function HF(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&SS(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function jo(t){return Sn(t).getComputedStyle(t)}function VV(t){return["table","td","th"].indexOf(Va(t))>=0}function Al(t){return((rh(t)?t.ownerDocument:t.document)||window.document).documentElement}function sb(t){return Va(t)==="html"?t:t.assignedSlot||t.parentNode||(SS(t)?t.host:null)||Al(t)}function VD(t){return!Un(t)||jo(t).position==="fixed"?null:t.offsetParent}function YV(t){var e=/firefox/i.test(jx()),i=/Trident/i.test(jx());if(i&&Un(t)){var s=jo(t);if(s.position==="fixed")return null}var n=sb(t);for(SS(n)&&(n=n.host);Un(n)&&["html","body"].indexOf(Va(n))<0;){var l=jo(n);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return n;n=n.parentNode}return null}function nm(t){for(var e=Sn(t),i=VD(t);i&&VV(i)&&jo(i).position==="static";)i=VD(i);return i&&(Va(i)==="html"||Va(i)==="body"&&jo(i).position==="static")?e:i||YV(t)||e}function CS(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yp(t,e,i){return Zc(t,tv(e,i))}function GV(t,e,i){var s=yp(t,e,i);return s>i?i:s}function WF(){return{top:0,right:0,bottom:0,left:0}}function jF(t){return Object.assign({},WF(),t)}function qF(t,e){return e.reduce(function(i,s){return i[s]=t,i},{})}var XV=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,jF(typeof e!="number"?e:qF(e,sm))};function KV(t){var e,i=t.state,s=t.name,n=t.options,l=i.elements.arrow,a=i.modifiersData.popperOffsets,h=Wa(i.placement),d=CS(h),f=[on,Wn].indexOf(h)>=0,g=f?"height":"width";if(!(!l||!a)){var v=XV(n.padding,i),x=TS(l),b=d==="y"?an:on,C=d==="y"?Hn:Wn,O=i.rects.reference[g]+i.rects.reference[d]-a[d]-i.rects.popper[g],P=a[d]-i.rects.reference[d],L=nm(l),u=L?d==="y"?L.clientHeight||0:L.clientWidth||0:0,S=O/2-P/2,y=v[b],k=u-x[g]-v[C],T=u/2-x[g]/2+S,A=yp(y,T,k),F=d;i.modifiersData[s]=(e={},e[F]=A,e.centerOffset=A-T,e)}}function ZV(t){var e=t.state,i=t.options,s=i.element,n=s===void 0?"[data-popper-arrow]":s;n!=null&&(typeof n=="string"&&(n=e.elements.popper.querySelector(n),!n)||HF(e.elements.popper,n)&&(e.elements.arrow=n))}const QV={name:"arrow",enabled:!0,phase:"main",fn:KV,effect:ZV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Du(t){return t.split("-")[1]}var JV={top:"auto",right:"auto",bottom:"auto",left:"auto"};function eY(t,e){var i=t.x,s=t.y,n=e.devicePixelRatio||1;return{x:Au(i*n)/n||0,y:Au(s*n)/n||0}}function YD(t){var e,i=t.popper,s=t.popperRect,n=t.placement,l=t.variation,a=t.offsets,h=t.position,d=t.gpuAcceleration,f=t.adaptive,g=t.roundOffsets,v=t.isFixed,x=a.x,b=x===void 0?0:x,C=a.y,O=C===void 0?0:C,P=typeof g=="function"?g({x:b,y:O}):{x:b,y:O};b=P.x,O=P.y;var L=a.hasOwnProperty("x"),u=a.hasOwnProperty("y"),S=on,y=an,k=window;if(f){var T=nm(i),A="clientHeight",F="clientWidth";if(T===Sn(i)&&(T=Al(i),jo(T).position!=="static"&&h==="absolute"&&(A="scrollHeight",F="scrollWidth")),T=T,n===an||(n===on||n===Wn)&&l===Rp){y=Hn;var z=v&&T===k&&k.visualViewport?k.visualViewport.height:T[A];O-=z-s.height,O*=d?1:-1}if(n===on||(n===an||n===Hn)&&l===Rp){S=Wn;var N=v&&T===k&&k.visualViewport?k.visualViewport.width:T[F];b-=N-s.width,b*=d?1:-1}}var m=Object.assign({position:h},f&&JV),w=g===!0?eY({x:b,y:O},Sn(i)):{x:b,y:O};if(b=w.x,O=w.y,d){var M;return Object.assign({},m,(M={},M[y]=u?"0":"",M[S]=L?"0":"",M.transform=(k.devicePixelRatio||1)<=1?"translate("+b+"px, "+O+"px)":"translate3d("+b+"px, "+O+"px, 0)",M))}return Object.assign({},m,(e={},e[y]=u?O+"px":"",e[S]=L?b+"px":"",e.transform="",e))}function tY(t){var e=t.state,i=t.options,s=i.gpuAcceleration,n=s===void 0?!0:s,l=i.adaptive,a=l===void 0?!0:l,h=i.roundOffsets,d=h===void 0?!0:h,f={placement:Wa(e.placement),variation:Du(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:n,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,YD(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,YD(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const iY={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:tY,data:{}};var ny={passive:!0};function rY(t){var e=t.state,i=t.instance,s=t.options,n=s.scroll,l=n===void 0?!0:n,a=s.resize,h=a===void 0?!0:a,d=Sn(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&f.forEach(function(g){g.addEventListener("scroll",i.update,ny)}),h&&d.addEventListener("resize",i.update,ny),function(){l&&f.forEach(function(g){g.removeEventListener("scroll",i.update,ny)}),h&&d.removeEventListener("resize",i.update,ny)}}const sY={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:rY,data:{}};var nY={left:"right",right:"left",bottom:"top",top:"bottom"};function Ey(t){return t.replace(/left|right|bottom|top/g,function(e){return nY[e]})}var aY={start:"end",end:"start"};function GD(t){return t.replace(/start|end/g,function(e){return aY[e]})}function ES(t){var e=Sn(t),i=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:i,scrollTop:s}}function OS(t){return Pu(Al(t)).left+ES(t).scrollLeft}function oY(t,e){var i=Sn(t),s=Al(t),n=i.visualViewport,l=s.clientWidth,a=s.clientHeight,h=0,d=0;if(n){l=n.width,a=n.height;var f=UF();(f||!f&&e==="fixed")&&(h=n.offsetLeft,d=n.offsetTop)}return{width:l,height:a,x:h+OS(t),y:d}}function lY(t){var e,i=Al(t),s=ES(t),n=(e=t.ownerDocument)==null?void 0:e.body,l=Zc(i.scrollWidth,i.clientWidth,n?n.scrollWidth:0,n?n.clientWidth:0),a=Zc(i.scrollHeight,i.clientHeight,n?n.scrollHeight:0,n?n.clientHeight:0),h=-s.scrollLeft+OS(t),d=-s.scrollTop;return jo(n||i).direction==="rtl"&&(h+=Zc(i.clientWidth,n?n.clientWidth:0)-l),{width:l,height:a,x:h,y:d}}function MS(t){var e=jo(t),i=e.overflow,s=e.overflowX,n=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+n+s)}function $F(t){return["html","body","#document"].indexOf(Va(t))>=0?t.ownerDocument.body:Un(t)&&MS(t)?t:$F(sb(t))}function vp(t,e){var i;e===void 0&&(e=[]);var s=$F(t),n=s===((i=t.ownerDocument)==null?void 0:i.body),l=Sn(s),a=n?[l].concat(l.visualViewport||[],MS(s)?s:[]):s,h=e.concat(a);return n?h:h.concat(vp(sb(a)))}function qx(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function cY(t,e){var i=Pu(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function XD(t,e,i){return e===BF?qx(oY(t,i)):rh(e)?cY(e,i):qx(lY(Al(t)))}function hY(t){var e=vp(sb(t)),i=["absolute","fixed"].indexOf(jo(t).position)>=0,s=i&&Un(t)?nm(t):t;return rh(s)?e.filter(function(n){return rh(n)&&HF(n,s)&&Va(n)!=="body"}):[]}function uY(t,e,i,s){var n=e==="clippingParents"?hY(t):[].concat(e),l=[].concat(n,[i]),a=l[0],h=l.reduce(function(d,f){var g=XD(t,f,s);return d.top=Zc(g.top,d.top),d.right=tv(g.right,d.right),d.bottom=tv(g.bottom,d.bottom),d.left=Zc(g.left,d.left),d},XD(t,a,s));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function VF(t){var e=t.reference,i=t.element,s=t.placement,n=s?Wa(s):null,l=s?Du(s):null,a=e.x+e.width/2-i.width/2,h=e.y+e.height/2-i.height/2,d;switch(n){case an:d={x:a,y:e.y-i.height};break;case Hn:d={x:a,y:e.y+e.height};break;case Wn:d={x:e.x+e.width,y:h};break;case on:d={x:e.x-i.width,y:h};break;default:d={x:e.x,y:e.y}}var f=n?CS(n):null;if(f!=null){var g=f==="y"?"height":"width";switch(l){case Mu:d[f]=d[f]-(e[g]/2-i[g]/2);break;case Rp:d[f]=d[f]+(e[g]/2-i[g]/2);break}}return d}function Fp(t,e){e===void 0&&(e={});var i=e,s=i.placement,n=s===void 0?t.placement:s,l=i.strategy,a=l===void 0?t.strategy:l,h=i.boundary,d=h===void 0?DV:h,f=i.rootBoundary,g=f===void 0?BF:f,v=i.elementContext,x=v===void 0?Nf:v,b=i.altBoundary,C=b===void 0?!1:b,O=i.padding,P=O===void 0?0:O,L=jF(typeof P!="number"?P:qF(P,sm)),u=x===Nf?LV:Nf,S=t.rects.popper,y=t.elements[C?u:x],k=uY(rh(y)?y:y.contextElement||Al(t.elements.popper),d,g,a),T=Pu(t.elements.reference),A=VF({reference:T,element:S,placement:n}),F=qx(Object.assign({},S,A)),z=x===Nf?F:T,N={top:k.top-z.top+L.top,bottom:z.bottom-k.bottom+L.bottom,left:k.left-z.left+L.left,right:z.right-k.right+L.right},m=t.modifiersData.offset;if(x===Nf&&m){var w=m[n];Object.keys(N).forEach(function(M){var D=[Wn,Hn].indexOf(M)>=0?1:-1,I=[an,Hn].indexOf(M)>=0?"y":"x";N[M]+=w[I]*D})}return N}function dY(t,e){e===void 0&&(e={});var i=e,s=i.placement,n=i.boundary,l=i.rootBoundary,a=i.padding,h=i.flipVariations,d=i.allowedAutoPlacements,f=d===void 0?NF:d,g=Du(s),v=g?h?$D:$D.filter(function(C){return Du(C)===g}):sm,x=v.filter(function(C){return f.indexOf(C)>=0});x.length===0&&(x=v);var b=x.reduce(function(C,O){return C[O]=Fp(t,{placement:O,boundary:n,rootBoundary:l,padding:a})[Wa(O)],C},{});return Object.keys(b).sort(function(C,O){return b[C]-b[O]})}function fY(t){if(Wa(t)===kS)return[];var e=Ey(t);return[GD(t),e,GD(e)]}function pY(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var n=i.mainAxis,l=n===void 0?!0:n,a=i.altAxis,h=a===void 0?!0:a,d=i.fallbackPlacements,f=i.padding,g=i.boundary,v=i.rootBoundary,x=i.altBoundary,b=i.flipVariations,C=b===void 0?!0:b,O=i.allowedAutoPlacements,P=e.options.placement,L=Wa(P),u=L===P,S=d||(u||!C?[Ey(P)]:fY(P)),y=[P].concat(S).reduce(function(Oe,me){return Oe.concat(Wa(me)===kS?dY(e,{placement:me,boundary:g,rootBoundary:v,padding:f,flipVariations:C,allowedAutoPlacements:O}):me)},[]),k=e.rects.reference,T=e.rects.popper,A=new Map,F=!0,z=y[0],N=0;N<y.length;N++){var m=y[N],w=Wa(m),M=Du(m)===Mu,D=[an,Hn].indexOf(w)>=0,I=D?"width":"height",H=Fp(e,{placement:m,boundary:g,rootBoundary:v,altBoundary:x,padding:f}),j=D?M?Wn:on:M?Hn:an;k[I]>T[I]&&(j=Ey(j));var $=Ey(j),ae=[];if(l&&ae.push(H[w]<=0),h&&ae.push(H[j]<=0,H[$]<=0),ae.every(function(Oe){return Oe})){z=m,F=!1;break}A.set(m,ae)}if(F)for(var X=C?3:1,Y=function(me){var xe=y.find(function(Ae){var $e=A.get(Ae);if($e)return $e.slice(0,me).every(function(tt){return tt})});if(xe)return z=xe,"break"},ue=X;ue>0;ue--){var be=Y(ue);if(be==="break")break}e.placement!==z&&(e.modifiersData[s]._skip=!0,e.placement=z,e.reset=!0)}}const mY={name:"flip",enabled:!0,phase:"main",fn:pY,requiresIfExists:["offset"],data:{_skip:!1}};function KD(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ZD(t){return[an,Wn,Hn,on].some(function(e){return t[e]>=0})}function gY(t){var e=t.state,i=t.name,s=e.rects.reference,n=e.rects.popper,l=e.modifiersData.preventOverflow,a=Fp(e,{elementContext:"reference"}),h=Fp(e,{altBoundary:!0}),d=KD(a,s),f=KD(h,n,l),g=ZD(d),v=ZD(f);e.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:f,isReferenceHidden:g,hasPopperEscaped:v},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":g,"data-popper-escaped":v})}const yY={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:gY};function vY(t,e,i){var s=Wa(t),n=[on,an].indexOf(s)>=0?-1:1,l=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=l[0],h=l[1];return a=a||0,h=(h||0)*n,[on,Wn].indexOf(s)>=0?{x:h,y:a}:{x:a,y:h}}function bY(t){var e=t.state,i=t.options,s=t.name,n=i.offset,l=n===void 0?[0,0]:n,a=NF.reduce(function(g,v){return g[v]=vY(v,e.rects,l),g},{}),h=a[e.placement],d=h.x,f=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=f),e.modifiersData[s]=a}const _Y={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:bY};function wY(t){var e=t.state,i=t.name;e.modifiersData[i]=VF({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const xY={name:"popperOffsets",enabled:!0,phase:"read",fn:wY,data:{}};function kY(t){return t==="x"?"y":"x"}function SY(t){var e=t.state,i=t.options,s=t.name,n=i.mainAxis,l=n===void 0?!0:n,a=i.altAxis,h=a===void 0?!1:a,d=i.boundary,f=i.rootBoundary,g=i.altBoundary,v=i.padding,x=i.tether,b=x===void 0?!0:x,C=i.tetherOffset,O=C===void 0?0:C,P=Fp(e,{boundary:d,rootBoundary:f,padding:v,altBoundary:g}),L=Wa(e.placement),u=Du(e.placement),S=!u,y=CS(L),k=kY(y),T=e.modifiersData.popperOffsets,A=e.rects.reference,F=e.rects.popper,z=typeof O=="function"?O(Object.assign({},e.rects,{placement:e.placement})):O,N=typeof z=="number"?{mainAxis:z,altAxis:z}:Object.assign({mainAxis:0,altAxis:0},z),m=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,w={x:0,y:0};if(T){if(l){var M,D=y==="y"?an:on,I=y==="y"?Hn:Wn,H=y==="y"?"height":"width",j=T[y],$=j+P[D],ae=j-P[I],X=b?-F[H]/2:0,Y=u===Mu?A[H]:F[H],ue=u===Mu?-F[H]:-A[H],be=e.elements.arrow,Oe=b&&be?TS(be):{width:0,height:0},me=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:WF(),xe=me[D],Ae=me[I],$e=yp(0,A[H],Oe[H]),tt=S?A[H]/2-X-$e-xe-N.mainAxis:Y-$e-xe-N.mainAxis,ye=S?-A[H]/2+X+$e+Ae+N.mainAxis:ue+$e+Ae+N.mainAxis,dt=e.elements.arrow&&nm(e.elements.arrow),ft=dt?y==="y"?dt.clientTop||0:dt.clientLeft||0:0,Gt=(M=m==null?void 0:m[y])!=null?M:0,Re=j+tt-Gt-ft,ri=j+ye-Gt,fi=yp(b?tv($,Re):$,j,b?Zc(ae,ri):ae);T[y]=fi,w[y]=fi-j}if(h){var ci,Ve=y==="x"?an:on,Yi=y==="x"?Hn:Wn,Fi=T[k],Or=k==="y"?"height":"width",Br=Fi+P[Ve],Ai=Fi-P[Yi],Wi=[an,on].indexOf(L)!==-1,Q=(ci=m==null?void 0:m[k])!=null?ci:0,ce=Wi?Br:Fi-A[Or]-F[Or]-Q+N.altAxis,oe=Wi?Fi+A[Or]+F[Or]-Q-N.altAxis:Ai,Se=b&&Wi?GV(ce,Fi,oe):yp(b?ce:Br,Fi,b?oe:Ai);T[k]=Se,w[k]=Se-Fi}e.modifiersData[s]=w}}const TY={name:"preventOverflow",enabled:!0,phase:"main",fn:SY,requiresIfExists:["offset"]};function CY(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function EY(t){return t===Sn(t)||!Un(t)?ES(t):CY(t)}function OY(t){var e=t.getBoundingClientRect(),i=Au(e.width)/t.offsetWidth||1,s=Au(e.height)/t.offsetHeight||1;return i!==1||s!==1}function MY(t,e,i){i===void 0&&(i=!1);var s=Un(e),n=Un(e)&&OY(e),l=Al(e),a=Pu(t,n,i),h={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!i)&&((Va(e)!=="body"||MS(l))&&(h=EY(e)),Un(e)?(d=Pu(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):l&&(d.x=OS(l))),{x:a.left+h.scrollLeft-d.x,y:a.top+h.scrollTop-d.y,width:a.width,height:a.height}}function AY(t){var e=new Map,i=new Set,s=[];t.forEach(function(l){e.set(l.name,l)});function n(l){i.add(l.name);var a=[].concat(l.requires||[],l.requiresIfExists||[]);a.forEach(function(h){if(!i.has(h)){var d=e.get(h);d&&n(d)}}),s.push(l)}return t.forEach(function(l){i.has(l.name)||n(l)}),s}function PY(t){var e=AY(t);return jV.reduce(function(i,s){return i.concat(e.filter(function(n){return n.phase===s}))},[])}function DY(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function LY(t){var e=t.reduce(function(i,s){var n=i[s.name];return i[s.name]=n?Object.assign({},n,s,{options:Object.assign({},n.options,s.options),data:Object.assign({},n.data,s.data)}):s,i},{});return Object.keys(e).map(function(i){return e[i]})}var QD={placement:"bottom",modifiers:[],strategy:"absolute"};function JD(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function RY(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,s=i===void 0?[]:i,n=e.defaultOptions,l=n===void 0?QD:n;return function(h,d,f){f===void 0&&(f=l);var g={placement:"bottom",orderedModifiers:[],options:Object.assign({},QD,l),modifiersData:{},elements:{reference:h,popper:d},attributes:{},styles:{}},v=[],x=!1,b={state:g,setOptions:function(L){var u=typeof L=="function"?L(g.options):L;O(),g.options=Object.assign({},l,g.options,u),g.scrollParents={reference:rh(h)?vp(h):h.contextElement?vp(h.contextElement):[],popper:vp(d)};var S=PY(LY([].concat(s,g.options.modifiers)));return g.orderedModifiers=S.filter(function(y){return y.enabled}),C(),b.update()},forceUpdate:function(){if(!x){var L=g.elements,u=L.reference,S=L.popper;if(JD(u,S)){g.rects={reference:MY(u,nm(S),g.options.strategy==="fixed"),popper:TS(S)},g.reset=!1,g.placement=g.options.placement,g.orderedModifiers.forEach(function(N){return g.modifiersData[N.name]=Object.assign({},N.data)});for(var y=0;y<g.orderedModifiers.length;y++){if(g.reset===!0){g.reset=!1,y=-1;continue}var k=g.orderedModifiers[y],T=k.fn,A=k.options,F=A===void 0?{}:A,z=k.name;typeof T=="function"&&(g=T({state:g,options:F,name:z,instance:b})||g)}}}},update:DY(function(){return new Promise(function(P){b.forceUpdate(),P(g)})}),destroy:function(){O(),x=!0}};if(!JD(h,d))return b;b.setOptions(f).then(function(P){!x&&f.onFirstUpdate&&f.onFirstUpdate(P)});function C(){g.orderedModifiers.forEach(function(P){var L=P.name,u=P.options,S=u===void 0?{}:u,y=P.effect;if(typeof y=="function"){var k=y({state:g,name:L,instance:b,options:S}),T=function(){};v.push(k||T)}})}function O(){v.forEach(function(P){return P()}),v=[]}return b}}var FY=[sY,xY,iY,zF,_Y,mY,TY,QV,yY],YF=RY({defaultModifiers:FY}),IY="tippy-box",GF="tippy-content",BY="tippy-backdrop",XF="tippy-arrow",KF="tippy-svg-arrow",Ic={passive:!0,capture:!0},ZF=function(){return document.body};function W1(t,e,i){if(Array.isArray(t)){var s=t[e];return s??(Array.isArray(i)?i[e]:i)}return t}function AS(t,e){var i={}.toString.call(t);return i.indexOf("[object")===0&&i.indexOf(e+"]")>-1}function QF(t,e){return typeof t=="function"?t.apply(void 0,e):t}function eL(t,e){if(e===0)return t;var i;return function(s){clearTimeout(i),i=setTimeout(function(){t(s)},e)}}function NY(t){return t.split(/\s+/).filter(Boolean)}function iu(t){return[].concat(t)}function tL(t,e){t.indexOf(e)===-1&&t.push(e)}function zY(t){return t.filter(function(e,i){return t.indexOf(e)===i})}function UY(t){return t.split("-")[0]}function iv(t){return[].slice.call(t)}function iL(t){return Object.keys(t).reduce(function(e,i){return t[i]!==void 0&&(e[i]=t[i]),e},{})}function bp(){return document.createElement("div")}function nb(t){return["Element","Fragment"].some(function(e){return AS(t,e)})}function HY(t){return AS(t,"NodeList")}function WY(t){return AS(t,"MouseEvent")}function jY(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function qY(t){return nb(t)?[t]:HY(t)?iv(t):Array.isArray(t)?t:iv(document.querySelectorAll(t))}function j1(t,e){t.forEach(function(i){i&&(i.style.transitionDuration=e+"ms")})}function rL(t,e){t.forEach(function(i){i&&i.setAttribute("data-state",e)})}function $Y(t){var e,i=iu(t),s=i[0];return s!=null&&(e=s.ownerDocument)!=null&&e.body?s.ownerDocument:document}function VY(t,e){var i=e.clientX,s=e.clientY;return t.every(function(n){var l=n.popperRect,a=n.popperState,h=n.props,d=h.interactiveBorder,f=UY(a.placement),g=a.modifiersData.offset;if(!g)return!0;var v=f==="bottom"?g.top.y:0,x=f==="top"?g.bottom.y:0,b=f==="right"?g.left.x:0,C=f==="left"?g.right.x:0,O=l.top-s+v>d,P=s-l.bottom-x>d,L=l.left-i+b>d,u=i-l.right-C>d;return O||P||L||u})}function q1(t,e,i){var s=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(n){t[s](n,i)})}function sL(t,e){for(var i=e;i;){var s;if(t.contains(i))return!0;i=i.getRootNode==null||(s=i.getRootNode())==null?void 0:s.host}return!1}var za={isTouch:!1},nL=0;function YY(){za.isTouch||(za.isTouch=!0,window.performance&&document.addEventListener("mousemove",JF))}function JF(){var t=performance.now();t-nL<20&&(za.isTouch=!1,document.removeEventListener("mousemove",JF)),nL=t}function GY(){var t=document.activeElement;if(jY(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function XY(){document.addEventListener("touchstart",YY,Ic),window.addEventListener("blur",GY)}var KY=typeof window<"u"&&typeof document<"u",ZY=KY?!!window.msCrypto:!1,QY={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},JY={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ma=Object.assign({appendTo:ZF,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},QY,JY),eG=Object.keys(ma),tG=function(e){var i=Object.keys(e);i.forEach(function(s){ma[s]=e[s]})};function eI(t){var e=t.plugins||[],i=e.reduce(function(s,n){var l=n.name,a=n.defaultValue;if(l){var h;s[l]=t[l]!==void 0?t[l]:(h=ma[l])!=null?h:a}return s},{});return Object.assign({},t,i)}function iG(t,e){var i=e?Object.keys(eI(Object.assign({},ma,{plugins:e}))):eG,s=i.reduce(function(n,l){var a=(t.getAttribute("data-tippy-"+l)||"").trim();if(!a)return n;if(l==="content")n[l]=a;else try{n[l]=JSON.parse(a)}catch{n[l]=a}return n},{});return s}function aL(t,e){var i=Object.assign({},e,{content:QF(e.content,[t])},e.ignoreAttributes?{}:iG(t,e.plugins));return i.aria=Object.assign({},ma.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?e.interactive:i.aria.expanded,content:i.aria.content==="auto"?e.interactive?null:"describedby":i.aria.content},i}var rG=function(){return"innerHTML"};function $x(t,e){t[rG()]=e}function oL(t){var e=bp();return t===!0?e.className=XF:(e.className=KF,nb(t)?e.appendChild(t):$x(e,t)),e}function lL(t,e){nb(e.content)?($x(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?$x(t,e.content):t.textContent=e.content)}function Vx(t){var e=t.firstElementChild,i=iv(e.children);return{box:e,content:i.find(function(s){return s.classList.contains(GF)}),arrow:i.find(function(s){return s.classList.contains(XF)||s.classList.contains(KF)}),backdrop:i.find(function(s){return s.classList.contains(BY)})}}function tI(t){var e=bp(),i=bp();i.className=IY,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var s=bp();s.className=GF,s.setAttribute("data-state","hidden"),lL(s,t.props),e.appendChild(i),i.appendChild(s),n(t.props,t.props);function n(l,a){var h=Vx(e),d=h.box,f=h.content,g=h.arrow;a.theme?d.setAttribute("data-theme",a.theme):d.removeAttribute("data-theme"),typeof a.animation=="string"?d.setAttribute("data-animation",a.animation):d.removeAttribute("data-animation"),a.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?d.setAttribute("role",a.role):d.removeAttribute("role"),(l.content!==a.content||l.allowHTML!==a.allowHTML)&&lL(f,t.props),a.arrow?g?l.arrow!==a.arrow&&(d.removeChild(g),d.appendChild(oL(a.arrow))):d.appendChild(oL(a.arrow)):g&&d.removeChild(g)}return{popper:e,onUpdate:n}}tI.$$tippy=!0;var sG=1,ay=[],$1=[];function nG(t,e){var i=aL(t,Object.assign({},ma,eI(iL(e)))),s,n,l,a=!1,h=!1,d=!1,f=!1,g,v,x,b=[],C=eL(Re,i.interactiveDebounce),O,P=sG++,L=null,u=zY(i.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:P,reference:t,popper:bp(),popperInstance:L,props:i,state:S,plugins:u,clearDelayTimeouts:ce,setProps:oe,setContent:Se,show:Te,hide:Me,hideWithInteractivity:it,enable:Wi,disable:Q,unmount:vt,destroy:Ct};if(!i.render)return y;var k=i.render(y),T=k.popper,A=k.onUpdate;T.setAttribute("data-tippy-root",""),T.id="tippy-"+y.id,y.popper=T,t._tippy=y,T._tippy=y;var F=u.map(function(re){return re.fn(y)}),z=t.hasAttribute("aria-expanded");return dt(),X(),j(),$("onCreate",[y]),i.showOnCreate&&Br(),T.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),T.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&D().addEventListener("mousemove",C)}),y;function N(){var re=y.props.touch;return Array.isArray(re)?re:[re,0]}function m(){return N()[0]==="hold"}function w(){var re;return!!((re=y.props.render)!=null&&re.$$tippy)}function M(){return O||t}function D(){var re=M().parentNode;return re?$Y(re):document}function I(){return Vx(T)}function H(re){return y.state.isMounted&&!y.state.isVisible||za.isTouch||g&&g.type==="focus"?0:W1(y.props.delay,re?0:1,ma.delay)}function j(re){re===void 0&&(re=!1),T.style.pointerEvents=y.props.interactive&&!re?"":"none",T.style.zIndex=""+y.props.zIndex}function $(re,ke,Be){if(Be===void 0&&(Be=!0),F.forEach(function(Fe){Fe[re]&&Fe[re].apply(Fe,ke)}),Be){var Ee;(Ee=y.props)[re].apply(Ee,ke)}}function ae(){var re=y.props.aria;if(re.content){var ke="aria-"+re.content,Be=T.id,Ee=iu(y.props.triggerTarget||t);Ee.forEach(function(Fe){var De=Fe.getAttribute(ke);if(y.state.isVisible)Fe.setAttribute(ke,De?De+" "+Be:Be);else{var st=De&&De.replace(Be,"").trim();st?Fe.setAttribute(ke,st):Fe.removeAttribute(ke)}})}}function X(){if(!(z||!y.props.aria.expanded)){var re=iu(y.props.triggerTarget||t);re.forEach(function(ke){y.props.interactive?ke.setAttribute("aria-expanded",y.state.isVisible&&ke===M()?"true":"false"):ke.removeAttribute("aria-expanded")})}}function Y(){D().removeEventListener("mousemove",C),ay=ay.filter(function(re){return re!==C})}function ue(re){if(!(za.isTouch&&(d||re.type==="mousedown"))){var ke=re.composedPath&&re.composedPath()[0]||re.target;if(!(y.props.interactive&&sL(T,ke))){if(iu(y.props.triggerTarget||t).some(function(Be){return sL(Be,ke)})){if(za.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[y,re]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),h=!0,setTimeout(function(){h=!1}),y.state.isMounted||xe())}}}function be(){d=!0}function Oe(){d=!1}function me(){var re=D();re.addEventListener("mousedown",ue,!0),re.addEventListener("touchend",ue,Ic),re.addEventListener("touchstart",Oe,Ic),re.addEventListener("touchmove",be,Ic)}function xe(){var re=D();re.removeEventListener("mousedown",ue,!0),re.removeEventListener("touchend",ue,Ic),re.removeEventListener("touchstart",Oe,Ic),re.removeEventListener("touchmove",be,Ic)}function Ae(re,ke){tt(re,function(){!y.state.isVisible&&T.parentNode&&T.parentNode.contains(T)&&ke()})}function $e(re,ke){tt(re,ke)}function tt(re,ke){var Be=I().box;function Ee(Fe){Fe.target===Be&&(q1(Be,"remove",Ee),ke())}if(re===0)return ke();q1(Be,"remove",v),q1(Be,"add",Ee),v=Ee}function ye(re,ke,Be){Be===void 0&&(Be=!1);var Ee=iu(y.props.triggerTarget||t);Ee.forEach(function(Fe){Fe.addEventListener(re,ke,Be),b.push({node:Fe,eventType:re,handler:ke,options:Be})})}function dt(){m()&&(ye("touchstart",Gt,{passive:!0}),ye("touchend",ri,{passive:!0})),NY(y.props.trigger).forEach(function(re){if(re!=="manual")switch(ye(re,Gt),re){case"mouseenter":ye("mouseleave",ri);break;case"focus":ye(ZY?"focusout":"blur",fi);break;case"focusin":ye("focusout",fi);break}})}function ft(){b.forEach(function(re){var ke=re.node,Be=re.eventType,Ee=re.handler,Fe=re.options;ke.removeEventListener(Be,Ee,Fe)}),b=[]}function Gt(re){var ke,Be=!1;if(!(!y.state.isEnabled||ci(re)||h)){var Ee=((ke=g)==null?void 0:ke.type)==="focus";g=re,O=re.currentTarget,X(),!y.state.isVisible&&WY(re)&&ay.forEach(function(Fe){return Fe(re)}),re.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||a)&&y.props.hideOnClick!==!1&&y.state.isVisible?Be=!0:Br(re),re.type==="click"&&(a=!Be),Be&&!Ee&&Ai(re)}}function Re(re){var ke=re.target,Be=M().contains(ke)||T.contains(ke);if(!(re.type==="mousemove"&&Be)){var Ee=Or().concat(T).map(function(Fe){var De,st=Fe._tippy,pt=(De=st.popperInstance)==null?void 0:De.state;return pt?{popperRect:Fe.getBoundingClientRect(),popperState:pt,props:i}:null}).filter(Boolean);VY(Ee,re)&&(Y(),Ai(re))}}function ri(re){var ke=ci(re)||y.props.trigger.indexOf("click")>=0&&a;if(!ke){if(y.props.interactive){y.hideWithInteractivity(re);return}Ai(re)}}function fi(re){y.props.trigger.indexOf("focusin")<0&&re.target!==M()||y.props.interactive&&re.relatedTarget&&T.contains(re.relatedTarget)||Ai(re)}function ci(re){return za.isTouch?m()!==re.type.indexOf("touch")>=0:!1}function Ve(){Yi();var re=y.props,ke=re.popperOptions,Be=re.placement,Ee=re.offset,Fe=re.getReferenceClientRect,De=re.moveTransition,st=w()?Vx(T).arrow:null,pt=Fe?{getBoundingClientRect:Fe,contextElement:Fe.contextElement||M()}:t,ii={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(te){var he=te.state;if(w()){var _e=I(),Ye=_e.box;["placement","reference-hidden","escaped"].forEach(function(Je){Je==="placement"?Ye.setAttribute("data-placement",he.placement):he.attributes.popper["data-popper-"+Je]?Ye.setAttribute("data-"+Je,""):Ye.removeAttribute("data-"+Je)}),he.attributes.popper={}}}},oi=[{name:"offset",options:{offset:Ee}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!De}},ii];w()&&st&&oi.push({name:"arrow",options:{element:st,padding:3}}),oi.push.apply(oi,(ke==null?void 0:ke.modifiers)||[]),y.popperInstance=YF(pt,T,Object.assign({},ke,{placement:Be,onFirstUpdate:x,modifiers:oi}))}function Yi(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function Fi(){var re=y.props.appendTo,ke,Be=M();y.props.interactive&&re===ZF||re==="parent"?ke=Be.parentNode:ke=QF(re,[Be]),ke.contains(T)||ke.appendChild(T),y.state.isMounted=!0,Ve()}function Or(){return iv(T.querySelectorAll("[data-tippy-root]"))}function Br(re){y.clearDelayTimeouts(),re&&$("onTrigger",[y,re]),me();var ke=H(!0),Be=N(),Ee=Be[0],Fe=Be[1];za.isTouch&&Ee==="hold"&&Fe&&(ke=Fe),ke?s=setTimeout(function(){y.show()},ke):y.show()}function Ai(re){if(y.clearDelayTimeouts(),$("onUntrigger",[y,re]),!y.state.isVisible){xe();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(re.type)>=0&&a)){var ke=H(!1);ke?n=setTimeout(function(){y.state.isVisible&&y.hide()},ke):l=requestAnimationFrame(function(){y.hide()})}}function Wi(){y.state.isEnabled=!0}function Q(){y.hide(),y.state.isEnabled=!1}function ce(){clearTimeout(s),clearTimeout(n),cancelAnimationFrame(l)}function oe(re){if(!y.state.isDestroyed){$("onBeforeUpdate",[y,re]),ft();var ke=y.props,Be=aL(t,Object.assign({},ke,iL(re),{ignoreAttributes:!0}));y.props=Be,dt(),ke.interactiveDebounce!==Be.interactiveDebounce&&(Y(),C=eL(Re,Be.interactiveDebounce)),ke.triggerTarget&&!Be.triggerTarget?iu(ke.triggerTarget).forEach(function(Ee){Ee.removeAttribute("aria-expanded")}):Be.triggerTarget&&t.removeAttribute("aria-expanded"),X(),j(),A&&A(ke,Be),y.popperInstance&&(Ve(),Or().forEach(function(Ee){requestAnimationFrame(Ee._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[y,re])}}function Se(re){y.setProps({content:re})}function Te(){var re=y.state.isVisible,ke=y.state.isDestroyed,Be=!y.state.isEnabled,Ee=za.isTouch&&!y.props.touch,Fe=W1(y.props.duration,0,ma.duration);if(!(re||ke||Be||Ee)&&!M().hasAttribute("disabled")&&($("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,w()&&(T.style.visibility="visible"),j(),me(),y.state.isMounted||(T.style.transition="none"),w()){var De=I(),st=De.box,pt=De.content;j1([st,pt],0)}x=function(){var oi;if(!(!y.state.isVisible||f)){if(f=!0,T.offsetHeight,T.style.transition=y.props.moveTransition,w()&&y.props.animation){var ee=I(),te=ee.box,he=ee.content;j1([te,he],Fe),rL([te,he],"visible")}ae(),X(),tL($1,y),(oi=y.popperInstance)==null||oi.forceUpdate(),$("onMount",[y]),y.props.animation&&w()&&$e(Fe,function(){y.state.isShown=!0,$("onShown",[y])})}},Fi()}}function Me(){var re=!y.state.isVisible,ke=y.state.isDestroyed,Be=!y.state.isEnabled,Ee=W1(y.props.duration,1,ma.duration);if(!(re||ke||Be)&&($("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,f=!1,a=!1,w()&&(T.style.visibility="hidden"),Y(),xe(),j(!0),w()){var Fe=I(),De=Fe.box,st=Fe.content;y.props.animation&&(j1([De,st],Ee),rL([De,st],"hidden"))}ae(),X(),y.props.animation?w()&&Ae(Ee,y.unmount):y.unmount()}}function it(re){D().addEventListener("mousemove",C),tL(ay,C),C(re)}function vt(){y.state.isVisible&&y.hide(),y.state.isMounted&&(Yi(),Or().forEach(function(re){re._tippy.unmount()}),T.parentNode&&T.parentNode.removeChild(T),$1=$1.filter(function(re){return re!==y}),y.state.isMounted=!1,$("onHidden",[y]))}function Ct(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),ft(),delete t._tippy,y.state.isDestroyed=!0,$("onDestroy",[y]))}}function am(t,e){e===void 0&&(e={});var i=ma.plugins.concat(e.plugins||[]);XY();var s=Object.assign({},e,{plugins:i}),n=qY(t),l=n.reduce(function(a,h){var d=h&&nG(h,s);return d&&a.push(d),a},[]);return nb(t)?l[0]:l}am.defaultProps=ma;am.setDefaultProps=tG;am.currentInput=za;Object.assign({},zF,{effect:function(e){var i=e.state,s={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,s.popper),i.styles=s,i.elements.arrow&&Object.assign(i.elements.arrow.style,s.arrow)}});am.setDefaultProps({render:tI});(function(t,e){typeof exports=="object"&&typeof module=="object"?module.exports=e():typeof define=="function"&&define.amd?define([],e):typeof exports=="object"?exports.SlimSelect=e():t.SlimSelect=e()})(window,function(){return i={},t.m=e=[function(s,n,l){function a(h,d){d=d||{bubbles:!1,cancelable:!1,detail:void 0};var f=document.createEvent("CustomEvent");return f.initCustomEvent(h,d.bubbles,d.cancelable,d.detail),f}n.__esModule=!0,n.kebabCase=n.highlight=n.isValueInArrayOfObjects=n.debounce=n.putContent=n.ensureElementInView=n.hasClassInTree=void 0,n.hasClassInTree=function(h,d){function f(g,v){return v&&g&&g.classList&&g.classList.contains(v)?g:null}return f(h,d)||function g(v,x){return v&&v!==document?f(v,x)?v:g(v.parentNode,x):null}(h,d)},n.ensureElementInView=function(h,x){var f=h.scrollTop+h.offsetTop,g=f+h.clientHeight,v=x.offsetTop,x=v+x.clientHeight;v<f?h.scrollTop-=f-v:g<x&&(h.scrollTop+=x-g)},n.putContent=function(v,d,f){var x=v.offsetHeight,g=v.getBoundingClientRect(),v=f?g.top:g.top-x,x=f?g.bottom:g.bottom+x;return v<=0?"below":x>=window.innerHeight?"above":f?d:"below"},n.debounce=function(h,d,f){var g;return d===void 0&&(d=100),f===void 0&&(f=!1),function(){for(var v=[],x=0;x<arguments.length;x++)v[x]=arguments[x];var b=self,C=f&&!g;clearTimeout(g),g=setTimeout(function(){g=null,f||h.apply(b,v)},d),C&&h.apply(b,v)}},n.isValueInArrayOfObjects=function(h,d,f){if(!Array.isArray(h))return h[d]===f;for(var g=0,v=h;g<v.length;g++){var x=v[g];if(x&&x[d]&&x[d]===f)return!0}return!1},n.highlight=function(h,b,f){var g=h,v=new RegExp("("+b.trim()+")(?![^<]*>[^<>]*</)","i");if(!h.match(v))return h;var x=h.match(v).index,b=x+h.match(v)[0].toString().length,b=h.substring(x,b);return g=g.replace(v,'<mark class="'.concat(f,'">').concat(b,"</mark>"))},n.kebabCase=function(h){var d=h.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(f){return"-"+f.toLowerCase()});return h[0]===h[0].toUpperCase()?d.substring(1):d},typeof(n=window).CustomEvent!="function"&&(a.prototype=n.Event.prototype,n.CustomEvent=a)},function(s,n,l){n.__esModule=!0,n.validateOption=n.validateData=n.Data=void 0;var a=(h.prototype.newOption=function(f){return{id:f.id||String(Math.floor(1e8*Math.random())),value:f.value||"",text:f.text||"",innerHTML:f.innerHTML||"",selected:f.selected||!1,display:f.display===void 0||f.display,disabled:f.disabled||!1,placeholder:f.placeholder||!1,class:f.class||void 0,data:f.data||{},mandatory:f.mandatory||!1}},h.prototype.add=function(f){this.data.push({id:String(Math.floor(1e8*Math.random())),value:f.value,text:f.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:f.mandatory,data:{}})},h.prototype.parseSelectData=function(){this.data=[];for(var f=0,g=this.main.select.element.childNodes;f<g.length;f++){var v=g[f];if(v.nodeName==="OPTGROUP"){for(var x={label:v.label,options:[]},b=0,C=v.childNodes;b<C.length;b++){var O,P=C[b];P.nodeName==="OPTION"&&(O=this.pullOptionData(P),x.options.push(O),O.placeholder&&O.text.trim()!==""&&(this.main.config.placeholderText=O.text))}this.data.push(x)}else v.nodeName==="OPTION"&&(O=this.pullOptionData(v),this.data.push(O),O.placeholder&&O.text.trim()!==""&&(this.main.config.placeholderText=O.text))}},h.prototype.pullOptionData=function(f){return{id:!!f.dataset&&f.dataset.id||String(Math.floor(1e8*Math.random())),value:f.value,text:f.text,innerHTML:f.innerHTML,selected:f.selected,disabled:f.disabled,placeholder:f.dataset.placeholder==="true",class:f.className,style:f.style.cssText,data:f.dataset,mandatory:!!f.dataset&&f.dataset.mandatory==="true"}},h.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var f=[],g=0,v=this.main.select.element.options;g<v.length;g++){var x=v[g];!x.selected||(x=this.getObjectFromData(x.value,"value"))&&x.id&&f.push(x.id)}this.setSelected(f,"id")}else{var b=this.main.select.element;b.selectedIndex!==-1&&(b=b.options[b.selectedIndex].value,this.setSelected(b,"value"))}},h.prototype.setSelected=function(f,g){g===void 0&&(g="id");for(var v=0,x=this.data;v<x.length;v++){var b=x[v];if(b.hasOwnProperty("label")){if(b.hasOwnProperty("options")){var C=b.options;if(C)for(var O=0,P=C;O<P.length;O++){var L=P[O];L.placeholder||(L.selected=this.shouldBeSelected(L,f,g))}}}else b.selected=this.shouldBeSelected(b,f,g)}},h.prototype.shouldBeSelected=function(f,g,v){if(v===void 0&&(v="id"),Array.isArray(g))for(var x=0,b=g;x<b.length;x++){var C=b[x];if(v in f&&String(f[v])===String(C))return!0}else if(v in f&&String(f[v])===String(g))return!0;return!1},h.prototype.getSelected=function(){for(var f={text:"",placeholder:this.main.config.placeholderText},g=[],v=0,x=this.data;v<x.length;v++){var b=x[v];if(b.hasOwnProperty("label")){if(b.hasOwnProperty("options")){var C=b.options;if(C)for(var O=0,P=C;O<P.length;O++){var L=P[O];L.selected&&(this.main.config.isMultiple?g.push(L):f=L)}}}else b.selected&&(this.main.config.isMultiple?g.push(b):f=b)}return this.main.config.isMultiple?g:f},h.prototype.addToSelected=function(f,g){if(g===void 0&&(g="id"),this.main.config.isMultiple){var v=[],x=this.getSelected();if(Array.isArray(x))for(var b=0,C=x;b<C.length;b++){var O=C[b];v.push(O[g])}v.push(f),this.setSelected(v,g)}},h.prototype.removeFromSelected=function(f,g){if(g===void 0&&(g="id"),this.main.config.isMultiple){for(var v=[],x=0,b=this.getSelected();x<b.length;x++){var C=b[x];String(C[g])!==String(f)&&v.push(C[g])}this.setSelected(v,g)}},h.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},h.prototype.getObjectFromData=function(f,g){g===void 0&&(g="id");for(var v=0,x=this.data;v<x.length;v++){var b=x[v];if(g in b&&String(b[g])===String(f))return b;if(b.hasOwnProperty("options")&&b.options)for(var C=0,O=b.options;C<O.length;C++){var P=O[C];if(String(P[g])===String(f))return P}}return null},h.prototype.search=function(f){var g,v;(this.searchValue=f).trim()!==""?(g=this.main.config.searchFilter,v=this.data.slice(0),f=f.trim(),v=v.map(function(x){if(x.hasOwnProperty("options")){var b=x,C=[];if((C=b.options?b.options.filter(function(O){return g(O,f)}):C).length!==0)return b=Object.assign({},b),b.options=C,b}return x.hasOwnProperty("text")&&g(x,f)?x:null}),this.filtered=v.filter(function(x){return x})):this.filtered=null},h);function h(f){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=f.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function d(f){return f.text!==void 0||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(f)),!1)}n.Data=a,n.validateData=function(f){if(!f)return console.error("Data must be an array of objects"),!1;for(var g=0,v=0,x=f;v<x.length;v++){var b=x[v];if(b.hasOwnProperty("label")){if(b.hasOwnProperty("options")){var C=b.options;if(C)for(var O=0,P=C;O<P.length;O++)d(P[O])||g++}}else d(b)||g++}return g===0},n.validateOption=d},function(s,n,v){n.__esModule=!0;var a=v(3),h=v(4),d=v(5),f=v(1),g=v(0),v=(x.prototype.validate=function(b){if(b=typeof b.select=="string"?document.querySelector(b.select):b.select,!b)throw new Error("Could not find select element");if(b.tagName!=="SELECT")throw new Error("Element isnt of type select");return b},x.prototype.selected=function(){if(this.config.isMultiple){for(var b=[],C=0,O=L=this.data.getSelected();C<O.length;C++){var P=O[C];b.push(P.value)}return b}var L;return(L=this.data.getSelected())?L.value:""},x.prototype.set=function(b,C,O,P){C===void 0&&(C="value"),O===void 0&&(O=!0),this.config.isMultiple&&!Array.isArray(b)?this.data.addToSelected(b,C):this.data.setSelected(b,C),this.select.setValue(),this.data.onDataChange(),this.render(),(O=this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length?!0:O)&&this.close()},x.prototype.setSelected=function(b,C,O,P){this.set(b,C=C===void 0?"value":C,O=O===void 0?!0:O,P=P===void 0?!0:P)},x.prototype.setData=function(b){if((0,f.validateData)(b)){for(var C=JSON.parse(JSON.stringify(b)),O=this.data.getSelected(),P=0;P<C.length;P++)C[P].value||C[P].placeholder||(C[P].value=C[P].text);if(this.config.isAjax&&O)if(this.config.isMultiple)for(var L=0,u=O.reverse();L<u.length;L++){var S=u[L];C.unshift(S)}else{for(C.unshift(O),P=0;P<C.length;P++)C[P].placeholder||C[P].value!==O.value||C[P].text!==O.text||C.splice(P,1);for(var y=!1,P=0;P<C.length;P++)C[P].placeholder&&(y=!0);y||C.unshift({text:"",placeholder:!0})}this.select.create(C),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},x.prototype.addData=function(b){(0,f.validateData)([b])?(this.data.add(this.data.newOption(b)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},x.prototype.open=function(){var b,C=this;this.config.isEnabled&&(this.data.contentOpen||this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length||(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add(this.data.contentPosition==="above"?this.config.openAbove:this.config.openBelow),this.config.addToBody&&(b=this.slim.container.getBoundingClientRect(),this.slim.content.style.top=b.top+b.height+window.scrollY+"px",this.slim.content.style.left=b.left+window.scrollX+"px",this.slim.content.style.width=b.width+"px"),this.slim.content.classList.add(this.config.open),this.config.showContent.toLowerCase()==="up"||this.config.showContent.toLowerCase()!=="down"&&(0,g.putContent)(this.slim.content,this.data.contentPosition,this.data.contentOpen)==="above"?this.moveContentAbove():this.moveContentBelow(),this.config.isMultiple||(b=this.data.getSelected())&&(b=b.id,(b=this.slim.list.querySelector('[data-id="'+b+'"]'))&&(0,g.ensureElementInView)(this.slim.list,b)),setTimeout(function(){C.data.contentOpen=!0,C.config.searchFocus&&C.slim.search.input.focus(),C.afterOpen&&C.afterOpen()},this.config.timeoutDelay)))},x.prototype.close=function(){var b=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){b.slim.content.removeAttribute("style"),b.data.contentPosition="below",b.config.isMultiple&&b.slim.multiSelected?(b.slim.multiSelected.container.classList.remove(b.config.openAbove),b.slim.multiSelected.container.classList.remove(b.config.openBelow)):b.slim.singleSelected&&(b.slim.singleSelected.container.classList.remove(b.config.openAbove),b.slim.singleSelected.container.classList.remove(b.config.openBelow)),b.slim.search.input.blur(),b.afterClose&&b.afterClose()},this.config.timeoutDelay))},x.prototype.moveContentAbove=function(){var b=0;this.config.isMultiple&&this.slim.multiSelected?b=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(b=this.slim.singleSelected.container.offsetHeight);var C=b+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+C+"px 0 0 0",this.slim.content.style.height=C-b+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},x.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},x.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},x.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},x.prototype.search=function(b){var C;this.data.searchValue!==b&&(this.slim.search.input.value=b,this.config.isAjax?((C=this).config.isSearching=!0,this.render(),this.ajax&&this.ajax(b,function(O){C.config.isSearching=!1,Array.isArray(O)?(O.unshift({text:"",placeholder:!0}),C.setData(O),C.data.search(b),C.render()):typeof O=="string"?C.slim.options(O):C.render()})):(this.data.search(b),this.render()))},x.prototype.setSearchText=function(b){this.config.searchText=b},x.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},x.prototype.destroy=function(b){var C=(b=b===void 0?null:b)?document.querySelector("."+b+".ss-main"):this.slim.container,O=b?document.querySelector("[data-ssid=".concat(b,"]")):this.select.element;C&&O&&(document.removeEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),O.style.display="",delete O.dataset.ssid,O.slim=null,C.parentElement&&C.parentElement.removeChild(C),!this.config.addToBody||(b=b?document.querySelector("."+b+".ss-content"):this.slim.content)&&document.body.removeChild(b))},x);function x(b){var C=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=(0,g.debounce)(function(P){C.data.contentOpen&&((0,g.putContent)(C.slim.content,C.data.contentPosition,C.data.contentOpen)==="above"?C.moveContentAbove():C.moveContentBelow())}),this.documentClick=function(P){P.target&&!(0,g.hasClassInTree)(P.target,C.config.id)&&C.close()};var O=this.validate(b);O.dataset.ssid&&this.destroy(O.dataset.ssid),b.ajax&&(this.ajax=b.ajax),b.addable&&(this.addable=b.addable),this.config=new a.Config({select:O,isAjax:!!b.ajax,showSearch:b.showSearch,searchPlaceholder:b.searchPlaceholder,searchText:b.searchText,searchingText:b.searchingText,searchFocus:b.searchFocus,searchHighlight:b.searchHighlight,searchFilter:b.searchFilter,closeOnSelect:b.closeOnSelect,showContent:b.showContent,placeholderText:b.placeholder,allowDeselect:b.allowDeselect,allowDeselectOption:b.allowDeselectOption,hideSelectedOption:b.hideSelectedOption,deselectLabel:b.deselectLabel,isEnabled:b.isEnabled,valuesUseText:b.valuesUseText,showOptionTooltips:b.showOptionTooltips,selectByGroup:b.selectByGroup,limit:b.limit,timeoutDelay:b.timeoutDelay,addToBody:b.addToBody}),this.select=new h.Select({select:O,main:this}),this.data=new f.Data({main:this}),this.slim=new d.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),b.data?this.setData(b.data):this.render(),document.addEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),b.beforeOnChange&&(this.beforeOnChange=b.beforeOnChange),b.onChange&&(this.onChange=b.onChange),b.beforeOpen&&(this.beforeOpen=b.beforeOpen),b.afterOpen&&(this.afterOpen=b.afterOpen),b.beforeClose&&(this.beforeClose=b.beforeClose),b.afterClose&&(this.afterClose=b.afterClose),this.config.isEnabled||this.disable()}n.default=v},function(s,n,l){n.__esModule=!0,n.Config=void 0;var a=(h.prototype.searchFilter=function(d,f){return d.text.toLowerCase().indexOf(f.toLowerCase())!==-1},h);function h(d){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=d.select.style.cssText,this.class=d.select.className.split(" "),this.isMultiple=d.select.multiple,this.isAjax=d.isAjax,this.showSearch=d.showSearch!==!1,this.searchFocus=d.searchFocus!==!1,this.searchHighlight=d.searchHighlight===!0,this.closeOnSelect=d.closeOnSelect!==!1,d.showContent&&(this.showContent=d.showContent),this.isEnabled=d.isEnabled!==!1,d.searchPlaceholder&&(this.searchPlaceholder=d.searchPlaceholder),d.searchText&&(this.searchText=d.searchText),d.searchingText&&(this.searchingText=d.searchingText),d.placeholderText&&(this.placeholderText=d.placeholderText),this.allowDeselect=d.allowDeselect===!0,this.allowDeselectOption=d.allowDeselectOption===!0,this.hideSelectedOption=d.hideSelectedOption===!0,d.deselectLabel&&(this.deselectLabel=d.deselectLabel),d.valuesUseText&&(this.valuesUseText=d.valuesUseText),d.showOptionTooltips&&(this.showOptionTooltips=d.showOptionTooltips),d.selectByGroup&&(this.selectByGroup=d.selectByGroup),d.limit&&(this.limit=d.limit),d.searchFilter&&(this.searchFilter=d.searchFilter),d.timeoutDelay!=null&&(this.timeoutDelay=d.timeoutDelay),this.addToBody=d.addToBody===!0}n.Config=a},function(s,n,h){n.__esModule=!0,n.Select=void 0;var a=h(0),h=(d.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var f=this.main.data.getSelected(),g=0,v=this.element.options;g<v.length;g++){var x=v[g];x.selected=!1;for(var b=0,C=f;b<C.length;b++)C[b].value===x.value&&(x.selected=!0)}else f=this.main.data.getSelected(),this.element.value=f?f.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},d.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id,this.element.setAttribute("aria-hidden","true")},d.prototype.addEventListeners=function(){var f=this;this.element.addEventListener("change",function(g){f.main.data.setSelectedFromSelect(),f.main.render()})},d.prototype.addMutationObserver=function(){var f=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(g){f.triggerMutationObserver&&(f.main.data.parseSelectData(),f.main.data.setSelectedFromSelect(),f.main.render(),g.forEach(function(v){v.attributeName==="class"&&f.main.slim.updateContainerDivClass(f.main.slim.container)}))}),this.observeMutationObserver())},d.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},d.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},d.prototype.create=function(f){this.element.innerHTML="";for(var g=0,v=f;g<v.length;g++){var x=v[g];if(x.hasOwnProperty("options")){var b=x,C=document.createElement("optgroup");if(C.label=b.label,b.options)for(var O=0,P=b.options;O<P.length;O++){var L=P[O];C.appendChild(this.createOption(L))}this.element.appendChild(C)}else this.element.appendChild(this.createOption(x))}},d.prototype.createOption=function(f){var g=document.createElement("option");return g.value=f.value!==""?f.value:f.text,g.innerHTML=f.innerHTML||f.text,f.selected&&(g.selected=f.selected),f.display===!1&&(g.style.display="none"),f.disabled&&(g.disabled=!0),f.placeholder&&g.setAttribute("data-placeholder","true"),f.mandatory&&g.setAttribute("data-mandatory","true"),f.class&&f.class.split(" ").forEach(function(v){g.classList.add(v)}),f.data&&typeof f.data=="object"&&Object.keys(f.data).forEach(function(v){g.setAttribute("data-"+(0,a.kebabCase)(v),f.data[v])}),g},d);function d(f){this.triggerMutationObserver=!0,this.element=f.select,this.main=f.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=f.main}n.Select=h},function(s,n,d){n.__esModule=!0,n.Slim=void 0;var a=d(0),h=d(1),d=(f.prototype.containerDiv=function(){var g=document.createElement("div");return g.style.cssText=this.main.config.style,this.updateContainerDivClass(g),g},f.prototype.updateContainerDivClass=function(g){this.main.config.class=this.main.select.element.className.split(" "),g.className="",g.classList.add(this.main.config.id),g.classList.add(this.main.config.main);for(var v=0,x=this.main.config.class;v<x.length;v++){var b=x[v];b.trim()!==""&&g.classList.add(b)}},f.prototype.singleSelectedDiv=function(){var g=this,v=document.createElement("div");v.classList.add(this.main.config.singleSelected);var x=document.createElement("span");x.classList.add("placeholder"),v.appendChild(x);var b=document.createElement("span");b.innerHTML=this.main.config.deselectLabel,b.classList.add("ss-deselect"),b.onclick=function(P){P.stopPropagation(),g.main.config.isEnabled&&g.main.set("")},v.appendChild(b);var C=document.createElement("span");C.classList.add(this.main.config.arrow);var O=document.createElement("span");return O.classList.add("arrow-down"),C.appendChild(O),v.appendChild(C),v.onclick=function(){g.main.config.isEnabled&&(g.main.data.contentOpen?g.main.close():g.main.open())},{container:v,placeholder:x,deselect:b,arrowIcon:{container:C,arrow:O}}},f.prototype.placeholder=function(){var g,v=this.main.data.getSelected();v===null||v&&v.placeholder?((g=document.createElement("span")).classList.add(this.main.config.disabled),g.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=g.outerHTML)):(g="",v&&(g=v.innerHTML&&this.main.config.valuesUseText!==!0?v.innerHTML:v.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=v?g:""))},f.prototype.deselect=function(){this.singleSelected&&(!this.main.config.allowDeselect||this.main.selected()===""?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide"))},f.prototype.multiSelectedDiv=function(){var g=this,v=document.createElement("div");v.classList.add(this.main.config.multiSelected);var x=document.createElement("div");x.classList.add(this.main.config.values),v.appendChild(x);var b=document.createElement("div");b.classList.add(this.main.config.add);var C=document.createElement("span");return C.classList.add(this.main.config.plus),C.onclick=function(O){g.main.data.contentOpen&&(g.main.close(),O.stopPropagation())},b.appendChild(C),v.appendChild(b),v.onclick=function(O){g.main.config.isEnabled&&(O.target.classList.contains(g.main.config.valueDelete)||(g.main.data.contentOpen?g.main.close():g.main.open()))},{container:v,values:x,add:b,plus:C}},f.prototype.values=function(){if(this.multiSelected){for(var g=this.multiSelected.values.childNodes,v=this.main.data.getSelected(),x=[],b=0,C=g;b<C.length;b++){for(var O=C[b],P=!0,L=0,u=v;L<u.length;L++){var S=u[L];String(S.id)===String(O.dataset.id)&&(P=!1)}P&&x.push(O)}for(var y=0,k=x;y<k.length;y++){var T=k[y];T.classList.add("ss-out"),this.multiSelected.values.removeChild(T)}for(var A,g=this.multiSelected.values.childNodes,S=0;S<v.length;S++){P=!1;for(var F=0,z=g;F<z.length;F++)O=z[F],String(v[S].id)===String(O.dataset.id)&&(P=!0);P||(g.length!==0&&HTMLElement.prototype.insertAdjacentElement?S===0?this.multiSelected.values.insertBefore(this.valueDiv(v[S]),g[S]):g[S-1].insertAdjacentElement("afterend",this.valueDiv(v[S])):this.multiSelected.values.appendChild(this.valueDiv(v[S])))}v.length===0&&((A=document.createElement("span")).classList.add(this.main.config.disabled),A.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=A.outerHTML)}},f.prototype.valueDiv=function(g){var v=this,x=document.createElement("div");x.classList.add(this.main.config.value),x.dataset.id=g.id;var b=document.createElement("span");return b.classList.add(this.main.config.valueText),b.innerHTML=g.innerHTML&&this.main.config.valuesUseText!==!0?g.innerHTML:g.text,x.appendChild(b),g.mandatory||((b=document.createElement("span")).classList.add(this.main.config.valueDelete),b.innerHTML=this.main.config.deselectLabel,b.onclick=function(C){C.preventDefault(),C.stopPropagation();var O=!1;if(v.main.beforeOnChange||(O=!0),v.main.beforeOnChange){for(var C=v.main.data.getSelected(),P=JSON.parse(JSON.stringify(C)),L=0;L<P.length;L++)P[L].id===g.id&&P.splice(L,1);v.main.beforeOnChange(P)!==!1&&(O=!0)}O&&(v.main.data.removeFromSelected(g.id,"id"),v.main.render(),v.main.select.setValue(),v.main.data.onDataChange())},x.appendChild(b)),x},f.prototype.contentDiv=function(){var g=document.createElement("div");return g.classList.add(this.main.config.content),g},f.prototype.searchDiv=function(){var g=this,v=document.createElement("div"),x=document.createElement("input"),b=document.createElement("div");v.classList.add(this.main.config.search);var C={container:v,input:x};return this.main.config.showSearch||(v.classList.add(this.main.config.hide),x.readOnly=!0),x.type="search",x.placeholder=this.main.config.searchPlaceholder,x.tabIndex=0,x.setAttribute("aria-label",this.main.config.searchPlaceholder),x.setAttribute("autocapitalize","off"),x.setAttribute("autocomplete","off"),x.setAttribute("autocorrect","off"),x.onclick=function(O){setTimeout(function(){O.target.value===""&&g.main.search("")},10)},x.onkeydown=function(O){O.key==="ArrowUp"?(g.main.open(),g.highlightUp(),O.preventDefault()):O.key==="ArrowDown"?(g.main.open(),g.highlightDown(),O.preventDefault()):O.key==="Tab"?g.main.data.contentOpen?g.main.close():setTimeout(function(){g.main.close()},g.main.config.timeoutDelay):O.key==="Enter"&&O.preventDefault()},x.onkeyup=function(O){var P=O.target;if(O.key==="Enter"){if(g.main.addable&&O.ctrlKey)return b.click(),O.preventDefault(),void O.stopPropagation();var L=g.list.querySelector("."+g.main.config.highlighted);L&&L.click()}else O.key==="ArrowUp"||O.key==="ArrowDown"||(O.key==="Escape"?g.main.close():g.main.config.showSearch&&g.main.data.contentOpen?g.main.search(P.value):x.value="");O.preventDefault(),O.stopPropagation()},x.onfocus=function(){g.main.open()},v.appendChild(x),this.main.addable&&(b.classList.add(this.main.config.addable),b.innerHTML="+",b.onclick=function(O){var P;g.main.addable&&(O.preventDefault(),O.stopPropagation(),(O=g.search.input.value).trim()!==""?(O=g.main.addable(O),P="",O&&(typeof O=="object"?(0,h.validateOption)(O)&&(g.main.addData(O),P=O.value||O.text):(g.main.addData(g.main.data.newOption({text:O,value:O})),P=O),g.main.search(""),setTimeout(function(){g.main.set(P,"value",!1,!1)},100),g.main.config.closeOnSelect&&setTimeout(function(){g.main.close()},100))):g.search.input.focus())},v.appendChild(b),C.addable=b),C},f.prototype.highlightUp=function(){var g=this.list.querySelector("."+this.main.config.highlighted),x=null;if(g)for(x=g.previousSibling;x!==null&&x.classList.contains(this.main.config.disabled);)x=x.previousSibling;else var v=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")"),x=v[v.length-1];(x=x&&x.classList.contains(this.main.config.optgroupLabel)?null:x)!==null||(v=g.parentNode).classList.contains(this.main.config.optgroup)&&(!v.previousSibling||(v=v.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")")).length&&(x=v[v.length-1])),x&&(g&&g.classList.remove(this.main.config.highlighted),x.classList.add(this.main.config.highlighted),(0,a.ensureElementInView)(this.list,x))},f.prototype.highlightDown=function(){var g,v=this.list.querySelector("."+this.main.config.highlighted),x=null;if(v)for(x=v.nextSibling;x!==null&&x.classList.contains(this.main.config.disabled);)x=x.nextSibling;else x=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");x!==null||v===null||(g=v.parentNode).classList.contains(this.main.config.optgroup)&&g.nextSibling&&(x=g.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")),x&&(v&&v.classList.remove(this.main.config.highlighted),x.classList.add(this.main.config.highlighted),(0,a.ensureElementInView)(this.list,x))},f.prototype.listDiv=function(){var g=document.createElement("div");return g.classList.add(this.main.config.list),g.setAttribute("role","listbox"),g},f.prototype.options=function(g){g===void 0&&(g="");var v=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==g)return(x=document.createElement("div")).classList.add(this.main.config.option),x.classList.add(this.main.config.disabled),x.innerHTML=g,void this.list.appendChild(x);if(this.main.config.isAjax&&this.main.config.isSearching)return(x=document.createElement("div")).classList.add(this.main.config.option),x.classList.add(this.main.config.disabled),x.innerHTML=this.main.config.searchingText,void this.list.appendChild(x);if(v.length===0){var x=document.createElement("div");return x.classList.add(this.main.config.option),x.classList.add(this.main.config.disabled),x.innerHTML=this.main.config.searchText,void this.list.appendChild(x)}for(var b=this,C=0,O=v;C<O.length;C++)(function(P){if(P.hasOwnProperty("label")){var L=P,u=document.createElement("div");u.classList.add(b.main.config.optgroup);var S=document.createElement("div");if(S.classList.add(b.main.config.optgroupLabel),b.main.config.selectByGroup&&b.main.config.isMultiple&&S.classList.add(b.main.config.optgroupLabelSelectable),S.innerHTML=L.label,u.appendChild(S),L=L.options,L){for(var y,k=0,T=L;k<T.length;k++){var A=T[k];u.appendChild(b.option(A))}b.main.config.selectByGroup&&b.main.config.isMultiple&&(y=b,S.addEventListener("click",function(F){F.preventDefault(),F.stopPropagation();for(var z=0,N=u.children;z<N.length;z++){var m=N[z];m.className.indexOf(y.main.config.option)!==-1&&m.click()}}))}b.list.appendChild(u)}else b.list.appendChild(b.option(P))})(O[C])},f.prototype.option=function(g){if(g.placeholder){var v=document.createElement("div");return v.classList.add(this.main.config.option),v.classList.add(this.main.config.hide),v}var x=document.createElement("div");x.classList.add(this.main.config.option),x.setAttribute("role","option"),g.class&&g.class.split(" ").forEach(function(O){x.classList.add(O)}),g.style&&(x.style.cssText=g.style);var b=this.main.data.getSelected();x.dataset.id=g.id,this.main.config.searchHighlight&&this.main.slim&&g.innerHTML&&this.main.slim.search.input.value.trim()!==""?x.innerHTML=(0,a.highlight)(g.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):g.innerHTML&&(x.innerHTML=g.innerHTML),this.main.config.showOptionTooltips&&x.textContent&&x.setAttribute("title",x.textContent);var C=this;return x.addEventListener("click",function(O){O.preventDefault(),O.stopPropagation();var P=this.dataset.id;if(g.selected===!0&&C.main.config.allowDeselectOption){var L=!1;if(C.main.beforeOnChange&&C.main.config.isMultiple||(L=!0),C.main.beforeOnChange&&C.main.config.isMultiple){for(var u=C.main.data.getSelected(),S=JSON.parse(JSON.stringify(u)),y=0;y<S.length;y++)S[y].id===P&&S.splice(y,1);C.main.beforeOnChange(S)!==!1&&(L=!0)}L&&(C.main.config.isMultiple?(C.main.data.removeFromSelected(P,"id"),C.main.render(),C.main.select.setValue(),C.main.data.onDataChange()):C.main.set(""))}else g.disabled||g.selected||C.main.config.limit&&Array.isArray(b)&&C.main.config.limit<=b.length||(C.main.beforeOnChange?(u=void 0,(L=JSON.parse(JSON.stringify(C.main.data.getObjectFromData(P)))).selected=!0,C.main.config.isMultiple?(u=JSON.parse(JSON.stringify(b))).push(L):u=JSON.parse(JSON.stringify(L)),C.main.beforeOnChange(u)!==!1&&C.main.set(P,"id",C.main.config.closeOnSelect)):C.main.set(P,"id",C.main.config.closeOnSelect))}),v=b&&(0,a.isValueInArrayOfObjects)(b,"id",g.id),(g.disabled||v)&&(x.onclick=null,C.main.config.allowDeselectOption||x.classList.add(this.main.config.disabled),C.main.config.hideSelectedOption&&x.classList.add(this.main.config.hide)),v?x.classList.add(this.main.config.optionSelected):x.classList.remove(this.main.config.optionSelected),x},f);function f(g){this.main=g.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}n.Slim=d}],t.c=i,t.d=function(s,n,l){t.o(s,n)||Object.defineProperty(s,n,{enumerable:!0,get:l})},t.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},t.t=function(s,n){if(1&n&&(s=t(s)),8&n||4&n&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),2&n&&typeof s!="string")for(var a in s)t.d(l,a,(function(h){return s[h]}).bind(null,a));return l},t.n=function(s){var n=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(n,"a",n),n},t.o=function(s,n){return Object.prototype.hasOwnProperty.call(s,n)},t.p="",t(t.s=2).default;function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var e,i});var PS={};(function t(e,i,s,n){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=function(){if(!e.OffscreenCanvas)return!1;var X=new OffscreenCanvas(1,1),Y=X.getContext("2d");Y.fillRect(0,0,1,1);var ue=X.transferToImageBitmap();try{Y.createPattern(ue,"no-repeat")}catch{return!1}return!0}();function d(){}function f(X){var Y=i.exports.Promise,ue=Y!==void 0?Y:e.Promise;return typeof ue=="function"?new ue(X):(X(d,d),null)}var g=function(X,Y){return{transform:function(ue){if(X)return ue;if(Y.has(ue))return Y.get(ue);var be=new OffscreenCanvas(ue.width,ue.height),Oe=be.getContext("2d");return Oe.drawImage(ue,0,0),Y.set(ue,be),be},clear:function(){Y.clear()}}}(h,new Map),v=function(){var X=Math.floor(16.666666666666668),Y,ue,be={},Oe=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(Y=function(me){var xe=Math.random();return be[xe]=requestAnimationFrame(function Ae($e){Oe===$e||Oe+X-1<$e?(Oe=$e,delete be[xe],me()):be[xe]=requestAnimationFrame(Ae)}),xe},ue=function(me){be[me]&&cancelAnimationFrame(be[me])}):(Y=function(me){return setTimeout(me,X)},ue=function(me){return clearTimeout(me)}),{frame:Y,cancel:ue}}(),x=function(){var X,Y,ue={};function be(Oe){function me(xe,Ae){Oe.postMessage({options:xe||{},callback:Ae})}Oe.init=function(Ae){var $e=Ae.transferControlToOffscreen();Oe.postMessage({canvas:$e},[$e])},Oe.fire=function(Ae,$e,tt){if(Y)return me(Ae,null),Y;var ye=Math.random().toString(36).slice(2);return Y=f(function(dt){function ft(Gt){Gt.data.callback===ye&&(delete ue[ye],Oe.removeEventListener("message",ft),Y=null,g.clear(),tt(),dt())}Oe.addEventListener("message",ft),me(Ae,ye),ue[ye]=ft.bind(null,{data:{callback:ye}})}),Y},Oe.reset=function(){Oe.postMessage({reset:!0});for(var Ae in ue)ue[Ae](),delete ue[Ae]}}return function(){if(X)return X;if(!s&&l){var Oe=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{X=new Worker(URL.createObjectURL(new Blob([Oe])))}catch(me){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",me),null}be(X)}return X}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(X,Y){return Y?Y(X):X}function O(X){return X!=null}function P(X,Y,ue){return C(X&&O(X[Y])?X[Y]:b[Y],ue)}function L(X){return X<0?0:Math.floor(X)}function u(X,Y){return Math.floor(Math.random()*(Y-X))+X}function S(X){return parseInt(X,16)}function y(X){return X.map(k)}function k(X){var Y=String(X).replace(/[^0-9a-f]/gi,"");return Y.length<6&&(Y=Y[0]+Y[0]+Y[1]+Y[1]+Y[2]+Y[2]),{r:S(Y.substring(0,2)),g:S(Y.substring(2,4)),b:S(Y.substring(4,6))}}function T(X){var Y=P(X,"origin",Object);return Y.x=P(Y,"x",Number),Y.y=P(Y,"y",Number),Y}function A(X){X.width=document.documentElement.clientWidth,X.height=document.documentElement.clientHeight}function F(X){var Y=X.getBoundingClientRect();X.width=Y.width,X.height=Y.height}function z(X){var Y=document.createElement("canvas");return Y.style.position="fixed",Y.style.top="0px",Y.style.left="0px",Y.style.pointerEvents="none",Y.style.zIndex=X,Y}function N(X,Y,ue,be,Oe,me,xe,Ae,$e){X.save(),X.translate(Y,ue),X.rotate(me),X.scale(be,Oe),X.arc(0,0,1,xe,Ae,$e),X.restore()}function m(X){var Y=X.angle*(Math.PI/180),ue=X.spread*(Math.PI/180);return{x:X.x,y:X.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:X.startVelocity*.5+Math.random()*X.startVelocity,angle2D:-Y+(.5*ue-Math.random()*ue),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:X.color,shape:X.shape,tick:0,totalTicks:X.ticks,decay:X.decay,drift:X.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:X.gravity*3,ovalScalar:.6,scalar:X.scalar,flat:X.flat}}function w(X,Y){Y.x+=Math.cos(Y.angle2D)*Y.velocity+Y.drift,Y.y+=Math.sin(Y.angle2D)*Y.velocity+Y.gravity,Y.velocity*=Y.decay,Y.flat?(Y.wobble=0,Y.wobbleX=Y.x+10*Y.scalar,Y.wobbleY=Y.y+10*Y.scalar,Y.tiltSin=0,Y.tiltCos=0,Y.random=1):(Y.wobble+=Y.wobbleSpeed,Y.wobbleX=Y.x+10*Y.scalar*Math.cos(Y.wobble),Y.wobbleY=Y.y+10*Y.scalar*Math.sin(Y.wobble),Y.tiltAngle+=.1,Y.tiltSin=Math.sin(Y.tiltAngle),Y.tiltCos=Math.cos(Y.tiltAngle),Y.random=Math.random()+2);var ue=Y.tick++/Y.totalTicks,be=Y.x+Y.random*Y.tiltCos,Oe=Y.y+Y.random*Y.tiltSin,me=Y.wobbleX+Y.random*Y.tiltCos,xe=Y.wobbleY+Y.random*Y.tiltSin;if(X.fillStyle="rgba("+Y.color.r+", "+Y.color.g+", "+Y.color.b+", "+(1-ue)+")",X.beginPath(),a&&Y.shape.type==="path"&&typeof Y.shape.path=="string"&&Array.isArray(Y.shape.matrix))X.fill(j(Y.shape.path,Y.shape.matrix,Y.x,Y.y,Math.abs(me-be)*.1,Math.abs(xe-Oe)*.1,Math.PI/10*Y.wobble));else if(Y.shape.type==="bitmap"){var Ae=Math.PI/10*Y.wobble,$e=Math.abs(me-be)*.1,tt=Math.abs(xe-Oe)*.1,ye=Y.shape.bitmap.width*Y.scalar,dt=Y.shape.bitmap.height*Y.scalar,ft=new DOMMatrix([Math.cos(Ae)*$e,Math.sin(Ae)*$e,-Math.sin(Ae)*tt,Math.cos(Ae)*tt,Y.x,Y.y]);ft.multiplySelf(new DOMMatrix(Y.shape.matrix));var Gt=X.createPattern(g.transform(Y.shape.bitmap),"no-repeat");Gt.setTransform(ft),X.globalAlpha=1-ue,X.fillStyle=Gt,X.fillRect(Y.x-ye/2,Y.y-dt/2,ye,dt),X.globalAlpha=1}else if(Y.shape==="circle")X.ellipse?X.ellipse(Y.x,Y.y,Math.abs(me-be)*Y.ovalScalar,Math.abs(xe-Oe)*Y.ovalScalar,Math.PI/10*Y.wobble,0,2*Math.PI):N(X,Y.x,Y.y,Math.abs(me-be)*Y.ovalScalar,Math.abs(xe-Oe)*Y.ovalScalar,Math.PI/10*Y.wobble,0,2*Math.PI);else if(Y.shape==="star")for(var Re=Math.PI/2*3,ri=4*Y.scalar,fi=8*Y.scalar,ci=Y.x,Ve=Y.y,Yi=5,Fi=Math.PI/Yi;Yi--;)ci=Y.x+Math.cos(Re)*fi,Ve=Y.y+Math.sin(Re)*fi,X.lineTo(ci,Ve),Re+=Fi,ci=Y.x+Math.cos(Re)*ri,Ve=Y.y+Math.sin(Re)*ri,X.lineTo(ci,Ve),Re+=Fi;else X.moveTo(Math.floor(Y.x),Math.floor(Y.y)),X.lineTo(Math.floor(Y.wobbleX),Math.floor(Oe)),X.lineTo(Math.floor(me),Math.floor(xe)),X.lineTo(Math.floor(be),Math.floor(Y.wobbleY));return X.closePath(),X.fill(),Y.tick<Y.totalTicks}function M(X,Y,ue,be,Oe){var me=Y.slice(),xe=X.getContext("2d"),Ae,$e,tt=f(function(ye){function dt(){Ae=$e=null,xe.clearRect(0,0,be.width,be.height),g.clear(),Oe(),ye()}function ft(){s&&!(be.width===n.width&&be.height===n.height)&&(be.width=X.width=n.width,be.height=X.height=n.height),!be.width&&!be.height&&(ue(X),be.width=X.width,be.height=X.height),xe.clearRect(0,0,be.width,be.height),me=me.filter(function(Gt){return w(xe,Gt)}),me.length?Ae=v.frame(ft):dt()}Ae=v.frame(ft),$e=dt});return{addFettis:function(ye){return me=me.concat(ye),tt},canvas:X,promise:tt,reset:function(){Ae&&v.cancel(Ae),$e&&$e()}}}function D(X,Y){var ue=!X,be=!!P(Y||{},"resize"),Oe=!1,me=P(Y,"disableForReducedMotion",Boolean),xe=l&&!!P(Y||{},"useWorker"),Ae=xe?x():null,$e=ue?A:F,tt=X&&Ae?!!X.__confetti_initialized:!1,ye=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,dt;function ft(Re,ri,fi){for(var ci=P(Re,"particleCount",L),Ve=P(Re,"angle",Number),Yi=P(Re,"spread",Number),Fi=P(Re,"startVelocity",Number),Or=P(Re,"decay",Number),Br=P(Re,"gravity",Number),Ai=P(Re,"drift",Number),Wi=P(Re,"colors",y),Q=P(Re,"ticks",Number),ce=P(Re,"shapes"),oe=P(Re,"scalar"),Se=!!P(Re,"flat"),Te=T(Re),Me=ci,it=[],vt=X.width*Te.x,Ct=X.height*Te.y;Me--;)it.push(m({x:vt,y:Ct,angle:Ve,spread:Yi,startVelocity:Fi,color:Wi[Me%Wi.length],shape:ce[u(0,ce.length)],ticks:Q,decay:Or,gravity:Br,drift:Ai,scalar:oe,flat:Se}));return dt?dt.addFettis(it):(dt=M(X,it,$e,ri,fi),dt.promise)}function Gt(Re){var ri=me||P(Re,"disableForReducedMotion",Boolean),fi=P(Re,"zIndex",Number);if(ri&&ye)return f(function(Fi){Fi()});ue&&dt?X=dt.canvas:ue&&!X&&(X=z(fi),document.body.appendChild(X)),be&&!tt&&$e(X);var ci={width:X.width,height:X.height};Ae&&!tt&&Ae.init(X),tt=!0,Ae&&(X.__confetti_initialized=!0);function Ve(){if(Ae){var Fi={getBoundingClientRect:function(){if(!ue)return X.getBoundingClientRect()}};$e(Fi),Ae.postMessage({resize:{width:Fi.width,height:Fi.height}});return}ci.width=ci.height=null}function Yi(){dt=null,be&&(Oe=!1,e.removeEventListener("resize",Ve)),ue&&X&&(document.body.contains(X)&&document.body.removeChild(X),X=null,tt=!1)}return be&&!Oe&&(Oe=!0,e.addEventListener("resize",Ve,!1)),Ae?Ae.fire(Re,ci,Yi):ft(Re,ci,Yi)}return Gt.reset=function(){Ae&&Ae.reset(),dt&&dt.reset()},Gt}var I;function H(){return I||(I=D(null,{useWorker:!0,resize:!0})),I}function j(X,Y,ue,be,Oe,me,xe){var Ae=new Path2D(X),$e=new Path2D;$e.addPath(Ae,new DOMMatrix(Y));var tt=new Path2D;return tt.addPath($e,new DOMMatrix([Math.cos(xe)*Oe,Math.sin(xe)*Oe,-Math.sin(xe)*me,Math.cos(xe)*me,ue,be])),tt}function $(X){if(!a)throw new Error("path confetti are not supported in this browser");var Y,ue;typeof X=="string"?Y=X:(Y=X.path,ue=X.matrix);var be=new Path2D(Y),Oe=document.createElement("canvas"),me=Oe.getContext("2d");if(!ue){for(var xe=1e3,Ae=xe,$e=xe,tt=0,ye=0,dt,ft,Gt=0;Gt<xe;Gt+=2)for(var Re=0;Re<xe;Re+=2)me.isPointInPath(be,Gt,Re,"nonzero")&&(Ae=Math.min(Ae,Gt),$e=Math.min($e,Re),tt=Math.max(tt,Gt),ye=Math.max(ye,Re));dt=tt-Ae,ft=ye-$e;var ri=10,fi=Math.min(ri/dt,ri/ft);ue=[fi,0,0,fi,-Math.round(dt/2+Ae)*fi,-Math.round(ft/2+$e)*fi]}return{type:"path",path:Y,matrix:ue}}function ae(X){var Y,ue=1,be="#000000",Oe='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof X=="string"?Y=X:(Y=X.text,ue="scalar"in X?X.scalar:ue,Oe="fontFamily"in X?X.fontFamily:Oe,be="color"in X?X.color:be);var me=10*ue,xe=""+me+"px "+Oe,Ae=new OffscreenCanvas(me,me),$e=Ae.getContext("2d");$e.font=xe;var tt=$e.measureText(Y),ye=Math.ceil(tt.actualBoundingBoxRight+tt.actualBoundingBoxLeft),dt=Math.ceil(tt.actualBoundingBoxAscent+tt.actualBoundingBoxDescent),ft=2,Gt=tt.actualBoundingBoxLeft+ft,Re=tt.actualBoundingBoxAscent+ft;ye+=ft+ft,dt+=ft+ft,Ae=new OffscreenCanvas(ye,dt),$e=Ae.getContext("2d"),$e.font=xe,$e.fillStyle=be,$e.fillText(Y,Gt,Re);var ri=1/ue;return{type:"bitmap",bitmap:Ae.transferToImageBitmap(),matrix:[ri,0,0,ri,-ye*ri/2,-dt*ri/2]}}i.exports=function(){return H().apply(this,arguments)},i.exports.reset=function(){H().reset()},i.exports.create=D,i.exports.shapeFromPath=$,i.exports.shapeFromText=ae})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),PS,!1);const aG=PS.exports;PS.exports.create;(()=>{var t=Object.create,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,n=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,a=(r,o)=>e(r,"name",{value:o,configurable:!0}),h=(r,o)=>()=>(o||r((o={exports:{}}).exports,o),o.exports),d=(r,o)=>{for(var c in o)e(r,c,{get:o[c],enumerable:!0})},f=(r,o,c,p)=>{if(o&&typeof o=="object"||typeof o=="function")for(let _ of s(o))!l.call(r,_)&&_!==c&&e(r,_,{get:()=>o[_],enumerable:!(p=i(o,_))||p.enumerable});return r},g=(r,o,c)=>(c=r!=null?t(n(r)):{},f(o||!r||!r.__esModule?e(c,"default",{value:r,enumerable:!0}):c,r)),v=h((r,o)=>{o.exports=a(function(){var c={},p=c._fns={};c.emit=a(function(R,B,q,J,V,ie,se){var de=_(R);de.length&&E(R,de,[B,q,J,V,ie,se])},"emit"),c.on=a(function(R,B){p[R]||(p[R]=[]),p[R].push(B)},"on"),c.once=a(function(R,B){function q(){B.apply(this,arguments),c.off(R,q)}a(q,"one"),this.on(R,q)},"once"),c.off=a(function(R,B){var q=[];if(R&&B){var J=this._fns[R],V=0,ie=J?J.length:0;for(V;V<ie;V++)J[V]!==B&&q.push(J[V])}q.length?this._fns[R]=q:delete this._fns[R]},"off");function _(R){var B=p[R]?p[R]:[],q=R.indexOf(":"),J=q===-1?[R]:[R.substring(0,q),R.substring(q+1)],V=Object.keys(p),ie=0,se=V.length;for(ie;ie<se;ie++){var de=V[ie];if(de==="*"&&(B=B.concat(p[de])),J.length===2&&J[0]===de){B=B.concat(p[de]);break}}return B}a(_,"getListeners");function E(R,B,q){var J=0,V=B.length;for(J;J<V&&B[J];J++)B[J].event=R,B[J].apply(B[J],q)}return a(E,"emitAll"),c},"createNamespaceEmitter")}),x=h((r,o)=>{var c="Expected a function",p=NaN,_="[object Symbol]",E=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,q=/^0o[0-7]+$/i,J=parseInt,V=typeof global=="object"&&global&&global.Object===Object&&global,ie=typeof self=="object"&&self&&self.Object===Object&&self,se=V||ie||Function("return this")(),de=Object.prototype,we=de.toString,at=Math.max,Ge=Math.min,mt=a(function(){return se.Date.now()},"now");function qt(je,ot,At){var Pt,gi,Ii,Ci,et,Ei,vs=0,Qi=!1,Kr=!1,ut=!0;if(typeof je!="function")throw new TypeError(c);ot=ve(ot)||0,ze(At)&&(Qi=!!At.leading,Kr="maxWait"in At,Ii=Kr?at(ve(At.maxWait)||0,ot):Ii,ut="trailing"in At?!!At.trailing:ut);function Le(Nt){var di=Pt,jr=gi;return Pt=gi=void 0,vs=Nt,Ci=je.apply(jr,di),Ci}a(Le,"invokeFunc");function Qe(Nt){return vs=Nt,et=setTimeout(si,ot),Qi?Le(Nt):Ci}a(Qe,"leadingEdge");function rt(Nt){var di=Nt-Ei,jr=Nt-vs,ni=ot-di;return Kr?Ge(ni,Ii-jr):ni}a(rt,"remainingWait");function gt(Nt){var di=Nt-Ei,jr=Nt-vs;return Ei===void 0||di>=ot||di<0||Kr&&jr>=Ii}a(gt,"shouldInvoke");function si(){var Nt=mt();if(gt(Nt))return Ji(Nt);et=setTimeout(si,rt(Nt))}a(si,"timerExpired");function Ji(Nt){return et=void 0,ut&&Pt?Le(Nt):(Pt=gi=void 0,Ci)}a(Ji,"trailingEdge");function Zt(){et!==void 0&&clearTimeout(et),vs=0,Pt=Ei=gi=et=void 0}a(Zt,"cancel");function Di(){return et===void 0?Ci:Ji(mt())}a(Di,"flush");function Ft(){var Nt=mt(),di=gt(Nt);if(Pt=arguments,gi=this,Ei=Nt,di){if(et===void 0)return Qe(Ei);if(Kr)return et=setTimeout(si,ot),Le(Ei)}return et===void 0&&(et=setTimeout(si,ot)),Ci}return a(Ft,"debounced"),Ft.cancel=Zt,Ft.flush=Di,Ft}a(qt,"debounce");function xt(je,ot,At){var Pt=!0,gi=!0;if(typeof je!="function")throw new TypeError(c);return ze(At)&&(Pt="leading"in At?!!At.leading:Pt,gi="trailing"in At?!!At.trailing:gi),qt(je,ot,{leading:Pt,maxWait:ot,trailing:gi})}a(xt,"throttle");function ze(je){var ot=typeof je;return!!je&&(ot=="object"||ot=="function")}a(ze,"isObject");function We(je){return!!je&&typeof je=="object"}a(We,"isObjectLike");function He(je){return typeof je=="symbol"||We(je)&&we.call(je)==_}a(He,"isSymbol");function ve(je){if(typeof je=="number")return je;if(He(je))return p;if(ze(je)){var ot=typeof je.valueOf=="function"?je.valueOf():je;je=ze(ot)?ot+"":ot}if(typeof je!="string")return je===0?je:+je;je=je.replace(E,"");var At=B.test(je);return At||q.test(je)?J(je.slice(2),At?2:8):R.test(je)?p:+je}a(ve,"toNumber"),o.exports=xt}),b=h((r,o)=>{o.exports=a(function(c){if(typeof c!="number"||isNaN(c))throw new TypeError(`Expected a number, got ${typeof c}`);let p=c<0,_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(p&&(c=-c),c<1)return`${(p?"-":"")+c} B`;let E=Math.min(Math.floor(Math.log(c)/Math.log(1024)),_.length-1);c=Number(c/Math.pow(1024,E));let R=_[E];return c>=10||c%1===0?`${(p?"-":"")+c.toFixed(0)} ${R}`:`${(p?"-":"")+c.toFixed(1)} ${R}`},"prettierBytes")}),C=h((r,o)=>{function c(p,_){this.text=p=p||"",this.hasWild=~p.indexOf("*"),this.separator=_,this.parts=p.split(_)}a(c,"WildcardMatcher"),c.prototype.match=function(p){var _=!0,E=this.parts,R,B=E.length,q;if(typeof p=="string"||p instanceof String)if(!this.hasWild&&this.text!=p)_=!1;else{for(q=(p||"").split(this.separator),R=0;_&&R<B;R++)E[R]!=="*"&&(R<q.length?_=E[R]===q[R]:_=!1);_=_&&q}else if(typeof p.splice=="function")for(_=[],R=p.length;R--;)this.match(p[R])&&(_[_.length]=p[R]);else if(typeof p=="object"){_={};for(var J in p)this.match(J)&&(_[J]=p[J])}return _},o.exports=function(p,_,E){var R=new c(p,E||/[\/\.]/);return typeof _<"u"?R.match(_):R}}),O=h((r,o)=>{var c=C(),p=/[\/\+\.]/;o.exports=function(_,E){function R(B){var q=c(B,_,p);return q&&q.length>=2}return a(R,"test"),E?R(E.split(";")[0]):R}}),P=h((r,o)=>{(function(){var c={}.hasOwnProperty;function p(){for(var _=[],E=0;E<arguments.length;E++){var R=arguments[E];if(R){var B=typeof R;if(B==="string"||B==="number")_.push(R);else if(Array.isArray(R)){if(R.length){var q=p.apply(null,R);q&&_.push(q)}}else if(B==="object")if(R.toString===Object.prototype.toString)for(var J in R)c.call(R,J)&&R[J]&&_.push(J);else _.push(R.toString())}}return _.join(" ")}a(p,"classNames"),typeof o<"u"&&o.exports?(p.default=p,o.exports=p):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return p}):window.classNames=p})()}),L=h((r,o)=>{var c="Expected a function",p=NaN,_="[object Symbol]",E=/^\s+|\s+$/g,R=/^[-+]0x[0-9a-f]+$/i,B=/^0b[01]+$/i,q=/^0o[0-7]+$/i,J=parseInt,V=typeof global=="object"&&global&&global.Object===Object&&global,ie=typeof self=="object"&&self&&self.Object===Object&&self,se=V||ie||Function("return this")(),de=Object.prototype,we=de.toString,at=Math.max,Ge=Math.min,mt=a(function(){return se.Date.now()},"now");function qt(ve,je,ot){var At,Pt,gi,Ii,Ci,et,Ei=0,vs=!1,Qi=!1,Kr=!0;if(typeof ve!="function")throw new TypeError(c);je=He(je)||0,xt(ot)&&(vs=!!ot.leading,Qi="maxWait"in ot,gi=Qi?at(He(ot.maxWait)||0,je):gi,Kr="trailing"in ot?!!ot.trailing:Kr);function ut(Ft){var Nt=At,di=Pt;return At=Pt=void 0,Ei=Ft,Ii=ve.apply(di,Nt),Ii}a(ut,"invokeFunc");function Le(Ft){return Ei=Ft,Ci=setTimeout(gt,je),vs?ut(Ft):Ii}a(Le,"leadingEdge");function Qe(Ft){var Nt=Ft-et,di=Ft-Ei,jr=je-Nt;return Qi?Ge(jr,gi-di):jr}a(Qe,"remainingWait");function rt(Ft){var Nt=Ft-et,di=Ft-Ei;return et===void 0||Nt>=je||Nt<0||Qi&&di>=gi}a(rt,"shouldInvoke");function gt(){var Ft=mt();if(rt(Ft))return si(Ft);Ci=setTimeout(gt,Qe(Ft))}a(gt,"timerExpired");function si(Ft){return Ci=void 0,Kr&&At?ut(Ft):(At=Pt=void 0,Ii)}a(si,"trailingEdge");function Ji(){Ci!==void 0&&clearTimeout(Ci),Ei=0,At=et=Pt=Ci=void 0}a(Ji,"cancel");function Zt(){return Ci===void 0?Ii:si(mt())}a(Zt,"flush");function Di(){var Ft=mt(),Nt=rt(Ft);if(At=arguments,Pt=this,et=Ft,Nt){if(Ci===void 0)return Le(et);if(Qi)return Ci=setTimeout(gt,je),ut(et)}return Ci===void 0&&(Ci=setTimeout(gt,je)),Ii}return a(Di,"debounced"),Di.cancel=Ji,Di.flush=Zt,Di}a(qt,"debounce");function xt(ve){var je=typeof ve;return!!ve&&(je=="object"||je=="function")}a(xt,"isObject");function ze(ve){return!!ve&&typeof ve=="object"}a(ze,"isObjectLike");function We(ve){return typeof ve=="symbol"||ze(ve)&&we.call(ve)==_}a(We,"isSymbol");function He(ve){if(typeof ve=="number")return ve;if(We(ve))return p;if(xt(ve)){var je=typeof ve.valueOf=="function"?ve.valueOf():ve;ve=xt(je)?je+"":je}if(typeof ve!="string")return ve===0?ve:+ve;ve=ve.replace(E,"");var ot=B.test(ve);return ot||q.test(ve)?J(ve.slice(2),ot?2:8):R.test(ve)?p:+ve}a(He,"toNumber"),o.exports=qt}),u=h((r,o)=>{o.exports=a(function(c,p){if(c===p)return!0;for(var _ in c)if(!(_ in p))return!1;for(var _ in p)if(c[_]!==p[_])return!1;return!0},"isShallowEqual")}),S=h((r,o)=>{o.exports=a(function(c){if(typeof c!="number"||isNaN(c))throw new TypeError("Expected a number, got "+typeof c);var p=c<0,_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(p&&(c=-c),c<1)return(p?"-":"")+c+" B";var E=Math.min(Math.floor(Math.log(c)/Math.log(1024)),_.length-1);c=Number(c/Math.pow(1024,E));var R=_[E];return c>=10||c%1===0?(p?"-":"")+c.toFixed(0)+" "+R:(p?"-":"")+c.toFixed(1)+" "+R},"prettierBytes")}),y=h((r,o)=>{(function(c,p){typeof r=="object"&&typeof o<"u"?o.exports=p():typeof define=="function"&&define.amd?define(p):(c=c||self,c.Cropper=p())})(r,function(){function c(G){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=a(function(Z){return typeof Z},"_typeof"):c=a(function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},"_typeof"),c(G)}a(c,"_typeof");function p(G,Z){if(!(G instanceof Z))throw new TypeError("Cannot call a class as a function")}a(p,"_classCallCheck");function _(G,Z){for(var K=0;K<Z.length;K++){var ne=Z[K];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(G,ne.key,ne)}}a(_,"_defineProperties");function E(G,Z,K){return Z&&_(G.prototype,Z),K&&_(G,K),G}a(E,"_createClass");function R(G,Z,K){return Z in G?Object.defineProperty(G,Z,{value:K,enumerable:!0,configurable:!0,writable:!0}):G[Z]=K,G}a(R,"_defineProperty");function B(G,Z){var K=Object.keys(G);if(Object.getOwnPropertySymbols){var ne=Object.getOwnPropertySymbols(G);Z&&(ne=ne.filter(function(le){return Object.getOwnPropertyDescriptor(G,le).enumerable})),K.push.apply(K,ne)}return K}a(B,"ownKeys");function q(G){for(var Z=1;Z<arguments.length;Z++){var K=arguments[Z]!=null?arguments[Z]:{};Z%2?B(Object(K),!0).forEach(function(ne){R(G,ne,K[ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(K)):B(Object(K)).forEach(function(ne){Object.defineProperty(G,ne,Object.getOwnPropertyDescriptor(K,ne))})}return G}a(q,"_objectSpread2");function J(G){return V(G)||ie(G)||se(G)||we()}a(J,"_toConsumableArray");function V(G){if(Array.isArray(G))return de(G)}a(V,"_arrayWithoutHoles");function ie(G){if(typeof Symbol<"u"&&Symbol.iterator in Object(G))return Array.from(G)}a(ie,"_iterableToArray");function se(G,Z){if(G){if(typeof G=="string")return de(G,Z);var K=Object.prototype.toString.call(G).slice(8,-1);if(K==="Object"&&G.constructor&&(K=G.constructor.name),K==="Map"||K==="Set")return Array.from(G);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return de(G,Z)}}a(se,"_unsupportedIterableToArray");function de(G,Z){(Z==null||Z>G.length)&&(Z=G.length);for(var K=0,ne=new Array(Z);K<Z;K++)ne[K]=G[K];return ne}a(de,"_arrayLikeToArray");function we(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(we,"_nonIterableSpread");var at=typeof window<"u"&&typeof window.document<"u",Ge=at?window:{},mt=at&&Ge.document.documentElement?"ontouchstart"in Ge.document.documentElement:!1,qt=at?"PointerEvent"in Ge:!1,xt="cropper",ze="all",We="crop",He="move",ve="zoom",je="e",ot="w",At="s",Pt="n",gi="ne",Ii="nw",Ci="se",et="sw",Ei="".concat(xt,"-crop"),vs="".concat(xt,"-disabled"),Qi="".concat(xt,"-hidden"),Kr="".concat(xt,"-hide"),ut="".concat(xt,"-invisible"),Le="".concat(xt,"-modal"),Qe="".concat(xt,"-move"),rt="".concat(xt,"Action"),gt="".concat(xt,"Preview"),si="crop",Ji="move",Zt="none",Di="crop",Ft="cropend",Nt="cropmove",di="cropstart",jr="dblclick",ni=mt?"touchstart":"mousedown",Ar=mt?"touchmove":"mousemove",os=mt?"touchend touchcancel":"mouseup",oa=qt?"pointerdown":ni,Ma=qt?"pointermove":Ar,ol=qt?"pointerup pointercancel":os,ll="ready",cl="resize",hl="wheel",Aa="zoom",qr="image/jpeg",Zr=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Wg=/^data:/,jg=/^data:image\/jpeg;base64,/,qg=/^img|canvas$/i,Af={viewMode:0,dragMode:si,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},$g='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',Vg=Number.isNaN||Ge.isNaN;function hi(G){return typeof G=="number"&&!Vg(G)}a(hi,"isNumber");var Pf=a(function(G){return G>0&&G<1/0},"isPositiveNumber");function Tc(G){return typeof G>"u"}a(Tc,"isUndefined");function Pa(G){return c(G)==="object"&&G!==null}a(Pa,"isObject");var y1=Object.prototype.hasOwnProperty;function ko(G){if(!Pa(G))return!1;try{var Z=G.constructor,K=Z.prototype;return Z&&K&&y1.call(K,"isPrototypeOf")}catch{return!1}}a(ko,"isPlainObject");function ls(G){return typeof G=="function"}a(ls,"isFunction");var Df=Array.prototype.slice;function qh(G){return Array.from?Array.from(G):Df.call(G)}a(qh,"toArray");function ar(G,Z){return G&&ls(Z)&&(Array.isArray(G)||hi(G.length)?qh(G).forEach(function(K,ne){Z.call(G,K,ne,G)}):Pa(G)&&Object.keys(G).forEach(function(K){Z.call(G,G[K],K,G)})),G}a(ar,"forEach");var Xi=Object.assign||a(function(G){for(var Z=arguments.length,K=new Array(Z>1?Z-1:0),ne=1;ne<Z;ne++)K[ne-1]=arguments[ne];return Pa(G)&&K.length>0&&K.forEach(function(le){Pa(le)&&Object.keys(le).forEach(function(pe){G[pe]=le[pe]})}),G},"assign"),Lf=/\.\d*(?:0|9){12}\d*$/;function Da(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Lf.test(G)?Math.round(G*Z)/Z:G}a(Da,"normalizeDecimalNumber");var Yg=/^width|height|left|top|marginLeft|marginTop$/;function Pn(G,Z){var K=G.style;ar(Z,function(ne,le){Yg.test(le)&&hi(ne)&&(ne="".concat(ne,"px")),K[le]=ne})}a(Pn,"setStyle");function Rf(G,Z){return G.classList?G.classList.contains(Z):G.className.indexOf(Z)>-1}a(Rf,"hasClass");function kr(G,Z){if(Z){if(hi(G.length)){ar(G,function(ne){kr(ne,Z)});return}if(G.classList){G.classList.add(Z);return}var K=G.className.trim();K?K.indexOf(Z)<0&&(G.className="".concat(K," ").concat(Z)):G.className=Z}}a(kr,"addClass");function la(G,Z){if(Z){if(hi(G.length)){ar(G,function(K){la(K,Z)});return}if(G.classList){G.classList.remove(Z);return}G.className.indexOf(Z)>=0&&(G.className=G.className.replace(Z,""))}}a(la,"removeClass");function Cc(G,Z,K){if(Z){if(hi(G.length)){ar(G,function(ne){Cc(ne,Z,K)});return}K?kr(G,Z):la(G,Z)}}a(Cc,"toggleClass");var LH=/([a-z\d])([A-Z])/g;function Gg(G){return G.replace(LH,"$1-$2").toLowerCase()}a(Gg,"toParamCase");function Xg(G,Z){return Pa(G[Z])?G[Z]:G.dataset?G.dataset[Z]:G.getAttribute("data-".concat(Gg(Z)))}a(Xg,"getData");function $h(G,Z,K){Pa(K)?G[Z]=K:G.dataset?G.dataset[Z]=K:G.setAttribute("data-".concat(Gg(Z)),K)}a($h,"setData");function cD(G,Z){if(Pa(G[Z]))try{delete G[Z]}catch{G[Z]=void 0}else if(G.dataset)try{delete G.dataset[Z]}catch{G.dataset[Z]=void 0}else G.removeAttribute("data-".concat(Gg(Z)))}a(cD,"removeData");var hD=/\s\s*/,uD=function(){var G=!1;if(at){var Z=!1,K=a(function(){},"listener"),ne=Object.defineProperty({},"once",{get:a(function(){return G=!0,Z},"get"),set:a(function(le){Z=le},"set")});Ge.addEventListener("test",K,ne),Ge.removeEventListener("test",K,ne)}return G}();function Dn(G,Z,K){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},le=K;Z.trim().split(hD).forEach(function(pe){if(!uD){var Ce=G.listeners;Ce&&Ce[pe]&&Ce[pe][K]&&(le=Ce[pe][K],delete Ce[pe][K],Object.keys(Ce[pe]).length===0&&delete Ce[pe],Object.keys(Ce).length===0&&delete G.listeners)}G.removeEventListener(pe,le,ne)})}a(Dn,"removeListener");function gn(G,Z,K){var ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},le=K;Z.trim().split(hD).forEach(function(pe){if(ne.once&&!uD){var Ce=G.listeners,Ie=Ce===void 0?{}:Ce;le=a(function(){delete Ie[pe][K],G.removeEventListener(pe,le,ne);for(var qe=arguments.length,Ue=new Array(qe),Pe=0;Pe<qe;Pe++)Ue[Pe]=arguments[Pe];K.apply(G,Ue)},"handler"),Ie[pe]||(Ie[pe]={}),Ie[pe][K]&&G.removeEventListener(pe,Ie[pe][K],ne),Ie[pe][K]=le,G.listeners=Ie}G.addEventListener(pe,le,ne)})}a(gn,"addListener");function Ec(G,Z,K){var ne;return ls(Event)&&ls(CustomEvent)?ne=new CustomEvent(Z,{detail:K,bubbles:!0,cancelable:!0}):(ne=document.createEvent("CustomEvent"),ne.initCustomEvent(Z,!0,!0,K)),G.dispatchEvent(ne)}a(Ec,"dispatchEvent");function v1(G){var Z=G.getBoundingClientRect();return{left:Z.left+(window.pageXOffset-document.documentElement.clientLeft),top:Z.top+(window.pageYOffset-document.documentElement.clientTop)}}a(v1,"getOffset");var b1=Ge.location,RH=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function _1(G){var Z=G.match(RH);return Z!==null&&(Z[1]!==b1.protocol||Z[2]!==b1.hostname||Z[3]!==b1.port)}a(_1,"isCrossOriginURL");function w1(G){var Z="timestamp=".concat(new Date().getTime());return G+(G.indexOf("?")===-1?"?":"&")+Z}a(w1,"addTimestamp");function Vh(G){var Z=G.rotate,K=G.scaleX,ne=G.scaleY,le=G.translateX,pe=G.translateY,Ce=[];hi(le)&&le!==0&&Ce.push("translateX(".concat(le,"px)")),hi(pe)&&pe!==0&&Ce.push("translateY(".concat(pe,"px)")),hi(Z)&&Z!==0&&Ce.push("rotate(".concat(Z,"deg)")),hi(K)&&K!==1&&Ce.push("scaleX(".concat(K,")")),hi(ne)&&ne!==1&&Ce.push("scaleY(".concat(ne,")"));var Ie=Ce.length?Ce.join(" "):"none";return{WebkitTransform:Ie,msTransform:Ie,transform:Ie}}a(Vh,"getTransforms");function dD(G){var Z=q({},G),K=[];return ar(G,function(ne,le){delete Z[le],ar(Z,function(pe){var Ce=Math.abs(ne.startX-pe.startX),Ie=Math.abs(ne.startY-pe.startY),qe=Math.abs(ne.endX-pe.endX),Ue=Math.abs(ne.endY-pe.endY),Pe=Math.sqrt(Ce*Ce+Ie*Ie),Xe=Math.sqrt(qe*qe+Ue*Ue),Li=(Xe-Pe)/Pe;K.push(Li)})}),K.sort(function(ne,le){return Math.abs(ne)<Math.abs(le)}),K[0]}a(dD,"getMaxZoomRatio");function Ff(G,Z){var K=G.pageX,ne=G.pageY,le={endX:K,endY:ne};return Z?le:q({startX:K,startY:ne},le)}a(Ff,"getPointer");function fD(G){var Z=0,K=0,ne=0;return ar(G,function(le){var pe=le.startX,Ce=le.startY;Z+=pe,K+=Ce,ne+=1}),Z/=ne,K/=ne,{pageX:Z,pageY:K}}a(fD,"getPointersCenter");function So(G){var Z=G.aspectRatio,K=G.height,ne=G.width,le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",pe=Pf(ne),Ce=Pf(K);if(pe&&Ce){var Ie=K*Z;le==="contain"&&Ie>ne||le==="cover"&&Ie<ne?K=ne/Z:ne=K*Z}else pe?K=ne/Z:Ce&&(ne=K*Z);return{width:ne,height:K}}a(So,"getAdjustedSizes");function pD(G){var Z=G.width,K=G.height,ne=G.degree;if(ne=Math.abs(ne)%180,ne===90)return{width:K,height:Z};var le=ne%90*Math.PI/180,pe=Math.sin(le),Ce=Math.cos(le),Ie=Z*Ce+K*pe,qe=Z*pe+K*Ce;return ne>90?{width:qe,height:Ie}:{width:Ie,height:qe}}a(pD,"getRotatedSizes");function mD(G,Z,K,ne){var le=Z.aspectRatio,pe=Z.naturalWidth,Ce=Z.naturalHeight,Ie=Z.rotate,qe=Ie===void 0?0:Ie,Ue=Z.scaleX,Pe=Ue===void 0?1:Ue,Xe=Z.scaleY,Li=Xe===void 0?1:Xe,yi=K.aspectRatio,Ki=K.naturalWidth,ji=K.naturalHeight,Pr=ne.fillColor,cs=Pr===void 0?"transparent":Pr,Sr=ne.imageSmoothingEnabled,ul=Sr===void 0?!0:Sr,Ks=ne.imageSmoothingQuality,lt=Ks===void 0?"low":Ks,Bi=ne.maxWidth,Dr=Bi===void 0?1/0:Bi,La=ne.maxHeight,To=La===void 0?1/0:La,Oc=ne.minWidth,Mc=Oc===void 0?0:Oc,dl=ne.minHeight,fl=dl===void 0?0:dl,Ac=document.createElement("canvas"),bs=Ac.getContext("2d"),Kg=So({aspectRatio:yi,width:Dr,height:To}),kD=So({aspectRatio:yi,width:Mc,height:fl},"cover"),x1=Math.min(Kg.width,Math.max(kD.width,Ki)),k1=Math.min(Kg.height,Math.max(kD.height,ji)),SD=So({aspectRatio:le,width:Dr,height:To}),TD=So({aspectRatio:le,width:Mc,height:fl},"cover"),CD=Math.min(SD.width,Math.max(TD.width,pe)),ED=Math.min(SD.height,Math.max(TD.height,Ce)),jH=[-CD/2,-ED/2,CD,ED];return Ac.width=Da(x1),Ac.height=Da(k1),bs.fillStyle=cs,bs.fillRect(0,0,x1,k1),bs.save(),bs.translate(x1/2,k1/2),bs.rotate(qe*Math.PI/180),bs.scale(Pe,Li),bs.imageSmoothingEnabled=ul,bs.imageSmoothingQuality=lt,bs.drawImage.apply(bs,[G].concat(J(jH.map(function(qH){return Math.floor(Da(qH))})))),bs.restore(),Ac}a(mD,"getSourceCanvas");var gD=String.fromCharCode;function yD(G,Z,K){var ne="";K+=Z;for(var le=Z;le<K;le+=1)ne+=gD(G.getUint8(le));return ne}a(yD,"getStringFromCharCode");var FH=/^data:.*,/;function vD(G){var Z=G.replace(FH,""),K=atob(Z),ne=new ArrayBuffer(K.length),le=new Uint8Array(ne);return ar(le,function(pe,Ce){le[Ce]=K.charCodeAt(Ce)}),ne}a(vD,"dataURLToArrayBuffer");function bD(G,Z){for(var K=[],ne=8192,le=new Uint8Array(G);le.length>0;)K.push(gD.apply(null,qh(le.subarray(0,ne)))),le=le.subarray(ne);return"data:".concat(Z,";base64,").concat(btoa(K.join("")))}a(bD,"arrayBufferToDataURL");function _D(G){var Z=new DataView(G),K;try{var ne,le,pe;if(Z.getUint8(0)===255&&Z.getUint8(1)===216)for(var Ce=Z.byteLength,Ie=2;Ie+1<Ce;){if(Z.getUint8(Ie)===255&&Z.getUint8(Ie+1)===225){le=Ie;break}Ie+=1}if(le){var qe=le+4,Ue=le+10;if(yD(Z,qe,4)==="Exif"){var Pe=Z.getUint16(Ue);if(ne=Pe===18761,(ne||Pe===19789)&&Z.getUint16(Ue+2,ne)===42){var Xe=Z.getUint32(Ue+4,ne);Xe>=8&&(pe=Ue+Xe)}}}if(pe){var Li=Z.getUint16(pe,ne),yi,Ki;for(Ki=0;Ki<Li;Ki+=1)if(yi=pe+Ki*12+2,Z.getUint16(yi,ne)===274){yi+=8,K=Z.getUint16(yi,ne),Z.setUint16(yi,1,ne);break}}}catch{K=1}return K}a(_D,"resetAndGetOrientation");function wD(G){var Z=0,K=1,ne=1;switch(G){case 2:K=-1;break;case 3:Z=-180;break;case 4:ne=-1;break;case 5:Z=90,ne=-1;break;case 6:Z=90;break;case 7:Z=90,K=-1;break;case 8:Z=-90;break}return{rotate:Z,scaleX:K,scaleY:ne}}a(wD,"parseOrientation");var IH={render:a(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"render"),initContainer:a(function(){var G=this.element,Z=this.options,K=this.container,ne=this.cropper;kr(ne,Qi),la(G,Qi);var le={width:Math.max(K.offsetWidth,Number(Z.minContainerWidth)||200),height:Math.max(K.offsetHeight,Number(Z.minContainerHeight)||100)};this.containerData=le,Pn(ne,{width:le.width,height:le.height}),kr(G,Qi),la(ne,Qi)},"initContainer"),initCanvas:a(function(){var G=this.containerData,Z=this.imageData,K=this.options.viewMode,ne=Math.abs(Z.rotate)%180===90,le=ne?Z.naturalHeight:Z.naturalWidth,pe=ne?Z.naturalWidth:Z.naturalHeight,Ce=le/pe,Ie=G.width,qe=G.height;G.height*Ce>G.width?K===3?Ie=G.height*Ce:qe=G.width/Ce:K===3?qe=G.width/Ce:Ie=G.height*Ce;var Ue={aspectRatio:Ce,naturalWidth:le,naturalHeight:pe,width:Ie,height:qe};Ue.left=(G.width-Ie)/2,Ue.top=(G.height-qe)/2,Ue.oldLeft=Ue.left,Ue.oldTop=Ue.top,this.canvasData=Ue,this.limited=K===1||K===2,this.limitCanvas(!0,!0),this.initialImageData=Xi({},Z),this.initialCanvasData=Xi({},Ue)},"initCanvas"),limitCanvas:a(function(G,Z){var K=this.options,ne=this.containerData,le=this.canvasData,pe=this.cropBoxData,Ce=K.viewMode,Ie=le.aspectRatio,qe=this.cropped&&pe;if(G){var Ue=Number(K.minCanvasWidth)||0,Pe=Number(K.minCanvasHeight)||0;Ce>1?(Ue=Math.max(Ue,ne.width),Pe=Math.max(Pe,ne.height),Ce===3&&(Pe*Ie>Ue?Ue=Pe*Ie:Pe=Ue/Ie)):Ce>0&&(Ue?Ue=Math.max(Ue,qe?pe.width:0):Pe?Pe=Math.max(Pe,qe?pe.height:0):qe&&(Ue=pe.width,Pe=pe.height,Pe*Ie>Ue?Ue=Pe*Ie:Pe=Ue/Ie));var Xe=So({aspectRatio:Ie,width:Ue,height:Pe});Ue=Xe.width,Pe=Xe.height,le.minWidth=Ue,le.minHeight=Pe,le.maxWidth=1/0,le.maxHeight=1/0}if(Z)if(Ce>(qe?0:1)){var Li=ne.width-le.width,yi=ne.height-le.height;le.minLeft=Math.min(0,Li),le.minTop=Math.min(0,yi),le.maxLeft=Math.max(0,Li),le.maxTop=Math.max(0,yi),qe&&this.limited&&(le.minLeft=Math.min(pe.left,pe.left+(pe.width-le.width)),le.minTop=Math.min(pe.top,pe.top+(pe.height-le.height)),le.maxLeft=pe.left,le.maxTop=pe.top,Ce===2&&(le.width>=ne.width&&(le.minLeft=Math.min(0,Li),le.maxLeft=Math.max(0,Li)),le.height>=ne.height&&(le.minTop=Math.min(0,yi),le.maxTop=Math.max(0,yi))))}else le.minLeft=-le.width,le.minTop=-le.height,le.maxLeft=ne.width,le.maxTop=ne.height},"limitCanvas"),renderCanvas:a(function(G,Z){var K=this.canvasData,ne=this.imageData;if(Z){var le=pD({width:ne.naturalWidth*Math.abs(ne.scaleX||1),height:ne.naturalHeight*Math.abs(ne.scaleY||1),degree:ne.rotate||0}),pe=le.width,Ce=le.height,Ie=K.width*(pe/K.naturalWidth),qe=K.height*(Ce/K.naturalHeight);K.left-=(Ie-K.width)/2,K.top-=(qe-K.height)/2,K.width=Ie,K.height=qe,K.aspectRatio=pe/Ce,K.naturalWidth=pe,K.naturalHeight=Ce,this.limitCanvas(!0,!1)}(K.width>K.maxWidth||K.width<K.minWidth)&&(K.left=K.oldLeft),(K.height>K.maxHeight||K.height<K.minHeight)&&(K.top=K.oldTop),K.width=Math.min(Math.max(K.width,K.minWidth),K.maxWidth),K.height=Math.min(Math.max(K.height,K.minHeight),K.maxHeight),this.limitCanvas(!1,!0),K.left=Math.min(Math.max(K.left,K.minLeft),K.maxLeft),K.top=Math.min(Math.max(K.top,K.minTop),K.maxTop),K.oldLeft=K.left,K.oldTop=K.top,Pn(this.canvas,Xi({width:K.width,height:K.height},Vh({translateX:K.left,translateY:K.top}))),this.renderImage(G),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderCanvas"),renderImage:a(function(G){var Z=this.canvasData,K=this.imageData,ne=K.naturalWidth*(Z.width/Z.naturalWidth),le=K.naturalHeight*(Z.height/Z.naturalHeight);Xi(K,{width:ne,height:le,left:(Z.width-ne)/2,top:(Z.height-le)/2}),Pn(this.image,Xi({width:K.width,height:K.height},Vh(Xi({translateX:K.left,translateY:K.top},K)))),G&&this.output()},"renderImage"),initCropBox:a(function(){var G=this.options,Z=this.canvasData,K=G.aspectRatio||G.initialAspectRatio,ne=Number(G.autoCropArea)||.8,le={width:Z.width,height:Z.height};K&&(Z.height*K>Z.width?le.height=le.width/K:le.width=le.height*K),this.cropBoxData=le,this.limitCropBox(!0,!0),le.width=Math.min(Math.max(le.width,le.minWidth),le.maxWidth),le.height=Math.min(Math.max(le.height,le.minHeight),le.maxHeight),le.width=Math.max(le.minWidth,le.width*ne),le.height=Math.max(le.minHeight,le.height*ne),le.left=Z.left+(Z.width-le.width)/2,le.top=Z.top+(Z.height-le.height)/2,le.oldLeft=le.left,le.oldTop=le.top,this.initialCropBoxData=Xi({},le)},"initCropBox"),limitCropBox:a(function(G,Z){var K=this.options,ne=this.containerData,le=this.canvasData,pe=this.cropBoxData,Ce=this.limited,Ie=K.aspectRatio;if(G){var qe=Number(K.minCropBoxWidth)||0,Ue=Number(K.minCropBoxHeight)||0,Pe=Ce?Math.min(ne.width,le.width,le.width+le.left,ne.width-le.left):ne.width,Xe=Ce?Math.min(ne.height,le.height,le.height+le.top,ne.height-le.top):ne.height;qe=Math.min(qe,ne.width),Ue=Math.min(Ue,ne.height),Ie&&(qe&&Ue?Ue*Ie>qe?Ue=qe/Ie:qe=Ue*Ie:qe?Ue=qe/Ie:Ue&&(qe=Ue*Ie),Xe*Ie>Pe?Xe=Pe/Ie:Pe=Xe*Ie),pe.minWidth=Math.min(qe,Pe),pe.minHeight=Math.min(Ue,Xe),pe.maxWidth=Pe,pe.maxHeight=Xe}Z&&(Ce?(pe.minLeft=Math.max(0,le.left),pe.minTop=Math.max(0,le.top),pe.maxLeft=Math.min(ne.width,le.left+le.width)-pe.width,pe.maxTop=Math.min(ne.height,le.top+le.height)-pe.height):(pe.minLeft=0,pe.minTop=0,pe.maxLeft=ne.width-pe.width,pe.maxTop=ne.height-pe.height))},"limitCropBox"),renderCropBox:a(function(){var G=this.options,Z=this.containerData,K=this.cropBoxData;(K.width>K.maxWidth||K.width<K.minWidth)&&(K.left=K.oldLeft),(K.height>K.maxHeight||K.height<K.minHeight)&&(K.top=K.oldTop),K.width=Math.min(Math.max(K.width,K.minWidth),K.maxWidth),K.height=Math.min(Math.max(K.height,K.minHeight),K.maxHeight),this.limitCropBox(!1,!0),K.left=Math.min(Math.max(K.left,K.minLeft),K.maxLeft),K.top=Math.min(Math.max(K.top,K.minTop),K.maxTop),K.oldLeft=K.left,K.oldTop=K.top,G.movable&&G.cropBoxMovable&&$h(this.face,rt,K.width>=Z.width&&K.height>=Z.height?He:ze),Pn(this.cropBox,Xi({width:K.width,height:K.height},Vh({translateX:K.left,translateY:K.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"renderCropBox"),output:a(function(){this.preview(),Ec(this.element,Di,this.getData())},"output")},BH={initPreview:a(function(){var G=this.element,Z=this.crossOrigin,K=this.options.preview,ne=Z?this.crossOriginUrl:this.url,le=G.alt||"The image to preview",pe=document.createElement("img");if(Z&&(pe.crossOrigin=Z),pe.src=ne,pe.alt=le,this.viewBox.appendChild(pe),this.viewBoxImage=pe,!!K){var Ce=K;typeof K=="string"?Ce=G.ownerDocument.querySelectorAll(K):K.querySelector&&(Ce=[K]),this.previews=Ce,ar(Ce,function(Ie){var qe=document.createElement("img");$h(Ie,gt,{width:Ie.offsetWidth,height:Ie.offsetHeight,html:Ie.innerHTML}),Z&&(qe.crossOrigin=Z),qe.src=ne,qe.alt=le,qe.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Ie.innerHTML="",Ie.appendChild(qe)})}},"initPreview"),resetPreview:a(function(){ar(this.previews,function(G){var Z=Xg(G,gt);Pn(G,{width:Z.width,height:Z.height}),G.innerHTML=Z.html,cD(G,gt)})},"resetPreview"),preview:a(function(){var G=this.imageData,Z=this.canvasData,K=this.cropBoxData,ne=K.width,le=K.height,pe=G.width,Ce=G.height,Ie=K.left-Z.left-G.left,qe=K.top-Z.top-G.top;!this.cropped||this.disabled||(Pn(this.viewBoxImage,Xi({width:pe,height:Ce},Vh(Xi({translateX:-Ie,translateY:-qe},G)))),ar(this.previews,function(Ue){var Pe=Xg(Ue,gt),Xe=Pe.width,Li=Pe.height,yi=Xe,Ki=Li,ji=1;ne&&(ji=Xe/ne,Ki=le*ji),le&&Ki>Li&&(ji=Li/le,yi=ne*ji,Ki=Li),Pn(Ue,{width:yi,height:Ki}),Pn(Ue.getElementsByTagName("img")[0],Xi({width:pe*ji,height:Ce*ji},Vh(Xi({translateX:-Ie*ji,translateY:-qe*ji},G))))}))},"preview")},NH={bind:a(function(){var G=this.element,Z=this.options,K=this.cropper;ls(Z.cropstart)&&gn(G,di,Z.cropstart),ls(Z.cropmove)&&gn(G,Nt,Z.cropmove),ls(Z.cropend)&&gn(G,Ft,Z.cropend),ls(Z.crop)&&gn(G,Di,Z.crop),ls(Z.zoom)&&gn(G,Aa,Z.zoom),gn(K,oa,this.onCropStart=this.cropStart.bind(this)),Z.zoomable&&Z.zoomOnWheel&&gn(K,hl,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),Z.toggleDragModeOnDblclick&&gn(K,jr,this.onDblclick=this.dblclick.bind(this)),gn(G.ownerDocument,Ma,this.onCropMove=this.cropMove.bind(this)),gn(G.ownerDocument,ol,this.onCropEnd=this.cropEnd.bind(this)),Z.responsive&&gn(window,cl,this.onResize=this.resize.bind(this))},"bind"),unbind:a(function(){var G=this.element,Z=this.options,K=this.cropper;ls(Z.cropstart)&&Dn(G,di,Z.cropstart),ls(Z.cropmove)&&Dn(G,Nt,Z.cropmove),ls(Z.cropend)&&Dn(G,Ft,Z.cropend),ls(Z.crop)&&Dn(G,Di,Z.crop),ls(Z.zoom)&&Dn(G,Aa,Z.zoom),Dn(K,oa,this.onCropStart),Z.zoomable&&Z.zoomOnWheel&&Dn(K,hl,this.onWheel,{passive:!1,capture:!0}),Z.toggleDragModeOnDblclick&&Dn(K,jr,this.onDblclick),Dn(G.ownerDocument,Ma,this.onCropMove),Dn(G.ownerDocument,ol,this.onCropEnd),Z.responsive&&Dn(window,cl,this.onResize)},"unbind")},zH={resize:a(function(){if(!this.disabled){var G=this.options,Z=this.container,K=this.containerData,ne=Z.offsetWidth/K.width;if(ne!==1||Z.offsetHeight!==K.height){var le,pe;G.restore&&(le=this.getCanvasData(),pe=this.getCropBoxData()),this.render(),G.restore&&(this.setCanvasData(ar(le,function(Ce,Ie){le[Ie]=Ce*ne})),this.setCropBoxData(ar(pe,function(Ce,Ie){pe[Ie]=Ce*ne})))}}},"resize"),dblclick:a(function(){this.disabled||this.options.dragMode===Zt||this.setDragMode(Rf(this.dragBox,Ei)?Ji:si)},"dblclick"),wheel:a(function(G){var Z=this,K=Number(this.options.wheelZoomRatio)||.1,ne=1;this.disabled||(G.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){Z.wheeling=!1},50),G.deltaY?ne=G.deltaY>0?1:-1:G.wheelDelta?ne=-G.wheelDelta/120:G.detail&&(ne=G.detail>0?1:-1),this.zoom(-ne*K,G)))},"wheel"),cropStart:a(function(G){var Z=G.buttons,K=G.button;if(!(this.disabled||(G.type==="mousedown"||G.type==="pointerdown"&&G.pointerType==="mouse")&&(hi(Z)&&Z!==1||hi(K)&&K!==0||G.ctrlKey))){var ne=this.options,le=this.pointers,pe;G.changedTouches?ar(G.changedTouches,function(Ce){le[Ce.identifier]=Ff(Ce)}):le[G.pointerId||0]=Ff(G),Object.keys(le).length>1&&ne.zoomable&&ne.zoomOnTouch?pe=ve:pe=Xg(G.target,rt),Zr.test(pe)&&Ec(this.element,di,{originalEvent:G,action:pe})!==!1&&(G.preventDefault(),this.action=pe,this.cropping=!1,pe===We&&(this.cropping=!0,kr(this.dragBox,Le)))}},"cropStart"),cropMove:a(function(G){var Z=this.action;if(!(this.disabled||!Z)){var K=this.pointers;G.preventDefault(),Ec(this.element,Nt,{originalEvent:G,action:Z})!==!1&&(G.changedTouches?ar(G.changedTouches,function(ne){Xi(K[ne.identifier]||{},Ff(ne,!0))}):Xi(K[G.pointerId||0]||{},Ff(G,!0)),this.change(G))}},"cropMove"),cropEnd:a(function(G){if(!this.disabled){var Z=this.action,K=this.pointers;G.changedTouches?ar(G.changedTouches,function(ne){delete K[ne.identifier]}):delete K[G.pointerId||0],Z&&(G.preventDefault(),Object.keys(K).length||(this.action=""),this.cropping&&(this.cropping=!1,Cc(this.dragBox,Le,this.cropped&&this.options.modal)),Ec(this.element,Ft,{originalEvent:G,action:Z}))}},"cropEnd")},UH={change:a(function(G){var Z=this.options,K=this.canvasData,ne=this.containerData,le=this.cropBoxData,pe=this.pointers,Ce=this.action,Ie=Z.aspectRatio,qe=le.left,Ue=le.top,Pe=le.width,Xe=le.height,Li=qe+Pe,yi=Ue+Xe,Ki=0,ji=0,Pr=ne.width,cs=ne.height,Sr=!0,ul;!Ie&&G.shiftKey&&(Ie=Pe&&Xe?Pe/Xe:1),this.limited&&(Ki=le.minLeft,ji=le.minTop,Pr=Ki+Math.min(ne.width,K.width,K.left+K.width),cs=ji+Math.min(ne.height,K.height,K.top+K.height));var Ks=pe[Object.keys(pe)[0]],lt={x:Ks.endX-Ks.startX,y:Ks.endY-Ks.startY},Bi=a(function(Dr){switch(Dr){case je:Li+lt.x>Pr&&(lt.x=Pr-Li);break;case ot:qe+lt.x<Ki&&(lt.x=Ki-qe);break;case Pt:Ue+lt.y<ji&&(lt.y=ji-Ue);break;case At:yi+lt.y>cs&&(lt.y=cs-yi);break}},"check");switch(Ce){case ze:qe+=lt.x,Ue+=lt.y;break;case je:if(lt.x>=0&&(Li>=Pr||Ie&&(Ue<=ji||yi>=cs))){Sr=!1;break}Bi(je),Pe+=lt.x,Pe<0&&(Ce=ot,Pe=-Pe,qe-=Pe),Ie&&(Xe=Pe/Ie,Ue+=(le.height-Xe)/2);break;case Pt:if(lt.y<=0&&(Ue<=ji||Ie&&(qe<=Ki||Li>=Pr))){Sr=!1;break}Bi(Pt),Xe-=lt.y,Ue+=lt.y,Xe<0&&(Ce=At,Xe=-Xe,Ue-=Xe),Ie&&(Pe=Xe*Ie,qe+=(le.width-Pe)/2);break;case ot:if(lt.x<=0&&(qe<=Ki||Ie&&(Ue<=ji||yi>=cs))){Sr=!1;break}Bi(ot),Pe-=lt.x,qe+=lt.x,Pe<0&&(Ce=je,Pe=-Pe,qe-=Pe),Ie&&(Xe=Pe/Ie,Ue+=(le.height-Xe)/2);break;case At:if(lt.y>=0&&(yi>=cs||Ie&&(qe<=Ki||Li>=Pr))){Sr=!1;break}Bi(At),Xe+=lt.y,Xe<0&&(Ce=Pt,Xe=-Xe,Ue-=Xe),Ie&&(Pe=Xe*Ie,qe+=(le.width-Pe)/2);break;case gi:if(Ie){if(lt.y<=0&&(Ue<=ji||Li>=Pr)){Sr=!1;break}Bi(Pt),Xe-=lt.y,Ue+=lt.y,Pe=Xe*Ie}else Bi(Pt),Bi(je),lt.x>=0?Li<Pr?Pe+=lt.x:lt.y<=0&&Ue<=ji&&(Sr=!1):Pe+=lt.x,lt.y<=0?Ue>ji&&(Xe-=lt.y,Ue+=lt.y):(Xe-=lt.y,Ue+=lt.y);Pe<0&&Xe<0?(Ce=et,Xe=-Xe,Pe=-Pe,Ue-=Xe,qe-=Pe):Pe<0?(Ce=Ii,Pe=-Pe,qe-=Pe):Xe<0&&(Ce=Ci,Xe=-Xe,Ue-=Xe);break;case Ii:if(Ie){if(lt.y<=0&&(Ue<=ji||qe<=Ki)){Sr=!1;break}Bi(Pt),Xe-=lt.y,Ue+=lt.y,Pe=Xe*Ie,qe+=le.width-Pe}else Bi(Pt),Bi(ot),lt.x<=0?qe>Ki?(Pe-=lt.x,qe+=lt.x):lt.y<=0&&Ue<=ji&&(Sr=!1):(Pe-=lt.x,qe+=lt.x),lt.y<=0?Ue>ji&&(Xe-=lt.y,Ue+=lt.y):(Xe-=lt.y,Ue+=lt.y);Pe<0&&Xe<0?(Ce=Ci,Xe=-Xe,Pe=-Pe,Ue-=Xe,qe-=Pe):Pe<0?(Ce=gi,Pe=-Pe,qe-=Pe):Xe<0&&(Ce=et,Xe=-Xe,Ue-=Xe);break;case et:if(Ie){if(lt.x<=0&&(qe<=Ki||yi>=cs)){Sr=!1;break}Bi(ot),Pe-=lt.x,qe+=lt.x,Xe=Pe/Ie}else Bi(At),Bi(ot),lt.x<=0?qe>Ki?(Pe-=lt.x,qe+=lt.x):lt.y>=0&&yi>=cs&&(Sr=!1):(Pe-=lt.x,qe+=lt.x),lt.y>=0?yi<cs&&(Xe+=lt.y):Xe+=lt.y;Pe<0&&Xe<0?(Ce=gi,Xe=-Xe,Pe=-Pe,Ue-=Xe,qe-=Pe):Pe<0?(Ce=Ci,Pe=-Pe,qe-=Pe):Xe<0&&(Ce=Ii,Xe=-Xe,Ue-=Xe);break;case Ci:if(Ie){if(lt.x>=0&&(Li>=Pr||yi>=cs)){Sr=!1;break}Bi(je),Pe+=lt.x,Xe=Pe/Ie}else Bi(At),Bi(je),lt.x>=0?Li<Pr?Pe+=lt.x:lt.y>=0&&yi>=cs&&(Sr=!1):Pe+=lt.x,lt.y>=0?yi<cs&&(Xe+=lt.y):Xe+=lt.y;Pe<0&&Xe<0?(Ce=Ii,Xe=-Xe,Pe=-Pe,Ue-=Xe,qe-=Pe):Pe<0?(Ce=et,Pe=-Pe,qe-=Pe):Xe<0&&(Ce=gi,Xe=-Xe,Ue-=Xe);break;case He:this.move(lt.x,lt.y),Sr=!1;break;case ve:this.zoom(dD(pe),G),Sr=!1;break;case We:if(!lt.x||!lt.y){Sr=!1;break}ul=v1(this.cropper),qe=Ks.startX-ul.left,Ue=Ks.startY-ul.top,Pe=le.minWidth,Xe=le.minHeight,lt.x>0?Ce=lt.y>0?Ci:gi:lt.x<0&&(qe-=Pe,Ce=lt.y>0?et:Ii),lt.y<0&&(Ue-=Xe),this.cropped||(la(this.cropBox,Qi),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}Sr&&(le.width=Pe,le.height=Xe,le.left=qe,le.top=Ue,this.action=Ce,this.renderCropBox()),ar(pe,function(Dr){Dr.startX=Dr.endX,Dr.startY=Dr.endY})},"change")},HH={crop:a(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&kr(this.dragBox,Le),la(this.cropBox,Qi),this.setCropBoxData(this.initialCropBoxData)),this},"crop"),reset:a(function(){return this.ready&&!this.disabled&&(this.imageData=Xi({},this.initialImageData),this.canvasData=Xi({},this.initialCanvasData),this.cropBoxData=Xi({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"reset"),clear:a(function(){return this.cropped&&!this.disabled&&(Xi(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),la(this.dragBox,Le),kr(this.cropBox,Qi)),this},"clear"),replace:a(function(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&G&&(this.isImg&&(this.element.src=G),Z?(this.url=G,this.image.src=G,this.ready&&(this.viewBoxImage.src=G,ar(this.previews,function(K){K.getElementsByTagName("img")[0].src=G}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(G))),this},"replace"),enable:a(function(){return this.ready&&this.disabled&&(this.disabled=!1,la(this.cropper,vs)),this},"enable"),disable:a(function(){return this.ready&&!this.disabled&&(this.disabled=!0,kr(this.cropper,vs)),this},"disable"),destroy:a(function(){var G=this.element;return G[xt]?(G[xt]=void 0,this.isImg&&this.replaced&&(G.src=this.originalUrl),this.uncreate(),this):this},"destroy"),move:a(function(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,K=this.canvasData,ne=K.left,le=K.top;return this.moveTo(Tc(G)?G:ne+Number(G),Tc(Z)?Z:le+Number(Z))},"move"),moveTo:a(function(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,K=this.canvasData,ne=!1;return G=Number(G),Z=Number(Z),this.ready&&!this.disabled&&this.options.movable&&(hi(G)&&(K.left=G,ne=!0),hi(Z)&&(K.top=Z,ne=!0),ne&&this.renderCanvas(!0)),this},"moveTo"),zoom:a(function(G,Z){var K=this.canvasData;return G=Number(G),G<0?G=1/(1-G):G=1+G,this.zoomTo(K.width*G/K.naturalWidth,null,Z)},"zoom"),zoomTo:a(function(G,Z,K){var ne=this.options,le=this.canvasData,pe=le.width,Ce=le.height,Ie=le.naturalWidth,qe=le.naturalHeight;if(G=Number(G),G>=0&&this.ready&&!this.disabled&&ne.zoomable){var Ue=Ie*G,Pe=qe*G;if(Ec(this.element,Aa,{ratio:G,oldRatio:pe/Ie,originalEvent:K})===!1)return this;if(K){var Xe=this.pointers,Li=v1(this.cropper),yi=Xe&&Object.keys(Xe).length?fD(Xe):{pageX:K.pageX,pageY:K.pageY};le.left-=(Ue-pe)*((yi.pageX-Li.left-le.left)/pe),le.top-=(Pe-Ce)*((yi.pageY-Li.top-le.top)/Ce)}else ko(Z)&&hi(Z.x)&&hi(Z.y)?(le.left-=(Ue-pe)*((Z.x-le.left)/pe),le.top-=(Pe-Ce)*((Z.y-le.top)/Ce)):(le.left-=(Ue-pe)/2,le.top-=(Pe-Ce)/2);le.width=Ue,le.height=Pe,this.renderCanvas(!0)}return this},"zoomTo"),rotate:a(function(G){return this.rotateTo((this.imageData.rotate||0)+Number(G))},"rotate"),rotateTo:a(function(G){return G=Number(G),hi(G)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=G%360,this.renderCanvas(!0,!0)),this},"rotateTo"),scaleX:a(function(G){var Z=this.imageData.scaleY;return this.scale(G,hi(Z)?Z:1)},"scaleX"),scaleY:a(function(G){var Z=this.imageData.scaleX;return this.scale(hi(Z)?Z:1,G)},"scaleY"),scale:a(function(G){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:G,K=this.imageData,ne=!1;return G=Number(G),Z=Number(Z),this.ready&&!this.disabled&&this.options.scalable&&(hi(G)&&(K.scaleX=G,ne=!0),hi(Z)&&(K.scaleY=Z,ne=!0),ne&&this.renderCanvas(!0,!0)),this},"scale"),getData:a(function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=this.options,K=this.imageData,ne=this.canvasData,le=this.cropBoxData,pe;if(this.ready&&this.cropped){pe={x:le.left-ne.left,y:le.top-ne.top,width:le.width,height:le.height};var Ce=K.width/K.naturalWidth;if(ar(pe,function(Ue,Pe){pe[Pe]=Ue/Ce}),G){var Ie=Math.round(pe.y+pe.height),qe=Math.round(pe.x+pe.width);pe.x=Math.round(pe.x),pe.y=Math.round(pe.y),pe.width=qe-pe.x,pe.height=Ie-pe.y}}else pe={x:0,y:0,width:0,height:0};return Z.rotatable&&(pe.rotate=K.rotate||0),Z.scalable&&(pe.scaleX=K.scaleX||1,pe.scaleY=K.scaleY||1),pe},"getData"),setData:a(function(G){var Z=this.options,K=this.imageData,ne=this.canvasData,le={};if(this.ready&&!this.disabled&&ko(G)){var pe=!1;Z.rotatable&&hi(G.rotate)&&G.rotate!==K.rotate&&(K.rotate=G.rotate,pe=!0),Z.scalable&&(hi(G.scaleX)&&G.scaleX!==K.scaleX&&(K.scaleX=G.scaleX,pe=!0),hi(G.scaleY)&&G.scaleY!==K.scaleY&&(K.scaleY=G.scaleY,pe=!0)),pe&&this.renderCanvas(!0,!0);var Ce=K.width/K.naturalWidth;hi(G.x)&&(le.left=G.x*Ce+ne.left),hi(G.y)&&(le.top=G.y*Ce+ne.top),hi(G.width)&&(le.width=G.width*Ce),hi(G.height)&&(le.height=G.height*Ce),this.setCropBoxData(le)}return this},"setData"),getContainerData:a(function(){return this.ready?Xi({},this.containerData):{}},"getContainerData"),getImageData:a(function(){return this.sized?Xi({},this.imageData):{}},"getImageData"),getCanvasData:a(function(){var G=this.canvasData,Z={};return this.ready&&ar(["left","top","width","height","naturalWidth","naturalHeight"],function(K){Z[K]=G[K]}),Z},"getCanvasData"),setCanvasData:a(function(G){var Z=this.canvasData,K=Z.aspectRatio;return this.ready&&!this.disabled&&ko(G)&&(hi(G.left)&&(Z.left=G.left),hi(G.top)&&(Z.top=G.top),hi(G.width)?(Z.width=G.width,Z.height=G.width/K):hi(G.height)&&(Z.height=G.height,Z.width=G.height*K),this.renderCanvas(!0)),this},"setCanvasData"),getCropBoxData:a(function(){var G=this.cropBoxData,Z;return this.ready&&this.cropped&&(Z={left:G.left,top:G.top,width:G.width,height:G.height}),Z||{}},"getCropBoxData"),setCropBoxData:a(function(G){var Z=this.cropBoxData,K=this.options.aspectRatio,ne,le;return this.ready&&this.cropped&&!this.disabled&&ko(G)&&(hi(G.left)&&(Z.left=G.left),hi(G.top)&&(Z.top=G.top),hi(G.width)&&G.width!==Z.width&&(ne=!0,Z.width=G.width),hi(G.height)&&G.height!==Z.height&&(le=!0,Z.height=G.height),K&&(ne?Z.height=Z.width/K:le&&(Z.width=Z.height*K)),this.renderCropBox()),this},"setCropBoxData"),getCroppedCanvas:a(function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var Z=this.canvasData,K=mD(this.image,this.imageData,Z,G);if(!this.cropped)return K;var ne=this.getData(),le=ne.x,pe=ne.y,Ce=ne.width,Ie=ne.height,qe=K.width/Math.floor(Z.naturalWidth);qe!==1&&(le*=qe,pe*=qe,Ce*=qe,Ie*=qe);var Ue=Ce/Ie,Pe=So({aspectRatio:Ue,width:G.maxWidth||1/0,height:G.maxHeight||1/0}),Xe=So({aspectRatio:Ue,width:G.minWidth||0,height:G.minHeight||0},"cover"),Li=So({aspectRatio:Ue,width:G.width||(qe!==1?K.width:Ce),height:G.height||(qe!==1?K.height:Ie)}),yi=Li.width,Ki=Li.height;yi=Math.min(Pe.width,Math.max(Xe.width,yi)),Ki=Math.min(Pe.height,Math.max(Xe.height,Ki));var ji=document.createElement("canvas"),Pr=ji.getContext("2d");ji.width=Da(yi),ji.height=Da(Ki),Pr.fillStyle=G.fillColor||"transparent",Pr.fillRect(0,0,yi,Ki);var cs=G.imageSmoothingEnabled,Sr=cs===void 0?!0:cs,ul=G.imageSmoothingQuality;Pr.imageSmoothingEnabled=Sr,ul&&(Pr.imageSmoothingQuality=ul);var Ks=K.width,lt=K.height,Bi=le,Dr=pe,La,To,Oc,Mc,dl,fl;Bi<=-Ce||Bi>Ks?(Bi=0,La=0,Oc=0,dl=0):Bi<=0?(Oc=-Bi,Bi=0,La=Math.min(Ks,Ce+Bi),dl=La):Bi<=Ks&&(Oc=0,La=Math.min(Ce,Ks-Bi),dl=La),La<=0||Dr<=-Ie||Dr>lt?(Dr=0,To=0,Mc=0,fl=0):Dr<=0?(Mc=-Dr,Dr=0,To=Math.min(lt,Ie+Dr),fl=To):Dr<=lt&&(Mc=0,To=Math.min(Ie,lt-Dr),fl=To);var Ac=[Bi,Dr,La,To];if(dl>0&&fl>0){var bs=yi/Ce;Ac.push(Oc*bs,Mc*bs,dl*bs,fl*bs)}return Pr.drawImage.apply(Pr,[K].concat(J(Ac.map(function(Kg){return Math.floor(Da(Kg))})))),ji},"getCroppedCanvas"),setAspectRatio:a(function(G){var Z=this.options;return!this.disabled&&!Tc(G)&&(Z.aspectRatio=Math.max(0,G)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setAspectRatio"),setDragMode:a(function(G){var Z=this.options,K=this.dragBox,ne=this.face;if(this.ready&&!this.disabled){var le=G===si,pe=Z.movable&&G===Ji;G=le||pe?G:Zt,Z.dragMode=G,$h(K,rt,G),Cc(K,Ei,le),Cc(K,Qe,pe),Z.cropBoxMovable||($h(ne,rt,G),Cc(ne,Ei,le),Cc(ne,Qe,pe))}return this},"setDragMode")},WH=Ge.Cropper,xD=function(){function G(Z){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(p(this,G),!Z||!qg.test(Z.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=Z,this.options=Xi({},Af,ko(K)&&K),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return a(G,"Cropper"),E(G,[{key:"init",value:a(function(){var Z=this.element,K=Z.tagName.toLowerCase(),ne;if(!Z[xt]){if(Z[xt]=this,K==="img"){if(this.isImg=!0,ne=Z.getAttribute("src")||"",this.originalUrl=ne,!ne)return;ne=Z.src}else K==="canvas"&&window.HTMLCanvasElement&&(ne=Z.toDataURL());this.load(ne)}},"init")},{key:"load",value:a(function(Z){var K=this;if(Z){this.url=Z,this.imageData={};var ne=this.element,le=this.options;if(!le.rotatable&&!le.scalable&&(le.checkOrientation=!1),!le.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Wg.test(Z)){jg.test(Z)?this.read(vD(Z)):this.clone();return}var pe=new XMLHttpRequest,Ce=this.clone.bind(this);this.reloading=!0,this.xhr=pe,pe.onabort=Ce,pe.onerror=Ce,pe.ontimeout=Ce,pe.onprogress=function(){pe.getResponseHeader("content-type")!==qr&&pe.abort()},pe.onload=function(){K.read(pe.response)},pe.onloadend=function(){K.reloading=!1,K.xhr=null},le.checkCrossOrigin&&_1(Z)&&ne.crossOrigin&&(Z=w1(Z)),pe.open("GET",Z),pe.responseType="arraybuffer",pe.withCredentials=ne.crossOrigin==="use-credentials",pe.send()}},"load")},{key:"read",value:a(function(Z){var K=this.options,ne=this.imageData,le=_D(Z),pe=0,Ce=1,Ie=1;if(le>1){this.url=bD(Z,qr);var qe=wD(le);pe=qe.rotate,Ce=qe.scaleX,Ie=qe.scaleY}K.rotatable&&(ne.rotate=pe),K.scalable&&(ne.scaleX=Ce,ne.scaleY=Ie),this.clone()},"read")},{key:"clone",value:a(function(){var Z=this.element,K=this.url,ne=Z.crossOrigin,le=K;this.options.checkCrossOrigin&&_1(K)&&(ne||(ne="anonymous"),le=w1(K)),this.crossOrigin=ne,this.crossOriginUrl=le;var pe=document.createElement("img");ne&&(pe.crossOrigin=ne),pe.src=le||K,pe.alt=Z.alt||"The image to crop",this.image=pe,pe.onload=this.start.bind(this),pe.onerror=this.stop.bind(this),kr(pe,Kr),Z.parentNode.insertBefore(pe,Z.nextSibling)},"clone")},{key:"start",value:a(function(){var Z=this,K=this.image;K.onload=null,K.onerror=null,this.sizing=!0;var ne=Ge.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Ge.navigator.userAgent),le=a(function(Ie,qe){Xi(Z.imageData,{naturalWidth:Ie,naturalHeight:qe,aspectRatio:Ie/qe}),Z.sizing=!1,Z.sized=!0,Z.build()},"done");if(K.naturalWidth&&!ne){le(K.naturalWidth,K.naturalHeight);return}var pe=document.createElement("img"),Ce=document.body||document.documentElement;this.sizingImage=pe,pe.onload=function(){le(pe.width,pe.height),ne||Ce.removeChild(pe)},pe.src=K.src,ne||(pe.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Ce.appendChild(pe))},"start")},{key:"stop",value:a(function(){var Z=this.image;Z.onload=null,Z.onerror=null,Z.parentNode.removeChild(Z),this.image=null},"stop")},{key:"build",value:a(function(){if(!(!this.sized||this.ready)){var Z=this.element,K=this.options,ne=this.image,le=Z.parentNode,pe=document.createElement("div");pe.innerHTML=$g;var Ce=pe.querySelector(".".concat(xt,"-container")),Ie=Ce.querySelector(".".concat(xt,"-canvas")),qe=Ce.querySelector(".".concat(xt,"-drag-box")),Ue=Ce.querySelector(".".concat(xt,"-crop-box")),Pe=Ue.querySelector(".".concat(xt,"-face"));this.container=le,this.cropper=Ce,this.canvas=Ie,this.dragBox=qe,this.cropBox=Ue,this.viewBox=Ce.querySelector(".".concat(xt,"-view-box")),this.face=Pe,Ie.appendChild(ne),kr(Z,Qi),le.insertBefore(Ce,Z.nextSibling),this.isImg||la(ne,Kr),this.initPreview(),this.bind(),K.initialAspectRatio=Math.max(0,K.initialAspectRatio)||NaN,K.aspectRatio=Math.max(0,K.aspectRatio)||NaN,K.viewMode=Math.max(0,Math.min(3,Math.round(K.viewMode)))||0,kr(Ue,Qi),K.guides||kr(Ue.getElementsByClassName("".concat(xt,"-dashed")),Qi),K.center||kr(Ue.getElementsByClassName("".concat(xt,"-center")),Qi),K.background&&kr(Ce,"".concat(xt,"-bg")),K.highlight||kr(Pe,ut),K.cropBoxMovable&&(kr(Pe,Qe),$h(Pe,rt,ze)),K.cropBoxResizable||(kr(Ue.getElementsByClassName("".concat(xt,"-line")),Qi),kr(Ue.getElementsByClassName("".concat(xt,"-point")),Qi)),this.render(),this.ready=!0,this.setDragMode(K.dragMode),K.autoCrop&&this.crop(),this.setData(K.data),ls(K.ready)&&gn(Z,ll,K.ready,{once:!0}),Ec(Z,ll)}},"build")},{key:"unbuild",value:a(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),la(this.element,Qi))},"unbuild")},{key:"uncreate",value:a(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()},"uncreate")}],[{key:"noConflict",value:a(function(){return window.Cropper=WH,G},"noConflict")},{key:"setDefaults",value:a(function(Z){Xi(Af,ko(Z)&&Z)},"setDefaults")}]),G}();return Xi(xD.prototype,IH,BH,NH,zH,UH,HH),xD})}),k=h((r,o)=>{o.exports=E,o.exports.isMobile=E,o.exports.default=E;var c=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,p=/CrOS/,_=/android|ipad|playbook|silk/i;function E(R){R||(R={});let B=R.ua;if(!B&&typeof navigator<"u"&&(B=navigator.userAgent),B&&B.headers&&typeof B.headers["user-agent"]=="string"&&(B=B.headers["user-agent"]),typeof B!="string")return!1;let q=c.test(B)&&!p.test(B)||!!R.tablet&&_.test(B);return!q&&R.tablet&&R.featureDetect&&navigator&&navigator.maxTouchPoints>1&&B.indexOf("Macintosh")!==-1&&B.indexOf("Safari")!==-1&&(q=!0),q}a(E,"isMobile")}),T=h((r,o)=>{o.exports=a(function(c,p){if(p=p.split(":")[0],c=+c,!c)return!1;switch(p){case"http":case"ws":return c!==80;case"https":case"wss":return c!==443;case"ftp":return c!==21;case"gopher":return c!==70;case"file":return!1}return c!==0},"required")}),A=h(r=>{var o=Object.prototype.hasOwnProperty,c;function p(B){try{return decodeURIComponent(B.replace(/\+/g," "))}catch{return null}}a(p,"decode");function _(B){try{return encodeURIComponent(B)}catch{return null}}a(_,"encode");function E(B){for(var q=/([^=?#&]+)=?([^&]*)/g,J={},V;V=q.exec(B);){var ie=p(V[1]),se=p(V[2]);ie===null||se===null||ie in J||(J[ie]=se)}return J}a(E,"querystring");function R(B,q){q=q||"";var J=[],V,ie;typeof q!="string"&&(q="?");for(ie in B)if(o.call(B,ie)){if(V=B[ie],!V&&(V===null||V===c||isNaN(V))&&(V=""),ie=_(ie),V=_(V),ie===null||V===null)continue;J.push(ie+"="+V)}return J.length?q+J.join("&"):""}a(R,"querystringify"),r.stringify=R,r.parse=E}),F=h((r,o)=>{var c=T(),p=A(),_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,E=/[\n\r\t]/g,R=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,B=/:\d+$/,q=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,J=/^[a-zA-Z]:/;function V(ze){return(ze||"").toString().replace(_,"")}a(V,"trimLeft");var ie=[["#","hash"],["?","query"],a(function(ze,We){return we(We.protocol)?ze.replace(/\\/g,"/"):ze},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],se={hash:1,query:1};function de(ze){var We;typeof window<"u"?We=window:typeof global<"u"?We=global:typeof self<"u"?We=self:We={};var He=We.location||{};ze=ze||He;var ve={},je=typeof ze,ot;if(ze.protocol==="blob:")ve=new mt(unescape(ze.pathname),{});else if(je==="string"){ve=new mt(ze,{});for(ot in se)delete ve[ot]}else if(je==="object"){for(ot in ze)ot in se||(ve[ot]=ze[ot]);ve.slashes===void 0&&(ve.slashes=R.test(ze.href))}return ve}a(de,"lolcation");function we(ze){return ze==="file:"||ze==="ftp:"||ze==="http:"||ze==="https:"||ze==="ws:"||ze==="wss:"}a(we,"isSpecial");function at(ze,We){ze=V(ze),ze=ze.replace(E,""),We=We||{};var He=q.exec(ze),ve=He[1]?He[1].toLowerCase():"",je=!!He[2],ot=!!He[3],At=0,Pt;return je?ot?(Pt=He[2]+He[3]+He[4],At=He[2].length+He[3].length):(Pt=He[2]+He[4],At=He[2].length):ot?(Pt=He[3]+He[4],At=He[3].length):Pt=He[4],ve==="file:"?At>=2&&(Pt=Pt.slice(2)):we(ve)?Pt=He[4]:ve?je&&(Pt=Pt.slice(2)):At>=2&&we(We.protocol)&&(Pt=He[4]),{protocol:ve,slashes:je||we(ve),slashesCount:At,rest:Pt}}a(at,"extractProtocol");function Ge(ze,We){if(ze==="")return We;for(var He=(We||"/").split("/").slice(0,-1).concat(ze.split("/")),ve=He.length,je=He[ve-1],ot=!1,At=0;ve--;)He[ve]==="."?He.splice(ve,1):He[ve]===".."?(He.splice(ve,1),At++):At&&(ve===0&&(ot=!0),He.splice(ve,1),At--);return ot&&He.unshift(""),(je==="."||je==="..")&&He.push(""),He.join("/")}a(Ge,"resolve");function mt(ze,We,He){if(ze=V(ze),ze=ze.replace(E,""),!(this instanceof mt))return new mt(ze,We,He);var ve,je,ot,At,Pt,gi,Ii=ie.slice(),Ci=typeof We,et=this,Ei=0;for(Ci!=="object"&&Ci!=="string"&&(He=We,We=null),He&&typeof He!="function"&&(He=p.parse),We=de(We),je=at(ze||"",We),ve=!je.protocol&&!je.slashes,et.slashes=je.slashes||ve&&We.slashes,et.protocol=je.protocol||We.protocol||"",ze=je.rest,(je.protocol==="file:"&&(je.slashesCount!==2||J.test(ze))||!je.slashes&&(je.protocol||je.slashesCount<2||!we(et.protocol)))&&(Ii[3]=[/(.*)/,"pathname"]);Ei<Ii.length;Ei++){if(At=Ii[Ei],typeof At=="function"){ze=At(ze,et);continue}ot=At[0],gi=At[1],ot!==ot?et[gi]=ze:typeof ot=="string"?(Pt=ot==="@"?ze.lastIndexOf(ot):ze.indexOf(ot),~Pt&&(typeof At[2]=="number"?(et[gi]=ze.slice(0,Pt),ze=ze.slice(Pt+At[2])):(et[gi]=ze.slice(Pt),ze=ze.slice(0,Pt)))):(Pt=ot.exec(ze))&&(et[gi]=Pt[1],ze=ze.slice(0,Pt.index)),et[gi]=et[gi]||ve&&At[3]&&We[gi]||"",At[4]&&(et[gi]=et[gi].toLowerCase())}He&&(et.query=He(et.query)),ve&&We.slashes&&et.pathname.charAt(0)!=="/"&&(et.pathname!==""||We.pathname!=="")&&(et.pathname=Ge(et.pathname,We.pathname)),et.pathname.charAt(0)!=="/"&&we(et.protocol)&&(et.pathname="/"+et.pathname),c(et.port,et.protocol)||(et.host=et.hostname,et.port=""),et.username=et.password="",et.auth&&(Pt=et.auth.indexOf(":"),~Pt?(et.username=et.auth.slice(0,Pt),et.username=encodeURIComponent(decodeURIComponent(et.username)),et.password=et.auth.slice(Pt+1),et.password=encodeURIComponent(decodeURIComponent(et.password))):et.username=encodeURIComponent(decodeURIComponent(et.auth)),et.auth=et.password?et.username+":"+et.password:et.username),et.origin=et.protocol!=="file:"&&we(et.protocol)&&et.host?et.protocol+"//"+et.host:"null",et.href=et.toString()}a(mt,"Url");function qt(ze,We,He){var ve=this;switch(ze){case"query":typeof We=="string"&&We.length&&(We=(He||p.parse)(We)),ve[ze]=We;break;case"port":ve[ze]=We,c(We,ve.protocol)?We&&(ve.host=ve.hostname+":"+We):(ve.host=ve.hostname,ve[ze]="");break;case"hostname":ve[ze]=We,ve.port&&(We+=":"+ve.port),ve.host=We;break;case"host":ve[ze]=We,B.test(We)?(We=We.split(":"),ve.port=We.pop(),ve.hostname=We.join(":")):(ve.hostname=We,ve.port="");break;case"protocol":ve.protocol=We.toLowerCase(),ve.slashes=!He;break;case"pathname":case"hash":if(We){var je=ze==="pathname"?"/":"#";ve[ze]=We.charAt(0)!==je?je+We:We}else ve[ze]=We;break;case"username":case"password":ve[ze]=encodeURIComponent(We);break;case"auth":var ot=We.indexOf(":");~ot?(ve.username=We.slice(0,ot),ve.username=encodeURIComponent(decodeURIComponent(ve.username)),ve.password=We.slice(ot+1),ve.password=encodeURIComponent(decodeURIComponent(ve.password))):ve.username=encodeURIComponent(decodeURIComponent(We))}for(var At=0;At<ie.length;At++){var Pt=ie[At];Pt[4]&&(ve[Pt[1]]=ve[Pt[1]].toLowerCase())}return ve.auth=ve.password?ve.username+":"+ve.password:ve.username,ve.origin=ve.protocol!=="file:"&&we(ve.protocol)&&ve.host?ve.protocol+"//"+ve.host:"null",ve.href=ve.toString(),ve}a(qt,"set");function xt(ze){(!ze||typeof ze!="function")&&(ze=p.stringify);var We,He=this,ve=He.host,je=He.protocol;je&&je.charAt(je.length-1)!==":"&&(je+=":");var ot=je+(He.protocol&&He.slashes||we(He.protocol)?"//":"");return He.username?(ot+=He.username,He.password&&(ot+=":"+He.password),ot+="@"):He.password?(ot+=":"+He.password,ot+="@"):He.protocol!=="file:"&&we(He.protocol)&&!ve&&He.pathname!=="/"&&(ot+="@"),(ve[ve.length-1]===":"||B.test(He.hostname)&&!He.port)&&(ve+=":"),ot+=ve+He.pathname,We=typeof He.query=="object"?ze(He.query):He.query,We&&(ot+=We.charAt(0)!=="?"?"?"+We:We),He.hash&&(ot+=He.hash),ot}a(xt,"toString"),mt.prototype={set:qt,toString:xt},mt.extractProtocol=at,mt.location=de,mt.trimLeft=V,mt.qs=p,o.exports=mt}),z=h((r,o)=>{typeof o<"u"&&(o.exports=c);function c(_){if(_)return p(_)}a(c,"Emitter");function p(_){for(var E in c.prototype)_[E]=c.prototype[E];return _}a(p,"mixin"),c.prototype.on=c.prototype.addEventListener=function(_,E){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_]=this._callbacks["$"+_]||[]).push(E),this},c.prototype.once=function(_,E){function R(){this.off(_,R),E.apply(this,arguments)}return a(R,"on"),R.fn=E,this.on(_,R),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(_,E){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var R=this._callbacks["$"+_];if(!R)return this;if(arguments.length==1)return delete this._callbacks["$"+_],this;for(var B,q=0;q<R.length;q++)if(B=R[q],B===E||B.fn===E){R.splice(q,1);break}return R.length===0&&delete this._callbacks["$"+_],this},c.prototype.emit=function(_){this._callbacks=this._callbacks||{};for(var E=new Array(arguments.length-1),R=this._callbacks["$"+_],B=1;B<arguments.length;B++)E[B-1]=arguments[B];if(R){R=R.slice(0);for(var B=0,q=R.length;B<q;++B)R[B].apply(this,E)}return this},c.prototype.listeners=function(_){return this._callbacks=this._callbacks||{},this._callbacks["$"+_]||[]},c.prototype.hasListeners=function(_){return!!this.listeners(_).length}}),N=h((r,o)=>{function c(ut,Le){var Qe=Object.keys(ut);if(Object.getOwnPropertySymbols){var rt=Object.getOwnPropertySymbols(ut);Le&&(rt=rt.filter(function(gt){return Object.getOwnPropertyDescriptor(ut,gt).enumerable})),Qe.push.apply(Qe,rt)}return Qe}a(c,"ownKeys");function p(ut){for(var Le=1;Le<arguments.length;Le++){var Qe=arguments[Le]!=null?arguments[Le]:{};Le%2?c(Object(Qe),!0).forEach(function(rt){B(ut,rt,Qe[rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ut,Object.getOwnPropertyDescriptors(Qe)):c(Object(Qe)).forEach(function(rt){Object.defineProperty(ut,rt,Object.getOwnPropertyDescriptor(Qe,rt))})}return ut}a(p,"_objectSpread2");function _(ut,Le){if(!(ut instanceof Le))throw new TypeError("Cannot call a class as a function")}a(_,"_classCallCheck");function E(ut,Le){for(var Qe=0;Qe<Le.length;Qe++){var rt=Le[Qe];rt.enumerable=rt.enumerable||!1,rt.configurable=!0,"value"in rt&&(rt.writable=!0),Object.defineProperty(ut,rt.key,rt)}}a(E,"_defineProperties");function R(ut,Le,Qe){return Le&&E(ut.prototype,Le),Qe&&E(ut,Qe),ut}a(R,"_createClass");function B(ut,Le,Qe){return Le in ut?Object.defineProperty(ut,Le,{value:Qe,enumerable:!0,configurable:!0,writable:!0}):ut[Le]=Qe,ut}a(B,"_defineProperty");function q(){return q=Object.assign||function(ut){for(var Le=1;Le<arguments.length;Le++){var Qe=arguments[Le];for(var rt in Qe)Object.prototype.hasOwnProperty.call(Qe,rt)&&(ut[rt]=Qe[rt])}return ut},q.apply(this,arguments)}a(q,"_extends");var J={exports:{}};(function(ut){typeof window>"u"||function(Le){var Qe=Le.HTMLCanvasElement&&Le.HTMLCanvasElement.prototype,rt=Le.Blob&&function(){try{return!!new Blob}catch{return!1}}(),gt=rt&&Le.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),si=Le.BlobBuilder||Le.WebKitBlobBuilder||Le.MozBlobBuilder||Le.MSBlobBuilder,Ji=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,Zt=(rt||si)&&Le.atob&&Le.ArrayBuffer&&Le.Uint8Array&&function(Di){var Ft,Nt,di,jr,ni,Ar,os,oa,Ma;if(Ft=Di.match(Ji),!Ft)throw new Error("invalid data URI");for(Nt=Ft[2]?Ft[1]:"text/plain"+(Ft[3]||";charset=US-ASCII"),di=!!Ft[4],jr=Di.slice(Ft[0].length),di?ni=atob(jr):ni=decodeURIComponent(jr),Ar=new ArrayBuffer(ni.length),os=new Uint8Array(Ar),oa=0;oa<ni.length;oa+=1)os[oa]=ni.charCodeAt(oa);return rt?new Blob([gt?os:Ar],{type:Nt}):(Ma=new si,Ma.append(Ar),Ma.getBlob(Nt))};Le.HTMLCanvasElement&&!Qe.toBlob&&(Qe.mozGetAsFile?Qe.toBlob=function(Di,Ft,Nt){var di=this;setTimeout(function(){Nt&&Qe.toDataURL&&Zt?Di(Zt(di.toDataURL(Ft,Nt))):Di(di.mozGetAsFile("blob",Ft))})}:Qe.toDataURL&&Zt&&(Qe.msToBlob?Qe.toBlob=function(Di,Ft,Nt){var di=this;setTimeout(function(){(Ft&&Ft!=="image/png"||Nt)&&Qe.toDataURL&&Zt?Di(Zt(di.toDataURL(Ft,Nt))):Di(di.msToBlob(Ft))})}:Qe.toBlob=function(Di,Ft,Nt){var di=this;setTimeout(function(){Di(Zt(di.toDataURL(Ft,Nt)))})})),ut.exports?ut.exports=Zt:Le.dataURLtoBlob=Zt}(window)})(J);var V=J.exports,ie=a(function(ut){return typeof Blob>"u"?!1:ut instanceof Blob||Object.prototype.toString.call(ut)==="[object Blob]"},"isBlob"),se={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},de=typeof window<"u"&&typeof window.document<"u",we=de?window:{},at=a(function(ut){return ut>0&&ut<1/0},"isPositiveNumber"),Ge=Array.prototype.slice;function mt(ut){return Array.from?Array.from(ut):Ge.call(ut)}a(mt,"toArray");var qt=/^image\/.+$/;function xt(ut){return qt.test(ut)}a(xt,"isImageType");function ze(ut){var Le=xt(ut)?ut.substr(6):"";return Le==="jpeg"&&(Le="jpg"),".".concat(Le)}a(ze,"imageTypeToExtension");var We=String.fromCharCode;function He(ut,Le,Qe){var rt="",gt;for(Qe+=Le,gt=Le;gt<Qe;gt+=1)rt+=We(ut.getUint8(gt));return rt}a(He,"getStringFromCharCode");var ve=we.btoa;function je(ut,Le){for(var Qe=[],rt=8192,gt=new Uint8Array(ut);gt.length>0;)Qe.push(We.apply(null,mt(gt.subarray(0,rt)))),gt=gt.subarray(rt);return"data:".concat(Le,";base64,").concat(ve(Qe.join("")))}a(je,"arrayBufferToDataURL");function ot(ut){var Le=new DataView(ut),Qe;try{var rt,gt,si;if(Le.getUint8(0)===255&&Le.getUint8(1)===216)for(var Ji=Le.byteLength,Zt=2;Zt+1<Ji;){if(Le.getUint8(Zt)===255&&Le.getUint8(Zt+1)===225){gt=Zt;break}Zt+=1}if(gt){var Di=gt+4,Ft=gt+10;if(He(Le,Di,4)==="Exif"){var Nt=Le.getUint16(Ft);if(rt=Nt===18761,(rt||Nt===19789)&&Le.getUint16(Ft+2,rt)===42){var di=Le.getUint32(Ft+4,rt);di>=8&&(si=Ft+di)}}}if(si){var jr=Le.getUint16(si,rt),ni,Ar;for(Ar=0;Ar<jr;Ar+=1)if(ni=si+Ar*12+2,Le.getUint16(ni,rt)===274){ni+=8,Qe=Le.getUint16(ni,rt),Le.setUint16(ni,1,rt);break}}}catch{Qe=1}return Qe}a(ot,"resetAndGetOrientation");function At(ut){var Le=0,Qe=1,rt=1;switch(ut){case 2:Qe=-1;break;case 3:Le=-180;break;case 4:rt=-1;break;case 5:Le=90,rt=-1;break;case 6:Le=90;break;case 7:Le=90,Qe=-1;break;case 8:Le=-90;break}return{rotate:Le,scaleX:Qe,scaleY:rt}}a(At,"parseOrientation");var Pt=/\.\d*(?:0|9){12}\d*$/;function gi(ut){var Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Pt.test(ut)?Math.round(ut*Le)/Le:ut}a(gi,"normalizeDecimalNumber");function Ii(ut){var Le=ut.aspectRatio,Qe=ut.height,rt=ut.width,gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",si=at(rt),Ji=at(Qe);if(si&&Ji){var Zt=Qe*Le;(gt==="contain"||gt==="none")&&Zt>rt||gt==="cover"&&Zt<rt?Qe=rt/Le:rt=Qe*Le}else si?Qe=rt/Le:Ji&&(rt=Qe*Le);return{width:rt,height:Qe}}a(Ii,"getAdjustedSizes");var Ci=we.ArrayBuffer,et=we.FileReader,Ei=we.URL||we.webkitURL,vs=/\.\w+$/,Qi=we.Compressor,Kr=function(){function ut(Le,Qe){_(this,ut),this.file=Le,this.image=new Image,this.options=p(p({},se),Qe),this.aborted=!1,this.result=null,this.init()}return a(ut,"Compressor"),R(ut,[{key:"init",value:a(function(){var Le=this,Qe=this.file,rt=this.options;if(!ie(Qe)){this.fail(new Error("The first argument must be a File or Blob object."));return}var gt=Qe.type;if(!xt(gt)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!Ei||!et){this.fail(new Error("The current browser does not support image compression."));return}if(Ci||(rt.checkOrientation=!1),Ei&&!rt.checkOrientation)this.load({url:Ei.createObjectURL(Qe)});else{var si=new et,Ji=rt.checkOrientation&&gt==="image/jpeg";this.reader=si,si.onload=function(Zt){var Di=Zt.target,Ft=Di.result,Nt={};if(Ji){var di=ot(Ft);di>1||!Ei?(Nt.url=je(Ft,gt),di>1&&q(Nt,At(di))):Nt.url=Ei.createObjectURL(Qe)}else Nt.url=Ft;Le.load(Nt)},si.onabort=function(){Le.fail(new Error("Aborted to read the image with FileReader."))},si.onerror=function(){Le.fail(new Error("Failed to read the image with FileReader."))},si.onloadend=function(){Le.reader=null},Ji?si.readAsArrayBuffer(Qe):si.readAsDataURL(Qe)}},"init")},{key:"load",value:a(function(Le){var Qe=this,rt=this.file,gt=this.image;gt.onload=function(){Qe.draw(p(p({},Le),{},{naturalWidth:gt.naturalWidth,naturalHeight:gt.naturalHeight}))},gt.onabort=function(){Qe.fail(new Error("Aborted to load the image."))},gt.onerror=function(){Qe.fail(new Error("Failed to load the image."))},we.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(we.navigator.userAgent)&&(gt.crossOrigin="anonymous"),gt.alt=rt.name,gt.src=Le.url},"load")},{key:"draw",value:a(function(Le){var Qe=this,rt=Le.naturalWidth,gt=Le.naturalHeight,si=Le.rotate,Ji=si===void 0?0:si,Zt=Le.scaleX,Di=Zt===void 0?1:Zt,Ft=Le.scaleY,Nt=Ft===void 0?1:Ft,di=this.file,jr=this.image,ni=this.options,Ar=document.createElement("canvas"),os=Ar.getContext("2d"),oa=Math.abs(Ji)%180===90,Ma=(ni.resize==="contain"||ni.resize==="cover")&&at(ni.width)&&at(ni.height),ol=Math.max(ni.maxWidth,0)||1/0,ll=Math.max(ni.maxHeight,0)||1/0,cl=Math.max(ni.minWidth,0)||0,hl=Math.max(ni.minHeight,0)||0,Aa=rt/gt,qr=ni.width,Zr=ni.height;if(oa){var Wg=[ll,ol];ol=Wg[0],ll=Wg[1];var jg=[hl,cl];cl=jg[0],hl=jg[1];var qg=[Zr,qr];qr=qg[0],Zr=qg[1]}Ma&&(Aa=qr/Zr);var Af=Ii({aspectRatio:Aa,width:ol,height:ll},"contain");ol=Af.width,ll=Af.height;var $g=Ii({aspectRatio:Aa,width:cl,height:hl},"cover");if(cl=$g.width,hl=$g.height,Ma){var Vg=Ii({aspectRatio:Aa,width:qr,height:Zr},ni.resize);qr=Vg.width,Zr=Vg.height}else{var hi=Ii({aspectRatio:Aa,width:qr,height:Zr}),Pf=hi.width;qr=Pf===void 0?rt:Pf;var Tc=hi.height;Zr=Tc===void 0?gt:Tc}qr=Math.floor(gi(Math.min(Math.max(qr,cl),ol))),Zr=Math.floor(gi(Math.min(Math.max(Zr,hl),ll)));var Pa=-qr/2,y1=-Zr/2,ko=qr,ls=Zr,Df=[];if(Ma){var qh=0,ar=0,Xi=rt,Lf=gt,Da=Ii({aspectRatio:Aa,width:rt,height:gt},{contain:"cover",cover:"contain"}[ni.resize]);Xi=Da.width,Lf=Da.height,qh=(rt-Xi)/2,ar=(gt-Lf)/2,Df.push(qh,ar,Xi,Lf)}if(Df.push(Pa,y1,ko,ls),oa){var Yg=[Zr,qr];qr=Yg[0],Zr=Yg[1]}Ar.width=qr,Ar.height=Zr,xt(ni.mimeType)||(ni.mimeType=di.type);var Pn="transparent";if(di.size>ni.convertSize&&ni.convertTypes.indexOf(ni.mimeType)>=0&&(ni.mimeType="image/jpeg"),ni.mimeType==="image/jpeg"&&(Pn="#fff"),os.fillStyle=Pn,os.fillRect(0,0,qr,Zr),ni.beforeDraw&&ni.beforeDraw.call(this,os,Ar),!this.aborted&&(os.save(),os.translate(qr/2,Zr/2),os.rotate(Ji*Math.PI/180),os.scale(Di,Nt),os.drawImage.apply(os,[jr].concat(Df)),os.restore(),ni.drew&&ni.drew.call(this,os,Ar),!this.aborted)){var Rf=a(function(kr){Qe.aborted||Qe.done({naturalWidth:rt,naturalHeight:gt,result:kr})},"done");Ar.toBlob?Ar.toBlob(Rf,ni.mimeType,ni.quality):Rf(V(Ar.toDataURL(ni.mimeType,ni.quality)))}},"draw")},{key:"done",value:a(function(Le){var Qe=Le.naturalWidth,rt=Le.naturalHeight,gt=Le.result,si=this.file,Ji=this.image,Zt=this.options;if(Ei&&!Zt.checkOrientation&&Ei.revokeObjectURL(Ji.src),gt)if(Zt.strict&&gt.size>si.size&&Zt.mimeType===si.type&&!(Zt.width>Qe||Zt.height>rt||Zt.minWidth>Qe||Zt.minHeight>rt||Zt.maxWidth<Qe||Zt.maxHeight<rt))gt=si;else{var Di=new Date;gt.lastModified=Di.getTime(),gt.lastModifiedDate=Di,gt.name=si.name,gt.name&&gt.type!==si.type&&(gt.name=gt.name.replace(vs,ze(gt.type)))}else gt=si;this.result=gt,Zt.success&&Zt.success.call(this,gt)},"done")},{key:"fail",value:a(function(Le){var Qe=this.options;if(Qe.error)Qe.error.call(this,Le);else throw Le},"fail")},{key:"abort",value:a(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))},"abort")}],[{key:"noConflict",value:a(function(){return window.Compressor=Qi,ut},"noConflict")},{key:"setDefaults",value:a(function(Le){q(se,Le)},"setDefaults")}]),ut}();o.exports=Kr}),m={};d(m,{Audio:()=>__,AwsS3:()=>z_,AwsS3Multipart:()=>wg,Box:()=>sg,Compressor:()=>ZP,Core:()=>lD,Dashboard:()=>Qm,DefaultStore:()=>Gt,DragDrop:()=>Jm,DropTarget:()=>t_,Dropbox:()=>ng,Facebook:()=>ag,FileInput:()=>i_,Form:()=>u1,GoldenRetriever:()=>m1,GoogleDrive:()=>og,ImageEditor:()=>r_,Informer:()=>Dm,Instagram:()=>lg,OneDrive:()=>cg,ProgressBar:()=>s_,ReduxDevTools:()=>g1,ReduxStore:()=>Dz,RemoteSources:()=>T_,ScreenCapture:()=>C_,StatusBar:()=>Pm,ThumbnailGenerator:()=>qm,Transloadit:()=>Sc,Tus:()=>ef,Unsplash:()=>hg,Uppy:()=>Gi,Url:()=>Td,Webcam:()=>O_,XHRUpload:()=>a1,Zoom:()=>dg,debugLogger:()=>Q,locales:()=>DH,server:()=>h2,views:()=>PH});function w(r,o){return Object.prototype.hasOwnProperty.call(r,o)}a(w,"has");function M(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(M,"_classPrivateFieldLooseBase");var D=0;function I(r){return"__private_"+D+++"_"+r}a(I,"_classPrivateFieldLooseKey");function H(r,o,c){let p=[];return r.forEach(_=>typeof _!="string"?p.push(_):o[Symbol.split](_).forEach((E,R,B)=>{E!==""&&p.push(E),R<B.length-1&&p.push(c)})),p}a(H,"insertReplacement");function j(r,o){let c=/\$/g,p="$$$$",_=[r];if(o==null)return _;for(let E of Object.keys(o))if(E!=="_"){let R=o[E];typeof R=="string"&&(R=c[Symbol.replace](R,p)),_=H(_,new RegExp(`%\\{${E}\\}`,"g"),R)}return _}a(j,"interpolate");var $=I("apply"),ae=class{constructor(r){Object.defineProperty(this,$,{value:X}),this.locale={strings:{},pluralize(o){return o===1?0:1}},Array.isArray(r)?r.forEach(M(this,$)[$],this):M(this,$)[$](r)}translate(r,o){return this.translateArray(r,o).join("")}translateArray(r,o){if(!w(this.locale.strings,r))throw new Error(`missing string: ${r}`);let c=this.locale.strings[r];if(typeof c=="object"){if(o&&typeof o.smart_count<"u"){let p=this.locale.pluralize(o.smart_count);return j(c[p],o)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return j(c,o)}};a(ae,"Translator");function X(r){if(!(r!=null&&r.strings))return;let o=this.locale;this.locale={...o,strings:{...o.strings,...r.strings}},this.locale.pluralize=r.pluralize||o.pluralize}a(X,"_apply2");var Y=g(v(),1),ue="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",be=a((r=21)=>{let o="",c=r;for(;c--;)o+=ue[Math.random()*64|0];return o},"nanoid"),Oe=g(x(),1);function me(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(me,"_classPrivateFieldLooseBase");var xe=0;function Ae(r){return"__private_"+xe+++"_"+r}a(Ae,"_classPrivateFieldLooseKey");var $e={version:"3.0.2"},tt=Ae("callbacks"),ye=Ae("publish"),dt=class{constructor(){Object.defineProperty(this,ye,{value:ft}),Object.defineProperty(this,tt,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(r){let o={...this.state},c={...this.state,...r};this.state=c,me(this,ye)[ye](o,c,r)}subscribe(r){return me(this,tt)[tt].add(r),()=>{me(this,tt)[tt].delete(r)}}};a(dt,"DefaultStore");function ft(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];me(this,tt)[tt].forEach(p=>{p(...o)})}a(ft,"_publish2"),dt.VERSION=$e.version;var Gt=dt;function Re(r){let o=r.lastIndexOf(".");return o===-1||o===r.length-1?{name:r,extension:void 0}:{name:r.slice(0,o),extension:r.slice(o+1)}}a(Re,"getFileNameAndExtension");var ri={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function fi(r){var o;if(r.type)return r.type;let c=r.name?(o=Re(r.name).extension)==null?void 0:o.toLowerCase():null;return c&&c in ri?ri[c]:"application/octet-stream"}a(fi,"getFileType");function ci(r){return r.charCodeAt(0).toString(32)}a(ci,"encodeCharacter");function Ve(r){let o="";return r.replace(/[^A-Z0-9]/ig,c=>(o+=`-${ci(c)}`,"/"))+o}a(Ve,"encodeFilename");function Yi(r){let o="uppy";return typeof r.name=="string"&&(o+=`-${Ve(r.name.toLowerCase())}`),r.type!==void 0&&(o+=`-${r.type}`),r.meta&&typeof r.meta.relativePath=="string"&&(o+=`-${Ve(r.meta.relativePath.toLowerCase())}`),r.data.size!==void 0&&(o+=`-${r.data.size}`),r.data.lastModified!==void 0&&(o+=`-${r.data.lastModified}`),o}a(Yi,"generateFileID");function Fi(r){if(r==null&&typeof navigator<"u"&&(r=navigator.userAgent),!r)return!0;let o=/Edge\/(\d+\.\d+)/.exec(r);if(!o)return!0;let c=o[1],[p,_]=c.split(".");return p=parseInt(p,10),_=parseInt(_,10),p<15||p===15&&_<15063||p>18||p===18&&_>=18218}a(Fi,"supportsUploadProgress");function Or(r,o){return o.name?o.name:r.split("/")[0]==="image"?`${r.split("/")[0]}.${r.split("/")[1]}`:"noname"}a(Or,"getFileName");function Br(r){return r<10?`0${r}`:r.toString()}a(Br,"pad");function Ai(){let r=new Date,o=Br(r.getHours()),c=Br(r.getMinutes()),p=Br(r.getSeconds());return`${o}:${c}:${p}`}a(Ai,"getTimeStamp");var Wi={debug:()=>{},warn:()=>{},error:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.error(`[Uppy] [${Ai()}]`,...o)}},Q={debug:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.debug(`[Uppy] [${Ai()}]`,...o)},warn:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.warn(`[Uppy] [${Ai()}]`,...o)},error:function(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return console.error(`[Uppy] [${Ai()}]`,...o)}},ce=g(b(),1),oe=g(O(),1),Se={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},Te=class extends Error{constructor(){super(...arguments),this.isRestriction=!0}};a(Te,"RestrictionError");var Me=class{constructor(r,o){this.i18n=o,this.getOpts=()=>{let c=r();if(c.restrictions.allowedFileTypes!=null&&!Array.isArray(c.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return c}}validate(r,o){let{maxFileSize:c,minFileSize:p,maxTotalFileSize:_,maxNumberOfFiles:E,allowedFileTypes:R}=this.getOpts().restrictions;if(E&&o.filter(B=>!B.isGhost).length+1>E)throw new Te(`${this.i18n("youCanOnlyUploadX",{smart_count:E})}`);if(R&&!R.some(B=>B.includes("/")?r.type?(0,oe.default)(r.type.replace(/;.*?$/,""),B):!1:B[0]==="."&&r.extension?r.extension.toLowerCase()===B.slice(1).toLowerCase():!1)){let B=R.join(", ");throw new Te(this.i18n("youCanOnlyUploadFileTypes",{types:B}))}if(_&&r.size!=null&&o.reduce((B,q)=>B+q.size,r.size)>_)throw new Te(this.i18n("exceedsSize",{size:(0,ce.default)(_),file:r.name}));if(c&&r.size!=null&&r.size>c)throw new Te(this.i18n("exceedsSize",{size:(0,ce.default)(c),file:r.name}));if(p&&r.size!=null&&r.size<p)throw new Te(this.i18n("inferiorSize",{size:(0,ce.default)(p)}))}validateMinNumberOfFiles(r){let{minNumberOfFiles:o}=this.getOpts().restrictions;if(Object.keys(r).length<o)throw new Te(this.i18n("youHaveToAtLeastSelectX",{smart_count:o}))}getMissingRequiredMetaFields(r){let o=new Te(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),{requiredMetaFields:c}=this.getOpts().restrictions,p=[];for(let _ of c)(!Object.hasOwn(r.meta,_)||r.meta[_]==="")&&p.push(_);return{missingFields:p,error:o}}};a(Me,"Restricter");var it={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},vt,Ct;function re(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(re,"_classPrivateFieldLooseBase");var ke=0;function Be(r){return"__private_"+ke+++"_"+r}a(Be,"_classPrivateFieldLooseKey");var Ee={version:"3.0.4"},Fe=Be("plugins"),De=Be("restricter"),st=Be("storeUnsubscribe"),pt=Be("emitter"),ii=Be("preProcessors"),oi=Be("uploaders"),ee=Be("postProcessors"),te=Be("informAndEmit"),he=Be("checkRequiredMetaFieldsOnFile"),_e=Be("checkRequiredMetaFields"),Ye=Be("assertNewUploadAllowed"),Je=Be("checkAndCreateFileStateObject"),$t=Be("startIfAutoProceed"),bt=Be("addListeners"),jt=Be("updateOnlineStatus"),nt=Be("createUpload"),Bt=Be("getUpload"),pi=Be("removeUpload"),hr=Be("runUpload");vt=Symbol.for("uppy test: getPlugins"),Ct=Symbol.for("uppy test: createUpload");var yr=class{constructor(r){Object.defineProperty(this,hr,{value:kt}),Object.defineProperty(this,pi,{value:Ke}),Object.defineProperty(this,Bt,{value:fe}),Object.defineProperty(this,nt,{value:Mt}),Object.defineProperty(this,bt,{value:xh}),Object.defineProperty(this,$t,{value:zl}),Object.defineProperty(this,Je,{value:Nl}),Object.defineProperty(this,Ye,{value:to}),Object.defineProperty(this,_e,{value:Bl}),Object.defineProperty(this,he,{value:Nr}),Object.defineProperty(this,te,{value:Kn}),Object.defineProperty(this,Fe,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,De,{writable:!0,value:void 0}),Object.defineProperty(this,st,{writable:!0,value:void 0}),Object.defineProperty(this,pt,{writable:!0,value:(0,Y.default)()}),Object.defineProperty(this,ii,{writable:!0,value:new Set}),Object.defineProperty(this,oi,{writable:!0,value:new Set}),Object.defineProperty(this,ee,{writable:!0,value:new Set}),Object.defineProperty(this,jt,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=it;let o={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Se,meta:{},onBeforeFileAdded:c=>c,onBeforeUpload:c=>c,store:new Gt,logger:Wi,infoTimeout:5e3};this.opts={...o,...r,restrictions:{...o.restrictions,...r&&r.restrictions}},r&&r.logger&&r.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):r&&r.debug&&(this.opts.logger=Q),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=(0,Oe.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:Fi(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),re(this,De)[De]=new Me(()=>this.opts,this.i18n),re(this,st)[st]=this.store.subscribe((c,p,_)=>{this.emit("state-update",c,p,_),this.updateAll(p)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),re(this,bt)[bt]()}emit(r){for(var o=arguments.length,c=new Array(o>1?o-1:0),p=1;p<o;p++)c[p-1]=arguments[p];re(this,pt)[pt].emit(r,...c)}on(r,o){return re(this,pt)[pt].on(r,o),this}once(r,o){return re(this,pt)[pt].once(r,o),this}off(r,o){return re(this,pt)[pt].off(r,o),this}updateAll(r){this.iteratePlugins(o=>{o.update(r)})}setState(r){this.store.setState(r)}getState(){return this.store.getState()}setFileState(r,o){if(!this.getState().files[r])throw new Error(`Cant set state for ${r} (the file could have been removed)`);this.setState({files:{...this.getState().files,[r]:{...this.getState().files[r],...o}}})}i18nInit(){let r=new ae([this.defaultLocale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(r){this.opts={...this.opts,...r,restrictions:{...this.opts.restrictions,...r&&r.restrictions}},r.meta&&this.setMeta(r.meta),this.i18nInit(),r.locale&&this.iteratePlugins(o=>{o.setOptions()}),this.setState()}resetProgress(){let r={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},o={...this.getState().files},c={};Object.keys(o).forEach(p=>{let _={...o[p]};_.progress={..._.progress,...r},c[p]=_}),this.setState({files:c,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(r){re(this,ii)[ii].add(r)}removePreProcessor(r){return re(this,ii)[ii].delete(r)}addPostProcessor(r){re(this,ee)[ee].add(r)}removePostProcessor(r){return re(this,ee)[ee].delete(r)}addUploader(r){re(this,oi)[oi].add(r)}removeUploader(r){return re(this,oi)[oi].delete(r)}setMeta(r){let o={...this.getState().meta,...r},c={...this.getState().files};Object.keys(c).forEach(p=>{c[p]={...c[p],meta:{...c[p].meta,...r}}}),this.log("Adding metadata:"),this.log(r),this.setState({meta:o,files:c})}setFileMeta(r,o){let c={...this.getState().files};if(!c[r]){this.log("Was trying to set metadata for a file that has been removed: ",r);return}let p={...c[r].meta,...o};c[r]={...c[r],meta:p},this.setState({files:c})}getFile(r){return this.getState().files[r]}getFiles(){let{files:r}=this.getState();return Object.values(r)}getObjectOfFilesPerState(){let{files:r,totalProgress:o,error:c}=this.getState(),p=Object.values(r),_=p.filter(de=>{let{progress:we}=de;return!we.uploadComplete&&we.uploadStarted}),E=p.filter(de=>!de.progress.uploadStarted),R=p.filter(de=>de.progress.uploadStarted||de.progress.preprocess||de.progress.postprocess),B=p.filter(de=>de.progress.uploadStarted),q=p.filter(de=>de.isPaused),J=p.filter(de=>de.progress.uploadComplete),V=p.filter(de=>de.error),ie=_.filter(de=>!de.isPaused),se=p.filter(de=>de.progress.preprocess||de.progress.postprocess);return{newFiles:E,startedFiles:R,uploadStartedFiles:B,pausedFiles:q,completeFiles:J,erroredFiles:V,inProgressFiles:_,inProgressNotPausedFiles:ie,processingFiles:se,isUploadStarted:B.length>0,isAllComplete:o===100&&J.length===p.length&&se.length===0,isAllErrored:!!c&&V.length===p.length,isAllPaused:_.length!==0&&q.length===_.length,isUploadInProgress:_.length>0,isSomeGhost:p.some(de=>de.isGhost)}}validateRestrictions(r,o){o===void 0&&(o=this.getFiles());try{re(this,De)[De].validate(r,o)}catch(c){return c}return null}checkIfFileAlreadyExists(r){let{files:o}=this.getState();return!!(o[r]&&!o[r].isGhost)}addFile(r){re(this,Ye)[Ye](r);let{files:o}=this.getState(),c=re(this,Je)[Je](o,r);return o[c.id]&&o[c.id].isGhost&&(c={...o[c.id],data:r.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`)),this.setState({files:{...o,[c.id]:c}}),this.emit("file-added",c),this.emit("files-added",[c]),this.log(`Added file: ${c.name}, ${c.id}, mime type: ${c.type}`),re(this,$t)[$t](),c.id}addFiles(r){re(this,Ye)[Ye]();let o={...this.getState().files},c=[],p=[];for(let _=0;_<r.length;_++)try{let E=re(this,Je)[Je](o,r[_]);o[E.id]&&o[E.id].isGhost&&(E={...o[E.id],data:r[_].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${E.name}, ${E.id}`)),o[E.id]=E,c.push(E)}catch(E){E.isRestriction||p.push(E)}if(this.setState({files:o}),c.forEach(_=>{this.emit("file-added",_)}),this.emit("files-added",c),c.length>5?this.log(`Added batch of ${c.length} files`):Object.keys(c).forEach(_=>{this.log(`Added file: ${c[_].name}
 id: ${c[_].id}
 type: ${c[_].type}`)}),c.length>0&&re(this,$t)[$t](),p.length>0){let _=`Multiple errors occurred while adding files:
`;if(p.forEach(E=>{_+=`
 * ${E.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:p.length}),details:_},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(p,_);{let E=new Error(_);throw E.errors=p,E}}}removeFiles(r,o){let{files:c,currentUploads:p}=this.getState(),_={...c},E={...p},R=Object.create(null);r.forEach(V=>{c[V]&&(R[V]=c[V],delete _[V])});function B(V){return R[V]===void 0}a(B,"fileIsNotRemoved"),Object.keys(E).forEach(V=>{let ie=p[V].fileIDs.filter(B);if(ie.length===0){delete E[V];return}let{capabilities:se}=this.getState();if(ie.length!==p[V].fileIDs.length&&!se.individualCancellation)throw new Error("individualCancellation is disabled");E[V]={...p[V],fileIDs:ie}});let q={currentUploads:E,files:_};Object.keys(_).length===0&&(q.allowNewUpload=!0,q.error=null,q.recoveredState=null),this.setState(q),this.calculateTotalProgress();let J=Object.keys(R);J.forEach(V=>{this.emit("file-removed",R[V],o)}),J.length>5?this.log(`Removed ${J.length} files`):this.log(`Removed files: ${J.join(", ")}`)}removeFile(r,o){o===void 0&&(o=null),this.removeFiles([r],o)}pauseResume(r){if(!this.getState().capabilities.resumableUploads||this.getFile(r).uploadComplete)return;let o=!this.getFile(r).isPaused;return this.setFileState(r,{isPaused:o}),this.emit("upload-pause",r,o),o}pauseAll(){let r={...this.getState().files};Object.keys(r).filter(o=>!r[o].progress.uploadComplete&&r[o].progress.uploadStarted).forEach(o=>{let c={...r[o],isPaused:!0};r[o]=c}),this.setState({files:r}),this.emit("pause-all")}resumeAll(){let r={...this.getState().files};Object.keys(r).filter(o=>!r[o].progress.uploadComplete&&r[o].progress.uploadStarted).forEach(o=>{let c={...r[o],isPaused:!1,error:null};r[o]=c}),this.setState({files:r}),this.emit("resume-all")}retryAll(){let r={...this.getState().files},o=Object.keys(r).filter(p=>r[p].error);if(o.forEach(p=>{let _={...r[p],isPaused:!1,error:null};r[p]=_}),this.setState({files:r,error:null}),this.emit("retry-all",o),o.length===0)return Promise.resolve({successful:[],failed:[]});let c=re(this,nt)[nt](o,{forceAllowNewUpload:!0});return re(this,hr)[hr](c)}cancelAll(r){let{reason:o="user"}=r===void 0?{}:r;if(this.emit("cancel-all",{reason:o}),o==="user"){let{files:c}=this.getState(),p=Object.keys(c);p.length&&this.removeFiles(p,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(r){this.setFileState(r,{error:null,isPaused:!1}),this.emit("upload-retry",r);let o=re(this,nt)[nt]([r],{forceAllowNewUpload:!0});return re(this,hr)[hr](o)}logout(){this.iteratePlugins(r=>{r.provider&&r.provider.logout&&r.provider.logout()})}calculateProgress(r,o){if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}let c=Number.isFinite(o.bytesTotal)&&o.bytesTotal>0;this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,bytesUploaded:o.bytesUploaded,bytesTotal:o.bytesTotal,percentage:c?Math.round(o.bytesUploaded/o.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){let r=this.getFiles().filter(B=>B.progress.uploadStarted||B.progress.preprocess||B.progress.postprocess);if(r.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}let o=r.filter(B=>B.progress.bytesTotal!=null),c=r.filter(B=>B.progress.bytesTotal==null);if(o.length===0){let B=r.length*100,q=c.reduce((V,ie)=>V+ie.progress.percentage,0),J=Math.round(q/B*100);this.setState({totalProgress:J});return}let p=o.reduce((B,q)=>B+q.progress.bytesTotal,0),_=p/o.length;p+=_*c.length;let E=0;o.forEach(B=>{E+=B.progress.bytesUploaded}),c.forEach(B=>{E+=_*(B.progress.percentage||0)/100});let R=p===0?0:Math.round(E/p*100);R>100&&(R=100),this.setState({totalProgress:R}),this.emit("progress",R)}updateOnlineStatus(){!(typeof window.navigator.onLine<"u")||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(r,o){if(typeof r!="function"){let E=`Expected a plugin class, but got ${r===null?"null":typeof r}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(E)}let c=new r(this,o),p=c.id;if(!p)throw new Error("Your plugin must have an id");if(!c.type)throw new Error("Your plugin must have a type");let _=this.getPlugin(p);if(_){let E=`Already found a plugin named '${_.id}'. Tried to use: '${p}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(E)}return r.VERSION&&this.log(`Using ${p} v${r.VERSION}`),c.type in re(this,Fe)[Fe]?re(this,Fe)[Fe][c.type].push(c):re(this,Fe)[Fe][c.type]=[c],c.install(),this}getPlugin(r){for(let o of Object.values(re(this,Fe)[Fe])){let c=o.find(p=>p.id===r);if(c!=null)return c}}[vt](r){return re(this,Fe)[Fe][r]}iteratePlugins(r){Object.values(re(this,Fe)[Fe]).flat(1).forEach(r)}removePlugin(r){this.log(`Removing plugin ${r.id}`),this.emit("plugin-remove",r),r.uninstall&&r.uninstall();let o=re(this,Fe)[Fe][r.type],c=o.findIndex(_=>_.id===r.id);c!==-1&&o.splice(c,1);let p={plugins:{...this.getState().plugins,[r.id]:void 0}};this.setState(p)}close(r){let{reason:o}=r===void 0?{}:r;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:o}),re(this,st)[st](),this.iteratePlugins(c=>{this.removePlugin(c)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",re(this,jt)[jt]),window.removeEventListener("offline",re(this,jt)[jt]))}hideInfo(){let{info:r}=this.getState();this.setState({info:r.slice(1)}),this.emit("info-hidden")}info(r,o,c){o===void 0&&(o="info"),c===void 0&&(c=3e3);let p=typeof r=="object";this.setState({info:[...this.getState().info,{type:o,message:p?r.message:r,details:p?r.details:null}]}),setTimeout(()=>this.hideInfo(),c),this.emit("info-visible")}log(r,o){let{logger:c}=this.opts;switch(o){case"error":c.error(r);break;case"warning":c.warn(r);break;default:c.debug(r);break}}restore(r){return this.log(`Core: attempting to restore upload "${r}"`),this.getState().currentUploads[r]?re(this,hr)[hr](r):(re(this,pi)[pi](r),Promise.reject(new Error("Nonexistent upload")))}[Ct](){return re(this,nt)[nt](...arguments)}addResultData(r,o){if(!re(this,Bt)[Bt](r)){this.log(`Not setting result for an upload that has been removed: ${r}`);return}let{currentUploads:c}=this.getState(),p={...c[r],result:{...c[r].result,...o}};this.setState({currentUploads:{...c,[r]:p}})}upload(){var r;(r=re(this,Fe)[Fe].uploader)!=null&&r.length||this.log("No uploader type plugins are used","warning");let{files:o}=this.getState(),c=this.opts.onBeforeUpload(o);return c===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(c&&typeof c=="object"&&(o=c,this.setState({files:o})),Promise.resolve().then(()=>re(this,De)[De].validateMinNumberOfFiles(o)).catch(p=>{throw re(this,te)[te](p),p}).then(()=>{if(!re(this,_e)[_e](o))throw new Te(this.i18n("missingRequiredMetaField"))}).catch(p=>{throw p}).then(()=>{let{currentUploads:p}=this.getState(),_=Object.values(p).flatMap(B=>B.fileIDs),E=[];Object.keys(o).forEach(B=>{let q=this.getFile(B);!q.progress.uploadStarted&&_.indexOf(B)===-1&&E.push(q.id)});let R=re(this,nt)[nt](E);return re(this,hr)[hr](R)}).catch(p=>{throw this.emit("error",p),this.log(p,"error"),p}))}};a(yr,"Uppy");function Kn(r,o){let{message:c,details:p=""}=r;r.isRestriction?this.emit("restriction-failed",o,r):this.emit("error",r),this.info({message:c,details:p},"error",this.opts.infoTimeout),this.log(`${c} ${p}`.trim(),"error")}a(Kn,"_informAndEmit2");function Nr(r){let{missingFields:o,error:c}=re(this,De)[De].getMissingRequiredMetaFields(r);return o.length>0?(this.setFileState(r.id,{missingRequiredMetaFields:o}),this.log(c.message),this.emit("restriction-failed",r,c),!1):!0}a(Nr,"_checkRequiredMetaFieldsOnFile2");function Bl(r){let o=!0;for(let c of Object.values(r))re(this,he)[he](c)||(o=!1);return o}a(Bl,"_checkRequiredMetaFields2");function to(r){let{allowNewUpload:o}=this.getState();if(o===!1){let c=new Te(this.i18n("noMoreFilesAllowed"));throw re(this,te)[te](c,r),c}}a(to,"_assertNewUploadAllowed2");function Nl(r,o){o instanceof File&&(o={name:o.name,type:o.type,size:o.size,data:o});let c=fi(o),p=Or(c,o),_=Re(p).extension,E=!!o.isRemote,R=Yi({...o,type:c});if(this.checkIfFileAlreadyExists(R)){let ie=new Te(this.i18n("noDuplicates",{fileName:p}));throw re(this,te)[te](ie,o),ie}let B=o.meta||{};B.name=p,B.type=c;let q=Number.isFinite(o.data.size)?o.data.size:null,J={source:o.source||"",id:R,name:p,extension:_||"",meta:{...this.getState().meta,...B},type:c,data:o.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:q,uploadComplete:!1,uploadStarted:null},size:q,isRemote:E,remote:o.remote||"",preview:o.preview},V=this.opts.onBeforeFileAdded(J,r);if(V===!1){let ie=new Te("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",o,ie),ie}else typeof V=="object"&&V!==null&&(J=V);try{let ie=Object.keys(r).map(se=>r[se]);re(this,De)[De].validate(J,ie)}catch(ie){throw re(this,te)[te](ie,J),ie}return J}a(Nl,"_checkAndCreateFileStateObject2");function zl(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(r=>{r.isRestriction||this.log(r.stack||r.message||r)})},4))}a(zl,"_startIfAutoProceed2");function xh(){let r=a((o,c,p)=>{let _=o.message||"Unknown error";o.details&&(_+=` ${o.details}`),this.setState({error:_}),c!=null&&c.id in this.getState().files&&this.setFileState(c.id,{error:_,response:p})},"errorHandler");this.on("error",r),this.on("upload-error",(o,c,p)=>{if(r(c,o,p),typeof c=="object"&&c.message){let _=new Error(c.message);_.details=c.message,c.details&&(_.details+=` ${c.details}`),_.message=this.i18n("failedToUpload",{file:o==null?void 0:o.name}),re(this,te)[te](_)}else re(this,te)[te](c)}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",o=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}this.setFileState(o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:o.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(o,c)=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}let p=this.getFile(o.id).progress;this.setFileState(o.id,{progress:{...p,postprocess:re(this,ee)[ee].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:p.bytesTotal},response:c,uploadURL:c.uploadURL,isPaused:!1}),o.size==null&&this.setFileState(o.id,{size:c.bytesUploaded||p.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(o,c)=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}this.setFileState(o.id,{progress:{...this.getFile(o.id).progress,preprocess:c}})}),this.on("preprocess-complete",o=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}let c={...this.getState().files};c[o.id]={...c[o.id],progress:{...c[o.id].progress}},delete c[o.id].progress.preprocess,this.setState({files:c})}),this.on("postprocess-progress",(o,c)=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}this.setFileState(o.id,{progress:{...this.getState().files[o.id].progress,postprocess:c}})}),this.on("postprocess-complete",o=>{if(o==null||!this.getFile(o.id)){this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`);return}let c={...this.getState().files};c[o.id]={...c[o.id],progress:{...c[o.id].progress}},delete c[o.id].progress.postprocess,this.setState({files:c})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",o=>{o&&re(this,he)[he](o)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",re(this,jt)[jt]),window.addEventListener("offline",re(this,jt)[jt]),setTimeout(re(this,jt)[jt],3e3))}a(xh,"_addListeners2");function Mt(r,o){o===void 0&&(o={});let{forceAllowNewUpload:c=!1}=o,{allowNewUpload:p,currentUploads:_}=this.getState();if(!p&&!c)throw new Error("Cannot create a new upload: already uploading.");let E=be();return this.emit("upload",{id:E,fileIDs:r}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{..._,[E]:{fileIDs:r,step:0,result:{}}}}),E}a(Mt,"_createUpload2");function fe(r){let{currentUploads:o}=this.getState();return o[r]}a(fe,"_getUpload2");function Ke(r){let o={...this.getState().currentUploads};delete o[r],this.setState({currentUploads:o})}a(Ke,"_removeUpload2");async function kt(r){let{currentUploads:o}=this.getState(),c=o[r],p=c.step||0,_=[...re(this,ii)[ii],...re(this,oi)[oi],...re(this,ee)[ee]];try{for(let R=p;R<_.length&&c;R++){let B=_[R],q={...c,step:R};this.setState({currentUploads:{...o,[r]:q}}),await B(q.fileIDs,r),o=this.getState().currentUploads,c=o[r]}}catch(R){throw re(this,pi)[pi](r),R}if(c){c.fileIDs.forEach(J=>{let V=this.getFile(J);V&&V.progress.postprocess&&this.emit("postprocess-complete",V)});let R=c.fileIDs.map(J=>this.getFile(J)),B=R.filter(J=>!J.error),q=R.filter(J=>J.error);await this.addResultData(r,{successful:B,failed:q,uploadID:r}),o=this.getState().currentUploads,c=o[r]}let E;return c&&(E=c.result,this.emit("complete",E),re(this,pi)[pi](r)),E==null&&this.log(`Not setting result for an upload that has been removed: ${r}`),E}a(kt,"_runUpload2"),yr.VERSION=Ee.version;var Gi=yr,mr,Rt,Jr,ps,tl,Mr={},od=[],wm=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ka(r,o){for(var c in o)r[c]=o[c];return r}a(ka,"s");function Hb(r){var o=r.parentNode;o&&o.removeChild(r)}a(Hb,"a");function U(r,o,c){var p,_,E,R={};for(E in o)E=="key"?p=o[E]:E=="ref"?_=o[E]:R[E]=o[E];if(arguments.length>2&&(R.children=arguments.length>3?mr.call(arguments,2):c),typeof r=="function"&&r.defaultProps!=null)for(E in r.defaultProps)R[E]===void 0&&(R[E]=r.defaultProps[E]);return kh(r,R,p,_,null)}a(U,"h");function kh(r,o,c,p,_){var E={type:r,props:o,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_??++Jr};return _==null&&Rt.vnode!=null&&Rt.vnode(E),E}a(kh,"v");function i2(){return{current:null}}a(i2,"y");function il(r){return r.children}a(il,"p");function zr(r,o){this.props=r,this.context=o}a(zr,"d");function Ul(r,o){if(o==null)return r.__?Ul(r.__,r.__.__k.indexOf(r)+1):null;for(var c;o<r.__k.length;o++)if((c=r.__k[o])!=null&&c.__e!=null)return c.__e;return typeof r.type=="function"?Ul(r):null}a(Ul,"_");function Wb(r){var o,c;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,o=0;o<r.__k.length;o++)if((c=r.__k[o])!=null&&c.__e!=null){r.__e=r.__c.base=c.__e;break}return Wb(r)}}a(Wb,"k");function jb(r){(!r.__d&&(r.__d=!0)&&ps.push(r)&&!ld.__r++||tl!==Rt.debounceRendering)&&((tl=Rt.debounceRendering)||setTimeout)(ld)}a(jb,"b");function ld(){for(var r;ld.__r=ps.length;)r=ps.sort(function(o,c){return o.__v.__b-c.__v.__b}),ps=[],r.some(function(o){var c,p,_,E,R,B;o.__d&&(R=(E=(c=o).__v).__e,(B=c.__P)&&(p=[],(_=ka({},E)).__v=E.__v+1,xm(B,E,_,c.__n,B.ownerSVGElement!==void 0,E.__h!=null?[R]:null,p,R??Ul(E),E.__h),Kb(p,E),E.__e!=R&&Wb(E)))})}a(ld,"g");function qb(r,o,c,p,_,E,R,B,q,J){var V,ie,se,de,we,at,Ge,mt=p&&p.__k||od,qt=mt.length;for(c.__k=[],V=0;V<o.length;V++)if((de=c.__k[V]=(de=o[V])==null||typeof de=="boolean"?null:typeof de=="string"||typeof de=="number"||typeof de=="bigint"?kh(null,de,null,null,de):Array.isArray(de)?kh(il,{children:de},null,null,null):de.__b>0?kh(de.type,de.props,de.key,null,de.__v):de)!=null){if(de.__=c,de.__b=c.__b+1,(se=mt[V])===null||se&&de.key==se.key&&de.type===se.type)mt[V]=void 0;else for(ie=0;ie<qt;ie++){if((se=mt[ie])&&de.key==se.key&&de.type===se.type){mt[ie]=void 0;break}se=null}xm(r,de,se=se||Mr,_,E,R,B,q,J),we=de.__e,(ie=de.ref)&&se.ref!=ie&&(Ge||(Ge=[]),se.ref&&Ge.push(se.ref,null,de),Ge.push(ie,de.__c||we,de)),we!=null?(at==null&&(at=we),typeof de.type=="function"&&de.__k===se.__k?de.__d=q=$b(de,q,r):q=Vb(r,de,se,mt,we,q),typeof c.type=="function"&&(c.__d=q)):q&&se.__e==q&&q.parentNode!=r&&(q=Ul(se))}for(c.__e=at,V=qt;V--;)mt[V]!=null&&(typeof c.type=="function"&&mt[V].__e!=null&&mt[V].__e==c.__d&&(c.__d=Ul(p,V+1)),Qb(mt[V],mt[V]));if(Ge)for(V=0;V<Ge.length;V++)Zb(Ge[V],Ge[++V],Ge[++V])}a(qb,"w");function $b(r,o,c){for(var p,_=r.__k,E=0;_&&E<_.length;E++)(p=_[E])&&(p.__=r,o=typeof p.type=="function"?$b(p,o,c):Vb(c,p,p,_,p.__e,o));return o}a($b,"m");function Sa(r,o){return o=o||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(c){Sa(c,o)}):o.push(r)),o}a(Sa,"x");function Vb(r,o,c,p,_,E){var R,B,q;if(o.__d!==void 0)R=o.__d,o.__d=void 0;else if(c==null||_!=E||_.parentNode==null)e:if(E==null||E.parentNode!==r)r.appendChild(_),R=null;else{for(B=E,q=0;(B=B.nextSibling)&&q<p.length;q+=2)if(B==_)break e;r.insertBefore(_,E),R=E}return R!==void 0?R:_.nextSibling}a(Vb,"A");function r2(r,o,c,p,_){var E;for(E in c)E==="children"||E==="key"||E in o||cd(r,E,null,c[E],p);for(E in o)_&&typeof o[E]!="function"||E==="children"||E==="key"||E==="value"||E==="checked"||c[E]===o[E]||cd(r,E,o[E],c[E],p)}a(r2,"C");function Yb(r,o,c){o[0]==="-"?r.setProperty(o,c):r[o]=c==null?"":typeof c!="number"||wm.test(o)?c:c+"px"}a(Yb,"$");function cd(r,o,c,p,_){var E;e:if(o==="style")if(typeof c=="string")r.style.cssText=c;else{if(typeof p=="string"&&(r.style.cssText=p=""),p)for(o in p)c&&o in c||Yb(r.style,o,"");if(c)for(o in c)p&&c[o]===p[o]||Yb(r.style,o,c[o])}else if(o[0]==="o"&&o[1]==="n")E=o!==(o=o.replace(/Capture$/,"")),o=o.toLowerCase()in r?o.toLowerCase().slice(2):o.slice(2),r.l||(r.l={}),r.l[o+E]=c,c?p||r.addEventListener(o,E?Xb:Gb,E):r.removeEventListener(o,E?Xb:Gb,E);else if(o!=="dangerouslySetInnerHTML"){if(_)o=o.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(o!=="href"&&o!=="list"&&o!=="form"&&o!=="tabIndex"&&o!=="download"&&o in r)try{r[o]=c??"";break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||o[0]==="a"&&o[1]==="r")?r.setAttribute(o,c):r.removeAttribute(o))}}a(cd,"H");function Gb(r){this.l[r.type+!1](Rt.event?Rt.event(r):r)}a(Gb,"I");function Xb(r){this.l[r.type+!0](Rt.event?Rt.event(r):r)}a(Xb,"T");function xm(r,o,c,p,_,E,R,B,q){var J,V,ie,se,de,we,at,Ge,mt,qt,xt,ze,We,He=o.type;if(o.constructor!==void 0)return null;c.__h!=null&&(q=c.__h,B=o.__e=c.__e,o.__h=null,E=[B]),(J=Rt.__b)&&J(o);try{e:if(typeof He=="function"){if(Ge=o.props,mt=(J=He.contextType)&&p[J.__c],qt=J?mt?mt.props.value:J.__:p,c.__c?at=(V=o.__c=c.__c).__=V.__E:("prototype"in He&&He.prototype.render?o.__c=V=new He(Ge,qt):(o.__c=V=new zr(Ge,qt),V.constructor=He,V.render=n2),mt&&mt.sub(V),V.props=Ge,V.state||(V.state={}),V.context=qt,V.__n=p,ie=V.__d=!0,V.__h=[]),V.__s==null&&(V.__s=V.state),He.getDerivedStateFromProps!=null&&(V.__s==V.state&&(V.__s=ka({},V.__s)),ka(V.__s,He.getDerivedStateFromProps(Ge,V.__s))),se=V.props,de=V.state,ie)He.getDerivedStateFromProps==null&&V.componentWillMount!=null&&V.componentWillMount(),V.componentDidMount!=null&&V.__h.push(V.componentDidMount);else{if(He.getDerivedStateFromProps==null&&Ge!==se&&V.componentWillReceiveProps!=null&&V.componentWillReceiveProps(Ge,qt),!V.__e&&V.shouldComponentUpdate!=null&&V.shouldComponentUpdate(Ge,V.__s,qt)===!1||o.__v===c.__v){V.props=Ge,V.state=V.__s,o.__v!==c.__v&&(V.__d=!1),V.__v=o,o.__e=c.__e,o.__k=c.__k,o.__k.forEach(function(ve){ve&&(ve.__=o)}),V.__h.length&&R.push(V);break e}V.componentWillUpdate!=null&&V.componentWillUpdate(Ge,V.__s,qt),V.componentDidUpdate!=null&&V.__h.push(function(){V.componentDidUpdate(se,de,we)})}if(V.context=qt,V.props=Ge,V.__v=o,V.__P=r,xt=Rt.__r,ze=0,"prototype"in He&&He.prototype.render)V.state=V.__s,V.__d=!1,xt&&xt(o),J=V.render(V.props,V.state,V.context);else do V.__d=!1,xt&&xt(o),J=V.render(V.props,V.state,V.context),V.state=V.__s;while(V.__d&&++ze<25);V.state=V.__s,V.getChildContext!=null&&(p=ka(ka({},p),V.getChildContext())),ie||V.getSnapshotBeforeUpdate==null||(we=V.getSnapshotBeforeUpdate(se,de)),We=J!=null&&J.type===il&&J.key==null?J.props.children:J,qb(r,Array.isArray(We)?We:[We],o,c,p,_,E,R,B,q),V.base=o.__e,o.__h=null,V.__h.length&&R.push(V),at&&(V.__E=V.__=null),V.__e=!1}else E==null&&o.__v===c.__v?(o.__k=c.__k,o.__e=c.__e):o.__e=s2(c.__e,o,c,p,_,E,R,q);(J=Rt.diffed)&&J(o)}catch(ve){o.__v=null,(q||E!=null)&&(o.__e=B,o.__h=!!q,E[E.indexOf(B)]=null),Rt.__e(ve,o,c)}}a(xm,"j");function Kb(r,o){Rt.__c&&Rt.__c(o,r),r.some(function(c){try{r=c.__h,c.__h=[],r.some(function(p){p.call(c)})}catch(p){Rt.__e(p,c.__v)}})}a(Kb,"z");function s2(r,o,c,p,_,E,R,B){var q,J,V,ie=c.props,se=o.props,de=o.type,we=0;if(de==="svg"&&(_=!0),E!=null){for(;we<E.length;we++)if((q=E[we])&&"setAttribute"in q==!!de&&(de?q.localName===de:q.nodeType===3)){r=q,E[we]=null;break}}if(r==null){if(de===null)return document.createTextNode(se);r=_?document.createElementNS("http://www.w3.org/2000/svg",de):document.createElement(de,se.is&&se),E=null,B=!1}if(de===null)ie===se||B&&r.data===se||(r.data=se);else{if(E=E&&mr.call(r.childNodes),J=(ie=c.props||Mr).dangerouslySetInnerHTML,V=se.dangerouslySetInnerHTML,!B){if(E!=null)for(ie={},we=0;we<r.attributes.length;we++)ie[r.attributes[we].name]=r.attributes[we].value;(V||J)&&(V&&(J&&V.__html==J.__html||V.__html===r.innerHTML)||(r.innerHTML=V&&V.__html||""))}if(r2(r,se,ie,_,B),V)o.__k=[];else if(we=o.props.children,qb(r,Array.isArray(we)?we:[we],o,c,p,_&&de!=="foreignObject",E,R,E?E[0]:c.__k&&Ul(c,0),B),E!=null)for(we=E.length;we--;)E[we]!=null&&Hb(E[we]);B||("value"in se&&(we=se.value)!==void 0&&(we!==r.value||de==="progress"&&!we||de==="option"&&we!==ie.value)&&cd(r,"value",we,ie.value,!1),"checked"in se&&(we=se.checked)!==void 0&&we!==r.checked&&cd(r,"checked",we,ie.checked,!1))}return r}a(s2,"L");function Zb(r,o,c){try{typeof r=="function"?r(o):r.current=o}catch(p){Rt.__e(p,c)}}a(Zb,"M");function Qb(r,o,c){var p,_;if(Rt.unmount&&Rt.unmount(r),(p=r.ref)&&(p.current&&p.current!==r.__e||Zb(p,null,o)),(p=r.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(E){Rt.__e(E,o)}p.base=p.__P=null}if(p=r.__k)for(_=0;_<p.length;_++)p[_]&&Qb(p[_],o,typeof r.type!="function");c||r.__e==null||Hb(r.__e),r.__e=r.__d=void 0}a(Qb,"N");function n2(r,o,c){return this.constructor(r,c)}a(n2,"O");function Jb(r,o,c){var p,_,E;Rt.__&&Rt.__(r,o),_=(p=typeof c=="function")?null:c&&c.__k||o.__k,E=[],xm(o,r=(!p&&c||o).__k=U(il,null,[r]),_||Mr,Mr,o.ownerSVGElement!==void 0,!p&&c?[c]:_?null:o.firstChild?mr.call(o.childNodes):null,E,!p&&c?c:_?_.__e:o.firstChild,p),Kb(E,r)}a(Jb,"P");function e0(r,o,c){var p,_,E,R=ka({},r.props);for(E in o)E=="key"?p=o[E]:E=="ref"?_=o[E]:R[E]=o[E];return arguments.length>2&&(R.children=arguments.length>3?mr.call(arguments,2):c),kh(r.type,R,p||r.key,_||r.ref,null)}a(e0,"q"),mr=od.slice,Rt={__e:function(r,o,c,p){for(var _,E,R;o=o.__;)if((_=o.__c)&&!_.__)try{if((E=_.constructor)&&E.getDerivedStateFromError!=null&&(_.setState(E.getDerivedStateFromError(r)),R=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(r,p||{}),R=_.__d),R)return _.__E=_}catch(B){r=B}throw r}},Jr=0,a(function(r){return r!=null&&r.constructor===void 0},"i"),zr.prototype.setState=function(r,o){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ka({},this.state),typeof r=="function"&&(r=r(ka({},c),this.props)),r&&ka(c,r),r!=null&&this.__v&&(o&&this.__h.push(o),jb(this))},zr.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),jb(this))},zr.prototype.render=il,ps=[],ld.__r=0;function t0(r){return(r==null?void 0:r.nodeType)===Node.ELEMENT_NODE}a(t0,"isDOMElement");function i0(r,o){return o===void 0&&(o=document),typeof r=="string"?o.querySelector(r):t0(r)?r:null}a(i0,"findDOMElement");function a2(r){for(var o;r&&!r.dir;)r=r.parentNode;return(o=r)==null?void 0:o.dir}a(a2,"getTextDirection");var o2=a2,On=class{constructor(r,o){o===void 0&&(o={}),this.uppy=r,this.opts=o}getPluginState(){let{plugins:r}=this.uppy.getState();return r[this.id]||{}}setPluginState(r){let{plugins:o}=this.uppy.getState();this.uppy.setState({plugins:{...o,[this.id]:{...o[this.id],...r}}})}setOptions(r){this.opts={...this.opts,...r},this.setPluginState(),this.i18nInit()}i18nInit(){let r=new ae([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};a(On,"BasePlugin");function r0(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(r0,"_classPrivateFieldLooseBase");var rz=0;function l2(r){return"__private_"+rz+++"_"+r}a(l2,"_classPrivateFieldLooseKey");function c2(r){let o=null,c=null;return function(){for(var p=arguments.length,_=new Array(p),E=0;E<p;E++)_[E]=arguments[E];return c=_,o||(o=Promise.resolve().then(()=>(o=null,r(...c)))),o}}a(c2,"debounce");var hd=l2("updateUI"),s0=class extends On{constructor(){super(...arguments),Object.defineProperty(this,hd,{writable:!0,value:void 0})}getTargetPlugin(r){let o;if(typeof r=="object"&&r instanceof s0)o=r;else if(typeof r=="function"){let c=r;this.uppy.iteratePlugins(p=>{p instanceof c&&(o=p)})}return o}mount(r,o){let c=o.id,p=i0(r);if(p){this.isTargetDOMEl=!0;let R=document.createElement("div");return R.classList.add("uppy-Root"),r0(this,hd)[hd]=c2(B=>{!this.uppy.getPlugin(this.id)||(Jb(this.render(B),R),this.afterUpdate())}),this.uppy.log(`Installing ${c} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(p.innerHTML=""),Jb(this.render(this.uppy.getState()),R),this.el=R,p.appendChild(R),R.dir=this.opts.direction||o2(R)||"ltr",this.onMount(),this.el}let _=this.getTargetPlugin(r);if(_)return this.uppy.log(`Installing ${c} to ${_.id}`),this.parent=_,this.el=_.addTarget(o),this.onMount(),this.el;this.uppy.log(`Not installing ${c}`);let E=`Invalid target option given to ${c}.`;throw typeof r=="function"?E+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":E+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(E)}update(r){if(this.el!=null){var o,c;(o=(c=r0(this,hd))[hd])==null||o.call(c,r)}}unmount(){if(this.isTargetDOMEl){var r;(r=this.el)==null||r.remove()}this.onUnmount()}onMount(){}onUnmount(){}};a(s0,"UIPlugin");var vr=s0,h2={};d(h2,{Provider:()=>br,RequestClient:()=>cn,SearchProvider:()=>n0,Socket:()=>Eh});var u2=class extends Error{constructor(r,o){o===void 0&&(o=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=r,this.isNetworkError=!0,this.request=o}};a(u2,"NetworkError");var Sh=u2;function km(){return fetch(...arguments).catch(r=>{throw r.name==="AbortError"?r:new Sh(r)})}a(km,"fetchWithNetworkError");var d2=class extends Error{constructor(r,o){o===void 0&&(o={}),super(r),this.cause=o.cause,this.cause&&w(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}};a(d2,"ErrorWithCause");var Th=d2,f2=class extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}};a(f2,"AuthError");var sz=f2,p2;function Zn(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Zn,"_classPrivateFieldLooseBase");var nz=0;function Sm(r){return"__private_"+nz+++"_"+r}a(Sm,"_classPrivateFieldLooseKey");var az={version:"3.1.1"};function m2(r){return r.replace(/\/$/,"")}a(m2,"stripSlash");async function g2(r){if(r.status===401)throw new sz;let o=r.json();if(r.ok)return o;let c=`Failed request with status: ${r.status}. ${r.statusText}`;try{let p=await o;c=p.message?`${c} message: ${p.message}`:c,c=p.requestId?`${c} request-Id: ${p.requestId}`:c}catch{}throw new Error(c)}a(g2,"handleJSONResponse");var ud=new Map,io=Sm("companionHeaders"),Hl=Sm("getUrl"),Wl=Sm("request");p2=Symbol.for("uppy test: getCompanionHeaders");var cn=class{constructor(r,o){Object.defineProperty(this,Wl,{value:v2}),Object.defineProperty(this,Hl,{value:y2}),Object.defineProperty(this,io,{writable:!0,value:void 0}),this.uppy=r,this.opts=o,this.onReceiveResponse=this.onReceiveResponse.bind(this),Zn(this,io)[io]=o==null?void 0:o.companionHeaders}setCompanionHeaders(r){Zn(this,io)[io]=r}[p2](){return Zn(this,io)[io]}get hostname(){let{companion:r}=this.uppy.getState(),o=this.opts.companionUrl;return m2(r&&r[o]?r[o]:o)}async headers(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${cn.VERSION}`,...Zn(this,io)[io]}}onReceiveResponse(r){let{headers:o}=r,c=this.uppy.getState().companion||{},p=this.opts.companionUrl;o.has("i-am")&&o.get("i-am")!==c[p]&&this.uppy.setState({companion:{...c,[p]:o.get("i-am")}})}async preflight(r){let o=ud.get(this.hostname);if(o!=null)return o;let c=["accept","content-type","uppy-auth-token"],p=(async()=>{try{let _=(await fetch(Zn(this,Hl)[Hl](r),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(_==null||_==="*")return ud.set(this.hostname,c),c;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${_}`);let E=_.split(",").map(R=>R.trim().toLowerCase());return ud.set(this.hostname,E),E}catch(_){return this.uppy.log(`[CompanionClient] unable to make preflight request ${_}`,"warning"),ud.delete(this.hostname),c}})();return ud.set(this.hostname,p),p}async preflightAndHeaders(r){let[o,c]=await Promise.all([this.preflight(r),this.headers()]);return Object.fromEntries(Object.entries(c).filter(p=>{let[_]=p;return o.includes(_.toLowerCase())?!0:(this.uppy.log(`[CompanionClient] excluding disallowed header ${_}`),!1)}))}async get(r,o){return o===void 0&&(o=void 0),typeof o=="boolean"&&(o={skipPostResponse:o}),Zn(this,Wl)[Wl]({...o,path:r})}async post(r,o,c){return c===void 0&&(c=void 0),typeof c=="boolean"&&(c={skipPostResponse:c}),Zn(this,Wl)[Wl]({...c,path:r,method:"POST",data:o})}async delete(r,o,c){return o===void 0&&(o=void 0),typeof c=="boolean"&&(c={skipPostResponse:c}),Zn(this,Wl)[Wl]({...c,path:r,method:"DELETE",data:o})}};a(cn,"RequestClient");function y2(r){return/^(https?:|)\/\//.test(r)?r:`${this.hostname}/${r}`}a(y2,"_getUrl2");async function v2(r){let{path:o,method:c="GET",data:p,skipPostResponse:_,signal:E}=r;try{let R=await this.preflightAndHeaders(o),B=await km(Zn(this,Hl)[Hl](o),{method:c,signal:E,headers:R,credentials:this.opts.companionCookiesRule||"same-origin",body:p?JSON.stringify(p):null});return _||this.onReceiveResponse(B),g2(B)}catch(R){throw R!=null&&R.isAuthError?R:new Th(`Could not ${c} ${Zn(this,Hl)[Hl](o)}`,{cause:R})}}a(v2,"_request2"),cn.VERSION=az.version;var b2={};d(b2,{getItem:()=>w2,removeItem:()=>x2,setItem:()=>_2});function _2(r,o){return new Promise(c=>{localStorage.setItem(r,o),c()})}a(_2,"setItem");function w2(r){return Promise.resolve(localStorage.getItem(r))}a(w2,"getItem");function x2(r){return new Promise(o=>{localStorage.removeItem(r),o()})}a(x2,"removeItem");var oz=a(r=>r.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),"getName"),br=class extends cn{constructor(r,o){super(r,o),this.provider=o.provider,this.id=this.provider,this.name=this.opts.name||oz(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){let[r,o]=await Promise.all([super.headers(),this.getAuthToken()]),c={};return o&&(c["uppy-auth-token"]=o),this.companionKeysParams&&(c["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...r,...c}}onReceiveResponse(r){super.onReceiveResponse(r);let o=this.uppy.getPlugin(this.pluginId),c=o.getPluginState().authenticated?r.status!==401:r.status<400;return o.setPluginState({authenticated:c}),r}setAuthToken(r){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,r)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(r){r===void 0&&(r={});let o=new URLSearchParams(r);return this.preAuthToken&&o.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${o}`}fileUrl(r){return`${this.hostname}/${this.id}/get/${r}`}async fetchPreAuthToken(){if(this.companionKeysParams)try{let r=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=r.token}catch(r){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${r}`,"warning")}}list(r){return this.get(`${this.id}/list/${r||""}`)}logout(){return this.get(`${this.id}/logout`).then(r=>Promise.all([r,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(r=>{let[o]=r;return o})}static initPlugin(r,o,c){if(r.type="acquirer",r.files=[],c&&(r.opts={...c,...o}),o.serverUrl||o.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(o.companionAllowedHosts){let p=o.companionAllowedHosts;if(typeof p!="string"&&!Array.isArray(p)&&!(p instanceof RegExp))throw new TypeError(`${r.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);r.opts.companionAllowedHosts=p}else/^(?!https?:\/\/).*$/i.test(o.companionUrl)?r.opts.companionAllowedHosts=`https://${o.companionUrl.replace(/^\/\//,"")}`:r.opts.companionAllowedHosts=new URL(o.companionUrl).origin;r.storage=r.opts.storage||b2}};a(br,"Provider");var lz=a(r=>r.split("-").map(o=>o.charAt(0).toUpperCase()+o.slice(1)).join(" "),"getName"),n0=class extends cn{constructor(r,o){super(r,o),this.provider=o.provider,this.id=this.provider,this.name=this.opts.name||lz(this.id),this.pluginId=this.opts.pluginId}fileUrl(r){return`${this.hostname}/search/${this.id}/get/${r}`}search(r,o){return this.get(`search/${this.id}/list?q=${encodeURIComponent(r)}${o?`&${o}`:""}`)}};a(n0,"SearchProvider");var cz=g(v(),1),k2,S2;function _r(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(_r,"_classPrivateFieldLooseBase");var hz=0;function Ch(r){return"__private_"+hz+++"_"+r}a(Ch,"_classPrivateFieldLooseKey");var ro=Ch("queued"),jl=Ch("emitter"),Qn=Ch("isOpen"),As=Ch("socket"),a0=Ch("handleMessage");k2=Symbol.for("uppy test: getSocket"),S2=Symbol.for("uppy test: getQueued");var Eh=class{constructor(r){Object.defineProperty(this,ro,{writable:!0,value:[]}),Object.defineProperty(this,jl,{writable:!0,value:(0,cz.default)()}),Object.defineProperty(this,Qn,{writable:!0,value:!1}),Object.defineProperty(this,As,{writable:!0,value:void 0}),Object.defineProperty(this,a0,{writable:!0,value:o=>{try{let c=JSON.parse(o.data);this.emit(c.action,c.payload)}catch(c){console.log(c)}}}),this.opts=r,(!r||r.autoOpen!==!1)&&this.open()}get isOpen(){return _r(this,Qn)[Qn]}[k2](){return _r(this,As)[As]}[S2](){return _r(this,ro)[ro]}open(){_r(this,As)[As]=new WebSocket(this.opts.target),_r(this,As)[As].onopen=()=>{for(_r(this,Qn)[Qn]=!0;_r(this,ro)[ro].length>0&&_r(this,Qn)[Qn];){let r=_r(this,ro)[ro].shift();this.send(r.action,r.payload)}},_r(this,As)[As].onclose=()=>{_r(this,Qn)[Qn]=!1},_r(this,As)[As].onmessage=_r(this,a0)[a0]}close(){var r;(r=_r(this,As)[As])==null||r.close()}send(r,o){if(!_r(this,Qn)[Qn]){_r(this,ro)[ro].push({action:r,payload:o});return}_r(this,As)[As].send(JSON.stringify({action:r,payload:o}))}on(r,o){_r(this,jl)[jl].on(r,o)}emit(r,o){_r(this,jl)[jl].emit(r,o)}once(r,o){_r(this,jl)[jl].once(r,o)}};a(Eh,"UppySocket");var T2={};d(T2,{ProviderViews:()=>Jn,SearchProviderViews:()=>Cm});function C2(){return U("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},U("g",{fill:"none","fill-rule":"evenodd"},U("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),U("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),U("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),U("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),U("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),U("path",{d:"M4 4h18v18H4z"})))}a(C2,"GoogleIcon");function E2(r){let{pluginName:o,pluginIcon:c,i18nArray:p,handleAuth:_}=r,E=o==="Google Drive",R=U("span",{className:"uppy-Provider-authTitleName"},o,U("br",null));return U("div",{className:"uppy-Provider-auth"},U("div",{className:"uppy-Provider-authIcon"},c()),U("div",{className:"uppy-Provider-authTitle"},p("authenticateWithTitle",{pluginName:R})),E?U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:_,"data-uppy-super-focusable":!0},U(C2,null),p("signInWithGoogle")):U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:_,"data-uppy-super-focusable":!0},p("authenticateWith",{pluginName:o})))}a(E2,"AuthView");var uz=E2,dz=a(r=>{let{i18n:o,logout:c,username:p}=r;return[U("span",{className:"uppy-ProviderBrowser-user",key:"username"},p),U("button",{type:"button",onClick:c,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},o("logOut"))]},"default"),fz=a(r=>{let{getFolder:o,title:c,isLast:p}=r;return U(il,null,U("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:o},c),p?"":" / ")},"Breadcrumb"),pz=a(r=>{let{getFolder:o,title:c,breadcrumbsIcon:p,directories:_}=r;return U("div",{className:"uppy-Provider-breadcrumbs"},U("div",{className:"uppy-Provider-breadcrumbsIcon"},p),_.map((E,R)=>U(fz,{key:E.id,getFolder:()=>o(E.id),title:R===0?c:E.title,isLast:R+1===_.length})))},"default"),mz=a(r=>{let o=[];return r.showBreadcrumbs&&o.push(pz({getFolder:r.getFolder,directories:r.directories,breadcrumbsIcon:r.pluginIcon&&r.pluginIcon(),title:r.title})),o.push(dz({logout:r.logout,username:r.username,i18n:r.i18n})),o},"default"),O2=g(P(),1);function o0(r){return{...r,type:r.mimeType,extension:r.name?Re(r.name).extension:null}}a(o0,"remoteFileObjToLocal");var M2=class extends zr{constructor(r){super(r),this.preventEnterPress=this.preventEnterPress.bind(this)}preventEnterPress(r){r.keyCode===13&&(r.stopPropagation(),r.preventDefault())}render(){let{i18n:r,filterInput:o,filterQuery:c}=this.props;return U("div",{className:"uppy-ProviderBrowser-filter"},U("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:r("filter"),"aria-label":r("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:p=>c(p),value:o}),U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},U("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),o&&U("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":r("resetFilter"),title:r("resetFilter"),onClick:c},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},U("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}};a(M2,"Filter");var gz=a(r=>{let{cancel:o,done:c,i18n:p,selected:_}=r;return U("div",{className:"uppy-ProviderBrowser-footer"},U("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:c,type:"button"},p("selectX",{smart_count:_})),U("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:o,type:"button"},p("cancel")))},"default"),yz=g(P(),1);function A2(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},U("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}a(A2,"FileIcon");function P2(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},U("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}a(P2,"FolderIcon");function D2(){return U("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},U("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),U("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}a(D2,"VideoIcon");var vz=a(r=>{let{itemIconString:o}=r;if(o!==null)switch(o){case"file":return U(A2,null);case"folder":return U(P2,null);case"video":return U(D2,null);default:{let{alt:c}=r;return U("img",{src:o,alt:c})}}},"default");function L2(r){let{className:o,isDisabled:c,restrictionError:p,isChecked:_,title:E,itemIconEl:R,showTitles:B,toggleCheckbox:q,recordShiftKeyPress:J,id:V,children:ie}=r;return U("li",{className:o,title:c?p==null?void 0:p.message:null},U("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${_?"uppy-ProviderBrowserItem-checkbox--is-checked":""} uppy-ProviderBrowserItem-checkbox--grid`,onChange:q,onKeyDown:J,name:"listitem",id:V,checked:_,disabled:c,"data-uppy-super-focusable":!0}),U("label",{htmlFor:V,"aria-label":E,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},U("span",{className:"uppy-ProviderBrowserItem-inner-relative"},R,B&&E,ie)))}a(L2,"GridListItem");var R2=L2;function F2(r){let{className:o,isDisabled:c,restrictionError:p,isCheckboxDisabled:_,isChecked:E,toggleCheckbox:R,recordShiftKeyPress:B,type:q,id:J,itemIconEl:V,title:ie,handleFolderClick:se,showTitles:de,i18n:we}=r;return U("li",{className:o,title:c?p==null?void 0:p.message:null},_?null:U("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${E?"uppy-ProviderBrowserItem-checkbox--is-checked":""}`,onChange:R,onKeyDown:B,name:"listitem",id:J,checked:E,"aria-label":q==="file"?null:we("allFilesFromFolderNamed",{name:ie}),disabled:c,"data-uppy-super-focusable":!0}),q==="file"?U("label",{htmlFor:J,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},U("div",{className:"uppy-ProviderBrowserItem-iconWrap"},V),de&&ie):U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:se,"aria-label":we("openFolderNamed",{name:ie})},U("div",{className:"uppy-ProviderBrowserItem-iconWrap"},V),de&&U("span",null,ie)))}a(F2,"ListItem");var bz=F2;function Oh(){return Oh=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Oh.apply(this,arguments)}a(Oh,"_extends");var I2=a(r=>{let{author:o,getItemIcon:c,isChecked:p,isDisabled:_,viewType:E}=r,R=c(),B=(0,yz.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":p},{"uppy-ProviderBrowserItem--disabled":_},{"uppy-ProviderBrowserItem--noPreview":R==="video"}),q=U(vz,{itemIconString:R});switch(E){case"grid":return U(R2,Oh({},r,{className:B,itemIconEl:q}));case"list":return U(bz,Oh({},r,{className:B,itemIconEl:q}));case"unsplash":return U(R2,Oh({},r,{className:B,itemIconEl:q}),U("a",{href:`${o.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},o.name));default:throw new Error(`There is no such type ${E}`)}},"default"),_z="shared-with-me";function B2(r){let{currentSelection:o,folders:c,files:p,uppyFiles:_,viewType:E,headerComponent:R,showBreadcrumbs:B,isChecked:q,toggleCheckbox:J,recordShiftKeyPress:V,handleScroll:ie,showTitles:se,i18n:de,validateRestrictions:we,showFilter:at,filterQuery:Ge,filterInput:mt,getNextFolder:qt,cancel:xt,done:ze,columns:We}=r,He=o.length;return U("div",{className:(0,O2.default)("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${E}`)},U("div",{className:"uppy-ProviderBrowser-header"},U("div",{className:(0,O2.default)("uppy-ProviderBrowser-headerBar",!B&&"uppy-ProviderBrowser-headerBar--simple")},R)),at&&U(M2,{i18n:de,filterQuery:Ge,filterInput:mt}),!c.length&&!p.length?U("div",{className:"uppy-Provider-empty"},de("noFilesFound")):U("div",{className:"uppy-ProviderBrowser-body"},U("ul",{className:"uppy-ProviderBrowser-list",onScroll:ie,role:"listbox",tabIndex:"-1"},c.map(ve=>{var je;return I2({columns:We,showTitles:se,viewType:E,i18n:de,id:ve.id,title:ve.name,getItemIcon:()=>ve.icon,isChecked:q(ve),toggleCheckbox:ot=>J(ot,ve),recordShiftKeyPress:V,type:"folder",isDisabled:(je=q(ve))==null?void 0:je.loading,isCheckboxDisabled:ve.id===_z,handleFolderClick:()=>qt(ve)})}),p.map(ve=>{let je=we(o0(ve),[..._,...o]);return I2({id:ve.id,title:ve.name,author:ve.author,getItemIcon:()=>ve.icon,isChecked:q(ve),toggleCheckbox:ot=>J(ot,ve),recordShiftKeyPress:V,columns:We,showTitles:se,viewType:E,i18n:de,type:"file",isDisabled:je&&!q(ve),restrictionError:je})}))),He>0&&U(gz,{selected:He,done:ze,cancel:xt,i18n:de}))}a(B2,"Browser");var N2=B2,z2=a(r=>{let{i18n:o}=r;return U("div",{className:"uppy-Provider-loading"},U("span",null,o("loading")))},"default"),ql=class extends zr{componentWillUnmount(){let{onUnmount:r}=this.props;r()}render(){let{children:r}=this.props;return Sa(r)[0]}};a(ql,"CloseWrapper");function Tm(r){return r?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(r):!1}a(Tm,"isPreviewSupported");var U2=class{constructor(r){this.plugin=r,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}filterItems(r){let o=this.plugin.getPluginState();return!o.filterInput||o.filterInput===""?r:r.filter(c=>c.name.toLowerCase().indexOf(o.filterInput.toLowerCase())!==-1)}recordShiftKeyPress(r){this.isShiftKeyPressed=r.shiftKey}toggleCheckbox(r,o){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();let{folders:c,files:p}=this.plugin.getPluginState(),_=this.filterItems(c.concat(p));if(this.lastCheckbox&&this.isShiftKeyPressed){let R=_.indexOf(this.lastCheckbox),B=_.indexOf(o),q=R<B?_.slice(R,B+1):_.slice(B,R+1),J=[];for(let V of q){let{uppy:ie}=this.plugin,se=ie.validateRestrictions(o0(V),[...ie.getFiles(),...J]);se?ie.info({message:se.message},"error",ie.opts.infoTimeout):J.push(V)}this.plugin.setPluginState({currentSelection:J});return}this.lastCheckbox=o;let{currentSelection:E}=this.plugin.getPluginState();this.isChecked(o)?this.plugin.setPluginState({currentSelection:E.filter(R=>R.id!==o.id)}):this.plugin.setPluginState({currentSelection:E.concat([o])})}isChecked(r){let{currentSelection:o}=this.plugin.getPluginState();return o.some(c=>c.id===r.id)}loaderWrapper(r,o,c){r.then(p=>{this.plugin.setPluginState({loading:!1}),o(p)}).catch(p=>{this.plugin.setPluginState({loading:!1}),c(p)}),this.plugin.setPluginState({loading:!0})}};a(U2,"SharedHandler");var l0=class{constructor(r,o){this.plugin=r,this.provider=o.provider,this.sharedHandler=new U2(r),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}providerFileToId(r){return Yi({data:r,name:r.name||r.id,type:r.mimetype})}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(r){let{scrollHeight:o,scrollTop:c,offsetHeight:p}=r.target;return o-(c+p)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();let r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}handleError(r){let{uppy:o}=this.plugin,c=o.i18n("companionError");o.log(r.toString()),!r.isAuthError&&o.info({message:c,details:r.toString()},"error",5e3)}addFile(r){let o={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(r.requestPath)}`,body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},c=fi(o);c&&Tm(c)&&(o.preview=r.thumbnail),r.author&&(r.author.name!=null&&(o.meta.authorName=String(r.author.name)),r.author.url&&(o.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(o),!0}catch(p){return p.isRestriction||this.plugin.uppy.log(p),!1}}};a(l0,"View");function c0(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(c0,"_classPrivateFieldLooseBase");var wz=0;function H2(r){return"__private_"+wz+++"_"+r}a(H2,"_classPrivateFieldLooseKey");var xz={version:"3.0.2"};function W2(){return location.origin}a(W2,"getOrigin");function h0(r){if(typeof r=="string")return new RegExp(`^${r}$`);if(r instanceof RegExp)return r}a(h0,"getRegex");function j2(r,o){return(Array.isArray(o)?o.map(h0):[h0(o)]).some(c=>(c==null?void 0:c.test(r))||(c==null?void 0:c.test(`${r}/`)))}a(j2,"isOriginAllowed");var dd=H2("updateFilesAndFolders"),Jn=class extends l0{constructor(r,o){super(r,o),Object.defineProperty(this,dd,{value:q2});let c={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};this.opts={...c,...o},this.filterQuery=this.filterQuery.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.listAllFiles=this.listAllFiles.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}getFolder(r,o){return this.sharedHandler.loaderWrapper(this.provider.list(r),c=>{let p=[],_=[],E,R=this.plugin.getPluginState(),B=R.directories.findIndex(q=>r===q.id);B!==-1?E=R.directories.slice(0,B+1):E=R.directories.concat([{id:r,title:o}]),this.username=c.username||this.username,c0(this,dd)[dd](c,_,p),this.plugin.setPluginState({directories:E,filterInput:""})},this.handleError)}getNextFolder(r){this.getFolder(r.requestPath,r.name),this.lastCheckbox=void 0}logout(){this.provider.logout().then(r=>{if(r.ok){if(!r.revoked){let c=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:r.manual_revoke_url});this.plugin.uppy.info(c,"info",7e3)}let o={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};this.plugin.setPluginState(o)}}).catch(this.handleError)}filterQuery(r){let o=this.plugin.getPluginState();this.plugin.setPluginState({...o,filterInput:r?r.target.value:""})}addFolder(r){let o=this.providerFileToId(r),c={...this.plugin.getPluginState().selectedFolders};if(!(o in c&&c[o].loading))return c[o]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:{...c}}),this.listAllFiles(r.requestPath).then(p=>{let _=0;p.forEach(B=>{let q=this.providerFileToId(B);this.plugin.uppy.checkIfFileAlreadyExists(q)||_++}),_>0&&p.forEach(B=>this.addFile(B));let E=p.map(this.providerFileToId);c[o]={loading:!1,files:E},this.plugin.setPluginState({selectedFolders:c,filterInput:""});let R;_===0?R=this.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):p.length?R=this.plugin.uppy.i18n("folderAdded",{smart_count:_,folder:r.name}):R=this.plugin.uppy.i18n("emptyFolderAdded"),this.plugin.uppy.info(R)}).catch(p=>{let _={...this.plugin.getPluginState().selectedFolders};delete _[o],this.plugin.setPluginState({selectedFolders:_}),this.handleError(p)})}async handleAuth(){await this.provider.ensurePreAuth();let r=btoa(JSON.stringify({origin:W2()})),o=`@uppy/provider-views=${Jn.VERSION}`,c=this.provider.authUrl({state:r,uppyVersions:o}),p=window.open(c,"_blank"),_=a(E=>{if(E.source!==p){this.plugin.uppy.log("rejecting event from unknown source");return}(!j2(E.origin,this.plugin.opts.companionAllowedHosts)||E.source!==p)&&this.plugin.uppy.log(`rejecting event from ${E.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);let R=typeof E.data=="string"?JSON.parse(E.data):E.data;if(R.error){this.plugin.uppy.log("auth aborted","warning");let{uppy:B}=this.plugin,q=B.i18n("authAborted");B.info({message:q},"warning",5e3);return}if(!R.token){this.plugin.uppy.log("did not receive token from auth window","error");return}p.close(),window.removeEventListener("message",_),this.provider.setAuthToken(R.token),this.preFirstRender()},"handleToken");window.addEventListener("message",_)}async handleScroll(r){let o=this.nextPagePath||null;if(this.shouldHandleScroll(r)&&o){this.isHandlingScroll=!0;try{let c=await this.provider.list(o),{files:p,folders:_}=this.plugin.getPluginState();c0(this,dd)[dd](c,p,_)}catch(c){this.handleError(c)}finally{this.isHandlingScroll=!1}}}async listAllFiles(r,o){o===void 0&&(o=null),o=o||[];let c=await this.provider.list(r);c.items.forEach(_=>{_.isFolder?this.addFolder(_):o.push(_)});let p=c.nextPagePath;return p?this.listAllFiles(p,o):o}donePicking(){let{currentSelection:r}=this.plugin.getPluginState(),o=r.map(c=>c.isFolder?this.addFolder(c):this.addFile(c));this.sharedHandler.loaderWrapper(Promise.all(o),()=>{this.clearSelection()},()=>{})}render(r,o){var c=this;o===void 0&&(o={});let{authenticated:p,didFirstRender:_}=this.plugin.getPluginState();_||this.preFirstRender();let E={...this.opts,...o},{files:R,folders:B,filterInput:q,loading:J,currentSelection:V}=this.plugin.getPluginState(),{isChecked:ie,toggleCheckbox:se,recordShiftKeyPress:de,filterItems:we}=this.sharedHandler,at=q!=="",Ge={showBreadcrumbs:E.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},mt={isChecked:ie,toggleCheckbox:se,recordShiftKeyPress:de,currentSelection:V,files:at?we(R):R,folders:at?we(B):B,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:mz(Ge),title:this.plugin.title,viewType:E.viewType,showTitles:E.showTitles,showFilter:E.showFilter,showBreadcrumbs:E.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return c.plugin.uppy.validateRestrictions(...arguments)}};return J?U(ql,{onUnmount:this.clearSelection},U(z2,{i18n:this.plugin.uppy.i18n})):p?U(ql,{onUnmount:this.clearSelection},U(N2,mt)):U(ql,{onUnmount:this.clearSelection},U(uz,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}};a(Jn,"ProviderView");function q2(r,o,c){this.nextPagePath=r.nextPagePath,r.items.forEach(p=>{p.isFolder?c.push(p):o.push(p)}),this.plugin.setPluginState({folders:c,files:o})}a(q2,"_updateFilesAndFolders2"),Jn.VERSION=xz.version;var kz=a(r=>{let{i18n:o,search:c}=r,p,_=a(()=>{p.value&&c(p.value)},"validateAndSearch"),E=a(R=>{R.keyCode===13&&_()},"handleKeyPress");return U("div",{className:"uppy-SearchProvider"},U("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":o("enterTextToSearch"),placeholder:o("enterTextToSearch"),onKeyUp:E,ref:R=>{p=R},"data-uppy-super-focusable":!0}),U("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:_},o("searchImages")))},"default"),Sz=13,Tz=a(r=>{let{searchTerm:o,i18n:c,search:p}=r,_=a(E=>{E.keyCode===Sz&&(E.stopPropagation(),E.preventDefault(),p(E.target.value))},"handleKeyPress");return U("div",{class:"uppy-ProviderBrowser-search"},U("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:c("search"),"aria-label":c("search"),value:o,onKeyUp:_,"data-uppy-super-focusable":!0}),U("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},U("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))},"default");function u0(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(u0,"_classPrivateFieldLooseBase");var Cz=0;function $2(r){return"__private_"+Cz+++"_"+r}a($2,"_classPrivateFieldLooseKey");var Ez={version:"3.0.2"},fd=$2("updateFilesAndInputMode"),Cm=class extends l0{constructor(r,o){super(r,o),Object.defineProperty(this,fd,{value:V2});let c={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};this.opts={...c,...o},this.search=this.search.bind(this),this.triggerSearchInput=this.triggerSearchInput.bind(this),this.addFile=this.addFile.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null})}tearDown(){}clearSelection(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}search(r){let{searchTerm:o}=this.plugin.getPluginState();if(!(r&&r===o))return this.sharedHandler.loaderWrapper(this.provider.search(r),c=>{u0(this,fd)[fd](c,[])},this.handleError)}triggerSearchInput(){this.plugin.setPluginState({isInputMode:!0})}async handleScroll(r){let o=this.nextPageQuery||null;if(this.shouldHandleScroll(r)&&o){this.isHandlingScroll=!0;try{let{files:c,searchTerm:p}=this.plugin.getPluginState(),_=await this.provider.search(p,o);u0(this,fd)[fd](_,c)}catch(c){this.handleError(c)}finally{this.isHandlingScroll=!1}}}donePicking(){let{currentSelection:r}=this.plugin.getPluginState(),o=r.map(c=>this.addFile(c));this.sharedHandler.loaderWrapper(Promise.all(o),()=>{this.clearSelection()},()=>{})}render(r,o){var c=this;o===void 0&&(o={});let{didFirstRender:p,isInputMode:_,searchTerm:E}=this.plugin.getPluginState();p||this.preFirstRender();let R={...this.opts,...o},{files:B,folders:q,filterInput:J,loading:V,currentSelection:ie}=this.plugin.getPluginState(),{isChecked:se,toggleCheckbox:de,filterItems:we}=this.sharedHandler,at=J!=="",Ge={isChecked:se,toggleCheckbox:de,currentSelection:ie,files:at?we(B):B,folders:at?we(q):q,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:Tz({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:E}),title:this.plugin.title,viewType:R.viewType,showTitles:R.showTitles,showFilter:R.showFilter,showBreadcrumbs:R.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return c.plugin.uppy.validateRestrictions(...arguments)}};return V?U(ql,{onUnmount:this.clearSelection},U(z2,{i18n:this.plugin.uppy.i18n})):_?U(ql,{onUnmount:this.clearSelection},U(kz,{search:this.search,i18n:this.plugin.uppy.i18n})):U(ql,{onUnmount:this.clearSelection},U(N2,Ge))}};a(Cm,"SearchProviderView");function V2(r,o){this.nextPageQuery=r.nextPageQuery,r.items.forEach(c=>{o.push(c)}),this.plugin.setPluginState({isInputMode:!1,files:o,searchTerm:r.searchedFor})}a(V2,"_updateFilesAndInputMode2"),Cm.VERSION=Ez.version;var Y2;function ea(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ea,"_classPrivateFieldLooseBase");var Oz=0;function Em(r){return"__private_"+Oz+++"_"+r}a(Em,"_classPrivateFieldLooseKey");var Mz={version:"3.0.2"},Az="uppy/STATE_UPDATE",Pz=a(r=>o=>o.uppy[r],"defaultSelector");function G2(r,o){let c=Object.keys(o),p={};return c.forEach(_=>{r[_]!==o[_]&&(p[_]=o[_])}),p}a(G2,"getPatch");var so=Em("id"),pd=Em("selector"),no=Em("store");Y2=Symbol.for("uppy test: get id");var d0=class{constructor(r){Object.defineProperty(this,so,{writable:!0,value:void 0}),Object.defineProperty(this,pd,{writable:!0,value:void 0}),Object.defineProperty(this,no,{writable:!0,value:void 0}),ea(this,no)[no]=r.store,ea(this,so)[so]=r.id||be(),ea(this,pd)[pd]=r.selector||Pz(ea(this,so)[so]),this.setState({})}setState(r){ea(this,no)[no].dispatch({type:Az,id:ea(this,so)[so],payload:r})}getState(){return ea(this,pd)[pd](ea(this,no)[no].getState())}subscribe(r){let o=this.getState();return ea(this,no)[no].subscribe(()=>{let c=this.getState();if(o!==c){let p=G2(o,c);r(o,c,p),o=c}})}[Y2](){return ea(this,so)[so]}};a(d0,"ReduxStore"),d0.VERSION=Mz.version;var Dz=d0;function X2(r){if(!r.bytesUploaded)return 0;let o=Date.now()-r.uploadStarted;return r.bytesUploaded/(o/1e3)}a(X2,"getSpeed");function K2(r){return r.bytesTotal-r.bytesUploaded}a(K2,"getBytesRemaining");var Mn={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Z2=g(P(),1);function Om(r){let o=[],c,p;for(let{progress:E}of Object.values(r)){let{preprocess:R,postprocess:B}=E;p==null&&(R||B)&&({mode:c,message:p}=R||B),(R==null?void 0:R.mode)==="determinate"&&o.push(R.value),(B==null?void 0:B.mode)==="determinate"&&o.push(B.value)}let _=o.reduce((E,R)=>E+R/o.length,0);return{mode:c,message:p,value:_}}a(Om,"calculateProcessingProgress");var Q2=g(P(),1),Lz=g(x(),1),J2=g(b(),1);function eC(r){let o=Math.floor(r/3600)%24,c=Math.floor(r/60)%60,p=Math.floor(r%60);return{hours:o,minutes:c,seconds:p}}a(eC,"secondsToTime");function tC(r){let o=eC(r),c=o.hours===0?"":`${o.hours}h`,p=o.minutes===0?"":`${o.hours===0?o.minutes:` ${o.minutes.toString(10).padStart(2,"0")}`}m`,_=o.hours!==0?"":`${o.minutes===0?o.seconds:` ${o.seconds.toString(10).padStart(2,"0")}`}s`;return`${c}${p}${_}`}a(tC,"prettyETA");var Rz="",iC=a(()=>` ${Rz} `,"renderDot");function rC(r){let{newFiles:o,isUploadStarted:c,recoveredState:p,i18n:_,uploadState:E,isSomeGhost:R,startUpload:B}=r,q=(0,Q2.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":E===Mn.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":R}),J=o&&c&&!p?_("uploadXNewFiles",{smart_count:o}):_("uploadXFiles",{smart_count:o});return U("button",{type:"button",className:q,"aria-label":_("uploadXFiles",{smart_count:o}),onClick:B,disabled:R,"data-uppy-super-focusable":!0},J)}a(rC,"UploadBtn");function sC(r){let{i18n:o,uppy:c}=r;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":o("retryUpload"),onClick:()=>c.retryAll(),"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},U("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),o("retry"))}a(sC,"RetryBtn");function nC(r){let{i18n:o,uppy:c}=r;return U("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:o("cancel"),"aria-label":o("cancel"),onClick:()=>c.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},U("g",{fill:"none",fillRule:"evenodd"},U("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),U("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}a(nC,"CancelBtn");function aC(r){let{isAllPaused:o,i18n:c,isAllComplete:p,resumableUploads:_,uppy:E}=r,R=c(o?"resume":"pause");function B(){return p?null:_?o?E.resumeAll():E.pauseAll():E.cancelAll()}return a(B,"togglePauseResume"),U("button",{title:R,"aria-label":R,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:B,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},U("g",{fill:"none",fillRule:"evenodd"},U("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),U("path",{fill:"#FFF",d:o?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}a(aC,"PauseResumeButton");function oC(r){let{i18n:o,doneButtonHandler:c}=r;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:c,"data-uppy-super-focusable":!0},o("done"))}a(oC,"DoneBtn");function f0(){return U("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},U("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}a(f0,"LoadingSpinner");function lC(r){let{progress:o}=r,{value:c,mode:p,message:_}=o,E=Math.round(c*100);return U("div",{className:"uppy-StatusBar-content"},U(f0,null),p==="determinate"?`${E}%  `:"",_)}a(lC,"ProgressBarProcessing");function cC(r){let{numUploads:o,complete:c,totalUploadedSize:p,totalSize:_,totalETA:E,i18n:R}=r,B=o>1;return U("div",{className:"uppy-StatusBar-statusSecondary"},B&&R("filesUploadedOfTotal",{complete:c,smart_count:o}),U("span",{className:"uppy-StatusBar-additionalInfo"},B&&iC(),R("dataUploadedOfTotal",{complete:(0,J2.default)(p),total:(0,J2.default)(_)}),iC(),R("xTimeLeft",{time:tC(E)})))}a(cC,"ProgressDetails");function p0(r){let{i18n:o,complete:c,numUploads:p}=r;return U("div",{className:"uppy-StatusBar-statusSecondary"},o("filesUploadedOfTotal",{complete:c,smart_count:p}))}a(p0,"FileUploadCount");function hC(r){let{i18n:o,newFiles:c,startUpload:p}=r,_=(0,Q2.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return U("div",{className:"uppy-StatusBar-statusSecondary"},U("div",{className:"uppy-StatusBar-statusSecondaryHint"},o("xMoreFilesAdded",{smart_count:c})),U("button",{type:"button",className:_,"aria-label":o("uploadXFiles",{smart_count:c}),onClick:p},o("upload")))}a(hC,"UploadNewlyAddedFiles");var Fz=(0,Lz.default)(cC,500,{leading:!0,trailing:!0});function uC(r){let{i18n:o,supportsUploadProgress:c,totalProgress:p,showProgressDetails:_,isUploadStarted:E,isAllComplete:R,isAllPaused:B,newFiles:q,numUploads:J,complete:V,totalUploadedSize:ie,totalSize:se,totalETA:de,startUpload:we}=r,at=q&&E;if(!E||R)return null;let Ge=o(B?"paused":"uploading");function mt(){return!B&&!at&&_?c?U(Fz,{numUploads:J,complete:V,totalUploadedSize:ie,totalSize:se,totalETA:de,i18n:o}):U(p0,{i18n:o,complete:V,numUploads:J}):null}return a(mt,"renderProgressDetails"),U("div",{className:"uppy-StatusBar-content","aria-label":Ge,title:Ge},B?null:U(f0,null),U("div",{className:"uppy-StatusBar-status"},U("div",{className:"uppy-StatusBar-statusPrimary"},c?`${Ge}: ${p}%`:Ge),mt(),at?U(hC,{i18n:o,newFiles:q,startUpload:we}):null))}a(uC,"ProgressBarUploading");function dC(r){let{i18n:o}=r;return U("div",{className:"uppy-StatusBar-content",role:"status",title:o("complete")},U("div",{className:"uppy-StatusBar-status"},U("div",{className:"uppy-StatusBar-statusPrimary"},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},U("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),o("complete"))))}a(dC,"ProgressBarComplete");function fC(r){let{error:o,i18n:c,complete:p,numUploads:_}=r;function E(){let R=`${c("uploadFailed")}

 ${o}`;alert(R)}return a(E,"displayErrorAlert"),U("div",{className:"uppy-StatusBar-content",title:c("uploadFailed")},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},U("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),U("div",{className:"uppy-StatusBar-status"},U("div",{className:"uppy-StatusBar-statusPrimary"},c("uploadFailed"),U("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":c("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:E,type:"button"},"?")),U(p0,{i18n:c,complete:p,numUploads:_})))}a(fC,"ProgressBarError");var{STATE_ERROR:pC,STATE_WAITING:mC,STATE_PREPROCESSING:m0,STATE_UPLOADING:Mm,STATE_POSTPROCESSING:g0,STATE_COMPLETE:Am}=Mn;function gC(r){let{newFiles:o,allowNewUpload:c,isUploadInProgress:p,isAllPaused:_,resumableUploads:E,error:R,hideUploadButton:B,hidePauseResumeButton:q,hideCancelButton:J,hideRetryButton:V,recoveredState:ie,uploadState:se,totalProgress:de,files:we,supportsUploadProgress:at,hideAfterFinish:Ge,isSomeGhost:mt,doneButtonHandler:qt,isUploadStarted:xt,i18n:ze,startUpload:We,uppy:He,isAllComplete:ve,showProgressDetails:je,numUploads:ot,complete:At,totalSize:Pt,totalETA:gi,totalUploadedSize:Ii}=r;function Ci(){switch(se){case g0:case m0:{let Zt=Om(we);return Zt.mode==="determinate"?Zt.value*100:de}case pC:return null;case Mm:return at?de:null;default:return de}}a(Ci,"getProgressValue");function et(){switch(se){case g0:case m0:{let{mode:Zt}=Om(we);return Zt==="indeterminate"}case Mm:return!at;default:return!1}}a(et,"getIsIndeterminate");function Ei(){if(ie)return!1;switch(se){case mC:return B||o===0;case Am:return Ge;default:return!1}}a(Ei,"getIsHidden");let vs=Ci(),Qi=Ei(),Kr=vs??100,ut=!R&&o&&!p&&!_&&c&&!B,Le=!J&&se!==mC&&se!==Am,Qe=E&&!q&&se===Mm,rt=R&&!ve&&!V,gt=qt&&se===Am,si=(0,Z2.default)("uppy-StatusBar-progress",{"is-indeterminate":et()}),Ji=(0,Z2.default)("uppy-StatusBar",`is-${se}`,{"has-ghosts":mt});return U("div",{className:Ji,"aria-hidden":Qi},U("div",{className:si,style:{width:`${Kr}%`},role:"progressbar","aria-label":`${Kr}%`,"aria-valuetext":`${Kr}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":vs}),(()=>{switch(se){case m0:case g0:return U(lC,{progress:Om(we)});case Am:return U(dC,{i18n:ze});case pC:return U(fC,{error:R,i18n:ze,numUploads:ot,complete:At});case Mm:return U(uC,{i18n:ze,supportsUploadProgress:at,totalProgress:de,showProgressDetails:je,isUploadStarted:xt,isAllComplete:ve,isAllPaused:_,newFiles:o,numUploads:ot,complete:At,totalUploadedSize:Ii,totalSize:Pt,totalETA:gi,startUpload:We});default:return null}})(),U("div",{className:"uppy-StatusBar-actions"},ie||ut?U(rC,{newFiles:o,isUploadStarted:xt,recoveredState:ie,i18n:ze,isSomeGhost:mt,startUpload:We,uploadState:se}):null,rt?U(sC,{i18n:ze,uppy:He}):null,Qe?U(aC,{isAllPaused:_,i18n:ze,isAllComplete:ve,resumableUploads:E,uppy:He}):null,Le?U(nC,{i18n:ze,uppy:He}):null,gt?U(oC,{i18n:ze,doneButtonHandler:qt}):null))}a(gC,"StatusBar");var Iz={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},Bz={version:"3.0.1"};function yC(r){let o=0;return r.forEach(c=>{o+=X2(c.progress)}),o}a(yC,"getTotalSpeed");function vC(r){let o=yC(r);if(o===0)return 0;let c=r.reduce((p,_)=>p+K2(_.progress),0);return Math.round(c/o*10)/10}a(vC,"getTotalETA");function bC(r,o,c,p){if(r&&!o)return Mn.STATE_ERROR;if(o)return Mn.STATE_COMPLETE;if(c)return Mn.STATE_WAITING;let _=Mn.STATE_WAITING,E=Object.keys(p);for(let R=0;R<E.length;R++){let{progress:B}=p[E[R]];if(B.uploadStarted&&!B.uploadComplete)return Mn.STATE_UPLOADING;B.preprocess&&_!==Mn.STATE_UPLOADING&&(_=Mn.STATE_PREPROCESSING),B.postprocess&&_!==Mn.STATE_UPLOADING&&_!==Mn.STATE_PREPROCESSING&&(_=Mn.STATE_POSTPROCESSING)}return _}a(bC,"getUploadingState");var Pm=class extends vr{constructor(r,o){super(r,o),this.startUpload=()=>{let{recoveredState:p}=this.uppy.getState();if(p){this.uppy.emit("restore-confirmed");return}return this.uppy.upload().catch(()=>{})},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=Iz;let c={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...c,...o},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){let{capabilities:o,files:c,allowNewUpload:p,totalProgress:_,error:E,recoveredState:R}=r,{newFiles:B,startedFiles:q,completeFiles:J,inProgressNotPausedFiles:V,isUploadStarted:ie,isAllComplete:se,isAllErrored:de,isAllPaused:we,isUploadInProgress:at,isSomeGhost:Ge}=this.uppy.getObjectOfFilesPerState(),mt=R?Object.values(c):B,qt=vC(V),xt=!!o.resumableUploads,ze=o.uploadProgress!==!1,We=0,He=0;return q.forEach(ve=>{We+=ve.progress.bytesTotal||0,He+=ve.progress.bytesUploaded||0}),gC({error:E,uploadState:bC(E,se,R,r.files||{}),allowNewUpload:p,totalProgress:_,totalSize:We,totalUploadedSize:He,isAllComplete:!1,isAllPaused:we,isUploadStarted:ie,isUploadInProgress:at,isSomeGhost:Ge,recoveredState:R,complete:J.length,newFiles:mt.length,numUploads:q.length,totalETA:qt,files:c,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:xt,supportsUploadProgress:ze,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){let r=this.el;o2(r)||(r.dir="ltr")}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(Pm,"StatusBar"),Pm.VERSION=Bz.version;var _C=300,wC=class extends zr{constructor(){super(...arguments),this.ref=i2()}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,_C)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,_C)}render(){let{children:r}=this.props;return U("div",{className:"uppy-Informer-animated",ref:this.ref},r)}};a(wC,"FadeIn");function xC(r,o){return Object.assign(r,o)}a(xC,"assign");function kC(r,o){var c;return(c=r==null?void 0:r.key)!=null?c:o}a(kC,"getKey");function SC(r,o){let c=r._ptgLinkedRefs||(r._ptgLinkedRefs={});return c[o]||(c[o]=p=>{r.refs[o]=p})}a(SC,"linkRef");function Mh(r){let o={};for(let c=0;c<r.length;c++)if(r[c]!=null){let p=kC(r[c],c.toString(36));o[p]=r[c]}return o}a(Mh,"getChildMapping");function TC(r,o){r=r||{},o=o||{};let c=a(R=>o.hasOwnProperty(R)?o[R]:r[R],"getValueForKey"),p={},_=[];for(let R in r)o.hasOwnProperty(R)?_.length&&(p[R]=_,_=[]):_.push(R);let E={};for(let R in o){if(p.hasOwnProperty(R))for(let B=0;B<p[R].length;B++){let q=p[R][B];E[p[R][B]]=c(q)}E[R]=c(R)}for(let R=0;R<_.length;R++)E[_[R]]=c(_[R]);return E}a(TC,"mergeChildMappings");var Nz=a(r=>r,"identity"),y0=class extends zr{constructor(r,o){super(r,o),this.refs={},this.state={children:Mh(Sa(Sa(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){let r=this.state.children;for(let o in r)r[o]&&this.performAppear(o)}componentWillReceiveProps(r){let o=Mh(Sa(r.children)||[]),c=this.state.children;this.setState(_=>({children:TC(_.children,o)}));let p;for(p in o)if(o.hasOwnProperty(p)){let _=c&&c.hasOwnProperty(p);o[p]&&_&&this.currentlyTransitioningKeys[p]?(this.keysToEnter.push(p),this.keysToAbortLeave.push(p)):o[p]&&!_&&!this.currentlyTransitioningKeys[p]&&this.keysToEnter.push(p)}for(p in c)if(c.hasOwnProperty(p)){let _=o&&o.hasOwnProperty(p);c[p]&&!_&&!this.currentlyTransitioningKeys[p]&&this.keysToLeave.push(p)}}componentDidUpdate(){let{keysToEnter:r}=this;this.keysToEnter=[],r.forEach(this.performEnter);let{keysToLeave:o}=this;this.keysToLeave=[],o.forEach(this.performLeave)}_finishAbort(r){let o=this.keysToAbortLeave.indexOf(r);o!==-1&&this.keysToAbortLeave.splice(o,1)}performAppear(r){this.currentlyTransitioningKeys[r]=!0;let o=this.refs[r];o.componentWillAppear?o.componentWillAppear(this._handleDoneAppearing.bind(this,r)):this._handleDoneAppearing(r)}_handleDoneAppearing(r){let o=this.refs[r];o.componentDidAppear&&o.componentDidAppear(),delete this.currentlyTransitioningKeys[r],this._finishAbort(r);let c=Mh(Sa(this.props.children)||[]);(!c||!c.hasOwnProperty(r))&&this.performLeave(r)}performEnter(r){this.currentlyTransitioningKeys[r]=!0;let o=this.refs[r];o.componentWillEnter?o.componentWillEnter(this._handleDoneEntering.bind(this,r)):this._handleDoneEntering(r)}_handleDoneEntering(r){let o=this.refs[r];o.componentDidEnter&&o.componentDidEnter(),delete this.currentlyTransitioningKeys[r],this._finishAbort(r);let c=Mh(Sa(this.props.children)||[]);(!c||!c.hasOwnProperty(r))&&this.performLeave(r)}performLeave(r){if(this.keysToAbortLeave.indexOf(r)!==-1)return;this.currentlyTransitioningKeys[r]=!0;let o=this.refs[r];o.componentWillLeave?o.componentWillLeave(this._handleDoneLeaving.bind(this,r)):this._handleDoneLeaving(r)}_handleDoneLeaving(r){if(this.keysToAbortLeave.indexOf(r)!==-1)return;let o=this.refs[r];o.componentDidLeave&&o.componentDidLeave(),delete this.currentlyTransitioningKeys[r];let c=Mh(Sa(this.props.children)||[]);if(c&&c.hasOwnProperty(r))this.performEnter(r);else{let p=xC({},this.state.children);delete p[r],this.setState({children:p})}}render(r,o){let{childFactory:c,transitionLeave:p,transitionName:_,transitionAppear:E,transitionEnter:R,transitionLeaveTimeout:B,transitionEnterTimeout:q,transitionAppearTimeout:J,component:V,...ie}=r,{children:se}=o,de=Object.entries(se).map(we=>{let[at,Ge]=we;if(!Ge)return;let mt=SC(this,at);return e0(c(Ge),{ref:mt,key:at})}).filter(Boolean);return U(V,ie,de)}};a(y0,"TransitionGroup"),y0.defaultProps={component:"span",childFactory:Nz};var zz=y0,Uz={version:"3.0.1"},Dm=class extends vr{constructor(r,o){super(r,o),this.render=p=>U("div",{className:"uppy uppy-Informer"},U(zz,null,p.info.map(_=>U(wC,{key:_.message},U("p",{role:"alert"},_.message," ",_.details&&U("span",{"aria-label":_.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${_.message}

 ${_.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";let c={};this.opts={...c,...o}}install(){let{target:r}=this.opts;r&&this.mount(r,this)}};a(Dm,"Informer"),Dm.VERSION=Uz.version;var Hz=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function CC(r,o,c){var p,_;let E=Hz.exec(r),R=(p=(_=o.mimeType)!=null?_:E==null?void 0:E[1])!=null?p:"plain/text",B;if(E[2]!=null){let q=atob(decodeURIComponent(E[3])),J=new Uint8Array(q.length);for(let V=0;V<q.length;V++)J[V]=q.charCodeAt(V);B=[J]}else B=[decodeURIComponent(E[3])];return c?new File(B,o.name||"",{type:R}):new Blob(B,{type:R})}a(CC,"dataURItoBlob");function v0(r){return r.startsWith("blob:")}a(v0,"isObjectURL");function Pi(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}a(Pi,"e");var EC=typeof self<"u"?self:global,md=typeof navigator<"u",Wz=md&&typeof HTMLImageElement>"u",OC=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),MC=EC.Buffer,AC=!!MC,jz=a(r=>r!==void 0,"h");function b0(r){return r===void 0||(r instanceof Map?r.size===0:Object.values(r).filter(jz).length===0)}a(b0,"f");function Ur(r){let o=new Error(r);throw delete o.stack,o}a(Ur,"l");function _0(r){let o=function(c){let p=0;return c.ifd0.enabled&&(p+=1024),c.exif.enabled&&(p+=2048),c.makerNote&&(p+=2048),c.userComment&&(p+=1024),c.gps.enabled&&(p+=512),c.interop.enabled&&(p+=100),c.ifd1.enabled&&(p+=1024),p+2048}(r);return r.jfif.enabled&&(o+=50),r.xmp.enabled&&(o+=2e4),r.iptc.enabled&&(o+=14e3),r.icc.enabled&&(o+=6e3),o}a(_0,"o");var w0=a(r=>String.fromCharCode.apply(null,r),"u"),PC=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0,ta=class{static from(r,o){return r instanceof this&&r.le===o?r:new ta(r,void 0,void 0,o)}constructor(r,o=0,c,p){if(typeof p=="boolean"&&(this.le=p),Array.isArray(r)&&(r=new Uint8Array(r)),r===0)this.byteOffset=0,this.byteLength=0;else if(r instanceof ArrayBuffer){c===void 0&&(c=r.byteLength-o);let _=new DataView(r,o,c);this._swapDataView(_)}else if(r instanceof Uint8Array||r instanceof DataView||r instanceof ta){c===void 0&&(c=r.byteLength-o),(o+=r.byteOffset)+c>r.byteOffset+r.byteLength&&Ur("Creating view outside of available memory in ArrayBuffer");let _=new DataView(r.buffer,o,c);this._swapDataView(_)}else if(typeof r=="number"){let _=new DataView(new ArrayBuffer(r));this._swapDataView(_)}else Ur("Invalid input argument for BufferView: "+r)}_swapArrayBuffer(r){this._swapDataView(new DataView(r))}_swapBuffer(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}_swapDataView(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}_lengthToEnd(r){return this.byteLength-r}set(r,o,c=ta){return r instanceof DataView||r instanceof ta?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||Ur("BufferView.set(): Invalid data argument."),this.toUint8().set(r,o),new c(this,o,r.byteLength)}subarray(r,o){return o=o||this._lengthToEnd(r),new ta(this,r,o)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(r,o){return new Uint8Array(this.buffer,this.byteOffset+r,o)}getString(r=0,o=this.byteLength){return c=this.getUint8Array(r,o),PC?PC.decode(c):AC?Buffer.from(c).toString("utf8"):decodeURIComponent(escape(w0(c)));var c}getLatin1String(r=0,o=this.byteLength){let c=this.getUint8Array(r,o);return w0(c)}getUnicodeString(r=0,o=this.byteLength){let c=[];for(let p=0;p<o&&r+p<this.byteLength;p+=2)c.push(this.getUint16(r+p));return w0(c)}getInt8(r){return this.dataView.getInt8(r)}getUint8(r){return this.dataView.getUint8(r)}getInt16(r,o=this.le){return this.dataView.getInt16(r,o)}getInt32(r,o=this.le){return this.dataView.getInt32(r,o)}getUint16(r,o=this.le){return this.dataView.getUint16(r,o)}getUint32(r,o=this.le){return this.dataView.getUint32(r,o)}getFloat32(r,o=this.le){return this.dataView.getFloat32(r,o)}getFloat64(r,o=this.le){return this.dataView.getFloat64(r,o)}getFloat(r,o=this.le){return this.dataView.getFloat32(r,o)}getDouble(r,o=this.le){return this.dataView.getFloat64(r,o)}getUintBytes(r,o,c){switch(o){case 1:return this.getUint8(r,c);case 2:return this.getUint16(r,c);case 4:return this.getUint32(r,c);case 8:return this.getUint64&&this.getUint64(r,c)}}getUint(r,o,c){switch(o){case 8:return this.getUint8(r,c);case 16:return this.getUint16(r,c);case 32:return this.getUint32(r,c);case 64:return this.getUint64&&this.getUint64(r,c)}}toString(r){return this.dataView.toString(r,this.constructor.name)}ensureChunk(){}};a(ta,"c");function Lm(r,o){Ur(`${r} '${o}' was not loaded, try using full build of exifr.`)}a(Lm,"p");var Rm=class extends Map{constructor(r){super(),this.kind=r}get(r,o){return this.has(r)||Lm(this.kind,r),o&&(r in o||function(c,p){Ur(`Unknown ${c} '${p}'.`)}(this.kind,r),o[r].enabled||Lm(this.kind,r)),super.get(r)}keyList(){return Array.from(this.keys())}};a(Rm,"g");var DC=new Rm("file parser"),ia=new Rm("segment parser"),x0=new Rm("file reader"),qz=EC.fetch;function k0(r,o){return(c=r).startsWith("data:")||c.length>1e4?Im(r,o,"base64"):OC&&r.includes("://")?Fm(r,o,"url",LC):OC?Im(r,o,"fs"):md?Fm(r,o,"url",LC):void Ur("Invalid input argument");var c}a(k0,"k");async function Fm(r,o,c,p){return x0.has(c)?Im(r,o,c):p?async function(_,E){let R=await E(_);return new ta(R)}(r,p):void Ur(`Parser ${c} is not loaded`)}a(Fm,"O");async function Im(r,o,c){let p=new(x0.get(c))(r,o);return await p.read(),p}a(Im,"v");var LC=a(r=>qz(r).then(o=>o.arrayBuffer()),"S"),S0=a(r=>new Promise((o,c)=>{let p=new FileReader;p.onloadend=()=>o(p.result||new ArrayBuffer),p.onerror=c,p.readAsArrayBuffer(r)}),"A"),RC=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};a(RC,"U");function $z(r,o,c){let p=new RC;for(let[_,E]of c)p.set(_,E);if(Array.isArray(o))for(let _ of o)r.set(_,p);else r.set(o,p);return p}a($z,"x");function Vz(r,o,c){let p,_=r.get(o);for(p of c)_.set(p[0],p[1])}a(Vz,"C");var T0=new Map,Yz=new Map,Gz=new Map,Bm=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],FC=["jfif","xmp","icc","iptc","ihdr"],C0=["tiff",...FC],Gr=["ifd0","ifd1","exif","gps","interop"],Nm=[...C0,...Gr],zm=["makerNote","userComment"],IC=["translateKeys","translateValues","reviveValues","multiSegment"],Um=[...IC,"sanitize","mergeOutput","silentErrors"],E0=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}};a(E0,"_");var Ah=class extends E0{get needed(){return this.enabled||this.deps.size>0}constructor(r,o,c,p){if(super(),Pi(this,"enabled",!1),Pi(this,"skip",new Set),Pi(this,"pick",new Set),Pi(this,"deps",new Set),Pi(this,"translateKeys",!1),Pi(this,"translateValues",!1),Pi(this,"reviveValues",!1),this.key=r,this.enabled=o,this.parse=this.enabled,this.applyInheritables(p),this.canBeFiltered=Gr.includes(r),this.canBeFiltered&&(this.dict=T0.get(r)),c!==void 0)if(Array.isArray(c))this.parse=this.enabled=!0,this.canBeFiltered&&c.length>0&&this.translateTagSet(c,this.pick);else if(typeof c=="object"){if(this.enabled=!0,this.parse=c.parse!==!1,this.canBeFiltered){let{pick:_,skip:E}=c;_&&_.length>0&&this.translateTagSet(_,this.pick),E&&E.length>0&&this.translateTagSet(E,this.skip)}this.applyInheritables(c)}else c===!0||c===!1?this.parse=this.enabled=c:Ur(`Invalid options argument: ${c}`)}applyInheritables(r){let o,c;for(o of IC)c=r[o],c!==void 0&&(this[o]=c)}translateTagSet(r,o){if(this.dict){let c,p,{tagKeys:_,tagValues:E}=this.dict;for(c of r)typeof c=="string"?(p=E.indexOf(c),p===-1&&(p=_.indexOf(Number(c))),p!==-1&&o.add(Number(_[p]))):o.add(c)}else for(let c of r)o.add(c)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,gd(this.pick,this.deps)):this.enabled&&this.pick.size>0&&gd(this.pick,this.deps)}};a(Ah,"D");var Ps={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},BC=new Map,Hm=class extends E0{static useCached(r){let o=BC.get(r);return o!==void 0||(o=new this(r),BC.set(r,o)),o}constructor(r){super(),r===!0?this.setupFromTrue():r===void 0?this.setupFromUndefined():Array.isArray(r)?this.setupFromArray(r):typeof r=="object"?this.setupFromObject(r):Ur(`Invalid options argument ${r}`),this.firstChunkSize===void 0&&(this.firstChunkSize=md?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let r;for(r of Bm)this[r]=Ps[r];for(r of Um)this[r]=Ps[r];for(r of zm)this[r]=Ps[r];for(r of Nm)this[r]=new Ah(r,Ps[r],void 0,this)}setupFromTrue(){let r;for(r of Bm)this[r]=Ps[r];for(r of Um)this[r]=Ps[r];for(r of zm)this[r]=!0;for(r of Nm)this[r]=new Ah(r,!0,void 0,this)}setupFromArray(r){let o;for(o of Bm)this[o]=Ps[o];for(o of Um)this[o]=Ps[o];for(o of zm)this[o]=Ps[o];for(o of Nm)this[o]=new Ah(o,!1,void 0,this);this.setupGlobalFilters(r,void 0,Gr)}setupFromObject(r){let o;for(o of(Gr.ifd0=Gr.ifd0||Gr.image,Gr.ifd1=Gr.ifd1||Gr.thumbnail,Object.assign(this,r),Bm))this[o]=Wm(r[o],Ps[o]);for(o of Um)this[o]=Wm(r[o],Ps[o]);for(o of zm)this[o]=Wm(r[o],Ps[o]);for(o of C0)this[o]=new Ah(o,Ps[o],r[o],this);for(o of Gr)this[o]=new Ah(o,Ps[o],r[o],this.tiff);this.setupGlobalFilters(r.pick,r.skip,Gr,Nm),r.tiff===!0?this.batchEnableWithBool(Gr,!0):r.tiff===!1?this.batchEnableWithUserValue(Gr,r):Array.isArray(r.tiff)?this.setupGlobalFilters(r.tiff,void 0,Gr):typeof r.tiff=="object"&&this.setupGlobalFilters(r.tiff.pick,r.tiff.skip,Gr)}batchEnableWithBool(r,o){for(let c of r)this[c].enabled=o}batchEnableWithUserValue(r,o){for(let c of r){let p=o[c];this[c].enabled=p!==!1&&p!==void 0}}setupGlobalFilters(r,o,c,p=c){if(r&&r.length){for(let E of p)this[E].enabled=!1;let _=O0(r,c);for(let[E,R]of _)gd(this[E].pick,R),this[E].enabled=!0}else if(o&&o.length){let _=O0(o,c);for(let[E,R]of _)gd(this[E].skip,R)}}filterNestedSegmentTags(){let{ifd0:r,exif:o,xmp:c,iptc:p,icc:_}=this;this.makerNote?o.deps.add(37500):o.skip.add(37500),this.userComment?o.deps.add(37510):o.skip.add(37510),c.enabled||r.skip.add(700),p.enabled||r.skip.add(33723),_.enabled||r.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:r,exif:o,gps:c,interop:p}=this;p.needed&&(o.deps.add(40965),r.deps.add(40965)),o.needed&&r.deps.add(34665),c.needed&&r.deps.add(34853),this.tiff.enabled=Gr.some(_=>this[_].enabled===!0)||this.makerNote||this.userComment;for(let _ of Gr)this[_].finalizeFilters()}get onlyTiff(){return!FC.map(r=>this[r].enabled).some(r=>r===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let r of C0)this[r].enabled&&!ia.has(r)&&Lm("segment parser",r)}};a(Hm,"R");function O0(r,o){let c,p,_,E,R=[];for(_ of o){for(E of(c=T0.get(_),p=[],c))(r.includes(E[0])||r.includes(E[1]))&&p.push(E[0]);p.length&&R.push([_,p])}return R}a(O0,"K");function Wm(r,o){return r!==void 0?r:o!==void 0?o:void 0}a(Wm,"W");function gd(r,o){for(let c of o)r.add(c)}a(gd,"X"),Pi(Hm,"default",Ps);var M0=class{constructor(r){Pi(this,"parsers",{}),Pi(this,"output",{}),Pi(this,"errors",[]),Pi(this,"pushToErrors",o=>this.errors.push(o)),this.options=Hm.useCached(r)}async read(r){this.file=await function(o,c){return typeof o=="string"?k0(o,c):md&&!Wz&&o instanceof HTMLImageElement?k0(o.src,c):o instanceof Uint8Array||o instanceof ArrayBuffer||o instanceof DataView?new ta(o):md&&o instanceof Blob?Fm(o,c,"blob",S0):void Ur("Invalid input argument")}(r,this.options)}setup(){if(this.fileParser)return;let{file:r}=this,o=r.getUint16(0);for(let[c,p]of DC)if(p.canHandle(r,o))return this.fileParser=new p(this.options,this.file,this.parsers),r[c]=!0;this.file.close&&this.file.close(),Ur("Unknown file format")}async parse(){let{output:r,errors:o}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),o.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&o.length>0&&(r.errors=o),b0(c=r)?void 0:c;var c}async executeParsers(){let{output:r}=this;await this.fileParser.parse();let o=Object.values(this.parsers).map(async c=>{let p=await c.parse();c.assignToOutput(r,p)});this.options.silentErrors&&(o=o.map(c=>c.catch(this.pushToErrors))),await Promise.all(o)}async extractThumbnail(){this.setup();let{options:r,file:o}=this,c=ia.get("tiff",r);var p;if(o.tiff?p={start:0,type:"tiff"}:o.jpeg&&(p=await this.fileParser.getOrFindSegment("tiff")),p===void 0)return;let _=await this.fileParser.ensureSegmentChunk(p),E=this.parsers.tiff=new c(_,r,o),R=await E.extractThumbnail();return o.close&&o.close(),R}};a(M0,"H");async function Xz(r,o){let c=new M0(o);return await c.read(r),c.parse()}a(Xz,"Y");var $l=class{static findPosition(r,o){let c=r.getUint16(o+2)+2,p=typeof this.headerLength=="function"?this.headerLength(r,o,c):this.headerLength,_=o+p,E=c-p;return{offset:o,length:c,headerLength:p,start:_,size:E,end:_+E}}static parse(r,o={}){return new this(r,new Hm({[this.type]:o}),r).parse()}normalizeInput(r){return r instanceof ta?r:new ta(r)}constructor(r,o={},c){Pi(this,"errors",[]),Pi(this,"raw",new Map),Pi(this,"handleError",p=>{if(!this.options.silentErrors)throw p;this.errors.push(p.message)}),this.chunk=this.normalizeInput(r),this.file=c,this.type=this.constructor.type,this.globalOptions=this.options=o,this.localOptions=o[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(r,o){let c=Gz.get(o),p=Yz.get(o),_=T0.get(o),E=this.options[o],R=E.reviveValues&&!!c,B=E.translateValues&&!!p,q=E.translateKeys&&!!_,J={};for(let[V,ie]of r)R&&c.has(V)?ie=c.get(V)(ie):B&&p.has(V)&&(ie=this.translateValue(ie,p.get(V))),q&&_.has(V)&&(V=_.get(V)||V),J[V]=ie;return J}translateValue(r,o){return o[r]||o.DEFAULT||r}assignToOutput(r,o){this.assignObjectToOutput(r,this.constructor.type,o)}assignObjectToOutput(r,o,c){if(this.globalOptions.mergeOutput)return Object.assign(r,c);r[o]?Object.assign(r[o],c):r[o]=c}};a($l,"J"),Pi($l,"headerLength",4),Pi($l,"type",void 0),Pi($l,"multiSegment",!1),Pi($l,"canHandle",()=>!1);function NC(r){return r===192||r===194||r===196||r===219||r===221||r===218||r===254}a(NC,"q");function zC(r){return r>=224&&r<=239}a(zC,"Q");function UC(r,o,c){for(let[p,_]of ia)if(_.canHandle(r,o,c))return p}a(UC,"Z");var A0=class extends class{constructor(r,o,c){Pi(this,"errors",[]),Pi(this,"ensureSegmentChunk",async p=>{let _=p.start,E=p.size||65536;if(this.file.chunked)if(this.file.available(_,E))p.chunk=this.file.subarray(_,E);else try{p.chunk=await this.file.readChunk(_,E)}catch(R){Ur(`Couldn't read segment: ${JSON.stringify(p)}. ${R.message}`)}else this.file.byteLength>_+E?p.chunk=this.file.subarray(_,E):p.size===void 0?p.chunk=this.file.subarray(_):Ur("Segment unreachable: "+JSON.stringify(p));return p.chunk}),this.extendOptions&&this.extendOptions(r),this.options=r,this.file=o,this.parsers=c}injectSegment(r,o){this.options[r].enabled&&this.createParser(r,o)}createParser(r,o){let c=new(ia.get(r))(o,this.options,this.file);return this.parsers[r]=c}createParsers(r){for(let o of r){let{type:c,chunk:p}=o,_=this.options[c];if(_&&_.enabled){let E=this.parsers[c];E&&E.append||E||this.createParser(c,p)}}}async readSegments(r){let o=r.map(this.ensureSegmentChunk);await Promise.all(o)}}{constructor(...r){super(...r),Pi(this,"appSegments",[]),Pi(this,"jpegSegments",[]),Pi(this,"unknownSegments",[])}static canHandle(r,o){return o===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(r){r===!0?(this.findAll=!0,this.wanted=new Set(ia.keyList())):(r=r===void 0?ia.keyList().filter(o=>this.options[o].enabled):r.filter(o=>this.options[o].enabled&&ia.has(o)),this.findAll=!1,this.remaining=new Set(r),this.wanted=new Set(r)),this.unfinishedMultiSegment=!1}async findAppSegments(r=0,o){this.setupSegmentFinderArgs(o);let{file:c,findAll:p,wanted:_,remaining:E}=this;if(!p&&this.file.chunked&&(p=Array.from(_).some(R=>{let B=ia.get(R),q=this.options[R];return B.multiSegment&&q.multiSegment}),p&&await this.file.readWhole()),r=this.findAppSegmentsInRange(r,c.byteLength),!this.options.onlyTiff&&c.chunked){let R=!1;for(;E.size>0&&!R&&(c.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:B}=c,q=this.appSegments.some(J=>!this.file.available(J.offset||J.start,J.length||J.size));if(R=r>B&&!q?!await c.readNextChunk(r):!await c.readNextChunk(B),(r=this.findAppSegmentsInRange(r,c.byteLength))===void 0)return}}}findAppSegmentsInRange(r,o){o-=2;let c,p,_,E,R,B,{file:q,findAll:J,wanted:V,remaining:ie,options:se}=this;for(;r<o;r++)if(q.getUint8(r)===255){if(c=q.getUint8(r+1),zC(c)){if(p=q.getUint16(r+2),_=UC(q,r,p),_&&V.has(_)&&(E=ia.get(_),R=E.findPosition(q,r),B=se[_],R.type=_,this.appSegments.push(R),!J&&(E.multiSegment&&B.multiSegment?(this.unfinishedMultiSegment=R.chunkNumber<R.chunkCount,this.unfinishedMultiSegment||ie.delete(_)):ie.delete(_),ie.size===0)))break;se.recordUnknownSegments&&(R=$l.findPosition(q,r),R.marker=c,this.unknownSegments.push(R)),r+=p+1}else if(NC(c)){if(p=q.getUint16(r+2),c===218&&se.stopAfterSos!==!1)return;se.recordJpegSegments&&this.jpegSegments.push({offset:r,length:p,marker:c}),r+=p+1}}return r}mergeMultiSegments(){if(!this.appSegments.some(o=>o.multiSegment))return;let r=function(o,c){let p,_,E,R=new Map;for(let B=0;B<o.length;B++)p=o[B],_=p[c],R.has(_)?E=R.get(_):R.set(_,E=[]),E.push(p);return Array.from(R)}(this.appSegments,"type");this.mergedAppSegments=r.map(([o,c])=>{let p=ia.get(o,this.options);return p.handleMultiSegments?{type:o,chunk:p.handleMultiSegments(c)}:c[0]})}getSegment(r){return this.appSegments.find(o=>o.type===r)}async getOrFindSegment(r){let o=this.getSegment(r);return o===void 0&&(await this.findAppSegments(0,[r]),o=this.getSegment(r)),o}};a(A0,"ee"),Pi(A0,"type","jpeg"),DC.set("jpeg",A0);var Kz=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],HC=class extends $l{parseHeader(){var r=this.chunk.getUint16();r===18761?this.le=!0:r===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(r,o,c=new Map){let{pick:p,skip:_}=this.options[o];p=new Set(p);let E=p.size>0,R=_.size===0,B=this.chunk.getUint16(r);r+=2;for(let q=0;q<B;q++){let J=this.chunk.getUint16(r);if(E){if(p.has(J)&&(c.set(J,this.parseTag(r,J,o)),p.delete(J),p.size===0))break}else!R&&_.has(J)||c.set(J,this.parseTag(r,J,o));r+=12}return c}parseTag(r,o,c){let{chunk:p}=this,_=p.getUint16(r+2),E=p.getUint32(r+4),R=Kz[_];if(R*E<=4?r+=8:r=p.getUint32(r+8),(_<1||_>13)&&Ur(`Invalid TIFF value type. block: ${c.toUpperCase()}, tag: ${o.toString(16)}, type: ${_}, offset ${r}`),r>p.byteLength&&Ur(`Invalid TIFF value offset. block: ${c.toUpperCase()}, tag: ${o.toString(16)}, type: ${_}, offset ${r} is outside of chunk size ${p.byteLength}`),_===1)return p.getUint8Array(r,E);if(_===2)return(B=function(q){for(;q.endsWith("\0");)q=q.slice(0,-1);return q}(B=p.getString(r,E)).trim())===""?void 0:B;var B;if(_===7)return p.getUint8Array(r,E);if(E===1)return this.parseTagValue(_,r);{let q=new(function(V){switch(V){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(_))(E),J=R;for(let V=0;V<E;V++)q[V]=this.parseTagValue(_,r),r+=J;return q}}parseTagValue(r,o){let{chunk:c}=this;switch(r){case 1:return c.getUint8(o);case 3:return c.getUint16(o);case 4:return c.getUint32(o);case 5:return c.getUint32(o)/c.getUint32(o+4);case 6:return c.getInt8(o);case 8:return c.getInt16(o);case 9:return c.getInt32(o);case 10:return c.getInt32(o)/c.getInt32(o+4);case 11:return c.getFloat(o);case 12:return c.getDouble(o);case 13:return c.getUint32(o);default:Ur(`Invalid tiff type ${r}`)}}};a(HC,"se");var jm=class extends HC{static canHandle(r,o){return r.getUint8(o+1)===225&&r.getUint32(o+4)===1165519206&&r.getUint16(o+8)===0}async parse(){this.parseHeader();let{options:r}=this;return r.ifd0.enabled&&await this.parseIfd0Block(),r.exif.enabled&&await this.safeParse("parseExifBlock"),r.gps.enabled&&await this.safeParse("parseGpsBlock"),r.interop.enabled&&await this.safeParse("parseInteropBlock"),r.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(r){let o=this[r]();return o.catch!==void 0&&(o=o.catch(this.handleError)),o}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let r=this.chunk.getUint16(this.ifd0Offset),o=this.ifd0Offset+2+12*r;this.ifd1Offset=this.chunk.getUint32(o)}}parseBlock(r,o){let c=new Map;return this[o]=c,this.parseTags(r,o,c),c}async parseIfd0Block(){if(this.ifd0)return;let{file:r}=this;this.findIfd0Offset(),this.ifd0Offset<8&&Ur("Malformed EXIF data"),!r.chunked&&this.ifd0Offset>r.byteLength&&Ur(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${r.byteLength}`),r.tiff&&await r.ensureChunk(this.ifd0Offset,_0(this.options));let o=this.parseBlock(this.ifd0Offset,"ifd0");return o.size!==0?(this.exifOffset=o.get(34665),this.interopOffset=o.get(40965),this.gpsOffset=o.get(34853),this.xmp=o.get(700),this.iptc=o.get(33723),this.icc=o.get(34675),this.options.sanitize&&(o.delete(34665),o.delete(40965),o.delete(34853),o.delete(700),o.delete(33723),o.delete(34675)),o):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,_0(this.options));let r=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=r.get(40965)),this.makerNote=r.get(37500),this.userComment=r.get(37510),this.options.sanitize&&(r.delete(40965),r.delete(37500),r.delete(37510)),this.unpack(r,41728),this.unpack(r,41729),r}unpack(r,o){let c=r.get(o);c&&c.length===1&&r.set(o,c[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let r=this.parseBlock(this.gpsOffset,"gps");return r&&r.has(2)&&r.has(4)&&(r.set("latitude",P0(...r.get(2),r.get(1))),r.set("longitude",P0(...r.get(4),r.get(3)))),r}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(r=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||r))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let r=this.ifd1.get(513),o=this.ifd1.get(514);return this.chunk.getUint8Array(r,o)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let r,o,c,p={};for(o of Gr)if(r=this[o],!b0(r))if(c=this.canTranslate?this.translateBlock(r,o):Object.fromEntries(r),this.options.mergeOutput){if(o==="ifd1")continue;Object.assign(p,c)}else p[o]=c;return this.makerNote&&(p.makerNote=this.makerNote),this.userComment&&(p.userComment=this.userComment),p}assignToOutput(r,o){if(this.globalOptions.mergeOutput)Object.assign(r,o);else for(let[c,p]of Object.entries(o))this.assignObjectToOutput(r,c,p)}};a(jm,"ie");function P0(r,o,c,p){var _=r+o/60+c/3600;return p!=="S"&&p!=="W"||(_*=-1),_}a(P0,"ne"),Pi(jm,"type","tiff"),Pi(jm,"headerLength",10),ia.set("tiff",jm);var D0={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},D0,{firstChunkSize:4e4,gps:[1,2,3,4]}),Object.assign({},D0,{tiff:!1,ifd1:!0,mergeOutput:!1});var Zz=Object.assign({},D0,{firstChunkSize:4e4,ifd0:[274]});async function WC(r){let o=new M0(Zz);await o.read(r);let c=await o.parse();if(c&&c.ifd0)return c.ifd0[274]}a(WC,"ce");var Qz=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),yd=!0,vd=!0;if(typeof navigator=="object"){let r=navigator.userAgent;if(r.includes("iPad")||r.includes("iPhone")){let o=r.match(/OS (\d+)_(\d+)/);if(o){let[,c,p]=o;yd=Number(c)+.1*Number(p)<13.4,vd=!1}}else if(r.includes("OS X 10")){let[,o]=r.match(/OS X 10[_.](\d+)/);yd=vd=Number(o)<15}if(r.includes("Chrome/")){let[,o]=r.match(/Chrome\/(\d+)/);yd=vd=Number(o)<81}else if(r.includes("Firefox/")){let[,o]=r.match(/Firefox\/(\d+)/);yd=vd=Number(o)<77}}async function jC(r){let o=await WC(r);return Object.assign({canvas:yd,css:vd},Qz[o])}a(jC,"ye");var qC=class extends ta{constructor(...r){super(...r),Pi(this,"ranges",new $C),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(r,o,c){if(r===0&&this.byteLength===0&&c){let p=new DataView(c.buffer||c,c.byteOffset,c.byteLength);this._swapDataView(p)}else{let p=r+o;if(p>this.byteLength){let{dataView:_}=this._extend(p);this._swapDataView(_)}}}_extend(r){let o;o=AC?MC.allocUnsafe(r):new Uint8Array(r);let c=new DataView(o.buffer,o.byteOffset,o.byteLength);return o.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:o,dataView:c}}subarray(r,o,c=!1){return o=o||this._lengthToEnd(r),c&&this._tryExtend(r,o),this.ranges.add(r,o),super.subarray(r,o)}set(r,o,c=!1){c&&this._tryExtend(o,r.byteLength,r);let p=super.set(r,o);return this.ranges.add(o,p.byteLength),p}async ensureChunk(r,o){this.chunked&&(this.ranges.available(r,o)||await this.readChunk(r,o))}available(r,o){return this.ranges.available(r,o)}};a(qC,"be");var $C=class{constructor(){Pi(this,"list",[])}get length(){return this.list.length}add(r,o,c=0){let p=r+o,_=this.list.filter(E=>L0(r,E.offset,p)||L0(r,E.end,p));if(_.length>0){r=Math.min(r,..._.map(R=>R.offset)),p=Math.max(p,..._.map(R=>R.end)),o=p-r;let E=_.shift();E.offset=r,E.length=o,E.end=p,this.list=this.list.filter(R=>!_.includes(R))}else this.list.push({offset:r,length:o,end:p})}available(r,o){let c=r+o;return this.list.some(p=>p.offset<=r&&c<=p.end)}};a($C,"we");function L0(r,o,c){return r<=o&&o<=c}a(L0,"ke");var VC=class extends qC{constructor(r,o){super(0),Pi(this,"chunksRead",0),this.input=r,this.options=o}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(r=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let o=this.options.chunkSize,c=await this.readChunk(r,o);return!!c&&c.byteLength===o}async readChunk(r,o){if(this.chunksRead++,(o=this.safeWrapAddress(r,o))!==0)return this._readChunk(r,o)}safeWrapAddress(r,o){return this.size!==void 0&&r+o>this.size?Math.max(0,this.size-r):o}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};a(VC,"Oe"),x0.set("blob",class extends VC{async readWhole(){this.chunked=!1;let r=await S0(this.input);this._swapArrayBuffer(r)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(r,o){let c=o?r+o:void 0,p=this.input.slice(r,c),_=await S0(p);return this.set(_,r,!0)}});var Jz={strings:{generatingThumbnails:"Generating thumbnails..."}},e9={version:"3.0.2"};function YC(r,o,c){try{r.getContext("2d").getImageData(0,0,1,1)}catch(p){if(p.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return r.toBlob?new Promise(p=>{r.toBlob(p,o,c)}).then(p=>{if(p===null)throw new Error("cannot read image, probably an svg with external resources");return p}):Promise.resolve().then(()=>CC(r.toDataURL(o,c),{})).then(p=>{if(p===null)throw new Error("could not extract blob, probably an old browser");return p})}a(YC,"canvasToBlob");function GC(r,o){let c=r.width,p=r.height;(o.deg===90||o.deg===270)&&(c=r.height,p=r.width);let _=document.createElement("canvas");_.width=c,_.height=p;let E=_.getContext("2d");return E.translate(c/2,p/2),o.canvas&&(E.rotate(o.rad),E.scale(o.scaleX,o.scaleY)),E.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),_}a(GC,"rotateImage");function XC(r){let o=r.width/r.height,c=5e6,p=4096,_=Math.floor(Math.sqrt(c*o)),E=Math.floor(c/Math.sqrt(c*o));if(_>p&&(_=p,E=Math.round(_/o)),E>p&&(E=p,_=Math.round(o*E)),r.width>_){let R=document.createElement("canvas");return R.width=_,R.height=E,R.getContext("2d").drawImage(r,0,0,_,E),R}return r}a(XC,"protect");var qm=class extends vr{constructor(r,o){super(r,o),this.onFileAdded=p=>{!p.preview&&p.data&&Tm(p.type)&&!p.isRemote&&this.addToQueue(p.id)},this.onCancelRequest=p=>{let _=this.queue.indexOf(p.id);_!==-1&&this.queue.splice(_,1)},this.onFileRemoved=p=>{let _=this.queue.indexOf(p.id);_!==-1&&this.queue.splice(_,1),p.preview&&v0(p.preview)&&URL.revokeObjectURL(p.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(p=>p.isRestored).forEach(p=>{(!p.preview||v0(p.preview))&&this.addToQueue(p.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=p=>{p.forEach(E=>{let R=this.uppy.getFile(E);this.uppy.emit("preprocess-progress",R,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});let _=a(()=>{p.forEach(E=>{let R=this.uppy.getFile(E);this.uppy.emit("preprocess-complete",R)})},"emitPreprocessCompleteForAll");return new Promise(E=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{_(),E()}):(_(),E())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=Jz;let c={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...c,...o},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,o,c){let p=URL.createObjectURL(r.data),_=new Promise((R,B)=>{let q=new Image;q.src=p,q.addEventListener("load",()=>{URL.revokeObjectURL(p),R(q)}),q.addEventListener("error",J=>{URL.revokeObjectURL(p),B(J.error||new Error("Could not create thumbnail"))})}),E=jC(r.data).catch(()=>1);return Promise.all([_,E]).then(R=>{let[B,q]=R,J=this.getProportionalDimensions(B,o,c,q.deg),V=GC(B,q),ie=this.resizeImage(V,J.width,J.height);return YC(ie,this.thumbnailType,80)}).then(R=>URL.createObjectURL(R))}getProportionalDimensions(r,o,c,p){let _=r.width/r.height;return(p===90||p===270)&&(_=r.height/r.width),o!=null?{width:o,height:Math.round(o/_)}:c!=null?{width:Math.round(c*_),height:c}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/_)}}resizeImage(r,o,c){let p=XC(r),_=Math.ceil(Math.log2(p.width/o));_<1&&(_=1);let E=o*2**(_-1),R=c*2**(_-1),B=2;for(;_--;){let q=document.createElement("canvas");q.width=E,q.height=R,q.getContext("2d").drawImage(p,0,0,E,R),p=q,E=Math.round(E/B),R=Math.round(R/B)}return p}setPreviewURL(r,o){this.uppy.setFileState(r,{preview:o})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){let r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return Tm(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(o=>{this.setPreviewURL(r.id,o),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),o)}).catch(o=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(o,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),o)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}};a(qm,"ThumbnailGenerator"),qm.VERSION=e9.version;function R0(r){if(typeof r=="string"){let o=document.querySelectorAll(r);return o.length===0?null:Array.from(o)}return typeof r=="object"&&t0(r)?[r]:null}a(R0,"findAllDOMElements");var ra=Array.from;function F0(r,o,c,p){let{onSuccess:_}=p;r.readEntries(E=>{let R=[...o,...E];E.length?queueMicrotask(()=>{F0(r,R,c,{onSuccess:_})}):_(R)},E=>{c(E),_(o)})}a(F0,"getFilesAndDirectoriesFromDirectory");function I0(r,o){return r==null?r:{kind:r.isFile?"file":r.isDirectory?"directory":void 0,name:r.name,getFile(){return new Promise((c,p)=>r.file(c,p))},async*values(){let c=r.createReader();yield*await new Promise(p=>{F0(c,[],o,{onSuccess:_=>p(_.map(E=>I0(E,o)))})})}}}a(I0,"getAsFileSystemHandleFromEntry");async function*B0(r,o){if(r.kind==="file"){let c=await r.getFile();c!==null&&(c.relativePath=o?`${o}/${r.name}`:null,yield c)}else if(r.kind==="directory")for await(let c of r.values())yield*B0(c,`${o}/${r.name}`)}a(B0,"createPromiseToAddFileOrParseDirectory");async function*KC(r,o){let c=await Promise.all(Array.from(r.items,async p=>{var _;let E=p.getAsFile(),R=(_=await(p.getAsFileSystemHandle==null?void 0:p.getAsFileSystemHandle()))!=null?_:I0(p.webkitGetAsEntry(),o);return{lastResortFile:E,entry:R}}));for(let{lastResortFile:p,entry:_}of c)if(_!=null)try{yield*B0(_,"")}catch(E){p?yield p:o(E)}}a(KC,"getFilesFromDataTransfer");function ZC(r){let o=ra(r.files);return Promise.resolve(o)}a(ZC,"fallbackApi");async function $m(r,o){let{logDropError:c=a(()=>{},"logDropError")}=o===void 0?{}:o;try{let p=[];for await(let _ of KC(r,c))p.push(_);return p}catch{return ZC(r)}}a($m,"getDroppedFiles");var QC=Number.isNaN||a(function(r){return typeof r=="number"&&r!==r},"ponyfill");function JC(r,o){return!!(r===o||QC(r)&&QC(o))}a(JC,"isEqual");function eE(r,o){if(r.length!==o.length)return!1;for(var c=0;c<r.length;c++)if(!JC(r[c],o[c]))return!1;return!0}a(eE,"areInputsEqual");function N0(r,o){o===void 0&&(o=eE);var c=null;function p(){for(var _=[],E=0;E<arguments.length;E++)_[E]=arguments[E];if(c&&c.lastThis===this&&o(_,c.lastArgs))return c.lastResult;var R=r.apply(this,_);return c={lastResult:R,lastArgs:_,lastThis:this},R}return a(p,"memoized"),p.clear=a(function(){c=null},"clear"),p}a(N0,"memoizeOne");var z0=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function U0(r,o){if(o){let c=r.querySelector(`[data-uppy-paneltype="${o}"]`);if(c)return c}return r}a(U0,"getActiveOverlayEl");function H0(r,o){let c=o[0];c&&(c.focus(),r.preventDefault())}a(H0,"focusOnFirstNode");function tE(r,o){let c=o[o.length-1];c&&(c.focus(),r.preventDefault())}a(tE,"focusOnLastNode");function iE(r){return r.contains(document.activeElement)}a(iE,"isFocusInOverlay");function W0(r,o,c){let p=U0(c,o),_=ra(p.querySelectorAll(z0)),E=_.indexOf(document.activeElement);iE(p)?r.shiftKey&&E===0?tE(r,_):!r.shiftKey&&E===_.length-1&&H0(r,_):H0(r,_)}a(W0,"trapFocus");function rE(r,o,c){o===null||W0(r,o,c)}a(rE,"forInline");var t9=g(L(),1);function sE(){let r=!1;return(0,t9.default)(a((o,c)=>{let p=U0(o,c),_=p.contains(document.activeElement);if(_&&r)return;let E=p.querySelector("[data-uppy-super-focusable]");if(!(_&&!E))if(E)E.focus({preventScroll:!0}),r=!0;else{let R=p.querySelector(z0);R==null||R.focus({preventScroll:!0}),r=!1}},"superFocus"),260)}a(sE,"createSuperFocus");var i9=g(P(),1);function j0(){let r=document.body;return!(!("draggable"in r)||!("ondragstart"in r&&"ondrop"in r)||!("FormData"in window)||!("FileReader"in window))}a(j0,"isDragDropSupported");var r9=g(P(),1),s9=g(u(),1);function nE(){return U("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},U("g",{fill:"#686DE0",fillRule:"evenodd"},U("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),U("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),U("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}a(nE,"iconImage");function aE(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},U("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}a(aE,"iconAudio");function oE(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},U("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}a(oE,"iconVideo");function lE(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},U("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}a(lE,"iconPDF");function cE(){return U("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},U("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}a(cE,"iconArchive");function hE(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},U("g",{fill:"#A7AFB7",fillRule:"nonzero"},U("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),U("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}a(hE,"iconFile");function uE(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},U("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}a(uE,"iconText");function Vm(r){let o={color:"#838999",icon:hE()};if(!r)return o;let c=r.split("/")[0],p=r.split("/")[1];return c==="text"?{color:"#5a5e69",icon:uE()}:c==="image"?{color:"#686de0",icon:nE()}:c==="audio"?{color:"#068dbb",icon:aE()}:c==="video"?{color:"#19af67",icon:oE()}:c==="application"&&p==="pdf"?{color:"#e25149",icon:lE()}:c==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(p)!==-1?{color:"#00C469",icon:cE()}:o}a(Vm,"getIconByMime");function q0(r){let{file:o}=r;if(o.preview)return U("img",{className:"uppy-Dashboard-Item-previewImg",alt:o.name,src:o.preview});let{color:c,icon:p}=Vm(o.type);return U("div",{className:"uppy-Dashboard-Item-previewIconWrap"},U("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:c}},p),U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},U("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}a(q0,"FilePreview");var n9=a((r,o)=>o.filter(c=>c.id===r)[0].name,"metaFieldIdToName");function $0(r){let{file:o,toggleFileCard:c,i18n:p,metaFields:_}=r,{missingRequiredMetaFields:E}=o;if(!(E!=null&&E.length))return null;let R=E.map(B=>n9(B,_)).join(", ");return U("div",{className:"uppy-Dashboard-Item-errorMessage"},p("missingRequiredMetaFields",{smart_count:E.length,fields:R})," ",U("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>c(!0,o.id)},p("editFile")))}a($0,"renderMissingMetaFieldsError");function dE(r){return U("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:Vm(r.file.type).color}},r.showLinkToFileUploadResult&&r.file.uploadURL&&U("a",{className:"uppy-Dashboard-Item-previewLink",href:r.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":r.file.meta.name},U("span",{hidden:!0},r.file.meta.name)),U(q0,{file:r.file}),U($0,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}))}a(dE,"FilePreviewAndLink");function fE(r){if(!r.isUploaded){if(r.error&&!r.hideRetryButton){r.uppy.retryUpload(r.file.id);return}r.resumableUploads&&!r.hidePauseResumeButton?r.uppy.pauseResume(r.file.id):r.individualCancellation&&!r.hideCancelButton&&r.uppy.removeFile(r.file.id)}}a(fE,"onPauseResumeCancelRetry");function V0(r){return r.isUploaded?r.i18n("uploadComplete"):r.error?r.i18n("retryUpload"):r.resumableUploads?r.file.isPaused?r.i18n("resumeUpload"):r.i18n("pauseUpload"):r.individualCancellation?r.i18n("cancelUpload"):""}a(V0,"progressIndicatorTitle");function Ym(r){return U("div",{className:"uppy-Dashboard-Item-progress"},U("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":V0(r),title:V0(r),onClick:()=>fE(r)},r.children))}a(Ym,"ProgressIndicatorButton");function bd(r){let{children:o}=r;return U("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},o)}a(bd,"ProgressCircleContainer");function Gm(r){let{progress:o}=r,c=2*Math.PI*15;return U("g",null,U("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),U("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":c,"stroke-dashoffset":c-c/100*o}))}a(Gm,"ProgressCircle");function pE(r){if(!r.file.progress.uploadStarted)return null;if(r.isUploaded)return U("div",{className:"uppy-Dashboard-Item-progress"},U("div",{className:"uppy-Dashboard-Item-progressIndicator"},U(bd,null,U("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),U("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!r.recoveredState)return r.error&&!r.hideRetryButton?U(Ym,r,U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},U("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),U("path",{d:"M7.9 3H10v2H7.9z"}),U("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),U("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):r.resumableUploads&&!r.hidePauseResumeButton?U(Ym,r,U(bd,null,U(Gm,{progress:r.file.progress.percentage}),r.file.isPaused?U("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):U("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},U("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),U("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!r.resumableUploads&&r.individualCancellation&&!r.hideCancelButton?U(Ym,r,U(bd,null,U(Gm,{progress:r.file.progress.percentage}),U("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):U("div",{className:"uppy-Dashboard-Item-progress"},U("div",{className:"uppy-Dashboard-Item-progressIndicator"},U(bd,null,U(Gm,{progress:r.file.progress.percentage}))))}a(pE,"FileProgress");var a9=g(S(),1),Y0="...";function G0(r,o){if(o===0)return"";if(r.length<=o)return r;if(o<=Y0.length+1)return`${r.slice(0,o-1)}`;let c=o-Y0.length,p=Math.ceil(c/2),_=Math.floor(c/2);return r.slice(0,p)+Y0+r.slice(-_)}a(G0,"truncateString");var o9=a(r=>{let{author:o,name:c}=r.file.meta;function p(){return r.singleFile?200:r.containerWidth<=352?35:r.containerWidth<=576?60:o?20:30}return a(p,"getMaxNameLength"),U("div",{className:"uppy-Dashboard-Item-name",title:c},G0(c,p()))},"renderFileName"),l9=a(r=>{let{author:o}=r.file.meta,{providerName:c}=r.file.remote,p="";return o?U("div",{className:"uppy-Dashboard-Item-author"},U("a",{href:`${o.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},G0(o.name,13)),c?U(il,null,` ${p} `,c,` ${p} `):null):null},"renderAuthor"),c9=a(r=>r.file.size&&U("div",{className:"uppy-Dashboard-Item-statusSize"},(0,a9.default)(r.file.size)),"renderFileSize"),h9=a(r=>r.file.isGhost&&U("span",null,"  ",U("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:r.toggleAddFilesPanel},r.i18n("reSelect"))),"ReSelectButton"),u9=a(r=>{let{file:o,onClick:c}=r;return o.error?U("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":o.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:c,type:"button"},"?"):null},"ErrorButton");function mE(r){let{file:o}=r;return U("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":o.source},U("div",{className:"uppy-Dashboard-Item-fileName"},o9(r),U(u9,{file:r.file,onClick:()=>alert(r.file.error)})),U("div",{className:"uppy-Dashboard-Item-status"},l9(r),c9(r),h9(r)),U($0,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}))}a(mE,"FileInfo");function gE(r,o){return o===void 0&&(o="Copy the URL below"),new Promise(c=>{let p=document.createElement("textarea");p.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),p.value=r,document.body.appendChild(p),p.select();let _=a(()=>{document.body.removeChild(p),window.prompt(o,r),c()},"magicCopyFailed");try{return document.execCommand("copy")?(document.body.removeChild(p),c()):_("copy command unavailable")}catch(E){return document.body.removeChild(p),_(E)}})}a(gE,"copyToClipboard");function yE(r){let{file:o,uploadInProgressOrComplete:c,metaFields:p,canEditFile:_,i18n:E,onClick:R}=r;return!c&&p&&p.length>0||!c&&_(o)?U("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":E("editFileWithFilename",{file:o.meta.name}),title:E("editFileWithFilename",{file:o.meta.name}),onClick:()=>R()},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},U("g",{fillRule:"evenodd"},U("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),U("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),U("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}a(yE,"EditButton");function vE(r){let{i18n:o,onClick:c,file:p}=r;return U("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":o("removeFile",{file:p.meta.name}),title:o("removeFile",{file:p.meta.name}),onClick:()=>c()},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},U("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),U("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}a(vE,"RemoveButton");var d9=a((r,o)=>{gE(o.file.uploadURL,o.i18n("copyLinkToClipboardFallback")).then(()=>{o.uppy.log("Link copied to clipboard."),o.uppy.info(o.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(o.uppy.log).then(()=>r.target.focus({preventScroll:!0}))},"copyLinkToClipboard");function bE(r){let{i18n:o}=r;return U("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":o("copyLink"),title:o("copyLink"),onClick:c=>d9(c,r)},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},U("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}a(bE,"CopyLinkButton");function _E(r){let{uppy:o,file:c,uploadInProgressOrComplete:p,canEditFile:_,metaFields:E,showLinkToFileUploadResult:R,showRemoveButton:B,i18n:q,toggleFileCard:J,openFileEditor:V}=r;return U("div",{className:"uppy-Dashboard-Item-actionWrapper"},U(yE,{i18n:q,file:c,uploadInProgressOrComplete:p,canEditFile:_,metaFields:E,onClick:a(()=>{E&&E.length>0?J(!0,c.id):V(c)},"editAction")}),R&&c.uploadURL?U(bE,{file:c,uppy:o,i18n:q}):null,B?U(vE,{i18n:q,file:c,uppy:o,onClick:()=>r.uppy.removeFile(c.id,"removed-by-user")}):null)}a(_E,"Buttons");var wE=class extends zr{componentDidMount(){let{file:r}=this.props;r.preview||this.props.handleRequestThumbnail(r)}shouldComponentUpdate(r){return!(0,s9.default)(this.props,r)}componentDidUpdate(){let{file:r}=this.props;r.preview||this.props.handleRequestThumbnail(r)}componentWillUnmount(){let{file:r}=this.props;r.preview||this.props.handleCancelThumbnail(r)}render(){let{file:r}=this.props,o=r.progress.preprocess||r.progress.postprocess,c=r.progress.uploadComplete&&!o&&!r.error,p=r.progress.uploadStarted||o,_=r.progress.uploadStarted&&!r.progress.uploadComplete||o,E=r.error||!1,{isGhost:R}=r,B=(this.props.individualCancellation||!_)&&!c;c&&this.props.showRemoveButtonAfterComplete&&(B=!0);let q=(0,r9.default)({"uppy-Dashboard-Item":!0,"is-inprogress":_&&!this.props.recoveredState,"is-processing":o,"is-complete":c,"is-error":!!E,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":R});return U("div",{className:q,id:`uppy_${r.id}`,role:this.props.role},U("div",{className:"uppy-Dashboard-Item-preview"},U(dE,{file:r,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),U(pE,{uppy:this.props.uppy,file:r,error:E,isUploaded:c,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),U("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},U(mE,{file:r,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,singleFile:this.props.singleFile}),U(_E,{file:r,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:B,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:p,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}};a(wE,"FileItem");function Xm(){return Xm=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Xm.apply(this,arguments)}a(Xm,"_extends");var f9={position:"relative",width:"100%",minHeight:"100%"},p9={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},xE=class extends zr{constructor(r){super(r),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){let{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(r){let{data:o,rowHeight:c,renderRow:p,overscanCount:_=10,...E}=r,{offset:R,height:B}=this.state,q=Math.floor(R/c),J=Math.floor(B/c);_&&(q=Math.max(0,q-q%_),J+=_);let V=q+J+4,ie=o.slice(q,V),se={...f9,height:o.length*c},de={...p9,top:q*c};return U("div",Xm({onScroll:this.handleScroll},E),U("div",{role:"presentation",style:se},U("div",{role:"presentation",style:de},ie.map(p))))}};a(xE,"VirtualList");var m9=xE;function Km(){return Km=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Km.apply(this,arguments)}a(Km,"_extends");function kE(r,o){let c=[],p=[];return r.forEach(_=>{p.length<o?p.push(_):(c.push(p),p=[_])}),p.length&&c.push(p),c}a(kE,"chunks");var g9=a(r=>{let o=r.itemsPerRow===1?71:200,c={id:r.id,error:r.error,i18n:r.i18n,uppy:r.uppy,acquirers:r.acquirers,resumableUploads:r.resumableUploads,individualCancellation:r.individualCancellation,hideRetryButton:r.hideRetryButton,hidePauseResumeButton:r.hidePauseResumeButton,hideCancelButton:r.hideCancelButton,showLinkToFileUploadResult:r.showLinkToFileUploadResult,showRemoveButtonAfterComplete:r.showRemoveButtonAfterComplete,isWide:r.isWide,metaFields:r.metaFields,recoveredState:r.recoveredState,singleFile:r.singleFile,toggleFileCard:r.toggleFileCard,handleRequestThumbnail:r.handleRequestThumbnail,handleCancelThumbnail:r.handleCancelThumbnail},p=a((B,q)=>r.files[q].isGhost-r.files[B].isGhost,"sortByGhostComesFirst"),_=Object.keys(r.files);r.recoveredState&&_.sort(p);let E=kE(_,r.itemsPerRow),R=a(B=>U("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:B[0]},B.map(q=>U(wE,Km({key:q,uppy:r.uppy},c,{role:"listitem",openFileEditor:r.openFileEditor,canEditFile:r.canEditFile,toggleAddFilesPanel:r.toggleAddFilesPanel,file:r.files[q]})))),"renderRow");return r.singleFile?U("div",{class:"uppy-Dashboard-files"},R(E[0])):U(m9,{class:"uppy-Dashboard-files",role:"list",data:E,renderRow:R,rowHeight:o})},"default"),SE;SE=Symbol.for("uppy test: disable unused locale key warning");var TE=class extends zr{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=r=>{this.props.handleInputChange(r),r.target.value=null},this.renderHiddenInput=(r,o)=>U("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:o}),this.renderHiddenCameraInput=(r,o,c)=>{let p={photo:"image/*",video:"video/*"}[r];return U("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:o,accept:p,ref:c})},this.renderMyDeviceAcquirer=()=>U("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),U("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),U("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>U("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),U("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),U("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>U("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},U("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},U("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),U("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),U("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(r,o)=>{let c=this.props.acquirers.length;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:o,"data-uppy-super-focusable":c===0},r)},this.renderDropPasteBrowseTagline=()=>{let r=this.props.acquirers.length,o=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),c=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),p=this.props.fileManagerSelectionType,_=p.charAt(0).toUpperCase()+p.slice(1);return U("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${_}`,{browseFiles:o,browseFolders:c,browse:o}):this.props.i18nArray(`dropPaste${_}`,{browseFiles:o,browseFolders:c,browse:o}))},this.renderAcquirer=r=>U("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id},U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":this.props.activePickerPanel.id===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id)},r.icon(),U("div",{className:"uppy-DashboardTab-name"},r.name))),this.renderAcquirers=r=>{let o=[...r],c=o.splice(r.length-2,r.length);return U(il,null,o.map(p=>this.renderAcquirer(p)),U("span",{role:"presentation",style:{"white-space":"nowrap"}},c.map(p=>this.renderAcquirer(p))))},this.renderSourcesList=(r,o)=>{let{showNativePhotoCameraButton:c,showNativeVideoCameraButton:p}=this.props;return U("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!o&&this.renderMyDeviceAcquirer(),!o&&c&&this.renderPhotoCamera(),!o&&p&&this.renderVideoCamera(),r.length>0&&this.renderAcquirers(r))}}[SE](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){let{i18nArray:r}=this.props,o=U("span",null,U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},U("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),U("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),c=r("poweredBy",{uppy:o});return U("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},c)}render(){let{showNativePhotoCameraButton:r,showNativeVideoCameraButton:o,nativeCameraFacingMode:c}=this.props;return U("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,p=>{this.fileInput=p}),this.renderHiddenInput(!0,p=>{this.folderInput=p}),r&&this.renderHiddenCameraInput("photo",c,p=>{this.mobilePhotoFileInput=p}),o&&this.renderHiddenCameraInput("video",c,p=>{this.mobileVideoFileInput=p}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),U("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&U("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}};a(TE,"AddFiles");var CE=TE,y9=g(P(),1),v9=a(r=>U("div",{className:(0,y9.default)("uppy-Dashboard-AddFilesPanel",r.className),"data-uppy-panelType":"AddFiles","aria-hidden":r.showAddFilesPanel},U("div",{className:"uppy-DashboardContent-bar"},U("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18n("addingMoreFiles")),U("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>r.toggleAddFilesPanel(!1)},r.i18n("back"))),U(CE,r)),"AddFilesPanel"),b9=v9,_9=g(P(),1);function EE(r){let{tagName:o}=r.target;if(o==="INPUT"||o==="TEXTAREA"){r.stopPropagation();return}r.preventDefault(),r.stopPropagation()}a(EE,"ignoreEvent");var rl=EE;function OE(r){let{activePickerPanel:o,className:c,hideAllPanels:p,i18n:_,state:E,uppy:R}=r;return U("div",{className:(0,_9.default)("uppy-DashboardContent-panel",c),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${o.id}`,onDragOver:rl,onDragLeave:rl,onDrop:rl,onPaste:rl},U("div",{className:"uppy-DashboardContent-bar"},U("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},_("importFrom",{name:o.name})),U("button",{className:"uppy-DashboardContent-back",type:"button",onClick:p},_("cancel"))),U("div",{className:"uppy-DashboardContent-panelBody"},R.getPlugin(o.id).render(E)))}a(OE,"PickerPanelContent");var w9=OE,x9=g(P(),1);function ME(r){let o=r.files[r.fileCardFor];return U("div",{className:(0,x9.default)("uppy-DashboardContent-panel",r.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},U("div",{className:"uppy-DashboardContent-bar"},U("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18nArray("editing",{file:U("span",{className:"uppy-DashboardContent-titleFile"},o.meta?o.meta.name:o.name)})),U("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r.hideAllPanels},r.i18n("cancel")),U("button",{className:"uppy-DashboardContent-save",type:"button",onClick:r.saveFileEditor},r.i18n("save"))),U("div",{className:"uppy-DashboardContent-panelBody"},r.editors.map(c=>r.uppy.getPlugin(c.id).render(r.state))))}a(ME,"EditorPanel");var k9=ME,Ta={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function AE(r,o,c,p){if(p===void 0&&(p={}),r)return Ta.STATE_ERROR;if(o)return Ta.STATE_COMPLETE;if(c)return Ta.STATE_PAUSED;let _=Ta.STATE_WAITING,E=Object.keys(p);for(let R=0;R<E.length;R++){let{progress:B}=p[E[R]];if(B.uploadStarted&&!B.uploadComplete)return Ta.STATE_UPLOADING;B.preprocess&&_!==Ta.STATE_UPLOADING&&(_=Ta.STATE_PREPROCESSING),B.postprocess&&_!==Ta.STATE_UPLOADING&&_!==Ta.STATE_PREPROCESSING&&(_=Ta.STATE_POSTPROCESSING)}return _}a(AE,"getUploadingState");function PE(r){let{files:o,i18n:c,isAllComplete:p,isAllErrored:_,isAllPaused:E,inProgressNotPausedFiles:R,newFiles:B,processingFiles:q}=r;switch(AE(_,p,E,o)){case"uploading":return c("uploadingXFiles",{smart_count:R.length});case"preprocessing":case"postprocessing":return c("processingXFiles",{smart_count:q.length});case"paused":return c("uploadPaused");case"waiting":return c("xFilesSelected",{smart_count:B.length});case"complete":return c("uploadComplete")}}a(PE,"UploadStatus");function DE(r){let{i18n:o,isAllComplete:c,hideCancelButton:p,maxNumberOfFiles:_,toggleAddFilesPanel:E,uppy:R}=r,{allowNewUpload:B}=r;return B&&_&&(B=r.totalFileCount<r.maxNumberOfFiles),U("div",{className:"uppy-DashboardContent-bar"},!c&&!p?U("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>R.cancelAll()},o("cancel")):U("div",null),U("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},U(PE,r)),B?U("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":o("addMoreFiles"),title:o("addMoreFiles"),onClick:()=>E(!0)},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},U("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),U("span",{className:"uppy-DashboardContent-addMoreCaption"},o("addMore"))):U("div",null))}a(DE,"PanelTopBar");var S9=DE,T9=g(P(),1),LE=class extends zr{constructor(r){super(r),this.form=document.createElement("form"),this.updateMeta=(_,E)=>{this.setState(R=>{let{formState:B}=R;return{formState:{...B,[E]:_}}})},this.handleSave=_=>{_.preventDefault();let E=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,E)},this.handleCancel=()=>{let _=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",_),this.props.toggleFileCard(!1)},this.saveOnEnter=_=>{if(_.keyCode===13){_.stopPropagation(),_.preventDefault();let E=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,E.id)}},this.renderMetaFields=()=>{let _=this.getMetaFields()||[],E={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return _.map(R=>{let B=`uppy-Dashboard-FileCard-input-${R.id}`,q=this.props.requiredMetaFields.includes(R.id);return U("fieldset",{key:R.id,className:"uppy-Dashboard-FileCard-fieldset"},U("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:B},R.name),R.render!==void 0?R.render({value:this.state.formState[R.id],onChange:J=>this.updateMeta(J,R.id),fieldCSSClasses:E,required:q,form:this.form.id},U):U("input",{className:E.text,id:B,form:this.form.id,type:R.type||"text",required:q,value:this.state.formState[R.id],placeholder:R.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:J=>this.updateMeta(J.target.value,R.id),"data-uppy-super-focusable":!0}))})};let o=this.props.files[this.props.fileCardFor],c=this.getMetaFields()||[],p={};c.forEach(_=>{p[_.id]=o.meta[_.id]||""}),this.state={formState:p},this.form.id=be()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){let r=this.props.files[this.props.fileCardFor],o=this.props.canEditFile(r);return U("div",{className:(0,T9.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:rl,onDragLeave:rl,onDrop:rl,onPaste:rl},U("div",{className:"uppy-DashboardContent-bar"},U("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:U("span",{className:"uppy-DashboardContent-titleFile"},r.meta?r.meta.name:r.name)})),U("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),U("div",{className:"uppy-Dashboard-FileCard-inner"},U("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:Vm(r.type).color}},U(q0,{file:r}),o&&U("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:c=>{this.handleSave(c),this.props.openFileEditor(r)},form:this.form.id},this.props.i18n("editFile"))),U("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),U("div",{className:"uppy-Dashboard-FileCard-actions"},U("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),U("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}};a(LE,"FileCard");var C9=LE,E9=g(P(),1),Ph="uppy-transition-slideDownUp",RE=250,FE=class extends zr{constructor(r){super(r),this.state={cachedChildren:null,className:""}}componentWillUpdate(r){let{cachedChildren:o}=this.state,c=Sa(r.children)[0];if(o===c)return null;let p={cachedChildren:c};c&&!o&&(p.className=`${Ph}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Ph}-enter ${Ph}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},RE)})),o&&!c&&this.leaveTimeout===void 0&&(p.cachedChildren=o,p.className=`${Ph}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Ph}-leave ${Ph}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},RE)})),this.setState(p)}render(){let{cachedChildren:r,className:o}=this.state;return r?e0(r,{className:(0,E9.default)(o,r.props.className)}):null}};a(FE,"Slide");var Zm=FE;function ao(){return ao=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},ao.apply(this,arguments)}a(ao,"_extends");var IE=900,BE=700,X0=576,O9=400;function NE(r){let o=r.totalFileCount===0,c=r.totalFileCount===1,p=r.containerWidth>X0,_=(0,i9.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":r.disabled,"uppy-Dashboard--animateOpenClose":r.animateOpenClose,"uppy-Dashboard--isClosing":r.isClosing,"uppy-Dashboard--isDraggingOver":r.isDraggingOver,"uppy-Dashboard--modal":!r.inline,"uppy-size--md":r.containerWidth>X0,"uppy-size--lg":r.containerWidth>BE,"uppy-size--xl":r.containerWidth>IE,"uppy-size--height-md":r.containerHeight>O9,"uppy-Dashboard--isAddFilesPanelVisible":r.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":r.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":c}),E=1;r.containerWidth>IE?E=5:r.containerWidth>BE?E=4:r.containerWidth>X0&&(E=3);let R=r.showSelectedFiles&&!o,B=r.recoveredState?Object.keys(r.recoveredState.files).length:null,q=r.files?Object.keys(r.files).filter(V=>r.files[V].isGhost).length:null,J=a(()=>q>0?r.i18n("recoveredXFiles",{smart_count:q}):r.i18n("recoveredAllFiles"),"renderRestoredText");return U("div",{className:_,"data-uppy-theme":r.theme,"data-uppy-num-acquirers":r.acquirers.length,"data-uppy-drag-drop-supported":!r.disableLocalFiles&&j0(),"aria-hidden":r.inline?"false":r.isHidden,"aria-disabled":r.disabled,"aria-label":r.inline?r.i18n("dashboardTitle"):r.i18n("dashboardWindowTitle"),onPaste:r.handlePaste,onDragOver:r.handleDragOver,onDragLeave:r.handleDragLeave,onDrop:r.handleDrop},U("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:r.handleClickOutside}),U("div",{className:"uppy-Dashboard-inner","aria-modal":!r.inline&&"true",role:!r.inline&&"dialog",style:{width:r.inline&&r.width?r.width:"",height:r.inline&&r.height?r.height:""}},r.inline?null:U("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":r.i18n("closeModal"),title:r.i18n("closeModal"),onClick:r.closeModal},U("span",{"aria-hidden":"true"},"")),U("div",{className:"uppy-Dashboard-innerWrap"},U("div",{className:"uppy-Dashboard-dropFilesHereHint"},r.i18n("dropHint")),R&&U(S9,r),B&&U("div",{className:"uppy-Dashboard-serviceMsg"},U("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},U("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},U("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),U("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),U("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),U("strong",{className:"uppy-Dashboard-serviceMsg-title"},r.i18n("sessionRestored")),U("div",{className:"uppy-Dashboard-serviceMsg-text"},J())),R?U(g9,ao({},r,{singleFile:c,itemsPerRow:E})):U(CE,ao({},r,{isSizeMD:p})),U(Zm,null,r.showAddFilesPanel?U(b9,ao({key:"AddFiles"},r,{isSizeMD:p})):null),U(Zm,null,r.fileCardFor?U(C9,ao({key:"FileCard"},r)):null),U(Zm,null,r.activePickerPanel?U(w9,ao({key:"Picker"},r)):null),U(Zm,null,r.showFileEditor?U(k9,ao({key:"Editor"},r)):null),U("div",{className:"uppy-Dashboard-progressindicators"},r.progressindicators.map(V=>r.uppy.getPlugin(V.id).render(r.state))))))}a(NE,"Dashboard");var M9={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function es(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(es,"_classPrivateFieldLooseBase");var A9=0;function sl(r){return"__private_"+A9+++"_"+r}a(sl,"_classPrivateFieldLooseKey");var P9={version:"3.2.0"},K0=N0.default||N0,zE=9,D9=27;function Z0(){let r={};return r.promise=new Promise((o,c)=>{r.resolve=o,r.reject=c}),r}a(Z0,"createPromise");function UE(){return U("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},U("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}a(UE,"defaultPickerIcon");var oo=sl("generateLargeThumbnailIfSingleFile"),_d=sl("openFileEditorWhenFilesAdded"),Vl=sl("attachRenderFunctionToTarget"),Q0=sl("isTargetSupported"),J0=sl("getAcquirers"),e_=sl("getProgressIndicators"),lo=sl("getEditors"),Qm=class extends vr{constructor(r,o){var c;super(r,o),c=this,this.removeTarget=_=>{let E=this.getPluginState().targets.filter(R=>R.id!==_.id);this.setPluginState({targets:E})},this.addTarget=_=>{let E=_.id||_.constructor.name,R=_.title||E,B=_.type;if(B!=="acquirer"&&B!=="progressindicator"&&B!=="editor"){this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error");return}let q={id:E,name:R,type:B},J=this.getPluginState().targets.slice();return J.push(q),this.setPluginState({targets:J}),this.el},this.hideAllPanels=()=>{let _=this.getPluginState(),E={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};_.activePickerPanel===E.activePickerPanel&&_.showAddFilesPanel===E.showAddFilesPanel&&_.showFileEditor===E.showFileEditor&&_.activeOverlayType===E.activeOverlayType||this.setPluginState(E)},this.showPanel=_=>{let{targets:E}=this.getPluginState(),R=E.filter(B=>B.type==="acquirer"&&B.id===_)[0];this.setPluginState({activePickerPanel:R,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",_)},this.canEditFile=_=>{let{targets:E}=this.getPluginState();return es(this,lo)[lo](E).some(R=>this.uppy.getPlugin(R.id).canEditFile(_))},this.openFileEditor=_=>{let{targets:E}=this.getPluginState(),R=es(this,lo)[lo](E);this.setPluginState({showFileEditor:!0,fileCardFor:_.id||null,activeOverlayType:"FileEditor"}),R.forEach(B=>{this.uppy.getPlugin(B.id).selectFile(_)})},this.saveFileEditor=()=>{let{targets:_}=this.getPluginState();es(this,lo)[lo](_).forEach(E=>{this.uppy.getPlugin(E.id).save()}),this.hideAllPanels()},this.openModal=()=>{let{promise:_,resolve:E}=Z0();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){let R=a(()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",R,!1),E()},"handler");this.el.addEventListener("animationend",R,!1)}else this.setPluginState({isHidden:!1}),E();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),_},this.closeModal=function(_){_===void 0&&(_={});let{manualClose:E=!0}=_,{isHidden:R,isClosing:B}=c.getPluginState();if(R||B)return;let{promise:q,resolve:J}=Z0();if(c.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),c.opts.animateOpenClose){c.setPluginState({isClosing:!0});let ie=a(()=>{c.setPluginState({isHidden:!0,isClosing:!1}),c.superFocus.cancel(),c.savedActiveElement.focus(),c.el.removeEventListener("animationend",ie,!1),J()},"handler");c.el.addEventListener("animationend",ie,!1)}else c.setPluginState({isHidden:!0}),c.superFocus.cancel(),c.savedActiveElement.focus(),J();if(document.removeEventListener("keydown",c.handleKeyDownInModal),E&&c.opts.browserBackButtonClose){var V;(V=history.state)!=null&&V[c.modalName]&&history.back()}return c.uppy.emit("dashboard:modal-closed"),q},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=_=>{let{capabilities:E}=this.uppy.getState();this.uppy.setState({capabilities:{...E,darkMode:_}})},this.handleSystemDarkModeChange=_=>{let E=_.matches;this.uppy.log(`[Dashboard] Dark mode is ${E?"on":"off"}`),this.setDarkModeCapability(E)},this.toggleFileCard=(_,E)=>{let R=this.uppy.getFile(E);_?this.uppy.emit("dashboard:file-edit-start",R):this.uppy.emit("dashboard:file-edit-complete",R),this.setPluginState({fileCardFor:_?E:null,activeOverlayType:_?"FileCard":null})},this.toggleAddFilesPanel=_=>{this.setPluginState({showAddFilesPanel:_,activeOverlayType:_?"AddFiles":null})},this.addFiles=_=>{let E=_.map(R=>({source:this.id,name:R.name,type:R.type,data:R,meta:{relativePath:R.relativePath||R.webkitRelativePath||null}}));try{this.uppy.addFiles(E)}catch(R){this.uppy.log(R)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(_=>{let E=_[0],{width:R,height:B}=E.contentRect;this.uppy.log(`[Dashboard] resized: ${R} / ${B}`,"debug"),this.setPluginState({containerWidth:R,containerHeight:B,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{let _=this.getPluginState(),E=!this.opts.inline&&_.isHidden;!_.areInsidesReadyToBeVisible&&!E&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=_=>{this.el.contains(_.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=_=>{let E=ra(this.el.querySelectorAll(z0));_?E.forEach(R=>{let B=R.getAttribute("tabindex");B&&(R.dataset.inertTabindex=B),R.setAttribute("tabindex","-1")}):E.forEach(R=>{"inertTabindex"in R.dataset?R.setAttribute("tabindex",R.dataset.inertTabindex):R.removeAttribute("tabindex")}),this.dashboardIsDisabled=_},this.updateBrowserHistory=()=>{var _;(_=history.state)!=null&&_[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=_=>{var E;this.isModalOpen()&&(!_.state||!_.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(E=_.state)!=null&&E[this.modalName]&&history.back()},this.handleKeyDownInModal=_=>{_.keyCode===D9&&this.requestCloseModal(_),_.keyCode===zE&&W0(_,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=_=>{this.uppy.iteratePlugins(R=>{R.type==="acquirer"&&(R.handleRootPaste==null||R.handleRootPaste(_))});let E=ra(_.clipboardData.files);E.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(E))},this.handleInputChange=_=>{_.preventDefault();let E=ra(_.target.files);E.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(E))},this.handleDragOver=_=>{var E,R;_.preventDefault(),_.stopPropagation();let B=a(()=>{let ie=!0;return this.uppy.iteratePlugins(se=>{se.canHandleRootDrop!=null&&se.canHandleRootDrop(_)&&(ie=!0)}),ie},"canSomePluginHandleRootDrop"),q=a(()=>{let{types:ie}=_.dataTransfer;return ie.some(se=>se==="Files")},"doesEventHaveFiles"),J=B(_),V=q(_);if(!J&&!V||this.opts.disabled||this.opts.disableLocalFiles&&(V||!J)||!this.uppy.getState().allowNewUpload){_.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}_.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(E=(R=this.opts).onDragOver)==null||E.call(R,_)},this.handleDragLeave=_=>{var E,R;_.preventDefault(),_.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(E=(R=this.opts).onDragLeave)==null||E.call(R,_)},this.handleDrop=async _=>{var E,R;_.preventDefault(),_.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(V=>{V.type==="acquirer"&&(V.handleRootDrop==null||V.handleRootDrop(_))});let B=!1,q=a(V=>{this.uppy.log(V,"error"),B||(this.uppy.info(V.message,"error"),B=!0)},"logDropError"),J=await $m(_.dataTransfer,{logDropError:q});J.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(J)),(E=(R=this.opts).onDrop)==null||E.call(R,_)},this.handleRequestThumbnail=_=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",_)},this.handleCancelThumbnail=_=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",_)},this.handleKeyDownInInline=_=>{_.keyCode===zE&&rE(_,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=_=>{this.el.contains(document.activeElement)&&this.handlePaste(_)},this.handleComplete=_=>{let{failed:E}=_;this.opts.closeAfterFinish&&E.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,oo,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;let _=600,E=this.uppy.getFiles();if(E.length===1){let R=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);R==null||R.setOptions({thumbnailWidth:_});let B={...E[0],preview:void 0};R.requestThumbnail(B).then(()=>{R==null||R.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,_d,{writable:!0,value:_=>{let E=_[0];this.canEditFile(E)&&this.openFileEditor(E)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){let _=R0(this.opts.trigger);_?_.forEach(E=>E.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",es(this,oo)[oo]),this.uppy.on("file-removed",es(this,oo)[oo]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",es(this,_d)[_d])},this.removeEvents=()=>{let _=R0(this.opts.trigger);!this.opts.inline&&_&&_.forEach(E=>E.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",es(this,oo)[oo]),this.uppy.off("file-removed",es(this,oo)[oo]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",es(this,_d)[_d])},this.superFocusOnEachUpdate=()=>{let _=this.el.contains(document.activeElement),E=document.activeElement===document.body||document.activeElement===null,R=this.uppy.getState().info.length===0,B=!this.opts.inline;R&&(B||_||E&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableAllFocusableElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(_,E)=>{this.uppy.setFileMeta(E,_),this.toggleFileCard(!1,E)},Object.defineProperty(this,Vl,{writable:!0,value:_=>{let E=this.uppy.getPlugin(_.id);return{..._,icon:E.icon||this.opts.defaultPickerIcon,render:E.render}}}),Object.defineProperty(this,Q0,{writable:!0,value:_=>{let E=this.uppy.getPlugin(_.id);return typeof E.isSupported!="function"?!0:E.isSupported()}}),Object.defineProperty(this,J0,{writable:!0,value:K0(_=>_.filter(E=>E.type==="acquirer"&&es(this,Q0)[Q0](E)).map(es(this,Vl)[Vl]))}),Object.defineProperty(this,e_,{writable:!0,value:K0(_=>_.filter(E=>E.type==="progressindicator").map(es(this,Vl)[Vl]))}),Object.defineProperty(this,lo,{writable:!0,value:K0(_=>_.filter(E=>E.type==="editor").map(es(this,Vl)[Vl]))}),this.render=_=>{let E=this.getPluginState(),{files:R,capabilities:B,allowNewUpload:q}=_,{newFiles:J,uploadStartedFiles:V,completeFiles:ie,erroredFiles:se,inProgressFiles:de,inProgressNotPausedFiles:we,processingFiles:at,isUploadStarted:Ge,isAllComplete:mt,isAllErrored:qt,isAllPaused:xt}=this.uppy.getObjectOfFilesPerState(),ze=es(this,J0)[J0](E.targets),We=es(this,e_)[e_](E.targets),He=es(this,lo)[lo](E.targets),ve;return this.opts.theme==="auto"?ve=B.darkMode?"dark":"light":ve=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),NE({state:_,isHidden:E.isHidden,files:R,newFiles:J,uploadStartedFiles:V,completeFiles:ie,erroredFiles:se,inProgressFiles:de,inProgressNotPausedFiles:we,processingFiles:at,isUploadStarted:Ge,isAllComplete:mt,isAllErrored:qt,isAllPaused:xt,totalFileCount:Object.keys(R).length,totalProgress:_.totalProgress,allowNewUpload:q,acquirers:ze,theme:ve,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:E.activePickerPanel,showFileEditor:E.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:E.isClosing,progressindicators:We,editors:He,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:_.recoveredState,metaFields:E.metaFields,resumableUploads:B.resumableUploads||!1,individualCancellation:B.individualCancellation,isMobileDevice:B.isMobileDevice,fileCardFor:E.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:E.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:E.containerWidth,containerHeight:E.containerHeight,areInsidesReadyToBeVisible:E.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:E.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins(_=>{_&&!_.target&&_.opts&&_.opts.target===this.constructor&&this.addTarget(_)})},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});let{inline:_,closeAfterFinish:E}=this.opts;if(_&&E)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");let{allowMultipleUploads:R,allowMultipleUploadBatches:B}=this.uppy.opts;(R||B)&&E&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");let{target:q}=this.opts;q&&this.mount(q,this),(this.opts.plugins||[]).forEach(V=>{let ie=this.uppy.getPlugin(V);ie&&ie.mount(this,ie)}),this.opts.disableStatusBar||this.uppy.use(Pm,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(Dm,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(qm,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;let J=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${J?"on":"off"}`),this.setDarkModeCapability(J),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){let _=this.uppy.getPlugin(`${this.id}:Informer`);_&&this.uppy.removePlugin(_)}if(!this.opts.disableStatusBar){let _=this.uppy.getPlugin(`${this.id}:StatusBar`);_&&this.uppy.removePlugin(_)}if(!this.opts.disableThumbnailGenerator){let _=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);_&&this.uppy.removePlugin(_)}(this.opts.plugins||[]).forEach(_=>{let E=this.uppy.getPlugin(_);E&&E.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${be()}`,this.defaultLocale=M9;let p={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:UE,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.cancelAll(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...p,...o},this.i18nInit(),this.superFocus=sE(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}};a(Qm,"Dashboard"),Qm.VERSION=P9.version;var L9={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},R9={version:"3.0.1"},Jm=class extends vr{constructor(r,o){super(r,o),this.handleDrop=async p=>{var _,E;p.preventDefault(),p.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});let R=a(q=>{this.uppy.log(q,"error")},"logDropError"),B=await $m(p.dataTransfer,{logDropError:R});B.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(B)),(_=(E=this.opts).onDrop)==null||_.call(E,p)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=L9;let c={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...c,...o},this.i18nInit(),this.isDragDropSupported=j0(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(r){let o=r.map(c=>({source:this.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}));try{this.uppy.addFiles(o)}catch(c){this.uppy.log(c)}}onInputChange(r){let o=ra(r.target.files);o.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(o)),r.target.value=null}handleDragOver(r){var o,c;r.preventDefault(),r.stopPropagation();let{types:p}=r.dataTransfer,_=p.some(R=>R==="Files"),{allowNewUpload:E}=this.uppy.getState();if(!_||!E){r.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}r.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(o=(c=this.opts).onDragOver)==null||o.call(c,r)}handleDragLeave(r){var o,c;r.preventDefault(),r.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(o=(c=this.opts).onDragLeave)==null||o.call(c,r)}renderHiddenFileInput(){let{restrictions:r}=this.uppy.opts;return U("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:o=>{this.fileInputRef=o},name:this.opts.inputName,multiple:r.maxNumberOfFiles!==1,accept:r.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},U("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return U("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:U("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return U("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){let r=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,o={width:this.opts.width,height:this.opts.height};return U("button",{type:"button",className:r,style:o,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),U("div",{className:"uppy-DragDrop-inner"},Jm.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){let{target:r}=this.opts;this.setPluginState({isDraggingOver:!1}),r&&this.mount(r,this)}uninstall(){this.unmount()}};a(Jm,"DragDrop"),Jm.VERSION=R9.version;var F9={version:"2.0.1"};function eg(r){var o,c;return(o=(c=r.dataTransfer.types)==null?void 0:c.some(p=>p==="Files"))!=null?o:!1}a(eg,"isFileTransfer");var t_=class extends On{constructor(r,o){super(r,o),this.addFiles=p=>{let _=p.map(E=>({source:this.id,name:E.name,type:E.type,data:E,meta:{relativePath:E.relativePath||null}}));try{this.uppy.addFiles(_)}catch(E){this.uppy.log(E)}},this.handleDrop=async p=>{var _,E;if(!eg(p))return;p.preventDefault(),p.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),p.currentTarget.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(J=>{J.type==="acquirer"&&(J.handleRootDrop==null||J.handleRootDrop(p))});let R=!1,B=a(J=>{this.uppy.log(J,"error"),R||(this.uppy.info(J.message,"error"),R=!0)},"logDropError"),q=await $m(p.dataTransfer,{logDropError:B});q.length>0&&(this.uppy.log("[DropTarget] Files were dropped"),this.addFiles(q)),(_=(E=this.opts).onDrop)==null||_.call(E,p)},this.handleDragOver=p=>{var _,E;!eg(p)||(p.preventDefault(),p.stopPropagation(),p.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),p.currentTarget.classList.add("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!0}),(_=(E=this.opts).onDragOver)==null||_.call(E,p))},this.handleDragLeave=p=>{var _,E;if(!eg(p))return;p.preventDefault(),p.stopPropagation();let{currentTarget:R}=p;clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{R.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1})},50),(_=(E=this.opts).onDragLeave)==null||_.call(E,p)},this.addListeners=()=>{let{target:p}=this.opts;if(p instanceof Element?this.nodes=[p]:typeof p=="string"&&(this.nodes=ra(document.querySelectorAll(p))),!this.nodes&&!this.nodes.length>0)throw new Error(`"${p}" does not match any HTML elements`);this.nodes.forEach(_=>{_.addEventListener("dragover",this.handleDragOver,!1),_.addEventListener("dragleave",this.handleDragLeave,!1),_.addEventListener("drop",this.handleDrop,!1)})},this.removeListeners=()=>{this.nodes&&this.nodes.forEach(p=>{p.removeEventListener("dragover",this.handleDragOver,!1),p.removeEventListener("dragleave",this.handleDragLeave,!1),p.removeEventListener("drop",this.handleDrop,!1)})},this.type="acquirer",this.id=this.opts.id||"DropTarget",this.title="Drop Target";let c={target:null};this.opts={...c,...o},this.removeDragOverClassTimeout=null}install(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}uninstall(){this.removeListeners()}};a(t_,"DropTarget"),t_.VERSION=F9.version;var I9={strings:{chooseFiles:"Choose files"}},B9={version:"3.0.1"},i_=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=I9;let c={target:null,pretty:!0,inputName:"files[]"};this.opts={...c,...o},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(r){let o=r.map(c=>({source:this.id,name:c.name,type:c.type,data:c}));try{this.uppy.addFiles(o)}catch(c){this.uppy.log(c)}}handleInputChange(r){this.uppy.log("[FileInput] Something selected through input...");let o=ra(r.target.files);this.addFiles(o),r.target.value=null}handleClick(){this.input.click()}render(){let r={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},{restrictions:o}=this.uppy.opts,c=o.allowedFileTypes?o.allowedFileTypes.join(","):null;return U("div",{className:"uppy-FileInput-container"},U("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&r,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:o.maxNumberOfFiles!==1,accept:c,ref:p=>{this.input=p}}),this.opts.pretty&&U("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(i_,"FileInput"),i_.VERSION=B9.version;var N9=g(y(),1),HE=class extends zr{constructor(r){super(r),this.granularRotateOnChange=o=>{let{rotationAngle:c,rotationDelta:p}=this.state,_=Number(o.target.value)-p;if(cancelAnimationFrame(this.granularRotateOnInputNextFrame),_!==0){let E=c+_;this.granularRotateOnInputNextFrame=requestAnimationFrame(()=>{this.cropper.rotateTo(E)})}},this.state={rotationAngle:0,rotationDelta:0}}componentDidMount(){let{opts:r,storeCropperInstance:o}=this.props;this.cropper=new N9.default(this.imgElement,r.cropperOptions),o(this.cropper),r.actions.granularRotate&&this.imgElement.addEventListener("crop",c=>{let p=c.detail.rotate;this.setState({rotationAngle:p,rotationDelta:(p+405)%90-45})})}componentWillUnmount(){this.cropper.destroy()}renderGranularRotate(){let{i18n:r}=this.props,{rotationDelta:o,rotationAngle:c}=this.state;return U("label",{"data-microtip-position":"top",role:"tooltip","aria-label":`${c}`,className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},U("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:o,min:"-45",max:"44","aria-label":r("rotate")}))}renderRevert(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("revert"),"data-microtip-position":"top",onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(0)}},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0z",fill:"none"}),U("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}renderRotate(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.rotate(-90),"aria-label":r("rotate"),"data-microtip-position":"top"},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),U("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}renderFlip(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("flipHorizontal"),"data-microtip-position":"top",onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0z",fill:"none"}),U("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}renderZoomIn(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("zoomIn"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(.1)},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},U("path",{d:"M0 0h24v24H0V0z",fill:"none"}),U("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),U("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}renderZoomOut(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("zoomOut"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(-.1)},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0V0z",fill:"none"}),U("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}renderCropSquare(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioSquare"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(1)},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0z",fill:"none"}),U("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}renderCropWidescreen(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioLandscape"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(16/9)},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),U("path",{fill:"none",d:"M0 0h24v24H0z"})))}renderCropWidescreenVertical(){let{i18n:r}=this.props;return U("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioPortrait"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(9/16)},U("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),U("path",{d:"M0 0h24v24H0z",fill:"none"})))}render(){let{currentImage:r,opts:o}=this.props,{actions:c}=o,p=URL.createObjectURL(r.data);return U("div",{className:"uppy-ImageCropper"},U("div",{className:"uppy-ImageCropper-container"},U("img",{className:"uppy-ImageCropper-image",alt:r.name,src:p,ref:_=>{this.imgElement=_}})),U("div",{className:"uppy-ImageCropper-controls"},c.revert&&this.renderRevert(),c.rotate&&this.renderRotate(),c.granularRotate&&this.renderGranularRotate(),c.flip&&this.renderFlip(),c.zoomIn&&this.renderZoomIn(),c.zoomOut&&this.renderZoomOut(),c.cropSquare&&this.renderCropSquare(),c.cropWidescreen&&this.renderCropWidescreen(),c.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}};a(HE,"Editor");var z9={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}},U9={version:"2.1.0"},r_=class extends vr{constructor(r,o){super(r,o),this.save=()=>{let E=a(B=>{let{currentImage:q}=this.getPluginState();this.uppy.setFileState(q.id,{data:B,size:B.size,preview:null});let J=this.uppy.getFile(q.id);this.uppy.emit("thumbnail:request",J),this.setPluginState({currentImage:J}),this.uppy.emit("file-editor:complete",J)},"saveBlobCallback"),{currentImage:R}=this.getPluginState();this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(E,R.type,this.opts.quality)},this.storeCropperInstance=E=>{this.cropper=E},this.selectFile=E=>{this.uppy.emit("file-editor:start",E),this.setPluginState({currentImage:E})},this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=z9;let c={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},p={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},_={quality:.8};this.opts={..._,...o,actions:{...p,...o.actions},cropperOptions:{...c,...o.cropperOptions}},this.i18nInit()}canEditFile(r){if(!r.type||r.isRemote)return!1;let o=r.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(o)}install(){this.setPluginState({currentImage:null});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){let{currentImage:r}=this.getPluginState();if(r){let o=this.uppy.getFile(r.id);this.uppy.emit("file-editor:cancel",o)}this.unmount()}render(){let{currentImage:r}=this.getPluginState();return r===null||r.isRemote?null:U(HE,{currentImage:r,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}};a(r_,"ImageEditor"),r_.VERSION=U9.version;var H9={version:"3.0.1"},s_=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";let c={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...c,...o},this.render=this.render.bind(this)}render(r){let o=r.totalProgress||0,c=(o===0||o===100)&&this.opts.hideAfterFinish;return U("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":c},U("div",{className:"uppy-ProgressBar-inner",style:{width:`${o}%`}}),U("div",{className:"uppy-ProgressBar-percentage"},o))}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(s_,"ProgressBar"),s_.VERSION=H9.version;var W9={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function Yl(r){return[r]=r.split(";",1),W9[r]||null}a(Yl,"getFileTypeExtension");function WE(){var r;return typeof MediaRecorder=="function"&&typeof((r=MediaRecorder.prototype)==null?void 0:r.start)=="function"}a(WE,"supportsMediaRecorder");var n_,Ys,a_,jE,o_=0,qE=[],tg=[],$E=Rt.__b,VE=Rt.__r,YE=Rt.diffed,GE=Rt.__c,XE=Rt.unmount;function l_(r,o){Rt.__h&&Rt.__h(Ys,r,o_||o),o_=0;var c=Ys.__H||(Ys.__H={__:[],__h:[]});return r>=c.__.length&&c.__.push({__V:tg}),c.__[r]}a(l_,"p");function c_(r,o){var c=l_(n_++,3);!Rt.__s&&u_(c.__H,o)&&(c.__=r,c.u=o,Ys.__H.__h.push(c))}a(c_,"_");function h_(r){return o_=5,KE(function(){return{current:r}},[])}a(h_,"s");function KE(r,o){var c=l_(n_++,7);return u_(c.__H,o)?(c.__V=r(),c.u=o,c.__h=r,c.__V):c.__}a(KE,"F");function ZE(){for(var r;r=qE.shift();)if(r.__P)try{r.__H.__h.forEach(wd),r.__H.__h.forEach(ig),r.__H.__h=[]}catch(o){r.__H.__h=[],Rt.__e(o,r.__v)}}a(ZE,"b"),Rt.__b=function(r){Ys=null,$E&&$E(r)},Rt.__r=function(r){VE&&VE(r),n_=0;var o=(Ys=r.__c).__H;o&&(a_===Ys?(o.__h=[],Ys.__h=[],o.__.forEach(function(c){c.__V=tg,c.u=void 0})):(o.__h.forEach(wd),o.__h.forEach(ig),o.__h=[])),a_=Ys},Rt.diffed=function(r){YE&&YE(r);var o=r.__c;o&&o.__H&&(o.__H.__h.length&&(qE.push(o)!==1&&jE===Rt.requestAnimationFrame||((jE=Rt.requestAnimationFrame)||function(c){var p,_=a(function(){clearTimeout(E),QE&&cancelAnimationFrame(p),setTimeout(c)},"u"),E=setTimeout(_,100);QE&&(p=requestAnimationFrame(_))})(ZE)),o.__H.__.forEach(function(c){c.u&&(c.__H=c.u),c.__V!==tg&&(c.__=c.__V),c.u=void 0,c.__V=tg})),a_=Ys=null},Rt.__c=function(r,o){o.some(function(c){try{c.__h.forEach(wd),c.__h=c.__h.filter(function(p){return!p.__||ig(p)})}catch(p){o.some(function(_){_.__h&&(_.__h=[])}),o=[],Rt.__e(p,c.__v)}}),GE&&GE(r,o)},Rt.unmount=function(r){XE&&XE(r);var o,c=r.__c;c&&c.__H&&(c.__H.__.forEach(function(p){try{wd(p)}catch(_){o=_}}),o&&Rt.__e(o,c.__v))};var QE=typeof requestAnimationFrame=="function";function wd(r){var o=Ys,c=r.__c;typeof c=="function"&&(r.__c=void 0,c()),Ys=o}a(wd,"j");function ig(r){var o=Ys;r.__c=r.__(),Ys=o}a(ig,"k");function u_(r,o){return!r||r.length!==o.length||o.some(function(c,p){return c!==r[p]})}a(u_,"w");function JE(r){let{recording:o,onStartRecording:c,onStopRecording:p,i18n:_}=r;return o?U("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:_("stopAudioRecording"),"aria-label":_("stopAudioRecording"),onClick:p,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},U("rect",{x:"15",y:"15",width:"70",height:"70"}))):U("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:_("startAudioRecording"),"aria-label":_("startAudioRecording"),onClick:c,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},U("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}a(JE,"RecordButton");function eO(r){return`${Math.floor(r/60)}:${String(r%60).padStart(2,0)}`}a(eO,"formatSeconds");function tO(r){let{recordingLengthSeconds:o,i18n:c}=r,p=eO(o);return U("span",{"aria-label":c("recordingLength",{recording_length:p})},p)}a(tO,"RecordingLength");var j9=a(r=>{let{currentDeviceId:o,audioSources:c,onChangeSource:p}=r;return U("div",{className:"uppy-Audio-videoSource"},U("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:_=>{p(_.target.value)}},c.map(_=>U("option",{key:_.deviceId,value:_.deviceId,selected:_.deviceId===o},_.label))))},"default");function iO(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(iO,"_classPrivateFieldLooseBase");var q9=0;function rO(r){return"__private_"+q9+++"_"+r}a(rO,"_classPrivateFieldLooseKey");function d_(r){return typeof r=="function"}a(d_,"isFunction");function Dh(r){return d_(r)?r():r}a(Dh,"result");var f_=rO("draw"),sO=class{constructor(r,o){o===void 0&&(o={}),Object.defineProperty(this,f_,{writable:!0,value:()=>this.draw()});let c=o.canvas||{},p=o.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=r,this.width=Dh(c.width)||this.canvas.width,this.height=Dh(c.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=Dh(p.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=Dh(p.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=Dh(p.lineWidth)||1,this.onDrawFrame=d_(o.onDrawFrame)?o.onDrawFrame:()=>{}}addSource(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}draw(){let{analyser:r,dataArray:o,bufferLength:c}=this,p=this.canvasContext,_=this.width,E=this.height;r&&r.getByteTimeDomainData(o),p.fillRect(0,0,_,E),p.beginPath();let R=_*1/c,B=0;c||p.moveTo(0,this.height/2);for(let q=0;q<c;q++){let J=o[q]/128*(E/2);q===0?p.moveTo(B,J):p.lineTo(B,J),B+=R}p.lineTo(_,E/2),p.stroke(),this.onDrawFrame(this),requestAnimationFrame(iO(this,f_)[f_])}};a(sO,"AudioOscilloscope");function nO(r){let{onSubmit:o,i18n:c}=r;return U("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:c("submitRecordedFile"),"aria-label":c("submitRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},U("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},U("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}a(nO,"SubmitButton");var $9=nO;function aO(r){let{onDiscard:o,i18n:c}=r;return U("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:c("discardRecordedFile"),"aria-label":c("discardRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},U("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},U("g",{fill:"#FFF",fillRule:"evenodd"},U("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),U("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}a(aO,"DiscardButton");var V9=aO;function oO(r){let{stream:o,recordedAudio:c,onStop:p,recording:_,supportsRecording:E,audioSources:R,showAudioSourceDropdown:B,onSubmit:q,i18n:J,onStartRecording:V,onStopRecording:ie,onDiscardRecordedAudio:se,recordingLengthSeconds:de}=r,we=h_(null),at=h_(null);c_(()=>()=>{at.current=null,p()},[p]),c_(()=>{if(!c&&(at.current=new sO(we.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),at.current.draw(),o)){let xt=new AudioContext().createMediaStreamSource(o);at.current.addSource(xt)}},[c,o]);let Ge=c!=null,mt=!Ge&&E,qt=B&&!Ge&&R&&R.length>1;return U("div",{className:"uppy-Audio-container"},U("div",{className:"uppy-Audio-audioContainer"},Ge?U("audio",{className:"uppy-Audio-player",controls:!0,src:c}):U("canvas",{ref:we,className:"uppy-Audio-canvas"})),U("div",{className:"uppy-Audio-footer"},U("div",{className:"uppy-Audio-audioSourceContainer"},qt?j9(r):null),U("div",{className:"uppy-Audio-buttonContainer"},mt&&U(JE,{recording:_,onStartRecording:V,onStopRecording:ie,i18n:J}),Ge&&U($9,{onSubmit:q,i18n:J}),Ge&&U(V9,{onDiscard:se,i18n:J})),U("div",{className:"uppy-Audio-recordingLength"},!Ge&&U(tO,{recordingLengthSeconds:de,i18n:J}))))}a(oO,"RecordingScreen");var Y9=a(r=>{let{icon:o,hasAudio:c,i18n:p}=r;return U("div",{className:"uppy-Audio-permissons"},U("div",{className:"uppy-Audio-permissonsIcon"},o()),U("h1",{className:"uppy-Audio-title"},p(c?"allowAudioAccessTitle":"noAudioTitle")),U("p",null,p(c?"allowAudioAccessDescription":"noAudioDescription")))},"default"),G9={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function rg(){return rg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},rg.apply(this,arguments)}a(rg,"_extends");function _t(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(_t,"_classPrivateFieldLooseBase");var X9=0;function Xr(r){return"__private_"+X9+++"_"+r}a(Xr,"_classPrivateFieldLooseKey");var K9={version:"1.0.2"},ts=Xr("stream"),co=Xr("audioActive"),ur=Xr("recordingChunks"),dr=Xr("recorder"),ho=Xr("capturedMediaFile"),is=Xr("mediaDevices"),xd=Xr("supportsUserMedia"),p_=Xr("hasAudioCheck"),Gl=Xr("start"),m_=Xr("startRecording"),kd=Xr("stopRecording"),g_=Xr("discardRecordedAudio"),y_=Xr("submit"),uo=Xr("stop"),v_=Xr("getAudio"),b_=Xr("changeSource"),Xl=Xr("updateSources"),__=class extends vr{constructor(r,o){var c;super(r,o),c=this,Object.defineProperty(this,v_,{value:cO}),Object.defineProperty(this,p_,{value:lO}),Object.defineProperty(this,ts,{writable:!0,value:null}),Object.defineProperty(this,co,{writable:!0,value:!1}),Object.defineProperty(this,ur,{writable:!0,value:null}),Object.defineProperty(this,dr,{writable:!0,value:null}),Object.defineProperty(this,ho,{writable:!0,value:null}),Object.defineProperty(this,is,{writable:!0,value:null}),Object.defineProperty(this,xd,{writable:!0,value:null}),Object.defineProperty(this,Gl,{writable:!0,value:function(p){if(p===void 0&&(p=null),!_t(c,xd)[xd])return Promise.reject(new Error("Microphone access not supported"));_t(c,co)[co]=!0,_t(c,p_)[p_]().then(_=>(c.setPluginState({hasAudio:_}),_t(c,is)[is].getUserMedia({audio:!0}).then(E=>{_t(c,ts)[ts]=E;let R=null,B=E.getAudioTracks();!p||!p.deviceId?R=B[0].getSettings().deviceId:B.forEach(q=>{q.getSettings().deviceId===p.deviceId&&(R=q.getSettings().deviceId)}),_t(c,Xl)[Xl](),c.setPluginState({currentDeviceId:R,audioReady:!0})}).catch(E=>{c.setPluginState({audioReady:!1,cameraError:E}),c.uppy.info(E.message,"error")})))}}),Object.defineProperty(this,m_,{writable:!0,value:()=>{_t(this,dr)[dr]=new MediaRecorder(_t(this,ts)[ts]),_t(this,ur)[ur]=[];let p=!1;_t(this,dr)[dr].addEventListener("dataavailable",_=>{_t(this,ur)[ur].push(_.data);let{restrictions:E}=this.uppy.opts;if(_t(this,ur)[ur].length>1&&E.maxFileSize!=null&&!p){let R=_t(this,ur)[ur].reduce((J,V)=>J+V.size,0),B=(R-_t(this,ur)[ur][0].size)/(_t(this,ur)[ur].length-1)*3,q=Math.max(0,E.maxFileSize-B);R>q&&(p=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),_t(this,kd)[kd]())}}),_t(this,dr)[dr].start(500),this.recordingLengthTimer=setInterval(()=>{let _=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:_+1})},1e3),this.setPluginState({isRecording:!0})}}),Object.defineProperty(this,kd,{writable:!0,value:()=>new Promise(p=>{_t(this,dr)[dr].addEventListener("stop",()=>{p()}),_t(this,dr)[dr].stop(),clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0})}).then(()=>(this.setPluginState({isRecording:!1}),_t(this,v_)[v_]())).then(p=>{try{_t(this,ho)[ho]=p,this.setPluginState({recordedAudio:URL.createObjectURL(p.data)})}catch(_){_.isRestriction||this.uppy.log(_)}}).then(()=>{_t(this,ur)[ur]=null,_t(this,dr)[dr]=null},p=>{throw _t(this,ur)[ur]=null,_t(this,dr)[dr]=null,p})}),Object.defineProperty(this,g_,{writable:!0,value:()=>{this.setPluginState({recordedAudio:null}),_t(this,ho)[ho]=null}}),Object.defineProperty(this,y_,{writable:!0,value:()=>{try{_t(this,ho)[ho]&&this.uppy.addFile(_t(this,ho)[ho])}catch(p){p.isRestriction||this.uppy.log(p,"error")}}}),Object.defineProperty(this,uo,{writable:!0,value:async()=>{_t(this,ts)[ts]&&_t(this,ts)[ts].getAudioTracks().forEach(p=>p.stop()),_t(this,dr)[dr]&&await new Promise(p=>{_t(this,dr)[dr].addEventListener("stop",p,{once:!0}),_t(this,dr)[dr].stop(),clearInterval(this.recordingLengthTimer)}),_t(this,ur)[ur]=null,_t(this,dr)[dr]=null,_t(this,co)[co]=!1,_t(this,ts)[ts]=null,this.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0})}}),Object.defineProperty(this,b_,{writable:!0,value:p=>{_t(this,uo)[uo](),_t(this,Gl)[Gl]({deviceId:p})}}),Object.defineProperty(this,Xl,{writable:!0,value:()=>{_t(this,is)[is].enumerateDevices().then(p=>{this.setPluginState({audioSources:p.filter(_=>_.kind==="audioinput")})})}}),_t(this,is)[is]=navigator.mediaDevices,_t(this,xd)[xd]=_t(this,is)[is]!=null,this.id=this.opts.id||"Audio",this.type="acquirer",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},U("g",{fill:"none","fill-rule":"evenodd"},U("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),U("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"}))),this.defaultLocale=G9,this.opts={...o},this.i18nInit(),this.title=this.i18n("pluginNameAudio"),this.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null})}render(){_t(this,co)[co]||_t(this,Gl)[Gl]();let r=this.getPluginState();return!r.audioReady||!r.hasAudio?U(Y9,{icon:this.icon,i18n:this.i18n,hasAudio:r.hasAudio}):U(oO,rg({},r,{audioActive:_t(this,co)[co],onChangeSource:_t(this,b_)[b_],onStartRecording:_t(this,m_)[m_],onStopRecording:_t(this,kd)[kd],onDiscardRecordedAudio:_t(this,g_)[g_],onSubmit:_t(this,y_)[y_],onStop:_t(this,uo)[uo],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:WE(),recording:r.isRecording,stream:_t(this,ts)[ts]}))}install(){this.setPluginState({audioReady:!1,recordingLengthSeconds:0});let{target:r}=this.opts;r&&this.mount(r,this),_t(this,is)[is]&&(_t(this,Xl)[Xl](),_t(this,is)[is].ondevicechange=()=>{if(_t(this,Xl)[Xl](),_t(this,ts)[ts]){let o=!0,{audioSources:c,currentDeviceId:p}=this.getPluginState();c.forEach(_=>{p===_.deviceId&&(o=!1)}),o&&(_t(this,uo)[uo](),_t(this,Gl)[Gl]())}})}uninstall(){_t(this,ts)[ts]&&_t(this,uo)[uo](),this.unmount()}};a(__,"Audio");function lO(){return _t(this,is)[is]?_t(this,is)[is].enumerateDevices().then(r=>r.some(o=>o.kind==="audioinput")):Promise.resolve(!1)}a(lO,"_hasAudioCheck2");function cO(){let r=_t(this,ur)[ur].find(E=>{var R;return((R=E.type)==null?void 0:R.length)>0}).type,o=Yl(r);if(!o)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`audio-${Date.now()}.${o}`,p=new Blob(_t(this,ur)[ur],{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}a(cO,"_getAudio2"),__.VERSION=K9.version;var Z9={strings:{pluginNameBox:"Box"}},Q9={version:"2.0.1"},sg=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"Box",br.initPlugin(this,o),this.title=this.opts.title||"Box",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),U("g",{fill:"#fff",fillRule:"nonzero"},U("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),U("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"})))),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"box",pluginId:this.id}),this.defaultLocale=Z9,this.i18nInit(),this.title=this.i18n("pluginNameBox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Jn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return this.view.getFolder()}render(r){return this.view.render(r)}};a(sg,"Box"),sg.VERSION=Q9.version;var J9={strings:{pluginNameDropbox:"Dropbox"}},eU={version:"3.0.1"},ng=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"Dropbox",br.initPlugin(this,o),this.title=this.opts.title||"Dropbox",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),U("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"dropbox",pluginId:this.id}),this.defaultLocale=J9,this.i18nInit(),this.title=this.i18n("pluginNameDropbox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Jn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};a(ng,"Dropbox"),ng.VERSION=eU.version;var tU={strings:{pluginNameFacebook:"Facebook"}},iU={version:"3.0.1"},ag=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"Facebook",br.initPlugin(this,o),this.title=this.opts.title||"Facebook",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),U("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"facebook",pluginId:this.id}),this.defaultLocale=tU,this.i18nInit(),this.title=this.i18n("pluginNameFacebook"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Jn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){let o={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(o.viewType="grid",o.showFilter=!1,o.showTitles=!1),this.view.render(r,o)}};a(ag,"Facebook"),ag.VERSION=iU.version;var hO=class extends Jn{toggleCheckbox(r,o){r.stopPropagation(),r.preventDefault(),o.custom.isSharedDrive||super.toggleCheckbox(r,o)}};a(hO,"DriveProviderViews");var rU={strings:{pluginNameGoogleDrive:"Google Drive"}},sU={version:"3.0.1"},og=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"GoogleDrive",this.title=this.opts.title||"Google Drive",br.initPlugin(this,o),this.title=this.opts.title||"Google Drive",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),U("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"}))),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"drive",pluginId:this.id}),this.defaultLocale=rU,this.i18nInit(),this.title=this.i18n("pluginNameGoogleDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new hO(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}render(r){return this.view.render(r)}};a(og,"GoogleDrive"),og.VERSION=sU.version;var nU={strings:{pluginNameInstagram:"Instagram"}},aU={version:"3.0.1"},lg=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"Instagram",br.initPlugin(this,o),this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),U("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"}))),this.defaultLocale=nU,this.i18nInit(),this.title=this.i18n("pluginNameInstagram"),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"instagram",pluginId:this.id}),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Jn(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}render(r){return this.view.render(r)}};a(lg,"Instagram"),lg.VERSION=aU.version;var oU={strings:{pluginNameOneDrive:"OneDrive"}},lU={version:"3.0.1"},cg=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"OneDrive",br.initPlugin(this,o),this.title=this.opts.title||"OneDrive",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),U("g",{fill:"#FFF",fillRule:"nonzero"},U("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),U("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"})))),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"onedrive",pluginId:this.id}),this.defaultLocale=oU,this.i18nInit(),this.title=this.i18n("pluginNameOneDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Jn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};a(cg,"OneDrive"),cg.VERSION=lU.version;var cU={version:"3.0.1"},hg=class extends vr{constructor(r,o){if(super(r,o),this.id=this.opts.id||"Unsplash",this.title=this.opts.title||"Unsplash",br.initPlugin(this,o,{}),this.icon=()=>U("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},U("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),U("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),U("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"})),!this.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.hostname=this.opts.companionUrl,this.provider=new n0(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"unsplash",pluginId:this.id})}install(){this.view=new Cm(this,{provider:this.provider,viewType:"unsplash"});let{target:r}=this.opts;r&&this.mount(r,this)}onFirstRender(){}render(r){return this.view.render(r)}uninstall(){this.unmount()}};a(hg,"Unsplash"),hg.VERSION=cU.version;function ug(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ug,"_classPrivateFieldLooseBase");var hU=0;function w_(r){return"__private_"+hU+++"_"+r}a(w_,"_classPrivateFieldLooseKey");var x_=w_("handleKeyPress"),Sd=w_("handleSubmit"),uO=class extends zr{constructor(){super(...arguments),Object.defineProperty(this,x_,{writable:!0,value:r=>{r.keyCode===13&&ug(this,Sd)[Sd]()}}),Object.defineProperty(this,Sd,{writable:!0,value:()=>{let{addFile:r}=this.props,o=this.input.value.trim();r(o)}})}componentDidMount(){this.input.value=""}render(){let{i18n:r}=this.props;return U("div",{className:"uppy-Url"},U("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":r("enterUrlToImport"),placeholder:r("enterUrlToImport"),onKeyUp:ug(this,x_)[x_],ref:o=>{this.input=o},"data-uppy-super-focusable":!0}),U("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:ug(this,Sd)[Sd]},r("import")))}};a(uO,"UrlUI");var uU=uO;function k_(r,o,c){let p=ra(r.items),_;switch(o){case"paste":{if(p.some(E=>E.kind==="file"))return;_=p.filter(E=>E.kind==="string"&&E.type==="text/plain");break}case"drop":{_=p.filter(E=>E.kind==="string"&&E.type==="text/uri-list");break}default:throw new Error(`isDropOrPaste must be either 'drop' or 'paste', but it's ${o}`)}_.forEach(E=>{E.getAsString(R=>c(R))})}a(k_,"forEachDroppedOrPastedUrl");var dU={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure its correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}},fU={version:"3.1.0"};function dO(){return U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),U("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}a(dO,"UrlIcon");function fO(r){return/^[a-z0-9]+:\/\//.test(r)?r:"http://"+r}a(fO,"addProtocolToURL");function pO(r){return ra(r.dataTransfer.items).filter(o=>o.kind==="string"&&o.type==="text/uri-list").length>0}a(pO,"canHandleRootDrop");function mO(r){if(!r)return!1;let o=r.match(/^([a-z0-9]+):\/\//)[1];return!(o!=="http"&&o!=="https")}a(mO,"checkIfCorrectURL");function gO(r){let{pathname:o}=new URL(r);return o.substring(o.lastIndexOf("/")+1)}a(gO,"getFileNameFromUrl");var Td=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"Url",this.title=this.opts.title||"Link",this.type="acquirer",this.icon=()=>U(dO,null),this.defaultLocale=dU;let c={};if(this.opts={...c,...o},this.i18nInit(),this.hostname=this.opts.companionUrl,!this.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.getMeta=this.getMeta.bind(this),this.addFile=this.addFile.bind(this),this.handleRootDrop=this.handleRootDrop.bind(this),this.handleRootPaste=this.handleRootPaste.bind(this),this.client=new cn(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule})}getMeta(r){return this.client.post("url/meta",{url:r}).then(o=>{if(o.error)throw this.uppy.log("[URL] Error:"),this.uppy.log(o.error),new Error("Failed to fetch the file");return o})}async addFile(r,o){o===void 0&&(o=void 0);let c=fO(r);if(!mO(c)){this.uppy.log(`[URL] Incorrect URL entered: ${c}`),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);return}try{let p=await this.getMeta(c),_={meta:o,source:this.id,name:gO(c),type:p.type,data:{size:p.size},isRemote:!0,body:{url:c},remote:{companionUrl:this.opts.companionUrl,url:`${this.hostname}/url/get`,body:{fileId:c,url:c},providerOptions:this.client.opts}};this.uppy.log("[Url] Adding remote file");try{return this.uppy.addFile(_)}catch(E){return E.isRestriction||this.uppy.log(E),E}}catch(p){return this.uppy.log(p),this.uppy.info({message:this.i18n("failedToFetch"),details:p},"error",4e3),p}}handleRootDrop(r){k_(r.dataTransfer,"drop",o=>{this.uppy.log(`[URL] Adding file from dropped url: ${o}`),this.addFile(o)})}handleRootPaste(r){k_(r.clipboardData,"paste",o=>{this.uppy.log(`[URL] Adding file from pasted url: ${o}`),this.addFile(o)})}render(){return U(uU,{i18n:this.i18n,addFile:this.addFile})}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};a(Td,"Url"),Td.VERSION=fU.version,Td.prototype.canHandleRootDrop=pO;var pU={strings:{pluginNameZoom:"Zoom"}},mU={version:"2.0.1"},dg=class extends vr{constructor(r,o){super(r,o),this.id=this.opts.id||"Zoom",br.initPlugin(this,o),this.title=this.opts.title||"Zoom",this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),U("g",{fill:"none",fillRule:"evenodd"},U("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),U("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}}))),this.provider=new br(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"zoom",pluginId:this.id}),this.defaultLocale=pU,this.i18nInit(),this.title=this.i18n("pluginNameZoom"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Jn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};a(dg,"Zoom"),dg.VERSION=mU.version;function fg(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(fg,"_classPrivateFieldLooseBase");var gU=0;function yO(r){return"__private_"+gU+++"_"+r}a(yO,"_classPrivateFieldLooseKey");var yU={version:"1.0.2"},S_={__proto__:null,Box:sg,Dropbox:ng,Facebook:ag,GoogleDrive:og,Instagram:lg,OneDrive:cg,Unsplash:hg,Url:Td,Zoom:dg},Kl=yO("installedPlugins"),T_=class extends On{constructor(r,o){super(r,o),Object.defineProperty(this,Kl,{writable:!0,value:new Set}),this.id=this.opts.id||"RemoteSources",this.type="acquirer";let c={sources:Object.keys(S_),target:Qm};if(this.opts={...c,...o},this.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl")}setOptions(r){this.uninstall(),super.setOptions(r),this.install()}install(){this.opts.sources.forEach(r=>{let o={...this.opts,sources:void 0},c=S_[r];if(c==null){let p=Object.keys(S_),_=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error(`Invalid plugin: "${r}" is not one of: ${_.format(p)}.`)}this.uppy.use(c,o),fg(this,Kl)[Kl].add(this.uppy.getPlugin(r))})}uninstall(){for(let r of fg(this,Kl)[Kl])this.uppy.removePlugin(r);fg(this,Kl)[Kl].clear()}};a(T_,"RemoteSources"),T_.VERSION=yU.version;var vU=a(()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),U("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),U("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"}))),"default");function vO(r){let{recording:o,onStartRecording:c,onStopRecording:p,i18n:_}=r;return o?U("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:_("stopCapturing"),"aria-label":_("stopCapturing"),onClick:p,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},U("rect",{x:"15",y:"15",width:"70",height:"70"}))):U("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:_("startCapturing"),"aria-label":_("startCapturing"),onClick:c,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},U("circle",{cx:"50",cy:"50",r:"40"})))}a(vO,"RecordButton");function bO(r){let{recording:o,recordedVideo:c,onSubmit:p,i18n:_}=r;return c&&!o?U("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:_("submitRecordedFile"),"aria-label":_("submitRecordedFile"),onClick:p,"data-uppy-super-focusable":!0},U("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},U("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}a(bO,"SubmitButton");var _O=class extends zr{constructor(r){super(r),this.state={elapsedTime:0},this.wrapperStyle={width:"100%",height:"100%",display:"flex"},this.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},this.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},this.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},this.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"}}startTimer(){this.timerTick(),this.timerRunning=!0}resetTimer(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}timerTick(){this.timer=setTimeout(()=>{this.setState(r=>({elapsedTime:r.elapsedTime+1})),this.timerTick()},1e3)}fmtMSS(r){return(r-(r%=60))/60+(r>9?":":":0")+r}render(){let{recording:r,i18n:o}={...this.props},{elapsedTime:c}=this.state,p=this.fmtMSS(c);return r&&!this.timerRunning&&this.startTimer(),!r&&this.timerRunning&&this.resetTimer(),r?U("div",{style:this.wrapperStyle},U("div",{style:this.overlayStyle}),U("div",{style:this.infoContainerStyle},U("div",{style:this.infotextStyle},o("recording")),U("div",{style:this.timeStyle},p))):null}};a(_O,"StopWatch");var bU=_O,_U=a(r=>{let{streamActive:o,i18n:c}=r;return o?U("div",{title:c("streamActive"),"aria-label":c("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},U("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),U("path",{d:"M0 0h24v24H0z",fill:"none"}),U("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):U("div",{title:c("streamPassive"),"aria-label":c("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},U("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},U("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),U("path",{d:"M0 0h24v24H0z",fill:"none"}),U("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},"default");function pg(){return pg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},pg.apply(this,arguments)}a(pg,"_extends");var wO=class extends zr{componentWillUnmount(){let{onStop:r}=this.props;r()}render(){let{recording:r,stream:o,recordedVideo:c}=this.props,p={playsinline:!0};return(r||!c&&!r)&&(p.muted=!0,p.autoplay=!0,p.srcObject=o),c&&!r&&(p.muted=!1,p.controls=!0,p.src=c,this.videoElement&&(this.videoElement.srcObject=void 0)),U("div",{className:"uppy uppy-ScreenCapture-container"},U("div",{className:"uppy-ScreenCapture-videoContainer"},U(_U,this.props),U("video",pg({ref:_=>{this.videoElement=_},className:"uppy-ScreenCapture-video"},p)),U(bU,this.props)),U("div",{className:"uppy-ScreenCapture-buttonContainer"},U(vO,this.props),U(bO,this.props)))}};a(wO,"RecorderScreen");var wU=wO,xU={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function mg(){return mg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},mg.apply(this,arguments)}a(mg,"_extends");var kU={version:"3.0.1"};function xO(){var r;return window.MediaRecorder&&((r=navigator.mediaDevices)==null?void 0:r.getDisplayMedia)}a(xO,"isScreenRecordingSupported");function kO(){return window.MediaRecorder&&navigator.mediaDevices}a(kO,"getMediaDevices");var C_=class extends vr{constructor(r,o){super(r,o),this.mediaDevices=kO(),this.protocol=location.protocol==="https:"?"https":"http",this.id=this.opts.id||"ScreenCapture",this.title=this.opts.title||"Screencast",this.type="acquirer",this.icon=vU,this.defaultLocale=xU;let c={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};this.opts={...c,...o},this.i18nInit(),this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.submit=this.submit.bind(this),this.streamInterrupted=this.streamInactivated.bind(this),this.captureActive=!1,this.capturedMediaFile=null}install(){if(!xO())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.videoStream&&this.stop(),this.unmount()}start(){return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(r=>{r===!1&&this.parent&&this.parent.hideAllPanels&&(this.parent.hideAllPanels(),this.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))}selectVideoStreamSource(){return this.videoStream?new Promise(r=>r(this.videoStream)):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(r=>(this.videoStream=r,this.videoStream.addEventListener("inactive",()=>{this.streamInactivated()}),this.setPluginState({streamActive:!0}),r)).catch(r=>(this.setPluginState({screenRecError:r}),this.userDenied=!0,setTimeout(()=>{this.userDenied=!1},1e3),!1))}selectAudioStreamSource(){return this.audioStream?new Promise(r=>r(this.audioStream)):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(r=>(this.audioStream=r,this.setPluginState({audioStreamActive:!0}),r)).catch(r=>(r.name==="NotAllowedError"&&this.uppy.info(this.i18n("micDisabled"),"error",5e3),!1))}startRecording(){let r={};this.capturedMediaFile=null,this.recordingChunks=[];let{preferredVideoMimeType:o}=this.opts;this.selectVideoStreamSource().then(c=>{o&&MediaRecorder.isTypeSupported(o)&&Yl(o)&&(r.mimeType=o);let p=[c.getVideoTracks()[0]];this.audioStream&&p.push(this.audioStream.getAudioTracks()[0]),this.outputStream=new MediaStream(p),this.recorder=new MediaRecorder(this.outputStream,r),this.recorder.addEventListener("dataavailable",_=>{this.recordingChunks.push(_.data)}),this.recorder.start(),this.setPluginState({recording:!0})}).catch(c=>{this.uppy.log(c,"error")})}streamInactivated(){let{recordedVideo:r,recording:o}={...this.getPluginState()};!r&&!o?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():o&&(this.uppy.log("Capture stream inactive  stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}stopRecording(){return new Promise(r=>{this.recorder.addEventListener("stop",()=>{r()}),this.recorder.stop()}).then(()=>(this.setPluginState({recording:!1}),this.getVideo())).then(r=>{this.capturedMediaFile=r,this.setPluginState({recordedVideo:URL.createObjectURL(r.data)})}).then(()=>{this.recordingChunks=null,this.recorder=null},r=>{throw this.recordingChunks=null,this.recorder=null,r})}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(r){r.isRestriction||this.uppy.log(r,"error")}}stop(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(r=>{r.stop()}),this.videoStream.getAudioTracks().forEach(r=>{r.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(r=>{r.stop()}),this.audioStream.getVideoTracks().forEach(r=>{r.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(r=>{r.stop()}),this.outputStream.getVideoTracks().forEach(r=>{r.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}getVideo(){let r=this.recordingChunks[0].type,o=Yl(r);if(!o)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`screencap-${Date.now()}.${o}`,p=new Blob(this.recordingChunks,{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}render(){let r=this.getPluginState();return!r.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),U(wU,mg({},r,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}};a(C_,"ScreenCapture"),C_.VERSION=kU.version;var SU=g(k(),1);function SO(r,o,c){return new Promise(p=>{r.toBlob(p,o,c)})}a(SO,"canvasToBlob");function TO(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}a(TO,"supportsMediaRecorder");var CO=a(()=>U("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},U("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"})),"default"),TU=a(r=>{let{onSnapshot:o,i18n:c}=r;return U("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:c("takePicture"),"aria-label":c("takePicture"),onClick:o,"data-uppy-super-focusable":!0},CO())},"default");function EO(r){let{recording:o,onStartRecording:c,onStopRecording:p,i18n:_}=r;return o?U("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:_("stopRecording"),"aria-label":_("stopRecording"),onClick:p,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},U("rect",{x:"15",y:"15",width:"70",height:"70"}))):U("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:_("startRecording"),"aria-label":_("startRecording"),onClick:c,"data-uppy-super-focusable":!0},U("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},U("circle",{cx:"50",cy:"50",r:"40"})))}a(EO,"RecordButton");function OO(r){return`${Math.floor(r/60)}:${String(r%60).padStart(2,0)}`}a(OO,"formatSeconds");function MO(r){let{recordingLengthSeconds:o,i18n:c}=r,p=OO(o);return U("span",{"aria-label":c("recordingLength",{recording_length:p})},p)}a(MO,"RecordingLength");var CU=a(r=>{let{currentDeviceId:o,videoSources:c,onChangeVideoSource:p}=r;return U("div",{className:"uppy-Webcam-videoSource"},U("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:_=>{p(_.target.value)}},c.map(_=>U("option",{key:_.deviceId,value:_.deviceId,selected:_.deviceId===o},_.label))))},"default");function AO(r){let{onSubmit:o,i18n:c}=r;return U("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:c("submitRecordedFile"),"aria-label":c("submitRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},U("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},U("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}a(AO,"SubmitButton");var EU=AO;function PO(r){let{onDiscard:o,i18n:c}=r;return U("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:c("discardRecordedFile"),"aria-label":c("discardRecordedFile"),onClick:o,"data-uppy-super-focusable":!0},U("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},U("g",{fill:"#FFF",fillRule:"evenodd"},U("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),U("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}a(PO,"DiscardButton");var OU=PO;function gg(){return gg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},gg.apply(this,arguments)}a(gg,"_extends");function Cd(r,o){return r.includes(o)}a(Cd,"isModeAvailable");var DO=class extends zr{componentDidMount(){let{onFocus:r}=this.props;r()}componentWillUnmount(){let{onStop:r}=this.props;r()}render(){let{src:r,recordedVideo:o,recording:c,modes:p,supportsRecording:_,videoSources:E,showVideoSourceDropdown:R,showRecordingLength:B,onSubmit:q,i18n:J,mirror:V,onSnapshot:ie,onStartRecording:se,onStopRecording:de,onDiscardRecordedVideo:we,recordingLengthSeconds:at}=this.props,Ge=!!o,mt=!Ge&&_&&(Cd(p,"video-only")||Cd(p,"audio-only")||Cd(p,"video-audio")),qt=!Ge&&Cd(p,"picture"),xt=_&&B&&!Ge,ze=R&&E&&E.length>1,We={playsinline:!0};return o?(We.muted=!1,We.controls=!0,We.src=o,this.videoElement&&(this.videoElement.srcObject=void 0)):(We.muted=!0,We.autoplay=!0,We.srcObject=r),U("div",{className:"uppy uppy-Webcam-container"},U("div",{className:"uppy-Webcam-videoContainer"},U("video",gg({ref:He=>this.videoElement=He,className:`uppy-Webcam-video  ${V?"uppy-Webcam-video--mirrored":""}`},We))),U("div",{className:"uppy-Webcam-footer"},U("div",{className:"uppy-Webcam-videoSourceContainer"},ze?CU(this.props):null),U("div",{className:"uppy-Webcam-buttonContainer"},qt&&U(TU,{onSnapshot:ie,i18n:J}),mt&&U(EO,{recording:c,onStartRecording:se,onStopRecording:de,i18n:J}),Ge&&U(EU,{onSubmit:q,i18n:J}),Ge&&U(OU,{onDiscard:we,i18n:J})),U("div",{className:"uppy-Webcam-recordingLength"},xt&&U(MO,{recordingLengthSeconds:at,i18n:J}))))}};a(DO,"CameraScreen");var MU=DO,AU=a(r=>{let{icon:o,i18n:c,hasCamera:p}=r;return U("div",{className:"uppy-Webcam-permissons"},U("div",{className:"uppy-Webcam-permissonsIcon"},o()),U("h1",{className:"uppy-Webcam-title"},c(p?"allowAccessTitle":"noCameraTitle")),U("p",null,c(p?"allowAccessDescription":"noCameraDescription")))},"default"),PU={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function yg(){return yg=Object.assign?Object.assign.bind():function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},yg.apply(this,arguments)}a(yg,"_extends");function Lh(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Lh,"_classPrivateFieldLooseBase");var DU=0;function LO(r){return"__private_"+DU+++"_"+r}a(LO,"_classPrivateFieldLooseKey");var LU={version:"3.2.1"};function E_(r){return r[0]==="."?ri[r.slice(1)]:r}a(E_,"toMimeType");function RO(r){return/^video\/[^*]+$/.test(r)}a(RO,"isVideoMimeType");function FO(r){return/^image\/[^*]+$/.test(r)}a(FO,"isImageMimeType");function IO(){return navigator.mediaDevices}a(IO,"getMediaDevices");function vg(r,o){return r.includes(o)}a(vg,"isModeAvailable");var sa=LO("enableMirror"),O_=class extends vr{constructor(r,o){super(r,o),Object.defineProperty(this,sa,{writable:!0,value:void 0}),this.mediaDevices=IO(),this.supportsUserMedia=!!this.mediaDevices,this.protocol=location.protocol.match(/https/i)?"https":"http",this.id=this.opts.id||"Webcam",this.type="acquirer",this.capturedMediaFile=null,this.icon=()=>U("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},U("g",{fill:"none",fillRule:"evenodd"},U("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),U("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),this.defaultLocale=PU;let c={onBeforeSnapshot:()=>Promise.resolve(),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,SU.default)({tablet:!0})};this.opts={...c,...o},this.i18nInit(),this.title=this.i18n("pluginNameCamera"),Lh(this,sa)[sa]=this.opts.mirror,this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.takeSnapshot=this.takeSnapshot.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.discardRecordedVideo=this.discardRecordedVideo.bind(this),this.submit=this.submit.bind(this),this.oneTwoThreeSmile=this.oneTwoThreeSmile.bind(this),this.focus=this.focus.bind(this),this.changeVideoSource=this.changeVideoSource.bind(this),this.webcamActive=!1,this.opts.countdown&&(this.opts.onBeforeSnapshot=this.oneTwoThreeSmile),this.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null})}setOptions(r){super.setOptions({...r,videoConstraints:{...this.opts.videoConstraints,...r==null?void 0:r.videoConstraints}})}hasCameraCheck(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(r=>r.some(o=>o.kind==="videoinput")):Promise.resolve(!1)}isAudioOnly(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}getConstraints(r){r===void 0&&(r=null);let o=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,c=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),p={...this.opts.videoConstraints||{facingMode:this.opts.facingMode},...r?{deviceId:r,facingMode:null}:{}};return{audio:o,video:c?p:!1}}start(r){if(r===void 0&&(r=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(Lh(this,sa)[sa]=!0);let o=this.getConstraints(r&&r.deviceId?r.deviceId:null);this.hasCameraCheck().then(c=>(this.setPluginState({hasCamera:c}),this.mediaDevices.getUserMedia(o).then(p=>{this.stream=p;let _=null,E=this.isAudioOnly()?p.getAudioTracks():p.getVideoTracks();!r||!r.deviceId?_=E[0].getSettings().deviceId:E.forEach(R=>{R.getSettings().deviceId===r.deviceId&&(_=R.getSettings().deviceId)}),this.updateVideoSources(),this.setPluginState({currentDeviceId:_,cameraReady:!0})}).catch(p=>{this.setPluginState({cameraReady:!1,cameraError:p}),this.uppy.info(p.message,"error")})))}getMediaRecorderOptions(){let r={};if(MediaRecorder.isTypeSupported){let{restrictions:o}=this.uppy.opts,c=[];this.opts.preferredVideoMimeType?c=[this.opts.preferredVideoMimeType]:o.allowedFileTypes&&(c=o.allowedFileTypes.map(E_).filter(RO));let p=a(E=>MediaRecorder.isTypeSupported(E)&&Yl(E),"filterSupportedTypes"),_=c.filter(p);_.length>0&&(r.mimeType=_[0])}return r}startRecording(){this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];let r=!1;this.recorder.addEventListener("dataavailable",o=>{this.recordingChunks.push(o.data);let{restrictions:c}=this.uppy.opts;if(this.recordingChunks.length>1&&c.maxFileSize!=null&&!r){let p=this.recordingChunks.reduce((R,B)=>R+B.size,0),_=(p-this.recordingChunks[0].size)/(this.recordingChunks.length-1)*3,E=Math.max(0,c.maxFileSize-_);p>E&&(r=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),this.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(()=>{let o=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:o+1})},1e3)),this.setPluginState({isRecording:!0})}stopRecording(){return new Promise(r=>{this.recorder.addEventListener("stop",()=>{r()}),this.recorder.stop(),this.opts.showRecordingLength&&(clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0}))}).then(()=>(this.setPluginState({isRecording:!1}),this.getVideo())).then(r=>{try{this.capturedMediaFile=r,this.setPluginState({recordedVideo:URL.createObjectURL(r.data)}),Lh(this,sa)[sa]=!1}catch(o){o.isRestriction||this.uppy.log(o)}}).then(()=>{this.recordingChunks=null,this.recorder=null},r=>{throw this.recordingChunks=null,this.recorder=null,r})}discardRecordedVideo(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(Lh(this,sa)[sa]=!0),this.capturedMediaFile=null}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(r){r.isRestriction||this.uppy.log(r,"error")}}async stop(){if(this.stream){let r=this.stream.getAudioTracks(),o=this.stream.getVideoTracks();r.concat(o).forEach(c=>c.stop())}this.recorder&&await new Promise(r=>{this.recorder.addEventListener("stop",r,{once:!0}),this.recorder.stop(),this.opts.showRecordingLength&&clearInterval(this.recordingLengthTimer)}),this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0})}getVideoElement(){return this.el.querySelector(".uppy-Webcam-video")}oneTwoThreeSmile(){return new Promise((r,o)=>{let c=this.opts.countdown,p=setInterval(()=>{if(!this.webcamActive)return clearInterval(p),this.captureInProgress=!1,o(new Error("Webcam is not active"));c>0?(this.uppy.info(`${c}...`,"warning",800),c--):(clearInterval(p),this.uppy.info(this.i18n("smile"),"success",1500),setTimeout(()=>r(),1500))},1e3)})}takeSnapshot(){this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(r=>{let o=typeof r=="object"?r.message:r;return this.uppy.info(o,"error",5e3),Promise.reject(new Error(`onBeforeSnapshot: ${o}`))}).then(()=>this.getImage()).then(r=>{this.captureInProgress=!1;try{this.uppy.addFile(r)}catch(o){o.isRestriction||this.uppy.log(o)}},r=>{throw this.captureInProgress=!1,r}))}getImage(){let r=this.getVideoElement();if(!r)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));let o=r.videoWidth,c=r.videoHeight,p=document.createElement("canvas");p.width=o,p.height=c,p.getContext("2d").drawImage(r,0,0);let{restrictions:_}=this.uppy.opts,E=[];this.opts.preferredImageMimeType?E=[this.opts.preferredImageMimeType]:_.allowedFileTypes&&(E=_.allowedFileTypes.map(E_).filter(FO));let R=E[0]||"image/jpeg",B=Yl(R)||"jpg",q=`cam-${Date.now()}.${B}`;return SO(p,R).then(J=>({source:this.id,name:q,data:new Blob([J],{type:R}),type:R}))}getVideo(){let r=this.recordingChunks.find(E=>{var R;return((R=E.type)==null?void 0:R.length)>0}).type,o=Yl(r);if(!o)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`webcam-${Date.now()}.${o}`,p=new Blob(this.recordingChunks,{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}focus(){!this.opts.countdown||setTimeout(()=>{this.uppy.info(this.i18n("smile"),"success",1500)},1e3)}changeVideoSource(r){this.stop(),this.start({deviceId:r})}updateVideoSources(){this.mediaDevices.enumerateDevices().then(r=>{this.setPluginState({videoSources:r.filter(o=>o.kind==="videoinput")})})}render(){this.webcamActive||this.start();let r=this.getPluginState();return!r.cameraReady||!r.hasCamera?U(AU,{icon:CO,i18n:this.i18n,hasCamera:r.hasCamera}):U(MU,yg({},r,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:TO(),recording:r.isRecording,mirror:Lh(this,sa)[sa],src:this.stream}))}install(){let{mobileNativeCamera:r,modes:o,facingMode:c,videoConstraints:p}=this.opts,{target:_}=this.opts;if(r&&_){var E;(E=this.getTargetPlugin(_))==null||E.setOptions({showNativeVideoCameraButton:vg(o,"video-only")||vg(o,"video-audio"),showNativePhotoCameraButton:vg(o,"picture"),nativeCameraFacingMode:(p==null?void 0:p.facingMode)||c});return}this.setPluginState({cameraReady:!1,recordingLengthSeconds:0}),_&&this.mount(_,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=()=>{if(this.updateVideoSources(),this.stream){let R=!0,{videoSources:B,currentDeviceId:q}=this.getPluginState();B.forEach(J=>{q===J.deviceId&&(R=!1)}),R&&(this.stop(),this.start())}})}uninstall(){this.stop(),this.unmount()}onUnmount(){this.stop()}};a(O_,"Webcam"),O_.VERSION=LU.version;function Vt(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Vt,"_classPrivateFieldLooseBase");var RU=0;function Ds(r){return"__private_"+RU+++"_"+r}a(Ds,"_classPrivateFieldLooseKey");function BO(r){return new Error("Cancelled",{cause:r})}a(BO,"createCancelError");function NO(r){if(r!=null){let o=a(()=>this.abort(r.reason),"abortPromise");r.addEventListener("abort",o,{once:!0});let c=a(()=>{r.removeEventListener("abort",o)},"removeAbortListener");this.then(c,c)}return this}a(NO,"abortOn");var hn=Ds("activeRequests"),Ls=Ds("queuedHandlers"),un=Ds("paused"),Zl=Ds("pauseTimer"),Rs=Ds("downLimit"),Ql=Ds("upperLimit"),fo=Ds("rateLimitingTimer"),Ed=Ds("call"),po=Ds("queueNext"),M_=Ds("next"),A_=Ds("queue"),P_=Ds("dequeue"),D_=Ds("resume"),Jl=Ds("increaseLimit"),ec=class{constructor(r){Object.defineProperty(this,P_,{value:jO}),Object.defineProperty(this,A_,{value:WO}),Object.defineProperty(this,M_,{value:HO}),Object.defineProperty(this,po,{value:UO}),Object.defineProperty(this,Ed,{value:zO}),Object.defineProperty(this,hn,{writable:!0,value:0}),Object.defineProperty(this,Ls,{writable:!0,value:[]}),Object.defineProperty(this,un,{writable:!0,value:!1}),Object.defineProperty(this,Zl,{writable:!0,value:void 0}),Object.defineProperty(this,Rs,{writable:!0,value:1}),Object.defineProperty(this,Ql,{writable:!0,value:void 0}),Object.defineProperty(this,fo,{writable:!0,value:void 0}),Object.defineProperty(this,D_,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,Jl,{writable:!0,value:()=>{if(Vt(this,un)[un]){Vt(this,fo)[fo]=setTimeout(Vt(this,Jl)[Jl],0);return}Vt(this,Rs)[Rs]=this.limit,this.limit=Math.ceil((Vt(this,Ql)[Ql]+Vt(this,Rs)[Rs])/2);for(let o=Vt(this,Rs)[Rs];o<=this.limit;o++)Vt(this,po)[po]();Vt(this,Ql)[Ql]-Vt(this,Rs)[Rs]>3?Vt(this,fo)[fo]=setTimeout(Vt(this,Jl)[Jl],2e3):Vt(this,Rs)[Rs]=Math.floor(Vt(this,Rs)[Rs]/2)}}),typeof r!="number"||r===0?this.limit=1/0:this.limit=r}run(r,o){return!Vt(this,un)[un]&&Vt(this,hn)[hn]<this.limit?Vt(this,Ed)[Ed](r):Vt(this,A_)[A_](r,o)}wrapPromiseFunction(r,o){var c=this;return function(){for(var p=arguments.length,_=new Array(p),E=0;E<p;E++)_[E]=arguments[E];let R,B=new Promise((q,J)=>{R=c.run(()=>{let V,ie;try{ie=Promise.resolve(r(..._))}catch(se){ie=Promise.reject(se)}return ie.then(se=>{V?J(V):(R.done(),q(se))},se=>{V?J(V):(R.done(),J(se))}),se=>{V=BO(se)}},o)});return B.abort=q=>{R.abort(q)},B.abortOn=NO,B}}resume(){Vt(this,un)[un]=!1,clearTimeout(Vt(this,Zl)[Zl]);for(let r=0;r<this.limit;r++)Vt(this,po)[po]()}pause(r){r===void 0&&(r=null),Vt(this,un)[un]=!0,clearTimeout(Vt(this,Zl)[Zl]),r!=null&&(Vt(this,Zl)[Zl]=setTimeout(Vt(this,D_)[D_],r))}rateLimit(r){clearTimeout(Vt(this,fo)[fo]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(Vt(this,Ql)[Ql]=this.limit-1,this.limit=Vt(this,Rs)[Rs],Vt(this,fo)[fo]=setTimeout(Vt(this,Jl)[Jl],r))}get isPaused(){return Vt(this,un)[un]}};a(ec,"RateLimitedQueue");function zO(r){Vt(this,hn)[hn]+=1;let o=!1,c;try{c=r()}catch(p){throw Vt(this,hn)[hn]-=1,p}return{abort:p=>{o||(o=!0,Vt(this,hn)[hn]-=1,c(p),Vt(this,po)[po]())},done:()=>{o||(o=!0,Vt(this,hn)[hn]-=1,Vt(this,po)[po]())}}}a(zO,"_call2");function UO(){queueMicrotask(()=>Vt(this,M_)[M_]())}a(UO,"_queueNext2");function HO(){if(Vt(this,un)[un]||Vt(this,hn)[hn]>=this.limit||Vt(this,Ls)[Ls].length===0)return;let r=Vt(this,Ls)[Ls].shift(),o=Vt(this,Ed)[Ed](r.fn);r.abort=o.abort,r.done=o.done}a(HO,"_next2");function WO(r,o){o===void 0&&(o={});let c={fn:r,priority:o.priority||0,abort:()=>{Vt(this,P_)[P_](c)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},p=Vt(this,Ls)[Ls].findIndex(_=>c.priority>_.priority);return p===-1?Vt(this,Ls)[Ls].push(c):Vt(this,Ls)[Ls].splice(p,0,c),c}a(WO,"_queue2");function jO(r){let o=Vt(this,Ls)[Ls].indexOf(r);o!==-1&&Vt(this,Ls)[Ls].splice(o,1)}a(jO,"_dequeue2");var Od=Symbol("__queue"),FU=g(x(),1);function qO(r,o,c){let{progress:p,bytesUploaded:_,bytesTotal:E}=o;p&&(r.uppy.log(`Upload progress: ${p}`),r.uppy.emit("upload-progress",c,{uploader:r,bytesUploaded:_,bytesTotal:E}))}a(qO,"emitSocketProgress");var bg=(0,FU.default)(qO,300,{leading:!0,trailing:!0});function Md(r){let o=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(r)[1];return`${/^http:\/\//i.test(r)?"ws":"wss"}://${o}`}a(Md,"getSocketHost");function Rh(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Rh,"_classPrivateFieldLooseBase");var IU=0;function L_(r){return"__private_"+IU+++"_"+r}a(L_,"_classPrivateFieldLooseKey");var tc=L_("emitter"),Ad=L_("events"),mo=class{constructor(r){Object.defineProperty(this,tc,{writable:!0,value:void 0}),Object.defineProperty(this,Ad,{writable:!0,value:[]}),Rh(this,tc)[tc]=r}on(r,o){return Rh(this,Ad)[Ad].push([r,o]),Rh(this,tc)[tc].on(r,o)}remove(){for(let[r,o]of Rh(this,Ad)[Ad].splice(0))Rh(this,tc)[tc].off(r,o)}};a(mo,"EventTracker");function dn(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(dn,"_classPrivateFieldLooseBase");var BU=0;function Pd(r){return"__private_"+BU+++"_"+r}a(Pd,"_classPrivateFieldLooseKey");var go=Pd("aliveTimer"),ic=Pd("isDone"),Dd=Pd("onTimedOut"),rc=Pd("timeout"),$O=class{constructor(r,o){Object.defineProperty(this,go,{writable:!0,value:void 0}),Object.defineProperty(this,ic,{writable:!0,value:!1}),Object.defineProperty(this,Dd,{writable:!0,value:void 0}),Object.defineProperty(this,rc,{writable:!0,value:void 0}),dn(this,rc)[rc]=r,dn(this,Dd)[Dd]=o}progress(){dn(this,ic)[ic]||dn(this,rc)[rc]>0&&(clearTimeout(dn(this,go)[go]),dn(this,go)[go]=setTimeout(dn(this,Dd)[Dd],dn(this,rc)[rc]))}done(){dn(this,ic)[ic]||(clearTimeout(dn(this,go)[go]),dn(this,go)[go]=null,dn(this,ic)[ic]=!0)}};a($O,"ProgressTimeout");var R_=$O;function VO(r){return r?r.readyState!==0&&r.readyState!==4||r.status===0:!1}a(VO,"isNetworkError");var _g=VO;function Fs(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Fs,"_classPrivateFieldLooseBase");var NU=0;function nl(r){return"__private_"+NU+++"_"+r}a(nl,"_classPrivateFieldLooseKey");function F_(r,o){if(_g(r))return new Sh(o,r);let c=new Th("Upload error",{cause:o});return c.request=r,c}a(F_,"buildResponseError");function YO(r){return r.data.slice(0,r.data.size,r.meta.type)}a(YO,"setTypeInBlob");function GO(r,o,c){(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(o)).forEach(p=>{r.append(p,o[p])})}a(GO,"addMetadata");function XO(r,o){let c=new FormData;GO(c,r.meta,o);let p=YO(r);return r.name?c.append(o.fieldName,p,r.meta.name):c.append(o.fieldName,p),c}a(XO,"createFormDataUpload");var zU=a(r=>r.data,"createBareUpload"),Ld=nl("queueRequestSocketToken"),sc=nl("getOptions"),nc=nl("addEventHandlerForFile"),ac=nl("addEventHandlerIfFileStillExists"),I_=nl("uploadLocalFile"),B_=nl("requestSocketToken"),N_=nl("uploadRemoteFile"),KO=class{constructor(r,o){Object.defineProperty(this,N_,{value:tM}),Object.defineProperty(this,I_,{value:eM}),Object.defineProperty(this,ac,{value:JO}),Object.defineProperty(this,nc,{value:QO}),Object.defineProperty(this,sc,{value:ZO}),Object.defineProperty(this,Ld,{writable:!0,value:void 0}),Object.defineProperty(this,B_,{writable:!0,value:async c=>{let p=Fs(this,sc)[sc](c),_=c.remote.providerOptions.provider?br:cn,E=new _(this.uppy,c.remote.providerOptions),R=Array.isArray(p.allowedMetaFields)?p.allowedMetaFields:Object.keys(c.meta);return c.tus&&Object.assign(p,c.tus),(await E.post(c.remote.url,{...c.remote.body,protocol:"multipart",endpoint:p.endpoint,size:c.data.size,fieldname:p.fieldName,metadata:Object.fromEntries(R.map(B=>[B,c.meta[B]])),httpMethod:p.method,useFormData:p.formData,headers:p.headers})).token}}),this.uppy=r,this.opts={validateStatus(c){return c>=200&&c<300},...o},this.requests=o[Od],this.uploaderEvents=Object.create(null),this.i18n=o.i18n,Fs(this,Ld)[Ld]=this.requests.wrapPromiseFunction(Fs(this,B_)[B_],{priority:-1})}uploadFile(r,o,c){let p=this.uppy.getFile(r);if(p.error)throw new Error(p.error);return p.isRemote?Fs(this,N_)[N_](p,o,c):Fs(this,I_)[I_](p,o,c)}connectToServerSocket(r){return new Promise((o,c)=>{let p=Fs(this,sc)[sc](r),_=r.serverToken,E=Md(r.remote.companionUrl),R,B=a(()=>{R==null&&(R=new Eh({target:`${E}/api/${_}`}),R.on("progress",V=>bg(this,V,r)),R.on("success",V=>{let ie=p.getResponseData(V.response.responseText,V.response),se=ie[p.responseUrlFieldName],de={status:V.response.status,body:ie,uploadURL:se,bytesUploaded:V.bytesUploaded};return this.uppy.emit("upload-success",r,de),q.done(),R.close(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),o()}),R.on("error",V=>{let ie=V.response,se=ie?p.getResponseError(ie.responseText,ie):new Th(V.error.message,{cause:V.error});this.uppy.emit("upload-error",r,se),q.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),c(se)}))},"createSocket");this.uploaderEvents[r.id]=new mo(this.uppy);let q=this.requests.run(()=>{if(r.isPaused){var V;(V=R)==null||V.send("pause",{})}else B();return()=>R.close()});Fs(this,nc)[nc]("file-removed",r.id,()=>{var V;(V=R)==null||V.send("cancel",{}),q.abort(),o(`upload ${r.id} was removed`)}),Fs(this,ac)[ac]("cancel-all",r.id,function(V){let{reason:ie}=V===void 0?{}:V;if(ie==="user"){var se;(se=R)==null||se.send("cancel",{}),q.abort()}o(`upload ${r.id} was canceled`)});let J=a(()=>{R==null?q.abort():(R.send("pause",{}),q.done()),q=this.requests.run(()=>(r.isPaused||(R==null?B():R.send("resume",{})),()=>R.close()))},"onRetryRequest");Fs(this,nc)[nc]("upload-retry",r.id,J),Fs(this,ac)[ac]("retry-all",r.id,J)}).catch(o=>(this.uppy.emit("upload-error",r,o),Promise.reject(o)))}};a(KO,"MiniXHRUpload");function ZO(r){var o;let{uppy:c}=this,p=c.getState().xhrUpload;return{...this.opts,...p||{},...r.xhrUpload||{},headers:{...this.opts.headers,...p==null?void 0:p.headers,...(o=r.xhrUpload)==null?void 0:o.headers}}}a(ZO,"_getOptions2");function QO(r,o,c){this.uploaderEvents[o].on(r,p=>{var _;let E=(_=p==null?void 0:p.id)!=null?_:p;o===E&&c()})}a(QO,"_addEventHandlerForFile2");function JO(r,o,c){var p=this;this.uploaderEvents[o].on(r,function(){p.uppy.getFile(o)&&c(...arguments)})}a(JO,"_addEventHandlerIfFileStillExists2");function eM(r,o,c){let p=Fs(this,sc)[sc](r);return this.uppy.log(`uploading ${o} of ${c}`),new Promise((_,E)=>{let R=p.formData?XO(r,p):zU(r,p),B=new XMLHttpRequest;this.uploaderEvents[r.id]=new mo(this.uppy);let q=new R_(p.timeout,()=>{B.abort(),V.done();let ie=new Error(this.i18n("timedOut",{seconds:Math.ceil(p.timeout/1e3)}));this.uppy.emit("upload-error",r,ie),E(ie)}),J=be();B.upload.addEventListener("loadstart",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${J} started`)}),B.upload.addEventListener("progress",ie=>{this.uppy.log(`[AwsS3/XHRUpload] ${J} progress: ${ie.loaded} / ${ie.total}`),q.progress(),ie.lengthComputable&&this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:ie.loaded,bytesTotal:ie.total})}),B.addEventListener("load",ie=>{if(this.uppy.log(`[AwsS3/XHRUpload] ${J} finished`),q.done(),V.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),p.validateStatus(ie.target.status,B.responseText,B)){let at=p.getResponseData(B.responseText,B),Ge=at[p.responseUrlFieldName],mt={status:ie.target.status,body:at,uploadURL:Ge};return this.uppy.emit("upload-success",r,mt),Ge&&this.uppy.log(`Download ${r.name} from ${Ge}`),_(r)}let se=p.getResponseData(B.responseText,B),de=F_(B,p.getResponseError(B.responseText,B)),we={status:ie.target.status,body:se};return this.uppy.emit("upload-error",r,de,we),E(de)}),B.addEventListener("error",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${J} errored`),q.done(),V.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null);let ie=F_(B,p.getResponseError(B.responseText,B));return this.uppy.emit("upload-error",r,ie),E(ie)}),B.open(p.method.toUpperCase(),p.endpoint,!0),B.withCredentials=!!p.withCredentials,p.responseType!==""&&(B.responseType=p.responseType),Object.keys(p.headers).forEach(ie=>{B.setRequestHeader(ie,p.headers[ie])});let V=this.requests.run(()=>(B.send(R),()=>{q.done(),B.abort()}),{priority:1});Fs(this,nc)[nc]("file-removed",r.id,()=>{V.abort(),E(new Error("File removed"))}),Fs(this,ac)[ac]("cancel-all",r.id,function(ie){let{reason:se}=ie===void 0?{}:ie;se==="user"&&V.abort(),E(new Error("Upload cancelled"))})})}a(eM,"_uploadLocalFile2");async function tM(r){try{if(r.serverToken)return this.connectToServerSocket(r);let o=await Fs(this,Ld)[Ld](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(o){throw this.uppy.emit("upload-error",r,o),o}}a(tM,"_uploadRemoteFile2");function iM(r){return r.replace(/;.*$/,"")}a(iM,"removeMimeParameters");function rM(r,o){let c=o.headers?o.headers["content-type"]:o.getResponseHeader("Content-Type");if(typeof c=="string"){let p=iM(c).toLowerCase();if(p==="application/xml"||p==="text/xml"||p==="text/html"&&/^<\?xml /.test(r))return!0}return!1}a(rM,"isXml");var sM=rM,UU={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},nM;function ms(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ms,"_classPrivateFieldLooseBase");var HU=0;function Fh(r){return"__private_"+HU+++"_"+r}a(Fh,"_classPrivateFieldLooseKey");var WU={version:"3.0.4"};function aM(r,o){return new URL(o,r||void 0).toString()}a(aM,"resolveUrl");function Ih(r,o){let c=r.indexOf(`<${o}>`),p=r.indexOf(`</${o}>`,c);return c!==-1&&p!==-1?r.slice(c+o.length+2,p):""}a(Ih,"getXmlValue");function oM(r){if(r&&r.error){let o=new Error(r.message);throw Object.assign(o,r.error),o}return r}a(oM,"assertServerError");function lM(r,o){if(!(o!=null&&typeof o.url=="string"&&(typeof o.fields=="object"||o.fields==null)))throw new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${r.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(o)}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);if(!(o.method==null||/^p(u|os)t$/i.test(o.method)))throw new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${r.name}', expected  'put' or 'post' but got '${o.method}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`)}a(lM,"validateParameters");function cM(r,o){if(!sM(r,o))return;let c=Ih(r,"Message");return new Error(c)}a(cM,"defaultGetResponseError");var hM=!1,fn=Fh("client"),oc=Fh("requests"),Rd=Fh("uploader"),Fd=Fh("handleUpload"),Id=Fh("setCompanionHeaders");nM=Symbol.for("uppy test: getClient");var z_=class extends On{constructor(r,o){super(r,o),Object.defineProperty(this,fn,{writable:!0,value:void 0}),Object.defineProperty(this,oc,{writable:!0,value:void 0}),Object.defineProperty(this,Rd,{writable:!0,value:void 0}),Object.defineProperty(this,Fd,{writable:!0,value:p=>{let _=Object.create(null);function E(q){var J;let{id:V}=q;(J=_[V])==null||J.abort()}a(E,"onremove"),this.uppy.on("file-removed",E),p.forEach(q=>{let J=this.uppy.getFile(q);this.uppy.emit("upload-started",J)});let R=ms(this,oc)[oc].wrapPromiseFunction(q=>this.opts.getUploadParameters(q)),B=p.length;return Promise.allSettled(p.map((q,J)=>(_[q]=R(this.uppy.getFile(q)),_[q].then(V=>{delete _[q];let ie=this.uppy.getFile(q);lM(ie,V);let{method:se="post",url:de,fields:we,headers:at}=V,Ge={method:se,formData:se.toLowerCase()==="post",endpoint:de,allowedMetaFields:we?Object.keys(we):[]};return at&&(Ge.headers=at),this.uppy.setFileState(ie.id,{meta:{...ie.meta,...we},xhrUpload:Ge}),ms(this,Rd)[Rd].uploadFile(ie.id,J,B)}).catch(V=>{delete _[q];let ie=this.uppy.getFile(q);return this.uppy.emit("upload-error",ie,V),Promise.reject(V)})))).finally(()=>{this.uppy.off("file-removed",E)})}}),Object.defineProperty(this,Id,{writable:!0,value:()=>(ms(this,fn)[fn].setCompanionHeaders(this.opts.companionHeaders),Promise.resolve())}),this.type="uploader",this.id=this.opts.id||"AwsS3",this.title="AWS S3",this.defaultLocale=UU;let c={timeout:30*1e3,limit:0,allowedMetaFields:[],getUploadParameters:this.getUploadParameters.bind(this),companionHeaders:{}};if(this.opts={...c,...o},(o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.i18nInit(),ms(this,fn)[fn]=new cn(r,o),ms(this,oc)[oc]=new ec(this.opts.limit)}[nM](){return ms(this,fn)[fn]}get client(){return ms(this,fn)[fn]}set client(r){ms(this,fn)[fn]=r}getUploadParameters(r){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");let o=r.meta.name,{type:c}=r.meta,p=Object.fromEntries(this.opts.allowedMetaFields.filter(E=>r.meta[E]!=null).map(E=>[`metadata[${E}]`,r.meta[E].toString()])),_=new URLSearchParams({filename:o,type:c,...p});return ms(this,fn)[fn].get(`s3/params?${_}`).then(oM)}install(){let{uppy:r}=this;r.addPreProcessor(ms(this,Id)[Id]),r.addUploader(ms(this,Fd)[Fd]);function o(p,_){let E=this;return sM(p,_)?{location:aM(_.responseURL,Ih(p,"Location")),bucket:Ih(p,"Bucket"),key:Ih(p,"Key"),etag:Ih(p,"ETag")}:E.method.toUpperCase()==="POST"?(hM||(r.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),hM=!0),{location:null}):_.responseURL?{location:_.responseURL.replace(/\?.*$/,"")}:{location:null}}a(o,"defaultGetResponseData");let c={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,[Od]:ms(this,oc)[oc],responseType:"text",getResponseData:this.opts.getResponseData||o,getResponseError:cM};c.i18n=this.i18n,ms(this,Rd)[Rd]=new KO(r,c)}uninstall(){this.uppy.removePreProcessor(ms(this,Id)[Id]),this.uppy.removeUploader(ms(this,Fd)[Fd])}};a(z_,"AwsS3"),z_.VERSION=WU.version;var{AbortController:U_}=globalThis,uM=a(function(r,o){r===void 0&&(r="Aborted");let c=new DOMException(r,"AbortError");return o!=null&&w(o,"cause")&&Object.defineProperty(c,"cause",{__proto__:null,configurable:!0,writable:!0,value:o.cause}),c},"createAbortError");function Ht(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Ht,"_classPrivateFieldLooseBase");var jU=0;function gs(r){return"__private_"+jU+++"_"+r}a(gs,"_classPrivateFieldLooseKey");var qU=1024*1024,dM={getChunkSize(r){return Math.ceil(r.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(r){throw r}};function fM(r){if(typeof r=="string")return parseInt(r,10);if(typeof r=="number")return r;throw new TypeError("Expected a number")}a(fM,"ensureInt");var H_=Symbol("pausing upload, not an actual error"),rs=gs("abortController"),Is=gs("chunks"),pn=gs("chunkState"),Hr=gs("data"),yo=gs("file"),lc=gs("uploadPromise"),Bd=gs("onError"),cc=gs("onSuccess"),Nd=gs("onReject"),W_=gs("initChunks"),j_=gs("createUpload"),q_=gs("resumeUpload"),zd=gs("onPartProgress"),Ud=gs("onPartComplete"),$_=gs("abortUpload"),pM=class{constructor(r,o){var c;Object.defineProperty(this,$_,{value:vM}),Object.defineProperty(this,q_,{value:yM}),Object.defineProperty(this,j_,{value:gM}),Object.defineProperty(this,W_,{value:mM}),Object.defineProperty(this,rs,{writable:!0,value:new U_}),Object.defineProperty(this,Is,{writable:!0,value:void 0}),Object.defineProperty(this,pn,{writable:!0,value:void 0}),Object.defineProperty(this,Hr,{writable:!0,value:void 0}),Object.defineProperty(this,yo,{writable:!0,value:void 0}),Object.defineProperty(this,lc,{writable:!0,value:void 0}),Object.defineProperty(this,Bd,{writable:!0,value:void 0}),Object.defineProperty(this,cc,{writable:!0,value:void 0}),Object.defineProperty(this,Nd,{writable:!0,value:p=>(p==null?void 0:p.cause)===H_?null:Ht(this,Bd)[Bd](p)}),Object.defineProperty(this,zd,{writable:!0,value:p=>_=>{if(!_.lengthComputable)return;let E=_.loaded;Ht(this,pn)[pn][p].uploaded=fM(E);let R=Ht(this,pn)[pn].reduce((B,q)=>B+q.uploaded,0);this.options.onProgress(R,Ht(this,Hr)[Hr].size)}}),Object.defineProperty(this,Ud,{writable:!0,value:p=>_=>{Ht(this,Is)[Is][p]=null,Ht(this,pn)[pn][p].etag=_,Ht(this,pn)[pn][p].done=!0;let E={PartNumber:p+1,ETag:_};this.options.onPartComplete(E)}}),this.options={...dM,...o},(c=this.options).getChunkSize!=null||(c.getChunkSize=dM.getChunkSize),Ht(this,Hr)[Hr]=r,Ht(this,yo)[yo]=o.file,Ht(this,cc)[cc]=this.options.onSuccess,Ht(this,Bd)[Bd]=this.options.onError,Ht(this,W_)[W_]()}start(){Ht(this,lc)[lc]?(Ht(this,rs)[rs].signal.aborted||Ht(this,rs)[rs].abort(H_),Ht(this,rs)[rs]=new U_,Ht(this,q_)[q_]()):Ht(this,j_)[j_]()}pause(){Ht(this,rs)[rs].abort(H_),Ht(this,rs)[rs]=new U_}abort(r){var o;r===void 0&&(r=void 0),(o=r)!=null&&o.really?Ht(this,$_)[$_]():this.pause()}get chunkState(){return Ht(this,pn)[pn]}};a(pM,"MultipartUploader");function mM(){let r=this.options.getChunkSize(Ht(this,Hr)[Hr]),o=Ht(this,Hr)[Hr].size,c=Math.max(5*qU,Math.ceil(o/1e4)),p=Math.max(r,c);if(Ht(this,Hr)[Hr].size===0)Ht(this,Is)[Is]=[Ht(this,Hr)[Hr]],Ht(this,Hr)[Hr].onProgress=Ht(this,zd)[zd](0),Ht(this,Hr)[Hr].onComplete=Ht(this,Ud)[Ud](0);else{let _=Math.ceil(o/p);Ht(this,Is)[Is]=Array(_);let E=0;for(let R=0;R<o;R+=p){let B=Math.min(o,R+p),q=Ht(this,Hr)[Hr].slice(R,B);q.onProgress=Ht(this,zd)[zd](E),q.onComplete=Ht(this,Ud)[Ud](E),Ht(this,Is)[Is][E++]=q}}Ht(this,pn)[pn]=Ht(this,Is)[Is].map(()=>({uploaded:0}))}a(mM,"_initChunks2");function gM(){Ht(this,lc)[lc]=this.options.companionComm.uploadFile(Ht(this,yo)[yo],Ht(this,Is)[Is],Ht(this,rs)[rs].signal).then(Ht(this,cc)[cc],Ht(this,Nd)[Nd])}a(gM,"_createUpload2");function yM(){Ht(this,lc)[lc]=this.options.companionComm.resumeUploadFile(Ht(this,yo)[yo],Ht(this,Is)[Is],Ht(this,rs)[rs].signal).then(Ht(this,cc)[cc],Ht(this,Nd)[Nd])}a(yM,"_resumeUpload2");function vM(){Ht(this,rs)[rs].abort(),this.options.companionComm.abortFileUpload(Ht(this,yo)[yo]).catch(r=>this.options.log(r))}a(vM,"_abortUpload2");var $U=pM,bM;function Xt(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Xt,"_classPrivateFieldLooseBase");var VU=0;function Wr(r){return"__private_"+VU+++"_"+r}a(Wr,"_classPrivateFieldLooseKey");var YU={version:"3.1.1"};function Bh(r){if(r&&r.error){let o=new Error(r.message);throw Object.assign(o,r.error),o}return r}a(Bh,"assertServerError");function ys(r){if(r!=null&&r.aborted)throw uM("The operation was aborted",{cause:r.reason})}a(ys,"throwIfAborted");var Hd=Wr("abortMultipartUpload"),na=Wr("cache"),Wd=Wr("createMultipartUpload"),jd=Wr("fetchSignature"),qd=Wr("listParts"),hc=Wr("previousRetryDelay"),uc=Wr("requests"),vo=Wr("retryDelayIterator"),dc=Wr("sendCompletionRequest"),$d=Wr("setS3MultipartState"),Vd=Wr("uploadPartBytes"),V_=Wr("shouldRetry"),_M=class{constructor(r,o,c){Object.defineProperty(this,V_,{value:wM}),Object.defineProperty(this,Hd,{writable:!0,value:void 0}),Object.defineProperty(this,na,{writable:!0,value:new WeakMap}),Object.defineProperty(this,Wd,{writable:!0,value:void 0}),Object.defineProperty(this,jd,{writable:!0,value:void 0}),Object.defineProperty(this,qd,{writable:!0,value:void 0}),Object.defineProperty(this,hc,{writable:!0,value:void 0}),Object.defineProperty(this,uc,{writable:!0,value:void 0}),Object.defineProperty(this,vo,{writable:!0,value:void 0}),Object.defineProperty(this,dc,{writable:!0,value:void 0}),Object.defineProperty(this,$d,{writable:!0,value:void 0}),Object.defineProperty(this,Vd,{writable:!0,value:void 0}),Xt(this,uc)[uc]=r,Xt(this,$d)[$d]=c,this.setOptions(o)}setOptions(r){let o=Xt(this,uc)[uc];if("abortMultipartUpload"in r&&(Xt(this,Hd)[Hd]=o.wrapPromiseFunction(r.abortMultipartUpload)),"createMultipartUpload"in r&&(Xt(this,Wd)[Wd]=o.wrapPromiseFunction(r.createMultipartUpload,{priority:-1})),"signPart"in r&&(Xt(this,jd)[jd]=o.wrapPromiseFunction(r.signPart)),"listParts"in r&&(Xt(this,qd)[qd]=o.wrapPromiseFunction(r.listParts)),"completeMultipartUpload"in r&&(Xt(this,dc)[dc]=o.wrapPromiseFunction(r.completeMultipartUpload)),"retryDelays"in r){var c;Xt(this,vo)[vo]=(c=r.retryDelays)==null?void 0:c.values()}"uploadPartBytes"in r&&(Xt(this,Vd)[Vd]=o.wrapPromiseFunction(r.uploadPartBytes,{priority:1/0}))}async getUploadId(r,o){let c=Xt(this,na)[na].get(r.data);if(c!=null)return c;let p=Xt(this,Wd)[Wd](r,o),_=a(()=>{p.abort(o.reason),Xt(this,na)[na].delete(r.data)},"abortPromise");return o.addEventListener("abort",_,{once:!0}),Xt(this,na)[na].set(r.data,p),p.then(async E=>{o.removeEventListener("abort",_),Xt(this,$d)[$d](r,E),Xt(this,na)[na].set(r.data,E)},()=>{o.removeEventListener("abort",_)}),p}async abortFileUpload(r){let o=Xt(this,na)[na].get(r.data);o!=null&&await Xt(this,Hd)[Hd](r,await o)}async uploadFile(r,o,c){ys(c);let{uploadId:p,key:_}=await this.getUploadId(r,c);ys(c);let E=await Promise.all(o.map((R,B)=>this.uploadChunk(r,B+1,R,c)));return ys(c),Xt(this,dc)[dc](r,{key:_,uploadId:p,parts:E,signal:c}).abortOn(c)}async resumeUploadFile(r,o,c){ys(c);let{uploadId:p,key:_}=await this.getUploadId(r,c);ys(c);let E=await Xt(this,qd)[qd](r,{uploadId:p,key:_,signal:c}).abortOn(c);ys(c);let R=await Promise.all(o.map((B,q)=>{let J=q+1,V=E.find(ie=>{let{PartNumber:se}=ie;return se===J});return V==null?this.uploadChunk(r,J,B,c):{PartNumber:J,ETag:V.ETag}}));return ys(c),Xt(this,dc)[dc](r,{key:_,uploadId:p,parts:R,signal:c}).abortOn(c)}async uploadChunk(r,o,c,p){ys(p);let{uploadId:_,key:E}=await this.getUploadId(r,p);for(ys(p);;){let R=await Xt(this,jd)[jd](r,{uploadId:_,key:E,partNumber:o,body:c,signal:p}).abortOn(p);ys(p);try{return{PartNumber:o,...await Xt(this,Vd)[Vd](R,c,p).abortOn(p)}}catch(B){if(!await Xt(this,V_)[V_](B))throw B}}}};a(_M,"HTTPCommunicationQueue");async function wM(r){var o;let c=Xt(this,uc)[uc],p=r==null||(o=r.source)==null?void 0:o.status;if(p==null)return!1;if(p===403&&r.message==="Request has expired"){if(!c.isPaused){if(c.limit===1||Xt(this,hc)[hc]==null){var _;let B=(_=Xt(this,vo)[vo])==null?void 0:_.next();if(B==null||B.done)return!1;Xt(this,hc)[hc]=B.value}c.rateLimit(0),await new Promise(B=>setTimeout(B,Xt(this,hc)[hc]))}}else if(p===429){if(!c.isPaused){var E;let B=(E=Xt(this,vo)[vo])==null?void 0:E.next();if(B==null||B.done)return!1;c.rateLimit(B.value)}}else{if(p>400&&p<500&&p!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)c.isPaused||(c.pause(),window.addEventListener("online",()=>{c.resume()},{once:!0}));else{var R;let B=(R=Xt(this,vo)[vo])==null?void 0:R.next();if(B==null||B.done)return!1;await new Promise(q=>setTimeout(q,B.value))}}return!0}a(wM,"_shouldRetry2");var Yd=Wr("queueRequestSocketToken"),fc=Wr("companionCommunicationQueue"),ss=Wr("client"),Y_=Wr("setS3MultipartState"),G_=Wr("requestSocketToken"),Gd=Wr("setCompanionHeaders");bM=Symbol.for("uppy test: getClient");var wg=class extends On{constructor(r,o){var c;super(r,o),Object.defineProperty(this,Yd,{writable:!0,value:void 0}),Object.defineProperty(this,fc,{writable:!0,value:void 0}),Object.defineProperty(this,ss,{writable:!0,value:void 0}),Object.defineProperty(this,Y_,{writable:!0,value:(_,E)=>{let{key:R,uploadId:B}=E,q=this.uppy.getFile(_.id);this.uppy.setFileState(_.id,{s3Multipart:{...q.s3Multipart,key:R,uploadId:B}})}}),Object.defineProperty(this,G_,{writable:!0,value:async _=>{let E=_.remote.providerOptions.provider?br:cn,R=new E(this.uppy,_.remote.providerOptions),B={...this.opts};if(_.tus&&Object.assign(B,_.tus),_.remote.url==null)throw new Error("Cannot connect to an undefined URL");return(await R.post(_.remote.url,{..._.remote.body,protocol:"s3-multipart",size:_.data.size,metadata:_.meta})).token}}),Object.defineProperty(this,Gd,{writable:!0,value:()=>{Xt(this,ss)[ss].setCompanionHeaders(this.opts.companionHeaders)}}),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",this.title="AWS S3 Multipart",Xt(this,ss)[ss]=new cn(r,o);let p={limit:6,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:this.createMultipartUpload.bind(this),listParts:this.listParts.bind(this),abortMultipartUpload:this.abortMultipartUpload.bind(this),completeMultipartUpload:this.completeMultipartUpload.bind(this),signPart:this.signPart.bind(this),uploadPartBytes:wg.uploadPartBytes,companionHeaders:{}};this.opts={...p,...o},(o==null?void 0:o.prepareUploadParts)!=null&&o.signPart==null&&(this.opts.signPart=async(_,E)=>{let{uploadId:R,key:B,partNumber:q,body:J,signal:V}=E,{presignedUrls:ie,headers:se}=await o.prepareUploadParts(_,{uploadId:R,key:B,parts:[{number:q,chunk:J}],signal:V});return{url:ie==null?void 0:ie[q],headers:se==null?void 0:se[q]}}),this.upload=this.upload.bind(this),this.requests=(c=this.opts.rateLimitedQueue)!=null?c:new ec(this.opts.limit),Xt(this,fc)[fc]=new _M(this.requests,this.opts,Xt(this,Y_)[Y_]),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),Xt(this,Yd)[Yd]=this.requests.wrapPromiseFunction(Xt(this,G_)[G_],{priority:-1})}[bM](){return Xt(this,ss)[ss]}setOptions(r){return Xt(this,fc)[fc].setOptions(r),super.setOptions(r)}resetUploaderReferences(r,o){o===void 0&&(o={}),this.uploaders[r]&&(this.uploaders[r].abort({really:o.abort||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null),this.uploaderSockets[r]&&(this.uploaderSockets[r].close(),this.uploaderSockets[r]=null)}assertHost(r){if(!this.opts.companionUrl)throw new Error(`Expected a \`companionUrl\` option containing a Companion address, or if you are not using Companion, a custom \`${r}\` implementation.`)}createMultipartUpload(r,o){this.assertHost("createMultipartUpload"),ys(o);let c={};return Object.keys(r.meta||{}).forEach(p=>{r.meta[p]!=null&&(c[p]=r.meta[p].toString())}),Xt(this,ss)[ss].post("s3/multipart",{filename:r.name,type:r.type,metadata:c},{signal:o}).then(Bh)}listParts(r,o,c){let{key:p,uploadId:_}=o;this.assertHost("listParts"),ys(c);let E=encodeURIComponent(p);return Xt(this,ss)[ss].get(`s3/multipart/${_}?key=${E}`,{signal:c}).then(Bh)}completeMultipartUpload(r,o,c){let{key:p,uploadId:_,parts:E}=o;this.assertHost("completeMultipartUpload"),ys(c);let R=encodeURIComponent(p),B=encodeURIComponent(_);return Xt(this,ss)[ss].post(`s3/multipart/${B}/complete?key=${R}`,{parts:E},{signal:c}).then(Bh)}signPart(r,o){let{uploadId:c,key:p,partNumber:_,signal:E}=o;if(this.assertHost("signPart"),ys(E),c==null||p==null||_==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");let R=encodeURIComponent(p);return Xt(this,ss)[ss].get(`s3/multipart/${c}/${_}?key=${R}`,{signal:E}).then(Bh)}abortMultipartUpload(r,o,c){let{key:p,uploadId:_}=o;this.assertHost("abortMultipartUpload");let E=encodeURIComponent(p),R=encodeURIComponent(_);return Xt(this,ss)[ss].delete(`s3/multipart/${R}?key=${E}`,void 0,{signal:c}).then(Bh)}static async uploadPartBytes(r,o,c){let{url:p,expires:_,headers:E}=r;if(ys(c),p==null)throw new Error("Cannot upload to an undefined URL");return new Promise((R,B)=>{let q=new XMLHttpRequest;q.open("PUT",p,!0),E&&Object.keys(E).forEach(ie=>{q.setRequestHeader(ie,E[ie])}),q.responseType="text",typeof _=="number"&&(q.timeout=_*1e3);function J(){q.abort()}a(J,"onabort");function V(){c.removeEventListener("abort",J)}a(V,"cleanup"),c.addEventListener("abort",J),q.upload.addEventListener("progress",o.onProgress),q.addEventListener("abort",()=>{V(),B(uM())}),q.addEventListener("timeout",()=>{V();let ie=new Error("Request has expired");ie.source={status:403},B(ie)}),q.addEventListener("load",ie=>{if(V(),ie.target.status===403&&ie.target.responseText.includes("<Message>Request has expired</Message>")){let de=new Error("Request has expired");de.source=ie.target,B(de);return}if(ie.target.status<200||ie.target.status>=300){let de=new Error("Non 2xx");de.source=ie.target,B(de);return}o.onProgress==null||o.onProgress(o.size);let se=ie.target.getResponseHeader("ETag");if(se===null){B(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}o.onComplete==null||o.onComplete(se),R({ETag:se})}),q.addEventListener("error",ie=>{V();let se=new Error("Unknown error");se.source=ie.target,B(se)}),q.send(o)})}uploadFile(r){var o=this;return new Promise((c,p)=>{let _=a((J,V)=>{this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:J,bytesTotal:V})},"onProgress"),E=a(J=>{this.uppy.log(J),this.uppy.emit("upload-error",r,J),this.resetUploaderReferences(r.id),p(J)},"onError"),R=a(J=>{let V=q,ie={body:{...J},uploadURL:J.location};this.resetUploaderReferences(r.id);let se=this.uppy.getFile(r.id);this.uppy.emit("upload-success",se||r,ie),J.location&&this.uppy.log(`Download ${r.name} from ${J.location}`),c(V)},"onSuccess"),B=a(J=>{let V=this.uppy.getFile(r.id);!V||this.uppy.emit("s3-multipart:part-uploaded",V,J)},"onPartComplete"),q=new $U(r.data,{companionComm:Xt(this,fc)[fc],log:function(){return o.uppy.log(...arguments)},getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):null,onProgress:_,onError:E,onSuccess:R,onPartComplete:B,file:r,...r.s3Multipart});this.uploaders[r.id]=q,this.uploaderEvents[r.id]=new mo(this.uppy),this.onFileRemove(r.id,J=>{q.abort(),this.resetUploaderReferences(r.id,{abort:!0}),c(`upload ${J.id} was removed`)}),this.onCancelAll(r.id,function(J){let{reason:V}=J===void 0?{}:J;V==="user"&&(q.abort(),o.resetUploaderReferences(r.id,{abort:!0})),c(`upload ${r.id} was canceled`)}),this.onFilePause(r.id,J=>{J?q.pause():q.start()}),this.onPauseAll(r.id,()=>{q.pause()}),this.onResumeAll(r.id,()=>{q.start()}),(!r.progress.uploadStarted||!r.isRestored)&&(q.start(),this.uppy.emit("upload-started",r))})}async uploadRemote(r){this.resetUploaderReferences(r.id),(!r.progress.uploadStarted||!r.isRestored)&&this.uppy.emit("upload-started",r);try{if(r.serverToken)return this.connectToServerSocket(r);let o=await Xt(this,Yd)[Yd](r);return this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))}catch(o){throw this.uppy.emit("upload-error",r,o),o}}async connectToServerSocket(r){var o=this;return new Promise((c,p)=>{let _,E=r.serverToken,R=Md(r.remote.companionUrl),B=new Eh({target:`${R}/api/${E}`});this.uploaderSockets[r.id]=B,this.uploaderEvents[r.id]=new mo(this.uppy),this.onFileRemove(r.id,()=>{_.abort(),B.send("cancel",{}),this.resetUploaderReferences(r.id,{abort:!0}),c(`upload ${r.id} was removed`)}),this.onFilePause(r.id,q=>{q?(_.abort(),B.send("pause",{})):(_.abort(),_=this.requests.run(()=>(B.send("resume",{}),()=>{})))}),this.onPauseAll(r.id,()=>{_.abort(),B.send("pause",{})}),this.onCancelAll(r.id,function(q){let{reason:J}=q===void 0?{}:q;J==="user"&&(_.abort(),B.send("cancel",{}),o.resetUploaderReferences(r.id)),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{_.abort(),r.error&&B.send("pause",{}),_=this.requests.run(()=>{B.send("resume",{})})}),this.onRetry(r.id,()=>{B.isOpen&&(B.send("pause",{}),B.send("resume",{}))}),this.onRetryAll(r.id,()=>{B.isOpen&&(B.send("pause",{}),B.send("resume",{}))}),B.on("progress",q=>bg(this,q,r)),B.on("error",q=>{this.uppy.emit("upload-error",r,new Error(q.error)),this.resetUploaderReferences(r.id),_.done(),p(new Error(q.error))}),B.on("success",q=>{let J={uploadURL:q.url};this.uppy.emit("upload-success",r,J),this.resetUploaderReferences(r.id),_.done(),c()}),_=this.requests.run(()=>(r.isPaused&&B.send("pause",{}),()=>{}))})}async upload(r){if(r.length===0)return;let o=r.map(c=>{let p=this.uppy.getFile(c);return p.isRemote?this.uploadRemote(p):this.uploadFile(p)});return Promise.all(o)}onFileRemove(r,o){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&o(c.id)})}onFilePause(r,o){this.uploaderEvents[r].on("upload-pause",(c,p)=>{r===c&&o(p)})}onRetry(r,o){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&o()})}onRetryAll(r,o){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||o()})}onPauseAll(r,o){this.uploaderEvents[r].on("pause-all",()=>{!this.uppy.getFile(r)||o()})}onCancelAll(r,o){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||o(...arguments)})}onResumeAll(r,o){this.uploaderEvents[r].on("resume-all",()=>{!this.uppy.getFile(r)||o()})}install(){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:!0}}),this.uppy.addPreProcessor(Xt(this,Gd)[Gd]),this.uppy.addUploader(this.upload)}uninstall(){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:!1}}),this.uppy.removePreProcessor(Xt(this,Gd)[Gd]),this.uppy.removeUploader(this.upload)}};a(wg,"AwsS3Multipart"),wg.VERSION=YU.version;var xM="3.7.2",GU=xM,XU=typeof atob=="function",KU=typeof btoa=="function",Nh=typeof Buffer=="function",kM=typeof TextDecoder=="function"?new TextDecoder:void 0,SM=typeof TextEncoder=="function"?new TextEncoder:void 0,ZU="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Xd=Array.prototype.slice.call(ZU),xg=(r=>{let o={};return r.forEach((c,p)=>o[c]=p),o})(Xd),QU=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ns=String.fromCharCode.bind(String),TM=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(r,o=c=>c)=>new Uint8Array(Array.prototype.slice.call(r,0).map(o)),CM=a(r=>r.replace(/=/g,"").replace(/[+\/]/g,o=>o=="+"?"-":"_"),"_mkUriSafe"),EM=a(r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),"_tidyB64"),OM=a(r=>{let o,c,p,_,E="",R=r.length%3;for(let B=0;B<r.length;){if((c=r.charCodeAt(B++))>255||(p=r.charCodeAt(B++))>255||(_=r.charCodeAt(B++))>255)throw new TypeError("invalid character found");o=c<<16|p<<8|_,E+=Xd[o>>18&63]+Xd[o>>12&63]+Xd[o>>6&63]+Xd[o&63]}return R?E.slice(0,R-3)+"===".substring(R):E},"btoaPolyfill"),X_=KU?r=>btoa(r):Nh?r=>Buffer.from(r,"binary").toString("base64"):OM,K_=Nh?r=>Buffer.from(r).toString("base64"):r=>{let o=[];for(let c=0,p=r.length;c<p;c+=4096)o.push(ns.apply(null,r.subarray(c,c+4096)));return X_(o.join(""))},kg=a((r,o=!1)=>o?CM(K_(r)):K_(r),"fromUint8Array"),JU=a(r=>{if(r.length<2){var o=r.charCodeAt(0);return o<128?r:o<2048?ns(192|o>>>6)+ns(128|o&63):ns(224|o>>>12&15)+ns(128|o>>>6&63)+ns(128|o&63)}else{var o=65536+(r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320);return ns(240|o>>>18&7)+ns(128|o>>>12&63)+ns(128|o>>>6&63)+ns(128|o&63)}},"cb_utob"),e7=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,MM=a(r=>r.replace(e7,JU),"utob"),AM=Nh?r=>Buffer.from(r,"utf8").toString("base64"):SM?r=>K_(SM.encode(r)):r=>X_(MM(r)),zh=a((r,o=!1)=>o?CM(AM(r)):AM(r),"encode"),PM=a(r=>zh(r,!0),"encodeURI"),t7=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,i7=a(r=>{switch(r.length){case 4:var o=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),c=o-65536;return ns((c>>>10)+55296)+ns((c&1023)+56320);case 3:return ns((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return ns((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},"cb_btou"),DM=a(r=>r.replace(t7,i7),"btou"),LM=a(r=>{if(r=r.replace(/\s+/g,""),!QU.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let o,c="",p,_;for(let E=0;E<r.length;)o=xg[r.charAt(E++)]<<18|xg[r.charAt(E++)]<<12|(p=xg[r.charAt(E++)])<<6|(_=xg[r.charAt(E++)]),c+=p===64?ns(o>>16&255):_===64?ns(o>>16&255,o>>8&255):ns(o>>16&255,o>>8&255,o&255);return c},"atobPolyfill"),Z_=XU?r=>atob(EM(r)):Nh?r=>Buffer.from(r,"base64").toString("binary"):LM,RM=Nh?r=>TM(Buffer.from(r,"base64")):r=>TM(Z_(r),o=>o.charCodeAt(0)),FM=a(r=>RM(IM(r)),"toUint8Array"),r7=Nh?r=>Buffer.from(r,"base64").toString("utf8"):kM?r=>kM.decode(RM(r)):r=>DM(Z_(r)),IM=a(r=>EM(r.replace(/[-_]/g,o=>o=="-"?"+":"/")),"_unURI"),Q_=a(r=>r7(IM(r)),"decode"),s7=a(r=>{if(typeof r!="string")return!1;let o=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(o)||!/[^\s0-9a-zA-Z\-_]/.test(o)},"isValid"),BM=a(r=>({value:r,enumerable:!1,writable:!0,configurable:!0}),"_noEnum"),NM=a(function(){let r=a((o,c)=>Object.defineProperty(String.prototype,o,BM(c)),"_add");r("fromBase64",function(){return Q_(this)}),r("toBase64",function(o){return zh(this,o)}),r("toBase64URI",function(){return zh(this,!0)}),r("toBase64URL",function(){return zh(this,!0)}),r("toUint8Array",function(){return FM(this)})},"extendString"),zM=a(function(){let r=a((o,c)=>Object.defineProperty(Uint8Array.prototype,o,BM(c)),"_add");r("toBase64",function(o){return kg(this,o)}),r("toBase64URI",function(){return kg(this,!0)}),r("toBase64URL",function(){return kg(this,!0)})},"extendUint8Array"),n7=a(()=>{NM(),zM()},"extendBuiltins"),a7={version:xM,VERSION:GU,atob:Z_,atobPolyfill:LM,btoa:X_,btoaPolyfill:OM,fromBase64:Q_,toBase64:zh,encode:zh,encodeURI:PM,encodeURL:PM,utob:MM,btou:DM,decode:Q_,isValid:s7,fromUint8Array:kg,toUint8Array:FM,extendString:NM,extendUint8Array:zM,extendBuiltins:n7},o7=g(F());function Sg(r){return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Sg(r)}a(Sg,"_typeof");function J_(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(J_,"_defineProperties");function UM(r,o,c){return o&&J_(r.prototype,o),c&&J_(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(UM,"_createClass");function HM(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(HM,"_classCallCheck");function WM(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&Uh(r,o)}a(WM,"_inherits");function jM(r){var o=ew();return a(function(){var c=Hh(r),p;if(o){var _=Hh(this).constructor;p=Reflect.construct(c,arguments,_)}else p=c.apply(this,arguments);return qM(this,p)},"_createSuperInternal")}a(jM,"_createSuper");function qM(r,o){if(o&&(Sg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $M(r)}a(qM,"_possibleConstructorReturn");function $M(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}a($M,"_assertThisInitialized");function Tg(r){var o=typeof Map=="function"?new Map:void 0;return Tg=a(function(c){if(c===null||!VM(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(typeof o<"u"){if(o.has(c))return o.get(c);o.set(c,p)}function p(){return Kd(c,arguments,Hh(this).constructor)}return a(p,"Wrapper"),p.prototype=Object.create(c.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),Uh(p,c)},"_wrapNativeSuper"),Tg(r)}a(Tg,"_wrapNativeSuper");function Kd(r,o,c){return ew()?Kd=Reflect.construct.bind():Kd=a(function(p,_,E){var R=[null];R.push.apply(R,_);var B=Function.bind.apply(p,R),q=new B;return E&&Uh(q,E.prototype),q},"_construct"),Kd.apply(null,arguments)}a(Kd,"_construct");function ew(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}a(ew,"_isNativeReflectConstruct");function VM(r){return Function.toString.call(r).indexOf("[native code]")!==-1}a(VM,"_isNativeFunction");function Uh(r,o){return Uh=Object.setPrototypeOf?Object.setPrototypeOf.bind():a(function(c,p){return c.__proto__=p,c},"_setPrototypeOf"),Uh(r,o)}a(Uh,"_setPrototypeOf");function Hh(r){return Hh=Object.setPrototypeOf?Object.getPrototypeOf.bind():a(function(o){return o.__proto__||Object.getPrototypeOf(o)},"_getPrototypeOf"),Hh(r)}a(Hh,"_getPrototypeOf");var l7=function(r){WM(c,r);var o=jM(c);function c(p){var _,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,B=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(HM(this,c),_=o.call(this,p),_.originalRequest=R,_.originalResponse=B,_.causingError=E,E!=null&&(p+=", caused by ".concat(E.toString())),R!=null){var q=R.getHeader("X-Request-ID")||"n/a",J=R.getMethod(),V=R.getURL(),ie=B?B.getStatus():"n/a",se=B?B.getBody()||"":"n/a";p+=", originated from request (method: ".concat(J,", url: ").concat(V,", response code: ").concat(ie,", response text: ").concat(se,", request id: ").concat(q,")")}return _.message=p,_}return a(c,"DetailedError"),UM(c)}(Tg(Error)),Cg=l7;function c7(r){}a(c7,"log");function YM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var o=Math.random()*16|0,c=r==="x"?o:o&3|8;return c.toString(16)})}a(YM,"uuid");function tw(r,o){return ZM(r)||KM(r,o)||XM(r,o)||GM()}a(tw,"_slicedToArray");function GM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}a(GM,"_nonIterableRest");function XM(r,o){if(r){if(typeof r=="string")return iw(r,o);var c=Object.prototype.toString.call(r).slice(8,-1);if(c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set")return Array.from(r);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return iw(r,o)}}a(XM,"_unsupportedIterableToArray");function iw(r,o){(o==null||o>r.length)&&(o=r.length);for(var c=0,p=new Array(o);c<o;c++)p[c]=r[c];return p}a(iw,"_arrayLikeToArray");function KM(r,o){var c=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var p=[],_=!0,E=!1,R,B;try{for(c=c.call(r);!(_=(R=c.next()).done)&&(p.push(R.value),!(o&&p.length===o));_=!0);}catch(q){E=!0,B=q}finally{try{!_&&c.return!=null&&c.return()}finally{if(E)throw B}}return p}}a(KM,"_iterableToArrayLimit");function ZM(r){if(Array.isArray(r))return r}a(ZM,"_arrayWithHoles");function rw(r,o){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);o&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),c.push.apply(c,p)}return c}a(rw,"ownKeys");function pc(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?rw(Object(c),!0).forEach(function(p){QM(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):rw(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}a(pc,"_objectSpread");function QM(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}a(QM,"_defineProperty");function JM(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(JM,"_classCallCheck");function sw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(sw,"_defineProperties");function eA(r,o,c){return o&&sw(r.prototype,o),c&&sw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(eA,"_createClass");var h7={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},tA=function(){function r(o,c){JM(this,r),"resume"in c&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=c,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=o,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return a(r,"BaseUpload"),eA(r,[{key:"findPreviousUploads",value:a(function(){var o=this;return this.options.fingerprint(this.file,this.options).then(function(c){return o._urlStorage.findUploadsByFingerprint(c)})},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:a(function(o){this.url=o.uploadUrl||null,this._parallelUploadUrls=o.parallelUploadUrls||null,this._urlStorageKey=o.urlStorageKey},"resumeFromPreviousUpload")},{key:"start",value:a(function(){var o=this,c=this.file;if(!c){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var p=this.options.retryDelays;if(p!=null&&Object.prototype.toString.call(p)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var _=0,E=["uploadUrl","uploadSize","uploadLengthDeferred"];_<E.length;_++){var R=E[_];if(this.options[R]){this._emitError(new Error("tus: cannot use the ".concat(R," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(c,this.options).then(function(B){return o._fingerprint=B,o._source?o._source:o.options.fileReader.openFile(c,o.options.chunkSize)}).then(function(B){if(o._source=B,o.options.uploadLengthDeferred)o._size=null;else if(o.options.uploadSize!=null){if(o._size=Number(o.options.uploadSize),Number.isNaN(o._size)){o._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(o._size=o._source.size,o._size==null){o._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}o.options.parallelUploads>1||o._parallelUploadUrls!=null?o._startParallelUpload():o._startSingleUpload()}).catch(function(B){o._emitError(B)})},"start")},{key:"_startParallelUpload",value:a(function(){var o,c=this,p=this._size,_=0;this._parallelUploads=[];var E=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,R=(o=this.options.parallelUploadBoundaries)!==null&&o!==void 0?o:rA(this._source.size,E);this._parallelUploadUrls&&R.forEach(function(J,V){J.uploadUrl=c._parallelUploadUrls[V]||null}),this._parallelUploadUrls=new Array(R.length);var B=R.map(function(J,V){var ie=0;return c._source.slice(J.start,J.end).then(function(se){var de=se.value;return new Promise(function(we,at){var Ge=pc(pc({},c.options),{},{uploadUrl:J.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:pc(pc({},c.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:we,onError:at,onProgress:a(function(qt){_=_-ie+qt,ie=qt,c._emitProgress(_,p)},"onProgress"),_onUploadUrlAvailable:a(function(){c._parallelUploadUrls[V]=mt.url,c._parallelUploadUrls.filter(function(qt){return!!qt}).length===R.length&&c._saveUploadInUrlStorage()},"_onUploadUrlAvailable")}),mt=new r(de,Ge);mt.start(),c._parallelUploads.push(mt)})})}),q;Promise.all(B).then(function(){q=c._openRequest("POST",c.options.endpoint),q.setHeader("Upload-Concat","final;".concat(c._parallelUploadUrls.join(" ")));var J=nw(c.options.metadata);return J!==""&&q.setHeader("Upload-Metadata",J),c._sendRequest(q,null)}).then(function(J){if(!mc(J.getStatus(),200)){c._emitHttpError(q,J,"tus: unexpected response while creating upload");return}var V=J.getHeader("Location");if(V==null){c._emitHttpError(q,J,"tus: invalid or missing Location header");return}c.url=cw(c.options.endpoint,V),"Created upload at ".concat(c.url),c._emitSuccess()}).catch(function(J){c._emitError(J)})},"_startParallelUpload")},{key:"_startSingleUpload",value:a(function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()},"_startSingleUpload")},{key:"abort",value:a(function(o){var c=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(p){p.abort(o)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!o||this.url==null?Promise.resolve():r.terminate(this.url,this.options).then(function(){return c._removeFromUrlStorage()})},"abort")},{key:"_emitHttpError",value:a(function(o,c,p,_){this._emitError(new Cg(p,_,o,c))},"_emitHttpError")},{key:"_emitError",value:a(function(o){var c=this;if(!this._aborted){if(this.options.retryDelays!=null){var p=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(p&&(this._retryAttempt=0),lw(o,this._retryAttempt,this.options)){var _=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){c.start()},_);return}}if(typeof this.options.onError=="function")this.options.onError(o);else throw o}},"_emitError")},{key:"_emitSuccess",value:a(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()},"_emitSuccess")},{key:"_emitProgress",value:a(function(o,c){typeof this.options.onProgress=="function"&&this.options.onProgress(o,c)},"_emitProgress")},{key:"_emitChunkComplete",value:a(function(o,c,p){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(o,c,p)},"_emitChunkComplete")},{key:"_createUpload",value:a(function(){var o=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var c=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?c.setHeader("Upload-Defer-Length",1):c.setHeader("Upload-Length",this._size);var p=nw(this.options.metadata);p!==""&&c.setHeader("Upload-Metadata",p);var _;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,_=this._addChunkToRequest(c)):_=this._sendRequest(c,null),_.then(function(E){if(!mc(E.getStatus(),200)){o._emitHttpError(c,E,"tus: unexpected response while creating upload");return}var R=E.getHeader("Location");if(R==null){o._emitHttpError(c,E,"tus: invalid or missing Location header");return}if(o.url=cw(o.options.endpoint,R),"Created upload at ".concat(o.url),typeof o.options._onUploadUrlAvailable=="function"&&o.options._onUploadUrlAvailable(),o._size===0){o._emitSuccess(),o._source.close();return}o._saveUploadInUrlStorage().then(function(){o.options.uploadDataDuringCreation?o._handleUploadResponse(c,E):(o._offset=0,o._performUpload())})}).catch(function(E){o._emitHttpError(c,null,"tus: failed to create upload",E)})},"_createUpload")},{key:"_resumeUpload",value:a(function(){var o=this,c=this._openRequest("HEAD",this.url),p=this._sendRequest(c,null);p.then(function(_){var E=_.getStatus();if(!mc(E,200)){if(E===423){o._emitHttpError(c,_,"tus: upload is currently locked; retry later");return}if(mc(E,400)&&o._removeFromUrlStorage(),!o.options.endpoint){o._emitHttpError(c,_,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}o.url=null,o._createUpload();return}var R=parseInt(_.getHeader("Upload-Offset"),10);if(Number.isNaN(R)){o._emitHttpError(c,_,"tus: invalid or missing offset value");return}var B=parseInt(_.getHeader("Upload-Length"),10);if(Number.isNaN(B)&&!o.options.uploadLengthDeferred){o._emitHttpError(c,_,"tus: invalid or missing length value");return}typeof o.options._onUploadUrlAvailable=="function"&&o.options._onUploadUrlAvailable(),o._saveUploadInUrlStorage().then(function(){if(R===B){o._emitProgress(B,B),o._emitSuccess();return}o._offset=R,o._performUpload()})}).catch(function(_){o._emitHttpError(c,null,"tus: failed to resume upload",_)})},"_resumeUpload")},{key:"_performUpload",value:a(function(){var o=this;if(!this._aborted){var c;this.options.overridePatchMethod?(c=this._openRequest("POST",this.url),c.setHeader("X-HTTP-Method-Override","PATCH")):c=this._openRequest("PATCH",this.url),c.setHeader("Upload-Offset",this._offset);var p=this._addChunkToRequest(c);p.then(function(_){if(!mc(_.getStatus(),200)){o._emitHttpError(c,_,"tus: unexpected response while uploading chunk");return}o._handleUploadResponse(c,_)}).catch(function(_){o._aborted||o._emitHttpError(c,null,"tus: failed to upload chunk at offset ".concat(o._offset),_)})}},"_performUpload")},{key:"_addChunkToRequest",value:a(function(o){var c=this,p=this._offset,_=this._offset+this.options.chunkSize;return o.setProgressHandler(function(E){c._emitProgress(p+E,c._size)}),o.setHeader("Content-Type","application/offset+octet-stream"),(_===1/0||_>this._size)&&!this.options.uploadLengthDeferred&&(_=this._size),this._source.slice(p,_).then(function(E){var R=E.value,B=E.done;return c.options.uploadLengthDeferred&&B&&(c._size=c._offset+(R&&R.size?R.size:0),o.setHeader("Upload-Length",c._size)),R===null?c._sendRequest(o):(c._emitProgress(c._offset,c._size),c._sendRequest(o,R))})},"_addChunkToRequest")},{key:"_handleUploadResponse",value:a(function(o,c){var p=parseInt(c.getHeader("Upload-Offset"),10);if(Number.isNaN(p)){this._emitHttpError(o,c,"tus: invalid or missing offset value");return}if(this._emitProgress(p,this._size),this._emitChunkComplete(p-this._offset,p,this._size),this._offset=p,p===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()},"_handleUploadResponse")},{key:"_openRequest",value:a(function(o,c){var p=aw(o,c,this.options);return this._req=p,p},"_openRequest")},{key:"_removeFromUrlStorage",value:a(function(){var o=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(c){o._emitError(c)}),this._urlStorageKey=null)},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:a(function(){var o=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var c={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?c.parallelUploadUrls=this._parallelUploadUrls:c.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,c).then(function(p){o._urlStorageKey=p})},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:a(function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return ow(o,c,this.options)},"_sendRequest")}],[{key:"terminate",value:a(function(o){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=aw("DELETE",o,c);return ow(p,null,c).then(function(_){if(_.getStatus()!==204)throw new Cg("tus: unexpected response while terminating upload",null,p,_)}).catch(function(_){if(_ instanceof Cg||(_=new Cg("tus: failed to terminate upload",_,p,null)),!lw(_,0,c))throw _;var E=c.retryDelays[0],R=c.retryDelays.slice(1),B=pc(pc({},c),{},{retryDelays:R});return new Promise(function(q){return setTimeout(q,E)}).then(function(){return r.terminate(o,B)})})},"terminate")}]),r}();function nw(r){return Object.entries(r).map(function(o){var c=tw(o,2),p=c[0],_=c[1];return"".concat(p," ").concat(a7.encode(String(_)))}).join(",")}a(nw,"encodeMetadata");function mc(r,o){return r>=o&&r<o+100}a(mc,"inStatusCategory");function aw(r,o,c){var p=c.httpStack.createRequest(r,o);p.setHeader("Tus-Resumable","1.0.0");var _=c.headers||{};if(Object.entries(_).forEach(function(R){var B=tw(R,2),q=B[0],J=B[1];p.setHeader(q,J)}),c.addRequestId){var E=YM();p.setHeader("X-Request-ID",E)}return p}a(aw,"openRequest");function ow(r,o,c){var p=typeof c.onBeforeRequest=="function"?Promise.resolve(c.onBeforeRequest(r)):Promise.resolve();return p.then(function(){return r.send(o).then(function(_){var E=typeof c.onAfterResponse=="function"?Promise.resolve(c.onAfterResponse(r,_)):Promise.resolve();return E.then(function(){return _})})})}a(ow,"sendRequest");function iA(){var r=!0;return typeof window<"u"&&"navigator"in window&&window.navigator.onLine===!1&&(r=!1),r}a(iA,"isOnline");function lw(r,o,c){if(c.retryDelays==null||o>=c.retryDelays.length||r.originalRequest==null)return!1;if(c&&typeof c.onShouldRetry=="function")return c.onShouldRetry(r,o,c);var p=r.originalResponse?r.originalResponse.getStatus():0;return(!mc(p,400)||p===409||p===423)&&iA()}a(lw,"shouldRetry");function cw(r,o){return new o7.default(o,r).toString()}a(cw,"resolveUrl");function rA(r,o){for(var c=Math.floor(r/o),p=[],_=0;_<o;_++)p.push({start:c*_,end:c*(_+1)});return p[o-1].end=r,p}a(rA,"splitSizeIntoParts"),tA.defaultOptions=h7;var hw=tA;function sA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(sA,"_classCallCheck");function uw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(uw,"_defineProperties");function nA(r,o,c){return o&&uw(r.prototype,o),c&&uw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(nA,"_createClass");var u7=function(){function r(){sA(this,r)}return a(r,"NoopUrlStorage"),nA(r,[{key:"listAllUploads",value:a(function(){return Promise.resolve([])},"listAllUploads")},{key:"findUploadsByFingerprint",value:a(function(o){return Promise.resolve([])},"findUploadsByFingerprint")},{key:"removeUpload",value:a(function(o){return Promise.resolve()},"removeUpload")},{key:"addUpload",value:a(function(o,c){return Promise.resolve(null)},"addUpload")}]),r}();function aA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(aA,"_classCallCheck");function dw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(dw,"_defineProperties");function oA(r,o,c){return o&&dw(r.prototype,o),c&&dw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(oA,"_createClass");var fw=!1;try{fw="localStorage"in window,pw="tusSupport",localStorage.setItem(pw,localStorage.getItem(pw))}catch(r){if(r.code===r.SECURITY_ERR||r.code===r.QUOTA_EXCEEDED_ERR)fw=!1;else throw r}var pw,d7=fw,f7=function(){function r(){aA(this,r)}return a(r,"WebStorageUrlStorage"),oA(r,[{key:"findAllUploads",value:a(function(){var o=this._findEntries("tus::");return Promise.resolve(o)},"findAllUploads")},{key:"findUploadsByFingerprint",value:a(function(o){var c=this._findEntries("tus::".concat(o,"::"));return Promise.resolve(c)},"findUploadsByFingerprint")},{key:"removeUpload",value:a(function(o){return localStorage.removeItem(o),Promise.resolve()},"removeUpload")},{key:"addUpload",value:a(function(o,c){var p=Math.round(Math.random()*1e12),_="tus::".concat(o,"::").concat(p);return localStorage.setItem(_,JSON.stringify(c)),Promise.resolve(_)},"addUpload")},{key:"_findEntries",value:a(function(o){for(var c=[],p=0;p<localStorage.length;p++){var _=localStorage.key(p);if(_.indexOf(o)===0)try{var E=JSON.parse(localStorage.getItem(_));E.urlStorageKey=_,c.push(E)}catch{}}return c},"_findEntries")}]),r}();function Eg(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(Eg,"_classCallCheck");function mw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(mw,"_defineProperties");function Og(r,o,c){return o&&mw(r.prototype,o),c&&mw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(Og,"_createClass");var p7=function(){function r(){Eg(this,r)}return a(r,"XHRHttpStack"),Og(r,[{key:"createRequest",value:a(function(o,c){return new m7(o,c)},"createRequest")},{key:"getName",value:a(function(){return"XHRHttpStack"},"getName")}]),r}(),m7=function(){function r(o,c){Eg(this,r),this._xhr=new XMLHttpRequest,this._xhr.open(o,c,!0),this._method=o,this._url=c,this._headers={}}return a(r,"Request"),Og(r,[{key:"getMethod",value:a(function(){return this._method},"getMethod")},{key:"getURL",value:a(function(){return this._url},"getURL")},{key:"setHeader",value:a(function(o,c){this._xhr.setRequestHeader(o,c),this._headers[o]=c},"setHeader")},{key:"getHeader",value:a(function(o){return this._headers[o]},"getHeader")},{key:"setProgressHandler",value:a(function(o){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(c){!c.lengthComputable||o(c.loaded)})},"setProgressHandler")},{key:"send",value:a(function(){var o=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(p,_){o._xhr.onload=function(){p(new g7(o._xhr))},o._xhr.onerror=function(E){_(E)},o._xhr.send(c)})},"send")},{key:"abort",value:a(function(){return this._xhr.abort(),Promise.resolve()},"abort")},{key:"getUnderlyingObject",value:a(function(){return this._xhr},"getUnderlyingObject")}]),r}(),g7=function(){function r(o){Eg(this,r),this._xhr=o}return a(r,"Response"),Og(r,[{key:"getStatus",value:a(function(){return this._xhr.status},"getStatus")},{key:"getHeader",value:a(function(o){return this._xhr.getResponseHeader(o)},"getHeader")},{key:"getBody",value:a(function(){return this._xhr.responseText},"getBody")},{key:"getUnderlyingObject",value:a(function(){return this._xhr},"getUnderlyingObject")}]),r}(),y7=a(function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},"isReactNative"),lA=y7;function cA(r){return new Promise(function(o,c){var p=new XMLHttpRequest;p.responseType="blob",p.onload=function(){var _=p.response;o(_)},p.onerror=function(_){c(_)},p.open("GET",r),p.send()})}a(cA,"uriToBlob");var v7=a(function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")},"isCordova"),b7=v7;function hA(r){return new Promise(function(o,c){var p=new FileReader;p.onload=function(){var _=new Uint8Array(p.result);o({value:_})},p.onerror=function(_){c(_)},p.readAsArrayBuffer(r)})}a(hA,"readAsByteArray");function uA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(uA,"_classCallCheck");function gw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(gw,"_defineProperties");function dA(r,o,c){return o&&gw(r.prototype,o),c&&gw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(dA,"_createClass");var fA=function(){function r(o){uA(this,r),this._file=o,this.size=o.size}return a(r,"FileSource"),dA(r,[{key:"slice",value:a(function(o,c){if(b7())return hA(this._file.slice(o,c));var p=this._file.slice(o,c);return Promise.resolve({value:p})},"slice")},{key:"close",value:a(function(){},"close")}]),r}();function pA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(pA,"_classCallCheck");function yw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(yw,"_defineProperties");function mA(r,o,c){return o&&yw(r.prototype,o),c&&yw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(mA,"_createClass");function vw(r){return r===void 0?0:r.size!==void 0?r.size:r.length}a(vw,"len");function gA(r,o){if(r.concat)return r.concat(o);if(r instanceof Blob)return new Blob([r,o],{type:r.type});if(r.set){var c=new r.constructor(r.length+o.length);return c.set(r),c.set(o,r.length),c}throw new Error("Unknown data type")}a(gA,"concat");var _7=function(){function r(o){pA(this,r),this._buffer=void 0,this._bufferOffset=0,this._reader=o,this._done=!1}return a(r,"StreamSource"),mA(r,[{key:"slice",value:a(function(o,c){return o<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(o,c)},"slice")},{key:"_readUntilEnoughDataOrDone",value:a(function(o,c){var p=this,_=c<=this._bufferOffset+vw(this._buffer);if(this._done||_){var E=this._getDataFromBuffer(o,c),R=E==null?this._done:!1;return Promise.resolve({value:E,done:R})}return this._reader.read().then(function(B){var q=B.value,J=B.done;return J?p._done=!0:p._buffer===void 0?p._buffer=q:p._buffer=gA(p._buffer,q),p._readUntilEnoughDataOrDone(o,c)})},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:a(function(o,c){o>this._bufferOffset&&(this._buffer=this._buffer.slice(o-this._bufferOffset),this._bufferOffset=o);var p=vw(this._buffer)===0;return this._done&&p?null:this._buffer.slice(0,c-o)},"_getDataFromBuffer")},{key:"close",value:a(function(){this._reader.cancel&&this._reader.cancel()},"close")}]),r}();function yA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(yA,"_classCallCheck");function bw(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(bw,"_defineProperties");function vA(r,o,c){return o&&bw(r.prototype,o),c&&bw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(vA,"_createClass");var w7=function(){function r(){yA(this,r)}return a(r,"FileReader"),vA(r,[{key:"openFile",value:a(function(o,c){return lA()&&o&&typeof o.uri<"u"?cA(o.uri).then(function(p){return new fA(p)}).catch(function(p){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(p))}):typeof o.slice=="function"&&typeof o.size<"u"?Promise.resolve(new fA(o)):typeof o.read=="function"?(c=Number(c),Number.isFinite(c)?Promise.resolve(new _7(o,c)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))},"openFile")}]),r}();function bA(r,o){return lA()?Promise.resolve(_A(r,o)):Promise.resolve(["tus-br",r.name,r.type,r.size,r.lastModified,o.endpoint].join("-"))}a(bA,"fingerprint");function _A(r,o){var c=r.exif?wA(JSON.stringify(r.exif)):"noexif";return["tus-rn",r.name||"noname",r.size||"nosize",c,o.endpoint].join("/")}a(_A,"reactNativeFingerprint");function wA(r){var o=0;if(r.length===0)return o;for(var c=0;c<r.length;c++){var p=r.charCodeAt(c);o=(o<<5)-o+p,o&=o}return o}a(wA,"hashCode");function Mg(r){return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},Mg(r)}a(Mg,"_typeof");function xA(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}a(xA,"_classCallCheck");function _w(r,o){for(var c=0;c<o.length;c++){var p=o[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}a(_w,"_defineProperties");function kA(r,o,c){return o&&_w(r.prototype,o),c&&_w(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}a(kA,"_createClass");function SA(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),o&&Ag(r,o)}a(SA,"_inherits");function Ag(r,o){return Ag=Object.setPrototypeOf?Object.setPrototypeOf.bind():a(function(c,p){return c.__proto__=p,c},"_setPrototypeOf"),Ag(r,o)}a(Ag,"_setPrototypeOf");function TA(r){var o=OA();return a(function(){var c=Zd(r),p;if(o){var _=Zd(this).constructor;p=Reflect.construct(c,arguments,_)}else p=c.apply(this,arguments);return CA(this,p)},"_createSuperInternal")}a(TA,"_createSuper");function CA(r,o){if(o&&(Mg(o)==="object"||typeof o=="function"))return o;if(o!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EA(r)}a(CA,"_possibleConstructorReturn");function EA(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}a(EA,"_assertThisInitialized");function OA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}a(OA,"_isNativeReflectConstruct");function Zd(r){return Zd=Object.setPrototypeOf?Object.getPrototypeOf.bind():a(function(o){return o.__proto__||Object.getPrototypeOf(o)},"_getPrototypeOf"),Zd(r)}a(Zd,"_getPrototypeOf");function ww(r,o){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);o&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),c.push.apply(c,p)}return c}a(ww,"ownKeys");function gc(r){for(var o=1;o<arguments.length;o++){var c=arguments[o]!=null?arguments[o]:{};o%2?ww(Object(c),!0).forEach(function(p){MA(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):ww(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}a(gc,"_objectSpread");function MA(r,o,c){return o in r?Object.defineProperty(r,o,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[o]=c,r}a(MA,"_defineProperty");var xw=gc(gc({},hw.defaultOptions),{},{httpStack:new p7,fileReader:new w7,urlStorage:d7?new f7:new u7,fingerprint:bA}),x7=function(r){SA(c,r);var o=TA(c);function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return xA(this,c),_=gc(gc({},xw),_),o.call(this,p,_)}return a(c,"Upload"),kA(c,null,[{key:"terminate",value:a(function(p,_,E){return _=gc(gc({},xw),_),hw.terminate(p,_,E)},"terminate")}]),c}(hw);function kw(r){let o=[],c=[];function p(E){o.push(E)}a(p,"resolved");function _(E){c.push(E)}return a(_,"rejected"),Promise.all(r.map(E=>E.then(p,_))).then(()=>({successful:o,failed:c}))}a(kw,"settle");function AA(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}a(AA,"isCordova");function PA(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}a(PA,"isReactNative");function DA(r){return(o,c)=>{if(AA()||PA())return xw.fingerprint(o,c);let p=["tus",r.id,c.endpoint].join("-");return Promise.resolve(p)}}a(DA,"getFingerprint");function Wh(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Wh,"_classPrivateFieldLooseBase");var k7=0;function Pg(r){return"__private_"+k7+++"_"+r}a(Pg,"_classPrivateFieldLooseKey");var S7={version:"3.0.5"},LA={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},Qd=Pg("retryDelayIterator"),Jd=Pg("queueRequestSocketToken"),Sw=Pg("requestSocketToken"),ef=class extends On{constructor(r,o){var c,p;super(r,o),Object.defineProperty(this,Qd,{writable:!0,value:void 0}),Object.defineProperty(this,Jd,{writable:!0,value:void 0}),Object.defineProperty(this,Sw,{writable:!0,value:async E=>{let R=E.remote.providerOptions.provider?br:cn,B=new R(this.uppy,E.remote.providerOptions),q={...this.opts};return E.tus&&Object.assign(q,E.tus),(await B.post(E.remote.url,{...E.remote.body,endpoint:q.endpoint,uploadUrl:q.uploadUrl,protocol:"tus",size:E.data.size,headers:q.headers,metadata:E.meta})).token}}),this.type="uploader",this.id=this.opts.id||"Tus",this.title="Tus";let _={useFastRemoteRetry:!0,limit:20,retryDelays:LA.retryDelays,withCredentials:!1};if(this.opts={..._,...o},(o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in o)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=(c=this.opts.rateLimitedQueue)!=null?c:new ec(this.opts.limit),Wh(this,Qd)[Qd]=(p=this.opts.retryDelays)==null?void 0:p.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this),this.handleUpload=this.handleUpload.bind(this),Wh(this,Jd)[Jd]=this.requests.wrapPromiseFunction(Wh(this,Sw)[Sw],{priority:-1})}handleResetProgress(){let r={...this.uppy.getState().files};Object.keys(r).forEach(o=>{if(r[o].tus&&r[o].tus.uploadUrl){let c={...r[o].tus};delete c.uploadUrl,r[o]={...r[o],tus:c}}}),this.uppy.setState({files:r})}resetUploaderReferences(r,o){if(o===void 0&&(o={}),this.uploaders[r]){let c=this.uploaders[r];c.abort(),o.abort&&c.abort(!0),this.uploaders[r]=null}this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null),this.uploaderSockets[r]&&(this.uploaderSockets[r].close(),this.uploaderSockets[r]=null)}upload(r){var o=this;return this.resetUploaderReferences(r.id),new Promise((c,p)=>{let _,E,R;this.uppy.emit("upload-started",r);let B={...this.opts,...r.tus||{}};typeof B.headers=="function"&&(B.headers=B.headers(r));let q={...LA,...B};q.fingerprint=DA(r),q.onBeforeRequest=se=>{let de=se.getUnderlyingObject();de.withCredentials=!!B.withCredentials;let we;if(typeof B.onBeforeRequest=="function"&&(we=B.onBeforeRequest(se,r)),w(_,"shouldBeRequeued")){if(!_.shouldBeRequeued)return Promise.reject();let at,Ge=new Promise(mt=>{at=mt});return _=this.requests.run(()=>(r.isPaused&&_.abort(),at(),()=>{})),Promise.all([Ge,we])}return we},q.onError=se=>{var de;this.uppy.log(se);let we=se.originalRequest?se.originalRequest.getUnderlyingObject():null;_g(we)&&(se=new Sh(se,we)),this.resetUploaderReferences(r.id),(de=_)==null||de.abort(),this.uppy.emit("upload-error",r,se),p(se)},q.onProgress=(se,de)=>{this.onReceiveUploadUrl(r,R.url),this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:se,bytesTotal:de})},q.onSuccess=()=>{let se={uploadURL:R.url};this.resetUploaderReferences(r.id),_.done(),this.uppy.emit("upload-success",r,se),R.url&&this.uppy.log(`Download ${R.file.name} from ${R.url}`),c(R)};let J=a(se=>{var de;let we=se==null||(de=se.originalResponse)==null?void 0:de.getStatus();if(we===429){if(!this.requests.isPaused){var at;let Ge=(at=Wh(this,Qd)[Qd])==null?void 0:at.next();if(Ge==null||Ge.done)return!1;this.requests.rateLimit(Ge.value)}}else{if(we>400&&we<500&&we!==409)return!1;typeof navigator<"u"&&navigator.onLine===!1&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return _.abort(),_={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0},"defaultOnShouldRetry");B.onShouldRetry!=null?q.onShouldRetry=function(){for(var se=arguments.length,de=new Array(se),we=0;we<se;we++)de[we]=arguments[we];return B.onShouldRetry(...de,J)}:q.onShouldRetry=J;let V=a((se,de,we)=>{w(se,de)&&!w(se,we)&&(se[we]=se[de])},"copyProp"),ie={};(Array.isArray(B.allowedMetaFields)?B.allowedMetaFields:Object.keys(r.meta)).forEach(se=>{ie[se]=r.meta[se]}),V(ie,"type","filetype"),V(ie,"name","filename"),q.metadata=ie,R=new x7(r.data,q),this.uploaders[r.id]=R,this.uploaderEvents[r.id]=new mo(this.uppy),E=a(()=>(r.isPaused||R.start(),()=>{}),"qRequest"),R.findPreviousUploads().then(se=>{let de=se[0];de&&(this.uppy.log(`[Tus] Resuming upload of ${r.id} started at ${de.creationTime}`),R.resumeFromPreviousUpload(de))}),_=this.requests.run(E),this.onFileRemove(r.id,se=>{_.abort(),this.resetUploaderReferences(r.id,{abort:!!R.url}),c(`upload ${se} was removed`)}),this.onPause(r.id,se=>{_.abort(),se?R.abort():_=this.requests.run(E)}),this.onPauseAll(r.id,()=>{_.abort(),R.abort()}),this.onCancelAll(r.id,function(se){let{reason:de}=se===void 0?{}:se;de==="user"&&(_.abort(),o.resetUploaderReferences(r.id,{abort:!!R.url})),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{_.abort(),r.error&&R.abort(),_=this.requests.run(E)})}).catch(c=>{throw this.uppy.emit("upload-error",r,c),c})}async uploadRemote(r){this.resetUploaderReferences(r.id),(!r.progress.uploadStarted||!r.isRestored)&&this.uppy.emit("upload-started",r);try{if(r.serverToken)return this.connectToServerSocket(r);let o=await Wh(this,Jd)[Jd](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(o){throw this.uppy.emit("upload-error",r,o),o}}connectToServerSocket(r){var o=this;return new Promise((c,p)=>{let _=r.serverToken,E=Md(r.remote.companionUrl),R=new Eh({target:`${E}/api/${_}`});this.uploaderSockets[r.id]=R,this.uploaderEvents[r.id]=new mo(this.uppy);let B;this.onFileRemove(r.id,()=>{B.abort(),R.send("cancel",{}),this.resetUploaderReferences(r.id),c(`upload ${r.id} was removed`)}),this.onPause(r.id,q=>{q?(B.abort(),R.send("pause",{})):(B.abort(),B=this.requests.run(()=>(R.send("resume",{}),()=>{})))}),this.onPauseAll(r.id,()=>{B.abort(),R.send("pause",{})}),this.onCancelAll(r.id,function(q){let{reason:J}=q===void 0?{}:q;J==="user"&&(B.abort(),R.send("cancel",{}),o.resetUploaderReferences(r.id)),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{B.abort(),r.error&&R.send("pause",{}),B=this.requests.run(()=>(R.send("resume",{}),()=>{}))}),this.onRetry(r.id,()=>{R.isOpen&&(R.send("pause",{}),R.send("resume",{}))}),this.onRetryAll(r.id,()=>{R.isOpen&&(R.send("pause",{}),R.send("resume",{}))}),R.on("progress",q=>bg(this,q,r)),R.on("error",q=>{let{message:J}=q.error,V=Object.assign(new Error(J),{cause:q.error});this.opts.useFastRemoteRetry?R.close():(this.resetUploaderReferences(r.id),this.uppy.setFileState(r.id,{serverToken:null})),this.uppy.emit("upload-error",r,V),B.done(),p(V)}),R.on("success",q=>{let J={uploadURL:q.url};this.uppy.emit("upload-success",r,J),this.resetUploaderReferences(r.id),B.done(),c()}),B=this.requests.run(()=>(r.isPaused&&R.send("pause",{}),()=>{}))})}onReceiveUploadUrl(r,o){let c=this.uppy.getFile(r.id);!c||(!c.tus||c.tus.uploadUrl!==o)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(c.id,{tus:{...c.tus,uploadUrl:o}}))}onFileRemove(r,o){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&o(c.id)})}onPause(r,o){this.uploaderEvents[r].on("upload-pause",(c,p)=>{r===c&&o(p)})}onRetry(r,o){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&o()})}onRetryAll(r,o){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||o()})}onPauseAll(r,o){this.uploaderEvents[r].on("pause-all",()=>{!this.uppy.getFile(r)||o()})}onCancelAll(r,o){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||o(...arguments)})}onResumeAll(r,o){this.uploaderEvents[r].on("resume-all",()=>{!this.uppy.getFile(r)||o()})}uploadFiles(r){let o=r.map((c,p)=>{let _=p+1,E=r.length;return"error"in c&&c.error?Promise.reject(new Error(c.error)):c.isRemote?((!c.progress.uploadStarted||!c.isRestored)&&this.uppy.emit("upload-started",c),this.uploadRemote(c,_,E)):((!c.progress.uploadStarted||!c.isRestored)&&this.uppy.emit("upload-started",c),this.upload(c,_,E))});return kw(o)}handleUpload(r){if(r.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");let o=r.map(c=>this.uppy.getFile(c));return this.uploadFiles(o).then(()=>null)}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(this.handleUpload)}};a(ef,"Tus"),ef.VERSION=S7.version;var T7=g(z(),1),Ca=Object.create(null);Ca.open="0",Ca.close="1",Ca.ping="2",Ca.pong="3",Ca.message="4",Ca.upgrade="5",Ca.noop="6";var Dg=Object.create(null);Object.keys(Ca).forEach(r=>{Dg[Ca[r]]=r});var C7={type:"error",data:"parser error"},E7=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",O7=typeof ArrayBuffer=="function",M7=a(r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,"isView"),A7=a(({type:r,data:o},c,p)=>E7&&o instanceof Blob?c?p(o):RA(o,p):O7&&(o instanceof ArrayBuffer||M7(o))?c?p(o):RA(new Blob([o]),p):p(Ca[r]+(o||"")),"encodePacket"),RA=a((r,o)=>{let c=new FileReader;return c.onload=function(){let p=c.result.split(",")[1];o("b"+p)},c.readAsDataURL(r)},"encodeBlobAsBase64"),FA=A7,IA="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",tf=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<IA.length;r++)tf[IA.charCodeAt(r)]=r;var P7=a(r=>{let o=r.length*.75,c=r.length,p,_=0,E,R,B,q;r[r.length-1]==="="&&(o--,r[r.length-2]==="="&&o--);let J=new ArrayBuffer(o),V=new Uint8Array(J);for(p=0;p<c;p+=4)E=tf[r.charCodeAt(p)],R=tf[r.charCodeAt(p+1)],B=tf[r.charCodeAt(p+2)],q=tf[r.charCodeAt(p+3)],V[_++]=E<<2|R>>4,V[_++]=(R&15)<<4|B>>2,V[_++]=(B&3)<<6|q&63;return J},"decode"),D7=typeof ArrayBuffer=="function",L7=a((r,o)=>{if(typeof r!="string")return{type:"message",data:BA(r,o)};let c=r.charAt(0);return c==="b"?{type:"message",data:R7(r.substring(1),o)}:Dg[c]?r.length>1?{type:Dg[c],data:r.substring(1)}:{type:Dg[c]}:C7},"decodePacket"),R7=a((r,o)=>{if(D7){let c=P7(r);return BA(c,o)}else return{base64:!0,data:r}},"decodeBase64Packet"),BA=a((r,o)=>{switch(o){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}},"mapBinary"),NA=L7,zA="",F7=a((r,o)=>{let c=r.length,p=new Array(c),_=0;r.forEach((E,R)=>{FA(E,!1,B=>{p[R]=B,++_===c&&o(p.join(zA))})})},"encodePayload"),I7=a((r,o)=>{let c=r.split(zA),p=[];for(let _=0;_<c.length;_++){let E=NA(c[_],o);if(p.push(E),E.type==="error")break}return p},"decodePayload"),UA=4;function wr(r){if(r)return HA(r)}a(wr,"Emitter");function HA(r){for(var o in wr.prototype)r[o]=wr.prototype[o];return r}a(HA,"mixin"),wr.prototype.on=wr.prototype.addEventListener=function(r,o){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(o),this},wr.prototype.once=function(r,o){function c(){this.off(r,c),o.apply(this,arguments)}return a(c,"on"),c.fn=o,this.on(r,c),this},wr.prototype.off=wr.prototype.removeListener=wr.prototype.removeAllListeners=wr.prototype.removeEventListener=function(r,o){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var c=this._callbacks["$"+r];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var p,_=0;_<c.length;_++)if(p=c[_],p===o||p.fn===o){c.splice(_,1);break}return c.length===0&&delete this._callbacks["$"+r],this},wr.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var o=new Array(arguments.length-1),c=this._callbacks["$"+r],p=1;p<arguments.length;p++)o[p-1]=arguments[p];if(c){c=c.slice(0);for(var p=0,_=c.length;p<_;++p)c[p].apply(this,o)}return this},wr.prototype.emitReserved=wr.prototype.emit,wr.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},wr.prototype.hasListeners=function(r){return!!this.listeners(r).length};var al=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function Tw(r,...o){return o.reduce((c,p)=>(r.hasOwnProperty(p)&&(c[p]=r[p]),c),{})}a(Tw,"pick");var B7=setTimeout,N7=clearTimeout;function rf(r,o){o.useNativeTimers?(r.setTimeoutFn=B7.bind(al),r.clearTimeoutFn=N7.bind(al)):(r.setTimeoutFn=setTimeout.bind(al),r.clearTimeoutFn=clearTimeout.bind(al))}a(rf,"installTimerFunctions");var z7=1.33;function WA(r){return typeof r=="string"?jA(r):Math.ceil((r.byteLength||r.size)*z7)}a(WA,"byteLength");function jA(r){let o=0,c=0;for(let p=0,_=r.length;p<_;p++)o=r.charCodeAt(p),o<128?c+=1:o<2048?c+=2:o<55296||o>=57344?c+=3:(p++,c+=4);return c}a(jA,"utf8Length");var qA=class extends Error{constructor(r,o,c){super(r),this.description=o,this.context=c,this.type="TransportError"}};a(qA,"TransportError");var Cw=class extends wr{constructor(r){super(),this.writable=!1,rf(this,r),this.opts=r,this.query=r.query,this.readyState="",this.socket=r.socket}onError(r,o,c){return super.emitReserved("error",new qA(r,o,c)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let o=NA(r,this.socket.binaryType);this.onPacket(o)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}};a(Cw,"Transport");var $A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),Ew=64,U7={},VA=0,Lg=0,YA;function Ow(r){let o="";do o=$A[r%Ew]+o,r=Math.floor(r/Ew);while(r>0);return o}a(Ow,"encode");function Mw(){let r=Ow(+new Date);return r!==YA?(VA=0,YA=r):r+"."+Ow(VA++)}for(a(Mw,"yeast");Lg<Ew;Lg++)U7[$A[Lg]]=Lg;function Aw(r){let o="";for(let c in r)r.hasOwnProperty(c)&&(o.length&&(o+="&"),o+=encodeURIComponent(c)+"="+encodeURIComponent(r[c]));return o}a(Aw,"encode");function GA(r){let o={},c=r.split("&");for(let p=0,_=c.length;p<_;p++){let E=c[p].split("=");o[decodeURIComponent(E[0])]=decodeURIComponent(E[1])}return o}a(GA,"decode");var XA=!1;try{XA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var H7=XA;function Pw(r){let o=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!o||H7))return new XMLHttpRequest}catch{}if(!o)try{return new al[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}a(Pw,"XHR");function KA(){}a(KA,"empty");var W7=function(){return new Pw({xdomain:!1}).responseType!=null}(),ZA=class extends Cw{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){let c=location.protocol==="https:",p=location.port;p||(p=c?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||p!==r.port,this.xs=r.secure!==c}let o=r&&r.forceBase64;this.supportsBinary=W7&&!o}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";let o=a(()=>{this.readyState="paused",r()},"pause");if(this.polling||!this.writable){let c=0;this.polling&&(c++,this.once("pollComplete",function(){--c||o()})),this.writable||(c++,this.once("drain",function(){--c||o()}))}else o()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let o=a(c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)},"callback");I7(r,this.socket.binaryType).forEach(o),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let r=a(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,F7(r,o=>{this.doWrite(o,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.query||{},o=this.opts.secure?"https":"http",c="";this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Mw()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.opts.port&&(o==="https"&&Number(this.opts.port)!==443||o==="http"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port);let p=Aw(r),_=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+(p.length?"?"+p:"")}request(r={}){return Object.assign(r,{xd:this.xd,xs:this.xs},this.opts),new Ea(this.uri(),r)}doWrite(r,o){let c=this.request({method:"POST",data:r});c.on("success",o),c.on("error",(p,_)=>{this.onError("xhr post error",p,_)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(o,c)=>{this.onError("xhr poll error",o,c)}),this.pollXhr=r}};a(ZA,"Polling");var Ea=class extends wr{constructor(r,o){super(),rf(this,o),this.opts=o,this.method=o.method||"GET",this.uri=r,this.async=o.async!==!1,this.data=o.data!==void 0?o.data:null,this.create()}create(){let r=Tw(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd,r.xscheme=!!this.opts.xs;let o=this.xhr=new Pw(r);try{o.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){o.setDisableHeaderCheck&&o.setDisableHeaderCheck(!0);for(let c in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(c)&&o.setRequestHeader(c,this.opts.extraHeaders[c])}}catch{}if(this.method==="POST")try{o.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{o.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in o&&(o.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(o.timeout=this.opts.requestTimeout),o.onreadystatechange=()=>{o.readyState===4&&(o.status===200||o.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof o.status=="number"?o.status:0)},0))},o.send(this.data)}catch(c){this.setTimeoutFn(()=>{this.onError(c)},0);return}typeof document<"u"&&(this.index=Ea.requestsCount++,Ea.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=KA,r)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Ea.requests[this.index],this.xhr=null}}onLoad(){let r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(a(Ea,"Request"),Ea.requestsCount=0,Ea.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Dw);else if(typeof addEventListener=="function"){let r="onpagehide"in al?"pagehide":"unload";addEventListener(r,Dw,!1)}}function Dw(){for(let r in Ea.requests)Ea.requests.hasOwnProperty(r)&&Ea.requests[r].abort()}a(Dw,"unloadHandler");var j7=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,o)=>o(r,0),Rg=al.WebSocket||al.MozWebSocket,QA=!0,q7="arraybuffer",JA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",eP=class extends Cw{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let r=this.uri(),o=this.opts.protocols,c=JA?{}:Tw(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=QA&&!JA?o?new Rg(r,o):new Rg(r):new Rg(r,o,c)}catch(p){return this.emitReserved("error",p)}this.ws.binaryType=this.socket.binaryType||q7,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let o=0;o<r.length;o++){let c=r[o],p=o===r.length-1;FA(c,this.supportsBinary,_=>{let E={};try{QA?this.ws.send(_):this.ws.send(_,E)}catch{}p&&j7(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let r=this.query||{},o=this.opts.secure?"wss":"ws",c="";this.opts.port&&(o==="wss"&&Number(this.opts.port)!==443||o==="ws"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port),this.opts.timestampRequests&&(r[this.opts.timestampParam]=Mw()),this.supportsBinary||(r.b64=1);let p=Aw(r),_=this.opts.hostname.indexOf(":")!==-1;return o+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+(p.length?"?"+p:"")}check(){return!!Rg}};a(eP,"WS");var $7={websocket:eP,polling:ZA},V7=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Y7=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fg(r){let o=r,c=r.indexOf("["),p=r.indexOf("]");c!=-1&&p!=-1&&(r=r.substring(0,c)+r.substring(c,p).replace(/:/g,";")+r.substring(p,r.length));let _=V7.exec(r||""),E={},R=14;for(;R--;)E[Y7[R]]=_[R]||"";return c!=-1&&p!=-1&&(E.source=o,E.host=E.host.substring(1,E.host.length-1).replace(/;/g,":"),E.authority=E.authority.replace("[","").replace("]","").replace(/;/g,":"),E.ipv6uri=!0),E.pathNames=tP(E,E.path),E.queryKey=iP(E,E.query),E}a(Fg,"parse");function tP(r,o){let c=/\/{2,9}/g,p=o.replace(c,"/").split("/");return(o.substr(0,1)=="/"||o.length===0)&&p.splice(0,1),o.substr(o.length-1,1)=="/"&&p.splice(p.length-1,1),p}a(tP,"pathNames");function iP(r,o){let c={};return o.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(p,_,E){_&&(c[_]=E)}),c}a(iP,"queryKey");var bo=class extends wr{constructor(r,o={}){super(),r&&typeof r=="object"&&(o=r,r=null),r?(r=Fg(r),o.hostname=r.host,o.secure=r.protocol==="https"||r.protocol==="wss",o.port=r.port,r.query&&(o.query=r.query)):o.host&&(o.hostname=Fg(o.host).host),rf(this,o),this.secure=o.secure!=null?o.secure:typeof location<"u"&&location.protocol==="https:",o.hostname&&!o.port&&(o.port=this.secure?"443":"80"),this.hostname=o.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=o.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=o.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},o),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=GA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){let o=Object.assign({},this.opts.query);o.EIO=UA,o.transport=r,this.id&&(o.sid=this.id);let c=Object.assign({},this.opts.transportOptions[r],this.opts,{query:o,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new $7[r](c)}open(){let r;if(this.opts.rememberUpgrade&&bo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch{this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",o=>this.onClose("transport close",o))}probe(r){let o=this.createTransport(r),c=!1;bo.priorWebsocketSuccess=!1;let p=a(()=>{c||(o.send([{type:"ping",data:"probe"}]),o.once("packet",V=>{if(!c)if(V.type==="pong"&&V.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",o),!o)return;bo.priorWebsocketSuccess=o.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(J(),this.setTransport(o),o.send([{type:"upgrade"}]),this.emitReserved("upgrade",o),o=null,this.upgrading=!1,this.flush())})}else{let ie=new Error("probe error");ie.transport=o.name,this.emitReserved("upgradeError",ie)}}))},"onTransportOpen");function _(){c||(c=!0,J(),o.close(),o=null)}a(_,"freezeTransport");let E=a(V=>{let ie=new Error("probe error: "+V);ie.transport=o.name,_(),this.emitReserved("upgradeError",ie)},"onerror");function R(){E("transport closed")}a(R,"onTransportClose");function B(){E("socket closed")}a(B,"onclose");function q(V){o&&V.name!==o.name&&_()}a(q,"onupgrade");let J=a(()=>{o.removeListener("open",p),o.removeListener("error",E),o.removeListener("close",R),this.off("close",B),this.off("upgrading",q)},"cleanup");o.once("open",p),o.once("error",E),o.once("close",R),this.once("close",B),this.once("upgrading",q),o.open()}onOpen(){if(this.readyState="open",bo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let r=0,o=this.upgrades.length;for(;r<o;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let o=new Error("server error");o.code=r.data,this.onError(o);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let r=this.getWritablePackets();this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let o=0;o<this.writeBuffer.length;o++){let c=this.writeBuffer[o].data;if(c&&(r+=WA(c)),o>0&&r>this.maxPayload)return this.writeBuffer.slice(0,o);r+=2}return this.writeBuffer}write(r,o,c){return this.sendPacket("message",r,o,c),this}send(r,o,c){return this.sendPacket("message",r,o,c),this}sendPacket(r,o,c,p){if(typeof o=="function"&&(p=o,o=void 0),typeof c=="function"&&(p=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;let _={type:r,data:o,options:c};this.emitReserved("packetCreate",_),this.writeBuffer.push(_),p&&this.once("flush",p),this.flush()}close(){let r=a(()=>{this.onClose("forced close"),this.transport.close()},"close"),o=a(()=>{this.off("upgrade",o),this.off("upgradeError",o),r()},"cleanupAndClose"),c=a(()=>{this.once("upgrade",o),this.once("upgradeError",o)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():r()}):this.upgrading?c():r()),this}onError(r){bo.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,o){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",r,o),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){let o=[],c=0,p=r.length;for(;c<p;c++)~this.transports.indexOf(r[c])&&o.push(r[c]);return o}};a(bo,"Socket"),bo.protocol=UA,bo.protocol;function rP(r,o="",c){let p=r;c=c||typeof location<"u"&&location,r==null&&(r=c.protocol+"//"+c.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=c.protocol+r:r=c.host+r),/^(https?|wss?):\/\//.test(r)||(typeof c<"u"?r=c.protocol+"//"+r:r="https://"+r),p=Fg(r)),p.port||(/^(http|ws)$/.test(p.protocol)?p.port="80":/^(http|ws)s$/.test(p.protocol)&&(p.port="443")),p.path=p.path||"/";let _=p.host.indexOf(":")!==-1?"["+p.host+"]":p.host;return p.id=p.protocol+"://"+_+":"+p.port+o,p.href=p.protocol+"://"+_+(c&&c.port===p.port?"":":"+p.port),p}a(rP,"url");var sP={};d(sP,{Decoder:()=>Lw,Encoder:()=>lP,PacketType:()=>ki,protocol:()=>Q7});var G7=typeof ArrayBuffer=="function",X7=a(r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,"isView"),nP=Object.prototype.toString,K7=typeof Blob=="function"||typeof Blob<"u"&&nP.call(Blob)==="[object BlobConstructor]",Z7=typeof File=="function"||typeof File<"u"&&nP.call(File)==="[object FileConstructor]";function Ig(r){return G7&&(r instanceof ArrayBuffer||X7(r))||K7&&r instanceof Blob||Z7&&r instanceof File}a(Ig,"isBinary");function sf(r,o){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let c=0,p=r.length;c<p;c++)if(sf(r[c]))return!0;return!1}if(Ig(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return sf(r.toJSON(),!0);for(let c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&sf(r[c]))return!0;return!1}a(sf,"hasBinary");function aP(r){let o=[],c=r.data,p=r;return p.data=Bg(c,o),p.attachments=o.length,{packet:p,buffers:o}}a(aP,"deconstructPacket");function Bg(r,o){if(!r)return r;if(Ig(r)){let c={_placeholder:!0,num:o.length};return o.push(r),c}else if(Array.isArray(r)){let c=new Array(r.length);for(let p=0;p<r.length;p++)c[p]=Bg(r[p],o);return c}else if(typeof r=="object"&&!(r instanceof Date)){let c={};for(let p in r)Object.prototype.hasOwnProperty.call(r,p)&&(c[p]=Bg(r[p],o));return c}return r}a(Bg,"_deconstructPacket");function oP(r,o){return r.data=Ng(r.data,o),r.attachments=void 0,r}a(oP,"reconstructPacket");function Ng(r,o){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<o.length)return o[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let c=0;c<r.length;c++)r[c]=Ng(r[c],o);else if(typeof r=="object")for(let c in r)Object.prototype.hasOwnProperty.call(r,c)&&(r[c]=Ng(r[c],o));return r}a(Ng,"_reconstructPacket");var Q7=5,ki;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(ki||(ki={}));var lP=class{constructor(r){this.replacer=r}encode(r){return(r.type===ki.EVENT||r.type===ki.ACK)&&sf(r)?(r.type=r.type===ki.EVENT?ki.BINARY_EVENT:ki.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}encodeAsString(r){let o=""+r.type;return(r.type===ki.BINARY_EVENT||r.type===ki.BINARY_ACK)&&(o+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(o+=r.nsp+","),r.id!=null&&(o+=r.id),r.data!=null&&(o+=JSON.stringify(r.data,this.replacer)),o}encodeAsBinary(r){let o=aP(r),c=this.encodeAsString(o.packet),p=o.buffers;return p.unshift(c),p}};a(lP,"Encoder");var Lw=class extends wr{constructor(r){super(),this.reviver=r}add(r){let o;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");o=this.decodeString(r),o.type===ki.BINARY_EVENT||o.type===ki.BINARY_ACK?(this.reconstructor=new cP(o),o.attachments===0&&super.emitReserved("decoded",o)):super.emitReserved("decoded",o)}else if(Ig(r)||r.base64)if(this.reconstructor)o=this.reconstructor.takeBinaryData(r),o&&(this.reconstructor=null,super.emitReserved("decoded",o));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let o=0,c={type:Number(r.charAt(0))};if(ki[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===ki.BINARY_EVENT||c.type===ki.BINARY_ACK){let _=o+1;for(;r.charAt(++o)!=="-"&&o!=r.length;);let E=r.substring(_,o);if(E!=Number(E)||r.charAt(o)!=="-")throw new Error("Illegal attachments");c.attachments=Number(E)}if(r.charAt(o+1)==="/"){let _=o+1;for(;++o&&!(r.charAt(o)===","||o===r.length););c.nsp=r.substring(_,o)}else c.nsp="/";let p=r.charAt(o+1);if(p!==""&&Number(p)==p){let _=o+1;for(;++o;){let E=r.charAt(o);if(E==null||Number(E)!=E){--o;break}if(o===r.length)break}c.id=Number(r.substring(_,o+1))}if(r.charAt(++o)){let _=this.tryParse(r.substr(o));if(Lw.isPayloadValid(c.type,_))c.data=_;else throw new Error("invalid payload")}return c}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,o){switch(r){case ki.CONNECT:return typeof o=="object";case ki.DISCONNECT:return o===void 0;case ki.CONNECT_ERROR:return typeof o=="string"||typeof o=="object";case ki.EVENT:case ki.BINARY_EVENT:return Array.isArray(o)&&o.length>0;case ki.ACK:case ki.BINARY_ACK:return Array.isArray(o)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};a(Lw,"Decoder");var cP=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let o=oP(this.reconPack,this.buffers);return this.finishedReconstruction(),o}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};a(cP,"BinaryReconstructor");function An(r,o,c){return r.on(o,c),a(function(){r.off(o,c)},"subDestroy")}a(An,"on");var J7=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Rw=class extends wr{constructor(r,o,c){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=o,c&&c.auth&&(this.auth=c.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[An(r,"open",this.onopen.bind(this)),An(r,"packet",this.onpacket.bind(this)),An(r,"error",this.onerror.bind(this)),An(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...o){if(J7.hasOwnProperty(r))throw new Error('"'+r+'" is a reserved event name');o.unshift(r);let c={type:ki.EVENT,data:o};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof o[o.length-1]=="function"){let _=this.ids++,E=o.pop();this._registerAckCallback(_,E),c.id=_}let p=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!p||!this.connected)||(this.connected?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(r,o){let c=this.flags.timeout;if(c===void 0){this.acks[r]=o;return}let p=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let _=0;_<this.sendBuffer.length;_++)this.sendBuffer[_].id===r&&this.sendBuffer.splice(_,1);o.call(this,new Error("operation has timed out"))},c);this.acks[r]=(..._)=>{this.io.clearTimeoutFn(p),o.apply(this,[null,..._])}}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this.packet({type:ki.CONNECT,data:r})}):this.packet({type:ki.CONNECT,data:this.auth})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,o){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,o)}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case ki.CONNECT:if(r.data&&r.data.sid){let c=r.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ki.EVENT:case ki.BINARY_EVENT:this.onevent(r);break;case ki.ACK:case ki.BINARY_ACK:this.onack(r);break;case ki.DISCONNECT:this.ondisconnect();break;case ki.CONNECT_ERROR:this.destroy();let o=new Error(r.data.message);o.data=r.data.data,this.emitReserved("connect_error",o);break}}onevent(r){let o=r.data||[];r.id!=null&&o.push(this.ack(r.id)),this.connected?this.emitEvent(o):this.receiveBuffer.push(Object.freeze(o))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let o=this._anyListeners.slice();for(let c of o)c.apply(this,r)}super.emit.apply(this,r)}ack(r){let o=this,c=!1;return function(...p){c||(c=!0,o.packet({type:ki.ACK,id:r,data:p}))}}onack(r){let o=this.acks[r.id];typeof o=="function"&&(o.apply(this,r.data),delete this.acks[r.id])}onconnect(r){this.id=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ki.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let o=this._anyListeners;for(let c=0;c<o.length;c++)if(r===o[c])return o.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let o=this._anyOutgoingListeners;for(let c=0;c<o.length;c++)if(r===o[c])return o.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let o=this._anyOutgoingListeners.slice();for(let c of o)c.apply(this,r.data)}}};a(Rw,"Socket");function yc(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}a(yc,"Backoff"),yc.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var o=Math.random(),c=Math.floor(o*this.jitter*r);r=Math.floor(o*10)&1?r+c:r-c}return Math.min(r,this.max)|0},yc.prototype.reset=function(){this.attempts=0},yc.prototype.setMin=function(r){this.ms=r},yc.prototype.setMax=function(r){this.max=r},yc.prototype.setJitter=function(r){this.jitter=r};var zg=class extends wr{constructor(r,o){var c;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(o=r,r=void 0),o=o||{},o.path=o.path||"/socket.io",this.opts=o,rf(this,o),this.reconnection(o.reconnection!==!1),this.reconnectionAttempts(o.reconnectionAttempts||1/0),this.reconnectionDelay(o.reconnectionDelay||1e3),this.reconnectionDelayMax(o.reconnectionDelayMax||5e3),this.randomizationFactor((c=o.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new yc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(o.timeout==null?2e4:o.timeout),this._readyState="closed",this.uri=r;let p=o.parser||sP;this.encoder=new p.Encoder,this.decoder=new p.Decoder,this._autoConnect=o.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var o;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(o=this.backoff)===null||o===void 0||o.setMin(r),this)}randomizationFactor(r){var o;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(o=this.backoff)===null||o===void 0||o.setJitter(r),this)}reconnectionDelayMax(r){var o;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(o=this.backoff)===null||o===void 0||o.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new bo(this.uri,this.opts);let o=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;let p=An(o,"open",function(){c.onopen(),r&&r()}),_=An(o,"error",E=>{c.cleanup(),c._readyState="closed",this.emitReserved("error",E),r?r(E):c.maybeReconnectOnOpen()});if(this._timeout!==!1){let E=this._timeout;E===0&&p();let R=this.setTimeoutFn(()=>{p(),o.close(),o.emit("error",new Error("timeout"))},E);this.opts.autoUnref&&R.unref(),this.subs.push(a(function(){clearTimeout(R)},"subDestroy"))}return this.subs.push(p),this.subs.push(_),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(An(r,"ping",this.onping.bind(this)),An(r,"data",this.ondata.bind(this)),An(r,"error",this.onerror.bind(this)),An(r,"close",this.onclose.bind(this)),An(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){this.decoder.add(r)}ondecoded(r){this.emitReserved("packet",r)}onerror(r){this.emitReserved("error",r)}socket(r,o){let c=this.nsps[r];return c||(c=new Rw(this,r,o),this.nsps[r]=c),c}_destroy(r){let o=Object.keys(this.nsps);for(let c of o)if(this.nsps[c].active)return;this._close()}_packet(r){let o=this.encoder.encode(r);for(let c=0;c<o.length;c++)this.engine.write(o[c],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,o){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,o),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let o=this.backoff.duration();this._reconnecting=!0;let c=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(p=>{p?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",p)):r.onreconnect()}))},o);this.opts.autoUnref&&c.unref(),this.subs.push(a(function(){clearTimeout(c)},"subDestroy"))}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}};a(zg,"Manager");var nf={};function af(r,o){typeof r=="object"&&(o=r,r=void 0),o=o||{};let c=rP(r,o.path||"/socket.io"),p=c.source,_=c.id,E=c.path,R=nf[_]&&E in nf[_].nsps,B=o.forceNew||o["force new connection"]||o.multiplex===!1||R,q;return B?q=new zg(p,o):(nf[_]||(nf[_]=new zg(p,o)),q=nf[_]),c.query&&!o.query&&(o.query=c.queryKey),q.socket(c.path,o)}a(af,"lookup"),Object.assign(af,{Manager:zg,Socket:Rw,io:af,connect:af});function hP(r){let o=/^\w+:\/\//.exec(r),c=0;o&&(c=o[0].length+1);let p=r.indexOf("/",c);return p===-1?{origin:r,pathname:"/"}:{origin:r.slice(0,p),pathname:r.slice(p)}}a(hP,"parseUrl");function xr(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(xr,"_classPrivateFieldLooseBase");var eH=0;function Oa(r){return"__private_"+eH+++"_"+r}a(Oa,"_classPrivateFieldLooseKey");var tH="ASSEMBLY_UPLOADING",Fw="ASSEMBLY_EXECUTING",Iw="ASSEMBLY_COMPLETED",uP=[tH,Fw,Iw];function of(r,o){return uP.indexOf(r)>=uP.indexOf(o)}a(of,"isStatus");var vc=Oa("rateLimitedQueue"),lf=Oa("fetchWithNetworkError"),bc=Oa("previousFetchStatusStillPending"),Bw=Oa("onFinished"),Nw=Oa("connectSocket"),_o=Oa("onError"),zw=Oa("beginPolling"),wo=Oa("fetchStatus"),Uw=Oa("diffStatus"),dP=class extends T7.default{constructor(r,o){super(),Object.defineProperty(this,Uw,{value:vP}),Object.defineProperty(this,wo,{value:yP}),Object.defineProperty(this,zw,{value:gP}),Object.defineProperty(this,_o,{value:mP}),Object.defineProperty(this,Nw,{value:pP}),Object.defineProperty(this,Bw,{value:fP}),Object.defineProperty(this,vc,{writable:!0,value:void 0}),Object.defineProperty(this,lf,{writable:!0,value:void 0}),Object.defineProperty(this,bc,{writable:!0,value:!1}),this.status=r,this.socket=null,this.pollInterval=null,this.closed=!1,xr(this,vc)[vc]=o,xr(this,lf)[lf]=o.wrapPromiseFunction(km)}connect(){xr(this,Nw)[Nw](),xr(this,zw)[zw]()}update(){return xr(this,wo)[wo]({diff:!0})}updateStatus(r){xr(this,Uw)[Uw](this.status,r),this.status=r}close(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}};a(dP,"TransloaditAssembly");function fP(){this.emit("finished"),this.close()}a(fP,"_onFinished2");function pP(){let r=hP(this.status.websocket_url),o=af(r.origin,{transports:["websocket"],path:r.pathname});o.on("connect",()=>{o.emit("assembly_connect",{id:this.status.assembly_id}),this.emit("connect")}),o.on("connect_error",()=>{o.disconnect(),this.socket=null}),o.on("assembly_finished",()=>{xr(this,Bw)[Bw]()}),o.on("assembly_upload_finished",c=>{this.emit("upload",c),this.status.uploads.push(c)}),o.on("assembly_uploading_finished",()=>{this.emit("executing")}),o.on("assembly_upload_meta_data_extracted",()=>{this.emit("metadata"),xr(this,wo)[wo]({diff:!1})}),o.on("assembly_result_finished",(c,p)=>{this.emit("result",c,p),this.status.results[c]||(this.status.results[c]=[]),this.status.results[c].push(p)}),o.on("assembly_error",c=>{xr(this,_o)[_o](c),xr(this,wo)[wo]({diff:!1})}),this.socket=o}a(pP,"_connectSocket2");function mP(r){this.emit("error",Object.assign(new Error(r.message),r)),this.close()}a(mP,"_onError2");function gP(){this.pollInterval=setInterval(()=>{(!this.socket||!this.socket.connected)&&xr(this,wo)[wo]()},2e3)}a(gP,"_beginPolling2");async function yP(r){let{diff:o=!0}=r===void 0?{}:r;if(!(this.closed||xr(this,vc)[vc].isPaused||xr(this,bc)[bc]))try{xr(this,bc)[bc]=!0;let c=await xr(this,lf)[lf](this.status.assembly_ssl_url);if(xr(this,bc)[bc]=!1,this.closed)return;if(c.status===429){xr(this,vc)[vc].rateLimit(2e3);return}if(!c.ok){xr(this,_o)[_o](new Sh(c.statusText));return}let p=await c.json();if(this.closed)return;this.emit("status",p),o?this.updateStatus(p):this.status=p}catch(c){xr(this,_o)[_o](c)}}a(yP,"_fetchStatus2");function vP(r,o){let c=r.ok,p=o.ok;if(o.error&&!r.error)return xr(this,_o)[_o](o);let _=of(p,Fw)&&!of(c,Fw);_&&this.emit("executing"),Object.keys(o.uploads).filter(E=>!w(r.uploads,E)).forEach(E=>{this.emit("upload",o.uploads[E])}),_&&this.emit("metadata"),Object.keys(o.results).forEach(E=>{let R=o.results[E],B=r.results[E];R.filter(q=>!B||!B.some(J=>J.id===q.id)).forEach(q=>{this.emit("result",E,q)})}),of(p,Iw)&&!of(c,Iw)&&this.emit("finished")}a(vP,"_diffStatus2");var bP=dP;function nr(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(nr,"_classPrivateFieldLooseBase");var iH=0;function cf(r){return"__private_"+iH+++"_"+r}a(cf,"_classPrivateFieldLooseKey");var _P="/assemblies",Bs=cf("headers"),hf=cf("fetchWithNetworkError"),as=cf("fetchJSON"),mn=cf("reportError"),wP=class{constructor(r){r===void 0&&(r={}),Object.defineProperty(this,as,{value:xP}),Object.defineProperty(this,Bs,{writable:!0,value:{}}),Object.defineProperty(this,hf,{writable:!0,value:void 0}),Object.defineProperty(this,mn,{writable:!0,value:(o,c)=>{if(this.opts.errorReporting===!1)throw o;let p={type:c.type};throw c.assembly&&(p.assembly=c.assembly.assembly_id,p.instance=c.assembly.instance),c.url&&(p.endpoint=c.url),this.submitError(o,p).catch(()=>{}),o}}),this.opts=r,this.opts.client!=null&&(nr(this,Bs)[Bs]["Transloadit-Client"]=this.opts.client),nr(this,hf)[hf]=this.opts.rateLimitedQueue.wrapPromiseFunction(km)}createAssembly(r){let{params:o,fields:c,signature:p,expectedFiles:_}=r,E=new FormData;E.append("params",typeof o=="string"?o:JSON.stringify(o)),p&&E.append("signature",p),Object.keys(c).forEach(B=>{E.append(B,c[B])}),E.append("num_expected_upload_files",_);let R=new URL(_P,`${this.opts.service}`).href;return nr(this,as)[as](R,{method:"post",headers:nr(this,Bs)[Bs],body:E}).catch(B=>nr(this,mn)[mn](B,{url:R,type:"API_ERROR"}))}reserveFile(r,o){let c=encodeURIComponent(o.size),p=`${r.assembly_ssl_url}/reserve_file?size=${c}`;return nr(this,as)[as](p,{method:"post",headers:nr(this,Bs)[Bs]}).catch(_=>nr(this,mn)[mn](_,{assembly:r,file:o,url:p,type:"API_ERROR"}))}addFile(r,o){if(!o.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));let c=encodeURIComponent(o.size),p=encodeURIComponent(o.uploadURL),_=encodeURIComponent(o.name),E=`size=${c}&filename=${_}&fieldname=file&s3Url=${p}`,R=`${r.assembly_ssl_url}/add_file?${E}`;return nr(this,as)[as](R,{method:"post",headers:nr(this,Bs)[Bs]}).catch(B=>nr(this,mn)[mn](B,{assembly:r,file:o,url:R,type:"API_ERROR"}))}updateNumberOfFilesInAssembly(r,o){let c=new URL(r.assembly_ssl_url);c.pathname="/update_assemblies";let p=JSON.stringify({assembly_updates:[{assembly_id:r.assembly_id,num_expected_upload_files:o}]});return nr(this,as)[as](c,{method:"post",headers:nr(this,Bs)[Bs],body:p}).catch(_=>nr(this,mn)[mn](_,{url:c,type:"API_ERROR"}))}cancelAssembly(r){let o=r.assembly_ssl_url;return nr(this,as)[as](o,{method:"delete",headers:nr(this,Bs)[Bs]}).catch(c=>nr(this,mn)[mn](c,{url:o,type:"API_ERROR"}))}getAssemblyStatus(r){return nr(this,as)[as](r,{headers:nr(this,Bs)[Bs]}).catch(o=>nr(this,mn)[mn](o,{url:r,type:"STATUS_ERROR"}))}submitError(r,o){let{endpoint:c,instance:p,assembly:_}=o===void 0?{}:o,E=r.details?`${r.message} (${r.details})`:r.message;return nr(this,as)[as]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:c,instance:p,assembly_id:_,agent:typeof navigator<"u"?navigator.userAgent:"",client:this.opts.client,error:E})})}};a(wP,"Client");function xP(){for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return nr(this,hf)[hf](...o).then(p=>{if(p.status===429)return this.opts.rateLimitedQueue.rateLimit(2e3),nr(this,as)[as](...o);if(!p.ok){let _=new Error(p.statusText);return _.statusCode=p.status,`${o[0]}`.endsWith(_P)?p.json().then(E=>{if(!E.error)throw _;let R=new Error(E.error);throw R.details=E.message,R.assembly=E,E.assembly_id&&(R.details+=` Assembly ID: ${E.assembly_id}`),R},E=>{throw E.cause=_,E}):Promise.reject(_)}return p.json()})}a(xP,"_fetchJSON2");function kP(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(kP,"_classPrivateFieldLooseBase");var rH=0;function SP(r){return"__private_"+rH+++"_"+r}a(SP,"_classPrivateFieldLooseKey");function uf(r){if(r==null)throw new Error("Transloadit: The `params` option is required.");if(typeof r=="string")try{r=JSON.parse(r)}catch(o){throw new Th("Transloadit: The `params` option is a malformed JSON string.",{cause:o})}if(!r.auth||!r.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}a(uf,"validateParams");function TP(r){let o=Object.create(null);for(let{fileIDs:c,options:p}of r.filter(Boolean)){let _=JSON.stringify(p);_ in o?o[_].fileIDArrays.push(c):o[_]={options:p,fileIDArrays:[c]}}return Object.values(o).map(c=>{let{options:p,fileIDArrays:_}=c;return{options:p,fileIDs:_.flat(1)}})}a(TP,"dedupe");var Hw=SP("getAssemblyOptions"),CP=class{constructor(r,o){Object.defineProperty(this,Hw,{value:EP}),this.files=r,this.opts=o}async build(){let r=this.opts;if(this.files.length>0)return Promise.all(this.files.map(o=>kP(this,Hw)[Hw](o))).then(TP);if(r.alwaysRunAssembly){let o=await r.getAssemblyOptions(null,r);return uf(o.params),[{fileIDs:this.files.map(c=>c.id),options:o}]}return[]}};a(CP,"AssemblyOptions");async function EP(r){if(r==null)return;let o=this.opts,c=await o.getAssemblyOptions(r,o);if(r!=null)return Array.isArray(c.fields)?c.fields=Object.fromEntries(c.fields.map(p=>[p,r.meta[p]])):c.fields==null&&(c.fields={}),uf(c.params),{fileIDs:[r.id],options:c}}a(EP,"_getAssemblyOptions2");var sH=CP,nH=g(z(),1);function ui(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(ui,"_classPrivateFieldLooseBase");var aH=0;function Gs(r){return"__private_"+aH+++"_"+r}a(Gs,"_classPrivateFieldLooseKey");var df=Gs("assemblyIDs"),Ww=Gs("reject"),_c=Gs("remaining"),ff=Gs("resolve"),tr=Gs("uppy"),xo=Gs("watching"),pf=Gs("onAssemblyComplete"),mf=Gs("onAssemblyCancel"),wc=Gs("onAssemblyError"),gf=Gs("onImportError"),xc=Gs("checkAllComplete"),jw=Gs("removeListeners"),qw=Gs("addListeners"),OP=class extends nH.default{constructor(r,o){super(),Object.defineProperty(this,qw,{value:DP}),Object.defineProperty(this,jw,{value:PP}),Object.defineProperty(this,xc,{value:AP}),Object.defineProperty(this,xo,{value:MP}),Object.defineProperty(this,df,{writable:!0,value:void 0}),Object.defineProperty(this,Ww,{writable:!0,value:void 0}),Object.defineProperty(this,_c,{writable:!0,value:void 0}),Object.defineProperty(this,ff,{writable:!0,value:void 0}),Object.defineProperty(this,tr,{writable:!0,value:void 0}),Object.defineProperty(this,pf,{writable:!0,value:c=>{!ui(this,xo)[xo](c.assembly_id)||(ui(this,tr)[tr].log(`[Transloadit] AssemblyWatcher: Got Assembly finish ${c.assembly_id}`),this.emit("assembly-complete",c.assembly_id),ui(this,xc)[xc]())}}),Object.defineProperty(this,mf,{writable:!0,value:c=>{!ui(this,xo)[xo](c.assembly_id)||ui(this,xc)[xc]()}}),Object.defineProperty(this,wc,{writable:!0,value:(c,p)=>{!ui(this,xo)[xo](c.assembly_id)||(ui(this,tr)[tr].log(`[Transloadit] AssemblyWatcher: Got Assembly error ${c.assembly_id}`),ui(this,tr)[tr].log(p),this.emit("assembly-error",c.assembly_id,p),ui(this,xc)[xc]())}}),Object.defineProperty(this,gf,{writable:!0,value:(c,p,_)=>{!ui(this,xo)[xo](c.assembly_id)||ui(this,wc)[wc](c,_)}}),ui(this,tr)[tr]=r,ui(this,df)[df]=o,ui(this,_c)[_c]=o.length,this.promise=new Promise((c,p)=>{ui(this,ff)[ff]=c,ui(this,Ww)[Ww]=p}),ui(this,qw)[qw]()}};a(OP,"TransloaditAssemblyWatcher");function MP(r){return ui(this,df)[df].indexOf(r)!==-1}a(MP,"_watching2");function AP(){ui(this,_c)[_c]-=1,ui(this,_c)[_c]===0&&(ui(this,jw)[jw](),ui(this,ff)[ff]())}a(AP,"_checkAllComplete2");function PP(){ui(this,tr)[tr].off("transloadit:complete",ui(this,pf)[pf]),ui(this,tr)[tr].off("transloadit:assembly-cancel",ui(this,mf)[mf]),ui(this,tr)[tr].off("transloadit:assembly-error",ui(this,wc)[wc]),ui(this,tr)[tr].off("transloadit:import-error",ui(this,gf)[gf])}a(PP,"_removeListeners2");function DP(){ui(this,tr)[tr].on("transloadit:complete",ui(this,pf)[pf]),ui(this,tr)[tr].on("transloadit:assembly-cancel",ui(this,mf)[mf]),ui(this,tr)[tr].on("transloadit:assembly-error",ui(this,wc)[wc]),ui(this,tr)[tr].on("transloadit:import-error",ui(this,gf)[gf])}a(DP,"_addListeners2");var oH=OP,lH={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function mi(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(mi,"_classPrivateFieldLooseBase");var cH=0;function fr(r){return"__private_"+cH+++"_"+r}a(fr,"_classPrivateFieldLooseKey");var hH={version:"3.0.2"};function LP(r,o){return{params:o.params,signature:o.signature,fields:o.fields}}a(LP,"defaultGetAssemblyOptions");var RP=a(r=>o=>{let c=new Th("Failed to send error to the client",{cause:o});console.error(c,r)},"sendErrorToConsole"),FP="https://api2.transloadit.com/companion",IP=/\.transloadit\.com$/,uH=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,aa=fr("rateLimitedQueue"),$w=fr("getClientVersion"),Vw=fr("attachAssemblyMetadata"),Yw=fr("createAssembly"),yf=fr("createAssemblyWatcher"),Gw=fr("shouldWaitAfterUpload"),Xw=fr("reserveFiles"),vf=fr("onFileUploadURLAvailable"),bf=fr("findFile"),Kw=fr("onFileUploadComplete"),Zw=fr("onResult"),_f=fr("onAssemblyFinished"),wf=fr("cancelAssembly"),Qw=fr("onCancelAll"),Jw=fr("getPersistentData"),e1=fr("onRestored"),xf=fr("connectAssembly"),kf=fr("prepareUpload"),kc=fr("afterUpload"),Sf=fr("closeAssemblyIfExists"),Tf=fr("onError"),t1=fr("onTusError"),Sc=class extends On{constructor(r,o){var c;super(r,o),c=this,Object.defineProperty(this,xf,{value:GP}),Object.defineProperty(this,wf,{value:YP}),Object.defineProperty(this,_f,{value:VP}),Object.defineProperty(this,Zw,{value:$P}),Object.defineProperty(this,Kw,{value:qP}),Object.defineProperty(this,bf,{value:jP}),Object.defineProperty(this,Xw,{value:WP}),Object.defineProperty(this,Gw,{value:HP}),Object.defineProperty(this,yf,{value:UP}),Object.defineProperty(this,Yw,{value:zP}),Object.defineProperty(this,Vw,{value:NP}),Object.defineProperty(this,$w,{value:BP}),Object.defineProperty(this,aa,{writable:!0,value:void 0}),Object.defineProperty(this,vf,{writable:!0,value:E=>{var R;let B=this.uppy.getFile(E.id);if(!(B!=null&&(R=B.transloadit)!=null&&R.assembly))return;let{assemblies:q}=this.getPluginState(),J=q[B.transloadit.assembly];this.client.addFile(J,B).catch(V=>{this.uppy.log(V),this.uppy.emit("transloadit:import-error",J,B.id,V)})}}),Object.defineProperty(this,Qw,{writable:!0,value:async function(E){let{reason:R}=E===void 0?{}:E;try{if(R!=="user")return;let{uploadsAssemblies:B}=c.getPluginState(),q=Object.values(B).flat(1).map(J=>c.getAssembly(J));await Promise.all(q.map(J=>mi(c,wf)[wf](J)))}catch(B){c.uppy.log(B)}}}),Object.defineProperty(this,Jw,{writable:!0,value:E=>{let{assemblies:R,uploadsAssemblies:B}=this.getPluginState();E({[this.id]:{assemblies:R,uploadsAssemblies:B}})}}),Object.defineProperty(this,e1,{writable:!0,value:E=>{let R=E&&E[this.id]?E[this.id]:{},B=R.assemblies||{},q=R.uploadsAssemblies||{};if(Object.keys(q).length===0)return;let J=a(se=>{let de={},we=[];for(let[at,Ge]of Object.entries(se)){Ge.uploads.forEach(qt=>{let xt=mi(this,bf)[bf](qt);de[qt.id]={id:xt.id,assembly:at,uploadedFile:qt}});let mt=this.getPluginState();Object.keys(Ge.results).forEach(qt=>{for(let xt of Ge.results[qt]){let ze=mt.files[xt.original_id];xt.localId=ze?ze.id:null,we.push({id:xt.id,result:xt,stepName:qt,assembly:at})}})}this.setPluginState({assemblies:se,files:de,results:we,uploadsAssemblies:q})},"restoreState"),V=a(()=>{let{assemblies:se,uploadsAssemblies:de}=this.getPluginState();Object.keys(de).forEach(we=>{let at=de[we];mi(this,yf)[yf](at,we)}),Object.keys(se).forEach(we=>{let at=new bP(se[we],mi(this,aa)[aa]);mi(this,xf)[xf](at)})},"restoreAssemblies"),ie=a(()=>{let{assemblies:se}=this.getPluginState();return Promise.all(Object.keys(se).map(de=>this.activeAssemblies[de].update()))},"updateAssemblies");this.restored=Promise.resolve().then(()=>(J(B),V(),ie())),this.restored.then(()=>{this.restored=null})}}),Object.defineProperty(this,kf,{writable:!0,value:(E,R)=>{let B=E.map(V=>this.uppy.getFile(V)).filter(V=>V.error?!1:(this.uppy.emit("preprocess-progress",V,{mode:"indeterminate",message:this.i18n("creatingAssembly")}),!0)),q=a(async V=>{let{fileIDs:ie,options:se}=V;try{let de=await mi(this,Yw)[Yw](ie,R,se);return this.opts.importFromUploadURLs&&await mi(this,Xw)[Xw](de,ie),ie.forEach(we=>{let at=this.uppy.getFile(we);this.uppy.emit("preprocess-complete",at)}),de}catch(de){throw ie.forEach(we=>{let at=this.uppy.getFile(we);this.uppy.emit("preprocess-complete",at),this.uppy.emit("upload-error",at,de)}),de}},"createAssembly"),{uploadsAssemblies:J}=this.getPluginState();return this.setPluginState({uploadsAssemblies:{...J,[R]:[]}}),new sH(B,this.opts).build().then(V=>Promise.all(V.map(q))).then(V=>{let ie=V.filter(Boolean),se=ie.map(de=>de.status.assembly_id);return mi(this,yf)[yf](se,R),Promise.all(ie.map(de=>mi(this,xf)[xf](de)))}).catch(V=>{throw B.forEach(ie=>{this.uppy.emit("preprocess-complete",ie),this.uppy.emit("upload-error",ie,V)}),V})}}),Object.defineProperty(this,kc,{writable:!0,value:(E,R)=>{let B=E.map(se=>this.uppy.getFile(se)),q=B.filter(se=>!se.error).map(se=>se.id),J=this.getPluginState();if(this.restored)return this.restored.then(()=>mi(this,kc)[kc](q,R));let V=J.uploadsAssemblies[R],ie=a(()=>{V.forEach(se=>{this.activeAssemblies[se].close(),delete this.activeAssemblies[se]})},"closeSocketConnections");if(!mi(this,Gw)[Gw]()){ie();let se=V.map(de=>this.getAssembly(de));return this.uppy.addResultData(R,{transloadit:se}),Promise.resolve()}return V.length===0?(this.uppy.addResultData(R,{transloadit:[]}),Promise.resolve()):(B.filter(se=>!w(this.completedFiles,se.id)).forEach(se=>{this.uppy.emit("postprocess-progress",se,{mode:"indeterminate",message:this.i18n("encoding")})}),this.assemblyWatchers[R].promise.then(()=>{ie();let se=V.map(we=>this.getAssembly(we)),de={...this.getPluginState().uploadsAssemblies};delete de[R],this.setPluginState({uploadsAssemblies:de}),this.uppy.addResultData(R,{transloadit:se})}))}}),Object.defineProperty(this,Sf,{writable:!0,value:E=>{var R;(R=this.activeAssemblies[E])==null||R.close()}}),Object.defineProperty(this,Tf,{writable:!0,value:function(E,R){E===void 0&&(E=null);let B=c.getPluginState().uploadsAssemblies[R];B==null||B.forEach(mi(c,Sf)[Sf]),c.client.submitError(E).catch(RP(E))}}),Object.defineProperty(this,t1,{writable:!0,value:(E,R)=>{var B,q;if(mi(this,Sf)[Sf](E==null||(B=E.transloadit)==null?void 0:B.assembly),R!=null&&(q=R.message)!=null&&q.startsWith("tus: ")){var J,V;let ie=(J=R.originalRequest)==null||(V=J.getUnderlyingObject())==null?void 0:V.responseURL;this.client.submitError(R,{endpoint:ie,type:"TUS_ERROR"}).catch(RP(R))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.title="Transloadit",this.defaultLocale=lH;let p={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:LP,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};this.opts={...p,...o},mi(this,aa)[aa]=new ec(this.opts.limit),this.i18nInit();let _=this.opts.getAssemblyOptions!==p.getAssemblyOptions;this.opts.params?uf(this.opts.params):_||uf(null),this.client=new wP({service:this.opts.service,client:mi(this,$w)[$w](),errorReporting:this.opts.errorReporting,rateLimitedQueue:mi(this,aa)[aa]}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(mi(this,kf)[kf]),this.uppy.addPostProcessor(mi(this,kc)[kc]),this.uppy.on("error",mi(this,Tf)[Tf]),this.uppy.on("cancel-all",mi(this,Qw)[Qw]),this.uppy.on("upload-error",mi(this,t1)[t1]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",mi(this,vf)[vf]):this.uppy.use(ef,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:mi(this,aa)[aa],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",mi(this,Jw)[Jw]),this.uppy.on("restored",mi(this,e1)[e1]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!1}})}uninstall(){this.uppy.removePreProcessor(mi(this,kf)[kf]),this.uppy.removePostProcessor(mi(this,kc)[kc]),this.uppy.off("error",mi(this,Tf)[Tf]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",mi(this,vf)[vf]);let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!0}})}getAssembly(r){let{assemblies:o}=this.getPluginState();return o[r]}getAssemblyFiles(r){return this.uppy.getFiles().filter(o=>{var c;return(o==null||(c=o.transloadit)==null?void 0:c.assembly)===r})}};a(Sc,"Transloadit");function BP(){let r=[`uppy-core:${this.uppy.constructor.VERSION}`,`uppy-transloadit:${this.constructor.VERSION}`,`uppy-tus:${ef.VERSION}`],o=a((c,p)=>{let _=this.uppy.getPlugin(c);_&&r.push(`${p}:${_.constructor.VERSION}`)},"addPluginVersion");return this.opts.importFromUploadURLs&&(o("XHRUpload","uppy-xhr-upload"),o("AwsS3","uppy-aws-s3"),o("AwsS3Multipart","uppy-aws-s3-multipart")),o("Dropbox","uppy-dropbox"),o("Box","uppy-box"),o("Facebook","uppy-facebook"),o("GoogleDrive","uppy-google-drive"),o("Instagram","uppy-instagram"),o("OneDrive","uppy-onedrive"),o("Zoom","uppy-zoom"),o("Url","uppy-url"),r.join(",")}a(BP,"_getClientVersion2");function NP(r,o){let c={...r.meta,assembly_url:o.assembly_url,filename:r.name,fieldname:"file"},p={...r.tus,endpoint:o.tus_url,addRequestId:!0},{remote:_}=r;if(r.remote&&uH.test(r.remote.companionUrl)){let R=o.companion_url.replace(/\/$/,""),B=r.remote.url.replace(r.remote.companionUrl,"").replace(/^\//,"");_={...r.remote,companionUrl:R,url:`${R}/${B}`}}let E={...r,transloadit:{assembly:o.assembly_id}};return this.opts.importFromUploadURLs||Object.assign(E,{meta:c,tus:p,remote:_}),E}a(NP,"_attachAssemblyMetadata2");function zP(r,o,c){return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:c.params,fields:c.fields,expectedFiles:r.length,signature:c.signature}).then(async p=>{let _=this.uppy.getFiles().filter(se=>{let{id:de}=se;return r.includes(de)});if(_.length!==r.length){if(_.length===0)return await this.client.cancelAssembly(p),null;await this.client.updateNumberOfFilesInAssembly(p,_.length)}let E=new bP(p,mi(this,aa)[aa]),{status:R}=E,B=R.assembly_id,{assemblies:q,uploadsAssemblies:J}=this.getPluginState();this.setPluginState({assemblies:{...q,[B]:R},uploadsAssemblies:{...J,[o]:[...J[o],B]}});let V={};_.forEach(se=>{V[se.id]=mi(this,Vw)[Vw](se,R)}),this.uppy.setState({files:{...this.uppy.getState().files,...V}});let ie=a((se,de)=>{if(de==="cancel-all")E.close(),this.uppy.off(ie);else if(se.id in V){delete V[se.id];let we=Object.keys(V).length;we===0?(E.close(),mi(this,wf)[wf](p).catch(()=>{}),this.uppy.off(ie)):this.client.updateNumberOfFilesInAssembly(p,we).catch(()=>{})}},"fileRemovedHandler");return this.uppy.on("file-removed",ie),this.uppy.emit("transloadit:assembly-created",R,r),this.uppy.log(`[Transloadit] Created Assembly ${B}`),E}).catch(p=>{let _=new Th(`${this.i18n("creatingAssemblyFailed")}: ${p.message}`,{cause:p});throw"details"in p&&(_.details=p.details),"assembly"in p&&(_.assembly=p.assembly),_})}a(zP,"_createAssembly2");function UP(r,o){let c=new oH(this.uppy,r);c.on("assembly-complete",p=>{this.getAssemblyFiles(p).forEach(_=>{this.completedFiles[_.id]=!0,this.uppy.emit("postprocess-complete",_)})}),c.on("assembly-error",(p,_)=>{this.getAssemblyFiles(p).forEach(E=>{this.uppy.emit("upload-error",E,_),this.uppy.emit("postprocess-complete",E)})}),this.assemblyWatchers[o]=c}a(UP,"_createAssemblyWatcher2");function HP(){return this.opts.waitForEncoding||this.opts.waitForMetadata}a(HP,"_shouldWaitAfterUpload2");function WP(r,o){return Promise.all(o.map(c=>{let p=this.uppy.getFile(c);return this.client.reserveFile(r.status,p)}))}a(WP,"_reserveFiles2");function jP(r){let o=this.uppy.getFiles();for(let c=0;c<o.length;c++){let p=o[c];if(p.uploadURL===r.tus_upload_url||p.tus&&p.tus.uploadUrl===r.tus_upload_url||!r.is_tus_file&&p.name===r.name&&p.size===r.size)return p}}a(jP,"_findFile2");function qP(r,o){let c=this.getPluginState(),p=mi(this,bf)[bf](o);if(!p){this.uppy.log("[Transloadit] Couldnt file the file, it was likely removed in the process");return}this.setPluginState({files:{...c.files,[o.id]:{assembly:r,id:p.id,uploadedFile:o}}}),this.uppy.emit("transloadit:upload",o,this.getAssembly(r))}a(qP,"_onFileUploadComplete2");function $P(r,o,c){let p=this.getPluginState(),_=p.files[c.original_id];c.localId=_?_.id:null;let E={result:c,stepName:o,id:c.id,assembly:r};this.setPluginState({results:[...p.results,E]}),this.uppy.emit("transloadit:result",o,c,this.getAssembly(r))}a($P,"_onResult2");function VP(r){let o=r.assembly_ssl_url;this.client.getAssemblyStatus(o).then(c=>{let p=c.assembly_id,_=this.getPluginState();this.setPluginState({assemblies:{..._.assemblies,[p]:c}}),this.uppy.emit("transloadit:complete",c)})}a(VP,"_onAssemblyFinished2");async function YP(r){await this.client.cancelAssembly(r),this.uppy.emit("transloadit:assembly-cancelled",r)}a(YP,"_cancelAssembly2");function GP(r){let{status:o}=r,c=o.assembly_id;return this.activeAssemblies[c]=r,r.on("status",p=>{let{assemblies:_}=this.getPluginState();this.setPluginState({assemblies:{..._,[c]:p}})}),r.on("upload",p=>{mi(this,Kw)[Kw](c,p)}),r.on("error",p=>{p.assembly=r.status,this.uppy.emit("transloadit:assembly-error",r.status,p)}),r.on("executing",()=>{this.uppy.emit("transloadit:assembly-executing",r.status)}),this.opts.waitForEncoding&&r.on("result",(p,_)=>{mi(this,Zw)[Zw](c,p,_)}),this.opts.waitForEncoding?r.on("finished",()=>{mi(this,_f)[_f](r.status)}):this.opts.waitForMetadata&&r.on("metadata",()=>{mi(this,_f)[_f](r.status)}),r.ok==="ASSEMBLY_COMPLETE"||r.connect(),r}a(GP,"_connectAssembly2"),Sc.VERSION=hH.version,Sc.COMPANION=FP,Sc.COMPANION_PATTERN=IP;var dH={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function Ug(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(Ug,"_classPrivateFieldLooseBase");var fH=0;function i1(r){return"__private_"+fH+++"_"+r}a(i1,"_classPrivateFieldLooseKey");var pH={version:"3.0.4"};function r1(r,o){let c=o;return c||(c=new Error("Upload error")),typeof c=="string"&&(c=new Error(c)),c instanceof Error||(c=Object.assign(new Error("Upload error"),{data:c})),_g(r)?(c=new Sh(c,r),c):(c.request=r,c)}a(r1,"buildResponseError");function s1(r){return r.data.slice(0,r.data.size,r.meta.type)}a(s1,"setTypeInBlob");var Cf=i1("queueRequestSocketToken"),n1=i1("requestSocketToken"),a1=class extends On{constructor(r,o){super(r,o),Object.defineProperty(this,Cf,{writable:!0,value:void 0}),Object.defineProperty(this,n1,{writable:!0,value:async p=>{let _=this.getOptions(p),E=p.remote.providerOptions.provider?br:cn,R=new E(this.uppy,p.remote.providerOptions),B=Array.isArray(_.allowedMetaFields)?_.allowedMetaFields:Object.keys(p.meta);return(await R.post(p.remote.url,{...p.remote.body,protocol:"multipart",endpoint:_.endpoint,size:p.data.size,fieldname:_.fieldName,metadata:Object.fromEntries(B.map(q=>[q,p.meta[q]])),httpMethod:_.method,useFormData:_.formData,headers:_.headers})).token}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=dH;let c={formData:!0,fieldName:o.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(p){let _={};try{_=JSON.parse(p)}catch(E){r.log(E)}return _},getResponseError(p,_){let E=new Error("Upload error");return _g(_)&&(E=new Sh(E,_)),E},validateStatus(p){return p>=200&&p<300}};if(this.opts={...c,...o},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),Od in this.opts?this.requests=this.opts[Od]:this.requests=new ec(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((o==null?void 0:o.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),Ug(this,Cf)[Cf]=this.requests.wrapPromiseFunction(Ug(this,n1)[n1],{priority:-1})}getOptions(r){let o=this.uppy.getState().xhrUpload,{headers:c}=this.opts,p={...this.opts,...o||{},...r.xhrUpload||{},headers:{}};return typeof c=="function"?p.headers=c(r):Object.assign(p.headers,this.opts.headers),o&&Object.assign(p.headers,o.headers),r.xhrUpload&&Object.assign(p.headers,r.xhrUpload.headers),p}addMetadata(r,o,c){(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(o)).forEach(p=>{r.append(p,o[p])})}createFormDataUpload(r,o){let c=new FormData;this.addMetadata(c,r.meta,o);let p=s1(r);return r.name?c.append(o.fieldName,p,r.meta.name):c.append(o.fieldName,p),c}createBundledUpload(r,o){let c=new FormData,{meta:p}=this.uppy.getState();return this.addMetadata(c,p,o),r.forEach(_=>{let E=this.getOptions(_),R=s1(_);_.name?c.append(E.fieldName,R,_.name):c.append(E.fieldName,R)}),c}upload(r,o,c){let p=this.getOptions(r);return this.uppy.log(`uploading ${o} of ${c}`),new Promise((_,E)=>{this.uppy.emit("upload-started",r);let R=p.formData?this.createFormDataUpload(r,p):r.data,B=new XMLHttpRequest;this.uploaderEvents[r.id]=new mo(this.uppy);let q,J=new R_(p.timeout,()=>{B.abort(),q.done();let ie=new Error(this.i18n("timedOut",{seconds:Math.ceil(p.timeout/1e3)}));this.uppy.emit("upload-error",r,ie),E(ie)}),V=be();B.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${V} started`)}),B.upload.addEventListener("progress",ie=>{this.uppy.log(`[XHRUpload] ${V} progress: ${ie.loaded} / ${ie.total}`),J.progress(),ie.lengthComputable&&this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:ie.loaded,bytesTotal:ie.total})}),B.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${V} finished`),J.done(),q.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),p.validateStatus(B.status,B.responseText,B)){let we=p.getResponseData(B.responseText,B),at=we[p.responseUrlFieldName],Ge={status:B.status,body:we,uploadURL:at};return this.uppy.emit("upload-success",r,Ge),at&&this.uppy.log(`Download ${r.name} from ${at}`),_(r)}let ie=p.getResponseData(B.responseText,B),se=r1(B,p.getResponseError(B.responseText,B)),de={status:B.status,body:ie};return this.uppy.emit("upload-error",r,se,de),E(se)}),B.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${V} errored`),J.done(),q.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null);let ie=r1(B,p.getResponseError(B.responseText,B));return this.uppy.emit("upload-error",r,ie),E(ie)}),B.open(p.method.toUpperCase(),p.endpoint,!0),B.withCredentials=p.withCredentials,p.responseType!==""&&(B.responseType=p.responseType),q=this.requests.run(()=>{this.uppy.emit("upload-started",r);let ie=this.getOptions(r);return Object.keys(ie.headers).forEach(se=>{B.setRequestHeader(se,ie.headers[se])}),B.send(R),()=>{J.done(),B.abort()}}),this.onFileRemove(r.id,()=>{q.abort(),E(new Error("File removed"))}),this.onCancelAll(r.id,ie=>{let{reason:se}=ie;se==="user"&&q.abort(),E(new Error("Upload cancelled"))})})}async uploadRemote(r){try{if(this.uppy.emit("upload-started",r),r.serverToken)return this.connectToServerSocket(r);let o=await Ug(this,Cf)[Cf](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:o}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(o){throw this.uppy.emit("upload-error",r,o),o}}connectToServerSocket(r){return new Promise((o,c)=>{let p=this.getOptions(r),_=r.serverToken,E=Md(r.remote.companionUrl),R,B=a(()=>{R==null&&(R=new Eh({target:`${E}/api/${_}`}),R.on("progress",V=>bg(this,V,r)),R.on("success",V=>{let ie=p.getResponseData(V.response.responseText,V.response),se=ie[p.responseUrlFieldName],de={status:V.response.status,body:ie,uploadURL:se};return this.uppy.emit("upload-success",r,de),q.done(),R.close(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),o()}),R.on("error",V=>{let ie=V.response,se=ie?p.getResponseError(ie.responseText,ie):Object.assign(new Error(V.error.message),{cause:V.error});this.uppy.emit("upload-error",r,se),q.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),c(se)}))},"createSocket");this.uploaderEvents[r.id]=new mo(this.uppy);let q=this.requests.run(()=>{if(r.isPaused){var V;(V=R)==null||V.send("pause",{})}else B();return()=>R.close()});this.onFileRemove(r.id,()=>{var V;(V=R)==null||V.send("cancel",{}),q.abort(),o(`upload ${r.id} was removed`)}),this.onCancelAll(r.id,function(V){let{reason:ie}=V===void 0?{}:V;if(ie==="user"){var se;(se=R)==null||se.send("cancel",{}),q.abort()}o(`upload ${r.id} was canceled`)});let J=a(()=>{R==null?q.abort():(R.send("pause",{}),q.done()),q=this.requests.run(()=>(r.isPaused||(R==null?B():R.send("resume",{})),()=>R.close()))},"onRetryRequest");this.onRetry(r.id,J),this.onRetryAll(r.id,J)}).catch(o=>(this.uppy.emit("upload-error",r,o),Promise.reject(o)))}uploadBundle(r){return new Promise((o,c)=>{let{endpoint:p}=this.opts,{method:_}=this.opts,E=this.uppy.getState().xhrUpload,R=this.createBundledUpload(r,{...this.opts,...E||{}}),B=new XMLHttpRequest,q=a(V=>{r.forEach(ie=>{this.uppy.emit("upload-error",ie,V)})},"emitError"),J=new R_(this.opts.timeout,()=>{B.abort();let V=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));q(V),c(V)});B.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),J.progress()}),B.upload.addEventListener("progress",V=>{J.progress(),V.lengthComputable&&r.forEach(ie=>{this.uppy.emit("upload-progress",ie,{uploader:this,bytesUploaded:V.loaded/V.total*ie.size,bytesTotal:ie.size})})}),B.addEventListener("load",V=>{if(J.done(),this.opts.validateStatus(V.target.status,B.responseText,B)){let se=this.opts.getResponseData(B.responseText,B),de={status:V.target.status,body:se};return r.forEach(we=>{this.uppy.emit("upload-success",we,de)}),o()}let ie=this.opts.getResponseError(B.responseText,B)||new Error("Upload error");return ie.request=B,q(ie),c(ie)}),B.addEventListener("error",()=>{J.done();let V=this.opts.getResponseError(B.responseText,B)||new Error("Upload error");return q(V),c(V)}),this.uppy.on("cancel-all",function(V){let{reason:ie}=V===void 0?{}:V;ie==="user"&&(J.done(),B.abort())}),B.open(_.toUpperCase(),p,!0),B.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(B.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(V=>{B.setRequestHeader(V,this.opts.headers[V])}),B.send(R),r.forEach(V=>{this.uppy.emit("upload-started",V)})})}uploadFiles(r){let o=r.map((c,p)=>{let _=parseInt(p,10)+1,E=r.length;return c.error?Promise.reject(new Error(c.error)):c.isRemote?this.uploadRemote(c,_,E):this.upload(c,_,E)});return kw(o)}onFileRemove(r,o){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&o(c.id)})}onRetry(r,o){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&o()})}onRetryAll(r,o){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||o()})}onCancelAll(r,o){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||o(...arguments)})}handleUpload(r){if(r.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[Od]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");let o=r.map(c=>this.uppy.getFile(c));if(this.opts.bundle){if(o.some(c=>c.isRemote))throw new Error("Cant upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(o)}return this.uploadFiles(o).then(()=>null)}install(){if(this.opts.bundle){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}};a(a1,"XHRUpload"),a1.VERSION=pH.version;var XP=g(b(),1),mH=g(N(),1),gH={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function o1(r,o){if(!Object.prototype.hasOwnProperty.call(r,o))throw new TypeError("attempted to use private field on non-instance");return r}a(o1,"_classPrivateFieldLooseBase");var yH=0;function KP(r){return"__private_"+yH+++"_"+r}a(KP,"_classPrivateFieldLooseKey");var Ef=KP("RateLimitedQueue"),ZP=class extends On{constructor(r,o){super(r,o),Object.defineProperty(this,Ef,{writable:!0,value:void 0}),this.id=this.opts.id||"Compressor",this.type="modifier",this.defaultLocale=gH;let c={quality:.6,limit:10};this.opts={...c,...o},o1(this,Ef)[Ef]=new ec(this.opts.limit),this.i18nInit(),this.prepareUpload=this.prepareUpload.bind(this),this.compress=this.compress.bind(this)}compress(r){return new Promise((o,c)=>{new mH.default(r,{...this.opts,success:o,error:c})})}async prepareUpload(r){let o=0,c=[],p=o1(this,Ef)[Ef].wrapPromiseFunction(async E=>{try{let R=await this.compress(E.data),B=E.data.size-R.size;this.uppy.log(`[Image Compressor] Image ${E.id} compressed by ${(0,XP.default)(B)}`),o+=B;let{name:q,type:J,size:V}=R,ie=q&&Re(q).extension;this.uppy.setFileState(E.id,{...q&&{name:q},...ie&&{extension:ie},...J&&{type:J},...V&&{size:V},data:R}),this.uppy.setFileMeta(E.id,{type:J}),c.push(E)}catch(R){this.uppy.log(`[Image Compressor] Failed to compress ${E.id}:`,"warning"),this.uppy.log(R,"warning")}}),_=r.map(E=>{let R=this.uppy.getFile(E);return this.uppy.emit("preprocess-progress",R,{mode:"indeterminate",message:this.i18n("compressingImages")}),R.isRemote||(R.data.type||(R.data=R.data.slice(0,R.data.size,R.type)),!R.type.startsWith("image/"))?Promise.resolve():p(R)});await Promise.all(_),this.uppy.emit("compressor:complete",c),o>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,XP.default)(o)}),"info");for(let E of r){let R=this.uppy.getFile(E);this.uppy.emit("preprocess-complete",R)}}install(){this.uppy.addPreProcessor(this.prepareUpload)}uninstall(){this.uppy.removePreProcessor(this.prepareUpload)}};a(ZP,"Compressor");function Of(){return Of=Object.assign||function(r){for(var o=1;o<arguments.length;o++){var c=arguments[o];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Of.apply(this,arguments)}a(Of,"_extends");var vH={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},bH={button:!0,fieldset:!0,reset:!0,submit:!0},_H={checkbox:!0,radio:!0},wH=/^\s+|\s+$/g,xH=Array.prototype.slice,QP=Object.prototype.toString;function l1(r,o){if(!r)throw new Error("A form is required by getFormData, was given form="+r);o=Of({includeDisabled:!1,trim:!1},o);for(var c={},p,_=[],E={},R=0,B=r.elements.length;R<B;R++){var q=r.elements[R];bH[q.type]||q.disabled&&!o.includeDisabled||(p=q.name||q.id,p&&!E[p]&&(_.push(p),E[p]=!0))}for(var J=0,V=_.length;J<V;J++){p=_[J];var ie=c1(r,p,o);ie!=null&&(c[p]=ie)}return c}a(l1,"getFormData");function c1(r,o,c){if(!r)throw new Error("A form is required by getFieldData, was given form="+r);if(!o&&QP.call(o)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+o);c=Of({includeDisabled:!1,trim:!1},c);var p=r.elements[o];if(!p||p.disabled&&!c.includeDisabled)return null;if(!vH[QP.call(p)])return h1(p,c.trim);for(var _=[],E=!0,R=0,B=p.length;R<B;R++)if(!(p[R].disabled&&!c.includeDisabled)){E&&p[R].type!=="radio"&&(E=!1);var q=h1(p[R],c.trim);q!=null&&(_=_.concat(q))}return E&&_.length===1?_[0]:_.length>0?_:null}a(c1,"getFieldData");function h1(r,o){var c=null,p=r.type;if(p==="select-one")return r.options.length&&(c=r.options[r.selectedIndex].value),c;if(p==="select-multiple"){c=[];for(var _=0,E=r.options.length;_<E;_++)r.options[_].selected&&c.push(r.options[_].value);return c.length===0&&(c=null),c}return p==="file"&&"files"in r?(r.multiple?(c=xH.call(r.files),c.length===0&&(c=null)):c=r.files[0],c):(_H[p]?r.checked&&(p==="checkbox"&&!r.hasAttribute("value")?c=!0:c=r.value):c=o?r.value.replace(wH,""):r.value,c)}a(h1,"getFormElementValue"),l1.getFieldData=c1;var kH={version:"3.0.1"},u1=class extends On{constructor(r,o){super(r,o),this.type="acquirer",this.id=this.opts.id||"Form",this.title="Form";let c={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};this.opts={...c,...o},this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleUploadStart=this.handleUploadStart.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.addResultToForm=this.addResultToForm.bind(this),this.getMetaFromForm=this.getMetaFromForm.bind(this)}handleUploadStart(){this.opts.getMetaFromForm&&this.getMetaFromForm()}handleSuccess(r){this.opts.addResultToForm&&this.addResultToForm(r),this.opts.submitOnSuccess&&this.form.submit()}handleFormSubmit(r){if(this.opts.triggerUploadOnSubmit){r.preventDefault();let o=ra(r.target.elements),c=[];o.forEach(p=>{(p.tagName==="BUTTON"||p.tagName==="INPUT"&&p.type==="submit")&&!p.disabled&&(p.disabled=!0,c.push(p))}),this.uppy.upload().then(()=>{c.forEach(p=>{p.disabled=!1})},p=>(c.forEach(_=>{_.disabled=!1}),Promise.reject(p))).catch(p=>{this.uppy.log(p.stack||p.message||p)})}}addResultToForm(r){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(r);let o=this.form.querySelector(`[name="${this.opts.resultName}"]`);if(o){let c;try{c=JSON.parse(o.value)}catch{}Array.isArray(c)||(c=[]),c.push(r),o.value=JSON.stringify(c);return}o=document.createElement("input"),o.name=this.opts.resultName,o.type="hidden",o.value=JSON.stringify([r]),this.form.appendChild(o)}getMetaFromForm(){let r=l1(this.form);delete r[this.opts.resultName],this.uppy.setMeta(r)}install(){if(this.form=i0(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}uninstall(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}};a(u1,"Form"),u1.VERSION=kH.version;var SH=g(x(),1),JP=typeof navigator<"u"&&"serviceWorker"in navigator;function eD(){return new Promise((r,o)=>{JP?navigator.serviceWorker.controller?r():navigator.serviceWorker.addEventListener("controllerchange",()=>{r()}):o(new Error("Unsupported"))})}a(eD,"waitForServiceWorker");var d1=class{constructor(r){this.ready=eD(),this.name=r.storeName}list(){let r={},o=new Promise((p,_)=>{r.resolve=p,r.reject=_}),c=a(p=>{if(p.data.store===this.name)switch(p.data.type){case"uppy/ALL_FILES":r.resolve(p.data.files),navigator.serviceWorker.removeEventListener("message",c);break;default:r.reject()}},"onMessage");return this.ready.then(()=>{navigator.serviceWorker.addEventListener("message",c),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:this.name})}),o}put(r){return this.ready.then(()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:this.name,file:r})})}delete(r){return this.ready.then(()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:this.name,fileID:r})})}};a(d1,"ServiceWorkerStore"),d1.isSupported=JP;var TH=d1,tD=typeof window<"u"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),CH=!!tD,iD="uppy-blobs",Xs="files",rD=24*60*60*1e3,EH=3;function sD(r){let o=r.openCursor();o.onsuccess=c=>{let p=c.target.result;if(!p)return;let _=p.value;_.expires=Date.now()+rD,p.update(_)}}a(sD,"migrateExpiration");function f1(r){let o=tD.open(r,EH);return new Promise((c,p)=>{o.onupgradeneeded=_=>{let E=_.target.result,{transaction:R}=_.currentTarget;if(_.oldVersion<2&&E.createObjectStore(Xs,{keyPath:"id"}).createIndex("store","store",{unique:!1}),_.oldVersion<3){let B=R.objectStore(Xs);B.createIndex("expires","expires",{unique:!1}),sD(B)}R.oncomplete=()=>{c(E)}},o.onsuccess=_=>{c(_.target.result)},o.onerror=p})}a(f1,"connect");function Mf(r){return new Promise((o,c)=>{r.onsuccess=p=>{o(p.target.result)},r.onerror=c})}a(Mf,"waitForRequest");var nD=!1,Hg=class{constructor(r){this.opts={dbName:iD,storeName:"default",expires:rD,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024,...r},this.name=this.opts.storeName;let o=a(()=>f1(this.opts.dbName),"createConnection");nD?this.ready=o():(nD=!0,this.ready=Hg.cleanup().then(o,o))}key(r){return`${this.name}!${r}`}list(){return this.ready.then(r=>{let o=r.transaction([Xs],"readonly").objectStore(Xs).index("store").getAll(IDBKeyRange.only(this.name));return Mf(o)}).then(r=>{let o={};return r.forEach(c=>{o[c.fileID]=c.data}),o})}get(r){return this.ready.then(o=>{let c=o.transaction([Xs],"readonly").objectStore(Xs).get(this.key(r));return Mf(c)}).then(o=>({id:o.data.fileID,data:o.data.data}))}getSize(){return this.ready.then(r=>{let o=r.transaction([Xs],"readonly").objectStore(Xs).index("store").openCursor(IDBKeyRange.only(this.name));return new Promise((c,p)=>{let _=0;o.onsuccess=E=>{let R=E.target.result;R?(_+=R.value.data.size,R.continue()):c(_)},o.onerror=()=>{p(new Error("Could not retrieve stored blobs size"))}})})}put(r){return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(o=>o>this.opts.maxTotalSize?Promise.reject(new Error("No space left")):this.ready).then(o=>{let c=o.transaction([Xs],"readwrite").objectStore(Xs).add({id:this.key(r.id),fileID:r.id,store:this.name,expires:Date.now()+this.opts.expires,data:r.data});return Mf(c)})}delete(r){return this.ready.then(o=>{let c=o.transaction([Xs],"readwrite").objectStore(Xs).delete(this.key(r));return Mf(c)})}static cleanup(){return f1(iD).then(r=>{let o=r.transaction([Xs],"readwrite").objectStore(Xs).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise((c,p)=>{o.onsuccess=_=>{let E=_.target.result;E?(E.delete(),E.continue()):c(r)},o.onerror=p})}).then(r=>{r.close()})}};a(Hg,"IndexedDBStore"),Hg.isSupported=CH;var OH=Hg;function aD(){let r=[];for(let o=0;o<localStorage.length;o++){let c=localStorage.key(o);/^uppyState:/.test(c)&&r.push(c.slice(10))}return r}a(aD,"findUppyInstances");function p1(r){try{return JSON.parse(r)}catch{return null}}a(p1,"maybeParse");var oD=!1,jh=class{constructor(r){this.opts={expires:24*60*60*1e3,...r},this.name=`uppyState:${r.storeName}`,oD||(oD=!0,jh.cleanup())}load(){let r=localStorage.getItem(this.name);if(!r)return null;let o=p1(r);return o?o.metadata?o.metadata:(this.save(o),o):null}save(r){let o=Date.now()+this.opts.expires,c=JSON.stringify({metadata:r,expires:o});localStorage.setItem(this.name,c)}static cleanup(r){if(r){localStorage.removeItem(`uppyState:${r}`);return}let o=aD(),c=Date.now();o.forEach(p=>{let _=localStorage.getItem(`uppyState:${p}`);if(!_)return;let E=p1(_);!E||E.expires&&E.expires<c&&localStorage.removeItem(`uppyState:${p}`)})}};a(jh,"MetaDataStore");var MH={version:"3.0.2"},m1=class extends On{constructor(r,o){super(r,o),this.addBlobToStores=p=>{p.isRemote||(this.ServiceWorkerStore&&this.ServiceWorkerStore.put(p).catch(_=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(_)}),this.IndexedDBStore.put(p).catch(_=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(_)}))},this.removeBlobFromStores=p=>{this.ServiceWorkerStore&&this.ServiceWorkerStore.delete(p.id).catch(_=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(_)}),this.IndexedDBStore.delete(p.id).catch(_=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(_)})},this.replaceBlobInStores=p=>{this.removeBlobFromStores(p),this.addBlobToStores(p)},this.handleRestoreConfirmed=()=>{this.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");let{currentUploads:p}=this.uppy.getState();p&&(this.uppy.resumeAll(),Object.keys(p).forEach(_=>{this.uppy.restore(_,p[_])})),this.uppy.setState({recoveredState:null})},this.abortRestore=()=>{this.uppy.log("[GoldenRetriever] Aborting restore...");let p=Object.keys(this.uppy.getState().files);this.deleteBlobs(p).then(()=>{this.uppy.log(`[GoldenRetriever] Removed ${p.length} files`)}).catch(_=>{this.uppy.log(`[GoldenRetriever] Could not remove ${p.length} files`,"warning"),this.uppy.log(_)}),this.uppy.cancelAll(),this.uppy.setState({recoveredState:null}),jh.cleanup(this.uppy.opts.id)},this.handleComplete=p=>{let{successful:_}=p,E=_.map(R=>R.id);this.deleteBlobs(E).then(()=>{this.uppy.log(`[GoldenRetriever] Removed ${_.length} files that finished uploading`)}).catch(R=>{this.uppy.log(`[GoldenRetriever] Could not remove ${_.length} files that finished uploading`,"warning"),this.uppy.log(R)}),this.uppy.setState({recoveredState:null}),jh.cleanup(this.uppy.opts.id)},this.restoreBlobs=()=>{this.uppy.getFiles().length>0?Promise.all([this.loadFileBlobsFromServiceWorker(),this.loadFileBlobsFromIndexedDB()]).then(p=>{let _={...p[0],...p[1]};this.onBlobsLoaded(_)}):this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...")},this.type="debugger",this.id=this.opts.id||"GoldenRetriever",this.title="Golden Retriever";let c={expires:24*60*60*1e3,serviceWorker:!1};this.opts={...c,...o},this.MetaDataStore=new jh({expires:this.opts.expires,storeName:r.getID()}),this.ServiceWorkerStore=null,this.opts.serviceWorker&&(this.ServiceWorkerStore=new TH({storeName:r.getID()})),this.IndexedDBStore=new OH({expires:this.opts.expires,...this.opts.indexedDB||{},storeName:r.getID()}),this.saveFilesStateToLocalStorage=(0,SH.default)(this.saveFilesStateToLocalStorage.bind(this),500,{leading:!0,trailing:!0}),this.restoreState=this.restoreState.bind(this),this.loadFileBlobsFromServiceWorker=this.loadFileBlobsFromServiceWorker.bind(this),this.loadFileBlobsFromIndexedDB=this.loadFileBlobsFromIndexedDB.bind(this),this.onBlobsLoaded=this.onBlobsLoaded.bind(this)}restoreState(){let r=this.MetaDataStore.load();r&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:r.currentUploads||{},files:r.files||{},recoveredState:r}),this.savedPluginData=r.pluginData)}getWaitingFiles(){let r={};return this.uppy.getFiles().forEach(o=>{(!o.progress||!o.progress.uploadStarted)&&(r[o.id]=o)}),r}getUploadingFiles(){let r={},{currentUploads:o}=this.uppy.getState();return o&&Object.keys(o).forEach(c=>{o[c].fileIDs.forEach(p=>{r[p]=this.uppy.getFile(p)})}),r}saveFilesStateToLocalStorage(){let r={...this.getWaitingFiles(),...this.getUploadingFiles()};if(Object.keys(r).length===0){this.uppy.getState().recoveredState!==null&&this.uppy.setState({recoveredState:null}),jh.cleanup(this.uppy.opts.id);return}let o={};Object.keys(r).forEach(_=>{r[_].isRemote?o[_]={...r[_],isRestored:!0}:o[_]={...r[_],isRestored:!0,data:null,preview:null}});let c={};this.uppy.emit("restore:get-data",_=>{Object.assign(c,_)});let{currentUploads:p}=this.uppy.getState();this.MetaDataStore.save({currentUploads:p,files:o,pluginData:c})}loadFileBlobsFromServiceWorker(){return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(r=>{let o=Object.keys(r).length;return o>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${o} blobs from Service Worker!`),r):(this.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(r=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),this.uppy.log(r),{})):Promise.resolve({})}loadFileBlobsFromIndexedDB(){return this.IndexedDBStore.list().then(r=>{let o=Object.keys(r).length;return o>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${o} blobs from IndexedDB!`),r):(this.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(r=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),this.uppy.log(r),{}))}onBlobsLoaded(r){let o=[],c={...this.uppy.getState().files};Object.keys(r).forEach(p=>{let _=this.uppy.getFile(p);if(!_){o.push(p);return}let E={data:r[p],isRestored:!0,isGhost:!1};c[p]={..._,...E}}),Object.keys(c).forEach(p=>{c[p].data===null&&(c[p]={...c[p],isGhost:!0})}),this.uppy.setState({files:c}),this.uppy.emit("restored",this.savedPluginData),o.length&&this.deleteBlobs(o).then(()=>{this.uppy.log(`[GoldenRetriever] Cleaned up ${o.length} old files`)}).catch(p=>{this.uppy.log(`[GoldenRetriever] Could not clean up ${o.length} old files`,"warning"),this.uppy.log(p)})}deleteBlobs(r){let o=[];return r.forEach(c=>{this.ServiceWorkerStore&&o.push(this.ServiceWorkerStore.delete(c)),this.IndexedDBStore&&o.push(this.IndexedDBStore.delete(c))}),Promise.all(o)}install(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}uninstall(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}};a(m1,"GoldenRetriever"),m1.VERSION=MH.version;var AH={version:"3.0.1"},g1=class extends vr{constructor(r,o){super(r,o),this.type="debugger",this.id=this.opts.id||"ReduxDevTools",this.title="Redux DevTools";let c={};this.opts={...c,...o},this.handleStateChange=this.handleStateChange.bind(this),this.initDevTools=this.initDevTools.bind(this)}handleStateChange(r,o){this.devTools.send("UPPY_STATE_UPDATE",o)}initDevTools(){this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(r=>{if(r.type==="DISPATCH")switch(r.payload.type){case"RESET":this.uppy.cancelAll();return;case"IMPORT_STATE":{let{computedStates:o}=r.payload.nextLiftedState;this.uppy.store.state={...this.uppy.getState(),...o[o.length-1].state},this.uppy.updateAll(this.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":this.uppy.store.state={...this.uppy.getState(),...JSON.parse(r.state)},this.uppy.updateAll(this.uppy.getState());break}})}install(){this.withDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}uninstall(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}};a(g1,"ReduxDevTools"),g1.VERSION=AH.version;function lD(){throw new Error("Core has been renamed to Uppy")}a(lD,"Core");var PH={ProviderView:T2};Sc.COMPANION_URL=FP,Sc.COMPANION_ALLOWED_HOSTS=IP;var DH={};globalThis.Uppy=m})();/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 *//*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 *//**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */var om=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yx={exports:{}};(function(t,e){(function(i,s){typeof e.nodeName!="string"?t.exports=s():i.Croppie=s()})(typeof self<"u"?self:om,function(){if(typeof Promise!="function"){/*! promise-polyfill 3.1.0 */(function(Q){function ce(Ee,Fe){return function(){Ee.apply(Fe,arguments)}}function oe(Ee){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Ee!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],Ct(Ee,ce(Te,this),ce(Me,this))}function Se(Ee){var Fe=this;return this._state===null?void this._deferreds.push(Ee):void ke(function(){var De=Fe._state?Ee.onFulfilled:Ee.onRejected;if(De===null)return void(Fe._state?Ee.resolve:Ee.reject)(Fe._value);var st;try{st=De(Fe._value)}catch(pt){return void Ee.reject(pt)}Ee.resolve(st)})}function Te(Ee){try{if(Ee===this)throw new TypeError("A promise cannot be resolved with itself.");if(Ee&&(typeof Ee=="object"||typeof Ee=="function")){var Fe=Ee.then;if(typeof Fe=="function")return void Ct(ce(Fe,Ee),ce(Te,this),ce(Me,this))}this._state=!0,this._value=Ee,it.call(this)}catch(De){Me.call(this,De)}}function Me(Ee){this._state=!1,this._value=Ee,it.call(this)}function it(){for(var Ee=0,Fe=this._deferreds.length;Fe>Ee;Ee++)Se.call(this,this._deferreds[Ee]);this._deferreds=null}function vt(Ee,Fe,De,st){this.onFulfilled=typeof Ee=="function"?Ee:null,this.onRejected=typeof Fe=="function"?Fe:null,this.resolve=De,this.reject=st}function Ct(Ee,Fe,De){var st=!1;try{Ee(function(pt){st||(st=!0,Fe(pt))},function(pt){st||(st=!0,De(pt))})}catch(pt){if(st)return;st=!0,De(pt)}}var re=setTimeout,ke=typeof setImmediate=="function"&&setImmediate||function(Ee){re(Ee,1)},Be=Array.isArray||function(Ee){return Object.prototype.toString.call(Ee)==="[object Array]"};oe.prototype.catch=function(Ee){return this.then(null,Ee)},oe.prototype.then=function(Ee,Fe){var De=this;return new oe(function(st,pt){Se.call(De,new vt(Ee,Fe,st,pt))})},oe.all=function(){var Ee=Array.prototype.slice.call(arguments.length===1&&Be(arguments[0])?arguments[0]:arguments);return new oe(function(Fe,De){function st(oi,ee){try{if(ee&&(typeof ee=="object"||typeof ee=="function")){var te=ee.then;if(typeof te=="function")return void te.call(ee,function(he){st(oi,he)},De)}Ee[oi]=ee,--pt===0&&Fe(Ee)}catch(he){De(he)}}if(Ee.length===0)return Fe([]);for(var pt=Ee.length,ii=0;ii<Ee.length;ii++)st(ii,Ee[ii])})},oe.resolve=function(Ee){return Ee&&typeof Ee=="object"&&Ee.constructor===oe?Ee:new oe(function(Fe){Fe(Ee)})},oe.reject=function(Ee){return new oe(function(Fe,De){De(Ee)})},oe.race=function(Ee){return new oe(function(Fe,De){for(var st=0,pt=Ee.length;pt>st;st++)Ee[st].then(Fe,De)})},oe._setImmediateFn=function(Ee){ke=Ee},t.exports?t.exports=oe:Q.Promise||(Q.Promise=oe)})(this)}typeof window<"u"&&typeof window.CustomEvent!="function"&&function(){function Q(ce,oe){oe=oe||{bubbles:!1,cancelable:!1,detail:void 0};var Se=document.createEvent("CustomEvent");return Se.initCustomEvent(ce,oe.bubbles,oe.cancelable,oe.detail),Se}Q.prototype=window.Event.prototype,window.CustomEvent=Q}(),typeof HTMLCanvasElement<"u"&&!HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(Q,ce,oe){for(var Se=atob(this.toDataURL(ce,oe).split(",")[1]),Te=Se.length,Me=new Uint8Array(Te),it=0;it<Te;it++)Me[it]=Se.charCodeAt(it);Q(new Blob([Me],{type:ce||"image/png"}))}});var i=["Webkit","Moz","ms"],s=typeof document<"u"?document.createElement("div").style:{},n=[1,8,3,6],l=[2,7,4,5],a,h,d;function f(Q){if(Q in s)return Q;for(var ce=Q[0].toUpperCase()+Q.slice(1),oe=i.length;oe--;)if(Q=i[oe]+ce,Q in s)return Q}h=f("transform"),a=f("transformOrigin"),d=f("userSelect");function g(Q,ce){var oe=n.indexOf(Q)>-1?n:l,Se=oe.indexOf(Q),Te=ce/90%oe.length;return oe[(oe.length+Se+Te%oe.length)%oe.length]}function v(Q,ce){Q=Q||{};for(var oe in ce)ce[oe]&&ce[oe].constructor&&ce[oe].constructor===Object?(Q[oe]=Q[oe]||{},v(Q[oe],ce[oe])):Q[oe]=ce[oe];return Q}function x(Q){return v({},Q)}function b(Q,ce,oe){var Se;return function(){var Te=this,Me=arguments,it=function(){Se=null,Q.apply(Te,Me)};clearTimeout(Se),Se=setTimeout(it,ce)}}function C(Q){if("createEvent"in document){var ce=document.createEvent("HTMLEvents");ce.initEvent("change",!1,!0),Q.dispatchEvent(ce)}else Q.fireEvent("onchange")}function O(Q,ce,oe){if(typeof ce=="string"){var Se=ce;ce={},ce[Se]=oe}for(var Te in ce)Q.style[Te]=ce[Te]}function P(Q,ce){Q.classList?Q.classList.add(ce):Q.className+=" "+ce}function L(Q,ce){Q.classList?Q.classList.remove(ce):Q.className=Q.className.replace(ce,"")}function u(Q,ce){for(var oe in ce)Q.setAttribute(oe,ce[oe])}function S(Q){return parseInt(Q,10)}function y(Q,ce){if(!Q)throw"Source image missing";var oe=new Image;return oe.style.opacity="0",new Promise(function(Se,Te){function Me(){oe.style.opacity="1",setTimeout(function(){Se(oe)},1)}oe.removeAttribute("crossOrigin"),Q.match(/^https?:\/\/|^\/\//)&&oe.setAttribute("crossOrigin","anonymous"),oe.onload=function(){ce?EXIF.getData(oe,function(){Me()}):Me()},oe.onerror=function(it){oe.style.opacity=1,setTimeout(function(){Te(it)},1)},oe.src=Q})}function k(Q,ce){var oe=Q.naturalWidth,Se=Q.naturalHeight,Te=ce||z(Q);if(Te&&Te>=5){var Me=oe;oe=Se,Se=Me}return{width:oe,height:Se}}var T={translate3d:{suffix:", 0px"},translate:{suffix:""}},A=function(Q,ce,oe){this.x=parseFloat(Q),this.y=parseFloat(ce),this.scale=parseFloat(oe)};A.parse=function(Q){return Q.style?A.parse(Q.style[h]):Q.indexOf("matrix")>-1||Q.indexOf("none")>-1?A.fromMatrix(Q):A.fromString(Q)},A.fromMatrix=function(Q){var ce=Q.substring(7).split(",");return(!ce.length||Q==="none")&&(ce=[1,0,0,1,0,0]),new A(S(ce[4]),S(ce[5]),parseFloat(ce[0]))},A.fromString=function(Q){var ce=Q.split(") "),oe=ce[0].substring(Wi.globals.translate.length+1).split(","),Se=ce.length>1?ce[1].substring(6):1,Te=oe.length>1?oe[0]:0,Me=oe.length>1?oe[1]:0;return new A(Te,Me,Se)},A.prototype.toString=function(){var Q=T[Wi.globals.translate].suffix||"";return Wi.globals.translate+"("+this.x+"px, "+this.y+"px"+Q+") scale("+this.scale+")"};var F=function(Q){if(!Q||!Q.style[a]){this.x=0,this.y=0;return}var ce=Q.style[a].split(" ");this.x=parseFloat(ce[0]),this.y=parseFloat(ce[1])};F.prototype.toString=function(){return this.x+"px "+this.y+"px"};function z(Q){return Q.exifdata&&Q.exifdata.Orientation?S(Q.exifdata.Orientation):1}function N(Q,ce,oe){var Se=ce.width,Te=ce.height,Me=Q.getContext("2d");switch(Q.width=ce.width,Q.height=ce.height,Me.save(),oe){case 2:Me.translate(Se,0),Me.scale(-1,1);break;case 3:Me.translate(Se,Te),Me.rotate(180*Math.PI/180);break;case 4:Me.translate(0,Te),Me.scale(1,-1);break;case 5:Q.width=Te,Q.height=Se,Me.rotate(90*Math.PI/180),Me.scale(1,-1);break;case 6:Q.width=Te,Q.height=Se,Me.rotate(90*Math.PI/180),Me.translate(0,-Te);break;case 7:Q.width=Te,Q.height=Se,Me.rotate(-90*Math.PI/180),Me.translate(-Se,Te),Me.scale(1,-1);break;case 8:Q.width=Te,Q.height=Se,Me.translate(0,Se),Me.rotate(-90*Math.PI/180);break}Me.drawImage(ce,0,0,Se,Te),Me.restore()}function m(){var Q=this,ce="croppie-container",oe=Q.options.viewport.type?"cr-vp-"+Q.options.viewport.type:null,Se,Te,Me,it,vt,Ct;Q.options.useCanvas=Q.options.enableOrientation||w.call(Q),Q.data={},Q.elements={},Se=Q.elements.boundary=document.createElement("div"),Me=Q.elements.viewport=document.createElement("div"),Te=Q.elements.img=document.createElement("img"),it=Q.elements.overlay=document.createElement("div"),Q.options.useCanvas?(Q.elements.canvas=document.createElement("canvas"),Q.elements.preview=Q.elements.canvas):Q.elements.preview=Te,P(Se,"cr-boundary"),Se.setAttribute("aria-dropeffect","none"),vt=Q.options.boundary.width,Ct=Q.options.boundary.height,O(Se,{width:vt+(isNaN(vt)?"":"px"),height:Ct+(isNaN(Ct)?"":"px")}),P(Me,"cr-viewport"),oe&&P(Me,oe),O(Me,{width:Q.options.viewport.width+"px",height:Q.options.viewport.height+"px"}),Me.setAttribute("tabindex",0),P(Q.elements.preview,"cr-image"),u(Q.elements.preview,{alt:"preview","aria-grabbed":"false"}),P(it,"cr-overlay"),Q.element.appendChild(Se),Se.appendChild(Q.elements.preview),Se.appendChild(Me),Se.appendChild(it),P(Q.element,ce),Q.options.customClass&&P(Q.element,Q.options.customClass),ae.call(this),Q.options.enableZoom&&I.call(Q),Q.options.enableResize&&M.call(Q)}function w(){return this.options.enableExif&&window.EXIF}function M(){var Q=this,ce=document.createElement("div"),oe=!1,Se,Te,Me,it=50,vt,Ct,re,ke;P(ce,"cr-resizer"),O(ce,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(re=document.createElement("div"),P(re,"cr-resizer-vertical"),ce.appendChild(re)),this.options.resizeControls.width&&(ke=document.createElement("div"),P(ke,"cr-resizer-horisontal"),ce.appendChild(ke));function Be(De){if(!(De.button!==void 0&&De.button!==0)&&(De.preventDefault(),!oe)){var st=Q.elements.overlay.getBoundingClientRect();if(oe=!0,Te=De.pageX,Me=De.pageY,Se=De.currentTarget.className.indexOf("vertical")!==-1?"v":"h",vt=st.width,Ct=st.height,De.touches){var pt=De.touches[0];Te=pt.pageX,Me=pt.pageY}window.addEventListener("mousemove",Ee),window.addEventListener("touchmove",Ee),window.addEventListener("mouseup",Fe),window.addEventListener("touchend",Fe),document.body.style[d]="none"}}function Ee(De){var st=De.pageX,pt=De.pageY;if(De.preventDefault(),De.touches){var ii=De.touches[0];st=ii.pageX,pt=ii.pageY}var oi=st-Te,ee=pt-Me,te=Q.options.viewport.height+ee,he=Q.options.viewport.width+oi;Se==="v"&&te>=it&&te<=Ct?(O(ce,{height:te+"px"}),Q.options.boundary.height+=ee,O(Q.elements.boundary,{height:Q.options.boundary.height+"px"}),Q.options.viewport.height+=ee,O(Q.elements.viewport,{height:Q.options.viewport.height+"px"})):Se==="h"&&he>=it&&he<=vt&&(O(ce,{width:he+"px"}),Q.options.boundary.width+=oi,O(Q.elements.boundary,{width:Q.options.boundary.width+"px"}),Q.options.viewport.width+=oi,O(Q.elements.viewport,{width:Q.options.viewport.width+"px"})),X.call(Q),me.call(Q),$.call(Q),ue.call(Q),Me=pt,Te=st}function Fe(){oe=!1,window.removeEventListener("mousemove",Ee),window.removeEventListener("touchmove",Ee),window.removeEventListener("mouseup",Fe),window.removeEventListener("touchend",Fe),document.body.style[d]=""}re&&(re.addEventListener("mousedown",Be),re.addEventListener("touchstart",Be)),ke&&(ke.addEventListener("mousedown",Be),ke.addEventListener("touchstart",Be)),this.elements.boundary.appendChild(ce)}function D(Q){if(this.options.enableZoom){var ce=this.elements.zoomer,oe=ri(Q,4);ce.value=Math.max(parseFloat(ce.min),Math.min(parseFloat(ce.max),oe)).toString()}}function I(){var Q=this,ce=Q.elements.zoomerWrap=document.createElement("div"),oe=Q.elements.zoomer=document.createElement("input");P(ce,"cr-slider-wrap"),P(oe,"cr-slider"),oe.type="range",oe.step="0.0001",oe.value="1",oe.style.display=Q.options.showZoomer?"":"none",oe.setAttribute("aria-label","zoom"),Q.element.appendChild(ce),ce.appendChild(oe),Q._currentZoom=1;function Se(){H.call(Q,{value:parseFloat(oe.value),origin:new F(Q.elements.preview),viewportRect:Q.elements.viewport.getBoundingClientRect(),transform:A.parse(Q.elements.preview)})}function Te(Me){var it,vt;if(Q.options.mouseWheelZoom==="ctrl"&&Me.ctrlKey!==!0)return 0;Me.wheelDelta?it=Me.wheelDelta/1200:Me.deltaY?it=Me.deltaY/1060:Me.detail?it=Me.detail/-60:it=0,vt=Q._currentZoom+it*Q._currentZoom,Me.preventDefault(),D.call(Q,vt),Se.call(Q)}Q.elements.zoomer.addEventListener("input",Se),Q.elements.zoomer.addEventListener("change",Se),Q.options.mouseWheelZoom&&(Q.elements.boundary.addEventListener("mousewheel",Te),Q.elements.boundary.addEventListener("DOMMouseScroll",Te))}function H(Q){var ce=this,oe=Q?Q.transform:A.parse(ce.elements.preview),Se=Q?Q.viewportRect:ce.elements.viewport.getBoundingClientRect(),Te=Q?Q.origin:new F(ce.elements.preview);function Me(){var re={};re[h]=oe.toString(),re[a]=Te.toString(),O(ce.elements.preview,re)}if(ce._currentZoom=Q?Q.value:ce._currentZoom,oe.scale=ce._currentZoom,ce.elements.zoomer.setAttribute("aria-valuenow",ce._currentZoom),Me(),ce.options.enforceBoundary){var it=j.call(ce,Se),vt=it.translate,Ct=it.origin;oe.x>=vt.maxX&&(Te.x=Ct.minX,oe.x=vt.maxX),oe.x<=vt.minX&&(Te.x=Ct.maxX,oe.x=vt.minX),oe.y>=vt.maxY&&(Te.y=Ct.minY,oe.y=vt.maxY),oe.y<=vt.minY&&(Te.y=Ct.maxY,oe.y=vt.minY)}Me(),Y.call(ce),ue.call(ce)}function j(Q){var ce=this,oe=ce._currentZoom,Se=Q.width,Te=Q.height,Me=ce.elements.boundary.clientWidth/2,it=ce.elements.boundary.clientHeight/2,vt=ce.elements.preview.getBoundingClientRect(),Ct=vt.width,re=vt.height,ke=Se/2,Be=Te/2,Ee=(ke/oe-Me)*-1,Fe=Ee-(Ct*(1/oe)-Se*(1/oe)),De=(Be/oe-it)*-1,st=De-(re*(1/oe)-Te*(1/oe)),pt=1/oe*ke,ii=Ct*(1/oe)-pt,oi=1/oe*Be,ee=re*(1/oe)-oi;return{translate:{maxX:Ee,minX:Fe,maxY:De,minY:st},origin:{maxX:ii,minX:pt,maxY:ee,minY:oi}}}function $(Q){var ce=this,oe=ce._currentZoom,Se=ce.elements.preview.getBoundingClientRect(),Te=ce.elements.viewport.getBoundingClientRect(),Me=A.parse(ce.elements.preview.style[h]),it=new F(ce.elements.preview),vt=Te.top-Se.top+Te.height/2,Ct=Te.left-Se.left+Te.width/2,re={},ke={};if(Q){var Be=it.x,Ee=it.y,Fe=Me.x,De=Me.y;re.y=Be,re.x=Ee,Me.y=Fe,Me.x=De}else re.y=vt/oe,re.x=Ct/oe,ke.y=(re.y-it.y)*(1-oe),ke.x=(re.x-it.x)*(1-oe),Me.x-=ke.x,Me.y-=ke.y;var st={};st[a]=re.x+"px "+re.y+"px",st[h]=Me.toString(),O(ce.elements.preview,st)}function ae(){var Q=this,ce=!1,oe,Se,Te,Me,it;function vt(De,st){var pt=Q.elements.preview.getBoundingClientRect(),ii=it.y+st,oi=it.x+De;Q.options.enforceBoundary?(Me.top>pt.top+st&&Me.bottom<pt.bottom+st&&(it.y=ii),Me.left>pt.left+De&&Me.right<pt.right+De&&(it.x=oi)):(it.y=ii,it.x=oi)}function Ct(De){Q.elements.preview.setAttribute("aria-grabbed",De),Q.elements.boundary.setAttribute("aria-dropeffect",De?"move":"none")}function re(De){var st=37,pt=38,ii=39,oi=40;if(De.shiftKey&&(De.keyCode===pt||De.keyCode===oi)){var ee;De.keyCode===pt?ee=parseFloat(Q.elements.zoomer.value)+parseFloat(Q.elements.zoomer.step):ee=parseFloat(Q.elements.zoomer.value)-parseFloat(Q.elements.zoomer.step),Q.setZoom(ee)}else if(Q.options.enableKeyMovement&&De.keyCode>=37&&De.keyCode<=40){De.preventDefault();var te=he(De.keyCode);it=A.parse(Q.elements.preview),document.body.style[d]="none",Me=Q.elements.viewport.getBoundingClientRect(),ke(te)}function he(_e){switch(_e){case st:return[1,0];case pt:return[0,1];case ii:return[-1,0];case oi:return[0,-1]}}}function ke(De){var st=De[0],pt=De[1],ii={};vt(st,pt),ii[h]=it.toString(),O(Q.elements.preview,ii),X.call(Q),document.body.style[d]="",$.call(Q),ue.call(Q),Te=0}function Be(De){if(!(De.button!==void 0&&De.button!==0)&&(De.preventDefault(),!ce)){if(ce=!0,oe=De.pageX,Se=De.pageY,De.touches){var st=De.touches[0];oe=st.pageX,Se=st.pageY}Ct(ce),it=A.parse(Q.elements.preview),window.addEventListener("mousemove",Ee),window.addEventListener("touchmove",Ee),window.addEventListener("mouseup",Fe),window.addEventListener("touchend",Fe),document.body.style[d]="none",Me=Q.elements.viewport.getBoundingClientRect()}}function Ee(De){De.preventDefault();var st=De.pageX,pt=De.pageY;if(De.touches){var ii=De.touches[0];st=ii.pageX,pt=ii.pageY}var oi=st-oe,ee=pt-Se,te={};if(De.type==="touchmove"&&De.touches.length>1){var he=De.touches[0],_e=De.touches[1],Ye=Math.sqrt((he.pageX-_e.pageX)*(he.pageX-_e.pageX)+(he.pageY-_e.pageY)*(he.pageY-_e.pageY));Te||(Te=Ye/Q._currentZoom);var Je=Ye/Te;D.call(Q,Je),C(Q.elements.zoomer);return}vt(oi,ee),te[h]=it.toString(),O(Q.elements.preview,te),X.call(Q),Se=pt,oe=st}function Fe(){ce=!1,Ct(ce),window.removeEventListener("mousemove",Ee),window.removeEventListener("touchmove",Ee),window.removeEventListener("mouseup",Fe),window.removeEventListener("touchend",Fe),document.body.style[d]="",$.call(Q),ue.call(Q),Te=0}Q.elements.overlay.addEventListener("mousedown",Be),Q.elements.viewport.addEventListener("keydown",re),Q.elements.overlay.addEventListener("touchstart",Be)}function X(){if(this.elements){var Q=this,ce=Q.elements.boundary.getBoundingClientRect(),oe=Q.elements.preview.getBoundingClientRect();O(Q.elements.overlay,{width:oe.width+"px",height:oe.height+"px",top:oe.top-ce.top+"px",left:oe.left-ce.left+"px"})}}var Y=b(X,500);function ue(){var Q=this,ce=Q.get();if(be.call(Q))if(Q.options.update.call(Q,ce),Q.$&&typeof Prototype>"u")Q.$(Q.element).trigger("update.croppie",ce);else{var oe;window.CustomEvent?oe=new CustomEvent("update",{detail:ce}):(oe=document.createEvent("CustomEvent"),oe.initCustomEvent("update",!0,!0,ce)),Q.element.dispatchEvent(oe)}}function be(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function Oe(){var Q=this,ce=1,oe={},Se=Q.elements.preview,Te,Me=new A(0,0,ce),it=new F,vt=be.call(Q);!vt||Q.data.bound||(Q.data.bound=!0,oe[h]=Me.toString(),oe[a]=it.toString(),oe.opacity=1,O(Se,oe),Te=Q.elements.preview.getBoundingClientRect(),Q._originalImageWidth=Te.width,Q._originalImageHeight=Te.height,Q.data.orientation=w.call(Q)?z(Q.elements.img):Q.data.orientation,Q.options.enableZoom?me.call(Q,!0):Q._currentZoom=ce,Me.scale=Q._currentZoom,oe[h]=Me.toString(),O(Se,oe),Q.data.points.length?xe.call(Q,Q.data.points):Ae.call(Q),$.call(Q),X.call(Q))}function me(Q){var ce=this,oe=Math.max(ce.options.minZoom,0)||0,Se=ce.options.maxZoom||1.5,Te,Me,it=ce.elements.zoomer,vt=parseFloat(it.value),Ct=ce.elements.boundary.getBoundingClientRect(),re=k(ce.elements.img,ce.data.orientation),ke=ce.elements.viewport.getBoundingClientRect(),Be,Ee;ce.options.enforceBoundary&&(Be=ke.width/re.width,Ee=ke.height/re.height,oe=Math.max(Be,Ee)),oe>=Se&&(Se=oe+1),it.min=ri(oe,4),it.max=ri(Se,4),!Q&&(vt<it.min||vt>it.max)?D.call(ce,vt<it.min?it.min:it.max):Q&&(Me=Math.max(Ct.width/re.width,Ct.height/re.height),Te=ce.data.boundZoom!==null?ce.data.boundZoom:Me,D.call(ce,Te)),C(it)}function xe(Q){if(Q.length!==4)throw"Croppie - Invalid number of points supplied: "+Q;var ce=this,oe=Q[2]-Q[0],Se=ce.elements.viewport.getBoundingClientRect(),Te=ce.elements.boundary.getBoundingClientRect(),Me={left:Se.left-Te.left,top:Se.top-Te.top},it=Se.width/oe,vt=Q[1],Ct=Q[0],re=-1*Q[1]+Me.top,ke=-1*Q[0]+Me.left,Be={};Be[a]=Ct+"px "+vt+"px",Be[h]=new A(ke,re,it).toString(),O(ce.elements.preview,Be),D.call(ce,it),ce._currentZoom=it}function Ae(){var Q=this,ce=Q.elements.preview.getBoundingClientRect(),oe=Q.elements.viewport.getBoundingClientRect(),Se=Q.elements.boundary.getBoundingClientRect(),Te=oe.left-Se.left,Me=oe.top-Se.top,it=Te-(ce.width-oe.width)/2,vt=Me-(ce.height-oe.height)/2,Ct=new A(it,vt,Q._currentZoom);O(Q.elements.preview,h,Ct.toString())}function $e(Q){var ce=this,oe=ce.elements.canvas,Se=ce.elements.img,Te=oe.getContext("2d");Te.clearRect(0,0,oe.width,oe.height),oe.width=Se.width,oe.height=Se.height;var Me=ce.options.enableOrientation&&Q||z(Se);N(oe,Se,Me)}function tt(Q){var ce=this,oe=Q.points,Se=S(oe[0]),Te=S(oe[1]),Me=S(oe[2]),it=S(oe[3]),vt=Me-Se,Ct=it-Te,re=Q.circle,ke=document.createElement("canvas"),Be=ke.getContext("2d"),Ee=Q.outputWidth||vt,Fe=Q.outputHeight||Ct;ke.width=Ee,ke.height=Fe,Q.backgroundColor&&(Be.fillStyle=Q.backgroundColor,Be.fillRect(0,0,Ee,Fe));var De=Se,st=Te,pt=vt,ii=Ct,oi=0,ee=0,te=Ee,he=Fe;return Se<0&&(De=0,oi=Math.abs(Se)/vt*Ee),pt+De>ce._originalImageWidth&&(pt=ce._originalImageWidth-De,te=pt/vt*Ee),Te<0&&(st=0,ee=Math.abs(Te)/Ct*Fe),ii+st>ce._originalImageHeight&&(ii=ce._originalImageHeight-st,he=ii/Ct*Fe),Be.drawImage(this.elements.preview,De,st,pt,ii,oi,ee,te,he),re&&(Be.fillStyle="#fff",Be.globalCompositeOperation="destination-in",Be.beginPath(),Be.arc(ke.width/2,ke.height/2,ke.width/2,0,Math.PI*2,!0),Be.closePath(),Be.fill()),ke}function ye(Q){var ce=Q.points,oe=document.createElement("div"),Se=document.createElement("img"),Te=ce[2]-ce[0],Me=ce[3]-ce[1];return P(oe,"croppie-result"),oe.appendChild(Se),O(Se,{left:-1*ce[0]+"px",top:-1*ce[1]+"px"}),Se.src=Q.url,O(oe,{width:Te+"px",height:Me+"px"}),oe}function dt(Q){return tt.call(this,Q).toDataURL(Q.format,Q.quality)}function ft(Q){var ce=this;return new Promise(function(oe){tt.call(ce,Q).toBlob(function(Se){oe(Se)},Q.format,Q.quality)})}function Gt(Q){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(ce){Q.classList.add(ce)}),this.elements.img.parentNode.replaceChild(Q,this.elements.img),this.elements.preview=Q),this.elements.img=Q}function Re(Q,ce){var oe=this,Se,Te=[],Me=null,it=w.call(oe);if(typeof Q=="string")Se=Q,Q={};else if(Array.isArray(Q))Te=Q.slice();else{if(typeof Q>"u"&&oe.data.url)return Oe.call(oe),ue.call(oe),null;Se=Q.url,Te=Q.points||[],Me=typeof Q.zoom>"u"?null:Q.zoom}return oe.data.bound=!1,oe.data.url=Se||oe.data.url,oe.data.boundZoom=Me,y(Se,it).then(function(vt){if(Gt.call(oe,vt),Te.length)oe.options.relative&&(Te=[Te[0]*vt.naturalWidth/100,Te[1]*vt.naturalHeight/100,Te[2]*vt.naturalWidth/100,Te[3]*vt.naturalHeight/100]);else{var Ct=k(vt),re=oe.elements.viewport.getBoundingClientRect(),ke=re.width/re.height,Be=Ct.width/Ct.height,Ee,Fe;Be>ke?(Fe=Ct.height,Ee=Fe*ke):(Ee=Ct.width,Fe=Ct.height/ke);var De=(Ct.width-Ee)/2,st=(Ct.height-Fe)/2,pt=De+Ee,ii=st+Fe;oe.data.points=[De,st,pt,ii]}oe.data.orientation=Q.orientation||1,oe.data.points=Te.map(function(oi){return parseFloat(oi)}),oe.options.useCanvas&&$e.call(oe,oe.data.orientation),Oe.call(oe),ue.call(oe),ce&&ce()})}function ri(Q,ce){return parseFloat(Q).toFixed(ce||0)}function fi(){var Q=this,ce=Q.elements.preview.getBoundingClientRect(),oe=Q.elements.viewport.getBoundingClientRect(),Se=oe.left-ce.left,Te=oe.top-ce.top,Me=(oe.width-Q.elements.viewport.offsetWidth)/2,it=(oe.height-Q.elements.viewport.offsetHeight)/2,vt=Se+Q.elements.viewport.offsetWidth+Me,Ct=Te+Q.elements.viewport.offsetHeight+it,re=Q._currentZoom;(re===1/0||isNaN(re))&&(re=1);var ke=Q.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return Se=Math.max(ke,Se/re),Te=Math.max(ke,Te/re),vt=Math.max(ke,vt/re),Ct=Math.max(ke,Ct/re),{points:[ri(Se),ri(Te),ri(vt),ri(Ct)],zoom:re,orientation:Q.data.orientation}}var ci={type:"canvas",format:"png",quality:1},Ve=["jpeg","webp","png"];function Yi(Q){var ce=this,oe=fi.call(ce),Se=v(x(ci),x(Q)),Te=typeof Q=="string"?Q:Se.type||"base64",Me=Se.size||"viewport",it=Se.format,vt=Se.quality,Ct=Se.backgroundColor,re=typeof Se.circle=="boolean"?Se.circle:ce.options.viewport.type==="circle",ke=ce.elements.viewport.getBoundingClientRect(),Be=ke.width/ke.height,Ee;return Me==="viewport"?(oe.outputWidth=ke.width,oe.outputHeight=ke.height):typeof Me=="object"&&(Me.width&&Me.height?(oe.outputWidth=Me.width,oe.outputHeight=Me.height):Me.width?(oe.outputWidth=Me.width,oe.outputHeight=Me.width/Be):Me.height&&(oe.outputWidth=Me.height*Be,oe.outputHeight=Me.height)),Ve.indexOf(it)>-1&&(oe.format="image/"+it,oe.quality=vt),oe.circle=re,oe.url=ce.data.url,oe.backgroundColor=Ct,Ee=new Promise(function(Fe){switch(Te.toLowerCase()){case"rawcanvas":Fe(tt.call(ce,oe));break;case"canvas":case"base64":Fe(dt.call(ce,oe));break;case"blob":ft.call(ce,oe).then(Fe);break;default:Fe(ye.call(ce,oe));break}}),Ee}function Fi(){Oe.call(this)}function Or(Q){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var ce=this,oe=ce.elements.canvas;if(ce.data.orientation=g(ce.data.orientation,Q),N(oe,ce.elements.img,ce.data.orientation),$.call(ce,!0),me.call(ce),Math.abs(Q)/90%2===1){var Se=ce._originalImageHeight,Te=ce._originalImageWidth;ce._originalImageWidth=Se,ce._originalImageHeight=Te}}function Br(){var Q=this;Q.element.removeChild(Q.elements.boundary),L(Q.element,"croppie-container"),Q.options.enableZoom&&Q.element.removeChild(Q.elements.zoomerWrap),delete Q.elements}if(typeof window<"u"&&window.jQuery){var Ai=window.jQuery;Ai.fn.croppie=function(Q){var ce=typeof Q;if(ce==="string"){var oe=Array.prototype.slice.call(arguments,1),Se=Ai(this).data("croppie");return Q==="get"?Se.get():Q==="result"?Se.result.apply(Se,oe):Q==="bind"?Se.bind.apply(Se,oe):this.each(function(){var Te=Ai(this).data("croppie");if(Te){var Me=Te[Q];if(Ai.isFunction(Me))Me.apply(Te,oe),Q==="destroy"&&Ai(this).removeData("croppie");else throw"Croppie "+Q+" method not found"}})}else return this.each(function(){var Te=new Wi(this,Q);Te.$=Ai,Ai(this).data("croppie",Te)})}}function Wi(Q,ce){if(Q.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=Q,this.options=v(x(Wi.defaults),ce),this.element.tagName.toLowerCase()==="img"){var oe=this.element;P(oe,"cr-original-image"),u(oe,{"aria-hidden":"true",alt:""});var Se=document.createElement("div");this.element.parentNode.appendChild(Se),Se.appendChild(oe),this.element=Se,this.options.url=this.options.url||oe.src}if(m.call(this),this.options.url){var Te={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,Re.call(this,Te)}}return Wi.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},Wi.globals={translate:"translate3d"},v(Wi.prototype,{bind:function(Q,ce){return Re.call(this,Q,ce)},get:function(){var Q=fi.call(this),ce=Q.points;return this.options.relative&&(ce[0]/=this.elements.img.naturalWidth/100,ce[1]/=this.elements.img.naturalHeight/100,ce[2]/=this.elements.img.naturalWidth/100,ce[3]/=this.elements.img.naturalHeight/100),Q},result:function(Q){return Yi.call(this,Q)},refresh:function(){return Fi.call(this)},setZoom:function(Q){D.call(this,Q),C(this.elements.zoomer)},rotate:function(Q){Or.call(this,Q)},destroy:function(){return Br.call(this)}}),Wi})})(Yx,Yx.exports);var oG=Yx.exports;const lG=Qu(oG);var iI={exports:{}},V1={exports:{}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var cL;function Ju(){return cL||(cL=1,function(t){(function(e,i){t.exports?t.exports=i():e.getSize=i()})(window,function(){function i(b){var C=parseFloat(b),O=b.indexOf("%")==-1&&!isNaN(C);return O&&C}function s(){}var n=typeof console>"u"?s:function(b){console.error(b)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],a=l.length;function h(){for(var b={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},C=0;C<a;C++){var O=l[C];b[O]=0}return b}function d(b){var C=getComputedStyle(b);return C||n("Style returned "+C+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),C}var f=!1,g;function v(){if(!f){f=!0;var b=document.createElement("div");b.style.width="200px",b.style.padding="1px 2px 3px 4px",b.style.borderStyle="solid",b.style.borderWidth="1px 2px 3px 4px",b.style.boxSizing="border-box";var C=document.body||document.documentElement;C.appendChild(b);var O=d(b);g=Math.round(i(O.width))==200,x.isBoxSizeOuter=g,C.removeChild(b)}}function x(b){if(v(),typeof b=="string"&&(b=document.querySelector(b)),!(!b||typeof b!="object"||!b.nodeType)){var C=d(b);if(C.display=="none")return h();var O={};O.width=b.offsetWidth,O.height=b.offsetHeight;for(var P=O.isBorderBox=C.boxSizing=="border-box",L=0;L<a;L++){var u=l[L],S=C[u],y=parseFloat(S);O[u]=isNaN(y)?0:y}var k=O.paddingLeft+O.paddingRight,T=O.paddingTop+O.paddingBottom,A=O.marginLeft+O.marginRight,F=O.marginTop+O.marginBottom,z=O.borderLeftWidth+O.borderRightWidth,N=O.borderTopWidth+O.borderBottomWidth,m=P&&g,w=i(C.width);w!==!1&&(O.width=w+(m?0:k+z));var M=i(C.height);return M!==!1&&(O.height=M+(m?0:T+N)),O.innerWidth=O.width-(k+z),O.innerHeight=O.height-(T+N),O.outerWidth=O.width+A,O.outerHeight=O.height+F,O}}return x})}(V1)),V1.exports}var Y1={exports:{}},G1={exports:{}},hL;function rI(){return hL||(hL=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:om,function(){function e(){}var i=e.prototype;return i.on=function(s,n){if(!(!s||!n)){var l=this._events=this._events||{},a=l[s]=l[s]||[];return a.indexOf(n)==-1&&a.push(n),this}},i.once=function(s,n){if(!(!s||!n)){this.on(s,n);var l=this._onceEvents=this._onceEvents||{},a=l[s]=l[s]||{};return a[n]=!0,this}},i.off=function(s,n){var l=this._events&&this._events[s];if(!(!l||!l.length)){var a=l.indexOf(n);return a!=-1&&l.splice(a,1),this}},i.emitEvent=function(s,n){var l=this._events&&this._events[s];if(!(!l||!l.length)){l=l.slice(0),n=n||[];for(var a=this._onceEvents&&this._onceEvents[s],h=0;h<l.length;h++){var d=l[h],f=a&&a[d];f&&(this.off(s,d),delete a[d]),d.apply(this,n)}return this}},i.allOff=function(){delete this._events,delete this._onceEvents},e})}(G1)),G1.exports}var X1={exports:{}},K1={exports:{}},uL;function sI(){return uL||(uL=1,function(t){(function(e,i){t.exports?t.exports=i():e.matchesSelector=i()})(window,function(){var i=function(){var s=window.Element.prototype;if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var n=["webkit","moz","ms","o"],l=0;l<n.length;l++){var a=n[l],h=a+"MatchesSelector";if(s[h])return h}}();return function(n,l){return n[i](l)}})}(K1)),K1.exports}var dL;function nI(){return dL||(dL=1,function(t){(function(e,i){t.exports?t.exports=i(e,sI()):e.fizzyUIUtils=i(e,e.matchesSelector)})(window,function(i,s){var n={};n.extend=function(h,d){for(var f in d)h[f]=d[f];return h},n.modulo=function(h,d){return(h%d+d)%d};var l=Array.prototype.slice;n.makeArray=function(h){if(Array.isArray(h))return h;if(h==null)return[];var d=typeof h=="object"&&typeof h.length=="number";return d?l.call(h):[h]},n.removeFrom=function(h,d){var f=h.indexOf(d);f!=-1&&h.splice(f,1)},n.getParent=function(h,d){for(;h.parentNode&&h!=document.body;)if(h=h.parentNode,s(h,d))return h},n.getQueryElement=function(h){return typeof h=="string"?document.querySelector(h):h},n.handleEvent=function(h){var d="on"+h.type;this[d]&&this[d](h)},n.filterFindElements=function(h,d){h=n.makeArray(h);var f=[];return h.forEach(function(g){if(g instanceof HTMLElement){if(!d){f.push(g);return}s(g,d)&&f.push(g);for(var v=g.querySelectorAll(d),x=0;x<v.length;x++)f.push(v[x])}}),f},n.debounceMethod=function(h,d,f){f=f||100;var g=h.prototype[d],v=d+"Timeout";h.prototype[d]=function(){var x=this[v];clearTimeout(x);var b=arguments,C=this;this[v]=setTimeout(function(){g.apply(C,b),delete C[v]},f)}},n.docReady=function(h){var d=document.readyState;d=="complete"||d=="interactive"?setTimeout(h):document.addEventListener("DOMContentLoaded",h)},n.toDashed=function(h){return h.replace(/(.)([A-Z])/g,function(d,f,g){return f+"-"+g}).toLowerCase()};var a=i.console;return n.htmlInit=function(h,d){n.docReady(function(){var f=n.toDashed(d),g="data-"+f,v=document.querySelectorAll("["+g+"]"),x=document.querySelectorAll(".js-"+f),b=n.makeArray(v).concat(n.makeArray(x)),C=g+"-options",O=i.jQuery;b.forEach(function(P){var L=P.getAttribute(g)||P.getAttribute(C),u;try{u=L&&JSON.parse(L)}catch(y){a&&a.error("Error parsing "+g+" on "+P.className+": "+y);return}var S=new h(P,u);O&&O.data(P,d,S)})})},n})}(X1)),X1.exports}var Z1={exports:{}},fL;function cG(){return fL||(fL=1,function(t){(function(e,i){t.exports?t.exports=i(rI(),Ju()):(e.Outlayer={},e.Outlayer.Item=i(e.EvEmitter,e.getSize))})(window,function(i,s){function n(P){for(var L in P)return!1;return L=null,!0}var l=document.documentElement.style,a=typeof l.transition=="string"?"transition":"WebkitTransition",h=typeof l.transform=="string"?"transform":"WebkitTransform",d={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[a],f={transform:h,transition:a,transitionDuration:a+"Duration",transitionProperty:a+"Property",transitionDelay:a+"Delay"};function g(P,L){P&&(this.element=P,this.layout=L,this.position={x:0,y:0},this._create())}var v=g.prototype=Object.create(i.prototype);v.constructor=g,v._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},v.handleEvent=function(P){var L="on"+P.type;this[L]&&this[L](P)},v.getSize=function(){this.size=s(this.element)},v.css=function(P){var L=this.element.style;for(var u in P){var S=f[u]||u;L[S]=P[u]}},v.getPosition=function(){var P=getComputedStyle(this.element),L=this.layout._getOption("originLeft"),u=this.layout._getOption("originTop"),S=P[L?"left":"right"],y=P[u?"top":"bottom"],k=parseFloat(S),T=parseFloat(y),A=this.layout.size;S.indexOf("%")!=-1&&(k=k/100*A.width),y.indexOf("%")!=-1&&(T=T/100*A.height),k=isNaN(k)?0:k,T=isNaN(T)?0:T,k-=L?A.paddingLeft:A.paddingRight,T-=u?A.paddingTop:A.paddingBottom,this.position.x=k,this.position.y=T},v.layoutPosition=function(){var P=this.layout.size,L={},u=this.layout._getOption("originLeft"),S=this.layout._getOption("originTop"),y=u?"paddingLeft":"paddingRight",k=u?"left":"right",T=u?"right":"left",A=this.position.x+P[y];L[k]=this.getXValue(A),L[T]="";var F=S?"paddingTop":"paddingBottom",z=S?"top":"bottom",N=S?"bottom":"top",m=this.position.y+P[F];L[z]=this.getYValue(m),L[N]="",this.css(L),this.emitEvent("layout",[this])},v.getXValue=function(P){var L=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!L?P/this.layout.size.width*100+"%":P+"px"},v.getYValue=function(P){var L=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&L?P/this.layout.size.height*100+"%":P+"px"},v._transitionTo=function(P,L){this.getPosition();var u=this.position.x,S=this.position.y,y=P==this.position.x&&L==this.position.y;if(this.setPosition(P,L),y&&!this.isTransitioning){this.layoutPosition();return}var k=P-u,T=L-S,A={};A.transform=this.getTranslate(k,T),this.transition({to:A,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},v.getTranslate=function(P,L){var u=this.layout._getOption("originLeft"),S=this.layout._getOption("originTop");return P=u?P:-P,L=S?L:-L,"translate3d("+P+"px, "+L+"px, 0)"},v.goTo=function(P,L){this.setPosition(P,L),this.layoutPosition()},v.moveTo=v._transitionTo,v.setPosition=function(P,L){this.position.x=parseFloat(P),this.position.y=parseFloat(L)},v._nonTransition=function(P){this.css(P.to),P.isCleaning&&this._removeStyles(P.to);for(var L in P.onTransitionEnd)P.onTransitionEnd[L].call(this)},v.transition=function(P){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(P);return}var L=this._transn;for(var u in P.onTransitionEnd)L.onEnd[u]=P.onTransitionEnd[u];for(u in P.to)L.ingProperties[u]=!0,P.isCleaning&&(L.clean[u]=!0);P.from&&(this.css(P.from),this.element.offsetHeight),this.enableTransition(P.to),this.css(P.to),this.isTransitioning=!0};function x(P){return P.replace(/([A-Z])/g,function(L){return"-"+L.toLowerCase()})}var b="opacity,"+x(h);v.enableTransition=function(){if(!this.isTransitioning){var P=this.layout.options.transitionDuration;P=typeof P=="number"?P+"ms":P,this.css({transitionProperty:b,transitionDuration:P,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(d,this,!1)}},v.onwebkitTransitionEnd=function(P){this.ontransitionend(P)},v.onotransitionend=function(P){this.ontransitionend(P)};var C={"-webkit-transform":"transform"};v.ontransitionend=function(P){if(P.target===this.element){var L=this._transn,u=C[P.propertyName]||P.propertyName;if(delete L.ingProperties[u],n(L.ingProperties)&&this.disableTransition(),u in L.clean&&(this.element.style[P.propertyName]="",delete L.clean[u]),u in L.onEnd){var S=L.onEnd[u];S.call(this),delete L.onEnd[u]}this.emitEvent("transitionEnd",[this])}},v.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},v._removeStyles=function(P){var L={};for(var u in P)L[u]="";this.css(L)};var O={transitionProperty:"",transitionDuration:"",transitionDelay:""};return v.removeTransitionStyles=function(){this.css(O)},v.stagger=function(P){P=isNaN(P)?0:P,this.staggerDelay=P+"ms"},v.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},v.remove=function(){if(!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},v.reveal=function(){delete this.isHidden,this.css({display:""});var P=this.layout.options,L={},u=this.getHideRevealTransitionEndProperty("visibleStyle");L[u]=this.onRevealTransitionEnd,this.transition({from:P.hiddenStyle,to:P.visibleStyle,isCleaning:!0,onTransitionEnd:L})},v.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},v.getHideRevealTransitionEndProperty=function(P){var L=this.layout.options[P];if(L.opacity)return"opacity";for(var u in L)return u},v.hide=function(){this.isHidden=!0,this.css({display:""});var P=this.layout.options,L={},u=this.getHideRevealTransitionEndProperty("hiddenStyle");L[u]=this.onHideTransitionEnd,this.transition({from:P.visibleStyle,to:P.hiddenStyle,isCleaning:!0,onTransitionEnd:L})},v.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},v.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},g})}(Z1)),Z1.exports}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var pL;function ed(){return pL||(pL=1,function(t){(function(e,i){t.exports?t.exports=i(e,rI(),Ju(),nI(),cG()):e.Outlayer=i(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)})(window,function(i,s,n,l,a){var h=i.console,d=i.jQuery,f=function(){},g=0,v={};function x(L,u){var S=l.getQueryElement(L);if(!S){h&&h.error("Bad element for "+this.constructor.namespace+": "+(S||L));return}this.element=S,d&&(this.$element=d(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(u);var y=++g;this.element.outlayerGUID=y,v[y]=this,this._create();var k=this._getOption("initLayout");k&&this.layout()}x.namespace="outlayer",x.Item=a,x.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var b=x.prototype;l.extend(b,s.prototype),b.option=function(L){l.extend(this.options,L)},b._getOption=function(L){var u=this.constructor.compatOptions[L];return u&&this.options[u]!==void 0?this.options[u]:this.options[L]},x.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},b._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l.extend(this.element.style,this.options.containerStyle);var L=this._getOption("resize");L&&this.bindResize()},b.reloadItems=function(){this.items=this._itemize(this.element.children)},b._itemize=function(L){for(var u=this._filterFindItemElements(L),S=this.constructor.Item,y=[],k=0;k<u.length;k++){var T=u[k],A=new S(T,this);y.push(A)}return y},b._filterFindItemElements=function(L){return l.filterFindElements(L,this.options.itemSelector)},b.getItemElements=function(){return this.items.map(function(L){return L.element})},b.layout=function(){this._resetLayout(),this._manageStamps();var L=this._getOption("layoutInstant"),u=L!==void 0?L:!this._isLayoutInited;this.layoutItems(this.items,u),this._isLayoutInited=!0},b._init=b.layout,b._resetLayout=function(){this.getSize()},b.getSize=function(){this.size=n(this.element)},b._getMeasurement=function(L,u){var S=this.options[L],y;S?(typeof S=="string"?y=this.element.querySelector(S):S instanceof HTMLElement&&(y=S),this[L]=y?n(y)[u]:S):this[L]=0},b.layoutItems=function(L,u){L=this._getItemsForLayout(L),this._layoutItems(L,u),this._postLayout()},b._getItemsForLayout=function(L){return L.filter(function(u){return!u.isIgnored})},b._layoutItems=function(L,u){if(this._emitCompleteOnItems("layout",L),!(!L||!L.length)){var S=[];L.forEach(function(y){var k=this._getItemLayoutPosition(y);k.item=y,k.isInstant=u||y.isLayoutInstant,S.push(k)},this),this._processLayoutQueue(S)}},b._getItemLayoutPosition=function(){return{x:0,y:0}},b._processLayoutQueue=function(L){this.updateStagger(),L.forEach(function(u,S){this._positionItem(u.item,u.x,u.y,u.isInstant,S)},this)},b.updateStagger=function(){var L=this.options.stagger;if(L==null){this.stagger=0;return}return this.stagger=P(L),this.stagger},b._positionItem=function(L,u,S,y,k){y?L.goTo(u,S):(L.stagger(k*this.stagger),L.moveTo(u,S))},b._postLayout=function(){this.resizeContainer()},b.resizeContainer=function(){var L=this._getOption("resizeContainer");if(L){var u=this._getContainerSize();u&&(this._setContainerMeasure(u.width,!0),this._setContainerMeasure(u.height,!1))}},b._getContainerSize=f,b._setContainerMeasure=function(L,u){if(L!==void 0){var S=this.size;S.isBorderBox&&(L+=u?S.paddingLeft+S.paddingRight+S.borderLeftWidth+S.borderRightWidth:S.paddingBottom+S.paddingTop+S.borderTopWidth+S.borderBottomWidth),L=Math.max(L,0),this.element.style[u?"width":"height"]=L+"px"}},b._emitCompleteOnItems=function(L,u){var S=this;function y(){S.dispatchEvent(L+"Complete",null,[u])}var k=u.length;if(!u||!k){y();return}var T=0;function A(){T++,T==k&&y()}u.forEach(function(F){F.once(L,A)})},b.dispatchEvent=function(L,u,S){var y=u?[u].concat(S):S;if(this.emitEvent(L,y),d)if(this.$element=this.$element||d(this.element),u){var k=d.Event(u);k.type=L,this.$element.trigger(k,S)}else this.$element.trigger(L,S)},b.ignore=function(L){var u=this.getItem(L);u&&(u.isIgnored=!0)},b.unignore=function(L){var u=this.getItem(L);u&&delete u.isIgnored},b.stamp=function(L){L=this._find(L),L&&(this.stamps=this.stamps.concat(L),L.forEach(this.ignore,this))},b.unstamp=function(L){L=this._find(L),L&&L.forEach(function(u){l.removeFrom(this.stamps,u),this.unignore(u)},this)},b._find=function(L){if(L)return typeof L=="string"&&(L=this.element.querySelectorAll(L)),L=l.makeArray(L),L},b._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},b._getBoundingRect=function(){var L=this.element.getBoundingClientRect(),u=this.size;this._boundingRect={left:L.left+u.paddingLeft+u.borderLeftWidth,top:L.top+u.paddingTop+u.borderTopWidth,right:L.right-(u.paddingRight+u.borderRightWidth),bottom:L.bottom-(u.paddingBottom+u.borderBottomWidth)}},b._manageStamp=f,b._getElementOffset=function(L){var u=L.getBoundingClientRect(),S=this._boundingRect,y=n(L),k={left:u.left-S.left-y.marginLeft,top:u.top-S.top-y.marginTop,right:S.right-u.right-y.marginRight,bottom:S.bottom-u.bottom-y.marginBottom};return k},b.handleEvent=l.handleEvent,b.bindResize=function(){i.addEventListener("resize",this),this.isResizeBound=!0},b.unbindResize=function(){i.removeEventListener("resize",this),this.isResizeBound=!1},b.onresize=function(){this.resize()},l.debounceMethod(x,"onresize",100),b.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},b.needsResizeLayout=function(){var L=n(this.element),u=this.size&&L;return u&&L.innerWidth!==this.size.innerWidth},b.addItems=function(L){var u=this._itemize(L);return u.length&&(this.items=this.items.concat(u)),u},b.appended=function(L){var u=this.addItems(L);u.length&&(this.layoutItems(u,!0),this.reveal(u))},b.prepended=function(L){var u=this._itemize(L);if(u.length){var S=this.items.slice(0);this.items=u.concat(S),this._resetLayout(),this._manageStamps(),this.layoutItems(u,!0),this.reveal(u),this.layoutItems(S)}},b.reveal=function(L){if(this._emitCompleteOnItems("reveal",L),!(!L||!L.length)){var u=this.updateStagger();L.forEach(function(S,y){S.stagger(y*u),S.reveal()})}},b.hide=function(L){if(this._emitCompleteOnItems("hide",L),!(!L||!L.length)){var u=this.updateStagger();L.forEach(function(S,y){S.stagger(y*u),S.hide()})}},b.revealItemElements=function(L){var u=this.getItems(L);this.reveal(u)},b.hideItemElements=function(L){var u=this.getItems(L);this.hide(u)},b.getItem=function(L){for(var u=0;u<this.items.length;u++){var S=this.items[u];if(S.element==L)return S}},b.getItems=function(L){L=l.makeArray(L);var u=[];return L.forEach(function(S){var y=this.getItem(S);y&&u.push(y)},this),u},b.remove=function(L){var u=this.getItems(L);this._emitCompleteOnItems("remove",u),!(!u||!u.length)&&u.forEach(function(S){S.remove(),l.removeFrom(this.items,S)},this)},b.destroy=function(){var L=this.element.style;L.height="",L.position="",L.width="",this.items.forEach(function(S){S.destroy()}),this.unbindResize();var u=this.element.outlayerGUID;delete v[u],delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},x.data=function(L){L=l.getQueryElement(L);var u=L&&L.outlayerGUID;return u&&v[u]},x.create=function(L,u){var S=C(x);return S.defaults=l.extend({},x.defaults),l.extend(S.defaults,u),S.compatOptions=l.extend({},x.compatOptions),S.namespace=L,S.data=x.data,S.Item=C(a),l.htmlInit(S,L),d&&d.bridget&&d.bridget(L,S),S};function C(L){function u(){L.apply(this,arguments)}return u.prototype=Object.create(L.prototype),u.prototype.constructor=u,u}var O={ms:1,s:1e3};function P(L){if(typeof L=="number")return L;var u=L.match(/(^\d*\.?\d*)(\w*)/),S=u&&u[1],y=u&&u[2];if(!S.length)return 0;S=parseFloat(S);var k=O[y]||1;return S*k}return x.Item=a,x})}(Y1)),Y1.exports}var Q1={exports:{}},mL;function DS(){return mL||(mL=1,function(t){(function(e,i){t.exports?t.exports=i():(e.Packery=e.Packery||{},e.Packery.Rect=i())})(window,function(){function i(n){for(var l in i.defaults)this[l]=i.defaults[l];for(l in n)this[l]=n[l]}i.defaults={x:0,y:0,width:0,height:0};var s=i.prototype;return s.contains=function(n){var l=n.width||0,a=n.height||0;return this.x<=n.x&&this.y<=n.y&&this.x+this.width>=n.x+l&&this.y+this.height>=n.y+a},s.overlaps=function(n){var l=this.x+this.width,a=this.y+this.height,h=n.x+n.width,d=n.y+n.height;return this.x<h&&l>n.x&&this.y<d&&a>n.y},s.getMaximalFreeRects=function(n){if(!this.overlaps(n))return!1;var l=[],a,h=this.x+this.width,d=this.y+this.height,f=n.x+n.width,g=n.y+n.height;return this.y<n.y&&(a=new i({x:this.x,y:this.y,width:this.width,height:n.y-this.y}),l.push(a)),h>f&&(a=new i({x:f,y:this.y,width:h-f,height:this.height}),l.push(a)),d>g&&(a=new i({x:this.x,y:g,width:this.width,height:d-g}),l.push(a)),this.x<n.x&&(a=new i({x:this.x,y:this.y,width:n.x-this.x,height:this.height}),l.push(a)),l},s.canFit=function(n){return this.width>=n.width&&this.height>=n.height},i})}(Q1)),Q1.exports}var J1={exports:{}},gL;function hG(){return gL||(gL=1,function(t){(function(e,i){if(t.exports)t.exports=i(DS());else{var s=e.Packery=e.Packery||{};s.Packer=i(s.Rect)}})(window,function(i){function s(a,h,d){this.width=a||0,this.height=h||0,this.sortDirection=d||"downwardLeftToRight",this.reset()}var n=s.prototype;n.reset=function(){this.spaces=[];var a=new i({x:0,y:0,width:this.width,height:this.height});this.spaces.push(a),this.sorter=l[this.sortDirection]||l.downwardLeftToRight},n.pack=function(a){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h];if(d.canFit(a)){this.placeInSpace(a,d);break}}},n.columnPack=function(a){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h],f=d.x<=a.x&&d.x+d.width>=a.x+a.width&&d.height>=a.height-.01;if(f){a.y=d.y,this.placed(a);break}}},n.rowPack=function(a){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h],f=d.y<=a.y&&d.y+d.height>=a.y+a.height&&d.width>=a.width-.01;if(f){a.x=d.x,this.placed(a);break}}},n.placeInSpace=function(a,h){a.x=h.x,a.y=h.y,this.placed(a)},n.placed=function(a){for(var h=[],d=0;d<this.spaces.length;d++){var f=this.spaces[d],g=f.getMaximalFreeRects(a);g?h.push.apply(h,g):h.push(f)}this.spaces=h,this.mergeSortSpaces()},n.mergeSortSpaces=function(){s.mergeRects(this.spaces),this.spaces.sort(this.sorter)},n.addSpace=function(a){this.spaces.push(a),this.mergeSortSpaces()},s.mergeRects=function(a){var h=0,d=a[h];e:for(;d;){for(var f=0,g=a[h+f];g;){if(g==d)f++;else if(g.contains(d)){a.splice(h,1),d=a[h];continue e}else d.contains(g)?a.splice(h+f,1):f++;g=a[h+f]}h++,d=a[h]}return a};var l={downwardLeftToRight:function(a,h){return a.y-h.y||a.x-h.x},rightwardTopToBottom:function(a,h){return a.x-h.x||a.y-h.y}};return s})}(J1)),J1.exports}var ex={exports:{}},yL;function uG(){return yL||(yL=1,function(t){(function(e,i){t.exports?t.exports=i(ed(),DS()):e.Packery.Item=i(e.Outlayer,e.Packery.Rect)})(window,function(i,s){var n=document.documentElement.style,l=typeof n.transform=="string"?"transform":"WebkitTransform",a=function(){i.Item.apply(this,arguments)},h=a.prototype=Object.create(i.Item.prototype),d=h._create;h._create=function(){d.call(this),this.rect=new s};var f=h.moveTo;return h.moveTo=function(g,v){var x=Math.abs(this.position.x-g),b=Math.abs(this.position.y-v),C=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&x<1&&b<1;if(C){this.goTo(g,v);return}f.apply(this,arguments)},h.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&l&&(this.element.style[l]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},h.disablePlacing=function(){this.isPlacing=!1},h.removeElem=function(){var g=this.element.parentNode;g&&g.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},h.showDropPlaceholder=function(){var g=this.dropPlaceholder;g||(g=this.dropPlaceholder=document.createElement("div"),g.className="packery-drop-placeholder",g.style.position="absolute"),g.style.width=this.size.width+"px",g.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(g)},h.positionDropPlaceholder=function(){this.dropPlaceholder.style[l]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},h.hideDropPlaceholder=function(){var g=this.dropPlaceholder.parentNode;g&&g.removeChild(this.dropPlaceholder)},a})}(ex)),ex.exports}/*!
 * Packery v2.1.2
 * Gapless, draggable grid layouts
 *
 * Licensed GPLv3 for open source use
 * or Packery Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2013-2018 Metafizzy
 */(function(t){(function(e,i){t.exports?t.exports=i(Ju(),ed(),DS(),hG(),uG()):e.Packery=i(e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)})(window,function(i,s,n,l,a){n.prototype.canFit=function(C){return this.width>=C.width-1&&this.height>=C.height-1};var h=s.create("packery");h.Item=a;var d=h.prototype;d._create=function(){s.prototype._create.call(this),this.packer=new l,this.shiftPacker=new l,this.isEnabled=!0,this.dragItemCount=0;var C=this;this.handleDraggabilly={dragStart:function(){C.itemDragStart(this.element)},dragMove:function(){C.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){C.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(P,L){L&&C.itemDragStart(P.currentTarget)},drag:function(P,L){L&&C.itemDragMove(P.currentTarget,L.position.left,L.position.top)},stop:function(P,L){L&&C.itemDragEnd(P.currentTarget)}}},d._resetLayout=function(){this.getSize(),this._getMeasurements();var C,O,P;this._getOption("horizontal")?(C=1/0,O=this.size.innerHeight+this.gutter,P="rightwardTopToBottom"):(C=this.size.innerWidth+this.gutter,O=1/0,P="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=C,this.packer.height=this.shiftPacker.height=O,this.packer.sortDirection=this.shiftPacker.sortDirection=P,this.packer.reset(),this.maxY=0,this.maxX=0},d._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},d._getItemLayoutPosition=function(C){if(this._setRectSize(C.element,C.rect),this.isShifting||this.dragItemCount>0){var O=this._getPackMethod();this.packer[O](C.rect)}else this.packer.pack(C.rect);return this._setMaxXY(C.rect),C.rect},d.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},d._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},d._setMaxXY=function(C){this.maxX=Math.max(C.x+C.width,this.maxX),this.maxY=Math.max(C.y+C.height,this.maxY)},d._setRectSize=function(C,O){var P=i(C),L=P.outerWidth,u=P.outerHeight;(L||u)&&(L=this._applyGridGutter(L,this.columnWidth),u=this._applyGridGutter(u,this.rowHeight)),O.width=Math.min(L,this.packer.width),O.height=Math.min(u,this.packer.height)},d._applyGridGutter=function(C,O){if(!O)return C+this.gutter;O+=this.gutter;var P=C%O,L=P&&P<1?"round":"ceil";return C=Math[L](C/O)*O,C},d._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},d._manageStamp=function(C){var O=this.getItem(C),P;if(O&&O.isPlacing)P=O.rect;else{var L=this._getElementOffset(C);P=new n({x:this._getOption("originLeft")?L.left:L.right,y:this._getOption("originTop")?L.top:L.bottom})}this._setRectSize(C,P),this.packer.placed(P),this._setMaxXY(P)};function f(C,O){return C.position.y-O.position.y||C.position.x-O.position.x}function g(C,O){return C.position.x-O.position.x||C.position.y-O.position.y}d.sortItemsByPosition=function(){var C=this._getOption("horizontal")?g:f;this.items.sort(C)},d.fit=function(C,O,P){var L=this.getItem(C);L&&(this.stamp(L.element),L.enablePlacing(),this.updateShiftTargets(L),O=O===void 0?L.rect.x:O,P=P===void 0?L.rect.y:P,this.shift(L,O,P),this._bindFitEvents(L),L.moveTo(L.rect.x,L.rect.y),this.shiftLayout(),this.unstamp(L.element),this.sortItemsByPosition(),L.disablePlacing())},d._bindFitEvents=function(C){var O=this,P=0;function L(){P++,P==2&&O.dispatchEvent("fitComplete",null,[C])}C.once("layout",L),this.once("layoutComplete",L)},d.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},d.needsResizeLayout=function(){var C=i(this.element),O=this._getOption("horizontal")?"innerHeight":"innerWidth";return C[O]!=this.size[O]},d.resizeShiftPercentLayout=function(){var C=this._getItemsForLayout(this.items),O=this._getOption("horizontal"),P=O?"y":"x",L=O?"height":"width",u=O?"rowHeight":"columnWidth",S=O?"innerHeight":"innerWidth",y=this[u];if(y=y&&y+this.gutter,y){this._getMeasurements();var k=this[u]+this.gutter;C.forEach(function(F){var z=Math.round(F.rect[P]/y);F.rect[P]=z*k})}else{var T=i(this.element)[S]+this.gutter,A=this.packer[L];C.forEach(function(F){F.rect[P]=F.rect[P]/A*T})}this.shiftLayout()},d.itemDragStart=function(C){if(this.isEnabled){this.stamp(C);var O=this.getItem(C);O&&(O.enablePlacing(),O.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(O))}},d.updateShiftTargets=function(C){this.shiftPacker.reset(),this._getBoundingRect();var O=this._getOption("originLeft"),P=this._getOption("originTop");this.stamps.forEach(function(M){var D=this.getItem(M);if(!(D&&D.isPlacing)){var I=this._getElementOffset(M),H=new n({x:O?I.left:I.right,y:P?I.top:I.bottom});this._setRectSize(M,H),this.shiftPacker.placed(H)}},this);var L=this._getOption("horizontal"),u=L?"rowHeight":"columnWidth",S=L?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var y,k=this[u];if(k=k&&k+this.gutter,k){var T=Math.ceil(C.rect[S]/k),A=Math.floor((this.shiftPacker[S]+this.gutter)/k);y=(A-T)*k;for(var F=0;F<A;F++){var z=L?0:F*k,N=L?F*k:0;this._addShiftTarget(z,N,y)}}else y=this.shiftPacker[S]+this.gutter-C.rect[S],this._addShiftTarget(0,0,y);var m=this._getItemsForLayout(this.items),w=this._getPackMethod();m.forEach(function(M){var D=M.rect;this._setRectSize(M.element,D),this.shiftPacker[w](D),this._addShiftTarget(D.x,D.y,y);var I=L?D.x+D.width:D.x,H=L?D.y:D.y+D.height;if(this._addShiftTarget(I,H,y),k)for(var j=Math.round(D[S]/k),$=1;$<j;$++){var ae=L?I:D.x+k*$,X=L?D.y+k*$:H;this._addShiftTarget(ae,X,y)}},this)},d._addShiftTarget=function(C,O,P){var L=this._getOption("horizontal")?O:C;if(!(L!==0&&L>P)){var u=C+","+O,S=this.shiftTargetKeys.indexOf(u)!=-1;S||(this.shiftTargetKeys.push(u),this.shiftTargets.push({x:C,y:O}))}},d.shift=function(C,O,P){var L,u=1/0,S={x:O,y:P};this.shiftTargets.forEach(function(y){var k=v(y,S);k<u&&(L=y,u=k)}),C.rect.x=L.x,C.rect.y=L.y};function v(C,O){var P=O.x-C.x,L=O.y-C.y;return Math.sqrt(P*P+L*L)}var x=120;d.itemDragMove=function(C,O,P){var L=this.isEnabled&&this.getItem(C);if(!L)return;O-=this.size.paddingLeft,P-=this.size.paddingTop;var u=this;function S(){u.shift(L,O,P),L.positionDropPlaceholder(),u.layout()}var y=new Date,k=this._itemDragTime&&y-this._itemDragTime<x;k?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(S,x)):(S(),this._itemDragTime=y)},d.itemDragEnd=function(C){var O=this.isEnabled&&this.getItem(C);if(!O)return;clearTimeout(this.dragTimeout),O.element.classList.add("is-positioning-post-drag");var P=0,L=this;function u(){P++,P==2&&(O.element.classList.remove("is-positioning-post-drag"),O.hideDropPlaceholder(),L.dispatchEvent("dragItemPositioned",null,[O]))}O.once("layout",u),this.once("layoutComplete",u),O.moveTo(O.rect.x,O.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),O.disablePlacing(),this.unstamp(O.element)},d.bindDraggabillyEvents=function(C){this._bindDraggabillyEvents(C,"on")},d.unbindDraggabillyEvents=function(C){this._bindDraggabillyEvents(C,"off")},d._bindDraggabillyEvents=function(C,O){var P=this.handleDraggabilly;C[O]("dragStart",P.dragStart),C[O]("dragMove",P.dragMove),C[O]("dragEnd",P.dragEnd)},d.bindUIDraggableEvents=function(C){this._bindUIDraggableEvents(C,"on")},d.unbindUIDraggableEvents=function(C){this._bindUIDraggableEvents(C,"off")},d._bindUIDraggableEvents=function(C,O){var P=this.handleUIDraggable;C[O]("dragstart",P.start)[O]("drag",P.drag)[O]("dragstop",P.stop)};var b=d.destroy;return d.destroy=function(){b.apply(this,arguments),this.isEnabled=!1},h.Rect=n,h.Packer=l,h})})(iI);var dG=iI.exports;const fG=Qu(dG);var aI={exports:{}},tx={exports:{}},vL;function pG(){return vL||(vL=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:om,function(){function e(){}let i=e.prototype;return i.on=function(s,n){if(!s||!n)return this;let l=this._events=this._events||{},a=l[s]=l[s]||[];return a.includes(n)||a.push(n),this},i.once=function(s,n){if(!s||!n)return this;this.on(s,n);let l=this._onceEvents=this._onceEvents||{},a=l[s]=l[s]||{};return a[n]=!0,this},i.off=function(s,n){let l=this._events&&this._events[s];if(!l||!l.length)return this;let a=l.indexOf(n);return a!=-1&&l.splice(a,1),this},i.emitEvent=function(s,n){let l=this._events&&this._events[s];if(!l||!l.length)return this;l=l.slice(0),n=n||[];let a=this._onceEvents&&this._onceEvents[s];for(let h of l)a&&a[h]&&(this.off(s,h),delete a[h]),h.apply(this,n);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(tx)),tx.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,i){t.exports?t.exports=i(e,pG()):e.imagesLoaded=i(e,e.EvEmitter)})(typeof window<"u"?window:om,function(i,s){let n=i.jQuery,l=i.console;function a(x){return Array.isArray(x)?x:typeof x=="object"&&typeof x.length=="number"?[...x]:[x]}function h(x,b,C){if(!(this instanceof h))return new h(x,b,C);let O=x;if(typeof x=="string"&&(O=document.querySelectorAll(x)),!O){l.error(`Bad element for imagesLoaded ${O||x}`);return}this.elements=a(O),this.options={},typeof b=="function"?C=b:Object.assign(this.options,b),C&&this.on("always",C),this.getImages(),n&&(this.jqDeferred=new n.Deferred),setTimeout(this.check.bind(this))}h.prototype=Object.create(s.prototype),h.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const d=[1,9,11];h.prototype.addElementImages=function(x){x.nodeName==="IMG"&&this.addImage(x),this.options.background===!0&&this.addElementBackgroundImages(x);let{nodeType:b}=x;if(!b||!d.includes(b))return;let C=x.querySelectorAll("img");for(let O of C)this.addImage(O);if(typeof this.options.background=="string"){let O=x.querySelectorAll(this.options.background);for(let P of O)this.addElementBackgroundImages(P)}};const f=/url\((['"])?(.*?)\1\)/gi;h.prototype.addElementBackgroundImages=function(x){let b=getComputedStyle(x);if(!b)return;let C=f.exec(b.backgroundImage);for(;C!==null;){let O=C&&C[2];O&&this.addBackground(O,x),C=f.exec(b.backgroundImage)}},h.prototype.addImage=function(x){let b=new g(x);this.images.push(b)},h.prototype.addBackground=function(x,b){let C=new v(x,b);this.images.push(C)},h.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let x=(b,C,O)=>{setTimeout(()=>{this.progress(b,C,O)})};this.images.forEach(function(b){b.once("progress",x),b.check()})},h.prototype.progress=function(x,b,C){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!x.isLoaded,this.emitEvent("progress",[this,x,b]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,x),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&l&&l.log(`progress: ${C}`,x,b)},h.prototype.complete=function(){let x=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(x,[this]),this.emitEvent("always",[this]),this.jqDeferred){let b=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[b](this)}};function g(x){this.img=x}g.prototype=Object.create(s.prototype),g.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},g.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},g.prototype.confirm=function(x,b){this.isLoaded=x;let{parentNode:C}=this.img,O=C.nodeName==="PICTURE"?C:this.img;this.emitEvent("progress",[this,O,b])},g.prototype.handleEvent=function(x){let b="on"+x.type;this[b]&&this[b](x)},g.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},g.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},g.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function v(x,b){this.url=x,this.element=b,this.img=new Image}return v.prototype=Object.create(g.prototype),v.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},v.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},v.prototype.confirm=function(x,b){this.isLoaded=x,this.emitEvent("progress",[this,this.element,b])},h.makeJQueryPlugin=function(x){x=x||i.jQuery,x&&(n=x,n.fn.imagesLoaded=function(b,C){return new h(this,b,C).jqDeferred.promise(n(this))})},h.makeJQueryPlugin(),h})})(aI);var mG=aI.exports;const gG=Qu(mG);/*! shepherd.js 11.2.0 */var yG=function(e){return vG(e)&&!bG(e)};function vG(t){return!!t&&typeof t=="object"}function bG(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||xG(t)}var _G=typeof Symbol=="function"&&Symbol.for,wG=_G?Symbol.for("react.element"):60103;function xG(t){return t.$$typeof===wG}function kG(t){return Array.isArray(t)?[]:{}}function Ip(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Lu(kG(t),t,e):t}function SG(t,e,i){return t.concat(e).map(function(s){return Ip(s,i)})}function TG(t,e){if(!e.customMerge)return Lu;var i=e.customMerge(t);return typeof i=="function"?i:Lu}function CG(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function bL(t){return Object.keys(t).concat(CG(t))}function oI(t,e){try{return e in t}catch{return!1}}function EG(t,e){return oI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function OG(t,e,i){var s={};return i.isMergeableObject(t)&&bL(t).forEach(function(n){s[n]=Ip(t[n],i)}),bL(e).forEach(function(n){EG(t,n)||(oI(t,n)&&i.isMergeableObject(e[n])?s[n]=TG(n,i)(t[n],e[n],i):s[n]=Ip(e[n],i))}),s}function Lu(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||SG,i.isMergeableObject=i.isMergeableObject||yG,i.cloneUnlessOtherwiseSpecified=Ip;var s=Array.isArray(e),n=Array.isArray(t),l=s===n;return l?s?i.arrayMerge(t,e,i):OG(t,e,i):Ip(e,i)}Lu.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(s,n){return Lu(s,n,i)},{})};var MG=Lu,LS=MG;function AG(t){return t instanceof Element}function RS(t){return t instanceof HTMLElement}function sh(t){return typeof t=="function"}function Bp(t){return typeof t=="string"}function Ss(t){return t===void 0}class FS{on(e,i,s,n=!1){return Ss(this.bindings)&&(this.bindings={}),Ss(this.bindings[e])&&(this.bindings[e]=[]),this.bindings[e].push({handler:i,ctx:s,once:n}),this}once(e,i,s){return this.on(e,i,s,!0)}off(e,i){return Ss(this.bindings)||Ss(this.bindings[e])?this:(Ss(i)?delete this.bindings[e]:this.bindings[e].forEach((s,n)=>{s.handler===i&&this.bindings[e].splice(n,1)}),this)}trigger(e,...i){return!Ss(this.bindings)&&this.bindings[e]&&this.bindings[e].forEach((s,n)=>{const{ctx:l,handler:a,once:h}=s,d=l||this;a.apply(d,i),h&&this.bindings[e].splice(n,1)}),this}}function lI(t){const e=Object.getOwnPropertyNames(t.constructor.prototype);for(let i=0;i<e.length;i++){const s=e[i],n=t[s];s!=="constructor"&&typeof n=="function"&&(t[s]=n.bind(t))}return t}function PG(t,e){return i=>{if(e.isOpen()){const s=e.el&&i.currentTarget===e.el;(!Ss(t)&&i.currentTarget.matches(t)||s)&&e.tour.next()}}}function DG(t){const{event:e,selector:i}=t.options.advanceOn||{};if(e){const s=PG(i,t);let n;try{n=document.querySelector(i)}catch{}if(!Ss(i)&&!n)return console.error(`No element was found for the selector supplied to advanceOn: ${i}`);n?(n.addEventListener(e,s),t.on("destroy",()=>n.removeEventListener(e,s))):(document.body.addEventListener(e,s,!0),t.on("destroy",()=>document.body.removeEventListener(e,s,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}function cI(t){return!Bp(t)||t===""?"":t.charAt(t.length-1)!=="-"?`${t}-`:t}function LG(t){const e=t.options.attachTo||{},i=Object.assign({},e);if(sh(i.element)&&(i.element=i.element.call(t)),Bp(i.element)){try{i.element=document.querySelector(i.element)}catch{}i.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return i}function hI(t){return t==null?!0:!t.element||!t.on}function IS(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e=="x"?i:i&3|8).toString(16)})}function Cs(){return Cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},Cs.apply(this,arguments)}function uI(t,e){if(t==null)return{};var i={},s=Object.keys(t),n,l;for(l=0;l<s.length;l++)n=s[l],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const Ru=Math.min,Qc=Math.max,rv=Math.round,oy=Math.floor,Sl=t=>({x:t,y:t}),RG={left:"right",right:"left",bottom:"top",top:"bottom"},FG={start:"end",end:"start"};function Gx(t,e,i){return Qc(t,Ru(e,i))}function Fu(t,e){return typeof t=="function"?t(e):t}function nh(t){return t.split("-")[0]}function ab(t){return t.split("-")[1]}function BS(t){return t==="x"?"y":"x"}function NS(t){return t==="y"?"height":"width"}function ob(t){return["top","bottom"].includes(nh(t))?"y":"x"}function zS(t){return BS(ob(t))}function IG(t,e,i){i===void 0&&(i=!1);const s=ab(t),n=zS(t),l=NS(n);let a=n==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(a=sv(a)),[a,sv(a)]}function BG(t){const e=sv(t);return[Xx(t),e,Xx(e)]}function Xx(t){return t.replace(/start|end/g,e=>FG[e])}function NG(t,e,i){const s=["left","right"],n=["right","left"],l=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return i?e?n:s:e?s:n;case"left":case"right":return e?l:a;default:return[]}}function zG(t,e,i,s){const n=ab(t);let l=NG(nh(t),i==="start",s);return n&&(l=l.map(a=>a+"-"+n),e&&(l=l.concat(l.map(Xx)))),l}function sv(t){return t.replace(/left|right|bottom|top/g,e=>RG[e])}function UG(t){return Cs({top:0,right:0,bottom:0,left:0},t)}function dI(t){return typeof t!="number"?UG(t):{top:t,right:t,bottom:t,left:t}}function nv(t){return Cs({},t,{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}const HG=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],WG=["mainAxis","crossAxis","limiter"];function _L(t,e,i){let{reference:s,floating:n}=t;const l=ob(e),a=zS(e),h=NS(a),d=nh(e),f=l==="y",g=s.x+s.width/2-n.width/2,v=s.y+s.height/2-n.height/2,x=s[h]/2-n[h]/2;let b;switch(d){case"top":b={x:g,y:s.y-n.height};break;case"bottom":b={x:g,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:v};break;case"left":b={x:s.x-n.width,y:v};break;default:b={x:s.x,y:s.y}}switch(ab(e)){case"start":b[a]-=x*(i&&f?-1:1);break;case"end":b[a]+=x*(i&&f?-1:1);break}return b}const jG=async(t,e,i)=>{const{placement:s="bottom",strategy:n="absolute",middleware:l=[],platform:a}=i,h=l.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:n}),{x:g,y:v}=_L(f,s,d),x=s,b={},C=0;for(let O=0;O<h.length;O++){const{name:P,fn:L}=h[O],{x:u,y:S,data:y,reset:k}=await L({x:g,y:v,initialPlacement:s,placement:x,strategy:n,middlewareData:b,rects:f,platform:a,elements:{reference:t,floating:e}});if(g=u??g,v=S??v,b=Cs({},b,{[P]:Cs({},b[P],y)}),k&&C<=50){C++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(f=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:n}):k.rects),{x:g,y:v}=_L(f,x,d)),O=-1;continue}}return{x:g,y:v,placement:x,strategy:n,middlewareData:b}};async function fI(t,e){var i;e===void 0&&(e={});const{x:s,y:n,platform:l,rects:a,elements:h,strategy:d}=t,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:x=!1,padding:b=0}=Fu(e,t),C=dI(b),P=h[x?v==="floating"?"reference":"floating":v],L=nv(await l.getClippingRect({element:(i=await(l.isElement==null?void 0:l.isElement(P)))==null||i?P:P.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:f,rootBoundary:g,strategy:d})),u=v==="floating"?Cs({},a.floating,{x:s,y:n}):a.reference,S=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),y=await(l.isElement==null?void 0:l.isElement(S))?await(l.getScale==null?void 0:l.getScale(S))||{x:1,y:1}:{x:1,y:1},k=nv(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u,offsetParent:S,strategy:d}):u);return{top:(L.top-k.top+C.top)/y.y,bottom:(k.bottom-L.bottom+C.bottom)/y.y,left:(L.left-k.left+C.left)/y.x,right:(k.right-L.right+C.right)/y.x}}const qG=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:s,placement:n,rects:l,platform:a,elements:h}=e,{element:d,padding:f=0}=Fu(t,e)||{};if(d==null)return{};const g=dI(f),v={x:i,y:s},x=zS(n),b=NS(x),C=await a.getDimensions(d),O=x==="y",P=O?"top":"left",L=O?"bottom":"right",u=O?"clientHeight":"clientWidth",S=l.reference[b]+l.reference[x]-v[x]-l.floating[b],y=v[x]-l.reference[x],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let T=k?k[u]:0;(!T||!await(a.isElement==null?void 0:a.isElement(k)))&&(T=h.floating[u]||l.floating[b]);const A=S/2-y/2,F=T/2-C[b]/2-1,z=Ru(g[P],F),N=Ru(g[L],F),m=z,w=T-C[b]-N,M=T/2-C[b]/2+A,D=Gx(m,M,w),H=ab(n)!=null&&M!=D&&l.reference[b]/2-(M<m?z:N)-C[b]/2<0?M<m?m-M:w-M:0;return{[x]:v[x]-H,data:{[x]:D,centerOffset:M-D+H}}}}),$G=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(i){var s;const{placement:n,middlewareData:l,rects:a,initialPlacement:h,platform:d,elements:f}=i,g=Fu(e,i),{mainAxis:v=!0,crossAxis:x=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:O="none",flipAlignment:P=!0}=g,L=uI(g,HG),u=nh(n),S=nh(h)===h,y=await(d.isRTL==null?void 0:d.isRTL(f.floating)),k=b||(S||!P?[sv(h)]:BG(h));!b&&O!=="none"&&k.push(...zG(h,P,O,y));const T=[h,...k],A=await fI(i,L),F=[];let z=((s=l.flip)==null?void 0:s.overflows)||[];if(v&&F.push(A[u]),x){const M=IG(n,a,y);F.push(A[M[0]],A[M[1]])}if(z=[...z,{placement:n,overflows:F}],!F.every(M=>M<=0)){var N,m;const M=(((N=l.flip)==null?void 0:N.index)||0)+1,D=T[M];if(D)return{data:{index:M,overflows:z},reset:{placement:D}};let I=(m=z.filter(H=>H.overflows[0]<=0).sort((H,j)=>H.overflows[1]-j.overflows[1])[0])==null?void 0:m.placement;if(!I)switch(C){case"bestFit":{var w;const H=(w=z.map(j=>[j.placement,j.overflows.filter($=>$>0).reduce(($,ae)=>$+ae,0)]).sort((j,$)=>j[1]-$[1])[0])==null?void 0:w[0];H&&(I=H);break}case"initialPlacement":I=h;break}if(n!==I)return{reset:{placement:I}}}return{}}}},VG=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(i){const{x:s,y:n,placement:l}=i,a=Fu(e,i),{mainAxis:h=!0,crossAxis:d=!1,limiter:f={fn:u=>{let{x:S,y}=u;return{x:S,y}}}}=a,g=uI(a,WG),v={x:s,y:n},x=await fI(i,g),b=ob(nh(l)),C=BS(b);let O=v[C],P=v[b];if(h){const u=C==="y"?"top":"left",S=C==="y"?"bottom":"right",y=O+x[u],k=O-x[S];O=Gx(y,O,k)}if(d){const u=b==="y"?"top":"left",S=b==="y"?"bottom":"right",y=P+x[u],k=P-x[S];P=Gx(y,P,k)}const L=f.fn(Cs({},i,{[C]:O,[b]:P}));return Cs({},L,{data:{x:L.x-s,y:L.y-n}})}}},YG=function(e){return e===void 0&&(e={}),{options:e,fn(i){const{x:s,y:n,placement:l,rects:a,middlewareData:h}=i,{offset:d=0,mainAxis:f=!0,crossAxis:g=!0}=Fu(e,i),v={x:s,y:n},x=ob(l),b=BS(x);let C=v[b],O=v[x];const P=Fu(d,i),L=typeof P=="number"?{mainAxis:P,crossAxis:0}:Cs({mainAxis:0,crossAxis:0},P);if(f){const y=b==="y"?"height":"width",k=a.reference[b]-a.floating[y]+L.mainAxis,T=a.reference[b]+a.reference[y]-L.mainAxis;C<k?C=k:C>T&&(C=T)}if(g){var u,S;const y=b==="y"?"width":"height",k=["top","left"].includes(nh(l)),T=a.reference[x]-a.floating[y]+(k&&((u=h.offset)==null?void 0:u[x])||0)+(k?0:L.crossAxis),A=a.reference[x]+a.reference[y]+(k?0:((S=h.offset)==null?void 0:S[x])||0)-(k?L.crossAxis:0);O<T?O=T:O>A&&(O=A)}return{[b]:C,[x]:O}}}};function Tl(t){return pI(t)?(t.nodeName||"").toLowerCase():"#document"}function xn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ko(t){var e;return(e=(pI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function pI(t){return t instanceof Node||t instanceof xn(t).Node}function qo(t){return t instanceof Element||t instanceof xn(t).Element}function Ya(t){return t instanceof HTMLElement||t instanceof xn(t).HTMLElement}function wL(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xn(t).ShadowRoot}function lm(t){const{overflow:e,overflowX:i,overflowY:s,display:n}=jn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(n)}function GG(t){return["table","td","th"].includes(Tl(t))}function US(t){const e=HS(),i=jn(t);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function XG(t){let e=Iu(t);for(;Ya(e)&&!lb(e);){if(US(e))return e;e=Iu(e)}return null}function HS(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function lb(t){return["html","body","#document"].includes(Tl(t))}function jn(t){return xn(t).getComputedStyle(t)}function cb(t){return qo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Iu(t){if(Tl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wL(t)&&t.host||Ko(t);return wL(e)?e.host:e}function mI(t){const e=Iu(t);return lb(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ya(e)&&lm(e)?e:mI(e)}function av(t,e){var i;e===void 0&&(e=[]);const s=mI(t),n=s===((i=t.ownerDocument)==null?void 0:i.body),l=xn(s);return n?e.concat(l,l.visualViewport||[],lm(s)?s:[]):e.concat(s,av(s))}function gI(t){const e=jn(t);let i=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const n=Ya(t),l=n?t.offsetWidth:i,a=n?t.offsetHeight:s,h=rv(i)!==l||rv(s)!==a;return h&&(i=l,s=a),{width:i,height:s,$:h}}function WS(t){return qo(t)?t:t.contextElement}function mu(t){const e=WS(t);if(!Ya(e))return Sl(1);const i=e.getBoundingClientRect(),{width:s,height:n,$:l}=gI(e);let a=(l?rv(i.width):i.width)/s,h=(l?rv(i.height):i.height)/n;return(!a||!Number.isFinite(a))&&(a=1),(!h||!Number.isFinite(h))&&(h=1),{x:a,y:h}}const KG=Sl(0);function yI(t){const e=xn(t);return!HS()||!e.visualViewport?KG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ZG(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==xn(t)?!1:e}function ah(t,e,i,s){e===void 0&&(e=!1),i===void 0&&(i=!1);const n=t.getBoundingClientRect(),l=WS(t);let a=Sl(1);e&&(s?qo(s)&&(a=mu(s)):a=mu(t));const h=ZG(l,i,s)?yI(l):Sl(0);let d=(n.left+h.x)/a.x,f=(n.top+h.y)/a.y,g=n.width/a.x,v=n.height/a.y;if(l){const x=xn(l),b=s&&qo(s)?xn(s):s;let C=x.frameElement;for(;C&&s&&b!==x;){const O=mu(C),P=C.getBoundingClientRect(),L=jn(C),u=P.left+(C.clientLeft+parseFloat(L.paddingLeft))*O.x,S=P.top+(C.clientTop+parseFloat(L.paddingTop))*O.y;d*=O.x,f*=O.y,g*=O.x,v*=O.y,d+=u,f+=S,C=xn(C).frameElement}}return nv({width:g,height:v,x:d,y:f})}function QG(t){let{rect:e,offsetParent:i,strategy:s}=t;const n=Ya(i),l=Ko(i);if(i===l)return e;let a={scrollLeft:0,scrollTop:0},h=Sl(1);const d=Sl(0);if((n||!n&&s!=="fixed")&&((Tl(i)!=="body"||lm(l))&&(a=cb(i)),Ya(i))){const f=ah(i);h=mu(i),d.x=f.x+i.clientLeft,d.y=f.y+i.clientTop}return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-a.scrollLeft*h.x+d.x,y:e.y*h.y-a.scrollTop*h.y+d.y}}function JG(t){return Array.from(t.getClientRects())}function vI(t){return ah(Ko(t)).left+cb(t).scrollLeft}function eX(t){const e=Ko(t),i=cb(t),s=t.ownerDocument.body,n=Qc(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=Qc(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-i.scrollLeft+vI(t);const h=-i.scrollTop;return jn(s).direction==="rtl"&&(a+=Qc(e.clientWidth,s.clientWidth)-n),{width:n,height:l,x:a,y:h}}function tX(t,e){const i=xn(t),s=Ko(t),n=i.visualViewport;let l=s.clientWidth,a=s.clientHeight,h=0,d=0;if(n){l=n.width,a=n.height;const f=HS();(!f||f&&e==="fixed")&&(h=n.offsetLeft,d=n.offsetTop)}return{width:l,height:a,x:h,y:d}}function iX(t,e){const i=ah(t,!0,e==="fixed"),s=i.top+t.clientTop,n=i.left+t.clientLeft,l=Ya(t)?mu(t):Sl(1),a=t.clientWidth*l.x,h=t.clientHeight*l.y,d=n*l.x,f=s*l.y;return{width:a,height:h,x:d,y:f}}function xL(t,e,i){let s;if(e==="viewport")s=tX(t,i);else if(e==="document")s=eX(Ko(t));else if(qo(e))s=iX(e,i);else{const n=yI(t);s=Cs({},e,{x:e.x-n.x,y:e.y-n.y})}return nv(s)}function bI(t,e){const i=Iu(t);return i===e||!qo(i)||lb(i)?!1:jn(i).position==="fixed"||bI(i,e)}function rX(t,e){const i=e.get(t);if(i)return i;let s=av(t).filter(h=>qo(h)&&Tl(h)!=="body"),n=null;const l=jn(t).position==="fixed";let a=l?Iu(t):t;for(;qo(a)&&!lb(a);){const h=jn(a),d=US(a);!d&&h.position==="fixed"&&(n=null),(l?!d&&!n:!d&&h.position==="static"&&!!n&&["absolute","fixed"].includes(n.position)||lm(a)&&!d&&bI(t,a))?s=s.filter(g=>g!==a):n=h,a=Iu(a)}return e.set(t,s),s}function sX(t){let{element:e,boundary:i,rootBoundary:s,strategy:n}=t;const a=[...i==="clippingAncestors"?rX(e,this._c):[].concat(i),s],h=a[0],d=a.reduce((f,g)=>{const v=xL(e,g,n);return f.top=Qc(v.top,f.top),f.right=Ru(v.right,f.right),f.bottom=Ru(v.bottom,f.bottom),f.left=Qc(v.left,f.left),f},xL(e,h,n));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function nX(t){return gI(t)}function aX(t,e,i){const s=Ya(e),n=Ko(e),l=i==="fixed",a=ah(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const d=Sl(0);if(s||!s&&!l)if((Tl(e)!=="body"||lm(n))&&(h=cb(e)),s){const f=ah(e,!0,l,e);d.x=f.x+e.clientLeft,d.y=f.y+e.clientTop}else n&&(d.x=vI(n));return{x:a.left+h.scrollLeft-d.x,y:a.top+h.scrollTop-d.y,width:a.width,height:a.height}}function kL(t,e){return!Ya(t)||jn(t).position==="fixed"?null:e?e(t):t.offsetParent}function _I(t,e){const i=xn(t);if(!Ya(t))return i;let s=kL(t,e);for(;s&&GG(s)&&jn(s).position==="static";)s=kL(s,e);return s&&(Tl(s)==="html"||Tl(s)==="body"&&jn(s).position==="static"&&!US(s))?i:s||XG(t)||i}const oX=async function(e){let{reference:i,floating:s,strategy:n}=e;const l=this.getOffsetParent||_I,a=this.getDimensions;return{reference:aX(i,await l(s),n),floating:Cs({x:0,y:0},await a(s))}};function lX(t){return jn(t).direction==="rtl"}const cX={convertOffsetParentRelativeRectToViewportRelativeRect:QG,getDocumentElement:Ko,getClippingRect:sX,getOffsetParent:_I,getElementRects:oX,getClientRects:JG,getDimensions:nX,getScale:mu,isElement:qo,isRTL:lX};function hX(t,e){let i=null,s;const n=Ko(t);function l(){clearTimeout(s),i&&i.disconnect(),i=null}function a(h,d){h===void 0&&(h=!1),d===void 0&&(d=1),l();const{left:f,top:g,width:v,height:x}=t.getBoundingClientRect();if(h||e(),!v||!x)return;const b=oy(g),C=oy(n.clientWidth-(f+v)),O=oy(n.clientHeight-(g+x)),P=oy(f),u={rootMargin:-b+"px "+-C+"px "+-O+"px "+-P+"px",threshold:Qc(0,Ru(1,d))||1};let S=!0;function y(k){const T=k[0].intersectionRatio;if(T!==d){if(!S)return a();T?a(!1,T):s=setTimeout(()=>{a(!1,1e-7)},100)}S=!1}try{i=new IntersectionObserver(y,Cs({},u,{root:n.ownerDocument}))}catch{i=new IntersectionObserver(y,u)}i.observe(t)}return a(!0),l}function uX(t,e,i,s){s===void 0&&(s={});const{ancestorScroll:n=!0,ancestorResize:l=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,f=WS(t),g=n||l?[...f?av(f):[],...av(e)]:[];g.forEach(L=>{n&&L.addEventListener("scroll",i,{passive:!0}),l&&L.addEventListener("resize",i)});const v=f&&h?hX(f,i):null;let x=-1,b=null;a&&(b=new ResizeObserver(L=>{let[u]=L;u&&u.target===f&&b&&(b.unobserve(e),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{b&&b.observe(e)})),i()}),f&&!d&&b.observe(f),b.observe(e));let C,O=d?ah(t):null;d&&P();function P(){const L=ah(t);O&&(L.x!==O.x||L.y!==O.y||L.width!==O.width||L.height!==O.height)&&i(),O=L,C=requestAnimationFrame(P)}return i(),()=>{g.forEach(L=>{n&&L.removeEventListener("scroll",i),l&&L.removeEventListener("resize",i)}),v&&v(),b&&b.disconnect(),b=null,d&&cancelAnimationFrame(C)}}const dX=(t,e,i)=>{const s=new Map,n=Cs({platform:cX},i),l=Cs({},n.platform,{_c:s});return jG(t,e,Cs({},n,{platform:l}))};function fX(t){t.cleanup&&t.cleanup();const e=t._getResolvedAttachToOptions();let i=e.element;const s=bX(e,t),n=hI(e);return n&&(i=document.body,t.shepherdElementComponent.getElement().classList.add("shepherd-centered")),t.cleanup=uX(i,t.el,()=>{if(!t.el){t.cleanup();return}gX(i,t,s,n)}),t.target=e.element,s}function pX(t,e){return{floatingUIOptions:LS(t.floatingUIOptions||{},e.floatingUIOptions||{})}}function mX(t){t.cleanup&&t.cleanup(),t.cleanup=null}function gX(t,e,i,s){return dX(t,e.el,i).then(yX(e,s)).then(n=>new Promise(l=>{setTimeout(()=>l(n),300)})).then(n=>{n&&n.el&&n.el.focus({preventScroll:!0})})}function yX(t,e){return({x:i,y:s,placement:n,middlewareData:l})=>(t.el&&(e?Object.assign(t.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(t.el.style,{position:"absolute",left:`${i}px`,top:`${s}px`}),t.el.dataset.popperPlacement=n,vX(t.el,l)),t)}function vX(t,e){const i=t.querySelector(".shepherd-arrow");if(i&&e.arrow){const{x:s,y:n}=e.arrow;Object.assign(i.style,{left:s!=null?`${s}px`:"",top:n!=null?`${n}px`:""})}}function bX(t,e){const i={strategy:"absolute",middleware:[]},s=_X(e);return hI(t)||(i.middleware.push($G(),VG({limiter:YG(),crossAxis:!0})),s&&i.middleware.push(qG({element:s})),i.placement=t.on),LS(e.options.floatingUIOptions||{},i)}function _X(t){return t.options.arrow&&t.el?t.el.querySelector(".shepherd-arrow"):!1}function Tn(){}function wX(t,e){for(const i in e)t[i]=e[i];return t}function wI(t){return t()}function SL(){return Object.create(null)}function cm(t){t.forEach(wI)}function jS(t){return typeof t=="function"}function Zo(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function xX(t){return Object.keys(t).length===0}function Bu(t,e){t.appendChild(e)}function wa(t,e,i){t.insertBefore(e,i||null)}function Xn(t){t.parentNode&&t.parentNode.removeChild(t)}function kX(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function Ga(t){return document.createElement(t)}function TL(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function xI(t){return document.createTextNode(t)}function ov(){return xI(" ")}function SX(){return xI("")}function hb(t,e,i,s){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i,s)}function er(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}const TX=["width","height"];function CL(t,e){const i=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)e[s]==null?t.removeAttribute(s):s==="style"?t.style.cssText=e[s]:s==="__value"?t.value=t[s]=e[s]:i[s]&&i[s].set&&TX.indexOf(s)===-1?t[s]=e[s]:er(t,s,e[s])}function CX(t){return Array.from(t.childNodes)}function Kh(t,e,i){t.classList[i?"add":"remove"](e)}let Np;function _p(t){Np=t}function kI(){if(!Np)throw new Error("Function called outside component initialization");return Np}function EX(t){kI().$$.on_mount.push(t)}function qS(t){kI().$$.after_update.push(t)}const ru=[],Nu=[];let gu=[];const EL=[],OX=Promise.resolve();let Kx=!1;function MX(){Kx||(Kx=!0,OX.then(SI))}function Zx(t){gu.push(t)}const ix=new Set;let Zh=0;function SI(){if(Zh!==0)return;const t=Np;do{try{for(;Zh<ru.length;){const e=ru[Zh];Zh++,_p(e),AX(e.$$)}}catch(e){throw ru.length=0,Zh=0,e}for(_p(null),ru.length=0,Zh=0;Nu.length;)Nu.pop()();for(let e=0;e<gu.length;e+=1){const i=gu[e];ix.has(i)||(ix.add(i),i())}gu.length=0}while(ru.length);for(;EL.length;)EL.pop()();Kx=!1,ix.clear(),_p(t)}function AX(t){if(t.fragment!==null){t.update(),cm(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Zx)}}function PX(t){const e=[],i=[];gu.forEach(s=>t.indexOf(s)===-1?e.push(s):i.push(s)),i.forEach(s=>s()),gu=e}const Oy=new Set;let jc;function Jc(){jc={r:0,c:[],p:jc}}function eh(){jc.r||cm(jc.c),jc=jc.p}function qi(t,e){t&&t.i&&(Oy.delete(t),t.i(e))}function Cr(t,e,i,s){if(t&&t.o){if(Oy.has(t))return;Oy.add(t),jc.c.push(()=>{Oy.delete(t),s&&(i&&t.d(1),s())}),t.o(e)}else s&&s()}function DX(t,e){const i={},s={},n={$$scope:1};let l=t.length;for(;l--;){const a=t[l],h=e[l];if(h){for(const d in a)d in h||(s[d]=1);for(const d in h)n[d]||(i[d]=h[d],n[d]=1);t[l]=h}else for(const d in a)n[d]=1}for(const a in s)a in i||(i[a]=void 0);return i}function mh(t){t&&t.c()}function Pl(t,e,i,s){const{fragment:n,after_update:l}=t.$$;n&&n.m(e,i),s||Zx(()=>{const a=t.$$.on_mount.map(wI).filter(jS);t.$$.on_destroy?t.$$.on_destroy.push(...a):cm(a),t.$$.on_mount=[]}),l.forEach(Zx)}function Dl(t,e){const i=t.$$;i.fragment!==null&&(PX(i.after_update),cm(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function LX(t,e){t.$$.dirty[0]===-1&&(ru.push(t),MX(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Qo(t,e,i,s,n,l,a,h=[-1]){const d=Np;_p(t);const f=t.$$={fragment:null,ctx:[],props:l,update:Tn,not_equal:n,bound:SL(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:SL(),dirty:h,skip_bound:!1,root:e.target||d.$$.root};let g=!1;if(f.ctx=i?i(t,e.props||{},(v,x,...b)=>{const C=b.length?b[0]:x;return f.ctx&&n(f.ctx[v],f.ctx[v]=C)&&(!f.skip_bound&&f.bound[v]&&f.bound[v](C),g&&LX(t,v)),x}):[],f.update(),g=!0,cm(f.before_update),f.fragment=s?s(f.ctx):!1,e.target){if(e.hydrate){const v=CX(e.target);f.fragment&&f.fragment.l(v),v.forEach(Xn)}else f.fragment&&f.fragment.c();e.intro&&qi(t.$$.fragment),Pl(t,e.target,e.anchor,e.customElement),SI()}_p(d)}class Jo{$destroy(){Dl(this,1),this.$destroy=Tn}$on(e,i){if(!jS(i))return Tn;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(i),()=>{const n=s.indexOf(i);n!==-1&&s.splice(n,1)}}$set(e){this.$$set&&!xX(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function RX(t){let e,i,s,n,l;return{c(){e=Ga("button"),er(e,"aria-label",i=t[3]?t[3]:null),er(e,"class",s=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`),e.disabled=t[2],er(e,"tabindex","0")},m(a,h){wa(a,e,h),e.innerHTML=t[5],n||(l=hb(e,"click",function(){jS(t[0])&&t[0].apply(this,arguments)}),n=!0)},p(a,[h]){t=a,h&32&&(e.innerHTML=t[5]),h&8&&i!==(i=t[3]?t[3]:null)&&er(e,"aria-label",i),h&18&&s!==(s=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`)&&er(e,"class",s),h&4&&(e.disabled=t[2])},i:Tn,o:Tn,d(a){a&&Xn(e),n=!1,l()}}}function FX(t,e,i){let{config:s,step:n}=e,l,a,h,d,f,g;function v(x){return sh(x)?x=x.call(n):x}return t.$$set=x=>{"config"in x&&i(6,s=x.config),"step"in x&&i(7,n=x.step)},t.$$.update=()=>{t.$$.dirty&192&&(i(0,l=s.action?s.action.bind(n.tour):null),i(1,a=s.classes),i(2,h=s.disabled?v(s.disabled):!1),i(3,d=s.label?v(s.label):null),i(4,f=s.secondary),i(5,g=s.text?v(s.text):null))},[l,a,h,d,f,g,s,n]}class IX extends Jo{constructor(e){super(),Qo(this,e,FX,RX,Zo,{config:6,step:7})}}function OL(t,e,i){const s=t.slice();return s[2]=e[i],s}function ML(t){let e,i,s=t[1],n=[];for(let a=0;a<s.length;a+=1)n[a]=AL(OL(t,s,a));const l=a=>Cr(n[a],1,1,()=>{n[a]=null});return{c(){for(let a=0;a<n.length;a+=1)n[a].c();e=SX()},m(a,h){for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(a,h);wa(a,e,h),i=!0},p(a,h){if(h&3){s=a[1];let d;for(d=0;d<s.length;d+=1){const f=OL(a,s,d);n[d]?(n[d].p(f,h),qi(n[d],1)):(n[d]=AL(f),n[d].c(),qi(n[d],1),n[d].m(e.parentNode,e))}for(Jc(),d=s.length;d<n.length;d+=1)l(d);eh()}},i(a){if(!i){for(let h=0;h<s.length;h+=1)qi(n[h]);i=!0}},o(a){n=n.filter(Boolean);for(let h=0;h<n.length;h+=1)Cr(n[h]);i=!1},d(a){kX(n,a),a&&Xn(e)}}}function AL(t){let e,i;return e=new IX({props:{config:t[2],step:t[0]}}),{c(){mh(e.$$.fragment)},m(s,n){Pl(e,s,n),i=!0},p(s,n){const l={};n&2&&(l.config=s[2]),n&1&&(l.step=s[0]),e.$set(l)},i(s){i||(qi(e.$$.fragment,s),i=!0)},o(s){Cr(e.$$.fragment,s),i=!1},d(s){Dl(e,s)}}}function BX(t){let e,i,s=t[1]&&ML(t);return{c(){e=Ga("footer"),s&&s.c(),er(e,"class","shepherd-footer")},m(n,l){wa(n,e,l),s&&s.m(e,null),i=!0},p(n,[l]){n[1]?s?(s.p(n,l),l&2&&qi(s,1)):(s=ML(n),s.c(),qi(s,1),s.m(e,null)):s&&(Jc(),Cr(s,1,1,()=>{s=null}),eh())},i(n){i||(qi(s),i=!0)},o(n){Cr(s),i=!1},d(n){n&&Xn(e),s&&s.d()}}}function NX(t,e,i){let s,{step:n}=e;return t.$$set=l=>{"step"in l&&i(0,n=l.step)},t.$$.update=()=>{t.$$.dirty&1&&i(1,s=n.options.buttons)},[n,s]}class zX extends Jo{constructor(e){super(),Qo(this,e,NX,BX,Zo,{step:0})}}function UX(t){let e,i,s,n,l;return{c(){e=Ga("button"),i=Ga("span"),i.textContent="",er(i,"aria-hidden","true"),er(e,"aria-label",s=t[0].label?t[0].label:"Close Tour"),er(e,"class","shepherd-cancel-icon"),er(e,"type","button")},m(a,h){wa(a,e,h),Bu(e,i),n||(l=hb(e,"click",t[1]),n=!0)},p(a,[h]){h&1&&s!==(s=a[0].label?a[0].label:"Close Tour")&&er(e,"aria-label",s)},i:Tn,o:Tn,d(a){a&&Xn(e),n=!1,l()}}}function HX(t,e,i){let{cancelIcon:s,step:n}=e;const l=a=>{a.preventDefault(),n.cancel()};return t.$$set=a=>{"cancelIcon"in a&&i(0,s=a.cancelIcon),"step"in a&&i(2,n=a.step)},[s,l,n]}class WX extends Jo{constructor(e){super(),Qo(this,e,HX,UX,Zo,{cancelIcon:0,step:2})}}function jX(t){let e;return{c(){e=Ga("h3"),er(e,"id",t[1]),er(e,"class","shepherd-title")},m(i,s){wa(i,e,s),t[3](e)},p(i,[s]){s&2&&er(e,"id",i[1])},i:Tn,o:Tn,d(i){i&&Xn(e),t[3](null)}}}function qX(t,e,i){let{labelId:s,element:n,title:l}=e;qS(()=>{sh(l)&&i(2,l=l()),i(0,n.innerHTML=l,n)});function a(h){Nu[h?"unshift":"push"](()=>{n=h,i(0,n)})}return t.$$set=h=>{"labelId"in h&&i(1,s=h.labelId),"element"in h&&i(0,n=h.element),"title"in h&&i(2,l=h.title)},[n,s,l,a]}class $X extends Jo{constructor(e){super(),Qo(this,e,qX,jX,Zo,{labelId:1,element:0,title:2})}}function PL(t){let e,i;return e=new $X({props:{labelId:t[0],title:t[2]}}),{c(){mh(e.$$.fragment)},m(s,n){Pl(e,s,n),i=!0},p(s,n){const l={};n&1&&(l.labelId=s[0]),n&4&&(l.title=s[2]),e.$set(l)},i(s){i||(qi(e.$$.fragment,s),i=!0)},o(s){Cr(e.$$.fragment,s),i=!1},d(s){Dl(e,s)}}}function DL(t){let e,i;return e=new WX({props:{cancelIcon:t[3],step:t[1]}}),{c(){mh(e.$$.fragment)},m(s,n){Pl(e,s,n),i=!0},p(s,n){const l={};n&8&&(l.cancelIcon=s[3]),n&2&&(l.step=s[1]),e.$set(l)},i(s){i||(qi(e.$$.fragment,s),i=!0)},o(s){Cr(e.$$.fragment,s),i=!1},d(s){Dl(e,s)}}}function VX(t){let e,i,s,n=t[2]&&PL(t),l=t[3]&&t[3].enabled&&DL(t);return{c(){e=Ga("header"),n&&n.c(),i=ov(),l&&l.c(),er(e,"class","shepherd-header")},m(a,h){wa(a,e,h),n&&n.m(e,null),Bu(e,i),l&&l.m(e,null),s=!0},p(a,[h]){a[2]?n?(n.p(a,h),h&4&&qi(n,1)):(n=PL(a),n.c(),qi(n,1),n.m(e,i)):n&&(Jc(),Cr(n,1,1,()=>{n=null}),eh()),a[3]&&a[3].enabled?l?(l.p(a,h),h&8&&qi(l,1)):(l=DL(a),l.c(),qi(l,1),l.m(e,null)):l&&(Jc(),Cr(l,1,1,()=>{l=null}),eh())},i(a){s||(qi(n),qi(l),s=!0)},o(a){Cr(n),Cr(l),s=!1},d(a){a&&Xn(e),n&&n.d(),l&&l.d()}}}function YX(t,e,i){let{labelId:s,step:n}=e,l,a;return t.$$set=h=>{"labelId"in h&&i(0,s=h.labelId),"step"in h&&i(1,n=h.step)},t.$$.update=()=>{t.$$.dirty&2&&(i(2,l=n.options.title),i(3,a=n.options.cancelIcon))},[s,n,l,a]}class GX extends Jo{constructor(e){super(),Qo(this,e,YX,VX,Zo,{labelId:0,step:1})}}function XX(t){let e;return{c(){e=Ga("div"),er(e,"class","shepherd-text"),er(e,"id",t[1])},m(i,s){wa(i,e,s),t[3](e)},p(i,[s]){s&2&&er(e,"id",i[1])},i:Tn,o:Tn,d(i){i&&Xn(e),t[3](null)}}}function KX(t,e,i){let{descriptionId:s,element:n,step:l}=e;qS(()=>{let{text:h}=l.options;sh(h)&&(h=h.call(l)),RS(h)?n.appendChild(h):i(0,n.innerHTML=h,n)});function a(h){Nu[h?"unshift":"push"](()=>{n=h,i(0,n)})}return t.$$set=h=>{"descriptionId"in h&&i(1,s=h.descriptionId),"element"in h&&i(0,n=h.element),"step"in h&&i(2,l=h.step)},[n,s,l,a]}class ZX extends Jo{constructor(e){super(),Qo(this,e,KX,XX,Zo,{descriptionId:1,element:0,step:2})}}function LL(t){let e,i;return e=new GX({props:{labelId:t[1],step:t[2]}}),{c(){mh(e.$$.fragment)},m(s,n){Pl(e,s,n),i=!0},p(s,n){const l={};n&2&&(l.labelId=s[1]),n&4&&(l.step=s[2]),e.$set(l)},i(s){i||(qi(e.$$.fragment,s),i=!0)},o(s){Cr(e.$$.fragment,s),i=!1},d(s){Dl(e,s)}}}function RL(t){let e,i;return e=new ZX({props:{descriptionId:t[0],step:t[2]}}),{c(){mh(e.$$.fragment)},m(s,n){Pl(e,s,n),i=!0},p(s,n){const l={};n&1&&(l.descriptionId=s[0]),n&4&&(l.step=s[2]),e.$set(l)},i(s){i||(qi(e.$$.fragment,s),i=!0)},o(s){Cr(e.$$.fragment,s),i=!1},d(s){Dl(e,s)}}}function FL(t){let e,i;return e=new zX({props:{step:t[2]}}),{c(){mh(e.$$.fragment)},m(s,n){Pl(e,s,n),i=!0},p(s,n){const l={};n&4&&(l.step=s[2]),e.$set(l)},i(s){i||(qi(e.$$.fragment,s),i=!0)},o(s){Cr(e.$$.fragment,s),i=!1},d(s){Dl(e,s)}}}function QX(t){let e,i=!Ss(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,s,n=!Ss(t[2].options.text),l,a=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,h,d=i&&LL(t),f=n&&RL(t),g=a&&FL(t);return{c(){e=Ga("div"),d&&d.c(),s=ov(),f&&f.c(),l=ov(),g&&g.c(),er(e,"class","shepherd-content")},m(v,x){wa(v,e,x),d&&d.m(e,null),Bu(e,s),f&&f.m(e,null),Bu(e,l),g&&g.m(e,null),h=!0},p(v,[x]){x&4&&(i=!Ss(v[2].options.title)||v[2].options.cancelIcon&&v[2].options.cancelIcon.enabled),i?d?(d.p(v,x),x&4&&qi(d,1)):(d=LL(v),d.c(),qi(d,1),d.m(e,s)):d&&(Jc(),Cr(d,1,1,()=>{d=null}),eh()),x&4&&(n=!Ss(v[2].options.text)),n?f?(f.p(v,x),x&4&&qi(f,1)):(f=RL(v),f.c(),qi(f,1),f.m(e,l)):f&&(Jc(),Cr(f,1,1,()=>{f=null}),eh()),x&4&&(a=Array.isArray(v[2].options.buttons)&&v[2].options.buttons.length),a?g?(g.p(v,x),x&4&&qi(g,1)):(g=FL(v),g.c(),qi(g,1),g.m(e,null)):g&&(Jc(),Cr(g,1,1,()=>{g=null}),eh())},i(v){h||(qi(d),qi(f),qi(g),h=!0)},o(v){Cr(d),Cr(f),Cr(g),h=!1},d(v){v&&Xn(e),d&&d.d(),f&&f.d(),g&&g.d()}}}function JX(t,e,i){let{descriptionId:s,labelId:n,step:l}=e;return t.$$set=a=>{"descriptionId"in a&&i(0,s=a.descriptionId),"labelId"in a&&i(1,n=a.labelId),"step"in a&&i(2,l=a.step)},[s,n,l]}class eK extends Jo{constructor(e){super(),Qo(this,e,JX,QX,Zo,{descriptionId:0,labelId:1,step:2})}}function IL(t){let e;return{c(){e=Ga("div"),er(e,"class","shepherd-arrow"),er(e,"data-popper-arrow","")},m(i,s){wa(i,e,s)},d(i){i&&Xn(e)}}}function tK(t){let e,i,s,n,l,a,h,d,f=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on&&IL();s=new eK({props:{descriptionId:t[2],labelId:t[3],step:t[4]}});let g=[{"aria-describedby":n=Ss(t[4].options.text)?null:t[2]},{"aria-labelledby":l=t[4].options.title?t[3]:null},t[1],{role:"dialog"},{tabindex:"0"}],v={};for(let x=0;x<g.length;x+=1)v=wX(v,g[x]);return{c(){e=Ga("div"),f&&f.c(),i=ov(),mh(s.$$.fragment),CL(e,v),Kh(e,"shepherd-has-cancel-icon",t[5]),Kh(e,"shepherd-has-title",t[6]),Kh(e,"shepherd-element",!0)},m(x,b){wa(x,e,b),f&&f.m(e,null),Bu(e,i),Pl(s,e,null),t[13](e),a=!0,h||(d=hb(e,"keydown",t[7]),h=!0)},p(x,[b]){x[4].options.arrow&&x[4].options.attachTo&&x[4].options.attachTo.element&&x[4].options.attachTo.on?f||(f=IL(),f.c(),f.m(e,i)):f&&(f.d(1),f=null);const C={};b&4&&(C.descriptionId=x[2]),b&8&&(C.labelId=x[3]),b&16&&(C.step=x[4]),s.$set(C),CL(e,v=DX(g,[(!a||b&20&&n!==(n=Ss(x[4].options.text)?null:x[2]))&&{"aria-describedby":n},(!a||b&24&&l!==(l=x[4].options.title?x[3]:null))&&{"aria-labelledby":l},b&2&&x[1],{role:"dialog"},{tabindex:"0"}])),Kh(e,"shepherd-has-cancel-icon",x[5]),Kh(e,"shepherd-has-title",x[6]),Kh(e,"shepherd-element",!0)},i(x){a||(qi(s.$$.fragment,x),a=!0)},o(x){Cr(s.$$.fragment,x),a=!1},d(x){x&&Xn(e),f&&f.d(),Dl(s),t[13](null),h=!1,d()}}}const iK=9,rK=27,sK=37,nK=39;function BL(t){return t.split(" ").filter(e=>!!e.length)}function aK(t,e,i){let{classPrefix:s,element:n,descriptionId:l,firstFocusableElement:a,focusableElements:h,labelId:d,lastFocusableElement:f,step:g,dataStepId:v}=e,x,b,C;const O=()=>n;EX(()=>{i(1,v={[`data-${s}shepherd-step-id`]:g.id}),i(9,h=n.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),i(8,a=h[0]),i(10,f=h[h.length-1])}),qS(()=>{C!==g.options.classes&&P()});function P(){L(C),C=g.options.classes,u(C)}function L(k){if(Bp(k)){const T=BL(k);T.length&&n.classList.remove(...T)}}function u(k){if(Bp(k)){const T=BL(k);T.length&&n.classList.add(...T)}}const S=k=>{const{tour:T}=g;switch(k.keyCode){case iK:if(h.length===0){k.preventDefault();break}k.shiftKey?(document.activeElement===a||document.activeElement.classList.contains("shepherd-element"))&&(k.preventDefault(),f.focus()):document.activeElement===f&&(k.preventDefault(),a.focus());break;case rK:T.options.exitOnEsc&&(k.stopPropagation(),g.cancel());break;case sK:T.options.keyboardNavigation&&(k.stopPropagation(),T.back());break;case nK:T.options.keyboardNavigation&&(k.stopPropagation(),T.next());break}};function y(k){Nu[k?"unshift":"push"](()=>{n=k,i(0,n)})}return t.$$set=k=>{"classPrefix"in k&&i(11,s=k.classPrefix),"element"in k&&i(0,n=k.element),"descriptionId"in k&&i(2,l=k.descriptionId),"firstFocusableElement"in k&&i(8,a=k.firstFocusableElement),"focusableElements"in k&&i(9,h=k.focusableElements),"labelId"in k&&i(3,d=k.labelId),"lastFocusableElement"in k&&i(10,f=k.lastFocusableElement),"step"in k&&i(4,g=k.step),"dataStepId"in k&&i(1,v=k.dataStepId)},t.$$.update=()=>{t.$$.dirty&16&&(i(5,x=g.options&&g.options.cancelIcon&&g.options.cancelIcon.enabled),i(6,b=g.options&&g.options.title))},[n,v,l,d,g,x,b,S,a,h,f,s,O,y]}class oK extends Jo{constructor(e){super(),Qo(this,e,aK,tK,Zo,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}let Qx=class extends FS{constructor(e,i={}){return super(e,i),this.tour=e,this.classPrefix=this.tour.options?cI(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,lI(this),this._setOptions(i),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){mX(this),RS(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveAttachToOptions(){return this._resolvedAttachTo=LG(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return sh(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const e=`${this.id}-description`,i=`${this.id}-label`;return this.shepherdElementComponent=new oK({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:i,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){const{element:i}=this._getResolvedAttachToOptions();sh(this.options.scrollToHandler)?this.options.scrollToHandler(i):AG(i)&&typeof i.scrollIntoView=="function"&&i.scrollIntoView(e)}_getClassOptions(e){const i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,s=e.classes?e.classes:"",n=i&&i.classes?i.classes:"",l=[...s.split(" "),...n.split(" ")],a=new Set(l);return Array.from(a).join(" ").trim()}_setOptions(e={}){let i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;i=LS({},i||{}),this.options=Object.assign({arrow:!0},i,e,pX(i,e));const{when:s}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${IS()}`,s&&Object.keys(s).forEach(n=>{this.on(n,s[n],this)})}_setupElements(){Ss(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&DG(this),fX(this)}_show(){this.trigger("before-show"),this._resolveAttachToOptions(),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el.hidden=!1;const e=this.shepherdElementComponent.getElement(),i=this.target||document.body;i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`),e.classList.add("shepherd-enabled"),this.trigger("show")}_styleTargetElementForStep(e){const i=e.target;i&&(e.options.highlightClass&&i.classList.add(e.options.highlightClass),i.classList.remove("shepherd-target-click-disabled"),e.options.canClickTarget===!1&&i.classList.add("shepherd-target-click-disabled"))}_updateStepTargetOnHide(){const e=this.target||document.body;this.options.highlightClass&&e.classList.remove(this.options.highlightClass),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}};function lK(t){if(t){const{steps:e}=t;e.forEach(i=>{i.options&&i.options.canClickTarget===!1&&i.options.attachTo&&i.target instanceof HTMLElement&&i.target.classList.remove("shepherd-target-click-disabled")})}}function cK({width:t,height:e,x:i=0,y:s=0,r:n=0}){const{innerWidth:l,innerHeight:a}=window,{topLeft:h=0,topRight:d=0,bottomRight:f=0,bottomLeft:g=0}=typeof n=="number"?{topLeft:n,topRight:n,bottomRight:n,bottomLeft:n}:n;return`M${l},${a}H0V0H${l}V${a}ZM${i+h},${s}a${h},${h},0,0,0-${h},${h}V${e+s-g}a${g},${g},0,0,0,${g},${g}H${t+i-f}a${f},${f},0,0,0,${f}-${f}V${s+d}a${d},${d},0,0,0-${d}-${d}Z`}function hK(t){let e,i,s,n,l;return{c(){e=TL("svg"),i=TL("path"),er(i,"d",t[2]),er(e,"class",s=`${t[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(a,h){wa(a,e,h),Bu(e,i),t[11](e),n||(l=hb(e,"touchmove",t[3]),n=!0)},p(a,[h]){h&4&&er(i,"d",a[2]),h&2&&s!==(s=`${a[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&er(e,"class",s)},i:Tn,o:Tn,d(a){a&&Xn(e),t[11](null),n=!1,l()}}}function TI(t){if(!t)return null;const i=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return i!=="hidden"&&i!=="visible"&&t.scrollHeight>=t.clientHeight?t:TI(t.parentElement)}function uK(t,e){const i=t.getBoundingClientRect();let s=i.y||i.top,n=i.bottom||s+i.height;if(e){const a=e.getBoundingClientRect(),h=a.y||a.top,d=a.bottom||h+a.height;s=Math.max(s,h),n=Math.min(n,d)}const l=Math.max(n-s,0);return{y:s,height:l}}function dK(t,e,i){let{element:s,openingProperties:n}=e;IS();let l=!1,a,h;f();const d=()=>s;function f(){i(4,n={width:0,height:0,x:0,y:0,r:0})}function g(){i(1,l=!1),L()}function v(y=0,k=0,T,A){if(A){const{y:F,height:z}=uK(A,T),{x:N,width:m,left:w}=A.getBoundingClientRect();i(4,n={width:m+y*2,height:z+y*2,x:(N||w)-y,y:F-y,r:k})}else f()}function x(y){L(),y.tour.options.useModalOverlay?(u(y),b()):g()}function b(){i(1,l=!0)}const C=y=>{y.preventDefault()},O=y=>{y.stopPropagation()};function P(){window.addEventListener("touchmove",C,{passive:!1})}function L(){a&&(cancelAnimationFrame(a),a=void 0),window.removeEventListener("touchmove",C,{passive:!1})}function u(y){const{modalOverlayOpeningPadding:k,modalOverlayOpeningRadius:T}=y.options,A=TI(y.target),F=()=>{a=void 0,v(k,T,A,y.target),a=requestAnimationFrame(F)};F(),P()}function S(y){Nu[y?"unshift":"push"](()=>{s=y,i(0,s)})}return t.$$set=y=>{"element"in y&&i(0,s=y.element),"openingProperties"in y&&i(4,n=y.openingProperties)},t.$$.update=()=>{t.$$.dirty&16&&i(2,h=cK(n))},[s,l,h,O,n,d,f,g,v,x,b,S]}class fK extends Jo{constructor(e){super(),Qo(this,e,dK,hK,Zo,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}const qc=new FS;class pK extends FS{constructor(e={}){super(e),lI(this);const i={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},i,e),this.classPrefix=cI(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(n=>{(l=>{this.on(l,a=>{a=a||{},a.tour=this,qc.trigger(l,a)})})(n)}),this._setTourID(),this}addStep(e,i){let s=e;return s instanceof Qx?s.tour=this:s=new Qx(this,s),Ss(i)?this.steps.push(s):this.steps.splice(i,0,s),s}addSteps(e){return Array.isArray(e)&&e.forEach(i=>{this.addStep(i)}),this}back(){const e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}async cancel(){if(this.options.confirmCancel){const e=typeof this.options.confirmCancel=="function",i=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";(e?await this.options.confirmCancel():window.confirm(i))&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(e){return this.steps.find(i=>i.id===e)}getCurrentStep(){return this.currentStep}hide(){const e=this.getCurrentStep();if(e)return e.hide()}isActive(){return qc.activeTour===this}next(){const e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){const i=this.getCurrentStep();this.steps.some((s,n)=>{if(s.id===e)return s.isOpen()&&s.hide(),s.destroy(),this.steps.splice(n,1),!0}),i&&i.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,i=!0){const s=Bp(e)?this.getById(e):this.steps[e];s&&(this._updateStateBeforeShow(),sh(s.options.showOn)&&!s.options.showOn()?this._skipStep(s,i):(this.trigger("show",{step:s,previous:this.currentStep}),this.currentStep=s,s.show()))}start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()}_done(e){const i=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(s=>s.destroy()),lK(this),this.trigger(e,{index:i}),qc.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){const s=document.querySelector(".shepherd-modal-overlay-container");s&&s.remove()}RS(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),qc.activeTour=this}_setupModal(){this.modal=new fK({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(e,i){const s=this.steps.indexOf(e);if(s===this.steps.length-1)this.complete();else{const n=i?s+1:s-1;this.show(n,i)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(){const e=this.options.tourName||"tour";this.id=`${e}--${IS()}`}}const mK=typeof window>"u";class NL{constructor(){}}mK?Object.assign(qc,{Tour:NL,Step:NL}):Object.assign(qc,{Tour:pK,Step:Qx});var CI={exports:{}},rx={exports:{}},zL;function gK(){return zL||(zL=1,function(t){(function(e,i){t.exports?t.exports=i(ed()):(e.Isotope=e.Isotope||{},e.Isotope.Item=i(e.Outlayer))})(window,function(i){function s(){i.Item.apply(this,arguments)}var n=s.prototype=Object.create(i.Item.prototype),l=n._create;n._create=function(){this.id=this.layout.itemGUID++,l.call(this),this.sortData={}},n.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var h=this.layout.options.getSortData,d=this.layout._sorters;for(var f in h){var g=d[f];this.sortData[f]=g(this.element,this)}}};var a=n.destroy;return n.destroy=function(){a.apply(this,arguments),this.css({display:""})},s})}(rx)),rx.exports}var sx={exports:{}},UL;function ub(){return UL||(UL=1,function(t){(function(e,i){t.exports?t.exports=i(Ju(),ed()):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=i(e.getSize,e.Outlayer))})(window,function(i,s){function n(h){this.isotope=h,h&&(this.options=h.options[this.namespace],this.element=h.element,this.items=h.filteredItems,this.size=h.size)}var l=n.prototype,a=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return a.forEach(function(h){l[h]=function(){return s.prototype[h].apply(this.isotope,arguments)}}),l.needsVerticalResizeLayout=function(){var h=i(this.isotope.element),d=this.isotope.size&&h;return d&&h.innerHeight!=this.isotope.size.innerHeight},l._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},l.getColumnWidth=function(){this.getSegmentSize("column","Width")},l.getRowHeight=function(){this.getSegmentSize("row","Height")},l.getSegmentSize=function(h,d){var f=h+d,g="outer"+d;if(this._getMeasurement(f,g),!this[f]){var v=this.getFirstItemSize();this[f]=v&&v[g]||this.isotope.size["inner"+d]}},l.getFirstItemSize=function(){var h=this.isotope.filteredItems[0];return h&&h.element&&i(h.element)},l.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},l.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(h,d){function f(){n.apply(this,arguments)}return f.prototype=Object.create(l),f.prototype.constructor=f,d&&(f.options=d),f.prototype.namespace=h,n.modes[h]=f,f},n})}(sx)),sx.exports}var nx={exports:{}},ax={exports:{}};/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */var HL;function yK(){return HL||(HL=1,function(t){(function(e,i){t.exports?t.exports=i(ed(),Ju()):e.Masonry=i(e.Outlayer,e.getSize)})(window,function(i,s){var n=i.create("masonry");n.compatOptions.fitWidth="isFitWidth";var l=n.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var a=0;a<this.cols;a++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var a=this.items[0],h=a&&a.element;this.columnWidth=h&&s(h).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,f=this.containerWidth+this.gutter,g=f/d,v=d-f%d,x=v&&v<1?"round":"floor";g=Math[x](g),this.cols=Math.max(g,1)},l.getContainerWidth=function(){var a=this._getOption("fitWidth"),h=a?this.element.parentNode:this.element,d=s(h);this.containerWidth=d&&d.innerWidth},l._getItemLayoutPosition=function(a){a.getSize();var h=a.size.outerWidth%this.columnWidth,d=h&&h<1?"round":"ceil",f=Math[d](a.size.outerWidth/this.columnWidth);f=Math.min(f,this.cols);for(var g=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",v=this[g](f,a),x={x:this.columnWidth*v.col,y:v.y},b=v.y+a.size.outerHeight,C=f+v.col,O=v.col;O<C;O++)this.colYs[O]=b;return x},l._getTopColPosition=function(a){var h=this._getTopColGroup(a),d=Math.min.apply(Math,h);return{col:h.indexOf(d),y:d}},l._getTopColGroup=function(a){if(a<2)return this.colYs;for(var h=[],d=this.cols+1-a,f=0;f<d;f++)h[f]=this._getColGroupY(f,a);return h},l._getColGroupY=function(a,h){if(h<2)return this.colYs[a];var d=this.colYs.slice(a,a+h);return Math.max.apply(Math,d)},l._getHorizontalColPosition=function(a,h){var d=this.horizontalColIndex%this.cols,f=a>1&&d+a>this.cols;d=f?0:d;var g=h.size.outerWidth&&h.size.outerHeight;return this.horizontalColIndex=g?d+a:this.horizontalColIndex,{col:d,y:this._getColGroupY(d,a)}},l._manageStamp=function(a){var h=s(a),d=this._getElementOffset(a),f=this._getOption("originLeft"),g=f?d.left:d.right,v=g+h.outerWidth,x=Math.floor(g/this.columnWidth);x=Math.max(0,x);var b=Math.floor(v/this.columnWidth);b-=v%this.columnWidth?0:1,b=Math.min(this.cols-1,b);for(var C=this._getOption("originTop"),O=(C?d.top:d.bottom)+h.outerHeight,P=x;P<=b;P++)this.colYs[P]=Math.max(O,this.colYs[P])},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var a={height:this.maxY};return this._getOption("fitWidth")&&(a.width=this._getContainerFitWidth()),a},l._getContainerFitWidth=function(){for(var a=0,h=this.cols;--h&&this.colYs[h]===0;)a++;return(this.cols-a)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var a=this.containerWidth;return this.getContainerWidth(),a!=this.containerWidth},n})}(ax)),ax.exports}/*!
 * Masonry layout mode
 * sub-classes Masonry
 * https://masonry.desandro.com
 */var WL;function vK(){return WL||(WL=1,function(t){(function(e,i){t.exports?t.exports=i(ub(),yK()):i(e.Isotope.LayoutMode,e.Masonry)})(window,function(i,s){var n=i.create("masonry"),l=n.prototype,a={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var h in s.prototype)a[h]||(l[h]=s.prototype[h]);var d=l.measureColumns;l.measureColumns=function(){this.items=this.isotope.filteredItems,d.call(this)};var f=l._getOption;return l._getOption=function(g){return g=="fitWidth"?this.options.isFitWidth!==void 0?this.options.isFitWidth:this.options.fitWidth:f.apply(this.isotope,arguments)},n})}(nx)),nx.exports}var ox={exports:{}},jL;function bK(){return jL||(jL=1,function(t,e){(function(i,s){t.exports=s(ub())})(window,function(s){var n=s.create("fitRows"),l=n.prototype;return l._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},l._getItemLayoutPosition=function(a){a.getSize();var h=a.size.outerWidth+this.gutter,d=this.isotope.size.innerWidth+this.gutter;this.x!==0&&h+this.x>d&&(this.x=0,this.y=this.maxY);var f={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+a.size.outerHeight),this.x+=h,f},l._getContainerSize=function(){return{height:this.maxY}},n})}(ox)),ox.exports}var lx={exports:{}},qL;function _K(){return qL||(qL=1,function(t){(function(e,i){t.exports?t.exports=i(ub()):i(e.Isotope.LayoutMode)})(window,function(i){var s=i.create("vertical",{horizontalAlignment:0}),n=s.prototype;return n._resetLayout=function(){this.y=0},n._getItemLayoutPosition=function(l){l.getSize();var a=(this.isotope.size.innerWidth-l.size.outerWidth)*this.options.horizontalAlignment,h=this.y;return this.y+=l.size.outerHeight,{x:a,y:h}},n._getContainerSize=function(){return{height:this.y}},s})}(lx)),lx.exports}/*!
 * Isotope v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */(function(t){(function(e,i){t.exports?t.exports=i(e,ed(),Ju(),sI(),nI(),gK(),ub(),vK(),bK(),_K()):e.Isotope=i(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)})(window,function(i,s,n,l,a,h,d){var f=i.jQuery,g=String.prototype.trim?function(P){return P.trim()}:function(P){return P.replace(/^\s+|\s+$/g,"")},v=s.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});v.Item=h,v.LayoutMode=d;var x=v.prototype;x._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),s.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var P in d.modes)this._initLayoutMode(P)},x.reloadItems=function(){this.itemGUID=0,s.prototype.reloadItems.call(this)},x._itemize=function(){for(var P=s.prototype._itemize.apply(this,arguments),L=0;L<P.length;L++){var u=P[L];u.id=this.itemGUID++}return this._updateItemsSortData(P),P},x._initLayoutMode=function(P){var L=d.modes[P],u=this.options[P]||{};this.options[P]=L.options?a.extend(L.options,u):u,this.modes[P]=new L(this)},x.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout")){this.arrange();return}this._layout()},x._layout=function(){var P=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,P),this._isLayoutInited=!0},x.arrange=function(P){this.option(P),this._getIsInstant();var L=this._filter(this.items);this.filteredItems=L.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[L]):this._hideReveal(L),this._sort(),this._layout()},x._init=x.arrange,x._hideReveal=function(P){this.reveal(P.needReveal),this.hide(P.needHide)},x._getIsInstant=function(){var P=this._getOption("layoutInstant"),L=P!==void 0?P:!this._isLayoutInited;return this._isInstant=L,L},x._bindArrangeComplete=function(){var P,L,u,S=this;function y(){P&&L&&u&&S.dispatchEvent("arrangeComplete",null,[S.filteredItems])}this.once("layoutComplete",function(){P=!0,y()}),this.once("hideComplete",function(){L=!0,y()}),this.once("revealComplete",function(){u=!0,y()})},x._filter=function(P){var L=this.options.filter;L=L||"*";for(var u=[],S=[],y=[],k=this._getFilterTest(L),T=0;T<P.length;T++){var A=P[T];if(!A.isIgnored){var F=k(A);F&&u.push(A),F&&A.isHidden?S.push(A):!F&&!A.isHidden&&y.push(A)}}return{matches:u,needReveal:S,needHide:y}},x._getFilterTest=function(P){return f&&this.options.isJQueryFiltering?function(L){return f(L.element).is(P)}:typeof P=="function"?function(L){return P(L.element)}:function(L){return l(L.element,P)}},x.updateSortData=function(P){var L;P?(P=a.makeArray(P),L=this.getItems(P)):L=this.items,this._getSorters(),this._updateItemsSortData(L)},x._getSorters=function(){var P=this.options.getSortData;for(var L in P){var u=P[L];this._sorters[L]=b(u)}},x._updateItemsSortData=function(P){for(var L=P&&P.length,u=0;L&&u<L;u++){var S=P[u];S.updateSortData()}};var b=function(){function P(u){if(typeof u!="string")return u;var S=g(u).split(" "),y=S[0],k=y.match(/^\[(.+)\]$/),T=k&&k[1],A=L(T,y),F=v.sortDataParsers[S[1]];return u=F?function(z){return z&&F(A(z))}:function(z){return z&&A(z)},u}function L(u,S){return u?function(k){return k.getAttribute(u)}:function(k){var T=k.querySelector(S);return T&&T.textContent}}return P}();v.sortDataParsers={parseInt:function(P){return parseInt(P,10)},parseFloat:function(P){return parseFloat(P)}},x._sort=function(){if(this.options.sortBy){var P=a.makeArray(this.options.sortBy);this._getIsSameSortBy(P)||(this.sortHistory=P.concat(this.sortHistory));var L=C(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(L)}},x._getIsSameSortBy=function(P){for(var L=0;L<P.length;L++)if(P[L]!=this.sortHistory[L])return!1;return!0};function C(P,L){return function(S,y){for(var k=0;k<P.length;k++){var T=P[k],A=S.sortData[T],F=y.sortData[T];if(A>F||A<F){var z=L[T]!==void 0?L[T]:L,N=z?1:-1;return(A>F?1:-1)*N}}return 0}}x._mode=function(){var P=this.options.layoutMode,L=this.modes[P];if(!L)throw new Error("No layout mode: "+P);return L.options=this.options[P],L},x._resetLayout=function(){s.prototype._resetLayout.call(this),this._mode()._resetLayout()},x._getItemLayoutPosition=function(P){return this._mode()._getItemLayoutPosition(P)},x._manageStamp=function(P){this._mode()._manageStamp(P)},x._getContainerSize=function(){return this._mode()._getContainerSize()},x.needsResizeLayout=function(){return this._mode().needsResizeLayout()},x.appended=function(P){var L=this.addItems(P);if(L.length){var u=this._filterRevealAdded(L);this.filteredItems=this.filteredItems.concat(u)}},x.prepended=function(P){var L=this._itemize(P);if(L.length){this._resetLayout(),this._manageStamps();var u=this._filterRevealAdded(L);this.layoutItems(this.filteredItems),this.filteredItems=u.concat(this.filteredItems),this.items=L.concat(this.items)}},x._filterRevealAdded=function(P){var L=this._filter(P);return this.hide(L.needHide),this.reveal(L.matches),this.layoutItems(L.matches,!0),L.matches},x.insert=function(P){var L=this.addItems(P);if(L.length){var u,S,y=L.length;for(u=0;u<y;u++)S=L[u],this.element.appendChild(S.element);var k=this._filter(L).matches;for(u=0;u<y;u++)L[u].isLayoutInstant=!0;for(this.arrange(),u=0;u<y;u++)delete L[u].isLayoutInstant;this.reveal(k)}};var O=x.remove;return x.remove=function(P){P=a.makeArray(P);var L=this.getItems(P);O.call(this,P);for(var u=L&&L.length,S=0;u&&S<u;S++){var y=L[S];a.removeFrom(this.filteredItems,y)}},x.shuffle=function(){for(var P=0;P<this.items.length;P++){var L=this.items[P];L.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},x._noTransition=function(P,L){var u=this.options.transitionDuration;this.options.transitionDuration=0;var S=P.apply(this,L);return this.options.transitionDuration=u,S},x.getFilteredItemElements=function(){return this.filteredItems.map(function(P){return P.element})},v})})(CI);var wK=CI.exports;const xK=Qu(wK);var EI={exports:{}};/*! For license information please see gridstack-all.js.LICENSE.txt */(function(t,e){(function(i,s){t.exports=s()})(self,()=>(()=>{var i={d:(N,m)=>{for(var w in m)i.o(m,w)&&!i.o(N,w)&&Object.defineProperty(N,w,{enumerable:!0,get:m[w]})},o:(N,m)=>Object.prototype.hasOwnProperty.call(N,m)},s={};i.d(s,{GridStack:()=>z});class n{static getElements(m,w=document){if(typeof m=="string"){const M="getElementById"in w?w:void 0;if(M&&!isNaN(+m[0])){const I=M.getElementById(m);return I?[I]:[]}let D=w.querySelectorAll(m);return D.length||m[0]==="."||m[0]==="#"||(D=w.querySelectorAll("."+m),D.length||(D=w.querySelectorAll("#"+m))),Array.from(D)}return[m]}static getElement(m,w=document){if(typeof m=="string"){const M="getElementById"in w?w:void 0;if(!m.length)return null;if(M&&m[0]==="#")return M.getElementById(m.substring(1));if(m[0]==="#"||m[0]==="."||m[0]==="[")return w.querySelector(m);if(M&&!isNaN(+m[0]))return M.getElementById(m);let D=w.querySelector(m);return M&&!D&&(D=M.getElementById(m)),D||(D=w.querySelector("."+m)),D}return m}static lazyLoad(m){var w,M;return m.lazyLoad||((M=(w=m.grid)==null?void 0:w.opts)==null?void 0:M.lazyLoad)&&m.lazyLoad!==!1}static createDiv(m,w){const M=document.createElement("div");return m.forEach(D=>{D&&M.classList.add(D)}),w==null||w.appendChild(M),M}static shouldSizeToContent(m,w=!1){return(m==null?void 0:m.grid)&&(w?m.sizeToContent===!0||m.grid.opts.sizeToContent===!0&&m.sizeToContent===void 0:!!m.sizeToContent||m.grid.opts.sizeToContent&&m.sizeToContent!==!1)}static isIntercepted(m,w){return!(m.y>=w.y+w.h||m.y+m.h<=w.y||m.x+m.w<=w.x||m.x>=w.x+w.w)}static isTouching(m,w){return n.isIntercepted(m,{x:w.x-.5,y:w.y-.5,w:w.w+1,h:w.h+1})}static areaIntercept(m,w){const M=m.x>w.x?m.x:w.x,D=m.x+m.w<w.x+w.w?m.x+m.w:w.x+w.w;if(D<=M)return 0;const I=m.y>w.y?m.y:w.y,H=m.y+m.h<w.y+w.h?m.y+m.h:w.y+w.h;return H<=I?0:(D-M)*(H-I)}static area(m){return m.w*m.h}static sort(m,w=1){return m.sort((D,I)=>{const H=w*((D.y??1e4)-(I.y??1e4));return H===0?w*((D.x??1e4)-(I.x??1e4)):H})}static find(m,w){return w?m.find(M=>M.id===w):void 0}static toBool(m){return typeof m=="boolean"?m:typeof m=="string"?!((m=m.toLowerCase())===""||m==="no"||m==="false"||m==="0"):!!m}static toNumber(m){return m===null||m.length===0?void 0:Number(m)}static parseHeight(m){let w,M="px";if(typeof m=="string")if(m==="auto"||m==="")w=0;else{const D=m.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!D)throw new Error(`Invalid height val = ${m}`);M=D[2]||"px",w=parseFloat(D[1])}else w=m;return{h:w,unit:M}}static defaults(m,...w){return w.forEach(M=>{for(const D in M){if(!M.hasOwnProperty(D))return;m[D]===null||m[D]===void 0?m[D]=M[D]:typeof M[D]=="object"&&typeof m[D]=="object"&&this.defaults(m[D],M[D])}}),m}static same(m,w){if(typeof m!="object")return m==w;if(typeof m!=typeof w||Object.keys(m).length!==Object.keys(w).length)return!1;for(const M in m)if(m[M]!==w[M])return!1;return!0}static copyPos(m,w,M=!1){return w.x!==void 0&&(m.x=w.x),w.y!==void 0&&(m.y=w.y),w.w!==void 0&&(m.w=w.w),w.h!==void 0&&(m.h=w.h),M&&(w.minW&&(m.minW=w.minW),w.minH&&(m.minH=w.minH),w.maxW&&(m.maxW=w.maxW),w.maxH&&(m.maxH=w.maxH)),m}static samePos(m,w){return m&&w&&m.x===w.x&&m.y===w.y&&(m.w||1)===(w.w||1)&&(m.h||1)===(w.h||1)}static sanitizeMinMax(m){m.minW||delete m.minW,m.minH||delete m.minH,m.maxW||delete m.maxW,m.maxH||delete m.maxH}static removeInternalAndSame(m,w){if(typeof m=="object"&&typeof w=="object")for(let M in m){const D=m[M],I=w[M];M[0]==="_"||D===I?delete m[M]:D&&typeof D=="object"&&I!==void 0&&(n.removeInternalAndSame(D,I),Object.keys(D).length||delete m[M])}}static removeInternalForSave(m,w=!0){for(let M in m)M[0]!=="_"&&m[M]!==null&&m[M]!==void 0||delete m[M];delete m.grid,w&&delete m.el,m.autoPosition||delete m.autoPosition,m.noResize||delete m.noResize,m.noMove||delete m.noMove,m.locked||delete m.locked,m.w!==1&&m.w!==m.minW||delete m.w,m.h!==1&&m.h!==m.minH||delete m.h}static throttle(m,w){let M=!1;return(...D)=>{M||(M=!0,setTimeout(()=>{m(...D),M=!1},w))}}static removePositioningStyles(m){const w=m.style;w.position&&w.removeProperty("position"),w.left&&w.removeProperty("left"),w.top&&w.removeProperty("top"),w.width&&w.removeProperty("width"),w.height&&w.removeProperty("height")}static getScrollElement(m){if(!m)return document.scrollingElement||document.documentElement;const w=getComputedStyle(m);return/(auto|scroll)/.test(w.overflow+w.overflowY)?m:this.getScrollElement(m.parentElement)}static updateScrollPosition(m,w,M){const D=m.getBoundingClientRect(),I=window.innerHeight||document.documentElement.clientHeight;if(D.top<0||D.bottom>I){const H=D.bottom-I,j=D.top,$=this.getScrollElement(m);if($!==null){const ae=$.scrollTop;D.top<0&&M<0?m.offsetHeight>I?$.scrollTop+=M:$.scrollTop+=Math.abs(j)>Math.abs(M)?M:j:M>0&&(m.offsetHeight>I?$.scrollTop+=M:$.scrollTop+=H>M?M:H),w.top+=$.scrollTop-ae}}}static updateScrollResize(m,w,M){const D=this.getScrollElement(w),I=D.clientHeight,H=D===this.getScrollElement()?0:D.getBoundingClientRect().top,j=m.clientY-H,$=j>I-M;j<M?D.scrollBy({behavior:"smooth",top:j-M}):$&&D.scrollBy({behavior:"smooth",top:M-(I-j)})}static clone(m){return m==null||typeof m!="object"?m:m instanceof Array?[...m]:{...m}}static cloneDeep(m){const w=["parentGrid","el","grid","subGrid","engine"],M=n.clone(m);for(const D in M)M.hasOwnProperty(D)&&typeof M[D]=="object"&&D.substring(0,2)!=="__"&&!w.find(I=>I===D)&&(M[D]=n.cloneDeep(m[D]));return M}static cloneNode(m){const w=m.cloneNode(!0);return w.removeAttribute("id"),w}static appendTo(m,w){let M;M=typeof w=="string"?n.getElement(w):w,M&&M.appendChild(m)}static addElStyles(m,w){if(w instanceof Object)for(const M in w)w.hasOwnProperty(M)&&(Array.isArray(w[M])?w[M].forEach(D=>{m.style[M]=D}):m.style[M]=w[M])}static initEvent(m,w){const M={type:w.type},D={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:w.target?w.target:m.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach(I=>M[I]=m[I]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(I=>M[I]=m[I]),{...M,...D}}static simulateMouseEvent(m,w,M){const D=m,I=new MouseEvent(w,{bubbles:!0,composed:!0,cancelable:!0,view:window,detail:1,screenX:m.screenX,screenY:m.screenY,clientX:m.clientX,clientY:m.clientY,ctrlKey:D.ctrlKey??!1,altKey:D.altKey??!1,shiftKey:D.shiftKey??!1,metaKey:D.metaKey??!1,button:0,relatedTarget:m.target});(M||m.target).dispatchEvent(I)}static getValuesFromTransformedElement(m){const w=document.createElement("div");n.addElStyles(w,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),m.appendChild(w);const M=w.getBoundingClientRect();return m.removeChild(w),w.remove(),{xScale:1/M.width,yScale:1/M.height,xOffset:M.left,yOffset:M.top}}static swap(m,w,M){if(!m)return;const D=m[w];m[w]=m[M],m[M]=D}static canBeRotated(m){var w;return!(!m||m.w===m.h||m.locked||m.noResize||(w=m.grid)!=null&&w.opts.disableResize||m.minW&&m.minW===m.maxW||m.minH&&m.minH===m.maxH)}}class l{constructor(m={}){this.addedNodes=[],this.removedNodes=[],this.defaultColumn=12,this.column=m.column||this.defaultColumn,this.column>this.defaultColumn&&(this.defaultColumn=this.column),this.maxRow=m.maxRow,this._float=m.float,this.nodes=m.nodes||[],this.onChange=m.onChange}batchUpdate(m=!0,w=!0){return!!this.batchMode===m||(this.batchMode=m,m?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,w&&this._packNodes(),this._notify())),this}_useEntireRowArea(m,w){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!m._moving||m._skipDown||w.y<=m.y)}_fixCollisions(m,w=m,M,D={}){if(this.sortNodes(-1),!(M=M||this.collide(m,w)))return!1;if(m._moving&&!D.nested&&!this.float&&this.swap(m,M))return!0;let I=w;!this._loading&&this._useEntireRowArea(m,w)&&(I={x:0,w:this.column,y:w.y,h:w.h},M=this.collide(m,I,D.skip));let H=!1;const j={nested:!0,pack:!1};let $=0;for(;M=M||this.collide(m,I,D.skip);){if($++>2*this.nodes.length)throw new Error("Infinite collide check");let ae;if(M.locked||this._loading||m._moving&&!m._skipDown&&w.y>m.y&&!this.float&&(!this.collide(M,{...M,y:m.y},m)||!this.collide(M,{...M,y:w.y-M.h},m))){m._skipDown=m._skipDown||w.y>m.y;const X={...w,y:M.y+M.h,...j};ae=!(!this._loading||!n.samePos(m,X))||this.moveNode(m,X),(M.locked||this._loading)&&ae?n.copyPos(w,m):!M.locked&&ae&&D.pack&&(this._packNodes(),w.y=M.y+M.h,n.copyPos(m,w)),H=H||ae}else ae=this.moveNode(M,{...M,y:w.y+w.h,skip:m,...j});if(!ae)return H;M=void 0}return H}collide(m,w=m,M){const D=m._id,I=M==null?void 0:M._id;return this.nodes.find(H=>H._id!==D&&H._id!==I&&n.isIntercepted(H,w))}collideAll(m,w=m,M){const D=m._id,I=M==null?void 0:M._id;return this.nodes.filter(H=>H._id!==D&&H._id!==I&&n.isIntercepted(H,w))}directionCollideCoverage(m,w,M){if(!w.rect||!m._rect)return;const D=m._rect,I={...w.rect};let H;I.y>D.y?(I.h+=I.y-D.y,I.y=D.y):I.h+=D.y-I.y,I.x>D.x?(I.w+=I.x-D.x,I.x=D.x):I.w+=D.x-I.x;let j=.5;for(let $ of M){if($.locked||!$._rect)break;const ae=$._rect;let X=Number.MAX_VALUE,Y=Number.MAX_VALUE;D.y<ae.y?X=(I.y+I.h-ae.y)/ae.h:D.y+D.h>ae.y+ae.h&&(X=(ae.y+ae.h-I.y)/ae.h),D.x<ae.x?Y=(I.x+I.w-ae.x)/ae.w:D.x+D.w>ae.x+ae.w&&(Y=(ae.x+ae.w-I.x)/ae.w);const ue=Math.min(Y,X);ue>j&&(j=ue,H=$)}return w.collide=H,H}cacheRects(m,w,M,D,I,H){return this.nodes.forEach(j=>j._rect={y:j.y*w+M,x:j.x*m+H,w:j.w*m-H-D,h:j.h*w-M-I}),this}swap(m,w){if(!w||w.locked||!m||m.locked)return!1;function M(){const I=w.x,H=w.y;return w.x=m.x,w.y=m.y,m.h!=w.h?(m.x=I,m.y=w.y+w.h):m.w!=w.w?(m.x=w.x+w.w,m.y=H):(m.x=I,m.y=H),m._dirty=w._dirty=!0,!0}let D;if(m.w===w.w&&m.h===w.h&&(m.x===w.x||m.y===w.y)&&(D=n.isTouching(m,w)))return M();if(D!==!1){if(m.w===w.w&&m.x===w.x&&(D||(D=n.isTouching(m,w)))){if(w.y<m.y){const I=m;m=w,w=I}return M()}if(D!==!1){if(m.h===w.h&&m.y===w.y&&(D||(D=n.isTouching(m,w)))){if(w.x<m.x){const I=m;m=w,w=I}return M()}return!1}}}isAreaEmpty(m,w,M,D){const I={x:m||0,y:w||0,w:M||1,h:D||1};return!this.collide(I)}compact(m="compact",w=!0){if(this.nodes.length===0)return this;w&&this.sortNodes();const M=this.batchMode;M||this.batchUpdate();const D=this._inColumnResize;D||(this._inColumnResize=!0);const I=this.nodes;return this.nodes=[],I.forEach((H,j,$)=>{let ae;H.locked||(H.autoPosition=!0,m==="list"&&j&&(ae=$[j-1])),this.addNode(H,!1,ae)}),D||delete this._inColumnResize,M||this.batchUpdate(!1),this}set float(m){this._float!==m&&(this._float=m||!1,m||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(m=1){return this.nodes=n.sort(this.nodes,m),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach(m=>{if(m._updating||m._orig===void 0||m.y===m._orig.y)return;let w=m.y;for(;w>m._orig.y;)--w,this.collide(m,{x:m.x,y:w,w:m.w,h:m.h})||(m._dirty=!0,m.y=w)}):this.nodes.forEach((m,w)=>{if(!m.locked)for(;m.y>0;){const M=w===0?0:m.y-1;if(w!==0&&this.collide(m,{x:m.x,y:M,w:m.w,h:m.h}))break;m._dirty=m.y!==M,m.y=M}})),this}prepareNode(m,w){m._id=m._id??l._idSeq++;const M=m.id;if(M){let I=1;for(;this.nodes.find(H=>H.id===m.id&&H!==m);)m.id=M+"_"+I++}m.x!==void 0&&m.y!==void 0&&m.x!==null&&m.y!==null||(m.autoPosition=!0);const D={x:0,y:0,w:1,h:1};return n.defaults(m,D),m.autoPosition||delete m.autoPosition,m.noResize||delete m.noResize,m.noMove||delete m.noMove,n.sanitizeMinMax(m),typeof m.x=="string"&&(m.x=Number(m.x)),typeof m.y=="string"&&(m.y=Number(m.y)),typeof m.w=="string"&&(m.w=Number(m.w)),typeof m.h=="string"&&(m.h=Number(m.h)),isNaN(m.x)&&(m.x=D.x,m.autoPosition=!0),isNaN(m.y)&&(m.y=D.y,m.autoPosition=!0),isNaN(m.w)&&(m.w=D.w),isNaN(m.h)&&(m.h=D.h),this.nodeBoundFix(m,w),m}nodeBoundFix(m,w){const M=m._orig||n.copyPos({},m);if(m.maxW&&(m.w=Math.min(m.w||1,m.maxW)),m.maxH&&(m.h=Math.min(m.h||1,m.maxH)),m.minW&&(m.w=Math.max(m.w||1,m.minW)),m.minH&&(m.h=Math.max(m.h||1,m.minH)),(m.x||0)+(m.w||1)>this.column&&this.column<this.defaultColumn&&!this._inColumnResize&&!this.skipCacheUpdate&&m._id&&this.findCacheLayout(m,this.defaultColumn)===-1){const D={...m};D.autoPosition||D.x===void 0?(delete D.x,delete D.y):D.x=Math.min(this.defaultColumn-1,D.x),D.w=Math.min(this.defaultColumn,D.w||1),this.cacheOneLayout(D,this.defaultColumn)}return m.w>this.column?m.w=this.column:m.w<1&&(m.w=1),this.maxRow&&m.h>this.maxRow?m.h=this.maxRow:m.h<1&&(m.h=1),m.x<0&&(m.x=0),m.y<0&&(m.y=0),m.x+m.w>this.column&&(w?m.w=this.column-m.x:m.x=this.column-m.w),this.maxRow&&m.y+m.h>this.maxRow&&(w?m.h=this.maxRow-m.y:m.y=this.maxRow-m.h),n.samePos(m,M)||(m._dirty=!0),this}getDirtyNodes(m){return m?this.nodes.filter(w=>w._dirty&&!n.samePos(w,w._orig)):this.nodes.filter(w=>w._dirty)}_notify(m){if(this.batchMode||!this.onChange)return this;const w=(m||[]).concat(this.getDirtyNodes());return this.onChange(w),this}cleanNodes(){return this.batchMode||this.nodes.forEach(m=>{delete m._dirty,delete m._lastTried}),this}saveInitial(){return this.nodes.forEach(m=>{m._orig=n.copyPos({},m),delete m._dirty}),this._hasLocked=this.nodes.some(m=>m.locked),this}restoreInitial(){return this.nodes.forEach(m=>{m._orig&&!n.samePos(m,m._orig)&&(n.copyPos(m,m._orig),m._dirty=!0)}),this._notify(),this}findEmptyPosition(m,w=this.nodes,M=this.column,D){let I=!1;for(let H=D?D.y*M+(D.x+D.w):0;!I;++H){const j=H%M,$=Math.floor(H/M);if(j+m.w>M)continue;const ae={x:j,y:$,w:m.w,h:m.h};w.find(X=>n.isIntercepted(ae,X))||(m.x===j&&m.y===$||(m._dirty=!0),m.x=j,m.y=$,delete m.autoPosition,I=!0)}return I}addNode(m,w=!1,M){const D=this.nodes.find(H=>H._id===m._id);if(D)return D;let I;return this._inColumnResize?this.nodeBoundFix(m):this.prepareNode(m),delete m._temporaryRemoved,delete m._removeDOM,m.autoPosition&&this.findEmptyPosition(m,this.nodes,this.column,M)&&(delete m.autoPosition,I=!0),this.nodes.push(m),w&&this.addedNodes.push(m),I||this._fixCollisions(m),this.batchMode||this._packNodes()._notify(),m}removeNode(m,w=!0,M=!1){return this.nodes.find(D=>D._id===m._id)?(M&&this.removedNodes.push(m),w&&(m._removeDOM=!0),this.nodes=this.nodes.filter(D=>D._id!==m._id),m._isAboutToRemove||this._packNodes(),this._notify([m]),this):this}removeAll(m=!0,w=!0){if(delete this._layouts,!this.nodes.length)return this;m&&this.nodes.forEach(D=>D._removeDOM=!0);const M=this.nodes;return this.removedNodes=w?M:[],this.nodes=[],this._notify(M)}moveNodeCheck(m,w){if(!this.changedPosConstrain(m,w))return!1;if(w.pack=!0,!this.maxRow)return this.moveNode(m,w);let M;const D=new l({column:this.column,float:this.float,nodes:this.nodes.map(H=>H._id===m._id?(M={...H},M):{...H})});if(!M)return!1;const I=D.moveNode(M,w)&&D.getRow()<=Math.max(this.getRow(),this.maxRow);if(!I&&!w.resizing&&w.collide){const H=w.collide.el.gridstackNode;if(this.swap(m,H))return this._notify(),!0}return!!I&&(D.nodes.filter(H=>H._dirty).forEach(H=>{const j=this.nodes.find($=>$._id===H._id);j&&(n.copyPos(j,H),j._dirty=!0)}),this._notify(),!0)}willItFit(m){if(delete m._willFitPos,!this.maxRow)return!0;const w=new l({column:this.column,float:this.float,nodes:this.nodes.map(D=>({...D}))}),M={...m};return this.cleanupNode(M),delete M.el,delete M._id,delete M.content,delete M.grid,w.addNode(M),w.getRow()<=this.maxRow&&(m._willFitPos=n.copyPos({},M),!0)}changedPosConstrain(m,w){return w.w=w.w||m.w,w.h=w.h||m.h,m.x!==w.x||m.y!==w.y||(m.maxW&&(w.w=Math.min(w.w,m.maxW)),m.maxH&&(w.h=Math.min(w.h,m.maxH)),m.minW&&(w.w=Math.max(w.w,m.minW)),m.minH&&(w.h=Math.max(w.h,m.minH)),m.w!==w.w||m.h!==w.h)}moveNode(m,w){var ae,X;if(!m||!w)return!1;let M;w.pack!==void 0||this.batchMode||(M=w.pack=!0),typeof w.x!="number"&&(w.x=m.x),typeof w.y!="number"&&(w.y=m.y),typeof w.w!="number"&&(w.w=m.w),typeof w.h!="number"&&(w.h=m.h);const D=m.w!==w.w||m.h!==w.h,I=n.copyPos({},m,!0);if(n.copyPos(I,w),this.nodeBoundFix(I,D),n.copyPos(w,I),!w.forceCollide&&n.samePos(m,w))return!1;const H=n.copyPos({},m),j=this.collideAll(m,I,w.skip);let $=!0;if(j.length){const Y=m._moving&&!w.nested;let ue=Y?this.directionCollideCoverage(m,w,j):j[0];if(Y&&ue&&((X=(ae=m.grid)==null?void 0:ae.opts)!=null&&X.subGridDynamic)&&!m.grid._isTemp){const be=n.areaIntercept(w.rect,ue._rect),Oe=n.area(w.rect),me=n.area(ue._rect);be/(Oe<me?Oe:me)>.8&&(ue.grid.makeSubGrid(ue.el,void 0,m),ue=void 0)}ue?$=!this._fixCollisions(m,I,ue,w):($=!1,M&&delete w.pack)}return $&&!n.samePos(m,I)&&(m._dirty=!0,n.copyPos(m,I)),w.pack&&this._packNodes()._notify(),!n.samePos(m,H)}getRow(){return this.nodes.reduce((m,w)=>Math.max(m,w.y+w.h),0)}beginUpdate(m){return m._updating||(m._updating=!0,delete m._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){const m=this.nodes.find(w=>w._updating);return m&&(delete m._updating,delete m._skipDown),this}save(m=!0,w){var H;const M=(H=this._layouts)==null?void 0:H.length,D=M&&this.column!==M-1?this._layouts[M-1]:null,I=[];return this.sortNodes(),this.nodes.forEach(j=>{const $=D==null?void 0:D.find(X=>X._id===j._id),ae={...j,...$||{}};n.removeInternalForSave(ae,!m),w&&w(j,ae),I.push(ae)}),I}layoutsNodesChange(m){return!this._layouts||this._inColumnResize||this._layouts.forEach((w,M)=>{if(!w||M===this.column)return this;if(M<this.column)this._layouts[M]=void 0;else{const D=M/this.column;m.forEach(I=>{if(!I._orig)return;const H=w.find(j=>j._id===I._id);H&&(H.y>=0&&I.y!==I._orig.y&&(H.y+=I.y-I._orig.y),I.x!==I._orig.x&&(H.x=Math.round(I.x*D)),I.w!==I._orig.w&&(H.w=Math.round(I.w*D)))})}}),this}columnChanged(m,w,M="moveScale"){var j;if(!this.nodes.length||!w||m===w)return this;const D=M==="compact"||M==="list";D&&this.sortNodes(1),w<m&&this.cacheLayout(this.nodes,m),this.batchUpdate();let I=[],H=D?this.nodes:n.sort(this.nodes,-1);if(w>m&&this._layouts){const $=this._layouts[w]||[],ae=this._layouts.length-1;!$.length&&m!==ae&&((j=this._layouts[ae])!=null&&j.length)&&(m=ae,this._layouts[ae].forEach(X=>{const Y=H.find(ue=>ue._id===X._id);Y&&(D||X.autoPosition||(Y.x=X.x??Y.x,Y.y=X.y??Y.y),Y.w=X.w??Y.w,X.x!=null&&X.y!==void 0||(Y.autoPosition=!0))})),$.forEach(X=>{const Y=H.findIndex(ue=>ue._id===X._id);if(Y!==-1){const ue=H[Y];if(D)return void(ue.w=X.w);(X.autoPosition||isNaN(X.x)||isNaN(X.y))&&this.findEmptyPosition(X,I),X.autoPosition||(ue.x=X.x??ue.x,ue.y=X.y??ue.y,ue.w=X.w??ue.w,I.push(ue)),H.splice(Y,1)}})}if(D)this.compact(M,!1);else{if(H.length)if(typeof M=="function")M(w,m,I,H);else{const $=D||M==="none"?1:w/m,ae=M==="move"||M==="moveScale",X=M==="scale"||M==="moveScale";H.forEach(Y=>{Y.x=w===1?0:ae?Math.round(Y.x*$):Math.min(Y.x,w-1),Y.w=w===1||m===1?1:X?Math.round(Y.w*$)||1:Math.min(Y.w,w),I.push(Y)}),H=[]}I=n.sort(I,-1),this._inColumnResize=!0,this.nodes=[],I.forEach($=>{this.addNode($,!1),delete $._orig})}return this.nodes.forEach($=>delete $._orig),this.batchUpdate(!1,!D),delete this._inColumnResize,this}cacheLayout(m,w,M=!1){const D=[];return m.forEach((I,H)=>{if(I._id===void 0){const j=I.id?this.nodes.find($=>$.id===I.id):void 0;I._id=(j==null?void 0:j._id)??l._idSeq++}D[H]={x:I.x,y:I.y,w:I.w,_id:I._id}}),this._layouts=M?[]:this._layouts||[],this._layouts[w]=D,this}cacheOneLayout(m,w){m._id=m._id??l._idSeq++;const M={x:m.x,y:m.y,w:m.w,_id:m._id};(m.autoPosition||m.x===void 0)&&(delete M.x,delete M.y,m.autoPosition&&(M.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[w]=this._layouts[w]||[];const D=this.findCacheLayout(m,w);return D===-1?this._layouts[w].push(M):this._layouts[w][D]=M,this}findCacheLayout(m,w){var M,D;return((D=(M=this._layouts)==null?void 0:M[w])==null?void 0:D.findIndex(I=>I._id===m._id))??-1}removeNodeFromLayoutCache(m){if(this._layouts)for(let w=0;w<this._layouts.length;w++){const M=this.findCacheLayout(m,w);M!==-1&&this._layouts[w].splice(M,1)}}cleanupNode(m){for(const w in m)w[0]==="_"&&w!=="_id"&&delete m[w];return this}}l._idSeq=0;const a={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"};class h{}const d=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class f{}function g(N,m){N.touches.length>1||(N.cancelable&&N.preventDefault(),n.simulateMouseEvent(N.changedTouches[0],m))}function v(N,m){N.cancelable&&N.preventDefault(),n.simulateMouseEvent(N,m)}function x(N){f.touchHandled||(f.touchHandled=!0,g(N,"mousedown"))}function b(N){f.touchHandled&&g(N,"mousemove")}function C(N){if(!f.touchHandled)return;f.pointerLeaveTimeout&&(window.clearTimeout(f.pointerLeaveTimeout),delete f.pointerLeaveTimeout);const m=!!h.dragElement;g(N,"mouseup"),m||g(N,"click"),f.touchHandled=!1}function O(N){N.pointerType!=="mouse"&&N.target.releasePointerCapture(N.pointerId)}function P(N){h.dragElement&&N.pointerType!=="mouse"&&v(N,"mouseenter")}function L(N){h.dragElement&&N.pointerType!=="mouse"&&(f.pointerLeaveTimeout=window.setTimeout(()=>{delete f.pointerLeaveTimeout,v(N,"mouseleave")},10))}class u{constructor(m,w,M){this.host=m,this.dir=w,this.option=M,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const m=this.el=document.createElement("div");return m.classList.add("ui-resizable-handle"),m.classList.add(`${u.prefix}${this.dir}`),m.style.zIndex="100",m.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),d&&(this.el.addEventListener("touchstart",x),this.el.addEventListener("pointerdown",O)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),d&&(this.el.removeEventListener("touchstart",x),this.el.removeEventListener("pointerdown",O)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(m){this.mouseDownEvent=m,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),d&&(this.el.addEventListener("touchmove",b),this.el.addEventListener("touchend",C)),m.stopPropagation(),m.preventDefault()}_mouseMove(m){const w=this.mouseDownEvent;this.moving?this._triggerEvent("move",m):Math.abs(m.x-w.x)+Math.abs(m.y-w.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",m),document.addEventListener("keydown",this._keyEvent)),m.stopPropagation()}_mouseUp(m){this.moving&&(this._triggerEvent("stop",m),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),d&&(this.el.removeEventListener("touchmove",b),this.el.removeEventListener("touchend",C)),delete this.moving,delete this.mouseDownEvent,m.stopPropagation(),m.preventDefault()}_keyEvent(m){var w,M;m.key==="Escape"&&((M=(w=this.host.gridstackNode)==null?void 0:w.grid)==null||M.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(m,w){return this.option[m]&&this.option[m](w),this}}u.prefix="ui-resizable-";class S{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(m,w){this._eventRegister[m]=w}off(m){delete this._eventRegister[m]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(m,w){if(!this.disabled&&this._eventRegister&&this._eventRegister[m])return this._eventRegister[m](w)}}class y extends S{constructor(m,w={}){super(),this.el=m,this.option=w,this.rectScale={x:1,y:1},this._ui=()=>{const M=this.el.parentElement.getBoundingClientRect(),D={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},I=this.temporalRect||D;return{position:{left:(I.left-M.left)*this.rectScale.x,top:(I.top-M.top)*this.rectScale.y},size:{width:I.width*this.rectScale.x,height:I.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(m,w){super.on(m,w)}off(m){super.off(m)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(m){const w=m.handles&&m.handles!==this.option.handles,M=m.autoHide&&m.autoHide!==this.option.autoHide;return Object.keys(m).forEach(D=>this.option[D]=m[D]),w&&(this._removeHandlers(),this._setupHandlers()),M&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(m){return m?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),h.overResizeElement===this&&delete h.overResizeElement),this}_mouseOver(m){h.overResizeElement||h.dragElement||(h.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(m){h.overResizeElement===this&&(delete h.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map(m=>m.trim()).map(m=>new u(this.el,m,{start:w=>{this._resizeStart(w)},stop:w=>{this._resizeStop(w)},move:w=>{this._resizing(w,m)}})),this}_resizeStart(m){this.sizeToContent=n.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=n.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=m,this._setupHelper(),this._applyChange();const w=n.initEvent(m,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(w,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",w),this}_resizing(m,w){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(m,w),this._applyChange();const M=n.initEvent(m,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(M,this._ui()),this.triggerEvent("resize",M),this}_resizeStop(m){const w=n.initEvent(m,{type:"resizestop",target:this.el});return this._cleanHelper(),this.option.stop&&this.option.stop(w),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",w),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=y._originStyleProp.map(M=>this.el.style[M]),this.parentOriginStylePosition=this.el.parentElement.style.position;const m=this.el.parentElement,w=n.getValuesFromTransformedElement(m);return this.rectScale={x:w.xScale,y:w.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return y._originStyleProp.forEach((m,w)=>{this.el.style[m]=this.elOriginStyleVal[w]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(m,w){const M=this.startEvent,D={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},I=m.clientX-M.clientX,H=this.sizeToContent?0:m.clientY-M.clientY;let j,$;w.indexOf("e")>-1?D.width+=I:w.indexOf("w")>-1&&(D.width-=I,D.left+=I,j=!0),w.indexOf("s")>-1?D.height+=H:w.indexOf("n")>-1&&(D.height-=H,D.top+=H,$=!0);const ae=this._constrainSize(D.width,D.height,j,$);return Math.round(D.width)!==Math.round(ae.width)&&(w.indexOf("w")>-1&&(D.left+=D.width-ae.width),D.width=ae.width),Math.round(D.height)!==Math.round(ae.height)&&(w.indexOf("n")>-1&&(D.top+=D.height-ae.height),D.height=ae.height),D}_constrainSize(m,w,M,D){const I=this.option,H=(M?I.maxWidthMoveLeft:I.maxWidth)||Number.MAX_SAFE_INTEGER,j=I.minWidth/this.rectScale.x||m,$=(D?I.maxHeightMoveUp:I.maxHeight)||Number.MAX_SAFE_INTEGER,ae=I.minHeight/this.rectScale.y||w;return{width:Math.min(H,Math.max(j,m)),height:Math.min($,Math.max(ae,w))}}_applyChange(){let m={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const w=this.el.parentElement,{left:M,top:D}=w.getBoundingClientRect();m={left:M,top:D,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(w=>{const M=this.temporalRect[w],D=w==="width"||w==="left"?this.rectScale.x:w==="height"||w==="top"?this.rectScale.y:1;this.el.style[w]=(M-m[w])*D+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(m=>m.destroy()),delete this.handlers,this}}y._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class k extends S{constructor(m,w={}){var I;super(),this.el=m,this.option=w,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const M=(I=w==null?void 0:w.handle)==null?void 0:I.substring(1),D=m.gridstackNode;this.dragEls=!M||m.classList.contains(M)?[m]:D!=null&&D.subGrid?[m.querySelector(w.handle)||m]:Array.from(m.querySelectorAll(w.handle)),this.dragEls.length===0&&(this.dragEls=[m]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(m,w){super.on(m,w)}off(m){super.off(m)}enable(){this.disabled!==!1&&(super.enable(),this.dragEls.forEach(m=>{m.addEventListener("mousedown",this._mouseDown),d&&(m.addEventListener("touchstart",x),m.addEventListener("pointerdown",O))}),this.el.classList.remove("ui-draggable-disabled"))}disable(m=!1){this.disabled!==!0&&(super.disable(),this.dragEls.forEach(w=>{w.removeEventListener("mousedown",this._mouseDown),d&&(w.removeEventListener("touchstart",x),w.removeEventListener("pointerdown",O))}),m||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(m){return Object.keys(m).forEach(w=>this.option[w]=m[w]),this}_mouseDown(m){if(!h.mouseHandled)return m.button!==0||!this.dragEls.find(w=>w===m.target)&&m.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&m.target.closest(this.option.cancel)||(this.mouseDownEvent=m,delete this.dragging,delete h.dragElement,delete h.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),d&&(m.currentTarget.addEventListener("touchmove",b),m.currentTarget.addEventListener("touchend",C)),m.preventDefault(),document.activeElement&&document.activeElement.blur(),h.mouseHandled=!0),!0}_callDrag(m){if(!this.dragging)return;const w=n.initEvent(m,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(w,this.ui()),this.triggerEvent("drag",w)}_mouseMove(m){var M;const w=this.mouseDownEvent;if(this.lastDrag=m,this.dragging)if(this._dragFollow(m),h.pauseDrag){const D=Number.isInteger(h.pauseDrag)?h.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>this._callDrag(m),D)}else this._callDrag(m);else if(Math.abs(m.x-w.x)+Math.abs(m.y-w.y)>3){this.dragging=!0,h.dragElement=this;const D=(M=this.el.gridstackNode)==null?void 0:M.grid;D?h.dropElement=D.el.ddElement.ddDroppable:delete h.dropElement,this.helper=this._createHelper(),this._setupHelperContainmentStyle(),this.dragTransform=n.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(m,this.el,this.helperContainment),this._setupHelperStyle(m);const I=n.initEvent(m,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(I,this.ui()),this.triggerEvent("dragstart",I),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(m){var w,M;if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),d&&m.currentTarget&&(m.currentTarget.removeEventListener("touchmove",b,!0),m.currentTarget.removeEventListener("touchend",C,!0)),this.dragging){delete this.dragging,(w=this.el.gridstackNode)==null||delete w._origRotate,document.removeEventListener("keydown",this._keyEvent),((M=h.dropElement)==null?void 0:M.el)===this.el.parentElement&&delete h.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper!==this.el&&this.helper.remove(),this._removeHelperStyle();const D=n.initEvent(m,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(D),this.triggerEvent("dragstop",D),h.dropElement&&h.dropElement.drop(m)}delete this.helper,delete this.mouseDownEvent,delete h.dragElement,delete h.dropElement,delete h.mouseHandled,m.preventDefault()}_keyEvent(m){var D,I;const w=this.el.gridstackNode,M=(w==null?void 0:w.grid)||((I=(D=h.dropElement)==null?void 0:D.el)==null?void 0:I.gridstack);if(m.key==="Escape")w&&w._origRotate&&(w._orig=w._origRotate,delete w._origRotate),M==null||M.cancelDrag(),this._mouseUp(this.mouseDownEvent);else if(w&&M&&(m.key==="r"||m.key==="R")){if(!n.canBeRotated(w))return;w._origRotate=w._origRotate||{...w._orig},delete w._moving,M.setAnimation(!1).rotate(w.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),w._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,w.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",n.swap(w._orig,"w","h"),delete w._rect,this._mouseMove(this.lastDrag)}}_createHelper(){let m=this.el;return typeof this.option.helper=="function"?m=this.option.helper(this.el):this.option.helper==="clone"&&(m=n.cloneNode(this.el)),m.parentElement||n.appendTo(m,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),this.dragElementOriginStyle=k.originStyleProp.map(w=>this.el.style[w]),m}_setupHelperStyle(m){this.helper.classList.add("ui-draggable-dragging");const w=this.helper.style;return w.pointerEvents="none",w.width=this.dragOffset.width+"px",w.height=this.dragOffset.height+"px",w.willChange="left, top",w.position="fixed",this._dragFollow(m),w.transition="none",setTimeout(()=>{this.helper&&(w.transition=null)},0),this}_removeHelperStyle(){var w;this.helper.classList.remove("ui-draggable-dragging");const m=(w=this.helper)==null?void 0:w.gridstackNode;if(!(m!=null&&m._isAboutToRemove)&&this.dragElementOriginStyle){const M=this.helper,D=this.dragElementOriginStyle.transition||null;M.style.transition=this.dragElementOriginStyle.transition="none",k.originStyleProp.forEach(I=>M.style[I]=this.dragElementOriginStyle[I]||null),setTimeout(()=>M.style.transition=D,50)}return delete this.dragElementOriginStyle,this}_dragFollow(m){const w=this.helper.style,M=this.dragOffset;w.left=(m.clientX+M.offsetLeft-0)*this.dragTransform.xScale+"px",w.top=(m.clientY+M.offsetTop-0)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(m,w,M){let D=0,I=0;M&&(D=this.dragTransform.xOffset,I=this.dragTransform.yOffset);const H=w.getBoundingClientRect();return{left:H.left,top:H.top,offsetLeft:-m.clientX+H.left-D,offsetTop:-m.clientY+H.top-I,width:H.width*this.dragTransform.xScale,height:H.height*this.dragTransform.yScale}}ui(){const m=this.el.parentElement.getBoundingClientRect(),w=this.helper.getBoundingClientRect();return{position:{top:(w.top-m.top)*this.dragTransform.yScale,left:(w.left-m.left)*this.dragTransform.xScale}}}}k.originStyleProp=["width","height","transform","transform-origin","transition","pointerEvents","position","left","top","minWidth","willChange"];class T extends S{constructor(m,w={}){super(),this.el=m,this.option=w,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(m,w){super.on(m,w)}off(m){super.off(m)}enable(){this.disabled!==!1&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),d&&(this.el.addEventListener("pointerenter",P),this.el.addEventListener("pointerleave",L)))}disable(m=!1){this.disabled!==!0&&(super.disable(),this.el.classList.remove("ui-droppable"),m||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),d&&(this.el.removeEventListener("pointerenter",P),this.el.removeEventListener("pointerleave",L)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(m){return Object.keys(m).forEach(w=>this.option[w]=m[w]),this._setupAccept(),this}_mouseEnter(m){if(!h.dragElement||!this._canDrop(h.dragElement.el))return;m.preventDefault(),m.stopPropagation(),h.dropElement&&h.dropElement!==this&&h.dropElement._mouseLeave(m,!0),h.dropElement=this;const w=n.initEvent(m,{target:this.el,type:"dropover"});this.option.over&&this.option.over(w,this._ui(h.dragElement)),this.triggerEvent("dropover",w),this.el.classList.add("ui-droppable-over")}_mouseLeave(m,w=!1){var D;if(!h.dragElement||h.dropElement!==this)return;m.preventDefault(),m.stopPropagation();const M=n.initEvent(m,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(M,this._ui(h.dragElement)),this.triggerEvent("dropout",M),h.dropElement===this&&(delete h.dropElement,!w)){let I,H=this.el.parentElement;for(;!I&&H;)I=(D=H.ddElement)==null?void 0:D.ddDroppable,H=H.parentElement;I&&I._mouseEnter(m)}}drop(m){m.preventDefault();const w=n.initEvent(m,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(w,this._ui(h.dragElement)),this.triggerEvent("drop",w)}_canDrop(m){return m&&(!this.accept||this.accept(m))}_setupAccept(){return this.option.accept?(typeof this.option.accept=="string"?this.accept=m=>m.classList.contains(this.option.accept)||m.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(m){return{draggable:m.el,...m.ui()}}}class A{static init(m){return m.ddElement||(m.ddElement=new A(m)),m.ddElement}constructor(m){this.el=m}on(m,w){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(m)>-1?this.ddDraggable.on(m,w):this.ddDroppable&&["drop","dropover","dropout"].indexOf(m)>-1?this.ddDroppable.on(m,w):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(m)>-1&&this.ddResizable.on(m,w),this}off(m){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(m)>-1?this.ddDraggable.off(m):this.ddDroppable&&["drop","dropover","dropout"].indexOf(m)>-1?this.ddDroppable.off(m):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(m)>-1&&this.ddResizable.off(m),this}setupDraggable(m){return this.ddDraggable?this.ddDraggable.updateOption(m):this.ddDraggable=new k(this.el,m),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(m){return this.ddResizable?this.ddResizable.updateOption(m):this.ddResizable=new y(this.el,m),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(m){return this.ddDroppable?this.ddDroppable.updateOption(m):this.ddDroppable=new T(this.el,m),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const F=new class{resizable(N,m,w,M){return this._getDDElements(N,m).forEach(D=>{if(m==="disable"||m==="enable")D.ddResizable&&D.ddResizable[m]();else if(m==="destroy")D.ddResizable&&D.cleanResizable();else if(m==="option")D.setupResizable({[w]:M});else{const I=D.el.gridstackNode.grid;let H=D.el.getAttribute("gs-resize-handles")||I.opts.resizable.handles||"e,s,se";H==="all"&&(H="n,e,s,w,se,sw,ne,nw");const j=!I.opts.alwaysShowResizeHandle;D.setupResizable({...I.opts.resizable,handles:H,autoHide:j,start:m.start,stop:m.stop,resize:m.resize})}}),this}draggable(N,m,w,M){return this._getDDElements(N,m).forEach(D=>{if(m==="disable"||m==="enable")D.ddDraggable&&D.ddDraggable[m]();else if(m==="destroy")D.ddDraggable&&D.cleanDraggable();else if(m==="option")D.setupDraggable({[w]:M});else{const I=D.el.gridstackNode.grid;D.setupDraggable({...I.opts.draggable,start:m.start,stop:m.stop,drag:m.drag})}}),this}dragIn(N,m){return this._getDDElements(N).forEach(w=>w.setupDraggable(m)),this}droppable(N,m,w,M){return typeof m.accept!="function"||m._accept||(m._accept=m.accept,m.accept=D=>m._accept(D)),this._getDDElements(N,m).forEach(D=>{m==="disable"||m==="enable"?D.ddDroppable&&D.ddDroppable[m]():m==="destroy"?D.ddDroppable&&D.cleanDroppable():m==="option"?D.setupDroppable({[w]:M}):D.setupDroppable(m)}),this}isDroppable(N){var m;return!(!((m=N==null?void 0:N.ddElement)!=null&&m.ddDroppable)||N.ddElement.ddDroppable.disabled)}isDraggable(N){var m;return!(!((m=N==null?void 0:N.ddElement)!=null&&m.ddDraggable)||N.ddElement.ddDraggable.disabled)}isResizable(N){var m;return!(!((m=N==null?void 0:N.ddElement)!=null&&m.ddResizable)||N.ddElement.ddResizable.disabled)}on(N,m,w){return this._getDDElements(N).forEach(M=>M.on(m,D=>{w(D,h.dragElement?h.dragElement.el:D.target,h.dragElement?h.dragElement.helper:null)})),this}off(N,m){return this._getDDElements(N).forEach(w=>w.off(m)),this}_getDDElements(N,m){const w=N.gridstack||m!=="destroy"&&m!=="disable",M=n.getElements(N);return M.length?M.map(D=>D.ddElement||(w?A.init(D):null)).filter(D=>D):[]}};class z{static init(m={},w=".grid-stack"){if(typeof document>"u")return null;const M=z.getGridElement(w);return M?(M.gridstack||(M.gridstack=new z(M,n.cloneDeep(m))),M.gridstack):(console.error(typeof w=="string"?'GridStack.initAll() no grid was found with selector "'+w+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(m={},w=".grid-stack"){const M=[];return typeof document>"u"||(z.getGridElements(w).forEach(D=>{D.gridstack||(D.gridstack=new z(D,n.cloneDeep(m))),M.push(D.gridstack)}),M.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+w+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),M}static addGrid(m,w={}){if(!m)return null;let M=m;if(M.gridstack){const D=M.gridstack;return w&&(D.opts={...D.opts,...w}),w.children!==void 0&&D.load(w.children),D}return m.classList.contains("grid-stack")&&!z.addRemoveCB||(M=z.addRemoveCB?z.addRemoveCB(m,w,!0,!0):n.createDiv(["grid-stack",w.class],m)),z.init(w,M)}static registerEngine(m){z.engineClass=m}get placeholder(){if(!this._placeholder){this._placeholder=n.createDiv([this.opts.placeholderClass,a.itemClass,this.opts.itemClass]);const m=n.createDiv(["placeholder-content"],this._placeholder);this.opts.placeholderText&&(m.textContent=this.opts.placeholderText)}return this._placeholder}constructor(m,w={}){var ae;this.el=m,this.opts=w,this.animationDelay=310,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},m.gridstack=this,this.opts=w=w||{},m.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),w.row&&(w.minRow=w.maxRow=w.row,delete w.row);const M=n.toNumber(m.getAttribute("gs-row"));w.column==="auto"&&delete w.column,w.alwaysShowResizeHandle!==void 0&&(w._alwaysShowResizeHandle=w.alwaysShowResizeHandle);const D=w.columnOpts;if(D){const X=D.breakpoints;D.columnWidth||X!=null&&X.length?(D.columnMax=D.columnMax||12,(X==null?void 0:X.length)>1&&X.sort((Y,ue)=>(ue.w||0)-(Y.w||0))):delete w.columnOpts}const I={...n.cloneDeep(a),column:n.toNumber(m.getAttribute("gs-column"))||a.column,minRow:M||n.toNumber(m.getAttribute("gs-min-row"))||a.minRow,maxRow:M||n.toNumber(m.getAttribute("gs-max-row"))||a.maxRow,staticGrid:n.toBool(m.getAttribute("gs-static"))||a.staticGrid,sizeToContent:n.toBool(m.getAttribute("gs-size-to-content"))||void 0,draggable:{handle:(w.handleClass?"."+w.handleClass:w.handle?w.handle:"")||a.draggable.handle},removableOptions:{accept:w.itemClass||a.removableOptions.accept,decline:a.removableOptions.decline}};m.getAttribute("gs-animate")&&(I.animate=n.toBool(m.getAttribute("gs-animate"))),w=n.defaults(w,I),this._initMargin(),this.checkDynamicColumn(),this._updateColumnVar(w),w.rtl==="auto"&&(w.rtl=m.style.direction==="rtl"),w.rtl&&this.el.classList.add("grid-stack-rtl");const H=this.el.closest("."+a.itemClass),j=H==null?void 0:H.gridstackNode;if(j&&(j.subGrid=this,this.parentGridNode=j,this.el.classList.add("grid-stack-nested"),j.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=w.cellHeight==="auto",this._isAutoCellHeight||w.cellHeight==="initial")this.cellHeight(void 0);else{typeof w.cellHeight=="number"&&w.cellHeightUnit&&w.cellHeightUnit!==a.cellHeightUnit&&(w.cellHeight=w.cellHeight+w.cellHeightUnit,delete w.cellHeightUnit);const X=w.cellHeight;delete w.cellHeight,this.cellHeight(X)}w.alwaysShowResizeHandle==="mobile"&&(w.alwaysShowResizeHandle=d),this._setStaticClass();const $=w.engineClass||z.engineClass||l;if(this.engine=new $({column:this.getColumn(),float:w.float,maxRow:w.maxRow,onChange:X=>{X.forEach(Y=>{const ue=Y.el;ue&&(Y._removeDOM?(ue&&ue.remove(),delete Y._removeDOM):this._writePosAttr(ue,Y))}),this._updateContainerHeight()}}),w.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach(X=>this._prepareElement(X)),delete this.engine._loading,this.batchUpdate(!1)),w.children){const X=w.children;delete w.children,X.length&&this.load(X)}this.setAnimation(),w.subGridDynamic&&!h.pauseDrag&&(h.pauseDrag=!0),((ae=w.draggable)==null?void 0:ae.pause)!==void 0&&(h.pauseDrag=w.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}_updateColumnVar(m=this.opts){this.el.classList.add("gs-"+m.column),typeof m.column=="number"&&this.el.style.setProperty("--gs-column-width",100/m.column+"%")}addWidget(m){if(typeof m=="string")return void console.error("V11: GridStack.addWidget() does not support string anymore. see #2736");if(m.ELEMENT_NODE)return console.error("V11: GridStack.addWidget() does not support HTMLElement anymore. use makeWidget()"),this.makeWidget(m);let w,M=m;if(M.grid=this,w=M!=null&&M.el?M.el:z.addRemoveCB?z.addRemoveCB(this.el,m,!0,!1):this.createWidgetDivs(M),!w)return;if(M=w.gridstackNode,M&&w.parentElement===this.el&&this.engine.nodes.find(I=>I._id===M._id))return w;const D=this._readAttr(w);return n.defaults(m,D),this.engine.prepareNode(m),this.el.appendChild(w),this.makeWidget(w,m),w}createWidgetDivs(m){const w=n.createDiv(["grid-stack-item",this.opts.itemClass]),M=n.createDiv(["grid-stack-item-content"],w);return n.lazyLoad(m)?m.visibleObservable||(m.visibleObservable=new IntersectionObserver(([D])=>{var I,H;D.isIntersecting&&((I=m.visibleObservable)==null||I.disconnect(),delete m.visibleObservable,z.renderCB(M,m),(H=m.grid)==null||H.prepareDragDrop(m.el))}),window.setTimeout(()=>{var D;return(D=m.visibleObservable)==null?void 0:D.observe(w)})):z.renderCB(M,m),w}makeSubGrid(m,w,M,D=!0){var be,Oe,me;let I,H=m.gridstackNode;if(H||(H=this.makeWidget(m).gridstackNode),(be=H.subGrid)==null?void 0:be.el)return H.subGrid;let j,$=this;for(;$&&!I;)I=(Oe=$.opts)==null?void 0:Oe.subGridOpts,$=(me=$.parentGridNode)==null?void 0:me.grid;w=n.cloneDeep({...this.opts,id:void 0,children:void 0,column:"auto",columnOpts:void 0,layout:"list",subGridOpts:void 0,...I||{},...w||H.subGridOpts||{}}),H.subGridOpts=w,w.column==="auto"&&(j=!0,w.column=Math.max(H.w||1,(M==null?void 0:M.w)||1),delete w.columnOpts);let ae,X,Y=H.el.querySelector(".grid-stack-item-content");if(D&&(this._removeDD(H.el),X={...H,x:0,y:0},n.removeInternalForSave(X),delete X.subGridOpts,H.content&&(X.content=H.content,delete H.content),z.addRemoveCB?ae=z.addRemoveCB(this.el,X,!0,!1):(ae=n.createDiv(["grid-stack-item"]),ae.appendChild(Y),Y=n.createDiv(["grid-stack-item-content"],H.el)),this.prepareDragDrop(H.el)),M){const xe=j?w.column:H.w,Ae=H.h+M.h,$e=H.el.style;$e.transition="none",this.update(H.el,{w:xe,h:Ae}),setTimeout(()=>$e.transition=null)}const ue=H.subGrid=z.addGrid(Y,w);return M!=null&&M._moving&&(ue._isTemp=!0),j&&(ue._autoColumn=!0),D&&ue.makeWidget(ae,X),M&&(M._moving?window.setTimeout(()=>n.simulateMouseEvent(M._event,"mouseenter",ue.el),0):ue.makeWidget(H.el,H)),this.resizeToContentCheck(!1,H),ue}removeAsSubGrid(m){var M;const w=(M=this.parentGridNode)==null?void 0:M.grid;w&&(w.batchUpdate(),w.removeWidget(this.parentGridNode.el,!0,!0),this.engine.nodes.forEach(D=>{D.x+=this.parentGridNode.x,D.y+=this.parentGridNode.y,w.makeWidget(D.el,D)}),w.batchUpdate(!1),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,m&&window.setTimeout(()=>n.simulateMouseEvent(m._event,"mouseenter",w.el),0))}save(m=!0,w=!1,M=z.saveCB){const D=this.engine.save(m,M);if(D.forEach(I=>{var H;if(m&&I.el&&!I.subGrid&&!M){const j=I.el.querySelector(".grid-stack-item-content");I.content=j==null?void 0:j.innerHTML,I.content||delete I.content}else if(m||M||delete I.content,(H=I.subGrid)==null?void 0:H.el){const j=I.subGrid.save(m,w,M);I.subGridOpts=w?j:{children:j},delete I.subGrid}delete I.el}),w){const I=n.cloneDeep(this.opts);I.marginBottom===I.marginTop&&I.marginRight===I.marginLeft&&I.marginTop===I.marginRight&&(I.margin=I.marginTop,delete I.marginTop,delete I.marginRight,delete I.marginBottom,delete I.marginLeft),I.rtl===(this.el.style.direction==="rtl")&&(I.rtl="auto"),this._isAutoCellHeight&&(I.cellHeight="auto"),this._autoColumn&&(I.column="auto");const H=I._alwaysShowResizeHandle;return delete I._alwaysShowResizeHandle,H!==void 0?I.alwaysShowResizeHandle=H:delete I.alwaysShowResizeHandle,n.removeInternalAndSame(I,a),I.children=D,I}return D}load(m,w=z.addRemoveCB||!0){var ae;m=n.cloneDeep(m);const M=this.getColumn();m.forEach(X=>{X.w=X.w||1,X.h=X.h||1}),m=n.sort(m),this.engine.skipCacheUpdate=this._ignoreLayoutsNodeChange=!0;let D=0;m.forEach(X=>{D=Math.max(D,(X.x||0)+X.w)}),D>this.engine.defaultColumn&&(this.engine.defaultColumn=D),D>M&&(this.engine.nodes.length===0&&this.responseLayout?(this.engine.nodes=m,this.engine.columnChanged(D,M,this.responseLayout),m=this.engine.nodes,this.engine.nodes=[],delete this.responseLayout):this.engine.cacheLayout(m,D,!0));const I=z.addRemoveCB;typeof w=="function"&&(z.addRemoveCB=w);const H=[];this.batchUpdate();const j=!this.engine.nodes.length;j&&this.setAnimation(!1),!j&&w&&[...this.engine.nodes].forEach(X=>{X.id&&(n.find(m,X.id)||(z.addRemoveCB&&z.addRemoveCB(this.el,X,!1,!1),H.push(X),this.removeWidget(X.el,!0,!1)))}),this.engine._loading=!0;const $=[];return this.engine.nodes=this.engine.nodes.filter(X=>!n.find(m,X.id)||($.push(X),!1)),m.forEach(X=>{var ue;const Y=n.find($,X.id);if(Y){if(n.shouldSizeToContent(Y)&&(X.h=Y.h),this.engine.nodeBoundFix(X),(X.autoPosition||X.x===void 0||X.y===void 0)&&(X.w=X.w||Y.w,X.h=X.h||Y.h,this.engine.findEmptyPosition(X)),this.engine.nodes.push(Y),n.samePos(Y,X)&&this.engine.nodes.length>1&&(this.moveNode(Y,{...X,forceCollide:!0}),n.copyPos(X,Y)),this.update(Y.el,X),(ue=X.subGridOpts)==null?void 0:ue.children){const be=Y.el.querySelector(".grid-stack");be&&be.gridstack&&be.gridstack.load(X.subGridOpts.children)}}else w&&this.addWidget(X)}),delete this.engine._loading,this.engine.removedNodes=H,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this.engine.skipCacheUpdate,I?z.addRemoveCB=I:delete z.addRemoveCB,j&&((ae=this.opts)!=null&&ae.animate)&&this.setAnimation(this.opts.animate,!0),this}batchUpdate(m=!0){return this.engine.batchUpdate(m),m||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(m=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!m||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;const w=this.el.querySelector("."+this.opts.itemClass);if(w){const D=n.toNumber(w.getAttribute("gs-h"))||1;return Math.round(w.offsetHeight/D)}const M=parseInt(this.el.getAttribute("gs-current-row"));return M?Math.round(this.el.getBoundingClientRect().height/M):this.opts.cellHeight}cellHeight(m){if(m!==void 0&&this._isAutoCellHeight!==(m==="auto")&&(this._isAutoCellHeight=m==="auto",this._updateResizeEvent()),m!=="initial"&&m!=="auto"||(m=void 0),m===void 0){const M=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;m=this.cellWidth()+M}const w=n.parseHeight(m);return this.opts.cellHeightUnit===w.unit&&this.opts.cellHeight===w.h||(this.opts.cellHeightUnit=w.unit,this.opts.cellHeight=w.h,this.el.style.setProperty("--gs-cell-height",`${this.opts.cellHeight}${this.opts.cellHeightUnit}`),this._updateContainerHeight(),this.resizeToContentCheck()),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(m=!1){var w;return m&&((w=this.opts.columnOpts)!=null&&w.breakpointForWindow)?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){var I,H;const m=this.opts.columnOpts;if(!m||!m.columnWidth&&!((I=m.breakpoints)!=null&&I.length))return!1;const w=this.getColumn();let M=w;const D=this._widthOrContainer(!0);if(m.columnWidth)M=Math.min(Math.round(D/m.columnWidth)||1,m.columnMax);else{M=m.columnMax;let j=0;for(;j<m.breakpoints.length&&D<=m.breakpoints[j].w;)M=m.breakpoints[j++].c||w}if(M!==w){const j=(H=m.breakpoints)==null?void 0:H.find($=>$.c===M);return this.column(M,(j==null?void 0:j.layout)||m.layout),!0}return!1}compact(m="compact",w=!0){return this.engine.compact(m,w),this._triggerChangeEvent(),this}column(m,w="moveScale"){if(!m||m<1||this.opts.column===m)return this;const M=this.getColumn();return this.opts.column=m,this.engine?(this.engine.column=m,this.el.classList.remove("gs-"+M),this._updateColumnVar(),this.engine.columnChanged(M,m,w),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):(this.responseLayout=w,this)}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(m=>m.matches("."+this.opts.itemClass)&&!m.matches("."+this.opts.placeholderClass))}isIgnoreChangeCB(){return this._ignoreLayoutsNodeChange}destroy(m=!0){var w;if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),m?this.el.parentNode.removeChild(this.el):(this.removeAll(m),this.el.removeAttribute("gs-current-row")),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,delete this.opts,(w=this._placeholder)==null||delete w.gridstackNode,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(m){return this.opts.float!==m&&(this.opts.float=this.engine.float=m,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(m,w=!1){const M=this.el.getBoundingClientRect();let D;D=w?{top:M.top+document.documentElement.scrollTop,left:M.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};const I=m.left-D.left,H=m.top-D.top,j=M.width/this.getColumn(),$=M.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(I/j),y:Math.floor(H/$)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow||0)}isAreaEmpty(m,w,M,D){return this.engine.isAreaEmpty(m,w,M,D)}makeWidget(m,w){const M=z.getElement(m);if(!M||M.gridstackNode)return M;M.parentElement||this.el.appendChild(M),this._prepareElement(M,!0,w);const D=M.gridstackNode;let I;return this._updateContainerHeight(),D.subGridOpts&&this.makeSubGrid(M,D.subGridOpts,void 0,!1),this.opts.column!==1||this._ignoreLayoutsNodeChange||(I=this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),I&&delete this._ignoreLayoutsNodeChange,M}on(m,w){if(m.indexOf(" ")!==-1)return m.split(" ").forEach(M=>this.on(M,w)),this;if(m==="change"||m==="added"||m==="removed"||m==="enable"||m==="disable"){const M=m==="enable"||m==="disable";this._gsEventHandler[m]=M?D=>w(D):D=>{D.detail&&w(D,D.detail)},this.el.addEventListener(m,this._gsEventHandler[m])}else m==="drag"||m==="dragstart"||m==="dragstop"||m==="resizestart"||m==="resize"||m==="resizestop"||m==="dropped"||m==="resizecontent"?this._gsEventHandler[m]=w:console.error("GridStack.on("+m+") event not supported");return this}off(m){return m.indexOf(" ")!==-1?(m.split(" ").forEach(w=>this.off(w)),this):(m!=="change"&&m!=="added"&&m!=="removed"&&m!=="enable"&&m!=="disable"||this._gsEventHandler[m]&&this.el.removeEventListener(m,this._gsEventHandler[m]),delete this._gsEventHandler[m],this)}offAll(){return Object.keys(this._gsEventHandler).forEach(m=>this.off(m)),this}removeWidget(m,w=!0,M=!0){return m?(z.getElements(m).forEach(D=>{if(D.parentElement&&D.parentElement!==this.el)return;let I=D.gridstackNode;I||(I=this.engine.nodes.find(H=>D===H.el)),I&&(w&&z.addRemoveCB&&z.addRemoveCB(this.el,I,!1,!1),delete D.gridstackNode,this._removeDD(D),this.engine.removeNode(I,w,M),w&&D.parentElement&&D.remove())}),M&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this):(console.error("Error: GridStack.removeWidget(undefined) called"),this)}removeAll(m=!0,w=!0){return this.engine.nodes.forEach(M=>{m&&z.addRemoveCB&&z.addRemoveCB(this.el,M,!1,!1),delete M.el.gridstackNode,this.opts.staticGrid||this._removeDD(M.el)}),this.engine.removeAll(m,w),w&&this._triggerRemoveEvent(),this}setAnimation(m=this.opts.animate,w){return w?setTimeout(()=>{this.opts&&this.setAnimation(m)}):m?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this.opts.animate=m,this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(m,w=!0,M=!0){return!!this.opts.staticGrid===m||(m?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(D=>{this.prepareDragDrop(D.el),D.subGrid&&M&&D.subGrid.setStatic(m,w,M)}),w&&this._setStaticClass()),this}updateOptions(m){var M;const w=this.opts;return m===w||(m.acceptWidgets!==void 0&&(w.acceptWidgets=m.acceptWidgets,this._setupAcceptWidget()),m.animate!==void 0&&this.setAnimation(m.animate),m.cellHeight&&this.cellHeight(m.cellHeight),m.class!==void 0&&m.class!==w.class&&(w.class&&this.el.classList.remove(w.class),m.class&&this.el.classList.add(m.class)),m.columnOpts?(this.opts.columnOpts=m.columnOpts,this.checkDynamicColumn()):m.columnOpts===null&&this.opts.columnOpts?(delete this.opts.columnOpts,this._updateResizeEvent()):typeof m.column=="number"&&this.column(m.column),m.margin!==void 0&&this.margin(m.margin),m.staticGrid!==void 0&&this.setStatic(m.staticGrid),m.disableDrag===void 0||m.staticGrid||this.enableMove(!m.disableDrag),m.disableResize===void 0||m.staticGrid||this.enableResize(!m.disableResize),m.float!==void 0&&this.float(m.float),m.row!==void 0?w.minRow=w.maxRow=w.row=m.row:(m.minRow!==void 0&&(w.minRow=m.minRow),m.maxRow!==void 0&&(w.maxRow=m.maxRow)),(M=m.children)!=null&&M.length&&this.load(m.children)),this}update(m,w){return z.getElements(m).forEach(M=>{var X;const D=M==null?void 0:M.gridstackNode;if(!D)return;const I={...n.copyPos({},D),...n.cloneDeep(w)};this.engine.nodeBoundFix(I),delete I.autoPosition;const H=["x","y","w","h"];let j;if(H.some(Y=>I[Y]!==void 0&&I[Y]!==D[Y])&&(j={},H.forEach(Y=>{j[Y]=I[Y]!==void 0?I[Y]:D[Y],delete I[Y]})),!j&&(I.minW||I.minH||I.maxW||I.maxH)&&(j={}),I.content!==void 0){const Y=M.querySelector(".grid-stack-item-content");Y&&Y.textContent!==I.content&&(D.content=I.content,z.renderCB(Y,I),(X=D.subGrid)!=null&&X.el&&(Y.appendChild(D.subGrid.el),D.subGrid._updateContainerHeight())),delete I.content}let $=!1,ae=!1;for(const Y in I)Y[0]!=="_"&&D[Y]!==I[Y]&&(D[Y]=I[Y],$=!0,ae=ae||!this.opts.staticGrid&&(Y==="noResize"||Y==="noMove"||Y==="locked"));if(n.sanitizeMinMax(D),j){const Y=j.w!==void 0&&j.w!==D.w;this.moveNode(D,j),Y&&D.subGrid?D.subGrid.onResize(this.hasAnimationCSS()?D.w:void 0):this.resizeToContentCheck(Y,D),delete D._orig}(j||$)&&this._writeAttr(M,D),ae&&this.prepareDragDrop(D.el)}),this}moveNode(m,w){const M=m._updating;M||this.engine.cleanNodes().beginUpdate(m),this.engine.moveNode(m,w),this._updateContainerHeight(),M||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(m){var ue,be;if(!m||(m.classList.remove("size-to-content-max"),!m.clientHeight))return;const w=m.gridstackNode;if(!w)return;const M=w.grid;if(!M||m.parentElement!==M.el)return;const D=M.getCellHeight(!0);if(!D)return;let I,H=w.h?w.h*D:m.clientHeight;if(w.resizeToContentParent&&(I=m.querySelector(w.resizeToContentParent)),I||(I=m.querySelector(z.resizeToContentParent)),!I)return;const j=m.clientHeight-I.clientHeight,$=w.h?w.h*D-j:I.clientHeight;let ae;if(w.subGrid){ae=w.subGrid.getRow()*w.subGrid.getCellHeight(!0);const Oe=w.subGrid.el.getBoundingClientRect(),me=m.getBoundingClientRect();ae+=Oe.top-me.top}else{if((be=(ue=w.subGridOpts)==null?void 0:ue.children)!=null&&be.length)return;{const Oe=I.firstElementChild;if(!Oe)return void console.error(`Error: GridStack.resizeToContent() widget id:${w.id} '${z.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);ae=Oe.getBoundingClientRect().height||$}}if($===ae)return;H+=ae-$;let X=Math.ceil(H/D);const Y=Number.isInteger(w.sizeToContent)?w.sizeToContent:0;Y&&X>Y&&(X=Y,m.classList.add("size-to-content-max")),w.minH&&X<w.minH?X=w.minH:w.maxH&&X>w.maxH&&(X=w.maxH),X!==w.h&&(M._ignoreLayoutsNodeChange=!0,M.moveNode(w,{h:X}),delete M._ignoreLayoutsNodeChange)}resizeToContentCBCheck(m){z.resizeToContentCB?z.resizeToContentCB(m):this.resizeToContent(m)}rotate(m,w){return z.getElements(m).forEach(M=>{const D=M.gridstackNode;if(!n.canBeRotated(D))return;const I={w:D.h,h:D.w,minH:D.minW,minW:D.minH,maxH:D.maxW,maxW:D.maxH};if(w){const j=w.left>0?Math.floor(w.left/this.cellWidth()):0,$=w.top>0?Math.floor(w.top/this.opts.cellHeight):0;I.x=D.x+j-(D.h-($+1)),I.y=D.y+$-j}Object.keys(I).forEach(j=>{I[j]===void 0&&delete I[j]});const H=D._orig;this.update(M,I),D._orig=H}),this}margin(m){if(!(typeof m=="string"&&m.split(" ").length>1)){const w=n.parseHeight(m);if(this.opts.marginUnit===w.unit&&this.opts.margin===w.h)return}return this.opts.margin=m,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this}getMargin(){return this.opts.margin}willItFit(m){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");const w=arguments;let M=0,D={x:w[M++],y:w[M++],w:w[M++],h:w[M++],autoPosition:w[M++]};return this.willItFit(D)}return this.engine.willItFit(m)}_triggerChangeEvent(){if(this.engine.batchMode)return this;const m=this.engine.getDirtyNodes(!0);return m&&m.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(m),this._triggerEvent("change",m)),this.engine.saveInitial(),this}_triggerAddEvent(){var m;if(this.engine.batchMode)return this;if((m=this.engine.addedNodes)!=null&&m.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(M=>{delete M._dirty});const w=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",w)}return this}_triggerRemoveEvent(){var m;if(this.engine.batchMode)return this;if((m=this.engine.removedNodes)!=null&&m.length){const w=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",w)}return this}_triggerEvent(m,w){const M=w?new CustomEvent(m,{bubbles:!1,detail:w}):new Event(m);let D=this;for(;D.parentGridNode;)D=D.parentGridNode.grid;return D.el.dispatchEvent(M),this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const m=this.parentGridNode;let w=this.getRow()+this._extraDragRow;const M=this.opts.cellHeight,D=this.opts.cellHeightUnit;if(!M)return this;if(!m){const I=n.parseHeight(getComputedStyle(this.el).minHeight);if(I.h>0&&I.unit===D){const H=Math.floor(I.h/M);w<H&&(w=H)}}return this.el.setAttribute("gs-current-row",String(w)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),w&&(this.el.style[m?"minHeight":"height"]=w*M+D),m&&!m.grid.engine.batchMode&&n.shouldSizeToContent(m)&&m.grid.resizeToContentCBCheck(m.el),this}_prepareElement(m,w=!1,M){M=M||this._readAttr(m),m.gridstackNode=M,M.el=m,M.grid=this,M=this.engine.addNode(M,w),this._writeAttr(m,M),m.classList.add(a.itemClass,this.opts.itemClass);const D=n.shouldSizeToContent(M);return D?m.classList.add("size-to-content"):m.classList.remove("size-to-content"),D&&this.resizeToContentCheck(!1,M),n.lazyLoad(M)||this.prepareDragDrop(M.el),this}_writePosAttr(m,w){return(w._moving||w._resizing)&&this._placeholder!==m||(m.style.top=w.y?w.y===1?"var(--gs-cell-height)":`calc(${w.y} * var(--gs-cell-height))`:null,m.style.left=w.x?w.x===1?"var(--gs-column-width)":`calc(${w.x} * var(--gs-column-width))`:null,m.style.width=w.w>1?`calc(${w.w} * var(--gs-column-width))`:null,m.style.height=w.h>1?`calc(${w.h} * var(--gs-cell-height))`:null),w.x>0?m.setAttribute("gs-x",String(w.x)):m.removeAttribute("gs-x"),w.y>0?m.setAttribute("gs-y",String(w.y)):m.removeAttribute("gs-y"),w.w>1?m.setAttribute("gs-w",String(w.w)):m.removeAttribute("gs-w"),w.h>1?m.setAttribute("gs-h",String(w.h)):m.removeAttribute("gs-h"),this}_writeAttr(m,w){if(!w)return this;this._writePosAttr(m,w);const M={noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",sizeToContent:"gs-size-to-content"};for(const D in M)w[D]?m.setAttribute(M[D],String(w[D])):m.removeAttribute(M[D]);return this}_readAttr(m,w=!0){const M={};M.x=n.toNumber(m.getAttribute("gs-x")),M.y=n.toNumber(m.getAttribute("gs-y")),M.w=n.toNumber(m.getAttribute("gs-w")),M.h=n.toNumber(m.getAttribute("gs-h")),M.autoPosition=n.toBool(m.getAttribute("gs-auto-position")),M.noResize=n.toBool(m.getAttribute("gs-no-resize")),M.noMove=n.toBool(m.getAttribute("gs-no-move")),M.locked=n.toBool(m.getAttribute("gs-locked"));const D=m.getAttribute("gs-size-to-content");D&&(M.sizeToContent=D==="true"||D==="false"?n.toBool(D):parseInt(D,10)),M.id=m.getAttribute("gs-id"),M.maxW=n.toNumber(m.getAttribute("gs-max-w")),M.minW=n.toNumber(m.getAttribute("gs-min-w")),M.maxH=n.toNumber(m.getAttribute("gs-max-h")),M.minH=n.toNumber(m.getAttribute("gs-min-h")),w&&(M.w===1&&m.removeAttribute("gs-w"),M.h===1&&m.removeAttribute("gs-h"),M.maxW&&m.removeAttribute("gs-max-w"),M.minW&&m.removeAttribute("gs-min-w"),M.maxH&&m.removeAttribute("gs-max-h"),M.minH&&m.removeAttribute("gs-min-h"));for(const I in M){if(!M.hasOwnProperty(I))return;M[I]||M[I]===0||I==="gs-size-to-content"||delete M[I]}return M}_setStaticClass(){const m=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...m),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...m),this.el.removeAttribute("gs-static")),this}onResize(m=(w=>(w=this.el)==null?void 0:w.clientWidth)()){if(!m||this.prevWidth===m)return;this.prevWidth=m,this.batchUpdate();let M=!1;return this._autoColumn&&this.parentGridNode?this.opts.column!==this.parentGridNode.w&&(this.column(this.parentGridNode.w,this.opts.layout||"list"),M=!0):M=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(D=>{D.subGrid&&D.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(M),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(m=!1,w=void 0){if(this.engine){if(m&&this.hasAnimationCSS())return setTimeout(()=>this.resizeToContentCheck(!1,w),this.animationDelay);if(w)n.shouldSizeToContent(w)&&this.resizeToContentCBCheck(w.el);else if(this.engine.nodes.some(M=>n.shouldSizeToContent(M))){const M=[...this.engine.nodes];this.batchUpdate(),M.forEach(D=>{n.shouldSizeToContent(D)&&this.resizeToContentCBCheck(D.el)}),this._ignoreLayoutsNodeChange=!0,this.batchUpdate(!1),this._ignoreLayoutsNodeChange=!1}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,w?[w]:this.engine.nodes)}}_updateResizeEvent(m=!1){const w=!this.parentGridNode&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(M=>M.sizeToContent));return m||!w||this.resizeObserver?!m&&w||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=n.throttle(()=>this.onResize(),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(()=>this._sizeThrottle()),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(m=".grid-stack-item"){return n.getElement(m)}static getElements(m=".grid-stack-item"){return n.getElements(m)}static getGridElement(m){return z.getElement(m)}static getGridElements(m){return n.getElements(m)}_initMargin(){let m,w=0,M=[];typeof this.opts.margin=="string"&&(M=this.opts.margin.split(" ")),M.length===2?(this.opts.marginTop=this.opts.marginBottom=M[0],this.opts.marginLeft=this.opts.marginRight=M[1]):M.length===4?(this.opts.marginTop=M[0],this.opts.marginRight=M[1],this.opts.marginBottom=M[2],this.opts.marginLeft=M[3]):(m=n.parseHeight(this.opts.margin),this.opts.marginUnit=m.unit,w=this.opts.margin=m.h),["marginTop","marginRight","marginBottom","marginLeft"].forEach(I=>{this.opts[I]===void 0?this.opts[I]=w:(m=n.parseHeight(this.opts[I]),this.opts[I]=m.h,delete this.opts.margin)}),this.opts.marginUnit=m.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop);const D=this.el.style;return D.setProperty("--gs-item-margin-top",`${this.opts.marginTop}${this.opts.marginUnit}`),D.setProperty("--gs-item-margin-bottom",`${this.opts.marginBottom}${this.opts.marginUnit}`),D.setProperty("--gs-item-margin-right",`${this.opts.marginRight}${this.opts.marginUnit}`),D.setProperty("--gs-item-margin-left",`${this.opts.marginLeft}${this.opts.marginUnit}`),this}static getDD(){return F}static setupDragIn(m,w,M,D=document){(w==null?void 0:w.pause)!==void 0&&(h.pauseDrag=w.pause),w={appendTo:"body",helper:"clone",...w||{}},(typeof m=="string"?n.getElements(m,D):m).forEach((I,H)=>{F.isDraggable(I)||F.dragIn(I,w),M!=null&&M[H]&&(I.gridstackNode=M[H])})}movable(m,w){return this.opts.staticGrid||z.getElements(m).forEach(M=>{const D=M.gridstackNode;D&&(w?delete D.noMove:D.noMove=!0,this.prepareDragDrop(D.el))}),this}resizable(m,w){return this.opts.staticGrid||z.getElements(m).forEach(M=>{const D=M.gridstackNode;D&&(w?delete D.noResize:D.noResize=!0,this.prepareDragDrop(D.el))}),this}disable(m=!0){if(!this.opts.staticGrid)return this.enableMove(!1,m),this.enableResize(!1,m),this._triggerEvent("disable"),this}enable(m=!0){if(!this.opts.staticGrid)return this.enableMove(!0,m),this.enableResize(!0,m),this._triggerEvent("enable"),this}enableMove(m,w=!0){return this.opts.staticGrid||(m?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(M=>{this.prepareDragDrop(M.el),M.subGrid&&w&&M.subGrid.enableMove(m,w)})),this}enableResize(m,w=!0){return this.opts.staticGrid||(m?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(M=>{this.prepareDragDrop(M.el),M.subGrid&&w&&M.subGrid.enableResize(m,w)})),this}cancelDrag(){var w;const m=(w=this._placeholder)==null?void 0:w.gridstackNode;m&&(m._isExternal?(m._isAboutToRemove=!0,this.engine.removeNode(m)):m._isAboutToRemove&&z._itemRemoving(m.el,!1),this.engine.restoreInitial())}_removeDD(m){return F.draggable(m,"destroy").resizable(m,"destroy"),m.gridstackNode&&delete m.gridstackNode._initDD,delete m.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return F.droppable(this.el,"destroy"),this;let m,w;const M=(D,I,H)=>{var ue;const j=(H=H||I).gridstackNode;if(!j)return;if(!((ue=j.grid)!=null&&ue.el)){H.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const be=H.getBoundingClientRect();H.style.left=be.x+(this.dragTransform.xScale-1)*(D.clientX-be.x)/this.dragTransform.xScale+"px",H.style.top=be.y+(this.dragTransform.yScale-1)*(D.clientY-be.y)/this.dragTransform.yScale+"px",H.style.transformOrigin="0px 0px"}let{top:$,left:ae}=H.getBoundingClientRect();const X=this.el.getBoundingClientRect();ae-=X.left,$-=X.top;const Y={position:{top:$*this.dragTransform.xScale,left:ae*this.dragTransform.yScale}};if(j._temporaryRemoved){if(j.x=Math.max(0,Math.round(ae/w)),j.y=Math.max(0,Math.round($/m)),delete j.autoPosition,this.engine.nodeBoundFix(j),!this.engine.willItFit(j)){if(j.autoPosition=!0,!this.engine.willItFit(j))return void F.off(I,"drag");j._willFitPos&&(n.copyPos(j,j._willFitPos),delete j._willFitPos)}this._onStartMoving(H,D,Y,j,w,m)}else this._dragOrResize(H,D,Y,j,w,m)};return F.droppable(this.el,{accept:D=>{const I=D.gridstackNode||this._readAttr(D,!1);if((I==null?void 0:I.grid)===this)return!0;if(!this.opts.acceptWidgets)return!1;let H=!0;if(typeof this.opts.acceptWidgets=="function")H=this.opts.acceptWidgets(D);else{const j=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;H=D.matches(j)}if(H&&I&&this.opts.maxRow){const j={w:I.w,h:I.h,minW:I.minW,minH:I.minH};H=this.engine.willItFit(j)}return H}}).on(this.el,"dropover",(D,I,H)=>{let j=(H==null?void 0:H.gridstackNode)||I.gridstackNode;if((j==null?void 0:j.grid)===this&&!j._temporaryRemoved)return!1;if(j!=null&&j._sidebarOrig&&(j.w=j._sidebarOrig.w,j.h=j._sidebarOrig.h),j!=null&&j.grid&&j.grid!==this&&!j._temporaryRemoved&&j.grid._leave(I,H),H=H||I,w=this.cellWidth(),m=this.getCellHeight(!0),!j){const X=H.getAttribute("data-gs-widget")||H.getAttribute("gridstacknode");if(X){try{j=JSON.parse(X)}catch{console.error("Gridstack dropover: Bad JSON format: ",X)}H.removeAttribute("data-gs-widget"),H.removeAttribute("gridstacknode")}j||(j=this._readAttr(H)),j._sidebarOrig={w:j.w,h:j.h}}j.grid||(j.el||(j={...j}),j._isExternal=!0,H.gridstackNode=j);const $=j.w||Math.round(H.offsetWidth/w)||1,ae=j.h||Math.round(H.offsetHeight/m)||1;return j.grid&&j.grid!==this?(I._gridstackNodeOrig||(I._gridstackNodeOrig=j),I.gridstackNode=j={...j,w:$,h:ae,grid:this},delete j.x,delete j.y,this.engine.cleanupNode(j).nodeBoundFix(j),j._initDD=j._isExternal=j._temporaryRemoved=!0):(j.w=$,j.h=ae,j._temporaryRemoved=!0),z._itemRemoving(j.el,!1),F.on(I,"drag",M),M(D,I,H),!1}).on(this.el,"dropout",(D,I,H)=>{const j=(H==null?void 0:H.gridstackNode)||I.gridstackNode;return!!j&&(j.grid&&j.grid!==this||(this._leave(I,H),this._isTemp&&this.removeAsSubGrid(j)),!1)}).on(this.el,"drop",(D,I,H)=>{var be,Oe,me;const j=(H==null?void 0:H.gridstackNode)||I.gridstackNode;if((j==null?void 0:j.grid)===this&&!j._isExternal)return!1;const $=!!this.placeholder.parentElement,ae=I!==H;this.placeholder.remove(),delete this.placeholder.gridstackNode;const X=$&&this.opts.animate;X&&this.setAnimation(!1);const Y=I._gridstackNodeOrig;if(delete I._gridstackNodeOrig,$&&(Y==null?void 0:Y.grid)&&Y.grid!==this){const xe=Y.grid;xe.engine.removeNodeFromLayoutCache(Y),xe.engine.removedNodes.push(Y),xe._triggerRemoveEvent()._triggerChangeEvent(),xe.parentGridNode&&!xe.engine.nodes.length&&xe.opts.subGridDynamic&&xe.removeAsSubGrid()}if(!j||($&&(this.engine.cleanupNode(j),j.grid=this),(be=j.grid)==null||delete be._isTemp,F.off(I,"drag"),H!==I?(H.remove(),I=H):I.remove(),this._removeDD(I),!$))return!1;const ue=(me=(Oe=j.subGrid)==null?void 0:Oe.el)==null?void 0:me.gridstack;return n.copyPos(j,this._readAttr(this.placeholder)),n.removePositioningStyles(I),ae&&(j.content||j.subGridOpts||z.addRemoveCB)?(delete j.el,I=this.addWidget(j)):(this._prepareElement(I,!0,j),this.el.appendChild(I),this.resizeToContentCheck(!1,j),ue&&(ue.parentGridNode=j),this._updateContainerHeight()),this.engine.addedNodes.push(j),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...D,type:"dropped"},Y&&Y.grid?Y:void 0,j),X&&this.setAnimation(this.opts.animate,!0),!1}),this}static _itemRemoving(m,w){if(!m)return;const M=m?m.gridstackNode:void 0;M!=null&&M.grid&&!m.classList.contains(M.grid.opts.removableOptions.decline)&&(w?M._isAboutToRemove=!0:delete M._isAboutToRemove,w?m.classList.add("grid-stack-item-removing"):m.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(typeof this.opts.removable!="string")return this;const m=document.querySelector(this.opts.removable);return m?(this.opts.staticGrid||F.isDroppable(m)||F.droppable(m,this.opts.removableOptions).on(m,"dropover",(w,M)=>z._itemRemoving(M,!0)).on(m,"dropout",(w,M)=>z._itemRemoving(M,!1)),this):this}prepareDragDrop(m,w=!1){const M=m==null?void 0:m.gridstackNode;if(!M)return;const D=M.noMove||this.opts.disableDrag,I=M.noResize||this.opts.disableResize,H=this.opts.staticGrid||D&&I;if((w||H)&&(M._initDD&&(this._removeDD(m),delete M._initDD),H&&m.classList.add("ui-draggable-disabled","ui-resizable-disabled"),!w))return this;if(!M._initDD){let j,$;const ae=(ue,be)=>{this.triggerEvent(ue,ue.target),j=this.cellWidth(),$=this.getCellHeight(!0),this._onStartMoving(m,ue,be,M,j,$)},X=(ue,be)=>{this._dragOrResize(m,ue,be,M,j,$)},Y=ue=>{this.placeholder.remove(),delete this.placeholder.gridstackNode,delete M._moving,delete M._resizing,delete M._event,delete M._lastTried;const be=M.w!==M._orig.w,Oe=ue.target;if(Oe.gridstackNode&&Oe.gridstackNode.grid===this){if(M.el=Oe,M._isAboutToRemove){const me=m.gridstackNode.grid;me._gsEventHandler[ue.type]&&me._gsEventHandler[ue.type](ue,Oe),me.engine.nodes.push(M),me.removeWidget(m,!0,!0)}else n.removePositioningStyles(Oe),M._temporaryRemoved?(n.copyPos(M,M._orig),this._writePosAttr(Oe,M),this.engine.addNode(M)):this._writePosAttr(Oe,M),this.triggerEvent(ue,Oe);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),ue.type==="resizestop"&&(Number.isInteger(M.sizeToContent)&&(M.sizeToContent=M.h),this.resizeToContentCheck(be,M))}};F.draggable(m,{start:ae,stop:Y,drag:X}).resizable(m,{start:ae,stop:Y,resize:X}),M._initDD=!0}return F.draggable(m,D?"disable":"enable").resizable(m,I?"disable":"enable"),this}_onStartMoving(m,w,M,D,I,H){var j;if(this.engine.cleanNodes().beginUpdate(D),this._writePosAttr(this.placeholder,D),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=D,(j=D.grid)==null?void 0:j.el)this.dragTransform=n.getValuesFromTransformedElement(m);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const $=this.placeholder.closest(".grid-stack");this.dragTransform=n.getValuesFromTransformedElement($)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(D.el=this.placeholder,D._lastUiPosition=M.position,D._prevYPix=M.position.top,D._moving=w.type==="dragstart",D._resizing=w.type==="resizestart",delete D._lastTried,w.type==="dropover"&&D._temporaryRemoved&&(this.engine.addNode(D),D._moving=!0),this.engine.cacheRects(I,H,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),w.type==="resizestart"){const $=this.getColumn()-D.x,ae=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-D.y;F.resizable(m,"option","minWidth",I*Math.min(D.minW||1,$)).resizable(m,"option","minHeight",H*Math.min(D.minH||1,ae)).resizable(m,"option","maxWidth",I*Math.min(D.maxW||Number.MAX_SAFE_INTEGER,$)).resizable(m,"option","maxWidthMoveLeft",I*Math.min(D.maxW||Number.MAX_SAFE_INTEGER,D.x+D.w)).resizable(m,"option","maxHeight",H*Math.min(D.maxH||Number.MAX_SAFE_INTEGER,ae)).resizable(m,"option","maxHeightMoveUp",H*Math.min(D.maxH||Number.MAX_SAFE_INTEGER,D.y+D.h))}}_dragOrResize(m,w,M,D,I,H){const j={...D._orig};let $,ae=this.opts.marginLeft,X=this.opts.marginRight,Y=this.opts.marginTop,ue=this.opts.marginBottom;const be=Math.round(.1*H),Oe=Math.round(.1*I);if(ae=Math.min(ae,Oe),X=Math.min(X,Oe),Y=Math.min(Y,be),ue=Math.min(ue,be),w.type==="drag"){if(D._temporaryRemoved)return;const xe=M.position.top-D._prevYPix;D._prevYPix=M.position.top,this.opts.draggable.scroll!==!1&&n.updateScrollPosition(m,M.position,xe);const Ae=M.position.left+(M.position.left>D._lastUiPosition.left?-X:ae),$e=M.position.top+(M.position.top>D._lastUiPosition.top?-ue:Y);j.x=Math.round(Ae/I),j.y=Math.round($e/H);const tt=this._extraDragRow;if(this.engine.collide(D,j)){const ye=this.getRow();let dt=Math.max(0,j.y+D.h-ye);this.opts.maxRow&&ye+dt>this.opts.maxRow&&(dt=Math.max(0,this.opts.maxRow-ye)),this._extraDragRow=dt}else this._extraDragRow=0;if(this._extraDragRow!==tt&&this._updateContainerHeight(),D.x===j.x&&D.y===j.y)return}else if(w.type==="resize"){if(j.x<0||(n.updateScrollResize(w,m,H),j.w=Math.round((M.size.width-ae)/I),j.h=Math.round((M.size.height-Y)/H),D.w===j.w&&D.h===j.h)||D._lastTried&&D._lastTried.w===j.w&&D._lastTried.h===j.h)return;const xe=M.position.left+ae,Ae=M.position.top+Y;j.x=Math.round(xe/I),j.y=Math.round(Ae/H),$=!0}D._event=w,D._lastTried=j;const me={x:M.position.left+ae,y:M.position.top+Y,w:(M.size?M.size.width:D.w*I)-ae-X,h:(M.size?M.size.height:D.h*H)-Y-ue};if(this.engine.moveNodeCheck(D,{...j,cellWidth:I,cellHeight:H,rect:me,resizing:$})){D._lastUiPosition=M.position,this.engine.cacheRects(I,H,Y,X,ue,ae),delete D._skipDown,$&&D.subGrid&&D.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();const xe=w.target;D._sidebarOrig||this._writePosAttr(xe,D),this.triggerEvent(w,xe)}}triggerEvent(m,w){let M=this;for(;M.parentGridNode;)M=M.parentGridNode.grid;M._gsEventHandler[m.type]&&M._gsEventHandler[m.type](m,w)}_leave(m,w){const M=(w=w||m).gridstackNode;if(!M||(w.style.transform=w.style.transformOrigin=null,F.off(m,"drag"),M._temporaryRemoved))return;M._temporaryRemoved=!0,this.engine.removeNode(M),M.el=M._isExternal&&w?w:m;const D=M._sidebarOrig;M._isExternal&&this.engine.cleanupNode(M),M._sidebarOrig=D,this.opts.removable===!0&&z._itemRemoving(m,!0),m._gridstackNodeOrig?(m.gridstackNode=m._gridstackNodeOrig,delete m._gridstackNodeOrig):M._isExternal&&this.engine.restoreInitial()}commit(){return this.batchUpdate(!1).prototype,this}}return z.renderCB=(N,m)=>{N&&(m!=null&&m.content)&&(N.textContent=m.content)},z.resizeToContentParent=".grid-stack-item-content",z.Utils=n,z.Engine=l,z.GDRev="12.1.1",s.GridStack})())})(EI);var kK=EI.exports;const $L=Qu(kK);var SK={exports:{}};(function(t){(function(e){t.exports?t.exports=e(QH):e(jQuery)})(function(e,i){/*!
 * jsTree 3.3.17
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 *//*!
 * if using jslint please allow for the jQuery global and use following options:
 * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */if(!e.jstree){var s=0,n=!1,l=!1,a=!1,h=[],d=e("script:last").attr("src"),f=window.document,g=window.setImmediate,v=window.Promise;!g&&v&&(g=function(u,S){v.resolve(S).then(u)}),e.jstree={version:"3.3.17",defaults:{plugins:[]},plugins:{},path:d&&d.indexOf("/")!==-1?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(u,S){var y=new e.jstree.core(++s),k=S;return S=e.extend(!0,{},e.jstree.defaults,S),k&&k.plugins&&(S.plugins=k.plugins),e.each(S.plugins,function(T,A){T!=="core"&&(y=y.plugin(A,S[A]))}),e(u).data("jstree",y),y.init(u,S),y},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(f).off(".jstree")},e.jstree.core=function(u){this._id=u,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(u){var S=null,y=null;if(u&&u.id&&(!u.tagName||!u.nodeType)&&(u=u.id),!y||!y.length)try{y=e(u)}catch{}if(!y||!y.length)try{y=e("#"+u.replace(e.jstree.idregex,"\\$&"))}catch{}return y&&y.length&&(y=y.closest(".jstree")).length&&(y=y.data("jstree"))?S=y:e(".jstree").each(function(){var k=e(this).data("jstree");if(k&&k._model.data[u])return S=k,!1}),S},e.fn.jstree=function(u){var S=typeof u=="string",y=Array.prototype.slice.call(arguments,1),k=null;return u===!0&&!this.length?!1:(this.each(function(){var T=e.jstree.reference(this),A=S&&T?T[u]:null;if(k=S&&A?A.apply(T,y):null,!T&&!S&&(u===i||e.isPlainObject(u))&&e.jstree.create(this,u),(T&&!S||u===!0)&&(k=T||!1),k!==null&&k!==i)return!1}),k!==null&&k!==i?k:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(u){return function(S){return e(S).hasClass("jstree")&&e(S).data("jstree")!==i}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(u){u.type="click",e(u.currentTarget).trigger(u)},enter:function(u){u.type="click",e(u.currentTarget).trigger(u)},left:function(u){if(u.preventDefault(),this.is_open(u.currentTarget))this.close_node(u.currentTarget);else{var S=this.get_parent(u.currentTarget);S&&S.id!==e.jstree.root&&this.get_node(S,!0).children(".jstree-anchor").trigger("focus")}},up:function(u){u.preventDefault();var S=this.get_prev_dom(u.currentTarget);S&&S.length&&S.children(".jstree-anchor").trigger("focus")},right:function(u){if(u.preventDefault(),this.is_closed(u.currentTarget))this.open_node(u.currentTarget,function(y){this.get_node(y,!0).children(".jstree-anchor").trigger("focus")});else if(this.is_open(u.currentTarget)){var S=this.get_node(u.currentTarget,!0).children(".jstree-children")[0];S&&e(this._firstChild(S)).children(".jstree-anchor").trigger("focus")}},down:function(u){u.preventDefault();var S=this.get_next_dom(u.currentTarget);S&&S.length&&S.children(".jstree-anchor").trigger("focus")},"*":function(u){this.open_all()},home:function(u){u.preventDefault();var S=this._firstChild(this.get_container_ul()[0]);S&&e(S).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(u){u.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(u){u.preventDefault(),this.edit(u.currentTarget)}},allow_reselect:!1},e.jstree.core.prototype={plugin:function(u,S){var y=e.jstree.plugins[u];return y?(this._data[u]={},y.prototype=this,new y(S,this)):this},init:function(u,S){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(u).addClass("jstree jstree-"+this._id),this.settings=S,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl=this.element.css("direction")==="rtl",this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(u){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch{}u||this.element.empty(),this.teardown()},_create_prototype_node:function(){var u=f.createElement("LI"),S,y;return u.setAttribute("role","none"),S=f.createElement("I"),S.className="jstree-icon jstree-ocl",S.setAttribute("role","presentation"),u.appendChild(S),S=f.createElement("A"),S.className="jstree-anchor",S.setAttribute("href","#"),S.setAttribute("tabindex","-1"),S.setAttribute("role","treeitem"),y=f.createElement("I"),y.className="jstree-icon jstree-themeicon",y.setAttribute("role","presentation"),S.appendChild(y),u.appendChild(S),S=y=null,u},_kbevent_to_func:function(u){var S={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},y=[];if(u.ctrlKey&&y.push("ctrl"),u.altKey&&y.push("alt"),u.shiftKey&&y.push("shift"),y.push(S[u.which]?S[u.which].toLowerCase():u.which),y=y.sort().join("-").toLowerCase(),y==="shift-shift"||y==="ctrl-ctrl"||y==="alt-alt")return null;var k=this.settings.core.keyboard,T,A;for(T in k)if(k.hasOwnProperty(T)&&(A=T,A!=="-"&&A!=="+"&&(A=A.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),A=A.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),A===y))return k[T];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),this.element=null},bind:function(){var u="",S=null,y=0;this.element.on("dblclick.jstree",function(k){if(k.target.tagName&&k.target.tagName.toLowerCase()==="input")return!0;if(f.selection&&f.selection.empty)f.selection.empty();else if(window.getSelection){var T=window.getSelection();try{T.removeAllRanges(),T.collapse()}catch{}}}).on("mousedown.jstree",(function(k){k.target===this.element[0]&&(k.preventDefault(),y=+new Date)}).bind(this)).on("mousedown.jstree",".jstree-ocl",function(k){k.preventDefault()}).on("click.jstree",".jstree-ocl",(function(k){this.toggle_node(k.target)}).bind(this)).on("dblclick.jstree",".jstree-anchor",(function(k){if(k.target.tagName&&k.target.tagName.toLowerCase()==="input")return!0;this.settings.core.dblclick_toggle&&this.toggle_node(k.target)}).bind(this)).on("click.jstree",".jstree-anchor",(function(k){k.preventDefault(),k.currentTarget!==f.activeElement&&e(k.currentTarget).trigger("focus"),this.activate_node(k.currentTarget,k)}).bind(this)).on("keydown.jstree",".jstree-anchor",(function(k){if(k.target.tagName&&k.target.tagName.toLowerCase()==="input")return!0;this._data.core.rtl&&(k.which===37?k.which=39:k.which===39&&(k.which=37));var T=this._kbevent_to_func(k);if(T){var A=T.call(this,k);if(A===!1||A===!0)return A}}).bind(this)).on("load_node.jstree",(function(k,T){T.status&&(T.node.id===e.jstree.root&&!this._data.core.loaded&&(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout((function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var A=[],F,z;for(F=0,z=this._data.core.selected.length;F<z;F++)A=A.concat(this._model.data[this._data.core.selected[F]].parents);for(A=e.vakata.array_unique(A),F=0,z=A.length;F<z;F++)this.open_node(A[F],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}).bind(this),0))}).bind(this)).on("keypress.jstree",(function(k){if(k.target.tagName&&k.target.tagName.toLowerCase()==="input")return!0;S&&clearTimeout(S),S=setTimeout(function(){u=""},500);var T=String.fromCharCode(k.which).toLowerCase(),A=this.element.find(".jstree-anchor").filter(":visible"),F=A.index(f.activeElement)||0,z=!1;u+=T,!(u.length>1&&(A.slice(F).each((function(N,m){if(e(m).text().toLowerCase().indexOf(u)===0)return e(m).trigger("focus"),z=!0,!1}).bind(this)),z||(A.slice(0,F).each((function(N,m){if(e(m).text().toLowerCase().indexOf(u)===0)return e(m).trigger("focus"),z=!0,!1}).bind(this)),z)))&&new RegExp("^"+T.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(u)&&(A.slice(F+1).each((function(N,m){if(e(m).text().toLowerCase().charAt(0)===T)return e(m).trigger("focus"),z=!0,!1}).bind(this)),z||A.slice(0,F+1).each((function(N,m){if(e(m).text().toLowerCase().charAt(0)===T)return e(m).trigger("focus"),z=!0,!1}).bind(this)))}).bind(this)).on("init.jstree",(function(){var k=this.settings.core.themes;this._data.core.themes.dots=k.dots,this._data.core.themes.stripes=k.stripes,this._data.core.themes.icons=k.icons,this._data.core.themes.ellipsis=k.ellipsis,this.set_theme(k.name||"default",k.url),this.set_theme_variant(k.variant)}).bind(this)).on("loading.jstree",(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}).bind(this)).on("blur.jstree",".jstree-anchor",(function(k){this._data.core.focused=null,e(k.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),e(k.currentTarget).attr("tabindex","-1")}).bind(this)).on("focus.jstree",".jstree-anchor",(function(k){var T=this.get_node(k.currentTarget);T&&(T.id||T.id===0)&&(this._data.core.focused=T.id),this.element.find(".jstree-hovered").not(k.currentTarget).trigger("mouseleave"),e(k.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),e(k.currentTarget).attr("tabindex","0")}).bind(this)).on("focus.jstree",(function(){if(+new Date-y>500&&!this._data.core.focused&&this.settings.core.restore_focus){y=0;var k=this.get_node(this.element.attr("aria-activedescendant"),!0);k&&k.find("> .jstree-anchor").trigger("focus")}}).bind(this)).on("mouseenter.jstree",".jstree-anchor",(function(k){this.hover_node(k.currentTarget)}).bind(this)).on("mouseleave.jstree",".jstree-anchor",(function(k){this.dehover_node(k.currentTarget)}).bind(this))},unbind:function(){this.element.off(".jstree"),e(f).off(".jstree-"+this._id)},trigger:function(u,S){S||(S={}),S.instance=this,this.element.triggerHandler(u.replace(".jstree","")+".jstree",S)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(u){var S=this.settings.core.strings;return e.vakata.is_function(S)?S.call(this,u):S&&S[u]?S[u]:u},_firstChild:function(u){for(u=u?u.firstChild:null;u!==null&&u.nodeType!==1;)u=u.nextSibling;return u},_nextSibling:function(u){for(u=u?u.nextSibling:null;u!==null&&u.nodeType!==1;)u=u.nextSibling;return u},_previousSibling:function(u){for(u=u?u.previousSibling:null;u!==null&&u.nodeType!==1;)u=u.previousSibling;return u},get_node:function(u,S){u&&(u.id||u.id===0)&&(u=u.id),u instanceof e&&u.length&&u[0].id&&(u=u[0].id);var y;try{if(this._model.data[u])u=this._model.data[u];else if(typeof u=="string"&&this._model.data[u.replace(/^#/,"")])u=this._model.data[u.replace(/^#/,"")];else if(typeof u=="string"&&(y=e("#"+u.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[y.closest(".jstree-node").attr("id")])u=this._model.data[y.closest(".jstree-node").attr("id")];else if((y=this.element.find(u)).length&&this._model.data[y.closest(".jstree-node").attr("id")])u=this._model.data[y.closest(".jstree-node").attr("id")];else if((y=this.element.find(u)).length&&y.hasClass("jstree"))u=this._model.data[e.jstree.root];else return!1;return S&&(u=u.id===e.jstree.root?this.element:e("#"+u.id.replace(e.jstree.idregex,"\\$&"),this.element)),u}catch{return!1}},get_path:function(u,S,y){if(u=u.parents?u:this.get_node(u),!u||u.id===e.jstree.root||!u.parents)return!1;var k,T,A=[];for(A.push(y?u.id:u.text),k=0,T=u.parents.length;k<T;k++)A.push(y?u.parents[k]:this.get_text(u.parents[k]));return A=A.reverse().slice(1),S?A.join(S):A},get_next_dom:function(u,S){var y;if(u=this.get_node(u,!0),u[0]===this.element[0]){for(y=this._firstChild(this.get_container_ul()[0]);y&&y.offsetHeight===0;)y=this._nextSibling(y);return y?e(y):!1}if(!u||!u.length)return!1;if(S){y=u[0];do y=this._nextSibling(y);while(y&&y.offsetHeight===0);return y?e(y):!1}if(u.hasClass("jstree-open")){for(y=this._firstChild(u.children(".jstree-children")[0]);y&&y.offsetHeight===0;)y=this._nextSibling(y);if(y!==null)return e(y)}y=u[0];do y=this._nextSibling(y);while(y&&y.offsetHeight===0);return y!==null?e(y):u.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(u,S){var y;if(u=this.get_node(u,!0),u[0]===this.element[0]){for(y=this.get_container_ul()[0].lastChild;y&&y.offsetHeight===0;)y=this._previousSibling(y);return y?e(y):!1}if(!u||!u.length)return!1;if(S){y=u[0];do y=this._previousSibling(y);while(y&&y.offsetHeight===0);return y?e(y):!1}y=u[0];do y=this._previousSibling(y);while(y&&y.offsetHeight===0);if(y!==null){for(u=e(y);u.hasClass("jstree-open");)u=u.children(".jstree-children").first().children(".jstree-node:visible:last");return u}return y=u[0].parentNode.parentNode,y&&y.className&&y.className.indexOf("jstree-node")!==-1?e(y):!1},get_parent:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.parent},get_children_dom:function(u){return u=this.get_node(u,!0),u[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!u||!u.length?!1:u.children(".jstree-children").children(".jstree-node")},is_parent:function(u){return u=this.get_node(u),u&&(u.state.loaded===!1||u.children.length>0)},is_loaded:function(u){return u=this.get_node(u),u&&u.state.loaded},is_loading:function(u){return u=this.get_node(u),u&&u.state&&u.state.loading},is_open:function(u){return u=this.get_node(u),u&&u.state.opened},is_closed:function(u){return u=this.get_node(u),u&&this.is_parent(u)&&!u.state.opened},is_leaf:function(u){return!this.is_parent(u)},load_node:function(u,S){var y=this.get_node(u,!0),k,T,A,F,z;if(e.vakata.is_array(u))return this._load_nodes(u.slice(),S),!0;if(u=this.get_node(u),!u)return S&&S.call(this,u,!1),!1;if(u.state.loaded){for(u.state.loaded=!1,A=0,F=u.parents.length;A<F;A++)this._model.data[u.parents[A]].children_d=e.vakata.array_filter(this._model.data[u.parents[A]].children_d,function(N){return e.inArray(N,u.children_d)===-1});for(k=0,T=u.children_d.length;k<T;k++)this._model.data[u.children_d[k]].state.selected&&(z=!0),delete this._model.data[u.children_d[k]];z&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(N){return e.inArray(N,u.children_d)===-1})),u.children=[],u.children_d=[],z&&this.trigger("changed",{action:"load_node",node:u,selected:this._data.core.selected})}return u.state.failed=!1,u.state.loading=!0,u.id!==e.jstree.root?y.children(".jstree-anchor").attr("aria-busy",!0):y.attr("aria-busy",!0),y.addClass("jstree-loading"),this._load_node(u,(function(N){u=this._model.data[u.id],u.state.loading=!1,u.state.loaded=N,u.state.failed=!u.state.loaded;var m=this.get_node(u,!0),w=0,M=0,D=this._model.data,I=!1;for(w=0,M=u.children.length;w<M;w++)if(D[u.children[w]]&&!D[u.children[w]].state.hidden){I=!0;break}u.state.loaded&&m&&m.length&&(m.removeClass("jstree-closed jstree-open jstree-leaf"),I?u.id!=="#"&&m.addClass(u.state.opened?"jstree-open":"jstree-closed"):m.addClass("jstree-leaf")),u.id!==e.jstree.root?m.children(".jstree-anchor").attr("aria-busy",!1):m.attr("aria-busy",!1),m.removeClass("jstree-loading"),this.trigger("load_node",{node:u,status:N}),S&&S.call(this,u,N)}).bind(this)),!0},_load_nodes:function(u,S,y,k){var T=!0,A=function(){this._load_nodes(u,S,!0)},F=this._model.data,z,N,m=[];for(z=0,N=u.length;z<N;z++)F[u[z]]&&(!F[u[z]].state.loaded&&!F[u[z]].state.failed||!y&&k)&&(this.is_loading(u[z])||this.load_node(u[z],A),T=!1);if(T){for(z=0,N=u.length;z<N;z++)F[u[z]]&&F[u[z]].state.loaded&&m.push(u[z]);S&&!S.done&&(S.call(this,m),S.done=!0)}},load_all:function(u,S){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var y=[],k=this._model.data,T=k[u.id].children_d,A,F;for(u.state&&!u.state.loaded&&y.push(u.id),A=0,F=T.length;A<F;A++)k[T[A]]&&k[T[A]].state&&!k[T[A]].state.loaded&&y.push(T[A]);y.length?this._load_nodes(y,function(){this.load_all(u,S)}):(S&&S.call(this,u),this.trigger("load_all",{node:u}))},_load_node:function(u,S){var y=this.settings.core.data,k,T=function(){return this.nodeType!==3&&this.nodeType!==8};return y?e.vakata.is_function(y)?y.call(this,u,(function(A){A===!1?S.call(this,!1):this[typeof A=="string"?"_append_html_data":"_append_json_data"](u,typeof A=="string"?e(e.parseHTML(A)).filter(T):A,function(F){S.call(this,F)})}).bind(this)):typeof y=="object"?y.url?(y=e.extend(!0,{},y),e.vakata.is_function(y.url)&&(y.url=y.url.call(this,u)),e.vakata.is_function(y.data)&&(y.data=y.data.call(this,u)),e.ajax(y).done((function(A,F,z){var N=z.getResponseHeader("Content-Type");return N&&N.indexOf("json")!==-1||typeof A=="object"?this._append_json_data(u,A,function(m){S.call(this,m)}):N&&N.indexOf("html")!==-1||typeof A=="string"?this._append_html_data(u,e(e.parseHTML(A)).filter(T),function(m){S.call(this,m)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:z})},this.settings.core.error.call(this,this._data.core.last_error),S.call(this,!1))}).bind(this)).fail((function(A){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:A})},S.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}).bind(this))):(e.vakata.is_array(y)?k=e.extend(!0,[],y):e.isPlainObject(y)?k=e.extend(!0,{},y):k=y,u.id===e.jstree.root?this._append_json_data(u,k,function(A){S.call(this,A)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),S.call(this,!1))):typeof y=="string"?u.id===e.jstree.root?this._append_html_data(u,e(e.parseHTML(y)).filter(T),function(A){S.call(this,A)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),S.call(this,!1)):S.call(this,!1):u.id===e.jstree.root?this._append_html_data(u,this._data.core.original_container_html.clone(!0),function(A){S.call(this,A)}):S.call(this,!1)},_node_changed:function(u){u=this.get_node(u),u&&e.inArray(u.id,this._model.changed)===-1&&this._model.changed.push(u.id)},_append_html_data:function(u,S,y){u=this.get_node(u),u.children=[],u.children_d=[];var k=S.is("ul")?S.children():S,T=u.id,A=[],F=[],z=this._model.data,N=z[T],m=this._data.core.selected.length,w,M,D;for(k.each((function(I,H){w=this._parse_model_from_html(e(H),T,N.parents.concat()),w&&(A.push(w),F.push(w),z[w].children_d.length&&(F=F.concat(z[w].children_d)))}).bind(this)),N.children=A,N.children_d=F,M=0,D=N.parents.length;M<D;M++)z[N.parents[M]].children_d=z[N.parents[M]].children_d.concat(F);this.trigger("model",{nodes:F,parent:T}),T!==e.jstree.root?(this._node_changed(T),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==m&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),y.call(this,!0)},_append_json_data:function(u,S,y,k){if(this.element!==null){u=this.get_node(u),u.children=[],u.children_d=[],S.d&&(S=S.d,typeof S=="string"&&(S=JSON.parse(S))),e.vakata.is_array(S)||(S=[S]);var T=null,A={df:this._model.default_state,dat:S,par:u.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},F=this,z=function(m,w){m.data&&(m=m.data);var M=m.dat,D=m.par,I=[],H=[],j=[],$=m.df,ae=m.t_id,X=m.t_cnt,Y=m.m,ue=Y[D],be=m.sel,Oe,me,xe,Ae,$e=function(ye,dt,ft){ft?ft=ft.concat():ft=[],dt&&ft.unshift(dt);var Gt=ye.id.toString(),Re,ri,fi,ci,Ve={id:Gt,text:ye.text||"",icon:ye.icon!==w?ye.icon:!0,parent:dt,parents:ft,children:ye.children||[],children_d:ye.children_d||[],data:ye.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(Re in $)$.hasOwnProperty(Re)&&(Ve.state[Re]=$[Re]);if(ye&&ye.data&&ye.data.jstree&&ye.data.jstree.icon&&(Ve.icon=ye.data.jstree.icon),(Ve.icon===w||Ve.icon===null||Ve.icon==="")&&(Ve.icon=!0),ye&&ye.data&&(Ve.data=ye.data,ye.data.jstree))for(Re in ye.data.jstree)ye.data.jstree.hasOwnProperty(Re)&&(Ve.state[Re]=ye.data.jstree[Re]);if(ye&&typeof ye.state=="object")for(Re in ye.state)ye.state.hasOwnProperty(Re)&&(Ve.state[Re]=ye.state[Re]);if(ye&&typeof ye.li_attr=="object")for(Re in ye.li_attr)ye.li_attr.hasOwnProperty(Re)&&(Ve.li_attr[Re]=ye.li_attr[Re]);if(Ve.li_attr.id||(Ve.li_attr.id=Gt),ye&&typeof ye.a_attr=="object")for(Re in ye.a_attr)ye.a_attr.hasOwnProperty(Re)&&(Ve.a_attr[Re]=ye.a_attr[Re]);for(ye&&ye.children&&ye.children===!0&&(Ve.state.loaded=!1,Ve.children=[],Ve.children_d=[]),Y[Ve.id]=Ve,Re=0,ri=Ve.children.length;Re<ri;Re++)fi=$e(Y[Ve.children[Re]],Ve.id,ft),ci=Y[fi],Ve.children_d.push(fi),ci.children_d.length&&(Ve.children_d=Ve.children_d.concat(ci.children_d));return delete ye.data,delete ye.children,Y[Ve.id].original=ye,Ve.state.selected&&j.push(Ve.id),Ve.id},tt=function(ye,dt,ft){ft?ft=ft.concat():ft=[],dt&&ft.unshift(dt);var Gt=!1,Re,ri,fi,ci,Ve;do Gt="j"+ae+"_"+ ++X;while(Y[Gt]);Ve={id:!1,text:typeof ye=="string"?ye:"",icon:typeof ye=="object"&&ye.icon!==w?ye.icon:!0,parent:dt,parents:ft,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(Re in $)$.hasOwnProperty(Re)&&(Ve.state[Re]=$[Re]);if(ye&&(ye.id||ye.id===0)&&(Ve.id=ye.id.toString()),ye&&ye.text&&(Ve.text=ye.text),ye&&ye.data&&ye.data.jstree&&ye.data.jstree.icon&&(Ve.icon=ye.data.jstree.icon),(Ve.icon===w||Ve.icon===null||Ve.icon==="")&&(Ve.icon=!0),ye&&ye.data&&(Ve.data=ye.data,ye.data.jstree))for(Re in ye.data.jstree)ye.data.jstree.hasOwnProperty(Re)&&(Ve.state[Re]=ye.data.jstree[Re]);if(ye&&typeof ye.state=="object")for(Re in ye.state)ye.state.hasOwnProperty(Re)&&(Ve.state[Re]=ye.state[Re]);if(ye&&typeof ye.li_attr=="object")for(Re in ye.li_attr)ye.li_attr.hasOwnProperty(Re)&&(Ve.li_attr[Re]=ye.li_attr[Re]);if(Ve.li_attr.id&&!(Ve.id||Ve.id===0)&&(Ve.id=Ve.li_attr.id.toString()),Ve.id||Ve.id===0||(Ve.id=Gt),Ve.li_attr.id||(Ve.li_attr.id=Ve.id),ye&&typeof ye.a_attr=="object")for(Re in ye.a_attr)ye.a_attr.hasOwnProperty(Re)&&(Ve.a_attr[Re]=ye.a_attr[Re]);if(ye&&ye.children&&ye.children.length){for(Re=0,ri=ye.children.length;Re<ri;Re++)fi=tt(ye.children[Re],Ve.id,ft),ci=Y[fi],Ve.children.push(fi),ci.children_d.length&&(Ve.children_d=Ve.children_d.concat(ci.children_d));Ve.children_d=Ve.children_d.concat(Ve.children)}return ye&&ye.children&&ye.children===!0&&(Ve.state.loaded=!1,Ve.children=[],Ve.children_d=[]),delete ye.data,delete ye.children,Ve.original=ye,Y[Ve.id]=Ve,Ve.state.selected&&j.push(Ve.id),Ve.id};if(M.length&&M[0].id!==w&&M[0].parent!==w){for(me=0,xe=M.length;me<xe;me++)M[me].children||(M[me].children=[]),M[me].state||(M[me].state={}),Y[M[me].id.toString()]=M[me];for(me=0,xe=M.length;me<xe;me++){if(!Y[M[me].parent.toString()]){typeof F<"u"&&(F._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:M[me].id.toString(),parent:M[me].parent.toString()})},F.settings.core.error.call(F,F._data.core.last_error));continue}Y[M[me].parent.toString()].children.push(M[me].id.toString()),ue.children_d.push(M[me].id.toString())}for(me=0,xe=ue.children.length;me<xe;me++)Oe=$e(Y[ue.children[me]],D,ue.parents.concat()),H.push(Oe),Y[Oe].children_d.length&&(H=H.concat(Y[Oe].children_d));for(me=0,xe=ue.parents.length;me<xe;me++)Y[ue.parents[me]].children_d=Y[ue.parents[me]].children_d.concat(H);Ae={cnt:X,mod:Y,sel:be,par:D,dpc:H,add:j}}else{for(me=0,xe=M.length;me<xe;me++)Oe=tt(M[me],D,ue.parents.concat()),Oe&&(I.push(Oe),H.push(Oe),Y[Oe].children_d.length&&(H=H.concat(Y[Oe].children_d)));for(ue.children=I,ue.children_d=H,me=0,xe=ue.parents.length;me<xe;me++)Y[ue.parents[me]].children_d=Y[ue.parents[me]].children_d.concat(H);Ae={cnt:X,mod:Y,sel:be,par:D,dpc:H,add:j}}if(typeof window>"u"||typeof window.document>"u")postMessage(Ae);else return Ae},N=function(m,w){if(this.element!==null){this._cnt=m.cnt;var M,D=this._model.data;for(M in D)D.hasOwnProperty(M)&&D[M].state&&D[M].state.loading&&m.mod[M]&&(m.mod[M].state.loading=!0);if(this._model.data=m.mod,w){var I,H=m.add,j=m.sel,$=this._data.core.selected.slice();if(D=this._model.data,j.length!==$.length||e.vakata.array_unique(j.concat($)).length!==j.length){for(M=0,I=j.length;M<I;M++)e.inArray(j[M],H)===-1&&e.inArray(j[M],$)===-1&&(D[j[M]].state.selected=!1);for(M=0,I=$.length;M<I;M++)e.inArray($[M],j)===-1&&(D[$[M]].state.selected=!0)}}m.add.length&&(this._data.core.selected=this._data.core.selected.concat(m.add)),this.trigger("model",{nodes:m.dpc,parent:m.par}),m.par!==e.jstree.root?(this._node_changed(m.par),this.redraw()):this.redraw(!0),m.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!w&&g?g(function(){y.call(F,!0)}):y.call(F,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{this._wrk===null&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+z.toString()],{type:"text/javascript"}))),!this._data.core.working||k?(this._data.core.working=!0,T=new window.Worker(this._wrk),T.onmessage=(function(m){N.call(this,m.data,!0);try{T.terminate(),T=null}catch{}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),T.onerror=(function(m){N.call(this,z(A),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),A.par?T.postMessage(A):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([u,S,y,!0])}catch{N.call(this,z(A),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else N.call(this,z(A),!1)}},_parse_model_from_html:function(u,S,y){y?y=[].concat(y):y=[],S&&y.unshift(S);var k,T,A=this._model.data,F={id:!1,text:!1,icon:!0,parent:S,parents:y,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},z,N,m;for(z in this._model.default_state)this._model.default_state.hasOwnProperty(z)&&(F.state[z]=this._model.default_state[z]);if(N=e.vakata.attributes(u,!0),e.each(N,function(w,M){if(M=e.vakata.trim(M),!M.length)return!0;F.li_attr[w]=M,w==="id"&&(F.id=M.toString())}),N=u.children("a").first(),N.length&&(N=e.vakata.attributes(N,!0),e.each(N,function(w,M){M=e.vakata.trim(M),M.length&&(F.a_attr[w]=M)})),N=u.children("a").first().length?u.children("a").first().clone():u.clone(),N.children("ins, i, ul").remove(),N=N.html(),N=e("<div></div>").html(N),F.text=this.settings.core.force_text?N.text():N.html(),N=u.data(),F.data=N?e.extend(!0,{},N):null,F.state.opened=u.hasClass("jstree-open"),F.state.selected=u.children("a").hasClass("jstree-clicked"),F.state.disabled=u.children("a").hasClass("jstree-disabled"),F.data&&F.data.jstree)for(z in F.data.jstree)F.data.jstree.hasOwnProperty(z)&&(F.state[z]=F.data.jstree[z]);N=u.children("a").children(".jstree-themeicon"),N.length&&(F.icon=N.hasClass("jstree-themeicon-hidden")?!1:N.attr("rel")),F.state.icon!==i&&(F.icon=F.state.icon),(F.icon===i||F.icon===null||F.icon==="")&&(F.icon=!0),N=u.children("ul").children("li");do m="j"+this._id+"_"+ ++this._cnt;while(A[m]);return F.id=F.li_attr.id?F.li_attr.id.toString():m,N.length?(N.each((function(w,M){k=this._parse_model_from_html(e(M),F.id,y),T=this._model.data[k],F.children.push(k),T.children_d.length&&(F.children_d=F.children_d.concat(T.children_d))}).bind(this)),F.children_d=F.children_d.concat(F.children)):u.hasClass("jstree-closed")&&(F.state.loaded=!1),F.li_attr.class&&(F.li_attr.class=F.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),F.a_attr.class&&(F.a_attr.class=F.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),A[F.id]=F,F.state.selected&&this._data.core.selected.push(F.id),F.id},_parse_model_from_flat_json:function(u,S,y){y?y=y.concat():y=[],S&&y.unshift(S);var k=u.id.toString(),T=this._model.data,A=this._model.default_state,F,z,N,m,w={id:k,text:u.text||"",icon:u.icon!==i?u.icon:!0,parent:S,parents:y,children:u.children||[],children_d:u.children_d||[],data:u.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(F in A)A.hasOwnProperty(F)&&(w.state[F]=A[F]);if(u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(w.icon=u.data.jstree.icon),(w.icon===i||w.icon===null||w.icon==="")&&(w.icon=!0),u&&u.data&&(w.data=u.data,u.data.jstree))for(F in u.data.jstree)u.data.jstree.hasOwnProperty(F)&&(w.state[F]=u.data.jstree[F]);if(u&&typeof u.state=="object")for(F in u.state)u.state.hasOwnProperty(F)&&(w.state[F]=u.state[F]);if(u&&typeof u.li_attr=="object")for(F in u.li_attr)u.li_attr.hasOwnProperty(F)&&(w.li_attr[F]=u.li_attr[F]);if(w.li_attr.id||(w.li_attr.id=k),u&&typeof u.a_attr=="object")for(F in u.a_attr)u.a_attr.hasOwnProperty(F)&&(w.a_attr[F]=u.a_attr[F]);for(u&&u.children&&u.children===!0&&(w.state.loaded=!1,w.children=[],w.children_d=[]),T[w.id]=w,F=0,z=w.children.length;F<z;F++)N=this._parse_model_from_flat_json(T[w.children[F]],w.id,y),m=T[N],w.children_d.push(N),m.children_d.length&&(w.children_d=w.children_d.concat(m.children_d));return delete u.data,delete u.children,T[w.id].original=u,w.state.selected&&this._data.core.selected.push(w.id),w.id},_parse_model_from_json:function(u,S,y){y?y=y.concat():y=[],S&&y.unshift(S);var k=!1,T,A,F,z,N=this._model.data,m=this._model.default_state,w;do k="j"+this._id+"_"+ ++this._cnt;while(N[k]);w={id:!1,text:typeof u=="string"?u:"",icon:typeof u=="object"&&u.icon!==i?u.icon:!0,parent:S,parents:y,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(T in m)m.hasOwnProperty(T)&&(w.state[T]=m[T]);if(u&&(u.id||u.id===0)&&(w.id=u.id.toString()),u&&u.text&&(w.text=u.text),u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(w.icon=u.data.jstree.icon),(w.icon===i||w.icon===null||w.icon==="")&&(w.icon=!0),u&&u.data&&(w.data=u.data,u.data.jstree))for(T in u.data.jstree)u.data.jstree.hasOwnProperty(T)&&(w.state[T]=u.data.jstree[T]);if(u&&typeof u.state=="object")for(T in u.state)u.state.hasOwnProperty(T)&&(w.state[T]=u.state[T]);if(u&&typeof u.li_attr=="object")for(T in u.li_attr)u.li_attr.hasOwnProperty(T)&&(w.li_attr[T]=u.li_attr[T]);if(w.li_attr.id&&!(w.id||w.id===0)&&(w.id=w.li_attr.id.toString()),w.id||w.id===0||(w.id=k),w.li_attr.id||(w.li_attr.id=w.id),u&&typeof u.a_attr=="object")for(T in u.a_attr)u.a_attr.hasOwnProperty(T)&&(w.a_attr[T]=u.a_attr[T]);if(u&&u.children&&u.children.length){for(T=0,A=u.children.length;T<A;T++)F=this._parse_model_from_json(u.children[T],w.id,y),z=N[F],w.children.push(F),z.children_d.length&&(w.children_d=w.children_d.concat(z.children_d));w.children_d=w.children.concat(w.children_d)}return u&&u.children&&u.children===!0&&(w.state.loaded=!1,w.children=[],w.children_d=[]),delete u.data,delete u.children,w.original=u,N[w.id]=w,w.state.selected&&this._data.core.selected.push(w.id),w.id},_redraw:function(){var u=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),S=f.createElement("UL"),y,k,T,A=this._data.core.focused;for(k=0,T=u.length;k<T;k++)y=this.redraw_node(u[k],!0,this._model.force_full_redraw),y&&this._model.force_full_redraw&&S.appendChild(y);this._model.force_full_redraw&&(S.className=this.get_container_ul()[0].className,S.setAttribute("role","presentation"),this.element.empty().append(S)),A!==null&&this.settings.core.restore_focus&&(y=this.get_node(A,!0),y&&y.length&&y.children(".jstree-anchor")[0]!==f.activeElement?y.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:u})},redraw:function(u){u&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(u){var S=this.get_node(u),y=!1,k=!1,T=!1,A=f;if(!S)return!1;if(S.id===e.jstree.root)return this.redraw(!0);if(u=this.get_node(u,!0),!u||!u.length)return!1;if(u.children(".jstree-children").remove(),u=u[0],S.children.length&&S.state.loaded){for(T=A.createElement("UL"),T.setAttribute("role","group"),T.className="jstree-children",y=0,k=S.children.length;y<k;y++)T.appendChild(this.redraw_node(S.children[y],!0,!0));u.appendChild(T)}},redraw_node:function(u,S,y,k){var T=this.get_node(u),A=!1,F=!1,z=!1,N=!1,m=!1,w=!1,M="",D=f,I=this._model.data,H=!1,j=null,$=0,ae=0,X=!1,Y=!1;if(!T)return!1;if(T.id===e.jstree.root)return this.redraw(!0);if(S=S||T.children.length===0,u=f.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(T.id[0])!==-1?"\\3"+T.id[0]+" "+T.id.substr(1).replace(e.jstree.idregex,"\\$&"):T.id.replace(e.jstree.idregex,"\\$&"))):f.getElementById(T.id),u)u=e(u),y||(A=u.parent().parent()[0],A===this.element[0]&&(A=null),F=u.index()),!S&&T.children.length&&!u.children(".jstree-children").length&&(S=!0),S||(z=u.children(".jstree-children")[0]),H=u.children(".jstree-anchor")[0]===f.activeElement,u.remove();else if(S=!0,!y){if(A=T.parent!==e.jstree.root?e("#"+T.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,A!==null&&(!A||!I[T.parent].state.opened))return!1;F=e.inArray(T.id,A===null?I[e.jstree.root].children:I[T.parent].children)}u=this._data.core.node.cloneNode(!0),M="jstree-node ";for(N in T.li_attr)if(T.li_attr.hasOwnProperty(N)){if(N==="id")continue;N!=="class"?u.setAttribute(N,T.li_attr[N]):M+=T.li_attr[N]}for(T.a_attr.id||(T.a_attr.id=T.id+"_anchor"),u.childNodes[1].setAttribute("aria-selected",!!T.state.selected),u.childNodes[1].setAttribute("aria-level",T.parents.length),this.settings.core.compute_elements_positions&&(u.childNodes[1].setAttribute("aria-setsize",I[T.parent].children.length),u.childNodes[1].setAttribute("aria-posinset",I[T.parent].children.indexOf(T.id)+1)),T.state.disabled&&u.childNodes[1].setAttribute("aria-disabled",!0),N=0,m=T.children.length;N<m;N++)if(!I[T.children[N]].state.hidden){X=!0;break}if(T.parent!==null&&I[T.parent]&&!T.state.hidden&&(N=e.inArray(T.id,I[T.parent].children),Y=T.id,N!==-1))for(N++,m=I[T.parent].children.length;N<m&&(I[I[T.parent].children[N]].state.hidden||(Y=I[T.parent].children[N]),Y===T.id);N++);T.state.hidden&&(M+=" jstree-hidden"),T.state.loading&&(M+=" jstree-loading"),T.state.loaded&&!X?M+=" jstree-leaf":(M+=T.state.opened&&T.state.loaded?" jstree-open":" jstree-closed",u.childNodes[1].setAttribute("aria-expanded",T.state.opened&&T.state.loaded)),Y===T.id&&(M+=" jstree-last"),u.id=T.id,u.className=M,M=(T.state.selected?" jstree-clicked":"")+(T.state.disabled?" jstree-disabled":"");for(m in T.a_attr)if(T.a_attr.hasOwnProperty(m)){if(m==="href"&&T.a_attr[m]==="#")continue;m!=="class"?u.childNodes[1].setAttribute(m,T.a_attr[m]):M+=" "+T.a_attr[m]}if(M.length&&(u.childNodes[1].className="jstree-anchor "+M),(T.icon&&T.icon!==!0||T.icon===!1)&&(T.icon===!1?u.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":T.icon.indexOf("/")===-1&&T.icon.indexOf(".")===-1?u.childNodes[1].childNodes[0].className+=" "+T.icon+" jstree-themeicon-custom":(u.childNodes[1].childNodes[0].style.backgroundImage='url("'+T.icon+'")',u.childNodes[1].childNodes[0].style.backgroundPosition="center center",u.childNodes[1].childNodes[0].style.backgroundSize="auto",u.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?u.childNodes[1].appendChild(D.createTextNode(T.text)):u.childNodes[1].innerHTML+=T.text,S&&T.children.length&&(T.state.opened||k)&&T.state.loaded){for(w=D.createElement("UL"),w.setAttribute("role","group"),w.className="jstree-children",N=0,m=T.children.length;N<m;N++)w.appendChild(this.redraw_node(T.children[N],S,!0));u.appendChild(w)}if(z&&u.appendChild(z),!y){for(A||(A=this.element[0]),N=0,m=A.childNodes.length;N<m;N++)if(A.childNodes[N]&&A.childNodes[N].className&&A.childNodes[N].className.indexOf("jstree-children")!==-1){j=A.childNodes[N];break}j||(j=D.createElement("UL"),j.setAttribute("role","group"),j.className="jstree-children",A.appendChild(j)),A=j,F<A.childNodes.length?A.insertBefore(u,A.childNodes[F]):A.appendChild(u),H&&($=this.element[0].scrollTop,ae=this.element[0].scrollLeft,u.childNodes[1].focus(),this.element[0].scrollTop=$,this.element[0].scrollLeft=ae)}return T.state.opened&&!T.state.loaded&&(T.state.opened=!1,setTimeout((function(){this.open_node(T.id,!1,0)}).bind(this),0)),u},open_node:function(u,S,y){var k,T,A,F;if(e.vakata.is_array(u)){for(u=u.slice(),k=0,T=u.length;k<T;k++)this.open_node(u[k],S,y);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;if(y=y===i?this.settings.core.animation:y,!this.is_closed(u))return S&&S.call(this,u,!1),!1;if(this.is_loaded(u))return A=this.get_node(u,!0),F=this,A.length&&(y&&A.children(".jstree-children").length&&A.children(".jstree-children").stop(!0,!0),u.children.length&&!this._firstChild(A.children(".jstree-children")[0])&&this.draw_children(u),y?(this.trigger("before_open",{node:u}),A.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(y,function(){this.style.display="",F.element&&F.trigger("after_open",{node:u})})):(this.trigger("before_open",{node:u}),A[0].className=A[0].className.replace("jstree-closed","jstree-open"),A[0].childNodes[1].setAttribute("aria-expanded",!0))),u.state.opened=!0,S&&S.call(this,u,!0),A.length||this.trigger("before_open",{node:u}),this.trigger("open_node",{node:u}),(!y||!A.length)&&this.trigger("after_open",{node:u}),!0;if(this.is_loading(u))return setTimeout((function(){this.open_node(u,S,y)}).bind(this),500);this.load_node(u,function(z,N){return N?this.open_node(z,S,y):S?S.call(this,z,!1):!1})},_open_to:function(u){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var S,y,k=u.parents;for(S=0,y=k.length;S<y;S+=1)S!==e.jstree.root&&this.open_node(k[S],!1,0);return e("#"+u.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(u,S){var y,k,T,A;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,k=u.length;y<k;y++)this.close_node(u[y],S);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root||this.is_closed(u))return!1;S=S===i?this.settings.core.animation:S,T=this,A=this.get_node(u,!0),u.state.opened=!1,this.trigger("close_node",{node:u}),A.length?S?A.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(S,function(){this.style.display="",A.children(".jstree-children").remove(),T.element&&T.trigger("after_close",{node:u})}):(A[0].className=A[0].className.replace("jstree-open","jstree-closed"),A.children(".jstree-anchor").attr("aria-expanded",!1),A.children(".jstree-children").remove(),this.trigger("after_close",{node:u})):this.trigger("after_close",{node:u})},toggle_node:function(u){var S,y;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,y=u.length;S<y;S++)this.toggle_node(u[S]);return!0}if(this.is_closed(u))return this.open_node(u);if(this.is_open(u))return this.close_node(u)},open_all:function(u,S,y){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var k=u.id===e.jstree.root?this.get_container_ul():this.get_node(u,!0),T,A,F;if(!k.length){for(T=0,A=u.children_d.length;T<A;T++)this.is_closed(this._model.data[u.children_d[T]])&&(this._model.data[u.children_d[T]].state.opened=!0);return this.trigger("open_all",{node:u})}y=y||k,F=this,k=this.is_closed(u)?k.find(".jstree-closed").addBack():k.find(".jstree-closed"),k.each(function(){F.open_node(this,function(z,N){N&&this.is_parent(z)&&this.open_all(z,S,y)},S||0)}),y.find(".jstree-closed").length===0&&this.trigger("open_all",{node:this.get_node(y)})},close_all:function(u,S){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var y=u.id===e.jstree.root?this.get_container_ul():this.get_node(u,!0),k=this,T,A;for(y.length&&(y=this.is_open(u)?y.find(".jstree-open").addBack():y.find(".jstree-open"),e(y.get().reverse()).each(function(){k.close_node(this,S||0)})),T=0,A=u.children_d.length;T<A;T++)this._model.data[u.children_d[T]].state.opened=!1;this.trigger("close_all",{node:u})},is_disabled:function(u){return u=this.get_node(u),u&&u.state&&u.state.disabled},enable_node:function(u){var S,y;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,y=u.length;S<y;S++)this.enable_node(u[S]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.disabled=!1,this.get_node(u,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:u})},disable_node:function(u){var S,y;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,y=u.length;S<y;S++)this.disable_node(u[S]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.disabled=!0,this.get_node(u,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:u})},is_hidden:function(u){return u=this.get_node(u),u.state.hidden===!0},hide_node:function(u,S){var y,k;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,k=u.length;y<k;y++)this.hide_node(u[y],!0);return S||this.redraw(),!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.hidden||(u.state.hidden=!0,this._node_changed(u.parent),S||this.redraw(),this.trigger("hide_node",{node:u}))},show_node:function(u,S){var y,k;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,k=u.length;y<k;y++)this.show_node(u[y],!0);return S||this.redraw(),!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.hidden&&(u.state.hidden=!1,this._node_changed(u.parent),S||this.redraw(),this.trigger("show_node",{node:u}))},hide_all:function(u){var S,y=this._model.data,k=[];for(S in y)y.hasOwnProperty(S)&&S!==e.jstree.root&&!y[S].state.hidden&&(y[S].state.hidden=!0,k.push(S));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("hide_all",{nodes:k}),k},show_all:function(u){var S,y=this._model.data,k=[];for(S in y)y.hasOwnProperty(S)&&S!==e.jstree.root&&y[S].state.hidden&&(y[S].state.hidden=!1,k.push(S));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("show_all",{nodes:k}),k},activate_node:function(u,S){if(this.is_disabled(u))return!1;if((!S||typeof S!="object")&&(S={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==i?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),!this.settings.core.multiple||!S.metaKey&&!S.ctrlKey&&!S.shiftKey||S.shiftKey&&(!this._data.core.last_clicked||!this.get_parent(u)||this.get_parent(u)!==this._data.core.last_clicked.parent))!this.settings.core.multiple&&(S.metaKey||S.ctrlKey||S.shiftKey)&&this.is_selected(u)?this.deselect_node(u,!1,S):((this.settings.core.allow_reselect||!this.is_selected(u)||this._data.core.selected.length!==1)&&(this.deselect_all(!0),this.select_node(u,!1,!1,S)),this._data.core.last_clicked=this.get_node(u));else if(S.shiftKey){var y=this.get_node(u).id,k=this._data.core.last_clicked.id,T=this.get_node(this._data.core.last_clicked.parent).children,A=!1,F,z;for(F=0,z=T.length;F<z;F+=1)T[F]===y&&(A=!A),T[F]===k&&(A=!A),!this.is_disabled(T[F])&&(A||T[F]===y||T[F]===k)?this.is_hidden(T[F])||this.select_node(T[F],!0,!1,S):S.ctrlKey||this.deselect_node(T[F],!0,S);this.trigger("changed",{action:"select_node",node:this.get_node(u),selected:this._data.core.selected,event:S})}else this.is_selected(u)?this.deselect_node(u,!1,S):(S.ctrlKey&&(this._data.core.last_clicked=this.get_node(u)),this.select_node(u,!1,!1,S));this.trigger("activate_node",{node:this.get_node(u),event:S})},hover_node:function(u){if(u=this.get_node(u,!0),!u||!u.length||u.children(".jstree-hovered").length)return!1;var S=this.element.find(".jstree-hovered"),y=this.element;S&&S.length&&this.dehover_node(S),u.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(u)}),setTimeout(function(){y.attr("aria-activedescendant",u[0].id)},0)},dehover_node:function(u){if(u=this.get_node(u,!0),!u||!u.length||!u.children(".jstree-hovered").length)return!1;u.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(u)})},select_node:function(u,S,y,k){var T,A,F;if(e.vakata.is_array(u)){for(u=u.slice(),A=0,F=u.length;A<F;A++)this.select_node(u[A],S,y,k);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;T=this.get_node(u,!0),u.state.selected||(u.state.selected=!0,this._data.core.selected.push(u.id),y||(T=this._open_to(u)),T&&T.length&&T.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:u,selected:this._data.core.selected,event:k}),S||this.trigger("changed",{action:"select_node",node:u,selected:this._data.core.selected,event:k}))},deselect_node:function(u,S,y){var k,T,A;if(e.vakata.is_array(u)){for(u=u.slice(),k=0,T=u.length;k<T;k++)this.deselect_node(u[k],S,y);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;A=this.get_node(u,!0),u.state.selected&&(u.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,u.id),A.length&&A.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:u,selected:this._data.core.selected,event:y}),S||this.trigger("changed",{action:"deselect_node",node:u,selected:this._data.core.selected,event:y}))},select_all:function(u){var S=this._data.core.selected.concat([]),y,k;for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),y=0,k=this._data.core.selected.length;y<k;y++)this._model.data[this._data.core.selected[y]]&&(this._model.data[this._data.core.selected[y]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),u||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:S})},deselect_all:function(u){var S=this._data.core.selected.concat([]),y,k;for(y=0,k=this._data.core.selected.length;y<k;y++)this._model.data[this._data.core.selected[y]]&&(this._model.data[this._data.core.selected[y]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:S}),u||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:S})},is_selected:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.state.selected},get_selected:function(u){return u?e.map(this._data.core.selected,(function(S){return this.get_node(S)}).bind(this)):this._data.core.selected.slice()},get_top_selected:function(u){var S=this.get_selected(!0),y={},k,T,A,F;for(k=0,T=S.length;k<T;k++)y[S[k].id]=S[k];for(k=0,T=S.length;k<T;k++)for(A=0,F=S[k].children_d.length;A<F;A++)y[S[k].children_d[A]]&&delete y[S[k].children_d[A]];S=[];for(k in y)y.hasOwnProperty(k)&&S.push(k);return u?e.map(S,(function(z){return this.get_node(z)}).bind(this)):S},get_bottom_selected:function(u){var S=this.get_selected(!0),y=[],k,T;for(k=0,T=S.length;k<T;k++)S[k].children.length||y.push(S[k].id);return u?e.map(y,(function(A){return this.get_node(A)}).bind(this)):y},get_state:function(){var u={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},S;for(S in this._model.data)this._model.data.hasOwnProperty(S)&&S!==e.jstree.root&&(this._model.data[S].state.loaded&&this.settings.core.loaded_state&&u.core.loaded.push(S),this._model.data[S].state.opened&&u.core.open.push(S),this._model.data[S].state.selected&&u.core.selected.push(S));return u},set_state:function(u,S){if(u){if(u.core&&u.core.selected&&u.core.initial_selection===i&&(u.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),u.core){var y,k;if(u.core.loaded)return!this.settings.core.loaded_state||!e.vakata.is_array(u.core.loaded)||!u.core.loaded.length?(delete u.core.loaded,this.set_state(u,S)):this._load_nodes(u.core.loaded,function(T){delete u.core.loaded,this.set_state(u,S)}),!1;if(u.core.open)return!e.vakata.is_array(u.core.open)||!u.core.open.length?(delete u.core.open,this.set_state(u,S)):this._load_nodes(u.core.open,function(T){this.open_node(T,!1,0),delete u.core.open,this.set_state(u,S)}),!1;if(u.core.scroll)return u.core.scroll&&u.core.scroll.left!==i&&this.element.scrollLeft(u.core.scroll.left),u.core.scroll&&u.core.scroll.top!==i&&this.element.scrollTop(u.core.scroll.top),delete u.core.scroll,this.set_state(u,S),!1;if(u.core.selected)return y=this,(u.core.initial_selection===i||u.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),e.each(u.core.selected,function(T,A){y.select_node(A,!1,!0)})),delete u.core.initial_selection,delete u.core.selected,this.set_state(u,S),!1;for(k in u)u.hasOwnProperty(k)&&k!=="core"&&e.inArray(k,this.settings.plugins)===-1&&delete u[k];if(e.isEmptyObject(u.core))return delete u.core,this.set_state(u,S),!1}return e.isEmptyObject(u)?(u=null,S&&S.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(u,S){this._data.core.state=S===!0?{}:this.get_state(),S&&e.vakata.is_function(S)&&(this._data.core.state=S.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var y=this.get_container_ul()[0].className;u||(this.element.html("<ul class='"+y+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(k,T){T&&(this.get_container_ul()[0].className=y,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(u){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var S=[],y=[],k=this._data.core.selected.concat([]);y.push(u.id),u.state.opened===!0&&S.push(u.id),this.get_node(u,!0).find(".jstree-open").each(function(){y.push(this.id),S.push(this.id)}),this._load_nodes(y,(function(T){this.open_node(S,!1,0),this.select_node(k),this.trigger("refresh_node",{node:u,nodes:T})}).bind(this),!1,!0)},set_id:function(u,S){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var y,k,T=this._model.data,A=u.id;for(S=S.toString(),T[u.parent].children[e.inArray(u.id,T[u.parent].children)]=S,y=0,k=u.parents.length;y<k;y++)T[u.parents[y]].children_d[e.inArray(u.id,T[u.parents[y]].children_d)]=S;for(y=0,k=u.children.length;y<k;y++)T[u.children[y]].parent=S;for(y=0,k=u.children_d.length;y<k;y++)T[u.children_d[y]].parents[e.inArray(u.id,T[u.children_d[y]].parents)]=S;return y=e.inArray(u.id,this._data.core.selected),y!==-1&&(this._data.core.selected[y]=S),y=this.get_node(u.id,!0),y&&(y.attr("id",S),this.element.attr("aria-activedescendant")===u.id&&this.element.attr("aria-activedescendant",S)),delete T[u.id],u.id=S,u.li_attr.id=S,T[S]=u,this.trigger("set_id",{node:u,new:u.id,old:A}),!0},get_text:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.text},set_text:function(u,S){var y,k;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,k=u.length;y<k;y++)this.set_text(u[y],S);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(u.text=S,this.get_node(u,!0).length&&this.redraw_node(u.id),this.trigger("set_text",{obj:u,text:S}),!0)},get_json:function(u,S,y){if(u=this.get_node(u||e.jstree.root),!u)return!1;S&&S.flat&&!y&&(y=[]);var k={id:u.id,text:u.text,icon:this.get_icon(u),li_attr:e.extend(!0,{},u.li_attr),a_attr:e.extend(!0,{},u.a_attr),state:{},data:S&&S.no_data?!1:e.extend(!0,e.vakata.is_array(u.data)?[]:{},u.data)},T,A;if(S&&S.flat?k.parent=u.parent:k.children=[],!S||!S.no_state)for(T in u.state)u.state.hasOwnProperty(T)&&(k.state[T]=u.state[T]);else delete k.state;if(S&&S.no_li_attr&&delete k.li_attr,S&&S.no_a_attr&&delete k.a_attr,S&&S.no_id&&(delete k.id,k.li_attr&&k.li_attr.id&&delete k.li_attr.id,k.a_attr&&k.a_attr.id&&delete k.a_attr.id),S&&S.flat&&u.id!==e.jstree.root&&y.push(k),!S||!S.no_children)for(T=0,A=u.children.length;T<A;T++)S&&S.flat?this.get_json(u.children[T],S,y):k.children.push(this.get_json(u.children[T],S));return S&&S.flat?y:u.id===e.jstree.root?k.children:k},create_node:function(u,S,y,k,T){if(u===null&&(u=e.jstree.root),u=this.get_node(u),!u)return!1;if(y=y===i?"last":y,!y.toString().match(/^(before|after)$/)&&!T&&!this.is_loaded(u))return this.load_node(u,function(){this.create_node(u,S,y,k,!0)});S||(S={text:this.get_string("New node")}),typeof S=="string"?S={text:S}:S=e.extend(!0,{},S),S.text===i&&(S.text=this.get_string("New node"));var A,F,z,N;switch(u.id===e.jstree.root&&(y==="before"&&(y="first"),y==="after"&&(y="last")),y){case"before":A=this.get_node(u.parent),y=e.inArray(u.id,A.children),u=A;break;case"after":A=this.get_node(u.parent),y=e.inArray(u.id,A.children)+1,u=A;break;case"inside":case"first":y=0;break;case"last":y=u.children.length;break;default:y||(y=0);break}if(y>u.children.length&&(y=u.children.length),S.id===i&&(S.id=!0),!this.check("create_node",S,u,y))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(S.id===!0&&delete S.id,S=this._parse_model_from_json(S,u.id,u.parents.concat()),!S)return!1;for(A=this.get_node(S),F=[],F.push(S),F=F.concat(A.children_d),this.trigger("model",{nodes:F,parent:u.id}),u.children_d=u.children_d.concat(F),z=0,N=u.parents.length;z<N;z++)this._model.data[u.parents[z]].children_d=this._model.data[u.parents[z]].children_d.concat(F);for(S=A,A=[],z=0,N=u.children.length;z<N;z++)A[z>=y?z+1:z]=u.children[z];return A[y]=S.id,u.children=A,this.redraw_node(u,!0),this.trigger("create_node",{node:this.get_node(S),parent:u.id,position:y}),k&&k.call(this,this.get_node(S)),S.id},rename_node:function(u,S){var y,k,T;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,k=u.length;y<k;y++)this.rename_node(u[y],S);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(T=u.text,this.check("rename_node",u,this.get_parent(u),S)?(this.set_text(u,S),this.trigger("rename_node",{node:u,text:S,old:T}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(u){var S,y,k,T,A,F,z,N,m,w,M,D;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,y=u.length;S<y;S++)this.delete_node(u[S]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;if(k=this.get_node(u.parent),T=e.inArray(u.id,k.children),w=!1,!this.check("delete_node",u,k,T))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(T!==-1&&(k.children=e.vakata.array_remove(k.children,T)),A=u.children_d.concat([]),A.push(u.id),F=0,z=u.parents.length;F<z;F++)this._model.data[u.parents[F]].children_d=e.vakata.array_filter(this._model.data[u.parents[F]].children_d,function(I){return e.inArray(I,A)===-1});for(N=0,m=A.length;N<m;N++)if(this._model.data[A[N]].state.selected){w=!0;break}for(w&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(I){return e.inArray(I,A)===-1})),this.trigger("delete_node",{node:u,parent:k.id}),w&&this.trigger("changed",{action:"delete_node",node:u,selected:this._data.core.selected,parent:k.id}),N=0,m=A.length;N<m;N++)delete this._model.data[A[N]];return e.inArray(this._data.core.focused,A)!==-1&&(this._data.core.focused=null,M=this.element[0].scrollTop,D=this.element[0].scrollLeft,k.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(k,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=M,this.element[0].scrollLeft=D),this.redraw_node(k,!0),!0},check:function(u,S,y,k,T){S=S&&S.id?S:this.get_node(S),y=y&&y.id?y:this.get_node(y);var A=u.match(/^(move_node|copy_node|create_node)$/i)?y:S,F=this.settings.core.check_callback;if(u==="move_node"||u==="copy_node"){if((!T||!T.is_multi)&&u==="move_node"&&e.inArray(S.id,y.children)===k)return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:u,pos:k,obj:S&&S.id?S.id:!1,par:y&&y.id?y.id:!1})},!1;if((!T||!T.is_multi)&&(S.id===y.id||u==="move_node"&&e.inArray(S.id,y.children)===k||e.inArray(y.id,S.children_d)!==-1))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:u,pos:k,obj:S&&S.id?S.id:!1,par:y&&y.id?y.id:!1})},!1}return A&&A.data&&(A=A.data),A&&A.functions&&(A.functions[u]===!1||A.functions[u]===!0)?(A.functions[u]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+u,data:JSON.stringify({chk:u,pos:k,obj:S&&S.id?S.id:!1,par:y&&y.id?y.id:!1})}),A.functions[u]):F===!1||e.vakata.is_function(F)&&F.call(this,u,S,y,k,T)===!1||F&&F[u]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+u,data:JSON.stringify({chk:u,pos:k,obj:S&&S.id?S.id:!1,par:y&&y.id?y.id:!1})},!1):!0},last_error:function(){return this._data.core.last_error},move_node:function(u,S,y,k,T,A,F){var z,N,m,w,M,D,I,H,j,$,ae,X,Y,ue;if(S=this.get_node(S),y=y===i?0:y,!S)return!1;if(!y.toString().match(/^(before|after)$/)&&!T&&!this.is_loaded(S))return this.load_node(S,function(){this.move_node(u,S,y,k,!0,!1,F)});if(e.vakata.is_array(u))if(u.length===1)u=u[0];else{for(z=0,N=u.length;z<N;z++)(j=this.move_node(u[z],S,y,k,T,!1,F))&&(S=j,y="after");return this.redraw(),!0}if(u=u&&u.id!==i?u:this.get_node(u),!u||u.id===e.jstree.root)return!1;if(m=(u.parent||e.jstree.root).toString(),M=!y.toString().match(/^(before|after)$/)||S.id===e.jstree.root?S:this.get_node(S.parent),D=F||(this._model.data[u.id]?this:e.jstree.reference(u.id)),I=!D||!D._id||this._id!==D._id,w=D&&D._id&&m&&D._model.data[m]&&D._model.data[m].children?e.inArray(u.id,D._model.data[m].children):-1,D&&D._id&&(u=D._model.data[u.id]),I)return(j=this.copy_node(u,S,y,k,T,!1,F))?(D&&D.delete_node(u),j):!1;switch(S.id===e.jstree.root&&(y==="before"&&(y="first"),y==="after"&&(y="last")),y){case"before":y=e.inArray(S.id,M.children);break;case"after":y=e.inArray(S.id,M.children)+1;break;case"inside":case"first":y=0;break;case"last":y=M.children.length;break;default:y||(y=0);break}if(y>M.children.length&&(y=M.children.length),!this.check("move_node",u,M,y,{core:!0,origin:F,is_multi:D&&D._id&&D._id!==this._id,is_foreign:!D||!D._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(u.parent===M.id){for(H=M.children.concat(),j=e.inArray(u.id,H),j!==-1&&(H=e.vakata.array_remove(H,j),y>j&&y--),j=[],$=0,ae=H.length;$<ae;$++)j[$>=y?$+1:$]=H[$];j[y]=u.id,M.children=j,this._node_changed(M.id),this.redraw(M.id===e.jstree.root)}else{for(j=u.children_d.concat(),j.push(u.id),$=0,ae=u.parents.length;$<ae;$++){for(H=[],ue=D._model.data[u.parents[$]].children_d,X=0,Y=ue.length;X<Y;X++)e.inArray(ue[X],j)===-1&&H.push(ue[X]);D._model.data[u.parents[$]].children_d=H}for(D._model.data[m].children=e.vakata.array_remove_item(D._model.data[m].children,u.id),$=0,ae=M.parents.length;$<ae;$++)this._model.data[M.parents[$]].children_d=this._model.data[M.parents[$]].children_d.concat(j);for(H=[],$=0,ae=M.children.length;$<ae;$++)H[$>=y?$+1:$]=M.children[$];for(H[y]=u.id,M.children=H,M.children_d.push(u.id),M.children_d=M.children_d.concat(u.children_d),u.parent=M.id,j=M.parents.concat(),j.unshift(M.id),ue=u.parents.length,u.parents=j,j=j.concat(),$=0,ae=u.children_d.length;$<ae;$++)this._model.data[u.children_d[$]].parents=this._model.data[u.children_d[$]].parents.slice(0,ue*-1),Array.prototype.push.apply(this._model.data[u.children_d[$]].parents,j);(m===e.jstree.root||M.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(m),this._node_changed(M.id)),A||this.redraw()}return k&&k.call(this,u,M,y),this.trigger("move_node",{node:u,parent:M.id,position:y,old_parent:m,old_position:w,is_multi:D&&D._id&&D._id!==this._id,is_foreign:!D||!D._id,old_instance:D,new_instance:this}),u.id},copy_node:function(u,S,y,k,T,A,F){var z,N,m,w,M,D,I,H,j,$;if(S=this.get_node(S),y=y===i?0:y,!S)return!1;if(!y.toString().match(/^(before|after)$/)&&!T&&!this.is_loaded(S))return this.load_node(S,function(){this.copy_node(u,S,y,k,!0,!1,F)});if(e.vakata.is_array(u))if(u.length===1)u=u[0];else{for(z=0,N=u.length;z<N;z++)(w=this.copy_node(u[z],S,y,k,T,!0,F))&&(S=w,y="after");return this.redraw(),!0}if(u=u&&u.id!==i?u:this.get_node(u),!u||u.id===e.jstree.root)return!1;switch(H=(u.parent||e.jstree.root).toString(),j=!y.toString().match(/^(before|after)$/)||S.id===e.jstree.root?S:this.get_node(S.parent),$=F||(this._model.data[u.id]?this:e.jstree.reference(u.id)),!$||!$._id||(this._id,$._id),$&&$._id&&(u=$._model.data[u.id]),S.id===e.jstree.root&&(y==="before"&&(y="first"),y==="after"&&(y="last")),y){case"before":y=e.inArray(S.id,j.children);break;case"after":y=e.inArray(S.id,j.children)+1;break;case"inside":case"first":y=0;break;case"last":y=j.children.length;break;default:y||(y=0);break}if(y>j.children.length&&(y=j.children.length),!this.check("copy_node",u,j,y,{core:!0,origin:F,is_multi:$&&$._id&&$._id!==this._id,is_foreign:!$||!$._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(I=$?$.get_json(u,{no_id:!0,no_data:!0,no_state:!0}):u,!I||(I.id===!0&&delete I.id,I=this._parse_model_from_json(I,j.id,j.parents.concat()),!I))return!1;for(w=this.get_node(I),u&&u.state&&u.state.loaded===!1&&(w.state.loaded=!1),m=[],m.push(I),m=m.concat(w.children_d),this.trigger("model",{nodes:m,parent:j.id}),M=0,D=j.parents.length;M<D;M++)this._model.data[j.parents[M]].children_d=this._model.data[j.parents[M]].children_d.concat(m);for(m=[],M=0,D=j.children.length;M<D;M++)m[M>=y?M+1:M]=j.children[M];return m[y]=w.id,j.children=m,j.children_d.push(w.id),j.children_d=j.children_d.concat(w.children_d),j.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(j.id),A||this.redraw(j.id===e.jstree.root),k&&k.call(this,w,j,y),this.trigger("copy_node",{node:w,original:u,parent:j.id,position:y,old_parent:H,old_position:$&&$._id&&H&&$._model.data[H]&&$._model.data[H].children?e.inArray(u.id,$._model.data[H].children):-1,is_multi:$&&$._id&&$._id!==this._id,is_foreign:!$||!$._id,old_instance:$,new_instance:this}),w.id},cut:function(u){if(u||(u=this._data.core.selected.concat()),e.vakata.is_array(u)||(u=[u]),!u.length)return!1;var S=[],y,k,T;for(k=0,T=u.length;k<T;k++)y=this.get_node(u[k]),y&&(y.id||y.id===0)&&y.id!==e.jstree.root&&S.push(y);if(!S.length)return!1;n=S,a=this,l="move_node",this.trigger("cut",{node:u})},copy:function(u){if(u||(u=this._data.core.selected.concat()),e.vakata.is_array(u)||(u=[u]),!u.length)return!1;var S=[],y,k,T;for(k=0,T=u.length;k<T;k++)y=this.get_node(u[k]),y&&y.id!==i&&y.id!==e.jstree.root&&S.push(y);if(!S.length)return!1;n=S,a=this,l="copy_node",this.trigger("copy",{node:u})},get_buffer:function(){return{mode:l,node:n,inst:a}},can_paste:function(){return l!==!1&&n!==!1},paste:function(u,S){if(u=this.get_node(u),!u||!l||!l.match(/^(copy_node|move_node)$/)||!n)return!1;this[l](n,u,S,!1,!1,!1,a)&&this.trigger("paste",{parent:u.id,node:n,mode:l}),n=!1,l=!1,a=!1},clear_buffer:function(){n=!1,l=!1,a=!1,this.trigger("clear_buffer")},edit:function(u,S,y){var k,T,A,F,z,N,m,w,M,D=!1;if(u=this.get_node(u),!u)return!1;if(!this.check("edit",u,this.get_parent(u)))return this.settings.core.error.call(this,this._data.core.last_error),!1;M=u,S=typeof S=="string"?S:u.text,this.set_text(u,""),u=this._open_to(u),M.text=S,k=this._data.core.rtl,T=this.element.width(),this._data.core.focused=M.id,A=u.children(".jstree-anchor").trigger("focus"),F=e("<span></span>");/*!
oi = obj.children("i:visible"),
ai = a.children("i:visible"),
w1 = oi.width() * oi.length,
w2 = ai.width() * ai.length,
*/z=S,N=e("<div></div>",{css:{position:"absolute",top:"-200px",left:k?"0px":"-1000px",visibility:"hidden"}}).appendTo(f.body),m=e("<input />",{value:z,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},on:{blur:(function(I){I.stopImmediatePropagation(),I.preventDefault();var H=F.children(".jstree-rename-input"),j=H.val(),$=this.settings.core.force_text,ae;j===""&&(j=z),N.remove(),F.replaceWith(A),F.remove(),z=$?z:e("<div></div>").append(e.parseHTML(z)).html(),u=this.get_node(u),this.set_text(u,z),ae=!!this.rename_node(u,$?e("<div></div>").text(j).text():e("<div></div>").append(e.parseHTML(j)).html()),ae||this.set_text(u,z),this._data.core.focused=M.id,setTimeout((function(){var X=this.get_node(M.id,!0);X.length&&(this._data.core.focused=M.id,X.children(".jstree-anchor").trigger("focus"))}).bind(this),0),y&&y.call(this,M,ae,D,j),m=null}).bind(this),keydown:function(I){var H=I.which;H===27&&(D=!0,this.value=z),(H===27||H===13||H===37||H===38||H===39||H===40||H===32)&&I.stopImmediatePropagation(),(H===27||H===13)&&(I.preventDefault(),this.blur())},click:function(I){I.stopImmediatePropagation()},mousedown:function(I){I.stopImmediatePropagation()},keyup:function(I){m.width(Math.min(N.text("pW"+this.value).width(),T))},keypress:function(I){if(I.which===13)return!1}}}),w={fontFamily:A.css("fontFamily")||"",fontSize:A.css("fontSize")||"",fontWeight:A.css("fontWeight")||"",fontStyle:A.css("fontStyle")||"",fontStretch:A.css("fontStretch")||"",fontVariant:A.css("fontVariant")||"",letterSpacing:A.css("letterSpacing")||"",wordSpacing:A.css("wordSpacing")||""},F.attr("class",A.attr("class")).append(A.contents().clone()).append(m),A.replaceWith(F),N.css(w),m.css(w).width(Math.min(N.text("pW"+m[0].value).width(),T))[0].select(),e(f).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(I){m&&I.target!==m&&e(m).trigger("blur")})},set_theme:function(u,S){if(!u)return!1;if(S===!0){var y=this.settings.core.themes.dir;y||(y=e.jstree.path+"/themes"),S=y+"/"+u+"/style.css"}S&&e.inArray(S,h)===-1&&(e("head").append('<link rel="stylesheet" href="'+S+'" type="text/css" />'),h.push(S)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=u,this.element.addClass("jstree-"+u),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+u+"-responsive"),this.trigger("set_theme",{theme:u})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(u){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=u,u&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(u,S){var y,k,T,A;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,k=u.length;y<k;y++)this.set_icon(u[y],S);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(A=u.icon,u.icon=S===!0||S===null||S===i||S===""?!0:S,T=this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon"),S===!1?(T.removeClass("jstree-themeicon-custom "+A).css("background","").removeAttr("rel"),this.hide_icon(u)):S===!0||S===null||S===i||S===""?(T.removeClass("jstree-themeicon-custom "+A).css("background","").removeAttr("rel"),A===!1&&this.show_icon(u)):S.indexOf("/")===-1&&S.indexOf(".")===-1?(T.removeClass(A).css("background",""),T.addClass(S+" jstree-themeicon-custom").attr("rel",S),A===!1&&this.show_icon(u)):(T.removeClass(A).css("background",""),T.addClass("jstree-themeicon-custom").css("background","url('"+S+"') center center no-repeat").attr("rel",S),A===!1&&this.show_icon(u)),!0)},get_icon:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.icon},hide_icon:function(u){var S,y;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,y=u.length;S<y;S++)this.hide_icon(u[S]);return!0}return u=this.get_node(u),!u||u===e.jstree.root?!1:(u.icon=!1,this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(u){var S,y,k;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,y=u.length;S<y;S++)this.show_icon(u[S]);return!0}return u=this.get_node(u),!u||u===e.jstree.root?!1:(k=this.get_node(u,!0),u.icon=k.length?k.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,u.icon||(u.icon=!0),k.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(u,S){u=e(u)[0];var y=S?{}:[];return u&&u.attributes&&e.each(u.attributes,function(k,T){e.inArray(T.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&T.value!==null&&e.vakata.trim(T.value)!==""&&(S?y[T.name]=T.value:y.push(T.name))}),y},e.vakata.array_unique=function(u){var S=[],y,k,T={};for(y=0,k=u.length;y<k;y++)T[u[y]]===i&&(S.push(u[y]),T[u[y]]=!0);return S},e.vakata.array_remove=function(u,S){return u.splice(S,1),u},e.vakata.array_remove_item=function(u,S){var y=e.inArray(S,u);return y!==-1?e.vakata.array_remove(u,y):u},e.vakata.array_filter=function(u,S,y,k,T){if(u.filter)return u.filter(S,y);k=[];for(T in u)~~T+""==T+""&&T>=0&&S.call(y,u[T],+T,u)&&k.push(u[T]);return k},e.vakata.trim=function(u){return String.prototype.trim?String.prototype.trim.call(u.toString()):u.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.vakata.is_function=function(u){return typeof u=="function"&&typeof u.nodeType!="number"},e.vakata.is_array=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"},Function.prototype.bind||(Function.prototype.bind=function(){var u=this,S=arguments[0],y=Array.prototype.slice.call(arguments,1);if(typeof u!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var k=y.concat(Array.prototype.slice.call(arguments));return u.apply(S,k)}}),e.jstree.plugins.changed=function(u,S){var y=[];this.trigger=function(k,T){var A,F;if(T||(T={}),k.replace(".jstree","")==="changed"){T.changed={selected:[],deselected:[]};var z={};for(A=0,F=y.length;A<F;A++)z[y[A]]=1;for(A=0,F=T.selected.length;A<F;A++)z[T.selected[A]]?z[T.selected[A]]=2:T.changed.selected.push(T.selected[A]);for(A=0,F=y.length;A<F;A++)z[y[A]]===1&&T.changed.deselected.push(y[A]);y=T.selected.slice()}S.trigger.call(this,k,T)},this.refresh=function(k,T){return y=[],S.refresh.apply(this,arguments)}};var x=f.createElement("I");x.className="jstree-icon jstree-checkbox",x.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(u,S){this.bind=function(){S.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}).bind(this)).on("loading.jstree",(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}).bind(this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}).bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",(function(y,k){var T=this._model.data;T[k.parent];var A=k.nodes,F,z;for(F=0,z=A.length;F<z;F++)T[A[F]].state.checked=T[A[F]].state.checked||T[A[F]].original&&T[A[F]].original.state&&T[A[F]].original.state.checked,T[A[F]].state.checked&&this._data.checkbox.selected.push(A[F])}).bind(this)),(this.settings.checkbox.cascade.indexOf("up")!==-1||this.settings.checkbox.cascade.indexOf("down")!==-1)&&this.element.on("model.jstree",(function(y,k){var T=this._model.data,A=T[k.parent],F=k.nodes,z=[],N,m,w,M,D,I,H=this.settings.checkbox.cascade,j=this.settings.checkbox.tie_selection;if(H.indexOf("down")!==-1){if(A.state[j?"selected":"checked"]){for(m=0,w=F.length;m<w;m++)T[F[m]].state[j?"selected":"checked"]=!0;this._data[j?"core":"checkbox"].selected=this._data[j?"core":"checkbox"].selected.concat(F)}else for(m=0,w=F.length;m<w;m++)if(T[F[m]].state[j?"selected":"checked"]){for(M=0,D=T[F[m]].children_d.length;M<D;M++)T[T[F[m]].children_d[M]].state[j?"selected":"checked"]=!0;this._data[j?"core":"checkbox"].selected=this._data[j?"core":"checkbox"].selected.concat(T[F[m]].children_d)}}if(H.indexOf("up")!==-1){for(m=0,w=A.children_d.length;m<w;m++)T[A.children_d[m]].children.length||z.push(T[A.children_d[m]].parent);for(z=e.vakata.array_unique(z),M=0,D=z.length;M<D;M++)for(A=T[z[M]];A&&A.id!==e.jstree.root;){for(N=0,m=0,w=A.children.length;m<w;m++)N+=T[A.children[m]].state[j?"selected":"checked"];if(N===w)A.state[j?"selected":"checked"]=!0,this._data[j?"core":"checkbox"].selected.push(A.id),I=this.get_node(A,!0),I&&I.length&&I.children(".jstree-anchor").attr("aria-selected",!0).addClass(j?"jstree-clicked":"jstree-checked");else break;A=this.get_node(A.parent)}}this._data[j?"core":"checkbox"].selected=e.vakata.array_unique(this._data[j?"core":"checkbox"].selected)}).bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",(function(y,k){var T=k.node,A=this._model.data,F=this.get_node(T.parent),z,N,m,w,M=this.settings.checkbox.cascade,D=this.settings.checkbox.tie_selection,I={},H=this._data[D?"core":"checkbox"].selected;for(z=0,N=H.length;z<N;z++)I[H[z]]=!0;if(M.indexOf("down")!==-1){var j=this._cascade_new_checked_state(T.id,!0),$=T.children_d.concat(T.id);for(z=0,N=$.length;z<N;z++)j.indexOf($[z])>-1?I[$[z]]=!0:delete I[$[z]]}if(M.indexOf("up")!==-1)for(;F&&F.id!==e.jstree.root;){for(m=0,z=0,N=F.children.length;z<N;z++)m+=A[F.children[z]].state[D?"selected":"checked"];if(m===N)F.state[D?"selected":"checked"]=!0,I[F.id]=!0,w=this.get_node(F,!0),w&&w.length&&w.children(".jstree-anchor").attr("aria-selected",!0).addClass(D?"jstree-clicked":"jstree-checked");else break;F=this.get_node(F.parent)}H=[];for(z in I)I.hasOwnProperty(z)&&H.push(z);this._data[D?"core":"checkbox"].selected=H}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",(function(y,k){var T=this.get_node(e.jstree.root),A=this._model.data,F,z,N;for(F=0,z=T.children_d.length;F<z;F++)N=A[T.children_d[F]],N&&N.original&&N.original.state&&N.original.state.undetermined&&(N.original.state.undetermined=!1)}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",(function(y,k){var T=k.node;this.get_node(T,!0);var A,F,z,N=this.settings.checkbox.cascade,m=this.settings.checkbox.tie_selection,w=this._data[m?"core":"checkbox"].selected,M=T.children_d.concat(T.id);if(N.indexOf("down")!==-1){var D=this._cascade_new_checked_state(T.id,!1);w=e.vakata.array_filter(w,function(I){return M.indexOf(I)===-1||D.indexOf(I)>-1})}if(N.indexOf("up")!==-1&&w.indexOf(T.id)===-1){for(A=0,F=T.parents.length;A<F;A++)z=this._model.data[T.parents[A]],z.state[m?"selected":"checked"]=!1,z&&z.original&&z.original.state&&z.original.state.undetermined&&(z.original.state.undetermined=!1),z=this.get_node(T.parents[A],!0),z&&z.length&&z.children(".jstree-anchor").attr("aria-selected",!1).removeClass(m?"jstree-clicked":"jstree-checked");w=e.vakata.array_filter(w,function(I){return T.parents.indexOf(I)===-1})}this._data[m?"core":"checkbox"].selected=w}).bind(this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",(function(y,k){for(var T=this.get_node(k.parent),A=this._model.data,F,z,N,m,w=this.settings.checkbox.tie_selection;T&&T.id!==e.jstree.root&&!T.state[w?"selected":"checked"];){for(N=0,F=0,z=T.children.length;F<z;F++)N+=A[T.children[F]].state[w?"selected":"checked"];if(z>0&&N===z)T.state[w?"selected":"checked"]=!0,this._data[w?"core":"checkbox"].selected.push(T.id),m=this.get_node(T,!0),m&&m.length&&m.children(".jstree-anchor").attr("aria-selected",!0).addClass(w?"jstree-clicked":"jstree-checked");else break;T=this.get_node(T.parent)}}).bind(this)).on("move_node.jstree",(function(y,k){var T=k.is_multi,A=k.old_parent,F=this.get_node(k.parent),z=this._model.data,N,m,w,M,D,I=this.settings.checkbox.tie_selection;if(!T)for(N=this.get_node(A);N&&N.id!==e.jstree.root&&!N.state[I?"selected":"checked"];){for(m=0,w=0,M=N.children.length;w<M;w++)m+=z[N.children[w]].state[I?"selected":"checked"];if(M>0&&m===M)N.state[I?"selected":"checked"]=!0,this._data[I?"core":"checkbox"].selected.push(N.id),D=this.get_node(N,!0),D&&D.length&&D.children(".jstree-anchor").attr("aria-selected",!0).addClass(I?"jstree-clicked":"jstree-checked");else break;N=this.get_node(N.parent)}for(N=F;N&&N.id!==e.jstree.root;){for(m=0,w=0,M=N.children.length;w<M;w++)m+=z[N.children[w]].state[I?"selected":"checked"];if(m===M)N.state[I?"selected":"checked"]||(N.state[I?"selected":"checked"]=!0,this._data[I?"core":"checkbox"].selected.push(N.id),D=this.get_node(N,!0),D&&D.length&&D.children(".jstree-anchor").attr("aria-selected",!0).addClass(I?"jstree-clicked":"jstree-checked"));else if(N.state[I?"selected":"checked"])N.state[I?"selected":"checked"]=!1,this._data[I?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[I?"core":"checkbox"].selected,N.id),D=this.get_node(N,!0),D&&D.length&&D.children(".jstree-anchor").attr("aria-selected",!1).removeClass(I?"jstree-clicked":"jstree-checked");else break;N=this.get_node(N.parent)}}).bind(this))},this.get_undetermined=function(y){if(this.settings.checkbox.cascade.indexOf("undetermined")===-1)return[];var k,T,A,F,z={},N=this._model.data,m=this.settings.checkbox.tie_selection,w=this._data[m?"core":"checkbox"].selected,M=[],D=this,I=[];for(k=0,T=w.length;k<T;k++)if(N[w[k]]&&N[w[k]].parents)for(A=0,F=N[w[k]].parents.length;A<F&&z[N[w[k]].parents[A]]===i;A++)N[w[k]].parents[A]!==e.jstree.root&&(z[N[w[k]].parents[A]]=!0,M.push(N[w[k]].parents[A]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var H=D.get_node(this),j;if(H){if(H.state.loaded){for(k=0,T=H.children_d.length;k<T;k++)if(j=N[H.children_d[k]],!j.state.loaded&&j.original&&j.original.state&&j.original.state.undetermined&&j.original.state.undetermined===!0)for(z[j.id]===i&&j.id!==e.jstree.root&&(z[j.id]=!0,M.push(j.id)),A=0,F=j.parents.length;A<F;A++)z[j.parents[A]]===i&&j.parents[A]!==e.jstree.root&&(z[j.parents[A]]=!0,M.push(j.parents[A]))}else if(H.original&&H.original.state&&H.original.state.undetermined&&H.original.state.undetermined===!0)for(z[H.id]===i&&H.id!==e.jstree.root&&(z[H.id]=!0,M.push(H.id)),A=0,F=H.parents.length;A<F;A++)z[H.parents[A]]===i&&H.parents[A]!==e.jstree.root&&(z[H.parents[A]]=!0,M.push(H.parents[A]))}}),k=0,T=M.length;k<T;k++)N[M[k]].state[m?"selected":"checked"]||I.push(y?N[M[k]]:M[k]);return I},this._undetermined=function(){if(this.element!==null){var y=this.get_undetermined(!1),k,T,A;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),k=0,T=y.length;k<T;k++)A=this.get_node(y[k],!0),A&&A.length&&A.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(y,k,T,A){if(y=S.redraw_node.apply(this,arguments),y){var F,z,N=null,m=null;for(F=0,z=y.childNodes.length;F<z;F++)if(y.childNodes[F]&&y.childNodes[F].className&&y.childNodes[F].className.indexOf("jstree-anchor")!==-1){N=y.childNodes[F];break}N&&(!this.settings.checkbox.tie_selection&&this._model.data[y.id].state.checked&&(N.className+=" jstree-checked"),m=x.cloneNode(!1),this._model.data[y.id].state.checkbox_disabled&&(m.className+=" jstree-checkbox-disabled"),N.insertBefore(m,N.childNodes[0]))}return!T&&this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),y},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(y){y=this.get_node(y);var k=this.settings.checkbox.cascade,T,A,F=this.settings.checkbox.tie_selection,z=this._data[F?"core":"checkbox"].selected,N=this._model.data;if(!y||y.state[F?"selected":"checked"]===!0||k.indexOf("undetermined")===-1||k.indexOf("down")===-1&&k.indexOf("up")===-1)return!1;if(!y.state.loaded&&y.original.state.undetermined===!0)return!0;for(T=0,A=y.children_d.length;T<A;T++)if(e.inArray(y.children_d[T],z)!==-1||!N[y.children_d[T]].state.loaded&&N[y.children_d[T]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(y){var k,T,A;if(e.vakata.is_array(y)){for(y=y.slice(),k=0,T=y.length;k<T;k++)this.disable_checkbox(y[k]);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;A=this.get_node(y,!0),y.state.checkbox_disabled||(y.state.checkbox_disabled=!0,A&&A.length&&A.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:y}))},this.enable_checkbox=function(y){var k,T,A;if(e.vakata.is_array(y)){for(y=y.slice(),k=0,T=y.length;k<T;k++)this.enable_checkbox(y[k]);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;A=this.get_node(y,!0),y.state.checkbox_disabled&&(y.state.checkbox_disabled=!1,A&&A.length&&A.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:y}))},this.activate_node=function(y,k){if(e(k.target).hasClass("jstree-checkbox-disabled"))return!1;if(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(k.target).hasClass("jstree-checkbox"))&&(k.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(k.target).hasClass("jstree-checkbox"))return S.activate_node.call(this,y,k);if(this.is_disabled(y))return!1;this.is_checked(y)?this.uncheck_node(y,k):this.check_node(y,k),this.trigger("activate_node",{node:this.get_node(y)})},this.delete_node=function(y){if(this.settings.checkbox.tie_selection||e.vakata.is_array(y))return S.delete_node.call(this,y);var k,T,A,F=!1;if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;for(k=y.children_d.concat([]),k.push(y.id),T=0,A=k.length;T<A;T++)if(this._model.data[k[T]].state.checked){F=!0;break}return F&&(this._data.checkbox.selected=e.vakata.array_filter(this._data.checkbox.selected,function(z){return e.inArray(z,k)===-1})),S.delete_node.call(this,y)},this._cascade_new_checked_state=function(y,k){var T=this,A=this.settings.checkbox.tie_selection,F=this._model.data[y],z=[],N=[],m,w,M;if((this.settings.checkbox.cascade_to_disabled||!F.state.disabled)&&(this.settings.checkbox.cascade_to_hidden||!F.state.hidden)){if(F.children)for(m=0,w=F.children.length;m<w;m++){var D=F.children[m];M=T._cascade_new_checked_state(D,k),z=z.concat(M),M.indexOf(D)>-1&&N.push(D)}var I=T.get_node(F,!0),H=N.length>0&&N.length<F.children.length;F.original&&F.original.state&&F.original.state.undetermined&&(F.original.state.undetermined=H),H?(F.state[A?"selected":"checked"]=!1,I.children(".jstree-anchor").attr("aria-selected",!1).removeClass(A?"jstree-clicked":"jstree-checked")):k&&N.length===F.children.length?(F.state[A?"selected":"checked"]=k,z.push(F.id),I.children(".jstree-anchor").attr("aria-selected",!0).addClass(A?"jstree-clicked":"jstree-checked")):(F.state[A?"selected":"checked"]=!1,I.children(".jstree-anchor").attr("aria-selected",!1).removeClass(A?"jstree-clicked":"jstree-checked"))}else M=this.get_checked_descendants(y),F.state[A?"selected":"checked"]&&M.push(F.id),z=z.concat(M);return z},this.get_checked_descendants=function(y){var k=this,T=k.settings.checkbox.tie_selection,A=k._model.data[y];return e.vakata.array_filter(A.children_d,function(F){return k._model.data[F].state[T?"selected":"checked"]})},this.check_node=function(y,k){if(this.settings.checkbox.tie_selection)return this.select_node(y,!1,!0,k);var T,A,F;if(e.vakata.is_array(y)){for(y=y.slice(),A=0,F=y.length;A<F;A++)this.check_node(y[A],k);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;T=this.get_node(y,!0),y.state.checked||(y.state.checked=!0,this._data.checkbox.selected.push(y.id),T&&T.length&&T.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:y,selected:this._data.checkbox.selected,event:k}))},this.uncheck_node=function(y,k){if(this.settings.checkbox.tie_selection)return this.deselect_node(y,!1,k);var T,A,F;if(e.vakata.is_array(y)){for(y=y.slice(),T=0,A=y.length;T<A;T++)this.uncheck_node(y[T],k);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;F=this.get_node(y,!0),y.state.checked&&(y.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,y.id),F.length&&F.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:y,selected:this._data.checkbox.selected,event:k}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();this._data.checkbox.selected.concat([]);var y,k;for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),y=0,k=this._data.checkbox.selected.length;y<k;y++)this._model.data[this._data.checkbox.selected[y]]&&(this._model.data[this._data.checkbox.selected[y]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var y=this._data.checkbox.selected.concat([]),k,T;for(k=0,T=this._data.checkbox.selected.length;k<T;k++)this._model.data[this._data.checkbox.selected[k]]&&(this._model.data[this._data.checkbox.selected[k]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:y})},this.is_checked=function(y){return this.settings.checkbox.tie_selection?this.is_selected(y):(y=this.get_node(y),!y||y.id===e.jstree.root?!1:y.state.checked)},this.get_checked=function(y){return this.settings.checkbox.tie_selection?this.get_selected(y):y?e.map(this._data.checkbox.selected,(function(k){return this.get_node(k)}).bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(y){if(this.settings.checkbox.tie_selection)return this.get_top_selected(y);var k=this.get_checked(!0),T={},A,F,z,N;for(A=0,F=k.length;A<F;A++)T[k[A].id]=k[A];for(A=0,F=k.length;A<F;A++)for(z=0,N=k[A].children_d.length;z<N;z++)T[k[A].children_d[z]]&&delete T[k[A].children_d[z]];k=[];for(A in T)T.hasOwnProperty(A)&&k.push(A);return y?e.map(k,(function(m){return this.get_node(m)}).bind(this)):k},this.get_bottom_checked=function(y){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(y);var k=this.get_checked(!0),T=[],A,F;for(A=0,F=k.length;A<F;A++)k[A].children.length||T.push(k[A].id);return y?e.map(T,(function(z){return this.get_node(z)}).bind(this)):T},this.load_node=function(y,k){var T,A,F;if(!e.vakata.is_array(y)&&!this.settings.checkbox.tie_selection&&(F=this.get_node(y),F&&F.state.loaded))for(T=0,A=F.children_d.length;T<A;T++)this._model.data[F.children_d[T]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,F.children_d[T]));return S.load_node.apply(this,arguments)},this.get_state=function(){var y=S.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(y.checkbox=this._data.checkbox.selected.slice()),y},this.set_state=function(y,k){var T=S.set_state.apply(this,arguments);if(T&&y.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var A=this;e.each(y.checkbox,function(F,z){A.check_node(z)})}return delete y.checkbox,this.set_state(y,k),!1}return T},this.refresh=function(y,k){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),S.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(u,S){this.activate_node=function(y,k){if(this.settings.conditionalselect.call(this,this.get_node(y),k))return S.activate_node.call(this,y,k)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(u,S){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(y){var k=e.jstree.reference(y.reference),T=k.get_node(y.reference);k.create_node(T,{},"last",function(A){try{k.edit(A)}catch{setTimeout(function(){k.edit(A)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(y){var k=e.jstree.reference(y.reference),T=k.get_node(y.reference);k.edit(T)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(y){var k=e.jstree.reference(y.reference),T=k.get_node(y.reference);k.is_selected(T)?k.delete_node(k.get_selected()):k.delete_node(T)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(y){var k=e.jstree.reference(y.reference),T=k.get_node(y.reference);k.is_selected(T)?k.cut(k.get_top_selected()):k.cut(T)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(y){var k=e.jstree.reference(y.reference),T=k.get_node(y.reference);k.is_selected(T)?k.copy(k.get_top_selected()):k.copy(T)}},paste:{separator_before:!1,icon:!1,_disabled:function(y){return!e.jstree.reference(y.reference).can_paste()},separator_after:!1,label:"Paste",action:function(y){var k=e.jstree.reference(y.reference),T=k.get_node(y.reference);k.paste(T)}}}}}}},e.jstree.plugins.contextmenu=function(u,S){this.bind=function(){S.bind.call(this);var y=0,k=null,T,A;this.element.on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-contextmenu")}).bind(this)).on("contextmenu.jstree",".jstree-anchor",(function(F,z){F.target.tagName.toLowerCase()!=="input"&&(F.preventDefault(),y=F.ctrlKey?+new Date:0,(z||k)&&(y=+new Date+1e4),k&&clearTimeout(k),this.is_loading(F.currentTarget)||this.show_contextmenu(F.currentTarget,F.pageX,F.pageY,F))}).bind(this)).on("click.jstree",".jstree-anchor",(function(F){this._data.contextmenu.visible&&(!y||+new Date-y>250)&&e.vakata.context.hide(),y=0}).bind(this)).on("touchstart.jstree",".jstree-anchor",function(F){!F.originalEvent||!F.originalEvent.changedTouches||!F.originalEvent.changedTouches[0]||(T=F.originalEvent.changedTouches[0].clientX,A=F.originalEvent.changedTouches[0].clientY,k=setTimeout(function(){e(F.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(F){k&&F.originalEvent&&F.originalEvent.changedTouches&&F.originalEvent.changedTouches[0]&&(Math.abs(T-F.originalEvent.changedTouches[0].clientX)>10||Math.abs(A-F.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(k),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(F){k&&clearTimeout(k)});/*!
if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
	var el = null, tm = null;
	this.element
		.on("touchstart", ".jstree-anchor", function (e) {
			el = e.currentTarget;
			tm = +new Date();
			$(document).one("touchend", function (e) {
				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
				e.currentTarget = e.target;
				tm = ((+(new Date())) - tm);
				if(e.target === el && tm > 600 && tm < 1000) {
					e.preventDefault();
					$(el).trigger('contextmenu', e);
				}
				el = null;
				tm = null;
			});
		});
}
*/e(f).on("context_hide.vakata.jstree",(function(F,z){this._data.contextmenu.visible=!1,e(z.reference).removeClass("jstree-context")}).bind(this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),e(f).off("context_hide.vakata.jstree"),S.teardown.call(this)},this.show_contextmenu=function(y,k,T,A){if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;var F=this.settings.contextmenu,z=this.get_node(y,!0),N=z.children(".jstree-anchor"),m=!1,w=!1;(F.show_at_node||k===i||T===i)&&(m=N.offset(),k=m.left,T=m.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(y)&&this.activate_node(y,A),w=F.items,e.vakata.is_function(w)&&(w=w.call(this,y,(function(M){this._show_contextmenu(y,k,T,M)}).bind(this))),e.isPlainObject(w)&&this._show_contextmenu(y,k,T,w)},this._show_contextmenu=function(y,k,T,A){var F=this.get_node(y,!0),z=F.children(".jstree-anchor");e(f).one("context_show.vakata.jstree",(function(N,m){var w="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(m.element).addClass(w),z.addClass("jstree-context")}).bind(this)),this._data.contextmenu.visible=!0,e.vakata.context.show(z,{x:k,y:T},A),this.trigger("show_contextmenu",{node:y,x:k,y:T})}},function(u){var S=!1,y={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};u.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(k){u(f).triggerHandler("context_"+k+".vakata",{reference:y.reference,element:y.element,position:{x:y.position_x,y:y.position_y}})},_execute:function(k){return k=y.items[k],k&&(!k._disabled||u.vakata.is_function(k._disabled)&&!k._disabled({item:k,reference:y.reference,element:y.element}))&&k.action?k.action.call(null,{item:k,reference:y.reference,element:y.element,position:{x:y.position_x,y:y.position_y}}):!1},_parse:function(k,T){if(!k)return!1;T||(y.html="",y.items=[]);var A="",F=!1,z;return T&&(A+="<ul>"),u.each(k,function(N,m){if(!m)return!0;y.items.push(m),!F&&m.separator_before&&(A+="<li class='vakata-context-separator'><a href='#' "+(u.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),F=!1,A+="<li class='"+(m._class||"")+(m._disabled===!0||u.vakata.is_function(m._disabled)&&m._disabled({item:m,reference:y.reference,element:y.element})?" vakata-contextmenu-disabled ":"")+"' "+(m.shortcut?" data-shortcut='"+m.shortcut+"' ":"")+">",A+="<a href='#' rel='"+(y.items.length-1)+"' "+(m.title?"title='"+m.title+"'":"")+">",u.vakata.context.settings.icons&&(A+="<i ",m.icon&&(m.icon.indexOf("/")!==-1||m.icon.indexOf(".")!==-1?A+=` style='background:url("`+m.icon+`") center center no-repeat' `:A+=" class='"+m.icon+"' "),A+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),A+=(u.vakata.is_function(m.label)?m.label({item:N,reference:y.reference,element:y.element}):m.label)+(m.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+m.shortcut+'">'+(m.shortcut_label||"")+"</span>":"")+"</a>",m.submenu&&(z=u.vakata.context._parse(m.submenu,!0),z&&(A+=z)),A+="</li>",m.separator_after&&(A+="<li class='vakata-context-separator'><a href='#' "+(u.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",F=!0)}),A=A.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),T&&(A+="</ul>"),T||(y.html=A,u.vakata.context._trigger("parse")),A.length>10?A:!1},_show_submenu:function(k){if(k=u(k),!(!k.length||!k.children("ul").length)){var T=k.children("ul"),A=k.offset().left,F=A+k.outerWidth(),z=k.offset().top,N=T.width(),m=T.height(),w=u(window).width()+u(window).scrollLeft(),M=u(window).height()+u(window).scrollTop();S?k[F-(N+10+k.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):k[F+N>w&&A>w-F?"addClass":"removeClass"]("vakata-context-right"),z+m+10>M&&T.css("bottom","-1px"),k.hasClass("vakata-context-right")?A<N&&T.css("margin-right",A-N):w-F<N&&T.css("margin-left",w-F-N),T.show()}},show:function(k,T,A){var F,z,N,m,w,M,D,I,H=!0;switch(y.element&&y.element.length&&y.element.width(""),H){case(!T&&!k):return!1;case(!!T&&!!k):y.reference=k,y.position_x=T.x,y.position_y=T.y;break;case(!T&&!!k):y.reference=k,F=k.offset(),y.position_x=F.left+k.outerHeight(),y.position_y=F.top;break;case(!!T&&!k):y.position_x=T.x,y.position_y=T.y;break}k&&!A&&u(k).data("vakata_contextmenu")&&(A=u(k).data("vakata_contextmenu")),u.vakata.context._parse(A)&&y.element.html(y.html),y.items.length&&(y.element.appendTo(f.body),z=y.element,N=y.position_x,m=y.position_y,w=z.width(),M=z.height(),D=u(window).width()+u(window).scrollLeft(),I=u(window).height()+u(window).scrollTop(),S&&(N-=z.outerWidth()-u(k).outerWidth(),N<u(window).scrollLeft()+20&&(N=u(window).scrollLeft()+20)),N+w+20>D&&(N=D-(w+20)),m+M+20>I&&(m=I-(M+20)),y.element.css({left:N,top:m}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),y.is_visible=!0,u.vakata.context._trigger("show"))},hide:function(){y.is_visible&&(y.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),y.is_visible=!1,u.vakata.context._trigger("hide"))}},u(function(){S=u(f.body).css("direction")==="rtl";var k=!1;y.element=u("<ul class='vakata-context'></ul>"),y.element.on("mouseenter","li",function(T){T.stopImmediatePropagation(),!u.contains(this,T.relatedTarget)&&(k&&clearTimeout(k),y.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),u(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),u.vakata.context._show_submenu(this))}).on("mouseleave","li",function(T){u.contains(this,T.relatedTarget)||u(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(T){u(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),u.vakata.context.settings.hide_onmouseleave&&(k=setTimeout(function(A){return function(){u.vakata.context.hide()}}(),u.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(T){T.preventDefault(),!u(this).trigger("blur").parent().hasClass("vakata-context-disabled")&&u.vakata.context._execute(u(this).attr("rel"))!==!1&&u.vakata.context.hide()}).on("keydown","a",function(T){var A=null;switch(T.which){case 13:case 32:T.type="click",T.preventDefault(),u(T.currentTarget).trigger(T);break;case 37:y.is_visible&&(y.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),T.stopImmediatePropagation(),T.preventDefault());break;case 38:y.is_visible&&(A=y.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),A.length||(A=y.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),A.addClass("vakata-context-hover").children("a").trigger("focus"),T.stopImmediatePropagation(),T.preventDefault());break;case 39:y.is_visible&&(y.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),T.stopImmediatePropagation(),T.preventDefault());break;case 40:y.is_visible&&(A=y.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),A.length||(A=y.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),A.addClass("vakata-context-hover").children("a").trigger("focus"),T.stopImmediatePropagation(),T.preventDefault());break;case 27:u.vakata.context.hide(),T.preventDefault();break}}).on("keydown",function(T){T.preventDefault();var A=y.element.find(".vakata-contextmenu-shortcut-"+T.which).parent();A.parent().not(".vakata-context-disabled")&&A.trigger("click")}),u(f).on("mousedown.vakata.jstree",function(T){y.is_visible&&y.element[0]!==T.target&&!u.contains(y.element[0],T.target)&&u.vakata.context.hide()}).on("context_show.vakata.jstree",function(T,A){y.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),S&&y.element.addClass("vakata-context-rtl").css("direction","rtl"),y.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1};var b,C;e.jstree.plugins.dnd=function(u,S){this.init=function(y,k){S.init.call(this,y,k),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in f.createElement("span")},this.bind=function(){S.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",(function(y){if(this.settings.dnd.large_drag_target&&e(y.target).closest(".jstree-node")[0]!==y.currentTarget||y.type==="touchstart"&&(!this.settings.dnd.touch||this.settings.dnd.touch==="selected"&&!e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var k=this.get_node(y.target),T=this.is_selected(k)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,A=T>1?T+" "+this.get_string("nodes"):this.get_text(y.currentTarget);if(this.settings.core.force_text&&(A=e.vakata.html.escape(A)),k&&(k.id||k.id===0)&&k.id!==e.jstree.root&&(y.which===1||y.type==="touchstart"||y.type==="dragstart")&&(this.settings.dnd.is_draggable===!0||e.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,T>1?this.get_top_selected(!0):[k],y)))if(b={jstree:!0,origin:this,obj:this.get_node(k,!0),nodes:T>1?this.get_top_selected():[k.id]},C=y.currentTarget,this.settings.dnd.use_html5)e.vakata.dnd._trigger("start",y,{helper:e(),element:C,data:b});else return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(y,b,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+A+'<ins class="jstree-copy">+</ins></div>')}).bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(y){return y.preventDefault(),e.vakata.dnd._trigger("move",y,{helper:e(),element:C,data:b}),!1}).on("drop.jstree",(function(y){return y.preventDefault(),e.vakata.dnd._trigger("stop",y,{helper:e(),element:C,data:b}),!1}).bind(this))},this.redraw_node=function(y,k,T,A){if(y=S.redraw_node.apply(this,arguments),y&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)y.setAttribute("draggable",!0);else{var F,z,N=null;for(F=0,z=y.childNodes.length;F<z;F++)if(y.childNodes[F]&&y.childNodes[F].className&&y.childNodes[F].className.indexOf("jstree-anchor")!==-1){N=y.childNodes[F];break}N&&N.setAttribute("draggable",!0)}return y}},e(function(){var u=!1,S=!1,y=!1,k=!1,T=e('<div id="jstree-marker">&#160;</div>').hide();e(f).on("dragover.vakata.jstree",function(A){C&&e.vakata.dnd._trigger("move",A,{helper:e(),element:C,data:b})}).on("drop.vakata.jstree",function(A){C&&(e.vakata.dnd._trigger("stop",A,{helper:e(),element:C,data:b}),C=null,b=null)}).on("dnd_start.vakata.jstree",function(A,F){u=!1,y=!1,!(!F||!F.data||!F.data.jstree)&&T.appendTo(f.body)}).on("dnd_move.vakata.jstree",function(A,F){var z=F.event.target!==y.target;if(k&&(!F.event||F.event.type!=="dragover"||z)&&clearTimeout(k),!(!F||!F.data||!F.data.jstree)&&!(F.event.target.id&&F.event.target.id==="jstree-marker")){y=F.event;var N=e.jstree.reference(F.event.target),m=!1,w=!1,M=!1,D,I,H,j,$,ae,X,Y,ue,be,Oe,me,xe,Ae,$e,tt,ye;if(N&&N._data&&N._data.dnd){if(T.attr("class","jstree-"+N.get_theme()+(N.settings.core.themes.responsive?" jstree-dnd-responsive":"")),$e=F.data.origin&&(F.data.origin.settings.dnd.always_copy||F.data.origin.settings.dnd.copy&&(F.event.metaKey||F.event.ctrlKey)),F.helper.children().attr("class","jstree-"+N.get_theme()+" jstree-"+N.get_theme()+"-"+N.get_theme_variant()+" "+(N.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[$e?"show":"hide"](),(F.event.target===N.element[0]||F.event.target===N.get_container_ul()[0])&&(N.get_container_ul().children().length===0||N.settings.dnd.blank_space_drop)){for(X=!0,Y=0,ue=F.data.nodes.length;Y<ue&&(X=X&&N.check(F.data.origin&&(F.data.origin.settings.dnd.always_copy||F.data.origin.settings.dnd.copy&&(F.event.metaKey||F.event.ctrlKey))?"copy_node":"move_node",F.data.origin&&F.data.origin!==N?F.data.origin.get_node(F.data.nodes[Y]):F.data.nodes[Y],e.jstree.root,"last",{dnd:!0,ref:N.get_node(e.jstree.root),pos:"i",origin:F.data.origin,is_multi:F.data.origin&&F.data.origin!==N,is_foreign:!F.data.origin}),!!X);Y++);if(X){u={ins:N,par:e.jstree.root,pos:"last"},T.hide(),F.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),F.event.originalEvent&&F.event.originalEvent.dataTransfer&&(F.event.originalEvent.dataTransfer.dropEffect=$e?"copy":"move");return}}else if(m=N.settings.dnd.large_drop_target?e(F.event.target).closest(".jstree-node").children(".jstree-anchor"):e(F.event.target).closest(".jstree-anchor"),m&&m.length&&m.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(w=m.offset(),M=(F.event.pageY!==i?F.event.pageY:F.event.originalEvent.pageY)-w.top,H=m.outerHeight(),M<H/3?ae=["b","i","a"]:M>H-H/3?ae=["a","i","b"]:ae=M>H/2?["i","a","b"]:["i","b","a"],e.each(ae,function(dt,ft){switch(ft){case"b":D=w.left-6,I=w.top,j=N.get_parent(m),$=m.parent().index(),ye="jstree-below";break;case"i":xe=N.settings.dnd.inside_pos,Ae=N.get_node(m.parent()),D=w.left-2,I=w.top+H/2+1,j=Ae.id,$=xe==="first"?0:xe==="last"?Ae.children.length:Math.min(xe,Ae.children.length),ye="jstree-inside";break;case"a":D=w.left-6,I=w.top+H,j=N.get_parent(m),$=m.parent().index()+1,ye="jstree-above";break}for(X=!0,Y=0,ue=F.data.nodes.length;Y<ue;Y++)if(be=F.data.origin&&(F.data.origin.settings.dnd.always_copy||F.data.origin.settings.dnd.copy&&(F.event.metaKey||F.event.ctrlKey))?"copy_node":"move_node",Oe=$,be==="move_node"&&ft==="a"&&F.data.origin&&F.data.origin===N&&j===N.get_parent(F.data.nodes[Y])&&(me=N.get_node(j),Oe>e.inArray(F.data.nodes[Y],me.children)&&(Oe-=1)),X=X&&(N&&N.settings&&N.settings.dnd&&N.settings.dnd.check_while_dragging===!1||N.check(be,F.data.origin&&F.data.origin!==N?F.data.origin.get_node(F.data.nodes[Y]):F.data.nodes[Y],j,Oe,{dnd:!0,ref:N.get_node(m.parent()),pos:ft,origin:F.data.origin,is_multi:F.data.origin&&F.data.origin!==N,is_foreign:!F.data.origin})),!X){N&&N.last_error&&(S=N.last_error());break}if(ft==="i"&&m.parent().is(".jstree-closed")&&N.settings.dnd.open_timeout&&(!F.event||F.event.type!=="dragover"||z)&&(k&&clearTimeout(k),k=setTimeout(function(Gt,Re){return function(){Gt.open_node(Re)}}(N,m),N.settings.dnd.open_timeout)),X)return tt=N.get_node(j,!0),tt.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),tt.addClass("jstree-dnd-parent")),u={ins:N,par:j,pos:ft==="i"&&xe==="last"&&$===0&&!N.is_loaded(Ae)?"last":$},T.css({left:D+"px",top:I+"px"}).show(),T.removeClass("jstree-above jstree-inside jstree-below").addClass(ye),F.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),F.event.originalEvent&&F.event.originalEvent.dataTransfer&&(F.event.originalEvent.dataTransfer.dropEffect=$e?"copy":"move"),S={},ae=!0,!1}),ae===!0))return}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),u=!1,F.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),F.event.originalEvent&&F.event.originalEvent.dataTransfer,T.hide()}}).on("dnd_scroll.vakata.jstree",function(A,F){!F||!F.data||!F.data.jstree||(T.hide(),u=!1,y=!1,F.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(A,F){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),k&&clearTimeout(k),!(!F||!F.data||!F.data.jstree)){T.hide().detach();var z,N,m=[];if(u){for(z=0,N=F.data.nodes.length;z<N;z++)m[z]=F.data.origin?F.data.origin.get_node(F.data.nodes[z]):F.data.nodes[z];u.ins[F.data.origin&&(F.data.origin.settings.dnd.always_copy||F.data.origin.settings.dnd.copy&&(F.event.metaKey||F.event.ctrlKey))?"copy_node":"move_node"](m,u.par,u.pos,!1,!1,!1,F.data.origin)}else z=e(F.event.target).closest(".jstree"),z.length&&S&&S.error&&S.error==="check"&&(z=z.jstree(!0),z&&z.settings.core.error.call(this,S));y=!1,u=!1}}).on("keyup.jstree keydown.jstree",function(A,F){F=e.vakata.dnd._get(),F&&F.data&&F.data.jstree&&(A.type==="keyup"&&A.which===27?(k&&clearTimeout(k),u=!1,S=!1,y=!1,k=!1,T.hide().detach(),e.vakata.dnd._clean()):(F.helper.find(".jstree-copy").first()[F.data.origin&&(F.data.origin.settings.dnd.always_copy||F.data.origin.settings.dnd.copy&&(A.metaKey||A.ctrlKey))?"show":"hide"](),y&&(y.metaKey=A.metaKey,y.ctrlKey=A.ctrlKey,e.vakata.dnd._trigger("move",y))))})}),function(u){u.vakata.html={div:u("<div></div>"),escape:function(y){return u.vakata.html.div.text(y).html()},strip:function(y){return u.vakata.html.div.empty().append(u.parseHTML(y)).text()}};var S={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};u.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(y,k,T){T===i&&(T=u.vakata.dnd._get()),T.event=k,u(f).triggerHandler("dnd_"+y+".vakata",T)},_get:function(){return{data:S.data,element:S.element,helper:S.helper}},_clean:function(){S.helper&&S.helper.remove(),S.scroll_i&&(clearInterval(S.scroll_i),S.scroll_i=!1),S={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},C=null,u(f).off("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(f).off("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop)},_scroll:function(y){if(!S.scroll_e||!S.scroll_l&&!S.scroll_t)return S.scroll_i&&(clearInterval(S.scroll_i),S.scroll_i=!1),!1;if(!S.scroll_i)return S.scroll_i=setInterval(u.vakata.dnd._scroll,100),!1;if(y===!0)return!1;var k=S.scroll_e.scrollTop(),T=S.scroll_e.scrollLeft();S.scroll_e.scrollTop(k+S.scroll_t*u.vakata.dnd.settings.scroll_speed),S.scroll_e.scrollLeft(T+S.scroll_l*u.vakata.dnd.settings.scroll_speed),(k!==S.scroll_e.scrollTop()||T!==S.scroll_e.scrollLeft())&&u.vakata.dnd._trigger("scroll",S.scroll_e)},start:function(y,k,T){y.type==="touchstart"&&y.originalEvent&&y.originalEvent.changedTouches&&y.originalEvent.changedTouches[0]&&(y.pageX=y.originalEvent.changedTouches[0].pageX,y.pageY=y.originalEvent.changedTouches[0].pageY,y.target=f.elementFromPoint(y.originalEvent.changedTouches[0].pageX-window.pageXOffset,y.originalEvent.changedTouches[0].pageY-window.pageYOffset)),S.is_drag&&u.vakata.dnd.stop({});try{y.currentTarget.unselectable="on",y.currentTarget.onselectstart=function(){return!1},y.currentTarget.style&&(y.currentTarget.style.touchAction="none",y.currentTarget.style.msTouchAction="none",y.currentTarget.style.MozUserSelect="none")}catch{}return S.init_x=y.pageX,S.init_y=y.pageY,S.data=k,S.is_down=!0,S.element=y.currentTarget,S.target=y.target,S.is_touch=y.type==="touchstart",T!==!1&&(S.helper=u("<div id='vakata-dnd'></div>").html(T).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),u(f).on("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(f).on("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop),!1},drag:function(y){if(y.type==="touchmove"&&y.originalEvent&&y.originalEvent.changedTouches&&y.originalEvent.changedTouches[0]&&(y.pageX=y.originalEvent.changedTouches[0].pageX,y.pageY=y.originalEvent.changedTouches[0].pageY,y.target=f.elementFromPoint(y.originalEvent.changedTouches[0].pageX-window.pageXOffset,y.originalEvent.changedTouches[0].pageY-window.pageYOffset)),!!S.is_down){if(!S.is_drag)if(Math.abs(y.pageX-S.init_x)>(S.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)||Math.abs(y.pageY-S.init_y)>(S.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold))S.helper&&(S.helper.appendTo(f.body),S.helper_w=S.helper.outerWidth()),S.is_drag=!0,u(S.target).one("click.vakata",!1),u.vakata.dnd._trigger("start",y);else return;var k=!1,T=!1,A=!1,F=!1,z=!1,N=!1,m=!1,w=!1,M=!1,D=!1;return S.scroll_t=0,S.scroll_l=0,S.scroll_e=!1,u(u(y.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(u(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var I=u(this),H=I.offset();if(this.scrollHeight>this.offsetHeight&&(H.top+I.height()-y.pageY<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_t=1),y.pageY-H.top<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(H.left+I.width()-y.pageX<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_l=1),y.pageX-H.left<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_l=-1)),S.scroll_t||S.scroll_l)return S.scroll_e=u(this),!1}),S.scroll_e||(k=u(f),T=u(window),A=k.height(),F=T.height(),z=k.width(),N=T.width(),m=k.scrollTop(),w=k.scrollLeft(),A>F&&y.pageY-m<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_t=-1),A>F&&F-(y.pageY-m)<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_t=1),z>N&&y.pageX-w<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_l=-1),z>N&&N-(y.pageX-w)<u.vakata.dnd.settings.scroll_proximity&&(S.scroll_l=1),(S.scroll_t||S.scroll_l)&&(S.scroll_e=k)),S.scroll_e&&u.vakata.dnd._scroll(!0),S.helper&&(M=parseInt(y.pageY+u.vakata.dnd.settings.helper_top,10),D=parseInt(y.pageX+u.vakata.dnd.settings.helper_left,10),A&&M+25>A&&(M=A-50),z&&D+S.helper_w>z&&(D=z-(S.helper_w+2)),S.helper.css({left:D+"px",top:M+"px"})),u.vakata.dnd._trigger("move",y),!1}},stop:function(y){if(y.type==="touchend"&&y.originalEvent&&y.originalEvent.changedTouches&&y.originalEvent.changedTouches[0]&&(y.pageX=y.originalEvent.changedTouches[0].pageX,y.pageY=y.originalEvent.changedTouches[0].pageY,y.target=f.elementFromPoint(y.originalEvent.changedTouches[0].pageX-window.pageXOffset,y.originalEvent.changedTouches[0].pageY-window.pageYOffset)),S.is_drag)y.target!==S.target&&u(S.target).off("click.vakata"),u.vakata.dnd._trigger("stop",y);else if(y.type==="touchend"&&y.target===S.target){var k=setTimeout(function(){u(y.target).trigger("click")},100);u(y.target).one("click",function(){k&&clearTimeout(k)})}return u.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(u,S){this.init=function(y,k){this._data.massload={},S.init.call(this,y,k)},this._load_nodes=function(y,k,T,A){var F=this.settings.massload,z=[],N=this._model.data,m,w,M;if(!T){for(m=0,w=y.length;m<w;m++)(!N[y[m]]||!N[y[m]].state.loaded&&!N[y[m]].state.failed||A)&&(z.push(y[m]),M=this.get_node(y[m],!0),M&&M.length&&M.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},z.length){if(e.vakata.is_function(F))return F.call(this,z,(function(D){var I,H;if(D)for(I in D)D.hasOwnProperty(I)&&(this._data.massload[I]=D[I]);for(I=0,H=y.length;I<H;I++)M=this.get_node(y[I],!0),M&&M.length&&M.removeClass("jstree-loading").attr("aria-busy",!1);S._load_nodes.call(this,y,k,T,A)}).bind(this));if(typeof F=="object"&&F&&F.url)return F=e.extend(!0,{},F),e.vakata.is_function(F.url)&&(F.url=F.url.call(this,z)),e.vakata.is_function(F.data)&&(F.data=F.data.call(this,z)),e.ajax(F).done((function(D,I,H){var j,$;if(D)for(j in D)D.hasOwnProperty(j)&&(this._data.massload[j]=D[j]);for(j=0,$=y.length;j<$;j++)M=this.get_node(y[j],!0),M&&M.length&&M.removeClass("jstree-loading").attr("aria-busy",!1);S._load_nodes.call(this,y,k,T,A)}).bind(this)).fail((function(D){S._load_nodes.call(this,y,k,T,A)}).bind(this))}}return S._load_nodes.call(this,y,k,T,A)},this._load_node=function(y,k){var T=this._data.massload[y.id],A=null,F;return T?(A=this[typeof T=="string"?"_append_html_data":"_append_json_data"](y,typeof T=="string"?e(e.parseHTML(T)).filter(function(){return this.nodeType!==3}):T,function(z){k.call(this,z)}),F=this.get_node(y.id,!0),F&&F.length&&F.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[y.id],A):S._load_node.call(this,y,k)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(u,S){this.bind=function(){S.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",(function(y,k){if(this._data.search.som&&k.res.length){var T=this._model.data,A,F,z=[],N,m;for(A=0,F=k.res.length;A<F;A++)if(T[k.res[A]]&&!T[k.res[A]].state.hidden&&(z.push(k.res[A]),z=z.concat(T[k.res[A]].parents),this._data.search.smc))for(N=0,m=T[k.res[A]].children_d.length;N<m;N++)T[T[k.res[A]].children_d[N]]&&!T[T[k.res[A]].children_d[N]].state.hidden&&z.push(T[k.res[A]].children_d[N]);z=e.vakata.array_remove_item(e.vakata.array_unique(z),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(z,!0),this.redraw(!0)}}).bind(this)).on("clear_search.jstree",(function(y,k){this._data.search.som&&k.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}).bind(this))},this.search=function(y,k,T,A,F,z){if(y===!1||e.vakata.trim(y.toString())==="")return this.clear_search();A=this.get_node(A),A=A&&(A.id||A.id===0)?A.id:null,y=y.toString();var N=this.settings.search,m=N.ajax?N.ajax:!1,w=this._model.data,M=null,D=[],I=[],H,j;if(this._data.search.res.length&&!F&&this.clear_search(),T===i&&(T=N.show_only_matches),z===i&&(z=N.show_only_matches_children),!k&&m!==!1)return e.vakata.is_function(m)?m.call(this,y,(function($){$&&$.d&&($=$.d),this._load_nodes(e.vakata.is_array($)?e.vakata.array_unique($):[],function(){this.search(y,!0,T,A,F,z)})}).bind(this),A):(m=e.extend({},m),m.data||(m.data={}),m.data.str=y,A&&(m.data.inside=A),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(m).fail((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(m)},this.settings.core.error.call(this,this._data.core.last_error)}).bind(this)).done((function($){$&&$.d&&($=$.d),this._load_nodes(e.vakata.is_array($)?e.vakata.array_unique($):[],function(){this.search(y,!0,T,A,F,z)})}).bind(this)),this._data.search.lastRequest);if(F||(this._data.search.str=y,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=T,this._data.search.smc=z),M=new e.vakata.search(y,!0,{caseSensitive:N.case_sensitive,fuzzy:N.fuzzy}),e.each(w[A||e.jstree.root].children_d,function($,ae){var X=w[ae];X.text&&!X.state.hidden&&(!N.search_leaves_only||X.state.loaded&&X.children.length===0)&&(N.search_callback&&N.search_callback.call(this,y,X)||!N.search_callback&&M.search(X.text).isMatch)&&(D.push(ae),I=I.concat(X.parents))}),D.length){for(I=e.vakata.array_unique(I),H=0,j=I.length;H<j;H++)I[H]!==e.jstree.root&&w[I[H]]&&this.open_node(I[H],null,0)===!0&&this._data.search.opn.push(I[H]);F?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(D,function($){return"0123456789".indexOf($[0])!==-1?"\\3"+$[0]+" "+$.substr(1).replace(e.jstree.idregex,"\\$&"):$.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(D))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(D,function($){return"0123456789".indexOf($[0])!==-1?"\\3"+$[0]+" "+$.substr(1).replace(e.jstree.idregex,"\\$&"):$.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=D),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:y,res:this._data.search.res,show_only_matches:T})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(y){return"0123456789".indexOf(y[0])!==-1?"\\3"+y[0]+" "+y.substr(1).replace(e.jstree.idregex,"\\$&"):y.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(y,k,T,A){if(y=S.redraw_node.apply(this,arguments),y&&e.inArray(y.id,this._data.search.res)!==-1){var F,z,N=null;for(F=0,z=y.childNodes.length;F<z;F++)if(y.childNodes[F]&&y.childNodes[F].className&&y.childNodes[F].className.indexOf("jstree-anchor")!==-1){N=y.childNodes[F];break}N&&(N.className+=" jstree-search")}return y}},function(u){u.vakata.search=function(S,y,k){k=k||{},k=u.extend({},u.vakata.search.defaults,k),k.fuzzy!==!1&&(k.fuzzy=!0),S=k.caseSensitive?S:S.toLowerCase();var T=k.location,A=k.distance,F=k.threshold,z=S.length,N,m,w,M;return z>32&&(k.fuzzy=!1),k.fuzzy&&(N=1<<z-1,m=function(){var D={},I=0;for(I=0;I<z;I++)D[S.charAt(I)]=0;for(I=0;I<z;I++)D[S.charAt(I)]|=1<<z-I-1;return D}(),w=function(D,I){var H=D/z,j=Math.abs(T-I);return A?H+j/A:j?1:H}),M=function(D){if(D=k.caseSensitive?D.toString():D.toString().toLowerCase(),S===D||D.indexOf(S)!==-1)return{isMatch:!0,score:0};if(!k.fuzzy)return{isMatch:!1,score:1};var I,H,j=D.length,$=F,ae=D.indexOf(S,T),X,Y,ue=z+j,be,Oe,me,xe,Ae,$e=1;for(ae!==-1&&($=Math.min(w(0,ae),$),ae=D.lastIndexOf(S,T+z),ae!==-1&&($=Math.min(w(0,ae),$))),ae=-1,I=0;I<z;I++){for(X=0,Y=ue;X<Y;)w(I,T+Y)<=$?X=Y:ue=Y,Y=Math.floor((ue-X)/2+X);for(ue=Y,Oe=Math.max(1,T-Y+1),me=Math.min(T+Y,j)+z,xe=new Array(me+2),xe[me+1]=(1<<I)-1,H=me;H>=Oe;H--)if(Ae=m[D.charAt(H-1)],I===0?xe[H]=(xe[H+1]<<1|1)&Ae:xe[H]=(xe[H+1]<<1|1)&Ae|((be[H+1]|be[H])<<1|1)|be[H+1],xe[H]&N&&($e=w(I,H-1),$e<=$))if($=$e,ae=H-1,ae>T)Oe=Math.max(1,2*T-ae);else break;if(w(I+1,T)>$)break;be=xe}return{isMatch:ae>=0,score:$e}},y===!0?{search:M}:M(y)},u.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(u,S){return this.get_text(u)>this.get_text(S)?1:-1},e.jstree.plugins.sort=function(u,S){this.bind=function(){S.bind.call(this),this.element.on("model.jstree",(function(y,k){this.sort(k.parent,!0)}).bind(this)).on("rename_node.jstree create_node.jstree",(function(y,k){this.sort(k.parent||k.node.parent,!1),this.redraw_node(k.parent||k.node.parent,!0)}).bind(this)).on("move_node.jstree copy_node.jstree",(function(y,k){this.sort(k.parent,!1),this.redraw_node(k.parent,!0)}).bind(this))},this.sort=function(y,k){var T,A;if(y=this.get_node(y),y&&y.children&&y.children.length&&(y.children.sort(this.settings.sort.bind(this)),k))for(T=0,A=y.children_d.length;T<A;T++)this.sort(y.children_d[T],!1)}};var O=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(u,S){this.bind=function(){S.bind.call(this);var y=(function(){this.element.on(this.settings.state.events,(function(){O&&clearTimeout(O),O=setTimeout((function(){this.save_state()}).bind(this),100)}).bind(this)),this.trigger("state_ready")}).bind(this);this.element.on("ready.jstree",(function(k,T){this.element.one("restore_state.jstree",y),this.restore_state()||y()}).bind(this))},this.save_state=function(){var y=this.get_state();this.settings.state.preserve_loaded||delete y.core.loaded;var k={state:y,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(k))},this.restore_state=function(){var y=e.vakata.storage.get(this.settings.state.key);if(y)try{y=JSON.parse(y)}catch{return!1}return y&&y.ttl&&y.sec&&+new Date-y.sec>y.ttl?!1:(y&&y.state&&(y=y.state),y&&e.vakata.is_function(this.settings.state.filter)&&(y=this.settings.state.filter.call(this,y)),y?(this.settings.state.preserve_loaded||delete y.core.loaded,this.element.one("set_state.jstree",function(k,T){T.instance.trigger("restore_state",{state:e.extend(!0,{},y)})}),this.set_state(y),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(u,S){u.vakata.storage={set:function(y,k){return window.localStorage.setItem(y,k)},get:function(y){return window.localStorage.getItem(y)},del:function(y){return window.localStorage.removeItem(y)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(u,S){this.init=function(y,k){var T,A;if(k&&k.types&&k.types.default){for(T in k.types)if(T!=="default"&&T!==e.jstree.root&&k.types.hasOwnProperty(T))for(A in k.types.default)k.types.default.hasOwnProperty(A)&&k.types[T][A]===i&&(k.types[T][A]=k.types.default[A])}S.init.call(this,y,k),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(y,k){S.refresh.call(this,y,k),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",(function(y,k){var T=this._model.data,A=k.nodes,F=this.settings.types,z,N,m="default",w;for(z=0,N=A.length;z<N;z++){if(m="default",T[A[z]].original&&T[A[z]].original.type&&F[T[A[z]].original.type]&&(m=T[A[z]].original.type),T[A[z]].data&&T[A[z]].data.jstree&&T[A[z]].data.jstree.type&&F[T[A[z]].data.jstree.type]&&(m=T[A[z]].data.jstree.type),T[A[z]].type=m,T[A[z]].icon===!0&&F[m].icon!==i&&(T[A[z]].icon=F[m].icon),F[m].li_attr!==i&&typeof F[m].li_attr=="object"){for(w in F[m].li_attr)if(F[m].li_attr.hasOwnProperty(w)){if(w==="id")continue;T[A[z]].li_attr[w]===i?T[A[z]].li_attr[w]=F[m].li_attr[w]:w==="class"&&(T[A[z]].li_attr.class=F[m].li_attr.class+" "+T[A[z]].li_attr.class)}}if(F[m].a_attr!==i&&typeof F[m].a_attr=="object"){for(w in F[m].a_attr)if(F[m].a_attr.hasOwnProperty(w)){if(w==="id")continue;T[A[z]].a_attr[w]===i?T[A[z]].a_attr[w]=F[m].a_attr[w]:w==="href"&&T[A[z]].a_attr[w]==="#"?T[A[z]].a_attr.href=F[m].a_attr.href:w==="class"&&(T[A[z]].a_attr.class=F[m].a_attr.class+" "+T[A[z]].a_attr.class)}}}T[e.jstree.root].type=e.jstree.root}).bind(this)),S.bind.call(this)},this.get_json=function(y,k,T){var A,F,z=this._model.data,N=k?e.extend(!0,{},k,{no_id:!1}):{},m=S.get_json.call(this,y,N,T);if(m===!1)return!1;if(e.vakata.is_array(m))for(A=0,F=m.length;A<F;A++)m[A].type=(m[A].id||m[A].id===0)&&z[m[A].id]&&z[m[A].id].type?z[m[A].id].type:"default",k&&k.no_id&&(delete m[A].id,m[A].li_attr&&m[A].li_attr.id&&delete m[A].li_attr.id,m[A].a_attr&&m[A].a_attr.id&&delete m[A].a_attr.id);else m.type=(m.id||m.id===0)&&z[m.id]&&z[m.id].type?z[m.id].type:"default",k&&k.no_id&&(m=this._delete_ids(m));return m},this._delete_ids=function(y){if(e.vakata.is_array(y)){for(var k=0,T=y.length;k<T;k++)y[k]=this._delete_ids(y[k]);return y}return delete y.id,y.li_attr&&y.li_attr.id&&delete y.li_attr.id,y.a_attr&&y.a_attr.id&&delete y.a_attr.id,y.children&&e.vakata.is_array(y.children)&&(y.children=this._delete_ids(y.children)),y},this.check=function(y,k,T,A,F){if(S.check.call(this,y,k,T,A,F)===!1)return!1;k=k&&(k.id||k.id===0)?k:this.get_node(k),T=T&&(T.id||T.id===0)?T:this.get_node(T);var z=k&&(k.id||k.id===0)?F&&F.origin?F.origin:e.jstree.reference(k.id):null,N,m,w,M;switch(z=z&&z._model&&z._model.data?z._model.data:null,y){case"create_node":case"move_node":case"copy_node":if(y!=="move_node"||e.inArray(k.id,T.children)===-1){if(N=this.get_rules(T),N.max_children!==i&&N.max_children!==-1&&N.max_children===T.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})},!1;if(N.valid_children!==i&&N.valid_children!==-1&&e.inArray(k.type||"default",N.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})},!1;if(z&&k.children_d&&k.parents){for(m=0,w=0,M=k.children_d.length;w<M;w++)m=Math.max(m,z[k.children_d[w]].parents.length);m=m-k.parents.length+1}(m<=0||m===i)&&(m=1);do{if(N.max_depth!==i&&N.max_depth!==-1&&N.max_depth<m)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})},!1;T=this.get_node(T.parent),N=this.get_rules(T),m++}while(T)}break}return!0},this.get_rules=function(y){if(y=this.get_node(y),!y)return!1;var k=this.get_type(y,!0);return k.max_depth===i&&(k.max_depth=-1),k.max_children===i&&(k.max_children=-1),k.valid_children===i&&(k.valid_children=-1),k},this.get_type=function(y,k){return y=this.get_node(y),y?k?e.extend({type:y.type},this.settings.types[y.type]):y.type:!1},this.set_type=function(y,k){var T=this._model.data,A,F,z,N,m,w,M,D;if(e.vakata.is_array(y)){for(y=y.slice(),F=0,z=y.length;F<z;F++)this.set_type(y[F],k);return!0}if(A=this.settings.types,y=this.get_node(y),!A[k]||!y)return!1;if(M=this.get_node(y,!0),M&&M.length&&(D=M.children(".jstree-anchor")),N=y.type,m=this.get_icon(y),y.type=k,(m===!0||!A[N]||A[N].icon!==i&&m===A[N].icon)&&this.set_icon(y,A[k].icon!==i?A[k].icon:!0),A[N]&&A[N].li_attr!==i&&typeof A[N].li_attr=="object"){for(w in A[N].li_attr)if(A[N].li_attr.hasOwnProperty(w)){if(w==="id")continue;w==="class"?(T[y.id].li_attr.class=(T[y.id].li_attr.class||"").replace(A[N].li_attr[w],""),M&&M.removeClass(A[N].li_attr[w])):T[y.id].li_attr[w]===A[N].li_attr[w]&&(T[y.id].li_attr[w]=null,M&&M.removeAttr(w))}}if(A[N]&&A[N].a_attr!==i&&typeof A[N].a_attr=="object"){for(w in A[N].a_attr)if(A[N].a_attr.hasOwnProperty(w)){if(w==="id")continue;w==="class"?(T[y.id].a_attr.class=(T[y.id].a_attr.class||"").replace(A[N].a_attr[w],""),D&&D.removeClass(A[N].a_attr[w])):T[y.id].a_attr[w]===A[N].a_attr[w]&&(w==="href"?(T[y.id].a_attr[w]="#",D&&D.attr("href","#")):(delete T[y.id].a_attr[w],D&&D.removeAttr(w)))}}if(A[k].li_attr!==i&&typeof A[k].li_attr=="object"){for(w in A[k].li_attr)if(A[k].li_attr.hasOwnProperty(w)){if(w==="id")continue;T[y.id].li_attr[w]===i?(T[y.id].li_attr[w]=A[k].li_attr[w],M&&(w==="class"?M.addClass(A[k].li_attr[w]):M.attr(w,A[k].li_attr[w]))):w==="class"&&(T[y.id].li_attr.class=A[k].li_attr[w]+" "+T[y.id].li_attr.class,M&&M.addClass(A[k].li_attr[w]))}}if(A[k].a_attr!==i&&typeof A[k].a_attr=="object"){for(w in A[k].a_attr)if(A[k].a_attr.hasOwnProperty(w)){if(w==="id")continue;T[y.id].a_attr[w]===i?(T[y.id].a_attr[w]=A[k].a_attr[w],D&&(w==="class"?D.addClass(A[k].a_attr[w]):D.attr(w,A[k].a_attr[w]))):w==="href"&&T[y.id].a_attr[w]==="#"?(T[y.id].a_attr.href=A[k].a_attr.href,D&&D.attr("href",A[k].a_attr.href)):w==="class"&&(T[y.id].a_attr.class=A[k].a_attr.class+" "+T[y.id].a_attr.class,D&&D.addClass(A[k].a_attr[w]))}}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(u,S){return u+" ("+S+")"}},e.jstree.plugins.unique=function(u,S){this.check=function(y,k,T,A,F){if(S.check.call(this,y,k,T,A,F)===!1)return!1;if(k=k&&(k.id||k.id===0)?k:this.get_node(k),T=T&&(T.id||T.id===0)?T:this.get_node(T),!T||!T.children)return!0;var z=y==="rename_node"?A:k.text,N=[],m=this.settings.unique.case_sensitive,w=this.settings.unique.trim_whitespace,M=this._model.data,D,I,H;for(D=0,I=T.children.length;D<I;D++)H=M[T.children[D]].text,m||(H=H.toLowerCase()),w&&(H=H.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),N.push(H);switch(m||(z=z.toLowerCase()),w&&(z=z.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),y){case"delete_node":return!0;case"rename_node":return H=k.text||"",m||(H=H.toLowerCase()),w&&(H=H.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),D=e.inArray(z,N)===-1||k.text&&H===z,D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+z+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})}),D;case"create_node":return D=e.inArray(z,N)===-1,D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+z+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})}),D;case"copy_node":return D=e.inArray(z,N)===-1,D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+z+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})}),D;case"move_node":return D=k.parent===T.id&&(!F||!F.is_multi)||e.inArray(z,N)===-1,D||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+z+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:A,obj:k&&(k.id||k.id===0)?k.id:!1,par:T&&(T.id||T.id===0)?T.id:!1})}),D}return!0},this.create_node=function(y,k,T,A,F){if(!k||typeof k=="object"&&k.text===i){if(y===null&&(y=e.jstree.root),y=this.get_node(y),!y)return S.create_node.call(this,y,k,T,A,F);if(T=T===i?"last":T,!T.toString().match(/^(before|after)$/)&&!F&&!this.is_loaded(y))return S.create_node.call(this,y,k,T,A,F);k||(k={});var z,N,m,w,M,D=this._model.data,I=this.settings.unique.case_sensitive,H=this.settings.unique.trim_whitespace,j=this.settings.unique.duplicate,$;for(N=z=this.get_string("New node"),m=[],w=0,M=y.children.length;w<M;w++)$=D[y.children[w]].text,I||($=$.toLowerCase()),H&&($=$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),m.push($);for(w=1,$=N,I||($=$.toLowerCase()),H&&($=$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));e.inArray($,m)!==-1;)N=j.call(this,z,++w).toString(),$=N,I||($=$.toLowerCase()),H&&($=$.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));k.text=N}return S.create_node.call(this,y,k,T,A,F)}};var P=f.createElement("DIV");if(P.setAttribute("unselectable","on"),P.setAttribute("role","presentation"),P.className="jstree-wholerow",P.innerHTML="&#160;",e.jstree.plugins.wholerow=function(u,S){this.bind=function(){S.bind.call(this),this.element.on("ready.jstree set_state.jstree",(function(){this.hide_dots()}).bind(this)).on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-wholerow-ul")}).bind(this)).on("deselect_all.jstree",(function(y,k){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}).bind(this)).on("changed.jstree",(function(y,k){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var T=!1,A,F;for(A=0,F=k.selected.length;A<F;A++)T=this.get_node(k.selected[A],!0),T&&T.length&&T.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("open_node.jstree",(function(y,k){this.get_node(k.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("hover_node.jstree dehover_node.jstree",(function(y,k){y.type==="hover_node"&&this.is_disabled(k.node)||this.get_node(k.node,!0).children(".jstree-wholerow")[y.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")}).bind(this)).on("contextmenu.jstree",".jstree-wholerow",(function(y){if(this._data.contextmenu){y.preventDefault();var k=e.Event("contextmenu",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey,pageX:y.pageX,pageY:y.pageY});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(k)}}).bind(this)).on("click.jstree",".jstree-wholerow",function(y){y.stopImmediatePropagation();var k=e.Event("click",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(k).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(y){y.stopImmediatePropagation();var k=e.Event("dblclick",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(k).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",(function(y){y.stopImmediatePropagation();var k=e.Event("click",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(k).trigger("focus")}).bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",(function(y){return y.stopImmediatePropagation(),this.is_disabled(y.currentTarget)||this.hover_node(y.currentTarget),!1}).bind(this)).on("mouseleave.jstree",".jstree-node",(function(y){this.dehover_node(y.currentTarget)}).bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),S.teardown.call(this)},this.redraw_node=function(y,k,T,A){if(y=S.redraw_node.apply(this,arguments),y){var F=P.cloneNode(!0);e.inArray(y.id,this._data.core.selected)!==-1&&(F.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===y.id&&(F.className+=" jstree-wholerow-hovered"),y.insertBefore(F,y.childNodes[0])}return y}},window.customElements&&Object&&Object.create){var L=Object.create(HTMLElement.prototype);L.createdCallback=function(){var u={core:{},plugins:[]},S;for(S in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(S)&&this.attributes[S]&&(u.plugins.push(S),this.getAttribute(S)&&JSON.parse(this.getAttribute(S))&&(u[S]=JSON.parse(this.getAttribute(S))));for(S in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(S)&&this.attributes[S]&&(u.core[S]=JSON.parse(this.getAttribute(S))||this.getAttribute(S));e(this).jstree(u)};try{window.customElements.define("vakata-jstree",function(){},{prototype:L})}catch{}}}})})(SK);/*!
 * Font Awesome Icon Picker
 * https://farbelous.github.io/fontawesome-iconpicker/
 *
 * @author Javi Aguilar, itsjavi.com
 * @license MIT License
 * @see https://github.com/farbelous/fontawesome-iconpicker/blob/master/LICENSE
 */(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){t.ui=t.ui||{},t.ui.version="1.12.1",function(){var e,i=Math.max,s=Math.abs,n=/left|center|right/,l=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,d=/%$/,f=t.fn.pos;function g(b,C,O){return[parseFloat(b[0])*(d.test(b[0])?C/100:1),parseFloat(b[1])*(d.test(b[1])?O/100:1)]}function v(b,C){return parseInt(t.css(b,C),10)||0}function x(b){var C=b[0];return C.nodeType===9?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:t.isWindow(C)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:C.preventDefault?{width:0,height:0,offset:{top:C.pageY,left:C.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}t.pos={scrollbarWidth:function(){if(e!==void 0)return e;var b,C,O=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),P=O.children()[0];return t("body").append(O),b=P.offsetWidth,O.css("overflow","scroll"),C=P.offsetWidth,b===C&&(C=O[0].clientWidth),O.remove(),e=b-C},getScrollInfo:function(b){var C=b.isWindow||b.isDocument?"":b.element.css("overflow-x"),O=b.isWindow||b.isDocument?"":b.element.css("overflow-y"),P=C==="scroll"||C==="auto"&&b.width<b.element[0].scrollWidth,L=O==="scroll"||O==="auto"&&b.height<b.element[0].scrollHeight;return{width:L?t.pos.scrollbarWidth():0,height:P?t.pos.scrollbarWidth():0}},getWithinInfo:function(b){var C=t(b||window),O=t.isWindow(C[0]),P=!!C[0]&&C[0].nodeType===9,L=!O&&!P;return{element:C,isWindow:O,isDocument:P,offset:L?t(b).offset():{left:0,top:0},scrollLeft:C.scrollLeft(),scrollTop:C.scrollTop(),width:C.outerWidth(),height:C.outerHeight()}}},t.fn.pos=function(b){if(!b||!b.of)return f.apply(this,arguments);b=t.extend({},b);var C,O,P,L,u,S,y=t(b.of),k=t.pos.getWithinInfo(b.within),T=t.pos.getScrollInfo(k),A=(b.collision||"flip").split(" "),F={};return S=x(y),y[0].preventDefault&&(b.at="left top"),O=S.width,P=S.height,L=S.offset,u=t.extend({},L),t.each(["my","at"],function(){var z=(b[this]||"").split(" "),N,m;z.length===1&&(z=n.test(z[0])?z.concat(["center"]):l.test(z[0])?["center"].concat(z):["center","center"]),z[0]=n.test(z[0])?z[0]:"center",z[1]=l.test(z[1])?z[1]:"center",N=a.exec(z[0]),m=a.exec(z[1]),F[this]=[N?N[0]:0,m?m[0]:0],b[this]=[h.exec(z[0])[0],h.exec(z[1])[0]]}),A.length===1&&(A[1]=A[0]),b.at[0]==="right"?u.left+=O:b.at[0]==="center"&&(u.left+=O/2),b.at[1]==="bottom"?u.top+=P:b.at[1]==="center"&&(u.top+=P/2),C=g(F.at,O,P),u.left+=C[0],u.top+=C[1],this.each(function(){var z,N,m=t(this),w=m.outerWidth(),M=m.outerHeight(),D=v(this,"marginLeft"),I=v(this,"marginTop"),H=w+D+v(this,"marginRight")+T.width,j=M+I+v(this,"marginBottom")+T.height,$=t.extend({},u),ae=g(F.my,m.outerWidth(),m.outerHeight());b.my[0]==="right"?$.left-=w:b.my[0]==="center"&&($.left-=w/2),b.my[1]==="bottom"?$.top-=M:b.my[1]==="center"&&($.top-=M/2),$.left+=ae[0],$.top+=ae[1],z={marginLeft:D,marginTop:I},t.each(["left","top"],function(X,Y){t.ui.pos[A[X]]&&t.ui.pos[A[X]][Y]($,{targetWidth:O,targetHeight:P,elemWidth:w,elemHeight:M,collisionPosition:z,collisionWidth:H,collisionHeight:j,offset:[C[0]+ae[0],C[1]+ae[1]],my:b.my,at:b.at,within:k,elem:m})}),b.using&&(N=function(X){var Y=L.left-$.left,ue=Y+O-w,be=L.top-$.top,Oe=be+P-M,me={target:{element:y,left:L.left,top:L.top,width:O,height:P},element:{element:m,left:$.left,top:$.top,width:w,height:M},horizontal:ue<0?"left":Y>0?"right":"center",vertical:Oe<0?"top":be>0?"bottom":"middle"};O<w&&s(Y+ue)<O&&(me.horizontal="center"),P<M&&s(be+Oe)<P&&(me.vertical="middle"),i(s(Y),s(ue))>i(s(be),s(Oe))?me.important="horizontal":me.important="vertical",b.using.call(this,X,me)}),m.offset(t.extend($,{using:N}))})},t.ui.pos={_trigger:function(b,C,O,P){C.elem&&C.elem.trigger({type:O,position:b,positionData:C,triggered:P})},fit:{left:function(b,C){t.ui.pos._trigger(b,C,"posCollide","fitLeft");var O=C.within,P=O.isWindow?O.scrollLeft:O.offset.left,L=O.width,u=b.left-C.collisionPosition.marginLeft,S=P-u,y=u+C.collisionWidth-L-P,k;C.collisionWidth>L?S>0&&y<=0?(k=b.left+S+C.collisionWidth-L-P,b.left+=S-k):y>0&&S<=0?b.left=P:S>y?b.left=P+L-C.collisionWidth:b.left=P:S>0?b.left+=S:y>0?b.left-=y:b.left=i(b.left-u,b.left),t.ui.pos._trigger(b,C,"posCollided","fitLeft")},top:function(b,C){t.ui.pos._trigger(b,C,"posCollide","fitTop");var O=C.within,P=O.isWindow?O.scrollTop:O.offset.top,L=C.within.height,u=b.top-C.collisionPosition.marginTop,S=P-u,y=u+C.collisionHeight-L-P,k;C.collisionHeight>L?S>0&&y<=0?(k=b.top+S+C.collisionHeight-L-P,b.top+=S-k):y>0&&S<=0?b.top=P:S>y?b.top=P+L-C.collisionHeight:b.top=P:S>0?b.top+=S:y>0?b.top-=y:b.top=i(b.top-u,b.top),t.ui.pos._trigger(b,C,"posCollided","fitTop")}},flip:{left:function(b,C){t.ui.pos._trigger(b,C,"posCollide","flipLeft");var O=C.within,P=O.offset.left+O.scrollLeft,L=O.width,u=O.isWindow?O.scrollLeft:O.offset.left,S=b.left-C.collisionPosition.marginLeft,y=S-u,k=S+C.collisionWidth-L-u,T=C.my[0]==="left"?-C.elemWidth:C.my[0]==="right"?C.elemWidth:0,A=C.at[0]==="left"?C.targetWidth:C.at[0]==="right"?-C.targetWidth:0,F=-2*C.offset[0],z,N;y<0?(z=b.left+T+A+F+C.collisionWidth-L-P,(z<0||z<s(y))&&(b.left+=T+A+F)):k>0&&(N=b.left-C.collisionPosition.marginLeft+T+A+F-u,(N>0||s(N)<k)&&(b.left+=T+A+F)),t.ui.pos._trigger(b,C,"posCollided","flipLeft")},top:function(b,C){t.ui.pos._trigger(b,C,"posCollide","flipTop");var O=C.within,P=O.offset.top+O.scrollTop,L=O.height,u=O.isWindow?O.scrollTop:O.offset.top,S=b.top-C.collisionPosition.marginTop,y=S-u,k=S+C.collisionHeight-L-u,T=C.my[1]==="top",A=T?-C.elemHeight:C.my[1]==="bottom"?C.elemHeight:0,F=C.at[1]==="top"?C.targetHeight:C.at[1]==="bottom"?-C.targetHeight:0,z=-2*C.offset[1],N,m;y<0?(m=b.top+A+F+z+C.collisionHeight-L-P,(m<0||m<s(y))&&(b.top+=A+F+z)):k>0&&(N=b.top-C.collisionPosition.marginTop+A+F+z-u,(N>0||s(N)<k)&&(b.top+=A+F+z)),t.ui.pos._trigger(b,C,"posCollided","flipTop")}},flipfit:{left:function(){t.ui.pos.flip.left.apply(this,arguments),t.ui.pos.fit.left.apply(this,arguments)},top:function(){t.ui.pos.flip.top.apply(this,arguments),t.ui.pos.fit.top.apply(this,arguments)}}},function(){var b,C,O,P,L,u=document.getElementsByTagName("body")[0],S=document.createElement("div");b=document.createElement(u?"div":"body"),O={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&t.extend(O,{position:"absolute",left:"-1000px",top:"-1000px"});for(L in O)b.style[L]=O[L];b.appendChild(S),C=u||document.documentElement,C.insertBefore(b,C.firstChild),S.style.cssText="position: absolute; left: 10.7432222px;",P=t(S).offset().left,t.support.offsetFractions=P>10&&P<11,b.innerHTML="",C.removeChild(b)}()}(),t.ui.position});(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):window.jQuery&&!window.jQuery.fn.iconpicker&&t(window.jQuery)})(function(t){var e={isEmpty:function(s){return s===!1||s===""||s===null||s===void 0},isEmptyObject:function(s){return this.isEmpty(s)===!0||s.length===0},isElement:function(s){return t(s).length>0},isString:function(s){return typeof s=="string"||s instanceof String},isArray:function(s){return t.isArray(s)},inArray:function(s,n){return t.inArray(s,n)!==-1},throwError:function(s){throw"Font Awesome Icon Picker Exception: "+s}},i=function(s,n){this._id=i._idCounter++,this.element=t(s).addClass("iconpicker-element"),this._trigger("iconpickerCreate",{iconpickerValue:this.iconpickerValue}),this.options=t.extend({},i.defaultOptions,this.element.data(),n),this.options.templates=t.extend({},i.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=e.isElement(this.options.container)?t(this.options.container):!1,this.container===!1&&(this.element.is(".dropdown-toggle")?this.container=t("~ .dropdown-menu:first",this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element),this.container.addClass("iconpicker-container"),this.isDropdownMenu()&&(this.options.placement="inline"),this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):!1,this.input===!1&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1)),this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component),this.component.length===0?this.component=!1:this.component.find("i").addClass("iconpicker-component"),this._createPopover(),this._createIconpicker(),this.getAcceptButton().length===0&&(this.options.mustAccept=!1),this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated",{iconpickerValue:this.iconpickerValue})};i._idCounter=0,i.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(s){return s},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'}},i.batch=function(s,n){var l=Array.prototype.slice.call(arguments,2);return t(s).each(function(){var a=t(this).data("iconpicker");a&&a[n].apply(a,l)})},i.prototype={constructor:i,options:{},_id:0,_trigger:function(s,n){n=n||{},this.element.trigger(t.extend({type:s,iconpickerInstance:this},n))},_createPopover:function(){this.popover=t(this.options.templates.popover);var s=this.popover.find(".popover-title");if(this.options.title&&s.append(t('<div class="popover-title-text">'+this.options.title+"</div>")),this.hasSeparatedSearchInput()&&!this.options.searchInFooter?s.append(this.options.templates.search):this.options.title||s.remove(),this.options.showFooter&&!e.isEmpty(this.options.templates.footer)){var n=t(this.options.templates.footer);this.hasSeparatedSearchInput()&&this.options.searchInFooter&&n.append(t(this.options.templates.search)),e.isEmpty(this.options.templates.buttons)||n.append(t(this.options.templates.buttons)),this.popover.append(n)}return this.options.animation===!0&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var s=this;this.iconpicker=t(this.options.templates.iconpicker);var n=function(v){var x=t(this);x.is("i")&&(x=x.parent()),s._trigger("iconpickerSelect",{iconpickerItem:x,iconpickerValue:s.iconpickerValue}),s.options.mustAccept===!1?(s.update(x.data("iconpickerValue")),s._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:s.iconpickerValue})):s.update(x.data("iconpickerValue"),!0),s.options.hideOnSelect&&s.options.mustAccept===!1&&s.hide()},l=t(this.options.templates.iconpickerItem),a=[];for(var h in this.options.icons)if(typeof this.options.icons[h].title=="string"){var d=l.clone();if(d.find("i").addClass(this.options.fullClassFormatter(this.options.icons[h].title)),d.data("iconpickerValue",this.options.icons[h].title).on("click.iconpicker",n),d.attr("title","."+this.options.icons[h].title),this.options.icons[h].searchTerms.length>0){for(var f="",g=0;g<this.options.icons[h].searchTerms.length;g++)f=f+this.options.icons[h].searchTerms[g]+" ";d.attr("data-search-terms",f)}a.push(d)}return this.iconpicker.find(".iconpicker-items").append(a),this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(s){var n=t(s.target);return!((!n.hasClass("iconpicker-element")||n.hasClass("iconpicker-element")&&!n.is(this.element))&&n.parents(".iconpicker-popover").length===0)},_bindElementEvents:function(){var s=this;this.getSearchInput().on("keyup.iconpicker",function(){s.filter(t(this).val().toLowerCase())}),this.getAcceptButton().on("click.iconpicker",function(){var n=s.iconpicker.find(".iconpicker-selected").get(0);s.update(s.iconpickerValue),s._trigger("iconpickerSelected",{iconpickerItem:n,iconpickerValue:s.iconpickerValue}),s.isInline()||s.hide()}),this.getCancelButton().on("click.iconpicker",function(){s.isInline()||s.hide()}),this.element.on("focus.iconpicker",function(n){s.show(),n.stopPropagation()}),this.hasComponent()&&this.component.on("click.iconpicker",function(){s.toggle()}),this.hasInput()&&this.input.on("keyup.iconpicker",function(n){e.inArray(n.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?s._updateFormGroupStatus(s.getValid(this.value)!==!1):s.update(),s.options.inputSearch===!0&&s.filter(t(this).val().toLowerCase())})},_bindWindowEvents:function(){var s=t(window.document),n=this,l=".iconpicker.inst"+this._id;t(window).on("resize.iconpicker"+l+" orientationchange.iconpicker"+l,function(a){n.popover.hasClass("in")&&n.updatePlacement()}),n.isInline()||s.on("mouseup"+l,function(a){!n._isEventInsideIconpicker(a)&&!n.isInline()&&n.hide()})},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){t(window).off(".iconpicker.inst"+this._id),t(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(s,n){s=s||this.options.placement,this.options.placement=s,n=n||this.options.collision,n=n===!0?"flip":n;var l={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:n===!0?"flip":n,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),typeof s=="object")return this.popover.pos(t.extend({},l,s));switch(s){case"inline":l=!1;break;case"topLeftCorner":l.my="right bottom",l.at="left top";break;case"topLeft":l.my="left bottom",l.at="left top";break;case"top":l.my="center bottom",l.at="center top";break;case"topRight":l.my="right bottom",l.at="right top";break;case"topRightCorner":l.my="left bottom",l.at="right top";break;case"rightTop":l.my="left bottom",l.at="right center";break;case"right":l.my="left center",l.at="right center";break;case"rightBottom":l.my="left top",l.at="right center";break;case"bottomRightCorner":l.my="left top",l.at="right bottom";break;case"bottomRight":l.my="right top",l.at="right bottom";break;case"bottom":l.my="center top",l.at="center bottom";break;case"bottomLeft":l.my="left top",l.at="left bottom";break;case"bottomLeftCorner":l.my="right top",l.at="left bottom";break;case"leftBottom":l.my="right top",l.at="left center";break;case"left":l.my="right center",l.at="left center";break;case"leftTop":l.my="right bottom",l.at="left center";break;default:return!1}return this.popover.css({display:this.options.placement==="inline"?"":"block"}),l!==!1?this.popover.pos(l).css("maxWidth",t(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var s=this.component.find("i");s.length>0?s.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(s){return this.hasInput()?(s!==!1?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0):!1},getValid:function(s){e.isString(s)||(s="");var n=s==="";s=t.trim(s);for(var l=!1,a=0;a<this.options.icons.length;a++)if(this.options.icons[a].title===s){l=!0;break}return l||n?s:!1},setValue:function(s){var n=this.getValid(s);return n!==!1?(this.iconpickerValue=n,this._trigger("iconpickerSetValue",{iconpickerValue:n}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:s}),!1)},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(s){return s=this.setValue(s),s!==!1&&s!==""&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:s})),s},getSourceValue:function(s){s=s||this.options.defaultValue;var n=s;return this.hasInput()?n=this.input.val():n=this.element.data("iconpickerValue"),(n===void 0||n===""||n===null||n===!1)&&(n=s),n},hasInput:function(){return this.input!==!1},isInputSearch:function(){return this.hasInput()&&this.options.inputSearch===!0},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return this.options.templates.search!==!1&&!this.isInputSearch()},hasComponent:function(){return this.component!==!1},hasContainer:function(){return this.container!==!1},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(s){if(e.isEmpty(s))return this.iconpicker.find(".iconpicker-item").show(),t(!1);var n=[];return this.iconpicker.find(".iconpicker-item").each(function(){var l=t(this),a=l.attr("title").toLowerCase(),h=l.attr("data-search-terms")?l.attr("data-search-terms").toLowerCase():"";a=a+" "+h;var d=!1;try{d=new RegExp("(^|\\W)"+s,"g")}catch{d=!1}d!==!1&&a.match(d)?(n.push(l),l.show()):l.hide()}),n},show:function(){if(this.popover.hasClass("in"))return!1;t.iconpicker.batch(t(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow",{iconpickerValue:this.iconpickerValue}),this.updatePlacement(),this.popover.addClass("in"),setTimeout(t.proxy(function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide",{iconpickerValue:this.iconpickerValue}),this.popover.removeClass("in"),setTimeout(t.proxy(function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(s,n){return s=s||this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate",{iconpickerValue:this.iconpickerValue}),n===!0?s=this.setValue(s):(s=this.setSourceValue(s),this._updateFormGroupStatus(s!==!1)),s!==!1&&this._updateComponents(),this._trigger("iconpickerUpdated",{iconpickerValue:this.iconpickerValue}),s},destroy:function(){this._trigger("iconpickerDestroy",{iconpickerValue:this.iconpickerValue}),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),t(this.popover).remove(),this._trigger("iconpickerDestroyed",{iconpickerValue:this.iconpickerValue})},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},isInline:function(){return this.options.placement==="inline"||this.popover.hasClass("inline")}},t.iconpicker=i,t.fn.iconpicker=function(s){return this.each(function(){var n=t(this);n.data("iconpicker")||n.data("iconpicker",new i(this,typeof s=="object"?s:{}))})},i.defaultOptions=t.extend(i.defaultOptions,{icons:[{title:"fab fa-500px",searchTerms:[]},{title:"fab fa-accessible-icon",searchTerms:["accessibility","handicap","person","wheelchair","wheelchair-alt"]},{title:"fab fa-accusoft",searchTerms:[]},{title:"fab fa-acquisitions-incorporated",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-ad",searchTerms:[]},{title:"fas fa-address-book",searchTerms:[]},{title:"far fa-address-book",searchTerms:[]},{title:"fas fa-address-card",searchTerms:[]},{title:"far fa-address-card",searchTerms:[]},{title:"fas fa-adjust",searchTerms:["contrast"]},{title:"fab fa-adn",searchTerms:[]},{title:"fab fa-adversal",searchTerms:[]},{title:"fab fa-affiliatetheme",searchTerms:[]},{title:"fas fa-air-freshener",searchTerms:[]},{title:"fab fa-algolia",searchTerms:[]},{title:"fas fa-align-center",searchTerms:["middle","text"]},{title:"fas fa-align-justify",searchTerms:["text"]},{title:"fas fa-align-left",searchTerms:["text"]},{title:"fas fa-align-right",searchTerms:["text"]},{title:"fab fa-alipay",searchTerms:[]},{title:"fas fa-allergies",searchTerms:["freckles","hand","intolerances","pox","spots"]},{title:"fab fa-amazon",searchTerms:[]},{title:"fab fa-amazon-pay",searchTerms:[]},{title:"fas fa-ambulance",searchTerms:["help","machine","support","vehicle"]},{title:"fas fa-american-sign-language-interpreting",searchTerms:[]},{title:"fab fa-amilia",searchTerms:[]},{title:"fas fa-anchor",searchTerms:["link"]},{title:"fab fa-android",searchTerms:["robot"]},{title:"fab fa-angellist",searchTerms:[]},{title:"fas fa-angle-double-down",searchTerms:["arrows"]},{title:"fas fa-angle-double-left",searchTerms:["arrows","back","laquo","previous","quote"]},{title:"fas fa-angle-double-right",searchTerms:["arrows","forward","next","quote","raquo"]},{title:"fas fa-angle-double-up",searchTerms:["arrows"]},{title:"fas fa-angle-down",searchTerms:["arrow"]},{title:"fas fa-angle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-angle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-angle-up",searchTerms:["arrow"]},{title:"fas fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"far fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"fab fa-angrycreative",searchTerms:[]},{title:"fab fa-angular",searchTerms:[]},{title:"fas fa-ankh",searchTerms:["amulet","copper","coptic christianity","copts","crux ansata","egyptian","venus"]},{title:"fab fa-app-store",searchTerms:[]},{title:"fab fa-app-store-ios",searchTerms:[]},{title:"fab fa-apper",searchTerms:[]},{title:"fab fa-apple",searchTerms:["food","fruit","mac","osx"]},{title:"fas fa-apple-alt",searchTerms:["fall","food","fruit","fuji","macintosh","seasonal"]},{title:"fab fa-apple-pay",searchTerms:[]},{title:"fas fa-archive",searchTerms:["box","package","storage"]},{title:"fas fa-archway",searchTerms:["arc","monument","road","street"]},{title:"fas fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"far fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"fas fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"far fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"fas fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"far fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"fas fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"far fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"fas fa-arrow-circle-down",searchTerms:["download"]},{title:"fas fa-arrow-circle-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-circle-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-circle-up",searchTerms:[]},{title:"fas fa-arrow-down",searchTerms:["download"]},{title:"fas fa-arrow-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-up",searchTerms:[]},{title:"fas fa-arrows-alt",searchTerms:["arrow","arrows","bigger","enlarge","expand","fullscreen","move","position","reorder","resize"]},{title:"fas fa-arrows-alt-h",searchTerms:["arrows-h","resize"]},{title:"fas fa-arrows-alt-v",searchTerms:["arrows-v","resize"]},{title:"fas fa-assistive-listening-systems",searchTerms:[]},{title:"fas fa-asterisk",searchTerms:["details"]},{title:"fab fa-asymmetrik",searchTerms:[]},{title:"fas fa-at",searchTerms:["e-mail","email"]},{title:"fas fa-atlas",searchTerms:["book","directions","geography","map","wayfinding"]},{title:"fas fa-atom",searchTerms:["atheism","chemistry","science"]},{title:"fab fa-audible",searchTerms:[]},{title:"fas fa-audio-description",searchTerms:[]},{title:"fab fa-autoprefixer",searchTerms:[]},{title:"fab fa-avianex",searchTerms:[]},{title:"fab fa-aviato",searchTerms:[]},{title:"fas fa-award",searchTerms:["honor","praise","prize","recognition","ribbon"]},{title:"fab fa-aws",searchTerms:[]},{title:"fas fa-backspace",searchTerms:["command","delete","keyboard","undo"]},{title:"fas fa-backward",searchTerms:["previous","rewind"]},{title:"fas fa-balance-scale",searchTerms:["balanced","justice","legal","measure","weight"]},{title:"fas fa-ban",searchTerms:["abort","ban","block","cancel","delete","hide","prohibit","remove","stop","trash"]},{title:"fas fa-band-aid",searchTerms:["bandage","boo boo","ouch"]},{title:"fab fa-bandcamp",searchTerms:[]},{title:"fas fa-barcode",searchTerms:["scan"]},{title:"fas fa-bars",searchTerms:["checklist","drag","hamburger","list","menu","nav","navigation","ol","reorder","settings","todo","ul"]},{title:"fas fa-baseball-ball",searchTerms:[]},{title:"fas fa-basketball-ball",searchTerms:[]},{title:"fas fa-bath",searchTerms:[]},{title:"fas fa-battery-empty",searchTerms:["power","status"]},{title:"fas fa-battery-full",searchTerms:["power","status"]},{title:"fas fa-battery-half",searchTerms:["power","status"]},{title:"fas fa-battery-quarter",searchTerms:["power","status"]},{title:"fas fa-battery-three-quarters",searchTerms:["power","status"]},{title:"fas fa-bed",searchTerms:["lodging","sleep","travel"]},{title:"fas fa-beer",searchTerms:["alcohol","bar","beverage","drink","liquor","mug","stein"]},{title:"fab fa-behance",searchTerms:[]},{title:"fab fa-behance-square",searchTerms:[]},{title:"fas fa-bell",searchTerms:["alert","notification","reminder"]},{title:"far fa-bell",searchTerms:["alert","notification","reminder"]},{title:"fas fa-bell-slash",searchTerms:[]},{title:"far fa-bell-slash",searchTerms:[]},{title:"fas fa-bezier-curve",searchTerms:["curves","illustrator","lines","path","vector"]},{title:"fas fa-bible",searchTerms:["book","catholicism","christianity"]},{title:"fas fa-bicycle",searchTerms:["bike","gears","transportation","vehicle"]},{title:"fab fa-bimobject",searchTerms:[]},{title:"fas fa-binoculars",searchTerms:[]},{title:"fas fa-birthday-cake",searchTerms:[]},{title:"fab fa-bitbucket",searchTerms:["bitbucket-square","git"]},{title:"fab fa-bitcoin",searchTerms:[]},{title:"fab fa-bity",searchTerms:[]},{title:"fab fa-black-tie",searchTerms:[]},{title:"fab fa-blackberry",searchTerms:[]},{title:"fas fa-blender",searchTerms:[]},{title:"fas fa-blender-phone",searchTerms:["appliance","fantasy","silly"]},{title:"fas fa-blind",searchTerms:[]},{title:"fab fa-blogger",searchTerms:[]},{title:"fab fa-blogger-b",searchTerms:[]},{title:"fab fa-bluetooth",searchTerms:[]},{title:"fab fa-bluetooth-b",searchTerms:[]},{title:"fas fa-bold",searchTerms:[]},{title:"fas fa-bolt",searchTerms:["electricity","lightning","weather","zap"]},{title:"fas fa-bomb",searchTerms:[]},{title:"fas fa-bone",searchTerms:[]},{title:"fas fa-bong",searchTerms:["aparatus","cannabis","marijuana","pipe","smoke","smoking"]},{title:"fas fa-book",searchTerms:["documentation","read"]},{title:"fas fa-book-dead",searchTerms:["Dungeons & Dragons","crossbones","d&d","dark arts","death","dnd","documentation","evil","fantasy","halloween","holiday","read","skull","spell"]},{title:"fas fa-book-open",searchTerms:["flyer","notebook","open book","pamphlet","reading"]},{title:"fas fa-book-reader",searchTerms:["library"]},{title:"fas fa-bookmark",searchTerms:["save"]},{title:"far fa-bookmark",searchTerms:["save"]},{title:"fas fa-bowling-ball",searchTerms:[]},{title:"fas fa-box",searchTerms:["package"]},{title:"fas fa-box-open",searchTerms:[]},{title:"fas fa-boxes",searchTerms:[]},{title:"fas fa-braille",searchTerms:[]},{title:"fas fa-brain",searchTerms:["cerebellum","gray matter","intellect","medulla oblongata","mind","noodle","wit"]},{title:"fas fa-briefcase",searchTerms:["bag","business","luggage","office","work"]},{title:"fas fa-briefcase-medical",searchTerms:["health briefcase"]},{title:"fas fa-broadcast-tower",searchTerms:["airwaves","radio","waves"]},{title:"fas fa-broom",searchTerms:["clean","firebolt","fly","halloween","holiday","nimbus 2000","quidditch","sweep","witch"]},{title:"fas fa-brush",searchTerms:["bristles","color","handle","painting"]},{title:"fab fa-btc",searchTerms:[]},{title:"fas fa-bug",searchTerms:["insect","report"]},{title:"fas fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"far fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"fas fa-bullhorn",searchTerms:["announcement","broadcast","louder","megaphone","share"]},{title:"fas fa-bullseye",searchTerms:["target"]},{title:"fas fa-burn",searchTerms:["energy"]},{title:"fab fa-buromobelexperte",searchTerms:[]},{title:"fas fa-bus",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-bus-alt",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-business-time",searchTerms:["briefcase","business socks","clock","flight of the conchords","wednesday"]},{title:"fab fa-buysellads",searchTerms:[]},{title:"fas fa-calculator",searchTerms:[]},{title:"fas fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"far fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"fas fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"far fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"fas fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"far fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"fas fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"far fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"far fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"far fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-camera",searchTerms:["photo","picture","record"]},{title:"fas fa-camera-retro",searchTerms:["photo","picture","record"]},{title:"fas fa-campground",searchTerms:["camping","fall","outdoors","seasonal","tent"]},{title:"fas fa-cannabis",searchTerms:["bud","chronic","drugs","endica","endo","ganja","marijuana","mary jane","pot","reefer","sativa","spliff","weed","whacky-tabacky"]},{title:"fas fa-capsules",searchTerms:["drugs","medicine"]},{title:"fas fa-car",searchTerms:["machine","transportation","vehicle"]},{title:"fas fa-car-alt",searchTerms:[]},{title:"fas fa-car-battery",searchTerms:[]},{title:"fas fa-car-crash",searchTerms:[]},{title:"fas fa-car-side",searchTerms:[]},{title:"fas fa-caret-down",searchTerms:["arrow","dropdown","menu","more","triangle down"]},{title:"fas fa-caret-left",searchTerms:["arrow","back","previous","triangle left"]},{title:"fas fa-caret-right",searchTerms:["arrow","forward","next","triangle right"]},{title:"fas fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"far fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"fas fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"far fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"fas fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"far fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"fas fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"far fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"fas fa-caret-up",searchTerms:["arrow","triangle up"]},{title:"fas fa-cart-arrow-down",searchTerms:["shopping"]},{title:"fas fa-cart-plus",searchTerms:["add","create","new","positive","shopping"]},{title:"fas fa-cat",searchTerms:["feline","halloween","holiday","kitten","kitty","meow","pet"]},{title:"fab fa-cc-amazon-pay",searchTerms:[]},{title:"fab fa-cc-amex",searchTerms:["amex"]},{title:"fab fa-cc-apple-pay",searchTerms:[]},{title:"fab fa-cc-diners-club",searchTerms:[]},{title:"fab fa-cc-discover",searchTerms:[]},{title:"fab fa-cc-jcb",searchTerms:[]},{title:"fab fa-cc-mastercard",searchTerms:[]},{title:"fab fa-cc-paypal",searchTerms:[]},{title:"fab fa-cc-stripe",searchTerms:[]},{title:"fab fa-cc-visa",searchTerms:[]},{title:"fab fa-centercode",searchTerms:[]},{title:"fas fa-certificate",searchTerms:["badge","star"]},{title:"fas fa-chair",searchTerms:["furniture","seat"]},{title:"fas fa-chalkboard",searchTerms:["blackboard","learning","school","teaching","whiteboard","writing"]},{title:"fas fa-chalkboard-teacher",searchTerms:["blackboard","instructor","learning","professor","school","whiteboard","writing"]},{title:"fas fa-charging-station",searchTerms:[]},{title:"fas fa-chart-area",searchTerms:["analytics","area-chart","graph"]},{title:"fas fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"far fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"fas fa-chart-line",searchTerms:["activity","analytics","dashboard","graph","line-chart"]},{title:"fas fa-chart-pie",searchTerms:["analytics","graph","pie-chart"]},{title:"fas fa-check",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo","yes"]},{title:"fas fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-check-double",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo"]},{title:"fas fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-chess",searchTerms:[]},{title:"fas fa-chess-bishop",searchTerms:[]},{title:"fas fa-chess-board",searchTerms:[]},{title:"fas fa-chess-king",searchTerms:[]},{title:"fas fa-chess-knight",searchTerms:[]},{title:"fas fa-chess-pawn",searchTerms:[]},{title:"fas fa-chess-queen",searchTerms:[]},{title:"fas fa-chess-rook",searchTerms:[]},{title:"fas fa-chevron-circle-down",searchTerms:["arrow","dropdown","menu","more"]},{title:"fas fa-chevron-circle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-chevron-circle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-chevron-circle-up",searchTerms:["arrow"]},{title:"fas fa-chevron-down",searchTerms:[]},{title:"fas fa-chevron-left",searchTerms:["back","bracket","previous"]},{title:"fas fa-chevron-right",searchTerms:["bracket","forward","next"]},{title:"fas fa-chevron-up",searchTerms:[]},{title:"fas fa-child",searchTerms:[]},{title:"fab fa-chrome",searchTerms:["browser"]},{title:"fas fa-church",searchTerms:["building","community","religion"]},{title:"fas fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"far fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"fas fa-circle-notch",searchTerms:["circle-o-notch"]},{title:"fas fa-city",searchTerms:["buildings","busy","skyscrapers","urban","windows"]},{title:"fas fa-clipboard",searchTerms:["paste"]},{title:"far fa-clipboard",searchTerms:["paste"]},{title:"fas fa-clipboard-check",searchTerms:["accept","agree","confirm","done","ok","select","success","todo","yes"]},{title:"fas fa-clipboard-list",searchTerms:["checklist","completed","done","finished","intinerary","ol","schedule","todo","ul"]},{title:"fas fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"far fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"fas fa-clone",searchTerms:["copy","duplicate"]},{title:"far fa-clone",searchTerms:["copy","duplicate"]},{title:"fas fa-closed-captioning",searchTerms:["cc"]},{title:"far fa-closed-captioning",searchTerms:["cc"]},{title:"fas fa-cloud",searchTerms:["save"]},{title:"fas fa-cloud-download-alt",searchTerms:["import"]},{title:"fas fa-cloud-meatball",searchTerms:[]},{title:"fas fa-cloud-moon",searchTerms:["crescent","evening","halloween","holiday","lunar","night","sky"]},{title:"fas fa-cloud-moon-rain",searchTerms:[]},{title:"fas fa-cloud-rain",searchTerms:["precipitation"]},{title:"fas fa-cloud-showers-heavy",searchTerms:["precipitation","rain","storm"]},{title:"fas fa-cloud-sun",searchTerms:["day","daytime","fall","outdoors","seasonal"]},{title:"fas fa-cloud-sun-rain",searchTerms:[]},{title:"fas fa-cloud-upload-alt",searchTerms:["cloud-upload"]},{title:"fab fa-cloudscale",searchTerms:[]},{title:"fab fa-cloudsmith",searchTerms:[]},{title:"fab fa-cloudversify",searchTerms:[]},{title:"fas fa-cocktail",searchTerms:["alcohol","beverage","drink"]},{title:"fas fa-code",searchTerms:["brackets","html"]},{title:"fas fa-code-branch",searchTerms:["branch","code-fork","fork","git","github","rebase","svn","vcs","version"]},{title:"fab fa-codepen",searchTerms:[]},{title:"fab fa-codiepie",searchTerms:[]},{title:"fas fa-coffee",searchTerms:["beverage","breakfast","cafe","drink","fall","morning","mug","seasonal","tea"]},{title:"fas fa-cog",searchTerms:["settings"]},{title:"fas fa-cogs",searchTerms:["gears","settings"]},{title:"fas fa-coins",searchTerms:[]},{title:"fas fa-columns",searchTerms:["dashboard","panes","split"]},{title:"fas fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-dollar",searchTerms:[]},{title:"fas fa-comment-dots",searchTerms:[]},{title:"far fa-comment-dots",searchTerms:[]},{title:"fas fa-comment-slash",searchTerms:[]},{title:"fas fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comments-dollar",searchTerms:[]},{title:"fas fa-compact-disc",searchTerms:["bluray","cd","disc","media"]},{title:"fas fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"far fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"fas fa-compress",searchTerms:["collapse","combine","contract","merge","smaller"]},{title:"fas fa-concierge-bell",searchTerms:["attention","hotel","service","support"]},{title:"fab fa-connectdevelop",searchTerms:[]},{title:"fab fa-contao",searchTerms:[]},{title:"fas fa-cookie",searchTerms:["baked good","chips","food","snack","sweet","treat"]},{title:"fas fa-cookie-bite",searchTerms:["baked good","bitten","chips","eating","food","snack","sweet","treat"]},{title:"fas fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"far fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"fas fa-copyright",searchTerms:[]},{title:"far fa-copyright",searchTerms:[]},{title:"fas fa-couch",searchTerms:["furniture","sofa"]},{title:"fab fa-cpanel",searchTerms:[]},{title:"fab fa-creative-commons",searchTerms:[]},{title:"fab fa-creative-commons-by",searchTerms:[]},{title:"fab fa-creative-commons-nc",searchTerms:[]},{title:"fab fa-creative-commons-nc-eu",searchTerms:[]},{title:"fab fa-creative-commons-nc-jp",searchTerms:[]},{title:"fab fa-creative-commons-nd",searchTerms:[]},{title:"fab fa-creative-commons-pd",searchTerms:[]},{title:"fab fa-creative-commons-pd-alt",searchTerms:[]},{title:"fab fa-creative-commons-remix",searchTerms:[]},{title:"fab fa-creative-commons-sa",searchTerms:[]},{title:"fab fa-creative-commons-sampling",searchTerms:[]},{title:"fab fa-creative-commons-sampling-plus",searchTerms:[]},{title:"fab fa-creative-commons-share",searchTerms:[]},{title:"fab fa-creative-commons-zero",searchTerms:[]},{title:"fas fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"far fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"fab fa-critical-role",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-crop",searchTerms:["design"]},{title:"fas fa-crop-alt",searchTerms:[]},{title:"fas fa-cross",searchTerms:["catholicism","christianity"]},{title:"fas fa-crosshairs",searchTerms:["gpd","picker","position"]},{title:"fas fa-crow",searchTerms:["bird","bullfrog","fauna","halloween","holiday","toad"]},{title:"fas fa-crown",searchTerms:[]},{title:"fab fa-css3",searchTerms:["code"]},{title:"fab fa-css3-alt",searchTerms:[]},{title:"fas fa-cube",searchTerms:["package"]},{title:"fas fa-cubes",searchTerms:["packages"]},{title:"fas fa-cut",searchTerms:["scissors"]},{title:"fab fa-cuttlefish",searchTerms:[]},{title:"fab fa-d-and-d",searchTerms:[]},{title:"fab fa-d-and-d-beyond",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","gaming","tabletop"]},{title:"fab fa-dashcube",searchTerms:[]},{title:"fas fa-database",searchTerms:[]},{title:"fas fa-deaf",searchTerms:[]},{title:"fab fa-delicious",searchTerms:[]},{title:"fas fa-democrat",searchTerms:["american","democratic party","donkey","election","left","left-wing","liberal","politics","usa"]},{title:"fab fa-deploydog",searchTerms:[]},{title:"fab fa-deskpro",searchTerms:[]},{title:"fas fa-desktop",searchTerms:["computer","cpu","demo","desktop","device","machine","monitor","pc","screen"]},{title:"fab fa-dev",searchTerms:[]},{title:"fab fa-deviantart",searchTerms:[]},{title:"fas fa-dharmachakra",searchTerms:["buddhism","buddhist","wheel of dharma"]},{title:"fas fa-diagnoses",searchTerms:[]},{title:"fas fa-dice",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-d20",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-d6",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-five",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-four",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-one",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-six",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-three",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-two",searchTerms:["chance","gambling","game","roll"]},{title:"fab fa-digg",searchTerms:[]},{title:"fab fa-digital-ocean",searchTerms:[]},{title:"fas fa-digital-tachograph",searchTerms:[]},{title:"fas fa-directions",searchTerms:[]},{title:"fab fa-discord",searchTerms:[]},{title:"fab fa-discourse",searchTerms:[]},{title:"fas fa-divide",searchTerms:[]},{title:"fas fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"far fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"fas fa-dna",searchTerms:["double helix","helix"]},{title:"fab fa-dochub",searchTerms:[]},{title:"fab fa-docker",searchTerms:[]},{title:"fas fa-dog",searchTerms:["canine","fauna","mammmal","pet","pooch","puppy","woof"]},{title:"fas fa-dollar-sign",searchTerms:["$","dollar-sign","money","price","usd"]},{title:"fas fa-dolly",searchTerms:[]},{title:"fas fa-dolly-flatbed",searchTerms:[]},{title:"fas fa-donate",searchTerms:["generosity","give"]},{title:"fas fa-door-closed",searchTerms:[]},{title:"fas fa-door-open",searchTerms:[]},{title:"fas fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"far fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"fas fa-dove",searchTerms:["bird","fauna","flying","peace"]},{title:"fas fa-download",searchTerms:["import"]},{title:"fab fa-draft2digital",searchTerms:[]},{title:"fas fa-drafting-compass",searchTerms:["mechanical drawing","plot","plotting"]},{title:"fas fa-dragon",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy"]},{title:"fas fa-draw-polygon",searchTerms:[]},{title:"fab fa-dribbble",searchTerms:[]},{title:"fab fa-dribbble-square",searchTerms:[]},{title:"fab fa-dropbox",searchTerms:[]},{title:"fas fa-drum",searchTerms:["instrument","music","percussion","snare","sound"]},{title:"fas fa-drum-steelpan",searchTerms:["calypso","instrument","music","percussion","reggae","snare","sound","steel","tropical"]},{title:"fas fa-drumstick-bite",searchTerms:[]},{title:"fab fa-drupal",searchTerms:[]},{title:"fas fa-dumbbell",searchTerms:["exercise","gym","strength","weight","weight-lifting"]},{title:"fas fa-dungeon",searchTerms:["Dungeons & Dragons","d&d","dnd","door","entrance","fantasy","gate"]},{title:"fab fa-dyalog",searchTerms:[]},{title:"fab fa-earlybirds",searchTerms:[]},{title:"fab fa-ebay",searchTerms:[]},{title:"fab fa-edge",searchTerms:["browser","ie"]},{title:"fas fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"far fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"fas fa-eject",searchTerms:[]},{title:"fab fa-elementor",searchTerms:[]},{title:"fas fa-ellipsis-h",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fas fa-ellipsis-v",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fab fa-ello",searchTerms:[]},{title:"fab fa-ember",searchTerms:[]},{title:"fab fa-empire",searchTerms:[]},{title:"fas fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open-text",searchTerms:[]},{title:"fas fa-envelope-square",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fab fa-envira",searchTerms:["leaf"]},{title:"fas fa-equals",searchTerms:[]},{title:"fas fa-eraser",searchTerms:["delete","remove"]},{title:"fab fa-erlang",searchTerms:[]},{title:"fab fa-ethereum",searchTerms:[]},{title:"fab fa-etsy",searchTerms:[]},{title:"fas fa-euro-sign",searchTerms:["eur"]},{title:"fas fa-exchange-alt",searchTerms:["arrow","arrows","exchange","reciprocate","return","swap","transfer"]},{title:"fas fa-exclamation",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-circle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-triangle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-expand",searchTerms:["bigger","enlarge","resize"]},{title:"fas fa-expand-arrows-alt",searchTerms:["arrows-alt","bigger","enlarge","move","resize"]},{title:"fab fa-expeditedssl",searchTerms:[]},{title:"fas fa-external-link-alt",searchTerms:["external-link","new","open"]},{title:"fas fa-external-link-square-alt",searchTerms:["external-link-square","new","open"]},{title:"fas fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"far fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"fas fa-eye-dropper",searchTerms:["eyedropper"]},{title:"fas fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"far fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"fab fa-facebook",searchTerms:["facebook-official","social network"]},{title:"fab fa-facebook-f",searchTerms:["facebook"]},{title:"fab fa-facebook-messenger",searchTerms:[]},{title:"fab fa-facebook-square",searchTerms:["social network"]},{title:"fab fa-fantasy-flight-games",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-fast-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-fast-forward",searchTerms:["end","last","next"]},{title:"fas fa-fax",searchTerms:[]},{title:"fas fa-feather",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-feather-alt",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-female",searchTerms:["human","person","profile","user","woman"]},{title:"fas fa-fighter-jet",searchTerms:["airplane","fast","fly","goose","maverick","plane","quick","top gun","transportation","travel"]},{title:"fas fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"far fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"fas fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"far fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"fas fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"far fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"fas fa-file-audio",searchTerms:[]},{title:"far fa-file-audio",searchTerms:[]},{title:"fas fa-file-code",searchTerms:[]},{title:"far fa-file-code",searchTerms:[]},{title:"fas fa-file-contract",searchTerms:["agreement","binding","document","legal","signature"]},{title:"fas fa-file-csv",searchTerms:["spreadsheets"]},{title:"fas fa-file-download",searchTerms:[]},{title:"fas fa-file-excel",searchTerms:[]},{title:"far fa-file-excel",searchTerms:[]},{title:"fas fa-file-export",searchTerms:[]},{title:"fas fa-file-image",searchTerms:[]},{title:"far fa-file-image",searchTerms:[]},{title:"fas fa-file-import",searchTerms:[]},{title:"fas fa-file-invoice",searchTerms:["bill","document","receipt"]},{title:"fas fa-file-invoice-dollar",searchTerms:["$","bill","document","dollar-sign","money","receipt","usd"]},{title:"fas fa-file-medical",searchTerms:[]},{title:"fas fa-file-medical-alt",searchTerms:[]},{title:"fas fa-file-pdf",searchTerms:[]},{title:"far fa-file-pdf",searchTerms:[]},{title:"fas fa-file-powerpoint",searchTerms:[]},{title:"far fa-file-powerpoint",searchTerms:[]},{title:"fas fa-file-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-file-signature",searchTerms:["John Hancock","contract","document","name"]},{title:"fas fa-file-upload",searchTerms:[]},{title:"fas fa-file-video",searchTerms:[]},{title:"far fa-file-video",searchTerms:[]},{title:"fas fa-file-word",searchTerms:[]},{title:"far fa-file-word",searchTerms:[]},{title:"fas fa-fill",searchTerms:["bucket","color","paint","paint bucket"]},{title:"fas fa-fill-drip",searchTerms:["bucket","color","drop","paint","paint bucket","spill"]},{title:"fas fa-film",searchTerms:["movie"]},{title:"fas fa-filter",searchTerms:["funnel","options"]},{title:"fas fa-fingerprint",searchTerms:["human","id","identification","lock","smudge","touch","unique","unlock"]},{title:"fas fa-fire",searchTerms:["caliente","flame","heat","hot","popular"]},{title:"fas fa-fire-extinguisher",searchTerms:[]},{title:"fab fa-firefox",searchTerms:["browser"]},{title:"fas fa-first-aid",searchTerms:[]},{title:"fab fa-first-order",searchTerms:[]},{title:"fab fa-first-order-alt",searchTerms:[]},{title:"fab fa-firstdraft",searchTerms:[]},{title:"fas fa-fish",searchTerms:["fauna","gold","swimming"]},{title:"fas fa-fist-raised",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","hand","ki","monk","resist","strength","unarmed combat"]},{title:"fas fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"far fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"fas fa-flag-checkered",searchTerms:["notice","notification","notify","pole","racing","report","symbol"]},{title:"fas fa-flag-usa",searchTerms:["betsy ross","country","old glory","stars","stripes","symbol"]},{title:"fas fa-flask",searchTerms:["beaker","experimental","labs","science"]},{title:"fab fa-flickr",searchTerms:[]},{title:"fab fa-flipboard",searchTerms:[]},{title:"fas fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"far fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"fab fa-fly",searchTerms:[]},{title:"fas fa-folder",searchTerms:[]},{title:"far fa-folder",searchTerms:[]},{title:"fas fa-folder-minus",searchTerms:["archive","delete","negative","remove"]},{title:"fas fa-folder-open",searchTerms:[]},{title:"far fa-folder-open",searchTerms:[]},{title:"fas fa-folder-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-font",searchTerms:["text"]},{title:"fab fa-font-awesome",searchTerms:["meanpath"]},{title:"fab fa-font-awesome-alt",searchTerms:[]},{title:"fab fa-font-awesome-flag",searchTerms:[]},{title:"far fa-font-awesome-logo-full",searchTerms:[]},{title:"fas fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-fonticons",searchTerms:[]},{title:"fab fa-fonticons-fi",searchTerms:[]},{title:"fas fa-football-ball",searchTerms:["fall","pigskin","seasonal"]},{title:"fab fa-fort-awesome",searchTerms:["castle"]},{title:"fab fa-fort-awesome-alt",searchTerms:["castle"]},{title:"fab fa-forumbee",searchTerms:[]},{title:"fas fa-forward",searchTerms:["forward","next"]},{title:"fab fa-foursquare",searchTerms:[]},{title:"fab fa-free-code-camp",searchTerms:[]},{title:"fab fa-freebsd",searchTerms:[]},{title:"fas fa-frog",searchTerms:["amphibian","bullfrog","fauna","hop","kermit","kiss","prince","ribbit","toad","wart"]},{title:"fas fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fas fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fab fa-fulcrum",searchTerms:[]},{title:"fas fa-funnel-dollar",searchTerms:[]},{title:"fas fa-futbol",searchTerms:["ball","football","soccer"]},{title:"far fa-futbol",searchTerms:["ball","football","soccer"]},{title:"fab fa-galactic-republic",searchTerms:["politics","star wars"]},{title:"fab fa-galactic-senate",searchTerms:["star wars"]},{title:"fas fa-gamepad",searchTerms:["controller"]},{title:"fas fa-gas-pump",searchTerms:[]},{title:"fas fa-gavel",searchTerms:["hammer","judge","lawyer","opinion"]},{title:"fas fa-gem",searchTerms:["diamond"]},{title:"far fa-gem",searchTerms:["diamond"]},{title:"fas fa-genderless",searchTerms:[]},{title:"fab fa-get-pocket",searchTerms:[]},{title:"fab fa-gg",searchTerms:[]},{title:"fab fa-gg-circle",searchTerms:[]},{title:"fas fa-ghost",searchTerms:["apparition","blinky","clyde","floating","halloween","holiday","inky","pinky","spirit"]},{title:"fas fa-gift",searchTerms:["generosity","giving","party","present","wrapped"]},{title:"fab fa-git",searchTerms:[]},{title:"fab fa-git-square",searchTerms:[]},{title:"fab fa-github",searchTerms:["octocat"]},{title:"fab fa-github-alt",searchTerms:["octocat"]},{title:"fab fa-github-square",searchTerms:["octocat"]},{title:"fab fa-gitkraken",searchTerms:[]},{title:"fab fa-gitlab",searchTerms:["Axosoft"]},{title:"fab fa-gitter",searchTerms:[]},{title:"fas fa-glass-martini",searchTerms:["alcohol","bar","beverage","drink","glass","liquor","martini"]},{title:"fas fa-glass-martini-alt",searchTerms:[]},{title:"fas fa-glasses",searchTerms:["foureyes","hipster","nerd","reading","sight","spectacles"]},{title:"fab fa-glide",searchTerms:[]},{title:"fab fa-glide-g",searchTerms:[]},{title:"fas fa-globe",searchTerms:["all","coordinates","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-africa",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-americas",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-asia",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fab fa-gofore",searchTerms:[]},{title:"fas fa-golf-ball",searchTerms:[]},{title:"fab fa-goodreads",searchTerms:[]},{title:"fab fa-goodreads-g",searchTerms:[]},{title:"fab fa-google",searchTerms:[]},{title:"fab fa-google-drive",searchTerms:[]},{title:"fab fa-google-play",searchTerms:[]},{title:"fab fa-google-plus",searchTerms:["google-plus-circle","google-plus-official"]},{title:"fab fa-google-plus-g",searchTerms:["google-plus","social network"]},{title:"fab fa-google-plus-square",searchTerms:["social network"]},{title:"fab fa-google-wallet",searchTerms:[]},{title:"fas fa-gopuram",searchTerms:["building","entrance","hinduism","temple","tower"]},{title:"fas fa-graduation-cap",searchTerms:["learning","school","student"]},{title:"fab fa-gratipay",searchTerms:["favorite","heart","like","love"]},{title:"fab fa-grav",searchTerms:[]},{title:"fas fa-greater-than",searchTerms:[]},{title:"fas fa-greater-than-equal",searchTerms:[]},{title:"fas fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"far fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"fas fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"far fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"fas fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"far fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"fas fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"far fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"fas fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"far fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"fas fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"far fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"fas fa-grip-horizontal",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fas fa-grip-vertical",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fab fa-gripfire",searchTerms:[]},{title:"fab fa-grunt",searchTerms:[]},{title:"fab fa-gulp",searchTerms:[]},{title:"fas fa-h-square",searchTerms:["hospital","hotel"]},{title:"fab fa-hacker-news",searchTerms:[]},{title:"fab fa-hacker-news-square",searchTerms:[]},{title:"fab fa-hackerrank",searchTerms:[]},{title:"fas fa-hammer",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fas fa-hamsa",searchTerms:["amulet","christianity","islam","jewish","judaism","muslim","protection"]},{title:"fas fa-hand-holding",searchTerms:[]},{title:"fas fa-hand-holding-heart",searchTerms:[]},{title:"fas fa-hand-holding-usd",searchTerms:["$","dollar sign","donation","giving","money","price"]},{title:"fas fa-hand-lizard",searchTerms:[]},{title:"far fa-hand-lizard",searchTerms:[]},{title:"fas fa-hand-paper",searchTerms:["stop"]},{title:"far fa-hand-paper",searchTerms:["stop"]},{title:"fas fa-hand-peace",searchTerms:[]},{title:"far fa-hand-peace",searchTerms:[]},{title:"fas fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"far fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"fas fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"far fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"fas fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"far fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"fas fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"far fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"fas fa-hand-pointer",searchTerms:["select"]},{title:"far fa-hand-pointer",searchTerms:["select"]},{title:"fas fa-hand-rock",searchTerms:[]},{title:"far fa-hand-rock",searchTerms:[]},{title:"fas fa-hand-scissors",searchTerms:[]},{title:"far fa-hand-scissors",searchTerms:[]},{title:"fas fa-hand-spock",searchTerms:[]},{title:"far fa-hand-spock",searchTerms:[]},{title:"fas fa-hands",searchTerms:[]},{title:"fas fa-hands-helping",searchTerms:["aid","assistance","partnership","volunteering"]},{title:"fas fa-handshake",searchTerms:["greeting","partnership"]},{title:"far fa-handshake",searchTerms:["greeting","partnership"]},{title:"fas fa-hanukiah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-hashtag",searchTerms:[]},{title:"fas fa-hat-wizard",searchTerms:["Dungeons & Dragons","buckle","cloth","clothing","d&d","dnd","fantasy","halloween","holiday","mage","magic","pointy","witch"]},{title:"fas fa-haykal",searchTerms:["bahai","bah'","star"]},{title:"fas fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"far fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"fas fa-heading",searchTerms:["header"]},{title:"fas fa-headphones",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headphones-alt",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headset",searchTerms:["audio","gamer","gaming","listen","live chat","microphone","shot caller","sound","support","telemarketer"]},{title:"fas fa-heart",searchTerms:["favorite","like","love"]},{title:"far fa-heart",searchTerms:["favorite","like","love"]},{title:"fas fa-heartbeat",searchTerms:["ekg","lifeline","vital signs"]},{title:"fas fa-helicopter",searchTerms:["airwolf","apache","chopper","flight","fly"]},{title:"fas fa-highlighter",searchTerms:["edit","marker","sharpie","update","write"]},{title:"fas fa-hiking",searchTerms:["activity","backpack","fall","fitness","outdoors","seasonal","walking"]},{title:"fas fa-hippo",searchTerms:["fauna","hungry","mammmal"]},{title:"fab fa-hips",searchTerms:[]},{title:"fab fa-hire-a-helper",searchTerms:[]},{title:"fas fa-history",searchTerms:[]},{title:"fas fa-hockey-puck",searchTerms:[]},{title:"fas fa-home",searchTerms:["house","main"]},{title:"fab fa-hooli",searchTerms:[]},{title:"fab fa-hornbill",searchTerms:[]},{title:"fas fa-horse",searchTerms:["equus","fauna","mammmal","neigh"]},{title:"fas fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"far fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-alt",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-symbol",searchTerms:[]},{title:"fas fa-hot-tub",searchTerms:[]},{title:"fas fa-hotel",searchTerms:["building","lodging"]},{title:"fab fa-hotjar",searchTerms:[]},{title:"fas fa-hourglass",searchTerms:[]},{title:"far fa-hourglass",searchTerms:[]},{title:"fas fa-hourglass-end",searchTerms:[]},{title:"fas fa-hourglass-half",searchTerms:[]},{title:"fas fa-hourglass-start",searchTerms:[]},{title:"fas fa-house-damage",searchTerms:["devastation","home"]},{title:"fab fa-houzz",searchTerms:[]},{title:"fas fa-hryvnia",searchTerms:["money"]},{title:"fab fa-html5",searchTerms:[]},{title:"fab fa-hubspot",searchTerms:[]},{title:"fas fa-i-cursor",searchTerms:[]},{title:"fas fa-id-badge",searchTerms:[]},{title:"far fa-id-badge",searchTerms:[]},{title:"fas fa-id-card",searchTerms:["document","identification","issued"]},{title:"far fa-id-card",searchTerms:["document","identification","issued"]},{title:"fas fa-id-card-alt",searchTerms:["demographics"]},{title:"fas fa-image",searchTerms:["album","photo","picture"]},{title:"far fa-image",searchTerms:["album","photo","picture"]},{title:"fas fa-images",searchTerms:["album","photo","picture"]},{title:"far fa-images",searchTerms:["album","photo","picture"]},{title:"fab fa-imdb",searchTerms:[]},{title:"fas fa-inbox",searchTerms:[]},{title:"fas fa-indent",searchTerms:[]},{title:"fas fa-industry",searchTerms:["factory","manufacturing"]},{title:"fas fa-infinity",searchTerms:[]},{title:"fas fa-info",searchTerms:["details","help","information","more"]},{title:"fas fa-info-circle",searchTerms:["details","help","information","more"]},{title:"fab fa-instagram",searchTerms:[]},{title:"fab fa-internet-explorer",searchTerms:["browser","ie"]},{title:"fab fa-ioxhost",searchTerms:[]},{title:"fas fa-italic",searchTerms:["italics"]},{title:"fab fa-itunes",searchTerms:[]},{title:"fab fa-itunes-note",searchTerms:[]},{title:"fab fa-java",searchTerms:[]},{title:"fas fa-jedi",searchTerms:["star wars"]},{title:"fab fa-jedi-order",searchTerms:["star wars"]},{title:"fab fa-jenkins",searchTerms:[]},{title:"fab fa-joget",searchTerms:[]},{title:"fas fa-joint",searchTerms:["blunt","cannabis","doobie","drugs","marijuana","roach","smoke","smoking","spliff"]},{title:"fab fa-joomla",searchTerms:[]},{title:"fas fa-journal-whills",searchTerms:["book","jedi","star wars","the force"]},{title:"fab fa-js",searchTerms:[]},{title:"fab fa-js-square",searchTerms:[]},{title:"fab fa-jsfiddle",searchTerms:[]},{title:"fas fa-kaaba",searchTerms:["building","cube","islam","muslim"]},{title:"fab fa-kaggle",searchTerms:[]},{title:"fas fa-key",searchTerms:["password","unlock"]},{title:"fab fa-keybase",searchTerms:[]},{title:"fas fa-keyboard",searchTerms:["input","type"]},{title:"far fa-keyboard",searchTerms:["input","type"]},{title:"fab fa-keycdn",searchTerms:[]},{title:"fas fa-khanda",searchTerms:["chakkar","sikh","sikhism","sword"]},{title:"fab fa-kickstarter",searchTerms:[]},{title:"fab fa-kickstarter-k",searchTerms:[]},{title:"fas fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiwi-bird",searchTerms:["bird","fauna"]},{title:"fab fa-korvue",searchTerms:[]},{title:"fas fa-landmark",searchTerms:["building","historic","memoroable","politics"]},{title:"fas fa-language",searchTerms:["dialect","idiom","localize","speech","translate","vernacular"]},{title:"fas fa-laptop",searchTerms:["computer","cpu","dell","demo","device","dude you're getting","mac","macbook","machine","pc"]},{title:"fas fa-laptop-code",searchTerms:[]},{title:"fab fa-laravel",searchTerms:[]},{title:"fab fa-lastfm",searchTerms:[]},{title:"fab fa-lastfm-square",searchTerms:[]},{title:"fas fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"far fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"fas fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-layer-group",searchTerms:["layers"]},{title:"fas fa-leaf",searchTerms:["eco","flora","nature","plant"]},{title:"fab fa-leanpub",searchTerms:[]},{title:"fas fa-lemon",searchTerms:["food"]},{title:"far fa-lemon",searchTerms:["food"]},{title:"fab fa-less",searchTerms:[]},{title:"fas fa-less-than",searchTerms:[]},{title:"fas fa-less-than-equal",searchTerms:[]},{title:"fas fa-level-down-alt",searchTerms:["level-down"]},{title:"fas fa-level-up-alt",searchTerms:["level-up"]},{title:"fas fa-life-ring",searchTerms:["support"]},{title:"far fa-life-ring",searchTerms:["support"]},{title:"fas fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"far fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"fab fa-line",searchTerms:[]},{title:"fas fa-link",searchTerms:["chain"]},{title:"fab fa-linkedin",searchTerms:["linkedin-square"]},{title:"fab fa-linkedin-in",searchTerms:["linkedin"]},{title:"fab fa-linode",searchTerms:[]},{title:"fab fa-linux",searchTerms:["tux"]},{title:"fas fa-lira-sign",searchTerms:["try","turkish"]},{title:"fas fa-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"far fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-ol",searchTerms:["checklist","list","numbers","ol","todo","ul"]},{title:"fas fa-list-ul",searchTerms:["checklist","list","ol","todo","ul"]},{title:"fas fa-location-arrow",searchTerms:["address","coordinates","gps","location","map","place","where"]},{title:"fas fa-lock",searchTerms:["admin","protect","security"]},{title:"fas fa-lock-open",searchTerms:["admin","lock","open","password","protect"]},{title:"fas fa-long-arrow-alt-down",searchTerms:["long-arrow-down"]},{title:"fas fa-long-arrow-alt-left",searchTerms:["back","long-arrow-left","previous"]},{title:"fas fa-long-arrow-alt-right",searchTerms:["long-arrow-right"]},{title:"fas fa-long-arrow-alt-up",searchTerms:["long-arrow-up"]},{title:"fas fa-low-vision",searchTerms:[]},{title:"fas fa-luggage-cart",searchTerms:[]},{title:"fab fa-lyft",searchTerms:[]},{title:"fab fa-magento",searchTerms:[]},{title:"fas fa-magic",searchTerms:["autocomplete","automatic","mage","magic","spell","witch","wizard"]},{title:"fas fa-magnet",searchTerms:[]},{title:"fas fa-mail-bulk",searchTerms:[]},{title:"fab fa-mailchimp",searchTerms:[]},{title:"fas fa-male",searchTerms:["human","man","person","profile","user"]},{title:"fab fa-mandalorian",searchTerms:[]},{title:"fas fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"far fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"fas fa-map-marked",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marked-alt",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marker",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-marker-alt",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-pin",searchTerms:["address","coordinates","gps","localize","location","map","marker","place","position","travel","where"]},{title:"fas fa-map-signs",searchTerms:[]},{title:"fab fa-markdown",searchTerms:[]},{title:"fas fa-marker",searchTerms:["edit","sharpie","update","write"]},{title:"fas fa-mars",searchTerms:["male"]},{title:"fas fa-mars-double",searchTerms:[]},{title:"fas fa-mars-stroke",searchTerms:[]},{title:"fas fa-mars-stroke-h",searchTerms:[]},{title:"fas fa-mars-stroke-v",searchTerms:[]},{title:"fas fa-mask",searchTerms:["costume","disguise","halloween","holiday","secret","super hero"]},{title:"fab fa-mastodon",searchTerms:[]},{title:"fab fa-maxcdn",searchTerms:[]},{title:"fas fa-medal",searchTerms:[]},{title:"fab fa-medapps",searchTerms:[]},{title:"fab fa-medium",searchTerms:[]},{title:"fab fa-medium-m",searchTerms:[]},{title:"fas fa-medkit",searchTerms:["first aid","firstaid","health","help","support"]},{title:"fab fa-medrt",searchTerms:[]},{title:"fab fa-meetup",searchTerms:[]},{title:"fab fa-megaport",searchTerms:[]},{title:"fas fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-memory",searchTerms:["DIMM","RAM"]},{title:"fas fa-menorah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-mercury",searchTerms:["transgender"]},{title:"fas fa-meteor",searchTerms:[]},{title:"fas fa-microchip",searchTerms:["cpu","processor"]},{title:"fas fa-microphone",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microphone-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microscope",searchTerms:[]},{title:"fab fa-microsoft",searchTerms:[]},{title:"fas fa-minus",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fas fa-minus-circle",searchTerms:["delete","hide","negative","remove","trash"]},{title:"fas fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"far fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fab fa-mix",searchTerms:[]},{title:"fab fa-mixcloud",searchTerms:[]},{title:"fab fa-mizuni",searchTerms:[]},{title:"fas fa-mobile",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fas fa-mobile-alt",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fab fa-modx",searchTerms:[]},{title:"fab fa-monero",searchTerms:[]},{title:"fas fa-money-bill",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"far fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-wave",searchTerms:[]},{title:"fas fa-money-bill-wave-alt",searchTerms:[]},{title:"fas fa-money-check",searchTerms:["bank check","cheque"]},{title:"fas fa-money-check-alt",searchTerms:["bank check","cheque"]},{title:"fas fa-monument",searchTerms:["building","historic","memoroable"]},{title:"fas fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"far fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"fas fa-mortar-pestle",searchTerms:["crush","culinary","grind","medical","mix","spices"]},{title:"fas fa-mosque",searchTerms:["building","islam","muslim"]},{title:"fas fa-motorcycle",searchTerms:["bike","machine","transportation","vehicle"]},{title:"fas fa-mountain",searchTerms:[]},{title:"fas fa-mouse-pointer",searchTerms:["select"]},{title:"fas fa-music",searchTerms:["note","sound"]},{title:"fab fa-napster",searchTerms:[]},{title:"fab fa-neos",searchTerms:[]},{title:"fas fa-network-wired",searchTerms:[]},{title:"fas fa-neuter",searchTerms:[]},{title:"fas fa-newspaper",searchTerms:["article","press"]},{title:"far fa-newspaper",searchTerms:["article","press"]},{title:"fab fa-nimblr",searchTerms:[]},{title:"fab fa-nintendo-switch",searchTerms:[]},{title:"fab fa-node",searchTerms:[]},{title:"fab fa-node-js",searchTerms:[]},{title:"fas fa-not-equal",searchTerms:[]},{title:"fas fa-notes-medical",searchTerms:[]},{title:"fab fa-npm",searchTerms:[]},{title:"fab fa-ns8",searchTerms:[]},{title:"fab fa-nutritionix",searchTerms:[]},{title:"fas fa-object-group",searchTerms:["design"]},{title:"far fa-object-group",searchTerms:["design"]},{title:"fas fa-object-ungroup",searchTerms:["design"]},{title:"far fa-object-ungroup",searchTerms:["design"]},{title:"fab fa-odnoklassniki",searchTerms:[]},{title:"fab fa-odnoklassniki-square",searchTerms:[]},{title:"fas fa-oil-can",searchTerms:[]},{title:"fab fa-old-republic",searchTerms:["politics","star wars"]},{title:"fas fa-om",searchTerms:["buddhism","hinduism","jainism","mantra"]},{title:"fab fa-opencart",searchTerms:[]},{title:"fab fa-openid",searchTerms:[]},{title:"fab fa-opera",searchTerms:[]},{title:"fab fa-optin-monster",searchTerms:[]},{title:"fab fa-osi",searchTerms:[]},{title:"fas fa-otter",searchTerms:["fauna","mammmal"]},{title:"fas fa-outdent",searchTerms:[]},{title:"fab fa-page4",searchTerms:[]},{title:"fab fa-pagelines",searchTerms:["eco","flora","leaf","leaves","nature","plant","tree"]},{title:"fas fa-paint-brush",searchTerms:[]},{title:"fas fa-paint-roller",searchTerms:["brush","painting","tool"]},{title:"fas fa-palette",searchTerms:["colors","painting"]},{title:"fab fa-palfed",searchTerms:[]},{title:"fas fa-pallet",searchTerms:[]},{title:"fas fa-paper-plane",searchTerms:[]},{title:"far fa-paper-plane",searchTerms:[]},{title:"fas fa-paperclip",searchTerms:["attachment"]},{title:"fas fa-parachute-box",searchTerms:["aid","assistance","rescue","supplies"]},{title:"fas fa-paragraph",searchTerms:[]},{title:"fas fa-parking",searchTerms:[]},{title:"fas fa-passport",searchTerms:["document","identification","issued"]},{title:"fas fa-pastafarianism",searchTerms:["agnosticism","atheism","flying spaghetti monster","fsm"]},{title:"fas fa-paste",searchTerms:["clipboard","copy"]},{title:"fab fa-patreon",searchTerms:[]},{title:"fas fa-pause",searchTerms:["wait"]},{title:"fas fa-pause-circle",searchTerms:[]},{title:"far fa-pause-circle",searchTerms:[]},{title:"fas fa-paw",searchTerms:["animal","pet"]},{title:"fab fa-paypal",searchTerms:[]},{title:"fas fa-peace",searchTerms:[]},{title:"fas fa-pen",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-alt",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-fancy",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-nib",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-square",searchTerms:["edit","pencil-square","update","write"]},{title:"fas fa-pencil-alt",searchTerms:["design","edit","pencil","update","write"]},{title:"fas fa-pencil-ruler",searchTerms:[]},{title:"fab fa-penny-arcade",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","pax","tabletop"]},{title:"fas fa-people-carry",searchTerms:["movers"]},{title:"fas fa-percent",searchTerms:[]},{title:"fas fa-percentage",searchTerms:[]},{title:"fab fa-periscope",searchTerms:[]},{title:"fas fa-person-booth",searchTerms:["changing","changing room","election","human","person","vote","voting"]},{title:"fab fa-phabricator",searchTerms:[]},{title:"fab fa-phoenix-framework",searchTerms:[]},{title:"fab fa-phoenix-squadron",searchTerms:[]},{title:"fas fa-phone",searchTerms:["call","earphone","number","support","telephone","voice"]},{title:"fas fa-phone-slash",searchTerms:[]},{title:"fas fa-phone-square",searchTerms:["call","number","support","telephone","voice"]},{title:"fas fa-phone-volume",searchTerms:["telephone","volume-control-phone"]},{title:"fab fa-php",searchTerms:[]},{title:"fab fa-pied-piper",searchTerms:[]},{title:"fab fa-pied-piper-alt",searchTerms:[]},{title:"fab fa-pied-piper-hat",searchTerms:["clothing"]},{title:"fab fa-pied-piper-pp",searchTerms:[]},{title:"fas fa-piggy-bank",searchTerms:["save","savings"]},{title:"fas fa-pills",searchTerms:["drugs","medicine"]},{title:"fab fa-pinterest",searchTerms:[]},{title:"fab fa-pinterest-p",searchTerms:[]},{title:"fab fa-pinterest-square",searchTerms:[]},{title:"fas fa-place-of-worship",searchTerms:[]},{title:"fas fa-plane",searchTerms:["airplane","destination","fly","location","mode","travel","trip"]},{title:"fas fa-plane-arrival",searchTerms:["airplane","arriving","destination","fly","land","landing","location","mode","travel","trip"]},{title:"fas fa-plane-departure",searchTerms:["airplane","departing","destination","fly","location","mode","take off","taking off","travel","trip"]},{title:"fas fa-play",searchTerms:["music","playing","sound","start"]},{title:"fas fa-play-circle",searchTerms:["playing","start"]},{title:"far fa-play-circle",searchTerms:["playing","start"]},{title:"fab fa-playstation",searchTerms:[]},{title:"fas fa-plug",searchTerms:["connect","online","power"]},{title:"fas fa-plus",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-circle",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"far fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-podcast",searchTerms:[]},{title:"fas fa-poll",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poll-h",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poo",searchTerms:[]},{title:"fas fa-poo-storm",searchTerms:["mess","poop","shit"]},{title:"fas fa-poop",searchTerms:[]},{title:"fas fa-portrait",searchTerms:[]},{title:"fas fa-pound-sign",searchTerms:["gbp"]},{title:"fas fa-power-off",searchTerms:["on","reboot","restart"]},{title:"fas fa-pray",searchTerms:[]},{title:"fas fa-praying-hands",searchTerms:[]},{title:"fas fa-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle-alt",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-print",searchTerms:[]},{title:"fas fa-procedures",searchTerms:[]},{title:"fab fa-product-hunt",searchTerms:[]},{title:"fas fa-project-diagram",searchTerms:[]},{title:"fab fa-pushed",searchTerms:[]},{title:"fas fa-puzzle-piece",searchTerms:["add-on","addon","section"]},{title:"fab fa-python",searchTerms:[]},{title:"fab fa-qq",searchTerms:[]},{title:"fas fa-qrcode",searchTerms:["scan"]},{title:"fas fa-question",searchTerms:["help","information","support","unknown"]},{title:"fas fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"far fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"fas fa-quidditch",searchTerms:[]},{title:"fab fa-quinscape",searchTerms:[]},{title:"fab fa-quora",searchTerms:[]},{title:"fas fa-quote-left",searchTerms:[]},{title:"fas fa-quote-right",searchTerms:[]},{title:"fas fa-quran",searchTerms:["book","islam","muslim"]},{title:"fab fa-r-project",searchTerms:[]},{title:"fas fa-rainbow",searchTerms:[]},{title:"fas fa-random",searchTerms:["shuffle","sort"]},{title:"fab fa-ravelry",searchTerms:[]},{title:"fab fa-react",searchTerms:[]},{title:"fab fa-reacteurope",searchTerms:[]},{title:"fab fa-readme",searchTerms:[]},{title:"fab fa-rebel",searchTerms:[]},{title:"fas fa-receipt",searchTerms:["check","invoice","table"]},{title:"fas fa-recycle",searchTerms:[]},{title:"fab fa-red-river",searchTerms:[]},{title:"fab fa-reddit",searchTerms:[]},{title:"fab fa-reddit-alien",searchTerms:[]},{title:"fab fa-reddit-square",searchTerms:[]},{title:"fas fa-redo",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-redo-alt",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-registered",searchTerms:[]},{title:"far fa-registered",searchTerms:[]},{title:"fab fa-renren",searchTerms:[]},{title:"fas fa-reply",searchTerms:[]},{title:"fas fa-reply-all",searchTerms:[]},{title:"fab fa-replyd",searchTerms:[]},{title:"fas fa-republican",searchTerms:["american","conservative","election","elephant","politics","republican party","right","right-wing","usa"]},{title:"fab fa-researchgate",searchTerms:[]},{title:"fab fa-resolving",searchTerms:[]},{title:"fas fa-retweet",searchTerms:["refresh","reload","share","swap"]},{title:"fab fa-rev",searchTerms:[]},{title:"fas fa-ribbon",searchTerms:["badge","cause","lapel","pin"]},{title:"fas fa-ring",searchTerms:["Dungeons & Dragons","Gollum","band","binding","d&d","dnd","fantasy","jewelry","precious"]},{title:"fas fa-road",searchTerms:["street"]},{title:"fas fa-robot",searchTerms:[]},{title:"fas fa-rocket",searchTerms:["app"]},{title:"fab fa-rocketchat",searchTerms:[]},{title:"fab fa-rockrms",searchTerms:[]},{title:"fas fa-route",searchTerms:[]},{title:"fas fa-rss",searchTerms:["blog"]},{title:"fas fa-rss-square",searchTerms:["blog","feed"]},{title:"fas fa-ruble-sign",searchTerms:["rub"]},{title:"fas fa-ruler",searchTerms:[]},{title:"fas fa-ruler-combined",searchTerms:[]},{title:"fas fa-ruler-horizontal",searchTerms:[]},{title:"fas fa-ruler-vertical",searchTerms:[]},{title:"fas fa-running",searchTerms:["jog","sprint"]},{title:"fas fa-rupee-sign",searchTerms:["indian","inr"]},{title:"fas fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"fas fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"fab fa-safari",searchTerms:["browser"]},{title:"fab fa-sass",searchTerms:[]},{title:"fas fa-save",searchTerms:["floppy","floppy-o"]},{title:"far fa-save",searchTerms:["floppy","floppy-o"]},{title:"fab fa-schlix",searchTerms:[]},{title:"fas fa-school",searchTerms:[]},{title:"fas fa-screwdriver",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fab fa-scribd",searchTerms:[]},{title:"fas fa-scroll",searchTerms:["Dungeons & Dragons","announcement","d&d","dnd","fantasy","paper"]},{title:"fas fa-search",searchTerms:["bigger","enlarge","magnify","preview","zoom"]},{title:"fas fa-search-dollar",searchTerms:[]},{title:"fas fa-search-location",searchTerms:[]},{title:"fas fa-search-minus",searchTerms:["minify","negative","smaller","zoom","zoom out"]},{title:"fas fa-search-plus",searchTerms:["bigger","enlarge","magnify","positive","zoom","zoom in"]},{title:"fab fa-searchengin",searchTerms:[]},{title:"fas fa-seedling",searchTerms:[]},{title:"fab fa-sellcast",searchTerms:["eercast"]},{title:"fab fa-sellsy",searchTerms:[]},{title:"fas fa-server",searchTerms:["cpu"]},{title:"fab fa-servicestack",searchTerms:[]},{title:"fas fa-shapes",searchTerms:["circle","square","triangle"]},{title:"fas fa-share",searchTerms:[]},{title:"fas fa-share-alt",searchTerms:[]},{title:"fas fa-share-alt-square",searchTerms:[]},{title:"fas fa-share-square",searchTerms:["send","social"]},{title:"far fa-share-square",searchTerms:["send","social"]},{title:"fas fa-shekel-sign",searchTerms:["ils"]},{title:"fas fa-shield-alt",searchTerms:["achievement","award","block","defend","security","winner"]},{title:"fas fa-ship",searchTerms:["boat","sea"]},{title:"fas fa-shipping-fast",searchTerms:[]},{title:"fab fa-shirtsinbulk",searchTerms:[]},{title:"fas fa-shoe-prints",searchTerms:["feet","footprints","steps"]},{title:"fas fa-shopping-bag",searchTerms:[]},{title:"fas fa-shopping-basket",searchTerms:[]},{title:"fas fa-shopping-cart",searchTerms:["buy","checkout","payment","purchase"]},{title:"fab fa-shopware",searchTerms:[]},{title:"fas fa-shower",searchTerms:[]},{title:"fas fa-shuttle-van",searchTerms:["machine","public-transportation","transportation","vehicle"]},{title:"fas fa-sign",searchTerms:[]},{title:"fas fa-sign-in-alt",searchTerms:["arrow","enter","join","log in","login","sign in","sign up","sign-in","signin","signup"]},{title:"fas fa-sign-language",searchTerms:[]},{title:"fas fa-sign-out-alt",searchTerms:["arrow","exit","leave","log out","logout","sign-out"]},{title:"fas fa-signal",searchTerms:["bars","graph","online","status"]},{title:"fas fa-signature",searchTerms:["John Hancock","cursive","name","writing"]},{title:"fab fa-simplybuilt",searchTerms:[]},{title:"fab fa-sistrix",searchTerms:[]},{title:"fas fa-sitemap",searchTerms:["directory","hierarchy","ia","information architecture","organization"]},{title:"fab fa-sith",searchTerms:[]},{title:"fas fa-skull",searchTerms:["bones","skeleton","yorick"]},{title:"fas fa-skull-crossbones",searchTerms:["Dungeons & Dragons","alert","bones","d&d","danger","dead","deadly","death","dnd","fantasy","halloween","holiday","jolly-roger","pirate","poison","skeleton","warning"]},{title:"fab fa-skyatlas",searchTerms:[]},{title:"fab fa-skype",searchTerms:[]},{title:"fab fa-slack",searchTerms:["anchor","hash","hashtag"]},{title:"fab fa-slack-hash",searchTerms:["anchor","hash","hashtag"]},{title:"fas fa-slash",searchTerms:[]},{title:"fas fa-sliders-h",searchTerms:["settings","sliders"]},{title:"fab fa-slideshare",searchTerms:[]},{title:"fas fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"far fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"fas fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"far fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"fas fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"far fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"fas fa-smog",searchTerms:["dragon"]},{title:"fas fa-smoking",searchTerms:["cigarette","nicotine","smoking status"]},{title:"fas fa-smoking-ban",searchTerms:["no smoking","non-smoking"]},{title:"fab fa-snapchat",searchTerms:[]},{title:"fab fa-snapchat-ghost",searchTerms:[]},{title:"fab fa-snapchat-square",searchTerms:[]},{title:"fas fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"far fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"fas fa-socks",searchTerms:["business socks","business time","flight of the conchords","wednesday"]},{title:"fas fa-solar-panel",searchTerms:["clean","eco-friendly","energy","green","sun"]},{title:"fas fa-sort",searchTerms:["order"]},{title:"fas fa-sort-alpha-down",searchTerms:["sort-alpha-asc"]},{title:"fas fa-sort-alpha-up",searchTerms:["sort-alpha-desc"]},{title:"fas fa-sort-amount-down",searchTerms:["sort-amount-asc"]},{title:"fas fa-sort-amount-up",searchTerms:["sort-amount-desc"]},{title:"fas fa-sort-down",searchTerms:["arrow","descending","sort-desc"]},{title:"fas fa-sort-numeric-down",searchTerms:["numbers","sort-numeric-asc"]},{title:"fas fa-sort-numeric-up",searchTerms:["numbers","sort-numeric-desc"]},{title:"fas fa-sort-up",searchTerms:["arrow","ascending","sort-asc"]},{title:"fab fa-soundcloud",searchTerms:[]},{title:"fas fa-spa",searchTerms:["flora","mindfullness","plant","wellness"]},{title:"fas fa-space-shuttle",searchTerms:["astronaut","machine","nasa","rocket","transportation"]},{title:"fab fa-speakap",searchTerms:[]},{title:"fas fa-spider",searchTerms:["arachnid","bug","charlotte","crawl","eight","halloween","holiday"]},{title:"fas fa-spinner",searchTerms:["loading","progress"]},{title:"fas fa-splotch",searchTerms:[]},{title:"fab fa-spotify",searchTerms:[]},{title:"fas fa-spray-can",searchTerms:[]},{title:"fas fa-square",searchTerms:["block","box"]},{title:"far fa-square",searchTerms:["block","box"]},{title:"fas fa-square-full",searchTerms:[]},{title:"fas fa-square-root-alt",searchTerms:[]},{title:"fab fa-squarespace",searchTerms:[]},{title:"fab fa-stack-exchange",searchTerms:[]},{title:"fab fa-stack-overflow",searchTerms:[]},{title:"fas fa-stamp",searchTerms:[]},{title:"fas fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"far fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"fas fa-star-and-crescent",searchTerms:["islam","muslim"]},{title:"fas fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"far fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-half-alt",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-of-david",searchTerms:["jewish","judaism"]},{title:"fas fa-star-of-life",searchTerms:[]},{title:"fab fa-staylinked",searchTerms:[]},{title:"fab fa-steam",searchTerms:[]},{title:"fab fa-steam-square",searchTerms:[]},{title:"fab fa-steam-symbol",searchTerms:[]},{title:"fas fa-step-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-step-forward",searchTerms:["end","last","next"]},{title:"fas fa-stethoscope",searchTerms:[]},{title:"fab fa-sticker-mule",searchTerms:[]},{title:"fas fa-sticky-note",searchTerms:[]},{title:"far fa-sticky-note",searchTerms:[]},{title:"fas fa-stop",searchTerms:["block","box","square"]},{title:"fas fa-stop-circle",searchTerms:[]},{title:"far fa-stop-circle",searchTerms:[]},{title:"fas fa-stopwatch",searchTerms:["time"]},{title:"fas fa-store",searchTerms:[]},{title:"fas fa-store-alt",searchTerms:[]},{title:"fab fa-strava",searchTerms:[]},{title:"fas fa-stream",searchTerms:[]},{title:"fas fa-street-view",searchTerms:["map"]},{title:"fas fa-strikethrough",searchTerms:[]},{title:"fab fa-stripe",searchTerms:[]},{title:"fab fa-stripe-s",searchTerms:[]},{title:"fas fa-stroopwafel",searchTerms:["dessert","food","sweets","waffle"]},{title:"fab fa-studiovinari",searchTerms:[]},{title:"fab fa-stumbleupon",searchTerms:[]},{title:"fab fa-stumbleupon-circle",searchTerms:[]},{title:"fas fa-subscript",searchTerms:[]},{title:"fas fa-subway",searchTerms:["machine","railway","train","transportation","vehicle"]},{title:"fas fa-suitcase",searchTerms:["baggage","luggage","move","suitcase","travel","trip"]},{title:"fas fa-suitcase-rolling",searchTerms:[]},{title:"fas fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"far fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"fab fa-superpowers",searchTerms:[]},{title:"fas fa-superscript",searchTerms:["exponential"]},{title:"fab fa-supple",searchTerms:[]},{title:"fas fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"far fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"fas fa-swatchbook",searchTerms:[]},{title:"fas fa-swimmer",searchTerms:["athlete","head","man","person","water"]},{title:"fas fa-swimming-pool",searchTerms:["ladder","recreation","water"]},{title:"fas fa-synagogue",searchTerms:["building","jewish","judaism","star of david","temple"]},{title:"fas fa-sync",searchTerms:["exchange","refresh","reload","rotate","swap"]},{title:"fas fa-sync-alt",searchTerms:["refresh","reload","rotate"]},{title:"fas fa-syringe",searchTerms:["immunizations","needle"]},{title:"fas fa-table",searchTerms:["data","excel","spreadsheet"]},{title:"fas fa-table-tennis",searchTerms:[]},{title:"fas fa-tablet",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablet-alt",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablets",searchTerms:["drugs","medicine"]},{title:"fas fa-tachometer-alt",searchTerms:["dashboard","tachometer"]},{title:"fas fa-tag",searchTerms:["label"]},{title:"fas fa-tags",searchTerms:["labels"]},{title:"fas fa-tape",searchTerms:[]},{title:"fas fa-tasks",searchTerms:["downloading","downloads","loading","progress","settings"]},{title:"fas fa-taxi",searchTerms:["cab","cabbie","car","car service","lyft","machine","transportation","uber","vehicle"]},{title:"fab fa-teamspeak",searchTerms:[]},{title:"fas fa-teeth",searchTerms:[]},{title:"fas fa-teeth-open",searchTerms:[]},{title:"fab fa-telegram",searchTerms:[]},{title:"fab fa-telegram-plane",searchTerms:[]},{title:"fas fa-temperature-high",searchTerms:["mercury","thermometer","warm"]},{title:"fas fa-temperature-low",searchTerms:["cool","mercury","thermometer"]},{title:"fab fa-tencent-weibo",searchTerms:[]},{title:"fas fa-terminal",searchTerms:["code","command","console","prompt"]},{title:"fas fa-text-height",searchTerms:[]},{title:"fas fa-text-width",searchTerms:[]},{title:"fas fa-th",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-large",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fab fa-the-red-yeti",searchTerms:[]},{title:"fas fa-theater-masks",searchTerms:[]},{title:"fab fa-themeco",searchTerms:[]},{title:"fab fa-themeisle",searchTerms:[]},{title:"fas fa-thermometer",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-empty",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-full",searchTerms:["fever","mercury","status","temperature"]},{title:"fas fa-thermometer-half",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-quarter",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-three-quarters",searchTerms:["mercury","status","temperature"]},{title:"fab fa-think-peaks",searchTerms:[]},{title:"fas fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"far fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"fas fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"far fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"fas fa-thumbtack",searchTerms:["coordinates","location","marker","pin","thumb-tack"]},{title:"fas fa-ticket-alt",searchTerms:["ticket"]},{title:"fas fa-times",searchTerms:["close","cross","error","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"far fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-tint",searchTerms:["drop","droplet","raindrop","waterdrop"]},{title:"fas fa-tint-slash",searchTerms:[]},{title:"fas fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"far fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"fas fa-toggle-off",searchTerms:["switch"]},{title:"fas fa-toggle-on",searchTerms:["switch"]},{title:"fas fa-toilet-paper",searchTerms:["bathroom","halloween","holiday","lavatory","prank","restroom","roll"]},{title:"fas fa-toolbox",searchTerms:["admin","container","fix","repair","settings","tools"]},{title:"fas fa-tooth",searchTerms:["bicuspid","dental","molar","mouth","teeth"]},{title:"fas fa-torah",searchTerms:["book","jewish","judaism"]},{title:"fas fa-torii-gate",searchTerms:["building","shintoism"]},{title:"fas fa-tractor",searchTerms:[]},{title:"fab fa-trade-federation",searchTerms:[]},{title:"fas fa-trademark",searchTerms:[]},{title:"fas fa-traffic-light",searchTerms:[]},{title:"fas fa-train",searchTerms:["bullet","locomotive","railway"]},{title:"fas fa-transgender",searchTerms:["intersex"]},{title:"fas fa-transgender-alt",searchTerms:[]},{title:"fas fa-trash",searchTerms:["delete","garbage","hide","remove"]},{title:"fas fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"far fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"fas fa-tree",searchTerms:["bark","fall","flora","forest","nature","plant","seasonal"]},{title:"fab fa-trello",searchTerms:[]},{title:"fab fa-tripadvisor",searchTerms:[]},{title:"fas fa-trophy",searchTerms:["achievement","award","cup","game","winner"]},{title:"fas fa-truck",searchTerms:["delivery","shipping"]},{title:"fas fa-truck-loading",searchTerms:[]},{title:"fas fa-truck-monster",searchTerms:[]},{title:"fas fa-truck-moving",searchTerms:[]},{title:"fas fa-truck-pickup",searchTerms:[]},{title:"fas fa-tshirt",searchTerms:["cloth","clothing"]},{title:"fas fa-tty",searchTerms:[]},{title:"fab fa-tumblr",searchTerms:[]},{title:"fab fa-tumblr-square",searchTerms:[]},{title:"fas fa-tv",searchTerms:["computer","display","monitor","television"]},{title:"fab fa-twitch",searchTerms:[]},{title:"fab fa-twitter",searchTerms:["social network","tweet"]},{title:"fab fa-twitter-square",searchTerms:["social network","tweet"]},{title:"fab fa-typo3",searchTerms:[]},{title:"fab fa-uber",searchTerms:[]},{title:"fab fa-uikit",searchTerms:[]},{title:"fas fa-umbrella",searchTerms:["protection","rain"]},{title:"fas fa-umbrella-beach",searchTerms:["protection","recreation","sun"]},{title:"fas fa-underline",searchTerms:[]},{title:"fas fa-undo",searchTerms:["back","control z","exchange","oops","return","rotate","swap"]},{title:"fas fa-undo-alt",searchTerms:["back","control z","exchange","oops","return","swap"]},{title:"fab fa-uniregistry",searchTerms:[]},{title:"fas fa-universal-access",searchTerms:[]},{title:"fas fa-university",searchTerms:["bank","institution"]},{title:"fas fa-unlink",searchTerms:["chain","chain-broken","remove"]},{title:"fas fa-unlock",searchTerms:["admin","lock","password","protect"]},{title:"fas fa-unlock-alt",searchTerms:["admin","lock","password","protect"]},{title:"fab fa-untappd",searchTerms:[]},{title:"fas fa-upload",searchTerms:["export","publish"]},{title:"fab fa-usb",searchTerms:[]},{title:"fas fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt-slash",searchTerms:[]},{title:"fas fa-user-astronaut",searchTerms:["avatar","clothing","cosmonaut","space","suit"]},{title:"fas fa-user-check",searchTerms:[]},{title:"fas fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-clock",searchTerms:[]},{title:"fas fa-user-cog",searchTerms:[]},{title:"fas fa-user-edit",searchTerms:[]},{title:"fas fa-user-friends",searchTerms:[]},{title:"fas fa-user-graduate",searchTerms:["cap","clothing","commencement","gown","graduation","student"]},{title:"fas fa-user-injured",searchTerms:["cast","ouch","sling"]},{title:"fas fa-user-lock",searchTerms:[]},{title:"fas fa-user-md",searchTerms:["doctor","job","medical","nurse","occupation","profile"]},{title:"fas fa-user-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-user-ninja",searchTerms:["assassin","avatar","dangerous","deadly","sneaky"]},{title:"fas fa-user-plus",searchTerms:["positive","sign up","signup"]},{title:"fas fa-user-secret",searchTerms:["clothing","coat","hat","incognito","privacy","spy","whisper"]},{title:"fas fa-user-shield",searchTerms:[]},{title:"fas fa-user-slash",searchTerms:["ban","remove"]},{title:"fas fa-user-tag",searchTerms:[]},{title:"fas fa-user-tie",searchTerms:["avatar","business","clothing","formal"]},{title:"fas fa-user-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-users",searchTerms:["people","persons","profiles"]},{title:"fas fa-users-cog",searchTerms:[]},{title:"fab fa-ussunnah",searchTerms:[]},{title:"fas fa-utensil-spoon",searchTerms:["spoon"]},{title:"fas fa-utensils",searchTerms:["cutlery","dinner","eat","food","knife","restaurant","spoon"]},{title:"fab fa-vaadin",searchTerms:[]},{title:"fas fa-vector-square",searchTerms:["anchors","lines","object"]},{title:"fas fa-venus",searchTerms:["female"]},{title:"fas fa-venus-double",searchTerms:[]},{title:"fas fa-venus-mars",searchTerms:[]},{title:"fab fa-viacoin",searchTerms:[]},{title:"fab fa-viadeo",searchTerms:[]},{title:"fab fa-viadeo-square",searchTerms:[]},{title:"fas fa-vial",searchTerms:["test tube"]},{title:"fas fa-vials",searchTerms:["lab results","test tubes"]},{title:"fab fa-viber",searchTerms:[]},{title:"fas fa-video",searchTerms:["camera","film","movie","record","video-camera"]},{title:"fas fa-video-slash",searchTerms:[]},{title:"fas fa-vihara",searchTerms:["buddhism","buddhist","building","monastery"]},{title:"fab fa-vimeo",searchTerms:[]},{title:"fab fa-vimeo-square",searchTerms:[]},{title:"fab fa-vimeo-v",searchTerms:["vimeo"]},{title:"fab fa-vine",searchTerms:[]},{title:"fab fa-vk",searchTerms:[]},{title:"fab fa-vnv",searchTerms:[]},{title:"fas fa-volleyball-ball",searchTerms:[]},{title:"fas fa-volume-down",searchTerms:["audio","lower","music","quieter","sound","speaker"]},{title:"fas fa-volume-mute",searchTerms:[]},{title:"fas fa-volume-off",searchTerms:["audio","music","mute","sound"]},{title:"fas fa-volume-up",searchTerms:["audio","higher","louder","music","sound","speaker"]},{title:"fas fa-vote-yea",searchTerms:["accept","cast","election","politics","positive","yes"]},{title:"fas fa-vr-cardboard",searchTerms:["google","reality","virtual"]},{title:"fab fa-vuejs",searchTerms:[]},{title:"fas fa-walking",searchTerms:[]},{title:"fas fa-wallet",searchTerms:[]},{title:"fas fa-warehouse",searchTerms:[]},{title:"fas fa-water",searchTerms:[]},{title:"fab fa-weebly",searchTerms:[]},{title:"fab fa-weibo",searchTerms:[]},{title:"fas fa-weight",searchTerms:["measurement","scale","weight"]},{title:"fas fa-weight-hanging",searchTerms:["anvil","heavy","measurement"]},{title:"fab fa-weixin",searchTerms:[]},{title:"fab fa-whatsapp",searchTerms:[]},{title:"fab fa-whatsapp-square",searchTerms:[]},{title:"fas fa-wheelchair",searchTerms:["handicap","person"]},{title:"fab fa-whmcs",searchTerms:[]},{title:"fas fa-wifi",searchTerms:[]},{title:"fab fa-wikipedia-w",searchTerms:[]},{title:"fas fa-wind",searchTerms:["air","blow","breeze","fall","seasonal"]},{title:"fas fa-window-close",searchTerms:[]},{title:"far fa-window-close",searchTerms:[]},{title:"fas fa-window-maximize",searchTerms:[]},{title:"far fa-window-maximize",searchTerms:[]},{title:"fas fa-window-minimize",searchTerms:[]},{title:"far fa-window-minimize",searchTerms:[]},{title:"fas fa-window-restore",searchTerms:[]},{title:"far fa-window-restore",searchTerms:[]},{title:"fab fa-windows",searchTerms:["microsoft"]},{title:"fas fa-wine-bottle",searchTerms:["alcohol","beverage","drink","glass","grapes"]},{title:"fas fa-wine-glass",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fas fa-wine-glass-alt",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fab fa-wix",searchTerms:[]},{title:"fab fa-wizards-of-the-coast",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fab fa-wolf-pack-battalion",searchTerms:[]},{title:"fas fa-won-sign",searchTerms:["krw"]},{title:"fab fa-wordpress",searchTerms:[]},{title:"fab fa-wordpress-simple",searchTerms:[]},{title:"fab fa-wpbeginner",searchTerms:[]},{title:"fab fa-wpexplorer",searchTerms:[]},{title:"fab fa-wpforms",searchTerms:[]},{title:"fab fa-wpressr",searchTerms:["rendact"]},{title:"fas fa-wrench",searchTerms:["fix","settings","spanner","tool","update"]},{title:"fas fa-x-ray",searchTerms:["radiological images","radiology"]},{title:"fab fa-xbox",searchTerms:[]},{title:"fab fa-xing",searchTerms:[]},{title:"fab fa-xing-square",searchTerms:[]},{title:"fab fa-y-combinator",searchTerms:[]},{title:"fab fa-yahoo",searchTerms:[]},{title:"fab fa-yandex",searchTerms:[]},{title:"fab fa-yandex-international",searchTerms:[]},{title:"fab fa-yelp",searchTerms:[]},{title:"fas fa-yen-sign",searchTerms:["jpy","money"]},{title:"fas fa-yin-yang",searchTerms:["daoism","opposites","taoism"]},{title:"fab fa-yoast",searchTerms:[]},{title:"fab fa-youtube",searchTerms:["film","video","youtube-play","youtube-square"]},{title:"fab fa-youtube-square",searchTerms:[]},{title:"fab fa-zhihu",searchTerms:[]}]})});const TK='/*! LeaderLine v1.0.8 (c) anseki https://anseki.github.io/leader-line/ */\nvar LeaderLine=function(){"use strict";var Z,w,O,M,I,o,t,s,h,u,n,a,e,_,v,l,r,i,E,x,p,c,d,C="leader-line",b=1,k=2,L=3,A=4,V={top:b,right:k,bottom:L,left:A},P=1,N=2,T=3,W=4,B=5,R={straight:P,arc:N,fluid:T,magnet:W,grid:B},Y="behind",f=C+"-defs",y=\'<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>\',X={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},F={behind:Y,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},q={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},G=[b,k,L,A],D="auto",Q={x:"left",y:"top",width:"width",height:"height"},z=80,j=4,H=5,U=120,K=8,J=3.75,$=10,ee=30,te=.5522847,ne=.25*Math.PI,m=/^\\s*(\\-?[\\d\\.]+)\\s*(\\%)?\\s*$/,ae="http://www.w3.org/2000/svg",S="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,ie=!S&&!!document.uniqueID,oe="MozAppearance"in document.documentElement.style,le=!(S||oe||!window.chrome||!window.CSS),re=!S&&!ie&&!oe&&!le&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,se=ie||S?.2:.1,ue={path:T,lineColor:"coral",lineSize:4,plugSE:[Y,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},he=(p={}.toString,c={}.hasOwnProperty.toString,d=c.call(Object),function(e){return e&&"[object Object]"===p.call(e)&&(!(e=Object.getPrototypeOf(e))||(e=e.hasOwnProperty("constructor")&&e.constructor)&&"function"==typeof e&&c.call(e)===d)}),pe=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},g=(_={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},v=1e3/60/2,l=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,v)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){clearTimeout(e)},i=Number.isFinite||function(e){return"number"==typeof e&&window.isFinite(e)},E=[],x=0,{add:function(n,e,t,a,i,o,l){var r,s,u,h,p,c,d,f,y,m,S=++x;function g(e,t){return{value:n(t),timeRatio:e,outputRatio:t}}if("string"==typeof i&&(i=_[i]),n=n||function(){},t<v)r=[g(0,0),g(1,1)];else{if(s=v/t,r=[g(0,0)],0===i[0]&&0===i[1]&&1===i[2]&&1===i[3])for(h=s;h<=1;h+=s)r.push(g(h,h));else for(p=u=(h=s)/10;p<=1;p+=u)d=p,m=y=f=void 0,f=(m=p*p)*p,m*=3*(y=1-p),h<=(c={x:(d=3*(y*y)*p)*i[0]+m*i[2]+f,y:d*i[1]+m*i[3]+f}).x&&(r.push(g(c.x,c.y)),h+=s);r.push(g(1,1))}return E.push(o={animId:S,frameCallback:e,duration:t,count:a,frames:r,reverse:!!o}),!1!==l&&be(o,l),S},remove:function(n){var a;E.some(function(e,t){return e.animId===n&&(a=t,!(e.framesStart=null))})&&E.splice(a,1)},start:function(t,n,a){E.some(function(e){return e.animId===t&&(e.reverse=!!n,be(e,a),!0)})},stop:function(t,n){var a;return E.some(function(e){return e.animId===t&&(n?null!=e.lastFrame&&(a=e.frames[e.lastFrame].timeRatio):(a=(Date.now()-e.framesStart)/e.duration,(a=e.reverse?1-a:a)<0?a=0:1<a&&(a=1)),!(e.framesStart=null))}),a},validTiming:function(t){return"string"==typeof t?_[t]:Array.isArray(t)&&[0,1,2,3].every(function(e){return i(t[e])&&0<=t[e]&&t[e]<=1})?[t[0],t[1],t[2],t[3]]:null}}),ce=function(e,t){e.SVGPathElement.prototype.getPathData&&e.SVGPathElement.prototype.setPathData&&!t||function(){function i(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var a={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},o=-1!==e.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=a[e]||null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||"0"<=e&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;var n=null,e=(this._prevCommand=t).toUpperCase();return"H"===e||"V"===e?n=[this._parseNumber()]:"M"===e||"L"===e||"T"===e?n=[this._parseNumber(),this._parseNumber()]:"S"===e||"Q"===e?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===e?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===e?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===e&&(this._skipOptionalSpaces(),n=[]),null===n||0<=n.indexOf(null)?null:{type:t,values:n}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return a[e]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\\n"===e||"\\t"===e||"\\r"===e||"\\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,a=0,i=1,o=1,l=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&"."!==this._string[this._currentIndex])return null;for(var r=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==r)for(var s=this._currentIndex-1,u=1;r<=s;)t+=u*(this._string[s]-"0"),--s,u*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)n*=10,a+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==l&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,o=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var h=t+a;return h*=i,e&&(h*=Math.pow(10,o*e)),l===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),h)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};function n(e){if(!e||0===e.length)return[];var t=new i(e),n=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){var a=t.parseSegment();if(null===a)break;n.push(a)}return n}function l(e){return e.map(function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}})}function r(e){var u=[],h=null,p=null,c=null,d=null,f=null,y=null,m=null;return e.forEach(function(e){var t,n,a,i,o,l,r,s;"M"===e.type?(r=e.values[0],s=e.values[1],u.push({type:"M",values:[r,s]}),d=y=r,f=m=s):"C"===e.type?(o=e.values[0],l=e.values[1],t=e.values[2],n=e.values[3],r=e.values[4],s=e.values[5],u.push({type:"C",values:[o,l,t,n,r,s]}),p=t,c=n,d=r,f=s):"L"===e.type?(r=e.values[0],s=e.values[1],u.push({type:"L",values:[r,s]}),d=r,f=s):"H"===e.type?(r=e.values[0],u.push({type:"L",values:[r,f]}),d=r):"V"===e.type?(s=e.values[0],u.push({type:"L",values:[d,s]}),f=s):"S"===e.type?(t=e.values[0],n=e.values[1],r=e.values[2],s=e.values[3],i="C"===h||"S"===h?(a=d+(d-p),f+(f-c)):(a=d,f),u.push({type:"C",values:[a,i,t,n,r,s]}),p=t,c=n,d=r,f=s):"T"===e.type?(r=e.values[0],s=e.values[1],l="Q"===h||"T"===h?(o=d+(d-p),f+(f-c)):(o=d,f),u.push({type:"C",values:[a=d+2*(o-d)/3,i=f+2*(l-f)/3,r+2*(o-r)/3,s+2*(l-s)/3,r,s]}),p=o,c=l,d=r,f=s):"Q"===e.type?(o=e.values[0],l=e.values[1],r=e.values[2],s=e.values[3],u.push({type:"C",values:[a=d+2*(o-d)/3,i=f+2*(l-f)/3,r+2*(o-r)/3,s+2*(l-s)/3,r,s]}),p=o,c=l,d=r,f=s):"A"===e.type?(n=e.values[0],a=e.values[1],i=e.values[2],o=e.values[3],l=e.values[4],r=e.values[5],s=e.values[6],0===n||0===a?(u.push({type:"C",values:[d,f,r,s,r,s]}),d=r,f=s):d===r&&f===s||b(d,f,r,s,n,a,i,o,l).forEach(function(e){u.push({type:"C",values:e}),d=r,f=s})):"Z"===e.type&&(u.push(e),d=y,f=m),h=e.type}),u}var s=e.SVGPathElement.prototype.setAttribute,u=e.SVGPathElement.prototype.removeAttribute,d=e.Symbol?e.Symbol():"__cachedPathData",f=e.Symbol?e.Symbol():"__cachedNormalizedPathData",b=function(e,t,n,a,i,o,l,r,s,u){function h(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}}var p=Math.PI*l/180,c=[];u?(_=u[0],v=u[1],S=u[2],g=u[3]):(e=(m=h(e,t,-p)).x,t=m.y,1<(m=(y=(e-(n=(f=h(n,a,-p)).x))/2)*y/(i*i)+(d=(t-(a=f.y))/2)*d/(o*o))&&(i*=m=Math.sqrt(m),o*=m),f=i*i,m=o*o,S=(f=(r===s?-1:1)*Math.sqrt(Math.abs((f*m-f*d*d-m*y*y)/(f*d*d+m*y*y))))*i*d/o+(e+n)/2,g=f*-o*y/i+(t+a)/2,_=Math.asin(parseFloat(((t-g)/o).toFixed(9))),v=Math.asin(parseFloat(((a-g)/o).toFixed(9))),e<S&&(_=Math.PI-_),n<S&&(v=Math.PI-v),_<0&&(_=2*Math.PI+_),v<0&&(v=2*Math.PI+v),s&&v<_&&(_-=2*Math.PI),!s&&_<v&&(v-=2*Math.PI));var d,f,y,m=v-_;Math.abs(m)>120*Math.PI/180&&(d=v,f=n,y=a,v=s&&_<v?_+120*Math.PI/180*1:_+120*Math.PI/180*-1,n=S+i*Math.cos(v),a=g+o*Math.sin(v),c=b(n,a,f,y,i,o,l,0,s,[v,d,S,g]));var m=v-_,S=Math.cos(_),g=Math.sin(_),_=Math.cos(v),v=Math.sin(v),m=Math.tan(m/4),i=4/3*i*m,o=4/3*o*m,m=[e,t],S=[e+i*g,t-o*S],_=[n+i*v,a-o*_],a=[n,a];if(S[0]=2*m[0]-S[0],S[1]=2*m[1]-S[1],u)return[S,_,a].concat(c);var c=[S,_,a].concat(c).join().split(","),E=[],x=[];return c.forEach(function(e,t){t%2?x.push(h(c[t-1],c[t],p).y):x.push(h(c[t],c[t+1],p).x),6===x.length&&(E.push(x),x=[])}),E};e.SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[d]=null,this[f]=null),s.call(this,e,t)},e.SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[d]=null,this[f]=null),u.call(this,e)},e.SVGPathElement.prototype.getPathData=function(e){if(e&&e.normalize){if(this[f])return l(this[f]);this[d]?t=l(this[d]):(t=n(this.getAttribute("d")||""),this[d]=l(t));e=r((s=[],c=p=h=u=null,t.forEach(function(e){var t,n,a,i,o,l,r=e.type;"M"===r?(o=e.values[0],l=e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"m"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"M",values:[o,l]}),u=p=o,h=c=l):"L"===r?(o=e.values[0],l=e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"l"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"L",values:[o,l]}),u=o,h=l):"C"===r?(t=e.values[0],n=e.values[1],a=e.values[2],i=e.values[3],o=e.values[4],l=e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"c"===r?(t=u+e.values[0],n=h+e.values[1],a=u+e.values[2],i=h+e.values[3],o=u+e.values[4],l=h+e.values[5],s.push({type:"C",values:[t,n,a,i,o,l]}),u=o,h=l):"Q"===r?(t=e.values[0],n=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"q"===r?(t=u+e.values[0],n=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"Q",values:[t,n,o,l]}),u=o,h=l):"A"===r?(o=e.values[5],l=e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"a"===r?(o=u+e.values[5],l=h+e.values[6],s.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],o,l]}),u=o,h=l):"H"===r?(o=e.values[0],s.push({type:"H",values:[o]}),u=o):"h"===r?(o=u+e.values[0],s.push({type:"H",values:[o]}),u=o):"V"===r?(l=e.values[0],s.push({type:"V",values:[l]}),h=l):"v"===r?(l=h+e.values[0],s.push({type:"V",values:[l]}),h=l):"S"===r?(a=e.values[0],i=e.values[1],o=e.values[2],l=e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"s"===r?(a=u+e.values[0],i=h+e.values[1],o=u+e.values[2],l=h+e.values[3],s.push({type:"S",values:[a,i,o,l]}),u=o,h=l):"T"===r?(o=e.values[0],l=e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"t"===r?(o=u+e.values[0],l=h+e.values[1],s.push({type:"T",values:[o,l]}),u=o,h=l):"Z"!==r&&"z"!==r||(s.push({type:"Z",values:[]}),u=p,h=c)}),s));return this[f]=l(e),e}if(this[d])return l(this[d]);var s,u,h,p,c,t=n(this.getAttribute("d")||"");return this[d]=l(t),t},e.SVGPathElement.prototype.setPathData=function(e){if(0===e.length)o?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,a=e.length;n<a;n+=1){var i=e[n];0<n&&(t+=" "),t+=i.type,i.values&&0<i.values.length&&(t+=" "+i.values.join(" "))}this.setAttribute("d",t)}},e.SVGRectElement.prototype.getPathData=function(e){var t=this.x.baseVal.value,n=this.y.baseVal.value,a=this.width.baseVal.value,i=this.height.baseVal.value,o=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,l=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value,n=(n=[{type:"M",values:[t+(o=a/2<o?a/2:o),n]},{type:"H",values:[t+a-o]},{type:"A",values:[o,l=i/2<l?i/2:l,0,0,1,t+a,n+l]},{type:"V",values:[n+i-l]},{type:"A",values:[o,l,0,0,1,t+a-o,n+i]},{type:"H",values:[t+o]},{type:"A",values:[o,l,0,0,1,t,n+i-l]},{type:"V",values:[n+l]},{type:"A",values:[o,l,0,0,1,t+o,n]},{type:"Z",values:[]}]).filter(function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]});return n=e&&!0===e.normalize?r(n):n},e.SVGCircleElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.r.baseVal.value,n=[{type:"M",values:[t+a,n]},{type:"A",values:[a,a,0,0,1,t,n+a]},{type:"A",values:[a,a,0,0,1,t-a,n]},{type:"A",values:[a,a,0,0,1,t,n-a]},{type:"A",values:[a,a,0,0,1,t+a,n]},{type:"Z",values:[]}];return n=e&&!0===e.normalize?r(n):n},e.SVGEllipseElement.prototype.getPathData=function(e){var t=this.cx.baseVal.value,n=this.cy.baseVal.value,a=this.rx.baseVal.value,i=this.ry.baseVal.value,n=[{type:"M",values:[t+a,n]},{type:"A",values:[a,i,0,0,1,t,n+i]},{type:"A",values:[a,i,0,0,1,t-a,n]},{type:"A",values:[a,i,0,0,1,t,n-i]},{type:"A",values:[a,i,0,0,1,t+a,n]},{type:"Z",values:[]}];return n=e&&!0===e.normalize?r(n):n},e.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},e.SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e},e.SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e}}()},S=(a={},Ee.m=n=[function(e,t,n){n.r(t);var a=500,i=[],o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},l=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(e){return clearTimeout(e)},r=Date.now(),s=void 0;function u(){var n=void 0,e=void 0;s&&(l.call(window,s),s=null),i.forEach(function(e){var t;(t=e.event)&&(e.event=null,e.listener(t),n=!0)}),n?(r=Date.now(),e=!0):Date.now()-r<a&&(e=!0),e&&(s=o.call(window,u))}function h(n){var a=-1;return i.some(function(e,t){return e.listener===n&&(a=t,!0)}),a}t.default={add:function(e){var t=void 0;return-1===h(e)?(i.push(t={listener:e}),function(e){t.event=e,s||u()}):null},remove:function(e){-1<(e=h(e))&&(i.splice(e,1),!i.length&&s&&(l.call(window,s),s=null))}}}],Ee.c=a,Ee.d=function(e,t,n){Ee.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},Ee.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},Ee.t=function(t,e){if(1&e&&(t=Ee(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(Ee.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)Ee.d(n,a,function(e){return t[e]}.bind(null,a));return n},Ee.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return Ee.d(t,"a",t),t},Ee.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Ee.p="",Ee(Ee.s=0).default),de={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:Y},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:Y},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:Y},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},fe={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},ye="fade",me=[],Se={},ge=0,_e={},ve=0;function Ee(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,Ee),t.l=!0,t.exports}function xe(){var i=Date.now(),o=!1;e&&(r.call(window,e),e=null),E.forEach(function(e){var t,n,a;if(e.framesStart){if((t=i-e.framesStart)>=e.duration&&e.count&&e.loopsLeft<=1)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);if(t>e.duration){if(n=Math.floor(t/e.duration),e.count){if(n>=e.loopsLeft)return a=e.frames[e.lastFrame=e.reverse?0:e.frames.length-1],e.frameCallback(a.value,!0,a.timeRatio,a.outputRatio),void(e.framesStart=null);e.loopsLeft-=n}e.framesStart+=e.duration*n,t=i-e.framesStart}e.reverse&&(t=e.duration-t),a=e.frames[e.lastFrame=Math.round(t/v)],!1!==e.frameCallback(a.value,!1,a.timeRatio,a.outputRatio)?o=!0:e.framesStart=null}}),o&&(e=l.call(window,xe))}function be(e,t){e.framesStart=Date.now(),null!=t&&(e.framesStart-=e.duration*(e.reverse?1-t:t)),e.loopsLeft=e.count,e.lastFrame=null,xe()}function ke(t,n){var e,a;return typeof t!=typeof n||(e=he(t)?"obj":Array.isArray(t)?"array":"")!=(he(n)?"obj":Array.isArray(n)?"array":"")||("obj"===e?ke(a=Object.keys(t).sort(),Object.keys(n).sort())||a.some(function(e){return ke(t[e],n[e])}):"array"===e?t.length!==n.length||t.some(function(e,t){return ke(e,n[t])}):t!==n)}function we(n){return n&&(he(n)?Object.keys(n).reduce(function(e,t){return e[t]=we(n[t]),e},{}):Array.isArray(n)?n.map(we):n)}function Oe(e){var t,n,a,i=1,o=e=(e+"").trim();function l(e){var t=1,e=m.exec(e);return e&&(t=parseFloat(e[1]),e[2]?t=0<=t&&t<=100?t/100:1:(t<0||1<t)&&(t=1)),t}return(t=/^(rgba|hsla|hwb|gray|device\\-cmyk)\\s*\\(([\\s\\S]+)\\)$/i.exec(e))?(n=t[1].toLowerCase(),a=t[2].trim().split(/\\s*,\\s*/),"rgba"===n&&4===a.length?(i=l(a[3]),o="rgb("+a.slice(0,3).join(", ")+")"):"hsla"===n&&4===a.length?(i=l(a[3]),o="hsl("+a.slice(0,3).join(", ")+")"):"hwb"===n&&4===a.length?(i=l(a[3]),o="hwb("+a.slice(0,3).join(", ")+")"):"gray"===n&&2===a.length?(i=l(a[1]),o="gray("+a[0]+")"):"device-cmyk"===n&&5<=a.length&&(i=l(a[4]),o="device-cmyk("+a.slice(0,4).join(", ")+")")):(t=/^\\#(?:([\\da-f]{6})([\\da-f]{2})|([\\da-f]{3})([\\da-f]))$/i.exec(e))?o=t[1]?(i=parseInt(t[2],16)/255,"#"+t[1]):(i=parseInt(t[4]+t[4],16)/255,"#"+t[3]):"transparent"===e.toLocaleLowerCase()&&(i=0),[i,o]}function Me(e){return!(!e||e.nodeType!==Node.ELEMENT_NODE||"function"!=typeof e.getBoundingClientRect)}function Ie(e,t){var n,a,i,o={};if(!(i=e.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(e.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(a in n=e.getBoundingClientRect())o[a]=n[a];if(!t){if(!(i=i.defaultView))return console.error("Cannot get window that contains the element."),null;o.left+=i.pageXOffset,o.right+=i.pageXOffset,o.top+=i.pageYOffset,o.bottom+=i.pageYOffset}return o}function Ce(e,t){var n,a=[],i=e;for(t=t||window;;){if(!(n=i.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(n=n.defaultView))return console.error("Cannot get window that contains the element."),null;if(n===t)break;if(!(i=n.frameElement))return console.error("`baseWindow` was not found."),null;a.unshift(i)}return a}function Le(e,t){var a=0,i=0;return(t=Ce(e,t=t||window))?t.length?(t.forEach(function(e,t){var n=Ie(e,0<t);a+=n.left,i+=n.top,e=(t=e).ownerDocument.defaultView.getComputedStyle(t,""),n={left:t.clientLeft+parseFloat(e.paddingLeft),top:t.clientTop+parseFloat(e.paddingTop)},a+=n.left,i+=n.top}),(t=Ie(e,!0)).left+=a,t.right+=a,t.top+=i,t.bottom+=i,t):Ie(e):null}function Ae(e,t){var n=e.x-t.x,t=e.y-t.y;return Math.sqrt(n*n+t*t)}function Ve(e,t,n){var a=t.x-e.x,t=t.y-e.y;return{x:e.x+a*n,y:e.y+t*n,angle:Math.atan2(t,a)/(Math.PI/180)}}function Pe(e,t,n){e=Math.atan2(e.y-t.y,t.x-e.x);return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n*-1}}function Ne(e,t,n,a,i){var o=i*i,l=o*i,r=1-i,s=r*r,u=s*r,h=u*e.x+3*s*i*t.x+3*r*o*n.x+l*a.x,p=u*e.y+3*s*i*t.y+3*r*o*n.y+l*a.y,c=e.x+2*i*(t.x-e.x)+o*(n.x-2*t.x+e.x),u=e.y+2*i*(t.y-e.y)+o*(n.y-2*t.y+e.y),s=t.x+2*i*(n.x-t.x)+o*(a.x-2*n.x+t.x),l=t.y+2*i*(n.y-t.y)+o*(a.y-2*n.y+t.y),o=r*e.x+i*t.x,e=r*e.y+i*t.y,t=r*n.x+i*a.x,i=r*n.y+i*a.y,a=90-180*Math.atan2(c-s,u-l)/Math.PI;return{x:h,y:p,fromP2:{x:c,y:u},toP1:{x:s,y:l},fromP1:{x:o,y:e},toP2:{x:t,y:i},angle:a+=180<a?-180:180}}function Te(n,a,i,o,e){function l(e,t,n,a,i){return e*(e*(-3*t+9*n-9*a+3*i)+6*t-12*n+6*a)-3*t+3*n}var r,s,u=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=(e=null==e||1<e?1:e<0?0:e)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(e,t){r=l(s=p*e+p,n.x,a.x,i.x,o.x),s=l(s,n.y,a.y,i.y,o.y),s=r*r+s*s,h+=u[t]*Math.sqrt(s)}),p*h}function We(e,t,n,a,i){for(var o,l=.5,r=1-l;o=Te(e,t,n,a,r),!(Math.abs(o-i)<=.01);)r+=(o<i?1:-1)*(l/=2);return r}function Be(e,t){var n;return e.forEach(function(e){e=t?e.map(function(e){e={x:e.x,y:e.y};return t(e),e}):e;(n=n||[{type:"M",values:[e[0].x,e[0].y]}]).push(e.length?2===e.length?{type:"L",values:[e[1].x,e[1].y]}:{type:"C",values:[e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]}:{type:"Z",values:[]})}),n}function Re(e){var t=[],n=0;return e.forEach(function(e){e=(2===e.length?Ae:Te).apply(null,e);t.push(e),n+=e}),{segsLen:t,lenAll:n}}function Fe(e,a){return null==e||null==a||e.length!==a.length||e.some(function(e,t){var n=a[t];return e.type!==n.type||e.values.some(function(e,t){return e!==n.values[t]})})}function Ge(e,t,n){e.events[t]?e.events[t].indexOf(n)<0&&e.events[t].push(n):e.events[t]=[n]}function De(e,t,n){var a;e.events[t]&&-1<(a=e.events[t].indexOf(n))&&e.events[t].splice(a,1)}function ze(e){t&&clearTimeout(t),me.push(e),t=setTimeout(function(){me.forEach(function(e){e()}),me=[]},0)}function je(e,t){e.reflowTargets.indexOf(t)<0&&e.reflowTargets.push(t)}function He(e){e.reflowTargets.forEach(function(e){var n;n=e,setTimeout(function(){var e=n.parentNode,t=n.nextSibling;e.insertBefore(e.removeChild(n),t)},0)}),e.reflowTargets=[]}function Ue(e,t,n,a,i,o,l){var r;"auto-start-reverse"===n?("boolean"!=typeof s&&(t.setAttribute("orient","auto-start-reverse"),s=t.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),s?t.setAttribute("orient",n):((r=i.createSVGTransform()).setRotate(180,0,0),o.transform.baseVal.appendItem(r),t.setAttribute("orient","auto"),r=!0)):(t.setAttribute("orient",n),!1===s&&o.transform.baseVal.clear()),t=t.viewBox.baseVal,r?(t.x=-a.right,t.y=-a.bottom):(t.x=a.left,t.y=a.top),t.width=a.width,t.height=a.height,ie&&je(e,l)}function Ze(e,t){return{prop:e?"markerEnd":"markerStart",orient:t?t.noRotate?"0":e?"auto":"auto-start-reverse":null}}function Ye(n,a){Object.keys(a).forEach(function(e){var t=a[e];n[e]=null!=t.iniValue?t.hasSE?[t.iniValue,t.iniValue]:t.iniValue:t.hasSE?t.hasProps?[{},{}]:[]:t.hasProps?{}:null})}function Xe(t,e,n,a,i){return a!==e[n]&&(e[n]=a,i&&i.forEach(function(e){e(t,a,n)}),!0)}function qe(e){function t(e,t){return e+parseFloat(t)}var n=e.document,a=e.getComputedStyle(n.documentElement,""),e=e.getComputedStyle(n.body,""),n={x:0,y:0};return"static"!==e.position?(n.x-=[a.marginLeft,a.borderLeftWidth,a.paddingLeft,e.marginLeft,e.borderLeftWidth].reduce(t,0),n.y-=[a.marginTop,a.borderTopWidth,a.paddingTop,e.marginTop,e.borderTopWidth].reduce(t,0)):"static"!==a.position&&(n.x-=[a.marginLeft,a.borderLeftWidth].reduce(t,0),n.y-=[a.marginTop,a.borderTopWidth].reduce(t,0)),n}function Qe(e){var t,n=e.document;n.getElementById(f)||(t=(new e.DOMParser).parseFromString(y,"image/svg+xml"),n.body.appendChild(t.documentElement),ce(e,oe))}function Ke(l){var g,c,_,e,n,a,i,d,o,r,s,t,u,h,p=l.options,f=l.curStats,y=l.aplStats,v=f.position_socketXYSE,m=!1;function S(e,t){e=t===b?{x:e.left+e.width/2,y:e.top}:t===k?{x:e.right,y:e.top+e.height/2}:t===L?{x:e.left+e.width/2,y:e.bottom}:{x:e.left,y:e.top+e.height/2};return e.socketId=t,e}function E(e){return{x:e.x,y:e.y}}if(f.position_path=p.path,f.position_lineStrokeWidth=f.line_strokeWidth,f.position_socketGravitySE=g=we(p.socketGravitySE),c=[0,1].map(function(e){var t=p.anchorSE[e],n=l.optionIsAttach.anchorSE[e],a=!1!==n?_e[t._id]:null,i=!1!==n&&a.conf.getStrokeWidth?a.conf.getStrokeWidth(a,l):0,o=!1!==n&&a.conf.getBBoxNest?a.conf.getBBoxNest(a,l,i):Le(t,l.baseWindow);return f.capsMaskAnchor_pathDataSE[e]=!1!==n&&a.conf.getPathData?a.conf.getPathData(a,l,i):(n=null!=(t=o).right?t.right:t.left+t.width,a=null!=t.bottom?t.bottom:t.top+t.height,[{type:"M",values:[t.left,t.top]},{type:"L",values:[n,t.top]},{type:"L",values:[n,a]},{type:"L",values:[t.left,a]},{type:"Z",values:[]}]),f.capsMaskAnchor_strokeWidthSE[e]=i,o}),i=-1,p.socketSE[0]&&p.socketSE[1]?(v[0]=S(c[0],p.socketSE[0]),v[1]=S(c[1],p.socketSE[1])):(p.socketSE[0]||p.socketSE[1]?(a=p.socketSE[0]?(n=0,1):(n=1,0),v[n]=S(c[n],p.socketSE[n]),(e=G.map(function(e){return S(c[a],e)})).forEach(function(e){var t=Ae(e,v[n]);(t<i||-1===i)&&(v[a]=e,i=t)})):(e=G.map(function(e){return S(c[1],e)}),G.map(function(e){return S(c[0],e)}).forEach(function(n){e.forEach(function(e){var t=Ae(n,e);(t<i||-1===i)&&(v[0]=n,v[1]=e,i=t)})})),[0,1].forEach(function(e){var t,n;p.socketSE[e]||(c[e].width||c[e].height?c[e].width||v[e].socketId!==A&&v[e].socketId!==k?c[e].height||v[e].socketId!==b&&v[e].socketId!==L||(v[e].socketId=0<=v[e?0:1].y-c[e].top?L:b):v[e].socketId=0<=v[e?0:1].x-c[e].left?k:A:(t=v[e?0:1].x-c[e].left,n=v[e?0:1].y-c[e].top,v[e].socketId=Math.abs(t)>=Math.abs(n)?0<=t?k:A:0<=n?L:b))})),f.position_path!==y.position_path||f.position_lineStrokeWidth!==y.position_lineStrokeWidth||[0,1].some(function(e){return f.position_plugOverheadSE[e]!==y.position_plugOverheadSE[e]||(t=v[e],n=y.position_socketXYSE[e],t.x!==n.x||t.y!==n.y||t.socketId!==n.socketId)||(t=g[e],n=y.position_socketGravitySE[e],(e=null==t?"auto":Array.isArray(t)?"array":"number")!=(null==n?"auto":Array.isArray(n)?"array":"number")||("array"==e?t[0]!==n[0]||t[1]!==n[1]:t!==n));var t,n})){switch(l.pathList.baseVal=_=[],l.pathList.animVal=null,f.position_path){case P:_.push([E(v[0]),E(v[1])]);break;case N:t="number"==typeof g[0]&&0<g[0]||"number"==typeof g[1]&&0<g[1],u=ne*(t?-1:1),h=Math.atan2(v[1].y-v[0].y,v[1].x-v[0].x),t=u-h,h=Math.PI-h-u,u=Ae(v[0],v[1])/Math.sqrt(2)*te,t={x:v[0].x+Math.cos(t)*u,y:v[0].y+Math.sin(t)*u*-1},u={x:v[1].x+Math.cos(h)*u,y:v[1].y+Math.sin(h)*u*-1},_.push([E(v[0]),t,u,E(v[1])]);break;case T:case W:o=[g[0],f.position_path===W?0:g[1]],r=[],s=[],v.forEach(function(e,t){var n,a=o[t],i=Array.isArray(a)?{x:a[0],y:a[1]}:"number"==typeof a?e.socketId===b?{x:0,y:-a}:e.socketId===k?{x:a,y:0}:e.socketId===L?{x:0,y:a}:{x:-a,y:0}:(n=v[t?0:1],a=0<(a=f.position_plugOverheadSE[t])?U+(K<a?(a-K)*J:0):z+(f.position_lineStrokeWidth>j?(f.position_lineStrokeWidth-j)*H:0),e.socketId===b?{x:0,y:-(i=(i=(e.y-n.y)/2)<a?a:i)}:e.socketId===k?{x:i=(i=(n.x-e.x)/2)<a?a:i,y:0}:e.socketId===L?{x:0,y:i=(i=(n.y-e.y)/2)<a?a:i}:{x:-(i=(i=(e.x-n.x)/2)<a?a:i),y:0});r[t]=e.x+i.x,s[t]=e.y+i.y}),_.push([E(v[0]),{x:r[0],y:s[0]},{x:r[1],y:s[1]},E(v[1])]);break;case B:!function(){var n,i=1,l=2,r=3,o=4,s=[[],[]],u=[];function h(e){return e===i?r:e===l?o:e===r?i:l}function p(e){return e===l||e===o?"x":"y"}function c(e,t,n){var a={x:e.x,y:e.y};if(n){if(n===h(e.dirId))throw new Error("Invalid dirId: "+n);a.dirId=n}else a.dirId=e.dirId;return a.dirId===i?a.y-=t:a.dirId===l?a.x+=t:a.dirId===r?a.y+=t:a.x-=t,a}function d(e,t){return t.dirId===i?e.y<=t.y:t.dirId===l?e.x>=t.x:t.dirId===r?e.y>=t.y:e.x<=t.x}function f(e,t){return t.dirId===i||t.dirId===r?e.x===t.x:e.y===t.y}function y(e){return e[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function m(e,t,n){return Math.abs(t[n]-e[n])}function S(e,t,n){return"x"===n?e.x<t.x?l:o:e.y<t.y?r:i}for(v.forEach(function(e,t){var n=E(e),a=g[t];e=Array.isArray(a)?a[0]<0?[o,-a[0]]:0<a[0]?[l,a[0]]:a[1]<0?[i,-a[1]]:0<a[1]?[r,a[1]]:[e.socketId,0]:"number"!=typeof a?[e.socketId,ee]:0<=a?[e.socketId,a]:[h(e.socketId),-a],n.dirId=e[0],a=e[1],s[t].push(n),u[t]=c(n,a)});function(){var e,t,a,i,n=[d(u[1],u[0]),d(u[0],u[1])],o=[p(u[0].dirId),p(u[1].dirId)];if(o[0]===o[1]){if(n[0]&&n[1])return void(f(u[1],u[0])||(u[0][o[0]]===u[1][o[1]]?(s[0].push(u[0]),s[1].push(u[1])):(e=u[0][o[0]]+(u[1][o[1]]-u[0][o[0]])/2,s[0].push(c(u[0],Math.abs(e-u[0][o[0]]))),s[1].push(c(u[1],Math.abs(e-u[1][o[1]]))))));n[0]!==n[1]?(t=y(n),(a=m(u[t.notContain],u[t.contain],o[t.notContain]))<ee&&(u[t.notContain]=c(u[t.notContain],ee-a)),s[t.notContain].push(u[t.notContain]),u[t.notContain]=c(u[t.notContain],ee,f(u[t.contain],u[t.notContain])?"x"===o[t.notContain]?r:l:S(u[t.notContain],u[t.contain],"x"===o[t.notContain]?"y":"x"))):(a=m(u[0],u[1],"x"===o[0]?"y":"x"),s.forEach(function(e,t){var n=0===t?1:0;e.push(u[t]),u[t]=c(u[t],ee,2*ee<=a?S(u[t],u[n],"x"===o[t]?"y":"x"):"x"===o[t]?r:l)}))}else{if(n[0]&&n[1])return void(f(u[1],u[0])?s[1].push(u[1]):f(u[0],u[1])?s[0].push(u[0]):s[0].push("x"===o[0]?{x:u[1].x,y:u[0].y}:{x:u[0].x,y:u[1].y}));n[0]!==n[1]?(t=y(n),s[t.notContain].push(u[t.notContain]),u[t.notContain]=c(u[t.notContain],ee,m(u[t.notContain],u[t.contain],o[t.contain])>=ee?S(u[t.notContain],u[t.contain],o[t.contain]):u[t.contain].dirId)):(i=[{x:u[0].x,y:u[0].y},{x:u[1].x,y:u[1].y}],s.forEach(function(e,t){var n=0===t?1:0,a=m(i[t],i[n],o[t]);a<ee&&(u[t]=c(u[t],ee-a)),e.push(u[t]),u[t]=c(u[t],ee,S(u[t],u[n],o[n]))}))}return 1}(););s[1].reverse(),s[0].concat(s[1]).forEach(function(e,t){e={x:e.x,y:e.y};0<t&&_.push([n,e]),n=e})}()}d=[],f.position_plugOverheadSE.forEach(function(e,t){var n,a,i,o,l,r,s,u,h,p=!t;0<e?2===(n=_[a=p?0:_.length-1]).length?(d[a]=d[a]||Ae.apply(null,n),d[a]>$&&(d[a]-e<$&&(e=d[a]-$),s=Ve(n[0],n[1],(p?e:d[a]-e)/d[a]),_[a]=p?[s,n[1]]:[n[0],s],d[a]-=e)):(d[a]=d[a]||Te.apply(null,n),d[a]>$&&(d[a]-e<$&&(e=d[a]-$),s=Ne(n[0],n[1],n[2],n[3],We(n[0],n[1],n[2],n[3],p?e:d[a]-e)),o=p?(i=n[0],s.toP1):(i=n[3],s.fromP2),l=Math.atan2(i.y-s.y,s.x-i.x),r=Ae(s,o),s.x=i.x+Math.cos(l)*e,s.y=i.y+Math.sin(l)*e*-1,o.x=s.x+Math.cos(l)*r,o.y=s.y+Math.sin(l)*r*-1,_[a]=p?[s,s.toP1,s.toP2,n[3]]:[n[0],s.fromP1,s.fromP2,s],d[a]=null)):e<0&&(n=_[a=p?0:_.length-1],s=v[t].socketId,t=-c[t]["x"==(u=s===A||s===k?"x":"y")?"width":"height"],h=(e=e<t?t:e)*(s===A||s===b?-1:1),2===n.length?n[p?0:n.length-1][u]+=h:(p?[0,1]:[n.length-2,n.length-1]).forEach(function(e){n[e][u]+=h}),d[a]=null)}),y.position_socketXYSE=we(v),y.position_plugOverheadSE=we(f.position_plugOverheadSE),y.position_path=f.position_path,y.position_lineStrokeWidth=f.position_lineStrokeWidth,y.position_socketGravitySE=we(g),m=!0,l.events.apl_position&&l.events.apl_position.forEach(function(e){e(l,_)})}return m}function Je(t,n){n!==t.isShown&&(!!n!=!!t.isShown&&(t.svg.style.visibility=n?"":"hidden"),t.isShown=n,t.events&&t.events.svgShow&&t.events.svgShow.forEach(function(e){e(t,n)}))}function $e(e,t){var n,a,h,p,c,d,f,i,o,l,r,s,u,y,m,S,g,_,v,E,x,b,k,w,O,M,I,C,L,A,V,P,N,T,W,B,R,F,G,D,z,j,H,U={};t.line&&(U.line=(i=(n=e).options,a=n.curStats,o=n.events,l=!1,l=Xe(n,a,"line_color",i.lineColor,o.cur_line_color)||l,l=Xe(n,a,"line_colorTra",Oe(a.line_color)[0]<1)||l,l=Xe(n,a,"line_strokeWidth",i.lineSize,o.cur_line_strokeWidth)||l)),(t.plug||U.line)&&(U.plug=(p=(h=e).options,c=h.curStats,d=h.events,f=!1,[0,1].forEach(function(e){var t,n,a,i,o,l,r,s,u=p.plugSE[e];f=Xe(h,c.plug_enabledSE,e,u!==Y)||f,f=Xe(h,c.plug_plugSE,e,u)||f,f=Xe(h,c.plug_colorSE,e,s=p.plugColorSE[e]||c.line_color,d.cur_plug_colorSE)||f,f=Xe(h,c.plug_colorTraSE,e,Oe(s)[0]<1)||f,u!==Y&&(i=n=(t=X[q[u]]).widthR*p.plugSizeSE[e],o=a=t.heightR*p.plugSizeSE[e],re&&(i*=c.line_strokeWidth,o*=c.line_strokeWidth),f=Xe(h,c.plug_markerWidthSE,e,i)||f,f=Xe(h,c.plug_markerHeightSE,e,o)||f,c.capsMaskMarker_markerWidthSE[e]=n,c.capsMaskMarker_markerHeightSE[e]=a),c.plugOutline_plugSE[e]=c.capsMaskMarker_plugSE[e]=u,c.plug_enabledSE[e]?(s=c.line_strokeWidth/ue.lineSize*p.plugSizeSE[e],c.position_plugOverheadSE[e]=t.overhead*s,c.viewBox_plugBCircleSE[e]=t.bCircle*s,l=t.sideLen*s,r=t.backLen*s):(c.position_plugOverheadSE[e]=-c.line_strokeWidth/2,c.viewBox_plugBCircleSE[e]=l=r=0),Xe(h,c.attach_plugSideLenSE,e,l,d.cur_attach_plugSideLenSE),Xe(h,c.attach_plugBackLenSE,e,r,d.cur_attach_plugBackLenSE),c.capsMaskAnchor_enabledSE[e]=!c.plug_enabledSE[e]}),f=Xe(h,c,"plug_enabled",c.plug_enabledSE[0]||c.plug_enabledSE[1])||f)),(t.lineOutline||U.line)&&(U.lineOutline=(o=(i=e).options,l=i.curStats,k=!1,k=Xe(i,l,"lineOutline_enabled",o.lineOutlineEnabled)||k,k=Xe(i,l,"lineOutline_color",o.lineOutlineColor)||k,k=Xe(i,l,"lineOutline_colorTra",Oe(l.lineOutline_color)[0]<1)||k,o=l.line_strokeWidth*o.lineOutlineSize,k=Xe(i,l,"lineOutline_strokeWidth",l.line_strokeWidth-2*o)||k,k=Xe(i,l,"lineOutline_inStrokeWidth",l.lineOutline_colorTra?l.lineOutline_strokeWidth+2*se:l.line_strokeWidth-o)||k)),(t.plugOutline||U.line||U.plug||U.lineOutline)&&(U.plugOutline=(s=(r=e).options,u=r.curStats,y=!1,[0,1].forEach(function(e){var t=u.plugOutline_plugSE[e],n=t!==Y?X[q[t]]:null;y=Xe(r,u.plugOutline_enabledSE,e,s.plugOutlineEnabledSE[e]&&u.plug_enabled&&u.plug_enabledSE[e]&&!!n&&!!n.outlineBase)||y,y=Xe(r,u.plugOutline_colorSE,e,t=s.plugOutlineColorSE[e]||u.lineOutline_color)||y,y=Xe(r,u.plugOutline_colorTraSE,e,Oe(t)[0]<1)||y,n&&n.outlineBase&&((t=s.plugOutlineSizeSE[e])>n.outlineMax&&(t=n.outlineMax),t*=2*n.outlineBase,y=Xe(r,u.plugOutline_strokeWidthSE,e,t)||y,y=Xe(r,u.plugOutline_inStrokeWidthSE,e,u.plugOutline_colorTraSE[e]?t-se/(u.line_strokeWidth/ue.lineSize)/s.plugSizeSE[e]*2:t/2)||y)}),y)),(t.faces||U.line||U.plug||U.lineOutline||U.plugOutline)&&(U.faces=(g=(m=e).curStats,_=m.aplStats,v=m.events,E=!1,!g.line_altColor&&Xe(m,_,"line_color",S=g.line_color,v.apl_line_color)&&(m.lineFace.style.stroke=S,E=!0),Xe(m,_,"line_strokeWidth",S=g.line_strokeWidth,v.apl_line_strokeWidth)&&(m.lineShape.style.strokeWidth=S+"px",E=!0,(oe||ie)&&(je(m,m.lineShape),ie&&(je(m,m.lineFace),je(m,m.lineMaskCaps)))),Xe(m,_,"lineOutline_enabled",S=g.lineOutline_enabled,v.apl_lineOutline_enabled)&&(m.lineOutlineFace.style.display=S?"inline":"none",E=!0),g.lineOutline_enabled&&(Xe(m,_,"lineOutline_color",S=g.lineOutline_color,v.apl_lineOutline_color)&&(m.lineOutlineFace.style.stroke=S,E=!0),Xe(m,_,"lineOutline_strokeWidth",S=g.lineOutline_strokeWidth,v.apl_lineOutline_strokeWidth)&&(m.lineOutlineMaskShape.style.strokeWidth=S+"px",E=!0,ie&&(je(m,m.lineOutlineMaskCaps),je(m,m.lineOutlineFace))),Xe(m,_,"lineOutline_inStrokeWidth",S=g.lineOutline_inStrokeWidth,v.apl_lineOutline_inStrokeWidth)&&(m.lineMaskShape.style.strokeWidth=S+"px",E=!0,ie&&(je(m,m.lineOutlineMaskCaps),je(m,m.lineOutlineFace)))),Xe(m,_,"plug_enabled",S=g.plug_enabled,v.apl_plug_enabled)&&(m.plugsFace.style.display=S?"inline":"none",E=!0),g.plug_enabled&&[0,1].forEach(function(n){var e=g.plug_plugSE[n],t=e!==Y?X[q[e]]:null,a=Ze(n,t);Xe(m,_.plug_enabledSE,n,S=g.plug_enabledSE[n],v.apl_plug_enabledSE)&&(m.plugsFace.style[a.prop]=S?"url(#"+m.plugMarkerIdSE[n]+")":"none",E=!0),g.plug_enabledSE[n]&&(Xe(m,_.plug_plugSE,n,e,v.apl_plug_plugSE)&&(m.plugFaceSE[n].href.baseVal="#"+t.elmId,Ue(m,m.plugMarkerSE[n],a.orient,t.bBox,m.svg,m.plugMarkerShapeSE[n],m.plugsFace),E=!0,oe&&je(m,m.plugsFace)),Xe(m,_.plug_colorSE,n,S=g.plug_colorSE[n],v.apl_plug_colorSE)&&(m.plugFaceSE[n].style.fill=S,E=!0,(le||re||ie)&&!g.line_colorTra&&je(m,ie?m.lineMaskCaps:m.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(e){var t="plug_"+e+"SE";Xe(m,_[t],n,S=g[t][n],v["apl_"+t])&&(m.plugMarkerSE[n][e].baseVal.value=S,E=!0)}),Xe(m,_.plugOutline_enabledSE,n,S=g.plugOutline_enabledSE[n],v.apl_plugOutline_enabledSE)&&(S?(m.plugFaceSE[n].style.mask="url(#"+m.plugMaskIdSE[n]+")",m.plugOutlineFaceSE[n].style.display="inline"):(m.plugFaceSE[n].style.mask="none",m.plugOutlineFaceSE[n].style.display="none"),E=!0),g.plugOutline_enabledSE[n]&&(Xe(m,_.plugOutline_plugSE,n,e,v.apl_plugOutline_plugSE)&&(m.plugOutlineFaceSE[n].href.baseVal=m.plugMaskShapeSE[n].href.baseVal=m.plugOutlineMaskShapeSE[n].href.baseVal="#"+t.elmId,[m.plugMaskSE[n],m.plugOutlineMaskSE[n]].forEach(function(e){e.x.baseVal.value=t.bBox.left,e.y.baseVal.value=t.bBox.top,e.width.baseVal.value=t.bBox.width,e.height.baseVal.value=t.bBox.height}),E=!0),Xe(m,_.plugOutline_colorSE,n,S=g.plugOutline_colorSE[n],v.apl_plugOutline_colorSE)&&(m.plugOutlineFaceSE[n].style.fill=S,E=!0,ie&&(je(m,m.lineMaskCaps),je(m,m.lineOutlineMaskCaps))),Xe(m,_.plugOutline_strokeWidthSE,n,S=g.plugOutline_strokeWidthSE[n],v.apl_plugOutline_strokeWidthSE)&&(m.plugOutlineMaskShapeSE[n].style.strokeWidth=S+"px",E=!0),Xe(m,_.plugOutline_inStrokeWidthSE,n,S=g.plugOutline_inStrokeWidthSE[n],v.apl_plugOutline_inStrokeWidthSE)&&(m.plugMaskShapeSE[n].style.strokeWidth=S+"px",E=!0)))}),E)),(t.position||U.line||U.plug)&&(U.position=Ke(e)),(t.path||U.position)&&(U.path=(k=(x=e).curStats,I=x.aplStats,M=x.pathList.animVal||x.pathList.baseVal,w=k.path_edge,C=!1,M&&(w.x1=w.x2=M[0][0].x,w.y1=w.y2=M[0][0].y,k.path_pathData=b=Be(M,function(e){e.x<w.x1&&(w.x1=e.x),e.y<w.y1&&(w.y1=e.y),e.x>w.x2&&(w.x2=e.x),e.y>w.y2&&(w.y2=e.y)}),Fe(b,I.path_pathData)&&(x.linePath.setPathData(b),I.path_pathData=b,C=!0,ie?(je(x,x.plugsFace),je(x,x.lineMaskCaps)):oe&&je(x,x.linePath),x.events.apl_path&&x.events.apl_path.forEach(function(e){e(x,b)}))),C)),U.viewBox=(M=(O=e).curStats,I=O.aplStats,C=M.path_edge,L=M.viewBox_bBox,A=I.viewBox_bBox,V=O.svg.viewBox.baseVal,P=O.svg.style,N=!1,I=Math.max(M.line_strokeWidth/2,M.viewBox_plugBCircleSE[0]||0,M.viewBox_plugBCircleSE[1]||0),T={x1:C.x1-I,y1:C.y1-I,x2:C.x2+I,y2:C.y2+I},O.events.new_edge4viewBox&&O.events.new_edge4viewBox.forEach(function(e){e(O,T)}),L.x=M.lineMask_x=M.lineOutlineMask_x=M.maskBGRect_x=T.x1,L.y=M.lineMask_y=M.lineOutlineMask_y=M.maskBGRect_y=T.y1,L.width=T.x2-T.x1,L.height=T.y2-T.y1,["x","y","width","height"].forEach(function(e){var t;(t=L[e])!==A[e]&&(V[e]=A[e]=t,P[Q[e]]=t+("x"===e||"y"===e?O.bodyOffset[e]:0)+"px",N=!0)}),N),U.mask=(R=(W=e).curStats,F=W.aplStats,G=!1,R.plug_enabled?[0,1].forEach(function(e){R.capsMaskMarker_enabledSE[e]=R.plug_enabledSE[e]&&R.plug_colorTraSE[e]||R.plugOutline_enabledSE[e]&&R.plugOutline_colorTraSE[e]}):R.capsMaskMarker_enabledSE[0]=R.capsMaskMarker_enabledSE[1]=!1,R.capsMaskMarker_enabled=R.capsMaskMarker_enabledSE[0]||R.capsMaskMarker_enabledSE[1],R.lineMask_outlineMode=R.lineOutline_enabled,R.caps_enabled=R.capsMaskMarker_enabled||R.capsMaskAnchor_enabledSE[0]||R.capsMaskAnchor_enabledSE[1],R.lineMask_enabled=R.caps_enabled||R.lineMask_outlineMode,(R.lineMask_enabled&&!R.lineMask_outlineMode||R.lineOutline_enabled)&&["x","y"].forEach(function(e){var t="maskBGRect_"+e;Xe(W,F,t,B=R[t])&&(W.maskBGRect[e].baseVal.value=B,G=!0)}),Xe(W,F,"lineMask_enabled",B=R.lineMask_enabled)&&(W.lineFace.style.mask=B?"url(#"+W.lineMaskId+")":"none",G=!0,re&&je(W,W.lineMask)),R.lineMask_enabled&&(Xe(W,F,"lineMask_outlineMode",B=R.lineMask_outlineMode)&&(B?(W.lineMaskBG.style.display="none",W.lineMaskShape.style.display="inline"):(W.lineMaskBG.style.display="inline",W.lineMaskShape.style.display="none"),G=!0),["x","y"].forEach(function(e){var t="lineMask_"+e;Xe(W,F,t,B=R[t])&&(W.lineMask[e].baseVal.value=B,G=!0)}),Xe(W,F,"caps_enabled",B=R.caps_enabled)&&(W.lineMaskCaps.style.display=W.lineOutlineMaskCaps.style.display=B?"inline":"none",G=!0,re&&je(W,W.capsMaskLine)),R.caps_enabled&&([0,1].forEach(function(e){var t;Xe(W,F.capsMaskAnchor_enabledSE,e,B=R.capsMaskAnchor_enabledSE[e])&&(W.capsMaskAnchorSE[e].style.display=B?"inline":"none",G=!0,re&&je(W,W.lineMask)),R.capsMaskAnchor_enabledSE[e]&&(Fe(t=R.capsMaskAnchor_pathDataSE[e],F.capsMaskAnchor_pathDataSE[e])&&(W.capsMaskAnchorSE[e].setPathData(t),F.capsMaskAnchor_pathDataSE[e]=t,G=!0),Xe(W,F.capsMaskAnchor_strokeWidthSE,e,B=R.capsMaskAnchor_strokeWidthSE[e])&&(W.capsMaskAnchorSE[e].style.strokeWidth=B+"px",G=!0))}),Xe(W,F,"capsMaskMarker_enabled",B=R.capsMaskMarker_enabled)&&(W.capsMaskLine.style.display=B?"inline":"none",G=!0),R.capsMaskMarker_enabled&&[0,1].forEach(function(n){var e=R.capsMaskMarker_plugSE[n],t=e!==Y?X[q[e]]:null,a=Ze(n,t);Xe(W,F.capsMaskMarker_enabledSE,n,B=R.capsMaskMarker_enabledSE[n])&&(W.capsMaskLine.style[a.prop]=B?"url(#"+W.lineMaskMarkerIdSE[n]+")":"none",G=!0),R.capsMaskMarker_enabledSE[n]&&(Xe(W,F.capsMaskMarker_plugSE,n,e)&&(W.capsMaskMarkerShapeSE[n].href.baseVal="#"+t.elmId,Ue(W,W.capsMaskMarkerSE[n],a.orient,t.bBox,W.svg,W.capsMaskMarkerShapeSE[n],W.capsMaskLine),G=!0,oe&&(je(W,W.capsMaskLine),je(W,W.lineFace))),["markerWidth","markerHeight"].forEach(function(e){var t="capsMaskMarker_"+e+"SE";Xe(W,F[t],n,B=R[t][n])&&(W.capsMaskMarkerSE[n][e].baseVal.value=B,G=!0)}))}))),R.lineOutline_enabled&&["x","y"].forEach(function(e){var t="lineOutlineMask_"+e;Xe(W,F,t,B=R[t])&&(W.lineOutlineMask[e].baseVal.value=B,G=!0)}),G),t.effect&&(j=(D=e).curStats,H=D.aplStats,Object.keys(Z).forEach(function(e){var t=Z[e],n=e+"_enabled",a=e+"_options",e=j[a];Xe(D,H,n,z=j[n])?(z&&(H[a]=we(e)),t[z?"init":"remove"](D)):z&&ke(e,H[a])&&(t.remove(D),H[n]=!0,H[a]=we(e),t.init(D))})),(le||re)&&U.line&&!U.path&&je(e,e.lineShape),le&&U.plug&&!U.line&&je(e,e.plugsFace),He(e)}function et(e,t){return{duration:(pe(e.duration)&&0<e.duration?e:t).duration,timing:g.validTiming(e.timing)?e.timing:we(t.timing)}}function tt(e,t,n,a){var i=e.curStats,o=e.aplStats,l={};function r(){["show_on","show_effect","show_animOptions"].forEach(function(e){o[e]=i[e]})}i.show_on=t,n&&w[n]&&(i.show_effect=n,i.show_animOptions=et(he(a)?a:{},w[n].defaultAnimOptions)),l.show_on=i.show_on!==o.show_on,l.show_effect=i.show_effect!==o.show_effect,l.show_animOptions=ke(i.show_animOptions,o.show_animOptions),l.show_effect||l.show_animOptions?i.show_inAnim?(n=l.show_effect?w[o.show_effect].stop(e,!0,!0):w[o.show_effect].stop(e),r(),w[o.show_effect].init(e,n)):l.show_on&&(o.show_effect&&l.show_effect&&w[o.show_effect].stop(e,!0,!0),r(),w[o.show_effect].init(e)):l.show_on&&(r(),w[o.show_effect].start(e))}function nt(e,t,n){n={props:e,optionName:n};return e.attachments.indexOf(t)<0&&(!t.conf.bind||t.conf.bind(t,n))&&(e.attachments.push(t),t.boundTargets.push(n),1)}function at(n,a,e){var i=n.attachments.indexOf(a);-1<i&&n.attachments.splice(i,1),a.boundTargets.some(function(e,t){return e.props===n&&(a.conf.unbind&&a.conf.unbind(a,e),i=t,!0)})&&(a.boundTargets.splice(i,1),e||ze(function(){a.boundTargets.length||o(a)}))}function it(s,u){var i,n,e,t,a,o,l,r,h,p,c,d,f,y,m,S=s.options,g={};function _(e,t,n,a,i){var o={};return n?null!=a?(o.container=e[n],o.key=a):(o.container=e,o.key=n):(o.container=e,o.key=t),o.default=i,o.acceptsAuto=null==o.default,o}function v(e,t,n,a,i,o,l){var r,s,u,l=_(e,n,i,o,l);return null!=t[n]&&(s=(t[n]+"").toLowerCase())&&(l.acceptsAuto&&s===D||(u=a[s]))&&u!==l.container[l.key]&&(l.container[l.key]=u,r=!0),null!=l.container[l.key]||l.acceptsAuto||(l.container[l.key]=l.default,r=!0),r}function E(e,t,n,a,i,o,l,r,s){var u,h,p,c,l=_(e,n,i,o,l);if(!a){if(null==l.default)throw new Error("Invalid `type`: "+n);a=typeof l.default}return null!=t[n]&&(l.acceptsAuto&&(t[n]+"").toLowerCase()===D||(p=h=t[n],("number"===(c=a)?pe(p):typeof p===c)&&(h=s&&"string"===a&&h?h.trim():h,1)&&(!r||r(h))))&&h!==l.container[l.key]&&(l.container[l.key]=h,u=!0),null!=l.container[l.key]||l.acceptsAuto||(l.container[l.key]=l.default,u=!0),u}if(u=u||{},["start","end"].forEach(function(e,t){var n=u[e],a=!1;if(n&&(Me(n)||(a=I(n,"anchor")))&&n!==S.anchorSE[t]){if(!1!==s.optionIsAttach.anchorSE[t]&&at(s,_e[S.anchorSE[t]._id]),a&&!nt(s,_e[n._id],e))throw new Error("Can\'t bind attachment");S.anchorSE[t]=n,s.optionIsAttach.anchorSE[t]=a,i=g.position=!0}}),!S.anchorSE[0]||!S.anchorSE[1]||S.anchorSE[0]===S.anchorSE[1])throw new Error("`start` and `end` are required.");function x(e){var t=a.appendChild(y.createElementNS(ae,"mask"));return t.id=e,t.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x,t.y,t.width,t.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),t}function b(e){var t=a.appendChild(y.createElementNS(ae,"marker"));return t.id=e,t.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),t}function k(e){return[e.width,e.height].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),e}i&&(c=function(e,t){var n,a;if(!(e=Ce(e))||!(n=Ce(t)))throw new Error("Cannot get frames.");return e.length&&n.length&&(e.reverse(),n.reverse(),e.some(function(t){return n.some(function(e){return e===t&&(a=e.contentWindow,!0)})})),a||window}(!1!==s.optionIsAttach.anchorSE[0]?_e[S.anchorSE[0]._id].element:S.anchorSE[0],!1!==s.optionIsAttach.anchorSE[1]?_e[S.anchorSE[1]._id].element:S.anchorSE[1]))!==s.baseWindow&&(e=c,f=(n=s).aplStats,y=e.document,m=C+"-"+n._id,n.pathList={},Ye(f,de),Object.keys(Z).forEach(function(e){var t=e+"_enabled";f[t]&&(Z[e].remove(n),f[t]=!1)}),n.baseWindow&&n.svg&&n.baseWindow.document.body.removeChild(n.svg),Qe(n.baseWindow=e),n.bodyOffset=qe(e),n.svg=t=y.createElementNS(ae,"svg"),t.className.baseVal=C,t.viewBox.baseVal||t.setAttribute("viewBox","0 0 0 0"),n.defs=a=t.appendChild(y.createElementNS(ae,"defs")),n.linePath=l=a.appendChild(y.createElementNS(ae,"path")),l.id=r=m+"-line-path",l.className.baseVal=C+"-line-path",re&&(l.style.fill="none"),n.lineShape=l=a.appendChild(y.createElementNS(ae,"use")),l.id=h=m+"-line-shape",l.href.baseVal="#"+r,(o=a.appendChild(y.createElementNS(ae,"g"))).id=p=m+"-caps",n.capsMaskAnchorSE=[0,1].map(function(){var e=o.appendChild(y.createElementNS(ae,"path"));return e.className.baseVal=C+"-caps-mask-anchor",e}),n.lineMaskMarkerIdSE=[m+"-caps-mask-marker-0",m+"-caps-mask-marker-1"],n.capsMaskMarkerSE=[0,1].map(function(e){return b(n.lineMaskMarkerIdSE[e])}),n.capsMaskMarkerShapeSE=[0,1].map(function(e){e=n.capsMaskMarkerSE[e].appendChild(y.createElementNS(ae,"use"));return e.className.baseVal=C+"-caps-mask-marker-shape",e}),n.capsMaskLine=l=o.appendChild(y.createElementNS(ae,"use")),l.className.baseVal=C+"-caps-mask-line",l.href.baseVal="#"+h,n.maskBGRect=l=k(a.appendChild(y.createElementNS(ae,"rect"))),l.id=c=m+"-mask-bg-rect",l.className.baseVal=C+"-mask-bg-rect",re&&(l.style.fill="white"),n.lineMask=k(x(n.lineMaskId=m+"-line-mask")),n.lineMaskBG=l=n.lineMask.appendChild(y.createElementNS(ae,"use")),l.href.baseVal="#"+c,n.lineMaskShape=l=n.lineMask.appendChild(y.createElementNS(ae,"use")),l.className.baseVal=C+"-line-mask-shape",l.href.baseVal="#"+r,l.style.display="none",n.lineMaskCaps=l=n.lineMask.appendChild(y.createElementNS(ae,"use")),l.href.baseVal="#"+p,n.lineOutlineMask=k(x(e=m+"-line-outline-mask")),(l=n.lineOutlineMask.appendChild(y.createElementNS(ae,"use"))).href.baseVal="#"+c,n.lineOutlineMaskShape=l=n.lineOutlineMask.appendChild(y.createElementNS(ae,"use")),l.className.baseVal=C+"-line-outline-mask-shape",l.href.baseVal="#"+r,n.lineOutlineMaskCaps=l=n.lineOutlineMask.appendChild(y.createElementNS(ae,"use")),l.href.baseVal="#"+p,n.face=t.appendChild(y.createElementNS(ae,"g")),n.lineFace=l=n.face.appendChild(y.createElementNS(ae,"use")),l.href.baseVal="#"+h,n.lineOutlineFace=l=n.face.appendChild(y.createElementNS(ae,"use")),l.href.baseVal="#"+h,l.style.mask="url(#"+e+")",l.style.display="none",n.plugMaskIdSE=[m+"-plug-mask-0",m+"-plug-mask-1"],n.plugMaskSE=[0,1].map(function(e){return x(n.plugMaskIdSE[e])}),n.plugMaskShapeSE=[0,1].map(function(e){e=n.plugMaskSE[e].appendChild(y.createElementNS(ae,"use"));return e.className.baseVal=C+"-plug-mask-shape",e}),d=[],n.plugOutlineMaskSE=[0,1].map(function(e){return x(d[e]=m+"-plug-outline-mask-"+e)}),n.plugOutlineMaskShapeSE=[0,1].map(function(e){e=n.plugOutlineMaskSE[e].appendChild(y.createElementNS(ae,"use"));return e.className.baseVal=C+"-plug-outline-mask-shape",e}),n.plugMarkerIdSE=[m+"-plug-marker-0",m+"-plug-marker-1"],n.plugMarkerSE=[0,1].map(function(e){e=b(n.plugMarkerIdSE[e]);return re&&(e.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),e}),n.plugMarkerShapeSE=[0,1].map(function(e){return n.plugMarkerSE[e].appendChild(y.createElementNS(ae,"g"))}),n.plugFaceSE=[0,1].map(function(e){return n.plugMarkerShapeSE[e].appendChild(y.createElementNS(ae,"use"))}),n.plugOutlineFaceSE=[0,1].map(function(e){var t=n.plugMarkerShapeSE[e].appendChild(y.createElementNS(ae,"use"));return t.style.mask="url(#"+d[e]+")",t.style.display="none",t}),n.plugsFace=l=n.face.appendChild(y.createElementNS(ae,"use")),l.className.baseVal=C+"-plugs-face",l.href.baseVal="#"+h,l.style.display="none",n.curStats.show_inAnim?(n.isShown=1,w[f.show_effect].stop(n,!0)):n.isShown||(t.style.visibility="hidden"),y.body.appendChild(t),[0,1,2].forEach(function(e){var t,e=n.options.labelSEM[e];e&&I(e,"label")&&(t=_e[e._id]).conf.initSvg&&t.conf.initSvg(t,n)}),g.line=g.plug=g.lineOutline=g.plugOutline=g.faces=g.effect=!0),g.position=v(S,u,"path",R,null,null,ue.path)||g.position,g.position=v(S,u,"startSocket",V,"socketSE",0)||g.position,g.position=v(S,u,"endSocket",V,"socketSE",1)||g.position,[u.startSocketGravity,u.endSocketGravity].forEach(function(e,t){var n,a,i=!1;null!=e&&(Array.isArray(e)?pe(e[0])&&pe(e[1])&&(i=[e[0],e[1]],Array.isArray(S.socketGravitySE[t])&&(n=i,a=S.socketGravitySE[t],n.length===a.length&&n.every(function(e,t){return e===a[t]}))&&(i=!1)):((e+"").toLowerCase()===D?i=null:pe(e)&&0<=e&&(i=e),i===S.socketGravitySE[t]&&(i=!1)),!1!==i&&(S.socketGravitySE[t]=i,g.position=!0))}),g.line=E(S,u,"color",null,"lineColor",null,ue.lineColor,null,!0)||g.line,g.line=E(S,u,"size",null,"lineSize",null,ue.lineSize,function(e){return 0<e})||g.line,["startPlug","endPlug"].forEach(function(e,t){g.plug=v(S,u,e,F,"plugSE",t,ue.plugSE[t])||g.plug,g.plug=E(S,u,e+"Color","string","plugColorSE",t,null,null,!0)||g.plug,g.plug=E(S,u,e+"Size",null,"plugSizeSE",t,ue.plugSizeSE[t],function(e){return 0<e})||g.plug}),g.lineOutline=E(S,u,"outline",null,"lineOutlineEnabled",null,ue.lineOutlineEnabled)||g.lineOutline,g.lineOutline=E(S,u,"outlineColor",null,"lineOutlineColor",null,ue.lineOutlineColor,null,!0)||g.lineOutline,g.lineOutline=E(S,u,"outlineSize",null,"lineOutlineSize",null,ue.lineOutlineSize,function(e){return 0<e&&e<=.48})||g.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(e,t){g.plugOutline=E(S,u,e,null,"plugOutlineEnabledSE",t,ue.plugOutlineEnabledSE[t])||g.plugOutline,g.plugOutline=E(S,u,e+"Color","string","plugOutlineColorSE",t,null,null,!0)||g.plugOutline,g.plugOutline=E(S,u,e+"Size",null,"plugOutlineSizeSE",t,ue.plugOutlineSizeSE[t],function(e){return 1<=e})||g.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(e,t){var n,a,i,o=u[e],l=S.labelSEM[t]&&!s.optionIsAttach.labelSEM[t]?_e[S.labelSEM[t]._id].text:S.labelSEM[t],r=!1;if((n="string"==typeof o)&&(o=o.trim()),(n||o&&(r=I(o,"label")))&&o!==l){if(S.labelSEM[t]&&(at(s,_e[S.labelSEM[t]._id]),S.labelSEM[t]=""),o){if(r?(a=_e[(i=o)._id]).boundTargets.slice().forEach(function(e){a.conf.removeOption(a,e)}):i=new M(O.captionLabel,[o]),!nt(s,_e[i._id],e))throw new Error("Can\'t bind attachment");S.labelSEM[t]=i}s.optionIsAttach.labelSEM[t]=r}}),Object.keys(Z).forEach(function(a){var e,t,o=Z[a],n=a+"_enabled",i=a+"_options";function l(a){var i={};return o.optionsConf.forEach(function(e){var t=e[0],n=e[3];null==e[4]||i[n]||(i[n]=[]),("function"==typeof t?t:"id"===t?v:E).apply(null,[i,a].concat(e.slice(1)))}),i}function r(e){var t,n=a+"_animOptions";return e.hasOwnProperty("animation")?he(e.animation)?t=s.curStats[n]=et(e.animation,o.defaultAnimOptions):(t=!!e.animation,s.curStats[n]=t?et({},o.defaultAnimOptions):null):(t=!!o.defaultEnabled,s.curStats[n]=t?et({},o.defaultAnimOptions):null),t}u.hasOwnProperty(a)&&(e=u[a],he(e)?(s.curStats[n]=!0,t=s.curStats[i]=l(e),o.anim&&(s.curStats[i].animation=r(e))):(t=s.curStats[n]=!!e)&&(s.curStats[i]=l({}),o.anim&&(s.curStats[i].animation=r({}))),ke(t,S[a])&&(S[a]=t,g.effect=!0))}),$e(s,g)}function ot(e,t,n){var a={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};Ye(a.curStats,de),Ye(a.aplStats,de),Object.keys(Z).forEach(function(e){var t=Z[e].stats;Ye(a.curStats,t),Ye(a.aplStats,t),a.options[e]=!1}),Ye(a.curStats,fe),Ye(a.aplStats,fe),a.curStats.show_effect=ye,a.curStats.show_animOptions=we(w[ye].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++ge}),a._id=this._id,Se[this._id]=a,1===arguments.length&&(n=e,e=null),n=n||{},(e||t)&&(n=we(n),e&&(n.start=e),t&&(n.end=t)),a.isShown=a.aplStats.show_on=!n.hide,this.setOptions(n)}function lt(n){return function(e){var t={};t[n]=e,this.setOptions(t)}}function rt(e,t){var n,a={conf:e,curStats:{},aplStats:{},boundTargets:[]},i={};e.argOptions.every(function(e){return!(!t.length||("string"==typeof e.type?typeof t[0]!==e.type:"function"!=typeof e.type||!e.type(t[0])))&&(i[e.optionName]=t.shift(),!0)}),n=t.length&&he(t[0])?we(t[0]):{},Object.keys(i).forEach(function(e){n[e]=i[e]}),e.stats&&(Ye(a.curStats,e.stats),Ye(a.aplStats,e.stats)),Object.defineProperty(this,"_id",{value:++ve}),Object.defineProperty(this,"isRemoved",{get:function(){return!_e[this._id]}}),a._id=this._id,e.init&&!e.init(a,n)||(_e[this._id]=a)}return Z={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(e){return 0<e}],["type","gap","number",null,null,null,function(e){return 0<e}]],init:function(e){Ge(e,"apl_line_strokeWidth",Z.dash.update),e.lineFace.style.strokeDashoffset=0,Z.dash.update(e)},remove:function(e){var t=e.curStats;De(e,"apl_line_strokeWidth",Z.dash.update),t.dash_animId&&(g.remove(t.dash_animId),t.dash_animId=null),e.lineFace.style.strokeDasharray="none",e.lineFace.style.strokeDashoffset=0,Ye(e.aplStats,Z.dash.stats)},update:function(t){var e,n=t.curStats,a=t.aplStats,i=a.dash_options,o=!1;n.dash_len=i.len||2*a.line_strokeWidth,n.dash_gap=i.gap||a.line_strokeWidth,n.dash_maxOffset=n.dash_len+n.dash_gap,o=Xe(t,a,"dash_len",n.dash_len)||o,(o=Xe(t,a,"dash_gap",n.dash_gap)||o)&&(t.lineFace.style.strokeDasharray=a.dash_len+","+a.dash_gap),n.dash_animOptions?(o=Xe(t,a,"dash_maxOffset",n.dash_maxOffset),a.dash_animOptions&&(o||ke(n.dash_animOptions,a.dash_animOptions))&&(n.dash_animId&&(e=g.stop(n.dash_animId),g.remove(n.dash_animId)),a.dash_animOptions=null),a.dash_animOptions||(n.dash_animId=g.add(function(e){return(1-e)*a.dash_maxOffset+"px"},function(e){t.lineFace.style.strokeDashoffset=e},n.dash_animOptions.duration,0,n.dash_animOptions.timing,!1,e),a.dash_animOptions=we(n.dash_animOptions))):a.dash_animOptions&&(n.dash_animId&&(g.remove(n.dash_animId),n.dash_animId=null),t.lineFace.style.strokeDashoffset=0,a.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(e){var a=e.baseWindow.document,t=e.defs,n=C+"-"+e._id+"-gradient";e.efc_gradient_gradient=t=t.appendChild(a.createElementNS(ae,"linearGradient")),t.id=n,t.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[t.x1,t.y1,t.x2,t.y2].forEach(function(e){e.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),e.efc_gradient_stopSE=[0,1].map(function(t){var n=e.efc_gradient_gradient.appendChild(a.createElementNS(ae,"stop"));try{n.offset.baseVal=t}catch(e){if(e.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw e;n.setAttribute("offset",t)}return n}),Ge(e,"cur_plug_colorSE",Z.gradient.update),Ge(e,"apl_path",Z.gradient.update),e.curStats.line_altColor=!0,e.lineFace.style.stroke="url(#"+n+")",Z.gradient.update(e)},remove:function(e){e.efc_gradient_gradient&&(e.defs.removeChild(e.efc_gradient_gradient),e.efc_gradient_gradient=e.efc_gradient_stopSE=null),De(e,"cur_plug_colorSE",Z.gradient.update),De(e,"apl_path",Z.gradient.update),e.curStats.line_altColor=!1,e.lineFace.style.stroke=e.curStats.line_color,Ye(e.aplStats,Z.gradient.stats)},update:function(a){var e,i=a.curStats,o=a.aplStats,t=o.gradient_options,n=a.pathList.animVal||a.pathList.baseVal;[0,1].forEach(function(e){i.gradient_colorSE[e]=t.colorSE[e]||i.plug_colorSE[e]}),e=n[0][0],i.gradient_pointSE[0]={x:e.x,y:e.y},e=(n=n[n.length-1])[n.length-1],i.gradient_pointSE[1]={x:e.x,y:e.y},[0,1].forEach(function(t){var n;Xe(a,o.gradient_colorSE,t,n=i.gradient_colorSE[t])&&(re?(n=Oe(n),a.efc_gradient_stopSE[t].style.stopColor=n[1],a.efc_gradient_stopSE[t].style.stopOpacity=n[0]):a.efc_gradient_stopSE[t].style.stopColor=n),["x","y"].forEach(function(e){(n=i.gradient_pointSE[t][e])!==o.gradient_pointSE[t][e]&&(a.efc_gradient_gradient[e+(t+1)].baseVal.value=o.gradient_pointSE[t][e]=n)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(e){return 0<=e}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(e){return 0<=e&&e<=1}]],init:function(t){var e,n,a,i,o=t.baseWindow.document,l=t.defs,r=C+"-"+t._id+"-dropShadow",s=(e=o,n=r,i={},"boolean"!=typeof u&&(u=!!window.SVGFEDropShadowElement&&!re),i.elmsAppend=[i.elmFilter=o=e.createElementNS(ae,"filter")],o.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,o.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),o.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),o.id=n,u?(i.elmOffset=i.elmBlur=a=o.appendChild(e.createElementNS(ae,"feDropShadow")),i.styleFlood=a.style):(i.elmBlur=o.appendChild(e.createElementNS(ae,"feGaussianBlur")),i.elmOffset=a=o.appendChild(e.createElementNS(ae,"feOffset")),a.result.baseVal="offsetblur",a=o.appendChild(e.createElementNS(ae,"feFlood")),i.styleFlood=a.style,(a=o.appendChild(e.createElementNS(ae,"feComposite"))).in2.baseVal="offsetblur",a.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(a=o.appendChild(e.createElementNS(ae,"feMerge"))).appendChild(e.createElementNS(ae,"feMergeNode")),a.appendChild(e.createElementNS(ae,"feMergeNode")).in1.baseVal="SourceGraphic"),i);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(e){t["efc_dropShadow_"+e]=s[e]}),s.elmsAppend.forEach(function(e){l.appendChild(e)}),t.face.setAttribute("filter","url(#"+r+")"),Ge(t,"new_edge4viewBox",Z.dropShadow.adjustEdge),Z.dropShadow.update(t)},remove:function(e){var t=e.defs;e.efc_dropShadow_elmsAppend&&(e.efc_dropShadow_elmsAppend.forEach(function(e){t.removeChild(e)}),e.efc_dropShadow_elmFilter=e.efc_dropShadow_elmOffset=e.efc_dropShadow_elmBlur=e.efc_dropShadow_styleFlood=e.efc_dropShadow_elmsAppend=null),De(e,"new_edge4viewBox",Z.dropShadow.adjustEdge),$e(e,{}),e.face.removeAttribute("filter"),Ye(e.aplStats,Z.dropShadow.stats)},update:function(e){var t,n,a=e.curStats,i=e.aplStats,o=i.dropShadow_options;a.dropShadow_dx=t=o.dx,Xe(e,i,"dropShadow_dx",t)&&(e.efc_dropShadow_elmOffset.dx.baseVal=t,n=!0),a.dropShadow_dy=t=o.dy,Xe(e,i,"dropShadow_dy",t)&&(e.efc_dropShadow_elmOffset.dy.baseVal=t,n=!0),a.dropShadow_blur=t=o.blur,Xe(e,i,"dropShadow_blur",t)&&(e.efc_dropShadow_elmBlur.setStdDeviation(t,t),n=!0),n&&$e(e,{}),a.dropShadow_color=t=o.color,Xe(e,i,"dropShadow_color",t)&&(e.efc_dropShadow_styleFlood.floodColor=t),a.dropShadow_opacity=t=o.opacity,Xe(e,i,"dropShadow_opacity",t)&&(e.efc_dropShadow_styleFlood.floodOpacity=t)},adjustEdge:function(a,i){var e,o=a.curStats,l=a.aplStats;null!=o.dropShadow_dx&&(e=3*o.dropShadow_blur,(e={x1:i.x1-e+o.dropShadow_dx,y1:i.y1-e+o.dropShadow_dy,x2:i.x2+e+o.dropShadow_dx,y2:i.y2+e+o.dropShadow_dy}).x1<i.x1&&(i.x1=e.x1),e.y1<i.y1&&(i.y1=e.y1),e.x2>i.x2&&(i.x2=e.x2),e.y2>i.y2&&(i.y2=e.y2),["x","y"].forEach(function(e){var t,n="dropShadow_"+e;o[n]=t=i[e+"1"],Xe(a,l,n,t)&&(a.efc_dropShadow_elmFilter[e].baseVal.value=t)}))}}},Object.keys(Z).forEach(function(e){var t=Z[e],n=t.stats;n[e+"_enabled"]={iniValue:!1},n[e+"_options"]={hasProps:!0},t.anim&&(n[e+"_animOptions"]={},n[e+"_animId"]={})}),w={none:{defaultAnimOptions:{},init:function(e,t){var n=e.curStats;n.show_animId&&(g.remove(n.show_animId),n.show_animId=null),w.none.start(e,t)},start:function(e,t){w.none.stop(e,!0)},stop:function(e,t,n){var a=e.curStats;return n=null!=n?n:e.aplStats.show_on,a.show_inAnim=!1,t&&Je(e,n),n?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(n,e){var t=n.curStats,a=n.aplStats;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){return e},function(e,t){t?w.fade.stop(n,!0):(n.svg.style.opacity=e+"",ie&&(je(n,n.svg),He(n)))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),w.fade.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),Je(e,1),a.show_inAnim=!0,g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.svg.style.opacity=n?"":"0",Je(e,n)),a}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(n,e){var t=n.curStats,a=n.aplStats,o=n.pathList.baseVal,i=Re(o),l=i.segsLen,r=i.lenAll;t.show_animId&&g.remove(t.show_animId),t.show_animId=g.add(function(e){var t,n,a,i=-1;if(0===e)n=[[o[0][0],o[0][0]]];else if(1===e)n=o;else{for(t=r*e,n=[];t>=l[++i];)n.push(o[i]),t-=l[i];t&&(2===(a=o[i]).length?n.push([a[0],Ve(a[0],a[1],t/l[i])]):(e=Ne(a[0],a[1],a[2],a[3],We(a[0],a[1],a[2],a[3],t)),n.push([a[0],e.fromP1,e.fromP2,e])))}return n},function(e,t){t?w.draw.stop(n,!0):(n.pathList.animVal=e,$e(n,{path:!0}))},a.show_animOptions.duration,1,a.show_animOptions.timing,null,!1),w.draw.start(n,e)},start:function(e,t){var n,a=e.curStats;a.show_inAnim&&(n=g.stop(a.show_animId)),Je(e,1),a.show_inAnim=!0,Ge(e,"apl_position",w.draw.update),g.start(a.show_animId,!e.aplStats.show_on,null!=t?t:n)},stop:function(e,t,n){var a,i=e.curStats;return n=null!=n?n:e.aplStats.show_on,a=i.show_inAnim?g.stop(i.show_animId):n?1:0,i.show_inAnim=!1,t&&(e.pathList.animVal=n?null:[[e.pathList.baseVal[0][0],e.pathList.baseVal[0][0]]],$e(e,{path:!0}),Je(e,n)),a},update:function(e){De(e,"apl_position",w.draw.update),e.curStats.show_inAnim?w.draw.init(e,w.draw.stop(e)):e.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(e){var t=e[0],n=e[1],a=e[2];Object.defineProperty(ot.prototype,t,{get:function(){var e=null!=a?Se[this._id].options[n][a]:n?Se[this._id].options[n]:Se[this._id].options[t];return null==e?D:we(e)},set:lt(t),enumerable:!0})}),[["path",R],["startSocket",V,"socketSE",0],["endSocket",V,"socketSE",1],["startPlug",F,"plugSE",0],["endPlug",F,"plugSE",1]].forEach(function(e){var a=e[0],i=e[1],o=e[2],l=e[3];Object.defineProperty(ot.prototype,a,{get:function(){var t,n=null!=l?Se[this._id].options[o][l]:o?Se[this._id].options[o]:Se[this._id].options[a];return n?Object.keys(i).some(function(e){return i[e]===n&&(t=e,!0)})?t:new Error("It\'s broken"):D},set:lt(a),enumerable:!0})}),Object.keys(Z).forEach(function(n){var a=Z[n];Object.defineProperty(ot.prototype,n,{get:function(){var s,e,t=Se[this._id].options[n];return he(t)?(s=t,e=a.optionsConf.reduce(function(e,t){var n,a=t[0],i=t[1],o=t[2],l=t[3],t=t[4],r=null!=t?s[l][t]:l?s[l]:s[i];return e[i]="id"===a?r?Object.keys(o).some(function(e){return o[e]===r&&(n=e,!0)})?n:new Error("It\'s broken"):D:null==r?D:we(r),e},{}),a.anim&&(e.animation=we(s.animation)),e):t},set:lt(n),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(e,n){Object.defineProperty(ot.prototype,e,{get:function(){var e=Se[this._id],t=e.options;return t.labelSEM[n]&&!e.optionIsAttach.labelSEM[n]?_e[t.labelSEM[n]._id].text:t.labelSEM[n]||""},set:lt(e),enumerable:!0})}),ot.prototype.setOptions=function(e){return it(Se[this._id],e),this},ot.prototype.position=function(){return $e(Se[this._id],{position:!0}),this},ot.prototype.remove=function(){var t=Se[this._id],n=t.curStats;Object.keys(Z).forEach(function(e){e+="_animId";n[e]&&g.remove(n[e])}),n.show_animId&&g.remove(n.show_animId),t.attachments.slice().forEach(function(e){at(t,e)}),t.baseWindow&&t.svg&&t.baseWindow.document.body.removeChild(t.svg),delete Se[this._id]},ot.prototype.show=function(e,t){return tt(Se[this._id],!0,e,t),this},ot.prototype.hide=function(e,t){return tt(Se[this._id],!1,e,t),this},o=function(t){t&&_e[t._id]&&(t.boundTargets.slice().forEach(function(e){at(e.props,t,!0)}),t.conf.remove&&t.conf.remove(t),delete _e[t._id])},rt.prototype.remove=function(){var t=this,n=_e[t._id];n&&(n.boundTargets.slice().forEach(function(e){n.conf.removeOption(n,e)}),ze(function(){var e=_e[t._id];e&&(console.error("LeaderLineAttachment was not removed by removeOption"),o(e))}))},M=rt,window.LeaderLineAttachment=M,I=function(e,t){return e instanceof M&&(!(e.isRemoved||t&&_e[e._id].conf.type!==t)||null)},O={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Me}],init:function(e,t){return e.element=O.pointAnchor.checkElement(t.element),e.x=O.pointAnchor.parsePercent(t.x,!0)||[.5,!0],e.y=O.pointAnchor.parsePercent(t.y,!0)||[.5,!0],!0},removeOption:function(e,t){var n=t.props,a={},i=e.element,e=n.options.anchorSE["start"===t.optionName?1:0];i===e&&(i=e===document.body?new M(O.pointAnchor,[i]):document.body),a[t.optionName]=i,it(n,a)},getBBoxNest:function(e,t){var n=Le(e.element,t.baseWindow),a=n.width,t=n.height;return n.width=n.height=0,n.left=n.right=n.left+e.x[0]*(e.x[1]?a:1),n.top=n.bottom=n.top+e.y[0]*(e.y[1]?t:1),n},parsePercent:function(e,t){var n,a,i=!1;return pe(e)?a=e:"string"==typeof e&&(n=m.exec(e))&&n[2]&&(i=0!==(a=parseFloat(n[1])/100)),null!=a&&(t||0<=a)?[a,i]:null},checkElement:function(e){if(null==e)e=document.body;else if(!Me(e))throw new Error("`element` must be Element");return e}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Me},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(a,e){var t,n=[];return a.element=O.pointAnchor.checkElement(e.element),"string"==typeof e.color&&(a.color=e.color.trim()),"string"==typeof e.fillColor&&(a.fill=e.fillColor.trim()),pe(e.size)&&0<=e.size&&(a.size=e.size),e.dash&&(a.dash=!0,pe(e.dash.len)&&0<e.dash.len&&(a.dashLen=e.dash.len),pe(e.dash.gap)&&0<e.dash.gap&&(a.dashGap=e.dash.gap)),"circle"===e.shape?a.shape=e.shape:"polygon"===e.shape&&Array.isArray(e.points)&&3<=e.points.length&&e.points.every(function(e){var t={};return!(!(t.x=O.pointAnchor.parsePercent(e[0],!0))||!(t.y=O.pointAnchor.parsePercent(e[1],!0)))&&(n.push(t),(t.x[1]||t.y[1])&&(a.hasRatio=!0),!0)})?(a.shape=e.shape,a.points=n):(a.shape="rect",a.radius=pe(e.radius)&&0<=e.radius?e.radius:0),"rect"!==a.shape&&"circle"!==a.shape||(a.x=O.pointAnchor.parsePercent(e.x,!0)||[-.05,!0],a.y=O.pointAnchor.parsePercent(e.y,!0)||[-.05,!0],a.width=O.pointAnchor.parsePercent(e.width)||[1.1,!0],a.height=O.pointAnchor.parsePercent(e.height)||[1.1,!0],(a.x[1]||a.y[1]||a.width[1]||a.height[1])&&(a.hasRatio=!0)),t=a.element.ownerDocument,a.svg=e=t.createElementNS(ae,"svg"),e.className.baseVal=C+"-areaAnchor",e.viewBox.baseVal||e.setAttribute("viewBox","0 0 0 0"),a.path=e.appendChild(t.createElementNS(ae,"path")),a.path.style.fill=a.fill||"none",a.isShown=!1,e.style.visibility="hidden",t.body.appendChild(e),Qe(t=t.defaultView),a.bodyOffset=qe(t),a.updateColor=function(){var e=a.curStats,t=a.aplStats,n=a.boundTargets.length?a.boundTargets[0].props.curStats:null;e.color=n=a.color||(n?n.line_color:ue.lineColor),Xe(a,t,"color",n)&&(a.path.style.stroke=n)},a.updateShow=function(){Je(a,a.boundTargets.some(function(e){return!0===e.props.isShown}))},!0},bind:function(e,t){t=t.props;return e.color||Ge(t,"cur_line_color",e.updateColor),Ge(t,"svgShow",e.updateShow),ze(function(){e.updateColor(),e.updateShow()}),!0},unbind:function(e,t){t=t.props;e.color||De(t,"cur_line_color",e.updateColor),De(t,"svgShow",e.updateShow),1<e.boundTargets.length&&ze(function(){e.updateColor(),e.updateShow(),O.areaAnchor.update(e)&&e.boundTargets.forEach(function(e){$e(e.props,{position:!0})})})},removeOption:function(e,t){O.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){O.areaAnchor.unbind(t,e)})),t.svg.parentNode.removeChild(t.svg)},getStrokeWidth:function(e,t){return O.areaAnchor.update(e)&&1<e.boundTargets.length&&ze(function(){e.boundTargets.forEach(function(e){e.props!==t&&$e(e.props,{position:!0})})}),e.curStats.strokeWidth},getPathData:function(e,t){var n=Le(e.element,t.baseWindow);return Be(e.curStats.pathListRel,function(e){e.x+=n.left,e.y+=n.top})},getBBoxNest:function(e,t){t=Le(e.element,t.baseWindow),e=e.curStats.bBoxRel;return{left:e.left+t.left,top:e.top+t.top,right:e.right+t.left,bottom:e.bottom+t.top,width:e.width,height:e.height}},update:function(t){var n,a,i,o,e,l,r,s,u,h,p,c,d,f,y,m,S=t.curStats,g=t.aplStats,_=t.boundTargets.length?t.boundTargets[0].props.curStats:null,v={};if(v.strokeWidth=Xe(t,S,"strokeWidth",null!=t.size?t.size:_?_.line_strokeWidth:ue.lineSize),n=Ie(t.element),v.elementWidth=Xe(t,S,"elementWidth",n.width),v.elementHeight=Xe(t,S,"elementHeight",n.height),v.elementLeft=Xe(t,S,"elementLeft",n.left),v.elementTop=Xe(t,S,"elementTop",n.top),v.strokeWidth||t.hasRatio&&(v.elementWidth||v.elementHeight)){switch(t.shape){case"rect":(c={left:t.x[0]*(t.x[1]?n.width:1),top:t.y[0]*(t.y[1]?n.height:1),width:t.width[0]*(t.width[1]?n.width:1),height:t.height[0]*(t.height[1]?n.height:1)}).right=c.left+c.width,c.bottom=c.top+c.height,p=S.strokeWidth/2,s=(r=Math.min(c.width,c.height))?r/2*Math.SQRT2+p:0,h=(r=t.radius?t.radius<=s?t.radius:s:0)?(s=(r-p)/Math.SQRT2,h=[{x:c.left-(u=r-s),y:c.top+s},{x:c.left+s,y:c.top-u},{x:c.right-s,y:c.top-u},{x:c.right+u,y:c.top+s},{x:c.right+u,y:c.bottom-s},{x:c.right-s,y:c.bottom+u},{x:c.left+s,y:c.bottom+u},{x:c.left-u,y:c.bottom-s}],S.pathListRel=[[h[0],{x:h[0].x,y:h[0].y-(p=r*te)},{x:h[1].x-p,y:h[1].y},h[1]]],h[1].x!==h[2].x&&S.pathListRel.push([h[1],h[2]]),S.pathListRel.push([h[2],{x:h[2].x+p,y:h[2].y},{x:h[3].x,y:h[3].y-p},h[3]]),h[3].y!==h[4].y&&S.pathListRel.push([h[3],h[4]]),S.pathListRel.push([h[4],{x:h[4].x,y:h[4].y+p},{x:h[5].x+p,y:h[5].y},h[5]]),h[5].x!==h[6].x&&S.pathListRel.push([h[5],h[6]]),S.pathListRel.push([h[6],{x:h[6].x-p,y:h[6].y},{x:h[7].x,y:h[7].y+p},h[7]]),h[7].y!==h[0].y&&S.pathListRel.push([h[7],h[0]]),S.pathListRel.push([]),u=r-s+S.strokeWidth/2,[{x:c.left-u,y:c.top-u},{x:c.right+u,y:c.bottom+u}]):(u=S.strokeWidth/2,h=[{x:c.left-u,y:c.top-u},{x:c.right+u,y:c.bottom+u}],S.pathListRel=[[h[0],{x:h[1].x,y:h[0].y}],[{x:h[1].x,y:h[0].y},h[1]],[h[1],{x:h[0].x,y:h[1].y}],[]],[{x:c.left-S.strokeWidth,y:c.top-S.strokeWidth},{x:c.right+S.strokeWidth,y:c.bottom+S.strokeWidth}]),S.bBoxRel={left:h[0].x,top:h[0].y,right:h[1].x,bottom:h[1].y,width:h[1].x-h[0].x,height:h[1].y-h[0].y};break;case"circle":(l={left:t.x[0]*(t.x[1]?n.width:1),top:t.y[0]*(t.y[1]?n.height:1),width:t.width[0]*(t.width[1]?n.width:1),height:t.height[0]*(t.height[1]?n.height:1)}).width||l.height||(l.width=l.height=10),l.width||(l.width=l.height),l.height||(l.height=l.width),l.right=l.left+l.width,l.bottom=l.top+l.height,p=l.left+l.width/2,r=l.top+l.height/2,e=S.strokeWidth/2,s=l.width/2,u=l.height/2,c=s*Math.SQRT2+e,h=u*Math.SQRT2+e,S.pathListRel=[[(e=[{x:p-c,y:r},{x:p,y:r-h},{x:p+c,y:r},{x:p,y:r+h}])[0],{x:e[0].x,y:e[0].y-(p=h*te)},{x:e[1].x-(r=c*te),y:e[1].y},e[1]],[e[1],{x:e[1].x+r,y:e[1].y},{x:e[2].x,y:e[2].y-p},e[2]],[e[2],{x:e[2].x,y:e[2].y+p},{x:e[3].x+r,y:e[3].y},e[3]],[e[3],{x:e[3].x-r,y:e[3].y},{x:e[0].x,y:e[0].y+p},e[0]],[]],s=c-s+S.strokeWidth/2,u=h-u+S.strokeWidth/2,e=[{x:l.left-s,y:l.top-u},{x:l.right+s,y:l.bottom+u}],S.bBoxRel={left:e[0].x,top:e[0].y,right:e[1].x,bottom:e[1].y,width:e[1].x-e[0].x,height:e[1].y-e[0].y};break;case"polygon":t.points.forEach(function(e){var t=e.x[0]*(e.x[1]?n.width:1),e=e.y[0]*(e.y[1]?n.height:1);i?(t<i.left&&(i.left=t),t>i.right&&(i.right=t),e<i.top&&(i.top=e),e>i.bottom&&(i.bottom=e)):i={left:t,right:t,top:e,bottom:e},o?S.pathListRel.push([o,{x:t,y:e}]):S.pathListRel=[],o={x:t,y:e}}),S.pathListRel.push([]),e=S.strokeWidth/2,e=[{x:i.left-e,y:i.top-e},{x:i.right+e,y:i.bottom+e}],S.bBoxRel={left:e[0].x,top:e[0].y,right:e[1].x,bottom:e[1].y,width:e[1].x-e[0].x,height:e[1].y-e[0].y}}v.pathListRel=v.bBoxRel=!0}return(v.pathListRel||v.elementLeft||v.elementTop)&&(S.pathData=Be(S.pathListRel,function(e){e.x+=n.left,e.y+=n.top})),Xe(t,g,"strokeWidth",a=S.strokeWidth)&&(t.path.style.strokeWidth=a+"px"),Fe(a=S.pathData,g.pathData)&&(t.path.setPathData(a),g.pathData=a,v.pathData=!0),t.dash&&(!v.pathData&&(!v.strokeWidth||t.dashLen&&t.dashGap)||(S.dashLen=t.dashLen||2*S.strokeWidth,S.dashGap=t.dashGap||S.strokeWidth),v.dash=Xe(t,g,"dashLen",S.dashLen)||v.dash,v.dash=Xe(t,g,"dashGap",S.dashGap)||v.dash,v.dash&&(t.path.style.strokeDasharray=g.dashLen+","+g.dashGap)),d=S.viewBoxBBox,f=g.viewBoxBBox,y=t.svg.viewBox.baseVal,m=t.svg.style,d.x=S.bBoxRel.left+n.left,d.y=S.bBoxRel.top+n.top,d.width=S.bBoxRel.width,d.height=S.bBoxRel.height,["x","y","width","height"].forEach(function(e){(a=d[e])!==f[e]&&(y[e]=f[e]=a,m[Q[e]]=a+("x"===e||"y"===e?t.bodyOffset[e]:0)+"px")}),v.strokeWidth||v.pathListRel||v.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:Me},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url(\'data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==\')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(a,i){var n,t,e,o,l,r,s,u,h,p=O.mouseHoverAnchor,c={};if(a.element=O.pointAnchor.checkElement(i.element),s=a.element,!((u=s.ownerDocument)&&(h=u.defaultView)&&h.HTMLElement&&s instanceof h.HTMLElement))throw new Error("`element` must be HTML element");return p.style.backgroundSize=p.backgroundSize.width+"px "+p.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(e){var n=p[e];a[e]=Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},{})}),"inline"===(n=a.element.ownerDocument.defaultView.getComputedStyle(a.element,"")).display?a.style.display="inline-block":"none"===n.display&&(a.style.display="block"),O.mouseHoverAnchor.dirKeys.forEach(function(e){var t=e[0],e="padding"+e[1];parseFloat(n[e])<p.padding[t]&&(a.style[e]=p.padding[t]+"px")}),a.style.display&&(e=a.element.style.display,a.element.style.display=a.style.display),O.mouseHoverAnchor.dirKeys.forEach(function(e){e="padding"+e[1];a.style[e]&&(c[e]=a.element.style[e],a.element.style[e]=a.style[e])}),(s=a.element.getBoundingClientRect()).height<p.minHeight&&(ie?(h=p.minHeight,"content-box"===n.boxSizing?h-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)+parseFloat(n.paddingTop)+parseFloat(n.paddingBottom):"padding-box"===n.boxSizing&&(h-=parseFloat(n.borderTopWidth)+parseFloat(n.borderBottomWidth)),a.style.height=h+"px"):a.style.height=parseFloat(n.height)+(p.minHeight-s.height)+"px"),a.style.backgroundPosition=re?s.width-p.backgroundSize.width-p.backgroundPosition.right+"px "+p.backgroundPosition.top+"px":"right "+p.backgroundPosition.right+"px top "+p.backgroundPosition.top+"px",a.style.display&&(a.element.style.display=e),O.mouseHoverAnchor.dirKeys.forEach(function(e){e="padding"+e[1];a.style[e]&&(a.element.style[e]=c[e])}),["style","hoverStyle"].forEach(function(e){var t=a[e],n=i[e];he(n)&&Object.keys(n).forEach(function(e){"string"==typeof n[e]||pe(n[e])?t[e]=n[e]:null==n[e]&&delete t[e]})}),"function"==typeof i.onSwitch&&(r=i.onSwitch),i.showEffectName&&w[i.showEffectName]&&(a.showEffectName=o=i.showEffectName),l=i.animOptions,a.elmStyle=t=a.element.style,a.mouseenter=function(e){a.hoverStyleSave=p.getStyles(t,Object.keys(a.hoverStyle)),p.setStyles(t,a.hoverStyle),a.boundTargets.forEach(function(e){tt(e.props,!0,o,l)}),r&&r(e)},a.mouseleave=function(e){p.setStyles(t,a.hoverStyleSave),a.boundTargets.forEach(function(e){tt(e.props,!1,o,l)}),r&&r(e)},!0},bind:function(e,t){var n,a,i,o,l;return t.props.svg?O.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName):ze(function(){O.mouseHoverAnchor.llShow(t.props,!1,e.showEffectName)}),e.enabled||(e.styleSave=O.mouseHoverAnchor.getStyles(e.elmStyle,Object.keys(e.style)),O.mouseHoverAnchor.setStyles(e.elmStyle,e.style),e.removeEventListener=(n=e.element,a=e.mouseenter,i=e.mouseleave,"onmouseenter"in n&&"onmouseleave"in n?(n.addEventListener("mouseenter",a,!1),n.addEventListener("mouseleave",i,!1),function(){n.removeEventListener("mouseenter",a,!1),n.removeEventListener("mouseleave",i,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),n.addEventListener("mouseover",o=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||a.apply(this,arguments)}),n.addEventListener("mouseout",l=function(e){e.relatedTarget&&(e.relatedTarget===this||this.compareDocumentPosition(e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||i.apply(this,arguments)}),function(){n.removeEventListener("mouseover",o,!1),n.removeEventListener("mouseout",l,!1)})),e.enabled=!0),!0},unbind:function(e,t){e.enabled&&e.boundTargets.length<=1&&(e.removeEventListener(),O.mouseHoverAnchor.setStyles(e.elmStyle,e.styleSave),e.enabled=!1),O.mouseHoverAnchor.llShow(t.props,!0,e.showEffectName)},removeOption:function(e,t){O.pointAnchor.removeOption(e,t)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){O.mouseHoverAnchor.unbind(t,e)}))},getBBoxNest:function(e,t){return Le(e.element,t.baseWindow)},llShow:function(e,t,n){w[n||e.curStats.show_effect].stop(e,!0,t),e.aplStats.show_on=t},getStyles:function(n,e){return e.reduce(function(e,t){return e[t]=n[t],e},{})},setStyles:function(t,n){Object.keys(n).forEach(function(e){t[e]=n[e]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(l,t){return"string"==typeof t.text&&(l.text=t.text.trim()),!!l.text&&("string"==typeof t.color&&(l.color=t.color.trim()),l.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",Array.isArray(t.offset)&&pe(t.offset[0])&&pe(t.offset[1])&&(l.offset={x:t.offset[0],y:t.offset[1]}),pe(t.lineOffset)&&(l.lineOffset=t.lineOffset),O.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(l[e]=t[e])}),l.updateColor=function(e){O.captionLabel.updateColor(l,e)},l.updateSocketXY=function(e){var t,n=l.curStats,a=l.aplStats,i=e.curStats,o=i.position_socketXYSE[l.socketIndex];null!=o.x&&(l.offset?(n.x=o.x+l.offset.x,n.y=o.y+l.offset.y):(t=l.height/2,e=Math.max(i.attach_plugSideLenSE[l.socketIndex]||0,i.line_strokeWidth/2),i=i.position_socketXYSE[l.socketIndex?0:1],o.socketId===A||o.socketId===k?(n.x=o.socketId===A?o.x-t-l.width:o.x+t,n.y=i.y<o.y?o.y+e+t:o.y-e-t-l.height):(n.x=i.x<o.x?o.x+e+t:o.x-e-t-l.width,n.y=o.socketId===b?o.y-t-l.height:o.y+t)),Xe(l,a,"x",t=n.x)&&(l.elmPosition.x.baseVal.getItem(0).value=t),Xe(l,a,"y",t=n.y)&&(l.elmPosition.y.baseVal.getItem(0).value=t+l.height))},l.updatePath=function(e){var t=l.curStats,n=l.aplStats,e=e.pathList.animVal||e.pathList.baseVal;e&&(e=O.captionLabel.getMidPoint(e,l.lineOffset),t.x=e.x-l.width/2,t.y=e.y-l.height/2,Xe(l,n,"x",e=t.x)&&(l.elmPosition.x.baseVal.getItem(0).value=e),Xe(l,n,"y",e=t.y)&&(l.elmPosition.y.baseVal.getItem(0).value=e+l.height))},l.updateShow=function(e){O.captionLabel.updateShow(l,e)},re&&(l.adjustEdge=function(e,t){var n=l.curStats;null!=n.x&&O.captionLabel.adjustEdge(t,{x:n.x,y:n.y,width:l.width,height:l.height},l.strokeWidth/2)}),!0)},updateColor:function(e,t){var n=e.curStats,a=e.aplStats,t=t.curStats;n.color=t=e.color||t.line_color,Xe(e,a,"color",t)&&(e.styleFill.fill=t)},updateShow:function(e,t){t=!0===t.isShown;t!==e.isShown&&(e.styleShow.visibility=t?"":"hidden",e.isShown=t)},adjustEdge:function(e,t,n){n={x1:t.x-n,y1:t.y-n,x2:t.x+t.width+n,y2:t.y+t.height+n};n.x1<e.x1&&(e.x1=n.x1),n.y1<e.y1&&(e.y1=n.y1),n.x2>e.x2&&(e.x2=n.x2),n.y2>e.y2&&(e.y2=n.y2)},newText:function(e,t,n,a,i){var o,l,r=t.createElementNS(ae,"text");return r.textContent=e,[r.x,r.y].forEach(function(e){var t=n.createSVGLength();t.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),e.baseVal.initialize(t)}),"boolean"!=typeof h&&(h="paintOrder"in r.style),i&&!h?(o=t.createElementNS(ae,"defs"),r.id=a,o.appendChild(r),(l=(e=t.createElementNS(ae,"g")).appendChild(t.createElementNS(ae,"use"))).href.baseVal="#"+a,(t=e.appendChild(t.createElementNS(ae,"use"))).href.baseVal="#"+a,(l=l.style).strokeLinejoin="round",{elmPosition:r,styleText:r.style,styleFill:t.style,styleStroke:l,styleShow:e.style,elmsAppend:[o,e]}):(l=r.style,i&&(l.strokeLinejoin="round",l.paintOrder="stroke"),{elmPosition:r,styleText:l,styleFill:l,styleStroke:i?l:null,styleShow:l,elmsAppend:[r]})},getMidPoint:function(e,t){var n,a,i=Re(e),o=i.segsLen,i=i.lenAll,l=-1,r=i/2+(t||0);if(r<=0)return 2===(n=e[0]).length?Ve(n[0],n[1],0):Ne(n[0],n[1],n[2],n[3],0);if(i<=r)return 2===(n=e[e.length-1]).length?Ve(n[0],n[1],1):Ne(n[0],n[1],n[2],n[3],1);for(a=[];r>o[++l];)a.push(e[l]),r-=o[l];return 2===(n=e[l]).length?Ve(n[0],n[1],r/o[l]):Ne(n[0],n[1],n[2],n[3],We(n[0],n[1],n[2],n[3],r))},initSvg:function(t,n){var e,a,i=O.captionLabel.newText(t.text,n.baseWindow.document,n.svg,C+"-captionLabel-"+t._id,t.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=i[e]}),t.isShown=!1,t.styleShow.visibility="hidden",O.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(i.styleText[e]=t[e])}),i.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),e=i.elmPosition.getBBox(),t.width=e.width,t.height=e.height,t.outlineColor&&(a=e.height/9,i.styleStroke.strokeWidth=(a=10<a?10:a<2?2:a)+"px",i.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Ye(t.aplStats,O.captionLabel.stats),t.updateColor(n),t.refSocketXY?t.updateSocketXY(n):t.updatePath(n),re&&$e(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||Ge(n,"cur_line_color",e.updateColor),(e.refSocketXY="startLabel"===t.optionName||"endLabel"===t.optionName)?(e.socketIndex="startLabel"===t.optionName?0:1,Ge(n,"apl_position",e.updateSocketXY),e.offset||(Ge(n,"cur_attach_plugSideLenSE",e.updateSocketXY),Ge(n,"cur_line_strokeWidth",e.updateSocketXY))):Ge(n,"apl_path",e.updatePath),Ge(n,"svgShow",e.updateShow),re&&Ge(n,"new_edge4viewBox",e.adjustEdge),O.captionLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.styleFill=e.styleShow=e.elmsAppend=null),Ye(e.curStats,O.captionLabel.stats),Ye(e.aplStats,O.captionLabel.stats),e.color||De(n,"cur_line_color",e.updateColor),e.refSocketXY?(De(n,"apl_position",e.updateSocketXY),e.offset||(De(n,"cur_attach_plugSideLenSE",e.updateSocketXY),De(n,"cur_line_strokeWidth",e.updateSocketXY))):De(n,"apl_path",e.updatePath),De(n,"svgShow",e.updateShow),re&&(De(n,"new_edge4viewBox",e.adjustEdge),$e(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",it(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){O.captionLabel.unbind(t,e)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(l,t){return"string"==typeof t.text&&(l.text=t.text.trim()),!!l.text&&("string"==typeof t.color&&(l.color=t.color.trim()),l.outlineColor="string"==typeof t.outlineColor?t.outlineColor.trim():"#fff",pe(t.lineOffset)&&(l.lineOffset=t.lineOffset),O.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(l[e]=t[e])}),l.updateColor=function(e){O.captionLabel.updateColor(l,e)},l.updatePath=function(e){var t=l.curStats,n=l.aplStats,a=e.curStats,i=e.pathList.animVal||e.pathList.baseVal;i&&(t.pathData=a=O.pathLabel.getOffsetPathData(i,a.line_strokeWidth/2+l.strokeWidth/2+l.height/4,1.25*l.height),Fe(a,n.pathData)&&(l.elmPath.setPathData(a),n.pathData=a,l.bBox=l.elmPosition.getBBox(),l.updateStartOffset(e)))},l.updateStartOffset=function(e){var i,t,n=l.curStats,a=l.aplStats,o=e.curStats;n.pathData&&(2===l.semIndex&&!l.lineOffset||(t=n.pathData.reduce(function(e,t){var n,a=t.values;switch(t.type){case"M":i={x:a[0],y:a[1]};break;case"L":n={x:a[0],y:a[1]},i&&(e+=Ae(i,n)),i=n;break;case"C":n={x:a[4],y:a[5]},i&&(e+=Te(i,{x:a[0],y:a[1]},{x:a[2],y:a[3]},n)),i=n}return e},0),e=0===l.semIndex?0:1===l.semIndex?t:t/2,2!==l.semIndex&&(o=Math.max(o.attach_plugBackLenSE[l.semIndex]||0,o.line_strokeWidth/2)+l.strokeWidth/2+l.height/4,e=(e+=0===l.semIndex?o:-o)<0?0:t<e?t:e),l.lineOffset&&(e=(e+=l.lineOffset)<0?0:t<e?t:e),n.startOffset=e,Xe(l,a,"startOffset",e)&&(l.elmOffset.startOffset.baseVal.value=e)))},l.updateShow=function(e){O.captionLabel.updateShow(l,e)},re&&(l.adjustEdge=function(e,t){l.bBox&&O.captionLabel.adjustEdge(t,l.bBox,l.strokeWidth/2)}),!0)},getOffsetPathData:function(e,c,n){var d,a,f=[];function y(e,t){return Math.abs(e.x-t.x)<3&&Math.abs(e.y-t.y)<3}return e.forEach(function(e){var t,n,a,i,o,l,r,s,u,h,p;2===e.length?(s=e[0],u=e[1],h=c,p=Math.atan2(s.y-u.y,u.x-s.x)+.5*Math.PI,t=[{x:s.x+Math.cos(p)*h,y:s.y+Math.sin(p)*h*-1},{x:u.x+Math.cos(p)*h,y:u.y+Math.sin(p)*h*-1}],d?(a=d.points,0<=(r=Math.atan2(a[1].y-a[0].y,a[0].x-a[1].x)-Math.atan2(e[0].y-e[1].y,e[1].x-e[0].x))&&r<=Math.PI?n={type:"line",points:t,inside:!0}:(o=Pe(a[0],a[1],c),i=Pe(t[1],t[0],c),l=a[0],s=t[1],p=(u=o).x-l.x,h=u.y-l.y,r=s.x-i.x,u=s.y-i.y,s=(-h*(l.x-i.x)+p*(l.y-i.y))/(-r*h+p*u),u=(r*(l.y-i.y)-u*(l.x-i.x))/(-r*h+p*u),n=(h=0<=s&&s<=1&&0<=u&&u<=1?{x:l.x+u*p,y:l.y+u*h}:null)?{type:"line",points:[a[1]=h,t[1]]}:(a[1]=y(i,o)?i:o,{type:"line",points:[i,t[1]]}),d.len=Ae(a[0],a[1]))):n={type:"line",points:t},n.len=Ae(n.points[0],n.points[1]),f.push(d=n)):(f.push({type:"cubic",points:function(e,t,n,a,i,o){for(var l,r,s=Te(e,t,n,a)/o,u=1/(o<i?i/o*s:s),h=[],p=0;r=(90-(l=Ne(e,t,n,a,p)).angle)*(Math.PI/180),h.push({x:l.x+Math.cos(r)*i,y:l.y+Math.sin(r)*i*-1}),!(1<=p);)1<(p+=u)&&(p=1);return h}(e[0],e[1],e[2],e[3],c,16)}),d=null)}),d=null,f.forEach(function(e){var t;d="line"===e.type?(e.inside&&(d.len>c?((t=d.points)[1]=Pe(t[0],t[1],-c),d.len=Ae(t[0],t[1])):(d.points=null,d.len=0),e.len>c+n?((t=e.points)[0]=Pe(t[1],t[0],-(c+n)),e.len=Ae(t[0],t[1])):(e.points=null,e.len=0)),e):null}),f.reduce(function(t,e){var n=e.points;return n&&(a&&y(n[0],a)||t.push({type:"M",values:[n[0].x,n[0].y]}),"line"===e.type?t.push({type:"L",values:[n[1].x,n[1].y]}):(n.shift(),n.forEach(function(e){t.push({type:"L",values:[e.x,e.y]})})),a=n[n.length-1]),t},[])},newText:function(e,t,n,a){var i,o,l,r,s=t.createElementNS(ae,"defs"),u=s.appendChild(t.createElementNS(ae,"path"));return u.id=i=n+"-path",(l=(o=t.createElementNS(ae,"text")).appendChild(t.createElementNS(ae,"textPath"))).href.baseVal="#"+i,l.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),l.textContent=e,"boolean"!=typeof h&&(h="paintOrder"in o.style),a&&!h?(o.id=e=n+"-text",s.appendChild(o),(r=(n=t.createElementNS(ae,"g")).appendChild(t.createElementNS(ae,"use"))).href.baseVal="#"+e,(t=n.appendChild(t.createElementNS(ae,"use"))).href.baseVal="#"+e,(r=r.style).strokeLinejoin="round",{elmPosition:o,elmPath:u,elmOffset:l,styleText:o.style,styleFill:t.style,styleStroke:r,styleShow:n.style,elmsAppend:[s,n]}):(r=o.style,a&&(r.strokeLinejoin="round",r.paintOrder="stroke"),{elmPosition:o,elmPath:u,elmOffset:l,styleText:r,styleFill:r,styleStroke:a?r:null,styleShow:r,elmsAppend:[s,o]})},initSvg:function(t,n){var e,a,i,o=O.pathLabel.newText(t.text,n.baseWindow.document,C+"-pathLabel-"+t._id,t.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(e){t[e]=o[e]}),t.isShown=!1,t.styleShow.visibility="hidden",O.captionLabel.textStyleProps.forEach(function(e){null!=t[e]&&(o.styleText[e]=t[e])}),o.elmsAppend.forEach(function(e){n.svg.appendChild(e)}),o.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),le&&(i=o.elmOffset.href.baseVal,o.elmOffset.href.baseVal=""),e=o.elmPosition.getBBox(),le&&(o.elmOffset.href.baseVal=i),o.styleText.textAnchor=["start","end","middle"][t.semIndex],2!==t.semIndex||t.lineOffset||o.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),t.height=e.height,t.outlineColor&&(a=e.height/9,o.styleStroke.strokeWidth=(a=10<a?10:a<2?2:a)+"px",o.styleStroke.stroke=t.outlineColor),t.strokeWidth=a||0,Ye(t.aplStats,O.pathLabel.stats),t.updateColor(n),t.updatePath(n),t.updateStartOffset(n),re&&$e(n,{}),t.updateShow(n)},bind:function(e,t){var n=t.props;return e.color||Ge(n,"cur_line_color",e.updateColor),Ge(n,"cur_line_strokeWidth",e.updatePath),Ge(n,"apl_path",e.updatePath),e.semIndex="startLabel"===t.optionName?0:"endLabel"===t.optionName?1:2,2===e.semIndex&&!e.lineOffset||Ge(n,"cur_attach_plugBackLenSE",e.updateStartOffset),Ge(n,"svgShow",e.updateShow),re&&Ge(n,"new_edge4viewBox",e.adjustEdge),O.pathLabel.initSvg(e,n),!0},unbind:function(e,t){var n=t.props;e.elmsAppend&&(e.elmsAppend.forEach(function(e){n.svg.removeChild(e)}),e.elmPosition=e.elmPath=e.elmOffset=e.styleFill=e.styleShow=e.elmsAppend=null),Ye(e.curStats,O.pathLabel.stats),Ye(e.aplStats,O.pathLabel.stats),e.color||De(n,"cur_line_color",e.updateColor),De(n,"cur_line_strokeWidth",e.updatePath),De(n,"apl_path",e.updatePath),2===e.semIndex&&!e.lineOffset||De(n,"cur_attach_plugBackLenSE",e.updateStartOffset),De(n,"svgShow",e.updateShow),re&&(De(n,"new_edge4viewBox",e.adjustEdge),$e(n,{}))},removeOption:function(e,t){var n=t.props,a={};a[t.optionName]="",it(n,a)},remove:function(t){t.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),t.boundTargets.forEach(function(e){O.pathLabel.unbind(t,e)}))}}},Object.keys(O).forEach(function(e){ot[e]=function(){return new M(O[e],Array.prototype.slice.call(arguments))}}),ot.positionByWindowResize=!0,window.addEventListener("resize",S.add(function(){ot.positionByWindowResize&&Object.keys(Se).forEach(function(e){$e(Se[e],{position:!0})})}),!1),ot}();',CK="modulepreload",EK=function(t){return"/build/"+t},VL={},Vi=function(e,i,s){let n=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),h=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));n=Promise.allSettled(i.map(d=>{if(d=EK(d),d in VL)return;VL[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":CK,f||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),f)return new Promise((x,b)=>{v.addEventListener("load",x),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(a){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=a,window.dispatchEvent(h),!h.defaultPrevented)throw a}return n.then(a=>{for(const h of a||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var OI={exports:{}};(function(t,e){(function(i,s){t.exports=s()})(om,function(){var i=1e3,s=6e4,n=36e5,l="millisecond",a="second",h="minute",d="hour",f="day",g="week",v="month",x="quarter",b="year",C="date",O="Invalid Date",P=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(D){var I=["th","st","nd","rd"],H=D%100;return"["+D+(I[(H-20)%10]||I[H]||I[0])+"]"}},S=function(D,I,H){var j=String(D);return!j||j.length>=I?D:""+Array(I+1-j.length).join(H)+D},y={s:S,z:function(D){var I=-D.utcOffset(),H=Math.abs(I),j=Math.floor(H/60),$=H%60;return(I<=0?"+":"-")+S(j,2,"0")+":"+S($,2,"0")},m:function D(I,H){if(I.date()<H.date())return-D(H,I);var j=12*(H.year()-I.year())+(H.month()-I.month()),$=I.clone().add(j,v),ae=H-$<0,X=I.clone().add(j+(ae?-1:1),v);return+(-(j+(H-$)/(ae?$-X:X-$))||0)},a:function(D){return D<0?Math.ceil(D)||0:Math.floor(D)},p:function(D){return{M:v,y:b,w:g,d:f,D:C,h:d,m:h,s:a,ms:l,Q:x}[D]||String(D||"").toLowerCase().replace(/s$/,"")},u:function(D){return D===void 0}},k="en",T={};T[k]=u;var A="$isDayjsObject",F=function(D){return D instanceof w||!(!D||!D[A])},z=function D(I,H,j){var $;if(!I)return k;if(typeof I=="string"){var ae=I.toLowerCase();T[ae]&&($=ae),H&&(T[ae]=H,$=ae);var X=I.split("-");if(!$&&X.length>1)return D(X[0])}else{var Y=I.name;T[Y]=I,$=Y}return!j&&$&&(k=$),$||!j&&k},N=function(D,I){if(F(D))return D.clone();var H=typeof I=="object"?I:{};return H.date=D,H.args=arguments,new w(H)},m=y;m.l=z,m.i=F,m.w=function(D,I){return N(D,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})};var w=function(){function D(H){this.$L=z(H.locale,null,!0),this.parse(H),this.$x=this.$x||H.x||{},this[A]=!0}var I=D.prototype;return I.parse=function(H){this.$d=function(j){var $=j.date,ae=j.utc;if($===null)return new Date(NaN);if(m.u($))return new Date;if($ instanceof Date)return new Date($);if(typeof $=="string"&&!/Z$/i.test($)){var X=$.match(P);if(X){var Y=X[2]-1||0,ue=(X[7]||"0").substring(0,3);return ae?new Date(Date.UTC(X[1],Y,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ue)):new Date(X[1],Y,X[3]||1,X[4]||0,X[5]||0,X[6]||0,ue)}}return new Date($)}(H),this.init()},I.init=function(){var H=this.$d;this.$y=H.getFullYear(),this.$M=H.getMonth(),this.$D=H.getDate(),this.$W=H.getDay(),this.$H=H.getHours(),this.$m=H.getMinutes(),this.$s=H.getSeconds(),this.$ms=H.getMilliseconds()},I.$utils=function(){return m},I.isValid=function(){return this.$d.toString()!==O},I.isSame=function(H,j){var $=N(H);return this.startOf(j)<=$&&$<=this.endOf(j)},I.isAfter=function(H,j){return N(H)<this.startOf(j)},I.isBefore=function(H,j){return this.endOf(j)<N(H)},I.$g=function(H,j,$){return m.u(H)?this[j]:this.set($,H)},I.unix=function(){return Math.floor(this.valueOf()/1e3)},I.valueOf=function(){return this.$d.getTime()},I.startOf=function(H,j){var $=this,ae=!!m.u(j)||j,X=m.p(H),Y=function(tt,ye){var dt=m.w($.$u?Date.UTC($.$y,ye,tt):new Date($.$y,ye,tt),$);return ae?dt:dt.endOf(f)},ue=function(tt,ye){return m.w($.toDate()[tt].apply($.toDate("s"),(ae?[0,0,0,0]:[23,59,59,999]).slice(ye)),$)},be=this.$W,Oe=this.$M,me=this.$D,xe="set"+(this.$u?"UTC":"");switch(X){case b:return ae?Y(1,0):Y(31,11);case v:return ae?Y(1,Oe):Y(0,Oe+1);case g:var Ae=this.$locale().weekStart||0,$e=(be<Ae?be+7:be)-Ae;return Y(ae?me-$e:me+(6-$e),Oe);case f:case C:return ue(xe+"Hours",0);case d:return ue(xe+"Minutes",1);case h:return ue(xe+"Seconds",2);case a:return ue(xe+"Milliseconds",3);default:return this.clone()}},I.endOf=function(H){return this.startOf(H,!1)},I.$set=function(H,j){var $,ae=m.p(H),X="set"+(this.$u?"UTC":""),Y=($={},$[f]=X+"Date",$[C]=X+"Date",$[v]=X+"Month",$[b]=X+"FullYear",$[d]=X+"Hours",$[h]=X+"Minutes",$[a]=X+"Seconds",$[l]=X+"Milliseconds",$)[ae],ue=ae===f?this.$D+(j-this.$W):j;if(ae===v||ae===b){var be=this.clone().set(C,1);be.$d[Y](ue),be.init(),this.$d=be.set(C,Math.min(this.$D,be.daysInMonth())).$d}else Y&&this.$d[Y](ue);return this.init(),this},I.set=function(H,j){return this.clone().$set(H,j)},I.get=function(H){return this[m.p(H)]()},I.add=function(H,j){var $,ae=this;H=Number(H);var X=m.p(j),Y=function(Oe){var me=N(ae);return m.w(me.date(me.date()+Math.round(Oe*H)),ae)};if(X===v)return this.set(v,this.$M+H);if(X===b)return this.set(b,this.$y+H);if(X===f)return Y(1);if(X===g)return Y(7);var ue=($={},$[h]=s,$[d]=n,$[a]=i,$)[X]||1,be=this.$d.getTime()+H*ue;return m.w(be,this)},I.subtract=function(H,j){return this.add(-1*H,j)},I.format=function(H){var j=this,$=this.$locale();if(!this.isValid())return $.invalidDate||O;var ae=H||"YYYY-MM-DDTHH:mm:ssZ",X=m.z(this),Y=this.$H,ue=this.$m,be=this.$M,Oe=$.weekdays,me=$.months,xe=$.meridiem,Ae=function(ye,dt,ft,Gt){return ye&&(ye[dt]||ye(j,ae))||ft[dt].slice(0,Gt)},$e=function(ye){return m.s(Y%12||12,ye,"0")},tt=xe||function(ye,dt,ft){var Gt=ye<12?"AM":"PM";return ft?Gt.toLowerCase():Gt};return ae.replace(L,function(ye,dt){return dt||function(ft){switch(ft){case"YY":return String(j.$y).slice(-2);case"YYYY":return m.s(j.$y,4,"0");case"M":return be+1;case"MM":return m.s(be+1,2,"0");case"MMM":return Ae($.monthsShort,be,me,3);case"MMMM":return Ae(me,be);case"D":return j.$D;case"DD":return m.s(j.$D,2,"0");case"d":return String(j.$W);case"dd":return Ae($.weekdaysMin,j.$W,Oe,2);case"ddd":return Ae($.weekdaysShort,j.$W,Oe,3);case"dddd":return Oe[j.$W];case"H":return String(Y);case"HH":return m.s(Y,2,"0");case"h":return $e(1);case"hh":return $e(2);case"a":return tt(Y,ue,!0);case"A":return tt(Y,ue,!1);case"m":return String(ue);case"mm":return m.s(ue,2,"0");case"s":return String(j.$s);case"ss":return m.s(j.$s,2,"0");case"SSS":return m.s(j.$ms,3,"0");case"Z":return X}return null}(ye)||X.replace(":","")})},I.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},I.diff=function(H,j,$){var ae,X=this,Y=m.p(j),ue=N(H),be=(ue.utcOffset()-this.utcOffset())*s,Oe=this-ue,me=function(){return m.m(X,ue)};switch(Y){case b:ae=me()/12;break;case v:ae=me();break;case x:ae=me()/3;break;case g:ae=(Oe-be)/6048e5;break;case f:ae=(Oe-be)/864e5;break;case d:ae=Oe/n;break;case h:ae=Oe/s;break;case a:ae=Oe/i;break;default:ae=Oe}return $?ae:m.a(ae)},I.daysInMonth=function(){return this.endOf(v).$D},I.$locale=function(){return T[this.$L]},I.locale=function(H,j){if(!H)return this.$L;var $=this.clone(),ae=z(H,j,!0);return ae&&($.$L=ae),$},I.clone=function(){return m.w(this.$d,this)},I.toDate=function(){return new Date(this.valueOf())},I.toJSON=function(){return this.isValid()?this.toISOString():null},I.toISOString=function(){return this.$d.toISOString()},I.toString=function(){return this.$d.toUTCString()},D}(),M=w.prototype;return N.prototype=M,[["$ms",l],["$s",a],["$m",h],["$H",d],["$W",f],["$M",v],["$y",b],["$D",C]].forEach(function(D){M[D[1]]=function(I){return this.$g(I,D[0],D[1])}}),N.extend=function(D,I){return D.$i||(D(I,w,N),D.$i=!0),N},N.locale=z,N.isDayjs=F,N.unix=function(D){return N(1e3*D)},N.en=T[k],N.Ls=T,N.p={},N})})(OI);var OK=OI.exports;const MK=Qu(OK),My={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t),hsl2rgb:({h:t,s:e,l:i},s)=>{if(!e)return i*2.55;t/=360,e/=100,i/=100;const n=i<.5?i*(1+e):i+e-i*e,l=2*i-n;switch(s){case"r":return My.hue2rgb(l,n,t+1/3)*255;case"g":return My.hue2rgb(l,n,t)*255;case"b":return My.hue2rgb(l,n,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:i},s)=>{t/=255,e/=255,i/=255;const n=Math.max(t,e,i),l=Math.min(t,e,i),a=(n+l)/2;if(s==="l")return a*100;if(n===l)return 0;const h=n-l,d=a>.5?h/(2-n-l):h/(n+l);if(s==="s")return d*100;switch(n){case t:return((e-i)/h+(e<i?6:0))*60;case e:return((i-t)/h+2)*60;case i:return((t-e)/h+4)*60;default:return-1}}},AK={clamp:(t,e,i)=>e>i?Math.min(e,Math.max(i,t)):Math.min(i,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},PK={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},ti={channel:My,lang:AK,unit:PK},pl={};for(let t=0;t<=255;t++)pl[t]=ti.unit.dec2hex(t);const ws={ALL:0,RGB:1,HSL:2};class DK{constructor(){this.type=ws.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=ws.ALL}is(e){return this.type===e}}class LK{constructor(e,i){this.color=i,this.changed=!1,this.data=e,this.type=new DK}set(e,i){return this.color=i,this.changed=!1,this.data=e,this.type.type=ws.ALL,this}_ensureHSL(){const e=this.data,{h:i,s,l:n}=e;i===void 0&&(e.h=ti.channel.rgb2hsl(e,"h")),s===void 0&&(e.s=ti.channel.rgb2hsl(e,"s")),n===void 0&&(e.l=ti.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:i,g:s,b:n}=e;i===void 0&&(e.r=ti.channel.hsl2rgb(e,"r")),s===void 0&&(e.g=ti.channel.hsl2rgb(e,"g")),n===void 0&&(e.b=ti.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,i=e.r;return!this.type.is(ws.HSL)&&i!==void 0?i:(this._ensureHSL(),ti.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,i=e.g;return!this.type.is(ws.HSL)&&i!==void 0?i:(this._ensureHSL(),ti.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,i=e.b;return!this.type.is(ws.HSL)&&i!==void 0?i:(this._ensureHSL(),ti.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,i=e.h;return!this.type.is(ws.RGB)&&i!==void 0?i:(this._ensureRGB(),ti.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,i=e.s;return!this.type.is(ws.RGB)&&i!==void 0?i:(this._ensureRGB(),ti.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,i=e.l;return!this.type.is(ws.RGB)&&i!==void 0?i:(this._ensureRGB(),ti.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(ws.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(ws.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(ws.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(ws.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(ws.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(ws.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const db=new LK({r:0,g:0,b:0,a:0},"transparent"),yu={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(yu.re);if(!e)return;const i=e[1],s=parseInt(i,16),n=i.length,l=n%4===0,a=n>4,h=a?1:17,d=a?8:4,f=l?0:-1,g=a?255:15;return db.set({r:(s>>d*(f+3)&g)*h,g:(s>>d*(f+2)&g)*h,b:(s>>d*(f+1)&g)*h,a:l?(s&g)*h/255:1},t)},stringify:t=>{const{r:e,g:i,b:s,a:n}=t;return n<1?`#${pl[Math.round(e)]}${pl[Math.round(i)]}${pl[Math.round(s)]}${pl[Math.round(n*255)]}`:`#${pl[Math.round(e)]}${pl[Math.round(i)]}${pl[Math.round(s)]}`}},$c={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match($c.hueRe);if(e){const[,i,s]=e;switch(s){case"grad":return ti.channel.clamp.h(parseFloat(i)*.9);case"rad":return ti.channel.clamp.h(parseFloat(i)*180/Math.PI);case"turn":return ti.channel.clamp.h(parseFloat(i)*360)}}return ti.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const i=t.match($c.re);if(!i)return;const[,s,n,l,a,h]=i;return db.set({h:$c._hue2deg(s),s:ti.channel.clamp.s(parseFloat(n)),l:ti.channel.clamp.l(parseFloat(l)),a:a?ti.channel.clamp.a(h?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:i,l:s,a:n}=t;return n<1?`hsla(${ti.lang.round(e)}, ${ti.lang.round(i)}%, ${ti.lang.round(s)}%, ${n})`:`hsl(${ti.lang.round(e)}, ${ti.lang.round(i)}%, ${ti.lang.round(s)}%)`}},wp={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=wp.colors[t];if(e)return yu.parse(e)},stringify:t=>{const e=yu.stringify(t);for(const i in wp.colors)if(wp.colors[i]===e)return i}},ip={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const i=t.match(ip.re);if(!i)return;const[,s,n,l,a,h,d,f,g]=i;return db.set({r:ti.channel.clamp.r(n?parseFloat(s)*2.55:parseFloat(s)),g:ti.channel.clamp.g(a?parseFloat(l)*2.55:parseFloat(l)),b:ti.channel.clamp.b(d?parseFloat(h)*2.55:parseFloat(h)),a:f?ti.channel.clamp.a(g?parseFloat(f)/100:parseFloat(f)):1},t)},stringify:t=>{const{r:e,g:i,b:s,a:n}=t;return n<1?`rgba(${ti.lang.round(e)}, ${ti.lang.round(i)}, ${ti.lang.round(s)}, ${ti.lang.round(n)})`:`rgb(${ti.lang.round(e)}, ${ti.lang.round(i)}, ${ti.lang.round(s)})`}},Xa={format:{keyword:wp,hex:yu,rgb:ip,rgba:ip,hsl:$c,hsla:$c},parse:t=>{if(typeof t!="string")return t;const e=yu.parse(t)||ip.parse(t)||$c.parse(t)||wp.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(ws.HSL)||t.data.r===void 0?$c.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?ip.stringify(t):yu.stringify(t)},MI=(t,e)=>{const i=Xa.parse(t);for(const s in e)i[s]=ti.channel.clamp[s](e[s]);return Xa.stringify(i)},xp=(t,e,i=0,s=1)=>{if(typeof t!="number")return MI(t,{a:e});const n=db.set({r:ti.channel.clamp.r(t),g:ti.channel.clamp.g(e),b:ti.channel.clamp.b(i),a:ti.channel.clamp.a(s)});return Xa.stringify(n)},RK=t=>{const{r:e,g:i,b:s}=Xa.parse(t),n=.2126*ti.channel.toLinear(e)+.7152*ti.channel.toLinear(i)+.0722*ti.channel.toLinear(s);return ti.lang.round(n)},FK=t=>RK(t)>=.5,hm=t=>!FK(t),AI=(t,e,i)=>{const s=Xa.parse(t),n=s[e],l=ti.channel.clamp[e](n+i);return n!==l&&(s[e]=l),Xa.stringify(s)},St=(t,e)=>AI(t,"l",e),zt=(t,e)=>AI(t,"l",-e),ge=(t,e)=>{const i=Xa.parse(t),s={};for(const n in e)e[n]&&(s[n]=i[n]+e[n]);return MI(t,s)},IK=(t,e,i=50)=>{const{r:s,g:n,b:l,a}=Xa.parse(t),{r:h,g:d,b:f,a:g}=Xa.parse(e),v=i/100,x=v*2-1,b=a-g,O=((x*b===-1?x:(x+b)/(1+x*b))+1)/2,P=1-O,L=s*O+h*P,u=n*O+d*P,S=l*O+f*P,y=a*v+g*(1-v);return xp(L,u,S,y)},ht=(t,e=100)=>{const i=Xa.parse(t);return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,IK(i,t,e)};/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:PI,setPrototypeOf:YL,isFrozen:BK,getPrototypeOf:NK,getOwnPropertyDescriptor:zK}=Object;let{freeze:$s,seal:qn,create:DI}=Object,{apply:Jx,construct:ek}=typeof Reflect<"u"&&Reflect;$s||($s=function(e){return e});qn||(qn=function(e){return e});Jx||(Jx=function(e,i,s){return e.apply(i,s)});ek||(ek=function(e,i){return new e(...i)});const ly=Vs(Array.prototype.forEach),UK=Vs(Array.prototype.lastIndexOf),GL=Vs(Array.prototype.pop),zf=Vs(Array.prototype.push),HK=Vs(Array.prototype.splice),Ay=Vs(String.prototype.toLowerCase),cx=Vs(String.prototype.toString),XL=Vs(String.prototype.match),Uf=Vs(String.prototype.replace),WK=Vs(String.prototype.indexOf),jK=Vs(String.prototype.trim),ha=Vs(Object.prototype.hasOwnProperty),zs=Vs(RegExp.prototype.test),Hf=qK(TypeError);function Vs(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,s=new Array(i>1?i-1:0),n=1;n<i;n++)s[n-1]=arguments[n];return Jx(t,e,s)}}function qK(t){return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return ek(t,i)}}function vi(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ay;YL&&YL(t,null);let s=e.length;for(;s--;){let n=e[s];if(typeof n=="string"){const l=i(n);l!==n&&(BK(e)||(e[s]=l),n=l)}t[n]=!0}return t}function $K(t){for(let e=0;e<t.length;e++)ha(t,e)||(t[e]=null);return t}function Bc(t){const e=DI(null);for(const[i,s]of PI(t))ha(t,i)&&(Array.isArray(s)?e[i]=$K(s):s&&typeof s=="object"&&s.constructor===Object?e[i]=Bc(s):e[i]=s);return e}function Wf(t,e){for(;t!==null;){const s=zK(t,e);if(s){if(s.get)return Vs(s.get);if(typeof s.value=="function")return Vs(s.value)}t=NK(t)}function i(){return null}return i}const KL=$s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),hx=$s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ux=$s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),VK=$s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),dx=$s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),YK=$s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ZL=$s(["#text"]),QL=$s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fx=$s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),JL=$s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),cy=$s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),GK=qn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),XK=qn(/<%[\w\W]*|[\w\W]*%>/gm),KK=qn(/\$\{[\w\W]*/gm),ZK=qn(/^data-[\-\w.\u00B7-\uFFFF]+$/),QK=qn(/^aria-[\-\w]+$/),LI=qn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),JK=qn(/^(?:\w+script|data):/i),eZ=qn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),RI=qn(/^html$/i),tZ=qn(/^[a-z][.\w]*(-[.\w]+)+$/i);var eR=Object.freeze({__proto__:null,ARIA_ATTR:QK,ATTR_WHITESPACE:eZ,CUSTOM_ELEMENT:tZ,DATA_ATTR:ZK,DOCTYPE_NAME:RI,ERB_EXPR:XK,IS_ALLOWED_URI:LI,IS_SCRIPT_OR_DATA:JK,MUSTACHE_EXPR:GK,TMPLIT_EXPR:KK});const jf={element:1,text:3,progressingInstruction:7,comment:8,document:9},iZ=function(){return typeof window>"u"?null:window},rZ=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const n="data-tt-policy-suffix";i&&i.hasAttribute(n)&&(s=i.getAttribute(n));const l="dompurify"+(s?"#"+s:"");try{return e.createPolicy(l,{createHTML(a){return a},createScriptURL(a){return a}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},tR=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function FI(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iZ();const e=Mt=>FI(Mt);if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==jf.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t;const s=i,n=s.currentScript,{DocumentFragment:l,HTMLTemplateElement:a,Node:h,Element:d,NodeFilter:f,NamedNodeMap:g=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:v,DOMParser:x,trustedTypes:b}=t,C=d.prototype,O=Wf(C,"cloneNode"),P=Wf(C,"remove"),L=Wf(C,"nextSibling"),u=Wf(C,"childNodes"),S=Wf(C,"parentNode");if(typeof a=="function"){const Mt=i.createElement("template");Mt.content&&Mt.content.ownerDocument&&(i=Mt.content.ownerDocument)}let y,k="";const{implementation:T,createNodeIterator:A,createDocumentFragment:F,getElementsByTagName:z}=i,{importNode:N}=s;let m=tR();e.isSupported=typeof PI=="function"&&typeof S=="function"&&T&&T.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:w,ERB_EXPR:M,TMPLIT_EXPR:D,DATA_ATTR:I,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:$,CUSTOM_ELEMENT:ae}=eR;let{IS_ALLOWED_URI:X}=eR,Y=null;const ue=vi({},[...KL,...hx,...ux,...dx,...ZL]);let be=null;const Oe=vi({},[...QL,...fx,...JL,...cy]);let me=Object.seal(DI(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Ae=null,$e=!0,tt=!0,ye=!1,dt=!0,ft=!1,Gt=!0,Re=!1,ri=!1,fi=!1,ci=!1,Ve=!1,Yi=!1,Fi=!0,Or=!1;const Br="user-content-";let Ai=!0,Wi=!1,Q={},ce=null;const oe=vi({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Se=null;const Te=vi({},["audio","video","img","source","image","track"]);let Me=null;const it=vi({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),vt="http://www.w3.org/1998/Math/MathML",Ct="http://www.w3.org/2000/svg",re="http://www.w3.org/1999/xhtml";let ke=re,Be=!1,Ee=null;const Fe=vi({},[vt,Ct,re],cx);let De=vi({},["mi","mo","mn","ms","mtext"]),st=vi({},["annotation-xml"]);const pt=vi({},["title","style","font","a","script"]);let ii=null;const oi=["application/xhtml+xml","text/html"],ee="text/html";let te=null,he=null;const _e=i.createElement("form"),Ye=function(fe){return fe instanceof RegExp||fe instanceof Function},Je=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(he&&he===fe)){if((!fe||typeof fe!="object")&&(fe={}),fe=Bc(fe),ii=oi.indexOf(fe.PARSER_MEDIA_TYPE)===-1?ee:fe.PARSER_MEDIA_TYPE,te=ii==="application/xhtml+xml"?cx:Ay,Y=ha(fe,"ALLOWED_TAGS")?vi({},fe.ALLOWED_TAGS,te):ue,be=ha(fe,"ALLOWED_ATTR")?vi({},fe.ALLOWED_ATTR,te):Oe,Ee=ha(fe,"ALLOWED_NAMESPACES")?vi({},fe.ALLOWED_NAMESPACES,cx):Fe,Me=ha(fe,"ADD_URI_SAFE_ATTR")?vi(Bc(it),fe.ADD_URI_SAFE_ATTR,te):it,Se=ha(fe,"ADD_DATA_URI_TAGS")?vi(Bc(Te),fe.ADD_DATA_URI_TAGS,te):Te,ce=ha(fe,"FORBID_CONTENTS")?vi({},fe.FORBID_CONTENTS,te):oe,xe=ha(fe,"FORBID_TAGS")?vi({},fe.FORBID_TAGS,te):{},Ae=ha(fe,"FORBID_ATTR")?vi({},fe.FORBID_ATTR,te):{},Q=ha(fe,"USE_PROFILES")?fe.USE_PROFILES:!1,$e=fe.ALLOW_ARIA_ATTR!==!1,tt=fe.ALLOW_DATA_ATTR!==!1,ye=fe.ALLOW_UNKNOWN_PROTOCOLS||!1,dt=fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ft=fe.SAFE_FOR_TEMPLATES||!1,Gt=fe.SAFE_FOR_XML!==!1,Re=fe.WHOLE_DOCUMENT||!1,ci=fe.RETURN_DOM||!1,Ve=fe.RETURN_DOM_FRAGMENT||!1,Yi=fe.RETURN_TRUSTED_TYPE||!1,fi=fe.FORCE_BODY||!1,Fi=fe.SANITIZE_DOM!==!1,Or=fe.SANITIZE_NAMED_PROPS||!1,Ai=fe.KEEP_CONTENT!==!1,Wi=fe.IN_PLACE||!1,X=fe.ALLOWED_URI_REGEXP||LI,ke=fe.NAMESPACE||re,De=fe.MATHML_TEXT_INTEGRATION_POINTS||De,st=fe.HTML_INTEGRATION_POINTS||st,me=fe.CUSTOM_ELEMENT_HANDLING||{},fe.CUSTOM_ELEMENT_HANDLING&&Ye(fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(me.tagNameCheck=fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&Ye(fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(me.attributeNameCheck=fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&typeof fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(me.allowCustomizedBuiltInElements=fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ft&&(tt=!1),Ve&&(ci=!0),Q&&(Y=vi({},ZL),be=[],Q.html===!0&&(vi(Y,KL),vi(be,QL)),Q.svg===!0&&(vi(Y,hx),vi(be,fx),vi(be,cy)),Q.svgFilters===!0&&(vi(Y,ux),vi(be,fx),vi(be,cy)),Q.mathMl===!0&&(vi(Y,dx),vi(be,JL),vi(be,cy))),fe.ADD_TAGS&&(Y===ue&&(Y=Bc(Y)),vi(Y,fe.ADD_TAGS,te)),fe.ADD_ATTR&&(be===Oe&&(be=Bc(be)),vi(be,fe.ADD_ATTR,te)),fe.ADD_URI_SAFE_ATTR&&vi(Me,fe.ADD_URI_SAFE_ATTR,te),fe.FORBID_CONTENTS&&(ce===oe&&(ce=Bc(ce)),vi(ce,fe.FORBID_CONTENTS,te)),Ai&&(Y["#text"]=!0),Re&&vi(Y,["html","head","body"]),Y.table&&(vi(Y,["tbody"]),delete xe.tbody),fe.TRUSTED_TYPES_POLICY){if(typeof fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Hf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Hf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=fe.TRUSTED_TYPES_POLICY,k=y.createHTML("")}else y===void 0&&(y=rZ(b,n)),y!==null&&typeof k=="string"&&(k=y.createHTML(""));$s&&$s(fe),he=fe}},$t=vi({},[...hx,...ux,...VK]),bt=vi({},[...dx,...YK]),jt=function(fe){let Ke=S(fe);(!Ke||!Ke.tagName)&&(Ke={namespaceURI:ke,tagName:"template"});const kt=Ay(fe.tagName),Gi=Ay(Ke.tagName);return Ee[fe.namespaceURI]?fe.namespaceURI===Ct?Ke.namespaceURI===re?kt==="svg":Ke.namespaceURI===vt?kt==="svg"&&(Gi==="annotation-xml"||De[Gi]):!!$t[kt]:fe.namespaceURI===vt?Ke.namespaceURI===re?kt==="math":Ke.namespaceURI===Ct?kt==="math"&&st[Gi]:!!bt[kt]:fe.namespaceURI===re?Ke.namespaceURI===Ct&&!st[Gi]||Ke.namespaceURI===vt&&!De[Gi]?!1:!bt[kt]&&(pt[kt]||!$t[kt]):!!(ii==="application/xhtml+xml"&&Ee[fe.namespaceURI]):!1},nt=function(fe){zf(e.removed,{element:fe});try{S(fe).removeChild(fe)}catch{P(fe)}},Bt=function(fe,Ke){try{zf(e.removed,{attribute:Ke.getAttributeNode(fe),from:Ke})}catch{zf(e.removed,{attribute:null,from:Ke})}if(Ke.removeAttribute(fe),fe==="is")if(ci||Ve)try{nt(Ke)}catch{}else try{Ke.setAttribute(fe,"")}catch{}},pi=function(fe){let Ke=null,kt=null;if(fi)fe="<remove></remove>"+fe;else{const Rt=XL(fe,/^[\r\n\t ]+/);kt=Rt&&Rt[0]}ii==="application/xhtml+xml"&&ke===re&&(fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fe+"</body></html>");const Gi=y?y.createHTML(fe):fe;if(ke===re)try{Ke=new x().parseFromString(Gi,ii)}catch{}if(!Ke||!Ke.documentElement){Ke=T.createDocument(ke,"template",null);try{Ke.documentElement.innerHTML=Be?k:Gi}catch{}}const mr=Ke.body||Ke.documentElement;return fe&&kt&&mr.insertBefore(i.createTextNode(kt),mr.childNodes[0]||null),ke===re?z.call(Ke,Re?"html":"body")[0]:Re?Ke.documentElement:mr},hr=function(fe){return A.call(fe.ownerDocument||fe,fe,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},yr=function(fe){return fe instanceof v&&(typeof fe.nodeName!="string"||typeof fe.textContent!="string"||typeof fe.removeChild!="function"||!(fe.attributes instanceof g)||typeof fe.removeAttribute!="function"||typeof fe.setAttribute!="function"||typeof fe.namespaceURI!="string"||typeof fe.insertBefore!="function"||typeof fe.hasChildNodes!="function")},Kn=function(fe){return typeof h=="function"&&fe instanceof h};function Nr(Mt,fe,Ke){ly(Mt,kt=>{kt.call(e,fe,Ke,he)})}const Bl=function(fe){let Ke=null;if(Nr(m.beforeSanitizeElements,fe,null),yr(fe))return nt(fe),!0;const kt=te(fe.nodeName);if(Nr(m.uponSanitizeElement,fe,{tagName:kt,allowedTags:Y}),fe.hasChildNodes()&&!Kn(fe.firstElementChild)&&zs(/<[/\w!]/g,fe.innerHTML)&&zs(/<[/\w!]/g,fe.textContent)||fe.nodeType===jf.progressingInstruction||Gt&&fe.nodeType===jf.comment&&zs(/<[/\w]/g,fe.data))return nt(fe),!0;if(!Y[kt]||xe[kt]){if(!xe[kt]&&Nl(kt)&&(me.tagNameCheck instanceof RegExp&&zs(me.tagNameCheck,kt)||me.tagNameCheck instanceof Function&&me.tagNameCheck(kt)))return!1;if(Ai&&!ce[kt]){const Gi=S(fe)||fe.parentNode,mr=u(fe)||fe.childNodes;if(mr&&Gi){const Rt=mr.length;for(let Jr=Rt-1;Jr>=0;--Jr){const ps=O(mr[Jr],!0);ps.__removalCount=(fe.__removalCount||0)+1,Gi.insertBefore(ps,L(fe))}}}return nt(fe),!0}return fe instanceof d&&!jt(fe)||(kt==="noscript"||kt==="noembed"||kt==="noframes")&&zs(/<\/no(script|embed|frames)/i,fe.innerHTML)?(nt(fe),!0):(ft&&fe.nodeType===jf.text&&(Ke=fe.textContent,ly([w,M,D],Gi=>{Ke=Uf(Ke,Gi," ")}),fe.textContent!==Ke&&(zf(e.removed,{element:fe.cloneNode()}),fe.textContent=Ke)),Nr(m.afterSanitizeElements,fe,null),!1)},to=function(fe,Ke,kt){if(Fi&&(Ke==="id"||Ke==="name")&&(kt in i||kt in _e))return!1;if(!(tt&&!Ae[Ke]&&zs(I,Ke))){if(!($e&&zs(H,Ke))){if(!be[Ke]||Ae[Ke]){if(!(Nl(fe)&&(me.tagNameCheck instanceof RegExp&&zs(me.tagNameCheck,fe)||me.tagNameCheck instanceof Function&&me.tagNameCheck(fe))&&(me.attributeNameCheck instanceof RegExp&&zs(me.attributeNameCheck,Ke)||me.attributeNameCheck instanceof Function&&me.attributeNameCheck(Ke))||Ke==="is"&&me.allowCustomizedBuiltInElements&&(me.tagNameCheck instanceof RegExp&&zs(me.tagNameCheck,kt)||me.tagNameCheck instanceof Function&&me.tagNameCheck(kt))))return!1}else if(!Me[Ke]){if(!zs(X,Uf(kt,$,""))){if(!((Ke==="src"||Ke==="xlink:href"||Ke==="href")&&fe!=="script"&&WK(kt,"data:")===0&&Se[fe])){if(!(ye&&!zs(j,Uf(kt,$,"")))){if(kt)return!1}}}}}}return!0},Nl=function(fe){return fe!=="annotation-xml"&&XL(fe,ae)},zl=function(fe){Nr(m.beforeSanitizeAttributes,fe,null);const{attributes:Ke}=fe;if(!Ke||yr(fe))return;const kt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:be,forceKeepAttr:void 0};let Gi=Ke.length;for(;Gi--;){const mr=Ke[Gi],{name:Rt,namespaceURI:Jr,value:ps}=mr,tl=te(Rt);let Mr=Rt==="value"?ps:jK(ps);if(kt.attrName=tl,kt.attrValue=Mr,kt.keepAttr=!0,kt.forceKeepAttr=void 0,Nr(m.uponSanitizeAttribute,fe,kt),Mr=kt.attrValue,Or&&(tl==="id"||tl==="name")&&(Bt(Rt,fe),Mr=Br+Mr),Gt&&zs(/((--!?|])>)|<\/(style|title)/i,Mr)){Bt(Rt,fe);continue}if(kt.forceKeepAttr||(Bt(Rt,fe),!kt.keepAttr))continue;if(!dt&&zs(/\/>/i,Mr)){Bt(Rt,fe);continue}ft&&ly([w,M,D],wm=>{Mr=Uf(Mr,wm," ")});const od=te(fe.nodeName);if(to(od,tl,Mr)){if(y&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!Jr)switch(b.getAttributeType(od,tl)){case"TrustedHTML":{Mr=y.createHTML(Mr);break}case"TrustedScriptURL":{Mr=y.createScriptURL(Mr);break}}try{Jr?fe.setAttributeNS(Jr,Rt,Mr):fe.setAttribute(Rt,Mr),yr(fe)?nt(fe):GL(e.removed)}catch{}}}Nr(m.afterSanitizeAttributes,fe,null)},xh=function Mt(fe){let Ke=null;const kt=hr(fe);for(Nr(m.beforeSanitizeShadowDOM,fe,null);Ke=kt.nextNode();)Nr(m.uponSanitizeShadowNode,Ke,null),Bl(Ke),zl(Ke),Ke.content instanceof l&&Mt(Ke.content);Nr(m.afterSanitizeShadowDOM,fe,null)};return e.sanitize=function(Mt){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=null,kt=null,Gi=null,mr=null;if(Be=!Mt,Be&&(Mt="<!-->"),typeof Mt!="string"&&!Kn(Mt))if(typeof Mt.toString=="function"){if(Mt=Mt.toString(),typeof Mt!="string")throw Hf("dirty is not a string, aborting")}else throw Hf("toString is not a function");if(!e.isSupported)return Mt;if(ri||Je(fe),e.removed=[],typeof Mt=="string"&&(Wi=!1),Wi){if(Mt.nodeName){const ps=te(Mt.nodeName);if(!Y[ps]||xe[ps])throw Hf("root node is forbidden and cannot be sanitized in-place")}}else if(Mt instanceof h)Ke=pi("<!---->"),kt=Ke.ownerDocument.importNode(Mt,!0),kt.nodeType===jf.element&&kt.nodeName==="BODY"||kt.nodeName==="HTML"?Ke=kt:Ke.appendChild(kt);else{if(!ci&&!ft&&!Re&&Mt.indexOf("<")===-1)return y&&Yi?y.createHTML(Mt):Mt;if(Ke=pi(Mt),!Ke)return ci?null:Yi?k:""}Ke&&fi&&nt(Ke.firstChild);const Rt=hr(Wi?Mt:Ke);for(;Gi=Rt.nextNode();)Bl(Gi),zl(Gi),Gi.content instanceof l&&xh(Gi.content);if(Wi)return Mt;if(ci){if(Ve)for(mr=F.call(Ke.ownerDocument);Ke.firstChild;)mr.appendChild(Ke.firstChild);else mr=Ke;return(be.shadowroot||be.shadowrootmode)&&(mr=N.call(s,mr,!0)),mr}let Jr=Re?Ke.outerHTML:Ke.innerHTML;return Re&&Y["!doctype"]&&Ke.ownerDocument&&Ke.ownerDocument.doctype&&Ke.ownerDocument.doctype.name&&zs(RI,Ke.ownerDocument.doctype.name)&&(Jr="<!DOCTYPE "+Ke.ownerDocument.doctype.name+`>
`+Jr),ft&&ly([w,M,D],ps=>{Jr=Uf(Jr,ps," ")}),y&&Yi?y.createHTML(Jr):Jr},e.setConfig=function(){let Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Je(Mt),ri=!0},e.clearConfig=function(){he=null,ri=!1},e.isValidAttribute=function(Mt,fe,Ke){he||Je({});const kt=te(Mt),Gi=te(fe);return to(kt,Gi,Ke)},e.addHook=function(Mt,fe){typeof fe=="function"&&zf(m[Mt],fe)},e.removeHook=function(Mt,fe){if(fe!==void 0){const Ke=UK(m[Mt],fe);return Ke===-1?void 0:HK(m[Mt],Ke,1)[0]}return GL(m[Mt])},e.removeHooks=function(Mt){m[Mt]=[]},e.removeAllHooks=function(){m=tR()},e}var zu=FI(),II=Object.defineProperty,W=(t,e)=>II(t,"name",{value:e,configurable:!0}),sZ=(t,e)=>{for(var i in e)II(t,i,{get:e[i],enumerable:!0})},Eo={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},Ne={trace:W((...t)=>{},"trace"),debug:W((...t)=>{},"debug"),info:W((...t)=>{},"info"),warn:W((...t)=>{},"warn"),error:W((...t)=>{},"error"),fatal:W((...t)=>{},"fatal")},$S=W(function(t="fatal"){let e=Eo.fatal;typeof t=="string"?t.toLowerCase()in Eo&&(e=Eo[t]):typeof t=="number"&&(e=t),Ne.trace=()=>{},Ne.debug=()=>{},Ne.info=()=>{},Ne.warn=()=>{},Ne.error=()=>{},Ne.fatal=()=>{},e<=Eo.fatal&&(Ne.fatal=console.error?console.error.bind(console,Ln("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ln("FATAL"))),e<=Eo.error&&(Ne.error=console.error?console.error.bind(console,Ln("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ln("ERROR"))),e<=Eo.warn&&(Ne.warn=console.warn?console.warn.bind(console,Ln("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ln("WARN"))),e<=Eo.info&&(Ne.info=console.info?console.info.bind(console,Ln("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ln("INFO"))),e<=Eo.debug&&(Ne.debug=console.debug?console.debug.bind(console,Ln("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ln("DEBUG"))),e<=Eo.trace&&(Ne.trace=console.debug?console.debug.bind(console,Ln("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ln("TRACE")))},"setLogLevel"),Ln=W(t=>`%c${MK().format("ss.SSS")} : ${t} : `,"format"),BI=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,kp=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,nZ=/\s*%%.*\n/gm,_u,NI=(_u=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},W(_u,"UnknownDiagramError"),_u),oh={},VS=W(function(t,e){t=t.replace(BI,"").replace(kp,"").replace(nZ,`
`);for(const[i,{detector:s}]of Object.entries(oh))if(s(t,e))return i;throw new NI(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),tk=W((...t)=>{for(const{id:e,detector:i,loader:s}of t)zI(e,i,s)},"registerLazyLoadedDiagrams"),zI=W((t,e,i)=>{oh[t]&&Ne.warn(`Detector with key ${t} already exists. Overwriting.`),oh[t]={detector:e,loader:i},Ne.debug(`Detector with key ${t} added${i?" with loader":""}`)},"addDetector"),aZ=W(t=>oh[t].loader,"getDiagramLoader"),ik=W((t,e,{depth:i=2,clobber:s=!1}={})=>{const n={depth:i,clobber:s};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(l=>ik(t,l,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(l=>{t.includes(l)||t.push(l)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(l=>{typeof e[l]=="object"&&(t[l]===void 0||typeof t[l]=="object")?(t[l]===void 0&&(t[l]=Array.isArray(e[l])?[]:{}),t[l]=ik(t[l],e[l],{depth:i-1,clobber:s})):(s||typeof t[l]!="object"&&typeof e[l]!="object")&&(t[l]=e[l])}),t)},"assignWithDepth"),fs=ik,fb="#ffffff",pb="#f2f2f2",Hs=W((t,e)=>e?ge(t,{s:-40,l:10}):ge(t,{s:-40,l:-10}),"mkBorder"),wu,oZ=(wu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var i,s,n,l,a,h,d,f,g,v,x,b,C,O,P,L,u,S,y,k,T;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||ge(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||ge(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||Hs(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||Hs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||Hs(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||Hs(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||ht(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||ht(this.tertiaryColor),this.lineColor=this.lineColor||ht(this.background),this.arrowheadColor=this.arrowheadColor||ht(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||zt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||ht(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||St(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||zt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||zt(this.mainBkg,10)):(this.rowOdd=this.rowOdd||St(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||St(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330}),this.darkMode)for(let A=0;A<this.THEME_COLOR_LIMIT;A++)this["cScale"+A]=zt(this["cScale"+A],75);else for(let A=0;A<this.THEME_COLOR_LIMIT;A++)this["cScale"+A]=zt(this["cScale"+A],25);for(let A=0;A<this.THEME_COLOR_LIMIT;A++)this["cScaleInv"+A]=this["cScaleInv"+A]||ht(this["cScale"+A]);for(let A=0;A<this.THEME_COLOR_LIMIT;A++)this.darkMode?this["cScalePeer"+A]=this["cScalePeer"+A]||St(this["cScale"+A],10):this["cScalePeer"+A]=this["cScalePeer"+A]||zt(this["cScale"+A],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let A=0;A<this.THEME_COLOR_LIMIT;A++)this["cScaleLabel"+A]=this["cScaleLabel"+A]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let A=0;A<5;A++)this["surface"+A]=this["surface"+A]||ge(this.mainBkg,{h:180,s:-15,l:e*(5+A*3)}),this["surfacePeer"+A]=this["surfacePeer"+A]||ge(this.mainBkg,{h:180,s:-15,l:e*(8+A*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||ge(this.primaryColor,{h:64}),this.fillType3=this.fillType3||ge(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||ge(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||ge(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||ge(this.primaryColor,{h:128}),this.fillType7=this.fillType7||ge(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ge(this.primaryColor,{l:-10}),this.pie5=this.pie5||ge(this.secondaryColor,{l:-10}),this.pie6=this.pie6||ge(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||ge(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ge(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ge(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ge(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||ge(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||ge(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((i=this.radar)==null?void 0:i.axisColor)||this.lineColor,axisStrokeWidth:((s=this.radar)==null?void 0:s.axisStrokeWidth)||2,axisLabelFontSize:((n=this.radar)==null?void 0:n.axisLabelFontSize)||12,curveOpacity:((l=this.radar)==null?void 0:l.curveOpacity)||.5,curveStrokeWidth:((a=this.radar)==null?void 0:a.curveStrokeWidth)||2,graticuleColor:((h=this.radar)==null?void 0:h.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((d=this.radar)==null?void 0:d.graticuleStrokeWidth)||1,graticuleOpacity:((f=this.radar)==null?void 0:f.graticuleOpacity)||.3,legendBoxSize:((g=this.radar)==null?void 0:g.legendBoxSize)||12,legendFontSize:((v=this.radar)==null?void 0:v.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?St(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((x=this.xyChart)==null?void 0:x.backgroundColor)||this.background,titleColor:((b=this.xyChart)==null?void 0:b.titleColor)||this.primaryTextColor,xAxisTitleColor:((C=this.xyChart)==null?void 0:C.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((O=this.xyChart)==null?void 0:O.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((P=this.xyChart)==null?void 0:P.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((L=this.xyChart)==null?void 0:L.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((S=this.xyChart)==null?void 0:S.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)==null?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((k=this.xyChart)==null?void 0:k.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((T=this.xyChart)==null?void 0:T.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ge(this.primaryColor,{h:-30}),this.git4=this.git4||ge(this.primaryColor,{h:-60}),this.git5=this.git5||ge(this.primaryColor,{h:-90}),this.git6=this.git6||ge(this.primaryColor,{h:60}),this.git7=this.git7||ge(this.primaryColor,{h:120}),this.darkMode?(this.git0=St(this.git0,25),this.git1=St(this.git1,25),this.git2=St(this.git2,25),this.git3=St(this.git3,25),this.git4=St(this.git4,25),this.git5=St(this.git5,25),this.git6=St(this.git6,25),this.git7=St(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||fb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||pb}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},W(wu,"Theme"),wu),lZ=W(t=>{const e=new oZ;return e.calculate(t),e},"getThemeVariables"),xu,cZ=(xu=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=St(this.primaryColor,16),this.tertiaryColor=ge(this.primaryColor,{h:-160}),this.primaryBorderColor=ht(this.background),this.secondaryBorderColor=Hs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hs(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=St(ht("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=xp(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=zt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=zt(this.sectionBkgColor,10),this.taskBorderColor=xp(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=xp(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||St(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||zt(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,i,s,n,l,a,h,d,f,g,v,x,b,C,O,P,L,u,S,y,k;this.secondBkg=St(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=St(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=St(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330});for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||ht(this["cScale"+T]);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScalePeer"+T]=this["cScalePeer"+T]||St(this["cScale"+T],10);for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||ge(this.mainBkg,{h:30,s:-30,l:-(-10+T*4)}),this["surfacePeer"+T]=this["surfacePeer"+T]||ge(this.mainBkg,{h:30,s:-30,l:-(-7+T*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["pie"+T]=this["cScale"+T];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?St(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((s=this.xyChart)==null?void 0:s.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((d=this.xyChart)==null?void 0:d.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((g=this.xyChart)==null?void 0:g.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((v=this.xyChart)==null?void 0:v.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((x=this.radar)==null?void 0:x.axisColor)||this.lineColor,axisStrokeWidth:((b=this.radar)==null?void 0:b.axisStrokeWidth)||2,axisLabelFontSize:((C=this.radar)==null?void 0:C.axisLabelFontSize)||12,curveOpacity:((O=this.radar)==null?void 0:O.curveOpacity)||.5,curveStrokeWidth:((P=this.radar)==null?void 0:P.curveStrokeWidth)||2,graticuleColor:((L=this.radar)==null?void 0:L.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((S=this.radar)==null?void 0:S.graticuleOpacity)||.3,legendBoxSize:((y=this.radar)==null?void 0:y.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?zt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=St(this.secondaryColor,20),this.git1=St(this.pie2||this.secondaryColor,20),this.git2=St(this.pie3||this.tertiaryColor,20),this.git3=St(this.pie4||ge(this.primaryColor,{h:-30}),20),this.git4=St(this.pie5||ge(this.primaryColor,{h:-60}),20),this.git5=St(this.pie6||ge(this.primaryColor,{h:-90}),10),this.git6=St(this.pie7||ge(this.primaryColor,{h:60}),10),this.git7=St(this.pie8||ge(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||St(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||St(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},W(xu,"Theme"),xu),hZ=W(t=>{const e=new cZ;return e.calculate(t),e},"getThemeVariables"),ku,uZ=(ku=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=ge(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=ge(this.primaryColor,{h:-160}),this.primaryBorderColor=Hs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hs(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=xp(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,i,s,n,l,a,h,d,f,g,v,x,b,C,O,P,L,u,S,y,k;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||zt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||zt(this.tertiaryColor,40);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScale"+T]=zt(this["cScale"+T],10),this["cScalePeer"+T]=this["cScalePeer"+T]||zt(this["cScale"+T],25);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||ge(this["cScale"+T],{h:180});for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||ge(this.mainBkg,{h:30,l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||ge(this.mainBkg,{h:30,l:-(7+T*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||ht(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||ht(this.labelTextColor);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=St(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||St(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||St(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||ge(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||ge(this.primaryColor,{l:-10}),this.pie5=this.pie5||ge(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ge(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||ge(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||ge(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||ge(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||ge(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||ge(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||ge(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?St(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((g=this.radar)==null?void 0:g.legendFontSize)||12},this.xyChart={backgroundColor:((v=this.xyChart)==null?void 0:v.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((b=this.xyChart)==null?void 0:b.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((C=this.xyChart)==null?void 0:C.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((O=this.xyChart)==null?void 0:O.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((P=this.xyChart)==null?void 0:P.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((L=this.xyChart)==null?void 0:L.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((S=this.xyChart)==null?void 0:S.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ge(this.primaryColor,{h:-30}),this.git4=this.git4||ge(this.primaryColor,{h:-60}),this.git5=this.git5||ge(this.primaryColor,{h:-90}),this.git6=this.git6||ge(this.primaryColor,{h:60}),this.git7=this.git7||ge(this.primaryColor,{h:120}),this.darkMode?(this.git0=St(this.git0,25),this.git1=St(this.git1,25),this.git2=St(this.git2,25),this.git3=St(this.git3,25),this.git4=St(this.git4,25),this.git5=St(this.git5,25),this.git6=St(this.git6,25),this.git7=St(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||zt(ht(this.git0),25),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||fb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||pb}calculate(e){if(Object.keys(this).forEach(s=>{this[s]==="calculated"&&(this[s]=void 0)}),typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},W(ku,"Theme"),ku),dZ=W(t=>{const e=new uZ;return e.calculate(t),e},"getThemeVariables"),Su,fZ=(Su=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=St("#cde498",10),this.primaryBorderColor=Hs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hs(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.primaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,i,s,n,l,a,h,d,f,g,v,x,b,C,O,P,L,u,S,y,k;this.actorBorder=zt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||ge(this.primaryColor,{h:30}),this.cScale4=this.cScale4||ge(this.primaryColor,{h:60}),this.cScale5=this.cScale5||ge(this.primaryColor,{h:90}),this.cScale6=this.cScale6||ge(this.primaryColor,{h:120}),this.cScale7=this.cScale7||ge(this.primaryColor,{h:150}),this.cScale8=this.cScale8||ge(this.primaryColor,{h:210}),this.cScale9=this.cScale9||ge(this.primaryColor,{h:270}),this.cScale10=this.cScale10||ge(this.primaryColor,{h:300}),this.cScale11=this.cScale11||ge(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||zt(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||zt(this.tertiaryColor,40);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScale"+T]=zt(this["cScale"+T],10),this["cScalePeer"+T]=this["cScalePeer"+T]||zt(this["cScale"+T],25);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||ge(this["cScale"+T],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||ge(this.mainBkg,{h:30,s:-30,l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||ge(this.mainBkg,{h:30,s:-30,l:-(8+T*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||St(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||St(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||ge(this.primaryColor,{l:-30}),this.pie5=this.pie5||ge(this.secondaryColor,{l:-30}),this.pie6=this.pie6||ge(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||ge(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||ge(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||ge(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||ge(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||ge(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||ge(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?St(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((n=this.radar)==null?void 0:n.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((a=this.radar)==null?void 0:a.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((g=this.radar)==null?void 0:g.legendFontSize)||12},this.xyChart={backgroundColor:((v=this.xyChart)==null?void 0:v.backgroundColor)||this.background,titleColor:((x=this.xyChart)==null?void 0:x.titleColor)||this.primaryTextColor,xAxisTitleColor:((b=this.xyChart)==null?void 0:b.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((C=this.xyChart)==null?void 0:C.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((O=this.xyChart)==null?void 0:O.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((P=this.xyChart)==null?void 0:P.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((L=this.xyChart)==null?void 0:L.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((S=this.xyChart)==null?void 0:S.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((k=this.xyChart)==null?void 0:k.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||ge(this.primaryColor,{h:-30}),this.git4=this.git4||ge(this.primaryColor,{h:-60}),this.git5=this.git5||ge(this.primaryColor,{h:-90}),this.git6=this.git6||ge(this.primaryColor,{h:60}),this.git7=this.git7||ge(this.primaryColor,{h:120}),this.darkMode?(this.git0=St(this.git0,25),this.git1=St(this.git1,25),this.git2=St(this.git2,25),this.git3=St(this.git3,25),this.git4=St(this.git4,25),this.git5=St(this.git5,25),this.git6=St(this.git6,25),this.git7=St(this.git7,25)):(this.git0=zt(this.git0,25),this.git1=zt(this.git1,25),this.git2=zt(this.git2,25),this.git3=zt(this.git3,25),this.git4=zt(this.git4,25),this.git5=zt(this.git5,25),this.git6=zt(this.git6,25),this.git7=zt(this.git7,25)),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||ht(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||ht(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||fb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||pb}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},W(Su,"Theme"),Su),pZ=W(t=>{const e=new fZ;return e.calculate(t),e},"getThemeVariables"),Tu,mZ=(Tu=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=St(this.contrast,55),this.background="#ffffff",this.tertiaryColor=ge(this.primaryColor,{h:-160}),this.primaryBorderColor=Hs(this.primaryColor,this.darkMode),this.secondaryBorderColor=Hs(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=Hs(this.tertiaryColor,this.darkMode),this.primaryTextColor=ht(this.primaryColor),this.secondaryTextColor=ht(this.secondaryColor),this.tertiaryTextColor=ht(this.tertiaryColor),this.lineColor=ht(this.background),this.textColor=ht(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||St(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,i,s,n,l,a,h,d,f,g,v,x,b,C,O,P,L,u,S,y,k;this.secondBkg=St(this.contrast,55),this.border2=this.contrast,this.actorBorder=St(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleInv"+T]=this["cScaleInv"+T]||ht(this["cScale"+T]);for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this.darkMode?this["cScalePeer"+T]=this["cScalePeer"+T]||St(this["cScale"+T],10):this["cScalePeer"+T]=this["cScalePeer"+T]||zt(this["cScale"+T],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["cScaleLabel"+T]=this["cScaleLabel"+T]||this.scaleLabelColor;for(let T=0;T<5;T++)this["surface"+T]=this["surface"+T]||ge(this.mainBkg,{l:-(5+T*5)}),this["surfacePeer"+T]=this["surfacePeer"+T]||ge(this.mainBkg,{l:-(8+T*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=St(this.contrast,30),this.sectionBkgColor2=St(this.contrast,30),this.taskBorderColor=zt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=St(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=zt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=ge(this.primaryColor,{h:64}),this.fillType3=ge(this.secondaryColor,{h:64}),this.fillType4=ge(this.primaryColor,{h:-64}),this.fillType5=ge(this.secondaryColor,{h:-64}),this.fillType6=ge(this.primaryColor,{h:128}),this.fillType7=ge(this.secondaryColor,{h:128});for(let T=0;T<this.THEME_COLOR_LIMIT;T++)this["pie"+T]=this["cScale"+T];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||ge(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||ge(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||ge(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||ge(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||ge(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||ge(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||hm(this.quadrant1Fill)?St(this.quadrant1Fill):zt(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((s=this.xyChart)==null?void 0:s.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((n=this.xyChart)==null?void 0:n.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((a=this.xyChart)==null?void 0:a.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((d=this.xyChart)==null?void 0:d.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((f=this.xyChart)==null?void 0:f.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((g=this.xyChart)==null?void 0:g.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((v=this.xyChart)==null?void 0:v.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((x=this.radar)==null?void 0:x.axisColor)||this.lineColor,axisStrokeWidth:((b=this.radar)==null?void 0:b.axisStrokeWidth)||2,axisLabelFontSize:((C=this.radar)==null?void 0:C.axisLabelFontSize)||12,curveOpacity:((O=this.radar)==null?void 0:O.curveOpacity)||.5,curveStrokeWidth:((P=this.radar)==null?void 0:P.curveStrokeWidth)||2,graticuleColor:((L=this.radar)==null?void 0:L.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((S=this.radar)==null?void 0:S.graticuleOpacity)||.3,legendBoxSize:((y=this.radar)==null?void 0:y.legendBoxSize)||12,legendFontSize:((k=this.radar)==null?void 0:k.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=zt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||ge(this.primaryColor,{h:-30}),this.git4=this.pie5||ge(this.primaryColor,{h:-60}),this.git5=this.pie6||ge(this.primaryColor,{h:-90}),this.git6=this.pie7||ge(this.primaryColor,{h:60}),this.git7=this.pie8||ge(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||ht(this.git0),this.gitInv1=this.gitInv1||ht(this.git1),this.gitInv2=this.gitInv2||ht(this.git2),this.gitInv3=this.gitInv3||ht(this.git3),this.gitInv4=this.gitInv4||ht(this.git4),this.gitInv5=this.gitInv5||ht(this.git5),this.gitInv6=this.gitInv6||ht(this.git6),this.gitInv7=this.gitInv7||ht(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||fb,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||pb}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},W(Tu,"Theme"),Tu),gZ=W(t=>{const e=new mZ;return e.calculate(t),e},"getThemeVariables"),zo={base:{getThemeVariables:lZ},dark:{getThemeVariables:hZ},default:{getThemeVariables:dZ},forest:{getThemeVariables:pZ},neutral:{getThemeVariables:gZ}},Ra={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},UI={...Ra,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:zo.default.getThemeVariables(),sequence:{...Ra.sequence,messageFont:W(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:W(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:W(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...Ra.gantt,tickInterval:void 0,useWidth:void 0},c4:{...Ra.c4,useWidth:void 0,personFont:W(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...Ra.flowchart,inheritDir:!1},external_personFont:W(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:W(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:W(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:W(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:W(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:W(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:W(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:W(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:W(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:W(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:W(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:W(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:W(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:W(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:W(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:W(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:W(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:W(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:W(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:W(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:W(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...Ra.pie,useWidth:984},xyChart:{...Ra.xyChart,useWidth:void 0},requirement:{...Ra.requirement,useWidth:void 0},packet:{...Ra.packet},radar:{...Ra.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},HI=W((t,e="")=>Object.keys(t).reduce((i,s)=>Array.isArray(t[s])?i:typeof t[s]=="object"&&t[s]!==null?[...i,e+s,...HI(t[s],"")]:[...i,e+s],[]),"keyify"),yZ=new Set(HI(UI,"")),WI=UI,lv=W(t=>{if(Ne.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>lv(e));return}for(const e of Object.keys(t)){if(Ne.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!yZ.has(e)||t[e]==null){Ne.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){Ne.debug("sanitizing object",e),lv(t[e]);continue}const i=["themeCSS","fontFamily","altFontFamily"];for(const s of i)e.includes(s)&&(Ne.debug("sanitizing css option",e),t[e]=vZ(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const i=t.themeVariables[e];i!=null&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}Ne.debug("After sanitization",t)}},"sanitizeDirective"),vZ=W(t=>{let e=0,i=0;for(const s of t){if(e<i)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?e++:s==="}"&&i++}return e!==i?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Uu=Object.freeze(WI),tn=fs({},Uu),jI,Hu=[],Sp=fs({},Uu),mb=W((t,e)=>{let i=fs({},t),s={};for(const n of e)VI(n),s=fs(s,n);if(i=fs(i,s),s.theme&&s.theme in zo){const n=fs({},jI),l=fs(n.themeVariables||{},s.themeVariables);i.theme&&i.theme in zo&&(i.themeVariables=zo[i.theme].getThemeVariables(l))}return Sp=i,YI(Sp),Sp},"updateCurrentConfig"),bZ=W(t=>(tn=fs({},Uu),tn=fs(tn,t),t.theme&&zo[t.theme]&&(tn.themeVariables=zo[t.theme].getThemeVariables(t.themeVariables)),mb(tn,Hu),tn),"setSiteConfig"),_Z=W(t=>{jI=fs({},t)},"saveConfigFromInitialize"),wZ=W(t=>(tn=fs(tn,t),mb(tn,Hu),tn),"updateSiteConfig"),qI=W(()=>fs({},tn),"getSiteConfig"),$I=W(t=>(YI(t),fs(Sp,t),Es()),"setConfig"),Es=W(()=>fs({},Sp),"getConfig"),VI=W(t=>{t&&(["secure",...tn.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(Ne.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&VI(t[e])}))},"sanitize"),xZ=W(t=>{var e;lv(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),Hu.push(t),mb(tn,Hu)},"addDirective"),cv=W((t=tn)=>{Hu=[],mb(t,Hu)},"reset"),kZ={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},iR={},SZ=W(t=>{iR[t]||(Ne.warn(kZ[t]),iR[t]=!0)},"issueWarning"),YI=W(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&SZ("LAZY_LOAD_DEPRECATED")},"checkConfig"),um=/<br\s*\/?>/gi,TZ=W(t=>t?KI(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),CZ=(()=>{let t=!1;return()=>{t||(GI(),t=!0)}})();function GI(){const t="data-temp-href-target";zu.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),zu.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}W(GI,"setupDompurifyHooks");var XI=W(t=>(CZ(),zu.sanitize(t)),"removeScript"),rR=W((t,e)=>{var i;if(((i=e.flowchart)==null?void 0:i.htmlLabels)!==!1){const s=e.securityLevel;s==="antiscript"||s==="strict"?t=XI(t):s!=="loose"&&(t=KI(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=AZ(t))}return t},"sanitizeMore"),$n=W((t,e)=>t&&(e.dompurifyConfig?t=zu.sanitize(rR(t,e),e.dompurifyConfig).toString():t=zu.sanitize(rR(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),EZ=W((t,e)=>typeof t=="string"?$n(t,e):t.flat().map(i=>$n(i,e)),"sanitizeTextOrArray"),OZ=W(t=>um.test(t),"hasBreaks"),MZ=W(t=>t.split(um),"splitBreaks"),AZ=W(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),KI=W(t=>t.replace(um,"#br#"),"breakToPlaceholder"),ZI=W(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),Yr=W(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),PZ=W(function(...t){const e=t.filter(i=>!isNaN(i));return Math.max(...e)},"getMax"),DZ=W(function(...t){const e=t.filter(i=>!isNaN(i));return Math.min(...e)},"getMin"),sR=W(function(t){const e=t.split(/(,)/),i=[];for(let s=0;s<e.length;s++){let n=e[s];if(n===","&&s>0&&s+1<e.length){const l=e[s-1],a=e[s+1];LZ(l,a)&&(n=l+","+a,s++,i.pop())}i.push(RZ(n))}return i.join("")},"parseGenericTypes"),rk=W((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),LZ=W((t,e)=>{const i=rk(t,"~"),s=rk(e,"~");return i===1&&s===1},"shouldCombineSets"),RZ=W(t=>{const e=rk(t,"~");let i=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),i=!0);const s=[...t];let n=s.indexOf("~"),l=s.lastIndexOf("~");for(;n!==-1&&l!==-1&&n!==l;)s[n]="<",s[l]=">",n=s.indexOf("~"),l=s.lastIndexOf("~");return i&&s.unshift("~"),s.join("")},"processSet"),nR=W(()=>window.MathMLElement!==void 0,"isMathMLSupported"),sk=/\$\$(.*)\$\$/g,Wu=W(t=>{var e;return(((e=t.match(sk))==null?void 0:e.length)??0)>0},"hasKatex"),sde=W(async(t,e)=>{const i=document.createElement("div");i.innerHTML=await YS(t,e),i.id="katex-temp",i.style.visibility="hidden",i.style.position="absolute",i.style.top="0";const s=document.querySelector("body");s==null||s.insertAdjacentElement("beforeend",i);const n={width:i.clientWidth,height:i.clientHeight};return i.remove(),n},"calculateMathMLDimensions"),FZ=W(async(t,e)=>{if(!Wu(t))return t;if(!(nR()||e.legacyMathML||e.forceLegacyMathML))return t.replace(sk,"MathML is unsupported in this environment.");{const{default:i}=await Vi(async()=>{const{default:n}=await import("./katex-ChWnQ-fc.js");return{default:n}},[]),s=e.forceLegacyMathML||!nR()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split(um).map(n=>Wu(n)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${n}</div>`:`<div>${n}</div>`).join("").replace(sk,(n,l)=>i.renderToString(l,{throwOnError:!0,displayMode:!0,output:s}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),YS=W(async(t,e)=>$n(await FZ(t,e),e),"renderKatexSanitized"),td={getRows:TZ,sanitizeText:$n,sanitizeTextOrArray:EZ,hasBreaks:OZ,splitBreaks:MZ,lineBreakRegex:um,removeScript:XI,getUrl:ZI,evaluate:Yr,getMax:PZ,getMin:DZ},IZ=W(function(t,e){for(let i of e)t.attr(i[0],i[1])},"d3Attrs"),BZ=W(function(t,e,i){let s=new Map;return i?(s.set("width","100%"),s.set("style",`max-width: ${e}px;`)):(s.set("height",t),s.set("width",e)),s},"calculateSvgSizeAttrs"),QI=W(function(t,e,i,s){const n=BZ(e,i,s);IZ(t,n)},"configureSvgSize"),NZ=W(function(t,e,i,s){const n=e.node().getBBox(),l=n.width,a=n.height;Ne.info(`SVG bounds: ${l}x${a}`,n);let h=0,d=0;Ne.info(`Graph bounds: ${h}x${d}`,t),h=l+i*2,d=a+i*2,Ne.info(`Calculated bounds: ${h}x${d}`),QI(e,d,h,s);const f=`${n.x-i} ${n.y-i} ${n.width+2*i} ${n.height+2*i}`;e.attr("viewBox",f)},"setupGraphViewbox"),Py={},zZ=W((t,e,i)=>{let s="";return t in Py&&Py[t]?s=Py[t](i):Ne.warn(`No theme found for ${t}`),` & {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
    fill: ${i.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${i.errorBkgColor};
  }
  & .error-text {
    fill: ${i.errorTextColor};
    stroke: ${i.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${i.lineColor};
    stroke: ${i.lineColor};
  }
  & .marker.cross {
    stroke: ${i.lineColor};
  }

  & svg {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
  }
   & p {
    margin: 0
   }

  ${s}

  ${e}
`},"getStyles"),UZ=W((t,e)=>{e!==void 0&&(Py[t]=e)},"addStylesForDiagram"),HZ=zZ,JI={};sZ(JI,{clear:()=>WZ,getAccDescription:()=>VZ,getAccTitle:()=>qZ,getDiagramTitle:()=>GZ,setAccDescription:()=>$Z,setAccTitle:()=>jZ,setDiagramTitle:()=>YZ});var GS="",XS="",KS="",ZS=W(t=>$n(t,Es()),"sanitizeText"),WZ=W(()=>{GS="",KS="",XS=""},"clear"),jZ=W(t=>{GS=ZS(t).replace(/^\s+/g,"")},"setAccTitle"),qZ=W(()=>GS,"getAccTitle"),$Z=W(t=>{KS=ZS(t).replace(/\n\s+/g,`
`)},"setAccDescription"),VZ=W(()=>KS,"getAccDescription"),YZ=W(t=>{XS=ZS(t)},"setDiagramTitle"),GZ=W(()=>XS,"getDiagramTitle"),aR=Ne,XZ=$S,Ni=Es,nde=$I,ade=Uu,QS=W(t=>$n(t,Ni()),"sanitizeText"),KZ=NZ,ZZ=W(()=>JI,"getCommonDb"),hv={},uv=W((t,e,i)=>{var s;hv[t]&&aR.warn(`Diagram with id ${t} already registered. Overwriting.`),hv[t]=e,i&&zI(t,i),UZ(t,e.styles),(s=e.injectUtils)==null||s.call(e,aR,XZ,Ni,QS,KZ,ZZ(),()=>{})},"registerDiagram"),nk=W(t=>{if(t in hv)return hv[t];throw new QZ(t)},"getDiagram"),Cu,QZ=(Cu=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},W(Cu,"DiagramNotFoundError"),Cu);function JS(t){return typeof t>"u"||t===null}W(JS,"isNothing");function e5(t){return typeof t=="object"&&t!==null}W(e5,"isObject");function t5(t){return Array.isArray(t)?t:JS(t)?[]:[t]}W(t5,"toArray");function i5(t,e){var i,s,n,l;if(e)for(l=Object.keys(e),i=0,s=l.length;i<s;i+=1)n=l[i],t[n]=e[n];return t}W(i5,"extend");function r5(t,e){var i="",s;for(s=0;s<e;s+=1)i+=t;return i}W(r5,"repeat");function s5(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}W(s5,"isNegativeZero");var JZ=JS,eQ=e5,tQ=t5,iQ=r5,rQ=s5,sQ=i5,$r={isNothing:JZ,isObject:eQ,toArray:tQ,repeat:iQ,isNegativeZero:rQ,extend:sQ};function eT(t,e){var i="",s=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),s+" "+i):s}W(eT,"formatError");function ju(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=eT(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}W(ju,"YAMLException$1");ju.prototype=Object.create(Error.prototype);ju.prototype.constructor=ju;ju.prototype.toString=W(function(e){return this.name+": "+eT(this,e)},"toString");var sn=ju;function Dy(t,e,i,s,n){var l="",a="",h=Math.floor(n/2)-1;return s-e>h&&(l=" ... ",e=s-h+l.length),i-s>h&&(a=" ...",i=s+h-a.length),{str:l+t.slice(e,i).replace(/\t/g,"")+a,pos:s-e+l.length}}W(Dy,"getLine");function Ly(t,e){return $r.repeat(" ",e-t.length)+t}W(Ly,"padStart");function n5(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,s=[0],n=[],l,a=-1;l=i.exec(t.buffer);)n.push(l.index),s.push(l.index+l[0].length),t.position<=l.index&&a<0&&(a=s.length-2);a<0&&(a=s.length-1);var h="",d,f,g=Math.min(t.line+e.linesAfter,n.length).toString().length,v=e.maxLength-(e.indent+g+3);for(d=1;d<=e.linesBefore&&!(a-d<0);d++)f=Dy(t.buffer,s[a-d],n[a-d],t.position-(s[a]-s[a-d]),v),h=$r.repeat(" ",e.indent)+Ly((t.line-d+1).toString(),g)+" | "+f.str+`
`+h;for(f=Dy(t.buffer,s[a],n[a],t.position,v),h+=$r.repeat(" ",e.indent)+Ly((t.line+1).toString(),g)+" | "+f.str+`
`,h+=$r.repeat("-",e.indent+g+3+f.pos)+`^
`,d=1;d<=e.linesAfter&&!(a+d>=n.length);d++)f=Dy(t.buffer,s[a+d],n[a+d],t.position-(s[a]-s[a+d]),v),h+=$r.repeat(" ",e.indent)+Ly((t.line+d+1).toString(),g)+" | "+f.str+`
`;return h.replace(/\n$/,"")}W(n5,"makeSnippet");var nQ=n5,aQ=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],oQ=["scalar","sequence","mapping"];function a5(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(s){e[String(s)]=i})}),e}W(a5,"compileStyleAliases");function o5(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(aQ.indexOf(i)===-1)throw new sn('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=a5(e.styleAliases||null),oQ.indexOf(this.kind)===-1)throw new sn('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}W(o5,"Type$1");var Os=o5;function ak(t,e){var i=[];return t[e].forEach(function(s){var n=i.length;i.forEach(function(l,a){l.tag===s.tag&&l.kind===s.kind&&l.multi===s.multi&&(n=a)}),i[n]=s}),i}W(ak,"compileList");function l5(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function s(n){n.multi?(t.multi[n.kind].push(n),t.multi.fallback.push(n)):t[n.kind][n.tag]=t.fallback[n.tag]=n}for(W(s,"collectType"),e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(s);return t}W(l5,"compileMap");function dv(t){return this.extend(t)}W(dv,"Schema$1");dv.prototype.extend=W(function(e){var i=[],s=[];if(e instanceof Os)s.push(e);else if(Array.isArray(e))s=s.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(s=s.concat(e.explicit));else throw new sn("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(l){if(!(l instanceof Os))throw new sn("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new sn("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new sn("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(l){if(!(l instanceof Os))throw new sn("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var n=Object.create(dv.prototype);return n.implicit=(this.implicit||[]).concat(i),n.explicit=(this.explicit||[]).concat(s),n.compiledImplicit=ak(n,"implicit"),n.compiledExplicit=ak(n,"explicit"),n.compiledTypeMap=l5(n.compiledImplicit,n.compiledExplicit),n},"extend");var lQ=dv,cQ=new Os("tag:yaml.org,2002:str",{kind:"scalar",construct:W(function(t){return t!==null?t:""},"construct")}),hQ=new Os("tag:yaml.org,2002:seq",{kind:"sequence",construct:W(function(t){return t!==null?t:[]},"construct")}),uQ=new Os("tag:yaml.org,2002:map",{kind:"mapping",construct:W(function(t){return t!==null?t:{}},"construct")}),dQ=new lQ({explicit:[cQ,hQ,uQ]});function c5(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}W(c5,"resolveYamlNull");function h5(){return null}W(h5,"constructYamlNull");function u5(t){return t===null}W(u5,"isNull");var fQ=new Os("tag:yaml.org,2002:null",{kind:"scalar",resolve:c5,construct:h5,predicate:u5,represent:{canonical:W(function(){return"~"},"canonical"),lowercase:W(function(){return"null"},"lowercase"),uppercase:W(function(){return"NULL"},"uppercase"),camelcase:W(function(){return"Null"},"camelcase"),empty:W(function(){return""},"empty")},defaultStyle:"lowercase"});function d5(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}W(d5,"resolveYamlBoolean");function f5(t){return t==="true"||t==="True"||t==="TRUE"}W(f5,"constructYamlBoolean");function p5(t){return Object.prototype.toString.call(t)==="[object Boolean]"}W(p5,"isBoolean");var pQ=new Os("tag:yaml.org,2002:bool",{kind:"scalar",resolve:d5,construct:f5,predicate:p5,represent:{lowercase:W(function(t){return t?"true":"false"},"lowercase"),uppercase:W(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:W(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function m5(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}W(m5,"isHexCode");function g5(t){return 48<=t&&t<=55}W(g5,"isOctCode");function y5(t){return 48<=t&&t<=57}W(y5,"isDecCode");function v5(t){if(t===null)return!1;var e=t.length,i=0,s=!1,n;if(!e)return!1;if(n=t[i],(n==="-"||n==="+")&&(n=t[++i]),n==="0"){if(i+1===e)return!0;if(n=t[++i],n==="b"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(n!=="0"&&n!=="1")return!1;s=!0}return s&&n!=="_"}if(n==="x"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!m5(t.charCodeAt(i)))return!1;s=!0}return s&&n!=="_"}if(n==="o"){for(i++;i<e;i++)if(n=t[i],n!=="_"){if(!g5(t.charCodeAt(i)))return!1;s=!0}return s&&n!=="_"}}if(n==="_")return!1;for(;i<e;i++)if(n=t[i],n!=="_"){if(!y5(t.charCodeAt(i)))return!1;s=!0}return!(!s||n==="_")}W(v5,"resolveYamlInteger");function b5(t){var e=t,i=1,s;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),s=e[0],(s==="-"||s==="+")&&(s==="-"&&(i=-1),e=e.slice(1),s=e[0]),e==="0")return 0;if(s==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}W(b5,"constructYamlInteger");function _5(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!$r.isNegativeZero(t)}W(_5,"isInteger");var mQ=new Os("tag:yaml.org,2002:int",{kind:"scalar",resolve:v5,construct:b5,predicate:_5,represent:{binary:W(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:W(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:W(function(t){return t.toString(10)},"decimal"),hexadecimal:W(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),gQ=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function w5(t){return!(t===null||!gQ.test(t)||t[t.length-1]==="_")}W(w5,"resolveYamlFloat");function x5(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}W(x5,"constructYamlFloat");var yQ=/^[-+]?[0-9]+e/;function k5(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if($r.isNegativeZero(t))return"-0.0";return i=t.toString(10),yQ.test(i)?i.replace("e",".e"):i}W(k5,"representYamlFloat");function S5(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||$r.isNegativeZero(t))}W(S5,"isFloat");var vQ=new Os("tag:yaml.org,2002:float",{kind:"scalar",resolve:w5,construct:x5,predicate:S5,represent:k5,defaultStyle:"lowercase"}),T5=dQ.extend({implicit:[fQ,pQ,mQ,vQ]}),bQ=T5,C5=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),E5=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function O5(t){return t===null?!1:C5.exec(t)!==null||E5.exec(t)!==null}W(O5,"resolveYamlTimestamp");function M5(t){var e,i,s,n,l,a,h,d=0,f=null,g,v,x;if(e=C5.exec(t),e===null&&(e=E5.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],s=+e[2]-1,n=+e[3],!e[4])return new Date(Date.UTC(i,s,n));if(l=+e[4],a=+e[5],h=+e[6],e[7]){for(d=e[7].slice(0,3);d.length<3;)d+="0";d=+d}return e[9]&&(g=+e[10],v=+(e[11]||0),f=(g*60+v)*6e4,e[9]==="-"&&(f=-f)),x=new Date(Date.UTC(i,s,n,l,a,h,d)),f&&x.setTime(x.getTime()-f),x}W(M5,"constructYamlTimestamp");function A5(t){return t.toISOString()}W(A5,"representYamlTimestamp");var _Q=new Os("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:O5,construct:M5,instanceOf:Date,represent:A5});function P5(t){return t==="<<"||t===null}W(P5,"resolveYamlMerge");var wQ=new Os("tag:yaml.org,2002:merge",{kind:"scalar",resolve:P5}),tT=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function D5(t){if(t===null)return!1;var e,i,s=0,n=t.length,l=tT;for(i=0;i<n;i++)if(e=l.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;s+=6}return s%8===0}W(D5,"resolveYamlBinary");function L5(t){var e,i,s=t.replace(/[\r\n=]/g,""),n=s.length,l=tT,a=0,h=[];for(e=0;e<n;e++)e%4===0&&e&&(h.push(a>>16&255),h.push(a>>8&255),h.push(a&255)),a=a<<6|l.indexOf(s.charAt(e));return i=n%4*6,i===0?(h.push(a>>16&255),h.push(a>>8&255),h.push(a&255)):i===18?(h.push(a>>10&255),h.push(a>>2&255)):i===12&&h.push(a>>4&255),new Uint8Array(h)}W(L5,"constructYamlBinary");function R5(t){var e="",i=0,s,n,l=t.length,a=tT;for(s=0;s<l;s++)s%3===0&&s&&(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]),i=(i<<8)+t[s];return n=l%3,n===0?(e+=a[i>>18&63],e+=a[i>>12&63],e+=a[i>>6&63],e+=a[i&63]):n===2?(e+=a[i>>10&63],e+=a[i>>4&63],e+=a[i<<2&63],e+=a[64]):n===1&&(e+=a[i>>2&63],e+=a[i<<4&63],e+=a[64],e+=a[64]),e}W(R5,"representYamlBinary");function F5(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}W(F5,"isBinary");var xQ=new Os("tag:yaml.org,2002:binary",{kind:"scalar",resolve:D5,construct:L5,predicate:F5,represent:R5}),kQ=Object.prototype.hasOwnProperty,SQ=Object.prototype.toString;function I5(t){if(t===null)return!0;var e=[],i,s,n,l,a,h=t;for(i=0,s=h.length;i<s;i+=1){if(n=h[i],a=!1,SQ.call(n)!=="[object Object]")return!1;for(l in n)if(kQ.call(n,l))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(l)===-1)e.push(l);else return!1}return!0}W(I5,"resolveYamlOmap");function B5(t){return t!==null?t:[]}W(B5,"constructYamlOmap");var TQ=new Os("tag:yaml.org,2002:omap",{kind:"sequence",resolve:I5,construct:B5}),CQ=Object.prototype.toString;function N5(t){if(t===null)return!0;var e,i,s,n,l,a=t;for(l=new Array(a.length),e=0,i=a.length;e<i;e+=1){if(s=a[e],CQ.call(s)!=="[object Object]"||(n=Object.keys(s),n.length!==1))return!1;l[e]=[n[0],s[n[0]]]}return!0}W(N5,"resolveYamlPairs");function z5(t){if(t===null)return[];var e,i,s,n,l,a=t;for(l=new Array(a.length),e=0,i=a.length;e<i;e+=1)s=a[e],n=Object.keys(s),l[e]=[n[0],s[n[0]]];return l}W(z5,"constructYamlPairs");var EQ=new Os("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:N5,construct:z5}),OQ=Object.prototype.hasOwnProperty;function U5(t){if(t===null)return!0;var e,i=t;for(e in i)if(OQ.call(i,e)&&i[e]!==null)return!1;return!0}W(U5,"resolveYamlSet");function H5(t){return t!==null?t:{}}W(H5,"constructYamlSet");var MQ=new Os("tag:yaml.org,2002:set",{kind:"mapping",resolve:U5,construct:H5}),W5=bQ.extend({implicit:[_Q,wQ],explicit:[xQ,TQ,EQ,MQ]}),Cl=Object.prototype.hasOwnProperty,fv=1,j5=2,q5=3,pv=4,px=1,AQ=2,oR=3,PQ=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,DQ=/[\x85\u2028\u2029]/,LQ=/[,\[\]\{\}]/,$5=/^(?:!|!!|![a-z\-]+!)$/i,V5=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function ok(t){return Object.prototype.toString.call(t)}W(ok,"_class");function ga(t){return t===10||t===13}W(ga,"is_EOL");function kl(t){return t===9||t===32}W(kl,"is_WHITE_SPACE");function Ws(t){return t===9||t===32||t===10||t===13}W(Ws,"is_WS_OR_EOL");function Vc(t){return t===44||t===91||t===93||t===123||t===125}W(Vc,"is_FLOW_INDICATOR");function Y5(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}W(Y5,"fromHexCode");function G5(t){return t===120?2:t===117?4:t===85?8:0}W(G5,"escapedHexLen");function X5(t){return 48<=t&&t<=57?t-48:-1}W(X5,"fromDecimalCode");function lk(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}W(lk,"simpleEscapeSequence");function K5(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}W(K5,"charFromCodepoint");var Z5=new Array(256),Q5=new Array(256);for(Rc=0;Rc<256;Rc++)Z5[Rc]=lk(Rc)?1:0,Q5[Rc]=lk(Rc);var Rc;function J5(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||W5,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}W(J5,"State$1");function iT(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=nQ(i),new sn(e,i)}W(iT,"generateError");function It(t,e){throw iT(t,e)}W(It,"throwError");function zp(t,e){t.onWarning&&t.onWarning.call(null,iT(t,e))}W(zp,"throwWarning");var lR={YAML:W(function(e,i,s){var n,l,a;e.version!==null&&It(e,"duplication of %YAML directive"),s.length!==1&&It(e,"YAML directive accepts exactly one argument"),n=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),n===null&&It(e,"ill-formed argument of the YAML directive"),l=parseInt(n[1],10),a=parseInt(n[2],10),l!==1&&It(e,"unacceptable YAML version of the document"),e.version=s[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&zp(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:W(function(e,i,s){var n,l;s.length!==2&&It(e,"TAG directive accepts exactly two arguments"),n=s[0],l=s[1],$5.test(n)||It(e,"ill-formed tag handle (first argument) of the TAG directive"),Cl.call(e.tagMap,n)&&It(e,'there is a previously declared suffix for "'+n+'" tag handle'),V5.test(l)||It(e,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{It(e,"tag prefix is malformed: "+l)}e.tagMap[n]=l},"handleTagDirective")};function Uo(t,e,i,s){var n,l,a,h;if(e<i){if(h=t.input.slice(e,i),s)for(n=0,l=h.length;n<l;n+=1)a=h.charCodeAt(n),a===9||32<=a&&a<=1114111||It(t,"expected valid JSON character");else PQ.test(h)&&It(t,"the stream contains non-printable characters");t.result+=h}}W(Uo,"captureSegment");function ck(t,e,i,s){var n,l,a,h;for($r.isObject(i)||It(t,"cannot merge mappings; the provided source object is unacceptable"),n=Object.keys(i),a=0,h=n.length;a<h;a+=1)l=n[a],Cl.call(e,l)||(e[l]=i[l],s[l]=!0)}W(ck,"mergeMappings");function Yc(t,e,i,s,n,l,a,h,d){var f,g;if(Array.isArray(n))for(n=Array.prototype.slice.call(n),f=0,g=n.length;f<g;f+=1)Array.isArray(n[f])&&It(t,"nested arrays are not supported inside keys"),typeof n=="object"&&ok(n[f])==="[object Object]"&&(n[f]="[object Object]");if(typeof n=="object"&&ok(n)==="[object Object]"&&(n="[object Object]"),n=String(n),e===null&&(e={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(f=0,g=l.length;f<g;f+=1)ck(t,e,l[f],i);else ck(t,e,l,i);else!t.json&&!Cl.call(i,n)&&Cl.call(e,n)&&(t.line=a||t.line,t.lineStart=h||t.lineStart,t.position=d||t.position,It(t,"duplicated mapping key")),n==="__proto__"?Object.defineProperty(e,n,{configurable:!0,enumerable:!0,writable:!0,value:l}):e[n]=l,delete i[n];return e}W(Yc,"storeMappingPair");function gb(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):It(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}W(gb,"readLineBreak");function Er(t,e,i){for(var s=0,n=t.input.charCodeAt(t.position);n!==0;){for(;kl(n);)n===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),n=t.input.charCodeAt(++t.position);if(e&&n===35)do n=t.input.charCodeAt(++t.position);while(n!==10&&n!==13&&n!==0);if(ga(n))for(gb(t),n=t.input.charCodeAt(t.position),s++,t.lineIndent=0;n===32;)t.lineIndent++,n=t.input.charCodeAt(++t.position);else break}return i!==-1&&s!==0&&t.lineIndent<i&&zp(t,"deficient indentation"),s}W(Er,"skipSeparationSpace");function dm(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||Ws(i)))}W(dm,"testDocumentSeparator");function yb(t,e){e===1?t.result+=" ":e>1&&(t.result+=$r.repeat(`
`,e-1))}W(yb,"writeFoldedLines");function eB(t,e,i){var s,n,l,a,h,d,f,g,v=t.kind,x=t.result,b;if(b=t.input.charCodeAt(t.position),Ws(b)||Vc(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(n=t.input.charCodeAt(t.position+1),Ws(n)||i&&Vc(n)))return!1;for(t.kind="scalar",t.result="",l=a=t.position,h=!1;b!==0;){if(b===58){if(n=t.input.charCodeAt(t.position+1),Ws(n)||i&&Vc(n))break}else if(b===35){if(s=t.input.charCodeAt(t.position-1),Ws(s))break}else{if(t.position===t.lineStart&&dm(t)||i&&Vc(b))break;if(ga(b))if(d=t.line,f=t.lineStart,g=t.lineIndent,Er(t,!1,-1),t.lineIndent>=e){h=!0,b=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=d,t.lineStart=f,t.lineIndent=g;break}}h&&(Uo(t,l,a,!1),yb(t,t.line-d),l=a=t.position,h=!1),kl(b)||(a=t.position+1),b=t.input.charCodeAt(++t.position)}return Uo(t,l,a,!1),t.result?!0:(t.kind=v,t.result=x,!1)}W(eB,"readPlainScalar");function tB(t,e){var i,s,n;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,s=n=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(Uo(t,s,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)s=t.position,t.position++,n=t.position;else return!0;else ga(i)?(Uo(t,s,n,!0),yb(t,Er(t,!1,e)),s=n=t.position):t.position===t.lineStart&&dm(t)?It(t,"unexpected end of the document within a single quoted scalar"):(t.position++,n=t.position);It(t,"unexpected end of the stream within a single quoted scalar")}W(tB,"readSingleQuotedScalar");function iB(t,e){var i,s,n,l,a,h;if(h=t.input.charCodeAt(t.position),h!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=s=t.position;(h=t.input.charCodeAt(t.position))!==0;){if(h===34)return Uo(t,i,t.position,!0),t.position++,!0;if(h===92){if(Uo(t,i,t.position,!0),h=t.input.charCodeAt(++t.position),ga(h))Er(t,!1,e);else if(h<256&&Z5[h])t.result+=Q5[h],t.position++;else if((a=G5(h))>0){for(n=a,l=0;n>0;n--)h=t.input.charCodeAt(++t.position),(a=Y5(h))>=0?l=(l<<4)+a:It(t,"expected hexadecimal character");t.result+=K5(l),t.position++}else It(t,"unknown escape sequence");i=s=t.position}else ga(h)?(Uo(t,i,s,!0),yb(t,Er(t,!1,e)),i=s=t.position):t.position===t.lineStart&&dm(t)?It(t,"unexpected end of the document within a double quoted scalar"):(t.position++,s=t.position)}It(t,"unexpected end of the stream within a double quoted scalar")}W(iB,"readDoubleQuotedScalar");function rB(t,e){var i=!0,s,n,l,a=t.tag,h,d=t.anchor,f,g,v,x,b,C=Object.create(null),O,P,L,u;if(u=t.input.charCodeAt(t.position),u===91)g=93,b=!1,h=[];else if(u===123)g=125,b=!0,h={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),u=t.input.charCodeAt(++t.position);u!==0;){if(Er(t,!0,e),u=t.input.charCodeAt(t.position),u===g)return t.position++,t.tag=a,t.anchor=d,t.kind=b?"mapping":"sequence",t.result=h,!0;i?u===44&&It(t,"expected the node content, but found ','"):It(t,"missed comma between flow collection entries"),P=O=L=null,v=x=!1,u===63&&(f=t.input.charCodeAt(t.position+1),Ws(f)&&(v=x=!0,t.position++,Er(t,!0,e))),s=t.line,n=t.lineStart,l=t.position,lh(t,e,fv,!1,!0),P=t.tag,O=t.result,Er(t,!0,e),u=t.input.charCodeAt(t.position),(x||t.line===s)&&u===58&&(v=!0,u=t.input.charCodeAt(++t.position),Er(t,!0,e),lh(t,e,fv,!1,!0),L=t.result),b?Yc(t,h,C,P,O,L,s,n,l):v?h.push(Yc(t,null,C,P,O,L,s,n,l)):h.push(O),Er(t,!0,e),u=t.input.charCodeAt(t.position),u===44?(i=!0,u=t.input.charCodeAt(++t.position)):i=!1}It(t,"unexpected end of the stream within a flow collection")}W(rB,"readFlowCollection");function sB(t,e){var i,s,n=px,l=!1,a=!1,h=e,d=0,f=!1,g,v;if(v=t.input.charCodeAt(t.position),v===124)s=!1;else if(v===62)s=!0;else return!1;for(t.kind="scalar",t.result="";v!==0;)if(v=t.input.charCodeAt(++t.position),v===43||v===45)px===n?n=v===43?oR:AQ:It(t,"repeat of a chomping mode identifier");else if((g=X5(v))>=0)g===0?It(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?It(t,"repeat of an indentation width identifier"):(h=e+g-1,a=!0);else break;if(kl(v)){do v=t.input.charCodeAt(++t.position);while(kl(v));if(v===35)do v=t.input.charCodeAt(++t.position);while(!ga(v)&&v!==0)}for(;v!==0;){for(gb(t),t.lineIndent=0,v=t.input.charCodeAt(t.position);(!a||t.lineIndent<h)&&v===32;)t.lineIndent++,v=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>h&&(h=t.lineIndent),ga(v)){d++;continue}if(t.lineIndent<h){n===oR?t.result+=$r.repeat(`
`,l?1+d:d):n===px&&l&&(t.result+=`
`);break}for(s?kl(v)?(f=!0,t.result+=$r.repeat(`
`,l?1+d:d)):f?(f=!1,t.result+=$r.repeat(`
`,d+1)):d===0?l&&(t.result+=" "):t.result+=$r.repeat(`
`,d):t.result+=$r.repeat(`
`,l?1+d:d),l=!0,a=!0,d=0,i=t.position;!ga(v)&&v!==0;)v=t.input.charCodeAt(++t.position);Uo(t,i,t.position,!1)}return!0}W(sB,"readBlockScalar");function hk(t,e){var i,s=t.tag,n=t.anchor,l=[],a,h=!1,d;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),d=t.input.charCodeAt(t.position);d!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,It(t,"tab characters must not be used in indentation")),!(d!==45||(a=t.input.charCodeAt(t.position+1),!Ws(a))));){if(h=!0,t.position++,Er(t,!0,-1)&&t.lineIndent<=e){l.push(null),d=t.input.charCodeAt(t.position);continue}if(i=t.line,lh(t,e,q5,!1,!0),l.push(t.result),Er(t,!0,-1),d=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&d!==0)It(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return h?(t.tag=s,t.anchor=n,t.kind="sequence",t.result=l,!0):!1}W(hk,"readBlockSequence");function nB(t,e,i){var s,n,l,a,h,d,f=t.tag,g=t.anchor,v={},x=Object.create(null),b=null,C=null,O=null,P=!1,L=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=v),u=t.input.charCodeAt(t.position);u!==0;){if(!P&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,It(t,"tab characters must not be used in indentation")),s=t.input.charCodeAt(t.position+1),l=t.line,(u===63||u===58)&&Ws(s))u===63?(P&&(Yc(t,v,x,b,C,null,a,h,d),b=C=O=null),L=!0,P=!0,n=!0):P?(P=!1,n=!0):It(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=s;else{if(a=t.line,h=t.lineStart,d=t.position,!lh(t,i,j5,!1,!0))break;if(t.line===l){for(u=t.input.charCodeAt(t.position);kl(u);)u=t.input.charCodeAt(++t.position);if(u===58)u=t.input.charCodeAt(++t.position),Ws(u)||It(t,"a whitespace character is expected after the key-value separator within a block mapping"),P&&(Yc(t,v,x,b,C,null,a,h,d),b=C=O=null),L=!0,P=!1,n=!1,b=t.tag,C=t.result;else if(L)It(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=f,t.anchor=g,!0}else if(L)It(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=f,t.anchor=g,!0}if((t.line===l||t.lineIndent>e)&&(P&&(a=t.line,h=t.lineStart,d=t.position),lh(t,e,pv,!0,n)&&(P?C=t.result:O=t.result),P||(Yc(t,v,x,b,C,O,a,h,d),b=C=O=null),Er(t,!0,-1),u=t.input.charCodeAt(t.position)),(t.line===l||t.lineIndent>e)&&u!==0)It(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return P&&Yc(t,v,x,b,C,null,a,h,d),L&&(t.tag=f,t.anchor=g,t.kind="mapping",t.result=v),L}W(nB,"readBlockMapping");function aB(t){var e,i=!1,s=!1,n,l,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&It(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(i=!0,a=t.input.charCodeAt(++t.position)):a===33?(s=!0,n="!!",a=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(l=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):It(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!Ws(a);)a===33&&(s?It(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),$5.test(n)||It(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);l=t.input.slice(e,t.position),LQ.test(l)&&It(t,"tag suffix cannot contain flow indicator characters")}l&&!V5.test(l)&&It(t,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{It(t,"tag name is malformed: "+l)}return i?t.tag=l:Cl.call(t.tagMap,n)?t.tag=t.tagMap[n]+l:n==="!"?t.tag="!"+l:n==="!!"?t.tag="tag:yaml.org,2002:"+l:It(t,'undeclared tag handle "'+n+'"'),!0}W(aB,"readTagProperty");function oB(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&It(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!Ws(i)&&!Vc(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&It(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}W(oB,"readAnchorProperty");function lB(t){var e,i,s;if(s=t.input.charCodeAt(t.position),s!==42)return!1;for(s=t.input.charCodeAt(++t.position),e=t.position;s!==0&&!Ws(s)&&!Vc(s);)s=t.input.charCodeAt(++t.position);return t.position===e&&It(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),Cl.call(t.anchorMap,i)||It(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],Er(t,!0,-1),!0}W(lB,"readAlias");function lh(t,e,i,s,n){var l,a,h,d=1,f=!1,g=!1,v,x,b,C,O,P;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,l=a=h=pv===i||q5===i,s&&Er(t,!0,-1)&&(f=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),d===1)for(;aB(t)||oB(t);)Er(t,!0,-1)?(f=!0,h=l,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):h=!1;if(h&&(h=f||n),(d===1||pv===i)&&(fv===i||j5===i?O=e:O=e+1,P=t.position-t.lineStart,d===1?h&&(hk(t,P)||nB(t,P,O))||rB(t,O)?g=!0:(a&&sB(t,O)||tB(t,O)||iB(t,O)?g=!0:lB(t)?(g=!0,(t.tag!==null||t.anchor!==null)&&It(t,"alias node should not have any properties")):eB(t,O,fv===i)&&(g=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):d===0&&(g=h&&hk(t,P))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&It(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),v=0,x=t.implicitTypes.length;v<x;v+=1)if(C=t.implicitTypes[v],C.resolve(t.result)){t.result=C.construct(t.result),t.tag=C.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Cl.call(t.typeMap[t.kind||"fallback"],t.tag))C=t.typeMap[t.kind||"fallback"][t.tag];else for(C=null,b=t.typeMap.multi[t.kind||"fallback"],v=0,x=b.length;v<x;v+=1)if(t.tag.slice(0,b[v].tag.length)===b[v].tag){C=b[v];break}C||It(t,"unknown tag !<"+t.tag+">"),t.result!==null&&C.kind!==t.kind&&It(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+C.kind+'", not "'+t.kind+'"'),C.resolve(t.result,t.tag)?(t.result=C.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):It(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||g}W(lh,"composeNode");function cB(t){var e=t.position,i,s,n,l=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(Er(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(l=!0,a=t.input.charCodeAt(++t.position),i=t.position;a!==0&&!Ws(a);)a=t.input.charCodeAt(++t.position);for(s=t.input.slice(i,t.position),n=[],s.length<1&&It(t,"directive name must not be less than one character in length");a!==0;){for(;kl(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!ga(a));break}if(ga(a))break;for(i=t.position;a!==0&&!Ws(a);)a=t.input.charCodeAt(++t.position);n.push(t.input.slice(i,t.position))}a!==0&&gb(t),Cl.call(lR,s)?lR[s](t,s,n):zp(t,'unknown document directive "'+s+'"')}if(Er(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Er(t,!0,-1)):l&&It(t,"directives end mark is expected"),lh(t,t.lineIndent-1,pv,!1,!0),Er(t,!0,-1),t.checkLineBreaks&&DQ.test(t.input.slice(e,t.position))&&zp(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&dm(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Er(t,!0,-1));return}if(t.position<t.length-1)It(t,"end of the stream or a document separator is expected");else return}W(cB,"readDocument");function rT(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new J5(t,e),s=t.indexOf("\0");for(s!==-1&&(i.position=s,It(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)cB(i);return i.documents}W(rT,"loadDocuments");function RQ(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var s=rT(t,i);if(typeof e!="function")return s;for(var n=0,l=s.length;n<l;n+=1)e(s[n])}W(RQ,"loadAll$1");function hB(t,e){var i=rT(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new sn("expected a single document in the stream, but found more")}}W(hB,"load$1");var FQ=hB,IQ={load:FQ},uB=Object.prototype.toString,dB=Object.prototype.hasOwnProperty,sT=65279,BQ=9,Up=10,NQ=13,zQ=32,UQ=33,HQ=34,uk=35,WQ=37,jQ=38,qQ=39,$Q=42,fB=44,VQ=45,mv=58,YQ=61,GQ=62,XQ=63,KQ=64,pB=91,mB=93,ZQ=96,gB=123,QQ=124,yB=125,Ms={};Ms[0]="\\0";Ms[7]="\\a";Ms[8]="\\b";Ms[9]="\\t";Ms[10]="\\n";Ms[11]="\\v";Ms[12]="\\f";Ms[13]="\\r";Ms[27]="\\e";Ms[34]='\\"';Ms[92]="\\\\";Ms[133]="\\N";Ms[160]="\\_";Ms[8232]="\\L";Ms[8233]="\\P";var JQ=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],eJ=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function vB(t,e){var i,s,n,l,a,h,d;if(e===null)return{};for(i={},s=Object.keys(e),n=0,l=s.length;n<l;n+=1)a=s[n],h=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),d=t.compiledTypeMap.fallback[a],d&&dB.call(d.styleAliases,h)&&(h=d.styleAliases[h]),i[a]=h;return i}W(vB,"compileStyleMap");function bB(t){var e,i,s;if(e=t.toString(16).toUpperCase(),t<=255)i="x",s=2;else if(t<=65535)i="u",s=4;else if(t<=4294967295)i="U",s=8;else throw new sn("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+$r.repeat("0",s-e.length)+e}W(bB,"encodeHex");var tJ=1,Hp=2;function _B(t){this.schema=t.schema||W5,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=$r.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=vB(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Hp:tJ,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}W(_B,"State");function dk(t,e){for(var i=$r.repeat(" ",e),s=0,n=-1,l="",a,h=t.length;s<h;)n=t.indexOf(`
`,s),n===-1?(a=t.slice(s),s=h):(a=t.slice(s,n+1),s=n+1),a.length&&a!==`
`&&(l+=i),l+=a;return l}W(dk,"indentString");function gv(t,e){return`
`+$r.repeat(" ",t.indent*e)}W(gv,"generateNextLine");function wB(t,e){var i,s,n;for(i=0,s=t.implicitTypes.length;i<s;i+=1)if(n=t.implicitTypes[i],n.resolve(e))return!0;return!1}W(wB,"testImplicitResolving");function Wp(t){return t===zQ||t===BQ}W(Wp,"isWhitespace");function qu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==sT||65536<=t&&t<=1114111}W(qu,"isPrintable");function fk(t){return qu(t)&&t!==sT&&t!==NQ&&t!==Up}W(fk,"isNsCharOrWhitespace");function pk(t,e,i){var s=fk(t),n=s&&!Wp(t);return(i?s:s&&t!==fB&&t!==pB&&t!==mB&&t!==gB&&t!==yB)&&t!==uk&&!(e===mv&&!n)||fk(e)&&!Wp(e)&&t===uk||e===mv&&n}W(pk,"isPlainSafe");function xB(t){return qu(t)&&t!==sT&&!Wp(t)&&t!==VQ&&t!==XQ&&t!==mv&&t!==fB&&t!==pB&&t!==mB&&t!==gB&&t!==yB&&t!==uk&&t!==jQ&&t!==$Q&&t!==UQ&&t!==QQ&&t!==YQ&&t!==GQ&&t!==qQ&&t!==HQ&&t!==WQ&&t!==KQ&&t!==ZQ}W(xB,"isPlainSafeFirst");function kB(t){return!Wp(t)&&t!==mv}W(kB,"isPlainSafeLast");function lu(t,e){var i=t.charCodeAt(e),s;return i>=55296&&i<=56319&&e+1<t.length&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}W(lu,"codePointAt");function nT(t){var e=/^\n* /;return e.test(t)}W(nT,"needIndentIndicator");var SB=1,mk=2,TB=3,CB=4,su=5;function EB(t,e,i,s,n,l,a,h){var d,f=0,g=null,v=!1,x=!1,b=s!==-1,C=-1,O=xB(lu(t,0))&&kB(lu(t,t.length-1));if(e||a)for(d=0;d<t.length;f>=65536?d+=2:d++){if(f=lu(t,d),!qu(f))return su;O=O&&pk(f,g,h),g=f}else{for(d=0;d<t.length;f>=65536?d+=2:d++){if(f=lu(t,d),f===Up)v=!0,b&&(x=x||d-C-1>s&&t[C+1]!==" ",C=d);else if(!qu(f))return su;O=O&&pk(f,g,h),g=f}x=x||b&&d-C-1>s&&t[C+1]!==" "}return!v&&!x?O&&!a&&!n(t)?SB:l===Hp?su:mk:i>9&&nT(t)?su:a?l===Hp?su:mk:x?CB:TB}W(EB,"chooseScalarStyle");function OB(t,e,i,s,n){t.dump=function(){if(e.length===0)return t.quotingType===Hp?'""':"''";if(!t.noCompatMode&&(JQ.indexOf(e)!==-1||eJ.test(e)))return t.quotingType===Hp?'"'+e+'"':"'"+e+"'";var l=t.indent*Math.max(1,i),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-l),h=s||t.flowLevel>-1&&i>=t.flowLevel;function d(f){return wB(t,f)}switch(W(d,"testAmbiguity"),EB(e,h,t.indent,a,d,t.quotingType,t.forceQuotes&&!s,n)){case SB:return e;case mk:return"'"+e.replace(/'/g,"''")+"'";case TB:return"|"+gk(e,t.indent)+yk(dk(e,l));case CB:return">"+gk(e,t.indent)+yk(dk(MB(e,a),l));case su:return'"'+AB(e)+'"';default:throw new sn("impossible error: invalid scalar style")}}()}W(OB,"writeScalar");function gk(t,e){var i=nT(t)?String(e):"",s=t[t.length-1]===`
`,n=s&&(t[t.length-2]===`
`||t===`
`),l=n?"+":s?"":"-";return i+l+`
`}W(gk,"blockHeader");function yk(t){return t[t.length-1]===`
`?t.slice(0,-1):t}W(yk,"dropEndingNewline");function MB(t,e){for(var i=/(\n+)([^\n]*)/g,s=function(){var f=t.indexOf(`
`);return f=f!==-1?f:t.length,i.lastIndex=f,vk(t.slice(0,f),e)}(),n=t[0]===`
`||t[0]===" ",l,a;a=i.exec(t);){var h=a[1],d=a[2];l=d[0]===" ",s+=h+(!n&&!l&&d!==""?`
`:"")+vk(d,e),n=l}return s}W(MB,"foldString");function vk(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,s,n=0,l,a=0,h=0,d="";s=i.exec(t);)h=s.index,h-n>e&&(l=a>n?a:h,d+=`
`+t.slice(n,l),n=l+1),a=h;return d+=`
`,t.length-n>e&&a>n?d+=t.slice(n,a)+`
`+t.slice(a+1):d+=t.slice(n),d.slice(1)}W(vk,"foldLine");function AB(t){for(var e="",i=0,s,n=0;n<t.length;i>=65536?n+=2:n++)i=lu(t,n),s=Ms[i],!s&&qu(i)?(e+=t[n],i>=65536&&(e+=t[n+1])):e+=s||bB(i);return e}W(AB,"escapeString");function PB(t,e,i){var s="",n=t.tag,l,a,h;for(l=0,a=i.length;l<a;l+=1)h=i[l],t.replacer&&(h=t.replacer.call(i,String(l),h)),(Ka(t,e,h,!1,!1)||typeof h>"u"&&Ka(t,e,null,!1,!1))&&(s!==""&&(s+=","+(t.condenseFlow?"":" ")),s+=t.dump);t.tag=n,t.dump="["+s+"]"}W(PB,"writeFlowSequence");function bk(t,e,i,s){var n="",l=t.tag,a,h,d;for(a=0,h=i.length;a<h;a+=1)d=i[a],t.replacer&&(d=t.replacer.call(i,String(a),d)),(Ka(t,e+1,d,!0,!0,!1,!0)||typeof d>"u"&&Ka(t,e+1,null,!0,!0,!1,!0))&&((!s||n!=="")&&(n+=gv(t,e)),t.dump&&Up===t.dump.charCodeAt(0)?n+="-":n+="- ",n+=t.dump);t.tag=l,t.dump=n||"[]"}W(bk,"writeBlockSequence");function DB(t,e,i){var s="",n=t.tag,l=Object.keys(i),a,h,d,f,g;for(a=0,h=l.length;a<h;a+=1)g="",s!==""&&(g+=", "),t.condenseFlow&&(g+='"'),d=l[a],f=i[d],t.replacer&&(f=t.replacer.call(i,d,f)),Ka(t,e,d,!1,!1)&&(t.dump.length>1024&&(g+="? "),g+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Ka(t,e,f,!1,!1)&&(g+=t.dump,s+=g));t.tag=n,t.dump="{"+s+"}"}W(DB,"writeFlowMapping");function LB(t,e,i,s){var n="",l=t.tag,a=Object.keys(i),h,d,f,g,v,x;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new sn("sortKeys must be a boolean or a function");for(h=0,d=a.length;h<d;h+=1)x="",(!s||n!=="")&&(x+=gv(t,e)),f=a[h],g=i[f],t.replacer&&(g=t.replacer.call(i,f,g)),Ka(t,e+1,f,!0,!0,!0)&&(v=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,v&&(t.dump&&Up===t.dump.charCodeAt(0)?x+="?":x+="? "),x+=t.dump,v&&(x+=gv(t,e)),Ka(t,e+1,g,!0,v)&&(t.dump&&Up===t.dump.charCodeAt(0)?x+=":":x+=": ",x+=t.dump,n+=x));t.tag=l,t.dump=n||"{}"}W(LB,"writeBlockMapping");function _k(t,e,i){var s,n,l,a,h,d;for(n=i?t.explicitTypes:t.implicitTypes,l=0,a=n.length;l<a;l+=1)if(h=n[l],(h.instanceOf||h.predicate)&&(!h.instanceOf||typeof e=="object"&&e instanceof h.instanceOf)&&(!h.predicate||h.predicate(e))){if(i?h.multi&&h.representName?t.tag=h.representName(e):t.tag=h.tag:t.tag="?",h.represent){if(d=t.styleMap[h.tag]||h.defaultStyle,uB.call(h.represent)==="[object Function]")s=h.represent(e,d);else if(dB.call(h.represent,d))s=h.represent[d](e,d);else throw new sn("!<"+h.tag+'> tag resolver accepts not "'+d+'" style');t.dump=s}return!0}return!1}W(_k,"detectType");function Ka(t,e,i,s,n,l,a){t.tag=null,t.dump=i,_k(t,i,!1)||_k(t,i,!0);var h=uB.call(t.dump),d=s,f;s&&(s=t.flowLevel<0||t.flowLevel>e);var g=h==="[object Object]"||h==="[object Array]",v,x;if(g&&(v=t.duplicates.indexOf(i),x=v!==-1),(t.tag!==null&&t.tag!=="?"||x||t.indent!==2&&e>0)&&(n=!1),x&&t.usedDuplicates[v])t.dump="*ref_"+v;else{if(g&&x&&!t.usedDuplicates[v]&&(t.usedDuplicates[v]=!0),h==="[object Object]")s&&Object.keys(t.dump).length!==0?(LB(t,e,t.dump,n),x&&(t.dump="&ref_"+v+t.dump)):(DB(t,e,t.dump),x&&(t.dump="&ref_"+v+" "+t.dump));else if(h==="[object Array]")s&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?bk(t,e-1,t.dump,n):bk(t,e,t.dump,n),x&&(t.dump="&ref_"+v+t.dump)):(PB(t,e,t.dump),x&&(t.dump="&ref_"+v+" "+t.dump));else if(h==="[object String]")t.tag!=="?"&&OB(t,t.dump,e,l,d);else{if(h==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new sn("unacceptable kind of an object to dump "+h)}t.tag!==null&&t.tag!=="?"&&(f=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?f="!"+f:f.slice(0,18)==="tag:yaml.org,2002:"?f="!!"+f.slice(18):f="!<"+f+">",t.dump=f+" "+t.dump)}return!0}W(Ka,"writeNode");function RB(t,e){var i=[],s=[],n,l;for(yv(t,i,s),n=0,l=s.length;n<l;n+=1)e.duplicates.push(i[s[n]]);e.usedDuplicates=new Array(l)}W(RB,"getDuplicateReferences");function yv(t,e,i){var s,n,l;if(t!==null&&typeof t=="object")if(n=e.indexOf(t),n!==-1)i.indexOf(n)===-1&&i.push(n);else if(e.push(t),Array.isArray(t))for(n=0,l=t.length;n<l;n+=1)yv(t[n],e,i);else for(s=Object.keys(t),n=0,l=s.length;n<l;n+=1)yv(t[s[n]],e,i)}W(yv,"inspectNode");function iJ(t,e){e=e||{};var i=new _B(e);i.noRefs||RB(t,i);var s=t;return i.replacer&&(s=i.replacer.call({"":s},"",s)),Ka(i,0,s,!0,!0)?i.dump+`
`:""}W(iJ,"dump$1");function rJ(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}W(rJ,"renamed");var sJ=T5,nJ=IQ.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var Rn={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function rp(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=lr(t),e=lr(e);const[i,s]=[t.x,t.y],[n,l]=[e.x,e.y],a=n-i,h=l-s;return{angle:Math.atan(h/a),deltaX:a,deltaY:h}}W(rp,"calculateDeltaAndAngle");var lr=W(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),aJ=W(t=>({x:W(function(e,i,s){let n=0;const l=lr(s[0]).x<lr(s[s.length-1]).x?"left":"right";if(i===0&&Object.hasOwn(Rn,t.arrowTypeStart)){const{angle:b,deltaX:C}=rp(s[0],s[1]);n=Rn[t.arrowTypeStart]*Math.cos(b)*(C>=0?1:-1)}else if(i===s.length-1&&Object.hasOwn(Rn,t.arrowTypeEnd)){const{angle:b,deltaX:C}=rp(s[s.length-1],s[s.length-2]);n=Rn[t.arrowTypeEnd]*Math.cos(b)*(C>=0?1:-1)}const a=Math.abs(lr(e).x-lr(s[s.length-1]).x),h=Math.abs(lr(e).y-lr(s[s.length-1]).y),d=Math.abs(lr(e).x-lr(s[0]).x),f=Math.abs(lr(e).y-lr(s[0]).y),g=Rn[t.arrowTypeStart],v=Rn[t.arrowTypeEnd],x=1;if(a<v&&a>0&&h<v){let b=v+x-a;b*=l==="right"?-1:1,n-=b}if(d<g&&d>0&&f<g){let b=g+x-d;b*=l==="right"?-1:1,n+=b}return lr(e).x+n},"x"),y:W(function(e,i,s){let n=0;const l=lr(s[0]).y<lr(s[s.length-1]).y?"down":"up";if(i===0&&Object.hasOwn(Rn,t.arrowTypeStart)){const{angle:b,deltaY:C}=rp(s[0],s[1]);n=Rn[t.arrowTypeStart]*Math.abs(Math.sin(b))*(C>=0?1:-1)}else if(i===s.length-1&&Object.hasOwn(Rn,t.arrowTypeEnd)){const{angle:b,deltaY:C}=rp(s[s.length-1],s[s.length-2]);n=Rn[t.arrowTypeEnd]*Math.abs(Math.sin(b))*(C>=0?1:-1)}const a=Math.abs(lr(e).y-lr(s[s.length-1]).y),h=Math.abs(lr(e).x-lr(s[s.length-1]).x),d=Math.abs(lr(e).y-lr(s[0]).y),f=Math.abs(lr(e).x-lr(s[0]).x),g=Rn[t.arrowTypeStart],v=Rn[t.arrowTypeEnd],x=1;if(a<v&&a>0&&h<v){let b=v+x-a;b*=l==="up"?-1:1,n-=b}if(d<g&&d>0&&f<g){let b=g+x-d;b*=l==="up"?-1:1,n+=b}return lr(e).y+n},"y")}),"getLineFunctionsWithOffset"),aT=W(({flowchart:t})=>{var n,l;const e=((n=t==null?void 0:t.subGraphTitleMargin)==null?void 0:n.top)??0,i=((l=t==null?void 0:t.subGraphTitleMargin)==null?void 0:l.bottom)??0,s=e+i;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:i,subGraphTitleTotalMargin:s}},"getSubGraphTitleMargins"),oJ=W(t=>{const{handDrawnSeed:e}=Ni();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),id=W(t=>{const e=lJ([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),lJ=W(t=>{const e=new Map;return t.forEach(i=>{const[s,n]=i.split(":");e.set(s.trim(),n==null?void 0:n.trim())}),e},"styles2Map"),FB=W(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),Lt=W(t=>{const{stylesArray:e}=id(t),i=[],s=[],n=[],l=[];return e.forEach(a=>{const h=a[0];FB(h)?i.push(a.join(":")+" !important"):(s.push(a.join(":")+" !important"),h.includes("stroke")&&n.push(a.join(":")+" !important"),h==="fill"&&l.push(a.join(":")+" !important"))}),{labelStyles:i.join(";"),nodeStyles:s.join(";"),stylesArray:e,borderStyles:n,backgroundStyles:l}},"styles2String"),Ot=W((t,e)=>{var d;const{themeVariables:i,handDrawnSeed:s}=Ni(),{nodeBorder:n,mainBkg:l}=i,{stylesMap:a}=id(t);return Object.assign({roughness:.7,fill:a.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:a.get("stroke")||n,seed:s,strokeWidth:((d=a.get("stroke-width"))==null?void 0:d.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:cJ(a.get("stroke-dasharray"))},e)},"userNodeOverrides"),cJ=W(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const n=isNaN(e[0])?0:e[0];return[n,n]}const i=isNaN(e[0])?0:e[0],s=isNaN(e[1])?0:e[1];return[i,s]},"getStrokeDashArray"),oT={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.BLANK_URL=Qr.relativeFirstCharacters=Qr.whitespaceEscapeCharsRegex=Qr.urlSchemeRegex=Qr.ctrlCharactersRegex=Qr.htmlCtrlEntityRegex=Qr.htmlEntitiesRegex=Qr.invalidProtocolRegex=void 0;Qr.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Qr.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Qr.htmlCtrlEntityRegex=/&(newline|tab);/gi;Qr.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Qr.urlSchemeRegex=/^.+(:|&colon;)/gim;Qr.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Qr.relativeFirstCharacters=[".","/"];Qr.BLANK_URL="about:blank";Object.defineProperty(oT,"__esModule",{value:!0});var IB=oT.sanitizeUrl=void 0,xs=Qr;function hJ(t){return xs.relativeFirstCharacters.indexOf(t[0])>-1}function uJ(t){var e=t.replace(xs.ctrlCharactersRegex,"");return e.replace(xs.htmlEntitiesRegex,function(i,s){return String.fromCharCode(s)})}function dJ(t){return URL.canParse(t)}function cR(t){try{return decodeURIComponent(t)}catch{return t}}function fJ(t){if(!t)return xs.BLANK_URL;var e,i=cR(t.trim());do i=uJ(i).replace(xs.htmlCtrlEntityRegex,"").replace(xs.ctrlCharactersRegex,"").replace(xs.whitespaceEscapeCharsRegex,"").trim(),i=cR(i),e=i.match(xs.ctrlCharactersRegex)||i.match(xs.htmlEntitiesRegex)||i.match(xs.htmlCtrlEntityRegex)||i.match(xs.whitespaceEscapeCharsRegex);while(e&&e.length>0);var s=i;if(!s)return xs.BLANK_URL;if(hJ(s))return s;var n=s.trimStart(),l=n.match(xs.urlSchemeRegex);if(!l)return s;var a=l[0].toLowerCase().trim();if(xs.invalidProtocolRegex.test(a))return xs.BLANK_URL;var h=n.replace(/\\/g,"/");if(a==="mailto:"||a.includes("://"))return h;if(a==="http:"||a==="https:"){if(!dJ(h))return xs.BLANK_URL;var d=new URL(h);return d.protocol=d.protocol.toLowerCase(),d.hostname=d.hostname.toLowerCase(),d.toString()}return h}IB=oT.sanitizeUrl=fJ;var pJ={value:()=>{}};function BB(){for(var t=0,e=arguments.length,i={},s;t<e;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new Ry(i)}function Ry(t){this._=t}function mJ(t,e){return t.trim().split(/^|\s+/).map(function(i){var s="",n=i.indexOf(".");if(n>=0&&(s=i.slice(n+1),i=i.slice(0,n)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}Ry.prototype=BB.prototype={constructor:Ry,on:function(t,e){var i=this._,s=mJ(t+"",i),n,l=-1,a=s.length;if(arguments.length<2){for(;++l<a;)if((n=(t=s[l]).type)&&(n=gJ(i[n],t.name)))return n;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<a;)if(n=(t=s[l]).type)i[n]=hR(i[n],t.name,e);else if(e==null)for(n in i)i[n]=hR(i[n],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new Ry(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var i=new Array(n),s=0,n,l;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],s=0,n=l.length;s<n;++s)l[s].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],n=0,l=s.length;n<l;++n)s[n].value.apply(e,i)}};function gJ(t,e){for(var i=0,s=t.length,n;i<s;++i)if((n=t[i]).name===e)return n.value}function hR(t,e,i){for(var s=0,n=t.length;s<n;++s)if(t[s].name===e){t[s]=pJ,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:e,value:i}),t}var wk="http://www.w3.org/1999/xhtml";const uR={svg:"http://www.w3.org/2000/svg",xhtml:wk,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function vb(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),uR.hasOwnProperty(e)?{space:uR[e],local:t}:t}function yJ(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===wk&&e.documentElement.namespaceURI===wk?e.createElement(t):e.createElementNS(i,t)}}function vJ(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function NB(t){var e=vb(t);return(e.local?vJ:yJ)(e)}function bJ(){}function lT(t){return t==null?bJ:function(){return this.querySelector(t)}}function _J(t){typeof t!="function"&&(t=lT(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var l=e[n],a=l.length,h=s[n]=new Array(a),d,f,g=0;g<a;++g)(d=l[g])&&(f=t.call(d,d.__data__,g,l))&&("__data__"in d&&(f.__data__=d.__data__),h[g]=f);return new Cn(s,this._parents)}function wJ(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function xJ(){return[]}function zB(t){return t==null?xJ:function(){return this.querySelectorAll(t)}}function kJ(t){return function(){return wJ(t.apply(this,arguments))}}function SJ(t){typeof t=="function"?t=kJ(t):t=zB(t);for(var e=this._groups,i=e.length,s=[],n=[],l=0;l<i;++l)for(var a=e[l],h=a.length,d,f=0;f<h;++f)(d=a[f])&&(s.push(t.call(d,d.__data__,f,a)),n.push(d));return new Cn(s,n)}function UB(t){return function(){return this.matches(t)}}function HB(t){return function(e){return e.matches(t)}}var TJ=Array.prototype.find;function CJ(t){return function(){return TJ.call(this.children,t)}}function EJ(){return this.firstElementChild}function OJ(t){return this.select(t==null?EJ:CJ(typeof t=="function"?t:HB(t)))}var MJ=Array.prototype.filter;function AJ(){return Array.from(this.children)}function PJ(t){return function(){return MJ.call(this.children,t)}}function DJ(t){return this.selectAll(t==null?AJ:PJ(typeof t=="function"?t:HB(t)))}function LJ(t){typeof t!="function"&&(t=UB(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var l=e[n],a=l.length,h=s[n]=[],d,f=0;f<a;++f)(d=l[f])&&t.call(d,d.__data__,f,l)&&h.push(d);return new Cn(s,this._parents)}function WB(t){return new Array(t.length)}function RJ(){return new Cn(this._enter||this._groups.map(WB),this._parents)}function vv(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}vv.prototype={constructor:vv,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function FJ(t){return function(){return t}}function IJ(t,e,i,s,n,l){for(var a=0,h,d=e.length,f=l.length;a<f;++a)(h=e[a])?(h.__data__=l[a],s[a]=h):i[a]=new vv(t,l[a]);for(;a<d;++a)(h=e[a])&&(n[a]=h)}function BJ(t,e,i,s,n,l,a){var h,d,f=new Map,g=e.length,v=l.length,x=new Array(g),b;for(h=0;h<g;++h)(d=e[h])&&(x[h]=b=a.call(d,d.__data__,h,e)+"",f.has(b)?n[h]=d:f.set(b,d));for(h=0;h<v;++h)b=a.call(t,l[h],h,l)+"",(d=f.get(b))?(s[h]=d,d.__data__=l[h],f.delete(b)):i[h]=new vv(t,l[h]);for(h=0;h<g;++h)(d=e[h])&&f.get(x[h])===d&&(n[h]=d)}function NJ(t){return t.__data__}function zJ(t,e){if(!arguments.length)return Array.from(this,NJ);var i=e?BJ:IJ,s=this._parents,n=this._groups;typeof t!="function"&&(t=FJ(t));for(var l=n.length,a=new Array(l),h=new Array(l),d=new Array(l),f=0;f<l;++f){var g=s[f],v=n[f],x=v.length,b=UJ(t.call(g,g&&g.__data__,f,s)),C=b.length,O=h[f]=new Array(C),P=a[f]=new Array(C),L=d[f]=new Array(x);i(g,v,O,P,L,b,e);for(var u=0,S=0,y,k;u<C;++u)if(y=O[u]){for(u>=S&&(S=u+1);!(k=P[S])&&++S<C;);y._next=k||null}}return a=new Cn(a,s),a._enter=h,a._exit=d,a}function UJ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function HJ(){return new Cn(this._exit||this._groups.map(WB),this._parents)}function WJ(t,e,i){var s=this.enter(),n=this,l=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),e!=null&&(n=e(n),n&&(n=n.selection())),i==null?l.remove():i(l),s&&n?s.merge(n).order():n}function jJ(t){for(var e=t.selection?t.selection():t,i=this._groups,s=e._groups,n=i.length,l=s.length,a=Math.min(n,l),h=new Array(n),d=0;d<a;++d)for(var f=i[d],g=s[d],v=f.length,x=h[d]=new Array(v),b,C=0;C<v;++C)(b=f[C]||g[C])&&(x[C]=b);for(;d<n;++d)h[d]=i[d];return new Cn(h,this._parents)}function qJ(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var s=t[e],n=s.length-1,l=s[n],a;--n>=0;)(a=s[n])&&(l&&a.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(a,l),l=a);return this}function $J(t){t||(t=VJ);function e(v,x){return v&&x?t(v.__data__,x.__data__):!v-!x}for(var i=this._groups,s=i.length,n=new Array(s),l=0;l<s;++l){for(var a=i[l],h=a.length,d=n[l]=new Array(h),f,g=0;g<h;++g)(f=a[g])&&(d[g]=f);d.sort(e)}return new Cn(n,this._parents).order()}function VJ(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function YJ(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function GJ(){return Array.from(this)}function XJ(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],n=0,l=s.length;n<l;++n){var a=s[n];if(a)return a}return null}function KJ(){let t=0;for(const e of this)++t;return t}function ZJ(){return!this.node()}function QJ(t){for(var e=this._groups,i=0,s=e.length;i<s;++i)for(var n=e[i],l=0,a=n.length,h;l<a;++l)(h=n[l])&&t.call(h,h.__data__,l,n);return this}function JJ(t){return function(){this.removeAttribute(t)}}function eee(t){return function(){this.removeAttributeNS(t.space,t.local)}}function tee(t,e){return function(){this.setAttribute(t,e)}}function iee(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ree(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function see(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function nee(t,e){var i=vb(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((e==null?i.local?eee:JJ:typeof e=="function"?i.local?see:ree:i.local?iee:tee)(i,e))}function jB(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function aee(t){return function(){this.style.removeProperty(t)}}function oee(t,e,i){return function(){this.style.setProperty(t,e,i)}}function lee(t,e,i){return function(){var s=e.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function cee(t,e,i){return arguments.length>1?this.each((e==null?aee:typeof e=="function"?lee:oee)(t,e,i??"")):$u(this.node(),t)}function $u(t,e){return t.style.getPropertyValue(e)||jB(t).getComputedStyle(t,null).getPropertyValue(e)}function hee(t){return function(){delete this[t]}}function uee(t,e){return function(){this[t]=e}}function dee(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function fee(t,e){return arguments.length>1?this.each((e==null?hee:typeof e=="function"?dee:uee)(t,e)):this.node()[t]}function qB(t){return t.trim().split(/^|\s+/)}function cT(t){return t.classList||new $B(t)}function $B(t){this._node=t,this._names=qB(t.getAttribute("class")||"")}$B.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function VB(t,e){for(var i=cT(t),s=-1,n=e.length;++s<n;)i.add(e[s])}function YB(t,e){for(var i=cT(t),s=-1,n=e.length;++s<n;)i.remove(e[s])}function pee(t){return function(){VB(this,t)}}function mee(t){return function(){YB(this,t)}}function gee(t,e){return function(){(e.apply(this,arguments)?VB:YB)(this,t)}}function yee(t,e){var i=qB(t+"");if(arguments.length<2){for(var s=cT(this.node()),n=-1,l=i.length;++n<l;)if(!s.contains(i[n]))return!1;return!0}return this.each((typeof e=="function"?gee:e?pee:mee)(i,e))}function vee(){this.textContent=""}function bee(t){return function(){this.textContent=t}}function _ee(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function wee(t){return arguments.length?this.each(t==null?vee:(typeof t=="function"?_ee:bee)(t)):this.node().textContent}function xee(){this.innerHTML=""}function kee(t){return function(){this.innerHTML=t}}function See(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Tee(t){return arguments.length?this.each(t==null?xee:(typeof t=="function"?See:kee)(t)):this.node().innerHTML}function Cee(){this.nextSibling&&this.parentNode.appendChild(this)}function Eee(){return this.each(Cee)}function Oee(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Mee(){return this.each(Oee)}function Aee(t){var e=typeof t=="function"?t:NB(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Pee(){return null}function Dee(t,e){var i=typeof t=="function"?t:NB(t),s=e==null?Pee:typeof e=="function"?e:lT(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function Lee(){var t=this.parentNode;t&&t.removeChild(this)}function Ree(){return this.each(Lee)}function Fee(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Iee(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Bee(t){return this.select(t?Iee:Fee)}function Nee(t){return arguments.length?this.property("__data__",t):this.node().__data__}function zee(t){return function(e){t.call(this,e,this.__data__)}}function Uee(t){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");return s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),{type:e,name:i}})}function Hee(t){return function(){var e=this.__on;if(e){for(var i=0,s=-1,n=e.length,l;i<n;++i)l=e[i],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++s]=l;++s?e.length=s:delete this.__on}}}function Wee(t,e,i){return function(){var s=this.__on,n,l=zee(e);if(s){for(var a=0,h=s.length;a<h;++a)if((n=s[a]).type===t.type&&n.name===t.name){this.removeEventListener(n.type,n.listener,n.options),this.addEventListener(n.type,n.listener=l,n.options=i),n.value=e;return}}this.addEventListener(t.type,l,i),n={type:t.type,name:t.name,value:e,listener:l,options:i},s?s.push(n):this.__on=[n]}}function jee(t,e,i){var s=Uee(t+""),n,l=s.length,a;if(arguments.length<2){var h=this.node().__on;if(h){for(var d=0,f=h.length,g;d<f;++d)for(n=0,g=h[d];n<l;++n)if((a=s[n]).type===g.type&&a.name===g.name)return g.value}return}for(h=e?Wee:Hee,n=0;n<l;++n)this.each(h(s[n],e,i));return this}function GB(t,e,i){var s=jB(t),n=s.CustomEvent;typeof n=="function"?n=new n(e,i):(n=s.document.createEvent("Event"),i?(n.initEvent(e,i.bubbles,i.cancelable),n.detail=i.detail):n.initEvent(e,!1,!1)),t.dispatchEvent(n)}function qee(t,e){return function(){return GB(this,t,e)}}function $ee(t,e){return function(){return GB(this,t,e.apply(this,arguments))}}function Vee(t,e){return this.each((typeof e=="function"?$ee:qee)(t,e))}function*Yee(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],n=0,l=s.length,a;n<l;++n)(a=s[n])&&(yield a)}var XB=[null];function Cn(t,e){this._groups=t,this._parents=e}function fm(){return new Cn([[document.documentElement]],XB)}function Gee(){return this}Cn.prototype=fm.prototype={constructor:Cn,select:_J,selectAll:SJ,selectChild:OJ,selectChildren:DJ,filter:LJ,data:zJ,enter:RJ,exit:HJ,join:WJ,merge:jJ,selection:Gee,order:qJ,sort:$J,call:YJ,nodes:GJ,node:XJ,size:KJ,empty:ZJ,each:QJ,attr:nee,style:cee,property:fee,classed:yee,text:wee,html:Tee,raise:Eee,lower:Mee,append:Aee,insert:Dee,remove:Ree,clone:Bee,datum:Nee,on:jee,dispatch:Vee,[Symbol.iterator]:Yee};function Si(t){return typeof t=="string"?new Cn([[document.querySelector(t)]],[document.documentElement]):new Cn([[t]],XB)}function hT(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function KB(t,e){var i=Object.create(t.prototype);for(var s in e)i[s]=e[s];return i}function pm(){}var jp=.7,bv=1/jp,vu="\\s*([+-]?\\d+)\\s*",qp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ja="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xee=/^#([0-9a-f]{3,8})$/,Kee=new RegExp(`^rgb\\(${vu},${vu},${vu}\\)$`),Zee=new RegExp(`^rgb\\(${ja},${ja},${ja}\\)$`),Qee=new RegExp(`^rgba\\(${vu},${vu},${vu},${qp}\\)$`),Jee=new RegExp(`^rgba\\(${ja},${ja},${ja},${qp}\\)$`),ete=new RegExp(`^hsl\\(${qp},${ja},${ja}\\)$`),tte=new RegExp(`^hsla\\(${qp},${ja},${ja},${qp}\\)$`),dR={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hT(pm,$p,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:fR,formatHex:fR,formatHex8:ite,formatHsl:rte,formatRgb:pR,toString:pR});function fR(){return this.rgb().formatHex()}function ite(){return this.rgb().formatHex8()}function rte(){return ZB(this).formatHsl()}function pR(){return this.rgb().formatRgb()}function $p(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=Xee.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?mR(e):i===3?new nn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?hy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?hy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Kee.exec(t))?new nn(e[1],e[2],e[3],1):(e=Zee.exec(t))?new nn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Qee.exec(t))?hy(e[1],e[2],e[3],e[4]):(e=Jee.exec(t))?hy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ete.exec(t))?vR(e[1],e[2]/100,e[3]/100,1):(e=tte.exec(t))?vR(e[1],e[2]/100,e[3]/100,e[4]):dR.hasOwnProperty(t)?mR(dR[t]):t==="transparent"?new nn(NaN,NaN,NaN,0):null}function mR(t){return new nn(t>>16&255,t>>8&255,t&255,1)}function hy(t,e,i,s){return s<=0&&(t=e=i=NaN),new nn(t,e,i,s)}function ste(t){return t instanceof pm||(t=$p(t)),t?(t=t.rgb(),new nn(t.r,t.g,t.b,t.opacity)):new nn}function xk(t,e,i,s){return arguments.length===1?ste(t):new nn(t,e,i,s??1)}function nn(t,e,i,s){this.r=+t,this.g=+e,this.b=+i,this.opacity=+s}hT(nn,xk,KB(pm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?jp:Math.pow(jp,t),new nn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new nn(th(this.r),th(this.g),th(this.b),_v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:gR,formatHex:gR,formatHex8:nte,formatRgb:yR,toString:yR}));function gR(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}`}function nte(){return`#${Gc(this.r)}${Gc(this.g)}${Gc(this.b)}${Gc((isNaN(this.opacity)?1:this.opacity)*255)}`}function yR(){const t=_v(this.opacity);return`${t===1?"rgb(":"rgba("}${th(this.r)}, ${th(this.g)}, ${th(this.b)}${t===1?")":`, ${t})`}`}function _v(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function th(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Gc(t){return t=th(t),(t<16?"0":"")+t.toString(16)}function vR(t,e,i,s){return s<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new da(t,e,i,s)}function ZB(t){if(t instanceof da)return new da(t.h,t.s,t.l,t.opacity);if(t instanceof pm||(t=$p(t)),!t)return new da;if(t instanceof da)return t;t=t.rgb();var e=t.r/255,i=t.g/255,s=t.b/255,n=Math.min(e,i,s),l=Math.max(e,i,s),a=NaN,h=l-n,d=(l+n)/2;return h?(e===l?a=(i-s)/h+(i<s)*6:i===l?a=(s-e)/h+2:a=(e-i)/h+4,h/=d<.5?l+n:2-l-n,a*=60):h=d>0&&d<1?0:a,new da(a,h,d,t.opacity)}function ate(t,e,i,s){return arguments.length===1?ZB(t):new da(t,e,i,s??1)}function da(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}hT(da,ate,KB(pm,{brighter(t){return t=t==null?bv:Math.pow(bv,t),new da(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?jp:Math.pow(jp,t),new da(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*e,n=2*i-s;return new nn(mx(t>=240?t-240:t+120,n,s),mx(t,n,s),mx(t<120?t+240:t-120,n,s),this.opacity)},clamp(){return new da(bR(this.h),uy(this.s),uy(this.l),_v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_v(this.opacity);return`${t===1?"hsl(":"hsla("}${bR(this.h)}, ${uy(this.s)*100}%, ${uy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function bR(t){return t=(t||0)%360,t<0?t+360:t}function uy(t){return Math.max(0,Math.min(1,t||0))}function mx(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const uT=t=>()=>t;function QB(t,e){return function(i){return t+i*e}}function ote(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(s){return Math.pow(t+s*e,i)}}function ode(t,e){var i=e-t;return i?QB(t,i>180||i<-180?i-360*Math.round(i/360):i):uT(isNaN(t)?e:t)}function lte(t){return(t=+t)==1?JB:function(e,i){return i-e?ote(e,i,t):uT(isNaN(e)?i:e)}}function JB(t,e){var i=e-t;return i?QB(t,i):uT(isNaN(t)?e:t)}const _R=function t(e){var i=lte(e);function s(n,l){var a=i((n=xk(n)).r,(l=xk(l)).r),h=i(n.g,l.g),d=i(n.b,l.b),f=JB(n.opacity,l.opacity);return function(g){return n.r=a(g),n.g=h(g),n.b=d(g),n.opacity=f(g),n+""}}return s.gamma=t,s}(1);function gl(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var kk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gx=new RegExp(kk.source,"g");function cte(t){return function(){return t}}function hte(t){return function(e){return t(e)+""}}function ute(t,e){var i=kk.lastIndex=gx.lastIndex=0,s,n,l,a=-1,h=[],d=[];for(t=t+"",e=e+"";(s=kk.exec(t))&&(n=gx.exec(e));)(l=n.index)>i&&(l=e.slice(i,l),h[a]?h[a]+=l:h[++a]=l),(s=s[0])===(n=n[0])?h[a]?h[a]+=n:h[++a]=n:(h[++a]=null,d.push({i:a,x:gl(s,n)})),i=gx.lastIndex;return i<e.length&&(l=e.slice(i),h[a]?h[a]+=l:h[++a]=l),h.length<2?d[0]?hte(d[0].x):cte(e):(e=d.length,function(f){for(var g=0,v;g<e;++g)h[(v=d[g]).i]=v.x(f);return h.join("")})}var wR=180/Math.PI,Sk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eN(t,e,i,s,n,l){var a,h,d;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(d=t*i+e*s)&&(i-=t*d,s-=e*d),(h=Math.sqrt(i*i+s*s))&&(i/=h,s/=h,d/=h),t*s<e*i&&(t=-t,e=-e,d=-d,a=-a),{translateX:n,translateY:l,rotate:Math.atan2(e,t)*wR,skewX:Math.atan(d)*wR,scaleX:a,scaleY:h}}var dy;function dte(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Sk:eN(e.a,e.b,e.c,e.d,e.e,e.f)}function fte(t){return t==null||(dy||(dy=document.createElementNS("http://www.w3.org/2000/svg","g")),dy.setAttribute("transform",t),!(t=dy.transform.baseVal.consolidate()))?Sk:(t=t.matrix,eN(t.a,t.b,t.c,t.d,t.e,t.f))}function tN(t,e,i,s){function n(f){return f.length?f.pop()+" ":""}function l(f,g,v,x,b,C){if(f!==v||g!==x){var O=b.push("translate(",null,e,null,i);C.push({i:O-4,x:gl(f,v)},{i:O-2,x:gl(g,x)})}else(v||x)&&b.push("translate("+v+e+x+i)}function a(f,g,v,x){f!==g?(f-g>180?g+=360:g-f>180&&(f+=360),x.push({i:v.push(n(v)+"rotate(",null,s)-2,x:gl(f,g)})):g&&v.push(n(v)+"rotate("+g+s)}function h(f,g,v,x){f!==g?x.push({i:v.push(n(v)+"skewX(",null,s)-2,x:gl(f,g)}):g&&v.push(n(v)+"skewX("+g+s)}function d(f,g,v,x,b,C){if(f!==v||g!==x){var O=b.push(n(b)+"scale(",null,",",null,")");C.push({i:O-4,x:gl(f,v)},{i:O-2,x:gl(g,x)})}else(v!==1||x!==1)&&b.push(n(b)+"scale("+v+","+x+")")}return function(f,g){var v=[],x=[];return f=t(f),g=t(g),l(f.translateX,f.translateY,g.translateX,g.translateY,v,x),a(f.rotate,g.rotate,v,x),h(f.skewX,g.skewX,v,x),d(f.scaleX,f.scaleY,g.scaleX,g.scaleY,v,x),f=g=null,function(b){for(var C=-1,O=x.length,P;++C<O;)v[(P=x[C]).i]=P.x(b);return v.join("")}}}var pte=tN(dte,"px, ","px)","deg)"),mte=tN(fte,", ",")",")"),Vu=0,sp=0,qf=0,iN=1e3,wv,np,xv=0,ch=0,bb=0,Vp=typeof performance=="object"&&performance.now?performance:Date,rN=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function dT(){return ch||(rN(gte),ch=Vp.now()+bb)}function gte(){ch=0}function kv(){this._call=this._time=this._next=null}kv.prototype=sN.prototype={constructor:kv,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?dT():+i)+(e==null?0:+e),!this._next&&np!==this&&(np?np._next=this:wv=this,np=this),this._call=t,this._time=i,Tk()},stop:function(){this._call&&(this._call=null,this._time=1/0,Tk())}};function sN(t,e,i){var s=new kv;return s.restart(t,e,i),s}function yte(){dT(),++Vu;for(var t=wv,e;t;)(e=ch-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Vu}function xR(){ch=(xv=Vp.now())+bb,Vu=sp=0;try{yte()}finally{Vu=0,bte(),ch=0}}function vte(){var t=Vp.now(),e=t-xv;e>iN&&(bb-=e,xv=t)}function bte(){for(var t,e=wv,i,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:wv=i);np=t,Tk(s)}function Tk(t){if(!Vu){sp&&(sp=clearTimeout(sp));var e=t-ch;e>24?(t<1/0&&(sp=setTimeout(xR,t-Vp.now()-bb)),qf&&(qf=clearInterval(qf))):(qf||(xv=Vp.now(),qf=setInterval(vte,iN)),Vu=1,rN(xR))}}function kR(t,e,i){var s=new kv;return e=e==null?0:+e,s.restart(n=>{s.stop(),t(n+e)},e,i),s}var _te=BB("start","end","cancel","interrupt"),wte=[],nN=0,SR=1,Ck=2,Fy=3,TR=4,Ek=5,Iy=6;function _b(t,e,i,s,n,l){var a=t.__transition;if(!a)t.__transition={};else if(i in a)return;xte(t,i,{name:e,index:s,group:n,on:_te,tween:wte,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:nN})}function fT(t,e){var i=xa(t,e);if(i.state>nN)throw new Error("too late; already scheduled");return i}function Ja(t,e){var i=xa(t,e);if(i.state>Fy)throw new Error("too late; already running");return i}function xa(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function xte(t,e,i){var s=t.__transition,n;s[e]=i,i.timer=sN(l,0,i.time);function l(f){i.state=SR,i.timer.restart(a,i.delay,i.time),i.delay<=f&&a(f-i.delay)}function a(f){var g,v,x,b;if(i.state!==SR)return d();for(g in s)if(b=s[g],b.name===i.name){if(b.state===Fy)return kR(a);b.state===TR?(b.state=Iy,b.timer.stop(),b.on.call("interrupt",t,t.__data__,b.index,b.group),delete s[g]):+g<e&&(b.state=Iy,b.timer.stop(),b.on.call("cancel",t,t.__data__,b.index,b.group),delete s[g])}if(kR(function(){i.state===Fy&&(i.state=TR,i.timer.restart(h,i.delay,i.time),h(f))}),i.state=Ck,i.on.call("start",t,t.__data__,i.index,i.group),i.state===Ck){for(i.state=Fy,n=new Array(x=i.tween.length),g=0,v=-1;g<x;++g)(b=i.tween[g].value.call(t,t.__data__,i.index,i.group))&&(n[++v]=b);n.length=v+1}}function h(f){for(var g=f<i.duration?i.ease.call(null,f/i.duration):(i.timer.restart(d),i.state=Ek,1),v=-1,x=n.length;++v<x;)n[v].call(t,g);i.state===Ek&&(i.on.call("end",t,t.__data__,i.index,i.group),d())}function d(){i.state=Iy,i.timer.stop(),delete s[e];for(var f in s)return;delete t.__transition}}function kte(t,e){var i=t.__transition,s,n,l=!0,a;if(i){e=e==null?null:e+"";for(a in i){if((s=i[a]).name!==e){l=!1;continue}n=s.state>Ck&&s.state<Ek,s.state=Iy,s.timer.stop(),s.on.call(n?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[a]}l&&delete t.__transition}}function Ste(t){return this.each(function(){kte(this,t)})}function Tte(t,e){var i,s;return function(){var n=Ja(this,t),l=n.tween;if(l!==i){s=i=l;for(var a=0,h=s.length;a<h;++a)if(s[a].name===e){s=s.slice(),s.splice(a,1);break}}n.tween=s}}function Cte(t,e,i){var s,n;if(typeof i!="function")throw new Error;return function(){var l=Ja(this,t),a=l.tween;if(a!==s){n=(s=a).slice();for(var h={name:e,value:i},d=0,f=n.length;d<f;++d)if(n[d].name===e){n[d]=h;break}d===f&&n.push(h)}l.tween=n}}function Ete(t,e){var i=this._id;if(t+="",arguments.length<2){for(var s=xa(this.node(),i).tween,n=0,l=s.length,a;n<l;++n)if((a=s[n]).name===t)return a.value;return null}return this.each((e==null?Tte:Cte)(i,t,e))}function pT(t,e,i){var s=t._id;return t.each(function(){var n=Ja(this,s);(n.value||(n.value={}))[e]=i.apply(this,arguments)}),function(n){return xa(n,s).value[e]}}function aN(t,e){var i;return(typeof e=="number"?gl:e instanceof $p?_R:(i=$p(e))?(e=i,_R):ute)(t,e)}function Ote(t){return function(){this.removeAttribute(t)}}function Mte(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ate(t,e,i){var s,n=i+"",l;return function(){var a=this.getAttribute(t);return a===n?null:a===s?l:l=e(s=a,i)}}function Pte(t,e,i){var s,n=i+"",l;return function(){var a=this.getAttributeNS(t.space,t.local);return a===n?null:a===s?l:l=e(s=a,i)}}function Dte(t,e,i){var s,n,l;return function(){var a,h=i(this),d;return h==null?void this.removeAttribute(t):(a=this.getAttribute(t),d=h+"",a===d?null:a===s&&d===n?l:(n=d,l=e(s=a,h)))}}function Lte(t,e,i){var s,n,l;return function(){var a,h=i(this),d;return h==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),d=h+"",a===d?null:a===s&&d===n?l:(n=d,l=e(s=a,h)))}}function Rte(t,e){var i=vb(t),s=i==="transform"?mte:aN;return this.attrTween(t,typeof e=="function"?(i.local?Lte:Dte)(i,s,pT(this,"attr."+t,e)):e==null?(i.local?Mte:Ote)(i):(i.local?Pte:Ate)(i,s,e))}function Fte(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function Ite(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function Bte(t,e){var i,s;function n(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&Ite(t,l)),i}return n._value=e,n}function Nte(t,e){var i,s;function n(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&Fte(t,l)),i}return n._value=e,n}function zte(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var s=vb(t);return this.tween(i,(s.local?Bte:Nte)(s,e))}function Ute(t,e){return function(){fT(this,t).delay=+e.apply(this,arguments)}}function Hte(t,e){return e=+e,function(){fT(this,t).delay=e}}function Wte(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ute:Hte)(e,t)):xa(this.node(),e).delay}function jte(t,e){return function(){Ja(this,t).duration=+e.apply(this,arguments)}}function qte(t,e){return e=+e,function(){Ja(this,t).duration=e}}function $te(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jte:qte)(e,t)):xa(this.node(),e).duration}function Vte(t,e){if(typeof e!="function")throw new Error;return function(){Ja(this,t).ease=e}}function Yte(t){var e=this._id;return arguments.length?this.each(Vte(e,t)):xa(this.node(),e).ease}function Gte(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;Ja(this,t).ease=i}}function Xte(t){if(typeof t!="function")throw new Error;return this.each(Gte(this._id,t))}function Kte(t){typeof t!="function"&&(t=UB(t));for(var e=this._groups,i=e.length,s=new Array(i),n=0;n<i;++n)for(var l=e[n],a=l.length,h=s[n]=[],d,f=0;f<a;++f)(d=l[f])&&t.call(d,d.__data__,f,l)&&h.push(d);return new $o(s,this._parents,this._name,this._id)}function Zte(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,s=e.length,n=i.length,l=Math.min(s,n),a=new Array(s),h=0;h<l;++h)for(var d=e[h],f=i[h],g=d.length,v=a[h]=new Array(g),x,b=0;b<g;++b)(x=d[b]||f[b])&&(v[b]=x);for(;h<s;++h)a[h]=e[h];return new $o(a,this._parents,this._name,this._id)}function Qte(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function Jte(t,e,i){var s,n,l=Qte(e)?fT:Ja;return function(){var a=l(this,t),h=a.on;h!==s&&(n=(s=h).copy()).on(e,i),a.on=n}}function eie(t,e){var i=this._id;return arguments.length<2?xa(this.node(),i).on.on(t):this.each(Jte(i,t,e))}function tie(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function iie(){return this.on("end.remove",tie(this._id))}function rie(t){var e=this._name,i=this._id;typeof t!="function"&&(t=lT(t));for(var s=this._groups,n=s.length,l=new Array(n),a=0;a<n;++a)for(var h=s[a],d=h.length,f=l[a]=new Array(d),g,v,x=0;x<d;++x)(g=h[x])&&(v=t.call(g,g.__data__,x,h))&&("__data__"in g&&(v.__data__=g.__data__),f[x]=v,_b(f[x],e,i,x,f,xa(g,i)));return new $o(l,this._parents,e,i)}function sie(t){var e=this._name,i=this._id;typeof t!="function"&&(t=zB(t));for(var s=this._groups,n=s.length,l=[],a=[],h=0;h<n;++h)for(var d=s[h],f=d.length,g,v=0;v<f;++v)if(g=d[v]){for(var x=t.call(g,g.__data__,v,d),b,C=xa(g,i),O=0,P=x.length;O<P;++O)(b=x[O])&&_b(b,e,i,O,x,C);l.push(x),a.push(g)}return new $o(l,a,e,i)}var nie=fm.prototype.constructor;function aie(){return new nie(this._groups,this._parents)}function oie(t,e){var i,s,n;return function(){var l=$u(this,t),a=(this.style.removeProperty(t),$u(this,t));return l===a?null:l===i&&a===s?n:n=e(i=l,s=a)}}function oN(t){return function(){this.style.removeProperty(t)}}function lie(t,e,i){var s,n=i+"",l;return function(){var a=$u(this,t);return a===n?null:a===s?l:l=e(s=a,i)}}function cie(t,e,i){var s,n,l;return function(){var a=$u(this,t),h=i(this),d=h+"";return h==null&&(d=h=(this.style.removeProperty(t),$u(this,t))),a===d?null:a===s&&d===n?l:(n=d,l=e(s=a,h))}}function hie(t,e){var i,s,n,l="style."+e,a="end."+l,h;return function(){var d=Ja(this,t),f=d.on,g=d.value[l]==null?h||(h=oN(e)):void 0;(f!==i||n!==g)&&(s=(i=f).copy()).on(a,n=g),d.on=s}}function uie(t,e,i){var s=(t+="")=="transform"?pte:aN;return e==null?this.styleTween(t,oie(t,s)).on("end.style."+t,oN(t)):typeof e=="function"?this.styleTween(t,cie(t,s,pT(this,"style."+t,e))).each(hie(this._id,t)):this.styleTween(t,lie(t,s,e),i).on("end.style."+t,null)}function die(t,e,i){return function(s){this.style.setProperty(t,e.call(this,s),i)}}function fie(t,e,i){var s,n;function l(){var a=e.apply(this,arguments);return a!==n&&(s=(n=a)&&die(t,a,i)),s}return l._value=e,l}function pie(t,e,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;return this.tween(s,fie(t,e,i??""))}function mie(t){return function(){this.textContent=t}}function gie(t){return function(){var e=t(this);this.textContent=e??""}}function yie(t){return this.tween("text",typeof t=="function"?gie(pT(this,"text",t)):mie(t==null?"":t+""))}function vie(t){return function(e){this.textContent=t.call(this,e)}}function bie(t){var e,i;function s(){var n=t.apply(this,arguments);return n!==i&&(e=(i=n)&&vie(n)),e}return s._value=t,s}function _ie(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bie(t))}function wie(){for(var t=this._name,e=this._id,i=lN(),s=this._groups,n=s.length,l=0;l<n;++l)for(var a=s[l],h=a.length,d,f=0;f<h;++f)if(d=a[f]){var g=xa(d,e);_b(d,t,i,f,a,{time:g.time+g.delay+g.duration,delay:0,duration:g.duration,ease:g.ease})}return new $o(s,this._parents,t,i)}function xie(){var t,e,i=this,s=i._id,n=i.size();return new Promise(function(l,a){var h={value:a},d={value:function(){--n===0&&l()}};i.each(function(){var f=Ja(this,s),g=f.on;g!==t&&(e=(t=g).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(d)),f.on=e}),n===0&&l()})}var kie=0;function $o(t,e,i,s){this._groups=t,this._parents=e,this._name=i,this._id=s}function lN(){return++kie}var Oo=fm.prototype;$o.prototype={constructor:$o,select:rie,selectAll:sie,selectChild:Oo.selectChild,selectChildren:Oo.selectChildren,filter:Kte,merge:Zte,selection:aie,transition:wie,call:Oo.call,nodes:Oo.nodes,node:Oo.node,size:Oo.size,empty:Oo.empty,each:Oo.each,on:eie,attr:Rte,attrTween:zte,style:uie,styleTween:pie,text:yie,textTween:_ie,remove:iie,tween:Ete,delay:Wte,duration:$te,ease:Yte,easeVarying:Xte,end:xie,[Symbol.iterator]:Oo[Symbol.iterator]};function Sie(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Tie={time:null,delay:0,duration:250,ease:Sie};function Cie(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function Eie(t){var e,i;t instanceof $o?(e=t._id,t=t._name):(e=lN(),(i=Tie).time=dT(),t=t==null?null:t+"");for(var s=this._groups,n=s.length,l=0;l<n;++l)for(var a=s[l],h=a.length,d,f=0;f<h;++f)(d=a[f])&&_b(d,t,e,f,a,i||Cie(d,e));return new $o(s,this._parents,t,e)}fm.prototype.interrupt=Ste;fm.prototype.transition=Eie;const Ok=Math.PI,Mk=2*Ok,Nc=1e-6,Oie=Mk-Nc;function cN(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function Mie(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cN;const i=10**e;return function(s){this._+=s[0];for(let n=1,l=s.length;n<l;++n)this._+=Math.round(arguments[n]*i)/i+s[n]}}class Aie{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cN:Mie(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,s,n){this._append`Q${+e},${+i},${this._x1=+s},${this._y1=+n}`}bezierCurveTo(e,i,s,n,l,a){this._append`C${+e},${+i},${+s},${+n},${this._x1=+l},${this._y1=+a}`}arcTo(e,i,s,n,l){if(e=+e,i=+i,s=+s,n=+n,l=+l,l<0)throw new Error(`negative radius: ${l}`);let a=this._x1,h=this._y1,d=s-e,f=n-i,g=a-e,v=h-i,x=g*g+v*v;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(x>Nc)if(!(Math.abs(v*d-f*g)>Nc)||!l)this._append`L${this._x1=e},${this._y1=i}`;else{let b=s-a,C=n-h,O=d*d+f*f,P=b*b+C*C,L=Math.sqrt(O),u=Math.sqrt(x),S=l*Math.tan((Ok-Math.acos((O+x-P)/(2*L*u)))/2),y=S/u,k=S/L;Math.abs(y-1)>Nc&&this._append`L${e+y*g},${i+y*v}`,this._append`A${l},${l},0,0,${+(v*b>g*C)},${this._x1=e+k*d},${this._y1=i+k*f}`}}arc(e,i,s,n,l,a){if(e=+e,i=+i,s=+s,a=!!a,s<0)throw new Error(`negative radius: ${s}`);let h=s*Math.cos(n),d=s*Math.sin(n),f=e+h,g=i+d,v=1^a,x=a?n-l:l-n;this._x1===null?this._append`M${f},${g}`:(Math.abs(this._x1-f)>Nc||Math.abs(this._y1-g)>Nc)&&this._append`L${f},${g}`,s&&(x<0&&(x=x%Mk+Mk),x>Oie?this._append`A${s},${s},0,1,${v},${e-h},${i-d}A${s},${s},0,1,${v},${this._x1=f},${this._y1=g}`:x>Nc&&this._append`A${s},${s},0,${+(x>=Ok)},${v},${this._x1=e+s*Math.cos(l)},${this._y1=i+s*Math.sin(l)}`)}rect(e,i,s,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${s=+s}v${+n}h${-s}Z`}toString(){return this._}}function Qh(t){return function(){return t}}const lde=Math.abs,cde=Math.atan2,hde=Math.cos,ude=Math.max,dde=Math.min,fde=Math.sin,pde=Math.sqrt,CR=1e-12,mT=Math.PI,ER=mT/2,mde=2*mT;function gde(t){return t>1?0:t<-1?mT:Math.acos(t)}function yde(t){return t>=1?ER:t<=-1?-ER:Math.asin(t)}function Pie(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const s=Math.floor(i);if(!(s>=0))throw new RangeError(`invalid digits: ${i}`);e=s}return t},()=>new Aie(e)}function Die(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hN(t){this._context=t}hN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Sv(t){return new hN(t)}function Lie(t){return t[0]}function Rie(t){return t[1]}function Fie(t,e){var i=Qh(!0),s=null,n=Sv,l=null,a=Pie(h);t=typeof t=="function"?t:t===void 0?Lie:Qh(t),e=typeof e=="function"?e:e===void 0?Rie:Qh(e);function h(d){var f,g=(d=Die(d)).length,v,x=!1,b;for(s==null&&(l=n(b=a())),f=0;f<=g;++f)!(f<g&&i(v=d[f],f,d))===x&&((x=!x)?l.lineStart():l.lineEnd()),x&&l.point(+t(v,f,d),+e(v,f,d));if(b)return l=null,b+""||null}return h.x=function(d){return arguments.length?(t=typeof d=="function"?d:Qh(+d),h):t},h.y=function(d){return arguments.length?(e=typeof d=="function"?d:Qh(+d),h):e},h.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Qh(!!d),h):i},h.curve=function(d){return arguments.length?(n=d,s!=null&&(l=n(s)),h):n},h.context=function(d){return arguments.length?(d==null?s=l=null:l=n(s=d),h):s},h}class uN{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function dN(t){return new uN(t,!0)}function fN(t){return new uN(t,!1)}function El(){}function Tv(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function wb(t){this._context=t}wb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Tv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function By(t){return new wb(t)}function pN(t){this._context=t}pN.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Iie(t){return new pN(t)}function mN(t){this._context=t}mN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 3:this._point=4;default:Tv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Bie(t){return new mN(t)}function gN(t,e){this._basis=new wb(t),this._beta=e}gN.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var s=t[0],n=e[0],l=t[i]-s,a=e[i]-n,h=-1,d;++h<=i;)d=h/i,this._basis.point(this._beta*t[h]+(1-this._beta)*(s+d*l),this._beta*e[h]+(1-this._beta)*(n+d*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Nie=function t(e){function i(s){return e===1?new wb(s):new gN(s,e)}return i.beta=function(s){return t(+s)},i}(.85);function Cv(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function gT(t,e){this._context=t,this._k=(1-e)/6}gT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Cv(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Cv(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const yN=function t(e){function i(s){return new gT(s,e)}return i.tension=function(s){return t(+s)},i}(0);function yT(t,e){this._context=t,this._k=(1-e)/6}yT.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Cv(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zie=function t(e){function i(s){return new yT(s,e)}return i.tension=function(s){return t(+s)},i}(0);function vT(t,e){this._context=t,this._k=(1-e)/6}vT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Cv(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Uie=function t(e){function i(s){return new vT(s,e)}return i.tension=function(s){return t(+s)},i}(0);function bT(t,e,i){var s=t._x1,n=t._y1,l=t._x2,a=t._y2;if(t._l01_a>CR){var h=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,d=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*h-t._x0*t._l12_2a+t._x2*t._l01_2a)/d,n=(n*h-t._y0*t._l12_2a+t._y2*t._l01_2a)/d}if(t._l23_a>CR){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,g=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*f+t._x1*t._l23_2a-e*t._l12_2a)/g,a=(a*f+t._y1*t._l23_2a-i*t._l12_2a)/g}t._context.bezierCurveTo(s,n,l,a,t._x2,t._y2)}function vN(t,e){this._context=t,this._alpha=e}vN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:bT(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const bN=function t(e){function i(s){return e?new vN(s,e):new gT(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function _N(t,e){this._context=t,this._alpha=e}_N.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:bT(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Hie=function t(e){function i(s){return e?new _N(s,e):new yT(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function wN(t,e){this._context=t,this._alpha=e}wN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:bT(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Wie=function t(e){function i(s){return e?new wN(s,e):new vT(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function xN(t){this._context=t}xN.prototype={areaStart:El,areaEnd:El,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jie(t){return new xN(t)}function OR(t){return t<0?-1:1}function MR(t,e,i){var s=t._x1-t._x0,n=e-t._x1,l=(t._y1-t._y0)/(s||n<0&&-0),a=(i-t._y1)/(n||s<0&&-0),h=(l*n+a*s)/(s+n);return(OR(l)+OR(a))*Math.min(Math.abs(l),Math.abs(a),.5*Math.abs(h))||0}function AR(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function yx(t,e,i){var s=t._x0,n=t._y0,l=t._x1,a=t._y1,h=(l-s)/3;t._context.bezierCurveTo(s+h,n+h*e,l-h,a-h*i,l,a)}function Ev(t){this._context=t}Ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:yx(this,this._t0,AR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,yx(this,AR(this,i=MR(this,t,e)),i);break;default:yx(this,this._t0,i=MR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function kN(t){this._context=new SN(t)}(kN.prototype=Object.create(Ev.prototype)).point=function(t,e){Ev.prototype.point.call(this,e,t)};function SN(t){this._context=t}SN.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,s,n,l){this._context.bezierCurveTo(e,t,s,i,l,n)}};function TN(t){return new Ev(t)}function CN(t){return new kN(t)}function EN(t){this._context=t}EN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var s=PR(t),n=PR(e),l=0,a=1;a<i;++l,++a)this._context.bezierCurveTo(s[0][l],n[0][l],s[1][l],n[1][l],t[a],e[a]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PR(t){var e,i=t.length-1,s,n=new Array(i),l=new Array(i),a=new Array(i);for(n[0]=0,l[0]=2,a[0]=t[0]+2*t[1],e=1;e<i-1;++e)n[e]=1,l[e]=4,a[e]=4*t[e]+2*t[e+1];for(n[i-1]=2,l[i-1]=7,a[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s=n[e]/l[e-1],l[e]-=s,a[e]-=s*a[e-1];for(n[i-1]=a[i-1]/l[i-1],e=i-2;e>=0;--e)n[e]=(a[e]-n[e+1])/l[e];for(l[i-1]=(t[i]+n[i-1])/2,e=0;e<i-1;++e)l[e]=2*t[e+1]-n[e+1];return[n,l]}function ON(t){return new EN(t)}function xb(t,e){this._context=t,this._t=e}xb.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function MN(t){return new xb(t,.5)}function AN(t){return new xb(t,0)}function PN(t){return new xb(t,1)}function ap(t,e,i){this.k=t,this.x=e,this.y=i}ap.prototype={constructor:ap,scale:function(t){return t===1?this:new ap(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new ap(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ap.prototype;var DN=typeof global=="object"&&global&&global.Object===Object&&global,qie=typeof self=="object"&&self&&self.Object===Object&&self,eo=DN||qie||Function("return this")(),Ov=eo.Symbol,LN=Object.prototype,$ie=LN.hasOwnProperty,Vie=LN.toString,$f=Ov?Ov.toStringTag:void 0;function Yie(t){var e=$ie.call(t,$f),i=t[$f];try{t[$f]=void 0;var s=!0}catch{}var n=Vie.call(t);return s&&(e?t[$f]=i:delete t[$f]),n}var Gie=Object.prototype,Xie=Gie.toString;function Kie(t){return Xie.call(t)}var Zie="[object Null]",Qie="[object Undefined]",DR=Ov?Ov.toStringTag:void 0;function rd(t){return t==null?t===void 0?Qie:Zie:DR&&DR in Object(t)?Yie(t):Kie(t)}function gh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Jie="[object AsyncFunction]",ere="[object Function]",tre="[object GeneratorFunction]",ire="[object Proxy]";function _T(t){if(!gh(t))return!1;var e=rd(t);return e==ere||e==tre||e==Jie||e==ire}var vx=eo["__core-js_shared__"],LR=function(){var t=/[^.]+$/.exec(vx&&vx.keys&&vx.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function rre(t){return!!LR&&LR in t}var sre=Function.prototype,nre=sre.toString;function yh(t){if(t!=null){try{return nre.call(t)}catch{}try{return t+""}catch{}}return""}var are=/[\\^$.*+?()[\]{}|]/g,ore=/^\[object .+?Constructor\]$/,lre=Function.prototype,cre=Object.prototype,hre=lre.toString,ure=cre.hasOwnProperty,dre=RegExp("^"+hre.call(ure).replace(are,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function fre(t){if(!gh(t)||rre(t))return!1;var e=_T(t)?dre:ore;return e.test(yh(t))}function pre(t,e){return t==null?void 0:t[e]}function vh(t,e){var i=pre(t,e);return fre(i)?i:void 0}var Yp=vh(Object,"create");function mre(){this.__data__=Yp?Yp(null):{},this.size=0}function gre(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yre="__lodash_hash_undefined__",vre=Object.prototype,bre=vre.hasOwnProperty;function _re(t){var e=this.__data__;if(Yp){var i=e[t];return i===yre?void 0:i}return bre.call(e,t)?e[t]:void 0}var wre=Object.prototype,xre=wre.hasOwnProperty;function kre(t){var e=this.__data__;return Yp?e[t]!==void 0:xre.call(e,t)}var Sre="__lodash_hash_undefined__";function Tre(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Yp&&e===void 0?Sre:e,this}function hh(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}hh.prototype.clear=mre;hh.prototype.delete=gre;hh.prototype.get=_re;hh.prototype.has=kre;hh.prototype.set=Tre;function Cre(){this.__data__=[],this.size=0}function kb(t,e){return t===e||t!==t&&e!==e}function Sb(t,e){for(var i=t.length;i--;)if(kb(t[i][0],e))return i;return-1}var Ere=Array.prototype,Ore=Ere.splice;function Mre(t){var e=this.__data__,i=Sb(e,t);if(i<0)return!1;var s=e.length-1;return i==s?e.pop():Ore.call(e,i,1),--this.size,!0}function Are(t){var e=this.__data__,i=Sb(e,t);return i<0?void 0:e[i][1]}function Pre(t){return Sb(this.__data__,t)>-1}function Dre(t,e){var i=this.__data__,s=Sb(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this}function el(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}el.prototype.clear=Cre;el.prototype.delete=Mre;el.prototype.get=Are;el.prototype.has=Pre;el.prototype.set=Dre;var Gp=vh(eo,"Map");function Lre(){this.size=0,this.__data__={hash:new hh,map:new(Gp||el),string:new hh}}function Rre(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Tb(t,e){var i=t.__data__;return Rre(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Fre(t){var e=Tb(this,t).delete(t);return this.size-=e?1:0,e}function Ire(t){return Tb(this,t).get(t)}function Bre(t){return Tb(this,t).has(t)}function Nre(t,e){var i=Tb(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this}function Ll(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}Ll.prototype.clear=Lre;Ll.prototype.delete=Fre;Ll.prototype.get=Ire;Ll.prototype.has=Bre;Ll.prototype.set=Nre;var zre="Expected a function";function mm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zre);var i=function(){var s=arguments,n=e?e.apply(this,s):s[0],l=i.cache;if(l.has(n))return l.get(n);var a=t.apply(this,s);return i.cache=l.set(n,a)||l,a};return i.cache=new(mm.Cache||Ll),i}mm.Cache=Ll;function Ure(){this.__data__=new el,this.size=0}function Hre(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Wre(t){return this.__data__.get(t)}function jre(t){return this.__data__.has(t)}var qre=200;function $re(t,e){var i=this.__data__;if(i instanceof el){var s=i.__data__;if(!Gp||s.length<qre-1)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new Ll(s)}return i.set(t,e),this.size=i.size,this}function sd(t){var e=this.__data__=new el(t);this.size=e.size}sd.prototype.clear=Ure;sd.prototype.delete=Hre;sd.prototype.get=Wre;sd.prototype.has=jre;sd.prototype.set=$re;var Mv=function(){try{var t=vh(Object,"defineProperty");return t({},"",{}),t}catch{}}();function wT(t,e,i){e=="__proto__"&&Mv?Mv(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function Ak(t,e,i){(i!==void 0&&!kb(t[e],i)||i===void 0&&!(e in t))&&wT(t,e,i)}function Vre(t){return function(e,i,s){for(var n=-1,l=Object(e),a=s(e),h=a.length;h--;){var d=a[++n];if(i(l[d],d,l)===!1)break}return e}}var Yre=Vre(),RN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,RR=RN&&typeof module=="object"&&module&&!module.nodeType&&module,Gre=RR&&RR.exports===RN,FR=Gre?eo.Buffer:void 0,IR=FR?FR.allocUnsafe:void 0;function Xre(t,e){if(e)return t.slice();var i=t.length,s=IR?IR(i):new t.constructor(i);return t.copy(s),s}var BR=eo.Uint8Array;function Kre(t){var e=new t.constructor(t.byteLength);return new BR(e).set(new BR(t)),e}function Zre(t,e){var i=e?Kre(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Qre(t,e){var i=-1,s=t.length;for(e||(e=Array(s));++i<s;)e[i]=t[i];return e}var NR=Object.create,Jre=function(){function t(){}return function(e){if(!gh(e))return{};if(NR)return NR(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function FN(t,e){return function(i){return t(e(i))}}var IN=FN(Object.getPrototypeOf,Object),ese=Object.prototype;function Cb(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||ese;return t===i}function tse(t){return typeof t.constructor=="function"&&!Cb(t)?Jre(IN(t)):{}}function gm(t){return t!=null&&typeof t=="object"}var ise="[object Arguments]";function zR(t){return gm(t)&&rd(t)==ise}var BN=Object.prototype,rse=BN.hasOwnProperty,sse=BN.propertyIsEnumerable,Av=zR(function(){return arguments}())?zR:function(t){return gm(t)&&rse.call(t,"callee")&&!sse.call(t,"callee")},Pv=Array.isArray,nse=9007199254740991;function NN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=nse}function Eb(t){return t!=null&&NN(t.length)&&!_T(t)}function ase(t){return gm(t)&&Eb(t)}function ose(){return!1}var zN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,UR=zN&&typeof module=="object"&&module&&!module.nodeType&&module,lse=UR&&UR.exports===zN,HR=lse?eo.Buffer:void 0,cse=HR?HR.isBuffer:void 0,xT=cse||ose,hse="[object Object]",use=Function.prototype,dse=Object.prototype,UN=use.toString,fse=dse.hasOwnProperty,pse=UN.call(Object);function mse(t){if(!gm(t)||rd(t)!=hse)return!1;var e=IN(t);if(e===null)return!0;var i=fse.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&UN.call(i)==pse}var gse="[object Arguments]",yse="[object Array]",vse="[object Boolean]",bse="[object Date]",_se="[object Error]",wse="[object Function]",xse="[object Map]",kse="[object Number]",Sse="[object Object]",Tse="[object RegExp]",Cse="[object Set]",Ese="[object String]",Ose="[object WeakMap]",Mse="[object ArrayBuffer]",Ase="[object DataView]",Pse="[object Float32Array]",Dse="[object Float64Array]",Lse="[object Int8Array]",Rse="[object Int16Array]",Fse="[object Int32Array]",Ise="[object Uint8Array]",Bse="[object Uint8ClampedArray]",Nse="[object Uint16Array]",zse="[object Uint32Array]",ir={};ir[Pse]=ir[Dse]=ir[Lse]=ir[Rse]=ir[Fse]=ir[Ise]=ir[Bse]=ir[Nse]=ir[zse]=!0;ir[gse]=ir[yse]=ir[Mse]=ir[vse]=ir[Ase]=ir[bse]=ir[_se]=ir[wse]=ir[xse]=ir[kse]=ir[Sse]=ir[Tse]=ir[Cse]=ir[Ese]=ir[Ose]=!1;function Use(t){return gm(t)&&NN(t.length)&&!!ir[rd(t)]}function Hse(t){return function(e){return t(e)}}var HN=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Tp=HN&&typeof module=="object"&&module&&!module.nodeType&&module,Wse=Tp&&Tp.exports===HN,bx=Wse&&DN.process,WR=function(){try{var t=Tp&&Tp.require&&Tp.require("util").types;return t||bx&&bx.binding&&bx.binding("util")}catch{}}(),jR=WR&&WR.isTypedArray,kT=jR?Hse(jR):Use;function Pk(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var jse=Object.prototype,qse=jse.hasOwnProperty;function $se(t,e,i){var s=t[e];(!(qse.call(t,e)&&kb(s,i))||i===void 0&&!(e in t))&&wT(t,e,i)}function Vse(t,e,i,s){var n=!i;i||(i={});for(var l=-1,a=e.length;++l<a;){var h=e[l],d=void 0;d===void 0&&(d=t[h]),n?wT(i,h,d):$se(i,h,d)}return i}function Yse(t,e){for(var i=-1,s=Array(t);++i<t;)s[i]=e(i);return s}var Gse=9007199254740991,Xse=/^(?:0|[1-9]\d*)$/;function WN(t,e){var i=typeof t;return e=e??Gse,!!e&&(i=="number"||i!="symbol"&&Xse.test(t))&&t>-1&&t%1==0&&t<e}var Kse=Object.prototype,Zse=Kse.hasOwnProperty;function Qse(t,e){var i=Pv(t),s=!i&&Av(t),n=!i&&!s&&xT(t),l=!i&&!s&&!n&&kT(t),a=i||s||n||l,h=a?Yse(t.length,String):[],d=h.length;for(var f in t)(e||Zse.call(t,f))&&!(a&&(f=="length"||n&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||WN(f,d)))&&h.push(f);return h}function Jse(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var ene=Object.prototype,tne=ene.hasOwnProperty;function ine(t){if(!gh(t))return Jse(t);var e=Cb(t),i=[];for(var s in t)s=="constructor"&&(e||!tne.call(t,s))||i.push(s);return i}function jN(t){return Eb(t)?Qse(t,!0):ine(t)}function rne(t){return Vse(t,jN(t))}function sne(t,e,i,s,n,l,a){var h=Pk(t,i),d=Pk(e,i),f=a.get(d);if(f){Ak(t,i,f);return}var g=l?l(h,d,i+"",t,e,a):void 0,v=g===void 0;if(v){var x=Pv(d),b=!x&&xT(d),C=!x&&!b&&kT(d);g=d,x||b||C?Pv(h)?g=h:ase(h)?g=Qre(h):b?(v=!1,g=Xre(d,!0)):C?(v=!1,g=Zre(d,!0)):g=[]:mse(d)||Av(d)?(g=h,Av(h)?g=rne(h):(!gh(h)||_T(h))&&(g=tse(d))):v=!1}v&&(a.set(d,g),n(g,d,s,l,a),a.delete(d)),Ak(t,i,g)}function qN(t,e,i,s,n){t!==e&&Yre(e,function(l,a){if(n||(n=new sd),gh(l))sne(t,e,a,i,qN,s,n);else{var h=s?s(Pk(t,a),l,a+"",t,e,n):void 0;h===void 0&&(h=l),Ak(t,a,h)}},jN)}function $N(t){return t}function nne(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var qR=Math.max;function ane(t,e,i){return e=qR(e===void 0?t.length-1:e,0),function(){for(var s=arguments,n=-1,l=qR(s.length-e,0),a=Array(l);++n<l;)a[n]=s[e+n];n=-1;for(var h=Array(e+1);++n<e;)h[n]=s[n];return h[e]=i(a),nne(t,this,h)}}function one(t){return function(){return t}}var lne=Mv?function(t,e){return Mv(t,"toString",{configurable:!0,enumerable:!1,value:one(e),writable:!0})}:$N,cne=800,hne=16,une=Date.now;function dne(t){var e=0,i=0;return function(){var s=une(),n=hne-(s-i);if(i=s,n>0){if(++e>=cne)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var fne=dne(lne);function pne(t,e){return fne(ane(t,e,$N),t+"")}function mne(t,e,i){if(!gh(i))return!1;var s=typeof e;return(s=="number"?Eb(i)&&WN(e,i.length):s=="string"&&e in i)?kb(i[e],t):!1}function gne(t){return pne(function(e,i){var s=-1,n=i.length,l=n>1?i[n-1]:void 0,a=n>2?i[2]:void 0;for(l=t.length>3&&typeof l=="function"?(n--,l):void 0,a&&mne(i[0],i[1],a)&&(l=n<3?void 0:l,n=1),e=Object(e);++s<n;){var h=i[s];h&&t(e,h,s,l)}return e})}var yne=gne(function(t,e,i){qN(t,e,i)}),vne="",bne={curveBasis:By,curveBasisClosed:Iie,curveBasisOpen:Bie,curveBumpX:dN,curveBumpY:fN,curveBundle:Nie,curveCardinalClosed:zie,curveCardinalOpen:Uie,curveCardinal:yN,curveCatmullRomClosed:Hie,curveCatmullRomOpen:Wie,curveCatmullRom:bN,curveLinear:Sv,curveLinearClosed:jie,curveMonotoneX:TN,curveMonotoneY:CN,curveNatural:ON,curveStep:MN,curveStepAfter:PN,curveStepBefore:AN},_ne=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,wne=W(function(t,e){const i=VN(t,/(?:init\b)|(?:initialize\b)/);let s={};if(Array.isArray(i)){const a=i.map(h=>h.args);lv(a),s=fs(s,[...a])}else s=i.args;if(!s)return;let n=VS(t,e);const l="config";return s[l]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),s[n]=s[l],delete s[l]),s},"detectInit"),VN=W(function(t,e=null){var i,s;try{const n=new RegExp(`[%]{2}(?![{]${_ne.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),Ne.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let l;const a=[];for(;(l=kp.exec(t))!==null;)if(l.index===kp.lastIndex&&kp.lastIndex++,l&&!e||e&&((i=l[1])!=null&&i.match(e))||e&&((s=l[2])!=null&&s.match(e))){const h=l[1]?l[1]:l[2],d=l[3]?l[3].trim():l[4]?JSON.parse(l[4].trim()):null;a.push({type:h,args:d})}return a.length===0?{type:t,args:null}:a.length===1?a[0]:a}catch(n){return Ne.error(`ERROR: ${n.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),xne=W(function(t){return t.replace(kp,"")},"removeDirectives"),kne=W(function(t,e){for(const[i,s]of e.entries())if(s.match(t))return i;return-1},"isSubstringInArray");function ST(t,e){if(!t)return e;const i=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return bne[i]??e}W(ST,"interpolateToCurve");function YN(t,e){const i=t.trim();if(i)return e.securityLevel!=="loose"?IB(i):i}W(YN,"formatUrl");var Sne=W((t,...e)=>{const i=t.split("."),s=i.length-1,n=i[s];let l=window;for(let a=0;a<s;a++)if(l=l[i[a]],!l){Ne.error(`Function name: ${t} not found in window`);return}l[n](...e)},"runFunc");function TT(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}W(TT,"distance");function GN(t){let e,i=0;t.forEach(n=>{i+=TT(n,e),e=n});const s=i/2;return CT(t,s)}W(GN,"traverseEdge");function XN(t){return t.length===1?t[0]:GN(t)}W(XN,"calcLabelPosition");var $R=W((t,e=2)=>{const i=Math.pow(10,e);return Math.round(t*i)/i},"roundNumber"),CT=W((t,e)=>{let i,s=e;for(const n of t){if(i){const l=TT(n,i);if(l===0)return i;if(l<s)s-=l;else{const a=s/l;if(a<=0)return i;if(a>=1)return{x:n.x,y:n.y};if(a>0&&a<1)return{x:$R((1-a)*i.x+a*n.x,5),y:$R((1-a)*i.y+a*n.y,5)}}}i=n}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),Tne=W((t,e,i)=>{Ne.info(`our points ${JSON.stringify(e)}`),e[0]!==i&&(e=e.reverse());const n=CT(e,25),l=t?10:5,a=Math.atan2(e[0].y-n.y,e[0].x-n.x),h={x:0,y:0};return h.x=Math.sin(a)*l+(e[0].x+n.x)/2,h.y=-Math.cos(a)*l+(e[0].y+n.y)/2,h},"calcCardinalityPosition");function KN(t,e,i){const s=structuredClone(i);Ne.info("our points",s),e!=="start_left"&&e!=="start_right"&&s.reverse();const n=25+t,l=CT(s,n),a=10+t*.5,h=Math.atan2(s[0].y-l.y,s[0].x-l.x),d={x:0,y:0};return e==="start_left"?(d.x=Math.sin(h+Math.PI)*a+(s[0].x+l.x)/2,d.y=-Math.cos(h+Math.PI)*a+(s[0].y+l.y)/2):e==="end_right"?(d.x=Math.sin(h-Math.PI)*a+(s[0].x+l.x)/2-5,d.y=-Math.cos(h-Math.PI)*a+(s[0].y+l.y)/2-5):e==="end_left"?(d.x=Math.sin(h)*a+(s[0].x+l.x)/2-5,d.y=-Math.cos(h)*a+(s[0].y+l.y)/2-5):(d.x=Math.sin(h)*a+(s[0].x+l.x)/2,d.y=-Math.cos(h)*a+(s[0].y+l.y)/2),d}W(KN,"calcTerminalLabelPosition");function ZN(t){let e="",i="";for(const s of t)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?i=i+s+";":e=e+s+";");return{style:e,labelStyle:i}}W(ZN,"getStylesFromArray");var VR=0,Cne=W(()=>(VR++,"id-"+Math.random().toString(36).substr(2,12)+"-"+VR),"generateId");function QN(t){let e="";const i="0123456789abcdef",s=i.length;for(let n=0;n<t;n++)e+=i.charAt(Math.floor(Math.random()*s));return e}W(QN,"makeRandomHex");var Ene=W(t=>QN(t.length),"random"),One=W(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Mne=W(function(t,e){const i=e.text.replace(td.lineBreakRegex," "),[,s]=Ob(e.fontSize),n=t.append("text");n.attr("x",e.x),n.attr("y",e.y),n.style("text-anchor",e.anchor),n.style("font-family",e.fontFamily),n.style("font-size",s),n.style("font-weight",e.fontWeight),n.attr("fill",e.fill),e.class!==void 0&&n.attr("class",e.class);const l=n.append("tspan");return l.attr("x",e.x+e.textMargin*2),l.attr("fill",e.fill),l.text(i),n},"drawSimpleText"),Ane=mm((t,e,i)=>{if(!t||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),td.lineBreakRegex.test(t)))return t;const s=t.split(" ").filter(Boolean),n=[];let l="";return s.forEach((a,h)=>{const d=Vo(`${a} `,i),f=Vo(l,i);if(d>e){const{hyphenatedStrings:x,remainingWord:b}=Pne(a,e,"-",i);n.push(l,...x),l=b}else f+d>=e?(n.push(l),l=a):l=[l,a].filter(Boolean).join(" ");h+1===s.length&&n.push(l)}),n.filter(a=>a!=="").join(i.joinWith)},(t,e,i)=>`${t}${e}${i.fontSize}${i.fontWeight}${i.fontFamily}${i.joinWith}`),Pne=mm((t,e,i="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);const n=[...t],l=[];let a="";return n.forEach((h,d)=>{const f=`${a}${h}`;if(Vo(f,s)>=e){const v=d+1,x=n.length===v,b=`${f}${i}`;l.push(x?f:b),a=""}else a=f}),{hyphenatedStrings:l,remainingWord:a}},(t,e,i="-",s)=>`${t}${e}${i}${s.fontSize}${s.fontWeight}${s.fontFamily}`);function JN(t,e){return ET(t,e).height}W(JN,"calculateTextHeight");function Vo(t,e){return ET(t,e).width}W(Vo,"calculateTextWidth");var ET=mm((t,e)=>{const{fontSize:i=12,fontFamily:s="Arial",fontWeight:n=400}=e;if(!t)return{width:0,height:0};const[,l]=Ob(i),a=["sans-serif",s],h=t.split(td.lineBreakRegex),d=[],f=Si("body");if(!f.remove)return{width:0,height:0,lineHeight:0};const g=f.append("svg");for(const x of a){let b=0;const C={width:0,height:0,lineHeight:0};for(const O of h){const P=One();P.text=O||vne;const L=Mne(g,P).style("font-size",l).style("font-weight",n).style("font-family",x),u=(L._groups||L)[0][0].getBBox();if(u.width===0&&u.height===0)throw new Error("svg element not in render tree");C.width=Math.round(Math.max(C.width,u.width)),b=Math.round(u.height),C.height+=b,C.lineHeight=Math.round(Math.max(C.lineHeight,b))}d.push(C)}g.remove();const v=isNaN(d[1].height)||isNaN(d[1].width)||isNaN(d[1].lineHeight)||d[0].height>d[1].height&&d[0].width>d[1].width&&d[0].lineHeight>d[1].lineHeight?0:1;return d[v]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Eu,Dne=(Eu=class{constructor(e=!1,i){this.count=0,this.count=i?i.length:0,this.next=e?()=>this.count++:()=>Date.now()}},W(Eu,"InitIDGenerator"),Eu),fy,Lne=W(function(t){return fy=fy||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),fy.innerHTML=t,unescape(fy.textContent)},"entityDecode");function OT(t){return"str"in t}W(OT,"isDetailedError");var Rne=W((t,e,i,s)=>{var l;if(!s)return;const n=(l=t.node())==null?void 0:l.getBBox();n&&t.append("text").text(s).attr("text-anchor","middle").attr("x",n.x+n.width/2).attr("y",-i).attr("class",e)},"insertTitle"),Ob=W(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function MT(t,e){return yne({},t,e)}W(MT,"cleanAndMerge");var fa={assignWithDepth:fs,wrapLabel:Ane,calculateTextHeight:JN,calculateTextWidth:Vo,calculateTextDimensions:ET,cleanAndMerge:MT,detectInit:wne,detectDirective:VN,isSubstringInArray:kne,interpolateToCurve:ST,calcLabelPosition:XN,calcCardinalityPosition:Tne,calcTerminalLabelPosition:KN,formatUrl:YN,getStylesFromArray:ZN,generateId:Cne,random:Ene,runFunc:Sne,entityDecode:Lne,insertTitle:Rne,isLabelCoordinateInPath:e4,parseFontSize:Ob,InitIDGenerator:Dne},Fne=W(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/#\w+;/g,function(i){const s=i.substring(1,i.length-1);return/^\+?\d+$/.test(s)?""+s+"":""+s+""}),e},"encodeEntities"),bh=W(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),vde=W((t,e,{counter:i=0,prefix:s,suffix:n},l)=>l||`${s?`${s}_`:""}${t}_${e}_${i}${n?`_${n}`:""}`,"getEdgeId");function ln(t){return t??null}W(ln,"handleUndefinedAttr");function e4(t,e){const i=Math.round(t.x),s=Math.round(t.y),n=e.replace(/(\d+\.\d+)/g,l=>Math.round(parseFloat(l)).toString());return n.includes(i.toString())||n.includes(s.toString())}W(e4,"isLabelCoordinateInPath");const Ine=Object.freeze({left:0,top:0,width:16,height:16}),Dv=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),t4=Object.freeze({...Ine,...Dv}),Bne=Object.freeze({...t4,body:"",hidden:!1}),Nne=Object.freeze({width:null,height:null}),zne=Object.freeze({...Nne,...Dv}),Une=(t,e,i,s="")=>{const n=t.split(":");if(t.slice(0,1)==="@"){if(n.length<2||n.length>3)return null;s=n.shift().slice(1)}if(n.length>3||!n.length)return null;if(n.length>1){const h=n.pop(),d=n.pop(),f={provider:n.length>0?n[0]:s,prefix:d,name:h};return _x(f)?f:null}const l=n[0],a=l.split("-");if(a.length>1){const h={provider:s,prefix:a.shift(),name:a.join("-")};return _x(h)?h:null}if(i&&s===""){const h={provider:s,prefix:"",name:l};return _x(h,i)?h:null}return null},_x=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function Hne(t,e){const i={};!t.hFlip!=!e.hFlip&&(i.hFlip=!0),!t.vFlip!=!e.vFlip&&(i.vFlip=!0);const s=((t.rotate||0)+(e.rotate||0))%4;return s&&(i.rotate=s),i}function YR(t,e){const i=Hne(t,e);for(const s in Bne)s in Dv?s in t&&!(s in i)&&(i[s]=Dv[s]):s in e?i[s]=e[s]:s in t&&(i[s]=t[s]);return i}function Wne(t,e){const i=t.icons,s=t.aliases||Object.create(null),n=Object.create(null);function l(a){if(i[a])return n[a]=[];if(!(a in n)){n[a]=null;const h=s[a]&&s[a].parent,d=h&&l(h);d&&(n[a]=[h].concat(d))}return n[a]}return(e||Object.keys(i).concat(Object.keys(s))).forEach(l),n}function GR(t,e,i){const s=t.icons,n=t.aliases||Object.create(null);let l={};function a(h){l=YR(s[h]||n[h],l)}return a(e),i.forEach(a),YR(t,l)}function jne(t,e){if(t.icons[e])return GR(t,e,[]);const i=Wne(t,[e])[e];return i?GR(t,e,i):null}const qne=/(-?[0-9.]*[0-9]+[0-9.]*)/g,$ne=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function XR(t,e,i){if(e===1)return t;if(i=i||100,typeof t=="number")return Math.ceil(t*e*i)/i;if(typeof t!="string")return t;const s=t.split(qne);if(s===null||!s.length)return t;const n=[];let l=s.shift(),a=$ne.test(l);for(;;){if(a){const h=parseFloat(l);isNaN(h)?n.push(l):n.push(Math.ceil(h*e*i)/i)}else n.push(l);if(l=s.shift(),l===void 0)return n.join("");a=!a}}function Vne(t,e="defs"){let i="";const s=t.indexOf("<"+e);for(;s>=0;){const n=t.indexOf(">",s),l=t.indexOf("</"+e);if(n===-1||l===-1)break;const a=t.indexOf(">",l);if(a===-1)break;i+=t.slice(n+1,l).trim(),t=t.slice(0,s).trim()+t.slice(a+1)}return{defs:i,content:t}}function Yne(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Gne(t,e,i){const s=Vne(t);return Yne(s.defs,e+s.content+i)}const Xne=t=>t==="unset"||t==="undefined"||t==="none";function Kne(t,e){const i={...t4,...t},s={...zne,...e},n={left:i.left,top:i.top,width:i.width,height:i.height};let l=i.body;[i,s].forEach(O=>{const P=[],L=O.hFlip,u=O.vFlip;let S=O.rotate;L?u?S+=2:(P.push("translate("+(n.width+n.left).toString()+" "+(0-n.top).toString()+")"),P.push("scale(-1 1)"),n.top=n.left=0):u&&(P.push("translate("+(0-n.left).toString()+" "+(n.height+n.top).toString()+")"),P.push("scale(1 -1)"),n.top=n.left=0);let y;switch(S<0&&(S-=Math.floor(S/4)*4),S=S%4,S){case 1:y=n.height/2+n.top,P.unshift("rotate(90 "+y.toString()+" "+y.toString()+")");break;case 2:P.unshift("rotate(180 "+(n.width/2+n.left).toString()+" "+(n.height/2+n.top).toString()+")");break;case 3:y=n.width/2+n.left,P.unshift("rotate(-90 "+y.toString()+" "+y.toString()+")");break}S%2===1&&(n.left!==n.top&&(y=n.left,n.left=n.top,n.top=y),n.width!==n.height&&(y=n.width,n.width=n.height,n.height=y)),P.length&&(l=Gne(l,'<g transform="'+P.join(" ")+'">',"</g>"))});const a=s.width,h=s.height,d=n.width,f=n.height;let g,v;a===null?(v=h===null?"1em":h==="auto"?f:h,g=XR(v,d/f)):(g=a==="auto"?d:a,v=h===null?XR(g,f/d):h==="auto"?f:h);const x={},b=(O,P)=>{Xne(P)||(x[O]=P.toString())};b("width",g),b("height",v);const C=[n.left,n.top,d,f];return x.viewBox=C.join(" "),{attributes:x,viewBox:C,body:l}}const Zne=/\sid="(\S+)"/g,Qne="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Jne=0;function eae(t,e=Qne){const i=[];let s;for(;s=Zne.exec(t);)i.push(s[1]);if(!i.length)return t;const n="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(l=>{const a=typeof e=="function"?e(l):e+(Jne++).toString(),h=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+h+')([")]|\\.[a-z])',"g"),"$1"+a+n+"$3")}),t=t.replace(new RegExp(n,"g"),""),t}function tae(t,e){let i=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in e)i+=" "+s+'="'+e[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+t+"</svg>"}function AT(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _h=AT();function i4(t){_h=t}var Cp={exec:()=>null};function Ui(t,e=""){let i=typeof t=="string"?t:t.source,s={replace:(n,l)=>{let a=typeof l=="string"?l:l.source;return a=a.replace(js.caret,"$1"),i=i.replace(n,a),s},getRegex:()=>new RegExp(i,e)};return s}var js={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},iae=/^(?:[ \t]*(?:\n|$))+/,rae=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,sae=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ym=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,nae=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,PT=/(?:[*+-]|\d{1,9}[.)])/,r4=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,s4=Ui(r4).replace(/bull/g,PT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),aae=Ui(r4).replace(/bull/g,PT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),DT=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,oae=/^[^\n]+/,LT=/(?!\s*\])(?:\\.|[^\[\]\\])+/,lae=Ui(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",LT).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),cae=Ui(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,PT).getRegex(),Mb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",RT=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,hae=Ui("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",RT).replace("tag",Mb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),n4=Ui(DT).replace("hr",ym).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mb).getRegex(),uae=Ui(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",n4).getRegex(),FT={blockquote:uae,code:rae,def:lae,fences:sae,heading:nae,hr:ym,html:hae,lheading:s4,list:cae,newline:iae,paragraph:n4,table:Cp,text:oae},KR=Ui("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ym).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mb).getRegex(),dae={...FT,lheading:aae,table:KR,paragraph:Ui(DT).replace("hr",ym).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",KR).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Mb).getRegex()},fae={...FT,html:Ui(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",RT).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Cp,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ui(DT).replace("hr",ym).replace("heading",` *#{1,6} *[^
]`).replace("lheading",s4).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},pae=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,mae=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,a4=/^( {2,}|\\)\n(?!\s*$)/,gae=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ab=/[\p{P}\p{S}]/u,IT=/[\s\p{P}\p{S}]/u,o4=/[^\s\p{P}\p{S}]/u,yae=Ui(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,IT).getRegex(),l4=/(?!~)[\p{P}\p{S}]/u,vae=/(?!~)[\s\p{P}\p{S}]/u,bae=/(?:[^\s\p{P}\p{S}]|~)/u,_ae=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,c4=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,wae=Ui(c4,"u").replace(/punct/g,Ab).getRegex(),xae=Ui(c4,"u").replace(/punct/g,l4).getRegex(),h4="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",kae=Ui(h4,"gu").replace(/notPunctSpace/g,o4).replace(/punctSpace/g,IT).replace(/punct/g,Ab).getRegex(),Sae=Ui(h4,"gu").replace(/notPunctSpace/g,bae).replace(/punctSpace/g,vae).replace(/punct/g,l4).getRegex(),Tae=Ui("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,o4).replace(/punctSpace/g,IT).replace(/punct/g,Ab).getRegex(),Cae=Ui(/\\(punct)/,"gu").replace(/punct/g,Ab).getRegex(),Eae=Ui(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Oae=Ui(RT).replace("(?:-->|$)","-->").getRegex(),Mae=Ui("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Oae).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Lv=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Aae=Ui(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Lv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),u4=Ui(/^!?\[(label)\]\[(ref)\]/).replace("label",Lv).replace("ref",LT).getRegex(),d4=Ui(/^!?\[(ref)\](?:\[\])?/).replace("ref",LT).getRegex(),Pae=Ui("reflink|nolink(?!\\()","g").replace("reflink",u4).replace("nolink",d4).getRegex(),BT={_backpedal:Cp,anyPunctuation:Cae,autolink:Eae,blockSkip:_ae,br:a4,code:mae,del:Cp,emStrongLDelim:wae,emStrongRDelimAst:kae,emStrongRDelimUnd:Tae,escape:pae,link:Aae,nolink:d4,punctuation:yae,reflink:u4,reflinkSearch:Pae,tag:Mae,text:gae,url:Cp},Dae={...BT,link:Ui(/^!?\[(label)\]\((.*?)\)/).replace("label",Lv).getRegex(),reflink:Ui(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Lv).getRegex()},Dk={...BT,emStrongRDelimAst:Sae,emStrongLDelim:xae,url:Ui(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Lae={...Dk,br:Ui(a4).replace("{2,}","*").getRegex(),text:Ui(Dk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},py={normal:FT,gfm:dae,pedantic:fae},Vf={normal:BT,gfm:Dk,breaks:Lae,pedantic:Dae},Rae={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ZR=t=>Rae[t];function Fa(t,e){if(e){if(js.escapeTest.test(t))return t.replace(js.escapeReplace,ZR)}else if(js.escapeTestNoEncode.test(t))return t.replace(js.escapeReplaceNoEncode,ZR);return t}function QR(t){try{t=encodeURI(t).replace(js.percentDecode,"%")}catch{return null}return t}function JR(t,e){var l;let i=t.replace(js.findPipe,(a,h,d)=>{let f=!1,g=h;for(;--g>=0&&d[g]==="\\";)f=!f;return f?"|":" |"}),s=i.split(js.splitPipe),n=0;if(s[0].trim()||s.shift(),s.length>0&&!((l=s.at(-1))!=null&&l.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(js.slashPipe,"|");return s}function Yf(t,e,i){let s=t.length;if(s===0)return"";let n=0;for(;n<s&&t.charAt(s-n-1)===e;)n++;return t.slice(0,s-n)}function Fae(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function e3(t,e,i,s,n){let l=e.href,a=e.title||null,h=t[1].replace(n.other.outputLinkReplace,"$1");s.state.inLink=!0;let d={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:l,title:a,text:h,tokens:s.inlineTokens(h)};return s.state.inLink=!1,d}function Iae(t,e,i){let s=t.match(i.other.indentCodeCompensation);if(s===null)return e;let n=s[1];return e.split(`
`).map(l=>{let a=l.match(i.other.beginningSpace);if(a===null)return l;let[h]=a;return h.length>=n.length?l.slice(n.length):l}).join(`
`)}var Rv=class{constructor(e){Wt(this,"options");Wt(this,"rules");Wt(this,"lexer");this.options=e||_h}space(e){let i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){let i=this.rules.block.code.exec(e);if(i){let s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Yf(s,`
`)}}}fences(e){let i=this.rules.block.fences.exec(e);if(i){let s=i[0],n=Iae(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:n}}}heading(e){let i=this.rules.block.heading.exec(e);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){let n=Yf(s,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(s=n.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){let i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:Yf(i[0],`
`)}}blockquote(e){let i=this.rules.block.blockquote.exec(e);if(i){let s=Yf(i[0],`
`).split(`
`),n="",l="",a=[];for(;s.length>0;){let h=!1,d=[],f;for(f=0;f<s.length;f++)if(this.rules.other.blockquoteStart.test(s[f]))d.push(s[f]),h=!0;else if(!h)d.push(s[f]);else break;s=s.slice(f);let g=d.join(`
`),v=g.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${g}`:g,l=l?`${l}
${v}`:v;let x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,a,!0),this.lexer.state.top=x,s.length===0)break;let b=a.at(-1);if((b==null?void 0:b.type)==="code")break;if((b==null?void 0:b.type)==="blockquote"){let C=b,O=C.raw+`
`+s.join(`
`),P=this.blockquote(O);a[a.length-1]=P,n=n.substring(0,n.length-C.raw.length)+P.raw,l=l.substring(0,l.length-C.text.length)+P.text;break}else if((b==null?void 0:b.type)==="list"){let C=b,O=C.raw+`
`+s.join(`
`),P=this.list(O);a[a.length-1]=P,n=n.substring(0,n.length-b.raw.length)+P.raw,l=l.substring(0,l.length-C.raw.length)+P.raw,s=O.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:l}}}list(e){let i=this.rules.block.list.exec(e);if(i){let s=i[1].trim(),n=s.length>1,l={type:"list",raw:"",ordered:n,start:n?+s.slice(0,-1):"",loose:!1,items:[]};s=n?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=n?s:"[*+-]");let a=this.rules.other.listItemRegex(s),h=!1;for(;e;){let f=!1,g="",v="";if(!(i=a.exec(e))||this.rules.block.hr.test(e))break;g=i[0],e=e.substring(g.length);let x=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,u=>" ".repeat(3*u.length)),b=e.split(`
`,1)[0],C=!x.trim(),O=0;if(this.options.pedantic?(O=2,v=x.trimStart()):C?O=i[1].length+1:(O=i[2].search(this.rules.other.nonSpaceChar),O=O>4?1:O,v=x.slice(O),O+=i[1].length),C&&this.rules.other.blankLine.test(b)&&(g+=b+`
`,e=e.substring(b.length+1),f=!0),!f){let u=this.rules.other.nextBulletRegex(O),S=this.rules.other.hrRegex(O),y=this.rules.other.fencesBeginRegex(O),k=this.rules.other.headingBeginRegex(O),T=this.rules.other.htmlBeginRegex(O);for(;e;){let A=e.split(`
`,1)[0],F;if(b=A,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),F=b):F=b.replace(this.rules.other.tabCharGlobal,"    "),y.test(b)||k.test(b)||T.test(b)||u.test(b)||S.test(b))break;if(F.search(this.rules.other.nonSpaceChar)>=O||!b.trim())v+=`
`+F.slice(O);else{if(C||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(x)||k.test(x)||S.test(x))break;v+=`
`+b}!C&&!b.trim()&&(C=!0),g+=A+`
`,e=e.substring(A.length+1),x=F.slice(O)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(h=!0));let P=null,L;this.options.gfm&&(P=this.rules.other.listIsTask.exec(v),P&&(L=P[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:g,task:!!P,checked:L,loose:!1,text:v,tokens:[]}),l.raw+=g}let d=l.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let f=0;f<l.items.length;f++)if(this.lexer.state.top=!1,l.items[f].tokens=this.lexer.blockTokens(l.items[f].text,[]),!l.loose){let g=l.items[f].tokens.filter(x=>x.type==="space"),v=g.length>0&&g.some(x=>this.rules.other.anyLine.test(x.raw));l.loose=v}if(l.loose)for(let f=0;f<l.items.length;f++)l.items[f].loose=!0;return l}}html(e){let i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){let i=this.rules.block.def.exec(e);if(i){let s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:n,title:l}}}table(e){var h;let i=this.rules.block.table.exec(e);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;let s=JR(i[1]),n=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=i[3])!=null&&h.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===n.length){for(let d of n)this.rules.other.tableAlignRight.test(d)?a.align.push("right"):this.rules.other.tableAlignCenter.test(d)?a.align.push("center"):this.rules.other.tableAlignLeft.test(d)?a.align.push("left"):a.align.push(null);for(let d=0;d<s.length;d++)a.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:a.align[d]});for(let d of l)a.rows.push(JR(d,a.header.length).map((f,g)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:a.align[g]})));return a}}lheading(e){let i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){let i=this.rules.block.paragraph.exec(e);if(i){let s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(e){let i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){let i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(e){let i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){let i=this.rules.inline.link.exec(e);if(i){let s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;let a=Yf(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{let a=Fae(i[2],"()");if(a===-2)return;if(a>-1){let h=(i[0].indexOf("!")===0?5:4)+i[1].length+a;i[2]=i[2].substring(0,a),i[0]=i[0].substring(0,h).trim(),i[3]=""}}let n=i[2],l="";if(this.options.pedantic){let a=this.rules.other.pedanticHrefTitle.exec(n);a&&(n=a[1],l=a[3])}else l=i[3]?i[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?n=n.slice(1):n=n.slice(1,-1)),e3(i,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(e,i){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let n=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=i[n.toLowerCase()];if(!l){let a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return e3(s,l,s[0],this.lexer,this.rules)}}emStrong(e,i,s=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!s||this.rules.inline.punctuation.exec(s))){let l=[...n[0]].length-1,a,h,d=l,f=0,g=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(g.lastIndex=0,i=i.slice(-1*e.length+l);(n=g.exec(i))!=null;){if(a=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!a)continue;if(h=[...a].length,n[3]||n[4]){d+=h;continue}else if((n[5]||n[6])&&l%3&&!((l+h)%3)){f+=h;continue}if(d-=h,d>0)continue;h=Math.min(h,h+d+f);let v=[...n[0]][0].length,x=e.slice(0,l+n.index+v+h);if(Math.min(l,h)%2){let C=x.slice(1,-1);return{type:"em",raw:x,text:C,tokens:this.lexer.inlineTokens(C)}}let b=x.slice(2,-2);return{type:"strong",raw:x,text:b,tokens:this.lexer.inlineTokens(b)}}}}codespan(e){let i=this.rules.inline.code.exec(e);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return n&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(e){let i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){let i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){let i=this.rules.inline.autolink.exec(e);if(i){let s,n;return i[2]==="@"?(s=i[1],n="mailto:"+s):(s=i[1],n=s),{type:"link",raw:i[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let i;if(i=this.rules.inline.url.exec(e)){let n,l;if(i[2]==="@")n=i[0],l="mailto:"+n;else{let a;do a=i[0],i[0]=((s=this.rules.inline._backpedal.exec(i[0]))==null?void 0:s[0])??"";while(a!==i[0]);n=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){let i=this.rules.inline.text.exec(e);if(i){let s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}},Ro=class Lk{constructor(e){Wt(this,"tokens");Wt(this,"options");Wt(this,"state");Wt(this,"tokenizer");Wt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||_h,this.options.tokenizer=this.options.tokenizer||new Rv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={other:js,block:py.normal,inline:Vf.normal};this.options.pedantic?(i.block=py.pedantic,i.inline=Vf.pedantic):this.options.gfm&&(i.block=py.gfm,this.options.breaks?i.inline=Vf.breaks:i.inline=Vf.gfm),this.tokenizer.rules=i}static get rules(){return{block:py,inline:Vf}}static lex(e,i){return new Lk(i).lex(e)}static lexInline(e,i){return new Lk(i).inlineTokens(e)}lex(e){e=e.replace(js.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var n,l,a;for(this.options.pedantic&&(e=e.replace(js.tabCharGlobal,"    ").replace(js.spaceLine,""));e;){let h;if((l=(n=this.options.extensions)==null?void 0:n.block)!=null&&l.some(f=>(h=f.call({lexer:this},e,i))?(e=e.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(e)){e=e.substring(h.raw.length);let f=i.at(-1);h.raw.length===1&&f!==void 0?f.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(e)){e=e.substring(h.raw.length);let f=i.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+h.raw,f.text+=`
`+h.text,this.inlineQueue.at(-1).src=f.text):i.push(h);continue}if(h=this.tokenizer.fences(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(e)){e=e.substring(h.raw.length);let f=i.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+h.raw,f.text+=`
`+h.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title},i.push(h));continue}if(h=this.tokenizer.table(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(e)){e=e.substring(h.raw.length),i.push(h);continue}let d=e;if((a=this.options.extensions)!=null&&a.startBlock){let f=1/0,g=e.slice(1),v;this.options.extensions.startBlock.forEach(x=>{v=x.call({lexer:this},g),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(d=e.substring(0,f+1))}if(this.state.top&&(h=this.tokenizer.paragraph(d))){let f=i.at(-1);s&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):i.push(h),s=d.length!==e.length,e=e.substring(h.raw.length);continue}if(h=this.tokenizer.text(e)){e=e.substring(h.raw.length);let f=i.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=(f.raw.endsWith(`
`)?"":`
`)+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):i.push(h);continue}if(e){let f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var h,d,f;let s=e,n=null;if(this.tokens.links){let g=Object.keys(this.tokens.links);if(g.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)g.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,n.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,a="";for(;e;){l||(a=""),l=!1;let g;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(x=>(g=x.call({lexer:this},e,i))?(e=e.substring(g.raw.length),i.push(g),!0):!1))continue;if(g=this.tokenizer.escape(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.tag(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.link(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(g.raw.length);let x=i.at(-1);g.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=g.raw,x.text+=g.text):i.push(g);continue}if(g=this.tokenizer.emStrong(e,s,a)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.codespan(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.br(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.del(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.autolink(e)){e=e.substring(g.raw.length),i.push(g);continue}if(!this.state.inLink&&(g=this.tokenizer.url(e))){e=e.substring(g.raw.length),i.push(g);continue}let v=e;if((f=this.options.extensions)!=null&&f.startInline){let x=1/0,b=e.slice(1),C;this.options.extensions.startInline.forEach(O=>{C=O.call({lexer:this},b),typeof C=="number"&&C>=0&&(x=Math.min(x,C))}),x<1/0&&x>=0&&(v=e.substring(0,x+1))}if(g=this.tokenizer.inlineText(v)){e=e.substring(g.raw.length),g.raw.slice(-1)!=="_"&&(a=g.raw.slice(-1)),l=!0;let x=i.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=g.raw,x.text+=g.text):i.push(g);continue}if(e){let x="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return i}},Fv=class{constructor(e){Wt(this,"options");Wt(this,"parser");this.options=e||_h}space(e){return""}code({text:e,lang:i,escaped:s}){var a;let n=(a=(i||"").match(js.notSpaceStart))==null?void 0:a[0],l=e.replace(js.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Fa(n)+'">'+(s?l:Fa(l,!0))+`</code></pre>
`:"<pre><code>"+(s?l:Fa(l,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){let i=e.ordered,s=e.start,n="";for(let h=0;h<e.items.length;h++){let d=e.items[h];n+=this.listitem(d)}let l=i?"ol":"ul",a=i&&s!==1?' start="'+s+'"':"";return"<"+l+a+`>
`+n+"</"+l+`>
`}listitem(e){var s;let i="";if(e.task){let n=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Fa(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):i+=n+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",s="";for(let l=0;l<e.header.length;l++)s+=this.tablecell(e.header[l]);i+=this.tablerow({text:s});let n="";for(let l=0;l<e.rows.length;l++){let a=e.rows[l];s="";for(let h=0;h<a.length;h++)s+=this.tablecell(a[h]);n+=this.tablerow({text:s})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let i=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Fa(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:s}){let n=this.parser.parseInline(s),l=QR(e);if(l===null)return n;e=l;let a='<a href="'+e+'"';return i&&(a+=' title="'+Fa(i)+'"'),a+=">"+n+"</a>",a}image({href:e,title:i,text:s,tokens:n}){n&&(s=this.parser.parseInline(n,this.parser.textRenderer));let l=QR(e);if(l===null)return Fa(s);e=l;let a=`<img src="${e}" alt="${s}"`;return i&&(a+=` title="${Fa(i)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Fa(e.text)}},NT=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},Fo=class Rk{constructor(e){Wt(this,"options");Wt(this,"renderer");Wt(this,"textRenderer");this.options=e||_h,this.options.renderer=this.options.renderer||new Fv,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new NT}static parse(e,i){return new Rk(i).parse(e)}static parseInline(e,i){return new Rk(i).parseInline(e)}parse(e,i=!0){var n,l;let s="";for(let a=0;a<e.length;a++){let h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){let f=h,g=this.options.extensions.renderers[f.type].call({parser:this},f);if(g!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(f.type)){s+=g||"";continue}}let d=h;switch(d.type){case"space":{s+=this.renderer.space(d);continue}case"hr":{s+=this.renderer.hr(d);continue}case"heading":{s+=this.renderer.heading(d);continue}case"code":{s+=this.renderer.code(d);continue}case"table":{s+=this.renderer.table(d);continue}case"blockquote":{s+=this.renderer.blockquote(d);continue}case"list":{s+=this.renderer.list(d);continue}case"html":{s+=this.renderer.html(d);continue}case"def":{s+=this.renderer.def(d);continue}case"paragraph":{s+=this.renderer.paragraph(d);continue}case"text":{let f=d,g=this.renderer.text(f);for(;a+1<e.length&&e[a+1].type==="text";)f=e[++a],g+=`
`+this.renderer.text(f);i?s+=this.renderer.paragraph({type:"paragraph",raw:g,text:g,tokens:[{type:"text",raw:g,text:g,escaped:!0}]}):s+=g;continue}default:{let f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return s}parseInline(e,i=this.renderer){var n,l;let s="";for(let a=0;a<e.length;a++){let h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){let f=this.options.extensions.renderers[h.type].call({parser:this},h);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){s+=f||"";continue}}let d=h;switch(d.type){case"escape":{s+=i.text(d);break}case"html":{s+=i.html(d);break}case"link":{s+=i.link(d);break}case"image":{s+=i.image(d);break}case"strong":{s+=i.strong(d);break}case"em":{s+=i.em(d);break}case"codespan":{s+=i.codespan(d);break}case"br":{s+=i.br(d);break}case"del":{s+=i.del(d);break}case"text":{s+=i.text(d);break}default:{let f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return s}},Mx,Ny=(Mx=class{constructor(e){Wt(this,"options");Wt(this,"block");this.options=e||_h}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Ro.lex:Ro.lexInline}provideParser(){return this.block?Fo.parse:Fo.parseInline}},Wt(Mx,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),Mx),Bae=class{constructor(...e){Wt(this,"defaults",AT());Wt(this,"options",this.setOptions);Wt(this,"parse",this.parseMarkdown(!0));Wt(this,"parseInline",this.parseMarkdown(!1));Wt(this,"Parser",Fo);Wt(this,"Renderer",Fv);Wt(this,"TextRenderer",NT);Wt(this,"Lexer",Ro);Wt(this,"Tokenizer",Rv);Wt(this,"Hooks",Ny);this.use(...e)}walkTokens(e,i){var n,l;let s=[];for(let a of e)switch(s=s.concat(i.call(this,a)),a.type){case"table":{let h=a;for(let d of h.header)s=s.concat(this.walkTokens(d.tokens,i));for(let d of h.rows)for(let f of d)s=s.concat(this.walkTokens(f.tokens,i));break}case"list":{let h=a;s=s.concat(this.walkTokens(h.items,i));break}default:{let h=a;(l=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(d=>{let f=h[d].flat(1/0);s=s.concat(this.walkTokens(f,i))}):h.tokens&&(s=s.concat(this.walkTokens(h.tokens,i)))}}return s}use(...e){let i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{let n={...s};if(n.async=this.defaults.async||n.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){let a=i.renderers[l.name];a?i.renderers[l.name]=function(...h){let d=l.renderer.apply(this,h);return d===!1&&(d=a.apply(this,h)),d}:i.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let a=i[l.level];a?a.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),n.extensions=i),s.renderer){let l=this.defaults.renderer||new Fv(this.defaults);for(let a in s.renderer){if(!(a in l))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;let h=a,d=s.renderer[h],f=l[h];l[h]=(...g)=>{let v=d.apply(l,g);return v===!1&&(v=f.apply(l,g)),v||""}}n.renderer=l}if(s.tokenizer){let l=this.defaults.tokenizer||new Rv(this.defaults);for(let a in s.tokenizer){if(!(a in l))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;let h=a,d=s.tokenizer[h],f=l[h];l[h]=(...g)=>{let v=d.apply(l,g);return v===!1&&(v=f.apply(l,g)),v}}n.tokenizer=l}if(s.hooks){let l=this.defaults.hooks||new Ny;for(let a in s.hooks){if(!(a in l))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;let h=a,d=s.hooks[h],f=l[h];Ny.passThroughHooks.has(a)?l[h]=g=>{if(this.defaults.async)return Promise.resolve(d.call(l,g)).then(x=>f.call(l,x));let v=d.call(l,g);return f.call(l,v)}:l[h]=(...g)=>{let v=d.apply(l,g);return v===!1&&(v=f.apply(l,g)),v}}n.hooks=l}if(s.walkTokens){let l=this.defaults.walkTokens,a=s.walkTokens;n.walkTokens=function(h){let d=[];return d.push(a.call(this,h)),l&&(d=d.concat(l.call(this,h))),d}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return Ro.lex(e,i??this.defaults)}parser(e,i){return Fo.parse(e,i??this.defaults)}parseMarkdown(e){return(i,s)=>{let n={...s},l={...this.defaults,...n},a=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&n.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=e);let h=l.hooks?l.hooks.provideLexer():e?Ro.lex:Ro.lexInline,d=l.hooks?l.hooks.provideParser():e?Fo.parse:Fo.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(i):i).then(f=>h(f,l)).then(f=>l.hooks?l.hooks.processAllTokens(f):f).then(f=>l.walkTokens?Promise.all(this.walkTokens(f,l.walkTokens)).then(()=>f):f).then(f=>d(f,l)).then(f=>l.hooks?l.hooks.postprocess(f):f).catch(a);try{l.hooks&&(i=l.hooks.preprocess(i));let f=h(i,l);l.hooks&&(f=l.hooks.processAllTokens(f)),l.walkTokens&&this.walkTokens(f,l.walkTokens);let g=d(f,l);return l.hooks&&(g=l.hooks.postprocess(g)),g}catch(f){return a(f)}}}onError(e,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+Fa(s.message+"",!0)+"</pre>";return i?Promise.resolve(n):n}if(i)return Promise.reject(s);throw s}}},uh=new Bae;function zi(t,e){return uh.parse(t,e)}zi.options=zi.setOptions=function(t){return uh.setOptions(t),zi.defaults=uh.defaults,i4(zi.defaults),zi};zi.getDefaults=AT;zi.defaults=_h;zi.use=function(...t){return uh.use(...t),zi.defaults=uh.defaults,i4(zi.defaults),zi};zi.walkTokens=function(t,e){return uh.walkTokens(t,e)};zi.parseInline=uh.parseInline;zi.Parser=Fo;zi.parser=Fo.parse;zi.Renderer=Fv;zi.TextRenderer=NT;zi.Lexer=Ro;zi.lexer=Ro.lex;zi.Tokenizer=Rv;zi.Hooks=Ny;zi.parse=zi;zi.options;zi.setOptions;zi.use;zi.walkTokens;zi.parseInline;Fo.parse;Ro.lex;function f4(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=Array.from(typeof t=="string"?[t]:t);s[s.length-1]=s[s.length-1].replace(/\r?\n([\t ]*)$/,"");var n=s.reduce(function(h,d){var f=d.match(/\n([\t ]+|(?!\s).)/g);return f?h.concat(f.map(function(g){var v,x;return(x=(v=g.match(/[\t ]/g))===null||v===void 0?void 0:v.length)!==null&&x!==void 0?x:0})):h},[]);if(n.length){var l=new RegExp(`
[	 ]{`+Math.min.apply(Math,n)+"}","g");s=s.map(function(h){return h.replace(l,`
`)})}s[0]=s[0].replace(/^\r?\n/,"");var a=s[0];return e.forEach(function(h,d){var f=a.match(/(?:^|\n)( *)$/),g=f?f[1]:"",v=h;typeof h=="string"&&h.includes(`
`)&&(v=String(h).split(`
`).map(function(x,b){return b===0?x:""+g+x}).join(`
`)),a+=v+s[d+1]}),a}var Nae={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},Fk=new Map,p4=new Map,zae=W(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(Ne.debug("Registering icon pack:",e.name),"loader"in e)p4.set(e.name,e.loader);else if("icons"in e)Fk.set(e.name,e.icons);else throw Ne.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),m4=W(async(t,e)=>{const i=Une(t,!0,e!==void 0);if(!i)throw new Error(`Invalid icon name: ${t}`);const s=i.prefix||e;if(!s)throw new Error(`Icon name must contain a prefix: ${t}`);let n=Fk.get(s);if(!n){const a=p4.get(s);if(!a)throw new Error(`Icon set not found: ${i.prefix}`);try{n={...await a(),prefix:s},Fk.set(s,n)}catch(h){throw Ne.error(h),new Error(`Failed to load icon set: ${i.prefix}`)}}const l=jne(n,i.name);if(!l)throw new Error(`Icon not found: ${t}`);return l},"getRegisteredIconData"),Uae=W(async t=>{try{return await m4(t),!0}catch{return!1}},"isIconAvailable"),vm=W(async(t,e,i)=>{let s;try{s=await m4(t,e==null?void 0:e.fallbackPrefix)}catch(a){Ne.error(a),s=Nae}const n=Kne(s,e),l=tae(eae(n.body),{...n.attributes,...i});return $n(l,Es())},"getIconSVG");function g4(t,{markdownAutoWrap:e}){const s=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),n=f4(s);return e===!1?n.replace(/ /g,"&nbsp;"):n}W(g4,"preprocessMarkdown");function y4(t,e={}){const i=g4(t,e),s=zi.lexer(i),n=[[]];let l=0;function a(h,d="normal"){h.type==="text"?h.text.split(`
`).forEach((g,v)=>{v!==0&&(l++,n.push([])),g.split(" ").forEach(x=>{x=x.replace(/&#39;/g,"'"),x&&n[l].push({content:x,type:d})})}):h.type==="strong"||h.type==="em"?h.tokens.forEach(f=>{a(f,h.type)}):h.type==="html"&&n[l].push({content:h.text,type:"normal"})}return W(a,"processNode"),s.forEach(h=>{var d;h.type==="paragraph"?(d=h.tokens)==null||d.forEach(f=>{a(f)}):h.type==="html"?n[l].push({content:h.text,type:"normal"}):n[l].push({content:h.raw,type:"normal"})}),n}W(y4,"markdownToLines");function v4(t,{markdownAutoWrap:e}={}){const i=zi.lexer(t);function s(n){var l,a,h;return n.type==="text"?e===!1?n.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):n.text.replace(/\n */g,"<br/>"):n.type==="strong"?`<strong>${(l=n.tokens)==null?void 0:l.map(s).join("")}</strong>`:n.type==="em"?`<em>${(a=n.tokens)==null?void 0:a.map(s).join("")}</em>`:n.type==="paragraph"?`<p>${(h=n.tokens)==null?void 0:h.map(s).join("")}</p>`:n.type==="space"?"":n.type==="html"?`${n.text}`:n.type==="escape"?n.text:(Ne.warn(`Unsupported markdown: ${n.type}`),n.raw)}return W(s,"output"),i.map(s).join("")}W(v4,"markdownToHTML");function b4(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}W(b4,"splitTextToChars");function _4(t,e){const i=b4(e.content);return zT(t,[],i,e.type)}W(_4,"splitWordToFitWidth");function zT(t,e,i,s){if(i.length===0)return[{content:e.join(""),type:s},{content:"",type:s}];const[n,...l]=i,a=[...e,n];return t([{content:a.join(""),type:s}])?zT(t,a,l,s):(e.length===0&&n&&(e.push(n),i.shift()),[{content:e.join(""),type:s},{content:i.join(""),type:s}])}W(zT,"splitWordToFitWidthRecursion");function w4(t,e){if(t.some(({content:i})=>i.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Iv(t,e)}W(w4,"splitLineToFitWidth");function Iv(t,e,i=[],s=[]){if(t.length===0)return s.length>0&&i.push(s),i.length>0?i:[];let n="";t[0].content===" "&&(n=" ",t.shift());const l=t.shift()??{content:" ",type:"normal"},a=[...s];if(n!==""&&a.push({content:n,type:"normal"}),a.push(l),e(a))return Iv(t,e,i,a);if(s.length>0)i.push(s),t.unshift(l);else if(l.content){const[h,d]=_4(e,l);i.push([h]),d.content&&t.unshift(d)}return Iv(t,e,i)}W(Iv,"splitLineToFitWidthRecursion");function Ik(t,e){e&&t.attr("style",e)}W(Ik,"applyStyle");async function x4(t,e,i,s,n=!1,l=Es()){const a=t.append("foreignObject");a.attr("width",`${10*i}px`),a.attr("height",`${10*i}px`);const h=a.append("xhtml:div"),d=Wu(e.label)?await YS(e.label.replace(td.lineBreakRegex,`
`),l):$n(e.label,l),f=e.isNode?"nodeLabel":"edgeLabel",g=h.append("span");g.html(d),Ik(g,e.labelStyle),g.attr("class",`${f} ${s}`),Ik(h,e.labelStyle),h.style("display","table-cell"),h.style("white-space","nowrap"),h.style("line-height","1.5"),h.style("max-width",i+"px"),h.style("text-align","center"),h.attr("xmlns","http://www.w3.org/1999/xhtml"),n&&h.attr("class","labelBkg");let v=h.node().getBoundingClientRect();return v.width===i&&(h.style("display","table"),h.style("white-space","break-spaces"),h.style("width",i+"px"),v=h.node().getBoundingClientRect()),a.node()}W(x4,"addHtmlSpan");function Pb(t,e,i){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*i-.1+"em").attr("dy",i+"em")}W(Pb,"createTspan");function k4(t,e,i){const s=t.append("text"),n=Pb(s,1,e);Db(n,i);const l=n.node().getComputedTextLength();return s.remove(),l}W(k4,"computeWidthOfText");function Hae(t,e,i){var a;const s=t.append("text"),n=Pb(s,1,e);Db(n,[{content:i,type:"normal"}]);const l=(a=n.node())==null?void 0:a.getBoundingClientRect();return l&&s.remove(),l}W(Hae,"computeDimensionOfText");function S4(t,e,i,s=!1){const l=e.append("g"),a=l.insert("rect").attr("class","background").attr("style","stroke: none"),h=l.append("text").attr("y","-10.1");let d=0;for(const f of i){const g=W(x=>k4(l,1.1,x)<=t,"checkWidth"),v=g(f)?[f]:w4(f,g);for(const x of v){const b=Pb(h,d,1.1);Db(b,x),d++}}if(s){const f=h.node().getBBox(),g=2;return a.attr("x",f.x-g).attr("y",f.y-g).attr("width",f.width+2*g).attr("height",f.height+2*g),l.node()}else return h.node()}W(S4,"createFormattedText");function Db(t,e){t.text(""),e.forEach((i,s)=>{const n=t.append("tspan").attr("font-style",i.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",i.type==="strong"?"bold":"normal");s===0?n.text(i.content):n.text(" "+i.content)})}W(Db,"updateTextContentAndStyles");async function T4(t,e={}){const i=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(n,l,a)=>(i.push((async()=>{const h=`${l}:${a}`;return await Uae(h)?await vm(h,void 0,{class:"label-icon"}):`<i class='${$n(n,e).replace(":"," ")}'></i>`})()),n));const s=await Promise.all(i);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>s.shift()??"")}W(T4,"replaceIconSubstring");var Rl=W(async(t,e="",{style:i="",isTitle:s=!1,classes:n="",useHtmlLabels:l=!0,isNode:a=!0,width:h=200,addSvgBackground:d=!1}={},f)=>{if(Ne.debug("XYZ createText",e,i,s,n,l,a,"addSvgBackground: ",d),l){const g=v4(e,f),v=await T4(bh(g),f),x=e.replace(/\\\\/g,"\\"),b={isNode:a,label:Wu(e)?x:v,labelStyle:i.replace("fill:","color:")};return await x4(t,b,h,n,d,f)}else{const g=e.replace(/<br\s*\/?>/g,"<br/>"),v=y4(g.replace("<br>","<br/>"),f),x=S4(h,t,v,e?d:!1);if(a){/stroke:/.exec(i)&&(i=i.replace("stroke:","lineColor:"));const b=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Si(x).attr("style",b)}else{const b=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");Si(x).select("rect").attr("style",b.replace(/background:/g,"fill:"));const C=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");Si(x).select("text").attr("style",C)}return x}},"createText");function wx(t,e,i){if(t&&t.length){const[s,n]=e,l=Math.PI/180*i,a=Math.cos(l),h=Math.sin(l);for(const d of t){const[f,g]=d;d[0]=(f-s)*a-(g-n)*h+s,d[1]=(f-s)*h+(g-n)*a+n}}}function Wae(t,e){return t[0]===e[0]&&t[1]===e[1]}function jae(t,e,i,s=1){const n=i,l=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,h=[0,0];if(n)for(const f of a)wx(f,h,n);const d=function(f,g,v){const x=[];for(const u of f){const S=[...u];Wae(S[0],S[S.length-1])||S.push([S[0][0],S[0][1]]),S.length>2&&x.push(S)}const b=[];g=Math.max(g,.1);const C=[];for(const u of x)for(let S=0;S<u.length-1;S++){const y=u[S],k=u[S+1];if(y[1]!==k[1]){const T=Math.min(y[1],k[1]);C.push({ymin:T,ymax:Math.max(y[1],k[1]),x:T===y[1]?y[0]:k[0],islope:(k[0]-y[0])/(k[1]-y[1])})}}if(C.sort((u,S)=>u.ymin<S.ymin?-1:u.ymin>S.ymin?1:u.x<S.x?-1:u.x>S.x?1:u.ymax===S.ymax?0:(u.ymax-S.ymax)/Math.abs(u.ymax-S.ymax)),!C.length)return b;let O=[],P=C[0].ymin,L=0;for(;O.length||C.length;){if(C.length){let u=-1;for(let S=0;S<C.length&&!(C[S].ymin>P);S++)u=S;C.splice(0,u+1).forEach(S=>{O.push({s:P,edge:S})})}if(O=O.filter(u=>!(u.edge.ymax<=P)),O.sort((u,S)=>u.edge.x===S.edge.x?0:(u.edge.x-S.edge.x)/Math.abs(u.edge.x-S.edge.x)),(v!==1||L%g==0)&&O.length>1)for(let u=0;u<O.length;u+=2){const S=u+1;if(S>=O.length)break;const y=O[u].edge,k=O[S].edge;b.push([[Math.round(y.x),P],[Math.round(k.x),P]])}P+=v,O.forEach(u=>{u.edge.x=u.edge.x+v*u.edge.islope}),L++}return b}(a,l,s);if(n){for(const f of a)wx(f,h,-n);(function(f,g,v){const x=[];f.forEach(b=>x.push(...b)),wx(x,g,v)})(d,h,-n)}return d}function bm(t,e){var i;const s=e.hachureAngle+90;let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.round(Math.max(n,.1));let l=1;return e.roughness>=1&&(((i=e.randomizer)===null||i===void 0?void 0:i.next())||Math.random())>.7&&(l=n),jae(t,n,s,l||1)}class UT{constructor(e){this.helper=e}fillPolygons(e,i){return this._fillPolygons(e,i)}_fillPolygons(e,i){const s=bm(e,i);return{type:"fillSketch",ops:this.renderLines(s,i)}}renderLines(e,i){const s=[];for(const n of e)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],i));return s}}function Lb(t){const e=t[0],i=t[1];return Math.sqrt(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2))}class qae extends UT{fillPolygons(e,i){let s=i.hachureGap;s<0&&(s=4*i.strokeWidth),s=Math.max(s,.1);const n=bm(e,Object.assign({},i,{hachureGap:s})),l=Math.PI/180*i.hachureAngle,a=[],h=.5*s*Math.cos(l),d=.5*s*Math.sin(l);for(const[f,g]of n)Lb([f,g])&&a.push([[f[0]-h,f[1]+d],[...g]],[[f[0]+h,f[1]-d],[...g]]);return{type:"fillSketch",ops:this.renderLines(a,i)}}}class $ae extends UT{fillPolygons(e,i){const s=this._fillPolygons(e,i),n=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),l=this._fillPolygons(e,n);return s.ops=s.ops.concat(l.ops),s}}class Vae{constructor(e){this.helper=e}fillPolygons(e,i){const s=bm(e,i=Object.assign({},i,{hachureAngle:0}));return this.dotsOnLines(s,i)}dotsOnLines(e,i){const s=[];let n=i.hachureGap;n<0&&(n=4*i.strokeWidth),n=Math.max(n,.1);let l=i.fillWeight;l<0&&(l=i.strokeWidth/2);const a=n/4;for(const h of e){const d=Lb(h),f=d/n,g=Math.ceil(f)-1,v=d-g*n,x=(h[0][0]+h[1][0])/2-n/4,b=Math.min(h[0][1],h[1][1]);for(let C=0;C<g;C++){const O=b+v+C*n,P=x-a+2*Math.random()*a,L=O-a+2*Math.random()*a,u=this.helper.ellipse(P,L,l,l,i);s.push(...u.ops)}}return{type:"fillSketch",ops:s}}}class Yae{constructor(e){this.helper=e}fillPolygons(e,i){const s=bm(e,i);return{type:"fillSketch",ops:this.dashedLine(s,i)}}dashedLine(e,i){const s=i.dashOffset<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashOffset,n=i.dashGap<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashGap,l=[];return e.forEach(a=>{const h=Lb(a),d=Math.floor(h/(s+n)),f=(h+n-d*(s+n))/2;let g=a[0],v=a[1];g[0]>v[0]&&(g=a[1],v=a[0]);const x=Math.atan((v[1]-g[1])/(v[0]-g[0]));for(let b=0;b<d;b++){const C=b*(s+n),O=C+s,P=[g[0]+C*Math.cos(x)+f*Math.cos(x),g[1]+C*Math.sin(x)+f*Math.sin(x)],L=[g[0]+O*Math.cos(x)+f*Math.cos(x),g[1]+O*Math.sin(x)+f*Math.sin(x)];l.push(...this.helper.doubleLineOps(P[0],P[1],L[0],L[1],i))}}),l}}class Gae{constructor(e){this.helper=e}fillPolygons(e,i){const s=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,n=i.zigzagOffset<0?s:i.zigzagOffset,l=bm(e,i=Object.assign({},i,{hachureGap:s+n}));return{type:"fillSketch",ops:this.zigzagLines(l,n,i)}}zigzagLines(e,i,s){const n=[];return e.forEach(l=>{const a=Lb(l),h=Math.round(a/(2*i));let d=l[0],f=l[1];d[0]>f[0]&&(d=l[1],f=l[0]);const g=Math.atan((f[1]-d[1])/(f[0]-d[0]));for(let v=0;v<h;v++){const x=2*v*i,b=2*(v+1)*i,C=Math.sqrt(2*Math.pow(i,2)),O=[d[0]+x*Math.cos(g),d[1]+x*Math.sin(g)],P=[d[0]+b*Math.cos(g),d[1]+b*Math.sin(g)],L=[O[0]+C*Math.cos(g+Math.PI/4),O[1]+C*Math.sin(g+Math.PI/4)];n.push(...this.helper.doubleLineOps(O[0],O[1],L[0],L[1],s),...this.helper.doubleLineOps(L[0],L[1],P[0],P[1],s))}}),n}}const Qs={};class Xae{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Kae=0,xx=1,t3=2,my={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function kx(t,e){return t.type===e}function HT(t){const e=[],i=function(a){const h=new Array;for(;a!=="";)if(a.match(/^([ \t\r\n,]+)/))a=a.substr(RegExp.$1.length);else if(a.match(/^([aAcChHlLmMqQsStTvVzZ])/))h[h.length]={type:Kae,text:RegExp.$1},a=a.substr(RegExp.$1.length);else{if(!a.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];h[h.length]={type:xx,text:`${parseFloat(RegExp.$1)}`},a=a.substr(RegExp.$1.length)}return h[h.length]={type:t3,text:""},h}(t);let s="BOD",n=0,l=i[n];for(;!kx(l,t3);){let a=0;const h=[];if(s==="BOD"){if(l.text!=="M"&&l.text!=="m")return HT("M0,0"+t);n++,a=my[l.text],s=l.text}else kx(l,xx)?a=my[s]:(n++,a=my[l.text],s=l.text);if(!(n+a<i.length))throw new Error("Path data ended short");for(let d=n;d<n+a;d++){const f=i[d];if(!kx(f,xx))throw new Error("Param not a number: "+s+","+f.text);h[h.length]=+f.text}if(typeof my[s]!="number")throw new Error("Bad segment: "+s);{const d={key:s,data:h};e.push(d),n+=a,l=i[n],s==="M"&&(s="L"),s==="m"&&(s="l")}}return e}function C4(t){let e=0,i=0,s=0,n=0;const l=[];for(const{key:a,data:h}of t)switch(a){case"M":l.push({key:"M",data:[...h]}),[e,i]=h,[s,n]=h;break;case"m":e+=h[0],i+=h[1],l.push({key:"M",data:[e,i]}),s=e,n=i;break;case"L":l.push({key:"L",data:[...h]}),[e,i]=h;break;case"l":e+=h[0],i+=h[1],l.push({key:"L",data:[e,i]});break;case"C":l.push({key:"C",data:[...h]}),e=h[4],i=h[5];break;case"c":{const d=h.map((f,g)=>g%2?f+i:f+e);l.push({key:"C",data:d}),e=d[4],i=d[5];break}case"Q":l.push({key:"Q",data:[...h]}),e=h[2],i=h[3];break;case"q":{const d=h.map((f,g)=>g%2?f+i:f+e);l.push({key:"Q",data:d}),e=d[2],i=d[3];break}case"A":l.push({key:"A",data:[...h]}),e=h[5],i=h[6];break;case"a":e+=h[5],i+=h[6],l.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],e,i]});break;case"H":l.push({key:"H",data:[...h]}),e=h[0];break;case"h":e+=h[0],l.push({key:"H",data:[e]});break;case"V":l.push({key:"V",data:[...h]}),i=h[0];break;case"v":i+=h[0],l.push({key:"V",data:[i]});break;case"S":l.push({key:"S",data:[...h]}),e=h[2],i=h[3];break;case"s":{const d=h.map((f,g)=>g%2?f+i:f+e);l.push({key:"S",data:d}),e=d[2],i=d[3];break}case"T":l.push({key:"T",data:[...h]}),e=h[0],i=h[1];break;case"t":e+=h[0],i+=h[1],l.push({key:"T",data:[e,i]});break;case"Z":case"z":l.push({key:"Z",data:[]}),e=s,i=n}return l}function E4(t){const e=[];let i="",s=0,n=0,l=0,a=0,h=0,d=0;for(const{key:f,data:g}of t){switch(f){case"M":e.push({key:"M",data:[...g]}),[s,n]=g,[l,a]=g;break;case"C":e.push({key:"C",data:[...g]}),s=g[4],n=g[5],h=g[2],d=g[3];break;case"L":e.push({key:"L",data:[...g]}),[s,n]=g;break;case"H":s=g[0],e.push({key:"L",data:[s,n]});break;case"V":n=g[0],e.push({key:"L",data:[s,n]});break;case"S":{let v=0,x=0;i==="C"||i==="S"?(v=s+(s-h),x=n+(n-d)):(v=s,x=n),e.push({key:"C",data:[v,x,...g]}),h=g[0],d=g[1],s=g[2],n=g[3];break}case"T":{const[v,x]=g;let b=0,C=0;i==="Q"||i==="T"?(b=s+(s-h),C=n+(n-d)):(b=s,C=n);const O=s+2*(b-s)/3,P=n+2*(C-n)/3,L=v+2*(b-v)/3,u=x+2*(C-x)/3;e.push({key:"C",data:[O,P,L,u,v,x]}),h=b,d=C,s=v,n=x;break}case"Q":{const[v,x,b,C]=g,O=s+2*(v-s)/3,P=n+2*(x-n)/3,L=b+2*(v-b)/3,u=C+2*(x-C)/3;e.push({key:"C",data:[O,P,L,u,b,C]}),h=v,d=x,s=b,n=C;break}case"A":{const v=Math.abs(g[0]),x=Math.abs(g[1]),b=g[2],C=g[3],O=g[4],P=g[5],L=g[6];v===0||x===0?(e.push({key:"C",data:[s,n,P,L,P,L]}),s=P,n=L):(s!==P||n!==L)&&(O4(s,n,P,L,v,x,b,C,O).forEach(function(u){e.push({key:"C",data:u})}),s=P,n=L);break}case"Z":e.push({key:"Z",data:[]}),s=l,n=a}i=f}return e}function Gf(t,e,i){return[t*Math.cos(i)-e*Math.sin(i),t*Math.sin(i)+e*Math.cos(i)]}function O4(t,e,i,s,n,l,a,h,d,f){const g=(v=a,Math.PI*v/180);var v;let x=[],b=0,C=0,O=0,P=0;if(f)[b,C,O,P]=f;else{[t,e]=Gf(t,e,-g),[i,s]=Gf(i,s,-g);const M=(t-i)/2,D=(e-s)/2;let I=M*M/(n*n)+D*D/(l*l);I>1&&(I=Math.sqrt(I),n*=I,l*=I);const H=n*n,j=l*l,$=H*j-H*D*D-j*M*M,ae=H*D*D+j*M*M,X=(h===d?-1:1)*Math.sqrt(Math.abs($/ae));O=X*n*D/l+(t+i)/2,P=X*-l*M/n+(e+s)/2,b=Math.asin(parseFloat(((e-P)/l).toFixed(9))),C=Math.asin(parseFloat(((s-P)/l).toFixed(9))),t<O&&(b=Math.PI-b),i<O&&(C=Math.PI-C),b<0&&(b=2*Math.PI+b),C<0&&(C=2*Math.PI+C),d&&b>C&&(b-=2*Math.PI),!d&&C>b&&(C-=2*Math.PI)}let L=C-b;if(Math.abs(L)>120*Math.PI/180){const M=C,D=i,I=s;C=d&&C>b?b+120*Math.PI/180*1:b+120*Math.PI/180*-1,x=O4(i=O+n*Math.cos(C),s=P+l*Math.sin(C),D,I,n,l,a,0,d,[C,M,O,P])}L=C-b;const u=Math.cos(b),S=Math.sin(b),y=Math.cos(C),k=Math.sin(C),T=Math.tan(L/4),A=4/3*n*T,F=4/3*l*T,z=[t,e],N=[t+A*S,e-F*u],m=[i+A*k,s-F*y],w=[i,s];if(N[0]=2*z[0]-N[0],N[1]=2*z[1]-N[1],f)return[N,m,w].concat(x);{x=[N,m,w].concat(x);const M=[];for(let D=0;D<x.length;D+=3){const I=Gf(x[D][0],x[D][1],g),H=Gf(x[D+1][0],x[D+1][1],g),j=Gf(x[D+2][0],x[D+2][1],g);M.push([I[0],I[1],H[0],H[1],j[0],j[1]])}return M}}const Zae={randOffset:function(t,e){return Kt(t,e)},randOffsetWithRange:function(t,e,i){return Bv(t,e,i)},ellipse:function(t,e,i,s,n){const l=A4(i,s,n);return Bk(t,e,n,l).opset},doubleLineOps:function(t,e,i,s,n){return Ol(t,e,i,s,n,!0)}};function M4(t,e,i,s,n){return{type:"path",ops:Ol(t,e,i,s,n)}}function zy(t,e,i){const s=(t||[]).length;if(s>2){const n=[];for(let l=0;l<s-1;l++)n.push(...Ol(t[l][0],t[l][1],t[l+1][0],t[l+1][1],i));return e&&n.push(...Ol(t[s-1][0],t[s-1][1],t[0][0],t[0][1],i)),{type:"path",ops:n}}return s===2?M4(t[0][0],t[0][1],t[1][0],t[1][1],i):{type:"path",ops:[]}}function Qae(t,e,i,s,n){return function(l,a){return zy(l,!0,a)}([[t,e],[t+i,e],[t+i,e+s],[t,e+s]],n)}function i3(t,e){if(t.length){const i=typeof t[0][0]=="number"?[t]:t,s=gy(i[0],1*(1+.2*e.roughness),e),n=e.disableMultiStroke?[]:gy(i[0],1.5*(1+.22*e.roughness),n3(e));for(let l=1;l<i.length;l++){const a=i[l];if(a.length){const h=gy(a,1*(1+.2*e.roughness),e),d=e.disableMultiStroke?[]:gy(a,1.5*(1+.22*e.roughness),n3(e));for(const f of h)f.op!=="move"&&s.push(f);for(const f of d)f.op!=="move"&&n.push(f)}}return{type:"path",ops:s.concat(n)}}return{type:"path",ops:[]}}function A4(t,e,i){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),n=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*s)),l=2*Math.PI/n;let a=Math.abs(t/2),h=Math.abs(e/2);const d=1-i.curveFitting;return a+=Kt(a*d,i),h+=Kt(h*d,i),{increment:l,rx:a,ry:h}}function Bk(t,e,i,s){const[n,l]=a3(s.increment,t,e,s.rx,s.ry,1,s.increment*Bv(.1,Bv(.4,1,i),i),i);let a=Nv(n,null,i);if(!i.disableMultiStroke&&i.roughness!==0){const[h]=a3(s.increment,t,e,s.rx,s.ry,1.5,0,i),d=Nv(h,null,i);a=a.concat(d)}return{estimatedPoints:l,opset:{type:"path",ops:a}}}function r3(t,e,i,s,n,l,a,h,d){const f=t,g=e;let v=Math.abs(i/2),x=Math.abs(s/2);v+=Kt(.01*v,d),x+=Kt(.01*x,d);let b=n,C=l;for(;b<0;)b+=2*Math.PI,C+=2*Math.PI;C-b>2*Math.PI&&(b=0,C=2*Math.PI);const O=2*Math.PI/d.curveStepCount,P=Math.min(O/2,(C-b)/2),L=o3(P,f,g,v,x,b,C,1,d);if(!d.disableMultiStroke){const u=o3(P,f,g,v,x,b,C,1.5,d);L.push(...u)}return a&&(h?L.push(...Ol(f,g,f+v*Math.cos(b),g+x*Math.sin(b),d),...Ol(f,g,f+v*Math.cos(C),g+x*Math.sin(C),d)):L.push({op:"lineTo",data:[f,g]},{op:"lineTo",data:[f+v*Math.cos(b),g+x*Math.sin(b)]})),{type:"path",ops:L}}function s3(t,e){const i=E4(C4(HT(t))),s=[];let n=[0,0],l=[0,0];for(const{key:a,data:h}of i)switch(a){case"M":l=[h[0],h[1]],n=[h[0],h[1]];break;case"L":s.push(...Ol(l[0],l[1],h[0],h[1],e)),l=[h[0],h[1]];break;case"C":{const[d,f,g,v,x,b]=h;s.push(...Jae(d,f,g,v,x,b,l,e)),l=[x,b];break}case"Z":s.push(...Ol(l[0],l[1],n[0],n[1],e)),l=[n[0],n[1]]}return{type:"path",ops:s}}function Sx(t,e){const i=[];for(const s of t)if(s.length){const n=e.maxRandomnessOffset||0,l=s.length;if(l>2){i.push({op:"move",data:[s[0][0]+Kt(n,e),s[0][1]+Kt(n,e)]});for(let a=1;a<l;a++)i.push({op:"lineTo",data:[s[a][0]+Kt(n,e),s[a][1]+Kt(n,e)]})}}return{type:"fillPath",ops:i}}function Jh(t,e){return function(i,s){let n=i.fillStyle||"hachure";if(!Qs[n])switch(n){case"zigzag":Qs[n]||(Qs[n]=new qae(s));break;case"cross-hatch":Qs[n]||(Qs[n]=new $ae(s));break;case"dots":Qs[n]||(Qs[n]=new Vae(s));break;case"dashed":Qs[n]||(Qs[n]=new Yae(s));break;case"zigzag-line":Qs[n]||(Qs[n]=new Gae(s));break;default:n="hachure",Qs[n]||(Qs[n]=new UT(s))}return Qs[n]}(e,Zae).fillPolygons(t,e)}function n3(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function P4(t){return t.randomizer||(t.randomizer=new Xae(t.seed||0)),t.randomizer.next()}function Bv(t,e,i,s=1){return i.roughness*s*(P4(i)*(e-t)+t)}function Kt(t,e,i=1){return Bv(-t,t,e,i)}function Ol(t,e,i,s,n,l=!1){const a=l?n.disableMultiStrokeFill:n.disableMultiStroke,h=Nk(t,e,i,s,n,!0,!1);if(a)return h;const d=Nk(t,e,i,s,n,!0,!0);return h.concat(d)}function Nk(t,e,i,s,n,l,a){const h=Math.pow(t-i,2)+Math.pow(e-s,2),d=Math.sqrt(h);let f=1;f=d<200?1:d>500?.4:-.0016668*d+1.233334;let g=n.maxRandomnessOffset||0;g*g*100>h&&(g=d/10);const v=g/2,x=.2+.2*P4(n);let b=n.bowing*n.maxRandomnessOffset*(s-e)/200,C=n.bowing*n.maxRandomnessOffset*(t-i)/200;b=Kt(b,n,f),C=Kt(C,n,f);const O=[],P=()=>Kt(v,n,f),L=()=>Kt(g,n,f),u=n.preserveVertices;return a?O.push({op:"move",data:[t+(u?0:P()),e+(u?0:P())]}):O.push({op:"move",data:[t+(u?0:Kt(g,n,f)),e+(u?0:Kt(g,n,f))]}),a?O.push({op:"bcurveTo",data:[b+t+(i-t)*x+P(),C+e+(s-e)*x+P(),b+t+2*(i-t)*x+P(),C+e+2*(s-e)*x+P(),i+(u?0:P()),s+(u?0:P())]}):O.push({op:"bcurveTo",data:[b+t+(i-t)*x+L(),C+e+(s-e)*x+L(),b+t+2*(i-t)*x+L(),C+e+2*(s-e)*x+L(),i+(u?0:L()),s+(u?0:L())]}),O}function gy(t,e,i){if(!t.length)return[];const s=[];s.push([t[0][0]+Kt(e,i),t[0][1]+Kt(e,i)]),s.push([t[0][0]+Kt(e,i),t[0][1]+Kt(e,i)]);for(let n=1;n<t.length;n++)s.push([t[n][0]+Kt(e,i),t[n][1]+Kt(e,i)]),n===t.length-1&&s.push([t[n][0]+Kt(e,i),t[n][1]+Kt(e,i)]);return Nv(s,null,i)}function Nv(t,e,i){const s=t.length,n=[];if(s>3){const l=[],a=1-i.curveTightness;n.push({op:"move",data:[t[1][0],t[1][1]]});for(let h=1;h+2<s;h++){const d=t[h];l[0]=[d[0],d[1]],l[1]=[d[0]+(a*t[h+1][0]-a*t[h-1][0])/6,d[1]+(a*t[h+1][1]-a*t[h-1][1])/6],l[2]=[t[h+1][0]+(a*t[h][0]-a*t[h+2][0])/6,t[h+1][1]+(a*t[h][1]-a*t[h+2][1])/6],l[3]=[t[h+1][0],t[h+1][1]],n.push({op:"bcurveTo",data:[l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]]})}}else s===3?(n.push({op:"move",data:[t[1][0],t[1][1]]}),n.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&n.push(...Nk(t[0][0],t[0][1],t[1][0],t[1][1],i,!0,!0));return n}function a3(t,e,i,s,n,l,a,h){const d=[],f=[];if(h.roughness===0){t/=4,f.push([e+s*Math.cos(-t),i+n*Math.sin(-t)]);for(let g=0;g<=2*Math.PI;g+=t){const v=[e+s*Math.cos(g),i+n*Math.sin(g)];d.push(v),f.push(v)}f.push([e+s*Math.cos(0),i+n*Math.sin(0)]),f.push([e+s*Math.cos(t),i+n*Math.sin(t)])}else{const g=Kt(.5,h)-Math.PI/2;f.push([Kt(l,h)+e+.9*s*Math.cos(g-t),Kt(l,h)+i+.9*n*Math.sin(g-t)]);const v=2*Math.PI+g-.01;for(let x=g;x<v;x+=t){const b=[Kt(l,h)+e+s*Math.cos(x),Kt(l,h)+i+n*Math.sin(x)];d.push(b),f.push(b)}f.push([Kt(l,h)+e+s*Math.cos(g+2*Math.PI+.5*a),Kt(l,h)+i+n*Math.sin(g+2*Math.PI+.5*a)]),f.push([Kt(l,h)+e+.98*s*Math.cos(g+a),Kt(l,h)+i+.98*n*Math.sin(g+a)]),f.push([Kt(l,h)+e+.9*s*Math.cos(g+.5*a),Kt(l,h)+i+.9*n*Math.sin(g+.5*a)])}return[f,d]}function o3(t,e,i,s,n,l,a,h,d){const f=l+Kt(.1,d),g=[];g.push([Kt(h,d)+e+.9*s*Math.cos(f-t),Kt(h,d)+i+.9*n*Math.sin(f-t)]);for(let v=f;v<=a;v+=t)g.push([Kt(h,d)+e+s*Math.cos(v),Kt(h,d)+i+n*Math.sin(v)]);return g.push([e+s*Math.cos(a),i+n*Math.sin(a)]),g.push([e+s*Math.cos(a),i+n*Math.sin(a)]),Nv(g,null,d)}function Jae(t,e,i,s,n,l,a,h){const d=[],f=[h.maxRandomnessOffset||1,(h.maxRandomnessOffset||1)+.3];let g=[0,0];const v=h.disableMultiStroke?1:2,x=h.preserveVertices;for(let b=0;b<v;b++)b===0?d.push({op:"move",data:[a[0],a[1]]}):d.push({op:"move",data:[a[0]+(x?0:Kt(f[0],h)),a[1]+(x?0:Kt(f[0],h))]}),g=x?[n,l]:[n+Kt(f[b],h),l+Kt(f[b],h)],d.push({op:"bcurveTo",data:[t+Kt(f[b],h),e+Kt(f[b],h),i+Kt(f[b],h),s+Kt(f[b],h),g[0],g[1]]});return d}function Xf(t){return[...t]}function l3(t,e=0){const i=t.length;if(i<3)throw new Error("A curve must have at least three points.");const s=[];if(i===3)s.push(Xf(t[0]),Xf(t[1]),Xf(t[2]),Xf(t[2]));else{const n=[];n.push(t[0],t[0]);for(let h=1;h<t.length;h++)n.push(t[h]),h===t.length-1&&n.push(t[h]);const l=[],a=1-e;s.push(Xf(n[0]));for(let h=1;h+2<n.length;h++){const d=n[h];l[0]=[d[0],d[1]],l[1]=[d[0]+(a*n[h+1][0]-a*n[h-1][0])/6,d[1]+(a*n[h+1][1]-a*n[h-1][1])/6],l[2]=[n[h+1][0]+(a*n[h][0]-a*n[h+2][0])/6,n[h+1][1]+(a*n[h][1]-a*n[h+2][1])/6],l[3]=[n[h+1][0],n[h+1][1]],s.push(l[1],l[2],l[3])}}return s}function Uy(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function eoe(t,e,i){const s=Uy(e,i);if(s===0)return Uy(t,e);let n=((t[0]-e[0])*(i[0]-e[0])+(t[1]-e[1])*(i[1]-e[1]))/s;return n=Math.max(0,Math.min(1,n)),Uy(t,zc(e,i,n))}function zc(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}function zk(t,e,i,s){const n=s||[];if(function(h,d){const f=h[d+0],g=h[d+1],v=h[d+2],x=h[d+3];let b=3*g[0]-2*f[0]-x[0];b*=b;let C=3*g[1]-2*f[1]-x[1];C*=C;let O=3*v[0]-2*x[0]-f[0];O*=O;let P=3*v[1]-2*x[1]-f[1];return P*=P,b<O&&(b=O),C<P&&(C=P),b+C}(t,e)<i){const h=t[e+0];n.length?(l=n[n.length-1],a=h,Math.sqrt(Uy(l,a))>1&&n.push(h)):n.push(h),n.push(t[e+3])}else{const d=t[e+0],f=t[e+1],g=t[e+2],v=t[e+3],x=zc(d,f,.5),b=zc(f,g,.5),C=zc(g,v,.5),O=zc(x,b,.5),P=zc(b,C,.5),L=zc(O,P,.5);zk([d,x,O,L],0,i,n),zk([L,P,C,v],0,i,n)}var l,a;return n}function toe(t,e){return zv(t,0,t.length,e)}function zv(t,e,i,s,n){const l=n||[],a=t[e],h=t[i-1];let d=0,f=1;for(let g=e+1;g<i-1;++g){const v=eoe(t[g],a,h);v>d&&(d=v,f=g)}return Math.sqrt(d)>s?(zv(t,e,f+1,s,l),zv(t,f,i,s,l)):(l.length||l.push(a),l.push(h)),l}function Tx(t,e=.15,i){const s=[],n=(t.length-1)/3;for(let l=0;l<n;l++)zk(t,3*l,e,s);return i&&i>0?zv(s,0,s.length,i):s}const vn="none";class Uv{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,i,s){return{shape:e,sets:i||[],options:s||this.defaultOptions}}line(e,i,s,n,l){const a=this._o(l);return this._d("line",[M4(e,i,s,n,a)],a)}rectangle(e,i,s,n,l){const a=this._o(l),h=[],d=Qae(e,i,s,n,a);if(a.fill){const f=[[e,i],[e+s,i],[e+s,i+n],[e,i+n]];a.fillStyle==="solid"?h.push(Sx([f],a)):h.push(Jh([f],a))}return a.stroke!==vn&&h.push(d),this._d("rectangle",h,a)}ellipse(e,i,s,n,l){const a=this._o(l),h=[],d=A4(s,n,a),f=Bk(e,i,a,d);if(a.fill)if(a.fillStyle==="solid"){const g=Bk(e,i,a,d).opset;g.type="fillPath",h.push(g)}else h.push(Jh([f.estimatedPoints],a));return a.stroke!==vn&&h.push(f.opset),this._d("ellipse",h,a)}circle(e,i,s,n){const l=this.ellipse(e,i,s,s,n);return l.shape="circle",l}linearPath(e,i){const s=this._o(i);return this._d("linearPath",[zy(e,!1,s)],s)}arc(e,i,s,n,l,a,h=!1,d){const f=this._o(d),g=[],v=r3(e,i,s,n,l,a,h,!0,f);if(h&&f.fill)if(f.fillStyle==="solid"){const x=Object.assign({},f);x.disableMultiStroke=!0;const b=r3(e,i,s,n,l,a,!0,!1,x);b.type="fillPath",g.push(b)}else g.push(function(x,b,C,O,P,L,u){const S=x,y=b;let k=Math.abs(C/2),T=Math.abs(O/2);k+=Kt(.01*k,u),T+=Kt(.01*T,u);let A=P,F=L;for(;A<0;)A+=2*Math.PI,F+=2*Math.PI;F-A>2*Math.PI&&(A=0,F=2*Math.PI);const z=(F-A)/u.curveStepCount,N=[];for(let m=A;m<=F;m+=z)N.push([S+k*Math.cos(m),y+T*Math.sin(m)]);return N.push([S+k*Math.cos(F),y+T*Math.sin(F)]),N.push([S,y]),Jh([N],u)}(e,i,s,n,l,a,f));return f.stroke!==vn&&g.push(v),this._d("arc",g,f)}curve(e,i){const s=this._o(i),n=[],l=i3(e,s);if(s.fill&&s.fill!==vn)if(s.fillStyle==="solid"){const a=i3(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],h=e;if(h.length){const d=typeof h[0][0]=="number"?[h]:h;for(const f of d)f.length<3?a.push(...f):f.length===3?a.push(...Tx(l3([f[0],f[0],f[1],f[2]]),10,(1+s.roughness)/2)):a.push(...Tx(l3(f),10,(1+s.roughness)/2))}a.length&&n.push(Jh([a],s))}return s.stroke!==vn&&n.push(l),this._d("curve",n,s)}polygon(e,i){const s=this._o(i),n=[],l=zy(e,!0,s);return s.fill&&(s.fillStyle==="solid"?n.push(Sx([e],s)):n.push(Jh([e],s))),s.stroke!==vn&&n.push(l),this._d("polygon",n,s)}path(e,i){const s=this._o(i),n=[];if(!e)return this._d("path",n,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const l=s.fill&&s.fill!=="transparent"&&s.fill!==vn,a=s.stroke!==vn,h=!!(s.simplification&&s.simplification<1),d=function(g,v,x){const b=E4(C4(HT(g))),C=[];let O=[],P=[0,0],L=[];const u=()=>{L.length>=4&&O.push(...Tx(L,v)),L=[]},S=()=>{u(),O.length&&(C.push(O),O=[])};for(const{key:k,data:T}of b)switch(k){case"M":S(),P=[T[0],T[1]],O.push(P);break;case"L":u(),O.push([T[0],T[1]]);break;case"C":if(!L.length){const A=O.length?O[O.length-1]:P;L.push([A[0],A[1]])}L.push([T[0],T[1]]),L.push([T[2],T[3]]),L.push([T[4],T[5]]);break;case"Z":u(),O.push([P[0],P[1]])}if(S(),!x)return C;const y=[];for(const k of C){const T=toe(k,x);T.length&&y.push(T)}return y}(e,1,h?4-4*(s.simplification||1):(1+s.roughness)/2),f=s3(e,s);if(l)if(s.fillStyle==="solid")if(d.length===1){const g=s3(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(g.ops)})}else n.push(Sx(d,s));else n.push(Jh(d,s));return a&&(h?d.forEach(g=>{n.push(zy(g,!1,s))}):n.push(f)),this._d("path",n,s)}opsToPath(e,i){let s="";for(const n of e.ops){const l=typeof i=="number"&&i>=0?n.data.map(a=>+a.toFixed(i)):n.data;switch(n.op){case"move":s+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":s+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":s+=`L${l[0]} ${l[1]} `}}return s.trim()}toPaths(e){const i=e.sets||[],s=e.options||this.defaultOptions,n=[];for(const l of i){let a=null;switch(l.type){case"path":a={d:this.opsToPath(l),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:vn};break;case"fillPath":a={d:this.opsToPath(l),stroke:vn,strokeWidth:0,fill:s.fill||vn};break;case"fillSketch":a=this.fillSketch(l,s)}a&&n.push(a)}return n}fillSketch(e,i){let s=i.fillWeight;return s<0&&(s=i.strokeWidth/2),{d:this.opsToPath(e),stroke:i.fill||vn,strokeWidth:s,fill:vn}}_mergedShape(e){return e.filter((i,s)=>s===0||i.op!=="move")}}class ioe{constructor(e,i){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new Uv(i)}draw(e){const i=e.sets||[],s=e.options||this.getDefaultOptions(),n=this.ctx,l=e.options.fixedDecimalPlaceDigits;for(const a of i)switch(a.type){case"path":n.save(),n.strokeStyle=s.stroke==="none"?"transparent":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,a,l),n.restore();break;case"fillPath":{n.save(),n.fillStyle=s.fill||"";const h=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(n,a,l,h),n.restore();break}case"fillSketch":this.fillSketch(n,a,s)}}fillSketch(e,i,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),e.save(),s.fillLineDash&&e.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(e.lineDashOffset=s.fillLineDashOffset),e.strokeStyle=s.fill||"",e.lineWidth=n,this._drawToContext(e,i,s.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,i,s,n="nonzero"){e.beginPath();for(const l of i.ops){const a=typeof s=="number"&&s>=0?l.data.map(h=>+h.toFixed(s)):l.data;switch(l.op){case"move":e.moveTo(a[0],a[1]);break;case"bcurveTo":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"lineTo":e.lineTo(a[0],a[1])}}i.type==="fillPath"?e.fill(n):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,i,s,n,l){const a=this.gen.line(e,i,s,n,l);return this.draw(a),a}rectangle(e,i,s,n,l){const a=this.gen.rectangle(e,i,s,n,l);return this.draw(a),a}ellipse(e,i,s,n,l){const a=this.gen.ellipse(e,i,s,n,l);return this.draw(a),a}circle(e,i,s,n){const l=this.gen.circle(e,i,s,n);return this.draw(l),l}linearPath(e,i){const s=this.gen.linearPath(e,i);return this.draw(s),s}polygon(e,i){const s=this.gen.polygon(e,i);return this.draw(s),s}arc(e,i,s,n,l,a,h=!1,d){const f=this.gen.arc(e,i,s,n,l,a,h,d);return this.draw(f),f}curve(e,i){const s=this.gen.curve(e,i);return this.draw(s),s}path(e,i){const s=this.gen.path(e,i);return this.draw(s),s}}const yy="http://www.w3.org/2000/svg";class roe{constructor(e,i){this.svg=e,this.gen=new Uv(i)}draw(e){const i=e.sets||[],s=e.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,l=n.createElementNS(yy,"g"),a=e.options.fixedDecimalPlaceDigits;for(const h of i){let d=null;switch(h.type){case"path":d=n.createElementNS(yy,"path"),d.setAttribute("d",this.opsToPath(h,a)),d.setAttribute("stroke",s.stroke),d.setAttribute("stroke-width",s.strokeWidth+""),d.setAttribute("fill","none"),s.strokeLineDash&&d.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":d=n.createElementNS(yy,"path"),d.setAttribute("d",this.opsToPath(h,a)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",s.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||d.setAttribute("fill-rule","evenodd");break;case"fillSketch":d=this.fillSketch(n,h,s)}d&&l.appendChild(d)}return l}fillSketch(e,i,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const l=e.createElementNS(yy,"path");return l.setAttribute("d",this.opsToPath(i,s.fixedDecimalPlaceDigits)),l.setAttribute("stroke",s.fill||""),l.setAttribute("stroke-width",n+""),l.setAttribute("fill","none"),s.fillLineDash&&l.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,i){return this.gen.opsToPath(e,i)}line(e,i,s,n,l){const a=this.gen.line(e,i,s,n,l);return this.draw(a)}rectangle(e,i,s,n,l){const a=this.gen.rectangle(e,i,s,n,l);return this.draw(a)}ellipse(e,i,s,n,l){const a=this.gen.ellipse(e,i,s,n,l);return this.draw(a)}circle(e,i,s,n){const l=this.gen.circle(e,i,s,n);return this.draw(l)}linearPath(e,i){const s=this.gen.linearPath(e,i);return this.draw(s)}polygon(e,i){const s=this.gen.polygon(e,i);return this.draw(s)}arc(e,i,s,n,l,a,h=!1,d){const f=this.gen.arc(e,i,s,n,l,a,h,d);return this.draw(f)}curve(e,i){const s=this.gen.curve(e,i);return this.draw(s)}path(e,i){const s=this.gen.path(e,i);return this.draw(s)}}var Et={canvas:(t,e)=>new ioe(t,e),svg:(t,e)=>new roe(t,e),generator:t=>new Uv(t),newSeed:()=>Uv.newSeed()},ei=W(async(t,e,i)=>{var v,x;let s;const n=e.useHtmlLabels||Yr((v=Ni())==null?void 0:v.htmlLabels);i?s=i:s="node default";const l=t.insert("g").attr("class",s).attr("id",e.domId||e.id),a=l.insert("g").attr("class","label").attr("style",ln(e.labelStyle));let h;e.label===void 0?h="":h=typeof e.label=="string"?e.label:e.label[0];const d=await Rl(a,$n(bh(h),Ni()),{useHtmlLabels:n,width:e.width||((x=Ni().flowchart)==null?void 0:x.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let f=d.getBBox();const g=((e==null?void 0:e.padding)??0)/2;if(n){const b=d.children[0],C=Si(d),O=b.getElementsByTagName("img");if(O){const P=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...O].map(L=>new Promise(u=>{function S(){if(L.style.display="flex",L.style.flexDirection="column",P){const y=Ni().fontSize?Ni().fontSize:window.getComputedStyle(document.body).fontSize,k=5,[T=WI.fontSize]=Ob(y),A=T*k+"px";L.style.minWidth=A,L.style.maxWidth=A}else L.style.width="100%";u(L)}W(S,"setupImage"),setTimeout(()=>{L.complete&&S()}),L.addEventListener("error",S),L.addEventListener("load",S)})))}f=b.getBoundingClientRect(),C.attr("width",f.width),C.attr("height",f.height)}return n?a.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"):a.attr("transform","translate(0, "+-f.height/2+")"),e.centerLabel&&a.attr("transform","translate("+-f.width/2+", "+-f.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:l,bbox:f,halfPadding:g,label:a}},"labelHelper"),Cx=W(async(t,e,i)=>{var d,f,g,v,x,b;const s=i.useHtmlLabels||Yr((f=(d=Ni())==null?void 0:d.flowchart)==null?void 0:f.htmlLabels),n=t.insert("g").attr("class","label").attr("style",i.labelStyle||""),l=await Rl(n,$n(bh(e),Ni()),{useHtmlLabels:s,width:i.width||((v=(g=Ni())==null?void 0:g.flowchart)==null?void 0:v.wrappingWidth),style:i.labelStyle,addSvgBackground:!!i.icon||!!i.img});let a=l.getBBox();const h=i.padding/2;if(Yr((b=(x=Ni())==null?void 0:x.flowchart)==null?void 0:b.htmlLabels)){const C=l.children[0],O=Si(l);a=C.getBoundingClientRect(),O.attr("width",a.width),O.attr("height",a.height)}return s?n.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"):n.attr("transform","translate(0, "+-a.height/2+")"),i.centerLabel&&n.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),n.insert("rect",":first-child"),{shapeSvg:t,bbox:a,halfPadding:h,label:n}},"insertLabel"),Dt=W((t,e)=>{const i=e.node().getBBox();t.width=i.width,t.height=i.height},"updateNodeBounds"),Yt=W((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function bi(t){const e=t.map((i,s)=>`${s===0?"M":"L"}${i.x},${i.y}`);return e.push("Z"),e.join(" ")}W(bi,"createPathFromPoints");function Ml(t,e,i,s,n,l){const a=[],d=i-t,f=s-e,g=d/l,v=2*Math.PI/g,x=e+f/2;for(let b=0;b<=50;b++){const C=b/50,O=t+C*d,P=x+n*Math.sin(v*(O-t));a.push({x:O,y:P})}return a}W(Ml,"generateFullSineWavePoints");function Xp(t,e,i,s,n,l){const a=[],h=n*Math.PI/180,g=(l*Math.PI/180-h)/(s-1);for(let v=0;v<s;v++){const x=h+v*g,b=t+i*Math.cos(x),C=e+i*Math.sin(x);a.push({x:-b,y:-C})}return a}W(Xp,"generateCirclePoints");var soe=W((t,e)=>{var i=t.x,s=t.y,n=e.x-i,l=e.y-s,a=t.width/2,h=t.height/2,d,f;return Math.abs(l)*a>Math.abs(n)*h?(l<0&&(h=-h),d=l===0?0:h*n/l,f=h):(n<0&&(a=-a),d=a,f=n===0?0:a*l/n),{x:i+d,y:s+f}},"intersectRect"),nd=soe;function D4(t,e){e&&t.attr("style",e)}W(D4,"applyStyle");async function L4(t){const e=Si(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=e.append("xhtml:div"),s=Ni();let n=t.label;t.label&&Wu(t.label)&&(n=await YS(t.label.replace(td.lineBreakRegex,`
`),s));const a='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+n+"</span>";return i.html($n(a,s)),D4(i,t.labelStyle),i.style("display","inline-block"),i.style("padding-right","1px"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}W(L4,"addHtmlLabel");var noe=W(async(t,e,i,s)=>{let n=t||"";if(typeof n=="object"&&(n=n[0]),Yr(Ni().flowchart.htmlLabels)){n=n.replace(/\\n|\n/g,"<br />"),Ne.info("vertexText"+n);const l={isNode:s,label:bh(n).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await L4(l)}else{const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",e.replace("color:","fill:"));let a=[];typeof n=="string"?a=n.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(n)?a=n:a=[];for(const h of a){const d=document.createElementNS("http://www.w3.org/2000/svg","tspan");d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.setAttribute("dy","1em"),d.setAttribute("x","0"),i?d.setAttribute("class","title-row"):d.setAttribute("class","row"),d.textContent=h.trim(),l.appendChild(d)}return l}},"createLabel"),Xc=noe,Fl=W((t,e,i,s,n)=>["M",t+n,e,"H",t+i-n,"A",n,n,0,0,1,t+i,e+n,"V",e+s-n,"A",n,n,0,0,1,t+i-n,e+s,"H",t+n,"A",n,n,0,0,1,t,e+s-n,"V",e+n,"A",n,n,0,0,1,t+n,e,"Z"].join(" "),"createRoundedRectPathD"),R4=W(async(t,e)=>{Ne.info("Creating subgraph rect for ",e.id,e);const i=Ni(),{themeVariables:s,handDrawnSeed:n}=i,{clusterBkg:l,clusterBorder:a}=s,{labelStyles:h,nodeStyles:d,borderStyles:f,backgroundStyles:g}=Lt(e),v=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=Yr(i.flowchart.htmlLabels),b=v.insert("g").attr("class","cluster-label "),C=await Rl(b,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0});let O=C.getBBox();if(Yr(i.flowchart.htmlLabels)){const A=C.children[0],F=Si(C);O=A.getBoundingClientRect(),F.attr("width",O.width),F.attr("height",O.height)}const P=e.width<=O.width+e.padding?O.width+e.padding:e.width;e.width<=O.width+e.padding?e.diff=(P-e.width)/2-e.padding:e.diff=-e.padding;const L=e.height,u=e.x-P/2,S=e.y-L/2;Ne.trace("Data ",e,JSON.stringify(e));let y;if(e.look==="handDrawn"){const A=Et.svg(v),F=Ot(e,{roughness:.7,fill:l,stroke:a,fillWeight:3,seed:n}),z=A.path(Fl(u,S,P,L,0),F);y=v.insert(()=>(Ne.debug("Rough node insert CXC",z),z),":first-child"),y.select("path:nth-child(2)").attr("style",f.join(";")),y.select("path").attr("style",g.join(";").replace("fill","stroke"))}else y=v.insert("rect",":first-child"),y.attr("style",d).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",S).attr("width",P).attr("height",L);const{subGraphTitleTopMargin:k}=aT(i);if(b.attr("transform",`translate(${e.x-O.width/2}, ${e.y-e.height/2+k})`),h){const A=b.select("span");A&&A.attr("style",h)}const T=y.node().getBBox();return e.offsetX=0,e.width=T.width,e.height=T.height,e.offsetY=O.height-e.padding/2,e.intersect=function(A){return nd(e,A)},{cluster:v,labelBBox:O}},"rect"),aoe=W((t,e)=>{const i=t.insert("g").attr("class","note-cluster").attr("id",e.id),s=i.insert("rect",":first-child"),n=0*e.padding,l=n/2;s.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-l).attr("y",e.y-e.height/2-l).attr("width",e.width+n).attr("height",e.height+n).attr("fill","none");const a=s.node().getBBox();return e.width=a.width,e.height=a.height,e.intersect=function(h){return nd(e,h)},{cluster:i,labelBBox:{width:0,height:0}}},"noteGroup"),ooe=W(async(t,e)=>{const i=Ni(),{themeVariables:s,handDrawnSeed:n}=i,{altBackground:l,compositeBackground:a,compositeTitleBackground:h,nodeBorder:d}=s,f=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),g=f.insert("g",":first-child"),v=f.insert("g").attr("class","cluster-label");let x=f.append("rect");const b=v.node().appendChild(await Xc(e.label,e.labelStyle,void 0,!0));let C=b.getBBox();if(Yr(i.flowchart.htmlLabels)){const z=b.children[0],N=Si(b);C=z.getBoundingClientRect(),N.attr("width",C.width),N.attr("height",C.height)}const O=0*e.padding,P=O/2,L=(e.width<=C.width+e.padding?C.width+e.padding:e.width)+O;e.width<=C.width+e.padding?e.diff=(L-e.width)/2-e.padding:e.diff=-e.padding;const u=e.height+O,S=e.height+O-C.height-6,y=e.x-L/2,k=e.y-u/2;e.width=L;const T=e.y-e.height/2-P+C.height+2;let A;if(e.look==="handDrawn"){const z=e.cssClasses.includes("statediagram-cluster-alt"),N=Et.svg(f),m=e.rx||e.ry?N.path(Fl(y,k,L,u,10),{roughness:.7,fill:h,fillStyle:"solid",stroke:d,seed:n}):N.rectangle(y,k,L,u,{seed:n});A=f.insert(()=>m,":first-child");const w=N.rectangle(y,T,L,S,{fill:z?l:a,fillStyle:z?"hachure":"solid",stroke:d,seed:n});A=f.insert(()=>m,":first-child"),x=f.insert(()=>w)}else A=g.insert("rect",":first-child"),A.attr("class","outer").attr("x",y).attr("y",k).attr("width",L).attr("height",u).attr("data-look",e.look),x.attr("class","inner").attr("x",y).attr("y",T).attr("width",L).attr("height",S);v.attr("transform",`translate(${e.x-C.width/2}, ${k+1-(Yr(i.flowchart.htmlLabels)?0:3)})`);const F=A.node().getBBox();return e.height=F.height,e.offsetX=0,e.offsetY=C.height-e.padding/2,e.labelBBox=C,e.intersect=function(z){return nd(e,z)},{cluster:f,labelBBox:C}},"roundedWithTitle"),loe=W(async(t,e)=>{Ne.info("Creating subgraph rect for ",e.id,e);const i=Ni(),{themeVariables:s,handDrawnSeed:n}=i,{clusterBkg:l,clusterBorder:a}=s,{labelStyles:h,nodeStyles:d,borderStyles:f,backgroundStyles:g}=Lt(e),v=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),x=Yr(i.flowchart.htmlLabels),b=v.insert("g").attr("class","cluster-label "),C=await Rl(b,e.label,{style:e.labelStyle,useHtmlLabels:x,isNode:!0,width:e.width});let O=C.getBBox();if(Yr(i.flowchart.htmlLabels)){const A=C.children[0],F=Si(C);O=A.getBoundingClientRect(),F.attr("width",O.width),F.attr("height",O.height)}const P=e.width<=O.width+e.padding?O.width+e.padding:e.width;e.width<=O.width+e.padding?e.diff=(P-e.width)/2-e.padding:e.diff=-e.padding;const L=e.height,u=e.x-P/2,S=e.y-L/2;Ne.trace("Data ",e,JSON.stringify(e));let y;if(e.look==="handDrawn"){const A=Et.svg(v),F=Ot(e,{roughness:.7,fill:l,stroke:a,fillWeight:4,seed:n}),z=A.path(Fl(u,S,P,L,e.rx),F);y=v.insert(()=>(Ne.debug("Rough node insert CXC",z),z),":first-child"),y.select("path:nth-child(2)").attr("style",f.join(";")),y.select("path").attr("style",g.join(";").replace("fill","stroke"))}else y=v.insert("rect",":first-child"),y.attr("style",d).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",S).attr("width",P).attr("height",L);const{subGraphTitleTopMargin:k}=aT(i);if(b.attr("transform",`translate(${e.x-O.width/2}, ${e.y-e.height/2+k})`),h){const A=b.select("span");A&&A.attr("style",h)}const T=y.node().getBBox();return e.offsetX=0,e.width=T.width,e.height=T.height,e.offsetY=O.height-e.padding/2,e.intersect=function(A){return nd(e,A)},{cluster:v,labelBBox:O}},"kanbanSection"),coe=W((t,e)=>{const i=Ni(),{themeVariables:s,handDrawnSeed:n}=i,{nodeBorder:l}=s,a=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=a.insert("g",":first-child"),d=0*e.padding,f=e.width+d;e.diff=-e.padding;const g=e.height+d,v=e.x-f/2,x=e.y-g/2;e.width=f;let b;if(e.look==="handDrawn"){const P=Et.svg(a).rectangle(v,x,f,g,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:l,seed:n});b=a.insert(()=>P,":first-child")}else b=h.insert("rect",":first-child"),b.attr("class","divider").attr("x",v).attr("y",x).attr("width",f).attr("height",g).attr("data-look",e.look);const C=b.node().getBBox();return e.height=C.height,e.offsetX=0,e.offsetY=0,e.intersect=function(O){return nd(e,O)},{cluster:a,labelBBox:{}}},"divider"),hoe=R4,uoe={rect:R4,squareRect:hoe,roundedWithTitle:ooe,noteGroup:aoe,divider:coe,kanbanSection:loe},F4=new Map,doe=W(async(t,e)=>{const i=e.shape||"rect",s=await uoe[i](t,e);return F4.set(e.id,s),s},"insertCluster"),Sde=W(()=>{F4=new Map},"clear");function I4(t,e){return t.intersect(e)}W(I4,"intersectNode");var foe=I4;function B4(t,e,i,s){var n=t.x,l=t.y,a=n-s.x,h=l-s.y,d=Math.sqrt(e*e*h*h+i*i*a*a),f=Math.abs(e*i*a/d);s.x<n&&(f=-f);var g=Math.abs(e*i*h/d);return s.y<l&&(g=-g),{x:n+f,y:l+g}}W(B4,"intersectEllipse");var N4=B4;function z4(t,e,i){return N4(t,e,e,i)}W(z4,"intersectCircle");var poe=z4;function U4(t,e,i,s){var n,l,a,h,d,f,g,v,x,b,C,O,P,L,u;if(n=e.y-t.y,a=t.x-e.x,d=e.x*t.y-t.x*e.y,x=n*i.x+a*i.y+d,b=n*s.x+a*s.y+d,!(x!==0&&b!==0&&Uk(x,b))&&(l=s.y-i.y,h=i.x-s.x,f=s.x*i.y-i.x*s.y,g=l*t.x+h*t.y+f,v=l*e.x+h*e.y+f,!(g!==0&&v!==0&&Uk(g,v))&&(C=n*h-l*a,C!==0)))return O=Math.abs(C/2),P=a*f-h*d,L=P<0?(P-O)/C:(P+O)/C,P=l*d-n*f,u=P<0?(P-O)/C:(P+O)/C,{x:L,y:u}}W(U4,"intersectLine");function Uk(t,e){return t*e>0}W(Uk,"sameSign");var moe=U4;function H4(t,e,i){let s=t.x,n=t.y,l=[],a=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(g){a=Math.min(a,g.x),h=Math.min(h,g.y)}):(a=Math.min(a,e.x),h=Math.min(h,e.y));let d=s-t.width/2-a,f=n-t.height/2-h;for(let g=0;g<e.length;g++){let v=e[g],x=e[g<e.length-1?g+1:0],b=moe(t,i,{x:d+v.x,y:f+v.y},{x:d+x.x,y:f+x.y});b&&l.push(b)}return l.length?(l.length>1&&l.sort(function(g,v){let x=g.x-i.x,b=g.y-i.y,C=Math.sqrt(x*x+b*b),O=v.x-i.x,P=v.y-i.y,L=Math.sqrt(O*O+P*P);return C<L?-1:C===L?0:1}),l[0]):t}W(H4,"intersectPolygon");var goe=H4,Tt={node:foe,circle:poe,ellipse:N4,polygon:goe,rect:nd};function W4(t,e){const{labelStyles:i}=Lt(e);e.labelStyle=i;const s=Yt(e);let n=s;s||(n="anchor");const l=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=1,{cssStyles:h}=e,d=Et.svg(l),f=Ot(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(f.roughness=0);const g=d.circle(0,0,a*2,f),v=l.insert(()=>g,":first-child");return v.attr("class","anchor").attr("style",ln(h)),Dt(e,v),e.intersect=function(x){return Ne.info("Circle intersect",e,a,x),Tt.circle(e,a,x)},l}W(W4,"anchor");function Hk(t,e,i,s,n,l,a){const d=(t+i)/2,f=(e+s)/2,g=Math.atan2(s-e,i-t),v=(i-t)/2,x=(s-e)/2,b=v/n,C=x/l,O=Math.sqrt(b**2+C**2);if(O>1)throw new Error("The given radii are too small to create an arc between the points.");const P=Math.sqrt(1-O**2),L=d+P*l*Math.sin(g)*(a?-1:1),u=f-P*n*Math.cos(g)*(a?-1:1),S=Math.atan2((e-u)/l,(t-L)/n);let k=Math.atan2((s-u)/l,(i-L)/n)-S;a&&k<0&&(k+=2*Math.PI),!a&&k>0&&(k-=2*Math.PI);const T=[];for(let A=0;A<20;A++){const F=A/19,z=S+F*k,N=L+n*Math.cos(z),m=u+l*Math.sin(z);T.push({x:N,y:m})}return T}W(Hk,"generateArcPoints");async function j4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=l.width+e.padding+20,h=l.height+e.padding,d=h/2,f=d/(2.5+h/50),{cssStyles:g}=e,v=[{x:a/2,y:-h/2},{x:-a/2,y:-h/2},...Hk(-a/2,-h/2,-a/2,h/2,f,d,!1),{x:a/2,y:h/2},...Hk(a/2,h/2,a/2,-h/2,f,d,!0)],x=Et.svg(n),b=Ot(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=bi(v),O=x.path(C,b),P=n.insert(()=>O,":first-child");return P.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",g),s&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",s),P.attr("transform",`translate(${f/2}, 0)`),Dt(e,P),e.intersect=function(L){return Tt.polygon(e,v,L)},n}W(j4,"bowTieRect");function Il(t,e,i,s){return t.insert("polygon",":first-child").attr("points",s.map(function(n){return n.x+","+n.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+i/2+")")}W(Il,"insertPolygonShape");async function q4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=l.height+e.padding,h=12,d=l.width+e.padding+h,f=0,g=d,v=-a,x=0,b=[{x:f+h,y:v},{x:g,y:v},{x:g,y:x},{x:f,y:x},{x:f,y:v+h},{x:f+h,y:v}];let C;const{cssStyles:O}=e;if(e.look==="handDrawn"){const P=Et.svg(n),L=Ot(e,{}),u=bi(b),S=P.path(u,L);C=n.insert(()=>S,":first-child").attr("transform",`translate(${-d/2}, ${a/2})`),O&&C.attr("style",O)}else C=Il(n,d,a,b);return s&&C.attr("style",s),Dt(e,C),e.intersect=function(P){return Tt.polygon(e,b,P)},n}W(q4,"card");function $4(t,e){const{nodeStyles:i}=Lt(e);e.label="";const s=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),{cssStyles:n}=e,l=Math.max(28,e.width??0),a=[{x:0,y:l/2},{x:l/2,y:0},{x:0,y:-l/2},{x:-l/2,y:0}],h=Et.svg(s),d=Ot(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=bi(a),g=h.path(f,d),v=s.insert(()=>g,":first-child");return n&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",n),i&&e.look!=="handDrawn"&&v.selectAll("path").attr("style",i),e.width=28,e.height=28,e.intersect=function(x){return Tt.polygon(e,a,x)},s}W($4,"choice");async function V4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,halfPadding:a}=await ei(t,e,Yt(e)),h=l.width/2+a;let d;const{cssStyles:f}=e;if(e.look==="handDrawn"){const g=Et.svg(n),v=Ot(e,{}),x=g.circle(0,0,h*2,v);d=n.insert(()=>x,":first-child"),d.attr("class","basic label-container").attr("style",ln(f))}else d=n.insert("circle",":first-child").attr("class","basic label-container").attr("style",s).attr("r",h).attr("cx",0).attr("cy",0);return Dt(e,d),e.intersect=function(g){return Ne.info("Circle intersect",e,h,g),Tt.circle(e,h,g)},n}W(V4,"circle");function Y4(t){const e=Math.cos(Math.PI/4),i=Math.sin(Math.PI/4),s=t*2,n={x:s/2*e,y:s/2*i},l={x:-(s/2)*e,y:s/2*i},a={x:-(s/2)*e,y:-(s/2)*i},h={x:s/2*e,y:-(s/2)*i};return`M ${l.x},${l.y} L ${h.x},${h.y}
                   M ${n.x},${n.y} L ${a.x},${a.y}`}W(Y4,"createLine");function G4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i,e.label="";const n=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),l=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:a}=e,h=Et.svg(n),d=Ot(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const f=h.circle(0,0,l*2,d),g=Y4(l),v=h.path(g,d),x=n.insert(()=>f,":first-child");return x.insert(()=>v),a&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",a),s&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",s),Dt(e,x),e.intersect=function(b){return Ne.info("crossedCircle intersect",e,{radius:l,point:b}),Tt.circle(e,l,b)},n}W(G4,"crossedCircle");function Mo(t,e,i,s=100,n=0,l=180){const a=[],h=n*Math.PI/180,g=(l*Math.PI/180-h)/(s-1);for(let v=0;v<s;v++){const x=h+v*g,b=t+i*Math.cos(x),C=e+i*Math.sin(x);a.push({x:-b,y:-C})}return a}W(Mo,"generateCirclePoints");async function X4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),f=Math.max(5,d*.1),{cssStyles:g}=e,v=[...Mo(h/2,-d/2,f,30,-90,0),{x:-h/2-f,y:f},...Mo(h/2+f*2,-f,f,20,-180,-270),...Mo(h/2+f*2,f,f,20,-90,-180),{x:-h/2-f,y:-d/2},...Mo(h/2,d/2,f,20,0,90)],x=[{x:h/2,y:-d/2-f},{x:-h/2,y:-d/2-f},...Mo(h/2,-d/2,f,20,-90,0),{x:-h/2-f,y:-f},...Mo(h/2+h*.1,-f,f,20,-180,-270),...Mo(h/2+h*.1,f,f,20,-90,-180),{x:-h/2-f,y:d/2},...Mo(h/2,d/2,f,20,0,90),{x:-h/2,y:d/2+f},{x:h/2,y:d/2+f}],b=Et.svg(n),C=Ot(e,{fill:"none"});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const P=bi(v).replace("Z",""),L=b.path(P,C),u=bi(x),S=b.path(u,{...C}),y=n.insert("g",":first-child");return y.insert(()=>S,":first-child").attr("stroke-opacity",0),y.insert(()=>L,":first-child"),y.attr("class","text"),g&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",g),s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),y.attr("transform",`translate(${f}, 0)`),a.attr("transform",`translate(${-h/2+f-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),Dt(e,y),e.intersect=function(k){return Tt.polygon(e,x,k)},n}W(X4,"curlyBraceLeft");function Ao(t,e,i,s=100,n=0,l=180){const a=[],h=n*Math.PI/180,g=(l*Math.PI/180-h)/(s-1);for(let v=0;v<s;v++){const x=h+v*g,b=t+i*Math.cos(x),C=e+i*Math.sin(x);a.push({x:b,y:C})}return a}W(Ao,"generateCirclePoints");async function K4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),f=Math.max(5,d*.1),{cssStyles:g}=e,v=[...Ao(h/2,-d/2,f,20,-90,0),{x:h/2+f,y:-f},...Ao(h/2+f*2,-f,f,20,-180,-270),...Ao(h/2+f*2,f,f,20,-90,-180),{x:h/2+f,y:d/2},...Ao(h/2,d/2,f,20,0,90)],x=[{x:-h/2,y:-d/2-f},{x:h/2,y:-d/2-f},...Ao(h/2,-d/2,f,20,-90,0),{x:h/2+f,y:-f},...Ao(h/2+f*2,-f,f,20,-180,-270),...Ao(h/2+f*2,f,f,20,-90,-180),{x:h/2+f,y:d/2},...Ao(h/2,d/2,f,20,0,90),{x:h/2,y:d/2+f},{x:-h/2,y:d/2+f}],b=Et.svg(n),C=Ot(e,{fill:"none"});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const P=bi(v).replace("Z",""),L=b.path(P,C),u=bi(x),S=b.path(u,{...C}),y=n.insert("g",":first-child");return y.insert(()=>S,":first-child").attr("stroke-opacity",0),y.insert(()=>L,":first-child"),y.attr("class","text"),g&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",g),s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),y.attr("transform",`translate(${-f}, 0)`),a.attr("transform",`translate(${-h/2+(e.padding??0)/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),Dt(e,y),e.intersect=function(k){return Tt.polygon(e,x,k)},n}W(K4,"curlyBraceRight");function hs(t,e,i,s=100,n=0,l=180){const a=[],h=n*Math.PI/180,g=(l*Math.PI/180-h)/(s-1);for(let v=0;v<s;v++){const x=h+v*g,b=t+i*Math.cos(x),C=e+i*Math.sin(x);a.push({x:-b,y:-C})}return a}W(hs,"generateCirclePoints");async function Z4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),f=Math.max(5,d*.1),{cssStyles:g}=e,v=[...hs(h/2,-d/2,f,30,-90,0),{x:-h/2-f,y:f},...hs(h/2+f*2,-f,f,20,-180,-270),...hs(h/2+f*2,f,f,20,-90,-180),{x:-h/2-f,y:-d/2},...hs(h/2,d/2,f,20,0,90)],x=[...hs(-h/2+f+f/2,-d/2,f,20,-90,-180),{x:h/2-f/2,y:f},...hs(-h/2-f/2,-f,f,20,0,90),...hs(-h/2-f/2,f,f,20,-90,0),{x:h/2-f/2,y:-f},...hs(-h/2+f+f/2,d/2,f,30,-180,-270)],b=[{x:h/2,y:-d/2-f},{x:-h/2,y:-d/2-f},...hs(h/2,-d/2,f,20,-90,0),{x:-h/2-f,y:-f},...hs(h/2+f*2,-f,f,20,-180,-270),...hs(h/2+f*2,f,f,20,-90,-180),{x:-h/2-f,y:d/2},...hs(h/2,d/2,f,20,0,90),{x:-h/2,y:d/2+f},{x:h/2-f-f/2,y:d/2+f},...hs(-h/2+f+f/2,-d/2,f,20,-90,-180),{x:h/2-f/2,y:f},...hs(-h/2-f/2,-f,f,20,0,90),...hs(-h/2-f/2,f,f,20,-90,0),{x:h/2-f/2,y:-f},...hs(-h/2+f+f/2,d/2,f,30,-180,-270)],C=Et.svg(n),O=Ot(e,{fill:"none"});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const L=bi(v).replace("Z",""),u=C.path(L,O),y=bi(x).replace("Z",""),k=C.path(y,O),T=bi(b),A=C.path(T,{...O}),F=n.insert("g",":first-child");return F.insert(()=>A,":first-child").attr("stroke-opacity",0),F.insert(()=>u,":first-child"),F.insert(()=>k,":first-child"),F.attr("class","text"),g&&e.look!=="handDrawn"&&F.selectAll("path").attr("style",g),s&&e.look!=="handDrawn"&&F.selectAll("path").attr("style",s),F.attr("transform",`translate(${f-f/4}, 0)`),a.attr("transform",`translate(${-h/2+(e.padding??0)/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),Dt(e,F),e.intersect=function(z){return Tt.polygon(e,b,z)},n}W(Z4,"curlyBraces");async function Q4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=80,h=20,d=Math.max(a,(l.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),f=Math.max(h,l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),g=f/2,{cssStyles:v}=e,x=Et.svg(n),b=Ot(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=d,O=f,P=C-g,L=O/4,u=[{x:P,y:0},{x:L,y:0},{x:0,y:O/2},{x:L,y:O},{x:P,y:O},...Xp(-P,-O/2,g,50,270,90)],S=bi(u),y=x.path(S,b),k=n.insert(()=>y,":first-child");return k.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&k.selectChildren("path").attr("style",v),s&&e.look!=="handDrawn"&&k.selectChildren("path").attr("style",s),k.attr("transform",`translate(${-d/2}, ${-f/2})`),Dt(e,k),e.intersect=function(T){return Tt.polygon(e,u,T)},n}W(Q4,"curvedTrapezoid");var yoe=W((t,e,i,s,n,l)=>[`M${t},${e+l}`,`a${n},${l} 0,0,0 ${i},0`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`].join(" "),"createCylinderPathD"),voe=W((t,e,i,s,n,l)=>[`M${t},${e+l}`,`M${t+i},${e+l}`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`].join(" "),"createOuterCylinderPathD"),boe=W((t,e,i,s,n,l)=>[`M${t-i/2},${-s/2}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function J4(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+e.padding,e.width??0),d=h/2,f=d/(2.5+h/50),g=Math.max(l.height+f+e.padding,e.height??0);let v;const{cssStyles:x}=e;if(e.look==="handDrawn"){const b=Et.svg(n),C=voe(0,0,h,g,d,f),O=boe(0,f,h,g,d,f),P=b.path(C,Ot(e,{})),L=b.path(O,Ot(e,{fill:"none"}));v=n.insert(()=>L,":first-child"),v=n.insert(()=>P,":first-child"),v.attr("class","basic label-container"),x&&v.attr("style",x)}else{const b=yoe(0,0,h,g,d,f);v=n.insert("path",":first-child").attr("d",b).attr("class","basic label-container").attr("style",ln(x)).attr("style",s)}return v.attr("label-offset-y",f),v.attr("transform",`translate(${-h/2}, ${-(g/2+f)})`),Dt(e,v),a.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+(e.padding??0)/1.5-(l.y-(l.top??0))})`),e.intersect=function(b){const C=Tt.rect(e,b),O=C.x-(e.x??0);if(d!=0&&(Math.abs(O)<(e.width??0)/2||Math.abs(O)==(e.width??0)/2&&Math.abs(C.y-(e.y??0))>(e.height??0)/2-f)){let P=f*f*(1-O*O/(d*d));P>0&&(P=Math.sqrt(P)),P=f-P,b.y-(e.y??0)>0&&(P=-P),C.y+=P}return C},n}W(J4,"cylinder");async function e6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=l.width+e.padding,d=l.height+e.padding,f=d*.2,g=-h/2,v=-d/2-f/2,{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const O=[{x:g,y:v+f},{x:-g,y:v+f},{x:-g,y:-v},{x:g,y:-v},{x:g,y:v},{x:-g,y:v},{x:-g,y:v+f}],P=b.polygon(O.map(u=>[u.x,u.y]),C),L=n.insert(()=>P,":first-child");return L.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",x),s&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),a.attr("transform",`translate(${g+(e.padding??0)/2-(l.x-(l.left??0))}, ${v+f+(e.padding??0)/2-(l.y-(l.top??0))})`),Dt(e,L),e.intersect=function(u){return Tt.rect(e,u)},n}W(e6,"dividedRectangle");async function t6(t,e){var x,b;const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,halfPadding:a}=await ei(t,e,Yt(e)),d=l.width/2+a+5,f=l.width/2+a;let g;const{cssStyles:v}=e;if(e.look==="handDrawn"){const C=Et.svg(n),O=Ot(e,{roughness:.2,strokeWidth:2.5}),P=Ot(e,{roughness:.2,strokeWidth:1.5}),L=C.circle(0,0,d*2,O),u=C.circle(0,0,f*2,P);g=n.insert("g",":first-child"),g.attr("class",ln(e.cssClasses)).attr("style",ln(v)),(x=g.node())==null||x.appendChild(L),(b=g.node())==null||b.appendChild(u)}else{g=n.insert("g",":first-child");const C=g.insert("circle",":first-child"),O=g.insert("circle");g.attr("class","basic label-container").attr("style",s),C.attr("class","outer-circle").attr("style",s).attr("r",d).attr("cx",0).attr("cy",0),O.attr("class","inner-circle").attr("style",s).attr("r",f).attr("cx",0).attr("cy",0)}return Dt(e,g),e.intersect=function(C){return Ne.info("DoubleCircle intersect",e,d,C),Tt.circle(e,d,C)},n}W(t6,"doublecircle");function i6(t,e,{config:{themeVariables:i}}){const{labelStyles:s,nodeStyles:n}=Lt(e);e.label="",e.labelStyle=s;const l=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),a=7,{cssStyles:h}=e,d=Et.svg(l),{nodeBorder:f}=i,g=Ot(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(g.roughness=0);const v=d.circle(0,0,a*2,g),x=l.insert(()=>v,":first-child");return x.selectAll("path").attr("style",`fill: ${f} !important;`),h&&h.length>0&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",h),n&&e.look!=="handDrawn"&&x.selectAll("path").attr("style",n),Dt(e,x),e.intersect=function(b){return Ne.info("filledCircle intersect",e,{radius:a,point:b}),Tt.circle(e,a,b)},l}W(i6,"filledCircle");async function r6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=l.width+(e.padding??0),d=h+l.height,f=h+l.height,g=[{x:0,y:-d},{x:f,y:-d},{x:f/2,y:0}],{cssStyles:v}=e,x=Et.svg(n),b=Ot(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=bi(g),O=x.path(C,b),P=n.insert(()=>O,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return v&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",v),s&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",s),e.width=h,e.height=d,Dt(e,P),a.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-d/2+(e.padding??0)/2+(l.y-(l.top??0))})`),e.intersect=function(L){return Ne.info("Triangle intersect",e,g,L),Tt.polygon(e,g,L)},n}W(r6,"flippedTriangle");function s6(t,e,{dir:i,config:{state:s,themeVariables:n}}){const{nodeStyles:l}=Lt(e);e.label="";const a=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),{cssStyles:h}=e;let d=Math.max(70,(e==null?void 0:e.width)??0),f=Math.max(10,(e==null?void 0:e.height)??0);i==="LR"&&(d=Math.max(10,(e==null?void 0:e.width)??0),f=Math.max(70,(e==null?void 0:e.height)??0));const g=-1*d/2,v=-1*f/2,x=Et.svg(a),b=Ot(e,{stroke:n.lineColor,fill:n.lineColor});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=x.rectangle(g,v,d,f,b),O=a.insert(()=>C,":first-child");h&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",h),l&&e.look!=="handDrawn"&&O.selectAll("path").attr("style",l),Dt(e,O);const P=(s==null?void 0:s.padding)??0;return e.width&&e.height&&(e.width+=P/2||0,e.height+=P/2||0),e.intersect=function(L){return Tt.rect(e,L)},a}W(s6,"forkJoin");async function n6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const n=80,l=50,{shapeSvg:a,bbox:h}=await ei(t,e,Yt(e)),d=Math.max(n,h.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(l,h.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),g=f/2,{cssStyles:v}=e,x=Et.svg(a),b=Ot(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=[{x:-d/2,y:-f/2},{x:d/2-g,y:-f/2},...Xp(-d/2+g,0,g,50,90,270),{x:d/2-g,y:f/2},{x:-d/2,y:f/2}],O=bi(C),P=x.path(O,b),L=a.insert(()=>P,":first-child");return L.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",v),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),Dt(e,L),e.intersect=function(u){return Ne.info("Pill intersect",e,{radius:g,point:u}),Tt.polygon(e,C,u)},a}W(n6,"halfRoundedRectangle");async function a6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=l.height+(e.padding??0),h=l.width+(e.padding??0)*2.5,{cssStyles:d}=e,f=Et.svg(n),g=Ot(e,{});e.look!=="handDrawn"&&(g.roughness=0,g.fillStyle="solid");let v=h/2;const x=v/6;v=v+x;const b=a/2,C=b/2,O=v-C,P=[{x:-O,y:-b},{x:0,y:-b},{x:O,y:-b},{x:v,y:0},{x:O,y:b},{x:0,y:b},{x:-O,y:b},{x:-v,y:0}],L=bi(P),u=f.path(L,g),S=n.insert(()=>u,":first-child");return S.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",d),s&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",s),e.width=h,e.height=a,Dt(e,S),e.intersect=function(y){return Tt.polygon(e,P,y)},n}W(a6,"hexagon");async function o6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.label="",e.labelStyle=i;const{shapeSvg:n}=await ei(t,e,Yt(e)),l=Math.max(30,(e==null?void 0:e.width)??0),a=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:h}=e,d=Et.svg(n),f=Ot(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");const g=[{x:0,y:0},{x:l,y:0},{x:0,y:a},{x:l,y:a}],v=bi(g),x=d.path(v,f),b=n.insert(()=>x,":first-child");return b.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",h),s&&e.look!=="handDrawn"&&b.selectChildren("path").attr("style",s),b.attr("transform",`translate(${-l/2}, ${-a/2})`),Dt(e,b),e.intersect=function(C){return Ne.info("Pill intersect",e,{points:g}),Tt.polygon(e,g,C)},n}W(o6,"hourglass");async function l6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=Lt(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:f,bbox:g,label:v}=await ei(t,e,"icon-shape default"),x=e.pos==="t",b=h,C=h,{nodeBorder:O}=i,{stylesMap:P}=id(e),L=-C/2,u=-b/2,S=e.label?8:0,y=Et.svg(f),k=Ot(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const T=y.rectangle(L,u,C,b,k),A=Math.max(C,g.width),F=b+g.height+S,z=y.rectangle(-A/2,-F/2,A,F,{...k,fill:"transparent",stroke:"none"}),N=f.insert(()=>T,":first-child"),m=f.insert(()=>z);if(e.icon){const w=f.append("g");w.html(`<g>${await vm(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const M=w.node().getBBox(),D=M.width,I=M.height,H=M.x,j=M.y;w.attr("transform",`translate(${-D/2-H},${x?g.height/2+S/2-I/2-j:-g.height/2-S/2-I/2-j})`),w.attr("style",`color: ${P.get("stroke")??O};`)}return v.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${x?-F/2:F/2-g.height})`),N.attr("transform",`translate(0,${x?g.height/2+S/2:-g.height/2-S/2})`),Dt(e,m),e.intersect=function(w){if(Ne.info("iconSquare intersect",e,w),!e.label)return Tt.rect(e,w);const M=e.x??0,D=e.y??0,I=e.height??0;let H=[];return x?H=[{x:M-g.width/2,y:D-I/2},{x:M+g.width/2,y:D-I/2},{x:M+g.width/2,y:D-I/2+g.height+S},{x:M+C/2,y:D-I/2+g.height+S},{x:M+C/2,y:D+I/2},{x:M-C/2,y:D+I/2},{x:M-C/2,y:D-I/2+g.height+S},{x:M-g.width/2,y:D-I/2+g.height+S}]:H=[{x:M-C/2,y:D-I/2},{x:M+C/2,y:D-I/2},{x:M+C/2,y:D-I/2+b},{x:M+g.width/2,y:D-I/2+b},{x:M+g.width/2/2,y:D+I/2},{x:M-g.width/2,y:D+I/2},{x:M-g.width/2,y:D-I/2+b},{x:M-C/2,y:D-I/2+b}],Tt.polygon(e,H,w)},f}W(l6,"icon");async function c6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=Lt(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:f,bbox:g,label:v}=await ei(t,e,"icon-shape default"),x=20,b=e.label?8:0,C=e.pos==="t",{nodeBorder:O,mainBkg:P}=i,{stylesMap:L}=id(e),u=Et.svg(f),S=Ot(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const y=L.get("fill");S.stroke=y??P;const k=f.append("g");e.icon&&k.html(`<g>${await vm(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const T=k.node().getBBox(),A=T.width,F=T.height,z=T.x,N=T.y,m=Math.max(A,F)*Math.SQRT2+x*2,w=u.circle(0,0,m,S),M=Math.max(m,g.width),D=m+g.height+b,I=u.rectangle(-M/2,-D/2,M,D,{...S,fill:"transparent",stroke:"none"}),H=f.insert(()=>w,":first-child"),j=f.insert(()=>I);return k.attr("transform",`translate(${-A/2-z},${C?g.height/2+b/2-F/2-N:-g.height/2-b/2-F/2-N})`),k.attr("style",`color: ${L.get("stroke")??O};`),v.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${C?-D/2:D/2-g.height})`),H.attr("transform",`translate(0,${C?g.height/2+b/2:-g.height/2-b/2})`),Dt(e,j),e.intersect=function($){return Ne.info("iconSquare intersect",e,$),Tt.rect(e,$)},f}W(c6,"iconCircle");async function h6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=Lt(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:f,bbox:g,halfPadding:v,label:x}=await ei(t,e,"icon-shape default"),b=e.pos==="t",C=h+v*2,O=h+v*2,{nodeBorder:P,mainBkg:L}=i,{stylesMap:u}=id(e),S=-O/2,y=-C/2,k=e.label?8:0,T=Et.svg(f),A=Ot(e,{});e.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const F=u.get("fill");A.stroke=F??L;const z=T.path(Fl(S,y,O,C,5),A),N=Math.max(O,g.width),m=C+g.height+k,w=T.rectangle(-N/2,-m/2,N,m,{...A,fill:"transparent",stroke:"none"}),M=f.insert(()=>z,":first-child").attr("class","icon-shape2"),D=f.insert(()=>w);if(e.icon){const I=f.append("g");I.html(`<g>${await vm(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const H=I.node().getBBox(),j=H.width,$=H.height,ae=H.x,X=H.y;I.attr("transform",`translate(${-j/2-ae},${b?g.height/2+k/2-$/2-X:-g.height/2-k/2-$/2-X})`),I.attr("style",`color: ${u.get("stroke")??P};`)}return x.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${b?-m/2:m/2-g.height})`),M.attr("transform",`translate(0,${b?g.height/2+k/2:-g.height/2-k/2})`),Dt(e,D),e.intersect=function(I){if(Ne.info("iconSquare intersect",e,I),!e.label)return Tt.rect(e,I);const H=e.x??0,j=e.y??0,$=e.height??0;let ae=[];return b?ae=[{x:H-g.width/2,y:j-$/2},{x:H+g.width/2,y:j-$/2},{x:H+g.width/2,y:j-$/2+g.height+k},{x:H+O/2,y:j-$/2+g.height+k},{x:H+O/2,y:j+$/2},{x:H-O/2,y:j+$/2},{x:H-O/2,y:j-$/2+g.height+k},{x:H-g.width/2,y:j-$/2+g.height+k}]:ae=[{x:H-O/2,y:j-$/2},{x:H+O/2,y:j-$/2},{x:H+O/2,y:j-$/2+C},{x:H+g.width/2,y:j-$/2+C},{x:H+g.width/2/2,y:j+$/2},{x:H-g.width/2,y:j+$/2},{x:H-g.width/2,y:j-$/2+C},{x:H-O/2,y:j-$/2+C}],Tt.polygon(e,ae,I)},f}W(h6,"iconRounded");async function u6(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:n}=Lt(e);e.labelStyle=n;const l=e.assetHeight??48,a=e.assetWidth??48,h=Math.max(l,a),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:f,bbox:g,halfPadding:v,label:x}=await ei(t,e,"icon-shape default"),b=e.pos==="t",C=h+v*2,O=h+v*2,{nodeBorder:P,mainBkg:L}=i,{stylesMap:u}=id(e),S=-O/2,y=-C/2,k=e.label?8:0,T=Et.svg(f),A=Ot(e,{});e.look!=="handDrawn"&&(A.roughness=0,A.fillStyle="solid");const F=u.get("fill");A.stroke=F??L;const z=T.path(Fl(S,y,O,C,.1),A),N=Math.max(O,g.width),m=C+g.height+k,w=T.rectangle(-N/2,-m/2,N,m,{...A,fill:"transparent",stroke:"none"}),M=f.insert(()=>z,":first-child"),D=f.insert(()=>w);if(e.icon){const I=f.append("g");I.html(`<g>${await vm(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const H=I.node().getBBox(),j=H.width,$=H.height,ae=H.x,X=H.y;I.attr("transform",`translate(${-j/2-ae},${b?g.height/2+k/2-$/2-X:-g.height/2-k/2-$/2-X})`),I.attr("style",`color: ${u.get("stroke")??P};`)}return x.attr("transform",`translate(${-g.width/2-(g.x-(g.left??0))},${b?-m/2:m/2-g.height})`),M.attr("transform",`translate(0,${b?g.height/2+k/2:-g.height/2-k/2})`),Dt(e,D),e.intersect=function(I){if(Ne.info("iconSquare intersect",e,I),!e.label)return Tt.rect(e,I);const H=e.x??0,j=e.y??0,$=e.height??0;let ae=[];return b?ae=[{x:H-g.width/2,y:j-$/2},{x:H+g.width/2,y:j-$/2},{x:H+g.width/2,y:j-$/2+g.height+k},{x:H+O/2,y:j-$/2+g.height+k},{x:H+O/2,y:j+$/2},{x:H-O/2,y:j+$/2},{x:H-O/2,y:j-$/2+g.height+k},{x:H-g.width/2,y:j-$/2+g.height+k}]:ae=[{x:H-O/2,y:j-$/2},{x:H+O/2,y:j-$/2},{x:H+O/2,y:j-$/2+C},{x:H+g.width/2,y:j-$/2+C},{x:H+g.width/2/2,y:j+$/2},{x:H-g.width/2,y:j+$/2},{x:H-g.width/2,y:j-$/2+C},{x:H-O/2,y:j-$/2+C}],Tt.polygon(e,ae,I)},f}W(u6,"iconSquare");async function d6(t,e,{config:{flowchart:i}}){const s=new Image;s.src=(e==null?void 0:e.img)??"",await s.decode();const n=Number(s.naturalWidth.toString().replace("px","")),l=Number(s.naturalHeight.toString().replace("px",""));e.imageAspectRatio=n/l;const{labelStyles:a}=Lt(e);e.labelStyle=a;const h=i==null?void 0:i.wrappingWidth;e.defaultWidth=i==null?void 0:i.wrappingWidth;const d=Math.max(e.label?h??0:0,(e==null?void 0:e.assetWidth)??n),f=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:d,g=e.constraint==="on"?f/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??l;e.width=Math.max(f,h??0);const{shapeSvg:v,bbox:x,label:b}=await ei(t,e,"image-shape default"),C=e.pos==="t",O=-f/2,P=-g/2,L=e.label?8:0,u=Et.svg(v),S=Ot(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const y=u.rectangle(O,P,f,g,S),k=Math.max(f,x.width),T=g+x.height+L,A=u.rectangle(-k/2,-T/2,k,T,{...S,fill:"none",stroke:"none"}),F=v.insert(()=>y,":first-child"),z=v.insert(()=>A);if(e.img){const N=v.append("image");N.attr("href",e.img),N.attr("width",f),N.attr("height",g),N.attr("preserveAspectRatio","none"),N.attr("transform",`translate(${-f/2},${C?T/2-g:-T/2})`)}return b.attr("transform",`translate(${-x.width/2-(x.x-(x.left??0))},${C?-g/2-x.height/2-L/2:g/2-x.height/2+L/2})`),F.attr("transform",`translate(0,${C?x.height/2+L/2:-x.height/2-L/2})`),Dt(e,z),e.intersect=function(N){if(Ne.info("iconSquare intersect",e,N),!e.label)return Tt.rect(e,N);const m=e.x??0,w=e.y??0,M=e.height??0;let D=[];return C?D=[{x:m-x.width/2,y:w-M/2},{x:m+x.width/2,y:w-M/2},{x:m+x.width/2,y:w-M/2+x.height+L},{x:m+f/2,y:w-M/2+x.height+L},{x:m+f/2,y:w+M/2},{x:m-f/2,y:w+M/2},{x:m-f/2,y:w-M/2+x.height+L},{x:m-x.width/2,y:w-M/2+x.height+L}]:D=[{x:m-f/2,y:w-M/2},{x:m+f/2,y:w-M/2},{x:m+f/2,y:w-M/2+g},{x:m+x.width/2,y:w-M/2+g},{x:m+x.width/2/2,y:w+M/2},{x:m-x.width/2,y:w+M/2},{x:m-x.width/2,y:w-M/2+g},{x:m-f/2,y:w-M/2+g}],Tt.polygon(e,D,N)},v}W(d6,"imageSquare");async function f6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=[{x:0,y:0},{x:a,y:0},{x:a+3*h/6,y:-h},{x:-3*h/6,y:-h}];let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const v=Et.svg(n),x=Ot(e,{}),b=bi(d),C=v.path(b,x);f=n.insert(()=>C,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),g&&f.attr("style",g)}else f=Il(n,a,h,d);return s&&f.attr("style",s),e.width=a,e.height=h,Dt(e,f),e.intersect=function(v){return Tt.polygon(e,d,v)},n}W(f6,"inv_trapezoid");async function Rb(t,e,i){const{labelStyles:s,nodeStyles:n}=Lt(e);e.labelStyle=s;const{shapeSvg:l,bbox:a}=await ei(t,e,Yt(e)),h=Math.max(a.width+i.labelPaddingX*2,(e==null?void 0:e.width)||0),d=Math.max(a.height+i.labelPaddingY*2,(e==null?void 0:e.height)||0),f=-h/2,g=-d/2;let v,{rx:x,ry:b}=e;const{cssStyles:C}=e;if(i!=null&&i.rx&&i.ry&&(x=i.rx,b=i.ry),e.look==="handDrawn"){const O=Et.svg(l),P=Ot(e,{}),L=x||b?O.path(Fl(f,g,h,d,x||0),P):O.rectangle(f,g,h,d,P);v=l.insert(()=>L,":first-child"),v.attr("class","basic label-container").attr("style",ln(C))}else v=l.insert("rect",":first-child"),v.attr("class","basic label-container").attr("style",n).attr("rx",ln(x)).attr("ry",ln(b)).attr("x",f).attr("y",g).attr("width",h).attr("height",d);return Dt(e,v),e.intersect=function(O){return Tt.rect(e,O)},l}W(Rb,"drawRect");async function p6(t,e){const{shapeSvg:i,bbox:s,label:n}=await ei(t,e,"label"),l=i.insert("rect",":first-child");return l.attr("width",.1).attr("height",.1),i.attr("class","label edgeLabel"),n.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),Dt(e,l),e.intersect=function(d){return Tt.rect(e,d)},i}W(p6,"labelRect");async function m6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),d=[{x:0,y:0},{x:a+3*h/6,y:0},{x:a,y:-h},{x:-(3*h)/6,y:-h}];let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const v=Et.svg(n),x=Ot(e,{}),b=bi(d),C=v.path(b,x);f=n.insert(()=>C,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),g&&f.attr("style",g)}else f=Il(n,a,h,d);return s&&f.attr("style",s),e.width=a,e.height=h,Dt(e,f),e.intersect=function(v){return Tt.polygon(e,d,v)},n}W(m6,"lean_left");async function g6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),d=[{x:-3*h/6,y:0},{x:a,y:0},{x:a+3*h/6,y:-h},{x:0,y:-h}];let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const v=Et.svg(n),x=Ot(e,{}),b=bi(d),C=v.path(b,x);f=n.insert(()=>C,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),g&&f.attr("style",g)}else f=Il(n,a,h,d);return s&&f.attr("style",s),e.width=a,e.height=h,Dt(e,f),e.intersect=function(v){return Tt.polygon(e,d,v)},n}W(g6,"lean_right");function y6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.label="",e.labelStyle=i;const n=t.insert("g").attr("class",Yt(e)).attr("id",e.domId??e.id),{cssStyles:l}=e,a=Math.max(35,(e==null?void 0:e.width)??0),h=Math.max(35,(e==null?void 0:e.height)??0),d=7,f=[{x:a,y:0},{x:0,y:h+d/2},{x:a-2*d,y:h+d/2},{x:0,y:2*h},{x:a,y:h-d/2},{x:2*d,y:h-d/2}],g=Et.svg(n),v=Ot(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=bi(f),b=g.path(x,v),C=n.insert(()=>b,":first-child");return l&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",l),s&&e.look!=="handDrawn"&&C.selectAll("path").attr("style",s),C.attr("transform",`translate(-${a/2},${-h})`),Dt(e,C),e.intersect=function(O){return Ne.info("lightningBolt intersect",e,O),Tt.polygon(e,f,O)},n}W(y6,"lightningBolt");var _oe=W((t,e,i,s,n,l,a)=>[`M${t},${e+l}`,`a${n},${l} 0,0,0 ${i},0`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`,`M${t},${e+l+a}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createCylinderPathD"),woe=W((t,e,i,s,n,l,a)=>[`M${t},${e+l}`,`M${t+i},${e+l}`,`a${n},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${n},${l} 0,0,0 ${i},0`,`l0,${-s}`,`M${t},${e+l+a}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createOuterCylinderPathD"),xoe=W((t,e,i,s,n,l)=>[`M${t-i/2},${-s/2}`,`a${n},${l} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function v6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0),e.width??0),d=h/2,f=d/(2.5+h/50),g=Math.max(l.height+f+(e.padding??0),e.height??0),v=g*.1;let x;const{cssStyles:b}=e;if(e.look==="handDrawn"){const C=Et.svg(n),O=woe(0,0,h,g,d,f,v),P=xoe(0,f,h,g,d,f),L=Ot(e,{}),u=C.path(O,L),S=C.path(P,L);n.insert(()=>S,":first-child").attr("class","line"),x=n.insert(()=>u,":first-child"),x.attr("class","basic label-container"),b&&x.attr("style",b)}else{const C=_oe(0,0,h,g,d,f,v);x=n.insert("path",":first-child").attr("d",C).attr("class","basic label-container").attr("style",ln(b)).attr("style",s)}return x.attr("label-offset-y",f),x.attr("transform",`translate(${-h/2}, ${-(g/2+f)})`),Dt(e,x),a.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+f-(l.y-(l.top??0))})`),e.intersect=function(C){const O=Tt.rect(e,C),P=O.x-(e.x??0);if(d!=0&&(Math.abs(P)<(e.width??0)/2||Math.abs(P)==(e.width??0)/2&&Math.abs(O.y-(e.y??0))>(e.height??0)/2-f)){let L=f*f*(1-P*P/(d*d));L>0&&(L=Math.sqrt(L)),L=f-L,C.y-(e.y??0)>0&&(L=-L),O.y+=L}return O},n}W(v6,"linedCylinder");async function b6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=d/4,g=d+f,{cssStyles:v}=e,x=Et.svg(n),b=Ot(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=[{x:-h/2-h/2*.1,y:-g/2},{x:-h/2-h/2*.1,y:g/2},...Ml(-h/2-h/2*.1,g/2,h/2+h/2*.1,g/2,f,.8),{x:h/2+h/2*.1,y:-g/2},{x:-h/2-h/2*.1,y:-g/2},{x:-h/2,y:-g/2},{x:-h/2,y:g/2*1.1},{x:-h/2,y:-g/2}],O=x.polygon(C.map(L=>[L.x,L.y]),b),P=n.insert(()=>O,":first-child");return P.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",v),s&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",s),P.attr("transform",`translate(0,${-f/2})`),a.attr("transform",`translate(${-h/2+(e.padding??0)+h/2*.1/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)-f/2-(l.y-(l.top??0))})`),Dt(e,P),e.intersect=function(L){return Tt.polygon(e,C,L)},n}W(b6,"linedWaveEdgedRect");async function _6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=5,g=-h/2,v=-d/2,{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{}),O=[{x:g-f,y:v+f},{x:g-f,y:v+d+f},{x:g+h-f,y:v+d+f},{x:g+h-f,y:v+d},{x:g+h,y:v+d},{x:g+h,y:v+d-f},{x:g+h+f,y:v+d-f},{x:g+h+f,y:v-f},{x:g+f,y:v-f},{x:g+f,y:v},{x:g,y:v},{x:g,y:v+f}],P=[{x:g,y:v+f},{x:g+h-f,y:v+f},{x:g+h-f,y:v+d},{x:g+h,y:v+d},{x:g+h,y:v},{x:g,y:v}];e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const L=bi(O),u=b.path(L,C),S=bi(P),y=b.path(S,{...C,fill:"none"}),k=n.insert(()=>y,":first-child");return k.insert(()=>u,":first-child"),k.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",x),s&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",s),a.attr("transform",`translate(${-(l.width/2)-f-(l.x-(l.left??0))}, ${-(l.height/2)+f-(l.y-(l.top??0))})`),Dt(e,k),e.intersect=function(T){return Tt.polygon(e,O,T)},n}W(_6,"multiRect");async function w6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=d/4,g=d+f,v=-h/2,x=-g/2,b=5,{cssStyles:C}=e,O=Ml(v-b,x+g+b,v+h-b,x+g+b,f,.8),P=O==null?void 0:O[O.length-1],L=[{x:v-b,y:x+b},{x:v-b,y:x+g+b},...O,{x:v+h-b,y:P.y-b},{x:v+h,y:P.y-b},{x:v+h,y:P.y-2*b},{x:v+h+b,y:P.y-2*b},{x:v+h+b,y:x-b},{x:v+b,y:x-b},{x:v+b,y:x},{x:v,y:x},{x:v,y:x+b}],u=[{x:v,y:x+b},{x:v+h-b,y:x+b},{x:v+h-b,y:P.y-b},{x:v+h,y:P.y-b},{x:v+h,y:x},{x:v,y:x}],S=Et.svg(n),y=Ot(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const k=bi(L),T=S.path(k,y),A=bi(u),F=S.path(A,y),z=n.insert(()=>T,":first-child");return z.insert(()=>F),z.attr("class","basic label-container"),C&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",C),s&&e.look!=="handDrawn"&&z.selectAll("path").attr("style",s),z.attr("transform",`translate(0,${-f/2})`),a.attr("transform",`translate(${-(l.width/2)-b-(l.x-(l.left??0))}, ${-(l.height/2)+b-f/2-(l.y-(l.top??0))})`),Dt(e,z),e.intersect=function(N){return Tt.polygon(e,L,N)},n}W(w6,"multiWaveEdgedRectangle");async function x6(t,e,{config:{themeVariables:i}}){var u;const{labelStyles:s,nodeStyles:n}=Lt(e);e.labelStyle=s,e.useHtmlLabels||((u=Es().flowchart)==null?void 0:u.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:a,bbox:h,label:d}=await ei(t,e,Yt(e)),f=Math.max(h.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),g=Math.max(h.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),v=-f/2,x=-g/2,{cssStyles:b}=e,C=Et.svg(a),O=Ot(e,{fill:i.noteBkgColor,stroke:i.noteBorderColor});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const P=C.rectangle(v,x,f,g,O),L=a.insert(()=>P,":first-child");return L.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",b),n&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",n),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))}, ${-(h.height/2)-(h.y-(h.top??0))})`),Dt(e,L),e.intersect=function(S){return Tt.rect(e,S)},a}W(x6,"note");var koe=W((t,e,i)=>[`M${t+i/2},${e}`,`L${t+i},${e-i/2}`,`L${t+i/2},${e-i}`,`L${t},${e-i/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function k6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=l.width+e.padding,h=l.height+e.padding,d=a+h,f=.5,g=[{x:d/2,y:0},{x:d,y:-d/2},{x:d/2,y:-d},{x:0,y:-d/2}];let v;const{cssStyles:x}=e;if(e.look==="handDrawn"){const b=Et.svg(n),C=Ot(e,{}),O=koe(0,0,d),P=b.path(O,C);v=n.insert(()=>P,":first-child").attr("transform",`translate(${-d/2+f}, ${d/2})`),x&&v.attr("style",x)}else v=Il(n,d,d,g),v.attr("transform",`translate(${-d/2+f}, ${d/2})`);return s&&v.attr("style",s),Dt(e,v),e.intersect=function(b){return Ne.debug(`APA12 Intersect called SPLIT
point:`,b,`
node:
`,e,`
res:`,Tt.polygon(e,g,b)),Tt.polygon(e,g,b)},n}W(k6,"question");async function S6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),f=-h/2,g=-d/2,v=g/2,x=[{x:f+v,y:g},{x:f,y:0},{x:f+v,y:-g},{x:-f,y:-g},{x:-f,y:g}],{cssStyles:b}=e,C=Et.svg(n),O=Ot(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const P=bi(x),L=C.path(P,O),u=n.insert(()=>L,":first-child");return u.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",b),s&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",s),u.attr("transform",`translate(${-v/2},0)`),a.attr("transform",`translate(${-v/2-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),Dt(e,u),e.intersect=function(S){return Tt.polygon(e,x,S)},n}W(S6,"rect_left_inv_arrow");async function T6(t,e){var F,z;const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;let n;e.cssClasses?n="node "+e.cssClasses:n="node default";const l=t.insert("g").attr("class",n).attr("id",e.domId||e.id),a=l.insert("g"),h=l.insert("g").attr("class","label").attr("style",s),d=e.description,f=e.label,g=h.node().appendChild(await Xc(f,e.labelStyle,!0,!0));let v={width:0,height:0};if(Yr((z=(F=Ni())==null?void 0:F.flowchart)==null?void 0:z.htmlLabels)){const N=g.children[0],m=Si(g);v=N.getBoundingClientRect(),m.attr("width",v.width),m.attr("height",v.height)}Ne.info("Text 2",d);const x=d||[],b=g.getBBox(),C=h.node().appendChild(await Xc(x.join?x.join("<br/>"):x,e.labelStyle,!0,!0)),O=C.children[0],P=Si(C);v=O.getBoundingClientRect(),P.attr("width",v.width),P.attr("height",v.height);const L=(e.padding||0)/2;Si(C).attr("transform","translate( "+(v.width>b.width?0:(b.width-v.width)/2)+", "+(b.height+L+5)+")"),Si(g).attr("transform","translate( "+(v.width<b.width?0:-(b.width-v.width)/2)+", 0)"),v=h.node().getBBox(),h.attr("transform","translate("+-v.width/2+", "+(-v.height/2-L+3)+")");const u=v.width+(e.padding||0),S=v.height+(e.padding||0),y=-v.width/2-L,k=-v.height/2-L;let T,A;if(e.look==="handDrawn"){const N=Et.svg(l),m=Ot(e,{}),w=N.path(Fl(y,k,u,S,e.rx||0),m),M=N.line(-v.width/2-L,-v.height/2-L+b.height+L,v.width/2+L,-v.height/2-L+b.height+L,m);A=l.insert(()=>(Ne.debug("Rough node insert CXC",w),M),":first-child"),T=l.insert(()=>(Ne.debug("Rough node insert CXC",w),w),":first-child")}else T=a.insert("rect",":first-child"),A=a.insert("line"),T.attr("class","outer title-state").attr("style",s).attr("x",-v.width/2-L).attr("y",-v.height/2-L).attr("width",v.width+(e.padding||0)).attr("height",v.height+(e.padding||0)),A.attr("class","divider").attr("x1",-v.width/2-L).attr("x2",v.width/2+L).attr("y1",-v.height/2-L+b.height+L).attr("y2",-v.height/2-L+b.height+L);return Dt(e,T),e.intersect=function(N){return Tt.rect(e,N)},l}W(T6,"rectWithTitle");function op(t,e,i,s,n,l,a){const d=(t+i)/2,f=(e+s)/2,g=Math.atan2(s-e,i-t),v=(i-t)/2,x=(s-e)/2,b=v/n,C=x/l,O=Math.sqrt(b**2+C**2);if(O>1)throw new Error("The given radii are too small to create an arc between the points.");const P=Math.sqrt(1-O**2),L=d+P*l*Math.sin(g)*(a?-1:1),u=f-P*n*Math.cos(g)*(a?-1:1),S=Math.atan2((e-u)/l,(t-L)/n);let k=Math.atan2((s-u)/l,(i-L)/n)-S;a&&k<0&&(k+=2*Math.PI),!a&&k>0&&(k-=2*Math.PI);const T=[];for(let A=0;A<20;A++){const F=A/19,z=S+F*k,N=L+n*Math.cos(z),m=u+l*Math.sin(z);T.push({x:N,y:m})}return T}W(op,"generateArcPoints");async function C6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=(e==null?void 0:e.padding)??0,h=(e==null?void 0:e.padding)??0,d=(e!=null&&e.width?e==null?void 0:e.width:l.width)+a*2,f=(e!=null&&e.height?e==null?void 0:e.height:l.height)+h*2,g=5,v=5,{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const O=[{x:-d/2+v,y:-f/2},{x:d/2-v,y:-f/2},...op(d/2-v,-f/2,d/2,-f/2+v,g,g,!0),{x:d/2,y:-f/2+v},{x:d/2,y:f/2-v},...op(d/2,f/2-v,d/2-v,f/2,g,g,!0),{x:d/2-v,y:f/2},{x:-d/2+v,y:f/2},...op(-d/2+v,f/2,-d/2,f/2-v,g,g,!0),{x:-d/2,y:f/2-v},{x:-d/2,y:-f/2+v},...op(-d/2,-f/2+v,-d/2+v,-f/2,g,g,!0)],P=bi(O),L=b.path(P,C),u=n.insert(()=>L,":first-child");return u.attr("class","basic label-container outer-path"),x&&e.look!=="handDrawn"&&u.selectChildren("path").attr("style",x),s&&e.look!=="handDrawn"&&u.selectChildren("path").attr("style",s),Dt(e,u),e.intersect=function(S){return Tt.polygon(e,O,S)},n}W(C6,"roundedRect");async function E6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=(e==null?void 0:e.padding)??0,d=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),g=-l.width/2-h,v=-l.height/2-h,{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const O=[{x:g,y:v},{x:g+d+8,y:v},{x:g+d+8,y:v+f},{x:g-8,y:v+f},{x:g-8,y:v},{x:g,y:v},{x:g,y:v+f}],P=b.polygon(O.map(u=>[u.x,u.y]),C),L=n.insert(()=>P,":first-child");return L.attr("class","basic label-container").attr("style",ln(x)),s&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),x&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),a.attr("transform",`translate(${-d/2+4+(e.padding??0)-(l.x-(l.left??0))},${-f/2+(e.padding??0)-(l.y-(l.top??0))})`),Dt(e,L),e.intersect=function(u){return Tt.rect(e,u)},n}W(E6,"shadedProcess");async function O6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=-h/2,g=-d/2,{cssStyles:v}=e,x=Et.svg(n),b=Ot(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const C=[{x:f,y:g},{x:f,y:g+d},{x:f+h,y:g+d},{x:f+h,y:g-d/2}],O=bi(C),P=x.path(O,b),L=n.insert(()=>P,":first-child");return L.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",v),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),L.attr("transform",`translate(0, ${d/4})`),a.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))}, ${-d/4+(e.padding??0)-(l.y-(l.top??0))})`),Dt(e,L),e.intersect=function(u){return Tt.polygon(e,C,u)},n}W(O6,"slopedRect");async function M6(t,e){const i={rx:0,ry:0,labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return Rb(t,e,i)}W(M6,"squareRect");async function A6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=l.height+e.padding,h=l.width+a/4+e.padding,d=a/2,{cssStyles:f}=e,g=Et.svg(n),v=Ot(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=[{x:-h/2+d,y:-a/2},{x:h/2-d,y:-a/2},...Xp(-h/2+d,0,d,50,90,270),{x:h/2-d,y:a/2},...Xp(h/2-d,0,d,50,270,450)],b=bi(x),C=g.path(b,v),O=n.insert(()=>C,":first-child");return O.attr("class","basic label-container outer-path"),f&&e.look!=="handDrawn"&&O.selectChildren("path").attr("style",f),s&&e.look!=="handDrawn"&&O.selectChildren("path").attr("style",s),Dt(e,O),e.intersect=function(P){return Tt.polygon(e,x,P)},n}W(A6,"stadium");async function P6(t,e){return Rb(t,e,{rx:5,ry:5})}W(P6,"state");function D6(t,e,{config:{themeVariables:i}}){const{labelStyles:s,nodeStyles:n}=Lt(e);e.labelStyle=s;const{cssStyles:l}=e,{lineColor:a,stateBorder:h,nodeBorder:d}=i,f=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),g=Et.svg(f),v=Ot(e,{});e.look!=="handDrawn"&&(v.roughness=0,v.fillStyle="solid");const x=g.circle(0,0,14,{...v,stroke:a,strokeWidth:2}),b=h??d,C=g.circle(0,0,5,{...v,fill:b,stroke:b,strokeWidth:2,fillStyle:"solid"}),O=f.insert(()=>x,":first-child");return O.insert(()=>C),l&&O.selectAll("path").attr("style",l),n&&O.selectAll("path").attr("style",n),Dt(e,O),e.intersect=function(P){return Tt.circle(e,7,P)},f}W(D6,"stateEnd");function L6(t,e,{config:{themeVariables:i}}){const{lineColor:s}=i,n=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let l;if(e.look==="handDrawn"){const h=Et.svg(n).circle(0,0,14,oJ(s));l=n.insert(()=>h),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else l=n.insert("circle",":first-child"),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return Dt(e,l),e.intersect=function(a){return Tt.circle(e,7,a)},n}W(L6,"stateStart");async function R6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=((e==null?void 0:e.padding)||0)/2,h=l.width+e.padding,d=l.height+e.padding,f=-l.width/2-a,g=-l.height/2-a,v=[{x:0,y:0},{x:h,y:0},{x:h,y:-d},{x:0,y:-d},{x:0,y:0},{x:-8,y:0},{x:h+8,y:0},{x:h+8,y:-d},{x:-8,y:-d},{x:-8,y:0}];if(e.look==="handDrawn"){const x=Et.svg(n),b=Ot(e,{}),C=x.rectangle(f-8,g,h+16,d,b),O=x.line(f,g,f,g+d,b),P=x.line(f+h,g,f+h,g+d,b);n.insert(()=>O,":first-child"),n.insert(()=>P,":first-child");const L=n.insert(()=>C,":first-child"),{cssStyles:u}=e;L.attr("class","basic label-container").attr("style",ln(u)),Dt(e,L)}else{const x=Il(n,h,d,v);s&&x.attr("style",s),Dt(e,x)}return e.intersect=function(x){return Tt.polygon(e,v,x)},n}W(R6,"subroutine");async function F6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=-a/2,f=-h/2,g=.2*h,v=.2*h,{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{}),O=[{x:d-g/2,y:f},{x:d+a+g/2,y:f},{x:d+a+g/2,y:f+h},{x:d-g/2,y:f+h}],P=[{x:d+a-g/2,y:f+h},{x:d+a+g/2,y:f+h},{x:d+a+g/2,y:f+h-v}];e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const L=bi(O),u=b.path(L,C),S=bi(P),y=b.path(S,{...C,fillStyle:"solid"}),k=n.insert(()=>y,":first-child");return k.insert(()=>u,":first-child"),k.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",x),s&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",s),Dt(e,k),e.intersect=function(T){return Tt.polygon(e,O,T)},n}W(F6,"taggedRect");async function I6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=d/4,g=.2*h,v=.2*d,x=d+f,{cssStyles:b}=e,C=Et.svg(n),O=Ot(e,{});e.look!=="handDrawn"&&(O.roughness=0,O.fillStyle="solid");const P=[{x:-h/2-h/2*.1,y:x/2},...Ml(-h/2-h/2*.1,x/2,h/2+h/2*.1,x/2,f,.8),{x:h/2+h/2*.1,y:-x/2},{x:-h/2-h/2*.1,y:-x/2}],L=-h/2+h/2*.1,u=-x/2-v*.4,S=[{x:L+h-g,y:(u+d)*1.4},{x:L+h,y:u+d-v},{x:L+h,y:(u+d)*.9},...Ml(L+h,(u+d)*1.3,L+h-g,(u+d)*1.5,-d*.03,.5)],y=bi(P),k=C.path(y,O),T=bi(S),A=C.path(T,{...O,fillStyle:"solid"}),F=n.insert(()=>A,":first-child");return F.insert(()=>k,":first-child"),F.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&F.selectAll("path").attr("style",b),s&&e.look!=="handDrawn"&&F.selectAll("path").attr("style",s),F.attr("transform",`translate(0,${-f/2})`),a.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))},${-d/2+(e.padding??0)-f/2-(l.y-(l.top??0))})`),Dt(e,F),e.intersect=function(z){return Tt.polygon(e,P,z)},n}W(I6,"taggedWaveEdgedRectangle");async function B6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=Math.max(l.width+e.padding,(e==null?void 0:e.width)||0),h=Math.max(l.height+e.padding,(e==null?void 0:e.height)||0),d=-a/2,f=-h/2,g=n.insert("rect",":first-child");return g.attr("class","text").attr("style",s).attr("rx",0).attr("ry",0).attr("x",d).attr("y",f).attr("width",a).attr("height",h),Dt(e,g),e.intersect=function(v){return Tt.rect(e,v)},n}W(B6,"text");var Soe=W((t,e,i,s,n,l)=>`M${t},${e}
    a${n},${l} 0,0,1 0,${-s}
    l${i},0
    a${n},${l} 0,0,1 0,${s}
    M${i},${-s}
    a${n},${l} 0,0,0 0,${s}
    l${-i},0`,"createCylinderPathD"),Toe=W((t,e,i,s,n,l)=>[`M${t},${e}`,`M${t+i},${e}`,`a${n},${l} 0,0,0 0,${-s}`,`l${-i},0`,`a${n},${l} 0,0,0 0,${s}`,`l${i},0`].join(" "),"createOuterCylinderPathD"),Coe=W((t,e,i,s,n,l)=>[`M${t+i/2},${-s/2}`,`a${n},${l} 0,0,0 0,${s}`].join(" "),"createInnerCylinderPathD");async function N6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a,halfPadding:h}=await ei(t,e,Yt(e)),d=e.look==="neo"?h*2:h,f=l.height+d,g=f/2,v=g/(2.5+f/50),x=l.width+v+d,{cssStyles:b}=e;let C;if(e.look==="handDrawn"){const O=Et.svg(n),P=Toe(0,0,x,f,v,g),L=Coe(0,0,x,f,v,g),u=O.path(P,Ot(e,{})),S=O.path(L,Ot(e,{fill:"none"}));C=n.insert(()=>S,":first-child"),C=n.insert(()=>u,":first-child"),C.attr("class","basic label-container"),b&&C.attr("style",b)}else{const O=Soe(0,0,x,f,v,g);C=n.insert("path",":first-child").attr("d",O).attr("class","basic label-container").attr("style",ln(b)).attr("style",s),C.attr("class","basic label-container"),b&&C.selectAll("path").attr("style",b),s&&C.selectAll("path").attr("style",s)}return C.attr("label-offset-x",v),C.attr("transform",`translate(${-x/2}, ${f/2} )`),a.attr("transform",`translate(${-(l.width/2)-v-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),Dt(e,C),e.intersect=function(O){const P=Tt.rect(e,O),L=P.y-(e.y??0);if(g!=0&&(Math.abs(L)<(e.height??0)/2||Math.abs(L)==(e.height??0)/2&&Math.abs(P.x-(e.x??0))>(e.width??0)/2-v)){let u=v*v*(1-L*L/(g*g));u!=0&&(u=Math.sqrt(Math.abs(u))),u=v-u,O.x-(e.x??0)>0&&(u=-u),P.x+=u}return P},n}W(N6,"tiltedCylinder");async function z6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=l.width+e.padding,h=l.height+e.padding,d=[{x:-3*h/6,y:0},{x:a+3*h/6,y:0},{x:a,y:-h},{x:0,y:-h}];let f;const{cssStyles:g}=e;if(e.look==="handDrawn"){const v=Et.svg(n),x=Ot(e,{}),b=bi(d),C=v.path(b,x);f=n.insert(()=>C,":first-child").attr("transform",`translate(${-a/2}, ${h/2})`),g&&f.attr("style",g)}else f=Il(n,a,h,d);return s&&f.attr("style",s),e.width=a,e.height=h,Dt(e,f),e.intersect=function(v){return Tt.polygon(e,d,v)},n}W(z6,"trapezoid");async function U6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=60,h=20,d=Math.max(a,l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(h,l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:g}=e,v=Et.svg(n),x=Ot(e,{});e.look!=="handDrawn"&&(x.roughness=0,x.fillStyle="solid");const b=[{x:-d/2*.8,y:-f/2},{x:d/2*.8,y:-f/2},{x:d/2,y:-f/2*.6},{x:d/2,y:f/2},{x:-d/2,y:f/2},{x:-d/2,y:-f/2*.6}],C=bi(b),O=v.path(C,x),P=n.insert(()=>O,":first-child");return P.attr("class","basic label-container"),g&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",g),s&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",s),Dt(e,P),e.intersect=function(L){return Tt.polygon(e,b,L)},n}W(U6,"trapezoidalPentagon");async function H6(t,e){var u;const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Yr((u=Ni().flowchart)==null?void 0:u.htmlLabels),d=l.width+(e.padding??0),f=d+l.height,g=d+l.height,v=[{x:0,y:0},{x:g,y:0},{x:g/2,y:-f}],{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const O=bi(v),P=b.path(O,C),L=n.insert(()=>P,":first-child").attr("transform",`translate(${-f/2}, ${f/2})`);return x&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",x),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),e.width=d,e.height=f,Dt(e,L),a.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${f/2-(l.height+(e.padding??0)/(h?2:1)-(l.y-(l.top??0)))})`),e.intersect=function(S){return Ne.info("Triangle intersect",e,v,S),Tt.polygon(e,v,S)},n}W(H6,"triangle");async function W6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=d/8,g=d+f,{cssStyles:v}=e,b=70-h,C=b>0?b/2:0,O=Et.svg(n),P=Ot(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const L=[{x:-h/2-C,y:g/2},...Ml(-h/2-C,g/2,h/2+C,g/2,f,.8),{x:h/2+C,y:-g/2},{x:-h/2-C,y:-g/2}],u=bi(L),S=O.path(u,P),y=n.insert(()=>S,":first-child");return y.attr("class","basic label-container"),v&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",v),s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),y.attr("transform",`translate(0,${-f/2})`),a.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))},${-d/2+(e.padding??0)-f-(l.y-(l.top??0))})`),Dt(e,y),e.intersect=function(k){return Tt.polygon(e,L,k)},n}W(W6,"waveEdgedRectangle");async function j6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l}=await ei(t,e,Yt(e)),a=100,h=50,d=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),g=d/f;let v=d,x=f;v>x*g?x=v/g:v=x*g,v=Math.max(v,a),x=Math.max(x,h);const b=Math.min(x*.2,x/4),C=x+b*2,{cssStyles:O}=e,P=Et.svg(n),L=Ot(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const u=[{x:-v/2,y:C/2},...Ml(-v/2,C/2,v/2,C/2,b,1),{x:v/2,y:-C/2},...Ml(v/2,-C/2,-v/2,-C/2,b,-1)],S=bi(u),y=P.path(S,L),k=n.insert(()=>y,":first-child");return k.attr("class","basic label-container"),O&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",O),s&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",s),Dt(e,k),e.intersect=function(T){return Tt.polygon(e,u,T)},n}W(j6,"waveRectangle");async function q6(t,e){const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const{shapeSvg:n,bbox:l,label:a}=await ei(t,e,Yt(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=5,g=-h/2,v=-d/2,{cssStyles:x}=e,b=Et.svg(n),C=Ot(e,{}),O=[{x:g-f,y:v-f},{x:g-f,y:v+d},{x:g+h,y:v+d},{x:g+h,y:v-f}],P=`M${g-f},${v-f} L${g+h},${v-f} L${g+h},${v+d} L${g-f},${v+d} L${g-f},${v-f}
                M${g-f},${v} L${g+h},${v}
                M${g},${v-f} L${g},${v+d}`;e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const L=b.path(P,C),u=n.insert(()=>L,":first-child");return u.attr("transform",`translate(${f/2}, ${f/2})`),u.attr("class","basic label-container"),x&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",x),s&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",s),a.attr("transform",`translate(${-(l.width/2)+f/2-(l.x-(l.left??0))}, ${-(l.height/2)+f/2-(l.y-(l.top??0))})`),Dt(e,u),e.intersect=function(S){return Tt.polygon(e,O,S)},n}W(q6,"windowPane");async function WT(t,e){var ue,be,Oe,me;const i=e;if(i.alias&&(e.label=i.alias),e.look==="handDrawn"){const{themeVariables:xe}=Es(),{background:Ae}=xe,$e={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${Ae}`]};await WT(t,$e)}const s=Es();e.useHtmlLabels=s.htmlLabels;let n=((ue=s.er)==null?void 0:ue.diagramPadding)??10,l=((be=s.er)==null?void 0:be.entityPadding)??6;const{cssStyles:a}=e,{labelStyles:h,nodeStyles:d}=Lt(e);if(i.attributes.length===0&&e.label){const xe={rx:0,ry:0,labelPaddingX:n,labelPaddingY:n*1.5};Vo(e.label,s)+xe.labelPaddingX*2<s.er.minEntityWidth&&(e.width=s.er.minEntityWidth);const Ae=await Rb(t,e,xe);if(!Yr(s.htmlLabels)){const $e=Ae.select("text"),tt=(Oe=$e.node())==null?void 0:Oe.getBBox();$e.attr("transform",`translate(${-tt.width/2}, 0)`)}return Ae}s.htmlLabels||(n*=1.25,l*=1.25);let f=Yt(e);f||(f="node default");const g=t.insert("g").attr("class",f).attr("id",e.domId||e.id),v=await nu(g,e.label??"",s,0,0,["name"],h);v.height+=l;let x=0;const b=[],C=[];let O=0,P=0,L=0,u=0,S=!0,y=!0;for(const xe of i.attributes){const Ae=await nu(g,xe.type,s,0,x,["attribute-type"],h);O=Math.max(O,Ae.width+n);const $e=await nu(g,xe.name,s,0,x,["attribute-name"],h);P=Math.max(P,$e.width+n);const tt=await nu(g,xe.keys.join(),s,0,x,["attribute-keys"],h);L=Math.max(L,tt.width+n);const ye=await nu(g,xe.comment,s,0,x,["attribute-comment"],h);u=Math.max(u,ye.width+n);const dt=Math.max(Ae.height,$e.height,tt.height,ye.height)+l;C.push({yOffset:x,rowHeight:dt}),x+=dt}let k=4;L<=n&&(S=!1,L=0,k--),u<=n&&(y=!1,u=0,k--);const T=g.node().getBBox();if(v.width+n*2-(O+P+L+u)>0){const xe=v.width+n*2-(O+P+L+u);O+=xe/k,P+=xe/k,L>0&&(L+=xe/k),u>0&&(u+=xe/k)}const A=O+P+L+u,F=Et.svg(g),z=Ot(e,{});e.look!=="handDrawn"&&(z.roughness=0,z.fillStyle="solid");let N=0;C.length>0&&(N=C.reduce((xe,Ae)=>xe+((Ae==null?void 0:Ae.rowHeight)??0),0));const m=Math.max(T.width+n*2,(e==null?void 0:e.width)||0,A),w=Math.max((N??0)+v.height,(e==null?void 0:e.height)||0),M=-m/2,D=-w/2;g.selectAll("g:not(:first-child)").each((xe,Ae,$e)=>{const tt=Si($e[Ae]),ye=tt.attr("transform");let dt=0,ft=0;if(ye){const Re=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(ye);Re&&(dt=parseFloat(Re[1]),ft=parseFloat(Re[2]),tt.attr("class").includes("attribute-name")?dt+=O:tt.attr("class").includes("attribute-keys")?dt+=O+P:tt.attr("class").includes("attribute-comment")&&(dt+=O+P+L))}tt.attr("transform",`translate(${M+n/2+dt}, ${ft+D+v.height+l/2})`)}),g.select(".name").attr("transform","translate("+-v.width/2+", "+(D+l/2)+")");const I=F.rectangle(M,D,m,w,z),H=g.insert(()=>I,":first-child").attr("style",a.join("")),{themeVariables:j}=Es(),{rowEven:$,rowOdd:ae,nodeBorder:X}=j;b.push(0);for(const[xe,Ae]of C.entries()){const tt=(xe+1)%2===0&&Ae.yOffset!==0,ye=F.rectangle(M,v.height+D+(Ae==null?void 0:Ae.yOffset),m,Ae==null?void 0:Ae.rowHeight,{...z,fill:tt?$:ae,stroke:X});g.insert(()=>ye,"g.label").attr("style",a.join("")).attr("class",`row-rect-${tt?"even":"odd"}`)}let Y=F.line(M,v.height+D,m+M,v.height+D,z);g.insert(()=>Y).attr("class","divider"),Y=F.line(O+M,v.height+D,O+M,w+D,z),g.insert(()=>Y).attr("class","divider"),S&&(Y=F.line(O+P+M,v.height+D,O+P+M,w+D,z),g.insert(()=>Y).attr("class","divider")),y&&(Y=F.line(O+P+L+M,v.height+D,O+P+L+M,w+D,z),g.insert(()=>Y).attr("class","divider"));for(const xe of b)Y=F.line(M,v.height+D+xe,m+M,v.height+D+xe,z),g.insert(()=>Y).attr("class","divider");if(Dt(e,H),d&&e.look!=="handDrawn"){const xe=d.split(";"),Ae=(me=xe==null?void 0:xe.filter($e=>$e.includes("stroke")))==null?void 0:me.map($e=>`${$e}`).join("; ");g.selectAll("path").attr("style",Ae??""),g.selectAll(".row-rect-even path").attr("style",d)}return e.intersect=function(xe){return Tt.rect(e,xe)},g}W(WT,"erBox");async function nu(t,e,i,s=0,n=0,l=[],a=""){const h=t.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${s}, ${n})`).attr("style",a);e!==sR(e)&&(e=sR(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const d=h.node().appendChild(await Rl(h,e,{width:Vo(e,i)+100,style:a,useHtmlLabels:i.htmlLabels},i));if(e.includes("&lt;")||e.includes("&gt;")){let g=d.children[0];for(g.textContent=g.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");g.childNodes[0];)g=g.childNodes[0],g.textContent=g.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let f=d.getBBox();if(Yr(i.htmlLabels)){const g=d.children[0];g.style.textAlign="start";const v=Si(d);f=g.getBoundingClientRect(),v.attr("width",f.width),v.attr("height",f.height)}return f}W(nu,"addText");async function $6(t,e,i,s,n=i.class.padding??12){const l=s?0:3,a=t.insert("g").attr("class",Yt(e)).attr("id",e.domId||e.id);let h=null,d=null,f=null,g=null,v=0,x=0,b=0;if(h=a.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const u=e.annotations[0];await lp(h,{text:`${u}`},0),v=h.node().getBBox().height}d=a.insert("g").attr("class","label-group text"),await lp(d,e,0,["font-weight: bolder"]);const C=d.node().getBBox();x=C.height,f=a.insert("g").attr("class","members-group text");let O=0;for(const u of e.members){const S=await lp(f,u,O,[u.parseClassifier()]);O+=S+l}b=f.node().getBBox().height,b<=0&&(b=n/2),g=a.insert("g").attr("class","methods-group text");let P=0;for(const u of e.methods){const S=await lp(g,u,P,[u.parseClassifier()]);P+=S+l}let L=a.node().getBBox();if(h!==null){const u=h.node().getBBox();h.attr("transform",`translate(${-u.width/2})`)}return d.attr("transform",`translate(${-C.width/2}, ${v})`),L=a.node().getBBox(),f.attr("transform",`translate(0, ${v+x+n*2})`),L=a.node().getBBox(),g.attr("transform",`translate(0, ${v+x+(b?b+n*4:n*2)})`),L=a.node().getBBox(),{shapeSvg:a,bbox:L}}W($6,"textHelper");async function lp(t,e,i,s=[]){const n=t.insert("g").attr("class","label").attr("style",s.join("; ")),l=Es();let a="useHtmlLabels"in e?e.useHtmlLabels:Yr(l.htmlLabels)??!0,h="";"text"in e?h=e.text:h=e.label,!a&&h.startsWith("\\")&&(h=h.substring(1)),Wu(h)&&(a=!0);const d=await Rl(n,QS(bh(h)),{width:Vo(h,l)+50,classes:"markdown-node-label",useHtmlLabels:a},l);let f,g=1;if(a){const v=d.children[0],x=Si(d);g=v.innerHTML.split("<br>").length,v.innerHTML.includes("</math>")&&(g+=v.innerHTML.split("<mrow>").length-1);const b=v.getElementsByTagName("img");if(b){const C=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...b].map(O=>new Promise(P=>{function L(){var u;if(O.style.display="flex",O.style.flexDirection="column",C){const S=((u=l.fontSize)==null?void 0:u.toString())??window.getComputedStyle(document.body).fontSize,k=parseInt(S,10)*5+"px";O.style.minWidth=k,O.style.maxWidth=k}else O.style.width="100%";P(O)}W(L,"setupImage"),setTimeout(()=>{O.complete&&L()}),O.addEventListener("error",L),O.addEventListener("load",L)})))}f=v.getBoundingClientRect(),x.attr("width",f.width),x.attr("height",f.height)}else{s.includes("font-weight: bolder")&&Si(d).selectAll("tspan").attr("font-weight",""),g=d.children.length;const v=d.children[0];(d.textContent===""||d.textContent.includes("&gt"))&&(v.textContent=h[0]+h.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),h[1]===" "&&(v.textContent=v.textContent[0]+" "+v.textContent.substring(1))),v.textContent==="undefined"&&(v.textContent=""),f=d.getBBox()}return n.attr("transform","translate(0,"+(-f.height/(2*g)+i)+")"),f.height}W(lp,"addText");async function V6(t,e){var z,N;const i=Ni(),s=i.class.padding??12,n=s,l=e.useHtmlLabels??Yr(i.htmlLabels)??!0,a=e;a.annotations=a.annotations??[],a.members=a.members??[],a.methods=a.methods??[];const{shapeSvg:h,bbox:d}=await $6(t,e,i,l,n),{labelStyles:f,nodeStyles:g}=Lt(e);e.labelStyle=f,e.cssStyles=a.styles||"";const v=((z=a.styles)==null?void 0:z.join(";"))||g||"";e.cssStyles||(e.cssStyles=v.replaceAll("!important","").split(";"));const x=a.members.length===0&&a.methods.length===0&&!((N=i.class)!=null&&N.hideEmptyMembersBox),b=Et.svg(h),C=Ot(e,{});e.look!=="handDrawn"&&(C.roughness=0,C.fillStyle="solid");const O=d.width;let P=d.height;a.members.length===0&&a.methods.length===0?P+=n:a.members.length>0&&a.methods.length===0&&(P+=n*2);const L=-O/2,u=-P/2,S=b.rectangle(L-s,u-s-(x?s:a.members.length===0&&a.methods.length===0?-s/2:0),O+2*s,P+2*s+(x?s*2:a.members.length===0&&a.methods.length===0?-s:0),C),y=h.insert(()=>S,":first-child");y.attr("class","basic label-container");const k=y.node().getBBox();h.selectAll(".text").each((m,w,M)=>{var ae;const D=Si(M[w]),I=D.attr("transform");let H=0;if(I){const Y=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(I);Y&&(H=parseFloat(Y[2]))}let j=H+u+s-(x?s:a.members.length===0&&a.methods.length===0?-s/2:0);l||(j-=4);let $=L;(D.attr("class").includes("label-group")||D.attr("class").includes("annotation-group"))&&($=-((ae=D.node())==null?void 0:ae.getBBox().width)/2||0,h.selectAll("text").each(function(X,Y,ue){window.getComputedStyle(ue[Y]).textAnchor==="middle"&&($=0)})),D.attr("transform",`translate(${$}, ${j})`)});const T=h.select(".annotation-group").node().getBBox().height-(x?s/2:0)||0,A=h.select(".label-group").node().getBBox().height-(x?s/2:0)||0,F=h.select(".members-group").node().getBBox().height-(x?s/2:0)||0;if(a.members.length>0||a.methods.length>0||x){const m=b.line(k.x,T+A+u+s,k.x+k.width,T+A+u+s,C);h.insert(()=>m).attr("class","divider").attr("style",v)}if(x||a.members.length>0||a.methods.length>0){const m=b.line(k.x,T+A+F+u+n*2+s,k.x+k.width,T+A+F+u+s+n*2,C);h.insert(()=>m).attr("class","divider").attr("style",v)}if(a.look!=="handDrawn"&&h.selectAll("path").attr("style",v),y.select(":nth-child(2)").attr("style",v),h.selectAll(".divider").select("path").attr("style",v),e.labelStyle?h.selectAll("span").attr("style",e.labelStyle):h.selectAll("span").attr("style",v),!l){const m=RegExp(/color\s*:\s*([^;]*)/),w=m.exec(v);if(w){const M=w[0].replace("color","fill");h.selectAll("tspan").attr("style",M)}else if(f){const M=m.exec(f);if(M){const D=M[0].replace("color","fill");h.selectAll("tspan").attr("style",D)}}}return Dt(e,y),e.intersect=function(m){return Tt.rect(e,m)},h}W(V6,"classBox");async function Y6(t,e){var T,A;const{labelStyles:i,nodeStyles:s}=Lt(e);e.labelStyle=i;const n=e,l=e,a=20,h=20,d="verifyMethod"in e,f=Yt(e),g=t.insert("g").attr("class",f).attr("id",e.domId??e.id);let v;d?v=await Ia(g,`&lt;&lt;${n.type}&gt;&gt;`,0,e.labelStyle):v=await Ia(g,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let x=v;const b=await Ia(g,n.name,x,e.labelStyle+"; font-weight: bold;");if(x+=b+h,d){const F=await Ia(g,`${n.requirementId?`ID: ${n.requirementId}`:""}`,x,e.labelStyle);x+=F;const z=await Ia(g,`${n.text?`Text: ${n.text}`:""}`,x,e.labelStyle);x+=z;const N=await Ia(g,`${n.risk?`Risk: ${n.risk}`:""}`,x,e.labelStyle);x+=N,await Ia(g,`${n.verifyMethod?`Verification: ${n.verifyMethod}`:""}`,x,e.labelStyle)}else{const F=await Ia(g,`${l.type?`Type: ${l.type}`:""}`,x,e.labelStyle);x+=F,await Ia(g,`${l.docRef?`Doc Ref: ${l.docRef}`:""}`,x,e.labelStyle)}const C=(((T=g.node())==null?void 0:T.getBBox().width)??200)+a,O=(((A=g.node())==null?void 0:A.getBBox().height)??200)+a,P=-C/2,L=-O/2,u=Et.svg(g),S=Ot(e,{});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const y=u.rectangle(P,L,C,O,S),k=g.insert(()=>y,":first-child");if(k.attr("class","basic label-container").attr("style",s),g.selectAll(".label").each((F,z,N)=>{const m=Si(N[z]),w=m.attr("transform");let M=0,D=0;if(w){const $=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(w);$&&(M=parseFloat($[1]),D=parseFloat($[2]))}const I=D-O/2;let H=P+a/2;(z===0||z===1)&&(H=M),m.attr("transform",`translate(${H}, ${I+a})`)}),x>v+b+h){const F=u.line(P,L+v+b+h,P+C,L+v+b+h,S);g.insert(()=>F).attr("style",s)}return Dt(e,k),e.intersect=function(F){return Tt.rect(e,F)},g}W(Y6,"requirementBox");async function Ia(t,e,i,s=""){if(e==="")return 0;const n=t.insert("g").attr("class","label").attr("style",s),l=Ni(),a=l.htmlLabels??!0,h=await Rl(n,QS(bh(e)),{width:Vo(e,l)+50,classes:"markdown-node-label",useHtmlLabels:a,style:s},l);let d;if(a){const f=h.children[0],g=Si(h);d=f.getBoundingClientRect(),g.attr("width",d.width),g.attr("height",d.height)}else{const f=h.children[0];for(const g of f.children)g.textContent=g.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),s&&g.setAttribute("style",s);d=h.getBBox(),d.height+=6}return n.attr("transform",`translate(${-d.width/2},${-d.height/2+i})`),d.height}W(Ia,"addText");var Eoe=W(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function G6(t,e,{config:i}){var w,M;const{labelStyles:s,nodeStyles:n}=Lt(e);e.labelStyle=s||"";const l=10,a=e.width;e.width=(e.width??200)-10;const{shapeSvg:h,bbox:d,label:f}=await ei(t,e,Yt(e)),g=e.padding||10;let v="",x;"ticket"in e&&e.ticket&&((w=i==null?void 0:i.kanban)!=null&&w.ticketBaseUrl)&&(v=(M=i==null?void 0:i.kanban)==null?void 0:M.ticketBaseUrl.replace("#TICKET#",e.ticket),x=h.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",v).attr("target","_blank"));const b={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let C,O;x?{label:C,bbox:O}=await Cx(x,"ticket"in e&&e.ticket||"",b):{label:C,bbox:O}=await Cx(h,"ticket"in e&&e.ticket||"",b);const{label:P,bbox:L}=await Cx(h,"assigned"in e&&e.assigned||"",b);e.width=a;const u=10,S=(e==null?void 0:e.width)||0,y=Math.max(O.height,L.height)/2,k=Math.max(d.height+u*2,(e==null?void 0:e.height)||0)+y,T=-S/2,A=-k/2;f.attr("transform","translate("+(g-S/2)+", "+(-y-d.height/2)+")"),C.attr("transform","translate("+(g-S/2)+", "+(-y+d.height/2)+")"),P.attr("transform","translate("+(g+S/2-L.width-2*l)+", "+(-y+d.height/2)+")");let F;const{rx:z,ry:N}=e,{cssStyles:m}=e;if(e.look==="handDrawn"){const D=Et.svg(h),I=Ot(e,{}),H=z||N?D.path(Fl(T,A,S,k,z||0),I):D.rectangle(T,A,S,k,I);F=h.insert(()=>H,":first-child"),F.attr("class","basic label-container").attr("style",m||null)}else{F=h.insert("rect",":first-child"),F.attr("class","basic label-container __APA__").attr("style",n).attr("rx",z??5).attr("ry",N??5).attr("x",T).attr("y",A).attr("width",S).attr("height",k);const D="priority"in e&&e.priority;if(D){const I=h.append("line"),H=T+2,j=A+Math.floor((z??0)/2),$=A+k-Math.floor((z??0)/2);I.attr("x1",H).attr("y1",j).attr("x2",H).attr("y2",$).attr("stroke-width","4").attr("stroke",Eoe(D))}}return Dt(e,F),e.height=k,e.intersect=function(D){return Tt.rect(e,D)},h}W(G6,"kanbanItem");var Ooe=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:M6},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:C6},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:A6},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:R6},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:J4},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:V4},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:k6},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:a6},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:g6},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:m6},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:z6},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:f6},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:t6},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:B6},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:q4},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:E6},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:L6},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:D6},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:s6},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:o6},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:X4},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:K4},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:Z4},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:y6},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:W6},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:n6},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:N6},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:v6},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:Q4},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:e6},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:H6},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:q6},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:i6},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:U6},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:r6},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:O6},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:w6},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:_6},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:j4},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:G4},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:I6},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:F6},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:j6},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:S6},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:b6}],Moe=W(()=>{const e=[...Object.entries({state:P6,choice:$4,note:x6,rectWithTitle:T6,labelRect:p6,iconSquare:u6,iconCircle:c6,icon:l6,iconRounded:h6,imageSquare:d6,anchor:W4,kanbanItem:G6,classBox:V6,erBox:WT,requirementBox:Y6}),...Ooe.flatMap(i=>[i.shortName,..."aliases"in i?i.aliases:[],..."internalAliases"in i?i.internalAliases:[]].map(n=>[n,i.handler]))];return Object.fromEntries(e)},"generateShapeMap"),X6=Moe();function Aoe(t){return t in X6}W(Aoe,"isValidShape");var Fb=new Map;async function K6(t,e,i){let s,n;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const l=e.shape?X6[e.shape]:void 0;if(!l)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let a;i.config.securityLevel==="sandbox"?a="_top":e.linkTarget&&(a=e.linkTarget||"_blank"),s=t.insert("svg:a").attr("xlink:href",e.link).attr("target",a??null),n=await l(s,e,i)}else n=await l(t,e,i),s=n;return e.tooltip&&n.attr("title",e.tooltip),Fb.set(e.id,s),e.haveCallback&&s.attr("class",s.attr("class")+" clickable"),s}W(K6,"insertNode");var Tde=W((t,e)=>{Fb.set(e.id,t)},"setNodeElem"),Cde=W(()=>{Fb.clear()},"clear"),Ede=W(t=>{const e=Fb.get(t.id);Ne.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const i=8,s=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+s-t.width/2)+", "+(t.y-t.height/2-i)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),s},"positionNode"),Poe=W((t,e,i,s,n,l)=>{e.arrowTypeStart&&c3(t,"start",e.arrowTypeStart,i,s,n,l),e.arrowTypeEnd&&c3(t,"end",e.arrowTypeEnd,i,s,n,l)},"addEdgeMarkers"),Doe={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},c3=W((t,e,i,s,n,l,a)=>{var v;const h=Doe[i];if(!h){Ne.warn(`Unknown arrow type: ${i}`);return}const d=h.type,g=`${n}_${l}-${d}${e==="start"?"Start":"End"}`;if(a&&a.trim()!==""){const x=a.replace(/[^\dA-Za-z]/g,"_"),b=`${g}_${x}`;if(!document.getElementById(b)){const C=document.getElementById(g);if(C){const O=C.cloneNode(!0);O.id=b,O.querySelectorAll("path, circle, line").forEach(L=>{L.setAttribute("stroke",a),h.fill&&L.setAttribute("fill",a)}),(v=C.parentNode)==null||v.appendChild(O)}}t.attr(`marker-${e}`,`url(${s}#${b})`)}else t.attr(`marker-${e}`,`url(${s}#${g})`)},"addEdgeMarker"),Hv=new Map,ds=new Map,Ode=W(()=>{Hv.clear(),ds.clear()},"clear"),Kf=W(t=>t?t.reduce((i,s)=>i+";"+s,""):"","getLabelStyles"),Loe=W(async(t,e)=>{let i=Yr(Ni().flowchart.htmlLabels);const s=await Rl(t,e.label,{style:Kf(e.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});Ne.info("abc82",e,e.labelType);const n=t.insert("g").attr("class","edgeLabel"),l=n.insert("g").attr("class","label");l.node().appendChild(s);let a=s.getBBox();if(i){const d=s.children[0],f=Si(s);a=d.getBoundingClientRect(),f.attr("width",a.width),f.attr("height",a.height)}l.attr("transform","translate("+-a.width/2+", "+-a.height/2+")"),Hv.set(e.id,n),e.width=a.width,e.height=a.height;let h;if(e.startLabelLeft){const d=await Xc(e.startLabelLeft,Kf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");h=g.node().appendChild(d);const v=d.getBBox();g.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).startLeft=f,cp(h,e.startLabelLeft)}if(e.startLabelRight){const d=await Xc(e.startLabelRight,Kf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");h=f.node().appendChild(d),g.node().appendChild(d);const v=d.getBBox();g.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).startRight=f,cp(h,e.startLabelRight)}if(e.endLabelLeft){const d=await Xc(e.endLabelLeft,Kf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");h=g.node().appendChild(d);const v=d.getBBox();g.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),f.node().appendChild(d),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).endLeft=f,cp(h,e.endLabelLeft)}if(e.endLabelRight){const d=await Xc(e.endLabelRight,Kf(e.labelStyle)),f=t.insert("g").attr("class","edgeTerminals"),g=f.insert("g").attr("class","inner");h=g.node().appendChild(d);const v=d.getBBox();g.attr("transform","translate("+-v.width/2+", "+-v.height/2+")"),f.node().appendChild(d),ds.get(e.id)||ds.set(e.id,{}),ds.get(e.id).endRight=f,cp(h,e.endLabelRight)}return s},"insertEdgeLabel");function cp(t,e){Ni().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}W(cp,"setTerminalWidth");var Roe=W((t,e)=>{Ne.debug("Moving label abc88 ",t.id,t.label,Hv.get(t.id),e);let i=e.updatedPath?e.updatedPath:e.originalPath;const s=Ni(),{subGraphTitleTotalMargin:n}=aT(s);if(t.label){const l=Hv.get(t.id);let a=t.x,h=t.y;if(i){const d=fa.calcLabelPosition(i);Ne.debug("Moving label "+t.label+" from (",a,",",h,") to (",d.x,",",d.y,") abc88"),e.updatedPath&&(a=d.x,h=d.y)}l.attr("transform",`translate(${a}, ${h+n/2})`)}if(t.startLabelLeft){const l=ds.get(t.id).startLeft;let a=t.x,h=t.y;if(i){const d=fa.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}if(t.startLabelRight){const l=ds.get(t.id).startRight;let a=t.x,h=t.y;if(i){const d=fa.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}if(t.endLabelLeft){const l=ds.get(t.id).endLeft;let a=t.x,h=t.y;if(i){const d=fa.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}if(t.endLabelRight){const l=ds.get(t.id).endRight;let a=t.x,h=t.y;if(i){const d=fa.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",i);a=d.x,h=d.y}l.attr("transform",`translate(${a}, ${h})`)}},"positionEdgeLabel"),Foe=W((t,e)=>{const i=t.x,s=t.y,n=Math.abs(e.x-i),l=Math.abs(e.y-s),a=t.width/2,h=t.height/2;return n>=a||l>=h},"outsideNode"),Ioe=W((t,e,i)=>{Ne.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(i)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const s=t.x,n=t.y,l=Math.abs(s-i.x),a=t.width/2;let h=i.x<e.x?a-l:a+l;const d=t.height/2,f=Math.abs(e.y-i.y),g=Math.abs(e.x-i.x);if(Math.abs(n-e.y)*a>Math.abs(s-e.x)*d){let v=i.y<e.y?e.y-d-n:n-d-e.y;h=g*v/f;const x={x:i.x<e.x?i.x+h:i.x-g+h,y:i.y<e.y?i.y+f-v:i.y-f+v};return h===0&&(x.x=e.x,x.y=e.y),g===0&&(x.x=e.x),f===0&&(x.y=e.y),Ne.debug(`abc89 top/bottom calc, Q ${f}, q ${v}, R ${g}, r ${h}`,x),x}else{i.x<e.x?h=e.x-a-s:h=s-a-e.x;let v=f*h/g,x=i.x<e.x?i.x+g-h:i.x-g+h,b=i.y<e.y?i.y+v:i.y-v;return Ne.debug(`sides calc abc89, Q ${f}, q ${v}, R ${g}, r ${h}`,{_x:x,_y:b}),h===0&&(x=e.x,b=e.y),g===0&&(x=e.x),f===0&&(b=e.y),{x,y:b}}},"intersection"),h3=W((t,e)=>{Ne.warn("abc88 cutPathAtIntersect",t,e);let i=[],s=t[0],n=!1;return t.forEach(l=>{if(Ne.info("abc88 checking point",l,e),!Foe(e,l)&&!n){const a=Ioe(e,s,l);Ne.debug("abc88 inside",l,s,a),Ne.debug("abc88 intersection",a,e);let h=!1;i.forEach(d=>{h=h||d.x===a.x&&d.y===a.y}),i.some(d=>d.x===a.x&&d.y===a.y)?Ne.warn("abc88 no intersect",a,i):i.push(a),n=!0}else Ne.warn("abc88 outside",l,s),s=l,n||i.push(l)}),Ne.debug("returning points",i),i},"cutPathAtIntersect");function Z6(t){const e=[],i=[];for(let s=1;s<t.length-1;s++){const n=t[s-1],l=t[s],a=t[s+1];(n.x===l.x&&l.y===a.y&&Math.abs(l.x-a.x)>5&&Math.abs(l.y-n.y)>5||n.y===l.y&&l.x===a.x&&Math.abs(l.x-n.x)>5&&Math.abs(l.y-a.y)>5)&&(e.push(l),i.push(s))}return{cornerPoints:e,cornerPointPositions:i}}W(Z6,"extractCornerPoints");var u3=W(function(t,e,i){const s=e.x-t.x,n=e.y-t.y,l=Math.sqrt(s*s+n*n),a=i/l;return{x:e.x-a*s,y:e.y-a*n}},"findAdjacentPoint"),Boe=W(function(t){const{cornerPointPositions:e}=Z6(t),i=[];for(let s=0;s<t.length;s++)if(e.includes(s)){const n=t[s-1],l=t[s+1],a=t[s],h=u3(n,a,5),d=u3(l,a,5),f=d.x-h.x,g=d.y-h.y;i.push(h);const v=Math.sqrt(2)*2;let x={x:a.x,y:a.y};if(Math.abs(l.x-n.x)>10&&Math.abs(l.y-n.y)>=10){Ne.debug("Corner point fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));const b=5;a.x===h.x?x={x:f<0?h.x-b+v:h.x+b-v,y:g<0?h.y-v:h.y+v}:x={x:f<0?h.x-v:h.x+v,y:g<0?h.y-b+v:h.y+b-v}}else Ne.debug("Corner point skipping fixing",Math.abs(l.x-n.x),Math.abs(l.y-n.y));i.push(x,d)}else i.push(t[s]);return i},"fixCorners"),Noe=W(function(t,e,i,s,n,l,a){var m;const{handDrawnSeed:h}=Ni();let d=e.points,f=!1;const g=n;var v=l;const x=[];for(const w in e.cssCompiledStyles)FB(w)||x.push(e.cssCompiledStyles[w]);v.intersect&&g.intersect&&(d=d.slice(1,e.points.length-1),d.unshift(g.intersect(d[0])),Ne.debug("Last point APA12",e.start,"-->",e.end,d[d.length-1],v,v.intersect(d[d.length-1])),d.push(v.intersect(d[d.length-1]))),e.toCluster&&(Ne.info("to cluster abc88",i.get(e.toCluster)),d=h3(e.points,i.get(e.toCluster).node),f=!0),e.fromCluster&&(Ne.debug("from cluster abc88",i.get(e.fromCluster),JSON.stringify(d,null,2)),d=h3(d.reverse(),i.get(e.fromCluster).node).reverse(),f=!0);let b=d.filter(w=>!Number.isNaN(w.y));b=Boe(b);let C=By;switch(C=Sv,e.curve){case"linear":C=Sv;break;case"basis":C=By;break;case"cardinal":C=yN;break;case"bumpX":C=dN;break;case"bumpY":C=fN;break;case"catmullRom":C=bN;break;case"monotoneX":C=TN;break;case"monotoneY":C=CN;break;case"natural":C=ON;break;case"step":C=MN;break;case"stepAfter":C=PN;break;case"stepBefore":C=AN;break;default:C=By}const{x:O,y:P}=aJ(e),L=Fie().x(O).y(P).curve(C);let u;switch(e.thickness){case"normal":u="edge-thickness-normal";break;case"thick":u="edge-thickness-thick";break;case"invisible":u="edge-thickness-invisible";break;default:u="edge-thickness-normal"}switch(e.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed";break;default:u+=" edge-pattern-solid"}let S,y=L(b);const k=Array.isArray(e.style)?e.style:e.style?[e.style]:[];let T=k.find(w=>w==null?void 0:w.startsWith("stroke:"));if(e.look==="handDrawn"){const w=Et.svg(t);Object.assign([],b);const M=w.path(y,{roughness:.3,seed:h});u+=" transition",S=Si(M).select("path").attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")).attr("style",k?k.reduce((I,H)=>I+";"+H,""):"");let D=S.attr("d");S.attr("d",D),t.node().appendChild(S.node())}else{const w=x.join(";"),M=k?k.reduce((H,j)=>H+j+";",""):"";let D="";e.animate&&(D=" edge-animation-fast"),e.animation&&(D=" edge-animation-"+e.animation);const I=w?w+";"+M+";":M;S=t.append("path").attr("d",y).attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")+(D??"")).attr("style",I),T=(m=I.match(/stroke:([^;]+)/))==null?void 0:m[1]}let A="";(Ni().flowchart.arrowMarkerAbsolute||Ni().state.arrowMarkerAbsolute)&&(A=ZI(!0)),Ne.info("arrowTypeStart",e.arrowTypeStart),Ne.info("arrowTypeEnd",e.arrowTypeEnd),Poe(S,e,A,a,s,T);const F=Math.floor(d.length/2),z=d[F];fa.isLabelCoordinateInPath(z,S.attr("d"))||(f=!0);let N={};return f&&(N.updatedPath=d),N.originalPath=e.points,N},"insertEdge"),zoe=W((t,e,i,s)=>{e.forEach(n=>{tle[n](t,i,s)})},"insertMarkers"),Uoe=W((t,e,i)=>{Ne.trace("Making markers for ",i),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),Hoe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Woe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),joe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),qoe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),$oe=W((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),Voe=W((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),Yoe=W((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Goe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Xoe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Koe=W((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),s.append("path").attr("d","M9,0 L9,18");const n=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),n.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),Zoe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),Qoe=W((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),s.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const n=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");n.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),n.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),Joe=W((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),ele=W((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");s.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),s.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),s.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),tle={extension:Uoe,composition:Hoe,aggregation:Woe,dependency:joe,lollipop:qoe,point:$oe,circle:Voe,cross:Yoe,barb:Goe,only_one:Xoe,zero_or_one:Koe,one_or_more:Zoe,zero_or_more:Qoe,requirement_arrow:Joe,requirement_contains:ele},ile=zoe,rle={common:td,getConfig:Es,insertCluster:doe,insertEdge:Noe,insertEdgeLabel:Loe,insertMarkers:ile,insertNode:K6,interpolateToCurve:ST,labelHelper:ei,log:Ne,positionEdgeLabel:Roe},Kp={},Q6=W(t=>{for(const e of t)Kp[e.name]=e},"registerLayoutLoaders"),sle=W(()=>{Q6([{name:"dagre",loader:W(async()=>await Vi(()=>import("./dagre-2BBEFEWP-Bf2o9DSN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),"loader")}])},"registerDefaultLayoutLoaders");sle();var Mde=W(async(t,e)=>{if(!(t.layoutAlgorithm in Kp))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const i=Kp[t.layoutAlgorithm];return(await i.loader()).render(t,e,rle,{algorithm:i.algorithm})},"render"),Ade=W((t="",{fallback:e="dagre"}={})=>{if(t in Kp)return t;if(e in Kp)return Ne.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),d3={name:"mermaid",version:"11.10.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},nle=W(t=>{var n;const{securityLevel:e}=Ni();let i=Si("body");if(e==="sandbox"){const a=((n=Si(`#i${t}`).node())==null?void 0:n.contentDocument)??document;i=Si(a.body)}return i.select(`#${t}`)},"selectSvgElement"),J6="comm",e8="rule",t8="decl",ale="@import",ole="@namespace",lle="@keyframes",cle="@layer",i8=Math.abs,jT=String.fromCharCode;function r8(t){return t.trim()}function Hy(t,e,i){return t.replace(e,i)}function hle(t,e,i){return t.indexOf(e,i)}function bu(t,e){return t.charCodeAt(e)|0}function Yu(t,e,i){return t.slice(e,i)}function Na(t){return t.length}function ule(t){return t.length}function vy(t,e){return e.push(t),t}var Ib=1,Gu=1,s8=0,Vn=0,Ir=0,ad="";function qT(t,e,i,s,n,l,a,h){return{value:t,root:e,parent:i,type:s,props:n,children:l,line:Ib,column:Gu,length:a,return:"",siblings:h}}function dle(){return Ir}function fle(){return Ir=Vn>0?bu(ad,--Vn):0,Gu--,Ir===10&&(Gu=1,Ib--),Ir}function ya(){return Ir=Vn<s8?bu(ad,Vn++):0,Gu++,Ir===10&&(Gu=1,Ib++),Ir}function wl(){return bu(ad,Vn)}function Wy(){return Vn}function Bb(t,e){return Yu(ad,t,e)}function Zp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ple(t){return Ib=Gu=1,s8=Na(ad=t),Vn=0,[]}function mle(t){return ad="",t}function Ex(t){return r8(Bb(Vn-1,Wk(t===91?t+2:t===40?t+1:t)))}function gle(t){for(;(Ir=wl())&&Ir<33;)ya();return Zp(t)>2||Zp(Ir)>3?"":" "}function yle(t,e){for(;--e&&ya()&&!(Ir<48||Ir>102||Ir>57&&Ir<65||Ir>70&&Ir<97););return Bb(t,Wy()+(e<6&&wl()==32&&ya()==32))}function Wk(t){for(;ya();)switch(Ir){case t:return Vn;case 34:case 39:t!==34&&t!==39&&Wk(Ir);break;case 40:t===41&&Wk(t);break;case 92:ya();break}return Vn}function vle(t,e){for(;ya()&&t+Ir!==57;)if(t+Ir===84&&wl()===47)break;return"/*"+Bb(e,Vn-1)+"*"+jT(t===47?t:ya())}function ble(t){for(;!Zp(wl());)ya();return Bb(t,Vn)}function _le(t){return mle(jy("",null,null,null,[""],t=ple(t),0,[0],t))}function jy(t,e,i,s,n,l,a,h,d){for(var f=0,g=0,v=a,x=0,b=0,C=0,O=1,P=1,L=1,u=0,S="",y=n,k=l,T=s,A=S;P;)switch(C=u,u=ya()){case 40:if(C!=108&&bu(A,v-1)==58){hle(A+=Hy(Ex(u),"&","&\f"),"&\f",i8(f?h[f-1]:0))!=-1&&(L=-1);break}case 34:case 39:case 91:A+=Ex(u);break;case 9:case 10:case 13:case 32:A+=gle(C);break;case 92:A+=yle(Wy()-1,7);continue;case 47:switch(wl()){case 42:case 47:vy(wle(vle(ya(),Wy()),e,i,d),d),(Zp(C||1)==5||Zp(wl()||1)==5)&&Na(A)&&Yu(A,-1,void 0)!==" "&&(A+=" ");break;default:A+="/"}break;case 123*O:h[f++]=Na(A)*L;case 125*O:case 59:case 0:switch(u){case 0:case 125:P=0;case 59+g:L==-1&&(A=Hy(A,/\f/g,"")),b>0&&(Na(A)-v||O===0&&C===47)&&vy(b>32?p3(A+";",s,i,v-1,d):p3(Hy(A," ","")+";",s,i,v-2,d),d);break;case 59:A+=";";default:if(vy(T=f3(A,e,i,f,g,n,h,S,y=[],k=[],v,l),l),u===123)if(g===0)jy(A,e,T,T,y,l,v,h,k);else{switch(x){case 99:if(bu(A,3)===110)break;case 108:if(bu(A,2)===97)break;default:g=0;case 100:case 109:case 115:}g?jy(t,T,T,s&&vy(f3(t,T,T,0,0,n,h,S,n,y=[],v,k),k),n,k,v,h,s?y:k):jy(A,T,T,T,[""],k,0,h,k)}}f=g=b=0,O=L=1,S=A="",v=a;break;case 58:v=1+Na(A),b=C;default:if(O<1){if(u==123)--O;else if(u==125&&O++==0&&fle()==125)continue}switch(A+=jT(u),u*O){case 38:L=g>0?1:(A+="\f",-1);break;case 44:h[f++]=(Na(A)-1)*L,L=1;break;case 64:wl()===45&&(A+=Ex(ya())),x=wl(),g=v=Na(S=A+=ble(Wy())),u++;break;case 45:C===45&&Na(A)==2&&(O=0)}}return l}function f3(t,e,i,s,n,l,a,h,d,f,g,v){for(var x=n-1,b=n===0?l:[""],C=ule(b),O=0,P=0,L=0;O<s;++O)for(var u=0,S=Yu(t,x+1,x=i8(P=a[O])),y=t;u<C;++u)(y=r8(P>0?b[u]+" "+S:Hy(S,/&\f/g,b[u])))&&(d[L++]=y);return qT(t,e,i,n===0?e8:h,d,f,g,v)}function wle(t,e,i,s){return qT(t,e,i,J6,jT(dle()),Yu(t,2,-2),0,s)}function p3(t,e,i,s,n){return qT(t,e,i,t8,Yu(t,0,s),Yu(t,s+1,-1),s,n)}function jk(t,e){for(var i="",s=0;s<t.length;s++)i+=e(t[s],s,t,e)||"";return i}function xle(t,e,i,s){switch(t.type){case cle:if(t.children.length)break;case ale:case ole:case t8:return t.return=t.return||t.value;case J6:return"";case lle:return t.return=t.value+"{"+jk(t.children,s)+"}";case e8:if(!Na(t.value=t.props.join(",")))return""}return Na(i=jk(t.children,s))?t.return=t.value+"{"+i+"}":""}var kle=FN(Object.keys,Object),Sle=Object.prototype,Tle=Sle.hasOwnProperty;function Cle(t){if(!Cb(t))return kle(t);var e=[];for(var i in Object(t))Tle.call(t,i)&&i!="constructor"&&e.push(i);return e}var qk=vh(eo,"DataView"),$k=vh(eo,"Promise"),Vk=vh(eo,"Set"),Yk=vh(eo,"WeakMap"),m3="[object Map]",Ele="[object Object]",g3="[object Promise]",y3="[object Set]",v3="[object WeakMap]",b3="[object DataView]",Ole=yh(qk),Mle=yh(Gp),Ale=yh($k),Ple=yh(Vk),Dle=yh(Yk),Uc=rd;(qk&&Uc(new qk(new ArrayBuffer(1)))!=b3||Gp&&Uc(new Gp)!=m3||$k&&Uc($k.resolve())!=g3||Vk&&Uc(new Vk)!=y3||Yk&&Uc(new Yk)!=v3)&&(Uc=function(t){var e=rd(t),i=e==Ele?t.constructor:void 0,s=i?yh(i):"";if(s)switch(s){case Ole:return b3;case Mle:return m3;case Ale:return g3;case Ple:return y3;case Dle:return v3}return e});var Lle="[object Map]",Rle="[object Set]",Fle=Object.prototype,Ile=Fle.hasOwnProperty;function _3(t){if(t==null)return!0;if(Eb(t)&&(Pv(t)||typeof t=="string"||typeof t.splice=="function"||xT(t)||kT(t)||Av(t)))return!t.length;var e=Uc(t);if(e==Lle||e==Rle)return!t.size;if(Cb(t))return!Cle(t).length;for(var i in t)if(Ile.call(t,i))return!1;return!0}var n8="c4",Ble=W(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Nle=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./c4Diagram-AAMF2YG6-BU1oSazh.js");return{diagram:e}},__vite__mapDeps([8,9,6,7]));return{id:n8,diagram:t}},"loader"),zle={id:n8,detector:Ble,loader:Nle},Ule=zle,a8="flowchart",Hle=W((t,e)=>{var i,s;return((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"||((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),Wle=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-BO47VlMJ.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14,6,7]));return{id:a8,diagram:t}},"loader"),jle={id:a8,detector:Hle,loader:Wle},qle=jle,o8="flowchart-v2",$le=W((t,e)=>{var i,s,n;return((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-d3"?!1:(((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),Vle=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-BO47VlMJ.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14,6,7]));return{id:o8,diagram:t}},"loader"),Yle={id:o8,detector:$le,loader:Vle},Gle=Yle,l8="er",Xle=W(t=>/^\s*erDiagram/.test(t),"detector"),Kle=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./erDiagram-HZWUO2LU-CR92Wz5Q.js");return{diagram:e}},__vite__mapDeps([15,12,13,14,6,7]));return{id:l8,diagram:t}},"loader"),Zle={id:l8,detector:Xle,loader:Kle},Qle=Zle,c8="gitGraph",Jle=W(t=>/^\s*gitGraph/.test(t),"detector"),ece=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./gitGraphDiagram-OJR772UL-BmfRlbVF.js");return{diagram:e}},__vite__mapDeps([16,17,18,19,2,4,5,6,7]));return{id:c8,diagram:t}},"loader"),tce={id:c8,detector:Jle,loader:ece},ice=tce,h8="gantt",rce=W(t=>/^\s*gantt/.test(t),"detector"),sce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./ganttDiagram-WV7ZQ7D5-Bk2enxPG.js");return{diagram:e}},__vite__mapDeps([20,21,22,23,6,7]));return{id:h8,diagram:t}},"loader"),nce={id:h8,detector:rce,loader:sce},ace=nce,u8="info",oce=W(t=>/^\s*info/.test(t),"detector"),lce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./infoDiagram-6WOFNB3A-clBQCKnP.js");return{diagram:e}},__vite__mapDeps([24,19,2,4,5,6,7]));return{id:u8,diagram:t}},"loader"),cce={id:u8,detector:oce,loader:lce},d8="pie",hce=W(t=>/^\s*pie/.test(t),"detector"),uce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./pieDiagram-DBDJKBY4-75YEhexC.js");return{diagram:e}},__vite__mapDeps([25,17,19,2,4,5,26,27,22,6,7]));return{id:d8,diagram:t}},"loader"),dce={id:d8,detector:hce,loader:uce},f8="quadrantChart",fce=W(t=>/^\s*quadrantChart/.test(t),"detector"),pce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./quadrantDiagram-YPSRARAO-C8sCKgZZ.js");return{diagram:e}},__vite__mapDeps([28,21,22,23,6,7]));return{id:f8,diagram:t}},"loader"),mce={id:f8,detector:fce,loader:pce},gce=mce,p8="xychart",yce=W(t=>/^\s*xychart(-beta)?/.test(t),"detector"),vce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./xychartDiagram-FDP5SA34-D5N0tfAY.js");return{diagram:e}},__vite__mapDeps([29,22,27,21,23,6,7]));return{id:p8,diagram:t}},"loader"),bce={id:p8,detector:yce,loader:vce},_ce=bce,m8="requirement",wce=W(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),xce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./requirementDiagram-EGVEC5DT-t_0PGWPX.js");return{diagram:e}},__vite__mapDeps([30,12,13,6,7]));return{id:m8,diagram:t}},"loader"),kce={id:m8,detector:wce,loader:xce},Sce=kce,g8="sequence",Tce=W(t=>/^\s*sequenceDiagram/.test(t),"detector"),Cce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./sequenceDiagram-WFGC7UMF-Ca1ACAEf.js");return{diagram:e}},__vite__mapDeps([31,9,18,6,7]));return{id:g8,diagram:t}},"loader"),Ece={id:g8,detector:Tce,loader:Cce},Oce=Ece,y8="class",Mce=W((t,e)=>{var i;return((i=e==null?void 0:e.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),Ace=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./classDiagram-3BZAVTQC-DOkTcIoo.js");return{diagram:e}},__vite__mapDeps([32,33,11,12,13,6,7]));return{id:y8,diagram:t}},"loader"),Pce={id:y8,detector:Mce,loader:Ace},Dce=Pce,v8="classDiagram",Lce=W((t,e)=>{var i;return/^\s*classDiagram/.test(t)&&((i=e==null?void 0:e.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),Rce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./classDiagram-v2-QTMF73CY-DOkTcIoo.js");return{diagram:e}},__vite__mapDeps([34,33,11,12,13,6,7]));return{id:v8,diagram:t}},"loader"),Fce={id:v8,detector:Lce,loader:Rce},Ice=Fce,b8="state",Bce=W((t,e)=>{var i;return((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),Nce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./stateDiagram-UUKSUZ4H-BFAU_6MM.js");return{diagram:e}},__vite__mapDeps([35,36,12,13,1,2,3,4,6,7]));return{id:b8,diagram:t}},"loader"),zce={id:b8,detector:Bce,loader:Nce},Uce=zce,_8="stateDiagram",Hce=W((t,e)=>{var i;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper")},"detector"),Wce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./stateDiagram-v2-EYPG3UTE-DJQDPzG8.js");return{diagram:e}},__vite__mapDeps([37,36,12,13,6,7]));return{id:_8,diagram:t}},"loader"),jce={id:_8,detector:Hce,loader:Wce},qce=jce,w8="journey",$ce=W(t=>/^\s*journey/.test(t),"detector"),Vce=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./journeyDiagram-FFXJYRFH-DBEnCq2P.js");return{diagram:e}},__vite__mapDeps([38,9,11,26,6,7]));return{id:w8,diagram:t}},"loader"),Yce={id:w8,detector:$ce,loader:Vce},Gce=Yce,Xce=W((t,e,i)=>{Ne.debug(`rendering svg for syntax error
`);const s=nle(e),n=s.append("g");s.attr("viewBox","0 0 2412 512"),QI(s,100,512,!0),n.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),n.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),n.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),n.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),n.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),n.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),n.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),n.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${i}`)},"draw"),x8={draw:Xce},Kce=x8,Zce={db:{},renderer:x8,parser:{parse:W(()=>{},"parse")}},Qce=Zce,k8="flowchart-elk",Jce=W((t,e={})=>{var i;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),ehe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-BO47VlMJ.js");return{diagram:e}},__vite__mapDeps([10,11,12,13,14,6,7]));return{id:k8,diagram:t}},"loader"),the={id:k8,detector:Jce,loader:ehe},ihe=the,S8="timeline",rhe=W(t=>/^\s*timeline/.test(t),"detector"),she=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./timeline-definition-3HZDQTIS-Bp3BGHYa.js");return{diagram:e}},__vite__mapDeps([39,26,6,7]));return{id:S8,diagram:t}},"loader"),nhe={id:S8,detector:rhe,loader:she},ahe=nhe,T8="mindmap",ohe=W(t=>/^\s*mindmap/.test(t),"detector"),lhe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./mindmap-definition-LNHGMQRG-Ct189TK4.js");return{diagram:e}},__vite__mapDeps([40,41,6,7]));return{id:T8,diagram:t}},"loader"),che={id:T8,detector:ohe,loader:lhe},hhe=che,C8="kanban",uhe=W(t=>/^\s*kanban/.test(t),"detector"),dhe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./kanban-definition-KOZQBZVT-SLIF1x3I.js");return{diagram:e}},__vite__mapDeps([42,11,6,7]));return{id:C8,diagram:t}},"loader"),fhe={id:C8,detector:uhe,loader:dhe},phe=fhe,E8="sankey",mhe=W(t=>/^\s*sankey(-beta)?/.test(t),"detector"),ghe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./sankeyDiagram-HRAUVNP4-Mn4O5NOP.js");return{diagram:e}},__vite__mapDeps([43,27,22,6,7]));return{id:E8,diagram:t}},"loader"),yhe={id:E8,detector:mhe,loader:ghe},vhe=yhe,O8="packet",bhe=W(t=>/^\s*packet(-beta)?/.test(t),"detector"),_he=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./diagram-GUPCWM2R-CpT8BYAa.js");return{diagram:e}},__vite__mapDeps([44,17,19,2,4,5,6,7]));return{id:O8,diagram:t}},"loader"),whe={id:O8,detector:bhe,loader:_he},M8="radar",xhe=W(t=>/^\s*radar-beta/.test(t),"detector"),khe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./diagram-RP2FKANI-Blv8Yw4t.js");return{diagram:e}},__vite__mapDeps([45,17,19,2,4,5,6,7]));return{id:M8,diagram:t}},"loader"),She={id:M8,detector:xhe,loader:khe},A8="block",The=W(t=>/^\s*block(-beta)?/.test(t),"detector"),Che=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./blockDiagram-ZYB65J3Q-CQk-XKpI.js");return{diagram:e}},__vite__mapDeps([46,11,5,2,1,14,6,7]));return{id:A8,diagram:t}},"loader"),Ehe={id:A8,detector:The,loader:Che},Ohe=Ehe,P8="architecture",Mhe=W(t=>/^\s*architecture/.test(t),"detector"),Ahe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./architectureDiagram-KFL7JDKH-CCToVfZe.js");return{diagram:e}},__vite__mapDeps([47,17,19,2,4,5,41,6,7]));return{id:P8,diagram:t}},"loader"),Phe={id:P8,detector:Mhe,loader:Ahe},Dhe=Phe,D8="treemap",Lhe=W(t=>/^\s*treemap/.test(t),"detector"),Rhe=W(async()=>{const{diagram:t}=await Vi(async()=>{const{diagram:e}=await import("./diagram-4IRLE6MV-CBKSUlWk.js");return{diagram:e}},__vite__mapDeps([48,13,17,19,2,4,5,23,27,22,6,7]));return{id:D8,diagram:t}},"loader"),Fhe={id:D8,detector:Lhe,loader:Rhe},w3=!1,Nb=W(()=>{w3||(w3=!0,uv("error",Qce,t=>t.toLowerCase().trim()==="error"),uv("---",{db:{clear:W(()=>{},"clear")},styles:{},renderer:{draw:W(()=>{},"draw")},parser:{parse:W(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:W(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),tk(ihe,hhe,Dhe),tk(Ule,phe,Ice,Dce,Qle,ace,cce,dce,Sce,Oce,Gle,qle,ahe,ice,qce,Uce,Gce,gce,vhe,whe,_ce,Ohe,She,Fhe))},"addDiagrams"),Ihe=W(async()=>{Ne.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(oh).map(async([i,{detector:s,loader:n}])=>{if(n)try{nk(i)}catch{try{const{diagram:l,id:a}=await n();uv(a,l,s)}catch(l){throw Ne.error(`Failed to load external diagram with key ${i}. Removing from detectors.`),delete oh[i],l}}}))).filter(i=>i.status==="rejected");if(e.length>0){Ne.error(`Failed to load ${e.length} external diagrams`);for(const i of e)Ne.error(i);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),Bhe="graphics-document document";function L8(t,e){t.attr("role",Bhe),e!==""&&t.attr("aria-roledescription",e)}W(L8,"setA11yDiagramInfo");function R8(t,e,i,s){if(t.insert!==void 0){if(i){const n=`chart-desc-${s}`;t.attr("aria-describedby",n),t.insert("desc",":first-child").attr("id",n).text(i)}if(e){const n=`chart-title-${s}`;t.attr("aria-labelledby",n),t.insert("title",":first-child").attr("id",n).text(e)}}}W(R8,"addSVGa11yTitleDescription");var ih,Gk=(ih=class{constructor(e,i,s,n,l){this.type=e,this.text=i,this.db=s,this.parser=n,this.renderer=l}static async fromText(e,i={}){var f,g;const s=Es(),n=VS(e,s);e=Fne(e)+`
`;try{nk(n)}catch{const v=aZ(n);if(!v)throw new NI(`Diagram ${n} not found.`);const{id:x,diagram:b}=await v();uv(x,b)}const{db:l,parser:a,renderer:h,init:d}=nk(n);return a.parser&&(a.parser.yy=l),(f=l.clear)==null||f.call(l),d==null||d(s),i.title&&((g=l.setDiagramTitle)==null||g.call(l,i.title)),await a.parse(e),new ih(n,e,l,a,h)}async render(e,i){await this.renderer.draw(this.text,e,i,this)}getParser(){return this.parser}getType(){return this.type}},W(ih,"Diagram"),ih),x3=[],Nhe=W(()=>{x3.forEach(t=>{t()}),x3=[]},"attachFunctions"),zhe=W(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function F8(t){const e=t.match(BI);if(!e)return{text:t,metadata:{}};let i=nJ(e[1],{schema:sJ})??{};i=typeof i=="object"&&!Array.isArray(i)?i:{};const s={};return i.displayMode&&(s.displayMode=i.displayMode.toString()),i.title&&(s.title=i.title.toString()),i.config&&(s.config=i.config),{text:t.slice(e[0].length),metadata:s}}W(F8,"extractFrontMatter");var Uhe=W(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,i,s)=>"<"+i+s.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),Hhe=W(t=>{const{text:e,metadata:i}=F8(t),{displayMode:s,title:n,config:l={}}=i;return s&&(l.gantt||(l.gantt={}),l.gantt.displayMode=s),{title:n,config:l,text:e}},"processFrontmatter"),Whe=W(t=>{const e=fa.detectInit(t)??{},i=fa.detectDirective(t,"wrap");return Array.isArray(i)?e.wrap=i.some(({type:s})=>s==="wrap"):(i==null?void 0:i.type)==="wrap"&&(e.wrap=!0),{text:xne(t),directive:e}},"processDirectives");function $T(t){const e=Uhe(t),i=Hhe(e),s=Whe(i.text),n=MT(i.config,s.directive);return t=zhe(s.text),{code:t,title:i.title,config:n}}W($T,"preprocessDiagram");function I8(t){const e=new TextEncoder().encode(t),i=Array.from(e,s=>String.fromCodePoint(s)).join("");return btoa(i)}W(I8,"toBase64");var jhe=5e4,qhe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",$he="sandbox",Vhe="loose",Yhe="http://www.w3.org/2000/svg",Ghe="http://www.w3.org/1999/xlink",Xhe="http://www.w3.org/1999/xhtml",Khe="100%",Zhe="100%",Qhe="border:0;margin:0;",Jhe="margin:0",eue="allow-top-navigation-by-user-activation allow-popups",tue='The "iframe" tag is not supported by your browser.',iue=["foreignobject"],rue=["dominant-baseline"];function VT(t){const e=$T(t);return cv(),xZ(e.config??{}),e}W(VT,"processAndSetConfigs");async function B8(t,e){Nb();try{const{code:i,config:s}=VT(t);return{diagramType:(await z8(i)).type,config:s}}catch(i){if(e!=null&&e.suppressErrors)return!1;throw i}}W(B8,"parse");var k3=W((t,e,i=[])=>`
.${t} ${e} { ${i.join(" !important; ")} !important; }`,"cssImportantStyles"),sue=W((t,e=new Map)=>{var s;let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const h=t.htmlLabels??((s=t.flowchart)==null?void 0:s.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(d=>{_3(d.styles)||h.forEach(f=>{i+=k3(d.id,f,d.styles)}),_3(d.textStyles)||(i+=k3(d.id,"tspan",((d==null?void 0:d.textStyles)||[]).map(f=>f.replace("color","fill"))))})}return i},"createCssStyles"),nue=W((t,e,i,s)=>{const n=sue(t,i),l=HZ(e,n,t.themeVariables);return jk(_le(`${s}{${l}}`),xle)},"createUserStyles"),aue=W((t="",e,i)=>{let s=t;return!i&&!e&&(s=s.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),s=bh(s),s=s.replace(/<br>/g,"<br/>"),s},"cleanUpSvgCode"),oue=W((t="",e)=>{var n,l;const i=(l=(n=e==null?void 0:e.viewBox)==null?void 0:n.baseVal)!=null&&l.height?e.viewBox.baseVal.height+"px":Zhe,s=I8(`<body style="${Jhe}">${t}</body>`);return`<iframe style="width:${Khe};height:${i};${Qhe}" src="data:text/html;charset=UTF-8;base64,${s}" sandbox="${eue}">
  ${tue}
</iframe>`},"putIntoIFrame"),S3=W((t,e,i,s,n)=>{const l=t.append("div");l.attr("id",i),s&&l.attr("style",s);const a=l.append("svg").attr("id",e).attr("width","100%").attr("xmlns",Yhe);return n&&a.attr("xmlns:xlink",n),a.append("g"),t},"appendDivSvgG");function Xk(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}W(Xk,"sandboxedIframe");var lue=W((t,e,i,s)=>{var n,l,a;(n=t.getElementById(e))==null||n.remove(),(l=t.getElementById(i))==null||l.remove(),(a=t.getElementById(s))==null||a.remove()},"removeExistingElements"),cue=W(async function(t,e,i){var w,M,D,I,H,j;Nb();const s=VT(e);e=s.code;const n=Es();Ne.debug(n),e.length>((n==null?void 0:n.maxTextSize)??jhe)&&(e=qhe);const l="#"+t,a="i"+t,h="#"+a,d="d"+t,f="#"+d,g=W(()=>{const ae=Si(x?h:f).node();ae&&"remove"in ae&&ae.remove()},"removeTempElements");let v=Si("body");const x=n.securityLevel===$he,b=n.securityLevel===Vhe,C=n.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),x){const $=Xk(Si(i),a);v=Si($.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=Si(i);S3(v,t,d,`font-family: ${C}`,Ghe)}else{if(lue(document,t,d,a),x){const $=Xk(Si("body"),a);v=Si($.nodes()[0].contentDocument.body),v.node().style.margin=0}else v=Si("body");S3(v,t,d)}let O,P;try{O=await Gk.fromText(e,{title:s.title})}catch($){if(n.suppressErrorRendering)throw g(),$;O=await Gk.fromText("error"),P=$}const L=v.select(f).node(),u=O.type,S=L.firstChild,y=S.firstChild,k=(M=(w=O.renderer).getClasses)==null?void 0:M.call(w,e,O),T=nue(n,u,k,l),A=document.createElement("style");A.innerHTML=T,S.insertBefore(A,y);try{await O.renderer.draw(e,t,d3.version,O)}catch($){throw n.suppressErrorRendering?g():Kce.draw(e,t,d3.version),$}const F=v.select(`${f} svg`),z=(I=(D=O.db).getAccTitle)==null?void 0:I.call(D),N=(j=(H=O.db).getAccDescription)==null?void 0:j.call(H);U8(u,F,z,N),v.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Xhe);let m=v.select(f).node().innerHTML;if(Ne.debug("config.arrowMarkerAbsolute",n.arrowMarkerAbsolute),m=aue(m,x,Yr(n.arrowMarkerAbsolute)),x){const $=v.select(f+" svg").node();m=oue(m,$)}else b||(m=zu.sanitize(m,{ADD_TAGS:iue,ADD_ATTR:rue,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Nhe(),P)throw P;return g(),{diagramType:u,svg:m,bindFunctions:O.db.bindFunctions}},"render");function N8(t={}){var s;const e=fs({},t);e!=null&&e.fontFamily&&!((s=e.themeVariables)!=null&&s.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),_Z(e),e!=null&&e.theme&&e.theme in zo?e.themeVariables=zo[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=zo.default.getThemeVariables(e.themeVariables));const i=typeof e=="object"?bZ(e):qI();$S(i.logLevel),Nb()}W(N8,"initialize");var z8=W((t,e={})=>{const{code:i}=$T(t);return Gk.fromText(i,e)},"getDiagramFromText");function U8(t,e,i,s){L8(e,t),R8(e,i,s,e.attr("id"))}W(U8,"addA11yInfo");var dh=Object.freeze({render:cue,parse:B8,getDiagramFromText:z8,initialize:N8,getConfig:Es,setConfig:$I,getSiteConfig:qI,updateSiteConfig:wZ,reset:W(()=>{cv()},"reset"),globalReset:W(()=>{cv(Uu)},"globalReset"),defaultConfig:Uu});$S(Es().logLevel);cv(Es());var hue=W((t,e,i)=>{Ne.warn(t),OT(t)?(i&&i(t.str,t.hash),e.push({...t,message:t.str,error:t})):(i&&i(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),H8=W(async function(t={querySelector:".mermaid"}){try{await uue(t)}catch(e){if(OT(e)&&Ne.error(e.str),kn.parseError&&kn.parseError(e),!t.suppressErrors)throw Ne.error("Use the suppressErrors option to suppress these errors"),e}},"run"),uue=W(async function({postRenderCallback:t,querySelector:e,nodes:i}={querySelector:".mermaid"}){const s=dh.getConfig();Ne.debug(`${t?"":"No "}Callback function found`);let n;if(i)n=i;else if(e)n=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");Ne.debug(`Found ${n.length} diagrams`),(s==null?void 0:s.startOnLoad)!==void 0&&(Ne.debug("Start On Load: "+(s==null?void 0:s.startOnLoad)),dh.updateSiteConfig({startOnLoad:s==null?void 0:s.startOnLoad}));const l=new fa.InitIDGenerator(s.deterministicIds,s.deterministicIDSeed);let a;const h=[];for(const d of Array.from(n)){if(Ne.info("Rendering diagram: "+d.id),d.getAttribute("data-processed"))continue;d.setAttribute("data-processed","true");const f=`mermaid-${l.next()}`;a=d.innerHTML,a=f4(fa.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const g=fa.detectInit(a);g&&Ne.debug("Detected early reinit: ",g);try{const{svg:v,bindFunctions:x}=await $8(f,a,d);d.innerHTML=v,t&&await t(f),x&&x(d)}catch(v){hue(v,h,kn.parseError)}}if(h.length>0)throw h[0]},"runThrowsErrors"),W8=W(function(t){dh.initialize(t)},"initialize"),due=W(async function(t,e,i){Ne.warn("mermaid.init is deprecated. Please use run instead."),t&&W8(t);const s={postRenderCallback:i,querySelector:".mermaid"};typeof e=="string"?s.querySelector=e:e&&(e instanceof HTMLElement?s.nodes=[e]:s.nodes=e),await H8(s)},"init"),fue=W(async(t,{lazyLoad:e=!0}={})=>{Nb(),tk(...t),e===!1&&await Ihe()},"registerExternalDiagrams"),j8=W(function(){if(kn.startOnLoad){const{startOnLoad:t}=dh.getConfig();t&&kn.run().catch(e=>Ne.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",j8,!1);var pue=W(function(t){kn.parseError=t},"setParseErrorHandler"),Wv=[],Ox=!1,q8=W(async()=>{if(!Ox){for(Ox=!0;Wv.length>0;){const t=Wv.shift();if(t)try{await t()}catch(e){Ne.error("Error executing queue",e)}}Ox=!1}},"executeQueue"),mue=W(async(t,e)=>new Promise((i,s)=>{const n=W(()=>new Promise((l,a)=>{dh.parse(t,e).then(h=>{l(h),i(h)},h=>{var d;Ne.error("Error parsing",h),(d=kn.parseError)==null||d.call(kn,h),a(h),s(h)})}),"performCall");Wv.push(n),q8().catch(s)}),"parse"),$8=W((t,e,i)=>new Promise((s,n)=>{const l=W(()=>new Promise((a,h)=>{dh.render(t,e,i).then(d=>{a(d),s(d)},d=>{var f;Ne.error("Error parsing",d),(f=kn.parseError)==null||f.call(kn,d),h(d),n(d)})}),"performCall");Wv.push(l),q8().catch(n)}),"render"),gue=W(()=>Object.keys(oh).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),kn={startOnLoad:!0,mermaidAPI:dh,parse:mue,render:$8,init:due,run:H8,registerExternalDiagrams:fue,registerLayoutLoaders:Q6,initialize:W8,parseError:void 0,contentLoaded:j8,setParseErrorHandler:pue,detectType:VS,registerIconPacks:zae,getRegisteredDiagramsMetadata:gue},yue=kn;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */function YT(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let wh=YT();function V8(t){wh=t}const Ep={exec:()=>null};function Hi(t,e=""){let i=typeof t=="string"?t:t.source;const s={replace:(n,l)=>{let a=typeof l=="string"?l:l.source;return a=a.replace(qs.caret,"$1"),i=i.replace(n,a),s},getRegex:()=>new RegExp(i,e)};return s}const qs={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},vue=/^(?:[ \t]*(?:\n|$))+/,bue=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,_ue=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,_m=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,wue=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,GT=/(?:[*+-]|\d{1,9}[.)])/,Y8=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,G8=Hi(Y8).replace(/bull/g,GT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),xue=Hi(Y8).replace(/bull/g,GT).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),XT=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,kue=/^[^\n]+/,KT=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Sue=Hi(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",KT).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Tue=Hi(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,GT).getRegex(),zb="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ZT=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Cue=Hi("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ZT).replace("tag",zb).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),X8=Hi(XT).replace("hr",_m).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zb).getRegex(),Eue=Hi(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",X8).getRegex(),QT={blockquote:Eue,code:bue,def:Sue,fences:_ue,heading:wue,hr:_m,html:Cue,lheading:G8,list:Tue,newline:vue,paragraph:X8,table:Ep,text:kue},T3=Hi("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",_m).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zb).getRegex(),Oue={...QT,lheading:xue,table:T3,paragraph:Hi(XT).replace("hr",_m).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",T3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",zb).getRegex()},Mue={...QT,html:Hi(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ZT).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Ep,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Hi(XT).replace("hr",_m).replace("heading",` *#{1,6} *[^
]`).replace("lheading",G8).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Aue=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Pue=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,K8=/^( {2,}|\\)\n(?!\s*$)/,Due=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ub=/[\p{P}\p{S}]/u,JT=/[\s\p{P}\p{S}]/u,Z8=/[^\s\p{P}\p{S}]/u,Lue=Hi(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,JT).getRegex(),Q8=/(?!~)[\p{P}\p{S}]/u,Rue=/(?!~)[\s\p{P}\p{S}]/u,Fue=/(?:[^\s\p{P}\p{S}]|~)/u,Iue=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,J8=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Bue=Hi(J8,"u").replace(/punct/g,Ub).getRegex(),Nue=Hi(J8,"u").replace(/punct/g,Q8).getRegex(),ez="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",zue=Hi(ez,"gu").replace(/notPunctSpace/g,Z8).replace(/punctSpace/g,JT).replace(/punct/g,Ub).getRegex(),Uue=Hi(ez,"gu").replace(/notPunctSpace/g,Fue).replace(/punctSpace/g,Rue).replace(/punct/g,Q8).getRegex(),Hue=Hi("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Z8).replace(/punctSpace/g,JT).replace(/punct/g,Ub).getRegex(),Wue=Hi(/\\(punct)/,"gu").replace(/punct/g,Ub).getRegex(),jue=Hi(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),que=Hi(ZT).replace("(?:-->|$)","-->").getRegex(),$ue=Hi("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",que).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),jv=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Vue=Hi(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",jv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),tz=Hi(/^!?\[(label)\]\[(ref)\]/).replace("label",jv).replace("ref",KT).getRegex(),iz=Hi(/^!?\[(ref)\](?:\[\])?/).replace("ref",KT).getRegex(),Yue=Hi("reflink|nolink(?!\\()","g").replace("reflink",tz).replace("nolink",iz).getRegex(),e2={_backpedal:Ep,anyPunctuation:Wue,autolink:jue,blockSkip:Iue,br:K8,code:Pue,del:Ep,emStrongLDelim:Bue,emStrongRDelimAst:zue,emStrongRDelimUnd:Hue,escape:Aue,link:Vue,nolink:iz,punctuation:Lue,reflink:tz,reflinkSearch:Yue,tag:$ue,text:Due,url:Ep},Gue={...e2,link:Hi(/^!?\[(label)\]\((.*?)\)/).replace("label",jv).getRegex(),reflink:Hi(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",jv).getRegex()},Kk={...e2,emStrongRDelimAst:Uue,emStrongLDelim:Nue,url:Hi(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Xue={...Kk,br:Hi(K8).replace("{2,}","*").getRegex(),text:Hi(Kk.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},by={normal:QT,gfm:Oue,pedantic:Mue},Zf={normal:e2,gfm:Kk,breaks:Xue,pedantic:Gue},Kue={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},C3=t=>Kue[t];function Ba(t,e){if(e){if(qs.escapeTest.test(t))return t.replace(qs.escapeReplace,C3)}else if(qs.escapeTestNoEncode.test(t))return t.replace(qs.escapeReplaceNoEncode,C3);return t}function E3(t){try{t=encodeURI(t).replace(qs.percentDecode,"%")}catch{return null}return t}function O3(t,e){var l;const i=t.replace(qs.findPipe,(a,h,d)=>{let f=!1,g=h;for(;--g>=0&&d[g]==="\\";)f=!f;return f?"|":" |"}),s=i.split(qs.splitPipe);let n=0;if(s[0].trim()||s.shift(),s.length>0&&!((l=s.at(-1))!=null&&l.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;n<s.length;n++)s[n]=s[n].trim().replace(qs.slashPipe,"|");return s}function Qf(t,e,i){const s=t.length;if(s===0)return"";let n=0;for(;n<s&&t.charAt(s-n-1)===e;)n++;return t.slice(0,s-n)}function Zue(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function M3(t,e,i,s,n){const l=e.href,a=e.title||null,h=t[1].replace(n.other.outputLinkReplace,"$1");s.state.inLink=!0;const d={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:l,title:a,text:h,tokens:s.inlineTokens(h)};return s.state.inLink=!1,d}function Que(t,e,i){const s=t.match(i.other.indentCodeCompensation);if(s===null)return e;const n=s[1];return e.split(`
`).map(l=>{const a=l.match(i.other.beginningSpace);if(a===null)return l;const[h]=a;return h.length>=n.length?l.slice(n.length):l}).join(`
`)}class qv{constructor(e){Wt(this,"options");Wt(this,"rules");Wt(this,"lexer");this.options=e||wh}space(e){const i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){const i=this.rules.block.code.exec(e);if(i){const s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Qf(s,`
`)}}}fences(e){const i=this.rules.block.fences.exec(e);if(i){const s=i[0],n=Que(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:n}}}heading(e){const i=this.rules.block.heading.exec(e);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){const n=Qf(s,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(s=n.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:Qf(i[0],`
`)}}blockquote(e){const i=this.rules.block.blockquote.exec(e);if(i){let s=Qf(i[0],`
`).split(`
`),n="",l="";const a=[];for(;s.length>0;){let h=!1;const d=[];let f;for(f=0;f<s.length;f++)if(this.rules.other.blockquoteStart.test(s[f]))d.push(s[f]),h=!0;else if(!h)d.push(s[f]);else break;s=s.slice(f);const g=d.join(`
`),v=g.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${g}`:g,l=l?`${l}
${v}`:v;const x=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(v,a,!0),this.lexer.state.top=x,s.length===0)break;const b=a.at(-1);if((b==null?void 0:b.type)==="code")break;if((b==null?void 0:b.type)==="blockquote"){const C=b,O=C.raw+`
`+s.join(`
`),P=this.blockquote(O);a[a.length-1]=P,n=n.substring(0,n.length-C.raw.length)+P.raw,l=l.substring(0,l.length-C.text.length)+P.text;break}else if((b==null?void 0:b.type)==="list"){const C=b,O=C.raw+`
`+s.join(`
`),P=this.list(O);a[a.length-1]=P,n=n.substring(0,n.length-b.raw.length)+P.raw,l=l.substring(0,l.length-C.raw.length)+P.raw,s=O.substring(a.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:a,text:l}}}list(e){let i=this.rules.block.list.exec(e);if(i){let s=i[1].trim();const n=s.length>1,l={type:"list",raw:"",ordered:n,start:n?+s.slice(0,-1):"",loose:!1,items:[]};s=n?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=n?s:"[*+-]");const a=this.rules.other.listItemRegex(s);let h=!1;for(;e;){let f=!1,g="",v="";if(!(i=a.exec(e))||this.rules.block.hr.test(e))break;g=i[0],e=e.substring(g.length);let x=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,u=>" ".repeat(3*u.length)),b=e.split(`
`,1)[0],C=!x.trim(),O=0;if(this.options.pedantic?(O=2,v=x.trimStart()):C?O=i[1].length+1:(O=i[2].search(this.rules.other.nonSpaceChar),O=O>4?1:O,v=x.slice(O),O+=i[1].length),C&&this.rules.other.blankLine.test(b)&&(g+=b+`
`,e=e.substring(b.length+1),f=!0),!f){const u=this.rules.other.nextBulletRegex(O),S=this.rules.other.hrRegex(O),y=this.rules.other.fencesBeginRegex(O),k=this.rules.other.headingBeginRegex(O),T=this.rules.other.htmlBeginRegex(O);for(;e;){const A=e.split(`
`,1)[0];let F;if(b=A,this.options.pedantic?(b=b.replace(this.rules.other.listReplaceNesting,"  "),F=b):F=b.replace(this.rules.other.tabCharGlobal,"    "),y.test(b)||k.test(b)||T.test(b)||u.test(b)||S.test(b))break;if(F.search(this.rules.other.nonSpaceChar)>=O||!b.trim())v+=`
`+F.slice(O);else{if(C||x.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(x)||k.test(x)||S.test(x))break;v+=`
`+b}!C&&!b.trim()&&(C=!0),g+=A+`
`,e=e.substring(A.length+1),x=F.slice(O)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(g)&&(h=!0));let P=null,L;this.options.gfm&&(P=this.rules.other.listIsTask.exec(v),P&&(L=P[0]!=="[ ] ",v=v.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:g,task:!!P,checked:L,loose:!1,text:v,tokens:[]}),l.raw+=g}const d=l.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let f=0;f<l.items.length;f++)if(this.lexer.state.top=!1,l.items[f].tokens=this.lexer.blockTokens(l.items[f].text,[]),!l.loose){const g=l.items[f].tokens.filter(x=>x.type==="space"),v=g.length>0&&g.some(x=>this.rules.other.anyLine.test(x.raw));l.loose=v}if(l.loose)for(let f=0;f<l.items.length;f++)l.items[f].loose=!0;return l}}html(e){const i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){const i=this.rules.block.def.exec(e);if(i){const s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:n,title:l}}}table(e){var h;const i=this.rules.block.table.exec(e);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;const s=O3(i[1]),n=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=i[3])!=null&&h.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],a={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===n.length){for(const d of n)this.rules.other.tableAlignRight.test(d)?a.align.push("right"):this.rules.other.tableAlignCenter.test(d)?a.align.push("center"):this.rules.other.tableAlignLeft.test(d)?a.align.push("left"):a.align.push(null);for(let d=0;d<s.length;d++)a.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:a.align[d]});for(const d of l)a.rows.push(O3(d,a.header.length).map((f,g)=>({text:f,tokens:this.lexer.inline(f),header:!1,align:a.align[g]})));return a}}lheading(e){const i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){const i=this.rules.block.paragraph.exec(e);if(i){const s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){const i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(e){const i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){const i=this.rules.inline.link.exec(e);if(i){const s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const a=Qf(s.slice(0,-1),"\\");if((s.length-a.length)%2===0)return}else{const a=Zue(i[2],"()");if(a===-2)return;if(a>-1){const d=(i[0].indexOf("!")===0?5:4)+i[1].length+a;i[2]=i[2].substring(0,a),i[0]=i[0].substring(0,d).trim(),i[3]=""}}let n=i[2],l="";if(this.options.pedantic){const a=this.rules.other.pedanticHrefTitle.exec(n);a&&(n=a[1],l=a[3])}else l=i[3]?i[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?n=n.slice(1):n=n.slice(1,-1)),M3(i,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(e,i){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const n=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=i[n.toLowerCase()];if(!l){const a=s[0].charAt(0);return{type:"text",raw:a,text:a}}return M3(s,l,s[0],this.lexer,this.rules)}}emStrong(e,i,s=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!n||n[3]&&s.match(this.rules.other.unicodeAlphaNumeric))return;if(!(n[1]||n[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const a=[...n[0]].length-1;let h,d,f=a,g=0;const v=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(v.lastIndex=0,i=i.slice(-1*e.length+a);(n=v.exec(i))!=null;){if(h=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!h)continue;if(d=[...h].length,n[3]||n[4]){f+=d;continue}else if((n[5]||n[6])&&a%3&&!((a+d)%3)){g+=d;continue}if(f-=d,f>0)continue;d=Math.min(d,d+f+g);const x=[...n[0]][0].length,b=e.slice(0,a+n.index+x+d);if(Math.min(a,d)%2){const O=b.slice(1,-1);return{type:"em",raw:b,text:O,tokens:this.lexer.inlineTokens(O)}}const C=b.slice(2,-2);return{type:"strong",raw:b,text:C,tokens:this.lexer.inlineTokens(C)}}}}codespan(e){const i=this.rules.inline.code.exec(e);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," ");const n=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return n&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(e){const i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){const i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){const i=this.rules.inline.autolink.exec(e);if(i){let s,n;return i[2]==="@"?(s=i[1],n="mailto:"+s):(s=i[1],n=s),{type:"link",raw:i[0],text:s,href:n,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let i;if(i=this.rules.inline.url.exec(e)){let n,l;if(i[2]==="@")n=i[0],l="mailto:"+n;else{let a;do a=i[0],i[0]=((s=this.rules.inline._backpedal.exec(i[0]))==null?void 0:s[0])??"";while(a!==i[0]);n=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:n,href:l,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(e){const i=this.rules.inline.text.exec(e);if(i){const s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}}class Nn{constructor(e){Wt(this,"tokens");Wt(this,"options");Wt(this,"state");Wt(this,"tokenizer");Wt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||wh,this.options.tokenizer=this.options.tokenizer||new qv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:qs,block:by.normal,inline:Zf.normal};this.options.pedantic?(i.block=by.pedantic,i.inline=Zf.pedantic):this.options.gfm&&(i.block=by.gfm,this.options.breaks?i.inline=Zf.breaks:i.inline=Zf.gfm),this.tokenizer.rules=i}static get rules(){return{block:by,inline:Zf}}static lex(e,i){return new Nn(i).lex(e)}static lexInline(e,i){return new Nn(i).inlineTokens(e)}lex(e){e=e.replace(qs.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var n,l,a;for(this.options.pedantic&&(e=e.replace(qs.tabCharGlobal,"    ").replace(qs.spaceLine,""));e;){let h;if((l=(n=this.options.extensions)==null?void 0:n.block)!=null&&l.some(f=>(h=f.call({lexer:this},e,i))?(e=e.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(e)){e=e.substring(h.raw.length);const f=i.at(-1);h.raw.length===1&&f!==void 0?f.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(e)){e=e.substring(h.raw.length);const f=i.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.at(-1).src=f.text):i.push(h);continue}if(h=this.tokenizer.fences(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(e)){e=e.substring(h.raw.length);const f=i.at(-1);(f==null?void 0:f.type)==="paragraph"||(f==null?void 0:f.type)==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.raw,this.inlineQueue.at(-1).src=f.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title});continue}if(h=this.tokenizer.table(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(e)){e=e.substring(h.raw.length),i.push(h);continue}let d=e;if((a=this.options.extensions)!=null&&a.startBlock){let f=1/0;const g=e.slice(1);let v;this.options.extensions.startBlock.forEach(x=>{v=x.call({lexer:this},g),typeof v=="number"&&v>=0&&(f=Math.min(f,v))}),f<1/0&&f>=0&&(d=e.substring(0,f+1))}if(this.state.top&&(h=this.tokenizer.paragraph(d))){const f=i.at(-1);s&&(f==null?void 0:f.type)==="paragraph"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):i.push(h),s=d.length!==e.length,e=e.substring(h.raw.length);continue}if(h=this.tokenizer.text(e)){e=e.substring(h.raw.length);const f=i.at(-1);(f==null?void 0:f.type)==="text"?(f.raw+=`
`+h.raw,f.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=f.text):i.push(h);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var h,d,f;let s=e,n=null;if(this.tokens.links){const g=Object.keys(this.tokens.links);if(g.length>0)for(;(n=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)g.includes(n[0].slice(n[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(n=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,n.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(n=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,n.index)+"["+"a".repeat(n[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,a="";for(;e;){l||(a=""),l=!1;let g;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(x=>(g=x.call({lexer:this},e,i))?(e=e.substring(g.raw.length),i.push(g),!0):!1))continue;if(g=this.tokenizer.escape(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.tag(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.link(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(g.raw.length);const x=i.at(-1);g.type==="text"&&(x==null?void 0:x.type)==="text"?(x.raw+=g.raw,x.text+=g.text):i.push(g);continue}if(g=this.tokenizer.emStrong(e,s,a)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.codespan(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.br(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.del(e)){e=e.substring(g.raw.length),i.push(g);continue}if(g=this.tokenizer.autolink(e)){e=e.substring(g.raw.length),i.push(g);continue}if(!this.state.inLink&&(g=this.tokenizer.url(e))){e=e.substring(g.raw.length),i.push(g);continue}let v=e;if((f=this.options.extensions)!=null&&f.startInline){let x=1/0;const b=e.slice(1);let C;this.options.extensions.startInline.forEach(O=>{C=O.call({lexer:this},b),typeof C=="number"&&C>=0&&(x=Math.min(x,C))}),x<1/0&&x>=0&&(v=e.substring(0,x+1))}if(g=this.tokenizer.inlineText(v)){e=e.substring(g.raw.length),g.raw.slice(-1)!=="_"&&(a=g.raw.slice(-1)),l=!0;const x=i.at(-1);(x==null?void 0:x.type)==="text"?(x.raw+=g.raw,x.text+=g.text):i.push(g);continue}if(e){const x="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(x);break}else throw new Error(x)}}return i}}class $v{constructor(e){Wt(this,"options");Wt(this,"parser");this.options=e||wh}space(e){return""}code({text:e,lang:i,escaped:s}){var a;const n=(a=(i||"").match(qs.notSpaceStart))==null?void 0:a[0],l=e.replace(qs.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Ba(n)+'">'+(s?l:Ba(l,!0))+`</code></pre>
`:"<pre><code>"+(s?l:Ba(l,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){const i=e.ordered,s=e.start;let n="";for(let h=0;h<e.items.length;h++){const d=e.items[h];n+=this.listitem(d)}const l=i?"ol":"ul",a=i&&s!==1?' start="'+s+'"':"";return"<"+l+a+`>
`+n+"</"+l+`>
`}listitem(e){var s;let i="";if(e.task){const n=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=n+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=n+" "+Ba(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:n+" ",text:n+" ",escaped:!0}):i+=n+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",s="";for(let l=0;l<e.header.length;l++)s+=this.tablecell(e.header[l]);i+=this.tablerow({text:s});let n="";for(let l=0;l<e.rows.length;l++){const a=e.rows[l];s="";for(let h=0;h<a.length;h++)s+=this.tablecell(a[h]);n+=this.tablerow({text:s})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const i=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Ba(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:s}){const n=this.parser.parseInline(s),l=E3(e);if(l===null)return n;e=l;let a='<a href="'+e+'"';return i&&(a+=' title="'+Ba(i)+'"'),a+=">"+n+"</a>",a}image({href:e,title:i,text:s,tokens:n}){n&&(s=this.parser.parseInline(n,this.parser.textRenderer));const l=E3(e);if(l===null)return Ba(s);e=l;let a=`<img src="${e}" alt="${s}"`;return i&&(a+=` title="${Ba(i)}"`),a+=">",a}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Ba(e.text)}}class t2{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class zn{constructor(e){Wt(this,"options");Wt(this,"renderer");Wt(this,"textRenderer");this.options=e||wh,this.options.renderer=this.options.renderer||new $v,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new t2}static parse(e,i){return new zn(i).parse(e)}static parseInline(e,i){return new zn(i).parseInline(e)}parse(e,i=!0){var n,l;let s="";for(let a=0;a<e.length;a++){const h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){const f=h,g=this.options.extensions.renderers[f.type].call({parser:this},f);if(g!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(f.type)){s+=g||"";continue}}const d=h;switch(d.type){case"space":{s+=this.renderer.space(d);continue}case"hr":{s+=this.renderer.hr(d);continue}case"heading":{s+=this.renderer.heading(d);continue}case"code":{s+=this.renderer.code(d);continue}case"table":{s+=this.renderer.table(d);continue}case"blockquote":{s+=this.renderer.blockquote(d);continue}case"list":{s+=this.renderer.list(d);continue}case"html":{s+=this.renderer.html(d);continue}case"paragraph":{s+=this.renderer.paragraph(d);continue}case"text":{let f=d,g=this.renderer.text(f);for(;a+1<e.length&&e[a+1].type==="text";)f=e[++a],g+=`
`+this.renderer.text(f);i?s+=this.renderer.paragraph({type:"paragraph",raw:g,text:g,tokens:[{type:"text",raw:g,text:g,escaped:!0}]}):s+=g;continue}default:{const f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return s}parseInline(e,i=this.renderer){var n,l;let s="";for(let a=0;a<e.length;a++){const h=e[a];if((l=(n=this.options.extensions)==null?void 0:n.renderers)!=null&&l[h.type]){const f=this.options.extensions.renderers[h.type].call({parser:this},h);if(f!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){s+=f||"";continue}}const d=h;switch(d.type){case"escape":{s+=i.text(d);break}case"html":{s+=i.html(d);break}case"link":{s+=i.link(d);break}case"image":{s+=i.image(d);break}case"strong":{s+=i.strong(d);break}case"em":{s+=i.em(d);break}case"codespan":{s+=i.codespan(d);break}case"br":{s+=i.br(d);break}case"del":{s+=i.del(d);break}case"text":{s+=i.text(d);break}default:{const f='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(f),"";throw new Error(f)}}}return s}}class Op{constructor(e){Wt(this,"options");Wt(this,"block");this.options=e||wh}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?Nn.lex:Nn.lexInline}provideParser(){return this.block?zn.parse:zn.parseInline}}Wt(Op,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Jue{constructor(...e){Wt(this,"defaults",YT());Wt(this,"options",this.setOptions);Wt(this,"parse",this.parseMarkdown(!0));Wt(this,"parseInline",this.parseMarkdown(!1));Wt(this,"Parser",zn);Wt(this,"Renderer",$v);Wt(this,"TextRenderer",t2);Wt(this,"Lexer",Nn);Wt(this,"Tokenizer",qv);Wt(this,"Hooks",Op);this.use(...e)}walkTokens(e,i){var n,l;let s=[];for(const a of e)switch(s=s.concat(i.call(this,a)),a.type){case"table":{const h=a;for(const d of h.header)s=s.concat(this.walkTokens(d.tokens,i));for(const d of h.rows)for(const f of d)s=s.concat(this.walkTokens(f.tokens,i));break}case"list":{const h=a;s=s.concat(this.walkTokens(h.items,i));break}default:{const h=a;(l=(n=this.defaults.extensions)==null?void 0:n.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(d=>{const f=h[d].flat(1/0);s=s.concat(this.walkTokens(f,i))}):h.tokens&&(s=s.concat(this.walkTokens(h.tokens,i)))}}return s}use(...e){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const n={...s};if(n.async=this.defaults.async||n.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const a=i.renderers[l.name];a?i.renderers[l.name]=function(...h){let d=l.renderer.apply(this,h);return d===!1&&(d=a.apply(this,h)),d}:i.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const a=i[l.level];a?a.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),n.extensions=i),s.renderer){const l=this.defaults.renderer||new $v(this.defaults);for(const a in s.renderer){if(!(a in l))throw new Error(`renderer '${a}' does not exist`);if(["options","parser"].includes(a))continue;const h=a,d=s.renderer[h],f=l[h];l[h]=(...g)=>{let v=d.apply(l,g);return v===!1&&(v=f.apply(l,g)),v||""}}n.renderer=l}if(s.tokenizer){const l=this.defaults.tokenizer||new qv(this.defaults);for(const a in s.tokenizer){if(!(a in l))throw new Error(`tokenizer '${a}' does not exist`);if(["options","rules","lexer"].includes(a))continue;const h=a,d=s.tokenizer[h],f=l[h];l[h]=(...g)=>{let v=d.apply(l,g);return v===!1&&(v=f.apply(l,g)),v}}n.tokenizer=l}if(s.hooks){const l=this.defaults.hooks||new Op;for(const a in s.hooks){if(!(a in l))throw new Error(`hook '${a}' does not exist`);if(["options","block"].includes(a))continue;const h=a,d=s.hooks[h],f=l[h];Op.passThroughHooks.has(a)?l[h]=g=>{if(this.defaults.async)return Promise.resolve(d.call(l,g)).then(x=>f.call(l,x));const v=d.call(l,g);return f.call(l,v)}:l[h]=(...g)=>{let v=d.apply(l,g);return v===!1&&(v=f.apply(l,g)),v}}n.hooks=l}if(s.walkTokens){const l=this.defaults.walkTokens,a=s.walkTokens;n.walkTokens=function(h){let d=[];return d.push(a.call(this,h)),l&&(d=d.concat(l.call(this,h))),d}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return Nn.lex(e,i??this.defaults)}parser(e,i){return zn.parse(e,i??this.defaults)}parseMarkdown(e){return(s,n)=>{const l={...n},a={...this.defaults,...l},h=this.onError(!!a.silent,!!a.async);if(this.defaults.async===!0&&l.async===!1)return h(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));a.hooks&&(a.hooks.options=a,a.hooks.block=e);const d=a.hooks?a.hooks.provideLexer():e?Nn.lex:Nn.lexInline,f=a.hooks?a.hooks.provideParser():e?zn.parse:zn.parseInline;if(a.async)return Promise.resolve(a.hooks?a.hooks.preprocess(s):s).then(g=>d(g,a)).then(g=>a.hooks?a.hooks.processAllTokens(g):g).then(g=>a.walkTokens?Promise.all(this.walkTokens(g,a.walkTokens)).then(()=>g):g).then(g=>f(g,a)).then(g=>a.hooks?a.hooks.postprocess(g):g).catch(h);try{a.hooks&&(s=a.hooks.preprocess(s));let g=d(s,a);a.hooks&&(g=a.hooks.processAllTokens(g)),a.walkTokens&&this.walkTokens(g,a.walkTokens);let v=f(g,a);return a.hooks&&(v=a.hooks.postprocess(v)),v}catch(g){return h(g)}}}onError(e,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const n="<p>An error occurred:</p><pre>"+Ba(s.message+"",!0)+"</pre>";return i?Promise.resolve(n):n}if(i)return Promise.reject(s);throw s}}}const fh=new Jue;function $i(t,e){return fh.parse(t,e)}$i.options=$i.setOptions=function(t){return fh.setOptions(t),$i.defaults=fh.defaults,V8($i.defaults),$i};$i.getDefaults=YT;$i.defaults=wh;$i.use=function(...t){return fh.use(...t),$i.defaults=fh.defaults,V8($i.defaults),$i};$i.walkTokens=function(t,e){return fh.walkTokens(t,e)};$i.parseInline=fh.parseInline;$i.Parser=zn;$i.parser=zn.parse;$i.Renderer=$v;$i.TextRenderer=t2;$i.Lexer=Nn;$i.lexer=Nn.lex;$i.Tokenizer=qv;$i.Hooks=Op;$i.parse=$i;$i.options;$i.setOptions;$i.use;$i.walkTokens;$i.parseInline;zn.parse;Nn.lex;window.luxon={DateTime:ZH,Duration:KH,Interval:XH,Info:GH,Settings:YH};window.moment=yt;window.flatpickr=Fr;window.Sortable=Jt;window.Popper={createPopper:YF};window.tippy=am;window.confetti=aG;window.Croppie=lG;window.Packery=fG;window.imagesLoaded=gG;window.Shepherd=qc;window.Isotope=xK;window.GridStack=$L.GridStack||$L;(0,eval)(TK);window.mermaid=yue;window.marked=$i;export{CR as $,xp as A,sZ as B,KZ as C,MT as D,WI as E,Es as F,Ene as G,nle as H,d3 as I,sJ as J,dZ as K,Wu as L,sde as M,Ob as N,ZI as O,YS as P,sR as Q,Fie as R,By as S,Cne as T,um as U,ti as V,Xa as W,Pie as X,ER as Y,vne as Z,W as _,qZ as a,FB as a$,mde as a0,hde as a1,fde as a2,dde as a3,lde as a4,mT as a5,pde as a6,cde as a7,Qh as a8,yde as a9,Dt as aA,Tde as aB,Noe as aC,Roe as aD,Loe as aE,Hae as aF,Die as aG,om as aH,Qu as aI,vm as aJ,zae as aK,Nae as aL,uT as aM,gl as aN,$p as aO,_R as aP,ute as aQ,gh as aR,mne as aS,jN as aT,kb as aU,Eb as aV,Pv as aW,$N as aX,WN as aY,$se as aZ,Lt as a_,gde as aa,ude as ab,NZ as ac,hm as ad,St as ae,zt as af,JI as ag,doe as ah,K6 as ai,Ede as aj,aJ as ak,Yr as al,Rl as am,aT as an,T4 as ao,bh as ap,ZN as aq,pne as ar,ase as as,one as at,_T as au,_3 as av,ile as aw,Cde as ax,Ode as ay,Sde as az,jZ as b,nn as b0,ste as b1,hT as b2,KB as b3,pm as b4,JB as b5,ode as b6,MK as b7,fne as b8,ane as b9,Vk as bA,gne as bB,Cb as bC,Vi as bD,Yre as ba,wT as bb,Hse as bc,yne as bd,gm as be,rd as bf,Ov as bg,Qse as bh,Cle as bi,mm as bj,Av as bk,Vse as bl,IN as bm,Kre as bn,Zre as bo,Uc as bp,WR as bq,Qre as br,xT as bs,Xre as bt,tse as bu,sd as bv,Ll as bw,BR as bx,kT as by,NN as bz,Ni as c,Si as d,QI as e,fs as f,VZ as g,Vo as h,$n as i,IB as j,td as k,Ne as l,JN as m,nde as n,Ade as o,YZ as p,GZ as q,Mde as r,$Z as s,nJ as t,fa as u,Aoe as v,Ane as w,vde as x,WZ as y,ade as z};
