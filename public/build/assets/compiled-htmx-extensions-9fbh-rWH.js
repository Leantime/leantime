import{h as c}from"./htmx.esm-C4H8dPyO.js";(function(){var n=null;function x(p,f){if(p&&p.indexOf("<head")>-1){const v=document.createElement("html");var h=p.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),E=h.match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(E){var S=[],m=[],r=[],o=[];v.innerHTML=E;var e=v.querySelector("head"),t=document.head;if(e==null)return;var a=new Map;for(const u of e.children)a.set(u.outerHTML,u);var s=n.getAttributeValue(e,"hx-head")||f;for(const u of t.children){var i=a.has(u.outerHTML),l=u.getAttribute("hx-head")==="re-eval",d=n.getAttributeValue(u,"hx-preserve")==="true";i||d?l?m.push(u):(a.delete(u.outerHTML),r.push(u)):s==="append"?l&&(m.push(u),o.push(u)):n.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:u})!==!1&&m.push(u)}o.push(...a.values());for(const u of o){var g=document.createRange().createContextualFragment(u.outerHTML);n.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:g})!==!1&&(t.appendChild(g),S.push(g))}for(const u of m)n.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:u})!==!1&&t.removeChild(u);n.triggerEvent(document.body,"htmx:afterHeadMerge",{added:S,kept:r,removed:m})}}}c.defineExtension("head-support",{init:function(p){n=p,c.on("htmx:afterSwap",function(f){let h=f.detail.xhr;if(h){var E=h.response;n.triggerEvent(document.body,"htmx:beforeHeadMerge",f.detail)&&x(E,f.detail.boosted?"merge":"append")}}),c.on("htmx:historyRestore",function(f){n.triggerEvent(document.body,"htmx:beforeHeadMerge",f.detail)&&(f.detail.cacheMiss?x(f.detail.serverResponse,"merge"):x(f.detail.item.head,"merge"))}),c.on("htmx:historyItemCreated",function(f){var h=f.detail.item;h.head=document.head.outerHTML})}})})();(function(){c.defineExtension("preload",{onEvent:function(e,t){if(e==="htmx:afterProcessNode"){const a=t.target||t.detail.elt;[...a.hasAttribute("preload")?[a]:[],...a.querySelectorAll("[preload]")].forEach(function(i){n(i),i.querySelectorAll("[href],[hx-get],[data-hx-get]").forEach(n)});return}if(e==="htmx:beforeRequest"){const a=t.detail.requestConfig.headers;if(!("HX-Preloaded"in a&&a["HX-Preloaded"]==="true"))return;t.preventDefault();const s=t.detail.xhr;s.onload=function(){S(t.detail.elt,s.responseText)},s.onerror=null,s.onabort=null,s.ontimeout=null,s.send()}}});function n(e){if(e.preloadState!==void 0||!r(e))return;if(e instanceof HTMLFormElement){const i=e;if(!(i.hasAttribute("method")&&i.method==="get"||i.hasAttribute("hx-get")||i.hasAttribute("hx-data-get")))return;for(let l=0;l<i.elements.length;l++){const d=i.elements.item(l);n(d),"labels"in d&&d.labels.forEach(n)}return}let t=m(e,"preload");e.preloadAlways=t&&t.includes("always"),e.preloadAlways&&(t=t.replace("always","").trim());let a=t||"mousedown";const s=a==="mouseover";e.addEventListener(a,x(e,s),{passive:!0}),(a==="mousedown"||a==="mouseover")&&e.addEventListener("touchstart",x(e),{passive:!0}),a==="mouseover"&&e.addEventListener("mouseout",function(i){i.target===e&&e.preloadState==="TIMEOUT"&&(e.preloadState="READY")},{passive:!0}),e.preloadState="READY",c.trigger(e,"preload:init")}function x(e,t=!1){return function(){if(e.preloadState==="READY"){if(t){e.preloadState="TIMEOUT",window.setTimeout(function(){e.preloadState==="TIMEOUT"&&(e.preloadState="READY",p(e))},100);return}p(e)}}}function p(e){if(e.preloadState!=="READY")return;e.preloadState="LOADING";const t=e.getAttribute("hx-get")||e.getAttribute("data-hx-get");if(t){h(t,e);return}const a=m(e,"hx-boost")==="true";if(e.hasAttribute("href")){const s=e.getAttribute("href");a?h(s,e):E(s,e);return}if(o(e)){const s=e.form.getAttribute("action")||e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get"),i=c.values(e.form),d=!(e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get")||a)?E:h;if(e.type==="submit"){d(s,e.form,i);return}const g=e.name||e.control.name;if(e.tagName==="SELECT"){Array.from(e.options).forEach(b=>{if(b.selected)return;i.set(g,b.value);const M=f(e.form,i);d(s,e.form,M)});return}const v=e.getAttribute("type")||e.control.getAttribute("type"),u=e.value||e.control?.value;if(v==="radio")i.set(g,u);else if(v==="checkbox"){const b=i.getAll(g);b.includes(u)?i[g]=b.filter(M=>M!==u):i.append(g,u)}const A=f(e.form,i);d(s,e.form,A);return}}function f(e,t){const a=e.elements,s=new FormData;for(let i=0;i<a.length;i++){const l=a.item(i);if(t.has(l.name)&&l.tagName==="SELECT"){s.append(l.name,t.get(l.name));continue}t.has(l.name)&&t.getAll(l.name).includes(l.value)&&s.append(l.name,l.value)}return s}function h(e,t,a=void 0){c.ajax("GET",e,{source:t,values:a,headers:{"HX-Preloaded":"true"}})}function E(e,t,a=void 0){const s=new XMLHttpRequest;a&&(e+="?"+new URLSearchParams(a.entries()).toString()),s.open("GET",e),s.setRequestHeader("HX-Preloaded","true"),s.onload=function(){S(t,s.responseText)},s.send()}function S(e,t){e.preloadState=e.preloadAlways?"READY":"DONE",m(e,"preload-images")==="true"&&(document.createElement("div").innerHTML=t)}function m(e,t){if(e!=null)return e.getAttribute(t)||e.getAttribute("data-"+t)||m(e.parentElement,t)}function r(e){const t=["href","hx-get","data-hx-get"],a=i=>t.some(l=>i.hasAttribute(l))||i.method==="get",s=e.form instanceof HTMLFormElement&&a(e.form)&&o(e);return!(!a(e)&&!s||e instanceof HTMLInputElement&&e.closest("label"))}function o(e){if(e instanceof HTMLInputElement||e instanceof HTMLButtonElement){const t=e.getAttribute("type");return["checkbox","radio","submit"].includes(t)}return e instanceof HTMLLabelElement?e.control&&o(e.control):e instanceof HTMLSelectElement}})();(function(){var n;c.defineExtension("sse",{init:function(r){n=r,c.createEventSource==null&&(c.createEventSource=x)},getSelectors:function(){return["[sse-connect]","[data-sse-connect]","[sse-swap]","[data-sse-swap]"]},onEvent:function(r,o){var e=o.target||o.detail.elt;switch(r){case"htmx:beforeCleanupElement":var t=n.getInternalData(e),a=t.sseEventSource;a&&(n.triggerEvent(e,"htmx:sseClose",{source:a,type:"nodeReplaced"}),t.sseEventSource.close());return;case"htmx:afterProcessNode":f(e)}}});function x(r){return new EventSource(r,{withCredentials:!0})}function p(r){if(n.getAttributeValue(r,"sse-swap")){var o=n.getClosestMatch(r,m);if(o==null)return null;for(var e=n.getInternalData(o),t=e.sseEventSource,a=n.getAttributeValue(r,"sse-swap"),s=a.split(","),i=0;i<s.length;i++){const d=s[i].trim(),g=function(v){if(!E(o)){if(!n.bodyContains(r)){t.removeEventListener(d,g);return}n.triggerEvent(r,"htmx:sseBeforeMessage",v)&&(S(r,v.data),n.triggerEvent(r,"htmx:sseMessage",v))}};n.getInternalData(r).sseEventListener=g,t.addEventListener(d,g)}}if(n.getAttributeValue(r,"hx-trigger")){var o=n.getClosestMatch(r,m);if(o==null)return null;var e=n.getInternalData(o),t=e.sseEventSource,l=n.getTriggerSpecs(r);l.forEach(function(u){if(u.trigger.slice(0,4)==="sse:"){var A=function(b){E(o)||(n.bodyContains(r)||t.removeEventListener(u.trigger.slice(4),A),c.trigger(r,u.trigger,b),c.trigger(r,"htmx:sseMessage",b))};n.getInternalData(r).sseEventListener=A,t.addEventListener(u.trigger.slice(4),A)}})}}function f(r,o){if(r==null)return null;if(n.getAttributeValue(r,"sse-connect")){var e=n.getAttributeValue(r,"sse-connect");if(e==null)return;h(r,e,o)}p(r)}function h(r,o,e){var t=c.createEventSource(o);t.onerror=function(s){if(n.triggerErrorEvent(r,"htmx:sseError",{error:s,source:t}),!E(r)&&t.readyState===EventSource.CLOSED){e=e||0,e=Math.max(Math.min(e*2,128),1);var i=e*500;window.setTimeout(function(){f(r,e)},i)}},t.onopen=function(s){if(n.triggerEvent(r,"htmx:sseOpen",{source:t}),e&&e>0){const i=r.querySelectorAll("[sse-swap], [data-sse-swap], [hx-trigger], [data-hx-trigger]");for(let l=0;l<i.length;l++)p(i[l]);e=0}},n.getInternalData(r).sseEventSource=t;var a=n.getAttributeValue(r,"sse-close");a&&t.addEventListener(a,function(){n.triggerEvent(r,"htmx:sseClose",{source:t,type:"message"}),t.close()})}function E(r){if(!n.bodyContains(r)){var o=n.getInternalData(r).sseEventSource;if(o!=null)return n.triggerEvent(r,"htmx:sseClose",{source:o,type:"nodeMissing"}),o.close(),!0}return!1}function S(r,o){n.withExtensions(r,function(a){o=a.transformResponse(o,null,r)});var e=n.getSwapSpecification(r),t=n.getTarget(r);n.swap(t,o,e,{contextElement:r})}function m(r){return n.getInternalData(r).sseEventSource!=null}})();
