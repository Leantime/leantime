(function(){var n=null;function E(g,o){if(g&&g.indexOf("<head")>-1){const l=document.createElement("html");var v=g.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),t=v.match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(t){var f=[],c=[],h=[],m=[];l.innerHTML=t;var d=l.querySelector("head"),S=document.head;if(d==null)return;var p=new Map;for(const u of d.children)p.set(u.outerHTML,u);var e=n.getAttributeValue(d,"hx-head")||o;for(const u of S.children){var r=p.has(u.outerHTML),a=u.getAttribute("hx-head")==="re-eval",i=n.getAttributeValue(u,"hx-preserve")==="true";r||i?a?c.push(u):(p.delete(u.outerHTML),h.push(u)):e==="append"?a&&(c.push(u),m.push(u)):n.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:u})!==!1&&c.push(u)}m.push(...p.values());for(const u of m){var s=document.createRange().createContextualFragment(u.outerHTML);n.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:s})!==!1&&(S.appendChild(s),f.push(s))}for(const u of c)n.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:u})!==!1&&S.removeChild(u);n.triggerEvent(document.body,"htmx:afterHeadMerge",{added:f,kept:h,removed:c})}}}htmx.defineExtension("head-support",{init:function(g){n=g,htmx.on("htmx:afterSwap",function(o){var v=o.detail.xhr.response;n.triggerEvent(document.body,"htmx:beforeHeadMerge",o.detail)&&E(v,o.detail.boosted?"merge":"append")}),htmx.on("htmx:historyRestore",function(o){n.triggerEvent(document.body,"htmx:beforeHeadMerge",o.detail)&&(o.detail.cacheMiss?E(o.detail.serverResponse,"merge"):E(o.detail.item.head,"merge"))}),htmx.on("htmx:historyItemCreated",function(o){var v=o.detail.item;v.head=document.head.outerHTML})}})})();htmx.defineExtension("preload",{onEvent:function(n,E){if(n==="htmx:afterProcessNode"){var g=function(t,f){if(t!=null)return t.getAttribute(f)||t.getAttribute("data-"+f)||g(t.parentElement,f)},o=function(t){var f=function(c){t.preloadAlways||(t.preloadState="DONE"),g(t,"preload-images")=="true"&&(document.createElement("div").innerHTML=c)};return function(){if(t.preloadState==="READY"){var c=t.getAttribute("hx-get")||t.getAttribute("data-hx-get");if(c){htmx.ajax("GET",c,{source:t,handler:function(m,d){f(d.xhr.responseText)}});return}if(t.getAttribute("href")){var h=new XMLHttpRequest;h.open("GET",t.getAttribute("href")),h.onload=function(){f(h.responseText)},h.send();return}}}},v=function(t){if(t.getAttribute("href")+t.getAttribute("hx-get")+t.getAttribute("data-hx-get")==""||t.preloadState!==void 0)return;var f=g(t,"preload")||"mousedown";const c=f.indexOf("always")!==-1;switch(c&&(f=f.replace("always","").trim()),t.addEventListener(f,function(h){t.preloadState==="PAUSE"&&(t.preloadState="READY",f==="mouseover"?window.setTimeout(o(t),100):o(t)())}),f){case"mouseover":t.addEventListener("touchstart",o(t)),t.addEventListener("mouseout",function(h){h.target===t&&t.preloadState==="READY"&&(t.preloadState="PAUSE")});break;case"mousedown":t.addEventListener("touchstart",o(t));break}t.preloadState="PAUSE",t.preloadAlways=c,htmx.trigger(t,"preload:init")};E.target.querySelectorAll("[preload]").forEach(function(t){v(t),t.querySelectorAll("a,[hx-get],[data-hx-get]").forEach(v)})}}});(function(){var n;htmx.defineExtension("sse",{init:function(e){n=e,htmx.createEventSource==null&&(htmx.createEventSource=E)},onEvent:function(e,r){var a=r.target||r.detail.elt;switch(e){case"htmx:beforeCleanupElement":var i=n.getInternalData(a);i.sseEventSource&&i.sseEventSource.close();return;case"htmx:afterProcessNode":f(a)}}});function E(e){return new EventSource(e,{withCredentials:!0})}function g(e){return e.trim().split(/\s+/)}function o(e){var r=n.getAttributeValue(e,"hx-sse");if(r)for(var a=g(r),i=0;i<a.length;i++){var s=a[i].split(/:(.+)/);if(s[0]==="connect")return s[1]}}function v(e){var r=n.getAttributeValue(e,"hx-sse"),a=[];if(r!=null)for(var i=g(r),s=0;s<i.length;s++){var l=i[s].split(/:(.+)/);l[0]==="swap"&&a.push(l[1])}return a}function t(e){m(e,"sse-swap").forEach(function(r){var a=n.getClosestMatch(r,p);if(a==null)return null;var i=n.getInternalData(a),s=i.sseEventSource,l=n.getAttributeValue(r,"sse-swap");if(l)var u=l.split(",");else var u=v(r);for(var x=0;x<u.length;x++){var L=u[x].trim(),b=function(A){if(!h(a)){if(!n.bodyContains(r)){s.removeEventListener(L,b);return}n.triggerEvent(e,"htmx:sseBeforeMessage",A)&&(d(r,A.data),n.triggerEvent(e,"htmx:sseMessage",A))}};n.getInternalData(r).sseEventListener=b,s.addEventListener(L,b)}}),m(e,"hx-trigger").forEach(function(r){var a=n.getClosestMatch(r,p);if(a==null)return null;var i=n.getInternalData(a);i.sseEventSource;var s=n.getAttributeValue(r,"hx-trigger");s!=null&&s.slice(0,4)=="sse:"&&(s=s.substr(4))})}function f(e,r){if(e==null)return null;m(e,"sse-connect").forEach(function(a){var i=n.getAttributeValue(a,"sse-connect");i!=null&&c(a,i,r)}),m(e,"hx-sse").forEach(function(a){var i=o(a);i!=null&&c(a,i,r)}),t(e)}function c(e,r,a){var i=htmx.createEventSource(r);i.onerror=function(s){if(n.triggerErrorEvent(e,"htmx:sseError",{error:s,source:i}),!h(e)&&i.readyState===EventSource.CLOSED){a=a||0;var l=Math.random()*(2^a)*500;window.setTimeout(function(){f(e,Math.min(7,a+1))},l)}},i.onopen=function(s){n.triggerEvent(e,"htmx:sseOpen",{source:i})},n.getInternalData(e).sseEventSource=i}function h(e){if(!n.bodyContains(e)){var r=n.getInternalData(e).sseEventSource;if(r!=null)return r.close(),!0}return!1}function m(e,r){var a=[];return n.hasAttribute(e,r)&&a.push(e),e.querySelectorAll("["+r+"], [data-"+r+"]").forEach(function(i){a.push(i)}),a}function d(e,r){n.withExtensions(e,function(l){r=l.transformResponse(r,null,e)});var a=n.getSwapSpecification(e),i=n.getTarget(e),s=n.makeSettleInfo(e);n.selectAndSwap(a.swapStyle,i,e,r,s),s.elts.forEach(function(l){l.classList&&l.classList.add(htmx.config.settlingClass),n.triggerEvent(l,"htmx:beforeSettle")}),a.settleDelay>0?setTimeout(S(s),a.settleDelay):S(s)()}function S(e){return function(){e.tasks.forEach(function(r){r.call()}),e.elts.forEach(function(r){r.classList&&r.classList.remove(htmx.config.settlingClass),n.triggerEvent(r,"htmx:afterSettle")})}}function p(e){return n.getInternalData(e).sseEventSource!=null}})();
