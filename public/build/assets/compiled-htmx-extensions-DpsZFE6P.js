import{h as c}from"./htmx.esm-KBlj935b.js";(function(){var n=null;function x(d,f){if(d&&d.indexOf("<head")>-1){const h=document.createElement("html");var g=d.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,""),p=g.match(/(<head(\s[^>]*>|>)([\s\S]*?)<\/head>)/im);if(p){var S=[],m=[],r=[],u=[];h.innerHTML=p;var e=h.querySelector("head"),t=document.head;if(e==null)return;var a=new Map;for(const l of e.children)a.set(l.outerHTML,l);var o=n.getAttributeValue(e,"hx-head")||f;for(const l of t.children){var i=a.has(l.outerHTML),s=l.getAttribute("hx-head")==="re-eval",v=n.getAttributeValue(l,"hx-preserve")==="true";i||v?s?m.push(l):(a.delete(l.outerHTML),r.push(l)):o==="append"?s&&(m.push(l),u.push(l)):n.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:l})!==!1&&m.push(l)}u.push(...a.values());for(const l of u){var E=document.createRange().createContextualFragment(l.outerHTML);n.triggerEvent(document.body,"htmx:addingHeadElement",{headElement:E})!==!1&&(t.appendChild(E),S.push(E))}for(const l of m)n.triggerEvent(document.body,"htmx:removingHeadElement",{headElement:l})!==!1&&t.removeChild(l);n.triggerEvent(document.body,"htmx:afterHeadMerge",{added:S,kept:r,removed:m})}}}c.defineExtension("head-support",{init:function(d){n=d,c.on("htmx:afterSwap",function(f){let g=f.detail.xhr;if(g){var p=g.response;n.triggerEvent(document.body,"htmx:beforeHeadMerge",f.detail)&&x(p,f.detail.boosted?"merge":"append")}}),c.on("htmx:historyRestore",function(f){n.triggerEvent(document.body,"htmx:beforeHeadMerge",f.detail)&&(f.detail.cacheMiss?x(f.detail.serverResponse,"merge"):x(f.detail.item.head,"merge"))}),c.on("htmx:historyItemCreated",function(f){var g=f.detail.item;g.head=document.head.outerHTML})}})})();(function(){c.defineExtension("preload",{onEvent:function(e,t){if(e==="htmx:afterProcessNode"){const a=t.target||t.detail.elt;[...a.hasAttribute("preload")?[a]:[],...a.querySelectorAll("[preload]")].forEach(function(i){n(i),i.querySelectorAll("[href],[hx-get],[data-hx-get]").forEach(n)});return}if(e==="htmx:beforeRequest"){const a=t.detail.requestConfig.headers;if(!("HX-Preloaded"in a&&a["HX-Preloaded"]==="true"))return;t.preventDefault();const o=t.detail.xhr;o.onload=function(){S(t.detail.elt,o.responseText)},o.onerror=null,o.onabort=null,o.ontimeout=null,o.send()}}});function n(e){if(e.preloadState!==void 0||!r(e))return;if(e instanceof HTMLFormElement){const i=e;if(!(i.hasAttribute("method")&&i.method==="get"||i.hasAttribute("hx-get")||i.hasAttribute("hx-data-get")))return;for(let s=0;s<i.elements.length;s++){const v=i.elements.item(s);n(v),"labels"in v&&v.labels.forEach(n)}return}let t=m(e,"preload");e.preloadAlways=t&&t.includes("always"),e.preloadAlways&&(t=t.replace("always","").trim());let a=t||"mousedown";const o=a==="mouseover";e.addEventListener(a,x(e,o),{passive:!0}),(a==="mousedown"||a==="mouseover")&&e.addEventListener("touchstart",x(e),{passive:!0}),a==="mouseover"&&e.addEventListener("mouseout",function(i){i.target===e&&e.preloadState==="TIMEOUT"&&(e.preloadState="READY")},{passive:!0}),e.preloadState="READY",c.trigger(e,"preload:init")}function x(e,t=!1){return function(){if(e.preloadState==="READY"){if(t){e.preloadState="TIMEOUT",window.setTimeout(function(){e.preloadState==="TIMEOUT"&&(e.preloadState="READY",d(e))},100);return}d(e)}}}function d(e){var o;if(e.preloadState!=="READY")return;e.preloadState="LOADING";const t=e.getAttribute("hx-get")||e.getAttribute("data-hx-get");if(t){g(t,e);return}const a=m(e,"hx-boost")==="true";if(e.hasAttribute("href")){const i=e.getAttribute("href");a?g(i,e):p(i,e);return}if(u(e)){const i=e.form.getAttribute("action")||e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get"),s=c.values(e.form),E=!(e.form.getAttribute("hx-get")||e.form.getAttribute("data-hx-get")||a)?p:g;if(e.type==="submit"){E(i,e.form,s);return}const h=e.name||e.control.name;if(e.tagName==="SELECT"){Array.from(e.options).forEach(A=>{if(A.selected)return;s.set(h,A.value);const L=f(e.form,s);E(i,e.form,L)});return}const l=e.getAttribute("type")||e.control.getAttribute("type"),b=e.value||((o=e.control)==null?void 0:o.value);if(l==="radio")s.set(h,b);else if(l==="checkbox"){const A=s.getAll(h);A.includes(b)?s[h]=A.filter(L=>L!==b):s.append(h,b)}const M=f(e.form,s);E(i,e.form,M);return}}function f(e,t){const a=e.elements,o=new FormData;for(let i=0;i<a.length;i++){const s=a.item(i);if(t.has(s.name)&&s.tagName==="SELECT"){o.append(s.name,t.get(s.name));continue}t.has(s.name)&&t.getAll(s.name).includes(s.value)&&o.append(s.name,s.value)}return o}function g(e,t,a=void 0){c.ajax("GET",e,{source:t,values:a,headers:{"HX-Preloaded":"true"}})}function p(e,t,a=void 0){const o=new XMLHttpRequest;a&&(e+="?"+new URLSearchParams(a.entries()).toString()),o.open("GET",e),o.setRequestHeader("HX-Preloaded","true"),o.onload=function(){S(t,o.responseText)},o.send()}function S(e,t){e.preloadState=e.preloadAlways?"READY":"DONE",m(e,"preload-images")==="true"&&(document.createElement("div").innerHTML=t)}function m(e,t){if(e!=null)return e.getAttribute(t)||e.getAttribute("data-"+t)||m(e.parentElement,t)}function r(e){const t=["href","hx-get","data-hx-get"],a=i=>t.some(s=>i.hasAttribute(s))||i.method==="get",o=e.form instanceof HTMLFormElement&&a(e.form)&&u(e);return!(!a(e)&&!o||e instanceof HTMLInputElement&&e.closest("label"))}function u(e){if(e instanceof HTMLInputElement||e instanceof HTMLButtonElement){const t=e.getAttribute("type");return["checkbox","radio","submit"].includes(t)}return e instanceof HTMLLabelElement?e.control&&u(e.control):e instanceof HTMLSelectElement}})();(function(){var n;c.defineExtension("sse",{init:function(r){n=r,c.createEventSource==null&&(c.createEventSource=x)},getSelectors:function(){return["[sse-connect]","[data-sse-connect]","[sse-swap]","[data-sse-swap]"]},onEvent:function(r,u){var e=u.target||u.detail.elt;switch(r){case"htmx:beforeCleanupElement":var t=n.getInternalData(e),a=t.sseEventSource;a&&(n.triggerEvent(e,"htmx:sseClose",{source:a,type:"nodeReplaced"}),t.sseEventSource.close());return;case"htmx:afterProcessNode":f(e)}}});function x(r){return new EventSource(r,{withCredentials:!0})}function d(r){if(n.getAttributeValue(r,"sse-swap")){var u=n.getClosestMatch(r,m);if(u==null)return null;for(var e=n.getInternalData(u),t=e.sseEventSource,a=n.getAttributeValue(r,"sse-swap"),o=a.split(","),i=0;i<o.length;i++){const v=o[i].trim(),E=function(h){if(!p(u)){if(!n.bodyContains(r)){t.removeEventListener(v,E);return}n.triggerEvent(r,"htmx:sseBeforeMessage",h)&&(S(r,h.data),n.triggerEvent(r,"htmx:sseMessage",h))}};n.getInternalData(r).sseEventListener=E,t.addEventListener(v,E)}}if(n.getAttributeValue(r,"hx-trigger")){var u=n.getClosestMatch(r,m);if(u==null)return null;var e=n.getInternalData(u),t=e.sseEventSource,s=n.getTriggerSpecs(r);s.forEach(function(l){if(l.trigger.slice(0,4)==="sse:"){var b=function(M){p(u)||(n.bodyContains(r)||t.removeEventListener(l.trigger.slice(4),b),c.trigger(r,l.trigger,M),c.trigger(r,"htmx:sseMessage",M))};n.getInternalData(r).sseEventListener=b,t.addEventListener(l.trigger.slice(4),b)}})}}function f(r,u){if(r==null)return null;if(n.getAttributeValue(r,"sse-connect")){var e=n.getAttributeValue(r,"sse-connect");if(e==null)return;g(r,e,u)}d(r)}function g(r,u,e){var t=c.createEventSource(u);t.onerror=function(o){if(n.triggerErrorEvent(r,"htmx:sseError",{error:o,source:t}),!p(r)&&t.readyState===EventSource.CLOSED){e=e||0,e=Math.max(Math.min(e*2,128),1);var i=e*500;window.setTimeout(function(){f(r,e)},i)}},t.onopen=function(o){if(n.triggerEvent(r,"htmx:sseOpen",{source:t}),e&&e>0){const i=r.querySelectorAll("[sse-swap], [data-sse-swap], [hx-trigger], [data-hx-trigger]");for(let s=0;s<i.length;s++)d(i[s]);e=0}},n.getInternalData(r).sseEventSource=t;var a=n.getAttributeValue(r,"sse-close");a&&t.addEventListener(a,function(){n.triggerEvent(r,"htmx:sseClose",{source:t,type:"message"}),t.close()})}function p(r){if(!n.bodyContains(r)){var u=n.getInternalData(r).sseEventSource;if(u!=null)return n.triggerEvent(r,"htmx:sseClose",{source:u,type:"nodeMissing"}),u.close(),!0}return!1}function S(r,u){n.withExtensions(r,function(a){u=a.transformResponse(u,null,r)});var e=n.getSwapSpecification(r),t=n.getTarget(r);n.swap(t,u,e,{contextElement:r})}function m(r){return n.getInternalData(r).sseEventSource!=null}})();
