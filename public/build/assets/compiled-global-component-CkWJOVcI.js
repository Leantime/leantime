const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/dagre-2BBEFEWP-BxBxULha.js","assets/graph-937r5yKj.js","assets/_baseUniq-C5sz7ORE.js","assets/layout-BUZKtelk.js","assets/_basePickBy-DOfMUbNr.js","assets/clone-Bh_eiXmr.js","assets/datetime-CncuFZOB.js","assets/jquery.form-BbyY_U-H.js","assets/_commonjsHelpers-BosuxZz1.js","assets/jquery-Czc5UB_B.js","assets/c4Diagram-AAMF2YG6-BEfkaSDx.js","assets/chunk-OMD6QJNC-DCXpYVlp.js","assets/flowDiagram-THRYKUMA-OivjjuuO.js","assets/chunk-GLLZNHP4-Dkb_nupE.js","assets/chunk-WVR4S24B-i4bnJ3V1.js","assets/chunk-NRVI72HA-7eBSfjAm.js","assets/channel-CGZsjDyp.js","assets/erDiagram-HZWUO2LU-8SqEfk5C.js","assets/gitGraphDiagram-OJR772UL-CP0P4lKe.js","assets/chunk-ANTBXLJU-y8aYY7pd.js","assets/chunk-FHKO5MBM-BF34gAL4.js","assets/treemap-75Q7IDZK-BeQhALSE.js","assets/ganttDiagram-WV7ZQ7D5-BGxrqyz6.js","assets/linear-BSykJGf2.js","assets/init-Gi6I4Gst.js","assets/defaultLocale-C4B-KCzX.js","assets/infoDiagram-6WOFNB3A-DYwIymMc.js","assets/pieDiagram-DBDJKBY4-Dt_8eubB.js","assets/arc-CPOZXrFa.js","assets/ordinal-Cboi1Yqb.js","assets/quadrantDiagram-YPSRARAO-CQXU1HGB.js","assets/xychartDiagram-FDP5SA34-B37FuEwj.js","assets/requirementDiagram-EGVEC5DT-C2P9EwAJ.js","assets/sequenceDiagram-WFGC7UMF-DkMoivfa.js","assets/classDiagram-3BZAVTQC-CIYr8rzC.js","assets/chunk-JBRWN2VN-Ddg-Oxbt.js","assets/classDiagram-v2-QTMF73CY-CIYr8rzC.js","assets/stateDiagram-UUKSUZ4H-DbZRIZHn.js","assets/chunk-LXBSTHXV-f9Ae4Nlb.js","assets/stateDiagram-v2-EYPG3UTE-D8SuLjbY.js","assets/journeyDiagram-FFXJYRFH-YTFdBtgM.js","assets/timeline-definition-3HZDQTIS-U8Zkox1a.js","assets/mindmap-definition-LNHGMQRG-BXvSW9JI.js","assets/cytoscape.esm-BY7v1xhs.js","assets/kanban-definition-KOZQBZVT-BpUYMI15.js","assets/sankeyDiagram-HRAUVNP4-BBVZW5vp.js","assets/diagram-GUPCWM2R-DH2v4Y08.js","assets/diagram-RP2FKANI-DCu2qt_t.js","assets/blockDiagram-ZYB65J3Q-BYzt3hAw.js","assets/architectureDiagram-KFL7JDKH-Q1vem6za.js","assets/diagram-4IRLE6MV-t5kC6oHg.js"])))=>i.map(i=>d[i]);
var kU=Object.defineProperty;var SU=(t,e,i)=>e in t?kU(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var wi=(t,e,i)=>SU(t,typeof e!="symbol"?e+"":e,i);import{S as TU,I as CU,a as EU,b as OU,D as AU}from"./datetime-CncuFZOB.js";import"./jquery.form-BbyY_U-H.js";import{c as Rp,g as Fp}from"./_commonjsHelpers-BosuxZz1.js";import{r as PU}from"./jquery-Czc5UB_B.js";//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var A3;function $t(){return A3.apply(null,arguments)}function MU(t){A3=t}function jn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function rh(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function nr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ex(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(nr(t,e))return!1;return!0}function Pa(t){return t===void 0}function ol(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Dp(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function P3(t,e){var i=[],s,a=t.length;for(s=0;s<a;++s)i.push(e(t[s],s));return i}function Fl(t,e){for(var i in e)nr(e,i)&&(t[i]=e[i]);return nr(e,"toString")&&(t.toString=e.toString),nr(e,"valueOf")&&(t.valueOf=e.valueOf),t}function wo(t,e,i,s){return J3(t,e,i,s,!0).utc()}function LU(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Wi(t){return t._pf==null&&(t._pf=LU()),t._pf}var d1;Array.prototype.some?d1=Array.prototype.some:d1=function(t){var e=Object(this),i=e.length>>>0,s;for(s=0;s<i;s++)if(s in e&&t.call(this,e[s],s,e))return!0;return!1};function Ox(t){var e=null,i=!1,s=t._d&&!isNaN(t._d.getTime());if(s&&(e=Wi(t),i=d1.call(e.parsedDateParts,function(a){return a!=null}),s=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i),t._strict&&(s=s&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=s;else return s;return t._isValid}function nv(t){var e=wo(NaN);return t!=null?Fl(Wi(e),t):Wi(e).userInvalidated=!0,e}var zP=$t.momentProperties=[],b_=!1;function Ax(t,e){var i,s,a,l=zP.length;if(Pa(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Pa(e._i)||(t._i=e._i),Pa(e._f)||(t._f=e._f),Pa(e._l)||(t._l=e._l),Pa(e._strict)||(t._strict=e._strict),Pa(e._tzm)||(t._tzm=e._tzm),Pa(e._isUTC)||(t._isUTC=e._isUTC),Pa(e._offset)||(t._offset=e._offset),Pa(e._pf)||(t._pf=Wi(e)),Pa(e._locale)||(t._locale=e._locale),l>0)for(i=0;i<l;i++)s=zP[i],a=e[s],Pa(a)||(t[s]=a);return t}function Ip(t){Ax(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),b_===!1&&(b_=!0,$t.updateOffset(this),b_=!1)}function qn(t){return t instanceof Ip||t!=null&&t._isAMomentObject!=null}function M3(t){$t.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function wn(t,e){var i=!0;return Fl(function(){if($t.deprecationHandler!=null&&$t.deprecationHandler(null,t),i){var s=[],a,l,o,h=arguments.length;for(l=0;l<h;l++){if(a="",typeof arguments[l]=="object"){a+=`
[`+l+"] ";for(o in arguments[0])nr(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[l];s.push(a)}M3(t+`
Arguments: `+Array.prototype.slice.call(s).join("")+`
`+new Error().stack),i=!1}return e.apply(this,arguments)},e)}var UP={};function L3(t,e){$t.deprecationHandler!=null&&$t.deprecationHandler(t,e),UP[t]||(M3(e),UP[t]=!0)}$t.suppressDeprecationWarnings=!1;$t.deprecationHandler=null;function _o(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function RU(t){var e,i;for(i in t)nr(t,i)&&(e=t[i],_o(e)?this[i]=e:this["_"+i]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function f1(t,e){var i=Fl({},t),s;for(s in e)nr(e,s)&&(rh(t[s])&&rh(e[s])?(i[s]={},Fl(i[s],t[s]),Fl(i[s],e[s])):e[s]!=null?i[s]=e[s]:delete i[s]);for(s in t)nr(t,s)&&!nr(e,s)&&rh(t[s])&&(i[s]=Fl({},i[s]));return i}function Px(t){t!=null&&this.set(t)}var p1;Object.keys?p1=Object.keys:p1=function(t){var e,i=[];for(e in t)nr(t,e)&&i.push(e);return i};var FU={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function DU(t,e,i){var s=this._calendar[t]||this._calendar.sameElse;return _o(s)?s.call(e,i):s}function po(t,e,i){var s=""+Math.abs(t),a=e-s.length,l=t>=0;return(l?i?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+s}var Mx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Eg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,w_={},hu={};function gi(t,e,i,s){var a=s;typeof s=="string"&&(a=function(){return this[s]()}),t&&(hu[t]=a),e&&(hu[e[0]]=function(){return po(a.apply(this,arguments),e[1],e[2])}),i&&(hu[i]=function(){return this.localeData().ordinal(a.apply(this,arguments),t)})}function IU(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function BU(t){var e=t.match(Mx),i,s;for(i=0,s=e.length;i<s;i++)hu[e[i]]?e[i]=hu[e[i]]:e[i]=IU(e[i]);return function(a){var l="",o;for(o=0;o<s;o++)l+=_o(e[o])?e[o].call(a,t):e[o];return l}}function qg(t,e){return t.isValid()?(e=R3(e,t.localeData()),w_[e]=w_[e]||BU(e),w_[e](t)):t.localeData().invalidDate()}function R3(t,e){var i=5;function s(a){return e.longDateFormat(a)||a}for(Eg.lastIndex=0;i>=0&&Eg.test(t);)t=t.replace(Eg,s),Eg.lastIndex=0,i-=1;return t}var NU={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function zU(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.match(Mx).map(function(s){return s==="MMMM"||s==="MM"||s==="DD"||s==="dddd"?s.slice(1):s}).join(""),this._longDateFormat[t])}var UU="Invalid date";function HU(){return this._invalidDate}var WU="%d",jU=/\d{1,2}/;function qU(t){return this._ordinal.replace("%d",t)}var $U={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function VU(t,e,i,s){var a=this._relativeTime[i];return _o(a)?a(t,e,i,s):a.replace(/%d/i,t)}function YU(t,e){var i=this._relativeTime[t>0?"future":"past"];return _o(i)?i(e):i.replace(/%s/i,e)}var HP={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function _n(t){return typeof t=="string"?HP[t]||HP[t.toLowerCase()]:void 0}function Lx(t){var e={},i,s;for(s in t)nr(t,s)&&(i=_n(s),i&&(e[i]=t[s]));return e}var GU={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function XU(t){var e=[],i;for(i in t)nr(t,i)&&e.push({unit:i,priority:GU[i]});return e.sort(function(s,a){return s.priority-a.priority}),e}var F3=/\d/,Ja=/\d\d/,D3=/\d{3}/,Rx=/\d{4}/,ov=/[+-]?\d{6}/,jr=/\d\d?/,I3=/\d\d\d\d?/,B3=/\d\d\d\d\d\d?/,lv=/\d{1,3}/,Fx=/\d{1,4}/,cv=/[+-]?\d{1,6}/,Vu=/\d+/,hv=/[+-]?\d+/,KU=/Z|[+-]\d\d:?\d\d/gi,uv=/Z|[+-]\d\d(?::?\d\d)?/gi,ZU=/[+-]?\d+(\.\d{1,3})?/,Bp=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Yu=/^[1-9]\d?/,Dx=/^([1-9]\d|\d)/,hy;hy={};function Xt(t,e,i){hy[t]=_o(e)?e:function(s,a){return s&&i?i:e}}function QU(t,e){return nr(hy,t)?hy[t](e._strict,e._locale):new RegExp(JU(t))}function JU(t){return rl(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,i,s,a,l){return i||s||a||l}))}function rl(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function hn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function Qi(t){var e=+t,i=0;return e!==0&&isFinite(e)&&(i=hn(e)),i}var m1={};function Pr(t,e){var i,s=e,a;for(typeof t=="string"&&(t=[t]),ol(e)&&(s=function(l,o){o[e]=Qi(l)}),a=t.length,i=0;i<a;i++)m1[t[i]]=s}function Np(t,e){Pr(t,function(i,s,a,l){a._w=a._w||{},e(i,a._w,a,l)})}function e7(t,e,i){e!=null&&nr(m1,t)&&m1[t](e,i._a,i,t)}function dv(t){return t%4===0&&t%100!==0||t%400===0}var ea=0,Jo=1,ho=2,xs=3,zn=4,el=5,Xc=6,t7=7,i7=8;gi("Y",0,0,function(){var t=this.year();return t<=9999?po(t,4):"+"+t});gi(0,["YY",2],0,function(){return this.year()%100});gi(0,["YYYY",4],0,"year");gi(0,["YYYYY",5],0,"year");gi(0,["YYYYYY",6,!0],0,"year");Xt("Y",hv);Xt("YY",jr,Ja);Xt("YYYY",Fx,Rx);Xt("YYYYY",cv,ov);Xt("YYYYYY",cv,ov);Pr(["YYYYY","YYYYYY"],ea);Pr("YYYY",function(t,e){e[ea]=t.length===2?$t.parseTwoDigitYear(t):Qi(t)});Pr("YY",function(t,e){e[ea]=$t.parseTwoDigitYear(t)});Pr("Y",function(t,e){e[ea]=parseInt(t,10)});function Qf(t){return dv(t)?366:365}$t.parseTwoDigitYear=function(t){return Qi(t)+(Qi(t)>68?1900:2e3)};var N3=Gu("FullYear",!0);function r7(){return dv(this.year())}function Gu(t,e){return function(i){return i!=null?(z3(this,t,i),$t.updateOffset(this,e),this):up(this,t)}}function up(t,e){if(!t.isValid())return NaN;var i=t._d,s=t._isUTC;switch(e){case"Milliseconds":return s?i.getUTCMilliseconds():i.getMilliseconds();case"Seconds":return s?i.getUTCSeconds():i.getSeconds();case"Minutes":return s?i.getUTCMinutes():i.getMinutes();case"Hours":return s?i.getUTCHours():i.getHours();case"Date":return s?i.getUTCDate():i.getDate();case"Day":return s?i.getUTCDay():i.getDay();case"Month":return s?i.getUTCMonth():i.getMonth();case"FullYear":return s?i.getUTCFullYear():i.getFullYear();default:return NaN}}function z3(t,e,i){var s,a,l,o,h;if(!(!t.isValid()||isNaN(i))){switch(s=t._d,a=t._isUTC,e){case"Milliseconds":return void(a?s.setUTCMilliseconds(i):s.setMilliseconds(i));case"Seconds":return void(a?s.setUTCSeconds(i):s.setSeconds(i));case"Minutes":return void(a?s.setUTCMinutes(i):s.setMinutes(i));case"Hours":return void(a?s.setUTCHours(i):s.setHours(i));case"Date":return void(a?s.setUTCDate(i):s.setDate(i));case"FullYear":break;default:return}l=i,o=t.month(),h=t.date(),h=h===29&&o===1&&!dv(l)?28:h,a?s.setUTCFullYear(l,o,h):s.setFullYear(l,o,h)}}function s7(t){return t=_n(t),_o(this[t])?this[t]():this}function a7(t,e){if(typeof t=="object"){t=Lx(t);var i=XU(t),s,a=i.length;for(s=0;s<a;s++)this[i[s].unit](t[i[s].unit])}else if(t=_n(t),_o(this[t]))return this[t](e);return this}function n7(t,e){return(t%e+e)%e}var ls;Array.prototype.indexOf?ls=Array.prototype.indexOf:ls=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function Ix(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=n7(e,12);return t+=(e-i)/12,i===1?dv(t)?29:28:31-i%7%2}gi("M",["MM",2],"Mo",function(){return this.month()+1});gi("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});gi("MMMM",0,0,function(t){return this.localeData().months(this,t)});Xt("M",jr,Yu);Xt("MM",jr,Ja);Xt("MMM",function(t,e){return e.monthsShortRegex(t)});Xt("MMMM",function(t,e){return e.monthsRegex(t)});Pr(["M","MM"],function(t,e){e[Jo]=Qi(t)-1});Pr(["MMM","MMMM"],function(t,e,i,s){var a=i._locale.monthsParse(t,s,i._strict);a!=null?e[Jo]=a:Wi(i).invalidMonth=t});var o7="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),U3="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),H3=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,l7=Bp,c7=Bp;function h7(t,e){return t?jn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||H3).test(e)?"format":"standalone"][t.month()]:jn(this._months)?this._months:this._months.standalone}function u7(t,e){return t?jn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[H3.test(e)?"format":"standalone"][t.month()]:jn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function d7(t,e,i){var s,a,l,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)l=wo([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(l,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(l,"").toLocaleLowerCase();return i?e==="MMM"?(a=ls.call(this._shortMonthsParse,o),a!==-1?a:null):(a=ls.call(this._longMonthsParse,o),a!==-1?a:null):e==="MMM"?(a=ls.call(this._shortMonthsParse,o),a!==-1?a:(a=ls.call(this._longMonthsParse,o),a!==-1?a:null)):(a=ls.call(this._longMonthsParse,o),a!==-1?a:(a=ls.call(this._shortMonthsParse,o),a!==-1?a:null))}function f7(t,e,i){var s,a,l;if(this._monthsParseExact)return d7.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(a=wo([2e3,s]),i&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!i&&!this._monthsParse[s]&&(l="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[s]=new RegExp(l.replace(".",""),"i")),i&&e==="MMMM"&&this._longMonthsParse[s].test(t))return s;if(i&&e==="MMM"&&this._shortMonthsParse[s].test(t))return s;if(!i&&this._monthsParse[s].test(t))return s}}function W3(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=Qi(e);else if(e=t.localeData().monthsParse(e),!ol(e))return t}var i=e,s=t.date();return s=s<29?s:Math.min(s,Ix(t.year(),i)),t._isUTC?t._d.setUTCMonth(i,s):t._d.setMonth(i,s),t}function j3(t){return t!=null?(W3(this,t),$t.updateOffset(this,!0),this):up(this,"Month")}function p7(){return Ix(this.year(),this.month())}function m7(t){return this._monthsParseExact?(nr(this,"_monthsRegex")||q3.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(nr(this,"_monthsShortRegex")||(this._monthsShortRegex=l7),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function g7(t){return this._monthsParseExact?(nr(this,"_monthsRegex")||q3.call(this),t?this._monthsStrictRegex:this._monthsRegex):(nr(this,"_monthsRegex")||(this._monthsRegex=c7),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function q3(){function t(d,m){return m.length-d.length}var e=[],i=[],s=[],a,l,o,h;for(a=0;a<12;a++)l=wo([2e3,a]),o=rl(this.monthsShort(l,"")),h=rl(this.months(l,"")),e.push(o),i.push(h),s.push(h),s.push(o);e.sort(t),i.sort(t),s.sort(t),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function y7(t,e,i,s,a,l,o){var h;return t<100&&t>=0?(h=new Date(t+400,e,i,s,a,l,o),isFinite(h.getFullYear())&&h.setFullYear(t)):h=new Date(t,e,i,s,a,l,o),h}function dp(t){var e,i;return t<100&&t>=0?(i=Array.prototype.slice.call(arguments),i[0]=t+400,e=new Date(Date.UTC.apply(null,i)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function uy(t,e,i){var s=7+e-i,a=(7+dp(t,0,s).getUTCDay()-e)%7;return-a+s-1}function $3(t,e,i,s,a){var l=(7+i-s)%7,o=uy(t,s,a),h=1+7*(e-1)+l+o,d,m;return h<=0?(d=t-1,m=Qf(d)+h):h>Qf(t)?(d=t+1,m=h-Qf(t)):(d=t,m=h),{year:d,dayOfYear:m}}function fp(t,e,i){var s=uy(t.year(),e,i),a=Math.floor((t.dayOfYear()-s-1)/7)+1,l,o;return a<1?(o=t.year()-1,l=a+sl(o,e,i)):a>sl(t.year(),e,i)?(l=a-sl(t.year(),e,i),o=t.year()+1):(o=t.year(),l=a),{week:l,year:o}}function sl(t,e,i){var s=uy(t,e,i),a=uy(t+1,e,i);return(Qf(t)-s+a)/7}gi("w",["ww",2],"wo","week");gi("W",["WW",2],"Wo","isoWeek");Xt("w",jr,Yu);Xt("ww",jr,Ja);Xt("W",jr,Yu);Xt("WW",jr,Ja);Np(["w","ww","W","WW"],function(t,e,i,s){e[s.substr(0,1)]=Qi(t)});function v7(t){return fp(t,this._week.dow,this._week.doy).week}var b7={dow:0,doy:6};function w7(){return this._week.dow}function _7(){return this._week.doy}function x7(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function k7(t){var e=fp(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}gi("d",0,"do","day");gi("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});gi("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});gi("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});gi("e",0,0,"weekday");gi("E",0,0,"isoWeekday");Xt("d",jr);Xt("e",jr);Xt("E",jr);Xt("dd",function(t,e){return e.weekdaysMinRegex(t)});Xt("ddd",function(t,e){return e.weekdaysShortRegex(t)});Xt("dddd",function(t,e){return e.weekdaysRegex(t)});Np(["dd","ddd","dddd"],function(t,e,i,s){var a=i._locale.weekdaysParse(t,s,i._strict);a!=null?e.d=a:Wi(i).invalidWeekday=t});Np(["d","e","E"],function(t,e,i,s){e[s]=Qi(t)});function S7(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function T7(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Bx(t,e){return t.slice(e,7).concat(t.slice(0,e))}var C7="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),V3="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),E7="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),O7=Bp,A7=Bp,P7=Bp;function M7(t,e){var i=jn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Bx(i,this._week.dow):t?i[t.day()]:i}function L7(t){return t===!0?Bx(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function R7(t){return t===!0?Bx(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function F7(t,e,i){var s,a,l,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)l=wo([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(l,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(l,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(l,"").toLocaleLowerCase();return i?e==="dddd"?(a=ls.call(this._weekdaysParse,o),a!==-1?a:null):e==="ddd"?(a=ls.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=ls.call(this._minWeekdaysParse,o),a!==-1?a:null):e==="dddd"?(a=ls.call(this._weekdaysParse,o),a!==-1||(a=ls.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=ls.call(this._minWeekdaysParse,o),a!==-1?a:null)):e==="ddd"?(a=ls.call(this._shortWeekdaysParse,o),a!==-1||(a=ls.call(this._weekdaysParse,o),a!==-1)?a:(a=ls.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=ls.call(this._minWeekdaysParse,o),a!==-1||(a=ls.call(this._weekdaysParse,o),a!==-1)?a:(a=ls.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function D7(t,e,i){var s,a,l;if(this._weekdaysParseExact)return F7.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(a=wo([2e3,1]).day(s),i&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(l="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[s]=new RegExp(l.replace(".",""),"i")),i&&e==="dddd"&&this._fullWeekdaysParse[s].test(t))return s;if(i&&e==="ddd"&&this._shortWeekdaysParse[s].test(t))return s;if(i&&e==="dd"&&this._minWeekdaysParse[s].test(t))return s;if(!i&&this._weekdaysParse[s].test(t))return s}}function I7(t){if(!this.isValid())return t!=null?this:NaN;var e=up(this,"Day");return t!=null?(t=S7(t,this.localeData()),this.add(t-e,"d")):e}function B7(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function N7(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=T7(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function z7(t){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||Nx.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(nr(this,"_weekdaysRegex")||(this._weekdaysRegex=O7),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function U7(t){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||Nx.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(nr(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=A7),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function H7(t){return this._weekdaysParseExact?(nr(this,"_weekdaysRegex")||Nx.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(nr(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=P7),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Nx(){function t(f,b){return b.length-f.length}var e=[],i=[],s=[],a=[],l,o,h,d,m;for(l=0;l<7;l++)o=wo([2e3,1]).day(l),h=rl(this.weekdaysMin(o,"")),d=rl(this.weekdaysShort(o,"")),m=rl(this.weekdays(o,"")),e.push(h),i.push(d),s.push(m),a.push(h),a.push(d),a.push(m);e.sort(t),i.sort(t),s.sort(t),a.sort(t),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function zx(){return this.hours()%12||12}function W7(){return this.hours()||24}gi("H",["HH",2],0,"hour");gi("h",["hh",2],0,zx);gi("k",["kk",2],0,W7);gi("hmm",0,0,function(){return""+zx.apply(this)+po(this.minutes(),2)});gi("hmmss",0,0,function(){return""+zx.apply(this)+po(this.minutes(),2)+po(this.seconds(),2)});gi("Hmm",0,0,function(){return""+this.hours()+po(this.minutes(),2)});gi("Hmmss",0,0,function(){return""+this.hours()+po(this.minutes(),2)+po(this.seconds(),2)});function Y3(t,e){gi(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Y3("a",!0);Y3("A",!1);function G3(t,e){return e._meridiemParse}Xt("a",G3);Xt("A",G3);Xt("H",jr,Dx);Xt("h",jr,Yu);Xt("k",jr,Yu);Xt("HH",jr,Ja);Xt("hh",jr,Ja);Xt("kk",jr,Ja);Xt("hmm",I3);Xt("hmmss",B3);Xt("Hmm",I3);Xt("Hmmss",B3);Pr(["H","HH"],xs);Pr(["k","kk"],function(t,e,i){var s=Qi(t);e[xs]=s===24?0:s});Pr(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t});Pr(["h","hh"],function(t,e,i){e[xs]=Qi(t),Wi(i).bigHour=!0});Pr("hmm",function(t,e,i){var s=t.length-2;e[xs]=Qi(t.substr(0,s)),e[zn]=Qi(t.substr(s)),Wi(i).bigHour=!0});Pr("hmmss",function(t,e,i){var s=t.length-4,a=t.length-2;e[xs]=Qi(t.substr(0,s)),e[zn]=Qi(t.substr(s,2)),e[el]=Qi(t.substr(a)),Wi(i).bigHour=!0});Pr("Hmm",function(t,e,i){var s=t.length-2;e[xs]=Qi(t.substr(0,s)),e[zn]=Qi(t.substr(s))});Pr("Hmmss",function(t,e,i){var s=t.length-4,a=t.length-2;e[xs]=Qi(t.substr(0,s)),e[zn]=Qi(t.substr(s,2)),e[el]=Qi(t.substr(a))});function j7(t){return(t+"").toLowerCase().charAt(0)==="p"}var q7=/[ap]\.?m?\.?/i,$7=Gu("Hours",!0);function V7(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"}var X3={calendar:FU,longDateFormat:NU,invalidDate:UU,ordinal:WU,dayOfMonthOrdinalParse:jU,relativeTime:$U,months:o7,monthsShort:U3,week:b7,weekdays:C7,weekdaysMin:E7,weekdaysShort:V3,meridiemParse:q7},Gr={},Ef={},pp;function Y7(t,e){var i,s=Math.min(t.length,e.length);for(i=0;i<s;i+=1)if(t[i]!==e[i])return i;return s}function WP(t){return t&&t.toLowerCase().replace("_","-")}function G7(t){for(var e=0,i,s,a,l;e<t.length;){for(l=WP(t[e]).split("-"),i=l.length,s=WP(t[e+1]),s=s?s.split("-"):null;i>0;){if(a=fv(l.slice(0,i).join("-")),a)return a;if(s&&s.length>=i&&Y7(l,s)>=i-1)break;i--}e++}return pp}function X7(t){return!!(t&&t.match("^[^/\\\\]*$"))}function fv(t){var e=null,i;if(Gr[t]===void 0&&typeof module<"u"&&module&&module.exports&&X7(t))try{e=pp._abbr,i=require,i("./locale/"+t),Bl(e)}catch{Gr[t]=null}return Gr[t]}function Bl(t,e){var i;return t&&(Pa(e)?i=dl(t):i=Ux(t,e),i?pp=i:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),pp._abbr}function Ux(t,e){if(e!==null){var i,s=X3;if(e.abbr=t,Gr[t]!=null)L3("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Gr[t]._config;else if(e.parentLocale!=null)if(Gr[e.parentLocale]!=null)s=Gr[e.parentLocale]._config;else if(i=fv(e.parentLocale),i!=null)s=i._config;else return Ef[e.parentLocale]||(Ef[e.parentLocale]=[]),Ef[e.parentLocale].push({name:t,config:e}),null;return Gr[t]=new Px(f1(s,e)),Ef[t]&&Ef[t].forEach(function(a){Ux(a.name,a.config)}),Bl(t),Gr[t]}else return delete Gr[t],null}function K7(t,e){if(e!=null){var i,s,a=X3;Gr[t]!=null&&Gr[t].parentLocale!=null?Gr[t].set(f1(Gr[t]._config,e)):(s=fv(t),s!=null&&(a=s._config),e=f1(a,e),s==null&&(e.abbr=t),i=new Px(e),i.parentLocale=Gr[t],Gr[t]=i),Bl(t)}else Gr[t]!=null&&(Gr[t].parentLocale!=null?(Gr[t]=Gr[t].parentLocale,t===Bl()&&Bl(t)):Gr[t]!=null&&delete Gr[t]);return Gr[t]}function dl(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return pp;if(!jn(t)){if(e=fv(t),e)return e;t=[t]}return G7(t)}function Z7(){return p1(Gr)}function Hx(t){var e,i=t._a;return i&&Wi(t).overflow===-2&&(e=i[Jo]<0||i[Jo]>11?Jo:i[ho]<1||i[ho]>Ix(i[ea],i[Jo])?ho:i[xs]<0||i[xs]>24||i[xs]===24&&(i[zn]!==0||i[el]!==0||i[Xc]!==0)?xs:i[zn]<0||i[zn]>59?zn:i[el]<0||i[el]>59?el:i[Xc]<0||i[Xc]>999?Xc:-1,Wi(t)._overflowDayOfYear&&(e<ea||e>ho)&&(e=ho),Wi(t)._overflowWeeks&&e===-1&&(e=t7),Wi(t)._overflowWeekday&&e===-1&&(e=i7),Wi(t).overflow=e),t}var Q7=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,J7=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,eH=/Z|[+-]\d\d(?::?\d\d)?/,Og=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],__=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],tH=/^\/?Date\((-?\d+)/i,iH=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,rH={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function K3(t){var e,i,s=t._i,a=Q7.exec(s)||J7.exec(s),l,o,h,d,m=Og.length,f=__.length;if(a){for(Wi(t).iso=!0,e=0,i=m;e<i;e++)if(Og[e][1].exec(a[1])){o=Og[e][0],l=Og[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(a[3]){for(e=0,i=f;e<i;e++)if(__[e][1].exec(a[3])){h=(a[2]||" ")+__[e][0];break}if(h==null){t._isValid=!1;return}}if(!l&&h!=null){t._isValid=!1;return}if(a[4])if(eH.exec(a[4]))d="Z";else{t._isValid=!1;return}t._f=o+(h||"")+(d||""),jx(t)}else t._isValid=!1}function sH(t,e,i,s,a,l){var o=[aH(t),U3.indexOf(e),parseInt(i,10),parseInt(s,10),parseInt(a,10)];return l&&o.push(parseInt(l,10)),o}function aH(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function nH(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function oH(t,e,i){if(t){var s=V3.indexOf(t),a=new Date(e[0],e[1],e[2]).getDay();if(s!==a)return Wi(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}function lH(t,e,i){if(t)return rH[t];if(e)return 0;var s=parseInt(i,10),a=s%100,l=(s-a)/100;return l*60+a}function Z3(t){var e=iH.exec(nH(t._i)),i;if(e){if(i=sH(e[4],e[3],e[2],e[5],e[6],e[7]),!oH(e[1],i,t))return;t._a=i,t._tzm=lH(e[8],e[9],e[10]),t._d=dp.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),Wi(t).rfc2822=!0}else t._isValid=!1}function cH(t){var e=tH.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(K3(t),t._isValid===!1)delete t._isValid;else return;if(Z3(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:$t.createFromInputFallback(t)}$t.createFromInputFallback=wn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function ru(t,e,i){return t??e??i}function hH(t){var e=new Date($t.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Wx(t){var e,i,s=[],a,l,o;if(!t._d){for(a=hH(t),t._w&&t._a[ho]==null&&t._a[Jo]==null&&uH(t),t._dayOfYear!=null&&(o=ru(t._a[ea],a[ea]),(t._dayOfYear>Qf(o)||t._dayOfYear===0)&&(Wi(t)._overflowDayOfYear=!0),i=dp(o,0,t._dayOfYear),t._a[Jo]=i.getUTCMonth(),t._a[ho]=i.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=s[e]=a[e];for(;e<7;e++)t._a[e]=s[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[xs]===24&&t._a[zn]===0&&t._a[el]===0&&t._a[Xc]===0&&(t._nextDay=!0,t._a[xs]=0),t._d=(t._useUTC?dp:y7).apply(null,s),l=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[xs]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==l&&(Wi(t).weekdayMismatch=!0)}}function uH(t){var e,i,s,a,l,o,h,d,m;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(l=1,o=4,i=ru(e.GG,t._a[ea],fp(Wr(),1,4).year),s=ru(e.W,1),a=ru(e.E,1),(a<1||a>7)&&(d=!0)):(l=t._locale._week.dow,o=t._locale._week.doy,m=fp(Wr(),l,o),i=ru(e.gg,t._a[ea],m.year),s=ru(e.w,m.week),e.d!=null?(a=e.d,(a<0||a>6)&&(d=!0)):e.e!=null?(a=e.e+l,(e.e<0||e.e>6)&&(d=!0)):a=l),s<1||s>sl(i,l,o)?Wi(t)._overflowWeeks=!0:d!=null?Wi(t)._overflowWeekday=!0:(h=$3(i,s,a,l,o),t._a[ea]=h.year,t._dayOfYear=h.dayOfYear)}$t.ISO_8601=function(){};$t.RFC_2822=function(){};function jx(t){if(t._f===$t.ISO_8601){K3(t);return}if(t._f===$t.RFC_2822){Z3(t);return}t._a=[],Wi(t).empty=!0;var e=""+t._i,i,s,a,l,o,h=e.length,d=0,m,f;for(a=R3(t._f,t._locale).match(Mx)||[],f=a.length,i=0;i<f;i++)l=a[i],s=(e.match(QU(l,t))||[])[0],s&&(o=e.substr(0,e.indexOf(s)),o.length>0&&Wi(t).unusedInput.push(o),e=e.slice(e.indexOf(s)+s.length),d+=s.length),hu[l]?(s?Wi(t).empty=!1:Wi(t).unusedTokens.push(l),e7(l,s,t)):t._strict&&!s&&Wi(t).unusedTokens.push(l);Wi(t).charsLeftOver=h-d,e.length>0&&Wi(t).unusedInput.push(e),t._a[xs]<=12&&Wi(t).bigHour===!0&&t._a[xs]>0&&(Wi(t).bigHour=void 0),Wi(t).parsedDateParts=t._a.slice(0),Wi(t).meridiem=t._meridiem,t._a[xs]=dH(t._locale,t._a[xs],t._meridiem),m=Wi(t).era,m!==null&&(t._a[ea]=t._locale.erasConvertYear(m,t._a[ea])),Wx(t),Hx(t)}function dH(t,e,i){var s;return i==null?e:t.meridiemHour!=null?t.meridiemHour(e,i):(t.isPM!=null&&(s=t.isPM(i),s&&e<12&&(e+=12),!s&&e===12&&(e=0)),e)}function fH(t){var e,i,s,a,l,o,h=!1,d=t._f.length;if(d===0){Wi(t).invalidFormat=!0,t._d=new Date(NaN);return}for(a=0;a<d;a++)l=0,o=!1,e=Ax({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[a],jx(e),Ox(e)&&(o=!0),l+=Wi(e).charsLeftOver,l+=Wi(e).unusedTokens.length*10,Wi(e).score=l,h?l<s&&(s=l,i=e):(s==null||l<s||o)&&(s=l,i=e,o&&(h=!0));Fl(t,i||e)}function pH(t){if(!t._d){var e=Lx(t._i),i=e.day===void 0?e.date:e.day;t._a=P3([e.year,e.month,i,e.hour,e.minute,e.second,e.millisecond],function(s){return s&&parseInt(s,10)}),Wx(t)}}function mH(t){var e=new Ip(Hx(Q3(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Q3(t){var e=t._i,i=t._f;return t._locale=t._locale||dl(t._l),e===null||i===void 0&&e===""?nv({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),qn(e)?new Ip(Hx(e)):(Dp(e)?t._d=e:jn(i)?fH(t):i?jx(t):gH(t),Ox(t)||(t._d=null),t))}function gH(t){var e=t._i;Pa(e)?t._d=new Date($t.now()):Dp(e)?t._d=new Date(e.valueOf()):typeof e=="string"?cH(t):jn(e)?(t._a=P3(e.slice(0),function(i){return parseInt(i,10)}),Wx(t)):rh(e)?pH(t):ol(e)?t._d=new Date(e):$t.createFromInputFallback(t)}function J3(t,e,i,s,a){var l={};return(e===!0||e===!1)&&(s=e,e=void 0),(i===!0||i===!1)&&(s=i,i=void 0),(rh(t)&&Ex(t)||jn(t)&&t.length===0)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=i,l._i=t,l._f=e,l._strict=s,mH(l)}function Wr(t,e,i,s){return J3(t,e,i,s,!1)}var yH=wn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Wr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:nv()}),vH=wn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Wr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:nv()});function eR(t,e){var i,s;if(e.length===1&&jn(e[0])&&(e=e[0]),!e.length)return Wr();for(i=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](i))&&(i=e[s]);return i}function bH(){var t=[].slice.call(arguments,0);return eR("isBefore",t)}function wH(){var t=[].slice.call(arguments,0);return eR("isAfter",t)}var _H=function(){return Date.now?Date.now():+new Date},Of=["year","quarter","month","week","day","hour","minute","second","millisecond"];function xH(t){var e,i=!1,s,a=Of.length;for(e in t)if(nr(t,e)&&!(ls.call(Of,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(s=0;s<a;++s)if(t[Of[s]]){if(i)return!1;parseFloat(t[Of[s]])!==Qi(t[Of[s]])&&(i=!0)}return!0}function kH(){return this._isValid}function SH(){return $n(NaN)}function pv(t){var e=Lx(t),i=e.year||0,s=e.quarter||0,a=e.month||0,l=e.week||e.isoWeek||0,o=e.day||0,h=e.hour||0,d=e.minute||0,m=e.second||0,f=e.millisecond||0;this._isValid=xH(e),this._milliseconds=+f+m*1e3+d*6e4+h*1e3*60*60,this._days=+o+l*7,this._months=+a+s*3+i*12,this._data={},this._locale=dl(),this._bubble()}function $g(t){return t instanceof pv}function g1(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function TH(t,e,i){var s=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),l=0,o;for(o=0;o<s;o++)Qi(t[o])!==Qi(e[o])&&l++;return l+a}function tR(t,e){gi(t,0,0,function(){var i=this.utcOffset(),s="+";return i<0&&(i=-i,s="-"),s+po(~~(i/60),2)+e+po(~~i%60,2)})}tR("Z",":");tR("ZZ","");Xt("Z",uv);Xt("ZZ",uv);Pr(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=qx(uv,t)});var CH=/([\+\-]|\d\d)/gi;function qx(t,e){var i=(e||"").match(t),s,a,l;return i===null?null:(s=i[i.length-1]||[],a=(s+"").match(CH)||["-",0,0],l=+(a[1]*60)+Qi(a[2]),l===0?0:a[0]==="+"?l:-l)}function $x(t,e){var i,s;return e._isUTC?(i=e.clone(),s=(qn(t)||Dp(t)?t.valueOf():Wr(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+s),$t.updateOffset(i,!1),i):Wr(t).local()}function y1(t){return-Math.round(t._d.getTimezoneOffset())}$t.updateOffset=function(){};function EH(t,e,i){var s=this._offset||0,a;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=qx(uv,t),t===null)return this}else Math.abs(t)<16&&!i&&(t=t*60);return!this._isUTC&&e&&(a=y1(this)),this._offset=t,this._isUTC=!0,a!=null&&this.add(a,"m"),s!==t&&(!e||this._changeInProgress?sR(this,$n(t-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,$t.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?s:y1(this)}function OH(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function AH(t){return this.utcOffset(0,t)}function PH(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(y1(this),"m")),this}function MH(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=qx(KU,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function LH(t){return this.isValid()?(t=t?Wr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function RH(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function FH(){if(!Pa(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Ax(t,this),t=Q3(t),t._a?(e=t._isUTC?wo(t._a):Wr(t._a),this._isDSTShifted=this.isValid()&&TH(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function DH(){return this.isValid()?!this._isUTC:!1}function IH(){return this.isValid()?this._isUTC:!1}function iR(){return this.isValid()?this._isUTC&&this._offset===0:!1}var BH=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,NH=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $n(t,e){var i=t,s=null,a,l,o;return $g(t)?i={ms:t._milliseconds,d:t._days,M:t._months}:ol(t)||!isNaN(+t)?(i={},e?i[e]=+t:i.milliseconds=+t):(s=BH.exec(t))?(a=s[1]==="-"?-1:1,i={y:0,d:Qi(s[ho])*a,h:Qi(s[xs])*a,m:Qi(s[zn])*a,s:Qi(s[el])*a,ms:Qi(g1(s[Xc]*1e3))*a}):(s=NH.exec(t))?(a=s[1]==="-"?-1:1,i={y:Wc(s[2],a),M:Wc(s[3],a),w:Wc(s[4],a),d:Wc(s[5],a),h:Wc(s[6],a),m:Wc(s[7],a),s:Wc(s[8],a)}):i==null?i={}:typeof i=="object"&&("from"in i||"to"in i)&&(o=zH(Wr(i.from),Wr(i.to)),i={},i.ms=o.milliseconds,i.M=o.months),l=new pv(i),$g(t)&&nr(t,"_locale")&&(l._locale=t._locale),$g(t)&&nr(t,"_isValid")&&(l._isValid=t._isValid),l}$n.fn=pv.prototype;$n.invalid=SH;function Wc(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function jP(t,e){var i={};return i.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function zH(t,e){var i;return t.isValid()&&e.isValid()?(e=$x(e,t),t.isBefore(e)?i=jP(t,e):(i=jP(e,t),i.milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function rR(t,e){return function(i,s){var a,l;return s!==null&&!isNaN(+s)&&(L3(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),l=i,i=s,s=l),a=$n(i,s),sR(this,a,t),this}}function sR(t,e,i,s){var a=e._milliseconds,l=g1(e._days),o=g1(e._months);t.isValid()&&(s=s??!0,o&&W3(t,up(t,"Month")+o*i),l&&z3(t,"Date",up(t,"Date")+l*i),a&&t._d.setTime(t._d.valueOf()+a*i),s&&$t.updateOffset(t,l||o))}var UH=rR(1,"add"),HH=rR(-1,"subtract");function aR(t){return typeof t=="string"||t instanceof String}function WH(t){return qn(t)||Dp(t)||aR(t)||ol(t)||qH(t)||jH(t)||t===null||t===void 0}function jH(t){var e=rh(t)&&!Ex(t),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,l,o=s.length;for(a=0;a<o;a+=1)l=s[a],i=i||nr(t,l);return e&&i}function qH(t){var e=jn(t),i=!1;return e&&(i=t.filter(function(s){return!ol(s)&&aR(t)}).length===0),e&&i}function $H(t){var e=rh(t)&&!Ex(t),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,l;for(a=0;a<s.length;a+=1)l=s[a],i=i||nr(t,l);return e&&i}function VH(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function YH(t,e){arguments.length===1&&(arguments[0]?WH(arguments[0])?(t=arguments[0],e=void 0):$H(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var i=t||Wr(),s=$x(i,this).startOf("day"),a=$t.calendarFormat(this,s)||"sameElse",l=e&&(_o(e[a])?e[a].call(this,i):e[a]);return this.format(l||this.localeData().calendar(a,this,Wr(i)))}function GH(){return new Ip(this)}function XH(t,e){var i=qn(t)?t:Wr(t);return this.isValid()&&i.isValid()?(e=_n(e)||"millisecond",e==="millisecond"?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf()):!1}function KH(t,e){var i=qn(t)?t:Wr(t);return this.isValid()&&i.isValid()?(e=_n(e)||"millisecond",e==="millisecond"?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf()):!1}function ZH(t,e,i,s){var a=qn(t)?t:Wr(t),l=qn(e)?e:Wr(e);return this.isValid()&&a.isValid()&&l.isValid()?(s=s||"()",(s[0]==="("?this.isAfter(a,i):!this.isBefore(a,i))&&(s[1]===")"?this.isBefore(l,i):!this.isAfter(l,i))):!1}function QH(t,e){var i=qn(t)?t:Wr(t),s;return this.isValid()&&i.isValid()?(e=_n(e)||"millisecond",e==="millisecond"?this.valueOf()===i.valueOf():(s=i.valueOf(),this.clone().startOf(e).valueOf()<=s&&s<=this.clone().endOf(e).valueOf())):!1}function JH(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function eW(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tW(t,e,i){var s,a,l;if(!this.isValid())return NaN;if(s=$x(t,this),!s.isValid())return NaN;switch(a=(s.utcOffset()-this.utcOffset())*6e4,e=_n(e),e){case"year":l=Vg(this,s)/12;break;case"month":l=Vg(this,s);break;case"quarter":l=Vg(this,s)/3;break;case"second":l=(this-s)/1e3;break;case"minute":l=(this-s)/6e4;break;case"hour":l=(this-s)/36e5;break;case"day":l=(this-s-a)/864e5;break;case"week":l=(this-s-a)/6048e5;break;default:l=this-s}return i?l:hn(l)}function Vg(t,e){if(t.date()<e.date())return-Vg(e,t);var i=(e.year()-t.year())*12+(e.month()-t.month()),s=t.clone().add(i,"months"),a,l;return e-s<0?(a=t.clone().add(i-1,"months"),l=(e-s)/(s-a)):(a=t.clone().add(i+1,"months"),l=(e-s)/(a-s)),-(i+l)||0}$t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";$t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function iW(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rW(t){if(!this.isValid())return null;var e=t!==!0,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?qg(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):_o(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",qg(i,"Z")):qg(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function sW(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",i,s,a,l;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),i="["+t+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",l=e+'[")]',this.format(i+s+a+l)}function aW(t){t||(t=this.isUtc()?$t.defaultFormatUtc:$t.defaultFormat);var e=qg(this,t);return this.localeData().postformat(e)}function nW(t,e){return this.isValid()&&(qn(t)&&t.isValid()||Wr(t).isValid())?$n({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function oW(t){return this.from(Wr(),t)}function lW(t,e){return this.isValid()&&(qn(t)&&t.isValid()||Wr(t).isValid())?$n({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function cW(t){return this.to(Wr(),t)}function nR(t){var e;return t===void 0?this._locale._abbr:(e=dl(t),e!=null&&(this._locale=e),this)}var oR=wn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function lR(){return this._locale}var dy=1e3,uu=60*dy,fy=60*uu,cR=(365*400+97)*24*fy;function du(t,e){return(t%e+e)%e}function hR(t,e,i){return t<100&&t>=0?new Date(t+400,e,i)-cR:new Date(t,e,i).valueOf()}function uR(t,e,i){return t<100&&t>=0?Date.UTC(t+400,e,i)-cR:Date.UTC(t,e,i)}function hW(t){var e,i;if(t=_n(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?uR:hR,t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=du(e+(this._isUTC?0:this.utcOffset()*uu),fy);break;case"minute":e=this._d.valueOf(),e-=du(e,uu);break;case"second":e=this._d.valueOf(),e-=du(e,dy);break}return this._d.setTime(e),$t.updateOffset(this,!0),this}function uW(t){var e,i;if(t=_n(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(i=this._isUTC?uR:hR,t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=fy-du(e+(this._isUTC?0:this.utcOffset()*uu),fy)-1;break;case"minute":e=this._d.valueOf(),e+=uu-du(e,uu)-1;break;case"second":e=this._d.valueOf(),e+=dy-du(e,dy)-1;break}return this._d.setTime(e),$t.updateOffset(this,!0),this}function dW(){return this._d.valueOf()-(this._offset||0)*6e4}function fW(){return Math.floor(this.valueOf()/1e3)}function pW(){return new Date(this.valueOf())}function mW(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function gW(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function yW(){return this.isValid()?this.toISOString():null}function vW(){return Ox(this)}function bW(){return Fl({},Wi(this))}function wW(){return Wi(this).overflow}function _W(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}gi("N",0,0,"eraAbbr");gi("NN",0,0,"eraAbbr");gi("NNN",0,0,"eraAbbr");gi("NNNN",0,0,"eraName");gi("NNNNN",0,0,"eraNarrow");gi("y",["y",1],"yo","eraYear");gi("y",["yy",2],0,"eraYear");gi("y",["yyy",3],0,"eraYear");gi("y",["yyyy",4],0,"eraYear");Xt("N",Vx);Xt("NN",Vx);Xt("NNN",Vx);Xt("NNNN",LW);Xt("NNNNN",RW);Pr(["N","NN","NNN","NNNN","NNNNN"],function(t,e,i,s){var a=i._locale.erasParse(t,s,i._strict);a?Wi(i).era=a:Wi(i).invalidEra=t});Xt("y",Vu);Xt("yy",Vu);Xt("yyy",Vu);Xt("yyyy",Vu);Xt("yo",FW);Pr(["y","yy","yyy","yyyy"],ea);Pr(["yo"],function(t,e,i,s){var a;i._locale._eraYearOrdinalRegex&&(a=t.match(i._locale._eraYearOrdinalRegex)),i._locale.eraYearOrdinalParse?e[ea]=i._locale.eraYearOrdinalParse(t,a):e[ea]=parseInt(t,10)});function xW(t,e){var i,s,a,l=this._eras||dl("en")._eras;for(i=0,s=l.length;i<s;++i){switch(typeof l[i].since){case"string":a=$t(l[i].since).startOf("day"),l[i].since=a.valueOf();break}switch(typeof l[i].until){case"undefined":l[i].until=1/0;break;case"string":a=$t(l[i].until).startOf("day").valueOf(),l[i].until=a.valueOf();break}}return l}function kW(t,e,i){var s,a,l=this.eras(),o,h,d;for(t=t.toUpperCase(),s=0,a=l.length;s<a;++s)if(o=l[s].name.toUpperCase(),h=l[s].abbr.toUpperCase(),d=l[s].narrow.toUpperCase(),i)switch(e){case"N":case"NN":case"NNN":if(h===t)return l[s];break;case"NNNN":if(o===t)return l[s];break;case"NNNNN":if(d===t)return l[s];break}else if([o,h,d].indexOf(t)>=0)return l[s]}function SW(t,e){var i=t.since<=t.until?1:-1;return e===void 0?$t(t.since).year():$t(t.since).year()+(e-t.offset)*i}function TW(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].name;return""}function CW(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].narrow;return""}function EW(){var t,e,i,s=this.localeData().eras();for(t=0,e=s.length;t<e;++t)if(i=this.clone().startOf("day").valueOf(),s[t].since<=i&&i<=s[t].until||s[t].until<=i&&i<=s[t].since)return s[t].abbr;return""}function OW(){var t,e,i,s,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(i=a[t].since<=a[t].until?1:-1,s=this.clone().startOf("day").valueOf(),a[t].since<=s&&s<=a[t].until||a[t].until<=s&&s<=a[t].since)return(this.year()-$t(a[t].since).year())*i+a[t].offset;return this.year()}function AW(t){return nr(this,"_erasNameRegex")||Yx.call(this),t?this._erasNameRegex:this._erasRegex}function PW(t){return nr(this,"_erasAbbrRegex")||Yx.call(this),t?this._erasAbbrRegex:this._erasRegex}function MW(t){return nr(this,"_erasNarrowRegex")||Yx.call(this),t?this._erasNarrowRegex:this._erasRegex}function Vx(t,e){return e.erasAbbrRegex(t)}function LW(t,e){return e.erasNameRegex(t)}function RW(t,e){return e.erasNarrowRegex(t)}function FW(t,e){return e._eraYearOrdinalRegex||Vu}function Yx(){var t=[],e=[],i=[],s=[],a,l,o,h,d,m=this.eras();for(a=0,l=m.length;a<l;++a)o=rl(m[a].name),h=rl(m[a].abbr),d=rl(m[a].narrow),e.push(o),t.push(h),i.push(d),s.push(o),s.push(h),s.push(d);this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}gi(0,["gg",2],0,function(){return this.weekYear()%100});gi(0,["GG",2],0,function(){return this.isoWeekYear()%100});function mv(t,e){gi(0,[t,t.length],0,e)}mv("gggg","weekYear");mv("ggggg","weekYear");mv("GGGG","isoWeekYear");mv("GGGGG","isoWeekYear");Xt("G",hv);Xt("g",hv);Xt("GG",jr,Ja);Xt("gg",jr,Ja);Xt("GGGG",Fx,Rx);Xt("gggg",Fx,Rx);Xt("GGGGG",cv,ov);Xt("ggggg",cv,ov);Np(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,s){e[s.substr(0,2)]=Qi(t)});Np(["gg","GG"],function(t,e,i,s){e[s]=$t.parseTwoDigitYear(t)});function DW(t){return dR.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function IW(t){return dR.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function BW(){return sl(this.year(),1,4)}function NW(){return sl(this.isoWeekYear(),1,4)}function zW(){var t=this.localeData()._week;return sl(this.year(),t.dow,t.doy)}function UW(){var t=this.localeData()._week;return sl(this.weekYear(),t.dow,t.doy)}function dR(t,e,i,s,a){var l;return t==null?fp(this,s,a).year:(l=sl(t,s,a),e>l&&(e=l),HW.call(this,t,e,i,s,a))}function HW(t,e,i,s,a){var l=$3(t,e,i,s,a),o=dp(l.year,0,l.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}gi("Q",0,"Qo","quarter");Xt("Q",F3);Pr("Q",function(t,e){e[Jo]=(Qi(t)-1)*3});function WW(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}gi("D",["DD",2],"Do","date");Xt("D",jr,Yu);Xt("DD",jr,Ja);Xt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});Pr(["D","DD"],ho);Pr("Do",function(t,e){e[ho]=Qi(t.match(jr)[0])});var fR=Gu("Date",!0);gi("DDD",["DDDD",3],"DDDo","dayOfYear");Xt("DDD",lv);Xt("DDDD",D3);Pr(["DDD","DDDD"],function(t,e,i){i._dayOfYear=Qi(t)});function jW(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}gi("m",["mm",2],0,"minute");Xt("m",jr,Dx);Xt("mm",jr,Ja);Pr(["m","mm"],zn);var qW=Gu("Minutes",!1);gi("s",["ss",2],0,"second");Xt("s",jr,Dx);Xt("ss",jr,Ja);Pr(["s","ss"],el);var $W=Gu("Seconds",!1);gi("S",0,0,function(){return~~(this.millisecond()/100)});gi(0,["SS",2],0,function(){return~~(this.millisecond()/10)});gi(0,["SSS",3],0,"millisecond");gi(0,["SSSS",4],0,function(){return this.millisecond()*10});gi(0,["SSSSS",5],0,function(){return this.millisecond()*100});gi(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});gi(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});gi(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});gi(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Xt("S",lv,F3);Xt("SS",lv,Ja);Xt("SSS",lv,D3);var Dl,pR;for(Dl="SSSS";Dl.length<=9;Dl+="S")Xt(Dl,Vu);function VW(t,e){e[Xc]=Qi(("0."+t)*1e3)}for(Dl="S";Dl.length<=9;Dl+="S")Pr(Dl,VW);pR=Gu("Milliseconds",!1);gi("z",0,0,"zoneAbbr");gi("zz",0,0,"zoneName");function YW(){return this._isUTC?"UTC":""}function GW(){return this._isUTC?"Coordinated Universal Time":""}var kt=Ip.prototype;kt.add=UH;kt.calendar=YH;kt.clone=GH;kt.diff=tW;kt.endOf=uW;kt.format=aW;kt.from=nW;kt.fromNow=oW;kt.to=lW;kt.toNow=cW;kt.get=s7;kt.invalidAt=wW;kt.isAfter=XH;kt.isBefore=KH;kt.isBetween=ZH;kt.isSame=QH;kt.isSameOrAfter=JH;kt.isSameOrBefore=eW;kt.isValid=vW;kt.lang=oR;kt.locale=nR;kt.localeData=lR;kt.max=vH;kt.min=yH;kt.parsingFlags=bW;kt.set=a7;kt.startOf=hW;kt.subtract=HH;kt.toArray=mW;kt.toObject=gW;kt.toDate=pW;kt.toISOString=rW;kt.inspect=sW;typeof Symbol<"u"&&Symbol.for!=null&&(kt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});kt.toJSON=yW;kt.toString=iW;kt.unix=fW;kt.valueOf=dW;kt.creationData=_W;kt.eraName=TW;kt.eraNarrow=CW;kt.eraAbbr=EW;kt.eraYear=OW;kt.year=N3;kt.isLeapYear=r7;kt.weekYear=DW;kt.isoWeekYear=IW;kt.quarter=kt.quarters=WW;kt.month=j3;kt.daysInMonth=p7;kt.week=kt.weeks=x7;kt.isoWeek=kt.isoWeeks=k7;kt.weeksInYear=zW;kt.weeksInWeekYear=UW;kt.isoWeeksInYear=BW;kt.isoWeeksInISOWeekYear=NW;kt.date=fR;kt.day=kt.days=I7;kt.weekday=B7;kt.isoWeekday=N7;kt.dayOfYear=jW;kt.hour=kt.hours=$7;kt.minute=kt.minutes=qW;kt.second=kt.seconds=$W;kt.millisecond=kt.milliseconds=pR;kt.utcOffset=EH;kt.utc=AH;kt.local=PH;kt.parseZone=MH;kt.hasAlignedHourOffset=LH;kt.isDST=RH;kt.isLocal=DH;kt.isUtcOffset=IH;kt.isUtc=iR;kt.isUTC=iR;kt.zoneAbbr=YW;kt.zoneName=GW;kt.dates=wn("dates accessor is deprecated. Use date instead.",fR);kt.months=wn("months accessor is deprecated. Use month instead",j3);kt.years=wn("years accessor is deprecated. Use year instead",N3);kt.zone=wn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",OH);kt.isDSTShifted=wn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",FH);function XW(t){return Wr(t*1e3)}function KW(){return Wr.apply(null,arguments).parseZone()}function mR(t){return t}var or=Px.prototype;or.calendar=DU;or.longDateFormat=zU;or.invalidDate=HU;or.ordinal=qU;or.preparse=mR;or.postformat=mR;or.relativeTime=VU;or.pastFuture=YU;or.set=RU;or.eras=xW;or.erasParse=kW;or.erasConvertYear=SW;or.erasAbbrRegex=PW;or.erasNameRegex=AW;or.erasNarrowRegex=MW;or.months=h7;or.monthsShort=u7;or.monthsParse=f7;or.monthsRegex=g7;or.monthsShortRegex=m7;or.week=v7;or.firstDayOfYear=_7;or.firstDayOfWeek=w7;or.weekdays=M7;or.weekdaysMin=R7;or.weekdaysShort=L7;or.weekdaysParse=D7;or.weekdaysRegex=z7;or.weekdaysShortRegex=U7;or.weekdaysMinRegex=H7;or.isPM=j7;or.meridiem=V7;function py(t,e,i,s){var a=dl(),l=wo().set(s,e);return a[i](l,t)}function gR(t,e,i){if(ol(t)&&(e=t,t=void 0),t=t||"",e!=null)return py(t,e,i,"month");var s,a=[];for(s=0;s<12;s++)a[s]=py(t,s,i,"month");return a}function Gx(t,e,i,s){typeof t=="boolean"?(ol(e)&&(i=e,e=void 0),e=e||""):(e=t,i=e,t=!1,ol(e)&&(i=e,e=void 0),e=e||"");var a=dl(),l=t?a._week.dow:0,o,h=[];if(i!=null)return py(e,(i+l)%7,s,"day");for(o=0;o<7;o++)h[o]=py(e,(o+l)%7,s,"day");return h}function ZW(t,e){return gR(t,e,"months")}function QW(t,e){return gR(t,e,"monthsShort")}function JW(t,e,i){return Gx(t,e,i,"weekdays")}function ej(t,e,i){return Gx(t,e,i,"weekdaysShort")}function tj(t,e,i){return Gx(t,e,i,"weekdaysMin")}Bl("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=Qi(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+i}});$t.lang=wn("moment.lang is deprecated. Use moment.locale instead.",Bl);$t.langData=wn("moment.langData is deprecated. Use moment.localeData instead.",dl);var Yo=Math.abs;function ij(){var t=this._data;return this._milliseconds=Yo(this._milliseconds),this._days=Yo(this._days),this._months=Yo(this._months),t.milliseconds=Yo(t.milliseconds),t.seconds=Yo(t.seconds),t.minutes=Yo(t.minutes),t.hours=Yo(t.hours),t.months=Yo(t.months),t.years=Yo(t.years),this}function yR(t,e,i,s){var a=$n(e,i);return t._milliseconds+=s*a._milliseconds,t._days+=s*a._days,t._months+=s*a._months,t._bubble()}function rj(t,e){return yR(this,t,e,1)}function sj(t,e){return yR(this,t,e,-1)}function qP(t){return t<0?Math.floor(t):Math.ceil(t)}function aj(){var t=this._milliseconds,e=this._days,i=this._months,s=this._data,a,l,o,h,d;return t>=0&&e>=0&&i>=0||t<=0&&e<=0&&i<=0||(t+=qP(v1(i)+e)*864e5,e=0,i=0),s.milliseconds=t%1e3,a=hn(t/1e3),s.seconds=a%60,l=hn(a/60),s.minutes=l%60,o=hn(l/60),s.hours=o%24,e+=hn(o/24),d=hn(vR(e)),i+=d,e-=qP(v1(d)),h=hn(i/12),i%=12,s.days=e,s.months=i,s.years=h,this}function vR(t){return t*4800/146097}function v1(t){return t*146097/4800}function nj(t){if(!this.isValid())return NaN;var e,i,s=this._milliseconds;if(t=_n(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+s/864e5,i=this._months+vR(e),t){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(e=this._days+Math.round(v1(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return e*24+s/36e5;case"minute":return e*1440+s/6e4;case"second":return e*86400+s/1e3;case"millisecond":return Math.floor(e*864e5)+s;default:throw new Error("Unknown unit "+t)}}function fl(t){return function(){return this.as(t)}}var bR=fl("ms"),oj=fl("s"),lj=fl("m"),cj=fl("h"),hj=fl("d"),uj=fl("w"),dj=fl("M"),fj=fl("Q"),pj=fl("y"),mj=bR;function gj(){return $n(this)}function yj(t){return t=_n(t),this.isValid()?this[t+"s"]():NaN}function _h(t){return function(){return this.isValid()?this._data[t]:NaN}}var vj=_h("milliseconds"),bj=_h("seconds"),wj=_h("minutes"),_j=_h("hours"),xj=_h("days"),kj=_h("months"),Sj=_h("years");function Tj(){return hn(this.days()/7)}var Qo=Math.round,lu={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Cj(t,e,i,s,a){return a.relativeTime(e||1,!!i,t,s)}function Ej(t,e,i,s){var a=$n(t).abs(),l=Qo(a.as("s")),o=Qo(a.as("m")),h=Qo(a.as("h")),d=Qo(a.as("d")),m=Qo(a.as("M")),f=Qo(a.as("w")),b=Qo(a.as("y")),k=l<=i.ss&&["s",l]||l<i.s&&["ss",l]||o<=1&&["m"]||o<i.m&&["mm",o]||h<=1&&["h"]||h<i.h&&["hh",h]||d<=1&&["d"]||d<i.d&&["dd",d];return i.w!=null&&(k=k||f<=1&&["w"]||f<i.w&&["ww",f]),k=k||m<=1&&["M"]||m<i.M&&["MM",m]||b<=1&&["y"]||["yy",b],k[2]=e,k[3]=+t>0,k[4]=s,Cj.apply(null,k)}function Oj(t){return t===void 0?Qo:typeof t=="function"?(Qo=t,!0):!1}function Aj(t,e){return lu[t]===void 0?!1:e===void 0?lu[t]:(lu[t]=e,t==="s"&&(lu.ss=e-1),!0)}function Pj(t,e){if(!this.isValid())return this.localeData().invalidDate();var i=!1,s=lu,a,l;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(i=t),typeof e=="object"&&(s=Object.assign({},lu,e),e.s!=null&&e.ss==null&&(s.ss=e.s-1)),a=this.localeData(),l=Ej(this,!i,s,a),i&&(l=a.pastFuture(+this,l)),a.postformat(l)}var x_=Math.abs;function Qh(t){return(t>0)-(t<0)||+t}function gv(){if(!this.isValid())return this.localeData().invalidDate();var t=x_(this._milliseconds)/1e3,e=x_(this._days),i=x_(this._months),s,a,l,o,h=this.asSeconds(),d,m,f,b;return h?(s=hn(t/60),a=hn(s/60),t%=60,s%=60,l=hn(i/12),i%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",d=h<0?"-":"",m=Qh(this._months)!==Qh(h)?"-":"",f=Qh(this._days)!==Qh(h)?"-":"",b=Qh(this._milliseconds)!==Qh(h)?"-":"",d+"P"+(l?m+l+"Y":"")+(i?m+i+"M":"")+(e?f+e+"D":"")+(a||s||t?"T":"")+(a?b+a+"H":"")+(s?b+s+"M":"")+(t?b+o+"S":"")):"P0D"}var tr=pv.prototype;tr.isValid=kH;tr.abs=ij;tr.add=rj;tr.subtract=sj;tr.as=nj;tr.asMilliseconds=bR;tr.asSeconds=oj;tr.asMinutes=lj;tr.asHours=cj;tr.asDays=hj;tr.asWeeks=uj;tr.asMonths=dj;tr.asQuarters=fj;tr.asYears=pj;tr.valueOf=mj;tr._bubble=aj;tr.clone=gj;tr.get=yj;tr.milliseconds=vj;tr.seconds=bj;tr.minutes=wj;tr.hours=_j;tr.days=xj;tr.weeks=Tj;tr.months=kj;tr.years=Sj;tr.humanize=Pj;tr.toISOString=gv;tr.toString=gv;tr.toJSON=gv;tr.locale=nR;tr.localeData=lR;tr.toIsoString=wn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",gv);tr.lang=oR;gi("X",0,0,"unix");gi("x",0,0,"valueOf");Xt("x",hv);Xt("X",ZU);Pr("X",function(t,e,i){i._d=new Date(parseFloat(t)*1e3)});Pr("x",function(t,e,i){i._d=new Date(Qi(t))});//! moment.js
$t.version="2.30.1";MU(Wr);$t.fn=kt;$t.min=bH;$t.max=wH;$t.now=_H;$t.utc=wo;$t.unix=XW;$t.months=ZW;$t.isDate=Dp;$t.locale=Bl;$t.invalid=nv;$t.duration=$n;$t.isMoment=qn;$t.weekdays=JW;$t.parseZone=KW;$t.localeData=dl;$t.isDuration=$g;$t.monthsShort=QW;$t.weekdaysMin=tj;$t.defineLocale=Ux;$t.updateLocale=K7;$t.locales=Z7;$t.weekdaysShort=ej;$t.normalizeUnits=_n;$t.relativeTimeRounding=Oj;$t.relativeTimeThreshold=Aj;$t.calendarFormat=VH;$t.prototype=kt;$t.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var Fa="top",pn="bottom",mn="right",Da="left",Xx="auto",zp=[Fa,pn,mn,Da],Cu="start",mp="end",Mj="clippingParents",wR="viewport",Af="popper",Lj="reference",$P=zp.reduce(function(t,e){return t.concat([e+"-"+Cu,e+"-"+mp])},[]),_R=[].concat(zp,[Xx]).reduce(function(t,e){return t.concat([e,e+"-"+Cu,e+"-"+mp])},[]),Rj="beforeRead",Fj="read",Dj="afterRead",Ij="beforeMain",Bj="main",Nj="afterMain",zj="beforeWrite",Uj="write",Hj="afterWrite",Wj=[Rj,Fj,Dj,Ij,Bj,Nj,zj,Uj,Hj];function mo(t){return t?(t.nodeName||"").toLowerCase():null}function Ka(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hh(t){var e=Ka(t).Element;return t instanceof e||t instanceof Element}function fn(t){var e=Ka(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Kx(t){if(typeof ShadowRoot>"u")return!1;var e=Ka(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function jj(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var s=e.styles[i]||{},a=e.attributes[i]||{},l=e.elements[i];!fn(l)||!mo(l)||(Object.assign(l.style,s),Object.keys(a).forEach(function(o){var h=a[o];h===!1?l.removeAttribute(o):l.setAttribute(o,h===!0?"":h)}))})}function qj(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(s){var a=e.elements[s],l=e.attributes[s]||{},o=Object.keys(e.styles.hasOwnProperty(s)?e.styles[s]:i[s]),h=o.reduce(function(d,m){return d[m]="",d},{});!fn(a)||!mo(a)||(Object.assign(a.style,h),Object.keys(l).forEach(function(d){a.removeAttribute(d)}))})}}const xR={name:"applyStyles",enabled:!0,phase:"write",fn:jj,effect:qj,requires:["computeStyles"]};function uo(t){return t.split("-")[0]}var sh=Math.max,my=Math.min,Eu=Math.round;function b1(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function kR(){return!/^((?!chrome|android).)*safari/i.test(b1())}function Ou(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var s=t.getBoundingClientRect(),a=1,l=1;e&&fn(t)&&(a=t.offsetWidth>0&&Eu(s.width)/t.offsetWidth||1,l=t.offsetHeight>0&&Eu(s.height)/t.offsetHeight||1);var o=hh(t)?Ka(t):window,h=o.visualViewport,d=!kR()&&i,m=(s.left+(d&&h?h.offsetLeft:0))/a,f=(s.top+(d&&h?h.offsetTop:0))/l,b=s.width/a,k=s.height/l;return{width:b,height:k,top:f,right:m+b,bottom:f+k,left:m,x:m,y:f}}function Zx(t){var e=Ou(t),i=t.offsetWidth,s=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-s)<=1&&(s=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:s}}function SR(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&Kx(i)){var s=e;do{if(s&&t.isSameNode(s))return!0;s=s.parentNode||s.host}while(s)}return!1}function ll(t){return Ka(t).getComputedStyle(t)}function $j(t){return["table","td","th"].indexOf(mo(t))>=0}function $l(t){return((hh(t)?t.ownerDocument:t.document)||window.document).documentElement}function yv(t){return mo(t)==="html"?t:t.assignedSlot||t.parentNode||(Kx(t)?t.host:null)||$l(t)}function VP(t){return!fn(t)||ll(t).position==="fixed"?null:t.offsetParent}function Vj(t){var e=/firefox/i.test(b1()),i=/Trident/i.test(b1());if(i&&fn(t)){var s=ll(t);if(s.position==="fixed")return null}var a=yv(t);for(Kx(a)&&(a=a.host);fn(a)&&["html","body"].indexOf(mo(a))<0;){var l=ll(a);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return a;a=a.parentNode}return null}function Up(t){for(var e=Ka(t),i=VP(t);i&&$j(i)&&ll(i).position==="static";)i=VP(i);return i&&(mo(i)==="html"||mo(i)==="body"&&ll(i).position==="static")?e:i||Vj(t)||e}function Qx(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Jf(t,e,i){return sh(t,my(e,i))}function Yj(t,e,i){var s=Jf(t,e,i);return s>i?i:s}function TR(){return{top:0,right:0,bottom:0,left:0}}function CR(t){return Object.assign({},TR(),t)}function ER(t,e){return e.reduce(function(i,s){return i[s]=t,i},{})}var Gj=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,CR(typeof e!="number"?e:ER(e,zp))};function Xj(t){var e,i=t.state,s=t.name,a=t.options,l=i.elements.arrow,o=i.modifiersData.popperOffsets,h=uo(i.placement),d=Qx(h),m=[Da,mn].indexOf(h)>=0,f=m?"height":"width";if(!(!l||!o)){var b=Gj(a.padding,i),k=Zx(l),w=d==="y"?Fa:Da,E=d==="y"?pn:mn,P=i.rects.reference[f]+i.rects.reference[d]-o[d]-i.rects.popper[f],L=o[d]-i.rects.reference[d],R=Up(l),u=R?d==="y"?R.clientHeight||0:R.clientWidth||0:0,T=P/2-L/2,y=b[w],S=u-k[f]-b[E],C=u/2-k[f]/2+T,M=Jf(y,C,S),I=d;i.modifiersData[s]=(e={},e[I]=M,e.centerOffset=M-C,e)}}function Kj(t){var e=t.state,i=t.options,s=i.element,a=s===void 0?"[data-popper-arrow]":s;a!=null&&(typeof a=="string"&&(a=e.elements.popper.querySelector(a),!a)||SR(e.elements.popper,a)&&(e.elements.arrow=a))}const Zj={name:"arrow",enabled:!0,phase:"main",fn:Xj,effect:Kj,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Au(t){return t.split("-")[1]}var Qj={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jj(t,e){var i=t.x,s=t.y,a=e.devicePixelRatio||1;return{x:Eu(i*a)/a||0,y:Eu(s*a)/a||0}}function YP(t){var e,i=t.popper,s=t.popperRect,a=t.placement,l=t.variation,o=t.offsets,h=t.position,d=t.gpuAcceleration,m=t.adaptive,f=t.roundOffsets,b=t.isFixed,k=o.x,w=k===void 0?0:k,E=o.y,P=E===void 0?0:E,L=typeof f=="function"?f({x:w,y:P}):{x:w,y:P};w=L.x,P=L.y;var R=o.hasOwnProperty("x"),u=o.hasOwnProperty("y"),T=Da,y=Fa,S=window;if(m){var C=Up(i),M="clientHeight",I="clientWidth";if(C===Ka(i)&&(C=$l(i),ll(C).position!=="static"&&h==="absolute"&&(M="scrollHeight",I="scrollWidth")),C=C,a===Fa||(a===Da||a===mn)&&l===mp){y=pn;var U=b&&C===S&&S.visualViewport?S.visualViewport.height:C[M];P-=U-s.height,P*=d?1:-1}if(a===Da||(a===Fa||a===pn)&&l===mp){T=mn;var z=b&&C===S&&S.visualViewport?S.visualViewport.width:C[I];w-=z-s.width,w*=d?1:-1}}var g=Object.assign({position:h},m&&Qj),x=f===!0?Jj({x:w,y:P},Ka(i)):{x:w,y:P};if(w=x.x,P=x.y,d){var A;return Object.assign({},g,(A={},A[y]=u?"0":"",A[T]=R?"0":"",A.transform=(S.devicePixelRatio||1)<=1?"translate("+w+"px, "+P+"px)":"translate3d("+w+"px, "+P+"px, 0)",A))}return Object.assign({},g,(e={},e[y]=u?P+"px":"",e[T]=R?w+"px":"",e.transform="",e))}function eq(t){var e=t.state,i=t.options,s=i.gpuAcceleration,a=s===void 0?!0:s,l=i.adaptive,o=l===void 0?!0:l,h=i.roundOffsets,d=h===void 0?!0:h,m={placement:uo(e.placement),variation:Au(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:a,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,YP(Object.assign({},m,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:d})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,YP(Object.assign({},m,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:d})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const tq={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:eq,data:{}};var Ag={passive:!0};function iq(t){var e=t.state,i=t.instance,s=t.options,a=s.scroll,l=a===void 0?!0:a,o=s.resize,h=o===void 0?!0:o,d=Ka(e.elements.popper),m=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&m.forEach(function(f){f.addEventListener("scroll",i.update,Ag)}),h&&d.addEventListener("resize",i.update,Ag),function(){l&&m.forEach(function(f){f.removeEventListener("scroll",i.update,Ag)}),h&&d.removeEventListener("resize",i.update,Ag)}}const rq={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:iq,data:{}};var sq={left:"right",right:"left",bottom:"top",top:"bottom"};function Yg(t){return t.replace(/left|right|bottom|top/g,function(e){return sq[e]})}var aq={start:"end",end:"start"};function GP(t){return t.replace(/start|end/g,function(e){return aq[e]})}function Jx(t){var e=Ka(t),i=e.pageXOffset,s=e.pageYOffset;return{scrollLeft:i,scrollTop:s}}function ek(t){return Ou($l(t)).left+Jx(t).scrollLeft}function nq(t,e){var i=Ka(t),s=$l(t),a=i.visualViewport,l=s.clientWidth,o=s.clientHeight,h=0,d=0;if(a){l=a.width,o=a.height;var m=kR();(m||!m&&e==="fixed")&&(h=a.offsetLeft,d=a.offsetTop)}return{width:l,height:o,x:h+ek(t),y:d}}function oq(t){var e,i=$l(t),s=Jx(t),a=(e=t.ownerDocument)==null?void 0:e.body,l=sh(i.scrollWidth,i.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),o=sh(i.scrollHeight,i.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),h=-s.scrollLeft+ek(t),d=-s.scrollTop;return ll(a||i).direction==="rtl"&&(h+=sh(i.clientWidth,a?a.clientWidth:0)-l),{width:l,height:o,x:h,y:d}}function tk(t){var e=ll(t),i=e.overflow,s=e.overflowX,a=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+a+s)}function OR(t){return["html","body","#document"].indexOf(mo(t))>=0?t.ownerDocument.body:fn(t)&&tk(t)?t:OR(yv(t))}function ep(t,e){var i;e===void 0&&(e=[]);var s=OR(t),a=s===((i=t.ownerDocument)==null?void 0:i.body),l=Ka(s),o=a?[l].concat(l.visualViewport||[],tk(s)?s:[]):s,h=e.concat(o);return a?h:h.concat(ep(yv(o)))}function w1(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function lq(t,e){var i=Ou(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function XP(t,e,i){return e===wR?w1(nq(t,i)):hh(e)?lq(e,i):w1(oq($l(t)))}function cq(t){var e=ep(yv(t)),i=["absolute","fixed"].indexOf(ll(t).position)>=0,s=i&&fn(t)?Up(t):t;return hh(s)?e.filter(function(a){return hh(a)&&SR(a,s)&&mo(a)!=="body"}):[]}function hq(t,e,i,s){var a=e==="clippingParents"?cq(t):[].concat(e),l=[].concat(a,[i]),o=l[0],h=l.reduce(function(d,m){var f=XP(t,m,s);return d.top=sh(f.top,d.top),d.right=my(f.right,d.right),d.bottom=my(f.bottom,d.bottom),d.left=sh(f.left,d.left),d},XP(t,o,s));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function AR(t){var e=t.reference,i=t.element,s=t.placement,a=s?uo(s):null,l=s?Au(s):null,o=e.x+e.width/2-i.width/2,h=e.y+e.height/2-i.height/2,d;switch(a){case Fa:d={x:o,y:e.y-i.height};break;case pn:d={x:o,y:e.y+e.height};break;case mn:d={x:e.x+e.width,y:h};break;case Da:d={x:e.x-i.width,y:h};break;default:d={x:e.x,y:e.y}}var m=a?Qx(a):null;if(m!=null){var f=m==="y"?"height":"width";switch(l){case Cu:d[m]=d[m]-(e[f]/2-i[f]/2);break;case mp:d[m]=d[m]+(e[f]/2-i[f]/2);break}}return d}function gp(t,e){e===void 0&&(e={});var i=e,s=i.placement,a=s===void 0?t.placement:s,l=i.strategy,o=l===void 0?t.strategy:l,h=i.boundary,d=h===void 0?Mj:h,m=i.rootBoundary,f=m===void 0?wR:m,b=i.elementContext,k=b===void 0?Af:b,w=i.altBoundary,E=w===void 0?!1:w,P=i.padding,L=P===void 0?0:P,R=CR(typeof L!="number"?L:ER(L,zp)),u=k===Af?Lj:Af,T=t.rects.popper,y=t.elements[E?u:k],S=hq(hh(y)?y:y.contextElement||$l(t.elements.popper),d,f,o),C=Ou(t.elements.reference),M=AR({reference:C,element:T,placement:a}),I=w1(Object.assign({},T,M)),U=k===Af?I:C,z={top:S.top-U.top+R.top,bottom:U.bottom-S.bottom+R.bottom,left:S.left-U.left+R.left,right:U.right-S.right+R.right},g=t.modifiersData.offset;if(k===Af&&g){var x=g[a];Object.keys(z).forEach(function(A){var F=[mn,pn].indexOf(A)>=0?1:-1,B=[Fa,pn].indexOf(A)>=0?"y":"x";z[A]+=x[B]*F})}return z}function uq(t,e){e===void 0&&(e={});var i=e,s=i.placement,a=i.boundary,l=i.rootBoundary,o=i.padding,h=i.flipVariations,d=i.allowedAutoPlacements,m=d===void 0?_R:d,f=Au(s),b=f?h?$P:$P.filter(function(E){return Au(E)===f}):zp,k=b.filter(function(E){return m.indexOf(E)>=0});k.length===0&&(k=b);var w=k.reduce(function(E,P){return E[P]=gp(t,{placement:P,boundary:a,rootBoundary:l,padding:o})[uo(P)],E},{});return Object.keys(w).sort(function(E,P){return w[E]-w[P]})}function dq(t){if(uo(t)===Xx)return[];var e=Yg(t);return[GP(t),e,GP(e)]}function fq(t){var e=t.state,i=t.options,s=t.name;if(!e.modifiersData[s]._skip){for(var a=i.mainAxis,l=a===void 0?!0:a,o=i.altAxis,h=o===void 0?!0:o,d=i.fallbackPlacements,m=i.padding,f=i.boundary,b=i.rootBoundary,k=i.altBoundary,w=i.flipVariations,E=w===void 0?!0:w,P=i.allowedAutoPlacements,L=e.options.placement,R=uo(L),u=R===L,T=d||(u||!E?[Yg(L)]:dq(L)),y=[L].concat(T).reduce(function(Ve,Ae){return Ve.concat(uo(Ae)===Xx?uq(e,{placement:Ae,boundary:f,rootBoundary:b,padding:m,flipVariations:E,allowedAutoPlacements:P}):Ae)},[]),S=e.rects.reference,C=e.rects.popper,M=new Map,I=!0,U=y[0],z=0;z<y.length;z++){var g=y[z],x=uo(g),A=Au(g)===Cu,F=[Fa,pn].indexOf(x)>=0,B=F?"width":"height",j=gp(e,{placement:g,boundary:f,rootBoundary:b,altBoundary:k,padding:m}),$=F?A?mn:Da:A?pn:Fa;S[B]>C[B]&&($=Yg($));var G=Yg($),he=[];if(l&&he.push(j[x]<=0),h&&he.push(j[$]<=0,j[G]<=0),he.every(function(Ve){return Ve})){U=g,I=!1;break}M.set(g,he)}if(I)for(var Q=E?3:1,Z=function(Ae){var ze=y.find(function(et){var xt=M.get(et);if(xt)return xt.slice(0,Ae).every(function(At){return At})});if(ze)return U=ze,"break"},ve=Q;ve>0;ve--){var Ie=Z(ve);if(Ie==="break")break}e.placement!==U&&(e.modifiersData[s]._skip=!0,e.placement=U,e.reset=!0)}}const pq={name:"flip",enabled:!0,phase:"main",fn:fq,requiresIfExists:["offset"],data:{_skip:!1}};function KP(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function ZP(t){return[Fa,mn,pn,Da].some(function(e){return t[e]>=0})}function mq(t){var e=t.state,i=t.name,s=e.rects.reference,a=e.rects.popper,l=e.modifiersData.preventOverflow,o=gp(e,{elementContext:"reference"}),h=gp(e,{altBoundary:!0}),d=KP(o,s),m=KP(h,a,l),f=ZP(d),b=ZP(m);e.modifiersData[i]={referenceClippingOffsets:d,popperEscapeOffsets:m,isReferenceHidden:f,hasPopperEscaped:b},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":b})}const gq={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:mq};function yq(t,e,i){var s=uo(t),a=[Da,Fa].indexOf(s)>=0?-1:1,l=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,o=l[0],h=l[1];return o=o||0,h=(h||0)*a,[Da,mn].indexOf(s)>=0?{x:h,y:o}:{x:o,y:h}}function vq(t){var e=t.state,i=t.options,s=t.name,a=i.offset,l=a===void 0?[0,0]:a,o=_R.reduce(function(f,b){return f[b]=yq(b,e.rects,l),f},{}),h=o[e.placement],d=h.x,m=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=d,e.modifiersData.popperOffsets.y+=m),e.modifiersData[s]=o}const bq={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:vq};function wq(t){var e=t.state,i=t.name;e.modifiersData[i]=AR({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const _q={name:"popperOffsets",enabled:!0,phase:"read",fn:wq,data:{}};function xq(t){return t==="x"?"y":"x"}function kq(t){var e=t.state,i=t.options,s=t.name,a=i.mainAxis,l=a===void 0?!0:a,o=i.altAxis,h=o===void 0?!1:o,d=i.boundary,m=i.rootBoundary,f=i.altBoundary,b=i.padding,k=i.tether,w=k===void 0?!0:k,E=i.tetherOffset,P=E===void 0?0:E,L=gp(e,{boundary:d,rootBoundary:m,padding:b,altBoundary:f}),R=uo(e.placement),u=Au(e.placement),T=!u,y=Qx(R),S=xq(y),C=e.modifiersData.popperOffsets,M=e.rects.reference,I=e.rects.popper,U=typeof P=="function"?P(Object.assign({},e.rects,{placement:e.placement})):P,z=typeof U=="number"?{mainAxis:U,altAxis:U}:Object.assign({mainAxis:0,altAxis:0},U),g=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,x={x:0,y:0};if(C){if(l){var A,F=y==="y"?Fa:Da,B=y==="y"?pn:mn,j=y==="y"?"height":"width",$=C[y],G=$+L[F],he=$-L[B],Q=w?-I[j]/2:0,Z=u===Cu?M[j]:I[j],ve=u===Cu?-I[j]:-M[j],Ie=e.elements.arrow,Ve=w&&Ie?Zx(Ie):{width:0,height:0},Ae=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:TR(),ze=Ae[F],et=Ae[B],xt=Jf(0,M[j],Ve[j]),At=T?M[j]/2-Q-xt-ze-z.mainAxis:Z-xt-ze-z.mainAxis,Me=T?-M[j]/2+Q+xt+et+z.mainAxis:ve+xt+et+z.mainAxis,Ut=e.elements.arrow&&Up(e.elements.arrow),jt=Ut?y==="y"?Ut.clientTop||0:Ut.clientLeft||0:0,Ci=(A=g==null?void 0:g[y])!=null?A:0,rt=$+At-Ci-jt,yi=$+Me-Ci,Ui=Jf(w?my(G,rt):G,$,w?sh(he,yi):he);C[y]=Ui,x[y]=Ui-$}if(h){var qi,yt=y==="x"?Fa:Da,Nt=y==="x"?pn:mn,Ni=C[S],Fr=S==="y"?"height":"width",Xr=Ni+L[yt],Ai=Ni-L[Nt],yr=[Fa,Da].indexOf(R)!==-1,ee=(qi=g==null?void 0:g[S])!=null?qi:0,fe=yr?Xr:Ni-M[Fr]-I[Fr]-ee+z.altAxis,le=yr?Ni+M[Fr]+I[Fr]-ee-z.altAxis:Ai,Fe=w&&yr?Yj(fe,Ni,le):Jf(w?fe:Xr,Ni,w?le:Ai);C[S]=Fe,x[S]=Fe-Ni}e.modifiersData[s]=x}}const Sq={name:"preventOverflow",enabled:!0,phase:"main",fn:kq,requiresIfExists:["offset"]};function Tq(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Cq(t){return t===Ka(t)||!fn(t)?Jx(t):Tq(t)}function Eq(t){var e=t.getBoundingClientRect(),i=Eu(e.width)/t.offsetWidth||1,s=Eu(e.height)/t.offsetHeight||1;return i!==1||s!==1}function Oq(t,e,i){i===void 0&&(i=!1);var s=fn(e),a=fn(e)&&Eq(e),l=$l(e),o=Ou(t,a,i),h={scrollLeft:0,scrollTop:0},d={x:0,y:0};return(s||!s&&!i)&&((mo(e)!=="body"||tk(l))&&(h=Cq(e)),fn(e)?(d=Ou(e,!0),d.x+=e.clientLeft,d.y+=e.clientTop):l&&(d.x=ek(l))),{x:o.left+h.scrollLeft-d.x,y:o.top+h.scrollTop-d.y,width:o.width,height:o.height}}function Aq(t){var e=new Map,i=new Set,s=[];t.forEach(function(l){e.set(l.name,l)});function a(l){i.add(l.name);var o=[].concat(l.requires||[],l.requiresIfExists||[]);o.forEach(function(h){if(!i.has(h)){var d=e.get(h);d&&a(d)}}),s.push(l)}return t.forEach(function(l){i.has(l.name)||a(l)}),s}function Pq(t){var e=Aq(t);return Wj.reduce(function(i,s){return i.concat(e.filter(function(a){return a.phase===s}))},[])}function Mq(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function Lq(t){var e=t.reduce(function(i,s){var a=i[s.name];return i[s.name]=a?Object.assign({},a,s,{options:Object.assign({},a.options,s.options),data:Object.assign({},a.data,s.data)}):s,i},{});return Object.keys(e).map(function(i){return e[i]})}var QP={placement:"bottom",modifiers:[],strategy:"absolute"};function JP(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(s){return!(s&&typeof s.getBoundingClientRect=="function")})}function Rq(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,s=i===void 0?[]:i,a=e.defaultOptions,l=a===void 0?QP:a;return function(h,d,m){m===void 0&&(m=l);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},QP,l),modifiersData:{},elements:{reference:h,popper:d},attributes:{},styles:{}},b=[],k=!1,w={state:f,setOptions:function(R){var u=typeof R=="function"?R(f.options):R;P(),f.options=Object.assign({},l,f.options,u),f.scrollParents={reference:hh(h)?ep(h):h.contextElement?ep(h.contextElement):[],popper:ep(d)};var T=Pq(Lq([].concat(s,f.options.modifiers)));return f.orderedModifiers=T.filter(function(y){return y.enabled}),E(),w.update()},forceUpdate:function(){if(!k){var R=f.elements,u=R.reference,T=R.popper;if(JP(u,T)){f.rects={reference:Oq(u,Up(T),f.options.strategy==="fixed"),popper:Zx(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(z){return f.modifiersData[z.name]=Object.assign({},z.data)});for(var y=0;y<f.orderedModifiers.length;y++){if(f.reset===!0){f.reset=!1,y=-1;continue}var S=f.orderedModifiers[y],C=S.fn,M=S.options,I=M===void 0?{}:M,U=S.name;typeof C=="function"&&(f=C({state:f,options:I,name:U,instance:w})||f)}}}},update:Mq(function(){return new Promise(function(L){w.forceUpdate(),L(f)})}),destroy:function(){P(),k=!0}};if(!JP(h,d))return w;w.setOptions(m).then(function(L){!k&&m.onFirstUpdate&&m.onFirstUpdate(L)});function E(){f.orderedModifiers.forEach(function(L){var R=L.name,u=L.options,T=u===void 0?{}:u,y=L.effect;if(typeof y=="function"){var S=y({state:f,name:R,instance:w,options:T}),C=function(){};b.push(S||C)}})}function P(){b.forEach(function(L){return L()}),b=[]}return w}}var Fq=[rq,_q,tq,xR,bq,pq,Sq,Zj,gq],PR=Rq({defaultModifiers:Fq}),Dq="tippy-box",MR="tippy-content",Iq="tippy-backdrop",LR="tippy-arrow",RR="tippy-svg-arrow",qc={passive:!0,capture:!0},FR=function(){return document.body};function k_(t,e,i){if(Array.isArray(t)){var s=t[e];return s??(Array.isArray(i)?i[e]:i)}return t}function ik(t,e){var i={}.toString.call(t);return i.indexOf("[object")===0&&i.indexOf(e+"]")>-1}function DR(t,e){return typeof t=="function"?t.apply(void 0,e):t}function eM(t,e){if(e===0)return t;var i;return function(s){clearTimeout(i),i=setTimeout(function(){t(s)},e)}}function Bq(t){return t.split(/\s+/).filter(Boolean)}function su(t){return[].concat(t)}function tM(t,e){t.indexOf(e)===-1&&t.push(e)}function Nq(t){return t.filter(function(e,i){return t.indexOf(e)===i})}function zq(t){return t.split("-")[0]}function gy(t){return[].slice.call(t)}function iM(t){return Object.keys(t).reduce(function(e,i){return t[i]!==void 0&&(e[i]=t[i]),e},{})}function tp(){return document.createElement("div")}function vv(t){return["Element","Fragment"].some(function(e){return ik(t,e)})}function Uq(t){return ik(t,"NodeList")}function Hq(t){return ik(t,"MouseEvent")}function Wq(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function jq(t){return vv(t)?[t]:Uq(t)?gy(t):Array.isArray(t)?t:gy(document.querySelectorAll(t))}function S_(t,e){t.forEach(function(i){i&&(i.style.transitionDuration=e+"ms")})}function rM(t,e){t.forEach(function(i){i&&i.setAttribute("data-state",e)})}function qq(t){var e,i=su(t),s=i[0];return s!=null&&(e=s.ownerDocument)!=null&&e.body?s.ownerDocument:document}function $q(t,e){var i=e.clientX,s=e.clientY;return t.every(function(a){var l=a.popperRect,o=a.popperState,h=a.props,d=h.interactiveBorder,m=zq(o.placement),f=o.modifiersData.offset;if(!f)return!0;var b=m==="bottom"?f.top.y:0,k=m==="top"?f.bottom.y:0,w=m==="right"?f.left.x:0,E=m==="left"?f.right.x:0,P=l.top-s+b>d,L=s-l.bottom-k>d,R=l.left-i+w>d,u=i-l.right-E>d;return P||L||R||u})}function T_(t,e,i){var s=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(a){t[s](a,i)})}function sM(t,e){for(var i=e;i;){var s;if(t.contains(i))return!0;i=i.getRootNode==null||(s=i.getRootNode())==null?void 0:s.host}return!1}var co={isTouch:!1},aM=0;function Vq(){co.isTouch||(co.isTouch=!0,window.performance&&document.addEventListener("mousemove",IR))}function IR(){var t=performance.now();t-aM<20&&(co.isTouch=!1,document.removeEventListener("mousemove",IR)),aM=t}function Yq(){var t=document.activeElement;if(Wq(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function Gq(){document.addEventListener("touchstart",Vq,qc),window.addEventListener("blur",Yq)}var Xq=typeof window<"u"&&typeof document<"u",Kq=Xq?!!window.msCrypto:!1,Zq={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Qq={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Un=Object.assign({appendTo:FR,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Zq,Qq),Jq=Object.keys(Un),e$=function(e){var i=Object.keys(e);i.forEach(function(s){Un[s]=e[s]})};function BR(t){var e=t.plugins||[],i=e.reduce(function(s,a){var l=a.name,o=a.defaultValue;if(l){var h;s[l]=t[l]!==void 0?t[l]:(h=Un[l])!=null?h:o}return s},{});return Object.assign({},t,i)}function t$(t,e){var i=e?Object.keys(BR(Object.assign({},Un,{plugins:e}))):Jq,s=i.reduce(function(a,l){var o=(t.getAttribute("data-tippy-"+l)||"").trim();if(!o)return a;if(l==="content")a[l]=o;else try{a[l]=JSON.parse(o)}catch{a[l]=o}return a},{});return s}function nM(t,e){var i=Object.assign({},e,{content:DR(e.content,[t])},e.ignoreAttributes?{}:t$(t,e.plugins));return i.aria=Object.assign({},Un.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?e.interactive:i.aria.expanded,content:i.aria.content==="auto"?e.interactive?null:"describedby":i.aria.content},i}var i$=function(){return"innerHTML"};function _1(t,e){t[i$()]=e}function oM(t){var e=tp();return t===!0?e.className=LR:(e.className=RR,vv(t)?e.appendChild(t):_1(e,t)),e}function lM(t,e){vv(e.content)?(_1(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?_1(t,e.content):t.textContent=e.content)}function x1(t){var e=t.firstElementChild,i=gy(e.children);return{box:e,content:i.find(function(s){return s.classList.contains(MR)}),arrow:i.find(function(s){return s.classList.contains(LR)||s.classList.contains(RR)}),backdrop:i.find(function(s){return s.classList.contains(Iq)})}}function NR(t){var e=tp(),i=tp();i.className=Dq,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var s=tp();s.className=MR,s.setAttribute("data-state","hidden"),lM(s,t.props),e.appendChild(i),i.appendChild(s),a(t.props,t.props);function a(l,o){var h=x1(e),d=h.box,m=h.content,f=h.arrow;o.theme?d.setAttribute("data-theme",o.theme):d.removeAttribute("data-theme"),typeof o.animation=="string"?d.setAttribute("data-animation",o.animation):d.removeAttribute("data-animation"),o.inertia?d.setAttribute("data-inertia",""):d.removeAttribute("data-inertia"),d.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?d.setAttribute("role",o.role):d.removeAttribute("role"),(l.content!==o.content||l.allowHTML!==o.allowHTML)&&lM(m,t.props),o.arrow?f?l.arrow!==o.arrow&&(d.removeChild(f),d.appendChild(oM(o.arrow))):d.appendChild(oM(o.arrow)):f&&d.removeChild(f)}return{popper:e,onUpdate:a}}NR.$$tippy=!0;var r$=1,Pg=[],C_=[];function s$(t,e){var i=nM(t,Object.assign({},Un,BR(iM(e)))),s,a,l,o=!1,h=!1,d=!1,m=!1,f,b,k,w=[],E=eM(rt,i.interactiveDebounce),P,L=r$++,R=null,u=Nq(i.plugins),T={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:L,reference:t,popper:tp(),popperInstance:R,props:i,state:T,plugins:u,clearDelayTimeouts:fe,setProps:le,setContent:Fe,show:Ke,hide:Ye,hideWithInteractivity:Tt,enable:yr,disable:ee,unmount:Vt,destroy:ti};if(!i.render)return y;var S=i.render(y),C=S.popper,M=S.onUpdate;C.setAttribute("data-tippy-root",""),C.id="tippy-"+y.id,y.popper=C,t._tippy=y,C._tippy=y;var I=u.map(function(ce){return ce.fn(y)}),U=t.hasAttribute("aria-expanded");return Ut(),Q(),$(),G("onCreate",[y]),i.showOnCreate&&Xr(),C.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),C.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&F().addEventListener("mousemove",E)}),y;function z(){var ce=y.props.touch;return Array.isArray(ce)?ce:[ce,0]}function g(){return z()[0]==="hold"}function x(){var ce;return!!((ce=y.props.render)!=null&&ce.$$tippy)}function A(){return P||t}function F(){var ce=A().parentNode;return ce?qq(ce):document}function B(){return x1(C)}function j(ce){return y.state.isMounted&&!y.state.isVisible||co.isTouch||f&&f.type==="focus"?0:k_(y.props.delay,ce?0:1,Un.delay)}function $(ce){ce===void 0&&(ce=!1),C.style.pointerEvents=y.props.interactive&&!ce?"":"none",C.style.zIndex=""+y.props.zIndex}function G(ce,qe,lt){if(lt===void 0&&(lt=!0),I.forEach(function(nt){nt[ce]&&nt[ce].apply(nt,qe)}),lt){var Be;(Be=y.props)[ce].apply(Be,qe)}}function he(){var ce=y.props.aria;if(ce.content){var qe="aria-"+ce.content,lt=C.id,Be=su(y.props.triggerTarget||t);Be.forEach(function(nt){var Ge=nt.getAttribute(qe);if(y.state.isVisible)nt.setAttribute(qe,Ge?Ge+" "+lt:lt);else{var Pt=Ge&&Ge.replace(lt,"").trim();Pt?nt.setAttribute(qe,Pt):nt.removeAttribute(qe)}})}}function Q(){if(!(U||!y.props.aria.expanded)){var ce=su(y.props.triggerTarget||t);ce.forEach(function(qe){y.props.interactive?qe.setAttribute("aria-expanded",y.state.isVisible&&qe===A()?"true":"false"):qe.removeAttribute("aria-expanded")})}}function Z(){F().removeEventListener("mousemove",E),Pg=Pg.filter(function(ce){return ce!==E})}function ve(ce){if(!(co.isTouch&&(d||ce.type==="mousedown"))){var qe=ce.composedPath&&ce.composedPath()[0]||ce.target;if(!(y.props.interactive&&sM(C,qe))){if(su(y.props.triggerTarget||t).some(function(lt){return sM(lt,qe)})){if(co.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[y,ce]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),h=!0,setTimeout(function(){h=!1}),y.state.isMounted||ze())}}}function Ie(){d=!0}function Ve(){d=!1}function Ae(){var ce=F();ce.addEventListener("mousedown",ve,!0),ce.addEventListener("touchend",ve,qc),ce.addEventListener("touchstart",Ve,qc),ce.addEventListener("touchmove",Ie,qc)}function ze(){var ce=F();ce.removeEventListener("mousedown",ve,!0),ce.removeEventListener("touchend",ve,qc),ce.removeEventListener("touchstart",Ve,qc),ce.removeEventListener("touchmove",Ie,qc)}function et(ce,qe){At(ce,function(){!y.state.isVisible&&C.parentNode&&C.parentNode.contains(C)&&qe()})}function xt(ce,qe){At(ce,qe)}function At(ce,qe){var lt=B().box;function Be(nt){nt.target===lt&&(T_(lt,"remove",Be),qe())}if(ce===0)return qe();T_(lt,"remove",b),T_(lt,"add",Be),b=Be}function Me(ce,qe,lt){lt===void 0&&(lt=!1);var Be=su(y.props.triggerTarget||t);Be.forEach(function(nt){nt.addEventListener(ce,qe,lt),w.push({node:nt,eventType:ce,handler:qe,options:lt})})}function Ut(){g()&&(Me("touchstart",Ci,{passive:!0}),Me("touchend",yi,{passive:!0})),Bq(y.props.trigger).forEach(function(ce){if(ce!=="manual")switch(Me(ce,Ci),ce){case"mouseenter":Me("mouseleave",yi);break;case"focus":Me(Kq?"focusout":"blur",Ui);break;case"focusin":Me("focusout",Ui);break}})}function jt(){w.forEach(function(ce){var qe=ce.node,lt=ce.eventType,Be=ce.handler,nt=ce.options;qe.removeEventListener(lt,Be,nt)}),w=[]}function Ci(ce){var qe,lt=!1;if(!(!y.state.isEnabled||qi(ce)||h)){var Be=((qe=f)==null?void 0:qe.type)==="focus";f=ce,P=ce.currentTarget,Q(),!y.state.isVisible&&Hq(ce)&&Pg.forEach(function(nt){return nt(ce)}),ce.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||o)&&y.props.hideOnClick!==!1&&y.state.isVisible?lt=!0:Xr(ce),ce.type==="click"&&(o=!lt),lt&&!Be&&Ai(ce)}}function rt(ce){var qe=ce.target,lt=A().contains(qe)||C.contains(qe);if(!(ce.type==="mousemove"&&lt)){var Be=Fr().concat(C).map(function(nt){var Ge,Pt=nt._tippy,Yt=(Ge=Pt.popperInstance)==null?void 0:Ge.state;return Yt?{popperRect:nt.getBoundingClientRect(),popperState:Yt,props:i}:null}).filter(Boolean);$q(Be,ce)&&(Z(),Ai(ce))}}function yi(ce){var qe=qi(ce)||y.props.trigger.indexOf("click")>=0&&o;if(!qe){if(y.props.interactive){y.hideWithInteractivity(ce);return}Ai(ce)}}function Ui(ce){y.props.trigger.indexOf("focusin")<0&&ce.target!==A()||y.props.interactive&&ce.relatedTarget&&C.contains(ce.relatedTarget)||Ai(ce)}function qi(ce){return co.isTouch?g()!==ce.type.indexOf("touch")>=0:!1}function yt(){Nt();var ce=y.props,qe=ce.popperOptions,lt=ce.placement,Be=ce.offset,nt=ce.getReferenceClientRect,Ge=ce.moveTransition,Pt=x()?x1(C).arrow:null,Yt=nt?{getBoundingClientRect:nt,contextElement:nt.contextElement||A()}:t,_i={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(hi){var zi=hi.state;if(x()){var Ss=B(),es=Ss.box;["placement","reference-hidden","escaped"].forEach(function(Tr){Tr==="placement"?es.setAttribute("data-placement",zi.placement):zi.attributes.popper["data-popper-"+Tr]?es.setAttribute("data-"+Tr,""):es.removeAttribute("data-"+Tr)}),zi.attributes.popper={}}}},di=[{name:"offset",options:{offset:Be}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ge}},_i];x()&&Pt&&di.push({name:"arrow",options:{element:Pt,padding:3}}),di.push.apply(di,(qe==null?void 0:qe.modifiers)||[]),y.popperInstance=PR(Yt,C,Object.assign({},qe,{placement:lt,onFirstUpdate:k,modifiers:di}))}function Nt(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function Ni(){var ce=y.props.appendTo,qe,lt=A();y.props.interactive&&ce===FR||ce==="parent"?qe=lt.parentNode:qe=DR(ce,[lt]),qe.contains(C)||qe.appendChild(C),y.state.isMounted=!0,yt()}function Fr(){return gy(C.querySelectorAll("[data-tippy-root]"))}function Xr(ce){y.clearDelayTimeouts(),ce&&G("onTrigger",[y,ce]),Ae();var qe=j(!0),lt=z(),Be=lt[0],nt=lt[1];co.isTouch&&Be==="hold"&&nt&&(qe=nt),qe?s=setTimeout(function(){y.show()},qe):y.show()}function Ai(ce){if(y.clearDelayTimeouts(),G("onUntrigger",[y,ce]),!y.state.isVisible){ze();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(ce.type)>=0&&o)){var qe=j(!1);qe?a=setTimeout(function(){y.state.isVisible&&y.hide()},qe):l=requestAnimationFrame(function(){y.hide()})}}function yr(){y.state.isEnabled=!0}function ee(){y.hide(),y.state.isEnabled=!1}function fe(){clearTimeout(s),clearTimeout(a),cancelAnimationFrame(l)}function le(ce){if(!y.state.isDestroyed){G("onBeforeUpdate",[y,ce]),jt();var qe=y.props,lt=nM(t,Object.assign({},qe,iM(ce),{ignoreAttributes:!0}));y.props=lt,Ut(),qe.interactiveDebounce!==lt.interactiveDebounce&&(Z(),E=eM(rt,lt.interactiveDebounce)),qe.triggerTarget&&!lt.triggerTarget?su(qe.triggerTarget).forEach(function(Be){Be.removeAttribute("aria-expanded")}):lt.triggerTarget&&t.removeAttribute("aria-expanded"),Q(),$(),M&&M(qe,lt),y.popperInstance&&(yt(),Fr().forEach(function(Be){requestAnimationFrame(Be._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[y,ce])}}function Fe(ce){y.setProps({content:ce})}function Ke(){var ce=y.state.isVisible,qe=y.state.isDestroyed,lt=!y.state.isEnabled,Be=co.isTouch&&!y.props.touch,nt=k_(y.props.duration,0,Un.duration);if(!(ce||qe||lt||Be)&&!A().hasAttribute("disabled")&&(G("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,x()&&(C.style.visibility="visible"),$(),Ae(),y.state.isMounted||(C.style.transition="none"),x()){var Ge=B(),Pt=Ge.box,Yt=Ge.content;S_([Pt,Yt],0)}k=function(){var di;if(!(!y.state.isVisible||m)){if(m=!0,C.offsetHeight,C.style.transition=y.props.moveTransition,x()&&y.props.animation){var Bi=B(),hi=Bi.box,zi=Bi.content;S_([hi,zi],nt),rM([hi,zi],"visible")}he(),Q(),tM(C_,y),(di=y.popperInstance)==null||di.forceUpdate(),G("onMount",[y]),y.props.animation&&x()&&xt(nt,function(){y.state.isShown=!0,G("onShown",[y])})}},Ni()}}function Ye(){var ce=!y.state.isVisible,qe=y.state.isDestroyed,lt=!y.state.isEnabled,Be=k_(y.props.duration,1,Un.duration);if(!(ce||qe||lt)&&(G("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,m=!1,o=!1,x()&&(C.style.visibility="hidden"),Z(),ze(),$(!0),x()){var nt=B(),Ge=nt.box,Pt=nt.content;y.props.animation&&(S_([Ge,Pt],Be),rM([Ge,Pt],"hidden"))}he(),Q(),y.props.animation?x()&&et(Be,y.unmount):y.unmount()}}function Tt(ce){F().addEventListener("mousemove",E),tM(Pg,E),E(ce)}function Vt(){y.state.isVisible&&y.hide(),y.state.isMounted&&(Nt(),Fr().forEach(function(ce){ce._tippy.unmount()}),C.parentNode&&C.parentNode.removeChild(C),C_=C_.filter(function(ce){return ce!==y}),y.state.isMounted=!1,G("onHidden",[y]))}function ti(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),jt(),delete t._tippy,y.state.isDestroyed=!0,G("onDestroy",[y]))}}function Hp(t,e){e===void 0&&(e={});var i=Un.plugins.concat(e.plugins||[]);Gq();var s=Object.assign({},e,{plugins:i}),a=jq(t),l=a.reduce(function(o,h){var d=h&&s$(h,s);return d&&o.push(d),o},[]);return vv(t)?l[0]:l}Hp.defaultProps=Un;Hp.setDefaultProps=e$;Hp.currentInput=co;Object.assign({},xR,{effect:function(e){var i=e.state,s={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,s.popper),i.styles=s,i.elements.arrow&&Object.assign(i.elements.arrow.style,s.arrow)}});Hp.setDefaultProps({render:NR});(function(t,e){typeof exports=="object"&&typeof module=="object"?module.exports=e():typeof define=="function"&&define.amd?define([],e):typeof exports=="object"?exports.SlimSelect=e():t.SlimSelect=e()})(window,function(){return i={},t.m=e=[function(s,a,l){function o(h,d){d=d||{bubbles:!1,cancelable:!1,detail:void 0};var m=document.createEvent("CustomEvent");return m.initCustomEvent(h,d.bubbles,d.cancelable,d.detail),m}a.__esModule=!0,a.kebabCase=a.highlight=a.isValueInArrayOfObjects=a.debounce=a.putContent=a.ensureElementInView=a.hasClassInTree=void 0,a.hasClassInTree=function(h,d){function m(f,b){return b&&f&&f.classList&&f.classList.contains(b)?f:null}return m(h,d)||function f(b,k){return b&&b!==document?m(b,k)?b:f(b.parentNode,k):null}(h,d)},a.ensureElementInView=function(h,k){var m=h.scrollTop+h.offsetTop,f=m+h.clientHeight,b=k.offsetTop,k=b+k.clientHeight;b<m?h.scrollTop-=m-b:f<k&&(h.scrollTop+=k-f)},a.putContent=function(b,d,m){var k=b.offsetHeight,f=b.getBoundingClientRect(),b=m?f.top:f.top-k,k=m?f.bottom:f.bottom+k;return b<=0?"below":k>=window.innerHeight?"above":m?d:"below"},a.debounce=function(h,d,m){var f;return d===void 0&&(d=100),m===void 0&&(m=!1),function(){for(var b=[],k=0;k<arguments.length;k++)b[k]=arguments[k];var w=self,E=m&&!f;clearTimeout(f),f=setTimeout(function(){f=null,m||h.apply(w,b)},d),E&&h.apply(w,b)}},a.isValueInArrayOfObjects=function(h,d,m){if(!Array.isArray(h))return h[d]===m;for(var f=0,b=h;f<b.length;f++){var k=b[f];if(k&&k[d]&&k[d]===m)return!0}return!1},a.highlight=function(h,w,m){var f=h,b=new RegExp("("+w.trim()+")(?![^<]*>[^<>]*</)","i");if(!h.match(b))return h;var k=h.match(b).index,w=k+h.match(b)[0].toString().length,w=h.substring(k,w);return f=f.replace(b,'<mark class="'.concat(m,'">').concat(w,"</mark>"))},a.kebabCase=function(h){var d=h.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,function(m){return"-"+m.toLowerCase()});return h[0]===h[0].toUpperCase()?d.substring(1):d},typeof(a=window).CustomEvent!="function"&&(o.prototype=a.Event.prototype,a.CustomEvent=o)},function(s,a,l){a.__esModule=!0,a.validateOption=a.validateData=a.Data=void 0;var o=(h.prototype.newOption=function(m){return{id:m.id||String(Math.floor(1e8*Math.random())),value:m.value||"",text:m.text||"",innerHTML:m.innerHTML||"",selected:m.selected||!1,display:m.display===void 0||m.display,disabled:m.disabled||!1,placeholder:m.placeholder||!1,class:m.class||void 0,data:m.data||{},mandatory:m.mandatory||!1}},h.prototype.add=function(m){this.data.push({id:String(Math.floor(1e8*Math.random())),value:m.value,text:m.text,innerHTML:"",selected:!1,display:!0,disabled:!1,placeholder:!1,class:void 0,mandatory:m.mandatory,data:{}})},h.prototype.parseSelectData=function(){this.data=[];for(var m=0,f=this.main.select.element.childNodes;m<f.length;m++){var b=f[m];if(b.nodeName==="OPTGROUP"){for(var k={label:b.label,options:[]},w=0,E=b.childNodes;w<E.length;w++){var P,L=E[w];L.nodeName==="OPTION"&&(P=this.pullOptionData(L),k.options.push(P),P.placeholder&&P.text.trim()!==""&&(this.main.config.placeholderText=P.text))}this.data.push(k)}else b.nodeName==="OPTION"&&(P=this.pullOptionData(b),this.data.push(P),P.placeholder&&P.text.trim()!==""&&(this.main.config.placeholderText=P.text))}},h.prototype.pullOptionData=function(m){return{id:!!m.dataset&&m.dataset.id||String(Math.floor(1e8*Math.random())),value:m.value,text:m.text,innerHTML:m.innerHTML,selected:m.selected,disabled:m.disabled,placeholder:m.dataset.placeholder==="true",class:m.className,style:m.style.cssText,data:m.dataset,mandatory:!!m.dataset&&m.dataset.mandatory==="true"}},h.prototype.setSelectedFromSelect=function(){if(this.main.config.isMultiple){for(var m=[],f=0,b=this.main.select.element.options;f<b.length;f++){var k=b[f];!k.selected||(k=this.getObjectFromData(k.value,"value"))&&k.id&&m.push(k.id)}this.setSelected(m,"id")}else{var w=this.main.select.element;w.selectedIndex!==-1&&(w=w.options[w.selectedIndex].value,this.setSelected(w,"value"))}},h.prototype.setSelected=function(m,f){f===void 0&&(f="id");for(var b=0,k=this.data;b<k.length;b++){var w=k[b];if(w.hasOwnProperty("label")){if(w.hasOwnProperty("options")){var E=w.options;if(E)for(var P=0,L=E;P<L.length;P++){var R=L[P];R.placeholder||(R.selected=this.shouldBeSelected(R,m,f))}}}else w.selected=this.shouldBeSelected(w,m,f)}},h.prototype.shouldBeSelected=function(m,f,b){if(b===void 0&&(b="id"),Array.isArray(f))for(var k=0,w=f;k<w.length;k++){var E=w[k];if(b in m&&String(m[b])===String(E))return!0}else if(b in m&&String(m[b])===String(f))return!0;return!1},h.prototype.getSelected=function(){for(var m={text:"",placeholder:this.main.config.placeholderText},f=[],b=0,k=this.data;b<k.length;b++){var w=k[b];if(w.hasOwnProperty("label")){if(w.hasOwnProperty("options")){var E=w.options;if(E)for(var P=0,L=E;P<L.length;P++){var R=L[P];R.selected&&(this.main.config.isMultiple?f.push(R):m=R)}}}else w.selected&&(this.main.config.isMultiple?f.push(w):m=w)}return this.main.config.isMultiple?f:m},h.prototype.addToSelected=function(m,f){if(f===void 0&&(f="id"),this.main.config.isMultiple){var b=[],k=this.getSelected();if(Array.isArray(k))for(var w=0,E=k;w<E.length;w++){var P=E[w];b.push(P[f])}b.push(m),this.setSelected(b,f)}},h.prototype.removeFromSelected=function(m,f){if(f===void 0&&(f="id"),this.main.config.isMultiple){for(var b=[],k=0,w=this.getSelected();k<w.length;k++){var E=w[k];String(E[f])!==String(m)&&b.push(E[f])}this.setSelected(b,f)}},h.prototype.onDataChange=function(){this.main.onChange&&this.isOnChangeEnabled&&this.main.onChange(JSON.parse(JSON.stringify(this.getSelected())))},h.prototype.getObjectFromData=function(m,f){f===void 0&&(f="id");for(var b=0,k=this.data;b<k.length;b++){var w=k[b];if(f in w&&String(w[f])===String(m))return w;if(w.hasOwnProperty("options")&&w.options)for(var E=0,P=w.options;E<P.length;E++){var L=P[E];if(String(L[f])===String(m))return L}}return null},h.prototype.search=function(m){var f,b;(this.searchValue=m).trim()!==""?(f=this.main.config.searchFilter,b=this.data.slice(0),m=m.trim(),b=b.map(function(k){if(k.hasOwnProperty("options")){var w=k,E=[];if((E=w.options?w.options.filter(function(P){return f(P,m)}):E).length!==0)return w=Object.assign({},w),w.options=E,w}return k.hasOwnProperty("text")&&f(k,m)?k:null}),this.filtered=b.filter(function(k){return k})):this.filtered=null},h);function h(m){this.contentOpen=!1,this.contentPosition="below",this.isOnChangeEnabled=!0,this.main=m.main,this.searchValue="",this.data=[],this.filtered=null,this.parseSelectData(),this.setSelectedFromSelect()}function d(m){return m.text!==void 0||(console.error("Data object option must have at least have a text value. Check object: "+JSON.stringify(m)),!1)}a.Data=o,a.validateData=function(m){if(!m)return console.error("Data must be an array of objects"),!1;for(var f=0,b=0,k=m;b<k.length;b++){var w=k[b];if(w.hasOwnProperty("label")){if(w.hasOwnProperty("options")){var E=w.options;if(E)for(var P=0,L=E;P<L.length;P++)d(L[P])||f++}}else d(w)||f++}return f===0},a.validateOption=d},function(s,a,b){a.__esModule=!0;var o=b(3),h=b(4),d=b(5),m=b(1),f=b(0),b=(k.prototype.validate=function(w){if(w=typeof w.select=="string"?document.querySelector(w.select):w.select,!w)throw new Error("Could not find select element");if(w.tagName!=="SELECT")throw new Error("Element isnt of type select");return w},k.prototype.selected=function(){if(this.config.isMultiple){for(var w=[],E=0,P=R=this.data.getSelected();E<P.length;E++){var L=P[E];w.push(L.value)}return w}var R;return(R=this.data.getSelected())?R.value:""},k.prototype.set=function(w,E,P,L){E===void 0&&(E="value"),P===void 0&&(P=!0),this.config.isMultiple&&!Array.isArray(w)?this.data.addToSelected(w,E):this.data.setSelected(w,E),this.select.setValue(),this.data.onDataChange(),this.render(),(P=this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length?!0:P)&&this.close()},k.prototype.setSelected=function(w,E,P,L){this.set(w,E=E===void 0?"value":E,P=P===void 0?!0:P,L=L===void 0?!0:L)},k.prototype.setData=function(w){if((0,m.validateData)(w)){for(var E=JSON.parse(JSON.stringify(w)),P=this.data.getSelected(),L=0;L<E.length;L++)E[L].value||E[L].placeholder||(E[L].value=E[L].text);if(this.config.isAjax&&P)if(this.config.isMultiple)for(var R=0,u=P.reverse();R<u.length;R++){var T=u[R];E.unshift(T)}else{for(E.unshift(P),L=0;L<E.length;L++)E[L].placeholder||E[L].value!==P.value||E[L].text!==P.text||E.splice(L,1);for(var y=!1,L=0;L<E.length;L++)E[L].placeholder&&(y=!0);y||E.unshift({text:"",placeholder:!0})}this.select.create(E),this.data.parseSelectData(),this.data.setSelectedFromSelect()}else console.error("Validation problem on: #"+this.select.element.id)},k.prototype.addData=function(w){(0,m.validateData)([w])?(this.data.add(this.data.newOption(w)),this.select.create(this.data.data),this.data.parseSelectData(),this.data.setSelectedFromSelect(),this.render()):console.error("Validation problem on: #"+this.select.element.id)},k.prototype.open=function(){var w,E=this;this.config.isEnabled&&(this.data.contentOpen||this.config.hideSelectedOption&&this.config.isMultiple&&this.data.getSelected().length===this.data.data.length||(this.beforeOpen&&this.beforeOpen(),this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.plus.classList.add("ss-cross"):this.slim.singleSelected&&(this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-up")),this.slim[this.config.isMultiple?"multiSelected":"singleSelected"].container.classList.add(this.data.contentPosition==="above"?this.config.openAbove:this.config.openBelow),this.config.addToBody&&(w=this.slim.container.getBoundingClientRect(),this.slim.content.style.top=w.top+w.height+window.scrollY+"px",this.slim.content.style.left=w.left+window.scrollX+"px",this.slim.content.style.width=w.width+"px"),this.slim.content.classList.add(this.config.open),this.config.showContent.toLowerCase()==="up"||this.config.showContent.toLowerCase()!=="down"&&(0,f.putContent)(this.slim.content,this.data.contentPosition,this.data.contentOpen)==="above"?this.moveContentAbove():this.moveContentBelow(),this.config.isMultiple||(w=this.data.getSelected())&&(w=w.id,(w=this.slim.list.querySelector('[data-id="'+w+'"]'))&&(0,f.ensureElementInView)(this.slim.list,w)),setTimeout(function(){E.data.contentOpen=!0,E.config.searchFocus&&E.slim.search.input.focus(),E.afterOpen&&E.afterOpen()},this.config.timeoutDelay)))},k.prototype.close=function(){var w=this;this.data.contentOpen&&(this.beforeClose&&this.beforeClose(),this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.plus.classList.remove("ss-cross")):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.arrowIcon.arrow.classList.add("arrow-down"),this.slim.singleSelected.arrowIcon.arrow.classList.remove("arrow-up")),this.slim.content.classList.remove(this.config.open),this.data.contentOpen=!1,this.search(""),setTimeout(function(){w.slim.content.removeAttribute("style"),w.data.contentPosition="below",w.config.isMultiple&&w.slim.multiSelected?(w.slim.multiSelected.container.classList.remove(w.config.openAbove),w.slim.multiSelected.container.classList.remove(w.config.openBelow)):w.slim.singleSelected&&(w.slim.singleSelected.container.classList.remove(w.config.openAbove),w.slim.singleSelected.container.classList.remove(w.config.openBelow)),w.slim.search.input.blur(),w.afterClose&&w.afterClose()},this.config.timeoutDelay))},k.prototype.moveContentAbove=function(){var w=0;this.config.isMultiple&&this.slim.multiSelected?w=this.slim.multiSelected.container.offsetHeight:this.slim.singleSelected&&(w=this.slim.singleSelected.container.offsetHeight);var E=w+this.slim.content.offsetHeight-1;this.slim.content.style.margin="-"+E+"px 0 0 0",this.slim.content.style.height=E-w+1+"px",this.slim.content.style.transformOrigin="center bottom",this.data.contentPosition="above",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openBelow),this.slim.multiSelected.container.classList.add(this.config.openAbove)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openBelow),this.slim.singleSelected.container.classList.add(this.config.openAbove))},k.prototype.moveContentBelow=function(){this.data.contentPosition="below",this.config.isMultiple&&this.slim.multiSelected?(this.slim.multiSelected.container.classList.remove(this.config.openAbove),this.slim.multiSelected.container.classList.add(this.config.openBelow)):this.slim.singleSelected&&(this.slim.singleSelected.container.classList.remove(this.config.openAbove),this.slim.singleSelected.container.classList.add(this.config.openBelow))},k.prototype.enable=function(){this.config.isEnabled=!0,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.remove(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.remove(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!1,this.slim.search.input.disabled=!1,this.select.triggerMutationObserver=!0},k.prototype.disable=function(){this.config.isEnabled=!1,this.config.isMultiple&&this.slim.multiSelected?this.slim.multiSelected.container.classList.add(this.config.disabled):this.slim.singleSelected&&this.slim.singleSelected.container.classList.add(this.config.disabled),this.select.triggerMutationObserver=!1,this.select.element.disabled=!0,this.slim.search.input.disabled=!0,this.select.triggerMutationObserver=!0},k.prototype.search=function(w){var E;this.data.searchValue!==w&&(this.slim.search.input.value=w,this.config.isAjax?((E=this).config.isSearching=!0,this.render(),this.ajax&&this.ajax(w,function(P){E.config.isSearching=!1,Array.isArray(P)?(P.unshift({text:"",placeholder:!0}),E.setData(P),E.data.search(w),E.render()):typeof P=="string"?E.slim.options(P):E.render()})):(this.data.search(w),this.render()))},k.prototype.setSearchText=function(w){this.config.searchText=w},k.prototype.render=function(){this.config.isMultiple?this.slim.values():(this.slim.placeholder(),this.slim.deselect()),this.slim.options()},k.prototype.destroy=function(w){var E=(w=w===void 0?null:w)?document.querySelector("."+w+".ss-main"):this.slim.container,P=w?document.querySelector("[data-ssid=".concat(w,"]")):this.select.element;E&&P&&(document.removeEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.removeEventListener("scroll",this.windowScroll,!1),P.style.display="",delete P.dataset.ssid,P.slim=null,E.parentElement&&E.parentElement.removeChild(E),!this.config.addToBody||(w=w?document.querySelector("."+w+".ss-content"):this.slim.content)&&document.body.removeChild(w))},k);function k(w){var E=this;this.ajax=null,this.addable=null,this.beforeOnChange=null,this.onChange=null,this.beforeOpen=null,this.afterOpen=null,this.beforeClose=null,this.afterClose=null,this.windowScroll=(0,f.debounce)(function(L){E.data.contentOpen&&((0,f.putContent)(E.slim.content,E.data.contentPosition,E.data.contentOpen)==="above"?E.moveContentAbove():E.moveContentBelow())}),this.documentClick=function(L){L.target&&!(0,f.hasClassInTree)(L.target,E.config.id)&&E.close()};var P=this.validate(w);P.dataset.ssid&&this.destroy(P.dataset.ssid),w.ajax&&(this.ajax=w.ajax),w.addable&&(this.addable=w.addable),this.config=new o.Config({select:P,isAjax:!!w.ajax,showSearch:w.showSearch,searchPlaceholder:w.searchPlaceholder,searchText:w.searchText,searchingText:w.searchingText,searchFocus:w.searchFocus,searchHighlight:w.searchHighlight,searchFilter:w.searchFilter,closeOnSelect:w.closeOnSelect,showContent:w.showContent,placeholderText:w.placeholder,allowDeselect:w.allowDeselect,allowDeselectOption:w.allowDeselectOption,hideSelectedOption:w.hideSelectedOption,deselectLabel:w.deselectLabel,isEnabled:w.isEnabled,valuesUseText:w.valuesUseText,showOptionTooltips:w.showOptionTooltips,selectByGroup:w.selectByGroup,limit:w.limit,timeoutDelay:w.timeoutDelay,addToBody:w.addToBody}),this.select=new h.Select({select:P,main:this}),this.data=new m.Data({main:this}),this.slim=new d.Slim({main:this}),this.select.element.parentNode&&this.select.element.parentNode.insertBefore(this.slim.container,this.select.element.nextSibling),w.data?this.setData(w.data):this.render(),document.addEventListener("click",this.documentClick),this.config.showContent==="auto"&&window.addEventListener("scroll",this.windowScroll,!1),w.beforeOnChange&&(this.beforeOnChange=w.beforeOnChange),w.onChange&&(this.onChange=w.onChange),w.beforeOpen&&(this.beforeOpen=w.beforeOpen),w.afterOpen&&(this.afterOpen=w.afterOpen),w.beforeClose&&(this.beforeClose=w.beforeClose),w.afterClose&&(this.afterClose=w.afterClose),this.config.isEnabled||this.disable()}a.default=b},function(s,a,l){a.__esModule=!0,a.Config=void 0;var o=(h.prototype.searchFilter=function(d,m){return d.text.toLowerCase().indexOf(m.toLowerCase())!==-1},h);function h(d){this.id="",this.isMultiple=!1,this.isAjax=!1,this.isSearching=!1,this.showSearch=!0,this.searchFocus=!0,this.searchHighlight=!1,this.closeOnSelect=!0,this.showContent="auto",this.searchPlaceholder="Search",this.searchText="No Results",this.searchingText="Searching...",this.placeholderText="Select Value",this.allowDeselect=!1,this.allowDeselectOption=!1,this.hideSelectedOption=!1,this.deselectLabel="x",this.isEnabled=!0,this.valuesUseText=!1,this.showOptionTooltips=!1,this.selectByGroup=!1,this.limit=0,this.timeoutDelay=200,this.addToBody=!1,this.main="ss-main",this.singleSelected="ss-single-selected",this.arrow="ss-arrow",this.multiSelected="ss-multi-selected",this.add="ss-add",this.plus="ss-plus",this.values="ss-values",this.value="ss-value",this.valueText="ss-value-text",this.valueDelete="ss-value-delete",this.content="ss-content",this.open="ss-open",this.openAbove="ss-open-above",this.openBelow="ss-open-below",this.search="ss-search",this.searchHighlighter="ss-search-highlight",this.addable="ss-addable",this.list="ss-list",this.optgroup="ss-optgroup",this.optgroupLabel="ss-optgroup-label",this.optgroupLabelSelectable="ss-optgroup-label-selectable",this.option="ss-option",this.optionSelected="ss-option-selected",this.highlighted="ss-highlighted",this.disabled="ss-disabled",this.hide="ss-hide",this.id="ss-"+Math.floor(1e5*Math.random()),this.style=d.select.style.cssText,this.class=d.select.className.split(" "),this.isMultiple=d.select.multiple,this.isAjax=d.isAjax,this.showSearch=d.showSearch!==!1,this.searchFocus=d.searchFocus!==!1,this.searchHighlight=d.searchHighlight===!0,this.closeOnSelect=d.closeOnSelect!==!1,d.showContent&&(this.showContent=d.showContent),this.isEnabled=d.isEnabled!==!1,d.searchPlaceholder&&(this.searchPlaceholder=d.searchPlaceholder),d.searchText&&(this.searchText=d.searchText),d.searchingText&&(this.searchingText=d.searchingText),d.placeholderText&&(this.placeholderText=d.placeholderText),this.allowDeselect=d.allowDeselect===!0,this.allowDeselectOption=d.allowDeselectOption===!0,this.hideSelectedOption=d.hideSelectedOption===!0,d.deselectLabel&&(this.deselectLabel=d.deselectLabel),d.valuesUseText&&(this.valuesUseText=d.valuesUseText),d.showOptionTooltips&&(this.showOptionTooltips=d.showOptionTooltips),d.selectByGroup&&(this.selectByGroup=d.selectByGroup),d.limit&&(this.limit=d.limit),d.searchFilter&&(this.searchFilter=d.searchFilter),d.timeoutDelay!=null&&(this.timeoutDelay=d.timeoutDelay),this.addToBody=d.addToBody===!0}a.Config=o},function(s,a,h){a.__esModule=!0,a.Select=void 0;var o=h(0),h=(d.prototype.setValue=function(){if(this.main.data.getSelected()){if(this.main.config.isMultiple)for(var m=this.main.data.getSelected(),f=0,b=this.element.options;f<b.length;f++){var k=b[f];k.selected=!1;for(var w=0,E=m;w<E.length;w++)E[w].value===k.value&&(k.selected=!0)}else m=this.main.data.getSelected(),this.element.value=m?m.value:"";this.main.data.isOnChangeEnabled=!1,this.element.dispatchEvent(new CustomEvent("change",{bubbles:!0})),this.main.data.isOnChangeEnabled=!0}},d.prototype.addAttributes=function(){this.element.tabIndex=-1,this.element.style.display="none",this.element.dataset.ssid=this.main.config.id,this.element.setAttribute("aria-hidden","true")},d.prototype.addEventListeners=function(){var m=this;this.element.addEventListener("change",function(f){m.main.data.setSelectedFromSelect(),m.main.render()})},d.prototype.addMutationObserver=function(){var m=this;this.main.config.isAjax||(this.mutationObserver=new MutationObserver(function(f){m.triggerMutationObserver&&(m.main.data.parseSelectData(),m.main.data.setSelectedFromSelect(),m.main.render(),f.forEach(function(b){b.attributeName==="class"&&m.main.slim.updateContainerDivClass(m.main.slim.container)}))}),this.observeMutationObserver())},d.prototype.observeMutationObserver=function(){this.mutationObserver&&this.mutationObserver.observe(this.element,{attributes:!0,childList:!0,characterData:!0})},d.prototype.disconnectMutationObserver=function(){this.mutationObserver&&this.mutationObserver.disconnect()},d.prototype.create=function(m){this.element.innerHTML="";for(var f=0,b=m;f<b.length;f++){var k=b[f];if(k.hasOwnProperty("options")){var w=k,E=document.createElement("optgroup");if(E.label=w.label,w.options)for(var P=0,L=w.options;P<L.length;P++){var R=L[P];E.appendChild(this.createOption(R))}this.element.appendChild(E)}else this.element.appendChild(this.createOption(k))}},d.prototype.createOption=function(m){var f=document.createElement("option");return f.value=m.value!==""?m.value:m.text,f.innerHTML=m.innerHTML||m.text,m.selected&&(f.selected=m.selected),m.display===!1&&(f.style.display="none"),m.disabled&&(f.disabled=!0),m.placeholder&&f.setAttribute("data-placeholder","true"),m.mandatory&&f.setAttribute("data-mandatory","true"),m.class&&m.class.split(" ").forEach(function(b){f.classList.add(b)}),m.data&&typeof m.data=="object"&&Object.keys(m.data).forEach(function(b){f.setAttribute("data-"+(0,o.kebabCase)(b),m.data[b])}),f},d);function d(m){this.triggerMutationObserver=!0,this.element=m.select,this.main=m.main,this.element.disabled&&(this.main.config.isEnabled=!1),this.addAttributes(),this.addEventListeners(),this.mutationObserver=null,this.addMutationObserver(),this.element.slim=m.main}a.Select=h},function(s,a,d){a.__esModule=!0,a.Slim=void 0;var o=d(0),h=d(1),d=(m.prototype.containerDiv=function(){var f=document.createElement("div");return f.style.cssText=this.main.config.style,this.updateContainerDivClass(f),f},m.prototype.updateContainerDivClass=function(f){this.main.config.class=this.main.select.element.className.split(" "),f.className="",f.classList.add(this.main.config.id),f.classList.add(this.main.config.main);for(var b=0,k=this.main.config.class;b<k.length;b++){var w=k[b];w.trim()!==""&&f.classList.add(w)}},m.prototype.singleSelectedDiv=function(){var f=this,b=document.createElement("div");b.classList.add(this.main.config.singleSelected);var k=document.createElement("span");k.classList.add("placeholder"),b.appendChild(k);var w=document.createElement("span");w.innerHTML=this.main.config.deselectLabel,w.classList.add("ss-deselect"),w.onclick=function(L){L.stopPropagation(),f.main.config.isEnabled&&f.main.set("")},b.appendChild(w);var E=document.createElement("span");E.classList.add(this.main.config.arrow);var P=document.createElement("span");return P.classList.add("arrow-down"),E.appendChild(P),b.appendChild(E),b.onclick=function(){f.main.config.isEnabled&&(f.main.data.contentOpen?f.main.close():f.main.open())},{container:b,placeholder:k,deselect:w,arrowIcon:{container:E,arrow:P}}},m.prototype.placeholder=function(){var f,b=this.main.data.getSelected();b===null||b&&b.placeholder?((f=document.createElement("span")).classList.add(this.main.config.disabled),f.innerHTML=this.main.config.placeholderText,this.singleSelected&&(this.singleSelected.placeholder.innerHTML=f.outerHTML)):(f="",b&&(f=b.innerHTML&&this.main.config.valuesUseText!==!0?b.innerHTML:b.text),this.singleSelected&&(this.singleSelected.placeholder.innerHTML=b?f:""))},m.prototype.deselect=function(){this.singleSelected&&(!this.main.config.allowDeselect||this.main.selected()===""?this.singleSelected.deselect.classList.add("ss-hide"):this.singleSelected.deselect.classList.remove("ss-hide"))},m.prototype.multiSelectedDiv=function(){var f=this,b=document.createElement("div");b.classList.add(this.main.config.multiSelected);var k=document.createElement("div");k.classList.add(this.main.config.values),b.appendChild(k);var w=document.createElement("div");w.classList.add(this.main.config.add);var E=document.createElement("span");return E.classList.add(this.main.config.plus),E.onclick=function(P){f.main.data.contentOpen&&(f.main.close(),P.stopPropagation())},w.appendChild(E),b.appendChild(w),b.onclick=function(P){f.main.config.isEnabled&&(P.target.classList.contains(f.main.config.valueDelete)||(f.main.data.contentOpen?f.main.close():f.main.open()))},{container:b,values:k,add:w,plus:E}},m.prototype.values=function(){if(this.multiSelected){for(var f=this.multiSelected.values.childNodes,b=this.main.data.getSelected(),k=[],w=0,E=f;w<E.length;w++){for(var P=E[w],L=!0,R=0,u=b;R<u.length;R++){var T=u[R];String(T.id)===String(P.dataset.id)&&(L=!1)}L&&k.push(P)}for(var y=0,S=k;y<S.length;y++){var C=S[y];C.classList.add("ss-out"),this.multiSelected.values.removeChild(C)}for(var M,f=this.multiSelected.values.childNodes,T=0;T<b.length;T++){L=!1;for(var I=0,U=f;I<U.length;I++)P=U[I],String(b[T].id)===String(P.dataset.id)&&(L=!0);L||(f.length!==0&&HTMLElement.prototype.insertAdjacentElement?T===0?this.multiSelected.values.insertBefore(this.valueDiv(b[T]),f[T]):f[T-1].insertAdjacentElement("afterend",this.valueDiv(b[T])):this.multiSelected.values.appendChild(this.valueDiv(b[T])))}b.length===0&&((M=document.createElement("span")).classList.add(this.main.config.disabled),M.innerHTML=this.main.config.placeholderText,this.multiSelected.values.innerHTML=M.outerHTML)}},m.prototype.valueDiv=function(f){var b=this,k=document.createElement("div");k.classList.add(this.main.config.value),k.dataset.id=f.id;var w=document.createElement("span");return w.classList.add(this.main.config.valueText),w.innerHTML=f.innerHTML&&this.main.config.valuesUseText!==!0?f.innerHTML:f.text,k.appendChild(w),f.mandatory||((w=document.createElement("span")).classList.add(this.main.config.valueDelete),w.innerHTML=this.main.config.deselectLabel,w.onclick=function(E){E.preventDefault(),E.stopPropagation();var P=!1;if(b.main.beforeOnChange||(P=!0),b.main.beforeOnChange){for(var E=b.main.data.getSelected(),L=JSON.parse(JSON.stringify(E)),R=0;R<L.length;R++)L[R].id===f.id&&L.splice(R,1);b.main.beforeOnChange(L)!==!1&&(P=!0)}P&&(b.main.data.removeFromSelected(f.id,"id"),b.main.render(),b.main.select.setValue(),b.main.data.onDataChange())},k.appendChild(w)),k},m.prototype.contentDiv=function(){var f=document.createElement("div");return f.classList.add(this.main.config.content),f},m.prototype.searchDiv=function(){var f=this,b=document.createElement("div"),k=document.createElement("input"),w=document.createElement("div");b.classList.add(this.main.config.search);var E={container:b,input:k};return this.main.config.showSearch||(b.classList.add(this.main.config.hide),k.readOnly=!0),k.type="search",k.placeholder=this.main.config.searchPlaceholder,k.tabIndex=0,k.setAttribute("aria-label",this.main.config.searchPlaceholder),k.setAttribute("autocapitalize","off"),k.setAttribute("autocomplete","off"),k.setAttribute("autocorrect","off"),k.onclick=function(P){setTimeout(function(){P.target.value===""&&f.main.search("")},10)},k.onkeydown=function(P){P.key==="ArrowUp"?(f.main.open(),f.highlightUp(),P.preventDefault()):P.key==="ArrowDown"?(f.main.open(),f.highlightDown(),P.preventDefault()):P.key==="Tab"?f.main.data.contentOpen?f.main.close():setTimeout(function(){f.main.close()},f.main.config.timeoutDelay):P.key==="Enter"&&P.preventDefault()},k.onkeyup=function(P){var L=P.target;if(P.key==="Enter"){if(f.main.addable&&P.ctrlKey)return w.click(),P.preventDefault(),void P.stopPropagation();var R=f.list.querySelector("."+f.main.config.highlighted);R&&R.click()}else P.key==="ArrowUp"||P.key==="ArrowDown"||(P.key==="Escape"?f.main.close():f.main.config.showSearch&&f.main.data.contentOpen?f.main.search(L.value):k.value="");P.preventDefault(),P.stopPropagation()},k.onfocus=function(){f.main.open()},b.appendChild(k),this.main.addable&&(w.classList.add(this.main.config.addable),w.innerHTML="+",w.onclick=function(P){var L;f.main.addable&&(P.preventDefault(),P.stopPropagation(),(P=f.search.input.value).trim()!==""?(P=f.main.addable(P),L="",P&&(typeof P=="object"?(0,h.validateOption)(P)&&(f.main.addData(P),L=P.value||P.text):(f.main.addData(f.main.data.newOption({text:P,value:P})),L=P),f.main.search(""),setTimeout(function(){f.main.set(L,"value",!1,!1)},100),f.main.config.closeOnSelect&&setTimeout(function(){f.main.close()},100))):f.search.input.focus())},b.appendChild(w),E.addable=w),E},m.prototype.highlightUp=function(){var f=this.list.querySelector("."+this.main.config.highlighted),k=null;if(f)for(k=f.previousSibling;k!==null&&k.classList.contains(this.main.config.disabled);)k=k.previousSibling;else var b=this.list.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")"),k=b[b.length-1];(k=k&&k.classList.contains(this.main.config.optgroupLabel)?null:k)!==null||(b=f.parentNode).classList.contains(this.main.config.optgroup)&&(!b.previousSibling||(b=b.previousSibling.querySelectorAll("."+this.main.config.option+":not(."+this.main.config.disabled+")")).length&&(k=b[b.length-1])),k&&(f&&f.classList.remove(this.main.config.highlighted),k.classList.add(this.main.config.highlighted),(0,o.ensureElementInView)(this.list,k))},m.prototype.highlightDown=function(){var f,b=this.list.querySelector("."+this.main.config.highlighted),k=null;if(b)for(k=b.nextSibling;k!==null&&k.classList.contains(this.main.config.disabled);)k=k.nextSibling;else k=this.list.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")");k!==null||b===null||(f=b.parentNode).classList.contains(this.main.config.optgroup)&&f.nextSibling&&(k=f.nextSibling.querySelector("."+this.main.config.option+":not(."+this.main.config.disabled+")")),k&&(b&&b.classList.remove(this.main.config.highlighted),k.classList.add(this.main.config.highlighted),(0,o.ensureElementInView)(this.list,k))},m.prototype.listDiv=function(){var f=document.createElement("div");return f.classList.add(this.main.config.list),f.setAttribute("role","listbox"),f},m.prototype.options=function(f){f===void 0&&(f="");var b=this.main.data.filtered||this.main.data.data;if((this.list.innerHTML="")!==f)return(k=document.createElement("div")).classList.add(this.main.config.option),k.classList.add(this.main.config.disabled),k.innerHTML=f,void this.list.appendChild(k);if(this.main.config.isAjax&&this.main.config.isSearching)return(k=document.createElement("div")).classList.add(this.main.config.option),k.classList.add(this.main.config.disabled),k.innerHTML=this.main.config.searchingText,void this.list.appendChild(k);if(b.length===0){var k=document.createElement("div");return k.classList.add(this.main.config.option),k.classList.add(this.main.config.disabled),k.innerHTML=this.main.config.searchText,void this.list.appendChild(k)}for(var w=this,E=0,P=b;E<P.length;E++)(function(L){if(L.hasOwnProperty("label")){var R=L,u=document.createElement("div");u.classList.add(w.main.config.optgroup);var T=document.createElement("div");if(T.classList.add(w.main.config.optgroupLabel),w.main.config.selectByGroup&&w.main.config.isMultiple&&T.classList.add(w.main.config.optgroupLabelSelectable),T.innerHTML=R.label,u.appendChild(T),R=R.options,R){for(var y,S=0,C=R;S<C.length;S++){var M=C[S];u.appendChild(w.option(M))}w.main.config.selectByGroup&&w.main.config.isMultiple&&(y=w,T.addEventListener("click",function(I){I.preventDefault(),I.stopPropagation();for(var U=0,z=u.children;U<z.length;U++){var g=z[U];g.className.indexOf(y.main.config.option)!==-1&&g.click()}}))}w.list.appendChild(u)}else w.list.appendChild(w.option(L))})(P[E])},m.prototype.option=function(f){if(f.placeholder){var b=document.createElement("div");return b.classList.add(this.main.config.option),b.classList.add(this.main.config.hide),b}var k=document.createElement("div");k.classList.add(this.main.config.option),k.setAttribute("role","option"),f.class&&f.class.split(" ").forEach(function(P){k.classList.add(P)}),f.style&&(k.style.cssText=f.style);var w=this.main.data.getSelected();k.dataset.id=f.id,this.main.config.searchHighlight&&this.main.slim&&f.innerHTML&&this.main.slim.search.input.value.trim()!==""?k.innerHTML=(0,o.highlight)(f.innerHTML,this.main.slim.search.input.value,this.main.config.searchHighlighter):f.innerHTML&&(k.innerHTML=f.innerHTML),this.main.config.showOptionTooltips&&k.textContent&&k.setAttribute("title",k.textContent);var E=this;return k.addEventListener("click",function(P){P.preventDefault(),P.stopPropagation();var L=this.dataset.id;if(f.selected===!0&&E.main.config.allowDeselectOption){var R=!1;if(E.main.beforeOnChange&&E.main.config.isMultiple||(R=!0),E.main.beforeOnChange&&E.main.config.isMultiple){for(var u=E.main.data.getSelected(),T=JSON.parse(JSON.stringify(u)),y=0;y<T.length;y++)T[y].id===L&&T.splice(y,1);E.main.beforeOnChange(T)!==!1&&(R=!0)}R&&(E.main.config.isMultiple?(E.main.data.removeFromSelected(L,"id"),E.main.render(),E.main.select.setValue(),E.main.data.onDataChange()):E.main.set(""))}else f.disabled||f.selected||E.main.config.limit&&Array.isArray(w)&&E.main.config.limit<=w.length||(E.main.beforeOnChange?(u=void 0,(R=JSON.parse(JSON.stringify(E.main.data.getObjectFromData(L)))).selected=!0,E.main.config.isMultiple?(u=JSON.parse(JSON.stringify(w))).push(R):u=JSON.parse(JSON.stringify(R)),E.main.beforeOnChange(u)!==!1&&E.main.set(L,"id",E.main.config.closeOnSelect)):E.main.set(L,"id",E.main.config.closeOnSelect))}),b=w&&(0,o.isValueInArrayOfObjects)(w,"id",f.id),(f.disabled||b)&&(k.onclick=null,E.main.config.allowDeselectOption||k.classList.add(this.main.config.disabled),E.main.config.hideSelectedOption&&k.classList.add(this.main.config.hide)),b?k.classList.add(this.main.config.optionSelected):k.classList.remove(this.main.config.optionSelected),k},m);function m(f){this.main=f.main,this.container=this.containerDiv(),this.content=this.contentDiv(),this.search=this.searchDiv(),this.list=this.listDiv(),this.options(),this.singleSelected=null,this.multiSelected=null,this.main.config.isMultiple?(this.multiSelected=this.multiSelectedDiv(),this.multiSelected&&this.container.appendChild(this.multiSelected.container)):(this.singleSelected=this.singleSelectedDiv(),this.container.appendChild(this.singleSelected.container)),this.main.config.addToBody?(this.content.classList.add(this.main.config.id),document.body.appendChild(this.content)):this.container.appendChild(this.content),this.content.appendChild(this.search.container),this.content.appendChild(this.list)}a.Slim=d}],t.c=i,t.d=function(s,a,l){t.o(s,a)||Object.defineProperty(s,a,{enumerable:!0,get:l})},t.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},t.t=function(s,a){if(1&a&&(s=t(s)),8&a||4&a&&typeof s=="object"&&s&&s.__esModule)return s;var l=Object.create(null);if(t.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:s}),2&a&&typeof s!="string")for(var o in s)t.d(l,o,(function(h){return s[h]}).bind(null,o));return l},t.n=function(s){var a=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(a,"a",a),a},t.o=function(s,a){return Object.prototype.hasOwnProperty.call(s,a)},t.p="",t(t.s=2).default;function t(s){if(i[s])return i[s].exports;var a=i[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var e,i});var rk={};(function t(e,i,s,a){var l=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",h=function(){if(!e.OffscreenCanvas)return!1;var Q=new OffscreenCanvas(1,1),Z=Q.getContext("2d");Z.fillRect(0,0,1,1);var ve=Q.transferToImageBitmap();try{Z.createPattern(ve,"no-repeat")}catch{return!1}return!0}();function d(){}function m(Q){var Z=i.exports.Promise,ve=Z!==void 0?Z:e.Promise;return typeof ve=="function"?new ve(Q):(Q(d,d),null)}var f=function(Q,Z){return{transform:function(ve){if(Q)return ve;if(Z.has(ve))return Z.get(ve);var Ie=new OffscreenCanvas(ve.width,ve.height),Ve=Ie.getContext("2d");return Ve.drawImage(ve,0,0),Z.set(ve,Ie),Ie},clear:function(){Z.clear()}}}(h,new Map),b=function(){var Q=Math.floor(16.666666666666668),Z,ve,Ie={},Ve=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(Z=function(Ae){var ze=Math.random();return Ie[ze]=requestAnimationFrame(function et(xt){Ve===xt||Ve+Q-1<xt?(Ve=xt,delete Ie[ze],Ae()):Ie[ze]=requestAnimationFrame(et)}),ze},ve=function(Ae){Ie[Ae]&&cancelAnimationFrame(Ie[Ae])}):(Z=function(Ae){return setTimeout(Ae,Q)},ve=function(Ae){return clearTimeout(Ae)}),{frame:Z,cancel:ve}}(),k=function(){var Q,Z,ve={};function Ie(Ve){function Ae(ze,et){Ve.postMessage({options:ze||{},callback:et})}Ve.init=function(et){var xt=et.transferControlToOffscreen();Ve.postMessage({canvas:xt},[xt])},Ve.fire=function(et,xt,At){if(Z)return Ae(et,null),Z;var Me=Math.random().toString(36).slice(2);return Z=m(function(Ut){function jt(Ci){Ci.data.callback===Me&&(delete ve[Me],Ve.removeEventListener("message",jt),Z=null,f.clear(),At(),Ut())}Ve.addEventListener("message",jt),Ae(et,Me),ve[Me]=jt.bind(null,{data:{callback:Me}})}),Z},Ve.reset=function(){Ve.postMessage({reset:!0});for(var et in ve)ve[et](),delete ve[et]}}return function(){if(Q)return Q;if(!s&&l){var Ve=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Q=new Worker(URL.createObjectURL(new Blob([Ve])))}catch(Ae){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",Ae),null}Ie(Q)}return Q}}(),w={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function E(Q,Z){return Z?Z(Q):Q}function P(Q){return Q!=null}function L(Q,Z,ve){return E(Q&&P(Q[Z])?Q[Z]:w[Z],ve)}function R(Q){return Q<0?0:Math.floor(Q)}function u(Q,Z){return Math.floor(Math.random()*(Z-Q))+Q}function T(Q){return parseInt(Q,16)}function y(Q){return Q.map(S)}function S(Q){var Z=String(Q).replace(/[^0-9a-f]/gi,"");return Z.length<6&&(Z=Z[0]+Z[0]+Z[1]+Z[1]+Z[2]+Z[2]),{r:T(Z.substring(0,2)),g:T(Z.substring(2,4)),b:T(Z.substring(4,6))}}function C(Q){var Z=L(Q,"origin",Object);return Z.x=L(Z,"x",Number),Z.y=L(Z,"y",Number),Z}function M(Q){Q.width=document.documentElement.clientWidth,Q.height=document.documentElement.clientHeight}function I(Q){var Z=Q.getBoundingClientRect();Q.width=Z.width,Q.height=Z.height}function U(Q){var Z=document.createElement("canvas");return Z.style.position="fixed",Z.style.top="0px",Z.style.left="0px",Z.style.pointerEvents="none",Z.style.zIndex=Q,Z}function z(Q,Z,ve,Ie,Ve,Ae,ze,et,xt){Q.save(),Q.translate(Z,ve),Q.rotate(Ae),Q.scale(Ie,Ve),Q.arc(0,0,1,ze,et,xt),Q.restore()}function g(Q){var Z=Q.angle*(Math.PI/180),ve=Q.spread*(Math.PI/180);return{x:Q.x,y:Q.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Q.startVelocity*.5+Math.random()*Q.startVelocity,angle2D:-Z+(.5*ve-Math.random()*ve),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Q.color,shape:Q.shape,tick:0,totalTicks:Q.ticks,decay:Q.decay,drift:Q.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Q.gravity*3,ovalScalar:.6,scalar:Q.scalar,flat:Q.flat}}function x(Q,Z){Z.x+=Math.cos(Z.angle2D)*Z.velocity+Z.drift,Z.y+=Math.sin(Z.angle2D)*Z.velocity+Z.gravity,Z.velocity*=Z.decay,Z.flat?(Z.wobble=0,Z.wobbleX=Z.x+10*Z.scalar,Z.wobbleY=Z.y+10*Z.scalar,Z.tiltSin=0,Z.tiltCos=0,Z.random=1):(Z.wobble+=Z.wobbleSpeed,Z.wobbleX=Z.x+10*Z.scalar*Math.cos(Z.wobble),Z.wobbleY=Z.y+10*Z.scalar*Math.sin(Z.wobble),Z.tiltAngle+=.1,Z.tiltSin=Math.sin(Z.tiltAngle),Z.tiltCos=Math.cos(Z.tiltAngle),Z.random=Math.random()+2);var ve=Z.tick++/Z.totalTicks,Ie=Z.x+Z.random*Z.tiltCos,Ve=Z.y+Z.random*Z.tiltSin,Ae=Z.wobbleX+Z.random*Z.tiltCos,ze=Z.wobbleY+Z.random*Z.tiltSin;if(Q.fillStyle="rgba("+Z.color.r+", "+Z.color.g+", "+Z.color.b+", "+(1-ve)+")",Q.beginPath(),o&&Z.shape.type==="path"&&typeof Z.shape.path=="string"&&Array.isArray(Z.shape.matrix))Q.fill($(Z.shape.path,Z.shape.matrix,Z.x,Z.y,Math.abs(Ae-Ie)*.1,Math.abs(ze-Ve)*.1,Math.PI/10*Z.wobble));else if(Z.shape.type==="bitmap"){var et=Math.PI/10*Z.wobble,xt=Math.abs(Ae-Ie)*.1,At=Math.abs(ze-Ve)*.1,Me=Z.shape.bitmap.width*Z.scalar,Ut=Z.shape.bitmap.height*Z.scalar,jt=new DOMMatrix([Math.cos(et)*xt,Math.sin(et)*xt,-Math.sin(et)*At,Math.cos(et)*At,Z.x,Z.y]);jt.multiplySelf(new DOMMatrix(Z.shape.matrix));var Ci=Q.createPattern(f.transform(Z.shape.bitmap),"no-repeat");Ci.setTransform(jt),Q.globalAlpha=1-ve,Q.fillStyle=Ci,Q.fillRect(Z.x-Me/2,Z.y-Ut/2,Me,Ut),Q.globalAlpha=1}else if(Z.shape==="circle")Q.ellipse?Q.ellipse(Z.x,Z.y,Math.abs(Ae-Ie)*Z.ovalScalar,Math.abs(ze-Ve)*Z.ovalScalar,Math.PI/10*Z.wobble,0,2*Math.PI):z(Q,Z.x,Z.y,Math.abs(Ae-Ie)*Z.ovalScalar,Math.abs(ze-Ve)*Z.ovalScalar,Math.PI/10*Z.wobble,0,2*Math.PI);else if(Z.shape==="star")for(var rt=Math.PI/2*3,yi=4*Z.scalar,Ui=8*Z.scalar,qi=Z.x,yt=Z.y,Nt=5,Ni=Math.PI/Nt;Nt--;)qi=Z.x+Math.cos(rt)*Ui,yt=Z.y+Math.sin(rt)*Ui,Q.lineTo(qi,yt),rt+=Ni,qi=Z.x+Math.cos(rt)*yi,yt=Z.y+Math.sin(rt)*yi,Q.lineTo(qi,yt),rt+=Ni;else Q.moveTo(Math.floor(Z.x),Math.floor(Z.y)),Q.lineTo(Math.floor(Z.wobbleX),Math.floor(Ve)),Q.lineTo(Math.floor(Ae),Math.floor(ze)),Q.lineTo(Math.floor(Ie),Math.floor(Z.wobbleY));return Q.closePath(),Q.fill(),Z.tick<Z.totalTicks}function A(Q,Z,ve,Ie,Ve){var Ae=Z.slice(),ze=Q.getContext("2d"),et,xt,At=m(function(Me){function Ut(){et=xt=null,ze.clearRect(0,0,Ie.width,Ie.height),f.clear(),Ve(),Me()}function jt(){s&&!(Ie.width===a.width&&Ie.height===a.height)&&(Ie.width=Q.width=a.width,Ie.height=Q.height=a.height),!Ie.width&&!Ie.height&&(ve(Q),Ie.width=Q.width,Ie.height=Q.height),ze.clearRect(0,0,Ie.width,Ie.height),Ae=Ae.filter(function(Ci){return x(ze,Ci)}),Ae.length?et=b.frame(jt):Ut()}et=b.frame(jt),xt=Ut});return{addFettis:function(Me){return Ae=Ae.concat(Me),At},canvas:Q,promise:At,reset:function(){et&&b.cancel(et),xt&&xt()}}}function F(Q,Z){var ve=!Q,Ie=!!L(Z||{},"resize"),Ve=!1,Ae=L(Z,"disableForReducedMotion",Boolean),ze=l&&!!L(Z||{},"useWorker"),et=ze?k():null,xt=ve?M:I,At=Q&&et?!!Q.__confetti_initialized:!1,Me=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ut;function jt(rt,yi,Ui){for(var qi=L(rt,"particleCount",R),yt=L(rt,"angle",Number),Nt=L(rt,"spread",Number),Ni=L(rt,"startVelocity",Number),Fr=L(rt,"decay",Number),Xr=L(rt,"gravity",Number),Ai=L(rt,"drift",Number),yr=L(rt,"colors",y),ee=L(rt,"ticks",Number),fe=L(rt,"shapes"),le=L(rt,"scalar"),Fe=!!L(rt,"flat"),Ke=C(rt),Ye=qi,Tt=[],Vt=Q.width*Ke.x,ti=Q.height*Ke.y;Ye--;)Tt.push(g({x:Vt,y:ti,angle:yt,spread:Nt,startVelocity:Ni,color:yr[Ye%yr.length],shape:fe[u(0,fe.length)],ticks:ee,decay:Fr,gravity:Xr,drift:Ai,scalar:le,flat:Fe}));return Ut?Ut.addFettis(Tt):(Ut=A(Q,Tt,xt,yi,Ui),Ut.promise)}function Ci(rt){var yi=Ae||L(rt,"disableForReducedMotion",Boolean),Ui=L(rt,"zIndex",Number);if(yi&&Me)return m(function(Ni){Ni()});ve&&Ut?Q=Ut.canvas:ve&&!Q&&(Q=U(Ui),document.body.appendChild(Q)),Ie&&!At&&xt(Q);var qi={width:Q.width,height:Q.height};et&&!At&&et.init(Q),At=!0,et&&(Q.__confetti_initialized=!0);function yt(){if(et){var Ni={getBoundingClientRect:function(){if(!ve)return Q.getBoundingClientRect()}};xt(Ni),et.postMessage({resize:{width:Ni.width,height:Ni.height}});return}qi.width=qi.height=null}function Nt(){Ut=null,Ie&&(Ve=!1,e.removeEventListener("resize",yt)),ve&&Q&&(document.body.contains(Q)&&document.body.removeChild(Q),Q=null,At=!1)}return Ie&&!Ve&&(Ve=!0,e.addEventListener("resize",yt,!1)),et?et.fire(rt,qi,Nt):jt(rt,qi,Nt)}return Ci.reset=function(){et&&et.reset(),Ut&&Ut.reset()},Ci}var B;function j(){return B||(B=F(null,{useWorker:!0,resize:!0})),B}function $(Q,Z,ve,Ie,Ve,Ae,ze){var et=new Path2D(Q),xt=new Path2D;xt.addPath(et,new DOMMatrix(Z));var At=new Path2D;return At.addPath(xt,new DOMMatrix([Math.cos(ze)*Ve,Math.sin(ze)*Ve,-Math.sin(ze)*Ae,Math.cos(ze)*Ae,ve,Ie])),At}function G(Q){if(!o)throw new Error("path confetti are not supported in this browser");var Z,ve;typeof Q=="string"?Z=Q:(Z=Q.path,ve=Q.matrix);var Ie=new Path2D(Z),Ve=document.createElement("canvas"),Ae=Ve.getContext("2d");if(!ve){for(var ze=1e3,et=ze,xt=ze,At=0,Me=0,Ut,jt,Ci=0;Ci<ze;Ci+=2)for(var rt=0;rt<ze;rt+=2)Ae.isPointInPath(Ie,Ci,rt,"nonzero")&&(et=Math.min(et,Ci),xt=Math.min(xt,rt),At=Math.max(At,Ci),Me=Math.max(Me,rt));Ut=At-et,jt=Me-xt;var yi=10,Ui=Math.min(yi/Ut,yi/jt);ve=[Ui,0,0,Ui,-Math.round(Ut/2+et)*Ui,-Math.round(jt/2+xt)*Ui]}return{type:"path",path:Z,matrix:ve}}function he(Q){var Z,ve=1,Ie="#000000",Ve='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Q=="string"?Z=Q:(Z=Q.text,ve="scalar"in Q?Q.scalar:ve,Ve="fontFamily"in Q?Q.fontFamily:Ve,Ie="color"in Q?Q.color:Ie);var Ae=10*ve,ze=""+Ae+"px "+Ve,et=new OffscreenCanvas(Ae,Ae),xt=et.getContext("2d");xt.font=ze;var At=xt.measureText(Z),Me=Math.ceil(At.actualBoundingBoxRight+At.actualBoundingBoxLeft),Ut=Math.ceil(At.actualBoundingBoxAscent+At.actualBoundingBoxDescent),jt=2,Ci=At.actualBoundingBoxLeft+jt,rt=At.actualBoundingBoxAscent+jt;Me+=jt+jt,Ut+=jt+jt,et=new OffscreenCanvas(Me,Ut),xt=et.getContext("2d"),xt.font=ze,xt.fillStyle=Ie,xt.fillText(Z,Ci,rt);var yi=1/ve;return{type:"bitmap",bitmap:et.transferToImageBitmap(),matrix:[yi,0,0,yi,-Me*yi/2,-Ut*yi/2]}}i.exports=function(){return j().apply(this,arguments)},i.exports.reset=function(){j().reset()},i.exports.create=F,i.exports.shapeFromPath=G,i.exports.shapeFromText=he})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rk,!1);const a$=rk.exports;rk.exports.create;jQuery(function(t,e){var i,s,a,l,o,h,d,m;t.curCSS=function(f,b,k){k===!0?t(f).css(b):t(f).css(b,k)},i=t(window),s=t(document),a=t("body"),l=t("base").attr("href"),o={filters:[],callbacks:{},loadFilter:e,modal:!1,closeOnEscape:!0,closeOnClick:!1,useKeyHandler:!1,showCloseButton:!0,closeButton:'<a href="#" class="nyroModalClose nyroModalCloseButton nmReposition" title="close"><i class="fa-solid fa-xmark"></i></a>',stack:!1,nonStackable:"form",header:e,footer:e,galleryLoop:!0,galleryCounts:!0,ltr:!0,imageRegex:"[^.].(jpg|jpeg|png|tiff|gif|bmp)s*$",selIndicator:"nyroModalSel",swfObjectId:e,swf:{allowFullScreen:"true",allowscriptaccess:"always",wmode:"transparent"},store:{},errorMsg:"An error occured",elts:{all:e,bg:e,load:e,cont:e,hidden:e},sizes:{mode:"custom",initW:e,initH:e,w:e,h:e,minW:370,minH:200,wMargin:e,hMargin:e},anim:{def:e,showBg:e,hideBg:e,showLoad:e,hideLoad:e,showCont:e,hideCont:e,showTrans:e,hideTrans:e,resize:e},_open:!1,_bgReady:!1,_opened:!1,_loading:!1,_animated:!1,_transition:!1,_nmOpener:e,_nbContentLoading:0,_scripts:"",_scriptsShown:"",saveObj:function(){this.opener.data("nmObj",this)},open:function(){this._nmOpener&&this._nmOpener._close(),this.getInternal()._pushStack(this.opener),this._opened=!1,this._bgReady=!1,this._open=!0,this._initElts(),this._load(),this._nbContentLoading=0,this._callAnim("showBg",t.proxy(function(){this._bgReady=!0,this._nmOpener&&(this._nmOpener._bgReady=!1,this._nmOpener._loading=!1,this._nmOpener._animated=!1,this._nmOpener._opened=!1,this._nmOpener._open=!1,this._nmOpener.elts.cont=this._nmOpener.elts.hidden=this._nmOpener.elts.load=this._nmOpener.elts.bg=this._nmOpener.elts.all=e,this._nmOpener.saveObj(),this._nmOpener=e),this._contentLoading()},this))},resize:function(f){f?(this.elts.hidden.append(this.elts.cont.children().first().clone()),this.sizes.initW=this.sizes.w=this.elts.hidden.width(),this.sizes.initH=this.sizes.h=this.elts.hidden.height(),this.elts.hidden.empty()):(this.sizes.w=this.sizes.initW,this.sizes.h=this.sizes.initH),this.elts.hidden.empty(),this._unreposition(),this.size(),this._callAnim("resize",t.proxy(function(){this._reposition()},this))},size:function(){var f=this.getInternal().fullSize.viewH-this.sizes.hMargin,b=this.getInternal().fullSize.viewW-this.sizes.wMargin;this.sizes.mode=="rightHalf"?(this.sizes.h=f,this.sizes.w=b/3*2):(this.sizes.minW&&this.sizes.minW>this.sizes.w&&(this.sizes.w=this.sizes.minW),this.sizes.minH&&this.sizes.minH>this.sizes.h&&(this.sizes.h=this.sizes.minH),(this.sizes.h>f||this.sizes.w>b)&&(this.sizes.h=f,this.sizes.w=Math.min(this.sizes.w,b-30))),this._callFilters("size")},getForNewLinks:function(f){var b;return this.stack&&(!f||this.isStackable(f))?(b=t.extend(!0,{},this),b._nmOpener=e,b.elts.all=e):(b=t.extend({},this),b._nmOpener=this),b.filters=[],b.opener=e,b._open=!1,b},isStackable:function(f){return!f.is(this.nonStackable)},keyHandle:function(f){this.keyEvent=f,this._callFilters("keyHandle"),this.keyEvent=e,delete this.keyEvent},getInternal:function(){return h},_close:function(){this.getInternal()._removeStack(this.opener),this._opened=!1,this._open=!1,this._callFilters("close")},close:function(){this._close(),this._callFilters("beforeClose");var f=this;this._unreposition(),t("body").css("overflow","auto"),f._callAnim("hideCont",function(){f._callAnim("hideLoad",function(){f._callAnim("hideBg",function(){f._callFilters("afterClose"),f.elts.cont.remove(),f.elts.hidden.remove(),f.elts.load.remove(),f.elts.bg.remove(),f.elts.all.remove(),f.elts.cont=f.elts.hidden=f.elts.load=f.elts.bg=f.elts.all=e})})})},_initElts:function(){!this.stack&&this.getInternal().stack.length>1&&(this.elts=this.getInternal().stack[this.getInternal().stack.length-2].nmObj.elts),(!this.elts.all||this.elts.all.closest("body").length==0)&&(this.elts.all=this.elts.bg=this.elts.cont=this.elts.hidden=this.elts.load=e),this.elts.all||(this.elts.all=t("<div />").appendTo(this.getInternal()._container)),this.elts.bg||(this.elts.bg=t("<div />").hide().appendTo(this.elts.all)),this.elts.cont||(this.elts.cont=t("<div />").hide().appendTo(this.elts.bg)),this.elts.hidden||(this.elts.hidden=t("<div />").hide().appendTo(this.elts.bg)),this.elts.hidden.empty(),this.elts.load||(this.elts.load=t("<div />").hide().appendTo(this.elts.all)),this._callFilters("initElts")},_error:function(){this._callFilters("error")},_setCont:function(f,b){this.elts.hidden.append(this._filterScripts(f)).prepend(this.header).append(this.footer).wrapInner('<div class="nyroModal'+E_(this.loadFilter)+'" />'),this.sizes.initW=this.sizes.w=this.elts.hidden.width()+75,this.sizes.initH=this.sizes.h=this.elts.hidden.height();var k=this.getInternal()._getOuter(this.elts.cont);this.sizes.hMargin=k.h.total,this.sizes.wMargin=k.w.total,this.size(),this.loading=!1,this._callFilters("filledContent"),this._contentLoading()},_filterScripts:function(f){if(typeof f!="string")return f;this._scripts=[],this._scriptsShown=[];for(var b=0,k="<script",w="<\/script>",E=w.length,P,L,R;(P=f.indexOf(k,b))>-1;)L=f.indexOf(w)+E,R=t(f.substring(P,L)),(!R.attr("src")||R.attr("rel")=="forceLoad")&&(R.attr("rev")=="shown"?this._scriptsShown.push(R.get(0)):this._scripts.push(R.get(0))),f=f.substring(0,P)+f.substr(L),b=P;return f},_hasFilter:function(f){var b=!1;return t.each(this.filters,function(k,w){b=b||w==f}),b},_delFilter:function(f){this.filters=t.map(this.filters,function(b){if(b!=f)return b})},_callFilters:function(f){this.getInternal()._debug(f);var b=[],k=this;return t.each(this.filters,function(w,E){b[E]=k._callFilter(E,f)}),this.callbacks[f]&&t.isFunction(this.callbacks[f])&&this.callbacks[f](this),b},_callFilter:function(f,b){return m[f]&&m[f][b]&&t.isFunction(m[f][b])?m[f][b](this):e},_callAnim:function(f,b){if(this.getInternal()._debug(f),this._callFilters("before"+E_(f)),!this._animated){this._animated=!0,t.isFunction(b)||(b=t.noop);var k=this.anim[f]||this.anim.def||"basic";(!d[k]||!d[k][f]||!t.isFunction(d[k][f]))&&(k="basic"),d[k][f](this,t.proxy(function(){this._animated=!1,this._callFilters("after"+E_(f)),b()},this))}},_load:function(){this.getInternal()._debug("_load"),!this.loading&&this.loadFilter&&(this.loading=!0,this._callFilter(this.loadFilter,"load"))},_contentLoading:function(){if(!this._animated&&this._bgReady){if(!this._transition&&this.elts.cont.html().length>0&&(this._transition=!0),this._nbContentLoading++,this.loading){if(this._nbContentLoading==1){var b=this.getInternal()._getOuter(this.elts.load);this.elts.load.css({position:"fixed",top:(this.getInternal().fullSize.viewH-this.elts.load.height()-b.h.margin)/2,left:(this.getInternal().fullSize.viewW-this.elts.load.width()-b.w.margin)/2}),this._transition?(this._unreposition(),this._callAnim("showTrans",t.proxy(function(){this._contentLoading()},this))):this._callAnim("showLoad",t.proxy(function(){this._contentLoading()},this))}}else if(!this._opened)if(this._opened=!0,this._transition){var f=t.proxy(function(){this._writeContent(),this._callFilters("beforeShowCont"),this._callAnim("hideTrans",t.proxy(function(){this._transition=!1,this.elts.cont.append(this._scriptsShown),this._reposition(),this._callFilters("afterShowCont")},this))},this);this._nbContentLoading==1?(this._unreposition(),this._callAnim("showTrans",f)):f()}else this._callAnim("hideLoad",t.proxy(function(){this._writeContent(),this._callAnim("showCont",t.proxy(function(){this.elts.cont.append(this._scriptsShown),this._reposition()},this))},this))}},_writeContent:function(){if(this.sizes.mode=="rightHalf")var f=0,b="auto",k=0;else{var f=(this.getInternal().fullSize.viewH-this.sizes.h-this.sizes.hMargin)/2-50;f<=10&&(f=50);var b=(this.getInternal().fullSize.viewW-this.sizes.w-this.sizes.wMargin)/2,k="auto"}this.elts.cont.empty().append(this.elts.hidden.contents()).append(this._scripts).append(this.showCloseButton?this.closeButton:"").css({position:"absolute",width:this.sizes.w,height:"auto",minHeight:this.sizes.h-f,top:f,left:b,right:k})},_reposition:function(){var f=this.elts.cont.find(".nmReposition");if(f.length){var b=this.getInternal()._getSpaceReposition(),k=this;f.each(function(){let w=0,E=0,P=0,L=t(this),R=L.offset();k.sizes.mode=="rightHalf"?(E="auto",P=0):(w=R.top-b.top,w<=50&&(w=50),E=R.left-b.left,P="auto"),L.css({position:"absolute",top:w,left:E,right:P,visibility:"visible"})}),this.elts.cont.after(f)}this._callFilters("afterReposition")},_unreposition:function(){this.elts.cont.css("overflow","");var f=this.elts.all.find(".nmReposition");f.length&&this.elts.cont.append(f.removeAttr("style")),this._callFilters("afterUnreposition")}},h={firstInit:!0,debug:!1,stack:[],fullSize:{w:0,h:0,wW:0,wH:0,viewW:0,viewH:0},nyroModal:function(f,b){return h.firstInit&&(h._container=t("<div />").appendTo(a),i.smartresize(t.proxy(h._resize,h)),s.bind("keydown.nyroModal",t.proxy(h._keyHandler,h)),h._calculateFullSize(),h.firstInit=!1),this.nmInit(f,b).each(function(){h._init(t(this).data("nmObj"))})},nmInit:function(f,b){return this.each(function(){var k=t(this);b?k.data("nmObj",t.extend(!0,{opener:k},f)):k.data("nmObj",k.data("nmObj")?t.extend(!0,k.data("nmObj"),f):t.extend(!0,{opener:k},o,f))})},nmCall:function(){return this.trigger("nyroModal")},nmManual:function(f,b){t('<a href="'+f+'"></a>').nyroModal(b).trigger("nyroModal")},nmData:function(f,b){this.nmManual("#",t.extend({data:f},b))},nmObj:function(f){t.extend(!0,o,f)},nmInternal:function(f){t.extend(!0,h,f)},nmAnims:function(f){t.extend(!0,d,f)},nmFilters:function(f){t.extend(!0,m,f)},nmTop:function(){return h.stack.length?h.stack[h.stack.length-1].nmObj:e},_debug:function(f){this.debug&&window.console&&window.console.log&&window.console.log(f)},_container:e,_init:function(f){f.filters=[],t.each(m,function(b,k){k.is&&t.isFunction(k.is)&&k.is(f)&&f.filters.push(b)}),f._callFilters("initFilters"),f._callFilters("init"),f.opener.unbind("nyroModal.nyroModal nmClose.nyroModal nmResize.nyroModal").bind({"nyroModal.nyroModal":function(b){return f.open(),!1},"nmClose.nyroModal":function(){return f.close(),!1},"nmResize.nyroModal":function(){return f.resize(),!1}})},_scrollWidth:function(){var f,b=t("<div />").css({width:100,height:100,overflow:"auto",position:"absolute",top:-1e3,left:-1e3}).prependTo(a).append("<div />").find("div").css({width:"100%",height:200});return f=100-b.width(),b.parent().remove(),f}(),_selNyroModal:function(f){return!!t(f).data("nmObj")},_selNyroModalOpen:function(f){var b=t(f);return b.data("nmObj")?b.data("nmObj")._open:!1},_keyHandler:function(f){var b=t.nmTop();if(b&&b.useKeyHandler)return b.keyHandle(f)},_pushStack:function(f){this.stack=t.map(this.stack,function(b){if(b.nmOpener!=f.get(0))return b}),this.stack.push({nmOpener:f.get(0),nmObj:t(f).data("nmObj")})},_removeStack:function(f){this.stack=t.map(this.stack,function(b){if(b.nmOpener!=f.get(0))return b})},_resize:function(){var f=t(":nmOpen").each(function(){t(this).data("nmObj")._unreposition()});this._calculateFullSize(),f.trigger("nmResize")},_calculateFullSize:function(){this.fullSize={w:s.width(),h:s.height(),wW:i.width(),wH:i.height()},this.fullSize.viewW=Math.min(this.fullSize.w,this.fullSize.wW),this.fullSize.viewH=Math.min(this.fullSize.h,this.fullSize.wH)},_getCurCSS:function(f,b){var k=parseInt(t.curCSS(f,b,!0));return isNaN(k)?0:k},_getOuter:function(f){f=f.get(0);var b={h:{margin:this._getCurCSS(f,"margin-top")+this._getCurCSS(f,"margin-bottom"),border:this._getCurCSS(f,"border-top-width")+this._getCurCSS(f,"border-bottom-width"),padding:this._getCurCSS(f,"padding-top")+this._getCurCSS(f,"padding-bottom")},w:{margin:this._getCurCSS(f,"margin-left")+this._getCurCSS(f,"margin-right"),border:this._getCurCSS(f,"border-left-width")+this._getCurCSS(f,"border-right-width"),padding:this._getCurCSS(f,"padding-left")+this._getCurCSS(f,"padding-right")}};return b.h.outer=b.h.margin+b.h.border,b.w.outer=b.w.margin+b.w.border,b.h.inner=b.h.padding+b.h.border,b.w.inner=b.w.padding+b.w.border,b.h.total=b.h.outer+b.h.padding,b.w.total=b.w.outer+b.w.padding,b},_getSpaceReposition:function(){var f=this._getOuter(a);return i.scrollTop()-f.h.border/2,{top:i.scrollTop()-f.h.border/2,left:i.scrollLeft()-f.h.border/2}},_getHash:function(f){if(typeof f=="string"){var b=f.indexOf("#");if(b>-1)return f.substring(b)}return""},_extractUrl:function(f){var b={url:e,sel:e};if(f){var k=this._getHash(f),w=this._getHash(window.location.href),E=window.location.href.substring(0,window.location.href.length-w.length),P=f.substring(0,f.length-k.length);b.sel=k,P!=E&&P!=l&&(b.url=f)}return b}},d={basic:{showBg:function(f,b){f.elts.bg.show(),b()},hideBg:function(f,b){f.elts.bg.hide(),b()},showLoad:function(f,b){f.elts.load.show(),b()},hideLoad:function(f,b){f.elts.load.hide(),b()},showCont:function(f,b){f.elts.cont!=null&&(f.elts.cont.show(),b())},hideCont:function(f,b){f.elts.cont!=null&&(f.elts.cont.hide(),b())},showTrans:function(f,b){f.elts.cont.hide(),f.elts.load.show(),b()},hideTrans:function(f,b){f.elts.cont!=null&&f.elts.load!=null&&(f.elts.cont.show(),f.elts.load.hide(),b())},resize:function(f,b){var k=(f.getInternal().fullSize.viewH-f.sizes.h-f.sizes.hMargin)/2;k<=50&&(k=50),f.elts.cont.css({width:f.sizes.w,height:"auto",minHeight:f.sizes.h-k,top:k,left:(f.getInternal().fullSize.viewW-f.sizes.w-f.sizes.wMargin)/2}),b()}}},m={basic:{is:function(f){return!0},init:function(f){f.opener.attr("rev")=="modal"&&(f.modal=!0),f.modal&&(f.closeOnEscape=f.closeOnClick=f.showCloseButton=!1),f.closeOnEscape&&(f.useKeyHandler=!0)},initElts:function(f){f.elts.bg.addClass("nyroModalBg"),f.closeOnClick&&f.elts.bg.unbind("click.nyroModal").bind("click.nyroModal",function(b){b.target==this&&f.close()}),f.elts.cont.addClass("nyroModalCont"),f.elts.hidden.addClass("nyroModalCont nyroModalHidden"),f.elts.load.addClass("nyroModalCont nyroModalLoad")},error:function(f){f.elts.hidden.addClass("nyroModalError"),f.elts.cont.addClass("nyroModalError"),f._setCont(f.errorMsg)},beforeShowCont:function(f){t("body").css("overflow","hidden"),f.elts.cont!=null&&f.elts.cont.find(".nyroModal").each(function(){var b=t(this);b.nyroModal(f.getForNewLinks(b),!0)}).end().find(".nyroModalClose").bind("click.nyroModal",function(b){b.preventDefault(),f.close()})},keyHandle:function(f){f.keyEvent.keyCode==27&&f.closeOnEscape&&(f.keyEvent.preventDefault(),f.close())}},custom:{is:function(f){return!0}}},t.fn.extend({nm:h.nyroModal,nyroModal:h.nyroModal,nmInit:h.nmInit,nmCall:h.nmCall}),t.extend({nmManual:h.nmManual,nmData:h.nmData,nmObj:h.nmObj,nmInternal:h.nmInternal,nmAnims:h.nmAnims,nmFilters:h.nmFilters,nmTop:h.nmTop}),t.expr[":"].nyroModal=t.expr[":"].nm=h._selNyroModal,t.expr[":"].nmOpen=h._selNyroModalOpen});(function(t,e){var i=function(s,a,l){var o;return function(){var d=this,m=arguments;function f(){s.apply(d,m),o=null}o&&clearTimeout(o),o=setTimeout(f,100)}};jQuery.fn[e]=function(s){return s?this.bind("resize",i(s)):this.trigger(e)}})(jQuery,"smartresize");function E_(t){t+="";var e=t.charAt(0).toUpperCase();return e+t.substring(1)}jQuery(function(t,e){t.nmFilters({title:{is:function(i){return i.opener.is("[title]")},beforeShowCont:function(i){i.elts.cont.offset(),i.store.title=t("<h1 />",{text:i.opener.attr("title")}).addClass("nyroModalTitle nmReposition"),i.elts.cont.prepend(i.store.title)},close:function(i){i.store.title&&(i.store.title.remove(),i.store.title=e,delete i.store.title)}}})});jQuery(function(t,e){t.nmFilters({gallery:{is:function(i){var s=i.opener.is("[rel]:not([rel=external], [rel=nofollow])");if(s){var a=i.opener.attr("rel"),l=a.indexOf(" "),o=l>0?a.substr(0,l):a,h=t('[href][rel="'+o+'"], [href][rel^="'+o+' "]');h.length<2&&(s=!1),s&&i.galleryCounts&&!i._hasFilter("title")&&i.filters.push("title")}return s},init:function(i){i.useKeyHandler=!0},keyHandle:function(i){!i._animated&&i._opened&&(i.keyEvent.keyCode==39||i.keyEvent.keyCode==40?(i.keyEvent.preventDefault(),i._callFilters("galleryNext")):(i.keyEvent.keyCode==37||i.keyEvent.keyCode==38)&&(i.keyEvent.preventDefault(),i._callFilters("galleryPrev")))},initElts:function(i){var s=i.opener.attr("rel"),a=s.indexOf(" ");i.store.gallery=a>0?s.substr(0,a):s,i.store.galleryLinks=t('[href][rel="'+i.store.gallery+'"], [href][rel^="'+i.store.gallery+' "]'),i.store.galleryIndex=i.store.galleryLinks.index(i.opener)},beforeShowCont:function(i){if(i.galleryCounts&&i.store.title&&i.store.galleryLinks&&i.store.galleryLinks.length>1){var s=i.store.title.html();i.store.title.html((s.length?s+" - ":"")+(i.store.galleryIndex+1)+"/"+i.store.galleryLinks.length)}},filledContent:function(i){var s=this._getGalleryLink(i,-1),a=i.elts.hidden.find(" > div");s&&t("<a />",{text:"previous",href:"#"}).addClass("nyroModalPrev").bind("click",function(l){l.preventDefault(),i._callFilters("galleryPrev")}).appendTo(a),s=this._getGalleryLink(i,1),s&&t("<a />",{text:"next",href:"#"}).addClass("nyroModalNext").bind("click",function(l){l.preventDefault(),i._callFilters("galleryNext")}).appendTo(a)},close:function(i){i.store.gallery=e,i.store.galleryLinks=e,i.store.galleryIndex=e,delete i.store.gallery,delete i.store.galleryLinks,delete i.store.galleryIndex,i.elts.cont&&i.elts.cont.find(".nyroModalNext, .nyroModalPrev").remove()},galleryNext:function(i){this._getGalleryLink(i,1).nyroModal(i.getForNewLinks(),!0).click()},galleryPrev:function(i){this._getGalleryLink(i,-1).nyroModal(i.getForNewLinks(),!0).click()},_getGalleryLink:function(i,s){if(i.store.gallery){i.ltr||(s*=-1);var a=i.store.galleryIndex+s;if(i.store.galleryLinks&&a>=0&&a<i.store.galleryLinks.length)return i.store.galleryLinks.eq(a);if(i.galleryLoop&&i.store.galleryLinks)return i.store.galleryLinks.eq(a<0?i.store.galleryLinks.length-1:0)}return e}}})});jQuery(function(t,e){t.nmFilters({link:{is:function(i){var s=i.opener.is("[href]");return s&&(i.store.link=i.getInternal()._extractUrl(i.opener.attr("href"))),s},init:function(i){i.loadFilter="link",i.opener.unbind("click.nyroModal").bind("click.nyroModal",function(s){s.preventDefault(),i.opener.trigger("nyroModal")})},load:function(i){t.ajax({url:i.store.link.url,data:i.store.link.sel?[{name:i.selIndicator,value:i.store.link.sel.substring(1)}]:e,success:function(s){i._setCont(s,i.store.link.sel)},error:function(s){console.log(s),i._setCont(s.responseText)}})}}})});jQuery(function(t,e){t.nmFilters({data:{is:function(i){var s=!!i.data;return s&&i._delFilter("dom"),s},init:function(i){i.loadFilter="data"},load:function(i){i._setCont(i.data)}}})});jQuery(function(t,e){t.nmFilters({image:{is:function(i){return!!(new RegExp(i.imageRegex,"i").test(i.opener.attr("href"))||i.opener.attr("href")!=e&&i.opener.attr("href").indexOf("files/get")>0)},init:function(i){i.loadFilter="image"},load:function(i){var s=i.opener.attr("href"),a=t("<img />").attr({src:s}).css({height:"80vh",maxWidth:"none",maxHeight:"none"});i.store.image=a,i._setCont(a[0])},size:function(i){i._unreposition();var s=i.getInternal().fullSize.viewH-i.sizes.hMargin,a=i.getInternal().fullSize.viewW-i.sizes.wMargin;console.log(i.store.image[0].height),i.store.image[0].height&&(console.log(a),i.store.image[0].height<a?i.sizes.w=i.store.image[0].width:i.sizes.w=i.store.image[0].width=a,i.store.image[0].height<s?i.sizes.h=i.store.image[0].height:i.sizes.h=i.store.image[0].height=s),i._reposition()},close:function(i){i.elts.cont&&(i.elts.cont.removeClass("nyroModalImg"),i.elts.hidden.removeClass("nyroModalImg"))}}})});jQuery(function(t,e){t.nmFilters({form:{is:function(i){var s=i.opener.is("form");return s&&(i.store.form=i.getInternal()._extractUrl(i.opener.attr("action"))),s},init:function(i){i.loadFilter="form",i.opener.unbind("submit.nyroModal").bind("submit.nyroModal",function(s){s.preventDefault();let a="";s&&s.originalEvent&&s.originalEvent.submitter&&s.originalEvent.submitter.value&&(a=s.originalEvent.submitter.value),i.opener.append("<input type='hidden' name='submitAction' value='"+a+"' />"),i.opener.trigger("nyroModal")})},load:function(i){var s=i.opener.serializeArray();let l=s.find(o=>o.name==="submitAction").value;i.store.form.sel&&s.push({name:i.selIndicator,value:i.store.form.sel.substring(1)}),typeof i.callbacks.beforePostSubmit=="function"&&i.callbacks.beforePostSubmit(),t.ajax({url:i.store.form.url,data:s,type:i.opener.attr("method")?i.opener.attr("method"):"get",success:function(o){l=="closeModal"?i.close():i._setCont(o,i.store.form.sel)},error:function(o){i._setCont(o.responseText)}})}}})});jQuery(function(t,e){t.nmFilters({formFile:{is:function(i){var s=i.opener.is('form[enctype="multipart/form-data"]');return s&&(i._delFilter("form"),i.store.form||(i.store.form=i.getInternal()._extractUrl(i.opener.attr("action")))),s},init:function(i){i.loadFilter="formFile",i.store.formFileLoading=!1,i.opener.unbind("submit.nyroModal").bind("submit.nyroModal",function(s){i.store.formFileIframe?i.store.formFileLoading=!0:(s.preventDefault(),i.opener.trigger("nyroModal"))})},initElts:function(i){var s;i.store.form.sel&&(s=t("<input />",{type:"hidden",name:i.selIndicator,value:i.store.form.sel.substring(1)}).appendTo(i.opener));function a(){s&&(s.remove(),s=e),i.store.formFileIframe.attr("src","about:blank").remove(),i.store.formFileIframe=e,delete i.store.formFileIframe}i.store.formFileIframe=t(`<iframe name="nyroModalFormFile" src="javascript:'';" id="nyromodal-iframe-`+new Date().getTime()+'"></iframe>').on("load",function(){if(i.store.formFileLoading){i.store.formFileLoading=!1;var l=i.store.formFileIframe.unbind("load error").contents().find("body").not("script[src]");if(l&&l.html()&&l.html().length)a(),i._setCont(l.html(),i.store.form.sel);else{var o=0;fct=function(){o++;var h=i.store.formFileIframe.unbind("load error").contents().find("body").not("script[src]");h&&h.html()&&h.html().length?(i._setCont(h.html(),i.store.form.sel),a()):o<5?setTimeout(fct,25):(a(),i._error())},setTimeout(fct,25)}}}),i.elts.all.append(i.store.formFileIframe),i.opener.attr("target","nyroModalFormFile").submit()},close:function(i){i.store.formFileLoading=!1,i.store.formFileIframe&&(i.store.formFileIframe.remove(),i.store.formFileIframe=e,delete i.store.formFileIframe)}}})});jQuery(function(t,e){t.nmFilters({iframe:{is:function(i){var s=i.opener.attr("target")||"",a=i.opener.attr("rel")||"",l=i.opener.get(0);return!i._hasFilter("image")&&(s.toLowerCase()=="_blank"||a.toLowerCase().indexOf("external")>-1||l.hostname&&l.hostname.replace(/:\d*$/,"")!=window.location.hostname.replace(/:\d*$/,""))},init:function(i){i.loadFilter="iframe"},load:function(i){i.store.iframe=t(`<iframe src="javascript:'';" id="nyromodal-iframe-`+new Date().getTime()+'"></iframe>'),i._setCont(i.store.iframe)},afterShowCont:function(i){i.store.iframe.attr("src",i.opener.attr("href"))},close:function(i){i.store.iframe&&(i.store.iframe.remove(),i.store.iframe=e,delete i.store.iframe)}}})});jQuery(function(t,e){t.nmFilters({iframeForm:{is:function(i){var s=i._hasFilter("iframe")&&i.opener.is("form");return s&&(i._delFilter("iframe"),i._delFilter("form")),s},init:function(i){i.loadFilter="iframeForm",i.store.iframeFormLoading=!1,i.store.iframeFormOrgTarget=i.opener.attr("target"),i.opener.unbind("submit.nyroModal").bind("submit.nyroModal",function(s){i.store.iframeFormIframe?i.store.iframeFormLoading=!0:(s.preventDefault(),i.opener.trigger("nyroModal"))})},load:function(i){i.store.iframeFormIframe=t(`<iframe name="nyroModalIframeForm" src="javascript:'';" id="nyromodal-iframe-`+new Date().getTime()+'"></iframe>'),i._setCont(i.store.iframeFormIframe)},afterShowCont:function(i){i.opener.attr("target","nyroModalIframeForm").submit()},close:function(i){i.store.iframeFormOrgTarget?i.opener.attr("target",i.store.iframeFormOrgTarget):i.opener.removeAttr("target"),delete i.store.formFileLoading,delete i.store.iframeFormOrgTarget,i.store.iframeFormIframe&&(i.store.iframeFormIframe.remove(),i.store.iframeFormIframe=e,delete i.store.iframeFormIframe)}}})});jQuery(function(t,e){t.nmFilters({embedly:{is:function(i){var s=/http:\/\/(.*youtube\.com\/watch.*|.*\.youtube\.com\/v\/.*|youtu\.be\/.*|.*\.youtube\.com\/user\/.*|.*\.youtube\.com\/.*#.*\/.*|m\.youtube\.com\/watch.*|m\.youtube\.com\/index.*|.*\.youtube\.com\/profile.*|.*justin\.tv\/.*|.*justin\.tv\/.*\/b\/.*|.*justin\.tv\/.*\/w\/.*|www\.ustream\.tv\/recorded\/.*|www\.ustream\.tv\/channel\/.*|www\.ustream\.tv\/.*|qik\.com\/video\/.*|qik\.com\/.*|qik\.ly\/.*|.*revision3\.com\/.*|.*\.dailymotion\.com\/video\/.*|.*\.dailymotion\.com\/.*\/video\/.*|www\.collegehumor\.com\/video:.*|.*twitvid\.com\/.*|www\.break\.com\/.*\/.*|vids\.myspace\.com\/index\.cfm\?fuseaction=vids\.individual&videoid.*|www\.myspace\.com\/index\.cfm\?fuseaction=.*&videoid.*|www\.metacafe\.com\/watch\/.*|www\.metacafe\.com\/w\/.*|blip\.tv\/file\/.*|.*\.blip\.tv\/file\/.*|video\.google\.com\/videoplay\?.*|.*revver\.com\/video\/.*|video\.yahoo\.com\/watch\/.*\/.*|video\.yahoo\.com\/network\/.*|.*viddler\.com\/explore\/.*\/videos\/.*|liveleak\.com\/view\?.*|www\.liveleak\.com\/view\?.*|animoto\.com\/play\/.*|dotsub\.com\/view\/.*|www\.overstream\.net\/view\.php\?oid=.*|www\.livestream\.com\/.*|www\.worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|worldstarhiphop\.com\/videos\/video.*\.php\?v=.*|teachertube\.com\/viewVideo\.php.*|www\.teachertube\.com\/viewVideo\.php.*|www1\.teachertube\.com\/viewVideo\.php.*|www2\.teachertube\.com\/viewVideo\.php.*|bambuser\.com\/v\/.*|bambuser\.com\/channel\/.*|bambuser\.com\/channel\/.*\/broadcast\/.*|www\.schooltube\.com\/video\/.*\/.*|bigthink\.com\/ideas\/.*|bigthink\.com\/series\/.*|sendables\.jibjab\.com\/view\/.*|sendables\.jibjab\.com\/originals\/.*|www\.xtranormal\.com\/watch\/.*|socialcam\.com\/v\/.*|www\.socialcam\.com\/v\/.*|dipdive\.com\/media\/.*|dipdive\.com\/member\/.*\/media\/.*|dipdive\.com\/v\/.*|.*\.dipdive\.com\/media\/.*|.*\.dipdive\.com\/v\/.*|v\.youku\.com\/v_show\/.*\.html|v\.youku\.com\/v_playlist\/.*\.html|www\.snotr\.com\/video\/.*|snotr\.com\/video\/.*|video\.jardenberg\.se\/.*|.*yfrog\..*\/.*|tweetphoto\.com\/.*|www\.flickr\.com\/photos\/.*|flic\.kr\/.*|twitpic\.com\/.*|www\.twitpic\.com\/.*|twitpic\.com\/photos\/.*|www\.twitpic\.com\/photos\/.*|.*imgur\.com\/.*|.*\.posterous\.com\/.*|post\.ly\/.*|twitgoo\.com\/.*|i.*\.photobucket\.com\/albums\/.*|s.*\.photobucket\.com\/albums\/.*|phodroid\.com\/.*\/.*\/.*|www\.mobypicture\.com\/user\/.*\/view\/.*|moby\.to\/.*|xkcd\.com\/.*|www\.xkcd\.com\/.*|imgs\.xkcd\.com\/.*|www\.asofterworld\.com\/index\.php\?id=.*|www\.asofterworld\.com\/.*\.jpg|asofterworld\.com\/.*\.jpg|www\.qwantz\.com\/index\.php\?comic=.*|23hq\.com\/.*\/photo\/.*|www\.23hq\.com\/.*\/photo\/.*|.*dribbble\.com\/shots\/.*|drbl\.in\/.*|.*\.smugmug\.com\/.*|.*\.smugmug\.com\/.*#.*|emberapp\.com\/.*\/images\/.*|emberapp\.com\/.*\/images\/.*\/sizes\/.*|emberapp\.com\/.*\/collections\/.*\/.*|emberapp\.com\/.*\/categories\/.*\/.*\/.*|embr\.it\/.*|picasaweb\.google\.com.*\/.*\/.*#.*|picasaweb\.google\.com.*\/lh\/photo\/.*|picasaweb\.google\.com.*\/.*\/.*|dailybooth\.com\/.*\/.*|brizzly\.com\/pic\/.*|pics\.brizzly\.com\/.*\.jpg|img\.ly\/.*|www\.tinypic\.com\/view\.php.*|tinypic\.com\/view\.php.*|www\.tinypic\.com\/player\.php.*|tinypic\.com\/player\.php.*|www\.tinypic\.com\/r\/.*\/.*|tinypic\.com\/r\/.*\/.*|.*\.tinypic\.com\/.*\.jpg|.*\.tinypic\.com\/.*\.png|meadd\.com\/.*\/.*|meadd\.com\/.*|.*\.deviantart\.com\/art\/.*|.*\.deviantart\.com\/gallery\/.*|.*\.deviantart\.com\/#\/.*|fav\.me\/.*|.*\.deviantart\.com|.*\.deviantart\.com\/gallery|.*\.deviantart\.com\/.*\/.*\.jpg|.*\.deviantart\.com\/.*\/.*\.gif|.*\.deviantart\.net\/.*\/.*\.jpg|.*\.deviantart\.net\/.*\/.*\.gif|plixi\.com\/p\/.*|plixi\.com\/profile\/home\/.*|plixi\.com\/.*|www\.fotopedia\.com\/.*\/.*|fotopedia\.com\/.*\/.*|photozou\.jp\/photo\/show\/.*\/.*|photozou\.jp\/photo\/photo_only\/.*\/.*|instagr\.am\/p\/.*|instagram\.com\/p\/.*|skitch\.com\/.*\/.*\/.*|img\.skitch\.com\/.*|https:\/\/skitch\.com\/.*\/.*\/.*|https:\/\/img\.skitch\.com\/.*|share\.ovi\.com\/media\/.*\/.*|www\.questionablecontent\.net\/|questionablecontent\.net\/|www\.questionablecontent\.net\/view\.php.*|questionablecontent\.net\/view\.php.*|questionablecontent\.net\/comics\/.*\.png|www\.questionablecontent\.net\/comics\/.*\.png|picplz\.com\/user\/.*\/pic\/.*\/|twitrpix\.com\/.*|.*\.twitrpix\.com\/.*|www\.someecards\.com\/.*\/.*|someecards\.com\/.*\/.*|some\.ly\/.*|www\.some\.ly\/.*|pikchur\.com\/.*|achewood\.com\/.*|www\.achewood\.com\/.*|achewood\.com\/index\.php.*|www\.achewood\.com\/index\.php.*|www\.whosay\.com\/content\/.*|www\.whosay\.com\/photos\/.*|www\.whosay\.com\/videos\/.*|say\.ly\/.*|www\.whitehouse\.gov\/photos-and-video\/video\/.*|www\.whitehouse\.gov\/video\/.*|wh\.gov\/photos-and-video\/video\/.*|wh\.gov\/video\/.*|www\.hulu\.com\/watch.*|www\.hulu\.com\/w\/.*|hulu\.com\/watch.*|hulu\.com\/w\/.*|.*crackle\.com\/c\/.*|www\.fancast\.com\/.*\/videos|www\.funnyordie\.com\/videos\/.*|www\.funnyordie\.com\/m\/.*|funnyordie\.com\/videos\/.*|funnyordie\.com\/m\/.*|www\.vimeo\.com\/groups\/.*\/videos\/.*|www\.vimeo\.com\/.*|vimeo\.com\/groups\/.*\/videos\/.*|vimeo\.com\/.*|vimeo\.com\/m\/#\/.*|www\.ted\.com\/talks\/.*\.html.*|www\.ted\.com\/talks\/lang\/.*\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/.*\.html.*|www\.ted\.com\/index\.php\/talks\/lang\/.*\/.*\.html.*|.*nfb\.ca\/film\/.*|www\.thedailyshow\.com\/watch\/.*|www\.thedailyshow\.com\/full-episodes\/.*|www\.thedailyshow\.com\/collection\/.*\/.*\/.*|movies\.yahoo\.com\/movie\/.*\/video\/.*|movies\.yahoo\.com\/movie\/.*\/trailer|movies\.yahoo\.com\/movie\/.*\/video|www\.colbertnation\.com\/the-colbert-report-collections\/.*|www\.colbertnation\.com\/full-episodes\/.*|www\.colbertnation\.com\/the-colbert-report-videos\/.*|www\.comedycentral\.com\/videos\/index\.jhtml\?.*|www\.theonion\.com\/video\/.*|theonion\.com\/video\/.*|wordpress\.tv\/.*\/.*\/.*\/.*\/|www\.traileraddict\.com\/trailer\/.*|www\.traileraddict\.com\/clip\/.*|www\.traileraddict\.com\/poster\/.*|www\.escapistmagazine\.com\/videos\/.*|www\.trailerspy\.com\/trailer\/.*\/.*|www\.trailerspy\.com\/trailer\/.*|www\.trailerspy\.com\/view_video\.php.*|www\.atom\.com\/.*\/.*\/|fora\.tv\/.*\/.*\/.*\/.*|www\.spike\.com\/video\/.*|www\.gametrailers\.com\/video\/.*|gametrailers\.com\/video\/.*|www\.koldcast\.tv\/video\/.*|www\.koldcast\.tv\/#video:.*|techcrunch\.tv\/watch.*|techcrunch\.tv\/.*\/watch.*|mixergy\.com\/.*|video\.pbs\.org\/video\/.*|www\.zapiks\.com\/.*|tv\.digg\.com\/diggnation\/.*|tv\.digg\.com\/diggreel\/.*|tv\.digg\.com\/diggdialogg\/.*|www\.trutv\.com\/video\/.*|www\.nzonscreen\.com\/title\/.*|nzonscreen\.com\/title\/.*|app\.wistia\.com\/embed\/medias\/.*|https:\/\/app\.wistia\.com\/embed\/medias\/.*|hungrynation\.tv\/.*\/episode\/.*|www\.hungrynation\.tv\/.*\/episode\/.*|hungrynation\.tv\/episode\/.*|www\.hungrynation\.tv\/episode\/.*|indymogul\.com\/.*\/episode\/.*|www\.indymogul\.com\/.*\/episode\/.*|indymogul\.com\/episode\/.*|www\.indymogul\.com\/episode\/.*|channelfrederator\.com\/.*\/episode\/.*|www\.channelfrederator\.com\/.*\/episode\/.*|channelfrederator\.com\/episode\/.*|www\.channelfrederator\.com\/episode\/.*|tmiweekly\.com\/.*\/episode\/.*|www\.tmiweekly\.com\/.*\/episode\/.*|tmiweekly\.com\/episode\/.*|www\.tmiweekly\.com\/episode\/.*|99dollarmusicvideos\.com\/.*\/episode\/.*|www\.99dollarmusicvideos\.com\/.*\/episode\/.*|99dollarmusicvideos\.com\/episode\/.*|www\.99dollarmusicvideos\.com\/episode\/.*|ultrakawaii\.com\/.*\/episode\/.*|www\.ultrakawaii\.com\/.*\/episode\/.*|ultrakawaii\.com\/episode\/.*|www\.ultrakawaii\.com\/episode\/.*|barelypolitical\.com\/.*\/episode\/.*|www\.barelypolitical\.com\/.*\/episode\/.*|barelypolitical\.com\/episode\/.*|www\.barelypolitical\.com\/episode\/.*|barelydigital\.com\/.*\/episode\/.*|www\.barelydigital\.com\/.*\/episode\/.*|barelydigital\.com\/episode\/.*|www\.barelydigital\.com\/episode\/.*|threadbanger\.com\/.*\/episode\/.*|www\.threadbanger\.com\/.*\/episode\/.*|threadbanger\.com\/episode\/.*|www\.threadbanger\.com\/episode\/.*|vodcars\.com\/.*\/episode\/.*|www\.vodcars\.com\/.*\/episode\/.*|vodcars\.com\/episode\/.*|www\.vodcars\.com\/episode\/.*|confreaks\.net\/videos\/.*|www\.confreaks\.net\/videos\/.*|video\.allthingsd\.com\/video\/.*|aniboom\.com\/animation-video\/.*|www\.aniboom\.com\/animation-video\/.*|clipshack\.com\/Clip\.aspx\?.*|www\.clipshack\.com\/Clip\.aspx\?.*|grindtv\.com\/.*\/video\/.*|www\.grindtv\.com\/.*\/video\/.*|ifood\.tv\/recipe\/.*|ifood\.tv\/video\/.*|ifood\.tv\/channel\/user\/.*|www\.ifood\.tv\/recipe\/.*|www\.ifood\.tv\/video\/.*|www\.ifood\.tv\/channel\/user\/.*|logotv\.com\/video\/.*|www\.logotv\.com\/video\/.*|lonelyplanet\.com\/Clip\.aspx\?.*|www\.lonelyplanet\.com\/Clip\.aspx\?.*|streetfire\.net\/video\/.*\.htm.*|www\.streetfire\.net\/video\/.*\.htm.*|trooptube\.tv\/videos\/.*|www\.trooptube\.tv\/videos\/.*|www\.godtube\.com\/featured\/video\/.*|godtube\.com\/featured\/video\/.*|www\.godtube\.com\/watch\/.*|godtube\.com\/watch\/.*|www\.tangle\.com\/view_video.*|mediamatters\.org\/mmtv\/.*|www\.clikthrough\.com\/theater\/video\/.*|soundcloud\.com\/.*|soundcloud\.com\/.*\/.*|soundcloud\.com\/.*\/sets\/.*|soundcloud\.com\/groups\/.*|snd\.sc\/.*|www\.last\.fm\/music\/.*|www\.last\.fm\/music\/+videos\/.*|www\.last\.fm\/music\/+images\/.*|www\.last\.fm\/music\/.*\/_\/.*|www\.last\.fm\/music\/.*\/.*|www\.mixcloud\.com\/.*\/.*\/|www\.radionomy\.com\/.*\/radio\/.*|radionomy\.com\/.*\/radio\/.*|www\.entertonement\.com\/clips\/.*|www\.rdio\.com\/#\/artist\/.*\/album\/.*|www\.rdio\.com\/artist\/.*\/album\/.*|www\.zero-inch\.com\/.*|.*\.bandcamp\.com\/|.*\.bandcamp\.com\/track\/.*|.*\.bandcamp\.com\/album\/.*|freemusicarchive\.org\/music\/.*|www\.freemusicarchive\.org\/music\/.*|freemusicarchive\.org\/curator\/.*|www\.freemusicarchive\.org\/curator\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/.*\/.*\/.*\/.*\/.*\/.*\/.*|www\.npr\.org\/templates\/story\/story\.php.*|huffduffer\.com\/.*\/.*|www\.audioboo\.fm\/boos\/.*|audioboo\.fm\/boos\/.*|boo\.fm\/b.*|www\.xiami\.com\/song\/.*|xiami\.com\/song\/.*|www\.saynow\.com\/playMsg\.html.*|www\.saynow\.com\/playMsg\.html.*|listen\.grooveshark\.com\/s\/.*|radioreddit\.com\/songs.*|www\.radioreddit\.com\/songs.*|radioreddit\.com\/\?q=songs.*|www\.radioreddit\.com\/\?q=songs.*|espn\.go\.com\/video\/clip.*|espn\.go\.com\/.*\/story.*|abcnews\.com\/.*\/video\/.*|abcnews\.com\/video\/playerIndex.*|washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.washingtonpost\.com\/wp-dyn\/.*\/video\/.*\/.*\/.*\/.*|www\.boston\.com\/video.*|boston\.com\/video.*|www\.facebook\.com\/photo\.php.*|www\.facebook\.com\/video\/video\.php.*|www\.facebook\.com\/v\/.*|cnbc\.com\/id\/.*\?.*video.*|www\.cnbc\.com\/id\/.*\?.*video.*|cnbc\.com\/id\/.*\/play\/1\/video\/.*|www\.cnbc\.com\/id\/.*\/play\/1\/video\/.*|cbsnews\.com\/video\/watch\/.*|www\.google\.com\/buzz\/.*\/.*\/.*|www\.google\.com\/buzz\/.*|www\.google\.com\/profiles\/.*|google\.com\/buzz\/.*\/.*\/.*|google\.com\/buzz\/.*|google\.com\/profiles\/.*|www\.cnn\.com\/video\/.*|edition\.cnn\.com\/video\/.*|money\.cnn\.com\/video\/.*|today\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/vp\/.*|www\.msnbc\.msn\.com\/id\/.*\/ns\/.*|today\.msnbc\.msn\.com\/id\/.*\/ns\/.*|multimedia\.foxsports\.com\/m\/video\/.*\/.*|msn\.foxsports\.com\/video.*|www\.globalpost\.com\/video\/.*|www\.globalpost\.com\/dispatch\/.*|guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|www\.guardian\.co\.uk\/.*\/video\/.*\/.*\/.*\/.*|bravotv\.com\/.*\/.*\/videos\/.*|www\.bravotv\.com\/.*\/.*\/videos\/.*|video\.nationalgeographic\.com\/.*\/.*\/.*\.html|dsc\.discovery\.com\/videos\/.*|animal\.discovery\.com\/videos\/.*|health\.discovery\.com\/videos\/.*|investigation\.discovery\.com\/videos\/.*|military\.discovery\.com\/videos\/.*|planetgreen\.discovery\.com\/videos\/.*|science\.discovery\.com\/videos\/.*|tlc\.discovery\.com\/videos\/.*|.*amazon\..*\/gp\/product\/.*|.*amazon\..*\/.*\/dp\/.*|.*amazon\..*\/dp\/.*|.*amazon\..*\/o\/ASIN\/.*|.*amazon\..*\/gp\/offer-listing\/.*|.*amazon\..*\/.*\/ASIN\/.*|.*amazon\..*\/gp\/product\/images\/.*|.*amazon\..*\/gp\/aw\/d\/.*|www\.amzn\.com\/.*|amzn\.com\/.*|www\.shopstyle\.com\/browse.*|www\.shopstyle\.com\/action\/apiVisitRetailer.*|api\.shopstyle\.com\/action\/apiVisitRetailer.*|www\.shopstyle\.com\/action\/viewLook.*|gist\.github\.com\/.*|twitter\.com\/.*\/status\/.*|twitter\.com\/.*\/statuses\/.*|www\.twitter\.com\/.*\/status\/.*|www\.twitter\.com\/.*\/statuses\/.*|mobile\.twitter\.com\/.*\/status\/.*|mobile\.twitter\.com\/.*\/statuses\/.*|https:\/\/twitter\.com\/.*\/status\/.*|https:\/\/twitter\.com\/.*\/statuses\/.*|https:\/\/www\.twitter\.com\/.*\/status\/.*|https:\/\/www\.twitter\.com\/.*\/statuses\/.*|https:\/\/mobile\.twitter\.com\/.*\/status\/.*|https:\/\/mobile\.twitter\.com\/.*\/statuses\/.*|www\.crunchbase\.com\/.*\/.*|crunchbase\.com\/.*\/.*|www\.slideshare\.net\/.*\/.*|www\.slideshare\.net\/mobile\/.*\/.*|slidesha\.re\/.*|scribd\.com\/doc\/.*|www\.scribd\.com\/doc\/.*|scribd\.com\/mobile\/documents\/.*|www\.scribd\.com\/mobile\/documents\/.*|screenr\.com\/.*|polldaddy\.com\/community\/poll\/.*|polldaddy\.com\/poll\/.*|answers\.polldaddy\.com\/poll\/.*|www\.5min\.com\/Video\/.*|www\.howcast\.com\/videos\/.*|www\.screencast\.com\/.*\/media\/.*|screencast\.com\/.*\/media\/.*|www\.screencast\.com\/t\/.*|screencast\.com\/t\/.*|issuu\.com\/.*\/docs\/.*|www\.kickstarter\.com\/projects\/.*\/.*|www\.scrapblog\.com\/viewer\/viewer\.aspx.*|ping\.fm\/p\/.*|chart\.ly\/symbols\/.*|chart\.ly\/.*|maps\.google\.com\/maps\?.*|maps\.google\.com\/\?.*|maps\.google\.com\/maps\/ms\?.*|.*\.craigslist\.org\/.*\/.*|my\.opera\.com\/.*\/albums\/show\.dml\?id=.*|my\.opera\.com\/.*\/albums\/showpic\.dml\?album=.*&picture=.*|tumblr\.com\/.*|.*\.tumblr\.com\/post\/.*|www\.polleverywhere\.com\/polls\/.*|www\.polleverywhere\.com\/multiple_choice_polls\/.*|www\.polleverywhere\.com\/free_text_polls\/.*|www\.quantcast\.com\/wd:.*|www\.quantcast\.com\/.*|siteanalytics\.compete\.com\/.*|statsheet\.com\/statplot\/charts\/.*\/.*\/.*\/.*|statsheet\.com\/statplot\/charts\/e\/.*|statsheet\.com\/.*\/teams\/.*\/.*|statsheet\.com\/tools\/chartlets\?chart=.*|.*\.status\.net\/notice\/.*|identi\.ca\/notice\/.*|brainbird\.net\/notice\/.*|shitmydadsays\.com\/notice\/.*|www\.studivz\.net\/Profile\/.*|www\.studivz\.net\/l\/.*|www\.studivz\.net\/Groups\/Overview\/.*|www\.studivz\.net\/Gadgets\/Info\/.*|www\.studivz\.net\/Gadgets\/Install\/.*|www\.studivz\.net\/.*|www\.meinvz\.net\/Profile\/.*|www\.meinvz\.net\/l\/.*|www\.meinvz\.net\/Groups\/Overview\/.*|www\.meinvz\.net\/Gadgets\/Info\/.*|www\.meinvz\.net\/Gadgets\/Install\/.*|www\.meinvz\.net\/.*|www\.schuelervz\.net\/Profile\/.*|www\.schuelervz\.net\/l\/.*|www\.schuelervz\.net\/Groups\/Overview\/.*|www\.schuelervz\.net\/Gadgets\/Info\/.*|www\.schuelervz\.net\/Gadgets\/Install\/.*|www\.schuelervz\.net\/.*|myloc\.me\/.*|pastebin\.com\/.*|pastie\.org\/.*|www\.pastie\.org\/.*|redux\.com\/stream\/item\/.*\/.*|redux\.com\/f\/.*\/.*|www\.redux\.com\/stream\/item\/.*\/.*|www\.redux\.com\/f\/.*\/.*|cl\.ly\/.*|cl\.ly\/.*\/content|speakerdeck\.com\/u\/.*\/p\/.*|www\.kiva\.org\/lend\/.*|www\.timetoast\.com\/timelines\/.*|storify\.com\/.*\/.*|.*meetup\.com\/.*|meetu\.ps\/.*|www\.dailymile\.com\/people\/.*\/entries\/.*|.*\.kinomap\.com\/.*|www\.metacdn\.com\/api\/users\/.*\/content\/.*|www\.metacdn\.com\/api\/users\/.*\/media\/.*|prezi\.com\/.*\/.*|.*\.uservoice\.com\/.*\/suggestions\/.*|formspring\.me\/.*|www\.formspring\.me\/.*|formspring\.me\/.*\/q\/.*|www\.formspring\.me\/.*\/q\/.*|twitlonger\.com\/show\/.*|www\.twitlonger\.com\/show\/.*|tl\.gd\/.*|www\.qwiki\.com\/q\/.*|crocodoc\.com\/.*|.*\.crocodoc\.com\/.*|https:\/\/crocodoc\.com\/.*|https:\/\/.*\.crocodoc\.com\/.*)/i,a=i._hasFilter("link")&&i.opener.attr("href")&&i.opener.attr("href").match(s)!==null;return a&&i._delFilter("iframe"),a},init:function(i){i.loadFilter="embedly",i.store.embedly={}},load:function(i){t.ajax({url:"http://api.embed.ly/1/oembed",dataType:"jsonp",data:"wmode=transparent&url="+i.opener.attr("href"),success:function(s){s.type=="error"?i._error():s.type=="photo"?(i.filters.push("image"),t("<img />").load(function(){i.elts.cont.addClass("nyroModalImg"),i.elts.hidden.addClass("nyroModalImg"),i._setCont(this)}).error(function(){i._error()}).attr("src",s.url)):(i.store.embedly.w=s.width,i.store.embedly.h=s.height,i._setCont("<div>"+s.html+"</div>"))}})},size:function(i){i.store.embedly.w&&!i.sizes.h&&(i.sizes.w=i.store.embedly.w,i.sizes.h=i.store.embedly.h)}}})});(()=>{var t=Object.create,e=Object.defineProperty,i=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,o=(r,n)=>e(r,"name",{value:n,configurable:!0}),h=(r,n)=>()=>(n||r((n={exports:{}}).exports,n),n.exports),d=(r,n)=>{for(var c in n)e(r,c,{get:n[c],enumerable:!0})},m=(r,n,c,p)=>{if(n&&typeof n=="object"||typeof n=="function")for(let _ of s(n))!l.call(r,_)&&_!==c&&e(r,_,{get:()=>n[_],enumerable:!(p=i(n,_))||p.enumerable});return r},f=(r,n,c)=>(c=r!=null?t(a(r)):{},m(n||!r||!r.__esModule?e(c,"default",{value:r,enumerable:!0}):c,r)),b=h((r,n)=>{n.exports=o(function(){var c={},p=c._fns={};c.emit=o(function(D,N,Y,ie,X,ae,ue){var xe=_(D);xe.length&&O(D,xe,[N,Y,ie,X,ae,ue])},"emit"),c.on=o(function(D,N){p[D]||(p[D]=[]),p[D].push(N)},"on"),c.once=o(function(D,N){function Y(){N.apply(this,arguments),c.off(D,Y)}o(Y,"one"),this.on(D,Y)},"once"),c.off=o(function(D,N){var Y=[];if(D&&N){var ie=this._fns[D],X=0,ae=ie?ie.length:0;for(X;X<ae;X++)ie[X]!==N&&Y.push(ie[X])}Y.length?this._fns[D]=Y:delete this._fns[D]},"off");function _(D){var N=p[D]?p[D]:[],Y=D.indexOf(":"),ie=Y===-1?[D]:[D.substring(0,Y),D.substring(Y+1)],X=Object.keys(p),ae=0,ue=X.length;for(ae;ae<ue;ae++){var xe=X[ae];if(xe==="*"&&(N=N.concat(p[xe])),ie.length===2&&ie[0]===xe){N=N.concat(p[xe]);break}}return N}o(_,"getListeners");function O(D,N,Y){var ie=0,X=N.length;for(ie;ie<X&&N[ie];ie++)N[ie].event=D,N[ie].apply(N[ie],Y)}return o(O,"emitAll"),c},"createNamespaceEmitter")}),k=h((r,n)=>{var c="Expected a function",p=NaN,_="[object Symbol]",O=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,ie=parseInt,X=typeof global=="object"&&global&&global.Object===Object&&global,ae=typeof self=="object"&&self&&self.Object===Object&&self,ue=X||ae||Function("return this")(),xe=Object.prototype,We=xe.toString,Mt=Math.max,wt=Math.min,Ht=o(function(){return ue.Date.now()},"now");function xi(mt,Lt,ai){var oi,Gi,ur,sr,Et,ar,Xs=0,Rr=!1,As=!1,Bt=!0;if(typeof mt!="function")throw new TypeError(c);Lt=De(Lt)||0,ht(ai)&&(Rr=!!ai.leading,As="maxWait"in ai,ur=As?Mt(De(ai.maxWait)||0,Lt):ur,Bt="trailing"in ai?!!ai.trailing:Bt);function at(pi){var Vi=oi,bs=Gi;return oi=Gi=void 0,Xs=pi,sr=mt.apply(bs,Vi),sr}o(at,"invokeFunc");function St(pi){return Xs=pi,Et=setTimeout(Di,Lt),Rr?at(pi):sr}o(St,"leadingEdge");function Ot(pi){var Vi=pi-ar,bs=pi-Xs,Ii=Lt-Vi;return As?wt(Ii,ur-bs):Ii}o(Ot,"remainingWait");function Wt(pi){var Vi=pi-ar,bs=pi-Xs;return ar===void 0||Vi>=Lt||Vi<0||As&&bs>=ur}o(Wt,"shouldInvoke");function Di(){var pi=Ht();if(Wt(pi))return Br(pi);Et=setTimeout(Di,Ot(pi))}o(Di,"timerExpired");function Br(pi){return Et=void 0,Bt&&oi?at(pi):(oi=Gi=void 0,sr)}o(Br,"trailingEdge");function Pi(){Et!==void 0&&clearTimeout(Et),Xs=0,oi=ar=Gi=Et=void 0}o(Pi,"cancel");function cr(){return Et===void 0?sr:Br(Ht())}o(cr,"flush");function ui(){var pi=Ht(),Vi=Wt(pi);if(oi=arguments,Gi=this,ar=pi,Vi){if(Et===void 0)return St(ar);if(As)return Et=setTimeout(Di,Lt),at(ar)}return Et===void 0&&(Et=setTimeout(Di,Lt)),sr}return o(ui,"debounced"),ui.cancel=Pi,ui.flush=cr,ui}o(xi,"debounce");function Zt(mt,Lt,ai){var oi=!0,Gi=!0;if(typeof mt!="function")throw new TypeError(c);return ht(ai)&&(oi="leading"in ai?!!ai.leading:oi,Gi="trailing"in ai?!!ai.trailing:Gi),xi(mt,Lt,{leading:oi,maxWait:Lt,trailing:Gi})}o(Zt,"throttle");function ht(mt){var Lt=typeof mt;return!!mt&&(Lt=="object"||Lt=="function")}o(ht,"isObject");function pt(mt){return!!mt&&typeof mt=="object"}o(pt,"isObjectLike");function dt(mt){return typeof mt=="symbol"||pt(mt)&&We.call(mt)==_}o(dt,"isSymbol");function De(mt){if(typeof mt=="number")return mt;if(dt(mt))return p;if(ht(mt)){var Lt=typeof mt.valueOf=="function"?mt.valueOf():mt;mt=ht(Lt)?Lt+"":Lt}if(typeof mt!="string")return mt===0?mt:+mt;mt=mt.replace(O,"");var ai=N.test(mt);return ai||Y.test(mt)?ie(mt.slice(2),ai?2:8):D.test(mt)?p:+mt}o(De,"toNumber"),n.exports=Zt}),w=h((r,n)=>{n.exports=o(function(c){if(typeof c!="number"||isNaN(c))throw new TypeError(`Expected a number, got ${typeof c}`);let p=c<0,_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(p&&(c=-c),c<1)return`${(p?"-":"")+c} B`;let O=Math.min(Math.floor(Math.log(c)/Math.log(1024)),_.length-1);c=Number(c/Math.pow(1024,O));let D=_[O];return c>=10||c%1===0?`${(p?"-":"")+c.toFixed(0)} ${D}`:`${(p?"-":"")+c.toFixed(1)} ${D}`},"prettierBytes")}),E=h((r,n)=>{function c(p,_){this.text=p=p||"",this.hasWild=~p.indexOf("*"),this.separator=_,this.parts=p.split(_)}o(c,"WildcardMatcher"),c.prototype.match=function(p){var _=!0,O=this.parts,D,N=O.length,Y;if(typeof p=="string"||p instanceof String)if(!this.hasWild&&this.text!=p)_=!1;else{for(Y=(p||"").split(this.separator),D=0;_&&D<N;D++)O[D]!=="*"&&(D<Y.length?_=O[D]===Y[D]:_=!1);_=_&&Y}else if(typeof p.splice=="function")for(_=[],D=p.length;D--;)this.match(p[D])&&(_[_.length]=p[D]);else if(typeof p=="object"){_={};for(var ie in p)this.match(ie)&&(_[ie]=p[ie])}return _},n.exports=function(p,_,O){var D=new c(p,O||/[\/\.]/);return typeof _<"u"?D.match(_):D}}),P=h((r,n)=>{var c=E(),p=/[\/\+\.]/;n.exports=function(_,O){function D(N){var Y=c(N,_,p);return Y&&Y.length>=2}return o(D,"test"),O?D(O.split(";")[0]):D}}),L=h((r,n)=>{(function(){var c={}.hasOwnProperty;function p(){for(var _=[],O=0;O<arguments.length;O++){var D=arguments[O];if(D){var N=typeof D;if(N==="string"||N==="number")_.push(D);else if(Array.isArray(D)){if(D.length){var Y=p.apply(null,D);Y&&_.push(Y)}}else if(N==="object")if(D.toString===Object.prototype.toString)for(var ie in D)c.call(D,ie)&&D[ie]&&_.push(ie);else _.push(D.toString())}}return _.join(" ")}o(p,"classNames"),typeof n<"u"&&n.exports?(p.default=p,n.exports=p):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return p}):window.classNames=p})()}),R=h((r,n)=>{var c="Expected a function",p=NaN,_="[object Symbol]",O=/^\s+|\s+$/g,D=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,Y=/^0o[0-7]+$/i,ie=parseInt,X=typeof global=="object"&&global&&global.Object===Object&&global,ae=typeof self=="object"&&self&&self.Object===Object&&self,ue=X||ae||Function("return this")(),xe=Object.prototype,We=xe.toString,Mt=Math.max,wt=Math.min,Ht=o(function(){return ue.Date.now()},"now");function xi(De,mt,Lt){var ai,oi,Gi,ur,sr,Et,ar=0,Xs=!1,Rr=!1,As=!0;if(typeof De!="function")throw new TypeError(c);mt=dt(mt)||0,Zt(Lt)&&(Xs=!!Lt.leading,Rr="maxWait"in Lt,Gi=Rr?Mt(dt(Lt.maxWait)||0,mt):Gi,As="trailing"in Lt?!!Lt.trailing:As);function Bt(ui){var pi=ai,Vi=oi;return ai=oi=void 0,ar=ui,ur=De.apply(Vi,pi),ur}o(Bt,"invokeFunc");function at(ui){return ar=ui,sr=setTimeout(Wt,mt),Xs?Bt(ui):ur}o(at,"leadingEdge");function St(ui){var pi=ui-Et,Vi=ui-ar,bs=mt-pi;return Rr?wt(bs,Gi-Vi):bs}o(St,"remainingWait");function Ot(ui){var pi=ui-Et,Vi=ui-ar;return Et===void 0||pi>=mt||pi<0||Rr&&Vi>=Gi}o(Ot,"shouldInvoke");function Wt(){var ui=Ht();if(Ot(ui))return Di(ui);sr=setTimeout(Wt,St(ui))}o(Wt,"timerExpired");function Di(ui){return sr=void 0,As&&ai?Bt(ui):(ai=oi=void 0,ur)}o(Di,"trailingEdge");function Br(){sr!==void 0&&clearTimeout(sr),ar=0,ai=Et=oi=sr=void 0}o(Br,"cancel");function Pi(){return sr===void 0?ur:Di(Ht())}o(Pi,"flush");function cr(){var ui=Ht(),pi=Ot(ui);if(ai=arguments,oi=this,Et=ui,pi){if(sr===void 0)return at(Et);if(Rr)return sr=setTimeout(Wt,mt),Bt(Et)}return sr===void 0&&(sr=setTimeout(Wt,mt)),ur}return o(cr,"debounced"),cr.cancel=Br,cr.flush=Pi,cr}o(xi,"debounce");function Zt(De){var mt=typeof De;return!!De&&(mt=="object"||mt=="function")}o(Zt,"isObject");function ht(De){return!!De&&typeof De=="object"}o(ht,"isObjectLike");function pt(De){return typeof De=="symbol"||ht(De)&&We.call(De)==_}o(pt,"isSymbol");function dt(De){if(typeof De=="number")return De;if(pt(De))return p;if(Zt(De)){var mt=typeof De.valueOf=="function"?De.valueOf():De;De=Zt(mt)?mt+"":mt}if(typeof De!="string")return De===0?De:+De;De=De.replace(O,"");var Lt=N.test(De);return Lt||Y.test(De)?ie(De.slice(2),Lt?2:8):D.test(De)?p:+De}o(dt,"toNumber"),n.exports=xi}),u=h((r,n)=>{n.exports=o(function(c,p){if(c===p)return!0;for(var _ in c)if(!(_ in p))return!1;for(var _ in p)if(c[_]!==p[_])return!1;return!0},"isShallowEqual")}),T=h((r,n)=>{n.exports=o(function(c){if(typeof c!="number"||isNaN(c))throw new TypeError("Expected a number, got "+typeof c);var p=c<0,_=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(p&&(c=-c),c<1)return(p?"-":"")+c+" B";var O=Math.min(Math.floor(Math.log(c)/Math.log(1024)),_.length-1);c=Number(c/Math.pow(1024,O));var D=_[O];return c>=10||c%1===0?(p?"-":"")+c.toFixed(0)+" "+D:(p?"-":"")+c.toFixed(1)+" "+D},"prettierBytes")}),y=h((r,n)=>{(function(c,p){typeof r=="object"&&typeof n<"u"?n.exports=p():typeof define=="function"&&define.amd?define(p):(c=c||self,c.Cropper=p())})(r,function(){function c(K){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?c=o(function(te){return typeof te},"_typeof"):c=o(function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},"_typeof"),c(K)}o(c,"_typeof");function p(K,te){if(!(K instanceof te))throw new TypeError("Cannot call a class as a function")}o(p,"_classCallCheck");function _(K,te){for(var J=0;J<te.length;J++){var de=te[J];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(K,de.key,de)}}o(_,"_defineProperties");function O(K,te,J){return te&&_(K.prototype,te),J&&_(K,J),K}o(O,"_createClass");function D(K,te,J){return te in K?Object.defineProperty(K,te,{value:J,enumerable:!0,configurable:!0,writable:!0}):K[te]=J,K}o(D,"_defineProperty");function N(K,te){var J=Object.keys(K);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(K);te&&(de=de.filter(function(pe){return Object.getOwnPropertyDescriptor(K,pe).enumerable})),J.push.apply(J,de)}return J}o(N,"ownKeys");function Y(K){for(var te=1;te<arguments.length;te++){var J=arguments[te]!=null?arguments[te]:{};te%2?N(Object(J),!0).forEach(function(de){D(K,de,J[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(J)):N(Object(J)).forEach(function(de){Object.defineProperty(K,de,Object.getOwnPropertyDescriptor(J,de))})}return K}o(Y,"_objectSpread2");function ie(K){return X(K)||ae(K)||ue(K)||We()}o(ie,"_toConsumableArray");function X(K){if(Array.isArray(K))return xe(K)}o(X,"_arrayWithoutHoles");function ae(K){if(typeof Symbol<"u"&&Symbol.iterator in Object(K))return Array.from(K)}o(ae,"_iterableToArray");function ue(K,te){if(K){if(typeof K=="string")return xe(K,te);var J=Object.prototype.toString.call(K).slice(8,-1);if(J==="Object"&&K.constructor&&(J=K.constructor.name),J==="Map"||J==="Set")return Array.from(K);if(J==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(J))return xe(K,te)}}o(ue,"_unsupportedIterableToArray");function xe(K,te){(te==null||te>K.length)&&(te=K.length);for(var J=0,de=new Array(te);J<te;J++)de[J]=K[J];return de}o(xe,"_arrayLikeToArray");function We(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(We,"_nonIterableSpread");var Mt=typeof window<"u"&&typeof window.document<"u",wt=Mt?window:{},Ht=Mt&&wt.document.documentElement?"ontouchstart"in wt.document.documentElement:!1,xi=Mt?"PointerEvent"in wt:!1,Zt="cropper",ht="all",pt="crop",dt="move",De="zoom",mt="e",Lt="w",ai="s",oi="n",Gi="ne",ur="nw",sr="se",Et="sw",ar="".concat(Zt,"-crop"),Xs="".concat(Zt,"-disabled"),Rr="".concat(Zt,"-hidden"),As="".concat(Zt,"-hide"),Bt="".concat(Zt,"-invisible"),at="".concat(Zt,"-modal"),St="".concat(Zt,"-move"),Ot="".concat(Zt,"Action"),Wt="".concat(Zt,"Preview"),Di="crop",Br="move",Pi="none",cr="crop",ui="cropend",pi="cropmove",Vi="cropstart",bs="dblclick",Ii=Ht?"touchstart":"mousedown",ds=Ht?"touchmove":"mousemove",Us=Ht?"touchend touchcancel":"mouseup",Fn=xi?"pointerdown":Ii,Jn=xi?"pointermove":ds,Tl=xi?"pointerup pointercancel":Us,Cl="ready",El="resize",Ol="wheel",eo="zoom",ws="image/jpeg",Ps=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,vg=/^data:/,bg=/^data:image\/jpeg;base64,/,wg=/^img|canvas$/i,_f={viewMode:0,dragMode:Di,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},_g='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',xg=Number.isNaN||wt.isNaN;function ji(K){return typeof K=="number"&&!xg(K)}o(ji,"isNumber");var xf=o(function(K){return K>0&&K<1/0},"isPositiveNumber");function Ic(K){return typeof K>"u"}o(Ic,"isUndefined");function to(K){return c(K)==="object"&&K!==null}o(to,"isObject");var d_=Object.prototype.hasOwnProperty;function qo(K){if(!to(K))return!1;try{var te=K.constructor,J=te.prototype;return te&&J&&d_.call(J,"isPrototypeOf")}catch{return!1}}o(qo,"isPlainObject");function Hs(K){return typeof K=="function"}o(Hs,"isFunction");var kf=Array.prototype.slice;function Xh(K){return Array.from?Array.from(K):kf.call(K)}o(Xh,"toArray");function Vr(K,te){return K&&Hs(te)&&(Array.isArray(K)||ji(K.length)?Xh(K).forEach(function(J,de){te.call(K,J,de,K)}):to(K)&&Object.keys(K).forEach(function(J){te.call(K,K[J],J,K)})),K}o(Vr,"forEach");var Or=Object.assign||o(function(K){for(var te=arguments.length,J=new Array(te>1?te-1:0),de=1;de<te;de++)J[de-1]=arguments[de];return to(K)&&J.length>0&&J.forEach(function(pe){to(pe)&&Object.keys(pe).forEach(function(Ce){K[Ce]=pe[Ce]})}),K},"assign"),Sf=/\.\d*(?:0|9){12}\d*$/;function io(K){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Sf.test(K)?Math.round(K*te)/te:K}o(io,"normalizeDecimalNumber");var kg=/^width|height|left|top|marginLeft|marginTop$/;function nn(K,te){var J=K.style;Vr(te,function(de,pe){kg.test(pe)&&ji(de)&&(de="".concat(de,"px")),J[pe]=de})}o(nn,"setStyle");function Tf(K,te){return K.classList?K.classList.contains(te):K.className.indexOf(te)>-1}o(Tf,"hasClass");function ns(K,te){if(te){if(ji(K.length)){Vr(K,function(de){ns(de,te)});return}if(K.classList){K.classList.add(te);return}var J=K.className.trim();J?J.indexOf(te)<0&&(K.className="".concat(J," ").concat(te)):K.className=te}}o(ns,"addClass");function Dn(K,te){if(te){if(ji(K.length)){Vr(K,function(J){Dn(J,te)});return}if(K.classList){K.classList.remove(te);return}K.className.indexOf(te)>=0&&(K.className=K.className.replace(te,""))}}o(Dn,"removeClass");function Bc(K,te,J){if(te){if(ji(K.length)){Vr(K,function(de){Bc(de,te,J)});return}J?ns(K,te):Dn(K,te)}}o(Bc,"toggleClass");var uU=/([a-z\d])([A-Z])/g;function Sg(K){return K.replace(uU,"$1-$2").toLowerCase()}o(Sg,"toParamCase");function Tg(K,te){return to(K[te])?K[te]:K.dataset?K.dataset[te]:K.getAttribute("data-".concat(Sg(te)))}o(Tg,"getData");function Kh(K,te,J){to(J)?K[te]=J:K.dataset?K.dataset[te]=J:K.setAttribute("data-".concat(Sg(te)),J)}o(Kh,"setData");function wP(K,te){if(to(K[te]))try{delete K[te]}catch{K[te]=void 0}else if(K.dataset)try{delete K.dataset[te]}catch{K.dataset[te]=void 0}else K.removeAttribute("data-".concat(Sg(te)))}o(wP,"removeData");var _P=/\s\s*/,xP=function(){var K=!1;if(Mt){var te=!1,J=o(function(){},"listener"),de=Object.defineProperty({},"once",{get:o(function(){return K=!0,te},"get"),set:o(function(pe){te=pe},"set")});wt.addEventListener("test",J,de),wt.removeEventListener("test",J,de)}return K}();function on(K,te,J){var de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},pe=J;te.trim().split(_P).forEach(function(Ce){if(!xP){var Xe=K.listeners;Xe&&Xe[Ce]&&Xe[Ce][J]&&(pe=Xe[Ce][J],delete Xe[Ce][J],Object.keys(Xe[Ce]).length===0&&delete Xe[Ce],Object.keys(Xe).length===0&&delete K.listeners)}K.removeEventListener(Ce,pe,de)})}o(on,"removeListener");function Va(K,te,J){var de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},pe=J;te.trim().split(_P).forEach(function(Ce){if(de.once&&!xP){var Xe=K.listeners,ot=Xe===void 0?{}:Xe;pe=o(function(){delete ot[Ce][J],K.removeEventListener(Ce,pe,de);for(var gt=arguments.length,ut=new Array(gt),Je=0;Je<gt;Je++)ut[Je]=arguments[Je];J.apply(K,ut)},"handler"),ot[Ce]||(ot[Ce]={}),ot[Ce][J]&&K.removeEventListener(Ce,ot[Ce][J],de),ot[Ce][J]=pe,K.listeners=ot}K.addEventListener(Ce,pe,de)})}o(Va,"addListener");function Nc(K,te,J){var de;return Hs(Event)&&Hs(CustomEvent)?de=new CustomEvent(te,{detail:J,bubbles:!0,cancelable:!0}):(de=document.createEvent("CustomEvent"),de.initCustomEvent(te,!0,!0,J)),K.dispatchEvent(de)}o(Nc,"dispatchEvent");function f_(K){var te=K.getBoundingClientRect();return{left:te.left+(window.pageXOffset-document.documentElement.clientLeft),top:te.top+(window.pageYOffset-document.documentElement.clientTop)}}o(f_,"getOffset");var p_=wt.location,dU=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function m_(K){var te=K.match(dU);return te!==null&&(te[1]!==p_.protocol||te[2]!==p_.hostname||te[3]!==p_.port)}o(m_,"isCrossOriginURL");function g_(K){var te="timestamp=".concat(new Date().getTime());return K+(K.indexOf("?")===-1?"?":"&")+te}o(g_,"addTimestamp");function Zh(K){var te=K.rotate,J=K.scaleX,de=K.scaleY,pe=K.translateX,Ce=K.translateY,Xe=[];ji(pe)&&pe!==0&&Xe.push("translateX(".concat(pe,"px)")),ji(Ce)&&Ce!==0&&Xe.push("translateY(".concat(Ce,"px)")),ji(te)&&te!==0&&Xe.push("rotate(".concat(te,"deg)")),ji(J)&&J!==1&&Xe.push("scaleX(".concat(J,")")),ji(de)&&de!==1&&Xe.push("scaleY(".concat(de,")"));var ot=Xe.length?Xe.join(" "):"none";return{WebkitTransform:ot,msTransform:ot,transform:ot}}o(Zh,"getTransforms");function kP(K){var te=Y({},K),J=[];return Vr(K,function(de,pe){delete te[pe],Vr(te,function(Ce){var Xe=Math.abs(de.startX-Ce.startX),ot=Math.abs(de.startY-Ce.startY),gt=Math.abs(de.endX-Ce.endX),ut=Math.abs(de.endY-Ce.endY),Je=Math.sqrt(Xe*Xe+ot*ot),_t=Math.sqrt(gt*gt+ut*ut),hr=(_t-Je)/Je;J.push(hr)})}),J.sort(function(de,pe){return Math.abs(de)<Math.abs(pe)}),J[0]}o(kP,"getMaxZoomRatio");function Cf(K,te){var J=K.pageX,de=K.pageY,pe={endX:J,endY:de};return te?pe:Y({startX:J,startY:de},pe)}o(Cf,"getPointer");function SP(K){var te=0,J=0,de=0;return Vr(K,function(pe){var Ce=pe.startX,Xe=pe.startY;te+=Ce,J+=Xe,de+=1}),te/=de,J/=de,{pageX:te,pageY:J}}o(SP,"getPointersCenter");function $o(K){var te=K.aspectRatio,J=K.height,de=K.width,pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",Ce=xf(de),Xe=xf(J);if(Ce&&Xe){var ot=J*te;pe==="contain"&&ot>de||pe==="cover"&&ot<de?J=de/te:de=J*te}else Ce?J=de/te:Xe&&(de=J*te);return{width:de,height:J}}o($o,"getAdjustedSizes");function TP(K){var te=K.width,J=K.height,de=K.degree;if(de=Math.abs(de)%180,de===90)return{width:J,height:te};var pe=de%90*Math.PI/180,Ce=Math.sin(pe),Xe=Math.cos(pe),ot=te*Xe+J*Ce,gt=te*Ce+J*Xe;return de>90?{width:gt,height:ot}:{width:ot,height:gt}}o(TP,"getRotatedSizes");function CP(K,te,J,de){var pe=te.aspectRatio,Ce=te.naturalWidth,Xe=te.naturalHeight,ot=te.rotate,gt=ot===void 0?0:ot,ut=te.scaleX,Je=ut===void 0?1:ut,_t=te.scaleY,hr=_t===void 0?1:_t,Xi=J.aspectRatio,Ar=J.naturalWidth,_r=J.naturalHeight,fs=de.fillColor,Ws=fs===void 0?"transparent":fs,os=de.imageSmoothingEnabled,Al=os===void 0?!0:os,Oa=de.imageSmoothingQuality,Rt=Oa===void 0?"low":Oa,dr=de.maxWidth,ps=dr===void 0?1/0:dr,ro=de.maxHeight,Vo=ro===void 0?1/0:ro,zc=de.minWidth,Uc=zc===void 0?0:zc,Pl=de.minHeight,Ml=Pl===void 0?0:Pl,Hc=document.createElement("canvas"),Ks=Hc.getContext("2d"),Cg=$o({aspectRatio:Xi,width:ps,height:Vo}),FP=$o({aspectRatio:Xi,width:Uc,height:Ml},"cover"),y_=Math.min(Cg.width,Math.max(FP.width,Ar)),v_=Math.min(Cg.height,Math.max(FP.height,_r)),DP=$o({aspectRatio:pe,width:ps,height:Vo}),IP=$o({aspectRatio:pe,width:Uc,height:Ml},"cover"),BP=Math.min(DP.width,Math.max(IP.width,Ce)),NP=Math.min(DP.height,Math.max(IP.height,Xe)),_U=[-BP/2,-NP/2,BP,NP];return Hc.width=io(y_),Hc.height=io(v_),Ks.fillStyle=Ws,Ks.fillRect(0,0,y_,v_),Ks.save(),Ks.translate(y_/2,v_/2),Ks.rotate(gt*Math.PI/180),Ks.scale(Je,hr),Ks.imageSmoothingEnabled=Al,Ks.imageSmoothingQuality=Rt,Ks.drawImage.apply(Ks,[K].concat(ie(_U.map(function(xU){return Math.floor(io(xU))})))),Ks.restore(),Hc}o(CP,"getSourceCanvas");var EP=String.fromCharCode;function OP(K,te,J){var de="";J+=te;for(var pe=te;pe<J;pe+=1)de+=EP(K.getUint8(pe));return de}o(OP,"getStringFromCharCode");var fU=/^data:.*,/;function AP(K){var te=K.replace(fU,""),J=atob(te),de=new ArrayBuffer(J.length),pe=new Uint8Array(de);return Vr(pe,function(Ce,Xe){pe[Xe]=J.charCodeAt(Xe)}),de}o(AP,"dataURLToArrayBuffer");function PP(K,te){for(var J=[],de=8192,pe=new Uint8Array(K);pe.length>0;)J.push(EP.apply(null,Xh(pe.subarray(0,de)))),pe=pe.subarray(de);return"data:".concat(te,";base64,").concat(btoa(J.join("")))}o(PP,"arrayBufferToDataURL");function MP(K){var te=new DataView(K),J;try{var de,pe,Ce;if(te.getUint8(0)===255&&te.getUint8(1)===216)for(var Xe=te.byteLength,ot=2;ot+1<Xe;){if(te.getUint8(ot)===255&&te.getUint8(ot+1)===225){pe=ot;break}ot+=1}if(pe){var gt=pe+4,ut=pe+10;if(OP(te,gt,4)==="Exif"){var Je=te.getUint16(ut);if(de=Je===18761,(de||Je===19789)&&te.getUint16(ut+2,de)===42){var _t=te.getUint32(ut+4,de);_t>=8&&(Ce=ut+_t)}}}if(Ce){var hr=te.getUint16(Ce,de),Xi,Ar;for(Ar=0;Ar<hr;Ar+=1)if(Xi=Ce+Ar*12+2,te.getUint16(Xi,de)===274){Xi+=8,J=te.getUint16(Xi,de),te.setUint16(Xi,1,de);break}}}catch{J=1}return J}o(MP,"resetAndGetOrientation");function LP(K){var te=0,J=1,de=1;switch(K){case 2:J=-1;break;case 3:te=-180;break;case 4:de=-1;break;case 5:te=90,de=-1;break;case 6:te=90;break;case 7:te=90,J=-1;break;case 8:te=-90;break}return{rotate:te,scaleX:J,scaleY:de}}o(LP,"parseOrientation");var pU={render:o(function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},"render"),initContainer:o(function(){var K=this.element,te=this.options,J=this.container,de=this.cropper;ns(de,Rr),Dn(K,Rr);var pe={width:Math.max(J.offsetWidth,Number(te.minContainerWidth)||200),height:Math.max(J.offsetHeight,Number(te.minContainerHeight)||100)};this.containerData=pe,nn(de,{width:pe.width,height:pe.height}),ns(K,Rr),Dn(de,Rr)},"initContainer"),initCanvas:o(function(){var K=this.containerData,te=this.imageData,J=this.options.viewMode,de=Math.abs(te.rotate)%180===90,pe=de?te.naturalHeight:te.naturalWidth,Ce=de?te.naturalWidth:te.naturalHeight,Xe=pe/Ce,ot=K.width,gt=K.height;K.height*Xe>K.width?J===3?ot=K.height*Xe:gt=K.width/Xe:J===3?gt=K.width/Xe:ot=K.height*Xe;var ut={aspectRatio:Xe,naturalWidth:pe,naturalHeight:Ce,width:ot,height:gt};ut.left=(K.width-ot)/2,ut.top=(K.height-gt)/2,ut.oldLeft=ut.left,ut.oldTop=ut.top,this.canvasData=ut,this.limited=J===1||J===2,this.limitCanvas(!0,!0),this.initialImageData=Or({},te),this.initialCanvasData=Or({},ut)},"initCanvas"),limitCanvas:o(function(K,te){var J=this.options,de=this.containerData,pe=this.canvasData,Ce=this.cropBoxData,Xe=J.viewMode,ot=pe.aspectRatio,gt=this.cropped&&Ce;if(K){var ut=Number(J.minCanvasWidth)||0,Je=Number(J.minCanvasHeight)||0;Xe>1?(ut=Math.max(ut,de.width),Je=Math.max(Je,de.height),Xe===3&&(Je*ot>ut?ut=Je*ot:Je=ut/ot)):Xe>0&&(ut?ut=Math.max(ut,gt?Ce.width:0):Je?Je=Math.max(Je,gt?Ce.height:0):gt&&(ut=Ce.width,Je=Ce.height,Je*ot>ut?ut=Je*ot:Je=ut/ot));var _t=$o({aspectRatio:ot,width:ut,height:Je});ut=_t.width,Je=_t.height,pe.minWidth=ut,pe.minHeight=Je,pe.maxWidth=1/0,pe.maxHeight=1/0}if(te)if(Xe>(gt?0:1)){var hr=de.width-pe.width,Xi=de.height-pe.height;pe.minLeft=Math.min(0,hr),pe.minTop=Math.min(0,Xi),pe.maxLeft=Math.max(0,hr),pe.maxTop=Math.max(0,Xi),gt&&this.limited&&(pe.minLeft=Math.min(Ce.left,Ce.left+(Ce.width-pe.width)),pe.minTop=Math.min(Ce.top,Ce.top+(Ce.height-pe.height)),pe.maxLeft=Ce.left,pe.maxTop=Ce.top,Xe===2&&(pe.width>=de.width&&(pe.minLeft=Math.min(0,hr),pe.maxLeft=Math.max(0,hr)),pe.height>=de.height&&(pe.minTop=Math.min(0,Xi),pe.maxTop=Math.max(0,Xi))))}else pe.minLeft=-pe.width,pe.minTop=-pe.height,pe.maxLeft=de.width,pe.maxTop=de.height},"limitCanvas"),renderCanvas:o(function(K,te){var J=this.canvasData,de=this.imageData;if(te){var pe=TP({width:de.naturalWidth*Math.abs(de.scaleX||1),height:de.naturalHeight*Math.abs(de.scaleY||1),degree:de.rotate||0}),Ce=pe.width,Xe=pe.height,ot=J.width*(Ce/J.naturalWidth),gt=J.height*(Xe/J.naturalHeight);J.left-=(ot-J.width)/2,J.top-=(gt-J.height)/2,J.width=ot,J.height=gt,J.aspectRatio=Ce/Xe,J.naturalWidth=Ce,J.naturalHeight=Xe,this.limitCanvas(!0,!1)}(J.width>J.maxWidth||J.width<J.minWidth)&&(J.left=J.oldLeft),(J.height>J.maxHeight||J.height<J.minHeight)&&(J.top=J.oldTop),J.width=Math.min(Math.max(J.width,J.minWidth),J.maxWidth),J.height=Math.min(Math.max(J.height,J.minHeight),J.maxHeight),this.limitCanvas(!1,!0),J.left=Math.min(Math.max(J.left,J.minLeft),J.maxLeft),J.top=Math.min(Math.max(J.top,J.minTop),J.maxTop),J.oldLeft=J.left,J.oldTop=J.top,nn(this.canvas,Or({width:J.width,height:J.height},Zh({translateX:J.left,translateY:J.top}))),this.renderImage(K),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},"renderCanvas"),renderImage:o(function(K){var te=this.canvasData,J=this.imageData,de=J.naturalWidth*(te.width/te.naturalWidth),pe=J.naturalHeight*(te.height/te.naturalHeight);Or(J,{width:de,height:pe,left:(te.width-de)/2,top:(te.height-pe)/2}),nn(this.image,Or({width:J.width,height:J.height},Zh(Or({translateX:J.left,translateY:J.top},J)))),K&&this.output()},"renderImage"),initCropBox:o(function(){var K=this.options,te=this.canvasData,J=K.aspectRatio||K.initialAspectRatio,de=Number(K.autoCropArea)||.8,pe={width:te.width,height:te.height};J&&(te.height*J>te.width?pe.height=pe.width/J:pe.width=pe.height*J),this.cropBoxData=pe,this.limitCropBox(!0,!0),pe.width=Math.min(Math.max(pe.width,pe.minWidth),pe.maxWidth),pe.height=Math.min(Math.max(pe.height,pe.minHeight),pe.maxHeight),pe.width=Math.max(pe.minWidth,pe.width*de),pe.height=Math.max(pe.minHeight,pe.height*de),pe.left=te.left+(te.width-pe.width)/2,pe.top=te.top+(te.height-pe.height)/2,pe.oldLeft=pe.left,pe.oldTop=pe.top,this.initialCropBoxData=Or({},pe)},"initCropBox"),limitCropBox:o(function(K,te){var J=this.options,de=this.containerData,pe=this.canvasData,Ce=this.cropBoxData,Xe=this.limited,ot=J.aspectRatio;if(K){var gt=Number(J.minCropBoxWidth)||0,ut=Number(J.minCropBoxHeight)||0,Je=Xe?Math.min(de.width,pe.width,pe.width+pe.left,de.width-pe.left):de.width,_t=Xe?Math.min(de.height,pe.height,pe.height+pe.top,de.height-pe.top):de.height;gt=Math.min(gt,de.width),ut=Math.min(ut,de.height),ot&&(gt&&ut?ut*ot>gt?ut=gt/ot:gt=ut*ot:gt?ut=gt/ot:ut&&(gt=ut*ot),_t*ot>Je?_t=Je/ot:Je=_t*ot),Ce.minWidth=Math.min(gt,Je),Ce.minHeight=Math.min(ut,_t),Ce.maxWidth=Je,Ce.maxHeight=_t}te&&(Xe?(Ce.minLeft=Math.max(0,pe.left),Ce.minTop=Math.max(0,pe.top),Ce.maxLeft=Math.min(de.width,pe.left+pe.width)-Ce.width,Ce.maxTop=Math.min(de.height,pe.top+pe.height)-Ce.height):(Ce.minLeft=0,Ce.minTop=0,Ce.maxLeft=de.width-Ce.width,Ce.maxTop=de.height-Ce.height))},"limitCropBox"),renderCropBox:o(function(){var K=this.options,te=this.containerData,J=this.cropBoxData;(J.width>J.maxWidth||J.width<J.minWidth)&&(J.left=J.oldLeft),(J.height>J.maxHeight||J.height<J.minHeight)&&(J.top=J.oldTop),J.width=Math.min(Math.max(J.width,J.minWidth),J.maxWidth),J.height=Math.min(Math.max(J.height,J.minHeight),J.maxHeight),this.limitCropBox(!1,!0),J.left=Math.min(Math.max(J.left,J.minLeft),J.maxLeft),J.top=Math.min(Math.max(J.top,J.minTop),J.maxTop),J.oldLeft=J.left,J.oldTop=J.top,K.movable&&K.cropBoxMovable&&Kh(this.face,Ot,J.width>=te.width&&J.height>=te.height?dt:ht),nn(this.cropBox,Or({width:J.width,height:J.height},Zh({translateX:J.left,translateY:J.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},"renderCropBox"),output:o(function(){this.preview(),Nc(this.element,cr,this.getData())},"output")},mU={initPreview:o(function(){var K=this.element,te=this.crossOrigin,J=this.options.preview,de=te?this.crossOriginUrl:this.url,pe=K.alt||"The image to preview",Ce=document.createElement("img");if(te&&(Ce.crossOrigin=te),Ce.src=de,Ce.alt=pe,this.viewBox.appendChild(Ce),this.viewBoxImage=Ce,!!J){var Xe=J;typeof J=="string"?Xe=K.ownerDocument.querySelectorAll(J):J.querySelector&&(Xe=[J]),this.previews=Xe,Vr(Xe,function(ot){var gt=document.createElement("img");Kh(ot,Wt,{width:ot.offsetWidth,height:ot.offsetHeight,html:ot.innerHTML}),te&&(gt.crossOrigin=te),gt.src=de,gt.alt=pe,gt.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',ot.innerHTML="",ot.appendChild(gt)})}},"initPreview"),resetPreview:o(function(){Vr(this.previews,function(K){var te=Tg(K,Wt);nn(K,{width:te.width,height:te.height}),K.innerHTML=te.html,wP(K,Wt)})},"resetPreview"),preview:o(function(){var K=this.imageData,te=this.canvasData,J=this.cropBoxData,de=J.width,pe=J.height,Ce=K.width,Xe=K.height,ot=J.left-te.left-K.left,gt=J.top-te.top-K.top;!this.cropped||this.disabled||(nn(this.viewBoxImage,Or({width:Ce,height:Xe},Zh(Or({translateX:-ot,translateY:-gt},K)))),Vr(this.previews,function(ut){var Je=Tg(ut,Wt),_t=Je.width,hr=Je.height,Xi=_t,Ar=hr,_r=1;de&&(_r=_t/de,Ar=pe*_r),pe&&Ar>hr&&(_r=hr/pe,Xi=de*_r,Ar=hr),nn(ut,{width:Xi,height:Ar}),nn(ut.getElementsByTagName("img")[0],Or({width:Ce*_r,height:Xe*_r},Zh(Or({translateX:-ot*_r,translateY:-gt*_r},K))))}))},"preview")},gU={bind:o(function(){var K=this.element,te=this.options,J=this.cropper;Hs(te.cropstart)&&Va(K,Vi,te.cropstart),Hs(te.cropmove)&&Va(K,pi,te.cropmove),Hs(te.cropend)&&Va(K,ui,te.cropend),Hs(te.crop)&&Va(K,cr,te.crop),Hs(te.zoom)&&Va(K,eo,te.zoom),Va(J,Fn,this.onCropStart=this.cropStart.bind(this)),te.zoomable&&te.zoomOnWheel&&Va(J,Ol,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),te.toggleDragModeOnDblclick&&Va(J,bs,this.onDblclick=this.dblclick.bind(this)),Va(K.ownerDocument,Jn,this.onCropMove=this.cropMove.bind(this)),Va(K.ownerDocument,Tl,this.onCropEnd=this.cropEnd.bind(this)),te.responsive&&Va(window,El,this.onResize=this.resize.bind(this))},"bind"),unbind:o(function(){var K=this.element,te=this.options,J=this.cropper;Hs(te.cropstart)&&on(K,Vi,te.cropstart),Hs(te.cropmove)&&on(K,pi,te.cropmove),Hs(te.cropend)&&on(K,ui,te.cropend),Hs(te.crop)&&on(K,cr,te.crop),Hs(te.zoom)&&on(K,eo,te.zoom),on(J,Fn,this.onCropStart),te.zoomable&&te.zoomOnWheel&&on(J,Ol,this.onWheel,{passive:!1,capture:!0}),te.toggleDragModeOnDblclick&&on(J,bs,this.onDblclick),on(K.ownerDocument,Jn,this.onCropMove),on(K.ownerDocument,Tl,this.onCropEnd),te.responsive&&on(window,El,this.onResize)},"unbind")},yU={resize:o(function(){if(!this.disabled){var K=this.options,te=this.container,J=this.containerData,de=te.offsetWidth/J.width;if(de!==1||te.offsetHeight!==J.height){var pe,Ce;K.restore&&(pe=this.getCanvasData(),Ce=this.getCropBoxData()),this.render(),K.restore&&(this.setCanvasData(Vr(pe,function(Xe,ot){pe[ot]=Xe*de})),this.setCropBoxData(Vr(Ce,function(Xe,ot){Ce[ot]=Xe*de})))}}},"resize"),dblclick:o(function(){this.disabled||this.options.dragMode===Pi||this.setDragMode(Tf(this.dragBox,ar)?Br:Di)},"dblclick"),wheel:o(function(K){var te=this,J=Number(this.options.wheelZoomRatio)||.1,de=1;this.disabled||(K.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){te.wheeling=!1},50),K.deltaY?de=K.deltaY>0?1:-1:K.wheelDelta?de=-K.wheelDelta/120:K.detail&&(de=K.detail>0?1:-1),this.zoom(-de*J,K)))},"wheel"),cropStart:o(function(K){var te=K.buttons,J=K.button;if(!(this.disabled||(K.type==="mousedown"||K.type==="pointerdown"&&K.pointerType==="mouse")&&(ji(te)&&te!==1||ji(J)&&J!==0||K.ctrlKey))){var de=this.options,pe=this.pointers,Ce;K.changedTouches?Vr(K.changedTouches,function(Xe){pe[Xe.identifier]=Cf(Xe)}):pe[K.pointerId||0]=Cf(K),Object.keys(pe).length>1&&de.zoomable&&de.zoomOnTouch?Ce=De:Ce=Tg(K.target,Ot),Ps.test(Ce)&&Nc(this.element,Vi,{originalEvent:K,action:Ce})!==!1&&(K.preventDefault(),this.action=Ce,this.cropping=!1,Ce===pt&&(this.cropping=!0,ns(this.dragBox,at)))}},"cropStart"),cropMove:o(function(K){var te=this.action;if(!(this.disabled||!te)){var J=this.pointers;K.preventDefault(),Nc(this.element,pi,{originalEvent:K,action:te})!==!1&&(K.changedTouches?Vr(K.changedTouches,function(de){Or(J[de.identifier]||{},Cf(de,!0))}):Or(J[K.pointerId||0]||{},Cf(K,!0)),this.change(K))}},"cropMove"),cropEnd:o(function(K){if(!this.disabled){var te=this.action,J=this.pointers;K.changedTouches?Vr(K.changedTouches,function(de){delete J[de.identifier]}):delete J[K.pointerId||0],te&&(K.preventDefault(),Object.keys(J).length||(this.action=""),this.cropping&&(this.cropping=!1,Bc(this.dragBox,at,this.cropped&&this.options.modal)),Nc(this.element,ui,{originalEvent:K,action:te}))}},"cropEnd")},vU={change:o(function(K){var te=this.options,J=this.canvasData,de=this.containerData,pe=this.cropBoxData,Ce=this.pointers,Xe=this.action,ot=te.aspectRatio,gt=pe.left,ut=pe.top,Je=pe.width,_t=pe.height,hr=gt+Je,Xi=ut+_t,Ar=0,_r=0,fs=de.width,Ws=de.height,os=!0,Al;!ot&&K.shiftKey&&(ot=Je&&_t?Je/_t:1),this.limited&&(Ar=pe.minLeft,_r=pe.minTop,fs=Ar+Math.min(de.width,J.width,J.left+J.width),Ws=_r+Math.min(de.height,J.height,J.top+J.height));var Oa=Ce[Object.keys(Ce)[0]],Rt={x:Oa.endX-Oa.startX,y:Oa.endY-Oa.startY},dr=o(function(ps){switch(ps){case mt:hr+Rt.x>fs&&(Rt.x=fs-hr);break;case Lt:gt+Rt.x<Ar&&(Rt.x=Ar-gt);break;case oi:ut+Rt.y<_r&&(Rt.y=_r-ut);break;case ai:Xi+Rt.y>Ws&&(Rt.y=Ws-Xi);break}},"check");switch(Xe){case ht:gt+=Rt.x,ut+=Rt.y;break;case mt:if(Rt.x>=0&&(hr>=fs||ot&&(ut<=_r||Xi>=Ws))){os=!1;break}dr(mt),Je+=Rt.x,Je<0&&(Xe=Lt,Je=-Je,gt-=Je),ot&&(_t=Je/ot,ut+=(pe.height-_t)/2);break;case oi:if(Rt.y<=0&&(ut<=_r||ot&&(gt<=Ar||hr>=fs))){os=!1;break}dr(oi),_t-=Rt.y,ut+=Rt.y,_t<0&&(Xe=ai,_t=-_t,ut-=_t),ot&&(Je=_t*ot,gt+=(pe.width-Je)/2);break;case Lt:if(Rt.x<=0&&(gt<=Ar||ot&&(ut<=_r||Xi>=Ws))){os=!1;break}dr(Lt),Je-=Rt.x,gt+=Rt.x,Je<0&&(Xe=mt,Je=-Je,gt-=Je),ot&&(_t=Je/ot,ut+=(pe.height-_t)/2);break;case ai:if(Rt.y>=0&&(Xi>=Ws||ot&&(gt<=Ar||hr>=fs))){os=!1;break}dr(ai),_t+=Rt.y,_t<0&&(Xe=oi,_t=-_t,ut-=_t),ot&&(Je=_t*ot,gt+=(pe.width-Je)/2);break;case Gi:if(ot){if(Rt.y<=0&&(ut<=_r||hr>=fs)){os=!1;break}dr(oi),_t-=Rt.y,ut+=Rt.y,Je=_t*ot}else dr(oi),dr(mt),Rt.x>=0?hr<fs?Je+=Rt.x:Rt.y<=0&&ut<=_r&&(os=!1):Je+=Rt.x,Rt.y<=0?ut>_r&&(_t-=Rt.y,ut+=Rt.y):(_t-=Rt.y,ut+=Rt.y);Je<0&&_t<0?(Xe=Et,_t=-_t,Je=-Je,ut-=_t,gt-=Je):Je<0?(Xe=ur,Je=-Je,gt-=Je):_t<0&&(Xe=sr,_t=-_t,ut-=_t);break;case ur:if(ot){if(Rt.y<=0&&(ut<=_r||gt<=Ar)){os=!1;break}dr(oi),_t-=Rt.y,ut+=Rt.y,Je=_t*ot,gt+=pe.width-Je}else dr(oi),dr(Lt),Rt.x<=0?gt>Ar?(Je-=Rt.x,gt+=Rt.x):Rt.y<=0&&ut<=_r&&(os=!1):(Je-=Rt.x,gt+=Rt.x),Rt.y<=0?ut>_r&&(_t-=Rt.y,ut+=Rt.y):(_t-=Rt.y,ut+=Rt.y);Je<0&&_t<0?(Xe=sr,_t=-_t,Je=-Je,ut-=_t,gt-=Je):Je<0?(Xe=Gi,Je=-Je,gt-=Je):_t<0&&(Xe=Et,_t=-_t,ut-=_t);break;case Et:if(ot){if(Rt.x<=0&&(gt<=Ar||Xi>=Ws)){os=!1;break}dr(Lt),Je-=Rt.x,gt+=Rt.x,_t=Je/ot}else dr(ai),dr(Lt),Rt.x<=0?gt>Ar?(Je-=Rt.x,gt+=Rt.x):Rt.y>=0&&Xi>=Ws&&(os=!1):(Je-=Rt.x,gt+=Rt.x),Rt.y>=0?Xi<Ws&&(_t+=Rt.y):_t+=Rt.y;Je<0&&_t<0?(Xe=Gi,_t=-_t,Je=-Je,ut-=_t,gt-=Je):Je<0?(Xe=sr,Je=-Je,gt-=Je):_t<0&&(Xe=ur,_t=-_t,ut-=_t);break;case sr:if(ot){if(Rt.x>=0&&(hr>=fs||Xi>=Ws)){os=!1;break}dr(mt),Je+=Rt.x,_t=Je/ot}else dr(ai),dr(mt),Rt.x>=0?hr<fs?Je+=Rt.x:Rt.y>=0&&Xi>=Ws&&(os=!1):Je+=Rt.x,Rt.y>=0?Xi<Ws&&(_t+=Rt.y):_t+=Rt.y;Je<0&&_t<0?(Xe=ur,_t=-_t,Je=-Je,ut-=_t,gt-=Je):Je<0?(Xe=Et,Je=-Je,gt-=Je):_t<0&&(Xe=Gi,_t=-_t,ut-=_t);break;case dt:this.move(Rt.x,Rt.y),os=!1;break;case De:this.zoom(kP(Ce),K),os=!1;break;case pt:if(!Rt.x||!Rt.y){os=!1;break}Al=f_(this.cropper),gt=Oa.startX-Al.left,ut=Oa.startY-Al.top,Je=pe.minWidth,_t=pe.minHeight,Rt.x>0?Xe=Rt.y>0?sr:Gi:Rt.x<0&&(gt-=Je,Xe=Rt.y>0?Et:ur),Rt.y<0&&(ut-=_t),this.cropped||(Dn(this.cropBox,Rr),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}os&&(pe.width=Je,pe.height=_t,pe.left=gt,pe.top=ut,this.action=Xe,this.renderCropBox()),Vr(Ce,function(ps){ps.startX=ps.endX,ps.startY=ps.endY})},"change")},bU={crop:o(function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ns(this.dragBox,at),Dn(this.cropBox,Rr),this.setCropBoxData(this.initialCropBoxData)),this},"crop"),reset:o(function(){return this.ready&&!this.disabled&&(this.imageData=Or({},this.initialImageData),this.canvasData=Or({},this.initialCanvasData),this.cropBoxData=Or({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},"reset"),clear:o(function(){return this.cropped&&!this.disabled&&(Or(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Dn(this.dragBox,at),ns(this.cropBox,Rr)),this},"clear"),replace:o(function(K){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&K&&(this.isImg&&(this.element.src=K),te?(this.url=K,this.image.src=K,this.ready&&(this.viewBoxImage.src=K,Vr(this.previews,function(J){J.getElementsByTagName("img")[0].src=K}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(K))),this},"replace"),enable:o(function(){return this.ready&&this.disabled&&(this.disabled=!1,Dn(this.cropper,Xs)),this},"enable"),disable:o(function(){return this.ready&&!this.disabled&&(this.disabled=!0,ns(this.cropper,Xs)),this},"disable"),destroy:o(function(){var K=this.element;return K[Zt]?(K[Zt]=void 0,this.isImg&&this.replaced&&(K.src=this.originalUrl),this.uncreate(),this):this},"destroy"),move:o(function(K){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,J=this.canvasData,de=J.left,pe=J.top;return this.moveTo(Ic(K)?K:de+Number(K),Ic(te)?te:pe+Number(te))},"move"),moveTo:o(function(K){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,J=this.canvasData,de=!1;return K=Number(K),te=Number(te),this.ready&&!this.disabled&&this.options.movable&&(ji(K)&&(J.left=K,de=!0),ji(te)&&(J.top=te,de=!0),de&&this.renderCanvas(!0)),this},"moveTo"),zoom:o(function(K,te){var J=this.canvasData;return K=Number(K),K<0?K=1/(1-K):K=1+K,this.zoomTo(J.width*K/J.naturalWidth,null,te)},"zoom"),zoomTo:o(function(K,te,J){var de=this.options,pe=this.canvasData,Ce=pe.width,Xe=pe.height,ot=pe.naturalWidth,gt=pe.naturalHeight;if(K=Number(K),K>=0&&this.ready&&!this.disabled&&de.zoomable){var ut=ot*K,Je=gt*K;if(Nc(this.element,eo,{ratio:K,oldRatio:Ce/ot,originalEvent:J})===!1)return this;if(J){var _t=this.pointers,hr=f_(this.cropper),Xi=_t&&Object.keys(_t).length?SP(_t):{pageX:J.pageX,pageY:J.pageY};pe.left-=(ut-Ce)*((Xi.pageX-hr.left-pe.left)/Ce),pe.top-=(Je-Xe)*((Xi.pageY-hr.top-pe.top)/Xe)}else qo(te)&&ji(te.x)&&ji(te.y)?(pe.left-=(ut-Ce)*((te.x-pe.left)/Ce),pe.top-=(Je-Xe)*((te.y-pe.top)/Xe)):(pe.left-=(ut-Ce)/2,pe.top-=(Je-Xe)/2);pe.width=ut,pe.height=Je,this.renderCanvas(!0)}return this},"zoomTo"),rotate:o(function(K){return this.rotateTo((this.imageData.rotate||0)+Number(K))},"rotate"),rotateTo:o(function(K){return K=Number(K),ji(K)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=K%360,this.renderCanvas(!0,!0)),this},"rotateTo"),scaleX:o(function(K){var te=this.imageData.scaleY;return this.scale(K,ji(te)?te:1)},"scaleX"),scaleY:o(function(K){var te=this.imageData.scaleX;return this.scale(ji(te)?te:1,K)},"scaleY"),scale:o(function(K){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:K,J=this.imageData,de=!1;return K=Number(K),te=Number(te),this.ready&&!this.disabled&&this.options.scalable&&(ji(K)&&(J.scaleX=K,de=!0),ji(te)&&(J.scaleY=te,de=!0),de&&this.renderCanvas(!0,!0)),this},"scale"),getData:o(function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,te=this.options,J=this.imageData,de=this.canvasData,pe=this.cropBoxData,Ce;if(this.ready&&this.cropped){Ce={x:pe.left-de.left,y:pe.top-de.top,width:pe.width,height:pe.height};var Xe=J.width/J.naturalWidth;if(Vr(Ce,function(ut,Je){Ce[Je]=ut/Xe}),K){var ot=Math.round(Ce.y+Ce.height),gt=Math.round(Ce.x+Ce.width);Ce.x=Math.round(Ce.x),Ce.y=Math.round(Ce.y),Ce.width=gt-Ce.x,Ce.height=ot-Ce.y}}else Ce={x:0,y:0,width:0,height:0};return te.rotatable&&(Ce.rotate=J.rotate||0),te.scalable&&(Ce.scaleX=J.scaleX||1,Ce.scaleY=J.scaleY||1),Ce},"getData"),setData:o(function(K){var te=this.options,J=this.imageData,de=this.canvasData,pe={};if(this.ready&&!this.disabled&&qo(K)){var Ce=!1;te.rotatable&&ji(K.rotate)&&K.rotate!==J.rotate&&(J.rotate=K.rotate,Ce=!0),te.scalable&&(ji(K.scaleX)&&K.scaleX!==J.scaleX&&(J.scaleX=K.scaleX,Ce=!0),ji(K.scaleY)&&K.scaleY!==J.scaleY&&(J.scaleY=K.scaleY,Ce=!0)),Ce&&this.renderCanvas(!0,!0);var Xe=J.width/J.naturalWidth;ji(K.x)&&(pe.left=K.x*Xe+de.left),ji(K.y)&&(pe.top=K.y*Xe+de.top),ji(K.width)&&(pe.width=K.width*Xe),ji(K.height)&&(pe.height=K.height*Xe),this.setCropBoxData(pe)}return this},"setData"),getContainerData:o(function(){return this.ready?Or({},this.containerData):{}},"getContainerData"),getImageData:o(function(){return this.sized?Or({},this.imageData):{}},"getImageData"),getCanvasData:o(function(){var K=this.canvasData,te={};return this.ready&&Vr(["left","top","width","height","naturalWidth","naturalHeight"],function(J){te[J]=K[J]}),te},"getCanvasData"),setCanvasData:o(function(K){var te=this.canvasData,J=te.aspectRatio;return this.ready&&!this.disabled&&qo(K)&&(ji(K.left)&&(te.left=K.left),ji(K.top)&&(te.top=K.top),ji(K.width)?(te.width=K.width,te.height=K.width/J):ji(K.height)&&(te.height=K.height,te.width=K.height*J),this.renderCanvas(!0)),this},"setCanvasData"),getCropBoxData:o(function(){var K=this.cropBoxData,te;return this.ready&&this.cropped&&(te={left:K.left,top:K.top,width:K.width,height:K.height}),te||{}},"getCropBoxData"),setCropBoxData:o(function(K){var te=this.cropBoxData,J=this.options.aspectRatio,de,pe;return this.ready&&this.cropped&&!this.disabled&&qo(K)&&(ji(K.left)&&(te.left=K.left),ji(K.top)&&(te.top=K.top),ji(K.width)&&K.width!==te.width&&(de=!0,te.width=K.width),ji(K.height)&&K.height!==te.height&&(pe=!0,te.height=K.height),J&&(de?te.height=te.width/J:pe&&(te.width=te.height*J)),this.renderCropBox()),this},"setCropBoxData"),getCroppedCanvas:o(function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var te=this.canvasData,J=CP(this.image,this.imageData,te,K);if(!this.cropped)return J;var de=this.getData(),pe=de.x,Ce=de.y,Xe=de.width,ot=de.height,gt=J.width/Math.floor(te.naturalWidth);gt!==1&&(pe*=gt,Ce*=gt,Xe*=gt,ot*=gt);var ut=Xe/ot,Je=$o({aspectRatio:ut,width:K.maxWidth||1/0,height:K.maxHeight||1/0}),_t=$o({aspectRatio:ut,width:K.minWidth||0,height:K.minHeight||0},"cover"),hr=$o({aspectRatio:ut,width:K.width||(gt!==1?J.width:Xe),height:K.height||(gt!==1?J.height:ot)}),Xi=hr.width,Ar=hr.height;Xi=Math.min(Je.width,Math.max(_t.width,Xi)),Ar=Math.min(Je.height,Math.max(_t.height,Ar));var _r=document.createElement("canvas"),fs=_r.getContext("2d");_r.width=io(Xi),_r.height=io(Ar),fs.fillStyle=K.fillColor||"transparent",fs.fillRect(0,0,Xi,Ar);var Ws=K.imageSmoothingEnabled,os=Ws===void 0?!0:Ws,Al=K.imageSmoothingQuality;fs.imageSmoothingEnabled=os,Al&&(fs.imageSmoothingQuality=Al);var Oa=J.width,Rt=J.height,dr=pe,ps=Ce,ro,Vo,zc,Uc,Pl,Ml;dr<=-Xe||dr>Oa?(dr=0,ro=0,zc=0,Pl=0):dr<=0?(zc=-dr,dr=0,ro=Math.min(Oa,Xe+dr),Pl=ro):dr<=Oa&&(zc=0,ro=Math.min(Xe,Oa-dr),Pl=ro),ro<=0||ps<=-ot||ps>Rt?(ps=0,Vo=0,Uc=0,Ml=0):ps<=0?(Uc=-ps,ps=0,Vo=Math.min(Rt,ot+ps),Ml=Vo):ps<=Rt&&(Uc=0,Vo=Math.min(ot,Rt-ps),Ml=Vo);var Hc=[dr,ps,ro,Vo];if(Pl>0&&Ml>0){var Ks=Xi/Xe;Hc.push(zc*Ks,Uc*Ks,Pl*Ks,Ml*Ks)}return fs.drawImage.apply(fs,[J].concat(ie(Hc.map(function(Cg){return Math.floor(io(Cg))})))),_r},"getCroppedCanvas"),setAspectRatio:o(function(K){var te=this.options;return!this.disabled&&!Ic(K)&&(te.aspectRatio=Math.max(0,K)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},"setAspectRatio"),setDragMode:o(function(K){var te=this.options,J=this.dragBox,de=this.face;if(this.ready&&!this.disabled){var pe=K===Di,Ce=te.movable&&K===Br;K=pe||Ce?K:Pi,te.dragMode=K,Kh(J,Ot,K),Bc(J,ar,pe),Bc(J,St,Ce),te.cropBoxMovable||(Kh(de,Ot,K),Bc(de,ar,pe),Bc(de,St,Ce))}return this},"setDragMode")},wU=wt.Cropper,RP=function(){function K(te){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(p(this,K),!te||!wg.test(te.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=te,this.options=Or({},_f,qo(J)&&J),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return o(K,"Cropper"),O(K,[{key:"init",value:o(function(){var te=this.element,J=te.tagName.toLowerCase(),de;if(!te[Zt]){if(te[Zt]=this,J==="img"){if(this.isImg=!0,de=te.getAttribute("src")||"",this.originalUrl=de,!de)return;de=te.src}else J==="canvas"&&window.HTMLCanvasElement&&(de=te.toDataURL());this.load(de)}},"init")},{key:"load",value:o(function(te){var J=this;if(te){this.url=te,this.imageData={};var de=this.element,pe=this.options;if(!pe.rotatable&&!pe.scalable&&(pe.checkOrientation=!1),!pe.checkOrientation||!window.ArrayBuffer){this.clone();return}if(vg.test(te)){bg.test(te)?this.read(AP(te)):this.clone();return}var Ce=new XMLHttpRequest,Xe=this.clone.bind(this);this.reloading=!0,this.xhr=Ce,Ce.onabort=Xe,Ce.onerror=Xe,Ce.ontimeout=Xe,Ce.onprogress=function(){Ce.getResponseHeader("content-type")!==ws&&Ce.abort()},Ce.onload=function(){J.read(Ce.response)},Ce.onloadend=function(){J.reloading=!1,J.xhr=null},pe.checkCrossOrigin&&m_(te)&&de.crossOrigin&&(te=g_(te)),Ce.open("GET",te),Ce.responseType="arraybuffer",Ce.withCredentials=de.crossOrigin==="use-credentials",Ce.send()}},"load")},{key:"read",value:o(function(te){var J=this.options,de=this.imageData,pe=MP(te),Ce=0,Xe=1,ot=1;if(pe>1){this.url=PP(te,ws);var gt=LP(pe);Ce=gt.rotate,Xe=gt.scaleX,ot=gt.scaleY}J.rotatable&&(de.rotate=Ce),J.scalable&&(de.scaleX=Xe,de.scaleY=ot),this.clone()},"read")},{key:"clone",value:o(function(){var te=this.element,J=this.url,de=te.crossOrigin,pe=J;this.options.checkCrossOrigin&&m_(J)&&(de||(de="anonymous"),pe=g_(J)),this.crossOrigin=de,this.crossOriginUrl=pe;var Ce=document.createElement("img");de&&(Ce.crossOrigin=de),Ce.src=pe||J,Ce.alt=te.alt||"The image to crop",this.image=Ce,Ce.onload=this.start.bind(this),Ce.onerror=this.stop.bind(this),ns(Ce,As),te.parentNode.insertBefore(Ce,te.nextSibling)},"clone")},{key:"start",value:o(function(){var te=this,J=this.image;J.onload=null,J.onerror=null,this.sizing=!0;var de=wt.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(wt.navigator.userAgent),pe=o(function(ot,gt){Or(te.imageData,{naturalWidth:ot,naturalHeight:gt,aspectRatio:ot/gt}),te.sizing=!1,te.sized=!0,te.build()},"done");if(J.naturalWidth&&!de){pe(J.naturalWidth,J.naturalHeight);return}var Ce=document.createElement("img"),Xe=document.body||document.documentElement;this.sizingImage=Ce,Ce.onload=function(){pe(Ce.width,Ce.height),de||Xe.removeChild(Ce)},Ce.src=J.src,de||(Ce.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",Xe.appendChild(Ce))},"start")},{key:"stop",value:o(function(){var te=this.image;te.onload=null,te.onerror=null,te.parentNode.removeChild(te),this.image=null},"stop")},{key:"build",value:o(function(){if(!(!this.sized||this.ready)){var te=this.element,J=this.options,de=this.image,pe=te.parentNode,Ce=document.createElement("div");Ce.innerHTML=_g;var Xe=Ce.querySelector(".".concat(Zt,"-container")),ot=Xe.querySelector(".".concat(Zt,"-canvas")),gt=Xe.querySelector(".".concat(Zt,"-drag-box")),ut=Xe.querySelector(".".concat(Zt,"-crop-box")),Je=ut.querySelector(".".concat(Zt,"-face"));this.container=pe,this.cropper=Xe,this.canvas=ot,this.dragBox=gt,this.cropBox=ut,this.viewBox=Xe.querySelector(".".concat(Zt,"-view-box")),this.face=Je,ot.appendChild(de),ns(te,Rr),pe.insertBefore(Xe,te.nextSibling),this.isImg||Dn(de,As),this.initPreview(),this.bind(),J.initialAspectRatio=Math.max(0,J.initialAspectRatio)||NaN,J.aspectRatio=Math.max(0,J.aspectRatio)||NaN,J.viewMode=Math.max(0,Math.min(3,Math.round(J.viewMode)))||0,ns(ut,Rr),J.guides||ns(ut.getElementsByClassName("".concat(Zt,"-dashed")),Rr),J.center||ns(ut.getElementsByClassName("".concat(Zt,"-center")),Rr),J.background&&ns(Xe,"".concat(Zt,"-bg")),J.highlight||ns(Je,Bt),J.cropBoxMovable&&(ns(Je,St),Kh(Je,Ot,ht)),J.cropBoxResizable||(ns(ut.getElementsByClassName("".concat(Zt,"-line")),Rr),ns(ut.getElementsByClassName("".concat(Zt,"-point")),Rr)),this.render(),this.ready=!0,this.setDragMode(J.dragMode),J.autoCrop&&this.crop(),this.setData(J.data),Hs(J.ready)&&Va(te,Cl,J.ready,{once:!0}),Nc(te,Cl)}},"build")},{key:"unbuild",value:o(function(){!this.ready||(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),Dn(this.element,Rr))},"unbuild")},{key:"uncreate",value:o(function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()},"uncreate")}],[{key:"noConflict",value:o(function(){return window.Cropper=wU,K},"noConflict")},{key:"setDefaults",value:o(function(te){Or(_f,qo(te)&&te)},"setDefaults")}]),K}();return Or(RP.prototype,pU,mU,gU,yU,vU,bU),RP})}),S=h((r,n)=>{n.exports=O,n.exports.isMobile=O,n.exports.default=O;var c=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,p=/CrOS/,_=/android|ipad|playbook|silk/i;function O(D){D||(D={});let N=D.ua;if(!N&&typeof navigator<"u"&&(N=navigator.userAgent),N&&N.headers&&typeof N.headers["user-agent"]=="string"&&(N=N.headers["user-agent"]),typeof N!="string")return!1;let Y=c.test(N)&&!p.test(N)||!!D.tablet&&_.test(N);return!Y&&D.tablet&&D.featureDetect&&navigator&&navigator.maxTouchPoints>1&&N.indexOf("Macintosh")!==-1&&N.indexOf("Safari")!==-1&&(Y=!0),Y}o(O,"isMobile")}),C=h((r,n)=>{n.exports=o(function(c,p){if(p=p.split(":")[0],c=+c,!c)return!1;switch(p){case"http":case"ws":return c!==80;case"https":case"wss":return c!==443;case"ftp":return c!==21;case"gopher":return c!==70;case"file":return!1}return c!==0},"required")}),M=h(r=>{var n=Object.prototype.hasOwnProperty,c;function p(N){try{return decodeURIComponent(N.replace(/\+/g," "))}catch{return null}}o(p,"decode");function _(N){try{return encodeURIComponent(N)}catch{return null}}o(_,"encode");function O(N){for(var Y=/([^=?#&]+)=?([^&]*)/g,ie={},X;X=Y.exec(N);){var ae=p(X[1]),ue=p(X[2]);ae===null||ue===null||ae in ie||(ie[ae]=ue)}return ie}o(O,"querystring");function D(N,Y){Y=Y||"";var ie=[],X,ae;typeof Y!="string"&&(Y="?");for(ae in N)if(n.call(N,ae)){if(X=N[ae],!X&&(X===null||X===c||isNaN(X))&&(X=""),ae=_(ae),X=_(X),ae===null||X===null)continue;ie.push(ae+"="+X)}return ie.length?Y+ie.join("&"):""}o(D,"querystringify"),r.stringify=D,r.parse=O}),I=h((r,n)=>{var c=C(),p=M(),_=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,O=/[\n\r\t]/g,D=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,N=/:\d+$/,Y=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,ie=/^[a-zA-Z]:/;function X(ht){return(ht||"").toString().replace(_,"")}o(X,"trimLeft");var ae=[["#","hash"],["?","query"],o(function(ht,pt){return We(pt.protocol)?ht.replace(/\\/g,"/"):ht},"sanitize"),["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ue={hash:1,query:1};function xe(ht){var pt;typeof window<"u"?pt=window:typeof global<"u"?pt=global:typeof self<"u"?pt=self:pt={};var dt=pt.location||{};ht=ht||dt;var De={},mt=typeof ht,Lt;if(ht.protocol==="blob:")De=new Ht(unescape(ht.pathname),{});else if(mt==="string"){De=new Ht(ht,{});for(Lt in ue)delete De[Lt]}else if(mt==="object"){for(Lt in ht)Lt in ue||(De[Lt]=ht[Lt]);De.slashes===void 0&&(De.slashes=D.test(ht.href))}return De}o(xe,"lolcation");function We(ht){return ht==="file:"||ht==="ftp:"||ht==="http:"||ht==="https:"||ht==="ws:"||ht==="wss:"}o(We,"isSpecial");function Mt(ht,pt){ht=X(ht),ht=ht.replace(O,""),pt=pt||{};var dt=Y.exec(ht),De=dt[1]?dt[1].toLowerCase():"",mt=!!dt[2],Lt=!!dt[3],ai=0,oi;return mt?Lt?(oi=dt[2]+dt[3]+dt[4],ai=dt[2].length+dt[3].length):(oi=dt[2]+dt[4],ai=dt[2].length):Lt?(oi=dt[3]+dt[4],ai=dt[3].length):oi=dt[4],De==="file:"?ai>=2&&(oi=oi.slice(2)):We(De)?oi=dt[4]:De?mt&&(oi=oi.slice(2)):ai>=2&&We(pt.protocol)&&(oi=dt[4]),{protocol:De,slashes:mt||We(De),slashesCount:ai,rest:oi}}o(Mt,"extractProtocol");function wt(ht,pt){if(ht==="")return pt;for(var dt=(pt||"/").split("/").slice(0,-1).concat(ht.split("/")),De=dt.length,mt=dt[De-1],Lt=!1,ai=0;De--;)dt[De]==="."?dt.splice(De,1):dt[De]===".."?(dt.splice(De,1),ai++):ai&&(De===0&&(Lt=!0),dt.splice(De,1),ai--);return Lt&&dt.unshift(""),(mt==="."||mt==="..")&&dt.push(""),dt.join("/")}o(wt,"resolve");function Ht(ht,pt,dt){if(ht=X(ht),ht=ht.replace(O,""),!(this instanceof Ht))return new Ht(ht,pt,dt);var De,mt,Lt,ai,oi,Gi,ur=ae.slice(),sr=typeof pt,Et=this,ar=0;for(sr!=="object"&&sr!=="string"&&(dt=pt,pt=null),dt&&typeof dt!="function"&&(dt=p.parse),pt=xe(pt),mt=Mt(ht||"",pt),De=!mt.protocol&&!mt.slashes,Et.slashes=mt.slashes||De&&pt.slashes,Et.protocol=mt.protocol||pt.protocol||"",ht=mt.rest,(mt.protocol==="file:"&&(mt.slashesCount!==2||ie.test(ht))||!mt.slashes&&(mt.protocol||mt.slashesCount<2||!We(Et.protocol)))&&(ur[3]=[/(.*)/,"pathname"]);ar<ur.length;ar++){if(ai=ur[ar],typeof ai=="function"){ht=ai(ht,Et);continue}Lt=ai[0],Gi=ai[1],Lt!==Lt?Et[Gi]=ht:typeof Lt=="string"?(oi=Lt==="@"?ht.lastIndexOf(Lt):ht.indexOf(Lt),~oi&&(typeof ai[2]=="number"?(Et[Gi]=ht.slice(0,oi),ht=ht.slice(oi+ai[2])):(Et[Gi]=ht.slice(oi),ht=ht.slice(0,oi)))):(oi=Lt.exec(ht))&&(Et[Gi]=oi[1],ht=ht.slice(0,oi.index)),Et[Gi]=Et[Gi]||De&&ai[3]&&pt[Gi]||"",ai[4]&&(Et[Gi]=Et[Gi].toLowerCase())}dt&&(Et.query=dt(Et.query)),De&&pt.slashes&&Et.pathname.charAt(0)!=="/"&&(Et.pathname!==""||pt.pathname!=="")&&(Et.pathname=wt(Et.pathname,pt.pathname)),Et.pathname.charAt(0)!=="/"&&We(Et.protocol)&&(Et.pathname="/"+Et.pathname),c(Et.port,Et.protocol)||(Et.host=Et.hostname,Et.port=""),Et.username=Et.password="",Et.auth&&(oi=Et.auth.indexOf(":"),~oi?(Et.username=Et.auth.slice(0,oi),Et.username=encodeURIComponent(decodeURIComponent(Et.username)),Et.password=Et.auth.slice(oi+1),Et.password=encodeURIComponent(decodeURIComponent(Et.password))):Et.username=encodeURIComponent(decodeURIComponent(Et.auth)),Et.auth=Et.password?Et.username+":"+Et.password:Et.username),Et.origin=Et.protocol!=="file:"&&We(Et.protocol)&&Et.host?Et.protocol+"//"+Et.host:"null",Et.href=Et.toString()}o(Ht,"Url");function xi(ht,pt,dt){var De=this;switch(ht){case"query":typeof pt=="string"&&pt.length&&(pt=(dt||p.parse)(pt)),De[ht]=pt;break;case"port":De[ht]=pt,c(pt,De.protocol)?pt&&(De.host=De.hostname+":"+pt):(De.host=De.hostname,De[ht]="");break;case"hostname":De[ht]=pt,De.port&&(pt+=":"+De.port),De.host=pt;break;case"host":De[ht]=pt,N.test(pt)?(pt=pt.split(":"),De.port=pt.pop(),De.hostname=pt.join(":")):(De.hostname=pt,De.port="");break;case"protocol":De.protocol=pt.toLowerCase(),De.slashes=!dt;break;case"pathname":case"hash":if(pt){var mt=ht==="pathname"?"/":"#";De[ht]=pt.charAt(0)!==mt?mt+pt:pt}else De[ht]=pt;break;case"username":case"password":De[ht]=encodeURIComponent(pt);break;case"auth":var Lt=pt.indexOf(":");~Lt?(De.username=pt.slice(0,Lt),De.username=encodeURIComponent(decodeURIComponent(De.username)),De.password=pt.slice(Lt+1),De.password=encodeURIComponent(decodeURIComponent(De.password))):De.username=encodeURIComponent(decodeURIComponent(pt))}for(var ai=0;ai<ae.length;ai++){var oi=ae[ai];oi[4]&&(De[oi[1]]=De[oi[1]].toLowerCase())}return De.auth=De.password?De.username+":"+De.password:De.username,De.origin=De.protocol!=="file:"&&We(De.protocol)&&De.host?De.protocol+"//"+De.host:"null",De.href=De.toString(),De}o(xi,"set");function Zt(ht){(!ht||typeof ht!="function")&&(ht=p.stringify);var pt,dt=this,De=dt.host,mt=dt.protocol;mt&&mt.charAt(mt.length-1)!==":"&&(mt+=":");var Lt=mt+(dt.protocol&&dt.slashes||We(dt.protocol)?"//":"");return dt.username?(Lt+=dt.username,dt.password&&(Lt+=":"+dt.password),Lt+="@"):dt.password?(Lt+=":"+dt.password,Lt+="@"):dt.protocol!=="file:"&&We(dt.protocol)&&!De&&dt.pathname!=="/"&&(Lt+="@"),(De[De.length-1]===":"||N.test(dt.hostname)&&!dt.port)&&(De+=":"),Lt+=De+dt.pathname,pt=typeof dt.query=="object"?ht(dt.query):dt.query,pt&&(Lt+=pt.charAt(0)!=="?"?"?"+pt:pt),dt.hash&&(Lt+=dt.hash),Lt}o(Zt,"toString"),Ht.prototype={set:xi,toString:Zt},Ht.extractProtocol=Mt,Ht.location=xe,Ht.trimLeft=X,Ht.qs=p,n.exports=Ht}),U=h((r,n)=>{typeof n<"u"&&(n.exports=c);function c(_){if(_)return p(_)}o(c,"Emitter");function p(_){for(var O in c.prototype)_[O]=c.prototype[O];return _}o(p,"mixin"),c.prototype.on=c.prototype.addEventListener=function(_,O){return this._callbacks=this._callbacks||{},(this._callbacks["$"+_]=this._callbacks["$"+_]||[]).push(O),this},c.prototype.once=function(_,O){function D(){this.off(_,D),O.apply(this,arguments)}return o(D,"on"),D.fn=O,this.on(_,D),this},c.prototype.off=c.prototype.removeListener=c.prototype.removeAllListeners=c.prototype.removeEventListener=function(_,O){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var D=this._callbacks["$"+_];if(!D)return this;if(arguments.length==1)return delete this._callbacks["$"+_],this;for(var N,Y=0;Y<D.length;Y++)if(N=D[Y],N===O||N.fn===O){D.splice(Y,1);break}return D.length===0&&delete this._callbacks["$"+_],this},c.prototype.emit=function(_){this._callbacks=this._callbacks||{};for(var O=new Array(arguments.length-1),D=this._callbacks["$"+_],N=1;N<arguments.length;N++)O[N-1]=arguments[N];if(D){D=D.slice(0);for(var N=0,Y=D.length;N<Y;++N)D[N].apply(this,O)}return this},c.prototype.listeners=function(_){return this._callbacks=this._callbacks||{},this._callbacks["$"+_]||[]},c.prototype.hasListeners=function(_){return!!this.listeners(_).length}}),z=h((r,n)=>{function c(Bt,at){var St=Object.keys(Bt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(Bt);at&&(Ot=Ot.filter(function(Wt){return Object.getOwnPropertyDescriptor(Bt,Wt).enumerable})),St.push.apply(St,Ot)}return St}o(c,"ownKeys");function p(Bt){for(var at=1;at<arguments.length;at++){var St=arguments[at]!=null?arguments[at]:{};at%2?c(Object(St),!0).forEach(function(Ot){N(Bt,Ot,St[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Bt,Object.getOwnPropertyDescriptors(St)):c(Object(St)).forEach(function(Ot){Object.defineProperty(Bt,Ot,Object.getOwnPropertyDescriptor(St,Ot))})}return Bt}o(p,"_objectSpread2");function _(Bt,at){if(!(Bt instanceof at))throw new TypeError("Cannot call a class as a function")}o(_,"_classCallCheck");function O(Bt,at){for(var St=0;St<at.length;St++){var Ot=at[St];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Bt,Ot.key,Ot)}}o(O,"_defineProperties");function D(Bt,at,St){return at&&O(Bt.prototype,at),St&&O(Bt,St),Bt}o(D,"_createClass");function N(Bt,at,St){return at in Bt?Object.defineProperty(Bt,at,{value:St,enumerable:!0,configurable:!0,writable:!0}):Bt[at]=St,Bt}o(N,"_defineProperty");function Y(){return Y=Object.assign||function(Bt){for(var at=1;at<arguments.length;at++){var St=arguments[at];for(var Ot in St)Object.prototype.hasOwnProperty.call(St,Ot)&&(Bt[Ot]=St[Ot])}return Bt},Y.apply(this,arguments)}o(Y,"_extends");var ie={exports:{}};(function(Bt){typeof window>"u"||function(at){var St=at.HTMLCanvasElement&&at.HTMLCanvasElement.prototype,Ot=at.Blob&&function(){try{return!!new Blob}catch{return!1}}(),Wt=Ot&&at.Uint8Array&&function(){try{return new Blob([new Uint8Array(100)]).size===100}catch{return!1}}(),Di=at.BlobBuilder||at.WebKitBlobBuilder||at.MozBlobBuilder||at.MSBlobBuilder,Br=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,Pi=(Ot||Di)&&at.atob&&at.ArrayBuffer&&at.Uint8Array&&function(cr){var ui,pi,Vi,bs,Ii,ds,Us,Fn,Jn;if(ui=cr.match(Br),!ui)throw new Error("invalid data URI");for(pi=ui[2]?ui[1]:"text/plain"+(ui[3]||";charset=US-ASCII"),Vi=!!ui[4],bs=cr.slice(ui[0].length),Vi?Ii=atob(bs):Ii=decodeURIComponent(bs),ds=new ArrayBuffer(Ii.length),Us=new Uint8Array(ds),Fn=0;Fn<Ii.length;Fn+=1)Us[Fn]=Ii.charCodeAt(Fn);return Ot?new Blob([Wt?Us:ds],{type:pi}):(Jn=new Di,Jn.append(ds),Jn.getBlob(pi))};at.HTMLCanvasElement&&!St.toBlob&&(St.mozGetAsFile?St.toBlob=function(cr,ui,pi){var Vi=this;setTimeout(function(){pi&&St.toDataURL&&Pi?cr(Pi(Vi.toDataURL(ui,pi))):cr(Vi.mozGetAsFile("blob",ui))})}:St.toDataURL&&Pi&&(St.msToBlob?St.toBlob=function(cr,ui,pi){var Vi=this;setTimeout(function(){(ui&&ui!=="image/png"||pi)&&St.toDataURL&&Pi?cr(Pi(Vi.toDataURL(ui,pi))):cr(Vi.msToBlob(ui))})}:St.toBlob=function(cr,ui,pi){var Vi=this;setTimeout(function(){cr(Pi(Vi.toDataURL(ui,pi)))})})),Bt.exports?Bt.exports=Pi:at.dataURLtoBlob=Pi}(window)})(ie);var X=ie.exports,ae=o(function(Bt){return typeof Blob>"u"?!1:Bt instanceof Blob||Object.prototype.toString.call(Bt)==="[object Blob]"},"isBlob"),ue={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},xe=typeof window<"u"&&typeof window.document<"u",We=xe?window:{},Mt=o(function(Bt){return Bt>0&&Bt<1/0},"isPositiveNumber"),wt=Array.prototype.slice;function Ht(Bt){return Array.from?Array.from(Bt):wt.call(Bt)}o(Ht,"toArray");var xi=/^image\/.+$/;function Zt(Bt){return xi.test(Bt)}o(Zt,"isImageType");function ht(Bt){var at=Zt(Bt)?Bt.substr(6):"";return at==="jpeg"&&(at="jpg"),".".concat(at)}o(ht,"imageTypeToExtension");var pt=String.fromCharCode;function dt(Bt,at,St){var Ot="",Wt;for(St+=at,Wt=at;Wt<St;Wt+=1)Ot+=pt(Bt.getUint8(Wt));return Ot}o(dt,"getStringFromCharCode");var De=We.btoa;function mt(Bt,at){for(var St=[],Ot=8192,Wt=new Uint8Array(Bt);Wt.length>0;)St.push(pt.apply(null,Ht(Wt.subarray(0,Ot)))),Wt=Wt.subarray(Ot);return"data:".concat(at,";base64,").concat(De(St.join("")))}o(mt,"arrayBufferToDataURL");function Lt(Bt){var at=new DataView(Bt),St;try{var Ot,Wt,Di;if(at.getUint8(0)===255&&at.getUint8(1)===216)for(var Br=at.byteLength,Pi=2;Pi+1<Br;){if(at.getUint8(Pi)===255&&at.getUint8(Pi+1)===225){Wt=Pi;break}Pi+=1}if(Wt){var cr=Wt+4,ui=Wt+10;if(dt(at,cr,4)==="Exif"){var pi=at.getUint16(ui);if(Ot=pi===18761,(Ot||pi===19789)&&at.getUint16(ui+2,Ot)===42){var Vi=at.getUint32(ui+4,Ot);Vi>=8&&(Di=ui+Vi)}}}if(Di){var bs=at.getUint16(Di,Ot),Ii,ds;for(ds=0;ds<bs;ds+=1)if(Ii=Di+ds*12+2,at.getUint16(Ii,Ot)===274){Ii+=8,St=at.getUint16(Ii,Ot),at.setUint16(Ii,1,Ot);break}}}catch{St=1}return St}o(Lt,"resetAndGetOrientation");function ai(Bt){var at=0,St=1,Ot=1;switch(Bt){case 2:St=-1;break;case 3:at=-180;break;case 4:Ot=-1;break;case 5:at=90,Ot=-1;break;case 6:at=90;break;case 7:at=90,St=-1;break;case 8:at=-90;break}return{rotate:at,scaleX:St,scaleY:Ot}}o(ai,"parseOrientation");var oi=/\.\d*(?:0|9){12}\d*$/;function Gi(Bt){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return oi.test(Bt)?Math.round(Bt*at)/at:Bt}o(Gi,"normalizeDecimalNumber");function ur(Bt){var at=Bt.aspectRatio,St=Bt.height,Ot=Bt.width,Wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none",Di=Mt(Ot),Br=Mt(St);if(Di&&Br){var Pi=St*at;(Wt==="contain"||Wt==="none")&&Pi>Ot||Wt==="cover"&&Pi<Ot?St=Ot/at:Ot=St*at}else Di?St=Ot/at:Br&&(Ot=St*at);return{width:Ot,height:St}}o(ur,"getAdjustedSizes");var sr=We.ArrayBuffer,Et=We.FileReader,ar=We.URL||We.webkitURL,Xs=/\.\w+$/,Rr=We.Compressor,As=function(){function Bt(at,St){_(this,Bt),this.file=at,this.image=new Image,this.options=p(p({},ue),St),this.aborted=!1,this.result=null,this.init()}return o(Bt,"Compressor"),D(Bt,[{key:"init",value:o(function(){var at=this,St=this.file,Ot=this.options;if(!ae(St)){this.fail(new Error("The first argument must be a File or Blob object."));return}var Wt=St.type;if(!Zt(Wt)){this.fail(new Error("The first argument must be an image File or Blob object."));return}if(!ar||!Et){this.fail(new Error("The current browser does not support image compression."));return}if(sr||(Ot.checkOrientation=!1),ar&&!Ot.checkOrientation)this.load({url:ar.createObjectURL(St)});else{var Di=new Et,Br=Ot.checkOrientation&&Wt==="image/jpeg";this.reader=Di,Di.onload=function(Pi){var cr=Pi.target,ui=cr.result,pi={};if(Br){var Vi=Lt(ui);Vi>1||!ar?(pi.url=mt(ui,Wt),Vi>1&&Y(pi,ai(Vi))):pi.url=ar.createObjectURL(St)}else pi.url=ui;at.load(pi)},Di.onabort=function(){at.fail(new Error("Aborted to read the image with FileReader."))},Di.onerror=function(){at.fail(new Error("Failed to read the image with FileReader."))},Di.onloadend=function(){at.reader=null},Br?Di.readAsArrayBuffer(St):Di.readAsDataURL(St)}},"init")},{key:"load",value:o(function(at){var St=this,Ot=this.file,Wt=this.image;Wt.onload=function(){St.draw(p(p({},at),{},{naturalWidth:Wt.naturalWidth,naturalHeight:Wt.naturalHeight}))},Wt.onabort=function(){St.fail(new Error("Aborted to load the image."))},Wt.onerror=function(){St.fail(new Error("Failed to load the image."))},We.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(We.navigator.userAgent)&&(Wt.crossOrigin="anonymous"),Wt.alt=Ot.name,Wt.src=at.url},"load")},{key:"draw",value:o(function(at){var St=this,Ot=at.naturalWidth,Wt=at.naturalHeight,Di=at.rotate,Br=Di===void 0?0:Di,Pi=at.scaleX,cr=Pi===void 0?1:Pi,ui=at.scaleY,pi=ui===void 0?1:ui,Vi=this.file,bs=this.image,Ii=this.options,ds=document.createElement("canvas"),Us=ds.getContext("2d"),Fn=Math.abs(Br)%180===90,Jn=(Ii.resize==="contain"||Ii.resize==="cover")&&Mt(Ii.width)&&Mt(Ii.height),Tl=Math.max(Ii.maxWidth,0)||1/0,Cl=Math.max(Ii.maxHeight,0)||1/0,El=Math.max(Ii.minWidth,0)||0,Ol=Math.max(Ii.minHeight,0)||0,eo=Ot/Wt,ws=Ii.width,Ps=Ii.height;if(Fn){var vg=[Cl,Tl];Tl=vg[0],Cl=vg[1];var bg=[Ol,El];El=bg[0],Ol=bg[1];var wg=[Ps,ws];ws=wg[0],Ps=wg[1]}Jn&&(eo=ws/Ps);var _f=ur({aspectRatio:eo,width:Tl,height:Cl},"contain");Tl=_f.width,Cl=_f.height;var _g=ur({aspectRatio:eo,width:El,height:Ol},"cover");if(El=_g.width,Ol=_g.height,Jn){var xg=ur({aspectRatio:eo,width:ws,height:Ps},Ii.resize);ws=xg.width,Ps=xg.height}else{var ji=ur({aspectRatio:eo,width:ws,height:Ps}),xf=ji.width;ws=xf===void 0?Ot:xf;var Ic=ji.height;Ps=Ic===void 0?Wt:Ic}ws=Math.floor(Gi(Math.min(Math.max(ws,El),Tl))),Ps=Math.floor(Gi(Math.min(Math.max(Ps,Ol),Cl)));var to=-ws/2,d_=-Ps/2,qo=ws,Hs=Ps,kf=[];if(Jn){var Xh=0,Vr=0,Or=Ot,Sf=Wt,io=ur({aspectRatio:eo,width:Ot,height:Wt},{contain:"cover",cover:"contain"}[Ii.resize]);Or=io.width,Sf=io.height,Xh=(Ot-Or)/2,Vr=(Wt-Sf)/2,kf.push(Xh,Vr,Or,Sf)}if(kf.push(to,d_,qo,Hs),Fn){var kg=[Ps,ws];ws=kg[0],Ps=kg[1]}ds.width=ws,ds.height=Ps,Zt(Ii.mimeType)||(Ii.mimeType=Vi.type);var nn="transparent";if(Vi.size>Ii.convertSize&&Ii.convertTypes.indexOf(Ii.mimeType)>=0&&(Ii.mimeType="image/jpeg"),Ii.mimeType==="image/jpeg"&&(nn="#fff"),Us.fillStyle=nn,Us.fillRect(0,0,ws,Ps),Ii.beforeDraw&&Ii.beforeDraw.call(this,Us,ds),!this.aborted&&(Us.save(),Us.translate(ws/2,Ps/2),Us.rotate(Br*Math.PI/180),Us.scale(cr,pi),Us.drawImage.apply(Us,[bs].concat(kf)),Us.restore(),Ii.drew&&Ii.drew.call(this,Us,ds),!this.aborted)){var Tf=o(function(ns){St.aborted||St.done({naturalWidth:Ot,naturalHeight:Wt,result:ns})},"done");ds.toBlob?ds.toBlob(Tf,Ii.mimeType,Ii.quality):Tf(X(ds.toDataURL(Ii.mimeType,Ii.quality)))}},"draw")},{key:"done",value:o(function(at){var St=at.naturalWidth,Ot=at.naturalHeight,Wt=at.result,Di=this.file,Br=this.image,Pi=this.options;if(ar&&!Pi.checkOrientation&&ar.revokeObjectURL(Br.src),Wt)if(Pi.strict&&Wt.size>Di.size&&Pi.mimeType===Di.type&&!(Pi.width>St||Pi.height>Ot||Pi.minWidth>St||Pi.minHeight>Ot||Pi.maxWidth<St||Pi.maxHeight<Ot))Wt=Di;else{var cr=new Date;Wt.lastModified=cr.getTime(),Wt.lastModifiedDate=cr,Wt.name=Di.name,Wt.name&&Wt.type!==Di.type&&(Wt.name=Wt.name.replace(Xs,ht(Wt.type)))}else Wt=Di;this.result=Wt,Pi.success&&Pi.success.call(this,Wt)},"done")},{key:"fail",value:o(function(at){var St=this.options;if(St.error)St.error.call(this,at);else throw at},"fail")},{key:"abort",value:o(function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))},"abort")}],[{key:"noConflict",value:o(function(){return window.Compressor=Rr,Bt},"noConflict")},{key:"setDefaults",value:o(function(at){Y(ue,at)},"setDefaults")}]),Bt}();n.exports=As}),g={};d(g,{Audio:()=>m0,AwsS3:()=>F0,AwsS3Multipart:()=>Zm,Box:()=>Fm,Compressor:()=>lP,Core:()=>bP,Dashboard:()=>Om,DefaultStore:()=>Ci,DragDrop:()=>Am,DropTarget:()=>Kb,Dropbox:()=>Dm,Facebook:()=>Im,FileInput:()=>Zb,Form:()=>n_,GoldenRetriever:()=>h_,GoogleDrive:()=>Bm,ImageEditor:()=>Qb,Informer:()=>lm,Instagram:()=>Nm,OneDrive:()=>zm,ProgressBar:()=>Jb,ReduxDevTools:()=>u_,ReduxStore:()=>h6,RemoteSources:()=>w0,ScreenCapture:()=>_0,StatusBar:()=>om,ThumbnailGenerator:()=>wm,Transloadit:()=>Dc,Tus:()=>$d,Unsplash:()=>Um,Uppy:()=>Cr,Url:()=>gd,Webcam:()=>k0,XHRUpload:()=>t_,Zoom:()=>Wm,debugLogger:()=>ee,locales:()=>hU,server:()=>Ze,views:()=>cU});function x(r,n){return Object.prototype.hasOwnProperty.call(r,n)}o(x,"has");function A(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(A,"_classPrivateFieldLooseBase");var F=0;function B(r){return"__private_"+F+++"_"+r}o(B,"_classPrivateFieldLooseKey");function j(r,n,c){let p=[];return r.forEach(_=>typeof _!="string"?p.push(_):n[Symbol.split](_).forEach((O,D,N)=>{O!==""&&p.push(O),D<N.length-1&&p.push(c)})),p}o(j,"insertReplacement");function $(r,n){let c=/\$/g,p="$$$$",_=[r];if(n==null)return _;for(let O of Object.keys(n))if(O!=="_"){let D=n[O];typeof D=="string"&&(D=c[Symbol.replace](D,p)),_=j(_,new RegExp(`%\\{${O}\\}`,"g"),D)}return _}o($,"interpolate");var G=B("apply"),he=class{constructor(r){Object.defineProperty(this,G,{value:Q}),this.locale={strings:{},pluralize(n){return n===1?0:1}},Array.isArray(r)?r.forEach(A(this,G)[G],this):A(this,G)[G](r)}translate(r,n){return this.translateArray(r,n).join("")}translateArray(r,n){if(!x(this.locale.strings,r))throw new Error(`missing string: ${r}`);let c=this.locale.strings[r];if(typeof c=="object"){if(n&&typeof n.smart_count<"u"){let p=this.locale.pluralize(n.smart_count);return $(c[p],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}return $(c,n)}};o(he,"Translator");function Q(r){if(!(r!=null&&r.strings))return;let n=this.locale;this.locale={...n,strings:{...n.strings,...r.strings}},this.locale.pluralize=r.pluralize||n.pluralize}o(Q,"_apply2");var Z=f(b(),1),ve="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ie=o((r=21)=>{let n="",c=r;for(;c--;)n+=ve[Math.random()*64|0];return n},"nanoid"),Ve=f(k(),1);function Ae(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Ae,"_classPrivateFieldLooseBase");var ze=0;function et(r){return"__private_"+ze+++"_"+r}o(et,"_classPrivateFieldLooseKey");var xt={version:"3.0.2"},At=et("callbacks"),Me=et("publish"),Ut=class{constructor(){Object.defineProperty(this,Me,{value:jt}),Object.defineProperty(this,At,{writable:!0,value:new Set}),this.state={}}getState(){return this.state}setState(r){let n={...this.state},c={...this.state,...r};this.state=c,Ae(this,Me)[Me](n,c,r)}subscribe(r){return Ae(this,At)[At].add(r),()=>{Ae(this,At)[At].delete(r)}}};o(Ut,"DefaultStore");function jt(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];Ae(this,At)[At].forEach(p=>{p(...n)})}o(jt,"_publish2"),Ut.VERSION=xt.version;var Ci=Ut;function rt(r){let n=r.lastIndexOf(".");return n===-1||n===r.length-1?{name:r,extension:void 0}:{name:r.slice(0,n),extension:r.slice(n+1)}}o(rt,"getFileNameAndExtension");var yi={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function Ui(r){var n;if(r.type)return r.type;let c=r.name?(n=rt(r.name).extension)==null?void 0:n.toLowerCase():null;return c&&c in yi?yi[c]:"application/octet-stream"}o(Ui,"getFileType");function qi(r){return r.charCodeAt(0).toString(32)}o(qi,"encodeCharacter");function yt(r){let n="";return r.replace(/[^A-Z0-9]/ig,c=>(n+=`-${qi(c)}`,"/"))+n}o(yt,"encodeFilename");function Nt(r){let n="uppy";return typeof r.name=="string"&&(n+=`-${yt(r.name.toLowerCase())}`),r.type!==void 0&&(n+=`-${r.type}`),r.meta&&typeof r.meta.relativePath=="string"&&(n+=`-${yt(r.meta.relativePath.toLowerCase())}`),r.data.size!==void 0&&(n+=`-${r.data.size}`),r.data.lastModified!==void 0&&(n+=`-${r.data.lastModified}`),n}o(Nt,"generateFileID");function Ni(r){if(r==null&&typeof navigator<"u"&&(r=navigator.userAgent),!r)return!0;let n=/Edge\/(\d+\.\d+)/.exec(r);if(!n)return!0;let c=n[1],[p,_]=c.split(".");return p=parseInt(p,10),_=parseInt(_,10),p<15||p===15&&_<15063||p>18||p===18&&_>=18218}o(Ni,"supportsUploadProgress");function Fr(r,n){return n.name?n.name:r.split("/")[0]==="image"?`${r.split("/")[0]}.${r.split("/")[1]}`:"noname"}o(Fr,"getFileName");function Xr(r){return r<10?`0${r}`:r.toString()}o(Xr,"pad");function Ai(){let r=new Date,n=Xr(r.getHours()),c=Xr(r.getMinutes()),p=Xr(r.getSeconds());return`${n}:${c}:${p}`}o(Ai,"getTimeStamp");var yr={debug:()=>{},warn:()=>{},error:function(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return console.error(`[Uppy] [${Ai()}]`,...n)}},ee={debug:function(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return console.debug(`[Uppy] [${Ai()}]`,...n)},warn:function(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return console.warn(`[Uppy] [${Ai()}]`,...n)},error:function(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return console.error(`[Uppy] [${Ai()}]`,...n)}},fe=f(w(),1),le=f(P(),1),Fe={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]},Ke=class extends Error{constructor(){super(...arguments),this.isRestriction=!0}};o(Ke,"RestrictionError");var Ye=class{constructor(r,n){this.i18n=n,this.getOpts=()=>{let c=r();if(c.restrictions.allowedFileTypes!=null&&!Array.isArray(c.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return c}}validate(r,n){let{maxFileSize:c,minFileSize:p,maxTotalFileSize:_,maxNumberOfFiles:O,allowedFileTypes:D}=this.getOpts().restrictions;if(O&&n.filter(N=>!N.isGhost).length+1>O)throw new Ke(`${this.i18n("youCanOnlyUploadX",{smart_count:O})}`);if(D&&!D.some(N=>N.includes("/")?r.type?(0,le.default)(r.type.replace(/;.*?$/,""),N):!1:N[0]==="."&&r.extension?r.extension.toLowerCase()===N.slice(1).toLowerCase():!1)){let N=D.join(", ");throw new Ke(this.i18n("youCanOnlyUploadFileTypes",{types:N}))}if(_&&r.size!=null&&n.reduce((N,Y)=>N+Y.size,r.size)>_)throw new Ke(this.i18n("exceedsSize",{size:(0,fe.default)(_),file:r.name}));if(c&&r.size!=null&&r.size>c)throw new Ke(this.i18n("exceedsSize",{size:(0,fe.default)(c),file:r.name}));if(p&&r.size!=null&&r.size<p)throw new Ke(this.i18n("inferiorSize",{size:(0,fe.default)(p)}))}validateMinNumberOfFiles(r){let{minNumberOfFiles:n}=this.getOpts().restrictions;if(Object.keys(r).length<n)throw new Ke(this.i18n("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(r){let n=new Ke(this.i18n("missingRequiredMetaFieldOnFile",{fileName:r.name})),{requiredMetaFields:c}=this.getOpts().restrictions,p=[];for(let _ of c)(!Object.hasOwn(r.meta,_)||r.meta[_]==="")&&p.push(_);return{missingFields:p,error:n}}};o(Ye,"Restricter");var Tt={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",emptyFolderAdded:"No files were added from empty folder",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"}}},Vt,ti;function ce(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(ce,"_classPrivateFieldLooseBase");var qe=0;function lt(r){return"__private_"+qe+++"_"+r}o(lt,"_classPrivateFieldLooseKey");var Be={version:"3.0.4"},nt=lt("plugins"),Ge=lt("restricter"),Pt=lt("storeUnsubscribe"),Yt=lt("emitter"),_i=lt("preProcessors"),di=lt("uploaders"),Bi=lt("postProcessors"),hi=lt("informAndEmit"),zi=lt("checkRequiredMetaFieldsOnFile"),Ss=lt("checkRequiredMetaFields"),es=lt("assertNewUploadAllowed"),Tr=lt("checkAndCreateFileStateObject"),xa=lt("startIfAutoProceed"),kn=lt("addListeners"),us=lt("updateOnlineStatus"),Dr=lt("createUpload"),en=lt("getUpload"),ka=lt("removeUpload"),aa=lt("runUpload");Vt=Symbol.for("uppy test: getPlugins"),ti=Symbol.for("uppy test: createUpload");var tn=class{constructor(r){Object.defineProperty(this,aa,{value:Kt}),Object.defineProperty(this,ka,{value:bt}),Object.defineProperty(this,en,{value:ne}),Object.defineProperty(this,Dr,{value:It}),Object.defineProperty(this,kn,{value:Ql}),Object.defineProperty(this,xa,{value:wl}),Object.defineProperty(this,Tr,{value:bl}),Object.defineProperty(this,es,{value:vr}),Object.defineProperty(this,Ss,{value:rn}),Object.defineProperty(this,zi,{value:ir}),Object.defineProperty(this,hi,{value:Ir}),Object.defineProperty(this,nt,{writable:!0,value:Object.create(null)}),Object.defineProperty(this,Ge,{writable:!0,value:void 0}),Object.defineProperty(this,Pt,{writable:!0,value:void 0}),Object.defineProperty(this,Yt,{writable:!0,value:(0,Z.default)()}),Object.defineProperty(this,_i,{writable:!0,value:new Set}),Object.defineProperty(this,di,{writable:!0,value:new Set}),Object.defineProperty(this,Bi,{writable:!0,value:new Set}),Object.defineProperty(this,us,{writable:!0,value:this.updateOnlineStatus.bind(this)}),this.defaultLocale=Tt;let n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:Fe,meta:{},onBeforeFileAdded:c=>c,onBeforeUpload:c=>c,store:new Ci,logger:yr,infoTimeout:5e3};this.opts={...n,...r,restrictions:{...n.restrictions,...r&&r.restrictions}},r&&r.logger&&r.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):r&&r.debug&&(this.opts.logger=ee),this.log(`Using Core v${this.constructor.VERSION}`),this.i18nInit(),this.calculateProgress=(0,Ve.default)(this.calculateProgress.bind(this),500,{leading:!0,trailing:!0}),this.store=this.opts.store,this.setState({plugins:{},files:{},currentUploads:{},allowNewUpload:!0,capabilities:{uploadProgress:Ni(),individualCancellation:!0,resumableUploads:!1},totalProgress:0,meta:{...this.opts.meta},info:[],recoveredState:null}),ce(this,Ge)[Ge]=new Ye(()=>this.opts,this.i18n),ce(this,Pt)[Pt]=this.store.subscribe((c,p,_)=>{this.emit("state-update",c,p,_),this.updateAll(p)}),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),ce(this,kn)[kn]()}emit(r){for(var n=arguments.length,c=new Array(n>1?n-1:0),p=1;p<n;p++)c[p-1]=arguments[p];ce(this,Yt)[Yt].emit(r,...c)}on(r,n){return ce(this,Yt)[Yt].on(r,n),this}once(r,n){return ce(this,Yt)[Yt].once(r,n),this}off(r,n){return ce(this,Yt)[Yt].off(r,n),this}updateAll(r){this.iteratePlugins(n=>{n.update(r)})}setState(r){this.store.setState(r)}getState(){return this.store.getState()}setFileState(r,n){if(!this.getState().files[r])throw new Error(`Cant set state for ${r} (the file could have been removed)`);this.setState({files:{...this.getState().files,[r]:{...this.getState().files[r],...n}}})}i18nInit(){let r=new he([this.defaultLocale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.locale=r.locale}setOptions(r){this.opts={...this.opts,...r,restrictions:{...this.opts.restrictions,...r&&r.restrictions}},r.meta&&this.setMeta(r.meta),this.i18nInit(),r.locale&&this.iteratePlugins(n=>{n.setOptions()}),this.setState()}resetProgress(){let r={percentage:0,bytesUploaded:0,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},c={};Object.keys(n).forEach(p=>{let _={...n[p]};_.progress={..._.progress,...r},c[p]=_}),this.setState({files:c,totalProgress:0}),this.emit("reset-progress")}addPreProcessor(r){ce(this,_i)[_i].add(r)}removePreProcessor(r){return ce(this,_i)[_i].delete(r)}addPostProcessor(r){ce(this,Bi)[Bi].add(r)}removePostProcessor(r){return ce(this,Bi)[Bi].delete(r)}addUploader(r){ce(this,di)[di].add(r)}removeUploader(r){return ce(this,di)[di].delete(r)}setMeta(r){let n={...this.getState().meta,...r},c={...this.getState().files};Object.keys(c).forEach(p=>{c[p]={...c[p],meta:{...c[p].meta,...r}}}),this.log("Adding metadata:"),this.log(r),this.setState({meta:n,files:c})}setFileMeta(r,n){let c={...this.getState().files};if(!c[r]){this.log("Was trying to set metadata for a file that has been removed: ",r);return}let p={...c[r].meta,...n};c[r]={...c[r],meta:p},this.setState({files:c})}getFile(r){return this.getState().files[r]}getFiles(){let{files:r}=this.getState();return Object.values(r)}getObjectOfFilesPerState(){let{files:r,totalProgress:n,error:c}=this.getState(),p=Object.values(r),_=p.filter(xe=>{let{progress:We}=xe;return!We.uploadComplete&&We.uploadStarted}),O=p.filter(xe=>!xe.progress.uploadStarted),D=p.filter(xe=>xe.progress.uploadStarted||xe.progress.preprocess||xe.progress.postprocess),N=p.filter(xe=>xe.progress.uploadStarted),Y=p.filter(xe=>xe.isPaused),ie=p.filter(xe=>xe.progress.uploadComplete),X=p.filter(xe=>xe.error),ae=_.filter(xe=>!xe.isPaused),ue=p.filter(xe=>xe.progress.preprocess||xe.progress.postprocess);return{newFiles:O,startedFiles:D,uploadStartedFiles:N,pausedFiles:Y,completeFiles:ie,erroredFiles:X,inProgressFiles:_,inProgressNotPausedFiles:ae,processingFiles:ue,isUploadStarted:N.length>0,isAllComplete:n===100&&ie.length===p.length&&ue.length===0,isAllErrored:!!c&&X.length===p.length,isAllPaused:_.length!==0&&Y.length===_.length,isUploadInProgress:_.length>0,isSomeGhost:p.some(xe=>xe.isGhost)}}validateRestrictions(r,n){n===void 0&&(n=this.getFiles());try{ce(this,Ge)[Ge].validate(r,n)}catch(c){return c}return null}checkIfFileAlreadyExists(r){let{files:n}=this.getState();return!!(n[r]&&!n[r].isGhost)}addFile(r){ce(this,es)[es](r);let{files:n}=this.getState(),c=ce(this,Tr)[Tr](n,r);return n[c.id]&&n[c.id].isGhost&&(c={...n[c.id],data:r.data,isGhost:!1},this.log(`Replaced the blob in the restored ghost file: ${c.name}, ${c.id}`)),this.setState({files:{...n,[c.id]:c}}),this.emit("file-added",c),this.emit("files-added",[c]),this.log(`Added file: ${c.name}, ${c.id}, mime type: ${c.type}`),ce(this,xa)[xa](),c.id}addFiles(r){ce(this,es)[es]();let n={...this.getState().files},c=[],p=[];for(let _=0;_<r.length;_++)try{let O=ce(this,Tr)[Tr](n,r[_]);n[O.id]&&n[O.id].isGhost&&(O={...n[O.id],data:r[_].data,isGhost:!1},this.log(`Replaced blob in a ghost file: ${O.name}, ${O.id}`)),n[O.id]=O,c.push(O)}catch(O){O.isRestriction||p.push(O)}if(this.setState({files:n}),c.forEach(_=>{this.emit("file-added",_)}),this.emit("files-added",c),c.length>5?this.log(`Added batch of ${c.length} files`):Object.keys(c).forEach(_=>{this.log(`Added file: ${c[_].name}
 id: ${c[_].id}
 type: ${c[_].type}`)}),c.length>0&&ce(this,xa)[xa](),p.length>0){let _=`Multiple errors occurred while adding files:
`;if(p.forEach(O=>{_+=`
 * ${O.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:p.length}),details:_},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(p,_);{let O=new Error(_);throw O.errors=p,O}}}removeFiles(r,n){let{files:c,currentUploads:p}=this.getState(),_={...c},O={...p},D=Object.create(null);r.forEach(X=>{c[X]&&(D[X]=c[X],delete _[X])});function N(X){return D[X]===void 0}o(N,"fileIsNotRemoved"),Object.keys(O).forEach(X=>{let ae=p[X].fileIDs.filter(N);if(ae.length===0){delete O[X];return}let{capabilities:ue}=this.getState();if(ae.length!==p[X].fileIDs.length&&!ue.individualCancellation)throw new Error("individualCancellation is disabled");O[X]={...p[X],fileIDs:ae}});let Y={currentUploads:O,files:_};Object.keys(_).length===0&&(Y.allowNewUpload=!0,Y.error=null,Y.recoveredState=null),this.setState(Y),this.calculateTotalProgress();let ie=Object.keys(D);ie.forEach(X=>{this.emit("file-removed",D[X],n)}),ie.length>5?this.log(`Removed ${ie.length} files`):this.log(`Removed files: ${ie.join(", ")}`)}removeFile(r,n){n===void 0&&(n=null),this.removeFiles([r],n)}pauseResume(r){if(!this.getState().capabilities.resumableUploads||this.getFile(r).uploadComplete)return;let n=!this.getFile(r).isPaused;return this.setFileState(r,{isPaused:n}),this.emit("upload-pause",r,n),n}pauseAll(){let r={...this.getState().files};Object.keys(r).filter(n=>!r[n].progress.uploadComplete&&r[n].progress.uploadStarted).forEach(n=>{let c={...r[n],isPaused:!0};r[n]=c}),this.setState({files:r}),this.emit("pause-all")}resumeAll(){let r={...this.getState().files};Object.keys(r).filter(n=>!r[n].progress.uploadComplete&&r[n].progress.uploadStarted).forEach(n=>{let c={...r[n],isPaused:!1,error:null};r[n]=c}),this.setState({files:r}),this.emit("resume-all")}retryAll(){let r={...this.getState().files},n=Object.keys(r).filter(p=>r[p].error);if(n.forEach(p=>{let _={...r[p],isPaused:!1,error:null};r[p]=_}),this.setState({files:r,error:null}),this.emit("retry-all",n),n.length===0)return Promise.resolve({successful:[],failed:[]});let c=ce(this,Dr)[Dr](n,{forceAllowNewUpload:!0});return ce(this,aa)[aa](c)}cancelAll(r){let{reason:n="user"}=r===void 0?{}:r;if(this.emit("cancel-all",{reason:n}),n==="user"){let{files:c}=this.getState(),p=Object.keys(c);p.length&&this.removeFiles(p,"cancel-all"),this.setState({totalProgress:0,error:null,recoveredState:null})}}retryUpload(r){this.setFileState(r,{error:null,isPaused:!1}),this.emit("upload-retry",r);let n=ce(this,Dr)[Dr]([r],{forceAllowNewUpload:!0});return ce(this,aa)[aa](n)}logout(){this.iteratePlugins(r=>{r.provider&&r.provider.logout&&r.provider.logout()})}calculateProgress(r,n){if(r==null||!this.getFile(r.id)){this.log(`Not setting progress for a file that has been removed: ${r==null?void 0:r.id}`);return}let c=Number.isFinite(n.bytesTotal)&&n.bytesTotal>0;this.setFileState(r.id,{progress:{...this.getFile(r.id).progress,bytesUploaded:n.bytesUploaded,bytesTotal:n.bytesTotal,percentage:c?Math.round(n.bytesUploaded/n.bytesTotal*100):0}}),this.calculateTotalProgress()}calculateTotalProgress(){let r=this.getFiles().filter(N=>N.progress.uploadStarted||N.progress.preprocess||N.progress.postprocess);if(r.length===0){this.emit("progress",0),this.setState({totalProgress:0});return}let n=r.filter(N=>N.progress.bytesTotal!=null),c=r.filter(N=>N.progress.bytesTotal==null);if(n.length===0){let N=r.length*100,Y=c.reduce((X,ae)=>X+ae.progress.percentage,0),ie=Math.round(Y/N*100);this.setState({totalProgress:ie});return}let p=n.reduce((N,Y)=>N+Y.progress.bytesTotal,0),_=p/n.length;p+=_*c.length;let O=0;n.forEach(N=>{O+=N.progress.bytesUploaded}),c.forEach(N=>{O+=_*(N.progress.percentage||0)/100});let D=p===0?0:Math.round(O/p*100);D>100&&(D=100),this.setState({totalProgress:D}),this.emit("progress",D)}updateOnlineStatus(){!(typeof window.navigator.onLine<"u")||window.navigator.onLine?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(r,n){if(typeof r!="function"){let O=`Expected a plugin class, but got ${r===null?"null":typeof r}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(O)}let c=new r(this,n),p=c.id;if(!p)throw new Error("Your plugin must have an id");if(!c.type)throw new Error("Your plugin must have a type");let _=this.getPlugin(p);if(_){let O=`Already found a plugin named '${_.id}'. Tried to use: '${p}'.
Uppy plugins must have unique \`id\` options. See https://uppy.io/docs/plugins/#id.`;throw new Error(O)}return r.VERSION&&this.log(`Using ${p} v${r.VERSION}`),c.type in ce(this,nt)[nt]?ce(this,nt)[nt][c.type].push(c):ce(this,nt)[nt][c.type]=[c],c.install(),this}getPlugin(r){for(let n of Object.values(ce(this,nt)[nt])){let c=n.find(p=>p.id===r);if(c!=null)return c}}[Vt](r){return ce(this,nt)[nt][r]}iteratePlugins(r){Object.values(ce(this,nt)[nt]).flat(1).forEach(r)}removePlugin(r){this.log(`Removing plugin ${r.id}`),this.emit("plugin-remove",r),r.uninstall&&r.uninstall();let n=ce(this,nt)[nt][r.type],c=n.findIndex(_=>_.id===r.id);c!==-1&&n.splice(c,1);let p={plugins:{...this.getState().plugins,[r.id]:void 0}};this.setState(p)}close(r){let{reason:n}=r===void 0?{}:r;this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll({reason:n}),ce(this,Pt)[Pt](),this.iteratePlugins(c=>{this.removePlugin(c)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",ce(this,us)[us]),window.removeEventListener("offline",ce(this,us)[us]))}hideInfo(){let{info:r}=this.getState();this.setState({info:r.slice(1)}),this.emit("info-hidden")}info(r,n,c){n===void 0&&(n="info"),c===void 0&&(c=3e3);let p=typeof r=="object";this.setState({info:[...this.getState().info,{type:n,message:p?r.message:r,details:p?r.details:null}]}),setTimeout(()=>this.hideInfo(),c),this.emit("info-visible")}log(r,n){let{logger:c}=this.opts;switch(n){case"error":c.error(r);break;case"warning":c.warn(r);break;default:c.debug(r);break}}restore(r){return this.log(`Core: attempting to restore upload "${r}"`),this.getState().currentUploads[r]?ce(this,aa)[aa](r):(ce(this,ka)[ka](r),Promise.reject(new Error("Nonexistent upload")))}[ti](){return ce(this,Dr)[Dr](...arguments)}addResultData(r,n){if(!ce(this,en)[en](r)){this.log(`Not setting result for an upload that has been removed: ${r}`);return}let{currentUploads:c}=this.getState(),p={...c[r],result:{...c[r].result,...n}};this.setState({currentUploads:{...c,[r]:p}})}upload(){var r;(r=ce(this,nt)[nt].uploader)!=null&&r.length||this.log("No uploader type plugins are used","warning");let{files:n}=this.getState(),c=this.opts.onBeforeUpload(n);return c===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(c&&typeof c=="object"&&(n=c,this.setState({files:n})),Promise.resolve().then(()=>ce(this,Ge)[Ge].validateMinNumberOfFiles(n)).catch(p=>{throw ce(this,hi)[hi](p),p}).then(()=>{if(!ce(this,Ss)[Ss](n))throw new Ke(this.i18n("missingRequiredMetaField"))}).catch(p=>{throw p}).then(()=>{let{currentUploads:p}=this.getState(),_=Object.values(p).flatMap(N=>N.fileIDs),O=[];Object.keys(n).forEach(N=>{let Y=this.getFile(N);!Y.progress.uploadStarted&&_.indexOf(N)===-1&&O.push(Y.id)});let D=ce(this,Dr)[Dr](O);return ce(this,aa)[aa](D)}).catch(p=>{throw this.emit("error",p),this.log(p,"error"),p}))}};o(tn,"Uppy");function Ir(r,n){let{message:c,details:p=""}=r;r.isRestriction?this.emit("restriction-failed",n,r):this.emit("error",r),this.info({message:c,details:p},"error",this.opts.infoTimeout),this.log(`${c} ${p}`.trim(),"error")}o(Ir,"_informAndEmit2");function ir(r){let{missingFields:n,error:c}=ce(this,Ge)[Ge].getMissingRequiredMetaFields(r);return n.length>0?(this.setFileState(r.id,{missingRequiredMetaFields:n}),this.log(c.message),this.emit("restriction-failed",r,c),!1):!0}o(ir,"_checkRequiredMetaFieldsOnFile2");function rn(r){let n=!0;for(let c of Object.values(r))ce(this,zi)[zi](c)||(n=!1);return n}o(rn,"_checkRequiredMetaFields2");function vr(r){let{allowNewUpload:n}=this.getState();if(n===!1){let c=new Ke(this.i18n("noMoreFilesAllowed"));throw ce(this,hi)[hi](c,r),c}}o(vr,"_assertNewUploadAllowed2");function bl(r,n){n instanceof File&&(n={name:n.name,type:n.type,size:n.size,data:n});let c=Ui(n),p=Fr(c,n),_=rt(p).extension,O=!!n.isRemote,D=Nt({...n,type:c});if(this.checkIfFileAlreadyExists(D)){let ae=new Ke(this.i18n("noDuplicates",{fileName:p}));throw ce(this,hi)[hi](ae,n),ae}let N=n.meta||{};N.name=p,N.type=c;let Y=Number.isFinite(n.data.size)?n.data.size:null,ie={source:n.source||"",id:D,name:p,extension:_||"",meta:{...this.getState().meta,...N},type:c,data:n.data,progress:{percentage:0,bytesUploaded:0,bytesTotal:Y,uploadComplete:!1,uploadStarted:null},size:Y,isRemote:O,remote:n.remote||"",preview:n.preview},X=this.opts.onBeforeFileAdded(ie,r);if(X===!1){let ae=new Ke("Cannot add the file because onBeforeFileAdded returned false.");throw this.emit("restriction-failed",n,ae),ae}else typeof X=="object"&&X!==null&&(ie=X);try{let ae=Object.keys(r).map(ue=>r[ue]);ce(this,Ge)[Ge].validate(ie,ae)}catch(ae){throw ce(this,hi)[hi](ae,ie),ae}return ie}o(bl,"_checkAndCreateFileStateObject2");function wl(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(r=>{r.isRestriction||this.log(r.stack||r.message||r)})},4))}o(wl,"_startIfAutoProceed2");function Ql(){let r=o((n,c,p)=>{let _=n.message||"Unknown error";n.details&&(_+=` ${n.details}`),this.setState({error:_}),c!=null&&c.id in this.getState().files&&this.setFileState(c.id,{error:_,response:p})},"errorHandler");this.on("error",r),this.on("upload-error",(n,c,p)=>{if(r(c,n,p),typeof c=="object"&&c.message){let _=new Error(c.message);_.details=c.message,c.details&&(_.details+=` ${c.details}`),_.message=this.i18n("failedToUpload",{file:n==null?void 0:n.name}),ce(this,hi)[hi](_)}else ce(this,hi)[hi](c)}),this.on("upload",()=>{this.setState({error:null})}),this.on("upload-started",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,percentage:0,bytesUploaded:0,bytesTotal:n.size}})}),this.on("upload-progress",this.calculateProgress),this.on("upload-success",(n,c)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}let p=this.getFile(n.id).progress;this.setFileState(n.id,{progress:{...p,postprocess:ce(this,Bi)[Bi].size>0?{mode:"indeterminate"}:null,uploadComplete:!0,percentage:100,bytesUploaded:p.bytesTotal},response:c,uploadURL:c.uploadURL,isPaused:!1}),n.size==null&&this.setFileState(n.id,{size:c.bytesUploaded||p.bytesTotal}),this.calculateTotalProgress()}),this.on("preprocess-progress",(n,c)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getFile(n.id).progress,preprocess:c}})}),this.on("preprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}let c={...this.getState().files};c[n.id]={...c[n.id],progress:{...c[n.id].progress}},delete c[n.id].progress.preprocess,this.setState({files:c})}),this.on("postprocess-progress",(n,c)=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}this.setFileState(n.id,{progress:{...this.getState().files[n.id].progress,postprocess:c}})}),this.on("postprocess-complete",n=>{if(n==null||!this.getFile(n.id)){this.log(`Not setting progress for a file that has been removed: ${n==null?void 0:n.id}`);return}let c={...this.getState().files};c[n.id]={...c[n.id],progress:{...c[n.id].progress}},delete c[n.id].progress.postprocess,this.setState({files:c})}),this.on("restored",()=>{this.calculateTotalProgress()}),this.on("dashboard:file-edit-complete",n=>{n&&ce(this,zi)[zi](n)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",ce(this,us)[us]),window.addEventListener("offline",ce(this,us)[us]),setTimeout(ce(this,us)[us],3e3))}o(Ql,"_addListeners2");function It(r,n){n===void 0&&(n={});let{forceAllowNewUpload:c=!1}=n,{allowNewUpload:p,currentUploads:_}=this.getState();if(!p&&!c)throw new Error("Cannot create a new upload: already uploading.");let O=Ie();return this.emit("upload",{id:O,fileIDs:r}),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{..._,[O]:{fileIDs:r,step:0,result:{}}}}),O}o(It,"_createUpload2");function ne(r){let{currentUploads:n}=this.getState();return n[r]}o(ne,"_getUpload2");function bt(r){let n={...this.getState().currentUploads};delete n[r],this.setState({currentUploads:n})}o(bt,"_removeUpload2");async function Kt(r){let{currentUploads:n}=this.getState(),c=n[r],p=c.step||0,_=[...ce(this,_i)[_i],...ce(this,di)[di],...ce(this,Bi)[Bi]];try{for(let D=p;D<_.length&&c;D++){let N=_[D],Y={...c,step:D};this.setState({currentUploads:{...n,[r]:Y}}),await N(Y.fileIDs,r),n=this.getState().currentUploads,c=n[r]}}catch(D){throw ce(this,ka)[ka](r),D}if(c){c.fileIDs.forEach(ie=>{let X=this.getFile(ie);X&&X.progress.postprocess&&this.emit("postprocess-complete",X)});let D=c.fileIDs.map(ie=>this.getFile(ie)),N=D.filter(ie=>!ie.error),Y=D.filter(ie=>ie.error);await this.addResultData(r,{successful:N,failed:Y,uploadID:r}),n=this.getState().currentUploads,c=n[r]}let O;return c&&(O=c.result,this.emit("complete",O),ce(this,ka)[ka](r)),O==null&&this.log(`Not setting result for an upload that has been removed: ${r}`),O}o(Kt,"_runUpload2"),tn.VERSION=Be.version;var Cr=tn,br,qt,Jr,ts,Sn,zr={},Gn=[],Ts=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function na(r,n){for(var c in n)r[c]=n[c];return r}o(na,"s");function Ah(r){var n=r.parentNode;n&&n.removeChild(r)}o(Ah,"a");function v(r,n,c){var p,_,O,D={};for(O in n)O=="key"?p=n[O]:O=="ref"?_=n[O]:D[O]=n[O];if(arguments.length>2&&(D.children=arguments.length>3?br.call(arguments,2):c),typeof r=="function"&&r.defaultProps!=null)for(O in r.defaultProps)D[O]===void 0&&(D[O]=r.defaultProps[O]);return H(r,D,p,_,null)}o(v,"h");function H(r,n,c,p,_){var O={type:r,props:n,key:c,ref:p,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_??++Jr};return _==null&&qt.vnode!=null&&qt.vnode(O),O}o(H,"v");function W(){return{current:null}}o(W,"y");function V(r){return r.children}o(V,"p");function se(r,n){this.props=r,this.context=n}o(se,"d");function re(r,n){if(n==null)return r.__?re(r.__,r.__.__k.indexOf(r)+1):null;for(var c;n<r.__k.length;n++)if((c=r.__k[n])!=null&&c.__e!=null)return c.__e;return typeof r.type=="function"?re(r):null}o(re,"_");function ye(r){var n,c;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,n=0;n<r.__k.length;n++)if((c=r.__k[n])!=null&&c.__e!=null){r.__e=r.__c.base=c.__e;break}return ye(r)}}o(ye,"k");function _e(r){(!r.__d&&(r.__d=!0)&&ts.push(r)&&!be.__r++||Sn!==qt.debounceRendering)&&((Sn=qt.debounceRendering)||setTimeout)(be)}o(_e,"b");function be(){for(var r;be.__r=ts.length;)r=ts.sort(function(n,c){return n.__v.__b-c.__v.__b}),ts=[],r.some(function(n){var c,p,_,O,D,N;n.__d&&(D=(O=(c=n).__v).__e,(N=c.__P)&&(p=[],(_=na({},O)).__v=O.__v+1,Ee(N,O,_,c.__n,N.ownerSVGElement!==void 0,O.__h!=null?[D]:null,p,D??re(O),O.__h),Ct(p,O),O.__e!=D&&ye(O)))})}o(be,"g");function tt(r,n,c,p,_,O,D,N,Y,ie){var X,ae,ue,xe,We,Mt,wt,Ht=p&&p.__k||Gn,xi=Ht.length;for(c.__k=[],X=0;X<n.length;X++)if((xe=c.__k[X]=(xe=n[X])==null||typeof xe=="boolean"?null:typeof xe=="string"||typeof xe=="number"||typeof xe=="bigint"?H(null,xe,null,null,xe):Array.isArray(xe)?H(V,{children:xe},null,null,null):xe.__b>0?H(xe.type,xe.props,xe.key,null,xe.__v):xe)!=null){if(xe.__=c,xe.__b=c.__b+1,(ue=Ht[X])===null||ue&&xe.key==ue.key&&xe.type===ue.type)Ht[X]=void 0;else for(ae=0;ae<xi;ae++){if((ue=Ht[ae])&&xe.key==ue.key&&xe.type===ue.type){Ht[ae]=void 0;break}ue=null}Ee(r,xe,ue=ue||zr,_,O,D,N,Y,ie),We=xe.__e,(ae=xe.ref)&&ue.ref!=ae&&(wt||(wt=[]),ue.ref&&wt.push(ue.ref,null,xe),wt.push(ae,xe.__c||We,xe)),We!=null?(Mt==null&&(Mt=We),typeof xe.type=="function"&&xe.__k===ue.__k?xe.__d=Y=Le(xe,Y,r):Y=Qe(r,xe,ue,Ht,We,Y),typeof c.type=="function"&&(c.__d=Y)):Y&&ue.__e==Y&&Y.parentNode!=r&&(Y=re(ue))}for(c.__e=Mt,X=xi;X--;)Ht[X]!=null&&(typeof c.type=="function"&&Ht[X].__e!=null&&Ht[X].__e==c.__d&&(c.__d=re(p,X+1)),we(Ht[X],Ht[X]));if(wt)for(X=0;X<wt.length;X++)Ft(wt[X],wt[++X],wt[++X])}o(tt,"w");function Le(r,n,c){for(var p,_=r.__k,O=0;_&&O<_.length;O++)(p=_[O])&&(p.__=r,n=typeof p.type=="function"?Le(p,n,c):Qe(c,p,p,_,p.__e,n));return n}o(Le,"m");function Re(r,n){return n=n||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(c){Re(c,n)}):n.push(r)),n}o(Re,"x");function Qe(r,n,c,p,_,O){var D,N,Y;if(n.__d!==void 0)D=n.__d,n.__d=void 0;else if(c==null||_!=O||_.parentNode==null)e:if(O==null||O.parentNode!==r)r.appendChild(_),D=null;else{for(N=O,Y=0;(N=N.nextSibling)&&Y<p.length;Y+=2)if(N==_)break e;r.insertBefore(_,O),D=O}return D!==void 0?D:_.nextSibling}o(Qe,"A");function Oe(r,n,c,p,_){var O;for(O in c)O==="children"||O==="key"||O in n||ge(r,O,null,c[O],p);for(O in n)_&&typeof n[O]!="function"||O==="children"||O==="key"||O==="value"||O==="checked"||c[O]===n[O]||ge(r,O,n[O],c[O],p)}o(Oe,"C");function Se(r,n,c){n[0]==="-"?r.setProperty(n,c):r[n]=c==null?"":typeof c!="number"||Ts.test(n)?c:c+"px"}o(Se,"$");function ge(r,n,c,p,_){var O;e:if(n==="style")if(typeof c=="string")r.style.cssText=c;else{if(typeof p=="string"&&(r.style.cssText=p=""),p)for(n in p)c&&n in c||Se(r.style,n,"");if(c)for(n in c)p&&c[n]===p[n]||Se(r.style,n,c[n])}else if(n[0]==="o"&&n[1]==="n")O=n!==(n=n.replace(/Capture$/,"")),n=n.toLowerCase()in r?n.toLowerCase().slice(2):n.slice(2),r.l||(r.l={}),r.l[n+O]=c,c?p||r.addEventListener(n,O?Te:me,O):r.removeEventListener(n,O?Te:me,O);else if(n!=="dangerouslySetInnerHTML"){if(_)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(n!=="href"&&n!=="list"&&n!=="form"&&n!=="tabIndex"&&n!=="download"&&n in r)try{r[n]=c??"";break e}catch{}typeof c=="function"||(c!=null&&(c!==!1||n[0]==="a"&&n[1]==="r")?r.setAttribute(n,c):r.removeAttribute(n))}}o(ge,"H");function me(r){this.l[r.type+!1](qt.event?qt.event(r):r)}o(me,"I");function Te(r){this.l[r.type+!0](qt.event?qt.event(r):r)}o(Te,"T");function Ee(r,n,c,p,_,O,D,N,Y){var ie,X,ae,ue,xe,We,Mt,wt,Ht,xi,Zt,ht,pt,dt=n.type;if(n.constructor!==void 0)return null;c.__h!=null&&(Y=c.__h,N=n.__e=c.__e,n.__h=null,O=[N]),(ie=qt.__b)&&ie(n);try{e:if(typeof dt=="function"){if(wt=n.props,Ht=(ie=dt.contextType)&&p[ie.__c],xi=ie?Ht?Ht.props.value:ie.__:p,c.__c?Mt=(X=n.__c=c.__c).__=X.__E:("prototype"in dt&&dt.prototype.render?n.__c=X=new dt(wt,xi):(n.__c=X=new se(wt,xi),X.constructor=dt,X.render=st),Ht&&Ht.sub(X),X.props=wt,X.state||(X.state={}),X.context=xi,X.__n=p,ae=X.__d=!0,X.__h=[]),X.__s==null&&(X.__s=X.state),dt.getDerivedStateFromProps!=null&&(X.__s==X.state&&(X.__s=na({},X.__s)),na(X.__s,dt.getDerivedStateFromProps(wt,X.__s))),ue=X.props,xe=X.state,ae)dt.getDerivedStateFromProps==null&&X.componentWillMount!=null&&X.componentWillMount(),X.componentDidMount!=null&&X.__h.push(X.componentDidMount);else{if(dt.getDerivedStateFromProps==null&&wt!==ue&&X.componentWillReceiveProps!=null&&X.componentWillReceiveProps(wt,xi),!X.__e&&X.shouldComponentUpdate!=null&&X.shouldComponentUpdate(wt,X.__s,xi)===!1||n.__v===c.__v){X.props=wt,X.state=X.__s,n.__v!==c.__v&&(X.__d=!1),X.__v=n,n.__e=c.__e,n.__k=c.__k,n.__k.forEach(function(De){De&&(De.__=n)}),X.__h.length&&D.push(X);break e}X.componentWillUpdate!=null&&X.componentWillUpdate(wt,X.__s,xi),X.componentDidUpdate!=null&&X.__h.push(function(){X.componentDidUpdate(ue,xe,We)})}if(X.context=xi,X.props=wt,X.__v=n,X.__P=r,Zt=qt.__r,ht=0,"prototype"in dt&&dt.prototype.render)X.state=X.__s,X.__d=!1,Zt&&Zt(n),ie=X.render(X.props,X.state,X.context);else do X.__d=!1,Zt&&Zt(n),ie=X.render(X.props,X.state,X.context),X.state=X.__s;while(X.__d&&++ht<25);X.state=X.__s,X.getChildContext!=null&&(p=na(na({},p),X.getChildContext())),ae||X.getSnapshotBeforeUpdate==null||(We=X.getSnapshotBeforeUpdate(ue,xe)),pt=ie!=null&&ie.type===V&&ie.key==null?ie.props.children:ie,tt(r,Array.isArray(pt)?pt:[pt],n,c,p,_,O,D,N,Y),X.base=n.__e,n.__h=null,X.__h.length&&D.push(X),Mt&&(X.__E=X.__=null),X.__e=!1}else O==null&&n.__v===c.__v?(n.__k=c.__k,n.__e=c.__e):n.__e=je(c.__e,n,c,p,_,O,D,Y);(ie=qt.diffed)&&ie(n)}catch(De){n.__v=null,(Y||O!=null)&&(n.__e=N,n.__h=!!Y,O[O.indexOf(N)]=null),qt.__e(De,n,c)}}o(Ee,"j");function Ct(r,n){qt.__c&&qt.__c(n,r),r.some(function(c){try{r=c.__h,c.__h=[],r.some(function(p){p.call(c)})}catch(p){qt.__e(p,c.__v)}})}o(Ct,"z");function je(r,n,c,p,_,O,D,N){var Y,ie,X,ae=c.props,ue=n.props,xe=n.type,We=0;if(xe==="svg"&&(_=!0),O!=null){for(;We<O.length;We++)if((Y=O[We])&&"setAttribute"in Y==!!xe&&(xe?Y.localName===xe:Y.nodeType===3)){r=Y,O[We]=null;break}}if(r==null){if(xe===null)return document.createTextNode(ue);r=_?document.createElementNS("http://www.w3.org/2000/svg",xe):document.createElement(xe,ue.is&&ue),O=null,N=!1}if(xe===null)ae===ue||N&&r.data===ue||(r.data=ue);else{if(O=O&&br.call(r.childNodes),ie=(ae=c.props||zr).dangerouslySetInnerHTML,X=ue.dangerouslySetInnerHTML,!N){if(O!=null)for(ae={},We=0;We<r.attributes.length;We++)ae[r.attributes[We].name]=r.attributes[We].value;(X||ie)&&(X&&(ie&&X.__html==ie.__html||X.__html===r.innerHTML)||(r.innerHTML=X&&X.__html||""))}if(Oe(r,ue,ae,_,N),X)n.__k=[];else if(We=n.props.children,tt(r,Array.isArray(We)?We:[We],n,c,p,_&&xe!=="foreignObject",O,D,O?O[0]:c.__k&&re(c,0),N),O!=null)for(We=O.length;We--;)O[We]!=null&&Ah(O[We]);N||("value"in ue&&(We=ue.value)!==void 0&&(We!==r.value||xe==="progress"&&!We||xe==="option"&&We!==ae.value)&&ge(r,"value",We,ae.value,!1),"checked"in ue&&(We=ue.checked)!==void 0&&We!==r.checked&&ge(r,"checked",We,ae.checked,!1))}return r}o(je,"L");function Ft(r,n,c){try{typeof r=="function"?r(n):r.current=n}catch(p){qt.__e(p,c)}}o(Ft,"M");function we(r,n,c){var p,_;if(qt.unmount&&qt.unmount(r),(p=r.ref)&&(p.current&&p.current!==r.__e||Ft(p,null,n)),(p=r.__c)!=null){if(p.componentWillUnmount)try{p.componentWillUnmount()}catch(O){qt.__e(O,n)}p.base=p.__P=null}if(p=r.__k)for(_=0;_<p.length;_++)p[_]&&we(p[_],n,typeof r.type!="function");c||r.__e==null||Ah(r.__e),r.__e=r.__d=void 0}o(we,"N");function st(r,n,c){return this.constructor(r,c)}o(st,"O");function it(r,n,c){var p,_,O;qt.__&&qt.__(r,n),_=(p=typeof c=="function")?null:c&&c.__k||n.__k,O=[],Ee(n,r=(!p&&c||n).__k=v(V,null,[r]),_||zr,zr,n.ownerSVGElement!==void 0,!p&&c?[c]:_?null:n.firstChild?br.call(n.childNodes):null,O,!p&&c?c:_?_.__e:n.firstChild,p),Ct(O,r)}o(it,"P");function oe(r,n,c){var p,_,O,D=na({},r.props);for(O in n)O=="key"?p=n[O]:O=="ref"?_=n[O]:D[O]=n[O];return arguments.length>2&&(D.children=arguments.length>3?br.call(arguments,2):c),H(r.type,D,p||r.key,_||r.ref,null)}o(oe,"q"),br=Gn.slice,qt={__e:function(r,n,c,p){for(var _,O,D;n=n.__;)if((_=n.__c)&&!_.__)try{if((O=_.constructor)&&O.getDerivedStateFromError!=null&&(_.setState(O.getDerivedStateFromError(r)),D=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(r,p||{}),D=_.__d),D)return _.__E=_}catch(N){r=N}throw r}},Jr=0,o(function(r){return r!=null&&r.constructor===void 0},"i"),se.prototype.setState=function(r,n){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=na({},this.state),typeof r=="function"&&(r=r(na({},c),this.props)),r&&na(c,r),r!=null&&this.__v&&(n&&this.__h.push(n),_e(this))},se.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),_e(this))},se.prototype.render=V,ts=[],be.__r=0;function ke(r){return(r==null?void 0:r.nodeType)===Node.ELEMENT_NODE}o(ke,"isDOMElement");function Ue(r,n){return n===void 0&&(n=document),typeof r=="string"?n.querySelector(r):ke(r)?r:null}o(Ue,"findDOMElement");function He(r){for(var n;r&&!r.dir;)r=r.parentNode;return(n=r)==null?void 0:n.dir}o(He,"getTextDirection");var ft=He,$e=class{constructor(r,n){n===void 0&&(n={}),this.uppy=r,this.opts=n}getPluginState(){let{plugins:r}=this.uppy.getState();return r[this.id]||{}}setPluginState(r){let{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...r}}})}setOptions(r){this.opts={...this.opts,...r},this.setPluginState(),this.i18nInit()}i18nInit(){let r=new he([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=r.translate.bind(r),this.i18nArray=r.translateArray.bind(r),this.setPluginState()}addTarget(){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}render(){throw new Error("Extend the render method to add your plugin to a DOM element")}update(){}afterUpdate(){}};o($e,"BasePlugin");function Ri(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Ri,"_classPrivateFieldLooseBase");var Fi=0;function ki(r){return"__private_"+Fi+++"_"+r}o(ki,"_classPrivateFieldLooseKey");function vi(r){let n=null,c=null;return function(){for(var p=arguments.length,_=new Array(p),O=0;O<p;O++)_[O]=arguments[O];return c=_,n||(n=Promise.resolve().then(()=>(n=null,r(...c)))),n}}o(vi,"debounce");var Qt=ki("updateUI"),zt=class extends $e{constructor(){super(...arguments),Object.defineProperty(this,Qt,{writable:!0,value:void 0})}getTargetPlugin(r){let n;if(typeof r=="object"&&r instanceof zt)n=r;else if(typeof r=="function"){let c=r;this.uppy.iteratePlugins(p=>{p instanceof c&&(n=p)})}return n}mount(r,n){let c=n.id,p=Ue(r);if(p){this.isTargetDOMEl=!0;let D=document.createElement("div");return D.classList.add("uppy-Root"),Ri(this,Qt)[Qt]=vi(N=>{!this.uppy.getPlugin(this.id)||(it(this.render(N),D),this.afterUpdate())}),this.uppy.log(`Installing ${c} to a DOM element '${r}'`),this.opts.replaceTargetContent&&(p.innerHTML=""),it(this.render(this.uppy.getState()),D),this.el=D,p.appendChild(D),D.dir=this.opts.direction||ft(D)||"ltr",this.onMount(),this.el}let _=this.getTargetPlugin(r);if(_)return this.uppy.log(`Installing ${c} to ${_.id}`),this.parent=_,this.el=_.addTarget(n),this.onMount(),this.el;this.uppy.log(`Not installing ${c}`);let O=`Invalid target option given to ${c}.`;throw typeof r=="function"?O+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":O+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(O)}update(r){if(this.el!=null){var n,c;(n=(c=Ri(this,Qt))[Qt])==null||n.call(c,r)}}unmount(){if(this.isTargetDOMEl){var r;(r=this.el)==null||r.remove()}this.onUnmount()}onMount(){}onUnmount(){}};o(zt,"UIPlugin");var vt=zt,Ze={};d(Ze,{Provider:()=>is,RequestClient:()=>za,SearchProvider:()=>eb,Socket:()=>Lh});var Hi=class extends Error{constructor(r,n){n===void 0&&(n=null),super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall."),this.cause=r,this.isNetworkError=!0,this.request=n}};o(Hi,"NetworkError");var ii=Hi;function Mr(){return fetch(...arguments).catch(r=>{throw r.name==="AbortError"?r:new ii(r)})}o(Mr,"fetchWithNetworkError");var Er=class extends Error{constructor(r,n){n===void 0&&(n={}),super(r),this.cause=n.cause,this.cause&&x(this.cause,"isNetworkError")&&(this.isNetworkError=this.cause.isNetworkError)}};o(Er,"ErrorWithCause");var Sa=Er,Lr=class extends Error{constructor(){super("Authorization required"),this.name="AuthError",this.isAuthError=!0}};o(Lr,"AuthError");var rr=Lr,Ne;function ni(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(ni,"_classPrivateFieldLooseBase");var wr=0;function Cs(r){return"__private_"+wr+++"_"+r}o(Cs,"_classPrivateFieldLooseKey");var qr={version:"3.1.1"};function Ba(r){return r.replace(/\/$/,"")}o(Ba,"stripSlash");async function Ph(r){if(r.status===401)throw new rr;let n=r.json();if(r.ok)return n;let c=`Failed request with status: ${r.status}. ${r.statusText}`;try{let p=await n;c=p.message?`${c} message: ${p.message}`:c,c=p.requestId?`${c} request-Id: ${p.requestId}`:c}catch{}throw new Error(c)}o(Ph,"handleJSONResponse");var So=new Map,Ls=Cs("companionHeaders"),Na=Cs("getUrl"),Jl=Cs("request");Ne=Symbol.for("uppy test: getCompanionHeaders");var za=class{constructor(r,n){Object.defineProperty(this,Jl,{value:AS}),Object.defineProperty(this,Na,{value:OS}),Object.defineProperty(this,Ls,{writable:!0,value:void 0}),this.uppy=r,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),ni(this,Ls)[Ls]=n==null?void 0:n.companionHeaders}setCompanionHeaders(r){ni(this,Ls)[Ls]=r}[Ne](){return ni(this,Ls)[Ls]}get hostname(){let{companion:r}=this.uppy.getState(),n=this.opts.companionUrl;return Ba(r&&r[n]?r[n]:n)}async headers(){return{Accept:"application/json","Content-Type":"application/json","Uppy-Versions":`@uppy/companion-client=${za.VERSION}`,...ni(this,Ls)[Ls]}}onReceiveResponse(r){let{headers:n}=r,c=this.uppy.getState().companion||{},p=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==c[p]&&this.uppy.setState({companion:{...c,[p]:n.get("i-am")}})}async preflight(r){let n=So.get(this.hostname);if(n!=null)return n;let c=["accept","content-type","uppy-auth-token"],p=(async()=>{try{let _=(await fetch(ni(this,Na)[Na](r),{method:"OPTIONS"})).headers.get("access-control-allow-headers");if(_==null||_==="*")return So.set(this.hostname,c),c;this.uppy.log(`[CompanionClient] adding allowed preflight headers to companion cache: ${this.hostname} ${_}`);let O=_.split(",").map(D=>D.trim().toLowerCase());return So.set(this.hostname,O),O}catch(_){return this.uppy.log(`[CompanionClient] unable to make preflight request ${_}`,"warning"),So.delete(this.hostname),c}})();return So.set(this.hostname,p),p}async preflightAndHeaders(r){let[n,c]=await Promise.all([this.preflight(r),this.headers()]);return Object.fromEntries(Object.entries(c).filter(p=>{let[_]=p;return n.includes(_.toLowerCase())?!0:(this.uppy.log(`[CompanionClient] excluding disallowed header ${_}`),!1)}))}async get(r,n){return n===void 0&&(n=void 0),typeof n=="boolean"&&(n={skipPostResponse:n}),ni(this,Jl)[Jl]({...n,path:r})}async post(r,n,c){return c===void 0&&(c=void 0),typeof c=="boolean"&&(c={skipPostResponse:c}),ni(this,Jl)[Jl]({...c,path:r,method:"POST",data:n})}async delete(r,n,c){return n===void 0&&(n=void 0),typeof c=="boolean"&&(c={skipPostResponse:c}),ni(this,Jl)[Jl]({...c,path:r,method:"DELETE",data:n})}};o(za,"RequestClient");function OS(r){return/^(https?:|)\/\//.test(r)?r:`${this.hostname}/${r}`}o(OS,"_getUrl2");async function AS(r){let{path:n,method:c="GET",data:p,skipPostResponse:_,signal:O}=r;try{let D=await this.preflightAndHeaders(n),N=await Mr(ni(this,Na)[Na](n),{method:c,signal:O,headers:D,credentials:this.opts.companionCookiesRule||"same-origin",body:p?JSON.stringify(p):null});return _||this.onReceiveResponse(N),Ph(N)}catch(D){throw D!=null&&D.isAuthError?D:new Sa(`Could not ${c} ${ni(this,Na)[Na](n)}`,{cause:D})}}o(AS,"_request2"),za.VERSION=qr.version;var PS={};d(PS,{getItem:()=>LS,removeItem:()=>RS,setItem:()=>MS});function MS(r,n){return new Promise(c=>{localStorage.setItem(r,n),c()})}o(MS,"setItem");function LS(r){return Promise.resolve(localStorage.getItem(r))}o(LS,"getItem");function RS(r){return new Promise(n=>{localStorage.removeItem(r),n()})}o(RS,"removeItem");var zN=o(r=>r.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),"getName"),is=class extends za{constructor(r,n){super(r,n),this.provider=n.provider,this.id=this.provider,this.name=this.opts.name||zN(this.id),this.pluginId=this.opts.pluginId,this.tokenKey=`companion-${this.pluginId}-auth-token`,this.companionKeysParams=this.opts.companionKeysParams,this.preAuthToken=null}async headers(){let[r,n]=await Promise.all([super.headers(),this.getAuthToken()]),c={};return n&&(c["uppy-auth-token"]=n),this.companionKeysParams&&(c["uppy-credentials-params"]=btoa(JSON.stringify({params:this.companionKeysParams}))),{...r,...c}}onReceiveResponse(r){super.onReceiveResponse(r);let n=this.uppy.getPlugin(this.pluginId),c=n.getPluginState().authenticated?r.status!==401:r.status<400;return n.setPluginState({authenticated:c}),r}setAuthToken(r){return this.uppy.getPlugin(this.pluginId).storage.setItem(this.tokenKey,r)}getAuthToken(){return this.uppy.getPlugin(this.pluginId).storage.getItem(this.tokenKey)}async ensurePreAuth(){if(this.companionKeysParams&&!this.preAuthToken&&(await this.fetchPreAuthToken(),!this.preAuthToken))throw new Error("Could not load authentication data required for third-party login. Please try again later.")}authUrl(r){r===void 0&&(r={});let n=new URLSearchParams(r);return this.preAuthToken&&n.set("uppyPreAuthToken",this.preAuthToken),`${this.hostname}/${this.id}/connect?${n}`}fileUrl(r){return`${this.hostname}/${this.id}/get/${r}`}async fetchPreAuthToken(){if(this.companionKeysParams)try{let r=await this.post(`${this.id}/preauth/`,{params:this.companionKeysParams});this.preAuthToken=r.token}catch(r){this.uppy.log(`[CompanionClient] unable to fetch preAuthToken ${r}`,"warning")}}list(r){return this.get(`${this.id}/list/${r||""}`)}logout(){return this.get(`${this.id}/logout`).then(r=>Promise.all([r,this.uppy.getPlugin(this.pluginId).storage.removeItem(this.tokenKey)])).then(r=>{let[n]=r;return n})}static initPlugin(r,n,c){if(r.type="acquirer",r.files=[],c&&(r.opts={...c,...n}),n.serverUrl||n.serverPattern)throw new Error("`serverUrl` and `serverPattern` have been renamed to `companionUrl` and `companionAllowedHosts` respectively in the 0.30.5 release. Please consult the docs (for example, https://uppy.io/docs/instagram/ for the Instagram plugin) and use the updated options.`");if(n.companionAllowedHosts){let p=n.companionAllowedHosts;if(typeof p!="string"&&!Array.isArray(p)&&!(p instanceof RegExp))throw new TypeError(`${r.id}: the option "companionAllowedHosts" must be one of string, Array, RegExp`);r.opts.companionAllowedHosts=p}else/^(?!https?:\/\/).*$/i.test(n.companionUrl)?r.opts.companionAllowedHosts=`https://${n.companionUrl.replace(/^\/\//,"")}`:r.opts.companionAllowedHosts=new URL(n.companionUrl).origin;r.storage=r.opts.storage||PS}};o(is,"Provider");var UN=o(r=>r.split("-").map(n=>n.charAt(0).toUpperCase()+n.slice(1)).join(" "),"getName"),eb=class extends za{constructor(r,n){super(r,n),this.provider=n.provider,this.id=this.provider,this.name=this.opts.name||UN(this.id),this.pluginId=this.opts.pluginId}fileUrl(r){return`${this.hostname}/search/${this.id}/get/${r}`}search(r,n){return this.get(`search/${this.id}/list?q=${encodeURIComponent(r)}${n?`&${n}`:""}`)}};o(eb,"SearchProvider");var HN=f(b(),1),FS,DS;function rs(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(rs,"_classPrivateFieldLooseBase");var WN=0;function Mh(r){return"__private_"+WN+++"_"+r}o(Mh,"_classPrivateFieldLooseKey");var To=Mh("queued"),ec=Mh("emitter"),Tn=Mh("isOpen"),oa=Mh("socket"),tb=Mh("handleMessage");FS=Symbol.for("uppy test: getSocket"),DS=Symbol.for("uppy test: getQueued");var Lh=class{constructor(r){Object.defineProperty(this,To,{writable:!0,value:[]}),Object.defineProperty(this,ec,{writable:!0,value:(0,HN.default)()}),Object.defineProperty(this,Tn,{writable:!0,value:!1}),Object.defineProperty(this,oa,{writable:!0,value:void 0}),Object.defineProperty(this,tb,{writable:!0,value:n=>{try{let c=JSON.parse(n.data);this.emit(c.action,c.payload)}catch(c){console.log(c)}}}),this.opts=r,(!r||r.autoOpen!==!1)&&this.open()}get isOpen(){return rs(this,Tn)[Tn]}[FS](){return rs(this,oa)[oa]}[DS](){return rs(this,To)[To]}open(){rs(this,oa)[oa]=new WebSocket(this.opts.target),rs(this,oa)[oa].onopen=()=>{for(rs(this,Tn)[Tn]=!0;rs(this,To)[To].length>0&&rs(this,Tn)[Tn];){let r=rs(this,To)[To].shift();this.send(r.action,r.payload)}},rs(this,oa)[oa].onclose=()=>{rs(this,Tn)[Tn]=!1},rs(this,oa)[oa].onmessage=rs(this,tb)[tb]}close(){var r;(r=rs(this,oa)[oa])==null||r.close()}send(r,n){if(!rs(this,Tn)[Tn]){rs(this,To)[To].push({action:r,payload:n});return}rs(this,oa)[oa].send(JSON.stringify({action:r,payload:n}))}on(r,n){rs(this,ec)[ec].on(r,n)}emit(r,n){rs(this,ec)[ec].emit(r,n)}once(r,n){rs(this,ec)[ec].once(r,n)}};o(Lh,"UppySocket");var IS={};d(IS,{ProviderViews:()=>Cn,SearchProviderViews:()=>im});function BS(){return v("svg",{width:"26",height:"26",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg"},v("g",{fill:"none","fill-rule":"evenodd"},v("circle",{fill:"#FFF",cx:"13",cy:"13",r:"13"}),v("path",{d:"M21.64 13.205c0-.639-.057-1.252-.164-1.841H13v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4","fill-rule":"nonzero"}),v("path",{d:"M13 22c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H4.957v2.332A8.997 8.997 0 0013 22z",fill:"#34A853","fill-rule":"nonzero"}),v("path",{d:"M7.964 14.71A5.41 5.41 0 017.682 13c0-.593.102-1.17.282-1.71V8.958H4.957A8.996 8.996 0 004 13c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05","fill-rule":"nonzero"}),v("path",{d:"M13 7.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C17.463 4.891 15.426 4 13 4a8.997 8.997 0 00-8.043 4.958l3.007 2.332C8.672 9.163 10.656 7.58 13 7.58z",fill:"#EA4335","fill-rule":"nonzero"}),v("path",{d:"M4 4h18v18H4z"})))}o(BS,"GoogleIcon");function NS(r){let{pluginName:n,pluginIcon:c,i18nArray:p,handleAuth:_}=r,O=n==="Google Drive",D=v("span",{className:"uppy-Provider-authTitleName"},n,v("br",null));return v("div",{className:"uppy-Provider-auth"},v("div",{className:"uppy-Provider-authIcon"},c()),v("div",{className:"uppy-Provider-authTitle"},p("authenticateWithTitle",{pluginName:D})),O?v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn uppy-Provider-btn-google",onClick:_,"data-uppy-super-focusable":!0},v(BS,null),p("signInWithGoogle")):v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Provider-authBtn",onClick:_,"data-uppy-super-focusable":!0},p("authenticateWith",{pluginName:n})))}o(NS,"AuthView");var jN=NS,qN=o(r=>{let{i18n:n,logout:c,username:p}=r;return[v("span",{className:"uppy-ProviderBrowser-user",key:"username"},p),v("button",{type:"button",onClick:c,className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowser-userLogout",key:"logout"},n("logOut"))]},"default"),$N=o(r=>{let{getFolder:n,title:c,isLast:p}=r;return v(V,null,v("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:n},c),p?"":" / ")},"Breadcrumb"),VN=o(r=>{let{getFolder:n,title:c,breadcrumbsIcon:p,directories:_}=r;return v("div",{className:"uppy-Provider-breadcrumbs"},v("div",{className:"uppy-Provider-breadcrumbsIcon"},p),_.map((O,D)=>v($N,{key:O.id,getFolder:()=>n(O.id),title:D===0?c:O.title,isLast:D+1===_.length})))},"default"),YN=o(r=>{let n=[];return r.showBreadcrumbs&&n.push(VN({getFolder:r.getFolder,directories:r.directories,breadcrumbsIcon:r.pluginIcon&&r.pluginIcon(),title:r.title})),n.push(qN({logout:r.logout,username:r.username,i18n:r.i18n})),n},"default"),zS=f(L(),1);function ib(r){return{...r,type:r.mimeType,extension:r.name?rt(r.name).extension:null}}o(ib,"remoteFileObjToLocal");var US=class extends se{constructor(r){super(r),this.preventEnterPress=this.preventEnterPress.bind(this)}preventEnterPress(r){r.keyCode===13&&(r.stopPropagation(),r.preventDefault())}render(){let{i18n:r,filterInput:n,filterQuery:c}=this.props;return v("div",{className:"uppy-ProviderBrowser-filter"},v("input",{className:"uppy-u-reset uppy-ProviderBrowser-filterInput",type:"text",placeholder:r("filter"),"aria-label":r("filter"),onKeyUp:this.preventEnterPress,onKeyDown:this.preventEnterPress,onKeyPress:this.preventEnterPress,onInput:p=>c(p),value:n}),v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-ProviderBrowser-filterIcon",width:"12",height:"12",viewBox:"0 0 12 12"},v("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})),n&&v("button",{className:"uppy-u-reset uppy-ProviderBrowser-filterClose",type:"button","aria-label":r("resetFilter"),title:r("resetFilter"),onClick:c},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",viewBox:"0 0 19 19"},v("path",{d:"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z"}))))}};o(US,"Filter");var GN=o(r=>{let{cancel:n,done:c,i18n:p,selected:_}=r;return v("div",{className:"uppy-ProviderBrowser-footer"},v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary",onClick:c,type:"button"},p("selectX",{smart_count:_})),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link",onClick:n,type:"button"},p("cancel")))},"default"),XN=f(L(),1);function HS(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:11,height:14.5,viewBox:"0 0 44 58"},v("path",{d:"M27.437.517a1 1 0 0 0-.094.03H4.25C2.037.548.217 2.368.217 4.58v48.405c0 2.212 1.82 4.03 4.03 4.03H39.03c2.21 0 4.03-1.818 4.03-4.03V15.61a1 1 0 0 0-.03-.28 1 1 0 0 0 0-.093 1 1 0 0 0-.03-.032 1 1 0 0 0 0-.03 1 1 0 0 0-.032-.063 1 1 0 0 0-.03-.063 1 1 0 0 0-.032 0 1 1 0 0 0-.03-.063 1 1 0 0 0-.032-.03 1 1 0 0 0-.03-.063 1 1 0 0 0-.063-.062l-14.593-14a1 1 0 0 0-.062-.062A1 1 0 0 0 28 .708a1 1 0 0 0-.374-.157 1 1 0 0 0-.156 0 1 1 0 0 0-.03-.03l-.003-.003zM4.25 2.547h22.218v9.97c0 2.21 1.82 4.03 4.03 4.03h10.564v36.438a2.02 2.02 0 0 1-2.032 2.032H4.25c-1.13 0-2.032-.9-2.032-2.032V4.58c0-1.13.902-2.032 2.03-2.032zm24.218 1.345l10.375 9.937.75.718H30.5c-1.13 0-2.032-.9-2.032-2.03V3.89z"}))}o(HS,"FileIcon");function WS(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",style:{minWidth:16,marginRight:3},viewBox:"0 0 276.157 276.157"},v("path",{d:"M273.08 101.378c-3.3-4.65-8.86-7.32-15.254-7.32h-24.34V67.59c0-10.2-8.3-18.5-18.5-18.5h-85.322c-3.63 0-9.295-2.875-11.436-5.805l-6.386-8.735c-4.982-6.814-15.104-11.954-23.546-11.954H58.73c-9.292 0-18.638 6.608-21.737 15.372l-2.033 5.752c-.958 2.71-4.72 5.37-7.596 5.37H18.5C8.3 49.09 0 57.39 0 67.59v167.07c0 .886.16 1.73.443 2.52.152 3.306 1.18 6.424 3.053 9.064 3.3 4.652 8.86 7.32 15.255 7.32h188.487c11.395 0 23.27-8.425 27.035-19.18l40.677-116.188c2.11-6.035 1.43-12.164-1.87-16.816zM18.5 64.088h8.864c9.295 0 18.64-6.607 21.738-15.37l2.032-5.75c.96-2.712 4.722-5.373 7.597-5.373h29.565c3.63 0 9.295 2.876 11.437 5.806l6.386 8.735c4.982 6.815 15.104 11.954 23.546 11.954h85.322c1.898 0 3.5 1.602 3.5 3.5v26.47H69.34c-11.395 0-23.27 8.423-27.035 19.178L15 191.23V67.59c0-1.898 1.603-3.5 3.5-3.5zm242.29 49.15l-40.676 116.188c-1.674 4.78-7.812 9.135-12.877 9.135H18.75c-1.447 0-2.576-.372-3.02-.997-.442-.625-.422-1.814.057-3.18l40.677-116.19c1.674-4.78 7.812-9.134 12.877-9.134h188.487c1.448 0 2.577.372 3.02.997.443.625.423 1.814-.056 3.18z"}))}o(WS,"FolderIcon");function jS(){return v("svg",{"aria-hidden":"true",focusable:"false",style:{width:16,marginRight:4},viewBox:"0 0 58 58"},v("path",{d:"M36.537 28.156l-11-7a1.005 1.005 0 0 0-1.02-.033C24.2 21.3 24 21.635 24 22v14a1 1 0 0 0 1.537.844l11-7a1.002 1.002 0 0 0 0-1.688zM26 34.18V23.82L34.137 29 26 34.18z"}),v("path",{d:"M57 6H1a1 1 0 0 0-1 1v44a1 1 0 0 0 1 1h56a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1zM10 28H2v-9h8v9zm-8 2h8v9H2v-9zm10 10V8h34v42H12V40zm44-12h-8v-9h8v9zm-8 2h8v9h-8v-9zm8-22v9h-8V8h8zM2 8h8v9H2V8zm0 42v-9h8v9H2zm54 0h-8v-9h8v9z"}))}o(jS,"VideoIcon");var KN=o(r=>{let{itemIconString:n}=r;if(n!==null)switch(n){case"file":return v(HS,null);case"folder":return v(WS,null);case"video":return v(jS,null);default:{let{alt:c}=r;return v("img",{src:n,alt:c})}}},"default");function qS(r){let{className:n,isDisabled:c,restrictionError:p,isChecked:_,title:O,itemIconEl:D,showTitles:N,toggleCheckbox:Y,recordShiftKeyPress:ie,id:X,children:ae}=r;return v("li",{className:n,title:c?p==null?void 0:p.message:null},v("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${_?"uppy-ProviderBrowserItem-checkbox--is-checked":""} uppy-ProviderBrowserItem-checkbox--grid`,onChange:Y,onKeyDown:ie,name:"listitem",id:X,checked:_,disabled:c,"data-uppy-super-focusable":!0}),v("label",{htmlFor:X,"aria-label":O,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},v("span",{className:"uppy-ProviderBrowserItem-inner-relative"},D,N&&O,ae)))}o(qS,"GridListItem");var $S=qS;function VS(r){let{className:n,isDisabled:c,restrictionError:p,isCheckboxDisabled:_,isChecked:O,toggleCheckbox:D,recordShiftKeyPress:N,type:Y,id:ie,itemIconEl:X,title:ae,handleFolderClick:ue,showTitles:xe,i18n:We}=r;return v("li",{className:n,title:c?p==null?void 0:p.message:null},_?null:v("input",{type:"checkbox",className:`uppy-u-reset uppy-ProviderBrowserItem-checkbox ${O?"uppy-ProviderBrowserItem-checkbox--is-checked":""}`,onChange:D,onKeyDown:N,name:"listitem",id:ie,checked:O,"aria-label":Y==="file"?null:We("allFilesFromFolderNamed",{name:ae}),disabled:c,"data-uppy-super-focusable":!0}),Y==="file"?v("label",{htmlFor:ie,className:"uppy-u-reset uppy-ProviderBrowserItem-inner"},v("div",{className:"uppy-ProviderBrowserItem-iconWrap"},X),xe&&ae):v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-ProviderBrowserItem-inner",onClick:ue,"aria-label":We("openFolderNamed",{name:ae})},v("div",{className:"uppy-ProviderBrowserItem-iconWrap"},X),xe&&v("span",null,ae)))}o(VS,"ListItem");var ZN=VS;function Rh(){return Rh=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Rh.apply(this,arguments)}o(Rh,"_extends");var YS=o(r=>{let{author:n,getItemIcon:c,isChecked:p,isDisabled:_,viewType:O}=r,D=c(),N=(0,XN.default)("uppy-ProviderBrowserItem",{"uppy-ProviderBrowserItem--selected":p},{"uppy-ProviderBrowserItem--disabled":_},{"uppy-ProviderBrowserItem--noPreview":D==="video"}),Y=v(KN,{itemIconString:D});switch(O){case"grid":return v($S,Rh({},r,{className:N,itemIconEl:Y}));case"list":return v(ZN,Rh({},r,{className:N,itemIconEl:Y}));case"unsplash":return v($S,Rh({},r,{className:N,itemIconEl:Y}),v("a",{href:`${n.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",className:"uppy-ProviderBrowserItem-author"},n.name));default:throw new Error(`There is no such type ${O}`)}},"default"),QN="shared-with-me";function GS(r){let{currentSelection:n,folders:c,files:p,uppyFiles:_,viewType:O,headerComponent:D,showBreadcrumbs:N,isChecked:Y,toggleCheckbox:ie,recordShiftKeyPress:X,handleScroll:ae,showTitles:ue,i18n:xe,validateRestrictions:We,showFilter:Mt,filterQuery:wt,filterInput:Ht,getNextFolder:xi,cancel:Zt,done:ht,columns:pt}=r,dt=n.length;return v("div",{className:(0,zS.default)("uppy-ProviderBrowser",`uppy-ProviderBrowser-viewType--${O}`)},v("div",{className:"uppy-ProviderBrowser-header"},v("div",{className:(0,zS.default)("uppy-ProviderBrowser-headerBar",!N&&"uppy-ProviderBrowser-headerBar--simple")},D)),Mt&&v(US,{i18n:xe,filterQuery:wt,filterInput:Ht}),!c.length&&!p.length?v("div",{className:"uppy-Provider-empty"},xe("noFilesFound")):v("div",{className:"uppy-ProviderBrowser-body"},v("ul",{className:"uppy-ProviderBrowser-list",onScroll:ae,role:"listbox",tabIndex:"-1"},c.map(De=>{var mt;return YS({columns:pt,showTitles:ue,viewType:O,i18n:xe,id:De.id,title:De.name,getItemIcon:()=>De.icon,isChecked:Y(De),toggleCheckbox:Lt=>ie(Lt,De),recordShiftKeyPress:X,type:"folder",isDisabled:(mt=Y(De))==null?void 0:mt.loading,isCheckboxDisabled:De.id===QN,handleFolderClick:()=>xi(De)})}),p.map(De=>{let mt=We(ib(De),[..._,...n]);return YS({id:De.id,title:De.name,author:De.author,getItemIcon:()=>De.icon,isChecked:Y(De),toggleCheckbox:Lt=>ie(Lt,De),recordShiftKeyPress:X,columns:pt,showTitles:ue,viewType:O,i18n:xe,type:"file",isDisabled:mt&&!Y(De),restrictionError:mt})}))),dt>0&&v(GN,{selected:dt,done:ht,cancel:Zt,i18n:xe}))}o(GS,"Browser");var XS=GS,KS=o(r=>{let{i18n:n}=r;return v("div",{className:"uppy-Provider-loading"},v("span",null,n("loading")))},"default"),tc=class extends se{componentWillUnmount(){let{onUnmount:r}=this.props;r()}render(){let{children:r}=this.props;return Re(r)[0]}};o(tc,"CloseWrapper");function tm(r){return r?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(r):!1}o(tm,"isPreviewSupported");var ZS=class{constructor(r){this.plugin=r,this.filterItems=this.filterItems.bind(this),this.toggleCheckbox=this.toggleCheckbox.bind(this),this.recordShiftKeyPress=this.recordShiftKeyPress.bind(this),this.isChecked=this.isChecked.bind(this),this.loaderWrapper=this.loaderWrapper.bind(this)}filterItems(r){let n=this.plugin.getPluginState();return!n.filterInput||n.filterInput===""?r:r.filter(c=>c.name.toLowerCase().indexOf(n.filterInput.toLowerCase())!==-1)}recordShiftKeyPress(r){this.isShiftKeyPressed=r.shiftKey}toggleCheckbox(r,n){r.stopPropagation(),r.preventDefault(),r.currentTarget.focus();let{folders:c,files:p}=this.plugin.getPluginState(),_=this.filterItems(c.concat(p));if(this.lastCheckbox&&this.isShiftKeyPressed){let D=_.indexOf(this.lastCheckbox),N=_.indexOf(n),Y=D<N?_.slice(D,N+1):_.slice(N,D+1),ie=[];for(let X of Y){let{uppy:ae}=this.plugin,ue=ae.validateRestrictions(ib(X),[...ae.getFiles(),...ie]);ue?ae.info({message:ue.message},"error",ae.opts.infoTimeout):ie.push(X)}this.plugin.setPluginState({currentSelection:ie});return}this.lastCheckbox=n;let{currentSelection:O}=this.plugin.getPluginState();this.isChecked(n)?this.plugin.setPluginState({currentSelection:O.filter(D=>D.id!==n.id)}):this.plugin.setPluginState({currentSelection:O.concat([n])})}isChecked(r){let{currentSelection:n}=this.plugin.getPluginState();return n.some(c=>c.id===r.id)}loaderWrapper(r,n,c){r.then(p=>{this.plugin.setPluginState({loading:!1}),n(p)}).catch(p=>{this.plugin.setPluginState({loading:!1}),c(p)}),this.plugin.setPluginState({loading:!0})}};o(ZS,"SharedHandler");var rb=class{constructor(r,n){this.plugin=r,this.provider=n.provider,this.sharedHandler=new ZS(r),this.isHandlingScroll=!1,this.preFirstRender=this.preFirstRender.bind(this),this.handleError=this.handleError.bind(this),this.addFile=this.addFile.bind(this),this.clearSelection=this.clearSelection.bind(this),this.cancelPicking=this.cancelPicking.bind(this)}providerFileToId(r){return Nt({data:r,name:r.name||r.id,type:r.mimetype})}preFirstRender(){this.plugin.setPluginState({didFirstRender:!0}),this.plugin.onFirstRender()}shouldHandleScroll(r){let{scrollHeight:n,scrollTop:c,offsetHeight:p}=r.target;return n-(c+p)<50&&!this.isHandlingScroll}clearSelection(){this.plugin.setPluginState({currentSelection:[],filterInput:""})}cancelPicking(){this.clearSelection();let r=this.plugin.uppy.getPlugin("Dashboard");r&&r.hideAllPanels()}handleError(r){let{uppy:n}=this.plugin,c=n.i18n("companionError");n.log(r.toString()),!r.isAuthError&&n.info({message:c,details:r.toString()},"error",5e3)}addFile(r){let n={id:this.providerFileToId(r),source:this.plugin.id,data:r,name:r.name||r.id,type:r.mimeType,isRemote:!0,meta:{},body:{fileId:r.id},remote:{companionUrl:this.plugin.opts.companionUrl,url:`${this.provider.fileUrl(r.requestPath)}`,body:{fileId:r.id},providerOptions:this.provider.opts,providerName:this.provider.name}},c=Ui(n);c&&tm(c)&&(n.preview=r.thumbnail),r.author&&(r.author.name!=null&&(n.meta.authorName=String(r.author.name)),r.author.url&&(n.meta.authorUrl=r.author.url)),this.plugin.uppy.log("Adding remote file");try{return this.plugin.uppy.addFile(n),!0}catch(p){return p.isRestriction||this.plugin.uppy.log(p),!1}}};o(rb,"View");function sb(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(sb,"_classPrivateFieldLooseBase");var JN=0;function QS(r){return"__private_"+JN+++"_"+r}o(QS,"_classPrivateFieldLooseKey");var e6={version:"3.0.2"};function JS(){return location.origin}o(JS,"getOrigin");function ab(r){if(typeof r=="string")return new RegExp(`^${r}$`);if(r instanceof RegExp)return r}o(ab,"getRegex");function eT(r,n){return(Array.isArray(n)?n.map(ab):[ab(n)]).some(c=>(c==null?void 0:c.test(r))||(c==null?void 0:c.test(`${r}/`)))}o(eT,"isOriginAllowed");var rd=QS("updateFilesAndFolders"),Cn=class extends rb{constructor(r,n){super(r,n),Object.defineProperty(this,rd,{value:tT});let c={viewType:"list",showTitles:!0,showFilter:!0,showBreadcrumbs:!0};this.opts={...c,...n},this.filterQuery=this.filterQuery.bind(this),this.getFolder=this.getFolder.bind(this),this.getNextFolder=this.getNextFolder.bind(this),this.logout=this.logout.bind(this),this.handleAuth=this.handleAuth.bind(this),this.handleScroll=this.handleScroll.bind(this),this.listAllFiles=this.listAllFiles.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({authenticated:!1,files:[],folders:[],directories:[],filterInput:"",isSearchVisible:!1,currentSelection:[]})}tearDown(){}getFolder(r,n){return this.sharedHandler.loaderWrapper(this.provider.list(r),c=>{let p=[],_=[],O,D=this.plugin.getPluginState(),N=D.directories.findIndex(Y=>r===Y.id);N!==-1?O=D.directories.slice(0,N+1):O=D.directories.concat([{id:r,title:n}]),this.username=c.username||this.username,sb(this,rd)[rd](c,_,p),this.plugin.setPluginState({directories:O,filterInput:""})},this.handleError)}getNextFolder(r){this.getFolder(r.requestPath,r.name),this.lastCheckbox=void 0}logout(){this.provider.logout().then(r=>{if(r.ok){if(!r.revoked){let c=this.plugin.uppy.i18n("companionUnauthorizeHint",{provider:this.plugin.title,url:r.manual_revoke_url});this.plugin.uppy.info(c,"info",7e3)}let n={authenticated:!1,files:[],folders:[],directories:[],filterInput:""};this.plugin.setPluginState(n)}}).catch(this.handleError)}filterQuery(r){let n=this.plugin.getPluginState();this.plugin.setPluginState({...n,filterInput:r?r.target.value:""})}addFolder(r){let n=this.providerFileToId(r),c={...this.plugin.getPluginState().selectedFolders};if(!(n in c&&c[n].loading))return c[n]={loading:!0,files:[]},this.plugin.setPluginState({selectedFolders:{...c}}),this.listAllFiles(r.requestPath).then(p=>{let _=0;p.forEach(N=>{let Y=this.providerFileToId(N);this.plugin.uppy.checkIfFileAlreadyExists(Y)||_++}),_>0&&p.forEach(N=>this.addFile(N));let O=p.map(this.providerFileToId);c[n]={loading:!1,files:O},this.plugin.setPluginState({selectedFolders:c,filterInput:""});let D;_===0?D=this.plugin.uppy.i18n("folderAlreadyAdded",{folder:r.name}):p.length?D=this.plugin.uppy.i18n("folderAdded",{smart_count:_,folder:r.name}):D=this.plugin.uppy.i18n("emptyFolderAdded"),this.plugin.uppy.info(D)}).catch(p=>{let _={...this.plugin.getPluginState().selectedFolders};delete _[n],this.plugin.setPluginState({selectedFolders:_}),this.handleError(p)})}async handleAuth(){await this.provider.ensurePreAuth();let r=btoa(JSON.stringify({origin:JS()})),n=`@uppy/provider-views=${Cn.VERSION}`,c=this.provider.authUrl({state:r,uppyVersions:n}),p=window.open(c,"_blank"),_=o(O=>{if(O.source!==p){this.plugin.uppy.log("rejecting event from unknown source");return}(!eT(O.origin,this.plugin.opts.companionAllowedHosts)||O.source!==p)&&this.plugin.uppy.log(`rejecting event from ${O.origin} vs allowed pattern ${this.plugin.opts.companionAllowedHosts}`);let D=typeof O.data=="string"?JSON.parse(O.data):O.data;if(D.error){this.plugin.uppy.log("auth aborted","warning");let{uppy:N}=this.plugin,Y=N.i18n("authAborted");N.info({message:Y},"warning",5e3);return}if(!D.token){this.plugin.uppy.log("did not receive token from auth window","error");return}p.close(),window.removeEventListener("message",_),this.provider.setAuthToken(D.token),this.preFirstRender()},"handleToken");window.addEventListener("message",_)}async handleScroll(r){let n=this.nextPagePath||null;if(this.shouldHandleScroll(r)&&n){this.isHandlingScroll=!0;try{let c=await this.provider.list(n),{files:p,folders:_}=this.plugin.getPluginState();sb(this,rd)[rd](c,p,_)}catch(c){this.handleError(c)}finally{this.isHandlingScroll=!1}}}async listAllFiles(r,n){n===void 0&&(n=null),n=n||[];let c=await this.provider.list(r);c.items.forEach(_=>{_.isFolder?this.addFolder(_):n.push(_)});let p=c.nextPagePath;return p?this.listAllFiles(p,n):n}donePicking(){let{currentSelection:r}=this.plugin.getPluginState(),n=r.map(c=>c.isFolder?this.addFolder(c):this.addFile(c));this.sharedHandler.loaderWrapper(Promise.all(n),()=>{this.clearSelection()},()=>{})}render(r,n){var c=this;n===void 0&&(n={});let{authenticated:p,didFirstRender:_}=this.plugin.getPluginState();_||this.preFirstRender();let O={...this.opts,...n},{files:D,folders:N,filterInput:Y,loading:ie,currentSelection:X}=this.plugin.getPluginState(),{isChecked:ae,toggleCheckbox:ue,recordShiftKeyPress:xe,filterItems:We}=this.sharedHandler,Mt=Y!=="",wt={showBreadcrumbs:O.showBreadcrumbs,getFolder:this.getFolder,directories:this.plugin.getPluginState().directories,pluginIcon:this.plugin.icon,title:this.plugin.title,logout:this.logout,username:this.username,i18n:this.plugin.uppy.i18n},Ht={isChecked:ae,toggleCheckbox:ue,recordShiftKeyPress:xe,currentSelection:X,files:Mt?We(D):D,folders:Mt?We(N):N,username:this.username,getNextFolder:this.getNextFolder,getFolder:this.getFolder,filterItems:this.sharedHandler.filterItems,filterQuery:this.filterQuery,logout:this.logout,handleScroll:this.handleScroll,listAllFiles:this.listAllFiles,done:this.donePicking,cancel:this.cancelPicking,headerComponent:YN(wt),title:this.plugin.title,viewType:O.viewType,showTitles:O.showTitles,showFilter:O.showFilter,showBreadcrumbs:O.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return c.plugin.uppy.validateRestrictions(...arguments)}};return ie?v(tc,{onUnmount:this.clearSelection},v(KS,{i18n:this.plugin.uppy.i18n})):p?v(tc,{onUnmount:this.clearSelection},v(XS,Ht)):v(tc,{onUnmount:this.clearSelection},v(jN,{pluginName:this.plugin.title,pluginIcon:this.plugin.icon,handleAuth:this.handleAuth,i18n:this.plugin.uppy.i18n,i18nArray:this.plugin.uppy.i18nArray}))}};o(Cn,"ProviderView");function tT(r,n,c){this.nextPagePath=r.nextPagePath,r.items.forEach(p=>{p.isFolder?c.push(p):n.push(p)}),this.plugin.setPluginState({folders:c,files:n})}o(tT,"_updateFilesAndFolders2"),Cn.VERSION=e6.version;var t6=o(r=>{let{i18n:n,search:c}=r,p,_=o(()=>{p.value&&c(p.value)},"validateAndSearch"),O=o(D=>{D.keyCode===13&&_()},"handleKeyPress");return v("div",{className:"uppy-SearchProvider"},v("input",{className:"uppy-u-reset uppy-c-textInput uppy-SearchProvider-input",type:"search","aria-label":n("enterTextToSearch"),placeholder:n("enterTextToSearch"),onKeyUp:O,ref:D=>{p=D},"data-uppy-super-focusable":!0}),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-SearchProvider-searchButton",type:"button",onClick:_},n("searchImages")))},"default"),i6=13,r6=o(r=>{let{searchTerm:n,i18n:c,search:p}=r,_=o(O=>{O.keyCode===i6&&(O.stopPropagation(),O.preventDefault(),p(O.target.value))},"handleKeyPress");return v("div",{class:"uppy-ProviderBrowser-search"},v("input",{class:"uppy-u-reset uppy-ProviderBrowser-searchInput",type:"text",placeholder:c("search"),"aria-label":c("search"),value:n,onKeyUp:_,"data-uppy-super-focusable":!0}),v("svg",{"aria-hidden":"true",focusable:"false",class:"uppy-c-icon uppy-ProviderBrowser-searchIcon",width:"12",height:"12",viewBox:"0 0 12 12"},v("path",{d:"M8.638 7.99l3.172 3.172a.492.492 0 1 1-.697.697L7.91 8.656a4.977 4.977 0 0 1-2.983.983C2.206 9.639 0 7.481 0 4.819 0 2.158 2.206 0 4.927 0c2.721 0 4.927 2.158 4.927 4.82a4.74 4.74 0 0 1-1.216 3.17zm-3.71.685c2.176 0 3.94-1.726 3.94-3.856 0-2.129-1.764-3.855-3.94-3.855C2.75.964.984 2.69.984 4.819c0 2.13 1.765 3.856 3.942 3.856z"})))},"default");function nb(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(nb,"_classPrivateFieldLooseBase");var s6=0;function iT(r){return"__private_"+s6+++"_"+r}o(iT,"_classPrivateFieldLooseKey");var a6={version:"3.0.2"},sd=iT("updateFilesAndInputMode"),im=class extends rb{constructor(r,n){super(r,n),Object.defineProperty(this,sd,{value:rT});let c={viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1};this.opts={...c,...n},this.search=this.search.bind(this),this.triggerSearchInput=this.triggerSearchInput.bind(this),this.addFile=this.addFile.bind(this),this.handleScroll=this.handleScroll.bind(this),this.donePicking=this.donePicking.bind(this),this.render=this.render.bind(this),this.plugin.setPluginState({isInputMode:!0,files:[],folders:[],directories:[],filterInput:"",currentSelection:[],searchTerm:null})}tearDown(){}clearSelection(){this.plugin.setPluginState({currentSelection:[],isInputMode:!0,files:[],searchTerm:null})}search(r){let{searchTerm:n}=this.plugin.getPluginState();if(!(r&&r===n))return this.sharedHandler.loaderWrapper(this.provider.search(r),c=>{nb(this,sd)[sd](c,[])},this.handleError)}triggerSearchInput(){this.plugin.setPluginState({isInputMode:!0})}async handleScroll(r){let n=this.nextPageQuery||null;if(this.shouldHandleScroll(r)&&n){this.isHandlingScroll=!0;try{let{files:c,searchTerm:p}=this.plugin.getPluginState(),_=await this.provider.search(p,n);nb(this,sd)[sd](_,c)}catch(c){this.handleError(c)}finally{this.isHandlingScroll=!1}}}donePicking(){let{currentSelection:r}=this.plugin.getPluginState(),n=r.map(c=>this.addFile(c));this.sharedHandler.loaderWrapper(Promise.all(n),()=>{this.clearSelection()},()=>{})}render(r,n){var c=this;n===void 0&&(n={});let{didFirstRender:p,isInputMode:_,searchTerm:O}=this.plugin.getPluginState();p||this.preFirstRender();let D={...this.opts,...n},{files:N,folders:Y,filterInput:ie,loading:X,currentSelection:ae}=this.plugin.getPluginState(),{isChecked:ue,toggleCheckbox:xe,filterItems:We}=this.sharedHandler,Mt=ie!=="",wt={isChecked:ue,toggleCheckbox:xe,currentSelection:ae,files:Mt?We(N):N,folders:Mt?We(Y):Y,handleScroll:this.handleScroll,done:this.donePicking,cancel:this.cancelPicking,headerComponent:r6({search:this.search,i18n:this.plugin.uppy.i18n,searchTerm:O}),title:this.plugin.title,viewType:D.viewType,showTitles:D.showTitles,showFilter:D.showFilter,showBreadcrumbs:D.showBreadcrumbs,pluginIcon:this.plugin.icon,i18n:this.plugin.uppy.i18n,uppyFiles:this.plugin.uppy.getFiles(),validateRestrictions:function(){return c.plugin.uppy.validateRestrictions(...arguments)}};return X?v(tc,{onUnmount:this.clearSelection},v(KS,{i18n:this.plugin.uppy.i18n})):_?v(tc,{onUnmount:this.clearSelection},v(t6,{search:this.search,i18n:this.plugin.uppy.i18n})):v(tc,{onUnmount:this.clearSelection},v(XS,wt))}};o(im,"SearchProviderView");function rT(r,n){this.nextPageQuery=r.nextPageQuery,r.items.forEach(c=>{n.push(c)}),this.plugin.setPluginState({isInputMode:!1,files:n,searchTerm:r.searchedFor})}o(rT,"_updateFilesAndInputMode2"),im.VERSION=a6.version;var sT;function En(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(En,"_classPrivateFieldLooseBase");var n6=0;function rm(r){return"__private_"+n6+++"_"+r}o(rm,"_classPrivateFieldLooseKey");var o6={version:"3.0.2"},l6="uppy/STATE_UPDATE",c6=o(r=>n=>n.uppy[r],"defaultSelector");function aT(r,n){let c=Object.keys(n),p={};return c.forEach(_=>{r[_]!==n[_]&&(p[_]=n[_])}),p}o(aT,"getPatch");var Co=rm("id"),ad=rm("selector"),Eo=rm("store");sT=Symbol.for("uppy test: get id");var ob=class{constructor(r){Object.defineProperty(this,Co,{writable:!0,value:void 0}),Object.defineProperty(this,ad,{writable:!0,value:void 0}),Object.defineProperty(this,Eo,{writable:!0,value:void 0}),En(this,Eo)[Eo]=r.store,En(this,Co)[Co]=r.id||Ie(),En(this,ad)[ad]=r.selector||c6(En(this,Co)[Co]),this.setState({})}setState(r){En(this,Eo)[Eo].dispatch({type:l6,id:En(this,Co)[Co],payload:r})}getState(){return En(this,ad)[ad](En(this,Eo)[Eo].getState())}subscribe(r){let n=this.getState();return En(this,Eo)[Eo].subscribe(()=>{let c=this.getState();if(n!==c){let p=aT(n,c);r(n,c,p),n=c}})}[sT](){return En(this,Co)[Co]}};o(ob,"ReduxStore"),ob.VERSION=o6.version;var h6=ob;function nT(r){if(!r.bytesUploaded)return 0;let n=Date.now()-r.uploadStarted;return r.bytesUploaded/(n/1e3)}o(nT,"getSpeed");function oT(r){return r.bytesTotal-r.bytesUploaded}o(oT,"getBytesRemaining");var sn={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},lT=f(L(),1);function sm(r){let n=[],c,p;for(let{progress:O}of Object.values(r)){let{preprocess:D,postprocess:N}=O;p==null&&(D||N)&&({mode:c,message:p}=D||N),(D==null?void 0:D.mode)==="determinate"&&n.push(D.value),(N==null?void 0:N.mode)==="determinate"&&n.push(N.value)}let _=n.reduce((O,D)=>O+D/n.length,0);return{mode:c,message:p,value:_}}o(sm,"calculateProcessingProgress");var cT=f(L(),1),u6=f(k(),1),hT=f(w(),1);function uT(r){let n=Math.floor(r/3600)%24,c=Math.floor(r/60)%60,p=Math.floor(r%60);return{hours:n,minutes:c,seconds:p}}o(uT,"secondsToTime");function dT(r){let n=uT(r),c=n.hours===0?"":`${n.hours}h`,p=n.minutes===0?"":`${n.hours===0?n.minutes:` ${n.minutes.toString(10).padStart(2,"0")}`}m`,_=n.hours!==0?"":`${n.minutes===0?n.seconds:` ${n.seconds.toString(10).padStart(2,"0")}`}s`;return`${c}${p}${_}`}o(dT,"prettyETA");var d6="",fT=o(()=>` ${d6} `,"renderDot");function pT(r){let{newFiles:n,isUploadStarted:c,recoveredState:p,i18n:_,uploadState:O,isSomeGhost:D,startUpload:N}=r,Y=(0,cT.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":O===sn.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":D}),ie=n&&c&&!p?_("uploadXNewFiles",{smart_count:n}):_("uploadXFiles",{smart_count:n});return v("button",{type:"button",className:Y,"aria-label":_("uploadXFiles",{smart_count:n}),onClick:N,disabled:D,"data-uppy-super-focusable":!0},ie)}o(pT,"UploadBtn");function mT(r){let{i18n:n,uppy:c}=r;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":n("retryUpload"),onClick:()=>c.retryAll(),"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10"},v("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})),n("retry"))}o(mT,"RetryBtn");function gT(r){let{i18n:n,uppy:c}=r;return v("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:n("cancel"),"aria-label":n("cancel"),onClick:()=>c.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},v("g",{fill:"none",fillRule:"evenodd"},v("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),v("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"}))))}o(gT,"CancelBtn");function yT(r){let{isAllPaused:n,i18n:c,isAllComplete:p,resumableUploads:_,uppy:O}=r,D=c(n?"resume":"pause");function N(){return p?null:_?n?O.resumeAll():O.pauseAll():O.cancelAll()}return o(N,"togglePauseResume"),v("button",{title:D,"aria-label":D,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:N,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16"},v("g",{fill:"none",fillRule:"evenodd"},v("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),v("path",{fill:"#FFF",d:n?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"}))))}o(yT,"PauseResumeButton");function vT(r){let{i18n:n,doneButtonHandler:c}=r;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:c,"data-uppy-super-focusable":!0},n("done"))}o(vT,"DoneBtn");function lb(){return v("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14"},v("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"}))}o(lb,"LoadingSpinner");function bT(r){let{progress:n}=r,{value:c,mode:p,message:_}=n,O=Math.round(c*100);return v("div",{className:"uppy-StatusBar-content"},v(lb,null),p==="determinate"?`${O}%  `:"",_)}o(bT,"ProgressBarProcessing");function wT(r){let{numUploads:n,complete:c,totalUploadedSize:p,totalSize:_,totalETA:O,i18n:D}=r,N=n>1;return v("div",{className:"uppy-StatusBar-statusSecondary"},N&&D("filesUploadedOfTotal",{complete:c,smart_count:n}),v("span",{className:"uppy-StatusBar-additionalInfo"},N&&fT(),D("dataUploadedOfTotal",{complete:(0,hT.default)(p),total:(0,hT.default)(_)}),fT(),D("xTimeLeft",{time:dT(O)})))}o(wT,"ProgressDetails");function cb(r){let{i18n:n,complete:c,numUploads:p}=r;return v("div",{className:"uppy-StatusBar-statusSecondary"},n("filesUploadedOfTotal",{complete:c,smart_count:p}))}o(cb,"FileUploadCount");function _T(r){let{i18n:n,newFiles:c,startUpload:p}=r,_=(0,cT.default)("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return v("div",{className:"uppy-StatusBar-statusSecondary"},v("div",{className:"uppy-StatusBar-statusSecondaryHint"},n("xMoreFilesAdded",{smart_count:c})),v("button",{type:"button",className:_,"aria-label":n("uploadXFiles",{smart_count:c}),onClick:p},n("upload")))}o(_T,"UploadNewlyAddedFiles");var f6=(0,u6.default)(wT,500,{leading:!0,trailing:!0});function xT(r){let{i18n:n,supportsUploadProgress:c,totalProgress:p,showProgressDetails:_,isUploadStarted:O,isAllComplete:D,isAllPaused:N,newFiles:Y,numUploads:ie,complete:X,totalUploadedSize:ae,totalSize:ue,totalETA:xe,startUpload:We}=r,Mt=Y&&O;if(!O||D)return null;let wt=n(N?"paused":"uploading");function Ht(){return!N&&!Mt&&_?c?v(f6,{numUploads:ie,complete:X,totalUploadedSize:ae,totalSize:ue,totalETA:xe,i18n:n}):v(cb,{i18n:n,complete:X,numUploads:ie}):null}return o(Ht,"renderProgressDetails"),v("div",{className:"uppy-StatusBar-content","aria-label":wt,title:wt},N?null:v(lb,null),v("div",{className:"uppy-StatusBar-status"},v("div",{className:"uppy-StatusBar-statusPrimary"},c?`${wt}: ${p}%`:wt),Ht(),Mt?v(_T,{i18n:n,newFiles:Y,startUpload:We}):null))}o(xT,"ProgressBarUploading");function kT(r){let{i18n:n}=r;return v("div",{className:"uppy-StatusBar-content",role:"status",title:n("complete")},v("div",{className:"uppy-StatusBar-status"},v("div",{className:"uppy-StatusBar-statusPrimary"},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11"},v("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})),n("complete"))))}o(kT,"ProgressBarComplete");function ST(r){let{error:n,i18n:c,complete:p,numUploads:_}=r;function O(){let D=`${c("uploadFailed")}

 ${n}`;alert(D)}return o(O,"displayErrorAlert"),v("div",{className:"uppy-StatusBar-content",title:c("uploadFailed")},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11"},v("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})),v("div",{className:"uppy-StatusBar-status"},v("div",{className:"uppy-StatusBar-statusPrimary"},c("uploadFailed"),v("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":c("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:O,type:"button"},"?")),v(cb,{i18n:c,complete:p,numUploads:_})))}o(ST,"ProgressBarError");var{STATE_ERROR:TT,STATE_WAITING:CT,STATE_PREPROCESSING:hb,STATE_UPLOADING:am,STATE_POSTPROCESSING:ub,STATE_COMPLETE:nm}=sn;function ET(r){let{newFiles:n,allowNewUpload:c,isUploadInProgress:p,isAllPaused:_,resumableUploads:O,error:D,hideUploadButton:N,hidePauseResumeButton:Y,hideCancelButton:ie,hideRetryButton:X,recoveredState:ae,uploadState:ue,totalProgress:xe,files:We,supportsUploadProgress:Mt,hideAfterFinish:wt,isSomeGhost:Ht,doneButtonHandler:xi,isUploadStarted:Zt,i18n:ht,startUpload:pt,uppy:dt,isAllComplete:De,showProgressDetails:mt,numUploads:Lt,complete:ai,totalSize:oi,totalETA:Gi,totalUploadedSize:ur}=r;function sr(){switch(ue){case ub:case hb:{let Pi=sm(We);return Pi.mode==="determinate"?Pi.value*100:xe}case TT:return null;case am:return Mt?xe:null;default:return xe}}o(sr,"getProgressValue");function Et(){switch(ue){case ub:case hb:{let{mode:Pi}=sm(We);return Pi==="indeterminate"}case am:return!Mt;default:return!1}}o(Et,"getIsIndeterminate");function ar(){if(ae)return!1;switch(ue){case CT:return N||n===0;case nm:return wt;default:return!1}}o(ar,"getIsHidden");let Xs=sr(),Rr=ar(),As=Xs??100,Bt=!D&&n&&!p&&!_&&c&&!N,at=!ie&&ue!==CT&&ue!==nm,St=O&&!Y&&ue===am,Ot=D&&!De&&!X,Wt=xi&&ue===nm,Di=(0,lT.default)("uppy-StatusBar-progress",{"is-indeterminate":Et()}),Br=(0,lT.default)("uppy-StatusBar",`is-${ue}`,{"has-ghosts":Ht});return v("div",{className:Br,"aria-hidden":Rr},v("div",{className:Di,style:{width:`${As}%`},role:"progressbar","aria-label":`${As}%`,"aria-valuetext":`${As}%`,"aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":Xs}),(()=>{switch(ue){case hb:case ub:return v(bT,{progress:sm(We)});case nm:return v(kT,{i18n:ht});case TT:return v(ST,{error:D,i18n:ht,numUploads:Lt,complete:ai});case am:return v(xT,{i18n:ht,supportsUploadProgress:Mt,totalProgress:xe,showProgressDetails:mt,isUploadStarted:Zt,isAllComplete:De,isAllPaused:_,newFiles:n,numUploads:Lt,complete:ai,totalUploadedSize:ur,totalSize:oi,totalETA:Gi,startUpload:pt});default:return null}})(),v("div",{className:"uppy-StatusBar-actions"},ae||Bt?v(pT,{newFiles:n,isUploadStarted:Zt,recoveredState:ae,i18n:ht,isSomeGhost:Ht,startUpload:pt,uploadState:ue}):null,Ot?v(mT,{i18n:ht,uppy:dt}):null,St?v(yT,{isAllPaused:_,i18n:ht,isAllComplete:De,resumableUploads:O,uppy:dt}):null,at?v(gT,{i18n:ht,uppy:dt}):null,Wt?v(vT,{i18n:ht,doneButtonHandler:xi}):null))}o(ET,"StatusBar");var p6={strings:{uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",cancel:"Cancel",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",retryUpload:"Retry upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}},m6={version:"3.0.1"};function OT(r){let n=0;return r.forEach(c=>{n+=nT(c.progress)}),n}o(OT,"getTotalSpeed");function AT(r){let n=OT(r);if(n===0)return 0;let c=r.reduce((p,_)=>p+oT(_.progress),0);return Math.round(c/n*10)/10}o(AT,"getTotalETA");function PT(r,n,c,p){if(r&&!n)return sn.STATE_ERROR;if(n)return sn.STATE_COMPLETE;if(c)return sn.STATE_WAITING;let _=sn.STATE_WAITING,O=Object.keys(p);for(let D=0;D<O.length;D++){let{progress:N}=p[O[D]];if(N.uploadStarted&&!N.uploadComplete)return sn.STATE_UPLOADING;N.preprocess&&_!==sn.STATE_UPLOADING&&(_=sn.STATE_PREPROCESSING),N.postprocess&&_!==sn.STATE_UPLOADING&&_!==sn.STATE_PREPROCESSING&&(_=sn.STATE_POSTPROCESSING)}return _}o(PT,"getUploadingState");var om=class extends vt{constructor(r,n){super(r,n),this.startUpload=()=>{let{recoveredState:p}=this.uppy.getState();if(p){this.uppy.emit("restore-confirmed");return}return this.uppy.upload().catch(()=>{})},this.id=this.opts.id||"StatusBar",this.title="StatusBar",this.type="progressindicator",this.defaultLocale=p6;let c={target:"body",hideUploadButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideCancelButton:!1,showProgressDetails:!1,hideAfterFinish:!0,doneButtonHandler:null};this.opts={...c,...n},this.i18nInit(),this.render=this.render.bind(this),this.install=this.install.bind(this)}render(r){let{capabilities:n,files:c,allowNewUpload:p,totalProgress:_,error:O,recoveredState:D}=r,{newFiles:N,startedFiles:Y,completeFiles:ie,inProgressNotPausedFiles:X,isUploadStarted:ae,isAllComplete:ue,isAllErrored:xe,isAllPaused:We,isUploadInProgress:Mt,isSomeGhost:wt}=this.uppy.getObjectOfFilesPerState(),Ht=D?Object.values(c):N,xi=AT(X),Zt=!!n.resumableUploads,ht=n.uploadProgress!==!1,pt=0,dt=0;return Y.forEach(De=>{pt+=De.progress.bytesTotal||0,dt+=De.progress.bytesUploaded||0}),ET({error:O,uploadState:PT(O,ue,D,r.files||{}),allowNewUpload:p,totalProgress:_,totalSize:pt,totalUploadedSize:dt,isAllComplete:!1,isAllPaused:We,isUploadStarted:ae,isUploadInProgress:Mt,isSomeGhost:wt,recoveredState:D,complete:ie.length,newFiles:Ht.length,numUploads:Y.length,totalETA:xi,files:c,i18n:this.i18n,uppy:this.uppy,startUpload:this.startUpload,doneButtonHandler:this.opts.doneButtonHandler,resumableUploads:Zt,supportsUploadProgress:ht,showProgressDetails:this.opts.showProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideAfterFinish:this.opts.hideAfterFinish,isTargetDOMEl:this.isTargetDOMEl})}onMount(){let r=this.el;ft(r)||(r.dir="ltr")}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};o(om,"StatusBar"),om.VERSION=m6.version;var MT=300,LT=class extends se{constructor(){super(...arguments),this.ref=W()}componentWillEnter(r){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(r,MT)}componentWillLeave(r){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(r,MT)}render(){let{children:r}=this.props;return v("div",{className:"uppy-Informer-animated",ref:this.ref},r)}};o(LT,"FadeIn");function RT(r,n){return Object.assign(r,n)}o(RT,"assign");function FT(r,n){var c;return(c=r==null?void 0:r.key)!=null?c:n}o(FT,"getKey");function DT(r,n){let c=r._ptgLinkedRefs||(r._ptgLinkedRefs={});return c[n]||(c[n]=p=>{r.refs[n]=p})}o(DT,"linkRef");function Fh(r){let n={};for(let c=0;c<r.length;c++)if(r[c]!=null){let p=FT(r[c],c.toString(36));n[p]=r[c]}return n}o(Fh,"getChildMapping");function IT(r,n){r=r||{},n=n||{};let c=o(D=>n.hasOwnProperty(D)?n[D]:r[D],"getValueForKey"),p={},_=[];for(let D in r)n.hasOwnProperty(D)?_.length&&(p[D]=_,_=[]):_.push(D);let O={};for(let D in n){if(p.hasOwnProperty(D))for(let N=0;N<p[D].length;N++){let Y=p[D][N];O[p[D][N]]=c(Y)}O[D]=c(D)}for(let D=0;D<_.length;D++)O[_[D]]=c(_[D]);return O}o(IT,"mergeChildMappings");var g6=o(r=>r,"identity"),db=class extends se{constructor(r,n){super(r,n),this.refs={},this.state={children:Fh(Re(Re(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){let r=this.state.children;for(let n in r)r[n]&&this.performAppear(n)}componentWillReceiveProps(r){let n=Fh(Re(r.children)||[]),c=this.state.children;this.setState(_=>({children:IT(_.children,n)}));let p;for(p in n)if(n.hasOwnProperty(p)){let _=c&&c.hasOwnProperty(p);n[p]&&_&&this.currentlyTransitioningKeys[p]?(this.keysToEnter.push(p),this.keysToAbortLeave.push(p)):n[p]&&!_&&!this.currentlyTransitioningKeys[p]&&this.keysToEnter.push(p)}for(p in c)if(c.hasOwnProperty(p)){let _=n&&n.hasOwnProperty(p);c[p]&&!_&&!this.currentlyTransitioningKeys[p]&&this.keysToLeave.push(p)}}componentDidUpdate(){let{keysToEnter:r}=this;this.keysToEnter=[],r.forEach(this.performEnter);let{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(r){let n=this.keysToAbortLeave.indexOf(r);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(r){this.currentlyTransitioningKeys[r]=!0;let n=this.refs[r];n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,r)):this._handleDoneAppearing(r)}_handleDoneAppearing(r){let n=this.refs[r];n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[r],this._finishAbort(r);let c=Fh(Re(this.props.children)||[]);(!c||!c.hasOwnProperty(r))&&this.performLeave(r)}performEnter(r){this.currentlyTransitioningKeys[r]=!0;let n=this.refs[r];n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,r)):this._handleDoneEntering(r)}_handleDoneEntering(r){let n=this.refs[r];n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[r],this._finishAbort(r);let c=Fh(Re(this.props.children)||[]);(!c||!c.hasOwnProperty(r))&&this.performLeave(r)}performLeave(r){if(this.keysToAbortLeave.indexOf(r)!==-1)return;this.currentlyTransitioningKeys[r]=!0;let n=this.refs[r];n.componentWillLeave?n.componentWillLeave(this._handleDoneLeaving.bind(this,r)):this._handleDoneLeaving(r)}_handleDoneLeaving(r){if(this.keysToAbortLeave.indexOf(r)!==-1)return;let n=this.refs[r];n.componentDidLeave&&n.componentDidLeave(),delete this.currentlyTransitioningKeys[r];let c=Fh(Re(this.props.children)||[]);if(c&&c.hasOwnProperty(r))this.performEnter(r);else{let p=RT({},this.state.children);delete p[r],this.setState({children:p})}}render(r,n){let{childFactory:c,transitionLeave:p,transitionName:_,transitionAppear:O,transitionEnter:D,transitionLeaveTimeout:N,transitionEnterTimeout:Y,transitionAppearTimeout:ie,component:X,...ae}=r,{children:ue}=n,xe=Object.entries(ue).map(We=>{let[Mt,wt]=We;if(!wt)return;let Ht=DT(this,Mt);return oe(c(wt),{ref:Ht,key:Mt})}).filter(Boolean);return v(X,ae,xe)}};o(db,"TransitionGroup"),db.defaultProps={component:"span",childFactory:g6};var y6=db,v6={version:"3.0.1"},lm=class extends vt{constructor(r,n){super(r,n),this.render=p=>v("div",{className:"uppy uppy-Informer"},v(y6,null,p.info.map(_=>v(LT,{key:_.message},v("p",{role:"alert"},_.message," ",_.details&&v("span",{"aria-label":_.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${_.message}

 ${_.details}`)},"?")))))),this.type="progressindicator",this.id=this.opts.id||"Informer",this.title="Informer";let c={};this.opts={...c,...n}}install(){let{target:r}=this.opts;r&&this.mount(r,this)}};o(lm,"Informer"),lm.VERSION=v6.version;var b6=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function BT(r,n,c){var p,_;let O=b6.exec(r),D=(p=(_=n.mimeType)!=null?_:O==null?void 0:O[1])!=null?p:"plain/text",N;if(O[2]!=null){let Y=atob(decodeURIComponent(O[3])),ie=new Uint8Array(Y.length);for(let X=0;X<Y.length;X++)ie[X]=Y.charCodeAt(X);N=[ie]}else N=[decodeURIComponent(O[3])];return c?new File(N,n.name||"",{type:D}):new Blob(N,{type:D})}o(BT,"dataURItoBlob");function fb(r){return r.startsWith("blob:")}o(fb,"isObjectURL");function lr(r,n,c){return n in r?Object.defineProperty(r,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[n]=c,r}o(lr,"e");var NT=typeof self<"u"?self:global,nd=typeof navigator<"u",w6=nd&&typeof HTMLImageElement>"u",zT=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),UT=NT.Buffer,HT=!!UT,_6=o(r=>r!==void 0,"h");function pb(r){return r===void 0||(r instanceof Map?r.size===0:Object.values(r).filter(_6).length===0)}o(pb,"f");function gs(r){let n=new Error(r);throw delete n.stack,n}o(gs,"l");function mb(r){let n=function(c){let p=0;return c.ifd0.enabled&&(p+=1024),c.exif.enabled&&(p+=2048),c.makerNote&&(p+=2048),c.userComment&&(p+=1024),c.gps.enabled&&(p+=512),c.interop.enabled&&(p+=100),c.ifd1.enabled&&(p+=1024),p+2048}(r);return r.jfif.enabled&&(n+=50),r.xmp.enabled&&(n+=2e4),r.iptc.enabled&&(n+=14e3),r.icc.enabled&&(n+=6e3),n}o(mb,"o");var gb=o(r=>String.fromCharCode.apply(null,r),"u"),WT=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0,On=class{static from(r,n){return r instanceof this&&r.le===n?r:new On(r,void 0,void 0,n)}constructor(r,n=0,c,p){if(typeof p=="boolean"&&(this.le=p),Array.isArray(r)&&(r=new Uint8Array(r)),r===0)this.byteOffset=0,this.byteLength=0;else if(r instanceof ArrayBuffer){c===void 0&&(c=r.byteLength-n);let _=new DataView(r,n,c);this._swapDataView(_)}else if(r instanceof Uint8Array||r instanceof DataView||r instanceof On){c===void 0&&(c=r.byteLength-n),(n+=r.byteOffset)+c>r.byteOffset+r.byteLength&&gs("Creating view outside of available memory in ArrayBuffer");let _=new DataView(r.buffer,n,c);this._swapDataView(_)}else if(typeof r=="number"){let _=new DataView(new ArrayBuffer(r));this._swapDataView(_)}else gs("Invalid input argument for BufferView: "+r)}_swapArrayBuffer(r){this._swapDataView(new DataView(r))}_swapBuffer(r){this._swapDataView(new DataView(r.buffer,r.byteOffset,r.byteLength))}_swapDataView(r){this.dataView=r,this.buffer=r.buffer,this.byteOffset=r.byteOffset,this.byteLength=r.byteLength}_lengthToEnd(r){return this.byteLength-r}set(r,n,c=On){return r instanceof DataView||r instanceof On?r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer&&(r=new Uint8Array(r)),r instanceof Uint8Array||gs("BufferView.set(): Invalid data argument."),this.toUint8().set(r,n),new c(this,n,r.byteLength)}subarray(r,n){return n=n||this._lengthToEnd(r),new On(this,r,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(r,n){return new Uint8Array(this.buffer,this.byteOffset+r,n)}getString(r=0,n=this.byteLength){return c=this.getUint8Array(r,n),WT?WT.decode(c):HT?Buffer.from(c).toString("utf8"):decodeURIComponent(escape(gb(c)));var c}getLatin1String(r=0,n=this.byteLength){let c=this.getUint8Array(r,n);return gb(c)}getUnicodeString(r=0,n=this.byteLength){let c=[];for(let p=0;p<n&&r+p<this.byteLength;p+=2)c.push(this.getUint16(r+p));return gb(c)}getInt8(r){return this.dataView.getInt8(r)}getUint8(r){return this.dataView.getUint8(r)}getInt16(r,n=this.le){return this.dataView.getInt16(r,n)}getInt32(r,n=this.le){return this.dataView.getInt32(r,n)}getUint16(r,n=this.le){return this.dataView.getUint16(r,n)}getUint32(r,n=this.le){return this.dataView.getUint32(r,n)}getFloat32(r,n=this.le){return this.dataView.getFloat32(r,n)}getFloat64(r,n=this.le){return this.dataView.getFloat64(r,n)}getFloat(r,n=this.le){return this.dataView.getFloat32(r,n)}getDouble(r,n=this.le){return this.dataView.getFloat64(r,n)}getUintBytes(r,n,c){switch(n){case 1:return this.getUint8(r,c);case 2:return this.getUint16(r,c);case 4:return this.getUint32(r,c);case 8:return this.getUint64&&this.getUint64(r,c)}}getUint(r,n,c){switch(n){case 8:return this.getUint8(r,c);case 16:return this.getUint16(r,c);case 32:return this.getUint32(r,c);case 64:return this.getUint64&&this.getUint64(r,c)}}toString(r){return this.dataView.toString(r,this.constructor.name)}ensureChunk(){}};o(On,"c");function cm(r,n){gs(`${r} '${n}' was not loaded, try using full build of exifr.`)}o(cm,"p");var hm=class extends Map{constructor(r){super(),this.kind=r}get(r,n){return this.has(r)||cm(this.kind,r),n&&(r in n||function(c,p){gs(`Unknown ${c} '${p}'.`)}(this.kind,r),n[r].enabled||cm(this.kind,r)),super.get(r)}keyList(){return Array.from(this.keys())}};o(hm,"g");var jT=new hm("file parser"),An=new hm("segment parser"),yb=new hm("file reader"),x6=NT.fetch;function vb(r,n){return(c=r).startsWith("data:")||c.length>1e4?dm(r,n,"base64"):zT&&r.includes("://")?um(r,n,"url",qT):zT?dm(r,n,"fs"):nd?um(r,n,"url",qT):void gs("Invalid input argument");var c}o(vb,"k");async function um(r,n,c,p){return yb.has(c)?dm(r,n,c):p?async function(_,O){let D=await O(_);return new On(D)}(r,p):void gs(`Parser ${c} is not loaded`)}o(um,"O");async function dm(r,n,c){let p=new(yb.get(c))(r,n);return await p.read(),p}o(dm,"v");var qT=o(r=>x6(r).then(n=>n.arrayBuffer()),"S"),bb=o(r=>new Promise((n,c)=>{let p=new FileReader;p.onloadend=()=>n(p.result||new ArrayBuffer),p.onerror=c,p.readAsArrayBuffer(r)}),"A"),$T=class extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}};o($T,"U");function k6(r,n,c){let p=new $T;for(let[_,O]of c)p.set(_,O);if(Array.isArray(n))for(let _ of n)r.set(_,p);else r.set(n,p);return p}o(k6,"x");function S6(r,n,c){let p,_=r.get(n);for(p of c)_.set(p[0],p[1])}o(S6,"C");var wb=new Map,T6=new Map,C6=new Map,fm=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],VT=["jfif","xmp","icc","iptc","ihdr"],_b=["tiff",...VT],Es=["ifd0","ifd1","exif","gps","interop"],pm=[..._b,...Es],mm=["makerNote","userComment"],YT=["translateKeys","translateValues","reviveValues","multiSegment"],gm=[...YT,"sanitize","mergeOutput","silentErrors"],xb=class{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}};o(xb,"_");var Dh=class extends xb{get needed(){return this.enabled||this.deps.size>0}constructor(r,n,c,p){if(super(),lr(this,"enabled",!1),lr(this,"skip",new Set),lr(this,"pick",new Set),lr(this,"deps",new Set),lr(this,"translateKeys",!1),lr(this,"translateValues",!1),lr(this,"reviveValues",!1),this.key=r,this.enabled=n,this.parse=this.enabled,this.applyInheritables(p),this.canBeFiltered=Es.includes(r),this.canBeFiltered&&(this.dict=wb.get(r)),c!==void 0)if(Array.isArray(c))this.parse=this.enabled=!0,this.canBeFiltered&&c.length>0&&this.translateTagSet(c,this.pick);else if(typeof c=="object"){if(this.enabled=!0,this.parse=c.parse!==!1,this.canBeFiltered){let{pick:_,skip:O}=c;_&&_.length>0&&this.translateTagSet(_,this.pick),O&&O.length>0&&this.translateTagSet(O,this.skip)}this.applyInheritables(c)}else c===!0||c===!1?this.parse=this.enabled=c:gs(`Invalid options argument: ${c}`)}applyInheritables(r){let n,c;for(n of YT)c=r[n],c!==void 0&&(this[n]=c)}translateTagSet(r,n){if(this.dict){let c,p,{tagKeys:_,tagValues:O}=this.dict;for(c of r)typeof c=="string"?(p=O.indexOf(c),p===-1&&(p=_.indexOf(Number(c))),p!==-1&&n.add(Number(_[p]))):n.add(c)}else for(let c of r)n.add(c)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,od(this.pick,this.deps)):this.enabled&&this.pick.size>0&&od(this.pick,this.deps)}};o(Dh,"D");var la={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},GT=new Map,ym=class extends xb{static useCached(r){let n=GT.get(r);return n!==void 0||(n=new this(r),GT.set(r,n)),n}constructor(r){super(),r===!0?this.setupFromTrue():r===void 0?this.setupFromUndefined():Array.isArray(r)?this.setupFromArray(r):typeof r=="object"?this.setupFromObject(r):gs(`Invalid options argument ${r}`),this.firstChunkSize===void 0&&(this.firstChunkSize=nd?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let r;for(r of fm)this[r]=la[r];for(r of gm)this[r]=la[r];for(r of mm)this[r]=la[r];for(r of pm)this[r]=new Dh(r,la[r],void 0,this)}setupFromTrue(){let r;for(r of fm)this[r]=la[r];for(r of gm)this[r]=la[r];for(r of mm)this[r]=!0;for(r of pm)this[r]=new Dh(r,!0,void 0,this)}setupFromArray(r){let n;for(n of fm)this[n]=la[n];for(n of gm)this[n]=la[n];for(n of mm)this[n]=la[n];for(n of pm)this[n]=new Dh(n,!1,void 0,this);this.setupGlobalFilters(r,void 0,Es)}setupFromObject(r){let n;for(n of(Es.ifd0=Es.ifd0||Es.image,Es.ifd1=Es.ifd1||Es.thumbnail,Object.assign(this,r),fm))this[n]=vm(r[n],la[n]);for(n of gm)this[n]=vm(r[n],la[n]);for(n of mm)this[n]=vm(r[n],la[n]);for(n of _b)this[n]=new Dh(n,la[n],r[n],this);for(n of Es)this[n]=new Dh(n,la[n],r[n],this.tiff);this.setupGlobalFilters(r.pick,r.skip,Es,pm),r.tiff===!0?this.batchEnableWithBool(Es,!0):r.tiff===!1?this.batchEnableWithUserValue(Es,r):Array.isArray(r.tiff)?this.setupGlobalFilters(r.tiff,void 0,Es):typeof r.tiff=="object"&&this.setupGlobalFilters(r.tiff.pick,r.tiff.skip,Es)}batchEnableWithBool(r,n){for(let c of r)this[c].enabled=n}batchEnableWithUserValue(r,n){for(let c of r){let p=n[c];this[c].enabled=p!==!1&&p!==void 0}}setupGlobalFilters(r,n,c,p=c){if(r&&r.length){for(let O of p)this[O].enabled=!1;let _=kb(r,c);for(let[O,D]of _)od(this[O].pick,D),this[O].enabled=!0}else if(n&&n.length){let _=kb(n,c);for(let[O,D]of _)od(this[O].skip,D)}}filterNestedSegmentTags(){let{ifd0:r,exif:n,xmp:c,iptc:p,icc:_}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),c.enabled||r.skip.add(700),p.enabled||r.skip.add(33723),_.enabled||r.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:r,exif:n,gps:c,interop:p}=this;p.needed&&(n.deps.add(40965),r.deps.add(40965)),n.needed&&r.deps.add(34665),c.needed&&r.deps.add(34853),this.tiff.enabled=Es.some(_=>this[_].enabled===!0)||this.makerNote||this.userComment;for(let _ of Es)this[_].finalizeFilters()}get onlyTiff(){return!VT.map(r=>this[r].enabled).some(r=>r===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let r of _b)this[r].enabled&&!An.has(r)&&cm("segment parser",r)}};o(ym,"R");function kb(r,n){let c,p,_,O,D=[];for(_ of n){for(O of(c=wb.get(_),p=[],c))(r.includes(O[0])||r.includes(O[1]))&&p.push(O[0]);p.length&&D.push([_,p])}return D}o(kb,"K");function vm(r,n){return r!==void 0?r:n!==void 0?n:void 0}o(vm,"W");function od(r,n){for(let c of n)r.add(c)}o(od,"X"),lr(ym,"default",la);var Sb=class{constructor(r){lr(this,"parsers",{}),lr(this,"output",{}),lr(this,"errors",[]),lr(this,"pushToErrors",n=>this.errors.push(n)),this.options=ym.useCached(r)}async read(r){this.file=await function(n,c){return typeof n=="string"?vb(n,c):nd&&!w6&&n instanceof HTMLImageElement?vb(n.src,c):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new On(n):nd&&n instanceof Blob?um(n,c,"blob",bb):void gs("Invalid input argument")}(r,this.options)}setup(){if(this.fileParser)return;let{file:r}=this,n=r.getUint16(0);for(let[c,p]of jT)if(p.canHandle(r,n))return this.fileParser=new p(this.options,this.file,this.parsers),r[c]=!0;this.file.close&&this.file.close(),gs("Unknown file format")}async parse(){let{output:r,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(r.errors=n),pb(c=r)?void 0:c;var c}async executeParsers(){let{output:r}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async c=>{let p=await c.parse();c.assignToOutput(r,p)});this.options.silentErrors&&(n=n.map(c=>c.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:r,file:n}=this,c=An.get("tiff",r);var p;if(n.tiff?p={start:0,type:"tiff"}:n.jpeg&&(p=await this.fileParser.getOrFindSegment("tiff")),p===void 0)return;let _=await this.fileParser.ensureSegmentChunk(p),O=this.parsers.tiff=new c(_,r,n),D=await O.extractThumbnail();return n.close&&n.close(),D}};o(Sb,"H");async function E6(r,n){let c=new Sb(n);return await c.read(r),c.parse()}o(E6,"Y");var ic=class{static findPosition(r,n){let c=r.getUint16(n+2)+2,p=typeof this.headerLength=="function"?this.headerLength(r,n,c):this.headerLength,_=n+p,O=c-p;return{offset:n,length:c,headerLength:p,start:_,size:O,end:_+O}}static parse(r,n={}){return new this(r,new ym({[this.type]:n}),r).parse()}normalizeInput(r){return r instanceof On?r:new On(r)}constructor(r,n={},c){lr(this,"errors",[]),lr(this,"raw",new Map),lr(this,"handleError",p=>{if(!this.options.silentErrors)throw p;this.errors.push(p.message)}),this.chunk=this.normalizeInput(r),this.file=c,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(r,n){let c=C6.get(n),p=T6.get(n),_=wb.get(n),O=this.options[n],D=O.reviveValues&&!!c,N=O.translateValues&&!!p,Y=O.translateKeys&&!!_,ie={};for(let[X,ae]of r)D&&c.has(X)?ae=c.get(X)(ae):N&&p.has(X)&&(ae=this.translateValue(ae,p.get(X))),Y&&_.has(X)&&(X=_.get(X)||X),ie[X]=ae;return ie}translateValue(r,n){return n[r]||n.DEFAULT||r}assignToOutput(r,n){this.assignObjectToOutput(r,this.constructor.type,n)}assignObjectToOutput(r,n,c){if(this.globalOptions.mergeOutput)return Object.assign(r,c);r[n]?Object.assign(r[n],c):r[n]=c}};o(ic,"J"),lr(ic,"headerLength",4),lr(ic,"type",void 0),lr(ic,"multiSegment",!1),lr(ic,"canHandle",()=>!1);function XT(r){return r===192||r===194||r===196||r===219||r===221||r===218||r===254}o(XT,"q");function KT(r){return r>=224&&r<=239}o(KT,"Q");function ZT(r,n,c){for(let[p,_]of An)if(_.canHandle(r,n,c))return p}o(ZT,"Z");var Tb=class extends class{constructor(r,n,c){lr(this,"errors",[]),lr(this,"ensureSegmentChunk",async p=>{let _=p.start,O=p.size||65536;if(this.file.chunked)if(this.file.available(_,O))p.chunk=this.file.subarray(_,O);else try{p.chunk=await this.file.readChunk(_,O)}catch(D){gs(`Couldn't read segment: ${JSON.stringify(p)}. ${D.message}`)}else this.file.byteLength>_+O?p.chunk=this.file.subarray(_,O):p.size===void 0?p.chunk=this.file.subarray(_):gs("Segment unreachable: "+JSON.stringify(p));return p.chunk}),this.extendOptions&&this.extendOptions(r),this.options=r,this.file=n,this.parsers=c}injectSegment(r,n){this.options[r].enabled&&this.createParser(r,n)}createParser(r,n){let c=new(An.get(r))(n,this.options,this.file);return this.parsers[r]=c}createParsers(r){for(let n of r){let{type:c,chunk:p}=n,_=this.options[c];if(_&&_.enabled){let O=this.parsers[c];O&&O.append||O||this.createParser(c,p)}}}async readSegments(r){let n=r.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...r){super(...r),lr(this,"appSegments",[]),lr(this,"jpegSegments",[]),lr(this,"unknownSegments",[])}static canHandle(r,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(r){r===!0?(this.findAll=!0,this.wanted=new Set(An.keyList())):(r=r===void 0?An.keyList().filter(n=>this.options[n].enabled):r.filter(n=>this.options[n].enabled&&An.has(n)),this.findAll=!1,this.remaining=new Set(r),this.wanted=new Set(r)),this.unfinishedMultiSegment=!1}async findAppSegments(r=0,n){this.setupSegmentFinderArgs(n);let{file:c,findAll:p,wanted:_,remaining:O}=this;if(!p&&this.file.chunked&&(p=Array.from(_).some(D=>{let N=An.get(D),Y=this.options[D];return N.multiSegment&&Y.multiSegment}),p&&await this.file.readWhole()),r=this.findAppSegmentsInRange(r,c.byteLength),!this.options.onlyTiff&&c.chunked){let D=!1;for(;O.size>0&&!D&&(c.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:N}=c,Y=this.appSegments.some(ie=>!this.file.available(ie.offset||ie.start,ie.length||ie.size));if(D=r>N&&!Y?!await c.readNextChunk(r):!await c.readNextChunk(N),(r=this.findAppSegmentsInRange(r,c.byteLength))===void 0)return}}}findAppSegmentsInRange(r,n){n-=2;let c,p,_,O,D,N,{file:Y,findAll:ie,wanted:X,remaining:ae,options:ue}=this;for(;r<n;r++)if(Y.getUint8(r)===255){if(c=Y.getUint8(r+1),KT(c)){if(p=Y.getUint16(r+2),_=ZT(Y,r,p),_&&X.has(_)&&(O=An.get(_),D=O.findPosition(Y,r),N=ue[_],D.type=_,this.appSegments.push(D),!ie&&(O.multiSegment&&N.multiSegment?(this.unfinishedMultiSegment=D.chunkNumber<D.chunkCount,this.unfinishedMultiSegment||ae.delete(_)):ae.delete(_),ae.size===0)))break;ue.recordUnknownSegments&&(D=ic.findPosition(Y,r),D.marker=c,this.unknownSegments.push(D)),r+=p+1}else if(XT(c)){if(p=Y.getUint16(r+2),c===218&&ue.stopAfterSos!==!1)return;ue.recordJpegSegments&&this.jpegSegments.push({offset:r,length:p,marker:c}),r+=p+1}}return r}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let r=function(n,c){let p,_,O,D=new Map;for(let N=0;N<n.length;N++)p=n[N],_=p[c],D.has(_)?O=D.get(_):D.set(_,O=[]),O.push(p);return Array.from(D)}(this.appSegments,"type");this.mergedAppSegments=r.map(([n,c])=>{let p=An.get(n,this.options);return p.handleMultiSegments?{type:n,chunk:p.handleMultiSegments(c)}:c[0]})}getSegment(r){return this.appSegments.find(n=>n.type===r)}async getOrFindSegment(r){let n=this.getSegment(r);return n===void 0&&(await this.findAppSegments(0,[r]),n=this.getSegment(r)),n}};o(Tb,"ee"),lr(Tb,"type","jpeg"),jT.set("jpeg",Tb);var O6=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4],QT=class extends ic{parseHeader(){var r=this.chunk.getUint16();r===18761?this.le=!0:r===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(r,n,c=new Map){let{pick:p,skip:_}=this.options[n];p=new Set(p);let O=p.size>0,D=_.size===0,N=this.chunk.getUint16(r);r+=2;for(let Y=0;Y<N;Y++){let ie=this.chunk.getUint16(r);if(O){if(p.has(ie)&&(c.set(ie,this.parseTag(r,ie,n)),p.delete(ie),p.size===0))break}else!D&&_.has(ie)||c.set(ie,this.parseTag(r,ie,n));r+=12}return c}parseTag(r,n,c){let{chunk:p}=this,_=p.getUint16(r+2),O=p.getUint32(r+4),D=O6[_];if(D*O<=4?r+=8:r=p.getUint32(r+8),(_<1||_>13)&&gs(`Invalid TIFF value type. block: ${c.toUpperCase()}, tag: ${n.toString(16)}, type: ${_}, offset ${r}`),r>p.byteLength&&gs(`Invalid TIFF value offset. block: ${c.toUpperCase()}, tag: ${n.toString(16)}, type: ${_}, offset ${r} is outside of chunk size ${p.byteLength}`),_===1)return p.getUint8Array(r,O);if(_===2)return(N=function(Y){for(;Y.endsWith("\0");)Y=Y.slice(0,-1);return Y}(N=p.getString(r,O)).trim())===""?void 0:N;var N;if(_===7)return p.getUint8Array(r,O);if(O===1)return this.parseTagValue(_,r);{let Y=new(function(X){switch(X){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(_))(O),ie=D;for(let X=0;X<O;X++)Y[X]=this.parseTagValue(_,r),r+=ie;return Y}}parseTagValue(r,n){let{chunk:c}=this;switch(r){case 1:return c.getUint8(n);case 3:return c.getUint16(n);case 4:return c.getUint32(n);case 5:return c.getUint32(n)/c.getUint32(n+4);case 6:return c.getInt8(n);case 8:return c.getInt16(n);case 9:return c.getInt32(n);case 10:return c.getInt32(n)/c.getInt32(n+4);case 11:return c.getFloat(n);case 12:return c.getDouble(n);case 13:return c.getUint32(n);default:gs(`Invalid tiff type ${r}`)}}};o(QT,"se");var bm=class extends QT{static canHandle(r,n){return r.getUint8(n+1)===225&&r.getUint32(n+4)===1165519206&&r.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:r}=this;return r.ifd0.enabled&&await this.parseIfd0Block(),r.exif.enabled&&await this.safeParse("parseExifBlock"),r.gps.enabled&&await this.safeParse("parseGpsBlock"),r.interop.enabled&&await this.safeParse("parseInteropBlock"),r.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(r){let n=this[r]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let r=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*r;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(r,n){let c=new Map;return this[n]=c,this.parseTags(r,n,c),c}async parseIfd0Block(){if(this.ifd0)return;let{file:r}=this;this.findIfd0Offset(),this.ifd0Offset<8&&gs("Malformed EXIF data"),!r.chunked&&this.ifd0Offset>r.byteLength&&gs(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${r.byteLength}`),r.tiff&&await r.ensureChunk(this.ifd0Offset,mb(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,mb(this.options));let r=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=r.get(40965)),this.makerNote=r.get(37500),this.userComment=r.get(37510),this.options.sanitize&&(r.delete(40965),r.delete(37500),r.delete(37510)),this.unpack(r,41728),this.unpack(r,41729),r}unpack(r,n){let c=r.get(n);c&&c.length===1&&r.set(n,c[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let r=this.parseBlock(this.gpsOffset,"gps");return r&&r.has(2)&&r.has(4)&&(r.set("latitude",Cb(...r.get(2),r.get(1))),r.set("longitude",Cb(...r.get(4),r.get(3)))),r}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(r=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||r))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let r=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(r,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let r,n,c,p={};for(n of Es)if(r=this[n],!pb(r))if(c=this.canTranslate?this.translateBlock(r,n):Object.fromEntries(r),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(p,c)}else p[n]=c;return this.makerNote&&(p.makerNote=this.makerNote),this.userComment&&(p.userComment=this.userComment),p}assignToOutput(r,n){if(this.globalOptions.mergeOutput)Object.assign(r,n);else for(let[c,p]of Object.entries(n))this.assignObjectToOutput(r,c,p)}};o(bm,"ie");function Cb(r,n,c,p){var _=r+n/60+c/3600;return p!=="S"&&p!=="W"||(_*=-1),_}o(Cb,"ne"),lr(bm,"type","tiff"),lr(bm,"headerLength",10),An.set("tiff",bm);var Eb={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},Eb,{firstChunkSize:4e4,gps:[1,2,3,4]}),Object.assign({},Eb,{tiff:!1,ifd1:!0,mergeOutput:!1});var A6=Object.assign({},Eb,{firstChunkSize:4e4,ifd0:[274]});async function JT(r){let n=new Sb(A6);await n.read(r);let c=await n.parse();if(c&&c.ifd0)return c.ifd0[274]}o(JT,"ce");var P6=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}}),ld=!0,cd=!0;if(typeof navigator=="object"){let r=navigator.userAgent;if(r.includes("iPad")||r.includes("iPhone")){let n=r.match(/OS (\d+)_(\d+)/);if(n){let[,c,p]=n;ld=Number(c)+.1*Number(p)<13.4,cd=!1}}else if(r.includes("OS X 10")){let[,n]=r.match(/OS X 10[_.](\d+)/);ld=cd=Number(n)<15}if(r.includes("Chrome/")){let[,n]=r.match(/Chrome\/(\d+)/);ld=cd=Number(n)<81}else if(r.includes("Firefox/")){let[,n]=r.match(/Firefox\/(\d+)/);ld=cd=Number(n)<77}}async function e2(r){let n=await JT(r);return Object.assign({canvas:ld,css:cd},P6[n])}o(e2,"ye");var t2=class extends On{constructor(...r){super(...r),lr(this,"ranges",new i2),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(r,n,c){if(r===0&&this.byteLength===0&&c){let p=new DataView(c.buffer||c,c.byteOffset,c.byteLength);this._swapDataView(p)}else{let p=r+n;if(p>this.byteLength){let{dataView:_}=this._extend(p);this._swapDataView(_)}}}_extend(r){let n;n=HT?UT.allocUnsafe(r):new Uint8Array(r);let c=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:c}}subarray(r,n,c=!1){return n=n||this._lengthToEnd(r),c&&this._tryExtend(r,n),this.ranges.add(r,n),super.subarray(r,n)}set(r,n,c=!1){c&&this._tryExtend(n,r.byteLength,r);let p=super.set(r,n);return this.ranges.add(n,p.byteLength),p}async ensureChunk(r,n){this.chunked&&(this.ranges.available(r,n)||await this.readChunk(r,n))}available(r,n){return this.ranges.available(r,n)}};o(t2,"be");var i2=class{constructor(){lr(this,"list",[])}get length(){return this.list.length}add(r,n,c=0){let p=r+n,_=this.list.filter(O=>Ob(r,O.offset,p)||Ob(r,O.end,p));if(_.length>0){r=Math.min(r,..._.map(D=>D.offset)),p=Math.max(p,..._.map(D=>D.end)),n=p-r;let O=_.shift();O.offset=r,O.length=n,O.end=p,this.list=this.list.filter(D=>!_.includes(D))}else this.list.push({offset:r,length:n,end:p})}available(r,n){let c=r+n;return this.list.some(p=>p.offset<=r&&c<=p.end)}};o(i2,"we");function Ob(r,n,c){return r<=n&&n<=c}o(Ob,"ke");var r2=class extends t2{constructor(r,n){super(0),lr(this,"chunksRead",0),this.input=r,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(r=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,c=await this.readChunk(r,n);return!!c&&c.byteLength===n}async readChunk(r,n){if(this.chunksRead++,(n=this.safeWrapAddress(r,n))!==0)return this._readChunk(r,n)}safeWrapAddress(r,n){return this.size!==void 0&&r+n>this.size?Math.max(0,this.size-r):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}};o(r2,"Oe"),yb.set("blob",class extends r2{async readWhole(){this.chunked=!1;let r=await bb(this.input);this._swapArrayBuffer(r)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(r,n){let c=n?r+n:void 0,p=this.input.slice(r,c),_=await bb(p);return this.set(_,r,!0)}});var M6={strings:{generatingThumbnails:"Generating thumbnails..."}},L6={version:"3.0.2"};function s2(r,n,c){try{r.getContext("2d").getImageData(0,0,1,1)}catch(p){if(p.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return r.toBlob?new Promise(p=>{r.toBlob(p,n,c)}).then(p=>{if(p===null)throw new Error("cannot read image, probably an svg with external resources");return p}):Promise.resolve().then(()=>BT(r.toDataURL(n,c),{})).then(p=>{if(p===null)throw new Error("could not extract blob, probably an old browser");return p})}o(s2,"canvasToBlob");function a2(r,n){let c=r.width,p=r.height;(n.deg===90||n.deg===270)&&(c=r.height,p=r.width);let _=document.createElement("canvas");_.width=c,_.height=p;let O=_.getContext("2d");return O.translate(c/2,p/2),n.canvas&&(O.rotate(n.rad),O.scale(n.scaleX,n.scaleY)),O.drawImage(r,-r.width/2,-r.height/2,r.width,r.height),_}o(a2,"rotateImage");function n2(r){let n=r.width/r.height,c=5e6,p=4096,_=Math.floor(Math.sqrt(c*n)),O=Math.floor(c/Math.sqrt(c*n));if(_>p&&(_=p,O=Math.round(_/n)),O>p&&(O=p,_=Math.round(n*O)),r.width>_){let D=document.createElement("canvas");return D.width=_,D.height=O,D.getContext("2d").drawImage(r,0,0,_,O),D}return r}o(n2,"protect");var wm=class extends vt{constructor(r,n){super(r,n),this.onFileAdded=p=>{!p.preview&&p.data&&tm(p.type)&&!p.isRemote&&this.addToQueue(p.id)},this.onCancelRequest=p=>{let _=this.queue.indexOf(p.id);_!==-1&&this.queue.splice(_,1)},this.onFileRemoved=p=>{let _=this.queue.indexOf(p.id);_!==-1&&this.queue.splice(_,1),p.preview&&fb(p.preview)&&URL.revokeObjectURL(p.preview)},this.onRestored=()=>{this.uppy.getFiles().filter(p=>p.isRestored).forEach(p=>{(!p.preview||fb(p.preview))&&this.addToQueue(p.id)})},this.onAllFilesRemoved=()=>{this.queue=[]},this.waitUntilAllProcessed=p=>{p.forEach(O=>{let D=this.uppy.getFile(O);this.uppy.emit("preprocess-progress",D,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});let _=o(()=>{p.forEach(O=>{let D=this.uppy.getFile(O);this.uppy.emit("preprocess-complete",D)})},"emitPreprocessCompleteForAll");return new Promise(O=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{_(),O()}):(_(),O())})},this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType||"image/jpeg",this.defaultLocale=M6;let c={thumbnailWidth:null,thumbnailHeight:null,waitForThumbnailsBeforeUpload:!1,lazy:!1};if(this.opts={...c,...n},this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(r,n,c){let p=URL.createObjectURL(r.data),_=new Promise((D,N)=>{let Y=new Image;Y.src=p,Y.addEventListener("load",()=>{URL.revokeObjectURL(p),D(Y)}),Y.addEventListener("error",ie=>{URL.revokeObjectURL(p),N(ie.error||new Error("Could not create thumbnail"))})}),O=e2(r.data).catch(()=>1);return Promise.all([_,O]).then(D=>{let[N,Y]=D,ie=this.getProportionalDimensions(N,n,c,Y.deg),X=a2(N,Y),ae=this.resizeImage(X,ie.width,ie.height);return s2(ae,this.thumbnailType,80)}).then(D=>URL.createObjectURL(D))}getProportionalDimensions(r,n,c,p){let _=r.width/r.height;return(p===90||p===270)&&(_=r.height/r.width),n!=null?{width:n,height:Math.round(n/_)}:c!=null?{width:Math.round(c*_),height:c}:{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/_)}}resizeImage(r,n,c){let p=n2(r),_=Math.ceil(Math.log2(p.width/n));_<1&&(_=1);let O=n*2**(_-1),D=c*2**(_-1),N=2;for(;_--;){let Y=document.createElement("canvas");Y.width=O,Y.height=D,Y.getContext("2d").drawImage(p,0,0,O,D),p=Y,O=Math.round(O/N),D=Math.round(D/N)}return p}setPreviewURL(r,n){this.uppy.setFileState(r,{preview:n})}addToQueue(r){this.queue.push(r),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){let r=this.uppy.getFile(this.queue.shift());return r?this.requestThumbnail(r).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(r){return tm(r.type)&&!r.isRemote?this.createThumbnail(r,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(n=>{this.setPreviewURL(r.id,n),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${r.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(r.id),n)}).catch(n=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${r.id}:`,"warning"),this.uppy.log(n,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(r.id),n)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}};o(wm,"ThumbnailGenerator"),wm.VERSION=L6.version;function Ab(r){if(typeof r=="string"){let n=document.querySelectorAll(r);return n.length===0?null:Array.from(n)}return typeof r=="object"&&ke(r)?[r]:null}o(Ab,"findAllDOMElements");var Pn=Array.from;function Pb(r,n,c,p){let{onSuccess:_}=p;r.readEntries(O=>{let D=[...n,...O];O.length?queueMicrotask(()=>{Pb(r,D,c,{onSuccess:_})}):_(D)},O=>{c(O),_(n)})}o(Pb,"getFilesAndDirectoriesFromDirectory");function Mb(r,n){return r==null?r:{kind:r.isFile?"file":r.isDirectory?"directory":void 0,name:r.name,getFile(){return new Promise((c,p)=>r.file(c,p))},async*values(){let c=r.createReader();yield*await new Promise(p=>{Pb(c,[],n,{onSuccess:_=>p(_.map(O=>Mb(O,n)))})})}}}o(Mb,"getAsFileSystemHandleFromEntry");async function*Lb(r,n){if(r.kind==="file"){let c=await r.getFile();c!==null&&(c.relativePath=n?`${n}/${r.name}`:null,yield c)}else if(r.kind==="directory")for await(let c of r.values())yield*Lb(c,`${n}/${r.name}`)}o(Lb,"createPromiseToAddFileOrParseDirectory");async function*o2(r,n){let c=await Promise.all(Array.from(r.items,async p=>{var _;let O=p.getAsFile(),D=(_=await(p.getAsFileSystemHandle==null?void 0:p.getAsFileSystemHandle()))!=null?_:Mb(p.webkitGetAsEntry(),n);return{lastResortFile:O,entry:D}}));for(let{lastResortFile:p,entry:_}of c)if(_!=null)try{yield*Lb(_,"")}catch(O){p?yield p:n(O)}}o(o2,"getFilesFromDataTransfer");function l2(r){let n=Pn(r.files);return Promise.resolve(n)}o(l2,"fallbackApi");async function _m(r,n){let{logDropError:c=o(()=>{},"logDropError")}=n===void 0?{}:n;try{let p=[];for await(let _ of o2(r,c))p.push(_);return p}catch{return l2(r)}}o(_m,"getDroppedFiles");var c2=Number.isNaN||o(function(r){return typeof r=="number"&&r!==r},"ponyfill");function h2(r,n){return!!(r===n||c2(r)&&c2(n))}o(h2,"isEqual");function u2(r,n){if(r.length!==n.length)return!1;for(var c=0;c<r.length;c++)if(!h2(r[c],n[c]))return!1;return!0}o(u2,"areInputsEqual");function Rb(r,n){n===void 0&&(n=u2);var c=null;function p(){for(var _=[],O=0;O<arguments.length;O++)_[O]=arguments[O];if(c&&c.lastThis===this&&n(_,c.lastArgs))return c.lastResult;var D=r.apply(this,_);return c={lastResult:D,lastArgs:_,lastThis:this},D}return o(p,"memoized"),p.clear=o(function(){c=null},"clear"),p}o(Rb,"memoizeOne");var Fb=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];function Db(r,n){if(n){let c=r.querySelector(`[data-uppy-paneltype="${n}"]`);if(c)return c}return r}o(Db,"getActiveOverlayEl");function Ib(r,n){let c=n[0];c&&(c.focus(),r.preventDefault())}o(Ib,"focusOnFirstNode");function d2(r,n){let c=n[n.length-1];c&&(c.focus(),r.preventDefault())}o(d2,"focusOnLastNode");function f2(r){return r.contains(document.activeElement)}o(f2,"isFocusInOverlay");function Bb(r,n,c){let p=Db(c,n),_=Pn(p.querySelectorAll(Fb)),O=_.indexOf(document.activeElement);f2(p)?r.shiftKey&&O===0?d2(r,_):!r.shiftKey&&O===_.length-1&&Ib(r,_):Ib(r,_)}o(Bb,"trapFocus");function p2(r,n,c){n===null||Bb(r,n,c)}o(p2,"forInline");var R6=f(R(),1);function m2(){let r=!1;return(0,R6.default)(o((n,c)=>{let p=Db(n,c),_=p.contains(document.activeElement);if(_&&r)return;let O=p.querySelector("[data-uppy-super-focusable]");if(!(_&&!O))if(O)O.focus({preventScroll:!0}),r=!0;else{let D=p.querySelector(Fb);D==null||D.focus({preventScroll:!0}),r=!1}},"superFocus"),260)}o(m2,"createSuperFocus");var F6=f(L(),1);function Nb(){let r=document.body;return!(!("draggable"in r)||!("ondragstart"in r&&"ondrop"in r)||!("FormData"in window)||!("FileReader"in window))}o(Nb,"isDragDropSupported");var D6=f(L(),1),I6=f(u(),1);function g2(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},v("g",{fill:"#686DE0",fillRule:"evenodd"},v("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),v("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),v("circle",{cx:"7.5",cy:"9.5",r:"1.5"})))}o(g2,"iconImage");function y2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"}))}o(y2,"iconAudio");function v2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"}))}o(v2,"iconVideo");function b2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"}))}o(b2,"iconPDF");function w2(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"}))}o(w2,"iconArchive");function _2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("g",{fill:"#A7AFB7",fillRule:"nonzero"},v("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),v("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})))}o(_2,"iconFile");function x2(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25"},v("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"}))}o(x2,"iconText");function xm(r){let n={color:"#838999",icon:_2()};if(!r)return n;let c=r.split("/")[0],p=r.split("/")[1];return c==="text"?{color:"#5a5e69",icon:x2()}:c==="image"?{color:"#686de0",icon:g2()}:c==="audio"?{color:"#068dbb",icon:y2()}:c==="video"?{color:"#19af67",icon:v2()}:c==="application"&&p==="pdf"?{color:"#e25149",icon:b2()}:c==="application"&&["zip","x-7z-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(p)!==-1?{color:"#00C469",icon:w2()}:n}o(xm,"getIconByMime");function zb(r){let{file:n}=r;if(n.preview)return v("img",{className:"uppy-Dashboard-Item-previewImg",alt:n.name,src:n.preview});let{color:c,icon:p}=xm(n.type);return v("div",{className:"uppy-Dashboard-Item-previewIconWrap"},v("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:c}},p),v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76"},v("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})))}o(zb,"FilePreview");var B6=o((r,n)=>n.filter(c=>c.id===r)[0].name,"metaFieldIdToName");function Ub(r){let{file:n,toggleFileCard:c,i18n:p,metaFields:_}=r,{missingRequiredMetaFields:O}=n;if(!(O!=null&&O.length))return null;let D=O.map(N=>B6(N,_)).join(", ");return v("div",{className:"uppy-Dashboard-Item-errorMessage"},p("missingRequiredMetaFields",{smart_count:O.length,fields:D})," ",v("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>c(!0,n.id)},p("editFile")))}o(Ub,"renderMissingMetaFieldsError");function k2(r){return v("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:xm(r.file.type).color}},r.showLinkToFileUploadResult&&r.file.uploadURL&&v("a",{className:"uppy-Dashboard-Item-previewLink",href:r.file.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":r.file.meta.name},v("span",{hidden:!0},r.file.meta.name)),v(zb,{file:r.file}),v(Ub,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}))}o(k2,"FilePreviewAndLink");function S2(r){if(!r.isUploaded){if(r.error&&!r.hideRetryButton){r.uppy.retryUpload(r.file.id);return}r.resumableUploads&&!r.hidePauseResumeButton?r.uppy.pauseResume(r.file.id):r.individualCancellation&&!r.hideCancelButton&&r.uppy.removeFile(r.file.id)}}o(S2,"onPauseResumeCancelRetry");function Hb(r){return r.isUploaded?r.i18n("uploadComplete"):r.error?r.i18n("retryUpload"):r.resumableUploads?r.file.isPaused?r.i18n("resumeUpload"):r.i18n("pauseUpload"):r.individualCancellation?r.i18n("cancelUpload"):""}o(Hb,"progressIndicatorTitle");function km(r){return v("div",{className:"uppy-Dashboard-Item-progress"},v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":Hb(r),title:Hb(r),onClick:()=>S2(r)},r.children))}o(km,"ProgressIndicatorButton");function hd(r){let{children:n}=r;return v("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle"},n)}o(hd,"ProgressCircleContainer");function Sm(r){let{progress:n}=r,c=2*Math.PI*15;return v("g",null,v("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),v("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":c,"stroke-dashoffset":c-c/100*n}))}o(Sm,"ProgressCircle");function T2(r){if(!r.file.progress.uploadStarted)return null;if(r.isUploaded)return v("div",{className:"uppy-Dashboard-Item-progress"},v("div",{className:"uppy-Dashboard-Item-progressIndicator"},v(hd,null,v("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),v("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"}))));if(!r.recoveredState)return r.error&&!r.hideRetryButton?v(km,r,v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19"},v("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),v("path",{d:"M7.9 3H10v2H7.9z"}),v("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),v("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"}))):r.resumableUploads&&!r.hidePauseResumeButton?v(km,r,v(hd,null,v(Sm,{progress:r.file.progress.percentage}),r.file.isPaused?v("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):v("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)"},v("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),v("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})))):!r.resumableUploads&&r.individualCancellation&&!r.hideCancelButton?v(km,r,v(hd,null,v(Sm,{progress:r.file.progress.percentage}),v("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"}))):v("div",{className:"uppy-Dashboard-Item-progress"},v("div",{className:"uppy-Dashboard-Item-progressIndicator"},v(hd,null,v(Sm,{progress:r.file.progress.percentage}))))}o(T2,"FileProgress");var N6=f(T(),1),Wb="...";function jb(r,n){if(n===0)return"";if(r.length<=n)return r;if(n<=Wb.length+1)return`${r.slice(0,n-1)}`;let c=n-Wb.length,p=Math.ceil(c/2),_=Math.floor(c/2);return r.slice(0,p)+Wb+r.slice(-_)}o(jb,"truncateString");var z6=o(r=>{let{author:n,name:c}=r.file.meta;function p(){return r.singleFile?200:r.containerWidth<=352?35:r.containerWidth<=576?60:n?20:30}return o(p,"getMaxNameLength"),v("div",{className:"uppy-Dashboard-Item-name",title:c},jb(c,p()))},"renderFileName"),U6=o(r=>{let{author:n}=r.file.meta,{providerName:c}=r.file.remote,p="";return n?v("div",{className:"uppy-Dashboard-Item-author"},v("a",{href:`${n.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer"},jb(n.name,13)),c?v(V,null,` ${p} `,c,` ${p} `):null):null},"renderAuthor"),H6=o(r=>r.file.size&&v("div",{className:"uppy-Dashboard-Item-statusSize"},(0,N6.default)(r.file.size)),"renderFileSize"),W6=o(r=>r.file.isGhost&&v("span",null,"  ",v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:r.toggleAddFilesPanel},r.i18n("reSelect"))),"ReSelectButton"),j6=o(r=>{let{file:n,onClick:c}=r;return n.error?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":n.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:c,type:"button"},"?"):null},"ErrorButton");function C2(r){let{file:n}=r;return v("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":n.source},v("div",{className:"uppy-Dashboard-Item-fileName"},z6(r),v(j6,{file:r.file,onClick:()=>alert(r.file.error)})),v("div",{className:"uppy-Dashboard-Item-status"},U6(r),H6(r),W6(r)),v(Ub,{file:r.file,i18n:r.i18n,toggleFileCard:r.toggleFileCard,metaFields:r.metaFields}))}o(C2,"FileInfo");function E2(r,n){return n===void 0&&(n="Copy the URL below"),new Promise(c=>{let p=document.createElement("textarea");p.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),p.value=r,document.body.appendChild(p),p.select();let _=o(()=>{document.body.removeChild(p),window.prompt(n,r),c()},"magicCopyFailed");try{return document.execCommand("copy")?(document.body.removeChild(p),c()):_("copy command unavailable")}catch(O){return document.body.removeChild(p),_(O)}})}o(E2,"copyToClipboard");function O2(r){let{file:n,uploadInProgressOrComplete:c,metaFields:p,canEditFile:_,i18n:O,onClick:D}=r;return!c&&p&&p.length>0||!c&&_(n)?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":O("editFileWithFilename",{file:n.meta.name}),title:O("editFileWithFilename",{file:n.meta.name}),onClick:()=>D()},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14"},v("g",{fillRule:"evenodd"},v("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),v("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),v("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})))):null}o(O2,"EditButton");function A2(r){let{i18n:n,onClick:c,file:p}=r;return v("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":n("removeFile",{file:p.meta.name}),title:n("removeFile",{file:p.meta.name}),onClick:()=>c()},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18"},v("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),v("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})))}o(A2,"RemoveButton");var q6=o((r,n)=>{E2(n.file.uploadURL,n.i18n("copyLinkToClipboardFallback")).then(()=>{n.uppy.log("Link copied to clipboard."),n.uppy.info(n.i18n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(n.uppy.log).then(()=>r.target.focus({preventScroll:!0}))},"copyLinkToClipboard");function P2(r){let{i18n:n}=r;return v("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:c=>q6(c,r)},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12"},v("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})))}o(P2,"CopyLinkButton");function M2(r){let{uppy:n,file:c,uploadInProgressOrComplete:p,canEditFile:_,metaFields:O,showLinkToFileUploadResult:D,showRemoveButton:N,i18n:Y,toggleFileCard:ie,openFileEditor:X}=r;return v("div",{className:"uppy-Dashboard-Item-actionWrapper"},v(O2,{i18n:Y,file:c,uploadInProgressOrComplete:p,canEditFile:_,metaFields:O,onClick:o(()=>{O&&O.length>0?ie(!0,c.id):X(c)},"editAction")}),D&&c.uploadURL?v(P2,{file:c,uppy:n,i18n:Y}):null,N?v(A2,{i18n:Y,file:c,uppy:n,onClick:()=>r.uppy.removeFile(c.id,"removed-by-user")}):null)}o(M2,"Buttons");var L2=class extends se{componentDidMount(){let{file:r}=this.props;r.preview||this.props.handleRequestThumbnail(r)}shouldComponentUpdate(r){return!(0,I6.default)(this.props,r)}componentDidUpdate(){let{file:r}=this.props;r.preview||this.props.handleRequestThumbnail(r)}componentWillUnmount(){let{file:r}=this.props;r.preview||this.props.handleCancelThumbnail(r)}render(){let{file:r}=this.props,n=r.progress.preprocess||r.progress.postprocess,c=r.progress.uploadComplete&&!n&&!r.error,p=r.progress.uploadStarted||n,_=r.progress.uploadStarted&&!r.progress.uploadComplete||n,O=r.error||!1,{isGhost:D}=r,N=(this.props.individualCancellation||!_)&&!c;c&&this.props.showRemoveButtonAfterComplete&&(N=!0);let Y=(0,D6.default)({"uppy-Dashboard-Item":!0,"is-inprogress":_&&!this.props.recoveredState,"is-processing":n,"is-complete":c,"is-error":!!O,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":D});return v("div",{className:Y,id:`uppy_${r.id}`,role:this.props.role},v("div",{className:"uppy-Dashboard-Item-preview"},v(k2,{file:r,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),v(T2,{uppy:this.props.uppy,file:r,error:O,isUploaded:c,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,showRemoveButtonAfterComplete:this.props.showRemoveButtonAfterComplete,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})),v("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons"},v(C2,{file:r,id:this.props.id,acquirers:this.props.acquirers,containerWidth:this.props.containerWidth,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,singleFile:this.props.singleFile}),v(M2,{file:r,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:N,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:p,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})))}};o(L2,"FileItem");function Tm(){return Tm=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Tm.apply(this,arguments)}o(Tm,"_extends");var $6={position:"relative",width:"100%",minHeight:"100%"},V6={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"},R2=class extends se{constructor(r){super(r),this.handleScroll=()=>{this.setState({offset:this.base.scrollTop})},this.handleResize=()=>{this.resize()},this.focusElement=null,this.state={offset:0,height:0}}componentDidMount(){this.resize(),window.addEventListener("resize",this.handleResize)}componentWillUpdate(){this.base.contains(document.activeElement)&&(this.focusElement=document.activeElement)}componentDidUpdate(){this.focusElement&&this.focusElement.parentNode&&document.activeElement!==this.focusElement&&this.focusElement.focus(),this.focusElement=null,this.resize()}componentWillUnmount(){window.removeEventListener("resize",this.handleResize)}resize(){let{height:r}=this.state;r!==this.base.offsetHeight&&this.setState({height:this.base.offsetHeight})}render(r){let{data:n,rowHeight:c,renderRow:p,overscanCount:_=10,...O}=r,{offset:D,height:N}=this.state,Y=Math.floor(D/c),ie=Math.floor(N/c);_&&(Y=Math.max(0,Y-Y%_),ie+=_);let X=Y+ie+4,ae=n.slice(Y,X),ue={...$6,height:n.length*c},xe={...V6,top:Y*c};return v("div",Tm({onScroll:this.handleScroll},O),v("div",{role:"presentation",style:ue},v("div",{role:"presentation",style:xe},ae.map(p))))}};o(R2,"VirtualList");var Y6=R2;function Cm(){return Cm=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Cm.apply(this,arguments)}o(Cm,"_extends");function F2(r,n){let c=[],p=[];return r.forEach(_=>{p.length<n?p.push(_):(c.push(p),p=[_])}),p.length&&c.push(p),c}o(F2,"chunks");var G6=o(r=>{let n=r.itemsPerRow===1?71:200,c={id:r.id,error:r.error,i18n:r.i18n,uppy:r.uppy,acquirers:r.acquirers,resumableUploads:r.resumableUploads,individualCancellation:r.individualCancellation,hideRetryButton:r.hideRetryButton,hidePauseResumeButton:r.hidePauseResumeButton,hideCancelButton:r.hideCancelButton,showLinkToFileUploadResult:r.showLinkToFileUploadResult,showRemoveButtonAfterComplete:r.showRemoveButtonAfterComplete,isWide:r.isWide,metaFields:r.metaFields,recoveredState:r.recoveredState,singleFile:r.singleFile,toggleFileCard:r.toggleFileCard,handleRequestThumbnail:r.handleRequestThumbnail,handleCancelThumbnail:r.handleCancelThumbnail},p=o((N,Y)=>r.files[Y].isGhost-r.files[N].isGhost,"sortByGhostComesFirst"),_=Object.keys(r.files);r.recoveredState&&_.sort(p);let O=F2(_,r.itemsPerRow),D=o(N=>v("div",{class:"uppy-Dashboard-filesInner",role:"presentation",key:N[0]},N.map(Y=>v(L2,Cm({key:Y,uppy:r.uppy},c,{role:"listitem",openFileEditor:r.openFileEditor,canEditFile:r.canEditFile,toggleAddFilesPanel:r.toggleAddFilesPanel,file:r.files[Y]})))),"renderRow");return r.singleFile?v("div",{class:"uppy-Dashboard-files"},D(O[0])):v(Y6,{class:"uppy-Dashboard-files",role:"list",data:O,renderRow:D,rowHeight:n})},"default"),D2;D2=Symbol.for("uppy test: disable unused locale key warning");var I2=class extends se{constructor(){super(...arguments),this.triggerFileInputClick=()=>{this.fileInput.click()},this.triggerFolderInputClick=()=>{this.folderInput.click()},this.triggerVideoCameraInputClick=()=>{this.mobileVideoFileInput.click()},this.triggerPhotoCameraInputClick=()=>{this.mobilePhotoFileInput.click()},this.onFileInputChange=r=>{this.props.handleInputChange(r),r.target.value=null},this.renderHiddenInput=(r,n)=>v("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:r,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:this.props.allowedFileTypes,ref:n}),this.renderHiddenCameraInput=(r,n,c)=>{let p={photo:"image/*",video:"video/*"}[r];return v("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${r}`,onChange:this.onFileInputChange,capture:n,accept:p,ref:c})},this.renderMyDeviceAcquirer=()=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice"},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick},v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#2275D7"}),v("path",{d:"M21.973 21.152H9.863l-1.108-5.087h14.464l-1.246 5.087zM9.935 11.37h3.958l.886 1.444a.673.673 0 0 0 .585.316h6.506v1.37H9.935v-3.13zm14.898 3.44a.793.793 0 0 0-.616-.31h-.978v-2.126c0-.379-.275-.613-.653-.613H15.75l-.886-1.445a.673.673 0 0 0-.585-.316H9.232c-.378 0-.667.209-.667.587V14.5h-.782a.793.793 0 0 0-.61.303.795.795 0 0 0-.155.663l1.45 6.633c.078.36.396.618.764.618h13.354c.36 0 .674-.246.76-.595l1.631-6.636a.795.795 0 0 0-.144-.675z",fill:"#FFF"}))),v("div",{className:"uppy-DashboardTab-name"},this.props.i18n("myDevice")))),this.renderPhotoCamera=()=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera"},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick},v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),v("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),v("div",{className:"uppy-DashboardTab-name"},this.props.i18n("takePictureBtn")))),this.renderVideoCamera=()=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera"},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick},v("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32"},v("rect",{fill:"#1abc9c",width:"32",height:"32",rx:"16"}),v("path",{fill:"#FFF",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})),v("div",{className:"uppy-DashboardTab-name"},this.props.i18n("recordVideoBtn")))),this.renderBrowseButton=(r,n)=>{let c=this.props.acquirers.length;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:n,"data-uppy-super-focusable":c===0},r)},this.renderDropPasteBrowseTagline=()=>{let r=this.props.acquirers.length,n=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),c=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),p=this.props.fileManagerSelectionType,_=p.charAt(0).toUpperCase()+p.slice(1);return v("div",{class:"uppy-Dashboard-AddFiles-title"},this.props.disableLocalFiles?this.props.i18n("importFiles"):r>0?this.props.i18nArray(`dropPasteImport${_}`,{browseFiles:n,browseFolders:c,browse:n}):this.props.i18nArray(`dropPaste${_}`,{browseFiles:n,browseFolders:c,browse:n}))},this.renderAcquirer=r=>v("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":r.id},v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":r.id,"aria-controls":`uppy-DashboardContent-panel--${r.id}`,"aria-selected":this.props.activePickerPanel.id===r.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(r.id)},r.icon(),v("div",{className:"uppy-DashboardTab-name"},r.name))),this.renderAcquirers=r=>{let n=[...r],c=n.splice(r.length-2,r.length);return v(V,null,n.map(p=>this.renderAcquirer(p)),v("span",{role:"presentation",style:{"white-space":"nowrap"}},c.map(p=>this.renderAcquirer(p))))},this.renderSourcesList=(r,n)=>{let{showNativePhotoCameraButton:c,showNativeVideoCameraButton:p}=this.props;return v("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist"},!n&&this.renderMyDeviceAcquirer(),!n&&c&&this.renderPhotoCamera(),!n&&p&&this.renderVideoCamera(),r.length>0&&this.renderAcquirers(r))}}[D2](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){let{i18nArray:r}=this.props,n=v("span",null,v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11"},v("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})),v("span",{className:"uppy-Dashboard-poweredByUppy"},"Uppy")),c=r("poweredBy",{uppy:n});return v("a",{tabIndex:"-1",href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy"},c)}render(){let{showNativePhotoCameraButton:r,showNativeVideoCameraButton:n,nativeCameraFacingMode:c}=this.props;return v("div",{className:"uppy-Dashboard-AddFiles"},this.renderHiddenInput(!1,p=>{this.fileInput=p}),this.renderHiddenInput(!0,p=>{this.folderInput=p}),r&&this.renderHiddenCameraInput("photo",c,p=>{this.mobilePhotoFileInput=p}),n&&this.renderHiddenCameraInput("video",c,p=>{this.mobileVideoFileInput=p}),this.renderDropPasteBrowseTagline(),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),v("div",{className:"uppy-Dashboard-AddFiles-info"},this.props.note&&v("div",{className:"uppy-Dashboard-note"},this.props.note),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy(this.props)))}};o(I2,"AddFiles");var B2=I2,X6=f(L(),1),K6=o(r=>v("div",{className:(0,X6.default)("uppy-Dashboard-AddFilesPanel",r.className),"data-uppy-panelType":"AddFiles","aria-hidden":r.showAddFilesPanel},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18n("addingMoreFiles")),v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>r.toggleAddFilesPanel(!1)},r.i18n("back"))),v(B2,r)),"AddFilesPanel"),Z6=K6,Q6=f(L(),1);function N2(r){let{tagName:n}=r.target;if(n==="INPUT"||n==="TEXTAREA"){r.stopPropagation();return}r.preventDefault(),r.stopPropagation()}o(N2,"ignoreEvent");var _l=N2;function z2(r){let{activePickerPanel:n,className:c,hideAllPanels:p,i18n:_,state:O,uppy:D}=r;return v("div",{className:(0,Q6.default)("uppy-DashboardContent-panel",c),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${n.id}`,onDragOver:_l,onDragLeave:_l,onDrop:_l,onPaste:_l},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},_("importFrom",{name:n.name})),v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:p},_("cancel"))),v("div",{className:"uppy-DashboardContent-panelBody"},D.getPlugin(n.id).render(O)))}o(z2,"PickerPanelContent");var J6=z2,e8=f(L(),1);function U2(r){let n=r.files[r.fileCardFor];return v("div",{className:(0,e8.default)("uppy-DashboardContent-panel",r.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor"},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},r.i18nArray("editing",{file:v("span",{className:"uppy-DashboardContent-titleFile"},n.meta?n.meta.name:n.name)})),v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:r.hideAllPanels},r.i18n("cancel")),v("button",{className:"uppy-DashboardContent-save",type:"button",onClick:r.saveFileEditor},r.i18n("save"))),v("div",{className:"uppy-DashboardContent-panelBody"},r.editors.map(c=>r.uppy.getPlugin(c.id).render(r.state))))}o(U2,"EditorPanel");var t8=U2,Xn={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function H2(r,n,c,p){if(p===void 0&&(p={}),r)return Xn.STATE_ERROR;if(n)return Xn.STATE_COMPLETE;if(c)return Xn.STATE_PAUSED;let _=Xn.STATE_WAITING,O=Object.keys(p);for(let D=0;D<O.length;D++){let{progress:N}=p[O[D]];if(N.uploadStarted&&!N.uploadComplete)return Xn.STATE_UPLOADING;N.preprocess&&_!==Xn.STATE_UPLOADING&&(_=Xn.STATE_PREPROCESSING),N.postprocess&&_!==Xn.STATE_UPLOADING&&_!==Xn.STATE_PREPROCESSING&&(_=Xn.STATE_POSTPROCESSING)}return _}o(H2,"getUploadingState");function W2(r){let{files:n,i18n:c,isAllComplete:p,isAllErrored:_,isAllPaused:O,inProgressNotPausedFiles:D,newFiles:N,processingFiles:Y}=r;switch(H2(_,p,O,n)){case"uploading":return c("uploadingXFiles",{smart_count:D.length});case"preprocessing":case"postprocessing":return c("processingXFiles",{smart_count:Y.length});case"paused":return c("uploadPaused");case"waiting":return c("xFilesSelected",{smart_count:N.length});case"complete":return c("uploadComplete")}}o(W2,"UploadStatus");function j2(r){let{i18n:n,isAllComplete:c,hideCancelButton:p,maxNumberOfFiles:_,toggleAddFilesPanel:O,uppy:D}=r,{allowNewUpload:N}=r;return N&&_&&(N=r.totalFileCount<r.maxNumberOfFiles),v("div",{className:"uppy-DashboardContent-bar"},!c&&!p?v("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>D.cancelAll()},n("cancel")):v("div",null),v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},v(W2,r)),N?v("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":n("addMoreFiles"),title:n("addMoreFiles"),onClick:()=>O(!0)},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15"},v("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})),v("span",{className:"uppy-DashboardContent-addMoreCaption"},n("addMore"))):v("div",null))}o(j2,"PanelTopBar");var i8=j2,r8=f(L(),1),q2=class extends se{constructor(r){super(r),this.form=document.createElement("form"),this.updateMeta=(_,O)=>{this.setState(D=>{let{formState:N}=D;return{formState:{...N,[O]:_}}})},this.handleSave=_=>{_.preventDefault();let O=this.props.fileCardFor;this.props.saveFileCard(this.state.formState,O)},this.handleCancel=()=>{let _=this.props.files[this.props.fileCardFor];this.props.uppy.emit("file-editor:cancel",_),this.props.toggleFileCard(!1)},this.saveOnEnter=_=>{if(_.keyCode===13){_.stopPropagation(),_.preventDefault();let O=this.props.files[this.props.fileCardFor];this.props.saveFileCard(this.state.formState,O.id)}},this.renderMetaFields=()=>{let _=this.getMetaFields()||[],O={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return _.map(D=>{let N=`uppy-Dashboard-FileCard-input-${D.id}`,Y=this.props.requiredMetaFields.includes(D.id);return v("fieldset",{key:D.id,className:"uppy-Dashboard-FileCard-fieldset"},v("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:N},D.name),D.render!==void 0?D.render({value:this.state.formState[D.id],onChange:ie=>this.updateMeta(ie,D.id),fieldCSSClasses:O,required:Y,form:this.form.id},v):v("input",{className:O.text,id:N,form:this.form.id,type:D.type||"text",required:Y,value:this.state.formState[D.id],placeholder:D.placeholder,onKeyUp:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyDown:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onKeyPress:"form"in HTMLInputElement.prototype?void 0:this.saveOnEnter,onInput:ie=>this.updateMeta(ie.target.value,D.id),"data-uppy-super-focusable":!0}))})};let n=this.props.files[this.props.fileCardFor],c=this.getMetaFields()||[],p={};c.forEach(_=>{p[_.id]=n.meta[_.id]||""}),this.state={formState:p},this.form.id=Ie()}componentWillMount(){this.form.addEventListener("submit",this.handleSave),document.body.appendChild(this.form)}componentWillUnmount(){this.form.removeEventListener("submit",this.handleSave),document.body.removeChild(this.form)}getMetaFields(){return typeof this.props.metaFields=="function"?this.props.metaFields(this.props.files[this.props.fileCardFor]):this.props.metaFields}render(){let r=this.props.files[this.props.fileCardFor],n=this.props.canEditFile(r);return v("div",{className:(0,r8.default)("uppy-Dashboard-FileCard",this.props.className),"data-uppy-panelType":"FileCard",onDragOver:_l,onDragLeave:_l,onDrop:_l,onPaste:_l},v("div",{className:"uppy-DashboardContent-bar"},v("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":"1"},this.props.i18nArray("editing",{file:v("span",{className:"uppy-DashboardContent-titleFile"},r.meta?r.meta.name:r.name)})),v("button",{className:"uppy-DashboardContent-back",type:"button",form:this.form.id,title:this.props.i18n("finishEditingFile"),onClick:this.handleCancel},this.props.i18n("cancel"))),v("div",{className:"uppy-Dashboard-FileCard-inner"},v("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:xm(r.type).color}},v(zb,{file:r}),n&&v("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:c=>{this.handleSave(c),this.props.openFileEditor(r)},form:this.form.id},this.props.i18n("editFile"))),v("div",{className:"uppy-Dashboard-FileCard-info"},this.renderMetaFields()),v("div",{className:"uppy-Dashboard-FileCard-actions"},v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"form"in HTMLButtonElement.prototype?"submit":"button",onClick:"form"in HTMLButtonElement.prototype?void 0:this.handleSave,form:this.form.id},this.props.i18n("saveChanges")),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:this.handleCancel,form:this.form.id},this.props.i18n("cancel")))))}};o(q2,"FileCard");var s8=q2,a8=f(L(),1),Ih="uppy-transition-slideDownUp",$2=250,V2=class extends se{constructor(r){super(r),this.state={cachedChildren:null,className:""}}componentWillUpdate(r){let{cachedChildren:n}=this.state,c=Re(r.children)[0];if(n===c)return null;let p={cachedChildren:c};c&&!n&&(p.className=`${Ih}-enter`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.leaveTimeout),this.leaveTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Ih}-enter ${Ih}-enter-active`}),this.enterTimeout=setTimeout(()=>{this.setState({className:""})},$2)})),n&&!c&&this.leaveTimeout===void 0&&(p.cachedChildren=n,p.className=`${Ih}-leave`,cancelAnimationFrame(this.animationFrame),clearTimeout(this.enterTimeout),this.enterTimeout=void 0,this.animationFrame=requestAnimationFrame(()=>{this.setState({className:`${Ih}-leave ${Ih}-leave-active`}),this.leaveTimeout=setTimeout(()=>{this.setState({cachedChildren:null,className:""})},$2)})),this.setState(p)}render(){let{cachedChildren:r,className:n}=this.state;return r?oe(r,{className:(0,a8.default)(n,r.props.className)}):null}};o(V2,"Slide");var Em=V2;function Oo(){return Oo=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Oo.apply(this,arguments)}o(Oo,"_extends");var Y2=900,G2=700,qb=576,n8=400;function X2(r){let n=r.totalFileCount===0,c=r.totalFileCount===1,p=r.containerWidth>qb,_=(0,F6.default)({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":r.disabled,"uppy-Dashboard--animateOpenClose":r.animateOpenClose,"uppy-Dashboard--isClosing":r.isClosing,"uppy-Dashboard--isDraggingOver":r.isDraggingOver,"uppy-Dashboard--modal":!r.inline,"uppy-size--md":r.containerWidth>qb,"uppy-size--lg":r.containerWidth>G2,"uppy-size--xl":r.containerWidth>Y2,"uppy-size--height-md":r.containerHeight>n8,"uppy-Dashboard--isAddFilesPanelVisible":r.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":r.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":c}),O=1;r.containerWidth>Y2?O=5:r.containerWidth>G2?O=4:r.containerWidth>qb&&(O=3);let D=r.showSelectedFiles&&!n,N=r.recoveredState?Object.keys(r.recoveredState.files).length:null,Y=r.files?Object.keys(r.files).filter(X=>r.files[X].isGhost).length:null,ie=o(()=>Y>0?r.i18n("recoveredXFiles",{smart_count:Y}):r.i18n("recoveredAllFiles"),"renderRestoredText");return v("div",{className:_,"data-uppy-theme":r.theme,"data-uppy-num-acquirers":r.acquirers.length,"data-uppy-drag-drop-supported":!r.disableLocalFiles&&Nb(),"aria-hidden":r.inline?"false":r.isHidden,"aria-disabled":r.disabled,"aria-label":r.inline?r.i18n("dashboardTitle"):r.i18n("dashboardWindowTitle"),onPaste:r.handlePaste,onDragOver:r.handleDragOver,onDragLeave:r.handleDragLeave,onDrop:r.handleDrop},v("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:r.handleClickOutside}),v("div",{className:"uppy-Dashboard-inner","aria-modal":!r.inline&&"true",role:!r.inline&&"dialog",style:{width:r.inline&&r.width?r.width:"",height:r.inline&&r.height?r.height:""}},r.inline?null:v("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":r.i18n("closeModal"),title:r.i18n("closeModal"),onClick:r.closeModal},v("span",{"aria-hidden":"true"},"")),v("div",{className:"uppy-Dashboard-innerWrap"},v("div",{className:"uppy-Dashboard-dropFilesHereHint"},r.i18n("dropHint")),D&&v(i8,r),N&&v("div",{className:"uppy-Dashboard-serviceMsg"},v("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19"},v("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd"},v("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),v("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),v("circle",{fill:"#000",cx:"12",cy:"17",r:"1"}))),v("strong",{className:"uppy-Dashboard-serviceMsg-title"},r.i18n("sessionRestored")),v("div",{className:"uppy-Dashboard-serviceMsg-text"},ie())),D?v(G6,Oo({},r,{singleFile:c,itemsPerRow:O})):v(B2,Oo({},r,{isSizeMD:p})),v(Em,null,r.showAddFilesPanel?v(Z6,Oo({key:"AddFiles"},r,{isSizeMD:p})):null),v(Em,null,r.fileCardFor?v(s8,Oo({key:"FileCard"},r)):null),v(Em,null,r.activePickerPanel?v(J6,Oo({key:"Picker"},r)):null),v(Em,null,r.showFileEditor?v(t8,Oo({key:"Editor"},r)):null),v("div",{className:"uppy-Dashboard-progressindicators"},r.progressindicators.map(X=>r.uppy.getPlugin(X.id).render(r.state))))))}o(X2,"Dashboard");var o8={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editing:"Editing %{file}",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video"}};function Rs(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Rs,"_classPrivateFieldLooseBase");var l8=0;function xl(r){return"__private_"+l8+++"_"+r}o(xl,"_classPrivateFieldLooseKey");var c8={version:"3.2.0"},$b=Rb.default||Rb,K2=9,h8=27;function Vb(){let r={};return r.promise=new Promise((n,c)=>{r.resolve=n,r.reject=c}),r}o(Vb,"createPromise");function Z2(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30"},v("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"}))}o(Z2,"defaultPickerIcon");var Ao=xl("generateLargeThumbnailIfSingleFile"),ud=xl("openFileEditorWhenFilesAdded"),rc=xl("attachRenderFunctionToTarget"),Yb=xl("isTargetSupported"),Gb=xl("getAcquirers"),Xb=xl("getProgressIndicators"),Po=xl("getEditors"),Om=class extends vt{constructor(r,n){var c;super(r,n),c=this,this.removeTarget=_=>{let O=this.getPluginState().targets.filter(D=>D.id!==_.id);this.setPluginState({targets:O})},this.addTarget=_=>{let O=_.id||_.constructor.name,D=_.title||O,N=_.type;if(N!=="acquirer"&&N!=="progressindicator"&&N!=="editor"){this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error");return}let Y={id:O,name:D,type:N},ie=this.getPluginState().targets.slice();return ie.push(Y),this.setPluginState({targets:ie}),this.el},this.hideAllPanels=()=>{let _=this.getPluginState(),O={activePickerPanel:!1,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};_.activePickerPanel===O.activePickerPanel&&_.showAddFilesPanel===O.showAddFilesPanel&&_.showFileEditor===O.showFileEditor&&_.activeOverlayType===O.activeOverlayType||this.setPluginState(O)},this.showPanel=_=>{let{targets:O}=this.getPluginState(),D=O.filter(N=>N.type==="acquirer"&&N.id===_)[0];this.setPluginState({activePickerPanel:D,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",_)},this.canEditFile=_=>{let{targets:O}=this.getPluginState();return Rs(this,Po)[Po](O).some(D=>this.uppy.getPlugin(D.id).canEditFile(_))},this.openFileEditor=_=>{let{targets:O}=this.getPluginState(),D=Rs(this,Po)[Po](O);this.setPluginState({showFileEditor:!0,fileCardFor:_.id||null,activeOverlayType:"FileEditor"}),D.forEach(N=>{this.uppy.getPlugin(N.id).selectFile(_)})},this.saveFileEditor=()=>{let{targets:_}=this.getPluginState();Rs(this,Po)[Po](_).forEach(O=>{this.uppy.getPlugin(O.id).save()}),this.hideAllPanels()},this.openModal=()=>{let{promise:_,resolve:O}=Vb();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){let D=o(()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",D,!1),O()},"handler");this.el.addEventListener("animationend",D,!1)}else this.setPluginState({isHidden:!1}),O();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),_},this.closeModal=function(_){_===void 0&&(_={});let{manualClose:O=!0}=_,{isHidden:D,isClosing:N}=c.getPluginState();if(D||N)return;let{promise:Y,resolve:ie}=Vb();if(c.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),c.opts.animateOpenClose){c.setPluginState({isClosing:!0});let ae=o(()=>{c.setPluginState({isHidden:!0,isClosing:!1}),c.superFocus.cancel(),c.savedActiveElement.focus(),c.el.removeEventListener("animationend",ae,!1),ie()},"handler");c.el.addEventListener("animationend",ae,!1)}else c.setPluginState({isHidden:!0}),c.superFocus.cancel(),c.savedActiveElement.focus(),ie();if(document.removeEventListener("keydown",c.handleKeyDownInModal),O&&c.opts.browserBackButtonClose){var X;(X=history.state)!=null&&X[c.modalName]&&history.back()}return c.uppy.emit("dashboard:modal-closed"),Y},this.isModalOpen=()=>!this.getPluginState().isHidden||!1,this.requestCloseModal=()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal(),this.setDarkModeCapability=_=>{let{capabilities:O}=this.uppy.getState();this.uppy.setState({capabilities:{...O,darkMode:_}})},this.handleSystemDarkModeChange=_=>{let O=_.matches;this.uppy.log(`[Dashboard] Dark mode is ${O?"on":"off"}`),this.setDarkModeCapability(O)},this.toggleFileCard=(_,O)=>{let D=this.uppy.getFile(O);_?this.uppy.emit("dashboard:file-edit-start",D):this.uppy.emit("dashboard:file-edit-complete",D),this.setPluginState({fileCardFor:_?O:null,activeOverlayType:_?"FileCard":null})},this.toggleAddFilesPanel=_=>{this.setPluginState({showAddFilesPanel:_,activeOverlayType:_?"AddFiles":null})},this.addFiles=_=>{let O=_.map(D=>({source:this.id,name:D.name,type:D.type,data:D,meta:{relativePath:D.relativePath||D.webkitRelativePath||null}}));try{this.uppy.addFiles(O)}catch(D){this.uppy.log(D)}},this.startListeningToResize=()=>{this.resizeObserver=new ResizeObserver(_=>{let O=_[0],{width:D,height:N}=O.contentRect;this.uppy.log(`[Dashboard] resized: ${D} / ${N}`,"debug"),this.setPluginState({containerWidth:D,containerHeight:N,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{let _=this.getPluginState(),O=!this.opts.inline&&_.isHidden;!_.areInsidesReadyToBeVisible&&!O&&(this.uppy.log("[Dashboard] resize event didn't fire on time: defaulted to mobile layout","debug"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)},this.stopListeningToResize=()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)},this.recordIfFocusedOnUppyRecently=_=>{this.el.contains(_.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())},this.disableAllFocusableElements=_=>{let O=Pn(this.el.querySelectorAll(Fb));_?O.forEach(D=>{let N=D.getAttribute("tabindex");N&&(D.dataset.inertTabindex=N),D.setAttribute("tabindex","-1")}):O.forEach(D=>{"inertTabindex"in D.dataset?D.setAttribute("tabindex",D.dataset.inertTabindex):D.removeAttribute("tabindex")}),this.dashboardIsDisabled=_},this.updateBrowserHistory=()=>{var _;(_=history.state)!=null&&_[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)},this.handlePopState=_=>{var O;this.isModalOpen()&&(!_.state||!_.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&(O=_.state)!=null&&O[this.modalName]&&history.back()},this.handleKeyDownInModal=_=>{_.keyCode===h8&&this.requestCloseModal(_),_.keyCode===K2&&Bb(_,this.getPluginState().activeOverlayType,this.el)},this.handleClickOutside=()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()},this.handlePaste=_=>{this.uppy.iteratePlugins(D=>{D.type==="acquirer"&&(D.handleRootPaste==null||D.handleRootPaste(_))});let O=Pn(_.clipboardData.files);O.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(O))},this.handleInputChange=_=>{_.preventDefault();let O=Pn(_.target.files);O.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(O))},this.handleDragOver=_=>{var O,D;_.preventDefault(),_.stopPropagation();let N=o(()=>{let ae=!0;return this.uppy.iteratePlugins(ue=>{ue.canHandleRootDrop!=null&&ue.canHandleRootDrop(_)&&(ae=!0)}),ae},"canSomePluginHandleRootDrop"),Y=o(()=>{let{types:ae}=_.dataTransfer;return ae.some(ue=>ue==="Files")},"doesEventHaveFiles"),ie=N(_),X=Y(_);if(!ie&&!X||this.opts.disabled||this.opts.disableLocalFiles&&(X||!ie)||!this.uppy.getState().allowNewUpload){_.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}_.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(O=(D=this.opts).onDragOver)==null||O.call(D,_)},this.handleDragLeave=_=>{var O,D;_.preventDefault(),_.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(O=(D=this.opts).onDragLeave)==null||O.call(D,_)},this.handleDrop=async _=>{var O,D;_.preventDefault(),_.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(X=>{X.type==="acquirer"&&(X.handleRootDrop==null||X.handleRootDrop(_))});let N=!1,Y=o(X=>{this.uppy.log(X,"error"),N||(this.uppy.info(X.message,"error"),N=!0)},"logDropError"),ie=await _m(_.dataTransfer,{logDropError:Y});ie.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(ie)),(O=(D=this.opts).onDrop)==null||O.call(D,_)},this.handleRequestThumbnail=_=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",_)},this.handleCancelThumbnail=_=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",_)},this.handleKeyDownInInline=_=>{_.keyCode===K2&&p2(_,this.getPluginState().activeOverlayType,this.el)},this.handlePasteOnBody=_=>{this.el.contains(document.activeElement)&&this.handlePaste(_)},this.handleComplete=_=>{let{failed:O}=_;this.opts.closeAfterFinish&&O.length===0&&this.requestCloseModal()},this.handleCancelRestore=()=>{this.uppy.emit("restore-canceled")},Object.defineProperty(this,Ao,{writable:!0,value:()=>{if(this.opts.disableThumbnailGenerator)return;let _=600,O=this.uppy.getFiles();if(O.length===1){let D=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);D==null||D.setOptions({thumbnailWidth:_});let N={...O[0],preview:void 0};D.requestThumbnail(N).then(()=>{D==null||D.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}}}),Object.defineProperty(this,ud,{writable:!0,value:_=>{let O=_[0];this.canEditFile(O)&&this.openFileEditor(O)}}),this.initEvents=()=>{if(this.opts.trigger&&!this.opts.inline){let _=Ab(this.opts.trigger);_?_.forEach(O=>O.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("file-editor:complete",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",Rs(this,Ao)[Ao]),this.uppy.on("file-removed",Rs(this,Ao)[Ao]),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.on("files-added",Rs(this,ud)[ud])},this.removeEvents=()=>{let _=Ab(this.opts.trigger);!this.opts.inline&&_&&_.forEach(O=>O.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("file-editor:complete",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",Rs(this,Ao)[Ao]),this.uppy.off("file-removed",Rs(this,Ao)[Ao]),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpenFileEditor&&this.uppy.off("files-added",Rs(this,ud)[ud])},this.superFocusOnEachUpdate=()=>{let _=this.el.contains(document.activeElement),O=document.activeElement===document.body||document.activeElement===null,D=this.uppy.getState().info.length===0,N=!this.opts.inline;D&&(N||_||O&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()},this.afterUpdate=()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableAllFocusableElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableAllFocusableElements(!1),this.superFocusOnEachUpdate()},this.saveFileCard=(_,O)=>{this.uppy.setFileMeta(O,_),this.toggleFileCard(!1,O)},Object.defineProperty(this,rc,{writable:!0,value:_=>{let O=this.uppy.getPlugin(_.id);return{..._,icon:O.icon||this.opts.defaultPickerIcon,render:O.render}}}),Object.defineProperty(this,Yb,{writable:!0,value:_=>{let O=this.uppy.getPlugin(_.id);return typeof O.isSupported!="function"?!0:O.isSupported()}}),Object.defineProperty(this,Gb,{writable:!0,value:$b(_=>_.filter(O=>O.type==="acquirer"&&Rs(this,Yb)[Yb](O)).map(Rs(this,rc)[rc]))}),Object.defineProperty(this,Xb,{writable:!0,value:$b(_=>_.filter(O=>O.type==="progressindicator").map(Rs(this,rc)[rc]))}),Object.defineProperty(this,Po,{writable:!0,value:$b(_=>_.filter(O=>O.type==="editor").map(Rs(this,rc)[rc]))}),this.render=_=>{let O=this.getPluginState(),{files:D,capabilities:N,allowNewUpload:Y}=_,{newFiles:ie,uploadStartedFiles:X,completeFiles:ae,erroredFiles:ue,inProgressFiles:xe,inProgressNotPausedFiles:We,processingFiles:Mt,isUploadStarted:wt,isAllComplete:Ht,isAllErrored:xi,isAllPaused:Zt}=this.uppy.getObjectOfFilesPerState(),ht=Rs(this,Gb)[Gb](O.targets),pt=Rs(this,Xb)[Xb](O.targets),dt=Rs(this,Po)[Po](O.targets),De;return this.opts.theme==="auto"?De=N.darkMode?"dark":"light":De=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),X2({state:_,isHidden:O.isHidden,files:D,newFiles:ie,uploadStartedFiles:X,completeFiles:ae,erroredFiles:ue,inProgressFiles:xe,inProgressNotPausedFiles:We,processingFiles:Mt,isUploadStarted:wt,isAllComplete:Ht,isAllErrored:xi,isAllPaused:Zt,totalFileCount:Object.keys(D).length,totalProgress:_.totalProgress,allowNewUpload:Y,acquirers:ht,theme:De,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:O.activePickerPanel,showFileEditor:O.showFileEditor,saveFileEditor:this.saveFileEditor,disableAllFocusableElements:this.disableAllFocusableElements,animateOpenClose:this.opts.animateOpenClose,isClosing:O.isClosing,progressindicators:pt,editors:dt,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:_.recoveredState,metaFields:O.metaFields,resumableUploads:N.resumableUploads||!1,individualCancellation:N.individualCancellation,isMobileDevice:N.isMobileDevice,fileCardFor:O.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:O.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,hideCancelButton:this.opts.hideCancelButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:O.containerWidth,containerHeight:O.containerHeight,areInsidesReadyToBeVisible:O.areInsidesReadyToBeVisible,isTargetDOMEl:this.isTargetDOMEl,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:O.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop})},this.discoverProviderPlugins=()=>{this.uppy.iteratePlugins(_=>{_&&!_.target&&_.opts&&_.opts.target===this.constructor&&this.addTarget(_)})},this.install=()=>{this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:!1,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});let{inline:_,closeAfterFinish:O}=this.opts;if(_&&O)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");let{allowMultipleUploads:D,allowMultipleUploadBatches:N}=this.uppy.opts;(D||N)&&O&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");let{target:Y}=this.opts;Y&&this.mount(Y,this),(this.opts.plugins||[]).forEach(X=>{let ae=this.uppy.getPlugin(X);ae&&ae.mount(this,ae)}),this.opts.disableStatusBar||this.uppy.use(om,{id:`${this.id}:StatusBar`,target:this,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,showProgressDetails:this.opts.showProgressDetails,hideAfterFinish:this.opts.hideProgressAfterFinish,locale:this.opts.locale,doneButtonHandler:this.opts.doneButtonHandler}),this.opts.disableInformer||this.uppy.use(lm,{id:`${this.id}:Informer`,target:this}),this.opts.disableThumbnailGenerator||this.uppy.use(wm,{id:`${this.id}:ThumbnailGenerator`,thumbnailWidth:this.opts.thumbnailWidth,thumbnailHeight:this.opts.thumbnailHeight,thumbnailType:this.opts.thumbnailType,waitForThumbnailsBeforeUpload:this.opts.waitForThumbnailsBeforeUpload,lazy:!this.opts.waitForThumbnailsBeforeUpload}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;let ie=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${ie?"on":"off"}`),this.setDarkModeCapability(ie),this.opts.theme==="auto"&&this.darkModeMediaQuery.addListener(this.handleSystemDarkModeChange),this.discoverProviderPlugins(),this.initEvents()},this.uninstall=()=>{if(!this.opts.disableInformer){let _=this.uppy.getPlugin(`${this.id}:Informer`);_&&this.uppy.removePlugin(_)}if(!this.opts.disableStatusBar){let _=this.uppy.getPlugin(`${this.id}:StatusBar`);_&&this.uppy.removePlugin(_)}if(!this.opts.disableThumbnailGenerator){let _=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);_&&this.uppy.removePlugin(_)}(this.opts.plugins||[]).forEach(_=>{let O=this.uppy.getPlugin(_);O&&O.unmount()}),this.opts.theme==="auto"&&this.darkModeMediaQuery.removeListener(this.handleSystemDarkModeChange),this.unmount(),this.removeEvents()},this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.modalName=`uppy-Dashboard-${Ie()}`,this.defaultLocale=o8;let p={target:"body",metaFields:[],trigger:null,inline:!1,width:750,height:550,thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:Z2,showLinkToFileUploadResult:!1,showProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,doneButtonHandler:()=>{this.uppy.cancelAll(),this.requestCloseModal()},note:null,closeModalOnClickOutside:!1,closeAfterFinish:!1,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,disablePageScrollWhenModalOpen:!0,animateOpenClose:!0,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,onRequestCloseModal:()=>this.closeModal(),showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,browserBackButtonClose:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpenFileEditor:!1,disabled:!1,disableLocalFiles:!1};this.opts={...p,...n},this.i18nInit(),this.superFocus=m2(),this.ifFocusedOnUppyRecently=!1,this.makeDashboardInsidesVisibleAnywayTimeout=null,this.removeDragOverClassTimeout=null}};o(Om,"Dashboard"),Om.VERSION=c8.version;var u8={strings:{dropHereOr:"Drop here or %{browse}",browse:"browse"}},d8={version:"3.0.1"},Am=class extends vt{constructor(r,n){super(r,n),this.handleDrop=async p=>{var _,O;p.preventDefault(),p.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!1});let D=o(Y=>{this.uppy.log(Y,"error")},"logDropError"),N=await _m(p.dataTransfer,{logDropError:D});N.length>0&&(this.uppy.log("[DragDrop] Files dropped"),this.addFiles(N)),(_=(O=this.opts).onDrop)==null||_.call(O,p)},this.type="acquirer",this.id=this.opts.id||"DragDrop",this.title="Drag & Drop",this.defaultLocale=u8;let c={target:null,inputName:"files[]",width:"100%",height:"100%",note:null};this.opts={...c,...n},this.i18nInit(),this.isDragDropSupported=Nb(),this.removeDragOverClassTimeout=null,this.onInputChange=this.onInputChange.bind(this),this.handleDragOver=this.handleDragOver.bind(this),this.handleDragLeave=this.handleDragLeave.bind(this),this.handleDrop=this.handleDrop.bind(this),this.addFiles=this.addFiles.bind(this),this.render=this.render.bind(this)}addFiles(r){let n=r.map(c=>({source:this.id,name:c.name,type:c.type,data:c,meta:{relativePath:c.relativePath||null}}));try{this.uppy.addFiles(n)}catch(c){this.uppy.log(c)}}onInputChange(r){let n=Pn(r.target.files);n.length>0&&(this.uppy.log("[DragDrop] Files selected through input"),this.addFiles(n)),r.target.value=null}handleDragOver(r){var n,c;r.preventDefault(),r.stopPropagation();let{types:p}=r.dataTransfer,_=p.some(D=>D==="Files"),{allowNewUpload:O}=this.uppy.getState();if(!_||!O){r.dataTransfer.dropEffect="none",clearTimeout(this.removeDragOverClassTimeout);return}r.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),this.setPluginState({isDraggingOver:!0}),(n=(c=this.opts).onDragOver)==null||n.call(c,r)}handleDragLeave(r){var n,c;r.preventDefault(),r.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{this.setPluginState({isDraggingOver:!1})},50),(n=(c=this.opts).onDragLeave)==null||n.call(c,r)}renderHiddenFileInput(){let{restrictions:r}=this.uppy.opts;return v("input",{className:"uppy-DragDrop-input",type:"file",hidden:!0,ref:n=>{this.fileInputRef=n},name:this.opts.inputName,multiple:r.maxNumberOfFiles!==1,accept:r.allowedFileTypes,onChange:this.onInputChange})}static renderArrowSvg(){return v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-DragDrop-arrow",width:"16",height:"16",viewBox:"0 0 16 16"},v("path",{d:"M11 10V0H5v10H2l6 6 6-6h-3zm0 0",fillRule:"evenodd"}))}renderLabel(){return v("div",{className:"uppy-DragDrop-label"},this.i18nArray("dropHereOr",{browse:v("span",{className:"uppy-DragDrop-browse"},this.i18n("browse"))}))}renderNote(){return v("span",{className:"uppy-DragDrop-note"},this.opts.note)}render(){let r=`uppy-u-reset
      uppy-DragDrop-container
      ${this.isDragDropSupported?"uppy-DragDrop--isDragDropSupported":""}
      ${this.getPluginState().isDraggingOver?"uppy-DragDrop--isDraggingOver":""}
    `,n={width:this.opts.width,height:this.opts.height};return v("button",{type:"button",className:r,style:n,onClick:()=>this.fileInputRef.click(),onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,onDrop:this.handleDrop},this.renderHiddenFileInput(),v("div",{className:"uppy-DragDrop-inner"},Am.renderArrowSvg(),this.renderLabel(),this.renderNote()))}install(){let{target:r}=this.opts;this.setPluginState({isDraggingOver:!1}),r&&this.mount(r,this)}uninstall(){this.unmount()}};o(Am,"DragDrop"),Am.VERSION=d8.version;var f8={version:"2.0.1"};function Pm(r){var n,c;return(n=(c=r.dataTransfer.types)==null?void 0:c.some(p=>p==="Files"))!=null?n:!1}o(Pm,"isFileTransfer");var Kb=class extends $e{constructor(r,n){super(r,n),this.addFiles=p=>{let _=p.map(O=>({source:this.id,name:O.name,type:O.type,data:O,meta:{relativePath:O.relativePath||null}}));try{this.uppy.addFiles(_)}catch(O){this.uppy.log(O)}},this.handleDrop=async p=>{var _,O;if(!Pm(p))return;p.preventDefault(),p.stopPropagation(),clearTimeout(this.removeDragOverClassTimeout),p.currentTarget.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(ie=>{ie.type==="acquirer"&&(ie.handleRootDrop==null||ie.handleRootDrop(p))});let D=!1,N=o(ie=>{this.uppy.log(ie,"error"),D||(this.uppy.info(ie.message,"error"),D=!0)},"logDropError"),Y=await _m(p.dataTransfer,{logDropError:N});Y.length>0&&(this.uppy.log("[DropTarget] Files were dropped"),this.addFiles(Y)),(_=(O=this.opts).onDrop)==null||_.call(O,p)},this.handleDragOver=p=>{var _,O;!Pm(p)||(p.preventDefault(),p.stopPropagation(),p.dataTransfer.dropEffect="copy",clearTimeout(this.removeDragOverClassTimeout),p.currentTarget.classList.add("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!0}),(_=(O=this.opts).onDragOver)==null||_.call(O,p))},this.handleDragLeave=p=>{var _,O;if(!Pm(p))return;p.preventDefault(),p.stopPropagation();let{currentTarget:D}=p;clearTimeout(this.removeDragOverClassTimeout),this.removeDragOverClassTimeout=setTimeout(()=>{D.classList.remove("uppy-is-drag-over"),this.setPluginState({isDraggingOver:!1})},50),(_=(O=this.opts).onDragLeave)==null||_.call(O,p)},this.addListeners=()=>{let{target:p}=this.opts;if(p instanceof Element?this.nodes=[p]:typeof p=="string"&&(this.nodes=Pn(document.querySelectorAll(p))),!this.nodes&&!this.nodes.length>0)throw new Error(`"${p}" does not match any HTML elements`);this.nodes.forEach(_=>{_.addEventListener("dragover",this.handleDragOver,!1),_.addEventListener("dragleave",this.handleDragLeave,!1),_.addEventListener("drop",this.handleDrop,!1)})},this.removeListeners=()=>{this.nodes&&this.nodes.forEach(p=>{p.removeEventListener("dragover",this.handleDragOver,!1),p.removeEventListener("dragleave",this.handleDragLeave,!1),p.removeEventListener("drop",this.handleDrop,!1)})},this.type="acquirer",this.id=this.opts.id||"DropTarget",this.title="Drop Target";let c={target:null};this.opts={...c,...n},this.removeDragOverClassTimeout=null}install(){this.setPluginState({isDraggingOver:!1}),this.addListeners()}uninstall(){this.removeListeners()}};o(Kb,"DropTarget"),Kb.VERSION=f8.version;var p8={strings:{chooseFiles:"Choose files"}},m8={version:"3.0.1"},Zb=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"FileInput",this.title="File Input",this.type="acquirer",this.defaultLocale=p8;let c={target:null,pretty:!0,inputName:"files[]"};this.opts={...c,...n},this.i18nInit(),this.render=this.render.bind(this),this.handleInputChange=this.handleInputChange.bind(this),this.handleClick=this.handleClick.bind(this)}addFiles(r){let n=r.map(c=>({source:this.id,name:c.name,type:c.type,data:c}));try{this.uppy.addFiles(n)}catch(c){this.uppy.log(c)}}handleInputChange(r){this.uppy.log("[FileInput] Something selected through input...");let n=Pn(r.target.files);this.addFiles(n),r.target.value=null}handleClick(){this.input.click()}render(){let r={width:"0.1px",height:"0.1px",opacity:0,overflow:"hidden",position:"absolute",zIndex:-1},{restrictions:n}=this.uppy.opts,c=n.allowedFileTypes?n.allowedFileTypes.join(","):null;return v("div",{className:"uppy-FileInput-container"},v("input",{className:"uppy-FileInput-input",style:this.opts.pretty&&r,type:"file",name:this.opts.inputName,onChange:this.handleInputChange,multiple:n.maxNumberOfFiles!==1,accept:c,ref:p=>{this.input=p}}),this.opts.pretty&&v("button",{className:"uppy-FileInput-btn",type:"button",onClick:this.handleClick},this.i18n("chooseFiles")))}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};o(Zb,"FileInput"),Zb.VERSION=m8.version;var g8=f(y(),1),Q2=class extends se{constructor(r){super(r),this.granularRotateOnChange=n=>{let{rotationAngle:c,rotationDelta:p}=this.state,_=Number(n.target.value)-p;if(cancelAnimationFrame(this.granularRotateOnInputNextFrame),_!==0){let O=c+_;this.granularRotateOnInputNextFrame=requestAnimationFrame(()=>{this.cropper.rotateTo(O)})}},this.state={rotationAngle:0,rotationDelta:0}}componentDidMount(){let{opts:r,storeCropperInstance:n}=this.props;this.cropper=new g8.default(this.imgElement,r.cropperOptions),n(this.cropper),r.actions.granularRotate&&this.imgElement.addEventListener("crop",c=>{let p=c.detail.rotate;this.setState({rotationAngle:p,rotationDelta:(p+405)%90-45})})}componentWillUnmount(){this.cropper.destroy()}renderGranularRotate(){let{i18n:r}=this.props,{rotationDelta:n,rotationAngle:c}=this.state;return v("label",{"data-microtip-position":"top",role:"tooltip","aria-label":`${c}`,className:"uppy-ImageCropper-rangeWrapper uppy-u-reset"},v("input",{className:"uppy-ImageCropper-range uppy-u-reset",type:"range",onInput:this.granularRotateOnChange,onChange:this.granularRotateOnChange,value:n,min:"-45",max:"44","aria-label":r("rotate")}))}renderRevert(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("revert"),"data-microtip-position":"top",onClick:()=>{this.cropper.reset(),this.cropper.setAspectRatio(0)}},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"})))}renderRotate(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn",onClick:()=>this.cropper.rotate(-90),"aria-label":r("rotate"),"data-microtip-position":"top"},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0V0zm0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M14 10a2 2 0 012 2v7a2 2 0 01-2 2H6a2 2 0 01-2-2v-7a2 2 0 012-2h8zm0 1.75H6a.25.25 0 00-.243.193L5.75 12v7a.25.25 0 00.193.243L6 19.25h8a.25.25 0 00.243-.193L14.25 19v-7a.25.25 0 00-.193-.243L14 11.75zM12 .76V4c2.3 0 4.61.88 6.36 2.64a8.95 8.95 0 012.634 6.025L21 13a1 1 0 01-1.993.117L19 13h-.003a6.979 6.979 0 00-2.047-4.95 6.97 6.97 0 00-4.652-2.044L12 6v3.24L7.76 5 12 .76z"})))}renderFlip(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("flipHorizontal"),"data-microtip-position":"top",onClick:()=>this.cropper.scaleX(-this.cropper.getData().scaleX||-1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"})))}renderZoomIn(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("zoomIn"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(.1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",height:"24",viewBox:"0 0 24 24",width:"24"},v("path",{d:"M0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),v("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"})))}renderZoomOut(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("zoomOut"),"data-microtip-position":"top",onClick:()=>this.cropper.zoom(-.1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0V0z",fill:"none"}),v("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})))}renderCropSquare(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioSquare"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(1)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"})))}renderCropWidescreen(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioLandscape"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(16/9)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M 19,4.9999992 V 17.000001 H 4.9999998 V 6.9999992 H 19 m 0,-2 H 4.9999998 c -1.0999999,0 -1.9999999,0.9000001 -1.9999999,2 V 17.000001 c 0,1.1 0.9,2 1.9999999,2 H 19 c 1.1,0 2,-0.9 2,-2 V 6.9999992 c 0,-1.0999999 -0.9,-2 -2,-2 z"}),v("path",{fill:"none",d:"M0 0h24v24H0z"})))}renderCropWidescreenVertical(){let{i18n:r}=this.props;return v("button",{type:"button",className:"uppy-u-reset uppy-c-btn","aria-label":r("aspectRatioPortrait"),"data-microtip-position":"top",onClick:()=>this.cropper.setAspectRatio(9/16)},v("svg",{"aria-hidden":"true",className:"uppy-c-icon",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M 19.000001,19 H 6.999999 V 5 h 10.000002 v 14 m 2,0 V 5 c 0,-1.0999999 -0.9,-1.9999999 -2,-1.9999999 H 6.999999 c -1.1,0 -2,0.9 -2,1.9999999 v 14 c 0,1.1 0.9,2 2,2 h 10.000002 c 1.1,0 2,-0.9 2,-2 z"}),v("path",{d:"M0 0h24v24H0z",fill:"none"})))}render(){let{currentImage:r,opts:n}=this.props,{actions:c}=n,p=URL.createObjectURL(r.data);return v("div",{className:"uppy-ImageCropper"},v("div",{className:"uppy-ImageCropper-container"},v("img",{className:"uppy-ImageCropper-image",alt:r.name,src:p,ref:_=>{this.imgElement=_}})),v("div",{className:"uppy-ImageCropper-controls"},c.revert&&this.renderRevert(),c.rotate&&this.renderRotate(),c.granularRotate&&this.renderGranularRotate(),c.flip&&this.renderFlip(),c.zoomIn&&this.renderZoomIn(),c.zoomOut&&this.renderZoomOut(),c.cropSquare&&this.renderCropSquare(),c.cropWidescreen&&this.renderCropWidescreen(),c.cropWidescreenVertical&&this.renderCropWidescreenVertical()))}};o(Q2,"Editor");var y8={strings:{revert:"Revert",rotate:"Rotate",zoomIn:"Zoom in",zoomOut:"Zoom out",flipHorizontal:"Flip horizontal",aspectRatioSquare:"Crop square",aspectRatioLandscape:"Crop landscape (16:9)",aspectRatioPortrait:"Crop portrait (9:16)"}},v8={version:"2.1.0"},Qb=class extends vt{constructor(r,n){super(r,n),this.save=()=>{let O=o(N=>{let{currentImage:Y}=this.getPluginState();this.uppy.setFileState(Y.id,{data:N,size:N.size,preview:null});let ie=this.uppy.getFile(Y.id);this.uppy.emit("thumbnail:request",ie),this.setPluginState({currentImage:ie}),this.uppy.emit("file-editor:complete",ie)},"saveBlobCallback"),{currentImage:D}=this.getPluginState();this.cropper.getCroppedCanvas(this.opts.cropperOptions.croppedCanvasOptions).toBlob(O,D.type,this.opts.quality)},this.storeCropperInstance=O=>{this.cropper=O},this.selectFile=O=>{this.uppy.emit("file-editor:start",O),this.setPluginState({currentImage:O})},this.id=this.opts.id||"ImageEditor",this.title="Image Editor",this.type="editor",this.defaultLocale=y8;let c={viewMode:1,background:!1,autoCropArea:1,responsive:!0,croppedCanvasOptions:{}},p={revert:!0,rotate:!0,granularRotate:!0,flip:!0,zoomIn:!0,zoomOut:!0,cropSquare:!0,cropWidescreen:!0,cropWidescreenVertical:!0},_={quality:.8};this.opts={..._,...n,actions:{...p,...n.actions},cropperOptions:{...c,...n.cropperOptions}},this.i18nInit()}canEditFile(r){if(!r.type||r.isRemote)return!1;let n=r.type.split("/")[1];return!!/^(jpe?g|gif|png|bmp|webp)$/.test(n)}install(){this.setPluginState({currentImage:null});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){let{currentImage:r}=this.getPluginState();if(r){let n=this.uppy.getFile(r.id);this.uppy.emit("file-editor:cancel",n)}this.unmount()}render(){let{currentImage:r}=this.getPluginState();return r===null||r.isRemote?null:v(Q2,{currentImage:r,storeCropperInstance:this.storeCropperInstance,save:this.save,opts:this.opts,i18n:this.i18n})}};o(Qb,"ImageEditor"),Qb.VERSION=v8.version;var b8={version:"3.0.1"},Jb=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"ProgressBar",this.title="Progress Bar",this.type="progressindicator";let c={target:"body",fixed:!1,hideAfterFinish:!0};this.opts={...c,...n},this.render=this.render.bind(this)}render(r){let n=r.totalProgress||0,c=(n===0||n===100)&&this.opts.hideAfterFinish;return v("div",{className:"uppy uppy-ProgressBar",style:{position:this.opts.fixed?"fixed":"initial"},"aria-hidden":c},v("div",{className:"uppy-ProgressBar-inner",style:{width:`${n}%`}}),v("div",{className:"uppy-ProgressBar-percentage"},n))}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};o(Jb,"ProgressBar"),Jb.VERSION=b8.version;var w8={"audio/mp3":"mp3","audio/mp4":"mp4","audio/ogg":"ogg","audio/webm":"webm","image/gif":"gif","image/heic":"heic","image/heif":"heif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","video/mp4":"mp4","video/ogg":"ogv","video/quicktime":"mov","video/webm":"webm","video/x-matroska":"mkv","video/x-msvideo":"avi"};function sc(r){return[r]=r.split(";",1),w8[r]||null}o(sc,"getFileTypeExtension");function J2(){var r;return typeof MediaRecorder=="function"&&typeof((r=MediaRecorder.prototype)==null?void 0:r.start)=="function"}o(J2,"supportsMediaRecorder");var e0,Ta,t0,eC,i0=0,tC=[],Mm=[],iC=qt.__b,rC=qt.__r,sC=qt.diffed,aC=qt.__c,nC=qt.unmount;function r0(r,n){qt.__h&&qt.__h(Ta,r,i0||n),i0=0;var c=Ta.__H||(Ta.__H={__:[],__h:[]});return r>=c.__.length&&c.__.push({__V:Mm}),c.__[r]}o(r0,"p");function s0(r,n){var c=r0(e0++,3);!qt.__s&&n0(c.__H,n)&&(c.__=r,c.u=n,Ta.__H.__h.push(c))}o(s0,"_");function a0(r){return i0=5,oC(function(){return{current:r}},[])}o(a0,"s");function oC(r,n){var c=r0(e0++,7);return n0(c.__H,n)?(c.__V=r(),c.u=n,c.__h=r,c.__V):c.__}o(oC,"F");function lC(){for(var r;r=tC.shift();)if(r.__P)try{r.__H.__h.forEach(dd),r.__H.__h.forEach(Lm),r.__H.__h=[]}catch(n){r.__H.__h=[],qt.__e(n,r.__v)}}o(lC,"b"),qt.__b=function(r){Ta=null,iC&&iC(r)},qt.__r=function(r){rC&&rC(r),e0=0;var n=(Ta=r.__c).__H;n&&(t0===Ta?(n.__h=[],Ta.__h=[],n.__.forEach(function(c){c.__V=Mm,c.u=void 0})):(n.__h.forEach(dd),n.__h.forEach(Lm),n.__h=[])),t0=Ta},qt.diffed=function(r){sC&&sC(r);var n=r.__c;n&&n.__H&&(n.__H.__h.length&&(tC.push(n)!==1&&eC===qt.requestAnimationFrame||((eC=qt.requestAnimationFrame)||function(c){var p,_=o(function(){clearTimeout(O),cC&&cancelAnimationFrame(p),setTimeout(c)},"u"),O=setTimeout(_,100);cC&&(p=requestAnimationFrame(_))})(lC)),n.__H.__.forEach(function(c){c.u&&(c.__H=c.u),c.__V!==Mm&&(c.__=c.__V),c.u=void 0,c.__V=Mm})),t0=Ta=null},qt.__c=function(r,n){n.some(function(c){try{c.__h.forEach(dd),c.__h=c.__h.filter(function(p){return!p.__||Lm(p)})}catch(p){n.some(function(_){_.__h&&(_.__h=[])}),n=[],qt.__e(p,c.__v)}}),aC&&aC(r,n)},qt.unmount=function(r){nC&&nC(r);var n,c=r.__c;c&&c.__H&&(c.__H.__.forEach(function(p){try{dd(p)}catch(_){n=_}}),n&&qt.__e(n,c.__v))};var cC=typeof requestAnimationFrame=="function";function dd(r){var n=Ta,c=r.__c;typeof c=="function"&&(r.__c=void 0,c()),Ta=n}o(dd,"j");function Lm(r){var n=Ta;r.__c=r.__(),Ta=n}o(Lm,"k");function n0(r,n){return!r||r.length!==n.length||n.some(function(c,p){return c!==r[p]})}o(n0,"w");function hC(r){let{recording:n,onStartRecording:c,onStopRecording:p,i18n:_}=r;return n?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:_("stopAudioRecording"),"aria-label":_("stopAudioRecording"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("rect",{x:"15",y:"15",width:"70",height:"70"}))):v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:_("startAudioRecording"),"aria-label":_("startAudioRecording"),onClick:c,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14px",height:"20px",viewBox:"0 0 14 20"},v("path",{d:"M7 14c2.21 0 4-1.71 4-3.818V3.818C11 1.71 9.21 0 7 0S3 1.71 3 3.818v6.364C3 12.29 4.79 14 7 14zm6.364-7h-.637a.643.643 0 0 0-.636.65V9.6c0 3.039-2.565 5.477-5.6 5.175-2.645-.264-4.582-2.692-4.582-5.407V7.65c0-.36-.285-.65-.636-.65H.636A.643.643 0 0 0 0 7.65v1.631c0 3.642 2.544 6.888 6.045 7.382v1.387H3.818a.643.643 0 0 0-.636.65v.65c0 .36.285.65.636.65h6.364c.351 0 .636-.29.636-.65v-.65c0-.36-.285-.65-.636-.65H7.955v-1.372C11.363 16.2 14 13.212 14 9.6V7.65c0-.36-.285-.65-.636-.65z",fill:"#FFF","fill-rule":"nonzero"})))}o(hC,"RecordButton");function uC(r){return`${Math.floor(r/60)}:${String(r%60).padStart(2,0)}`}o(uC,"formatSeconds");function dC(r){let{recordingLengthSeconds:n,i18n:c}=r,p=uC(n);return v("span",{"aria-label":c("recordingLength",{recording_length:p})},p)}o(dC,"RecordingLength");var _8=o(r=>{let{currentDeviceId:n,audioSources:c,onChangeSource:p}=r;return v("div",{className:"uppy-Audio-videoSource"},v("select",{className:"uppy-u-reset uppy-Audio-audioSource-select",onChange:_=>{p(_.target.value)}},c.map(_=>v("option",{key:_.deviceId,value:_.deviceId,selected:_.deviceId===n},_.label))))},"default");function fC(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(fC,"_classPrivateFieldLooseBase");var x8=0;function pC(r){return"__private_"+x8+++"_"+r}o(pC,"_classPrivateFieldLooseKey");function o0(r){return typeof r=="function"}o(o0,"isFunction");function Bh(r){return o0(r)?r():r}o(Bh,"result");var l0=pC("draw"),mC=class{constructor(r,n){n===void 0&&(n={}),Object.defineProperty(this,l0,{writable:!0,value:()=>this.draw()});let c=n.canvas||{},p=n.canvasContext||{};this.analyser=null,this.bufferLength=0,this.dataArray=[],this.canvas=r,this.width=Bh(c.width)||this.canvas.width,this.height=Bh(c.height)||this.canvas.height,this.canvas.width=this.width,this.canvas.height=this.height,this.canvasContext=this.canvas.getContext("2d"),this.canvasContext.fillStyle=Bh(p.fillStyle)||"rgb(255, 255, 255)",this.canvasContext.strokeStyle=Bh(p.strokeStyle)||"rgb(0, 0, 0)",this.canvasContext.lineWidth=Bh(p.lineWidth)||1,this.onDrawFrame=o0(n.onDrawFrame)?n.onDrawFrame:()=>{}}addSource(r){this.streamSource=r,this.audioContext=this.streamSource.context,this.analyser=this.audioContext.createAnalyser(),this.analyser.fftSize=2048,this.bufferLength=this.analyser.frequencyBinCount,this.source=this.audioContext.createBufferSource(),this.dataArray=new Uint8Array(this.bufferLength),this.analyser.getByteTimeDomainData(this.dataArray),this.streamSource.connect(this.analyser)}draw(){let{analyser:r,dataArray:n,bufferLength:c}=this,p=this.canvasContext,_=this.width,O=this.height;r&&r.getByteTimeDomainData(n),p.fillRect(0,0,_,O),p.beginPath();let D=_*1/c,N=0;c||p.moveTo(0,this.height/2);for(let Y=0;Y<c;Y++){let ie=n[Y]/128*(O/2);Y===0?p.moveTo(N,ie):p.lineTo(N,ie),N+=D}p.lineTo(_,O/2),p.stroke(),this.onDrawFrame(this),requestAnimationFrame(fC(this,l0)[l0])}};o(mC,"AudioOscilloscope");function gC(r){let{onSubmit:n,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button uppy-Audio-button--submit",type:"button",title:c("submitRecordedFile"),"aria-label":c("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},v("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}o(gC,"SubmitButton");var k8=gC;function yC(r){let{onDiscard:n,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Audio-button",type:"button",title:c("discardRecordedFile"),"aria-label":c("discardRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},v("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:"uppy-c-icon"},v("g",{fill:"#FFF",fillRule:"evenodd"},v("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),v("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}o(yC,"DiscardButton");var S8=yC;function vC(r){let{stream:n,recordedAudio:c,onStop:p,recording:_,supportsRecording:O,audioSources:D,showAudioSourceDropdown:N,onSubmit:Y,i18n:ie,onStartRecording:X,onStopRecording:ae,onDiscardRecordedAudio:ue,recordingLengthSeconds:xe}=r,We=a0(null),Mt=a0(null);s0(()=>()=>{Mt.current=null,p()},[p]),s0(()=>{if(!c&&(Mt.current=new mC(We.current,{canvas:{width:600,height:600},canvasContext:{lineWidth:2,fillStyle:"rgb(0,0,0)",strokeStyle:"green"}}),Mt.current.draw(),n)){let Zt=new AudioContext().createMediaStreamSource(n);Mt.current.addSource(Zt)}},[c,n]);let wt=c!=null,Ht=!wt&&O,xi=N&&!wt&&D&&D.length>1;return v("div",{className:"uppy-Audio-container"},v("div",{className:"uppy-Audio-audioContainer"},wt?v("audio",{className:"uppy-Audio-player",controls:!0,src:c}):v("canvas",{ref:We,className:"uppy-Audio-canvas"})),v("div",{className:"uppy-Audio-footer"},v("div",{className:"uppy-Audio-audioSourceContainer"},xi?_8(r):null),v("div",{className:"uppy-Audio-buttonContainer"},Ht&&v(hC,{recording:_,onStartRecording:X,onStopRecording:ae,i18n:ie}),wt&&v(k8,{onSubmit:Y,i18n:ie}),wt&&v(S8,{onDiscard:ue,i18n:ie})),v("div",{className:"uppy-Audio-recordingLength"},!wt&&v(dC,{recordingLengthSeconds:xe,i18n:ie}))))}o(vC,"RecordingScreen");var T8=o(r=>{let{icon:n,hasAudio:c,i18n:p}=r;return v("div",{className:"uppy-Audio-permissons"},v("div",{className:"uppy-Audio-permissonsIcon"},n()),v("h1",{className:"uppy-Audio-title"},p(c?"allowAudioAccessTitle":"noAudioTitle")),v("p",null,p(c?"allowAudioAccessDescription":"noAudioDescription")))},"default"),C8={strings:{pluginNameAudio:"Audio",startAudioRecording:"Begin audio recording",stopAudioRecording:"Stop audio recording",allowAudioAccessTitle:"Please allow access to your microphone",allowAudioAccessDescription:"In order to record audio, please allow microphone access for this site.",noAudioTitle:"Microphone Not Available",noAudioDescription:"In order to record audio, please connect a microphone or another audio input device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",recordingLength:"Recording length %{recording_length}",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file"}};function Rm(){return Rm=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Rm.apply(this,arguments)}o(Rm,"_extends");function Gt(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Gt,"_classPrivateFieldLooseBase");var E8=0;function Os(r){return"__private_"+E8+++"_"+r}o(Os,"_classPrivateFieldLooseKey");var O8={version:"1.0.2"},Fs=Os("stream"),Mo=Os("audioActive"),Kr=Os("recordingChunks"),Zr=Os("recorder"),Lo=Os("capturedMediaFile"),Ds=Os("mediaDevices"),fd=Os("supportsUserMedia"),c0=Os("hasAudioCheck"),ac=Os("start"),h0=Os("startRecording"),pd=Os("stopRecording"),u0=Os("discardRecordedAudio"),d0=Os("submit"),Ro=Os("stop"),f0=Os("getAudio"),p0=Os("changeSource"),nc=Os("updateSources"),m0=class extends vt{constructor(r,n){var c;super(r,n),c=this,Object.defineProperty(this,f0,{value:wC}),Object.defineProperty(this,c0,{value:bC}),Object.defineProperty(this,Fs,{writable:!0,value:null}),Object.defineProperty(this,Mo,{writable:!0,value:!1}),Object.defineProperty(this,Kr,{writable:!0,value:null}),Object.defineProperty(this,Zr,{writable:!0,value:null}),Object.defineProperty(this,Lo,{writable:!0,value:null}),Object.defineProperty(this,Ds,{writable:!0,value:null}),Object.defineProperty(this,fd,{writable:!0,value:null}),Object.defineProperty(this,ac,{writable:!0,value:function(p){if(p===void 0&&(p=null),!Gt(c,fd)[fd])return Promise.reject(new Error("Microphone access not supported"));Gt(c,Mo)[Mo]=!0,Gt(c,c0)[c0]().then(_=>(c.setPluginState({hasAudio:_}),Gt(c,Ds)[Ds].getUserMedia({audio:!0}).then(O=>{Gt(c,Fs)[Fs]=O;let D=null,N=O.getAudioTracks();!p||!p.deviceId?D=N[0].getSettings().deviceId:N.forEach(Y=>{Y.getSettings().deviceId===p.deviceId&&(D=Y.getSettings().deviceId)}),Gt(c,nc)[nc](),c.setPluginState({currentDeviceId:D,audioReady:!0})}).catch(O=>{c.setPluginState({audioReady:!1,cameraError:O}),c.uppy.info(O.message,"error")})))}}),Object.defineProperty(this,h0,{writable:!0,value:()=>{Gt(this,Zr)[Zr]=new MediaRecorder(Gt(this,Fs)[Fs]),Gt(this,Kr)[Kr]=[];let p=!1;Gt(this,Zr)[Zr].addEventListener("dataavailable",_=>{Gt(this,Kr)[Kr].push(_.data);let{restrictions:O}=this.uppy.opts;if(Gt(this,Kr)[Kr].length>1&&O.maxFileSize!=null&&!p){let D=Gt(this,Kr)[Kr].reduce((ie,X)=>ie+X.size,0),N=(D-Gt(this,Kr)[Kr][0].size)/(Gt(this,Kr)[Kr].length-1)*3,Y=Math.max(0,O.maxFileSize-N);D>Y&&(p=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),Gt(this,pd)[pd]())}}),Gt(this,Zr)[Zr].start(500),this.recordingLengthTimer=setInterval(()=>{let _=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:_+1})},1e3),this.setPluginState({isRecording:!0})}}),Object.defineProperty(this,pd,{writable:!0,value:()=>new Promise(p=>{Gt(this,Zr)[Zr].addEventListener("stop",()=>{p()}),Gt(this,Zr)[Zr].stop(),clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0})}).then(()=>(this.setPluginState({isRecording:!1}),Gt(this,f0)[f0]())).then(p=>{try{Gt(this,Lo)[Lo]=p,this.setPluginState({recordedAudio:URL.createObjectURL(p.data)})}catch(_){_.isRestriction||this.uppy.log(_)}}).then(()=>{Gt(this,Kr)[Kr]=null,Gt(this,Zr)[Zr]=null},p=>{throw Gt(this,Kr)[Kr]=null,Gt(this,Zr)[Zr]=null,p})}),Object.defineProperty(this,u0,{writable:!0,value:()=>{this.setPluginState({recordedAudio:null}),Gt(this,Lo)[Lo]=null}}),Object.defineProperty(this,d0,{writable:!0,value:()=>{try{Gt(this,Lo)[Lo]&&this.uppy.addFile(Gt(this,Lo)[Lo])}catch(p){p.isRestriction||this.uppy.log(p,"error")}}}),Object.defineProperty(this,Ro,{writable:!0,value:async()=>{Gt(this,Fs)[Fs]&&Gt(this,Fs)[Fs].getAudioTracks().forEach(p=>p.stop()),Gt(this,Zr)[Zr]&&await new Promise(p=>{Gt(this,Zr)[Zr].addEventListener("stop",p,{once:!0}),Gt(this,Zr)[Zr].stop(),clearInterval(this.recordingLengthTimer)}),Gt(this,Kr)[Kr]=null,Gt(this,Zr)[Zr]=null,Gt(this,Mo)[Mo]=!1,Gt(this,Fs)[Fs]=null,this.setPluginState({recordedAudio:null,isRecording:!1,recordingLengthSeconds:0})}}),Object.defineProperty(this,p0,{writable:!0,value:p=>{Gt(this,Ro)[Ro](),Gt(this,ac)[ac]({deviceId:p})}}),Object.defineProperty(this,nc,{writable:!0,value:()=>{Gt(this,Ds)[Ds].enumerateDevices().then(p=>{this.setPluginState({audioSources:p.filter(_=>_.kind==="audioinput")})})}}),Gt(this,Ds)[Ds]=navigator.mediaDevices,Gt(this,fd)[fd]=Gt(this,Ds)[Ds]!=null,this.id=this.opts.id||"Audio",this.type="acquirer",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32px",height:"32px",viewBox:"0 0 32 32"},v("g",{fill:"none","fill-rule":"evenodd"},v("rect",{fill:"#9B59B6",width:"32",height:"32",rx:"16"}),v("path",{d:"M16 20c-2.21 0-4-1.71-4-3.818V9.818C12 7.71 13.79 6 16 6s4 1.71 4 3.818v6.364C20 18.29 18.21 20 16 20zm-6.364-7h.637c.351 0 .636.29.636.65v1.95c0 3.039 2.565 5.477 5.6 5.175 2.645-.264 4.582-2.692 4.582-5.407V13.65c0-.36.285-.65.636-.65h.637c.351 0 .636.29.636.65v1.631c0 3.642-2.544 6.888-6.045 7.382v1.387h2.227c.351 0 .636.29.636.65v.65c0 .36-.285.65-.636.65h-6.364a.643.643 0 0 1-.636-.65v-.65c0-.36.285-.65.636-.65h2.227v-1.372C11.637 22.2 9 19.212 9 15.6v-1.95c0-.36.285-.65.636-.65z",fill:"#FFF","fill-rule":"nonzero"}))),this.defaultLocale=C8,this.opts={...n},this.i18nInit(),this.title=this.i18n("pluginNameAudio"),this.setPluginState({hasAudio:!1,audioReady:!1,cameraError:null,recordingLengthSeconds:0,audioSources:[],currentDeviceId:null})}render(){Gt(this,Mo)[Mo]||Gt(this,ac)[ac]();let r=this.getPluginState();return!r.audioReady||!r.hasAudio?v(T8,{icon:this.icon,i18n:this.i18n,hasAudio:r.hasAudio}):v(vC,Rm({},r,{audioActive:Gt(this,Mo)[Mo],onChangeSource:Gt(this,p0)[p0],onStartRecording:Gt(this,h0)[h0],onStopRecording:Gt(this,pd)[pd],onDiscardRecordedAudio:Gt(this,u0)[u0],onSubmit:Gt(this,d0)[d0],onStop:Gt(this,Ro)[Ro],i18n:this.i18n,showAudioSourceDropdown:this.opts.showAudioSourceDropdown,supportsRecording:J2(),recording:r.isRecording,stream:Gt(this,Fs)[Fs]}))}install(){this.setPluginState({audioReady:!1,recordingLengthSeconds:0});let{target:r}=this.opts;r&&this.mount(r,this),Gt(this,Ds)[Ds]&&(Gt(this,nc)[nc](),Gt(this,Ds)[Ds].ondevicechange=()=>{if(Gt(this,nc)[nc](),Gt(this,Fs)[Fs]){let n=!0,{audioSources:c,currentDeviceId:p}=this.getPluginState();c.forEach(_=>{p===_.deviceId&&(n=!1)}),n&&(Gt(this,Ro)[Ro](),Gt(this,ac)[ac]())}})}uninstall(){Gt(this,Fs)[Fs]&&Gt(this,Ro)[Ro](),this.unmount()}};o(m0,"Audio");function bC(){return Gt(this,Ds)[Ds]?Gt(this,Ds)[Ds].enumerateDevices().then(r=>r.some(n=>n.kind==="audioinput")):Promise.resolve(!1)}o(bC,"_hasAudioCheck2");function wC(){let r=Gt(this,Kr)[Kr].find(O=>{var D;return((D=O.type)==null?void 0:D.length)>0}).type,n=sc(r);if(!n)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`audio-${Date.now()}.${n}`,p=new Blob(Gt(this,Kr)[Kr],{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}o(wC,"_getAudio2"),m0.VERSION=O8.version;var A8={strings:{pluginNameBox:"Box"}},P8={version:"2.0.1"},Fm=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"Box",is.initPlugin(this,n),this.title=this.opts.title||"Box",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#0061D5",width:"32",height:"32",rx:"16"}),v("g",{fill:"#fff",fillRule:"nonzero"},v("path",{d:"m16.4 13.5c-1.6 0-3 0.9-3.7 2.2-0.7-1.3-2.1-2.2-3.7-2.2-1 0-1.8 0.3-2.5 0.8v-3.6c-0.1-0.3-0.5-0.7-1-0.7s-0.8 0.4-0.8 0.8v7c0 2.3 1.9 4.2 4.2 4.2 1.6 0 3-0.9 3.7-2.2 0.7 1.3 2.1 2.2 3.7 2.2 2.3 0 4.2-1.9 4.2-4.2 0.1-2.4-1.8-4.3-4.1-4.3m-7.5 6.8c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5m7.5 0c-1.4 0-2.5-1.1-2.5-2.5s1.1-2.5 2.5-2.5 2.5 1.1 2.5 2.5-1.1 2.5-2.5 2.5"}),v("path",{d:"m27.2 20.6l-2.3-2.8 2.3-2.8c0.3-0.4 0.2-0.9-0.2-1.2s-1-0.2-1.3 0.2l-2 2.4-2-2.4c-0.3-0.4-0.9-0.4-1.3-0.2-0.4 0.3-0.5 0.8-0.2 1.2l2.3 2.8-2.3 2.8c-0.3 0.4-0.2 0.9 0.2 1.2s1 0.2 1.3-0.2l2-2.4 2 2.4c0.3 0.4 0.9 0.4 1.3 0.2 0.4-0.3 0.4-0.8 0.2-1.2"})))),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"box",pluginId:this.id}),this.defaultLocale=A8,this.i18nInit(),this.title=this.i18n("pluginNameBox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Cn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return this.view.getFolder()}render(r){return this.view.render(r)}};o(Fm,"Box"),Fm.VERSION=P8.version;var M8={strings:{pluginNameDropbox:"Dropbox"}},L8={version:"3.0.1"},Dm=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"Dropbox",is.initPlugin(this,n),this.title=this.opts.title||"Dropbox",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#0D2481",width:"32",height:"32",rx:"16"}),v("path",{d:"M11 8l5 3.185-5 3.186-5-3.186L11 8zm10 0l5 3.185-5 3.186-5-3.186L21 8zM6 17.556l5-3.185 5 3.185-5 3.186-5-3.186zm15-3.185l5 3.185-5 3.186-5-3.186 5-3.185zm-10 7.432l5-3.185 5 3.185-5 3.186-5-3.186z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"dropbox",pluginId:this.id}),this.defaultLocale=M8,this.i18nInit(),this.title=this.i18n("pluginNameDropbox"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Cn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};o(Dm,"Dropbox"),Dm.VERSION=L8.version;var R8={strings:{pluginNameFacebook:"Facebook"}},F8={version:"3.0.1"},Im=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"Facebook",is.initPlugin(this,n),this.title=this.opts.title||"Facebook",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#3C5A99"}),v("path",{d:"M17.842 26v-8.667h2.653l.398-3.377h-3.051v-2.157c0-.978.248-1.644 1.527-1.644H21V7.132A19.914 19.914 0 0 0 18.623 7c-2.352 0-3.963 1.574-3.963 4.465v2.49H12v3.378h2.66V26h3.182z",fill:"#FFF",fillRule:"nonzero"}))),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"facebook",pluginId:this.id}),this.defaultLocale=R8,this.i18nInit(),this.title=this.i18n("pluginNameFacebook"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Cn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){let n={};return this.getPluginState().files.length&&!this.getPluginState().folders.length&&(n.viewType="grid",n.showFilter=!1,n.showTitles=!1),this.view.render(r,n)}};o(Im,"Facebook"),Im.VERSION=F8.version;var _C=class extends Cn{toggleCheckbox(r,n){r.stopPropagation(),r.preventDefault(),n.custom.isSharedDrive||super.toggleCheckbox(r,n)}};o(_C,"DriveProviderViews");var D8={strings:{pluginNameGoogleDrive:"Google Drive"}},I8={version:"3.0.1"},Bm=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"GoogleDrive",this.title=this.opts.title||"Google Drive",is.initPlugin(this,n),this.title=this.opts.title||"Google Drive",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#4285F4",width:"32",height:"32",rx:"16"}),v("path",{d:"M25.216 17.736L19.043 7h-6.086l6.175 10.736h6.084zm-11.275.896L10.9 24h11.723l3.04-5.368H13.942zm-1.789-10.29l-5.816 10.29L9.38 24l5.905-10.29-3.132-5.369z",fill:"#FFF"}))),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"drive",pluginId:this.id}),this.defaultLocale=D8,this.i18nInit(),this.title=this.i18n("pluginNameGoogleDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new _C(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("root","/")])}render(r){return this.view.render(r)}};o(Bm,"GoogleDrive"),Bm.VERSION=I8.version;var B8={strings:{pluginNameInstagram:"Instagram"}},N8={version:"3.0.1"},Nm=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"Instagram",is.initPlugin(this,n),this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#E1306C",width:"32",height:"32",rx:"16"}),v("path",{d:"M16 8.622c2.403 0 2.688.009 3.637.052.877.04 1.354.187 1.67.31.392.144.745.374 1.036.673.299.29.529.644.673 1.035.123.317.27.794.31 1.671.043.95.052 1.234.052 3.637s-.009 2.688-.052 3.637c-.04.877-.187 1.354-.31 1.671a2.98 2.98 0 0 1-1.708 1.708c-.317.123-.794.27-1.671.31-.95.043-1.234.053-3.637.053s-2.688-.01-3.637-.053c-.877-.04-1.354-.187-1.671-.31a2.788 2.788 0 0 1-1.035-.673 2.788 2.788 0 0 1-.673-1.035c-.123-.317-.27-.794-.31-1.671-.043-.949-.052-1.234-.052-3.637s.009-2.688.052-3.637c.04-.877.187-1.354.31-1.67.144-.392.374-.745.673-1.036.29-.299.644-.529 1.035-.673.317-.123.794-.27 1.671-.31.95-.043 1.234-.052 3.637-.052zM16 7c-2.444 0-2.75.01-3.71.054-.959.044-1.613.196-2.185.419-.6.225-1.145.58-1.594 1.038-.458.45-.813.993-1.039 1.594-.222.572-.374 1.226-.418 2.184C7.01 13.25 7 13.556 7 16s.01 2.75.054 3.71c.044.959.196 1.613.419 2.185.226.6.58 1.145 1.038 1.594.45.458.993.813 1.594 1.038.572.223 1.227.375 2.184.419.96.044 1.267.054 3.711.054s2.75-.01 3.71-.054c.959-.044 1.613-.196 2.185-.419a4.602 4.602 0 0 0 2.632-2.632c.223-.572.375-1.226.419-2.184.044-.96.054-1.267.054-3.711s-.01-2.75-.054-3.71c-.044-.959-.196-1.613-.419-2.185A4.412 4.412 0 0 0 23.49 8.51a4.412 4.412 0 0 0-1.594-1.039c-.572-.222-1.226-.374-2.184-.418C18.75 7.01 18.444 7 16 7zm0 4.5a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9zm0 7.421a2.921 2.921 0 1 1 0-5.842 2.921 2.921 0 0 1 0 5.842zm4.875-6.671a1.125 1.125 0 1 1 0-2.25 1.125 1.125 0 0 1 0 2.25z",fill:"#FFF"}))),this.defaultLocale=B8,this.i18nInit(),this.title=this.i18n("pluginNameInstagram"),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"instagram",pluginId:this.id}),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Cn(this,{provider:this.provider,viewType:"grid",showTitles:!1,showFilter:!1,showBreadcrumbs:!1});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder("recent")])}render(r){return this.view.render(r)}};o(Nm,"Instagram"),Nm.VERSION=N8.version;var z8={strings:{pluginNameOneDrive:"OneDrive"}},U8={version:"3.0.1"},zm=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"OneDrive",is.initPlugin(this,n),this.title=this.opts.title||"OneDrive",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0262C0"}),v("g",{fill:"#FFF",fillRule:"nonzero"},v("path",{d:"M24.157 22s1.492-.205 1.79-1.655a2.624 2.624 0 0 0 .03-.878c-.22-1.64-1.988-2.01-1.988-2.01s.307-1.765-1.312-2.69c-1.62-.925-3.1 0-3.1 0S18.711 13 16.366 13c-3.016 0-3.519 3.448-3.519 3.448S10 16.618 10 19.14c0 2.523 2.597 2.86 2.597 2.86h11.56z"}),v("path",{d:"M9.421 19.246c0-2.197 1.606-3.159 2.871-3.472.44-1.477 1.654-3.439 4.135-3.439H16.445c1.721 0 2.79.823 3.368 1.476a3.99 3.99 0 0 1 1.147-.171h.01l.03.002C21.017 13.5 20.691 10 16.757 10c-2.69 0-3.639 2.345-3.639 2.345s-1.95-1.482-3.955.567c-1.028 1.052-.79 2.669-.79 2.669S6 15.824 6 18.412C6 20.757 8.452 21 8.452 21h1.372a3.77 3.77 0 0 1-.403-1.754z"})))),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"onedrive",pluginId:this.id}),this.defaultLocale=z8,this.i18nInit(),this.title=this.i18n("pluginNameOneDrive"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Cn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};o(zm,"OneDrive"),zm.VERSION=U8.version;var H8={version:"3.0.1"},Um=class extends vt{constructor(r,n){if(super(r,n),this.id=this.opts.id||"Unsplash",this.title=this.opts.title||"Unsplash",is.initPlugin(this,n,{}),this.icon=()=>v("svg",{viewBox:"0 0 32 32",height:"32",width:"32","aria-hidden":"true"},v("path",{d:"M46.575 10.883v-9h12v9zm12 5h10v18h-32v-18h10v9h12z",fill:"#fff"}),v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16"}),v("path",{d:"M13 12.5V8h6v4.5zm6 2.5h5v9H8v-9h5v4.5h6z",fill:"#fff"})),!this.opts.companionUrl)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.hostname=this.opts.companionUrl,this.provider=new eb(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule,provider:"unsplash",pluginId:this.id})}install(){this.view=new im(this,{provider:this.provider,viewType:"unsplash"});let{target:r}=this.opts;r&&this.mount(r,this)}onFirstRender(){}render(r){return this.view.render(r)}uninstall(){this.unmount()}};o(Um,"Unsplash"),Um.VERSION=H8.version;function Hm(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Hm,"_classPrivateFieldLooseBase");var W8=0;function g0(r){return"__private_"+W8+++"_"+r}o(g0,"_classPrivateFieldLooseKey");var y0=g0("handleKeyPress"),md=g0("handleSubmit"),xC=class extends se{constructor(){super(...arguments),Object.defineProperty(this,y0,{writable:!0,value:r=>{r.keyCode===13&&Hm(this,md)[md]()}}),Object.defineProperty(this,md,{writable:!0,value:()=>{let{addFile:r}=this.props,n=this.input.value.trim();r(n)}})}componentDidMount(){this.input.value=""}render(){let{i18n:r}=this.props;return v("div",{className:"uppy-Url"},v("input",{className:"uppy-u-reset uppy-c-textInput uppy-Url-input",type:"text","aria-label":r("enterUrlToImport"),placeholder:r("enterUrlToImport"),onKeyUp:Hm(this,y0)[y0],ref:n=>{this.input=n},"data-uppy-super-focusable":!0}),v("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Url-importButton",type:"button",onClick:Hm(this,md)[md]},r("import")))}};o(xC,"UrlUI");var j8=xC;function v0(r,n,c){let p=Pn(r.items),_;switch(n){case"paste":{if(p.some(O=>O.kind==="file"))return;_=p.filter(O=>O.kind==="string"&&O.type==="text/plain");break}case"drop":{_=p.filter(O=>O.kind==="string"&&O.type==="text/uri-list");break}default:throw new Error(`isDropOrPaste must be either 'drop' or 'paste', but it's ${n}`)}_.forEach(O=>{O.getAsString(D=>c(D))})}o(v0,"forEachDroppedOrPastedUrl");var q8={strings:{import:"Import",enterUrlToImport:"Enter URL to import a file",failedToFetch:"Companion failed to fetch this URL, please make sure its correct",enterCorrectUrl:"Incorrect URL: Please make sure you are entering a direct link to a file"}},$8={version:"3.1.0"};function kC(){return v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#FF753E",width:"32",height:"32",rx:"16"}),v("path",{d:"M22.788 15.389l-2.199 2.19a3.184 3.184 0 0 1-.513.437c-.806.584-1.686.876-2.638.876a4.378 4.378 0 0 1-3.519-1.752c-.22-.292-.146-.802.147-1.021.293-.22.806-.146 1.026.146.953 1.313 2.785 1.532 4.105.583a.571.571 0 0 0 .293-.292l2.199-2.189c1.1-1.167 1.1-2.992-.073-4.086a2.976 2.976 0 0 0-4.105 0l-1.246 1.24a.71.71 0 0 1-1.026 0 .703.703 0 0 1 0-1.022l1.246-1.24a4.305 4.305 0 0 1 6.083 0c1.833 1.605 1.906 4.451.22 6.13zm-7.183 5.035l-1.246 1.24a2.976 2.976 0 0 1-4.105 0c-1.172-1.094-1.172-2.991-.073-4.086l2.2-2.19.292-.291c.66-.438 1.393-.657 2.2-.584.805.146 1.465.51 1.905 1.168.22.292.733.365 1.026.146.293-.22.367-.73.147-1.022-.733-.949-1.76-1.532-2.859-1.678-1.1-.22-2.272.073-3.225.802l-.44.438-2.199 2.19c-1.686 1.75-1.612 4.524.074 6.202.88.803 1.979 1.241 3.078 1.241 1.1 0 2.199-.438 3.079-1.24l1.246-1.241a.703.703 0 0 0 0-1.022c-.294-.292-.807-.365-1.1-.073z",fill:"#FFF",fillRule:"nonzero"})))}o(kC,"UrlIcon");function SC(r){return/^[a-z0-9]+:\/\//.test(r)?r:"http://"+r}o(SC,"addProtocolToURL");function TC(r){return Pn(r.dataTransfer.items).filter(n=>n.kind==="string"&&n.type==="text/uri-list").length>0}o(TC,"canHandleRootDrop");function CC(r){if(!r)return!1;let n=r.match(/^([a-z0-9]+):\/\//)[1];return!(n!=="http"&&n!=="https")}o(CC,"checkIfCorrectURL");function EC(r){let{pathname:n}=new URL(r);return n.substring(n.lastIndexOf("/")+1)}o(EC,"getFileNameFromUrl");var gd=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"Url",this.title=this.opts.title||"Link",this.type="acquirer",this.icon=()=>v(kC,null),this.defaultLocale=q8;let c={};if(this.opts={...c,...n},this.i18nInit(),this.hostname=this.opts.companionUrl,!this.hostname)throw new Error("Companion hostname is required, please consult https://uppy.io/docs/companion");this.getMeta=this.getMeta.bind(this),this.addFile=this.addFile.bind(this),this.handleRootDrop=this.handleRootDrop.bind(this),this.handleRootPaste=this.handleRootPaste.bind(this),this.client=new za(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionCookiesRule:this.opts.companionCookiesRule})}getMeta(r){return this.client.post("url/meta",{url:r}).then(n=>{if(n.error)throw this.uppy.log("[URL] Error:"),this.uppy.log(n.error),new Error("Failed to fetch the file");return n})}async addFile(r,n){n===void 0&&(n=void 0);let c=SC(r);if(!CC(c)){this.uppy.log(`[URL] Incorrect URL entered: ${c}`),this.uppy.info(this.i18n("enterCorrectUrl"),"error",4e3);return}try{let p=await this.getMeta(c),_={meta:n,source:this.id,name:EC(c),type:p.type,data:{size:p.size},isRemote:!0,body:{url:c},remote:{companionUrl:this.opts.companionUrl,url:`${this.hostname}/url/get`,body:{fileId:c,url:c},providerOptions:this.client.opts}};this.uppy.log("[Url] Adding remote file");try{return this.uppy.addFile(_)}catch(O){return O.isRestriction||this.uppy.log(O),O}}catch(p){return this.uppy.log(p),this.uppy.info({message:this.i18n("failedToFetch"),details:p},"error",4e3),p}}handleRootDrop(r){v0(r.dataTransfer,"drop",n=>{this.uppy.log(`[URL] Adding file from dropped url: ${n}`),this.addFile(n)})}handleRootPaste(r){v0(r.clipboardData,"paste",n=>{this.uppy.log(`[URL] Adding file from pasted url: ${n}`),this.addFile(n)})}render(){return v(j8,{i18n:this.i18n,addFile:this.addFile})}install(){let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.unmount()}};o(gd,"Url"),gd.VERSION=$8.version,gd.prototype.canHandleRootDrop=TC;var V8={strings:{pluginNameZoom:"Zoom"}},Y8={version:"2.0.1"},Wm=class extends vt{constructor(r,n){super(r,n),this.id=this.opts.id||"Zoom",is.initPlugin(this,n),this.title=this.opts.title||"Zoom",this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("rect",{className:"uppy-ProviderIconBg",width:"32",height:"32",rx:"16",fill:"#0E71EB"}),v("g",{fill:"none",fillRule:"evenodd"},v("path",{fill:"#fff",d:"M29,31H14c-1.657,0-3-1.343-3-3V17h15c1.657,0,3,1.343,3,3V31z",style:{transform:"translate(-5px, -5px) scale(0.9)"}}),v("polygon",{fill:"#fff",points:"37,31 31,27 31,21 37,17",style:{transform:"translate(-5px, -5px) scale(0.9)"}}))),this.provider=new is(r,{companionUrl:this.opts.companionUrl,companionHeaders:this.opts.companionHeaders,companionKeysParams:this.opts.companionKeysParams,companionCookiesRule:this.opts.companionCookiesRule,provider:"zoom",pluginId:this.id}),this.defaultLocale=V8,this.i18nInit(),this.title=this.i18n("pluginNameZoom"),this.onFirstRender=this.onFirstRender.bind(this),this.render=this.render.bind(this)}install(){this.view=new Cn(this,{provider:this.provider});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.view.tearDown(),this.unmount()}onFirstRender(){return Promise.all([this.provider.fetchPreAuthToken(),this.view.getFolder()])}render(r){return this.view.render(r)}};o(Wm,"Zoom"),Wm.VERSION=Y8.version;function jm(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(jm,"_classPrivateFieldLooseBase");var G8=0;function OC(r){return"__private_"+G8+++"_"+r}o(OC,"_classPrivateFieldLooseKey");var X8={version:"1.0.2"},b0={__proto__:null,Box:Fm,Dropbox:Dm,Facebook:Im,GoogleDrive:Bm,Instagram:Nm,OneDrive:zm,Unsplash:Um,Url:gd,Zoom:Wm},oc=OC("installedPlugins"),w0=class extends $e{constructor(r,n){super(r,n),Object.defineProperty(this,oc,{writable:!0,value:new Set}),this.id=this.opts.id||"RemoteSources",this.type="acquirer";let c={sources:Object.keys(b0),target:Om};if(this.opts={...c,...n},this.opts.companionUrl==null)throw new Error("Please specify companionUrl for RemoteSources to work, see https://uppy.io/docs/remote-sources#companionUrl")}setOptions(r){this.uninstall(),super.setOptions(r),this.install()}install(){this.opts.sources.forEach(r=>{let n={...this.opts,sources:void 0},c=b0[r];if(c==null){let p=Object.keys(b0),_=new Intl.ListFormat("en",{style:"long",type:"disjunction"});throw new Error(`Invalid plugin: "${r}" is not one of: ${_.format(p)}.`)}this.uppy.use(c,n),jm(this,oc)[oc].add(this.uppy.getPlugin(r))})}uninstall(){for(let r of jm(this,oc)[oc])this.uppy.removePlugin(r);jm(this,oc)[oc].clear()}};o(w0,"RemoteSources"),w0.VERSION=X8.version;var K8=o(()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#2C3E50",width:"32",height:"32",rx:"16"}),v("path",{d:"M24.182 9H7.818C6.81 9 6 9.742 6 10.667v10c0 .916.81 1.666 1.818 1.666h4.546V24h7.272v-1.667h4.546c1 0 1.809-.75 1.809-1.666l.009-10C26 9.742 25.182 9 24.182 9zM24 21H8V11h16v10z",fill:"#FFF",fillRule:"nonzero"}),v("circle",{fill:"#FFF",cx:"16",cy:"16",r:"2"}))),"default");function AC(r){let{recording:n,onStartRecording:c,onStopRecording:p,i18n:_}=r;return n?v("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video uppy-ScreenCapture-button--stop-rec",type:"button",title:_("stopCapturing"),"aria-label":_("stopCapturing"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("rect",{x:"15",y:"15",width:"70",height:"70"}))):v("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--video",type:"button",title:_("startCapturing"),"aria-label":_("startCapturing"),onClick:c,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("circle",{cx:"50",cy:"50",r:"40"})))}o(AC,"RecordButton");function PC(r){let{recording:n,recordedVideo:c,onSubmit:p,i18n:_}=r;return c&&!n?v("button",{className:"uppy-u-reset uppy-c-btn uppy-ScreenCapture-button uppy-ScreenCapture-button--submit",type:"button",title:_("submitRecordedFile"),"aria-label":_("submitRecordedFile"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"}))):null}o(PC,"SubmitButton");var MC=class extends se{constructor(r){super(r),this.state={elapsedTime:0},this.wrapperStyle={width:"100%",height:"100%",display:"flex"},this.overlayStyle={position:"absolute",width:"100%",height:"100%",background:"black",opacity:.7},this.infoContainerStyle={marginLeft:"auto",marginRight:"auto",marginTop:"auto",marginBottom:"auto",zIndex:1,color:"white"},this.infotextStyle={marginLeft:"auto",marginRight:"auto",marginBottom:"1rem",fontSize:"1.5rem"},this.timeStyle={display:"block",fontWeight:"bold",marginLeft:"auto",marginRight:"auto",fontSize:"3rem",fontFamily:"Courier New"}}startTimer(){this.timerTick(),this.timerRunning=!0}resetTimer(){clearTimeout(this.timer),this.setState({elapsedTime:0}),this.timerRunning=!1}timerTick(){this.timer=setTimeout(()=>{this.setState(r=>({elapsedTime:r.elapsedTime+1})),this.timerTick()},1e3)}fmtMSS(r){return(r-(r%=60))/60+(r>9?":":":0")+r}render(){let{recording:r,i18n:n}={...this.props},{elapsedTime:c}=this.state,p=this.fmtMSS(c);return r&&!this.timerRunning&&this.startTimer(),!r&&this.timerRunning&&this.resetTimer(),r?v("div",{style:this.wrapperStyle},v("div",{style:this.overlayStyle}),v("div",{style:this.infoContainerStyle},v("div",{style:this.infotextStyle},n("recording")),v("div",{style:this.timeStyle},p))):null}};o(MC,"StopWatch");var Z8=MC,Q8=o(r=>{let{streamActive:n,i18n:c}=r;return n?v("div",{title:c("streamActive"),"aria-label":c("streamActive"),className:"uppy-ScreenCapture-icon--stream uppy-ScreenCapture-icon--streamActive"},v("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm18-7H5v1.63c3.96 1.28 7.09 4.41 8.37 8.37H19V7zM1 10v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11zm20-7H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}))):v("div",{title:c("streamPassive"),"aria-label":c("streamPassive"),className:"uppy-ScreenCapture-icon--stream"},v("svg",{"aria-hidden":"true",focusable:"false",width:"24",height:"24",viewBox:"0 0 24 24"},v("path",{d:"M0 0h24v24H0z",opacity:".1",fill:"none"}),v("path",{d:"M0 0h24v24H0z",fill:"none"}),v("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v3h2V5h18v14h-7v2h7c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM1 18v3h3c0-1.66-1.34-3-3-3zm0-4v2c2.76 0 5 2.24 5 5h2c0-3.87-3.13-7-7-7zm0-4v2c4.97 0 9 4.03 9 9h2c0-6.08-4.93-11-11-11z"})))},"default");function qm(){return qm=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},qm.apply(this,arguments)}o(qm,"_extends");var LC=class extends se{componentWillUnmount(){let{onStop:r}=this.props;r()}render(){let{recording:r,stream:n,recordedVideo:c}=this.props,p={playsinline:!0};return(r||!c&&!r)&&(p.muted=!0,p.autoplay=!0,p.srcObject=n),c&&!r&&(p.muted=!1,p.controls=!0,p.src=c,this.videoElement&&(this.videoElement.srcObject=void 0)),v("div",{className:"uppy uppy-ScreenCapture-container"},v("div",{className:"uppy-ScreenCapture-videoContainer"},v(Q8,this.props),v("video",qm({ref:_=>{this.videoElement=_},className:"uppy-ScreenCapture-video"},p)),v(Z8,this.props)),v("div",{className:"uppy-ScreenCapture-buttonContainer"},v(AC,this.props),v(PC,this.props)))}};o(LC,"RecorderScreen");var J8=LC,ez={strings:{startCapturing:"Begin screen capturing",stopCapturing:"Stop screen capturing",submitRecordedFile:"Submit recorded file",streamActive:"Stream active",streamPassive:"Stream passive",micDisabled:"Microphone access denied by user",recording:"Recording"}};function $m(){return $m=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},$m.apply(this,arguments)}o($m,"_extends");var tz={version:"3.0.1"};function RC(){var r;return window.MediaRecorder&&((r=navigator.mediaDevices)==null?void 0:r.getDisplayMedia)}o(RC,"isScreenRecordingSupported");function FC(){return window.MediaRecorder&&navigator.mediaDevices}o(FC,"getMediaDevices");var _0=class extends vt{constructor(r,n){super(r,n),this.mediaDevices=FC(),this.protocol=location.protocol==="https:"?"https":"http",this.id=this.opts.id||"ScreenCapture",this.title=this.opts.title||"Screencast",this.type="acquirer",this.icon=K8,this.defaultLocale=ez;let c={displayMediaConstraints:{video:{width:1280,height:720,frameRate:{ideal:3,max:5},cursor:"motion",displaySurface:"monitor"}},userMediaConstraints:{audio:!0},preferredVideoMimeType:"video/webm"};this.opts={...c,...n},this.i18nInit(),this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.submit=this.submit.bind(this),this.streamInterrupted=this.streamInactivated.bind(this),this.captureActive=!1,this.capturedMediaFile=null}install(){if(!RC())return this.uppy.log("Screen recorder access is not supported","error"),null;this.setPluginState({streamActive:!1,audioStreamActive:!1});let{target:r}=this.opts;r&&this.mount(r,this)}uninstall(){this.videoStream&&this.stop(),this.unmount()}start(){return this.mediaDevices?(this.captureActive=!0,this.selectAudioStreamSource(),this.selectVideoStreamSource().then(r=>{r===!1&&this.parent&&this.parent.hideAllPanels&&(this.parent.hideAllPanels(),this.captureActive=!1)})):Promise.reject(new Error("Screen recorder access not supported"))}selectVideoStreamSource(){return this.videoStream?new Promise(r=>r(this.videoStream)):this.mediaDevices.getDisplayMedia(this.opts.displayMediaConstraints).then(r=>(this.videoStream=r,this.videoStream.addEventListener("inactive",()=>{this.streamInactivated()}),this.setPluginState({streamActive:!0}),r)).catch(r=>(this.setPluginState({screenRecError:r}),this.userDenied=!0,setTimeout(()=>{this.userDenied=!1},1e3),!1))}selectAudioStreamSource(){return this.audioStream?new Promise(r=>r(this.audioStream)):this.mediaDevices.getUserMedia(this.opts.userMediaConstraints).then(r=>(this.audioStream=r,this.setPluginState({audioStreamActive:!0}),r)).catch(r=>(r.name==="NotAllowedError"&&this.uppy.info(this.i18n("micDisabled"),"error",5e3),!1))}startRecording(){let r={};this.capturedMediaFile=null,this.recordingChunks=[];let{preferredVideoMimeType:n}=this.opts;this.selectVideoStreamSource().then(c=>{n&&MediaRecorder.isTypeSupported(n)&&sc(n)&&(r.mimeType=n);let p=[c.getVideoTracks()[0]];this.audioStream&&p.push(this.audioStream.getAudioTracks()[0]),this.outputStream=new MediaStream(p),this.recorder=new MediaRecorder(this.outputStream,r),this.recorder.addEventListener("dataavailable",_=>{this.recordingChunks.push(_.data)}),this.recorder.start(),this.setPluginState({recording:!0})}).catch(c=>{this.uppy.log(c,"error")})}streamInactivated(){let{recordedVideo:r,recording:n}={...this.getPluginState()};!r&&!n?this.parent&&this.parent.hideAllPanels&&this.parent.hideAllPanels():n&&(this.uppy.log("Capture stream inactive  stop recording"),this.stopRecording()),this.videoStream=null,this.audioStream=null,this.setPluginState({streamActive:!1,audioStreamActive:!1})}stopRecording(){return new Promise(r=>{this.recorder.addEventListener("stop",()=>{r()}),this.recorder.stop()}).then(()=>(this.setPluginState({recording:!1}),this.getVideo())).then(r=>{this.capturedMediaFile=r,this.setPluginState({recordedVideo:URL.createObjectURL(r.data)})}).then(()=>{this.recordingChunks=null,this.recorder=null},r=>{throw this.recordingChunks=null,this.recorder=null,r})}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(r){r.isRestriction||this.uppy.log(r,"error")}}stop(){this.videoStream&&(this.videoStream.getVideoTracks().forEach(r=>{r.stop()}),this.videoStream.getAudioTracks().forEach(r=>{r.stop()}),this.videoStream=null),this.audioStream&&(this.audioStream.getAudioTracks().forEach(r=>{r.stop()}),this.audioStream.getVideoTracks().forEach(r=>{r.stop()}),this.audioStream=null),this.outputStream&&(this.outputStream.getAudioTracks().forEach(r=>{r.stop()}),this.outputStream.getVideoTracks().forEach(r=>{r.stop()}),this.outputStream=null),this.setPluginState({recordedVideo:null}),this.captureActive=!1}getVideo(){let r=this.recordingChunks[0].type,n=sc(r);if(!n)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`screencap-${Date.now()}.${n}`,p=new Blob(this.recordingChunks,{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}render(){let r=this.getPluginState();return!r.streamActive&&!this.captureActive&&!this.userDenied&&this.start(),v(J8,$m({},r,{onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onStop:this.stop,onSubmit:this.submit,i18n:this.i18n,stream:this.videoStream}))}};o(_0,"ScreenCapture"),_0.VERSION=tz.version;var iz=f(S(),1);function DC(r,n,c){return new Promise(p=>{r.toBlob(p,n,c)})}o(DC,"canvasToBlob");function IC(){return typeof MediaRecorder=="function"&&!!MediaRecorder.prototype&&typeof MediaRecorder.prototype.start=="function"}o(IC,"supportsMediaRecorder");var BC=o(()=>v("svg",{"aria-hidden":"true",focusable:"false",fill:"#0097DC",width:"66",height:"55",viewBox:"0 0 66 55"},v("path",{d:"M57.3 8.433c4.59 0 8.1 3.51 8.1 8.1v29.7c0 4.59-3.51 8.1-8.1 8.1H8.7c-4.59 0-8.1-3.51-8.1-8.1v-29.7c0-4.59 3.51-8.1 8.1-8.1h9.45l4.59-7.02c.54-.54 1.35-1.08 2.16-1.08h16.2c.81 0 1.62.54 2.16 1.08l4.59 7.02h9.45zM33 14.64c-8.62 0-15.393 6.773-15.393 15.393 0 8.62 6.773 15.393 15.393 15.393 8.62 0 15.393-6.773 15.393-15.393 0-8.62-6.773-15.393-15.393-15.393zM33 40c-5.648 0-9.966-4.319-9.966-9.967 0-5.647 4.318-9.966 9.966-9.966s9.966 4.319 9.966 9.966C42.966 35.681 38.648 40 33 40z",fillRule:"evenodd"})),"default"),rz=o(r=>{let{onSnapshot:n,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--picture",type:"button",title:c("takePicture"),"aria-label":c("takePicture"),onClick:n,"data-uppy-super-focusable":!0},BC())},"default");function NC(r){let{recording:n,onStartRecording:c,onStopRecording:p,i18n:_}=r;return n?v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:_("stopRecording"),"aria-label":_("stopRecording"),onClick:p,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("rect",{x:"15",y:"15",width:"70",height:"70"}))):v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button",type:"button",title:_("startRecording"),"aria-label":_("startRecording"),onClick:c,"data-uppy-super-focusable":!0},v("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"100",height:"100",viewBox:"0 0 100 100"},v("circle",{cx:"50",cy:"50",r:"40"})))}o(NC,"RecordButton");function zC(r){return`${Math.floor(r/60)}:${String(r%60).padStart(2,0)}`}o(zC,"formatSeconds");function UC(r){let{recordingLengthSeconds:n,i18n:c}=r,p=zC(n);return v("span",{"aria-label":c("recordingLength",{recording_length:p})},p)}o(UC,"RecordingLength");var sz=o(r=>{let{currentDeviceId:n,videoSources:c,onChangeVideoSource:p}=r;return v("div",{className:"uppy-Webcam-videoSource"},v("select",{className:"uppy-u-reset uppy-Webcam-videoSource-select",onChange:_=>{p(_.target.value)}},c.map(_=>v("option",{key:_.deviceId,value:_.deviceId,selected:_.deviceId===n},_.label))))},"default");function HC(r){let{onSubmit:n,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--submit",type:"button",title:c("submitRecordedFile"),"aria-label":c("submitRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},v("svg",{width:"12",height:"9",viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("path",{fill:"#fff",fillRule:"nonzero",d:"M10.66 0L12 1.31 4.136 9 0 4.956l1.34-1.31L4.136 6.38z"})))}o(HC,"SubmitButton");var az=HC;function WC(r){let{onDiscard:n,i18n:c}=r;return v("button",{className:"uppy-u-reset uppy-c-btn uppy-Webcam-button uppy-Webcam-button--discard",type:"button",title:c("discardRecordedFile"),"aria-label":c("discardRecordedFile"),onClick:n,"data-uppy-super-focusable":!0},v("svg",{width:"13",height:"13",viewBox:"0 0 13 13",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",className:"uppy-c-icon"},v("g",{fill:"#FFF",fillRule:"evenodd"},v("path",{d:"M.496 11.367L11.103.76l1.414 1.414L1.911 12.781z"}),v("path",{d:"M11.104 12.782L.497 2.175 1.911.76l10.607 10.606z"}))))}o(WC,"DiscardButton");var nz=WC;function Vm(){return Vm=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Vm.apply(this,arguments)}o(Vm,"_extends");function yd(r,n){return r.includes(n)}o(yd,"isModeAvailable");var jC=class extends se{componentDidMount(){let{onFocus:r}=this.props;r()}componentWillUnmount(){let{onStop:r}=this.props;r()}render(){let{src:r,recordedVideo:n,recording:c,modes:p,supportsRecording:_,videoSources:O,showVideoSourceDropdown:D,showRecordingLength:N,onSubmit:Y,i18n:ie,mirror:X,onSnapshot:ae,onStartRecording:ue,onStopRecording:xe,onDiscardRecordedVideo:We,recordingLengthSeconds:Mt}=this.props,wt=!!n,Ht=!wt&&_&&(yd(p,"video-only")||yd(p,"audio-only")||yd(p,"video-audio")),xi=!wt&&yd(p,"picture"),Zt=_&&N&&!wt,ht=D&&O&&O.length>1,pt={playsinline:!0};return n?(pt.muted=!1,pt.controls=!0,pt.src=n,this.videoElement&&(this.videoElement.srcObject=void 0)):(pt.muted=!0,pt.autoplay=!0,pt.srcObject=r),v("div",{className:"uppy uppy-Webcam-container"},v("div",{className:"uppy-Webcam-videoContainer"},v("video",Vm({ref:dt=>this.videoElement=dt,className:`uppy-Webcam-video  ${X?"uppy-Webcam-video--mirrored":""}`},pt))),v("div",{className:"uppy-Webcam-footer"},v("div",{className:"uppy-Webcam-videoSourceContainer"},ht?sz(this.props):null),v("div",{className:"uppy-Webcam-buttonContainer"},xi&&v(rz,{onSnapshot:ae,i18n:ie}),Ht&&v(NC,{recording:c,onStartRecording:ue,onStopRecording:xe,i18n:ie}),wt&&v(az,{onSubmit:Y,i18n:ie}),wt&&v(nz,{onDiscard:We,i18n:ie})),v("div",{className:"uppy-Webcam-recordingLength"},Zt&&v(UC,{recordingLengthSeconds:Mt,i18n:ie}))))}};o(jC,"CameraScreen");var oz=jC,lz=o(r=>{let{icon:n,i18n:c,hasCamera:p}=r;return v("div",{className:"uppy-Webcam-permissons"},v("div",{className:"uppy-Webcam-permissonsIcon"},n()),v("h1",{className:"uppy-Webcam-title"},c(p?"allowAccessTitle":"noCameraTitle")),v("p",null,c(p?"allowAccessDescription":"noCameraDescription")))},"default"),cz={strings:{pluginNameCamera:"Camera",noCameraTitle:"Camera Not Available",noCameraDescription:"In order to take pictures or record video, please connect a camera device",recordingStoppedMaxSize:"Recording stopped because the file size is about to exceed the limit",submitRecordedFile:"Submit recorded file",discardRecordedFile:"Discard recorded file",smile:"Smile!",takePicture:"Take a picture",startRecording:"Begin video recording",stopRecording:"Stop video recording",recordingLength:"Recording length %{recording_length}",allowAccessTitle:"Please allow access to your camera",allowAccessDescription:"In order to take pictures or record video with your camera, please allow camera access for this site."}};function Ym(){return Ym=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},Ym.apply(this,arguments)}o(Ym,"_extends");function Nh(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Nh,"_classPrivateFieldLooseBase");var hz=0;function qC(r){return"__private_"+hz+++"_"+r}o(qC,"_classPrivateFieldLooseKey");var uz={version:"3.2.1"};function x0(r){return r[0]==="."?yi[r.slice(1)]:r}o(x0,"toMimeType");function $C(r){return/^video\/[^*]+$/.test(r)}o($C,"isVideoMimeType");function VC(r){return/^image\/[^*]+$/.test(r)}o(VC,"isImageMimeType");function YC(){return navigator.mediaDevices}o(YC,"getMediaDevices");function Gm(r,n){return r.includes(n)}o(Gm,"isModeAvailable");var Mn=qC("enableMirror"),k0=class extends vt{constructor(r,n){super(r,n),Object.defineProperty(this,Mn,{writable:!0,value:void 0}),this.mediaDevices=YC(),this.supportsUserMedia=!!this.mediaDevices,this.protocol=location.protocol.match(/https/i)?"https":"http",this.id=this.opts.id||"Webcam",this.type="acquirer",this.capturedMediaFile=null,this.icon=()=>v("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32"},v("g",{fill:"none",fillRule:"evenodd"},v("rect",{className:"uppy-ProviderIconBg",fill:"#03BFEF",width:"32",height:"32",rx:"16"}),v("path",{d:"M22 11c1.133 0 2 .867 2 2v7.333c0 1.134-.867 2-2 2H10c-1.133 0-2-.866-2-2V13c0-1.133.867-2 2-2h2.333l1.134-1.733C13.6 9.133 13.8 9 14 9h4c.2 0 .4.133.533.267L19.667 11H22zm-6 1.533a3.764 3.764 0 0 0-3.8 3.8c0 2.129 1.672 3.801 3.8 3.801s3.8-1.672 3.8-3.8c0-2.13-1.672-3.801-3.8-3.801zm0 6.261c-1.395 0-2.46-1.066-2.46-2.46 0-1.395 1.065-2.461 2.46-2.461s2.46 1.066 2.46 2.46c0 1.395-1.065 2.461-2.46 2.461z",fill:"#FFF",fillRule:"nonzero"}))),this.defaultLocale=cz;let c={onBeforeSnapshot:()=>Promise.resolve(),countdown:!1,modes:["video-audio","video-only","audio-only","picture"],mirror:!0,showVideoSourceDropdown:!1,facingMode:"user",videoConstraints:void 0,preferredImageMimeType:null,preferredVideoMimeType:null,showRecordingLength:!1,mobileNativeCamera:(0,iz.default)({tablet:!0})};this.opts={...c,...n},this.i18nInit(),this.title=this.i18n("pluginNameCamera"),Nh(this,Mn)[Mn]=this.opts.mirror,this.install=this.install.bind(this),this.setPluginState=this.setPluginState.bind(this),this.render=this.render.bind(this),this.start=this.start.bind(this),this.stop=this.stop.bind(this),this.takeSnapshot=this.takeSnapshot.bind(this),this.startRecording=this.startRecording.bind(this),this.stopRecording=this.stopRecording.bind(this),this.discardRecordedVideo=this.discardRecordedVideo.bind(this),this.submit=this.submit.bind(this),this.oneTwoThreeSmile=this.oneTwoThreeSmile.bind(this),this.focus=this.focus.bind(this),this.changeVideoSource=this.changeVideoSource.bind(this),this.webcamActive=!1,this.opts.countdown&&(this.opts.onBeforeSnapshot=this.oneTwoThreeSmile),this.setPluginState({hasCamera:!1,cameraReady:!1,cameraError:null,recordingLengthSeconds:0,videoSources:[],currentDeviceId:null})}setOptions(r){super.setOptions({...r,videoConstraints:{...this.opts.videoConstraints,...r==null?void 0:r.videoConstraints}})}hasCameraCheck(){return this.mediaDevices?this.mediaDevices.enumerateDevices().then(r=>r.some(n=>n.kind==="videoinput")):Promise.resolve(!1)}isAudioOnly(){return this.opts.modes.length===1&&this.opts.modes[0]==="audio-only"}getConstraints(r){r===void 0&&(r=null);let n=this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("audio-only")!==-1,c=!this.isAudioOnly()&&(this.opts.modes.indexOf("video-audio")!==-1||this.opts.modes.indexOf("video-only")!==-1||this.opts.modes.indexOf("picture")!==-1),p={...this.opts.videoConstraints||{facingMode:this.opts.facingMode},...r?{deviceId:r,facingMode:null}:{}};return{audio:n,video:c?p:!1}}start(r){if(r===void 0&&(r=null),!this.supportsUserMedia)return Promise.reject(new Error("Webcam access not supported"));this.webcamActive=!0,this.opts.mirror&&(Nh(this,Mn)[Mn]=!0);let n=this.getConstraints(r&&r.deviceId?r.deviceId:null);this.hasCameraCheck().then(c=>(this.setPluginState({hasCamera:c}),this.mediaDevices.getUserMedia(n).then(p=>{this.stream=p;let _=null,O=this.isAudioOnly()?p.getAudioTracks():p.getVideoTracks();!r||!r.deviceId?_=O[0].getSettings().deviceId:O.forEach(D=>{D.getSettings().deviceId===r.deviceId&&(_=D.getSettings().deviceId)}),this.updateVideoSources(),this.setPluginState({currentDeviceId:_,cameraReady:!0})}).catch(p=>{this.setPluginState({cameraReady:!1,cameraError:p}),this.uppy.info(p.message,"error")})))}getMediaRecorderOptions(){let r={};if(MediaRecorder.isTypeSupported){let{restrictions:n}=this.uppy.opts,c=[];this.opts.preferredVideoMimeType?c=[this.opts.preferredVideoMimeType]:n.allowedFileTypes&&(c=n.allowedFileTypes.map(x0).filter($C));let p=o(O=>MediaRecorder.isTypeSupported(O)&&sc(O),"filterSupportedTypes"),_=c.filter(p);_.length>0&&(r.mimeType=_[0])}return r}startRecording(){this.recorder=new MediaRecorder(this.stream,this.getMediaRecorderOptions()),this.recordingChunks=[];let r=!1;this.recorder.addEventListener("dataavailable",n=>{this.recordingChunks.push(n.data);let{restrictions:c}=this.uppy.opts;if(this.recordingChunks.length>1&&c.maxFileSize!=null&&!r){let p=this.recordingChunks.reduce((D,N)=>D+N.size,0),_=(p-this.recordingChunks[0].size)/(this.recordingChunks.length-1)*3,O=Math.max(0,c.maxFileSize-_);p>O&&(r=!0,this.uppy.info(this.i18n("recordingStoppedMaxSize"),"warning",4e3),this.stopRecording())}}),this.recorder.start(500),this.opts.showRecordingLength&&(this.recordingLengthTimer=setInterval(()=>{let n=this.getPluginState().recordingLengthSeconds;this.setPluginState({recordingLengthSeconds:n+1})},1e3)),this.setPluginState({isRecording:!0})}stopRecording(){return new Promise(r=>{this.recorder.addEventListener("stop",()=>{r()}),this.recorder.stop(),this.opts.showRecordingLength&&(clearInterval(this.recordingLengthTimer),this.setPluginState({recordingLengthSeconds:0}))}).then(()=>(this.setPluginState({isRecording:!1}),this.getVideo())).then(r=>{try{this.capturedMediaFile=r,this.setPluginState({recordedVideo:URL.createObjectURL(r.data)}),Nh(this,Mn)[Mn]=!1}catch(n){n.isRestriction||this.uppy.log(n)}}).then(()=>{this.recordingChunks=null,this.recorder=null},r=>{throw this.recordingChunks=null,this.recorder=null,r})}discardRecordedVideo(){this.setPluginState({recordedVideo:null}),this.opts.mirror&&(Nh(this,Mn)[Mn]=!0),this.capturedMediaFile=null}submit(){try{this.capturedMediaFile&&this.uppy.addFile(this.capturedMediaFile)}catch(r){r.isRestriction||this.uppy.log(r,"error")}}async stop(){if(this.stream){let r=this.stream.getAudioTracks(),n=this.stream.getVideoTracks();r.concat(n).forEach(c=>c.stop())}this.recorder&&await new Promise(r=>{this.recorder.addEventListener("stop",r,{once:!0}),this.recorder.stop(),this.opts.showRecordingLength&&clearInterval(this.recordingLengthTimer)}),this.recordingChunks=null,this.recorder=null,this.webcamActive=!1,this.stream=null,this.setPluginState({recordedVideo:null,isRecording:!1,recordingLengthSeconds:0})}getVideoElement(){return this.el.querySelector(".uppy-Webcam-video")}oneTwoThreeSmile(){return new Promise((r,n)=>{let c=this.opts.countdown,p=setInterval(()=>{if(!this.webcamActive)return clearInterval(p),this.captureInProgress=!1,n(new Error("Webcam is not active"));c>0?(this.uppy.info(`${c}...`,"warning",800),c--):(clearInterval(p),this.uppy.info(this.i18n("smile"),"success",1500),setTimeout(()=>r(),1500))},1e3)})}takeSnapshot(){this.captureInProgress||(this.captureInProgress=!0,this.opts.onBeforeSnapshot().catch(r=>{let n=typeof r=="object"?r.message:r;return this.uppy.info(n,"error",5e3),Promise.reject(new Error(`onBeforeSnapshot: ${n}`))}).then(()=>this.getImage()).then(r=>{this.captureInProgress=!1;try{this.uppy.addFile(r)}catch(n){n.isRestriction||this.uppy.log(n)}},r=>{throw this.captureInProgress=!1,r}))}getImage(){let r=this.getVideoElement();if(!r)return Promise.reject(new Error("No video element found, likely due to the Webcam tab being closed."));let n=r.videoWidth,c=r.videoHeight,p=document.createElement("canvas");p.width=n,p.height=c,p.getContext("2d").drawImage(r,0,0);let{restrictions:_}=this.uppy.opts,O=[];this.opts.preferredImageMimeType?O=[this.opts.preferredImageMimeType]:_.allowedFileTypes&&(O=_.allowedFileTypes.map(x0).filter(VC));let D=O[0]||"image/jpeg",N=sc(D)||"jpg",Y=`cam-${Date.now()}.${N}`;return DC(p,D).then(ie=>({source:this.id,name:Y,data:new Blob([ie],{type:D}),type:D}))}getVideo(){let r=this.recordingChunks.find(O=>{var D;return((D=O.type)==null?void 0:D.length)>0}).type,n=sc(r);if(!n)return Promise.reject(new Error(`Could not retrieve recording: Unsupported media type "${r}"`));let c=`webcam-${Date.now()}.${n}`,p=new Blob(this.recordingChunks,{type:r}),_={source:this.id,name:c,data:new Blob([p],{type:r}),type:r};return Promise.resolve(_)}focus(){!this.opts.countdown||setTimeout(()=>{this.uppy.info(this.i18n("smile"),"success",1500)},1e3)}changeVideoSource(r){this.stop(),this.start({deviceId:r})}updateVideoSources(){this.mediaDevices.enumerateDevices().then(r=>{this.setPluginState({videoSources:r.filter(n=>n.kind==="videoinput")})})}render(){this.webcamActive||this.start();let r=this.getPluginState();return!r.cameraReady||!r.hasCamera?v(lz,{icon:BC,i18n:this.i18n,hasCamera:r.hasCamera}):v(oz,Ym({},r,{onChangeVideoSource:this.changeVideoSource,onSnapshot:this.takeSnapshot,onStartRecording:this.startRecording,onStopRecording:this.stopRecording,onDiscardRecordedVideo:this.discardRecordedVideo,onSubmit:this.submit,onFocus:this.focus,onStop:this.stop,i18n:this.i18n,modes:this.opts.modes,showRecordingLength:this.opts.showRecordingLength,showVideoSourceDropdown:this.opts.showVideoSourceDropdown,supportsRecording:IC(),recording:r.isRecording,mirror:Nh(this,Mn)[Mn],src:this.stream}))}install(){let{mobileNativeCamera:r,modes:n,facingMode:c,videoConstraints:p}=this.opts,{target:_}=this.opts;if(r&&_){var O;(O=this.getTargetPlugin(_))==null||O.setOptions({showNativeVideoCameraButton:Gm(n,"video-only")||Gm(n,"video-audio"),showNativePhotoCameraButton:Gm(n,"picture"),nativeCameraFacingMode:(p==null?void 0:p.facingMode)||c});return}this.setPluginState({cameraReady:!1,recordingLengthSeconds:0}),_&&this.mount(_,this),this.mediaDevices&&(this.updateVideoSources(),this.mediaDevices.ondevicechange=()=>{if(this.updateVideoSources(),this.stream){let D=!0,{videoSources:N,currentDeviceId:Y}=this.getPluginState();N.forEach(ie=>{Y===ie.deviceId&&(D=!1)}),D&&(this.stop(),this.start())}})}uninstall(){this.stop(),this.unmount()}onUnmount(){this.stop()}};o(k0,"Webcam"),k0.VERSION=uz.version;function Si(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Si,"_classPrivateFieldLooseBase");var dz=0;function ca(r){return"__private_"+dz+++"_"+r}o(ca,"_classPrivateFieldLooseKey");function GC(r){return new Error("Cancelled",{cause:r})}o(GC,"createCancelError");function XC(r){if(r!=null){let n=o(()=>this.abort(r.reason),"abortPromise");r.addEventListener("abort",n,{once:!0});let c=o(()=>{r.removeEventListener("abort",n)},"removeAbortListener");this.then(c,c)}return this}o(XC,"abortOn");var Ua=ca("activeRequests"),ha=ca("queuedHandlers"),Ha=ca("paused"),lc=ca("pauseTimer"),ua=ca("downLimit"),cc=ca("upperLimit"),Fo=ca("rateLimitingTimer"),vd=ca("call"),Do=ca("queueNext"),S0=ca("next"),T0=ca("queue"),C0=ca("dequeue"),E0=ca("resume"),hc=ca("increaseLimit"),uc=class{constructor(r){Object.defineProperty(this,C0,{value:eE}),Object.defineProperty(this,T0,{value:JC}),Object.defineProperty(this,S0,{value:QC}),Object.defineProperty(this,Do,{value:ZC}),Object.defineProperty(this,vd,{value:KC}),Object.defineProperty(this,Ua,{writable:!0,value:0}),Object.defineProperty(this,ha,{writable:!0,value:[]}),Object.defineProperty(this,Ha,{writable:!0,value:!1}),Object.defineProperty(this,lc,{writable:!0,value:void 0}),Object.defineProperty(this,ua,{writable:!0,value:1}),Object.defineProperty(this,cc,{writable:!0,value:void 0}),Object.defineProperty(this,Fo,{writable:!0,value:void 0}),Object.defineProperty(this,E0,{writable:!0,value:()=>this.resume()}),Object.defineProperty(this,hc,{writable:!0,value:()=>{if(Si(this,Ha)[Ha]){Si(this,Fo)[Fo]=setTimeout(Si(this,hc)[hc],0);return}Si(this,ua)[ua]=this.limit,this.limit=Math.ceil((Si(this,cc)[cc]+Si(this,ua)[ua])/2);for(let n=Si(this,ua)[ua];n<=this.limit;n++)Si(this,Do)[Do]();Si(this,cc)[cc]-Si(this,ua)[ua]>3?Si(this,Fo)[Fo]=setTimeout(Si(this,hc)[hc],2e3):Si(this,ua)[ua]=Math.floor(Si(this,ua)[ua]/2)}}),typeof r!="number"||r===0?this.limit=1/0:this.limit=r}run(r,n){return!Si(this,Ha)[Ha]&&Si(this,Ua)[Ua]<this.limit?Si(this,vd)[vd](r):Si(this,T0)[T0](r,n)}wrapPromiseFunction(r,n){var c=this;return function(){for(var p=arguments.length,_=new Array(p),O=0;O<p;O++)_[O]=arguments[O];let D,N=new Promise((Y,ie)=>{D=c.run(()=>{let X,ae;try{ae=Promise.resolve(r(..._))}catch(ue){ae=Promise.reject(ue)}return ae.then(ue=>{X?ie(X):(D.done(),Y(ue))},ue=>{X?ie(X):(D.done(),ie(ue))}),ue=>{X=GC(ue)}},n)});return N.abort=Y=>{D.abort(Y)},N.abortOn=XC,N}}resume(){Si(this,Ha)[Ha]=!1,clearTimeout(Si(this,lc)[lc]);for(let r=0;r<this.limit;r++)Si(this,Do)[Do]()}pause(r){r===void 0&&(r=null),Si(this,Ha)[Ha]=!0,clearTimeout(Si(this,lc)[lc]),r!=null&&(Si(this,lc)[lc]=setTimeout(Si(this,E0)[E0],r))}rateLimit(r){clearTimeout(Si(this,Fo)[Fo]),this.pause(r),this.limit>1&&Number.isFinite(this.limit)&&(Si(this,cc)[cc]=this.limit-1,this.limit=Si(this,ua)[ua],Si(this,Fo)[Fo]=setTimeout(Si(this,hc)[hc],r))}get isPaused(){return Si(this,Ha)[Ha]}};o(uc,"RateLimitedQueue");function KC(r){Si(this,Ua)[Ua]+=1;let n=!1,c;try{c=r()}catch(p){throw Si(this,Ua)[Ua]-=1,p}return{abort:p=>{n||(n=!0,Si(this,Ua)[Ua]-=1,c(p),Si(this,Do)[Do]())},done:()=>{n||(n=!0,Si(this,Ua)[Ua]-=1,Si(this,Do)[Do]())}}}o(KC,"_call2");function ZC(){queueMicrotask(()=>Si(this,S0)[S0]())}o(ZC,"_queueNext2");function QC(){if(Si(this,Ha)[Ha]||Si(this,Ua)[Ua]>=this.limit||Si(this,ha)[ha].length===0)return;let r=Si(this,ha)[ha].shift(),n=Si(this,vd)[vd](r.fn);r.abort=n.abort,r.done=n.done}o(QC,"_next2");function JC(r,n){n===void 0&&(n={});let c={fn:r,priority:n.priority||0,abort:()=>{Si(this,C0)[C0](c)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},p=Si(this,ha)[ha].findIndex(_=>c.priority>_.priority);return p===-1?Si(this,ha)[ha].push(c):Si(this,ha)[ha].splice(p,0,c),c}o(JC,"_queue2");function eE(r){let n=Si(this,ha)[ha].indexOf(r);n!==-1&&Si(this,ha)[ha].splice(n,1)}o(eE,"_dequeue2");var bd=Symbol("__queue"),fz=f(k(),1);function tE(r,n,c){let{progress:p,bytesUploaded:_,bytesTotal:O}=n;p&&(r.uppy.log(`Upload progress: ${p}`),r.uppy.emit("upload-progress",c,{uploader:r,bytesUploaded:_,bytesTotal:O}))}o(tE,"emitSocketProgress");var Xm=(0,fz.default)(tE,300,{leading:!0,trailing:!0});function wd(r){let n=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?(?:www\.)?([^\n]+)/i.exec(r)[1];return`${/^http:\/\//i.test(r)?"ws":"wss"}://${n}`}o(wd,"getSocketHost");function zh(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(zh,"_classPrivateFieldLooseBase");var pz=0;function O0(r){return"__private_"+pz+++"_"+r}o(O0,"_classPrivateFieldLooseKey");var dc=O0("emitter"),_d=O0("events"),Io=class{constructor(r){Object.defineProperty(this,dc,{writable:!0,value:void 0}),Object.defineProperty(this,_d,{writable:!0,value:[]}),zh(this,dc)[dc]=r}on(r,n){return zh(this,_d)[_d].push([r,n]),zh(this,dc)[dc].on(r,n)}remove(){for(let[r,n]of zh(this,_d)[_d].splice(0))zh(this,dc)[dc].off(r,n)}};o(Io,"EventTracker");function Wa(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Wa,"_classPrivateFieldLooseBase");var mz=0;function xd(r){return"__private_"+mz+++"_"+r}o(xd,"_classPrivateFieldLooseKey");var Bo=xd("aliveTimer"),fc=xd("isDone"),kd=xd("onTimedOut"),pc=xd("timeout"),iE=class{constructor(r,n){Object.defineProperty(this,Bo,{writable:!0,value:void 0}),Object.defineProperty(this,fc,{writable:!0,value:!1}),Object.defineProperty(this,kd,{writable:!0,value:void 0}),Object.defineProperty(this,pc,{writable:!0,value:void 0}),Wa(this,pc)[pc]=r,Wa(this,kd)[kd]=n}progress(){Wa(this,fc)[fc]||Wa(this,pc)[pc]>0&&(clearTimeout(Wa(this,Bo)[Bo]),Wa(this,Bo)[Bo]=setTimeout(Wa(this,kd)[kd],Wa(this,pc)[pc]))}done(){Wa(this,fc)[fc]||(clearTimeout(Wa(this,Bo)[Bo]),Wa(this,Bo)[Bo]=null,Wa(this,fc)[fc]=!0)}};o(iE,"ProgressTimeout");var A0=iE;function rE(r){return r?r.readyState!==0&&r.readyState!==4||r.status===0:!1}o(rE,"isNetworkError");var Km=rE;function da(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(da,"_classPrivateFieldLooseBase");var gz=0;function kl(r){return"__private_"+gz+++"_"+r}o(kl,"_classPrivateFieldLooseKey");function P0(r,n){if(Km(r))return new ii(n,r);let c=new Sa("Upload error",{cause:n});return c.request=r,c}o(P0,"buildResponseError");function sE(r){return r.data.slice(0,r.data.size,r.meta.type)}o(sE,"setTypeInBlob");function aE(r,n,c){(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(n)).forEach(p=>{r.append(p,n[p])})}o(aE,"addMetadata");function nE(r,n){let c=new FormData;aE(c,r.meta,n);let p=sE(r);return r.name?c.append(n.fieldName,p,r.meta.name):c.append(n.fieldName,p),c}o(nE,"createFormDataUpload");var yz=o(r=>r.data,"createBareUpload"),Sd=kl("queueRequestSocketToken"),mc=kl("getOptions"),gc=kl("addEventHandlerForFile"),yc=kl("addEventHandlerIfFileStillExists"),M0=kl("uploadLocalFile"),L0=kl("requestSocketToken"),R0=kl("uploadRemoteFile"),oE=class{constructor(r,n){Object.defineProperty(this,R0,{value:dE}),Object.defineProperty(this,M0,{value:uE}),Object.defineProperty(this,yc,{value:hE}),Object.defineProperty(this,gc,{value:cE}),Object.defineProperty(this,mc,{value:lE}),Object.defineProperty(this,Sd,{writable:!0,value:void 0}),Object.defineProperty(this,L0,{writable:!0,value:async c=>{let p=da(this,mc)[mc](c),_=c.remote.providerOptions.provider?is:za,O=new _(this.uppy,c.remote.providerOptions),D=Array.isArray(p.allowedMetaFields)?p.allowedMetaFields:Object.keys(c.meta);return c.tus&&Object.assign(p,c.tus),(await O.post(c.remote.url,{...c.remote.body,protocol:"multipart",endpoint:p.endpoint,size:c.data.size,fieldname:p.fieldName,metadata:Object.fromEntries(D.map(N=>[N,c.meta[N]])),httpMethod:p.method,useFormData:p.formData,headers:p.headers})).token}}),this.uppy=r,this.opts={validateStatus(c){return c>=200&&c<300},...n},this.requests=n[bd],this.uploaderEvents=Object.create(null),this.i18n=n.i18n,da(this,Sd)[Sd]=this.requests.wrapPromiseFunction(da(this,L0)[L0],{priority:-1})}uploadFile(r,n,c){let p=this.uppy.getFile(r);if(p.error)throw new Error(p.error);return p.isRemote?da(this,R0)[R0](p,n,c):da(this,M0)[M0](p,n,c)}connectToServerSocket(r){return new Promise((n,c)=>{let p=da(this,mc)[mc](r),_=r.serverToken,O=wd(r.remote.companionUrl),D,N=o(()=>{D==null&&(D=new Lh({target:`${O}/api/${_}`}),D.on("progress",X=>Xm(this,X,r)),D.on("success",X=>{let ae=p.getResponseData(X.response.responseText,X.response),ue=ae[p.responseUrlFieldName],xe={status:X.response.status,body:ae,uploadURL:ue,bytesUploaded:X.bytesUploaded};return this.uppy.emit("upload-success",r,xe),Y.done(),D.close(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),n()}),D.on("error",X=>{let ae=X.response,ue=ae?p.getResponseError(ae.responseText,ae):new Sa(X.error.message,{cause:X.error});this.uppy.emit("upload-error",r,ue),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),c(ue)}))},"createSocket");this.uploaderEvents[r.id]=new Io(this.uppy);let Y=this.requests.run(()=>{if(r.isPaused){var X;(X=D)==null||X.send("pause",{})}else N();return()=>D.close()});da(this,gc)[gc]("file-removed",r.id,()=>{var X;(X=D)==null||X.send("cancel",{}),Y.abort(),n(`upload ${r.id} was removed`)}),da(this,yc)[yc]("cancel-all",r.id,function(X){let{reason:ae}=X===void 0?{}:X;if(ae==="user"){var ue;(ue=D)==null||ue.send("cancel",{}),Y.abort()}n(`upload ${r.id} was canceled`)});let ie=o(()=>{D==null?Y.abort():(D.send("pause",{}),Y.done()),Y=this.requests.run(()=>(r.isPaused||(D==null?N():D.send("resume",{})),()=>D.close()))},"onRetryRequest");da(this,gc)[gc]("upload-retry",r.id,ie),da(this,yc)[yc]("retry-all",r.id,ie)}).catch(n=>(this.uppy.emit("upload-error",r,n),Promise.reject(n)))}};o(oE,"MiniXHRUpload");function lE(r){var n;let{uppy:c}=this,p=c.getState().xhrUpload;return{...this.opts,...p||{},...r.xhrUpload||{},headers:{...this.opts.headers,...p==null?void 0:p.headers,...(n=r.xhrUpload)==null?void 0:n.headers}}}o(lE,"_getOptions2");function cE(r,n,c){this.uploaderEvents[n].on(r,p=>{var _;let O=(_=p==null?void 0:p.id)!=null?_:p;n===O&&c()})}o(cE,"_addEventHandlerForFile2");function hE(r,n,c){var p=this;this.uploaderEvents[n].on(r,function(){p.uppy.getFile(n)&&c(...arguments)})}o(hE,"_addEventHandlerIfFileStillExists2");function uE(r,n,c){let p=da(this,mc)[mc](r);return this.uppy.log(`uploading ${n} of ${c}`),new Promise((_,O)=>{let D=p.formData?nE(r,p):yz(r,p),N=new XMLHttpRequest;this.uploaderEvents[r.id]=new Io(this.uppy);let Y=new A0(p.timeout,()=>{N.abort(),X.done();let ae=new Error(this.i18n("timedOut",{seconds:Math.ceil(p.timeout/1e3)}));this.uppy.emit("upload-error",r,ae),O(ae)}),ie=Ie();N.upload.addEventListener("loadstart",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${ie} started`)}),N.upload.addEventListener("progress",ae=>{this.uppy.log(`[AwsS3/XHRUpload] ${ie} progress: ${ae.loaded} / ${ae.total}`),Y.progress(),ae.lengthComputable&&this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:ae.loaded,bytesTotal:ae.total})}),N.addEventListener("load",ae=>{if(this.uppy.log(`[AwsS3/XHRUpload] ${ie} finished`),Y.done(),X.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),p.validateStatus(ae.target.status,N.responseText,N)){let Mt=p.getResponseData(N.responseText,N),wt=Mt[p.responseUrlFieldName],Ht={status:ae.target.status,body:Mt,uploadURL:wt};return this.uppy.emit("upload-success",r,Ht),wt&&this.uppy.log(`Download ${r.name} from ${wt}`),_(r)}let ue=p.getResponseData(N.responseText,N),xe=P0(N,p.getResponseError(N.responseText,N)),We={status:ae.target.status,body:ue};return this.uppy.emit("upload-error",r,xe,We),O(xe)}),N.addEventListener("error",()=>{this.uppy.log(`[AwsS3/XHRUpload] ${ie} errored`),Y.done(),X.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null);let ae=P0(N,p.getResponseError(N.responseText,N));return this.uppy.emit("upload-error",r,ae),O(ae)}),N.open(p.method.toUpperCase(),p.endpoint,!0),N.withCredentials=!!p.withCredentials,p.responseType!==""&&(N.responseType=p.responseType),Object.keys(p.headers).forEach(ae=>{N.setRequestHeader(ae,p.headers[ae])});let X=this.requests.run(()=>(N.send(D),()=>{Y.done(),N.abort()}),{priority:1});da(this,gc)[gc]("file-removed",r.id,()=>{X.abort(),O(new Error("File removed"))}),da(this,yc)[yc]("cancel-all",r.id,function(ae){let{reason:ue}=ae===void 0?{}:ae;ue==="user"&&X.abort(),O(new Error("Upload cancelled"))})})}o(uE,"_uploadLocalFile2");async function dE(r){try{if(r.serverToken)return this.connectToServerSocket(r);let n=await da(this,Sd)[Sd](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:n}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(n){throw this.uppy.emit("upload-error",r,n),n}}o(dE,"_uploadRemoteFile2");function fE(r){return r.replace(/;.*$/,"")}o(fE,"removeMimeParameters");function pE(r,n){let c=n.headers?n.headers["content-type"]:n.getResponseHeader("Content-Type");if(typeof c=="string"){let p=fE(c).toLowerCase();if(p==="application/xml"||p==="text/xml"||p==="text/html"&&/^<\?xml /.test(r))return!0}return!1}o(pE,"isXml");var mE=pE,vz={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}},gE;function Vs(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Vs,"_classPrivateFieldLooseBase");var bz=0;function Uh(r){return"__private_"+bz+++"_"+r}o(Uh,"_classPrivateFieldLooseKey");var wz={version:"3.0.4"};function yE(r,n){return new URL(n,r||void 0).toString()}o(yE,"resolveUrl");function Hh(r,n){let c=r.indexOf(`<${n}>`),p=r.indexOf(`</${n}>`,c);return c!==-1&&p!==-1?r.slice(c+n.length+2,p):""}o(Hh,"getXmlValue");function vE(r){if(r&&r.error){let n=new Error(r.message);throw Object.assign(n,r.error),n}return r}o(vE,"assertServerError");function bE(r,n){if(!(n!=null&&typeof n.url=="string"&&(typeof n.fields=="object"||n.fields==null)))throw new TypeError(`AwsS3: got incorrect result from 'getUploadParameters()' for file '${r.name}', expected an object '{ url, method, fields, headers }' but got '${JSON.stringify(n)}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`);if(!(n.method==null||/^p(u|os)t$/i.test(n.method)))throw new TypeError(`AwsS3: got incorrect method from 'getUploadParameters()' for file '${r.name}', expected  'put' or 'post' but got '${n.method}' instead.
See https://uppy.io/docs/aws-s3/#getUploadParameters-file for more on the expected format.`)}o(bE,"validateParameters");function wE(r,n){if(!mE(r,n))return;let c=Hh(r,"Message");return new Error(c)}o(wE,"defaultGetResponseError");var _E=!1,ja=Uh("client"),vc=Uh("requests"),Td=Uh("uploader"),Cd=Uh("handleUpload"),Ed=Uh("setCompanionHeaders");gE=Symbol.for("uppy test: getClient");var F0=class extends $e{constructor(r,n){super(r,n),Object.defineProperty(this,ja,{writable:!0,value:void 0}),Object.defineProperty(this,vc,{writable:!0,value:void 0}),Object.defineProperty(this,Td,{writable:!0,value:void 0}),Object.defineProperty(this,Cd,{writable:!0,value:p=>{let _=Object.create(null);function O(Y){var ie;let{id:X}=Y;(ie=_[X])==null||ie.abort()}o(O,"onremove"),this.uppy.on("file-removed",O),p.forEach(Y=>{let ie=this.uppy.getFile(Y);this.uppy.emit("upload-started",ie)});let D=Vs(this,vc)[vc].wrapPromiseFunction(Y=>this.opts.getUploadParameters(Y)),N=p.length;return Promise.allSettled(p.map((Y,ie)=>(_[Y]=D(this.uppy.getFile(Y)),_[Y].then(X=>{delete _[Y];let ae=this.uppy.getFile(Y);bE(ae,X);let{method:ue="post",url:xe,fields:We,headers:Mt}=X,wt={method:ue,formData:ue.toLowerCase()==="post",endpoint:xe,allowedMetaFields:We?Object.keys(We):[]};return Mt&&(wt.headers=Mt),this.uppy.setFileState(ae.id,{meta:{...ae.meta,...We},xhrUpload:wt}),Vs(this,Td)[Td].uploadFile(ae.id,ie,N)}).catch(X=>{delete _[Y];let ae=this.uppy.getFile(Y);return this.uppy.emit("upload-error",ae,X),Promise.reject(X)})))).finally(()=>{this.uppy.off("file-removed",O)})}}),Object.defineProperty(this,Ed,{writable:!0,value:()=>(Vs(this,ja)[ja].setCompanionHeaders(this.opts.companionHeaders),Promise.resolve())}),this.type="uploader",this.id=this.opts.id||"AwsS3",this.title="AWS S3",this.defaultLocale=vz;let c={timeout:30*1e3,limit:0,allowedMetaFields:[],getUploadParameters:this.getUploadParameters.bind(this),companionHeaders:{}};if(this.opts={...c,...n},(n==null?void 0:n.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.i18nInit(),Vs(this,ja)[ja]=new za(r,n),Vs(this,vc)[vc]=new uc(this.opts.limit)}[gE](){return Vs(this,ja)[ja]}get client(){return Vs(this,ja)[ja]}set client(r){Vs(this,ja)[ja]=r}getUploadParameters(r){if(!this.opts.companionUrl)throw new Error("Expected a `companionUrl` option containing a Companion address.");let n=r.meta.name,{type:c}=r.meta,p=Object.fromEntries(this.opts.allowedMetaFields.filter(O=>r.meta[O]!=null).map(O=>[`metadata[${O}]`,r.meta[O].toString()])),_=new URLSearchParams({filename:n,type:c,...p});return Vs(this,ja)[ja].get(`s3/params?${_}`).then(vE)}install(){let{uppy:r}=this;r.addPreProcessor(Vs(this,Ed)[Ed]),r.addUploader(Vs(this,Cd)[Cd]);function n(p,_){let O=this;return mE(p,_)?{location:yE(_.responseURL,Hh(p,"Location")),bucket:Hh(p,"Bucket"),key:Hh(p,"Key"),etag:Hh(p,"ETag")}:O.method.toUpperCase()==="POST"?(_E||(r.log("[AwsS3] No response data found, make sure to set the success_action_status AWS SDK option to 201. See https://uppy.io/docs/aws-s3/#POST-Uploads","warning"),_E=!0),{location:null}):_.responseURL?{location:_.responseURL.replace(/\?.*$/,"")}:{location:null}}o(n,"defaultGetResponseData");let c={fieldName:"file",responseUrlFieldName:"location",timeout:this.opts.timeout,[bd]:Vs(this,vc)[vc],responseType:"text",getResponseData:this.opts.getResponseData||n,getResponseError:wE};c.i18n=this.i18n,Vs(this,Td)[Td]=new oE(r,c)}uninstall(){this.uppy.removePreProcessor(Vs(this,Ed)[Ed]),this.uppy.removeUploader(Vs(this,Cd)[Cd])}};o(F0,"AwsS3"),F0.VERSION=wz.version;var{AbortController:D0}=globalThis,xE=o(function(r,n){r===void 0&&(r="Aborted");let c=new DOMException(r,"AbortError");return n!=null&&x(n,"cause")&&Object.defineProperty(c,"cause",{__proto__:null,configurable:!0,writable:!0,value:n.cause}),c},"createAbortError");function bi(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(bi,"_classPrivateFieldLooseBase");var _z=0;function Ys(r){return"__private_"+_z+++"_"+r}o(Ys,"_classPrivateFieldLooseKey");var xz=1024*1024,kE={getChunkSize(r){return Math.ceil(r.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(r){throw r}};function SE(r){if(typeof r=="string")return parseInt(r,10);if(typeof r=="number")return r;throw new TypeError("Expected a number")}o(SE,"ensureInt");var I0=Symbol("pausing upload, not an actual error"),Is=Ys("abortController"),fa=Ys("chunks"),qa=Ys("chunkState"),ys=Ys("data"),No=Ys("file"),bc=Ys("uploadPromise"),Od=Ys("onError"),wc=Ys("onSuccess"),Ad=Ys("onReject"),B0=Ys("initChunks"),N0=Ys("createUpload"),z0=Ys("resumeUpload"),Pd=Ys("onPartProgress"),Md=Ys("onPartComplete"),U0=Ys("abortUpload"),TE=class{constructor(r,n){var c;Object.defineProperty(this,U0,{value:AE}),Object.defineProperty(this,z0,{value:OE}),Object.defineProperty(this,N0,{value:EE}),Object.defineProperty(this,B0,{value:CE}),Object.defineProperty(this,Is,{writable:!0,value:new D0}),Object.defineProperty(this,fa,{writable:!0,value:void 0}),Object.defineProperty(this,qa,{writable:!0,value:void 0}),Object.defineProperty(this,ys,{writable:!0,value:void 0}),Object.defineProperty(this,No,{writable:!0,value:void 0}),Object.defineProperty(this,bc,{writable:!0,value:void 0}),Object.defineProperty(this,Od,{writable:!0,value:void 0}),Object.defineProperty(this,wc,{writable:!0,value:void 0}),Object.defineProperty(this,Ad,{writable:!0,value:p=>(p==null?void 0:p.cause)===I0?null:bi(this,Od)[Od](p)}),Object.defineProperty(this,Pd,{writable:!0,value:p=>_=>{if(!_.lengthComputable)return;let O=_.loaded;bi(this,qa)[qa][p].uploaded=SE(O);let D=bi(this,qa)[qa].reduce((N,Y)=>N+Y.uploaded,0);this.options.onProgress(D,bi(this,ys)[ys].size)}}),Object.defineProperty(this,Md,{writable:!0,value:p=>_=>{bi(this,fa)[fa][p]=null,bi(this,qa)[qa][p].etag=_,bi(this,qa)[qa][p].done=!0;let O={PartNumber:p+1,ETag:_};this.options.onPartComplete(O)}}),this.options={...kE,...n},(c=this.options).getChunkSize!=null||(c.getChunkSize=kE.getChunkSize),bi(this,ys)[ys]=r,bi(this,No)[No]=n.file,bi(this,wc)[wc]=this.options.onSuccess,bi(this,Od)[Od]=this.options.onError,bi(this,B0)[B0]()}start(){bi(this,bc)[bc]?(bi(this,Is)[Is].signal.aborted||bi(this,Is)[Is].abort(I0),bi(this,Is)[Is]=new D0,bi(this,z0)[z0]()):bi(this,N0)[N0]()}pause(){bi(this,Is)[Is].abort(I0),bi(this,Is)[Is]=new D0}abort(r){var n;r===void 0&&(r=void 0),(n=r)!=null&&n.really?bi(this,U0)[U0]():this.pause()}get chunkState(){return bi(this,qa)[qa]}};o(TE,"MultipartUploader");function CE(){let r=this.options.getChunkSize(bi(this,ys)[ys]),n=bi(this,ys)[ys].size,c=Math.max(5*xz,Math.ceil(n/1e4)),p=Math.max(r,c);if(bi(this,ys)[ys].size===0)bi(this,fa)[fa]=[bi(this,ys)[ys]],bi(this,ys)[ys].onProgress=bi(this,Pd)[Pd](0),bi(this,ys)[ys].onComplete=bi(this,Md)[Md](0);else{let _=Math.ceil(n/p);bi(this,fa)[fa]=Array(_);let O=0;for(let D=0;D<n;D+=p){let N=Math.min(n,D+p),Y=bi(this,ys)[ys].slice(D,N);Y.onProgress=bi(this,Pd)[Pd](O),Y.onComplete=bi(this,Md)[Md](O),bi(this,fa)[fa][O++]=Y}}bi(this,qa)[qa]=bi(this,fa)[fa].map(()=>({uploaded:0}))}o(CE,"_initChunks2");function EE(){bi(this,bc)[bc]=this.options.companionComm.uploadFile(bi(this,No)[No],bi(this,fa)[fa],bi(this,Is)[Is].signal).then(bi(this,wc)[wc],bi(this,Ad)[Ad])}o(EE,"_createUpload2");function OE(){bi(this,bc)[bc]=this.options.companionComm.resumeUploadFile(bi(this,No)[No],bi(this,fa)[fa],bi(this,Is)[Is].signal).then(bi(this,wc)[wc],bi(this,Ad)[Ad])}o(OE,"_resumeUpload2");function AE(){bi(this,Is)[Is].abort(),this.options.companionComm.abortFileUpload(bi(this,No)[No]).catch(r=>this.options.log(r))}o(AE,"_abortUpload2");var kz=TE,PE;function Ei(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Ei,"_classPrivateFieldLooseBase");var Sz=0;function vs(r){return"__private_"+Sz+++"_"+r}o(vs,"_classPrivateFieldLooseKey");var Tz={version:"3.1.1"};function Wh(r){if(r&&r.error){let n=new Error(r.message);throw Object.assign(n,r.error),n}return r}o(Wh,"assertServerError");function Gs(r){if(r!=null&&r.aborted)throw xE("The operation was aborted",{cause:r.reason})}o(Gs,"throwIfAborted");var Ld=vs("abortMultipartUpload"),Ln=vs("cache"),Rd=vs("createMultipartUpload"),Fd=vs("fetchSignature"),Dd=vs("listParts"),_c=vs("previousRetryDelay"),xc=vs("requests"),zo=vs("retryDelayIterator"),kc=vs("sendCompletionRequest"),Id=vs("setS3MultipartState"),Bd=vs("uploadPartBytes"),H0=vs("shouldRetry"),ME=class{constructor(r,n,c){Object.defineProperty(this,H0,{value:LE}),Object.defineProperty(this,Ld,{writable:!0,value:void 0}),Object.defineProperty(this,Ln,{writable:!0,value:new WeakMap}),Object.defineProperty(this,Rd,{writable:!0,value:void 0}),Object.defineProperty(this,Fd,{writable:!0,value:void 0}),Object.defineProperty(this,Dd,{writable:!0,value:void 0}),Object.defineProperty(this,_c,{writable:!0,value:void 0}),Object.defineProperty(this,xc,{writable:!0,value:void 0}),Object.defineProperty(this,zo,{writable:!0,value:void 0}),Object.defineProperty(this,kc,{writable:!0,value:void 0}),Object.defineProperty(this,Id,{writable:!0,value:void 0}),Object.defineProperty(this,Bd,{writable:!0,value:void 0}),Ei(this,xc)[xc]=r,Ei(this,Id)[Id]=c,this.setOptions(n)}setOptions(r){let n=Ei(this,xc)[xc];if("abortMultipartUpload"in r&&(Ei(this,Ld)[Ld]=n.wrapPromiseFunction(r.abortMultipartUpload)),"createMultipartUpload"in r&&(Ei(this,Rd)[Rd]=n.wrapPromiseFunction(r.createMultipartUpload,{priority:-1})),"signPart"in r&&(Ei(this,Fd)[Fd]=n.wrapPromiseFunction(r.signPart)),"listParts"in r&&(Ei(this,Dd)[Dd]=n.wrapPromiseFunction(r.listParts)),"completeMultipartUpload"in r&&(Ei(this,kc)[kc]=n.wrapPromiseFunction(r.completeMultipartUpload)),"retryDelays"in r){var c;Ei(this,zo)[zo]=(c=r.retryDelays)==null?void 0:c.values()}"uploadPartBytes"in r&&(Ei(this,Bd)[Bd]=n.wrapPromiseFunction(r.uploadPartBytes,{priority:1/0}))}async getUploadId(r,n){let c=Ei(this,Ln)[Ln].get(r.data);if(c!=null)return c;let p=Ei(this,Rd)[Rd](r,n),_=o(()=>{p.abort(n.reason),Ei(this,Ln)[Ln].delete(r.data)},"abortPromise");return n.addEventListener("abort",_,{once:!0}),Ei(this,Ln)[Ln].set(r.data,p),p.then(async O=>{n.removeEventListener("abort",_),Ei(this,Id)[Id](r,O),Ei(this,Ln)[Ln].set(r.data,O)},()=>{n.removeEventListener("abort",_)}),p}async abortFileUpload(r){let n=Ei(this,Ln)[Ln].get(r.data);n!=null&&await Ei(this,Ld)[Ld](r,await n)}async uploadFile(r,n,c){Gs(c);let{uploadId:p,key:_}=await this.getUploadId(r,c);Gs(c);let O=await Promise.all(n.map((D,N)=>this.uploadChunk(r,N+1,D,c)));return Gs(c),Ei(this,kc)[kc](r,{key:_,uploadId:p,parts:O,signal:c}).abortOn(c)}async resumeUploadFile(r,n,c){Gs(c);let{uploadId:p,key:_}=await this.getUploadId(r,c);Gs(c);let O=await Ei(this,Dd)[Dd](r,{uploadId:p,key:_,signal:c}).abortOn(c);Gs(c);let D=await Promise.all(n.map((N,Y)=>{let ie=Y+1,X=O.find(ae=>{let{PartNumber:ue}=ae;return ue===ie});return X==null?this.uploadChunk(r,ie,N,c):{PartNumber:ie,ETag:X.ETag}}));return Gs(c),Ei(this,kc)[kc](r,{key:_,uploadId:p,parts:D,signal:c}).abortOn(c)}async uploadChunk(r,n,c,p){Gs(p);let{uploadId:_,key:O}=await this.getUploadId(r,p);for(Gs(p);;){let D=await Ei(this,Fd)[Fd](r,{uploadId:_,key:O,partNumber:n,body:c,signal:p}).abortOn(p);Gs(p);try{return{PartNumber:n,...await Ei(this,Bd)[Bd](D,c,p).abortOn(p)}}catch(N){if(!await Ei(this,H0)[H0](N))throw N}}}};o(ME,"HTTPCommunicationQueue");async function LE(r){var n;let c=Ei(this,xc)[xc],p=r==null||(n=r.source)==null?void 0:n.status;if(p==null)return!1;if(p===403&&r.message==="Request has expired"){if(!c.isPaused){if(c.limit===1||Ei(this,_c)[_c]==null){var _;let N=(_=Ei(this,zo)[zo])==null?void 0:_.next();if(N==null||N.done)return!1;Ei(this,_c)[_c]=N.value}c.rateLimit(0),await new Promise(N=>setTimeout(N,Ei(this,_c)[_c]))}}else if(p===429){if(!c.isPaused){var O;let N=(O=Ei(this,zo)[zo])==null?void 0:O.next();if(N==null||N.done)return!1;c.rateLimit(N.value)}}else{if(p>400&&p<500&&p!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)c.isPaused||(c.pause(),window.addEventListener("online",()=>{c.resume()},{once:!0}));else{var D;let N=(D=Ei(this,zo)[zo])==null?void 0:D.next();if(N==null||N.done)return!1;await new Promise(Y=>setTimeout(Y,N.value))}}return!0}o(LE,"_shouldRetry2");var Nd=vs("queueRequestSocketToken"),Sc=vs("companionCommunicationQueue"),Bs=vs("client"),W0=vs("setS3MultipartState"),j0=vs("requestSocketToken"),zd=vs("setCompanionHeaders");PE=Symbol.for("uppy test: getClient");var Zm=class extends $e{constructor(r,n){var c;super(r,n),Object.defineProperty(this,Nd,{writable:!0,value:void 0}),Object.defineProperty(this,Sc,{writable:!0,value:void 0}),Object.defineProperty(this,Bs,{writable:!0,value:void 0}),Object.defineProperty(this,W0,{writable:!0,value:(_,O)=>{let{key:D,uploadId:N}=O,Y=this.uppy.getFile(_.id);this.uppy.setFileState(_.id,{s3Multipart:{...Y.s3Multipart,key:D,uploadId:N}})}}),Object.defineProperty(this,j0,{writable:!0,value:async _=>{let O=_.remote.providerOptions.provider?is:za,D=new O(this.uppy,_.remote.providerOptions),N={...this.opts};if(_.tus&&Object.assign(N,_.tus),_.remote.url==null)throw new Error("Cannot connect to an undefined URL");return(await D.post(_.remote.url,{..._.remote.body,protocol:"s3-multipart",size:_.data.size,metadata:_.meta})).token}}),Object.defineProperty(this,zd,{writable:!0,value:()=>{Ei(this,Bs)[Bs].setCompanionHeaders(this.opts.companionHeaders)}}),this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",this.title="AWS S3 Multipart",Ei(this,Bs)[Bs]=new za(r,n);let p={limit:6,retryDelays:[0,1e3,3e3,5e3],createMultipartUpload:this.createMultipartUpload.bind(this),listParts:this.listParts.bind(this),abortMultipartUpload:this.abortMultipartUpload.bind(this),completeMultipartUpload:this.completeMultipartUpload.bind(this),signPart:this.signPart.bind(this),uploadPartBytes:Zm.uploadPartBytes,companionHeaders:{}};this.opts={...p,...n},(n==null?void 0:n.prepareUploadParts)!=null&&n.signPart==null&&(this.opts.signPart=async(_,O)=>{let{uploadId:D,key:N,partNumber:Y,body:ie,signal:X}=O,{presignedUrls:ae,headers:ue}=await n.prepareUploadParts(_,{uploadId:D,key:N,parts:[{number:Y,chunk:ie}],signal:X});return{url:ae==null?void 0:ae[Y],headers:ue==null?void 0:ue[Y]}}),this.upload=this.upload.bind(this),this.requests=(c=this.opts.rateLimitedQueue)!=null?c:new uc(this.opts.limit),Ei(this,Sc)[Sc]=new ME(this.requests,this.opts,Ei(this,W0)[W0]),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),Ei(this,Nd)[Nd]=this.requests.wrapPromiseFunction(Ei(this,j0)[j0],{priority:-1})}[PE](){return Ei(this,Bs)[Bs]}setOptions(r){return Ei(this,Sc)[Sc].setOptions(r),super.setOptions(r)}resetUploaderReferences(r,n){n===void 0&&(n={}),this.uploaders[r]&&(this.uploaders[r].abort({really:n.abort||!1}),this.uploaders[r]=null),this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null),this.uploaderSockets[r]&&(this.uploaderSockets[r].close(),this.uploaderSockets[r]=null)}assertHost(r){if(!this.opts.companionUrl)throw new Error(`Expected a \`companionUrl\` option containing a Companion address, or if you are not using Companion, a custom \`${r}\` implementation.`)}createMultipartUpload(r,n){this.assertHost("createMultipartUpload"),Gs(n);let c={};return Object.keys(r.meta||{}).forEach(p=>{r.meta[p]!=null&&(c[p]=r.meta[p].toString())}),Ei(this,Bs)[Bs].post("s3/multipart",{filename:r.name,type:r.type,metadata:c},{signal:n}).then(Wh)}listParts(r,n,c){let{key:p,uploadId:_}=n;this.assertHost("listParts"),Gs(c);let O=encodeURIComponent(p);return Ei(this,Bs)[Bs].get(`s3/multipart/${_}?key=${O}`,{signal:c}).then(Wh)}completeMultipartUpload(r,n,c){let{key:p,uploadId:_,parts:O}=n;this.assertHost("completeMultipartUpload"),Gs(c);let D=encodeURIComponent(p),N=encodeURIComponent(_);return Ei(this,Bs)[Bs].post(`s3/multipart/${N}/complete?key=${D}`,{parts:O},{signal:c}).then(Wh)}signPart(r,n){let{uploadId:c,key:p,partNumber:_,signal:O}=n;if(this.assertHost("signPart"),Gs(O),c==null||p==null||_==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");let D=encodeURIComponent(p);return Ei(this,Bs)[Bs].get(`s3/multipart/${c}/${_}?key=${D}`,{signal:O}).then(Wh)}abortMultipartUpload(r,n,c){let{key:p,uploadId:_}=n;this.assertHost("abortMultipartUpload");let O=encodeURIComponent(p),D=encodeURIComponent(_);return Ei(this,Bs)[Bs].delete(`s3/multipart/${D}?key=${O}`,void 0,{signal:c}).then(Wh)}static async uploadPartBytes(r,n,c){let{url:p,expires:_,headers:O}=r;if(Gs(c),p==null)throw new Error("Cannot upload to an undefined URL");return new Promise((D,N)=>{let Y=new XMLHttpRequest;Y.open("PUT",p,!0),O&&Object.keys(O).forEach(ae=>{Y.setRequestHeader(ae,O[ae])}),Y.responseType="text",typeof _=="number"&&(Y.timeout=_*1e3);function ie(){Y.abort()}o(ie,"onabort");function X(){c.removeEventListener("abort",ie)}o(X,"cleanup"),c.addEventListener("abort",ie),Y.upload.addEventListener("progress",n.onProgress),Y.addEventListener("abort",()=>{X(),N(xE())}),Y.addEventListener("timeout",()=>{X();let ae=new Error("Request has expired");ae.source={status:403},N(ae)}),Y.addEventListener("load",ae=>{if(X(),ae.target.status===403&&ae.target.responseText.includes("<Message>Request has expired</Message>")){let xe=new Error("Request has expired");xe.source=ae.target,N(xe);return}if(ae.target.status<200||ae.target.status>=300){let xe=new Error("Non 2xx");xe.source=ae.target,N(xe);return}n.onProgress==null||n.onProgress(n.size);let ue=ae.target.getResponseHeader("ETag");if(ue===null){N(new Error("AwsS3/Multipart: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3-multipart#S3-Bucket-Configuration for instructions."));return}n.onComplete==null||n.onComplete(ue),D({ETag:ue})}),Y.addEventListener("error",ae=>{X();let ue=new Error("Unknown error");ue.source=ae.target,N(ue)}),Y.send(n)})}uploadFile(r){var n=this;return new Promise((c,p)=>{let _=o((ie,X)=>{this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:ie,bytesTotal:X})},"onProgress"),O=o(ie=>{this.uppy.log(ie),this.uppy.emit("upload-error",r,ie),this.resetUploaderReferences(r.id),p(ie)},"onError"),D=o(ie=>{let X=Y,ae={body:{...ie},uploadURL:ie.location};this.resetUploaderReferences(r.id);let ue=this.uppy.getFile(r.id);this.uppy.emit("upload-success",ue||r,ae),ie.location&&this.uppy.log(`Download ${r.name} from ${ie.location}`),c(X)},"onSuccess"),N=o(ie=>{let X=this.uppy.getFile(r.id);!X||this.uppy.emit("s3-multipart:part-uploaded",X,ie)},"onPartComplete"),Y=new kz(r.data,{companionComm:Ei(this,Sc)[Sc],log:function(){return n.uppy.log(...arguments)},getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):null,onProgress:_,onError:O,onSuccess:D,onPartComplete:N,file:r,...r.s3Multipart});this.uploaders[r.id]=Y,this.uploaderEvents[r.id]=new Io(this.uppy),this.onFileRemove(r.id,ie=>{Y.abort(),this.resetUploaderReferences(r.id,{abort:!0}),c(`upload ${ie.id} was removed`)}),this.onCancelAll(r.id,function(ie){let{reason:X}=ie===void 0?{}:ie;X==="user"&&(Y.abort(),n.resetUploaderReferences(r.id,{abort:!0})),c(`upload ${r.id} was canceled`)}),this.onFilePause(r.id,ie=>{ie?Y.pause():Y.start()}),this.onPauseAll(r.id,()=>{Y.pause()}),this.onResumeAll(r.id,()=>{Y.start()}),(!r.progress.uploadStarted||!r.isRestored)&&(Y.start(),this.uppy.emit("upload-started",r))})}async uploadRemote(r){this.resetUploaderReferences(r.id),(!r.progress.uploadStarted||!r.isRestored)&&this.uppy.emit("upload-started",r);try{if(r.serverToken)return this.connectToServerSocket(r);let n=await Ei(this,Nd)[Nd](r);return this.uppy.setFileState(r.id,{serverToken:n}),this.connectToServerSocket(this.uppy.getFile(r.id))}catch(n){throw this.uppy.emit("upload-error",r,n),n}}async connectToServerSocket(r){var n=this;return new Promise((c,p)=>{let _,O=r.serverToken,D=wd(r.remote.companionUrl),N=new Lh({target:`${D}/api/${O}`});this.uploaderSockets[r.id]=N,this.uploaderEvents[r.id]=new Io(this.uppy),this.onFileRemove(r.id,()=>{_.abort(),N.send("cancel",{}),this.resetUploaderReferences(r.id,{abort:!0}),c(`upload ${r.id} was removed`)}),this.onFilePause(r.id,Y=>{Y?(_.abort(),N.send("pause",{})):(_.abort(),_=this.requests.run(()=>(N.send("resume",{}),()=>{})))}),this.onPauseAll(r.id,()=>{_.abort(),N.send("pause",{})}),this.onCancelAll(r.id,function(Y){let{reason:ie}=Y===void 0?{}:Y;ie==="user"&&(_.abort(),N.send("cancel",{}),n.resetUploaderReferences(r.id)),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{_.abort(),r.error&&N.send("pause",{}),_=this.requests.run(()=>{N.send("resume",{})})}),this.onRetry(r.id,()=>{N.isOpen&&(N.send("pause",{}),N.send("resume",{}))}),this.onRetryAll(r.id,()=>{N.isOpen&&(N.send("pause",{}),N.send("resume",{}))}),N.on("progress",Y=>Xm(this,Y,r)),N.on("error",Y=>{this.uppy.emit("upload-error",r,new Error(Y.error)),this.resetUploaderReferences(r.id),_.done(),p(new Error(Y.error))}),N.on("success",Y=>{let ie={uploadURL:Y.url};this.uppy.emit("upload-success",r,ie),this.resetUploaderReferences(r.id),_.done(),c()}),_=this.requests.run(()=>(r.isPaused&&N.send("pause",{}),()=>{}))})}async upload(r){if(r.length===0)return;let n=r.map(c=>{let p=this.uppy.getFile(c);return p.isRemote?this.uploadRemote(p):this.uploadFile(p)});return Promise.all(n)}onFileRemove(r,n){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&n(c.id)})}onFilePause(r,n){this.uploaderEvents[r].on("upload-pause",(c,p)=>{r===c&&n(p)})}onRetry(r,n){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&n()})}onRetryAll(r,n){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||n()})}onPauseAll(r,n){this.uploaderEvents[r].on("pause-all",()=>{!this.uppy.getFile(r)||n()})}onCancelAll(r,n){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||n(...arguments)})}onResumeAll(r,n){this.uploaderEvents[r].on("resume-all",()=>{!this.uppy.getFile(r)||n()})}install(){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:!0}}),this.uppy.addPreProcessor(Ei(this,zd)[zd]),this.uppy.addUploader(this.upload)}uninstall(){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:!1}}),this.uppy.removePreProcessor(Ei(this,zd)[zd]),this.uppy.removeUploader(this.upload)}};o(Zm,"AwsS3Multipart"),Zm.VERSION=Tz.version;var RE="3.7.2",Cz=RE,Ez=typeof atob=="function",Oz=typeof btoa=="function",jh=typeof Buffer=="function",FE=typeof TextDecoder=="function"?new TextDecoder:void 0,DE=typeof TextEncoder=="function"?new TextEncoder:void 0,Az="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ud=Array.prototype.slice.call(Az),Qm=(r=>{let n={};return r.forEach((c,p)=>n[c]=p),n})(Ud),Pz=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Ns=String.fromCharCode.bind(String),IE=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):(r,n=c=>c)=>new Uint8Array(Array.prototype.slice.call(r,0).map(n)),BE=o(r=>r.replace(/=/g,"").replace(/[+\/]/g,n=>n=="+"?"-":"_"),"_mkUriSafe"),NE=o(r=>r.replace(/[^A-Za-z0-9\+\/]/g,""),"_tidyB64"),zE=o(r=>{let n,c,p,_,O="",D=r.length%3;for(let N=0;N<r.length;){if((c=r.charCodeAt(N++))>255||(p=r.charCodeAt(N++))>255||(_=r.charCodeAt(N++))>255)throw new TypeError("invalid character found");n=c<<16|p<<8|_,O+=Ud[n>>18&63]+Ud[n>>12&63]+Ud[n>>6&63]+Ud[n&63]}return D?O.slice(0,D-3)+"===".substring(D):O},"btoaPolyfill"),q0=Oz?r=>btoa(r):jh?r=>Buffer.from(r,"binary").toString("base64"):zE,$0=jh?r=>Buffer.from(r).toString("base64"):r=>{let n=[];for(let c=0,p=r.length;c<p;c+=4096)n.push(Ns.apply(null,r.subarray(c,c+4096)));return q0(n.join(""))},Jm=o((r,n=!1)=>n?BE($0(r)):$0(r),"fromUint8Array"),Mz=o(r=>{if(r.length<2){var n=r.charCodeAt(0);return n<128?r:n<2048?Ns(192|n>>>6)+Ns(128|n&63):Ns(224|n>>>12&15)+Ns(128|n>>>6&63)+Ns(128|n&63)}else{var n=65536+(r.charCodeAt(0)-55296)*1024+(r.charCodeAt(1)-56320);return Ns(240|n>>>18&7)+Ns(128|n>>>12&63)+Ns(128|n>>>6&63)+Ns(128|n&63)}},"cb_utob"),Lz=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,UE=o(r=>r.replace(Lz,Mz),"utob"),HE=jh?r=>Buffer.from(r,"utf8").toString("base64"):DE?r=>$0(DE.encode(r)):r=>q0(UE(r)),qh=o((r,n=!1)=>n?BE(HE(r)):HE(r),"encode"),WE=o(r=>qh(r,!0),"encodeURI"),Rz=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Fz=o(r=>{switch(r.length){case 4:var n=(7&r.charCodeAt(0))<<18|(63&r.charCodeAt(1))<<12|(63&r.charCodeAt(2))<<6|63&r.charCodeAt(3),c=n-65536;return Ns((c>>>10)+55296)+Ns((c&1023)+56320);case 3:return Ns((15&r.charCodeAt(0))<<12|(63&r.charCodeAt(1))<<6|63&r.charCodeAt(2));default:return Ns((31&r.charCodeAt(0))<<6|63&r.charCodeAt(1))}},"cb_btou"),jE=o(r=>r.replace(Rz,Fz),"btou"),qE=o(r=>{if(r=r.replace(/\s+/g,""),!Pz.test(r))throw new TypeError("malformed base64.");r+="==".slice(2-(r.length&3));let n,c="",p,_;for(let O=0;O<r.length;)n=Qm[r.charAt(O++)]<<18|Qm[r.charAt(O++)]<<12|(p=Qm[r.charAt(O++)])<<6|(_=Qm[r.charAt(O++)]),c+=p===64?Ns(n>>16&255):_===64?Ns(n>>16&255,n>>8&255):Ns(n>>16&255,n>>8&255,n&255);return c},"atobPolyfill"),V0=Ez?r=>atob(NE(r)):jh?r=>Buffer.from(r,"base64").toString("binary"):qE,$E=jh?r=>IE(Buffer.from(r,"base64")):r=>IE(V0(r),n=>n.charCodeAt(0)),VE=o(r=>$E(YE(r)),"toUint8Array"),Dz=jh?r=>Buffer.from(r,"base64").toString("utf8"):FE?r=>FE.decode($E(r)):r=>jE(V0(r)),YE=o(r=>NE(r.replace(/[-_]/g,n=>n=="-"?"+":"/")),"_unURI"),Y0=o(r=>Dz(YE(r)),"decode"),Iz=o(r=>{if(typeof r!="string")return!1;let n=r.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(n)||!/[^\s0-9a-zA-Z\-_]/.test(n)},"isValid"),GE=o(r=>({value:r,enumerable:!1,writable:!0,configurable:!0}),"_noEnum"),XE=o(function(){let r=o((n,c)=>Object.defineProperty(String.prototype,n,GE(c)),"_add");r("fromBase64",function(){return Y0(this)}),r("toBase64",function(n){return qh(this,n)}),r("toBase64URI",function(){return qh(this,!0)}),r("toBase64URL",function(){return qh(this,!0)}),r("toUint8Array",function(){return VE(this)})},"extendString"),KE=o(function(){let r=o((n,c)=>Object.defineProperty(Uint8Array.prototype,n,GE(c)),"_add");r("toBase64",function(n){return Jm(this,n)}),r("toBase64URI",function(){return Jm(this,!0)}),r("toBase64URL",function(){return Jm(this,!0)})},"extendUint8Array"),Bz=o(()=>{XE(),KE()},"extendBuiltins"),Nz={version:RE,VERSION:Cz,atob:V0,atobPolyfill:qE,btoa:q0,btoaPolyfill:zE,fromBase64:Y0,toBase64:qh,encode:qh,encodeURI:WE,encodeURL:WE,utob:UE,btou:jE,decode:Y0,isValid:Iz,fromUint8Array:Jm,toUint8Array:VE,extendString:XE,extendUint8Array:KE,extendBuiltins:Bz},zz=f(I());function eg(r){return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},eg(r)}o(eg,"_typeof");function G0(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(G0,"_defineProperties");function ZE(r,n,c){return n&&G0(r.prototype,n),c&&G0(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(ZE,"_createClass");function QE(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(QE,"_classCallCheck");function JE(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&$h(r,n)}o(JE,"_inherits");function eO(r){var n=X0();return o(function(){var c=Vh(r),p;if(n){var _=Vh(this).constructor;p=Reflect.construct(c,arguments,_)}else p=c.apply(this,arguments);return tO(this,p)},"_createSuperInternal")}o(eO,"_createSuper");function tO(r,n){if(n&&(eg(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iO(r)}o(tO,"_possibleConstructorReturn");function iO(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}o(iO,"_assertThisInitialized");function tg(r){var n=typeof Map=="function"?new Map:void 0;return tg=o(function(c){if(c===null||!rO(c))return c;if(typeof c!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(c))return n.get(c);n.set(c,p)}function p(){return Hd(c,arguments,Vh(this).constructor)}return o(p,"Wrapper"),p.prototype=Object.create(c.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),$h(p,c)},"_wrapNativeSuper"),tg(r)}o(tg,"_wrapNativeSuper");function Hd(r,n,c){return X0()?Hd=Reflect.construct.bind():Hd=o(function(p,_,O){var D=[null];D.push.apply(D,_);var N=Function.bind.apply(p,D),Y=new N;return O&&$h(Y,O.prototype),Y},"_construct"),Hd.apply(null,arguments)}o(Hd,"_construct");function X0(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}o(X0,"_isNativeReflectConstruct");function rO(r){return Function.toString.call(r).indexOf("[native code]")!==-1}o(rO,"_isNativeFunction");function $h(r,n){return $h=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(c,p){return c.__proto__=p,c},"_setPrototypeOf"),$h(r,n)}o($h,"_setPrototypeOf");function Vh(r){return Vh=Object.setPrototypeOf?Object.getPrototypeOf.bind():o(function(n){return n.__proto__||Object.getPrototypeOf(n)},"_getPrototypeOf"),Vh(r)}o(Vh,"_getPrototypeOf");var Uz=function(r){JE(c,r);var n=eO(c);function c(p){var _,O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(QE(this,c),_=n.call(this,p),_.originalRequest=D,_.originalResponse=N,_.causingError=O,O!=null&&(p+=", caused by ".concat(O.toString())),D!=null){var Y=D.getHeader("X-Request-ID")||"n/a",ie=D.getMethod(),X=D.getURL(),ae=N?N.getStatus():"n/a",ue=N?N.getBody()||"":"n/a";p+=", originated from request (method: ".concat(ie,", url: ").concat(X,", response code: ").concat(ae,", response text: ").concat(ue,", request id: ").concat(Y,")")}return _.message=p,_}return o(c,"DetailedError"),ZE(c)}(tg(Error)),ig=Uz;function Hz(r){}o(Hz,"log");function sO(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16|0,c=r==="x"?n:n&3|8;return c.toString(16)})}o(sO,"uuid");function K0(r,n){return lO(r)||oO(r,n)||nO(r,n)||aO()}o(K0,"_slicedToArray");function aO(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}o(aO,"_nonIterableRest");function nO(r,n){if(r){if(typeof r=="string")return Z0(r,n);var c=Object.prototype.toString.call(r).slice(8,-1);if(c==="Object"&&r.constructor&&(c=r.constructor.name),c==="Map"||c==="Set")return Array.from(r);if(c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return Z0(r,n)}}o(nO,"_unsupportedIterableToArray");function Z0(r,n){(n==null||n>r.length)&&(n=r.length);for(var c=0,p=new Array(n);c<n;c++)p[c]=r[c];return p}o(Z0,"_arrayLikeToArray");function oO(r,n){var c=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(c!=null){var p=[],_=!0,O=!1,D,N;try{for(c=c.call(r);!(_=(D=c.next()).done)&&(p.push(D.value),!(n&&p.length===n));_=!0);}catch(Y){O=!0,N=Y}finally{try{!_&&c.return!=null&&c.return()}finally{if(O)throw N}}return p}}o(oO,"_iterableToArrayLimit");function lO(r){if(Array.isArray(r))return r}o(lO,"_arrayWithHoles");function Q0(r,n){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);n&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),c.push.apply(c,p)}return c}o(Q0,"ownKeys");function Tc(r){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?Q0(Object(c),!0).forEach(function(p){cO(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):Q0(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}o(Tc,"_objectSpread");function cO(r,n,c){return n in r?Object.defineProperty(r,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[n]=c,r}o(cO,"_defineProperty");function hO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(hO,"_classCallCheck");function J0(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(J0,"_defineProperties");function uO(r,n,c){return n&&J0(r.prototype,n),c&&J0(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(uO,"_createClass");var Wz={endpoint:null,uploadUrl:null,metadata:{},fingerprint:null,uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,_onUploadUrlAvailable:null,overridePatchMethod:!1,headers:{},addRequestId:!1,onBeforeRequest:null,onAfterResponse:null,onShouldRetry:null,chunkSize:1/0,retryDelays:[0,1e3,3e3,5e3],parallelUploads:1,parallelUploadBoundaries:null,storeFingerprintForResuming:!0,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1,urlStorage:null,fileReader:null,httpStack:null},dO=function(){function r(n,c){hO(this,r),"resume"in c&&console.log("tus: The `resume` option has been removed in tus-js-client v2. Please use the URL storage API instead."),this.options=c,this.options.chunkSize=Number(this.options.chunkSize),this._urlStorage=this.options.urlStorage,this.file=n,this.url=null,this._req=null,this._fingerprint=null,this._urlStorageKey=null,this._offset=null,this._aborted=!1,this._size=null,this._source=null,this._retryAttempt=0,this._retryTimeout=null,this._offsetBeforeRetry=0,this._parallelUploads=null,this._parallelUploadUrls=null}return o(r,"BaseUpload"),uO(r,[{key:"findPreviousUploads",value:o(function(){var n=this;return this.options.fingerprint(this.file,this.options).then(function(c){return n._urlStorage.findUploadsByFingerprint(c)})},"findPreviousUploads")},{key:"resumeFromPreviousUpload",value:o(function(n){this.url=n.uploadUrl||null,this._parallelUploadUrls=n.parallelUploadUrls||null,this._urlStorageKey=n.urlStorageKey},"resumeFromPreviousUpload")},{key:"start",value:o(function(){var n=this,c=this.file;if(!c){this._emitError(new Error("tus: no file or stream to upload provided"));return}if(!this.options.endpoint&&!this.options.uploadUrl&&!this.url){this._emitError(new Error("tus: neither an endpoint or an upload URL is provided"));return}var p=this.options.retryDelays;if(p!=null&&Object.prototype.toString.call(p)!=="[object Array]"){this._emitError(new Error("tus: the `retryDelays` option must either be an array or null"));return}if(this.options.parallelUploads>1)for(var _=0,O=["uploadUrl","uploadSize","uploadLengthDeferred"];_<O.length;_++){var D=O[_];if(this.options[D]){this._emitError(new Error("tus: cannot use the ".concat(D," option when parallelUploads is enabled")));return}}if(this.options.parallelUploadBoundaries){if(this.options.parallelUploads<=1){this._emitError(new Error("tus: cannot use the `parallelUploadBoundaries` option when `parallelUploads` is disabled"));return}if(this.options.parallelUploads!==this.options.parallelUploadBoundaries.length){this._emitError(new Error("tus: the `parallelUploadBoundaries` must have the same length as the value of `parallelUploads`"));return}}this.options.fingerprint(c,this.options).then(function(N){return n._fingerprint=N,n._source?n._source:n.options.fileReader.openFile(c,n.options.chunkSize)}).then(function(N){if(n._source=N,n.options.uploadLengthDeferred)n._size=null;else if(n.options.uploadSize!=null){if(n._size=Number(n.options.uploadSize),Number.isNaN(n._size)){n._emitError(new Error("tus: cannot convert `uploadSize` option into a number"));return}}else if(n._size=n._source.size,n._size==null){n._emitError(new Error("tus: cannot automatically derive upload's size from input. Specify it manually using the `uploadSize` option or use the `uploadLengthDeferred` option"));return}n.options.parallelUploads>1||n._parallelUploadUrls!=null?n._startParallelUpload():n._startSingleUpload()}).catch(function(N){n._emitError(N)})},"start")},{key:"_startParallelUpload",value:o(function(){var n,c=this,p=this._size,_=0;this._parallelUploads=[];var O=this._parallelUploadUrls!=null?this._parallelUploadUrls.length:this.options.parallelUploads,D=(n=this.options.parallelUploadBoundaries)!==null&&n!==void 0?n:pO(this._source.size,O);this._parallelUploadUrls&&D.forEach(function(ie,X){ie.uploadUrl=c._parallelUploadUrls[X]||null}),this._parallelUploadUrls=new Array(D.length);var N=D.map(function(ie,X){var ae=0;return c._source.slice(ie.start,ie.end).then(function(ue){var xe=ue.value;return new Promise(function(We,Mt){var wt=Tc(Tc({},c.options),{},{uploadUrl:ie.uploadUrl||null,storeFingerprintForResuming:!1,removeFingerprintOnSuccess:!1,parallelUploads:1,parallelUploadBoundaries:null,metadata:{},headers:Tc(Tc({},c.options.headers),{},{"Upload-Concat":"partial"}),onSuccess:We,onError:Mt,onProgress:o(function(xi){_=_-ae+xi,ae=xi,c._emitProgress(_,p)},"onProgress"),_onUploadUrlAvailable:o(function(){c._parallelUploadUrls[X]=Ht.url,c._parallelUploadUrls.filter(function(xi){return!!xi}).length===D.length&&c._saveUploadInUrlStorage()},"_onUploadUrlAvailable")}),Ht=new r(xe,wt);Ht.start(),c._parallelUploads.push(Ht)})})}),Y;Promise.all(N).then(function(){Y=c._openRequest("POST",c.options.endpoint),Y.setHeader("Upload-Concat","final;".concat(c._parallelUploadUrls.join(" ")));var ie=ew(c.options.metadata);return ie!==""&&Y.setHeader("Upload-Metadata",ie),c._sendRequest(Y,null)}).then(function(ie){if(!Cc(ie.getStatus(),200)){c._emitHttpError(Y,ie,"tus: unexpected response while creating upload");return}var X=ie.getHeader("Location");if(X==null){c._emitHttpError(Y,ie,"tus: invalid or missing Location header");return}c.url=sw(c.options.endpoint,X),"Created upload at ".concat(c.url),c._emitSuccess()}).catch(function(ie){c._emitError(ie)})},"_startParallelUpload")},{key:"_startSingleUpload",value:o(function(){if(this._aborted=!1,this.url!=null){"Resuming upload from previous URL: ".concat(this.url),this._resumeUpload();return}if(this.options.uploadUrl!=null){"Resuming upload from provided URL: ".concat(this.options.uploadUrl),this.url=this.options.uploadUrl,this._resumeUpload();return}this._createUpload()},"_startSingleUpload")},{key:"abort",value:o(function(n){var c=this;return this._parallelUploads!=null&&this._parallelUploads.forEach(function(p){p.abort(n)}),this._req!==null&&this._req.abort(),this._aborted=!0,this._retryTimeout!=null&&(clearTimeout(this._retryTimeout),this._retryTimeout=null),!n||this.url==null?Promise.resolve():r.terminate(this.url,this.options).then(function(){return c._removeFromUrlStorage()})},"abort")},{key:"_emitHttpError",value:o(function(n,c,p,_){this._emitError(new ig(p,_,n,c))},"_emitHttpError")},{key:"_emitError",value:o(function(n){var c=this;if(!this._aborted){if(this.options.retryDelays!=null){var p=this._offset!=null&&this._offset>this._offsetBeforeRetry;if(p&&(this._retryAttempt=0),rw(n,this._retryAttempt,this.options)){var _=this.options.retryDelays[this._retryAttempt++];this._offsetBeforeRetry=this._offset,this._retryTimeout=setTimeout(function(){c.start()},_);return}}if(typeof this.options.onError=="function")this.options.onError(n);else throw n}},"_emitError")},{key:"_emitSuccess",value:o(function(){this.options.removeFingerprintOnSuccess&&this._removeFromUrlStorage(),typeof this.options.onSuccess=="function"&&this.options.onSuccess()},"_emitSuccess")},{key:"_emitProgress",value:o(function(n,c){typeof this.options.onProgress=="function"&&this.options.onProgress(n,c)},"_emitProgress")},{key:"_emitChunkComplete",value:o(function(n,c,p){typeof this.options.onChunkComplete=="function"&&this.options.onChunkComplete(n,c,p)},"_emitChunkComplete")},{key:"_createUpload",value:o(function(){var n=this;if(!this.options.endpoint){this._emitError(new Error("tus: unable to create upload because no endpoint is provided"));return}var c=this._openRequest("POST",this.options.endpoint);this.options.uploadLengthDeferred?c.setHeader("Upload-Defer-Length",1):c.setHeader("Upload-Length",this._size);var p=ew(this.options.metadata);p!==""&&c.setHeader("Upload-Metadata",p);var _;this.options.uploadDataDuringCreation&&!this.options.uploadLengthDeferred?(this._offset=0,_=this._addChunkToRequest(c)):_=this._sendRequest(c,null),_.then(function(O){if(!Cc(O.getStatus(),200)){n._emitHttpError(c,O,"tus: unexpected response while creating upload");return}var D=O.getHeader("Location");if(D==null){n._emitHttpError(c,O,"tus: invalid or missing Location header");return}if(n.url=sw(n.options.endpoint,D),"Created upload at ".concat(n.url),typeof n.options._onUploadUrlAvailable=="function"&&n.options._onUploadUrlAvailable(),n._size===0){n._emitSuccess(),n._source.close();return}n._saveUploadInUrlStorage().then(function(){n.options.uploadDataDuringCreation?n._handleUploadResponse(c,O):(n._offset=0,n._performUpload())})}).catch(function(O){n._emitHttpError(c,null,"tus: failed to create upload",O)})},"_createUpload")},{key:"_resumeUpload",value:o(function(){var n=this,c=this._openRequest("HEAD",this.url),p=this._sendRequest(c,null);p.then(function(_){var O=_.getStatus();if(!Cc(O,200)){if(O===423){n._emitHttpError(c,_,"tus: upload is currently locked; retry later");return}if(Cc(O,400)&&n._removeFromUrlStorage(),!n.options.endpoint){n._emitHttpError(c,_,"tus: unable to resume upload (new upload cannot be created without an endpoint)");return}n.url=null,n._createUpload();return}var D=parseInt(_.getHeader("Upload-Offset"),10);if(Number.isNaN(D)){n._emitHttpError(c,_,"tus: invalid or missing offset value");return}var N=parseInt(_.getHeader("Upload-Length"),10);if(Number.isNaN(N)&&!n.options.uploadLengthDeferred){n._emitHttpError(c,_,"tus: invalid or missing length value");return}typeof n.options._onUploadUrlAvailable=="function"&&n.options._onUploadUrlAvailable(),n._saveUploadInUrlStorage().then(function(){if(D===N){n._emitProgress(N,N),n._emitSuccess();return}n._offset=D,n._performUpload()})}).catch(function(_){n._emitHttpError(c,null,"tus: failed to resume upload",_)})},"_resumeUpload")},{key:"_performUpload",value:o(function(){var n=this;if(!this._aborted){var c;this.options.overridePatchMethod?(c=this._openRequest("POST",this.url),c.setHeader("X-HTTP-Method-Override","PATCH")):c=this._openRequest("PATCH",this.url),c.setHeader("Upload-Offset",this._offset);var p=this._addChunkToRequest(c);p.then(function(_){if(!Cc(_.getStatus(),200)){n._emitHttpError(c,_,"tus: unexpected response while uploading chunk");return}n._handleUploadResponse(c,_)}).catch(function(_){n._aborted||n._emitHttpError(c,null,"tus: failed to upload chunk at offset ".concat(n._offset),_)})}},"_performUpload")},{key:"_addChunkToRequest",value:o(function(n){var c=this,p=this._offset,_=this._offset+this.options.chunkSize;return n.setProgressHandler(function(O){c._emitProgress(p+O,c._size)}),n.setHeader("Content-Type","application/offset+octet-stream"),(_===1/0||_>this._size)&&!this.options.uploadLengthDeferred&&(_=this._size),this._source.slice(p,_).then(function(O){var D=O.value,N=O.done;return c.options.uploadLengthDeferred&&N&&(c._size=c._offset+(D&&D.size?D.size:0),n.setHeader("Upload-Length",c._size)),D===null?c._sendRequest(n):(c._emitProgress(c._offset,c._size),c._sendRequest(n,D))})},"_addChunkToRequest")},{key:"_handleUploadResponse",value:o(function(n,c){var p=parseInt(c.getHeader("Upload-Offset"),10);if(Number.isNaN(p)){this._emitHttpError(n,c,"tus: invalid or missing offset value");return}if(this._emitProgress(p,this._size),this._emitChunkComplete(p-this._offset,p,this._size),this._offset=p,p===this._size){this._emitSuccess(),this._source.close();return}this._performUpload()},"_handleUploadResponse")},{key:"_openRequest",value:o(function(n,c){var p=tw(n,c,this.options);return this._req=p,p},"_openRequest")},{key:"_removeFromUrlStorage",value:o(function(){var n=this;!this._urlStorageKey||(this._urlStorage.removeUpload(this._urlStorageKey).catch(function(c){n._emitError(c)}),this._urlStorageKey=null)},"_removeFromUrlStorage")},{key:"_saveUploadInUrlStorage",value:o(function(){var n=this;if(!this.options.storeFingerprintForResuming||!this._fingerprint||this._urlStorageKey!==null)return Promise.resolve();var c={size:this._size,metadata:this.options.metadata,creationTime:new Date().toString()};return this._parallelUploads?c.parallelUploadUrls=this._parallelUploadUrls:c.uploadUrl=this.url,this._urlStorage.addUpload(this._fingerprint,c).then(function(p){n._urlStorageKey=p})},"_saveUploadInUrlStorage")},{key:"_sendRequest",value:o(function(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return iw(n,c,this.options)},"_sendRequest")}],[{key:"terminate",value:o(function(n){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=tw("DELETE",n,c);return iw(p,null,c).then(function(_){if(_.getStatus()!==204)throw new ig("tus: unexpected response while terminating upload",null,p,_)}).catch(function(_){if(_ instanceof ig||(_=new ig("tus: failed to terminate upload",_,p,null)),!rw(_,0,c))throw _;var O=c.retryDelays[0],D=c.retryDelays.slice(1),N=Tc(Tc({},c),{},{retryDelays:D});return new Promise(function(Y){return setTimeout(Y,O)}).then(function(){return r.terminate(n,N)})})},"terminate")}]),r}();function ew(r){return Object.entries(r).map(function(n){var c=K0(n,2),p=c[0],_=c[1];return"".concat(p," ").concat(Nz.encode(String(_)))}).join(",")}o(ew,"encodeMetadata");function Cc(r,n){return r>=n&&r<n+100}o(Cc,"inStatusCategory");function tw(r,n,c){var p=c.httpStack.createRequest(r,n);p.setHeader("Tus-Resumable","1.0.0");var _=c.headers||{};if(Object.entries(_).forEach(function(D){var N=K0(D,2),Y=N[0],ie=N[1];p.setHeader(Y,ie)}),c.addRequestId){var O=sO();p.setHeader("X-Request-ID",O)}return p}o(tw,"openRequest");function iw(r,n,c){var p=typeof c.onBeforeRequest=="function"?Promise.resolve(c.onBeforeRequest(r)):Promise.resolve();return p.then(function(){return r.send(n).then(function(_){var O=typeof c.onAfterResponse=="function"?Promise.resolve(c.onAfterResponse(r,_)):Promise.resolve();return O.then(function(){return _})})})}o(iw,"sendRequest");function fO(){var r=!0;return typeof window<"u"&&"navigator"in window&&window.navigator.onLine===!1&&(r=!1),r}o(fO,"isOnline");function rw(r,n,c){if(c.retryDelays==null||n>=c.retryDelays.length||r.originalRequest==null)return!1;if(c&&typeof c.onShouldRetry=="function")return c.onShouldRetry(r,n,c);var p=r.originalResponse?r.originalResponse.getStatus():0;return(!Cc(p,400)||p===409||p===423)&&fO()}o(rw,"shouldRetry");function sw(r,n){return new zz.default(n,r).toString()}o(sw,"resolveUrl");function pO(r,n){for(var c=Math.floor(r/n),p=[],_=0;_<n;_++)p.push({start:c*_,end:c*(_+1)});return p[n-1].end=r,p}o(pO,"splitSizeIntoParts"),dO.defaultOptions=Wz;var aw=dO;function mO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(mO,"_classCallCheck");function nw(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(nw,"_defineProperties");function gO(r,n,c){return n&&nw(r.prototype,n),c&&nw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(gO,"_createClass");var jz=function(){function r(){mO(this,r)}return o(r,"NoopUrlStorage"),gO(r,[{key:"listAllUploads",value:o(function(){return Promise.resolve([])},"listAllUploads")},{key:"findUploadsByFingerprint",value:o(function(n){return Promise.resolve([])},"findUploadsByFingerprint")},{key:"removeUpload",value:o(function(n){return Promise.resolve()},"removeUpload")},{key:"addUpload",value:o(function(n,c){return Promise.resolve(null)},"addUpload")}]),r}();function yO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(yO,"_classCallCheck");function ow(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(ow,"_defineProperties");function vO(r,n,c){return n&&ow(r.prototype,n),c&&ow(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(vO,"_createClass");var lw=!1;try{lw="localStorage"in window,cw="tusSupport",localStorage.setItem(cw,localStorage.getItem(cw))}catch(r){if(r.code===r.SECURITY_ERR||r.code===r.QUOTA_EXCEEDED_ERR)lw=!1;else throw r}var cw,qz=lw,$z=function(){function r(){yO(this,r)}return o(r,"WebStorageUrlStorage"),vO(r,[{key:"findAllUploads",value:o(function(){var n=this._findEntries("tus::");return Promise.resolve(n)},"findAllUploads")},{key:"findUploadsByFingerprint",value:o(function(n){var c=this._findEntries("tus::".concat(n,"::"));return Promise.resolve(c)},"findUploadsByFingerprint")},{key:"removeUpload",value:o(function(n){return localStorage.removeItem(n),Promise.resolve()},"removeUpload")},{key:"addUpload",value:o(function(n,c){var p=Math.round(Math.random()*1e12),_="tus::".concat(n,"::").concat(p);return localStorage.setItem(_,JSON.stringify(c)),Promise.resolve(_)},"addUpload")},{key:"_findEntries",value:o(function(n){for(var c=[],p=0;p<localStorage.length;p++){var _=localStorage.key(p);if(_.indexOf(n)===0)try{var O=JSON.parse(localStorage.getItem(_));O.urlStorageKey=_,c.push(O)}catch{}}return c},"_findEntries")}]),r}();function rg(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(rg,"_classCallCheck");function hw(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(hw,"_defineProperties");function sg(r,n,c){return n&&hw(r.prototype,n),c&&hw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(sg,"_createClass");var Vz=function(){function r(){rg(this,r)}return o(r,"XHRHttpStack"),sg(r,[{key:"createRequest",value:o(function(n,c){return new Yz(n,c)},"createRequest")},{key:"getName",value:o(function(){return"XHRHttpStack"},"getName")}]),r}(),Yz=function(){function r(n,c){rg(this,r),this._xhr=new XMLHttpRequest,this._xhr.open(n,c,!0),this._method=n,this._url=c,this._headers={}}return o(r,"Request"),sg(r,[{key:"getMethod",value:o(function(){return this._method},"getMethod")},{key:"getURL",value:o(function(){return this._url},"getURL")},{key:"setHeader",value:o(function(n,c){this._xhr.setRequestHeader(n,c),this._headers[n]=c},"setHeader")},{key:"getHeader",value:o(function(n){return this._headers[n]},"getHeader")},{key:"setProgressHandler",value:o(function(n){"upload"in this._xhr&&(this._xhr.upload.onprogress=function(c){!c.lengthComputable||n(c.loaded)})},"setProgressHandler")},{key:"send",value:o(function(){var n=this,c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return new Promise(function(p,_){n._xhr.onload=function(){p(new Gz(n._xhr))},n._xhr.onerror=function(O){_(O)},n._xhr.send(c)})},"send")},{key:"abort",value:o(function(){return this._xhr.abort(),Promise.resolve()},"abort")},{key:"getUnderlyingObject",value:o(function(){return this._xhr},"getUnderlyingObject")}]),r}(),Gz=function(){function r(n){rg(this,r),this._xhr=n}return o(r,"Response"),sg(r,[{key:"getStatus",value:o(function(){return this._xhr.status},"getStatus")},{key:"getHeader",value:o(function(n){return this._xhr.getResponseHeader(n)},"getHeader")},{key:"getBody",value:o(function(){return this._xhr.responseText},"getBody")},{key:"getUnderlyingObject",value:o(function(){return this._xhr},"getUnderlyingObject")}]),r}(),Xz=o(function(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"},"isReactNative"),bO=Xz;function wO(r){return new Promise(function(n,c){var p=new XMLHttpRequest;p.responseType="blob",p.onload=function(){var _=p.response;n(_)},p.onerror=function(_){c(_)},p.open("GET",r),p.send()})}o(wO,"uriToBlob");var Kz=o(function(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")},"isCordova"),Zz=Kz;function _O(r){return new Promise(function(n,c){var p=new FileReader;p.onload=function(){var _=new Uint8Array(p.result);n({value:_})},p.onerror=function(_){c(_)},p.readAsArrayBuffer(r)})}o(_O,"readAsByteArray");function xO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(xO,"_classCallCheck");function uw(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(uw,"_defineProperties");function kO(r,n,c){return n&&uw(r.prototype,n),c&&uw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(kO,"_createClass");var SO=function(){function r(n){xO(this,r),this._file=n,this.size=n.size}return o(r,"FileSource"),kO(r,[{key:"slice",value:o(function(n,c){if(Zz())return _O(this._file.slice(n,c));var p=this._file.slice(n,c);return Promise.resolve({value:p})},"slice")},{key:"close",value:o(function(){},"close")}]),r}();function TO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(TO,"_classCallCheck");function dw(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(dw,"_defineProperties");function CO(r,n,c){return n&&dw(r.prototype,n),c&&dw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(CO,"_createClass");function fw(r){return r===void 0?0:r.size!==void 0?r.size:r.length}o(fw,"len");function EO(r,n){if(r.concat)return r.concat(n);if(r instanceof Blob)return new Blob([r,n],{type:r.type});if(r.set){var c=new r.constructor(r.length+n.length);return c.set(r),c.set(n,r.length),c}throw new Error("Unknown data type")}o(EO,"concat");var Qz=function(){function r(n){TO(this,r),this._buffer=void 0,this._bufferOffset=0,this._reader=n,this._done=!1}return o(r,"StreamSource"),CO(r,[{key:"slice",value:o(function(n,c){return n<this._bufferOffset?Promise.reject(new Error("Requested data is before the reader's current offset")):this._readUntilEnoughDataOrDone(n,c)},"slice")},{key:"_readUntilEnoughDataOrDone",value:o(function(n,c){var p=this,_=c<=this._bufferOffset+fw(this._buffer);if(this._done||_){var O=this._getDataFromBuffer(n,c),D=O==null?this._done:!1;return Promise.resolve({value:O,done:D})}return this._reader.read().then(function(N){var Y=N.value,ie=N.done;return ie?p._done=!0:p._buffer===void 0?p._buffer=Y:p._buffer=EO(p._buffer,Y),p._readUntilEnoughDataOrDone(n,c)})},"_readUntilEnoughDataOrDone")},{key:"_getDataFromBuffer",value:o(function(n,c){n>this._bufferOffset&&(this._buffer=this._buffer.slice(n-this._bufferOffset),this._bufferOffset=n);var p=fw(this._buffer)===0;return this._done&&p?null:this._buffer.slice(0,c-n)},"_getDataFromBuffer")},{key:"close",value:o(function(){this._reader.cancel&&this._reader.cancel()},"close")}]),r}();function OO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(OO,"_classCallCheck");function pw(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(pw,"_defineProperties");function AO(r,n,c){return n&&pw(r.prototype,n),c&&pw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(AO,"_createClass");var Jz=function(){function r(){OO(this,r)}return o(r,"FileReader"),AO(r,[{key:"openFile",value:o(function(n,c){return bO()&&n&&typeof n.uri<"u"?wO(n.uri).then(function(p){return new SO(p)}).catch(function(p){throw new Error("tus: cannot fetch `file.uri` as Blob, make sure the uri is correct and accessible. ".concat(p))}):typeof n.slice=="function"&&typeof n.size<"u"?Promise.resolve(new SO(n)):typeof n.read=="function"?(c=Number(c),Number.isFinite(c)?Promise.resolve(new Qz(n,c)):Promise.reject(new Error("cannot create source for stream without a finite value for the `chunkSize` option"))):Promise.reject(new Error("source object may only be an instance of File, Blob, or Reader in this environment"))},"openFile")}]),r}();function PO(r,n){return bO()?Promise.resolve(MO(r,n)):Promise.resolve(["tus-br",r.name,r.type,r.size,r.lastModified,n.endpoint].join("-"))}o(PO,"fingerprint");function MO(r,n){var c=r.exif?LO(JSON.stringify(r.exif)):"noexif";return["tus-rn",r.name||"noname",r.size||"nosize",c,n.endpoint].join("/")}o(MO,"reactNativeFingerprint");function LO(r){var n=0;if(r.length===0)return n;for(var c=0;c<r.length;c++){var p=r.charCodeAt(c);n=(n<<5)-n+p,n&=n}return n}o(LO,"hashCode");function ag(r){return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},ag(r)}o(ag,"_typeof");function RO(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}o(RO,"_classCallCheck");function mw(r,n){for(var c=0;c<n.length;c++){var p=n[c];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(r,p.key,p)}}o(mw,"_defineProperties");function FO(r,n,c){return n&&mw(r.prototype,n),c&&mw(r,c),Object.defineProperty(r,"prototype",{writable:!1}),r}o(FO,"_createClass");function DO(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),n&&ng(r,n)}o(DO,"_inherits");function ng(r,n){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():o(function(c,p){return c.__proto__=p,c},"_setPrototypeOf"),ng(r,n)}o(ng,"_setPrototypeOf");function IO(r){var n=zO();return o(function(){var c=Wd(r),p;if(n){var _=Wd(this).constructor;p=Reflect.construct(c,arguments,_)}else p=c.apply(this,arguments);return BO(this,p)},"_createSuperInternal")}o(IO,"_createSuper");function BO(r,n){if(n&&(ag(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NO(r)}o(BO,"_possibleConstructorReturn");function NO(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}o(NO,"_assertThisInitialized");function zO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}o(zO,"_isNativeReflectConstruct");function Wd(r){return Wd=Object.setPrototypeOf?Object.getPrototypeOf.bind():o(function(n){return n.__proto__||Object.getPrototypeOf(n)},"_getPrototypeOf"),Wd(r)}o(Wd,"_getPrototypeOf");function gw(r,n){var c=Object.keys(r);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(r);n&&(p=p.filter(function(_){return Object.getOwnPropertyDescriptor(r,_).enumerable})),c.push.apply(c,p)}return c}o(gw,"ownKeys");function Ec(r){for(var n=1;n<arguments.length;n++){var c=arguments[n]!=null?arguments[n]:{};n%2?gw(Object(c),!0).forEach(function(p){UO(r,p,c[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(c)):gw(Object(c)).forEach(function(p){Object.defineProperty(r,p,Object.getOwnPropertyDescriptor(c,p))})}return r}o(Ec,"_objectSpread");function UO(r,n,c){return n in r?Object.defineProperty(r,n,{value:c,enumerable:!0,configurable:!0,writable:!0}):r[n]=c,r}o(UO,"_defineProperty");var yw=Ec(Ec({},aw.defaultOptions),{},{httpStack:new Vz,fileReader:new Jz,urlStorage:qz?new $z:new jz,fingerprint:PO}),e9=function(r){DO(c,r);var n=IO(c);function c(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return RO(this,c),_=Ec(Ec({},yw),_),n.call(this,p,_)}return o(c,"Upload"),FO(c,null,[{key:"terminate",value:o(function(p,_,O){return _=Ec(Ec({},yw),_),aw.terminate(p,_,O)},"terminate")}]),c}(aw);function vw(r){let n=[],c=[];function p(O){n.push(O)}o(p,"resolved");function _(O){c.push(O)}return o(_,"rejected"),Promise.all(r.map(O=>O.then(p,_))).then(()=>({successful:n,failed:c}))}o(vw,"settle");function HO(){return typeof window<"u"&&(typeof window.PhoneGap<"u"||typeof window.Cordova<"u"||typeof window.cordova<"u")}o(HO,"isCordova");function WO(){return typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative"}o(WO,"isReactNative");function jO(r){return(n,c)=>{if(HO()||WO())return yw.fingerprint(n,c);let p=["tus",r.id,c.endpoint].join("-");return Promise.resolve(p)}}o(jO,"getFingerprint");function Yh(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Yh,"_classPrivateFieldLooseBase");var t9=0;function og(r){return"__private_"+t9+++"_"+r}o(og,"_classPrivateFieldLooseKey");var i9={version:"3.0.5"},qO={endpoint:"",uploadUrl:null,metadata:{},uploadSize:null,onProgress:null,onChunkComplete:null,onSuccess:null,onError:null,overridePatchMethod:!1,headers:{},addRequestId:!1,chunkSize:1/0,retryDelays:[100,1e3,3e3,5e3],parallelUploads:1,removeFingerprintOnSuccess:!1,uploadLengthDeferred:!1,uploadDataDuringCreation:!1},jd=og("retryDelayIterator"),qd=og("queueRequestSocketToken"),bw=og("requestSocketToken"),$d=class extends $e{constructor(r,n){var c,p;super(r,n),Object.defineProperty(this,jd,{writable:!0,value:void 0}),Object.defineProperty(this,qd,{writable:!0,value:void 0}),Object.defineProperty(this,bw,{writable:!0,value:async O=>{let D=O.remote.providerOptions.provider?is:za,N=new D(this.uppy,O.remote.providerOptions),Y={...this.opts};return O.tus&&Object.assign(Y,O.tus),(await N.post(O.remote.url,{...O.remote.body,endpoint:Y.endpoint,uploadUrl:Y.uploadUrl,protocol:"tus",size:O.data.size,headers:Y.headers,metadata:O.meta})).token}}),this.type="uploader",this.id=this.opts.id||"Tus",this.title="Tus";let _={useFastRemoteRetry:!0,limit:20,retryDelays:qO.retryDelays,withCredentials:!1};if(this.opts={..._,...n},(n==null?void 0:n.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");if("autoRetry"in n)throw new Error("The `autoRetry` option was deprecated and has been removed.");this.requests=(c=this.opts.rateLimitedQueue)!=null?c:new uc(this.opts.limit),Yh(this,jd)[jd]=(p=this.opts.retryDelays)==null?void 0:p.values(),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null),this.uploaderSockets=Object.create(null),this.handleResetProgress=this.handleResetProgress.bind(this),this.handleUpload=this.handleUpload.bind(this),Yh(this,qd)[qd]=this.requests.wrapPromiseFunction(Yh(this,bw)[bw],{priority:-1})}handleResetProgress(){let r={...this.uppy.getState().files};Object.keys(r).forEach(n=>{if(r[n].tus&&r[n].tus.uploadUrl){let c={...r[n].tus};delete c.uploadUrl,r[n]={...r[n],tus:c}}}),this.uppy.setState({files:r})}resetUploaderReferences(r,n){if(n===void 0&&(n={}),this.uploaders[r]){let c=this.uploaders[r];c.abort(),n.abort&&c.abort(!0),this.uploaders[r]=null}this.uploaderEvents[r]&&(this.uploaderEvents[r].remove(),this.uploaderEvents[r]=null),this.uploaderSockets[r]&&(this.uploaderSockets[r].close(),this.uploaderSockets[r]=null)}upload(r){var n=this;return this.resetUploaderReferences(r.id),new Promise((c,p)=>{let _,O,D;this.uppy.emit("upload-started",r);let N={...this.opts,...r.tus||{}};typeof N.headers=="function"&&(N.headers=N.headers(r));let Y={...qO,...N};Y.fingerprint=jO(r),Y.onBeforeRequest=ue=>{let xe=ue.getUnderlyingObject();xe.withCredentials=!!N.withCredentials;let We;if(typeof N.onBeforeRequest=="function"&&(We=N.onBeforeRequest(ue,r)),x(_,"shouldBeRequeued")){if(!_.shouldBeRequeued)return Promise.reject();let Mt,wt=new Promise(Ht=>{Mt=Ht});return _=this.requests.run(()=>(r.isPaused&&_.abort(),Mt(),()=>{})),Promise.all([wt,We])}return We},Y.onError=ue=>{var xe;this.uppy.log(ue);let We=ue.originalRequest?ue.originalRequest.getUnderlyingObject():null;Km(We)&&(ue=new ii(ue,We)),this.resetUploaderReferences(r.id),(xe=_)==null||xe.abort(),this.uppy.emit("upload-error",r,ue),p(ue)},Y.onProgress=(ue,xe)=>{this.onReceiveUploadUrl(r,D.url),this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:ue,bytesTotal:xe})},Y.onSuccess=()=>{let ue={uploadURL:D.url};this.resetUploaderReferences(r.id),_.done(),this.uppy.emit("upload-success",r,ue),D.url&&this.uppy.log(`Download ${D.file.name} from ${D.url}`),c(D)};let ie=o(ue=>{var xe;let We=ue==null||(xe=ue.originalResponse)==null?void 0:xe.getStatus();if(We===429){if(!this.requests.isPaused){var Mt;let wt=(Mt=Yh(this,jd)[jd])==null?void 0:Mt.next();if(wt==null||wt.done)return!1;this.requests.rateLimit(wt.value)}}else{if(We>400&&We<500&&We!==409)return!1;typeof navigator<"u"&&navigator.onLine===!1&&(this.requests.isPaused||(this.requests.pause(),window.addEventListener("online",()=>{this.requests.resume()},{once:!0})))}return _.abort(),_={shouldBeRequeued:!0,abort(){this.shouldBeRequeued=!1},done(){throw new Error("Cannot mark a queued request as done: this indicates a bug")},fn(){throw new Error("Cannot run a queued request: this indicates a bug")}},!0},"defaultOnShouldRetry");N.onShouldRetry!=null?Y.onShouldRetry=function(){for(var ue=arguments.length,xe=new Array(ue),We=0;We<ue;We++)xe[We]=arguments[We];return N.onShouldRetry(...xe,ie)}:Y.onShouldRetry=ie;let X=o((ue,xe,We)=>{x(ue,xe)&&!x(ue,We)&&(ue[We]=ue[xe])},"copyProp"),ae={};(Array.isArray(N.allowedMetaFields)?N.allowedMetaFields:Object.keys(r.meta)).forEach(ue=>{ae[ue]=r.meta[ue]}),X(ae,"type","filetype"),X(ae,"name","filename"),Y.metadata=ae,D=new e9(r.data,Y),this.uploaders[r.id]=D,this.uploaderEvents[r.id]=new Io(this.uppy),O=o(()=>(r.isPaused||D.start(),()=>{}),"qRequest"),D.findPreviousUploads().then(ue=>{let xe=ue[0];xe&&(this.uppy.log(`[Tus] Resuming upload of ${r.id} started at ${xe.creationTime}`),D.resumeFromPreviousUpload(xe))}),_=this.requests.run(O),this.onFileRemove(r.id,ue=>{_.abort(),this.resetUploaderReferences(r.id,{abort:!!D.url}),c(`upload ${ue} was removed`)}),this.onPause(r.id,ue=>{_.abort(),ue?D.abort():_=this.requests.run(O)}),this.onPauseAll(r.id,()=>{_.abort(),D.abort()}),this.onCancelAll(r.id,function(ue){let{reason:xe}=ue===void 0?{}:ue;xe==="user"&&(_.abort(),n.resetUploaderReferences(r.id,{abort:!!D.url})),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{_.abort(),r.error&&D.abort(),_=this.requests.run(O)})}).catch(c=>{throw this.uppy.emit("upload-error",r,c),c})}async uploadRemote(r){this.resetUploaderReferences(r.id),(!r.progress.uploadStarted||!r.isRestored)&&this.uppy.emit("upload-started",r);try{if(r.serverToken)return this.connectToServerSocket(r);let n=await Yh(this,qd)[qd](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:n}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(n){throw this.uppy.emit("upload-error",r,n),n}}connectToServerSocket(r){var n=this;return new Promise((c,p)=>{let _=r.serverToken,O=wd(r.remote.companionUrl),D=new Lh({target:`${O}/api/${_}`});this.uploaderSockets[r.id]=D,this.uploaderEvents[r.id]=new Io(this.uppy);let N;this.onFileRemove(r.id,()=>{N.abort(),D.send("cancel",{}),this.resetUploaderReferences(r.id),c(`upload ${r.id} was removed`)}),this.onPause(r.id,Y=>{Y?(N.abort(),D.send("pause",{})):(N.abort(),N=this.requests.run(()=>(D.send("resume",{}),()=>{})))}),this.onPauseAll(r.id,()=>{N.abort(),D.send("pause",{})}),this.onCancelAll(r.id,function(Y){let{reason:ie}=Y===void 0?{}:Y;ie==="user"&&(N.abort(),D.send("cancel",{}),n.resetUploaderReferences(r.id)),c(`upload ${r.id} was canceled`)}),this.onResumeAll(r.id,()=>{N.abort(),r.error&&D.send("pause",{}),N=this.requests.run(()=>(D.send("resume",{}),()=>{}))}),this.onRetry(r.id,()=>{D.isOpen&&(D.send("pause",{}),D.send("resume",{}))}),this.onRetryAll(r.id,()=>{D.isOpen&&(D.send("pause",{}),D.send("resume",{}))}),D.on("progress",Y=>Xm(this,Y,r)),D.on("error",Y=>{let{message:ie}=Y.error,X=Object.assign(new Error(ie),{cause:Y.error});this.opts.useFastRemoteRetry?D.close():(this.resetUploaderReferences(r.id),this.uppy.setFileState(r.id,{serverToken:null})),this.uppy.emit("upload-error",r,X),N.done(),p(X)}),D.on("success",Y=>{let ie={uploadURL:Y.url};this.uppy.emit("upload-success",r,ie),this.resetUploaderReferences(r.id),N.done(),c()}),N=this.requests.run(()=>(r.isPaused&&D.send("pause",{}),()=>{}))})}onReceiveUploadUrl(r,n){let c=this.uppy.getFile(r.id);!c||(!c.tus||c.tus.uploadUrl!==n)&&(this.uppy.log("[Tus] Storing upload url"),this.uppy.setFileState(c.id,{tus:{...c.tus,uploadUrl:n}}))}onFileRemove(r,n){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&n(c.id)})}onPause(r,n){this.uploaderEvents[r].on("upload-pause",(c,p)=>{r===c&&n(p)})}onRetry(r,n){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&n()})}onRetryAll(r,n){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||n()})}onPauseAll(r,n){this.uploaderEvents[r].on("pause-all",()=>{!this.uppy.getFile(r)||n()})}onCancelAll(r,n){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||n(...arguments)})}onResumeAll(r,n){this.uploaderEvents[r].on("resume-all",()=>{!this.uppy.getFile(r)||n()})}uploadFiles(r){let n=r.map((c,p)=>{let _=p+1,O=r.length;return"error"in c&&c.error?Promise.reject(new Error(c.error)):c.isRemote?((!c.progress.uploadStarted||!c.isRestored)&&this.uppy.emit("upload-started",c),this.uploadRemote(c,_,O)):((!c.progress.uploadStarted||!c.isRestored)&&this.uppy.emit("upload-started",c),this.upload(c,_,O))});return vw(n)}handleUpload(r){if(r.length===0)return this.uppy.log("[Tus] No files to upload"),Promise.resolve();this.opts.limit===0&&this.uppy.log("[Tus] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/tus/#limit-0","warning"),this.uppy.log("[Tus] Uploading...");let n=r.map(c=>this.uppy.getFile(c));return this.uploadFiles(n).then(()=>null)}install(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!0}}),this.uppy.addUploader(this.handleUpload),this.uppy.on("reset-progress",this.handleResetProgress)}uninstall(){this.uppy.setState({capabilities:{...this.uppy.getState().capabilities,resumableUploads:!1}}),this.uppy.removeUploader(this.handleUpload)}};o($d,"Tus"),$d.VERSION=i9.version;var r9=f(U(),1),Kn=Object.create(null);Kn.open="0",Kn.close="1",Kn.ping="2",Kn.pong="3",Kn.message="4",Kn.upgrade="5",Kn.noop="6";var lg=Object.create(null);Object.keys(Kn).forEach(r=>{lg[Kn[r]]=r});var s9={type:"error",data:"parser error"},a9=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",n9=typeof ArrayBuffer=="function",o9=o(r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r&&r.buffer instanceof ArrayBuffer,"isView"),l9=o(({type:r,data:n},c,p)=>a9&&n instanceof Blob?c?p(n):$O(n,p):n9&&(n instanceof ArrayBuffer||o9(n))?c?p(n):$O(new Blob([n]),p):p(Kn[r]+(n||"")),"encodePacket"),$O=o((r,n)=>{let c=new FileReader;return c.onload=function(){let p=c.result.split(",")[1];n("b"+p)},c.readAsDataURL(r)},"encodeBlobAsBase64"),VO=l9,YO="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vd=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let r=0;r<YO.length;r++)Vd[YO.charCodeAt(r)]=r;var c9=o(r=>{let n=r.length*.75,c=r.length,p,_=0,O,D,N,Y;r[r.length-1]==="="&&(n--,r[r.length-2]==="="&&n--);let ie=new ArrayBuffer(n),X=new Uint8Array(ie);for(p=0;p<c;p+=4)O=Vd[r.charCodeAt(p)],D=Vd[r.charCodeAt(p+1)],N=Vd[r.charCodeAt(p+2)],Y=Vd[r.charCodeAt(p+3)],X[_++]=O<<2|D>>4,X[_++]=(D&15)<<4|N>>2,X[_++]=(N&3)<<6|Y&63;return ie},"decode"),h9=typeof ArrayBuffer=="function",u9=o((r,n)=>{if(typeof r!="string")return{type:"message",data:GO(r,n)};let c=r.charAt(0);return c==="b"?{type:"message",data:d9(r.substring(1),n)}:lg[c]?r.length>1?{type:lg[c],data:r.substring(1)}:{type:lg[c]}:s9},"decodePacket"),d9=o((r,n)=>{if(h9){let c=c9(r);return GO(c,n)}else return{base64:!0,data:r}},"decodeBase64Packet"),GO=o((r,n)=>{switch(n){case"blob":return r instanceof ArrayBuffer?new Blob([r]):r;case"arraybuffer":default:return r}},"mapBinary"),XO=u9,KO="",f9=o((r,n)=>{let c=r.length,p=new Array(c),_=0;r.forEach((O,D)=>{VO(O,!1,N=>{p[D]=N,++_===c&&n(p.join(KO))})})},"encodePayload"),p9=o((r,n)=>{let c=r.split(KO),p=[];for(let _=0;_<c.length;_++){let O=XO(c[_],n);if(p.push(O),O.type==="error")break}return p},"decodePayload"),ZO=4;function ss(r){if(r)return QO(r)}o(ss,"Emitter");function QO(r){for(var n in ss.prototype)r[n]=ss.prototype[n];return r}o(QO,"mixin"),ss.prototype.on=ss.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},ss.prototype.once=function(r,n){function c(){this.off(r,c),n.apply(this,arguments)}return o(c,"on"),c.fn=n,this.on(r,c),this},ss.prototype.off=ss.prototype.removeListener=ss.prototype.removeAllListeners=ss.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var c=this._callbacks["$"+r];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var p,_=0;_<c.length;_++)if(p=c[_],p===n||p.fn===n){c.splice(_,1);break}return c.length===0&&delete this._callbacks["$"+r],this},ss.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),c=this._callbacks["$"+r],p=1;p<arguments.length;p++)n[p-1]=arguments[p];if(c){c=c.slice(0);for(var p=0,_=c.length;p<_;++p)c[p].apply(this,n)}return this},ss.prototype.emitReserved=ss.prototype.emit,ss.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},ss.prototype.hasListeners=function(r){return!!this.listeners(r).length};var Sl=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function ww(r,...n){return n.reduce((c,p)=>(r.hasOwnProperty(p)&&(c[p]=r[p]),c),{})}o(ww,"pick");var m9=setTimeout,g9=clearTimeout;function Yd(r,n){n.useNativeTimers?(r.setTimeoutFn=m9.bind(Sl),r.clearTimeoutFn=g9.bind(Sl)):(r.setTimeoutFn=setTimeout.bind(Sl),r.clearTimeoutFn=clearTimeout.bind(Sl))}o(Yd,"installTimerFunctions");var y9=1.33;function JO(r){return typeof r=="string"?eA(r):Math.ceil((r.byteLength||r.size)*y9)}o(JO,"byteLength");function eA(r){let n=0,c=0;for(let p=0,_=r.length;p<_;p++)n=r.charCodeAt(p),n<128?c+=1:n<2048?c+=2:n<55296||n>=57344?c+=3:(p++,c+=4);return c}o(eA,"utf8Length");var tA=class extends Error{constructor(r,n,c){super(r),this.description=n,this.context=c,this.type="TransportError"}};o(tA,"TransportError");var _w=class extends ss{constructor(r){super(),this.writable=!1,Yd(this,r),this.opts=r,this.query=r.query,this.readyState="",this.socket=r.socket}onError(r,n,c){return super.emitReserved("error",new tA(r,n,c)),this}open(){return(this.readyState==="closed"||this.readyState==="")&&(this.readyState="opening",this.doOpen()),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(r){this.readyState==="open"&&this.write(r)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(r){let n=XO(r,this.socket.binaryType);this.onPacket(n)}onPacket(r){super.emitReserved("packet",r)}onClose(r){this.readyState="closed",super.emitReserved("close",r)}};o(_w,"Transport");var iA="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),xw=64,v9={},rA=0,cg=0,sA;function kw(r){let n="";do n=iA[r%xw]+n,r=Math.floor(r/xw);while(r>0);return n}o(kw,"encode");function Sw(){let r=kw(+new Date);return r!==sA?(rA=0,sA=r):r+"."+kw(rA++)}for(o(Sw,"yeast");cg<xw;cg++)v9[iA[cg]]=cg;function Tw(r){let n="";for(let c in r)r.hasOwnProperty(c)&&(n.length&&(n+="&"),n+=encodeURIComponent(c)+"="+encodeURIComponent(r[c]));return n}o(Tw,"encode");function aA(r){let n={},c=r.split("&");for(let p=0,_=c.length;p<_;p++){let O=c[p].split("=");n[decodeURIComponent(O[0])]=decodeURIComponent(O[1])}return n}o(aA,"decode");var nA=!1;try{nA=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var b9=nA;function Cw(r){let n=r.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||b9))return new XMLHttpRequest}catch{}if(!n)try{return new Sl[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}o(Cw,"XHR");function oA(){}o(oA,"empty");var w9=function(){return new Cw({xdomain:!1}).responseType!=null}(),lA=class extends _w{constructor(r){if(super(r),this.polling=!1,typeof location<"u"){let c=location.protocol==="https:",p=location.port;p||(p=c?"443":"80"),this.xd=typeof location<"u"&&r.hostname!==location.hostname||p!==r.port,this.xs=r.secure!==c}let n=r&&r.forceBase64;this.supportsBinary=w9&&!n}get name(){return"polling"}doOpen(){this.poll()}pause(r){this.readyState="pausing";let n=o(()=>{this.readyState="paused",r()},"pause");if(this.polling||!this.writable){let c=0;this.polling&&(c++,this.once("pollComplete",function(){--c||n()})),this.writable||(c++,this.once("drain",function(){--c||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(r){let n=o(c=>{if(this.readyState==="opening"&&c.type==="open"&&this.onOpen(),c.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(c)},"callback");p9(r,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){let r=o(()=>{this.write([{type:"close"}])},"close");this.readyState==="open"?r():this.once("open",r)}write(r){this.writable=!1,f9(r,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let r=this.query||{},n=this.opts.secure?"https":"http",c="";this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Sw()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port);let p=Tw(r),_=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+(p.length?"?"+p:"")}request(r={}){return Object.assign(r,{xd:this.xd,xs:this.xs},this.opts),new Zn(this.uri(),r)}doWrite(r,n){let c=this.request({method:"POST",data:r});c.on("success",n),c.on("error",(p,_)=>{this.onError("xhr post error",p,_)})}doPoll(){let r=this.request();r.on("data",this.onData.bind(this)),r.on("error",(n,c)=>{this.onError("xhr poll error",n,c)}),this.pollXhr=r}};o(lA,"Polling");var Zn=class extends ss{constructor(r,n){super(),Yd(this,n),this.opts=n,this.method=n.method||"GET",this.uri=r,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){let r=ww(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this.opts.xd,r.xscheme=!!this.opts.xs;let n=this.xhr=new Cw(r);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let c in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(c)&&n.setRequestHeader(c,this.opts.extraHeaders[c])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(c){this.setTimeoutFn(()=>{this.onError(c)},0);return}typeof document<"u"&&(this.index=Zn.requestsCount++,Zn.requests[this.index]=this)}onError(r){this.emitReserved("error",r,this.xhr),this.cleanup(!0)}cleanup(r){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=oA,r)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Zn.requests[this.index],this.xhr=null}}onLoad(){let r=this.xhr.responseText;r!==null&&(this.emitReserved("data",r),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}};if(o(Zn,"Request"),Zn.requestsCount=0,Zn.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Ew);else if(typeof addEventListener=="function"){let r="onpagehide"in Sl?"pagehide":"unload";addEventListener(r,Ew,!1)}}function Ew(){for(let r in Zn.requests)Zn.requests.hasOwnProperty(r)&&Zn.requests[r].abort()}o(Ew,"unloadHandler");var _9=typeof Promise=="function"&&typeof Promise.resolve=="function"?r=>Promise.resolve().then(r):(r,n)=>n(r,0),hg=Sl.WebSocket||Sl.MozWebSocket,cA=!0,x9="arraybuffer",hA=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",uA=class extends _w{constructor(r){super(r),this.supportsBinary=!r.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;let r=this.uri(),n=this.opts.protocols,c=hA?{}:ww(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(c.headers=this.opts.extraHeaders);try{this.ws=cA&&!hA?n?new hg(r,n):new hg(r):new hg(r,n,c)}catch(p){return this.emitReserved("error",p)}this.ws.binaryType=this.socket.binaryType||x9,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=r=>this.onClose({description:"websocket connection closed",context:r}),this.ws.onmessage=r=>this.onData(r.data),this.ws.onerror=r=>this.onError("websocket error",r)}write(r){this.writable=!1;for(let n=0;n<r.length;n++){let c=r[n],p=n===r.length-1;VO(c,this.supportsBinary,_=>{let O={};try{cA?this.ws.send(_):this.ws.send(_,O)}catch{}p&&_9(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){let r=this.query||{},n=this.opts.secure?"wss":"ws",c="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(c=":"+this.opts.port),this.opts.timestampRequests&&(r[this.opts.timestampParam]=Sw()),this.supportsBinary||(r.b64=1);let p=Tw(r),_=this.opts.hostname.indexOf(":")!==-1;return n+"://"+(_?"["+this.opts.hostname+"]":this.opts.hostname)+c+this.opts.path+(p.length?"?"+p:"")}check(){return!!hg}};o(uA,"WS");var k9={websocket:uA,polling:lA},S9=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,T9=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ug(r){let n=r,c=r.indexOf("["),p=r.indexOf("]");c!=-1&&p!=-1&&(r=r.substring(0,c)+r.substring(c,p).replace(/:/g,";")+r.substring(p,r.length));let _=S9.exec(r||""),O={},D=14;for(;D--;)O[T9[D]]=_[D]||"";return c!=-1&&p!=-1&&(O.source=n,O.host=O.host.substring(1,O.host.length-1).replace(/;/g,":"),O.authority=O.authority.replace("[","").replace("]","").replace(/;/g,":"),O.ipv6uri=!0),O.pathNames=dA(O,O.path),O.queryKey=fA(O,O.query),O}o(ug,"parse");function dA(r,n){let c=/\/{2,9}/g,p=n.replace(c,"/").split("/");return(n.substr(0,1)=="/"||n.length===0)&&p.splice(0,1),n.substr(n.length-1,1)=="/"&&p.splice(p.length-1,1),p}o(dA,"pathNames");function fA(r,n){let c={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(p,_,O){_&&(c[_]=O)}),c}o(fA,"queryKey");var Uo=class extends ss{constructor(r,n={}){super(),r&&typeof r=="object"&&(n=r,r=null),r?(r=ug(r),n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)):n.host&&(n.hostname=ug(n.host).host),Yd(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=aA(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(r){let n=Object.assign({},this.opts.query);n.EIO=ZO,n.transport=r,this.id&&(n.sid=this.id);let c=Object.assign({},this.opts.transportOptions[r],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new k9[r](c)}open(){let r;if(this.opts.rememberUpgrade&&Uo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)r="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else r=this.transports[0];this.readyState="opening";try{r=this.createTransport(r)}catch{this.transports.shift(),this.open();return}r.open(),this.setTransport(r)}setTransport(r){this.transport&&this.transport.removeAllListeners(),this.transport=r,r.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",n=>this.onClose("transport close",n))}probe(r){let n=this.createTransport(r),c=!1;Uo.priorWebsocketSuccess=!1;let p=o(()=>{c||(n.send([{type:"ping",data:"probe"}]),n.once("packet",X=>{if(!c)if(X.type==="pong"&&X.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Uo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{c||this.readyState!=="closed"&&(ie(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let ae=new Error("probe error");ae.transport=n.name,this.emitReserved("upgradeError",ae)}}))},"onTransportOpen");function _(){c||(c=!0,ie(),n.close(),n=null)}o(_,"freezeTransport");let O=o(X=>{let ae=new Error("probe error: "+X);ae.transport=n.name,_(),this.emitReserved("upgradeError",ae)},"onerror");function D(){O("transport closed")}o(D,"onTransportClose");function N(){O("socket closed")}o(N,"onclose");function Y(X){n&&X.name!==n.name&&_()}o(Y,"onupgrade");let ie=o(()=>{n.removeListener("open",p),n.removeListener("error",O),n.removeListener("close",D),this.off("close",N),this.off("upgrading",Y)},"cleanup");n.once("open",p),n.once("error",O),n.once("close",D),this.once("close",N),this.once("upgrading",Y),n.open()}onOpen(){if(this.readyState="open",Uo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let r=0,n=this.upgrades.length;for(;r<n;r++)this.probe(this.upgrades[r])}}onPacket(r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",r),this.emitReserved("heartbeat"),r.type){case"open":this.onHandshake(JSON.parse(r.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":let n=new Error("server error");n.code=r.data,this.onError(n);break;case"message":this.emitReserved("data",r.data),this.emitReserved("message",r.data);break}}onHandshake(r){this.emitReserved("handshake",r),this.id=r.sid,this.transport.query.sid=r.sid,this.upgrades=this.filterUpgrades(r.upgrades),this.pingInterval=r.pingInterval,this.pingTimeout=r.pingTimeout,this.maxPayload=r.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let r=this.getWritablePackets();this.transport.send(r),this.prevBufferLen=r.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){let c=this.writeBuffer[n].data;if(c&&(r+=JO(c)),n>0&&r>this.maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}write(r,n,c){return this.sendPacket("message",r,n,c),this}send(r,n,c){return this.sendPacket("message",r,n,c),this}sendPacket(r,n,c,p){if(typeof n=="function"&&(p=n,n=void 0),typeof c=="function"&&(p=c,c=null),this.readyState==="closing"||this.readyState==="closed")return;c=c||{},c.compress=c.compress!==!1;let _={type:r,data:n,options:c};this.emitReserved("packetCreate",_),this.writeBuffer.push(_),p&&this.once("flush",p),this.flush()}close(){let r=o(()=>{this.onClose("forced close"),this.transport.close()},"close"),n=o(()=>{this.off("upgrade",n),this.off("upgradeError",n),r()},"cleanupAndClose"),c=o(()=>{this.once("upgrade",n),this.once("upgradeError",n)},"waitForUpgrade");return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?c():r()}):this.upgrading?c():r()),this}onError(r){Uo.priorWebsocketSuccess=!1,this.emitReserved("error",r),this.onClose("transport error",r)}onClose(r,n){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",r,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(r){let n=[],c=0,p=r.length;for(;c<p;c++)~this.transports.indexOf(r[c])&&n.push(r[c]);return n}};o(Uo,"Socket"),Uo.protocol=ZO,Uo.protocol;function pA(r,n="",c){let p=r;c=c||typeof location<"u"&&location,r==null&&(r=c.protocol+"//"+c.host),typeof r=="string"&&(r.charAt(0)==="/"&&(r.charAt(1)==="/"?r=c.protocol+r:r=c.host+r),/^(https?|wss?):\/\//.test(r)||(typeof c<"u"?r=c.protocol+"//"+r:r="https://"+r),p=ug(r)),p.port||(/^(http|ws)$/.test(p.protocol)?p.port="80":/^(http|ws)s$/.test(p.protocol)&&(p.port="443")),p.path=p.path||"/";let _=p.host.indexOf(":")!==-1?"["+p.host+"]":p.host;return p.id=p.protocol+"://"+_+":"+p.port+n,p.href=p.protocol+"://"+_+(c&&c.port===p.port?"":":"+p.port),p}o(pA,"url");var mA={};d(mA,{Decoder:()=>Ow,Encoder:()=>bA,PacketType:()=>Ji,protocol:()=>P9});var C9=typeof ArrayBuffer=="function",E9=o(r=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(r):r.buffer instanceof ArrayBuffer,"isView"),gA=Object.prototype.toString,O9=typeof Blob=="function"||typeof Blob<"u"&&gA.call(Blob)==="[object BlobConstructor]",A9=typeof File=="function"||typeof File<"u"&&gA.call(File)==="[object FileConstructor]";function dg(r){return C9&&(r instanceof ArrayBuffer||E9(r))||O9&&r instanceof Blob||A9&&r instanceof File}o(dg,"isBinary");function Gd(r,n){if(!r||typeof r!="object")return!1;if(Array.isArray(r)){for(let c=0,p=r.length;c<p;c++)if(Gd(r[c]))return!0;return!1}if(dg(r))return!0;if(r.toJSON&&typeof r.toJSON=="function"&&arguments.length===1)return Gd(r.toJSON(),!0);for(let c in r)if(Object.prototype.hasOwnProperty.call(r,c)&&Gd(r[c]))return!0;return!1}o(Gd,"hasBinary");function yA(r){let n=[],c=r.data,p=r;return p.data=fg(c,n),p.attachments=n.length,{packet:p,buffers:n}}o(yA,"deconstructPacket");function fg(r,n){if(!r)return r;if(dg(r)){let c={_placeholder:!0,num:n.length};return n.push(r),c}else if(Array.isArray(r)){let c=new Array(r.length);for(let p=0;p<r.length;p++)c[p]=fg(r[p],n);return c}else if(typeof r=="object"&&!(r instanceof Date)){let c={};for(let p in r)Object.prototype.hasOwnProperty.call(r,p)&&(c[p]=fg(r[p],n));return c}return r}o(fg,"_deconstructPacket");function vA(r,n){return r.data=pg(r.data,n),r.attachments=void 0,r}o(vA,"reconstructPacket");function pg(r,n){if(!r)return r;if(r&&r._placeholder===!0){if(typeof r.num=="number"&&r.num>=0&&r.num<n.length)return n[r.num];throw new Error("illegal attachments")}else if(Array.isArray(r))for(let c=0;c<r.length;c++)r[c]=pg(r[c],n);else if(typeof r=="object")for(let c in r)Object.prototype.hasOwnProperty.call(r,c)&&(r[c]=pg(r[c],n));return r}o(pg,"_reconstructPacket");var P9=5,Ji;(function(r){r[r.CONNECT=0]="CONNECT",r[r.DISCONNECT=1]="DISCONNECT",r[r.EVENT=2]="EVENT",r[r.ACK=3]="ACK",r[r.CONNECT_ERROR=4]="CONNECT_ERROR",r[r.BINARY_EVENT=5]="BINARY_EVENT",r[r.BINARY_ACK=6]="BINARY_ACK"})(Ji||(Ji={}));var bA=class{constructor(r){this.replacer=r}encode(r){return(r.type===Ji.EVENT||r.type===Ji.ACK)&&Gd(r)?(r.type=r.type===Ji.EVENT?Ji.BINARY_EVENT:Ji.BINARY_ACK,this.encodeAsBinary(r)):[this.encodeAsString(r)]}encodeAsString(r){let n=""+r.type;return(r.type===Ji.BINARY_EVENT||r.type===Ji.BINARY_ACK)&&(n+=r.attachments+"-"),r.nsp&&r.nsp!=="/"&&(n+=r.nsp+","),r.id!=null&&(n+=r.id),r.data!=null&&(n+=JSON.stringify(r.data,this.replacer)),n}encodeAsBinary(r){let n=yA(r),c=this.encodeAsString(n.packet),p=n.buffers;return p.unshift(c),p}};o(bA,"Encoder");var Ow=class extends ss{constructor(r){super(),this.reviver=r}add(r){let n;if(typeof r=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(r),n.type===Ji.BINARY_EVENT||n.type===Ji.BINARY_ACK?(this.reconstructor=new wA(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(dg(r)||r.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(r),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+r)}decodeString(r){let n=0,c={type:Number(r.charAt(0))};if(Ji[c.type]===void 0)throw new Error("unknown packet type "+c.type);if(c.type===Ji.BINARY_EVENT||c.type===Ji.BINARY_ACK){let _=n+1;for(;r.charAt(++n)!=="-"&&n!=r.length;);let O=r.substring(_,n);if(O!=Number(O)||r.charAt(n)!=="-")throw new Error("Illegal attachments");c.attachments=Number(O)}if(r.charAt(n+1)==="/"){let _=n+1;for(;++n&&!(r.charAt(n)===","||n===r.length););c.nsp=r.substring(_,n)}else c.nsp="/";let p=r.charAt(n+1);if(p!==""&&Number(p)==p){let _=n+1;for(;++n;){let O=r.charAt(n);if(O==null||Number(O)!=O){--n;break}if(n===r.length)break}c.id=Number(r.substring(_,n+1))}if(r.charAt(++n)){let _=this.tryParse(r.substr(n));if(Ow.isPayloadValid(c.type,_))c.data=_;else throw new Error("invalid payload")}return c}tryParse(r){try{return JSON.parse(r,this.reviver)}catch{return!1}}static isPayloadValid(r,n){switch(r){case Ji.CONNECT:return typeof n=="object";case Ji.DISCONNECT:return n===void 0;case Ji.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ji.EVENT:case Ji.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ji.ACK:case Ji.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}};o(Ow,"Decoder");var wA=class{constructor(r){this.packet=r,this.buffers=[],this.reconPack=r}takeBinaryData(r){if(this.buffers.push(r),this.buffers.length===this.reconPack.attachments){let n=vA(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};o(wA,"BinaryReconstructor");function an(r,n,c){return r.on(n,c),o(function(){r.off(n,c)},"subDestroy")}o(an,"on");var M9=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Aw=class extends ss{constructor(r,n,c){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=r,this.nsp=n,c&&c.auth&&(this.auth=c.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let r=this.io;this.subs=[an(r,"open",this.onopen.bind(this)),an(r,"packet",this.onpacket.bind(this)),an(r,"error",this.onerror.bind(this)),an(r,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...r){return r.unshift("message"),this.emit.apply(this,r),this}emit(r,...n){if(M9.hasOwnProperty(r))throw new Error('"'+r+'" is a reserved event name');n.unshift(r);let c={type:Ji.EVENT,data:n};if(c.options={},c.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let _=this.ids++,O=n.pop();this._registerAckCallback(_,O),c.id=_}let p=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!p||!this.connected)||(this.connected?(this.notifyOutgoingListeners(c),this.packet(c)):this.sendBuffer.push(c)),this.flags={},this}_registerAckCallback(r,n){let c=this.flags.timeout;if(c===void 0){this.acks[r]=n;return}let p=this.io.setTimeoutFn(()=>{delete this.acks[r];for(let _=0;_<this.sendBuffer.length;_++)this.sendBuffer[_].id===r&&this.sendBuffer.splice(_,1);n.call(this,new Error("operation has timed out"))},c);this.acks[r]=(..._)=>{this.io.clearTimeoutFn(p),n.apply(this,[null,..._])}}packet(r){r.nsp=this.nsp,this.io._packet(r)}onopen(){typeof this.auth=="function"?this.auth(r=>{this.packet({type:Ji.CONNECT,data:r})}):this.packet({type:Ji.CONNECT,data:this.auth})}onerror(r){this.connected||this.emitReserved("connect_error",r)}onclose(r,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",r,n)}onpacket(r){if(r.nsp===this.nsp)switch(r.type){case Ji.CONNECT:if(r.data&&r.data.sid){let c=r.data.sid;this.onconnect(c)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ji.EVENT:case Ji.BINARY_EVENT:this.onevent(r);break;case Ji.ACK:case Ji.BINARY_ACK:this.onack(r);break;case Ji.DISCONNECT:this.ondisconnect();break;case Ji.CONNECT_ERROR:this.destroy();let n=new Error(r.data.message);n.data=r.data.data,this.emitReserved("connect_error",n);break}}onevent(r){let n=r.data||[];r.id!=null&&n.push(this.ack(r.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(r){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let c of n)c.apply(this,r)}super.emit.apply(this,r)}ack(r){let n=this,c=!1;return function(...p){c||(c=!0,n.packet({type:Ji.ACK,id:r,data:p}))}}onack(r){let n=this.acks[r.id];typeof n=="function"&&(n.apply(this,r.data),delete this.acks[r.id])}onconnect(r){this.id=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(r=>this.emitEvent(r)),this.receiveBuffer=[],this.sendBuffer.forEach(r=>{this.notifyOutgoingListeners(r),this.packet(r)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(r=>r()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ji.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(r){return this.flags.compress=r,this}get volatile(){return this.flags.volatile=!0,this}timeout(r){return this.flags.timeout=r,this}onAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(r),this}prependAny(r){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(r),this}offAny(r){if(!this._anyListeners)return this;if(r){let n=this._anyListeners;for(let c=0;c<n.length;c++)if(r===n[c])return n.splice(c,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(r),this}prependAnyOutgoing(r){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(r),this}offAnyOutgoing(r){if(!this._anyOutgoingListeners)return this;if(r){let n=this._anyOutgoingListeners;for(let c=0;c<n.length;c++)if(r===n[c])return n.splice(c,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(r){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let c of n)c.apply(this,r.data)}}};o(Aw,"Socket");function Oc(r){r=r||{},this.ms=r.min||100,this.max=r.max||1e4,this.factor=r.factor||2,this.jitter=r.jitter>0&&r.jitter<=1?r.jitter:0,this.attempts=0}o(Oc,"Backoff"),Oc.prototype.duration=function(){var r=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),c=Math.floor(n*this.jitter*r);r=Math.floor(n*10)&1?r+c:r-c}return Math.min(r,this.max)|0},Oc.prototype.reset=function(){this.attempts=0},Oc.prototype.setMin=function(r){this.ms=r},Oc.prototype.setMax=function(r){this.max=r},Oc.prototype.setJitter=function(r){this.jitter=r};var mg=class extends ss{constructor(r,n){var c;super(),this.nsps={},this.subs=[],r&&typeof r=="object"&&(n=r,r=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Yd(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((c=n.randomizationFactor)!==null&&c!==void 0?c:.5),this.backoff=new Oc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=r;let p=n.parser||mA;this.encoder=new p.Encoder,this.decoder=new p.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(r){return arguments.length?(this._reconnection=!!r,this):this._reconnection}reconnectionAttempts(r){return r===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=r,this)}reconnectionDelay(r){var n;return r===void 0?this._reconnectionDelay:(this._reconnectionDelay=r,(n=this.backoff)===null||n===void 0||n.setMin(r),this)}randomizationFactor(r){var n;return r===void 0?this._randomizationFactor:(this._randomizationFactor=r,(n=this.backoff)===null||n===void 0||n.setJitter(r),this)}reconnectionDelayMax(r){var n;return r===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=r,(n=this.backoff)===null||n===void 0||n.setMax(r),this)}timeout(r){return arguments.length?(this._timeout=r,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(r){if(~this._readyState.indexOf("open"))return this;this.engine=new Uo(this.uri,this.opts);let n=this.engine,c=this;this._readyState="opening",this.skipReconnect=!1;let p=an(n,"open",function(){c.onopen(),r&&r()}),_=an(n,"error",O=>{c.cleanup(),c._readyState="closed",this.emitReserved("error",O),r?r(O):c.maybeReconnectOnOpen()});if(this._timeout!==!1){let O=this._timeout;O===0&&p();let D=this.setTimeoutFn(()=>{p(),n.close(),n.emit("error",new Error("timeout"))},O);this.opts.autoUnref&&D.unref(),this.subs.push(o(function(){clearTimeout(D)},"subDestroy"))}return this.subs.push(p),this.subs.push(_),this}connect(r){return this.open(r)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let r=this.engine;this.subs.push(an(r,"ping",this.onping.bind(this)),an(r,"data",this.ondata.bind(this)),an(r,"error",this.onerror.bind(this)),an(r,"close",this.onclose.bind(this)),an(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(r){this.decoder.add(r)}ondecoded(r){this.emitReserved("packet",r)}onerror(r){this.emitReserved("error",r)}socket(r,n){let c=this.nsps[r];return c||(c=new Aw(this,r,n),this.nsps[r]=c),c}_destroy(r){let n=Object.keys(this.nsps);for(let c of n)if(this.nsps[c].active)return;this._close()}_packet(r){let n=this.encoder.encode(r);for(let c=0;c<n.length;c++)this.engine.write(n[c],r.options)}cleanup(){this.subs.forEach(r=>r()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(r,n){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",r,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let r=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let c=this.setTimeoutFn(()=>{r.skipReconnect||(this.emitReserved("reconnect_attempt",r.backoff.attempts),!r.skipReconnect&&r.open(p=>{p?(r._reconnecting=!1,r.reconnect(),this.emitReserved("reconnect_error",p)):r.onreconnect()}))},n);this.opts.autoUnref&&c.unref(),this.subs.push(o(function(){clearTimeout(c)},"subDestroy"))}}onreconnect(){let r=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",r)}};o(mg,"Manager");var Xd={};function Kd(r,n){typeof r=="object"&&(n=r,r=void 0),n=n||{};let c=pA(r,n.path||"/socket.io"),p=c.source,_=c.id,O=c.path,D=Xd[_]&&O in Xd[_].nsps,N=n.forceNew||n["force new connection"]||n.multiplex===!1||D,Y;return N?Y=new mg(p,n):(Xd[_]||(Xd[_]=new mg(p,n)),Y=Xd[_]),c.query&&!n.query&&(n.query=c.queryKey),Y.socket(c.path,n)}o(Kd,"lookup"),Object.assign(Kd,{Manager:mg,Socket:Aw,io:Kd,connect:Kd});function _A(r){let n=/^\w+:\/\//.exec(r),c=0;n&&(c=n[0].length+1);let p=r.indexOf("/",c);return p===-1?{origin:r,pathname:"/"}:{origin:r.slice(0,p),pathname:r.slice(p)}}o(_A,"parseUrl");function as(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(as,"_classPrivateFieldLooseBase");var L9=0;function Qn(r){return"__private_"+L9+++"_"+r}o(Qn,"_classPrivateFieldLooseKey");var R9="ASSEMBLY_UPLOADING",Pw="ASSEMBLY_EXECUTING",Mw="ASSEMBLY_COMPLETED",xA=[R9,Pw,Mw];function Zd(r,n){return xA.indexOf(r)>=xA.indexOf(n)}o(Zd,"isStatus");var Ac=Qn("rateLimitedQueue"),Qd=Qn("fetchWithNetworkError"),Pc=Qn("previousFetchStatusStillPending"),Lw=Qn("onFinished"),Rw=Qn("connectSocket"),Ho=Qn("onError"),Fw=Qn("beginPolling"),Wo=Qn("fetchStatus"),Dw=Qn("diffStatus"),kA=class extends r9.default{constructor(r,n){super(),Object.defineProperty(this,Dw,{value:AA}),Object.defineProperty(this,Wo,{value:OA}),Object.defineProperty(this,Fw,{value:EA}),Object.defineProperty(this,Ho,{value:CA}),Object.defineProperty(this,Rw,{value:TA}),Object.defineProperty(this,Lw,{value:SA}),Object.defineProperty(this,Ac,{writable:!0,value:void 0}),Object.defineProperty(this,Qd,{writable:!0,value:void 0}),Object.defineProperty(this,Pc,{writable:!0,value:!1}),this.status=r,this.socket=null,this.pollInterval=null,this.closed=!1,as(this,Ac)[Ac]=n,as(this,Qd)[Qd]=n.wrapPromiseFunction(Mr)}connect(){as(this,Rw)[Rw](),as(this,Fw)[Fw]()}update(){return as(this,Wo)[Wo]({diff:!0})}updateStatus(r){as(this,Dw)[Dw](this.status,r),this.status=r}close(){this.closed=!0,this.socket&&(this.socket.disconnect(),this.socket=null),clearInterval(this.pollInterval),this.pollInterval=null}};o(kA,"TransloaditAssembly");function SA(){this.emit("finished"),this.close()}o(SA,"_onFinished2");function TA(){let r=_A(this.status.websocket_url),n=Kd(r.origin,{transports:["websocket"],path:r.pathname});n.on("connect",()=>{n.emit("assembly_connect",{id:this.status.assembly_id}),this.emit("connect")}),n.on("connect_error",()=>{n.disconnect(),this.socket=null}),n.on("assembly_finished",()=>{as(this,Lw)[Lw]()}),n.on("assembly_upload_finished",c=>{this.emit("upload",c),this.status.uploads.push(c)}),n.on("assembly_uploading_finished",()=>{this.emit("executing")}),n.on("assembly_upload_meta_data_extracted",()=>{this.emit("metadata"),as(this,Wo)[Wo]({diff:!1})}),n.on("assembly_result_finished",(c,p)=>{this.emit("result",c,p),this.status.results[c]||(this.status.results[c]=[]),this.status.results[c].push(p)}),n.on("assembly_error",c=>{as(this,Ho)[Ho](c),as(this,Wo)[Wo]({diff:!1})}),this.socket=n}o(TA,"_connectSocket2");function CA(r){this.emit("error",Object.assign(new Error(r.message),r)),this.close()}o(CA,"_onError2");function EA(){this.pollInterval=setInterval(()=>{(!this.socket||!this.socket.connected)&&as(this,Wo)[Wo]()},2e3)}o(EA,"_beginPolling2");async function OA(r){let{diff:n=!0}=r===void 0?{}:r;if(!(this.closed||as(this,Ac)[Ac].isPaused||as(this,Pc)[Pc]))try{as(this,Pc)[Pc]=!0;let c=await as(this,Qd)[Qd](this.status.assembly_ssl_url);if(as(this,Pc)[Pc]=!1,this.closed)return;if(c.status===429){as(this,Ac)[Ac].rateLimit(2e3);return}if(!c.ok){as(this,Ho)[Ho](new ii(c.statusText));return}let p=await c.json();if(this.closed)return;this.emit("status",p),n?this.updateStatus(p):this.status=p}catch(c){as(this,Ho)[Ho](c)}}o(OA,"_fetchStatus2");function AA(r,n){let c=r.ok,p=n.ok;if(n.error&&!r.error)return as(this,Ho)[Ho](n);let _=Zd(p,Pw)&&!Zd(c,Pw);_&&this.emit("executing"),Object.keys(n.uploads).filter(O=>!x(r.uploads,O)).forEach(O=>{this.emit("upload",n.uploads[O])}),_&&this.emit("metadata"),Object.keys(n.results).forEach(O=>{let D=n.results[O],N=r.results[O];D.filter(Y=>!N||!N.some(ie=>ie.id===Y.id)).forEach(Y=>{this.emit("result",O,Y)})}),Zd(p,Mw)&&!Zd(c,Mw)&&this.emit("finished")}o(AA,"_diffStatus2");var PA=kA;function $r(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o($r,"_classPrivateFieldLooseBase");var F9=0;function Jd(r){return"__private_"+F9+++"_"+r}o(Jd,"_classPrivateFieldLooseKey");var MA="/assemblies",pa=Jd("headers"),ef=Jd("fetchWithNetworkError"),zs=Jd("fetchJSON"),$a=Jd("reportError"),LA=class{constructor(r){r===void 0&&(r={}),Object.defineProperty(this,zs,{value:RA}),Object.defineProperty(this,pa,{writable:!0,value:{}}),Object.defineProperty(this,ef,{writable:!0,value:void 0}),Object.defineProperty(this,$a,{writable:!0,value:(n,c)=>{if(this.opts.errorReporting===!1)throw n;let p={type:c.type};throw c.assembly&&(p.assembly=c.assembly.assembly_id,p.instance=c.assembly.instance),c.url&&(p.endpoint=c.url),this.submitError(n,p).catch(()=>{}),n}}),this.opts=r,this.opts.client!=null&&($r(this,pa)[pa]["Transloadit-Client"]=this.opts.client),$r(this,ef)[ef]=this.opts.rateLimitedQueue.wrapPromiseFunction(Mr)}createAssembly(r){let{params:n,fields:c,signature:p,expectedFiles:_}=r,O=new FormData;O.append("params",typeof n=="string"?n:JSON.stringify(n)),p&&O.append("signature",p),Object.keys(c).forEach(N=>{O.append(N,c[N])}),O.append("num_expected_upload_files",_);let D=new URL(MA,`${this.opts.service}`).href;return $r(this,zs)[zs](D,{method:"post",headers:$r(this,pa)[pa],body:O}).catch(N=>$r(this,$a)[$a](N,{url:D,type:"API_ERROR"}))}reserveFile(r,n){let c=encodeURIComponent(n.size),p=`${r.assembly_ssl_url}/reserve_file?size=${c}`;return $r(this,zs)[zs](p,{method:"post",headers:$r(this,pa)[pa]}).catch(_=>$r(this,$a)[$a](_,{assembly:r,file:n,url:p,type:"API_ERROR"}))}addFile(r,n){if(!n.uploadURL)return Promise.reject(new Error("File does not have an `uploadURL`."));let c=encodeURIComponent(n.size),p=encodeURIComponent(n.uploadURL),_=encodeURIComponent(n.name),O=`size=${c}&filename=${_}&fieldname=file&s3Url=${p}`,D=`${r.assembly_ssl_url}/add_file?${O}`;return $r(this,zs)[zs](D,{method:"post",headers:$r(this,pa)[pa]}).catch(N=>$r(this,$a)[$a](N,{assembly:r,file:n,url:D,type:"API_ERROR"}))}updateNumberOfFilesInAssembly(r,n){let c=new URL(r.assembly_ssl_url);c.pathname="/update_assemblies";let p=JSON.stringify({assembly_updates:[{assembly_id:r.assembly_id,num_expected_upload_files:n}]});return $r(this,zs)[zs](c,{method:"post",headers:$r(this,pa)[pa],body:p}).catch(_=>$r(this,$a)[$a](_,{url:c,type:"API_ERROR"}))}cancelAssembly(r){let n=r.assembly_ssl_url;return $r(this,zs)[zs](n,{method:"delete",headers:$r(this,pa)[pa]}).catch(c=>$r(this,$a)[$a](c,{url:n,type:"API_ERROR"}))}getAssemblyStatus(r){return $r(this,zs)[zs](r,{headers:$r(this,pa)[pa]}).catch(n=>$r(this,$a)[$a](n,{url:r,type:"STATUS_ERROR"}))}submitError(r,n){let{endpoint:c,instance:p,assembly:_}=n===void 0?{}:n,O=r.details?`${r.message} (${r.details})`:r.message;return $r(this,zs)[zs]("https://transloaditstatus.com/client_error",{method:"post",body:JSON.stringify({endpoint:c,instance:p,assembly_id:_,agent:typeof navigator<"u"?navigator.userAgent:"",client:this.opts.client,error:O})})}};o(LA,"Client");function RA(){for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return $r(this,ef)[ef](...n).then(p=>{if(p.status===429)return this.opts.rateLimitedQueue.rateLimit(2e3),$r(this,zs)[zs](...n);if(!p.ok){let _=new Error(p.statusText);return _.statusCode=p.status,`${n[0]}`.endsWith(MA)?p.json().then(O=>{if(!O.error)throw _;let D=new Error(O.error);throw D.details=O.message,D.assembly=O,O.assembly_id&&(D.details+=` Assembly ID: ${O.assembly_id}`),D},O=>{throw O.cause=_,O}):Promise.reject(_)}return p.json()})}o(RA,"_fetchJSON2");function FA(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(FA,"_classPrivateFieldLooseBase");var D9=0;function DA(r){return"__private_"+D9+++"_"+r}o(DA,"_classPrivateFieldLooseKey");function tf(r){if(r==null)throw new Error("Transloadit: The `params` option is required.");if(typeof r=="string")try{r=JSON.parse(r)}catch(n){throw new Sa("Transloadit: The `params` option is a malformed JSON string.",{cause:n})}if(!r.auth||!r.auth.key)throw new Error("Transloadit: The `params.auth.key` option is required. You can find your Transloadit API key at https://transloadit.com/c/template-credentials")}o(tf,"validateParams");function IA(r){let n=Object.create(null);for(let{fileIDs:c,options:p}of r.filter(Boolean)){let _=JSON.stringify(p);_ in n?n[_].fileIDArrays.push(c):n[_]={options:p,fileIDArrays:[c]}}return Object.values(n).map(c=>{let{options:p,fileIDArrays:_}=c;return{options:p,fileIDs:_.flat(1)}})}o(IA,"dedupe");var Iw=DA("getAssemblyOptions"),BA=class{constructor(r,n){Object.defineProperty(this,Iw,{value:NA}),this.files=r,this.opts=n}async build(){let r=this.opts;if(this.files.length>0)return Promise.all(this.files.map(n=>FA(this,Iw)[Iw](n))).then(IA);if(r.alwaysRunAssembly){let n=await r.getAssemblyOptions(null,r);return tf(n.params),[{fileIDs:this.files.map(c=>c.id),options:n}]}return[]}};o(BA,"AssemblyOptions");async function NA(r){if(r==null)return;let n=this.opts,c=await n.getAssemblyOptions(r,n);if(r!=null)return Array.isArray(c.fields)?c.fields=Object.fromEntries(c.fields.map(p=>[p,r.meta[p]])):c.fields==null&&(c.fields={}),tf(c.params),{fileIDs:[r.id],options:c}}o(NA,"_getAssemblyOptions2");var I9=BA,B9=f(U(),1);function $i(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o($i,"_classPrivateFieldLooseBase");var N9=0;function Ca(r){return"__private_"+N9+++"_"+r}o(Ca,"_classPrivateFieldLooseKey");var rf=Ca("assemblyIDs"),Bw=Ca("reject"),Mc=Ca("remaining"),sf=Ca("resolve"),Ur=Ca("uppy"),jo=Ca("watching"),af=Ca("onAssemblyComplete"),nf=Ca("onAssemblyCancel"),Lc=Ca("onAssemblyError"),of=Ca("onImportError"),Rc=Ca("checkAllComplete"),Nw=Ca("removeListeners"),zw=Ca("addListeners"),zA=class extends B9.default{constructor(r,n){super(),Object.defineProperty(this,zw,{value:jA}),Object.defineProperty(this,Nw,{value:WA}),Object.defineProperty(this,Rc,{value:HA}),Object.defineProperty(this,jo,{value:UA}),Object.defineProperty(this,rf,{writable:!0,value:void 0}),Object.defineProperty(this,Bw,{writable:!0,value:void 0}),Object.defineProperty(this,Mc,{writable:!0,value:void 0}),Object.defineProperty(this,sf,{writable:!0,value:void 0}),Object.defineProperty(this,Ur,{writable:!0,value:void 0}),Object.defineProperty(this,af,{writable:!0,value:c=>{!$i(this,jo)[jo](c.assembly_id)||($i(this,Ur)[Ur].log(`[Transloadit] AssemblyWatcher: Got Assembly finish ${c.assembly_id}`),this.emit("assembly-complete",c.assembly_id),$i(this,Rc)[Rc]())}}),Object.defineProperty(this,nf,{writable:!0,value:c=>{!$i(this,jo)[jo](c.assembly_id)||$i(this,Rc)[Rc]()}}),Object.defineProperty(this,Lc,{writable:!0,value:(c,p)=>{!$i(this,jo)[jo](c.assembly_id)||($i(this,Ur)[Ur].log(`[Transloadit] AssemblyWatcher: Got Assembly error ${c.assembly_id}`),$i(this,Ur)[Ur].log(p),this.emit("assembly-error",c.assembly_id,p),$i(this,Rc)[Rc]())}}),Object.defineProperty(this,of,{writable:!0,value:(c,p,_)=>{!$i(this,jo)[jo](c.assembly_id)||$i(this,Lc)[Lc](c,_)}}),$i(this,Ur)[Ur]=r,$i(this,rf)[rf]=n,$i(this,Mc)[Mc]=n.length,this.promise=new Promise((c,p)=>{$i(this,sf)[sf]=c,$i(this,Bw)[Bw]=p}),$i(this,zw)[zw]()}};o(zA,"TransloaditAssemblyWatcher");function UA(r){return $i(this,rf)[rf].indexOf(r)!==-1}o(UA,"_watching2");function HA(){$i(this,Mc)[Mc]-=1,$i(this,Mc)[Mc]===0&&($i(this,Nw)[Nw](),$i(this,sf)[sf]())}o(HA,"_checkAllComplete2");function WA(){$i(this,Ur)[Ur].off("transloadit:complete",$i(this,af)[af]),$i(this,Ur)[Ur].off("transloadit:assembly-cancel",$i(this,nf)[nf]),$i(this,Ur)[Ur].off("transloadit:assembly-error",$i(this,Lc)[Lc]),$i(this,Ur)[Ur].off("transloadit:import-error",$i(this,of)[of])}o(WA,"_removeListeners2");function jA(){$i(this,Ur)[Ur].on("transloadit:complete",$i(this,af)[af]),$i(this,Ur)[Ur].on("transloadit:assembly-cancel",$i(this,nf)[nf]),$i(this,Ur)[Ur].on("transloadit:assembly-error",$i(this,Lc)[Lc]),$i(this,Ur)[Ur].on("transloadit:import-error",$i(this,of)[of])}o(jA,"_addListeners2");var z9=zA,U9={strings:{creatingAssembly:"Preparing upload...",creatingAssemblyFailed:"Transloadit: Could not create Assembly",encoding:"Encoding..."}};function Yi(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(Yi,"_classPrivateFieldLooseBase");var H9=0;function Qr(r){return"__private_"+H9+++"_"+r}o(Qr,"_classPrivateFieldLooseKey");var W9={version:"3.0.2"};function qA(r,n){return{params:n.params,signature:n.signature,fields:n.fields}}o(qA,"defaultGetAssemblyOptions");var $A=o(r=>n=>{let c=new Sa("Failed to send error to the client",{cause:n});console.error(c,r)},"sendErrorToConsole"),VA="https://api2.transloadit.com/companion",YA=/\.transloadit\.com$/,j9=/https?:\/\/api2(?:-\w+)?\.transloadit\.com\/companion/,Rn=Qr("rateLimitedQueue"),Uw=Qr("getClientVersion"),Hw=Qr("attachAssemblyMetadata"),Ww=Qr("createAssembly"),lf=Qr("createAssemblyWatcher"),jw=Qr("shouldWaitAfterUpload"),qw=Qr("reserveFiles"),cf=Qr("onFileUploadURLAvailable"),hf=Qr("findFile"),$w=Qr("onFileUploadComplete"),Vw=Qr("onResult"),uf=Qr("onAssemblyFinished"),df=Qr("cancelAssembly"),Yw=Qr("onCancelAll"),Gw=Qr("getPersistentData"),Xw=Qr("onRestored"),ff=Qr("connectAssembly"),pf=Qr("prepareUpload"),Fc=Qr("afterUpload"),mf=Qr("closeAssemblyIfExists"),gf=Qr("onError"),Kw=Qr("onTusError"),Dc=class extends $e{constructor(r,n){var c;super(r,n),c=this,Object.defineProperty(this,ff,{value:aP}),Object.defineProperty(this,df,{value:sP}),Object.defineProperty(this,uf,{value:rP}),Object.defineProperty(this,Vw,{value:iP}),Object.defineProperty(this,$w,{value:tP}),Object.defineProperty(this,hf,{value:eP}),Object.defineProperty(this,qw,{value:JA}),Object.defineProperty(this,jw,{value:QA}),Object.defineProperty(this,lf,{value:ZA}),Object.defineProperty(this,Ww,{value:KA}),Object.defineProperty(this,Hw,{value:XA}),Object.defineProperty(this,Uw,{value:GA}),Object.defineProperty(this,Rn,{writable:!0,value:void 0}),Object.defineProperty(this,cf,{writable:!0,value:O=>{var D;let N=this.uppy.getFile(O.id);if(!(N!=null&&(D=N.transloadit)!=null&&D.assembly))return;let{assemblies:Y}=this.getPluginState(),ie=Y[N.transloadit.assembly];this.client.addFile(ie,N).catch(X=>{this.uppy.log(X),this.uppy.emit("transloadit:import-error",ie,N.id,X)})}}),Object.defineProperty(this,Yw,{writable:!0,value:async function(O){let{reason:D}=O===void 0?{}:O;try{if(D!=="user")return;let{uploadsAssemblies:N}=c.getPluginState(),Y=Object.values(N).flat(1).map(ie=>c.getAssembly(ie));await Promise.all(Y.map(ie=>Yi(c,df)[df](ie)))}catch(N){c.uppy.log(N)}}}),Object.defineProperty(this,Gw,{writable:!0,value:O=>{let{assemblies:D,uploadsAssemblies:N}=this.getPluginState();O({[this.id]:{assemblies:D,uploadsAssemblies:N}})}}),Object.defineProperty(this,Xw,{writable:!0,value:O=>{let D=O&&O[this.id]?O[this.id]:{},N=D.assemblies||{},Y=D.uploadsAssemblies||{};if(Object.keys(Y).length===0)return;let ie=o(ue=>{let xe={},We=[];for(let[Mt,wt]of Object.entries(ue)){wt.uploads.forEach(xi=>{let Zt=Yi(this,hf)[hf](xi);xe[xi.id]={id:Zt.id,assembly:Mt,uploadedFile:xi}});let Ht=this.getPluginState();Object.keys(wt.results).forEach(xi=>{for(let Zt of wt.results[xi]){let ht=Ht.files[Zt.original_id];Zt.localId=ht?ht.id:null,We.push({id:Zt.id,result:Zt,stepName:xi,assembly:Mt})}})}this.setPluginState({assemblies:ue,files:xe,results:We,uploadsAssemblies:Y})},"restoreState"),X=o(()=>{let{assemblies:ue,uploadsAssemblies:xe}=this.getPluginState();Object.keys(xe).forEach(We=>{let Mt=xe[We];Yi(this,lf)[lf](Mt,We)}),Object.keys(ue).forEach(We=>{let Mt=new PA(ue[We],Yi(this,Rn)[Rn]);Yi(this,ff)[ff](Mt)})},"restoreAssemblies"),ae=o(()=>{let{assemblies:ue}=this.getPluginState();return Promise.all(Object.keys(ue).map(xe=>this.activeAssemblies[xe].update()))},"updateAssemblies");this.restored=Promise.resolve().then(()=>(ie(N),X(),ae())),this.restored.then(()=>{this.restored=null})}}),Object.defineProperty(this,pf,{writable:!0,value:(O,D)=>{let N=O.map(X=>this.uppy.getFile(X)).filter(X=>X.error?!1:(this.uppy.emit("preprocess-progress",X,{mode:"indeterminate",message:this.i18n("creatingAssembly")}),!0)),Y=o(async X=>{let{fileIDs:ae,options:ue}=X;try{let xe=await Yi(this,Ww)[Ww](ae,D,ue);return this.opts.importFromUploadURLs&&await Yi(this,qw)[qw](xe,ae),ae.forEach(We=>{let Mt=this.uppy.getFile(We);this.uppy.emit("preprocess-complete",Mt)}),xe}catch(xe){throw ae.forEach(We=>{let Mt=this.uppy.getFile(We);this.uppy.emit("preprocess-complete",Mt),this.uppy.emit("upload-error",Mt,xe)}),xe}},"createAssembly"),{uploadsAssemblies:ie}=this.getPluginState();return this.setPluginState({uploadsAssemblies:{...ie,[D]:[]}}),new I9(N,this.opts).build().then(X=>Promise.all(X.map(Y))).then(X=>{let ae=X.filter(Boolean),ue=ae.map(xe=>xe.status.assembly_id);return Yi(this,lf)[lf](ue,D),Promise.all(ae.map(xe=>Yi(this,ff)[ff](xe)))}).catch(X=>{throw N.forEach(ae=>{this.uppy.emit("preprocess-complete",ae),this.uppy.emit("upload-error",ae,X)}),X})}}),Object.defineProperty(this,Fc,{writable:!0,value:(O,D)=>{let N=O.map(ue=>this.uppy.getFile(ue)),Y=N.filter(ue=>!ue.error).map(ue=>ue.id),ie=this.getPluginState();if(this.restored)return this.restored.then(()=>Yi(this,Fc)[Fc](Y,D));let X=ie.uploadsAssemblies[D],ae=o(()=>{X.forEach(ue=>{this.activeAssemblies[ue].close(),delete this.activeAssemblies[ue]})},"closeSocketConnections");if(!Yi(this,jw)[jw]()){ae();let ue=X.map(xe=>this.getAssembly(xe));return this.uppy.addResultData(D,{transloadit:ue}),Promise.resolve()}return X.length===0?(this.uppy.addResultData(D,{transloadit:[]}),Promise.resolve()):(N.filter(ue=>!x(this.completedFiles,ue.id)).forEach(ue=>{this.uppy.emit("postprocess-progress",ue,{mode:"indeterminate",message:this.i18n("encoding")})}),this.assemblyWatchers[D].promise.then(()=>{ae();let ue=X.map(We=>this.getAssembly(We)),xe={...this.getPluginState().uploadsAssemblies};delete xe[D],this.setPluginState({uploadsAssemblies:xe}),this.uppy.addResultData(D,{transloadit:ue})}))}}),Object.defineProperty(this,mf,{writable:!0,value:O=>{var D;(D=this.activeAssemblies[O])==null||D.close()}}),Object.defineProperty(this,gf,{writable:!0,value:function(O,D){O===void 0&&(O=null);let N=c.getPluginState().uploadsAssemblies[D];N==null||N.forEach(Yi(c,mf)[mf]),c.client.submitError(O).catch($A(O))}}),Object.defineProperty(this,Kw,{writable:!0,value:(O,D)=>{var N,Y;if(Yi(this,mf)[mf](O==null||(N=O.transloadit)==null?void 0:N.assembly),D!=null&&(Y=D.message)!=null&&Y.startsWith("tus: ")){var ie,X;let ae=(ie=D.originalRequest)==null||(X=ie.getUnderlyingObject())==null?void 0:X.responseURL;this.client.submitError(D,{endpoint:ae,type:"TUS_ERROR"}).catch($A(D))}}}),this.type="uploader",this.id=this.opts.id||"Transloadit",this.title="Transloadit",this.defaultLocale=U9;let p={service:"https://api2.transloadit.com",errorReporting:!0,waitForEncoding:!1,waitForMetadata:!1,alwaysRunAssembly:!1,importFromUploadURLs:!1,signature:null,params:null,fields:{},getAssemblyOptions:qA,limit:20,retryDelays:[7e3,1e4,15e3,2e4]};this.opts={...p,...n},Yi(this,Rn)[Rn]=new uc(this.opts.limit),this.i18nInit();let _=this.opts.getAssemblyOptions!==p.getAssemblyOptions;this.opts.params?tf(this.opts.params):_||tf(null),this.client=new LA({service:this.opts.service,client:Yi(this,Uw)[Uw](),errorReporting:this.opts.errorReporting,rateLimitedQueue:Yi(this,Rn)[Rn]}),this.activeAssemblies={},this.assemblyWatchers={},this.completedFiles=Object.create(null)}install(){this.uppy.addPreProcessor(Yi(this,pf)[pf]),this.uppy.addPostProcessor(Yi(this,Fc)[Fc]),this.uppy.on("error",Yi(this,gf)[gf]),this.uppy.on("cancel-all",Yi(this,Yw)[Yw]),this.uppy.on("upload-error",Yi(this,Kw)[Kw]),this.opts.importFromUploadURLs?this.uppy.on("upload-success",Yi(this,cf)[cf]):this.uppy.use($d,{storeFingerprintForResuming:!1,useFastRemoteRetry:!1,allowedMetaFields:["assembly_url","filename","fieldname"],limit:this.opts.limit,rateLimitedQueue:Yi(this,Rn)[Rn],retryDelays:this.opts.retryDelays}),this.uppy.on("restore:get-data",Yi(this,Gw)[Gw]),this.uppy.on("restored",Yi(this,Xw)[Xw]),this.setPluginState({assemblies:{},uploadsAssemblies:{},files:{},results:[]});let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!1}})}uninstall(){this.uppy.removePreProcessor(Yi(this,pf)[pf]),this.uppy.removePostProcessor(Yi(this,Fc)[Fc]),this.uppy.off("error",Yi(this,gf)[gf]),this.opts.importFromUploadURLs&&this.uppy.off("upload-success",Yi(this,cf)[cf]);let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!0}})}getAssembly(r){let{assemblies:n}=this.getPluginState();return n[r]}getAssemblyFiles(r){return this.uppy.getFiles().filter(n=>{var c;return(n==null||(c=n.transloadit)==null?void 0:c.assembly)===r})}};o(Dc,"Transloadit");function GA(){let r=[`uppy-core:${this.uppy.constructor.VERSION}`,`uppy-transloadit:${this.constructor.VERSION}`,`uppy-tus:${$d.VERSION}`],n=o((c,p)=>{let _=this.uppy.getPlugin(c);_&&r.push(`${p}:${_.constructor.VERSION}`)},"addPluginVersion");return this.opts.importFromUploadURLs&&(n("XHRUpload","uppy-xhr-upload"),n("AwsS3","uppy-aws-s3"),n("AwsS3Multipart","uppy-aws-s3-multipart")),n("Dropbox","uppy-dropbox"),n("Box","uppy-box"),n("Facebook","uppy-facebook"),n("GoogleDrive","uppy-google-drive"),n("Instagram","uppy-instagram"),n("OneDrive","uppy-onedrive"),n("Zoom","uppy-zoom"),n("Url","uppy-url"),r.join(",")}o(GA,"_getClientVersion2");function XA(r,n){let c={...r.meta,assembly_url:n.assembly_url,filename:r.name,fieldname:"file"},p={...r.tus,endpoint:n.tus_url,addRequestId:!0},{remote:_}=r;if(r.remote&&j9.test(r.remote.companionUrl)){let D=n.companion_url.replace(/\/$/,""),N=r.remote.url.replace(r.remote.companionUrl,"").replace(/^\//,"");_={...r.remote,companionUrl:D,url:`${D}/${N}`}}let O={...r,transloadit:{assembly:n.assembly_id}};return this.opts.importFromUploadURLs||Object.assign(O,{meta:c,tus:p,remote:_}),O}o(XA,"_attachAssemblyMetadata2");function KA(r,n,c){return this.uppy.log("[Transloadit] Create Assembly"),this.client.createAssembly({params:c.params,fields:c.fields,expectedFiles:r.length,signature:c.signature}).then(async p=>{let _=this.uppy.getFiles().filter(ue=>{let{id:xe}=ue;return r.includes(xe)});if(_.length!==r.length){if(_.length===0)return await this.client.cancelAssembly(p),null;await this.client.updateNumberOfFilesInAssembly(p,_.length)}let O=new PA(p,Yi(this,Rn)[Rn]),{status:D}=O,N=D.assembly_id,{assemblies:Y,uploadsAssemblies:ie}=this.getPluginState();this.setPluginState({assemblies:{...Y,[N]:D},uploadsAssemblies:{...ie,[n]:[...ie[n],N]}});let X={};_.forEach(ue=>{X[ue.id]=Yi(this,Hw)[Hw](ue,D)}),this.uppy.setState({files:{...this.uppy.getState().files,...X}});let ae=o((ue,xe)=>{if(xe==="cancel-all")O.close(),this.uppy.off(ae);else if(ue.id in X){delete X[ue.id];let We=Object.keys(X).length;We===0?(O.close(),Yi(this,df)[df](p).catch(()=>{}),this.uppy.off(ae)):this.client.updateNumberOfFilesInAssembly(p,We).catch(()=>{})}},"fileRemovedHandler");return this.uppy.on("file-removed",ae),this.uppy.emit("transloadit:assembly-created",D,r),this.uppy.log(`[Transloadit] Created Assembly ${N}`),O}).catch(p=>{let _=new Sa(`${this.i18n("creatingAssemblyFailed")}: ${p.message}`,{cause:p});throw"details"in p&&(_.details=p.details),"assembly"in p&&(_.assembly=p.assembly),_})}o(KA,"_createAssembly2");function ZA(r,n){let c=new z9(this.uppy,r);c.on("assembly-complete",p=>{this.getAssemblyFiles(p).forEach(_=>{this.completedFiles[_.id]=!0,this.uppy.emit("postprocess-complete",_)})}),c.on("assembly-error",(p,_)=>{this.getAssemblyFiles(p).forEach(O=>{this.uppy.emit("upload-error",O,_),this.uppy.emit("postprocess-complete",O)})}),this.assemblyWatchers[n]=c}o(ZA,"_createAssemblyWatcher2");function QA(){return this.opts.waitForEncoding||this.opts.waitForMetadata}o(QA,"_shouldWaitAfterUpload2");function JA(r,n){return Promise.all(n.map(c=>{let p=this.uppy.getFile(c);return this.client.reserveFile(r.status,p)}))}o(JA,"_reserveFiles2");function eP(r){let n=this.uppy.getFiles();for(let c=0;c<n.length;c++){let p=n[c];if(p.uploadURL===r.tus_upload_url||p.tus&&p.tus.uploadUrl===r.tus_upload_url||!r.is_tus_file&&p.name===r.name&&p.size===r.size)return p}}o(eP,"_findFile2");function tP(r,n){let c=this.getPluginState(),p=Yi(this,hf)[hf](n);if(!p){this.uppy.log("[Transloadit] Couldnt file the file, it was likely removed in the process");return}this.setPluginState({files:{...c.files,[n.id]:{assembly:r,id:p.id,uploadedFile:n}}}),this.uppy.emit("transloadit:upload",n,this.getAssembly(r))}o(tP,"_onFileUploadComplete2");function iP(r,n,c){let p=this.getPluginState(),_=p.files[c.original_id];c.localId=_?_.id:null;let O={result:c,stepName:n,id:c.id,assembly:r};this.setPluginState({results:[...p.results,O]}),this.uppy.emit("transloadit:result",n,c,this.getAssembly(r))}o(iP,"_onResult2");function rP(r){let n=r.assembly_ssl_url;this.client.getAssemblyStatus(n).then(c=>{let p=c.assembly_id,_=this.getPluginState();this.setPluginState({assemblies:{..._.assemblies,[p]:c}}),this.uppy.emit("transloadit:complete",c)})}o(rP,"_onAssemblyFinished2");async function sP(r){await this.client.cancelAssembly(r),this.uppy.emit("transloadit:assembly-cancelled",r)}o(sP,"_cancelAssembly2");function aP(r){let{status:n}=r,c=n.assembly_id;return this.activeAssemblies[c]=r,r.on("status",p=>{let{assemblies:_}=this.getPluginState();this.setPluginState({assemblies:{..._,[c]:p}})}),r.on("upload",p=>{Yi(this,$w)[$w](c,p)}),r.on("error",p=>{p.assembly=r.status,this.uppy.emit("transloadit:assembly-error",r.status,p)}),r.on("executing",()=>{this.uppy.emit("transloadit:assembly-executing",r.status)}),this.opts.waitForEncoding&&r.on("result",(p,_)=>{Yi(this,Vw)[Vw](c,p,_)}),this.opts.waitForEncoding?r.on("finished",()=>{Yi(this,uf)[uf](r.status)}):this.opts.waitForMetadata&&r.on("metadata",()=>{Yi(this,uf)[uf](r.status)}),r.ok==="ASSEMBLY_COMPLETE"||r.connect(),r}o(aP,"_connectAssembly2"),Dc.VERSION=W9.version,Dc.COMPANION=VA,Dc.COMPANION_PATTERN=YA;var q9={strings:{timedOut:"Upload stalled for %{seconds} seconds, aborting."}};function gg(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(gg,"_classPrivateFieldLooseBase");var $9=0;function Zw(r){return"__private_"+$9+++"_"+r}o(Zw,"_classPrivateFieldLooseKey");var V9={version:"3.0.4"};function Qw(r,n){let c=n;return c||(c=new Error("Upload error")),typeof c=="string"&&(c=new Error(c)),c instanceof Error||(c=Object.assign(new Error("Upload error"),{data:c})),Km(r)?(c=new ii(c,r),c):(c.request=r,c)}o(Qw,"buildResponseError");function Jw(r){return r.data.slice(0,r.data.size,r.meta.type)}o(Jw,"setTypeInBlob");var yf=Zw("queueRequestSocketToken"),e_=Zw("requestSocketToken"),t_=class extends $e{constructor(r,n){super(r,n),Object.defineProperty(this,yf,{writable:!0,value:void 0}),Object.defineProperty(this,e_,{writable:!0,value:async p=>{let _=this.getOptions(p),O=p.remote.providerOptions.provider?is:za,D=new O(this.uppy,p.remote.providerOptions),N=Array.isArray(_.allowedMetaFields)?_.allowedMetaFields:Object.keys(p.meta);return(await D.post(p.remote.url,{...p.remote.body,protocol:"multipart",endpoint:_.endpoint,size:p.data.size,fieldname:_.fieldName,metadata:Object.fromEntries(N.map(Y=>[Y,p.meta[Y]])),httpMethod:_.method,useFormData:_.formData,headers:_.headers})).token}}),this.type="uploader",this.id=this.opts.id||"XHRUpload",this.title="XHRUpload",this.defaultLocale=q9;let c={formData:!0,fieldName:n.bundle?"files[]":"file",method:"post",allowedMetaFields:null,responseUrlFieldName:"url",bundle:!1,headers:{},timeout:30*1e3,limit:5,withCredentials:!1,responseType:"",getResponseData(p){let _={};try{_=JSON.parse(p)}catch(O){r.log(O)}return _},getResponseError(p,_){let O=new Error("Upload error");return Km(_)&&(O=new ii(O,_)),O},validateStatus(p){return p>=200&&p<300}};if(this.opts={...c,...n},this.i18nInit(),this.handleUpload=this.handleUpload.bind(this),bd in this.opts?this.requests=this.opts[bd]:this.requests=new uc(this.opts.limit),this.opts.bundle&&!this.opts.formData)throw new Error("`opts.formData` must be true when `opts.bundle` is enabled.");if((n==null?void 0:n.allowedMetaFields)===void 0&&"metaFields"in this.opts)throw new Error("The `metaFields` option has been renamed to `allowedMetaFields`.");this.uploaderEvents=Object.create(null),gg(this,yf)[yf]=this.requests.wrapPromiseFunction(gg(this,e_)[e_],{priority:-1})}getOptions(r){let n=this.uppy.getState().xhrUpload,{headers:c}=this.opts,p={...this.opts,...n||{},...r.xhrUpload||{},headers:{}};return typeof c=="function"?p.headers=c(r):Object.assign(p.headers,this.opts.headers),n&&Object.assign(p.headers,n.headers),r.xhrUpload&&Object.assign(p.headers,r.xhrUpload.headers),p}addMetadata(r,n,c){(Array.isArray(c.allowedMetaFields)?c.allowedMetaFields:Object.keys(n)).forEach(p=>{r.append(p,n[p])})}createFormDataUpload(r,n){let c=new FormData;this.addMetadata(c,r.meta,n);let p=Jw(r);return r.name?c.append(n.fieldName,p,r.meta.name):c.append(n.fieldName,p),c}createBundledUpload(r,n){let c=new FormData,{meta:p}=this.uppy.getState();return this.addMetadata(c,p,n),r.forEach(_=>{let O=this.getOptions(_),D=Jw(_);_.name?c.append(O.fieldName,D,_.name):c.append(O.fieldName,D)}),c}upload(r,n,c){let p=this.getOptions(r);return this.uppy.log(`uploading ${n} of ${c}`),new Promise((_,O)=>{this.uppy.emit("upload-started",r);let D=p.formData?this.createFormDataUpload(r,p):r.data,N=new XMLHttpRequest;this.uploaderEvents[r.id]=new Io(this.uppy);let Y,ie=new A0(p.timeout,()=>{N.abort(),Y.done();let ae=new Error(this.i18n("timedOut",{seconds:Math.ceil(p.timeout/1e3)}));this.uppy.emit("upload-error",r,ae),O(ae)}),X=Ie();N.upload.addEventListener("loadstart",()=>{this.uppy.log(`[XHRUpload] ${X} started`)}),N.upload.addEventListener("progress",ae=>{this.uppy.log(`[XHRUpload] ${X} progress: ${ae.loaded} / ${ae.total}`),ie.progress(),ae.lengthComputable&&this.uppy.emit("upload-progress",r,{uploader:this,bytesUploaded:ae.loaded,bytesTotal:ae.total})}),N.addEventListener("load",()=>{if(this.uppy.log(`[XHRUpload] ${X} finished`),ie.done(),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),p.validateStatus(N.status,N.responseText,N)){let We=p.getResponseData(N.responseText,N),Mt=We[p.responseUrlFieldName],wt={status:N.status,body:We,uploadURL:Mt};return this.uppy.emit("upload-success",r,wt),Mt&&this.uppy.log(`Download ${r.name} from ${Mt}`),_(r)}let ae=p.getResponseData(N.responseText,N),ue=Qw(N,p.getResponseError(N.responseText,N)),xe={status:N.status,body:ae};return this.uppy.emit("upload-error",r,ue,xe),O(ue)}),N.addEventListener("error",()=>{this.uppy.log(`[XHRUpload] ${X} errored`),ie.done(),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null);let ae=Qw(N,p.getResponseError(N.responseText,N));return this.uppy.emit("upload-error",r,ae),O(ae)}),N.open(p.method.toUpperCase(),p.endpoint,!0),N.withCredentials=p.withCredentials,p.responseType!==""&&(N.responseType=p.responseType),Y=this.requests.run(()=>{this.uppy.emit("upload-started",r);let ae=this.getOptions(r);return Object.keys(ae.headers).forEach(ue=>{N.setRequestHeader(ue,ae.headers[ue])}),N.send(D),()=>{ie.done(),N.abort()}}),this.onFileRemove(r.id,()=>{Y.abort(),O(new Error("File removed"))}),this.onCancelAll(r.id,ae=>{let{reason:ue}=ae;ue==="user"&&Y.abort(),O(new Error("Upload cancelled"))})})}async uploadRemote(r){try{if(this.uppy.emit("upload-started",r),r.serverToken)return this.connectToServerSocket(r);let n=await gg(this,yf)[yf](r);return this.uppy.getState().files[r.id]?(this.uppy.setFileState(r.id,{serverToken:n}),this.connectToServerSocket(this.uppy.getFile(r.id))):void 0}catch(n){throw this.uppy.emit("upload-error",r,n),n}}connectToServerSocket(r){return new Promise((n,c)=>{let p=this.getOptions(r),_=r.serverToken,O=wd(r.remote.companionUrl),D,N=o(()=>{D==null&&(D=new Lh({target:`${O}/api/${_}`}),D.on("progress",X=>Xm(this,X,r)),D.on("success",X=>{let ae=p.getResponseData(X.response.responseText,X.response),ue=ae[p.responseUrlFieldName],xe={status:X.response.status,body:ae,uploadURL:ue};return this.uppy.emit("upload-success",r,xe),Y.done(),D.close(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),n()}),D.on("error",X=>{let ae=X.response,ue=ae?p.getResponseError(ae.responseText,ae):Object.assign(new Error(X.error.message),{cause:X.error});this.uppy.emit("upload-error",r,ue),Y.done(),this.uploaderEvents[r.id]&&(this.uploaderEvents[r.id].remove(),this.uploaderEvents[r.id]=null),c(ue)}))},"createSocket");this.uploaderEvents[r.id]=new Io(this.uppy);let Y=this.requests.run(()=>{if(r.isPaused){var X;(X=D)==null||X.send("pause",{})}else N();return()=>D.close()});this.onFileRemove(r.id,()=>{var X;(X=D)==null||X.send("cancel",{}),Y.abort(),n(`upload ${r.id} was removed`)}),this.onCancelAll(r.id,function(X){let{reason:ae}=X===void 0?{}:X;if(ae==="user"){var ue;(ue=D)==null||ue.send("cancel",{}),Y.abort()}n(`upload ${r.id} was canceled`)});let ie=o(()=>{D==null?Y.abort():(D.send("pause",{}),Y.done()),Y=this.requests.run(()=>(r.isPaused||(D==null?N():D.send("resume",{})),()=>D.close()))},"onRetryRequest");this.onRetry(r.id,ie),this.onRetryAll(r.id,ie)}).catch(n=>(this.uppy.emit("upload-error",r,n),Promise.reject(n)))}uploadBundle(r){return new Promise((n,c)=>{let{endpoint:p}=this.opts,{method:_}=this.opts,O=this.uppy.getState().xhrUpload,D=this.createBundledUpload(r,{...this.opts,...O||{}}),N=new XMLHttpRequest,Y=o(X=>{r.forEach(ae=>{this.uppy.emit("upload-error",ae,X)})},"emitError"),ie=new A0(this.opts.timeout,()=>{N.abort();let X=new Error(this.i18n("timedOut",{seconds:Math.ceil(this.opts.timeout/1e3)}));Y(X),c(X)});N.upload.addEventListener("loadstart",()=>{this.uppy.log("[XHRUpload] started uploading bundle"),ie.progress()}),N.upload.addEventListener("progress",X=>{ie.progress(),X.lengthComputable&&r.forEach(ae=>{this.uppy.emit("upload-progress",ae,{uploader:this,bytesUploaded:X.loaded/X.total*ae.size,bytesTotal:ae.size})})}),N.addEventListener("load",X=>{if(ie.done(),this.opts.validateStatus(X.target.status,N.responseText,N)){let ue=this.opts.getResponseData(N.responseText,N),xe={status:X.target.status,body:ue};return r.forEach(We=>{this.uppy.emit("upload-success",We,xe)}),n()}let ae=this.opts.getResponseError(N.responseText,N)||new Error("Upload error");return ae.request=N,Y(ae),c(ae)}),N.addEventListener("error",()=>{ie.done();let X=this.opts.getResponseError(N.responseText,N)||new Error("Upload error");return Y(X),c(X)}),this.uppy.on("cancel-all",function(X){let{reason:ae}=X===void 0?{}:X;ae==="user"&&(ie.done(),N.abort())}),N.open(_.toUpperCase(),p,!0),N.withCredentials=this.opts.withCredentials,this.opts.responseType!==""&&(N.responseType=this.opts.responseType),Object.keys(this.opts.headers).forEach(X=>{N.setRequestHeader(X,this.opts.headers[X])}),N.send(D),r.forEach(X=>{this.uppy.emit("upload-started",X)})})}uploadFiles(r){let n=r.map((c,p)=>{let _=parseInt(p,10)+1,O=r.length;return c.error?Promise.reject(new Error(c.error)):c.isRemote?this.uploadRemote(c,_,O):this.upload(c,_,O)});return vw(n)}onFileRemove(r,n){this.uploaderEvents[r].on("file-removed",c=>{r===c.id&&n(c.id)})}onRetry(r,n){this.uploaderEvents[r].on("upload-retry",c=>{r===c&&n()})}onRetryAll(r,n){this.uploaderEvents[r].on("retry-all",()=>{!this.uppy.getFile(r)||n()})}onCancelAll(r,n){var c=this;this.uploaderEvents[r].on("cancel-all",function(){!c.uppy.getFile(r)||n(...arguments)})}handleUpload(r){if(r.length===0)return this.uppy.log("[XHRUpload] No files to upload!"),Promise.resolve();this.opts.limit===0&&!this.opts[bd]&&this.uppy.log("[XHRUpload] When uploading multiple files at once, consider setting the `limit` option (to `10` for example), to limit the number of concurrent uploads, which helps prevent memory and network issues: https://uppy.io/docs/xhr-upload/#limit-0","warning"),this.uppy.log("[XHRUpload] Uploading...");let n=r.map(c=>this.uppy.getFile(c));if(this.opts.bundle){if(n.some(c=>c.isRemote))throw new Error("Cant upload remote files when the `bundle: true` option is set");if(typeof this.opts.headers=="function")throw new TypeError("`headers` may not be a function when the `bundle: true` option is set");return this.uploadBundle(n)}return this.uploadFiles(n).then(()=>null)}install(){if(this.opts.bundle){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!1}})}this.uppy.addUploader(this.handleUpload)}uninstall(){if(this.opts.bundle){let{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,individualCancellation:!0}})}this.uppy.removeUploader(this.handleUpload)}};o(t_,"XHRUpload"),t_.VERSION=V9.version;var nP=f(w(),1),Y9=f(z(),1),G9={strings:{compressingImages:"Compressing images...",compressedX:"Saved %{size} by compressing images"}};function i_(r,n){if(!Object.prototype.hasOwnProperty.call(r,n))throw new TypeError("attempted to use private field on non-instance");return r}o(i_,"_classPrivateFieldLooseBase");var X9=0;function oP(r){return"__private_"+X9+++"_"+r}o(oP,"_classPrivateFieldLooseKey");var vf=oP("RateLimitedQueue"),lP=class extends $e{constructor(r,n){super(r,n),Object.defineProperty(this,vf,{writable:!0,value:void 0}),this.id=this.opts.id||"Compressor",this.type="modifier",this.defaultLocale=G9;let c={quality:.6,limit:10};this.opts={...c,...n},i_(this,vf)[vf]=new uc(this.opts.limit),this.i18nInit(),this.prepareUpload=this.prepareUpload.bind(this),this.compress=this.compress.bind(this)}compress(r){return new Promise((n,c)=>{new Y9.default(r,{...this.opts,success:n,error:c})})}async prepareUpload(r){let n=0,c=[],p=i_(this,vf)[vf].wrapPromiseFunction(async O=>{try{let D=await this.compress(O.data),N=O.data.size-D.size;this.uppy.log(`[Image Compressor] Image ${O.id} compressed by ${(0,nP.default)(N)}`),n+=N;let{name:Y,type:ie,size:X}=D,ae=Y&&rt(Y).extension;this.uppy.setFileState(O.id,{...Y&&{name:Y},...ae&&{extension:ae},...ie&&{type:ie},...X&&{size:X},data:D}),this.uppy.setFileMeta(O.id,{type:ie}),c.push(O)}catch(D){this.uppy.log(`[Image Compressor] Failed to compress ${O.id}:`,"warning"),this.uppy.log(D,"warning")}}),_=r.map(O=>{let D=this.uppy.getFile(O);return this.uppy.emit("preprocess-progress",D,{mode:"indeterminate",message:this.i18n("compressingImages")}),D.isRemote||(D.data.type||(D.data=D.data.slice(0,D.data.size,D.type)),!D.type.startsWith("image/"))?Promise.resolve():p(D)});await Promise.all(_),this.uppy.emit("compressor:complete",c),n>1024&&this.uppy.info(this.i18n("compressedX",{size:(0,nP.default)(n)}),"info");for(let O of r){let D=this.uppy.getFile(O);this.uppy.emit("preprocess-complete",D)}}install(){this.uppy.addPreProcessor(this.prepareUpload)}uninstall(){this.uppy.removePreProcessor(this.prepareUpload)}};o(lP,"Compressor");function bf(){return bf=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var c=arguments[n];for(var p in c)Object.prototype.hasOwnProperty.call(c,p)&&(r[p]=c[p])}return r},bf.apply(this,arguments)}o(bf,"_extends");var K9={"[object HTMLCollection]":!0,"[object NodeList]":!0,"[object RadioNodeList]":!0},Z9={button:!0,fieldset:!0,reset:!0,submit:!0},Q9={checkbox:!0,radio:!0},J9=/^\s+|\s+$/g,eU=Array.prototype.slice,cP=Object.prototype.toString;function r_(r,n){if(!r)throw new Error("A form is required by getFormData, was given form="+r);n=bf({includeDisabled:!1,trim:!1},n);for(var c={},p,_=[],O={},D=0,N=r.elements.length;D<N;D++){var Y=r.elements[D];Z9[Y.type]||Y.disabled&&!n.includeDisabled||(p=Y.name||Y.id,p&&!O[p]&&(_.push(p),O[p]=!0))}for(var ie=0,X=_.length;ie<X;ie++){p=_[ie];var ae=s_(r,p,n);ae!=null&&(c[p]=ae)}return c}o(r_,"getFormData");function s_(r,n,c){if(!r)throw new Error("A form is required by getFieldData, was given form="+r);if(!n&&cP.call(n)!=="[object String]")throw new Error("A field name is required by getFieldData, was given fieldName="+n);c=bf({includeDisabled:!1,trim:!1},c);var p=r.elements[n];if(!p||p.disabled&&!c.includeDisabled)return null;if(!K9[cP.call(p)])return a_(p,c.trim);for(var _=[],O=!0,D=0,N=p.length;D<N;D++)if(!(p[D].disabled&&!c.includeDisabled)){O&&p[D].type!=="radio"&&(O=!1);var Y=a_(p[D],c.trim);Y!=null&&(_=_.concat(Y))}return O&&_.length===1?_[0]:_.length>0?_:null}o(s_,"getFieldData");function a_(r,n){var c=null,p=r.type;if(p==="select-one")return r.options.length&&(c=r.options[r.selectedIndex].value),c;if(p==="select-multiple"){c=[];for(var _=0,O=r.options.length;_<O;_++)r.options[_].selected&&c.push(r.options[_].value);return c.length===0&&(c=null),c}return p==="file"&&"files"in r?(r.multiple?(c=eU.call(r.files),c.length===0&&(c=null)):c=r.files[0],c):(Q9[p]?r.checked&&(p==="checkbox"&&!r.hasAttribute("value")?c=!0:c=r.value):c=n?r.value.replace(J9,""):r.value,c)}o(a_,"getFormElementValue"),r_.getFieldData=s_;var tU={version:"3.0.1"},n_=class extends $e{constructor(r,n){super(r,n),this.type="acquirer",this.id=this.opts.id||"Form",this.title="Form";let c={target:null,resultName:"uppyResult",getMetaFromForm:!0,addResultToForm:!0,submitOnSuccess:!1,triggerUploadOnSubmit:!1};this.opts={...c,...n},this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleUploadStart=this.handleUploadStart.bind(this),this.handleSuccess=this.handleSuccess.bind(this),this.addResultToForm=this.addResultToForm.bind(this),this.getMetaFromForm=this.getMetaFromForm.bind(this)}handleUploadStart(){this.opts.getMetaFromForm&&this.getMetaFromForm()}handleSuccess(r){this.opts.addResultToForm&&this.addResultToForm(r),this.opts.submitOnSuccess&&this.form.submit()}handleFormSubmit(r){if(this.opts.triggerUploadOnSubmit){r.preventDefault();let n=Pn(r.target.elements),c=[];n.forEach(p=>{(p.tagName==="BUTTON"||p.tagName==="INPUT"&&p.type==="submit")&&!p.disabled&&(p.disabled=!0,c.push(p))}),this.uppy.upload().then(()=>{c.forEach(p=>{p.disabled=!1})},p=>(c.forEach(_=>{_.disabled=!1}),Promise.reject(p))).catch(p=>{this.uppy.log(p.stack||p.message||p)})}}addResultToForm(r){this.uppy.log("[Form] Adding result to the original form:"),this.uppy.log(r);let n=this.form.querySelector(`[name="${this.opts.resultName}"]`);if(n){let c;try{c=JSON.parse(n.value)}catch{}Array.isArray(c)||(c=[]),c.push(r),n.value=JSON.stringify(c);return}n=document.createElement("input"),n.name=this.opts.resultName,n.type="hidden",n.value=JSON.stringify([r]),this.form.appendChild(n)}getMetaFromForm(){let r=r_(this.form);delete r[this.opts.resultName],this.uppy.setMeta(r)}install(){if(this.form=Ue(this.opts.target),!this.form||this.form.nodeName!=="FORM"){this.uppy.log("Form plugin requires a <form> target element passed in options to operate, none was found","error");return}this.form.addEventListener("submit",this.handleFormSubmit),this.uppy.on("upload",this.handleUploadStart),this.uppy.on("complete",this.handleSuccess)}uninstall(){this.form.removeEventListener("submit",this.handleFormSubmit),this.uppy.off("upload",this.handleUploadStart),this.uppy.off("complete",this.handleSuccess)}};o(n_,"Form"),n_.VERSION=tU.version;var iU=f(k(),1),hP=typeof navigator<"u"&&"serviceWorker"in navigator;function uP(){return new Promise((r,n)=>{hP?navigator.serviceWorker.controller?r():navigator.serviceWorker.addEventListener("controllerchange",()=>{r()}):n(new Error("Unsupported"))})}o(uP,"waitForServiceWorker");var o_=class{constructor(r){this.ready=uP(),this.name=r.storeName}list(){let r={},n=new Promise((p,_)=>{r.resolve=p,r.reject=_}),c=o(p=>{if(p.data.store===this.name)switch(p.data.type){case"uppy/ALL_FILES":r.resolve(p.data.files),navigator.serviceWorker.removeEventListener("message",c);break;default:r.reject()}},"onMessage");return this.ready.then(()=>{navigator.serviceWorker.addEventListener("message",c),navigator.serviceWorker.controller.postMessage({type:"uppy/GET_FILES",store:this.name})}),n}put(r){return this.ready.then(()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/ADD_FILE",store:this.name,file:r})})}delete(r){return this.ready.then(()=>{navigator.serviceWorker.controller.postMessage({type:"uppy/REMOVE_FILE",store:this.name,fileID:r})})}};o(o_,"ServiceWorkerStore"),o_.isSupported=hP;var rU=o_,dP=typeof window<"u"&&(window.indexedDB||window.webkitIndexedDB||window.mozIndexedDB||window.OIndexedDB||window.msIndexedDB),sU=!!dP,fP="uppy-blobs",Ea="files",pP=24*60*60*1e3,aU=3;function mP(r){let n=r.openCursor();n.onsuccess=c=>{let p=c.target.result;if(!p)return;let _=p.value;_.expires=Date.now()+pP,p.update(_)}}o(mP,"migrateExpiration");function l_(r){let n=dP.open(r,aU);return new Promise((c,p)=>{n.onupgradeneeded=_=>{let O=_.target.result,{transaction:D}=_.currentTarget;if(_.oldVersion<2&&O.createObjectStore(Ea,{keyPath:"id"}).createIndex("store","store",{unique:!1}),_.oldVersion<3){let N=D.objectStore(Ea);N.createIndex("expires","expires",{unique:!1}),mP(N)}D.oncomplete=()=>{c(O)}},n.onsuccess=_=>{c(_.target.result)},n.onerror=p})}o(l_,"connect");function wf(r){return new Promise((n,c)=>{r.onsuccess=p=>{n(p.target.result)},r.onerror=c})}o(wf,"waitForRequest");var gP=!1,yg=class{constructor(r){this.opts={dbName:fP,storeName:"default",expires:pP,maxFileSize:10*1024*1024,maxTotalSize:300*1024*1024,...r},this.name=this.opts.storeName;let n=o(()=>l_(this.opts.dbName),"createConnection");gP?this.ready=n():(gP=!0,this.ready=yg.cleanup().then(n,n))}key(r){return`${this.name}!${r}`}list(){return this.ready.then(r=>{let n=r.transaction([Ea],"readonly").objectStore(Ea).index("store").getAll(IDBKeyRange.only(this.name));return wf(n)}).then(r=>{let n={};return r.forEach(c=>{n[c.fileID]=c.data}),n})}get(r){return this.ready.then(n=>{let c=n.transaction([Ea],"readonly").objectStore(Ea).get(this.key(r));return wf(c)}).then(n=>({id:n.data.fileID,data:n.data.data}))}getSize(){return this.ready.then(r=>{let n=r.transaction([Ea],"readonly").objectStore(Ea).index("store").openCursor(IDBKeyRange.only(this.name));return new Promise((c,p)=>{let _=0;n.onsuccess=O=>{let D=O.target.result;D?(_+=D.value.data.size,D.continue()):c(_)},n.onerror=()=>{p(new Error("Could not retrieve stored blobs size"))}})})}put(r){return r.data.size>this.opts.maxFileSize?Promise.reject(new Error("File is too big to store.")):this.getSize().then(n=>n>this.opts.maxTotalSize?Promise.reject(new Error("No space left")):this.ready).then(n=>{let c=n.transaction([Ea],"readwrite").objectStore(Ea).add({id:this.key(r.id),fileID:r.id,store:this.name,expires:Date.now()+this.opts.expires,data:r.data});return wf(c)})}delete(r){return this.ready.then(n=>{let c=n.transaction([Ea],"readwrite").objectStore(Ea).delete(this.key(r));return wf(c)})}static cleanup(){return l_(fP).then(r=>{let n=r.transaction([Ea],"readwrite").objectStore(Ea).index("expires").openCursor(IDBKeyRange.upperBound(Date.now()));return new Promise((c,p)=>{n.onsuccess=_=>{let O=_.target.result;O?(O.delete(),O.continue()):c(r)},n.onerror=p})}).then(r=>{r.close()})}};o(yg,"IndexedDBStore"),yg.isSupported=sU;var nU=yg;function yP(){let r=[];for(let n=0;n<localStorage.length;n++){let c=localStorage.key(n);/^uppyState:/.test(c)&&r.push(c.slice(10))}return r}o(yP,"findUppyInstances");function c_(r){try{return JSON.parse(r)}catch{return null}}o(c_,"maybeParse");var vP=!1,Gh=class{constructor(r){this.opts={expires:24*60*60*1e3,...r},this.name=`uppyState:${r.storeName}`,vP||(vP=!0,Gh.cleanup())}load(){let r=localStorage.getItem(this.name);if(!r)return null;let n=c_(r);return n?n.metadata?n.metadata:(this.save(n),n):null}save(r){let n=Date.now()+this.opts.expires,c=JSON.stringify({metadata:r,expires:n});localStorage.setItem(this.name,c)}static cleanup(r){if(r){localStorage.removeItem(`uppyState:${r}`);return}let n=yP(),c=Date.now();n.forEach(p=>{let _=localStorage.getItem(`uppyState:${p}`);if(!_)return;let O=c_(_);!O||O.expires&&O.expires<c&&localStorage.removeItem(`uppyState:${p}`)})}};o(Gh,"MetaDataStore");var oU={version:"3.0.2"},h_=class extends $e{constructor(r,n){super(r,n),this.addBlobToStores=p=>{p.isRemote||(this.ServiceWorkerStore&&this.ServiceWorkerStore.put(p).catch(_=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(_)}),this.IndexedDBStore.put(p).catch(_=>{this.uppy.log("[GoldenRetriever] Could not store file","warning"),this.uppy.log(_)}))},this.removeBlobFromStores=p=>{this.ServiceWorkerStore&&this.ServiceWorkerStore.delete(p.id).catch(_=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(_)}),this.IndexedDBStore.delete(p.id).catch(_=>{this.uppy.log("[GoldenRetriever] Failed to remove file","warning"),this.uppy.log(_)})},this.replaceBlobInStores=p=>{this.removeBlobFromStores(p),this.addBlobToStores(p)},this.handleRestoreConfirmed=()=>{this.uppy.log("[GoldenRetriever] Restore confirmed, proceeding...");let{currentUploads:p}=this.uppy.getState();p&&(this.uppy.resumeAll(),Object.keys(p).forEach(_=>{this.uppy.restore(_,p[_])})),this.uppy.setState({recoveredState:null})},this.abortRestore=()=>{this.uppy.log("[GoldenRetriever] Aborting restore...");let p=Object.keys(this.uppy.getState().files);this.deleteBlobs(p).then(()=>{this.uppy.log(`[GoldenRetriever] Removed ${p.length} files`)}).catch(_=>{this.uppy.log(`[GoldenRetriever] Could not remove ${p.length} files`,"warning"),this.uppy.log(_)}),this.uppy.cancelAll(),this.uppy.setState({recoveredState:null}),Gh.cleanup(this.uppy.opts.id)},this.handleComplete=p=>{let{successful:_}=p,O=_.map(D=>D.id);this.deleteBlobs(O).then(()=>{this.uppy.log(`[GoldenRetriever] Removed ${_.length} files that finished uploading`)}).catch(D=>{this.uppy.log(`[GoldenRetriever] Could not remove ${_.length} files that finished uploading`,"warning"),this.uppy.log(D)}),this.uppy.setState({recoveredState:null}),Gh.cleanup(this.uppy.opts.id)},this.restoreBlobs=()=>{this.uppy.getFiles().length>0?Promise.all([this.loadFileBlobsFromServiceWorker(),this.loadFileBlobsFromIndexedDB()]).then(p=>{let _={...p[0],...p[1]};this.onBlobsLoaded(_)}):this.uppy.log("[GoldenRetriever] No files need to be loaded, only restoring processing state...")},this.type="debugger",this.id=this.opts.id||"GoldenRetriever",this.title="Golden Retriever";let c={expires:24*60*60*1e3,serviceWorker:!1};this.opts={...c,...n},this.MetaDataStore=new Gh({expires:this.opts.expires,storeName:r.getID()}),this.ServiceWorkerStore=null,this.opts.serviceWorker&&(this.ServiceWorkerStore=new rU({storeName:r.getID()})),this.IndexedDBStore=new nU({expires:this.opts.expires,...this.opts.indexedDB||{},storeName:r.getID()}),this.saveFilesStateToLocalStorage=(0,iU.default)(this.saveFilesStateToLocalStorage.bind(this),500,{leading:!0,trailing:!0}),this.restoreState=this.restoreState.bind(this),this.loadFileBlobsFromServiceWorker=this.loadFileBlobsFromServiceWorker.bind(this),this.loadFileBlobsFromIndexedDB=this.loadFileBlobsFromIndexedDB.bind(this),this.onBlobsLoaded=this.onBlobsLoaded.bind(this)}restoreState(){let r=this.MetaDataStore.load();r&&(this.uppy.log("[GoldenRetriever] Recovered some state from Local Storage"),this.uppy.setState({currentUploads:r.currentUploads||{},files:r.files||{},recoveredState:r}),this.savedPluginData=r.pluginData)}getWaitingFiles(){let r={};return this.uppy.getFiles().forEach(n=>{(!n.progress||!n.progress.uploadStarted)&&(r[n.id]=n)}),r}getUploadingFiles(){let r={},{currentUploads:n}=this.uppy.getState();return n&&Object.keys(n).forEach(c=>{n[c].fileIDs.forEach(p=>{r[p]=this.uppy.getFile(p)})}),r}saveFilesStateToLocalStorage(){let r={...this.getWaitingFiles(),...this.getUploadingFiles()};if(Object.keys(r).length===0){this.uppy.getState().recoveredState!==null&&this.uppy.setState({recoveredState:null}),Gh.cleanup(this.uppy.opts.id);return}let n={};Object.keys(r).forEach(_=>{r[_].isRemote?n[_]={...r[_],isRestored:!0}:n[_]={...r[_],isRestored:!0,data:null,preview:null}});let c={};this.uppy.emit("restore:get-data",_=>{Object.assign(c,_)});let{currentUploads:p}=this.uppy.getState();this.MetaDataStore.save({currentUploads:p,files:n,pluginData:c})}loadFileBlobsFromServiceWorker(){return this.ServiceWorkerStore?this.ServiceWorkerStore.list().then(r=>{let n=Object.keys(r).length;return n>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${n} blobs from Service Worker!`),r):(this.uppy.log("[GoldenRetriever] No blobs found in Service Worker, trying IndexedDB now..."),{})}).catch(r=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from Service Worker","warning"),this.uppy.log(r),{})):Promise.resolve({})}loadFileBlobsFromIndexedDB(){return this.IndexedDBStore.list().then(r=>{let n=Object.keys(r).length;return n>0?(this.uppy.log(`[GoldenRetriever] Successfully recovered ${n} blobs from IndexedDB!`),r):(this.uppy.log("[GoldenRetriever] No blobs found in IndexedDB"),{})}).catch(r=>(this.uppy.log("[GoldenRetriever] Failed to recover blobs from IndexedDB","warning"),this.uppy.log(r),{}))}onBlobsLoaded(r){let n=[],c={...this.uppy.getState().files};Object.keys(r).forEach(p=>{let _=this.uppy.getFile(p);if(!_){n.push(p);return}let O={data:r[p],isRestored:!0,isGhost:!1};c[p]={..._,...O}}),Object.keys(c).forEach(p=>{c[p].data===null&&(c[p]={...c[p],isGhost:!0})}),this.uppy.setState({files:c}),this.uppy.emit("restored",this.savedPluginData),n.length&&this.deleteBlobs(n).then(()=>{this.uppy.log(`[GoldenRetriever] Cleaned up ${n.length} old files`)}).catch(p=>{this.uppy.log(`[GoldenRetriever] Could not clean up ${n.length} old files`,"warning"),this.uppy.log(p)})}deleteBlobs(r){let n=[];return r.forEach(c=>{this.ServiceWorkerStore&&n.push(this.ServiceWorkerStore.delete(c)),this.IndexedDBStore&&n.push(this.IndexedDBStore.delete(c))}),Promise.all(n)}install(){this.restoreState(),this.restoreBlobs(),this.uppy.on("file-added",this.addBlobToStores),this.uppy.on("file-editor:complete",this.replaceBlobInStores),this.uppy.on("file-removed",this.removeBlobFromStores),this.uppy.on("state-update",this.saveFilesStateToLocalStorage),this.uppy.on("restore-confirmed",this.handleRestoreConfirmed),this.uppy.on("restore-canceled",this.abortRestore),this.uppy.on("complete",this.handleComplete)}uninstall(){this.uppy.off("file-added",this.addBlobToStores),this.uppy.off("file-editor:complete",this.replaceBlobInStores),this.uppy.off("file-removed",this.removeBlobFromStores),this.uppy.off("state-update",this.saveFilesStateToLocalStorage),this.uppy.off("restore-confirmed",this.handleRestoreConfirmed),this.uppy.off("restore-canceled",this.abortRestore),this.uppy.off("complete",this.handleComplete)}};o(h_,"GoldenRetriever"),h_.VERSION=oU.version;var lU={version:"3.0.1"},u_=class extends vt{constructor(r,n){super(r,n),this.type="debugger",this.id=this.opts.id||"ReduxDevTools",this.title="Redux DevTools";let c={};this.opts={...c,...n},this.handleStateChange=this.handleStateChange.bind(this),this.initDevTools=this.initDevTools.bind(this)}handleStateChange(r,n){this.devTools.send("UPPY_STATE_UPDATE",n)}initDevTools(){this.devTools=window.devToolsExtension.connect(),this.devToolsUnsubscribe=this.devTools.subscribe(r=>{if(r.type==="DISPATCH")switch(r.payload.type){case"RESET":this.uppy.cancelAll();return;case"IMPORT_STATE":{let{computedStates:n}=r.payload.nextLiftedState;this.uppy.store.state={...this.uppy.getState(),...n[n.length-1].state},this.uppy.updateAll(this.uppy.getState());return}case"JUMP_TO_STATE":case"JUMP_TO_ACTION":this.uppy.store.state={...this.uppy.getState(),...JSON.parse(r.state)},this.uppy.updateAll(this.uppy.getState());break}})}install(){this.withDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__,this.withDevTools&&(this.initDevTools(),this.uppy.on("state-update",this.handleStateChange))}uninstall(){this.withDevTools&&(this.devToolsUnsubscribe(),this.uppy.off("state-update",this.handleStateUpdate))}};o(u_,"ReduxDevTools"),u_.VERSION=lU.version;function bP(){throw new Error("Core has been renamed to Uppy")}o(bP,"Core");var cU={ProviderView:IS};Dc.COMPANION_URL=VA,Dc.COMPANION_ALLOWED_HOSTS=YA;var hU={};globalThis.Uppy=g})();/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*//*!
 * Compressor.js v1.1.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-10-05T02:32:40.212Z
 *//*!
 * Cropper.js v1.5.7
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2020-05-23T05:23:00.081Z
 *//**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param {string} phrase that needs interpolation, with placeholders
 * @param {object} options with values that will be used to replace placeholders
 * @returns {any[]} interpolated
 */var k1={exports:{}};(function(t,e){(function(i,s){typeof e.nodeName!="string"?t.exports=s():i.Croppie=s()})(typeof self<"u"?self:Rp,function(){if(typeof Promise!="function"){/*! promise-polyfill 3.1.0 */(function(ee){function fe(Be,nt){return function(){Be.apply(nt,arguments)}}function le(Be){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Be!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],ti(Be,fe(Ke,this),fe(Ye,this))}function Fe(Be){var nt=this;return this._state===null?void this._deferreds.push(Be):void qe(function(){var Ge=nt._state?Be.onFulfilled:Be.onRejected;if(Ge===null)return void(nt._state?Be.resolve:Be.reject)(nt._value);var Pt;try{Pt=Ge(nt._value)}catch(Yt){return void Be.reject(Yt)}Be.resolve(Pt)})}function Ke(Be){try{if(Be===this)throw new TypeError("A promise cannot be resolved with itself.");if(Be&&(typeof Be=="object"||typeof Be=="function")){var nt=Be.then;if(typeof nt=="function")return void ti(fe(nt,Be),fe(Ke,this),fe(Ye,this))}this._state=!0,this._value=Be,Tt.call(this)}catch(Ge){Ye.call(this,Ge)}}function Ye(Be){this._state=!1,this._value=Be,Tt.call(this)}function Tt(){for(var Be=0,nt=this._deferreds.length;nt>Be;Be++)Fe.call(this,this._deferreds[Be]);this._deferreds=null}function Vt(Be,nt,Ge,Pt){this.onFulfilled=typeof Be=="function"?Be:null,this.onRejected=typeof nt=="function"?nt:null,this.resolve=Ge,this.reject=Pt}function ti(Be,nt,Ge){var Pt=!1;try{Be(function(Yt){Pt||(Pt=!0,nt(Yt))},function(Yt){Pt||(Pt=!0,Ge(Yt))})}catch(Yt){if(Pt)return;Pt=!0,Ge(Yt)}}var ce=setTimeout,qe=typeof setImmediate=="function"&&setImmediate||function(Be){ce(Be,1)},lt=Array.isArray||function(Be){return Object.prototype.toString.call(Be)==="[object Array]"};le.prototype.catch=function(Be){return this.then(null,Be)},le.prototype.then=function(Be,nt){var Ge=this;return new le(function(Pt,Yt){Fe.call(Ge,new Vt(Be,nt,Pt,Yt))})},le.all=function(){var Be=Array.prototype.slice.call(arguments.length===1&&lt(arguments[0])?arguments[0]:arguments);return new le(function(nt,Ge){function Pt(di,Bi){try{if(Bi&&(typeof Bi=="object"||typeof Bi=="function")){var hi=Bi.then;if(typeof hi=="function")return void hi.call(Bi,function(zi){Pt(di,zi)},Ge)}Be[di]=Bi,--Yt===0&&nt(Be)}catch(zi){Ge(zi)}}if(Be.length===0)return nt([]);for(var Yt=Be.length,_i=0;_i<Be.length;_i++)Pt(_i,Be[_i])})},le.resolve=function(Be){return Be&&typeof Be=="object"&&Be.constructor===le?Be:new le(function(nt){nt(Be)})},le.reject=function(Be){return new le(function(nt,Ge){Ge(Be)})},le.race=function(Be){return new le(function(nt,Ge){for(var Pt=0,Yt=Be.length;Yt>Pt;Pt++)Be[Pt].then(nt,Ge)})},le._setImmediateFn=function(Be){qe=Be},t.exports?t.exports=le:ee.Promise||(ee.Promise=le)})(this)}typeof window<"u"&&typeof window.CustomEvent!="function"&&function(){function ee(fe,le){le=le||{bubbles:!1,cancelable:!1,detail:void 0};var Fe=document.createEvent("CustomEvent");return Fe.initCustomEvent(fe,le.bubbles,le.cancelable,le.detail),Fe}ee.prototype=window.Event.prototype,window.CustomEvent=ee}(),typeof HTMLCanvasElement<"u"&&!HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(ee,fe,le){for(var Fe=atob(this.toDataURL(fe,le).split(",")[1]),Ke=Fe.length,Ye=new Uint8Array(Ke),Tt=0;Tt<Ke;Tt++)Ye[Tt]=Fe.charCodeAt(Tt);ee(new Blob([Ye],{type:fe||"image/png"}))}});var i=["Webkit","Moz","ms"],s=typeof document<"u"?document.createElement("div").style:{},a=[1,8,3,6],l=[2,7,4,5],o,h,d;function m(ee){if(ee in s)return ee;for(var fe=ee[0].toUpperCase()+ee.slice(1),le=i.length;le--;)if(ee=i[le]+fe,ee in s)return ee}h=m("transform"),o=m("transformOrigin"),d=m("userSelect");function f(ee,fe){var le=a.indexOf(ee)>-1?a:l,Fe=le.indexOf(ee),Ke=fe/90%le.length;return le[(le.length+Fe+Ke%le.length)%le.length]}function b(ee,fe){ee=ee||{};for(var le in fe)fe[le]&&fe[le].constructor&&fe[le].constructor===Object?(ee[le]=ee[le]||{},b(ee[le],fe[le])):ee[le]=fe[le];return ee}function k(ee){return b({},ee)}function w(ee,fe,le){var Fe;return function(){var Ke=this,Ye=arguments,Tt=function(){Fe=null,ee.apply(Ke,Ye)};clearTimeout(Fe),Fe=setTimeout(Tt,fe)}}function E(ee){if("createEvent"in document){var fe=document.createEvent("HTMLEvents");fe.initEvent("change",!1,!0),ee.dispatchEvent(fe)}else ee.fireEvent("onchange")}function P(ee,fe,le){if(typeof fe=="string"){var Fe=fe;fe={},fe[Fe]=le}for(var Ke in fe)ee.style[Ke]=fe[Ke]}function L(ee,fe){ee.classList?ee.classList.add(fe):ee.className+=" "+fe}function R(ee,fe){ee.classList?ee.classList.remove(fe):ee.className=ee.className.replace(fe,"")}function u(ee,fe){for(var le in fe)ee.setAttribute(le,fe[le])}function T(ee){return parseInt(ee,10)}function y(ee,fe){if(!ee)throw"Source image missing";var le=new Image;return le.style.opacity="0",new Promise(function(Fe,Ke){function Ye(){le.style.opacity="1",setTimeout(function(){Fe(le)},1)}le.removeAttribute("crossOrigin"),ee.match(/^https?:\/\/|^\/\//)&&le.setAttribute("crossOrigin","anonymous"),le.onload=function(){fe?EXIF.getData(le,function(){Ye()}):Ye()},le.onerror=function(Tt){le.style.opacity=1,setTimeout(function(){Ke(Tt)},1)},le.src=ee})}function S(ee,fe){var le=ee.naturalWidth,Fe=ee.naturalHeight,Ke=fe||U(ee);if(Ke&&Ke>=5){var Ye=le;le=Fe,Fe=Ye}return{width:le,height:Fe}}var C={translate3d:{suffix:", 0px"},translate:{suffix:""}},M=function(ee,fe,le){this.x=parseFloat(ee),this.y=parseFloat(fe),this.scale=parseFloat(le)};M.parse=function(ee){return ee.style?M.parse(ee.style[h]):ee.indexOf("matrix")>-1||ee.indexOf("none")>-1?M.fromMatrix(ee):M.fromString(ee)},M.fromMatrix=function(ee){var fe=ee.substring(7).split(",");return(!fe.length||ee==="none")&&(fe=[1,0,0,1,0,0]),new M(T(fe[4]),T(fe[5]),parseFloat(fe[0]))},M.fromString=function(ee){var fe=ee.split(") "),le=fe[0].substring(yr.globals.translate.length+1).split(","),Fe=fe.length>1?fe[1].substring(6):1,Ke=le.length>1?le[0]:0,Ye=le.length>1?le[1]:0;return new M(Ke,Ye,Fe)},M.prototype.toString=function(){var ee=C[yr.globals.translate].suffix||"";return yr.globals.translate+"("+this.x+"px, "+this.y+"px"+ee+") scale("+this.scale+")"};var I=function(ee){if(!ee||!ee.style[o]){this.x=0,this.y=0;return}var fe=ee.style[o].split(" ");this.x=parseFloat(fe[0]),this.y=parseFloat(fe[1])};I.prototype.toString=function(){return this.x+"px "+this.y+"px"};function U(ee){return ee.exifdata&&ee.exifdata.Orientation?T(ee.exifdata.Orientation):1}function z(ee,fe,le){var Fe=fe.width,Ke=fe.height,Ye=ee.getContext("2d");switch(ee.width=fe.width,ee.height=fe.height,Ye.save(),le){case 2:Ye.translate(Fe,0),Ye.scale(-1,1);break;case 3:Ye.translate(Fe,Ke),Ye.rotate(180*Math.PI/180);break;case 4:Ye.translate(0,Ke),Ye.scale(1,-1);break;case 5:ee.width=Ke,ee.height=Fe,Ye.rotate(90*Math.PI/180),Ye.scale(1,-1);break;case 6:ee.width=Ke,ee.height=Fe,Ye.rotate(90*Math.PI/180),Ye.translate(0,-Ke);break;case 7:ee.width=Ke,ee.height=Fe,Ye.rotate(-90*Math.PI/180),Ye.translate(-Fe,Ke),Ye.scale(1,-1);break;case 8:ee.width=Ke,ee.height=Fe,Ye.translate(0,Fe),Ye.rotate(-90*Math.PI/180);break}Ye.drawImage(fe,0,0,Fe,Ke),Ye.restore()}function g(){var ee=this,fe="croppie-container",le=ee.options.viewport.type?"cr-vp-"+ee.options.viewport.type:null,Fe,Ke,Ye,Tt,Vt,ti;ee.options.useCanvas=ee.options.enableOrientation||x.call(ee),ee.data={},ee.elements={},Fe=ee.elements.boundary=document.createElement("div"),Ye=ee.elements.viewport=document.createElement("div"),Ke=ee.elements.img=document.createElement("img"),Tt=ee.elements.overlay=document.createElement("div"),ee.options.useCanvas?(ee.elements.canvas=document.createElement("canvas"),ee.elements.preview=ee.elements.canvas):ee.elements.preview=Ke,L(Fe,"cr-boundary"),Fe.setAttribute("aria-dropeffect","none"),Vt=ee.options.boundary.width,ti=ee.options.boundary.height,P(Fe,{width:Vt+(isNaN(Vt)?"":"px"),height:ti+(isNaN(ti)?"":"px")}),L(Ye,"cr-viewport"),le&&L(Ye,le),P(Ye,{width:ee.options.viewport.width+"px",height:ee.options.viewport.height+"px"}),Ye.setAttribute("tabindex",0),L(ee.elements.preview,"cr-image"),u(ee.elements.preview,{alt:"preview","aria-grabbed":"false"}),L(Tt,"cr-overlay"),ee.element.appendChild(Fe),Fe.appendChild(ee.elements.preview),Fe.appendChild(Ye),Fe.appendChild(Tt),L(ee.element,fe),ee.options.customClass&&L(ee.element,ee.options.customClass),he.call(this),ee.options.enableZoom&&B.call(ee),ee.options.enableResize&&A.call(ee)}function x(){return this.options.enableExif&&window.EXIF}function A(){var ee=this,fe=document.createElement("div"),le=!1,Fe,Ke,Ye,Tt=50,Vt,ti,ce,qe;L(fe,"cr-resizer"),P(fe,{width:this.options.viewport.width+"px",height:this.options.viewport.height+"px"}),this.options.resizeControls.height&&(ce=document.createElement("div"),L(ce,"cr-resizer-vertical"),fe.appendChild(ce)),this.options.resizeControls.width&&(qe=document.createElement("div"),L(qe,"cr-resizer-horisontal"),fe.appendChild(qe));function lt(Ge){if(!(Ge.button!==void 0&&Ge.button!==0)&&(Ge.preventDefault(),!le)){var Pt=ee.elements.overlay.getBoundingClientRect();if(le=!0,Ke=Ge.pageX,Ye=Ge.pageY,Fe=Ge.currentTarget.className.indexOf("vertical")!==-1?"v":"h",Vt=Pt.width,ti=Pt.height,Ge.touches){var Yt=Ge.touches[0];Ke=Yt.pageX,Ye=Yt.pageY}window.addEventListener("mousemove",Be),window.addEventListener("touchmove",Be),window.addEventListener("mouseup",nt),window.addEventListener("touchend",nt),document.body.style[d]="none"}}function Be(Ge){var Pt=Ge.pageX,Yt=Ge.pageY;if(Ge.preventDefault(),Ge.touches){var _i=Ge.touches[0];Pt=_i.pageX,Yt=_i.pageY}var di=Pt-Ke,Bi=Yt-Ye,hi=ee.options.viewport.height+Bi,zi=ee.options.viewport.width+di;Fe==="v"&&hi>=Tt&&hi<=ti?(P(fe,{height:hi+"px"}),ee.options.boundary.height+=Bi,P(ee.elements.boundary,{height:ee.options.boundary.height+"px"}),ee.options.viewport.height+=Bi,P(ee.elements.viewport,{height:ee.options.viewport.height+"px"})):Fe==="h"&&zi>=Tt&&zi<=Vt&&(P(fe,{width:zi+"px"}),ee.options.boundary.width+=di,P(ee.elements.boundary,{width:ee.options.boundary.width+"px"}),ee.options.viewport.width+=di,P(ee.elements.viewport,{width:ee.options.viewport.width+"px"})),Q.call(ee),Ae.call(ee),G.call(ee),ve.call(ee),Ye=Yt,Ke=Pt}function nt(){le=!1,window.removeEventListener("mousemove",Be),window.removeEventListener("touchmove",Be),window.removeEventListener("mouseup",nt),window.removeEventListener("touchend",nt),document.body.style[d]=""}ce&&(ce.addEventListener("mousedown",lt),ce.addEventListener("touchstart",lt)),qe&&(qe.addEventListener("mousedown",lt),qe.addEventListener("touchstart",lt)),this.elements.boundary.appendChild(fe)}function F(ee){if(this.options.enableZoom){var fe=this.elements.zoomer,le=yi(ee,4);fe.value=Math.max(parseFloat(fe.min),Math.min(parseFloat(fe.max),le)).toString()}}function B(){var ee=this,fe=ee.elements.zoomerWrap=document.createElement("div"),le=ee.elements.zoomer=document.createElement("input");L(fe,"cr-slider-wrap"),L(le,"cr-slider"),le.type="range",le.step="0.0001",le.value="1",le.style.display=ee.options.showZoomer?"":"none",le.setAttribute("aria-label","zoom"),ee.element.appendChild(fe),fe.appendChild(le),ee._currentZoom=1;function Fe(){j.call(ee,{value:parseFloat(le.value),origin:new I(ee.elements.preview),viewportRect:ee.elements.viewport.getBoundingClientRect(),transform:M.parse(ee.elements.preview)})}function Ke(Ye){var Tt,Vt;if(ee.options.mouseWheelZoom==="ctrl"&&Ye.ctrlKey!==!0)return 0;Ye.wheelDelta?Tt=Ye.wheelDelta/1200:Ye.deltaY?Tt=Ye.deltaY/1060:Ye.detail?Tt=Ye.detail/-60:Tt=0,Vt=ee._currentZoom+Tt*ee._currentZoom,Ye.preventDefault(),F.call(ee,Vt),Fe.call(ee)}ee.elements.zoomer.addEventListener("input",Fe),ee.elements.zoomer.addEventListener("change",Fe),ee.options.mouseWheelZoom&&(ee.elements.boundary.addEventListener("mousewheel",Ke),ee.elements.boundary.addEventListener("DOMMouseScroll",Ke))}function j(ee){var fe=this,le=ee?ee.transform:M.parse(fe.elements.preview),Fe=ee?ee.viewportRect:fe.elements.viewport.getBoundingClientRect(),Ke=ee?ee.origin:new I(fe.elements.preview);function Ye(){var ce={};ce[h]=le.toString(),ce[o]=Ke.toString(),P(fe.elements.preview,ce)}if(fe._currentZoom=ee?ee.value:fe._currentZoom,le.scale=fe._currentZoom,fe.elements.zoomer.setAttribute("aria-valuenow",fe._currentZoom),Ye(),fe.options.enforceBoundary){var Tt=$.call(fe,Fe),Vt=Tt.translate,ti=Tt.origin;le.x>=Vt.maxX&&(Ke.x=ti.minX,le.x=Vt.maxX),le.x<=Vt.minX&&(Ke.x=ti.maxX,le.x=Vt.minX),le.y>=Vt.maxY&&(Ke.y=ti.minY,le.y=Vt.maxY),le.y<=Vt.minY&&(Ke.y=ti.maxY,le.y=Vt.minY)}Ye(),Z.call(fe),ve.call(fe)}function $(ee){var fe=this,le=fe._currentZoom,Fe=ee.width,Ke=ee.height,Ye=fe.elements.boundary.clientWidth/2,Tt=fe.elements.boundary.clientHeight/2,Vt=fe.elements.preview.getBoundingClientRect(),ti=Vt.width,ce=Vt.height,qe=Fe/2,lt=Ke/2,Be=(qe/le-Ye)*-1,nt=Be-(ti*(1/le)-Fe*(1/le)),Ge=(lt/le-Tt)*-1,Pt=Ge-(ce*(1/le)-Ke*(1/le)),Yt=1/le*qe,_i=ti*(1/le)-Yt,di=1/le*lt,Bi=ce*(1/le)-di;return{translate:{maxX:Be,minX:nt,maxY:Ge,minY:Pt},origin:{maxX:_i,minX:Yt,maxY:Bi,minY:di}}}function G(ee){var fe=this,le=fe._currentZoom,Fe=fe.elements.preview.getBoundingClientRect(),Ke=fe.elements.viewport.getBoundingClientRect(),Ye=M.parse(fe.elements.preview.style[h]),Tt=new I(fe.elements.preview),Vt=Ke.top-Fe.top+Ke.height/2,ti=Ke.left-Fe.left+Ke.width/2,ce={},qe={};if(ee){var lt=Tt.x,Be=Tt.y,nt=Ye.x,Ge=Ye.y;ce.y=lt,ce.x=Be,Ye.y=nt,Ye.x=Ge}else ce.y=Vt/le,ce.x=ti/le,qe.y=(ce.y-Tt.y)*(1-le),qe.x=(ce.x-Tt.x)*(1-le),Ye.x-=qe.x,Ye.y-=qe.y;var Pt={};Pt[o]=ce.x+"px "+ce.y+"px",Pt[h]=Ye.toString(),P(fe.elements.preview,Pt)}function he(){var ee=this,fe=!1,le,Fe,Ke,Ye,Tt;function Vt(Ge,Pt){var Yt=ee.elements.preview.getBoundingClientRect(),_i=Tt.y+Pt,di=Tt.x+Ge;ee.options.enforceBoundary?(Ye.top>Yt.top+Pt&&Ye.bottom<Yt.bottom+Pt&&(Tt.y=_i),Ye.left>Yt.left+Ge&&Ye.right<Yt.right+Ge&&(Tt.x=di)):(Tt.y=_i,Tt.x=di)}function ti(Ge){ee.elements.preview.setAttribute("aria-grabbed",Ge),ee.elements.boundary.setAttribute("aria-dropeffect",Ge?"move":"none")}function ce(Ge){var Pt=37,Yt=38,_i=39,di=40;if(Ge.shiftKey&&(Ge.keyCode===Yt||Ge.keyCode===di)){var Bi;Ge.keyCode===Yt?Bi=parseFloat(ee.elements.zoomer.value)+parseFloat(ee.elements.zoomer.step):Bi=parseFloat(ee.elements.zoomer.value)-parseFloat(ee.elements.zoomer.step),ee.setZoom(Bi)}else if(ee.options.enableKeyMovement&&Ge.keyCode>=37&&Ge.keyCode<=40){Ge.preventDefault();var hi=zi(Ge.keyCode);Tt=M.parse(ee.elements.preview),document.body.style[d]="none",Ye=ee.elements.viewport.getBoundingClientRect(),qe(hi)}function zi(Ss){switch(Ss){case Pt:return[1,0];case Yt:return[0,1];case _i:return[-1,0];case di:return[0,-1]}}}function qe(Ge){var Pt=Ge[0],Yt=Ge[1],_i={};Vt(Pt,Yt),_i[h]=Tt.toString(),P(ee.elements.preview,_i),Q.call(ee),document.body.style[d]="",G.call(ee),ve.call(ee),Ke=0}function lt(Ge){if(!(Ge.button!==void 0&&Ge.button!==0)&&(Ge.preventDefault(),!fe)){if(fe=!0,le=Ge.pageX,Fe=Ge.pageY,Ge.touches){var Pt=Ge.touches[0];le=Pt.pageX,Fe=Pt.pageY}ti(fe),Tt=M.parse(ee.elements.preview),window.addEventListener("mousemove",Be),window.addEventListener("touchmove",Be),window.addEventListener("mouseup",nt),window.addEventListener("touchend",nt),document.body.style[d]="none",Ye=ee.elements.viewport.getBoundingClientRect()}}function Be(Ge){Ge.preventDefault();var Pt=Ge.pageX,Yt=Ge.pageY;if(Ge.touches){var _i=Ge.touches[0];Pt=_i.pageX,Yt=_i.pageY}var di=Pt-le,Bi=Yt-Fe,hi={};if(Ge.type==="touchmove"&&Ge.touches.length>1){var zi=Ge.touches[0],Ss=Ge.touches[1],es=Math.sqrt((zi.pageX-Ss.pageX)*(zi.pageX-Ss.pageX)+(zi.pageY-Ss.pageY)*(zi.pageY-Ss.pageY));Ke||(Ke=es/ee._currentZoom);var Tr=es/Ke;F.call(ee,Tr),E(ee.elements.zoomer);return}Vt(di,Bi),hi[h]=Tt.toString(),P(ee.elements.preview,hi),Q.call(ee),Fe=Yt,le=Pt}function nt(){fe=!1,ti(fe),window.removeEventListener("mousemove",Be),window.removeEventListener("touchmove",Be),window.removeEventListener("mouseup",nt),window.removeEventListener("touchend",nt),document.body.style[d]="",G.call(ee),ve.call(ee),Ke=0}ee.elements.overlay.addEventListener("mousedown",lt),ee.elements.viewport.addEventListener("keydown",ce),ee.elements.overlay.addEventListener("touchstart",lt)}function Q(){if(this.elements){var ee=this,fe=ee.elements.boundary.getBoundingClientRect(),le=ee.elements.preview.getBoundingClientRect();P(ee.elements.overlay,{width:le.width+"px",height:le.height+"px",top:le.top-fe.top+"px",left:le.left-fe.left+"px"})}}var Z=w(Q,500);function ve(){var ee=this,fe=ee.get();if(Ie.call(ee))if(ee.options.update.call(ee,fe),ee.$&&typeof Prototype>"u")ee.$(ee.element).trigger("update.croppie",fe);else{var le;window.CustomEvent?le=new CustomEvent("update",{detail:fe}):(le=document.createEvent("CustomEvent"),le.initCustomEvent("update",!0,!0,fe)),ee.element.dispatchEvent(le)}}function Ie(){return this.elements.preview.offsetHeight>0&&this.elements.preview.offsetWidth>0}function Ve(){var ee=this,fe=1,le={},Fe=ee.elements.preview,Ke,Ye=new M(0,0,fe),Tt=new I,Vt=Ie.call(ee);!Vt||ee.data.bound||(ee.data.bound=!0,le[h]=Ye.toString(),le[o]=Tt.toString(),le.opacity=1,P(Fe,le),Ke=ee.elements.preview.getBoundingClientRect(),ee._originalImageWidth=Ke.width,ee._originalImageHeight=Ke.height,ee.data.orientation=x.call(ee)?U(ee.elements.img):ee.data.orientation,ee.options.enableZoom?Ae.call(ee,!0):ee._currentZoom=fe,Ye.scale=ee._currentZoom,le[h]=Ye.toString(),P(Fe,le),ee.data.points.length?ze.call(ee,ee.data.points):et.call(ee),G.call(ee),Q.call(ee))}function Ae(ee){var fe=this,le=Math.max(fe.options.minZoom,0)||0,Fe=fe.options.maxZoom||1.5,Ke,Ye,Tt=fe.elements.zoomer,Vt=parseFloat(Tt.value),ti=fe.elements.boundary.getBoundingClientRect(),ce=S(fe.elements.img,fe.data.orientation),qe=fe.elements.viewport.getBoundingClientRect(),lt,Be;fe.options.enforceBoundary&&(lt=qe.width/ce.width,Be=qe.height/ce.height,le=Math.max(lt,Be)),le>=Fe&&(Fe=le+1),Tt.min=yi(le,4),Tt.max=yi(Fe,4),!ee&&(Vt<Tt.min||Vt>Tt.max)?F.call(fe,Vt<Tt.min?Tt.min:Tt.max):ee&&(Ye=Math.max(ti.width/ce.width,ti.height/ce.height),Ke=fe.data.boundZoom!==null?fe.data.boundZoom:Ye,F.call(fe,Ke)),E(Tt)}function ze(ee){if(ee.length!==4)throw"Croppie - Invalid number of points supplied: "+ee;var fe=this,le=ee[2]-ee[0],Fe=fe.elements.viewport.getBoundingClientRect(),Ke=fe.elements.boundary.getBoundingClientRect(),Ye={left:Fe.left-Ke.left,top:Fe.top-Ke.top},Tt=Fe.width/le,Vt=ee[1],ti=ee[0],ce=-1*ee[1]+Ye.top,qe=-1*ee[0]+Ye.left,lt={};lt[o]=ti+"px "+Vt+"px",lt[h]=new M(qe,ce,Tt).toString(),P(fe.elements.preview,lt),F.call(fe,Tt),fe._currentZoom=Tt}function et(){var ee=this,fe=ee.elements.preview.getBoundingClientRect(),le=ee.elements.viewport.getBoundingClientRect(),Fe=ee.elements.boundary.getBoundingClientRect(),Ke=le.left-Fe.left,Ye=le.top-Fe.top,Tt=Ke-(fe.width-le.width)/2,Vt=Ye-(fe.height-le.height)/2,ti=new M(Tt,Vt,ee._currentZoom);P(ee.elements.preview,h,ti.toString())}function xt(ee){var fe=this,le=fe.elements.canvas,Fe=fe.elements.img,Ke=le.getContext("2d");Ke.clearRect(0,0,le.width,le.height),le.width=Fe.width,le.height=Fe.height;var Ye=fe.options.enableOrientation&&ee||U(Fe);z(le,Fe,Ye)}function At(ee){var fe=this,le=ee.points,Fe=T(le[0]),Ke=T(le[1]),Ye=T(le[2]),Tt=T(le[3]),Vt=Ye-Fe,ti=Tt-Ke,ce=ee.circle,qe=document.createElement("canvas"),lt=qe.getContext("2d"),Be=ee.outputWidth||Vt,nt=ee.outputHeight||ti;qe.width=Be,qe.height=nt,ee.backgroundColor&&(lt.fillStyle=ee.backgroundColor,lt.fillRect(0,0,Be,nt));var Ge=Fe,Pt=Ke,Yt=Vt,_i=ti,di=0,Bi=0,hi=Be,zi=nt;return Fe<0&&(Ge=0,di=Math.abs(Fe)/Vt*Be),Yt+Ge>fe._originalImageWidth&&(Yt=fe._originalImageWidth-Ge,hi=Yt/Vt*Be),Ke<0&&(Pt=0,Bi=Math.abs(Ke)/ti*nt),_i+Pt>fe._originalImageHeight&&(_i=fe._originalImageHeight-Pt,zi=_i/ti*nt),lt.drawImage(this.elements.preview,Ge,Pt,Yt,_i,di,Bi,hi,zi),ce&&(lt.fillStyle="#fff",lt.globalCompositeOperation="destination-in",lt.beginPath(),lt.arc(qe.width/2,qe.height/2,qe.width/2,0,Math.PI*2,!0),lt.closePath(),lt.fill()),qe}function Me(ee){var fe=ee.points,le=document.createElement("div"),Fe=document.createElement("img"),Ke=fe[2]-fe[0],Ye=fe[3]-fe[1];return L(le,"croppie-result"),le.appendChild(Fe),P(Fe,{left:-1*fe[0]+"px",top:-1*fe[1]+"px"}),Fe.src=ee.url,P(le,{width:Ke+"px",height:Ye+"px"}),le}function Ut(ee){return At.call(this,ee).toDataURL(ee.format,ee.quality)}function jt(ee){var fe=this;return new Promise(function(le){At.call(fe,ee).toBlob(function(Fe){le(Fe)},ee.format,ee.quality)})}function Ci(ee){this.elements.img.parentNode&&(Array.prototype.forEach.call(this.elements.img.classList,function(fe){ee.classList.add(fe)}),this.elements.img.parentNode.replaceChild(ee,this.elements.img),this.elements.preview=ee),this.elements.img=ee}function rt(ee,fe){var le=this,Fe,Ke=[],Ye=null,Tt=x.call(le);if(typeof ee=="string")Fe=ee,ee={};else if(Array.isArray(ee))Ke=ee.slice();else{if(typeof ee>"u"&&le.data.url)return Ve.call(le),ve.call(le),null;Fe=ee.url,Ke=ee.points||[],Ye=typeof ee.zoom>"u"?null:ee.zoom}return le.data.bound=!1,le.data.url=Fe||le.data.url,le.data.boundZoom=Ye,y(Fe,Tt).then(function(Vt){if(Ci.call(le,Vt),Ke.length)le.options.relative&&(Ke=[Ke[0]*Vt.naturalWidth/100,Ke[1]*Vt.naturalHeight/100,Ke[2]*Vt.naturalWidth/100,Ke[3]*Vt.naturalHeight/100]);else{var ti=S(Vt),ce=le.elements.viewport.getBoundingClientRect(),qe=ce.width/ce.height,lt=ti.width/ti.height,Be,nt;lt>qe?(nt=ti.height,Be=nt*qe):(Be=ti.width,nt=ti.height/qe);var Ge=(ti.width-Be)/2,Pt=(ti.height-nt)/2,Yt=Ge+Be,_i=Pt+nt;le.data.points=[Ge,Pt,Yt,_i]}le.data.orientation=ee.orientation||1,le.data.points=Ke.map(function(di){return parseFloat(di)}),le.options.useCanvas&&xt.call(le,le.data.orientation),Ve.call(le),ve.call(le),fe&&fe()})}function yi(ee,fe){return parseFloat(ee).toFixed(fe||0)}function Ui(){var ee=this,fe=ee.elements.preview.getBoundingClientRect(),le=ee.elements.viewport.getBoundingClientRect(),Fe=le.left-fe.left,Ke=le.top-fe.top,Ye=(le.width-ee.elements.viewport.offsetWidth)/2,Tt=(le.height-ee.elements.viewport.offsetHeight)/2,Vt=Fe+ee.elements.viewport.offsetWidth+Ye,ti=Ke+ee.elements.viewport.offsetHeight+Tt,ce=ee._currentZoom;(ce===1/0||isNaN(ce))&&(ce=1);var qe=ee.options.enforceBoundary?0:Number.NEGATIVE_INFINITY;return Fe=Math.max(qe,Fe/ce),Ke=Math.max(qe,Ke/ce),Vt=Math.max(qe,Vt/ce),ti=Math.max(qe,ti/ce),{points:[yi(Fe),yi(Ke),yi(Vt),yi(ti)],zoom:ce,orientation:ee.data.orientation}}var qi={type:"canvas",format:"png",quality:1},yt=["jpeg","webp","png"];function Nt(ee){var fe=this,le=Ui.call(fe),Fe=b(k(qi),k(ee)),Ke=typeof ee=="string"?ee:Fe.type||"base64",Ye=Fe.size||"viewport",Tt=Fe.format,Vt=Fe.quality,ti=Fe.backgroundColor,ce=typeof Fe.circle=="boolean"?Fe.circle:fe.options.viewport.type==="circle",qe=fe.elements.viewport.getBoundingClientRect(),lt=qe.width/qe.height,Be;return Ye==="viewport"?(le.outputWidth=qe.width,le.outputHeight=qe.height):typeof Ye=="object"&&(Ye.width&&Ye.height?(le.outputWidth=Ye.width,le.outputHeight=Ye.height):Ye.width?(le.outputWidth=Ye.width,le.outputHeight=Ye.width/lt):Ye.height&&(le.outputWidth=Ye.height*lt,le.outputHeight=Ye.height)),yt.indexOf(Tt)>-1&&(le.format="image/"+Tt,le.quality=Vt),le.circle=ce,le.url=fe.data.url,le.backgroundColor=ti,Be=new Promise(function(nt){switch(Ke.toLowerCase()){case"rawcanvas":nt(At.call(fe,le));break;case"canvas":case"base64":nt(Ut.call(fe,le));break;case"blob":jt.call(fe,le).then(nt);break;default:nt(Me.call(fe,le));break}}),Be}function Ni(){Ve.call(this)}function Fr(ee){if(!this.options.useCanvas||!this.options.enableOrientation)throw"Croppie: Cannot rotate without enableOrientation && EXIF.js included";var fe=this,le=fe.elements.canvas;if(fe.data.orientation=f(fe.data.orientation,ee),z(le,fe.elements.img,fe.data.orientation),G.call(fe,!0),Ae.call(fe),Math.abs(ee)/90%2===1){var Fe=fe._originalImageHeight,Ke=fe._originalImageWidth;fe._originalImageWidth=Fe,fe._originalImageHeight=Ke}}function Xr(){var ee=this;ee.element.removeChild(ee.elements.boundary),R(ee.element,"croppie-container"),ee.options.enableZoom&&ee.element.removeChild(ee.elements.zoomerWrap),delete ee.elements}if(typeof window<"u"&&window.jQuery){var Ai=window.jQuery;Ai.fn.croppie=function(ee){var fe=typeof ee;if(fe==="string"){var le=Array.prototype.slice.call(arguments,1),Fe=Ai(this).data("croppie");return ee==="get"?Fe.get():ee==="result"?Fe.result.apply(Fe,le):ee==="bind"?Fe.bind.apply(Fe,le):this.each(function(){var Ke=Ai(this).data("croppie");if(Ke){var Ye=Ke[ee];if(Ai.isFunction(Ye))Ye.apply(Ke,le),ee==="destroy"&&Ai(this).removeData("croppie");else throw"Croppie "+ee+" method not found"}})}else return this.each(function(){var Ke=new yr(this,ee);Ke.$=Ai,Ai(this).data("croppie",Ke)})}}function yr(ee,fe){if(ee.className.indexOf("croppie-container")>-1)throw new Error("Croppie: Can't initialize croppie more than once");if(this.element=ee,this.options=b(k(yr.defaults),fe),this.element.tagName.toLowerCase()==="img"){var le=this.element;L(le,"cr-original-image"),u(le,{"aria-hidden":"true",alt:""});var Fe=document.createElement("div");this.element.parentNode.appendChild(Fe),Fe.appendChild(le),this.element=Fe,this.options.url=this.options.url||le.src}if(g.call(this),this.options.url){var Ke={url:this.options.url,points:this.options.points};delete this.options.url,delete this.options.points,rt.call(this,Ke)}}return yr.defaults={viewport:{width:100,height:100,type:"square"},boundary:{},orientationControls:{enabled:!0,leftClass:"",rightClass:""},resizeControls:{width:!0,height:!0},customClass:"",showZoomer:!0,enableZoom:!0,enableResize:!1,mouseWheelZoom:!0,enableExif:!1,enforceBoundary:!0,enableOrientation:!1,enableKeyMovement:!0,update:function(){}},yr.globals={translate:"translate3d"},b(yr.prototype,{bind:function(ee,fe){return rt.call(this,ee,fe)},get:function(){var ee=Ui.call(this),fe=ee.points;return this.options.relative&&(fe[0]/=this.elements.img.naturalWidth/100,fe[1]/=this.elements.img.naturalHeight/100,fe[2]/=this.elements.img.naturalWidth/100,fe[3]/=this.elements.img.naturalHeight/100),ee},result:function(ee){return Nt.call(this,ee)},refresh:function(){return Ni.call(this)},setZoom:function(ee){F.call(this,ee),E(this.elements.zoomer)},rotate:function(ee){Fr.call(this,ee)},destroy:function(){return Xr.call(this)}}),yr})})(k1,k1.exports);var n$=k1.exports;const o$=Fp(n$);var zR={exports:{}},O_={exports:{}};/*!
 * getSize v2.0.3
 * measure size of elements
 * MIT license
 */var cM;function Xu(){return cM||(cM=1,function(t){(function(e,i){t.exports?t.exports=i():e.getSize=i()})(window,function(){function i(w){var E=parseFloat(w),P=w.indexOf("%")==-1&&!isNaN(E);return P&&E}function s(){}var a=typeof console>"u"?s:function(w){console.error(w)},l=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],o=l.length;function h(){for(var w={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},E=0;E<o;E++){var P=l[E];w[P]=0}return w}function d(w){var E=getComputedStyle(w);return E||a("Style returned "+E+". Are you running this code in a hidden iframe on Firefox? See https://bit.ly/getsizebug1"),E}var m=!1,f;function b(){if(!m){m=!0;var w=document.createElement("div");w.style.width="200px",w.style.padding="1px 2px 3px 4px",w.style.borderStyle="solid",w.style.borderWidth="1px 2px 3px 4px",w.style.boxSizing="border-box";var E=document.body||document.documentElement;E.appendChild(w);var P=d(w);f=Math.round(i(P.width))==200,k.isBoxSizeOuter=f,E.removeChild(w)}}function k(w){if(b(),typeof w=="string"&&(w=document.querySelector(w)),!(!w||typeof w!="object"||!w.nodeType)){var E=d(w);if(E.display=="none")return h();var P={};P.width=w.offsetWidth,P.height=w.offsetHeight;for(var L=P.isBorderBox=E.boxSizing=="border-box",R=0;R<o;R++){var u=l[R],T=E[u],y=parseFloat(T);P[u]=isNaN(y)?0:y}var S=P.paddingLeft+P.paddingRight,C=P.paddingTop+P.paddingBottom,M=P.marginLeft+P.marginRight,I=P.marginTop+P.marginBottom,U=P.borderLeftWidth+P.borderRightWidth,z=P.borderTopWidth+P.borderBottomWidth,g=L&&f,x=i(E.width);x!==!1&&(P.width=x+(g?0:S+U));var A=i(E.height);return A!==!1&&(P.height=A+(g?0:C+z)),P.innerWidth=P.width-(S+U),P.innerHeight=P.height-(C+z),P.outerWidth=P.width+M,P.outerHeight=P.height+I,P}}return k})}(O_)),O_.exports}var A_={exports:{}},P_={exports:{}},hM;function UR(){return hM||(hM=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:Rp,function(){function e(){}var i=e.prototype;return i.on=function(s,a){if(!(!s||!a)){var l=this._events=this._events||{},o=l[s]=l[s]||[];return o.indexOf(a)==-1&&o.push(a),this}},i.once=function(s,a){if(!(!s||!a)){this.on(s,a);var l=this._onceEvents=this._onceEvents||{},o=l[s]=l[s]||{};return o[a]=!0,this}},i.off=function(s,a){var l=this._events&&this._events[s];if(!(!l||!l.length)){var o=l.indexOf(a);return o!=-1&&l.splice(o,1),this}},i.emitEvent=function(s,a){var l=this._events&&this._events[s];if(!(!l||!l.length)){l=l.slice(0),a=a||[];for(var o=this._onceEvents&&this._onceEvents[s],h=0;h<l.length;h++){var d=l[h],m=o&&o[d];m&&(this.off(s,d),delete o[d]),d.apply(this,a)}return this}},i.allOff=function(){delete this._events,delete this._onceEvents},e})}(P_)),P_.exports}var M_={exports:{}},L_={exports:{}},uM;function HR(){return uM||(uM=1,function(t){(function(e,i){t.exports?t.exports=i():e.matchesSelector=i()})(window,function(){var i=function(){var s=window.Element.prototype;if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var a=["webkit","moz","ms","o"],l=0;l<a.length;l++){var o=a[l],h=o+"MatchesSelector";if(s[h])return h}}();return function(a,l){return a[i](l)}})}(L_)),L_.exports}var dM;function WR(){return dM||(dM=1,function(t){(function(e,i){t.exports?t.exports=i(e,HR()):e.fizzyUIUtils=i(e,e.matchesSelector)})(window,function(i,s){var a={};a.extend=function(h,d){for(var m in d)h[m]=d[m];return h},a.modulo=function(h,d){return(h%d+d)%d};var l=Array.prototype.slice;a.makeArray=function(h){if(Array.isArray(h))return h;if(h==null)return[];var d=typeof h=="object"&&typeof h.length=="number";return d?l.call(h):[h]},a.removeFrom=function(h,d){var m=h.indexOf(d);m!=-1&&h.splice(m,1)},a.getParent=function(h,d){for(;h.parentNode&&h!=document.body;)if(h=h.parentNode,s(h,d))return h},a.getQueryElement=function(h){return typeof h=="string"?document.querySelector(h):h},a.handleEvent=function(h){var d="on"+h.type;this[d]&&this[d](h)},a.filterFindElements=function(h,d){h=a.makeArray(h);var m=[];return h.forEach(function(f){if(f instanceof HTMLElement){if(!d){m.push(f);return}s(f,d)&&m.push(f);for(var b=f.querySelectorAll(d),k=0;k<b.length;k++)m.push(b[k])}}),m},a.debounceMethod=function(h,d,m){m=m||100;var f=h.prototype[d],b=d+"Timeout";h.prototype[d]=function(){var k=this[b];clearTimeout(k);var w=arguments,E=this;this[b]=setTimeout(function(){f.apply(E,w),delete E[b]},m)}},a.docReady=function(h){var d=document.readyState;d=="complete"||d=="interactive"?setTimeout(h):document.addEventListener("DOMContentLoaded",h)},a.toDashed=function(h){return h.replace(/(.)([A-Z])/g,function(d,m,f){return m+"-"+f}).toLowerCase()};var o=i.console;return a.htmlInit=function(h,d){a.docReady(function(){var m=a.toDashed(d),f="data-"+m,b=document.querySelectorAll("["+f+"]"),k=document.querySelectorAll(".js-"+m),w=a.makeArray(b).concat(a.makeArray(k)),E=f+"-options",P=i.jQuery;w.forEach(function(L){var R=L.getAttribute(f)||L.getAttribute(E),u;try{u=R&&JSON.parse(R)}catch(y){o&&o.error("Error parsing "+f+" on "+L.className+": "+y);return}var T=new h(L,u);P&&P.data(L,d,T)})})},a})}(M_)),M_.exports}var R_={exports:{}},fM;function l$(){return fM||(fM=1,function(t){(function(e,i){t.exports?t.exports=i(UR(),Xu()):(e.Outlayer={},e.Outlayer.Item=i(e.EvEmitter,e.getSize))})(window,function(i,s){function a(L){for(var R in L)return!1;return R=null,!0}var l=document.documentElement.style,o=typeof l.transition=="string"?"transition":"WebkitTransition",h=typeof l.transform=="string"?"transform":"WebkitTransform",d={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[o],m={transform:h,transition:o,transitionDuration:o+"Duration",transitionProperty:o+"Property",transitionDelay:o+"Delay"};function f(L,R){L&&(this.element=L,this.layout=R,this.position={x:0,y:0},this._create())}var b=f.prototype=Object.create(i.prototype);b.constructor=f,b._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},b.handleEvent=function(L){var R="on"+L.type;this[R]&&this[R](L)},b.getSize=function(){this.size=s(this.element)},b.css=function(L){var R=this.element.style;for(var u in L){var T=m[u]||u;R[T]=L[u]}},b.getPosition=function(){var L=getComputedStyle(this.element),R=this.layout._getOption("originLeft"),u=this.layout._getOption("originTop"),T=L[R?"left":"right"],y=L[u?"top":"bottom"],S=parseFloat(T),C=parseFloat(y),M=this.layout.size;T.indexOf("%")!=-1&&(S=S/100*M.width),y.indexOf("%")!=-1&&(C=C/100*M.height),S=isNaN(S)?0:S,C=isNaN(C)?0:C,S-=R?M.paddingLeft:M.paddingRight,C-=u?M.paddingTop:M.paddingBottom,this.position.x=S,this.position.y=C},b.layoutPosition=function(){var L=this.layout.size,R={},u=this.layout._getOption("originLeft"),T=this.layout._getOption("originTop"),y=u?"paddingLeft":"paddingRight",S=u?"left":"right",C=u?"right":"left",M=this.position.x+L[y];R[S]=this.getXValue(M),R[C]="";var I=T?"paddingTop":"paddingBottom",U=T?"top":"bottom",z=T?"bottom":"top",g=this.position.y+L[I];R[U]=this.getYValue(g),R[z]="",this.css(R),this.emitEvent("layout",[this])},b.getXValue=function(L){var R=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!R?L/this.layout.size.width*100+"%":L+"px"},b.getYValue=function(L){var R=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&R?L/this.layout.size.height*100+"%":L+"px"},b._transitionTo=function(L,R){this.getPosition();var u=this.position.x,T=this.position.y,y=L==this.position.x&&R==this.position.y;if(this.setPosition(L,R),y&&!this.isTransitioning){this.layoutPosition();return}var S=L-u,C=R-T,M={};M.transform=this.getTranslate(S,C),this.transition({to:M,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},b.getTranslate=function(L,R){var u=this.layout._getOption("originLeft"),T=this.layout._getOption("originTop");return L=u?L:-L,R=T?R:-R,"translate3d("+L+"px, "+R+"px, 0)"},b.goTo=function(L,R){this.setPosition(L,R),this.layoutPosition()},b.moveTo=b._transitionTo,b.setPosition=function(L,R){this.position.x=parseFloat(L),this.position.y=parseFloat(R)},b._nonTransition=function(L){this.css(L.to),L.isCleaning&&this._removeStyles(L.to);for(var R in L.onTransitionEnd)L.onTransitionEnd[R].call(this)},b.transition=function(L){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(L);return}var R=this._transn;for(var u in L.onTransitionEnd)R.onEnd[u]=L.onTransitionEnd[u];for(u in L.to)R.ingProperties[u]=!0,L.isCleaning&&(R.clean[u]=!0);L.from&&(this.css(L.from),this.element.offsetHeight),this.enableTransition(L.to),this.css(L.to),this.isTransitioning=!0};function k(L){return L.replace(/([A-Z])/g,function(R){return"-"+R.toLowerCase()})}var w="opacity,"+k(h);b.enableTransition=function(){if(!this.isTransitioning){var L=this.layout.options.transitionDuration;L=typeof L=="number"?L+"ms":L,this.css({transitionProperty:w,transitionDuration:L,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(d,this,!1)}},b.onwebkitTransitionEnd=function(L){this.ontransitionend(L)},b.onotransitionend=function(L){this.ontransitionend(L)};var E={"-webkit-transform":"transform"};b.ontransitionend=function(L){if(L.target===this.element){var R=this._transn,u=E[L.propertyName]||L.propertyName;if(delete R.ingProperties[u],a(R.ingProperties)&&this.disableTransition(),u in R.clean&&(this.element.style[L.propertyName]="",delete R.clean[u]),u in R.onEnd){var T=R.onEnd[u];T.call(this),delete R.onEnd[u]}this.emitEvent("transitionEnd",[this])}},b.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(d,this,!1),this.isTransitioning=!1},b._removeStyles=function(L){var R={};for(var u in L)R[u]="";this.css(R)};var P={transitionProperty:"",transitionDuration:"",transitionDelay:""};return b.removeTransitionStyles=function(){this.css(P)},b.stagger=function(L){L=isNaN(L)?0:L,this.staggerDelay=L+"ms"},b.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},b.remove=function(){if(!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}this.once("transitionEnd",function(){this.removeElem()}),this.hide()},b.reveal=function(){delete this.isHidden,this.css({display:""});var L=this.layout.options,R={},u=this.getHideRevealTransitionEndProperty("visibleStyle");R[u]=this.onRevealTransitionEnd,this.transition({from:L.hiddenStyle,to:L.visibleStyle,isCleaning:!0,onTransitionEnd:R})},b.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},b.getHideRevealTransitionEndProperty=function(L){var R=this.layout.options[L];if(R.opacity)return"opacity";for(var u in R)return u},b.hide=function(){this.isHidden=!0,this.css({display:""});var L=this.layout.options,R={},u=this.getHideRevealTransitionEndProperty("hiddenStyle");R[u]=this.onHideTransitionEnd,this.transition({from:L.visibleStyle,to:L.hiddenStyle,isCleaning:!0,onTransitionEnd:R})},b.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},b.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},f})}(R_)),R_.exports}/*!
 * Outlayer v2.1.1
 * the brains and guts of a layout library
 * MIT license
 */var pM;function Ku(){return pM||(pM=1,function(t){(function(e,i){t.exports?t.exports=i(e,UR(),Xu(),WR(),l$()):e.Outlayer=i(e,e.EvEmitter,e.getSize,e.fizzyUIUtils,e.Outlayer.Item)})(window,function(i,s,a,l,o){var h=i.console,d=i.jQuery,m=function(){},f=0,b={};function k(R,u){var T=l.getQueryElement(R);if(!T){h&&h.error("Bad element for "+this.constructor.namespace+": "+(T||R));return}this.element=T,d&&(this.$element=d(this.element)),this.options=l.extend({},this.constructor.defaults),this.option(u);var y=++f;this.element.outlayerGUID=y,b[y]=this,this._create();var S=this._getOption("initLayout");S&&this.layout()}k.namespace="outlayer",k.Item=o,k.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var w=k.prototype;l.extend(w,s.prototype),w.option=function(R){l.extend(this.options,R)},w._getOption=function(R){var u=this.constructor.compatOptions[R];return u&&this.options[u]!==void 0?this.options[u]:this.options[R]},k.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},w._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),l.extend(this.element.style,this.options.containerStyle);var R=this._getOption("resize");R&&this.bindResize()},w.reloadItems=function(){this.items=this._itemize(this.element.children)},w._itemize=function(R){for(var u=this._filterFindItemElements(R),T=this.constructor.Item,y=[],S=0;S<u.length;S++){var C=u[S],M=new T(C,this);y.push(M)}return y},w._filterFindItemElements=function(R){return l.filterFindElements(R,this.options.itemSelector)},w.getItemElements=function(){return this.items.map(function(R){return R.element})},w.layout=function(){this._resetLayout(),this._manageStamps();var R=this._getOption("layoutInstant"),u=R!==void 0?R:!this._isLayoutInited;this.layoutItems(this.items,u),this._isLayoutInited=!0},w._init=w.layout,w._resetLayout=function(){this.getSize()},w.getSize=function(){this.size=a(this.element)},w._getMeasurement=function(R,u){var T=this.options[R],y;T?(typeof T=="string"?y=this.element.querySelector(T):T instanceof HTMLElement&&(y=T),this[R]=y?a(y)[u]:T):this[R]=0},w.layoutItems=function(R,u){R=this._getItemsForLayout(R),this._layoutItems(R,u),this._postLayout()},w._getItemsForLayout=function(R){return R.filter(function(u){return!u.isIgnored})},w._layoutItems=function(R,u){if(this._emitCompleteOnItems("layout",R),!(!R||!R.length)){var T=[];R.forEach(function(y){var S=this._getItemLayoutPosition(y);S.item=y,S.isInstant=u||y.isLayoutInstant,T.push(S)},this),this._processLayoutQueue(T)}},w._getItemLayoutPosition=function(){return{x:0,y:0}},w._processLayoutQueue=function(R){this.updateStagger(),R.forEach(function(u,T){this._positionItem(u.item,u.x,u.y,u.isInstant,T)},this)},w.updateStagger=function(){var R=this.options.stagger;if(R==null){this.stagger=0;return}return this.stagger=L(R),this.stagger},w._positionItem=function(R,u,T,y,S){y?R.goTo(u,T):(R.stagger(S*this.stagger),R.moveTo(u,T))},w._postLayout=function(){this.resizeContainer()},w.resizeContainer=function(){var R=this._getOption("resizeContainer");if(R){var u=this._getContainerSize();u&&(this._setContainerMeasure(u.width,!0),this._setContainerMeasure(u.height,!1))}},w._getContainerSize=m,w._setContainerMeasure=function(R,u){if(R!==void 0){var T=this.size;T.isBorderBox&&(R+=u?T.paddingLeft+T.paddingRight+T.borderLeftWidth+T.borderRightWidth:T.paddingBottom+T.paddingTop+T.borderTopWidth+T.borderBottomWidth),R=Math.max(R,0),this.element.style[u?"width":"height"]=R+"px"}},w._emitCompleteOnItems=function(R,u){var T=this;function y(){T.dispatchEvent(R+"Complete",null,[u])}var S=u.length;if(!u||!S){y();return}var C=0;function M(){C++,C==S&&y()}u.forEach(function(I){I.once(R,M)})},w.dispatchEvent=function(R,u,T){var y=u?[u].concat(T):T;if(this.emitEvent(R,y),d)if(this.$element=this.$element||d(this.element),u){var S=d.Event(u);S.type=R,this.$element.trigger(S,T)}else this.$element.trigger(R,T)},w.ignore=function(R){var u=this.getItem(R);u&&(u.isIgnored=!0)},w.unignore=function(R){var u=this.getItem(R);u&&delete u.isIgnored},w.stamp=function(R){R=this._find(R),R&&(this.stamps=this.stamps.concat(R),R.forEach(this.ignore,this))},w.unstamp=function(R){R=this._find(R),R&&R.forEach(function(u){l.removeFrom(this.stamps,u),this.unignore(u)},this)},w._find=function(R){if(R)return typeof R=="string"&&(R=this.element.querySelectorAll(R)),R=l.makeArray(R),R},w._manageStamps=function(){!this.stamps||!this.stamps.length||(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},w._getBoundingRect=function(){var R=this.element.getBoundingClientRect(),u=this.size;this._boundingRect={left:R.left+u.paddingLeft+u.borderLeftWidth,top:R.top+u.paddingTop+u.borderTopWidth,right:R.right-(u.paddingRight+u.borderRightWidth),bottom:R.bottom-(u.paddingBottom+u.borderBottomWidth)}},w._manageStamp=m,w._getElementOffset=function(R){var u=R.getBoundingClientRect(),T=this._boundingRect,y=a(R),S={left:u.left-T.left-y.marginLeft,top:u.top-T.top-y.marginTop,right:T.right-u.right-y.marginRight,bottom:T.bottom-u.bottom-y.marginBottom};return S},w.handleEvent=l.handleEvent,w.bindResize=function(){i.addEventListener("resize",this),this.isResizeBound=!0},w.unbindResize=function(){i.removeEventListener("resize",this),this.isResizeBound=!1},w.onresize=function(){this.resize()},l.debounceMethod(k,"onresize",100),w.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||this.layout()},w.needsResizeLayout=function(){var R=a(this.element),u=this.size&&R;return u&&R.innerWidth!==this.size.innerWidth},w.addItems=function(R){var u=this._itemize(R);return u.length&&(this.items=this.items.concat(u)),u},w.appended=function(R){var u=this.addItems(R);u.length&&(this.layoutItems(u,!0),this.reveal(u))},w.prepended=function(R){var u=this._itemize(R);if(u.length){var T=this.items.slice(0);this.items=u.concat(T),this._resetLayout(),this._manageStamps(),this.layoutItems(u,!0),this.reveal(u),this.layoutItems(T)}},w.reveal=function(R){if(this._emitCompleteOnItems("reveal",R),!(!R||!R.length)){var u=this.updateStagger();R.forEach(function(T,y){T.stagger(y*u),T.reveal()})}},w.hide=function(R){if(this._emitCompleteOnItems("hide",R),!(!R||!R.length)){var u=this.updateStagger();R.forEach(function(T,y){T.stagger(y*u),T.hide()})}},w.revealItemElements=function(R){var u=this.getItems(R);this.reveal(u)},w.hideItemElements=function(R){var u=this.getItems(R);this.hide(u)},w.getItem=function(R){for(var u=0;u<this.items.length;u++){var T=this.items[u];if(T.element==R)return T}},w.getItems=function(R){R=l.makeArray(R);var u=[];return R.forEach(function(T){var y=this.getItem(T);y&&u.push(y)},this),u},w.remove=function(R){var u=this.getItems(R);this._emitCompleteOnItems("remove",u),!(!u||!u.length)&&u.forEach(function(T){T.remove(),l.removeFrom(this.items,T)},this)},w.destroy=function(){var R=this.element.style;R.height="",R.position="",R.width="",this.items.forEach(function(T){T.destroy()}),this.unbindResize();var u=this.element.outlayerGUID;delete b[u],delete this.element.outlayerGUID,d&&d.removeData(this.element,this.constructor.namespace)},k.data=function(R){R=l.getQueryElement(R);var u=R&&R.outlayerGUID;return u&&b[u]},k.create=function(R,u){var T=E(k);return T.defaults=l.extend({},k.defaults),l.extend(T.defaults,u),T.compatOptions=l.extend({},k.compatOptions),T.namespace=R,T.data=k.data,T.Item=E(o),l.htmlInit(T,R),d&&d.bridget&&d.bridget(R,T),T};function E(R){function u(){R.apply(this,arguments)}return u.prototype=Object.create(R.prototype),u.prototype.constructor=u,u}var P={ms:1,s:1e3};function L(R){if(typeof R=="number")return R;var u=R.match(/(^\d*\.?\d*)(\w*)/),T=u&&u[1],y=u&&u[2];if(!T.length)return 0;T=parseFloat(T);var S=P[y]||1;return T*S}return k.Item=o,k})}(A_)),A_.exports}var F_={exports:{}},mM;function sk(){return mM||(mM=1,function(t){(function(e,i){t.exports?t.exports=i():(e.Packery=e.Packery||{},e.Packery.Rect=i())})(window,function(){function i(a){for(var l in i.defaults)this[l]=i.defaults[l];for(l in a)this[l]=a[l]}i.defaults={x:0,y:0,width:0,height:0};var s=i.prototype;return s.contains=function(a){var l=a.width||0,o=a.height||0;return this.x<=a.x&&this.y<=a.y&&this.x+this.width>=a.x+l&&this.y+this.height>=a.y+o},s.overlaps=function(a){var l=this.x+this.width,o=this.y+this.height,h=a.x+a.width,d=a.y+a.height;return this.x<h&&l>a.x&&this.y<d&&o>a.y},s.getMaximalFreeRects=function(a){if(!this.overlaps(a))return!1;var l=[],o,h=this.x+this.width,d=this.y+this.height,m=a.x+a.width,f=a.y+a.height;return this.y<a.y&&(o=new i({x:this.x,y:this.y,width:this.width,height:a.y-this.y}),l.push(o)),h>m&&(o=new i({x:m,y:this.y,width:h-m,height:this.height}),l.push(o)),d>f&&(o=new i({x:this.x,y:f,width:this.width,height:d-f}),l.push(o)),this.x<a.x&&(o=new i({x:this.x,y:this.y,width:a.x-this.x,height:this.height}),l.push(o)),l},s.canFit=function(a){return this.width>=a.width&&this.height>=a.height},i})}(F_)),F_.exports}var D_={exports:{}},gM;function c$(){return gM||(gM=1,function(t){(function(e,i){if(t.exports)t.exports=i(sk());else{var s=e.Packery=e.Packery||{};s.Packer=i(s.Rect)}})(window,function(i){function s(o,h,d){this.width=o||0,this.height=h||0,this.sortDirection=d||"downwardLeftToRight",this.reset()}var a=s.prototype;a.reset=function(){this.spaces=[];var o=new i({x:0,y:0,width:this.width,height:this.height});this.spaces.push(o),this.sorter=l[this.sortDirection]||l.downwardLeftToRight},a.pack=function(o){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h];if(d.canFit(o)){this.placeInSpace(o,d);break}}},a.columnPack=function(o){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h],m=d.x<=o.x&&d.x+d.width>=o.x+o.width&&d.height>=o.height-.01;if(m){o.y=d.y,this.placed(o);break}}},a.rowPack=function(o){for(var h=0;h<this.spaces.length;h++){var d=this.spaces[h],m=d.y<=o.y&&d.y+d.height>=o.y+o.height&&d.width>=o.width-.01;if(m){o.x=d.x,this.placed(o);break}}},a.placeInSpace=function(o,h){o.x=h.x,o.y=h.y,this.placed(o)},a.placed=function(o){for(var h=[],d=0;d<this.spaces.length;d++){var m=this.spaces[d],f=m.getMaximalFreeRects(o);f?h.push.apply(h,f):h.push(m)}this.spaces=h,this.mergeSortSpaces()},a.mergeSortSpaces=function(){s.mergeRects(this.spaces),this.spaces.sort(this.sorter)},a.addSpace=function(o){this.spaces.push(o),this.mergeSortSpaces()},s.mergeRects=function(o){var h=0,d=o[h];e:for(;d;){for(var m=0,f=o[h+m];f;){if(f==d)m++;else if(f.contains(d)){o.splice(h,1),d=o[h];continue e}else d.contains(f)?o.splice(h+m,1):m++;f=o[h+m]}h++,d=o[h]}return o};var l={downwardLeftToRight:function(o,h){return o.y-h.y||o.x-h.x},rightwardTopToBottom:function(o,h){return o.x-h.x||o.y-h.y}};return s})}(D_)),D_.exports}var I_={exports:{}},yM;function h$(){return yM||(yM=1,function(t){(function(e,i){t.exports?t.exports=i(Ku(),sk()):e.Packery.Item=i(e.Outlayer,e.Packery.Rect)})(window,function(i,s){var a=document.documentElement.style,l=typeof a.transform=="string"?"transform":"WebkitTransform",o=function(){i.Item.apply(this,arguments)},h=o.prototype=Object.create(i.Item.prototype),d=h._create;h._create=function(){d.call(this),this.rect=new s};var m=h.moveTo;return h.moveTo=function(f,b){var k=Math.abs(this.position.x-f),w=Math.abs(this.position.y-b),E=this.layout.dragItemCount&&!this.isPlacing&&!this.isTransitioning&&k<1&&w<1;if(E){this.goTo(f,b);return}m.apply(this,arguments)},h.enablePlacing=function(){this.removeTransitionStyles(),this.isTransitioning&&l&&(this.element.style[l]="none"),this.isTransitioning=!1,this.getSize(),this.layout._setRectSize(this.element,this.rect),this.isPlacing=!0},h.disablePlacing=function(){this.isPlacing=!1},h.removeElem=function(){var f=this.element.parentNode;f&&f.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},h.showDropPlaceholder=function(){var f=this.dropPlaceholder;f||(f=this.dropPlaceholder=document.createElement("div"),f.className="packery-drop-placeholder",f.style.position="absolute"),f.style.width=this.size.width+"px",f.style.height=this.size.height+"px",this.positionDropPlaceholder(),this.layout.element.appendChild(f)},h.positionDropPlaceholder=function(){this.dropPlaceholder.style[l]="translate("+this.rect.x+"px, "+this.rect.y+"px)"},h.hideDropPlaceholder=function(){var f=this.dropPlaceholder.parentNode;f&&f.removeChild(this.dropPlaceholder)},o})}(I_)),I_.exports}/*!
 * Packery v2.1.2
 * Gapless, draggable grid layouts
 *
 * Licensed GPLv3 for open source use
 * or Packery Commercial License for commercial use
 *
 * http://packery.metafizzy.co
 * Copyright 2013-2018 Metafizzy
 */(function(t){(function(e,i){t.exports?t.exports=i(Xu(),Ku(),sk(),c$(),h$()):e.Packery=i(e.getSize,e.Outlayer,e.Packery.Rect,e.Packery.Packer,e.Packery.Item)})(window,function(i,s,a,l,o){a.prototype.canFit=function(E){return this.width>=E.width-1&&this.height>=E.height-1};var h=s.create("packery");h.Item=o;var d=h.prototype;d._create=function(){s.prototype._create.call(this),this.packer=new l,this.shiftPacker=new l,this.isEnabled=!0,this.dragItemCount=0;var E=this;this.handleDraggabilly={dragStart:function(){E.itemDragStart(this.element)},dragMove:function(){E.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){E.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(L,R){R&&E.itemDragStart(L.currentTarget)},drag:function(L,R){R&&E.itemDragMove(L.currentTarget,R.position.left,R.position.top)},stop:function(L,R){R&&E.itemDragEnd(L.currentTarget)}}},d._resetLayout=function(){this.getSize(),this._getMeasurements();var E,P,L;this._getOption("horizontal")?(E=1/0,P=this.size.innerHeight+this.gutter,L="rightwardTopToBottom"):(E=this.size.innerWidth+this.gutter,P=1/0,L="downwardLeftToRight"),this.packer.width=this.shiftPacker.width=E,this.packer.height=this.shiftPacker.height=P,this.packer.sortDirection=this.shiftPacker.sortDirection=L,this.packer.reset(),this.maxY=0,this.maxX=0},d._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},d._getItemLayoutPosition=function(E){if(this._setRectSize(E.element,E.rect),this.isShifting||this.dragItemCount>0){var P=this._getPackMethod();this.packer[P](E.rect)}else this.packer.pack(E.rect);return this._setMaxXY(E.rect),E.rect},d.shiftLayout=function(){this.isShifting=!0,this.layout(),delete this.isShifting},d._getPackMethod=function(){return this._getOption("horizontal")?"rowPack":"columnPack"},d._setMaxXY=function(E){this.maxX=Math.max(E.x+E.width,this.maxX),this.maxY=Math.max(E.y+E.height,this.maxY)},d._setRectSize=function(E,P){var L=i(E),R=L.outerWidth,u=L.outerHeight;(R||u)&&(R=this._applyGridGutter(R,this.columnWidth),u=this._applyGridGutter(u,this.rowHeight)),P.width=Math.min(R,this.packer.width),P.height=Math.min(u,this.packer.height)},d._applyGridGutter=function(E,P){if(!P)return E+this.gutter;P+=this.gutter;var L=E%P,R=L&&L<1?"round":"ceil";return E=Math[R](E/P)*P,E},d._getContainerSize=function(){return this._getOption("horizontal")?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},d._manageStamp=function(E){var P=this.getItem(E),L;if(P&&P.isPlacing)L=P.rect;else{var R=this._getElementOffset(E);L=new a({x:this._getOption("originLeft")?R.left:R.right,y:this._getOption("originTop")?R.top:R.bottom})}this._setRectSize(E,L),this.packer.placed(L),this._setMaxXY(L)};function m(E,P){return E.position.y-P.position.y||E.position.x-P.position.x}function f(E,P){return E.position.x-P.position.x||E.position.y-P.position.y}d.sortItemsByPosition=function(){var E=this._getOption("horizontal")?f:m;this.items.sort(E)},d.fit=function(E,P,L){var R=this.getItem(E);R&&(this.stamp(R.element),R.enablePlacing(),this.updateShiftTargets(R),P=P===void 0?R.rect.x:P,L=L===void 0?R.rect.y:L,this.shift(R,P,L),this._bindFitEvents(R),R.moveTo(R.rect.x,R.rect.y),this.shiftLayout(),this.unstamp(R.element),this.sortItemsByPosition(),R.disablePlacing())},d._bindFitEvents=function(E){var P=this,L=0;function R(){L++,L==2&&P.dispatchEvent("fitComplete",null,[E])}E.once("layout",R),this.once("layoutComplete",R)},d.resize=function(){!this.isResizeBound||!this.needsResizeLayout()||(this.options.shiftPercentResize?this.resizeShiftPercentLayout():this.layout())},d.needsResizeLayout=function(){var E=i(this.element),P=this._getOption("horizontal")?"innerHeight":"innerWidth";return E[P]!=this.size[P]},d.resizeShiftPercentLayout=function(){var E=this._getItemsForLayout(this.items),P=this._getOption("horizontal"),L=P?"y":"x",R=P?"height":"width",u=P?"rowHeight":"columnWidth",T=P?"innerHeight":"innerWidth",y=this[u];if(y=y&&y+this.gutter,y){this._getMeasurements();var S=this[u]+this.gutter;E.forEach(function(I){var U=Math.round(I.rect[L]/y);I.rect[L]=U*S})}else{var C=i(this.element)[T]+this.gutter,M=this.packer[R];E.forEach(function(I){I.rect[L]=I.rect[L]/M*C})}this.shiftLayout()},d.itemDragStart=function(E){if(this.isEnabled){this.stamp(E);var P=this.getItem(E);P&&(P.enablePlacing(),P.showDropPlaceholder(),this.dragItemCount++,this.updateShiftTargets(P))}},d.updateShiftTargets=function(E){this.shiftPacker.reset(),this._getBoundingRect();var P=this._getOption("originLeft"),L=this._getOption("originTop");this.stamps.forEach(function(A){var F=this.getItem(A);if(!(F&&F.isPlacing)){var B=this._getElementOffset(A),j=new a({x:P?B.left:B.right,y:L?B.top:B.bottom});this._setRectSize(A,j),this.shiftPacker.placed(j)}},this);var R=this._getOption("horizontal"),u=R?"rowHeight":"columnWidth",T=R?"height":"width";this.shiftTargetKeys=[],this.shiftTargets=[];var y,S=this[u];if(S=S&&S+this.gutter,S){var C=Math.ceil(E.rect[T]/S),M=Math.floor((this.shiftPacker[T]+this.gutter)/S);y=(M-C)*S;for(var I=0;I<M;I++){var U=R?0:I*S,z=R?I*S:0;this._addShiftTarget(U,z,y)}}else y=this.shiftPacker[T]+this.gutter-E.rect[T],this._addShiftTarget(0,0,y);var g=this._getItemsForLayout(this.items),x=this._getPackMethod();g.forEach(function(A){var F=A.rect;this._setRectSize(A.element,F),this.shiftPacker[x](F),this._addShiftTarget(F.x,F.y,y);var B=R?F.x+F.width:F.x,j=R?F.y:F.y+F.height;if(this._addShiftTarget(B,j,y),S)for(var $=Math.round(F[T]/S),G=1;G<$;G++){var he=R?B:F.x+S*G,Q=R?F.y+S*G:j;this._addShiftTarget(he,Q,y)}},this)},d._addShiftTarget=function(E,P,L){var R=this._getOption("horizontal")?P:E;if(!(R!==0&&R>L)){var u=E+","+P,T=this.shiftTargetKeys.indexOf(u)!=-1;T||(this.shiftTargetKeys.push(u),this.shiftTargets.push({x:E,y:P}))}},d.shift=function(E,P,L){var R,u=1/0,T={x:P,y:L};this.shiftTargets.forEach(function(y){var S=b(y,T);S<u&&(R=y,u=S)}),E.rect.x=R.x,E.rect.y=R.y};function b(E,P){var L=P.x-E.x,R=P.y-E.y;return Math.sqrt(L*L+R*R)}var k=120;d.itemDragMove=function(E,P,L){var R=this.isEnabled&&this.getItem(E);if(!R)return;P-=this.size.paddingLeft,L-=this.size.paddingTop;var u=this;function T(){u.shift(R,P,L),R.positionDropPlaceholder(),u.layout()}var y=new Date,S=this._itemDragTime&&y-this._itemDragTime<k;S?(clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(T,k)):(T(),this._itemDragTime=y)},d.itemDragEnd=function(E){var P=this.isEnabled&&this.getItem(E);if(!P)return;clearTimeout(this.dragTimeout),P.element.classList.add("is-positioning-post-drag");var L=0,R=this;function u(){L++,L==2&&(P.element.classList.remove("is-positioning-post-drag"),P.hideDropPlaceholder(),R.dispatchEvent("dragItemPositioned",null,[P]))}P.once("layout",u),this.once("layoutComplete",u),P.moveTo(P.rect.x,P.rect.y),this.layout(),this.dragItemCount=Math.max(0,this.dragItemCount-1),this.sortItemsByPosition(),P.disablePlacing(),this.unstamp(P.element)},d.bindDraggabillyEvents=function(E){this._bindDraggabillyEvents(E,"on")},d.unbindDraggabillyEvents=function(E){this._bindDraggabillyEvents(E,"off")},d._bindDraggabillyEvents=function(E,P){var L=this.handleDraggabilly;E[P]("dragStart",L.dragStart),E[P]("dragMove",L.dragMove),E[P]("dragEnd",L.dragEnd)},d.bindUIDraggableEvents=function(E){this._bindUIDraggableEvents(E,"on")},d.unbindUIDraggableEvents=function(E){this._bindUIDraggableEvents(E,"off")},d._bindUIDraggableEvents=function(E,P){var L=this.handleUIDraggable;E[P]("dragstart",L.start)[P]("drag",L.drag)[P]("dragstop",L.stop)};var w=d.destroy;return d.destroy=function(){w.apply(this,arguments),this.isEnabled=!1},h.Rect=a,h.Packer=l,h})})(zR);var u$=zR.exports;const d$=Fp(u$);var jR={exports:{}},B_={exports:{}},vM;function f$(){return vM||(vM=1,function(t){(function(e,i){t.exports?t.exports=i():e.EvEmitter=i()})(typeof window<"u"?window:Rp,function(){function e(){}let i=e.prototype;return i.on=function(s,a){if(!s||!a)return this;let l=this._events=this._events||{},o=l[s]=l[s]||[];return o.includes(a)||o.push(a),this},i.once=function(s,a){if(!s||!a)return this;this.on(s,a);let l=this._onceEvents=this._onceEvents||{},o=l[s]=l[s]||{};return o[a]=!0,this},i.off=function(s,a){let l=this._events&&this._events[s];if(!l||!l.length)return this;let o=l.indexOf(a);return o!=-1&&l.splice(o,1),this},i.emitEvent=function(s,a){let l=this._events&&this._events[s];if(!l||!l.length)return this;l=l.slice(0),a=a||[];let o=this._onceEvents&&this._onceEvents[s];for(let h of l)o&&o[h]&&(this.off(s,h),delete o[h]),h.apply(this,a);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},e})}(B_)),B_.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(t){(function(e,i){t.exports?t.exports=i(e,f$()):e.imagesLoaded=i(e,e.EvEmitter)})(typeof window<"u"?window:Rp,function(i,s){let a=i.jQuery,l=i.console;function o(k){return Array.isArray(k)?k:typeof k=="object"&&typeof k.length=="number"?[...k]:[k]}function h(k,w,E){if(!(this instanceof h))return new h(k,w,E);let P=k;if(typeof k=="string"&&(P=document.querySelectorAll(k)),!P){l.error(`Bad element for imagesLoaded ${P||k}`);return}this.elements=o(P),this.options={},typeof w=="function"?E=w:Object.assign(this.options,w),E&&this.on("always",E),this.getImages(),a&&(this.jqDeferred=new a.Deferred),setTimeout(this.check.bind(this))}h.prototype=Object.create(s.prototype),h.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const d=[1,9,11];h.prototype.addElementImages=function(k){k.nodeName==="IMG"&&this.addImage(k),this.options.background===!0&&this.addElementBackgroundImages(k);let{nodeType:w}=k;if(!w||!d.includes(w))return;let E=k.querySelectorAll("img");for(let P of E)this.addImage(P);if(typeof this.options.background=="string"){let P=k.querySelectorAll(this.options.background);for(let L of P)this.addElementBackgroundImages(L)}};const m=/url\((['"])?(.*?)\1\)/gi;h.prototype.addElementBackgroundImages=function(k){let w=getComputedStyle(k);if(!w)return;let E=m.exec(w.backgroundImage);for(;E!==null;){let P=E&&E[2];P&&this.addBackground(P,k),E=m.exec(w.backgroundImage)}},h.prototype.addImage=function(k){let w=new f(k);this.images.push(w)},h.prototype.addBackground=function(k,w){let E=new b(k,w);this.images.push(E)},h.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let k=(w,E,P)=>{setTimeout(()=>{this.progress(w,E,P)})};this.images.forEach(function(w){w.once("progress",k),w.check()})},h.prototype.progress=function(k,w,E){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!k.isLoaded,this.emitEvent("progress",[this,k,w]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,k),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&l&&l.log(`progress: ${E}`,k,w)},h.prototype.complete=function(){let k=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(k,[this]),this.emitEvent("always",[this]),this.jqDeferred){let w=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[w](this)}};function f(k){this.img=k}f.prototype=Object.create(s.prototype),f.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},f.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},f.prototype.confirm=function(k,w){this.isLoaded=k;let{parentNode:E}=this.img,P=E.nodeName==="PICTURE"?E:this.img;this.emitEvent("progress",[this,P,w])},f.prototype.handleEvent=function(k){let w="on"+k.type;this[w]&&this[w](k)},f.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},f.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},f.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function b(k,w){this.url=k,this.element=w,this.img=new Image}return b.prototype=Object.create(f.prototype),b.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},b.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},b.prototype.confirm=function(k,w){this.isLoaded=k,this.emitEvent("progress",[this,this.element,w])},h.makeJQueryPlugin=function(k){k=k||i.jQuery,k&&(a=k,a.fn.imagesLoaded=function(w,E){return new h(this,w,E).jqDeferred.promise(a(this))})},h.makeJQueryPlugin(),h})})(jR);var p$=jR.exports;const m$=Fp(p$);/*! shepherd.js 11.2.0 */var g$=function(e){return y$(e)&&!v$(e)};function y$(t){return!!t&&typeof t=="object"}function v$(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||_$(t)}var b$=typeof Symbol=="function"&&Symbol.for,w$=b$?Symbol.for("react.element"):60103;function _$(t){return t.$$typeof===w$}function x$(t){return Array.isArray(t)?[]:{}}function yp(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Pu(x$(t),t,e):t}function k$(t,e,i){return t.concat(e).map(function(s){return yp(s,i)})}function S$(t,e){if(!e.customMerge)return Pu;var i=e.customMerge(t);return typeof i=="function"?i:Pu}function T$(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function bM(t){return Object.keys(t).concat(T$(t))}function qR(t,e){try{return e in t}catch{return!1}}function C$(t,e){return qR(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function E$(t,e,i){var s={};return i.isMergeableObject(t)&&bM(t).forEach(function(a){s[a]=yp(t[a],i)}),bM(e).forEach(function(a){C$(t,a)||(qR(t,a)&&i.isMergeableObject(e[a])?s[a]=S$(a,i)(t[a],e[a],i):s[a]=yp(e[a],i))}),s}function Pu(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||k$,i.isMergeableObject=i.isMergeableObject||g$,i.cloneUnlessOtherwiseSpecified=yp;var s=Array.isArray(e),a=Array.isArray(t),l=s===a;return l?s?i.arrayMerge(t,e,i):E$(t,e,i):yp(e,i)}Pu.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(s,a){return Pu(s,a,i)},{})};var O$=Pu,ak=O$;function A$(t){return t instanceof Element}function nk(t){return t instanceof HTMLElement}function uh(t){return typeof t=="function"}function vp(t){return typeof t=="string"}function Js(t){return t===void 0}class ok{on(e,i,s,a=!1){return Js(this.bindings)&&(this.bindings={}),Js(this.bindings[e])&&(this.bindings[e]=[]),this.bindings[e].push({handler:i,ctx:s,once:a}),this}once(e,i,s){return this.on(e,i,s,!0)}off(e,i){return Js(this.bindings)||Js(this.bindings[e])?this:(Js(i)?delete this.bindings[e]:this.bindings[e].forEach((s,a)=>{s.handler===i&&this.bindings[e].splice(a,1)}),this)}trigger(e,...i){return!Js(this.bindings)&&this.bindings[e]&&this.bindings[e].forEach((s,a)=>{const{ctx:l,handler:o,once:h}=s,d=l||this;o.apply(d,i),h&&this.bindings[e].splice(a,1)}),this}}function $R(t){const e=Object.getOwnPropertyNames(t.constructor.prototype);for(let i=0;i<e.length;i++){const s=e[i],a=t[s];s!=="constructor"&&typeof a=="function"&&(t[s]=a.bind(t))}return t}function P$(t,e){return i=>{if(e.isOpen()){const s=e.el&&i.currentTarget===e.el;(!Js(t)&&i.currentTarget.matches(t)||s)&&e.tour.next()}}}function M$(t){const{event:e,selector:i}=t.options.advanceOn||{};if(e){const s=P$(i,t);let a;try{a=document.querySelector(i)}catch{}if(!Js(i)&&!a)return console.error(`No element was found for the selector supplied to advanceOn: ${i}`);a?(a.addEventListener(e,s),t.on("destroy",()=>a.removeEventListener(e,s))):(document.body.addEventListener(e,s,!0),t.on("destroy",()=>document.body.removeEventListener(e,s,!0)))}else return console.error("advanceOn was defined, but no event name was passed.")}function VR(t){return!vp(t)||t===""?"":t.charAt(t.length-1)!=="-"?`${t}-`:t}function L$(t){const e=t.options.attachTo||{},i=Object.assign({},e);if(uh(i.element)&&(i.element=i.element.call(t)),vp(i.element)){try{i.element=document.querySelector(i.element)}catch{}i.element||console.error(`The element for this Shepherd step was not found ${e.element}`)}return i}function YR(t){return t==null?!0:!t.element||!t.on}function lk(){let t=Date.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const i=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(e=="x"?i:i&3|8).toString(16)})}function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s])}return t},ta.apply(this,arguments)}function GR(t,e){if(t==null)return{};var i={},s=Object.keys(t),a,l;for(l=0;l<s.length;l++)a=s[l],!(e.indexOf(a)>=0)&&(i[a]=t[a]);return i}const Mu=Math.min,ah=Math.max,yy=Math.round,Mg=Math.floor,zl=t=>({x:t,y:t}),R$={left:"right",right:"left",bottom:"top",top:"bottom"},F$={start:"end",end:"start"};function S1(t,e,i){return ah(t,Mu(e,i))}function Lu(t,e){return typeof t=="function"?t(e):t}function dh(t){return t.split("-")[0]}function bv(t){return t.split("-")[1]}function ck(t){return t==="x"?"y":"x"}function hk(t){return t==="y"?"height":"width"}function wv(t){return["top","bottom"].includes(dh(t))?"y":"x"}function uk(t){return ck(wv(t))}function D$(t,e,i){i===void 0&&(i=!1);const s=bv(t),a=uk(t),l=hk(a);let o=a==="x"?s===(i?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[l]>e.floating[l]&&(o=vy(o)),[o,vy(o)]}function I$(t){const e=vy(t);return[T1(t),e,T1(e)]}function T1(t){return t.replace(/start|end/g,e=>F$[e])}function B$(t,e,i){const s=["left","right"],a=["right","left"],l=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return i?e?a:s:e?s:a;case"left":case"right":return e?l:o;default:return[]}}function N$(t,e,i,s){const a=bv(t);let l=B$(dh(t),i==="start",s);return a&&(l=l.map(o=>o+"-"+a),e&&(l=l.concat(l.map(T1)))),l}function vy(t){return t.replace(/left|right|bottom|top/g,e=>R$[e])}function z$(t){return ta({top:0,right:0,bottom:0,left:0},t)}function XR(t){return typeof t!="number"?z$(t):{top:t,right:t,bottom:t,left:t}}function by(t){return ta({},t,{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}const U$=["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"],H$=["mainAxis","crossAxis","limiter"];function wM(t,e,i){let{reference:s,floating:a}=t;const l=wv(e),o=uk(e),h=hk(o),d=dh(e),m=l==="y",f=s.x+s.width/2-a.width/2,b=s.y+s.height/2-a.height/2,k=s[h]/2-a[h]/2;let w;switch(d){case"top":w={x:f,y:s.y-a.height};break;case"bottom":w={x:f,y:s.y+s.height};break;case"right":w={x:s.x+s.width,y:b};break;case"left":w={x:s.x-a.width,y:b};break;default:w={x:s.x,y:s.y}}switch(bv(e)){case"start":w[o]-=k*(i&&m?-1:1);break;case"end":w[o]+=k*(i&&m?-1:1);break}return w}const W$=async(t,e,i)=>{const{placement:s="bottom",strategy:a="absolute",middleware:l=[],platform:o}=i,h=l.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let m=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:f,y:b}=wM(m,s,d),k=s,w={},E=0;for(let P=0;P<h.length;P++){const{name:L,fn:R}=h[P],{x:u,y:T,data:y,reset:S}=await R({x:f,y:b,initialPlacement:s,placement:k,strategy:a,middlewareData:w,rects:m,platform:o,elements:{reference:t,floating:e}});if(f=u??f,b=T??b,w=ta({},w,{[L]:ta({},w[L],y)}),S&&E<=50){E++,typeof S=="object"&&(S.placement&&(k=S.placement),S.rects&&(m=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):S.rects),{x:f,y:b}=wM(m,k,d)),P=-1;continue}}return{x:f,y:b,placement:k,strategy:a,middlewareData:w}};async function KR(t,e){var i;e===void 0&&(e={});const{x:s,y:a,platform:l,rects:o,elements:h,strategy:d}=t,{boundary:m="clippingAncestors",rootBoundary:f="viewport",elementContext:b="floating",altBoundary:k=!1,padding:w=0}=Lu(e,t),E=XR(w),L=h[k?b==="floating"?"reference":"floating":b],R=by(await l.getClippingRect({element:(i=await(l.isElement==null?void 0:l.isElement(L)))==null||i?L:L.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(h.floating)),boundary:m,rootBoundary:f,strategy:d})),u=b==="floating"?ta({},o.floating,{x:s,y:a}):o.reference,T=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h.floating)),y=await(l.isElement==null?void 0:l.isElement(T))?await(l.getScale==null?void 0:l.getScale(T))||{x:1,y:1}:{x:1,y:1},S=by(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({rect:u,offsetParent:T,strategy:d}):u);return{top:(R.top-S.top+E.top)/y.y,bottom:(S.bottom-R.bottom+E.bottom)/y.y,left:(R.left-S.left+E.left)/y.x,right:(S.right-R.right+E.right)/y.x}}const j$=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:s,placement:a,rects:l,platform:o,elements:h}=e,{element:d,padding:m=0}=Lu(t,e)||{};if(d==null)return{};const f=XR(m),b={x:i,y:s},k=uk(a),w=hk(k),E=await o.getDimensions(d),P=k==="y",L=P?"top":"left",R=P?"bottom":"right",u=P?"clientHeight":"clientWidth",T=l.reference[w]+l.reference[k]-b[k]-l.floating[w],y=b[k]-l.reference[k],S=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=S?S[u]:0;(!C||!await(o.isElement==null?void 0:o.isElement(S)))&&(C=h.floating[u]||l.floating[w]);const M=T/2-y/2,I=C/2-E[w]/2-1,U=Mu(f[L],I),z=Mu(f[R],I),g=U,x=C-E[w]-z,A=C/2-E[w]/2+M,F=S1(g,A,x),j=bv(a)!=null&&A!=F&&l.reference[w]/2-(A<g?U:z)-E[w]/2<0?A<g?g-A:x-A:0;return{[k]:b[k]-j,data:{[k]:F,centerOffset:A-F+j}}}}),q$=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(i){var s;const{placement:a,middlewareData:l,rects:o,initialPlacement:h,platform:d,elements:m}=i,f=Lu(e,i),{mainAxis:b=!0,crossAxis:k=!0,fallbackPlacements:w,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:L=!0}=f,R=GR(f,U$),u=dh(a),T=dh(h)===h,y=await(d.isRTL==null?void 0:d.isRTL(m.floating)),S=w||(T||!L?[vy(h)]:I$(h));!w&&P!=="none"&&S.push(...N$(h,L,P,y));const C=[h,...S],M=await KR(i,R),I=[];let U=((s=l.flip)==null?void 0:s.overflows)||[];if(b&&I.push(M[u]),k){const A=D$(a,o,y);I.push(M[A[0]],M[A[1]])}if(U=[...U,{placement:a,overflows:I}],!I.every(A=>A<=0)){var z,g;const A=(((z=l.flip)==null?void 0:z.index)||0)+1,F=C[A];if(F)return{data:{index:A,overflows:U},reset:{placement:F}};let B=(g=U.filter(j=>j.overflows[0]<=0).sort((j,$)=>j.overflows[1]-$.overflows[1])[0])==null?void 0:g.placement;if(!B)switch(E){case"bestFit":{var x;const j=(x=U.map($=>[$.placement,$.overflows.filter(G=>G>0).reduce((G,he)=>G+he,0)]).sort(($,G)=>$[1]-G[1])[0])==null?void 0:x[0];j&&(B=j);break}case"initialPlacement":B=h;break}if(a!==B)return{reset:{placement:B}}}return{}}}},$$=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(i){const{x:s,y:a,placement:l}=i,o=Lu(e,i),{mainAxis:h=!0,crossAxis:d=!1,limiter:m={fn:u=>{let{x:T,y}=u;return{x:T,y}}}}=o,f=GR(o,H$),b={x:s,y:a},k=await KR(i,f),w=wv(dh(l)),E=ck(w);let P=b[E],L=b[w];if(h){const u=E==="y"?"top":"left",T=E==="y"?"bottom":"right",y=P+k[u],S=P-k[T];P=S1(y,P,S)}if(d){const u=w==="y"?"top":"left",T=w==="y"?"bottom":"right",y=L+k[u],S=L-k[T];L=S1(y,L,S)}const R=m.fn(ta({},i,{[E]:P,[w]:L}));return ta({},R,{data:{x:R.x-s,y:R.y-a}})}}},V$=function(e){return e===void 0&&(e={}),{options:e,fn(i){const{x:s,y:a,placement:l,rects:o,middlewareData:h}=i,{offset:d=0,mainAxis:m=!0,crossAxis:f=!0}=Lu(e,i),b={x:s,y:a},k=wv(l),w=ck(k);let E=b[w],P=b[k];const L=Lu(d,i),R=typeof L=="number"?{mainAxis:L,crossAxis:0}:ta({mainAxis:0,crossAxis:0},L);if(m){const y=w==="y"?"height":"width",S=o.reference[w]-o.floating[y]+R.mainAxis,C=o.reference[w]+o.reference[y]-R.mainAxis;E<S?E=S:E>C&&(E=C)}if(f){var u,T;const y=w==="y"?"width":"height",S=["top","left"].includes(dh(l)),C=o.reference[k]-o.floating[y]+(S&&((u=h.offset)==null?void 0:u[k])||0)+(S?0:R.crossAxis),M=o.reference[k]+o.reference[y]+(S?0:((T=h.offset)==null?void 0:T[k])||0)-(S?R.crossAxis:0);P<C?P=C:P>M&&(P=M)}return{[w]:E,[k]:P}}}};function Ul(t){return ZR(t)?(t.nodeName||"").toLowerCase():"#document"}function Ga(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function pl(t){var e;return(e=(ZR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function ZR(t){return t instanceof Node||t instanceof Ga(t).Node}function cl(t){return t instanceof Element||t instanceof Ga(t).Element}function go(t){return t instanceof HTMLElement||t instanceof Ga(t).HTMLElement}function _M(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ga(t).ShadowRoot}function Wp(t){const{overflow:e,overflowX:i,overflowY:s,display:a}=gn(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+i)&&!["inline","contents"].includes(a)}function Y$(t){return["table","td","th"].includes(Ul(t))}function dk(t){const e=fk(),i=gn(t);return i.transform!=="none"||i.perspective!=="none"||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||["transform","perspective","filter"].some(s=>(i.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(i.contain||"").includes(s))}function G$(t){let e=Ru(t);for(;go(e)&&!_v(e);){if(dk(e))return e;e=Ru(e)}return null}function fk(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _v(t){return["html","body","#document"].includes(Ul(t))}function gn(t){return Ga(t).getComputedStyle(t)}function xv(t){return cl(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ru(t){if(Ul(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_M(t)&&t.host||pl(t);return _M(e)?e.host:e}function QR(t){const e=Ru(t);return _v(e)?t.ownerDocument?t.ownerDocument.body:t.body:go(e)&&Wp(e)?e:QR(e)}function wy(t,e){var i;e===void 0&&(e=[]);const s=QR(t),a=s===((i=t.ownerDocument)==null?void 0:i.body),l=Ga(s);return a?e.concat(l,l.visualViewport||[],Wp(s)?s:[]):e.concat(s,wy(s))}function JR(t){const e=gn(t);let i=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const a=go(t),l=a?t.offsetWidth:i,o=a?t.offsetHeight:s,h=yy(i)!==l||yy(s)!==o;return h&&(i=l,s=o),{width:i,height:s,$:h}}function pk(t){return cl(t)?t:t.contextElement}function fu(t){const e=pk(t);if(!go(e))return zl(1);const i=e.getBoundingClientRect(),{width:s,height:a,$:l}=JR(e);let o=(l?yy(i.width):i.width)/s,h=(l?yy(i.height):i.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!h||!Number.isFinite(h))&&(h=1),{x:o,y:h}}const X$=zl(0);function eF(t){const e=Ga(t);return!fk()||!e.visualViewport?X$:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function K$(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==Ga(t)?!1:e}function fh(t,e,i,s){e===void 0&&(e=!1),i===void 0&&(i=!1);const a=t.getBoundingClientRect(),l=pk(t);let o=zl(1);e&&(s?cl(s)&&(o=fu(s)):o=fu(t));const h=K$(l,i,s)?eF(l):zl(0);let d=(a.left+h.x)/o.x,m=(a.top+h.y)/o.y,f=a.width/o.x,b=a.height/o.y;if(l){const k=Ga(l),w=s&&cl(s)?Ga(s):s;let E=k.frameElement;for(;E&&s&&w!==k;){const P=fu(E),L=E.getBoundingClientRect(),R=gn(E),u=L.left+(E.clientLeft+parseFloat(R.paddingLeft))*P.x,T=L.top+(E.clientTop+parseFloat(R.paddingTop))*P.y;d*=P.x,m*=P.y,f*=P.x,b*=P.y,d+=u,m+=T,E=Ga(E).frameElement}}return by({width:f,height:b,x:d,y:m})}function Z$(t){let{rect:e,offsetParent:i,strategy:s}=t;const a=go(i),l=pl(i);if(i===l)return e;let o={scrollLeft:0,scrollTop:0},h=zl(1);const d=zl(0);if((a||!a&&s!=="fixed")&&((Ul(i)!=="body"||Wp(l))&&(o=xv(i)),go(i))){const m=fh(i);h=fu(i),d.x=m.x+i.clientLeft,d.y=m.y+i.clientTop}return{width:e.width*h.x,height:e.height*h.y,x:e.x*h.x-o.scrollLeft*h.x+d.x,y:e.y*h.y-o.scrollTop*h.y+d.y}}function Q$(t){return Array.from(t.getClientRects())}function tF(t){return fh(pl(t)).left+xv(t).scrollLeft}function J$(t){const e=pl(t),i=xv(t),s=t.ownerDocument.body,a=ah(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),l=ah(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let o=-i.scrollLeft+tF(t);const h=-i.scrollTop;return gn(s).direction==="rtl"&&(o+=ah(e.clientWidth,s.clientWidth)-a),{width:a,height:l,x:o,y:h}}function eV(t,e){const i=Ga(t),s=pl(t),a=i.visualViewport;let l=s.clientWidth,o=s.clientHeight,h=0,d=0;if(a){l=a.width,o=a.height;const m=fk();(!m||m&&e==="fixed")&&(h=a.offsetLeft,d=a.offsetTop)}return{width:l,height:o,x:h,y:d}}function tV(t,e){const i=fh(t,!0,e==="fixed"),s=i.top+t.clientTop,a=i.left+t.clientLeft,l=go(t)?fu(t):zl(1),o=t.clientWidth*l.x,h=t.clientHeight*l.y,d=a*l.x,m=s*l.y;return{width:o,height:h,x:d,y:m}}function xM(t,e,i){let s;if(e==="viewport")s=eV(t,i);else if(e==="document")s=J$(pl(t));else if(cl(e))s=tV(e,i);else{const a=eF(t);s=ta({},e,{x:e.x-a.x,y:e.y-a.y})}return by(s)}function iF(t,e){const i=Ru(t);return i===e||!cl(i)||_v(i)?!1:gn(i).position==="fixed"||iF(i,e)}function iV(t,e){const i=e.get(t);if(i)return i;let s=wy(t).filter(h=>cl(h)&&Ul(h)!=="body"),a=null;const l=gn(t).position==="fixed";let o=l?Ru(t):t;for(;cl(o)&&!_v(o);){const h=gn(o),d=dk(o);!d&&h.position==="fixed"&&(a=null),(l?!d&&!a:!d&&h.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Wp(o)&&!d&&iF(t,o))?s=s.filter(f=>f!==o):a=h,o=Ru(o)}return e.set(t,s),s}function rV(t){let{element:e,boundary:i,rootBoundary:s,strategy:a}=t;const o=[...i==="clippingAncestors"?iV(e,this._c):[].concat(i),s],h=o[0],d=o.reduce((m,f)=>{const b=xM(e,f,a);return m.top=ah(b.top,m.top),m.right=Mu(b.right,m.right),m.bottom=Mu(b.bottom,m.bottom),m.left=ah(b.left,m.left),m},xM(e,h,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function sV(t){return JR(t)}function aV(t,e,i){const s=go(e),a=pl(e),l=i==="fixed",o=fh(t,!0,l,e);let h={scrollLeft:0,scrollTop:0};const d=zl(0);if(s||!s&&!l)if((Ul(e)!=="body"||Wp(a))&&(h=xv(e)),s){const m=fh(e,!0,l,e);d.x=m.x+e.clientLeft,d.y=m.y+e.clientTop}else a&&(d.x=tF(a));return{x:o.left+h.scrollLeft-d.x,y:o.top+h.scrollTop-d.y,width:o.width,height:o.height}}function kM(t,e){return!go(t)||gn(t).position==="fixed"?null:e?e(t):t.offsetParent}function rF(t,e){const i=Ga(t);if(!go(t))return i;let s=kM(t,e);for(;s&&Y$(s)&&gn(s).position==="static";)s=kM(s,e);return s&&(Ul(s)==="html"||Ul(s)==="body"&&gn(s).position==="static"&&!dk(s))?i:s||G$(t)||i}const nV=async function(e){let{reference:i,floating:s,strategy:a}=e;const l=this.getOffsetParent||rF,o=this.getDimensions;return{reference:aV(i,await l(s),a),floating:ta({x:0,y:0},await o(s))}};function oV(t){return gn(t).direction==="rtl"}const lV={convertOffsetParentRelativeRectToViewportRelativeRect:Z$,getDocumentElement:pl,getClippingRect:rV,getOffsetParent:rF,getElementRects:nV,getClientRects:Q$,getDimensions:sV,getScale:fu,isElement:cl,isRTL:oV};function cV(t,e){let i=null,s;const a=pl(t);function l(){clearTimeout(s),i&&i.disconnect(),i=null}function o(h,d){h===void 0&&(h=!1),d===void 0&&(d=1),l();const{left:m,top:f,width:b,height:k}=t.getBoundingClientRect();if(h||e(),!b||!k)return;const w=Mg(f),E=Mg(a.clientWidth-(m+b)),P=Mg(a.clientHeight-(f+k)),L=Mg(m),u={rootMargin:-w+"px "+-E+"px "+-P+"px "+-L+"px",threshold:ah(0,Mu(1,d))||1};let T=!0;function y(S){const C=S[0].intersectionRatio;if(C!==d){if(!T)return o();C?o(!1,C):s=setTimeout(()=>{o(!1,1e-7)},100)}T=!1}try{i=new IntersectionObserver(y,ta({},u,{root:a.ownerDocument}))}catch{i=new IntersectionObserver(y,u)}i.observe(t)}return o(!0),l}function hV(t,e,i,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:l=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:d=!1}=s,m=pk(t),f=a||l?[...m?wy(m):[],...wy(e)]:[];f.forEach(R=>{a&&R.addEventListener("scroll",i,{passive:!0}),l&&R.addEventListener("resize",i)});const b=m&&h?cV(m,i):null;let k=-1,w=null;o&&(w=new ResizeObserver(R=>{let[u]=R;u&&u.target===m&&w&&(w.unobserve(e),cancelAnimationFrame(k),k=requestAnimationFrame(()=>{w&&w.observe(e)})),i()}),m&&!d&&w.observe(m),w.observe(e));let E,P=d?fh(t):null;d&&L();function L(){const R=fh(t);P&&(R.x!==P.x||R.y!==P.y||R.width!==P.width||R.height!==P.height)&&i(),P=R,E=requestAnimationFrame(L)}return i(),()=>{f.forEach(R=>{a&&R.removeEventListener("scroll",i),l&&R.removeEventListener("resize",i)}),b&&b(),w&&w.disconnect(),w=null,d&&cancelAnimationFrame(E)}}const uV=(t,e,i)=>{const s=new Map,a=ta({platform:lV},i),l=ta({},a.platform,{_c:s});return W$(t,e,ta({},a,{platform:l}))};function dV(t){t.cleanup&&t.cleanup();const e=t._getResolvedAttachToOptions();let i=e.element;const s=vV(e,t),a=YR(e);return a&&(i=document.body,t.shepherdElementComponent.getElement().classList.add("shepherd-centered")),t.cleanup=hV(i,t.el,()=>{if(!t.el){t.cleanup();return}mV(i,t,s,a)}),t.target=e.element,s}function fV(t,e){return{floatingUIOptions:ak(t.floatingUIOptions||{},e.floatingUIOptions||{})}}function pV(t){t.cleanup&&t.cleanup(),t.cleanup=null}function mV(t,e,i,s){return uV(t,e.el,i).then(gV(e,s)).then(a=>new Promise(l=>{setTimeout(()=>l(a),300)})).then(a=>{a&&a.el&&a.el.focus({preventScroll:!0})})}function gV(t,e){return({x:i,y:s,placement:a,middlewareData:l})=>(t.el&&(e?Object.assign(t.el.style,{position:"fixed",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}):Object.assign(t.el.style,{position:"absolute",left:`${i}px`,top:`${s}px`}),t.el.dataset.popperPlacement=a,yV(t.el,l)),t)}function yV(t,e){const i=t.querySelector(".shepherd-arrow");if(i&&e.arrow){const{x:s,y:a}=e.arrow;Object.assign(i.style,{left:s!=null?`${s}px`:"",top:a!=null?`${a}px`:""})}}function vV(t,e){const i={strategy:"absolute",middleware:[]},s=bV(e);return YR(t)||(i.middleware.push(q$(),$$({limiter:V$(),crossAxis:!0})),s&&i.middleware.push(j$({element:s})),i.placement=t.on),ak(e.options.floatingUIOptions||{},i)}function bV(t){return t.options.arrow&&t.el?t.el.querySelector(".shepherd-arrow"):!1}function Za(){}function wV(t,e){for(const i in e)t[i]=e[i];return t}function sF(t){return t()}function SM(){return Object.create(null)}function jp(t){t.forEach(sF)}function mk(t){return typeof t=="function"}function ml(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function _V(t){return Object.keys(t).length===0}function Fu(t,e){t.appendChild(e)}function Vn(t,e,i){t.insertBefore(e,i||null)}function xn(t){t.parentNode&&t.parentNode.removeChild(t)}function xV(t,e){for(let i=0;i<t.length;i+=1)t[i]&&t[i].d(e)}function yo(t){return document.createElement(t)}function TM(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function aF(t){return document.createTextNode(t)}function _y(){return aF(" ")}function kV(){return aF("")}function kv(t,e,i,s){return t.addEventListener(e,i,s),()=>t.removeEventListener(e,i,s)}function Nr(t,e,i){i==null?t.removeAttribute(e):t.getAttribute(e)!==i&&t.setAttribute(e,i)}const SV=["width","height"];function CM(t,e){const i=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)e[s]==null?t.removeAttribute(s):s==="style"?t.style.cssText=e[s]:s==="__value"?t.value=t[s]=e[s]:i[s]&&i[s].set&&SV.indexOf(s)===-1?t[s]=e[s]:Nr(t,s,e[s])}function TV(t){return Array.from(t.childNodes)}function Jh(t,e,i){t.classList[i?"add":"remove"](e)}let bp;function ip(t){bp=t}function nF(){if(!bp)throw new Error("Function called outside component initialization");return bp}function CV(t){nF().$$.on_mount.push(t)}function gk(t){nF().$$.after_update.push(t)}const au=[],Du=[];let pu=[];const EM=[],EV=Promise.resolve();let C1=!1;function OV(){C1||(C1=!0,EV.then(oF))}function E1(t){pu.push(t)}const N_=new Set;let eu=0;function oF(){if(eu!==0)return;const t=bp;do{try{for(;eu<au.length;){const e=au[eu];eu++,ip(e),AV(e.$$)}}catch(e){throw au.length=0,eu=0,e}for(ip(null),au.length=0,eu=0;Du.length;)Du.pop()();for(let e=0;e<pu.length;e+=1){const i=pu[e];N_.has(i)||(N_.add(i),i())}pu.length=0}while(au.length);for(;EM.length;)EM.pop()();C1=!1,N_.clear(),ip(t)}function AV(t){if(t.fragment!==null){t.update(),jp(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E1)}}function PV(t){const e=[],i=[];pu.forEach(s=>t.indexOf(s)===-1?e.push(s):i.push(s)),i.forEach(s=>s()),pu=e}const Gg=new Set;let Kc;function nh(){Kc={r:0,c:[],p:Kc}}function oh(){Kc.r||jp(Kc.c),Kc=Kc.p}function xr(t,e){t&&t.i&&(Gg.delete(t),t.i(e))}function cs(t,e,i,s){if(t&&t.o){if(Gg.has(t))return;Gg.add(t),Kc.c.push(()=>{Gg.delete(t),s&&(i&&t.d(1),s())}),t.o(e)}else s&&s()}function MV(t,e){const i={},s={},a={$$scope:1};let l=t.length;for(;l--;){const o=t[l],h=e[l];if(h){for(const d in o)d in h||(s[d]=1);for(const d in h)a[d]||(i[d]=h[d],a[d]=1);t[l]=h}else for(const d in o)a[d]=1}for(const o in s)o in i||(i[o]=void 0);return i}function xh(t){t&&t.c()}function Vl(t,e,i,s){const{fragment:a,after_update:l}=t.$$;a&&a.m(e,i),s||E1(()=>{const o=t.$$.on_mount.map(sF).filter(mk);t.$$.on_destroy?t.$$.on_destroy.push(...o):jp(o),t.$$.on_mount=[]}),l.forEach(E1)}function Yl(t,e){const i=t.$$;i.fragment!==null&&(PV(i.after_update),jp(i.on_destroy),i.fragment&&i.fragment.d(e),i.on_destroy=i.fragment=null,i.ctx=[])}function LV(t,e){t.$$.dirty[0]===-1&&(au.push(t),OV(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gl(t,e,i,s,a,l,o,h=[-1]){const d=bp;ip(t);const m=t.$$={fragment:null,ctx:[],props:l,update:Za,not_equal:a,bound:SM(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(d?d.$$.context:[])),callbacks:SM(),dirty:h,skip_bound:!1,root:e.target||d.$$.root};let f=!1;if(m.ctx=i?i(t,e.props||{},(b,k,...w)=>{const E=w.length?w[0]:k;return m.ctx&&a(m.ctx[b],m.ctx[b]=E)&&(!m.skip_bound&&m.bound[b]&&m.bound[b](E),f&&LV(t,b)),k}):[],m.update(),f=!0,jp(m.before_update),m.fragment=s?s(m.ctx):!1,e.target){if(e.hydrate){const b=TV(e.target);m.fragment&&m.fragment.l(b),b.forEach(xn)}else m.fragment&&m.fragment.c();e.intro&&xr(t.$$.fragment),Vl(t,e.target,e.anchor,e.customElement),oF()}ip(d)}class yl{$destroy(){Yl(this,1),this.$destroy=Za}$on(e,i){if(!mk(i))return Za;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(i),()=>{const a=s.indexOf(i);a!==-1&&s.splice(a,1)}}$set(e){this.$$set&&!_V(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function RV(t){let e,i,s,a,l;return{c(){e=yo("button"),Nr(e,"aria-label",i=t[3]?t[3]:null),Nr(e,"class",s=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`),e.disabled=t[2],Nr(e,"tabindex","0")},m(o,h){Vn(o,e,h),e.innerHTML=t[5],a||(l=kv(e,"click",function(){mk(t[0])&&t[0].apply(this,arguments)}),a=!0)},p(o,[h]){t=o,h&32&&(e.innerHTML=t[5]),h&8&&i!==(i=t[3]?t[3]:null)&&Nr(e,"aria-label",i),h&18&&s!==(s=`${t[1]||""} shepherd-button ${t[4]?"shepherd-button-secondary":""}`)&&Nr(e,"class",s),h&4&&(e.disabled=t[2])},i:Za,o:Za,d(o){o&&xn(e),a=!1,l()}}}function FV(t,e,i){let{config:s,step:a}=e,l,o,h,d,m,f;function b(k){return uh(k)?k=k.call(a):k}return t.$$set=k=>{"config"in k&&i(6,s=k.config),"step"in k&&i(7,a=k.step)},t.$$.update=()=>{t.$$.dirty&192&&(i(0,l=s.action?s.action.bind(a.tour):null),i(1,o=s.classes),i(2,h=s.disabled?b(s.disabled):!1),i(3,d=s.label?b(s.label):null),i(4,m=s.secondary),i(5,f=s.text?b(s.text):null))},[l,o,h,d,m,f,s,a]}class DV extends yl{constructor(e){super(),gl(this,e,FV,RV,ml,{config:6,step:7})}}function OM(t,e,i){const s=t.slice();return s[2]=e[i],s}function AM(t){let e,i,s=t[1],a=[];for(let o=0;o<s.length;o+=1)a[o]=PM(OM(t,s,o));const l=o=>cs(a[o],1,1,()=>{a[o]=null});return{c(){for(let o=0;o<a.length;o+=1)a[o].c();e=kV()},m(o,h){for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(o,h);Vn(o,e,h),i=!0},p(o,h){if(h&3){s=o[1];let d;for(d=0;d<s.length;d+=1){const m=OM(o,s,d);a[d]?(a[d].p(m,h),xr(a[d],1)):(a[d]=PM(m),a[d].c(),xr(a[d],1),a[d].m(e.parentNode,e))}for(nh(),d=s.length;d<a.length;d+=1)l(d);oh()}},i(o){if(!i){for(let h=0;h<s.length;h+=1)xr(a[h]);i=!0}},o(o){a=a.filter(Boolean);for(let h=0;h<a.length;h+=1)cs(a[h]);i=!1},d(o){xV(a,o),o&&xn(e)}}}function PM(t){let e,i;return e=new DV({props:{config:t[2],step:t[0]}}),{c(){xh(e.$$.fragment)},m(s,a){Vl(e,s,a),i=!0},p(s,a){const l={};a&2&&(l.config=s[2]),a&1&&(l.step=s[0]),e.$set(l)},i(s){i||(xr(e.$$.fragment,s),i=!0)},o(s){cs(e.$$.fragment,s),i=!1},d(s){Yl(e,s)}}}function IV(t){let e,i,s=t[1]&&AM(t);return{c(){e=yo("footer"),s&&s.c(),Nr(e,"class","shepherd-footer")},m(a,l){Vn(a,e,l),s&&s.m(e,null),i=!0},p(a,[l]){a[1]?s?(s.p(a,l),l&2&&xr(s,1)):(s=AM(a),s.c(),xr(s,1),s.m(e,null)):s&&(nh(),cs(s,1,1,()=>{s=null}),oh())},i(a){i||(xr(s),i=!0)},o(a){cs(s),i=!1},d(a){a&&xn(e),s&&s.d()}}}function BV(t,e,i){let s,{step:a}=e;return t.$$set=l=>{"step"in l&&i(0,a=l.step)},t.$$.update=()=>{t.$$.dirty&1&&i(1,s=a.options.buttons)},[a,s]}class NV extends yl{constructor(e){super(),gl(this,e,BV,IV,ml,{step:0})}}function zV(t){let e,i,s,a,l;return{c(){e=yo("button"),i=yo("span"),i.textContent="",Nr(i,"aria-hidden","true"),Nr(e,"aria-label",s=t[0].label?t[0].label:"Close Tour"),Nr(e,"class","shepherd-cancel-icon"),Nr(e,"type","button")},m(o,h){Vn(o,e,h),Fu(e,i),a||(l=kv(e,"click",t[1]),a=!0)},p(o,[h]){h&1&&s!==(s=o[0].label?o[0].label:"Close Tour")&&Nr(e,"aria-label",s)},i:Za,o:Za,d(o){o&&xn(e),a=!1,l()}}}function UV(t,e,i){let{cancelIcon:s,step:a}=e;const l=o=>{o.preventDefault(),a.cancel()};return t.$$set=o=>{"cancelIcon"in o&&i(0,s=o.cancelIcon),"step"in o&&i(2,a=o.step)},[s,l,a]}class HV extends yl{constructor(e){super(),gl(this,e,UV,zV,ml,{cancelIcon:0,step:2})}}function WV(t){let e;return{c(){e=yo("h3"),Nr(e,"id",t[1]),Nr(e,"class","shepherd-title")},m(i,s){Vn(i,e,s),t[3](e)},p(i,[s]){s&2&&Nr(e,"id",i[1])},i:Za,o:Za,d(i){i&&xn(e),t[3](null)}}}function jV(t,e,i){let{labelId:s,element:a,title:l}=e;gk(()=>{uh(l)&&i(2,l=l()),i(0,a.innerHTML=l,a)});function o(h){Du[h?"unshift":"push"](()=>{a=h,i(0,a)})}return t.$$set=h=>{"labelId"in h&&i(1,s=h.labelId),"element"in h&&i(0,a=h.element),"title"in h&&i(2,l=h.title)},[a,s,l,o]}class qV extends yl{constructor(e){super(),gl(this,e,jV,WV,ml,{labelId:1,element:0,title:2})}}function MM(t){let e,i;return e=new qV({props:{labelId:t[0],title:t[2]}}),{c(){xh(e.$$.fragment)},m(s,a){Vl(e,s,a),i=!0},p(s,a){const l={};a&1&&(l.labelId=s[0]),a&4&&(l.title=s[2]),e.$set(l)},i(s){i||(xr(e.$$.fragment,s),i=!0)},o(s){cs(e.$$.fragment,s),i=!1},d(s){Yl(e,s)}}}function LM(t){let e,i;return e=new HV({props:{cancelIcon:t[3],step:t[1]}}),{c(){xh(e.$$.fragment)},m(s,a){Vl(e,s,a),i=!0},p(s,a){const l={};a&8&&(l.cancelIcon=s[3]),a&2&&(l.step=s[1]),e.$set(l)},i(s){i||(xr(e.$$.fragment,s),i=!0)},o(s){cs(e.$$.fragment,s),i=!1},d(s){Yl(e,s)}}}function $V(t){let e,i,s,a=t[2]&&MM(t),l=t[3]&&t[3].enabled&&LM(t);return{c(){e=yo("header"),a&&a.c(),i=_y(),l&&l.c(),Nr(e,"class","shepherd-header")},m(o,h){Vn(o,e,h),a&&a.m(e,null),Fu(e,i),l&&l.m(e,null),s=!0},p(o,[h]){o[2]?a?(a.p(o,h),h&4&&xr(a,1)):(a=MM(o),a.c(),xr(a,1),a.m(e,i)):a&&(nh(),cs(a,1,1,()=>{a=null}),oh()),o[3]&&o[3].enabled?l?(l.p(o,h),h&8&&xr(l,1)):(l=LM(o),l.c(),xr(l,1),l.m(e,null)):l&&(nh(),cs(l,1,1,()=>{l=null}),oh())},i(o){s||(xr(a),xr(l),s=!0)},o(o){cs(a),cs(l),s=!1},d(o){o&&xn(e),a&&a.d(),l&&l.d()}}}function VV(t,e,i){let{labelId:s,step:a}=e,l,o;return t.$$set=h=>{"labelId"in h&&i(0,s=h.labelId),"step"in h&&i(1,a=h.step)},t.$$.update=()=>{t.$$.dirty&2&&(i(2,l=a.options.title),i(3,o=a.options.cancelIcon))},[s,a,l,o]}class YV extends yl{constructor(e){super(),gl(this,e,VV,$V,ml,{labelId:0,step:1})}}function GV(t){let e;return{c(){e=yo("div"),Nr(e,"class","shepherd-text"),Nr(e,"id",t[1])},m(i,s){Vn(i,e,s),t[3](e)},p(i,[s]){s&2&&Nr(e,"id",i[1])},i:Za,o:Za,d(i){i&&xn(e),t[3](null)}}}function XV(t,e,i){let{descriptionId:s,element:a,step:l}=e;gk(()=>{let{text:h}=l.options;uh(h)&&(h=h.call(l)),nk(h)?a.appendChild(h):i(0,a.innerHTML=h,a)});function o(h){Du[h?"unshift":"push"](()=>{a=h,i(0,a)})}return t.$$set=h=>{"descriptionId"in h&&i(1,s=h.descriptionId),"element"in h&&i(0,a=h.element),"step"in h&&i(2,l=h.step)},[a,s,l,o]}class KV extends yl{constructor(e){super(),gl(this,e,XV,GV,ml,{descriptionId:1,element:0,step:2})}}function RM(t){let e,i;return e=new YV({props:{labelId:t[1],step:t[2]}}),{c(){xh(e.$$.fragment)},m(s,a){Vl(e,s,a),i=!0},p(s,a){const l={};a&2&&(l.labelId=s[1]),a&4&&(l.step=s[2]),e.$set(l)},i(s){i||(xr(e.$$.fragment,s),i=!0)},o(s){cs(e.$$.fragment,s),i=!1},d(s){Yl(e,s)}}}function FM(t){let e,i;return e=new KV({props:{descriptionId:t[0],step:t[2]}}),{c(){xh(e.$$.fragment)},m(s,a){Vl(e,s,a),i=!0},p(s,a){const l={};a&1&&(l.descriptionId=s[0]),a&4&&(l.step=s[2]),e.$set(l)},i(s){i||(xr(e.$$.fragment,s),i=!0)},o(s){cs(e.$$.fragment,s),i=!1},d(s){Yl(e,s)}}}function DM(t){let e,i;return e=new NV({props:{step:t[2]}}),{c(){xh(e.$$.fragment)},m(s,a){Vl(e,s,a),i=!0},p(s,a){const l={};a&4&&(l.step=s[2]),e.$set(l)},i(s){i||(xr(e.$$.fragment,s),i=!0)},o(s){cs(e.$$.fragment,s),i=!1},d(s){Yl(e,s)}}}function ZV(t){let e,i=!Js(t[2].options.title)||t[2].options.cancelIcon&&t[2].options.cancelIcon.enabled,s,a=!Js(t[2].options.text),l,o=Array.isArray(t[2].options.buttons)&&t[2].options.buttons.length,h,d=i&&RM(t),m=a&&FM(t),f=o&&DM(t);return{c(){e=yo("div"),d&&d.c(),s=_y(),m&&m.c(),l=_y(),f&&f.c(),Nr(e,"class","shepherd-content")},m(b,k){Vn(b,e,k),d&&d.m(e,null),Fu(e,s),m&&m.m(e,null),Fu(e,l),f&&f.m(e,null),h=!0},p(b,[k]){k&4&&(i=!Js(b[2].options.title)||b[2].options.cancelIcon&&b[2].options.cancelIcon.enabled),i?d?(d.p(b,k),k&4&&xr(d,1)):(d=RM(b),d.c(),xr(d,1),d.m(e,s)):d&&(nh(),cs(d,1,1,()=>{d=null}),oh()),k&4&&(a=!Js(b[2].options.text)),a?m?(m.p(b,k),k&4&&xr(m,1)):(m=FM(b),m.c(),xr(m,1),m.m(e,l)):m&&(nh(),cs(m,1,1,()=>{m=null}),oh()),k&4&&(o=Array.isArray(b[2].options.buttons)&&b[2].options.buttons.length),o?f?(f.p(b,k),k&4&&xr(f,1)):(f=DM(b),f.c(),xr(f,1),f.m(e,null)):f&&(nh(),cs(f,1,1,()=>{f=null}),oh())},i(b){h||(xr(d),xr(m),xr(f),h=!0)},o(b){cs(d),cs(m),cs(f),h=!1},d(b){b&&xn(e),d&&d.d(),m&&m.d(),f&&f.d()}}}function QV(t,e,i){let{descriptionId:s,labelId:a,step:l}=e;return t.$$set=o=>{"descriptionId"in o&&i(0,s=o.descriptionId),"labelId"in o&&i(1,a=o.labelId),"step"in o&&i(2,l=o.step)},[s,a,l]}class JV extends yl{constructor(e){super(),gl(this,e,QV,ZV,ml,{descriptionId:0,labelId:1,step:2})}}function IM(t){let e;return{c(){e=yo("div"),Nr(e,"class","shepherd-arrow"),Nr(e,"data-popper-arrow","")},m(i,s){Vn(i,e,s)},d(i){i&&xn(e)}}}function eY(t){let e,i,s,a,l,o,h,d,m=t[4].options.arrow&&t[4].options.attachTo&&t[4].options.attachTo.element&&t[4].options.attachTo.on&&IM();s=new JV({props:{descriptionId:t[2],labelId:t[3],step:t[4]}});let f=[{"aria-describedby":a=Js(t[4].options.text)?null:t[2]},{"aria-labelledby":l=t[4].options.title?t[3]:null},t[1],{role:"dialog"},{tabindex:"0"}],b={};for(let k=0;k<f.length;k+=1)b=wV(b,f[k]);return{c(){e=yo("div"),m&&m.c(),i=_y(),xh(s.$$.fragment),CM(e,b),Jh(e,"shepherd-has-cancel-icon",t[5]),Jh(e,"shepherd-has-title",t[6]),Jh(e,"shepherd-element",!0)},m(k,w){Vn(k,e,w),m&&m.m(e,null),Fu(e,i),Vl(s,e,null),t[13](e),o=!0,h||(d=kv(e,"keydown",t[7]),h=!0)},p(k,[w]){k[4].options.arrow&&k[4].options.attachTo&&k[4].options.attachTo.element&&k[4].options.attachTo.on?m||(m=IM(),m.c(),m.m(e,i)):m&&(m.d(1),m=null);const E={};w&4&&(E.descriptionId=k[2]),w&8&&(E.labelId=k[3]),w&16&&(E.step=k[4]),s.$set(E),CM(e,b=MV(f,[(!o||w&20&&a!==(a=Js(k[4].options.text)?null:k[2]))&&{"aria-describedby":a},(!o||w&24&&l!==(l=k[4].options.title?k[3]:null))&&{"aria-labelledby":l},w&2&&k[1],{role:"dialog"},{tabindex:"0"}])),Jh(e,"shepherd-has-cancel-icon",k[5]),Jh(e,"shepherd-has-title",k[6]),Jh(e,"shepherd-element",!0)},i(k){o||(xr(s.$$.fragment,k),o=!0)},o(k){cs(s.$$.fragment,k),o=!1},d(k){k&&xn(e),m&&m.d(),Yl(s),t[13](null),h=!1,d()}}}const tY=9,iY=27,rY=37,sY=39;function BM(t){return t.split(" ").filter(e=>!!e.length)}function aY(t,e,i){let{classPrefix:s,element:a,descriptionId:l,firstFocusableElement:o,focusableElements:h,labelId:d,lastFocusableElement:m,step:f,dataStepId:b}=e,k,w,E;const P=()=>a;CV(()=>{i(1,b={[`data-${s}shepherd-step-id`]:f.id}),i(9,h=a.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')),i(8,o=h[0]),i(10,m=h[h.length-1])}),gk(()=>{E!==f.options.classes&&L()});function L(){R(E),E=f.options.classes,u(E)}function R(S){if(vp(S)){const C=BM(S);C.length&&a.classList.remove(...C)}}function u(S){if(vp(S)){const C=BM(S);C.length&&a.classList.add(...C)}}const T=S=>{const{tour:C}=f;switch(S.keyCode){case tY:if(h.length===0){S.preventDefault();break}S.shiftKey?(document.activeElement===o||document.activeElement.classList.contains("shepherd-element"))&&(S.preventDefault(),m.focus()):document.activeElement===m&&(S.preventDefault(),o.focus());break;case iY:C.options.exitOnEsc&&(S.stopPropagation(),f.cancel());break;case rY:C.options.keyboardNavigation&&(S.stopPropagation(),C.back());break;case sY:C.options.keyboardNavigation&&(S.stopPropagation(),C.next());break}};function y(S){Du[S?"unshift":"push"](()=>{a=S,i(0,a)})}return t.$$set=S=>{"classPrefix"in S&&i(11,s=S.classPrefix),"element"in S&&i(0,a=S.element),"descriptionId"in S&&i(2,l=S.descriptionId),"firstFocusableElement"in S&&i(8,o=S.firstFocusableElement),"focusableElements"in S&&i(9,h=S.focusableElements),"labelId"in S&&i(3,d=S.labelId),"lastFocusableElement"in S&&i(10,m=S.lastFocusableElement),"step"in S&&i(4,f=S.step),"dataStepId"in S&&i(1,b=S.dataStepId)},t.$$.update=()=>{t.$$.dirty&16&&(i(5,k=f.options&&f.options.cancelIcon&&f.options.cancelIcon.enabled),i(6,w=f.options&&f.options.title))},[a,b,l,d,f,k,w,T,o,h,m,s,P,y]}class nY extends yl{constructor(e){super(),gl(this,e,aY,eY,ml,{classPrefix:11,element:0,descriptionId:2,firstFocusableElement:8,focusableElements:9,labelId:3,lastFocusableElement:10,step:4,dataStepId:1,getElement:12})}get getElement(){return this.$$.ctx[12]}}let O1=class extends ok{constructor(e,i={}){return super(e,i),this.tour=e,this.classPrefix=this.tour.options?VR(this.tour.options.classPrefix):"",this.styles=e.styles,this._resolvedAttachTo=null,$R(this),this._setOptions(i),this}cancel(){this.tour.cancel(),this.trigger("cancel")}complete(){this.tour.complete(),this.trigger("complete")}destroy(){pV(this),nk(this.el)&&(this.el.remove(),this.el=null),this._updateStepTargetOnHide(),this.trigger("destroy")}getTour(){return this.tour}hide(){this.tour.modal.hide(),this.trigger("before-hide"),this.el&&(this.el.hidden=!0),this._updateStepTargetOnHide(),this.trigger("hide")}_resolveAttachToOptions(){return this._resolvedAttachTo=L$(this),this._resolvedAttachTo}_getResolvedAttachToOptions(){return this._resolvedAttachTo===null?this._resolveAttachToOptions():this._resolvedAttachTo}isOpen(){return!!(this.el&&!this.el.hidden)}show(){return uh(this.options.beforeShowPromise)?Promise.resolve(this.options.beforeShowPromise()).then(()=>this._show()):Promise.resolve(this._show())}updateStepOptions(e){Object.assign(this.options,e),this.shepherdElementComponent&&this.shepherdElementComponent.$set({step:this})}getElement(){return this.el}getTarget(){return this.target}_createTooltipContent(){const e=`${this.id}-description`,i=`${this.id}-label`;return this.shepherdElementComponent=new nY({target:this.tour.options.stepsContainer||document.body,props:{classPrefix:this.classPrefix,descriptionId:e,labelId:i,step:this,styles:this.styles}}),this.shepherdElementComponent.getElement()}_scrollTo(e){const{element:i}=this._getResolvedAttachToOptions();uh(this.options.scrollToHandler)?this.options.scrollToHandler(i):A$(i)&&typeof i.scrollIntoView=="function"&&i.scrollIntoView(e)}_getClassOptions(e){const i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions,s=e.classes?e.classes:"",a=i&&i.classes?i.classes:"",l=[...s.split(" "),...a.split(" ")],o=new Set(l);return Array.from(o).join(" ").trim()}_setOptions(e={}){let i=this.tour&&this.tour.options&&this.tour.options.defaultStepOptions;i=ak({},i||{}),this.options=Object.assign({arrow:!0},i,e,fV(i,e));const{when:s}=this.options;this.options.classes=this._getClassOptions(e),this.destroy(),this.id=this.options.id||`step-${lk()}`,s&&Object.keys(s).forEach(a=>{this.on(a,s[a],this)})}_setupElements(){Js(this.el)||this.destroy(),this.el=this._createTooltipContent(),this.options.advanceOn&&M$(this),dV(this)}_show(){this.trigger("before-show"),this._resolveAttachToOptions(),this._setupElements(),this.tour.modal||this.tour._setupModal(),this.tour.modal.setupForStep(this),this._styleTargetElementForStep(this),this.el.hidden=!1,this.options.scrollTo&&setTimeout(()=>{this._scrollTo(this.options.scrollTo)}),this.el.hidden=!1;const e=this.shepherdElementComponent.getElement(),i=this.target||document.body;i.classList.add(`${this.classPrefix}shepherd-enabled`),i.classList.add(`${this.classPrefix}shepherd-target`),e.classList.add("shepherd-enabled"),this.trigger("show")}_styleTargetElementForStep(e){const i=e.target;i&&(e.options.highlightClass&&i.classList.add(e.options.highlightClass),i.classList.remove("shepherd-target-click-disabled"),e.options.canClickTarget===!1&&i.classList.add("shepherd-target-click-disabled"))}_updateStepTargetOnHide(){const e=this.target||document.body;this.options.highlightClass&&e.classList.remove(this.options.highlightClass),e.classList.remove("shepherd-target-click-disabled",`${this.classPrefix}shepherd-enabled`,`${this.classPrefix}shepherd-target`)}};function oY(t){if(t){const{steps:e}=t;e.forEach(i=>{i.options&&i.options.canClickTarget===!1&&i.options.attachTo&&i.target instanceof HTMLElement&&i.target.classList.remove("shepherd-target-click-disabled")})}}function lY({width:t,height:e,x:i=0,y:s=0,r:a=0}){const{innerWidth:l,innerHeight:o}=window,{topLeft:h=0,topRight:d=0,bottomRight:m=0,bottomLeft:f=0}=typeof a=="number"?{topLeft:a,topRight:a,bottomRight:a,bottomLeft:a}:a;return`M${l},${o}H0V0H${l}V${o}ZM${i+h},${s}a${h},${h},0,0,0-${h},${h}V${e+s-f}a${f},${f},0,0,0,${f},${f}H${t+i-m}a${m},${m},0,0,0,${m}-${m}V${s+d}a${d},${d},0,0,0-${d}-${d}Z`}function cY(t){let e,i,s,a,l;return{c(){e=TM("svg"),i=TM("path"),Nr(i,"d",t[2]),Nr(e,"class",s=`${t[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)},m(o,h){Vn(o,e,h),Fu(e,i),t[11](e),a||(l=kv(e,"touchmove",t[3]),a=!0)},p(o,[h]){h&4&&Nr(i,"d",o[2]),h&2&&s!==(s=`${o[1]?"shepherd-modal-is-visible":""} shepherd-modal-overlay-container`)&&Nr(e,"class",s)},i:Za,o:Za,d(o){o&&xn(e),t[11](null),a=!1,l()}}}function lF(t){if(!t)return null;const i=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY;return i!=="hidden"&&i!=="visible"&&t.scrollHeight>=t.clientHeight?t:lF(t.parentElement)}function hY(t,e){const i=t.getBoundingClientRect();let s=i.y||i.top,a=i.bottom||s+i.height;if(e){const o=e.getBoundingClientRect(),h=o.y||o.top,d=o.bottom||h+o.height;s=Math.max(s,h),a=Math.min(a,d)}const l=Math.max(a-s,0);return{y:s,height:l}}function uY(t,e,i){let{element:s,openingProperties:a}=e;lk();let l=!1,o,h;m();const d=()=>s;function m(){i(4,a={width:0,height:0,x:0,y:0,r:0})}function f(){i(1,l=!1),R()}function b(y=0,S=0,C,M){if(M){const{y:I,height:U}=hY(M,C),{x:z,width:g,left:x}=M.getBoundingClientRect();i(4,a={width:g+y*2,height:U+y*2,x:(z||x)-y,y:I-y,r:S})}else m()}function k(y){R(),y.tour.options.useModalOverlay?(u(y),w()):f()}function w(){i(1,l=!0)}const E=y=>{y.preventDefault()},P=y=>{y.stopPropagation()};function L(){window.addEventListener("touchmove",E,{passive:!1})}function R(){o&&(cancelAnimationFrame(o),o=void 0),window.removeEventListener("touchmove",E,{passive:!1})}function u(y){const{modalOverlayOpeningPadding:S,modalOverlayOpeningRadius:C}=y.options,M=lF(y.target),I=()=>{o=void 0,b(S,C,M,y.target),o=requestAnimationFrame(I)};I(),L()}function T(y){Du[y?"unshift":"push"](()=>{s=y,i(0,s)})}return t.$$set=y=>{"element"in y&&i(0,s=y.element),"openingProperties"in y&&i(4,a=y.openingProperties)},t.$$.update=()=>{t.$$.dirty&16&&i(2,h=lY(a))},[s,l,h,P,a,d,m,f,b,k,w,T]}class dY extends yl{constructor(e){super(),gl(this,e,uY,cY,ml,{element:0,openingProperties:4,getElement:5,closeModalOpening:6,hide:7,positionModal:8,setupForStep:9,show:10})}get getElement(){return this.$$.ctx[5]}get closeModalOpening(){return this.$$.ctx[6]}get hide(){return this.$$.ctx[7]}get positionModal(){return this.$$.ctx[8]}get setupForStep(){return this.$$.ctx[9]}get show(){return this.$$.ctx[10]}}const Zc=new ok;class fY extends ok{constructor(e={}){super(e),$R(this);const i={exitOnEsc:!0,keyboardNavigation:!0};return this.options=Object.assign({},i,e),this.classPrefix=VR(this.options.classPrefix),this.steps=[],this.addSteps(this.options.steps),["active","cancel","complete","inactive","show","start"].map(a=>{(l=>{this.on(l,o=>{o=o||{},o.tour=this,Zc.trigger(l,o)})})(a)}),this._setTourID(),this}addStep(e,i){let s=e;return s instanceof O1?s.tour=this:s=new O1(this,s),Js(i)?this.steps.push(s):this.steps.splice(i,0,s),s}addSteps(e){return Array.isArray(e)&&e.forEach(i=>{this.addStep(i)}),this}back(){const e=this.steps.indexOf(this.currentStep);this.show(e-1,!1)}async cancel(){if(this.options.confirmCancel){const e=typeof this.options.confirmCancel=="function",i=this.options.confirmCancelMessage||"Are you sure you want to stop the tour?";(e?await this.options.confirmCancel():window.confirm(i))&&this._done("cancel")}else this._done("cancel")}complete(){this._done("complete")}getById(e){return this.steps.find(i=>i.id===e)}getCurrentStep(){return this.currentStep}hide(){const e=this.getCurrentStep();if(e)return e.hide()}isActive(){return Zc.activeTour===this}next(){const e=this.steps.indexOf(this.currentStep);e===this.steps.length-1?this.complete():this.show(e+1,!0)}removeStep(e){const i=this.getCurrentStep();this.steps.some((s,a)=>{if(s.id===e)return s.isOpen()&&s.hide(),s.destroy(),this.steps.splice(a,1),!0}),i&&i.id===e&&(this.currentStep=void 0,this.steps.length?this.show(0):this.cancel())}show(e=0,i=!0){const s=vp(e)?this.getById(e):this.steps[e];s&&(this._updateStateBeforeShow(),uh(s.options.showOn)&&!s.options.showOn()?this._skipStep(s,i):(this.trigger("show",{step:s,previous:this.currentStep}),this.currentStep=s,s.show()))}start(){this.trigger("start"),this.focusedElBeforeOpen=document.activeElement,this.currentStep=null,this._setupModal(),this._setupActiveTour(),this.next()}_done(e){const i=this.steps.indexOf(this.currentStep);if(Array.isArray(this.steps)&&this.steps.forEach(s=>s.destroy()),oY(this),this.trigger(e,{index:i}),Zc.activeTour=null,this.trigger("inactive",{tour:this}),this.modal&&this.modal.hide(),(e==="cancel"||e==="complete")&&this.modal){const s=document.querySelector(".shepherd-modal-overlay-container");s&&s.remove()}nk(this.focusedElBeforeOpen)&&this.focusedElBeforeOpen.focus()}_setupActiveTour(){this.trigger("active",{tour:this}),Zc.activeTour=this}_setupModal(){this.modal=new dY({target:this.options.modalContainer||document.body,props:{classPrefix:this.classPrefix,styles:this.styles}})}_skipStep(e,i){const s=this.steps.indexOf(e);if(s===this.steps.length-1)this.complete();else{const a=i?s+1:s-1;this.show(a,i)}}_updateStateBeforeShow(){this.currentStep&&this.currentStep.hide(),this.isActive()||this._setupActiveTour()}_setTourID(){const e=this.options.tourName||"tour";this.id=`${e}--${lk()}`}}const pY=typeof window>"u";class NM{constructor(){}}pY?Object.assign(Zc,{Tour:NM,Step:NM}):Object.assign(Zc,{Tour:fY,Step:O1});var cF={exports:{}},z_={exports:{}},zM;function mY(){return zM||(zM=1,function(t){(function(e,i){t.exports?t.exports=i(Ku()):(e.Isotope=e.Isotope||{},e.Isotope.Item=i(e.Outlayer))})(window,function(i){function s(){i.Item.apply(this,arguments)}var a=s.prototype=Object.create(i.Item.prototype),l=a._create;a._create=function(){this.id=this.layout.itemGUID++,l.call(this),this.sortData={}},a.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var h=this.layout.options.getSortData,d=this.layout._sorters;for(var m in h){var f=d[m];this.sortData[m]=f(this.element,this)}}};var o=a.destroy;return a.destroy=function(){o.apply(this,arguments),this.css({display:""})},s})}(z_)),z_.exports}var U_={exports:{}},UM;function Sv(){return UM||(UM=1,function(t){(function(e,i){t.exports?t.exports=i(Xu(),Ku()):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=i(e.getSize,e.Outlayer))})(window,function(i,s){function a(h){this.isotope=h,h&&(this.options=h.options[this.namespace],this.element=h.element,this.items=h.filteredItems,this.size=h.size)}var l=a.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(h){l[h]=function(){return s.prototype[h].apply(this.isotope,arguments)}}),l.needsVerticalResizeLayout=function(){var h=i(this.isotope.element),d=this.isotope.size&&h;return d&&h.innerHeight!=this.isotope.size.innerHeight},l._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},l.getColumnWidth=function(){this.getSegmentSize("column","Width")},l.getRowHeight=function(){this.getSegmentSize("row","Height")},l.getSegmentSize=function(h,d){var m=h+d,f="outer"+d;if(this._getMeasurement(m,f),!this[m]){var b=this.getFirstItemSize();this[m]=b&&b[f]||this.isotope.size["inner"+d]}},l.getFirstItemSize=function(){var h=this.isotope.filteredItems[0];return h&&h.element&&i(h.element)},l.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},l.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},a.modes={},a.create=function(h,d){function m(){a.apply(this,arguments)}return m.prototype=Object.create(l),m.prototype.constructor=m,d&&(m.options=d),m.prototype.namespace=h,a.modes[h]=m,m},a})}(U_)),U_.exports}var H_={exports:{}},W_={exports:{}};/*!
 * Masonry v4.2.2
 * Cascading grid layout library
 * https://masonry.desandro.com
 * MIT License
 * by David DeSandro
 */var HM;function gY(){return HM||(HM=1,function(t){(function(e,i){t.exports?t.exports=i(Ku(),Xu()):e.Masonry=i(e.Outlayer,e.getSize)})(window,function(i,s){var a=i.create("masonry");a.compatOptions.fitWidth="isFitWidth";var l=a.prototype;return l._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var o=0;o<this.cols;o++)this.colYs.push(0);this.maxY=0,this.horizontalColIndex=0},l.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var o=this.items[0],h=o&&o.element;this.columnWidth=h&&s(h).outerWidth||this.containerWidth}var d=this.columnWidth+=this.gutter,m=this.containerWidth+this.gutter,f=m/d,b=d-m%d,k=b&&b<1?"round":"floor";f=Math[k](f),this.cols=Math.max(f,1)},l.getContainerWidth=function(){var o=this._getOption("fitWidth"),h=o?this.element.parentNode:this.element,d=s(h);this.containerWidth=d&&d.innerWidth},l._getItemLayoutPosition=function(o){o.getSize();var h=o.size.outerWidth%this.columnWidth,d=h&&h<1?"round":"ceil",m=Math[d](o.size.outerWidth/this.columnWidth);m=Math.min(m,this.cols);for(var f=this.options.horizontalOrder?"_getHorizontalColPosition":"_getTopColPosition",b=this[f](m,o),k={x:this.columnWidth*b.col,y:b.y},w=b.y+o.size.outerHeight,E=m+b.col,P=b.col;P<E;P++)this.colYs[P]=w;return k},l._getTopColPosition=function(o){var h=this._getTopColGroup(o),d=Math.min.apply(Math,h);return{col:h.indexOf(d),y:d}},l._getTopColGroup=function(o){if(o<2)return this.colYs;for(var h=[],d=this.cols+1-o,m=0;m<d;m++)h[m]=this._getColGroupY(m,o);return h},l._getColGroupY=function(o,h){if(h<2)return this.colYs[o];var d=this.colYs.slice(o,o+h);return Math.max.apply(Math,d)},l._getHorizontalColPosition=function(o,h){var d=this.horizontalColIndex%this.cols,m=o>1&&d+o>this.cols;d=m?0:d;var f=h.size.outerWidth&&h.size.outerHeight;return this.horizontalColIndex=f?d+o:this.horizontalColIndex,{col:d,y:this._getColGroupY(d,o)}},l._manageStamp=function(o){var h=s(o),d=this._getElementOffset(o),m=this._getOption("originLeft"),f=m?d.left:d.right,b=f+h.outerWidth,k=Math.floor(f/this.columnWidth);k=Math.max(0,k);var w=Math.floor(b/this.columnWidth);w-=b%this.columnWidth?0:1,w=Math.min(this.cols-1,w);for(var E=this._getOption("originTop"),P=(E?d.top:d.bottom)+h.outerHeight,L=k;L<=w;L++)this.colYs[L]=Math.max(P,this.colYs[L])},l._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var o={height:this.maxY};return this._getOption("fitWidth")&&(o.width=this._getContainerFitWidth()),o},l._getContainerFitWidth=function(){for(var o=0,h=this.cols;--h&&this.colYs[h]===0;)o++;return(this.cols-o)*this.columnWidth-this.gutter},l.needsResizeLayout=function(){var o=this.containerWidth;return this.getContainerWidth(),o!=this.containerWidth},a})}(W_)),W_.exports}/*!
 * Masonry layout mode
 * sub-classes Masonry
 * https://masonry.desandro.com
 */var WM;function yY(){return WM||(WM=1,function(t){(function(e,i){t.exports?t.exports=i(Sv(),gY()):i(e.Isotope.LayoutMode,e.Masonry)})(window,function(i,s){var a=i.create("masonry"),l=a.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var h in s.prototype)o[h]||(l[h]=s.prototype[h]);var d=l.measureColumns;l.measureColumns=function(){this.items=this.isotope.filteredItems,d.call(this)};var m=l._getOption;return l._getOption=function(f){return f=="fitWidth"?this.options.isFitWidth!==void 0?this.options.isFitWidth:this.options.fitWidth:m.apply(this.isotope,arguments)},a})}(H_)),H_.exports}var j_={exports:{}},jM;function vY(){return jM||(jM=1,function(t,e){(function(i,s){t.exports=s(Sv())})(window,function(s){var a=s.create("fitRows"),l=a.prototype;return l._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},l._getItemLayoutPosition=function(o){o.getSize();var h=o.size.outerWidth+this.gutter,d=this.isotope.size.innerWidth+this.gutter;this.x!==0&&h+this.x>d&&(this.x=0,this.y=this.maxY);var m={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+o.size.outerHeight),this.x+=h,m},l._getContainerSize=function(){return{height:this.maxY}},a})}(j_)),j_.exports}var q_={exports:{}},qM;function bY(){return qM||(qM=1,function(t){(function(e,i){t.exports?t.exports=i(Sv()):i(e.Isotope.LayoutMode)})(window,function(i){var s=i.create("vertical",{horizontalAlignment:0}),a=s.prototype;return a._resetLayout=function(){this.y=0},a._getItemLayoutPosition=function(l){l.getSize();var o=(this.isotope.size.innerWidth-l.size.outerWidth)*this.options.horizontalAlignment,h=this.y;return this.y+=l.size.outerHeight,{x:o,y:h}},a._getContainerSize=function(){return{height:this.y}},s})}(q_)),q_.exports}/*!
 * Isotope v3.0.6
 *
 * Licensed GPLv3 for open source use
 * or Isotope Commercial License for commercial use
 *
 * https://isotope.metafizzy.co
 * Copyright 2010-2018 Metafizzy
 */(function(t){(function(e,i){t.exports?t.exports=i(e,Ku(),Xu(),HR(),WR(),mY(),Sv(),yY(),vY(),bY()):e.Isotope=i(e,e.Outlayer,e.getSize,e.matchesSelector,e.fizzyUIUtils,e.Isotope.Item,e.Isotope.LayoutMode)})(window,function(i,s,a,l,o,h,d){var m=i.jQuery,f=String.prototype.trim?function(L){return L.trim()}:function(L){return L.replace(/^\s+|\s+$/g,"")},b=s.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});b.Item=h,b.LayoutMode=d;var k=b.prototype;k._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),s.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var L in d.modes)this._initLayoutMode(L)},k.reloadItems=function(){this.itemGUID=0,s.prototype.reloadItems.call(this)},k._itemize=function(){for(var L=s.prototype._itemize.apply(this,arguments),R=0;R<L.length;R++){var u=L[R];u.id=this.itemGUID++}return this._updateItemsSortData(L),L},k._initLayoutMode=function(L){var R=d.modes[L],u=this.options[L]||{};this.options[L]=R.options?o.extend(R.options,u):u,this.modes[L]=new R(this)},k.layout=function(){if(!this._isLayoutInited&&this._getOption("initLayout")){this.arrange();return}this._layout()},k._layout=function(){var L=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,L),this._isLayoutInited=!0},k.arrange=function(L){this.option(L),this._getIsInstant();var R=this._filter(this.items);this.filteredItems=R.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[R]):this._hideReveal(R),this._sort(),this._layout()},k._init=k.arrange,k._hideReveal=function(L){this.reveal(L.needReveal),this.hide(L.needHide)},k._getIsInstant=function(){var L=this._getOption("layoutInstant"),R=L!==void 0?L:!this._isLayoutInited;return this._isInstant=R,R},k._bindArrangeComplete=function(){var L,R,u,T=this;function y(){L&&R&&u&&T.dispatchEvent("arrangeComplete",null,[T.filteredItems])}this.once("layoutComplete",function(){L=!0,y()}),this.once("hideComplete",function(){R=!0,y()}),this.once("revealComplete",function(){u=!0,y()})},k._filter=function(L){var R=this.options.filter;R=R||"*";for(var u=[],T=[],y=[],S=this._getFilterTest(R),C=0;C<L.length;C++){var M=L[C];if(!M.isIgnored){var I=S(M);I&&u.push(M),I&&M.isHidden?T.push(M):!I&&!M.isHidden&&y.push(M)}}return{matches:u,needReveal:T,needHide:y}},k._getFilterTest=function(L){return m&&this.options.isJQueryFiltering?function(R){return m(R.element).is(L)}:typeof L=="function"?function(R){return L(R.element)}:function(R){return l(R.element,L)}},k.updateSortData=function(L){var R;L?(L=o.makeArray(L),R=this.getItems(L)):R=this.items,this._getSorters(),this._updateItemsSortData(R)},k._getSorters=function(){var L=this.options.getSortData;for(var R in L){var u=L[R];this._sorters[R]=w(u)}},k._updateItemsSortData=function(L){for(var R=L&&L.length,u=0;R&&u<R;u++){var T=L[u];T.updateSortData()}};var w=function(){function L(u){if(typeof u!="string")return u;var T=f(u).split(" "),y=T[0],S=y.match(/^\[(.+)\]$/),C=S&&S[1],M=R(C,y),I=b.sortDataParsers[T[1]];return u=I?function(U){return U&&I(M(U))}:function(U){return U&&M(U)},u}function R(u,T){return u?function(S){return S.getAttribute(u)}:function(S){var C=S.querySelector(T);return C&&C.textContent}}return L}();b.sortDataParsers={parseInt:function(L){return parseInt(L,10)},parseFloat:function(L){return parseFloat(L)}},k._sort=function(){if(this.options.sortBy){var L=o.makeArray(this.options.sortBy);this._getIsSameSortBy(L)||(this.sortHistory=L.concat(this.sortHistory));var R=E(this.sortHistory,this.options.sortAscending);this.filteredItems.sort(R)}},k._getIsSameSortBy=function(L){for(var R=0;R<L.length;R++)if(L[R]!=this.sortHistory[R])return!1;return!0};function E(L,R){return function(T,y){for(var S=0;S<L.length;S++){var C=L[S],M=T.sortData[C],I=y.sortData[C];if(M>I||M<I){var U=R[C]!==void 0?R[C]:R,z=U?1:-1;return(M>I?1:-1)*z}}return 0}}k._mode=function(){var L=this.options.layoutMode,R=this.modes[L];if(!R)throw new Error("No layout mode: "+L);return R.options=this.options[L],R},k._resetLayout=function(){s.prototype._resetLayout.call(this),this._mode()._resetLayout()},k._getItemLayoutPosition=function(L){return this._mode()._getItemLayoutPosition(L)},k._manageStamp=function(L){this._mode()._manageStamp(L)},k._getContainerSize=function(){return this._mode()._getContainerSize()},k.needsResizeLayout=function(){return this._mode().needsResizeLayout()},k.appended=function(L){var R=this.addItems(L);if(R.length){var u=this._filterRevealAdded(R);this.filteredItems=this.filteredItems.concat(u)}},k.prepended=function(L){var R=this._itemize(L);if(R.length){this._resetLayout(),this._manageStamps();var u=this._filterRevealAdded(R);this.layoutItems(this.filteredItems),this.filteredItems=u.concat(this.filteredItems),this.items=R.concat(this.items)}},k._filterRevealAdded=function(L){var R=this._filter(L);return this.hide(R.needHide),this.reveal(R.matches),this.layoutItems(R.matches,!0),R.matches},k.insert=function(L){var R=this.addItems(L);if(R.length){var u,T,y=R.length;for(u=0;u<y;u++)T=R[u],this.element.appendChild(T.element);var S=this._filter(R).matches;for(u=0;u<y;u++)R[u].isLayoutInstant=!0;for(this.arrange(),u=0;u<y;u++)delete R[u].isLayoutInstant;this.reveal(S)}};var P=k.remove;return k.remove=function(L){L=o.makeArray(L);var R=this.getItems(L);P.call(this,L);for(var u=R&&R.length,T=0;u&&T<u;T++){var y=R[T];o.removeFrom(this.filteredItems,y)}},k.shuffle=function(){for(var L=0;L<this.items.length;L++){var R=this.items[L];R.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},k._noTransition=function(L,R){var u=this.options.transitionDuration;this.options.transitionDuration=0;var T=L.apply(this,R);return this.options.transitionDuration=u,T},k.getFilteredItemElements=function(){return this.filteredItems.map(function(L){return L.element})},b})})(cF);var wY=cF.exports;const _Y=Fp(wY);var xY={exports:{}};/*! For license information please see gridstack-all.js.LICENSE.txt */(function(t,e){(function(i,s){t.exports=s()})(self,()=>(()=>{var i={d:(z,g)=>{for(var x in g)i.o(g,x)&&!i.o(z,x)&&Object.defineProperty(z,x,{enumerable:!0,get:g[x]})},o:(z,g)=>Object.prototype.hasOwnProperty.call(z,g)},s={};i.d(s,{GridStack:()=>U});class a{static getElements(g,x=document){if(typeof g=="string"){const A="getElementById"in x?x:void 0;if(A&&!isNaN(+g[0])){const B=A.getElementById(g);return B?[B]:[]}let F=x.querySelectorAll(g);return F.length||g[0]==="."||g[0]==="#"||(F=x.querySelectorAll("."+g),F.length||(F=x.querySelectorAll("#"+g))),Array.from(F)}return[g]}static getElement(g,x=document){if(typeof g=="string"){const A="getElementById"in x?x:void 0;if(!g.length)return null;if(A&&g[0]==="#")return A.getElementById(g.substring(1));if(g[0]==="#"||g[0]==="."||g[0]==="[")return x.querySelector(g);if(A&&!isNaN(+g[0]))return A.getElementById(g);let F=x.querySelector(g);return A&&!F&&(F=A.getElementById(g)),F||(F=x.querySelector("."+g)),F}return g}static lazyLoad(g){var x,A;return g.lazyLoad||((A=(x=g.grid)==null?void 0:x.opts)==null?void 0:A.lazyLoad)&&g.lazyLoad!==!1}static createDiv(g,x){const A=document.createElement("div");return g.forEach(F=>{F&&A.classList.add(F)}),x==null||x.appendChild(A),A}static shouldSizeToContent(g,x=!1){return(g==null?void 0:g.grid)&&(x?g.sizeToContent===!0||g.grid.opts.sizeToContent===!0&&g.sizeToContent===void 0:!!g.sizeToContent||g.grid.opts.sizeToContent&&g.sizeToContent!==!1)}static isIntercepted(g,x){return!(g.y>=x.y+x.h||g.y+g.h<=x.y||g.x+g.w<=x.x||g.x>=x.x+x.w)}static isTouching(g,x){return a.isIntercepted(g,{x:x.x-.5,y:x.y-.5,w:x.w+1,h:x.h+1})}static areaIntercept(g,x){const A=g.x>x.x?g.x:x.x,F=g.x+g.w<x.x+x.w?g.x+g.w:x.x+x.w;if(F<=A)return 0;const B=g.y>x.y?g.y:x.y,j=g.y+g.h<x.y+x.h?g.y+g.h:x.y+x.h;return j<=B?0:(F-A)*(j-B)}static area(g){return g.w*g.h}static sort(g,x=1){return g.sort((F,B)=>{const j=x*((F.y??1e4)-(B.y??1e4));return j===0?x*((F.x??1e4)-(B.x??1e4)):j})}static find(g,x){return x?g.find(A=>A.id===x):void 0}static toBool(g){return typeof g=="boolean"?g:typeof g=="string"?!((g=g.toLowerCase())===""||g==="no"||g==="false"||g==="0"):!!g}static toNumber(g){return g===null||g.length===0?void 0:Number(g)}static parseHeight(g){let x,A="px";if(typeof g=="string")if(g==="auto"||g==="")x=0;else{const F=g.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!F)throw new Error(`Invalid height val = ${g}`);A=F[2]||"px",x=parseFloat(F[1])}else x=g;return{h:x,unit:A}}static defaults(g,...x){return x.forEach(A=>{for(const F in A){if(!A.hasOwnProperty(F))return;g[F]===null||g[F]===void 0?g[F]=A[F]:typeof A[F]=="object"&&typeof g[F]=="object"&&this.defaults(g[F],A[F])}}),g}static same(g,x){if(typeof g!="object")return g==x;if(typeof g!=typeof x||Object.keys(g).length!==Object.keys(x).length)return!1;for(const A in g)if(g[A]!==x[A])return!1;return!0}static copyPos(g,x,A=!1){return x.x!==void 0&&(g.x=x.x),x.y!==void 0&&(g.y=x.y),x.w!==void 0&&(g.w=x.w),x.h!==void 0&&(g.h=x.h),A&&(x.minW&&(g.minW=x.minW),x.minH&&(g.minH=x.minH),x.maxW&&(g.maxW=x.maxW),x.maxH&&(g.maxH=x.maxH)),g}static samePos(g,x){return g&&x&&g.x===x.x&&g.y===x.y&&(g.w||1)===(x.w||1)&&(g.h||1)===(x.h||1)}static sanitizeMinMax(g){g.minW||delete g.minW,g.minH||delete g.minH,g.maxW||delete g.maxW,g.maxH||delete g.maxH}static removeInternalAndSame(g,x){if(typeof g=="object"&&typeof x=="object")for(let A in g){const F=g[A],B=x[A];A[0]==="_"||F===B?delete g[A]:F&&typeof F=="object"&&B!==void 0&&(a.removeInternalAndSame(F,B),Object.keys(F).length||delete g[A])}}static removeInternalForSave(g,x=!0){for(let A in g)A[0]!=="_"&&g[A]!==null&&g[A]!==void 0||delete g[A];delete g.grid,x&&delete g.el,g.autoPosition||delete g.autoPosition,g.noResize||delete g.noResize,g.noMove||delete g.noMove,g.locked||delete g.locked,g.w!==1&&g.w!==g.minW||delete g.w,g.h!==1&&g.h!==g.minH||delete g.h}static throttle(g,x){let A=!1;return(...F)=>{A||(A=!0,setTimeout(()=>{g(...F),A=!1},x))}}static removePositioningStyles(g){const x=g.style;x.position&&x.removeProperty("position"),x.left&&x.removeProperty("left"),x.top&&x.removeProperty("top"),x.width&&x.removeProperty("width"),x.height&&x.removeProperty("height")}static getScrollElement(g){if(!g)return document.scrollingElement||document.documentElement;const x=getComputedStyle(g);return/(auto|scroll)/.test(x.overflow+x.overflowY)?g:this.getScrollElement(g.parentElement)}static updateScrollPosition(g,x,A){const F=g.getBoundingClientRect(),B=window.innerHeight||document.documentElement.clientHeight;if(F.top<0||F.bottom>B){const j=F.bottom-B,$=F.top,G=this.getScrollElement(g);if(G!==null){const he=G.scrollTop;F.top<0&&A<0?g.offsetHeight>B?G.scrollTop+=A:G.scrollTop+=Math.abs($)>Math.abs(A)?A:$:A>0&&(g.offsetHeight>B?G.scrollTop+=A:G.scrollTop+=j>A?A:j),x.top+=G.scrollTop-he}}}static updateScrollResize(g,x,A){const F=this.getScrollElement(x),B=F.clientHeight,j=F===this.getScrollElement()?0:F.getBoundingClientRect().top,$=g.clientY-j,G=$>B-A;$<A?F.scrollBy({behavior:"smooth",top:$-A}):G&&F.scrollBy({behavior:"smooth",top:A-(B-$)})}static clone(g){return g==null||typeof g!="object"?g:g instanceof Array?[...g]:{...g}}static cloneDeep(g){const x=["parentGrid","el","grid","subGrid","engine"],A=a.clone(g);for(const F in A)A.hasOwnProperty(F)&&typeof A[F]=="object"&&F.substring(0,2)!=="__"&&!x.find(B=>B===F)&&(A[F]=a.cloneDeep(g[F]));return A}static cloneNode(g){const x=g.cloneNode(!0);return x.removeAttribute("id"),x}static appendTo(g,x){let A;A=typeof x=="string"?a.getElement(x):x,A&&A.appendChild(g)}static addElStyles(g,x){if(x instanceof Object)for(const A in x)x.hasOwnProperty(A)&&(Array.isArray(x[A])?x[A].forEach(F=>{g.style[A]=F}):g.style[A]=x[A])}static initEvent(g,x){const A={type:x.type},F={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:x.target?x.target:g.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach(B=>A[B]=g[B]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(B=>A[B]=g[B]),{...A,...F}}static simulateMouseEvent(g,x,A){const F=g,B=new MouseEvent(x,{bubbles:!0,composed:!0,cancelable:!0,view:window,detail:1,screenX:g.screenX,screenY:g.screenY,clientX:g.clientX,clientY:g.clientY,ctrlKey:F.ctrlKey??!1,altKey:F.altKey??!1,shiftKey:F.shiftKey??!1,metaKey:F.metaKey??!1,button:0,relatedTarget:g.target});(A||g.target).dispatchEvent(B)}static getValuesFromTransformedElement(g){const x=document.createElement("div");a.addElStyles(x,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),g.appendChild(x);const A=x.getBoundingClientRect();return g.removeChild(x),x.remove(),{xScale:1/A.width,yScale:1/A.height,xOffset:A.left,yOffset:A.top}}static swap(g,x,A){if(!g)return;const F=g[x];g[x]=g[A],g[A]=F}static canBeRotated(g){var x;return!(!g||g.w===g.h||g.locked||g.noResize||(x=g.grid)!=null&&x.opts.disableResize||g.minW&&g.minW===g.maxW||g.minH&&g.minH===g.maxH)}}class l{constructor(g={}){this.addedNodes=[],this.removedNodes=[],this.defaultColumn=12,this.column=g.column||this.defaultColumn,this.column>this.defaultColumn&&(this.defaultColumn=this.column),this.maxRow=g.maxRow,this._float=g.float,this.nodes=g.nodes||[],this.onChange=g.onChange}batchUpdate(g=!0,x=!0){return!!this.batchMode===g||(this.batchMode=g,g?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,x&&this._packNodes(),this._notify())),this}_useEntireRowArea(g,x){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!g._moving||g._skipDown||x.y<=g.y)}_fixCollisions(g,x=g,A,F={}){if(this.sortNodes(-1),!(A=A||this.collide(g,x)))return!1;if(g._moving&&!F.nested&&!this.float&&this.swap(g,A))return!0;let B=x;!this._loading&&this._useEntireRowArea(g,x)&&(B={x:0,w:this.column,y:x.y,h:x.h},A=this.collide(g,B,F.skip));let j=!1;const $={nested:!0,pack:!1};let G=0;for(;A=A||this.collide(g,B,F.skip);){if(G++>2*this.nodes.length)throw new Error("Infinite collide check");let he;if(A.locked||this._loading||g._moving&&!g._skipDown&&x.y>g.y&&!this.float&&(!this.collide(A,{...A,y:g.y},g)||!this.collide(A,{...A,y:x.y-A.h},g))){g._skipDown=g._skipDown||x.y>g.y;const Q={...x,y:A.y+A.h,...$};he=!(!this._loading||!a.samePos(g,Q))||this.moveNode(g,Q),(A.locked||this._loading)&&he?a.copyPos(x,g):!A.locked&&he&&F.pack&&(this._packNodes(),x.y=A.y+A.h,a.copyPos(g,x)),j=j||he}else he=this.moveNode(A,{...A,y:x.y+x.h,skip:g,...$});if(!he)return j;A=void 0}return j}collide(g,x=g,A){const F=g._id,B=A==null?void 0:A._id;return this.nodes.find(j=>j._id!==F&&j._id!==B&&a.isIntercepted(j,x))}collideAll(g,x=g,A){const F=g._id,B=A==null?void 0:A._id;return this.nodes.filter(j=>j._id!==F&&j._id!==B&&a.isIntercepted(j,x))}directionCollideCoverage(g,x,A){if(!x.rect||!g._rect)return;const F=g._rect,B={...x.rect};let j;B.y>F.y?(B.h+=B.y-F.y,B.y=F.y):B.h+=F.y-B.y,B.x>F.x?(B.w+=B.x-F.x,B.x=F.x):B.w+=F.x-B.x;let $=.5;for(let G of A){if(G.locked||!G._rect)break;const he=G._rect;let Q=Number.MAX_VALUE,Z=Number.MAX_VALUE;F.y<he.y?Q=(B.y+B.h-he.y)/he.h:F.y+F.h>he.y+he.h&&(Q=(he.y+he.h-B.y)/he.h),F.x<he.x?Z=(B.x+B.w-he.x)/he.w:F.x+F.w>he.x+he.w&&(Z=(he.x+he.w-B.x)/he.w);const ve=Math.min(Z,Q);ve>$&&($=ve,j=G)}return x.collide=j,j}cacheRects(g,x,A,F,B,j){return this.nodes.forEach($=>$._rect={y:$.y*x+A,x:$.x*g+j,w:$.w*g-j-F,h:$.h*x-A-B}),this}swap(g,x){if(!x||x.locked||!g||g.locked)return!1;function A(){const B=x.x,j=x.y;return x.x=g.x,x.y=g.y,g.h!=x.h?(g.x=B,g.y=x.y+x.h):g.w!=x.w?(g.x=x.x+x.w,g.y=j):(g.x=B,g.y=j),g._dirty=x._dirty=!0,!0}let F;if(g.w===x.w&&g.h===x.h&&(g.x===x.x||g.y===x.y)&&(F=a.isTouching(g,x)))return A();if(F!==!1){if(g.w===x.w&&g.x===x.x&&(F||(F=a.isTouching(g,x)))){if(x.y<g.y){const B=g;g=x,x=B}return A()}if(F!==!1){if(g.h===x.h&&g.y===x.y&&(F||(F=a.isTouching(g,x)))){if(x.x<g.x){const B=g;g=x,x=B}return A()}return!1}}}isAreaEmpty(g,x,A,F){const B={x:g||0,y:x||0,w:A||1,h:F||1};return!this.collide(B)}compact(g="compact",x=!0){if(this.nodes.length===0)return this;x&&this.sortNodes();const A=this.batchMode;A||this.batchUpdate();const F=this._inColumnResize;F||(this._inColumnResize=!0);const B=this.nodes;return this.nodes=[],B.forEach((j,$,G)=>{let he;j.locked||(j.autoPosition=!0,g==="list"&&$&&(he=G[$-1])),this.addNode(j,!1,he)}),F||delete this._inColumnResize,A||this.batchUpdate(!1),this}set float(g){this._float!==g&&(this._float=g||!1,g||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(g=1){return this.nodes=a.sort(this.nodes,g),this}_packNodes(){return this.batchMode||(this.sortNodes(),this.float?this.nodes.forEach(g=>{if(g._updating||g._orig===void 0||g.y===g._orig.y)return;let x=g.y;for(;x>g._orig.y;)--x,this.collide(g,{x:g.x,y:x,w:g.w,h:g.h})||(g._dirty=!0,g.y=x)}):this.nodes.forEach((g,x)=>{if(!g.locked)for(;g.y>0;){const A=x===0?0:g.y-1;if(x!==0&&this.collide(g,{x:g.x,y:A,w:g.w,h:g.h}))break;g._dirty=g.y!==A,g.y=A}})),this}prepareNode(g,x){g._id=g._id??l._idSeq++;const A=g.id;if(A){let B=1;for(;this.nodes.find(j=>j.id===g.id&&j!==g);)g.id=A+"_"+B++}g.x!==void 0&&g.y!==void 0&&g.x!==null&&g.y!==null||(g.autoPosition=!0);const F={x:0,y:0,w:1,h:1};return a.defaults(g,F),g.autoPosition||delete g.autoPosition,g.noResize||delete g.noResize,g.noMove||delete g.noMove,a.sanitizeMinMax(g),typeof g.x=="string"&&(g.x=Number(g.x)),typeof g.y=="string"&&(g.y=Number(g.y)),typeof g.w=="string"&&(g.w=Number(g.w)),typeof g.h=="string"&&(g.h=Number(g.h)),isNaN(g.x)&&(g.x=F.x,g.autoPosition=!0),isNaN(g.y)&&(g.y=F.y,g.autoPosition=!0),isNaN(g.w)&&(g.w=F.w),isNaN(g.h)&&(g.h=F.h),this.nodeBoundFix(g,x),g}nodeBoundFix(g,x){const A=g._orig||a.copyPos({},g);if(g.maxW&&(g.w=Math.min(g.w||1,g.maxW)),g.maxH&&(g.h=Math.min(g.h||1,g.maxH)),g.minW&&(g.w=Math.max(g.w||1,g.minW)),g.minH&&(g.h=Math.max(g.h||1,g.minH)),(g.x||0)+(g.w||1)>this.column&&this.column<this.defaultColumn&&!this._inColumnResize&&!this.skipCacheUpdate&&g._id&&this.findCacheLayout(g,this.defaultColumn)===-1){const F={...g};F.autoPosition||F.x===void 0?(delete F.x,delete F.y):F.x=Math.min(this.defaultColumn-1,F.x),F.w=Math.min(this.defaultColumn,F.w||1),this.cacheOneLayout(F,this.defaultColumn)}return g.w>this.column?g.w=this.column:g.w<1&&(g.w=1),this.maxRow&&g.h>this.maxRow?g.h=this.maxRow:g.h<1&&(g.h=1),g.x<0&&(g.x=0),g.y<0&&(g.y=0),g.x+g.w>this.column&&(x?g.w=this.column-g.x:g.x=this.column-g.w),this.maxRow&&g.y+g.h>this.maxRow&&(x?g.h=this.maxRow-g.y:g.y=this.maxRow-g.h),a.samePos(g,A)||(g._dirty=!0),this}getDirtyNodes(g){return g?this.nodes.filter(x=>x._dirty&&!a.samePos(x,x._orig)):this.nodes.filter(x=>x._dirty)}_notify(g){if(this.batchMode||!this.onChange)return this;const x=(g||[]).concat(this.getDirtyNodes());return this.onChange(x),this}cleanNodes(){return this.batchMode||this.nodes.forEach(g=>{delete g._dirty,delete g._lastTried}),this}saveInitial(){return this.nodes.forEach(g=>{g._orig=a.copyPos({},g),delete g._dirty}),this._hasLocked=this.nodes.some(g=>g.locked),this}restoreInitial(){return this.nodes.forEach(g=>{g._orig&&!a.samePos(g,g._orig)&&(a.copyPos(g,g._orig),g._dirty=!0)}),this._notify(),this}findEmptyPosition(g,x=this.nodes,A=this.column,F){let B=!1;for(let j=F?F.y*A+(F.x+F.w):0;!B;++j){const $=j%A,G=Math.floor(j/A);if($+g.w>A)continue;const he={x:$,y:G,w:g.w,h:g.h};x.find(Q=>a.isIntercepted(he,Q))||(g.x===$&&g.y===G||(g._dirty=!0),g.x=$,g.y=G,delete g.autoPosition,B=!0)}return B}addNode(g,x=!1,A){const F=this.nodes.find(j=>j._id===g._id);if(F)return F;let B;return this._inColumnResize?this.nodeBoundFix(g):this.prepareNode(g),delete g._temporaryRemoved,delete g._removeDOM,g.autoPosition&&this.findEmptyPosition(g,this.nodes,this.column,A)&&(delete g.autoPosition,B=!0),this.nodes.push(g),x&&this.addedNodes.push(g),B||this._fixCollisions(g),this.batchMode||this._packNodes()._notify(),g}removeNode(g,x=!0,A=!1){return this.nodes.find(F=>F._id===g._id)?(A&&this.removedNodes.push(g),x&&(g._removeDOM=!0),this.nodes=this.nodes.filter(F=>F._id!==g._id),g._isAboutToRemove||this._packNodes(),this._notify([g]),this):this}removeAll(g=!0,x=!0){if(delete this._layouts,!this.nodes.length)return this;g&&this.nodes.forEach(F=>F._removeDOM=!0);const A=this.nodes;return this.removedNodes=x?A:[],this.nodes=[],this._notify(A)}moveNodeCheck(g,x){if(!this.changedPosConstrain(g,x))return!1;if(x.pack=!0,!this.maxRow)return this.moveNode(g,x);let A;const F=new l({column:this.column,float:this.float,nodes:this.nodes.map(j=>j._id===g._id?(A={...j},A):{...j})});if(!A)return!1;const B=F.moveNode(A,x)&&F.getRow()<=Math.max(this.getRow(),this.maxRow);if(!B&&!x.resizing&&x.collide){const j=x.collide.el.gridstackNode;if(this.swap(g,j))return this._notify(),!0}return!!B&&(F.nodes.filter(j=>j._dirty).forEach(j=>{const $=this.nodes.find(G=>G._id===j._id);$&&(a.copyPos($,j),$._dirty=!0)}),this._notify(),!0)}willItFit(g){if(delete g._willFitPos,!this.maxRow)return!0;const x=new l({column:this.column,float:this.float,nodes:this.nodes.map(F=>({...F}))}),A={...g};return this.cleanupNode(A),delete A.el,delete A._id,delete A.content,delete A.grid,x.addNode(A),x.getRow()<=this.maxRow&&(g._willFitPos=a.copyPos({},A),!0)}changedPosConstrain(g,x){return x.w=x.w||g.w,x.h=x.h||g.h,g.x!==x.x||g.y!==x.y||(g.maxW&&(x.w=Math.min(x.w,g.maxW)),g.maxH&&(x.h=Math.min(x.h,g.maxH)),g.minW&&(x.w=Math.max(x.w,g.minW)),g.minH&&(x.h=Math.max(x.h,g.minH)),g.w!==x.w||g.h!==x.h)}moveNode(g,x){var he,Q;if(!g||!x)return!1;let A;x.pack!==void 0||this.batchMode||(A=x.pack=!0),typeof x.x!="number"&&(x.x=g.x),typeof x.y!="number"&&(x.y=g.y),typeof x.w!="number"&&(x.w=g.w),typeof x.h!="number"&&(x.h=g.h);const F=g.w!==x.w||g.h!==x.h,B=a.copyPos({},g,!0);if(a.copyPos(B,x),this.nodeBoundFix(B,F),a.copyPos(x,B),!x.forceCollide&&a.samePos(g,x))return!1;const j=a.copyPos({},g),$=this.collideAll(g,B,x.skip);let G=!0;if($.length){const Z=g._moving&&!x.nested;let ve=Z?this.directionCollideCoverage(g,x,$):$[0];if(Z&&ve&&((Q=(he=g.grid)==null?void 0:he.opts)!=null&&Q.subGridDynamic)&&!g.grid._isTemp){const Ie=a.areaIntercept(x.rect,ve._rect),Ve=a.area(x.rect),Ae=a.area(ve._rect);Ie/(Ve<Ae?Ve:Ae)>.8&&(ve.grid.makeSubGrid(ve.el,void 0,g),ve=void 0)}ve?G=!this._fixCollisions(g,B,ve,x):(G=!1,A&&delete x.pack)}return G&&!a.samePos(g,B)&&(g._dirty=!0,a.copyPos(g,B)),x.pack&&this._packNodes()._notify(),!a.samePos(g,j)}getRow(){return this.nodes.reduce((g,x)=>Math.max(g,x.y+x.h),0)}beginUpdate(g){return g._updating||(g._updating=!0,delete g._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){const g=this.nodes.find(x=>x._updating);return g&&(delete g._updating,delete g._skipDown),this}save(g=!0,x){var j;const A=(j=this._layouts)==null?void 0:j.length,F=A&&this.column!==A-1?this._layouts[A-1]:null,B=[];return this.sortNodes(),this.nodes.forEach($=>{const G=F==null?void 0:F.find(Q=>Q._id===$._id),he={...$,...G||{}};a.removeInternalForSave(he,!g),x&&x($,he),B.push(he)}),B}layoutsNodesChange(g){return!this._layouts||this._inColumnResize||this._layouts.forEach((x,A)=>{if(!x||A===this.column)return this;if(A<this.column)this._layouts[A]=void 0;else{const F=A/this.column;g.forEach(B=>{if(!B._orig)return;const j=x.find($=>$._id===B._id);j&&(j.y>=0&&B.y!==B._orig.y&&(j.y+=B.y-B._orig.y),B.x!==B._orig.x&&(j.x=Math.round(B.x*F)),B.w!==B._orig.w&&(j.w=Math.round(B.w*F)))})}}),this}columnChanged(g,x,A="moveScale"){var $;if(!this.nodes.length||!x||g===x)return this;const F=A==="compact"||A==="list";F&&this.sortNodes(1),x<g&&this.cacheLayout(this.nodes,g),this.batchUpdate();let B=[],j=F?this.nodes:a.sort(this.nodes,-1);if(x>g&&this._layouts){const G=this._layouts[x]||[],he=this._layouts.length-1;!G.length&&g!==he&&(($=this._layouts[he])!=null&&$.length)&&(g=he,this._layouts[he].forEach(Q=>{const Z=j.find(ve=>ve._id===Q._id);Z&&(F||Q.autoPosition||(Z.x=Q.x??Z.x,Z.y=Q.y??Z.y),Z.w=Q.w??Z.w,Q.x!=null&&Q.y!==void 0||(Z.autoPosition=!0))})),G.forEach(Q=>{const Z=j.findIndex(ve=>ve._id===Q._id);if(Z!==-1){const ve=j[Z];if(F)return void(ve.w=Q.w);(Q.autoPosition||isNaN(Q.x)||isNaN(Q.y))&&this.findEmptyPosition(Q,B),Q.autoPosition||(ve.x=Q.x??ve.x,ve.y=Q.y??ve.y,ve.w=Q.w??ve.w,B.push(ve)),j.splice(Z,1)}})}if(F)this.compact(A,!1);else{if(j.length)if(typeof A=="function")A(x,g,B,j);else{const G=F||A==="none"?1:x/g,he=A==="move"||A==="moveScale",Q=A==="scale"||A==="moveScale";j.forEach(Z=>{Z.x=x===1?0:he?Math.round(Z.x*G):Math.min(Z.x,x-1),Z.w=x===1||g===1?1:Q?Math.round(Z.w*G)||1:Math.min(Z.w,x),B.push(Z)}),j=[]}B=a.sort(B,-1),this._inColumnResize=!0,this.nodes=[],B.forEach(G=>{this.addNode(G,!1),delete G._orig})}return this.nodes.forEach(G=>delete G._orig),this.batchUpdate(!1,!F),delete this._inColumnResize,this}cacheLayout(g,x,A=!1){const F=[];return g.forEach((B,j)=>{if(B._id===void 0){const $=B.id?this.nodes.find(G=>G.id===B.id):void 0;B._id=($==null?void 0:$._id)??l._idSeq++}F[j]={x:B.x,y:B.y,w:B.w,_id:B._id}}),this._layouts=A?[]:this._layouts||[],this._layouts[x]=F,this}cacheOneLayout(g,x){g._id=g._id??l._idSeq++;const A={x:g.x,y:g.y,w:g.w,_id:g._id};(g.autoPosition||g.x===void 0)&&(delete A.x,delete A.y,g.autoPosition&&(A.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[x]=this._layouts[x]||[];const F=this.findCacheLayout(g,x);return F===-1?this._layouts[x].push(A):this._layouts[x][F]=A,this}findCacheLayout(g,x){var A,F;return((F=(A=this._layouts)==null?void 0:A[x])==null?void 0:F.findIndex(B=>B._id===g._id))??-1}removeNodeFromLayoutCache(g){if(this._layouts)for(let x=0;x<this._layouts.length;x++){const A=this.findCacheLayout(g,x);A!==-1&&this._layouts[x].splice(A,1)}}cleanupNode(g){for(const x in g)x[0]==="_"&&x!=="_id"&&delete g[x];return this}}l._idSeq=0;const o={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"};class h{}const d=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class m{}function f(z,g){z.touches.length>1||(z.cancelable&&z.preventDefault(),a.simulateMouseEvent(z.changedTouches[0],g))}function b(z,g){z.cancelable&&z.preventDefault(),a.simulateMouseEvent(z,g)}function k(z){m.touchHandled||(m.touchHandled=!0,f(z,"mousedown"))}function w(z){m.touchHandled&&f(z,"mousemove")}function E(z){if(!m.touchHandled)return;m.pointerLeaveTimeout&&(window.clearTimeout(m.pointerLeaveTimeout),delete m.pointerLeaveTimeout);const g=!!h.dragElement;f(z,"mouseup"),g||f(z,"click"),m.touchHandled=!1}function P(z){z.pointerType!=="mouse"&&z.target.releasePointerCapture(z.pointerId)}function L(z){h.dragElement&&z.pointerType!=="mouse"&&b(z,"mouseenter")}function R(z){h.dragElement&&z.pointerType!=="mouse"&&(m.pointerLeaveTimeout=window.setTimeout(()=>{delete m.pointerLeaveTimeout,b(z,"mouseleave")},10))}class u{constructor(g,x,A){this.host=g,this.dir=x,this.option=A,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const g=this.el=document.createElement("div");return g.classList.add("ui-resizable-handle"),g.classList.add(`${u.prefix}${this.dir}`),g.style.zIndex="100",g.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),d&&(this.el.addEventListener("touchstart",k),this.el.addEventListener("pointerdown",P)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),d&&(this.el.removeEventListener("touchstart",k),this.el.removeEventListener("pointerdown",P)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(g){this.mouseDownEvent=g,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),d&&(this.el.addEventListener("touchmove",w),this.el.addEventListener("touchend",E)),g.stopPropagation(),g.preventDefault()}_mouseMove(g){const x=this.mouseDownEvent;this.moving?this._triggerEvent("move",g):Math.abs(g.x-x.x)+Math.abs(g.y-x.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",g),document.addEventListener("keydown",this._keyEvent)),g.stopPropagation()}_mouseUp(g){this.moving&&(this._triggerEvent("stop",g),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),d&&(this.el.removeEventListener("touchmove",w),this.el.removeEventListener("touchend",E)),delete this.moving,delete this.mouseDownEvent,g.stopPropagation(),g.preventDefault()}_keyEvent(g){var x,A;g.key==="Escape"&&((A=(x=this.host.gridstackNode)==null?void 0:x.grid)==null||A.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(g,x){return this.option[g]&&this.option[g](x),this}}u.prefix="ui-resizable-";class T{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(g,x){this._eventRegister[g]=x}off(g){delete this._eventRegister[g]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(g,x){if(!this.disabled&&this._eventRegister&&this._eventRegister[g])return this._eventRegister[g](x)}}class y extends T{constructor(g,x={}){super(),this.el=g,this.option=x,this.rectScale={x:1,y:1},this._ui=()=>{const A=this.el.parentElement.getBoundingClientRect(),F={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},B=this.temporalRect||F;return{position:{left:(B.left-A.left)*this.rectScale.x,top:(B.top-A.top)*this.rectScale.y},size:{width:B.width*this.rectScale.x,height:B.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(g,x){super.on(g,x)}off(g){super.off(g)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(g){const x=g.handles&&g.handles!==this.option.handles,A=g.autoHide&&g.autoHide!==this.option.autoHide;return Object.keys(g).forEach(F=>this.option[F]=g[F]),x&&(this._removeHandlers(),this._setupHandlers()),A&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(g){return g?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),h.overResizeElement===this&&delete h.overResizeElement),this}_mouseOver(g){h.overResizeElement||h.dragElement||(h.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(g){h.overResizeElement===this&&(delete h.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map(g=>g.trim()).map(g=>new u(this.el,g,{start:x=>{this._resizeStart(x)},stop:x=>{this._resizeStop(x)},move:x=>{this._resizing(x,g)}})),this}_resizeStart(g){this.sizeToContent=a.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=a.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=g,this._setupHelper(),this._applyChange();const x=a.initEvent(g,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(x,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",x),this}_resizing(g,x){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(g,x),this._applyChange();const A=a.initEvent(g,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(A,this._ui()),this.triggerEvent("resize",A),this}_resizeStop(g){const x=a.initEvent(g,{type:"resizestop",target:this.el});return this._cleanHelper(),this.option.stop&&this.option.stop(x),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",x),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=y._originStyleProp.map(A=>this.el.style[A]),this.parentOriginStylePosition=this.el.parentElement.style.position;const g=this.el.parentElement,x=a.getValuesFromTransformedElement(g);return this.rectScale={x:x.xScale,y:x.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return y._originStyleProp.forEach((g,x)=>{this.el.style[g]=this.elOriginStyleVal[x]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(g,x){const A=this.startEvent,F={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},B=g.clientX-A.clientX,j=this.sizeToContent?0:g.clientY-A.clientY;let $,G;x.indexOf("e")>-1?F.width+=B:x.indexOf("w")>-1&&(F.width-=B,F.left+=B,$=!0),x.indexOf("s")>-1?F.height+=j:x.indexOf("n")>-1&&(F.height-=j,F.top+=j,G=!0);const he=this._constrainSize(F.width,F.height,$,G);return Math.round(F.width)!==Math.round(he.width)&&(x.indexOf("w")>-1&&(F.left+=F.width-he.width),F.width=he.width),Math.round(F.height)!==Math.round(he.height)&&(x.indexOf("n")>-1&&(F.top+=F.height-he.height),F.height=he.height),F}_constrainSize(g,x,A,F){const B=this.option,j=(A?B.maxWidthMoveLeft:B.maxWidth)||Number.MAX_SAFE_INTEGER,$=B.minWidth/this.rectScale.x||g,G=(F?B.maxHeightMoveUp:B.maxHeight)||Number.MAX_SAFE_INTEGER,he=B.minHeight/this.rectScale.y||x;return{width:Math.min(j,Math.max($,g)),height:Math.min(G,Math.max(he,x))}}_applyChange(){let g={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const x=this.el.parentElement,{left:A,top:F}=x.getBoundingClientRect();g={left:A,top:F,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(x=>{const A=this.temporalRect[x],F=x==="width"||x==="left"?this.rectScale.x:x==="height"||x==="top"?this.rectScale.y:1;this.el.style[x]=(A-g[x])*F+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(g=>g.destroy()),delete this.handlers,this}}y._originStyleProp=["width","height","position","left","top","opacity","zIndex"];class S extends T{constructor(g,x={}){var B;super(),this.el=g,this.option=x,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const A=(B=x==null?void 0:x.handle)==null?void 0:B.substring(1),F=g.gridstackNode;this.dragEls=!A||g.classList.contains(A)?[g]:F!=null&&F.subGrid?[g.querySelector(x.handle)||g]:Array.from(g.querySelectorAll(x.handle)),this.dragEls.length===0&&(this.dragEls=[g]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(g,x){super.on(g,x)}off(g){super.off(g)}enable(){this.disabled!==!1&&(super.enable(),this.dragEls.forEach(g=>{g.addEventListener("mousedown",this._mouseDown),d&&(g.addEventListener("touchstart",k),g.addEventListener("pointerdown",P))}),this.el.classList.remove("ui-draggable-disabled"))}disable(g=!1){this.disabled!==!0&&(super.disable(),this.dragEls.forEach(x=>{x.removeEventListener("mousedown",this._mouseDown),d&&(x.removeEventListener("touchstart",k),x.removeEventListener("pointerdown",P))}),g||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(g){return Object.keys(g).forEach(x=>this.option[x]=g[x]),this}_mouseDown(g){if(!h.mouseHandled)return g.button!==0||!this.dragEls.find(x=>x===g.target)&&g.target.closest('input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle')||this.option.cancel&&g.target.closest(this.option.cancel)||(this.mouseDownEvent=g,delete this.dragging,delete h.dragElement,delete h.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),d&&(g.currentTarget.addEventListener("touchmove",w),g.currentTarget.addEventListener("touchend",E)),g.preventDefault(),document.activeElement&&document.activeElement.blur(),h.mouseHandled=!0),!0}_callDrag(g){if(!this.dragging)return;const x=a.initEvent(g,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(x,this.ui()),this.triggerEvent("drag",x)}_mouseMove(g){var A;const x=this.mouseDownEvent;if(this.lastDrag=g,this.dragging)if(this._dragFollow(g),h.pauseDrag){const F=Number.isInteger(h.pauseDrag)?h.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>this._callDrag(g),F)}else this._callDrag(g);else if(Math.abs(g.x-x.x)+Math.abs(g.y-x.y)>3){this.dragging=!0,h.dragElement=this;const F=(A=this.el.gridstackNode)==null?void 0:A.grid;F?h.dropElement=F.el.ddElement.ddDroppable:delete h.dropElement,this.helper=this._createHelper(),this._setupHelperContainmentStyle(),this.dragTransform=a.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(g,this.el,this.helperContainment),this._setupHelperStyle(g);const B=a.initEvent(g,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(B,this.ui()),this.triggerEvent("dragstart",B),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(g){var x,A;if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),d&&g.currentTarget&&(g.currentTarget.removeEventListener("touchmove",w,!0),g.currentTarget.removeEventListener("touchend",E,!0)),this.dragging){delete this.dragging,(x=this.el.gridstackNode)==null||delete x._origRotate,document.removeEventListener("keydown",this._keyEvent),((A=h.dropElement)==null?void 0:A.el)===this.el.parentElement&&delete h.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper!==this.el&&this.helper.remove(),this._removeHelperStyle();const F=a.initEvent(g,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(F),this.triggerEvent("dragstop",F),h.dropElement&&h.dropElement.drop(g)}delete this.helper,delete this.mouseDownEvent,delete h.dragElement,delete h.dropElement,delete h.mouseHandled,g.preventDefault()}_keyEvent(g){var F,B;const x=this.el.gridstackNode,A=(x==null?void 0:x.grid)||((B=(F=h.dropElement)==null?void 0:F.el)==null?void 0:B.gridstack);if(g.key==="Escape")x&&x._origRotate&&(x._orig=x._origRotate,delete x._origRotate),A==null||A.cancelDrag(),this._mouseUp(this.mouseDownEvent);else if(x&&A&&(g.key==="r"||g.key==="R")){if(!a.canBeRotated(x))return;x._origRotate=x._origRotate||{...x._orig},delete x._moving,A.setAnimation(!1).rotate(x.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),x._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,x.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",a.swap(x._orig,"w","h"),delete x._rect,this._mouseMove(this.lastDrag)}}_createHelper(){let g=this.el;return typeof this.option.helper=="function"?g=this.option.helper(this.el):this.option.helper==="clone"&&(g=a.cloneNode(this.el)),g.parentElement||a.appendTo(g,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),this.dragElementOriginStyle=S.originStyleProp.map(x=>this.el.style[x]),g}_setupHelperStyle(g){this.helper.classList.add("ui-draggable-dragging");const x=this.helper.style;return x.pointerEvents="none",x.width=this.dragOffset.width+"px",x.height=this.dragOffset.height+"px",x.willChange="left, top",x.position="fixed",this._dragFollow(g),x.transition="none",setTimeout(()=>{this.helper&&(x.transition=null)},0),this}_removeHelperStyle(){var x;this.helper.classList.remove("ui-draggable-dragging");const g=(x=this.helper)==null?void 0:x.gridstackNode;if(!(g!=null&&g._isAboutToRemove)&&this.dragElementOriginStyle){const A=this.helper,F=this.dragElementOriginStyle.transition||null;A.style.transition=this.dragElementOriginStyle.transition="none",S.originStyleProp.forEach(B=>A.style[B]=this.dragElementOriginStyle[B]||null),setTimeout(()=>A.style.transition=F,50)}return delete this.dragElementOriginStyle,this}_dragFollow(g){const x=this.helper.style,A=this.dragOffset;x.left=(g.clientX+A.offsetLeft-0)*this.dragTransform.xScale+"px",x.top=(g.clientY+A.offsetTop-0)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(g,x,A){let F=0,B=0;A&&(F=this.dragTransform.xOffset,B=this.dragTransform.yOffset);const j=x.getBoundingClientRect();return{left:j.left,top:j.top,offsetLeft:-g.clientX+j.left-F,offsetTop:-g.clientY+j.top-B,width:j.width*this.dragTransform.xScale,height:j.height*this.dragTransform.yScale}}ui(){const g=this.el.parentElement.getBoundingClientRect(),x=this.helper.getBoundingClientRect();return{position:{top:(x.top-g.top)*this.dragTransform.yScale,left:(x.left-g.left)*this.dragTransform.xScale}}}}S.originStyleProp=["width","height","transform","transform-origin","transition","pointerEvents","position","left","top","minWidth","willChange"];class C extends T{constructor(g,x={}){super(),this.el=g,this.option=x,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(g,x){super.on(g,x)}off(g){super.off(g)}enable(){this.disabled!==!1&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),d&&(this.el.addEventListener("pointerenter",L),this.el.addEventListener("pointerleave",R)))}disable(g=!1){this.disabled!==!0&&(super.disable(),this.el.classList.remove("ui-droppable"),g||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),d&&(this.el.removeEventListener("pointerenter",L),this.el.removeEventListener("pointerleave",R)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(g){return Object.keys(g).forEach(x=>this.option[x]=g[x]),this._setupAccept(),this}_mouseEnter(g){if(!h.dragElement||!this._canDrop(h.dragElement.el))return;g.preventDefault(),g.stopPropagation(),h.dropElement&&h.dropElement!==this&&h.dropElement._mouseLeave(g,!0),h.dropElement=this;const x=a.initEvent(g,{target:this.el,type:"dropover"});this.option.over&&this.option.over(x,this._ui(h.dragElement)),this.triggerEvent("dropover",x),this.el.classList.add("ui-droppable-over")}_mouseLeave(g,x=!1){var F;if(!h.dragElement||h.dropElement!==this)return;g.preventDefault(),g.stopPropagation();const A=a.initEvent(g,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(A,this._ui(h.dragElement)),this.triggerEvent("dropout",A),h.dropElement===this&&(delete h.dropElement,!x)){let B,j=this.el.parentElement;for(;!B&&j;)B=(F=j.ddElement)==null?void 0:F.ddDroppable,j=j.parentElement;B&&B._mouseEnter(g)}}drop(g){g.preventDefault();const x=a.initEvent(g,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(x,this._ui(h.dragElement)),this.triggerEvent("drop",x)}_canDrop(g){return g&&(!this.accept||this.accept(g))}_setupAccept(){return this.option.accept?(typeof this.option.accept=="string"?this.accept=g=>g.classList.contains(this.option.accept)||g.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(g){return{draggable:g.el,...g.ui()}}}class M{static init(g){return g.ddElement||(g.ddElement=new M(g)),g.ddElement}constructor(g){this.el=g}on(g,x){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(g)>-1?this.ddDraggable.on(g,x):this.ddDroppable&&["drop","dropover","dropout"].indexOf(g)>-1?this.ddDroppable.on(g,x):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(g)>-1&&this.ddResizable.on(g,x),this}off(g){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(g)>-1?this.ddDraggable.off(g):this.ddDroppable&&["drop","dropover","dropout"].indexOf(g)>-1?this.ddDroppable.off(g):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(g)>-1&&this.ddResizable.off(g),this}setupDraggable(g){return this.ddDraggable?this.ddDraggable.updateOption(g):this.ddDraggable=new S(this.el,g),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(g){return this.ddResizable?this.ddResizable.updateOption(g):this.ddResizable=new y(this.el,g),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(g){return this.ddDroppable?this.ddDroppable.updateOption(g):this.ddDroppable=new C(this.el,g),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}const I=new class{resizable(z,g,x,A){return this._getDDElements(z,g).forEach(F=>{if(g==="disable"||g==="enable")F.ddResizable&&F.ddResizable[g]();else if(g==="destroy")F.ddResizable&&F.cleanResizable();else if(g==="option")F.setupResizable({[x]:A});else{const B=F.el.gridstackNode.grid;let j=F.el.getAttribute("gs-resize-handles")||B.opts.resizable.handles||"e,s,se";j==="all"&&(j="n,e,s,w,se,sw,ne,nw");const $=!B.opts.alwaysShowResizeHandle;F.setupResizable({...B.opts.resizable,handles:j,autoHide:$,start:g.start,stop:g.stop,resize:g.resize})}}),this}draggable(z,g,x,A){return this._getDDElements(z,g).forEach(F=>{if(g==="disable"||g==="enable")F.ddDraggable&&F.ddDraggable[g]();else if(g==="destroy")F.ddDraggable&&F.cleanDraggable();else if(g==="option")F.setupDraggable({[x]:A});else{const B=F.el.gridstackNode.grid;F.setupDraggable({...B.opts.draggable,start:g.start,stop:g.stop,drag:g.drag})}}),this}dragIn(z,g){return this._getDDElements(z).forEach(x=>x.setupDraggable(g)),this}droppable(z,g,x,A){return typeof g.accept!="function"||g._accept||(g._accept=g.accept,g.accept=F=>g._accept(F)),this._getDDElements(z,g).forEach(F=>{g==="disable"||g==="enable"?F.ddDroppable&&F.ddDroppable[g]():g==="destroy"?F.ddDroppable&&F.cleanDroppable():g==="option"?F.setupDroppable({[x]:A}):F.setupDroppable(g)}),this}isDroppable(z){var g;return!(!((g=z==null?void 0:z.ddElement)!=null&&g.ddDroppable)||z.ddElement.ddDroppable.disabled)}isDraggable(z){var g;return!(!((g=z==null?void 0:z.ddElement)!=null&&g.ddDraggable)||z.ddElement.ddDraggable.disabled)}isResizable(z){var g;return!(!((g=z==null?void 0:z.ddElement)!=null&&g.ddResizable)||z.ddElement.ddResizable.disabled)}on(z,g,x){return this._getDDElements(z).forEach(A=>A.on(g,F=>{x(F,h.dragElement?h.dragElement.el:F.target,h.dragElement?h.dragElement.helper:null)})),this}off(z,g){return this._getDDElements(z).forEach(x=>x.off(g)),this}_getDDElements(z,g){const x=z.gridstack||g!=="destroy"&&g!=="disable",A=a.getElements(z);return A.length?A.map(F=>F.ddElement||(x?M.init(F):null)).filter(F=>F):[]}};class U{static init(g={},x=".grid-stack"){if(typeof document>"u")return null;const A=U.getGridElement(x);return A?(A.gridstack||(A.gridstack=new U(A,a.cloneDeep(g))),A.gridstack):(console.error(typeof x=="string"?'GridStack.initAll() no grid was found with selector "'+x+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(g={},x=".grid-stack"){const A=[];return typeof document>"u"||(U.getGridElements(x).forEach(F=>{F.gridstack||(F.gridstack=new U(F,a.cloneDeep(g))),A.push(F.gridstack)}),A.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+x+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),A}static addGrid(g,x={}){if(!g)return null;let A=g;if(A.gridstack){const F=A.gridstack;return x&&(F.opts={...F.opts,...x}),x.children!==void 0&&F.load(x.children),F}return g.classList.contains("grid-stack")&&!U.addRemoveCB||(A=U.addRemoveCB?U.addRemoveCB(g,x,!0,!0):a.createDiv(["grid-stack",x.class],g)),U.init(x,A)}static registerEngine(g){U.engineClass=g}get placeholder(){if(!this._placeholder){this._placeholder=a.createDiv([this.opts.placeholderClass,o.itemClass,this.opts.itemClass]);const g=a.createDiv(["placeholder-content"],this._placeholder);this.opts.placeholderText&&(g.textContent=this.opts.placeholderText)}return this._placeholder}constructor(g,x={}){var he;this.el=g,this.opts=x,this.animationDelay=310,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},g.gridstack=this,this.opts=x=x||{},g.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),x.row&&(x.minRow=x.maxRow=x.row,delete x.row);const A=a.toNumber(g.getAttribute("gs-row"));x.column==="auto"&&delete x.column,x.alwaysShowResizeHandle!==void 0&&(x._alwaysShowResizeHandle=x.alwaysShowResizeHandle);const F=x.columnOpts;if(F){const Q=F.breakpoints;F.columnWidth||Q!=null&&Q.length?(F.columnMax=F.columnMax||12,(Q==null?void 0:Q.length)>1&&Q.sort((Z,ve)=>(ve.w||0)-(Z.w||0))):delete x.columnOpts}const B={...a.cloneDeep(o),column:a.toNumber(g.getAttribute("gs-column"))||o.column,minRow:A||a.toNumber(g.getAttribute("gs-min-row"))||o.minRow,maxRow:A||a.toNumber(g.getAttribute("gs-max-row"))||o.maxRow,staticGrid:a.toBool(g.getAttribute("gs-static"))||o.staticGrid,sizeToContent:a.toBool(g.getAttribute("gs-size-to-content"))||void 0,draggable:{handle:(x.handleClass?"."+x.handleClass:x.handle?x.handle:"")||o.draggable.handle},removableOptions:{accept:x.itemClass||o.removableOptions.accept,decline:o.removableOptions.decline}};g.getAttribute("gs-animate")&&(B.animate=a.toBool(g.getAttribute("gs-animate"))),x=a.defaults(x,B),this._initMargin(),this.checkDynamicColumn(),this._updateColumnVar(x),x.rtl==="auto"&&(x.rtl=g.style.direction==="rtl"),x.rtl&&this.el.classList.add("grid-stack-rtl");const j=this.el.closest("."+o.itemClass),$=j==null?void 0:j.gridstackNode;if($&&($.subGrid=this,this.parentGridNode=$,this.el.classList.add("grid-stack-nested"),$.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=x.cellHeight==="auto",this._isAutoCellHeight||x.cellHeight==="initial")this.cellHeight(void 0);else{typeof x.cellHeight=="number"&&x.cellHeightUnit&&x.cellHeightUnit!==o.cellHeightUnit&&(x.cellHeight=x.cellHeight+x.cellHeightUnit,delete x.cellHeightUnit);const Q=x.cellHeight;delete x.cellHeight,this.cellHeight(Q)}x.alwaysShowResizeHandle==="mobile"&&(x.alwaysShowResizeHandle=d),this._setStaticClass();const G=x.engineClass||U.engineClass||l;if(this.engine=new G({column:this.getColumn(),float:x.float,maxRow:x.maxRow,onChange:Q=>{Q.forEach(Z=>{const ve=Z.el;ve&&(Z._removeDOM?(ve&&ve.remove(),delete Z._removeDOM):this._writePosAttr(ve,Z))}),this._updateContainerHeight()}}),x.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach(Q=>this._prepareElement(Q)),delete this.engine._loading,this.batchUpdate(!1)),x.children){const Q=x.children;delete x.children,Q.length&&this.load(Q)}this.setAnimation(),x.subGridDynamic&&!h.pauseDrag&&(h.pauseDrag=!0),((he=x.draggable)==null?void 0:he.pause)!==void 0&&(h.pauseDrag=x.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}_updateColumnVar(g=this.opts){this.el.classList.add("gs-"+g.column),typeof g.column=="number"&&this.el.style.setProperty("--gs-column-width",100/g.column+"%")}addWidget(g){if(typeof g=="string")return void console.error("V11: GridStack.addWidget() does not support string anymore. see #2736");if(g.ELEMENT_NODE)return console.error("V11: GridStack.addWidget() does not support HTMLElement anymore. use makeWidget()"),this.makeWidget(g);let x,A=g;if(A.grid=this,x=A!=null&&A.el?A.el:U.addRemoveCB?U.addRemoveCB(this.el,g,!0,!1):this.createWidgetDivs(A),!x)return;if(A=x.gridstackNode,A&&x.parentElement===this.el&&this.engine.nodes.find(B=>B._id===A._id))return x;const F=this._readAttr(x);return a.defaults(g,F),this.engine.prepareNode(g),this.el.appendChild(x),this.makeWidget(x,g),x}createWidgetDivs(g){const x=a.createDiv(["grid-stack-item",this.opts.itemClass]),A=a.createDiv(["grid-stack-item-content"],x);return a.lazyLoad(g)?g.visibleObservable||(g.visibleObservable=new IntersectionObserver(([F])=>{var B,j;F.isIntersecting&&((B=g.visibleObservable)==null||B.disconnect(),delete g.visibleObservable,U.renderCB(A,g),(j=g.grid)==null||j.prepareDragDrop(g.el))}),window.setTimeout(()=>{var F;return(F=g.visibleObservable)==null?void 0:F.observe(x)})):U.renderCB(A,g),x}makeSubGrid(g,x,A,F=!0){var Ie,Ve,Ae;let B,j=g.gridstackNode;if(j||(j=this.makeWidget(g).gridstackNode),(Ie=j.subGrid)==null?void 0:Ie.el)return j.subGrid;let $,G=this;for(;G&&!B;)B=(Ve=G.opts)==null?void 0:Ve.subGridOpts,G=(Ae=G.parentGridNode)==null?void 0:Ae.grid;x=a.cloneDeep({...this.opts,id:void 0,children:void 0,column:"auto",columnOpts:void 0,layout:"list",subGridOpts:void 0,...B||{},...x||j.subGridOpts||{}}),j.subGridOpts=x,x.column==="auto"&&($=!0,x.column=Math.max(j.w||1,(A==null?void 0:A.w)||1),delete x.columnOpts);let he,Q,Z=j.el.querySelector(".grid-stack-item-content");if(F&&(this._removeDD(j.el),Q={...j,x:0,y:0},a.removeInternalForSave(Q),delete Q.subGridOpts,j.content&&(Q.content=j.content,delete j.content),U.addRemoveCB?he=U.addRemoveCB(this.el,Q,!0,!1):(he=a.createDiv(["grid-stack-item"]),he.appendChild(Z),Z=a.createDiv(["grid-stack-item-content"],j.el)),this.prepareDragDrop(j.el)),A){const ze=$?x.column:j.w,et=j.h+A.h,xt=j.el.style;xt.transition="none",this.update(j.el,{w:ze,h:et}),setTimeout(()=>xt.transition=null)}const ve=j.subGrid=U.addGrid(Z,x);return A!=null&&A._moving&&(ve._isTemp=!0),$&&(ve._autoColumn=!0),F&&ve.makeWidget(he,Q),A&&(A._moving?window.setTimeout(()=>a.simulateMouseEvent(A._event,"mouseenter",ve.el),0):ve.makeWidget(j.el,j)),this.resizeToContentCheck(!1,j),ve}removeAsSubGrid(g){var A;const x=(A=this.parentGridNode)==null?void 0:A.grid;x&&(x.batchUpdate(),x.removeWidget(this.parentGridNode.el,!0,!0),this.engine.nodes.forEach(F=>{F.x+=this.parentGridNode.x,F.y+=this.parentGridNode.y,x.makeWidget(F.el,F)}),x.batchUpdate(!1),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,g&&window.setTimeout(()=>a.simulateMouseEvent(g._event,"mouseenter",x.el),0))}save(g=!0,x=!1,A=U.saveCB){const F=this.engine.save(g,A);if(F.forEach(B=>{var j;if(g&&B.el&&!B.subGrid&&!A){const $=B.el.querySelector(".grid-stack-item-content");B.content=$==null?void 0:$.innerHTML,B.content||delete B.content}else if(g||A||delete B.content,(j=B.subGrid)==null?void 0:j.el){const $=B.subGrid.save(g,x,A);B.subGridOpts=x?$:{children:$},delete B.subGrid}delete B.el}),x){const B=a.cloneDeep(this.opts);B.marginBottom===B.marginTop&&B.marginRight===B.marginLeft&&B.marginTop===B.marginRight&&(B.margin=B.marginTop,delete B.marginTop,delete B.marginRight,delete B.marginBottom,delete B.marginLeft),B.rtl===(this.el.style.direction==="rtl")&&(B.rtl="auto"),this._isAutoCellHeight&&(B.cellHeight="auto"),this._autoColumn&&(B.column="auto");const j=B._alwaysShowResizeHandle;return delete B._alwaysShowResizeHandle,j!==void 0?B.alwaysShowResizeHandle=j:delete B.alwaysShowResizeHandle,a.removeInternalAndSame(B,o),B.children=F,B}return F}load(g,x=U.addRemoveCB||!0){var he;g=a.cloneDeep(g);const A=this.getColumn();g.forEach(Q=>{Q.w=Q.w||1,Q.h=Q.h||1}),g=a.sort(g),this.engine.skipCacheUpdate=this._ignoreLayoutsNodeChange=!0;let F=0;g.forEach(Q=>{F=Math.max(F,(Q.x||0)+Q.w)}),F>this.engine.defaultColumn&&(this.engine.defaultColumn=F),F>A&&(this.engine.nodes.length===0&&this.responseLayout?(this.engine.nodes=g,this.engine.columnChanged(F,A,this.responseLayout),g=this.engine.nodes,this.engine.nodes=[],delete this.responseLayout):this.engine.cacheLayout(g,F,!0));const B=U.addRemoveCB;typeof x=="function"&&(U.addRemoveCB=x);const j=[];this.batchUpdate();const $=!this.engine.nodes.length;$&&this.setAnimation(!1),!$&&x&&[...this.engine.nodes].forEach(Q=>{Q.id&&(a.find(g,Q.id)||(U.addRemoveCB&&U.addRemoveCB(this.el,Q,!1,!1),j.push(Q),this.removeWidget(Q.el,!0,!1)))}),this.engine._loading=!0;const G=[];return this.engine.nodes=this.engine.nodes.filter(Q=>!a.find(g,Q.id)||(G.push(Q),!1)),g.forEach(Q=>{var ve;const Z=a.find(G,Q.id);if(Z){if(a.shouldSizeToContent(Z)&&(Q.h=Z.h),this.engine.nodeBoundFix(Q),(Q.autoPosition||Q.x===void 0||Q.y===void 0)&&(Q.w=Q.w||Z.w,Q.h=Q.h||Z.h,this.engine.findEmptyPosition(Q)),this.engine.nodes.push(Z),a.samePos(Z,Q)&&this.engine.nodes.length>1&&(this.moveNode(Z,{...Q,forceCollide:!0}),a.copyPos(Q,Z)),this.update(Z.el,Q),(ve=Q.subGridOpts)==null?void 0:ve.children){const Ie=Z.el.querySelector(".grid-stack");Ie&&Ie.gridstack&&Ie.gridstack.load(Q.subGridOpts.children)}}else x&&this.addWidget(Q)}),delete this.engine._loading,this.engine.removedNodes=j,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this.engine.skipCacheUpdate,B?U.addRemoveCB=B:delete U.addRemoveCB,$&&((he=this.opts)!=null&&he.animate)&&this.setAnimation(this.opts.animate,!0),this}batchUpdate(g=!0){return this.engine.batchUpdate(g),g||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(g=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!g||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;const x=this.el.querySelector("."+this.opts.itemClass);if(x){const F=a.toNumber(x.getAttribute("gs-h"))||1;return Math.round(x.offsetHeight/F)}const A=parseInt(this.el.getAttribute("gs-current-row"));return A?Math.round(this.el.getBoundingClientRect().height/A):this.opts.cellHeight}cellHeight(g){if(g!==void 0&&this._isAutoCellHeight!==(g==="auto")&&(this._isAutoCellHeight=g==="auto",this._updateResizeEvent()),g!=="initial"&&g!=="auto"||(g=void 0),g===void 0){const A=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;g=this.cellWidth()+A}const x=a.parseHeight(g);return this.opts.cellHeightUnit===x.unit&&this.opts.cellHeight===x.h||(this.opts.cellHeightUnit=x.unit,this.opts.cellHeight=x.h,this.el.style.setProperty("--gs-cell-height",`${this.opts.cellHeight}${this.opts.cellHeightUnit}`),this._updateContainerHeight(),this.resizeToContentCheck()),this}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(g=!1){var x;return g&&((x=this.opts.columnOpts)!=null&&x.breakpointForWindow)?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){var B,j;const g=this.opts.columnOpts;if(!g||!g.columnWidth&&!((B=g.breakpoints)!=null&&B.length))return!1;const x=this.getColumn();let A=x;const F=this._widthOrContainer(!0);if(g.columnWidth)A=Math.min(Math.round(F/g.columnWidth)||1,g.columnMax);else{A=g.columnMax;let $=0;for(;$<g.breakpoints.length&&F<=g.breakpoints[$].w;)A=g.breakpoints[$++].c||x}if(A!==x){const $=(j=g.breakpoints)==null?void 0:j.find(G=>G.c===A);return this.column(A,($==null?void 0:$.layout)||g.layout),!0}return!1}compact(g="compact",x=!0){return this.engine.compact(g,x),this._triggerChangeEvent(),this}column(g,x="moveScale"){if(!g||g<1||this.opts.column===g)return this;const A=this.getColumn();return this.opts.column=g,this.engine?(this.engine.column=g,this.el.classList.remove("gs-"+A),this._updateColumnVar(),this.engine.columnChanged(A,g,x),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):(this.responseLayout=x,this)}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(g=>g.matches("."+this.opts.itemClass)&&!g.matches("."+this.opts.placeholderClass))}isIgnoreChangeCB(){return this._ignoreLayoutsNodeChange}destroy(g=!0){var x;if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),g?this.el.parentNode.removeChild(this.el):(this.removeAll(g),this.el.removeAttribute("gs-current-row")),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,delete this.opts,(x=this._placeholder)==null||delete x.gridstackNode,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(g){return this.opts.float!==g&&(this.opts.float=this.engine.float=g,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(g,x=!1){const A=this.el.getBoundingClientRect();let F;F=x?{top:A.top+document.documentElement.scrollTop,left:A.left}:{top:this.el.offsetTop,left:this.el.offsetLeft};const B=g.left-F.left,j=g.top-F.top,$=A.width/this.getColumn(),G=A.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(B/$),y:Math.floor(j/G)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow||0)}isAreaEmpty(g,x,A,F){return this.engine.isAreaEmpty(g,x,A,F)}makeWidget(g,x){const A=U.getElement(g);if(!A||A.gridstackNode)return A;A.parentElement||this.el.appendChild(A),this._prepareElement(A,!0,x);const F=A.gridstackNode;let B;return this._updateContainerHeight(),F.subGridOpts&&this.makeSubGrid(A,F.subGridOpts,void 0,!1),this.opts.column!==1||this._ignoreLayoutsNodeChange||(B=this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),B&&delete this._ignoreLayoutsNodeChange,A}on(g,x){if(g.indexOf(" ")!==-1)return g.split(" ").forEach(A=>this.on(A,x)),this;if(g==="change"||g==="added"||g==="removed"||g==="enable"||g==="disable"){const A=g==="enable"||g==="disable";this._gsEventHandler[g]=A?F=>x(F):F=>{F.detail&&x(F,F.detail)},this.el.addEventListener(g,this._gsEventHandler[g])}else g==="drag"||g==="dragstart"||g==="dragstop"||g==="resizestart"||g==="resize"||g==="resizestop"||g==="dropped"||g==="resizecontent"?this._gsEventHandler[g]=x:console.error("GridStack.on("+g+") event not supported");return this}off(g){return g.indexOf(" ")!==-1?(g.split(" ").forEach(x=>this.off(x)),this):(g!=="change"&&g!=="added"&&g!=="removed"&&g!=="enable"&&g!=="disable"||this._gsEventHandler[g]&&this.el.removeEventListener(g,this._gsEventHandler[g]),delete this._gsEventHandler[g],this)}offAll(){return Object.keys(this._gsEventHandler).forEach(g=>this.off(g)),this}removeWidget(g,x=!0,A=!0){return g?(U.getElements(g).forEach(F=>{if(F.parentElement&&F.parentElement!==this.el)return;let B=F.gridstackNode;B||(B=this.engine.nodes.find(j=>F===j.el)),B&&(x&&U.addRemoveCB&&U.addRemoveCB(this.el,B,!1,!1),delete F.gridstackNode,this._removeDD(F),this.engine.removeNode(B,x,A),x&&F.parentElement&&F.remove())}),A&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this):(console.error("Error: GridStack.removeWidget(undefined) called"),this)}removeAll(g=!0,x=!0){return this.engine.nodes.forEach(A=>{g&&U.addRemoveCB&&U.addRemoveCB(this.el,A,!1,!1),delete A.el.gridstackNode,this.opts.staticGrid||this._removeDD(A.el)}),this.engine.removeAll(g,x),x&&this._triggerRemoveEvent(),this}setAnimation(g=this.opts.animate,x){return x?setTimeout(()=>{this.opts&&this.setAnimation(g)}):g?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this.opts.animate=g,this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(g,x=!0,A=!0){return!!this.opts.staticGrid===g||(g?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(F=>{this.prepareDragDrop(F.el),F.subGrid&&A&&F.subGrid.setStatic(g,x,A)}),x&&this._setStaticClass()),this}updateOptions(g){var A;const x=this.opts;return g===x||(g.acceptWidgets!==void 0&&(x.acceptWidgets=g.acceptWidgets,this._setupAcceptWidget()),g.animate!==void 0&&this.setAnimation(g.animate),g.cellHeight&&this.cellHeight(g.cellHeight),g.class!==void 0&&g.class!==x.class&&(x.class&&this.el.classList.remove(x.class),g.class&&this.el.classList.add(g.class)),g.columnOpts?(this.opts.columnOpts=g.columnOpts,this.checkDynamicColumn()):g.columnOpts===null&&this.opts.columnOpts?(delete this.opts.columnOpts,this._updateResizeEvent()):typeof g.column=="number"&&this.column(g.column),g.margin!==void 0&&this.margin(g.margin),g.staticGrid!==void 0&&this.setStatic(g.staticGrid),g.disableDrag===void 0||g.staticGrid||this.enableMove(!g.disableDrag),g.disableResize===void 0||g.staticGrid||this.enableResize(!g.disableResize),g.float!==void 0&&this.float(g.float),g.row!==void 0?x.minRow=x.maxRow=x.row=g.row:(g.minRow!==void 0&&(x.minRow=g.minRow),g.maxRow!==void 0&&(x.maxRow=g.maxRow)),(A=g.children)!=null&&A.length&&this.load(g.children)),this}update(g,x){return U.getElements(g).forEach(A=>{var Q;const F=A==null?void 0:A.gridstackNode;if(!F)return;const B={...a.copyPos({},F),...a.cloneDeep(x)};this.engine.nodeBoundFix(B),delete B.autoPosition;const j=["x","y","w","h"];let $;if(j.some(Z=>B[Z]!==void 0&&B[Z]!==F[Z])&&($={},j.forEach(Z=>{$[Z]=B[Z]!==void 0?B[Z]:F[Z],delete B[Z]})),!$&&(B.minW||B.minH||B.maxW||B.maxH)&&($={}),B.content!==void 0){const Z=A.querySelector(".grid-stack-item-content");Z&&Z.textContent!==B.content&&(F.content=B.content,U.renderCB(Z,B),(Q=F.subGrid)!=null&&Q.el&&(Z.appendChild(F.subGrid.el),F.subGrid._updateContainerHeight())),delete B.content}let G=!1,he=!1;for(const Z in B)Z[0]!=="_"&&F[Z]!==B[Z]&&(F[Z]=B[Z],G=!0,he=he||!this.opts.staticGrid&&(Z==="noResize"||Z==="noMove"||Z==="locked"));if(a.sanitizeMinMax(F),$){const Z=$.w!==void 0&&$.w!==F.w;this.moveNode(F,$),Z&&F.subGrid?F.subGrid.onResize(this.hasAnimationCSS()?F.w:void 0):this.resizeToContentCheck(Z,F),delete F._orig}($||G)&&this._writeAttr(A,F),he&&this.prepareDragDrop(F.el)}),this}moveNode(g,x){const A=g._updating;A||this.engine.cleanNodes().beginUpdate(g),this.engine.moveNode(g,x),this._updateContainerHeight(),A||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(g){var ve,Ie;if(!g||(g.classList.remove("size-to-content-max"),!g.clientHeight))return;const x=g.gridstackNode;if(!x)return;const A=x.grid;if(!A||g.parentElement!==A.el)return;const F=A.getCellHeight(!0);if(!F)return;let B,j=x.h?x.h*F:g.clientHeight;if(x.resizeToContentParent&&(B=g.querySelector(x.resizeToContentParent)),B||(B=g.querySelector(U.resizeToContentParent)),!B)return;const $=g.clientHeight-B.clientHeight,G=x.h?x.h*F-$:B.clientHeight;let he;if(x.subGrid){he=x.subGrid.getRow()*x.subGrid.getCellHeight(!0);const Ve=x.subGrid.el.getBoundingClientRect(),Ae=g.getBoundingClientRect();he+=Ve.top-Ae.top}else{if((Ie=(ve=x.subGridOpts)==null?void 0:ve.children)!=null&&Ie.length)return;{const Ve=B.firstElementChild;if(!Ve)return void console.error(`Error: GridStack.resizeToContent() widget id:${x.id} '${U.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);he=Ve.getBoundingClientRect().height||G}}if(G===he)return;j+=he-G;let Q=Math.ceil(j/F);const Z=Number.isInteger(x.sizeToContent)?x.sizeToContent:0;Z&&Q>Z&&(Q=Z,g.classList.add("size-to-content-max")),x.minH&&Q<x.minH?Q=x.minH:x.maxH&&Q>x.maxH&&(Q=x.maxH),Q!==x.h&&(A._ignoreLayoutsNodeChange=!0,A.moveNode(x,{h:Q}),delete A._ignoreLayoutsNodeChange)}resizeToContentCBCheck(g){U.resizeToContentCB?U.resizeToContentCB(g):this.resizeToContent(g)}rotate(g,x){return U.getElements(g).forEach(A=>{const F=A.gridstackNode;if(!a.canBeRotated(F))return;const B={w:F.h,h:F.w,minH:F.minW,minW:F.minH,maxH:F.maxW,maxW:F.maxH};if(x){const $=x.left>0?Math.floor(x.left/this.cellWidth()):0,G=x.top>0?Math.floor(x.top/this.opts.cellHeight):0;B.x=F.x+$-(F.h-(G+1)),B.y=F.y+G-$}Object.keys(B).forEach($=>{B[$]===void 0&&delete B[$]});const j=F._orig;this.update(A,B),F._orig=j}),this}margin(g){if(!(typeof g=="string"&&g.split(" ").length>1)){const x=a.parseHeight(g);if(this.opts.marginUnit===x.unit&&this.opts.margin===x.h)return}return this.opts.margin=g,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this}getMargin(){return this.opts.margin}willItFit(g){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");const x=arguments;let A=0,F={x:x[A++],y:x[A++],w:x[A++],h:x[A++],autoPosition:x[A++]};return this.willItFit(F)}return this.engine.willItFit(g)}_triggerChangeEvent(){if(this.engine.batchMode)return this;const g=this.engine.getDirtyNodes(!0);return g&&g.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(g),this._triggerEvent("change",g)),this.engine.saveInitial(),this}_triggerAddEvent(){var g;if(this.engine.batchMode)return this;if((g=this.engine.addedNodes)!=null&&g.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(A=>{delete A._dirty});const x=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",x)}return this}_triggerRemoveEvent(){var g;if(this.engine.batchMode)return this;if((g=this.engine.removedNodes)!=null&&g.length){const x=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",x)}return this}_triggerEvent(g,x){const A=x?new CustomEvent(g,{bubbles:!1,detail:x}):new Event(g);let F=this;for(;F.parentGridNode;)F=F.parentGridNode.grid;return F.el.dispatchEvent(A),this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const g=this.parentGridNode;let x=this.getRow()+this._extraDragRow;const A=this.opts.cellHeight,F=this.opts.cellHeightUnit;if(!A)return this;if(!g){const B=a.parseHeight(getComputedStyle(this.el).minHeight);if(B.h>0&&B.unit===F){const j=Math.floor(B.h/A);x<j&&(x=j)}}return this.el.setAttribute("gs-current-row",String(x)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),x&&(this.el.style[g?"minHeight":"height"]=x*A+F),g&&!g.grid.engine.batchMode&&a.shouldSizeToContent(g)&&g.grid.resizeToContentCBCheck(g.el),this}_prepareElement(g,x=!1,A){A=A||this._readAttr(g),g.gridstackNode=A,A.el=g,A.grid=this,A=this.engine.addNode(A,x),this._writeAttr(g,A),g.classList.add(o.itemClass,this.opts.itemClass);const F=a.shouldSizeToContent(A);return F?g.classList.add("size-to-content"):g.classList.remove("size-to-content"),F&&this.resizeToContentCheck(!1,A),a.lazyLoad(A)||this.prepareDragDrop(A.el),this}_writePosAttr(g,x){return(x._moving||x._resizing)&&this._placeholder!==g||(g.style.top=x.y?x.y===1?"var(--gs-cell-height)":`calc(${x.y} * var(--gs-cell-height))`:null,g.style.left=x.x?x.x===1?"var(--gs-column-width)":`calc(${x.x} * var(--gs-column-width))`:null,g.style.width=x.w>1?`calc(${x.w} * var(--gs-column-width))`:null,g.style.height=x.h>1?`calc(${x.h} * var(--gs-cell-height))`:null),x.x>0?g.setAttribute("gs-x",String(x.x)):g.removeAttribute("gs-x"),x.y>0?g.setAttribute("gs-y",String(x.y)):g.removeAttribute("gs-y"),x.w>1?g.setAttribute("gs-w",String(x.w)):g.removeAttribute("gs-w"),x.h>1?g.setAttribute("gs-h",String(x.h)):g.removeAttribute("gs-h"),this}_writeAttr(g,x){if(!x)return this;this._writePosAttr(g,x);const A={noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",sizeToContent:"gs-size-to-content"};for(const F in A)x[F]?g.setAttribute(A[F],String(x[F])):g.removeAttribute(A[F]);return this}_readAttr(g,x=!0){const A={};A.x=a.toNumber(g.getAttribute("gs-x")),A.y=a.toNumber(g.getAttribute("gs-y")),A.w=a.toNumber(g.getAttribute("gs-w")),A.h=a.toNumber(g.getAttribute("gs-h")),A.autoPosition=a.toBool(g.getAttribute("gs-auto-position")),A.noResize=a.toBool(g.getAttribute("gs-no-resize")),A.noMove=a.toBool(g.getAttribute("gs-no-move")),A.locked=a.toBool(g.getAttribute("gs-locked"));const F=g.getAttribute("gs-size-to-content");F&&(A.sizeToContent=F==="true"||F==="false"?a.toBool(F):parseInt(F,10)),A.id=g.getAttribute("gs-id"),A.maxW=a.toNumber(g.getAttribute("gs-max-w")),A.minW=a.toNumber(g.getAttribute("gs-min-w")),A.maxH=a.toNumber(g.getAttribute("gs-max-h")),A.minH=a.toNumber(g.getAttribute("gs-min-h")),x&&(A.w===1&&g.removeAttribute("gs-w"),A.h===1&&g.removeAttribute("gs-h"),A.maxW&&g.removeAttribute("gs-max-w"),A.minW&&g.removeAttribute("gs-min-w"),A.maxH&&g.removeAttribute("gs-max-h"),A.minH&&g.removeAttribute("gs-min-h"));for(const B in A){if(!A.hasOwnProperty(B))return;A[B]||A[B]===0||B==="gs-size-to-content"||delete A[B]}return A}_setStaticClass(){const g=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...g),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...g),this.el.removeAttribute("gs-static")),this}onResize(g=(x=>(x=this.el)==null?void 0:x.clientWidth)()){if(!g||this.prevWidth===g)return;this.prevWidth=g,this.batchUpdate();let A=!1;return this._autoColumn&&this.parentGridNode?this.opts.column!==this.parentGridNode.w&&(this.column(this.parentGridNode.w,this.opts.layout||"list"),A=!0):A=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(F=>{F.subGrid&&F.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(A),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(g=!1,x=void 0){if(this.engine){if(g&&this.hasAnimationCSS())return setTimeout(()=>this.resizeToContentCheck(!1,x),this.animationDelay);if(x)a.shouldSizeToContent(x)&&this.resizeToContentCBCheck(x.el);else if(this.engine.nodes.some(A=>a.shouldSizeToContent(A))){const A=[...this.engine.nodes];this.batchUpdate(),A.forEach(F=>{a.shouldSizeToContent(F)&&this.resizeToContentCBCheck(F.el)}),this._ignoreLayoutsNodeChange=!0,this.batchUpdate(!1),this._ignoreLayoutsNodeChange=!1}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,x?[x]:this.engine.nodes)}}_updateResizeEvent(g=!1){const x=!this.parentGridNode&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(A=>A.sizeToContent));return g||!x||this.resizeObserver?!g&&x||!this.resizeObserver||(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle):(this._sizeThrottle=a.throttle(()=>this.onResize(),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(()=>this._sizeThrottle()),this.resizeObserver.observe(this.el),this._skipInitialResize=!0),this}static getElement(g=".grid-stack-item"){return a.getElement(g)}static getElements(g=".grid-stack-item"){return a.getElements(g)}static getGridElement(g){return U.getElement(g)}static getGridElements(g){return a.getElements(g)}_initMargin(){let g,x=0,A=[];typeof this.opts.margin=="string"&&(A=this.opts.margin.split(" ")),A.length===2?(this.opts.marginTop=this.opts.marginBottom=A[0],this.opts.marginLeft=this.opts.marginRight=A[1]):A.length===4?(this.opts.marginTop=A[0],this.opts.marginRight=A[1],this.opts.marginBottom=A[2],this.opts.marginLeft=A[3]):(g=a.parseHeight(this.opts.margin),this.opts.marginUnit=g.unit,x=this.opts.margin=g.h),["marginTop","marginRight","marginBottom","marginLeft"].forEach(B=>{this.opts[B]===void 0?this.opts[B]=x:(g=a.parseHeight(this.opts[B]),this.opts[B]=g.h,delete this.opts.margin)}),this.opts.marginUnit=g.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop);const F=this.el.style;return F.setProperty("--gs-item-margin-top",`${this.opts.marginTop}${this.opts.marginUnit}`),F.setProperty("--gs-item-margin-bottom",`${this.opts.marginBottom}${this.opts.marginUnit}`),F.setProperty("--gs-item-margin-right",`${this.opts.marginRight}${this.opts.marginUnit}`),F.setProperty("--gs-item-margin-left",`${this.opts.marginLeft}${this.opts.marginUnit}`),this}static getDD(){return I}static setupDragIn(g,x,A,F=document){(x==null?void 0:x.pause)!==void 0&&(h.pauseDrag=x.pause),x={appendTo:"body",helper:"clone",...x||{}},(typeof g=="string"?a.getElements(g,F):g).forEach((B,j)=>{I.isDraggable(B)||I.dragIn(B,x),A!=null&&A[j]&&(B.gridstackNode=A[j])})}movable(g,x){return this.opts.staticGrid||U.getElements(g).forEach(A=>{const F=A.gridstackNode;F&&(x?delete F.noMove:F.noMove=!0,this.prepareDragDrop(F.el))}),this}resizable(g,x){return this.opts.staticGrid||U.getElements(g).forEach(A=>{const F=A.gridstackNode;F&&(x?delete F.noResize:F.noResize=!0,this.prepareDragDrop(F.el))}),this}disable(g=!0){if(!this.opts.staticGrid)return this.enableMove(!1,g),this.enableResize(!1,g),this._triggerEvent("disable"),this}enable(g=!0){if(!this.opts.staticGrid)return this.enableMove(!0,g),this.enableResize(!0,g),this._triggerEvent("enable"),this}enableMove(g,x=!0){return this.opts.staticGrid||(g?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(A=>{this.prepareDragDrop(A.el),A.subGrid&&x&&A.subGrid.enableMove(g,x)})),this}enableResize(g,x=!0){return this.opts.staticGrid||(g?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(A=>{this.prepareDragDrop(A.el),A.subGrid&&x&&A.subGrid.enableResize(g,x)})),this}cancelDrag(){var x;const g=(x=this._placeholder)==null?void 0:x.gridstackNode;g&&(g._isExternal?(g._isAboutToRemove=!0,this.engine.removeNode(g)):g._isAboutToRemove&&U._itemRemoving(g.el,!1),this.engine.restoreInitial())}_removeDD(g){return I.draggable(g,"destroy").resizable(g,"destroy"),g.gridstackNode&&delete g.gridstackNode._initDD,delete g.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return I.droppable(this.el,"destroy"),this;let g,x;const A=(F,B,j)=>{var ve;const $=(j=j||B).gridstackNode;if(!$)return;if(!((ve=$.grid)!=null&&ve.el)){j.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const Ie=j.getBoundingClientRect();j.style.left=Ie.x+(this.dragTransform.xScale-1)*(F.clientX-Ie.x)/this.dragTransform.xScale+"px",j.style.top=Ie.y+(this.dragTransform.yScale-1)*(F.clientY-Ie.y)/this.dragTransform.yScale+"px",j.style.transformOrigin="0px 0px"}let{top:G,left:he}=j.getBoundingClientRect();const Q=this.el.getBoundingClientRect();he-=Q.left,G-=Q.top;const Z={position:{top:G*this.dragTransform.xScale,left:he*this.dragTransform.yScale}};if($._temporaryRemoved){if($.x=Math.max(0,Math.round(he/x)),$.y=Math.max(0,Math.round(G/g)),delete $.autoPosition,this.engine.nodeBoundFix($),!this.engine.willItFit($)){if($.autoPosition=!0,!this.engine.willItFit($))return void I.off(B,"drag");$._willFitPos&&(a.copyPos($,$._willFitPos),delete $._willFitPos)}this._onStartMoving(j,F,Z,$,x,g)}else this._dragOrResize(j,F,Z,$,x,g)};return I.droppable(this.el,{accept:F=>{const B=F.gridstackNode||this._readAttr(F,!1);if((B==null?void 0:B.grid)===this)return!0;if(!this.opts.acceptWidgets)return!1;let j=!0;if(typeof this.opts.acceptWidgets=="function")j=this.opts.acceptWidgets(F);else{const $=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;j=F.matches($)}if(j&&B&&this.opts.maxRow){const $={w:B.w,h:B.h,minW:B.minW,minH:B.minH};j=this.engine.willItFit($)}return j}}).on(this.el,"dropover",(F,B,j)=>{let $=(j==null?void 0:j.gridstackNode)||B.gridstackNode;if(($==null?void 0:$.grid)===this&&!$._temporaryRemoved)return!1;if($!=null&&$._sidebarOrig&&($.w=$._sidebarOrig.w,$.h=$._sidebarOrig.h),$!=null&&$.grid&&$.grid!==this&&!$._temporaryRemoved&&$.grid._leave(B,j),j=j||B,x=this.cellWidth(),g=this.getCellHeight(!0),!$){const Q=j.getAttribute("data-gs-widget")||j.getAttribute("gridstacknode");if(Q){try{$=JSON.parse(Q)}catch{console.error("Gridstack dropover: Bad JSON format: ",Q)}j.removeAttribute("data-gs-widget"),j.removeAttribute("gridstacknode")}$||($=this._readAttr(j)),$._sidebarOrig={w:$.w,h:$.h}}$.grid||($.el||($={...$}),$._isExternal=!0,j.gridstackNode=$);const G=$.w||Math.round(j.offsetWidth/x)||1,he=$.h||Math.round(j.offsetHeight/g)||1;return $.grid&&$.grid!==this?(B._gridstackNodeOrig||(B._gridstackNodeOrig=$),B.gridstackNode=$={...$,w:G,h:he,grid:this},delete $.x,delete $.y,this.engine.cleanupNode($).nodeBoundFix($),$._initDD=$._isExternal=$._temporaryRemoved=!0):($.w=G,$.h=he,$._temporaryRemoved=!0),U._itemRemoving($.el,!1),I.on(B,"drag",A),A(F,B,j),!1}).on(this.el,"dropout",(F,B,j)=>{const $=(j==null?void 0:j.gridstackNode)||B.gridstackNode;return!!$&&($.grid&&$.grid!==this||(this._leave(B,j),this._isTemp&&this.removeAsSubGrid($)),!1)}).on(this.el,"drop",(F,B,j)=>{var Ie,Ve,Ae;const $=(j==null?void 0:j.gridstackNode)||B.gridstackNode;if(($==null?void 0:$.grid)===this&&!$._isExternal)return!1;const G=!!this.placeholder.parentElement,he=B!==j;this.placeholder.remove(),delete this.placeholder.gridstackNode;const Q=G&&this.opts.animate;Q&&this.setAnimation(!1);const Z=B._gridstackNodeOrig;if(delete B._gridstackNodeOrig,G&&(Z==null?void 0:Z.grid)&&Z.grid!==this){const ze=Z.grid;ze.engine.removeNodeFromLayoutCache(Z),ze.engine.removedNodes.push(Z),ze._triggerRemoveEvent()._triggerChangeEvent(),ze.parentGridNode&&!ze.engine.nodes.length&&ze.opts.subGridDynamic&&ze.removeAsSubGrid()}if(!$||(G&&(this.engine.cleanupNode($),$.grid=this),(Ie=$.grid)==null||delete Ie._isTemp,I.off(B,"drag"),j!==B?(j.remove(),B=j):B.remove(),this._removeDD(B),!G))return!1;const ve=(Ae=(Ve=$.subGrid)==null?void 0:Ve.el)==null?void 0:Ae.gridstack;return a.copyPos($,this._readAttr(this.placeholder)),a.removePositioningStyles(B),he&&($.content||$.subGridOpts||U.addRemoveCB)?(delete $.el,B=this.addWidget($)):(this._prepareElement(B,!0,$),this.el.appendChild(B),this.resizeToContentCheck(!1,$),ve&&(ve.parentGridNode=$),this._updateContainerHeight()),this.engine.addedNodes.push($),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...F,type:"dropped"},Z&&Z.grid?Z:void 0,$),Q&&this.setAnimation(this.opts.animate,!0),!1}),this}static _itemRemoving(g,x){if(!g)return;const A=g?g.gridstackNode:void 0;A!=null&&A.grid&&!g.classList.contains(A.grid.opts.removableOptions.decline)&&(x?A._isAboutToRemove=!0:delete A._isAboutToRemove,x?g.classList.add("grid-stack-item-removing"):g.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(typeof this.opts.removable!="string")return this;const g=document.querySelector(this.opts.removable);return g?(this.opts.staticGrid||I.isDroppable(g)||I.droppable(g,this.opts.removableOptions).on(g,"dropover",(x,A)=>U._itemRemoving(A,!0)).on(g,"dropout",(x,A)=>U._itemRemoving(A,!1)),this):this}prepareDragDrop(g,x=!1){const A=g==null?void 0:g.gridstackNode;if(!A)return;const F=A.noMove||this.opts.disableDrag,B=A.noResize||this.opts.disableResize,j=this.opts.staticGrid||F&&B;if((x||j)&&(A._initDD&&(this._removeDD(g),delete A._initDD),j&&g.classList.add("ui-draggable-disabled","ui-resizable-disabled"),!x))return this;if(!A._initDD){let $,G;const he=(ve,Ie)=>{this.triggerEvent(ve,ve.target),$=this.cellWidth(),G=this.getCellHeight(!0),this._onStartMoving(g,ve,Ie,A,$,G)},Q=(ve,Ie)=>{this._dragOrResize(g,ve,Ie,A,$,G)},Z=ve=>{this.placeholder.remove(),delete this.placeholder.gridstackNode,delete A._moving,delete A._resizing,delete A._event,delete A._lastTried;const Ie=A.w!==A._orig.w,Ve=ve.target;if(Ve.gridstackNode&&Ve.gridstackNode.grid===this){if(A.el=Ve,A._isAboutToRemove){const Ae=g.gridstackNode.grid;Ae._gsEventHandler[ve.type]&&Ae._gsEventHandler[ve.type](ve,Ve),Ae.engine.nodes.push(A),Ae.removeWidget(g,!0,!0)}else a.removePositioningStyles(Ve),A._temporaryRemoved?(a.copyPos(A,A._orig),this._writePosAttr(Ve,A),this.engine.addNode(A)):this._writePosAttr(Ve,A),this.triggerEvent(ve,Ve);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),ve.type==="resizestop"&&(Number.isInteger(A.sizeToContent)&&(A.sizeToContent=A.h),this.resizeToContentCheck(Ie,A))}};I.draggable(g,{start:he,stop:Z,drag:Q}).resizable(g,{start:he,stop:Z,resize:Q}),A._initDD=!0}return I.draggable(g,F?"disable":"enable").resizable(g,B?"disable":"enable"),this}_onStartMoving(g,x,A,F,B,j){var $;if(this.engine.cleanNodes().beginUpdate(F),this._writePosAttr(this.placeholder,F),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=F,($=F.grid)==null?void 0:$.el)this.dragTransform=a.getValuesFromTransformedElement(g);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const G=this.placeholder.closest(".grid-stack");this.dragTransform=a.getValuesFromTransformedElement(G)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(F.el=this.placeholder,F._lastUiPosition=A.position,F._prevYPix=A.position.top,F._moving=x.type==="dragstart",F._resizing=x.type==="resizestart",delete F._lastTried,x.type==="dropover"&&F._temporaryRemoved&&(this.engine.addNode(F),F._moving=!0),this.engine.cacheRects(B,j,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),x.type==="resizestart"){const G=this.getColumn()-F.x,he=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-F.y;I.resizable(g,"option","minWidth",B*Math.min(F.minW||1,G)).resizable(g,"option","minHeight",j*Math.min(F.minH||1,he)).resizable(g,"option","maxWidth",B*Math.min(F.maxW||Number.MAX_SAFE_INTEGER,G)).resizable(g,"option","maxWidthMoveLeft",B*Math.min(F.maxW||Number.MAX_SAFE_INTEGER,F.x+F.w)).resizable(g,"option","maxHeight",j*Math.min(F.maxH||Number.MAX_SAFE_INTEGER,he)).resizable(g,"option","maxHeightMoveUp",j*Math.min(F.maxH||Number.MAX_SAFE_INTEGER,F.y+F.h))}}_dragOrResize(g,x,A,F,B,j){const $={...F._orig};let G,he=this.opts.marginLeft,Q=this.opts.marginRight,Z=this.opts.marginTop,ve=this.opts.marginBottom;const Ie=Math.round(.1*j),Ve=Math.round(.1*B);if(he=Math.min(he,Ve),Q=Math.min(Q,Ve),Z=Math.min(Z,Ie),ve=Math.min(ve,Ie),x.type==="drag"){if(F._temporaryRemoved)return;const ze=A.position.top-F._prevYPix;F._prevYPix=A.position.top,this.opts.draggable.scroll!==!1&&a.updateScrollPosition(g,A.position,ze);const et=A.position.left+(A.position.left>F._lastUiPosition.left?-Q:he),xt=A.position.top+(A.position.top>F._lastUiPosition.top?-ve:Z);$.x=Math.round(et/B),$.y=Math.round(xt/j);const At=this._extraDragRow;if(this.engine.collide(F,$)){const Me=this.getRow();let Ut=Math.max(0,$.y+F.h-Me);this.opts.maxRow&&Me+Ut>this.opts.maxRow&&(Ut=Math.max(0,this.opts.maxRow-Me)),this._extraDragRow=Ut}else this._extraDragRow=0;if(this._extraDragRow!==At&&this._updateContainerHeight(),F.x===$.x&&F.y===$.y)return}else if(x.type==="resize"){if($.x<0||(a.updateScrollResize(x,g,j),$.w=Math.round((A.size.width-he)/B),$.h=Math.round((A.size.height-Z)/j),F.w===$.w&&F.h===$.h)||F._lastTried&&F._lastTried.w===$.w&&F._lastTried.h===$.h)return;const ze=A.position.left+he,et=A.position.top+Z;$.x=Math.round(ze/B),$.y=Math.round(et/j),G=!0}F._event=x,F._lastTried=$;const Ae={x:A.position.left+he,y:A.position.top+Z,w:(A.size?A.size.width:F.w*B)-he-Q,h:(A.size?A.size.height:F.h*j)-Z-ve};if(this.engine.moveNodeCheck(F,{...$,cellWidth:B,cellHeight:j,rect:Ae,resizing:G})){F._lastUiPosition=A.position,this.engine.cacheRects(B,j,Z,Q,ve,he),delete F._skipDown,G&&F.subGrid&&F.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();const ze=x.target;F._sidebarOrig||this._writePosAttr(ze,F),this.triggerEvent(x,ze)}}triggerEvent(g,x){let A=this;for(;A.parentGridNode;)A=A.parentGridNode.grid;A._gsEventHandler[g.type]&&A._gsEventHandler[g.type](g,x)}_leave(g,x){const A=(x=x||g).gridstackNode;if(!A||(x.style.transform=x.style.transformOrigin=null,I.off(g,"drag"),A._temporaryRemoved))return;A._temporaryRemoved=!0,this.engine.removeNode(A),A.el=A._isExternal&&x?x:g;const F=A._sidebarOrig;A._isExternal&&this.engine.cleanupNode(A),A._sidebarOrig=F,this.opts.removable===!0&&U._itemRemoving(g,!0),g._gridstackNodeOrig?(g.gridstackNode=g._gridstackNodeOrig,delete g._gridstackNodeOrig):A._isExternal&&this.engine.restoreInitial()}commit(){return this.batchUpdate(!1).prototype,this}}return U.renderCB=(z,g)=>{z&&(g!=null&&g.content)&&(z.textContent=g.content)},U.resizeToContentParent=".grid-stack-item-content",U.Utils=a,U.Engine=l,U.GDRev="12.1.1",s.GridStack})())})(xY);var kY={exports:{}};(function(t){(function(e){t.exports?t.exports=e(PU()):e(jQuery)})(function(e,i){/*!
 * jsTree 3.3.17
 * http://jstree.com/
 *
 * Copyright (c) 2014 Ivan Bozhanov (http://vakata.com)
 *
 * Licensed same as jquery - under the terms of the MIT License
 *   http://www.opensource.org/licenses/mit-license.php
 *//*!
 * if using jslint please allow for the jQuery global and use following options:
 * jslint: loopfunc: true, browser: true, ass: true, bitwise: true, continue: true, nomen: true, plusplus: true, regexp: true, unparam: true, todo: true, white: true
 */if(!e.jstree){var s=0,a=!1,l=!1,o=!1,h=[],d=e("script:last").attr("src"),m=window.document,f=window.setImmediate,b=window.Promise;!f&&b&&(f=function(u,T){b.resolve(T).then(u)}),e.jstree={version:"3.3.17",defaults:{plugins:[]},plugins:{},path:d&&d.indexOf("/")!==-1?d.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},e.jstree.create=function(u,T){var y=new e.jstree.core(++s),S=T;return T=e.extend(!0,{},e.jstree.defaults,T),S&&S.plugins&&(T.plugins=S.plugins),e.each(T.plugins,function(C,M){C!=="core"&&(y=y.plugin(M,T[M]))}),e(u).data("jstree",y),y.init(u,T),y},e.jstree.destroy=function(){e(".jstree:jstree").jstree("destroy"),e(m).off(".jstree")},e.jstree.core=function(u){this._id=u,this._cnt=0,this._wrk=null,this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},e.jstree.reference=function(u){var T=null,y=null;if(u&&u.id&&(!u.tagName||!u.nodeType)&&(u=u.id),!y||!y.length)try{y=e(u)}catch{}if(!y||!y.length)try{y=e("#"+u.replace(e.jstree.idregex,"\\$&"))}catch{}return y&&y.length&&(y=y.closest(".jstree")).length&&(y=y.data("jstree"))?T=y:e(".jstree").each(function(){var S=e(this).data("jstree");if(S&&S._model.data[u])return T=S,!1}),T},e.fn.jstree=function(u){var T=typeof u=="string",y=Array.prototype.slice.call(arguments,1),S=null;return u===!0&&!this.length?!1:(this.each(function(){var C=e.jstree.reference(this),M=T&&C?C[u]:null;if(S=T&&M?M.apply(C,y):null,!C&&!T&&(u===i||e.isPlainObject(u))&&e.jstree.create(this,u),(C&&!T||u===!0)&&(S=C||!1),S!==null&&S!==i)return!1}),S!==null&&S!==i?S:this)},e.expr.pseudos.jstree=e.expr.createPseudo(function(u){return function(T){return e(T).hasClass("jstree")&&e(T).data("jstree")!==i}}),e.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:e.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(u){u.type="click",e(u.currentTarget).trigger(u)},enter:function(u){u.type="click",e(u.currentTarget).trigger(u)},left:function(u){if(u.preventDefault(),this.is_open(u.currentTarget))this.close_node(u.currentTarget);else{var T=this.get_parent(u.currentTarget);T&&T.id!==e.jstree.root&&this.get_node(T,!0).children(".jstree-anchor").trigger("focus")}},up:function(u){u.preventDefault();var T=this.get_prev_dom(u.currentTarget);T&&T.length&&T.children(".jstree-anchor").trigger("focus")},right:function(u){if(u.preventDefault(),this.is_closed(u.currentTarget))this.open_node(u.currentTarget,function(y){this.get_node(y,!0).children(".jstree-anchor").trigger("focus")});else if(this.is_open(u.currentTarget)){var T=this.get_node(u.currentTarget,!0).children(".jstree-children")[0];T&&e(this._firstChild(T)).children(".jstree-anchor").trigger("focus")}},down:function(u){u.preventDefault();var T=this.get_next_dom(u.currentTarget);T&&T.length&&T.children(".jstree-anchor").trigger("focus")},"*":function(u){this.open_all()},home:function(u){u.preventDefault();var T=this._firstChild(this.get_container_ul()[0]);T&&e(T).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(u){u.preventDefault(),this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(u){u.preventDefault(),this.edit(u.currentTarget)}},allow_reselect:!1},e.jstree.core.prototype={plugin:function(u,T){var y=e.jstree.plugins[u];return y?(this._data[u]={},y.prototype=this,new y(T,this)):this},init:function(u,T){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this.element=e(u).addClass("jstree jstree-"+this._id),this.settings=T,this._data.core.ready=!1,this._data.core.loaded=!1,this._data.core.rtl=this.element.css("direction")==="rtl",this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl"),this.element.attr("role","tree"),this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0),this.element.attr("tabindex")||this.element.attr("tabindex","0"),this.bind(),this.trigger("init"),this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0),this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return this.nodeType===3&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove(),this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"),this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24,this._data.core.node=this._create_prototype_node(),this.trigger("loading"),this.load_node(e.jstree.root)},destroy:function(u){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk),this._wrk=null}catch{}u||this.element.empty(),this.teardown()},_create_prototype_node:function(){var u=m.createElement("LI"),T,y;return u.setAttribute("role","none"),T=m.createElement("I"),T.className="jstree-icon jstree-ocl",T.setAttribute("role","presentation"),u.appendChild(T),T=m.createElement("A"),T.className="jstree-anchor",T.setAttribute("href","#"),T.setAttribute("tabindex","-1"),T.setAttribute("role","treeitem"),y=m.createElement("I"),y.className="jstree-icon jstree-themeicon",y.setAttribute("role","presentation"),T.appendChild(y),u.appendChild(T),T=y=null,u},_kbevent_to_func:function(u){var T={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},y=[];if(u.ctrlKey&&y.push("ctrl"),u.altKey&&y.push("alt"),u.shiftKey&&y.push("shift"),y.push(T[u.which]?T[u.which].toLowerCase():u.which),y=y.sort().join("-").toLowerCase(),y==="shift-shift"||y==="ctrl-ctrl"||y==="alt-alt")return null;var S=this.settings.core.keyboard,C,M;for(C in S)if(S.hasOwnProperty(C)&&(M=C,M!=="-"&&M!=="+"&&(M=M.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS"),M=M.split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase()),M===y))return S[C];return null},teardown:function(){this.unbind(),this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/ig,"")}),this.element=null},bind:function(){var u="",T=null,y=0;this.element.on("dblclick.jstree",function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;if(m.selection&&m.selection.empty)m.selection.empty();else if(window.getSelection){var C=window.getSelection();try{C.removeAllRanges(),C.collapse()}catch{}}}).on("mousedown.jstree",(function(S){S.target===this.element[0]&&(S.preventDefault(),y=+new Date)}).bind(this)).on("mousedown.jstree",".jstree-ocl",function(S){S.preventDefault()}).on("click.jstree",".jstree-ocl",(function(S){this.toggle_node(S.target)}).bind(this)).on("dblclick.jstree",".jstree-anchor",(function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;this.settings.core.dblclick_toggle&&this.toggle_node(S.target)}).bind(this)).on("click.jstree",".jstree-anchor",(function(S){S.preventDefault(),S.currentTarget!==m.activeElement&&e(S.currentTarget).trigger("focus"),this.activate_node(S.currentTarget,S)}).bind(this)).on("keydown.jstree",".jstree-anchor",(function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;this._data.core.rtl&&(S.which===37?S.which=39:S.which===39&&(S.which=37));var C=this._kbevent_to_func(S);if(C){var M=C.call(this,S);if(M===!1||M===!0)return M}}).bind(this)).on("load_node.jstree",(function(S,C){C.status&&(C.node.id===e.jstree.root&&!this._data.core.loaded&&(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout((function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){var M=[],I,U;for(I=0,U=this._data.core.selected.length;I<U;I++)M=M.concat(this._model.data[this._data.core.selected[I]].parents);for(M=e.vakata.array_unique(M),I=0,U=M.length;I<U;I++)this.open_node(M[I],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}).bind(this),0))}).bind(this)).on("keypress.jstree",(function(S){if(S.target.tagName&&S.target.tagName.toLowerCase()==="input")return!0;T&&clearTimeout(T),T=setTimeout(function(){u=""},500);var C=String.fromCharCode(S.which).toLowerCase(),M=this.element.find(".jstree-anchor").filter(":visible"),I=M.index(m.activeElement)||0,U=!1;u+=C,!(u.length>1&&(M.slice(I).each((function(z,g){if(e(g).text().toLowerCase().indexOf(u)===0)return e(g).trigger("focus"),U=!0,!1}).bind(this)),U||(M.slice(0,I).each((function(z,g){if(e(g).text().toLowerCase().indexOf(u)===0)return e(g).trigger("focus"),U=!0,!1}).bind(this)),U)))&&new RegExp("^"+C.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(u)&&(M.slice(I+1).each((function(z,g){if(e(g).text().toLowerCase().charAt(0)===C)return e(g).trigger("focus"),U=!0,!1}).bind(this)),U||M.slice(0,I+1).each((function(z,g){if(e(g).text().toLowerCase().charAt(0)===C)return e(g).trigger("focus"),U=!0,!1}).bind(this)))}).bind(this)).on("init.jstree",(function(){var S=this.settings.core.themes;this._data.core.themes.dots=S.dots,this._data.core.themes.stripes=S.stripes,this._data.core.themes.icons=S.icons,this._data.core.themes.ellipsis=S.ellipsis,this.set_theme(S.name||"default",S.url),this.set_theme_variant(S.variant)}).bind(this)).on("loading.jstree",(function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"](),this[this._data.core.themes.icons?"show_icons":"hide_icons"](),this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"](),this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}).bind(this)).on("blur.jstree",".jstree-anchor",(function(S){this._data.core.focused=null,e(S.currentTarget).filter(".jstree-hovered").trigger("mouseleave"),this.element.attr("tabindex","0"),e(S.currentTarget).attr("tabindex","-1")}).bind(this)).on("focus.jstree",".jstree-anchor",(function(S){var C=this.get_node(S.currentTarget);C&&(C.id||C.id===0)&&(this._data.core.focused=C.id),this.element.find(".jstree-hovered").not(S.currentTarget).trigger("mouseleave"),e(S.currentTarget).trigger("mouseenter"),this.element.attr("tabindex","-1"),e(S.currentTarget).attr("tabindex","0")}).bind(this)).on("focus.jstree",(function(){if(+new Date-y>500&&!this._data.core.focused&&this.settings.core.restore_focus){y=0;var S=this.get_node(this.element.attr("aria-activedescendant"),!0);S&&S.find("> .jstree-anchor").trigger("focus")}}).bind(this)).on("mouseenter.jstree",".jstree-anchor",(function(S){this.hover_node(S.currentTarget)}).bind(this)).on("mouseleave.jstree",".jstree-anchor",(function(S){this.dehover_node(S.currentTarget)}).bind(this))},unbind:function(){this.element.off(".jstree"),e(m).off(".jstree-"+this._id)},trigger:function(u,T){T||(T={}),T.instance=this,this.element.triggerHandler(u.replace(".jstree","")+".jstree",T)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(u){var T=this.settings.core.strings;return e.vakata.is_function(T)?T.call(this,u):T&&T[u]?T[u]:u},_firstChild:function(u){for(u=u?u.firstChild:null;u!==null&&u.nodeType!==1;)u=u.nextSibling;return u},_nextSibling:function(u){for(u=u?u.nextSibling:null;u!==null&&u.nodeType!==1;)u=u.nextSibling;return u},_previousSibling:function(u){for(u=u?u.previousSibling:null;u!==null&&u.nodeType!==1;)u=u.previousSibling;return u},get_node:function(u,T){u&&(u.id||u.id===0)&&(u=u.id),u instanceof e&&u.length&&u[0].id&&(u=u[0].id);var y;try{if(this._model.data[u])u=this._model.data[u];else if(typeof u=="string"&&this._model.data[u.replace(/^#/,"")])u=this._model.data[u.replace(/^#/,"")];else if(typeof u=="string"&&(y=e("#"+u.replace(e.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[y.closest(".jstree-node").attr("id")])u=this._model.data[y.closest(".jstree-node").attr("id")];else if((y=this.element.find(u)).length&&this._model.data[y.closest(".jstree-node").attr("id")])u=this._model.data[y.closest(".jstree-node").attr("id")];else if((y=this.element.find(u)).length&&y.hasClass("jstree"))u=this._model.data[e.jstree.root];else return!1;return T&&(u=u.id===e.jstree.root?this.element:e("#"+u.id.replace(e.jstree.idregex,"\\$&"),this.element)),u}catch{return!1}},get_path:function(u,T,y){if(u=u.parents?u:this.get_node(u),!u||u.id===e.jstree.root||!u.parents)return!1;var S,C,M=[];for(M.push(y?u.id:u.text),S=0,C=u.parents.length;S<C;S++)M.push(y?u.parents[S]:this.get_text(u.parents[S]));return M=M.reverse().slice(1),T?M.join(T):M},get_next_dom:function(u,T){var y;if(u=this.get_node(u,!0),u[0]===this.element[0]){for(y=this._firstChild(this.get_container_ul()[0]);y&&y.offsetHeight===0;)y=this._nextSibling(y);return y?e(y):!1}if(!u||!u.length)return!1;if(T){y=u[0];do y=this._nextSibling(y);while(y&&y.offsetHeight===0);return y?e(y):!1}if(u.hasClass("jstree-open")){for(y=this._firstChild(u.children(".jstree-children")[0]);y&&y.offsetHeight===0;)y=this._nextSibling(y);if(y!==null)return e(y)}y=u[0];do y=this._nextSibling(y);while(y&&y.offsetHeight===0);return y!==null?e(y):u.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(u,T){var y;if(u=this.get_node(u,!0),u[0]===this.element[0]){for(y=this.get_container_ul()[0].lastChild;y&&y.offsetHeight===0;)y=this._previousSibling(y);return y?e(y):!1}if(!u||!u.length)return!1;if(T){y=u[0];do y=this._previousSibling(y);while(y&&y.offsetHeight===0);return y?e(y):!1}y=u[0];do y=this._previousSibling(y);while(y&&y.offsetHeight===0);if(y!==null){for(u=e(y);u.hasClass("jstree-open");)u=u.children(".jstree-children").first().children(".jstree-node:visible:last");return u}return y=u[0].parentNode.parentNode,y&&y.className&&y.className.indexOf("jstree-node")!==-1?e(y):!1},get_parent:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.parent},get_children_dom:function(u){return u=this.get_node(u,!0),u[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!u||!u.length?!1:u.children(".jstree-children").children(".jstree-node")},is_parent:function(u){return u=this.get_node(u),u&&(u.state.loaded===!1||u.children.length>0)},is_loaded:function(u){return u=this.get_node(u),u&&u.state.loaded},is_loading:function(u){return u=this.get_node(u),u&&u.state&&u.state.loading},is_open:function(u){return u=this.get_node(u),u&&u.state.opened},is_closed:function(u){return u=this.get_node(u),u&&this.is_parent(u)&&!u.state.opened},is_leaf:function(u){return!this.is_parent(u)},load_node:function(u,T){var y=this.get_node(u,!0),S,C,M,I,U;if(e.vakata.is_array(u))return this._load_nodes(u.slice(),T),!0;if(u=this.get_node(u),!u)return T&&T.call(this,u,!1),!1;if(u.state.loaded){for(u.state.loaded=!1,M=0,I=u.parents.length;M<I;M++)this._model.data[u.parents[M]].children_d=e.vakata.array_filter(this._model.data[u.parents[M]].children_d,function(z){return e.inArray(z,u.children_d)===-1});for(S=0,C=u.children_d.length;S<C;S++)this._model.data[u.children_d[S]].state.selected&&(U=!0),delete this._model.data[u.children_d[S]];U&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(z){return e.inArray(z,u.children_d)===-1})),u.children=[],u.children_d=[],U&&this.trigger("changed",{action:"load_node",node:u,selected:this._data.core.selected})}return u.state.failed=!1,u.state.loading=!0,u.id!==e.jstree.root?y.children(".jstree-anchor").attr("aria-busy",!0):y.attr("aria-busy",!0),y.addClass("jstree-loading"),this._load_node(u,(function(z){u=this._model.data[u.id],u.state.loading=!1,u.state.loaded=z,u.state.failed=!u.state.loaded;var g=this.get_node(u,!0),x=0,A=0,F=this._model.data,B=!1;for(x=0,A=u.children.length;x<A;x++)if(F[u.children[x]]&&!F[u.children[x]].state.hidden){B=!0;break}u.state.loaded&&g&&g.length&&(g.removeClass("jstree-closed jstree-open jstree-leaf"),B?u.id!=="#"&&g.addClass(u.state.opened?"jstree-open":"jstree-closed"):g.addClass("jstree-leaf")),u.id!==e.jstree.root?g.children(".jstree-anchor").attr("aria-busy",!1):g.attr("aria-busy",!1),g.removeClass("jstree-loading"),this.trigger("load_node",{node:u,status:z}),T&&T.call(this,u,z)}).bind(this)),!0},_load_nodes:function(u,T,y,S){var C=!0,M=function(){this._load_nodes(u,T,!0)},I=this._model.data,U,z,g=[];for(U=0,z=u.length;U<z;U++)I[u[U]]&&(!I[u[U]].state.loaded&&!I[u[U]].state.failed||!y&&S)&&(this.is_loading(u[U])||this.load_node(u[U],M),C=!1);if(C){for(U=0,z=u.length;U<z;U++)I[u[U]]&&I[u[U]].state.loaded&&g.push(u[U]);T&&!T.done&&(T.call(this,g),T.done=!0)}},load_all:function(u,T){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var y=[],S=this._model.data,C=S[u.id].children_d,M,I;for(u.state&&!u.state.loaded&&y.push(u.id),M=0,I=C.length;M<I;M++)S[C[M]]&&S[C[M]].state&&!S[C[M]].state.loaded&&y.push(C[M]);y.length?this._load_nodes(y,function(){this.load_all(u,T)}):(T&&T.call(this,u),this.trigger("load_all",{node:u}))},_load_node:function(u,T){var y=this.settings.core.data,S,C=function(){return this.nodeType!==3&&this.nodeType!==8};return y?e.vakata.is_function(y)?y.call(this,u,(function(M){M===!1?T.call(this,!1):this[typeof M=="string"?"_append_html_data":"_append_json_data"](u,typeof M=="string"?e(e.parseHTML(M)).filter(C):M,function(I){T.call(this,I)})}).bind(this)):typeof y=="object"?y.url?(y=e.extend(!0,{},y),e.vakata.is_function(y.url)&&(y.url=y.url.call(this,u)),e.vakata.is_function(y.data)&&(y.data=y.data.call(this,u)),e.ajax(y).done((function(M,I,U){var z=U.getResponseHeader("Content-Type");return z&&z.indexOf("json")!==-1||typeof M=="object"?this._append_json_data(u,M,function(g){T.call(this,g)}):z&&z.indexOf("html")!==-1||typeof M=="string"?this._append_html_data(u,e(e.parseHTML(M)).filter(C),function(g){T.call(this,g)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:U})},this.settings.core.error.call(this,this._data.core.last_error),T.call(this,!1))}).bind(this)).fail((function(M){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:u.id,xhr:M})},T.call(this,!1),this.settings.core.error.call(this,this._data.core.last_error)}).bind(this))):(e.vakata.is_array(y)?S=e.extend(!0,[],y):e.isPlainObject(y)?S=e.extend(!0,{},y):S=y,u.id===e.jstree.root?this._append_json_data(u,S,function(M){T.call(this,M)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),T.call(this,!1))):typeof y=="string"?u.id===e.jstree.root?this._append_html_data(u,e(e.parseHTML(y)).filter(C),function(M){T.call(this,M)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:u.id})},this.settings.core.error.call(this,this._data.core.last_error),T.call(this,!1)):T.call(this,!1):u.id===e.jstree.root?this._append_html_data(u,this._data.core.original_container_html.clone(!0),function(M){T.call(this,M)}):T.call(this,!1)},_node_changed:function(u){u=this.get_node(u),u&&e.inArray(u.id,this._model.changed)===-1&&this._model.changed.push(u.id)},_append_html_data:function(u,T,y){u=this.get_node(u),u.children=[],u.children_d=[];var S=T.is("ul")?T.children():T,C=u.id,M=[],I=[],U=this._model.data,z=U[C],g=this._data.core.selected.length,x,A,F;for(S.each((function(B,j){x=this._parse_model_from_html(e(j),C,z.parents.concat()),x&&(M.push(x),I.push(x),U[x].children_d.length&&(I=I.concat(U[x].children_d)))}).bind(this)),z.children=M,z.children_d=I,A=0,F=z.parents.length;A<F;A++)U[z.parents[A]].children_d=U[z.parents[A]].children_d.concat(I);this.trigger("model",{nodes:I,parent:C}),C!==e.jstree.root?(this._node_changed(C),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0)),this._data.core.selected.length!==g&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),y.call(this,!0)},_append_json_data:function(u,T,y,S){if(this.element!==null){u=this.get_node(u),u.children=[],u.children_d=[],T.d&&(T=T.d,typeof T=="string"&&(T=JSON.parse(T))),e.vakata.is_array(T)||(T=[T]);var C=null,M={df:this._model.default_state,dat:T,par:u.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},I=this,U=function(g,x){g.data&&(g=g.data);var A=g.dat,F=g.par,B=[],j=[],$=[],G=g.df,he=g.t_id,Q=g.t_cnt,Z=g.m,ve=Z[F],Ie=g.sel,Ve,Ae,ze,et,xt=function(Me,Ut,jt){jt?jt=jt.concat():jt=[],Ut&&jt.unshift(Ut);var Ci=Me.id.toString(),rt,yi,Ui,qi,yt={id:Ci,text:Me.text||"",icon:Me.icon!==x?Me.icon:!0,parent:Ut,parents:jt,children:Me.children||[],children_d:Me.children_d||[],data:Me.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(rt in G)G.hasOwnProperty(rt)&&(yt.state[rt]=G[rt]);if(Me&&Me.data&&Me.data.jstree&&Me.data.jstree.icon&&(yt.icon=Me.data.jstree.icon),(yt.icon===x||yt.icon===null||yt.icon==="")&&(yt.icon=!0),Me&&Me.data&&(yt.data=Me.data,Me.data.jstree))for(rt in Me.data.jstree)Me.data.jstree.hasOwnProperty(rt)&&(yt.state[rt]=Me.data.jstree[rt]);if(Me&&typeof Me.state=="object")for(rt in Me.state)Me.state.hasOwnProperty(rt)&&(yt.state[rt]=Me.state[rt]);if(Me&&typeof Me.li_attr=="object")for(rt in Me.li_attr)Me.li_attr.hasOwnProperty(rt)&&(yt.li_attr[rt]=Me.li_attr[rt]);if(yt.li_attr.id||(yt.li_attr.id=Ci),Me&&typeof Me.a_attr=="object")for(rt in Me.a_attr)Me.a_attr.hasOwnProperty(rt)&&(yt.a_attr[rt]=Me.a_attr[rt]);for(Me&&Me.children&&Me.children===!0&&(yt.state.loaded=!1,yt.children=[],yt.children_d=[]),Z[yt.id]=yt,rt=0,yi=yt.children.length;rt<yi;rt++)Ui=xt(Z[yt.children[rt]],yt.id,jt),qi=Z[Ui],yt.children_d.push(Ui),qi.children_d.length&&(yt.children_d=yt.children_d.concat(qi.children_d));return delete Me.data,delete Me.children,Z[yt.id].original=Me,yt.state.selected&&$.push(yt.id),yt.id},At=function(Me,Ut,jt){jt?jt=jt.concat():jt=[],Ut&&jt.unshift(Ut);var Ci=!1,rt,yi,Ui,qi,yt;do Ci="j"+he+"_"+ ++Q;while(Z[Ci]);yt={id:!1,text:typeof Me=="string"?Me:"",icon:typeof Me=="object"&&Me.icon!==x?Me.icon:!0,parent:Ut,parents:jt,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(rt in G)G.hasOwnProperty(rt)&&(yt.state[rt]=G[rt]);if(Me&&(Me.id||Me.id===0)&&(yt.id=Me.id.toString()),Me&&Me.text&&(yt.text=Me.text),Me&&Me.data&&Me.data.jstree&&Me.data.jstree.icon&&(yt.icon=Me.data.jstree.icon),(yt.icon===x||yt.icon===null||yt.icon==="")&&(yt.icon=!0),Me&&Me.data&&(yt.data=Me.data,Me.data.jstree))for(rt in Me.data.jstree)Me.data.jstree.hasOwnProperty(rt)&&(yt.state[rt]=Me.data.jstree[rt]);if(Me&&typeof Me.state=="object")for(rt in Me.state)Me.state.hasOwnProperty(rt)&&(yt.state[rt]=Me.state[rt]);if(Me&&typeof Me.li_attr=="object")for(rt in Me.li_attr)Me.li_attr.hasOwnProperty(rt)&&(yt.li_attr[rt]=Me.li_attr[rt]);if(yt.li_attr.id&&!(yt.id||yt.id===0)&&(yt.id=yt.li_attr.id.toString()),yt.id||yt.id===0||(yt.id=Ci),yt.li_attr.id||(yt.li_attr.id=yt.id),Me&&typeof Me.a_attr=="object")for(rt in Me.a_attr)Me.a_attr.hasOwnProperty(rt)&&(yt.a_attr[rt]=Me.a_attr[rt]);if(Me&&Me.children&&Me.children.length){for(rt=0,yi=Me.children.length;rt<yi;rt++)Ui=At(Me.children[rt],yt.id,jt),qi=Z[Ui],yt.children.push(Ui),qi.children_d.length&&(yt.children_d=yt.children_d.concat(qi.children_d));yt.children_d=yt.children_d.concat(yt.children)}return Me&&Me.children&&Me.children===!0&&(yt.state.loaded=!1,yt.children=[],yt.children_d=[]),delete Me.data,delete Me.children,yt.original=Me,Z[yt.id]=yt,yt.state.selected&&$.push(yt.id),yt.id};if(A.length&&A[0].id!==x&&A[0].parent!==x){for(Ae=0,ze=A.length;Ae<ze;Ae++)A[Ae].children||(A[Ae].children=[]),A[Ae].state||(A[Ae].state={}),Z[A[Ae].id.toString()]=A[Ae];for(Ae=0,ze=A.length;Ae<ze;Ae++){if(!Z[A[Ae].parent.toString()]){typeof I<"u"&&(I._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:A[Ae].id.toString(),parent:A[Ae].parent.toString()})},I.settings.core.error.call(I,I._data.core.last_error));continue}Z[A[Ae].parent.toString()].children.push(A[Ae].id.toString()),ve.children_d.push(A[Ae].id.toString())}for(Ae=0,ze=ve.children.length;Ae<ze;Ae++)Ve=xt(Z[ve.children[Ae]],F,ve.parents.concat()),j.push(Ve),Z[Ve].children_d.length&&(j=j.concat(Z[Ve].children_d));for(Ae=0,ze=ve.parents.length;Ae<ze;Ae++)Z[ve.parents[Ae]].children_d=Z[ve.parents[Ae]].children_d.concat(j);et={cnt:Q,mod:Z,sel:Ie,par:F,dpc:j,add:$}}else{for(Ae=0,ze=A.length;Ae<ze;Ae++)Ve=At(A[Ae],F,ve.parents.concat()),Ve&&(B.push(Ve),j.push(Ve),Z[Ve].children_d.length&&(j=j.concat(Z[Ve].children_d)));for(ve.children=B,ve.children_d=j,Ae=0,ze=ve.parents.length;Ae<ze;Ae++)Z[ve.parents[Ae]].children_d=Z[ve.parents[Ae]].children_d.concat(j);et={cnt:Q,mod:Z,sel:Ie,par:F,dpc:j,add:$}}if(typeof window>"u"||typeof window.document>"u")postMessage(et);else return et},z=function(g,x){if(this.element!==null){this._cnt=g.cnt;var A,F=this._model.data;for(A in F)F.hasOwnProperty(A)&&F[A].state&&F[A].state.loading&&g.mod[A]&&(g.mod[A].state.loading=!0);if(this._model.data=g.mod,x){var B,j=g.add,$=g.sel,G=this._data.core.selected.slice();if(F=this._model.data,$.length!==G.length||e.vakata.array_unique($.concat(G)).length!==$.length){for(A=0,B=$.length;A<B;A++)e.inArray($[A],j)===-1&&e.inArray($[A],G)===-1&&(F[$[A]].state.selected=!1);for(A=0,B=G.length;A<B;A++)e.inArray(G[A],$)===-1&&(F[G[A]].state.selected=!0)}}g.add.length&&(this._data.core.selected=this._data.core.selected.concat(g.add)),this.trigger("model",{nodes:g.dpc,parent:g.par}),g.par!==e.jstree.root?(this._node_changed(g.par),this.redraw()):this.redraw(!0),g.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected}),!x&&f?f(function(){y.call(I,!0)}):y.call(I,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{this._wrk===null&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+U.toString()],{type:"text/javascript"}))),!this._data.core.working||S?(this._data.core.working=!0,C=new window.Worker(this._wrk),C.onmessage=(function(g){z.call(this,g.data,!0);try{C.terminate(),C=null}catch{}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),C.onerror=(function(g){z.call(this,U(M),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}).bind(this),M.par?C.postMessage(M):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([u,T,y,!0])}catch{z.call(this,U(M),!1),this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else z.call(this,U(M),!1)}},_parse_model_from_html:function(u,T,y){y?y=[].concat(y):y=[],T&&y.unshift(T);var S,C,M=this._model.data,I={id:!1,text:!1,icon:!0,parent:T,parents:y,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},U,z,g;for(U in this._model.default_state)this._model.default_state.hasOwnProperty(U)&&(I.state[U]=this._model.default_state[U]);if(z=e.vakata.attributes(u,!0),e.each(z,function(x,A){if(A=e.vakata.trim(A),!A.length)return!0;I.li_attr[x]=A,x==="id"&&(I.id=A.toString())}),z=u.children("a").first(),z.length&&(z=e.vakata.attributes(z,!0),e.each(z,function(x,A){A=e.vakata.trim(A),A.length&&(I.a_attr[x]=A)})),z=u.children("a").first().length?u.children("a").first().clone():u.clone(),z.children("ins, i, ul").remove(),z=z.html(),z=e("<div></div>").html(z),I.text=this.settings.core.force_text?z.text():z.html(),z=u.data(),I.data=z?e.extend(!0,{},z):null,I.state.opened=u.hasClass("jstree-open"),I.state.selected=u.children("a").hasClass("jstree-clicked"),I.state.disabled=u.children("a").hasClass("jstree-disabled"),I.data&&I.data.jstree)for(U in I.data.jstree)I.data.jstree.hasOwnProperty(U)&&(I.state[U]=I.data.jstree[U]);z=u.children("a").children(".jstree-themeicon"),z.length&&(I.icon=z.hasClass("jstree-themeicon-hidden")?!1:z.attr("rel")),I.state.icon!==i&&(I.icon=I.state.icon),(I.icon===i||I.icon===null||I.icon==="")&&(I.icon=!0),z=u.children("ul").children("li");do g="j"+this._id+"_"+ ++this._cnt;while(M[g]);return I.id=I.li_attr.id?I.li_attr.id.toString():g,z.length?(z.each((function(x,A){S=this._parse_model_from_html(e(A),I.id,y),C=this._model.data[S],I.children.push(S),C.children_d.length&&(I.children_d=I.children_d.concat(C.children_d))}).bind(this)),I.children_d=I.children_d.concat(I.children)):u.hasClass("jstree-closed")&&(I.state.loaded=!1),I.li_attr.class&&(I.li_attr.class=I.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),I.a_attr.class&&(I.a_attr.class=I.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),M[I.id]=I,I.state.selected&&this._data.core.selected.push(I.id),I.id},_parse_model_from_flat_json:function(u,T,y){y?y=y.concat():y=[],T&&y.unshift(T);var S=u.id.toString(),C=this._model.data,M=this._model.default_state,I,U,z,g,x={id:S,text:u.text||"",icon:u.icon!==i?u.icon:!0,parent:T,parents:y,children:u.children||[],children_d:u.children_d||[],data:u.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(I in M)M.hasOwnProperty(I)&&(x.state[I]=M[I]);if(u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(x.icon=u.data.jstree.icon),(x.icon===i||x.icon===null||x.icon==="")&&(x.icon=!0),u&&u.data&&(x.data=u.data,u.data.jstree))for(I in u.data.jstree)u.data.jstree.hasOwnProperty(I)&&(x.state[I]=u.data.jstree[I]);if(u&&typeof u.state=="object")for(I in u.state)u.state.hasOwnProperty(I)&&(x.state[I]=u.state[I]);if(u&&typeof u.li_attr=="object")for(I in u.li_attr)u.li_attr.hasOwnProperty(I)&&(x.li_attr[I]=u.li_attr[I]);if(x.li_attr.id||(x.li_attr.id=S),u&&typeof u.a_attr=="object")for(I in u.a_attr)u.a_attr.hasOwnProperty(I)&&(x.a_attr[I]=u.a_attr[I]);for(u&&u.children&&u.children===!0&&(x.state.loaded=!1,x.children=[],x.children_d=[]),C[x.id]=x,I=0,U=x.children.length;I<U;I++)z=this._parse_model_from_flat_json(C[x.children[I]],x.id,y),g=C[z],x.children_d.push(z),g.children_d.length&&(x.children_d=x.children_d.concat(g.children_d));return delete u.data,delete u.children,C[x.id].original=u,x.state.selected&&this._data.core.selected.push(x.id),x.id},_parse_model_from_json:function(u,T,y){y?y=y.concat():y=[],T&&y.unshift(T);var S=!1,C,M,I,U,z=this._model.data,g=this._model.default_state,x;do S="j"+this._id+"_"+ ++this._cnt;while(z[S]);x={id:!1,text:typeof u=="string"?u:"",icon:typeof u=="object"&&u.icon!==i?u.icon:!0,parent:T,parents:y,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(C in g)g.hasOwnProperty(C)&&(x.state[C]=g[C]);if(u&&(u.id||u.id===0)&&(x.id=u.id.toString()),u&&u.text&&(x.text=u.text),u&&u.data&&u.data.jstree&&u.data.jstree.icon&&(x.icon=u.data.jstree.icon),(x.icon===i||x.icon===null||x.icon==="")&&(x.icon=!0),u&&u.data&&(x.data=u.data,u.data.jstree))for(C in u.data.jstree)u.data.jstree.hasOwnProperty(C)&&(x.state[C]=u.data.jstree[C]);if(u&&typeof u.state=="object")for(C in u.state)u.state.hasOwnProperty(C)&&(x.state[C]=u.state[C]);if(u&&typeof u.li_attr=="object")for(C in u.li_attr)u.li_attr.hasOwnProperty(C)&&(x.li_attr[C]=u.li_attr[C]);if(x.li_attr.id&&!(x.id||x.id===0)&&(x.id=x.li_attr.id.toString()),x.id||x.id===0||(x.id=S),x.li_attr.id||(x.li_attr.id=x.id),u&&typeof u.a_attr=="object")for(C in u.a_attr)u.a_attr.hasOwnProperty(C)&&(x.a_attr[C]=u.a_attr[C]);if(u&&u.children&&u.children.length){for(C=0,M=u.children.length;C<M;C++)I=this._parse_model_from_json(u.children[C],x.id,y),U=z[I],x.children.push(I),U.children_d.length&&(x.children_d=x.children_d.concat(U.children_d));x.children_d=x.children.concat(x.children_d)}return u&&u.children&&u.children===!0&&(x.state.loaded=!1,x.children=[],x.children_d=[]),delete u.data,delete u.children,x.original=u,z[x.id]=x,x.state.selected&&this._data.core.selected.push(x.id),x.id},_redraw:function(){var u=this._model.force_full_redraw?this._model.data[e.jstree.root].children.concat([]):this._model.changed.concat([]),T=m.createElement("UL"),y,S,C,M=this._data.core.focused;for(S=0,C=u.length;S<C;S++)y=this.redraw_node(u[S],!0,this._model.force_full_redraw),y&&this._model.force_full_redraw&&T.appendChild(y);this._model.force_full_redraw&&(T.className=this.get_container_ul()[0].className,T.setAttribute("role","presentation"),this.element.empty().append(T)),M!==null&&this.settings.core.restore_focus&&(y=this.get_node(M,!0),y&&y.length&&y.children(".jstree-anchor")[0]!==m.activeElement?y.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null),this._model.force_full_redraw=!1,this._model.changed=[],this.trigger("redraw",{nodes:u})},redraw:function(u){u&&(this._model.force_full_redraw=!0),this._redraw()},draw_children:function(u){var T=this.get_node(u),y=!1,S=!1,C=!1,M=m;if(!T)return!1;if(T.id===e.jstree.root)return this.redraw(!0);if(u=this.get_node(u,!0),!u||!u.length)return!1;if(u.children(".jstree-children").remove(),u=u[0],T.children.length&&T.state.loaded){for(C=M.createElement("UL"),C.setAttribute("role","group"),C.className="jstree-children",y=0,S=T.children.length;y<S;y++)C.appendChild(this.redraw_node(T.children[y],!0,!0));u.appendChild(C)}},redraw_node:function(u,T,y,S){var C=this.get_node(u),M=!1,I=!1,U=!1,z=!1,g=!1,x=!1,A="",F=m,B=this._model.data,j=!1,$=null,G=0,he=0,Q=!1,Z=!1;if(!C)return!1;if(C.id===e.jstree.root)return this.redraw(!0);if(T=T||C.children.length===0,u=m.querySelector?this.element[0].querySelector("#"+("0123456789".indexOf(C.id[0])!==-1?"\\3"+C.id[0]+" "+C.id.substr(1).replace(e.jstree.idregex,"\\$&"):C.id.replace(e.jstree.idregex,"\\$&"))):m.getElementById(C.id),u)u=e(u),y||(M=u.parent().parent()[0],M===this.element[0]&&(M=null),I=u.index()),!T&&C.children.length&&!u.children(".jstree-children").length&&(T=!0),T||(U=u.children(".jstree-children")[0]),j=u.children(".jstree-anchor")[0]===m.activeElement,u.remove();else if(T=!0,!y){if(M=C.parent!==e.jstree.root?e("#"+C.parent.replace(e.jstree.idregex,"\\$&"),this.element)[0]:null,M!==null&&(!M||!B[C.parent].state.opened))return!1;I=e.inArray(C.id,M===null?B[e.jstree.root].children:B[C.parent].children)}u=this._data.core.node.cloneNode(!0),A="jstree-node ";for(z in C.li_attr)if(C.li_attr.hasOwnProperty(z)){if(z==="id")continue;z!=="class"?u.setAttribute(z,C.li_attr[z]):A+=C.li_attr[z]}for(C.a_attr.id||(C.a_attr.id=C.id+"_anchor"),u.childNodes[1].setAttribute("aria-selected",!!C.state.selected),u.childNodes[1].setAttribute("aria-level",C.parents.length),this.settings.core.compute_elements_positions&&(u.childNodes[1].setAttribute("aria-setsize",B[C.parent].children.length),u.childNodes[1].setAttribute("aria-posinset",B[C.parent].children.indexOf(C.id)+1)),C.state.disabled&&u.childNodes[1].setAttribute("aria-disabled",!0),z=0,g=C.children.length;z<g;z++)if(!B[C.children[z]].state.hidden){Q=!0;break}if(C.parent!==null&&B[C.parent]&&!C.state.hidden&&(z=e.inArray(C.id,B[C.parent].children),Z=C.id,z!==-1))for(z++,g=B[C.parent].children.length;z<g&&(B[B[C.parent].children[z]].state.hidden||(Z=B[C.parent].children[z]),Z===C.id);z++);C.state.hidden&&(A+=" jstree-hidden"),C.state.loading&&(A+=" jstree-loading"),C.state.loaded&&!Q?A+=" jstree-leaf":(A+=C.state.opened&&C.state.loaded?" jstree-open":" jstree-closed",u.childNodes[1].setAttribute("aria-expanded",C.state.opened&&C.state.loaded)),Z===C.id&&(A+=" jstree-last"),u.id=C.id,u.className=A,A=(C.state.selected?" jstree-clicked":"")+(C.state.disabled?" jstree-disabled":"");for(g in C.a_attr)if(C.a_attr.hasOwnProperty(g)){if(g==="href"&&C.a_attr[g]==="#")continue;g!=="class"?u.childNodes[1].setAttribute(g,C.a_attr[g]):A+=" "+C.a_attr[g]}if(A.length&&(u.childNodes[1].className="jstree-anchor "+A),(C.icon&&C.icon!==!0||C.icon===!1)&&(C.icon===!1?u.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":C.icon.indexOf("/")===-1&&C.icon.indexOf(".")===-1?u.childNodes[1].childNodes[0].className+=" "+C.icon+" jstree-themeicon-custom":(u.childNodes[1].childNodes[0].style.backgroundImage='url("'+C.icon+'")',u.childNodes[1].childNodes[0].style.backgroundPosition="center center",u.childNodes[1].childNodes[0].style.backgroundSize="auto",u.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?u.childNodes[1].appendChild(F.createTextNode(C.text)):u.childNodes[1].innerHTML+=C.text,T&&C.children.length&&(C.state.opened||S)&&C.state.loaded){for(x=F.createElement("UL"),x.setAttribute("role","group"),x.className="jstree-children",z=0,g=C.children.length;z<g;z++)x.appendChild(this.redraw_node(C.children[z],T,!0));u.appendChild(x)}if(U&&u.appendChild(U),!y){for(M||(M=this.element[0]),z=0,g=M.childNodes.length;z<g;z++)if(M.childNodes[z]&&M.childNodes[z].className&&M.childNodes[z].className.indexOf("jstree-children")!==-1){$=M.childNodes[z];break}$||($=F.createElement("UL"),$.setAttribute("role","group"),$.className="jstree-children",M.appendChild($)),M=$,I<M.childNodes.length?M.insertBefore(u,M.childNodes[I]):M.appendChild(u),j&&(G=this.element[0].scrollTop,he=this.element[0].scrollLeft,u.childNodes[1].focus(),this.element[0].scrollTop=G,this.element[0].scrollLeft=he)}return C.state.opened&&!C.state.loaded&&(C.state.opened=!1,setTimeout((function(){this.open_node(C.id,!1,0)}).bind(this),0)),u},open_node:function(u,T,y){var S,C,M,I;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,C=u.length;S<C;S++)this.open_node(u[S],T,y);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;if(y=y===i?this.settings.core.animation:y,!this.is_closed(u))return T&&T.call(this,u,!1),!1;if(this.is_loaded(u))return M=this.get_node(u,!0),I=this,M.length&&(y&&M.children(".jstree-children").length&&M.children(".jstree-children").stop(!0,!0),u.children.length&&!this._firstChild(M.children(".jstree-children")[0])&&this.draw_children(u),y?(this.trigger("before_open",{node:u}),M.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(y,function(){this.style.display="",I.element&&I.trigger("after_open",{node:u})})):(this.trigger("before_open",{node:u}),M[0].className=M[0].className.replace("jstree-closed","jstree-open"),M[0].childNodes[1].setAttribute("aria-expanded",!0))),u.state.opened=!0,T&&T.call(this,u,!0),M.length||this.trigger("before_open",{node:u}),this.trigger("open_node",{node:u}),(!y||!M.length)&&this.trigger("after_open",{node:u}),!0;if(this.is_loading(u))return setTimeout((function(){this.open_node(u,T,y)}).bind(this),500);this.load_node(u,function(U,z){return z?this.open_node(U,T,y):T?T.call(this,U,!1):!1})},_open_to:function(u){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var T,y,S=u.parents;for(T=0,y=S.length;T<y;T+=1)T!==e.jstree.root&&this.open_node(S[T],!1,0);return e("#"+u.id.replace(e.jstree.idregex,"\\$&"),this.element)},close_node:function(u,T){var y,S,C,M;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,S=u.length;y<S;y++)this.close_node(u[y],T);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root||this.is_closed(u))return!1;T=T===i?this.settings.core.animation:T,C=this,M=this.get_node(u,!0),u.state.opened=!1,this.trigger("close_node",{node:u}),M.length?T?M.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(T,function(){this.style.display="",M.children(".jstree-children").remove(),C.element&&C.trigger("after_close",{node:u})}):(M[0].className=M[0].className.replace("jstree-open","jstree-closed"),M.children(".jstree-anchor").attr("aria-expanded",!1),M.children(".jstree-children").remove(),this.trigger("after_close",{node:u})):this.trigger("after_close",{node:u})},toggle_node:function(u){var T,y;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,y=u.length;T<y;T++)this.toggle_node(u[T]);return!0}if(this.is_closed(u))return this.open_node(u);if(this.is_open(u))return this.close_node(u)},open_all:function(u,T,y){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var S=u.id===e.jstree.root?this.get_container_ul():this.get_node(u,!0),C,M,I;if(!S.length){for(C=0,M=u.children_d.length;C<M;C++)this.is_closed(this._model.data[u.children_d[C]])&&(this._model.data[u.children_d[C]].state.opened=!0);return this.trigger("open_all",{node:u})}y=y||S,I=this,S=this.is_closed(u)?S.find(".jstree-closed").addBack():S.find(".jstree-closed"),S.each(function(){I.open_node(this,function(U,z){z&&this.is_parent(U)&&this.open_all(U,T,y)},T||0)}),y.find(".jstree-closed").length===0&&this.trigger("open_all",{node:this.get_node(y)})},close_all:function(u,T){if(u||(u=e.jstree.root),u=this.get_node(u),!u)return!1;var y=u.id===e.jstree.root?this.get_container_ul():this.get_node(u,!0),S=this,C,M;for(y.length&&(y=this.is_open(u)?y.find(".jstree-open").addBack():y.find(".jstree-open"),e(y.get().reverse()).each(function(){S.close_node(this,T||0)})),C=0,M=u.children_d.length;C<M;C++)this._model.data[u.children_d[C]].state.opened=!1;this.trigger("close_all",{node:u})},is_disabled:function(u){return u=this.get_node(u),u&&u.state&&u.state.disabled},enable_node:function(u){var T,y;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,y=u.length;T<y;T++)this.enable_node(u[T]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.disabled=!1,this.get_node(u,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1),this.trigger("enable_node",{node:u})},disable_node:function(u){var T,y;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,y=u.length;T<y;T++)this.disable_node(u[T]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.disabled=!0,this.get_node(u,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0),this.trigger("disable_node",{node:u})},is_hidden:function(u){return u=this.get_node(u),u.state.hidden===!0},hide_node:function(u,T){var y,S;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,S=u.length;y<S;y++)this.hide_node(u[y],!0);return T||this.redraw(),!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.hidden||(u.state.hidden=!0,this._node_changed(u.parent),T||this.redraw(),this.trigger("hide_node",{node:u}))},show_node:function(u,T){var y,S;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,S=u.length;y<S;y++)this.show_node(u[y],!0);return T||this.redraw(),!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;u.state.hidden&&(u.state.hidden=!1,this._node_changed(u.parent),T||this.redraw(),this.trigger("show_node",{node:u}))},hide_all:function(u){var T,y=this._model.data,S=[];for(T in y)y.hasOwnProperty(T)&&T!==e.jstree.root&&!y[T].state.hidden&&(y[T].state.hidden=!0,S.push(T));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("hide_all",{nodes:S}),S},show_all:function(u){var T,y=this._model.data,S=[];for(T in y)y.hasOwnProperty(T)&&T!==e.jstree.root&&y[T].state.hidden&&(y[T].state.hidden=!1,S.push(T));return this._model.force_full_redraw=!0,u||this.redraw(),this.trigger("show_all",{nodes:S}),S},activate_node:function(u,T){if(this.is_disabled(u))return!1;if((!T||typeof T!="object")&&(T={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==i?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),!this.settings.core.multiple||!T.metaKey&&!T.ctrlKey&&!T.shiftKey||T.shiftKey&&(!this._data.core.last_clicked||!this.get_parent(u)||this.get_parent(u)!==this._data.core.last_clicked.parent))!this.settings.core.multiple&&(T.metaKey||T.ctrlKey||T.shiftKey)&&this.is_selected(u)?this.deselect_node(u,!1,T):((this.settings.core.allow_reselect||!this.is_selected(u)||this._data.core.selected.length!==1)&&(this.deselect_all(!0),this.select_node(u,!1,!1,T)),this._data.core.last_clicked=this.get_node(u));else if(T.shiftKey){var y=this.get_node(u).id,S=this._data.core.last_clicked.id,C=this.get_node(this._data.core.last_clicked.parent).children,M=!1,I,U;for(I=0,U=C.length;I<U;I+=1)C[I]===y&&(M=!M),C[I]===S&&(M=!M),!this.is_disabled(C[I])&&(M||C[I]===y||C[I]===S)?this.is_hidden(C[I])||this.select_node(C[I],!0,!1,T):T.ctrlKey||this.deselect_node(C[I],!0,T);this.trigger("changed",{action:"select_node",node:this.get_node(u),selected:this._data.core.selected,event:T})}else this.is_selected(u)?this.deselect_node(u,!1,T):(T.ctrlKey&&(this._data.core.last_clicked=this.get_node(u)),this.select_node(u,!1,!1,T));this.trigger("activate_node",{node:this.get_node(u),event:T})},hover_node:function(u){if(u=this.get_node(u,!0),!u||!u.length||u.children(".jstree-hovered").length)return!1;var T=this.element.find(".jstree-hovered"),y=this.element;T&&T.length&&this.dehover_node(T),u.children(".jstree-anchor").addClass("jstree-hovered"),this.trigger("hover_node",{node:this.get_node(u)}),setTimeout(function(){y.attr("aria-activedescendant",u[0].id)},0)},dehover_node:function(u){if(u=this.get_node(u,!0),!u||!u.length||!u.children(".jstree-hovered").length)return!1;u.children(".jstree-anchor").removeClass("jstree-hovered"),this.trigger("dehover_node",{node:this.get_node(u)})},select_node:function(u,T,y,S){var C,M,I;if(e.vakata.is_array(u)){for(u=u.slice(),M=0,I=u.length;M<I;M++)this.select_node(u[M],T,y,S);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;C=this.get_node(u,!0),u.state.selected||(u.state.selected=!0,this._data.core.selected.push(u.id),y||(C=this._open_to(u)),C&&C.length&&C.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:u,selected:this._data.core.selected,event:S}),T||this.trigger("changed",{action:"select_node",node:u,selected:this._data.core.selected,event:S}))},deselect_node:function(u,T,y){var S,C,M;if(e.vakata.is_array(u)){for(u=u.slice(),S=0,C=u.length;S<C;S++)this.deselect_node(u[S],T,y);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;M=this.get_node(u,!0),u.state.selected&&(u.state.selected=!1,this._data.core.selected=e.vakata.array_remove_item(this._data.core.selected,u.id),M.length&&M.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:u,selected:this._data.core.selected,event:y}),T||this.trigger("changed",{action:"deselect_node",node:u,selected:this._data.core.selected,event:y}))},select_all:function(u){var T=this._data.core.selected.concat([]),y,S;for(this._data.core.selected=this._model.data[e.jstree.root].children_d.concat(),y=0,S=this._data.core.selected.length;y<S;y++)this._model.data[this._data.core.selected[y]]&&(this._model.data[this._data.core.selected[y]].state.selected=!0);this.redraw(!0),this.trigger("select_all",{selected:this._data.core.selected}),u||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:T})},deselect_all:function(u){var T=this._data.core.selected.concat([]),y,S;for(y=0,S=this._data.core.selected.length;y<S;y++)this._model.data[this._data.core.selected[y]]&&(this._model.data[this._data.core.selected[y]].state.selected=!1);this._data.core.selected=[],this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_all",{selected:this._data.core.selected,node:T}),u||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:T})},is_selected:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.state.selected},get_selected:function(u){return u?e.map(this._data.core.selected,(function(T){return this.get_node(T)}).bind(this)):this._data.core.selected.slice()},get_top_selected:function(u){var T=this.get_selected(!0),y={},S,C,M,I;for(S=0,C=T.length;S<C;S++)y[T[S].id]=T[S];for(S=0,C=T.length;S<C;S++)for(M=0,I=T[S].children_d.length;M<I;M++)y[T[S].children_d[M]]&&delete y[T[S].children_d[M]];T=[];for(S in y)y.hasOwnProperty(S)&&T.push(S);return u?e.map(T,(function(U){return this.get_node(U)}).bind(this)):T},get_bottom_selected:function(u){var T=this.get_selected(!0),y=[],S,C;for(S=0,C=T.length;S<C;S++)T[S].children.length||y.push(T[S].id);return u?e.map(y,(function(M){return this.get_node(M)}).bind(this)):y},get_state:function(){var u={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}},T;for(T in this._model.data)this._model.data.hasOwnProperty(T)&&T!==e.jstree.root&&(this._model.data[T].state.loaded&&this.settings.core.loaded_state&&u.core.loaded.push(T),this._model.data[T].state.opened&&u.core.open.push(T),this._model.data[T].state.selected&&u.core.selected.push(T));return u},set_state:function(u,T){if(u){if(u.core&&u.core.selected&&u.core.initial_selection===i&&(u.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),u.core){var y,S;if(u.core.loaded)return!this.settings.core.loaded_state||!e.vakata.is_array(u.core.loaded)||!u.core.loaded.length?(delete u.core.loaded,this.set_state(u,T)):this._load_nodes(u.core.loaded,function(C){delete u.core.loaded,this.set_state(u,T)}),!1;if(u.core.open)return!e.vakata.is_array(u.core.open)||!u.core.open.length?(delete u.core.open,this.set_state(u,T)):this._load_nodes(u.core.open,function(C){this.open_node(C,!1,0),delete u.core.open,this.set_state(u,T)}),!1;if(u.core.scroll)return u.core.scroll&&u.core.scroll.left!==i&&this.element.scrollLeft(u.core.scroll.left),u.core.scroll&&u.core.scroll.top!==i&&this.element.scrollTop(u.core.scroll.top),delete u.core.scroll,this.set_state(u,T),!1;if(u.core.selected)return y=this,(u.core.initial_selection===i||u.core.initial_selection===this._data.core.selected.concat([]).sort().join(","))&&(this.deselect_all(),e.each(u.core.selected,function(C,M){y.select_node(M,!1,!0)})),delete u.core.initial_selection,delete u.core.selected,this.set_state(u,T),!1;for(S in u)u.hasOwnProperty(S)&&S!=="core"&&e.inArray(S,this.settings.plugins)===-1&&delete u[S];if(e.isEmptyObject(u.core))return delete u.core,this.set_state(u,T),!1}return e.isEmptyObject(u)?(u=null,T&&T.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(u,T){this._data.core.state=T===!0?{}:this.get_state(),T&&e.vakata.is_function(T)&&(this._data.core.state=T.call(this,this._data.core.state)),this._cnt=0,this._model.data={},this._model.data[e.jstree.root]={id:e.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}},this._data.core.selected=[],this._data.core.last_clicked=null,this._data.core.focused=null;var y=this.get_container_ul()[0].className;u||(this.element.html("<ul class='"+y+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'></i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'></i>"+this.get_string("Loading ...")+"</a></li></ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading")),this.load_node(e.jstree.root,function(S,C){C&&(this.get_container_ul()[0].className=y,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(e.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")})),this._data.core.state=null})},refresh_node:function(u){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var T=[],y=[],S=this._data.core.selected.concat([]);y.push(u.id),u.state.opened===!0&&T.push(u.id),this.get_node(u,!0).find(".jstree-open").each(function(){y.push(this.id),T.push(this.id)}),this._load_nodes(y,(function(C){this.open_node(T,!1,0),this.select_node(S),this.trigger("refresh_node",{node:u,nodes:C})}).bind(this),!1,!0)},set_id:function(u,T){if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;var y,S,C=this._model.data,M=u.id;for(T=T.toString(),C[u.parent].children[e.inArray(u.id,C[u.parent].children)]=T,y=0,S=u.parents.length;y<S;y++)C[u.parents[y]].children_d[e.inArray(u.id,C[u.parents[y]].children_d)]=T;for(y=0,S=u.children.length;y<S;y++)C[u.children[y]].parent=T;for(y=0,S=u.children_d.length;y<S;y++)C[u.children_d[y]].parents[e.inArray(u.id,C[u.children_d[y]].parents)]=T;return y=e.inArray(u.id,this._data.core.selected),y!==-1&&(this._data.core.selected[y]=T),y=this.get_node(u.id,!0),y&&(y.attr("id",T),this.element.attr("aria-activedescendant")===u.id&&this.element.attr("aria-activedescendant",T)),delete C[u.id],u.id=T,u.li_attr.id=T,C[T]=u,this.trigger("set_id",{node:u,new:u.id,old:M}),!0},get_text:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.text},set_text:function(u,T){var y,S;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,S=u.length;y<S;y++)this.set_text(u[y],T);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(u.text=T,this.get_node(u,!0).length&&this.redraw_node(u.id),this.trigger("set_text",{obj:u,text:T}),!0)},get_json:function(u,T,y){if(u=this.get_node(u||e.jstree.root),!u)return!1;T&&T.flat&&!y&&(y=[]);var S={id:u.id,text:u.text,icon:this.get_icon(u),li_attr:e.extend(!0,{},u.li_attr),a_attr:e.extend(!0,{},u.a_attr),state:{},data:T&&T.no_data?!1:e.extend(!0,e.vakata.is_array(u.data)?[]:{},u.data)},C,M;if(T&&T.flat?S.parent=u.parent:S.children=[],!T||!T.no_state)for(C in u.state)u.state.hasOwnProperty(C)&&(S.state[C]=u.state[C]);else delete S.state;if(T&&T.no_li_attr&&delete S.li_attr,T&&T.no_a_attr&&delete S.a_attr,T&&T.no_id&&(delete S.id,S.li_attr&&S.li_attr.id&&delete S.li_attr.id,S.a_attr&&S.a_attr.id&&delete S.a_attr.id),T&&T.flat&&u.id!==e.jstree.root&&y.push(S),!T||!T.no_children)for(C=0,M=u.children.length;C<M;C++)T&&T.flat?this.get_json(u.children[C],T,y):S.children.push(this.get_json(u.children[C],T));return T&&T.flat?y:u.id===e.jstree.root?S.children:S},create_node:function(u,T,y,S,C){if(u===null&&(u=e.jstree.root),u=this.get_node(u),!u)return!1;if(y=y===i?"last":y,!y.toString().match(/^(before|after)$/)&&!C&&!this.is_loaded(u))return this.load_node(u,function(){this.create_node(u,T,y,S,!0)});T||(T={text:this.get_string("New node")}),typeof T=="string"?T={text:T}:T=e.extend(!0,{},T),T.text===i&&(T.text=this.get_string("New node"));var M,I,U,z;switch(u.id===e.jstree.root&&(y==="before"&&(y="first"),y==="after"&&(y="last")),y){case"before":M=this.get_node(u.parent),y=e.inArray(u.id,M.children),u=M;break;case"after":M=this.get_node(u.parent),y=e.inArray(u.id,M.children)+1,u=M;break;case"inside":case"first":y=0;break;case"last":y=u.children.length;break;default:y||(y=0);break}if(y>u.children.length&&(y=u.children.length),T.id===i&&(T.id=!0),!this.check("create_node",T,u,y))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(T.id===!0&&delete T.id,T=this._parse_model_from_json(T,u.id,u.parents.concat()),!T)return!1;for(M=this.get_node(T),I=[],I.push(T),I=I.concat(M.children_d),this.trigger("model",{nodes:I,parent:u.id}),u.children_d=u.children_d.concat(I),U=0,z=u.parents.length;U<z;U++)this._model.data[u.parents[U]].children_d=this._model.data[u.parents[U]].children_d.concat(I);for(T=M,M=[],U=0,z=u.children.length;U<z;U++)M[U>=y?U+1:U]=u.children[U];return M[y]=T.id,u.children=M,this.redraw_node(u,!0),this.trigger("create_node",{node:this.get_node(T),parent:u.id,position:y}),S&&S.call(this,this.get_node(T)),T.id},rename_node:function(u,T){var y,S,C;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,S=u.length;y<S;y++)this.rename_node(u[y],T);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(C=u.text,this.check("rename_node",u,this.get_parent(u),T)?(this.set_text(u,T),this.trigger("rename_node",{node:u,text:T,old:C}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(u){var T,y,S,C,M,I,U,z,g,x,A,F;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,y=u.length;T<y;T++)this.delete_node(u[T]);return!0}if(u=this.get_node(u),!u||u.id===e.jstree.root)return!1;if(S=this.get_node(u.parent),C=e.inArray(u.id,S.children),x=!1,!this.check("delete_node",u,S,C))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(C!==-1&&(S.children=e.vakata.array_remove(S.children,C)),M=u.children_d.concat([]),M.push(u.id),I=0,U=u.parents.length;I<U;I++)this._model.data[u.parents[I]].children_d=e.vakata.array_filter(this._model.data[u.parents[I]].children_d,function(B){return e.inArray(B,M)===-1});for(z=0,g=M.length;z<g;z++)if(this._model.data[M[z]].state.selected){x=!0;break}for(x&&(this._data.core.selected=e.vakata.array_filter(this._data.core.selected,function(B){return e.inArray(B,M)===-1})),this.trigger("delete_node",{node:u,parent:S.id}),x&&this.trigger("changed",{action:"delete_node",node:u,selected:this._data.core.selected,parent:S.id}),z=0,g=M.length;z<g;z++)delete this._model.data[M[z]];return e.inArray(this._data.core.focused,M)!==-1&&(this._data.core.focused=null,A=this.element[0].scrollTop,F=this.element[0].scrollLeft,S.id===e.jstree.root?this._model.data[e.jstree.root].children[0]&&this.get_node(this._model.data[e.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(S,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=A,this.element[0].scrollLeft=F),this.redraw_node(S,!0),!0},check:function(u,T,y,S,C){T=T&&T.id?T:this.get_node(T),y=y&&y.id?y:this.get_node(y);var M=u.match(/^(move_node|copy_node|create_node)$/i)?y:T,I=this.settings.core.check_callback;if(u==="move_node"||u==="copy_node"){if((!C||!C.is_multi)&&u==="move_node"&&e.inArray(T.id,y.children)===S)return this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:y&&y.id?y.id:!1})},!1;if((!C||!C.is_multi)&&(T.id===y.id||u==="move_node"&&e.inArray(T.id,y.children)===S||e.inArray(y.id,T.children_d)!==-1))return this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:y&&y.id?y.id:!1})},!1}return M&&M.data&&(M=M.data),M&&M.functions&&(M.functions[u]===!1||M.functions[u]===!0)?(M.functions[u]===!1&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+u,data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:y&&y.id?y.id:!1})}),M.functions[u]):I===!1||e.vakata.is_function(I)&&I.call(this,u,T,y,S,C)===!1||I&&I[u]===!1?(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+u,data:JSON.stringify({chk:u,pos:S,obj:T&&T.id?T.id:!1,par:y&&y.id?y.id:!1})},!1):!0},last_error:function(){return this._data.core.last_error},move_node:function(u,T,y,S,C,M,I){var U,z,g,x,A,F,B,j,$,G,he,Q,Z,ve;if(T=this.get_node(T),y=y===i?0:y,!T)return!1;if(!y.toString().match(/^(before|after)$/)&&!C&&!this.is_loaded(T))return this.load_node(T,function(){this.move_node(u,T,y,S,!0,!1,I)});if(e.vakata.is_array(u))if(u.length===1)u=u[0];else{for(U=0,z=u.length;U<z;U++)($=this.move_node(u[U],T,y,S,C,!1,I))&&(T=$,y="after");return this.redraw(),!0}if(u=u&&u.id!==i?u:this.get_node(u),!u||u.id===e.jstree.root)return!1;if(g=(u.parent||e.jstree.root).toString(),A=!y.toString().match(/^(before|after)$/)||T.id===e.jstree.root?T:this.get_node(T.parent),F=I||(this._model.data[u.id]?this:e.jstree.reference(u.id)),B=!F||!F._id||this._id!==F._id,x=F&&F._id&&g&&F._model.data[g]&&F._model.data[g].children?e.inArray(u.id,F._model.data[g].children):-1,F&&F._id&&(u=F._model.data[u.id]),B)return($=this.copy_node(u,T,y,S,C,!1,I))?(F&&F.delete_node(u),$):!1;switch(T.id===e.jstree.root&&(y==="before"&&(y="first"),y==="after"&&(y="last")),y){case"before":y=e.inArray(T.id,A.children);break;case"after":y=e.inArray(T.id,A.children)+1;break;case"inside":case"first":y=0;break;case"last":y=A.children.length;break;default:y||(y=0);break}if(y>A.children.length&&(y=A.children.length),!this.check("move_node",u,A,y,{core:!0,origin:I,is_multi:F&&F._id&&F._id!==this._id,is_foreign:!F||!F._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(u.parent===A.id){for(j=A.children.concat(),$=e.inArray(u.id,j),$!==-1&&(j=e.vakata.array_remove(j,$),y>$&&y--),$=[],G=0,he=j.length;G<he;G++)$[G>=y?G+1:G]=j[G];$[y]=u.id,A.children=$,this._node_changed(A.id),this.redraw(A.id===e.jstree.root)}else{for($=u.children_d.concat(),$.push(u.id),G=0,he=u.parents.length;G<he;G++){for(j=[],ve=F._model.data[u.parents[G]].children_d,Q=0,Z=ve.length;Q<Z;Q++)e.inArray(ve[Q],$)===-1&&j.push(ve[Q]);F._model.data[u.parents[G]].children_d=j}for(F._model.data[g].children=e.vakata.array_remove_item(F._model.data[g].children,u.id),G=0,he=A.parents.length;G<he;G++)this._model.data[A.parents[G]].children_d=this._model.data[A.parents[G]].children_d.concat($);for(j=[],G=0,he=A.children.length;G<he;G++)j[G>=y?G+1:G]=A.children[G];for(j[y]=u.id,A.children=j,A.children_d.push(u.id),A.children_d=A.children_d.concat(u.children_d),u.parent=A.id,$=A.parents.concat(),$.unshift(A.id),ve=u.parents.length,u.parents=$,$=$.concat(),G=0,he=u.children_d.length;G<he;G++)this._model.data[u.children_d[G]].parents=this._model.data[u.children_d[G]].parents.slice(0,ve*-1),Array.prototype.push.apply(this._model.data[u.children_d[G]].parents,$);(g===e.jstree.root||A.id===e.jstree.root)&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||(this._node_changed(g),this._node_changed(A.id)),M||this.redraw()}return S&&S.call(this,u,A,y),this.trigger("move_node",{node:u,parent:A.id,position:y,old_parent:g,old_position:x,is_multi:F&&F._id&&F._id!==this._id,is_foreign:!F||!F._id,old_instance:F,new_instance:this}),u.id},copy_node:function(u,T,y,S,C,M,I){var U,z,g,x,A,F,B,j,$,G;if(T=this.get_node(T),y=y===i?0:y,!T)return!1;if(!y.toString().match(/^(before|after)$/)&&!C&&!this.is_loaded(T))return this.load_node(T,function(){this.copy_node(u,T,y,S,!0,!1,I)});if(e.vakata.is_array(u))if(u.length===1)u=u[0];else{for(U=0,z=u.length;U<z;U++)(x=this.copy_node(u[U],T,y,S,C,!0,I))&&(T=x,y="after");return this.redraw(),!0}if(u=u&&u.id!==i?u:this.get_node(u),!u||u.id===e.jstree.root)return!1;switch(j=(u.parent||e.jstree.root).toString(),$=!y.toString().match(/^(before|after)$/)||T.id===e.jstree.root?T:this.get_node(T.parent),G=I||(this._model.data[u.id]?this:e.jstree.reference(u.id)),!G||!G._id||(this._id,G._id),G&&G._id&&(u=G._model.data[u.id]),T.id===e.jstree.root&&(y==="before"&&(y="first"),y==="after"&&(y="last")),y){case"before":y=e.inArray(T.id,$.children);break;case"after":y=e.inArray(T.id,$.children)+1;break;case"inside":case"first":y=0;break;case"last":y=$.children.length;break;default:y||(y=0);break}if(y>$.children.length&&(y=$.children.length),!this.check("copy_node",u,$,y,{core:!0,origin:I,is_multi:G&&G._id&&G._id!==this._id,is_foreign:!G||!G._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(B=G?G.get_json(u,{no_id:!0,no_data:!0,no_state:!0}):u,!B||(B.id===!0&&delete B.id,B=this._parse_model_from_json(B,$.id,$.parents.concat()),!B))return!1;for(x=this.get_node(B),u&&u.state&&u.state.loaded===!1&&(x.state.loaded=!1),g=[],g.push(B),g=g.concat(x.children_d),this.trigger("model",{nodes:g,parent:$.id}),A=0,F=$.parents.length;A<F;A++)this._model.data[$.parents[A]].children_d=this._model.data[$.parents[A]].children_d.concat(g);for(g=[],A=0,F=$.children.length;A<F;A++)g[A>=y?A+1:A]=$.children[A];return g[y]=x.id,$.children=g,$.children_d.push(x.id),$.children_d=$.children_d.concat(x.children_d),$.id===e.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed($.id),M||this.redraw($.id===e.jstree.root),S&&S.call(this,x,$,y),this.trigger("copy_node",{node:x,original:u,parent:$.id,position:y,old_parent:j,old_position:G&&G._id&&j&&G._model.data[j]&&G._model.data[j].children?e.inArray(u.id,G._model.data[j].children):-1,is_multi:G&&G._id&&G._id!==this._id,is_foreign:!G||!G._id,old_instance:G,new_instance:this}),x.id},cut:function(u){if(u||(u=this._data.core.selected.concat()),e.vakata.is_array(u)||(u=[u]),!u.length)return!1;var T=[],y,S,C;for(S=0,C=u.length;S<C;S++)y=this.get_node(u[S]),y&&(y.id||y.id===0)&&y.id!==e.jstree.root&&T.push(y);if(!T.length)return!1;a=T,o=this,l="move_node",this.trigger("cut",{node:u})},copy:function(u){if(u||(u=this._data.core.selected.concat()),e.vakata.is_array(u)||(u=[u]),!u.length)return!1;var T=[],y,S,C;for(S=0,C=u.length;S<C;S++)y=this.get_node(u[S]),y&&y.id!==i&&y.id!==e.jstree.root&&T.push(y);if(!T.length)return!1;a=T,o=this,l="copy_node",this.trigger("copy",{node:u})},get_buffer:function(){return{mode:l,node:a,inst:o}},can_paste:function(){return l!==!1&&a!==!1},paste:function(u,T){if(u=this.get_node(u),!u||!l||!l.match(/^(copy_node|move_node)$/)||!a)return!1;this[l](a,u,T,!1,!1,!1,o)&&this.trigger("paste",{parent:u.id,node:a,mode:l}),a=!1,l=!1,o=!1},clear_buffer:function(){a=!1,l=!1,o=!1,this.trigger("clear_buffer")},edit:function(u,T,y){var S,C,M,I,U,z,g,x,A,F=!1;if(u=this.get_node(u),!u)return!1;if(!this.check("edit",u,this.get_parent(u)))return this.settings.core.error.call(this,this._data.core.last_error),!1;A=u,T=typeof T=="string"?T:u.text,this.set_text(u,""),u=this._open_to(u),A.text=T,S=this._data.core.rtl,C=this.element.width(),this._data.core.focused=A.id,M=u.children(".jstree-anchor").trigger("focus"),I=e("<span></span>");/*!
oi = obj.children("i:visible"),
ai = a.children("i:visible"),
w1 = oi.width() * oi.length,
w2 = ai.width() * ai.length,
*/U=T,z=e("<div></div>",{css:{position:"absolute",top:"-200px",left:S?"0px":"-1000px",visibility:"hidden"}}).appendTo(m.body),g=e("<input />",{value:U,class:"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},on:{blur:(function(B){B.stopImmediatePropagation(),B.preventDefault();var j=I.children(".jstree-rename-input"),$=j.val(),G=this.settings.core.force_text,he;$===""&&($=U),z.remove(),I.replaceWith(M),I.remove(),U=G?U:e("<div></div>").append(e.parseHTML(U)).html(),u=this.get_node(u),this.set_text(u,U),he=!!this.rename_node(u,G?e("<div></div>").text($).text():e("<div></div>").append(e.parseHTML($)).html()),he||this.set_text(u,U),this._data.core.focused=A.id,setTimeout((function(){var Q=this.get_node(A.id,!0);Q.length&&(this._data.core.focused=A.id,Q.children(".jstree-anchor").trigger("focus"))}).bind(this),0),y&&y.call(this,A,he,F,$),g=null}).bind(this),keydown:function(B){var j=B.which;j===27&&(F=!0,this.value=U),(j===27||j===13||j===37||j===38||j===39||j===40||j===32)&&B.stopImmediatePropagation(),(j===27||j===13)&&(B.preventDefault(),this.blur())},click:function(B){B.stopImmediatePropagation()},mousedown:function(B){B.stopImmediatePropagation()},keyup:function(B){g.width(Math.min(z.text("pW"+this.value).width(),C))},keypress:function(B){if(B.which===13)return!1}}}),x={fontFamily:M.css("fontFamily")||"",fontSize:M.css("fontSize")||"",fontWeight:M.css("fontWeight")||"",fontStyle:M.css("fontStyle")||"",fontStretch:M.css("fontStretch")||"",fontVariant:M.css("fontVariant")||"",letterSpacing:M.css("letterSpacing")||"",wordSpacing:M.css("wordSpacing")||""},I.attr("class",M.attr("class")).append(M.contents().clone()).append(g),M.replaceWith(I),z.css(x),g.css(x).width(Math.min(z.text("pW"+g[0].value).width(),C))[0].select(),e(m).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(B){g&&B.target!==g&&e(g).trigger("blur")})},set_theme:function(u,T){if(!u)return!1;if(T===!0){var y=this.settings.core.themes.dir;y||(y=e.jstree.path+"/themes"),T=y+"/"+u+"/style.css"}T&&e.inArray(T,h)===-1&&(e("head").append('<link rel="stylesheet" href="'+T+'" type="text/css" />'),h.push(T)),this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name),this._data.core.themes.name=u,this.element.addClass("jstree-"+u),this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+u+"-responsive"),this.trigger("set_theme",{theme:u})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(u){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant),this._data.core.themes.variant=u,u&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0,this.get_container_ul().addClass("jstree-striped"),this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1,this.get_container_ul().removeClass("jstree-striped"),this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0,this.get_container_ul().removeClass("jstree-no-dots"),this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1,this.get_container_ul().addClass("jstree-no-dots"),this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0,this.get_container_ul().removeClass("jstree-no-icons"),this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1,this.get_container_ul().addClass("jstree-no-icons"),this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0,this.get_container_ul().addClass("jstree-ellipsis"),this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1,this.get_container_ul().removeClass("jstree-ellipsis"),this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(u,T){var y,S,C,M;if(e.vakata.is_array(u)){for(u=u.slice(),y=0,S=u.length;y<S;y++)this.set_icon(u[y],T);return!0}return u=this.get_node(u),!u||u.id===e.jstree.root?!1:(M=u.icon,u.icon=T===!0||T===null||T===i||T===""?!0:T,C=this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon"),T===!1?(C.removeClass("jstree-themeicon-custom "+M).css("background","").removeAttr("rel"),this.hide_icon(u)):T===!0||T===null||T===i||T===""?(C.removeClass("jstree-themeicon-custom "+M).css("background","").removeAttr("rel"),M===!1&&this.show_icon(u)):T.indexOf("/")===-1&&T.indexOf(".")===-1?(C.removeClass(M).css("background",""),C.addClass(T+" jstree-themeicon-custom").attr("rel",T),M===!1&&this.show_icon(u)):(C.removeClass(M).css("background",""),C.addClass("jstree-themeicon-custom").css("background","url('"+T+"') center center no-repeat").attr("rel",T),M===!1&&this.show_icon(u)),!0)},get_icon:function(u){return u=this.get_node(u),!u||u.id===e.jstree.root?!1:u.icon},hide_icon:function(u){var T,y;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,y=u.length;T<y;T++)this.hide_icon(u[T]);return!0}return u=this.get_node(u),!u||u===e.jstree.root?!1:(u.icon=!1,this.get_node(u,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(u){var T,y,S;if(e.vakata.is_array(u)){for(u=u.slice(),T=0,y=u.length;T<y;T++)this.show_icon(u[T]);return!0}return u=this.get_node(u),!u||u===e.jstree.root?!1:(S=this.get_node(u,!0),u.icon=S.length?S.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"):!0,u.icon||(u.icon=!0),S.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},e.vakata={},e.vakata.attributes=function(u,T){u=e(u)[0];var y=T?{}:[];return u&&u.attributes&&e.each(u.attributes,function(S,C){e.inArray(C.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])===-1&&C.value!==null&&e.vakata.trim(C.value)!==""&&(T?y[C.name]=C.value:y.push(C.name))}),y},e.vakata.array_unique=function(u){var T=[],y,S,C={};for(y=0,S=u.length;y<S;y++)C[u[y]]===i&&(T.push(u[y]),C[u[y]]=!0);return T},e.vakata.array_remove=function(u,T){return u.splice(T,1),u},e.vakata.array_remove_item=function(u,T){var y=e.inArray(T,u);return y!==-1?e.vakata.array_remove(u,y):u},e.vakata.array_filter=function(u,T,y,S,C){if(u.filter)return u.filter(T,y);S=[];for(C in u)~~C+""==C+""&&C>=0&&T.call(y,u[C],+C,u)&&S.push(u[C]);return S},e.vakata.trim=function(u){return String.prototype.trim?String.prototype.trim.call(u.toString()):u.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.vakata.is_function=function(u){return typeof u=="function"&&typeof u.nodeType!="number"},e.vakata.is_array=Array.isArray||function(u){return Object.prototype.toString.call(u)==="[object Array]"},Function.prototype.bind||(Function.prototype.bind=function(){var u=this,T=arguments[0],y=Array.prototype.slice.call(arguments,1);if(typeof u!="function")throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var S=y.concat(Array.prototype.slice.call(arguments));return u.apply(T,S)}}),e.jstree.plugins.changed=function(u,T){var y=[];this.trigger=function(S,C){var M,I;if(C||(C={}),S.replace(".jstree","")==="changed"){C.changed={selected:[],deselected:[]};var U={};for(M=0,I=y.length;M<I;M++)U[y[M]]=1;for(M=0,I=C.selected.length;M<I;M++)U[C.selected[M]]?U[C.selected[M]]=2:C.changed.selected.push(C.selected[M]);for(M=0,I=y.length;M<I;M++)U[y[M]]===1&&C.changed.deselected.push(y[M]);y=C.selected.slice()}T.trigger.call(this,S,C)},this.refresh=function(S,C){return y=[],T.refresh.apply(this,arguments)}};var k=m.createElement("I");k.className="jstree-icon jstree-checkbox",k.setAttribute("role","presentation"),e.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},e.jstree.plugins.checkbox=function(u,T){this.bind=function(){T.bind.call(this),this._data.checkbox.uto=!1,this._data.checkbox.selected=[],this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined"),this.element.on("init.jstree",(function(){this._data.checkbox.visible=this.settings.checkbox.visible,this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked"),this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}).bind(this)).on("loading.jstree",(function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}).bind(this)),this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",(function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}).bind(this)),this.settings.checkbox.tie_selection||this.element.on("model.jstree",(function(y,S){var C=this._model.data;C[S.parent];var M=S.nodes,I,U;for(I=0,U=M.length;I<U;I++)C[M[I]].state.checked=C[M[I]].state.checked||C[M[I]].original&&C[M[I]].original.state&&C[M[I]].original.state.checked,C[M[I]].state.checked&&this._data.checkbox.selected.push(M[I])}).bind(this)),(this.settings.checkbox.cascade.indexOf("up")!==-1||this.settings.checkbox.cascade.indexOf("down")!==-1)&&this.element.on("model.jstree",(function(y,S){var C=this._model.data,M=C[S.parent],I=S.nodes,U=[],z,g,x,A,F,B,j=this.settings.checkbox.cascade,$=this.settings.checkbox.tie_selection;if(j.indexOf("down")!==-1){if(M.state[$?"selected":"checked"]){for(g=0,x=I.length;g<x;g++)C[I[g]].state[$?"selected":"checked"]=!0;this._data[$?"core":"checkbox"].selected=this._data[$?"core":"checkbox"].selected.concat(I)}else for(g=0,x=I.length;g<x;g++)if(C[I[g]].state[$?"selected":"checked"]){for(A=0,F=C[I[g]].children_d.length;A<F;A++)C[C[I[g]].children_d[A]].state[$?"selected":"checked"]=!0;this._data[$?"core":"checkbox"].selected=this._data[$?"core":"checkbox"].selected.concat(C[I[g]].children_d)}}if(j.indexOf("up")!==-1){for(g=0,x=M.children_d.length;g<x;g++)C[M.children_d[g]].children.length||U.push(C[M.children_d[g]].parent);for(U=e.vakata.array_unique(U),A=0,F=U.length;A<F;A++)for(M=C[U[A]];M&&M.id!==e.jstree.root;){for(z=0,g=0,x=M.children.length;g<x;g++)z+=C[M.children[g]].state[$?"selected":"checked"];if(z===x)M.state[$?"selected":"checked"]=!0,this._data[$?"core":"checkbox"].selected.push(M.id),B=this.get_node(M,!0),B&&B.length&&B.children(".jstree-anchor").attr("aria-selected",!0).addClass($?"jstree-clicked":"jstree-checked");else break;M=this.get_node(M.parent)}}this._data[$?"core":"checkbox"].selected=e.vakata.array_unique(this._data[$?"core":"checkbox"].selected)}).bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",(function(y,S){var C=S.node,M=this._model.data,I=this.get_node(C.parent),U,z,g,x,A=this.settings.checkbox.cascade,F=this.settings.checkbox.tie_selection,B={},j=this._data[F?"core":"checkbox"].selected;for(U=0,z=j.length;U<z;U++)B[j[U]]=!0;if(A.indexOf("down")!==-1){var $=this._cascade_new_checked_state(C.id,!0),G=C.children_d.concat(C.id);for(U=0,z=G.length;U<z;U++)$.indexOf(G[U])>-1?B[G[U]]=!0:delete B[G[U]]}if(A.indexOf("up")!==-1)for(;I&&I.id!==e.jstree.root;){for(g=0,U=0,z=I.children.length;U<z;U++)g+=M[I.children[U]].state[F?"selected":"checked"];if(g===z)I.state[F?"selected":"checked"]=!0,B[I.id]=!0,x=this.get_node(I,!0),x&&x.length&&x.children(".jstree-anchor").attr("aria-selected",!0).addClass(F?"jstree-clicked":"jstree-checked");else break;I=this.get_node(I.parent)}j=[];for(U in B)B.hasOwnProperty(U)&&j.push(U);this._data[F?"core":"checkbox"].selected=j}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",(function(y,S){var C=this.get_node(e.jstree.root),M=this._model.data,I,U,z;for(I=0,U=C.children_d.length;I<U;I++)z=M[C.children_d[I]],z&&z.original&&z.original.state&&z.original.state.undetermined&&(z.original.state.undetermined=!1)}).bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",(function(y,S){var C=S.node;this.get_node(C,!0);var M,I,U,z=this.settings.checkbox.cascade,g=this.settings.checkbox.tie_selection,x=this._data[g?"core":"checkbox"].selected,A=C.children_d.concat(C.id);if(z.indexOf("down")!==-1){var F=this._cascade_new_checked_state(C.id,!1);x=e.vakata.array_filter(x,function(B){return A.indexOf(B)===-1||F.indexOf(B)>-1})}if(z.indexOf("up")!==-1&&x.indexOf(C.id)===-1){for(M=0,I=C.parents.length;M<I;M++)U=this._model.data[C.parents[M]],U.state[g?"selected":"checked"]=!1,U&&U.original&&U.original.state&&U.original.state.undetermined&&(U.original.state.undetermined=!1),U=this.get_node(C.parents[M],!0),U&&U.length&&U.children(".jstree-anchor").attr("aria-selected",!1).removeClass(g?"jstree-clicked":"jstree-checked");x=e.vakata.array_filter(x,function(B){return C.parents.indexOf(B)===-1})}this._data[g?"core":"checkbox"].selected=x}).bind(this)),this.settings.checkbox.cascade.indexOf("up")!==-1&&this.element.on("delete_node.jstree",(function(y,S){for(var C=this.get_node(S.parent),M=this._model.data,I,U,z,g,x=this.settings.checkbox.tie_selection;C&&C.id!==e.jstree.root&&!C.state[x?"selected":"checked"];){for(z=0,I=0,U=C.children.length;I<U;I++)z+=M[C.children[I]].state[x?"selected":"checked"];if(U>0&&z===U)C.state[x?"selected":"checked"]=!0,this._data[x?"core":"checkbox"].selected.push(C.id),g=this.get_node(C,!0),g&&g.length&&g.children(".jstree-anchor").attr("aria-selected",!0).addClass(x?"jstree-clicked":"jstree-checked");else break;C=this.get_node(C.parent)}}).bind(this)).on("move_node.jstree",(function(y,S){var C=S.is_multi,M=S.old_parent,I=this.get_node(S.parent),U=this._model.data,z,g,x,A,F,B=this.settings.checkbox.tie_selection;if(!C)for(z=this.get_node(M);z&&z.id!==e.jstree.root&&!z.state[B?"selected":"checked"];){for(g=0,x=0,A=z.children.length;x<A;x++)g+=U[z.children[x]].state[B?"selected":"checked"];if(A>0&&g===A)z.state[B?"selected":"checked"]=!0,this._data[B?"core":"checkbox"].selected.push(z.id),F=this.get_node(z,!0),F&&F.length&&F.children(".jstree-anchor").attr("aria-selected",!0).addClass(B?"jstree-clicked":"jstree-checked");else break;z=this.get_node(z.parent)}for(z=I;z&&z.id!==e.jstree.root;){for(g=0,x=0,A=z.children.length;x<A;x++)g+=U[z.children[x]].state[B?"selected":"checked"];if(g===A)z.state[B?"selected":"checked"]||(z.state[B?"selected":"checked"]=!0,this._data[B?"core":"checkbox"].selected.push(z.id),F=this.get_node(z,!0),F&&F.length&&F.children(".jstree-anchor").attr("aria-selected",!0).addClass(B?"jstree-clicked":"jstree-checked"));else if(z.state[B?"selected":"checked"])z.state[B?"selected":"checked"]=!1,this._data[B?"core":"checkbox"].selected=e.vakata.array_remove_item(this._data[B?"core":"checkbox"].selected,z.id),F=this.get_node(z,!0),F&&F.length&&F.children(".jstree-anchor").attr("aria-selected",!1).removeClass(B?"jstree-clicked":"jstree-checked");else break;z=this.get_node(z.parent)}}).bind(this))},this.get_undetermined=function(y){if(this.settings.checkbox.cascade.indexOf("undetermined")===-1)return[];var S,C,M,I,U={},z=this._model.data,g=this.settings.checkbox.tie_selection,x=this._data[g?"core":"checkbox"].selected,A=[],F=this,B=[];for(S=0,C=x.length;S<C;S++)if(z[x[S]]&&z[x[S]].parents)for(M=0,I=z[x[S]].parents.length;M<I&&U[z[x[S]].parents[M]]===i;M++)z[x[S]].parents[M]!==e.jstree.root&&(U[z[x[S]].parents[M]]=!0,A.push(z[x[S]].parents[M]));for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var j=F.get_node(this),$;if(j){if(j.state.loaded){for(S=0,C=j.children_d.length;S<C;S++)if($=z[j.children_d[S]],!$.state.loaded&&$.original&&$.original.state&&$.original.state.undetermined&&$.original.state.undetermined===!0)for(U[$.id]===i&&$.id!==e.jstree.root&&(U[$.id]=!0,A.push($.id)),M=0,I=$.parents.length;M<I;M++)U[$.parents[M]]===i&&$.parents[M]!==e.jstree.root&&(U[$.parents[M]]=!0,A.push($.parents[M]))}else if(j.original&&j.original.state&&j.original.state.undetermined&&j.original.state.undetermined===!0)for(U[j.id]===i&&j.id!==e.jstree.root&&(U[j.id]=!0,A.push(j.id)),M=0,I=j.parents.length;M<I;M++)U[j.parents[M]]===i&&j.parents[M]!==e.jstree.root&&(U[j.parents[M]]=!0,A.push(j.parents[M]))}}),S=0,C=A.length;S<C;S++)z[A[S]].state[g?"selected":"checked"]||B.push(y?z[A[S]]:A[S]);return B},this._undetermined=function(){if(this.element!==null){var y=this.get_undetermined(!1),S,C,M;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),S=0,C=y.length;S<C;S++)M=this.get_node(y[S],!0),M&&M.length&&M.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}},this.redraw_node=function(y,S,C,M){if(y=T.redraw_node.apply(this,arguments),y){var I,U,z=null,g=null;for(I=0,U=y.childNodes.length;I<U;I++)if(y.childNodes[I]&&y.childNodes[I].className&&y.childNodes[I].className.indexOf("jstree-anchor")!==-1){z=y.childNodes[I];break}z&&(!this.settings.checkbox.tie_selection&&this._model.data[y.id].state.checked&&(z.className+=" jstree-checked"),g=k.cloneNode(!1),this._model.data[y.id].state.checkbox_disabled&&(g.className+=" jstree-checkbox-disabled"),z.insertBefore(g,z.childNodes[0]))}return!C&&this.settings.checkbox.cascade.indexOf("undetermined")!==-1&&(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),y},this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0,this.get_container_ul().removeClass("jstree-no-checkboxes")},this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1,this.get_container_ul().addClass("jstree-no-checkboxes")},this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()},this.is_undetermined=function(y){y=this.get_node(y);var S=this.settings.checkbox.cascade,C,M,I=this.settings.checkbox.tie_selection,U=this._data[I?"core":"checkbox"].selected,z=this._model.data;if(!y||y.state[I?"selected":"checked"]===!0||S.indexOf("undetermined")===-1||S.indexOf("down")===-1&&S.indexOf("up")===-1)return!1;if(!y.state.loaded&&y.original.state.undetermined===!0)return!0;for(C=0,M=y.children_d.length;C<M;C++)if(e.inArray(y.children_d[C],U)!==-1||!z[y.children_d[C]].state.loaded&&z[y.children_d[C]].original.state.undetermined)return!0;return!1},this.disable_checkbox=function(y){var S,C,M;if(e.vakata.is_array(y)){for(y=y.slice(),S=0,C=y.length;S<C;S++)this.disable_checkbox(y[S]);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;M=this.get_node(y,!0),y.state.checkbox_disabled||(y.state.checkbox_disabled=!0,M&&M.length&&M.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:y}))},this.enable_checkbox=function(y){var S,C,M;if(e.vakata.is_array(y)){for(y=y.slice(),S=0,C=y.length;S<C;S++)this.enable_checkbox(y[S]);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;M=this.get_node(y,!0),y.state.checkbox_disabled&&(y.state.checkbox_disabled=!1,M&&M.length&&M.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:y}))},this.activate_node=function(y,S){if(e(S.target).hasClass("jstree-checkbox-disabled"))return!1;if(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||e(S.target).hasClass("jstree-checkbox"))&&(S.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!e(S.target).hasClass("jstree-checkbox"))return T.activate_node.call(this,y,S);if(this.is_disabled(y))return!1;this.is_checked(y)?this.uncheck_node(y,S):this.check_node(y,S),this.trigger("activate_node",{node:this.get_node(y)})},this.delete_node=function(y){if(this.settings.checkbox.tie_selection||e.vakata.is_array(y))return T.delete_node.call(this,y);var S,C,M,I=!1;if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;for(S=y.children_d.concat([]),S.push(y.id),C=0,M=S.length;C<M;C++)if(this._model.data[S[C]].state.checked){I=!0;break}return I&&(this._data.checkbox.selected=e.vakata.array_filter(this._data.checkbox.selected,function(U){return e.inArray(U,S)===-1})),T.delete_node.call(this,y)},this._cascade_new_checked_state=function(y,S){var C=this,M=this.settings.checkbox.tie_selection,I=this._model.data[y],U=[],z=[],g,x,A;if((this.settings.checkbox.cascade_to_disabled||!I.state.disabled)&&(this.settings.checkbox.cascade_to_hidden||!I.state.hidden)){if(I.children)for(g=0,x=I.children.length;g<x;g++){var F=I.children[g];A=C._cascade_new_checked_state(F,S),U=U.concat(A),A.indexOf(F)>-1&&z.push(F)}var B=C.get_node(I,!0),j=z.length>0&&z.length<I.children.length;I.original&&I.original.state&&I.original.state.undetermined&&(I.original.state.undetermined=j),j?(I.state[M?"selected":"checked"]=!1,B.children(".jstree-anchor").attr("aria-selected",!1).removeClass(M?"jstree-clicked":"jstree-checked")):S&&z.length===I.children.length?(I.state[M?"selected":"checked"]=S,U.push(I.id),B.children(".jstree-anchor").attr("aria-selected",!0).addClass(M?"jstree-clicked":"jstree-checked")):(I.state[M?"selected":"checked"]=!1,B.children(".jstree-anchor").attr("aria-selected",!1).removeClass(M?"jstree-clicked":"jstree-checked"))}else A=this.get_checked_descendants(y),I.state[M?"selected":"checked"]&&A.push(I.id),U=U.concat(A);return U},this.get_checked_descendants=function(y){var S=this,C=S.settings.checkbox.tie_selection,M=S._model.data[y];return e.vakata.array_filter(M.children_d,function(I){return S._model.data[I].state[C?"selected":"checked"]})},this.check_node=function(y,S){if(this.settings.checkbox.tie_selection)return this.select_node(y,!1,!0,S);var C,M,I;if(e.vakata.is_array(y)){for(y=y.slice(),M=0,I=y.length;M<I;M++)this.check_node(y[M],S);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;C=this.get_node(y,!0),y.state.checked||(y.state.checked=!0,this._data.checkbox.selected.push(y.id),C&&C.length&&C.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:y,selected:this._data.checkbox.selected,event:S}))},this.uncheck_node=function(y,S){if(this.settings.checkbox.tie_selection)return this.deselect_node(y,!1,S);var C,M,I;if(e.vakata.is_array(y)){for(y=y.slice(),C=0,M=y.length;C<M;C++)this.uncheck_node(y[C],S);return!0}if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;I=this.get_node(y,!0),y.state.checked&&(y.state.checked=!1,this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,y.id),I.length&&I.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:y,selected:this._data.checkbox.selected,event:S}))},this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();this._data.checkbox.selected.concat([]);var y,S;for(this._data.checkbox.selected=this._model.data[e.jstree.root].children_d.concat(),y=0,S=this._data.checkbox.selected.length;y<S;y++)this._model.data[this._data.checkbox.selected[y]]&&(this._model.data[this._data.checkbox.selected[y]].state.checked=!0);this.redraw(!0),this.trigger("check_all",{selected:this._data.checkbox.selected})},this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();var y=this._data.checkbox.selected.concat([]),S,C;for(S=0,C=this._data.checkbox.selected.length;S<C;S++)this._model.data[this._data.checkbox.selected[S]]&&(this._model.data[this._data.checkbox.selected[S]].state.checked=!1);this._data.checkbox.selected=[],this.element.find(".jstree-checked").removeClass("jstree-checked"),this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:y})},this.is_checked=function(y){return this.settings.checkbox.tie_selection?this.is_selected(y):(y=this.get_node(y),!y||y.id===e.jstree.root?!1:y.state.checked)},this.get_checked=function(y){return this.settings.checkbox.tie_selection?this.get_selected(y):y?e.map(this._data.checkbox.selected,(function(S){return this.get_node(S)}).bind(this)):this._data.checkbox.selected.slice()},this.get_top_checked=function(y){if(this.settings.checkbox.tie_selection)return this.get_top_selected(y);var S=this.get_checked(!0),C={},M,I,U,z;for(M=0,I=S.length;M<I;M++)C[S[M].id]=S[M];for(M=0,I=S.length;M<I;M++)for(U=0,z=S[M].children_d.length;U<z;U++)C[S[M].children_d[U]]&&delete C[S[M].children_d[U]];S=[];for(M in C)C.hasOwnProperty(M)&&S.push(M);return y?e.map(S,(function(g){return this.get_node(g)}).bind(this)):S},this.get_bottom_checked=function(y){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(y);var S=this.get_checked(!0),C=[],M,I;for(M=0,I=S.length;M<I;M++)S[M].children.length||C.push(S[M].id);return y?e.map(C,(function(U){return this.get_node(U)}).bind(this)):C},this.load_node=function(y,S){var C,M,I;if(!e.vakata.is_array(y)&&!this.settings.checkbox.tie_selection&&(I=this.get_node(y),I&&I.state.loaded))for(C=0,M=I.children_d.length;C<M;C++)this._model.data[I.children_d[C]].state.checked&&(this._data.checkbox.selected=e.vakata.array_remove_item(this._data.checkbox.selected,I.children_d[C]));return T.load_node.apply(this,arguments)},this.get_state=function(){var y=T.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(y.checkbox=this._data.checkbox.selected.slice()),y},this.set_state=function(y,S){var C=T.set_state.apply(this,arguments);if(C&&y.checkbox){if(!this.settings.checkbox.tie_selection){this.uncheck_all();var M=this;e.each(y.checkbox,function(I,U){M.check_node(U)})}return delete y.checkbox,this.set_state(y,S),!1}return C},this.refresh=function(y,S){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),T.refresh.apply(this,arguments)}},e.jstree.defaults.conditionalselect=function(){return!0},e.jstree.plugins.conditionalselect=function(u,T){this.activate_node=function(y,S){if(this.settings.conditionalselect.call(this,this.get_node(y),S))return T.activate_node.call(this,y,S)}},e.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(u,T){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(y){var S=e.jstree.reference(y.reference),C=S.get_node(y.reference);S.create_node(C,{},"last",function(M){try{S.edit(M)}catch{setTimeout(function(){S.edit(M)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(y){var S=e.jstree.reference(y.reference),C=S.get_node(y.reference);S.edit(C)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(y){var S=e.jstree.reference(y.reference),C=S.get_node(y.reference);S.is_selected(C)?S.delete_node(S.get_selected()):S.delete_node(C)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(y){var S=e.jstree.reference(y.reference),C=S.get_node(y.reference);S.is_selected(C)?S.cut(S.get_top_selected()):S.cut(C)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(y){var S=e.jstree.reference(y.reference),C=S.get_node(y.reference);S.is_selected(C)?S.copy(S.get_top_selected()):S.copy(C)}},paste:{separator_before:!1,icon:!1,_disabled:function(y){return!e.jstree.reference(y.reference).can_paste()},separator_after:!1,label:"Paste",action:function(y){var S=e.jstree.reference(y.reference),C=S.get_node(y.reference);S.paste(C)}}}}}}},e.jstree.plugins.contextmenu=function(u,T){this.bind=function(){T.bind.call(this);var y=0,S=null,C,M;this.element.on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-contextmenu")}).bind(this)).on("contextmenu.jstree",".jstree-anchor",(function(I,U){I.target.tagName.toLowerCase()!=="input"&&(I.preventDefault(),y=I.ctrlKey?+new Date:0,(U||S)&&(y=+new Date+1e4),S&&clearTimeout(S),this.is_loading(I.currentTarget)||this.show_contextmenu(I.currentTarget,I.pageX,I.pageY,I))}).bind(this)).on("click.jstree",".jstree-anchor",(function(I){this._data.contextmenu.visible&&(!y||+new Date-y>250)&&e.vakata.context.hide(),y=0}).bind(this)).on("touchstart.jstree",".jstree-anchor",function(I){!I.originalEvent||!I.originalEvent.changedTouches||!I.originalEvent.changedTouches[0]||(C=I.originalEvent.changedTouches[0].clientX,M=I.originalEvent.changedTouches[0].clientY,S=setTimeout(function(){e(I.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(I){S&&I.originalEvent&&I.originalEvent.changedTouches&&I.originalEvent.changedTouches[0]&&(Math.abs(C-I.originalEvent.changedTouches[0].clientX)>10||Math.abs(M-I.originalEvent.changedTouches[0].clientY)>10)&&(clearTimeout(S),e.vakata.context.hide())}).on("touchend.vakata.jstree",function(I){S&&clearTimeout(S)});/*!
if(!('oncontextmenu' in document.body) && ('ontouchstart' in document.body)) {
	var el = null, tm = null;
	this.element
		.on("touchstart", ".jstree-anchor", function (e) {
			el = e.currentTarget;
			tm = +new Date();
			$(document).one("touchend", function (e) {
				e.target = document.elementFromPoint(e.originalEvent.targetTouches[0].pageX - window.pageXOffset, e.originalEvent.targetTouches[0].pageY - window.pageYOffset);
				e.currentTarget = e.target;
				tm = ((+(new Date())) - tm);
				if(e.target === el && tm > 600 && tm < 1000) {
					e.preventDefault();
					$(el).trigger('contextmenu', e);
				}
				el = null;
				tm = null;
			});
		});
}
*/e(m).on("context_hide.vakata.jstree",(function(I,U){this._data.contextmenu.visible=!1,e(U.reference).removeClass("jstree-context")}).bind(this))},this.teardown=function(){this._data.contextmenu.visible&&e.vakata.context.hide(),e(m).off("context_hide.vakata.jstree"),T.teardown.call(this)},this.show_contextmenu=function(y,S,C,M){if(y=this.get_node(y),!y||y.id===e.jstree.root)return!1;var I=this.settings.contextmenu,U=this.get_node(y,!0),z=U.children(".jstree-anchor"),g=!1,x=!1;(I.show_at_node||S===i||C===i)&&(g=z.offset(),S=g.left,C=g.top+this._data.core.li_height),this.settings.contextmenu.select_node&&!this.is_selected(y)&&this.activate_node(y,M),x=I.items,e.vakata.is_function(x)&&(x=x.call(this,y,(function(A){this._show_contextmenu(y,S,C,A)}).bind(this))),e.isPlainObject(x)&&this._show_contextmenu(y,S,C,x)},this._show_contextmenu=function(y,S,C,M){var I=this.get_node(y,!0),U=I.children(".jstree-anchor");e(m).one("context_show.vakata.jstree",(function(z,g){var x="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";e(g.element).addClass(x),U.addClass("jstree-context")}).bind(this)),this._data.contextmenu.visible=!0,e.vakata.context.show(U,{x:S,y:C},M),this.trigger("show_contextmenu",{node:y,x:S,y:C})}},function(u){var T=!1,y={element:!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1};u.vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(S){u(m).triggerHandler("context_"+S+".vakata",{reference:y.reference,element:y.element,position:{x:y.position_x,y:y.position_y}})},_execute:function(S){return S=y.items[S],S&&(!S._disabled||u.vakata.is_function(S._disabled)&&!S._disabled({item:S,reference:y.reference,element:y.element}))&&S.action?S.action.call(null,{item:S,reference:y.reference,element:y.element,position:{x:y.position_x,y:y.position_y}}):!1},_parse:function(S,C){if(!S)return!1;C||(y.html="",y.items=[]);var M="",I=!1,U;return C&&(M+="<ul>"),u.each(S,function(z,g){if(!g)return!0;y.items.push(g),!I&&g.separator_before&&(M+="<li class='vakata-context-separator'><a href='#' "+(u.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>"),I=!1,M+="<li class='"+(g._class||"")+(g._disabled===!0||u.vakata.is_function(g._disabled)&&g._disabled({item:g,reference:y.reference,element:y.element})?" vakata-contextmenu-disabled ":"")+"' "+(g.shortcut?" data-shortcut='"+g.shortcut+"' ":"")+">",M+="<a href='#' rel='"+(y.items.length-1)+"' "+(g.title?"title='"+g.title+"'":"")+">",u.vakata.context.settings.icons&&(M+="<i ",g.icon&&(g.icon.indexOf("/")!==-1||g.icon.indexOf(".")!==-1?M+=` style='background:url("`+g.icon+`") center center no-repeat' `:M+=" class='"+g.icon+"' "),M+="></i><span class='vakata-contextmenu-sep'>&#160;</span>"),M+=(u.vakata.is_function(g.label)?g.label({item:z,reference:y.reference,element:y.element}):g.label)+(g.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+g.shortcut+'">'+(g.shortcut_label||"")+"</span>":"")+"</a>",g.submenu&&(U=u.vakata.context._parse(g.submenu,!0),U&&(M+=U)),M+="</li>",g.separator_after&&(M+="<li class='vakata-context-separator'><a href='#' "+(u.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;</a></li>",I=!0)}),M=M.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),C&&(M+="</ul>"),C||(y.html=M,u.vakata.context._trigger("parse")),M.length>10?M:!1},_show_submenu:function(S){if(S=u(S),!(!S.length||!S.children("ul").length)){var C=S.children("ul"),M=S.offset().left,I=M+S.outerWidth(),U=S.offset().top,z=C.width(),g=C.height(),x=u(window).width()+u(window).scrollLeft(),A=u(window).height()+u(window).scrollTop();T?S[I-(z+10+S.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):S[I+z>x&&M>x-I?"addClass":"removeClass"]("vakata-context-right"),U+g+10>A&&C.css("bottom","-1px"),S.hasClass("vakata-context-right")?M<z&&C.css("margin-right",M-z):x-I<z&&C.css("margin-left",x-I-z),C.show()}},show:function(S,C,M){var I,U,z,g,x,A,F,B,j=!0;switch(y.element&&y.element.length&&y.element.width(""),j){case(!C&&!S):return!1;case(!!C&&!!S):y.reference=S,y.position_x=C.x,y.position_y=C.y;break;case(!C&&!!S):y.reference=S,I=S.offset(),y.position_x=I.left+S.outerHeight(),y.position_y=I.top;break;case(!!C&&!S):y.position_x=C.x,y.position_y=C.y;break}S&&!M&&u(S).data("vakata_contextmenu")&&(M=u(S).data("vakata_contextmenu")),u.vakata.context._parse(M)&&y.element.html(y.html),y.items.length&&(y.element.appendTo(m.body),U=y.element,z=y.position_x,g=y.position_y,x=U.width(),A=U.height(),F=u(window).width()+u(window).scrollLeft(),B=u(window).height()+u(window).scrollTop(),T&&(z-=U.outerWidth()-u(S).outerWidth(),z<u(window).scrollLeft()+20&&(z=u(window).scrollLeft()+20)),z+x+20>F&&(z=F-(x+20)),g+A+20>B&&(g=B-(A+20)),y.element.css({left:z,top:g}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),y.is_visible=!0,u.vakata.context._trigger("show"))},hide:function(){y.is_visible&&(y.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),y.is_visible=!1,u.vakata.context._trigger("hide"))}},u(function(){T=u(m.body).css("direction")==="rtl";var S=!1;y.element=u("<ul class='vakata-context'></ul>"),y.element.on("mouseenter","li",function(C){C.stopImmediatePropagation(),!u.contains(this,C.relatedTarget)&&(S&&clearTimeout(S),y.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),u(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),u.vakata.context._show_submenu(this))}).on("mouseleave","li",function(C){u.contains(this,C.relatedTarget)||u(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(C){u(this).find(".vakata-context-hover").removeClass("vakata-context-hover"),u.vakata.context.settings.hide_onmouseleave&&(S=setTimeout(function(M){return function(){u.vakata.context.hide()}}(),u.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(C){C.preventDefault(),!u(this).trigger("blur").parent().hasClass("vakata-context-disabled")&&u.vakata.context._execute(u(this).attr("rel"))!==!1&&u.vakata.context.hide()}).on("keydown","a",function(C){var M=null;switch(C.which){case 13:case 32:C.type="click",C.preventDefault(),u(C.currentTarget).trigger(C);break;case 37:y.is_visible&&(y.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 38:y.is_visible&&(M=y.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first(),M.length||(M=y.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()),M.addClass("vakata-context-hover").children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 39:y.is_visible&&(y.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 40:y.is_visible&&(M=y.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first(),M.length||(M=y.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()),M.addClass("vakata-context-hover").children("a").trigger("focus"),C.stopImmediatePropagation(),C.preventDefault());break;case 27:u.vakata.context.hide(),C.preventDefault();break}}).on("keydown",function(C){C.preventDefault();var M=y.element.find(".vakata-contextmenu-shortcut-"+C.which).parent();M.parent().not(".vakata-context-disabled")&&M.trigger("click")}),u(m).on("mousedown.vakata.jstree",function(C){y.is_visible&&y.element[0]!==C.target&&!u.contains(y.element[0],C.target)&&u.vakata.context.hide()}).on("context_show.vakata.jstree",function(C,M){y.element.find("li:has(ul)").children("a").addClass("vakata-context-parent"),T&&y.element.addClass("vakata-context-rtl").css("direction","rtl"),y.element.find("ul").hide().end()})})}(e),e.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1};var w,E;e.jstree.plugins.dnd=function(u,T){this.init=function(y,S){T.init.call(this,y,S),this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in m.createElement("span")},this.bind=function(){T.bind.call(this),this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",(function(y){if(this.settings.dnd.large_drag_target&&e(y.target).closest(".jstree-node")[0]!==y.currentTarget||y.type==="touchstart"&&(!this.settings.dnd.touch||this.settings.dnd.touch==="selected"&&!e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var S=this.get_node(y.target),C=this.is_selected(S)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,M=C>1?C+" "+this.get_string("nodes"):this.get_text(y.currentTarget);if(this.settings.core.force_text&&(M=e.vakata.html.escape(M)),S&&(S.id||S.id===0)&&S.id!==e.jstree.root&&(y.which===1||y.type==="touchstart"||y.type==="dragstart")&&(this.settings.dnd.is_draggable===!0||e.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,C>1?this.get_top_selected(!0):[S],y)))if(w={jstree:!0,origin:this,obj:this.get_node(S,!0),nodes:C>1?this.get_top_selected():[S.id]},E=y.currentTarget,this.settings.dnd.use_html5)e.vakata.dnd._trigger("start",y,{helper:e(),element:E,data:w});else return this.element.trigger("mousedown.jstree"),e.vakata.dnd.start(y,w,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"></i>'+M+'<ins class="jstree-copy">+</ins></div>')}).bind(this)),this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(y){return y.preventDefault(),e.vakata.dnd._trigger("move",y,{helper:e(),element:E,data:w}),!1}).on("drop.jstree",(function(y){return y.preventDefault(),e.vakata.dnd._trigger("stop",y,{helper:e(),element:E,data:w}),!1}).bind(this))},this.redraw_node=function(y,S,C,M){if(y=T.redraw_node.apply(this,arguments),y&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)y.setAttribute("draggable",!0);else{var I,U,z=null;for(I=0,U=y.childNodes.length;I<U;I++)if(y.childNodes[I]&&y.childNodes[I].className&&y.childNodes[I].className.indexOf("jstree-anchor")!==-1){z=y.childNodes[I];break}z&&z.setAttribute("draggable",!0)}return y}},e(function(){var u=!1,T=!1,y=!1,S=!1,C=e('<div id="jstree-marker">&#160;</div>').hide();e(m).on("dragover.vakata.jstree",function(M){E&&e.vakata.dnd._trigger("move",M,{helper:e(),element:E,data:w})}).on("drop.vakata.jstree",function(M){E&&(e.vakata.dnd._trigger("stop",M,{helper:e(),element:E,data:w}),E=null,w=null)}).on("dnd_start.vakata.jstree",function(M,I){u=!1,y=!1,!(!I||!I.data||!I.data.jstree)&&C.appendTo(m.body)}).on("dnd_move.vakata.jstree",function(M,I){var U=I.event.target!==y.target;if(S&&(!I.event||I.event.type!=="dragover"||U)&&clearTimeout(S),!(!I||!I.data||!I.data.jstree)&&!(I.event.target.id&&I.event.target.id==="jstree-marker")){y=I.event;var z=e.jstree.reference(I.event.target),g=!1,x=!1,A=!1,F,B,j,$,G,he,Q,Z,ve,Ie,Ve,Ae,ze,et,xt,At,Me;if(z&&z._data&&z._data.dnd){if(C.attr("class","jstree-"+z.get_theme()+(z.settings.core.themes.responsive?" jstree-dnd-responsive":"")),xt=I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey)),I.helper.children().attr("class","jstree-"+z.get_theme()+" jstree-"+z.get_theme()+"-"+z.get_theme_variant()+" "+(z.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[xt?"show":"hide"](),(I.event.target===z.element[0]||I.event.target===z.get_container_ul()[0])&&(z.get_container_ul().children().length===0||z.settings.dnd.blank_space_drop)){for(Q=!0,Z=0,ve=I.data.nodes.length;Z<ve&&(Q=Q&&z.check(I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey))?"copy_node":"move_node",I.data.origin&&I.data.origin!==z?I.data.origin.get_node(I.data.nodes[Z]):I.data.nodes[Z],e.jstree.root,"last",{dnd:!0,ref:z.get_node(e.jstree.root),pos:"i",origin:I.data.origin,is_multi:I.data.origin&&I.data.origin!==z,is_foreign:!I.data.origin}),!!Q);Z++);if(Q){u={ins:z,par:e.jstree.root,pos:"last"},C.hide(),I.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),I.event.originalEvent&&I.event.originalEvent.dataTransfer&&(I.event.originalEvent.dataTransfer.dropEffect=xt?"copy":"move");return}}else if(g=z.settings.dnd.large_drop_target?e(I.event.target).closest(".jstree-node").children(".jstree-anchor"):e(I.event.target).closest(".jstree-anchor"),g&&g.length&&g.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(x=g.offset(),A=(I.event.pageY!==i?I.event.pageY:I.event.originalEvent.pageY)-x.top,j=g.outerHeight(),A<j/3?he=["b","i","a"]:A>j-j/3?he=["a","i","b"]:he=A>j/2?["i","a","b"]:["i","b","a"],e.each(he,function(Ut,jt){switch(jt){case"b":F=x.left-6,B=x.top,$=z.get_parent(g),G=g.parent().index(),Me="jstree-below";break;case"i":ze=z.settings.dnd.inside_pos,et=z.get_node(g.parent()),F=x.left-2,B=x.top+j/2+1,$=et.id,G=ze==="first"?0:ze==="last"?et.children.length:Math.min(ze,et.children.length),Me="jstree-inside";break;case"a":F=x.left-6,B=x.top+j,$=z.get_parent(g),G=g.parent().index()+1,Me="jstree-above";break}for(Q=!0,Z=0,ve=I.data.nodes.length;Z<ve;Z++)if(Ie=I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey))?"copy_node":"move_node",Ve=G,Ie==="move_node"&&jt==="a"&&I.data.origin&&I.data.origin===z&&$===z.get_parent(I.data.nodes[Z])&&(Ae=z.get_node($),Ve>e.inArray(I.data.nodes[Z],Ae.children)&&(Ve-=1)),Q=Q&&(z&&z.settings&&z.settings.dnd&&z.settings.dnd.check_while_dragging===!1||z.check(Ie,I.data.origin&&I.data.origin!==z?I.data.origin.get_node(I.data.nodes[Z]):I.data.nodes[Z],$,Ve,{dnd:!0,ref:z.get_node(g.parent()),pos:jt,origin:I.data.origin,is_multi:I.data.origin&&I.data.origin!==z,is_foreign:!I.data.origin})),!Q){z&&z.last_error&&(T=z.last_error());break}if(jt==="i"&&g.parent().is(".jstree-closed")&&z.settings.dnd.open_timeout&&(!I.event||I.event.type!=="dragover"||U)&&(S&&clearTimeout(S),S=setTimeout(function(Ci,rt){return function(){Ci.open_node(rt)}}(z,g),z.settings.dnd.open_timeout)),Q)return At=z.get_node($,!0),At.hasClass(".jstree-dnd-parent")||(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),At.addClass("jstree-dnd-parent")),u={ins:z,par:$,pos:jt==="i"&&ze==="last"&&G===0&&!z.is_loaded(et)?"last":G},C.css({left:F+"px",top:B+"px"}).show(),C.removeClass("jstree-above jstree-inside jstree-below").addClass(Me),I.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),I.event.originalEvent&&I.event.originalEvent.dataTransfer&&(I.event.originalEvent.dataTransfer.dropEffect=xt?"copy":"move"),T={},he=!0,!1}),he===!0))return}e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),u=!1,I.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er"),I.event.originalEvent&&I.event.originalEvent.dataTransfer,C.hide()}}).on("dnd_scroll.vakata.jstree",function(M,I){!I||!I.data||!I.data.jstree||(C.hide(),u=!1,y=!1,I.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(M,I){if(e(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),S&&clearTimeout(S),!(!I||!I.data||!I.data.jstree)){C.hide().detach();var U,z,g=[];if(u){for(U=0,z=I.data.nodes.length;U<z;U++)g[U]=I.data.origin?I.data.origin.get_node(I.data.nodes[U]):I.data.nodes[U];u.ins[I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(I.event.metaKey||I.event.ctrlKey))?"copy_node":"move_node"](g,u.par,u.pos,!1,!1,!1,I.data.origin)}else U=e(I.event.target).closest(".jstree"),U.length&&T&&T.error&&T.error==="check"&&(U=U.jstree(!0),U&&U.settings.core.error.call(this,T));y=!1,u=!1}}).on("keyup.jstree keydown.jstree",function(M,I){I=e.vakata.dnd._get(),I&&I.data&&I.data.jstree&&(M.type==="keyup"&&M.which===27?(S&&clearTimeout(S),u=!1,T=!1,y=!1,S=!1,C.hide().detach(),e.vakata.dnd._clean()):(I.helper.find(".jstree-copy").first()[I.data.origin&&(I.data.origin.settings.dnd.always_copy||I.data.origin.settings.dnd.copy&&(M.metaKey||M.ctrlKey))?"show":"hide"](),y&&(y.metaKey=M.metaKey,y.ctrlKey=M.ctrlKey,e.vakata.dnd._trigger("move",y))))})}),function(u){u.vakata.html={div:u("<div></div>"),escape:function(y){return u.vakata.html.div.text(y).html()},strip:function(y){return u.vakata.html.div.empty().append(u.parseHTML(y)).text()}};var T={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};u.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(y,S,C){C===i&&(C=u.vakata.dnd._get()),C.event=S,u(m).triggerHandler("dnd_"+y+".vakata",C)},_get:function(){return{data:T.data,element:T.element,helper:T.helper}},_clean:function(){T.helper&&T.helper.remove(),T.scroll_i&&(clearInterval(T.scroll_i),T.scroll_i=!1),T={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},E=null,u(m).off("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(m).off("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop)},_scroll:function(y){if(!T.scroll_e||!T.scroll_l&&!T.scroll_t)return T.scroll_i&&(clearInterval(T.scroll_i),T.scroll_i=!1),!1;if(!T.scroll_i)return T.scroll_i=setInterval(u.vakata.dnd._scroll,100),!1;if(y===!0)return!1;var S=T.scroll_e.scrollTop(),C=T.scroll_e.scrollLeft();T.scroll_e.scrollTop(S+T.scroll_t*u.vakata.dnd.settings.scroll_speed),T.scroll_e.scrollLeft(C+T.scroll_l*u.vakata.dnd.settings.scroll_speed),(S!==T.scroll_e.scrollTop()||C!==T.scroll_e.scrollLeft())&&u.vakata.dnd._trigger("scroll",T.scroll_e)},start:function(y,S,C){y.type==="touchstart"&&y.originalEvent&&y.originalEvent.changedTouches&&y.originalEvent.changedTouches[0]&&(y.pageX=y.originalEvent.changedTouches[0].pageX,y.pageY=y.originalEvent.changedTouches[0].pageY,y.target=m.elementFromPoint(y.originalEvent.changedTouches[0].pageX-window.pageXOffset,y.originalEvent.changedTouches[0].pageY-window.pageYOffset)),T.is_drag&&u.vakata.dnd.stop({});try{y.currentTarget.unselectable="on",y.currentTarget.onselectstart=function(){return!1},y.currentTarget.style&&(y.currentTarget.style.touchAction="none",y.currentTarget.style.msTouchAction="none",y.currentTarget.style.MozUserSelect="none")}catch{}return T.init_x=y.pageX,T.init_y=y.pageY,T.data=S,T.is_down=!0,T.element=y.currentTarget,T.target=y.target,T.is_touch=y.type==="touchstart",C!==!1&&(T.helper=u("<div id='vakata-dnd'></div>").html(C).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),u(m).on("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(m).on("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop),!1},drag:function(y){if(y.type==="touchmove"&&y.originalEvent&&y.originalEvent.changedTouches&&y.originalEvent.changedTouches[0]&&(y.pageX=y.originalEvent.changedTouches[0].pageX,y.pageY=y.originalEvent.changedTouches[0].pageY,y.target=m.elementFromPoint(y.originalEvent.changedTouches[0].pageX-window.pageXOffset,y.originalEvent.changedTouches[0].pageY-window.pageYOffset)),!!T.is_down){if(!T.is_drag)if(Math.abs(y.pageX-T.init_x)>(T.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)||Math.abs(y.pageY-T.init_y)>(T.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold))T.helper&&(T.helper.appendTo(m.body),T.helper_w=T.helper.outerWidth()),T.is_drag=!0,u(T.target).one("click.vakata",!1),u.vakata.dnd._trigger("start",y);else return;var S=!1,C=!1,M=!1,I=!1,U=!1,z=!1,g=!1,x=!1,A=!1,F=!1;return T.scroll_t=0,T.scroll_l=0,T.scroll_e=!1,u(u(y.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(u(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var B=u(this),j=B.offset();if(this.scrollHeight>this.offsetHeight&&(j.top+B.height()-y.pageY<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=1),y.pageY-j.top<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(j.left+B.width()-y.pageX<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=1),y.pageX-j.left<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=-1)),T.scroll_t||T.scroll_l)return T.scroll_e=u(this),!1}),T.scroll_e||(S=u(m),C=u(window),M=S.height(),I=C.height(),U=S.width(),z=C.width(),g=S.scrollTop(),x=S.scrollLeft(),M>I&&y.pageY-g<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=-1),M>I&&I-(y.pageY-g)<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_t=1),U>z&&y.pageX-x<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=-1),U>z&&z-(y.pageX-x)<u.vakata.dnd.settings.scroll_proximity&&(T.scroll_l=1),(T.scroll_t||T.scroll_l)&&(T.scroll_e=S)),T.scroll_e&&u.vakata.dnd._scroll(!0),T.helper&&(A=parseInt(y.pageY+u.vakata.dnd.settings.helper_top,10),F=parseInt(y.pageX+u.vakata.dnd.settings.helper_left,10),M&&A+25>M&&(A=M-50),U&&F+T.helper_w>U&&(F=U-(T.helper_w+2)),T.helper.css({left:F+"px",top:A+"px"})),u.vakata.dnd._trigger("move",y),!1}},stop:function(y){if(y.type==="touchend"&&y.originalEvent&&y.originalEvent.changedTouches&&y.originalEvent.changedTouches[0]&&(y.pageX=y.originalEvent.changedTouches[0].pageX,y.pageY=y.originalEvent.changedTouches[0].pageY,y.target=m.elementFromPoint(y.originalEvent.changedTouches[0].pageX-window.pageXOffset,y.originalEvent.changedTouches[0].pageY-window.pageYOffset)),T.is_drag)y.target!==T.target&&u(T.target).off("click.vakata"),u.vakata.dnd._trigger("stop",y);else if(y.type==="touchend"&&y.target===T.target){var S=setTimeout(function(){u(y.target).trigger("click")},100);u(y.target).one("click",function(){S&&clearTimeout(S)})}return u.vakata.dnd._clean(),!1}}}(e),e.jstree.defaults.massload=null,e.jstree.plugins.massload=function(u,T){this.init=function(y,S){this._data.massload={},T.init.call(this,y,S)},this._load_nodes=function(y,S,C,M){var I=this.settings.massload,U=[],z=this._model.data,g,x,A;if(!C){for(g=0,x=y.length;g<x;g++)(!z[y[g]]||!z[y[g]].state.loaded&&!z[y[g]].state.failed||M)&&(U.push(y[g]),A=this.get_node(y[g],!0),A&&A.length&&A.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},U.length){if(e.vakata.is_function(I))return I.call(this,U,(function(F){var B,j;if(F)for(B in F)F.hasOwnProperty(B)&&(this._data.massload[B]=F[B]);for(B=0,j=y.length;B<j;B++)A=this.get_node(y[B],!0),A&&A.length&&A.removeClass("jstree-loading").attr("aria-busy",!1);T._load_nodes.call(this,y,S,C,M)}).bind(this));if(typeof I=="object"&&I&&I.url)return I=e.extend(!0,{},I),e.vakata.is_function(I.url)&&(I.url=I.url.call(this,U)),e.vakata.is_function(I.data)&&(I.data=I.data.call(this,U)),e.ajax(I).done((function(F,B,j){var $,G;if(F)for($ in F)F.hasOwnProperty($)&&(this._data.massload[$]=F[$]);for($=0,G=y.length;$<G;$++)A=this.get_node(y[$],!0),A&&A.length&&A.removeClass("jstree-loading").attr("aria-busy",!1);T._load_nodes.call(this,y,S,C,M)}).bind(this)).fail((function(F){T._load_nodes.call(this,y,S,C,M)}).bind(this))}}return T._load_nodes.call(this,y,S,C,M)},this._load_node=function(y,S){var C=this._data.massload[y.id],M=null,I;return C?(M=this[typeof C=="string"?"_append_html_data":"_append_json_data"](y,typeof C=="string"?e(e.parseHTML(C)).filter(function(){return this.nodeType!==3}):C,function(U){S.call(this,U)}),I=this.get_node(y.id,!0),I&&I.length&&I.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[y.id],M):T._load_node.call(this,y,S)}},e.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},e.jstree.plugins.search=function(u,T){this.bind=function(){T.bind.call(this),this._data.search.str="",this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=!1,this._data.search.smc=!1,this._data.search.hdn=[],this.element.on("search.jstree",(function(y,S){if(this._data.search.som&&S.res.length){var C=this._model.data,M,I,U=[],z,g;for(M=0,I=S.res.length;M<I;M++)if(C[S.res[M]]&&!C[S.res[M]].state.hidden&&(U.push(S.res[M]),U=U.concat(C[S.res[M]].parents),this._data.search.smc))for(z=0,g=C[S.res[M]].children_d.length;z<g;z++)C[C[S.res[M]].children_d[z]]&&!C[C[S.res[M]].children_d[z]].state.hidden&&U.push(C[S.res[M]].children_d[z]);U=e.vakata.array_remove_item(e.vakata.array_unique(U),e.jstree.root),this._data.search.hdn=this.hide_all(!0),this.show_node(U,!0),this.redraw(!0)}}).bind(this)).on("clear_search.jstree",(function(y,S){this._data.search.som&&S.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}).bind(this))},this.search=function(y,S,C,M,I,U){if(y===!1||e.vakata.trim(y.toString())==="")return this.clear_search();M=this.get_node(M),M=M&&(M.id||M.id===0)?M.id:null,y=y.toString();var z=this.settings.search,g=z.ajax?z.ajax:!1,x=this._model.data,A=null,F=[],B=[],j,$;if(this._data.search.res.length&&!I&&this.clear_search(),C===i&&(C=z.show_only_matches),U===i&&(U=z.show_only_matches_children),!S&&g!==!1)return e.vakata.is_function(g)?g.call(this,y,(function(G){G&&G.d&&(G=G.d),this._load_nodes(e.vakata.is_array(G)?e.vakata.array_unique(G):[],function(){this.search(y,!0,C,M,I,U)})}).bind(this),M):(g=e.extend({},g),g.data||(g.data={}),g.data.str=y,M&&(g.data.inside=M),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=e.ajax(g).fail((function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(g)},this.settings.core.error.call(this,this._data.core.last_error)}).bind(this)).done((function(G){G&&G.d&&(G=G.d),this._load_nodes(e.vakata.is_array(G)?e.vakata.array_unique(G):[],function(){this.search(y,!0,C,M,I,U)})}).bind(this)),this._data.search.lastRequest);if(I||(this._data.search.str=y,this._data.search.dom=e(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=C,this._data.search.smc=U),A=new e.vakata.search(y,!0,{caseSensitive:z.case_sensitive,fuzzy:z.fuzzy}),e.each(x[M||e.jstree.root].children_d,function(G,he){var Q=x[he];Q.text&&!Q.state.hidden&&(!z.search_leaves_only||Q.state.loaded&&Q.children.length===0)&&(z.search_callback&&z.search_callback.call(this,y,Q)||!z.search_callback&&A.search(Q.text).isMatch)&&(F.push(he),B=B.concat(Q.parents))}),F.length){for(B=e.vakata.array_unique(B),j=0,$=B.length;j<$;j++)B[j]!==e.jstree.root&&x[B[j]]&&this.open_node(B[j],null,0)===!0&&this._data.search.opn.push(B[j]);I?(this._data.search.dom=this._data.search.dom.add(e(this.element[0].querySelectorAll("#"+e.map(F,function(G){return"0123456789".indexOf(G[0])!==-1?"\\3"+G[0]+" "+G.substr(1).replace(e.jstree.idregex,"\\$&"):G.replace(e.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=e.vakata.array_unique(this._data.search.res.concat(F))):(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(F,function(G){return"0123456789".indexOf(G[0])!==-1?"\\3"+G[0]+" "+G.substr(1).replace(e.jstree.idregex,"\\$&"):G.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=F),this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:y,res:this._data.search.res,show_only_matches:C})},this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0),this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res}),this._data.search.res.length&&(this._data.search.dom=e(this.element[0].querySelectorAll("#"+e.map(this._data.search.res,function(y){return"0123456789".indexOf(y[0])!==-1?"\\3"+y[0]+" "+y.substr(1).replace(e.jstree.idregex,"\\$&"):y.replace(e.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search")),this._data.search.str="",this._data.search.res=[],this._data.search.opn=[],this._data.search.dom=e()},this.redraw_node=function(y,S,C,M){if(y=T.redraw_node.apply(this,arguments),y&&e.inArray(y.id,this._data.search.res)!==-1){var I,U,z=null;for(I=0,U=y.childNodes.length;I<U;I++)if(y.childNodes[I]&&y.childNodes[I].className&&y.childNodes[I].className.indexOf("jstree-anchor")!==-1){z=y.childNodes[I];break}z&&(z.className+=" jstree-search")}return y}},function(u){u.vakata.search=function(T,y,S){S=S||{},S=u.extend({},u.vakata.search.defaults,S),S.fuzzy!==!1&&(S.fuzzy=!0),T=S.caseSensitive?T:T.toLowerCase();var C=S.location,M=S.distance,I=S.threshold,U=T.length,z,g,x,A;return U>32&&(S.fuzzy=!1),S.fuzzy&&(z=1<<U-1,g=function(){var F={},B=0;for(B=0;B<U;B++)F[T.charAt(B)]=0;for(B=0;B<U;B++)F[T.charAt(B)]|=1<<U-B-1;return F}(),x=function(F,B){var j=F/U,$=Math.abs(C-B);return M?j+$/M:$?1:j}),A=function(F){if(F=S.caseSensitive?F.toString():F.toString().toLowerCase(),T===F||F.indexOf(T)!==-1)return{isMatch:!0,score:0};if(!S.fuzzy)return{isMatch:!1,score:1};var B,j,$=F.length,G=I,he=F.indexOf(T,C),Q,Z,ve=U+$,Ie,Ve,Ae,ze,et,xt=1;for(he!==-1&&(G=Math.min(x(0,he),G),he=F.lastIndexOf(T,C+U),he!==-1&&(G=Math.min(x(0,he),G))),he=-1,B=0;B<U;B++){for(Q=0,Z=ve;Q<Z;)x(B,C+Z)<=G?Q=Z:ve=Z,Z=Math.floor((ve-Q)/2+Q);for(ve=Z,Ve=Math.max(1,C-Z+1),Ae=Math.min(C+Z,$)+U,ze=new Array(Ae+2),ze[Ae+1]=(1<<B)-1,j=Ae;j>=Ve;j--)if(et=g[F.charAt(j-1)],B===0?ze[j]=(ze[j+1]<<1|1)&et:ze[j]=(ze[j+1]<<1|1)&et|((Ie[j+1]|Ie[j])<<1|1)|Ie[j+1],ze[j]&z&&(xt=x(B,j-1),xt<=G))if(G=xt,he=j-1,he>C)Ve=Math.max(1,2*C-he);else break;if(x(B+1,C)>G)break;Ie=ze}return{isMatch:he>=0,score:xt}},y===!0?{search:A}:A(y)},u.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1}}(e),e.jstree.defaults.sort=function(u,T){return this.get_text(u)>this.get_text(T)?1:-1},e.jstree.plugins.sort=function(u,T){this.bind=function(){T.bind.call(this),this.element.on("model.jstree",(function(y,S){this.sort(S.parent,!0)}).bind(this)).on("rename_node.jstree create_node.jstree",(function(y,S){this.sort(S.parent||S.node.parent,!1),this.redraw_node(S.parent||S.node.parent,!0)}).bind(this)).on("move_node.jstree copy_node.jstree",(function(y,S){this.sort(S.parent,!1),this.redraw_node(S.parent,!0)}).bind(this))},this.sort=function(y,S){var C,M;if(y=this.get_node(y),y&&y.children&&y.children.length&&(y.children.sort(this.settings.sort.bind(this)),S))for(C=0,M=y.children_d.length;C<M;C++)this.sort(y.children_d[C],!1)}};var P=!1;e.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},e.jstree.plugins.state=function(u,T){this.bind=function(){T.bind.call(this);var y=(function(){this.element.on(this.settings.state.events,(function(){P&&clearTimeout(P),P=setTimeout((function(){this.save_state()}).bind(this),100)}).bind(this)),this.trigger("state_ready")}).bind(this);this.element.on("ready.jstree",(function(S,C){this.element.one("restore_state.jstree",y),this.restore_state()||y()}).bind(this))},this.save_state=function(){var y=this.get_state();this.settings.state.preserve_loaded||delete y.core.loaded;var S={state:y,ttl:this.settings.state.ttl,sec:+new Date};e.vakata.storage.set(this.settings.state.key,JSON.stringify(S))},this.restore_state=function(){var y=e.vakata.storage.get(this.settings.state.key);if(y)try{y=JSON.parse(y)}catch{return!1}return y&&y.ttl&&y.sec&&+new Date-y.sec>y.ttl?!1:(y&&y.state&&(y=y.state),y&&e.vakata.is_function(this.settings.state.filter)&&(y=this.settings.state.filter.call(this,y)),y?(this.settings.state.preserve_loaded||delete y.core.loaded,this.element.one("set_state.jstree",function(S,C){C.instance.trigger("restore_state",{state:e.extend(!0,{},y)})}),this.set_state(y),!0):!1)},this.clear_state=function(){return e.vakata.storage.del(this.settings.state.key)}},function(u,T){u.vakata.storage={set:function(y,S){return window.localStorage.setItem(y,S)},get:function(y){return window.localStorage.getItem(y)},del:function(y){return window.localStorage.removeItem(y)}}}(e),e.jstree.defaults.types={default:{}},e.jstree.defaults.types[e.jstree.root]={},e.jstree.plugins.types=function(u,T){this.init=function(y,S){var C,M;if(S&&S.types&&S.types.default){for(C in S.types)if(C!=="default"&&C!==e.jstree.root&&S.types.hasOwnProperty(C))for(M in S.types.default)S.types.default.hasOwnProperty(M)&&S.types[C][M]===i&&(S.types[C][M]=S.types.default[M])}T.init.call(this,y,S),this._model.data[e.jstree.root].type=e.jstree.root},this.refresh=function(y,S){T.refresh.call(this,y,S),this._model.data[e.jstree.root].type=e.jstree.root},this.bind=function(){this.element.on("model.jstree",(function(y,S){var C=this._model.data,M=S.nodes,I=this.settings.types,U,z,g="default",x;for(U=0,z=M.length;U<z;U++){if(g="default",C[M[U]].original&&C[M[U]].original.type&&I[C[M[U]].original.type]&&(g=C[M[U]].original.type),C[M[U]].data&&C[M[U]].data.jstree&&C[M[U]].data.jstree.type&&I[C[M[U]].data.jstree.type]&&(g=C[M[U]].data.jstree.type),C[M[U]].type=g,C[M[U]].icon===!0&&I[g].icon!==i&&(C[M[U]].icon=I[g].icon),I[g].li_attr!==i&&typeof I[g].li_attr=="object"){for(x in I[g].li_attr)if(I[g].li_attr.hasOwnProperty(x)){if(x==="id")continue;C[M[U]].li_attr[x]===i?C[M[U]].li_attr[x]=I[g].li_attr[x]:x==="class"&&(C[M[U]].li_attr.class=I[g].li_attr.class+" "+C[M[U]].li_attr.class)}}if(I[g].a_attr!==i&&typeof I[g].a_attr=="object"){for(x in I[g].a_attr)if(I[g].a_attr.hasOwnProperty(x)){if(x==="id")continue;C[M[U]].a_attr[x]===i?C[M[U]].a_attr[x]=I[g].a_attr[x]:x==="href"&&C[M[U]].a_attr[x]==="#"?C[M[U]].a_attr.href=I[g].a_attr.href:x==="class"&&(C[M[U]].a_attr.class=I[g].a_attr.class+" "+C[M[U]].a_attr.class)}}}C[e.jstree.root].type=e.jstree.root}).bind(this)),T.bind.call(this)},this.get_json=function(y,S,C){var M,I,U=this._model.data,z=S?e.extend(!0,{},S,{no_id:!1}):{},g=T.get_json.call(this,y,z,C);if(g===!1)return!1;if(e.vakata.is_array(g))for(M=0,I=g.length;M<I;M++)g[M].type=(g[M].id||g[M].id===0)&&U[g[M].id]&&U[g[M].id].type?U[g[M].id].type:"default",S&&S.no_id&&(delete g[M].id,g[M].li_attr&&g[M].li_attr.id&&delete g[M].li_attr.id,g[M].a_attr&&g[M].a_attr.id&&delete g[M].a_attr.id);else g.type=(g.id||g.id===0)&&U[g.id]&&U[g.id].type?U[g.id].type:"default",S&&S.no_id&&(g=this._delete_ids(g));return g},this._delete_ids=function(y){if(e.vakata.is_array(y)){for(var S=0,C=y.length;S<C;S++)y[S]=this._delete_ids(y[S]);return y}return delete y.id,y.li_attr&&y.li_attr.id&&delete y.li_attr.id,y.a_attr&&y.a_attr.id&&delete y.a_attr.id,y.children&&e.vakata.is_array(y.children)&&(y.children=this._delete_ids(y.children)),y},this.check=function(y,S,C,M,I){if(T.check.call(this,y,S,C,M,I)===!1)return!1;S=S&&(S.id||S.id===0)?S:this.get_node(S),C=C&&(C.id||C.id===0)?C:this.get_node(C);var U=S&&(S.id||S.id===0)?I&&I.origin?I.origin:e.jstree.reference(S.id):null,z,g,x,A;switch(U=U&&U._model&&U._model.data?U._model.data:null,y){case"create_node":case"move_node":case"copy_node":if(y!=="move_node"||e.inArray(S.id,C.children)===-1){if(z=this.get_rules(C),z.max_children!==i&&z.max_children!==-1&&z.max_children===C.children.length)return this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})},!1;if(z.valid_children!==i&&z.valid_children!==-1&&e.inArray(S.type||"default",z.valid_children)===-1)return this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})},!1;if(U&&S.children_d&&S.parents){for(g=0,x=0,A=S.children_d.length;x<A;x++)g=Math.max(g,U[S.children_d[x]].parents.length);g=g-S.parents.length+1}(g<=0||g===i)&&(g=1);do{if(z.max_depth!==i&&z.max_depth!==-1&&z.max_depth<g)return this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})},!1;C=this.get_node(C.parent),z=this.get_rules(C),g++}while(C)}break}return!0},this.get_rules=function(y){if(y=this.get_node(y),!y)return!1;var S=this.get_type(y,!0);return S.max_depth===i&&(S.max_depth=-1),S.max_children===i&&(S.max_children=-1),S.valid_children===i&&(S.valid_children=-1),S},this.get_type=function(y,S){return y=this.get_node(y),y?S?e.extend({type:y.type},this.settings.types[y.type]):y.type:!1},this.set_type=function(y,S){var C=this._model.data,M,I,U,z,g,x,A,F;if(e.vakata.is_array(y)){for(y=y.slice(),I=0,U=y.length;I<U;I++)this.set_type(y[I],S);return!0}if(M=this.settings.types,y=this.get_node(y),!M[S]||!y)return!1;if(A=this.get_node(y,!0),A&&A.length&&(F=A.children(".jstree-anchor")),z=y.type,g=this.get_icon(y),y.type=S,(g===!0||!M[z]||M[z].icon!==i&&g===M[z].icon)&&this.set_icon(y,M[S].icon!==i?M[S].icon:!0),M[z]&&M[z].li_attr!==i&&typeof M[z].li_attr=="object"){for(x in M[z].li_attr)if(M[z].li_attr.hasOwnProperty(x)){if(x==="id")continue;x==="class"?(C[y.id].li_attr.class=(C[y.id].li_attr.class||"").replace(M[z].li_attr[x],""),A&&A.removeClass(M[z].li_attr[x])):C[y.id].li_attr[x]===M[z].li_attr[x]&&(C[y.id].li_attr[x]=null,A&&A.removeAttr(x))}}if(M[z]&&M[z].a_attr!==i&&typeof M[z].a_attr=="object"){for(x in M[z].a_attr)if(M[z].a_attr.hasOwnProperty(x)){if(x==="id")continue;x==="class"?(C[y.id].a_attr.class=(C[y.id].a_attr.class||"").replace(M[z].a_attr[x],""),F&&F.removeClass(M[z].a_attr[x])):C[y.id].a_attr[x]===M[z].a_attr[x]&&(x==="href"?(C[y.id].a_attr[x]="#",F&&F.attr("href","#")):(delete C[y.id].a_attr[x],F&&F.removeAttr(x)))}}if(M[S].li_attr!==i&&typeof M[S].li_attr=="object"){for(x in M[S].li_attr)if(M[S].li_attr.hasOwnProperty(x)){if(x==="id")continue;C[y.id].li_attr[x]===i?(C[y.id].li_attr[x]=M[S].li_attr[x],A&&(x==="class"?A.addClass(M[S].li_attr[x]):A.attr(x,M[S].li_attr[x]))):x==="class"&&(C[y.id].li_attr.class=M[S].li_attr[x]+" "+C[y.id].li_attr.class,A&&A.addClass(M[S].li_attr[x]))}}if(M[S].a_attr!==i&&typeof M[S].a_attr=="object"){for(x in M[S].a_attr)if(M[S].a_attr.hasOwnProperty(x)){if(x==="id")continue;C[y.id].a_attr[x]===i?(C[y.id].a_attr[x]=M[S].a_attr[x],F&&(x==="class"?F.addClass(M[S].a_attr[x]):F.attr(x,M[S].a_attr[x]))):x==="href"&&C[y.id].a_attr[x]==="#"?(C[y.id].a_attr.href=M[S].a_attr.href,F&&F.attr("href",M[S].a_attr.href)):x==="class"&&(C[y.id].a_attr.class=M[S].a_attr.class+" "+C[y.id].a_attr.class,F&&F.addClass(M[S].a_attr[x]))}}return!0}},e.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(u,T){return u+" ("+T+")"}},e.jstree.plugins.unique=function(u,T){this.check=function(y,S,C,M,I){if(T.check.call(this,y,S,C,M,I)===!1)return!1;if(S=S&&(S.id||S.id===0)?S:this.get_node(S),C=C&&(C.id||C.id===0)?C:this.get_node(C),!C||!C.children)return!0;var U=y==="rename_node"?M:S.text,z=[],g=this.settings.unique.case_sensitive,x=this.settings.unique.trim_whitespace,A=this._model.data,F,B,j;for(F=0,B=C.children.length;F<B;F++)j=A[C.children[F]].text,g||(j=j.toLowerCase()),x&&(j=j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),z.push(j);switch(g||(U=U.toLowerCase()),x&&(U=U.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),y){case"delete_node":return!0;case"rename_node":return j=S.text||"",g||(j=j.toLowerCase()),x&&(j=j.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),F=e.inArray(U,z)===-1||S.text&&j===U,F||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+U+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),F;case"create_node":return F=e.inArray(U,z)===-1,F||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+U+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),F;case"copy_node":return F=e.inArray(U,z)===-1,F||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+U+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),F;case"move_node":return F=S.parent===C.id&&(!I||!I.is_multi)||e.inArray(U,z)===-1,F||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+U+" already exists. Preventing: "+y,data:JSON.stringify({chk:y,pos:M,obj:S&&(S.id||S.id===0)?S.id:!1,par:C&&(C.id||C.id===0)?C.id:!1})}),F}return!0},this.create_node=function(y,S,C,M,I){if(!S||typeof S=="object"&&S.text===i){if(y===null&&(y=e.jstree.root),y=this.get_node(y),!y)return T.create_node.call(this,y,S,C,M,I);if(C=C===i?"last":C,!C.toString().match(/^(before|after)$/)&&!I&&!this.is_loaded(y))return T.create_node.call(this,y,S,C,M,I);S||(S={});var U,z,g,x,A,F=this._model.data,B=this.settings.unique.case_sensitive,j=this.settings.unique.trim_whitespace,$=this.settings.unique.duplicate,G;for(z=U=this.get_string("New node"),g=[],x=0,A=y.children.length;x<A;x++)G=F[y.children[x]].text,B||(G=G.toLowerCase()),j&&(G=G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),g.push(G);for(x=1,G=z,B||(G=G.toLowerCase()),j&&(G=G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));e.inArray(G,g)!==-1;)z=$.call(this,U,++x).toString(),G=z,B||(G=G.toLowerCase()),j&&(G=G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));S.text=z}return T.create_node.call(this,y,S,C,M,I)}};var L=m.createElement("DIV");if(L.setAttribute("unselectable","on"),L.setAttribute("role","presentation"),L.className="jstree-wholerow",L.innerHTML="&#160;",e.jstree.plugins.wholerow=function(u,T){this.bind=function(){T.bind.call(this),this.element.on("ready.jstree set_state.jstree",(function(){this.hide_dots()}).bind(this)).on("init.jstree loading.jstree ready.jstree",(function(){this.get_container_ul().addClass("jstree-wholerow-ul")}).bind(this)).on("deselect_all.jstree",(function(y,S){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}).bind(this)).on("changed.jstree",(function(y,S){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");var C=!1,M,I;for(M=0,I=S.selected.length;M<I;M++)C=this.get_node(S.selected[M],!0),C&&C.length&&C.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("open_node.jstree",(function(y,S){this.get_node(S.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}).bind(this)).on("hover_node.jstree dehover_node.jstree",(function(y,S){y.type==="hover_node"&&this.is_disabled(S.node)||this.get_node(S.node,!0).children(".jstree-wholerow")[y.type==="hover_node"?"addClass":"removeClass"]("jstree-wholerow-hovered")}).bind(this)).on("contextmenu.jstree",".jstree-wholerow",(function(y){if(this._data.contextmenu){y.preventDefault();var S=e.Event("contextmenu",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey,pageX:y.pageX,pageY:y.pageY});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S)}}).bind(this)).on("click.jstree",".jstree-wholerow",function(y){y.stopImmediatePropagation();var S=e.Event("click",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(y){y.stopImmediatePropagation();var S=e.Event("dblclick",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",(function(y){y.stopImmediatePropagation();var S=e.Event("click",{metaKey:y.metaKey,ctrlKey:y.ctrlKey,altKey:y.altKey,shiftKey:y.shiftKey});e(y.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(S).trigger("focus")}).bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",(function(y){return y.stopImmediatePropagation(),this.is_disabled(y.currentTarget)||this.hover_node(y.currentTarget),!1}).bind(this)).on("mouseleave.jstree",".jstree-node",(function(y){this.dehover_node(y.currentTarget)}).bind(this))},this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove(),T.teardown.call(this)},this.redraw_node=function(y,S,C,M){if(y=T.redraw_node.apply(this,arguments),y){var I=L.cloneNode(!0);e.inArray(y.id,this._data.core.selected)!==-1&&(I.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===y.id&&(I.className+=" jstree-wholerow-hovered"),y.insertBefore(I,y.childNodes[0])}return y}},window.customElements&&Object&&Object.create){var R=Object.create(HTMLElement.prototype);R.createdCallback=function(){var u={core:{},plugins:[]},T;for(T in e.jstree.plugins)e.jstree.plugins.hasOwnProperty(T)&&this.attributes[T]&&(u.plugins.push(T),this.getAttribute(T)&&JSON.parse(this.getAttribute(T))&&(u[T]=JSON.parse(this.getAttribute(T))));for(T in e.jstree.defaults.core)e.jstree.defaults.core.hasOwnProperty(T)&&this.attributes[T]&&(u.core[T]=JSON.parse(this.getAttribute(T))||this.getAttribute(T));e(this).jstree(u)};try{window.customElements.define("vakata-jstree",function(){},{prototype:R})}catch{}}}})})(kY);/*!
 * Font Awesome Icon Picker
 * https://farbelous.github.io/fontawesome-iconpicker/
 *
 * @author Javi Aguilar, itsjavi.com
 * @license MIT License
 * @see https://github.com/farbelous/fontawesome-iconpicker/blob/master/LICENSE
 */(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)})(function(t){t.ui=t.ui||{},t.ui.version="1.12.1",function(){var e,i=Math.max,s=Math.abs,a=/left|center|right/,l=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,d=/%$/,m=t.fn.pos;function f(w,E,P){return[parseFloat(w[0])*(d.test(w[0])?E/100:1),parseFloat(w[1])*(d.test(w[1])?P/100:1)]}function b(w,E){return parseInt(t.css(w,E),10)||0}function k(w){var E=w[0];return E.nodeType===9?{width:w.width(),height:w.height(),offset:{top:0,left:0}}:t.isWindow(E)?{width:w.width(),height:w.height(),offset:{top:w.scrollTop(),left:w.scrollLeft()}}:E.preventDefault?{width:0,height:0,offset:{top:E.pageY,left:E.pageX}}:{width:w.outerWidth(),height:w.outerHeight(),offset:w.offset()}}t.pos={scrollbarWidth:function(){if(e!==void 0)return e;var w,E,P=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),L=P.children()[0];return t("body").append(P),w=L.offsetWidth,P.css("overflow","scroll"),E=L.offsetWidth,w===E&&(E=P[0].clientWidth),P.remove(),e=w-E},getScrollInfo:function(w){var E=w.isWindow||w.isDocument?"":w.element.css("overflow-x"),P=w.isWindow||w.isDocument?"":w.element.css("overflow-y"),L=E==="scroll"||E==="auto"&&w.width<w.element[0].scrollWidth,R=P==="scroll"||P==="auto"&&w.height<w.element[0].scrollHeight;return{width:R?t.pos.scrollbarWidth():0,height:L?t.pos.scrollbarWidth():0}},getWithinInfo:function(w){var E=t(w||window),P=t.isWindow(E[0]),L=!!E[0]&&E[0].nodeType===9,R=!P&&!L;return{element:E,isWindow:P,isDocument:L,offset:R?t(w).offset():{left:0,top:0},scrollLeft:E.scrollLeft(),scrollTop:E.scrollTop(),width:E.outerWidth(),height:E.outerHeight()}}},t.fn.pos=function(w){if(!w||!w.of)return m.apply(this,arguments);w=t.extend({},w);var E,P,L,R,u,T,y=t(w.of),S=t.pos.getWithinInfo(w.within),C=t.pos.getScrollInfo(S),M=(w.collision||"flip").split(" "),I={};return T=k(y),y[0].preventDefault&&(w.at="left top"),P=T.width,L=T.height,R=T.offset,u=t.extend({},R),t.each(["my","at"],function(){var U=(w[this]||"").split(" "),z,g;U.length===1&&(U=a.test(U[0])?U.concat(["center"]):l.test(U[0])?["center"].concat(U):["center","center"]),U[0]=a.test(U[0])?U[0]:"center",U[1]=l.test(U[1])?U[1]:"center",z=o.exec(U[0]),g=o.exec(U[1]),I[this]=[z?z[0]:0,g?g[0]:0],w[this]=[h.exec(U[0])[0],h.exec(U[1])[0]]}),M.length===1&&(M[1]=M[0]),w.at[0]==="right"?u.left+=P:w.at[0]==="center"&&(u.left+=P/2),w.at[1]==="bottom"?u.top+=L:w.at[1]==="center"&&(u.top+=L/2),E=f(I.at,P,L),u.left+=E[0],u.top+=E[1],this.each(function(){var U,z,g=t(this),x=g.outerWidth(),A=g.outerHeight(),F=b(this,"marginLeft"),B=b(this,"marginTop"),j=x+F+b(this,"marginRight")+C.width,$=A+B+b(this,"marginBottom")+C.height,G=t.extend({},u),he=f(I.my,g.outerWidth(),g.outerHeight());w.my[0]==="right"?G.left-=x:w.my[0]==="center"&&(G.left-=x/2),w.my[1]==="bottom"?G.top-=A:w.my[1]==="center"&&(G.top-=A/2),G.left+=he[0],G.top+=he[1],U={marginLeft:F,marginTop:B},t.each(["left","top"],function(Q,Z){t.ui.pos[M[Q]]&&t.ui.pos[M[Q]][Z](G,{targetWidth:P,targetHeight:L,elemWidth:x,elemHeight:A,collisionPosition:U,collisionWidth:j,collisionHeight:$,offset:[E[0]+he[0],E[1]+he[1]],my:w.my,at:w.at,within:S,elem:g})}),w.using&&(z=function(Q){var Z=R.left-G.left,ve=Z+P-x,Ie=R.top-G.top,Ve=Ie+L-A,Ae={target:{element:y,left:R.left,top:R.top,width:P,height:L},element:{element:g,left:G.left,top:G.top,width:x,height:A},horizontal:ve<0?"left":Z>0?"right":"center",vertical:Ve<0?"top":Ie>0?"bottom":"middle"};P<x&&s(Z+ve)<P&&(Ae.horizontal="center"),L<A&&s(Ie+Ve)<L&&(Ae.vertical="middle"),i(s(Z),s(ve))>i(s(Ie),s(Ve))?Ae.important="horizontal":Ae.important="vertical",w.using.call(this,Q,Ae)}),g.offset(t.extend(G,{using:z}))})},t.ui.pos={_trigger:function(w,E,P,L){E.elem&&E.elem.trigger({type:P,position:w,positionData:E,triggered:L})},fit:{left:function(w,E){t.ui.pos._trigger(w,E,"posCollide","fitLeft");var P=E.within,L=P.isWindow?P.scrollLeft:P.offset.left,R=P.width,u=w.left-E.collisionPosition.marginLeft,T=L-u,y=u+E.collisionWidth-R-L,S;E.collisionWidth>R?T>0&&y<=0?(S=w.left+T+E.collisionWidth-R-L,w.left+=T-S):y>0&&T<=0?w.left=L:T>y?w.left=L+R-E.collisionWidth:w.left=L:T>0?w.left+=T:y>0?w.left-=y:w.left=i(w.left-u,w.left),t.ui.pos._trigger(w,E,"posCollided","fitLeft")},top:function(w,E){t.ui.pos._trigger(w,E,"posCollide","fitTop");var P=E.within,L=P.isWindow?P.scrollTop:P.offset.top,R=E.within.height,u=w.top-E.collisionPosition.marginTop,T=L-u,y=u+E.collisionHeight-R-L,S;E.collisionHeight>R?T>0&&y<=0?(S=w.top+T+E.collisionHeight-R-L,w.top+=T-S):y>0&&T<=0?w.top=L:T>y?w.top=L+R-E.collisionHeight:w.top=L:T>0?w.top+=T:y>0?w.top-=y:w.top=i(w.top-u,w.top),t.ui.pos._trigger(w,E,"posCollided","fitTop")}},flip:{left:function(w,E){t.ui.pos._trigger(w,E,"posCollide","flipLeft");var P=E.within,L=P.offset.left+P.scrollLeft,R=P.width,u=P.isWindow?P.scrollLeft:P.offset.left,T=w.left-E.collisionPosition.marginLeft,y=T-u,S=T+E.collisionWidth-R-u,C=E.my[0]==="left"?-E.elemWidth:E.my[0]==="right"?E.elemWidth:0,M=E.at[0]==="left"?E.targetWidth:E.at[0]==="right"?-E.targetWidth:0,I=-2*E.offset[0],U,z;y<0?(U=w.left+C+M+I+E.collisionWidth-R-L,(U<0||U<s(y))&&(w.left+=C+M+I)):S>0&&(z=w.left-E.collisionPosition.marginLeft+C+M+I-u,(z>0||s(z)<S)&&(w.left+=C+M+I)),t.ui.pos._trigger(w,E,"posCollided","flipLeft")},top:function(w,E){t.ui.pos._trigger(w,E,"posCollide","flipTop");var P=E.within,L=P.offset.top+P.scrollTop,R=P.height,u=P.isWindow?P.scrollTop:P.offset.top,T=w.top-E.collisionPosition.marginTop,y=T-u,S=T+E.collisionHeight-R-u,C=E.my[1]==="top",M=C?-E.elemHeight:E.my[1]==="bottom"?E.elemHeight:0,I=E.at[1]==="top"?E.targetHeight:E.at[1]==="bottom"?-E.targetHeight:0,U=-2*E.offset[1],z,g;y<0?(g=w.top+M+I+U+E.collisionHeight-R-L,(g<0||g<s(y))&&(w.top+=M+I+U)):S>0&&(z=w.top-E.collisionPosition.marginTop+M+I+U-u,(z>0||s(z)<S)&&(w.top+=M+I+U)),t.ui.pos._trigger(w,E,"posCollided","flipTop")}},flipfit:{left:function(){t.ui.pos.flip.left.apply(this,arguments),t.ui.pos.fit.left.apply(this,arguments)},top:function(){t.ui.pos.flip.top.apply(this,arguments),t.ui.pos.fit.top.apply(this,arguments)}}},function(){var w,E,P,L,R,u=document.getElementsByTagName("body")[0],T=document.createElement("div");w=document.createElement(u?"div":"body"),P={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},u&&t.extend(P,{position:"absolute",left:"-1000px",top:"-1000px"});for(R in P)w.style[R]=P[R];w.appendChild(T),E=u||document.documentElement,E.insertBefore(w,E.firstChild),T.style.cssText="position: absolute; left: 10.7432222px;",L=t(T).offset().left,t.support.offsetFractions=L>10&&L<11,w.innerHTML="",E.removeChild(w)}()}(),t.ui.position});(function(t){typeof define=="function"&&define.amd?define(["jquery"],t):window.jQuery&&!window.jQuery.fn.iconpicker&&t(window.jQuery)})(function(t){var e={isEmpty:function(s){return s===!1||s===""||s===null||s===void 0},isEmptyObject:function(s){return this.isEmpty(s)===!0||s.length===0},isElement:function(s){return t(s).length>0},isString:function(s){return typeof s=="string"||s instanceof String},isArray:function(s){return t.isArray(s)},inArray:function(s,a){return t.inArray(s,a)!==-1},throwError:function(s){throw"Font Awesome Icon Picker Exception: "+s}},i=function(s,a){this._id=i._idCounter++,this.element=t(s).addClass("iconpicker-element"),this._trigger("iconpickerCreate",{iconpickerValue:this.iconpickerValue}),this.options=t.extend({},i.defaultOptions,this.element.data(),a),this.options.templates=t.extend({},i.defaultOptions.templates,this.options.templates),this.options.originalPlacement=this.options.placement,this.container=e.isElement(this.options.container)?t(this.options.container):!1,this.container===!1&&(this.element.is(".dropdown-toggle")?this.container=t("~ .dropdown-menu:first",this.element):this.container=this.element.is("input,textarea,button,.btn")?this.element.parent():this.element),this.container.addClass("iconpicker-container"),this.isDropdownMenu()&&(this.options.placement="inline"),this.input=this.element.is("input,textarea")?this.element.addClass("iconpicker-input"):!1,this.input===!1&&(this.input=this.container.find(this.options.input),this.input.is("input,textarea")||(this.input=!1)),this.component=this.isDropdownMenu()?this.container.parent().find(this.options.component):this.container.find(this.options.component),this.component.length===0?this.component=!1:this.component.find("i").addClass("iconpicker-component"),this._createPopover(),this._createIconpicker(),this.getAcceptButton().length===0&&(this.options.mustAccept=!1),this.isInputGroup()?this.container.parent().append(this.popover):this.container.append(this.popover),this._bindElementEvents(),this._bindWindowEvents(),this.update(this.options.selected),this.isInline()&&this.show(),this._trigger("iconpickerCreated",{iconpickerValue:this.iconpickerValue})};i._idCounter=0,i.defaultOptions={title:!1,selected:!1,defaultValue:!1,placement:"bottom",collision:"none",animation:!0,hideOnSelect:!1,showFooter:!1,searchInFooter:!1,mustAccept:!1,selectedCustomClass:"bg-primary",icons:[],fullClassFormatter:function(s){return s},input:"input,.iconpicker-input",inputSearch:!1,container:!1,component:".input-group-addon,.iconpicker-component",templates:{popover:'<div class="iconpicker-popover popover"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"></div></div>',footer:'<div class="popover-footer"></div>',buttons:'<button class="iconpicker-btn iconpicker-btn-cancel btn btn-default btn-sm">Cancel</button> <button class="iconpicker-btn iconpicker-btn-accept btn btn-primary btn-sm">Accept</button>',search:'<input type="search" class="form-control iconpicker-search" placeholder="Type to filter" />',iconpicker:'<div class="iconpicker"><div class="iconpicker-items"></div></div>',iconpickerItem:'<a role="button" href="javascript:;" class="iconpicker-item"><i></i></a>'}},i.batch=function(s,a){var l=Array.prototype.slice.call(arguments,2);return t(s).each(function(){var o=t(this).data("iconpicker");o&&o[a].apply(o,l)})},i.prototype={constructor:i,options:{},_id:0,_trigger:function(s,a){a=a||{},this.element.trigger(t.extend({type:s,iconpickerInstance:this},a))},_createPopover:function(){this.popover=t(this.options.templates.popover);var s=this.popover.find(".popover-title");if(this.options.title&&s.append(t('<div class="popover-title-text">'+this.options.title+"</div>")),this.hasSeparatedSearchInput()&&!this.options.searchInFooter?s.append(this.options.templates.search):this.options.title||s.remove(),this.options.showFooter&&!e.isEmpty(this.options.templates.footer)){var a=t(this.options.templates.footer);this.hasSeparatedSearchInput()&&this.options.searchInFooter&&a.append(t(this.options.templates.search)),e.isEmpty(this.options.templates.buttons)||a.append(t(this.options.templates.buttons)),this.popover.append(a)}return this.options.animation===!0&&this.popover.addClass("fade"),this.popover},_createIconpicker:function(){var s=this;this.iconpicker=t(this.options.templates.iconpicker);var a=function(b){var k=t(this);k.is("i")&&(k=k.parent()),s._trigger("iconpickerSelect",{iconpickerItem:k,iconpickerValue:s.iconpickerValue}),s.options.mustAccept===!1?(s.update(k.data("iconpickerValue")),s._trigger("iconpickerSelected",{iconpickerItem:this,iconpickerValue:s.iconpickerValue})):s.update(k.data("iconpickerValue"),!0),s.options.hideOnSelect&&s.options.mustAccept===!1&&s.hide()},l=t(this.options.templates.iconpickerItem),o=[];for(var h in this.options.icons)if(typeof this.options.icons[h].title=="string"){var d=l.clone();if(d.find("i").addClass(this.options.fullClassFormatter(this.options.icons[h].title)),d.data("iconpickerValue",this.options.icons[h].title).on("click.iconpicker",a),d.attr("title","."+this.options.icons[h].title),this.options.icons[h].searchTerms.length>0){for(var m="",f=0;f<this.options.icons[h].searchTerms.length;f++)m=m+this.options.icons[h].searchTerms[f]+" ";d.attr("data-search-terms",m)}o.push(d)}return this.iconpicker.find(".iconpicker-items").append(o),this.popover.find(".popover-content").append(this.iconpicker),this.iconpicker},_isEventInsideIconpicker:function(s){var a=t(s.target);return!((!a.hasClass("iconpicker-element")||a.hasClass("iconpicker-element")&&!a.is(this.element))&&a.parents(".iconpicker-popover").length===0)},_bindElementEvents:function(){var s=this;this.getSearchInput().on("keyup.iconpicker",function(){s.filter(t(this).val().toLowerCase())}),this.getAcceptButton().on("click.iconpicker",function(){var a=s.iconpicker.find(".iconpicker-selected").get(0);s.update(s.iconpickerValue),s._trigger("iconpickerSelected",{iconpickerItem:a,iconpickerValue:s.iconpickerValue}),s.isInline()||s.hide()}),this.getCancelButton().on("click.iconpicker",function(){s.isInline()||s.hide()}),this.element.on("focus.iconpicker",function(a){s.show(),a.stopPropagation()}),this.hasComponent()&&this.component.on("click.iconpicker",function(){s.toggle()}),this.hasInput()&&this.input.on("keyup.iconpicker",function(a){e.inArray(a.keyCode,[38,40,37,39,16,17,18,9,8,91,93,20,46,186,190,46,78,188,44,86])?s._updateFormGroupStatus(s.getValid(this.value)!==!1):s.update(),s.options.inputSearch===!0&&s.filter(t(this).val().toLowerCase())})},_bindWindowEvents:function(){var s=t(window.document),a=this,l=".iconpicker.inst"+this._id;t(window).on("resize.iconpicker"+l+" orientationchange.iconpicker"+l,function(o){a.popover.hasClass("in")&&a.updatePlacement()}),a.isInline()||s.on("mouseup"+l,function(o){!a._isEventInsideIconpicker(o)&&!a.isInline()&&a.hide()})},_unbindElementEvents:function(){this.popover.off(".iconpicker"),this.element.off(".iconpicker"),this.hasInput()&&this.input.off(".iconpicker"),this.hasComponent()&&this.component.off(".iconpicker"),this.hasContainer()&&this.container.off(".iconpicker")},_unbindWindowEvents:function(){t(window).off(".iconpicker.inst"+this._id),t(window.document).off(".iconpicker.inst"+this._id)},updatePlacement:function(s,a){s=s||this.options.placement,this.options.placement=s,a=a||this.options.collision,a=a===!0?"flip":a;var l={at:"right bottom",my:"right top",of:this.hasInput()&&!this.isInputGroup()?this.input:this.container,collision:a===!0?"flip":a,within:window};if(this.popover.removeClass("inline topLeftCorner topLeft top topRight topRightCorner rightTop right rightBottom bottomRight bottomRightCorner bottom bottomLeft bottomLeftCorner leftBottom left leftTop"),typeof s=="object")return this.popover.pos(t.extend({},l,s));switch(s){case"inline":l=!1;break;case"topLeftCorner":l.my="right bottom",l.at="left top";break;case"topLeft":l.my="left bottom",l.at="left top";break;case"top":l.my="center bottom",l.at="center top";break;case"topRight":l.my="right bottom",l.at="right top";break;case"topRightCorner":l.my="left bottom",l.at="right top";break;case"rightTop":l.my="left bottom",l.at="right center";break;case"right":l.my="left center",l.at="right center";break;case"rightBottom":l.my="left top",l.at="right center";break;case"bottomRightCorner":l.my="left top",l.at="right bottom";break;case"bottomRight":l.my="right top",l.at="right bottom";break;case"bottom":l.my="center top",l.at="center bottom";break;case"bottomLeft":l.my="left top",l.at="left bottom";break;case"bottomLeftCorner":l.my="right top",l.at="left bottom";break;case"leftBottom":l.my="right top",l.at="left center";break;case"left":l.my="right center",l.at="left center";break;case"leftTop":l.my="right bottom",l.at="left center";break;default:return!1}return this.popover.css({display:this.options.placement==="inline"?"":"block"}),l!==!1?this.popover.pos(l).css("maxWidth",t(window).width()-this.container.offset().left-5):this.popover.css({top:"auto",right:"auto",bottom:"auto",left:"auto",maxWidth:"none"}),this.popover.addClass(this.options.placement),!0},_updateComponents:function(){if(this.iconpicker.find(".iconpicker-item.iconpicker-selected").removeClass("iconpicker-selected "+this.options.selectedCustomClass),this.iconpickerValue&&this.iconpicker.find("."+this.options.fullClassFormatter(this.iconpickerValue).replace(/ /g,".")).parent().addClass("iconpicker-selected "+this.options.selectedCustomClass),this.hasComponent()){var s=this.component.find("i");s.length>0?s.attr("class",this.options.fullClassFormatter(this.iconpickerValue)):this.component.html(this.getHtml())}},_updateFormGroupStatus:function(s){return this.hasInput()?(s!==!1?this.input.parents(".form-group:first").removeClass("has-error"):this.input.parents(".form-group:first").addClass("has-error"),!0):!1},getValid:function(s){e.isString(s)||(s="");var a=s==="";s=t.trim(s);for(var l=!1,o=0;o<this.options.icons.length;o++)if(this.options.icons[o].title===s){l=!0;break}return l||a?s:!1},setValue:function(s){var a=this.getValid(s);return a!==!1?(this.iconpickerValue=a,this._trigger("iconpickerSetValue",{iconpickerValue:a}),this.iconpickerValue):(this._trigger("iconpickerInvalid",{iconpickerValue:s}),!1)},getHtml:function(){return'<i class="'+this.options.fullClassFormatter(this.iconpickerValue)+'"></i>'},setSourceValue:function(s){return s=this.setValue(s),s!==!1&&s!==""&&(this.hasInput()?this.input.val(this.iconpickerValue):this.element.data("iconpickerValue",this.iconpickerValue),this._trigger("iconpickerSetSourceValue",{iconpickerValue:s})),s},getSourceValue:function(s){s=s||this.options.defaultValue;var a=s;return this.hasInput()?a=this.input.val():a=this.element.data("iconpickerValue"),(a===void 0||a===""||a===null||a===!1)&&(a=s),a},hasInput:function(){return this.input!==!1},isInputSearch:function(){return this.hasInput()&&this.options.inputSearch===!0},isInputGroup:function(){return this.container.is(".input-group")},isDropdownMenu:function(){return this.container.is(".dropdown-menu")},hasSeparatedSearchInput:function(){return this.options.templates.search!==!1&&!this.isInputSearch()},hasComponent:function(){return this.component!==!1},hasContainer:function(){return this.container!==!1},getAcceptButton:function(){return this.popover.find(".iconpicker-btn-accept")},getCancelButton:function(){return this.popover.find(".iconpicker-btn-cancel")},getSearchInput:function(){return this.popover.find(".iconpicker-search")},filter:function(s){if(e.isEmpty(s))return this.iconpicker.find(".iconpicker-item").show(),t(!1);var a=[];return this.iconpicker.find(".iconpicker-item").each(function(){var l=t(this),o=l.attr("title").toLowerCase(),h=l.attr("data-search-terms")?l.attr("data-search-terms").toLowerCase():"";o=o+" "+h;var d=!1;try{d=new RegExp("(^|\\W)"+s,"g")}catch{d=!1}d!==!1&&o.match(d)?(a.push(l),l.show()):l.hide()}),a},show:function(){if(this.popover.hasClass("in"))return!1;t.iconpicker.batch(t(".iconpicker-popover.in:not(.inline)").not(this.popover),"hide"),this._trigger("iconpickerShow",{iconpickerValue:this.iconpickerValue}),this.updatePlacement(),this.popover.addClass("in"),setTimeout(t.proxy(function(){this.popover.css("display",this.isInline()?"":"block"),this._trigger("iconpickerShown",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},hide:function(){if(!this.popover.hasClass("in"))return!1;this._trigger("iconpickerHide",{iconpickerValue:this.iconpickerValue}),this.popover.removeClass("in"),setTimeout(t.proxy(function(){this.popover.css("display","none"),this.getSearchInput().val(""),this.filter(""),this._trigger("iconpickerHidden",{iconpickerValue:this.iconpickerValue})},this),this.options.animation?300:1)},toggle:function(){this.popover.is(":visible")?this.hide():this.show(!0)},update:function(s,a){return s=s||this.getSourceValue(this.iconpickerValue),this._trigger("iconpickerUpdate",{iconpickerValue:this.iconpickerValue}),a===!0?s=this.setValue(s):(s=this.setSourceValue(s),this._updateFormGroupStatus(s!==!1)),s!==!1&&this._updateComponents(),this._trigger("iconpickerUpdated",{iconpickerValue:this.iconpickerValue}),s},destroy:function(){this._trigger("iconpickerDestroy",{iconpickerValue:this.iconpickerValue}),this.element.removeData("iconpicker").removeData("iconpickerValue").removeClass("iconpicker-element"),this._unbindElementEvents(),this._unbindWindowEvents(),t(this.popover).remove(),this._trigger("iconpickerDestroyed",{iconpickerValue:this.iconpickerValue})},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},isInline:function(){return this.options.placement==="inline"||this.popover.hasClass("inline")}},t.iconpicker=i,t.fn.iconpicker=function(s){return this.each(function(){var a=t(this);a.data("iconpicker")||a.data("iconpicker",new i(this,typeof s=="object"?s:{}))})},i.defaultOptions=t.extend(i.defaultOptions,{icons:[{title:"fab fa-500px",searchTerms:[]},{title:"fab fa-accessible-icon",searchTerms:["accessibility","handicap","person","wheelchair","wheelchair-alt"]},{title:"fab fa-accusoft",searchTerms:[]},{title:"fab fa-acquisitions-incorporated",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-ad",searchTerms:[]},{title:"fas fa-address-book",searchTerms:[]},{title:"far fa-address-book",searchTerms:[]},{title:"fas fa-address-card",searchTerms:[]},{title:"far fa-address-card",searchTerms:[]},{title:"fas fa-adjust",searchTerms:["contrast"]},{title:"fab fa-adn",searchTerms:[]},{title:"fab fa-adversal",searchTerms:[]},{title:"fab fa-affiliatetheme",searchTerms:[]},{title:"fas fa-air-freshener",searchTerms:[]},{title:"fab fa-algolia",searchTerms:[]},{title:"fas fa-align-center",searchTerms:["middle","text"]},{title:"fas fa-align-justify",searchTerms:["text"]},{title:"fas fa-align-left",searchTerms:["text"]},{title:"fas fa-align-right",searchTerms:["text"]},{title:"fab fa-alipay",searchTerms:[]},{title:"fas fa-allergies",searchTerms:["freckles","hand","intolerances","pox","spots"]},{title:"fab fa-amazon",searchTerms:[]},{title:"fab fa-amazon-pay",searchTerms:[]},{title:"fas fa-ambulance",searchTerms:["help","machine","support","vehicle"]},{title:"fas fa-american-sign-language-interpreting",searchTerms:[]},{title:"fab fa-amilia",searchTerms:[]},{title:"fas fa-anchor",searchTerms:["link"]},{title:"fab fa-android",searchTerms:["robot"]},{title:"fab fa-angellist",searchTerms:[]},{title:"fas fa-angle-double-down",searchTerms:["arrows"]},{title:"fas fa-angle-double-left",searchTerms:["arrows","back","laquo","previous","quote"]},{title:"fas fa-angle-double-right",searchTerms:["arrows","forward","next","quote","raquo"]},{title:"fas fa-angle-double-up",searchTerms:["arrows"]},{title:"fas fa-angle-down",searchTerms:["arrow"]},{title:"fas fa-angle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-angle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-angle-up",searchTerms:["arrow"]},{title:"fas fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"far fa-angry",searchTerms:["disapprove","emoticon","face","mad","upset"]},{title:"fab fa-angrycreative",searchTerms:[]},{title:"fab fa-angular",searchTerms:[]},{title:"fas fa-ankh",searchTerms:["amulet","copper","coptic christianity","copts","crux ansata","egyptian","venus"]},{title:"fab fa-app-store",searchTerms:[]},{title:"fab fa-app-store-ios",searchTerms:[]},{title:"fab fa-apper",searchTerms:[]},{title:"fab fa-apple",searchTerms:["food","fruit","mac","osx"]},{title:"fas fa-apple-alt",searchTerms:["fall","food","fruit","fuji","macintosh","seasonal"]},{title:"fab fa-apple-pay",searchTerms:[]},{title:"fas fa-archive",searchTerms:["box","package","storage"]},{title:"fas fa-archway",searchTerms:["arc","monument","road","street"]},{title:"fas fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"far fa-arrow-alt-circle-down",searchTerms:["arrow-circle-o-down","download"]},{title:"fas fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"far fa-arrow-alt-circle-left",searchTerms:["arrow-circle-o-left","back","previous"]},{title:"fas fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"far fa-arrow-alt-circle-right",searchTerms:["arrow-circle-o-right","forward","next"]},{title:"fas fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"far fa-arrow-alt-circle-up",searchTerms:["arrow-circle-o-up"]},{title:"fas fa-arrow-circle-down",searchTerms:["download"]},{title:"fas fa-arrow-circle-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-circle-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-circle-up",searchTerms:[]},{title:"fas fa-arrow-down",searchTerms:["download"]},{title:"fas fa-arrow-left",searchTerms:["back","previous"]},{title:"fas fa-arrow-right",searchTerms:["forward","next"]},{title:"fas fa-arrow-up",searchTerms:[]},{title:"fas fa-arrows-alt",searchTerms:["arrow","arrows","bigger","enlarge","expand","fullscreen","move","position","reorder","resize"]},{title:"fas fa-arrows-alt-h",searchTerms:["arrows-h","resize"]},{title:"fas fa-arrows-alt-v",searchTerms:["arrows-v","resize"]},{title:"fas fa-assistive-listening-systems",searchTerms:[]},{title:"fas fa-asterisk",searchTerms:["details"]},{title:"fab fa-asymmetrik",searchTerms:[]},{title:"fas fa-at",searchTerms:["e-mail","email"]},{title:"fas fa-atlas",searchTerms:["book","directions","geography","map","wayfinding"]},{title:"fas fa-atom",searchTerms:["atheism","chemistry","science"]},{title:"fab fa-audible",searchTerms:[]},{title:"fas fa-audio-description",searchTerms:[]},{title:"fab fa-autoprefixer",searchTerms:[]},{title:"fab fa-avianex",searchTerms:[]},{title:"fab fa-aviato",searchTerms:[]},{title:"fas fa-award",searchTerms:["honor","praise","prize","recognition","ribbon"]},{title:"fab fa-aws",searchTerms:[]},{title:"fas fa-backspace",searchTerms:["command","delete","keyboard","undo"]},{title:"fas fa-backward",searchTerms:["previous","rewind"]},{title:"fas fa-balance-scale",searchTerms:["balanced","justice","legal","measure","weight"]},{title:"fas fa-ban",searchTerms:["abort","ban","block","cancel","delete","hide","prohibit","remove","stop","trash"]},{title:"fas fa-band-aid",searchTerms:["bandage","boo boo","ouch"]},{title:"fab fa-bandcamp",searchTerms:[]},{title:"fas fa-barcode",searchTerms:["scan"]},{title:"fas fa-bars",searchTerms:["checklist","drag","hamburger","list","menu","nav","navigation","ol","reorder","settings","todo","ul"]},{title:"fas fa-baseball-ball",searchTerms:[]},{title:"fas fa-basketball-ball",searchTerms:[]},{title:"fas fa-bath",searchTerms:[]},{title:"fas fa-battery-empty",searchTerms:["power","status"]},{title:"fas fa-battery-full",searchTerms:["power","status"]},{title:"fas fa-battery-half",searchTerms:["power","status"]},{title:"fas fa-battery-quarter",searchTerms:["power","status"]},{title:"fas fa-battery-three-quarters",searchTerms:["power","status"]},{title:"fas fa-bed",searchTerms:["lodging","sleep","travel"]},{title:"fas fa-beer",searchTerms:["alcohol","bar","beverage","drink","liquor","mug","stein"]},{title:"fab fa-behance",searchTerms:[]},{title:"fab fa-behance-square",searchTerms:[]},{title:"fas fa-bell",searchTerms:["alert","notification","reminder"]},{title:"far fa-bell",searchTerms:["alert","notification","reminder"]},{title:"fas fa-bell-slash",searchTerms:[]},{title:"far fa-bell-slash",searchTerms:[]},{title:"fas fa-bezier-curve",searchTerms:["curves","illustrator","lines","path","vector"]},{title:"fas fa-bible",searchTerms:["book","catholicism","christianity"]},{title:"fas fa-bicycle",searchTerms:["bike","gears","transportation","vehicle"]},{title:"fab fa-bimobject",searchTerms:[]},{title:"fas fa-binoculars",searchTerms:[]},{title:"fas fa-birthday-cake",searchTerms:[]},{title:"fab fa-bitbucket",searchTerms:["bitbucket-square","git"]},{title:"fab fa-bitcoin",searchTerms:[]},{title:"fab fa-bity",searchTerms:[]},{title:"fab fa-black-tie",searchTerms:[]},{title:"fab fa-blackberry",searchTerms:[]},{title:"fas fa-blender",searchTerms:[]},{title:"fas fa-blender-phone",searchTerms:["appliance","fantasy","silly"]},{title:"fas fa-blind",searchTerms:[]},{title:"fab fa-blogger",searchTerms:[]},{title:"fab fa-blogger-b",searchTerms:[]},{title:"fab fa-bluetooth",searchTerms:[]},{title:"fab fa-bluetooth-b",searchTerms:[]},{title:"fas fa-bold",searchTerms:[]},{title:"fas fa-bolt",searchTerms:["electricity","lightning","weather","zap"]},{title:"fas fa-bomb",searchTerms:[]},{title:"fas fa-bone",searchTerms:[]},{title:"fas fa-bong",searchTerms:["aparatus","cannabis","marijuana","pipe","smoke","smoking"]},{title:"fas fa-book",searchTerms:["documentation","read"]},{title:"fas fa-book-dead",searchTerms:["Dungeons & Dragons","crossbones","d&d","dark arts","death","dnd","documentation","evil","fantasy","halloween","holiday","read","skull","spell"]},{title:"fas fa-book-open",searchTerms:["flyer","notebook","open book","pamphlet","reading"]},{title:"fas fa-book-reader",searchTerms:["library"]},{title:"fas fa-bookmark",searchTerms:["save"]},{title:"far fa-bookmark",searchTerms:["save"]},{title:"fas fa-bowling-ball",searchTerms:[]},{title:"fas fa-box",searchTerms:["package"]},{title:"fas fa-box-open",searchTerms:[]},{title:"fas fa-boxes",searchTerms:[]},{title:"fas fa-braille",searchTerms:[]},{title:"fas fa-brain",searchTerms:["cerebellum","gray matter","intellect","medulla oblongata","mind","noodle","wit"]},{title:"fas fa-briefcase",searchTerms:["bag","business","luggage","office","work"]},{title:"fas fa-briefcase-medical",searchTerms:["health briefcase"]},{title:"fas fa-broadcast-tower",searchTerms:["airwaves","radio","waves"]},{title:"fas fa-broom",searchTerms:["clean","firebolt","fly","halloween","holiday","nimbus 2000","quidditch","sweep","witch"]},{title:"fas fa-brush",searchTerms:["bristles","color","handle","painting"]},{title:"fab fa-btc",searchTerms:[]},{title:"fas fa-bug",searchTerms:["insect","report"]},{title:"fas fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"far fa-building",searchTerms:["apartment","business","company","office","work"]},{title:"fas fa-bullhorn",searchTerms:["announcement","broadcast","louder","megaphone","share"]},{title:"fas fa-bullseye",searchTerms:["target"]},{title:"fas fa-burn",searchTerms:["energy"]},{title:"fab fa-buromobelexperte",searchTerms:[]},{title:"fas fa-bus",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-bus-alt",searchTerms:["machine","public transportation","transportation","vehicle"]},{title:"fas fa-business-time",searchTerms:["briefcase","business socks","clock","flight of the conchords","wednesday"]},{title:"fab fa-buysellads",searchTerms:[]},{title:"fas fa-calculator",searchTerms:[]},{title:"fas fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"far fa-calendar",searchTerms:["calendar-o","date","event","schedule","time","when"]},{title:"fas fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"far fa-calendar-alt",searchTerms:["calendar","date","event","schedule","time","when"]},{title:"fas fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"far fa-calendar-check",searchTerms:["accept","agree","appointment","confirm","correct","done","ok","select","success","todo"]},{title:"fas fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"far fa-calendar-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"far fa-calendar-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"far fa-calendar-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-camera",searchTerms:["photo","picture","record"]},{title:"fas fa-camera-retro",searchTerms:["photo","picture","record"]},{title:"fas fa-campground",searchTerms:["camping","fall","outdoors","seasonal","tent"]},{title:"fas fa-cannabis",searchTerms:["bud","chronic","drugs","endica","endo","ganja","marijuana","mary jane","pot","reefer","sativa","spliff","weed","whacky-tabacky"]},{title:"fas fa-capsules",searchTerms:["drugs","medicine"]},{title:"fas fa-car",searchTerms:["machine","transportation","vehicle"]},{title:"fas fa-car-alt",searchTerms:[]},{title:"fas fa-car-battery",searchTerms:[]},{title:"fas fa-car-crash",searchTerms:[]},{title:"fas fa-car-side",searchTerms:[]},{title:"fas fa-caret-down",searchTerms:["arrow","dropdown","menu","more","triangle down"]},{title:"fas fa-caret-left",searchTerms:["arrow","back","previous","triangle left"]},{title:"fas fa-caret-right",searchTerms:["arrow","forward","next","triangle right"]},{title:"fas fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"far fa-caret-square-down",searchTerms:["caret-square-o-down","dropdown","menu","more"]},{title:"fas fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"far fa-caret-square-left",searchTerms:["back","caret-square-o-left","previous"]},{title:"fas fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"far fa-caret-square-right",searchTerms:["caret-square-o-right","forward","next"]},{title:"fas fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"far fa-caret-square-up",searchTerms:["caret-square-o-up"]},{title:"fas fa-caret-up",searchTerms:["arrow","triangle up"]},{title:"fas fa-cart-arrow-down",searchTerms:["shopping"]},{title:"fas fa-cart-plus",searchTerms:["add","create","new","positive","shopping"]},{title:"fas fa-cat",searchTerms:["feline","halloween","holiday","kitten","kitty","meow","pet"]},{title:"fab fa-cc-amazon-pay",searchTerms:[]},{title:"fab fa-cc-amex",searchTerms:["amex"]},{title:"fab fa-cc-apple-pay",searchTerms:[]},{title:"fab fa-cc-diners-club",searchTerms:[]},{title:"fab fa-cc-discover",searchTerms:[]},{title:"fab fa-cc-jcb",searchTerms:[]},{title:"fab fa-cc-mastercard",searchTerms:[]},{title:"fab fa-cc-paypal",searchTerms:[]},{title:"fab fa-cc-stripe",searchTerms:[]},{title:"fab fa-cc-visa",searchTerms:[]},{title:"fab fa-centercode",searchTerms:[]},{title:"fas fa-certificate",searchTerms:["badge","star"]},{title:"fas fa-chair",searchTerms:["furniture","seat"]},{title:"fas fa-chalkboard",searchTerms:["blackboard","learning","school","teaching","whiteboard","writing"]},{title:"fas fa-chalkboard-teacher",searchTerms:["blackboard","instructor","learning","professor","school","whiteboard","writing"]},{title:"fas fa-charging-station",searchTerms:[]},{title:"fas fa-chart-area",searchTerms:["analytics","area-chart","graph"]},{title:"fas fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"far fa-chart-bar",searchTerms:["analytics","bar-chart","graph"]},{title:"fas fa-chart-line",searchTerms:["activity","analytics","dashboard","graph","line-chart"]},{title:"fas fa-chart-pie",searchTerms:["analytics","graph","pie-chart"]},{title:"fas fa-check",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo","yes"]},{title:"fas fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-circle",searchTerms:["accept","agree","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-check-double",searchTerms:["accept","agree","checkmark","confirm","correct","done","notice","notification","notify","ok","select","success","tick","todo"]},{title:"fas fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"far fa-check-square",searchTerms:["accept","agree","checkmark","confirm","correct","done","ok","select","success","todo","yes"]},{title:"fas fa-chess",searchTerms:[]},{title:"fas fa-chess-bishop",searchTerms:[]},{title:"fas fa-chess-board",searchTerms:[]},{title:"fas fa-chess-king",searchTerms:[]},{title:"fas fa-chess-knight",searchTerms:[]},{title:"fas fa-chess-pawn",searchTerms:[]},{title:"fas fa-chess-queen",searchTerms:[]},{title:"fas fa-chess-rook",searchTerms:[]},{title:"fas fa-chevron-circle-down",searchTerms:["arrow","dropdown","menu","more"]},{title:"fas fa-chevron-circle-left",searchTerms:["arrow","back","previous"]},{title:"fas fa-chevron-circle-right",searchTerms:["arrow","forward","next"]},{title:"fas fa-chevron-circle-up",searchTerms:["arrow"]},{title:"fas fa-chevron-down",searchTerms:[]},{title:"fas fa-chevron-left",searchTerms:["back","bracket","previous"]},{title:"fas fa-chevron-right",searchTerms:["bracket","forward","next"]},{title:"fas fa-chevron-up",searchTerms:[]},{title:"fas fa-child",searchTerms:[]},{title:"fab fa-chrome",searchTerms:["browser"]},{title:"fas fa-church",searchTerms:["building","community","religion"]},{title:"fas fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"far fa-circle",searchTerms:["circle-thin","dot","notification"]},{title:"fas fa-circle-notch",searchTerms:["circle-o-notch"]},{title:"fas fa-city",searchTerms:["buildings","busy","skyscrapers","urban","windows"]},{title:"fas fa-clipboard",searchTerms:["paste"]},{title:"far fa-clipboard",searchTerms:["paste"]},{title:"fas fa-clipboard-check",searchTerms:["accept","agree","confirm","done","ok","select","success","todo","yes"]},{title:"fas fa-clipboard-list",searchTerms:["checklist","completed","done","finished","intinerary","ol","schedule","todo","ul"]},{title:"fas fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"far fa-clock",searchTerms:["date","late","schedule","timer","timestamp","watch"]},{title:"fas fa-clone",searchTerms:["copy","duplicate"]},{title:"far fa-clone",searchTerms:["copy","duplicate"]},{title:"fas fa-closed-captioning",searchTerms:["cc"]},{title:"far fa-closed-captioning",searchTerms:["cc"]},{title:"fas fa-cloud",searchTerms:["save"]},{title:"fas fa-cloud-download-alt",searchTerms:["import"]},{title:"fas fa-cloud-meatball",searchTerms:[]},{title:"fas fa-cloud-moon",searchTerms:["crescent","evening","halloween","holiday","lunar","night","sky"]},{title:"fas fa-cloud-moon-rain",searchTerms:[]},{title:"fas fa-cloud-rain",searchTerms:["precipitation"]},{title:"fas fa-cloud-showers-heavy",searchTerms:["precipitation","rain","storm"]},{title:"fas fa-cloud-sun",searchTerms:["day","daytime","fall","outdoors","seasonal"]},{title:"fas fa-cloud-sun-rain",searchTerms:[]},{title:"fas fa-cloud-upload-alt",searchTerms:["cloud-upload"]},{title:"fab fa-cloudscale",searchTerms:[]},{title:"fab fa-cloudsmith",searchTerms:[]},{title:"fab fa-cloudversify",searchTerms:[]},{title:"fas fa-cocktail",searchTerms:["alcohol","beverage","drink"]},{title:"fas fa-code",searchTerms:["brackets","html"]},{title:"fas fa-code-branch",searchTerms:["branch","code-fork","fork","git","github","rebase","svn","vcs","version"]},{title:"fab fa-codepen",searchTerms:[]},{title:"fab fa-codiepie",searchTerms:[]},{title:"fas fa-coffee",searchTerms:["beverage","breakfast","cafe","drink","fall","morning","mug","seasonal","tea"]},{title:"fas fa-cog",searchTerms:["settings"]},{title:"fas fa-cogs",searchTerms:["gears","settings"]},{title:"fas fa-coins",searchTerms:[]},{title:"fas fa-columns",searchTerms:["dashboard","panes","split"]},{title:"fas fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comment-alt",searchTerms:["bubble","chat","commenting","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comment-dollar",searchTerms:[]},{title:"fas fa-comment-dots",searchTerms:[]},{title:"far fa-comment-dots",searchTerms:[]},{title:"fas fa-comment-slash",searchTerms:[]},{title:"fas fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"far fa-comments",searchTerms:["bubble","chat","conversation","feedback","message","note","notification","sms","speech","texting"]},{title:"fas fa-comments-dollar",searchTerms:[]},{title:"fas fa-compact-disc",searchTerms:["bluray","cd","disc","media"]},{title:"fas fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"far fa-compass",searchTerms:["directory","location","menu","safari"]},{title:"fas fa-compress",searchTerms:["collapse","combine","contract","merge","smaller"]},{title:"fas fa-concierge-bell",searchTerms:["attention","hotel","service","support"]},{title:"fab fa-connectdevelop",searchTerms:[]},{title:"fab fa-contao",searchTerms:[]},{title:"fas fa-cookie",searchTerms:["baked good","chips","food","snack","sweet","treat"]},{title:"fas fa-cookie-bite",searchTerms:["baked good","bitten","chips","eating","food","snack","sweet","treat"]},{title:"fas fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"far fa-copy",searchTerms:["clone","duplicate","file","files-o"]},{title:"fas fa-copyright",searchTerms:[]},{title:"far fa-copyright",searchTerms:[]},{title:"fas fa-couch",searchTerms:["furniture","sofa"]},{title:"fab fa-cpanel",searchTerms:[]},{title:"fab fa-creative-commons",searchTerms:[]},{title:"fab fa-creative-commons-by",searchTerms:[]},{title:"fab fa-creative-commons-nc",searchTerms:[]},{title:"fab fa-creative-commons-nc-eu",searchTerms:[]},{title:"fab fa-creative-commons-nc-jp",searchTerms:[]},{title:"fab fa-creative-commons-nd",searchTerms:[]},{title:"fab fa-creative-commons-pd",searchTerms:[]},{title:"fab fa-creative-commons-pd-alt",searchTerms:[]},{title:"fab fa-creative-commons-remix",searchTerms:[]},{title:"fab fa-creative-commons-sa",searchTerms:[]},{title:"fab fa-creative-commons-sampling",searchTerms:[]},{title:"fab fa-creative-commons-sampling-plus",searchTerms:[]},{title:"fab fa-creative-commons-share",searchTerms:[]},{title:"fab fa-creative-commons-zero",searchTerms:[]},{title:"fas fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"far fa-credit-card",searchTerms:["buy","checkout","credit-card-alt","debit","money","payment","purchase"]},{title:"fab fa-critical-role",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-crop",searchTerms:["design"]},{title:"fas fa-crop-alt",searchTerms:[]},{title:"fas fa-cross",searchTerms:["catholicism","christianity"]},{title:"fas fa-crosshairs",searchTerms:["gpd","picker","position"]},{title:"fas fa-crow",searchTerms:["bird","bullfrog","fauna","halloween","holiday","toad"]},{title:"fas fa-crown",searchTerms:[]},{title:"fab fa-css3",searchTerms:["code"]},{title:"fab fa-css3-alt",searchTerms:[]},{title:"fas fa-cube",searchTerms:["package"]},{title:"fas fa-cubes",searchTerms:["packages"]},{title:"fas fa-cut",searchTerms:["scissors"]},{title:"fab fa-cuttlefish",searchTerms:[]},{title:"fab fa-d-and-d",searchTerms:[]},{title:"fab fa-d-and-d-beyond",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","gaming","tabletop"]},{title:"fab fa-dashcube",searchTerms:[]},{title:"fas fa-database",searchTerms:[]},{title:"fas fa-deaf",searchTerms:[]},{title:"fab fa-delicious",searchTerms:[]},{title:"fas fa-democrat",searchTerms:["american","democratic party","donkey","election","left","left-wing","liberal","politics","usa"]},{title:"fab fa-deploydog",searchTerms:[]},{title:"fab fa-deskpro",searchTerms:[]},{title:"fas fa-desktop",searchTerms:["computer","cpu","demo","desktop","device","machine","monitor","pc","screen"]},{title:"fab fa-dev",searchTerms:[]},{title:"fab fa-deviantart",searchTerms:[]},{title:"fas fa-dharmachakra",searchTerms:["buddhism","buddhist","wheel of dharma"]},{title:"fas fa-diagnoses",searchTerms:[]},{title:"fas fa-dice",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-d20",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-d6",searchTerms:["Dungeons & Dragons","chance","d&d","dnd","fantasy","gambling","game","roll"]},{title:"fas fa-dice-five",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-four",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-one",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-six",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-three",searchTerms:["chance","gambling","game","roll"]},{title:"fas fa-dice-two",searchTerms:["chance","gambling","game","roll"]},{title:"fab fa-digg",searchTerms:[]},{title:"fab fa-digital-ocean",searchTerms:[]},{title:"fas fa-digital-tachograph",searchTerms:[]},{title:"fas fa-directions",searchTerms:[]},{title:"fab fa-discord",searchTerms:[]},{title:"fab fa-discourse",searchTerms:[]},{title:"fas fa-divide",searchTerms:[]},{title:"fas fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"far fa-dizzy",searchTerms:["dazed","disapprove","emoticon","face"]},{title:"fas fa-dna",searchTerms:["double helix","helix"]},{title:"fab fa-dochub",searchTerms:[]},{title:"fab fa-docker",searchTerms:[]},{title:"fas fa-dog",searchTerms:["canine","fauna","mammmal","pet","pooch","puppy","woof"]},{title:"fas fa-dollar-sign",searchTerms:["$","dollar-sign","money","price","usd"]},{title:"fas fa-dolly",searchTerms:[]},{title:"fas fa-dolly-flatbed",searchTerms:[]},{title:"fas fa-donate",searchTerms:["generosity","give"]},{title:"fas fa-door-closed",searchTerms:[]},{title:"fas fa-door-open",searchTerms:[]},{title:"fas fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"far fa-dot-circle",searchTerms:["bullseye","notification","target"]},{title:"fas fa-dove",searchTerms:["bird","fauna","flying","peace"]},{title:"fas fa-download",searchTerms:["import"]},{title:"fab fa-draft2digital",searchTerms:[]},{title:"fas fa-drafting-compass",searchTerms:["mechanical drawing","plot","plotting"]},{title:"fas fa-dragon",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy"]},{title:"fas fa-draw-polygon",searchTerms:[]},{title:"fab fa-dribbble",searchTerms:[]},{title:"fab fa-dribbble-square",searchTerms:[]},{title:"fab fa-dropbox",searchTerms:[]},{title:"fas fa-drum",searchTerms:["instrument","music","percussion","snare","sound"]},{title:"fas fa-drum-steelpan",searchTerms:["calypso","instrument","music","percussion","reggae","snare","sound","steel","tropical"]},{title:"fas fa-drumstick-bite",searchTerms:[]},{title:"fab fa-drupal",searchTerms:[]},{title:"fas fa-dumbbell",searchTerms:["exercise","gym","strength","weight","weight-lifting"]},{title:"fas fa-dungeon",searchTerms:["Dungeons & Dragons","d&d","dnd","door","entrance","fantasy","gate"]},{title:"fab fa-dyalog",searchTerms:[]},{title:"fab fa-earlybirds",searchTerms:[]},{title:"fab fa-ebay",searchTerms:[]},{title:"fab fa-edge",searchTerms:["browser","ie"]},{title:"fas fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"far fa-edit",searchTerms:["edit","pen","pencil","update","write"]},{title:"fas fa-eject",searchTerms:[]},{title:"fab fa-elementor",searchTerms:[]},{title:"fas fa-ellipsis-h",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fas fa-ellipsis-v",searchTerms:["dots","drag","kebab","list","menu","nav","navigation","ol","reorder","settings","ul"]},{title:"fab fa-ello",searchTerms:[]},{title:"fab fa-ember",searchTerms:[]},{title:"fab fa-empire",searchTerms:[]},{title:"fas fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"far fa-envelope-open",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fas fa-envelope-open-text",searchTerms:[]},{title:"fas fa-envelope-square",searchTerms:["e-mail","email","letter","mail","message","notification","support"]},{title:"fab fa-envira",searchTerms:["leaf"]},{title:"fas fa-equals",searchTerms:[]},{title:"fas fa-eraser",searchTerms:["delete","remove"]},{title:"fab fa-erlang",searchTerms:[]},{title:"fab fa-ethereum",searchTerms:[]},{title:"fab fa-etsy",searchTerms:[]},{title:"fas fa-euro-sign",searchTerms:["eur"]},{title:"fas fa-exchange-alt",searchTerms:["arrow","arrows","exchange","reciprocate","return","swap","transfer"]},{title:"fas fa-exclamation",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-circle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-exclamation-triangle",searchTerms:["alert","danger","error","important","notice","notification","notify","problem","warning"]},{title:"fas fa-expand",searchTerms:["bigger","enlarge","resize"]},{title:"fas fa-expand-arrows-alt",searchTerms:["arrows-alt","bigger","enlarge","move","resize"]},{title:"fab fa-expeditedssl",searchTerms:[]},{title:"fas fa-external-link-alt",searchTerms:["external-link","new","open"]},{title:"fas fa-external-link-square-alt",searchTerms:["external-link-square","new","open"]},{title:"fas fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"far fa-eye",searchTerms:["optic","see","seen","show","sight","views","visible"]},{title:"fas fa-eye-dropper",searchTerms:["eyedropper"]},{title:"fas fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"far fa-eye-slash",searchTerms:["blind","hide","show","toggle","unseen","views","visible","visiblity"]},{title:"fab fa-facebook",searchTerms:["facebook-official","social network"]},{title:"fab fa-facebook-f",searchTerms:["facebook"]},{title:"fab fa-facebook-messenger",searchTerms:[]},{title:"fab fa-facebook-square",searchTerms:["social network"]},{title:"fab fa-fantasy-flight-games",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fas fa-fast-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-fast-forward",searchTerms:["end","last","next"]},{title:"fas fa-fax",searchTerms:[]},{title:"fas fa-feather",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-feather-alt",searchTerms:["bird","light","plucked","quill"]},{title:"fas fa-female",searchTerms:["human","person","profile","user","woman"]},{title:"fas fa-fighter-jet",searchTerms:["airplane","fast","fly","goose","maverick","plane","quick","top gun","transportation","travel"]},{title:"fas fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"far fa-file",searchTerms:["document","new","page","pdf","resume"]},{title:"fas fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"far fa-file-alt",searchTerms:["document","file-text","invoice","new","page","pdf"]},{title:"fas fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"far fa-file-archive",searchTerms:[".zip","bundle","compress","compression","download","zip"]},{title:"fas fa-file-audio",searchTerms:[]},{title:"far fa-file-audio",searchTerms:[]},{title:"fas fa-file-code",searchTerms:[]},{title:"far fa-file-code",searchTerms:[]},{title:"fas fa-file-contract",searchTerms:["agreement","binding","document","legal","signature"]},{title:"fas fa-file-csv",searchTerms:["spreadsheets"]},{title:"fas fa-file-download",searchTerms:[]},{title:"fas fa-file-excel",searchTerms:[]},{title:"far fa-file-excel",searchTerms:[]},{title:"fas fa-file-export",searchTerms:[]},{title:"fas fa-file-image",searchTerms:[]},{title:"far fa-file-image",searchTerms:[]},{title:"fas fa-file-import",searchTerms:[]},{title:"fas fa-file-invoice",searchTerms:["bill","document","receipt"]},{title:"fas fa-file-invoice-dollar",searchTerms:["$","bill","document","dollar-sign","money","receipt","usd"]},{title:"fas fa-file-medical",searchTerms:[]},{title:"fas fa-file-medical-alt",searchTerms:[]},{title:"fas fa-file-pdf",searchTerms:[]},{title:"far fa-file-pdf",searchTerms:[]},{title:"fas fa-file-powerpoint",searchTerms:[]},{title:"far fa-file-powerpoint",searchTerms:[]},{title:"fas fa-file-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-file-signature",searchTerms:["John Hancock","contract","document","name"]},{title:"fas fa-file-upload",searchTerms:[]},{title:"fas fa-file-video",searchTerms:[]},{title:"far fa-file-video",searchTerms:[]},{title:"fas fa-file-word",searchTerms:[]},{title:"far fa-file-word",searchTerms:[]},{title:"fas fa-fill",searchTerms:["bucket","color","paint","paint bucket"]},{title:"fas fa-fill-drip",searchTerms:["bucket","color","drop","paint","paint bucket","spill"]},{title:"fas fa-film",searchTerms:["movie"]},{title:"fas fa-filter",searchTerms:["funnel","options"]},{title:"fas fa-fingerprint",searchTerms:["human","id","identification","lock","smudge","touch","unique","unlock"]},{title:"fas fa-fire",searchTerms:["caliente","flame","heat","hot","popular"]},{title:"fas fa-fire-extinguisher",searchTerms:[]},{title:"fab fa-firefox",searchTerms:["browser"]},{title:"fas fa-first-aid",searchTerms:[]},{title:"fab fa-first-order",searchTerms:[]},{title:"fab fa-first-order-alt",searchTerms:[]},{title:"fab fa-firstdraft",searchTerms:[]},{title:"fas fa-fish",searchTerms:["fauna","gold","swimming"]},{title:"fas fa-fist-raised",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","hand","ki","monk","resist","strength","unarmed combat"]},{title:"fas fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"far fa-flag",searchTerms:["country","notice","notification","notify","pole","report","symbol"]},{title:"fas fa-flag-checkered",searchTerms:["notice","notification","notify","pole","racing","report","symbol"]},{title:"fas fa-flag-usa",searchTerms:["betsy ross","country","old glory","stars","stripes","symbol"]},{title:"fas fa-flask",searchTerms:["beaker","experimental","labs","science"]},{title:"fab fa-flickr",searchTerms:[]},{title:"fab fa-flipboard",searchTerms:[]},{title:"fas fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"far fa-flushed",searchTerms:["embarrassed","emoticon","face"]},{title:"fab fa-fly",searchTerms:[]},{title:"fas fa-folder",searchTerms:[]},{title:"far fa-folder",searchTerms:[]},{title:"fas fa-folder-minus",searchTerms:["archive","delete","negative","remove"]},{title:"fas fa-folder-open",searchTerms:[]},{title:"far fa-folder-open",searchTerms:[]},{title:"fas fa-folder-plus",searchTerms:["add","create","new","positive"]},{title:"fas fa-font",searchTerms:["text"]},{title:"fab fa-font-awesome",searchTerms:["meanpath"]},{title:"fab fa-font-awesome-alt",searchTerms:[]},{title:"fab fa-font-awesome-flag",searchTerms:[]},{title:"far fa-font-awesome-logo-full",searchTerms:[]},{title:"fas fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-font-awesome-logo-full",searchTerms:[]},{title:"fab fa-fonticons",searchTerms:[]},{title:"fab fa-fonticons-fi",searchTerms:[]},{title:"fas fa-football-ball",searchTerms:["fall","pigskin","seasonal"]},{title:"fab fa-fort-awesome",searchTerms:["castle"]},{title:"fab fa-fort-awesome-alt",searchTerms:["castle"]},{title:"fab fa-forumbee",searchTerms:[]},{title:"fas fa-forward",searchTerms:["forward","next"]},{title:"fab fa-foursquare",searchTerms:[]},{title:"fab fa-free-code-camp",searchTerms:[]},{title:"fab fa-freebsd",searchTerms:[]},{title:"fas fa-frog",searchTerms:["amphibian","bullfrog","fauna","hop","kermit","kiss","prince","ribbit","toad","wart"]},{title:"fas fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fas fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"far fa-frown-open",searchTerms:["disapprove","emoticon","face","rating","sad"]},{title:"fab fa-fulcrum",searchTerms:[]},{title:"fas fa-funnel-dollar",searchTerms:[]},{title:"fas fa-futbol",searchTerms:["ball","football","soccer"]},{title:"far fa-futbol",searchTerms:["ball","football","soccer"]},{title:"fab fa-galactic-republic",searchTerms:["politics","star wars"]},{title:"fab fa-galactic-senate",searchTerms:["star wars"]},{title:"fas fa-gamepad",searchTerms:["controller"]},{title:"fas fa-gas-pump",searchTerms:[]},{title:"fas fa-gavel",searchTerms:["hammer","judge","lawyer","opinion"]},{title:"fas fa-gem",searchTerms:["diamond"]},{title:"far fa-gem",searchTerms:["diamond"]},{title:"fas fa-genderless",searchTerms:[]},{title:"fab fa-get-pocket",searchTerms:[]},{title:"fab fa-gg",searchTerms:[]},{title:"fab fa-gg-circle",searchTerms:[]},{title:"fas fa-ghost",searchTerms:["apparition","blinky","clyde","floating","halloween","holiday","inky","pinky","spirit"]},{title:"fas fa-gift",searchTerms:["generosity","giving","party","present","wrapped"]},{title:"fab fa-git",searchTerms:[]},{title:"fab fa-git-square",searchTerms:[]},{title:"fab fa-github",searchTerms:["octocat"]},{title:"fab fa-github-alt",searchTerms:["octocat"]},{title:"fab fa-github-square",searchTerms:["octocat"]},{title:"fab fa-gitkraken",searchTerms:[]},{title:"fab fa-gitlab",searchTerms:["Axosoft"]},{title:"fab fa-gitter",searchTerms:[]},{title:"fas fa-glass-martini",searchTerms:["alcohol","bar","beverage","drink","glass","liquor","martini"]},{title:"fas fa-glass-martini-alt",searchTerms:[]},{title:"fas fa-glasses",searchTerms:["foureyes","hipster","nerd","reading","sight","spectacles"]},{title:"fab fa-glide",searchTerms:[]},{title:"fab fa-glide-g",searchTerms:[]},{title:"fas fa-globe",searchTerms:["all","coordinates","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-africa",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-americas",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fas fa-globe-asia",searchTerms:["all","country","earth","global","gps","language","localize","location","map","online","place","planet","translate","travel","world"]},{title:"fab fa-gofore",searchTerms:[]},{title:"fas fa-golf-ball",searchTerms:[]},{title:"fab fa-goodreads",searchTerms:[]},{title:"fab fa-goodreads-g",searchTerms:[]},{title:"fab fa-google",searchTerms:[]},{title:"fab fa-google-drive",searchTerms:[]},{title:"fab fa-google-play",searchTerms:[]},{title:"fab fa-google-plus",searchTerms:["google-plus-circle","google-plus-official"]},{title:"fab fa-google-plus-g",searchTerms:["google-plus","social network"]},{title:"fab fa-google-plus-square",searchTerms:["social network"]},{title:"fab fa-google-wallet",searchTerms:[]},{title:"fas fa-gopuram",searchTerms:["building","entrance","hinduism","temple","tower"]},{title:"fas fa-graduation-cap",searchTerms:["learning","school","student"]},{title:"fab fa-gratipay",searchTerms:["favorite","heart","like","love"]},{title:"fab fa-grav",searchTerms:[]},{title:"fas fa-greater-than",searchTerms:[]},{title:"fas fa-greater-than-equal",searchTerms:[]},{title:"fas fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"far fa-grimace",searchTerms:["cringe","emoticon","face"]},{title:"fas fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-alt",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-beam",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"far fa-grin-beam-sweat",searchTerms:["emoticon","face","smile"]},{title:"fas fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"far fa-grin-hearts",searchTerms:["emoticon","face","love","smile"]},{title:"fas fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"far fa-grin-squint",searchTerms:["emoticon","face","laugh","smile"]},{title:"fas fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"far fa-grin-squint-tears",searchTerms:["emoticon","face","happy","smile"]},{title:"fas fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"far fa-grin-stars",searchTerms:["emoticon","face","star-struck"]},{title:"fas fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tears",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-grin-tongue-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"far fa-grin-wink",searchTerms:["emoticon","face","flirt","laugh","smile"]},{title:"fas fa-grip-horizontal",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fas fa-grip-vertical",searchTerms:["affordance","drag","drop","grab","handle"]},{title:"fab fa-gripfire",searchTerms:[]},{title:"fab fa-grunt",searchTerms:[]},{title:"fab fa-gulp",searchTerms:[]},{title:"fas fa-h-square",searchTerms:["hospital","hotel"]},{title:"fab fa-hacker-news",searchTerms:[]},{title:"fab fa-hacker-news-square",searchTerms:[]},{title:"fab fa-hackerrank",searchTerms:[]},{title:"fas fa-hammer",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fas fa-hamsa",searchTerms:["amulet","christianity","islam","jewish","judaism","muslim","protection"]},{title:"fas fa-hand-holding",searchTerms:[]},{title:"fas fa-hand-holding-heart",searchTerms:[]},{title:"fas fa-hand-holding-usd",searchTerms:["$","dollar sign","donation","giving","money","price"]},{title:"fas fa-hand-lizard",searchTerms:[]},{title:"far fa-hand-lizard",searchTerms:[]},{title:"fas fa-hand-paper",searchTerms:["stop"]},{title:"far fa-hand-paper",searchTerms:["stop"]},{title:"fas fa-hand-peace",searchTerms:[]},{title:"far fa-hand-peace",searchTerms:[]},{title:"fas fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"far fa-hand-point-down",searchTerms:["finger","hand-o-down","point"]},{title:"fas fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"far fa-hand-point-left",searchTerms:["back","finger","hand-o-left","left","point","previous"]},{title:"fas fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"far fa-hand-point-right",searchTerms:["finger","forward","hand-o-right","next","point","right"]},{title:"fas fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"far fa-hand-point-up",searchTerms:["finger","hand-o-up","point"]},{title:"fas fa-hand-pointer",searchTerms:["select"]},{title:"far fa-hand-pointer",searchTerms:["select"]},{title:"fas fa-hand-rock",searchTerms:[]},{title:"far fa-hand-rock",searchTerms:[]},{title:"fas fa-hand-scissors",searchTerms:[]},{title:"far fa-hand-scissors",searchTerms:[]},{title:"fas fa-hand-spock",searchTerms:[]},{title:"far fa-hand-spock",searchTerms:[]},{title:"fas fa-hands",searchTerms:[]},{title:"fas fa-hands-helping",searchTerms:["aid","assistance","partnership","volunteering"]},{title:"fas fa-handshake",searchTerms:["greeting","partnership"]},{title:"far fa-handshake",searchTerms:["greeting","partnership"]},{title:"fas fa-hanukiah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-hashtag",searchTerms:[]},{title:"fas fa-hat-wizard",searchTerms:["Dungeons & Dragons","buckle","cloth","clothing","d&d","dnd","fantasy","halloween","holiday","mage","magic","pointy","witch"]},{title:"fas fa-haykal",searchTerms:["bahai","bah'","star"]},{title:"fas fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"far fa-hdd",searchTerms:["cpu","hard drive","harddrive","machine","save","storage"]},{title:"fas fa-heading",searchTerms:["header"]},{title:"fas fa-headphones",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headphones-alt",searchTerms:["audio","listen","music","sound","speaker"]},{title:"fas fa-headset",searchTerms:["audio","gamer","gaming","listen","live chat","microphone","shot caller","sound","support","telemarketer"]},{title:"fas fa-heart",searchTerms:["favorite","like","love"]},{title:"far fa-heart",searchTerms:["favorite","like","love"]},{title:"fas fa-heartbeat",searchTerms:["ekg","lifeline","vital signs"]},{title:"fas fa-helicopter",searchTerms:["airwolf","apache","chopper","flight","fly"]},{title:"fas fa-highlighter",searchTerms:["edit","marker","sharpie","update","write"]},{title:"fas fa-hiking",searchTerms:["activity","backpack","fall","fitness","outdoors","seasonal","walking"]},{title:"fas fa-hippo",searchTerms:["fauna","hungry","mammmal"]},{title:"fab fa-hips",searchTerms:[]},{title:"fab fa-hire-a-helper",searchTerms:[]},{title:"fas fa-history",searchTerms:[]},{title:"fas fa-hockey-puck",searchTerms:[]},{title:"fas fa-home",searchTerms:["house","main"]},{title:"fab fa-hooli",searchTerms:[]},{title:"fab fa-hornbill",searchTerms:[]},{title:"fas fa-horse",searchTerms:["equus","fauna","mammmal","neigh"]},{title:"fas fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"far fa-hospital",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-alt",searchTerms:["building","emergency room","medical center"]},{title:"fas fa-hospital-symbol",searchTerms:[]},{title:"fas fa-hot-tub",searchTerms:[]},{title:"fas fa-hotel",searchTerms:["building","lodging"]},{title:"fab fa-hotjar",searchTerms:[]},{title:"fas fa-hourglass",searchTerms:[]},{title:"far fa-hourglass",searchTerms:[]},{title:"fas fa-hourglass-end",searchTerms:[]},{title:"fas fa-hourglass-half",searchTerms:[]},{title:"fas fa-hourglass-start",searchTerms:[]},{title:"fas fa-house-damage",searchTerms:["devastation","home"]},{title:"fab fa-houzz",searchTerms:[]},{title:"fas fa-hryvnia",searchTerms:["money"]},{title:"fab fa-html5",searchTerms:[]},{title:"fab fa-hubspot",searchTerms:[]},{title:"fas fa-i-cursor",searchTerms:[]},{title:"fas fa-id-badge",searchTerms:[]},{title:"far fa-id-badge",searchTerms:[]},{title:"fas fa-id-card",searchTerms:["document","identification","issued"]},{title:"far fa-id-card",searchTerms:["document","identification","issued"]},{title:"fas fa-id-card-alt",searchTerms:["demographics"]},{title:"fas fa-image",searchTerms:["album","photo","picture"]},{title:"far fa-image",searchTerms:["album","photo","picture"]},{title:"fas fa-images",searchTerms:["album","photo","picture"]},{title:"far fa-images",searchTerms:["album","photo","picture"]},{title:"fab fa-imdb",searchTerms:[]},{title:"fas fa-inbox",searchTerms:[]},{title:"fas fa-indent",searchTerms:[]},{title:"fas fa-industry",searchTerms:["factory","manufacturing"]},{title:"fas fa-infinity",searchTerms:[]},{title:"fas fa-info",searchTerms:["details","help","information","more"]},{title:"fas fa-info-circle",searchTerms:["details","help","information","more"]},{title:"fab fa-instagram",searchTerms:[]},{title:"fab fa-internet-explorer",searchTerms:["browser","ie"]},{title:"fab fa-ioxhost",searchTerms:[]},{title:"fas fa-italic",searchTerms:["italics"]},{title:"fab fa-itunes",searchTerms:[]},{title:"fab fa-itunes-note",searchTerms:[]},{title:"fab fa-java",searchTerms:[]},{title:"fas fa-jedi",searchTerms:["star wars"]},{title:"fab fa-jedi-order",searchTerms:["star wars"]},{title:"fab fa-jenkins",searchTerms:[]},{title:"fab fa-joget",searchTerms:[]},{title:"fas fa-joint",searchTerms:["blunt","cannabis","doobie","drugs","marijuana","roach","smoke","smoking","spliff"]},{title:"fab fa-joomla",searchTerms:[]},{title:"fas fa-journal-whills",searchTerms:["book","jedi","star wars","the force"]},{title:"fab fa-js",searchTerms:[]},{title:"fab fa-js-square",searchTerms:[]},{title:"fab fa-jsfiddle",searchTerms:[]},{title:"fas fa-kaaba",searchTerms:["building","cube","islam","muslim"]},{title:"fab fa-kaggle",searchTerms:[]},{title:"fas fa-key",searchTerms:["password","unlock"]},{title:"fab fa-keybase",searchTerms:[]},{title:"fas fa-keyboard",searchTerms:["input","type"]},{title:"far fa-keyboard",searchTerms:["input","type"]},{title:"fab fa-keycdn",searchTerms:[]},{title:"fas fa-khanda",searchTerms:["chakkar","sikh","sikhism","sword"]},{title:"fab fa-kickstarter",searchTerms:[]},{title:"fab fa-kickstarter-k",searchTerms:[]},{title:"fas fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-beam",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"far fa-kiss-wink-heart",searchTerms:["beso","emoticon","face","love","smooch"]},{title:"fas fa-kiwi-bird",searchTerms:["bird","fauna"]},{title:"fab fa-korvue",searchTerms:[]},{title:"fas fa-landmark",searchTerms:["building","historic","memoroable","politics"]},{title:"fas fa-language",searchTerms:["dialect","idiom","localize","speech","translate","vernacular"]},{title:"fas fa-laptop",searchTerms:["computer","cpu","dell","demo","device","dude you're getting","mac","macbook","machine","pc"]},{title:"fas fa-laptop-code",searchTerms:[]},{title:"fab fa-laravel",searchTerms:[]},{title:"fab fa-lastfm",searchTerms:[]},{title:"fab fa-lastfm-square",searchTerms:[]},{title:"fas fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"far fa-laugh",searchTerms:["LOL","emoticon","face","laugh"]},{title:"fas fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-beam",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-squint",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"far fa-laugh-wink",searchTerms:["LOL","emoticon","face"]},{title:"fas fa-layer-group",searchTerms:["layers"]},{title:"fas fa-leaf",searchTerms:["eco","flora","nature","plant"]},{title:"fab fa-leanpub",searchTerms:[]},{title:"fas fa-lemon",searchTerms:["food"]},{title:"far fa-lemon",searchTerms:["food"]},{title:"fab fa-less",searchTerms:[]},{title:"fas fa-less-than",searchTerms:[]},{title:"fas fa-less-than-equal",searchTerms:[]},{title:"fas fa-level-down-alt",searchTerms:["level-down"]},{title:"fas fa-level-up-alt",searchTerms:["level-up"]},{title:"fas fa-life-ring",searchTerms:["support"]},{title:"far fa-life-ring",searchTerms:["support"]},{title:"fas fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"far fa-lightbulb",searchTerms:["idea","inspiration"]},{title:"fab fa-line",searchTerms:[]},{title:"fas fa-link",searchTerms:["chain"]},{title:"fab fa-linkedin",searchTerms:["linkedin-square"]},{title:"fab fa-linkedin-in",searchTerms:["linkedin"]},{title:"fab fa-linode",searchTerms:[]},{title:"fab fa-linux",searchTerms:["tux"]},{title:"fas fa-lira-sign",searchTerms:["try","turkish"]},{title:"fas fa-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"far fa-list-alt",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fas fa-list-ol",searchTerms:["checklist","list","numbers","ol","todo","ul"]},{title:"fas fa-list-ul",searchTerms:["checklist","list","ol","todo","ul"]},{title:"fas fa-location-arrow",searchTerms:["address","coordinates","gps","location","map","place","where"]},{title:"fas fa-lock",searchTerms:["admin","protect","security"]},{title:"fas fa-lock-open",searchTerms:["admin","lock","open","password","protect"]},{title:"fas fa-long-arrow-alt-down",searchTerms:["long-arrow-down"]},{title:"fas fa-long-arrow-alt-left",searchTerms:["back","long-arrow-left","previous"]},{title:"fas fa-long-arrow-alt-right",searchTerms:["long-arrow-right"]},{title:"fas fa-long-arrow-alt-up",searchTerms:["long-arrow-up"]},{title:"fas fa-low-vision",searchTerms:[]},{title:"fas fa-luggage-cart",searchTerms:[]},{title:"fab fa-lyft",searchTerms:[]},{title:"fab fa-magento",searchTerms:[]},{title:"fas fa-magic",searchTerms:["autocomplete","automatic","mage","magic","spell","witch","wizard"]},{title:"fas fa-magnet",searchTerms:[]},{title:"fas fa-mail-bulk",searchTerms:[]},{title:"fab fa-mailchimp",searchTerms:[]},{title:"fas fa-male",searchTerms:["human","man","person","profile","user"]},{title:"fab fa-mandalorian",searchTerms:[]},{title:"fas fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"far fa-map",searchTerms:["coordinates","location","paper","place","travel"]},{title:"fas fa-map-marked",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marked-alt",searchTerms:["address","coordinates","destination","gps","localize","location","map","paper","pin","place","point of interest","position","route","travel","where"]},{title:"fas fa-map-marker",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-marker-alt",searchTerms:["address","coordinates","gps","localize","location","map","pin","place","position","travel","where"]},{title:"fas fa-map-pin",searchTerms:["address","coordinates","gps","localize","location","map","marker","place","position","travel","where"]},{title:"fas fa-map-signs",searchTerms:[]},{title:"fab fa-markdown",searchTerms:[]},{title:"fas fa-marker",searchTerms:["edit","sharpie","update","write"]},{title:"fas fa-mars",searchTerms:["male"]},{title:"fas fa-mars-double",searchTerms:[]},{title:"fas fa-mars-stroke",searchTerms:[]},{title:"fas fa-mars-stroke-h",searchTerms:[]},{title:"fas fa-mars-stroke-v",searchTerms:[]},{title:"fas fa-mask",searchTerms:["costume","disguise","halloween","holiday","secret","super hero"]},{title:"fab fa-mastodon",searchTerms:[]},{title:"fab fa-maxcdn",searchTerms:[]},{title:"fas fa-medal",searchTerms:[]},{title:"fab fa-medapps",searchTerms:[]},{title:"fab fa-medium",searchTerms:[]},{title:"fab fa-medium-m",searchTerms:[]},{title:"fas fa-medkit",searchTerms:["first aid","firstaid","health","help","support"]},{title:"fab fa-medrt",searchTerms:[]},{title:"fab fa-meetup",searchTerms:[]},{title:"fab fa-megaport",searchTerms:[]},{title:"fas fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-blank",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"far fa-meh-rolling-eyes",searchTerms:["emoticon","face","neutral","rating"]},{title:"fas fa-memory",searchTerms:["DIMM","RAM"]},{title:"fas fa-menorah",searchTerms:["candle","hanukkah","jewish","judaism","light"]},{title:"fas fa-mercury",searchTerms:["transgender"]},{title:"fas fa-meteor",searchTerms:[]},{title:"fas fa-microchip",searchTerms:["cpu","processor"]},{title:"fas fa-microphone",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt",searchTerms:["record","sound","voice"]},{title:"fas fa-microphone-alt-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microphone-slash",searchTerms:["disable","mute","record","sound","voice"]},{title:"fas fa-microscope",searchTerms:[]},{title:"fab fa-microsoft",searchTerms:[]},{title:"fas fa-minus",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fas fa-minus-circle",searchTerms:["delete","hide","negative","remove","trash"]},{title:"fas fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"far fa-minus-square",searchTerms:["collapse","delete","hide","minify","negative","remove","trash"]},{title:"fab fa-mix",searchTerms:[]},{title:"fab fa-mixcloud",searchTerms:[]},{title:"fab fa-mizuni",searchTerms:[]},{title:"fas fa-mobile",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fas fa-mobile-alt",searchTerms:["apple","call","cell phone","cellphone","device","iphone","number","screen","telephone","text"]},{title:"fab fa-modx",searchTerms:[]},{title:"fab fa-monero",searchTerms:[]},{title:"fas fa-money-bill",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"far fa-money-bill-alt",searchTerms:["buy","cash","checkout","money","payment","price","purchase"]},{title:"fas fa-money-bill-wave",searchTerms:[]},{title:"fas fa-money-bill-wave-alt",searchTerms:[]},{title:"fas fa-money-check",searchTerms:["bank check","cheque"]},{title:"fas fa-money-check-alt",searchTerms:["bank check","cheque"]},{title:"fas fa-monument",searchTerms:["building","historic","memoroable"]},{title:"fas fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"far fa-moon",searchTerms:["contrast","crescent","darker","lunar","night"]},{title:"fas fa-mortar-pestle",searchTerms:["crush","culinary","grind","medical","mix","spices"]},{title:"fas fa-mosque",searchTerms:["building","islam","muslim"]},{title:"fas fa-motorcycle",searchTerms:["bike","machine","transportation","vehicle"]},{title:"fas fa-mountain",searchTerms:[]},{title:"fas fa-mouse-pointer",searchTerms:["select"]},{title:"fas fa-music",searchTerms:["note","sound"]},{title:"fab fa-napster",searchTerms:[]},{title:"fab fa-neos",searchTerms:[]},{title:"fas fa-network-wired",searchTerms:[]},{title:"fas fa-neuter",searchTerms:[]},{title:"fas fa-newspaper",searchTerms:["article","press"]},{title:"far fa-newspaper",searchTerms:["article","press"]},{title:"fab fa-nimblr",searchTerms:[]},{title:"fab fa-nintendo-switch",searchTerms:[]},{title:"fab fa-node",searchTerms:[]},{title:"fab fa-node-js",searchTerms:[]},{title:"fas fa-not-equal",searchTerms:[]},{title:"fas fa-notes-medical",searchTerms:[]},{title:"fab fa-npm",searchTerms:[]},{title:"fab fa-ns8",searchTerms:[]},{title:"fab fa-nutritionix",searchTerms:[]},{title:"fas fa-object-group",searchTerms:["design"]},{title:"far fa-object-group",searchTerms:["design"]},{title:"fas fa-object-ungroup",searchTerms:["design"]},{title:"far fa-object-ungroup",searchTerms:["design"]},{title:"fab fa-odnoklassniki",searchTerms:[]},{title:"fab fa-odnoklassniki-square",searchTerms:[]},{title:"fas fa-oil-can",searchTerms:[]},{title:"fab fa-old-republic",searchTerms:["politics","star wars"]},{title:"fas fa-om",searchTerms:["buddhism","hinduism","jainism","mantra"]},{title:"fab fa-opencart",searchTerms:[]},{title:"fab fa-openid",searchTerms:[]},{title:"fab fa-opera",searchTerms:[]},{title:"fab fa-optin-monster",searchTerms:[]},{title:"fab fa-osi",searchTerms:[]},{title:"fas fa-otter",searchTerms:["fauna","mammmal"]},{title:"fas fa-outdent",searchTerms:[]},{title:"fab fa-page4",searchTerms:[]},{title:"fab fa-pagelines",searchTerms:["eco","flora","leaf","leaves","nature","plant","tree"]},{title:"fas fa-paint-brush",searchTerms:[]},{title:"fas fa-paint-roller",searchTerms:["brush","painting","tool"]},{title:"fas fa-palette",searchTerms:["colors","painting"]},{title:"fab fa-palfed",searchTerms:[]},{title:"fas fa-pallet",searchTerms:[]},{title:"fas fa-paper-plane",searchTerms:[]},{title:"far fa-paper-plane",searchTerms:[]},{title:"fas fa-paperclip",searchTerms:["attachment"]},{title:"fas fa-parachute-box",searchTerms:["aid","assistance","rescue","supplies"]},{title:"fas fa-paragraph",searchTerms:[]},{title:"fas fa-parking",searchTerms:[]},{title:"fas fa-passport",searchTerms:["document","identification","issued"]},{title:"fas fa-pastafarianism",searchTerms:["agnosticism","atheism","flying spaghetti monster","fsm"]},{title:"fas fa-paste",searchTerms:["clipboard","copy"]},{title:"fab fa-patreon",searchTerms:[]},{title:"fas fa-pause",searchTerms:["wait"]},{title:"fas fa-pause-circle",searchTerms:[]},{title:"far fa-pause-circle",searchTerms:[]},{title:"fas fa-paw",searchTerms:["animal","pet"]},{title:"fab fa-paypal",searchTerms:[]},{title:"fas fa-peace",searchTerms:[]},{title:"fas fa-pen",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-alt",searchTerms:["design","edit","update","write"]},{title:"fas fa-pen-fancy",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-nib",searchTerms:["design","edit","fountain pen","update","write"]},{title:"fas fa-pen-square",searchTerms:["edit","pencil-square","update","write"]},{title:"fas fa-pencil-alt",searchTerms:["design","edit","pencil","update","write"]},{title:"fas fa-pencil-ruler",searchTerms:[]},{title:"fab fa-penny-arcade",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","pax","tabletop"]},{title:"fas fa-people-carry",searchTerms:["movers"]},{title:"fas fa-percent",searchTerms:[]},{title:"fas fa-percentage",searchTerms:[]},{title:"fab fa-periscope",searchTerms:[]},{title:"fas fa-person-booth",searchTerms:["changing","changing room","election","human","person","vote","voting"]},{title:"fab fa-phabricator",searchTerms:[]},{title:"fab fa-phoenix-framework",searchTerms:[]},{title:"fab fa-phoenix-squadron",searchTerms:[]},{title:"fas fa-phone",searchTerms:["call","earphone","number","support","telephone","voice"]},{title:"fas fa-phone-slash",searchTerms:[]},{title:"fas fa-phone-square",searchTerms:["call","number","support","telephone","voice"]},{title:"fas fa-phone-volume",searchTerms:["telephone","volume-control-phone"]},{title:"fab fa-php",searchTerms:[]},{title:"fab fa-pied-piper",searchTerms:[]},{title:"fab fa-pied-piper-alt",searchTerms:[]},{title:"fab fa-pied-piper-hat",searchTerms:["clothing"]},{title:"fab fa-pied-piper-pp",searchTerms:[]},{title:"fas fa-piggy-bank",searchTerms:["save","savings"]},{title:"fas fa-pills",searchTerms:["drugs","medicine"]},{title:"fab fa-pinterest",searchTerms:[]},{title:"fab fa-pinterest-p",searchTerms:[]},{title:"fab fa-pinterest-square",searchTerms:[]},{title:"fas fa-place-of-worship",searchTerms:[]},{title:"fas fa-plane",searchTerms:["airplane","destination","fly","location","mode","travel","trip"]},{title:"fas fa-plane-arrival",searchTerms:["airplane","arriving","destination","fly","land","landing","location","mode","travel","trip"]},{title:"fas fa-plane-departure",searchTerms:["airplane","departing","destination","fly","location","mode","take off","taking off","travel","trip"]},{title:"fas fa-play",searchTerms:["music","playing","sound","start"]},{title:"fas fa-play-circle",searchTerms:["playing","start"]},{title:"far fa-play-circle",searchTerms:["playing","start"]},{title:"fab fa-playstation",searchTerms:[]},{title:"fas fa-plug",searchTerms:["connect","online","power"]},{title:"fas fa-plus",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-circle",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"far fa-plus-square",searchTerms:["add","create","expand","new","positive"]},{title:"fas fa-podcast",searchTerms:[]},{title:"fas fa-poll",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poll-h",searchTerms:["results","survey","vote","voting"]},{title:"fas fa-poo",searchTerms:[]},{title:"fas fa-poo-storm",searchTerms:["mess","poop","shit"]},{title:"fas fa-poop",searchTerms:[]},{title:"fas fa-portrait",searchTerms:[]},{title:"fas fa-pound-sign",searchTerms:["gbp"]},{title:"fas fa-power-off",searchTerms:["on","reboot","restart"]},{title:"fas fa-pray",searchTerms:[]},{title:"fas fa-praying-hands",searchTerms:[]},{title:"fas fa-prescription",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-prescription-bottle-alt",searchTerms:["drugs","medical","medicine","rx"]},{title:"fas fa-print",searchTerms:[]},{title:"fas fa-procedures",searchTerms:[]},{title:"fab fa-product-hunt",searchTerms:[]},{title:"fas fa-project-diagram",searchTerms:[]},{title:"fab fa-pushed",searchTerms:[]},{title:"fas fa-puzzle-piece",searchTerms:["add-on","addon","section"]},{title:"fab fa-python",searchTerms:[]},{title:"fab fa-qq",searchTerms:[]},{title:"fas fa-qrcode",searchTerms:["scan"]},{title:"fas fa-question",searchTerms:["help","information","support","unknown"]},{title:"fas fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"far fa-question-circle",searchTerms:["help","information","support","unknown"]},{title:"fas fa-quidditch",searchTerms:[]},{title:"fab fa-quinscape",searchTerms:[]},{title:"fab fa-quora",searchTerms:[]},{title:"fas fa-quote-left",searchTerms:[]},{title:"fas fa-quote-right",searchTerms:[]},{title:"fas fa-quran",searchTerms:["book","islam","muslim"]},{title:"fab fa-r-project",searchTerms:[]},{title:"fas fa-rainbow",searchTerms:[]},{title:"fas fa-random",searchTerms:["shuffle","sort"]},{title:"fab fa-ravelry",searchTerms:[]},{title:"fab fa-react",searchTerms:[]},{title:"fab fa-reacteurope",searchTerms:[]},{title:"fab fa-readme",searchTerms:[]},{title:"fab fa-rebel",searchTerms:[]},{title:"fas fa-receipt",searchTerms:["check","invoice","table"]},{title:"fas fa-recycle",searchTerms:[]},{title:"fab fa-red-river",searchTerms:[]},{title:"fab fa-reddit",searchTerms:[]},{title:"fab fa-reddit-alien",searchTerms:[]},{title:"fab fa-reddit-square",searchTerms:[]},{title:"fas fa-redo",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-redo-alt",searchTerms:["forward","refresh","reload","repeat"]},{title:"fas fa-registered",searchTerms:[]},{title:"far fa-registered",searchTerms:[]},{title:"fab fa-renren",searchTerms:[]},{title:"fas fa-reply",searchTerms:[]},{title:"fas fa-reply-all",searchTerms:[]},{title:"fab fa-replyd",searchTerms:[]},{title:"fas fa-republican",searchTerms:["american","conservative","election","elephant","politics","republican party","right","right-wing","usa"]},{title:"fab fa-researchgate",searchTerms:[]},{title:"fab fa-resolving",searchTerms:[]},{title:"fas fa-retweet",searchTerms:["refresh","reload","share","swap"]},{title:"fab fa-rev",searchTerms:[]},{title:"fas fa-ribbon",searchTerms:["badge","cause","lapel","pin"]},{title:"fas fa-ring",searchTerms:["Dungeons & Dragons","Gollum","band","binding","d&d","dnd","fantasy","jewelry","precious"]},{title:"fas fa-road",searchTerms:["street"]},{title:"fas fa-robot",searchTerms:[]},{title:"fas fa-rocket",searchTerms:["app"]},{title:"fab fa-rocketchat",searchTerms:[]},{title:"fab fa-rockrms",searchTerms:[]},{title:"fas fa-route",searchTerms:[]},{title:"fas fa-rss",searchTerms:["blog"]},{title:"fas fa-rss-square",searchTerms:["blog","feed"]},{title:"fas fa-ruble-sign",searchTerms:["rub"]},{title:"fas fa-ruler",searchTerms:[]},{title:"fas fa-ruler-combined",searchTerms:[]},{title:"fas fa-ruler-horizontal",searchTerms:[]},{title:"fas fa-ruler-vertical",searchTerms:[]},{title:"fas fa-running",searchTerms:["jog","sprint"]},{title:"fas fa-rupee-sign",searchTerms:["indian","inr"]},{title:"fas fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-cry",searchTerms:["emoticon","face","tear","tears"]},{title:"fas fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"far fa-sad-tear",searchTerms:["emoticon","face","tear","tears"]},{title:"fab fa-safari",searchTerms:["browser"]},{title:"fab fa-sass",searchTerms:[]},{title:"fas fa-save",searchTerms:["floppy","floppy-o"]},{title:"far fa-save",searchTerms:["floppy","floppy-o"]},{title:"fab fa-schlix",searchTerms:[]},{title:"fas fa-school",searchTerms:[]},{title:"fas fa-screwdriver",searchTerms:["admin","fix","repair","settings","tool"]},{title:"fab fa-scribd",searchTerms:[]},{title:"fas fa-scroll",searchTerms:["Dungeons & Dragons","announcement","d&d","dnd","fantasy","paper"]},{title:"fas fa-search",searchTerms:["bigger","enlarge","magnify","preview","zoom"]},{title:"fas fa-search-dollar",searchTerms:[]},{title:"fas fa-search-location",searchTerms:[]},{title:"fas fa-search-minus",searchTerms:["minify","negative","smaller","zoom","zoom out"]},{title:"fas fa-search-plus",searchTerms:["bigger","enlarge","magnify","positive","zoom","zoom in"]},{title:"fab fa-searchengin",searchTerms:[]},{title:"fas fa-seedling",searchTerms:[]},{title:"fab fa-sellcast",searchTerms:["eercast"]},{title:"fab fa-sellsy",searchTerms:[]},{title:"fas fa-server",searchTerms:["cpu"]},{title:"fab fa-servicestack",searchTerms:[]},{title:"fas fa-shapes",searchTerms:["circle","square","triangle"]},{title:"fas fa-share",searchTerms:[]},{title:"fas fa-share-alt",searchTerms:[]},{title:"fas fa-share-alt-square",searchTerms:[]},{title:"fas fa-share-square",searchTerms:["send","social"]},{title:"far fa-share-square",searchTerms:["send","social"]},{title:"fas fa-shekel-sign",searchTerms:["ils"]},{title:"fas fa-shield-alt",searchTerms:["achievement","award","block","defend","security","winner"]},{title:"fas fa-ship",searchTerms:["boat","sea"]},{title:"fas fa-shipping-fast",searchTerms:[]},{title:"fab fa-shirtsinbulk",searchTerms:[]},{title:"fas fa-shoe-prints",searchTerms:["feet","footprints","steps"]},{title:"fas fa-shopping-bag",searchTerms:[]},{title:"fas fa-shopping-basket",searchTerms:[]},{title:"fas fa-shopping-cart",searchTerms:["buy","checkout","payment","purchase"]},{title:"fab fa-shopware",searchTerms:[]},{title:"fas fa-shower",searchTerms:[]},{title:"fas fa-shuttle-van",searchTerms:["machine","public-transportation","transportation","vehicle"]},{title:"fas fa-sign",searchTerms:[]},{title:"fas fa-sign-in-alt",searchTerms:["arrow","enter","join","log in","login","sign in","sign up","sign-in","signin","signup"]},{title:"fas fa-sign-language",searchTerms:[]},{title:"fas fa-sign-out-alt",searchTerms:["arrow","exit","leave","log out","logout","sign-out"]},{title:"fas fa-signal",searchTerms:["bars","graph","online","status"]},{title:"fas fa-signature",searchTerms:["John Hancock","cursive","name","writing"]},{title:"fab fa-simplybuilt",searchTerms:[]},{title:"fab fa-sistrix",searchTerms:[]},{title:"fas fa-sitemap",searchTerms:["directory","hierarchy","ia","information architecture","organization"]},{title:"fab fa-sith",searchTerms:[]},{title:"fas fa-skull",searchTerms:["bones","skeleton","yorick"]},{title:"fas fa-skull-crossbones",searchTerms:["Dungeons & Dragons","alert","bones","d&d","danger","dead","deadly","death","dnd","fantasy","halloween","holiday","jolly-roger","pirate","poison","skeleton","warning"]},{title:"fab fa-skyatlas",searchTerms:[]},{title:"fab fa-skype",searchTerms:[]},{title:"fab fa-slack",searchTerms:["anchor","hash","hashtag"]},{title:"fab fa-slack-hash",searchTerms:["anchor","hash","hashtag"]},{title:"fas fa-slash",searchTerms:[]},{title:"fas fa-sliders-h",searchTerms:["settings","sliders"]},{title:"fab fa-slideshare",searchTerms:[]},{title:"fas fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"far fa-smile",searchTerms:["approve","emoticon","face","happy","rating","satisfied"]},{title:"fas fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"far fa-smile-beam",searchTerms:["emoticon","face","happy","positive"]},{title:"fas fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"far fa-smile-wink",searchTerms:["emoticon","face","happy"]},{title:"fas fa-smog",searchTerms:["dragon"]},{title:"fas fa-smoking",searchTerms:["cigarette","nicotine","smoking status"]},{title:"fas fa-smoking-ban",searchTerms:["no smoking","non-smoking"]},{title:"fab fa-snapchat",searchTerms:[]},{title:"fab fa-snapchat-ghost",searchTerms:[]},{title:"fab fa-snapchat-square",searchTerms:[]},{title:"fas fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"far fa-snowflake",searchTerms:["precipitation","seasonal","winter"]},{title:"fas fa-socks",searchTerms:["business socks","business time","flight of the conchords","wednesday"]},{title:"fas fa-solar-panel",searchTerms:["clean","eco-friendly","energy","green","sun"]},{title:"fas fa-sort",searchTerms:["order"]},{title:"fas fa-sort-alpha-down",searchTerms:["sort-alpha-asc"]},{title:"fas fa-sort-alpha-up",searchTerms:["sort-alpha-desc"]},{title:"fas fa-sort-amount-down",searchTerms:["sort-amount-asc"]},{title:"fas fa-sort-amount-up",searchTerms:["sort-amount-desc"]},{title:"fas fa-sort-down",searchTerms:["arrow","descending","sort-desc"]},{title:"fas fa-sort-numeric-down",searchTerms:["numbers","sort-numeric-asc"]},{title:"fas fa-sort-numeric-up",searchTerms:["numbers","sort-numeric-desc"]},{title:"fas fa-sort-up",searchTerms:["arrow","ascending","sort-asc"]},{title:"fab fa-soundcloud",searchTerms:[]},{title:"fas fa-spa",searchTerms:["flora","mindfullness","plant","wellness"]},{title:"fas fa-space-shuttle",searchTerms:["astronaut","machine","nasa","rocket","transportation"]},{title:"fab fa-speakap",searchTerms:[]},{title:"fas fa-spider",searchTerms:["arachnid","bug","charlotte","crawl","eight","halloween","holiday"]},{title:"fas fa-spinner",searchTerms:["loading","progress"]},{title:"fas fa-splotch",searchTerms:[]},{title:"fab fa-spotify",searchTerms:[]},{title:"fas fa-spray-can",searchTerms:[]},{title:"fas fa-square",searchTerms:["block","box"]},{title:"far fa-square",searchTerms:["block","box"]},{title:"fas fa-square-full",searchTerms:[]},{title:"fas fa-square-root-alt",searchTerms:[]},{title:"fab fa-squarespace",searchTerms:[]},{title:"fab fa-stack-exchange",searchTerms:[]},{title:"fab fa-stack-overflow",searchTerms:[]},{title:"fas fa-stamp",searchTerms:[]},{title:"fas fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"far fa-star",searchTerms:["achievement","award","favorite","important","night","rating","score"]},{title:"fas fa-star-and-crescent",searchTerms:["islam","muslim"]},{title:"fas fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"far fa-star-half",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-half-alt",searchTerms:["achievement","award","rating","score","star-half-empty","star-half-full"]},{title:"fas fa-star-of-david",searchTerms:["jewish","judaism"]},{title:"fas fa-star-of-life",searchTerms:[]},{title:"fab fa-staylinked",searchTerms:[]},{title:"fab fa-steam",searchTerms:[]},{title:"fab fa-steam-square",searchTerms:[]},{title:"fab fa-steam-symbol",searchTerms:[]},{title:"fas fa-step-backward",searchTerms:["beginning","first","previous","rewind","start"]},{title:"fas fa-step-forward",searchTerms:["end","last","next"]},{title:"fas fa-stethoscope",searchTerms:[]},{title:"fab fa-sticker-mule",searchTerms:[]},{title:"fas fa-sticky-note",searchTerms:[]},{title:"far fa-sticky-note",searchTerms:[]},{title:"fas fa-stop",searchTerms:["block","box","square"]},{title:"fas fa-stop-circle",searchTerms:[]},{title:"far fa-stop-circle",searchTerms:[]},{title:"fas fa-stopwatch",searchTerms:["time"]},{title:"fas fa-store",searchTerms:[]},{title:"fas fa-store-alt",searchTerms:[]},{title:"fab fa-strava",searchTerms:[]},{title:"fas fa-stream",searchTerms:[]},{title:"fas fa-street-view",searchTerms:["map"]},{title:"fas fa-strikethrough",searchTerms:[]},{title:"fab fa-stripe",searchTerms:[]},{title:"fab fa-stripe-s",searchTerms:[]},{title:"fas fa-stroopwafel",searchTerms:["dessert","food","sweets","waffle"]},{title:"fab fa-studiovinari",searchTerms:[]},{title:"fab fa-stumbleupon",searchTerms:[]},{title:"fab fa-stumbleupon-circle",searchTerms:[]},{title:"fas fa-subscript",searchTerms:[]},{title:"fas fa-subway",searchTerms:["machine","railway","train","transportation","vehicle"]},{title:"fas fa-suitcase",searchTerms:["baggage","luggage","move","suitcase","travel","trip"]},{title:"fas fa-suitcase-rolling",searchTerms:[]},{title:"fas fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"far fa-sun",searchTerms:["brighten","contrast","day","lighter","sol","solar","star","weather"]},{title:"fab fa-superpowers",searchTerms:[]},{title:"fas fa-superscript",searchTerms:["exponential"]},{title:"fab fa-supple",searchTerms:[]},{title:"fas fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"far fa-surprise",searchTerms:["emoticon","face","shocked"]},{title:"fas fa-swatchbook",searchTerms:[]},{title:"fas fa-swimmer",searchTerms:["athlete","head","man","person","water"]},{title:"fas fa-swimming-pool",searchTerms:["ladder","recreation","water"]},{title:"fas fa-synagogue",searchTerms:["building","jewish","judaism","star of david","temple"]},{title:"fas fa-sync",searchTerms:["exchange","refresh","reload","rotate","swap"]},{title:"fas fa-sync-alt",searchTerms:["refresh","reload","rotate"]},{title:"fas fa-syringe",searchTerms:["immunizations","needle"]},{title:"fas fa-table",searchTerms:["data","excel","spreadsheet"]},{title:"fas fa-table-tennis",searchTerms:[]},{title:"fas fa-tablet",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablet-alt",searchTerms:["apple","device","ipad","kindle","screen"]},{title:"fas fa-tablets",searchTerms:["drugs","medicine"]},{title:"fas fa-tachometer-alt",searchTerms:["dashboard","tachometer"]},{title:"fas fa-tag",searchTerms:["label"]},{title:"fas fa-tags",searchTerms:["labels"]},{title:"fas fa-tape",searchTerms:[]},{title:"fas fa-tasks",searchTerms:["downloading","downloads","loading","progress","settings"]},{title:"fas fa-taxi",searchTerms:["cab","cabbie","car","car service","lyft","machine","transportation","uber","vehicle"]},{title:"fab fa-teamspeak",searchTerms:[]},{title:"fas fa-teeth",searchTerms:[]},{title:"fas fa-teeth-open",searchTerms:[]},{title:"fab fa-telegram",searchTerms:[]},{title:"fab fa-telegram-plane",searchTerms:[]},{title:"fas fa-temperature-high",searchTerms:["mercury","thermometer","warm"]},{title:"fas fa-temperature-low",searchTerms:["cool","mercury","thermometer"]},{title:"fab fa-tencent-weibo",searchTerms:[]},{title:"fas fa-terminal",searchTerms:["code","command","console","prompt"]},{title:"fas fa-text-height",searchTerms:[]},{title:"fas fa-text-width",searchTerms:[]},{title:"fas fa-th",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-large",searchTerms:["blocks","boxes","grid","squares"]},{title:"fas fa-th-list",searchTerms:["checklist","completed","done","finished","ol","todo","ul"]},{title:"fab fa-the-red-yeti",searchTerms:[]},{title:"fas fa-theater-masks",searchTerms:[]},{title:"fab fa-themeco",searchTerms:[]},{title:"fab fa-themeisle",searchTerms:[]},{title:"fas fa-thermometer",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-empty",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-full",searchTerms:["fever","mercury","status","temperature"]},{title:"fas fa-thermometer-half",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-quarter",searchTerms:["mercury","status","temperature"]},{title:"fas fa-thermometer-three-quarters",searchTerms:["mercury","status","temperature"]},{title:"fab fa-think-peaks",searchTerms:[]},{title:"fas fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"far fa-thumbs-down",searchTerms:["disagree","disapprove","dislike","hand","thumbs-o-down"]},{title:"fas fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"far fa-thumbs-up",searchTerms:["agree","approve","favorite","hand","like","ok","okay","success","thumbs-o-up","yes","you got it dude"]},{title:"fas fa-thumbtack",searchTerms:["coordinates","location","marker","pin","thumb-tack"]},{title:"fas fa-ticket-alt",searchTerms:["ticket"]},{title:"fas fa-times",searchTerms:["close","cross","error","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"far fa-times-circle",searchTerms:["close","cross","exit","incorrect","notice","notification","notify","problem","wrong","x"]},{title:"fas fa-tint",searchTerms:["drop","droplet","raindrop","waterdrop"]},{title:"fas fa-tint-slash",searchTerms:[]},{title:"fas fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"far fa-tired",searchTerms:["emoticon","face","grumpy"]},{title:"fas fa-toggle-off",searchTerms:["switch"]},{title:"fas fa-toggle-on",searchTerms:["switch"]},{title:"fas fa-toilet-paper",searchTerms:["bathroom","halloween","holiday","lavatory","prank","restroom","roll"]},{title:"fas fa-toolbox",searchTerms:["admin","container","fix","repair","settings","tools"]},{title:"fas fa-tooth",searchTerms:["bicuspid","dental","molar","mouth","teeth"]},{title:"fas fa-torah",searchTerms:["book","jewish","judaism"]},{title:"fas fa-torii-gate",searchTerms:["building","shintoism"]},{title:"fas fa-tractor",searchTerms:[]},{title:"fab fa-trade-federation",searchTerms:[]},{title:"fas fa-trademark",searchTerms:[]},{title:"fas fa-traffic-light",searchTerms:[]},{title:"fas fa-train",searchTerms:["bullet","locomotive","railway"]},{title:"fas fa-transgender",searchTerms:["intersex"]},{title:"fas fa-transgender-alt",searchTerms:[]},{title:"fas fa-trash",searchTerms:["delete","garbage","hide","remove"]},{title:"fas fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"far fa-trash-alt",searchTerms:["delete","garbage","hide","remove","trash","trash-o"]},{title:"fas fa-tree",searchTerms:["bark","fall","flora","forest","nature","plant","seasonal"]},{title:"fab fa-trello",searchTerms:[]},{title:"fab fa-tripadvisor",searchTerms:[]},{title:"fas fa-trophy",searchTerms:["achievement","award","cup","game","winner"]},{title:"fas fa-truck",searchTerms:["delivery","shipping"]},{title:"fas fa-truck-loading",searchTerms:[]},{title:"fas fa-truck-monster",searchTerms:[]},{title:"fas fa-truck-moving",searchTerms:[]},{title:"fas fa-truck-pickup",searchTerms:[]},{title:"fas fa-tshirt",searchTerms:["cloth","clothing"]},{title:"fas fa-tty",searchTerms:[]},{title:"fab fa-tumblr",searchTerms:[]},{title:"fab fa-tumblr-square",searchTerms:[]},{title:"fas fa-tv",searchTerms:["computer","display","monitor","television"]},{title:"fab fa-twitch",searchTerms:[]},{title:"fab fa-twitter",searchTerms:["social network","tweet"]},{title:"fab fa-twitter-square",searchTerms:["social network","tweet"]},{title:"fab fa-typo3",searchTerms:[]},{title:"fab fa-uber",searchTerms:[]},{title:"fab fa-uikit",searchTerms:[]},{title:"fas fa-umbrella",searchTerms:["protection","rain"]},{title:"fas fa-umbrella-beach",searchTerms:["protection","recreation","sun"]},{title:"fas fa-underline",searchTerms:[]},{title:"fas fa-undo",searchTerms:["back","control z","exchange","oops","return","rotate","swap"]},{title:"fas fa-undo-alt",searchTerms:["back","control z","exchange","oops","return","swap"]},{title:"fab fa-uniregistry",searchTerms:[]},{title:"fas fa-universal-access",searchTerms:[]},{title:"fas fa-university",searchTerms:["bank","institution"]},{title:"fas fa-unlink",searchTerms:["chain","chain-broken","remove"]},{title:"fas fa-unlock",searchTerms:["admin","lock","password","protect"]},{title:"fas fa-unlock-alt",searchTerms:["admin","lock","password","protect"]},{title:"fab fa-untappd",searchTerms:[]},{title:"fas fa-upload",searchTerms:["export","publish"]},{title:"fab fa-usb",searchTerms:[]},{title:"fas fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-alt-slash",searchTerms:[]},{title:"fas fa-user-astronaut",searchTerms:["avatar","clothing","cosmonaut","space","suit"]},{title:"fas fa-user-check",searchTerms:[]},{title:"fas fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"far fa-user-circle",searchTerms:["account","avatar","head","human","man","person","profile"]},{title:"fas fa-user-clock",searchTerms:[]},{title:"fas fa-user-cog",searchTerms:[]},{title:"fas fa-user-edit",searchTerms:[]},{title:"fas fa-user-friends",searchTerms:[]},{title:"fas fa-user-graduate",searchTerms:["cap","clothing","commencement","gown","graduation","student"]},{title:"fas fa-user-injured",searchTerms:["cast","ouch","sling"]},{title:"fas fa-user-lock",searchTerms:[]},{title:"fas fa-user-md",searchTerms:["doctor","job","medical","nurse","occupation","profile"]},{title:"fas fa-user-minus",searchTerms:["delete","negative","remove"]},{title:"fas fa-user-ninja",searchTerms:["assassin","avatar","dangerous","deadly","sneaky"]},{title:"fas fa-user-plus",searchTerms:["positive","sign up","signup"]},{title:"fas fa-user-secret",searchTerms:["clothing","coat","hat","incognito","privacy","spy","whisper"]},{title:"fas fa-user-shield",searchTerms:[]},{title:"fas fa-user-slash",searchTerms:["ban","remove"]},{title:"fas fa-user-tag",searchTerms:[]},{title:"fas fa-user-tie",searchTerms:["avatar","business","clothing","formal"]},{title:"fas fa-user-times",searchTerms:["archive","delete","remove","x"]},{title:"fas fa-users",searchTerms:["people","persons","profiles"]},{title:"fas fa-users-cog",searchTerms:[]},{title:"fab fa-ussunnah",searchTerms:[]},{title:"fas fa-utensil-spoon",searchTerms:["spoon"]},{title:"fas fa-utensils",searchTerms:["cutlery","dinner","eat","food","knife","restaurant","spoon"]},{title:"fab fa-vaadin",searchTerms:[]},{title:"fas fa-vector-square",searchTerms:["anchors","lines","object"]},{title:"fas fa-venus",searchTerms:["female"]},{title:"fas fa-venus-double",searchTerms:[]},{title:"fas fa-venus-mars",searchTerms:[]},{title:"fab fa-viacoin",searchTerms:[]},{title:"fab fa-viadeo",searchTerms:[]},{title:"fab fa-viadeo-square",searchTerms:[]},{title:"fas fa-vial",searchTerms:["test tube"]},{title:"fas fa-vials",searchTerms:["lab results","test tubes"]},{title:"fab fa-viber",searchTerms:[]},{title:"fas fa-video",searchTerms:["camera","film","movie","record","video-camera"]},{title:"fas fa-video-slash",searchTerms:[]},{title:"fas fa-vihara",searchTerms:["buddhism","buddhist","building","monastery"]},{title:"fab fa-vimeo",searchTerms:[]},{title:"fab fa-vimeo-square",searchTerms:[]},{title:"fab fa-vimeo-v",searchTerms:["vimeo"]},{title:"fab fa-vine",searchTerms:[]},{title:"fab fa-vk",searchTerms:[]},{title:"fab fa-vnv",searchTerms:[]},{title:"fas fa-volleyball-ball",searchTerms:[]},{title:"fas fa-volume-down",searchTerms:["audio","lower","music","quieter","sound","speaker"]},{title:"fas fa-volume-mute",searchTerms:[]},{title:"fas fa-volume-off",searchTerms:["audio","music","mute","sound"]},{title:"fas fa-volume-up",searchTerms:["audio","higher","louder","music","sound","speaker"]},{title:"fas fa-vote-yea",searchTerms:["accept","cast","election","politics","positive","yes"]},{title:"fas fa-vr-cardboard",searchTerms:["google","reality","virtual"]},{title:"fab fa-vuejs",searchTerms:[]},{title:"fas fa-walking",searchTerms:[]},{title:"fas fa-wallet",searchTerms:[]},{title:"fas fa-warehouse",searchTerms:[]},{title:"fas fa-water",searchTerms:[]},{title:"fab fa-weebly",searchTerms:[]},{title:"fab fa-weibo",searchTerms:[]},{title:"fas fa-weight",searchTerms:["measurement","scale","weight"]},{title:"fas fa-weight-hanging",searchTerms:["anvil","heavy","measurement"]},{title:"fab fa-weixin",searchTerms:[]},{title:"fab fa-whatsapp",searchTerms:[]},{title:"fab fa-whatsapp-square",searchTerms:[]},{title:"fas fa-wheelchair",searchTerms:["handicap","person"]},{title:"fab fa-whmcs",searchTerms:[]},{title:"fas fa-wifi",searchTerms:[]},{title:"fab fa-wikipedia-w",searchTerms:[]},{title:"fas fa-wind",searchTerms:["air","blow","breeze","fall","seasonal"]},{title:"fas fa-window-close",searchTerms:[]},{title:"far fa-window-close",searchTerms:[]},{title:"fas fa-window-maximize",searchTerms:[]},{title:"far fa-window-maximize",searchTerms:[]},{title:"fas fa-window-minimize",searchTerms:[]},{title:"far fa-window-minimize",searchTerms:[]},{title:"fas fa-window-restore",searchTerms:[]},{title:"far fa-window-restore",searchTerms:[]},{title:"fab fa-windows",searchTerms:["microsoft"]},{title:"fas fa-wine-bottle",searchTerms:["alcohol","beverage","drink","glass","grapes"]},{title:"fas fa-wine-glass",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fas fa-wine-glass-alt",searchTerms:["alcohol","beverage","drink","grapes"]},{title:"fab fa-wix",searchTerms:[]},{title:"fab fa-wizards-of-the-coast",searchTerms:["Dungeons & Dragons","d&d","dnd","fantasy","game","gaming","tabletop"]},{title:"fab fa-wolf-pack-battalion",searchTerms:[]},{title:"fas fa-won-sign",searchTerms:["krw"]},{title:"fab fa-wordpress",searchTerms:[]},{title:"fab fa-wordpress-simple",searchTerms:[]},{title:"fab fa-wpbeginner",searchTerms:[]},{title:"fab fa-wpexplorer",searchTerms:[]},{title:"fab fa-wpforms",searchTerms:[]},{title:"fab fa-wpressr",searchTerms:["rendact"]},{title:"fas fa-wrench",searchTerms:["fix","settings","spanner","tool","update"]},{title:"fas fa-x-ray",searchTerms:["radiological images","radiology"]},{title:"fab fa-xbox",searchTerms:[]},{title:"fab fa-xing",searchTerms:[]},{title:"fab fa-xing-square",searchTerms:[]},{title:"fab fa-y-combinator",searchTerms:[]},{title:"fab fa-yahoo",searchTerms:[]},{title:"fab fa-yandex",searchTerms:[]},{title:"fab fa-yandex-international",searchTerms:[]},{title:"fab fa-yelp",searchTerms:[]},{title:"fas fa-yen-sign",searchTerms:["jpy","money"]},{title:"fas fa-yin-yang",searchTerms:["daoism","opposites","taoism"]},{title:"fab fa-yoast",searchTerms:[]},{title:"fab fa-youtube",searchTerms:["film","video","youtube-play","youtube-square"]},{title:"fab fa-youtube-square",searchTerms:[]},{title:"fab fa-zhihu",searchTerms:[]}]})});/*! LeaderLine v1.0.8 (c) anseki https://anseki.github.io/leader-line/ */(function(){var t,e,i,s,a,l,o,h,d,m,f,b,k,w,E,P,L,R,u,T,y,S,C,M="leader-line",I=1,U=2,z=3,g=4,x={top:I,right:U,bottom:z,left:g},A=1,F=2,B=3,j=4,$=5,G={straight:A,arc:F,fluid:B,magnet:j,grid:$},he="behind",Q=M+"-defs",Z='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="leader-line-defs"><style><![CDATA[.leader-line{position:absolute;overflow:visible!important;pointer-events:none!important;font-size:16px}#leader-line-defs{width:0;height:0;position:absolute;left:0;top:0}.leader-line-line-path{fill:none}.leader-line-mask-bg-rect{fill:white}.leader-line-caps-mask-anchor,.leader-line-caps-mask-marker-shape{fill:black}.leader-line-caps-mask-anchor{stroke:black}.leader-line-caps-mask-line,.leader-line-plugs-face{stroke:rgba(0,0,0,0)}.leader-line-line-mask-shape{stroke:white}.leader-line-line-outline-mask-shape{stroke:black}.leader-line-plug-mask-shape{fill:white;stroke:black}.leader-line-plug-outline-mask-shape{fill:black;stroke:white}.leader-line-areaAnchor{position:absolute;overflow:visible!important}]]></style><defs><circle id="leader-line-disc" cx="0" cy="0" r="5"/><rect id="leader-line-square" x="-5" y="-5" width="10" height="10"/><polygon id="leader-line-arrow1" points="-8,-8 8,0 -8,8 -5,0"/><polygon id="leader-line-arrow2" points="-4,-8 4,0 -4,8 -7,5 -2,0 -7,-5"/><polygon id="leader-line-arrow3" points="-4,-5 8,0 -4,5"/><g id="leader-line-hand"><path style="fill: #fcfcfc" d="M9.19 11.14h4.75c1.38 0 2.49-1.11 2.49-2.49 0-.51-.15-.98-.41-1.37h1.3c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.53-2.49-2.53h1.02c1.38 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49h14.96c1.37 0 2.49-1.11 2.49-2.49s-1.11-2.49-2.49-2.49H16.58C16-9.86 14.28-11.14 9.7-11.14c-4.79 0-6.55 3.42-7.87 4.73H-2.14v13.23h3.68C3.29 9.97 5.47 11.14 9.19 11.14L9.19 11.14Z"/><path style="fill: black" d="M13.95 12c1.85 0 3.35-1.5 3.35-3.35 0-.17-.02-.34-.04-.51h.07c1.85 0 3.35-1.5 3.35-3.35 0-.79-.27-1.51-.72-2.08 1.03-.57 1.74-1.67 1.74-2.93 0-.59-.16-1.15-.43-1.63h12.04c1.85 0 3.35-1.5 3.35-3.35 0-1.85-1.5-3.35-3.35-3.35H17.2C16.26-10.93 13.91-12 9.7-12 5.36-12 3.22-9.4 1.94-7.84c0 0-.29.33-.5.57-.63 0-3.58 0-3.58 0C-2.61-7.27-3-6.88-3-6.41v13.23c0 .47.39.86.86.86 0 0 2.48 0 3.2 0C2.9 10.73 5.29 12 9.19 12L13.95 12ZM9.19 10.28c-3.46 0-5.33-1.05-6.9-3.87-.15-.27-.44-.44-.75-.44 0 0-1.81 0-2.82 0V-5.55c1.06 0 3.11 0 3.11 0 .25 0 .44-.06.61-.25l.83-.95c1.23-1.49 2.91-3.53 6.43-3.53 3.45 0 4.9.74 5.57 1.72h-4.3c-.48 0-.86.38-.86.86s.39.86.86.86h22.34c.9 0 1.63.73 1.63 1.63 0 .9-.73 1.63-1.63 1.63H15.83c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.52c.9 0 1.63.73 1.63 1.63s-.73 1.63-1.63 1.63h-3.12c-.48 0-.86.38-.86.86 0 .47.39.86.86.86h2.11c.88 0 1.63.76 1.63 1.67 0 .9-.73 1.63-1.63 1.63h-3.2c-.48 0-.86.39-.86.86 0 .47.39.86.86.86h1.36c.05.16.09.34.09.51 0 .9-.73 1.63-1.63 1.63C13.95 10.28 9.19 10.28 9.19 10.28Z"/></g><g id="leader-line-crosshair"><path d="M0-78.97c-43.54 0-78.97 35.43-78.97 78.97 0 43.54 35.43 78.97 78.97 78.97s78.97-35.43 78.97-78.97C78.97-43.54 43.55-78.97 0-78.97ZM76.51-1.21h-9.91v-9.11h-2.43v9.11h-11.45c-.64-28.12-23.38-50.86-51.5-51.5V-64.17h9.11V-66.6h-9.11v-9.91C42.46-75.86 75.86-42.45 76.51-1.21ZM-1.21-30.76h-9.11v2.43h9.11V-4.2c-1.44.42-2.57 1.54-2.98 2.98H-28.33v-9.11h-2.43v9.11H-50.29C-49.65-28-27.99-49.65-1.21-50.29V-30.76ZM-30.76 1.21v9.11h2.43v-9.11H-4.2c.42 1.44 1.54 2.57 2.98 2.98v24.13h-9.11v2.43h9.11v19.53C-27.99 49.65-49.65 28-50.29 1.21H-30.76ZM1.22 30.75h9.11v-2.43h-9.11V4.2c1.44-.42 2.56-1.54 2.98-2.98h24.13v9.11h2.43v-9.11h19.53C49.65 28 28 49.65 1.22 50.29V30.75ZM30.76-1.21v-9.11h-2.43v9.11H4.2c-.42-1.44-1.54-2.56-2.98-2.98V-28.33h9.11v-2.43h-9.11V-50.29C28-49.65 49.65-28 50.29-1.21H30.76ZM-1.21-76.51v9.91h-9.11v2.43h9.11v11.45c-28.12.64-50.86 23.38-51.5 51.5H-64.17v-9.11H-66.6v9.11h-9.91C-75.86-42.45-42.45-75.86-1.21-76.51ZM-76.51 1.21h9.91v9.11h2.43v-9.11h11.45c.64 28.12 23.38 50.86 51.5 51.5v11.45h-9.11v2.43h9.11v9.91C-42.45 75.86-75.86 42.45-76.51 1.21ZM1.22 76.51v-9.91h9.11v-2.43h-9.11v-11.45c28.12-.64 50.86-23.38 51.5-51.5h11.45v9.11h2.43v-9.11h9.91C75.86 42.45 42.45 75.86 1.22 76.51Z"/><path d="M0 83.58-7.1 96 7.1 96Z"/><path d="M0-83.58 7.1-96-7.1-96"/><path d="M83.58 0 96 7.1 96-7.1Z"/><path d="M-83.58 0-96-7.1-96 7.1Z"/></g></defs></svg>',ve={disc:{elmId:"leader-line-disc",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},square:{elmId:"leader-line-square",noRotate:!0,bBox:{left:-5,top:-5,width:10,height:10,right:5,bottom:5},widthR:2.5,heightR:2.5,bCircle:5,sideLen:5,backLen:5,overhead:0,outlineBase:1,outlineMax:4},arrow1:{elmId:"leader-line-arrow1",bBox:{left:-8,top:-8,width:16,height:16,right:8,bottom:8},widthR:4,heightR:4,bCircle:8,sideLen:8,backLen:8,overhead:8,outlineBase:2,outlineMax:1.5},arrow2:{elmId:"leader-line-arrow2",bBox:{left:-7,top:-8,width:11,height:16,right:4,bottom:8},widthR:2.75,heightR:4,bCircle:8,sideLen:8,backLen:7,overhead:4,outlineBase:1,outlineMax:1.75},arrow3:{elmId:"leader-line-arrow3",bBox:{left:-4,top:-5,width:12,height:10,right:8,bottom:5},widthR:3,heightR:2.5,bCircle:8,sideLen:5,backLen:4,overhead:8,outlineBase:1,outlineMax:2.5},hand:{elmId:"leader-line-hand",bBox:{left:-3,top:-12,width:40,height:24,right:37,bottom:12},widthR:10,heightR:6,bCircle:37,sideLen:12,backLen:3,overhead:37},crosshair:{elmId:"leader-line-crosshair",noRotate:!0,bBox:{left:-96,top:-96,width:192,height:192,right:96,bottom:96},widthR:48,heightR:48,bCircle:96,sideLen:96,backLen:96,overhead:0}},Ie={behind:he,disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Ve={disc:"disc",square:"square",arrow1:"arrow1",arrow2:"arrow2",arrow3:"arrow3",hand:"hand",crosshair:"crosshair"},Ae=[I,U,z,g],ze="auto",et={x:"left",y:"top",width:"width",height:"height"},xt=80,At=4,Me=5,Ut=120,jt=8,Ci=3.75,rt=10,yi=30,Ui=.5522847,qi=.25*Math.PI,yt=/^\s*(\-?[\d\.]+)\s*(\%)?\s*$/,Nt="http://www.w3.org/2000/svg",Ye="-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style&&!window.navigator.msPointerEnabled,Ni=!Ye&&!!document.uniqueID,Fr="MozAppearance"in document.documentElement.style,Xr=!(Ye||Fr||!window.chrome||!window.CSS),Ai=!Ye&&!Ni&&!Fr&&!Xr&&!window.chrome&&"WebkitAppearance"in document.documentElement.style,yr=Ni||Ye?.2:.1,ee={path:B,lineColor:"coral",lineSize:4,plugSE:[he,"arrow1"],plugSizeSE:[1,1],lineOutlineEnabled:!1,lineOutlineColor:"indianred",lineOutlineSize:.25,plugOutlineEnabledSE:[!1,!1],plugOutlineSizeSE:[1,1]},fe=(y={}.toString,S={}.hasOwnProperty.toString,C=S.call(Object),function(v){return v&&y.call(v)==="[object Object]"&&(!(v=Object.getPrototypeOf(v))||(v=v.hasOwnProperty("constructor")&&v.constructor)&&typeof v=="function"&&S.call(v)===C)}),le=Number.isFinite||function(v){return typeof v=="number"&&window.isFinite(v)},Fe=(w={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},E=1e3/60/2,P=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(v){setTimeout(v,E)},L=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(v){clearTimeout(v)},R=Number.isFinite||function(v){return typeof v=="number"&&window.isFinite(v)},u=[],T=0,{add:function(v,H,W,V,se,re,ye){var _e,be,tt,Le,Re,Qe,Oe,Se,ge,me,Te=++T;function Ee(Ct,je){return{value:v(je),timeRatio:Ct,outputRatio:je}}if(typeof se=="string"&&(se=w[se]),v=v||function(){},W<E)_e=[Ee(0,0),Ee(1,1)];else{if(be=E/W,_e=[Ee(0,0)],se[0]===0&&se[1]===0&&se[2]===1&&se[3]===1)for(Le=be;Le<=1;Le+=be)_e.push(Ee(Le,Le));else for(Re=tt=(Le=be)/10;Re<=1;Re+=tt)Oe=Re,me=ge=Se=void 0,Se=(me=Re*Re)*Re,me*=3*(ge=1-Re),Le<=(Qe={x:(Oe=3*(ge*ge)*Re)*se[0]+me*se[2]+Se,y:Oe*se[1]+me*se[3]+Se}).x&&(_e.push(Ee(Qe.x,Qe.y)),Le+=be);_e.push(Ee(1,1))}return u.push(re={animId:Te,frameCallback:H,duration:W,count:V,frames:_e,reverse:!!re}),ye!==!1&&Yt(re,ye),Te},remove:function(v){var H;u.some(function(W,V){return W.animId===v&&(H=V,!(W.framesStart=null))})&&u.splice(H,1)},start:function(v,H,W){u.some(function(V){return V.animId===v&&(V.reverse=!!H,Yt(V,W),!0)})},stop:function(v,H){var W;return u.some(function(V){return V.animId===v&&(H?V.lastFrame!=null&&(W=V.frames[V.lastFrame].timeRatio):(W=(Date.now()-V.framesStart)/V.duration,(W=V.reverse?1-W:W)<0?W=0:1<W&&(W=1)),!(V.framesStart=null))}),W},validTiming:function(v){return typeof v=="string"?w[v]:Array.isArray(v)&&[0,1,2,3].every(function(H){return R(v[H])&&0<=v[H]&&v[H]<=1})?[v[0],v[1],v[2],v[3]]:null}}),Ke=function(v,H){v.SVGPathElement.prototype.getPathData&&v.SVGPathElement.prototype.setPathData&&!H||function(){function W(Oe){this._string=Oe,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()}var V={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},se=v.navigator.userAgent.indexOf("MSIE ")!==-1;W.prototype={parseSegment:function(){var ge=this._string[this._currentIndex],Oe=V[ge]||null;if(Oe===null){if(this._prevCommand===null||(Oe=(ge==="+"||ge==="-"||ge==="."||"0"<=ge&&ge<="9")&&this._prevCommand!=="Z"?this._prevCommand==="M"?"L":this._prevCommand==="m"?"l":this._prevCommand:null)===null)return null}else this._currentIndex+=1;var Se=null,ge=(this._prevCommand=Oe).toUpperCase();return ge==="H"||ge==="V"?Se=[this._parseNumber()]:ge==="M"||ge==="L"||ge==="T"?Se=[this._parseNumber(),this._parseNumber()]:ge==="S"||ge==="Q"?Se=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:ge==="C"?Se=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:ge==="A"?Se=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:ge==="Z"&&(this._skipOptionalSpaces(),Se=[]),Se===null||0<=Se.indexOf(null)?null:{type:Oe,values:Se}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var Oe=this._string[this._currentIndex];return V[Oe]||null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var Oe=this.peekSegmentType();return Oe==="M"||Oe==="m"},_isCurrentSpace:function(){var Oe=this._string[this._currentIndex];return Oe<=" "&&(Oe===" "||Oe===`
`||Oe==="	"||Oe==="\r"||Oe==="\f")},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&this._string[this._currentIndex]!==",")&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&this._string[this._currentIndex]===","&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var Oe=0,Se=0,ge=1,me=0,Te=1,Ee=1,Ct=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,Te=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])&&this._string[this._currentIndex]!==".")return null;for(var je=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==je)for(var Ft=this._currentIndex-1,we=1;je<=Ft;)Se+=we*(this._string[Ft]-"0"),--Ft,we*=10;if(this._currentIndex<this._endIndex&&this._string[this._currentIndex]==="."){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)ge*=10,me+=(this._string.charAt(this._currentIndex)-"0")/ge,this._currentIndex+=1}if(this._currentIndex!==Ct&&this._currentIndex+1<this._endIndex&&(this._string[this._currentIndex]==="e"||this._string[this._currentIndex]==="E")&&this._string[this._currentIndex+1]!=="x"&&this._string[this._currentIndex+1]!=="m"){if(this._currentIndex+=1,this._string[this._currentIndex]==="+"?this._currentIndex+=1:this._string[this._currentIndex]==="-"&&(this._currentIndex+=1,Ee=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||"9"<this._string[this._currentIndex])return null;for(;this._currentIndex<this._endIndex&&"0"<=this._string[this._currentIndex]&&this._string[this._currentIndex]<="9";)Oe*=10,Oe+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var st=Se+me;return st*=Te,Oe&&(st*=Math.pow(10,Ee*Oe)),Ct===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),st)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var Oe=null,Se=this._string[this._currentIndex];if(this._currentIndex+=1,Se==="0")Oe=0;else{if(Se!=="1")return null;Oe=1}return this._skipOptionalSpacesOrDelimiter(),Oe}};function re(Oe){if(!Oe||Oe.length===0)return[];var Se=new W(Oe),ge=[];if(Se.initialCommandIsMoveTo())for(;Se.hasMoreData();){var me=Se.parseSegment();if(me===null)break;ge.push(me)}return ge}function ye(Oe){return Oe.map(function(Se){return{type:Se.type,values:Array.prototype.slice.call(Se.values)}})}function _e(Oe){var Se=[],ge=null,me=null,Te=null,Ee=null,Ct=null,je=null,Ft=null;return Oe.forEach(function(we){var st,it,oe,ke,Ue,He,ft,$e;we.type==="M"?(ft=we.values[0],$e=we.values[1],Se.push({type:"M",values:[ft,$e]}),Ee=je=ft,Ct=Ft=$e):we.type==="C"?(Ue=we.values[0],He=we.values[1],st=we.values[2],it=we.values[3],ft=we.values[4],$e=we.values[5],Se.push({type:"C",values:[Ue,He,st,it,ft,$e]}),me=st,Te=it,Ee=ft,Ct=$e):we.type==="L"?(ft=we.values[0],$e=we.values[1],Se.push({type:"L",values:[ft,$e]}),Ee=ft,Ct=$e):we.type==="H"?(ft=we.values[0],Se.push({type:"L",values:[ft,Ct]}),Ee=ft):we.type==="V"?($e=we.values[0],Se.push({type:"L",values:[Ee,$e]}),Ct=$e):we.type==="S"?(st=we.values[0],it=we.values[1],ft=we.values[2],$e=we.values[3],ke=ge==="C"||ge==="S"?(oe=Ee+(Ee-me),Ct+(Ct-Te)):(oe=Ee,Ct),Se.push({type:"C",values:[oe,ke,st,it,ft,$e]}),me=st,Te=it,Ee=ft,Ct=$e):we.type==="T"?(ft=we.values[0],$e=we.values[1],He=ge==="Q"||ge==="T"?(Ue=Ee+(Ee-me),Ct+(Ct-Te)):(Ue=Ee,Ct),Se.push({type:"C",values:[oe=Ee+2*(Ue-Ee)/3,ke=Ct+2*(He-Ct)/3,ft+2*(Ue-ft)/3,$e+2*(He-$e)/3,ft,$e]}),me=Ue,Te=He,Ee=ft,Ct=$e):we.type==="Q"?(Ue=we.values[0],He=we.values[1],ft=we.values[2],$e=we.values[3],Se.push({type:"C",values:[oe=Ee+2*(Ue-Ee)/3,ke=Ct+2*(He-Ct)/3,ft+2*(Ue-ft)/3,$e+2*(He-$e)/3,ft,$e]}),me=Ue,Te=He,Ee=ft,Ct=$e):we.type==="A"?(it=we.values[0],oe=we.values[1],ke=we.values[2],Ue=we.values[3],He=we.values[4],ft=we.values[5],$e=we.values[6],it===0||oe===0?(Se.push({type:"C",values:[Ee,Ct,ft,$e,ft,$e]}),Ee=ft,Ct=$e):Ee===ft&&Ct===$e||Qe(Ee,Ct,ft,$e,it,oe,ke,Ue,He).forEach(function(Ri){Se.push({type:"C",values:Ri}),Ee=ft,Ct=$e})):we.type==="Z"&&(Se.push(we),Ee=je,Ct=Ft),ge=we.type}),Se}var be=v.SVGPathElement.prototype.setAttribute,tt=v.SVGPathElement.prototype.removeAttribute,Le=v.Symbol?v.Symbol():"__cachedPathData",Re=v.Symbol?v.Symbol():"__cachedNormalizedPathData",Qe=function(Oe,Se,ge,Qt,$e,Ri,Ct,je,Ft,we){function st(Hi,ii,Mr){return{x:Hi*Math.cos(Mr)-ii*Math.sin(Mr),y:Hi*Math.sin(Mr)+ii*Math.cos(Mr)}}var it=Math.PI*Ct/180,zt=[];we?(vi=we[0],ft=we[1],ki=we[2],He=we[3]):(Oe=(Fi=st(Oe,Se,-it)).x,Se=Fi.y,1<(Fi=(Ue=(Oe-(ge=(ke=st(ge,Qt,-it)).x))/2)*Ue/($e*$e)+(oe=(Se-(Qt=ke.y))/2)*oe/(Ri*Ri))&&($e*=Fi=Math.sqrt(Fi),Ri*=Fi),ke=$e*$e,Fi=Ri*Ri,ki=(ke=(je===Ft?-1:1)*Math.sqrt(Math.abs((ke*Fi-ke*oe*oe-Fi*Ue*Ue)/(ke*oe*oe+Fi*Ue*Ue))))*$e*oe/Ri+(Oe+ge)/2,He=ke*-Ri*Ue/$e+(Se+Qt)/2,vi=Math.asin(parseFloat(((Se-He)/Ri).toFixed(9))),ft=Math.asin(parseFloat(((Qt-He)/Ri).toFixed(9))),Oe<ki&&(vi=Math.PI-vi),ge<ki&&(ft=Math.PI-ft),vi<0&&(vi=2*Math.PI+vi),ft<0&&(ft=2*Math.PI+ft),Ft&&ft<vi&&(vi-=2*Math.PI),!Ft&&vi<ft&&(ft-=2*Math.PI));var oe,ke,Ue,Fi=ft-vi;Math.abs(Fi)>120*Math.PI/180&&(oe=ft,ke=ge,Ue=Qt,ft=Ft&&vi<ft?vi+120*Math.PI/180*1:vi+120*Math.PI/180*-1,ge=ki+$e*Math.cos(ft),Qt=He+Ri*Math.sin(ft),zt=Qe(ge,Qt,ke,Ue,$e,Ri,Ct,0,Ft,[ft,oe,ki,He]));var Fi=ft-vi,ki=Math.cos(vi),He=Math.sin(vi),vi=Math.cos(ft),ft=Math.sin(ft),Fi=Math.tan(Fi/4),$e=4/3*$e*Fi,Ri=4/3*Ri*Fi,Fi=[Oe,Se],ki=[Oe+$e*He,Se-Ri*ki],vi=[ge+$e*ft,Qt-Ri*vi],Qt=[ge,Qt];if(ki[0]=2*Fi[0]-ki[0],ki[1]=2*Fi[1]-ki[1],we)return[ki,vi,Qt].concat(zt);var zt=[ki,vi,Qt].concat(zt).join().split(","),vt=[],Ze=[];return zt.forEach(function(Hi,ii){ii%2?Ze.push(st(zt[ii-1],zt[ii],it).y):Ze.push(st(zt[ii],zt[ii+1],it).x),Ze.length===6&&(vt.push(Ze),Ze=[])}),vt};v.SVGPathElement.prototype.setAttribute=function(Oe,Se){Oe==="d"&&(this[Le]=null,this[Re]=null),be.call(this,Oe,Se)},v.SVGPathElement.prototype.removeAttribute=function(Oe,Se){Oe==="d"&&(this[Le]=null,this[Re]=null),tt.call(this,Oe)},v.SVGPathElement.prototype.getPathData=function(Oe){if(Oe&&Oe.normalize)return this[Re]?ye(this[Re]):(this[Le]?Ct=ye(this[Le]):(Ct=re(this.getAttribute("d")||""),this[Le]=ye(Ct)),Oe=_e((Se=[],Ee=Te=me=ge=null,Ct.forEach(function(je){var Ft,we,st,it,oe,ke,Ue=je.type;Ue==="M"?(oe=je.values[0],ke=je.values[1],Se.push({type:"M",values:[oe,ke]}),ge=Te=oe,me=Ee=ke):Ue==="m"?(oe=ge+je.values[0],ke=me+je.values[1],Se.push({type:"M",values:[oe,ke]}),ge=Te=oe,me=Ee=ke):Ue==="L"?(oe=je.values[0],ke=je.values[1],Se.push({type:"L",values:[oe,ke]}),ge=oe,me=ke):Ue==="l"?(oe=ge+je.values[0],ke=me+je.values[1],Se.push({type:"L",values:[oe,ke]}),ge=oe,me=ke):Ue==="C"?(Ft=je.values[0],we=je.values[1],st=je.values[2],it=je.values[3],oe=je.values[4],ke=je.values[5],Se.push({type:"C",values:[Ft,we,st,it,oe,ke]}),ge=oe,me=ke):Ue==="c"?(Ft=ge+je.values[0],we=me+je.values[1],st=ge+je.values[2],it=me+je.values[3],oe=ge+je.values[4],ke=me+je.values[5],Se.push({type:"C",values:[Ft,we,st,it,oe,ke]}),ge=oe,me=ke):Ue==="Q"?(Ft=je.values[0],we=je.values[1],oe=je.values[2],ke=je.values[3],Se.push({type:"Q",values:[Ft,we,oe,ke]}),ge=oe,me=ke):Ue==="q"?(Ft=ge+je.values[0],we=me+je.values[1],oe=ge+je.values[2],ke=me+je.values[3],Se.push({type:"Q",values:[Ft,we,oe,ke]}),ge=oe,me=ke):Ue==="A"?(oe=je.values[5],ke=je.values[6],Se.push({type:"A",values:[je.values[0],je.values[1],je.values[2],je.values[3],je.values[4],oe,ke]}),ge=oe,me=ke):Ue==="a"?(oe=ge+je.values[5],ke=me+je.values[6],Se.push({type:"A",values:[je.values[0],je.values[1],je.values[2],je.values[3],je.values[4],oe,ke]}),ge=oe,me=ke):Ue==="H"?(oe=je.values[0],Se.push({type:"H",values:[oe]}),ge=oe):Ue==="h"?(oe=ge+je.values[0],Se.push({type:"H",values:[oe]}),ge=oe):Ue==="V"?(ke=je.values[0],Se.push({type:"V",values:[ke]}),me=ke):Ue==="v"?(ke=me+je.values[0],Se.push({type:"V",values:[ke]}),me=ke):Ue==="S"?(st=je.values[0],it=je.values[1],oe=je.values[2],ke=je.values[3],Se.push({type:"S",values:[st,it,oe,ke]}),ge=oe,me=ke):Ue==="s"?(st=ge+je.values[0],it=me+je.values[1],oe=ge+je.values[2],ke=me+je.values[3],Se.push({type:"S",values:[st,it,oe,ke]}),ge=oe,me=ke):Ue==="T"?(oe=je.values[0],ke=je.values[1],Se.push({type:"T",values:[oe,ke]}),ge=oe,me=ke):Ue==="t"?(oe=ge+je.values[0],ke=me+je.values[1],Se.push({type:"T",values:[oe,ke]}),ge=oe,me=ke):Ue!=="Z"&&Ue!=="z"||(Se.push({type:"Z",values:[]}),ge=Te,me=Ee)}),Se)),this[Re]=ye(Oe),Oe);if(this[Le])return ye(this[Le]);var Se,ge,me,Te,Ee,Ct=re(this.getAttribute("d")||"");return this[Le]=ye(Ct),Ct},v.SVGPathElement.prototype.setPathData=function(Oe){if(Oe.length===0)se?this.setAttribute("d",""):this.removeAttribute("d");else{for(var Se="",ge=0,me=Oe.length;ge<me;ge+=1){var Te=Oe[ge];0<ge&&(Se+=" "),Se+=Te.type,Te.values&&0<Te.values.length&&(Se+=" "+Te.values.join(" "))}this.setAttribute("d",Se)}},v.SVGRectElement.prototype.getPathData=function(Oe){var Se=this.x.baseVal.value,Ct=this.y.baseVal.value,ge=this.width.baseVal.value,me=this.height.baseVal.value,Te=(this.hasAttribute("rx")?this.rx:this.ry).baseVal.value,Ee=(this.hasAttribute("ry")?this.ry:this.rx).baseVal.value,Ct=(Ct=[{type:"M",values:[Se+(Te=ge/2<Te?ge/2:Te),Ct]},{type:"H",values:[Se+ge-Te]},{type:"A",values:[Te,Ee=me/2<Ee?me/2:Ee,0,0,1,Se+ge,Ct+Ee]},{type:"V",values:[Ct+me-Ee]},{type:"A",values:[Te,Ee,0,0,1,Se+ge-Te,Ct+me]},{type:"H",values:[Se+Te]},{type:"A",values:[Te,Ee,0,0,1,Se,Ct+me-Ee]},{type:"V",values:[Ct+Ee]},{type:"A",values:[Te,Ee,0,0,1,Se+Te,Ct]},{type:"Z",values:[]}]).filter(function(je){return je.type!=="A"||je.values[0]!==0&&je.values[1]!==0});return Ct=Oe&&Oe.normalize===!0?_e(Ct):Ct},v.SVGCircleElement.prototype.getPathData=function(Oe){var Se=this.cx.baseVal.value,me=this.cy.baseVal.value,ge=this.r.baseVal.value,me=[{type:"M",values:[Se+ge,me]},{type:"A",values:[ge,ge,0,0,1,Se,me+ge]},{type:"A",values:[ge,ge,0,0,1,Se-ge,me]},{type:"A",values:[ge,ge,0,0,1,Se,me-ge]},{type:"A",values:[ge,ge,0,0,1,Se+ge,me]},{type:"Z",values:[]}];return me=Oe&&Oe.normalize===!0?_e(me):me},v.SVGEllipseElement.prototype.getPathData=function(Oe){var Se=this.cx.baseVal.value,Te=this.cy.baseVal.value,ge=this.rx.baseVal.value,me=this.ry.baseVal.value,Te=[{type:"M",values:[Se+ge,Te]},{type:"A",values:[ge,me,0,0,1,Se,Te+me]},{type:"A",values:[ge,me,0,0,1,Se-ge,Te]},{type:"A",values:[ge,me,0,0,1,Se,Te-me]},{type:"A",values:[ge,me,0,0,1,Se+ge,Te]},{type:"Z",values:[]}];return Te=Oe&&Oe.normalize===!0?_e(Te):Te},v.SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]},v.SVGPolylineElement.prototype.getPathData=function(){for(var Oe=[],Se=0;Se<this.points.numberOfItems;Se+=1){var ge=this.points.getItem(Se);Oe.push({type:Se===0?"M":"L",values:[ge.x,ge.y]})}return Oe},v.SVGPolygonElement.prototype.getPathData=function(){for(var Oe=[],Se=0;Se<this.points.numberOfItems;Se+=1){var ge=this.points.getItem(Se);Oe.push({type:Se===0?"M":"L",values:[ge.x,ge.y]})}return Oe.push({type:"Z",values:[]}),Oe}}()},Ye=(b={},Ge.m=f=[function(v,H,W){W.r(H);var V=500,se=[],re=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(Re){return setTimeout(Re,1e3/60)},ye=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||function(Re){return clearTimeout(Re)},_e=Date.now(),be=void 0;function tt(){var Re=void 0,Qe=void 0;be&&(ye.call(window,be),be=null),se.forEach(function(Oe){var Se;(Se=Oe.event)&&(Oe.event=null,Oe.listener(Se),Re=!0)}),Re?(_e=Date.now(),Qe=!0):Date.now()-_e<V&&(Qe=!0),Qe&&(be=re.call(window,tt))}function Le(Re){var Qe=-1;return se.some(function(Oe,Se){return Oe.listener===Re&&(Qe=Se,!0)}),Qe}H.default={add:function(Re){var Qe=void 0;return Le(Re)===-1?(se.push(Qe={listener:Re}),function(Oe){Qe.event=Oe,be||tt()}):null},remove:function(Re){-1<(Re=Le(Re))&&(se.splice(Re,1),!se.length&&be&&(ye.call(window,be),be=null))}}}],Ge.c=b,Ge.d=function(v,H,W){Ge.o(v,H)||Object.defineProperty(v,H,{enumerable:!0,get:W})},Ge.r=function(v){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(v,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(v,"__esModule",{value:!0})},Ge.t=function(v,H){if(1&H&&(v=Ge(v)),8&H||4&H&&typeof v=="object"&&v&&v.__esModule)return v;var W=Object.create(null);if(Ge.r(W),Object.defineProperty(W,"default",{enumerable:!0,value:v}),2&H&&typeof v!="string")for(var V in v)Ge.d(W,V,(function(se){return v[se]}).bind(null,V));return W},Ge.n=function(v){var H=v&&v.__esModule?function(){return v.default}:function(){return v};return Ge.d(H,"a",H),H},Ge.o=function(v,H){return Object.prototype.hasOwnProperty.call(v,H)},Ge.p="",Ge(Ge.s=0).default),Tt={line_altColor:{iniValue:!1},line_color:{},line_colorTra:{iniValue:!1},line_strokeWidth:{},plug_enabled:{iniValue:!1},plug_enabledSE:{hasSE:!0,iniValue:!1},plug_plugSE:{hasSE:!0,iniValue:he},plug_colorSE:{hasSE:!0},plug_colorTraSE:{hasSE:!0,iniValue:!1},plug_markerWidthSE:{hasSE:!0},plug_markerHeightSE:{hasSE:!0},lineOutline_enabled:{iniValue:!1},lineOutline_color:{},lineOutline_colorTra:{iniValue:!1},lineOutline_strokeWidth:{},lineOutline_inStrokeWidth:{},plugOutline_enabledSE:{hasSE:!0,iniValue:!1},plugOutline_plugSE:{hasSE:!0,iniValue:he},plugOutline_colorSE:{hasSE:!0},plugOutline_colorTraSE:{hasSE:!0,iniValue:!1},plugOutline_strokeWidthSE:{hasSE:!0},plugOutline_inStrokeWidthSE:{hasSE:!0},position_socketXYSE:{hasSE:!0,hasProps:!0},position_plugOverheadSE:{hasSE:!0},position_path:{},position_lineStrokeWidth:{},position_socketGravitySE:{hasSE:!0},path_pathData:{},path_edge:{hasProps:!0},viewBox_bBox:{hasProps:!0},viewBox_plugBCircleSE:{hasSE:!0},lineMask_enabled:{iniValue:!1},lineMask_outlineMode:{iniValue:!1},lineMask_x:{},lineMask_y:{},lineOutlineMask_x:{},lineOutlineMask_y:{},maskBGRect_x:{},maskBGRect_y:{},capsMaskAnchor_enabledSE:{hasSE:!0,iniValue:!1},capsMaskAnchor_pathDataSE:{hasSE:!0},capsMaskAnchor_strokeWidthSE:{hasSE:!0},capsMaskMarker_enabled:{iniValue:!1},capsMaskMarker_enabledSE:{hasSE:!0,iniValue:!1},capsMaskMarker_plugSE:{hasSE:!0,iniValue:he},capsMaskMarker_markerWidthSE:{hasSE:!0},capsMaskMarker_markerHeightSE:{hasSE:!0},caps_enabled:{iniValue:!1},attach_plugSideLenSE:{hasSE:!0},attach_plugBackLenSE:{hasSE:!0}},Vt={show_on:{},show_effect:{},show_animOptions:{},show_animId:{},show_inAnim:{}},ti="fade",ce=[],qe={},lt=0,Be={},nt=0;function Ge(v){if(b[v])return b[v].exports;var H=b[v]={i:v,l:!1,exports:{}};return f[v].call(H.exports,H,H.exports,Ge),H.l=!0,H.exports}function Pt(){var v=Date.now(),H=!1;k&&(L.call(window,k),k=null),u.forEach(function(W){var V,se,re;if(W.framesStart){if((V=v-W.framesStart)>=W.duration&&W.count&&W.loopsLeft<=1)return re=W.frames[W.lastFrame=W.reverse?0:W.frames.length-1],W.frameCallback(re.value,!0,re.timeRatio,re.outputRatio),void(W.framesStart=null);if(V>W.duration){if(se=Math.floor(V/W.duration),W.count){if(se>=W.loopsLeft)return re=W.frames[W.lastFrame=W.reverse?0:W.frames.length-1],W.frameCallback(re.value,!0,re.timeRatio,re.outputRatio),void(W.framesStart=null);W.loopsLeft-=se}W.framesStart+=W.duration*se,V=v-W.framesStart}W.reverse&&(V=W.duration-V),re=W.frames[W.lastFrame=Math.round(V/E)],W.frameCallback(re.value,!1,re.timeRatio,re.outputRatio)!==!1?H=!0:W.framesStart=null}}),H&&(k=P.call(window,Pt))}function Yt(v,H){v.framesStart=Date.now(),H!=null&&(v.framesStart-=v.duration*(v.reverse?1-H:H)),v.loopsLeft=v.count,v.lastFrame=null,Pt()}function _i(v,H){var W,V;return typeof v!=typeof H||(W=fe(v)?"obj":Array.isArray(v)?"array":"")!=(fe(H)?"obj":Array.isArray(H)?"array":"")||(W==="obj"?_i(V=Object.keys(v).sort(),Object.keys(H).sort())||V.some(function(se){return _i(v[se],H[se])}):W==="array"?v.length!==H.length||v.some(function(se,re){return _i(se,H[re])}):v!==H)}function di(v){return v&&(fe(v)?Object.keys(v).reduce(function(H,W){return H[W]=di(v[W]),H},{}):Array.isArray(v)?v.map(di):v)}function Bi(v){var H,W,V,se=1,re=v=(v+"").trim();function ye(tt){var be=1,tt=yt.exec(tt);return tt&&(be=parseFloat(tt[1]),tt[2]?be=0<=be&&be<=100?be/100:1:(be<0||1<be)&&(be=1)),be}return(H=/^(rgba|hsla|hwb|gray|device\-cmyk)\s*\(([\s\S]+)\)$/i.exec(v))?(W=H[1].toLowerCase(),V=H[2].trim().split(/\s*,\s*/),W==="rgba"&&V.length===4?(se=ye(V[3]),re="rgb("+V.slice(0,3).join(", ")+")"):W==="hsla"&&V.length===4?(se=ye(V[3]),re="hsl("+V.slice(0,3).join(", ")+")"):W==="hwb"&&V.length===4?(se=ye(V[3]),re="hwb("+V.slice(0,3).join(", ")+")"):W==="gray"&&V.length===2?(se=ye(V[1]),re="gray("+V[0]+")"):W==="device-cmyk"&&5<=V.length&&(se=ye(V[4]),re="device-cmyk("+V.slice(0,4).join(", ")+")")):(H=/^\#(?:([\da-f]{6})([\da-f]{2})|([\da-f]{3})([\da-f]))$/i.exec(v))?re=H[1]?(se=parseInt(H[2],16)/255,"#"+H[1]):(se=parseInt(H[4]+H[4],16)/255,"#"+H[3]):v.toLocaleLowerCase()==="transparent"&&(se=0),[se,re]}function hi(v){return!(!v||v.nodeType!==Node.ELEMENT_NODE||typeof v.getBoundingClientRect!="function")}function zi(v,H){var W,V,se,re={};if(!(se=v.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(v.compareDocumentPosition(se)&Node.DOCUMENT_POSITION_DISCONNECTED)return console.error("A disconnected element was passed."),null;for(V in W=v.getBoundingClientRect())re[V]=W[V];if(!H){if(!(se=se.defaultView))return console.error("Cannot get window that contains the element."),null;re.left+=se.pageXOffset,re.right+=se.pageXOffset,re.top+=se.pageYOffset,re.bottom+=se.pageYOffset}return re}function Ss(v,H){var W,V=[],se=v;for(H=H||window;;){if(!(W=se.ownerDocument))return console.error("Cannot get document that contains the element."),null;if(!(W=W.defaultView))return console.error("Cannot get window that contains the element."),null;if(W===H)break;if(!(se=W.frameElement))return console.error("`baseWindow` was not found."),null;V.unshift(se)}return V}function es(v,H){var W=0,V=0;return(H=Ss(v,H=H||window))?H.length?(H.forEach(function(se,re){var ye=zi(se,0<re);W+=ye.left,V+=ye.top,se=(re=se).ownerDocument.defaultView.getComputedStyle(re,""),ye={left:re.clientLeft+parseFloat(se.paddingLeft),top:re.clientTop+parseFloat(se.paddingTop)},W+=ye.left,V+=ye.top}),(H=zi(v,!0)).left+=W,H.right+=W,H.top+=V,H.bottom+=V,H):zi(v):null}function Tr(v,V){var W=v.x-V.x,V=v.y-V.y;return Math.sqrt(W*W+V*V)}function xa(v,se,W){var V=se.x-v.x,se=se.y-v.y;return{x:v.x+V*W,y:v.y+se*W,angle:Math.atan2(se,V)/(Math.PI/180)}}function kn(v,H,W){return v=Math.atan2(v.y-H.y,H.x-v.x),{x:H.x+Math.cos(v)*W,y:H.y+Math.sin(v)*W*-1}}function us(Oe,Se,W,me,ge){var Qe=ge*ge,Re=Qe*ge,re=1-ge,Le=re*re,tt=Le*re,ye=tt*Oe.x+3*Le*ge*Se.x+3*re*Qe*W.x+Re*me.x,_e=tt*Oe.y+3*Le*ge*Se.y+3*re*Qe*W.y+Re*me.y,be=Oe.x+2*ge*(Se.x-Oe.x)+Qe*(W.x-2*Se.x+Oe.x),tt=Oe.y+2*ge*(Se.y-Oe.y)+Qe*(W.y-2*Se.y+Oe.y),Le=Se.x+2*ge*(W.x-Se.x)+Qe*(me.x-2*W.x+Se.x),Re=Se.y+2*ge*(W.y-Se.y)+Qe*(me.y-2*W.y+Se.y),Qe=re*Oe.x+ge*Se.x,Oe=re*Oe.y+ge*Se.y,Se=re*W.x+ge*me.x,ge=re*W.y+ge*me.y,me=90-180*Math.atan2(be-Le,tt-Re)/Math.PI;return{x:ye,y:_e,fromP2:{x:be,y:tt},toP1:{x:Le,y:Re},fromP1:{x:Qe,y:Oe},toP2:{x:Se,y:ge},angle:me+=180<me?-180:180}}function Dr(v,H,W,V,se){function re(Re,Qe,Oe,Se,ge){return Re*(Re*(-3*Qe+9*Oe-9*Se+3*ge)+6*Qe-12*Oe+6*Se)-3*Qe+3*Oe}var ye,_e,be=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],tt=0,Le=(se=se==null||1<se?1:se<0?0:se)/2;return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach(function(Re,Qe){ye=re(_e=Le*Re+Le,v.x,H.x,W.x,V.x),_e=re(_e,v.y,H.y,W.y,V.y),_e=ye*ye+_e*_e,tt+=be[Qe]*Math.sqrt(_e)}),Le*tt}function en(v,H,W,V,se){for(var re,ye=.5,_e=1-ye;re=Dr(v,H,W,V,_e),!(Math.abs(re-se)<=.01);)_e+=(re<se?1:-1)*(ye/=2);return _e}function ka(v,H){var W;return v.forEach(function(V){V=H?V.map(function(se){return se={x:se.x,y:se.y},H(se),se}):V,(W=W||[{type:"M",values:[V[0].x,V[0].y]}]).push(V.length?V.length===2?{type:"L",values:[V[1].x,V[1].y]}:{type:"C",values:[V[1].x,V[1].y,V[2].x,V[2].y,V[3].x,V[3].y]}:{type:"Z",values:[]})}),W}function aa(v){var H=[],W=0;return v.forEach(function(V){V=(V.length===2?Tr:Dr).apply(null,V),H.push(V),W+=V}),{segsLen:H,lenAll:W}}function tn(v,H){return v==null||H==null||v.length!==H.length||v.some(function(W,V){var se=H[V];return W.type!==se.type||W.values.some(function(re,ye){return re!==se.values[ye]})})}function Ir(v,H,W){v.events[H]?v.events[H].indexOf(W)<0&&v.events[H].push(W):v.events[H]=[W]}function ir(v,H,W){var V;v.events[H]&&-1<(V=v.events[H].indexOf(W))&&v.events[H].splice(V,1)}function rn(v){o&&clearTimeout(o),ce.push(v),o=setTimeout(function(){ce.forEach(function(H){H()}),ce=[]},0)}function vr(v,H){v.reflowTargets.indexOf(H)<0&&v.reflowTargets.push(H)}function bl(v){v.reflowTargets.forEach(function(H){var W;W=H,setTimeout(function(){var V=W.parentNode,se=W.nextSibling;V.insertBefore(V.removeChild(W),se)},0)}),v.reflowTargets=[]}function wl(v,H,W,V,se,re,ye){var _e;W==="auto-start-reverse"?(typeof h!="boolean"&&(H.setAttribute("orient","auto-start-reverse"),h=H.orientType.baseVal===SVGMarkerElement.SVG_MARKER_ORIENT_UNKNOWN),h?H.setAttribute("orient",W):((_e=se.createSVGTransform()).setRotate(180,0,0),re.transform.baseVal.appendItem(_e),H.setAttribute("orient","auto"),_e=!0)):(H.setAttribute("orient",W),h===!1&&re.transform.baseVal.clear()),H=H.viewBox.baseVal,_e?(H.x=-V.right,H.y=-V.bottom):(H.x=V.left,H.y=V.top),H.width=V.width,H.height=V.height,Ni&&vr(v,ye)}function Ql(v,H){return{prop:v?"markerEnd":"markerStart",orient:H?H.noRotate?"0":v?"auto":"auto-start-reverse":null}}function It(v,H){Object.keys(H).forEach(function(W){var V=H[W];v[W]=V.iniValue!=null?V.hasSE?[V.iniValue,V.iniValue]:V.iniValue:V.hasSE?V.hasProps?[{},{}]:[]:V.hasProps?{}:null})}function ne(v,H,W,V,se){return V!==H[W]&&(H[W]=V,se&&se.forEach(function(re){re(v,V,W)}),!0)}function bt(V){function H(re,ye){return re+parseFloat(ye)}var se=V.document,W=V.getComputedStyle(se.documentElement,""),V=V.getComputedStyle(se.body,""),se={x:0,y:0};return V.position!=="static"?(se.x-=[W.marginLeft,W.borderLeftWidth,W.paddingLeft,V.marginLeft,V.borderLeftWidth].reduce(H,0),se.y-=[W.marginTop,W.borderTopWidth,W.paddingTop,V.marginTop,V.borderTopWidth].reduce(H,0)):W.position!=="static"&&(se.x-=[W.marginLeft,W.borderLeftWidth].reduce(H,0),se.y-=[W.marginTop,W.borderTopWidth].reduce(H,0)),se}function Kt(v){var H,W=v.document;W.getElementById(Q)||(H=new v.DOMParser().parseFromString(Z,"image/svg+xml"),W.body.appendChild(H.documentElement),Ke(v,Fr))}function Cr(v){var H,W,V,se,re,ye,_e,be,tt,Le,Re,Qe,Oe,Se,ge=v.options,me=v.curStats,Te=v.aplStats,Ee=me.position_socketXYSE,Ct=!1;function je(we,st){return we=st===I?{x:we.left+we.width/2,y:we.top}:st===U?{x:we.right,y:we.top+we.height/2}:st===z?{x:we.left+we.width/2,y:we.bottom}:{x:we.left,y:we.top+we.height/2},we.socketId=st,we}function Ft(we){return{x:we.x,y:we.y}}if(me.position_path=ge.path,me.position_lineStrokeWidth=me.line_strokeWidth,me.position_socketGravitySE=H=di(ge.socketGravitySE),W=[0,1].map(function(we){var st=ge.anchorSE[we],it=v.optionIsAttach.anchorSE[we],oe=it!==!1?Be[st._id]:null,ke=it!==!1&&oe.conf.getStrokeWidth?oe.conf.getStrokeWidth(oe,v):0,Ue=it!==!1&&oe.conf.getBBoxNest?oe.conf.getBBoxNest(oe,v,ke):es(st,v.baseWindow);return me.capsMaskAnchor_pathDataSE[we]=it!==!1&&oe.conf.getPathData?oe.conf.getPathData(oe,v,ke):(it=(st=Ue).right!=null?st.right:st.left+st.width,oe=st.bottom!=null?st.bottom:st.top+st.height,[{type:"M",values:[st.left,st.top]},{type:"L",values:[it,st.top]},{type:"L",values:[it,oe]},{type:"L",values:[st.left,oe]},{type:"Z",values:[]}]),me.capsMaskAnchor_strokeWidthSE[we]=ke,Ue}),_e=-1,ge.socketSE[0]&&ge.socketSE[1]?(Ee[0]=je(W[0],ge.socketSE[0]),Ee[1]=je(W[1],ge.socketSE[1])):(ge.socketSE[0]||ge.socketSE[1]?(ye=ge.socketSE[0]?(re=0,1):(re=1,0),Ee[re]=je(W[re],ge.socketSE[re]),(se=Ae.map(function(we){return je(W[ye],we)})).forEach(function(we){var st=Tr(we,Ee[re]);(st<_e||_e===-1)&&(Ee[ye]=we,_e=st)})):(se=Ae.map(function(we){return je(W[1],we)}),Ae.map(function(we){return je(W[0],we)}).forEach(function(we){se.forEach(function(st){var it=Tr(we,st);(it<_e||_e===-1)&&(Ee[0]=we,Ee[1]=st,_e=it)})})),[0,1].forEach(function(we){var st,it;ge.socketSE[we]||(W[we].width||W[we].height?W[we].width||Ee[we].socketId!==g&&Ee[we].socketId!==U?W[we].height||Ee[we].socketId!==I&&Ee[we].socketId!==z||(Ee[we].socketId=0<=Ee[we?0:1].y-W[we].top?z:I):Ee[we].socketId=0<=Ee[we?0:1].x-W[we].left?U:g:(st=Ee[we?0:1].x-W[we].left,it=Ee[we?0:1].y-W[we].top,Ee[we].socketId=Math.abs(st)>=Math.abs(it)?0<=st?U:g:0<=it?z:I))})),me.position_path!==Te.position_path||me.position_lineStrokeWidth!==Te.position_lineStrokeWidth||[0,1].some(function(we){return me.position_plugOverheadSE[we]!==Te.position_plugOverheadSE[we]||(st=Ee[we],it=Te.position_socketXYSE[we],st.x!==it.x||st.y!==it.y||st.socketId!==it.socketId)||(st=H[we],it=Te.position_socketGravitySE[we],(we=st==null?"auto":Array.isArray(st)?"array":"number")!=(it==null?"auto":Array.isArray(it)?"array":"number")||(we=="array"?st[0]!==it[0]||st[1]!==it[1]:st!==it));var st,it})){switch(v.pathList.baseVal=V=[],v.pathList.animVal=null,me.position_path){case A:V.push([Ft(Ee[0]),Ft(Ee[1])]);break;case F:Qe=typeof H[0]=="number"&&0<H[0]||typeof H[1]=="number"&&0<H[1],Oe=qi*(Qe?-1:1),Se=Math.atan2(Ee[1].y-Ee[0].y,Ee[1].x-Ee[0].x),Qe=Oe-Se,Se=Math.PI-Se-Oe,Oe=Tr(Ee[0],Ee[1])/Math.sqrt(2)*Ui,Qe={x:Ee[0].x+Math.cos(Qe)*Oe,y:Ee[0].y+Math.sin(Qe)*Oe*-1},Oe={x:Ee[1].x+Math.cos(Se)*Oe,y:Ee[1].y+Math.sin(Se)*Oe*-1},V.push([Ft(Ee[0]),Qe,Oe,Ft(Ee[1])]);break;case B:case j:tt=[H[0],me.position_path===j?0:H[1]],Le=[],Re=[],Ee.forEach(function(we,st){var it,oe=tt[st],ke=Array.isArray(oe)?{x:oe[0],y:oe[1]}:typeof oe=="number"?we.socketId===I?{x:0,y:-oe}:we.socketId===U?{x:oe,y:0}:we.socketId===z?{x:0,y:oe}:{x:-oe,y:0}:(it=Ee[st?0:1],oe=0<(oe=me.position_plugOverheadSE[st])?Ut+(jt<oe?(oe-jt)*Ci:0):xt+(me.position_lineStrokeWidth>At?(me.position_lineStrokeWidth-At)*Me:0),we.socketId===I?{x:0,y:-(ke=(ke=(we.y-it.y)/2)<oe?oe:ke)}:we.socketId===U?{x:ke=(ke=(it.x-we.x)/2)<oe?oe:ke,y:0}:we.socketId===z?{x:0,y:ke=(ke=(it.y-we.y)/2)<oe?oe:ke}:{x:-(ke=(ke=(we.x-it.x)/2)<oe?oe:ke),y:0});Le[st]=we.x+ke.x,Re[st]=we.y+ke.y}),V.push([Ft(Ee[0]),{x:Le[0],y:Re[0]},{x:Le[1],y:Re[1]},Ft(Ee[1])]);break;case $:(function(){var we,st=1,it=2,oe=3,ke=4,Ue=[[],[]],He=[];function ft(vt){return vt===st?oe:vt===it?ke:vt===oe?st:it}function $e(vt){return vt===it||vt===ke?"x":"y"}function Ri(vt,Ze,Hi){var ii={x:vt.x,y:vt.y};if(Hi){if(Hi===ft(vt.dirId))throw new Error("Invalid dirId: "+Hi);ii.dirId=Hi}else ii.dirId=vt.dirId;return ii.dirId===st?ii.y-=Ze:ii.dirId===it?ii.x+=Ze:ii.dirId===oe?ii.y+=Ze:ii.x-=Ze,ii}function Fi(vt,Ze){return Ze.dirId===st?vt.y<=Ze.y:Ze.dirId===it?vt.x>=Ze.x:Ze.dirId===oe?vt.y>=Ze.y:vt.x<=Ze.x}function ki(vt,Ze){return Ze.dirId===st||Ze.dirId===oe?vt.x===Ze.x:vt.y===Ze.y}function vi(vt){return vt[0]?{contain:0,notContain:1}:{contain:1,notContain:0}}function Qt(vt,Ze,Hi){return Math.abs(Ze[Hi]-vt[Hi])}function zt(vt,Ze,Hi){return Hi==="x"?vt.x<Ze.x?it:ke:vt.y<Ze.y?oe:st}for(Ee.forEach(function(vt,Ze){var Hi=Ft(vt),ii=H[Ze];vt=Array.isArray(ii)?ii[0]<0?[ke,-ii[0]]:0<ii[0]?[it,ii[0]]:ii[1]<0?[st,-ii[1]]:0<ii[1]?[oe,ii[1]]:[vt.socketId,0]:typeof ii!="number"?[vt.socketId,yi]:0<=ii?[vt.socketId,ii]:[ft(vt.socketId),-ii],Hi.dirId=vt[0],ii=vt[1],Ue[Ze].push(Hi),He[Ze]=Ri(Hi,ii)});function(){var vt,Ze,Hi,ii,Mr=[Fi(He[1],He[0]),Fi(He[0],He[1])],Er=[$e(He[0].dirId),$e(He[1].dirId)];if(Er[0]===Er[1]){if(Mr[0]&&Mr[1])return void(ki(He[1],He[0])||(He[0][Er[0]]===He[1][Er[1]]?(Ue[0].push(He[0]),Ue[1].push(He[1])):(vt=He[0][Er[0]]+(He[1][Er[1]]-He[0][Er[0]])/2,Ue[0].push(Ri(He[0],Math.abs(vt-He[0][Er[0]]))),Ue[1].push(Ri(He[1],Math.abs(vt-He[1][Er[1]]))))));Mr[0]!==Mr[1]?(Ze=vi(Mr),(Hi=Qt(He[Ze.notContain],He[Ze.contain],Er[Ze.notContain]))<yi&&(He[Ze.notContain]=Ri(He[Ze.notContain],yi-Hi)),Ue[Ze.notContain].push(He[Ze.notContain]),He[Ze.notContain]=Ri(He[Ze.notContain],yi,ki(He[Ze.contain],He[Ze.notContain])?Er[Ze.notContain]==="x"?oe:it:zt(He[Ze.notContain],He[Ze.contain],Er[Ze.notContain]==="x"?"y":"x"))):(Hi=Qt(He[0],He[1],Er[0]==="x"?"y":"x"),Ue.forEach(function(Sa,Lr){var rr=Lr===0?1:0;Sa.push(He[Lr]),He[Lr]=Ri(He[Lr],yi,2*yi<=Hi?zt(He[Lr],He[rr],Er[Lr]==="x"?"y":"x"):Er[Lr]==="x"?oe:it)}))}else{if(Mr[0]&&Mr[1])return void(ki(He[1],He[0])?Ue[1].push(He[1]):ki(He[0],He[1])?Ue[0].push(He[0]):Ue[0].push(Er[0]==="x"?{x:He[1].x,y:He[0].y}:{x:He[0].x,y:He[1].y}));Mr[0]!==Mr[1]?(Ze=vi(Mr),Ue[Ze.notContain].push(He[Ze.notContain]),He[Ze.notContain]=Ri(He[Ze.notContain],yi,Qt(He[Ze.notContain],He[Ze.contain],Er[Ze.contain])>=yi?zt(He[Ze.notContain],He[Ze.contain],Er[Ze.contain]):He[Ze.contain].dirId)):(ii=[{x:He[0].x,y:He[0].y},{x:He[1].x,y:He[1].y}],Ue.forEach(function(Sa,Lr){var rr=Lr===0?1:0,Ne=Qt(ii[Lr],ii[rr],Er[Lr]);Ne<yi&&(He[Lr]=Ri(He[Lr],yi-Ne)),Sa.push(He[Lr]),He[Lr]=Ri(He[Lr],yi,zt(He[Lr],He[rr],Er[rr]))}))}return 1}(););Ue[1].reverse(),Ue[0].concat(Ue[1]).forEach(function(vt,Ze){vt={x:vt.x,y:vt.y},0<Ze&&V.push([we,vt]),we=vt})})()}be=[],me.position_plugOverheadSE.forEach(function(we,st){var it,oe,ke,Ue,He,ft,$e,Ri,Fi,ki=!st;0<we?(it=V[oe=ki?0:V.length-1]).length===2?(be[oe]=be[oe]||Tr.apply(null,it),be[oe]>rt&&(be[oe]-we<rt&&(we=be[oe]-rt),$e=xa(it[0],it[1],(ki?we:be[oe]-we)/be[oe]),V[oe]=ki?[$e,it[1]]:[it[0],$e],be[oe]-=we)):(be[oe]=be[oe]||Dr.apply(null,it),be[oe]>rt&&(be[oe]-we<rt&&(we=be[oe]-rt),$e=us(it[0],it[1],it[2],it[3],en(it[0],it[1],it[2],it[3],ki?we:be[oe]-we)),Ue=ki?(ke=it[0],$e.toP1):(ke=it[3],$e.fromP2),He=Math.atan2(ke.y-$e.y,$e.x-ke.x),ft=Tr($e,Ue),$e.x=ke.x+Math.cos(He)*we,$e.y=ke.y+Math.sin(He)*we*-1,Ue.x=$e.x+Math.cos(He)*ft,Ue.y=$e.y+Math.sin(He)*ft*-1,V[oe]=ki?[$e,$e.toP1,$e.toP2,it[3]]:[it[0],$e.fromP1,$e.fromP2,$e],be[oe]=null)):we<0&&(it=V[oe=ki?0:V.length-1],$e=Ee[st].socketId,st=-W[st][(Ri=$e===g||$e===U?"x":"y")=="x"?"width":"height"],Fi=(we=we<st?st:we)*($e===g||$e===I?-1:1),it.length===2?it[ki?0:it.length-1][Ri]+=Fi:(ki?[0,1]:[it.length-2,it.length-1]).forEach(function(vi){it[vi][Ri]+=Fi}),be[oe]=null)}),Te.position_socketXYSE=di(Ee),Te.position_plugOverheadSE=di(me.position_plugOverheadSE),Te.position_path=me.position_path,Te.position_lineStrokeWidth=me.position_lineStrokeWidth,Te.position_socketGravitySE=di(H),Ct=!0,v.events.apl_position&&v.events.apl_position.forEach(function(we){we(v,V)})}return Ct}function br(v,H){H!==v.isShown&&(!!H!=!!v.isShown&&(v.svg.style.visibility=H?"":"hidden"),v.isShown=H,v.events&&v.events.svgShow&&v.events.svgShow.forEach(function(W){W(v,H)}))}function qt(v,H){var W,V,se,re,ye,_e,be,tt,Le,Re,Qe,Oe,Se,ge,me,Te,Ee,Ct,je,Ft,we,st,it,oe,ke,Ue,He,ft,$e,Ri,Fi,ki,vi,Qt,zt,vt,Ze,Hi,ii,Mr,Er,Sa,Lr,rr={};H.line&&(rr.line=(tt=(W=v).options,V=W.curStats,Le=W.events,Re=!1,Re=ne(W,V,"line_color",tt.lineColor,Le.cur_line_color)||Re,Re=ne(W,V,"line_colorTra",Bi(V.line_color)[0]<1)||Re,Re=ne(W,V,"line_strokeWidth",tt.lineSize,Le.cur_line_strokeWidth)||Re)),(H.plug||rr.line)&&(rr.plug=(re=(se=v).options,ye=se.curStats,_e=se.events,be=!1,[0,1].forEach(function(Ne){var ni,wr,Cs,qr,Ba,Ph,So,Ls,Na=re.plugSE[Ne];be=ne(se,ye.plug_enabledSE,Ne,Na!==he)||be,be=ne(se,ye.plug_plugSE,Ne,Na)||be,be=ne(se,ye.plug_colorSE,Ne,Ls=re.plugColorSE[Ne]||ye.line_color,_e.cur_plug_colorSE)||be,be=ne(se,ye.plug_colorTraSE,Ne,Bi(Ls)[0]<1)||be,Na!==he&&(qr=wr=(ni=ve[Ve[Na]]).widthR*re.plugSizeSE[Ne],Ba=Cs=ni.heightR*re.plugSizeSE[Ne],Ai&&(qr*=ye.line_strokeWidth,Ba*=ye.line_strokeWidth),be=ne(se,ye.plug_markerWidthSE,Ne,qr)||be,be=ne(se,ye.plug_markerHeightSE,Ne,Ba)||be,ye.capsMaskMarker_markerWidthSE[Ne]=wr,ye.capsMaskMarker_markerHeightSE[Ne]=Cs),ye.plugOutline_plugSE[Ne]=ye.capsMaskMarker_plugSE[Ne]=Na,ye.plug_enabledSE[Ne]?(Ls=ye.line_strokeWidth/ee.lineSize*re.plugSizeSE[Ne],ye.position_plugOverheadSE[Ne]=ni.overhead*Ls,ye.viewBox_plugBCircleSE[Ne]=ni.bCircle*Ls,Ph=ni.sideLen*Ls,So=ni.backLen*Ls):(ye.position_plugOverheadSE[Ne]=-ye.line_strokeWidth/2,ye.viewBox_plugBCircleSE[Ne]=Ph=So=0),ne(se,ye.attach_plugSideLenSE,Ne,Ph,_e.cur_attach_plugSideLenSE),ne(se,ye.attach_plugBackLenSE,Ne,So,_e.cur_attach_plugBackLenSE),ye.capsMaskAnchor_enabledSE[Ne]=!ye.plug_enabledSE[Ne]}),be=ne(se,ye,"plug_enabled",ye.plug_enabledSE[0]||ye.plug_enabledSE[1])||be)),(H.lineOutline||rr.line)&&(rr.lineOutline=(Le=(tt=v).options,Re=tt.curStats,it=!1,it=ne(tt,Re,"lineOutline_enabled",Le.lineOutlineEnabled)||it,it=ne(tt,Re,"lineOutline_color",Le.lineOutlineColor)||it,it=ne(tt,Re,"lineOutline_colorTra",Bi(Re.lineOutline_color)[0]<1)||it,Le=Re.line_strokeWidth*Le.lineOutlineSize,it=ne(tt,Re,"lineOutline_strokeWidth",Re.line_strokeWidth-2*Le)||it,it=ne(tt,Re,"lineOutline_inStrokeWidth",Re.lineOutline_colorTra?Re.lineOutline_strokeWidth+2*yr:Re.line_strokeWidth-Le)||it)),(H.plugOutline||rr.line||rr.plug||rr.lineOutline)&&(rr.plugOutline=(Oe=(Qe=v).options,Se=Qe.curStats,ge=!1,[0,1].forEach(function(Ne){var ni=Se.plugOutline_plugSE[Ne],wr=ni!==he?ve[Ve[ni]]:null;ge=ne(Qe,Se.plugOutline_enabledSE,Ne,Oe.plugOutlineEnabledSE[Ne]&&Se.plug_enabled&&Se.plug_enabledSE[Ne]&&!!wr&&!!wr.outlineBase)||ge,ge=ne(Qe,Se.plugOutline_colorSE,Ne,ni=Oe.plugOutlineColorSE[Ne]||Se.lineOutline_color)||ge,ge=ne(Qe,Se.plugOutline_colorTraSE,Ne,Bi(ni)[0]<1)||ge,wr&&wr.outlineBase&&((ni=Oe.plugOutlineSizeSE[Ne])>wr.outlineMax&&(ni=wr.outlineMax),ni*=2*wr.outlineBase,ge=ne(Qe,Se.plugOutline_strokeWidthSE,Ne,ni)||ge,ge=ne(Qe,Se.plugOutline_inStrokeWidthSE,Ne,Se.plugOutline_colorTraSE[Ne]?ni-yr/(Se.line_strokeWidth/ee.lineSize)/Oe.plugSizeSE[Ne]*2:ni/2)||ge)}),ge)),(H.faces||rr.line||rr.plug||rr.lineOutline||rr.plugOutline)&&(rr.faces=(Ee=(me=v).curStats,Ct=me.aplStats,je=me.events,Ft=!1,!Ee.line_altColor&&ne(me,Ct,"line_color",Te=Ee.line_color,je.apl_line_color)&&(me.lineFace.style.stroke=Te,Ft=!0),ne(me,Ct,"line_strokeWidth",Te=Ee.line_strokeWidth,je.apl_line_strokeWidth)&&(me.lineShape.style.strokeWidth=Te+"px",Ft=!0,(Fr||Ni)&&(vr(me,me.lineShape),Ni&&(vr(me,me.lineFace),vr(me,me.lineMaskCaps)))),ne(me,Ct,"lineOutline_enabled",Te=Ee.lineOutline_enabled,je.apl_lineOutline_enabled)&&(me.lineOutlineFace.style.display=Te?"inline":"none",Ft=!0),Ee.lineOutline_enabled&&(ne(me,Ct,"lineOutline_color",Te=Ee.lineOutline_color,je.apl_lineOutline_color)&&(me.lineOutlineFace.style.stroke=Te,Ft=!0),ne(me,Ct,"lineOutline_strokeWidth",Te=Ee.lineOutline_strokeWidth,je.apl_lineOutline_strokeWidth)&&(me.lineOutlineMaskShape.style.strokeWidth=Te+"px",Ft=!0,Ni&&(vr(me,me.lineOutlineMaskCaps),vr(me,me.lineOutlineFace))),ne(me,Ct,"lineOutline_inStrokeWidth",Te=Ee.lineOutline_inStrokeWidth,je.apl_lineOutline_inStrokeWidth)&&(me.lineMaskShape.style.strokeWidth=Te+"px",Ft=!0,Ni&&(vr(me,me.lineOutlineMaskCaps),vr(me,me.lineOutlineFace)))),ne(me,Ct,"plug_enabled",Te=Ee.plug_enabled,je.apl_plug_enabled)&&(me.plugsFace.style.display=Te?"inline":"none",Ft=!0),Ee.plug_enabled&&[0,1].forEach(function(Ne){var ni=Ee.plug_plugSE[Ne],wr=ni!==he?ve[Ve[ni]]:null,Cs=Ql(Ne,wr);ne(me,Ct.plug_enabledSE,Ne,Te=Ee.plug_enabledSE[Ne],je.apl_plug_enabledSE)&&(me.plugsFace.style[Cs.prop]=Te?"url(#"+me.plugMarkerIdSE[Ne]+")":"none",Ft=!0),Ee.plug_enabledSE[Ne]&&(ne(me,Ct.plug_plugSE,Ne,ni,je.apl_plug_plugSE)&&(me.plugFaceSE[Ne].href.baseVal="#"+wr.elmId,wl(me,me.plugMarkerSE[Ne],Cs.orient,wr.bBox,me.svg,me.plugMarkerShapeSE[Ne],me.plugsFace),Ft=!0,Fr&&vr(me,me.plugsFace)),ne(me,Ct.plug_colorSE,Ne,Te=Ee.plug_colorSE[Ne],je.apl_plug_colorSE)&&(me.plugFaceSE[Ne].style.fill=Te,Ft=!0,(Xr||Ai||Ni)&&!Ee.line_colorTra&&vr(me,Ni?me.lineMaskCaps:me.capsMaskLine)),["markerWidth","markerHeight"].forEach(function(qr){var Ba="plug_"+qr+"SE";ne(me,Ct[Ba],Ne,Te=Ee[Ba][Ne],je["apl_"+Ba])&&(me.plugMarkerSE[Ne][qr].baseVal.value=Te,Ft=!0)}),ne(me,Ct.plugOutline_enabledSE,Ne,Te=Ee.plugOutline_enabledSE[Ne],je.apl_plugOutline_enabledSE)&&(Te?(me.plugFaceSE[Ne].style.mask="url(#"+me.plugMaskIdSE[Ne]+")",me.plugOutlineFaceSE[Ne].style.display="inline"):(me.plugFaceSE[Ne].style.mask="none",me.plugOutlineFaceSE[Ne].style.display="none"),Ft=!0),Ee.plugOutline_enabledSE[Ne]&&(ne(me,Ct.plugOutline_plugSE,Ne,ni,je.apl_plugOutline_plugSE)&&(me.plugOutlineFaceSE[Ne].href.baseVal=me.plugMaskShapeSE[Ne].href.baseVal=me.plugOutlineMaskShapeSE[Ne].href.baseVal="#"+wr.elmId,[me.plugMaskSE[Ne],me.plugOutlineMaskSE[Ne]].forEach(function(qr){qr.x.baseVal.value=wr.bBox.left,qr.y.baseVal.value=wr.bBox.top,qr.width.baseVal.value=wr.bBox.width,qr.height.baseVal.value=wr.bBox.height}),Ft=!0),ne(me,Ct.plugOutline_colorSE,Ne,Te=Ee.plugOutline_colorSE[Ne],je.apl_plugOutline_colorSE)&&(me.plugOutlineFaceSE[Ne].style.fill=Te,Ft=!0,Ni&&(vr(me,me.lineMaskCaps),vr(me,me.lineOutlineMaskCaps))),ne(me,Ct.plugOutline_strokeWidthSE,Ne,Te=Ee.plugOutline_strokeWidthSE[Ne],je.apl_plugOutline_strokeWidthSE)&&(me.plugOutlineMaskShapeSE[Ne].style.strokeWidth=Te+"px",Ft=!0),ne(me,Ct.plugOutline_inStrokeWidthSE,Ne,Te=Ee.plugOutline_inStrokeWidthSE[Ne],je.apl_plugOutline_inStrokeWidthSE)&&(me.plugMaskShapeSE[Ne].style.strokeWidth=Te+"px",Ft=!0)))}),Ft)),(H.position||rr.line||rr.plug)&&(rr.position=Cr(v)),(H.path||rr.position)&&(rr.path=(it=(we=v).curStats,He=we.aplStats,Ue=we.pathList.animVal||we.pathList.baseVal,oe=it.path_edge,ft=!1,Ue&&(oe.x1=oe.x2=Ue[0][0].x,oe.y1=oe.y2=Ue[0][0].y,it.path_pathData=st=ka(Ue,function(Ne){Ne.x<oe.x1&&(oe.x1=Ne.x),Ne.y<oe.y1&&(oe.y1=Ne.y),Ne.x>oe.x2&&(oe.x2=Ne.x),Ne.y>oe.y2&&(oe.y2=Ne.y)}),tn(st,He.path_pathData)&&(we.linePath.setPathData(st),He.path_pathData=st,ft=!0,Ni?(vr(we,we.plugsFace),vr(we,we.lineMaskCaps)):Fr&&vr(we,we.linePath),we.events.apl_path&&we.events.apl_path.forEach(function(Ne){Ne(we,st)}))),ft)),rr.viewBox=(Ue=(ke=v).curStats,He=ke.aplStats,ft=Ue.path_edge,$e=Ue.viewBox_bBox,Ri=He.viewBox_bBox,Fi=ke.svg.viewBox.baseVal,ki=ke.svg.style,vi=!1,He=Math.max(Ue.line_strokeWidth/2,Ue.viewBox_plugBCircleSE[0]||0,Ue.viewBox_plugBCircleSE[1]||0),Qt={x1:ft.x1-He,y1:ft.y1-He,x2:ft.x2+He,y2:ft.y2+He},ke.events.new_edge4viewBox&&ke.events.new_edge4viewBox.forEach(function(Ne){Ne(ke,Qt)}),$e.x=Ue.lineMask_x=Ue.lineOutlineMask_x=Ue.maskBGRect_x=Qt.x1,$e.y=Ue.lineMask_y=Ue.lineOutlineMask_y=Ue.maskBGRect_y=Qt.y1,$e.width=Qt.x2-Qt.x1,$e.height=Qt.y2-Qt.y1,["x","y","width","height"].forEach(function(Ne){var ni;(ni=$e[Ne])!==Ri[Ne]&&(Fi[Ne]=Ri[Ne]=ni,ki[et[Ne]]=ni+(Ne==="x"||Ne==="y"?ke.bodyOffset[Ne]:0)+"px",vi=!0)}),vi),rr.mask=(Ze=(zt=v).curStats,Hi=zt.aplStats,ii=!1,Ze.plug_enabled?[0,1].forEach(function(Ne){Ze.capsMaskMarker_enabledSE[Ne]=Ze.plug_enabledSE[Ne]&&Ze.plug_colorTraSE[Ne]||Ze.plugOutline_enabledSE[Ne]&&Ze.plugOutline_colorTraSE[Ne]}):Ze.capsMaskMarker_enabledSE[0]=Ze.capsMaskMarker_enabledSE[1]=!1,Ze.capsMaskMarker_enabled=Ze.capsMaskMarker_enabledSE[0]||Ze.capsMaskMarker_enabledSE[1],Ze.lineMask_outlineMode=Ze.lineOutline_enabled,Ze.caps_enabled=Ze.capsMaskMarker_enabled||Ze.capsMaskAnchor_enabledSE[0]||Ze.capsMaskAnchor_enabledSE[1],Ze.lineMask_enabled=Ze.caps_enabled||Ze.lineMask_outlineMode,(Ze.lineMask_enabled&&!Ze.lineMask_outlineMode||Ze.lineOutline_enabled)&&["x","y"].forEach(function(Ne){var ni="maskBGRect_"+Ne;ne(zt,Hi,ni,vt=Ze[ni])&&(zt.maskBGRect[Ne].baseVal.value=vt,ii=!0)}),ne(zt,Hi,"lineMask_enabled",vt=Ze.lineMask_enabled)&&(zt.lineFace.style.mask=vt?"url(#"+zt.lineMaskId+")":"none",ii=!0,Ai&&vr(zt,zt.lineMask)),Ze.lineMask_enabled&&(ne(zt,Hi,"lineMask_outlineMode",vt=Ze.lineMask_outlineMode)&&(vt?(zt.lineMaskBG.style.display="none",zt.lineMaskShape.style.display="inline"):(zt.lineMaskBG.style.display="inline",zt.lineMaskShape.style.display="none"),ii=!0),["x","y"].forEach(function(Ne){var ni="lineMask_"+Ne;ne(zt,Hi,ni,vt=Ze[ni])&&(zt.lineMask[Ne].baseVal.value=vt,ii=!0)}),ne(zt,Hi,"caps_enabled",vt=Ze.caps_enabled)&&(zt.lineMaskCaps.style.display=zt.lineOutlineMaskCaps.style.display=vt?"inline":"none",ii=!0,Ai&&vr(zt,zt.capsMaskLine)),Ze.caps_enabled&&([0,1].forEach(function(Ne){var ni;ne(zt,Hi.capsMaskAnchor_enabledSE,Ne,vt=Ze.capsMaskAnchor_enabledSE[Ne])&&(zt.capsMaskAnchorSE[Ne].style.display=vt?"inline":"none",ii=!0,Ai&&vr(zt,zt.lineMask)),Ze.capsMaskAnchor_enabledSE[Ne]&&(tn(ni=Ze.capsMaskAnchor_pathDataSE[Ne],Hi.capsMaskAnchor_pathDataSE[Ne])&&(zt.capsMaskAnchorSE[Ne].setPathData(ni),Hi.capsMaskAnchor_pathDataSE[Ne]=ni,ii=!0),ne(zt,Hi.capsMaskAnchor_strokeWidthSE,Ne,vt=Ze.capsMaskAnchor_strokeWidthSE[Ne])&&(zt.capsMaskAnchorSE[Ne].style.strokeWidth=vt+"px",ii=!0))}),ne(zt,Hi,"capsMaskMarker_enabled",vt=Ze.capsMaskMarker_enabled)&&(zt.capsMaskLine.style.display=vt?"inline":"none",ii=!0),Ze.capsMaskMarker_enabled&&[0,1].forEach(function(Ne){var ni=Ze.capsMaskMarker_plugSE[Ne],wr=ni!==he?ve[Ve[ni]]:null,Cs=Ql(Ne,wr);ne(zt,Hi.capsMaskMarker_enabledSE,Ne,vt=Ze.capsMaskMarker_enabledSE[Ne])&&(zt.capsMaskLine.style[Cs.prop]=vt?"url(#"+zt.lineMaskMarkerIdSE[Ne]+")":"none",ii=!0),Ze.capsMaskMarker_enabledSE[Ne]&&(ne(zt,Hi.capsMaskMarker_plugSE,Ne,ni)&&(zt.capsMaskMarkerShapeSE[Ne].href.baseVal="#"+wr.elmId,wl(zt,zt.capsMaskMarkerSE[Ne],Cs.orient,wr.bBox,zt.svg,zt.capsMaskMarkerShapeSE[Ne],zt.capsMaskLine),ii=!0,Fr&&(vr(zt,zt.capsMaskLine),vr(zt,zt.lineFace))),["markerWidth","markerHeight"].forEach(function(qr){var Ba="capsMaskMarker_"+qr+"SE";ne(zt,Hi[Ba],Ne,vt=Ze[Ba][Ne])&&(zt.capsMaskMarkerSE[Ne][qr].baseVal.value=vt,ii=!0)}))}))),Ze.lineOutline_enabled&&["x","y"].forEach(function(Ne){var ni="lineOutlineMask_"+Ne;ne(zt,Hi,ni,vt=Ze[ni])&&(zt.lineOutlineMask[Ne].baseVal.value=vt,ii=!0)}),ii),H.effect&&(Sa=(Mr=v).curStats,Lr=Mr.aplStats,Object.keys(t).forEach(function(qr){var ni=t[qr],wr=qr+"_enabled",Cs=qr+"_options",qr=Sa[Cs];ne(Mr,Lr,wr,Er=Sa[wr])?(Er&&(Lr[Cs]=di(qr)),ni[Er?"init":"remove"](Mr)):Er&&_i(qr,Lr[Cs])&&(ni.remove(Mr),Lr[wr]=!0,Lr[Cs]=di(qr),ni.init(Mr))})),(Xr||Ai)&&rr.line&&!rr.path&&vr(v,v.lineShape),Xr&&rr.plug&&!rr.line&&vr(v,v.plugsFace),bl(v)}function Jr(v,H){return{duration:(le(v.duration)&&0<v.duration?v:H).duration,timing:Fe.validTiming(v.timing)?v.timing:di(H.timing)}}function ts(v,H,W,V){var se=v.curStats,re=v.aplStats,ye={};function _e(){["show_on","show_effect","show_animOptions"].forEach(function(be){re[be]=se[be]})}se.show_on=H,W&&e[W]&&(se.show_effect=W,se.show_animOptions=Jr(fe(V)?V:{},e[W].defaultAnimOptions)),ye.show_on=se.show_on!==re.show_on,ye.show_effect=se.show_effect!==re.show_effect,ye.show_animOptions=_i(se.show_animOptions,re.show_animOptions),ye.show_effect||ye.show_animOptions?se.show_inAnim?(W=ye.show_effect?e[re.show_effect].stop(v,!0,!0):e[re.show_effect].stop(v),_e(),e[re.show_effect].init(v,W)):ye.show_on&&(re.show_effect&&ye.show_effect&&e[re.show_effect].stop(v,!0,!0),_e(),e[re.show_effect].init(v)):ye.show_on&&(_e(),e[re.show_effect].start(v))}function Sn(v,H,W){return W={props:v,optionName:W},v.attachments.indexOf(H)<0&&(!H.conf.bind||H.conf.bind(H,W))&&(v.attachments.push(H),H.boundTargets.push(W),1)}function zr(v,H,W){var V=v.attachments.indexOf(H);-1<V&&v.attachments.splice(V,1),H.boundTargets.some(function(se,re){return se.props===v&&(H.conf.unbind&&H.conf.unbind(H,se),V=re,!0)})&&(H.boundTargets.splice(V,1),W||rn(function(){H.boundTargets.length||l(H)}))}function Gn(v,H){var W,V,se,re,ye,_e,be,tt,Le,Re,Qe,Oe,Se,ge,me,Te=v.options,Ee={};function Ct(oe,ke,Ue,He,ft){var $e={};return Ue?He!=null?($e.container=oe[Ue],$e.key=He):($e.container=oe,$e.key=Ue):($e.container=oe,$e.key=ke),$e.default=ft,$e.acceptsAuto=$e.default==null,$e}function je(oe,ke,Ue,He,ft,$e,Qt){var Fi,ki,vi,Qt=Ct(oe,Ue,ft,$e,Qt);return ke[Ue]!=null&&(ki=(ke[Ue]+"").toLowerCase())&&(Qt.acceptsAuto&&ki===ze||(vi=He[ki]))&&vi!==Qt.container[Qt.key]&&(Qt.container[Qt.key]=vi,Fi=!0),Qt.container[Qt.key]!=null||Qt.acceptsAuto||(Qt.container[Qt.key]=Qt.default,Fi=!0),Fi}function Ft(oe,ke,Ue,He,ft,$e,Ze,Fi,ki){var vi,Qt,zt,vt,Ze=Ct(oe,Ue,ft,$e,Ze);if(!He){if(Ze.default==null)throw new Error("Invalid `type`: "+Ue);He=typeof Ze.default}return ke[Ue]!=null&&(Ze.acceptsAuto&&(ke[Ue]+"").toLowerCase()===ze||(zt=Qt=ke[Ue],((vt=He)==="number"?le(zt):typeof zt===vt)&&(Qt=ki&&He==="string"&&Qt?Qt.trim():Qt,1)&&(!Fi||Fi(Qt))))&&Qt!==Ze.container[Ze.key]&&(Ze.container[Ze.key]=Qt,vi=!0),Ze.container[Ze.key]!=null||Ze.acceptsAuto||(Ze.container[Ze.key]=Ze.default,vi=!0),vi}if(H=H||{},["start","end"].forEach(function(oe,ke){var Ue=H[oe],He=!1;if(Ue&&(hi(Ue)||(He=a(Ue,"anchor")))&&Ue!==Te.anchorSE[ke]){if(v.optionIsAttach.anchorSE[ke]!==!1&&zr(v,Be[Te.anchorSE[ke]._id]),He&&!Sn(v,Be[Ue._id],oe))throw new Error("Can't bind attachment");Te.anchorSE[ke]=Ue,v.optionIsAttach.anchorSE[ke]=He,W=Ee.position=!0}}),!Te.anchorSE[0]||!Te.anchorSE[1]||Te.anchorSE[0]===Te.anchorSE[1])throw new Error("`start` and `end` are required.");function we(oe){var ke=ye.appendChild(ge.createElementNS(Nt,"mask"));return ke.id=oe,ke.maskUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[ke.x,ke.y,ke.width,ke.height].forEach(function(Ue){Ue.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),ke}function st(oe){var ke=ye.appendChild(ge.createElementNS(Nt,"marker"));return ke.id=oe,ke.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_STROKEWIDTH,ke.viewBox.baseVal||ke.setAttribute("viewBox","0 0 0 0"),ke}function it(oe){return[oe.width,oe.height].forEach(function(ke){ke.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100)}),oe}W&&(Qe=function(oe,ke){var Ue,He;if(!(oe=Ss(oe))||!(Ue=Ss(ke)))throw new Error("Cannot get frames.");return oe.length&&Ue.length&&(oe.reverse(),Ue.reverse(),oe.some(function(ft){return Ue.some(function($e){return $e===ft&&(He=$e.contentWindow,!0)})})),He||window}(v.optionIsAttach.anchorSE[0]!==!1?Be[Te.anchorSE[0]._id].element:Te.anchorSE[0],v.optionIsAttach.anchorSE[1]!==!1?Be[Te.anchorSE[1]._id].element:Te.anchorSE[1]))!==v.baseWindow&&(se=Qe,Se=(V=v).aplStats,ge=se.document,me=M+"-"+V._id,V.pathList={},It(Se,Tt),Object.keys(t).forEach(function(oe){var ke=oe+"_enabled";Se[ke]&&(t[oe].remove(V),Se[ke]=!1)}),V.baseWindow&&V.svg&&V.baseWindow.document.body.removeChild(V.svg),Kt(V.baseWindow=se),V.bodyOffset=bt(se),V.svg=re=ge.createElementNS(Nt,"svg"),re.className.baseVal=M,re.viewBox.baseVal||re.setAttribute("viewBox","0 0 0 0"),V.defs=ye=re.appendChild(ge.createElementNS(Nt,"defs")),V.linePath=be=ye.appendChild(ge.createElementNS(Nt,"path")),be.id=tt=me+"-line-path",be.className.baseVal=M+"-line-path",Ai&&(be.style.fill="none"),V.lineShape=be=ye.appendChild(ge.createElementNS(Nt,"use")),be.id=Le=me+"-line-shape",be.href.baseVal="#"+tt,(_e=ye.appendChild(ge.createElementNS(Nt,"g"))).id=Re=me+"-caps",V.capsMaskAnchorSE=[0,1].map(function(){var oe=_e.appendChild(ge.createElementNS(Nt,"path"));return oe.className.baseVal=M+"-caps-mask-anchor",oe}),V.lineMaskMarkerIdSE=[me+"-caps-mask-marker-0",me+"-caps-mask-marker-1"],V.capsMaskMarkerSE=[0,1].map(function(oe){return st(V.lineMaskMarkerIdSE[oe])}),V.capsMaskMarkerShapeSE=[0,1].map(function(oe){return oe=V.capsMaskMarkerSE[oe].appendChild(ge.createElementNS(Nt,"use")),oe.className.baseVal=M+"-caps-mask-marker-shape",oe}),V.capsMaskLine=be=_e.appendChild(ge.createElementNS(Nt,"use")),be.className.baseVal=M+"-caps-mask-line",be.href.baseVal="#"+Le,V.maskBGRect=be=it(ye.appendChild(ge.createElementNS(Nt,"rect"))),be.id=Qe=me+"-mask-bg-rect",be.className.baseVal=M+"-mask-bg-rect",Ai&&(be.style.fill="white"),V.lineMask=it(we(V.lineMaskId=me+"-line-mask")),V.lineMaskBG=be=V.lineMask.appendChild(ge.createElementNS(Nt,"use")),be.href.baseVal="#"+Qe,V.lineMaskShape=be=V.lineMask.appendChild(ge.createElementNS(Nt,"use")),be.className.baseVal=M+"-line-mask-shape",be.href.baseVal="#"+tt,be.style.display="none",V.lineMaskCaps=be=V.lineMask.appendChild(ge.createElementNS(Nt,"use")),be.href.baseVal="#"+Re,V.lineOutlineMask=it(we(se=me+"-line-outline-mask")),(be=V.lineOutlineMask.appendChild(ge.createElementNS(Nt,"use"))).href.baseVal="#"+Qe,V.lineOutlineMaskShape=be=V.lineOutlineMask.appendChild(ge.createElementNS(Nt,"use")),be.className.baseVal=M+"-line-outline-mask-shape",be.href.baseVal="#"+tt,V.lineOutlineMaskCaps=be=V.lineOutlineMask.appendChild(ge.createElementNS(Nt,"use")),be.href.baseVal="#"+Re,V.face=re.appendChild(ge.createElementNS(Nt,"g")),V.lineFace=be=V.face.appendChild(ge.createElementNS(Nt,"use")),be.href.baseVal="#"+Le,V.lineOutlineFace=be=V.face.appendChild(ge.createElementNS(Nt,"use")),be.href.baseVal="#"+Le,be.style.mask="url(#"+se+")",be.style.display="none",V.plugMaskIdSE=[me+"-plug-mask-0",me+"-plug-mask-1"],V.plugMaskSE=[0,1].map(function(oe){return we(V.plugMaskIdSE[oe])}),V.plugMaskShapeSE=[0,1].map(function(oe){return oe=V.plugMaskSE[oe].appendChild(ge.createElementNS(Nt,"use")),oe.className.baseVal=M+"-plug-mask-shape",oe}),Oe=[],V.plugOutlineMaskSE=[0,1].map(function(oe){return we(Oe[oe]=me+"-plug-outline-mask-"+oe)}),V.plugOutlineMaskShapeSE=[0,1].map(function(oe){return oe=V.plugOutlineMaskSE[oe].appendChild(ge.createElementNS(Nt,"use")),oe.className.baseVal=M+"-plug-outline-mask-shape",oe}),V.plugMarkerIdSE=[me+"-plug-marker-0",me+"-plug-marker-1"],V.plugMarkerSE=[0,1].map(function(oe){return oe=st(V.plugMarkerIdSE[oe]),Ai&&(oe.markerUnits.baseVal=SVGMarkerElement.SVG_MARKERUNITS_USERSPACEONUSE),oe}),V.plugMarkerShapeSE=[0,1].map(function(oe){return V.plugMarkerSE[oe].appendChild(ge.createElementNS(Nt,"g"))}),V.plugFaceSE=[0,1].map(function(oe){return V.plugMarkerShapeSE[oe].appendChild(ge.createElementNS(Nt,"use"))}),V.plugOutlineFaceSE=[0,1].map(function(oe){var ke=V.plugMarkerShapeSE[oe].appendChild(ge.createElementNS(Nt,"use"));return ke.style.mask="url(#"+Oe[oe]+")",ke.style.display="none",ke}),V.plugsFace=be=V.face.appendChild(ge.createElementNS(Nt,"use")),be.className.baseVal=M+"-plugs-face",be.href.baseVal="#"+Le,be.style.display="none",V.curStats.show_inAnim?(V.isShown=1,e[Se.show_effect].stop(V,!0)):V.isShown||(re.style.visibility="hidden"),ge.body.appendChild(re),[0,1,2].forEach(function(Ue){var ke,Ue=V.options.labelSEM[Ue];Ue&&a(Ue,"label")&&(ke=Be[Ue._id]).conf.initSvg&&ke.conf.initSvg(ke,V)}),Ee.line=Ee.plug=Ee.lineOutline=Ee.plugOutline=Ee.faces=Ee.effect=!0),Ee.position=je(Te,H,"path",G,null,null,ee.path)||Ee.position,Ee.position=je(Te,H,"startSocket",x,"socketSE",0)||Ee.position,Ee.position=je(Te,H,"endSocket",x,"socketSE",1)||Ee.position,[H.startSocketGravity,H.endSocketGravity].forEach(function(oe,ke){var Ue,He,ft=!1;oe!=null&&(Array.isArray(oe)?le(oe[0])&&le(oe[1])&&(ft=[oe[0],oe[1]],Array.isArray(Te.socketGravitySE[ke])&&(Ue=ft,He=Te.socketGravitySE[ke],Ue.length===He.length&&Ue.every(function($e,Ri){return $e===He[Ri]}))&&(ft=!1)):((oe+"").toLowerCase()===ze?ft=null:le(oe)&&0<=oe&&(ft=oe),ft===Te.socketGravitySE[ke]&&(ft=!1)),ft!==!1&&(Te.socketGravitySE[ke]=ft,Ee.position=!0))}),Ee.line=Ft(Te,H,"color",null,"lineColor",null,ee.lineColor,null,!0)||Ee.line,Ee.line=Ft(Te,H,"size",null,"lineSize",null,ee.lineSize,function(oe){return 0<oe})||Ee.line,["startPlug","endPlug"].forEach(function(oe,ke){Ee.plug=je(Te,H,oe,Ie,"plugSE",ke,ee.plugSE[ke])||Ee.plug,Ee.plug=Ft(Te,H,oe+"Color","string","plugColorSE",ke,null,null,!0)||Ee.plug,Ee.plug=Ft(Te,H,oe+"Size",null,"plugSizeSE",ke,ee.plugSizeSE[ke],function(Ue){return 0<Ue})||Ee.plug}),Ee.lineOutline=Ft(Te,H,"outline",null,"lineOutlineEnabled",null,ee.lineOutlineEnabled)||Ee.lineOutline,Ee.lineOutline=Ft(Te,H,"outlineColor",null,"lineOutlineColor",null,ee.lineOutlineColor,null,!0)||Ee.lineOutline,Ee.lineOutline=Ft(Te,H,"outlineSize",null,"lineOutlineSize",null,ee.lineOutlineSize,function(oe){return 0<oe&&oe<=.48})||Ee.lineOutline,["startPlugOutline","endPlugOutline"].forEach(function(oe,ke){Ee.plugOutline=Ft(Te,H,oe,null,"plugOutlineEnabledSE",ke,ee.plugOutlineEnabledSE[ke])||Ee.plugOutline,Ee.plugOutline=Ft(Te,H,oe+"Color","string","plugOutlineColorSE",ke,null,null,!0)||Ee.plugOutline,Ee.plugOutline=Ft(Te,H,oe+"Size",null,"plugOutlineSizeSE",ke,ee.plugOutlineSizeSE[ke],function(Ue){return 1<=Ue})||Ee.plugOutline}),["startLabel","endLabel","middleLabel"].forEach(function(oe,ke){var Ue,He,ft,$e=H[oe],Ri=Te.labelSEM[ke]&&!v.optionIsAttach.labelSEM[ke]?Be[Te.labelSEM[ke]._id].text:Te.labelSEM[ke],Fi=!1;if((Ue=typeof $e=="string")&&($e=$e.trim()),(Ue||$e&&(Fi=a($e,"label")))&&$e!==Ri){if(Te.labelSEM[ke]&&(zr(v,Be[Te.labelSEM[ke]._id]),Te.labelSEM[ke]=""),$e){if(Fi?(He=Be[(ft=$e)._id]).boundTargets.slice().forEach(function(ki){He.conf.removeOption(He,ki)}):ft=new s(i.captionLabel,[$e]),!Sn(v,Be[ft._id],oe))throw new Error("Can't bind attachment");Te.labelSEM[ke]=ft}v.optionIsAttach.labelSEM[ke]=Fi}}),Object.keys(t).forEach(function(oe){var ke,Ue,He=t[oe],ft=oe+"_enabled",$e=oe+"_options";function Ri(ki){var vi={};return He.optionsConf.forEach(function(Qt){var zt=Qt[0],vt=Qt[3];Qt[4]==null||vi[vt]||(vi[vt]=[]),(typeof zt=="function"?zt:zt==="id"?je:Ft).apply(null,[vi,ki].concat(Qt.slice(1)))}),vi}function Fi(ki){var vi,Qt=oe+"_animOptions";return ki.hasOwnProperty("animation")?fe(ki.animation)?vi=v.curStats[Qt]=Jr(ki.animation,He.defaultAnimOptions):(vi=!!ki.animation,v.curStats[Qt]=vi?Jr({},He.defaultAnimOptions):null):(vi=!!He.defaultEnabled,v.curStats[Qt]=vi?Jr({},He.defaultAnimOptions):null),vi}H.hasOwnProperty(oe)&&(ke=H[oe],fe(ke)?(v.curStats[ft]=!0,Ue=v.curStats[$e]=Ri(ke),He.anim&&(v.curStats[$e].animation=Fi(ke))):(Ue=v.curStats[ft]=!!ke)&&(v.curStats[$e]=Ri({}),He.anim&&(v.curStats[$e].animation=Fi({}))),_i(Ue,Te[oe])&&(Te[oe]=Ue,Ee.effect=!0))}),qt(v,Ee)}function Ts(v,H,W){var V={options:{anchorSE:[],socketSE:[],socketGravitySE:[],plugSE:[],plugColorSE:[],plugSizeSE:[],plugOutlineEnabledSE:[],plugOutlineColorSE:[],plugOutlineSizeSE:[],labelSEM:["","",""]},optionIsAttach:{anchorSE:[!1,!1],labelSEM:[!1,!1,!1]},curStats:{},aplStats:{},attachments:[],events:{},reflowTargets:[]};It(V.curStats,Tt),It(V.aplStats,Tt),Object.keys(t).forEach(function(se){var re=t[se].stats;It(V.curStats,re),It(V.aplStats,re),V.options[se]=!1}),It(V.curStats,Vt),It(V.aplStats,Vt),V.curStats.show_effect=ti,V.curStats.show_animOptions=di(e[ti].defaultAnimOptions),Object.defineProperty(this,"_id",{value:++lt}),V._id=this._id,qe[this._id]=V,arguments.length===1&&(W=v,v=null),W=W||{},(v||H)&&(W=di(W),v&&(W.start=v),H&&(W.end=H)),V.isShown=V.aplStats.show_on=!W.hide,this.setOptions(W)}function na(v){return function(H){var W={};W[v]=H,this.setOptions(W)}}function Ah(v,H){var W,V={conf:v,curStats:{},aplStats:{},boundTargets:[]},se={};v.argOptions.every(function(re){return!(!H.length||(typeof re.type=="string"?typeof H[0]!==re.type:typeof re.type!="function"||!re.type(H[0])))&&(se[re.optionName]=H.shift(),!0)}),W=H.length&&fe(H[0])?di(H[0]):{},Object.keys(se).forEach(function(re){W[re]=se[re]}),v.stats&&(It(V.curStats,v.stats),It(V.aplStats,v.stats)),Object.defineProperty(this,"_id",{value:++nt}),Object.defineProperty(this,"isRemoved",{get:function(){return!Be[this._id]}}),V._id=this._id,v.init&&!v.init(V,W)||(Be[this._id]=V)}return t={dash:{stats:{dash_len:{},dash_gap:{},dash_maxOffset:{}},anim:!0,defaultAnimOptions:{duration:1e3,timing:"linear"},optionsConf:[["type","len","number",null,null,null,function(v){return 0<v}],["type","gap","number",null,null,null,function(v){return 0<v}]],init:function(v){Ir(v,"apl_line_strokeWidth",t.dash.update),v.lineFace.style.strokeDashoffset=0,t.dash.update(v)},remove:function(v){var H=v.curStats;ir(v,"apl_line_strokeWidth",t.dash.update),H.dash_animId&&(Fe.remove(H.dash_animId),H.dash_animId=null),v.lineFace.style.strokeDasharray="none",v.lineFace.style.strokeDashoffset=0,It(v.aplStats,t.dash.stats)},update:function(v){var H,W=v.curStats,V=v.aplStats,se=V.dash_options,re=!1;W.dash_len=se.len||2*V.line_strokeWidth,W.dash_gap=se.gap||V.line_strokeWidth,W.dash_maxOffset=W.dash_len+W.dash_gap,re=ne(v,V,"dash_len",W.dash_len)||re,(re=ne(v,V,"dash_gap",W.dash_gap)||re)&&(v.lineFace.style.strokeDasharray=V.dash_len+","+V.dash_gap),W.dash_animOptions?(re=ne(v,V,"dash_maxOffset",W.dash_maxOffset),V.dash_animOptions&&(re||_i(W.dash_animOptions,V.dash_animOptions))&&(W.dash_animId&&(H=Fe.stop(W.dash_animId),Fe.remove(W.dash_animId)),V.dash_animOptions=null),V.dash_animOptions||(W.dash_animId=Fe.add(function(ye){return(1-ye)*V.dash_maxOffset+"px"},function(ye){v.lineFace.style.strokeDashoffset=ye},W.dash_animOptions.duration,0,W.dash_animOptions.timing,!1,H),V.dash_animOptions=di(W.dash_animOptions))):V.dash_animOptions&&(W.dash_animId&&(Fe.remove(W.dash_animId),W.dash_animId=null),v.lineFace.style.strokeDashoffset=0,V.dash_animOptions=null)}},gradient:{stats:{gradient_colorSE:{hasSE:!0},gradient_pointSE:{hasSE:!0,hasProps:!0}},optionsConf:[["type","startColor","string","colorSE",0,null,null,!0],["type","endColor","string","colorSE",1,null,null,!0]],init:function(v){var H=v.baseWindow.document,W=v.defs,V=M+"-"+v._id+"-gradient";v.efc_gradient_gradient=W=W.appendChild(H.createElementNS(Nt,"linearGradient")),W.id=V,W.gradientUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,[W.x1,W.y1,W.x2,W.y2].forEach(function(se){se.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0)}),v.efc_gradient_stopSE=[0,1].map(function(se){var re=v.efc_gradient_gradient.appendChild(H.createElementNS(Nt,"stop"));try{re.offset.baseVal=se}catch(ye){if(ye.code!==DOMException.NO_MODIFICATION_ALLOWED_ERR)throw ye;re.setAttribute("offset",se)}return re}),Ir(v,"cur_plug_colorSE",t.gradient.update),Ir(v,"apl_path",t.gradient.update),v.curStats.line_altColor=!0,v.lineFace.style.stroke="url(#"+V+")",t.gradient.update(v)},remove:function(v){v.efc_gradient_gradient&&(v.defs.removeChild(v.efc_gradient_gradient),v.efc_gradient_gradient=v.efc_gradient_stopSE=null),ir(v,"cur_plug_colorSE",t.gradient.update),ir(v,"apl_path",t.gradient.update),v.curStats.line_altColor=!1,v.lineFace.style.stroke=v.curStats.line_color,It(v.aplStats,t.gradient.stats)},update:function(v){var H,W=v.curStats,V=v.aplStats,se=V.gradient_options,re=v.pathList.animVal||v.pathList.baseVal;[0,1].forEach(function(ye){W.gradient_colorSE[ye]=se.colorSE[ye]||W.plug_colorSE[ye]}),H=re[0][0],W.gradient_pointSE[0]={x:H.x,y:H.y},H=(re=re[re.length-1])[re.length-1],W.gradient_pointSE[1]={x:H.x,y:H.y},[0,1].forEach(function(ye){var _e;ne(v,V.gradient_colorSE,ye,_e=W.gradient_colorSE[ye])&&(Ai?(_e=Bi(_e),v.efc_gradient_stopSE[ye].style.stopColor=_e[1],v.efc_gradient_stopSE[ye].style.stopOpacity=_e[0]):v.efc_gradient_stopSE[ye].style.stopColor=_e),["x","y"].forEach(function(be){(_e=W.gradient_pointSE[ye][be])!==V.gradient_pointSE[ye][be]&&(v.efc_gradient_gradient[be+(ye+1)].baseVal.value=V.gradient_pointSE[ye][be]=_e)})})}},dropShadow:{stats:{dropShadow_dx:{},dropShadow_dy:{},dropShadow_blur:{},dropShadow_color:{},dropShadow_opacity:{},dropShadow_x:{},dropShadow_y:{}},optionsConf:[["type","dx",null,null,null,2],["type","dy",null,null,null,4],["type","blur",null,null,null,3,function(v){return 0<=v}],["type","color",null,null,null,"#000",null,!0],["type","opacity",null,null,null,.8,function(v){return 0<=v&&v<=1}]],init:function(v){var H,W,V,se,re=v.baseWindow.document,ye=v.defs,_e=M+"-"+v._id+"-dropShadow",be=(H=re,W=_e,se={},typeof m!="boolean"&&(m=!!window.SVGFEDropShadowElement&&!Ai),se.elmsAppend=[se.elmFilter=re=H.createElementNS(Nt,"filter")],re.filterUnits.baseVal=SVGUnitTypes.SVG_UNIT_TYPE_USERSPACEONUSE,re.x.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),re.y.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),re.width.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),re.height.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,100),re.id=W,m?(se.elmOffset=se.elmBlur=V=re.appendChild(H.createElementNS(Nt,"feDropShadow")),se.styleFlood=V.style):(se.elmBlur=re.appendChild(H.createElementNS(Nt,"feGaussianBlur")),se.elmOffset=V=re.appendChild(H.createElementNS(Nt,"feOffset")),V.result.baseVal="offsetblur",V=re.appendChild(H.createElementNS(Nt,"feFlood")),se.styleFlood=V.style,(V=re.appendChild(H.createElementNS(Nt,"feComposite"))).in2.baseVal="offsetblur",V.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_IN,(V=re.appendChild(H.createElementNS(Nt,"feMerge"))).appendChild(H.createElementNS(Nt,"feMergeNode")),V.appendChild(H.createElementNS(Nt,"feMergeNode")).in1.baseVal="SourceGraphic"),se);["elmFilter","elmOffset","elmBlur","styleFlood","elmsAppend"].forEach(function(tt){v["efc_dropShadow_"+tt]=be[tt]}),be.elmsAppend.forEach(function(tt){ye.appendChild(tt)}),v.face.setAttribute("filter","url(#"+_e+")"),Ir(v,"new_edge4viewBox",t.dropShadow.adjustEdge),t.dropShadow.update(v)},remove:function(v){var H=v.defs;v.efc_dropShadow_elmsAppend&&(v.efc_dropShadow_elmsAppend.forEach(function(W){H.removeChild(W)}),v.efc_dropShadow_elmFilter=v.efc_dropShadow_elmOffset=v.efc_dropShadow_elmBlur=v.efc_dropShadow_styleFlood=v.efc_dropShadow_elmsAppend=null),ir(v,"new_edge4viewBox",t.dropShadow.adjustEdge),qt(v,{}),v.face.removeAttribute("filter"),It(v.aplStats,t.dropShadow.stats)},update:function(v){var H,W,V=v.curStats,se=v.aplStats,re=se.dropShadow_options;V.dropShadow_dx=H=re.dx,ne(v,se,"dropShadow_dx",H)&&(v.efc_dropShadow_elmOffset.dx.baseVal=H,W=!0),V.dropShadow_dy=H=re.dy,ne(v,se,"dropShadow_dy",H)&&(v.efc_dropShadow_elmOffset.dy.baseVal=H,W=!0),V.dropShadow_blur=H=re.blur,ne(v,se,"dropShadow_blur",H)&&(v.efc_dropShadow_elmBlur.setStdDeviation(H,H),W=!0),W&&qt(v,{}),V.dropShadow_color=H=re.color,ne(v,se,"dropShadow_color",H)&&(v.efc_dropShadow_styleFlood.floodColor=H),V.dropShadow_opacity=H=re.opacity,ne(v,se,"dropShadow_opacity",H)&&(v.efc_dropShadow_styleFlood.floodOpacity=H)},adjustEdge:function(v,H){var W,V=v.curStats,se=v.aplStats;V.dropShadow_dx!=null&&(W=3*V.dropShadow_blur,(W={x1:H.x1-W+V.dropShadow_dx,y1:H.y1-W+V.dropShadow_dy,x2:H.x2+W+V.dropShadow_dx,y2:H.y2+W+V.dropShadow_dy}).x1<H.x1&&(H.x1=W.x1),W.y1<H.y1&&(H.y1=W.y1),W.x2>H.x2&&(H.x2=W.x2),W.y2>H.y2&&(H.y2=W.y2),["x","y"].forEach(function(re){var ye,_e="dropShadow_"+re;V[_e]=ye=H[re+"1"],ne(v,se,_e,ye)&&(v.efc_dropShadow_elmFilter[re].baseVal.value=ye)}))}}},Object.keys(t).forEach(function(v){var H=t[v],W=H.stats;W[v+"_enabled"]={iniValue:!1},W[v+"_options"]={hasProps:!0},H.anim&&(W[v+"_animOptions"]={},W[v+"_animId"]={})}),e={none:{defaultAnimOptions:{},init:function(v,H){var W=v.curStats;W.show_animId&&(Fe.remove(W.show_animId),W.show_animId=null),e.none.start(v,H)},start:function(v,H){e.none.stop(v,!0)},stop:function(v,H,W){var V=v.curStats;return W=W??v.aplStats.show_on,V.show_inAnim=!1,H&&br(v,W),W?1:0}},fade:{defaultAnimOptions:{duration:300,timing:"linear"},init:function(v,H){var W=v.curStats,V=v.aplStats;W.show_animId&&Fe.remove(W.show_animId),W.show_animId=Fe.add(function(se){return se},function(se,re){re?e.fade.stop(v,!0):(v.svg.style.opacity=se+"",Ni&&(vr(v,v.svg),bl(v)))},V.show_animOptions.duration,1,V.show_animOptions.timing,null,!1),e.fade.start(v,H)},start:function(v,H){var W,V=v.curStats;V.show_inAnim&&(W=Fe.stop(V.show_animId)),br(v,1),V.show_inAnim=!0,Fe.start(V.show_animId,!v.aplStats.show_on,H??W)},stop:function(v,H,W){var V,se=v.curStats;return W=W??v.aplStats.show_on,V=se.show_inAnim?Fe.stop(se.show_animId):W?1:0,se.show_inAnim=!1,H&&(v.svg.style.opacity=W?"":"0",br(v,W)),V}},draw:{defaultAnimOptions:{duration:500,timing:[.58,0,.42,1]},init:function(v,H){var W=v.curStats,V=v.aplStats,se=v.pathList.baseVal,re=aa(se),ye=re.segsLen,_e=re.lenAll;W.show_animId&&Fe.remove(W.show_animId),W.show_animId=Fe.add(function(be){var tt,Le,Re,Qe=-1;if(be===0)Le=[[se[0][0],se[0][0]]];else if(be===1)Le=se;else{for(tt=_e*be,Le=[];tt>=ye[++Qe];)Le.push(se[Qe]),tt-=ye[Qe];tt&&((Re=se[Qe]).length===2?Le.push([Re[0],xa(Re[0],Re[1],tt/ye[Qe])]):(be=us(Re[0],Re[1],Re[2],Re[3],en(Re[0],Re[1],Re[2],Re[3],tt)),Le.push([Re[0],be.fromP1,be.fromP2,be])))}return Le},function(be,tt){tt?e.draw.stop(v,!0):(v.pathList.animVal=be,qt(v,{path:!0}))},V.show_animOptions.duration,1,V.show_animOptions.timing,null,!1),e.draw.start(v,H)},start:function(v,H){var W,V=v.curStats;V.show_inAnim&&(W=Fe.stop(V.show_animId)),br(v,1),V.show_inAnim=!0,Ir(v,"apl_position",e.draw.update),Fe.start(V.show_animId,!v.aplStats.show_on,H??W)},stop:function(v,H,W){var V,se=v.curStats;return W=W??v.aplStats.show_on,V=se.show_inAnim?Fe.stop(se.show_animId):W?1:0,se.show_inAnim=!1,H&&(v.pathList.animVal=W?null:[[v.pathList.baseVal[0][0],v.pathList.baseVal[0][0]]],qt(v,{path:!0}),br(v,W)),V},update:function(v){ir(v,"apl_position",e.draw.update),v.curStats.show_inAnim?e.draw.init(v,e.draw.stop(v)):v.aplStats.show_animOptions={}}}},[["start","anchorSE",0],["end","anchorSE",1],["color","lineColor"],["size","lineSize"],["startSocketGravity","socketGravitySE",0],["endSocketGravity","socketGravitySE",1],["startPlugColor","plugColorSE",0],["endPlugColor","plugColorSE",1],["startPlugSize","plugSizeSE",0],["endPlugSize","plugSizeSE",1],["outline","lineOutlineEnabled"],["outlineColor","lineOutlineColor"],["outlineSize","lineOutlineSize"],["startPlugOutline","plugOutlineEnabledSE",0],["endPlugOutline","plugOutlineEnabledSE",1],["startPlugOutlineColor","plugOutlineColorSE",0],["endPlugOutlineColor","plugOutlineColorSE",1],["startPlugOutlineSize","plugOutlineSizeSE",0],["endPlugOutlineSize","plugOutlineSizeSE",1]].forEach(function(v){var H=v[0],W=v[1],V=v[2];Object.defineProperty(Ts.prototype,H,{get:function(){var se=V!=null?qe[this._id].options[W][V]:W?qe[this._id].options[W]:qe[this._id].options[H];return se==null?ze:di(se)},set:na(H),enumerable:!0})}),[["path",G],["startSocket",x,"socketSE",0],["endSocket",x,"socketSE",1],["startPlug",Ie,"plugSE",0],["endPlug",Ie,"plugSE",1]].forEach(function(v){var H=v[0],W=v[1],V=v[2],se=v[3];Object.defineProperty(Ts.prototype,H,{get:function(){var re,ye=se!=null?qe[this._id].options[V][se]:V?qe[this._id].options[V]:qe[this._id].options[H];return ye?Object.keys(W).some(function(_e){return W[_e]===ye&&(re=_e,!0)})?re:new Error("It's broken"):ze},set:na(H),enumerable:!0})}),Object.keys(t).forEach(function(v){var H=t[v];Object.defineProperty(Ts.prototype,v,{get:function(){var W,V,se=qe[this._id].options[v];return fe(se)?(W=se,V=H.optionsConf.reduce(function(re,Qe){var _e,be=Qe[0],tt=Qe[1],Le=Qe[2],Re=Qe[3],Qe=Qe[4],Oe=Qe!=null?W[Re][Qe]:Re?W[Re]:W[tt];return re[tt]=be==="id"?Oe?Object.keys(Le).some(function(Se){return Le[Se]===Oe&&(_e=Se,!0)})?_e:new Error("It's broken"):ze:Oe==null?ze:di(Oe),re},{}),H.anim&&(V.animation=di(W.animation)),V):se},set:na(v),enumerable:!0})}),["startLabel","endLabel","middleLabel"].forEach(function(v,H){Object.defineProperty(Ts.prototype,v,{get:function(){var W=qe[this._id],V=W.options;return V.labelSEM[H]&&!W.optionIsAttach.labelSEM[H]?Be[V.labelSEM[H]._id].text:V.labelSEM[H]||""},set:na(v),enumerable:!0})}),Ts.prototype.setOptions=function(v){return Gn(qe[this._id],v),this},Ts.prototype.position=function(){return qt(qe[this._id],{position:!0}),this},Ts.prototype.remove=function(){var v=qe[this._id],H=v.curStats;Object.keys(t).forEach(function(W){W+="_animId",H[W]&&Fe.remove(H[W])}),H.show_animId&&Fe.remove(H.show_animId),v.attachments.slice().forEach(function(W){zr(v,W)}),v.baseWindow&&v.svg&&v.baseWindow.document.body.removeChild(v.svg),delete qe[this._id]},Ts.prototype.show=function(v,H){return ts(qe[this._id],!0,v,H),this},Ts.prototype.hide=function(v,H){return ts(qe[this._id],!1,v,H),this},l=function(v){v&&Be[v._id]&&(v.boundTargets.slice().forEach(function(H){zr(H.props,v,!0)}),v.conf.remove&&v.conf.remove(v),delete Be[v._id])},Ah.prototype.remove=function(){var v=this,H=Be[v._id];H&&(H.boundTargets.slice().forEach(function(W){H.conf.removeOption(H,W)}),rn(function(){var W=Be[v._id];W&&(console.error("LeaderLineAttachment was not removed by removeOption"),l(W))}))},s=Ah,window.LeaderLineAttachment=s,a=function(v,H){return v instanceof s&&(!(v.isRemoved||H&&Be[v._id].conf.type!==H)||null)},i={pointAnchor:{type:"anchor",argOptions:[{optionName:"element",type:hi}],init:function(v,H){return v.element=i.pointAnchor.checkElement(H.element),v.x=i.pointAnchor.parsePercent(H.x,!0)||[.5,!0],v.y=i.pointAnchor.parsePercent(H.y,!0)||[.5,!0],!0},removeOption:function(re,H){var W=H.props,V={},se=re.element,re=W.options.anchorSE[H.optionName==="start"?1:0];se===re&&(se=re===document.body?new s(i.pointAnchor,[se]):document.body),V[H.optionName]=se,Gn(W,V)},getBBoxNest:function(v,se){var W=es(v.element,se.baseWindow),V=W.width,se=W.height;return W.width=W.height=0,W.left=W.right=W.left+v.x[0]*(v.x[1]?V:1),W.top=W.bottom=W.top+v.y[0]*(v.y[1]?se:1),W},parsePercent:function(v,H){var W,V,se=!1;return le(v)?V=v:typeof v=="string"&&(W=yt.exec(v))&&W[2]&&(se=(V=parseFloat(W[1])/100)!==0),V!=null&&(H||0<=V)?[V,se]:null},checkElement:function(v){if(v==null)v=document.body;else if(!hi(v))throw new Error("`element` must be Element");return v}},areaAnchor:{type:"anchor",argOptions:[{optionName:"element",type:hi},{optionName:"shape",type:"string"}],stats:{color:{},strokeWidth:{},elementWidth:{},elementHeight:{},elementLeft:{},elementTop:{},pathListRel:{},bBoxRel:{},pathData:{},viewBoxBBox:{hasProps:!0},dashLen:{},dashGap:{}},init:function(v,H){var W,V=[];return v.element=i.pointAnchor.checkElement(H.element),typeof H.color=="string"&&(v.color=H.color.trim()),typeof H.fillColor=="string"&&(v.fill=H.fillColor.trim()),le(H.size)&&0<=H.size&&(v.size=H.size),H.dash&&(v.dash=!0,le(H.dash.len)&&0<H.dash.len&&(v.dashLen=H.dash.len),le(H.dash.gap)&&0<H.dash.gap&&(v.dashGap=H.dash.gap)),H.shape==="circle"?v.shape=H.shape:H.shape==="polygon"&&Array.isArray(H.points)&&3<=H.points.length&&H.points.every(function(se){var re={};return!(!(re.x=i.pointAnchor.parsePercent(se[0],!0))||!(re.y=i.pointAnchor.parsePercent(se[1],!0)))&&(V.push(re),(re.x[1]||re.y[1])&&(v.hasRatio=!0),!0)})?(v.shape=H.shape,v.points=V):(v.shape="rect",v.radius=le(H.radius)&&0<=H.radius?H.radius:0),v.shape!=="rect"&&v.shape!=="circle"||(v.x=i.pointAnchor.parsePercent(H.x,!0)||[-.05,!0],v.y=i.pointAnchor.parsePercent(H.y,!0)||[-.05,!0],v.width=i.pointAnchor.parsePercent(H.width)||[1.1,!0],v.height=i.pointAnchor.parsePercent(H.height)||[1.1,!0],(v.x[1]||v.y[1]||v.width[1]||v.height[1])&&(v.hasRatio=!0)),W=v.element.ownerDocument,v.svg=H=W.createElementNS(Nt,"svg"),H.className.baseVal=M+"-areaAnchor",H.viewBox.baseVal||H.setAttribute("viewBox","0 0 0 0"),v.path=H.appendChild(W.createElementNS(Nt,"path")),v.path.style.fill=v.fill||"none",v.isShown=!1,H.style.visibility="hidden",W.body.appendChild(H),Kt(W=W.defaultView),v.bodyOffset=bt(W),v.updateColor=function(){var se=v.curStats,re=v.aplStats,ye=v.boundTargets.length?v.boundTargets[0].props.curStats:null;se.color=ye=v.color||(ye?ye.line_color:ee.lineColor),ne(v,re,"color",ye)&&(v.path.style.stroke=ye)},v.updateShow=function(){br(v,v.boundTargets.some(function(se){return se.props.isShown===!0}))},!0},bind:function(v,H){return H=H.props,v.color||Ir(H,"cur_line_color",v.updateColor),Ir(H,"svgShow",v.updateShow),rn(function(){v.updateColor(),v.updateShow()}),!0},unbind:function(v,H){H=H.props,v.color||ir(H,"cur_line_color",v.updateColor),ir(H,"svgShow",v.updateShow),1<v.boundTargets.length&&rn(function(){v.updateColor(),v.updateShow(),i.areaAnchor.update(v)&&v.boundTargets.forEach(function(W){qt(W.props,{position:!0})})})},removeOption:function(v,H){i.pointAnchor.removeOption(v,H)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.areaAnchor.unbind(v,H)})),v.svg.parentNode.removeChild(v.svg)},getStrokeWidth:function(v,H){return i.areaAnchor.update(v)&&1<v.boundTargets.length&&rn(function(){v.boundTargets.forEach(function(W){W.props!==H&&qt(W.props,{position:!0})})}),v.curStats.strokeWidth},getPathData:function(v,H){var W=es(v.element,H.baseWindow);return ka(v.curStats.pathListRel,function(V){V.x+=W.left,V.y+=W.top})},getBBoxNest:function(v,H){return H=es(v.element,H.baseWindow),v=v.curStats.bBoxRel,{left:v.left+H.left,top:v.top+H.top,right:v.right+H.left,bottom:v.bottom+H.top,width:v.width,height:v.height}},update:function(v){var H,W,V,se,re,ye,_e,be,tt,Le,Re,Qe,Oe,Se,ge,me,Te=v.curStats,Ee=v.aplStats,Ct=v.boundTargets.length?v.boundTargets[0].props.curStats:null,je={};if(je.strokeWidth=ne(v,Te,"strokeWidth",v.size!=null?v.size:Ct?Ct.line_strokeWidth:ee.lineSize),H=zi(v.element),je.elementWidth=ne(v,Te,"elementWidth",H.width),je.elementHeight=ne(v,Te,"elementHeight",H.height),je.elementLeft=ne(v,Te,"elementLeft",H.left),je.elementTop=ne(v,Te,"elementTop",H.top),je.strokeWidth||v.hasRatio&&(je.elementWidth||je.elementHeight)){switch(v.shape){case"rect":(Qe={left:v.x[0]*(v.x[1]?H.width:1),top:v.y[0]*(v.y[1]?H.height:1),width:v.width[0]*(v.width[1]?H.width:1),height:v.height[0]*(v.height[1]?H.height:1)}).right=Qe.left+Qe.width,Qe.bottom=Qe.top+Qe.height,Re=Te.strokeWidth/2,be=(_e=Math.min(Qe.width,Qe.height))?_e/2*Math.SQRT2+Re:0,Le=(_e=v.radius?v.radius<=be?v.radius:be:0)?(be=(_e-Re)/Math.SQRT2,Le=[{x:Qe.left-(tt=_e-be),y:Qe.top+be},{x:Qe.left+be,y:Qe.top-tt},{x:Qe.right-be,y:Qe.top-tt},{x:Qe.right+tt,y:Qe.top+be},{x:Qe.right+tt,y:Qe.bottom-be},{x:Qe.right-be,y:Qe.bottom+tt},{x:Qe.left+be,y:Qe.bottom+tt},{x:Qe.left-tt,y:Qe.bottom-be}],Te.pathListRel=[[Le[0],{x:Le[0].x,y:Le[0].y-(Re=_e*Ui)},{x:Le[1].x-Re,y:Le[1].y},Le[1]]],Le[1].x!==Le[2].x&&Te.pathListRel.push([Le[1],Le[2]]),Te.pathListRel.push([Le[2],{x:Le[2].x+Re,y:Le[2].y},{x:Le[3].x,y:Le[3].y-Re},Le[3]]),Le[3].y!==Le[4].y&&Te.pathListRel.push([Le[3],Le[4]]),Te.pathListRel.push([Le[4],{x:Le[4].x,y:Le[4].y+Re},{x:Le[5].x+Re,y:Le[5].y},Le[5]]),Le[5].x!==Le[6].x&&Te.pathListRel.push([Le[5],Le[6]]),Te.pathListRel.push([Le[6],{x:Le[6].x-Re,y:Le[6].y},{x:Le[7].x,y:Le[7].y+Re},Le[7]]),Le[7].y!==Le[0].y&&Te.pathListRel.push([Le[7],Le[0]]),Te.pathListRel.push([]),tt=_e-be+Te.strokeWidth/2,[{x:Qe.left-tt,y:Qe.top-tt},{x:Qe.right+tt,y:Qe.bottom+tt}]):(tt=Te.strokeWidth/2,Le=[{x:Qe.left-tt,y:Qe.top-tt},{x:Qe.right+tt,y:Qe.bottom+tt}],Te.pathListRel=[[Le[0],{x:Le[1].x,y:Le[0].y}],[{x:Le[1].x,y:Le[0].y},Le[1]],[Le[1],{x:Le[0].x,y:Le[1].y}],[]],[{x:Qe.left-Te.strokeWidth,y:Qe.top-Te.strokeWidth},{x:Qe.right+Te.strokeWidth,y:Qe.bottom+Te.strokeWidth}]),Te.bBoxRel={left:Le[0].x,top:Le[0].y,right:Le[1].x,bottom:Le[1].y,width:Le[1].x-Le[0].x,height:Le[1].y-Le[0].y};break;case"circle":(ye={left:v.x[0]*(v.x[1]?H.width:1),top:v.y[0]*(v.y[1]?H.height:1),width:v.width[0]*(v.width[1]?H.width:1),height:v.height[0]*(v.height[1]?H.height:1)}).width||ye.height||(ye.width=ye.height=10),ye.width||(ye.width=ye.height),ye.height||(ye.height=ye.width),ye.right=ye.left+ye.width,ye.bottom=ye.top+ye.height,Re=ye.left+ye.width/2,_e=ye.top+ye.height/2,re=Te.strokeWidth/2,be=ye.width/2,tt=ye.height/2,Qe=be*Math.SQRT2+re,Le=tt*Math.SQRT2+re,Te.pathListRel=[[(re=[{x:Re-Qe,y:_e},{x:Re,y:_e-Le},{x:Re+Qe,y:_e},{x:Re,y:_e+Le}])[0],{x:re[0].x,y:re[0].y-(Re=Le*Ui)},{x:re[1].x-(_e=Qe*Ui),y:re[1].y},re[1]],[re[1],{x:re[1].x+_e,y:re[1].y},{x:re[2].x,y:re[2].y-Re},re[2]],[re[2],{x:re[2].x,y:re[2].y+Re},{x:re[3].x+_e,y:re[3].y},re[3]],[re[3],{x:re[3].x-_e,y:re[3].y},{x:re[0].x,y:re[0].y+Re},re[0]],[]],be=Qe-be+Te.strokeWidth/2,tt=Le-tt+Te.strokeWidth/2,re=[{x:ye.left-be,y:ye.top-tt},{x:ye.right+be,y:ye.bottom+tt}],Te.bBoxRel={left:re[0].x,top:re[0].y,right:re[1].x,bottom:re[1].y,width:re[1].x-re[0].x,height:re[1].y-re[0].y};break;case"polygon":v.points.forEach(function(st){var we=st.x[0]*(st.x[1]?H.width:1),st=st.y[0]*(st.y[1]?H.height:1);V?(we<V.left&&(V.left=we),we>V.right&&(V.right=we),st<V.top&&(V.top=st),st>V.bottom&&(V.bottom=st)):V={left:we,right:we,top:st,bottom:st},se?Te.pathListRel.push([se,{x:we,y:st}]):Te.pathListRel=[],se={x:we,y:st}}),Te.pathListRel.push([]),re=Te.strokeWidth/2,re=[{x:V.left-re,y:V.top-re},{x:V.right+re,y:V.bottom+re}],Te.bBoxRel={left:re[0].x,top:re[0].y,right:re[1].x,bottom:re[1].y,width:re[1].x-re[0].x,height:re[1].y-re[0].y}}je.pathListRel=je.bBoxRel=!0}return(je.pathListRel||je.elementLeft||je.elementTop)&&(Te.pathData=ka(Te.pathListRel,function(Ft){Ft.x+=H.left,Ft.y+=H.top})),ne(v,Ee,"strokeWidth",W=Te.strokeWidth)&&(v.path.style.strokeWidth=W+"px"),tn(W=Te.pathData,Ee.pathData)&&(v.path.setPathData(W),Ee.pathData=W,je.pathData=!0),v.dash&&(!je.pathData&&(!je.strokeWidth||v.dashLen&&v.dashGap)||(Te.dashLen=v.dashLen||2*Te.strokeWidth,Te.dashGap=v.dashGap||Te.strokeWidth),je.dash=ne(v,Ee,"dashLen",Te.dashLen)||je.dash,je.dash=ne(v,Ee,"dashGap",Te.dashGap)||je.dash,je.dash&&(v.path.style.strokeDasharray=Ee.dashLen+","+Ee.dashGap)),Oe=Te.viewBoxBBox,Se=Ee.viewBoxBBox,ge=v.svg.viewBox.baseVal,me=v.svg.style,Oe.x=Te.bBoxRel.left+H.left,Oe.y=Te.bBoxRel.top+H.top,Oe.width=Te.bBoxRel.width,Oe.height=Te.bBoxRel.height,["x","y","width","height"].forEach(function(Ft){(W=Oe[Ft])!==Se[Ft]&&(ge[Ft]=Se[Ft]=W,me[et[Ft]]=W+(Ft==="x"||Ft==="y"?v.bodyOffset[Ft]:0)+"px")}),je.strokeWidth||je.pathListRel||je.bBoxRel}},mouseHoverAnchor:{type:"anchor",argOptions:[{optionName:"element",type:hi},{optionName:"showEffectName",type:"string"}],style:{backgroundImage:"url('data:image/svg+xml;charset=utf-8;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cG9seWdvbiBwb2ludHM9IjI0LDAgMCw4IDgsMTEgMCwxOSA1LDI0IDEzLDE2IDE2LDI0IiBmaWxsPSJjb3JhbCIvPjwvc3ZnPg==')",backgroundSize:"",backgroundRepeat:"no-repeat",backgroundColor:"#f8f881",cursor:"default"},hoverStyle:{backgroundImage:"none",backgroundColor:"#fadf8f"},padding:{top:1,right:15,bottom:1,left:2},minHeight:15,backgroundPosition:{right:2,top:2},backgroundSize:{width:12,height:12},dirKeys:[["top","Top"],["right","Right"],["bottom","Bottom"],["left","Left"]],init:function(v,H){var W,V,se,re,ye,_e,be,tt,Le,Re=i.mouseHoverAnchor,Qe={};if(v.element=i.pointAnchor.checkElement(H.element),be=v.element,!((tt=be.ownerDocument)&&(Le=tt.defaultView)&&Le.HTMLElement&&be instanceof Le.HTMLElement))throw new Error("`element` must be HTML element");return Re.style.backgroundSize=Re.backgroundSize.width+"px "+Re.backgroundSize.height+"px",["style","hoverStyle"].forEach(function(Oe){var Se=Re[Oe];v[Oe]=Object.keys(Se).reduce(function(ge,me){return ge[me]=Se[me],ge},{})}),(W=v.element.ownerDocument.defaultView.getComputedStyle(v.element,"")).display==="inline"?v.style.display="inline-block":W.display==="none"&&(v.style.display="block"),i.mouseHoverAnchor.dirKeys.forEach(function(ge){var Se=ge[0],ge="padding"+ge[1];parseFloat(W[ge])<Re.padding[Se]&&(v.style[ge]=Re.padding[Se]+"px")}),v.style.display&&(se=v.element.style.display,v.element.style.display=v.style.display),i.mouseHoverAnchor.dirKeys.forEach(function(Oe){Oe="padding"+Oe[1],v.style[Oe]&&(Qe[Oe]=v.element.style[Oe],v.element.style[Oe]=v.style[Oe])}),(be=v.element.getBoundingClientRect()).height<Re.minHeight&&(Ni?(Le=Re.minHeight,W.boxSizing==="content-box"?Le-=parseFloat(W.borderTopWidth)+parseFloat(W.borderBottomWidth)+parseFloat(W.paddingTop)+parseFloat(W.paddingBottom):W.boxSizing==="padding-box"&&(Le-=parseFloat(W.borderTopWidth)+parseFloat(W.borderBottomWidth)),v.style.height=Le+"px"):v.style.height=parseFloat(W.height)+(Re.minHeight-be.height)+"px"),v.style.backgroundPosition=Ai?be.width-Re.backgroundSize.width-Re.backgroundPosition.right+"px "+Re.backgroundPosition.top+"px":"right "+Re.backgroundPosition.right+"px top "+Re.backgroundPosition.top+"px",v.style.display&&(v.element.style.display=se),i.mouseHoverAnchor.dirKeys.forEach(function(Oe){Oe="padding"+Oe[1],v.style[Oe]&&(v.element.style[Oe]=Qe[Oe])}),["style","hoverStyle"].forEach(function(Oe){var Se=v[Oe],ge=H[Oe];fe(ge)&&Object.keys(ge).forEach(function(me){typeof ge[me]=="string"||le(ge[me])?Se[me]=ge[me]:ge[me]==null&&delete Se[me]})}),typeof H.onSwitch=="function"&&(_e=H.onSwitch),H.showEffectName&&e[H.showEffectName]&&(v.showEffectName=re=H.showEffectName),ye=H.animOptions,v.elmStyle=V=v.element.style,v.mouseenter=function(Oe){v.hoverStyleSave=Re.getStyles(V,Object.keys(v.hoverStyle)),Re.setStyles(V,v.hoverStyle),v.boundTargets.forEach(function(Se){ts(Se.props,!0,re,ye)}),_e&&_e(Oe)},v.mouseleave=function(Oe){Re.setStyles(V,v.hoverStyleSave),v.boundTargets.forEach(function(Se){ts(Se.props,!1,re,ye)}),_e&&_e(Oe)},!0},bind:function(v,H){var W,V,se,re,ye;return H.props.svg?i.mouseHoverAnchor.llShow(H.props,!1,v.showEffectName):rn(function(){i.mouseHoverAnchor.llShow(H.props,!1,v.showEffectName)}),v.enabled||(v.styleSave=i.mouseHoverAnchor.getStyles(v.elmStyle,Object.keys(v.style)),i.mouseHoverAnchor.setStyles(v.elmStyle,v.style),v.removeEventListener=(W=v.element,V=v.mouseenter,se=v.mouseleave,"onmouseenter"in W&&"onmouseleave"in W?(W.addEventListener("mouseenter",V,!1),W.addEventListener("mouseleave",se,!1),function(){W.removeEventListener("mouseenter",V,!1),W.removeEventListener("mouseleave",se,!1)}):(console.warn("mouseenter and mouseleave events polyfill is enabled."),W.addEventListener("mouseover",re=function(_e){_e.relatedTarget&&(_e.relatedTarget===this||this.compareDocumentPosition(_e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||V.apply(this,arguments)}),W.addEventListener("mouseout",ye=function(_e){_e.relatedTarget&&(_e.relatedTarget===this||this.compareDocumentPosition(_e.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||se.apply(this,arguments)}),function(){W.removeEventListener("mouseover",re,!1),W.removeEventListener("mouseout",ye,!1)})),v.enabled=!0),!0},unbind:function(v,H){v.enabled&&v.boundTargets.length<=1&&(v.removeEventListener(),i.mouseHoverAnchor.setStyles(v.elmStyle,v.styleSave),v.enabled=!1),i.mouseHoverAnchor.llShow(H.props,!0,v.showEffectName)},removeOption:function(v,H){i.pointAnchor.removeOption(v,H)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.mouseHoverAnchor.unbind(v,H)}))},getBBoxNest:function(v,H){return es(v.element,H.baseWindow)},llShow:function(v,H,W){e[W||v.curStats.show_effect].stop(v,!0,H),v.aplStats.show_on=H},getStyles:function(v,H){return H.reduce(function(W,V){return W[V]=v[V],W},{})},setStyles:function(v,H){Object.keys(H).forEach(function(W){v[W]=H[W]})}},captionLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},x:{},y:{}},textStyleProps:["fontFamily","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","kerning","letterSpacing","wordSpacing","textDecoration"],init:function(v,H){return typeof H.text=="string"&&(v.text=H.text.trim()),!!v.text&&(typeof H.color=="string"&&(v.color=H.color.trim()),v.outlineColor=typeof H.outlineColor=="string"?H.outlineColor.trim():"#fff",Array.isArray(H.offset)&&le(H.offset[0])&&le(H.offset[1])&&(v.offset={x:H.offset[0],y:H.offset[1]}),le(H.lineOffset)&&(v.lineOffset=H.lineOffset),i.captionLabel.textStyleProps.forEach(function(W){H[W]!=null&&(v[W]=H[W])}),v.updateColor=function(W){i.captionLabel.updateColor(v,W)},v.updateSocketXY=function(W){var V,se=v.curStats,re=v.aplStats,ye=W.curStats,_e=ye.position_socketXYSE[v.socketIndex];_e.x!=null&&(v.offset?(se.x=_e.x+v.offset.x,se.y=_e.y+v.offset.y):(V=v.height/2,W=Math.max(ye.attach_plugSideLenSE[v.socketIndex]||0,ye.line_strokeWidth/2),ye=ye.position_socketXYSE[v.socketIndex?0:1],_e.socketId===g||_e.socketId===U?(se.x=_e.socketId===g?_e.x-V-v.width:_e.x+V,se.y=ye.y<_e.y?_e.y+W+V:_e.y-W-V-v.height):(se.x=ye.x<_e.x?_e.x+W+V:_e.x-W-V-v.width,se.y=_e.socketId===I?_e.y-V-v.height:_e.y+V)),ne(v,re,"x",V=se.x)&&(v.elmPosition.x.baseVal.getItem(0).value=V),ne(v,re,"y",V=se.y)&&(v.elmPosition.y.baseVal.getItem(0).value=V+v.height))},v.updatePath=function(re){var V=v.curStats,se=v.aplStats,re=re.pathList.animVal||re.pathList.baseVal;re&&(re=i.captionLabel.getMidPoint(re,v.lineOffset),V.x=re.x-v.width/2,V.y=re.y-v.height/2,ne(v,se,"x",re=V.x)&&(v.elmPosition.x.baseVal.getItem(0).value=re),ne(v,se,"y",re=V.y)&&(v.elmPosition.y.baseVal.getItem(0).value=re+v.height))},v.updateShow=function(W){i.captionLabel.updateShow(v,W)},Ai&&(v.adjustEdge=function(W,V){var se=v.curStats;se.x!=null&&i.captionLabel.adjustEdge(V,{x:se.x,y:se.y,width:v.width,height:v.height},v.strokeWidth/2)}),!0)},updateColor:function(v,se){var W=v.curStats,V=v.aplStats,se=se.curStats;W.color=se=v.color||se.line_color,ne(v,V,"color",se)&&(v.styleFill.fill=se)},updateShow:function(v,H){H=H.isShown===!0,H!==v.isShown&&(v.styleShow.visibility=H?"":"hidden",v.isShown=H)},adjustEdge:function(v,H,W){W={x1:H.x-W,y1:H.y-W,x2:H.x+H.width+W,y2:H.y+H.height+W},W.x1<v.x1&&(v.x1=W.x1),W.y1<v.y1&&(v.y1=W.y1),W.x2>v.x2&&(v.x2=W.x2),W.y2>v.y2&&(v.y2=W.y2)},newText:function(v,H,W,V,se){var re,ye,_e=H.createElementNS(Nt,"text");return _e.textContent=v,[_e.x,_e.y].forEach(function(be){var tt=W.createSVGLength();tt.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),be.baseVal.initialize(tt)}),typeof d!="boolean"&&(d="paintOrder"in _e.style),se&&!d?(re=H.createElementNS(Nt,"defs"),_e.id=V,re.appendChild(_e),(ye=(v=H.createElementNS(Nt,"g")).appendChild(H.createElementNS(Nt,"use"))).href.baseVal="#"+V,(H=v.appendChild(H.createElementNS(Nt,"use"))).href.baseVal="#"+V,(ye=ye.style).strokeLinejoin="round",{elmPosition:_e,styleText:_e.style,styleFill:H.style,styleStroke:ye,styleShow:v.style,elmsAppend:[re,v]}):(ye=_e.style,se&&(ye.strokeLinejoin="round",ye.paintOrder="stroke"),{elmPosition:_e,styleText:ye,styleFill:ye,styleStroke:se?ye:null,styleShow:ye,elmsAppend:[_e]})},getMidPoint:function(v,H){var W,V,re=aa(v),se=re.segsLen,re=re.lenAll,ye=-1,_e=re/2+(H||0);if(_e<=0)return(W=v[0]).length===2?xa(W[0],W[1],0):us(W[0],W[1],W[2],W[3],0);if(re<=_e)return(W=v[v.length-1]).length===2?xa(W[0],W[1],1):us(W[0],W[1],W[2],W[3],1);for(V=[];_e>se[++ye];)V.push(v[ye]),_e-=se[ye];return(W=v[ye]).length===2?xa(W[0],W[1],_e/se[ye]):us(W[0],W[1],W[2],W[3],en(W[0],W[1],W[2],W[3],_e))},initSvg:function(v,H){var W,V,se=i.captionLabel.newText(v.text,H.baseWindow.document,H.svg,M+"-captionLabel-"+v._id,v.outlineColor);["elmPosition","styleFill","styleShow","elmsAppend"].forEach(function(re){v[re]=se[re]}),v.isShown=!1,v.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(re){v[re]!=null&&(se.styleText[re]=v[re])}),se.elmsAppend.forEach(function(re){H.svg.appendChild(re)}),W=se.elmPosition.getBBox(),v.width=W.width,v.height=W.height,v.outlineColor&&(V=W.height/9,se.styleStroke.strokeWidth=(V=10<V?10:V<2?2:V)+"px",se.styleStroke.stroke=v.outlineColor),v.strokeWidth=V||0,It(v.aplStats,i.captionLabel.stats),v.updateColor(H),v.refSocketXY?v.updateSocketXY(H):v.updatePath(H),Ai&&qt(H,{}),v.updateShow(H)},bind:function(v,H){var W=H.props;return v.color||Ir(W,"cur_line_color",v.updateColor),(v.refSocketXY=H.optionName==="startLabel"||H.optionName==="endLabel")?(v.socketIndex=H.optionName==="startLabel"?0:1,Ir(W,"apl_position",v.updateSocketXY),v.offset||(Ir(W,"cur_attach_plugSideLenSE",v.updateSocketXY),Ir(W,"cur_line_strokeWidth",v.updateSocketXY))):Ir(W,"apl_path",v.updatePath),Ir(W,"svgShow",v.updateShow),Ai&&Ir(W,"new_edge4viewBox",v.adjustEdge),i.captionLabel.initSvg(v,W),!0},unbind:function(v,H){var W=H.props;v.elmsAppend&&(v.elmsAppend.forEach(function(V){W.svg.removeChild(V)}),v.elmPosition=v.styleFill=v.styleShow=v.elmsAppend=null),It(v.curStats,i.captionLabel.stats),It(v.aplStats,i.captionLabel.stats),v.color||ir(W,"cur_line_color",v.updateColor),v.refSocketXY?(ir(W,"apl_position",v.updateSocketXY),v.offset||(ir(W,"cur_attach_plugSideLenSE",v.updateSocketXY),ir(W,"cur_line_strokeWidth",v.updateSocketXY))):ir(W,"apl_path",v.updatePath),ir(W,"svgShow",v.updateShow),Ai&&(ir(W,"new_edge4viewBox",v.adjustEdge),qt(W,{}))},removeOption:function(v,H){var W=H.props,V={};V[H.optionName]="",Gn(W,V)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.captionLabel.unbind(v,H)}))}},pathLabel:{type:"label",argOptions:[{optionName:"text",type:"string"}],stats:{color:{},startOffset:{},pathData:{}},init:function(v,H){return typeof H.text=="string"&&(v.text=H.text.trim()),!!v.text&&(typeof H.color=="string"&&(v.color=H.color.trim()),v.outlineColor=typeof H.outlineColor=="string"?H.outlineColor.trim():"#fff",le(H.lineOffset)&&(v.lineOffset=H.lineOffset),i.captionLabel.textStyleProps.forEach(function(W){H[W]!=null&&(v[W]=H[W])}),v.updateColor=function(W){i.captionLabel.updateColor(v,W)},v.updatePath=function(W){var V=v.curStats,se=v.aplStats,re=W.curStats,ye=W.pathList.animVal||W.pathList.baseVal;ye&&(V.pathData=re=i.pathLabel.getOffsetPathData(ye,re.line_strokeWidth/2+v.strokeWidth/2+v.height/4,1.25*v.height),tn(re,se.pathData)&&(v.elmPath.setPathData(re),se.pathData=re,v.bBox=v.elmPosition.getBBox(),v.updateStartOffset(W)))},v.updateStartOffset=function(W){var V,se,re=v.curStats,ye=v.aplStats,_e=W.curStats;re.pathData&&(v.semIndex===2&&!v.lineOffset||(se=re.pathData.reduce(function(be,tt){var Le,Re=tt.values;switch(tt.type){case"M":V={x:Re[0],y:Re[1]};break;case"L":Le={x:Re[0],y:Re[1]},V&&(be+=Tr(V,Le)),V=Le;break;case"C":Le={x:Re[4],y:Re[5]},V&&(be+=Dr(V,{x:Re[0],y:Re[1]},{x:Re[2],y:Re[3]},Le)),V=Le}return be},0),W=v.semIndex===0?0:v.semIndex===1?se:se/2,v.semIndex!==2&&(_e=Math.max(_e.attach_plugBackLenSE[v.semIndex]||0,_e.line_strokeWidth/2)+v.strokeWidth/2+v.height/4,W=(W+=v.semIndex===0?_e:-_e)<0?0:se<W?se:W),v.lineOffset&&(W=(W+=v.lineOffset)<0?0:se<W?se:W),re.startOffset=W,ne(v,ye,"startOffset",W)&&(v.elmOffset.startOffset.baseVal.value=W)))},v.updateShow=function(W){i.captionLabel.updateShow(v,W)},Ai&&(v.adjustEdge=function(W,V){v.bBox&&i.captionLabel.adjustEdge(V,v.bBox,v.strokeWidth/2)}),!0)},getOffsetPathData:function(v,H,W){var V,se,re=[];function ye(_e,be){return Math.abs(_e.x-be.x)<3&&Math.abs(_e.y-be.y)<3}return v.forEach(function(_e){var be,tt,Le,Re,Qe,Oe,Se,ge,me,Te,Ee;_e.length===2?(ge=_e[0],me=_e[1],Te=H,Ee=Math.atan2(ge.y-me.y,me.x-ge.x)+.5*Math.PI,be=[{x:ge.x+Math.cos(Ee)*Te,y:ge.y+Math.sin(Ee)*Te*-1},{x:me.x+Math.cos(Ee)*Te,y:me.y+Math.sin(Ee)*Te*-1}],V?(Le=V.points,0<=(Se=Math.atan2(Le[1].y-Le[0].y,Le[0].x-Le[1].x)-Math.atan2(_e[0].y-_e[1].y,_e[1].x-_e[0].x))&&Se<=Math.PI?tt={type:"line",points:be,inside:!0}:(Qe=kn(Le[0],Le[1],H),Re=kn(be[1],be[0],H),Oe=Le[0],ge=be[1],Ee=(me=Qe).x-Oe.x,Te=me.y-Oe.y,Se=ge.x-Re.x,me=ge.y-Re.y,ge=(-Te*(Oe.x-Re.x)+Ee*(Oe.y-Re.y))/(-Se*Te+Ee*me),me=(Se*(Oe.y-Re.y)-me*(Oe.x-Re.x))/(-Se*Te+Ee*me),tt=(Te=0<=ge&&ge<=1&&0<=me&&me<=1?{x:Oe.x+me*Ee,y:Oe.y+me*Te}:null)?{type:"line",points:[Le[1]=Te,be[1]]}:(Le[1]=ye(Re,Qe)?Re:Qe,{type:"line",points:[Re,be[1]]}),V.len=Tr(Le[0],Le[1]))):tt={type:"line",points:be},tt.len=Tr(tt.points[0],tt.points[1]),re.push(V=tt)):(re.push({type:"cubic",points:function(Ct,je,Ft,we,st,it){for(var oe,ke,Ue=Dr(Ct,je,Ft,we)/it,He=1/(it<st?st/it*Ue:Ue),ft=[],$e=0;ke=(90-(oe=us(Ct,je,Ft,we,$e)).angle)*(Math.PI/180),ft.push({x:oe.x+Math.cos(ke)*st,y:oe.y+Math.sin(ke)*st*-1}),!(1<=$e);)1<($e+=He)&&($e=1);return ft}(_e[0],_e[1],_e[2],_e[3],H,16)}),V=null)}),V=null,re.forEach(function(_e){var be;V=_e.type==="line"?(_e.inside&&(V.len>H?((be=V.points)[1]=kn(be[0],be[1],-H),V.len=Tr(be[0],be[1])):(V.points=null,V.len=0),_e.len>H+W?((be=_e.points)[0]=kn(be[1],be[0],-(H+W)),_e.len=Tr(be[0],be[1])):(_e.points=null,_e.len=0)),_e):null}),re.reduce(function(_e,be){var tt=be.points;return tt&&(se&&ye(tt[0],se)||_e.push({type:"M",values:[tt[0].x,tt[0].y]}),be.type==="line"?_e.push({type:"L",values:[tt[1].x,tt[1].y]}):(tt.shift(),tt.forEach(function(Le){_e.push({type:"L",values:[Le.x,Le.y]})})),se=tt[tt.length-1]),_e},[])},newText:function(v,H,W,V){var se,re,ye,_e,be=H.createElementNS(Nt,"defs"),tt=be.appendChild(H.createElementNS(Nt,"path"));return tt.id=se=W+"-path",(ye=(re=H.createElementNS(Nt,"text")).appendChild(H.createElementNS(Nt,"textPath"))).href.baseVal="#"+se,ye.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PX,0),ye.textContent=v,typeof d!="boolean"&&(d="paintOrder"in re.style),V&&!d?(re.id=v=W+"-text",be.appendChild(re),(_e=(W=H.createElementNS(Nt,"g")).appendChild(H.createElementNS(Nt,"use"))).href.baseVal="#"+v,(H=W.appendChild(H.createElementNS(Nt,"use"))).href.baseVal="#"+v,(_e=_e.style).strokeLinejoin="round",{elmPosition:re,elmPath:tt,elmOffset:ye,styleText:re.style,styleFill:H.style,styleStroke:_e,styleShow:W.style,elmsAppend:[be,W]}):(_e=re.style,V&&(_e.strokeLinejoin="round",_e.paintOrder="stroke"),{elmPosition:re,elmPath:tt,elmOffset:ye,styleText:_e,styleFill:_e,styleStroke:V?_e:null,styleShow:_e,elmsAppend:[be,re]})},initSvg:function(v,H){var W,V,se,re=i.pathLabel.newText(v.text,H.baseWindow.document,M+"-pathLabel-"+v._id,v.outlineColor);["elmPosition","elmPath","elmOffset","styleFill","styleShow","elmsAppend"].forEach(function(ye){v[ye]=re[ye]}),v.isShown=!1,v.styleShow.visibility="hidden",i.captionLabel.textStyleProps.forEach(function(ye){v[ye]!=null&&(re.styleText[ye]=v[ye])}),re.elmsAppend.forEach(function(ye){H.svg.appendChild(ye)}),re.elmPath.setPathData([{type:"M",values:[0,100]},{type:"h",values:[100]}]),Xr&&(se=re.elmOffset.href.baseVal,re.elmOffset.href.baseVal=""),W=re.elmPosition.getBBox(),Xr&&(re.elmOffset.href.baseVal=se),re.styleText.textAnchor=["start","end","middle"][v.semIndex],v.semIndex!==2||v.lineOffset||re.elmOffset.startOffset.baseVal.newValueSpecifiedUnits(SVGLength.SVG_LENGTHTYPE_PERCENTAGE,50),v.height=W.height,v.outlineColor&&(V=W.height/9,re.styleStroke.strokeWidth=(V=10<V?10:V<2?2:V)+"px",re.styleStroke.stroke=v.outlineColor),v.strokeWidth=V||0,It(v.aplStats,i.pathLabel.stats),v.updateColor(H),v.updatePath(H),v.updateStartOffset(H),Ai&&qt(H,{}),v.updateShow(H)},bind:function(v,H){var W=H.props;return v.color||Ir(W,"cur_line_color",v.updateColor),Ir(W,"cur_line_strokeWidth",v.updatePath),Ir(W,"apl_path",v.updatePath),v.semIndex=H.optionName==="startLabel"?0:H.optionName==="endLabel"?1:2,v.semIndex===2&&!v.lineOffset||Ir(W,"cur_attach_plugBackLenSE",v.updateStartOffset),Ir(W,"svgShow",v.updateShow),Ai&&Ir(W,"new_edge4viewBox",v.adjustEdge),i.pathLabel.initSvg(v,W),!0},unbind:function(v,H){var W=H.props;v.elmsAppend&&(v.elmsAppend.forEach(function(V){W.svg.removeChild(V)}),v.elmPosition=v.elmPath=v.elmOffset=v.styleFill=v.styleShow=v.elmsAppend=null),It(v.curStats,i.pathLabel.stats),It(v.aplStats,i.pathLabel.stats),v.color||ir(W,"cur_line_color",v.updateColor),ir(W,"cur_line_strokeWidth",v.updatePath),ir(W,"apl_path",v.updatePath),v.semIndex===2&&!v.lineOffset||ir(W,"cur_attach_plugBackLenSE",v.updateStartOffset),ir(W,"svgShow",v.updateShow),Ai&&(ir(W,"new_edge4viewBox",v.adjustEdge),qt(W,{}))},removeOption:function(v,H){var W=H.props,V={};V[H.optionName]="",Gn(W,V)},remove:function(v){v.boundTargets.length&&(console.error("LeaderLineAttachment was not unbound by remove"),v.boundTargets.forEach(function(H){i.pathLabel.unbind(v,H)}))}}},Object.keys(i).forEach(function(v){Ts[v]=function(){return new s(i[v],Array.prototype.slice.call(arguments))}}),Ts.positionByWindowResize=!0,window.addEventListener("resize",Ye.add(function(){Ts.positionByWindowResize&&Object.keys(qe).forEach(function(v){qt(qe[v],{position:!0})})}),!1),Ts})();jQuery(function(t,e){t.fn.simpleColorPicker=function(i){var s={colorsPerLine:8,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#f4cccc","#fce5cd","#fff2cc","#d9ead3","#d0e0e3","#cfe2f3","#d9d2e9","#ead1dc","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4C1130"],showEffect:"",hideEffect:"",onChangeColor:!1,includeMargins:!1},a=t.extend(s,i);return this.each(function(){for(var l=t(this),o="",h=l.attr("class").replace(/-/g,"")+"_",d=0;d<a.colors.length;d++){var m=a.colors[d],f="";d%a.colorsPerLine==0&&(f="clear: both; "),d>0&&f&&t.browser&&t.browser.msie&&t.browser.version<=7&&(f="",o+='<li style="float: none; clear: both; overflow: hidden; background-color: #fff; display: block; height: 1px; line-height: 1px; font-size: 1px; margin-bottom: -2px;"></li>'),o+='<li id="'+h+"color-"+d+'" class="color-box" style="'+f+"background-color: "+m+'" title="'+m+'"></li>'}var b=t('<div id="'+h+'color-picker" class="color-picker" style="position: absolute; left: 0px; top: 0px;"><ul>'+o+'</ul><div style="clear: both;"></div></div>');t("body").append(b),b.hide(),b.find("li.color-box").click(function(){l.is("input")&&(l.val(a.colors[this.id.substr(this.id.indexOf("-")+1)]),l.blur()),t.isFunction(s.onChangeColor)&&s.onChangeColor.call(l,a.colors[this.id.substr(this.id.indexOf("-")+1)]),w(b)}),t("body").on("click",function(){w(b)}),b.click(function(P){P.stopPropagation()});var k=function(P){var L=l.offset(),R=L.left+l.outerWidth(a.includeMargins)-P.outerWidth(a.includeMargins);R<L.left&&(R=L.left),P.css({left:R,top:L.top+l.outerHeight(a.includeMargins)}),E(P)};l.click(function(P){P.stopPropagation(),l.is("input")||k(b)}),l.focus(function(){k(b)});function w(P){a.hideEffect=="fade"?P.fadeOut():a.hideEffect=="slide"?P.slideUp():P.hide()}function E(P){a.showEffect=="fade"?P.fadeIn():a.showEffect=="slide"?P.slideDown():P.show()}})}});const SY="modulepreload",TY=function(t){return"/build/"+t},$M={},Sr=function(e,i,s){let a=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),h=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(i.map(d=>{if(d=TY(d),d in $M)return;$M[d]=!0;const m=d.endsWith(".css"),f=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${f}`))return;const b=document.createElement("link");if(b.rel=m?"stylesheet":SY,m||(b.as="script"),b.crossOrigin="",b.href=d,h&&b.setAttribute("nonce",h),document.head.appendChild(b),m)return new Promise((k,w)=>{b.addEventListener("load",k),b.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(o){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=o,window.dispatchEvent(h),!h.defaultPrevented)throw o}return a.then(o=>{for(const h of o||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var hF={exports:{}};(function(t,e){(function(i,s){t.exports=s()})(Rp,function(){var i=1e3,s=6e4,a=36e5,l="millisecond",o="second",h="minute",d="hour",m="day",f="week",b="month",k="quarter",w="year",E="date",P="Invalid Date",L=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,R=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(F){var B=["th","st","nd","rd"],j=F%100;return"["+F+(B[(j-20)%10]||B[j]||B[0])+"]"}},T=function(F,B,j){var $=String(F);return!$||$.length>=B?F:""+Array(B+1-$.length).join(j)+F},y={s:T,z:function(F){var B=-F.utcOffset(),j=Math.abs(B),$=Math.floor(j/60),G=j%60;return(B<=0?"+":"-")+T($,2,"0")+":"+T(G,2,"0")},m:function F(B,j){if(B.date()<j.date())return-F(j,B);var $=12*(j.year()-B.year())+(j.month()-B.month()),G=B.clone().add($,b),he=j-G<0,Q=B.clone().add($+(he?-1:1),b);return+(-($+(j-G)/(he?G-Q:Q-G))||0)},a:function(F){return F<0?Math.ceil(F)||0:Math.floor(F)},p:function(F){return{M:b,y:w,w:f,d:m,D:E,h:d,m:h,s:o,ms:l,Q:k}[F]||String(F||"").toLowerCase().replace(/s$/,"")},u:function(F){return F===void 0}},S="en",C={};C[S]=u;var M="$isDayjsObject",I=function(F){return F instanceof x||!(!F||!F[M])},U=function F(B,j,$){var G;if(!B)return S;if(typeof B=="string"){var he=B.toLowerCase();C[he]&&(G=he),j&&(C[he]=j,G=he);var Q=B.split("-");if(!G&&Q.length>1)return F(Q[0])}else{var Z=B.name;C[Z]=B,G=Z}return!$&&G&&(S=G),G||!$&&S},z=function(F,B){if(I(F))return F.clone();var j=typeof B=="object"?B:{};return j.date=F,j.args=arguments,new x(j)},g=y;g.l=U,g.i=I,g.w=function(F,B){return z(F,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var x=function(){function F(j){this.$L=U(j.locale,null,!0),this.parse(j),this.$x=this.$x||j.x||{},this[M]=!0}var B=F.prototype;return B.parse=function(j){this.$d=function($){var G=$.date,he=$.utc;if(G===null)return new Date(NaN);if(g.u(G))return new Date;if(G instanceof Date)return new Date(G);if(typeof G=="string"&&!/Z$/i.test(G)){var Q=G.match(L);if(Q){var Z=Q[2]-1||0,ve=(Q[7]||"0").substring(0,3);return he?new Date(Date.UTC(Q[1],Z,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,ve)):new Date(Q[1],Z,Q[3]||1,Q[4]||0,Q[5]||0,Q[6]||0,ve)}}return new Date(G)}(j),this.init()},B.init=function(){var j=this.$d;this.$y=j.getFullYear(),this.$M=j.getMonth(),this.$D=j.getDate(),this.$W=j.getDay(),this.$H=j.getHours(),this.$m=j.getMinutes(),this.$s=j.getSeconds(),this.$ms=j.getMilliseconds()},B.$utils=function(){return g},B.isValid=function(){return this.$d.toString()!==P},B.isSame=function(j,$){var G=z(j);return this.startOf($)<=G&&G<=this.endOf($)},B.isAfter=function(j,$){return z(j)<this.startOf($)},B.isBefore=function(j,$){return this.endOf($)<z(j)},B.$g=function(j,$,G){return g.u(j)?this[$]:this.set(G,j)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(j,$){var G=this,he=!!g.u($)||$,Q=g.p(j),Z=function(At,Me){var Ut=g.w(G.$u?Date.UTC(G.$y,Me,At):new Date(G.$y,Me,At),G);return he?Ut:Ut.endOf(m)},ve=function(At,Me){return g.w(G.toDate()[At].apply(G.toDate("s"),(he?[0,0,0,0]:[23,59,59,999]).slice(Me)),G)},Ie=this.$W,Ve=this.$M,Ae=this.$D,ze="set"+(this.$u?"UTC":"");switch(Q){case w:return he?Z(1,0):Z(31,11);case b:return he?Z(1,Ve):Z(0,Ve+1);case f:var et=this.$locale().weekStart||0,xt=(Ie<et?Ie+7:Ie)-et;return Z(he?Ae-xt:Ae+(6-xt),Ve);case m:case E:return ve(ze+"Hours",0);case d:return ve(ze+"Minutes",1);case h:return ve(ze+"Seconds",2);case o:return ve(ze+"Milliseconds",3);default:return this.clone()}},B.endOf=function(j){return this.startOf(j,!1)},B.$set=function(j,$){var G,he=g.p(j),Q="set"+(this.$u?"UTC":""),Z=(G={},G[m]=Q+"Date",G[E]=Q+"Date",G[b]=Q+"Month",G[w]=Q+"FullYear",G[d]=Q+"Hours",G[h]=Q+"Minutes",G[o]=Q+"Seconds",G[l]=Q+"Milliseconds",G)[he],ve=he===m?this.$D+($-this.$W):$;if(he===b||he===w){var Ie=this.clone().set(E,1);Ie.$d[Z](ve),Ie.init(),this.$d=Ie.set(E,Math.min(this.$D,Ie.daysInMonth())).$d}else Z&&this.$d[Z](ve);return this.init(),this},B.set=function(j,$){return this.clone().$set(j,$)},B.get=function(j){return this[g.p(j)]()},B.add=function(j,$){var G,he=this;j=Number(j);var Q=g.p($),Z=function(Ve){var Ae=z(he);return g.w(Ae.date(Ae.date()+Math.round(Ve*j)),he)};if(Q===b)return this.set(b,this.$M+j);if(Q===w)return this.set(w,this.$y+j);if(Q===m)return Z(1);if(Q===f)return Z(7);var ve=(G={},G[h]=s,G[d]=a,G[o]=i,G)[Q]||1,Ie=this.$d.getTime()+j*ve;return g.w(Ie,this)},B.subtract=function(j,$){return this.add(-1*j,$)},B.format=function(j){var $=this,G=this.$locale();if(!this.isValid())return G.invalidDate||P;var he=j||"YYYY-MM-DDTHH:mm:ssZ",Q=g.z(this),Z=this.$H,ve=this.$m,Ie=this.$M,Ve=G.weekdays,Ae=G.months,ze=G.meridiem,et=function(Me,Ut,jt,Ci){return Me&&(Me[Ut]||Me($,he))||jt[Ut].slice(0,Ci)},xt=function(Me){return g.s(Z%12||12,Me,"0")},At=ze||function(Me,Ut,jt){var Ci=Me<12?"AM":"PM";return jt?Ci.toLowerCase():Ci};return he.replace(R,function(Me,Ut){return Ut||function(jt){switch(jt){case"YY":return String($.$y).slice(-2);case"YYYY":return g.s($.$y,4,"0");case"M":return Ie+1;case"MM":return g.s(Ie+1,2,"0");case"MMM":return et(G.monthsShort,Ie,Ae,3);case"MMMM":return et(Ae,Ie);case"D":return $.$D;case"DD":return g.s($.$D,2,"0");case"d":return String($.$W);case"dd":return et(G.weekdaysMin,$.$W,Ve,2);case"ddd":return et(G.weekdaysShort,$.$W,Ve,3);case"dddd":return Ve[$.$W];case"H":return String(Z);case"HH":return g.s(Z,2,"0");case"h":return xt(1);case"hh":return xt(2);case"a":return At(Z,ve,!0);case"A":return At(Z,ve,!1);case"m":return String(ve);case"mm":return g.s(ve,2,"0");case"s":return String($.$s);case"ss":return g.s($.$s,2,"0");case"SSS":return g.s($.$ms,3,"0");case"Z":return Q}return null}(Me)||Q.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(j,$,G){var he,Q=this,Z=g.p($),ve=z(j),Ie=(ve.utcOffset()-this.utcOffset())*s,Ve=this-ve,Ae=function(){return g.m(Q,ve)};switch(Z){case w:he=Ae()/12;break;case b:he=Ae();break;case k:he=Ae()/3;break;case f:he=(Ve-Ie)/6048e5;break;case m:he=(Ve-Ie)/864e5;break;case d:he=Ve/a;break;case h:he=Ve/s;break;case o:he=Ve/i;break;default:he=Ve}return G?he:g.a(he)},B.daysInMonth=function(){return this.endOf(b).$D},B.$locale=function(){return C[this.$L]},B.locale=function(j,$){if(!j)return this.$L;var G=this.clone(),he=U(j,$,!0);return he&&(G.$L=he),G},B.clone=function(){return g.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},F}(),A=x.prototype;return z.prototype=A,[["$ms",l],["$s",o],["$m",h],["$H",d],["$W",m],["$M",b],["$y",w],["$D",E]].forEach(function(F){A[F[1]]=function(B){return this.$g(B,F[0],F[1])}}),z.extend=function(F,B){return F.$i||(F(B,x,z),F.$i=!0),z},z.locale=U,z.isDayjs=I,z.unix=function(F){return z(1e3*F)},z.en=C[S],z.Ls=C,z.p={},z})})(hF);var CY=hF.exports;const EY=Fp(CY),Xg={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,i)=>(i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t),hsl2rgb:({h:t,s:e,l:i},s)=>{if(!e)return i*2.55;t/=360,e/=100,i/=100;const a=i<.5?i*(1+e):i+e-i*e,l=2*i-a;switch(s){case"r":return Xg.hue2rgb(l,a,t+1/3)*255;case"g":return Xg.hue2rgb(l,a,t)*255;case"b":return Xg.hue2rgb(l,a,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:i},s)=>{t/=255,e/=255,i/=255;const a=Math.max(t,e,i),l=Math.min(t,e,i),o=(a+l)/2;if(s==="l")return o*100;if(a===l)return 0;const h=a-l,d=o>.5?h/(2-a-l):h/(a+l);if(s==="s")return d*100;switch(a){case t:return((e-i)/h+(e<i?6:0))*60;case e:return((i-t)/h+2)*60;case i:return((t-e)/h+4)*60;default:return-1}}},OY={clamp:(t,e,i)=>e>i?Math.min(e,Math.max(i,t)):Math.min(i,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},AY={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},Li={channel:Xg,lang:OY,unit:AY},Ll={};for(let t=0;t<=255;t++)Ll[t]=Li.unit.dec2hex(t);const Zs={ALL:0,RGB:1,HSL:2};class PY{constructor(){this.type=Zs.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Zs.ALL}is(e){return this.type===e}}class MY{constructor(e,i){this.color=i,this.changed=!1,this.data=e,this.type=new PY}set(e,i){return this.color=i,this.changed=!1,this.data=e,this.type.type=Zs.ALL,this}_ensureHSL(){const e=this.data,{h:i,s,l:a}=e;i===void 0&&(e.h=Li.channel.rgb2hsl(e,"h")),s===void 0&&(e.s=Li.channel.rgb2hsl(e,"s")),a===void 0&&(e.l=Li.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:i,g:s,b:a}=e;i===void 0&&(e.r=Li.channel.hsl2rgb(e,"r")),s===void 0&&(e.g=Li.channel.hsl2rgb(e,"g")),a===void 0&&(e.b=Li.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,i=e.r;return!this.type.is(Zs.HSL)&&i!==void 0?i:(this._ensureHSL(),Li.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,i=e.g;return!this.type.is(Zs.HSL)&&i!==void 0?i:(this._ensureHSL(),Li.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,i=e.b;return!this.type.is(Zs.HSL)&&i!==void 0?i:(this._ensureHSL(),Li.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,i=e.h;return!this.type.is(Zs.RGB)&&i!==void 0?i:(this._ensureRGB(),Li.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,i=e.s;return!this.type.is(Zs.RGB)&&i!==void 0?i:(this._ensureRGB(),Li.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,i=e.l;return!this.type.is(Zs.RGB)&&i!==void 0?i:(this._ensureRGB(),Li.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Zs.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Zs.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Zs.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Zs.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Zs.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Zs.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const Tv=new MY({r:0,g:0,b:0,a:0},"transparent"),mu={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(mu.re);if(!e)return;const i=e[1],s=parseInt(i,16),a=i.length,l=a%4===0,o=a>4,h=o?1:17,d=o?8:4,m=l?0:-1,f=o?255:15;return Tv.set({r:(s>>d*(m+3)&f)*h,g:(s>>d*(m+2)&f)*h,b:(s>>d*(m+1)&f)*h,a:l?(s&f)*h/255:1},t)},stringify:t=>{const{r:e,g:i,b:s,a}=t;return a<1?`#${Ll[Math.round(e)]}${Ll[Math.round(i)]}${Ll[Math.round(s)]}${Ll[Math.round(a*255)]}`:`#${Ll[Math.round(e)]}${Ll[Math.round(i)]}${Ll[Math.round(s)]}`}},Qc={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(Qc.hueRe);if(e){const[,i,s]=e;switch(s){case"grad":return Li.channel.clamp.h(parseFloat(i)*.9);case"rad":return Li.channel.clamp.h(parseFloat(i)*180/Math.PI);case"turn":return Li.channel.clamp.h(parseFloat(i)*360)}}return Li.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const i=t.match(Qc.re);if(!i)return;const[,s,a,l,o,h]=i;return Tv.set({h:Qc._hue2deg(s),s:Li.channel.clamp.s(parseFloat(a)),l:Li.channel.clamp.l(parseFloat(l)),a:o?Li.channel.clamp.a(h?parseFloat(o)/100:parseFloat(o)):1},t)},stringify:t=>{const{h:e,s:i,l:s,a}=t;return a<1?`hsla(${Li.lang.round(e)}, ${Li.lang.round(i)}%, ${Li.lang.round(s)}%, ${a})`:`hsl(${Li.lang.round(e)}, ${Li.lang.round(i)}%, ${Li.lang.round(s)}%)`}},rp={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=rp.colors[t];if(e)return mu.parse(e)},stringify:t=>{const e=mu.stringify(t);for(const i in rp.colors)if(rp.colors[i]===e)return i}},qf={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const i=t.match(qf.re);if(!i)return;const[,s,a,l,o,h,d,m,f]=i;return Tv.set({r:Li.channel.clamp.r(a?parseFloat(s)*2.55:parseFloat(s)),g:Li.channel.clamp.g(o?parseFloat(l)*2.55:parseFloat(l)),b:Li.channel.clamp.b(d?parseFloat(h)*2.55:parseFloat(h)),a:m?Li.channel.clamp.a(f?parseFloat(m)/100:parseFloat(m)):1},t)},stringify:t=>{const{r:e,g:i,b:s,a}=t;return a<1?`rgba(${Li.lang.round(e)}, ${Li.lang.round(i)}, ${Li.lang.round(s)}, ${Li.lang.round(a)})`:`rgb(${Li.lang.round(e)}, ${Li.lang.round(i)}, ${Li.lang.round(s)})`}},vo={format:{keyword:rp,hex:mu,rgb:qf,rgba:qf,hsl:Qc,hsla:Qc},parse:t=>{if(typeof t!="string")return t;const e=mu.parse(t)||qf.parse(t)||Qc.parse(t)||rp.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Zs.HSL)||t.data.r===void 0?Qc.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?qf.stringify(t):mu.stringify(t)},uF=(t,e)=>{const i=vo.parse(t);for(const s in e)i[s]=Li.channel.clamp[s](e[s]);return vo.stringify(i)},sp=(t,e,i=0,s=1)=>{if(typeof t!="number")return uF(t,{a:e});const a=Tv.set({r:Li.channel.clamp.r(t),g:Li.channel.clamp.g(e),b:Li.channel.clamp.b(i),a:Li.channel.clamp.a(s)});return vo.stringify(a)},LY=t=>{const{r:e,g:i,b:s}=vo.parse(t),a=.2126*Li.channel.toLinear(e)+.7152*Li.channel.toLinear(i)+.0722*Li.channel.toLinear(s);return Li.lang.round(a)},RY=t=>LY(t)>=.5,qp=t=>!RY(t),dF=(t,e,i)=>{const s=vo.parse(t),a=s[e],l=Li.channel.clamp[e](a+i);return a!==l&&(s[e]=l),vo.stringify(s)},Jt=(t,e)=>dF(t,"l",e),mi=(t,e)=>dF(t,"l",-e),Pe=(t,e)=>{const i=vo.parse(t),s={};for(const a in e)e[a]&&(s[a]=i[a]+e[a]);return uF(t,s)},FY=(t,e,i=50)=>{const{r:s,g:a,b:l,a:o}=vo.parse(t),{r:h,g:d,b:m,a:f}=vo.parse(e),b=i/100,k=b*2-1,w=o-f,P=((k*w===-1?k:(k+w)/(1+k*w))+1)/2,L=1-P,R=s*P+h*L,u=a*P+d*L,T=l*P+m*L,y=o*b+f*(1-b);return sp(R,u,T,y)},Dt=(t,e=100)=>{const i=vo.parse(t);return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,FY(i,t,e)};/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:fF,setPrototypeOf:VM,isFrozen:DY,getPrototypeOf:IY,getOwnPropertyDescriptor:BY}=Object;let{freeze:wa,seal:yn,create:pF}=Object,{apply:A1,construct:P1}=typeof Reflect<"u"&&Reflect;wa||(wa=function(e){return e});yn||(yn=function(e){return e});A1||(A1=function(e,i,s){return e.apply(i,s)});P1||(P1=function(e,i){return new e(...i)});const Lg=_a(Array.prototype.forEach),NY=_a(Array.prototype.lastIndexOf),YM=_a(Array.prototype.pop),Pf=_a(Array.prototype.push),zY=_a(Array.prototype.splice),Kg=_a(String.prototype.toLowerCase),$_=_a(String.prototype.toString),GM=_a(String.prototype.match),Mf=_a(String.prototype.replace),UY=_a(String.prototype.indexOf),HY=_a(String.prototype.trim),In=_a(Object.prototype.hasOwnProperty),ma=_a(RegExp.prototype.test),Lf=WY(TypeError);function _a(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];return A1(t,e,s)}}function WY(t){return function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return P1(t,i)}}function Ki(t,e){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Kg;VM&&VM(t,null);let s=e.length;for(;s--;){let a=e[s];if(typeof a=="string"){const l=i(a);l!==a&&(DY(e)||(e[s]=l),a=l)}t[a]=!0}return t}function jY(t){for(let e=0;e<t.length;e++)In(t,e)||(t[e]=null);return t}function $c(t){const e=pF(null);for(const[i,s]of fF(t))In(t,i)&&(Array.isArray(s)?e[i]=jY(s):s&&typeof s=="object"&&s.constructor===Object?e[i]=$c(s):e[i]=s);return e}function Rf(t,e){for(;t!==null;){const s=BY(t,e);if(s){if(s.get)return _a(s.get);if(typeof s.value=="function")return _a(s.value)}t=IY(t)}function i(){return null}return i}const XM=wa(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),V_=wa(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Y_=wa(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),qY=wa(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),G_=wa(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),$Y=wa(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),KM=wa(["#text"]),ZM=wa(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),X_=wa(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),QM=wa(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Rg=wa(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),VY=yn(/\{\{[\w\W]*|[\w\W]*\}\}/gm),YY=yn(/<%[\w\W]*|[\w\W]*%>/gm),GY=yn(/\$\{[\w\W]*/gm),XY=yn(/^data-[\-\w.\u00B7-\uFFFF]+$/),KY=yn(/^aria-[\-\w]+$/),mF=yn(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),ZY=yn(/^(?:\w+script|data):/i),QY=yn(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),gF=yn(/^html$/i),JY=yn(/^[a-z][.\w]*(-[.\w]+)+$/i);var JM=Object.freeze({__proto__:null,ARIA_ATTR:KY,ATTR_WHITESPACE:QY,CUSTOM_ELEMENT:JY,DATA_ATTR:XY,DOCTYPE_NAME:gF,ERB_EXPR:YY,IS_ALLOWED_URI:mF,IS_SCRIPT_OR_DATA:ZY,MUSTACHE_EXPR:VY,TMPLIT_EXPR:GY});const Ff={element:1,text:3,progressingInstruction:7,comment:8,document:9},eG=function(){return typeof window>"u"?null:window},tG=function(e,i){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";i&&i.hasAttribute(a)&&(s=i.getAttribute(a));const l="dompurify"+(s?"#"+s:"");try{return e.createPolicy(l,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},eL=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function yF(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:eG();const e=It=>yF(It);if(e.version="3.2.5",e.removed=[],!t||!t.document||t.document.nodeType!==Ff.document||!t.Element)return e.isSupported=!1,e;let{document:i}=t;const s=i,a=s.currentScript,{DocumentFragment:l,HTMLTemplateElement:o,Node:h,Element:d,NodeFilter:m,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:b,DOMParser:k,trustedTypes:w}=t,E=d.prototype,P=Rf(E,"cloneNode"),L=Rf(E,"remove"),R=Rf(E,"nextSibling"),u=Rf(E,"childNodes"),T=Rf(E,"parentNode");if(typeof o=="function"){const It=i.createElement("template");It.content&&It.content.ownerDocument&&(i=It.content.ownerDocument)}let y,S="";const{implementation:C,createNodeIterator:M,createDocumentFragment:I,getElementsByTagName:U}=i,{importNode:z}=s;let g=eL();e.isSupported=typeof fF=="function"&&typeof T=="function"&&C&&C.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:x,ERB_EXPR:A,TMPLIT_EXPR:F,DATA_ATTR:B,ARIA_ATTR:j,IS_SCRIPT_OR_DATA:$,ATTR_WHITESPACE:G,CUSTOM_ELEMENT:he}=JM;let{IS_ALLOWED_URI:Q}=JM,Z=null;const ve=Ki({},[...XM,...V_,...Y_,...G_,...KM]);let Ie=null;const Ve=Ki({},[...ZM,...X_,...QM,...Rg]);let Ae=Object.seal(pF(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ze=null,et=null,xt=!0,At=!0,Me=!1,Ut=!0,jt=!1,Ci=!0,rt=!1,yi=!1,Ui=!1,qi=!1,yt=!1,Nt=!1,Ni=!0,Fr=!1;const Xr="user-content-";let Ai=!0,yr=!1,ee={},fe=null;const le=Ki({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Fe=null;const Ke=Ki({},["audio","video","img","source","image","track"]);let Ye=null;const Tt=Ki({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Vt="http://www.w3.org/1998/Math/MathML",ti="http://www.w3.org/2000/svg",ce="http://www.w3.org/1999/xhtml";let qe=ce,lt=!1,Be=null;const nt=Ki({},[Vt,ti,ce],$_);let Ge=Ki({},["mi","mo","mn","ms","mtext"]),Pt=Ki({},["annotation-xml"]);const Yt=Ki({},["title","style","font","a","script"]);let _i=null;const di=["application/xhtml+xml","text/html"],Bi="text/html";let hi=null,zi=null;const Ss=i.createElement("form"),es=function(ne){return ne instanceof RegExp||ne instanceof Function},Tr=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(zi&&zi===ne)){if((!ne||typeof ne!="object")&&(ne={}),ne=$c(ne),_i=di.indexOf(ne.PARSER_MEDIA_TYPE)===-1?Bi:ne.PARSER_MEDIA_TYPE,hi=_i==="application/xhtml+xml"?$_:Kg,Z=In(ne,"ALLOWED_TAGS")?Ki({},ne.ALLOWED_TAGS,hi):ve,Ie=In(ne,"ALLOWED_ATTR")?Ki({},ne.ALLOWED_ATTR,hi):Ve,Be=In(ne,"ALLOWED_NAMESPACES")?Ki({},ne.ALLOWED_NAMESPACES,$_):nt,Ye=In(ne,"ADD_URI_SAFE_ATTR")?Ki($c(Tt),ne.ADD_URI_SAFE_ATTR,hi):Tt,Fe=In(ne,"ADD_DATA_URI_TAGS")?Ki($c(Ke),ne.ADD_DATA_URI_TAGS,hi):Ke,fe=In(ne,"FORBID_CONTENTS")?Ki({},ne.FORBID_CONTENTS,hi):le,ze=In(ne,"FORBID_TAGS")?Ki({},ne.FORBID_TAGS,hi):{},et=In(ne,"FORBID_ATTR")?Ki({},ne.FORBID_ATTR,hi):{},ee=In(ne,"USE_PROFILES")?ne.USE_PROFILES:!1,xt=ne.ALLOW_ARIA_ATTR!==!1,At=ne.ALLOW_DATA_ATTR!==!1,Me=ne.ALLOW_UNKNOWN_PROTOCOLS||!1,Ut=ne.ALLOW_SELF_CLOSE_IN_ATTR!==!1,jt=ne.SAFE_FOR_TEMPLATES||!1,Ci=ne.SAFE_FOR_XML!==!1,rt=ne.WHOLE_DOCUMENT||!1,qi=ne.RETURN_DOM||!1,yt=ne.RETURN_DOM_FRAGMENT||!1,Nt=ne.RETURN_TRUSTED_TYPE||!1,Ui=ne.FORCE_BODY||!1,Ni=ne.SANITIZE_DOM!==!1,Fr=ne.SANITIZE_NAMED_PROPS||!1,Ai=ne.KEEP_CONTENT!==!1,yr=ne.IN_PLACE||!1,Q=ne.ALLOWED_URI_REGEXP||mF,qe=ne.NAMESPACE||ce,Ge=ne.MATHML_TEXT_INTEGRATION_POINTS||Ge,Pt=ne.HTML_INTEGRATION_POINTS||Pt,Ae=ne.CUSTOM_ELEMENT_HANDLING||{},ne.CUSTOM_ELEMENT_HANDLING&&es(ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Ae.tagNameCheck=ne.CUSTOM_ELEMENT_HANDLING.tagNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&es(ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Ae.attributeNameCheck=ne.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),ne.CUSTOM_ELEMENT_HANDLING&&typeof ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Ae.allowCustomizedBuiltInElements=ne.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),jt&&(At=!1),yt&&(qi=!0),ee&&(Z=Ki({},KM),Ie=[],ee.html===!0&&(Ki(Z,XM),Ki(Ie,ZM)),ee.svg===!0&&(Ki(Z,V_),Ki(Ie,X_),Ki(Ie,Rg)),ee.svgFilters===!0&&(Ki(Z,Y_),Ki(Ie,X_),Ki(Ie,Rg)),ee.mathMl===!0&&(Ki(Z,G_),Ki(Ie,QM),Ki(Ie,Rg))),ne.ADD_TAGS&&(Z===ve&&(Z=$c(Z)),Ki(Z,ne.ADD_TAGS,hi)),ne.ADD_ATTR&&(Ie===Ve&&(Ie=$c(Ie)),Ki(Ie,ne.ADD_ATTR,hi)),ne.ADD_URI_SAFE_ATTR&&Ki(Ye,ne.ADD_URI_SAFE_ATTR,hi),ne.FORBID_CONTENTS&&(fe===le&&(fe=$c(fe)),Ki(fe,ne.FORBID_CONTENTS,hi)),Ai&&(Z["#text"]=!0),rt&&Ki(Z,["html","head","body"]),Z.table&&(Ki(Z,["tbody"]),delete ze.tbody),ne.TRUSTED_TYPES_POLICY){if(typeof ne.TRUSTED_TYPES_POLICY.createHTML!="function")throw Lf('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof ne.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Lf('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');y=ne.TRUSTED_TYPES_POLICY,S=y.createHTML("")}else y===void 0&&(y=tG(w,a)),y!==null&&typeof S=="string"&&(S=y.createHTML(""));wa&&wa(ne),zi=ne}},xa=Ki({},[...V_,...Y_,...qY]),kn=Ki({},[...G_,...$Y]),us=function(ne){let bt=T(ne);(!bt||!bt.tagName)&&(bt={namespaceURI:qe,tagName:"template"});const Kt=Kg(ne.tagName),Cr=Kg(bt.tagName);return Be[ne.namespaceURI]?ne.namespaceURI===ti?bt.namespaceURI===ce?Kt==="svg":bt.namespaceURI===Vt?Kt==="svg"&&(Cr==="annotation-xml"||Ge[Cr]):!!xa[Kt]:ne.namespaceURI===Vt?bt.namespaceURI===ce?Kt==="math":bt.namespaceURI===ti?Kt==="math"&&Pt[Cr]:!!kn[Kt]:ne.namespaceURI===ce?bt.namespaceURI===ti&&!Pt[Cr]||bt.namespaceURI===Vt&&!Ge[Cr]?!1:!kn[Kt]&&(Yt[Kt]||!xa[Kt]):!!(_i==="application/xhtml+xml"&&Be[ne.namespaceURI]):!1},Dr=function(ne){Pf(e.removed,{element:ne});try{T(ne).removeChild(ne)}catch{L(ne)}},en=function(ne,bt){try{Pf(e.removed,{attribute:bt.getAttributeNode(ne),from:bt})}catch{Pf(e.removed,{attribute:null,from:bt})}if(bt.removeAttribute(ne),ne==="is")if(qi||yt)try{Dr(bt)}catch{}else try{bt.setAttribute(ne,"")}catch{}},ka=function(ne){let bt=null,Kt=null;if(Ui)ne="<remove></remove>"+ne;else{const qt=GM(ne,/^[\r\n\t ]+/);Kt=qt&&qt[0]}_i==="application/xhtml+xml"&&qe===ce&&(ne='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+ne+"</body></html>");const Cr=y?y.createHTML(ne):ne;if(qe===ce)try{bt=new k().parseFromString(Cr,_i)}catch{}if(!bt||!bt.documentElement){bt=C.createDocument(qe,"template",null);try{bt.documentElement.innerHTML=lt?S:Cr}catch{}}const br=bt.body||bt.documentElement;return ne&&Kt&&br.insertBefore(i.createTextNode(Kt),br.childNodes[0]||null),qe===ce?U.call(bt,rt?"html":"body")[0]:rt?bt.documentElement:br},aa=function(ne){return M.call(ne.ownerDocument||ne,ne,m.SHOW_ELEMENT|m.SHOW_COMMENT|m.SHOW_TEXT|m.SHOW_PROCESSING_INSTRUCTION|m.SHOW_CDATA_SECTION,null)},tn=function(ne){return ne instanceof b&&(typeof ne.nodeName!="string"||typeof ne.textContent!="string"||typeof ne.removeChild!="function"||!(ne.attributes instanceof f)||typeof ne.removeAttribute!="function"||typeof ne.setAttribute!="function"||typeof ne.namespaceURI!="string"||typeof ne.insertBefore!="function"||typeof ne.hasChildNodes!="function")},Ir=function(ne){return typeof h=="function"&&ne instanceof h};function ir(It,ne,bt){Lg(It,Kt=>{Kt.call(e,ne,bt,zi)})}const rn=function(ne){let bt=null;if(ir(g.beforeSanitizeElements,ne,null),tn(ne))return Dr(ne),!0;const Kt=hi(ne.nodeName);if(ir(g.uponSanitizeElement,ne,{tagName:Kt,allowedTags:Z}),ne.hasChildNodes()&&!Ir(ne.firstElementChild)&&ma(/<[/\w!]/g,ne.innerHTML)&&ma(/<[/\w!]/g,ne.textContent)||ne.nodeType===Ff.progressingInstruction||Ci&&ne.nodeType===Ff.comment&&ma(/<[/\w]/g,ne.data))return Dr(ne),!0;if(!Z[Kt]||ze[Kt]){if(!ze[Kt]&&bl(Kt)&&(Ae.tagNameCheck instanceof RegExp&&ma(Ae.tagNameCheck,Kt)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(Kt)))return!1;if(Ai&&!fe[Kt]){const Cr=T(ne)||ne.parentNode,br=u(ne)||ne.childNodes;if(br&&Cr){const qt=br.length;for(let Jr=qt-1;Jr>=0;--Jr){const ts=P(br[Jr],!0);ts.__removalCount=(ne.__removalCount||0)+1,Cr.insertBefore(ts,R(ne))}}}return Dr(ne),!0}return ne instanceof d&&!us(ne)||(Kt==="noscript"||Kt==="noembed"||Kt==="noframes")&&ma(/<\/no(script|embed|frames)/i,ne.innerHTML)?(Dr(ne),!0):(jt&&ne.nodeType===Ff.text&&(bt=ne.textContent,Lg([x,A,F],Cr=>{bt=Mf(bt,Cr," ")}),ne.textContent!==bt&&(Pf(e.removed,{element:ne.cloneNode()}),ne.textContent=bt)),ir(g.afterSanitizeElements,ne,null),!1)},vr=function(ne,bt,Kt){if(Ni&&(bt==="id"||bt==="name")&&(Kt in i||Kt in Ss))return!1;if(!(At&&!et[bt]&&ma(B,bt))){if(!(xt&&ma(j,bt))){if(!Ie[bt]||et[bt]){if(!(bl(ne)&&(Ae.tagNameCheck instanceof RegExp&&ma(Ae.tagNameCheck,ne)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(ne))&&(Ae.attributeNameCheck instanceof RegExp&&ma(Ae.attributeNameCheck,bt)||Ae.attributeNameCheck instanceof Function&&Ae.attributeNameCheck(bt))||bt==="is"&&Ae.allowCustomizedBuiltInElements&&(Ae.tagNameCheck instanceof RegExp&&ma(Ae.tagNameCheck,Kt)||Ae.tagNameCheck instanceof Function&&Ae.tagNameCheck(Kt))))return!1}else if(!Ye[bt]){if(!ma(Q,Mf(Kt,G,""))){if(!((bt==="src"||bt==="xlink:href"||bt==="href")&&ne!=="script"&&UY(Kt,"data:")===0&&Fe[ne])){if(!(Me&&!ma($,Mf(Kt,G,"")))){if(Kt)return!1}}}}}}return!0},bl=function(ne){return ne!=="annotation-xml"&&GM(ne,he)},wl=function(ne){ir(g.beforeSanitizeAttributes,ne,null);const{attributes:bt}=ne;if(!bt||tn(ne))return;const Kt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ie,forceKeepAttr:void 0};let Cr=bt.length;for(;Cr--;){const br=bt[Cr],{name:qt,namespaceURI:Jr,value:ts}=br,Sn=hi(qt);let zr=qt==="value"?ts:HY(ts);if(Kt.attrName=Sn,Kt.attrValue=zr,Kt.keepAttr=!0,Kt.forceKeepAttr=void 0,ir(g.uponSanitizeAttribute,ne,Kt),zr=Kt.attrValue,Fr&&(Sn==="id"||Sn==="name")&&(en(qt,ne),zr=Xr+zr),Ci&&ma(/((--!?|])>)|<\/(style|title)/i,zr)){en(qt,ne);continue}if(Kt.forceKeepAttr||(en(qt,ne),!Kt.keepAttr))continue;if(!Ut&&ma(/\/>/i,zr)){en(qt,ne);continue}jt&&Lg([x,A,F],Ts=>{zr=Mf(zr,Ts," ")});const Gn=hi(ne.nodeName);if(vr(Gn,Sn,zr)){if(y&&typeof w=="object"&&typeof w.getAttributeType=="function"&&!Jr)switch(w.getAttributeType(Gn,Sn)){case"TrustedHTML":{zr=y.createHTML(zr);break}case"TrustedScriptURL":{zr=y.createScriptURL(zr);break}}try{Jr?ne.setAttributeNS(Jr,qt,zr):ne.setAttribute(qt,zr),tn(ne)?Dr(ne):YM(e.removed)}catch{}}}ir(g.afterSanitizeAttributes,ne,null)},Ql=function It(ne){let bt=null;const Kt=aa(ne);for(ir(g.beforeSanitizeShadowDOM,ne,null);bt=Kt.nextNode();)ir(g.uponSanitizeShadowNode,bt,null),rn(bt),wl(bt),bt.content instanceof l&&It(bt.content);ir(g.afterSanitizeShadowDOM,ne,null)};return e.sanitize=function(It){let ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},bt=null,Kt=null,Cr=null,br=null;if(lt=!It,lt&&(It="<!-->"),typeof It!="string"&&!Ir(It))if(typeof It.toString=="function"){if(It=It.toString(),typeof It!="string")throw Lf("dirty is not a string, aborting")}else throw Lf("toString is not a function");if(!e.isSupported)return It;if(yi||Tr(ne),e.removed=[],typeof It=="string"&&(yr=!1),yr){if(It.nodeName){const ts=hi(It.nodeName);if(!Z[ts]||ze[ts])throw Lf("root node is forbidden and cannot be sanitized in-place")}}else if(It instanceof h)bt=ka("<!---->"),Kt=bt.ownerDocument.importNode(It,!0),Kt.nodeType===Ff.element&&Kt.nodeName==="BODY"||Kt.nodeName==="HTML"?bt=Kt:bt.appendChild(Kt);else{if(!qi&&!jt&&!rt&&It.indexOf("<")===-1)return y&&Nt?y.createHTML(It):It;if(bt=ka(It),!bt)return qi?null:Nt?S:""}bt&&Ui&&Dr(bt.firstChild);const qt=aa(yr?It:bt);for(;Cr=qt.nextNode();)rn(Cr),wl(Cr),Cr.content instanceof l&&Ql(Cr.content);if(yr)return It;if(qi){if(yt)for(br=I.call(bt.ownerDocument);bt.firstChild;)br.appendChild(bt.firstChild);else br=bt;return(Ie.shadowroot||Ie.shadowrootmode)&&(br=z.call(s,br,!0)),br}let Jr=rt?bt.outerHTML:bt.innerHTML;return rt&&Z["!doctype"]&&bt.ownerDocument&&bt.ownerDocument.doctype&&bt.ownerDocument.doctype.name&&ma(gF,bt.ownerDocument.doctype.name)&&(Jr="<!DOCTYPE "+bt.ownerDocument.doctype.name+`>
`+Jr),jt&&Lg([x,A,F],ts=>{Jr=Mf(Jr,ts," ")}),y&&Nt?y.createHTML(Jr):Jr},e.setConfig=function(){let It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Tr(It),yi=!0},e.clearConfig=function(){zi=null,yi=!1},e.isValidAttribute=function(It,ne,bt){zi||Tr({});const Kt=hi(It),Cr=hi(ne);return vr(Kt,Cr,bt)},e.addHook=function(It,ne){typeof ne=="function"&&Pf(g[It],ne)},e.removeHook=function(It,ne){if(ne!==void 0){const bt=NY(g[It],ne);return bt===-1?void 0:zY(g[It],bt,1)[0]}return YM(g[It])},e.removeHooks=function(It){g[It]=[]},e.removeAllHooks=function(){g=eL()},e}var Iu=yF(),vF=Object.defineProperty,q=(t,e)=>vF(t,"name",{value:e,configurable:!0}),iG=(t,e)=>{for(var i in e)vF(t,i,{get:e[i],enumerable:!0})},Go={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},ct={trace:q((...t)=>{},"trace"),debug:q((...t)=>{},"debug"),info:q((...t)=>{},"info"),warn:q((...t)=>{},"warn"),error:q((...t)=>{},"error"),fatal:q((...t)=>{},"fatal")},yk=q(function(t="fatal"){let e=Go.fatal;typeof t=="string"?t.toLowerCase()in Go&&(e=Go[t]):typeof t=="number"&&(e=t),ct.trace=()=>{},ct.debug=()=>{},ct.info=()=>{},ct.warn=()=>{},ct.error=()=>{},ct.fatal=()=>{},e<=Go.fatal&&(ct.fatal=console.error?console.error.bind(console,ln("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",ln("FATAL"))),e<=Go.error&&(ct.error=console.error?console.error.bind(console,ln("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",ln("ERROR"))),e<=Go.warn&&(ct.warn=console.warn?console.warn.bind(console,ln("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",ln("WARN"))),e<=Go.info&&(ct.info=console.info?console.info.bind(console,ln("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",ln("INFO"))),e<=Go.debug&&(ct.debug=console.debug?console.debug.bind(console,ln("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ln("DEBUG"))),e<=Go.trace&&(ct.trace=console.debug?console.debug.bind(console,ln("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",ln("TRACE")))},"setLogLevel"),ln=q(t=>`%c${EY().format("ss.SSS")} : ${t} : `,"format"),bF=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,ap=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,rG=/\s*%%.*\n/gm,vu,wF=(vu=class extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}},q(vu,"UnknownDiagramError"),vu),ph={},vk=q(function(t,e){t=t.replace(bF,"").replace(ap,"").replace(rG,`
`);for(const[i,{detector:s}]of Object.entries(ph))if(s(t,e))return i;throw new wF(`No diagram type detected matching given configuration for text: ${t}`)},"detectType"),M1=q((...t)=>{for(const{id:e,detector:i,loader:s}of t)_F(e,i,s)},"registerLazyLoadedDiagrams"),_F=q((t,e,i)=>{ph[t]&&ct.warn(`Detector with key ${t} already exists. Overwriting.`),ph[t]={detector:e,loader:i},ct.debug(`Detector with key ${t} added${i?" with loader":""}`)},"addDetector"),sG=q(t=>ph[t].loader,"getDiagramLoader"),L1=q((t,e,{depth:i=2,clobber:s=!1}={})=>{const a={depth:i,clobber:s};return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(l=>L1(t,l,a)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(l=>{t.includes(l)||t.push(l)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(l=>{typeof e[l]=="object"&&(t[l]===void 0||typeof t[l]=="object")?(t[l]===void 0&&(t[l]=Array.isArray(e[l])?[]:{}),t[l]=L1(t[l],e[l],{depth:i-1,clobber:s})):(s||typeof t[l]!="object"&&typeof e[l]!="object")&&(t[l]=e[l])}),t)},"assignWithDepth"),$s=L1,Cv="#ffffff",Ev="#f2f2f2",ga=q((t,e)=>e?Pe(t,{s:-40,l:10}):Pe(t,{s:-40,l:-10}),"mkBorder"),bu,aG=(bu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var i,s,a,l,o,h,d,m,f,b,k,w,E,P,L,R,u,T,y,S,C;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||Pe(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||Pe(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||ga(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||ga(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||ga(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||ga(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||Dt(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||Dt(this.tertiaryColor),this.lineColor=this.lineColor||Dt(this.background),this.arrowheadColor=this.arrowheadColor||Dt(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?mi(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||mi(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||Dt(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Jt(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||mi(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||mi(this.mainBkg,10)):(this.rowOdd=this.rowOdd||Jt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Jt(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330}),this.darkMode)for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScale"+M]=mi(this["cScale"+M],75);else for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScale"+M]=mi(this["cScale"+M],25);for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScaleInv"+M]=this["cScaleInv"+M]||Dt(this["cScale"+M]);for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this.darkMode?this["cScalePeer"+M]=this["cScalePeer"+M]||Jt(this["cScale"+M],10):this["cScalePeer"+M]=this["cScalePeer"+M]||mi(this["cScale"+M],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let M=0;M<this.THEME_COLOR_LIMIT;M++)this["cScaleLabel"+M]=this["cScaleLabel"+M]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let M=0;M<5;M++)this["surface"+M]=this["surface"+M]||Pe(this.mainBkg,{h:180,s:-15,l:e*(5+M*3)}),this["surfacePeer"+M]=this["surfacePeer"+M]||Pe(this.mainBkg,{h:180,s:-15,l:e*(8+M*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||Pe(this.primaryColor,{h:64}),this.fillType3=this.fillType3||Pe(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||Pe(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||Pe(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||Pe(this.primaryColor,{h:128}),this.fillType7=this.fillType7||Pe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Pe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Pe(this.secondaryColor,{l:-10}),this.pie6=this.pie6||Pe(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||Pe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Pe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Pe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Pe(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||Pe(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||Pe(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:((i=this.radar)==null?void 0:i.axisColor)||this.lineColor,axisStrokeWidth:((s=this.radar)==null?void 0:s.axisStrokeWidth)||2,axisLabelFontSize:((a=this.radar)==null?void 0:a.axisLabelFontSize)||12,curveOpacity:((l=this.radar)==null?void 0:l.curveOpacity)||.5,curveStrokeWidth:((o=this.radar)==null?void 0:o.curveStrokeWidth)||2,graticuleColor:((h=this.radar)==null?void 0:h.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((d=this.radar)==null?void 0:d.graticuleStrokeWidth)||1,graticuleOpacity:((m=this.radar)==null?void 0:m.graticuleOpacity)||.3,legendBoxSize:((f=this.radar)==null?void 0:f.legendBoxSize)||12,legendFontSize:((b=this.radar)==null?void 0:b.legendFontSize)||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||qp(this.quadrant1Fill)?Jt(this.quadrant1Fill):mi(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((k=this.xyChart)==null?void 0:k.backgroundColor)||this.background,titleColor:((w=this.xyChart)==null?void 0:w.titleColor)||this.primaryTextColor,xAxisTitleColor:((E=this.xyChart)==null?void 0:E.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((P=this.xyChart)==null?void 0:P.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((L=this.xyChart)==null?void 0:L.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((R=this.xyChart)==null?void 0:R.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((u=this.xyChart)==null?void 0:u.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((T=this.xyChart)==null?void 0:T.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((y=this.xyChart)==null?void 0:y.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((S=this.xyChart)==null?void 0:S.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((C=this.xyChart)==null?void 0:C.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?mi(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pe(this.primaryColor,{h:-30}),this.git4=this.git4||Pe(this.primaryColor,{h:-60}),this.git5=this.git5||Pe(this.primaryColor,{h:-90}),this.git6=this.git6||Pe(this.primaryColor,{h:60}),this.git7=this.git7||Pe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Jt(this.git0,25),this.git1=Jt(this.git1,25),this.git2=Jt(this.git2,25),this.git3=Jt(this.git3,25),this.git4=Jt(this.git4,25),this.git5=Jt(this.git5,25),this.git6=Jt(this.git6,25),this.git7=Jt(this.git7,25)):(this.git0=mi(this.git0,25),this.git1=mi(this.git1,25),this.git2=mi(this.git2,25),this.git3=mi(this.git3,25),this.git4=mi(this.git4,25),this.git5=mi(this.git5,25),this.git6=mi(this.git6,25),this.git7=mi(this.git7,25)),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Cv,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ev}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(bu,"Theme"),bu),nG=q(t=>{const e=new aG;return e.calculate(t),e},"getThemeVariables"),wu,oG=(wu=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Jt(this.primaryColor,16),this.tertiaryColor=Pe(this.primaryColor,{h:-160}),this.primaryBorderColor=Dt(this.background),this.secondaryBorderColor=ga(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ga(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.tertiaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Jt(Dt("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=sp(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=mi("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=mi(this.sectionBkgColor,10),this.taskBorderColor=sp(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=sp(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Jt(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||mi(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var e,i,s,a,l,o,h,d,m,f,b,k,w,E,P,L,R,u,T,y,S;this.secondBkg=Jt(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Jt(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Jt(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Dt(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScalePeer"+C]=this["cScalePeer"+C]||Jt(this["cScale"+C],10);for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Pe(this.mainBkg,{h:30,s:-30,l:-(-10+C*4)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Pe(this.mainBkg,{h:30,s:-30,l:-(-7+C*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||qp(this.quadrant1Fill)?Jt(this.quadrant1Fill):mi(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((s=this.xyChart)==null?void 0:s.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((d=this.xyChart)==null?void 0:d.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((m=this.xyChart)==null?void 0:m.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)==null?void 0:b.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:((k=this.radar)==null?void 0:k.axisColor)||this.lineColor,axisStrokeWidth:((w=this.radar)==null?void 0:w.axisStrokeWidth)||2,axisLabelFontSize:((E=this.radar)==null?void 0:E.axisLabelFontSize)||12,curveOpacity:((P=this.radar)==null?void 0:P.curveOpacity)||.5,curveStrokeWidth:((L=this.radar)==null?void 0:L.curveStrokeWidth)||2,graticuleColor:((R=this.radar)==null?void 0:R.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((T=this.radar)==null?void 0:T.graticuleOpacity)||.3,legendBoxSize:((y=this.radar)==null?void 0:y.legendBoxSize)||12,legendFontSize:((S=this.radar)==null?void 0:S.legendFontSize)||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?mi(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Jt(this.secondaryColor,20),this.git1=Jt(this.pie2||this.secondaryColor,20),this.git2=Jt(this.pie3||this.tertiaryColor,20),this.git3=Jt(this.pie4||Pe(this.primaryColor,{h:-30}),20),this.git4=Jt(this.pie5||Pe(this.primaryColor,{h:-60}),20),this.git5=Jt(this.pie6||Pe(this.primaryColor,{h:-90}),10),this.git6=Jt(this.pie7||Pe(this.primaryColor,{h:60}),10),this.git7=Jt(this.pie8||Pe(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Dt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Dt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Jt(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Jt(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(wu,"Theme"),wu),lG=q(t=>{const e=new oG;return e.calculate(t),e},"getThemeVariables"),_u,cG=(_u=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=Pe(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=Pe(this.primaryColor,{h:-160}),this.primaryBorderColor=ga(this.primaryColor,this.darkMode),this.secondaryBorderColor=ga(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ga(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.tertiaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=sp(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var e,i,s,a,l,o,h,d,m,f,b,k,w,E,P,L,R,u,T,y,S;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||mi(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||mi(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=mi(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||mi(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Pe(this["cScale"+C],{h:180});for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Pe(this.mainBkg,{h:30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Pe(this.mainBkg,{h:30,l:-(7+C*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||Dt(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||Dt(this.labelTextColor);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Jt(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Jt(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||Jt(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||Pe(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||Pe(this.primaryColor,{l:-10}),this.pie5=this.pie5||Pe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Pe(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||Pe(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||Pe(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||Pe(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||Pe(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||Pe(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||Pe(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||qp(this.quadrant1Fill)?Jt(this.quadrant1Fill):mi(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((m=this.radar)==null?void 0:m.legendBoxSize)||12,legendFontSize:((f=this.radar)==null?void 0:f.legendFontSize)||12},this.xyChart={backgroundColor:((b=this.xyChart)==null?void 0:b.backgroundColor)||this.background,titleColor:((k=this.xyChart)==null?void 0:k.titleColor)||this.primaryTextColor,xAxisTitleColor:((w=this.xyChart)==null?void 0:w.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((E=this.xyChart)==null?void 0:E.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((P=this.xyChart)==null?void 0:P.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((L=this.xyChart)==null?void 0:L.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((R=this.xyChart)==null?void 0:R.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((T=this.xyChart)==null?void 0:T.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pe(this.primaryColor,{h:-30}),this.git4=this.git4||Pe(this.primaryColor,{h:-60}),this.git5=this.git5||Pe(this.primaryColor,{h:-90}),this.git6=this.git6||Pe(this.primaryColor,{h:60}),this.git7=this.git7||Pe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Jt(this.git0,25),this.git1=Jt(this.git1,25),this.git2=Jt(this.git2,25),this.git3=Jt(this.git3,25),this.git4=Jt(this.git4,25),this.git5=Jt(this.git5,25),this.git6=Jt(this.git6,25),this.git7=Jt(this.git7,25)):(this.git0=mi(this.git0,25),this.git1=mi(this.git1,25),this.git2=mi(this.git2,25),this.git3=mi(this.git3,25),this.git4=mi(this.git4,25),this.git5=mi(this.git5,25),this.git6=mi(this.git6,25),this.git7=mi(this.git7,25)),this.gitInv0=this.gitInv0||mi(Dt(this.git0),25),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Dt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Dt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Cv,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ev}calculate(e){if(Object.keys(this).forEach(s=>{this[s]==="calculated"&&(this[s]=void 0)}),typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(_u,"Theme"),_u),hG=q(t=>{const e=new cG;return e.calculate(t),e},"getThemeVariables"),xu,uG=(xu=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Jt("#cde498",10),this.primaryBorderColor=ga(this.primaryColor,this.darkMode),this.secondaryBorderColor=ga(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ga(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.primaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,i,s,a,l,o,h,d,m,f,b,k,w,E,P,L,R,u,T,y,S;this.actorBorder=mi(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||Pe(this.primaryColor,{h:30}),this.cScale4=this.cScale4||Pe(this.primaryColor,{h:60}),this.cScale5=this.cScale5||Pe(this.primaryColor,{h:90}),this.cScale6=this.cScale6||Pe(this.primaryColor,{h:120}),this.cScale7=this.cScale7||Pe(this.primaryColor,{h:150}),this.cScale8=this.cScale8||Pe(this.primaryColor,{h:210}),this.cScale9=this.cScale9||Pe(this.primaryColor,{h:270}),this.cScale10=this.cScale10||Pe(this.primaryColor,{h:300}),this.cScale11=this.cScale11||Pe(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||mi(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||mi(this.tertiaryColor,40);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScale"+C]=mi(this["cScale"+C],10),this["cScalePeer"+C]=this["cScalePeer"+C]||mi(this["cScale"+C],25);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Pe(this["cScale"+C],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Pe(this.mainBkg,{h:30,s:-30,l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Pe(this.mainBkg,{h:30,s:-30,l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||Jt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||Jt(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||Pe(this.primaryColor,{l:-30}),this.pie5=this.pie5||Pe(this.secondaryColor,{l:-30}),this.pie6=this.pie6||Pe(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||Pe(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||Pe(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||Pe(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||Pe(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||Pe(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||Pe(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||qp(this.quadrant1Fill)?Jt(this.quadrant1Fill):mi(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:((e=this.radar)==null?void 0:e.axisColor)||this.lineColor,axisStrokeWidth:((i=this.radar)==null?void 0:i.axisStrokeWidth)||2,axisLabelFontSize:((s=this.radar)==null?void 0:s.axisLabelFontSize)||12,curveOpacity:((a=this.radar)==null?void 0:a.curveOpacity)||.5,curveStrokeWidth:((l=this.radar)==null?void 0:l.curveStrokeWidth)||2,graticuleColor:((o=this.radar)==null?void 0:o.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((h=this.radar)==null?void 0:h.graticuleStrokeWidth)||1,graticuleOpacity:((d=this.radar)==null?void 0:d.graticuleOpacity)||.3,legendBoxSize:((m=this.radar)==null?void 0:m.legendBoxSize)||12,legendFontSize:((f=this.radar)==null?void 0:f.legendFontSize)||12},this.xyChart={backgroundColor:((b=this.xyChart)==null?void 0:b.backgroundColor)||this.background,titleColor:((k=this.xyChart)==null?void 0:k.titleColor)||this.primaryTextColor,xAxisTitleColor:((w=this.xyChart)==null?void 0:w.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((E=this.xyChart)==null?void 0:E.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((P=this.xyChart)==null?void 0:P.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((L=this.xyChart)==null?void 0:L.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((R=this.xyChart)==null?void 0:R.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((u=this.xyChart)==null?void 0:u.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((T=this.xyChart)==null?void 0:T.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((y=this.xyChart)==null?void 0:y.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((S=this.xyChart)==null?void 0:S.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||Pe(this.primaryColor,{h:-30}),this.git4=this.git4||Pe(this.primaryColor,{h:-60}),this.git5=this.git5||Pe(this.primaryColor,{h:-90}),this.git6=this.git6||Pe(this.primaryColor,{h:60}),this.git7=this.git7||Pe(this.primaryColor,{h:120}),this.darkMode?(this.git0=Jt(this.git0,25),this.git1=Jt(this.git1,25),this.git2=Jt(this.git2,25),this.git3=Jt(this.git3,25),this.git4=Jt(this.git4,25),this.git5=Jt(this.git5,25),this.git6=Jt(this.git6,25),this.git7=Jt(this.git7,25)):(this.git0=mi(this.git0,25),this.git1=mi(this.git1,25),this.git2=mi(this.git2,25),this.git3=mi(this.git3,25),this.git4=mi(this.git4,25),this.git5=mi(this.git5,25),this.git6=mi(this.git6,25),this.git7=mi(this.git7,25)),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||Dt(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||Dt(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Cv,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ev}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(xu,"Theme"),xu),dG=q(t=>{const e=new uG;return e.calculate(t),e},"getThemeVariables"),ku,fG=(ku=class{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Jt(this.contrast,55),this.background="#ffffff",this.tertiaryColor=Pe(this.primaryColor,{h:-160}),this.primaryBorderColor=ga(this.primaryColor,this.darkMode),this.secondaryBorderColor=ga(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=ga(this.tertiaryColor,this.darkMode),this.primaryTextColor=Dt(this.primaryColor),this.secondaryTextColor=Dt(this.secondaryColor),this.tertiaryTextColor=Dt(this.tertiaryColor),this.lineColor=Dt(this.background),this.textColor=Dt(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||Jt(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var e,i,s,a,l,o,h,d,m,f,b,k,w,E,P,L,R,u,T,y,S;this.secondBkg=Jt(this.contrast,55),this.border2=this.contrast,this.actorBorder=Jt(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleInv"+C]=this["cScaleInv"+C]||Dt(this["cScale"+C]);for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this.darkMode?this["cScalePeer"+C]=this["cScalePeer"+C]||Jt(this["cScale"+C],10):this["cScalePeer"+C]=this["cScalePeer"+C]||mi(this["cScale"+C],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["cScaleLabel"+C]=this["cScaleLabel"+C]||this.scaleLabelColor;for(let C=0;C<5;C++)this["surface"+C]=this["surface"+C]||Pe(this.mainBkg,{l:-(5+C*5)}),this["surfacePeer"+C]=this["surfacePeer"+C]||Pe(this.mainBkg,{l:-(8+C*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=Jt(this.contrast,30),this.sectionBkgColor2=Jt(this.contrast,30),this.taskBorderColor=mi(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Jt(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=mi(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=Pe(this.primaryColor,{h:64}),this.fillType3=Pe(this.secondaryColor,{h:64}),this.fillType4=Pe(this.primaryColor,{h:-64}),this.fillType5=Pe(this.secondaryColor,{h:-64}),this.fillType6=Pe(this.primaryColor,{h:128}),this.fillType7=Pe(this.secondaryColor,{h:128});for(let C=0;C<this.THEME_COLOR_LIMIT;C++)this["pie"+C]=this["cScale"+C];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||Pe(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||Pe(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||Pe(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||Pe(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||Pe(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||Pe(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||qp(this.quadrant1Fill)?Jt(this.quadrant1Fill):mi(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((e=this.xyChart)==null?void 0:e.backgroundColor)||this.background,titleColor:((i=this.xyChart)==null?void 0:i.titleColor)||this.primaryTextColor,xAxisTitleColor:((s=this.xyChart)==null?void 0:s.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((a=this.xyChart)==null?void 0:a.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((l=this.xyChart)==null?void 0:l.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((o=this.xyChart)==null?void 0:o.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((h=this.xyChart)==null?void 0:h.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((d=this.xyChart)==null?void 0:d.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((m=this.xyChart)==null?void 0:m.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((f=this.xyChart)==null?void 0:f.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((b=this.xyChart)==null?void 0:b.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:((k=this.radar)==null?void 0:k.axisColor)||this.lineColor,axisStrokeWidth:((w=this.radar)==null?void 0:w.axisStrokeWidth)||2,axisLabelFontSize:((E=this.radar)==null?void 0:E.axisLabelFontSize)||12,curveOpacity:((P=this.radar)==null?void 0:P.curveOpacity)||.5,curveStrokeWidth:((L=this.radar)==null?void 0:L.curveStrokeWidth)||2,graticuleColor:((R=this.radar)==null?void 0:R.graticuleColor)||"#DEDEDE",graticuleStrokeWidth:((u=this.radar)==null?void 0:u.graticuleStrokeWidth)||1,graticuleOpacity:((T=this.radar)==null?void 0:T.graticuleOpacity)||.3,legendBoxSize:((y=this.radar)==null?void 0:y.legendBoxSize)||12,legendFontSize:((S=this.radar)==null?void 0:S.legendFontSize)||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=mi(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||Pe(this.primaryColor,{h:-30}),this.git4=this.pie5||Pe(this.primaryColor,{h:-60}),this.git5=this.pie6||Pe(this.primaryColor,{h:-90}),this.git6=this.pie7||Pe(this.primaryColor,{h:60}),this.git7=this.pie8||Pe(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||Dt(this.git0),this.gitInv1=this.gitInv1||Dt(this.git1),this.gitInv2=this.gitInv2||Dt(this.git2),this.gitInv3=this.gitInv3||Dt(this.git3),this.gitInv4=this.gitInv4||Dt(this.git4),this.gitInv5=this.gitInv5||Dt(this.git5),this.gitInv6=this.gitInv6||Dt(this.git6),this.gitInv7=this.gitInv7||Dt(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Cv,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Ev}calculate(e){if(typeof e!="object"){this.updateColors();return}const i=Object.keys(e);i.forEach(s=>{this[s]=e[s]}),this.updateColors(),i.forEach(s=>{this[s]=e[s]})}},q(ku,"Theme"),ku),pG=q(t=>{const e=new fG;return e.calculate(t),e},"getThemeVariables"),al={base:{getThemeVariables:nG},dark:{getThemeVariables:lG},default:{getThemeVariables:hG},forest:{getThemeVariables:dG},neutral:{getThemeVariables:pG}},so={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},xF={...so,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:al.default.getThemeVariables(),sequence:{...so.sequence,messageFont:q(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont"),noteFont:q(function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},"noteFont"),actorFont:q(function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}},"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...so.gantt,tickInterval:void 0,useWidth:void 0},c4:{...so.c4,useWidth:void 0,personFont:q(function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},"personFont"),flowchart:{...so.flowchart,inheritDir:!1},external_personFont:q(function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},"external_personFont"),systemFont:q(function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},"systemFont"),external_systemFont:q(function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},"external_systemFont"),system_dbFont:q(function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},"system_dbFont"),external_system_dbFont:q(function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},"external_system_dbFont"),system_queueFont:q(function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},"system_queueFont"),external_system_queueFont:q(function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},"external_system_queueFont"),containerFont:q(function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},"containerFont"),external_containerFont:q(function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},"external_containerFont"),container_dbFont:q(function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},"container_dbFont"),external_container_dbFont:q(function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},"external_container_dbFont"),container_queueFont:q(function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},"container_queueFont"),external_container_queueFont:q(function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},"external_container_queueFont"),componentFont:q(function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},"componentFont"),external_componentFont:q(function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},"external_componentFont"),component_dbFont:q(function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},"component_dbFont"),external_component_dbFont:q(function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},"external_component_dbFont"),component_queueFont:q(function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},"component_queueFont"),external_component_queueFont:q(function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},"external_component_queueFont"),boundaryFont:q(function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},"boundaryFont"),messageFont:q(function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},"messageFont")},pie:{...so.pie,useWidth:984},xyChart:{...so.xyChart,useWidth:void 0},requirement:{...so.requirement,useWidth:void 0},packet:{...so.packet},radar:{...so.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},kF=q((t,e="")=>Object.keys(t).reduce((i,s)=>Array.isArray(t[s])?i:typeof t[s]=="object"&&t[s]!==null?[...i,e+s,...kF(t[s],"")]:[...i,e+s],[]),"keyify"),mG=new Set(kF(xF,"")),SF=xF,xy=q(t=>{if(ct.debug("sanitizeDirective called with",t),!(typeof t!="object"||t==null)){if(Array.isArray(t)){t.forEach(e=>xy(e));return}for(const e of Object.keys(t)){if(ct.debug("Checking key",e),e.startsWith("__")||e.includes("proto")||e.includes("constr")||!mG.has(e)||t[e]==null){ct.debug("sanitize deleting key: ",e),delete t[e];continue}if(typeof t[e]=="object"){ct.debug("sanitizing object",e),xy(t[e]);continue}const i=["themeCSS","fontFamily","altFontFamily"];for(const s of i)e.includes(s)&&(ct.debug("sanitizing css option",e),t[e]=gG(t[e]))}if(t.themeVariables)for(const e of Object.keys(t.themeVariables)){const i=t.themeVariables[e];i!=null&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[e]="")}ct.debug("After sanitization",t)}},"sanitizeDirective"),gG=q(t=>{let e=0,i=0;for(const s of t){if(e<i)return"{ /* ERROR: Unbalanced CSS */ }";s==="{"?e++:s==="}"&&i++}return e!==i?"{ /* ERROR: Unbalanced CSS */ }":t},"sanitizeCss"),Bu=Object.freeze(SF),Ma=$s({},Bu),TF,Nu=[],np=$s({},Bu),Ov=q((t,e)=>{let i=$s({},t),s={};for(const a of e)OF(a),s=$s(s,a);if(i=$s(i,s),s.theme&&s.theme in al){const a=$s({},TF),l=$s(a.themeVariables||{},s.themeVariables);i.theme&&i.theme in al&&(i.themeVariables=al[i.theme].getThemeVariables(l))}return np=i,AF(np),np},"updateCurrentConfig"),yG=q(t=>(Ma=$s({},Bu),Ma=$s(Ma,t),t.theme&&al[t.theme]&&(Ma.themeVariables=al[t.theme].getThemeVariables(t.themeVariables)),Ov(Ma,Nu),Ma),"setSiteConfig"),vG=q(t=>{TF=$s({},t)},"saveConfigFromInitialize"),bG=q(t=>(Ma=$s(Ma,t),Ov(Ma,Nu),Ma),"updateSiteConfig"),CF=q(()=>$s({},Ma),"getSiteConfig"),EF=q(t=>(AF(t),$s(np,t),ia()),"setConfig"),ia=q(()=>$s({},np),"getConfig"),OF=q(t=>{t&&(["secure",...Ma.secure??[]].forEach(e=>{Object.hasOwn(t,e)&&(ct.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.startsWith("__")&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&OF(t[e])}))},"sanitize"),wG=q(t=>{var e;xy(t),t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables={...t.themeVariables,fontFamily:t.fontFamily}),Nu.push(t),Ov(Ma,Nu)},"addDirective"),ky=q((t=Ma)=>{Nu=[],Ov(t,Nu)},"reset"),_G={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},tL={},xG=q(t=>{tL[t]||(ct.warn(_G[t]),tL[t]=!0)},"issueWarning"),AF=q(t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&xG("LAZY_LOAD_DEPRECATED")},"checkConfig"),$p=/<br\s*\/?>/gi,kG=q(t=>t?LF(t).replace(/\\n/g,"#br#").split("#br#"):[""],"getRows"),SG=(()=>{let t=!1;return()=>{t||(PF(),t=!0)}})();function PF(){const t="data-temp-href-target";Iu.addHook("beforeSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute("target")&&e.setAttribute(t,e.getAttribute("target")??"")}),Iu.addHook("afterSanitizeAttributes",e=>{e.tagName==="A"&&e.hasAttribute(t)&&(e.setAttribute("target",e.getAttribute(t)??""),e.removeAttribute(t),e.getAttribute("target")==="_blank"&&e.setAttribute("rel","noopener"))})}q(PF,"setupDompurifyHooks");var MF=q(t=>(SG(),Iu.sanitize(t)),"removeScript"),iL=q((t,e)=>{var i;if(((i=e.flowchart)==null?void 0:i.htmlLabels)!==!1){const s=e.securityLevel;s==="antiscript"||s==="strict"?t=MF(t):s!=="loose"&&(t=LF(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=OG(t))}return t},"sanitizeMore"),vn=q((t,e)=>t&&(e.dompurifyConfig?t=Iu.sanitize(iL(t,e),e.dompurifyConfig).toString():t=Iu.sanitize(iL(t,e),{FORBID_TAGS:["style"]}).toString(),t),"sanitizeText"),TG=q((t,e)=>typeof t=="string"?vn(t,e):t.flat().map(i=>vn(i,e)),"sanitizeTextOrArray"),CG=q(t=>$p.test(t),"hasBreaks"),EG=q(t=>t.split($p),"splitBreaks"),OG=q(t=>t.replace(/#br#/g,"<br/>"),"placeholderToBreak"),LF=q(t=>t.replace($p,"#br#"),"breakToPlaceholder"),RF=q(t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=CSS.escape(e)),e},"getUrl"),ks=q(t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),"evaluate"),AG=q(function(...t){const e=t.filter(i=>!isNaN(i));return Math.max(...e)},"getMax"),PG=q(function(...t){const e=t.filter(i=>!isNaN(i));return Math.min(...e)},"getMin"),rL=q(function(t){const e=t.split(/(,)/),i=[];for(let s=0;s<e.length;s++){let a=e[s];if(a===","&&s>0&&s+1<e.length){const l=e[s-1],o=e[s+1];MG(l,o)&&(a=l+","+o,s++,i.pop())}i.push(LG(a))}return i.join("")},"parseGenericTypes"),R1=q((t,e)=>Math.max(0,t.split(e).length-1),"countOccurrence"),MG=q((t,e)=>{const i=R1(t,"~"),s=R1(e,"~");return i===1&&s===1},"shouldCombineSets"),LG=q(t=>{const e=R1(t,"~");let i=!1;if(e<=1)return t;e%2!==0&&t.startsWith("~")&&(t=t.substring(1),i=!0);const s=[...t];let a=s.indexOf("~"),l=s.lastIndexOf("~");for(;a!==-1&&l!==-1&&a!==l;)s[a]="<",s[l]=">",a=s.indexOf("~"),l=s.lastIndexOf("~");return i&&s.unshift("~"),s.join("")},"processSet"),sL=q(()=>window.MathMLElement!==void 0,"isMathMLSupported"),F1=/\$\$(.*)\$\$/g,zu=q(t=>{var e;return(((e=t.match(F1))==null?void 0:e.length)??0)>0},"hasKatex"),sce=q(async(t,e)=>{const i=document.createElement("div");i.innerHTML=await bk(t,e),i.id="katex-temp",i.style.visibility="hidden",i.style.position="absolute",i.style.top="0";const s=document.querySelector("body");s==null||s.insertAdjacentElement("beforeend",i);const a={width:i.clientWidth,height:i.clientHeight};return i.remove(),a},"calculateMathMLDimensions"),RG=q(async(t,e)=>{if(!zu(t))return t;if(!(sL()||e.legacyMathML||e.forceLegacyMathML))return t.replace(F1,"MathML is unsupported in this environment.");{const{default:i}=await Sr(async()=>{const{default:a}=await import("./katex-ChWnQ-fc.js");return{default:a}},[]),s=e.forceLegacyMathML||!sL()&&e.legacyMathML?"htmlAndMathml":"mathml";return t.split($p).map(a=>zu(a)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${a}</div>`:`<div>${a}</div>`).join("").replace(F1,(a,l)=>i.renderToString(l,{throwOnError:!0,displayMode:!0,output:s}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))}},"renderKatexUnsanitized"),bk=q(async(t,e)=>vn(await RG(t,e),e),"renderKatexSanitized"),Zu={getRows:kG,sanitizeText:vn,sanitizeTextOrArray:TG,hasBreaks:CG,splitBreaks:EG,lineBreakRegex:$p,removeScript:MF,getUrl:RF,evaluate:ks,getMax:AG,getMin:PG},FG=q(function(t,e){for(let i of e)t.attr(i[0],i[1])},"d3Attrs"),DG=q(function(t,e,i){let s=new Map;return i?(s.set("width","100%"),s.set("style",`max-width: ${e}px;`)):(s.set("height",t),s.set("width",e)),s},"calculateSvgSizeAttrs"),FF=q(function(t,e,i,s){const a=DG(e,i,s);FG(t,a)},"configureSvgSize"),IG=q(function(t,e,i,s){const a=e.node().getBBox(),l=a.width,o=a.height;ct.info(`SVG bounds: ${l}x${o}`,a);let h=0,d=0;ct.info(`Graph bounds: ${h}x${d}`,t),h=l+i*2,d=o+i*2,ct.info(`Calculated bounds: ${h}x${d}`),FF(e,d,h,s);const m=`${a.x-i} ${a.y-i} ${a.width+2*i} ${a.height+2*i}`;e.attr("viewBox",m)},"setupGraphViewbox"),Zg={},BG=q((t,e,i)=>{let s="";return t in Zg&&Zg[t]?s=Zg[t](i):ct.warn(`No theme found for ${t}`),` & {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
    fill: ${i.textColor}
  }
  @keyframes edge-animation-frame {
    from {
      stroke-dashoffset: 0;
    }
  }
  @keyframes dash {
    to {
      stroke-dashoffset: 0;
    }
  }
  & .edge-animation-slow {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 50s linear infinite;
    stroke-linecap: round;
  }
  & .edge-animation-fast {
    stroke-dasharray: 9,5 !important;
    stroke-dashoffset: 900;
    animation: dash 20s linear infinite;
    stroke-linecap: round;
  }
  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${i.errorBkgColor};
  }
  & .error-text {
    fill: ${i.errorTextColor};
    stroke: ${i.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 1px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }
  & .edge-thickness-invisible {
    stroke-width: 0;
    fill: none;
  }
  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${i.lineColor};
    stroke: ${i.lineColor};
  }
  & .marker.cross {
    stroke: ${i.lineColor};
  }

  & svg {
    font-family: ${i.fontFamily};
    font-size: ${i.fontSize};
  }
   & p {
    margin: 0
   }

  ${s}

  ${e}
`},"getStyles"),NG=q((t,e)=>{e!==void 0&&(Zg[t]=e)},"addStylesForDiagram"),zG=BG,DF={};iG(DF,{clear:()=>UG,getAccDescription:()=>qG,getAccTitle:()=>WG,getDiagramTitle:()=>VG,setAccDescription:()=>jG,setAccTitle:()=>HG,setDiagramTitle:()=>$G});var wk="",_k="",xk="",kk=q(t=>vn(t,ia()),"sanitizeText"),UG=q(()=>{wk="",xk="",_k=""},"clear"),HG=q(t=>{wk=kk(t).replace(/^\s+/g,"")},"setAccTitle"),WG=q(()=>wk,"getAccTitle"),jG=q(t=>{xk=kk(t).replace(/\n\s+/g,`
`)},"setAccDescription"),qG=q(()=>xk,"getAccDescription"),$G=q(t=>{_k=kk(t)},"setDiagramTitle"),VG=q(()=>_k,"getDiagramTitle"),aL=ct,YG=yk,fr=ia,ace=EF,nce=Bu,Sk=q(t=>vn(t,fr()),"sanitizeText"),GG=IG,XG=q(()=>DF,"getCommonDb"),Sy={},Ty=q((t,e,i)=>{var s;Sy[t]&&aL.warn(`Diagram with id ${t} already registered. Overwriting.`),Sy[t]=e,i&&_F(t,i),NG(t,e.styles),(s=e.injectUtils)==null||s.call(e,aL,YG,fr,Sk,GG,XG(),()=>{})},"registerDiagram"),D1=q(t=>{if(t in Sy)return Sy[t];throw new KG(t)},"getDiagram"),Su,KG=(Su=class extends Error{constructor(e){super(`Diagram ${e} not found.`)}},q(Su,"DiagramNotFoundError"),Su);function Tk(t){return typeof t>"u"||t===null}q(Tk,"isNothing");function IF(t){return typeof t=="object"&&t!==null}q(IF,"isObject");function BF(t){return Array.isArray(t)?t:Tk(t)?[]:[t]}q(BF,"toArray");function NF(t,e){var i,s,a,l;if(e)for(l=Object.keys(e),i=0,s=l.length;i<s;i+=1)a=l[i],t[a]=e[a];return t}q(NF,"extend");function zF(t,e){var i="",s;for(s=0;s<e;s+=1)i+=t;return i}q(zF,"repeat");function UF(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}q(UF,"isNegativeZero");var ZG=Tk,QG=IF,JG=BF,eX=zF,tX=UF,iX=NF,_s={isNothing:ZG,isObject:QG,toArray:JG,repeat:eX,isNegativeZero:tX,extend:iX};function Ck(t,e){var i="",s=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(i+='in "'+t.mark.name+'" '),i+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(i+=`

`+t.mark.snippet),s+" "+i):s}q(Ck,"formatError");function Uu(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Ck(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}q(Uu,"YAMLException$1");Uu.prototype=Object.create(Error.prototype);Uu.prototype.constructor=Uu;Uu.prototype.toString=q(function(e){return this.name+": "+Ck(this,e)},"toString");var La=Uu;function Qg(t,e,i,s,a){var l="",o="",h=Math.floor(a/2)-1;return s-e>h&&(l=" ... ",e=s-h+l.length),i-s>h&&(o=" ...",i=s+h-o.length),{str:l+t.slice(e,i).replace(/\t/g,"")+o,pos:s-e+l.length}}q(Qg,"getLine");function Jg(t,e){return _s.repeat(" ",e-t.length)+t}q(Jg,"padStart");function HF(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var i=/\r?\n|\r|\0/g,s=[0],a=[],l,o=-1;l=i.exec(t.buffer);)a.push(l.index),s.push(l.index+l[0].length),t.position<=l.index&&o<0&&(o=s.length-2);o<0&&(o=s.length-1);var h="",d,m,f=Math.min(t.line+e.linesAfter,a.length).toString().length,b=e.maxLength-(e.indent+f+3);for(d=1;d<=e.linesBefore&&!(o-d<0);d++)m=Qg(t.buffer,s[o-d],a[o-d],t.position-(s[o]-s[o-d]),b),h=_s.repeat(" ",e.indent)+Jg((t.line-d+1).toString(),f)+" | "+m.str+`
`+h;for(m=Qg(t.buffer,s[o],a[o],t.position,b),h+=_s.repeat(" ",e.indent)+Jg((t.line+1).toString(),f)+" | "+m.str+`
`,h+=_s.repeat("-",e.indent+f+3+m.pos)+`^
`,d=1;d<=e.linesAfter&&!(o+d>=a.length);d++)m=Qg(t.buffer,s[o+d],a[o+d],t.position-(s[o]-s[o+d]),b),h+=_s.repeat(" ",e.indent)+Jg((t.line+d+1).toString(),f)+" | "+m.str+`
`;return h.replace(/\n$/,"")}q(HF,"makeSnippet");var rX=HF,sX=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],aX=["scalar","sequence","mapping"];function WF(t){var e={};return t!==null&&Object.keys(t).forEach(function(i){t[i].forEach(function(s){e[String(s)]=i})}),e}q(WF,"compileStyleAliases");function jF(t,e){if(e=e||{},Object.keys(e).forEach(function(i){if(sX.indexOf(i)===-1)throw new La('Unknown option "'+i+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(i){return i},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=WF(e.styleAliases||null),aX.indexOf(this.kind)===-1)throw new La('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}q(jF,"Type$1");var ra=jF;function I1(t,e){var i=[];return t[e].forEach(function(s){var a=i.length;i.forEach(function(l,o){l.tag===s.tag&&l.kind===s.kind&&l.multi===s.multi&&(a=o)}),i[a]=s}),i}q(I1,"compileList");function qF(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,i;function s(a){a.multi?(t.multi[a.kind].push(a),t.multi.fallback.push(a)):t[a.kind][a.tag]=t.fallback[a.tag]=a}for(q(s,"collectType"),e=0,i=arguments.length;e<i;e+=1)arguments[e].forEach(s);return t}q(qF,"compileMap");function Cy(t){return this.extend(t)}q(Cy,"Schema$1");Cy.prototype.extend=q(function(e){var i=[],s=[];if(e instanceof ra)s.push(e);else if(Array.isArray(e))s=s.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(i=i.concat(e.implicit)),e.explicit&&(s=s.concat(e.explicit));else throw new La("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");i.forEach(function(l){if(!(l instanceof ra))throw new La("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new La("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new La("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),s.forEach(function(l){if(!(l instanceof ra))throw new La("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Cy.prototype);return a.implicit=(this.implicit||[]).concat(i),a.explicit=(this.explicit||[]).concat(s),a.compiledImplicit=I1(a,"implicit"),a.compiledExplicit=I1(a,"explicit"),a.compiledTypeMap=qF(a.compiledImplicit,a.compiledExplicit),a},"extend");var nX=Cy,oX=new ra("tag:yaml.org,2002:str",{kind:"scalar",construct:q(function(t){return t!==null?t:""},"construct")}),lX=new ra("tag:yaml.org,2002:seq",{kind:"sequence",construct:q(function(t){return t!==null?t:[]},"construct")}),cX=new ra("tag:yaml.org,2002:map",{kind:"mapping",construct:q(function(t){return t!==null?t:{}},"construct")}),hX=new nX({explicit:[oX,lX,cX]});function $F(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}q($F,"resolveYamlNull");function VF(){return null}q(VF,"constructYamlNull");function YF(t){return t===null}q(YF,"isNull");var uX=new ra("tag:yaml.org,2002:null",{kind:"scalar",resolve:$F,construct:VF,predicate:YF,represent:{canonical:q(function(){return"~"},"canonical"),lowercase:q(function(){return"null"},"lowercase"),uppercase:q(function(){return"NULL"},"uppercase"),camelcase:q(function(){return"Null"},"camelcase"),empty:q(function(){return""},"empty")},defaultStyle:"lowercase"});function GF(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}q(GF,"resolveYamlBoolean");function XF(t){return t==="true"||t==="True"||t==="TRUE"}q(XF,"constructYamlBoolean");function KF(t){return Object.prototype.toString.call(t)==="[object Boolean]"}q(KF,"isBoolean");var dX=new ra("tag:yaml.org,2002:bool",{kind:"scalar",resolve:GF,construct:XF,predicate:KF,represent:{lowercase:q(function(t){return t?"true":"false"},"lowercase"),uppercase:q(function(t){return t?"TRUE":"FALSE"},"uppercase"),camelcase:q(function(t){return t?"True":"False"},"camelcase")},defaultStyle:"lowercase"});function ZF(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}q(ZF,"isHexCode");function QF(t){return 48<=t&&t<=55}q(QF,"isOctCode");function JF(t){return 48<=t&&t<=57}q(JF,"isDecCode");function eD(t){if(t===null)return!1;var e=t.length,i=0,s=!1,a;if(!e)return!1;if(a=t[i],(a==="-"||a==="+")&&(a=t[++i]),a==="0"){if(i+1===e)return!0;if(a=t[++i],a==="b"){for(i++;i<e;i++)if(a=t[i],a!=="_"){if(a!=="0"&&a!=="1")return!1;s=!0}return s&&a!=="_"}if(a==="x"){for(i++;i<e;i++)if(a=t[i],a!=="_"){if(!ZF(t.charCodeAt(i)))return!1;s=!0}return s&&a!=="_"}if(a==="o"){for(i++;i<e;i++)if(a=t[i],a!=="_"){if(!QF(t.charCodeAt(i)))return!1;s=!0}return s&&a!=="_"}}if(a==="_")return!1;for(;i<e;i++)if(a=t[i],a!=="_"){if(!JF(t.charCodeAt(i)))return!1;s=!0}return!(!s||a==="_")}q(eD,"resolveYamlInteger");function tD(t){var e=t,i=1,s;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),s=e[0],(s==="-"||s==="+")&&(s==="-"&&(i=-1),e=e.slice(1),s=e[0]),e==="0")return 0;if(s==="0"){if(e[1]==="b")return i*parseInt(e.slice(2),2);if(e[1]==="x")return i*parseInt(e.slice(2),16);if(e[1]==="o")return i*parseInt(e.slice(2),8)}return i*parseInt(e,10)}q(tD,"constructYamlInteger");function iD(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!_s.isNegativeZero(t)}q(iD,"isInteger");var fX=new ra("tag:yaml.org,2002:int",{kind:"scalar",resolve:eD,construct:tD,predicate:iD,represent:{binary:q(function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},"binary"),octal:q(function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},"octal"),decimal:q(function(t){return t.toString(10)},"decimal"),hexadecimal:q(function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)},"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),pX=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rD(t){return!(t===null||!pX.test(t)||t[t.length-1]==="_")}q(rD,"resolveYamlFloat");function sD(t){var e,i;return e=t.replace(/_/g,"").toLowerCase(),i=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?i===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:i*parseFloat(e,10)}q(sD,"constructYamlFloat");var mX=/^[-+]?[0-9]+e/;function aD(t,e){var i;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(_s.isNegativeZero(t))return"-0.0";return i=t.toString(10),mX.test(i)?i.replace("e",".e"):i}q(aD,"representYamlFloat");function nD(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||_s.isNegativeZero(t))}q(nD,"isFloat");var gX=new ra("tag:yaml.org,2002:float",{kind:"scalar",resolve:rD,construct:sD,predicate:nD,represent:aD,defaultStyle:"lowercase"}),oD=hX.extend({implicit:[uX,dX,fX,gX]}),yX=oD,lD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),cD=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function hD(t){return t===null?!1:lD.exec(t)!==null||cD.exec(t)!==null}q(hD,"resolveYamlTimestamp");function uD(t){var e,i,s,a,l,o,h,d=0,m=null,f,b,k;if(e=lD.exec(t),e===null&&(e=cD.exec(t)),e===null)throw new Error("Date resolve error");if(i=+e[1],s=+e[2]-1,a=+e[3],!e[4])return new Date(Date.UTC(i,s,a));if(l=+e[4],o=+e[5],h=+e[6],e[7]){for(d=e[7].slice(0,3);d.length<3;)d+="0";d=+d}return e[9]&&(f=+e[10],b=+(e[11]||0),m=(f*60+b)*6e4,e[9]==="-"&&(m=-m)),k=new Date(Date.UTC(i,s,a,l,o,h,d)),m&&k.setTime(k.getTime()-m),k}q(uD,"constructYamlTimestamp");function dD(t){return t.toISOString()}q(dD,"representYamlTimestamp");var vX=new ra("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:hD,construct:uD,instanceOf:Date,represent:dD});function fD(t){return t==="<<"||t===null}q(fD,"resolveYamlMerge");var bX=new ra("tag:yaml.org,2002:merge",{kind:"scalar",resolve:fD}),Ek=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function pD(t){if(t===null)return!1;var e,i,s=0,a=t.length,l=Ek;for(i=0;i<a;i++)if(e=l.indexOf(t.charAt(i)),!(e>64)){if(e<0)return!1;s+=6}return s%8===0}q(pD,"resolveYamlBinary");function mD(t){var e,i,s=t.replace(/[\r\n=]/g,""),a=s.length,l=Ek,o=0,h=[];for(e=0;e<a;e++)e%4===0&&e&&(h.push(o>>16&255),h.push(o>>8&255),h.push(o&255)),o=o<<6|l.indexOf(s.charAt(e));return i=a%4*6,i===0?(h.push(o>>16&255),h.push(o>>8&255),h.push(o&255)):i===18?(h.push(o>>10&255),h.push(o>>2&255)):i===12&&h.push(o>>4&255),new Uint8Array(h)}q(mD,"constructYamlBinary");function gD(t){var e="",i=0,s,a,l=t.length,o=Ek;for(s=0;s<l;s++)s%3===0&&s&&(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]),i=(i<<8)+t[s];return a=l%3,a===0?(e+=o[i>>18&63],e+=o[i>>12&63],e+=o[i>>6&63],e+=o[i&63]):a===2?(e+=o[i>>10&63],e+=o[i>>4&63],e+=o[i<<2&63],e+=o[64]):a===1&&(e+=o[i>>2&63],e+=o[i<<4&63],e+=o[64],e+=o[64]),e}q(gD,"representYamlBinary");function yD(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}q(yD,"isBinary");var wX=new ra("tag:yaml.org,2002:binary",{kind:"scalar",resolve:pD,construct:mD,predicate:yD,represent:gD}),_X=Object.prototype.hasOwnProperty,xX=Object.prototype.toString;function vD(t){if(t===null)return!0;var e=[],i,s,a,l,o,h=t;for(i=0,s=h.length;i<s;i+=1){if(a=h[i],o=!1,xX.call(a)!=="[object Object]")return!1;for(l in a)if(_X.call(a,l))if(!o)o=!0;else return!1;if(!o)return!1;if(e.indexOf(l)===-1)e.push(l);else return!1}return!0}q(vD,"resolveYamlOmap");function bD(t){return t!==null?t:[]}q(bD,"constructYamlOmap");var kX=new ra("tag:yaml.org,2002:omap",{kind:"sequence",resolve:vD,construct:bD}),SX=Object.prototype.toString;function wD(t){if(t===null)return!0;var e,i,s,a,l,o=t;for(l=new Array(o.length),e=0,i=o.length;e<i;e+=1){if(s=o[e],SX.call(s)!=="[object Object]"||(a=Object.keys(s),a.length!==1))return!1;l[e]=[a[0],s[a[0]]]}return!0}q(wD,"resolveYamlPairs");function _D(t){if(t===null)return[];var e,i,s,a,l,o=t;for(l=new Array(o.length),e=0,i=o.length;e<i;e+=1)s=o[e],a=Object.keys(s),l[e]=[a[0],s[a[0]]];return l}q(_D,"constructYamlPairs");var TX=new ra("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:wD,construct:_D}),CX=Object.prototype.hasOwnProperty;function xD(t){if(t===null)return!0;var e,i=t;for(e in i)if(CX.call(i,e)&&i[e]!==null)return!1;return!0}q(xD,"resolveYamlSet");function kD(t){return t!==null?t:{}}q(kD,"constructYamlSet");var EX=new ra("tag:yaml.org,2002:set",{kind:"mapping",resolve:xD,construct:kD}),SD=yX.extend({implicit:[vX,bX],explicit:[wX,kX,TX,EX]}),Hl=Object.prototype.hasOwnProperty,Ey=1,TD=2,CD=3,Oy=4,K_=1,OX=2,nL=3,AX=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PX=/[\x85\u2028\u2029]/,MX=/[,\[\]\{\}]/,ED=/^(?:!|!!|![a-z\-]+!)$/i,OD=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function B1(t){return Object.prototype.toString.call(t)}q(B1,"_class");function Hn(t){return t===10||t===13}q(Hn,"is_EOL");function Nl(t){return t===9||t===32}q(Nl,"is_WHITE_SPACE");function ya(t){return t===9||t===32||t===10||t===13}q(ya,"is_WS_OR_EOL");function Jc(t){return t===44||t===91||t===93||t===123||t===125}q(Jc,"is_FLOW_INDICATOR");function AD(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}q(AD,"fromHexCode");function PD(t){return t===120?2:t===117?4:t===85?8:0}q(PD,"escapedHexLen");function MD(t){return 48<=t&&t<=57?t-48:-1}q(MD,"fromDecimalCode");function N1(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}q(N1,"simpleEscapeSequence");function LD(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}q(LD,"charFromCodepoint");var RD=new Array(256),FD=new Array(256);for(jc=0;jc<256;jc++)RD[jc]=N1(jc)?1:0,FD[jc]=N1(jc);var jc;function DD(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||SD,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}q(DD,"State$1");function Ok(t,e){var i={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return i.snippet=rX(i),new La(e,i)}q(Ok,"generateError");function fi(t,e){throw Ok(t,e)}q(fi,"throwError");function wp(t,e){t.onWarning&&t.onWarning.call(null,Ok(t,e))}q(wp,"throwWarning");var oL={YAML:q(function(e,i,s){var a,l,o;e.version!==null&&fi(e,"duplication of %YAML directive"),s.length!==1&&fi(e,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(s[0]),a===null&&fi(e,"ill-formed argument of the YAML directive"),l=parseInt(a[1],10),o=parseInt(a[2],10),l!==1&&fi(e,"unacceptable YAML version of the document"),e.version=s[0],e.checkLineBreaks=o<2,o!==1&&o!==2&&wp(e,"unsupported YAML version of the document")},"handleYamlDirective"),TAG:q(function(e,i,s){var a,l;s.length!==2&&fi(e,"TAG directive accepts exactly two arguments"),a=s[0],l=s[1],ED.test(a)||fi(e,"ill-formed tag handle (first argument) of the TAG directive"),Hl.call(e.tagMap,a)&&fi(e,'there is a previously declared suffix for "'+a+'" tag handle'),OD.test(l)||fi(e,"ill-formed tag prefix (second argument) of the TAG directive");try{l=decodeURIComponent(l)}catch{fi(e,"tag prefix is malformed: "+l)}e.tagMap[a]=l},"handleTagDirective")};function nl(t,e,i,s){var a,l,o,h;if(e<i){if(h=t.input.slice(e,i),s)for(a=0,l=h.length;a<l;a+=1)o=h.charCodeAt(a),o===9||32<=o&&o<=1114111||fi(t,"expected valid JSON character");else AX.test(h)&&fi(t,"the stream contains non-printable characters");t.result+=h}}q(nl,"captureSegment");function z1(t,e,i,s){var a,l,o,h;for(_s.isObject(i)||fi(t,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(i),o=0,h=a.length;o<h;o+=1)l=a[o],Hl.call(e,l)||(e[l]=i[l],s[l]=!0)}q(z1,"mergeMappings");function eh(t,e,i,s,a,l,o,h,d){var m,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),m=0,f=a.length;m<f;m+=1)Array.isArray(a[m])&&fi(t,"nested arrays are not supported inside keys"),typeof a=="object"&&B1(a[m])==="[object Object]"&&(a[m]="[object Object]");if(typeof a=="object"&&B1(a)==="[object Object]"&&(a="[object Object]"),a=String(a),e===null&&(e={}),s==="tag:yaml.org,2002:merge")if(Array.isArray(l))for(m=0,f=l.length;m<f;m+=1)z1(t,e,l[m],i);else z1(t,e,l,i);else!t.json&&!Hl.call(i,a)&&Hl.call(e,a)&&(t.line=o||t.line,t.lineStart=h||t.lineStart,t.position=d||t.position,fi(t,"duplicated mapping key")),a==="__proto__"?Object.defineProperty(e,a,{configurable:!0,enumerable:!0,writable:!0,value:l}):e[a]=l,delete i[a];return e}q(eh,"storeMappingPair");function Av(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):fi(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}q(Av,"readLineBreak");function hs(t,e,i){for(var s=0,a=t.input.charCodeAt(t.position);a!==0;){for(;Nl(a);)a===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),a=t.input.charCodeAt(++t.position);if(e&&a===35)do a=t.input.charCodeAt(++t.position);while(a!==10&&a!==13&&a!==0);if(Hn(a))for(Av(t),a=t.input.charCodeAt(t.position),s++,t.lineIndent=0;a===32;)t.lineIndent++,a=t.input.charCodeAt(++t.position);else break}return i!==-1&&s!==0&&t.lineIndent<i&&wp(t,"deficient indentation"),s}q(hs,"skipSeparationSpace");function Vp(t){var e=t.position,i;return i=t.input.charCodeAt(e),!!((i===45||i===46)&&i===t.input.charCodeAt(e+1)&&i===t.input.charCodeAt(e+2)&&(e+=3,i=t.input.charCodeAt(e),i===0||ya(i)))}q(Vp,"testDocumentSeparator");function Pv(t,e){e===1?t.result+=" ":e>1&&(t.result+=_s.repeat(`
`,e-1))}q(Pv,"writeFoldedLines");function ID(t,e,i){var s,a,l,o,h,d,m,f,b=t.kind,k=t.result,w;if(w=t.input.charCodeAt(t.position),ya(w)||Jc(w)||w===35||w===38||w===42||w===33||w===124||w===62||w===39||w===34||w===37||w===64||w===96||(w===63||w===45)&&(a=t.input.charCodeAt(t.position+1),ya(a)||i&&Jc(a)))return!1;for(t.kind="scalar",t.result="",l=o=t.position,h=!1;w!==0;){if(w===58){if(a=t.input.charCodeAt(t.position+1),ya(a)||i&&Jc(a))break}else if(w===35){if(s=t.input.charCodeAt(t.position-1),ya(s))break}else{if(t.position===t.lineStart&&Vp(t)||i&&Jc(w))break;if(Hn(w))if(d=t.line,m=t.lineStart,f=t.lineIndent,hs(t,!1,-1),t.lineIndent>=e){h=!0,w=t.input.charCodeAt(t.position);continue}else{t.position=o,t.line=d,t.lineStart=m,t.lineIndent=f;break}}h&&(nl(t,l,o,!1),Pv(t,t.line-d),l=o=t.position,h=!1),Nl(w)||(o=t.position+1),w=t.input.charCodeAt(++t.position)}return nl(t,l,o,!1),t.result?!0:(t.kind=b,t.result=k,!1)}q(ID,"readPlainScalar");function BD(t,e){var i,s,a;if(i=t.input.charCodeAt(t.position),i!==39)return!1;for(t.kind="scalar",t.result="",t.position++,s=a=t.position;(i=t.input.charCodeAt(t.position))!==0;)if(i===39)if(nl(t,s,t.position,!0),i=t.input.charCodeAt(++t.position),i===39)s=t.position,t.position++,a=t.position;else return!0;else Hn(i)?(nl(t,s,a,!0),Pv(t,hs(t,!1,e)),s=a=t.position):t.position===t.lineStart&&Vp(t)?fi(t,"unexpected end of the document within a single quoted scalar"):(t.position++,a=t.position);fi(t,"unexpected end of the stream within a single quoted scalar")}q(BD,"readSingleQuotedScalar");function ND(t,e){var i,s,a,l,o,h;if(h=t.input.charCodeAt(t.position),h!==34)return!1;for(t.kind="scalar",t.result="",t.position++,i=s=t.position;(h=t.input.charCodeAt(t.position))!==0;){if(h===34)return nl(t,i,t.position,!0),t.position++,!0;if(h===92){if(nl(t,i,t.position,!0),h=t.input.charCodeAt(++t.position),Hn(h))hs(t,!1,e);else if(h<256&&RD[h])t.result+=FD[h],t.position++;else if((o=PD(h))>0){for(a=o,l=0;a>0;a--)h=t.input.charCodeAt(++t.position),(o=AD(h))>=0?l=(l<<4)+o:fi(t,"expected hexadecimal character");t.result+=LD(l),t.position++}else fi(t,"unknown escape sequence");i=s=t.position}else Hn(h)?(nl(t,i,s,!0),Pv(t,hs(t,!1,e)),i=s=t.position):t.position===t.lineStart&&Vp(t)?fi(t,"unexpected end of the document within a double quoted scalar"):(t.position++,s=t.position)}fi(t,"unexpected end of the stream within a double quoted scalar")}q(ND,"readDoubleQuotedScalar");function zD(t,e){var i=!0,s,a,l,o=t.tag,h,d=t.anchor,m,f,b,k,w,E=Object.create(null),P,L,R,u;if(u=t.input.charCodeAt(t.position),u===91)f=93,w=!1,h=[];else if(u===123)f=125,w=!0,h={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),u=t.input.charCodeAt(++t.position);u!==0;){if(hs(t,!0,e),u=t.input.charCodeAt(t.position),u===f)return t.position++,t.tag=o,t.anchor=d,t.kind=w?"mapping":"sequence",t.result=h,!0;i?u===44&&fi(t,"expected the node content, but found ','"):fi(t,"missed comma between flow collection entries"),L=P=R=null,b=k=!1,u===63&&(m=t.input.charCodeAt(t.position+1),ya(m)&&(b=k=!0,t.position++,hs(t,!0,e))),s=t.line,a=t.lineStart,l=t.position,mh(t,e,Ey,!1,!0),L=t.tag,P=t.result,hs(t,!0,e),u=t.input.charCodeAt(t.position),(k||t.line===s)&&u===58&&(b=!0,u=t.input.charCodeAt(++t.position),hs(t,!0,e),mh(t,e,Ey,!1,!0),R=t.result),w?eh(t,h,E,L,P,R,s,a,l):b?h.push(eh(t,null,E,L,P,R,s,a,l)):h.push(P),hs(t,!0,e),u=t.input.charCodeAt(t.position),u===44?(i=!0,u=t.input.charCodeAt(++t.position)):i=!1}fi(t,"unexpected end of the stream within a flow collection")}q(zD,"readFlowCollection");function UD(t,e){var i,s,a=K_,l=!1,o=!1,h=e,d=0,m=!1,f,b;if(b=t.input.charCodeAt(t.position),b===124)s=!1;else if(b===62)s=!0;else return!1;for(t.kind="scalar",t.result="";b!==0;)if(b=t.input.charCodeAt(++t.position),b===43||b===45)K_===a?a=b===43?nL:OX:fi(t,"repeat of a chomping mode identifier");else if((f=MD(b))>=0)f===0?fi(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?fi(t,"repeat of an indentation width identifier"):(h=e+f-1,o=!0);else break;if(Nl(b)){do b=t.input.charCodeAt(++t.position);while(Nl(b));if(b===35)do b=t.input.charCodeAt(++t.position);while(!Hn(b)&&b!==0)}for(;b!==0;){for(Av(t),t.lineIndent=0,b=t.input.charCodeAt(t.position);(!o||t.lineIndent<h)&&b===32;)t.lineIndent++,b=t.input.charCodeAt(++t.position);if(!o&&t.lineIndent>h&&(h=t.lineIndent),Hn(b)){d++;continue}if(t.lineIndent<h){a===nL?t.result+=_s.repeat(`
`,l?1+d:d):a===K_&&l&&(t.result+=`
`);break}for(s?Nl(b)?(m=!0,t.result+=_s.repeat(`
`,l?1+d:d)):m?(m=!1,t.result+=_s.repeat(`
`,d+1)):d===0?l&&(t.result+=" "):t.result+=_s.repeat(`
`,d):t.result+=_s.repeat(`
`,l?1+d:d),l=!0,o=!0,d=0,i=t.position;!Hn(b)&&b!==0;)b=t.input.charCodeAt(++t.position);nl(t,i,t.position,!1)}return!0}q(UD,"readBlockScalar");function U1(t,e){var i,s=t.tag,a=t.anchor,l=[],o,h=!1,d;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=l),d=t.input.charCodeAt(t.position);d!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,fi(t,"tab characters must not be used in indentation")),!(d!==45||(o=t.input.charCodeAt(t.position+1),!ya(o))));){if(h=!0,t.position++,hs(t,!0,-1)&&t.lineIndent<=e){l.push(null),d=t.input.charCodeAt(t.position);continue}if(i=t.line,mh(t,e,CD,!1,!0),l.push(t.result),hs(t,!0,-1),d=t.input.charCodeAt(t.position),(t.line===i||t.lineIndent>e)&&d!==0)fi(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return h?(t.tag=s,t.anchor=a,t.kind="sequence",t.result=l,!0):!1}q(U1,"readBlockSequence");function HD(t,e,i){var s,a,l,o,h,d,m=t.tag,f=t.anchor,b={},k=Object.create(null),w=null,E=null,P=null,L=!1,R=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=b),u=t.input.charCodeAt(t.position);u!==0;){if(!L&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,fi(t,"tab characters must not be used in indentation")),s=t.input.charCodeAt(t.position+1),l=t.line,(u===63||u===58)&&ya(s))u===63?(L&&(eh(t,b,k,w,E,null,o,h,d),w=E=P=null),R=!0,L=!0,a=!0):L?(L=!1,a=!0):fi(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=s;else{if(o=t.line,h=t.lineStart,d=t.position,!mh(t,i,TD,!1,!0))break;if(t.line===l){for(u=t.input.charCodeAt(t.position);Nl(u);)u=t.input.charCodeAt(++t.position);if(u===58)u=t.input.charCodeAt(++t.position),ya(u)||fi(t,"a whitespace character is expected after the key-value separator within a block mapping"),L&&(eh(t,b,k,w,E,null,o,h,d),w=E=P=null),R=!0,L=!1,a=!1,w=t.tag,E=t.result;else if(R)fi(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=m,t.anchor=f,!0}else if(R)fi(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=m,t.anchor=f,!0}if((t.line===l||t.lineIndent>e)&&(L&&(o=t.line,h=t.lineStart,d=t.position),mh(t,e,Oy,!0,a)&&(L?E=t.result:P=t.result),L||(eh(t,b,k,w,E,P,o,h,d),w=E=P=null),hs(t,!0,-1),u=t.input.charCodeAt(t.position)),(t.line===l||t.lineIndent>e)&&u!==0)fi(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return L&&eh(t,b,k,w,E,null,o,h,d),R&&(t.tag=m,t.anchor=f,t.kind="mapping",t.result=b),R}q(HD,"readBlockMapping");function WD(t){var e,i=!1,s=!1,a,l,o;if(o=t.input.charCodeAt(t.position),o!==33)return!1;if(t.tag!==null&&fi(t,"duplication of a tag property"),o=t.input.charCodeAt(++t.position),o===60?(i=!0,o=t.input.charCodeAt(++t.position)):o===33?(s=!0,a="!!",o=t.input.charCodeAt(++t.position)):a="!",e=t.position,i){do o=t.input.charCodeAt(++t.position);while(o!==0&&o!==62);t.position<t.length?(l=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):fi(t,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!ya(o);)o===33&&(s?fi(t,"tag suffix cannot contain exclamation marks"):(a=t.input.slice(e-1,t.position+1),ED.test(a)||fi(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);l=t.input.slice(e,t.position),MX.test(l)&&fi(t,"tag suffix cannot contain flow indicator characters")}l&&!OD.test(l)&&fi(t,"tag name cannot contain such characters: "+l);try{l=decodeURIComponent(l)}catch{fi(t,"tag name is malformed: "+l)}return i?t.tag=l:Hl.call(t.tagMap,a)?t.tag=t.tagMap[a]+l:a==="!"?t.tag="!"+l:a==="!!"?t.tag="tag:yaml.org,2002:"+l:fi(t,'undeclared tag handle "'+a+'"'),!0}q(WD,"readTagProperty");function jD(t){var e,i;if(i=t.input.charCodeAt(t.position),i!==38)return!1;for(t.anchor!==null&&fi(t,"duplication of an anchor property"),i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!ya(i)&&!Jc(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&fi(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}q(jD,"readAnchorProperty");function qD(t){var e,i,s;if(s=t.input.charCodeAt(t.position),s!==42)return!1;for(s=t.input.charCodeAt(++t.position),e=t.position;s!==0&&!ya(s)&&!Jc(s);)s=t.input.charCodeAt(++t.position);return t.position===e&&fi(t,"name of an alias node must contain at least one character"),i=t.input.slice(e,t.position),Hl.call(t.anchorMap,i)||fi(t,'unidentified alias "'+i+'"'),t.result=t.anchorMap[i],hs(t,!0,-1),!0}q(qD,"readAlias");function mh(t,e,i,s,a){var l,o,h,d=1,m=!1,f=!1,b,k,w,E,P,L;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,l=o=h=Oy===i||CD===i,s&&hs(t,!0,-1)&&(m=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),d===1)for(;WD(t)||jD(t);)hs(t,!0,-1)?(m=!0,h=l,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):h=!1;if(h&&(h=m||a),(d===1||Oy===i)&&(Ey===i||TD===i?P=e:P=e+1,L=t.position-t.lineStart,d===1?h&&(U1(t,L)||HD(t,L,P))||zD(t,P)?f=!0:(o&&UD(t,P)||BD(t,P)||ND(t,P)?f=!0:qD(t)?(f=!0,(t.tag!==null||t.anchor!==null)&&fi(t,"alias node should not have any properties")):ID(t,P,Ey===i)&&(f=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):d===0&&(f=h&&U1(t,L))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&fi(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),b=0,k=t.implicitTypes.length;b<k;b+=1)if(E=t.implicitTypes[b],E.resolve(t.result)){t.result=E.construct(t.result),t.tag=E.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Hl.call(t.typeMap[t.kind||"fallback"],t.tag))E=t.typeMap[t.kind||"fallback"][t.tag];else for(E=null,w=t.typeMap.multi[t.kind||"fallback"],b=0,k=w.length;b<k;b+=1)if(t.tag.slice(0,w[b].tag.length)===w[b].tag){E=w[b];break}E||fi(t,"unknown tag !<"+t.tag+">"),t.result!==null&&E.kind!==t.kind&&fi(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+E.kind+'", not "'+t.kind+'"'),E.resolve(t.result,t.tag)?(t.result=E.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):fi(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||f}q(mh,"composeNode");function $D(t){var e=t.position,i,s,a,l=!1,o;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(o=t.input.charCodeAt(t.position))!==0&&(hs(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||o!==37));){for(l=!0,o=t.input.charCodeAt(++t.position),i=t.position;o!==0&&!ya(o);)o=t.input.charCodeAt(++t.position);for(s=t.input.slice(i,t.position),a=[],s.length<1&&fi(t,"directive name must not be less than one character in length");o!==0;){for(;Nl(o);)o=t.input.charCodeAt(++t.position);if(o===35){do o=t.input.charCodeAt(++t.position);while(o!==0&&!Hn(o));break}if(Hn(o))break;for(i=t.position;o!==0&&!ya(o);)o=t.input.charCodeAt(++t.position);a.push(t.input.slice(i,t.position))}o!==0&&Av(t),Hl.call(oL,s)?oL[s](t,s,a):wp(t,'unknown document directive "'+s+'"')}if(hs(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,hs(t,!0,-1)):l&&fi(t,"directives end mark is expected"),mh(t,t.lineIndent-1,Oy,!1,!0),hs(t,!0,-1),t.checkLineBreaks&&PX.test(t.input.slice(e,t.position))&&wp(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Vp(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,hs(t,!0,-1));return}if(t.position<t.length-1)fi(t,"end of the stream or a document separator is expected");else return}q($D,"readDocument");function Ak(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var i=new DD(t,e),s=t.indexOf("\0");for(s!==-1&&(i.position=s,fi(i,"null byte is not allowed in input")),i.input+="\0";i.input.charCodeAt(i.position)===32;)i.lineIndent+=1,i.position+=1;for(;i.position<i.length-1;)$D(i);return i.documents}q(Ak,"loadDocuments");function LX(t,e,i){e!==null&&typeof e=="object"&&typeof i>"u"&&(i=e,e=null);var s=Ak(t,i);if(typeof e!="function")return s;for(var a=0,l=s.length;a<l;a+=1)e(s[a])}q(LX,"loadAll$1");function VD(t,e){var i=Ak(t,e);if(i.length!==0){if(i.length===1)return i[0];throw new La("expected a single document in the stream, but found more")}}q(VD,"load$1");var RX=VD,FX={load:RX},YD=Object.prototype.toString,GD=Object.prototype.hasOwnProperty,Pk=65279,DX=9,_p=10,IX=13,BX=32,NX=33,zX=34,H1=35,UX=37,HX=38,WX=39,jX=42,XD=44,qX=45,Ay=58,$X=61,VX=62,YX=63,GX=64,KD=91,ZD=93,XX=96,QD=123,KX=124,JD=125,sa={};sa[0]="\\0";sa[7]="\\a";sa[8]="\\b";sa[9]="\\t";sa[10]="\\n";sa[11]="\\v";sa[12]="\\f";sa[13]="\\r";sa[27]="\\e";sa[34]='\\"';sa[92]="\\\\";sa[133]="\\N";sa[160]="\\_";sa[8232]="\\L";sa[8233]="\\P";var ZX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],QX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function e5(t,e){var i,s,a,l,o,h,d;if(e===null)return{};for(i={},s=Object.keys(e),a=0,l=s.length;a<l;a+=1)o=s[a],h=String(e[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),d=t.compiledTypeMap.fallback[o],d&&GD.call(d.styleAliases,h)&&(h=d.styleAliases[h]),i[o]=h;return i}q(e5,"compileStyleMap");function t5(t){var e,i,s;if(e=t.toString(16).toUpperCase(),t<=255)i="x",s=2;else if(t<=65535)i="u",s=4;else if(t<=4294967295)i="U",s=8;else throw new La("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+i+_s.repeat("0",s-e.length)+e}q(t5,"encodeHex");var JX=1,xp=2;function i5(t){this.schema=t.schema||SD,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=_s.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=e5(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?xp:JX,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}q(i5,"State");function W1(t,e){for(var i=_s.repeat(" ",e),s=0,a=-1,l="",o,h=t.length;s<h;)a=t.indexOf(`
`,s),a===-1?(o=t.slice(s),s=h):(o=t.slice(s,a+1),s=a+1),o.length&&o!==`
`&&(l+=i),l+=o;return l}q(W1,"indentString");function Py(t,e){return`
`+_s.repeat(" ",t.indent*e)}q(Py,"generateNextLine");function r5(t,e){var i,s,a;for(i=0,s=t.implicitTypes.length;i<s;i+=1)if(a=t.implicitTypes[i],a.resolve(e))return!0;return!1}q(r5,"testImplicitResolving");function kp(t){return t===BX||t===DX}q(kp,"isWhitespace");function Hu(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==Pk||65536<=t&&t<=1114111}q(Hu,"isPrintable");function j1(t){return Hu(t)&&t!==Pk&&t!==IX&&t!==_p}q(j1,"isNsCharOrWhitespace");function q1(t,e,i){var s=j1(t),a=s&&!kp(t);return(i?s:s&&t!==XD&&t!==KD&&t!==ZD&&t!==QD&&t!==JD)&&t!==H1&&!(e===Ay&&!a)||j1(e)&&!kp(e)&&t===H1||e===Ay&&a}q(q1,"isPlainSafe");function s5(t){return Hu(t)&&t!==Pk&&!kp(t)&&t!==qX&&t!==YX&&t!==Ay&&t!==XD&&t!==KD&&t!==ZD&&t!==QD&&t!==JD&&t!==H1&&t!==HX&&t!==jX&&t!==NX&&t!==KX&&t!==$X&&t!==VX&&t!==WX&&t!==zX&&t!==UX&&t!==GX&&t!==XX}q(s5,"isPlainSafeFirst");function a5(t){return!kp(t)&&t!==Ay}q(a5,"isPlainSafeLast");function cu(t,e){var i=t.charCodeAt(e),s;return i>=55296&&i<=56319&&e+1<t.length&&(s=t.charCodeAt(e+1),s>=56320&&s<=57343)?(i-55296)*1024+s-56320+65536:i}q(cu,"codePointAt");function Mk(t){var e=/^\n* /;return e.test(t)}q(Mk,"needIndentIndicator");var n5=1,$1=2,o5=3,l5=4,nu=5;function c5(t,e,i,s,a,l,o,h){var d,m=0,f=null,b=!1,k=!1,w=s!==-1,E=-1,P=s5(cu(t,0))&&a5(cu(t,t.length-1));if(e||o)for(d=0;d<t.length;m>=65536?d+=2:d++){if(m=cu(t,d),!Hu(m))return nu;P=P&&q1(m,f,h),f=m}else{for(d=0;d<t.length;m>=65536?d+=2:d++){if(m=cu(t,d),m===_p)b=!0,w&&(k=k||d-E-1>s&&t[E+1]!==" ",E=d);else if(!Hu(m))return nu;P=P&&q1(m,f,h),f=m}k=k||w&&d-E-1>s&&t[E+1]!==" "}return!b&&!k?P&&!o&&!a(t)?n5:l===xp?nu:$1:i>9&&Mk(t)?nu:o?l===xp?nu:$1:k?l5:o5}q(c5,"chooseScalarStyle");function h5(t,e,i,s,a){t.dump=function(){if(e.length===0)return t.quotingType===xp?'""':"''";if(!t.noCompatMode&&(ZX.indexOf(e)!==-1||QX.test(e)))return t.quotingType===xp?'"'+e+'"':"'"+e+"'";var l=t.indent*Math.max(1,i),o=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-l),h=s||t.flowLevel>-1&&i>=t.flowLevel;function d(m){return r5(t,m)}switch(q(d,"testAmbiguity"),c5(e,h,t.indent,o,d,t.quotingType,t.forceQuotes&&!s,a)){case n5:return e;case $1:return"'"+e.replace(/'/g,"''")+"'";case o5:return"|"+V1(e,t.indent)+Y1(W1(e,l));case l5:return">"+V1(e,t.indent)+Y1(W1(u5(e,o),l));case nu:return'"'+d5(e)+'"';default:throw new La("impossible error: invalid scalar style")}}()}q(h5,"writeScalar");function V1(t,e){var i=Mk(t)?String(e):"",s=t[t.length-1]===`
`,a=s&&(t[t.length-2]===`
`||t===`
`),l=a?"+":s?"":"-";return i+l+`
`}q(V1,"blockHeader");function Y1(t){return t[t.length-1]===`
`?t.slice(0,-1):t}q(Y1,"dropEndingNewline");function u5(t,e){for(var i=/(\n+)([^\n]*)/g,s=function(){var m=t.indexOf(`
`);return m=m!==-1?m:t.length,i.lastIndex=m,G1(t.slice(0,m),e)}(),a=t[0]===`
`||t[0]===" ",l,o;o=i.exec(t);){var h=o[1],d=o[2];l=d[0]===" ",s+=h+(!a&&!l&&d!==""?`
`:"")+G1(d,e),a=l}return s}q(u5,"foldString");function G1(t,e){if(t===""||t[0]===" ")return t;for(var i=/ [^ ]/g,s,a=0,l,o=0,h=0,d="";s=i.exec(t);)h=s.index,h-a>e&&(l=o>a?o:h,d+=`
`+t.slice(a,l),a=l+1),o=h;return d+=`
`,t.length-a>e&&o>a?d+=t.slice(a,o)+`
`+t.slice(o+1):d+=t.slice(a),d.slice(1)}q(G1,"foldLine");function d5(t){for(var e="",i=0,s,a=0;a<t.length;i>=65536?a+=2:a++)i=cu(t,a),s=sa[i],!s&&Hu(i)?(e+=t[a],i>=65536&&(e+=t[a+1])):e+=s||t5(i);return e}q(d5,"escapeString");function f5(t,e,i){var s="",a=t.tag,l,o,h;for(l=0,o=i.length;l<o;l+=1)h=i[l],t.replacer&&(h=t.replacer.call(i,String(l),h)),(bo(t,e,h,!1,!1)||typeof h>"u"&&bo(t,e,null,!1,!1))&&(s!==""&&(s+=","+(t.condenseFlow?"":" ")),s+=t.dump);t.tag=a,t.dump="["+s+"]"}q(f5,"writeFlowSequence");function X1(t,e,i,s){var a="",l=t.tag,o,h,d;for(o=0,h=i.length;o<h;o+=1)d=i[o],t.replacer&&(d=t.replacer.call(i,String(o),d)),(bo(t,e+1,d,!0,!0,!1,!0)||typeof d>"u"&&bo(t,e+1,null,!0,!0,!1,!0))&&((!s||a!=="")&&(a+=Py(t,e)),t.dump&&_p===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=l,t.dump=a||"[]"}q(X1,"writeBlockSequence");function p5(t,e,i){var s="",a=t.tag,l=Object.keys(i),o,h,d,m,f;for(o=0,h=l.length;o<h;o+=1)f="",s!==""&&(f+=", "),t.condenseFlow&&(f+='"'),d=l[o],m=i[d],t.replacer&&(m=t.replacer.call(i,d,m)),bo(t,e,d,!1,!1)&&(t.dump.length>1024&&(f+="? "),f+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),bo(t,e,m,!1,!1)&&(f+=t.dump,s+=f));t.tag=a,t.dump="{"+s+"}"}q(p5,"writeFlowMapping");function m5(t,e,i,s){var a="",l=t.tag,o=Object.keys(i),h,d,m,f,b,k;if(t.sortKeys===!0)o.sort();else if(typeof t.sortKeys=="function")o.sort(t.sortKeys);else if(t.sortKeys)throw new La("sortKeys must be a boolean or a function");for(h=0,d=o.length;h<d;h+=1)k="",(!s||a!=="")&&(k+=Py(t,e)),m=o[h],f=i[m],t.replacer&&(f=t.replacer.call(i,m,f)),bo(t,e+1,m,!0,!0,!0)&&(b=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,b&&(t.dump&&_p===t.dump.charCodeAt(0)?k+="?":k+="? "),k+=t.dump,b&&(k+=Py(t,e)),bo(t,e+1,f,!0,b)&&(t.dump&&_p===t.dump.charCodeAt(0)?k+=":":k+=": ",k+=t.dump,a+=k));t.tag=l,t.dump=a||"{}"}q(m5,"writeBlockMapping");function K1(t,e,i){var s,a,l,o,h,d;for(a=i?t.explicitTypes:t.implicitTypes,l=0,o=a.length;l<o;l+=1)if(h=a[l],(h.instanceOf||h.predicate)&&(!h.instanceOf||typeof e=="object"&&e instanceof h.instanceOf)&&(!h.predicate||h.predicate(e))){if(i?h.multi&&h.representName?t.tag=h.representName(e):t.tag=h.tag:t.tag="?",h.represent){if(d=t.styleMap[h.tag]||h.defaultStyle,YD.call(h.represent)==="[object Function]")s=h.represent(e,d);else if(GD.call(h.represent,d))s=h.represent[d](e,d);else throw new La("!<"+h.tag+'> tag resolver accepts not "'+d+'" style');t.dump=s}return!0}return!1}q(K1,"detectType");function bo(t,e,i,s,a,l,o){t.tag=null,t.dump=i,K1(t,i,!1)||K1(t,i,!0);var h=YD.call(t.dump),d=s,m;s&&(s=t.flowLevel<0||t.flowLevel>e);var f=h==="[object Object]"||h==="[object Array]",b,k;if(f&&(b=t.duplicates.indexOf(i),k=b!==-1),(t.tag!==null&&t.tag!=="?"||k||t.indent!==2&&e>0)&&(a=!1),k&&t.usedDuplicates[b])t.dump="*ref_"+b;else{if(f&&k&&!t.usedDuplicates[b]&&(t.usedDuplicates[b]=!0),h==="[object Object]")s&&Object.keys(t.dump).length!==0?(m5(t,e,t.dump,a),k&&(t.dump="&ref_"+b+t.dump)):(p5(t,e,t.dump),k&&(t.dump="&ref_"+b+" "+t.dump));else if(h==="[object Array]")s&&t.dump.length!==0?(t.noArrayIndent&&!o&&e>0?X1(t,e-1,t.dump,a):X1(t,e,t.dump,a),k&&(t.dump="&ref_"+b+t.dump)):(f5(t,e,t.dump),k&&(t.dump="&ref_"+b+" "+t.dump));else if(h==="[object String]")t.tag!=="?"&&h5(t,t.dump,e,l,d);else{if(h==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new La("unacceptable kind of an object to dump "+h)}t.tag!==null&&t.tag!=="?"&&(m=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?m="!"+m:m.slice(0,18)==="tag:yaml.org,2002:"?m="!!"+m.slice(18):m="!<"+m+">",t.dump=m+" "+t.dump)}return!0}q(bo,"writeNode");function g5(t,e){var i=[],s=[],a,l;for(My(t,i,s),a=0,l=s.length;a<l;a+=1)e.duplicates.push(i[s[a]]);e.usedDuplicates=new Array(l)}q(g5,"getDuplicateReferences");function My(t,e,i){var s,a,l;if(t!==null&&typeof t=="object")if(a=e.indexOf(t),a!==-1)i.indexOf(a)===-1&&i.push(a);else if(e.push(t),Array.isArray(t))for(a=0,l=t.length;a<l;a+=1)My(t[a],e,i);else for(s=Object.keys(t),a=0,l=s.length;a<l;a+=1)My(t[s[a]],e,i)}q(My,"inspectNode");function eK(t,e){e=e||{};var i=new i5(e);i.noRefs||g5(t,i);var s=t;return i.replacer&&(s=i.replacer.call({"":s},"",s)),bo(i,0,s,!0,!0)?i.dump+`
`:""}q(eK,"dump$1");function tK(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}q(tK,"renamed");var iK=oD,rK=FX.load;/*! Bundled license information:

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/var cn={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function $f(t,e){if(t===void 0||e===void 0)return{angle:0,deltaX:0,deltaY:0};t=Yr(t),e=Yr(e);const[i,s]=[t.x,t.y],[a,l]=[e.x,e.y],o=a-i,h=l-s;return{angle:Math.atan(h/o),deltaX:o,deltaY:h}}q($f,"calculateDeltaAndAngle");var Yr=q(t=>Array.isArray(t)?{x:t[0],y:t[1]}:t,"pointTransformer"),sK=q(t=>({x:q(function(e,i,s){let a=0;const l=Yr(s[0]).x<Yr(s[s.length-1]).x?"left":"right";if(i===0&&Object.hasOwn(cn,t.arrowTypeStart)){const{angle:w,deltaX:E}=$f(s[0],s[1]);a=cn[t.arrowTypeStart]*Math.cos(w)*(E>=0?1:-1)}else if(i===s.length-1&&Object.hasOwn(cn,t.arrowTypeEnd)){const{angle:w,deltaX:E}=$f(s[s.length-1],s[s.length-2]);a=cn[t.arrowTypeEnd]*Math.cos(w)*(E>=0?1:-1)}const o=Math.abs(Yr(e).x-Yr(s[s.length-1]).x),h=Math.abs(Yr(e).y-Yr(s[s.length-1]).y),d=Math.abs(Yr(e).x-Yr(s[0]).x),m=Math.abs(Yr(e).y-Yr(s[0]).y),f=cn[t.arrowTypeStart],b=cn[t.arrowTypeEnd],k=1;if(o<b&&o>0&&h<b){let w=b+k-o;w*=l==="right"?-1:1,a-=w}if(d<f&&d>0&&m<f){let w=f+k-d;w*=l==="right"?-1:1,a+=w}return Yr(e).x+a},"x"),y:q(function(e,i,s){let a=0;const l=Yr(s[0]).y<Yr(s[s.length-1]).y?"down":"up";if(i===0&&Object.hasOwn(cn,t.arrowTypeStart)){const{angle:w,deltaY:E}=$f(s[0],s[1]);a=cn[t.arrowTypeStart]*Math.abs(Math.sin(w))*(E>=0?1:-1)}else if(i===s.length-1&&Object.hasOwn(cn,t.arrowTypeEnd)){const{angle:w,deltaY:E}=$f(s[s.length-1],s[s.length-2]);a=cn[t.arrowTypeEnd]*Math.abs(Math.sin(w))*(E>=0?1:-1)}const o=Math.abs(Yr(e).y-Yr(s[s.length-1]).y),h=Math.abs(Yr(e).x-Yr(s[s.length-1]).x),d=Math.abs(Yr(e).y-Yr(s[0]).y),m=Math.abs(Yr(e).x-Yr(s[0]).x),f=cn[t.arrowTypeStart],b=cn[t.arrowTypeEnd],k=1;if(o<b&&o>0&&h<b){let w=b+k-o;w*=l==="up"?-1:1,a-=w}if(d<f&&d>0&&m<f){let w=f+k-d;w*=l==="up"?-1:1,a+=w}return Yr(e).y+a},"y")}),"getLineFunctionsWithOffset"),Lk=q(({flowchart:t})=>{var a,l;const e=((a=t==null?void 0:t.subGraphTitleMargin)==null?void 0:a.top)??0,i=((l=t==null?void 0:t.subGraphTitleMargin)==null?void 0:l.bottom)??0,s=e+i;return{subGraphTitleTopMargin:e,subGraphTitleBottomMargin:i,subGraphTitleTotalMargin:s}},"getSubGraphTitleMargins"),aK=q(t=>{const{handDrawnSeed:e}=fr();return{fill:t,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:t,seed:e}},"solidStateFill"),Qu=q(t=>{const e=nK([...t.cssCompiledStyles||[],...t.cssStyles||[]]);return{stylesMap:e,stylesArray:[...e]}},"compileStyles"),nK=q(t=>{const e=new Map;return t.forEach(i=>{const[s,a]=i.split(":");e.set(s.trim(),a==null?void 0:a.trim())}),e},"styles2Map"),y5=q(t=>t==="color"||t==="font-size"||t==="font-family"||t==="font-weight"||t==="font-style"||t==="text-decoration"||t==="text-align"||t==="text-transform"||t==="line-height"||t==="letter-spacing"||t==="word-spacing"||t==="text-shadow"||t==="text-overflow"||t==="white-space"||t==="word-wrap"||t==="word-break"||t==="overflow-wrap"||t==="hyphens","isLabelStyle"),ci=q(t=>{const{stylesArray:e}=Qu(t),i=[],s=[],a=[],l=[];return e.forEach(o=>{const h=o[0];y5(h)?i.push(o.join(":")+" !important"):(s.push(o.join(":")+" !important"),h.includes("stroke")&&a.push(o.join(":")+" !important"),h==="fill"&&l.push(o.join(":")+" !important"))}),{labelStyles:i.join(";"),nodeStyles:s.join(";"),stylesArray:e,borderStyles:a,backgroundStyles:l}},"styles2String"),si=q((t,e)=>{var d;const{themeVariables:i,handDrawnSeed:s}=fr(),{nodeBorder:a,mainBkg:l}=i,{stylesMap:o}=Qu(t);return Object.assign({roughness:.7,fill:o.get("fill")||l,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:o.get("stroke")||a,seed:s,strokeWidth:((d=o.get("stroke-width"))==null?void 0:d.replace("px",""))||1.3,fillLineDash:[0,0],strokeLineDash:oK(o.get("stroke-dasharray"))},e)},"userNodeOverrides"),oK=q(t=>{if(!t)return[0,0];const e=t.trim().split(/\s+/).map(Number);if(e.length===1){const a=isNaN(e[0])?0:e[0];return[a,a]}const i=isNaN(e[0])?0:e[0],s=isNaN(e[1])?0:e[1];return[i,s]},"getStrokeDashArray"),Rk={},Ms={};Object.defineProperty(Ms,"__esModule",{value:!0});Ms.BLANK_URL=Ms.relativeFirstCharacters=Ms.whitespaceEscapeCharsRegex=Ms.urlSchemeRegex=Ms.ctrlCharactersRegex=Ms.htmlCtrlEntityRegex=Ms.htmlEntitiesRegex=Ms.invalidProtocolRegex=void 0;Ms.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im;Ms.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g;Ms.htmlCtrlEntityRegex=/&(newline|tab);/gi;Ms.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim;Ms.urlSchemeRegex=/^.+(:|&colon;)/gim;Ms.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g;Ms.relativeFirstCharacters=[".","/"];Ms.BLANK_URL="about:blank";Object.defineProperty(Rk,"__esModule",{value:!0});var v5=Rk.sanitizeUrl=void 0,Qs=Ms;function lK(t){return Qs.relativeFirstCharacters.indexOf(t[0])>-1}function cK(t){var e=t.replace(Qs.ctrlCharactersRegex,"");return e.replace(Qs.htmlEntitiesRegex,function(i,s){return String.fromCharCode(s)})}function hK(t){return URL.canParse(t)}function lL(t){try{return decodeURIComponent(t)}catch{return t}}function uK(t){if(!t)return Qs.BLANK_URL;var e,i=lL(t.trim());do i=cK(i).replace(Qs.htmlCtrlEntityRegex,"").replace(Qs.ctrlCharactersRegex,"").replace(Qs.whitespaceEscapeCharsRegex,"").trim(),i=lL(i),e=i.match(Qs.ctrlCharactersRegex)||i.match(Qs.htmlEntitiesRegex)||i.match(Qs.htmlCtrlEntityRegex)||i.match(Qs.whitespaceEscapeCharsRegex);while(e&&e.length>0);var s=i;if(!s)return Qs.BLANK_URL;if(lK(s))return s;var a=s.trimStart(),l=a.match(Qs.urlSchemeRegex);if(!l)return s;var o=l[0].toLowerCase().trim();if(Qs.invalidProtocolRegex.test(o))return Qs.BLANK_URL;var h=a.replace(/\\/g,"/");if(o==="mailto:"||o.includes("://"))return h;if(o==="http:"||o==="https:"){if(!hK(h))return Qs.BLANK_URL;var d=new URL(h);return d.protocol=d.protocol.toLowerCase(),d.hostname=d.hostname.toLowerCase(),d.toString()}return h}v5=Rk.sanitizeUrl=uK;var dK={value:()=>{}};function b5(){for(var t=0,e=arguments.length,i={},s;t<e;++t){if(!(s=arguments[t]+"")||s in i||/[\s.]/.test(s))throw new Error("illegal type: "+s);i[s]=[]}return new ey(i)}function ey(t){this._=t}function fK(t,e){return t.trim().split(/^|\s+/).map(function(i){var s="",a=i.indexOf(".");if(a>=0&&(s=i.slice(a+1),i=i.slice(0,a)),i&&!e.hasOwnProperty(i))throw new Error("unknown type: "+i);return{type:i,name:s}})}ey.prototype=b5.prototype={constructor:ey,on:function(t,e){var i=this._,s=fK(t+"",i),a,l=-1,o=s.length;if(arguments.length<2){for(;++l<o;)if((a=(t=s[l]).type)&&(a=pK(i[a],t.name)))return a;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++l<o;)if(a=(t=s[l]).type)i[a]=cL(i[a],t.name,e);else if(e==null)for(a in i)i[a]=cL(i[a],t.name,null);return this},copy:function(){var t={},e=this._;for(var i in e)t[i]=e[i].slice();return new ey(t)},call:function(t,e){if((a=arguments.length-2)>0)for(var i=new Array(a),s=0,a,l;s<a;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(l=this._[t],s=0,a=l.length;s<a;++s)l[s].value.apply(e,i)},apply:function(t,e,i){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var s=this._[t],a=0,l=s.length;a<l;++a)s[a].value.apply(e,i)}};function pK(t,e){for(var i=0,s=t.length,a;i<s;++i)if((a=t[i]).name===e)return a.value}function cL(t,e,i){for(var s=0,a=t.length;s<a;++s)if(t[s].name===e){t[s]=dK,t=t.slice(0,s).concat(t.slice(s+1));break}return i!=null&&t.push({name:e,value:i}),t}var Z1="http://www.w3.org/1999/xhtml";const hL={svg:"http://www.w3.org/2000/svg",xhtml:Z1,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Mv(t){var e=t+="",i=e.indexOf(":");return i>=0&&(e=t.slice(0,i))!=="xmlns"&&(t=t.slice(i+1)),hL.hasOwnProperty(e)?{space:hL[e],local:t}:t}function mK(t){return function(){var e=this.ownerDocument,i=this.namespaceURI;return i===Z1&&e.documentElement.namespaceURI===Z1?e.createElement(t):e.createElementNS(i,t)}}function gK(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function w5(t){var e=Mv(t);return(e.local?gK:mK)(e)}function yK(){}function Fk(t){return t==null?yK:function(){return this.querySelector(t)}}function vK(t){typeof t!="function"&&(t=Fk(t));for(var e=this._groups,i=e.length,s=new Array(i),a=0;a<i;++a)for(var l=e[a],o=l.length,h=s[a]=new Array(o),d,m,f=0;f<o;++f)(d=l[f])&&(m=t.call(d,d.__data__,f,l))&&("__data__"in d&&(m.__data__=d.__data__),h[f]=m);return new Qa(s,this._parents)}function bK(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function wK(){return[]}function _5(t){return t==null?wK:function(){return this.querySelectorAll(t)}}function _K(t){return function(){return bK(t.apply(this,arguments))}}function xK(t){typeof t=="function"?t=_K(t):t=_5(t);for(var e=this._groups,i=e.length,s=[],a=[],l=0;l<i;++l)for(var o=e[l],h=o.length,d,m=0;m<h;++m)(d=o[m])&&(s.push(t.call(d,d.__data__,m,o)),a.push(d));return new Qa(s,a)}function x5(t){return function(){return this.matches(t)}}function k5(t){return function(e){return e.matches(t)}}var kK=Array.prototype.find;function SK(t){return function(){return kK.call(this.children,t)}}function TK(){return this.firstElementChild}function CK(t){return this.select(t==null?TK:SK(typeof t=="function"?t:k5(t)))}var EK=Array.prototype.filter;function OK(){return Array.from(this.children)}function AK(t){return function(){return EK.call(this.children,t)}}function PK(t){return this.selectAll(t==null?OK:AK(typeof t=="function"?t:k5(t)))}function MK(t){typeof t!="function"&&(t=x5(t));for(var e=this._groups,i=e.length,s=new Array(i),a=0;a<i;++a)for(var l=e[a],o=l.length,h=s[a]=[],d,m=0;m<o;++m)(d=l[m])&&t.call(d,d.__data__,m,l)&&h.push(d);return new Qa(s,this._parents)}function S5(t){return new Array(t.length)}function LK(){return new Qa(this._enter||this._groups.map(S5),this._parents)}function Ly(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ly.prototype={constructor:Ly,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function RK(t){return function(){return t}}function FK(t,e,i,s,a,l){for(var o=0,h,d=e.length,m=l.length;o<m;++o)(h=e[o])?(h.__data__=l[o],s[o]=h):i[o]=new Ly(t,l[o]);for(;o<d;++o)(h=e[o])&&(a[o]=h)}function DK(t,e,i,s,a,l,o){var h,d,m=new Map,f=e.length,b=l.length,k=new Array(f),w;for(h=0;h<f;++h)(d=e[h])&&(k[h]=w=o.call(d,d.__data__,h,e)+"",m.has(w)?a[h]=d:m.set(w,d));for(h=0;h<b;++h)w=o.call(t,l[h],h,l)+"",(d=m.get(w))?(s[h]=d,d.__data__=l[h],m.delete(w)):i[h]=new Ly(t,l[h]);for(h=0;h<f;++h)(d=e[h])&&m.get(k[h])===d&&(a[h]=d)}function IK(t){return t.__data__}function BK(t,e){if(!arguments.length)return Array.from(this,IK);var i=e?DK:FK,s=this._parents,a=this._groups;typeof t!="function"&&(t=RK(t));for(var l=a.length,o=new Array(l),h=new Array(l),d=new Array(l),m=0;m<l;++m){var f=s[m],b=a[m],k=b.length,w=NK(t.call(f,f&&f.__data__,m,s)),E=w.length,P=h[m]=new Array(E),L=o[m]=new Array(E),R=d[m]=new Array(k);i(f,b,P,L,R,w,e);for(var u=0,T=0,y,S;u<E;++u)if(y=P[u]){for(u>=T&&(T=u+1);!(S=L[T])&&++T<E;);y._next=S||null}}return o=new Qa(o,s),o._enter=h,o._exit=d,o}function NK(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zK(){return new Qa(this._exit||this._groups.map(S5),this._parents)}function UK(t,e,i){var s=this.enter(),a=this,l=this.exit();return typeof t=="function"?(s=t(s),s&&(s=s.selection())):s=s.append(t+""),e!=null&&(a=e(a),a&&(a=a.selection())),i==null?l.remove():i(l),s&&a?s.merge(a).order():a}function HK(t){for(var e=t.selection?t.selection():t,i=this._groups,s=e._groups,a=i.length,l=s.length,o=Math.min(a,l),h=new Array(a),d=0;d<o;++d)for(var m=i[d],f=s[d],b=m.length,k=h[d]=new Array(b),w,E=0;E<b;++E)(w=m[E]||f[E])&&(k[E]=w);for(;d<a;++d)h[d]=i[d];return new Qa(h,this._parents)}function WK(){for(var t=this._groups,e=-1,i=t.length;++e<i;)for(var s=t[e],a=s.length-1,l=s[a],o;--a>=0;)(o=s[a])&&(l&&o.compareDocumentPosition(l)^4&&l.parentNode.insertBefore(o,l),l=o);return this}function jK(t){t||(t=qK);function e(b,k){return b&&k?t(b.__data__,k.__data__):!b-!k}for(var i=this._groups,s=i.length,a=new Array(s),l=0;l<s;++l){for(var o=i[l],h=o.length,d=a[l]=new Array(h),m,f=0;f<h;++f)(m=o[f])&&(d[f]=m);d.sort(e)}return new Qa(a,this._parents).order()}function qK(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function $K(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function VK(){return Array.from(this)}function YK(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],a=0,l=s.length;a<l;++a){var o=s[a];if(o)return o}return null}function GK(){let t=0;for(const e of this)++t;return t}function XK(){return!this.node()}function KK(t){for(var e=this._groups,i=0,s=e.length;i<s;++i)for(var a=e[i],l=0,o=a.length,h;l<o;++l)(h=a[l])&&t.call(h,h.__data__,l,a);return this}function ZK(t){return function(){this.removeAttribute(t)}}function QK(t){return function(){this.removeAttributeNS(t.space,t.local)}}function JK(t,e){return function(){this.setAttribute(t,e)}}function eZ(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function tZ(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttribute(t):this.setAttribute(t,i)}}function iZ(t,e){return function(){var i=e.apply(this,arguments);i==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,i)}}function rZ(t,e){var i=Mv(t);if(arguments.length<2){var s=this.node();return i.local?s.getAttributeNS(i.space,i.local):s.getAttribute(i)}return this.each((e==null?i.local?QK:ZK:typeof e=="function"?i.local?iZ:tZ:i.local?eZ:JK)(i,e))}function T5(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function sZ(t){return function(){this.style.removeProperty(t)}}function aZ(t,e,i){return function(){this.style.setProperty(t,e,i)}}function nZ(t,e,i){return function(){var s=e.apply(this,arguments);s==null?this.style.removeProperty(t):this.style.setProperty(t,s,i)}}function oZ(t,e,i){return arguments.length>1?this.each((e==null?sZ:typeof e=="function"?nZ:aZ)(t,e,i??"")):Wu(this.node(),t)}function Wu(t,e){return t.style.getPropertyValue(e)||T5(t).getComputedStyle(t,null).getPropertyValue(e)}function lZ(t){return function(){delete this[t]}}function cZ(t,e){return function(){this[t]=e}}function hZ(t,e){return function(){var i=e.apply(this,arguments);i==null?delete this[t]:this[t]=i}}function uZ(t,e){return arguments.length>1?this.each((e==null?lZ:typeof e=="function"?hZ:cZ)(t,e)):this.node()[t]}function C5(t){return t.trim().split(/^|\s+/)}function Dk(t){return t.classList||new E5(t)}function E5(t){this._node=t,this._names=C5(t.getAttribute("class")||"")}E5.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function O5(t,e){for(var i=Dk(t),s=-1,a=e.length;++s<a;)i.add(e[s])}function A5(t,e){for(var i=Dk(t),s=-1,a=e.length;++s<a;)i.remove(e[s])}function dZ(t){return function(){O5(this,t)}}function fZ(t){return function(){A5(this,t)}}function pZ(t,e){return function(){(e.apply(this,arguments)?O5:A5)(this,t)}}function mZ(t,e){var i=C5(t+"");if(arguments.length<2){for(var s=Dk(this.node()),a=-1,l=i.length;++a<l;)if(!s.contains(i[a]))return!1;return!0}return this.each((typeof e=="function"?pZ:e?dZ:fZ)(i,e))}function gZ(){this.textContent=""}function yZ(t){return function(){this.textContent=t}}function vZ(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function bZ(t){return arguments.length?this.each(t==null?gZ:(typeof t=="function"?vZ:yZ)(t)):this.node().textContent}function wZ(){this.innerHTML=""}function _Z(t){return function(){this.innerHTML=t}}function xZ(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function kZ(t){return arguments.length?this.each(t==null?wZ:(typeof t=="function"?xZ:_Z)(t)):this.node().innerHTML}function SZ(){this.nextSibling&&this.parentNode.appendChild(this)}function TZ(){return this.each(SZ)}function CZ(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function EZ(){return this.each(CZ)}function OZ(t){var e=typeof t=="function"?t:w5(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function AZ(){return null}function PZ(t,e){var i=typeof t=="function"?t:w5(t),s=e==null?AZ:typeof e=="function"?e:Fk(e);return this.select(function(){return this.insertBefore(i.apply(this,arguments),s.apply(this,arguments)||null)})}function MZ(){var t=this.parentNode;t&&t.removeChild(this)}function LZ(){return this.each(MZ)}function RZ(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function FZ(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function DZ(t){return this.select(t?FZ:RZ)}function IZ(t){return arguments.length?this.property("__data__",t):this.node().__data__}function BZ(t){return function(e){t.call(this,e,this.__data__)}}function NZ(t){return t.trim().split(/^|\s+/).map(function(e){var i="",s=e.indexOf(".");return s>=0&&(i=e.slice(s+1),e=e.slice(0,s)),{type:e,name:i}})}function zZ(t){return function(){var e=this.__on;if(e){for(var i=0,s=-1,a=e.length,l;i<a;++i)l=e[i],(!t.type||l.type===t.type)&&l.name===t.name?this.removeEventListener(l.type,l.listener,l.options):e[++s]=l;++s?e.length=s:delete this.__on}}}function UZ(t,e,i){return function(){var s=this.__on,a,l=BZ(e);if(s){for(var o=0,h=s.length;o<h;++o)if((a=s[o]).type===t.type&&a.name===t.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=l,a.options=i),a.value=e;return}}this.addEventListener(t.type,l,i),a={type:t.type,name:t.name,value:e,listener:l,options:i},s?s.push(a):this.__on=[a]}}function HZ(t,e,i){var s=NZ(t+""),a,l=s.length,o;if(arguments.length<2){var h=this.node().__on;if(h){for(var d=0,m=h.length,f;d<m;++d)for(a=0,f=h[d];a<l;++a)if((o=s[a]).type===f.type&&o.name===f.name)return f.value}return}for(h=e?UZ:zZ,a=0;a<l;++a)this.each(h(s[a],e,i));return this}function P5(t,e,i){var s=T5(t),a=s.CustomEvent;typeof a=="function"?a=new a(e,i):(a=s.document.createEvent("Event"),i?(a.initEvent(e,i.bubbles,i.cancelable),a.detail=i.detail):a.initEvent(e,!1,!1)),t.dispatchEvent(a)}function WZ(t,e){return function(){return P5(this,t,e)}}function jZ(t,e){return function(){return P5(this,t,e.apply(this,arguments))}}function qZ(t,e){return this.each((typeof e=="function"?jZ:WZ)(t,e))}function*$Z(){for(var t=this._groups,e=0,i=t.length;e<i;++e)for(var s=t[e],a=0,l=s.length,o;a<l;++a)(o=s[a])&&(yield o)}var M5=[null];function Qa(t,e){this._groups=t,this._parents=e}function Yp(){return new Qa([[document.documentElement]],M5)}function VZ(){return this}Qa.prototype=Yp.prototype={constructor:Qa,select:vK,selectAll:xK,selectChild:CK,selectChildren:PK,filter:MK,data:BK,enter:LK,exit:zK,join:UK,merge:HK,selection:VZ,order:WK,sort:jK,call:$K,nodes:VK,node:YK,size:GK,empty:XK,each:KK,attr:rZ,style:oZ,property:uZ,classed:mZ,text:bZ,html:kZ,raise:TZ,lower:EZ,append:OZ,insert:PZ,remove:LZ,clone:DZ,datum:IZ,on:HZ,dispatch:qZ,[Symbol.iterator]:$Z};function er(t){return typeof t=="string"?new Qa([[document.querySelector(t)]],[document.documentElement]):new Qa([[t]],M5)}function Ik(t,e,i){t.prototype=e.prototype=i,i.constructor=t}function L5(t,e){var i=Object.create(t.prototype);for(var s in e)i[s]=e[s];return i}function Gp(){}var Sp=.7,Ry=1/Sp,gu="\\s*([+-]?\\d+)\\s*",Tp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",fo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YZ=/^#([0-9a-f]{3,8})$/,GZ=new RegExp(`^rgb\\(${gu},${gu},${gu}\\)$`),XZ=new RegExp(`^rgb\\(${fo},${fo},${fo}\\)$`),KZ=new RegExp(`^rgba\\(${gu},${gu},${gu},${Tp}\\)$`),ZZ=new RegExp(`^rgba\\(${fo},${fo},${fo},${Tp}\\)$`),QZ=new RegExp(`^hsl\\(${Tp},${fo},${fo}\\)$`),JZ=new RegExp(`^hsla\\(${Tp},${fo},${fo},${Tp}\\)$`),uL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ik(Gp,Cp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:dL,formatHex:dL,formatHex8:eQ,formatHsl:tQ,formatRgb:fL,toString:fL});function dL(){return this.rgb().formatHex()}function eQ(){return this.rgb().formatHex8()}function tQ(){return R5(this).formatHsl()}function fL(){return this.rgb().formatRgb()}function Cp(t){var e,i;return t=(t+"").trim().toLowerCase(),(e=YZ.exec(t))?(i=e[1].length,e=parseInt(e[1],16),i===6?pL(e):i===3?new Ra(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):i===8?Fg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):i===4?Fg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=GZ.exec(t))?new Ra(e[1],e[2],e[3],1):(e=XZ.exec(t))?new Ra(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=KZ.exec(t))?Fg(e[1],e[2],e[3],e[4]):(e=ZZ.exec(t))?Fg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=QZ.exec(t))?yL(e[1],e[2]/100,e[3]/100,1):(e=JZ.exec(t))?yL(e[1],e[2]/100,e[3]/100,e[4]):uL.hasOwnProperty(t)?pL(uL[t]):t==="transparent"?new Ra(NaN,NaN,NaN,0):null}function pL(t){return new Ra(t>>16&255,t>>8&255,t&255,1)}function Fg(t,e,i,s){return s<=0&&(t=e=i=NaN),new Ra(t,e,i,s)}function iQ(t){return t instanceof Gp||(t=Cp(t)),t?(t=t.rgb(),new Ra(t.r,t.g,t.b,t.opacity)):new Ra}function Q1(t,e,i,s){return arguments.length===1?iQ(t):new Ra(t,e,i,s??1)}function Ra(t,e,i,s){this.r=+t,this.g=+e,this.b=+i,this.opacity=+s}Ik(Ra,Q1,L5(Gp,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new Ra(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sp:Math.pow(Sp,t),new Ra(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ra(lh(this.r),lh(this.g),lh(this.b),Fy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:mL,formatHex:mL,formatHex8:rQ,formatRgb:gL,toString:gL}));function mL(){return`#${th(this.r)}${th(this.g)}${th(this.b)}`}function rQ(){return`#${th(this.r)}${th(this.g)}${th(this.b)}${th((isNaN(this.opacity)?1:this.opacity)*255)}`}function gL(){const t=Fy(this.opacity);return`${t===1?"rgb(":"rgba("}${lh(this.r)}, ${lh(this.g)}, ${lh(this.b)}${t===1?")":`, ${t})`}`}function Fy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function lh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function th(t){return t=lh(t),(t<16?"0":"")+t.toString(16)}function yL(t,e,i,s){return s<=0?t=e=i=NaN:i<=0||i>=1?t=e=NaN:e<=0&&(t=NaN),new Bn(t,e,i,s)}function R5(t){if(t instanceof Bn)return new Bn(t.h,t.s,t.l,t.opacity);if(t instanceof Gp||(t=Cp(t)),!t)return new Bn;if(t instanceof Bn)return t;t=t.rgb();var e=t.r/255,i=t.g/255,s=t.b/255,a=Math.min(e,i,s),l=Math.max(e,i,s),o=NaN,h=l-a,d=(l+a)/2;return h?(e===l?o=(i-s)/h+(i<s)*6:i===l?o=(s-e)/h+2:o=(e-i)/h+4,h/=d<.5?l+a:2-l-a,o*=60):h=d>0&&d<1?0:o,new Bn(o,h,d,t.opacity)}function sQ(t,e,i,s){return arguments.length===1?R5(t):new Bn(t,e,i,s??1)}function Bn(t,e,i,s){this.h=+t,this.s=+e,this.l=+i,this.opacity=+s}Ik(Bn,sQ,L5(Gp,{brighter(t){return t=t==null?Ry:Math.pow(Ry,t),new Bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sp:Math.pow(Sp,t),new Bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,i=this.l,s=i+(i<.5?i:1-i)*e,a=2*i-s;return new Ra(Z_(t>=240?t-240:t+120,a,s),Z_(t,a,s),Z_(t<120?t+240:t-120,a,s),this.opacity)},clamp(){return new Bn(vL(this.h),Dg(this.s),Dg(this.l),Fy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Fy(this.opacity);return`${t===1?"hsl(":"hsla("}${vL(this.h)}, ${Dg(this.s)*100}%, ${Dg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vL(t){return t=(t||0)%360,t<0?t+360:t}function Dg(t){return Math.max(0,Math.min(1,t||0))}function Z_(t,e,i){return(t<60?e+(i-e)*t/60:t<180?i:t<240?e+(i-e)*(240-t)/60:e)*255}const Bk=t=>()=>t;function F5(t,e){return function(i){return t+i*e}}function aQ(t,e,i){return t=Math.pow(t,i),e=Math.pow(e,i)-t,i=1/i,function(s){return Math.pow(t+s*e,i)}}function oce(t,e){var i=e-t;return i?F5(t,i>180||i<-180?i-360*Math.round(i/360):i):Bk(isNaN(t)?e:t)}function nQ(t){return(t=+t)==1?D5:function(e,i){return i-e?aQ(e,i,t):Bk(isNaN(e)?i:e)}}function D5(t,e){var i=e-t;return i?F5(t,i):Bk(isNaN(t)?e:t)}const bL=function t(e){var i=nQ(e);function s(a,l){var o=i((a=Q1(a)).r,(l=Q1(l)).r),h=i(a.g,l.g),d=i(a.b,l.b),m=D5(a.opacity,l.opacity);return function(f){return a.r=o(f),a.g=h(f),a.b=d(f),a.opacity=m(f),a+""}}return s.gamma=t,s}(1);function Rl(t,e){return t=+t,e=+e,function(i){return t*(1-i)+e*i}}var J1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Q_=new RegExp(J1.source,"g");function oQ(t){return function(){return t}}function lQ(t){return function(e){return t(e)+""}}function cQ(t,e){var i=J1.lastIndex=Q_.lastIndex=0,s,a,l,o=-1,h=[],d=[];for(t=t+"",e=e+"";(s=J1.exec(t))&&(a=Q_.exec(e));)(l=a.index)>i&&(l=e.slice(i,l),h[o]?h[o]+=l:h[++o]=l),(s=s[0])===(a=a[0])?h[o]?h[o]+=a:h[++o]=a:(h[++o]=null,d.push({i:o,x:Rl(s,a)})),i=Q_.lastIndex;return i<e.length&&(l=e.slice(i),h[o]?h[o]+=l:h[++o]=l),h.length<2?d[0]?lQ(d[0].x):oQ(e):(e=d.length,function(m){for(var f=0,b;f<e;++f)h[(b=d[f]).i]=b.x(m);return h.join("")})}var wL=180/Math.PI,ex={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function I5(t,e,i,s,a,l){var o,h,d;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(d=t*i+e*s)&&(i-=t*d,s-=e*d),(h=Math.sqrt(i*i+s*s))&&(i/=h,s/=h,d/=h),t*s<e*i&&(t=-t,e=-e,d=-d,o=-o),{translateX:a,translateY:l,rotate:Math.atan2(e,t)*wL,skewX:Math.atan(d)*wL,scaleX:o,scaleY:h}}var Ig;function hQ(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?ex:I5(e.a,e.b,e.c,e.d,e.e,e.f)}function uQ(t){return t==null||(Ig||(Ig=document.createElementNS("http://www.w3.org/2000/svg","g")),Ig.setAttribute("transform",t),!(t=Ig.transform.baseVal.consolidate()))?ex:(t=t.matrix,I5(t.a,t.b,t.c,t.d,t.e,t.f))}function B5(t,e,i,s){function a(m){return m.length?m.pop()+" ":""}function l(m,f,b,k,w,E){if(m!==b||f!==k){var P=w.push("translate(",null,e,null,i);E.push({i:P-4,x:Rl(m,b)},{i:P-2,x:Rl(f,k)})}else(b||k)&&w.push("translate("+b+e+k+i)}function o(m,f,b,k){m!==f?(m-f>180?f+=360:f-m>180&&(m+=360),k.push({i:b.push(a(b)+"rotate(",null,s)-2,x:Rl(m,f)})):f&&b.push(a(b)+"rotate("+f+s)}function h(m,f,b,k){m!==f?k.push({i:b.push(a(b)+"skewX(",null,s)-2,x:Rl(m,f)}):f&&b.push(a(b)+"skewX("+f+s)}function d(m,f,b,k,w,E){if(m!==b||f!==k){var P=w.push(a(w)+"scale(",null,",",null,")");E.push({i:P-4,x:Rl(m,b)},{i:P-2,x:Rl(f,k)})}else(b!==1||k!==1)&&w.push(a(w)+"scale("+b+","+k+")")}return function(m,f){var b=[],k=[];return m=t(m),f=t(f),l(m.translateX,m.translateY,f.translateX,f.translateY,b,k),o(m.rotate,f.rotate,b,k),h(m.skewX,f.skewX,b,k),d(m.scaleX,m.scaleY,f.scaleX,f.scaleY,b,k),m=f=null,function(w){for(var E=-1,P=k.length,L;++E<P;)b[(L=k[E]).i]=L.x(w);return b.join("")}}}var dQ=B5(hQ,"px, ","px)","deg)"),fQ=B5(uQ,", ",")",")"),ju=0,Vf=0,Df=0,N5=1e3,Dy,Yf,Iy=0,gh=0,Lv=0,Ep=typeof performance=="object"&&performance.now?performance:Date,z5=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Nk(){return gh||(z5(pQ),gh=Ep.now()+Lv)}function pQ(){gh=0}function By(){this._call=this._time=this._next=null}By.prototype=U5.prototype={constructor:By,restart:function(t,e,i){if(typeof t!="function")throw new TypeError("callback is not a function");i=(i==null?Nk():+i)+(e==null?0:+e),!this._next&&Yf!==this&&(Yf?Yf._next=this:Dy=this,Yf=this),this._call=t,this._time=i,tx()},stop:function(){this._call&&(this._call=null,this._time=1/0,tx())}};function U5(t,e,i){var s=new By;return s.restart(t,e,i),s}function mQ(){Nk(),++ju;for(var t=Dy,e;t;)(e=gh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--ju}function _L(){gh=(Iy=Ep.now())+Lv,ju=Vf=0;try{mQ()}finally{ju=0,yQ(),gh=0}}function gQ(){var t=Ep.now(),e=t-Iy;e>N5&&(Lv-=e,Iy=t)}function yQ(){for(var t,e=Dy,i,s=1/0;e;)e._call?(s>e._time&&(s=e._time),t=e,e=e._next):(i=e._next,e._next=null,e=t?t._next=i:Dy=i);Yf=t,tx(s)}function tx(t){if(!ju){Vf&&(Vf=clearTimeout(Vf));var e=t-gh;e>24?(t<1/0&&(Vf=setTimeout(_L,t-Ep.now()-Lv)),Df&&(Df=clearInterval(Df))):(Df||(Iy=Ep.now(),Df=setInterval(gQ,N5)),ju=1,z5(_L))}}function xL(t,e,i){var s=new By;return e=e==null?0:+e,s.restart(a=>{s.stop(),t(a+e)},e,i),s}var vQ=b5("start","end","cancel","interrupt"),bQ=[],H5=0,kL=1,ix=2,ty=3,SL=4,rx=5,iy=6;function Rv(t,e,i,s,a,l){var o=t.__transition;if(!o)t.__transition={};else if(i in o)return;wQ(t,i,{name:e,index:s,group:a,on:vQ,tween:bQ,time:l.time,delay:l.delay,duration:l.duration,ease:l.ease,timer:null,state:H5})}function zk(t,e){var i=Yn(t,e);if(i.state>H5)throw new Error("too late; already scheduled");return i}function xo(t,e){var i=Yn(t,e);if(i.state>ty)throw new Error("too late; already running");return i}function Yn(t,e){var i=t.__transition;if(!i||!(i=i[e]))throw new Error("transition not found");return i}function wQ(t,e,i){var s=t.__transition,a;s[e]=i,i.timer=U5(l,0,i.time);function l(m){i.state=kL,i.timer.restart(o,i.delay,i.time),i.delay<=m&&o(m-i.delay)}function o(m){var f,b,k,w;if(i.state!==kL)return d();for(f in s)if(w=s[f],w.name===i.name){if(w.state===ty)return xL(o);w.state===SL?(w.state=iy,w.timer.stop(),w.on.call("interrupt",t,t.__data__,w.index,w.group),delete s[f]):+f<e&&(w.state=iy,w.timer.stop(),w.on.call("cancel",t,t.__data__,w.index,w.group),delete s[f])}if(xL(function(){i.state===ty&&(i.state=SL,i.timer.restart(h,i.delay,i.time),h(m))}),i.state=ix,i.on.call("start",t,t.__data__,i.index,i.group),i.state===ix){for(i.state=ty,a=new Array(k=i.tween.length),f=0,b=-1;f<k;++f)(w=i.tween[f].value.call(t,t.__data__,i.index,i.group))&&(a[++b]=w);a.length=b+1}}function h(m){for(var f=m<i.duration?i.ease.call(null,m/i.duration):(i.timer.restart(d),i.state=rx,1),b=-1,k=a.length;++b<k;)a[b].call(t,f);i.state===rx&&(i.on.call("end",t,t.__data__,i.index,i.group),d())}function d(){i.state=iy,i.timer.stop(),delete s[e];for(var m in s)return;delete t.__transition}}function _Q(t,e){var i=t.__transition,s,a,l=!0,o;if(i){e=e==null?null:e+"";for(o in i){if((s=i[o]).name!==e){l=!1;continue}a=s.state>ix&&s.state<rx,s.state=iy,s.timer.stop(),s.on.call(a?"interrupt":"cancel",t,t.__data__,s.index,s.group),delete i[o]}l&&delete t.__transition}}function xQ(t){return this.each(function(){_Q(this,t)})}function kQ(t,e){var i,s;return function(){var a=xo(this,t),l=a.tween;if(l!==i){s=i=l;for(var o=0,h=s.length;o<h;++o)if(s[o].name===e){s=s.slice(),s.splice(o,1);break}}a.tween=s}}function SQ(t,e,i){var s,a;if(typeof i!="function")throw new Error;return function(){var l=xo(this,t),o=l.tween;if(o!==s){a=(s=o).slice();for(var h={name:e,value:i},d=0,m=a.length;d<m;++d)if(a[d].name===e){a[d]=h;break}d===m&&a.push(h)}l.tween=a}}function TQ(t,e){var i=this._id;if(t+="",arguments.length<2){for(var s=Yn(this.node(),i).tween,a=0,l=s.length,o;a<l;++a)if((o=s[a]).name===t)return o.value;return null}return this.each((e==null?kQ:SQ)(i,t,e))}function Uk(t,e,i){var s=t._id;return t.each(function(){var a=xo(this,s);(a.value||(a.value={}))[e]=i.apply(this,arguments)}),function(a){return Yn(a,s).value[e]}}function W5(t,e){var i;return(typeof e=="number"?Rl:e instanceof Cp?bL:(i=Cp(e))?(e=i,bL):cQ)(t,e)}function CQ(t){return function(){this.removeAttribute(t)}}function EQ(t){return function(){this.removeAttributeNS(t.space,t.local)}}function OQ(t,e,i){var s,a=i+"",l;return function(){var o=this.getAttribute(t);return o===a?null:o===s?l:l=e(s=o,i)}}function AQ(t,e,i){var s,a=i+"",l;return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===s?l:l=e(s=o,i)}}function PQ(t,e,i){var s,a,l;return function(){var o,h=i(this),d;return h==null?void this.removeAttribute(t):(o=this.getAttribute(t),d=h+"",o===d?null:o===s&&d===a?l:(a=d,l=e(s=o,h)))}}function MQ(t,e,i){var s,a,l;return function(){var o,h=i(this),d;return h==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),d=h+"",o===d?null:o===s&&d===a?l:(a=d,l=e(s=o,h)))}}function LQ(t,e){var i=Mv(t),s=i==="transform"?fQ:W5;return this.attrTween(t,typeof e=="function"?(i.local?MQ:PQ)(i,s,Uk(this,"attr."+t,e)):e==null?(i.local?EQ:CQ)(i):(i.local?AQ:OQ)(i,s,e))}function RQ(t,e){return function(i){this.setAttribute(t,e.call(this,i))}}function FQ(t,e){return function(i){this.setAttributeNS(t.space,t.local,e.call(this,i))}}function DQ(t,e){var i,s;function a(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&FQ(t,l)),i}return a._value=e,a}function IQ(t,e){var i,s;function a(){var l=e.apply(this,arguments);return l!==s&&(i=(s=l)&&RQ(t,l)),i}return a._value=e,a}function BQ(t,e){var i="attr."+t;if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;var s=Mv(t);return this.tween(i,(s.local?DQ:IQ)(s,e))}function NQ(t,e){return function(){zk(this,t).delay=+e.apply(this,arguments)}}function zQ(t,e){return e=+e,function(){zk(this,t).delay=e}}function UQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?NQ:zQ)(e,t)):Yn(this.node(),e).delay}function HQ(t,e){return function(){xo(this,t).duration=+e.apply(this,arguments)}}function WQ(t,e){return e=+e,function(){xo(this,t).duration=e}}function jQ(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?HQ:WQ)(e,t)):Yn(this.node(),e).duration}function qQ(t,e){if(typeof e!="function")throw new Error;return function(){xo(this,t).ease=e}}function $Q(t){var e=this._id;return arguments.length?this.each(qQ(e,t)):Yn(this.node(),e).ease}function VQ(t,e){return function(){var i=e.apply(this,arguments);if(typeof i!="function")throw new Error;xo(this,t).ease=i}}function YQ(t){if(typeof t!="function")throw new Error;return this.each(VQ(this._id,t))}function GQ(t){typeof t!="function"&&(t=x5(t));for(var e=this._groups,i=e.length,s=new Array(i),a=0;a<i;++a)for(var l=e[a],o=l.length,h=s[a]=[],d,m=0;m<o;++m)(d=l[m])&&t.call(d,d.__data__,m,l)&&h.push(d);return new hl(s,this._parents,this._name,this._id)}function XQ(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,i=t._groups,s=e.length,a=i.length,l=Math.min(s,a),o=new Array(s),h=0;h<l;++h)for(var d=e[h],m=i[h],f=d.length,b=o[h]=new Array(f),k,w=0;w<f;++w)(k=d[w]||m[w])&&(b[w]=k);for(;h<s;++h)o[h]=e[h];return new hl(o,this._parents,this._name,this._id)}function KQ(t){return(t+"").trim().split(/^|\s+/).every(function(e){var i=e.indexOf(".");return i>=0&&(e=e.slice(0,i)),!e||e==="start"})}function ZQ(t,e,i){var s,a,l=KQ(e)?zk:xo;return function(){var o=l(this,t),h=o.on;h!==s&&(a=(s=h).copy()).on(e,i),o.on=a}}function QQ(t,e){var i=this._id;return arguments.length<2?Yn(this.node(),i).on.on(t):this.each(ZQ(i,t,e))}function JQ(t){return function(){var e=this.parentNode;for(var i in this.__transition)if(+i!==t)return;e&&e.removeChild(this)}}function eJ(){return this.on("end.remove",JQ(this._id))}function tJ(t){var e=this._name,i=this._id;typeof t!="function"&&(t=Fk(t));for(var s=this._groups,a=s.length,l=new Array(a),o=0;o<a;++o)for(var h=s[o],d=h.length,m=l[o]=new Array(d),f,b,k=0;k<d;++k)(f=h[k])&&(b=t.call(f,f.__data__,k,h))&&("__data__"in f&&(b.__data__=f.__data__),m[k]=b,Rv(m[k],e,i,k,m,Yn(f,i)));return new hl(l,this._parents,e,i)}function iJ(t){var e=this._name,i=this._id;typeof t!="function"&&(t=_5(t));for(var s=this._groups,a=s.length,l=[],o=[],h=0;h<a;++h)for(var d=s[h],m=d.length,f,b=0;b<m;++b)if(f=d[b]){for(var k=t.call(f,f.__data__,b,d),w,E=Yn(f,i),P=0,L=k.length;P<L;++P)(w=k[P])&&Rv(w,e,i,P,k,E);l.push(k),o.push(f)}return new hl(l,o,e,i)}var rJ=Yp.prototype.constructor;function sJ(){return new rJ(this._groups,this._parents)}function aJ(t,e){var i,s,a;return function(){var l=Wu(this,t),o=(this.style.removeProperty(t),Wu(this,t));return l===o?null:l===i&&o===s?a:a=e(i=l,s=o)}}function j5(t){return function(){this.style.removeProperty(t)}}function nJ(t,e,i){var s,a=i+"",l;return function(){var o=Wu(this,t);return o===a?null:o===s?l:l=e(s=o,i)}}function oJ(t,e,i){var s,a,l;return function(){var o=Wu(this,t),h=i(this),d=h+"";return h==null&&(d=h=(this.style.removeProperty(t),Wu(this,t))),o===d?null:o===s&&d===a?l:(a=d,l=e(s=o,h))}}function lJ(t,e){var i,s,a,l="style."+e,o="end."+l,h;return function(){var d=xo(this,t),m=d.on,f=d.value[l]==null?h||(h=j5(e)):void 0;(m!==i||a!==f)&&(s=(i=m).copy()).on(o,a=f),d.on=s}}function cJ(t,e,i){var s=(t+="")=="transform"?dQ:W5;return e==null?this.styleTween(t,aJ(t,s)).on("end.style."+t,j5(t)):typeof e=="function"?this.styleTween(t,oJ(t,s,Uk(this,"style."+t,e))).each(lJ(this._id,t)):this.styleTween(t,nJ(t,s,e),i).on("end.style."+t,null)}function hJ(t,e,i){return function(s){this.style.setProperty(t,e.call(this,s),i)}}function uJ(t,e,i){var s,a;function l(){var o=e.apply(this,arguments);return o!==a&&(s=(a=o)&&hJ(t,o,i)),s}return l._value=e,l}function dJ(t,e,i){var s="style."+(t+="");if(arguments.length<2)return(s=this.tween(s))&&s._value;if(e==null)return this.tween(s,null);if(typeof e!="function")throw new Error;return this.tween(s,uJ(t,e,i??""))}function fJ(t){return function(){this.textContent=t}}function pJ(t){return function(){var e=t(this);this.textContent=e??""}}function mJ(t){return this.tween("text",typeof t=="function"?pJ(Uk(this,"text",t)):fJ(t==null?"":t+""))}function gJ(t){return function(e){this.textContent=t.call(this,e)}}function yJ(t){var e,i;function s(){var a=t.apply(this,arguments);return a!==i&&(e=(i=a)&&gJ(a)),e}return s._value=t,s}function vJ(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,yJ(t))}function bJ(){for(var t=this._name,e=this._id,i=q5(),s=this._groups,a=s.length,l=0;l<a;++l)for(var o=s[l],h=o.length,d,m=0;m<h;++m)if(d=o[m]){var f=Yn(d,e);Rv(d,t,i,m,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new hl(s,this._parents,t,i)}function wJ(){var t,e,i=this,s=i._id,a=i.size();return new Promise(function(l,o){var h={value:o},d={value:function(){--a===0&&l()}};i.each(function(){var m=xo(this,s),f=m.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(h),e._.interrupt.push(h),e._.end.push(d)),m.on=e}),a===0&&l()})}var _J=0;function hl(t,e,i,s){this._groups=t,this._parents=e,this._name=i,this._id=s}function q5(){return++_J}var Xo=Yp.prototype;hl.prototype={constructor:hl,select:tJ,selectAll:iJ,selectChild:Xo.selectChild,selectChildren:Xo.selectChildren,filter:GQ,merge:XQ,selection:sJ,transition:bJ,call:Xo.call,nodes:Xo.nodes,node:Xo.node,size:Xo.size,empty:Xo.empty,each:Xo.each,on:QQ,attr:LQ,attrTween:BQ,style:cJ,styleTween:dJ,text:mJ,textTween:vJ,remove:eJ,tween:TQ,delay:UQ,duration:jQ,ease:$Q,easeVarying:YQ,end:wJ,[Symbol.iterator]:Xo[Symbol.iterator]};function xJ(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var kJ={time:null,delay:0,duration:250,ease:xJ};function SJ(t,e){for(var i;!(i=t.__transition)||!(i=i[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return i}function TJ(t){var e,i;t instanceof hl?(e=t._id,t=t._name):(e=q5(),(i=kJ).time=Nk(),t=t==null?null:t+"");for(var s=this._groups,a=s.length,l=0;l<a;++l)for(var o=s[l],h=o.length,d,m=0;m<h;++m)(d=o[m])&&Rv(d,t,e,m,o,i||SJ(d,e));return new hl(s,this._parents,t,e)}Yp.prototype.interrupt=xQ;Yp.prototype.transition=TJ;const sx=Math.PI,ax=2*sx,Vc=1e-6,CJ=ax-Vc;function $5(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function EJ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return $5;const i=10**e;return function(s){this._+=s[0];for(let a=1,l=s.length;a<l;++a)this._+=Math.round(arguments[a]*i)/i+s[a]}}class OJ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?$5:EJ(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,s,a){this._append`Q${+e},${+i},${this._x1=+s},${this._y1=+a}`}bezierCurveTo(e,i,s,a,l,o){this._append`C${+e},${+i},${+s},${+a},${this._x1=+l},${this._y1=+o}`}arcTo(e,i,s,a,l){if(e=+e,i=+i,s=+s,a=+a,l=+l,l<0)throw new Error(`negative radius: ${l}`);let o=this._x1,h=this._y1,d=s-e,m=a-i,f=o-e,b=h-i,k=f*f+b*b;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(k>Vc)if(!(Math.abs(b*d-m*f)>Vc)||!l)this._append`L${this._x1=e},${this._y1=i}`;else{let w=s-o,E=a-h,P=d*d+m*m,L=w*w+E*E,R=Math.sqrt(P),u=Math.sqrt(k),T=l*Math.tan((sx-Math.acos((P+k-L)/(2*R*u)))/2),y=T/u,S=T/R;Math.abs(y-1)>Vc&&this._append`L${e+y*f},${i+y*b}`,this._append`A${l},${l},0,0,${+(b*w>f*E)},${this._x1=e+S*d},${this._y1=i+S*m}`}}arc(e,i,s,a,l,o){if(e=+e,i=+i,s=+s,o=!!o,s<0)throw new Error(`negative radius: ${s}`);let h=s*Math.cos(a),d=s*Math.sin(a),m=e+h,f=i+d,b=1^o,k=o?a-l:l-a;this._x1===null?this._append`M${m},${f}`:(Math.abs(this._x1-m)>Vc||Math.abs(this._y1-f)>Vc)&&this._append`L${m},${f}`,s&&(k<0&&(k=k%ax+ax),k>CJ?this._append`A${s},${s},0,1,${b},${e-h},${i-d}A${s},${s},0,1,${b},${this._x1=m},${this._y1=f}`:k>Vc&&this._append`A${s},${s},0,${+(k>=sx)},${b},${this._x1=e+s*Math.cos(l)},${this._y1=i+s*Math.sin(l)}`)}rect(e,i,s,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${s=+s}v${+a}h${-s}Z`}toString(){return this._}}function tu(t){return function(){return t}}const lce=Math.abs,cce=Math.atan2,hce=Math.cos,uce=Math.max,dce=Math.min,fce=Math.sin,pce=Math.sqrt,TL=1e-12,Hk=Math.PI,CL=Hk/2,mce=2*Hk;function gce(t){return t>1?0:t<-1?Hk:Math.acos(t)}function yce(t){return t>=1?CL:t<=-1?-CL:Math.asin(t)}function AJ(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const s=Math.floor(i);if(!(s>=0))throw new RangeError(`invalid digits: ${i}`);e=s}return t},()=>new OJ(e)}function PJ(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function V5(t){this._context=t}V5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ny(t){return new V5(t)}function MJ(t){return t[0]}function LJ(t){return t[1]}function RJ(t,e){var i=tu(!0),s=null,a=Ny,l=null,o=AJ(h);t=typeof t=="function"?t:t===void 0?MJ:tu(t),e=typeof e=="function"?e:e===void 0?LJ:tu(e);function h(d){var m,f=(d=PJ(d)).length,b,k=!1,w;for(s==null&&(l=a(w=o())),m=0;m<=f;++m)!(m<f&&i(b=d[m],m,d))===k&&((k=!k)?l.lineStart():l.lineEnd()),k&&l.point(+t(b,m,d),+e(b,m,d));if(w)return l=null,w+""||null}return h.x=function(d){return arguments.length?(t=typeof d=="function"?d:tu(+d),h):t},h.y=function(d){return arguments.length?(e=typeof d=="function"?d:tu(+d),h):e},h.defined=function(d){return arguments.length?(i=typeof d=="function"?d:tu(!!d),h):i},h.curve=function(d){return arguments.length?(a=d,s!=null&&(l=a(s)),h):a},h.context=function(d){return arguments.length?(d==null?s=l=null:l=a(s=d),h):s},h}class Y5{constructor(e,i){this._context=e,this._x=i}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,i){switch(e=+e,i=+i,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,i):this._context.moveTo(e,i);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,i,e,i):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+i)/2,e,this._y0,e,i);break}}this._x0=e,this._y0=i}}function G5(t){return new Y5(t,!0)}function X5(t){return new Y5(t,!1)}function Wl(){}function zy(t,e,i){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+i)/6)}function Fv(t){this._context=t}Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function ry(t){return new Fv(t)}function K5(t){this._context=t}K5.prototype={areaStart:Wl,areaEnd:Wl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FJ(t){return new K5(t)}function Z5(t){this._context=t}Z5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var i=(this._x0+4*this._x1+t)/6,s=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break;case 3:this._point=4;default:zy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DJ(t){return new Z5(t)}function Q5(t,e){this._basis=new Fv(t),this._beta=e}Q5.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,i=t.length-1;if(i>0)for(var s=t[0],a=e[0],l=t[i]-s,o=e[i]-a,h=-1,d;++h<=i;)d=h/i,this._basis.point(this._beta*t[h]+(1-this._beta)*(s+d*l),this._beta*e[h]+(1-this._beta)*(a+d*o));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const IJ=function t(e){function i(s){return e===1?new Fv(s):new Q5(s,e)}return i.beta=function(s){return t(+s)},i}(.85);function Uy(t,e,i){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-i),t._x2,t._y2)}function Wk(t,e){this._context=t,this._k=(1-e)/6}Wk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Uy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const J5=function t(e){function i(s){return new Wk(s,e)}return i.tension=function(s){return t(+s)},i}(0);function jk(t,e){this._context=t,this._k=(1-e)/6}jk.prototype={areaStart:Wl,areaEnd:Wl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const BJ=function t(e){function i(s){return new jk(s,e)}return i.tension=function(s){return t(+s)},i}(0);function qk(t,e){this._context=t,this._k=(1-e)/6}qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Uy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const NJ=function t(e){function i(s){return new qk(s,e)}return i.tension=function(s){return t(+s)},i}(0);function $k(t,e,i){var s=t._x1,a=t._y1,l=t._x2,o=t._y2;if(t._l01_a>TL){var h=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,d=3*t._l01_a*(t._l01_a+t._l12_a);s=(s*h-t._x0*t._l12_2a+t._x2*t._l01_2a)/d,a=(a*h-t._y0*t._l12_2a+t._y2*t._l01_2a)/d}if(t._l23_a>TL){var m=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);l=(l*m+t._x1*t._l23_2a-e*t._l12_2a)/f,o=(o*m+t._y1*t._l23_2a-i*t._l12_2a)/f}t._context.bezierCurveTo(s,a,l,o,t._x2,t._y2)}function eI(t,e){this._context=t,this._alpha=e}eI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:$k(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const tI=function t(e){function i(s){return e?new eI(s,e):new Wk(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function iI(t,e){this._context=t,this._alpha=e}iI.prototype={areaStart:Wl,areaEnd:Wl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:$k(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zJ=function t(e){function i(s){return e?new iI(s,e):new jk(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function rI(t,e){this._context=t,this._alpha=e}rI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var i=this._x2-t,s=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(i*i+s*s,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:$k(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const UJ=function t(e){function i(s){return e?new rI(s,e):new qk(s,0)}return i.alpha=function(s){return t(+s)},i}(.5);function sI(t){this._context=t}sI.prototype={areaStart:Wl,areaEnd:Wl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function HJ(t){return new sI(t)}function EL(t){return t<0?-1:1}function OL(t,e,i){var s=t._x1-t._x0,a=e-t._x1,l=(t._y1-t._y0)/(s||a<0&&-0),o=(i-t._y1)/(a||s<0&&-0),h=(l*a+o*s)/(s+a);return(EL(l)+EL(o))*Math.min(Math.abs(l),Math.abs(o),.5*Math.abs(h))||0}function AL(t,e){var i=t._x1-t._x0;return i?(3*(t._y1-t._y0)/i-e)/2:e}function J_(t,e,i){var s=t._x0,a=t._y0,l=t._x1,o=t._y1,h=(l-s)/3;t._context.bezierCurveTo(s+h,a+h*e,l-h,o-h*i,l,o)}function Hy(t){this._context=t}Hy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:J_(this,this._t0,AL(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var i=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,J_(this,AL(this,i=OL(this,t,e)),i);break;default:J_(this,this._t0,i=OL(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=i}}};function aI(t){this._context=new nI(t)}(aI.prototype=Object.create(Hy.prototype)).point=function(t,e){Hy.prototype.point.call(this,e,t)};function nI(t){this._context=t}nI.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,i,s,a,l){this._context.bezierCurveTo(e,t,s,i,l,a)}};function oI(t){return new Hy(t)}function lI(t){return new aI(t)}function cI(t){this._context=t}cI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,i=t.length;if(i)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),i===2)this._context.lineTo(t[1],e[1]);else for(var s=PL(t),a=PL(e),l=0,o=1;o<i;++l,++o)this._context.bezierCurveTo(s[0][l],a[0][l],s[1][l],a[1][l],t[o],e[o]);(this._line||this._line!==0&&i===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PL(t){var e,i=t.length-1,s,a=new Array(i),l=new Array(i),o=new Array(i);for(a[0]=0,l[0]=2,o[0]=t[0]+2*t[1],e=1;e<i-1;++e)a[e]=1,l[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[i-1]=2,l[i-1]=7,o[i-1]=8*t[i-1]+t[i],e=1;e<i;++e)s=a[e]/l[e-1],l[e]-=s,o[e]-=s*o[e-1];for(a[i-1]=o[i-1]/l[i-1],e=i-2;e>=0;--e)a[e]=(o[e]-a[e+1])/l[e];for(l[i-1]=(t[i]+a[i-1])/2,e=0;e<i-1;++e)l[e]=2*t[e+1]-a[e+1];return[a,l]}function hI(t){return new cI(t)}function Dv(t,e){this._context=t,this._t=e}Dv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var i=this._x*(1-this._t)+t*this._t;this._context.lineTo(i,this._y),this._context.lineTo(i,e)}break}}this._x=t,this._y=e}};function uI(t){return new Dv(t,.5)}function dI(t){return new Dv(t,0)}function fI(t){return new Dv(t,1)}function Gf(t,e,i){this.k=t,this.x=e,this.y=i}Gf.prototype={constructor:Gf,scale:function(t){return t===1?this:new Gf(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Gf(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gf.prototype;var pI=typeof global=="object"&&global&&global.Object===Object&&global,WJ=typeof self=="object"&&self&&self.Object===Object&&self,ko=pI||WJ||Function("return this")(),Wy=ko.Symbol,mI=Object.prototype,jJ=mI.hasOwnProperty,qJ=mI.toString,If=Wy?Wy.toStringTag:void 0;function $J(t){var e=jJ.call(t,If),i=t[If];try{t[If]=void 0;var s=!0}catch{}var a=qJ.call(t);return s&&(e?t[If]=i:delete t[If]),a}var VJ=Object.prototype,YJ=VJ.toString;function GJ(t){return YJ.call(t)}var XJ="[object Null]",KJ="[object Undefined]",ML=Wy?Wy.toStringTag:void 0;function Ju(t){return t==null?t===void 0?KJ:XJ:ML&&ML in Object(t)?$J(t):GJ(t)}function kh(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ZJ="[object AsyncFunction]",QJ="[object Function]",JJ="[object GeneratorFunction]",eee="[object Proxy]";function Vk(t){if(!kh(t))return!1;var e=Ju(t);return e==QJ||e==JJ||e==ZJ||e==eee}var e1=ko["__core-js_shared__"],LL=function(){var t=/[^.]+$/.exec(e1&&e1.keys&&e1.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tee(t){return!!LL&&LL in t}var iee=Function.prototype,ree=iee.toString;function Sh(t){if(t!=null){try{return ree.call(t)}catch{}try{return t+""}catch{}}return""}var see=/[\\^$.*+?()[\]{}|]/g,aee=/^\[object .+?Constructor\]$/,nee=Function.prototype,oee=Object.prototype,lee=nee.toString,cee=oee.hasOwnProperty,hee=RegExp("^"+lee.call(cee).replace(see,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function uee(t){if(!kh(t)||tee(t))return!1;var e=Vk(t)?hee:aee;return e.test(Sh(t))}function dee(t,e){return t==null?void 0:t[e]}function Th(t,e){var i=dee(t,e);return uee(i)?i:void 0}var Op=Th(Object,"create");function fee(){this.__data__=Op?Op(null):{},this.size=0}function pee(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mee="__lodash_hash_undefined__",gee=Object.prototype,yee=gee.hasOwnProperty;function vee(t){var e=this.__data__;if(Op){var i=e[t];return i===mee?void 0:i}return yee.call(e,t)?e[t]:void 0}var bee=Object.prototype,wee=bee.hasOwnProperty;function _ee(t){var e=this.__data__;return Op?e[t]!==void 0:wee.call(e,t)}var xee="__lodash_hash_undefined__";function kee(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=Op&&e===void 0?xee:e,this}function yh(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}yh.prototype.clear=fee;yh.prototype.delete=pee;yh.prototype.get=vee;yh.prototype.has=_ee;yh.prototype.set=kee;function See(){this.__data__=[],this.size=0}function Iv(t,e){return t===e||t!==t&&e!==e}function Bv(t,e){for(var i=t.length;i--;)if(Iv(t[i][0],e))return i;return-1}var Tee=Array.prototype,Cee=Tee.splice;function Eee(t){var e=this.__data__,i=Bv(e,t);if(i<0)return!1;var s=e.length-1;return i==s?e.pop():Cee.call(e,i,1),--this.size,!0}function Oee(t){var e=this.__data__,i=Bv(e,t);return i<0?void 0:e[i][1]}function Aee(t){return Bv(this.__data__,t)>-1}function Pee(t,e){var i=this.__data__,s=Bv(i,t);return s<0?(++this.size,i.push([t,e])):i[s][1]=e,this}function vl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}vl.prototype.clear=See;vl.prototype.delete=Eee;vl.prototype.get=Oee;vl.prototype.has=Aee;vl.prototype.set=Pee;var Ap=Th(ko,"Map");function Mee(){this.size=0,this.__data__={hash:new yh,map:new(Ap||vl),string:new yh}}function Lee(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Nv(t,e){var i=t.__data__;return Lee(e)?i[typeof e=="string"?"string":"hash"]:i.map}function Ree(t){var e=Nv(this,t).delete(t);return this.size-=e?1:0,e}function Fee(t){return Nv(this,t).get(t)}function Dee(t){return Nv(this,t).has(t)}function Iee(t,e){var i=Nv(this,t),s=i.size;return i.set(t,e),this.size+=i.size==s?0:1,this}function Gl(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var s=t[e];this.set(s[0],s[1])}}Gl.prototype.clear=Mee;Gl.prototype.delete=Ree;Gl.prototype.get=Fee;Gl.prototype.has=Dee;Gl.prototype.set=Iee;var Bee="Expected a function";function Xp(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Bee);var i=function(){var s=arguments,a=e?e.apply(this,s):s[0],l=i.cache;if(l.has(a))return l.get(a);var o=t.apply(this,s);return i.cache=l.set(a,o)||l,o};return i.cache=new(Xp.Cache||Gl),i}Xp.Cache=Gl;function Nee(){this.__data__=new vl,this.size=0}function zee(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function Uee(t){return this.__data__.get(t)}function Hee(t){return this.__data__.has(t)}var Wee=200;function jee(t,e){var i=this.__data__;if(i instanceof vl){var s=i.__data__;if(!Ap||s.length<Wee-1)return s.push([t,e]),this.size=++i.size,this;i=this.__data__=new Gl(s)}return i.set(t,e),this.size=i.size,this}function ed(t){var e=this.__data__=new vl(t);this.size=e.size}ed.prototype.clear=Nee;ed.prototype.delete=zee;ed.prototype.get=Uee;ed.prototype.has=Hee;ed.prototype.set=jee;var jy=function(){try{var t=Th(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Yk(t,e,i){e=="__proto__"&&jy?jy(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function nx(t,e,i){(i!==void 0&&!Iv(t[e],i)||i===void 0&&!(e in t))&&Yk(t,e,i)}function qee(t){return function(e,i,s){for(var a=-1,l=Object(e),o=s(e),h=o.length;h--;){var d=o[++a];if(i(l[d],d,l)===!1)break}return e}}var $ee=qee(),gI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,RL=gI&&typeof module=="object"&&module&&!module.nodeType&&module,Vee=RL&&RL.exports===gI,FL=Vee?ko.Buffer:void 0,DL=FL?FL.allocUnsafe:void 0;function Yee(t,e){if(e)return t.slice();var i=t.length,s=DL?DL(i):new t.constructor(i);return t.copy(s),s}var IL=ko.Uint8Array;function Gee(t){var e=new t.constructor(t.byteLength);return new IL(e).set(new IL(t)),e}function Xee(t,e){var i=e?Gee(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function Kee(t,e){var i=-1,s=t.length;for(e||(e=Array(s));++i<s;)e[i]=t[i];return e}var BL=Object.create,Zee=function(){function t(){}return function(e){if(!kh(e))return{};if(BL)return BL(e);t.prototype=e;var i=new t;return t.prototype=void 0,i}}();function yI(t,e){return function(i){return t(e(i))}}var vI=yI(Object.getPrototypeOf,Object),Qee=Object.prototype;function zv(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Qee;return t===i}function Jee(t){return typeof t.constructor=="function"&&!zv(t)?Zee(vI(t)):{}}function Kp(t){return t!=null&&typeof t=="object"}var ete="[object Arguments]";function NL(t){return Kp(t)&&Ju(t)==ete}var bI=Object.prototype,tte=bI.hasOwnProperty,ite=bI.propertyIsEnumerable,qy=NL(function(){return arguments}())?NL:function(t){return Kp(t)&&tte.call(t,"callee")&&!ite.call(t,"callee")},$y=Array.isArray,rte=9007199254740991;function wI(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=rte}function Uv(t){return t!=null&&wI(t.length)&&!Vk(t)}function ste(t){return Kp(t)&&Uv(t)}function ate(){return!1}var _I=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zL=_I&&typeof module=="object"&&module&&!module.nodeType&&module,nte=zL&&zL.exports===_I,UL=nte?ko.Buffer:void 0,ote=UL?UL.isBuffer:void 0,Gk=ote||ate,lte="[object Object]",cte=Function.prototype,hte=Object.prototype,xI=cte.toString,ute=hte.hasOwnProperty,dte=xI.call(Object);function fte(t){if(!Kp(t)||Ju(t)!=lte)return!1;var e=vI(t);if(e===null)return!0;var i=ute.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&xI.call(i)==dte}var pte="[object Arguments]",mte="[object Array]",gte="[object Boolean]",yte="[object Date]",vte="[object Error]",bte="[object Function]",wte="[object Map]",_te="[object Number]",xte="[object Object]",kte="[object RegExp]",Ste="[object Set]",Tte="[object String]",Cte="[object WeakMap]",Ete="[object ArrayBuffer]",Ote="[object DataView]",Ate="[object Float32Array]",Pte="[object Float64Array]",Mte="[object Int8Array]",Lte="[object Int16Array]",Rte="[object Int32Array]",Fte="[object Uint8Array]",Dte="[object Uint8ClampedArray]",Ite="[object Uint16Array]",Bte="[object Uint32Array]",Hr={};Hr[Ate]=Hr[Pte]=Hr[Mte]=Hr[Lte]=Hr[Rte]=Hr[Fte]=Hr[Dte]=Hr[Ite]=Hr[Bte]=!0;Hr[pte]=Hr[mte]=Hr[Ete]=Hr[gte]=Hr[Ote]=Hr[yte]=Hr[vte]=Hr[bte]=Hr[wte]=Hr[_te]=Hr[xte]=Hr[kte]=Hr[Ste]=Hr[Tte]=Hr[Cte]=!1;function Nte(t){return Kp(t)&&wI(t.length)&&!!Hr[Ju(t)]}function zte(t){return function(e){return t(e)}}var kI=typeof exports=="object"&&exports&&!exports.nodeType&&exports,op=kI&&typeof module=="object"&&module&&!module.nodeType&&module,Ute=op&&op.exports===kI,t1=Ute&&pI.process,HL=function(){try{var t=op&&op.require&&op.require("util").types;return t||t1&&t1.binding&&t1.binding("util")}catch{}}(),WL=HL&&HL.isTypedArray,Xk=WL?zte(WL):Nte;function ox(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Hte=Object.prototype,Wte=Hte.hasOwnProperty;function jte(t,e,i){var s=t[e];(!(Wte.call(t,e)&&Iv(s,i))||i===void 0&&!(e in t))&&Yk(t,e,i)}function qte(t,e,i,s){var a=!i;i||(i={});for(var l=-1,o=e.length;++l<o;){var h=e[l],d=void 0;d===void 0&&(d=t[h]),a?Yk(i,h,d):jte(i,h,d)}return i}function $te(t,e){for(var i=-1,s=Array(t);++i<t;)s[i]=e(i);return s}var Vte=9007199254740991,Yte=/^(?:0|[1-9]\d*)$/;function SI(t,e){var i=typeof t;return e=e??Vte,!!e&&(i=="number"||i!="symbol"&&Yte.test(t))&&t>-1&&t%1==0&&t<e}var Gte=Object.prototype,Xte=Gte.hasOwnProperty;function Kte(t,e){var i=$y(t),s=!i&&qy(t),a=!i&&!s&&Gk(t),l=!i&&!s&&!a&&Xk(t),o=i||s||a||l,h=o?$te(t.length,String):[],d=h.length;for(var m in t)(e||Xte.call(t,m))&&!(o&&(m=="length"||a&&(m=="offset"||m=="parent")||l&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||SI(m,d)))&&h.push(m);return h}function Zte(t){var e=[];if(t!=null)for(var i in Object(t))e.push(i);return e}var Qte=Object.prototype,Jte=Qte.hasOwnProperty;function eie(t){if(!kh(t))return Zte(t);var e=zv(t),i=[];for(var s in t)s=="constructor"&&(e||!Jte.call(t,s))||i.push(s);return i}function TI(t){return Uv(t)?Kte(t,!0):eie(t)}function tie(t){return qte(t,TI(t))}function iie(t,e,i,s,a,l,o){var h=ox(t,i),d=ox(e,i),m=o.get(d);if(m){nx(t,i,m);return}var f=l?l(h,d,i+"",t,e,o):void 0,b=f===void 0;if(b){var k=$y(d),w=!k&&Gk(d),E=!k&&!w&&Xk(d);f=d,k||w||E?$y(h)?f=h:ste(h)?f=Kee(h):w?(b=!1,f=Yee(d,!0)):E?(b=!1,f=Xee(d,!0)):f=[]:fte(d)||qy(d)?(f=h,qy(h)?f=tie(h):(!kh(h)||Vk(h))&&(f=Jee(d))):b=!1}b&&(o.set(d,f),a(f,d,s,l,o),o.delete(d)),nx(t,i,f)}function CI(t,e,i,s,a){t!==e&&$ee(e,function(l,o){if(a||(a=new ed),kh(l))iie(t,e,o,i,CI,s,a);else{var h=s?s(ox(t,o),l,o+"",t,e,a):void 0;h===void 0&&(h=l),nx(t,o,h)}},TI)}function EI(t){return t}function rie(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}var jL=Math.max;function sie(t,e,i){return e=jL(e===void 0?t.length-1:e,0),function(){for(var s=arguments,a=-1,l=jL(s.length-e,0),o=Array(l);++a<l;)o[a]=s[e+a];a=-1;for(var h=Array(e+1);++a<e;)h[a]=s[a];return h[e]=i(o),rie(t,this,h)}}function aie(t){return function(){return t}}var nie=jy?function(t,e){return jy(t,"toString",{configurable:!0,enumerable:!1,value:aie(e),writable:!0})}:EI,oie=800,lie=16,cie=Date.now;function hie(t){var e=0,i=0;return function(){var s=cie(),a=lie-(s-i);if(i=s,a>0){if(++e>=oie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var uie=hie(nie);function die(t,e){return uie(sie(t,e,EI),t+"")}function fie(t,e,i){if(!kh(i))return!1;var s=typeof e;return(s=="number"?Uv(i)&&SI(e,i.length):s=="string"&&e in i)?Iv(i[e],t):!1}function pie(t){return die(function(e,i){var s=-1,a=i.length,l=a>1?i[a-1]:void 0,o=a>2?i[2]:void 0;for(l=t.length>3&&typeof l=="function"?(a--,l):void 0,o&&fie(i[0],i[1],o)&&(l=a<3?void 0:l,a=1),e=Object(e);++s<a;){var h=i[s];h&&t(e,h,s,l)}return e})}var mie=pie(function(t,e,i){CI(t,e,i)}),gie="",yie={curveBasis:ry,curveBasisClosed:FJ,curveBasisOpen:DJ,curveBumpX:G5,curveBumpY:X5,curveBundle:IJ,curveCardinalClosed:BJ,curveCardinalOpen:NJ,curveCardinal:J5,curveCatmullRomClosed:zJ,curveCatmullRomOpen:UJ,curveCatmullRom:tI,curveLinear:Ny,curveLinearClosed:HJ,curveMonotoneX:oI,curveMonotoneY:lI,curveNatural:hI,curveStep:uI,curveStepAfter:fI,curveStepBefore:dI},vie=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,bie=q(function(t,e){const i=OI(t,/(?:init\b)|(?:initialize\b)/);let s={};if(Array.isArray(i)){const o=i.map(h=>h.args);xy(o),s=$s(s,[...o])}else s=i.args;if(!s)return;let a=vk(t,e);const l="config";return s[l]!==void 0&&(a==="flowchart-v2"&&(a="flowchart"),s[a]=s[l],delete s[l]),s},"detectInit"),OI=q(function(t,e=null){var i,s;try{const a=new RegExp(`[%]{2}(?![{]${vie.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(a,"").replace(/'/gm,'"'),ct.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let l;const o=[];for(;(l=ap.exec(t))!==null;)if(l.index===ap.lastIndex&&ap.lastIndex++,l&&!e||e&&((i=l[1])!=null&&i.match(e))||e&&((s=l[2])!=null&&s.match(e))){const h=l[1]?l[1]:l[2],d=l[3]?l[3].trim():l[4]?JSON.parse(l[4].trim()):null;o.push({type:h,args:d})}return o.length===0?{type:t,args:null}:o.length===1?o[0]:o}catch(a){return ct.error(`ERROR: ${a.message} - Unable to parse directive type: '${e}' based on the text: '${t}'`),{type:void 0,args:null}}},"detectDirective"),wie=q(function(t){return t.replace(ap,"")},"removeDirectives"),_ie=q(function(t,e){for(const[i,s]of e.entries())if(s.match(t))return i;return-1},"isSubstringInArray");function Kk(t,e){if(!t)return e;const i=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return yie[i]??e}q(Kk,"interpolateToCurve");function AI(t,e){const i=t.trim();if(i)return e.securityLevel!=="loose"?v5(i):i}q(AI,"formatUrl");var xie=q((t,...e)=>{const i=t.split("."),s=i.length-1,a=i[s];let l=window;for(let o=0;o<s;o++)if(l=l[i[o]],!l){ct.error(`Function name: ${t} not found in window`);return}l[a](...e)},"runFunc");function Zk(t,e){return!t||!e?0:Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}q(Zk,"distance");function PI(t){let e,i=0;t.forEach(a=>{i+=Zk(a,e),e=a});const s=i/2;return Qk(t,s)}q(PI,"traverseEdge");function MI(t){return t.length===1?t[0]:PI(t)}q(MI,"calcLabelPosition");var qL=q((t,e=2)=>{const i=Math.pow(10,e);return Math.round(t*i)/i},"roundNumber"),Qk=q((t,e)=>{let i,s=e;for(const a of t){if(i){const l=Zk(a,i);if(l===0)return i;if(l<s)s-=l;else{const o=s/l;if(o<=0)return i;if(o>=1)return{x:a.x,y:a.y};if(o>0&&o<1)return{x:qL((1-o)*i.x+o*a.x,5),y:qL((1-o)*i.y+o*a.y,5)}}}i=a}throw new Error("Could not find a suitable point for the given distance")},"calculatePoint"),kie=q((t,e,i)=>{ct.info(`our points ${JSON.stringify(e)}`),e[0]!==i&&(e=e.reverse());const a=Qk(e,25),l=t?10:5,o=Math.atan2(e[0].y-a.y,e[0].x-a.x),h={x:0,y:0};return h.x=Math.sin(o)*l+(e[0].x+a.x)/2,h.y=-Math.cos(o)*l+(e[0].y+a.y)/2,h},"calcCardinalityPosition");function LI(t,e,i){const s=structuredClone(i);ct.info("our points",s),e!=="start_left"&&e!=="start_right"&&s.reverse();const a=25+t,l=Qk(s,a),o=10+t*.5,h=Math.atan2(s[0].y-l.y,s[0].x-l.x),d={x:0,y:0};return e==="start_left"?(d.x=Math.sin(h+Math.PI)*o+(s[0].x+l.x)/2,d.y=-Math.cos(h+Math.PI)*o+(s[0].y+l.y)/2):e==="end_right"?(d.x=Math.sin(h-Math.PI)*o+(s[0].x+l.x)/2-5,d.y=-Math.cos(h-Math.PI)*o+(s[0].y+l.y)/2-5):e==="end_left"?(d.x=Math.sin(h)*o+(s[0].x+l.x)/2-5,d.y=-Math.cos(h)*o+(s[0].y+l.y)/2-5):(d.x=Math.sin(h)*o+(s[0].x+l.x)/2,d.y=-Math.cos(h)*o+(s[0].y+l.y)/2),d}q(LI,"calcTerminalLabelPosition");function RI(t){let e="",i="";for(const s of t)s!==void 0&&(s.startsWith("color:")||s.startsWith("text-align:")?i=i+s+";":e=e+s+";");return{style:e,labelStyle:i}}q(RI,"getStylesFromArray");var $L=0,Sie=q(()=>($L++,"id-"+Math.random().toString(36).substr(2,12)+"-"+$L),"generateId");function FI(t){let e="";const i="0123456789abcdef",s=i.length;for(let a=0;a<t;a++)e+=i.charAt(Math.floor(Math.random()*s));return e}q(FI,"makeRandomHex");var Tie=q(t=>FI(t.length),"random"),Cie=q(function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},"getTextObj"),Eie=q(function(t,e){const i=e.text.replace(Zu.lineBreakRegex," "),[,s]=Hv(e.fontSize),a=t.append("text");a.attr("x",e.x),a.attr("y",e.y),a.style("text-anchor",e.anchor),a.style("font-family",e.fontFamily),a.style("font-size",s),a.style("font-weight",e.fontWeight),a.attr("fill",e.fill),e.class!==void 0&&a.attr("class",e.class);const l=a.append("tspan");return l.attr("x",e.x+e.textMargin*2),l.attr("fill",e.fill),l.text(i),a},"drawSimpleText"),Oie=Xp((t,e,i)=>{if(!t||(i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},i),Zu.lineBreakRegex.test(t)))return t;const s=t.split(" ").filter(Boolean),a=[];let l="";return s.forEach((o,h)=>{const d=ul(`${o} `,i),m=ul(l,i);if(d>e){const{hyphenatedStrings:k,remainingWord:w}=Aie(o,e,"-",i);a.push(l,...k),l=w}else m+d>=e?(a.push(l),l=o):l=[l,o].filter(Boolean).join(" ");h+1===s.length&&a.push(l)}),a.filter(o=>o!=="").join(i.joinWith)},(t,e,i)=>`${t}${e}${i.fontSize}${i.fontWeight}${i.fontFamily}${i.joinWith}`),Aie=Xp((t,e,i="-",s)=>{s=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},s);const a=[...t],l=[];let o="";return a.forEach((h,d)=>{const m=`${o}${h}`;if(ul(m,s)>=e){const b=d+1,k=a.length===b,w=`${m}${i}`;l.push(k?m:w),o=""}else o=m}),{hyphenatedStrings:l,remainingWord:o}},(t,e,i="-",s)=>`${t}${e}${i}${s.fontSize}${s.fontWeight}${s.fontFamily}`);function DI(t,e){return Jk(t,e).height}q(DI,"calculateTextHeight");function ul(t,e){return Jk(t,e).width}q(ul,"calculateTextWidth");var Jk=Xp((t,e)=>{const{fontSize:i=12,fontFamily:s="Arial",fontWeight:a=400}=e;if(!t)return{width:0,height:0};const[,l]=Hv(i),o=["sans-serif",s],h=t.split(Zu.lineBreakRegex),d=[],m=er("body");if(!m.remove)return{width:0,height:0,lineHeight:0};const f=m.append("svg");for(const k of o){let w=0;const E={width:0,height:0,lineHeight:0};for(const P of h){const L=Cie();L.text=P||gie;const R=Eie(f,L).style("font-size",l).style("font-weight",a).style("font-family",k),u=(R._groups||R)[0][0].getBBox();if(u.width===0&&u.height===0)throw new Error("svg element not in render tree");E.width=Math.round(Math.max(E.width,u.width)),w=Math.round(u.height),E.height+=w,E.lineHeight=Math.round(Math.max(E.lineHeight,w))}d.push(E)}f.remove();const b=isNaN(d[1].height)||isNaN(d[1].width)||isNaN(d[1].lineHeight)||d[0].height>d[1].height&&d[0].width>d[1].width&&d[0].lineHeight>d[1].lineHeight?0:1;return d[b]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),Tu,Pie=(Tu=class{constructor(e=!1,i){this.count=0,this.count=i?i.length:0,this.next=e?()=>this.count++:()=>Date.now()}},q(Tu,"InitIDGenerator"),Tu),Bg,Mie=q(function(t){return Bg=Bg||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),Bg.innerHTML=t,unescape(Bg.textContent)},"entityDecode");function eS(t){return"str"in t}q(eS,"isDetailedError");var Lie=q((t,e,i,s)=>{var l;if(!s)return;const a=(l=t.node())==null?void 0:l.getBBox();a&&t.append("text").text(s).attr("text-anchor","middle").attr("x",a.x+a.width/2).attr("y",-i).attr("class",e)},"insertTitle"),Hv=q(t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t??"",10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},"parseFontSize");function tS(t,e){return mie({},t,e)}q(tS,"cleanAndMerge");var Nn={assignWithDepth:$s,wrapLabel:Oie,calculateTextHeight:DI,calculateTextWidth:ul,calculateTextDimensions:Jk,cleanAndMerge:tS,detectInit:bie,detectDirective:OI,isSubstringInArray:_ie,interpolateToCurve:Kk,calcLabelPosition:MI,calcCardinalityPosition:kie,calcTerminalLabelPosition:LI,formatUrl:AI,getStylesFromArray:RI,generateId:Sie,random:Tie,runFunc:xie,entityDecode:Mie,insertTitle:Lie,isLabelCoordinateInPath:II,parseFontSize:Hv,InitIDGenerator:Pie},Rie=q(function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(i){return i.substring(0,i.length-1)}),e=e.replace(/#\w+;/g,function(i){const s=i.substring(1,i.length-1);return/^\+?\d+$/.test(s)?""+s+"":""+s+""}),e},"encodeEntities"),Ch=q(function(t){return t.replace(//g,"&#").replace(//g,"&").replace(//g,";")},"decodeEntities"),vce=q((t,e,{counter:i=0,prefix:s,suffix:a},l)=>l||`${s?`${s}_`:""}${t}_${e}_${i}${a?`_${a}`:""}`,"getEdgeId");function Ia(t){return t??null}q(Ia,"handleUndefinedAttr");function II(t,e){const i=Math.round(t.x),s=Math.round(t.y),a=e.replace(/(\d+\.\d+)/g,l=>Math.round(parseFloat(l)).toString());return a.includes(i.toString())||a.includes(s.toString())}q(II,"isLabelCoordinateInPath");const Fie=Object.freeze({left:0,top:0,width:16,height:16}),Vy=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),BI=Object.freeze({...Fie,...Vy}),Die=Object.freeze({...BI,body:"",hidden:!1}),Iie=Object.freeze({width:null,height:null}),Bie=Object.freeze({...Iie,...Vy}),Nie=(t,e,i,s="")=>{const a=t.split(":");if(t.slice(0,1)==="@"){if(a.length<2||a.length>3)return null;s=a.shift().slice(1)}if(a.length>3||!a.length)return null;if(a.length>1){const h=a.pop(),d=a.pop(),m={provider:a.length>0?a[0]:s,prefix:d,name:h};return i1(m)?m:null}const l=a[0],o=l.split("-");if(o.length>1){const h={provider:s,prefix:o.shift(),name:o.join("-")};return i1(h)?h:null}if(i&&s===""){const h={provider:s,prefix:"",name:l};return i1(h,i)?h:null}return null},i1=(t,e)=>t?!!((e&&t.prefix===""||t.prefix)&&t.name):!1;function zie(t,e){const i={};!t.hFlip!=!e.hFlip&&(i.hFlip=!0),!t.vFlip!=!e.vFlip&&(i.vFlip=!0);const s=((t.rotate||0)+(e.rotate||0))%4;return s&&(i.rotate=s),i}function VL(t,e){const i=zie(t,e);for(const s in Die)s in Vy?s in t&&!(s in i)&&(i[s]=Vy[s]):s in e?i[s]=e[s]:s in t&&(i[s]=t[s]);return i}function Uie(t,e){const i=t.icons,s=t.aliases||Object.create(null),a=Object.create(null);function l(o){if(i[o])return a[o]=[];if(!(o in a)){a[o]=null;const h=s[o]&&s[o].parent,d=h&&l(h);d&&(a[o]=[h].concat(d))}return a[o]}return(e||Object.keys(i).concat(Object.keys(s))).forEach(l),a}function YL(t,e,i){const s=t.icons,a=t.aliases||Object.create(null);let l={};function o(h){l=VL(s[h]||a[h],l)}return o(e),i.forEach(o),VL(t,l)}function Hie(t,e){if(t.icons[e])return YL(t,e,[]);const i=Uie(t,[e])[e];return i?YL(t,e,i):null}const Wie=/(-?[0-9.]*[0-9]+[0-9.]*)/g,jie=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function GL(t,e,i){if(e===1)return t;if(i=i||100,typeof t=="number")return Math.ceil(t*e*i)/i;if(typeof t!="string")return t;const s=t.split(Wie);if(s===null||!s.length)return t;const a=[];let l=s.shift(),o=jie.test(l);for(;;){if(o){const h=parseFloat(l);isNaN(h)?a.push(l):a.push(Math.ceil(h*e*i)/i)}else a.push(l);if(l=s.shift(),l===void 0)return a.join("");o=!o}}function qie(t,e="defs"){let i="";const s=t.indexOf("<"+e);for(;s>=0;){const a=t.indexOf(">",s),l=t.indexOf("</"+e);if(a===-1||l===-1)break;const o=t.indexOf(">",l);if(o===-1)break;i+=t.slice(a+1,l).trim(),t=t.slice(0,s).trim()+t.slice(o+1)}return{defs:i,content:t}}function $ie(t,e){return t?"<defs>"+t+"</defs>"+e:e}function Vie(t,e,i){const s=qie(t);return $ie(s.defs,e+s.content+i)}const Yie=t=>t==="unset"||t==="undefined"||t==="none";function Gie(t,e){const i={...BI,...t},s={...Bie,...e},a={left:i.left,top:i.top,width:i.width,height:i.height};let l=i.body;[i,s].forEach(P=>{const L=[],R=P.hFlip,u=P.vFlip;let T=P.rotate;R?u?T+=2:(L.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),L.push("scale(-1 1)"),a.top=a.left=0):u&&(L.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),L.push("scale(1 -1)"),a.top=a.left=0);let y;switch(T<0&&(T-=Math.floor(T/4)*4),T=T%4,T){case 1:y=a.height/2+a.top,L.unshift("rotate(90 "+y.toString()+" "+y.toString()+")");break;case 2:L.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:y=a.width/2+a.left,L.unshift("rotate(-90 "+y.toString()+" "+y.toString()+")");break}T%2===1&&(a.left!==a.top&&(y=a.left,a.left=a.top,a.top=y),a.width!==a.height&&(y=a.width,a.width=a.height,a.height=y)),L.length&&(l=Vie(l,'<g transform="'+L.join(" ")+'">',"</g>"))});const o=s.width,h=s.height,d=a.width,m=a.height;let f,b;o===null?(b=h===null?"1em":h==="auto"?m:h,f=GL(b,d/m)):(f=o==="auto"?d:o,b=h===null?GL(f,m/d):h==="auto"?m:h);const k={},w=(P,L)=>{Yie(L)||(k[P]=L.toString())};w("width",f),w("height",b);const E=[a.left,a.top,d,m];return k.viewBox=E.join(" "),{attributes:k,viewBox:E,body:l}}const Xie=/\sid="(\S+)"/g,Kie="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let Zie=0;function Qie(t,e=Kie){const i=[];let s;for(;s=Xie.exec(t);)i.push(s[1]);if(!i.length)return t;const a="suffix"+(Math.random()*16777216|Date.now()).toString(16);return i.forEach(l=>{const o=typeof e=="function"?e(l):e+(Zie++).toString(),h=l.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+h+')([")]|\\.[a-z])',"g"),"$1"+o+a+"$3")}),t=t.replace(new RegExp(a,"g"),""),t}function Jie(t,e){let i=t.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const s in e)i+=" "+s+'="'+e[s]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+i+">"+t+"</svg>"}function iS(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Eh=iS();function NI(t){Eh=t}var lp={exec:()=>null};function mr(t,e=""){let i=typeof t=="string"?t:t.source,s={replace:(a,l)=>{let o=typeof l=="string"?l:l.source;return o=o.replace(va.caret,"$1"),i=i.replace(a,o),s},getRegex:()=>new RegExp(i,e)};return s}var va={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},ere=/^(?:[ \t]*(?:\n|$))+/,tre=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,ire=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Zp=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,rre=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,rS=/(?:[*+-]|\d{1,9}[.)])/,zI=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,UI=mr(zI).replace(/bull/g,rS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),sre=mr(zI).replace(/bull/g,rS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),sS=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,are=/^[^\n]+/,aS=/(?!\s*\])(?:\\.|[^\[\]\\])+/,nre=mr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",aS).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ore=mr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,rS).getRegex(),Wv="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",nS=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,lre=mr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",nS).replace("tag",Wv).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),HI=mr(sS).replace("hr",Zp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex(),cre=mr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",HI).getRegex(),oS={blockquote:cre,code:tre,def:nre,fences:ire,heading:rre,hr:Zp,html:lre,lheading:UI,list:ore,newline:ere,paragraph:HI,table:lp,text:are},XL=mr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Zp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex(),hre={...oS,lheading:sre,table:XL,paragraph:mr(sS).replace("hr",Zp).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",XL).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Wv).getRegex()},ure={...oS,html:mr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",nS).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:lp,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:mr(sS).replace("hr",Zp).replace("heading",` *#{1,6} *[^
]`).replace("lheading",UI).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},dre=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,fre=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,WI=/^( {2,}|\\)\n(?!\s*$)/,pre=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,jv=/[\p{P}\p{S}]/u,lS=/[\s\p{P}\p{S}]/u,jI=/[^\s\p{P}\p{S}]/u,mre=mr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,lS).getRegex(),qI=/(?!~)[\p{P}\p{S}]/u,gre=/(?!~)[\s\p{P}\p{S}]/u,yre=/(?:[^\s\p{P}\p{S}]|~)/u,vre=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,$I=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,bre=mr($I,"u").replace(/punct/g,jv).getRegex(),wre=mr($I,"u").replace(/punct/g,qI).getRegex(),VI="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",_re=mr(VI,"gu").replace(/notPunctSpace/g,jI).replace(/punctSpace/g,lS).replace(/punct/g,jv).getRegex(),xre=mr(VI,"gu").replace(/notPunctSpace/g,yre).replace(/punctSpace/g,gre).replace(/punct/g,qI).getRegex(),kre=mr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,jI).replace(/punctSpace/g,lS).replace(/punct/g,jv).getRegex(),Sre=mr(/\\(punct)/,"gu").replace(/punct/g,jv).getRegex(),Tre=mr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Cre=mr(nS).replace("(?:-->|$)","-->").getRegex(),Ere=mr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Cre).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Yy=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,Ore=mr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Yy).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),YI=mr(/^!?\[(label)\]\[(ref)\]/).replace("label",Yy).replace("ref",aS).getRegex(),GI=mr(/^!?\[(ref)\](?:\[\])?/).replace("ref",aS).getRegex(),Are=mr("reflink|nolink(?!\\()","g").replace("reflink",YI).replace("nolink",GI).getRegex(),cS={_backpedal:lp,anyPunctuation:Sre,autolink:Tre,blockSkip:vre,br:WI,code:fre,del:lp,emStrongLDelim:bre,emStrongRDelimAst:_re,emStrongRDelimUnd:kre,escape:dre,link:Ore,nolink:GI,punctuation:mre,reflink:YI,reflinkSearch:Are,tag:Ere,text:pre,url:lp},Pre={...cS,link:mr(/^!?\[(label)\]\((.*?)\)/).replace("label",Yy).getRegex(),reflink:mr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Yy).getRegex()},lx={...cS,emStrongRDelimAst:xre,emStrongLDelim:wre,url:mr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Mre={...lx,br:mr(WI).replace("{2,}","*").getRegex(),text:mr(lx.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Ng={normal:oS,gfm:hre,pedantic:ure},Bf={normal:cS,gfm:lx,breaks:Mre,pedantic:Pre},Lre={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},KL=t=>Lre[t];function ao(t,e){if(e){if(va.escapeTest.test(t))return t.replace(va.escapeReplace,KL)}else if(va.escapeTestNoEncode.test(t))return t.replace(va.escapeReplaceNoEncode,KL);return t}function ZL(t){try{t=encodeURI(t).replace(va.percentDecode,"%")}catch{return null}return t}function QL(t,e){var l;let i=t.replace(va.findPipe,(o,h,d)=>{let m=!1,f=h;for(;--f>=0&&d[f]==="\\";)m=!m;return m?"|":" |"}),s=i.split(va.splitPipe),a=0;if(s[0].trim()||s.shift(),s.length>0&&!((l=s.at(-1))!=null&&l.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(va.slashPipe,"|");return s}function Nf(t,e,i){let s=t.length;if(s===0)return"";let a=0;for(;a<s&&t.charAt(s-a-1)===e;)a++;return t.slice(0,s-a)}function Rre(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function JL(t,e,i,s,a){let l=e.href,o=e.title||null,h=t[1].replace(a.other.outputLinkReplace,"$1");s.state.inLink=!0;let d={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:l,title:o,text:h,tokens:s.inlineTokens(h)};return s.state.inLink=!1,d}function Fre(t,e,i){let s=t.match(i.other.indentCodeCompensation);if(s===null)return e;let a=s[1];return e.split(`
`).map(l=>{let o=l.match(i.other.beginningSpace);if(o===null)return l;let[h]=o;return h.length>=a.length?l.slice(a.length):l}).join(`
`)}var Gy=class{constructor(e){wi(this,"options");wi(this,"rules");wi(this,"lexer");this.options=e||Eh}space(e){let i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){let i=this.rules.block.code.exec(e);if(i){let s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:Nf(s,`
`)}}}fences(e){let i=this.rules.block.fences.exec(e);if(i){let s=i[0],a=Fre(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:a}}}heading(e){let i=this.rules.block.heading.exec(e);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){let a=Nf(s,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(s=a.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){let i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:Nf(i[0],`
`)}}blockquote(e){let i=this.rules.block.blockquote.exec(e);if(i){let s=Nf(i[0],`
`).split(`
`),a="",l="",o=[];for(;s.length>0;){let h=!1,d=[],m;for(m=0;m<s.length;m++)if(this.rules.other.blockquoteStart.test(s[m]))d.push(s[m]),h=!0;else if(!h)d.push(s[m]);else break;s=s.slice(m);let f=d.join(`
`),b=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${f}`:f,l=l?`${l}
${b}`:b;let k=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,o,!0),this.lexer.state.top=k,s.length===0)break;let w=o.at(-1);if((w==null?void 0:w.type)==="code")break;if((w==null?void 0:w.type)==="blockquote"){let E=w,P=E.raw+`
`+s.join(`
`),L=this.blockquote(P);o[o.length-1]=L,a=a.substring(0,a.length-E.raw.length)+L.raw,l=l.substring(0,l.length-E.text.length)+L.text;break}else if((w==null?void 0:w.type)==="list"){let E=w,P=E.raw+`
`+s.join(`
`),L=this.list(P);o[o.length-1]=L,a=a.substring(0,a.length-w.raw.length)+L.raw,l=l.substring(0,l.length-E.raw.length)+L.raw,s=P.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:o,text:l}}}list(e){let i=this.rules.block.list.exec(e);if(i){let s=i[1].trim(),a=s.length>1,l={type:"list",raw:"",ordered:a,start:a?+s.slice(0,-1):"",loose:!1,items:[]};s=a?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=a?s:"[*+-]");let o=this.rules.other.listItemRegex(s),h=!1;for(;e;){let m=!1,f="",b="";if(!(i=o.exec(e))||this.rules.block.hr.test(e))break;f=i[0],e=e.substring(f.length);let k=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,u=>" ".repeat(3*u.length)),w=e.split(`
`,1)[0],E=!k.trim(),P=0;if(this.options.pedantic?(P=2,b=k.trimStart()):E?P=i[1].length+1:(P=i[2].search(this.rules.other.nonSpaceChar),P=P>4?1:P,b=k.slice(P),P+=i[1].length),E&&this.rules.other.blankLine.test(w)&&(f+=w+`
`,e=e.substring(w.length+1),m=!0),!m){let u=this.rules.other.nextBulletRegex(P),T=this.rules.other.hrRegex(P),y=this.rules.other.fencesBeginRegex(P),S=this.rules.other.headingBeginRegex(P),C=this.rules.other.htmlBeginRegex(P);for(;e;){let M=e.split(`
`,1)[0],I;if(w=M,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),I=w):I=w.replace(this.rules.other.tabCharGlobal,"    "),y.test(w)||S.test(w)||C.test(w)||u.test(w)||T.test(w))break;if(I.search(this.rules.other.nonSpaceChar)>=P||!w.trim())b+=`
`+I.slice(P);else{if(E||k.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(k)||S.test(k)||T.test(k))break;b+=`
`+w}!E&&!w.trim()&&(E=!0),f+=M+`
`,e=e.substring(M.length+1),k=I.slice(P)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(h=!0));let L=null,R;this.options.gfm&&(L=this.rules.other.listIsTask.exec(b),L&&(R=L[0]!=="[ ] ",b=b.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:f,task:!!L,checked:R,loose:!1,text:b,tokens:[]}),l.raw+=f}let d=l.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let m=0;m<l.items.length;m++)if(this.lexer.state.top=!1,l.items[m].tokens=this.lexer.blockTokens(l.items[m].text,[]),!l.loose){let f=l.items[m].tokens.filter(k=>k.type==="space"),b=f.length>0&&f.some(k=>this.rules.other.anyLine.test(k.raw));l.loose=b}if(l.loose)for(let m=0;m<l.items.length;m++)l.items[m].loose=!0;return l}}html(e){let i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){let i=this.rules.block.def.exec(e);if(i){let s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:a,title:l}}}table(e){var h;let i=this.rules.block.table.exec(e);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;let s=QL(i[1]),a=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=i[3])!=null&&h.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===a.length){for(let d of a)this.rules.other.tableAlignRight.test(d)?o.align.push("right"):this.rules.other.tableAlignCenter.test(d)?o.align.push("center"):this.rules.other.tableAlignLeft.test(d)?o.align.push("left"):o.align.push(null);for(let d=0;d<s.length;d++)o.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:o.align[d]});for(let d of l)o.rows.push(QL(d,o.header.length).map((m,f)=>({text:m,tokens:this.lexer.inline(m),header:!1,align:o.align[f]})));return o}}lheading(e){let i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){let i=this.rules.block.paragraph.exec(e);if(i){let s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(e){let i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){let i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(e){let i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){let i=this.rules.inline.link.exec(e);if(i){let s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;let o=Nf(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{let o=Rre(i[2],"()");if(o===-2)return;if(o>-1){let h=(i[0].indexOf("!")===0?5:4)+i[1].length+o;i[2]=i[2].substring(0,o),i[0]=i[0].substring(0,h).trim(),i[3]=""}}let a=i[2],l="";if(this.options.pedantic){let o=this.rules.other.pedanticHrefTitle.exec(a);o&&(a=o[1],l=o[3])}else l=i[3]?i[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?a=a.slice(1):a=a.slice(1,-1)),JL(i,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(e,i){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){let a=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=i[a.toLowerCase()];if(!l){let o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return JL(s,l,s[0],this.lexer,this.rules)}}emStrong(e,i,s=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!(!a||a[3]&&s.match(this.rules.other.unicodeAlphaNumeric))&&(!(a[1]||a[2])||!s||this.rules.inline.punctuation.exec(s))){let l=[...a[0]].length-1,o,h,d=l,m=0,f=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(f.lastIndex=0,i=i.slice(-1*e.length+l);(a=f.exec(i))!=null;){if(o=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!o)continue;if(h=[...o].length,a[3]||a[4]){d+=h;continue}else if((a[5]||a[6])&&l%3&&!((l+h)%3)){m+=h;continue}if(d-=h,d>0)continue;h=Math.min(h,h+d+m);let b=[...a[0]][0].length,k=e.slice(0,l+a.index+b+h);if(Math.min(l,h)%2){let E=k.slice(1,-1);return{type:"em",raw:k,text:E,tokens:this.lexer.inlineTokens(E)}}let w=k.slice(2,-2);return{type:"strong",raw:k,text:w,tokens:this.lexer.inlineTokens(w)}}}}codespan(e){let i=this.rules.inline.code.exec(e);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," "),a=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return a&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(e){let i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){let i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){let i=this.rules.inline.autolink.exec(e);if(i){let s,a;return i[2]==="@"?(s=i[1],a="mailto:"+s):(s=i[1],a=s),{type:"link",raw:i[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let i;if(i=this.rules.inline.url.exec(e)){let a,l;if(i[2]==="@")a=i[0],l="mailto:"+a;else{let o;do o=i[0],i[0]=((s=this.rules.inline._backpedal.exec(i[0]))==null?void 0:s[0])??"";while(o!==i[0]);a=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:a,href:l,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){let i=this.rules.inline.text.exec(e);if(i){let s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}},tl=class cx{constructor(e){wi(this,"tokens");wi(this,"options");wi(this,"state");wi(this,"tokenizer");wi(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Eh,this.options.tokenizer=this.options.tokenizer||new Gy,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={other:va,block:Ng.normal,inline:Bf.normal};this.options.pedantic?(i.block=Ng.pedantic,i.inline=Bf.pedantic):this.options.gfm&&(i.block=Ng.gfm,this.options.breaks?i.inline=Bf.breaks:i.inline=Bf.gfm),this.tokenizer.rules=i}static get rules(){return{block:Ng,inline:Bf}}static lex(e,i){return new cx(i).lex(e)}static lexInline(e,i){return new cx(i).inlineTokens(e)}lex(e){e=e.replace(va.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var a,l,o;for(this.options.pedantic&&(e=e.replace(va.tabCharGlobal,"    ").replace(va.spaceLine,""));e;){let h;if((l=(a=this.options.extensions)==null?void 0:a.block)!=null&&l.some(m=>(h=m.call({lexer:this},e,i))?(e=e.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(e)){e=e.substring(h.raw.length);let m=i.at(-1);h.raw.length===1&&m!==void 0?m.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(e)){e=e.substring(h.raw.length);let m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.text,this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(h=this.tokenizer.fences(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(e)){e=e.substring(h.raw.length);let m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.raw,this.inlineQueue.at(-1).src=m.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title},i.push(h));continue}if(h=this.tokenizer.table(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(e)){e=e.substring(h.raw.length),i.push(h);continue}let d=e;if((o=this.options.extensions)!=null&&o.startBlock){let m=1/0,f=e.slice(1),b;this.options.extensions.startBlock.forEach(k=>{b=k.call({lexer:this},f),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(d=e.substring(0,m+1))}if(this.state.top&&(h=this.tokenizer.paragraph(d))){let m=i.at(-1);s&&(m==null?void 0:m.type)==="paragraph"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h),s=d.length!==e.length,e=e.substring(h.raw.length);continue}if(h=this.tokenizer.text(e)){e=e.substring(h.raw.length);let m=i.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=(m.raw.endsWith(`
`)?"":`
`)+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var h,d,m;let s=e,a=null;if(this.tokens.links){let f=Object.keys(this.tokens.links);if(f.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,o="";for(;e;){l||(o=""),l=!1;let f;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(k=>(f=k.call({lexer:this},e,i))?(e=e.substring(f.raw.length),i.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);let k=i.at(-1);f.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=f.raw,k.text+=f.text):i.push(f);continue}if(f=this.tokenizer.emStrong(e,s,o)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),i.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),i.push(f);continue}let b=e;if((m=this.options.extensions)!=null&&m.startInline){let k=1/0,w=e.slice(1),E;this.options.extensions.startInline.forEach(P=>{E=P.call({lexer:this},w),typeof E=="number"&&E>=0&&(k=Math.min(k,E))}),k<1/0&&k>=0&&(b=e.substring(0,k+1))}if(f=this.tokenizer.inlineText(b)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),l=!0;let k=i.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=f.raw,k.text+=f.text):i.push(f);continue}if(e){let k="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return i}},Xy=class{constructor(e){wi(this,"options");wi(this,"parser");this.options=e||Eh}space(e){return""}code({text:e,lang:i,escaped:s}){var o;let a=(o=(i||"").match(va.notSpaceStart))==null?void 0:o[0],l=e.replace(va.endingNewline,"")+`
`;return a?'<pre><code class="language-'+ao(a)+'">'+(s?l:ao(l,!0))+`</code></pre>
`:"<pre><code>"+(s?l:ao(l,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){let i=e.ordered,s=e.start,a="";for(let h=0;h<e.items.length;h++){let d=e.items[h];a+=this.listitem(d)}let l=i?"ol":"ul",o=i&&s!==1?' start="'+s+'"':"";return"<"+l+o+`>
`+a+"</"+l+`>
`}listitem(e){var s;let i="";if(e.task){let a=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=a+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=a+" "+ao(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):i+=a+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",s="";for(let l=0;l<e.header.length;l++)s+=this.tablecell(e.header[l]);i+=this.tablerow({text:s});let a="";for(let l=0;l<e.rows.length;l++){let o=e.rows[l];s="";for(let h=0;h<o.length;h++)s+=this.tablecell(o[h]);a+=this.tablerow({text:s})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+a+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let i=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${ao(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:s}){let a=this.parser.parseInline(s),l=ZL(e);if(l===null)return a;e=l;let o='<a href="'+e+'"';return i&&(o+=' title="'+ao(i)+'"'),o+=">"+a+"</a>",o}image({href:e,title:i,text:s,tokens:a}){a&&(s=this.parser.parseInline(a,this.parser.textRenderer));let l=ZL(e);if(l===null)return ao(s);e=l;let o=`<img src="${e}" alt="${s}"`;return i&&(o+=` title="${ao(i)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:ao(e.text)}},hS=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},il=class hx{constructor(e){wi(this,"options");wi(this,"renderer");wi(this,"textRenderer");this.options=e||Eh,this.options.renderer=this.options.renderer||new Xy,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new hS}static parse(e,i){return new hx(i).parse(e)}static parseInline(e,i){return new hx(i).parseInline(e)}parse(e,i=!0){var a,l;let s="";for(let o=0;o<e.length;o++){let h=e[o];if((l=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&l[h.type]){let m=h,f=this.options.extensions.renderers[m.type].call({parser:this},m);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(m.type)){s+=f||"";continue}}let d=h;switch(d.type){case"space":{s+=this.renderer.space(d);continue}case"hr":{s+=this.renderer.hr(d);continue}case"heading":{s+=this.renderer.heading(d);continue}case"code":{s+=this.renderer.code(d);continue}case"table":{s+=this.renderer.table(d);continue}case"blockquote":{s+=this.renderer.blockquote(d);continue}case"list":{s+=this.renderer.list(d);continue}case"html":{s+=this.renderer.html(d);continue}case"def":{s+=this.renderer.def(d);continue}case"paragraph":{s+=this.renderer.paragraph(d);continue}case"text":{let m=d,f=this.renderer.text(m);for(;o+1<e.length&&e[o+1].type==="text";)m=e[++o],f+=`
`+this.renderer.text(m);i?s+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):s+=f;continue}default:{let m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}parseInline(e,i=this.renderer){var a,l;let s="";for(let o=0;o<e.length;o++){let h=e[o];if((l=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&l[h.type]){let m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){s+=m||"";continue}}let d=h;switch(d.type){case"escape":{s+=i.text(d);break}case"html":{s+=i.html(d);break}case"link":{s+=i.link(d);break}case"image":{s+=i.image(d);break}case"strong":{s+=i.strong(d);break}case"em":{s+=i.em(d);break}case"codespan":{s+=i.codespan(d);break}case"br":{s+=i.br(d);break}case"del":{s+=i.del(d);break}case"text":{s+=i.text(d);break}default:{let m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}},u1,sy=(u1=class{constructor(e){wi(this,"options");wi(this,"block");this.options=e||Eh}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?tl.lex:tl.lexInline}provideParser(){return this.block?il.parse:il.parseInline}},wi(u1,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"])),u1),Dre=class{constructor(...e){wi(this,"defaults",iS());wi(this,"options",this.setOptions);wi(this,"parse",this.parseMarkdown(!0));wi(this,"parseInline",this.parseMarkdown(!1));wi(this,"Parser",il);wi(this,"Renderer",Xy);wi(this,"TextRenderer",hS);wi(this,"Lexer",tl);wi(this,"Tokenizer",Gy);wi(this,"Hooks",sy);this.use(...e)}walkTokens(e,i){var a,l;let s=[];for(let o of e)switch(s=s.concat(i.call(this,o)),o.type){case"table":{let h=o;for(let d of h.header)s=s.concat(this.walkTokens(d.tokens,i));for(let d of h.rows)for(let m of d)s=s.concat(this.walkTokens(m.tokens,i));break}case"list":{let h=o;s=s.concat(this.walkTokens(h.items,i));break}default:{let h=o;(l=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(d=>{let m=h[d].flat(1/0);s=s.concat(this.walkTokens(m,i))}):h.tokens&&(s=s.concat(this.walkTokens(h.tokens,i)))}}return s}use(...e){let i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{let a={...s};if(a.async=this.defaults.async||a.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){let o=i.renderers[l.name];o?i.renderers[l.name]=function(...h){let d=l.renderer.apply(this,h);return d===!1&&(d=o.apply(this,h)),d}:i.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=i[l.level];o?o.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),a.extensions=i),s.renderer){let l=this.defaults.renderer||new Xy(this.defaults);for(let o in s.renderer){if(!(o in l))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;let h=o,d=s.renderer[h],m=l[h];l[h]=(...f)=>{let b=d.apply(l,f);return b===!1&&(b=m.apply(l,f)),b||""}}a.renderer=l}if(s.tokenizer){let l=this.defaults.tokenizer||new Gy(this.defaults);for(let o in s.tokenizer){if(!(o in l))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let h=o,d=s.tokenizer[h],m=l[h];l[h]=(...f)=>{let b=d.apply(l,f);return b===!1&&(b=m.apply(l,f)),b}}a.tokenizer=l}if(s.hooks){let l=this.defaults.hooks||new sy;for(let o in s.hooks){if(!(o in l))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;let h=o,d=s.hooks[h],m=l[h];sy.passThroughHooks.has(o)?l[h]=f=>{if(this.defaults.async)return Promise.resolve(d.call(l,f)).then(k=>m.call(l,k));let b=d.call(l,f);return m.call(l,b)}:l[h]=(...f)=>{let b=d.apply(l,f);return b===!1&&(b=m.apply(l,f)),b}}a.hooks=l}if(s.walkTokens){let l=this.defaults.walkTokens,o=s.walkTokens;a.walkTokens=function(h){let d=[];return d.push(o.call(this,h)),l&&(d=d.concat(l.call(this,h))),d}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return tl.lex(e,i??this.defaults)}parser(e,i){return il.parse(e,i??this.defaults)}parseMarkdown(e){return(i,s)=>{let a={...s},l={...this.defaults,...a},o=this.onError(!!l.silent,!!l.async);if(this.defaults.async===!0&&a.async===!1)return o(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));l.hooks&&(l.hooks.options=l,l.hooks.block=e);let h=l.hooks?l.hooks.provideLexer():e?tl.lex:tl.lexInline,d=l.hooks?l.hooks.provideParser():e?il.parse:il.parseInline;if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(i):i).then(m=>h(m,l)).then(m=>l.hooks?l.hooks.processAllTokens(m):m).then(m=>l.walkTokens?Promise.all(this.walkTokens(m,l.walkTokens)).then(()=>m):m).then(m=>d(m,l)).then(m=>l.hooks?l.hooks.postprocess(m):m).catch(o);try{l.hooks&&(i=l.hooks.preprocess(i));let m=h(i,l);l.hooks&&(m=l.hooks.processAllTokens(m)),l.walkTokens&&this.walkTokens(m,l.walkTokens);let f=d(m,l);return l.hooks&&(f=l.hooks.postprocess(f)),f}catch(m){return o(m)}}}onError(e,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let a="<p>An error occurred:</p><pre>"+ao(s.message+"",!0)+"</pre>";return i?Promise.resolve(a):a}if(i)return Promise.reject(s);throw s}}},vh=new Dre;function pr(t,e){return vh.parse(t,e)}pr.options=pr.setOptions=function(t){return vh.setOptions(t),pr.defaults=vh.defaults,NI(pr.defaults),pr};pr.getDefaults=iS;pr.defaults=Eh;pr.use=function(...t){return vh.use(...t),pr.defaults=vh.defaults,NI(pr.defaults),pr};pr.walkTokens=function(t,e){return vh.walkTokens(t,e)};pr.parseInline=vh.parseInline;pr.Parser=il;pr.parser=il.parse;pr.Renderer=Xy;pr.TextRenderer=hS;pr.Lexer=tl;pr.lexer=tl.lex;pr.Tokenizer=Gy;pr.Hooks=sy;pr.parse=pr;pr.options;pr.setOptions;pr.use;pr.walkTokens;pr.parseInline;il.parse;tl.lex;function XI(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var s=Array.from(typeof t=="string"?[t]:t);s[s.length-1]=s[s.length-1].replace(/\r?\n([\t ]*)$/,"");var a=s.reduce(function(h,d){var m=d.match(/\n([\t ]+|(?!\s).)/g);return m?h.concat(m.map(function(f){var b,k;return(k=(b=f.match(/[\t ]/g))===null||b===void 0?void 0:b.length)!==null&&k!==void 0?k:0})):h},[]);if(a.length){var l=new RegExp(`
[	 ]{`+Math.min.apply(Math,a)+"}","g");s=s.map(function(h){return h.replace(l,`
`)})}s[0]=s[0].replace(/^\r?\n/,"");var o=s[0];return e.forEach(function(h,d){var m=o.match(/(?:^|\n)( *)$/),f=m?m[1]:"",b=h;typeof h=="string"&&h.includes(`
`)&&(b=String(h).split(`
`).map(function(k,w){return w===0?k:""+f+k}).join(`
`)),o+=b+s[d+1]}),o}var Ire={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},ux=new Map,KI=new Map,Bre=q(t=>{for(const e of t){if(!e.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(ct.debug("Registering icon pack:",e.name),"loader"in e)KI.set(e.name,e.loader);else if("icons"in e)ux.set(e.name,e.icons);else throw ct.error("Invalid icon loader:",e),new Error('Invalid icon loader. Must have either "icons" or "loader" property.')}},"registerIconPacks"),ZI=q(async(t,e)=>{const i=Nie(t,!0,e!==void 0);if(!i)throw new Error(`Invalid icon name: ${t}`);const s=i.prefix||e;if(!s)throw new Error(`Icon name must contain a prefix: ${t}`);let a=ux.get(s);if(!a){const o=KI.get(s);if(!o)throw new Error(`Icon set not found: ${i.prefix}`);try{a={...await o(),prefix:s},ux.set(s,a)}catch(h){throw ct.error(h),new Error(`Failed to load icon set: ${i.prefix}`)}}const l=Hie(a,i.name);if(!l)throw new Error(`Icon not found: ${t}`);return l},"getRegisteredIconData"),Nre=q(async t=>{try{return await ZI(t),!0}catch{return!1}},"isIconAvailable"),Qp=q(async(t,e,i)=>{let s;try{s=await ZI(t,e==null?void 0:e.fallbackPrefix)}catch(o){ct.error(o),s=Ire}const a=Gie(s,e),l=Jie(Qie(a.body),{...a.attributes,...i});return vn(l,ia())},"getIconSVG");function QI(t,{markdownAutoWrap:e}){const s=t.replace(/<br\/>/g,`
`).replace(/\n{2,}/g,`
`),a=XI(s);return e===!1?a.replace(/ /g,"&nbsp;"):a}q(QI,"preprocessMarkdown");function JI(t,e={}){const i=QI(t,e),s=pr.lexer(i),a=[[]];let l=0;function o(h,d="normal"){h.type==="text"?h.text.split(`
`).forEach((f,b)=>{b!==0&&(l++,a.push([])),f.split(" ").forEach(k=>{k=k.replace(/&#39;/g,"'"),k&&a[l].push({content:k,type:d})})}):h.type==="strong"||h.type==="em"?h.tokens.forEach(m=>{o(m,h.type)}):h.type==="html"&&a[l].push({content:h.text,type:"normal"})}return q(o,"processNode"),s.forEach(h=>{var d;h.type==="paragraph"?(d=h.tokens)==null||d.forEach(m=>{o(m)}):h.type==="html"?a[l].push({content:h.text,type:"normal"}):a[l].push({content:h.raw,type:"normal"})}),a}q(JI,"markdownToLines");function eB(t,{markdownAutoWrap:e}={}){const i=pr.lexer(t);function s(a){var l,o,h;return a.type==="text"?e===!1?a.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):a.text.replace(/\n */g,"<br/>"):a.type==="strong"?`<strong>${(l=a.tokens)==null?void 0:l.map(s).join("")}</strong>`:a.type==="em"?`<em>${(o=a.tokens)==null?void 0:o.map(s).join("")}</em>`:a.type==="paragraph"?`<p>${(h=a.tokens)==null?void 0:h.map(s).join("")}</p>`:a.type==="space"?"":a.type==="html"?`${a.text}`:a.type==="escape"?a.text:(ct.warn(`Unsupported markdown: ${a.type}`),a.raw)}return q(s,"output"),i.map(s).join("")}q(eB,"markdownToHTML");function tB(t){return Intl.Segmenter?[...new Intl.Segmenter().segment(t)].map(e=>e.segment):[...t]}q(tB,"splitTextToChars");function iB(t,e){const i=tB(e.content);return uS(t,[],i,e.type)}q(iB,"splitWordToFitWidth");function uS(t,e,i,s){if(i.length===0)return[{content:e.join(""),type:s},{content:"",type:s}];const[a,...l]=i,o=[...e,a];return t([{content:o.join(""),type:s}])?uS(t,o,l,s):(e.length===0&&a&&(e.push(a),i.shift()),[{content:e.join(""),type:s},{content:i.join(""),type:s}])}q(uS,"splitWordToFitWidthRecursion");function rB(t,e){if(t.some(({content:i})=>i.includes(`
`)))throw new Error("splitLineToFitWidth does not support newlines in the line");return Ky(t,e)}q(rB,"splitLineToFitWidth");function Ky(t,e,i=[],s=[]){if(t.length===0)return s.length>0&&i.push(s),i.length>0?i:[];let a="";t[0].content===" "&&(a=" ",t.shift());const l=t.shift()??{content:" ",type:"normal"},o=[...s];if(a!==""&&o.push({content:a,type:"normal"}),o.push(l),e(o))return Ky(t,e,i,o);if(s.length>0)i.push(s),t.unshift(l);else if(l.content){const[h,d]=iB(e,l);i.push([h]),d.content&&t.unshift(d)}return Ky(t,e,i)}q(Ky,"splitLineToFitWidthRecursion");function dx(t,e){e&&t.attr("style",e)}q(dx,"applyStyle");async function sB(t,e,i,s,a=!1,l=ia()){const o=t.append("foreignObject");o.attr("width",`${10*i}px`),o.attr("height",`${10*i}px`);const h=o.append("xhtml:div"),d=zu(e.label)?await bk(e.label.replace(Zu.lineBreakRegex,`
`),l):vn(e.label,l),m=e.isNode?"nodeLabel":"edgeLabel",f=h.append("span");f.html(d),dx(f,e.labelStyle),f.attr("class",`${m} ${s}`),dx(h,e.labelStyle),h.style("display","table-cell"),h.style("white-space","nowrap"),h.style("line-height","1.5"),h.style("max-width",i+"px"),h.style("text-align","center"),h.attr("xmlns","http://www.w3.org/1999/xhtml"),a&&h.attr("class","labelBkg");let b=h.node().getBoundingClientRect();return b.width===i&&(h.style("display","table"),h.style("white-space","break-spaces"),h.style("width",i+"px"),b=h.node().getBoundingClientRect()),o.node()}q(sB,"addHtmlSpan");function qv(t,e,i){return t.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",e*i-.1+"em").attr("dy",i+"em")}q(qv,"createTspan");function aB(t,e,i){const s=t.append("text"),a=qv(s,1,e);$v(a,i);const l=a.node().getComputedTextLength();return s.remove(),l}q(aB,"computeWidthOfText");function zre(t,e,i){var o;const s=t.append("text"),a=qv(s,1,e);$v(a,[{content:i,type:"normal"}]);const l=(o=a.node())==null?void 0:o.getBoundingClientRect();return l&&s.remove(),l}q(zre,"computeDimensionOfText");function nB(t,e,i,s=!1){const l=e.append("g"),o=l.insert("rect").attr("class","background").attr("style","stroke: none"),h=l.append("text").attr("y","-10.1");let d=0;for(const m of i){const f=q(k=>aB(l,1.1,k)<=t,"checkWidth"),b=f(m)?[m]:rB(m,f);for(const k of b){const w=qv(h,d,1.1);$v(w,k),d++}}if(s){const m=h.node().getBBox(),f=2;return o.attr("x",m.x-f).attr("y",m.y-f).attr("width",m.width+2*f).attr("height",m.height+2*f),l.node()}else return h.node()}q(nB,"createFormattedText");function $v(t,e){t.text(""),e.forEach((i,s)=>{const a=t.append("tspan").attr("font-style",i.type==="em"?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight",i.type==="strong"?"bold":"normal");s===0?a.text(i.content):a.text(" "+i.content)})}q($v,"updateTextContentAndStyles");async function oB(t,e={}){const i=[];t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(a,l,o)=>(i.push((async()=>{const h=`${l}:${o}`;return await Nre(h)?await Qp(h,void 0,{class:"label-icon"}):`<i class='${vn(a,e).replace(":"," ")}'></i>`})()),a));const s=await Promise.all(i);return t.replace(/(fa[bklrs]?):fa-([\w-]+)/g,()=>s.shift()??"")}q(oB,"replaceIconSubstring");var Xl=q(async(t,e="",{style:i="",isTitle:s=!1,classes:a="",useHtmlLabels:l=!0,isNode:o=!0,width:h=200,addSvgBackground:d=!1}={},m)=>{if(ct.debug("XYZ createText",e,i,s,a,l,o,"addSvgBackground: ",d),l){const f=eB(e,m),b=await oB(Ch(f),m),k=e.replace(/\\\\/g,"\\"),w={isNode:o,label:zu(e)?k:b,labelStyle:i.replace("fill:","color:")};return await sB(t,w,h,a,d,m)}else{const f=e.replace(/<br\s*\/?>/g,"<br/>"),b=JI(f.replace("<br>","<br/>"),m),k=nB(h,t,b,e?d:!1);if(o){/stroke:/.exec(i)&&(i=i.replace("stroke:","lineColor:"));const w=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");er(k).attr("style",w)}else{const w=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");er(k).select("rect").attr("style",w.replace(/background:/g,"fill:"));const E=i.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");er(k).select("text").attr("style",E)}return k}},"createText");function r1(t,e,i){if(t&&t.length){const[s,a]=e,l=Math.PI/180*i,o=Math.cos(l),h=Math.sin(l);for(const d of t){const[m,f]=d;d[0]=(m-s)*o-(f-a)*h+s,d[1]=(m-s)*h+(f-a)*o+a}}}function Ure(t,e){return t[0]===e[0]&&t[1]===e[1]}function Hre(t,e,i,s=1){const a=i,l=Math.max(e,.1),o=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,h=[0,0];if(a)for(const m of o)r1(m,h,a);const d=function(m,f,b){const k=[];for(const u of m){const T=[...u];Ure(T[0],T[T.length-1])||T.push([T[0][0],T[0][1]]),T.length>2&&k.push(T)}const w=[];f=Math.max(f,.1);const E=[];for(const u of k)for(let T=0;T<u.length-1;T++){const y=u[T],S=u[T+1];if(y[1]!==S[1]){const C=Math.min(y[1],S[1]);E.push({ymin:C,ymax:Math.max(y[1],S[1]),x:C===y[1]?y[0]:S[0],islope:(S[0]-y[0])/(S[1]-y[1])})}}if(E.sort((u,T)=>u.ymin<T.ymin?-1:u.ymin>T.ymin?1:u.x<T.x?-1:u.x>T.x?1:u.ymax===T.ymax?0:(u.ymax-T.ymax)/Math.abs(u.ymax-T.ymax)),!E.length)return w;let P=[],L=E[0].ymin,R=0;for(;P.length||E.length;){if(E.length){let u=-1;for(let T=0;T<E.length&&!(E[T].ymin>L);T++)u=T;E.splice(0,u+1).forEach(T=>{P.push({s:L,edge:T})})}if(P=P.filter(u=>!(u.edge.ymax<=L)),P.sort((u,T)=>u.edge.x===T.edge.x?0:(u.edge.x-T.edge.x)/Math.abs(u.edge.x-T.edge.x)),(b!==1||R%f==0)&&P.length>1)for(let u=0;u<P.length;u+=2){const T=u+1;if(T>=P.length)break;const y=P[u].edge,S=P[T].edge;w.push([[Math.round(y.x),L],[Math.round(S.x),L]])}L+=b,P.forEach(u=>{u.edge.x=u.edge.x+b*u.edge.islope}),R++}return w}(o,l,s);if(a){for(const m of o)r1(m,h,-a);(function(m,f,b){const k=[];m.forEach(w=>k.push(...w)),r1(k,f,b)})(d,h,-a)}return d}function Jp(t,e){var i;const s=e.hachureAngle+90;let a=e.hachureGap;a<0&&(a=4*e.strokeWidth),a=Math.round(Math.max(a,.1));let l=1;return e.roughness>=1&&(((i=e.randomizer)===null||i===void 0?void 0:i.next())||Math.random())>.7&&(l=a),Hre(t,a,s,l||1)}class dS{constructor(e){this.helper=e}fillPolygons(e,i){return this._fillPolygons(e,i)}_fillPolygons(e,i){const s=Jp(e,i);return{type:"fillSketch",ops:this.renderLines(s,i)}}renderLines(e,i){const s=[];for(const a of e)s.push(...this.helper.doubleLineOps(a[0][0],a[0][1],a[1][0],a[1][1],i));return s}}function Vv(t){const e=t[0],i=t[1];return Math.sqrt(Math.pow(e[0]-i[0],2)+Math.pow(e[1]-i[1],2))}class Wre extends dS{fillPolygons(e,i){let s=i.hachureGap;s<0&&(s=4*i.strokeWidth),s=Math.max(s,.1);const a=Jp(e,Object.assign({},i,{hachureGap:s})),l=Math.PI/180*i.hachureAngle,o=[],h=.5*s*Math.cos(l),d=.5*s*Math.sin(l);for(const[m,f]of a)Vv([m,f])&&o.push([[m[0]-h,m[1]+d],[...f]],[[m[0]+h,m[1]-d],[...f]]);return{type:"fillSketch",ops:this.renderLines(o,i)}}}class jre extends dS{fillPolygons(e,i){const s=this._fillPolygons(e,i),a=Object.assign({},i,{hachureAngle:i.hachureAngle+90}),l=this._fillPolygons(e,a);return s.ops=s.ops.concat(l.ops),s}}class qre{constructor(e){this.helper=e}fillPolygons(e,i){const s=Jp(e,i=Object.assign({},i,{hachureAngle:0}));return this.dotsOnLines(s,i)}dotsOnLines(e,i){const s=[];let a=i.hachureGap;a<0&&(a=4*i.strokeWidth),a=Math.max(a,.1);let l=i.fillWeight;l<0&&(l=i.strokeWidth/2);const o=a/4;for(const h of e){const d=Vv(h),m=d/a,f=Math.ceil(m)-1,b=d-f*a,k=(h[0][0]+h[1][0])/2-a/4,w=Math.min(h[0][1],h[1][1]);for(let E=0;E<f;E++){const P=w+b+E*a,L=k-o+2*Math.random()*o,R=P-o+2*Math.random()*o,u=this.helper.ellipse(L,R,l,l,i);s.push(...u.ops)}}return{type:"fillSketch",ops:s}}}class $re{constructor(e){this.helper=e}fillPolygons(e,i){const s=Jp(e,i);return{type:"fillSketch",ops:this.dashedLine(s,i)}}dashedLine(e,i){const s=i.dashOffset<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashOffset,a=i.dashGap<0?i.hachureGap<0?4*i.strokeWidth:i.hachureGap:i.dashGap,l=[];return e.forEach(o=>{const h=Vv(o),d=Math.floor(h/(s+a)),m=(h+a-d*(s+a))/2;let f=o[0],b=o[1];f[0]>b[0]&&(f=o[1],b=o[0]);const k=Math.atan((b[1]-f[1])/(b[0]-f[0]));for(let w=0;w<d;w++){const E=w*(s+a),P=E+s,L=[f[0]+E*Math.cos(k)+m*Math.cos(k),f[1]+E*Math.sin(k)+m*Math.sin(k)],R=[f[0]+P*Math.cos(k)+m*Math.cos(k),f[1]+P*Math.sin(k)+m*Math.sin(k)];l.push(...this.helper.doubleLineOps(L[0],L[1],R[0],R[1],i))}}),l}}class Vre{constructor(e){this.helper=e}fillPolygons(e,i){const s=i.hachureGap<0?4*i.strokeWidth:i.hachureGap,a=i.zigzagOffset<0?s:i.zigzagOffset,l=Jp(e,i=Object.assign({},i,{hachureGap:s+a}));return{type:"fillSketch",ops:this.zigzagLines(l,a,i)}}zigzagLines(e,i,s){const a=[];return e.forEach(l=>{const o=Vv(l),h=Math.round(o/(2*i));let d=l[0],m=l[1];d[0]>m[0]&&(d=l[1],m=l[0]);const f=Math.atan((m[1]-d[1])/(m[0]-d[0]));for(let b=0;b<h;b++){const k=2*b*i,w=2*(b+1)*i,E=Math.sqrt(2*Math.pow(i,2)),P=[d[0]+k*Math.cos(f),d[1]+k*Math.sin(f)],L=[d[0]+w*Math.cos(f),d[1]+w*Math.sin(f)],R=[P[0]+E*Math.cos(f+Math.PI/4),P[1]+E*Math.sin(f+Math.PI/4)];a.push(...this.helper.doubleLineOps(P[0],P[1],R[0],R[1],s),...this.helper.doubleLineOps(R[0],R[1],L[0],L[1],s))}}),a}}const Aa={};class Yre{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Gre=0,s1=1,e3=2,zg={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function a1(t,e){return t.type===e}function fS(t){const e=[],i=function(o){const h=new Array;for(;o!=="";)if(o.match(/^([ \t\r\n,]+)/))o=o.substr(RegExp.$1.length);else if(o.match(/^([aAcChHlLmMqQsStTvVzZ])/))h[h.length]={type:Gre,text:RegExp.$1},o=o.substr(RegExp.$1.length);else{if(!o.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];h[h.length]={type:s1,text:`${parseFloat(RegExp.$1)}`},o=o.substr(RegExp.$1.length)}return h[h.length]={type:e3,text:""},h}(t);let s="BOD",a=0,l=i[a];for(;!a1(l,e3);){let o=0;const h=[];if(s==="BOD"){if(l.text!=="M"&&l.text!=="m")return fS("M0,0"+t);a++,o=zg[l.text],s=l.text}else a1(l,s1)?o=zg[s]:(a++,o=zg[l.text],s=l.text);if(!(a+o<i.length))throw new Error("Path data ended short");for(let d=a;d<a+o;d++){const m=i[d];if(!a1(m,s1))throw new Error("Param not a number: "+s+","+m.text);h[h.length]=+m.text}if(typeof zg[s]!="number")throw new Error("Bad segment: "+s);{const d={key:s,data:h};e.push(d),a+=o,l=i[a],s==="M"&&(s="L"),s==="m"&&(s="l")}}return e}function lB(t){let e=0,i=0,s=0,a=0;const l=[];for(const{key:o,data:h}of t)switch(o){case"M":l.push({key:"M",data:[...h]}),[e,i]=h,[s,a]=h;break;case"m":e+=h[0],i+=h[1],l.push({key:"M",data:[e,i]}),s=e,a=i;break;case"L":l.push({key:"L",data:[...h]}),[e,i]=h;break;case"l":e+=h[0],i+=h[1],l.push({key:"L",data:[e,i]});break;case"C":l.push({key:"C",data:[...h]}),e=h[4],i=h[5];break;case"c":{const d=h.map((m,f)=>f%2?m+i:m+e);l.push({key:"C",data:d}),e=d[4],i=d[5];break}case"Q":l.push({key:"Q",data:[...h]}),e=h[2],i=h[3];break;case"q":{const d=h.map((m,f)=>f%2?m+i:m+e);l.push({key:"Q",data:d}),e=d[2],i=d[3];break}case"A":l.push({key:"A",data:[...h]}),e=h[5],i=h[6];break;case"a":e+=h[5],i+=h[6],l.push({key:"A",data:[h[0],h[1],h[2],h[3],h[4],e,i]});break;case"H":l.push({key:"H",data:[...h]}),e=h[0];break;case"h":e+=h[0],l.push({key:"H",data:[e]});break;case"V":l.push({key:"V",data:[...h]}),i=h[0];break;case"v":i+=h[0],l.push({key:"V",data:[i]});break;case"S":l.push({key:"S",data:[...h]}),e=h[2],i=h[3];break;case"s":{const d=h.map((m,f)=>f%2?m+i:m+e);l.push({key:"S",data:d}),e=d[2],i=d[3];break}case"T":l.push({key:"T",data:[...h]}),e=h[0],i=h[1];break;case"t":e+=h[0],i+=h[1],l.push({key:"T",data:[e,i]});break;case"Z":case"z":l.push({key:"Z",data:[]}),e=s,i=a}return l}function cB(t){const e=[];let i="",s=0,a=0,l=0,o=0,h=0,d=0;for(const{key:m,data:f}of t){switch(m){case"M":e.push({key:"M",data:[...f]}),[s,a]=f,[l,o]=f;break;case"C":e.push({key:"C",data:[...f]}),s=f[4],a=f[5],h=f[2],d=f[3];break;case"L":e.push({key:"L",data:[...f]}),[s,a]=f;break;case"H":s=f[0],e.push({key:"L",data:[s,a]});break;case"V":a=f[0],e.push({key:"L",data:[s,a]});break;case"S":{let b=0,k=0;i==="C"||i==="S"?(b=s+(s-h),k=a+(a-d)):(b=s,k=a),e.push({key:"C",data:[b,k,...f]}),h=f[0],d=f[1],s=f[2],a=f[3];break}case"T":{const[b,k]=f;let w=0,E=0;i==="Q"||i==="T"?(w=s+(s-h),E=a+(a-d)):(w=s,E=a);const P=s+2*(w-s)/3,L=a+2*(E-a)/3,R=b+2*(w-b)/3,u=k+2*(E-k)/3;e.push({key:"C",data:[P,L,R,u,b,k]}),h=w,d=E,s=b,a=k;break}case"Q":{const[b,k,w,E]=f,P=s+2*(b-s)/3,L=a+2*(k-a)/3,R=w+2*(b-w)/3,u=E+2*(k-E)/3;e.push({key:"C",data:[P,L,R,u,w,E]}),h=b,d=k,s=w,a=E;break}case"A":{const b=Math.abs(f[0]),k=Math.abs(f[1]),w=f[2],E=f[3],P=f[4],L=f[5],R=f[6];b===0||k===0?(e.push({key:"C",data:[s,a,L,R,L,R]}),s=L,a=R):(s!==L||a!==R)&&(hB(s,a,L,R,b,k,w,E,P).forEach(function(u){e.push({key:"C",data:u})}),s=L,a=R);break}case"Z":e.push({key:"Z",data:[]}),s=l,a=o}i=m}return e}function zf(t,e,i){return[t*Math.cos(i)-e*Math.sin(i),t*Math.sin(i)+e*Math.cos(i)]}function hB(t,e,i,s,a,l,o,h,d,m){const f=(b=o,Math.PI*b/180);var b;let k=[],w=0,E=0,P=0,L=0;if(m)[w,E,P,L]=m;else{[t,e]=zf(t,e,-f),[i,s]=zf(i,s,-f);const A=(t-i)/2,F=(e-s)/2;let B=A*A/(a*a)+F*F/(l*l);B>1&&(B=Math.sqrt(B),a*=B,l*=B);const j=a*a,$=l*l,G=j*$-j*F*F-$*A*A,he=j*F*F+$*A*A,Q=(h===d?-1:1)*Math.sqrt(Math.abs(G/he));P=Q*a*F/l+(t+i)/2,L=Q*-l*A/a+(e+s)/2,w=Math.asin(parseFloat(((e-L)/l).toFixed(9))),E=Math.asin(parseFloat(((s-L)/l).toFixed(9))),t<P&&(w=Math.PI-w),i<P&&(E=Math.PI-E),w<0&&(w=2*Math.PI+w),E<0&&(E=2*Math.PI+E),d&&w>E&&(w-=2*Math.PI),!d&&E>w&&(E-=2*Math.PI)}let R=E-w;if(Math.abs(R)>120*Math.PI/180){const A=E,F=i,B=s;E=d&&E>w?w+120*Math.PI/180*1:w+120*Math.PI/180*-1,k=hB(i=P+a*Math.cos(E),s=L+l*Math.sin(E),F,B,a,l,o,0,d,[E,A,P,L])}R=E-w;const u=Math.cos(w),T=Math.sin(w),y=Math.cos(E),S=Math.sin(E),C=Math.tan(R/4),M=4/3*a*C,I=4/3*l*C,U=[t,e],z=[t+M*T,e-I*u],g=[i+M*S,s-I*y],x=[i,s];if(z[0]=2*U[0]-z[0],z[1]=2*U[1]-z[1],m)return[z,g,x].concat(k);{k=[z,g,x].concat(k);const A=[];for(let F=0;F<k.length;F+=3){const B=zf(k[F][0],k[F][1],f),j=zf(k[F+1][0],k[F+1][1],f),$=zf(k[F+2][0],k[F+2][1],f);A.push([B[0],B[1],j[0],j[1],$[0],$[1]])}return A}}const Xre={randOffset:function(t,e){return Oi(t,e)},randOffsetWithRange:function(t,e,i){return Zy(t,e,i)},ellipse:function(t,e,i,s,a){const l=dB(i,s,a);return fx(t,e,a,l).opset},doubleLineOps:function(t,e,i,s,a){return jl(t,e,i,s,a,!0)}};function uB(t,e,i,s,a){return{type:"path",ops:jl(t,e,i,s,a)}}function ay(t,e,i){const s=(t||[]).length;if(s>2){const a=[];for(let l=0;l<s-1;l++)a.push(...jl(t[l][0],t[l][1],t[l+1][0],t[l+1][1],i));return e&&a.push(...jl(t[s-1][0],t[s-1][1],t[0][0],t[0][1],i)),{type:"path",ops:a}}return s===2?uB(t[0][0],t[0][1],t[1][0],t[1][1],i):{type:"path",ops:[]}}function Kre(t,e,i,s,a){return function(l,o){return ay(l,!0,o)}([[t,e],[t+i,e],[t+i,e+s],[t,e+s]],a)}function t3(t,e){if(t.length){const i=typeof t[0][0]=="number"?[t]:t,s=Ug(i[0],1*(1+.2*e.roughness),e),a=e.disableMultiStroke?[]:Ug(i[0],1.5*(1+.22*e.roughness),s3(e));for(let l=1;l<i.length;l++){const o=i[l];if(o.length){const h=Ug(o,1*(1+.2*e.roughness),e),d=e.disableMultiStroke?[]:Ug(o,1.5*(1+.22*e.roughness),s3(e));for(const m of h)m.op!=="move"&&s.push(m);for(const m of d)m.op!=="move"&&a.push(m)}}return{type:"path",ops:s.concat(a)}}return{type:"path",ops:[]}}function dB(t,e,i){const s=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),a=Math.ceil(Math.max(i.curveStepCount,i.curveStepCount/Math.sqrt(200)*s)),l=2*Math.PI/a;let o=Math.abs(t/2),h=Math.abs(e/2);const d=1-i.curveFitting;return o+=Oi(o*d,i),h+=Oi(h*d,i),{increment:l,rx:o,ry:h}}function fx(t,e,i,s){const[a,l]=a3(s.increment,t,e,s.rx,s.ry,1,s.increment*Zy(.1,Zy(.4,1,i),i),i);let o=Qy(a,null,i);if(!i.disableMultiStroke&&i.roughness!==0){const[h]=a3(s.increment,t,e,s.rx,s.ry,1.5,0,i),d=Qy(h,null,i);o=o.concat(d)}return{estimatedPoints:l,opset:{type:"path",ops:o}}}function i3(t,e,i,s,a,l,o,h,d){const m=t,f=e;let b=Math.abs(i/2),k=Math.abs(s/2);b+=Oi(.01*b,d),k+=Oi(.01*k,d);let w=a,E=l;for(;w<0;)w+=2*Math.PI,E+=2*Math.PI;E-w>2*Math.PI&&(w=0,E=2*Math.PI);const P=2*Math.PI/d.curveStepCount,L=Math.min(P/2,(E-w)/2),R=n3(L,m,f,b,k,w,E,1,d);if(!d.disableMultiStroke){const u=n3(L,m,f,b,k,w,E,1.5,d);R.push(...u)}return o&&(h?R.push(...jl(m,f,m+b*Math.cos(w),f+k*Math.sin(w),d),...jl(m,f,m+b*Math.cos(E),f+k*Math.sin(E),d)):R.push({op:"lineTo",data:[m,f]},{op:"lineTo",data:[m+b*Math.cos(w),f+k*Math.sin(w)]})),{type:"path",ops:R}}function r3(t,e){const i=cB(lB(fS(t))),s=[];let a=[0,0],l=[0,0];for(const{key:o,data:h}of i)switch(o){case"M":l=[h[0],h[1]],a=[h[0],h[1]];break;case"L":s.push(...jl(l[0],l[1],h[0],h[1],e)),l=[h[0],h[1]];break;case"C":{const[d,m,f,b,k,w]=h;s.push(...Zre(d,m,f,b,k,w,l,e)),l=[k,w];break}case"Z":s.push(...jl(l[0],l[1],a[0],a[1],e)),l=[a[0],a[1]]}return{type:"path",ops:s}}function n1(t,e){const i=[];for(const s of t)if(s.length){const a=e.maxRandomnessOffset||0,l=s.length;if(l>2){i.push({op:"move",data:[s[0][0]+Oi(a,e),s[0][1]+Oi(a,e)]});for(let o=1;o<l;o++)i.push({op:"lineTo",data:[s[o][0]+Oi(a,e),s[o][1]+Oi(a,e)]})}}return{type:"fillPath",ops:i}}function iu(t,e){return function(i,s){let a=i.fillStyle||"hachure";if(!Aa[a])switch(a){case"zigzag":Aa[a]||(Aa[a]=new Wre(s));break;case"cross-hatch":Aa[a]||(Aa[a]=new jre(s));break;case"dots":Aa[a]||(Aa[a]=new qre(s));break;case"dashed":Aa[a]||(Aa[a]=new $re(s));break;case"zigzag-line":Aa[a]||(Aa[a]=new Vre(s));break;default:a="hachure",Aa[a]||(Aa[a]=new dS(s))}return Aa[a]}(e,Xre).fillPolygons(t,e)}function s3(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function fB(t){return t.randomizer||(t.randomizer=new Yre(t.seed||0)),t.randomizer.next()}function Zy(t,e,i,s=1){return i.roughness*s*(fB(i)*(e-t)+t)}function Oi(t,e,i=1){return Zy(-t,t,e,i)}function jl(t,e,i,s,a,l=!1){const o=l?a.disableMultiStrokeFill:a.disableMultiStroke,h=px(t,e,i,s,a,!0,!1);if(o)return h;const d=px(t,e,i,s,a,!0,!0);return h.concat(d)}function px(t,e,i,s,a,l,o){const h=Math.pow(t-i,2)+Math.pow(e-s,2),d=Math.sqrt(h);let m=1;m=d<200?1:d>500?.4:-.0016668*d+1.233334;let f=a.maxRandomnessOffset||0;f*f*100>h&&(f=d/10);const b=f/2,k=.2+.2*fB(a);let w=a.bowing*a.maxRandomnessOffset*(s-e)/200,E=a.bowing*a.maxRandomnessOffset*(t-i)/200;w=Oi(w,a,m),E=Oi(E,a,m);const P=[],L=()=>Oi(b,a,m),R=()=>Oi(f,a,m),u=a.preserveVertices;return o?P.push({op:"move",data:[t+(u?0:L()),e+(u?0:L())]}):P.push({op:"move",data:[t+(u?0:Oi(f,a,m)),e+(u?0:Oi(f,a,m))]}),o?P.push({op:"bcurveTo",data:[w+t+(i-t)*k+L(),E+e+(s-e)*k+L(),w+t+2*(i-t)*k+L(),E+e+2*(s-e)*k+L(),i+(u?0:L()),s+(u?0:L())]}):P.push({op:"bcurveTo",data:[w+t+(i-t)*k+R(),E+e+(s-e)*k+R(),w+t+2*(i-t)*k+R(),E+e+2*(s-e)*k+R(),i+(u?0:R()),s+(u?0:R())]}),P}function Ug(t,e,i){if(!t.length)return[];const s=[];s.push([t[0][0]+Oi(e,i),t[0][1]+Oi(e,i)]),s.push([t[0][0]+Oi(e,i),t[0][1]+Oi(e,i)]);for(let a=1;a<t.length;a++)s.push([t[a][0]+Oi(e,i),t[a][1]+Oi(e,i)]),a===t.length-1&&s.push([t[a][0]+Oi(e,i),t[a][1]+Oi(e,i)]);return Qy(s,null,i)}function Qy(t,e,i){const s=t.length,a=[];if(s>3){const l=[],o=1-i.curveTightness;a.push({op:"move",data:[t[1][0],t[1][1]]});for(let h=1;h+2<s;h++){const d=t[h];l[0]=[d[0],d[1]],l[1]=[d[0]+(o*t[h+1][0]-o*t[h-1][0])/6,d[1]+(o*t[h+1][1]-o*t[h-1][1])/6],l[2]=[t[h+1][0]+(o*t[h][0]-o*t[h+2][0])/6,t[h+1][1]+(o*t[h][1]-o*t[h+2][1])/6],l[3]=[t[h+1][0],t[h+1][1]],a.push({op:"bcurveTo",data:[l[1][0],l[1][1],l[2][0],l[2][1],l[3][0],l[3][1]]})}}else s===3?(a.push({op:"move",data:[t[1][0],t[1][1]]}),a.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&a.push(...px(t[0][0],t[0][1],t[1][0],t[1][1],i,!0,!0));return a}function a3(t,e,i,s,a,l,o,h){const d=[],m=[];if(h.roughness===0){t/=4,m.push([e+s*Math.cos(-t),i+a*Math.sin(-t)]);for(let f=0;f<=2*Math.PI;f+=t){const b=[e+s*Math.cos(f),i+a*Math.sin(f)];d.push(b),m.push(b)}m.push([e+s*Math.cos(0),i+a*Math.sin(0)]),m.push([e+s*Math.cos(t),i+a*Math.sin(t)])}else{const f=Oi(.5,h)-Math.PI/2;m.push([Oi(l,h)+e+.9*s*Math.cos(f-t),Oi(l,h)+i+.9*a*Math.sin(f-t)]);const b=2*Math.PI+f-.01;for(let k=f;k<b;k+=t){const w=[Oi(l,h)+e+s*Math.cos(k),Oi(l,h)+i+a*Math.sin(k)];d.push(w),m.push(w)}m.push([Oi(l,h)+e+s*Math.cos(f+2*Math.PI+.5*o),Oi(l,h)+i+a*Math.sin(f+2*Math.PI+.5*o)]),m.push([Oi(l,h)+e+.98*s*Math.cos(f+o),Oi(l,h)+i+.98*a*Math.sin(f+o)]),m.push([Oi(l,h)+e+.9*s*Math.cos(f+.5*o),Oi(l,h)+i+.9*a*Math.sin(f+.5*o)])}return[m,d]}function n3(t,e,i,s,a,l,o,h,d){const m=l+Oi(.1,d),f=[];f.push([Oi(h,d)+e+.9*s*Math.cos(m-t),Oi(h,d)+i+.9*a*Math.sin(m-t)]);for(let b=m;b<=o;b+=t)f.push([Oi(h,d)+e+s*Math.cos(b),Oi(h,d)+i+a*Math.sin(b)]);return f.push([e+s*Math.cos(o),i+a*Math.sin(o)]),f.push([e+s*Math.cos(o),i+a*Math.sin(o)]),Qy(f,null,d)}function Zre(t,e,i,s,a,l,o,h){const d=[],m=[h.maxRandomnessOffset||1,(h.maxRandomnessOffset||1)+.3];let f=[0,0];const b=h.disableMultiStroke?1:2,k=h.preserveVertices;for(let w=0;w<b;w++)w===0?d.push({op:"move",data:[o[0],o[1]]}):d.push({op:"move",data:[o[0]+(k?0:Oi(m[0],h)),o[1]+(k?0:Oi(m[0],h))]}),f=k?[a,l]:[a+Oi(m[w],h),l+Oi(m[w],h)],d.push({op:"bcurveTo",data:[t+Oi(m[w],h),e+Oi(m[w],h),i+Oi(m[w],h),s+Oi(m[w],h),f[0],f[1]]});return d}function Uf(t){return[...t]}function o3(t,e=0){const i=t.length;if(i<3)throw new Error("A curve must have at least three points.");const s=[];if(i===3)s.push(Uf(t[0]),Uf(t[1]),Uf(t[2]),Uf(t[2]));else{const a=[];a.push(t[0],t[0]);for(let h=1;h<t.length;h++)a.push(t[h]),h===t.length-1&&a.push(t[h]);const l=[],o=1-e;s.push(Uf(a[0]));for(let h=1;h+2<a.length;h++){const d=a[h];l[0]=[d[0],d[1]],l[1]=[d[0]+(o*a[h+1][0]-o*a[h-1][0])/6,d[1]+(o*a[h+1][1]-o*a[h-1][1])/6],l[2]=[a[h+1][0]+(o*a[h][0]-o*a[h+2][0])/6,a[h+1][1]+(o*a[h][1]-o*a[h+2][1])/6],l[3]=[a[h+1][0],a[h+1][1]],s.push(l[1],l[2],l[3])}}return s}function ny(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function Qre(t,e,i){const s=ny(e,i);if(s===0)return ny(t,e);let a=((t[0]-e[0])*(i[0]-e[0])+(t[1]-e[1])*(i[1]-e[1]))/s;return a=Math.max(0,Math.min(1,a)),ny(t,Yc(e,i,a))}function Yc(t,e,i){return[t[0]+(e[0]-t[0])*i,t[1]+(e[1]-t[1])*i]}function mx(t,e,i,s){const a=s||[];if(function(h,d){const m=h[d+0],f=h[d+1],b=h[d+2],k=h[d+3];let w=3*f[0]-2*m[0]-k[0];w*=w;let E=3*f[1]-2*m[1]-k[1];E*=E;let P=3*b[0]-2*k[0]-m[0];P*=P;let L=3*b[1]-2*k[1]-m[1];return L*=L,w<P&&(w=P),E<L&&(E=L),w+E}(t,e)<i){const h=t[e+0];a.length?(l=a[a.length-1],o=h,Math.sqrt(ny(l,o))>1&&a.push(h)):a.push(h),a.push(t[e+3])}else{const d=t[e+0],m=t[e+1],f=t[e+2],b=t[e+3],k=Yc(d,m,.5),w=Yc(m,f,.5),E=Yc(f,b,.5),P=Yc(k,w,.5),L=Yc(w,E,.5),R=Yc(P,L,.5);mx([d,k,P,R],0,i,a),mx([R,L,E,b],0,i,a)}var l,o;return a}function Jre(t,e){return Jy(t,0,t.length,e)}function Jy(t,e,i,s,a){const l=a||[],o=t[e],h=t[i-1];let d=0,m=1;for(let f=e+1;f<i-1;++f){const b=Qre(t[f],o,h);b>d&&(d=b,m=f)}return Math.sqrt(d)>s?(Jy(t,e,m+1,s,l),Jy(t,m,i,s,l)):(l.length||l.push(o),l.push(h)),l}function o1(t,e=.15,i){const s=[],a=(t.length-1)/3;for(let l=0;l<a;l++)mx(t,3*l,e,s);return i&&i>0?Jy(s,0,s.length,i):s}const Ya="none";class ev{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,i,s){return{shape:e,sets:i||[],options:s||this.defaultOptions}}line(e,i,s,a,l){const o=this._o(l);return this._d("line",[uB(e,i,s,a,o)],o)}rectangle(e,i,s,a,l){const o=this._o(l),h=[],d=Kre(e,i,s,a,o);if(o.fill){const m=[[e,i],[e+s,i],[e+s,i+a],[e,i+a]];o.fillStyle==="solid"?h.push(n1([m],o)):h.push(iu([m],o))}return o.stroke!==Ya&&h.push(d),this._d("rectangle",h,o)}ellipse(e,i,s,a,l){const o=this._o(l),h=[],d=dB(s,a,o),m=fx(e,i,o,d);if(o.fill)if(o.fillStyle==="solid"){const f=fx(e,i,o,d).opset;f.type="fillPath",h.push(f)}else h.push(iu([m.estimatedPoints],o));return o.stroke!==Ya&&h.push(m.opset),this._d("ellipse",h,o)}circle(e,i,s,a){const l=this.ellipse(e,i,s,s,a);return l.shape="circle",l}linearPath(e,i){const s=this._o(i);return this._d("linearPath",[ay(e,!1,s)],s)}arc(e,i,s,a,l,o,h=!1,d){const m=this._o(d),f=[],b=i3(e,i,s,a,l,o,h,!0,m);if(h&&m.fill)if(m.fillStyle==="solid"){const k=Object.assign({},m);k.disableMultiStroke=!0;const w=i3(e,i,s,a,l,o,!0,!1,k);w.type="fillPath",f.push(w)}else f.push(function(k,w,E,P,L,R,u){const T=k,y=w;let S=Math.abs(E/2),C=Math.abs(P/2);S+=Oi(.01*S,u),C+=Oi(.01*C,u);let M=L,I=R;for(;M<0;)M+=2*Math.PI,I+=2*Math.PI;I-M>2*Math.PI&&(M=0,I=2*Math.PI);const U=(I-M)/u.curveStepCount,z=[];for(let g=M;g<=I;g+=U)z.push([T+S*Math.cos(g),y+C*Math.sin(g)]);return z.push([T+S*Math.cos(I),y+C*Math.sin(I)]),z.push([T,y]),iu([z],u)}(e,i,s,a,l,o,m));return m.stroke!==Ya&&f.push(b),this._d("arc",f,m)}curve(e,i){const s=this._o(i),a=[],l=t3(e,s);if(s.fill&&s.fill!==Ya)if(s.fillStyle==="solid"){const o=t3(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(o.ops)})}else{const o=[],h=e;if(h.length){const d=typeof h[0][0]=="number"?[h]:h;for(const m of d)m.length<3?o.push(...m):m.length===3?o.push(...o1(o3([m[0],m[0],m[1],m[2]]),10,(1+s.roughness)/2)):o.push(...o1(o3(m),10,(1+s.roughness)/2))}o.length&&a.push(iu([o],s))}return s.stroke!==Ya&&a.push(l),this._d("curve",a,s)}polygon(e,i){const s=this._o(i),a=[],l=ay(e,!0,s);return s.fill&&(s.fillStyle==="solid"?a.push(n1([e],s)):a.push(iu([e],s))),s.stroke!==Ya&&a.push(l),this._d("polygon",a,s)}path(e,i){const s=this._o(i),a=[];if(!e)return this._d("path",a,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const l=s.fill&&s.fill!=="transparent"&&s.fill!==Ya,o=s.stroke!==Ya,h=!!(s.simplification&&s.simplification<1),d=function(f,b,k){const w=cB(lB(fS(f))),E=[];let P=[],L=[0,0],R=[];const u=()=>{R.length>=4&&P.push(...o1(R,b)),R=[]},T=()=>{u(),P.length&&(E.push(P),P=[])};for(const{key:S,data:C}of w)switch(S){case"M":T(),L=[C[0],C[1]],P.push(L);break;case"L":u(),P.push([C[0],C[1]]);break;case"C":if(!R.length){const M=P.length?P[P.length-1]:L;R.push([M[0],M[1]])}R.push([C[0],C[1]]),R.push([C[2],C[3]]),R.push([C[4],C[5]]);break;case"Z":u(),P.push([L[0],L[1]])}if(T(),!k)return E;const y=[];for(const S of E){const C=Jre(S,k);C.length&&y.push(C)}return y}(e,1,h?4-4*(s.simplification||1):(1+s.roughness)/2),m=r3(e,s);if(l)if(s.fillStyle==="solid")if(d.length===1){const f=r3(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));a.push({type:"fillPath",ops:this._mergedShape(f.ops)})}else a.push(n1(d,s));else a.push(iu(d,s));return o&&(h?d.forEach(f=>{a.push(ay(f,!1,s))}):a.push(m)),this._d("path",a,s)}opsToPath(e,i){let s="";for(const a of e.ops){const l=typeof i=="number"&&i>=0?a.data.map(o=>+o.toFixed(i)):a.data;switch(a.op){case"move":s+=`M${l[0]} ${l[1]} `;break;case"bcurveTo":s+=`C${l[0]} ${l[1]}, ${l[2]} ${l[3]}, ${l[4]} ${l[5]} `;break;case"lineTo":s+=`L${l[0]} ${l[1]} `}}return s.trim()}toPaths(e){const i=e.sets||[],s=e.options||this.defaultOptions,a=[];for(const l of i){let o=null;switch(l.type){case"path":o={d:this.opsToPath(l),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Ya};break;case"fillPath":o={d:this.opsToPath(l),stroke:Ya,strokeWidth:0,fill:s.fill||Ya};break;case"fillSketch":o=this.fillSketch(l,s)}o&&a.push(o)}return a}fillSketch(e,i){let s=i.fillWeight;return s<0&&(s=i.strokeWidth/2),{d:this.opsToPath(e),stroke:i.fill||Ya,strokeWidth:s,fill:Ya}}_mergedShape(e){return e.filter((i,s)=>s===0||i.op!=="move")}}class ese{constructor(e,i){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new ev(i)}draw(e){const i=e.sets||[],s=e.options||this.getDefaultOptions(),a=this.ctx,l=e.options.fixedDecimalPlaceDigits;for(const o of i)switch(o.type){case"path":a.save(),a.strokeStyle=s.stroke==="none"?"transparent":s.stroke,a.lineWidth=s.strokeWidth,s.strokeLineDash&&a.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(a.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(a,o,l),a.restore();break;case"fillPath":{a.save(),a.fillStyle=s.fill||"";const h=e.shape==="curve"||e.shape==="polygon"||e.shape==="path"?"evenodd":"nonzero";this._drawToContext(a,o,l,h),a.restore();break}case"fillSketch":this.fillSketch(a,o,s)}}fillSketch(e,i,s){let a=s.fillWeight;a<0&&(a=s.strokeWidth/2),e.save(),s.fillLineDash&&e.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(e.lineDashOffset=s.fillLineDashOffset),e.strokeStyle=s.fill||"",e.lineWidth=a,this._drawToContext(e,i,s.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,i,s,a="nonzero"){e.beginPath();for(const l of i.ops){const o=typeof s=="number"&&s>=0?l.data.map(h=>+h.toFixed(s)):l.data;switch(l.op){case"move":e.moveTo(o[0],o[1]);break;case"bcurveTo":e.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"lineTo":e.lineTo(o[0],o[1])}}i.type==="fillPath"?e.fill(a):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,i,s,a,l){const o=this.gen.line(e,i,s,a,l);return this.draw(o),o}rectangle(e,i,s,a,l){const o=this.gen.rectangle(e,i,s,a,l);return this.draw(o),o}ellipse(e,i,s,a,l){const o=this.gen.ellipse(e,i,s,a,l);return this.draw(o),o}circle(e,i,s,a){const l=this.gen.circle(e,i,s,a);return this.draw(l),l}linearPath(e,i){const s=this.gen.linearPath(e,i);return this.draw(s),s}polygon(e,i){const s=this.gen.polygon(e,i);return this.draw(s),s}arc(e,i,s,a,l,o,h=!1,d){const m=this.gen.arc(e,i,s,a,l,o,h,d);return this.draw(m),m}curve(e,i){const s=this.gen.curve(e,i);return this.draw(s),s}path(e,i){const s=this.gen.path(e,i);return this.draw(s),s}}const Hg="http://www.w3.org/2000/svg";class tse{constructor(e,i){this.svg=e,this.gen=new ev(i)}draw(e){const i=e.sets||[],s=e.options||this.getDefaultOptions(),a=this.svg.ownerDocument||window.document,l=a.createElementNS(Hg,"g"),o=e.options.fixedDecimalPlaceDigits;for(const h of i){let d=null;switch(h.type){case"path":d=a.createElementNS(Hg,"path"),d.setAttribute("d",this.opsToPath(h,o)),d.setAttribute("stroke",s.stroke),d.setAttribute("stroke-width",s.strokeWidth+""),d.setAttribute("fill","none"),s.strokeLineDash&&d.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&d.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":d=a.createElementNS(Hg,"path"),d.setAttribute("d",this.opsToPath(h,o)),d.setAttribute("stroke","none"),d.setAttribute("stroke-width","0"),d.setAttribute("fill",s.fill||""),e.shape!=="curve"&&e.shape!=="polygon"||d.setAttribute("fill-rule","evenodd");break;case"fillSketch":d=this.fillSketch(a,h,s)}d&&l.appendChild(d)}return l}fillSketch(e,i,s){let a=s.fillWeight;a<0&&(a=s.strokeWidth/2);const l=e.createElementNS(Hg,"path");return l.setAttribute("d",this.opsToPath(i,s.fixedDecimalPlaceDigits)),l.setAttribute("stroke",s.fill||""),l.setAttribute("stroke-width",a+""),l.setAttribute("fill","none"),s.fillLineDash&&l.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&l.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),l}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,i){return this.gen.opsToPath(e,i)}line(e,i,s,a,l){const o=this.gen.line(e,i,s,a,l);return this.draw(o)}rectangle(e,i,s,a,l){const o=this.gen.rectangle(e,i,s,a,l);return this.draw(o)}ellipse(e,i,s,a,l){const o=this.gen.ellipse(e,i,s,a,l);return this.draw(o)}circle(e,i,s,a){const l=this.gen.circle(e,i,s,a);return this.draw(l)}linearPath(e,i){const s=this.gen.linearPath(e,i);return this.draw(s)}polygon(e,i){const s=this.gen.polygon(e,i);return this.draw(s)}arc(e,i,s,a,l,o,h=!1,d){const m=this.gen.arc(e,i,s,a,l,o,h,d);return this.draw(m)}curve(e,i){const s=this.gen.curve(e,i);return this.draw(s)}path(e,i){const s=this.gen.path(e,i);return this.draw(s)}}var ri={canvas:(t,e)=>new ese(t,e),svg:(t,e)=>new tse(t,e),generator:t=>new ev(t),newSeed:()=>ev.newSeed()},Mi=q(async(t,e,i)=>{var b,k;let s;const a=e.useHtmlLabels||ks((b=fr())==null?void 0:b.htmlLabels);i?s=i:s="node default";const l=t.insert("g").attr("class",s).attr("id",e.domId||e.id),o=l.insert("g").attr("class","label").attr("style",Ia(e.labelStyle));let h;e.label===void 0?h="":h=typeof e.label=="string"?e.label:e.label[0];const d=await Xl(o,vn(Ch(h),fr()),{useHtmlLabels:a,width:e.width||((k=fr().flowchart)==null?void 0:k.wrappingWidth),cssClasses:"markdown-node-label",style:e.labelStyle,addSvgBackground:!!e.icon||!!e.img});let m=d.getBBox();const f=((e==null?void 0:e.padding)??0)/2;if(a){const w=d.children[0],E=er(d),P=w.getElementsByTagName("img");if(P){const L=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...P].map(R=>new Promise(u=>{function T(){if(R.style.display="flex",R.style.flexDirection="column",L){const y=fr().fontSize?fr().fontSize:window.getComputedStyle(document.body).fontSize,S=5,[C=SF.fontSize]=Hv(y),M=C*S+"px";R.style.minWidth=M,R.style.maxWidth=M}else R.style.width="100%";u(R)}q(T,"setupImage"),setTimeout(()=>{R.complete&&T()}),R.addEventListener("error",T),R.addEventListener("load",T)})))}m=w.getBoundingClientRect(),E.attr("width",m.width),E.attr("height",m.height)}return a?o.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"):o.attr("transform","translate(0, "+-m.height/2+")"),e.centerLabel&&o.attr("transform","translate("+-m.width/2+", "+-m.height/2+")"),o.insert("rect",":first-child"),{shapeSvg:l,bbox:m,halfPadding:f,label:o}},"labelHelper"),l1=q(async(t,e,i)=>{var d,m,f,b,k,w;const s=i.useHtmlLabels||ks((m=(d=fr())==null?void 0:d.flowchart)==null?void 0:m.htmlLabels),a=t.insert("g").attr("class","label").attr("style",i.labelStyle||""),l=await Xl(a,vn(Ch(e),fr()),{useHtmlLabels:s,width:i.width||((b=(f=fr())==null?void 0:f.flowchart)==null?void 0:b.wrappingWidth),style:i.labelStyle,addSvgBackground:!!i.icon||!!i.img});let o=l.getBBox();const h=i.padding/2;if(ks((w=(k=fr())==null?void 0:k.flowchart)==null?void 0:w.htmlLabels)){const E=l.children[0],P=er(l);o=E.getBoundingClientRect(),P.attr("width",o.width),P.attr("height",o.height)}return s?a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"):a.attr("transform","translate(0, "+-o.height/2+")"),i.centerLabel&&a.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),a.insert("rect",":first-child"),{shapeSvg:t,bbox:o,halfPadding:h,label:a}},"insertLabel"),li=q((t,e)=>{const i=e.node().getBBox();t.width=i.width,t.height=i.height},"updateNodeBounds"),Ti=q((t,e)=>(t.look==="handDrawn"?"rough-node":"node")+" "+t.cssClasses+" "+(e||""),"getNodeClasses");function Zi(t){const e=t.map((i,s)=>`${s===0?"M":"L"}${i.x},${i.y}`);return e.push("Z"),e.join(" ")}q(Zi,"createPathFromPoints");function ql(t,e,i,s,a,l){const o=[],d=i-t,m=s-e,f=d/l,b=2*Math.PI/f,k=e+m/2;for(let w=0;w<=50;w++){const E=w/50,P=t+E*d,L=k+a*Math.sin(b*(P-t));o.push({x:P,y:L})}return o}q(ql,"generateFullSineWavePoints");function Pp(t,e,i,s,a,l){const o=[],h=a*Math.PI/180,f=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*f,w=t+i*Math.cos(k),E=e+i*Math.sin(k);o.push({x:-w,y:-E})}return o}q(Pp,"generateCirclePoints");var ise=q((t,e)=>{var i=t.x,s=t.y,a=e.x-i,l=e.y-s,o=t.width/2,h=t.height/2,d,m;return Math.abs(l)*o>Math.abs(a)*h?(l<0&&(h=-h),d=l===0?0:h*a/l,m=h):(a<0&&(o=-o),d=o,m=a===0?0:o*l/a),{x:i+d,y:s+m}},"intersectRect"),td=ise;function pB(t,e){e&&t.attr("style",e)}q(pB,"applyStyle");async function mB(t){const e=er(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),i=e.append("xhtml:div"),s=fr();let a=t.label;t.label&&zu(t.label)&&(a=await bk(t.label.replace(Zu.lineBreakRegex,`
`),s));const o='<span class="'+(t.isNode?"nodeLabel":"edgeLabel")+'" '+(t.labelStyle?'style="'+t.labelStyle+'"':"")+">"+a+"</span>";return i.html(vn(o,s)),pB(i,t.labelStyle),i.style("display","inline-block"),i.style("padding-right","1px"),i.style("white-space","nowrap"),i.attr("xmlns","http://www.w3.org/1999/xhtml"),e.node()}q(mB,"addHtmlLabel");var rse=q(async(t,e,i,s)=>{let a=t||"";if(typeof a=="object"&&(a=a[0]),ks(fr().flowchart.htmlLabels)){a=a.replace(/\\n|\n/g,"<br />"),ct.info("vertexText"+a);const l={isNode:s,label:Ch(a).replace(/fa[blrs]?:fa-[\w-]+/g,h=>`<i class='${h.replace(":"," ")}'></i>`),labelStyle:e&&e.replace("fill:","color:")};return await mB(l)}else{const l=document.createElementNS("http://www.w3.org/2000/svg","text");l.setAttribute("style",e.replace("color:","fill:"));let o=[];typeof a=="string"?o=a.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(a)?o=a:o=[];for(const h of o){const d=document.createElementNS("http://www.w3.org/2000/svg","tspan");d.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),d.setAttribute("dy","1em"),d.setAttribute("x","0"),i?d.setAttribute("class","title-row"):d.setAttribute("class","row"),d.textContent=h.trim(),l.appendChild(d)}return l}},"createLabel"),ih=rse,Kl=q((t,e,i,s,a)=>["M",t+a,e,"H",t+i-a,"A",a,a,0,0,1,t+i,e+a,"V",e+s-a,"A",a,a,0,0,1,t+i-a,e+s,"H",t+a,"A",a,a,0,0,1,t,e+s-a,"V",e+a,"A",a,a,0,0,1,t+a,e,"Z"].join(" "),"createRoundedRectPathD"),gB=q(async(t,e)=>{ct.info("Creating subgraph rect for ",e.id,e);const i=fr(),{themeVariables:s,handDrawnSeed:a}=i,{clusterBkg:l,clusterBorder:o}=s,{labelStyles:h,nodeStyles:d,borderStyles:m,backgroundStyles:f}=ci(e),b=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),k=ks(i.flowchart.htmlLabels),w=b.insert("g").attr("class","cluster-label "),E=await Xl(w,e.label,{style:e.labelStyle,useHtmlLabels:k,isNode:!0});let P=E.getBBox();if(ks(i.flowchart.htmlLabels)){const M=E.children[0],I=er(E);P=M.getBoundingClientRect(),I.attr("width",P.width),I.attr("height",P.height)}const L=e.width<=P.width+e.padding?P.width+e.padding:e.width;e.width<=P.width+e.padding?e.diff=(L-e.width)/2-e.padding:e.diff=-e.padding;const R=e.height,u=e.x-L/2,T=e.y-R/2;ct.trace("Data ",e,JSON.stringify(e));let y;if(e.look==="handDrawn"){const M=ri.svg(b),I=si(e,{roughness:.7,fill:l,stroke:o,fillWeight:3,seed:a}),U=M.path(Kl(u,T,L,R,0),I);y=b.insert(()=>(ct.debug("Rough node insert CXC",U),U),":first-child"),y.select("path:nth-child(2)").attr("style",m.join(";")),y.select("path").attr("style",f.join(";").replace("fill","stroke"))}else y=b.insert("rect",":first-child"),y.attr("style",d).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",T).attr("width",L).attr("height",R);const{subGraphTitleTopMargin:S}=Lk(i);if(w.attr("transform",`translate(${e.x-P.width/2}, ${e.y-e.height/2+S})`),h){const M=w.select("span");M&&M.attr("style",h)}const C=y.node().getBBox();return e.offsetX=0,e.width=C.width,e.height=C.height,e.offsetY=P.height-e.padding/2,e.intersect=function(M){return td(e,M)},{cluster:b,labelBBox:P}},"rect"),sse=q((t,e)=>{const i=t.insert("g").attr("class","note-cluster").attr("id",e.id),s=i.insert("rect",":first-child"),a=0*e.padding,l=a/2;s.attr("rx",e.rx).attr("ry",e.ry).attr("x",e.x-e.width/2-l).attr("y",e.y-e.height/2-l).attr("width",e.width+a).attr("height",e.height+a).attr("fill","none");const o=s.node().getBBox();return e.width=o.width,e.height=o.height,e.intersect=function(h){return td(e,h)},{cluster:i,labelBBox:{width:0,height:0}}},"noteGroup"),ase=q(async(t,e)=>{const i=fr(),{themeVariables:s,handDrawnSeed:a}=i,{altBackground:l,compositeBackground:o,compositeTitleBackground:h,nodeBorder:d}=s,m=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-id",e.id).attr("data-look",e.look),f=m.insert("g",":first-child"),b=m.insert("g").attr("class","cluster-label");let k=m.append("rect");const w=b.node().appendChild(await ih(e.label,e.labelStyle,void 0,!0));let E=w.getBBox();if(ks(i.flowchart.htmlLabels)){const U=w.children[0],z=er(w);E=U.getBoundingClientRect(),z.attr("width",E.width),z.attr("height",E.height)}const P=0*e.padding,L=P/2,R=(e.width<=E.width+e.padding?E.width+e.padding:e.width)+P;e.width<=E.width+e.padding?e.diff=(R-e.width)/2-e.padding:e.diff=-e.padding;const u=e.height+P,T=e.height+P-E.height-6,y=e.x-R/2,S=e.y-u/2;e.width=R;const C=e.y-e.height/2-L+E.height+2;let M;if(e.look==="handDrawn"){const U=e.cssClasses.includes("statediagram-cluster-alt"),z=ri.svg(m),g=e.rx||e.ry?z.path(Kl(y,S,R,u,10),{roughness:.7,fill:h,fillStyle:"solid",stroke:d,seed:a}):z.rectangle(y,S,R,u,{seed:a});M=m.insert(()=>g,":first-child");const x=z.rectangle(y,C,R,T,{fill:U?l:o,fillStyle:U?"hachure":"solid",stroke:d,seed:a});M=m.insert(()=>g,":first-child"),k=m.insert(()=>x)}else M=f.insert("rect",":first-child"),M.attr("class","outer").attr("x",y).attr("y",S).attr("width",R).attr("height",u).attr("data-look",e.look),k.attr("class","inner").attr("x",y).attr("y",C).attr("width",R).attr("height",T);b.attr("transform",`translate(${e.x-E.width/2}, ${S+1-(ks(i.flowchart.htmlLabels)?0:3)})`);const I=M.node().getBBox();return e.height=I.height,e.offsetX=0,e.offsetY=E.height-e.padding/2,e.labelBBox=E,e.intersect=function(U){return td(e,U)},{cluster:m,labelBBox:E}},"roundedWithTitle"),nse=q(async(t,e)=>{ct.info("Creating subgraph rect for ",e.id,e);const i=fr(),{themeVariables:s,handDrawnSeed:a}=i,{clusterBkg:l,clusterBorder:o}=s,{labelStyles:h,nodeStyles:d,borderStyles:m,backgroundStyles:f}=ci(e),b=t.insert("g").attr("class","cluster "+e.cssClasses).attr("id",e.id).attr("data-look",e.look),k=ks(i.flowchart.htmlLabels),w=b.insert("g").attr("class","cluster-label "),E=await Xl(w,e.label,{style:e.labelStyle,useHtmlLabels:k,isNode:!0,width:e.width});let P=E.getBBox();if(ks(i.flowchart.htmlLabels)){const M=E.children[0],I=er(E);P=M.getBoundingClientRect(),I.attr("width",P.width),I.attr("height",P.height)}const L=e.width<=P.width+e.padding?P.width+e.padding:e.width;e.width<=P.width+e.padding?e.diff=(L-e.width)/2-e.padding:e.diff=-e.padding;const R=e.height,u=e.x-L/2,T=e.y-R/2;ct.trace("Data ",e,JSON.stringify(e));let y;if(e.look==="handDrawn"){const M=ri.svg(b),I=si(e,{roughness:.7,fill:l,stroke:o,fillWeight:4,seed:a}),U=M.path(Kl(u,T,L,R,e.rx),I);y=b.insert(()=>(ct.debug("Rough node insert CXC",U),U),":first-child"),y.select("path:nth-child(2)").attr("style",m.join(";")),y.select("path").attr("style",f.join(";").replace("fill","stroke"))}else y=b.insert("rect",":first-child"),y.attr("style",d).attr("rx",e.rx).attr("ry",e.ry).attr("x",u).attr("y",T).attr("width",L).attr("height",R);const{subGraphTitleTopMargin:S}=Lk(i);if(w.attr("transform",`translate(${e.x-P.width/2}, ${e.y-e.height/2+S})`),h){const M=w.select("span");M&&M.attr("style",h)}const C=y.node().getBBox();return e.offsetX=0,e.width=C.width,e.height=C.height,e.offsetY=P.height-e.padding/2,e.intersect=function(M){return td(e,M)},{cluster:b,labelBBox:P}},"kanbanSection"),ose=q((t,e)=>{const i=fr(),{themeVariables:s,handDrawnSeed:a}=i,{nodeBorder:l}=s,o=t.insert("g").attr("class",e.cssClasses).attr("id",e.id).attr("data-look",e.look),h=o.insert("g",":first-child"),d=0*e.padding,m=e.width+d;e.diff=-e.padding;const f=e.height+d,b=e.x-m/2,k=e.y-f/2;e.width=m;let w;if(e.look==="handDrawn"){const L=ri.svg(o).rectangle(b,k,m,f,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:l,seed:a});w=o.insert(()=>L,":first-child")}else w=h.insert("rect",":first-child"),w.attr("class","divider").attr("x",b).attr("y",k).attr("width",m).attr("height",f).attr("data-look",e.look);const E=w.node().getBBox();return e.height=E.height,e.offsetX=0,e.offsetY=0,e.intersect=function(P){return td(e,P)},{cluster:o,labelBBox:{}}},"divider"),lse=gB,cse={rect:gB,squareRect:lse,roundedWithTitle:ase,noteGroup:sse,divider:ose,kanbanSection:nse},yB=new Map,hse=q(async(t,e)=>{const i=e.shape||"rect",s=await cse[i](t,e);return yB.set(e.id,s),s},"insertCluster"),Sce=q(()=>{yB=new Map},"clear");function vB(t,e){return t.intersect(e)}q(vB,"intersectNode");var use=vB;function bB(t,e,i,s){var a=t.x,l=t.y,o=a-s.x,h=l-s.y,d=Math.sqrt(e*e*h*h+i*i*o*o),m=Math.abs(e*i*o/d);s.x<a&&(m=-m);var f=Math.abs(e*i*h/d);return s.y<l&&(f=-f),{x:a+m,y:l+f}}q(bB,"intersectEllipse");var wB=bB;function _B(t,e,i){return wB(t,e,e,i)}q(_B,"intersectCircle");var dse=_B;function xB(t,e,i,s){var a,l,o,h,d,m,f,b,k,w,E,P,L,R,u;if(a=e.y-t.y,o=t.x-e.x,d=e.x*t.y-t.x*e.y,k=a*i.x+o*i.y+d,w=a*s.x+o*s.y+d,!(k!==0&&w!==0&&gx(k,w))&&(l=s.y-i.y,h=i.x-s.x,m=s.x*i.y-i.x*s.y,f=l*t.x+h*t.y+m,b=l*e.x+h*e.y+m,!(f!==0&&b!==0&&gx(f,b))&&(E=a*h-l*o,E!==0)))return P=Math.abs(E/2),L=o*m-h*d,R=L<0?(L-P)/E:(L+P)/E,L=l*d-a*m,u=L<0?(L-P)/E:(L+P)/E,{x:R,y:u}}q(xB,"intersectLine");function gx(t,e){return t*e>0}q(gx,"sameSign");var fse=xB;function kB(t,e,i){let s=t.x,a=t.y,l=[],o=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY;typeof e.forEach=="function"?e.forEach(function(f){o=Math.min(o,f.x),h=Math.min(h,f.y)}):(o=Math.min(o,e.x),h=Math.min(h,e.y));let d=s-t.width/2-o,m=a-t.height/2-h;for(let f=0;f<e.length;f++){let b=e[f],k=e[f<e.length-1?f+1:0],w=fse(t,i,{x:d+b.x,y:m+b.y},{x:d+k.x,y:m+k.y});w&&l.push(w)}return l.length?(l.length>1&&l.sort(function(f,b){let k=f.x-i.x,w=f.y-i.y,E=Math.sqrt(k*k+w*w),P=b.x-i.x,L=b.y-i.y,R=Math.sqrt(P*P+L*L);return E<R?-1:E===R?0:1}),l[0]):t}q(kB,"intersectPolygon");var pse=kB,ei={node:use,circle:dse,ellipse:wB,polygon:pse,rect:td};function SB(t,e){const{labelStyles:i}=ci(e);e.labelStyle=i;const s=Ti(e);let a=s;s||(a="anchor");const l=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=1,{cssStyles:h}=e,d=ri.svg(l),m=si(e,{fill:"black",stroke:"none",fillStyle:"solid"});e.look!=="handDrawn"&&(m.roughness=0);const f=d.circle(0,0,o*2,m),b=l.insert(()=>f,":first-child");return b.attr("class","anchor").attr("style",Ia(h)),li(e,b),e.intersect=function(k){return ct.info("Circle intersect",e,o,k),ei.circle(e,o,k)},l}q(SB,"anchor");function yx(t,e,i,s,a,l,o){const d=(t+i)/2,m=(e+s)/2,f=Math.atan2(s-e,i-t),b=(i-t)/2,k=(s-e)/2,w=b/a,E=k/l,P=Math.sqrt(w**2+E**2);if(P>1)throw new Error("The given radii are too small to create an arc between the points.");const L=Math.sqrt(1-P**2),R=d+L*l*Math.sin(f)*(o?-1:1),u=m-L*a*Math.cos(f)*(o?-1:1),T=Math.atan2((e-u)/l,(t-R)/a);let S=Math.atan2((s-u)/l,(i-R)/a)-T;o&&S<0&&(S+=2*Math.PI),!o&&S>0&&(S-=2*Math.PI);const C=[];for(let M=0;M<20;M++){const I=M/19,U=T+I*S,z=R+a*Math.cos(U),g=u+l*Math.sin(U);C.push({x:z,y:g})}return C}q(yx,"generateArcPoints");async function TB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=l.width+e.padding+20,h=l.height+e.padding,d=h/2,m=d/(2.5+h/50),{cssStyles:f}=e,b=[{x:o/2,y:-h/2},{x:-o/2,y:-h/2},...yx(-o/2,-h/2,-o/2,h/2,m,d,!1),{x:o/2,y:h/2},...yx(o/2,h/2,o/2,-h/2,m,d,!0)],k=ri.svg(a),w=si(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=Zi(b),P=k.path(E,w),L=a.insert(()=>P,":first-child");return L.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",f),s&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),L.attr("transform",`translate(${m/2}, 0)`),li(e,L),e.intersect=function(R){return ei.polygon(e,b,R)},a}q(TB,"bowTieRect");function Zl(t,e,i,s){return t.insert("polygon",":first-child").attr("points",s.map(function(a){return a.x+","+a.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-e/2+","+i/2+")")}q(Zl,"insertPolygonShape");async function CB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=l.height+e.padding,h=12,d=l.width+e.padding+h,m=0,f=d,b=-o,k=0,w=[{x:m+h,y:b},{x:f,y:b},{x:f,y:k},{x:m,y:k},{x:m,y:b+h},{x:m+h,y:b}];let E;const{cssStyles:P}=e;if(e.look==="handDrawn"){const L=ri.svg(a),R=si(e,{}),u=Zi(w),T=L.path(u,R);E=a.insert(()=>T,":first-child").attr("transform",`translate(${-d/2}, ${o/2})`),P&&E.attr("style",P)}else E=Zl(a,d,o,w);return s&&E.attr("style",s),li(e,E),e.intersect=function(L){return ei.polygon(e,w,L)},a}q(CB,"card");function EB(t,e){const{nodeStyles:i}=ci(e);e.label="";const s=t.insert("g").attr("class",Ti(e)).attr("id",e.domId??e.id),{cssStyles:a}=e,l=Math.max(28,e.width??0),o=[{x:0,y:l/2},{x:l/2,y:0},{x:0,y:-l/2},{x:-l/2,y:0}],h=ri.svg(s),d=si(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=Zi(o),f=h.path(m,d),b=s.insert(()=>f,":first-child");return a&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",a),i&&e.look!=="handDrawn"&&b.selectAll("path").attr("style",i),e.width=28,e.height=28,e.intersect=function(k){return ei.polygon(e,o,k)},s}q(EB,"choice");async function OB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,halfPadding:o}=await Mi(t,e,Ti(e)),h=l.width/2+o;let d;const{cssStyles:m}=e;if(e.look==="handDrawn"){const f=ri.svg(a),b=si(e,{}),k=f.circle(0,0,h*2,b);d=a.insert(()=>k,":first-child"),d.attr("class","basic label-container").attr("style",Ia(m))}else d=a.insert("circle",":first-child").attr("class","basic label-container").attr("style",s).attr("r",h).attr("cx",0).attr("cy",0);return li(e,d),e.intersect=function(f){return ct.info("Circle intersect",e,h,f),ei.circle(e,h,f)},a}q(OB,"circle");function AB(t){const e=Math.cos(Math.PI/4),i=Math.sin(Math.PI/4),s=t*2,a={x:s/2*e,y:s/2*i},l={x:-(s/2)*e,y:s/2*i},o={x:-(s/2)*e,y:-(s/2)*i},h={x:s/2*e,y:-(s/2)*i};return`M ${l.x},${l.y} L ${h.x},${h.y}
                   M ${a.x},${a.y} L ${o.x},${o.y}`}q(AB,"createLine");function PB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i,e.label="";const a=t.insert("g").attr("class",Ti(e)).attr("id",e.domId??e.id),l=Math.max(30,(e==null?void 0:e.width)??0),{cssStyles:o}=e,h=ri.svg(a),d=si(e,{});e.look!=="handDrawn"&&(d.roughness=0,d.fillStyle="solid");const m=h.circle(0,0,l*2,d),f=AB(l),b=h.path(f,d),k=a.insert(()=>m,":first-child");return k.insert(()=>b),o&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",o),s&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",s),li(e,k),e.intersect=function(w){return ct.info("crossedCircle intersect",e,{radius:l,point:w}),ei.circle(e,l,w)},a}q(PB,"crossedCircle");function Ko(t,e,i,s=100,a=0,l=180){const o=[],h=a*Math.PI/180,f=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*f,w=t+i*Math.cos(k),E=e+i*Math.sin(k);o.push({x:-w,y:-E})}return o}q(Ko,"generateCirclePoints");async function MB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),m=Math.max(5,d*.1),{cssStyles:f}=e,b=[...Ko(h/2,-d/2,m,30,-90,0),{x:-h/2-m,y:m},...Ko(h/2+m*2,-m,m,20,-180,-270),...Ko(h/2+m*2,m,m,20,-90,-180),{x:-h/2-m,y:-d/2},...Ko(h/2,d/2,m,20,0,90)],k=[{x:h/2,y:-d/2-m},{x:-h/2,y:-d/2-m},...Ko(h/2,-d/2,m,20,-90,0),{x:-h/2-m,y:-m},...Ko(h/2+h*.1,-m,m,20,-180,-270),...Ko(h/2+h*.1,m,m,20,-90,-180),{x:-h/2-m,y:d/2},...Ko(h/2,d/2,m,20,0,90),{x:-h/2,y:d/2+m},{x:h/2,y:d/2+m}],w=ri.svg(a),E=si(e,{fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const L=Zi(b).replace("Z",""),R=w.path(L,E),u=Zi(k),T=w.path(u,{...E}),y=a.insert("g",":first-child");return y.insert(()=>T,":first-child").attr("stroke-opacity",0),y.insert(()=>R,":first-child"),y.attr("class","text"),f&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",f),s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),y.attr("transform",`translate(${m}, 0)`),o.attr("transform",`translate(${-h/2+m-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),li(e,y),e.intersect=function(S){return ei.polygon(e,k,S)},a}q(MB,"curlyBraceLeft");function Zo(t,e,i,s=100,a=0,l=180){const o=[],h=a*Math.PI/180,f=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*f,w=t+i*Math.cos(k),E=e+i*Math.sin(k);o.push({x:w,y:E})}return o}q(Zo,"generateCirclePoints");async function LB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),m=Math.max(5,d*.1),{cssStyles:f}=e,b=[...Zo(h/2,-d/2,m,20,-90,0),{x:h/2+m,y:-m},...Zo(h/2+m*2,-m,m,20,-180,-270),...Zo(h/2+m*2,m,m,20,-90,-180),{x:h/2+m,y:d/2},...Zo(h/2,d/2,m,20,0,90)],k=[{x:-h/2,y:-d/2-m},{x:h/2,y:-d/2-m},...Zo(h/2,-d/2,m,20,-90,0),{x:h/2+m,y:-m},...Zo(h/2+m*2,-m,m,20,-180,-270),...Zo(h/2+m*2,m,m,20,-90,-180),{x:h/2+m,y:d/2},...Zo(h/2,d/2,m,20,0,90),{x:h/2,y:d/2+m},{x:-h/2,y:d/2+m}],w=ri.svg(a),E=si(e,{fill:"none"});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const L=Zi(b).replace("Z",""),R=w.path(L,E),u=Zi(k),T=w.path(u,{...E}),y=a.insert("g",":first-child");return y.insert(()=>T,":first-child").attr("stroke-opacity",0),y.insert(()=>R,":first-child"),y.attr("class","text"),f&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",f),s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),y.attr("transform",`translate(${-m}, 0)`),o.attr("transform",`translate(${-h/2+(e.padding??0)/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),li(e,y),e.intersect=function(S){return ei.polygon(e,k,S)},a}q(LB,"curlyBraceRight");function js(t,e,i,s=100,a=0,l=180){const o=[],h=a*Math.PI/180,f=(l*Math.PI/180-h)/(s-1);for(let b=0;b<s;b++){const k=h+b*f,w=t+i*Math.cos(k),E=e+i*Math.sin(k);o.push({x:-w,y:-E})}return o}q(js,"generateCirclePoints");async function RB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=l.width+(e.padding??0),d=l.height+(e.padding??0),m=Math.max(5,d*.1),{cssStyles:f}=e,b=[...js(h/2,-d/2,m,30,-90,0),{x:-h/2-m,y:m},...js(h/2+m*2,-m,m,20,-180,-270),...js(h/2+m*2,m,m,20,-90,-180),{x:-h/2-m,y:-d/2},...js(h/2,d/2,m,20,0,90)],k=[...js(-h/2+m+m/2,-d/2,m,20,-90,-180),{x:h/2-m/2,y:m},...js(-h/2-m/2,-m,m,20,0,90),...js(-h/2-m/2,m,m,20,-90,0),{x:h/2-m/2,y:-m},...js(-h/2+m+m/2,d/2,m,30,-180,-270)],w=[{x:h/2,y:-d/2-m},{x:-h/2,y:-d/2-m},...js(h/2,-d/2,m,20,-90,0),{x:-h/2-m,y:-m},...js(h/2+m*2,-m,m,20,-180,-270),...js(h/2+m*2,m,m,20,-90,-180),{x:-h/2-m,y:d/2},...js(h/2,d/2,m,20,0,90),{x:-h/2,y:d/2+m},{x:h/2-m-m/2,y:d/2+m},...js(-h/2+m+m/2,-d/2,m,20,-90,-180),{x:h/2-m/2,y:m},...js(-h/2-m/2,-m,m,20,0,90),...js(-h/2-m/2,m,m,20,-90,0),{x:h/2-m/2,y:-m},...js(-h/2+m+m/2,d/2,m,30,-180,-270)],E=ri.svg(a),P=si(e,{fill:"none"});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const R=Zi(b).replace("Z",""),u=E.path(R,P),y=Zi(k).replace("Z",""),S=E.path(y,P),C=Zi(w),M=E.path(C,{...P}),I=a.insert("g",":first-child");return I.insert(()=>M,":first-child").attr("stroke-opacity",0),I.insert(()=>u,":first-child"),I.insert(()=>S,":first-child"),I.attr("class","text"),f&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",f),s&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",s),I.attr("transform",`translate(${m-m/4}, 0)`),o.attr("transform",`translate(${-h/2+(e.padding??0)/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)/2-(l.y-(l.top??0))})`),li(e,I),e.intersect=function(U){return ei.polygon(e,w,U)},a}q(RB,"curlyBraces");async function FB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=80,h=20,d=Math.max(o,(l.width+(e.padding??0)*2)*1.25,(e==null?void 0:e.width)??0),m=Math.max(h,l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=m/2,{cssStyles:b}=e,k=ri.svg(a),w=si(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=d,P=m,L=E-f,R=P/4,u=[{x:L,y:0},{x:R,y:0},{x:0,y:P/2},{x:R,y:P},{x:L,y:P},...Pp(-L,-P/2,f,50,270,90)],T=Zi(u),y=k.path(T,w),S=a.insert(()=>y,":first-child");return S.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&S.selectChildren("path").attr("style",s),S.attr("transform",`translate(${-d/2}, ${-m/2})`),li(e,S),e.intersect=function(C){return ei.polygon(e,u,C)},a}q(FB,"curvedTrapezoid");var mse=q((t,e,i,s,a,l)=>[`M${t},${e+l}`,`a${a},${l} 0,0,0 ${i},0`,`a${a},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${a},${l} 0,0,0 ${i},0`,`l0,${-s}`].join(" "),"createCylinderPathD"),gse=q((t,e,i,s,a,l)=>[`M${t},${e+l}`,`M${t+i},${e+l}`,`a${a},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${a},${l} 0,0,0 ${i},0`,`l0,${-s}`].join(" "),"createOuterCylinderPathD"),yse=q((t,e,i,s,a,l)=>[`M${t-i/2},${-s/2}`,`a${a},${l} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function DB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+e.padding,e.width??0),d=h/2,m=d/(2.5+h/50),f=Math.max(l.height+m+e.padding,e.height??0);let b;const{cssStyles:k}=e;if(e.look==="handDrawn"){const w=ri.svg(a),E=gse(0,0,h,f,d,m),P=yse(0,m,h,f,d,m),L=w.path(E,si(e,{})),R=w.path(P,si(e,{fill:"none"}));b=a.insert(()=>R,":first-child"),b=a.insert(()=>L,":first-child"),b.attr("class","basic label-container"),k&&b.attr("style",k)}else{const w=mse(0,0,h,f,d,m);b=a.insert("path",":first-child").attr("d",w).attr("class","basic label-container").attr("style",Ia(k)).attr("style",s)}return b.attr("label-offset-y",m),b.attr("transform",`translate(${-h/2}, ${-(f/2+m)})`),li(e,b),o.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+(e.padding??0)/1.5-(l.y-(l.top??0))})`),e.intersect=function(w){const E=ei.rect(e,w),P=E.x-(e.x??0);if(d!=0&&(Math.abs(P)<(e.width??0)/2||Math.abs(P)==(e.width??0)/2&&Math.abs(E.y-(e.y??0))>(e.height??0)/2-m)){let L=m*m*(1-P*P/(d*d));L>0&&(L=Math.sqrt(L)),L=m-L,w.y-(e.y??0)>0&&(L=-L),E.y+=L}return E},a}q(DB,"cylinder");async function IB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=l.width+e.padding,d=l.height+e.padding,m=d*.2,f=-h/2,b=-d/2-m/2,{cssStyles:k}=e,w=ri.svg(a),E=si(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const P=[{x:f,y:b+m},{x:-f,y:b+m},{x:-f,y:-b},{x:f,y:-b},{x:f,y:b},{x:-f,y:b},{x:-f,y:b+m}],L=w.polygon(P.map(u=>[u.x,u.y]),E),R=a.insert(()=>L,":first-child");return R.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",s),o.attr("transform",`translate(${f+(e.padding??0)/2-(l.x-(l.left??0))}, ${b+m+(e.padding??0)/2-(l.y-(l.top??0))})`),li(e,R),e.intersect=function(u){return ei.rect(e,u)},a}q(IB,"dividedRectangle");async function BB(t,e){var k,w;const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,halfPadding:o}=await Mi(t,e,Ti(e)),d=l.width/2+o+5,m=l.width/2+o;let f;const{cssStyles:b}=e;if(e.look==="handDrawn"){const E=ri.svg(a),P=si(e,{roughness:.2,strokeWidth:2.5}),L=si(e,{roughness:.2,strokeWidth:1.5}),R=E.circle(0,0,d*2,P),u=E.circle(0,0,m*2,L);f=a.insert("g",":first-child"),f.attr("class",Ia(e.cssClasses)).attr("style",Ia(b)),(k=f.node())==null||k.appendChild(R),(w=f.node())==null||w.appendChild(u)}else{f=a.insert("g",":first-child");const E=f.insert("circle",":first-child"),P=f.insert("circle");f.attr("class","basic label-container").attr("style",s),E.attr("class","outer-circle").attr("style",s).attr("r",d).attr("cx",0).attr("cy",0),P.attr("class","inner-circle").attr("style",s).attr("r",m).attr("cx",0).attr("cy",0)}return li(e,f),e.intersect=function(E){return ct.info("DoubleCircle intersect",e,d,E),ei.circle(e,d,E)},a}q(BB,"doublecircle");function NB(t,e,{config:{themeVariables:i}}){const{labelStyles:s,nodeStyles:a}=ci(e);e.label="",e.labelStyle=s;const l=t.insert("g").attr("class",Ti(e)).attr("id",e.domId??e.id),o=7,{cssStyles:h}=e,d=ri.svg(l),{nodeBorder:m}=i,f=si(e,{fillStyle:"solid"});e.look!=="handDrawn"&&(f.roughness=0);const b=d.circle(0,0,o*2,f),k=l.insert(()=>b,":first-child");return k.selectAll("path").attr("style",`fill: ${m} !important;`),h&&h.length>0&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",h),a&&e.look!=="handDrawn"&&k.selectAll("path").attr("style",a),li(e,k),e.intersect=function(w){return ct.info("filledCircle intersect",e,{radius:o,point:w}),ei.circle(e,o,w)},l}q(NB,"filledCircle");async function zB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=l.width+(e.padding??0),d=h+l.height,m=h+l.height,f=[{x:0,y:-d},{x:m,y:-d},{x:m/2,y:0}],{cssStyles:b}=e,k=ri.svg(a),w=si(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=Zi(f),P=k.path(E,w),L=a.insert(()=>P,":first-child").attr("transform",`translate(${-d/2}, ${d/2})`);return b&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),e.width=h,e.height=d,li(e,L),o.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${-d/2+(e.padding??0)/2+(l.y-(l.top??0))})`),e.intersect=function(R){return ct.info("Triangle intersect",e,f,R),ei.polygon(e,f,R)},a}q(zB,"flippedTriangle");function UB(t,e,{dir:i,config:{state:s,themeVariables:a}}){const{nodeStyles:l}=ci(e);e.label="";const o=t.insert("g").attr("class",Ti(e)).attr("id",e.domId??e.id),{cssStyles:h}=e;let d=Math.max(70,(e==null?void 0:e.width)??0),m=Math.max(10,(e==null?void 0:e.height)??0);i==="LR"&&(d=Math.max(10,(e==null?void 0:e.width)??0),m=Math.max(70,(e==null?void 0:e.height)??0));const f=-1*d/2,b=-1*m/2,k=ri.svg(o),w=si(e,{stroke:a.lineColor,fill:a.lineColor});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=k.rectangle(f,b,d,m,w),P=o.insert(()=>E,":first-child");h&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",h),l&&e.look!=="handDrawn"&&P.selectAll("path").attr("style",l),li(e,P);const L=(s==null?void 0:s.padding)??0;return e.width&&e.height&&(e.width+=L/2||0,e.height+=L/2||0),e.intersect=function(R){return ei.rect(e,R)},o}q(UB,"forkJoin");async function HB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const a=80,l=50,{shapeSvg:o,bbox:h}=await Mi(t,e,Ti(e)),d=Math.max(a,h.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(l,h.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=m/2,{cssStyles:b}=e,k=ri.svg(o),w=si(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=[{x:-d/2,y:-m/2},{x:d/2-f,y:-m/2},...Pp(-d/2+f,0,f,50,90,270),{x:d/2-f,y:m/2},{x:-d/2,y:m/2}],P=Zi(E),L=k.path(P,w),R=o.insert(()=>L,":first-child");return R.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",s),li(e,R),e.intersect=function(u){return ct.info("Pill intersect",e,{radius:f,point:u}),ei.polygon(e,E,u)},o}q(HB,"halfRoundedRectangle");async function WB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=l.height+(e.padding??0),h=l.width+(e.padding??0)*2.5,{cssStyles:d}=e,m=ri.svg(a),f=si(e,{});e.look!=="handDrawn"&&(f.roughness=0,f.fillStyle="solid");let b=h/2;const k=b/6;b=b+k;const w=o/2,E=w/2,P=b-E,L=[{x:-P,y:-w},{x:0,y:-w},{x:P,y:-w},{x:b,y:0},{x:P,y:w},{x:0,y:w},{x:-P,y:w},{x:-b,y:0}],R=Zi(L),u=m.path(R,f),T=a.insert(()=>u,":first-child");return T.attr("class","basic label-container"),d&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",d),s&&e.look!=="handDrawn"&&T.selectChildren("path").attr("style",s),e.width=h,e.height=o,li(e,T),e.intersect=function(y){return ei.polygon(e,L,y)},a}q(WB,"hexagon");async function jB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.label="",e.labelStyle=i;const{shapeSvg:a}=await Mi(t,e,Ti(e)),l=Math.max(30,(e==null?void 0:e.width)??0),o=Math.max(30,(e==null?void 0:e.height)??0),{cssStyles:h}=e,d=ri.svg(a),m=si(e,{});e.look!=="handDrawn"&&(m.roughness=0,m.fillStyle="solid");const f=[{x:0,y:0},{x:l,y:0},{x:0,y:o},{x:l,y:o}],b=Zi(f),k=d.path(b,m),w=a.insert(()=>k,":first-child");return w.attr("class","basic label-container"),h&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",h),s&&e.look!=="handDrawn"&&w.selectChildren("path").attr("style",s),w.attr("transform",`translate(${-l/2}, ${-o/2})`),li(e,w),e.intersect=function(E){return ct.info("Pill intersect",e,{points:f}),ei.polygon(e,f,E)},a}q(jB,"hourglass");async function qB(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:a}=ci(e);e.labelStyle=a;const l=e.assetHeight??48,o=e.assetWidth??48,h=Math.max(l,o),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:f,label:b}=await Mi(t,e,"icon-shape default"),k=e.pos==="t",w=h,E=h,{nodeBorder:P}=i,{stylesMap:L}=Qu(e),R=-E/2,u=-w/2,T=e.label?8:0,y=ri.svg(m),S=si(e,{stroke:"none",fill:"none"});e.look!=="handDrawn"&&(S.roughness=0,S.fillStyle="solid");const C=y.rectangle(R,u,E,w,S),M=Math.max(E,f.width),I=w+f.height+T,U=y.rectangle(-M/2,-I/2,M,I,{...S,fill:"transparent",stroke:"none"}),z=m.insert(()=>C,":first-child"),g=m.insert(()=>U);if(e.icon){const x=m.append("g");x.html(`<g>${await Qp(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const A=x.node().getBBox(),F=A.width,B=A.height,j=A.x,$=A.y;x.attr("transform",`translate(${-F/2-j},${k?f.height/2+T/2-B/2-$:-f.height/2-T/2-B/2-$})`),x.attr("style",`color: ${L.get("stroke")??P};`)}return b.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${k?-I/2:I/2-f.height})`),z.attr("transform",`translate(0,${k?f.height/2+T/2:-f.height/2-T/2})`),li(e,g),e.intersect=function(x){if(ct.info("iconSquare intersect",e,x),!e.label)return ei.rect(e,x);const A=e.x??0,F=e.y??0,B=e.height??0;let j=[];return k?j=[{x:A-f.width/2,y:F-B/2},{x:A+f.width/2,y:F-B/2},{x:A+f.width/2,y:F-B/2+f.height+T},{x:A+E/2,y:F-B/2+f.height+T},{x:A+E/2,y:F+B/2},{x:A-E/2,y:F+B/2},{x:A-E/2,y:F-B/2+f.height+T},{x:A-f.width/2,y:F-B/2+f.height+T}]:j=[{x:A-E/2,y:F-B/2},{x:A+E/2,y:F-B/2},{x:A+E/2,y:F-B/2+w},{x:A+f.width/2,y:F-B/2+w},{x:A+f.width/2/2,y:F+B/2},{x:A-f.width/2,y:F+B/2},{x:A-f.width/2,y:F-B/2+w},{x:A-E/2,y:F-B/2+w}],ei.polygon(e,j,x)},m}q(qB,"icon");async function $B(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:a}=ci(e);e.labelStyle=a;const l=e.assetHeight??48,o=e.assetWidth??48,h=Math.max(l,o),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:f,label:b}=await Mi(t,e,"icon-shape default"),k=20,w=e.label?8:0,E=e.pos==="t",{nodeBorder:P,mainBkg:L}=i,{stylesMap:R}=Qu(e),u=ri.svg(m),T=si(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const y=R.get("fill");T.stroke=y??L;const S=m.append("g");e.icon&&S.html(`<g>${await Qp(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const C=S.node().getBBox(),M=C.width,I=C.height,U=C.x,z=C.y,g=Math.max(M,I)*Math.SQRT2+k*2,x=u.circle(0,0,g,T),A=Math.max(g,f.width),F=g+f.height+w,B=u.rectangle(-A/2,-F/2,A,F,{...T,fill:"transparent",stroke:"none"}),j=m.insert(()=>x,":first-child"),$=m.insert(()=>B);return S.attr("transform",`translate(${-M/2-U},${E?f.height/2+w/2-I/2-z:-f.height/2-w/2-I/2-z})`),S.attr("style",`color: ${R.get("stroke")??P};`),b.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${E?-F/2:F/2-f.height})`),j.attr("transform",`translate(0,${E?f.height/2+w/2:-f.height/2-w/2})`),li(e,$),e.intersect=function(G){return ct.info("iconSquare intersect",e,G),ei.rect(e,G)},m}q($B,"iconCircle");async function VB(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:a}=ci(e);e.labelStyle=a;const l=e.assetHeight??48,o=e.assetWidth??48,h=Math.max(l,o),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:f,halfPadding:b,label:k}=await Mi(t,e,"icon-shape default"),w=e.pos==="t",E=h+b*2,P=h+b*2,{nodeBorder:L,mainBkg:R}=i,{stylesMap:u}=Qu(e),T=-P/2,y=-E/2,S=e.label?8:0,C=ri.svg(m),M=si(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const I=u.get("fill");M.stroke=I??R;const U=C.path(Kl(T,y,P,E,5),M),z=Math.max(P,f.width),g=E+f.height+S,x=C.rectangle(-z/2,-g/2,z,g,{...M,fill:"transparent",stroke:"none"}),A=m.insert(()=>U,":first-child").attr("class","icon-shape2"),F=m.insert(()=>x);if(e.icon){const B=m.append("g");B.html(`<g>${await Qp(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const j=B.node().getBBox(),$=j.width,G=j.height,he=j.x,Q=j.y;B.attr("transform",`translate(${-$/2-he},${w?f.height/2+S/2-G/2-Q:-f.height/2-S/2-G/2-Q})`),B.attr("style",`color: ${u.get("stroke")??L};`)}return k.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${w?-g/2:g/2-f.height})`),A.attr("transform",`translate(0,${w?f.height/2+S/2:-f.height/2-S/2})`),li(e,F),e.intersect=function(B){if(ct.info("iconSquare intersect",e,B),!e.label)return ei.rect(e,B);const j=e.x??0,$=e.y??0,G=e.height??0;let he=[];return w?he=[{x:j-f.width/2,y:$-G/2},{x:j+f.width/2,y:$-G/2},{x:j+f.width/2,y:$-G/2+f.height+S},{x:j+P/2,y:$-G/2+f.height+S},{x:j+P/2,y:$+G/2},{x:j-P/2,y:$+G/2},{x:j-P/2,y:$-G/2+f.height+S},{x:j-f.width/2,y:$-G/2+f.height+S}]:he=[{x:j-P/2,y:$-G/2},{x:j+P/2,y:$-G/2},{x:j+P/2,y:$-G/2+E},{x:j+f.width/2,y:$-G/2+E},{x:j+f.width/2/2,y:$+G/2},{x:j-f.width/2,y:$+G/2},{x:j-f.width/2,y:$-G/2+E},{x:j-P/2,y:$-G/2+E}],ei.polygon(e,he,B)},m}q(VB,"iconRounded");async function YB(t,e,{config:{themeVariables:i,flowchart:s}}){const{labelStyles:a}=ci(e);e.labelStyle=a;const l=e.assetHeight??48,o=e.assetWidth??48,h=Math.max(l,o),d=s==null?void 0:s.wrappingWidth;e.width=Math.max(h,d??0);const{shapeSvg:m,bbox:f,halfPadding:b,label:k}=await Mi(t,e,"icon-shape default"),w=e.pos==="t",E=h+b*2,P=h+b*2,{nodeBorder:L,mainBkg:R}=i,{stylesMap:u}=Qu(e),T=-P/2,y=-E/2,S=e.label?8:0,C=ri.svg(m),M=si(e,{});e.look!=="handDrawn"&&(M.roughness=0,M.fillStyle="solid");const I=u.get("fill");M.stroke=I??R;const U=C.path(Kl(T,y,P,E,.1),M),z=Math.max(P,f.width),g=E+f.height+S,x=C.rectangle(-z/2,-g/2,z,g,{...M,fill:"transparent",stroke:"none"}),A=m.insert(()=>U,":first-child"),F=m.insert(()=>x);if(e.icon){const B=m.append("g");B.html(`<g>${await Qp(e.icon,{height:h,width:h,fallbackPrefix:""})}</g>`);const j=B.node().getBBox(),$=j.width,G=j.height,he=j.x,Q=j.y;B.attr("transform",`translate(${-$/2-he},${w?f.height/2+S/2-G/2-Q:-f.height/2-S/2-G/2-Q})`),B.attr("style",`color: ${u.get("stroke")??L};`)}return k.attr("transform",`translate(${-f.width/2-(f.x-(f.left??0))},${w?-g/2:g/2-f.height})`),A.attr("transform",`translate(0,${w?f.height/2+S/2:-f.height/2-S/2})`),li(e,F),e.intersect=function(B){if(ct.info("iconSquare intersect",e,B),!e.label)return ei.rect(e,B);const j=e.x??0,$=e.y??0,G=e.height??0;let he=[];return w?he=[{x:j-f.width/2,y:$-G/2},{x:j+f.width/2,y:$-G/2},{x:j+f.width/2,y:$-G/2+f.height+S},{x:j+P/2,y:$-G/2+f.height+S},{x:j+P/2,y:$+G/2},{x:j-P/2,y:$+G/2},{x:j-P/2,y:$-G/2+f.height+S},{x:j-f.width/2,y:$-G/2+f.height+S}]:he=[{x:j-P/2,y:$-G/2},{x:j+P/2,y:$-G/2},{x:j+P/2,y:$-G/2+E},{x:j+f.width/2,y:$-G/2+E},{x:j+f.width/2/2,y:$+G/2},{x:j-f.width/2,y:$+G/2},{x:j-f.width/2,y:$-G/2+E},{x:j-P/2,y:$-G/2+E}],ei.polygon(e,he,B)},m}q(YB,"iconSquare");async function GB(t,e,{config:{flowchart:i}}){const s=new Image;s.src=(e==null?void 0:e.img)??"",await s.decode();const a=Number(s.naturalWidth.toString().replace("px","")),l=Number(s.naturalHeight.toString().replace("px",""));e.imageAspectRatio=a/l;const{labelStyles:o}=ci(e);e.labelStyle=o;const h=i==null?void 0:i.wrappingWidth;e.defaultWidth=i==null?void 0:i.wrappingWidth;const d=Math.max(e.label?h??0:0,(e==null?void 0:e.assetWidth)??a),m=e.constraint==="on"&&e!=null&&e.assetHeight?e.assetHeight*e.imageAspectRatio:d,f=e.constraint==="on"?m/e.imageAspectRatio:(e==null?void 0:e.assetHeight)??l;e.width=Math.max(m,h??0);const{shapeSvg:b,bbox:k,label:w}=await Mi(t,e,"image-shape default"),E=e.pos==="t",P=-m/2,L=-f/2,R=e.label?8:0,u=ri.svg(b),T=si(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const y=u.rectangle(P,L,m,f,T),S=Math.max(m,k.width),C=f+k.height+R,M=u.rectangle(-S/2,-C/2,S,C,{...T,fill:"none",stroke:"none"}),I=b.insert(()=>y,":first-child"),U=b.insert(()=>M);if(e.img){const z=b.append("image");z.attr("href",e.img),z.attr("width",m),z.attr("height",f),z.attr("preserveAspectRatio","none"),z.attr("transform",`translate(${-m/2},${E?C/2-f:-C/2})`)}return w.attr("transform",`translate(${-k.width/2-(k.x-(k.left??0))},${E?-f/2-k.height/2-R/2:f/2-k.height/2+R/2})`),I.attr("transform",`translate(0,${E?k.height/2+R/2:-k.height/2-R/2})`),li(e,U),e.intersect=function(z){if(ct.info("iconSquare intersect",e,z),!e.label)return ei.rect(e,z);const g=e.x??0,x=e.y??0,A=e.height??0;let F=[];return E?F=[{x:g-k.width/2,y:x-A/2},{x:g+k.width/2,y:x-A/2},{x:g+k.width/2,y:x-A/2+k.height+R},{x:g+m/2,y:x-A/2+k.height+R},{x:g+m/2,y:x+A/2},{x:g-m/2,y:x+A/2},{x:g-m/2,y:x-A/2+k.height+R},{x:g-k.width/2,y:x-A/2+k.height+R}]:F=[{x:g-m/2,y:x-A/2},{x:g+m/2,y:x-A/2},{x:g+m/2,y:x-A/2+f},{x:g+k.width/2,y:x-A/2+f},{x:g+k.width/2/2,y:x+A/2},{x:g-k.width/2,y:x+A/2},{x:g-k.width/2,y:x-A/2+f},{x:g-m/2,y:x-A/2+f}],ei.polygon(e,F,z)},b}q(GB,"imageSquare");async function XB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=[{x:0,y:0},{x:o,y:0},{x:o+3*h/6,y:-h},{x:-3*h/6,y:-h}];let m;const{cssStyles:f}=e;if(e.look==="handDrawn"){const b=ri.svg(a),k=si(e,{}),w=Zi(d),E=b.path(w,k);m=a.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${h/2})`),f&&m.attr("style",f)}else m=Zl(a,o,h,d);return s&&m.attr("style",s),e.width=o,e.height=h,li(e,m),e.intersect=function(b){return ei.polygon(e,d,b)},a}q(XB,"inv_trapezoid");async function Yv(t,e,i){const{labelStyles:s,nodeStyles:a}=ci(e);e.labelStyle=s;const{shapeSvg:l,bbox:o}=await Mi(t,e,Ti(e)),h=Math.max(o.width+i.labelPaddingX*2,(e==null?void 0:e.width)||0),d=Math.max(o.height+i.labelPaddingY*2,(e==null?void 0:e.height)||0),m=-h/2,f=-d/2;let b,{rx:k,ry:w}=e;const{cssStyles:E}=e;if(i!=null&&i.rx&&i.ry&&(k=i.rx,w=i.ry),e.look==="handDrawn"){const P=ri.svg(l),L=si(e,{}),R=k||w?P.path(Kl(m,f,h,d,k||0),L):P.rectangle(m,f,h,d,L);b=l.insert(()=>R,":first-child"),b.attr("class","basic label-container").attr("style",Ia(E))}else b=l.insert("rect",":first-child"),b.attr("class","basic label-container").attr("style",a).attr("rx",Ia(k)).attr("ry",Ia(w)).attr("x",m).attr("y",f).attr("width",h).attr("height",d);return li(e,b),e.intersect=function(P){return ei.rect(e,P)},l}q(Yv,"drawRect");async function KB(t,e){const{shapeSvg:i,bbox:s,label:a}=await Mi(t,e,"label"),l=i.insert("rect",":first-child");return l.attr("width",.1).attr("height",.1),i.attr("class","label edgeLabel"),a.attr("transform",`translate(${-(s.width/2)-(s.x-(s.left??0))}, ${-(s.height/2)-(s.y-(s.top??0))})`),li(e,l),e.intersect=function(d){return ei.rect(e,d)},i}q(KB,"labelRect");async function ZB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),d=[{x:0,y:0},{x:o+3*h/6,y:0},{x:o,y:-h},{x:-(3*h)/6,y:-h}];let m;const{cssStyles:f}=e;if(e.look==="handDrawn"){const b=ri.svg(a),k=si(e,{}),w=Zi(d),E=b.path(w,k);m=a.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${h/2})`),f&&m.attr("style",f)}else m=Zl(a,o,h,d);return s&&m.attr("style",s),e.width=o,e.height=h,li(e,m),e.intersect=function(b){return ei.polygon(e,d,b)},a}q(ZB,"lean_left");async function QB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),d=[{x:-3*h/6,y:0},{x:o,y:0},{x:o+3*h/6,y:-h},{x:0,y:-h}];let m;const{cssStyles:f}=e;if(e.look==="handDrawn"){const b=ri.svg(a),k=si(e,{}),w=Zi(d),E=b.path(w,k);m=a.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${h/2})`),f&&m.attr("style",f)}else m=Zl(a,o,h,d);return s&&m.attr("style",s),e.width=o,e.height=h,li(e,m),e.intersect=function(b){return ei.polygon(e,d,b)},a}q(QB,"lean_right");function JB(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.label="",e.labelStyle=i;const a=t.insert("g").attr("class",Ti(e)).attr("id",e.domId??e.id),{cssStyles:l}=e,o=Math.max(35,(e==null?void 0:e.width)??0),h=Math.max(35,(e==null?void 0:e.height)??0),d=7,m=[{x:o,y:0},{x:0,y:h+d/2},{x:o-2*d,y:h+d/2},{x:0,y:2*h},{x:o,y:h-d/2},{x:2*d,y:h-d/2}],f=ri.svg(a),b=si(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=Zi(m),w=f.path(k,b),E=a.insert(()=>w,":first-child");return l&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",l),s&&e.look!=="handDrawn"&&E.selectAll("path").attr("style",s),E.attr("transform",`translate(-${o/2},${-h})`),li(e,E),e.intersect=function(P){return ct.info("lightningBolt intersect",e,P),ei.polygon(e,m,P)},a}q(JB,"lightningBolt");var vse=q((t,e,i,s,a,l,o)=>[`M${t},${e+l}`,`a${a},${l} 0,0,0 ${i},0`,`a${a},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${a},${l} 0,0,0 ${i},0`,`l0,${-s}`,`M${t},${e+l+o}`,`a${a},${l} 0,0,0 ${i},0`].join(" "),"createCylinderPathD"),bse=q((t,e,i,s,a,l,o)=>[`M${t},${e+l}`,`M${t+i},${e+l}`,`a${a},${l} 0,0,0 ${-i},0`,`l0,${s}`,`a${a},${l} 0,0,0 ${i},0`,`l0,${-s}`,`M${t},${e+l+o}`,`a${a},${l} 0,0,0 ${i},0`].join(" "),"createOuterCylinderPathD"),wse=q((t,e,i,s,a,l)=>[`M${t-i/2},${-s/2}`,`a${a},${l} 0,0,0 ${i},0`].join(" "),"createInnerCylinderPathD");async function e4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0),e.width??0),d=h/2,m=d/(2.5+h/50),f=Math.max(l.height+m+(e.padding??0),e.height??0),b=f*.1;let k;const{cssStyles:w}=e;if(e.look==="handDrawn"){const E=ri.svg(a),P=bse(0,0,h,f,d,m,b),L=wse(0,m,h,f,d,m),R=si(e,{}),u=E.path(P,R),T=E.path(L,R);a.insert(()=>T,":first-child").attr("class","line"),k=a.insert(()=>u,":first-child"),k.attr("class","basic label-container"),w&&k.attr("style",w)}else{const E=vse(0,0,h,f,d,m,b);k=a.insert("path",":first-child").attr("d",E).attr("class","basic label-container").attr("style",Ia(w)).attr("style",s)}return k.attr("label-offset-y",m),k.attr("transform",`translate(${-h/2}, ${-(f/2+m)})`),li(e,k),o.attr("transform",`translate(${-(l.width/2)-(l.x-(l.left??0))}, ${-(l.height/2)+m-(l.y-(l.top??0))})`),e.intersect=function(E){const P=ei.rect(e,E),L=P.x-(e.x??0);if(d!=0&&(Math.abs(L)<(e.width??0)/2||Math.abs(L)==(e.width??0)/2&&Math.abs(P.y-(e.y??0))>(e.height??0)/2-m)){let R=m*m*(1-L*L/(d*d));R>0&&(R=Math.sqrt(R)),R=m-R,E.y-(e.y??0)>0&&(R=-R),P.y+=R}return P},a}q(e4,"linedCylinder");async function t4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/4,f=d+m,{cssStyles:b}=e,k=ri.svg(a),w=si(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=[{x:-h/2-h/2*.1,y:-f/2},{x:-h/2-h/2*.1,y:f/2},...ql(-h/2-h/2*.1,f/2,h/2+h/2*.1,f/2,m,.8),{x:h/2+h/2*.1,y:-f/2},{x:-h/2-h/2*.1,y:-f/2},{x:-h/2,y:-f/2},{x:-h/2,y:f/2*1.1},{x:-h/2,y:-f/2}],P=k.polygon(E.map(R=>[R.x,R.y]),w),L=a.insert(()=>P,":first-child");return L.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",b),s&&e.look!=="handDrawn"&&L.selectAll("path").attr("style",s),L.attr("transform",`translate(0,${-m/2})`),o.attr("transform",`translate(${-h/2+(e.padding??0)+h/2*.1/2-(l.x-(l.left??0))},${-d/2+(e.padding??0)-m/2-(l.y-(l.top??0))})`),li(e,L),e.intersect=function(R){return ei.polygon(e,E,R)},a}q(t4,"linedWaveEdgedRect");async function i4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=5,f=-h/2,b=-d/2,{cssStyles:k}=e,w=ri.svg(a),E=si(e,{}),P=[{x:f-m,y:b+m},{x:f-m,y:b+d+m},{x:f+h-m,y:b+d+m},{x:f+h-m,y:b+d},{x:f+h,y:b+d},{x:f+h,y:b+d-m},{x:f+h+m,y:b+d-m},{x:f+h+m,y:b-m},{x:f+m,y:b-m},{x:f+m,y:b},{x:f,y:b},{x:f,y:b+m}],L=[{x:f,y:b+m},{x:f+h-m,y:b+m},{x:f+h-m,y:b+d},{x:f+h,y:b+d},{x:f+h,y:b},{x:f,y:b}];e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const R=Zi(P),u=w.path(R,E),T=Zi(L),y=w.path(T,{...E,fill:"none"}),S=a.insert(()=>y,":first-child");return S.insert(()=>u,":first-child"),S.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),o.attr("transform",`translate(${-(l.width/2)-m-(l.x-(l.left??0))}, ${-(l.height/2)+m-(l.y-(l.top??0))})`),li(e,S),e.intersect=function(C){return ei.polygon(e,P,C)},a}q(i4,"multiRect");async function r4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/4,f=d+m,b=-h/2,k=-f/2,w=5,{cssStyles:E}=e,P=ql(b-w,k+f+w,b+h-w,k+f+w,m,.8),L=P==null?void 0:P[P.length-1],R=[{x:b-w,y:k+w},{x:b-w,y:k+f+w},...P,{x:b+h-w,y:L.y-w},{x:b+h,y:L.y-w},{x:b+h,y:L.y-2*w},{x:b+h+w,y:L.y-2*w},{x:b+h+w,y:k-w},{x:b+w,y:k-w},{x:b+w,y:k},{x:b,y:k},{x:b,y:k+w}],u=[{x:b,y:k+w},{x:b+h-w,y:k+w},{x:b+h-w,y:L.y-w},{x:b+h,y:L.y-w},{x:b+h,y:k},{x:b,y:k}],T=ri.svg(a),y=si(e,{});e.look!=="handDrawn"&&(y.roughness=0,y.fillStyle="solid");const S=Zi(R),C=T.path(S,y),M=Zi(u),I=T.path(M,y),U=a.insert(()=>C,":first-child");return U.insert(()=>I),U.attr("class","basic label-container"),E&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",E),s&&e.look!=="handDrawn"&&U.selectAll("path").attr("style",s),U.attr("transform",`translate(0,${-m/2})`),o.attr("transform",`translate(${-(l.width/2)-w-(l.x-(l.left??0))}, ${-(l.height/2)+w-m/2-(l.y-(l.top??0))})`),li(e,U),e.intersect=function(z){return ei.polygon(e,R,z)},a}q(r4,"multiWaveEdgedRectangle");async function s4(t,e,{config:{themeVariables:i}}){var u;const{labelStyles:s,nodeStyles:a}=ci(e);e.labelStyle=s,e.useHtmlLabels||((u=ia().flowchart)==null?void 0:u.htmlLabels)!==!1||(e.centerLabel=!0);const{shapeSvg:o,bbox:h,label:d}=await Mi(t,e,Ti(e)),m=Math.max(h.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),f=Math.max(h.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),b=-m/2,k=-f/2,{cssStyles:w}=e,E=ri.svg(o),P=si(e,{fill:i.noteBkgColor,stroke:i.noteBorderColor});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const L=E.rectangle(b,k,m,f,P),R=o.insert(()=>L,":first-child");return R.attr("class","basic label-container"),w&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",w),a&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",a),d.attr("transform",`translate(${-h.width/2-(h.x-(h.left??0))}, ${-(h.height/2)-(h.y-(h.top??0))})`),li(e,R),e.intersect=function(T){return ei.rect(e,T)},o}q(s4,"note");var _se=q((t,e,i)=>[`M${t+i/2},${e}`,`L${t+i},${e-i/2}`,`L${t+i/2},${e-i}`,`L${t},${e-i/2}`,"Z"].join(" "),"createDecisionBoxPathD");async function a4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=l.width+e.padding,h=l.height+e.padding,d=o+h,m=.5,f=[{x:d/2,y:0},{x:d,y:-d/2},{x:d/2,y:-d},{x:0,y:-d/2}];let b;const{cssStyles:k}=e;if(e.look==="handDrawn"){const w=ri.svg(a),E=si(e,{}),P=_se(0,0,d),L=w.path(P,E);b=a.insert(()=>L,":first-child").attr("transform",`translate(${-d/2+m}, ${d/2})`),k&&b.attr("style",k)}else b=Zl(a,d,d,f),b.attr("transform",`translate(${-d/2+m}, ${d/2})`);return s&&b.attr("style",s),li(e,b),e.intersect=function(w){return ct.debug(`APA12 Intersect called SPLIT
point:`,w,`
node:
`,e,`
res:`,ei.polygon(e,f,w)),ei.polygon(e,f,w)},a}q(a4,"question");async function n4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0),(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0),(e==null?void 0:e.height)??0),m=-h/2,f=-d/2,b=f/2,k=[{x:m+b,y:f},{x:m,y:0},{x:m+b,y:-f},{x:-m,y:-f},{x:-m,y:f}],{cssStyles:w}=e,E=ri.svg(a),P=si(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const L=Zi(k),R=E.path(L,P),u=a.insert(()=>R,":first-child");return u.attr("class","basic label-container"),w&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",w),s&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",s),u.attr("transform",`translate(${-b/2},0)`),o.attr("transform",`translate(${-b/2-l.width/2-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),li(e,u),e.intersect=function(T){return ei.polygon(e,k,T)},a}q(n4,"rect_left_inv_arrow");async function o4(t,e){var I,U;const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;let a;e.cssClasses?a="node "+e.cssClasses:a="node default";const l=t.insert("g").attr("class",a).attr("id",e.domId||e.id),o=l.insert("g"),h=l.insert("g").attr("class","label").attr("style",s),d=e.description,m=e.label,f=h.node().appendChild(await ih(m,e.labelStyle,!0,!0));let b={width:0,height:0};if(ks((U=(I=fr())==null?void 0:I.flowchart)==null?void 0:U.htmlLabels)){const z=f.children[0],g=er(f);b=z.getBoundingClientRect(),g.attr("width",b.width),g.attr("height",b.height)}ct.info("Text 2",d);const k=d||[],w=f.getBBox(),E=h.node().appendChild(await ih(k.join?k.join("<br/>"):k,e.labelStyle,!0,!0)),P=E.children[0],L=er(E);b=P.getBoundingClientRect(),L.attr("width",b.width),L.attr("height",b.height);const R=(e.padding||0)/2;er(E).attr("transform","translate( "+(b.width>w.width?0:(w.width-b.width)/2)+", "+(w.height+R+5)+")"),er(f).attr("transform","translate( "+(b.width<w.width?0:-(w.width-b.width)/2)+", 0)"),b=h.node().getBBox(),h.attr("transform","translate("+-b.width/2+", "+(-b.height/2-R+3)+")");const u=b.width+(e.padding||0),T=b.height+(e.padding||0),y=-b.width/2-R,S=-b.height/2-R;let C,M;if(e.look==="handDrawn"){const z=ri.svg(l),g=si(e,{}),x=z.path(Kl(y,S,u,T,e.rx||0),g),A=z.line(-b.width/2-R,-b.height/2-R+w.height+R,b.width/2+R,-b.height/2-R+w.height+R,g);M=l.insert(()=>(ct.debug("Rough node insert CXC",x),A),":first-child"),C=l.insert(()=>(ct.debug("Rough node insert CXC",x),x),":first-child")}else C=o.insert("rect",":first-child"),M=o.insert("line"),C.attr("class","outer title-state").attr("style",s).attr("x",-b.width/2-R).attr("y",-b.height/2-R).attr("width",b.width+(e.padding||0)).attr("height",b.height+(e.padding||0)),M.attr("class","divider").attr("x1",-b.width/2-R).attr("x2",b.width/2+R).attr("y1",-b.height/2-R+w.height+R).attr("y2",-b.height/2-R+w.height+R);return li(e,C),e.intersect=function(z){return ei.rect(e,z)},l}q(o4,"rectWithTitle");function Xf(t,e,i,s,a,l,o){const d=(t+i)/2,m=(e+s)/2,f=Math.atan2(s-e,i-t),b=(i-t)/2,k=(s-e)/2,w=b/a,E=k/l,P=Math.sqrt(w**2+E**2);if(P>1)throw new Error("The given radii are too small to create an arc between the points.");const L=Math.sqrt(1-P**2),R=d+L*l*Math.sin(f)*(o?-1:1),u=m-L*a*Math.cos(f)*(o?-1:1),T=Math.atan2((e-u)/l,(t-R)/a);let S=Math.atan2((s-u)/l,(i-R)/a)-T;o&&S<0&&(S+=2*Math.PI),!o&&S>0&&(S-=2*Math.PI);const C=[];for(let M=0;M<20;M++){const I=M/19,U=T+I*S,z=R+a*Math.cos(U),g=u+l*Math.sin(U);C.push({x:z,y:g})}return C}q(Xf,"generateArcPoints");async function l4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=(e==null?void 0:e.padding)??0,h=(e==null?void 0:e.padding)??0,d=(e!=null&&e.width?e==null?void 0:e.width:l.width)+o*2,m=(e!=null&&e.height?e==null?void 0:e.height:l.height)+h*2,f=5,b=5,{cssStyles:k}=e,w=ri.svg(a),E=si(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const P=[{x:-d/2+b,y:-m/2},{x:d/2-b,y:-m/2},...Xf(d/2-b,-m/2,d/2,-m/2+b,f,f,!0),{x:d/2,y:-m/2+b},{x:d/2,y:m/2-b},...Xf(d/2,m/2-b,d/2-b,m/2,f,f,!0),{x:d/2-b,y:m/2},{x:-d/2+b,y:m/2},...Xf(-d/2+b,m/2,-d/2,m/2-b,f,f,!0),{x:-d/2,y:m/2-b},{x:-d/2,y:-m/2+b},...Xf(-d/2,-m/2+b,-d/2+b,-m/2,f,f,!0)],L=Zi(P),R=w.path(L,E),u=a.insert(()=>R,":first-child");return u.attr("class","basic label-container outer-path"),k&&e.look!=="handDrawn"&&u.selectChildren("path").attr("style",k),s&&e.look!=="handDrawn"&&u.selectChildren("path").attr("style",s),li(e,u),e.intersect=function(T){return ei.polygon(e,P,T)},a}q(l4,"roundedRect");async function c4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=(e==null?void 0:e.padding)??0,d=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=-l.width/2-h,b=-l.height/2-h,{cssStyles:k}=e,w=ri.svg(a),E=si(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const P=[{x:f,y:b},{x:f+d+8,y:b},{x:f+d+8,y:b+m},{x:f-8,y:b+m},{x:f-8,y:b},{x:f,y:b},{x:f,y:b+m}],L=w.polygon(P.map(u=>[u.x,u.y]),E),R=a.insert(()=>L,":first-child");return R.attr("class","basic label-container").attr("style",Ia(k)),s&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",s),k&&e.look!=="handDrawn"&&R.selectAll("path").attr("style",s),o.attr("transform",`translate(${-d/2+4+(e.padding??0)-(l.x-(l.left??0))},${-m/2+(e.padding??0)-(l.y-(l.top??0))})`),li(e,R),e.intersect=function(u){return ei.rect(e,u)},a}q(c4,"shadedProcess");async function h4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=-h/2,f=-d/2,{cssStyles:b}=e,k=ri.svg(a),w=si(e,{});e.look!=="handDrawn"&&(w.roughness=0,w.fillStyle="solid");const E=[{x:m,y:f},{x:m,y:f+d},{x:m+h,y:f+d},{x:m+h,y:f-d/2}],P=Zi(E),L=k.path(P,w),R=a.insert(()=>L,":first-child");return R.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",b),s&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",s),R.attr("transform",`translate(0, ${d/4})`),o.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))}, ${-d/4+(e.padding??0)-(l.y-(l.top??0))})`),li(e,R),e.intersect=function(u){return ei.polygon(e,E,u)},a}q(h4,"slopedRect");async function u4(t,e){const i={rx:0,ry:0,labelPaddingX:((e==null?void 0:e.padding)||0)*2,labelPaddingY:((e==null?void 0:e.padding)||0)*1};return Yv(t,e,i)}q(u4,"squareRect");async function d4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=l.height+e.padding,h=l.width+o/4+e.padding,d=o/2,{cssStyles:m}=e,f=ri.svg(a),b=si(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=[{x:-h/2+d,y:-o/2},{x:h/2-d,y:-o/2},...Pp(-h/2+d,0,d,50,90,270),{x:h/2-d,y:o/2},...Pp(h/2-d,0,d,50,270,450)],w=Zi(k),E=f.path(w,b),P=a.insert(()=>E,":first-child");return P.attr("class","basic label-container outer-path"),m&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",m),s&&e.look!=="handDrawn"&&P.selectChildren("path").attr("style",s),li(e,P),e.intersect=function(L){return ei.polygon(e,k,L)},a}q(d4,"stadium");async function f4(t,e){return Yv(t,e,{rx:5,ry:5})}q(f4,"state");function p4(t,e,{config:{themeVariables:i}}){const{labelStyles:s,nodeStyles:a}=ci(e);e.labelStyle=s;const{cssStyles:l}=e,{lineColor:o,stateBorder:h,nodeBorder:d}=i,m=t.insert("g").attr("class","node default").attr("id",e.domId||e.id),f=ri.svg(m),b=si(e,{});e.look!=="handDrawn"&&(b.roughness=0,b.fillStyle="solid");const k=f.circle(0,0,14,{...b,stroke:o,strokeWidth:2}),w=h??d,E=f.circle(0,0,5,{...b,fill:w,stroke:w,strokeWidth:2,fillStyle:"solid"}),P=m.insert(()=>k,":first-child");return P.insert(()=>E),l&&P.selectAll("path").attr("style",l),a&&P.selectAll("path").attr("style",a),li(e,P),e.intersect=function(L){return ei.circle(e,7,L)},m}q(p4,"stateEnd");function m4(t,e,{config:{themeVariables:i}}){const{lineColor:s}=i,a=t.insert("g").attr("class","node default").attr("id",e.domId||e.id);let l;if(e.look==="handDrawn"){const h=ri.svg(a).circle(0,0,14,aK(s));l=a.insert(()=>h),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else l=a.insert("circle",":first-child"),l.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return li(e,l),e.intersect=function(o){return ei.circle(e,7,o)},a}q(m4,"stateStart");async function g4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=((e==null?void 0:e.padding)||0)/2,h=l.width+e.padding,d=l.height+e.padding,m=-l.width/2-o,f=-l.height/2-o,b=[{x:0,y:0},{x:h,y:0},{x:h,y:-d},{x:0,y:-d},{x:0,y:0},{x:-8,y:0},{x:h+8,y:0},{x:h+8,y:-d},{x:-8,y:-d},{x:-8,y:0}];if(e.look==="handDrawn"){const k=ri.svg(a),w=si(e,{}),E=k.rectangle(m-8,f,h+16,d,w),P=k.line(m,f,m,f+d,w),L=k.line(m+h,f,m+h,f+d,w);a.insert(()=>P,":first-child"),a.insert(()=>L,":first-child");const R=a.insert(()=>E,":first-child"),{cssStyles:u}=e;R.attr("class","basic label-container").attr("style",Ia(u)),li(e,R)}else{const k=Zl(a,h,d,b);s&&k.attr("style",s),li(e,k)}return e.intersect=function(k){return ei.polygon(e,b,k)},a}q(g4,"subroutine");async function y4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),h=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),d=-o/2,m=-h/2,f=.2*h,b=.2*h,{cssStyles:k}=e,w=ri.svg(a),E=si(e,{}),P=[{x:d-f/2,y:m},{x:d+o+f/2,y:m},{x:d+o+f/2,y:m+h},{x:d-f/2,y:m+h}],L=[{x:d+o-f/2,y:m+h},{x:d+o+f/2,y:m+h},{x:d+o+f/2,y:m+h-b}];e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const R=Zi(P),u=w.path(R,E),T=Zi(L),y=w.path(T,{...E,fillStyle:"solid"}),S=a.insert(()=>y,":first-child");return S.insert(()=>u,":first-child"),S.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),li(e,S),e.intersect=function(C){return ei.polygon(e,P,C)},a}q(y4,"taggedRect");async function v4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/4,f=.2*h,b=.2*d,k=d+m,{cssStyles:w}=e,E=ri.svg(a),P=si(e,{});e.look!=="handDrawn"&&(P.roughness=0,P.fillStyle="solid");const L=[{x:-h/2-h/2*.1,y:k/2},...ql(-h/2-h/2*.1,k/2,h/2+h/2*.1,k/2,m,.8),{x:h/2+h/2*.1,y:-k/2},{x:-h/2-h/2*.1,y:-k/2}],R=-h/2+h/2*.1,u=-k/2-b*.4,T=[{x:R+h-f,y:(u+d)*1.4},{x:R+h,y:u+d-b},{x:R+h,y:(u+d)*.9},...ql(R+h,(u+d)*1.3,R+h-f,(u+d)*1.5,-d*.03,.5)],y=Zi(L),S=E.path(y,P),C=Zi(T),M=E.path(C,{...P,fillStyle:"solid"}),I=a.insert(()=>M,":first-child");return I.insert(()=>S,":first-child"),I.attr("class","basic label-container"),w&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",w),s&&e.look!=="handDrawn"&&I.selectAll("path").attr("style",s),I.attr("transform",`translate(0,${-m/2})`),o.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))},${-d/2+(e.padding??0)-m/2-(l.y-(l.top??0))})`),li(e,I),e.intersect=function(U){return ei.polygon(e,L,U)},a}q(v4,"taggedWaveEdgedRectangle");async function b4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=Math.max(l.width+e.padding,(e==null?void 0:e.width)||0),h=Math.max(l.height+e.padding,(e==null?void 0:e.height)||0),d=-o/2,m=-h/2,f=a.insert("rect",":first-child");return f.attr("class","text").attr("style",s).attr("rx",0).attr("ry",0).attr("x",d).attr("y",m).attr("width",o).attr("height",h),li(e,f),e.intersect=function(b){return ei.rect(e,b)},a}q(b4,"text");var xse=q((t,e,i,s,a,l)=>`M${t},${e}
    a${a},${l} 0,0,1 0,${-s}
    l${i},0
    a${a},${l} 0,0,1 0,${s}
    M${i},${-s}
    a${a},${l} 0,0,0 0,${s}
    l${-i},0`,"createCylinderPathD"),kse=q((t,e,i,s,a,l)=>[`M${t},${e}`,`M${t+i},${e}`,`a${a},${l} 0,0,0 0,${-s}`,`l${-i},0`,`a${a},${l} 0,0,0 0,${s}`,`l${i},0`].join(" "),"createOuterCylinderPathD"),Sse=q((t,e,i,s,a,l)=>[`M${t+i/2},${-s/2}`,`a${a},${l} 0,0,0 0,${s}`].join(" "),"createInnerCylinderPathD");async function w4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o,halfPadding:h}=await Mi(t,e,Ti(e)),d=e.look==="neo"?h*2:h,m=l.height+d,f=m/2,b=f/(2.5+m/50),k=l.width+b+d,{cssStyles:w}=e;let E;if(e.look==="handDrawn"){const P=ri.svg(a),L=kse(0,0,k,m,b,f),R=Sse(0,0,k,m,b,f),u=P.path(L,si(e,{})),T=P.path(R,si(e,{fill:"none"}));E=a.insert(()=>T,":first-child"),E=a.insert(()=>u,":first-child"),E.attr("class","basic label-container"),w&&E.attr("style",w)}else{const P=xse(0,0,k,m,b,f);E=a.insert("path",":first-child").attr("d",P).attr("class","basic label-container").attr("style",Ia(w)).attr("style",s),E.attr("class","basic label-container"),w&&E.selectAll("path").attr("style",w),s&&E.selectAll("path").attr("style",s)}return E.attr("label-offset-x",b),E.attr("transform",`translate(${-k/2}, ${m/2} )`),o.attr("transform",`translate(${-(l.width/2)-b-(l.x-(l.left??0))}, ${-(l.height/2)-(l.y-(l.top??0))})`),li(e,E),e.intersect=function(P){const L=ei.rect(e,P),R=L.y-(e.y??0);if(f!=0&&(Math.abs(R)<(e.height??0)/2||Math.abs(R)==(e.height??0)/2&&Math.abs(L.x-(e.x??0))>(e.width??0)/2-b)){let u=b*b*(1-R*R/(f*f));u!=0&&(u=Math.sqrt(Math.abs(u))),u=b-u,P.x-(e.x??0)>0&&(u=-u),L.x+=u}return L},a}q(w4,"tiltedCylinder");async function _4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=l.width+e.padding,h=l.height+e.padding,d=[{x:-3*h/6,y:0},{x:o+3*h/6,y:0},{x:o,y:-h},{x:0,y:-h}];let m;const{cssStyles:f}=e;if(e.look==="handDrawn"){const b=ri.svg(a),k=si(e,{}),w=Zi(d),E=b.path(w,k);m=a.insert(()=>E,":first-child").attr("transform",`translate(${-o/2}, ${h/2})`),f&&m.attr("style",f)}else m=Zl(a,o,h,d);return s&&m.attr("style",s),e.width=o,e.height=h,li(e,m),e.intersect=function(b){return ei.polygon(e,d,b)},a}q(_4,"trapezoid");async function x4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=60,h=20,d=Math.max(o,l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(h,l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),{cssStyles:f}=e,b=ri.svg(a),k=si(e,{});e.look!=="handDrawn"&&(k.roughness=0,k.fillStyle="solid");const w=[{x:-d/2*.8,y:-m/2},{x:d/2*.8,y:-m/2},{x:d/2,y:-m/2*.6},{x:d/2,y:m/2},{x:-d/2,y:m/2},{x:-d/2,y:-m/2*.6}],E=Zi(w),P=b.path(E,k),L=a.insert(()=>P,":first-child");return L.attr("class","basic label-container"),f&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",f),s&&e.look!=="handDrawn"&&L.selectChildren("path").attr("style",s),li(e,L),e.intersect=function(R){return ei.polygon(e,w,R)},a}q(x4,"trapezoidalPentagon");async function k4(t,e){var u;const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=ks((u=fr().flowchart)==null?void 0:u.htmlLabels),d=l.width+(e.padding??0),m=d+l.height,f=d+l.height,b=[{x:0,y:0},{x:f,y:0},{x:f/2,y:-m}],{cssStyles:k}=e,w=ri.svg(a),E=si(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const P=Zi(b),L=w.path(P,E),R=a.insert(()=>L,":first-child").attr("transform",`translate(${-m/2}, ${m/2})`);return k&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",k),s&&e.look!=="handDrawn"&&R.selectChildren("path").attr("style",s),e.width=d,e.height=m,li(e,R),o.attr("transform",`translate(${-l.width/2-(l.x-(l.left??0))}, ${m/2-(l.height+(e.padding??0)/(h?2:1)-(l.y-(l.top??0)))})`),e.intersect=function(T){return ct.info("Triangle intersect",e,b,T),ei.polygon(e,b,T)},a}q(k4,"triangle");async function S4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=d/8,f=d+m,{cssStyles:b}=e,w=70-h,E=w>0?w/2:0,P=ri.svg(a),L=si(e,{});e.look!=="handDrawn"&&(L.roughness=0,L.fillStyle="solid");const R=[{x:-h/2-E,y:f/2},...ql(-h/2-E,f/2,h/2+E,f/2,m,.8),{x:h/2+E,y:-f/2},{x:-h/2-E,y:-f/2}],u=Zi(R),T=P.path(u,L),y=a.insert(()=>T,":first-child");return y.attr("class","basic label-container"),b&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",b),s&&e.look!=="handDrawn"&&y.selectAll("path").attr("style",s),y.attr("transform",`translate(0,${-m/2})`),o.attr("transform",`translate(${-h/2+(e.padding??0)-(l.x-(l.left??0))},${-d/2+(e.padding??0)-m-(l.y-(l.top??0))})`),li(e,y),e.intersect=function(S){return ei.polygon(e,R,S)},a}q(S4,"waveEdgedRectangle");async function T4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l}=await Mi(t,e,Ti(e)),o=100,h=50,d=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),m=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),f=d/m;let b=d,k=m;b>k*f?k=b/f:b=k*f,b=Math.max(b,o),k=Math.max(k,h);const w=Math.min(k*.2,k/4),E=k+w*2,{cssStyles:P}=e,L=ri.svg(a),R=si(e,{});e.look!=="handDrawn"&&(R.roughness=0,R.fillStyle="solid");const u=[{x:-b/2,y:E/2},...ql(-b/2,E/2,b/2,E/2,w,1),{x:b/2,y:-E/2},...ql(b/2,-E/2,-b/2,-E/2,w,-1)],T=Zi(u),y=L.path(T,R),S=a.insert(()=>y,":first-child");return S.attr("class","basic label-container"),P&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",P),s&&e.look!=="handDrawn"&&S.selectAll("path").attr("style",s),li(e,S),e.intersect=function(C){return ei.polygon(e,u,C)},a}q(T4,"waveRectangle");async function C4(t,e){const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const{shapeSvg:a,bbox:l,label:o}=await Mi(t,e,Ti(e)),h=Math.max(l.width+(e.padding??0)*2,(e==null?void 0:e.width)??0),d=Math.max(l.height+(e.padding??0)*2,(e==null?void 0:e.height)??0),m=5,f=-h/2,b=-d/2,{cssStyles:k}=e,w=ri.svg(a),E=si(e,{}),P=[{x:f-m,y:b-m},{x:f-m,y:b+d},{x:f+h,y:b+d},{x:f+h,y:b-m}],L=`M${f-m},${b-m} L${f+h},${b-m} L${f+h},${b+d} L${f-m},${b+d} L${f-m},${b-m}
                M${f-m},${b} L${f+h},${b}
                M${f},${b-m} L${f},${b+d}`;e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const R=w.path(L,E),u=a.insert(()=>R,":first-child");return u.attr("transform",`translate(${m/2}, ${m/2})`),u.attr("class","basic label-container"),k&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",k),s&&e.look!=="handDrawn"&&u.selectAll("path").attr("style",s),o.attr("transform",`translate(${-(l.width/2)+m/2-(l.x-(l.left??0))}, ${-(l.height/2)+m/2-(l.y-(l.top??0))})`),li(e,u),e.intersect=function(T){return ei.polygon(e,P,T)},a}q(C4,"windowPane");async function pS(t,e){var ve,Ie,Ve,Ae;const i=e;if(i.alias&&(e.label=i.alias),e.look==="handDrawn"){const{themeVariables:ze}=ia(),{background:et}=ze,xt={...e,id:e.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${et}`]};await pS(t,xt)}const s=ia();e.useHtmlLabels=s.htmlLabels;let a=((ve=s.er)==null?void 0:ve.diagramPadding)??10,l=((Ie=s.er)==null?void 0:Ie.entityPadding)??6;const{cssStyles:o}=e,{labelStyles:h,nodeStyles:d}=ci(e);if(i.attributes.length===0&&e.label){const ze={rx:0,ry:0,labelPaddingX:a,labelPaddingY:a*1.5};ul(e.label,s)+ze.labelPaddingX*2<s.er.minEntityWidth&&(e.width=s.er.minEntityWidth);const et=await Yv(t,e,ze);if(!ks(s.htmlLabels)){const xt=et.select("text"),At=(Ve=xt.node())==null?void 0:Ve.getBBox();xt.attr("transform",`translate(${-At.width/2}, 0)`)}return et}s.htmlLabels||(a*=1.25,l*=1.25);let m=Ti(e);m||(m="node default");const f=t.insert("g").attr("class",m).attr("id",e.domId||e.id),b=await ou(f,e.label??"",s,0,0,["name"],h);b.height+=l;let k=0;const w=[],E=[];let P=0,L=0,R=0,u=0,T=!0,y=!0;for(const ze of i.attributes){const et=await ou(f,ze.type,s,0,k,["attribute-type"],h);P=Math.max(P,et.width+a);const xt=await ou(f,ze.name,s,0,k,["attribute-name"],h);L=Math.max(L,xt.width+a);const At=await ou(f,ze.keys.join(),s,0,k,["attribute-keys"],h);R=Math.max(R,At.width+a);const Me=await ou(f,ze.comment,s,0,k,["attribute-comment"],h);u=Math.max(u,Me.width+a);const Ut=Math.max(et.height,xt.height,At.height,Me.height)+l;E.push({yOffset:k,rowHeight:Ut}),k+=Ut}let S=4;R<=a&&(T=!1,R=0,S--),u<=a&&(y=!1,u=0,S--);const C=f.node().getBBox();if(b.width+a*2-(P+L+R+u)>0){const ze=b.width+a*2-(P+L+R+u);P+=ze/S,L+=ze/S,R>0&&(R+=ze/S),u>0&&(u+=ze/S)}const M=P+L+R+u,I=ri.svg(f),U=si(e,{});e.look!=="handDrawn"&&(U.roughness=0,U.fillStyle="solid");let z=0;E.length>0&&(z=E.reduce((ze,et)=>ze+((et==null?void 0:et.rowHeight)??0),0));const g=Math.max(C.width+a*2,(e==null?void 0:e.width)||0,M),x=Math.max((z??0)+b.height,(e==null?void 0:e.height)||0),A=-g/2,F=-x/2;f.selectAll("g:not(:first-child)").each((ze,et,xt)=>{const At=er(xt[et]),Me=At.attr("transform");let Ut=0,jt=0;if(Me){const rt=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(Me);rt&&(Ut=parseFloat(rt[1]),jt=parseFloat(rt[2]),At.attr("class").includes("attribute-name")?Ut+=P:At.attr("class").includes("attribute-keys")?Ut+=P+L:At.attr("class").includes("attribute-comment")&&(Ut+=P+L+R))}At.attr("transform",`translate(${A+a/2+Ut}, ${jt+F+b.height+l/2})`)}),f.select(".name").attr("transform","translate("+-b.width/2+", "+(F+l/2)+")");const B=I.rectangle(A,F,g,x,U),j=f.insert(()=>B,":first-child").attr("style",o.join("")),{themeVariables:$}=ia(),{rowEven:G,rowOdd:he,nodeBorder:Q}=$;w.push(0);for(const[ze,et]of E.entries()){const At=(ze+1)%2===0&&et.yOffset!==0,Me=I.rectangle(A,b.height+F+(et==null?void 0:et.yOffset),g,et==null?void 0:et.rowHeight,{...U,fill:At?G:he,stroke:Q});f.insert(()=>Me,"g.label").attr("style",o.join("")).attr("class",`row-rect-${At?"even":"odd"}`)}let Z=I.line(A,b.height+F,g+A,b.height+F,U);f.insert(()=>Z).attr("class","divider"),Z=I.line(P+A,b.height+F,P+A,x+F,U),f.insert(()=>Z).attr("class","divider"),T&&(Z=I.line(P+L+A,b.height+F,P+L+A,x+F,U),f.insert(()=>Z).attr("class","divider")),y&&(Z=I.line(P+L+R+A,b.height+F,P+L+R+A,x+F,U),f.insert(()=>Z).attr("class","divider"));for(const ze of w)Z=I.line(A,b.height+F+ze,g+A,b.height+F+ze,U),f.insert(()=>Z).attr("class","divider");if(li(e,j),d&&e.look!=="handDrawn"){const ze=d.split(";"),et=(Ae=ze==null?void 0:ze.filter(xt=>xt.includes("stroke")))==null?void 0:Ae.map(xt=>`${xt}`).join("; ");f.selectAll("path").attr("style",et??""),f.selectAll(".row-rect-even path").attr("style",d)}return e.intersect=function(ze){return ei.rect(e,ze)},f}q(pS,"erBox");async function ou(t,e,i,s=0,a=0,l=[],o=""){const h=t.insert("g").attr("class",`label ${l.join(" ")}`).attr("transform",`translate(${s}, ${a})`).attr("style",o);e!==rL(e)&&(e=rL(e),e=e.replaceAll("<","&lt;").replaceAll(">","&gt;"));const d=h.node().appendChild(await Xl(h,e,{width:ul(e,i)+100,style:o,useHtmlLabels:i.htmlLabels},i));if(e.includes("&lt;")||e.includes("&gt;")){let f=d.children[0];for(f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");f.childNodes[0];)f=f.childNodes[0],f.textContent=f.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let m=d.getBBox();if(ks(i.htmlLabels)){const f=d.children[0];f.style.textAlign="start";const b=er(d);m=f.getBoundingClientRect(),b.attr("width",m.width),b.attr("height",m.height)}return m}q(ou,"addText");async function E4(t,e,i,s,a=i.class.padding??12){const l=s?0:3,o=t.insert("g").attr("class",Ti(e)).attr("id",e.domId||e.id);let h=null,d=null,m=null,f=null,b=0,k=0,w=0;if(h=o.insert("g").attr("class","annotation-group text"),e.annotations.length>0){const u=e.annotations[0];await Kf(h,{text:`${u}`},0),b=h.node().getBBox().height}d=o.insert("g").attr("class","label-group text"),await Kf(d,e,0,["font-weight: bolder"]);const E=d.node().getBBox();k=E.height,m=o.insert("g").attr("class","members-group text");let P=0;for(const u of e.members){const T=await Kf(m,u,P,[u.parseClassifier()]);P+=T+l}w=m.node().getBBox().height,w<=0&&(w=a/2),f=o.insert("g").attr("class","methods-group text");let L=0;for(const u of e.methods){const T=await Kf(f,u,L,[u.parseClassifier()]);L+=T+l}let R=o.node().getBBox();if(h!==null){const u=h.node().getBBox();h.attr("transform",`translate(${-u.width/2})`)}return d.attr("transform",`translate(${-E.width/2}, ${b})`),R=o.node().getBBox(),m.attr("transform",`translate(0, ${b+k+a*2})`),R=o.node().getBBox(),f.attr("transform",`translate(0, ${b+k+(w?w+a*4:a*2)})`),R=o.node().getBBox(),{shapeSvg:o,bbox:R}}q(E4,"textHelper");async function Kf(t,e,i,s=[]){const a=t.insert("g").attr("class","label").attr("style",s.join("; ")),l=ia();let o="useHtmlLabels"in e?e.useHtmlLabels:ks(l.htmlLabels)??!0,h="";"text"in e?h=e.text:h=e.label,!o&&h.startsWith("\\")&&(h=h.substring(1)),zu(h)&&(o=!0);const d=await Xl(a,Sk(Ch(h)),{width:ul(h,l)+50,classes:"markdown-node-label",useHtmlLabels:o},l);let m,f=1;if(o){const b=d.children[0],k=er(d);f=b.innerHTML.split("<br>").length,b.innerHTML.includes("</math>")&&(f+=b.innerHTML.split("<mrow>").length-1);const w=b.getElementsByTagName("img");if(w){const E=h.replace(/<img[^>]*>/g,"").trim()==="";await Promise.all([...w].map(P=>new Promise(L=>{function R(){var u;if(P.style.display="flex",P.style.flexDirection="column",E){const T=((u=l.fontSize)==null?void 0:u.toString())??window.getComputedStyle(document.body).fontSize,S=parseInt(T,10)*5+"px";P.style.minWidth=S,P.style.maxWidth=S}else P.style.width="100%";L(P)}q(R,"setupImage"),setTimeout(()=>{P.complete&&R()}),P.addEventListener("error",R),P.addEventListener("load",R)})))}m=b.getBoundingClientRect(),k.attr("width",m.width),k.attr("height",m.height)}else{s.includes("font-weight: bolder")&&er(d).selectAll("tspan").attr("font-weight",""),f=d.children.length;const b=d.children[0];(d.textContent===""||d.textContent.includes("&gt"))&&(b.textContent=h[0]+h.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim(),h[1]===" "&&(b.textContent=b.textContent[0]+" "+b.textContent.substring(1))),b.textContent==="undefined"&&(b.textContent=""),m=d.getBBox()}return a.attr("transform","translate(0,"+(-m.height/(2*f)+i)+")"),m.height}q(Kf,"addText");async function O4(t,e){var U,z;const i=fr(),s=i.class.padding??12,a=s,l=e.useHtmlLabels??ks(i.htmlLabels)??!0,o=e;o.annotations=o.annotations??[],o.members=o.members??[],o.methods=o.methods??[];const{shapeSvg:h,bbox:d}=await E4(t,e,i,l,a),{labelStyles:m,nodeStyles:f}=ci(e);e.labelStyle=m,e.cssStyles=o.styles||"";const b=((U=o.styles)==null?void 0:U.join(";"))||f||"";e.cssStyles||(e.cssStyles=b.replaceAll("!important","").split(";"));const k=o.members.length===0&&o.methods.length===0&&!((z=i.class)!=null&&z.hideEmptyMembersBox),w=ri.svg(h),E=si(e,{});e.look!=="handDrawn"&&(E.roughness=0,E.fillStyle="solid");const P=d.width;let L=d.height;o.members.length===0&&o.methods.length===0?L+=a:o.members.length>0&&o.methods.length===0&&(L+=a*2);const R=-P/2,u=-L/2,T=w.rectangle(R-s,u-s-(k?s:o.members.length===0&&o.methods.length===0?-s/2:0),P+2*s,L+2*s+(k?s*2:o.members.length===0&&o.methods.length===0?-s:0),E),y=h.insert(()=>T,":first-child");y.attr("class","basic label-container");const S=y.node().getBBox();h.selectAll(".text").each((g,x,A)=>{var he;const F=er(A[x]),B=F.attr("transform");let j=0;if(B){const Z=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(B);Z&&(j=parseFloat(Z[2]))}let $=j+u+s-(k?s:o.members.length===0&&o.methods.length===0?-s/2:0);l||($-=4);let G=R;(F.attr("class").includes("label-group")||F.attr("class").includes("annotation-group"))&&(G=-((he=F.node())==null?void 0:he.getBBox().width)/2||0,h.selectAll("text").each(function(Q,Z,ve){window.getComputedStyle(ve[Z]).textAnchor==="middle"&&(G=0)})),F.attr("transform",`translate(${G}, ${$})`)});const C=h.select(".annotation-group").node().getBBox().height-(k?s/2:0)||0,M=h.select(".label-group").node().getBBox().height-(k?s/2:0)||0,I=h.select(".members-group").node().getBBox().height-(k?s/2:0)||0;if(o.members.length>0||o.methods.length>0||k){const g=w.line(S.x,C+M+u+s,S.x+S.width,C+M+u+s,E);h.insert(()=>g).attr("class","divider").attr("style",b)}if(k||o.members.length>0||o.methods.length>0){const g=w.line(S.x,C+M+I+u+a*2+s,S.x+S.width,C+M+I+u+s+a*2,E);h.insert(()=>g).attr("class","divider").attr("style",b)}if(o.look!=="handDrawn"&&h.selectAll("path").attr("style",b),y.select(":nth-child(2)").attr("style",b),h.selectAll(".divider").select("path").attr("style",b),e.labelStyle?h.selectAll("span").attr("style",e.labelStyle):h.selectAll("span").attr("style",b),!l){const g=RegExp(/color\s*:\s*([^;]*)/),x=g.exec(b);if(x){const A=x[0].replace("color","fill");h.selectAll("tspan").attr("style",A)}else if(m){const A=g.exec(m);if(A){const F=A[0].replace("color","fill");h.selectAll("tspan").attr("style",F)}}}return li(e,y),e.intersect=function(g){return ei.rect(e,g)},h}q(O4,"classBox");async function A4(t,e){var C,M;const{labelStyles:i,nodeStyles:s}=ci(e);e.labelStyle=i;const a=e,l=e,o=20,h=20,d="verifyMethod"in e,m=Ti(e),f=t.insert("g").attr("class",m).attr("id",e.domId??e.id);let b;d?b=await no(f,`&lt;&lt;${a.type}&gt;&gt;`,0,e.labelStyle):b=await no(f,"&lt;&lt;Element&gt;&gt;",0,e.labelStyle);let k=b;const w=await no(f,a.name,k,e.labelStyle+"; font-weight: bold;");if(k+=w+h,d){const I=await no(f,`${a.requirementId?`ID: ${a.requirementId}`:""}`,k,e.labelStyle);k+=I;const U=await no(f,`${a.text?`Text: ${a.text}`:""}`,k,e.labelStyle);k+=U;const z=await no(f,`${a.risk?`Risk: ${a.risk}`:""}`,k,e.labelStyle);k+=z,await no(f,`${a.verifyMethod?`Verification: ${a.verifyMethod}`:""}`,k,e.labelStyle)}else{const I=await no(f,`${l.type?`Type: ${l.type}`:""}`,k,e.labelStyle);k+=I,await no(f,`${l.docRef?`Doc Ref: ${l.docRef}`:""}`,k,e.labelStyle)}const E=(((C=f.node())==null?void 0:C.getBBox().width)??200)+o,P=(((M=f.node())==null?void 0:M.getBBox().height)??200)+o,L=-E/2,R=-P/2,u=ri.svg(f),T=si(e,{});e.look!=="handDrawn"&&(T.roughness=0,T.fillStyle="solid");const y=u.rectangle(L,R,E,P,T),S=f.insert(()=>y,":first-child");if(S.attr("class","basic label-container").attr("style",s),f.selectAll(".label").each((I,U,z)=>{const g=er(z[U]),x=g.attr("transform");let A=0,F=0;if(x){const G=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(x);G&&(A=parseFloat(G[1]),F=parseFloat(G[2]))}const B=F-P/2;let j=L+o/2;(U===0||U===1)&&(j=A),g.attr("transform",`translate(${j}, ${B+o})`)}),k>b+w+h){const I=u.line(L,R+b+w+h,L+E,R+b+w+h,T);f.insert(()=>I).attr("style",s)}return li(e,S),e.intersect=function(I){return ei.rect(e,I)},f}q(A4,"requirementBox");async function no(t,e,i,s=""){if(e==="")return 0;const a=t.insert("g").attr("class","label").attr("style",s),l=fr(),o=l.htmlLabels??!0,h=await Xl(a,Sk(Ch(e)),{width:ul(e,l)+50,classes:"markdown-node-label",useHtmlLabels:o,style:s},l);let d;if(o){const m=h.children[0],f=er(h);d=m.getBoundingClientRect(),f.attr("width",d.width),f.attr("height",d.height)}else{const m=h.children[0];for(const f of m.children)f.textContent=f.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),s&&f.setAttribute("style",s);d=h.getBBox(),d.height+=6}return a.attr("transform",`translate(${-d.width/2},${-d.height/2+i})`),d.height}q(no,"addText");var Tse=q(t=>{switch(t){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}},"colorFromPriority");async function P4(t,e,{config:i}){var x,A;const{labelStyles:s,nodeStyles:a}=ci(e);e.labelStyle=s||"";const l=10,o=e.width;e.width=(e.width??200)-10;const{shapeSvg:h,bbox:d,label:m}=await Mi(t,e,Ti(e)),f=e.padding||10;let b="",k;"ticket"in e&&e.ticket&&((x=i==null?void 0:i.kanban)!=null&&x.ticketBaseUrl)&&(b=(A=i==null?void 0:i.kanban)==null?void 0:A.ticketBaseUrl.replace("#TICKET#",e.ticket),k=h.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",b).attr("target","_blank"));const w={useHtmlLabels:e.useHtmlLabels,labelStyle:e.labelStyle||"",width:e.width,img:e.img,padding:e.padding||8,centerLabel:!1};let E,P;k?{label:E,bbox:P}=await l1(k,"ticket"in e&&e.ticket||"",w):{label:E,bbox:P}=await l1(h,"ticket"in e&&e.ticket||"",w);const{label:L,bbox:R}=await l1(h,"assigned"in e&&e.assigned||"",w);e.width=o;const u=10,T=(e==null?void 0:e.width)||0,y=Math.max(P.height,R.height)/2,S=Math.max(d.height+u*2,(e==null?void 0:e.height)||0)+y,C=-T/2,M=-S/2;m.attr("transform","translate("+(f-T/2)+", "+(-y-d.height/2)+")"),E.attr("transform","translate("+(f-T/2)+", "+(-y+d.height/2)+")"),L.attr("transform","translate("+(f+T/2-R.width-2*l)+", "+(-y+d.height/2)+")");let I;const{rx:U,ry:z}=e,{cssStyles:g}=e;if(e.look==="handDrawn"){const F=ri.svg(h),B=si(e,{}),j=U||z?F.path(Kl(C,M,T,S,U||0),B):F.rectangle(C,M,T,S,B);I=h.insert(()=>j,":first-child"),I.attr("class","basic label-container").attr("style",g||null)}else{I=h.insert("rect",":first-child"),I.attr("class","basic label-container __APA__").attr("style",a).attr("rx",U??5).attr("ry",z??5).attr("x",C).attr("y",M).attr("width",T).attr("height",S);const F="priority"in e&&e.priority;if(F){const B=h.append("line"),j=C+2,$=M+Math.floor((U??0)/2),G=M+S-Math.floor((U??0)/2);B.attr("x1",j).attr("y1",$).attr("x2",j).attr("y2",G).attr("stroke-width","4").attr("stroke",Tse(F))}}return li(e,I),e.height=S,e.intersect=function(F){return ei.rect(e,F)},h}q(P4,"kanbanItem");var Cse=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:u4},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:l4},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:d4},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:g4},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:DB},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:OB},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:a4},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:WB},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:QB},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:ZB},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:_4},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:XB},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:BB},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:b4},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:CB},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:c4},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:m4},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:p4},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:UB},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:jB},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:MB},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:LB},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:RB},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:JB},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:S4},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:HB},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:w4},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:e4},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:FB},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:IB},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:k4},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:C4},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:NB},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:x4},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:zB},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:h4},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:r4},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:i4},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:TB},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:PB},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:v4},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:y4},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:T4},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:n4},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:t4}],Ese=q(()=>{const e=[...Object.entries({state:f4,choice:EB,note:s4,rectWithTitle:o4,labelRect:KB,iconSquare:YB,iconCircle:$B,icon:qB,iconRounded:VB,imageSquare:GB,anchor:SB,kanbanItem:P4,classBox:O4,erBox:pS,requirementBox:A4}),...Cse.flatMap(i=>[i.shortName,..."aliases"in i?i.aliases:[],..."internalAliases"in i?i.internalAliases:[]].map(a=>[a,i.handler]))];return Object.fromEntries(e)},"generateShapeMap"),M4=Ese();function Ose(t){return t in M4}q(Ose,"isValidShape");var Gv=new Map;async function L4(t,e,i){let s,a;e.shape==="rect"&&(e.rx&&e.ry?e.shape="roundedRect":e.shape="squareRect");const l=e.shape?M4[e.shape]:void 0;if(!l)throw new Error(`No such shape: ${e.shape}. Please check your syntax.`);if(e.link){let o;i.config.securityLevel==="sandbox"?o="_top":e.linkTarget&&(o=e.linkTarget||"_blank"),s=t.insert("svg:a").attr("xlink:href",e.link).attr("target",o??null),a=await l(s,e,i)}else a=await l(t,e,i),s=a;return e.tooltip&&a.attr("title",e.tooltip),Gv.set(e.id,s),e.haveCallback&&s.attr("class",s.attr("class")+" clickable"),s}q(L4,"insertNode");var Tce=q((t,e)=>{Gv.set(e.id,t)},"setNodeElem"),Cce=q(()=>{Gv.clear()},"clear"),Ece=q(t=>{const e=Gv.get(t.id);ct.trace("Transforming node",t.diff,t,"translate("+(t.x-t.width/2-5)+", "+t.width/2+")");const i=8,s=t.diff||0;return t.clusterNode?e.attr("transform","translate("+(t.x+s-t.width/2)+", "+(t.y-t.height/2-i)+")"):e.attr("transform","translate("+t.x+", "+t.y+")"),s},"positionNode"),Ase=q((t,e,i,s,a,l)=>{e.arrowTypeStart&&l3(t,"start",e.arrowTypeStart,i,s,a,l),e.arrowTypeEnd&&l3(t,"end",e.arrowTypeEnd,i,s,a,l)},"addEdgeMarkers"),Pse={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},l3=q((t,e,i,s,a,l,o)=>{var b;const h=Pse[i];if(!h){ct.warn(`Unknown arrow type: ${i}`);return}const d=h.type,f=`${a}_${l}-${d}${e==="start"?"Start":"End"}`;if(o&&o.trim()!==""){const k=o.replace(/[^\dA-Za-z]/g,"_"),w=`${f}_${k}`;if(!document.getElementById(w)){const E=document.getElementById(f);if(E){const P=E.cloneNode(!0);P.id=w,P.querySelectorAll("path, circle, line").forEach(R=>{R.setAttribute("stroke",o),h.fill&&R.setAttribute("fill",o)}),(b=E.parentNode)==null||b.appendChild(P)}}t.attr(`marker-${e}`,`url(${s}#${w})`)}else t.attr(`marker-${e}`,`url(${s}#${f})`)},"addEdgeMarker"),tv=new Map,qs=new Map,Oce=q(()=>{tv.clear(),qs.clear()},"clear"),Hf=q(t=>t?t.reduce((i,s)=>i+";"+s,""):"","getLabelStyles"),Mse=q(async(t,e)=>{let i=ks(fr().flowchart.htmlLabels);const s=await Xl(t,e.label,{style:Hf(e.labelStyle),useHtmlLabels:i,addSvgBackground:!0,isNode:!1});ct.info("abc82",e,e.labelType);const a=t.insert("g").attr("class","edgeLabel"),l=a.insert("g").attr("class","label");l.node().appendChild(s);let o=s.getBBox();if(i){const d=s.children[0],m=er(s);o=d.getBoundingClientRect(),m.attr("width",o.width),m.attr("height",o.height)}l.attr("transform","translate("+-o.width/2+", "+-o.height/2+")"),tv.set(e.id,a),e.width=o.width,e.height=o.height;let h;if(e.startLabelLeft){const d=await ih(e.startLabelLeft,Hf(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),f=m.insert("g").attr("class","inner");h=f.node().appendChild(d);const b=d.getBBox();f.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).startLeft=m,Zf(h,e.startLabelLeft)}if(e.startLabelRight){const d=await ih(e.startLabelRight,Hf(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),f=m.insert("g").attr("class","inner");h=m.node().appendChild(d),f.node().appendChild(d);const b=d.getBBox();f.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).startRight=m,Zf(h,e.startLabelRight)}if(e.endLabelLeft){const d=await ih(e.endLabelLeft,Hf(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),f=m.insert("g").attr("class","inner");h=f.node().appendChild(d);const b=d.getBBox();f.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),m.node().appendChild(d),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).endLeft=m,Zf(h,e.endLabelLeft)}if(e.endLabelRight){const d=await ih(e.endLabelRight,Hf(e.labelStyle)),m=t.insert("g").attr("class","edgeTerminals"),f=m.insert("g").attr("class","inner");h=f.node().appendChild(d);const b=d.getBBox();f.attr("transform","translate("+-b.width/2+", "+-b.height/2+")"),m.node().appendChild(d),qs.get(e.id)||qs.set(e.id,{}),qs.get(e.id).endRight=m,Zf(h,e.endLabelRight)}return s},"insertEdgeLabel");function Zf(t,e){fr().flowchart.htmlLabels&&t&&(t.style.width=e.length*9+"px",t.style.height="12px")}q(Zf,"setTerminalWidth");var Lse=q((t,e)=>{ct.debug("Moving label abc88 ",t.id,t.label,tv.get(t.id),e);let i=e.updatedPath?e.updatedPath:e.originalPath;const s=fr(),{subGraphTitleTotalMargin:a}=Lk(s);if(t.label){const l=tv.get(t.id);let o=t.x,h=t.y;if(i){const d=Nn.calcLabelPosition(i);ct.debug("Moving label "+t.label+" from (",o,",",h,") to (",d.x,",",d.y,") abc88"),e.updatedPath&&(o=d.x,h=d.y)}l.attr("transform",`translate(${o}, ${h+a/2})`)}if(t.startLabelLeft){const l=qs.get(t.id).startLeft;let o=t.x,h=t.y;if(i){const d=Nn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_left",i);o=d.x,h=d.y}l.attr("transform",`translate(${o}, ${h})`)}if(t.startLabelRight){const l=qs.get(t.id).startRight;let o=t.x,h=t.y;if(i){const d=Nn.calcTerminalLabelPosition(t.arrowTypeStart?10:0,"start_right",i);o=d.x,h=d.y}l.attr("transform",`translate(${o}, ${h})`)}if(t.endLabelLeft){const l=qs.get(t.id).endLeft;let o=t.x,h=t.y;if(i){const d=Nn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_left",i);o=d.x,h=d.y}l.attr("transform",`translate(${o}, ${h})`)}if(t.endLabelRight){const l=qs.get(t.id).endRight;let o=t.x,h=t.y;if(i){const d=Nn.calcTerminalLabelPosition(t.arrowTypeEnd?10:0,"end_right",i);o=d.x,h=d.y}l.attr("transform",`translate(${o}, ${h})`)}},"positionEdgeLabel"),Rse=q((t,e)=>{const i=t.x,s=t.y,a=Math.abs(e.x-i),l=Math.abs(e.y-s),o=t.width/2,h=t.height/2;return a>=o||l>=h},"outsideNode"),Fse=q((t,e,i)=>{ct.debug(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(e)}
  insidePoint : ${JSON.stringify(i)}
  node        : x:${t.x} y:${t.y} w:${t.width} h:${t.height}`);const s=t.x,a=t.y,l=Math.abs(s-i.x),o=t.width/2;let h=i.x<e.x?o-l:o+l;const d=t.height/2,m=Math.abs(e.y-i.y),f=Math.abs(e.x-i.x);if(Math.abs(a-e.y)*o>Math.abs(s-e.x)*d){let b=i.y<e.y?e.y-d-a:a-d-e.y;h=f*b/m;const k={x:i.x<e.x?i.x+h:i.x-f+h,y:i.y<e.y?i.y+m-b:i.y-m+b};return h===0&&(k.x=e.x,k.y=e.y),f===0&&(k.x=e.x),m===0&&(k.y=e.y),ct.debug(`abc89 top/bottom calc, Q ${m}, q ${b}, R ${f}, r ${h}`,k),k}else{i.x<e.x?h=e.x-o-s:h=s-o-e.x;let b=m*h/f,k=i.x<e.x?i.x+f-h:i.x-f+h,w=i.y<e.y?i.y+b:i.y-b;return ct.debug(`sides calc abc89, Q ${m}, q ${b}, R ${f}, r ${h}`,{_x:k,_y:w}),h===0&&(k=e.x,w=e.y),f===0&&(k=e.x),m===0&&(w=e.y),{x:k,y:w}}},"intersection"),c3=q((t,e)=>{ct.warn("abc88 cutPathAtIntersect",t,e);let i=[],s=t[0],a=!1;return t.forEach(l=>{if(ct.info("abc88 checking point",l,e),!Rse(e,l)&&!a){const o=Fse(e,s,l);ct.debug("abc88 inside",l,s,o),ct.debug("abc88 intersection",o,e);let h=!1;i.forEach(d=>{h=h||d.x===o.x&&d.y===o.y}),i.some(d=>d.x===o.x&&d.y===o.y)?ct.warn("abc88 no intersect",o,i):i.push(o),a=!0}else ct.warn("abc88 outside",l,s),s=l,a||i.push(l)}),ct.debug("returning points",i),i},"cutPathAtIntersect");function R4(t){const e=[],i=[];for(let s=1;s<t.length-1;s++){const a=t[s-1],l=t[s],o=t[s+1];(a.x===l.x&&l.y===o.y&&Math.abs(l.x-o.x)>5&&Math.abs(l.y-a.y)>5||a.y===l.y&&l.x===o.x&&Math.abs(l.x-a.x)>5&&Math.abs(l.y-o.y)>5)&&(e.push(l),i.push(s))}return{cornerPoints:e,cornerPointPositions:i}}q(R4,"extractCornerPoints");var h3=q(function(t,e,i){const s=e.x-t.x,a=e.y-t.y,l=Math.sqrt(s*s+a*a),o=i/l;return{x:e.x-o*s,y:e.y-o*a}},"findAdjacentPoint"),Dse=q(function(t){const{cornerPointPositions:e}=R4(t),i=[];for(let s=0;s<t.length;s++)if(e.includes(s)){const a=t[s-1],l=t[s+1],o=t[s],h=h3(a,o,5),d=h3(l,o,5),m=d.x-h.x,f=d.y-h.y;i.push(h);const b=Math.sqrt(2)*2;let k={x:o.x,y:o.y};if(Math.abs(l.x-a.x)>10&&Math.abs(l.y-a.y)>=10){ct.debug("Corner point fixing",Math.abs(l.x-a.x),Math.abs(l.y-a.y));const w=5;o.x===h.x?k={x:m<0?h.x-w+b:h.x+w-b,y:f<0?h.y-b:h.y+b}:k={x:m<0?h.x-b:h.x+b,y:f<0?h.y-w+b:h.y+w-b}}else ct.debug("Corner point skipping fixing",Math.abs(l.x-a.x),Math.abs(l.y-a.y));i.push(k,d)}else i.push(t[s]);return i},"fixCorners"),Ise=q(function(t,e,i,s,a,l,o){var g;const{handDrawnSeed:h}=fr();let d=e.points,m=!1;const f=a;var b=l;const k=[];for(const x in e.cssCompiledStyles)y5(x)||k.push(e.cssCompiledStyles[x]);b.intersect&&f.intersect&&(d=d.slice(1,e.points.length-1),d.unshift(f.intersect(d[0])),ct.debug("Last point APA12",e.start,"-->",e.end,d[d.length-1],b,b.intersect(d[d.length-1])),d.push(b.intersect(d[d.length-1]))),e.toCluster&&(ct.info("to cluster abc88",i.get(e.toCluster)),d=c3(e.points,i.get(e.toCluster).node),m=!0),e.fromCluster&&(ct.debug("from cluster abc88",i.get(e.fromCluster),JSON.stringify(d,null,2)),d=c3(d.reverse(),i.get(e.fromCluster).node).reverse(),m=!0);let w=d.filter(x=>!Number.isNaN(x.y));w=Dse(w);let E=ry;switch(E=Ny,e.curve){case"linear":E=Ny;break;case"basis":E=ry;break;case"cardinal":E=J5;break;case"bumpX":E=G5;break;case"bumpY":E=X5;break;case"catmullRom":E=tI;break;case"monotoneX":E=oI;break;case"monotoneY":E=lI;break;case"natural":E=hI;break;case"step":E=uI;break;case"stepAfter":E=fI;break;case"stepBefore":E=dI;break;default:E=ry}const{x:P,y:L}=sK(e),R=RJ().x(P).y(L).curve(E);let u;switch(e.thickness){case"normal":u="edge-thickness-normal";break;case"thick":u="edge-thickness-thick";break;case"invisible":u="edge-thickness-invisible";break;default:u="edge-thickness-normal"}switch(e.pattern){case"solid":u+=" edge-pattern-solid";break;case"dotted":u+=" edge-pattern-dotted";break;case"dashed":u+=" edge-pattern-dashed";break;default:u+=" edge-pattern-solid"}let T,y=R(w);const S=Array.isArray(e.style)?e.style:e.style?[e.style]:[];let C=S.find(x=>x==null?void 0:x.startsWith("stroke:"));if(e.look==="handDrawn"){const x=ri.svg(t);Object.assign([],w);const A=x.path(y,{roughness:.3,seed:h});u+=" transition",T=er(A).select("path").attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")).attr("style",S?S.reduce((B,j)=>B+";"+j,""):"");let F=T.attr("d");T.attr("d",F),t.node().appendChild(T.node())}else{const x=k.join(";"),A=S?S.reduce((j,$)=>j+$+";",""):"";let F="";e.animate&&(F=" edge-animation-fast"),e.animation&&(F=" edge-animation-"+e.animation);const B=x?x+";"+A+";":A;T=t.append("path").attr("d",y).attr("id",e.id).attr("class"," "+u+(e.classes?" "+e.classes:"")+(F??"")).attr("style",B),C=(g=B.match(/stroke:([^;]+)/))==null?void 0:g[1]}let M="";(fr().flowchart.arrowMarkerAbsolute||fr().state.arrowMarkerAbsolute)&&(M=RF(!0)),ct.info("arrowTypeStart",e.arrowTypeStart),ct.info("arrowTypeEnd",e.arrowTypeEnd),Ase(T,e,M,o,s,C);const I=Math.floor(d.length/2),U=d[I];Nn.isLabelCoordinateInPath(U,T.attr("d"))||(m=!0);let z={};return m&&(z.updatedPath=d),z.originalPath=e.points,z},"insertEdge"),Bse=q((t,e,i,s)=>{e.forEach(a=>{Jse[a](t,i,s)})},"insertMarkers"),Nse=q((t,e,i)=>{ct.trace("Making markers for ",i),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionStart").attr("class","marker extension "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-extensionEnd").attr("class","marker extension "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},"extension"),zse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionStart").attr("class","marker composition "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-compositionEnd").attr("class","marker composition "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"composition"),Use=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationStart").attr("class","marker aggregation "+e).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-aggregationEnd").attr("class","marker aggregation "+e).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},"aggregation"),Hse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyStart").attr("class","marker dependency "+e).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),t.append("defs").append("marker").attr("id",i+"_"+e+"-dependencyEnd").attr("class","marker dependency "+e).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},"dependency"),Wse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopStart").attr("class","marker lollipop "+e).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),t.append("defs").append("marker").attr("id",i+"_"+e+"-lollipopEnd").attr("class","marker lollipop "+e).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)},"lollipop"),jse=q((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-pointEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-pointStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"point"),qse=q((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-circleEnd").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-circleStart").attr("class","marker "+e).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},"circle"),$se=q((t,e,i)=>{t.append("marker").attr("id",i+"_"+e+"-crossEnd").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),t.append("marker").attr("id",i+"_"+e+"-crossStart").attr("class","marker cross "+e).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},"cross"),Vse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},"barb"),Yse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneStart").attr("class","marker onlyOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),t.append("defs").append("marker").attr("id",i+"_"+e+"-onlyOneEnd").attr("class","marker onlyOne "+e).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")},"only_one"),Gse=q((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneStart").attr("class","marker zeroOrOne "+e).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),s.append("path").attr("d","M9,0 L9,18");const a=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+e).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),a.append("path").attr("d","M21,0 L21,18")},"zero_or_one"),Xse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreStart").attr("class","marker oneOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),t.append("defs").append("marker").attr("id",i+"_"+e+"-oneOrMoreEnd").attr("class","marker oneOrMore "+e).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")},"one_or_more"),Kse=q((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+e).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");s.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),s.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const a=t.append("defs").append("marker").attr("id",i+"_"+e+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+e).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");a.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),a.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},"zero_or_more"),Zse=q((t,e,i)=>{t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d",`M0,0
      L20,10
      M20,10
      L0,20`)},"requirement_arrow"),Qse=q((t,e,i)=>{const s=t.append("defs").append("marker").attr("id",i+"_"+e+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");s.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),s.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),s.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)},"requirement_contains"),Jse={extension:Nse,composition:zse,aggregation:Use,dependency:Hse,lollipop:Wse,point:jse,circle:qse,cross:$se,barb:Vse,only_one:Yse,zero_or_one:Gse,one_or_more:Xse,zero_or_more:Kse,requirement_arrow:Zse,requirement_contains:Qse},eae=Bse,tae={common:Zu,getConfig:ia,insertCluster:hse,insertEdge:Ise,insertEdgeLabel:Mse,insertMarkers:eae,insertNode:L4,interpolateToCurve:Kk,labelHelper:Mi,log:ct,positionEdgeLabel:Lse},Mp={},F4=q(t=>{for(const e of t)Mp[e.name]=e},"registerLayoutLoaders"),iae=q(()=>{F4([{name:"dagre",loader:q(async()=>await Sr(()=>import("./dagre-2BBEFEWP-BxBxULha.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])),"loader")}])},"registerDefaultLayoutLoaders");iae();var Ace=q(async(t,e)=>{if(!(t.layoutAlgorithm in Mp))throw new Error(`Unknown layout algorithm: ${t.layoutAlgorithm}`);const i=Mp[t.layoutAlgorithm];return(await i.loader()).render(t,e,tae,{algorithm:i.algorithm})},"render"),Pce=q((t="",{fallback:e="dagre"}={})=>{if(t in Mp)return t;if(e in Mp)return ct.warn(`Layout algorithm ${t} is not registered. Using ${e} as fallback.`),e;throw new Error(`Both layout algorithms ${t} and ${e} are not registered.`)},"getRegisteredLayoutAlgorithm"),u3={name:"mermaid",version:"11.10.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^2.1.33","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^16.0.0",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.27.8","typedoc-plugin-markdown":"^4.4.2",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}},rae=q(t=>{var a;const{securityLevel:e}=fr();let i=er("body");if(e==="sandbox"){const o=((a=er(`#i${t}`).node())==null?void 0:a.contentDocument)??document;i=er(o.body)}return i.select(`#${t}`)},"selectSvgElement"),D4="comm",I4="rule",B4="decl",sae="@import",aae="@namespace",nae="@keyframes",oae="@layer",N4=Math.abs,mS=String.fromCharCode;function z4(t){return t.trim()}function oy(t,e,i){return t.replace(e,i)}function lae(t,e,i){return t.indexOf(e,i)}function yu(t,e){return t.charCodeAt(e)|0}function qu(t,e,i){return t.slice(e,i)}function lo(t){return t.length}function cae(t){return t.length}function Wg(t,e){return e.push(t),t}var Xv=1,$u=1,U4=0,bn=0,ms=0,id="";function gS(t,e,i,s,a,l,o,h){return{value:t,root:e,parent:i,type:s,props:a,children:l,line:Xv,column:$u,length:o,return:"",siblings:h}}function hae(){return ms}function uae(){return ms=bn>0?yu(id,--bn):0,$u--,ms===10&&($u=1,Xv--),ms}function Wn(){return ms=bn<U4?yu(id,bn++):0,$u++,ms===10&&($u=1,Xv++),ms}function Il(){return yu(id,bn)}function ly(){return bn}function Kv(t,e){return qu(id,t,e)}function Lp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function dae(t){return Xv=$u=1,U4=lo(id=t),bn=0,[]}function fae(t){return id="",t}function c1(t){return z4(Kv(bn-1,vx(t===91?t+2:t===40?t+1:t)))}function pae(t){for(;(ms=Il())&&ms<33;)Wn();return Lp(t)>2||Lp(ms)>3?"":" "}function mae(t,e){for(;--e&&Wn()&&!(ms<48||ms>102||ms>57&&ms<65||ms>70&&ms<97););return Kv(t,ly()+(e<6&&Il()==32&&Wn()==32))}function vx(t){for(;Wn();)switch(ms){case t:return bn;case 34:case 39:t!==34&&t!==39&&vx(ms);break;case 40:t===41&&vx(t);break;case 92:Wn();break}return bn}function gae(t,e){for(;Wn()&&t+ms!==57;)if(t+ms===84&&Il()===47)break;return"/*"+Kv(e,bn-1)+"*"+mS(t===47?t:Wn())}function yae(t){for(;!Lp(Il());)Wn();return Kv(t,bn)}function vae(t){return fae(cy("",null,null,null,[""],t=dae(t),0,[0],t))}function cy(t,e,i,s,a,l,o,h,d){for(var m=0,f=0,b=o,k=0,w=0,E=0,P=1,L=1,R=1,u=0,T="",y=a,S=l,C=s,M=T;L;)switch(E=u,u=Wn()){case 40:if(E!=108&&yu(M,b-1)==58){lae(M+=oy(c1(u),"&","&\f"),"&\f",N4(m?h[m-1]:0))!=-1&&(R=-1);break}case 34:case 39:case 91:M+=c1(u);break;case 9:case 10:case 13:case 32:M+=pae(E);break;case 92:M+=mae(ly()-1,7);continue;case 47:switch(Il()){case 42:case 47:Wg(bae(gae(Wn(),ly()),e,i,d),d),(Lp(E||1)==5||Lp(Il()||1)==5)&&lo(M)&&qu(M,-1,void 0)!==" "&&(M+=" ");break;default:M+="/"}break;case 123*P:h[m++]=lo(M)*R;case 125*P:case 59:case 0:switch(u){case 0:case 125:L=0;case 59+f:R==-1&&(M=oy(M,/\f/g,"")),w>0&&(lo(M)-b||P===0&&E===47)&&Wg(w>32?f3(M+";",s,i,b-1,d):f3(oy(M," ","")+";",s,i,b-2,d),d);break;case 59:M+=";";default:if(Wg(C=d3(M,e,i,m,f,a,h,T,y=[],S=[],b,l),l),u===123)if(f===0)cy(M,e,C,C,y,l,b,h,S);else{switch(k){case 99:if(yu(M,3)===110)break;case 108:if(yu(M,2)===97)break;default:f=0;case 100:case 109:case 115:}f?cy(t,C,C,s&&Wg(d3(t,C,C,0,0,a,h,T,a,y=[],b,S),S),a,S,b,h,s?y:S):cy(M,C,C,C,[""],S,0,h,S)}}m=f=w=0,P=R=1,T=M="",b=o;break;case 58:b=1+lo(M),w=E;default:if(P<1){if(u==123)--P;else if(u==125&&P++==0&&uae()==125)continue}switch(M+=mS(u),u*P){case 38:R=f>0?1:(M+="\f",-1);break;case 44:h[m++]=(lo(M)-1)*R,R=1;break;case 64:Il()===45&&(M+=c1(Wn())),k=Il(),f=b=lo(T=M+=yae(ly())),u++;break;case 45:E===45&&lo(M)==2&&(P=0)}}return l}function d3(t,e,i,s,a,l,o,h,d,m,f,b){for(var k=a-1,w=a===0?l:[""],E=cae(w),P=0,L=0,R=0;P<s;++P)for(var u=0,T=qu(t,k+1,k=N4(L=o[P])),y=t;u<E;++u)(y=z4(L>0?w[u]+" "+T:oy(T,/&\f/g,w[u])))&&(d[R++]=y);return gS(t,e,i,a===0?I4:h,d,m,f,b)}function bae(t,e,i,s){return gS(t,e,i,D4,mS(hae()),qu(t,2,-2),0,s)}function f3(t,e,i,s,a){return gS(t,e,i,B4,qu(t,0,s),qu(t,s+1,-1),s,a)}function bx(t,e){for(var i="",s=0;s<t.length;s++)i+=e(t[s],s,t,e)||"";return i}function wae(t,e,i,s){switch(t.type){case oae:if(t.children.length)break;case sae:case aae:case B4:return t.return=t.return||t.value;case D4:return"";case nae:return t.return=t.value+"{"+bx(t.children,s)+"}";case I4:if(!lo(t.value=t.props.join(",")))return""}return lo(i=bx(t.children,s))?t.return=t.value+"{"+i+"}":""}var _ae=yI(Object.keys,Object),xae=Object.prototype,kae=xae.hasOwnProperty;function Sae(t){if(!zv(t))return _ae(t);var e=[];for(var i in Object(t))kae.call(t,i)&&i!="constructor"&&e.push(i);return e}var wx=Th(ko,"DataView"),_x=Th(ko,"Promise"),xx=Th(ko,"Set"),kx=Th(ko,"WeakMap"),p3="[object Map]",Tae="[object Object]",m3="[object Promise]",g3="[object Set]",y3="[object WeakMap]",v3="[object DataView]",Cae=Sh(wx),Eae=Sh(Ap),Oae=Sh(_x),Aae=Sh(xx),Pae=Sh(kx),Gc=Ju;(wx&&Gc(new wx(new ArrayBuffer(1)))!=v3||Ap&&Gc(new Ap)!=p3||_x&&Gc(_x.resolve())!=m3||xx&&Gc(new xx)!=g3||kx&&Gc(new kx)!=y3)&&(Gc=function(t){var e=Ju(t),i=e==Tae?t.constructor:void 0,s=i?Sh(i):"";if(s)switch(s){case Cae:return v3;case Eae:return p3;case Oae:return m3;case Aae:return g3;case Pae:return y3}return e});var Mae="[object Map]",Lae="[object Set]",Rae=Object.prototype,Fae=Rae.hasOwnProperty;function b3(t){if(t==null)return!0;if(Uv(t)&&($y(t)||typeof t=="string"||typeof t.splice=="function"||Gk(t)||Xk(t)||qy(t)))return!t.length;var e=Gc(t);if(e==Mae||e==Lae)return!t.size;if(zv(t))return!Sae(t).length;for(var i in t)if(Fae.call(t,i))return!1;return!0}var H4="c4",Dae=q(t=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(t),"detector"),Iae=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./c4Diagram-AAMF2YG6-BEfkaSDx.js");return{diagram:e}},__vite__mapDeps([10,11,6,7,8,9]));return{id:H4,diagram:t}},"loader"),Bae={id:H4,detector:Dae,loader:Iae},Nae=Bae,W4="flowchart",zae=q((t,e)=>{var i,s;return((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-wrapper"||((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="elk"?!1:/^\s*graph/.test(t)},"detector"),Uae=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-OivjjuuO.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7,8,9]));return{id:W4,diagram:t}},"loader"),Hae={id:W4,detector:zae,loader:Uae},Wae=Hae,j4="flowchart-v2",jae=q((t,e)=>{var i,s,a;return((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="dagre-d3"?!1:(((s=e==null?void 0:e.flowchart)==null?void 0:s.defaultRenderer)==="elk"&&(e.layout="elk"),/^\s*graph/.test(t)&&((a=e==null?void 0:e.flowchart)==null?void 0:a.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(t))},"detector"),qae=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-OivjjuuO.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7,8,9]));return{id:j4,diagram:t}},"loader"),$ae={id:j4,detector:jae,loader:qae},Vae=$ae,q4="er",Yae=q(t=>/^\s*erDiagram/.test(t),"detector"),Gae=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./erDiagram-HZWUO2LU-8SqEfk5C.js");return{diagram:e}},__vite__mapDeps([17,14,15,16,6,7,8,9]));return{id:q4,diagram:t}},"loader"),Xae={id:q4,detector:Yae,loader:Gae},Kae=Xae,$4="gitGraph",Zae=q(t=>/^\s*gitGraph/.test(t),"detector"),Qae=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./gitGraphDiagram-OJR772UL-CP0P4lKe.js");return{diagram:e}},__vite__mapDeps([18,19,20,21,2,4,5,6,7,8,9]));return{id:$4,diagram:t}},"loader"),Jae={id:$4,detector:Zae,loader:Qae},ene=Jae,V4="gantt",tne=q(t=>/^\s*gantt/.test(t),"detector"),ine=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./ganttDiagram-WV7ZQ7D5-BGxrqyz6.js");return{diagram:e}},__vite__mapDeps([22,8,23,24,25,6,7,9]));return{id:V4,diagram:t}},"loader"),rne={id:V4,detector:tne,loader:ine},sne=rne,Y4="info",ane=q(t=>/^\s*info/.test(t),"detector"),nne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./infoDiagram-6WOFNB3A-DYwIymMc.js");return{diagram:e}},__vite__mapDeps([26,21,2,4,5,6,7,8,9]));return{id:Y4,diagram:t}},"loader"),one={id:Y4,detector:ane,loader:nne},G4="pie",lne=q(t=>/^\s*pie/.test(t),"detector"),cne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./pieDiagram-DBDJKBY4-Dt_8eubB.js");return{diagram:e}},__vite__mapDeps([27,19,21,2,4,5,28,29,24,6,7,8,9]));return{id:G4,diagram:t}},"loader"),hne={id:G4,detector:lne,loader:cne},X4="quadrantChart",une=q(t=>/^\s*quadrantChart/.test(t),"detector"),dne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./quadrantDiagram-YPSRARAO-CQXU1HGB.js");return{diagram:e}},__vite__mapDeps([30,23,24,25,6,7,8,9]));return{id:X4,diagram:t}},"loader"),fne={id:X4,detector:une,loader:dne},pne=fne,K4="xychart",mne=q(t=>/^\s*xychart(-beta)?/.test(t),"detector"),gne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./xychartDiagram-FDP5SA34-B37FuEwj.js");return{diagram:e}},__vite__mapDeps([31,24,29,23,25,6,7,8,9]));return{id:K4,diagram:t}},"loader"),yne={id:K4,detector:mne,loader:gne},vne=yne,Z4="requirement",bne=q(t=>/^\s*requirement(Diagram)?/.test(t),"detector"),wne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./requirementDiagram-EGVEC5DT-C2P9EwAJ.js");return{diagram:e}},__vite__mapDeps([32,14,15,6,7,8,9]));return{id:Z4,diagram:t}},"loader"),_ne={id:Z4,detector:bne,loader:wne},xne=_ne,Q4="sequence",kne=q(t=>/^\s*sequenceDiagram/.test(t),"detector"),Sne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./sequenceDiagram-WFGC7UMF-DkMoivfa.js");return{diagram:e}},__vite__mapDeps([33,11,20,6,7,8,9]));return{id:Q4,diagram:t}},"loader"),Tne={id:Q4,detector:kne,loader:Sne},Cne=Tne,J4="class",Ene=q((t,e)=>{var i;return((i=e==null?void 0:e.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(t)},"detector"),One=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./classDiagram-3BZAVTQC-CIYr8rzC.js");return{diagram:e}},__vite__mapDeps([34,35,13,14,15,6,7,8,9]));return{id:J4,diagram:t}},"loader"),Ane={id:J4,detector:Ene,loader:One},Pne=Ane,eN="classDiagram",Mne=q((t,e)=>{var i;return/^\s*classDiagram/.test(t)&&((i=e==null?void 0:e.class)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(t)},"detector"),Lne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./classDiagram-v2-QTMF73CY-CIYr8rzC.js");return{diagram:e}},__vite__mapDeps([36,35,13,14,15,6,7,8,9]));return{id:eN,diagram:t}},"loader"),Rne={id:eN,detector:Mne,loader:Lne},Fne=Rne,tN="state",Dne=q((t,e)=>{var i;return((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(t)},"detector"),Ine=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./stateDiagram-UUKSUZ4H-DbZRIZHn.js");return{diagram:e}},__vite__mapDeps([37,38,14,15,1,2,3,4,6,7,8,9]));return{id:tN,diagram:t}},"loader"),Bne={id:tN,detector:Dne,loader:Ine},Nne=Bne,iN="stateDiagram",zne=q((t,e)=>{var i;return!!(/^\s*stateDiagram-v2/.test(t)||/^\s*stateDiagram/.test(t)&&((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper")},"detector"),Une=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./stateDiagram-v2-EYPG3UTE-D8SuLjbY.js");return{diagram:e}},__vite__mapDeps([39,38,14,15,6,7,8,9]));return{id:iN,diagram:t}},"loader"),Hne={id:iN,detector:zne,loader:Une},Wne=Hne,rN="journey",jne=q(t=>/^\s*journey/.test(t),"detector"),qne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./journeyDiagram-FFXJYRFH-YTFdBtgM.js");return{diagram:e}},__vite__mapDeps([40,11,13,28,6,7,8,9]));return{id:rN,diagram:t}},"loader"),$ne={id:rN,detector:jne,loader:qne},Vne=$ne,Yne=q((t,e,i)=>{ct.debug(`rendering svg for syntax error
`);const s=rae(e),a=s.append("g");s.attr("viewBox","0 0 2412 512"),FF(s,100,512,!0),a.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),a.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),a.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),a.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),a.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),a.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),a.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),a.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${i}`)},"draw"),sN={draw:Yne},Gne=sN,Xne={db:{},renderer:sN,parser:{parse:q(()=>{},"parse")}},Kne=Xne,aN="flowchart-elk",Zne=q((t,e={})=>{var i;return/^\s*flowchart-elk/.test(t)||/^\s*(flowchart|graph)/.test(t)&&((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?(e.layout="elk",!0):!1},"detector"),Qne=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./flowDiagram-THRYKUMA-OivjjuuO.js");return{diagram:e}},__vite__mapDeps([12,13,14,15,16,6,7,8,9]));return{id:aN,diagram:t}},"loader"),Jne={id:aN,detector:Zne,loader:Qne},eoe=Jne,nN="timeline",toe=q(t=>/^\s*timeline/.test(t),"detector"),ioe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./timeline-definition-3HZDQTIS-U8Zkox1a.js");return{diagram:e}},__vite__mapDeps([41,28,6,7,8,9]));return{id:nN,diagram:t}},"loader"),roe={id:nN,detector:toe,loader:ioe},soe=roe,oN="mindmap",aoe=q(t=>/^\s*mindmap/.test(t),"detector"),noe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./mindmap-definition-LNHGMQRG-BXvSW9JI.js");return{diagram:e}},__vite__mapDeps([42,43,8,6,7,9]));return{id:oN,diagram:t}},"loader"),ooe={id:oN,detector:aoe,loader:noe},loe=ooe,lN="kanban",coe=q(t=>/^\s*kanban/.test(t),"detector"),hoe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./kanban-definition-KOZQBZVT-BpUYMI15.js");return{diagram:e}},__vite__mapDeps([44,13,6,7,8,9]));return{id:lN,diagram:t}},"loader"),uoe={id:lN,detector:coe,loader:hoe},doe=uoe,cN="sankey",foe=q(t=>/^\s*sankey(-beta)?/.test(t),"detector"),poe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./sankeyDiagram-HRAUVNP4-BBVZW5vp.js");return{diagram:e}},__vite__mapDeps([45,29,24,6,7,8,9]));return{id:cN,diagram:t}},"loader"),moe={id:cN,detector:foe,loader:poe},goe=moe,hN="packet",yoe=q(t=>/^\s*packet(-beta)?/.test(t),"detector"),voe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./diagram-GUPCWM2R-DH2v4Y08.js");return{diagram:e}},__vite__mapDeps([46,19,21,2,4,5,6,7,8,9]));return{id:hN,diagram:t}},"loader"),boe={id:hN,detector:yoe,loader:voe},uN="radar",woe=q(t=>/^\s*radar-beta/.test(t),"detector"),_oe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./diagram-RP2FKANI-DCu2qt_t.js");return{diagram:e}},__vite__mapDeps([47,19,21,2,4,5,6,7,8,9]));return{id:uN,diagram:t}},"loader"),xoe={id:uN,detector:woe,loader:_oe},dN="block",koe=q(t=>/^\s*block(-beta)?/.test(t),"detector"),Soe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./blockDiagram-ZYB65J3Q-BYzt3hAw.js");return{diagram:e}},__vite__mapDeps([48,13,5,2,1,16,6,7,8,9]));return{id:dN,diagram:t}},"loader"),Toe={id:dN,detector:koe,loader:Soe},Coe=Toe,fN="architecture",Eoe=q(t=>/^\s*architecture/.test(t),"detector"),Ooe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./architectureDiagram-KFL7JDKH-Q1vem6za.js");return{diagram:e}},__vite__mapDeps([49,19,21,2,4,5,43,8,6,7,9]));return{id:fN,diagram:t}},"loader"),Aoe={id:fN,detector:Eoe,loader:Ooe},Poe=Aoe,pN="treemap",Moe=q(t=>/^\s*treemap/.test(t),"detector"),Loe=q(async()=>{const{diagram:t}=await Sr(async()=>{const{diagram:e}=await import("./diagram-4IRLE6MV-t5kC6oHg.js");return{diagram:e}},__vite__mapDeps([50,15,19,21,2,4,5,25,29,24,6,7,8,9]));return{id:pN,diagram:t}},"loader"),Roe={id:pN,detector:Moe,loader:Loe},w3=!1,Zv=q(()=>{w3||(w3=!0,Ty("error",Kne,t=>t.toLowerCase().trim()==="error"),Ty("---",{db:{clear:q(()=>{},"clear")},styles:{},renderer:{draw:q(()=>{},"draw")},parser:{parse:q(()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")},"parse")},init:q(()=>null,"init")},t=>t.toLowerCase().trimStart().startsWith("---")),M1(eoe,loe,Poe),M1(Nae,doe,Fne,Pne,Kae,sne,one,hne,xne,Cne,Vae,Wae,soe,ene,Wne,Nne,Vne,pne,goe,boe,vne,Coe,xoe,Roe))},"addDiagrams"),Foe=q(async()=>{ct.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(ph).map(async([i,{detector:s,loader:a}])=>{if(a)try{D1(i)}catch{try{const{diagram:l,id:o}=await a();Ty(o,l,s)}catch(l){throw ct.error(`Failed to load external diagram with key ${i}. Removing from detectors.`),delete ph[i],l}}}))).filter(i=>i.status==="rejected");if(e.length>0){ct.error(`Failed to load ${e.length} external diagrams`);for(const i of e)ct.error(i);throw new Error(`Failed to load ${e.length} external diagrams`)}},"loadRegisteredDiagrams"),Doe="graphics-document document";function mN(t,e){t.attr("role",Doe),e!==""&&t.attr("aria-roledescription",e)}q(mN,"setA11yDiagramInfo");function gN(t,e,i,s){if(t.insert!==void 0){if(i){const a=`chart-desc-${s}`;t.attr("aria-describedby",a),t.insert("desc",":first-child").attr("id",a).text(i)}if(e){const a=`chart-title-${s}`;t.attr("aria-labelledby",a),t.insert("title",":first-child").attr("id",a).text(e)}}}q(gN,"addSVGa11yTitleDescription");var ch,Sx=(ch=class{constructor(e,i,s,a,l){this.type=e,this.text=i,this.db=s,this.parser=a,this.renderer=l}static async fromText(e,i={}){var m,f;const s=ia(),a=vk(e,s);e=Rie(e)+`
`;try{D1(a)}catch{const b=sG(a);if(!b)throw new wF(`Diagram ${a} not found.`);const{id:k,diagram:w}=await b();Ty(k,w)}const{db:l,parser:o,renderer:h,init:d}=D1(a);return o.parser&&(o.parser.yy=l),(m=l.clear)==null||m.call(l),d==null||d(s),i.title&&((f=l.setDiagramTitle)==null||f.call(l,i.title)),await o.parse(e),new ch(a,e,l,o,h)}async render(e,i){await this.renderer.draw(this.text,e,i,this)}getParser(){return this.parser}getType(){return this.type}},q(ch,"Diagram"),ch),_3=[],Ioe=q(()=>{_3.forEach(t=>{t()}),_3=[]},"attachFunctions"),Boe=q(t=>t.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart(),"cleanupComments");function yN(t){const e=t.match(bF);if(!e)return{text:t,metadata:{}};let i=rK(e[1],{schema:iK})??{};i=typeof i=="object"&&!Array.isArray(i)?i:{};const s={};return i.displayMode&&(s.displayMode=i.displayMode.toString()),i.title&&(s.title=i.title.toString()),i.config&&(s.config=i.config),{text:t.slice(e[0].length),metadata:s}}q(yN,"extractFrontMatter");var Noe=q(t=>t.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(e,i,s)=>"<"+i+s.replace(/="([^"]*)"/g,"='$1'")+">"),"cleanupText"),zoe=q(t=>{const{text:e,metadata:i}=yN(t),{displayMode:s,title:a,config:l={}}=i;return s&&(l.gantt||(l.gantt={}),l.gantt.displayMode=s),{title:a,config:l,text:e}},"processFrontmatter"),Uoe=q(t=>{const e=Nn.detectInit(t)??{},i=Nn.detectDirective(t,"wrap");return Array.isArray(i)?e.wrap=i.some(({type:s})=>s==="wrap"):(i==null?void 0:i.type)==="wrap"&&(e.wrap=!0),{text:wie(t),directive:e}},"processDirectives");function yS(t){const e=Noe(t),i=zoe(e),s=Uoe(i.text),a=tS(i.config,s.directive);return t=Boe(s.text),{code:t,title:i.title,config:a}}q(yS,"preprocessDiagram");function vN(t){const e=new TextEncoder().encode(t),i=Array.from(e,s=>String.fromCodePoint(s)).join("");return btoa(i)}q(vN,"toBase64");var Hoe=5e4,Woe="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",joe="sandbox",qoe="loose",$oe="http://www.w3.org/2000/svg",Voe="http://www.w3.org/1999/xlink",Yoe="http://www.w3.org/1999/xhtml",Goe="100%",Xoe="100%",Koe="border:0;margin:0;",Zoe="margin:0",Qoe="allow-top-navigation-by-user-activation allow-popups",Joe='The "iframe" tag is not supported by your browser.',ele=["foreignobject"],tle=["dominant-baseline"];function vS(t){const e=yS(t);return ky(),wG(e.config??{}),e}q(vS,"processAndSetConfigs");async function bN(t,e){Zv();try{const{code:i,config:s}=vS(t);return{diagramType:(await _N(i)).type,config:s}}catch(i){if(e!=null&&e.suppressErrors)return!1;throw i}}q(bN,"parse");var x3=q((t,e,i=[])=>`
.${t} ${e} { ${i.join(" !important; ")} !important; }`,"cssImportantStyles"),ile=q((t,e=new Map)=>{var s;let i="";if(t.themeCSS!==void 0&&(i+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(i+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(i+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),e instanceof Map){const h=t.htmlLabels??((s=t.flowchart)==null?void 0:s.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];e.forEach(d=>{b3(d.styles)||h.forEach(m=>{i+=x3(d.id,m,d.styles)}),b3(d.textStyles)||(i+=x3(d.id,"tspan",((d==null?void 0:d.textStyles)||[]).map(m=>m.replace("color","fill"))))})}return i},"createCssStyles"),rle=q((t,e,i,s)=>{const a=ile(t,i),l=zG(e,a,t.themeVariables);return bx(vae(`${s}{${l}}`),wae)},"createUserStyles"),sle=q((t="",e,i)=>{let s=t;return!i&&!e&&(s=s.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),s=Ch(s),s=s.replace(/<br>/g,"<br/>"),s},"cleanUpSvgCode"),ale=q((t="",e)=>{var a,l;const i=(l=(a=e==null?void 0:e.viewBox)==null?void 0:a.baseVal)!=null&&l.height?e.viewBox.baseVal.height+"px":Xoe,s=vN(`<body style="${Zoe}">${t}</body>`);return`<iframe style="width:${Goe};height:${i};${Koe}" src="data:text/html;charset=UTF-8;base64,${s}" sandbox="${Qoe}">
  ${Joe}
</iframe>`},"putIntoIFrame"),k3=q((t,e,i,s,a)=>{const l=t.append("div");l.attr("id",i),s&&l.attr("style",s);const o=l.append("svg").attr("id",e).attr("width","100%").attr("xmlns",$oe);return a&&o.attr("xmlns:xlink",a),o.append("g"),t},"appendDivSvgG");function Tx(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}q(Tx,"sandboxedIframe");var nle=q((t,e,i,s)=>{var a,l,o;(a=t.getElementById(e))==null||a.remove(),(l=t.getElementById(i))==null||l.remove(),(o=t.getElementById(s))==null||o.remove()},"removeExistingElements"),ole=q(async function(t,e,i){var x,A,F,B,j,$;Zv();const s=vS(e);e=s.code;const a=ia();ct.debug(a),e.length>((a==null?void 0:a.maxTextSize)??Hoe)&&(e=Woe);const l="#"+t,o="i"+t,h="#"+o,d="d"+t,m="#"+d,f=q(()=>{const he=er(k?h:m).node();he&&"remove"in he&&he.remove()},"removeTempElements");let b=er("body");const k=a.securityLevel===joe,w=a.securityLevel===qoe,E=a.fontFamily;if(i!==void 0){if(i&&(i.innerHTML=""),k){const G=Tx(er(i),o);b=er(G.nodes()[0].contentDocument.body),b.node().style.margin=0}else b=er(i);k3(b,t,d,`font-family: ${E}`,Voe)}else{if(nle(document,t,d,o),k){const G=Tx(er("body"),o);b=er(G.nodes()[0].contentDocument.body),b.node().style.margin=0}else b=er("body");k3(b,t,d)}let P,L;try{P=await Sx.fromText(e,{title:s.title})}catch(G){if(a.suppressErrorRendering)throw f(),G;P=await Sx.fromText("error"),L=G}const R=b.select(m).node(),u=P.type,T=R.firstChild,y=T.firstChild,S=(A=(x=P.renderer).getClasses)==null?void 0:A.call(x,e,P),C=rle(a,u,S,l),M=document.createElement("style");M.innerHTML=C,T.insertBefore(M,y);try{await P.renderer.draw(e,t,u3.version,P)}catch(G){throw a.suppressErrorRendering?f():Gne.draw(e,t,u3.version),G}const I=b.select(`${m} svg`),U=(B=(F=P.db).getAccTitle)==null?void 0:B.call(F),z=($=(j=P.db).getAccDescription)==null?void 0:$.call(j);xN(u,I,U,z),b.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",Yoe);let g=b.select(m).node().innerHTML;if(ct.debug("config.arrowMarkerAbsolute",a.arrowMarkerAbsolute),g=sle(g,k,ks(a.arrowMarkerAbsolute)),k){const G=b.select(m+" svg").node();g=ale(g,G)}else w||(g=Iu.sanitize(g,{ADD_TAGS:ele,ADD_ATTR:tle,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(Ioe(),L)throw L;return f(),{diagramType:u,svg:g,bindFunctions:P.db.bindFunctions}},"render");function wN(t={}){var s;const e=$s({},t);e!=null&&e.fontFamily&&!((s=e.themeVariables)!=null&&s.fontFamily)&&(e.themeVariables||(e.themeVariables={}),e.themeVariables.fontFamily=e.fontFamily),vG(e),e!=null&&e.theme&&e.theme in al?e.themeVariables=al[e.theme].getThemeVariables(e.themeVariables):e&&(e.themeVariables=al.default.getThemeVariables(e.themeVariables));const i=typeof e=="object"?yG(e):CF();yk(i.logLevel),Zv()}q(wN,"initialize");var _N=q((t,e={})=>{const{code:i}=yS(t);return Sx.fromText(i,e)},"getDiagramFromText");function xN(t,e,i,s){mN(e,t),gN(e,i,s,e.attr("id"))}q(xN,"addA11yInfo");var bh=Object.freeze({render:ole,parse:bN,getDiagramFromText:_N,initialize:wN,getConfig:ia,setConfig:EF,getSiteConfig:CF,updateSiteConfig:bG,reset:q(()=>{ky()},"reset"),globalReset:q(()=>{ky(Bu)},"globalReset"),defaultConfig:Bu});yk(ia().logLevel);ky(ia());var lle=q((t,e,i)=>{ct.warn(t),eS(t)?(i&&i(t.str,t.hash),e.push({...t,message:t.str,error:t})):(i&&i(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},"handleError"),kN=q(async function(t={querySelector:".mermaid"}){try{await cle(t)}catch(e){if(eS(e)&&ct.error(e.str),Xa.parseError&&Xa.parseError(e),!t.suppressErrors)throw ct.error("Use the suppressErrors option to suppress these errors"),e}},"run"),cle=q(async function({postRenderCallback:t,querySelector:e,nodes:i}={querySelector:".mermaid"}){const s=bh.getConfig();ct.debug(`${t?"":"No "}Callback function found`);let a;if(i)a=i;else if(e)a=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");ct.debug(`Found ${a.length} diagrams`),(s==null?void 0:s.startOnLoad)!==void 0&&(ct.debug("Start On Load: "+(s==null?void 0:s.startOnLoad)),bh.updateSiteConfig({startOnLoad:s==null?void 0:s.startOnLoad}));const l=new Nn.InitIDGenerator(s.deterministicIds,s.deterministicIDSeed);let o;const h=[];for(const d of Array.from(a)){if(ct.info("Rendering diagram: "+d.id),d.getAttribute("data-processed"))continue;d.setAttribute("data-processed","true");const m=`mermaid-${l.next()}`;o=d.innerHTML,o=XI(Nn.entityDecode(o)).trim().replace(/<br\s*\/?>/gi,"<br/>");const f=Nn.detectInit(o);f&&ct.debug("Detected early reinit: ",f);try{const{svg:b,bindFunctions:k}=await EN(m,o,d);d.innerHTML=b,t&&await t(m),k&&k(d)}catch(b){lle(b,h,Xa.parseError)}}if(h.length>0)throw h[0]},"runThrowsErrors"),SN=q(function(t){bh.initialize(t)},"initialize"),hle=q(async function(t,e,i){ct.warn("mermaid.init is deprecated. Please use run instead."),t&&SN(t);const s={postRenderCallback:i,querySelector:".mermaid"};typeof e=="string"?s.querySelector=e:e&&(e instanceof HTMLElement?s.nodes=[e]:s.nodes=e),await kN(s)},"init"),ule=q(async(t,{lazyLoad:e=!0}={})=>{Zv(),M1(...t),e===!1&&await Foe()},"registerExternalDiagrams"),TN=q(function(){if(Xa.startOnLoad){const{startOnLoad:t}=bh.getConfig();t&&Xa.run().catch(e=>ct.error("Mermaid failed to initialize",e))}},"contentLoaded");typeof document<"u"&&window.addEventListener("load",TN,!1);var dle=q(function(t){Xa.parseError=t},"setParseErrorHandler"),iv=[],h1=!1,CN=q(async()=>{if(!h1){for(h1=!0;iv.length>0;){const t=iv.shift();if(t)try{await t()}catch(e){ct.error("Error executing queue",e)}}h1=!1}},"executeQueue"),fle=q(async(t,e)=>new Promise((i,s)=>{const a=q(()=>new Promise((l,o)=>{bh.parse(t,e).then(h=>{l(h),i(h)},h=>{var d;ct.error("Error parsing",h),(d=Xa.parseError)==null||d.call(Xa,h),o(h),s(h)})}),"performCall");iv.push(a),CN().catch(s)}),"parse"),EN=q((t,e,i)=>new Promise((s,a)=>{const l=q(()=>new Promise((o,h)=>{bh.render(t,e,i).then(d=>{o(d),s(d)},d=>{var m;ct.error("Error parsing",d),(m=Xa.parseError)==null||m.call(Xa,d),h(d),a(d)})}),"performCall");iv.push(l),CN().catch(a)}),"render"),ple=q(()=>Object.keys(ph).map(t=>({id:t})),"getRegisteredDiagramsMetadata"),Xa={startOnLoad:!0,mermaidAPI:bh,parse:fle,render:EN,init:hle,run:kN,registerExternalDiagrams:ule,registerLayoutLoaders:F4,initialize:SN,parseError:void 0,contentLoaded:TN,setParseErrorHandler:dle,detectType:vk,registerIconPacks:Bre,getRegisteredDiagramsMetadata:ple},mle=Xa;/*! Check if previously processed *//*!
 * Wait for document loaded before starting the execution
 */function bS(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Oh=bS();function ON(t){Oh=t}const cp={exec:()=>null};function gr(t,e=""){let i=typeof t=="string"?t:t.source;const s={replace:(a,l)=>{let o=typeof l=="string"?l:l.source;return o=o.replace(ba.caret,"$1"),i=i.replace(a,o),s},getRegex:()=>new RegExp(i,e)};return s}const ba={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},gle=/^(?:[ \t]*(?:\n|$))+/,yle=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,vle=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,em=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ble=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,wS=/(?:[*+-]|\d{1,9}[.)])/,AN=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,PN=gr(AN).replace(/bull/g,wS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),wle=gr(AN).replace(/bull/g,wS).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),_S=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_le=/^[^\n]+/,xS=/(?!\s*\])(?:\\.|[^\[\]\\])+/,xle=gr(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",xS).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),kle=gr(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,wS).getRegex(),Qv="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kS=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Sle=gr("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",kS).replace("tag",Qv).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),MN=gr(_S).replace("hr",em).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qv).getRegex(),Tle=gr(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",MN).getRegex(),SS={blockquote:Tle,code:yle,def:xle,fences:vle,heading:ble,hr:em,html:Sle,lheading:PN,list:kle,newline:gle,paragraph:MN,table:cp,text:_le},S3=gr("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",em).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qv).getRegex(),Cle={...SS,lheading:wle,table:S3,paragraph:gr(_S).replace("hr",em).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",S3).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Qv).getRegex()},Ele={...SS,html:gr(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kS).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cp,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:gr(_S).replace("hr",em).replace("heading",` *#{1,6} *[^
]`).replace("lheading",PN).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Ole=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ale=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,LN=/^( {2,}|\\)\n(?!\s*$)/,Ple=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Jv=/[\p{P}\p{S}]/u,TS=/[\s\p{P}\p{S}]/u,RN=/[^\s\p{P}\p{S}]/u,Mle=gr(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,TS).getRegex(),FN=/(?!~)[\p{P}\p{S}]/u,Lle=/(?!~)[\s\p{P}\p{S}]/u,Rle=/(?:[^\s\p{P}\p{S}]|~)/u,Fle=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,DN=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Dle=gr(DN,"u").replace(/punct/g,Jv).getRegex(),Ile=gr(DN,"u").replace(/punct/g,FN).getRegex(),IN="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Ble=gr(IN,"gu").replace(/notPunctSpace/g,RN).replace(/punctSpace/g,TS).replace(/punct/g,Jv).getRegex(),Nle=gr(IN,"gu").replace(/notPunctSpace/g,Rle).replace(/punctSpace/g,Lle).replace(/punct/g,FN).getRegex(),zle=gr("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,RN).replace(/punctSpace/g,TS).replace(/punct/g,Jv).getRegex(),Ule=gr(/\\(punct)/,"gu").replace(/punct/g,Jv).getRegex(),Hle=gr(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Wle=gr(kS).replace("(?:-->|$)","-->").getRegex(),jle=gr("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Wle).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),rv=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,qle=gr(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",rv).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),BN=gr(/^!?\[(label)\]\[(ref)\]/).replace("label",rv).replace("ref",xS).getRegex(),NN=gr(/^!?\[(ref)\](?:\[\])?/).replace("ref",xS).getRegex(),$le=gr("reflink|nolink(?!\\()","g").replace("reflink",BN).replace("nolink",NN).getRegex(),CS={_backpedal:cp,anyPunctuation:Ule,autolink:Hle,blockSkip:Fle,br:LN,code:Ale,del:cp,emStrongLDelim:Dle,emStrongRDelimAst:Ble,emStrongRDelimUnd:zle,escape:Ole,link:qle,nolink:NN,punctuation:Mle,reflink:BN,reflinkSearch:$le,tag:jle,text:Ple,url:cp},Vle={...CS,link:gr(/^!?\[(label)\]\((.*?)\)/).replace("label",rv).getRegex(),reflink:gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rv).getRegex()},Cx={...CS,emStrongRDelimAst:Nle,emStrongLDelim:Ile,url:gr(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Yle={...Cx,br:gr(LN).replace("{2,}","*").getRegex(),text:gr(Cx.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},jg={normal:SS,gfm:Cle,pedantic:Ele},Wf={normal:CS,gfm:Cx,breaks:Yle,pedantic:Vle},Gle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},T3=t=>Gle[t];function oo(t,e){if(e){if(ba.escapeTest.test(t))return t.replace(ba.escapeReplace,T3)}else if(ba.escapeTestNoEncode.test(t))return t.replace(ba.escapeReplaceNoEncode,T3);return t}function C3(t){try{t=encodeURI(t).replace(ba.percentDecode,"%")}catch{return null}return t}function E3(t,e){var l;const i=t.replace(ba.findPipe,(o,h,d)=>{let m=!1,f=h;for(;--f>=0&&d[f]==="\\";)m=!m;return m?"|":" |"}),s=i.split(ba.splitPipe);let a=0;if(s[0].trim()||s.shift(),s.length>0&&!((l=s.at(-1))!=null&&l.trim())&&s.pop(),e)if(s.length>e)s.splice(e);else for(;s.length<e;)s.push("");for(;a<s.length;a++)s[a]=s[a].trim().replace(ba.slashPipe,"|");return s}function jf(t,e,i){const s=t.length;if(s===0)return"";let a=0;for(;a<s&&t.charAt(s-a-1)===e;)a++;return t.slice(0,s-a)}function Xle(t,e){if(t.indexOf(e[1])===-1)return-1;let i=0;for(let s=0;s<t.length;s++)if(t[s]==="\\")s++;else if(t[s]===e[0])i++;else if(t[s]===e[1]&&(i--,i<0))return s;return i>0?-2:-1}function O3(t,e,i,s,a){const l=e.href,o=e.title||null,h=t[1].replace(a.other.outputLinkReplace,"$1");s.state.inLink=!0;const d={type:t[0].charAt(0)==="!"?"image":"link",raw:i,href:l,title:o,text:h,tokens:s.inlineTokens(h)};return s.state.inLink=!1,d}function Kle(t,e,i){const s=t.match(i.other.indentCodeCompensation);if(s===null)return e;const a=s[1];return e.split(`
`).map(l=>{const o=l.match(i.other.beginningSpace);if(o===null)return l;const[h]=o;return h.length>=a.length?l.slice(a.length):l}).join(`
`)}class sv{constructor(e){wi(this,"options");wi(this,"rules");wi(this,"lexer");this.options=e||Oh}space(e){const i=this.rules.block.newline.exec(e);if(i&&i[0].length>0)return{type:"space",raw:i[0]}}code(e){const i=this.rules.block.code.exec(e);if(i){const s=i[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:i[0],codeBlockStyle:"indented",text:this.options.pedantic?s:jf(s,`
`)}}}fences(e){const i=this.rules.block.fences.exec(e);if(i){const s=i[0],a=Kle(s,i[3]||"",this.rules);return{type:"code",raw:s,lang:i[2]?i[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):i[2],text:a}}}heading(e){const i=this.rules.block.heading.exec(e);if(i){let s=i[2].trim();if(this.rules.other.endingHash.test(s)){const a=jf(s,"#");(this.options.pedantic||!a||this.rules.other.endingSpaceChar.test(a))&&(s=a.trim())}return{type:"heading",raw:i[0],depth:i[1].length,text:s,tokens:this.lexer.inline(s)}}}hr(e){const i=this.rules.block.hr.exec(e);if(i)return{type:"hr",raw:jf(i[0],`
`)}}blockquote(e){const i=this.rules.block.blockquote.exec(e);if(i){let s=jf(i[0],`
`).split(`
`),a="",l="";const o=[];for(;s.length>0;){let h=!1;const d=[];let m;for(m=0;m<s.length;m++)if(this.rules.other.blockquoteStart.test(s[m]))d.push(s[m]),h=!0;else if(!h)d.push(s[m]);else break;s=s.slice(m);const f=d.join(`
`),b=f.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");a=a?`${a}
${f}`:f,l=l?`${l}
${b}`:b;const k=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(b,o,!0),this.lexer.state.top=k,s.length===0)break;const w=o.at(-1);if((w==null?void 0:w.type)==="code")break;if((w==null?void 0:w.type)==="blockquote"){const E=w,P=E.raw+`
`+s.join(`
`),L=this.blockquote(P);o[o.length-1]=L,a=a.substring(0,a.length-E.raw.length)+L.raw,l=l.substring(0,l.length-E.text.length)+L.text;break}else if((w==null?void 0:w.type)==="list"){const E=w,P=E.raw+`
`+s.join(`
`),L=this.list(P);o[o.length-1]=L,a=a.substring(0,a.length-w.raw.length)+L.raw,l=l.substring(0,l.length-E.raw.length)+L.raw,s=P.substring(o.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:a,tokens:o,text:l}}}list(e){let i=this.rules.block.list.exec(e);if(i){let s=i[1].trim();const a=s.length>1,l={type:"list",raw:"",ordered:a,start:a?+s.slice(0,-1):"",loose:!1,items:[]};s=a?`\\d{1,9}\\${s.slice(-1)}`:`\\${s}`,this.options.pedantic&&(s=a?s:"[*+-]");const o=this.rules.other.listItemRegex(s);let h=!1;for(;e;){let m=!1,f="",b="";if(!(i=o.exec(e))||this.rules.block.hr.test(e))break;f=i[0],e=e.substring(f.length);let k=i[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,u=>" ".repeat(3*u.length)),w=e.split(`
`,1)[0],E=!k.trim(),P=0;if(this.options.pedantic?(P=2,b=k.trimStart()):E?P=i[1].length+1:(P=i[2].search(this.rules.other.nonSpaceChar),P=P>4?1:P,b=k.slice(P),P+=i[1].length),E&&this.rules.other.blankLine.test(w)&&(f+=w+`
`,e=e.substring(w.length+1),m=!0),!m){const u=this.rules.other.nextBulletRegex(P),T=this.rules.other.hrRegex(P),y=this.rules.other.fencesBeginRegex(P),S=this.rules.other.headingBeginRegex(P),C=this.rules.other.htmlBeginRegex(P);for(;e;){const M=e.split(`
`,1)[0];let I;if(w=M,this.options.pedantic?(w=w.replace(this.rules.other.listReplaceNesting,"  "),I=w):I=w.replace(this.rules.other.tabCharGlobal,"    "),y.test(w)||S.test(w)||C.test(w)||u.test(w)||T.test(w))break;if(I.search(this.rules.other.nonSpaceChar)>=P||!w.trim())b+=`
`+I.slice(P);else{if(E||k.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(k)||S.test(k)||T.test(k))break;b+=`
`+w}!E&&!w.trim()&&(E=!0),f+=M+`
`,e=e.substring(M.length+1),k=I.slice(P)}}l.loose||(h?l.loose=!0:this.rules.other.doubleBlankLine.test(f)&&(h=!0));let L=null,R;this.options.gfm&&(L=this.rules.other.listIsTask.exec(b),L&&(R=L[0]!=="[ ] ",b=b.replace(this.rules.other.listReplaceTask,""))),l.items.push({type:"list_item",raw:f,task:!!L,checked:R,loose:!1,text:b,tokens:[]}),l.raw+=f}const d=l.items.at(-1);if(d)d.raw=d.raw.trimEnd(),d.text=d.text.trimEnd();else return;l.raw=l.raw.trimEnd();for(let m=0;m<l.items.length;m++)if(this.lexer.state.top=!1,l.items[m].tokens=this.lexer.blockTokens(l.items[m].text,[]),!l.loose){const f=l.items[m].tokens.filter(k=>k.type==="space"),b=f.length>0&&f.some(k=>this.rules.other.anyLine.test(k.raw));l.loose=b}if(l.loose)for(let m=0;m<l.items.length;m++)l.items[m].loose=!0;return l}}html(e){const i=this.rules.block.html.exec(e);if(i)return{type:"html",block:!0,raw:i[0],pre:i[1]==="pre"||i[1]==="script"||i[1]==="style",text:i[0]}}def(e){const i=this.rules.block.def.exec(e);if(i){const s=i[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),a=i[2]?i[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",l=i[3]?i[3].substring(1,i[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):i[3];return{type:"def",tag:s,raw:i[0],href:a,title:l}}}table(e){var h;const i=this.rules.block.table.exec(e);if(!i||!this.rules.other.tableDelimiter.test(i[2]))return;const s=E3(i[1]),a=i[2].replace(this.rules.other.tableAlignChars,"").split("|"),l=(h=i[3])!=null&&h.trim()?i[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],o={type:"table",raw:i[0],header:[],align:[],rows:[]};if(s.length===a.length){for(const d of a)this.rules.other.tableAlignRight.test(d)?o.align.push("right"):this.rules.other.tableAlignCenter.test(d)?o.align.push("center"):this.rules.other.tableAlignLeft.test(d)?o.align.push("left"):o.align.push(null);for(let d=0;d<s.length;d++)o.header.push({text:s[d],tokens:this.lexer.inline(s[d]),header:!0,align:o.align[d]});for(const d of l)o.rows.push(E3(d,o.header.length).map((m,f)=>({text:m,tokens:this.lexer.inline(m),header:!1,align:o.align[f]})));return o}}lheading(e){const i=this.rules.block.lheading.exec(e);if(i)return{type:"heading",raw:i[0],depth:i[2].charAt(0)==="="?1:2,text:i[1],tokens:this.lexer.inline(i[1])}}paragraph(e){const i=this.rules.block.paragraph.exec(e);if(i){const s=i[1].charAt(i[1].length-1)===`
`?i[1].slice(0,-1):i[1];return{type:"paragraph",raw:i[0],text:s,tokens:this.lexer.inline(s)}}}text(e){const i=this.rules.block.text.exec(e);if(i)return{type:"text",raw:i[0],text:i[0],tokens:this.lexer.inline(i[0])}}escape(e){const i=this.rules.inline.escape.exec(e);if(i)return{type:"escape",raw:i[0],text:i[1]}}tag(e){const i=this.rules.inline.tag.exec(e);if(i)return!this.lexer.state.inLink&&this.rules.other.startATag.test(i[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(i[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(i[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(i[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:i[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:i[0]}}link(e){const i=this.rules.inline.link.exec(e);if(i){const s=i[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(s)){if(!this.rules.other.endAngleBracket.test(s))return;const o=jf(s.slice(0,-1),"\\");if((s.length-o.length)%2===0)return}else{const o=Xle(i[2],"()");if(o===-2)return;if(o>-1){const d=(i[0].indexOf("!")===0?5:4)+i[1].length+o;i[2]=i[2].substring(0,o),i[0]=i[0].substring(0,d).trim(),i[3]=""}}let a=i[2],l="";if(this.options.pedantic){const o=this.rules.other.pedanticHrefTitle.exec(a);o&&(a=o[1],l=o[3])}else l=i[3]?i[3].slice(1,-1):"";return a=a.trim(),this.rules.other.startAngleBracket.test(a)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(s)?a=a.slice(1):a=a.slice(1,-1)),O3(i,{href:a&&a.replace(this.rules.inline.anyPunctuation,"$1"),title:l&&l.replace(this.rules.inline.anyPunctuation,"$1")},i[0],this.lexer,this.rules)}}reflink(e,i){let s;if((s=this.rules.inline.reflink.exec(e))||(s=this.rules.inline.nolink.exec(e))){const a=(s[2]||s[1]).replace(this.rules.other.multipleSpaceGlobal," "),l=i[a.toLowerCase()];if(!l){const o=s[0].charAt(0);return{type:"text",raw:o,text:o}}return O3(s,l,s[0],this.lexer,this.rules)}}emStrong(e,i,s=""){let a=this.rules.inline.emStrongLDelim.exec(e);if(!a||a[3]&&s.match(this.rules.other.unicodeAlphaNumeric))return;if(!(a[1]||a[2]||"")||!s||this.rules.inline.punctuation.exec(s)){const o=[...a[0]].length-1;let h,d,m=o,f=0;const b=a[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(b.lastIndex=0,i=i.slice(-1*e.length+o);(a=b.exec(i))!=null;){if(h=a[1]||a[2]||a[3]||a[4]||a[5]||a[6],!h)continue;if(d=[...h].length,a[3]||a[4]){m+=d;continue}else if((a[5]||a[6])&&o%3&&!((o+d)%3)){f+=d;continue}if(m-=d,m>0)continue;d=Math.min(d,d+m+f);const k=[...a[0]][0].length,w=e.slice(0,o+a.index+k+d);if(Math.min(o,d)%2){const P=w.slice(1,-1);return{type:"em",raw:w,text:P,tokens:this.lexer.inlineTokens(P)}}const E=w.slice(2,-2);return{type:"strong",raw:w,text:E,tokens:this.lexer.inlineTokens(E)}}}}codespan(e){const i=this.rules.inline.code.exec(e);if(i){let s=i[2].replace(this.rules.other.newLineCharGlobal," ");const a=this.rules.other.nonSpaceChar.test(s),l=this.rules.other.startingSpaceChar.test(s)&&this.rules.other.endingSpaceChar.test(s);return a&&l&&(s=s.substring(1,s.length-1)),{type:"codespan",raw:i[0],text:s}}}br(e){const i=this.rules.inline.br.exec(e);if(i)return{type:"br",raw:i[0]}}del(e){const i=this.rules.inline.del.exec(e);if(i)return{type:"del",raw:i[0],text:i[2],tokens:this.lexer.inlineTokens(i[2])}}autolink(e){const i=this.rules.inline.autolink.exec(e);if(i){let s,a;return i[2]==="@"?(s=i[1],a="mailto:"+s):(s=i[1],a=s),{type:"link",raw:i[0],text:s,href:a,tokens:[{type:"text",raw:s,text:s}]}}}url(e){var s;let i;if(i=this.rules.inline.url.exec(e)){let a,l;if(i[2]==="@")a=i[0],l="mailto:"+a;else{let o;do o=i[0],i[0]=((s=this.rules.inline._backpedal.exec(i[0]))==null?void 0:s[0])??"";while(o!==i[0]);a=i[0],i[1]==="www."?l="http://"+i[0]:l=i[0]}return{type:"link",raw:i[0],text:a,href:l,tokens:[{type:"text",raw:a,text:a}]}}}inlineText(e){const i=this.rules.inline.text.exec(e);if(i){const s=this.lexer.state.inRawBlock;return{type:"text",raw:i[0],text:i[0],escaped:s}}}}class un{constructor(e){wi(this,"tokens");wi(this,"options");wi(this,"state");wi(this,"tokenizer");wi(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Oh,this.options.tokenizer=this.options.tokenizer||new sv,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const i={other:ba,block:jg.normal,inline:Wf.normal};this.options.pedantic?(i.block=jg.pedantic,i.inline=Wf.pedantic):this.options.gfm&&(i.block=jg.gfm,this.options.breaks?i.inline=Wf.breaks:i.inline=Wf.gfm),this.tokenizer.rules=i}static get rules(){return{block:jg,inline:Wf}}static lex(e,i){return new un(i).lex(e)}static lexInline(e,i){return new un(i).inlineTokens(e)}lex(e){e=e.replace(ba.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const s=this.inlineQueue[i];this.inlineTokens(s.src,s.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],s=!1){var a,l,o;for(this.options.pedantic&&(e=e.replace(ba.tabCharGlobal,"    ").replace(ba.spaceLine,""));e;){let h;if((l=(a=this.options.extensions)==null?void 0:a.block)!=null&&l.some(m=>(h=m.call({lexer:this},e,i))?(e=e.substring(h.raw.length),i.push(h),!0):!1))continue;if(h=this.tokenizer.space(e)){e=e.substring(h.raw.length);const m=i.at(-1);h.raw.length===1&&m!==void 0?m.raw+=`
`:i.push(h);continue}if(h=this.tokenizer.code(e)){e=e.substring(h.raw.length);const m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(h=this.tokenizer.fences(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.heading(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.hr(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.blockquote(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.list(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.html(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.def(e)){e=e.substring(h.raw.length);const m=i.at(-1);(m==null?void 0:m.type)==="paragraph"||(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.raw,this.inlineQueue.at(-1).src=m.text):this.tokens.links[h.tag]||(this.tokens.links[h.tag]={href:h.href,title:h.title});continue}if(h=this.tokenizer.table(e)){e=e.substring(h.raw.length),i.push(h);continue}if(h=this.tokenizer.lheading(e)){e=e.substring(h.raw.length),i.push(h);continue}let d=e;if((o=this.options.extensions)!=null&&o.startBlock){let m=1/0;const f=e.slice(1);let b;this.options.extensions.startBlock.forEach(k=>{b=k.call({lexer:this},f),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(d=e.substring(0,m+1))}if(this.state.top&&(h=this.tokenizer.paragraph(d))){const m=i.at(-1);s&&(m==null?void 0:m.type)==="paragraph"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h),s=d.length!==e.length,e=e.substring(h.raw.length);continue}if(h=this.tokenizer.text(e)){e=e.substring(h.raw.length);const m=i.at(-1);(m==null?void 0:m.type)==="text"?(m.raw+=`
`+h.raw,m.text+=`
`+h.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=m.text):i.push(h);continue}if(e){const m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){var h,d,m;let s=e,a=null;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)f.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let l=!1,o="";for(;e;){l||(o=""),l=!1;let f;if((d=(h=this.options.extensions)==null?void 0:h.inline)!=null&&d.some(k=>(f=k.call({lexer:this},e,i))?(e=e.substring(f.raw.length),i.push(f),!0):!1))continue;if(f=this.tokenizer.escape(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.tag(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.link(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(f.raw.length);const k=i.at(-1);f.type==="text"&&(k==null?void 0:k.type)==="text"?(k.raw+=f.raw,k.text+=f.text):i.push(f);continue}if(f=this.tokenizer.emStrong(e,s,o)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.codespan(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.br(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.del(e)){e=e.substring(f.raw.length),i.push(f);continue}if(f=this.tokenizer.autolink(e)){e=e.substring(f.raw.length),i.push(f);continue}if(!this.state.inLink&&(f=this.tokenizer.url(e))){e=e.substring(f.raw.length),i.push(f);continue}let b=e;if((m=this.options.extensions)!=null&&m.startInline){let k=1/0;const w=e.slice(1);let E;this.options.extensions.startInline.forEach(P=>{E=P.call({lexer:this},w),typeof E=="number"&&E>=0&&(k=Math.min(k,E))}),k<1/0&&k>=0&&(b=e.substring(0,k+1))}if(f=this.tokenizer.inlineText(b)){e=e.substring(f.raw.length),f.raw.slice(-1)!=="_"&&(o=f.raw.slice(-1)),l=!0;const k=i.at(-1);(k==null?void 0:k.type)==="text"?(k.raw+=f.raw,k.text+=f.text):i.push(f);continue}if(e){const k="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(k);break}else throw new Error(k)}}return i}}class av{constructor(e){wi(this,"options");wi(this,"parser");this.options=e||Oh}space(e){return""}code({text:e,lang:i,escaped:s}){var o;const a=(o=(i||"").match(ba.notSpaceStart))==null?void 0:o[0],l=e.replace(ba.endingNewline,"")+`
`;return a?'<pre><code class="language-'+oo(a)+'">'+(s?l:oo(l,!0))+`</code></pre>
`:"<pre><code>"+(s?l:oo(l,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}heading({tokens:e,depth:i}){return`<h${i}>${this.parser.parseInline(e)}</h${i}>
`}hr(e){return`<hr>
`}list(e){const i=e.ordered,s=e.start;let a="";for(let h=0;h<e.items.length;h++){const d=e.items[h];a+=this.listitem(d)}const l=i?"ol":"ul",o=i&&s!==1?' start="'+s+'"':"";return"<"+l+o+`>
`+a+"</"+l+`>
`}listitem(e){var s;let i="";if(e.task){const a=this.checkbox({checked:!!e.checked});e.loose?((s=e.tokens[0])==null?void 0:s.type)==="paragraph"?(e.tokens[0].text=a+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=a+" "+oo(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:a+" ",text:a+" ",escaped:!0}):i+=a+" "}return i+=this.parser.parse(e.tokens,!!e.loose),`<li>${i}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let i="",s="";for(let l=0;l<e.header.length;l++)s+=this.tablecell(e.header[l]);i+=this.tablerow({text:s});let a="";for(let l=0;l<e.rows.length;l++){const o=e.rows[l];s="";for(let h=0;h<o.length;h++)s+=this.tablecell(o[h]);a+=this.tablerow({text:s})}return a&&(a=`<tbody>${a}</tbody>`),`<table>
<thead>
`+i+`</thead>
`+a+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){const i=this.parser.parseInline(e.tokens),s=e.header?"th":"td";return(e.align?`<${s} align="${e.align}">`:`<${s}>`)+i+`</${s}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${oo(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:i,tokens:s}){const a=this.parser.parseInline(s),l=C3(e);if(l===null)return a;e=l;let o='<a href="'+e+'"';return i&&(o+=' title="'+oo(i)+'"'),o+=">"+a+"</a>",o}image({href:e,title:i,text:s,tokens:a}){a&&(s=this.parser.parseInline(a,this.parser.textRenderer));const l=C3(e);if(l===null)return oo(s);e=l;let o=`<img src="${e}" alt="${s}"`;return i&&(o+=` title="${oo(i)}"`),o+=">",o}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:oo(e.text)}}class ES{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}}class dn{constructor(e){wi(this,"options");wi(this,"renderer");wi(this,"textRenderer");this.options=e||Oh,this.options.renderer=this.options.renderer||new av,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ES}static parse(e,i){return new dn(i).parse(e)}static parseInline(e,i){return new dn(i).parseInline(e)}parse(e,i=!0){var a,l;let s="";for(let o=0;o<e.length;o++){const h=e[o];if((l=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&l[h.type]){const m=h,f=this.options.extensions.renderers[m.type].call({parser:this},m);if(f!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(m.type)){s+=f||"";continue}}const d=h;switch(d.type){case"space":{s+=this.renderer.space(d);continue}case"hr":{s+=this.renderer.hr(d);continue}case"heading":{s+=this.renderer.heading(d);continue}case"code":{s+=this.renderer.code(d);continue}case"table":{s+=this.renderer.table(d);continue}case"blockquote":{s+=this.renderer.blockquote(d);continue}case"list":{s+=this.renderer.list(d);continue}case"html":{s+=this.renderer.html(d);continue}case"paragraph":{s+=this.renderer.paragraph(d);continue}case"text":{let m=d,f=this.renderer.text(m);for(;o+1<e.length&&e[o+1].type==="text";)m=e[++o],f+=`
`+this.renderer.text(m);i?s+=this.renderer.paragraph({type:"paragraph",raw:f,text:f,tokens:[{type:"text",raw:f,text:f,escaped:!0}]}):s+=f;continue}default:{const m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}parseInline(e,i=this.renderer){var a,l;let s="";for(let o=0;o<e.length;o++){const h=e[o];if((l=(a=this.options.extensions)==null?void 0:a.renderers)!=null&&l[h.type]){const m=this.options.extensions.renderers[h.type].call({parser:this},h);if(m!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type)){s+=m||"";continue}}const d=h;switch(d.type){case"escape":{s+=i.text(d);break}case"html":{s+=i.html(d);break}case"link":{s+=i.link(d);break}case"image":{s+=i.image(d);break}case"strong":{s+=i.strong(d);break}case"em":{s+=i.em(d);break}case"codespan":{s+=i.codespan(d);break}case"br":{s+=i.br(d);break}case"del":{s+=i.del(d);break}case"text":{s+=i.text(d);break}default:{const m='Token with "'+d.type+'" type was not found.';if(this.options.silent)return console.error(m),"";throw new Error(m)}}}return s}}class hp{constructor(e){wi(this,"options");wi(this,"block");this.options=e||Oh}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}provideLexer(){return this.block?un.lex:un.lexInline}provideParser(){return this.block?dn.parse:dn.parseInline}}wi(hp,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class Zle{constructor(...e){wi(this,"defaults",bS());wi(this,"options",this.setOptions);wi(this,"parse",this.parseMarkdown(!0));wi(this,"parseInline",this.parseMarkdown(!1));wi(this,"Parser",dn);wi(this,"Renderer",av);wi(this,"TextRenderer",ES);wi(this,"Lexer",un);wi(this,"Tokenizer",sv);wi(this,"Hooks",hp);this.use(...e)}walkTokens(e,i){var a,l;let s=[];for(const o of e)switch(s=s.concat(i.call(this,o)),o.type){case"table":{const h=o;for(const d of h.header)s=s.concat(this.walkTokens(d.tokens,i));for(const d of h.rows)for(const m of d)s=s.concat(this.walkTokens(m.tokens,i));break}case"list":{const h=o;s=s.concat(this.walkTokens(h.items,i));break}default:{const h=o;(l=(a=this.defaults.extensions)==null?void 0:a.childTokens)!=null&&l[h.type]?this.defaults.extensions.childTokens[h.type].forEach(d=>{const m=h[d].flat(1/0);s=s.concat(this.walkTokens(m,i))}):h.tokens&&(s=s.concat(this.walkTokens(h.tokens,i)))}}return s}use(...e){const i=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(s=>{const a={...s};if(a.async=this.defaults.async||a.async||!1,s.extensions&&(s.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if("renderer"in l){const o=i.renderers[l.name];o?i.renderers[l.name]=function(...h){let d=l.renderer.apply(this,h);return d===!1&&(d=o.apply(this,h)),d}:i.renderers[l.name]=l.renderer}if("tokenizer"in l){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=i[l.level];o?o.unshift(l.tokenizer):i[l.level]=[l.tokenizer],l.start&&(l.level==="block"?i.startBlock?i.startBlock.push(l.start):i.startBlock=[l.start]:l.level==="inline"&&(i.startInline?i.startInline.push(l.start):i.startInline=[l.start]))}"childTokens"in l&&l.childTokens&&(i.childTokens[l.name]=l.childTokens)}),a.extensions=i),s.renderer){const l=this.defaults.renderer||new av(this.defaults);for(const o in s.renderer){if(!(o in l))throw new Error(`renderer '${o}' does not exist`);if(["options","parser"].includes(o))continue;const h=o,d=s.renderer[h],m=l[h];l[h]=(...f)=>{let b=d.apply(l,f);return b===!1&&(b=m.apply(l,f)),b||""}}a.renderer=l}if(s.tokenizer){const l=this.defaults.tokenizer||new sv(this.defaults);for(const o in s.tokenizer){if(!(o in l))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const h=o,d=s.tokenizer[h],m=l[h];l[h]=(...f)=>{let b=d.apply(l,f);return b===!1&&(b=m.apply(l,f)),b}}a.tokenizer=l}if(s.hooks){const l=this.defaults.hooks||new hp;for(const o in s.hooks){if(!(o in l))throw new Error(`hook '${o}' does not exist`);if(["options","block"].includes(o))continue;const h=o,d=s.hooks[h],m=l[h];hp.passThroughHooks.has(o)?l[h]=f=>{if(this.defaults.async)return Promise.resolve(d.call(l,f)).then(k=>m.call(l,k));const b=d.call(l,f);return m.call(l,b)}:l[h]=(...f)=>{let b=d.apply(l,f);return b===!1&&(b=m.apply(l,f)),b}}a.hooks=l}if(s.walkTokens){const l=this.defaults.walkTokens,o=s.walkTokens;a.walkTokens=function(h){let d=[];return d.push(o.call(this,h)),l&&(d=d.concat(l.call(this,h))),d}}this.defaults={...this.defaults,...a}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,i){return un.lex(e,i??this.defaults)}parser(e,i){return dn.parse(e,i??this.defaults)}parseMarkdown(e){return(s,a)=>{const l={...a},o={...this.defaults,...l},h=this.onError(!!o.silent,!!o.async);if(this.defaults.async===!0&&l.async===!1)return h(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof s>"u"||s===null)return h(new Error("marked(): input parameter is undefined or null"));if(typeof s!="string")return h(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(s)+", string expected"));o.hooks&&(o.hooks.options=o,o.hooks.block=e);const d=o.hooks?o.hooks.provideLexer():e?un.lex:un.lexInline,m=o.hooks?o.hooks.provideParser():e?dn.parse:dn.parseInline;if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(s):s).then(f=>d(f,o)).then(f=>o.hooks?o.hooks.processAllTokens(f):f).then(f=>o.walkTokens?Promise.all(this.walkTokens(f,o.walkTokens)).then(()=>f):f).then(f=>m(f,o)).then(f=>o.hooks?o.hooks.postprocess(f):f).catch(h);try{o.hooks&&(s=o.hooks.preprocess(s));let f=d(s,o);o.hooks&&(f=o.hooks.processAllTokens(f)),o.walkTokens&&this.walkTokens(f,o.walkTokens);let b=m(f,o);return o.hooks&&(b=o.hooks.postprocess(b)),b}catch(f){return h(f)}}}onError(e,i){return s=>{if(s.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const a="<p>An error occurred:</p><pre>"+oo(s.message+"",!0)+"</pre>";return i?Promise.resolve(a):a}if(i)return Promise.reject(s);throw s}}}const wh=new Zle;function kr(t,e){return wh.parse(t,e)}kr.options=kr.setOptions=function(t){return wh.setOptions(t),kr.defaults=wh.defaults,ON(kr.defaults),kr};kr.getDefaults=bS;kr.defaults=Oh;kr.use=function(...t){return wh.use(...t),kr.defaults=wh.defaults,ON(kr.defaults),kr};kr.walkTokens=function(t,e){return wh.walkTokens(t,e)};kr.parseInline=wh.parseInline;kr.Parser=dn;kr.parser=dn.parse;kr.Renderer=av;kr.TextRenderer=ES;kr.Lexer=un;kr.lexer=un.lex;kr.Tokenizer=sv;kr.Hooks=hp;kr.parse=kr;kr.options;kr.setOptions;kr.use;kr.walkTokens;kr.parseInline;dn.parse;un.lex;window.luxon={DateTime:AU,Duration:OU,Interval:EU,Info:CU,Settings:TU};window.moment=$t;window.Popper={createPopper:PR};window.tippy=Hp;window.confetti=a$;window.Croppie=o$;window.Packery=d$;window.imagesLoaded=m$;window.Shepherd=Zc;window.Isotope=_Y;window.mermaid=mle;window.marked=kr;export{TL as $,sp as A,iG as B,GG as C,tS as D,SF as E,ia as F,Tie as G,rae as H,u3 as I,iK as J,hG as K,zu as L,sce as M,Hv as N,RF as O,bk as P,rL as Q,RJ as R,ry as S,Sie as T,$p as U,Li as V,vo as W,AJ as X,CL as Y,gie as Z,q as _,WG as a,iQ as a$,mce as a0,hce as a1,fce as a2,dce as a3,lce as a4,Hk as a5,pce as a6,cce as a7,tu as a8,yce as a9,li as aA,Tce as aB,Ise as aC,Lse as aD,Mse as aE,zre as aF,PJ as aG,Qp as aH,Bre as aI,Ire as aJ,Bk as aK,Rl as aL,Cp as aM,bL as aN,cQ as aO,kh as aP,fie as aQ,TI as aR,Iv as aS,Uv as aT,$y as aU,EI as aV,SI as aW,jte as aX,ci as aY,y5 as aZ,Ra as a_,gce as aa,uce as ab,IG as ac,qp as ad,Jt as ae,mi as af,DF as ag,hse as ah,L4 as ai,Ece as aj,sK as ak,ks as al,Xl as am,Lk as an,oB as ao,Ch as ap,RI as aq,die as ar,ste as as,aie as at,Vk as au,b3 as av,eae as aw,Cce as ax,Oce as ay,Sce as az,HG as b,Ik as b0,L5 as b1,Gp as b2,D5 as b3,oce as b4,EY as b5,uie as b6,sie as b7,$ee as b8,Yk as b9,zv as bA,Sr as bB,zte as ba,mie as bb,Kp as bc,Ju as bd,Wy as be,Kte as bf,Sae as bg,Xp as bh,qy as bi,qte as bj,vI as bk,Gee as bl,Xee as bm,Gc as bn,HL as bo,Kee as bp,Gk as bq,Yee as br,Jee as bs,ed as bt,Gl as bu,IL as bv,Xk as bw,wI as bx,xx as by,pie as bz,fr as c,er as d,FF as e,$s as f,qG as g,ul as h,vn as i,v5 as j,Zu as k,ct as l,DI as m,ace as n,Pce as o,$G as p,VG as q,Ace as r,jG as s,rK as t,Nn as u,Ose as v,Oie as w,vce as x,UG as y,nce as z};
